{"items":[{"tags":["java","spring-boot","netflix-eureka","service-discovery"],"answers":[{"tags":[],"owner":{"account_id":2903767,"reputation":125,"user_id":2489730,"display_name":"Beast"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1620823075,"creation_date":1620823075,"answer_id":67503854,"question_id":65720180,"body_markdown":"I had a similar issue and managed to solve it by adding\r\n\r\n```java\r\n@EnableEurekaClient\r\n```\r\nabove SpintBootApplication in my client.","title":"spring-boot eureka client error &quot;Cannot execute request on any known server&quot;","body":"<p>I had a similar issue and managed to solve it by adding</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableEurekaClient\n</code></pre>\n<p>above SpintBootApplication in my client.</p>\n"},{"tags":[],"owner":{"account_id":18843013,"reputation":9,"user_id":13744016,"display_name":"Ajay Pant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678026319,"creation_date":1678026319,"answer_id":75642902,"question_id":65720180,"body_markdown":"I had a similar issue and managed to solve it by adding\r\n@EnableEurekaServer in your service registry main class.\r\n\r\nFor more info use the below link:\r\n[Enable Eureka Server][1]\r\n\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/service-registration-and-discovery/","title":"spring-boot eureka client error &quot;Cannot execute request on any known server&quot;","body":"<p>I had a similar issue and managed to solve it by adding\n@EnableEurekaServer in your service registry main class.</p>\n<p>For more info use the below link:\n<a href=\"https://spring.io/guides/gs/service-registration-and-discovery/\" rel=\"nofollow noreferrer\">Enable Eureka Server</a></p>\n<p>Thanks</p>\n"}],"owner":{"account_id":470642,"reputation":8064,"user_id":877942,"accept_rate":79,"display_name":"Shades88"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3768,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":67503854,"answer_count":2,"score":4,"last_activity_date":1678026319,"creation_date":1610631946,"question_id":65720180,"body_markdown":"I am trying out eureka with spring-boot. I successfully started eureka-server. It is running at localhost:8761.&lt;br&gt;\r\nNow I tried eureka-client. This is what the code is\r\n```\r\nimport ch.qos.logback.classic.Logger;\r\nimport java.util.List;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.cloud.client.ServiceInstance;\r\nimport org.springframework.cloud.client.discovery.DiscoveryClient;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@SpringBootApplication\r\npublic class ServiceConsumerApplication {\r\n\r\n    public static void main(String[] args) {\r\n            SpringApplication.run(ServiceConsumerApplication.class, args);\r\n    }\r\n    \r\n}\r\n\r\n@RestController\r\nclass EurekaTestController {\r\n    private static Logger LOGGER = (Logger)LoggerFactory.getLogger(EurekaTestController.class);\r\n    \r\n    @Autowired\r\n    DiscoveryClient discoveryClient;\r\n    \r\n    \r\n    @GetMapping(&quot;/service-instances/{applicationName}&quot;)\r\n    public List&lt;ServiceInstance&gt; getServiceInstance(@PathVariable(&quot;applicationName&quot;) String appName) {\r\n        List&lt;ServiceInstance&gt; serviceInstances = discoveryClient.getInstances(appName);\r\n        LOGGER.info(&quot;{}&quot;, serviceInstances);\r\n        return discoveryClient.getInstances(appName);\r\n    }\r\n}\r\n```\r\npom.xml is as below:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.1&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.shades&lt;/groupId&gt;\r\n    &lt;artifactId&gt;service-consumer&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;spring-cloud.version&gt;2020.0.0&lt;/spring-cloud.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spring-milestones&lt;/id&gt;\r\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nproperties defined for this project\r\n\r\n```\r\nserver.port=8080\r\neureka.client.serviceUrl.defaultZone=${EUREKA_URI:http://localhost:8761/eureka}\r\nspring.application.name=eureka-client\r\n```\r\n\r\nNow when I open http://localhost:8761/eureka in browser and I start above eureka-client app, then it shows app in UP status. But when I see in app&#39;s logs this is seen.\r\n\r\n```\r\nRequest execution error. endpoint=DefaultEndpoint{ serviceUrl=&#39;http://localhost:8761/eureka/}, exception=Error while extracting response for type [class org.springframework.cloud.netflix.eureka.http.EurekaApplications] and content type [application/json;charset=UTF-8]; \r\nnested exception is org.springframework.http.converter.HttpMessageNotReadableException: \r\nJSON parse error: Cannot deserialize instance of `java.util.ArrayList&lt;com.netflix.appinfo.InstanceInfo&gt;` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.util.ArrayList&lt;com.netflix.appinfo.InstanceInfo&gt;` out of START_OBJECT token\r\n at [Source: (PushbackInputStream); line: 1, column: 122] (through reference chain: com.netflix.discovery.converters.jackson.builder.ApplicationsJacksonBuilder[&quot;application&quot;]-&gt;java.util.ArrayList[0]-&gt;com.netflix.discovery.shared.Application[&quot;instance&quot;]) stacktrace=org.springframework.web.client.RestClientException: Error while extracting response for type [class org.springframework.cloud.netflix.eureka.http.EurekaApplications] and content type [application/json;charset=UTF-8]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize instance of `java.util.ArrayList&lt;com.netflix.appinfo.InstanceInfo&gt;` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.util.ArrayList&lt;com.netflix.appinfo.InstanceInfo&gt;` out of START_OBJECT token\r\n at [Source: (PushbackInputStream); line: 1, column: 122] (through reference chain: com.netflix.discovery.converters.jackson.builder.ApplicationsJacksonBuilder[&quot;application&quot;]-&gt;java.util.ArrayList[0]-&gt;com.netflix.discovery.shared.Application[&quot;instance&quot;])\r\n```\r\n\r\nLater on this is also seen\r\n\r\n```\r\n\r\n2021-01-14 19:13:20.586  WARN 7970 --- [tbeatExecutor-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: Error while extracting response for type [class com.netflix.appinfo.InstanceInfo] and content type [application/json;charset=UTF-8]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Root name &#39;timestamp&#39; does not match expected (&#39;instance&#39;) for type [simple type, class com.netflix.appinfo.InstanceInfo]; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Root name &#39;timestamp&#39; does not match expected (&#39;instance&#39;) for type [simple type, class com.netflix.appinfo.InstanceInfo]\r\n at [Source: (PushbackInputStream); line: 1, column: 2] (through reference chain: com.netflix.appinfo.InstanceInfo[&quot;timestamp&quot;])\r\n2021-01-14 19:13:20.590 ERROR 7970 --- [tbeatExecutor-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_EUREKA-CLIENT/192.168.43.183:eureka-client:8080 - was unable to send heartbeat!\r\n```\r\n\r\nWhat could this be?&lt;br&gt; Please help","title":"spring-boot eureka client error &quot;Cannot execute request on any known server&quot;","body":"<p>I am trying out eureka with spring-boot. I successfully started eureka-server. It is running at localhost:8761.<br>\nNow I tried eureka-client. This is what the code is</p>\n<pre><code>import ch.qos.logback.classic.Logger;\nimport java.util.List;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.client.ServiceInstance;\nimport org.springframework.cloud.client.discovery.DiscoveryClient;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RestController;\n\n@SpringBootApplication\npublic class ServiceConsumerApplication {\n\n    public static void main(String[] args) {\n            SpringApplication.run(ServiceConsumerApplication.class, args);\n    }\n    \n}\n\n@RestController\nclass EurekaTestController {\n    private static Logger LOGGER = (Logger)LoggerFactory.getLogger(EurekaTestController.class);\n    \n    @Autowired\n    DiscoveryClient discoveryClient;\n    \n    \n    @GetMapping(&quot;/service-instances/{applicationName}&quot;)\n    public List&lt;ServiceInstance&gt; getServiceInstance(@PathVariable(&quot;applicationName&quot;) String appName) {\n        List&lt;ServiceInstance&gt; serviceInstances = discoveryClient.getInstances(appName);\n        LOGGER.info(&quot;{}&quot;, serviceInstances);\n        return discoveryClient.getInstances(appName);\n    }\n}\n</code></pre>\n<p>pom.xml is as below:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.shades&lt;/groupId&gt;\n    &lt;artifactId&gt;service-consumer&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2020.0.0&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>properties defined for this project</p>\n<pre><code>server.port=8080\neureka.client.serviceUrl.defaultZone=${EUREKA_URI:http://localhost:8761/eureka}\nspring.application.name=eureka-client\n</code></pre>\n<p>Now when I open http://localhost:8761/eureka in browser and I start above eureka-client app, then it shows app in UP status. But when I see in app's logs this is seen.</p>\n<pre><code>Request execution error. endpoint=DefaultEndpoint{ serviceUrl='http://localhost:8761/eureka/}, exception=Error while extracting response for type [class org.springframework.cloud.netflix.eureka.http.EurekaApplications] and content type [application/json;charset=UTF-8]; \nnested exception is org.springframework.http.converter.HttpMessageNotReadableException: \nJSON parse error: Cannot deserialize instance of `java.util.ArrayList&lt;com.netflix.appinfo.InstanceInfo&gt;` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.util.ArrayList&lt;com.netflix.appinfo.InstanceInfo&gt;` out of START_OBJECT token\n at [Source: (PushbackInputStream); line: 1, column: 122] (through reference chain: com.netflix.discovery.converters.jackson.builder.ApplicationsJacksonBuilder[&quot;application&quot;]-&gt;java.util.ArrayList[0]-&gt;com.netflix.discovery.shared.Application[&quot;instance&quot;]) stacktrace=org.springframework.web.client.RestClientException: Error while extracting response for type [class org.springframework.cloud.netflix.eureka.http.EurekaApplications] and content type [application/json;charset=UTF-8]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize instance of `java.util.ArrayList&lt;com.netflix.appinfo.InstanceInfo&gt;` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.util.ArrayList&lt;com.netflix.appinfo.InstanceInfo&gt;` out of START_OBJECT token\n at [Source: (PushbackInputStream); line: 1, column: 122] (through reference chain: com.netflix.discovery.converters.jackson.builder.ApplicationsJacksonBuilder[&quot;application&quot;]-&gt;java.util.ArrayList[0]-&gt;com.netflix.discovery.shared.Application[&quot;instance&quot;])\n</code></pre>\n<p>Later on this is also seen</p>\n<pre><code>\n2021-01-14 19:13:20.586  WARN 7970 --- [tbeatExecutor-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failed with message: Error while extracting response for type [class com.netflix.appinfo.InstanceInfo] and content type [application/json;charset=UTF-8]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Root name 'timestamp' does not match expected ('instance') for type [simple type, class com.netflix.appinfo.InstanceInfo]; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Root name 'timestamp' does not match expected ('instance') for type [simple type, class com.netflix.appinfo.InstanceInfo]\n at [Source: (PushbackInputStream); line: 1, column: 2] (through reference chain: com.netflix.appinfo.InstanceInfo[&quot;timestamp&quot;])\n2021-01-14 19:13:20.590 ERROR 7970 --- [tbeatExecutor-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_EUREKA-CLIENT/192.168.43.183:eureka-client:8080 - was unable to send heartbeat!\n</code></pre>\n<p>What could this be?<br> Please help</p>\n"},{"tags":["java","spring","scheduled-tasks"],"comments":[{"owner":{"account_id":1598029,"reputation":499,"user_id":1479668,"accept_rate":36,"display_name":"magulla"},"score":0,"creation_date":1634326462,"post_id":21993464,"comment_id":123003200,"body_markdown":"please mark the answer with &quot;SchedulingConfigurer &quot; as a correct one.","body":"please mark the answer with &quot;SchedulingConfigurer &quot; as a correct one."}],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":1,"up_vote_count":51,"is_accepted":false,"score":50,"last_activity_date":1580926184,"creation_date":1393261474,"answer_id":21994157,"question_id":21993464,"body_markdown":"A method annotated with `@Scheduled` is meant to be run separately, on a different thread at a moment in time.\r\n\r\nIf you haven&#39;t provided a `TaskScheduler` in your configuration, Spring will use \r\n\r\n    Executors.newSingleThreadScheduledExecutor();\r\n\r\nwhich returns an `ScheduledExecutorService` that runs on a single thread. As such, if you have multiple `@Scheduled` methods, although they are scheduled, they each need to wait for the thread to complete executing the previous task. You might keep getting bigger and bigger delays as the the queue fills up faster than it empties out.\r\n\r\n\r\nMake sure you configure your scheduling environment with an appropriate amount of threads.","title":"Does spring @Scheduled annotated methods runs on different threads?","body":"<p>A method annotated with <code>@Scheduled</code> is meant to be run separately, on a different thread at a moment in time.</p>\n\n<p>If you haven't provided a <code>TaskScheduler</code> in your configuration, Spring will use </p>\n\n<pre><code>Executors.newSingleThreadScheduledExecutor();\n</code></pre>\n\n<p>which returns an <code>ScheduledExecutorService</code> that runs on a single thread. As such, if you have multiple <code>@Scheduled</code> methods, although they are scheduled, they each need to wait for the thread to complete executing the previous task. You might keep getting bigger and bigger delays as the the queue fills up faster than it empties out.</p>\n\n<p>Make sure you configure your scheduling environment with an appropriate amount of threads.</p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":4,"up_vote_count":77,"is_accepted":false,"score":73,"last_activity_date":1542108614,"creation_date":1393261550,"answer_id":21994185,"question_id":21993464,"body_markdown":"The [documentation about scheduling][1] says:\r\n\r\n&gt; If you do not provide a pool-size attribute, the default thread pool will only have a single thread.\r\n\r\nSo if you have many scheduled tasks, you should configure the scheduler, as explained in the documentation, to have a pool with more threads, to make sure one long task doesn&#39;t delay all the other ones.\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/integration.html#scheduling","title":"Does spring @Scheduled annotated methods runs on different threads?","body":"<p>The <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/integration.html#scheduling\" rel=\"noreferrer\">documentation about scheduling</a> says:</p>\n\n<blockquote>\n  <p>If you do not provide a pool-size attribute, the default thread pool will only have a single thread.</p>\n</blockquote>\n\n<p>So if you have many scheduled tasks, you should configure the scheduler, as explained in the documentation, to have a pool with more threads, to make sure one long task doesn't delay all the other ones.</p>\n"},{"tags":[],"owner":{"account_id":1028549,"reputation":10245,"user_id":1037316,"accept_rate":86,"display_name":"G. Demecki"},"down_vote_count":3,"up_vote_count":84,"is_accepted":true,"score":81,"last_activity_date":1678025502,"creation_date":1423747230,"answer_id":28478518,"question_id":21993464,"body_markdown":"## Spring 4.x\r\n\r\nCode below shows the simplest possible way to configure scheduler with java config:\r\n\r\n    @Configuration\r\n    @EnableScheduling\r\n    public class SpringConfiguration {\r\n    \r\n    \t@Bean(destroyMethod = &quot;shutdown&quot;)\r\n    \tpublic Executor taskScheduler() {\r\n    \t\treturn Executors.newScheduledThreadPool(5);\r\n    \t}\r\n        ...\r\n\r\nWhen more control is desired, a `@Configuration` class may implement `SchedulingConfigurer`.\r\n\r\n## Spring Boot\r\n\r\nIn Spring Boot there is a simple property to configure the thread pool size:\r\n\r\n    spring.task.scheduling.pool.size=5","title":"Does spring @Scheduled annotated methods runs on different threads?","body":"<h2>Spring 4.x</h2>\n<p>Code below shows the simplest possible way to configure scheduler with java config:</p>\n<pre><code>@Configuration\n@EnableScheduling\npublic class SpringConfiguration {\n\n    @Bean(destroyMethod = &quot;shutdown&quot;)\n    public Executor taskScheduler() {\n        return Executors.newScheduledThreadPool(5);\n    }\n    ...\n</code></pre>\n<p>When more control is desired, a <code>@Configuration</code> class may implement <code>SchedulingConfigurer</code>.</p>\n<h2>Spring Boot</h2>\n<p>In Spring Boot there is a simple property to configure the thread pool size:</p>\n<pre><code>spring.task.scheduling.pool.size=5\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2524970,"reputation":127,"user_id":2194511,"display_name":"sj8515465"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1452135288,"creation_date":1452135288,"answer_id":34646639,"question_id":21993464,"body_markdown":"you can use:\r\n\r\n    @Bean()\r\n    public  ThreadPoolTaskScheduler  taskScheduler(){\r\n        ThreadPoolTaskScheduler taskScheduler = new ThreadPoolTaskScheduler();\r\n        taskScheduler.setPoolSize(2);\r\n        return  taskScheduler;\r\n    }","title":"Does spring @Scheduled annotated methods runs on different threads?","body":"<p>you can use:</p>\n\n<pre><code>@Bean()\npublic  ThreadPoolTaskScheduler  taskScheduler(){\n    ThreadPoolTaskScheduler taskScheduler = new ThreadPoolTaskScheduler();\n    taskScheduler.setPoolSize(2);\n    return  taskScheduler;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":484543,"reputation":308,"user_id":900278,"accept_rate":57,"display_name":"zhaoyou"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1564038622,"creation_date":1564038622,"answer_id":57196197,"question_id":21993464,"body_markdown":"default spring using a single thread for schedule task. you can using @Configuration for class implements SchedulingConfigurer . referce: `https://crmepham.github.io/spring-boot-multi-thread-scheduling/`","title":"Does spring @Scheduled annotated methods runs on different threads?","body":"<p>default spring using a single thread for schedule task. you can using @Configuration for class implements SchedulingConfigurer . referce: <code>https://crmepham.github.io/spring-boot-multi-thread-scheduling/</code></p>\n"},{"tags":[],"owner":{"account_id":188204,"reputation":1132,"user_id":426805,"accept_rate":50,"display_name":"jgreen"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1565810314,"creation_date":1565810314,"answer_id":57500778,"question_id":21993464,"body_markdown":"The [@EnableScheduling][1] annotation provides the key information and how to resolve it:\r\n\r\n&gt; By default, will be searching for an associated scheduler definition:\r\n&gt; either a unique TaskScheduler bean in the context, or a TaskScheduler\r\n&gt; bean named &quot;taskScheduler&quot; otherwise; the same lookup will also be\r\n&gt; performed for a ScheduledExecutorService bean. **If neither of the two\r\n&gt; is resolvable, a local single-threaded default scheduler will be\r\n&gt; created and used within the registrar**.\r\n&gt; \r\n&gt; When more control is desired, a @Configuration class may implement\r\n&gt; SchedulingConfigurer. This allows access to the underlying\r\n&gt; ScheduledTaskRegistrar instance. For example, the following example\r\n&gt; demonstrates how to customize the Executor used to execute scheduled\r\n&gt; tasks:\r\n\r\n     @Configuration\r\n     @EnableScheduling\r\n     public class AppConfig implements SchedulingConfigurer {\r\n    \r\n         @Override\r\n         public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\r\n             taskRegistrar.setScheduler(taskExecutor());\r\n         }\r\n    \r\n         @Bean(destroyMethod=&quot;shutdown&quot;)\r\n         public Executor taskExecutor() {\r\n             return Executors.newScheduledThreadPool(100);\r\n         }\r\n     }\r\n\r\n(emphasis added)\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/EnableScheduling.html","title":"Does spring @Scheduled annotated methods runs on different threads?","body":"<p>The <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/annotation/EnableScheduling.html\" rel=\"noreferrer\">@EnableScheduling</a> annotation provides the key information and how to resolve it:</p>\n\n<blockquote>\n  <p>By default, will be searching for an associated scheduler definition:\n  either a unique TaskScheduler bean in the context, or a TaskScheduler\n  bean named \"taskScheduler\" otherwise; the same lookup will also be\n  performed for a ScheduledExecutorService bean. <strong>If neither of the two\n  is resolvable, a local single-threaded default scheduler will be\n  created and used within the registrar</strong>.</p>\n  \n  <p>When more control is desired, a @Configuration class may implement\n  SchedulingConfigurer. This allows access to the underlying\n  ScheduledTaskRegistrar instance. For example, the following example\n  demonstrates how to customize the Executor used to execute scheduled\n  tasks:</p>\n</blockquote>\n\n<pre><code> @Configuration\n @EnableScheduling\n public class AppConfig implements SchedulingConfigurer {\n\n     @Override\n     public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\n         taskRegistrar.setScheduler(taskExecutor());\n     }\n\n     @Bean(destroyMethod=\"shutdown\")\n     public Executor taskExecutor() {\n         return Executors.newScheduledThreadPool(100);\n     }\n }\n</code></pre>\n\n<p>(emphasis added)</p>\n"},{"tags":[],"owner":{"account_id":250793,"reputation":2496,"user_id":527718,"accept_rate":88,"display_name":"L.Butz"},"down_vote_count":0,"up_vote_count":66,"is_accepted":false,"score":66,"last_activity_date":1660685186,"creation_date":1571932747,"answer_id":58545075,"question_id":21993464,"body_markdown":"#### If you&#39;re using Spring Boot:\r\n\r\nThere is also a property you can set in your application properties file that increases the pool size: \r\n\r\n`spring.task.scheduling.pool.size=10`\r\n\r\nSeems to be there since Spring Boot 2.1.0.","title":"Does spring @Scheduled annotated methods runs on different threads?","body":"<h4>If you're using Spring Boot:</h4>\n<p>There is also a property you can set in your application properties file that increases the pool size:</p>\n<p><code>spring.task.scheduling.pool.size=10</code></p>\n<p>Seems to be there since Spring Boot 2.1.0.</p>\n"},{"tags":[],"owner":{"account_id":11738231,"reputation":356,"user_id":8591363,"display_name":"Ashok Parmar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595510962,"creation_date":1595510962,"answer_id":63055459,"question_id":21993464,"body_markdown":"Using XML file add below lines..\r\n\r\n    &lt;task:scheduler id=&quot;taskScheduler&quot; pool-size=&quot;15&quot; /&gt;\r\n    &lt;task:scheduled-tasks scheduler=&quot;taskScheduler&quot; &gt;\r\n    ....\r\n    &lt;/task:scheduled-tasks&gt;","title":"Does spring @Scheduled annotated methods runs on different threads?","body":"<p>Using XML file add below lines..</p>\n<pre><code>&lt;task:scheduler id=&quot;taskScheduler&quot; pool-size=&quot;15&quot; /&gt;\n&lt;task:scheduled-tasks scheduler=&quot;taskScheduler&quot; &gt;\n....\n&lt;/task:scheduled-tasks&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10980555,"reputation":125,"user_id":10852616,"display_name":"shubham sachan"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1651147098,"creation_date":1651147098,"answer_id":72043269,"question_id":21993464,"body_markdown":"We need to pass our own thread pool scheduler, otherwise it will use default single threaded executor. Have added below code to fix-\r\n\r\n    @Bean\r\n\tpublic Executor scheduledTaskThreadPool() {\r\n\t\tThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n\t\texecutor.setCorePoolSize(10);\r\n\t\texecutor.setMaxPoolSize(10);\r\n\t\texecutor.setThreadNamePrefix(&quot;name-&quot;);\r\n\t\texecutor.initialize();\r\n\t\treturn executor;\r\n\t}","title":"Does spring @Scheduled annotated methods runs on different threads?","body":"<p>We need to pass our own thread pool scheduler, otherwise it will use default single threaded executor. Have added below code to fix-</p>\n<pre><code>@Bean\npublic Executor scheduledTaskThreadPool() {\n    ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n    executor.setCorePoolSize(10);\n    executor.setMaxPoolSize(10);\n    executor.setThreadNamePrefix(&quot;name-&quot;);\n    executor.initialize();\n    return executor;\n}\n</code></pre>\n"}],"owner":{"account_id":1387991,"reputation":7438,"user_id":1319542,"accept_rate":53,"display_name":"froi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105447,"favorite_count":0,"down_vote_count":0,"up_vote_count":111,"accepted_answer_id":28478518,"answer_count":9,"score":111,"last_activity_date":1678025502,"creation_date":1393259648,"question_id":21993464,"body_markdown":"I have several methods annotated with `@Scheduled(fixedDelay=10000)`.\r\n\r\nIn the application context, I have this annotation-driven setup:\r\n\r\n    &lt;task:annotation-driven /&gt;\r\n\r\nThe problem is, sometimes some of the method executions get delayed by seconds and even minutes.\r\n\r\nI&#39;m assuming that even if a method takes a while to finish executing, the other methods would still execute. So I don&#39;t understand the delay.  \r\n\r\nIs there a way to maybe lessen or even remove the delay?","title":"Does spring @Scheduled annotated methods runs on different threads?","body":"<p>I have several methods annotated with <code>@Scheduled(fixedDelay=10000)</code>.</p>\n\n<p>In the application context, I have this annotation-driven setup:</p>\n\n<pre><code>&lt;task:annotation-driven /&gt;\n</code></pre>\n\n<p>The problem is, sometimes some of the method executions get delayed by seconds and even minutes.</p>\n\n<p>I'm assuming that even if a method takes a while to finish executing, the other methods would still execute. So I don't understand the delay.  </p>\n\n<p>Is there a way to maybe lessen or even remove the delay?</p>\n"},{"tags":["java","android","xml","label","visible"],"comments":[{"owner":{"account_id":7707982,"reputation":434,"user_id":9418794,"display_name":"Sovathna Hong"},"score":0,"creation_date":1670376056,"post_id":74663809,"comment_id":131861291,"body_markdown":"All the activity will inherit the label from the application, if you don&#39;t set its label in the manifest file. If you want to set each activity title in code, you can use `setTitle` method. To make it disappear set an empty string. I recommend you use the support action bar with toolbar, you will have more control over the app bar this way. To hide the title with the support action bar `supportActionBar.setDisplayShowTitleEnabled(false)`.","body":"All the activity will inherit the label from the application, if you don&#39;t set its label in the manifest file. If you want to set each activity title in code, you can use <code>setTitle</code> method. To make it disappear set an empty string. I recommend you use the support action bar with toolbar, you will have more control over the app bar this way. To hide the title with the support action bar <code>supportActionBar.setDisplayShowTitleEnabled(false)</code>."}],"answers":[{"tags":[],"owner":{"account_id":18015029,"reputation":53,"user_id":13093732,"display_name":"MossDog"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678024478,"creation_date":1678024478,"answer_id":75642730,"question_id":74663809,"body_markdown":"I eventually realized that one of the classes was extending Activity and all of the others were extending AppCompatActivity which was causing the difference in style.","title":"Why are activity labels showing / not showing in android studio","body":"<p>I eventually realized that one of the classes was extending Activity and all of the others were extending AppCompatActivity which was causing the difference in style.</p>\n"}],"owner":{"account_id":18015029,"reputation":53,"user_id":13093732,"display_name":"MossDog"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":529,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75642730,"answer_count":1,"score":0,"last_activity_date":1678024478,"creation_date":1670038607,"question_id":74663809,"body_markdown":"For some reason, my TaskForm.java activity is showing the value of @strings/app_name as it&#39;s label. I can&#39;t get it to stop showing the label, nor can I get any of my other activities to show the label so I would like to fix this inconsistency. I have looked through my androidManifest.xml, and compared my task_form.xml with other .xmls, and I have no idea what could be causing this. Apologies if this is a simple mistake, I am a beginner in android studio and I have tried to find a solution, any help would be greatly appreciated.\r\n\r\nAndroidManifest.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n&lt;manifest\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.C20487654_Assignment&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:launchMode=&quot;singleTask&quot;\r\n            android:label=&quot;@string/app_name&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;activity android:name=&quot;.NewActivity&quot;&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;activity android:name=&quot;.TaskForm&quot;&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;service\r\n            android:name=&quot;.NotificationService&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;your.app.domain.NotificationService&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\ntask_form.xml (shows label)\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n    &lt;LinearLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;EditText\r\n            android:id=&quot;@+id/idEdtTitle&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;10dp&quot;\r\n            android:hint=&quot;Enter Title&quot; /&gt;\r\n\r\n        &lt;EditText\r\n            android:id=&quot;@+id/idEdtTask&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;10dp&quot;\r\n            android:hint=&quot;Enter Task&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/addTaskBtn&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;10dp&quot;\r\n            android:text=&quot;Add Task&quot;\r\n            android:textAllCaps=&quot;false&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/cancelTaskBtn&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;10dp&quot;\r\n            android:text=&quot;Cancel&quot;\r\n            android:textAllCaps=&quot;false&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n```\r\n\r\nnew_screen.xml (doesn&#39;t show label)\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n&lt;LinearLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:paddingTop=&quot;15dp&quot;\r\n    android:paddingBottom=&quot;15dp&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:paddingBottom=&quot;10dp&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;TextView android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:paddingLeft=&quot;15dp&quot;\r\n            android:text=&quot;Name: &quot;\r\n            android:textSize=&quot;20sp&quot;/&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:id=&quot;@+id/name&quot;/&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:paddingLeft=&quot;30dp&quot;\r\n            android:text=&quot;Status: &quot;\r\n            android:textSize=&quot;20sp&quot; /&gt;\r\n\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/status&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:textSize=&quot;20sp&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:paddingLeft=&quot;15dp&quot;\r\n            android:text=&quot;Description: &quot;\r\n            android:textSize=&quot;20sp&quot;/&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:paddingBottom=&quot;15dp&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:id=&quot;@+id/description&quot;/&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/completeBtn&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:text=&quot;Complete&quot;\r\n            android:visibility=&quot;visible&quot;\r\n            android:backgroundTint=&quot;@color/green&quot;/&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/removeBtn&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:text=&quot;Remove&quot;\r\n            android:visibility=&quot;visible&quot;\r\n            android:backgroundTint=&quot;@color/red&quot;/&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/cancelBtn&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Cancel&quot; /&gt;\r\n\r\n\r\n&lt;/LinearLayout&gt;\r\n","title":"Why are activity labels showing / not showing in android studio","body":"<p>For some reason, my TaskForm.java activity is showing the value of @strings/app_name as it's label. I can't get it to stop showing the label, nor can I get any of my other activities to show the label so I would like to fix this inconsistency. I have looked through my androidManifest.xml, and compared my task_form.xml with other .xmls, and I have no idea what could be causing this. Apologies if this is a simple mistake, I am a beginner in android studio and I have tried to find a solution, any help would be greatly appreciated.</p>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n&lt;manifest\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.C20487654_Assignment&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;\n            android:launchMode=&quot;singleTask&quot;\n            android:label=&quot;@string/app_name&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n\n        &lt;activity android:name=&quot;.NewActivity&quot;&gt;\n        &lt;/activity&gt;\n\n        &lt;activity android:name=&quot;.TaskForm&quot;&gt;\n        &lt;/activity&gt;\n\n        &lt;service\n            android:name=&quot;.NotificationService&quot;\n            android:label=&quot;@string/app_name&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;your.app.domain.NotificationService&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>task_form.xml (shows label)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n    &lt;LinearLayout\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;EditText\n            android:id=&quot;@+id/idEdtTitle&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;10dp&quot;\n            android:hint=&quot;Enter Title&quot; /&gt;\n\n        &lt;EditText\n            android:id=&quot;@+id/idEdtTask&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;10dp&quot;\n            android:hint=&quot;Enter Task&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/addTaskBtn&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;10dp&quot;\n            android:text=&quot;Add Task&quot;\n            android:textAllCaps=&quot;false&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/cancelTaskBtn&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;10dp&quot;\n            android:text=&quot;Cancel&quot;\n            android:textAllCaps=&quot;false&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n</code></pre>\n<p>new_screen.xml (doesn't show label)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:paddingTop=&quot;15dp&quot;\n    android:paddingBottom=&quot;15dp&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:paddingBottom=&quot;10dp&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;TextView android:layout_height=&quot;wrap_content&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:paddingLeft=&quot;15dp&quot;\n            android:text=&quot;Name: &quot;\n            android:textSize=&quot;20sp&quot;/&gt;\n\n        &lt;TextView\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:textSize=&quot;20sp&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:id=&quot;@+id/name&quot;/&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:paddingLeft=&quot;30dp&quot;\n            android:text=&quot;Status: &quot;\n            android:textSize=&quot;20sp&quot; /&gt;\n\n\n        &lt;TextView\n            android:id=&quot;@+id/status&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:textSize=&quot;20sp&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;LinearLayout\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;TextView\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:paddingLeft=&quot;15dp&quot;\n            android:text=&quot;Description: &quot;\n            android:textSize=&quot;20sp&quot;/&gt;\n\n        &lt;TextView\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:paddingBottom=&quot;15dp&quot;\n            android:textSize=&quot;20sp&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:id=&quot;@+id/description&quot;/&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;LinearLayout\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_width=&quot;fill_parent&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/completeBtn&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_weight=&quot;1&quot;\n            android:text=&quot;Complete&quot;\n            android:visibility=&quot;visible&quot;\n            android:backgroundTint=&quot;@color/green&quot;/&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/removeBtn&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_weight=&quot;1&quot;\n            android:text=&quot;Remove&quot;\n            android:visibility=&quot;visible&quot;\n            android:backgroundTint=&quot;@color/red&quot;/&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/cancelBtn&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Cancel&quot; /&gt;\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","c#","base64","byte"],"comments":[{"owner":{"account_id":8238102,"reputation":20380,"user_id":6196568,"display_name":"shingo"},"score":2,"creation_date":1678021998,"post_id":75642438,"comment_id":133448707,"body_markdown":"_&quot;Expected result should be ...&quot;_ Why it&#39;s expected?","body":"<i>&quot;Expected result should be ...&quot;</i> Why it&#39;s expected?"},{"owner":{"account_id":14313149,"reputation":31,"user_id":10338779,"display_name":"Mayuna"},"score":0,"creation_date":1678022297,"post_id":75642438,"comment_id":133448749,"body_markdown":"Java&#39;s byte ranges from -128 to 127, making the value -128 the minimum one. C#&#39;s byte ranges from 0 to 256, making the value 0 the minimum one. For compatibility&#39;s sake, C#&#39;s decoded byte array should consist of zeroes, to hold the same information as Java&#39;s byte array.","body":"Java&#39;s byte ranges from -128 to 127, making the value -128 the minimum one. C#&#39;s byte ranges from 0 to 256, making the value 0 the minimum one. For compatibility&#39;s sake, C#&#39;s decoded byte array should consist of zeroes, to hold the same information as Java&#39;s byte array."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1678022643,"post_id":75642438,"comment_id":133448795,"body_markdown":"*C#&#39;s byte ranges from 0 to 256,*,  Nope, it goes from `0 to 255 inclusive`.  `256 is a 9 bit value.`. \n On most architectures, bytes are eight bits, signed or unsigned.    No byte array with the high order bit set should result in an all zero array when base64 decoded   It sounds like you are expecting some sort of overflow of -127  or 128 resulting in 0.","body":"<i>C#&#39;s byte ranges from 0 to 256,</i>,  Nope, it goes from <code>0 to 255 inclusive</code>.  <code>256 is a 9 bit value.</code>.   On most architectures, bytes are eight bits, signed or unsigned.    No byte array with the high order bit set should result in an all zero array when base64 decoded   It sounds like you are expecting some sort of overflow of -127  or 128 resulting in 0."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1678022785,"post_id":75642438,"comment_id":133448812,"body_markdown":"&quot;*convert Java&#39;s bytes into unsigned ones*&quot; -- what value should `-127` be converted to? to zero? And what should zero be converted to?","body":"&quot;<i>convert Java&#39;s bytes into unsigned ones</i>&quot; -- what value should <code>-127</code> be converted to? to zero? And what should zero be converted to?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1678025627,"post_id":75642438,"comment_id":133449281,"body_markdown":"*I also should mention, that I want also to be able to encode C#&#39;s byte array into Base64 that is correctly readable in Java.* The only thing that would make it *incorrect* would be to interpret the bit pattern incorrectly. That means you must (if you want the same *values* as C#) *unsign* each element with `element &amp; 0xFF`. The same principal applies in the opposite direction","body":"<i>I also should mention, that I want also to be able to encode C#&#39;s byte array into Base64 that is correctly readable in Java.</i> The only thing that would make it <i>incorrect</i> would be to interpret the bit pattern incorrectly. That means you must (if you want the same <i>values</i> as C#) <i>unsign</i> each element with <code>element &amp; 0xFF</code>. The same principal applies in the opposite direction"},{"owner":{"account_id":8238102,"reputation":20380,"user_id":6196568,"display_name":"shingo"},"score":0,"creation_date":1678025966,"post_id":75642438,"comment_id":133449347,"body_markdown":"Maybe you are looking for [sbyte](https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/integral-numeric-types).","body":"Maybe you are looking for <a href=\"https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/integral-numeric-types\" rel=\"nofollow noreferrer\">sbyte</a>."}],"answers":[{"tags":[],"owner":{"account_id":17964733,"reputation":56,"user_id":13054846,"display_name":"Nandan Mathure"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678024127,"creation_date":1678024127,"answer_id":75642691,"question_id":75642438,"body_markdown":"The encoded string &quot;gICAgICAgIA=&quot; stands for binary &quot;10000000 10000000 10000000 10000000 10000000 10000000 10000000 10000000&quot;. https://cryptii.com/pipes/base64-to-binary\r\n\r\nBinary 10000000 = -128 (For signed byte) and 10000000 = 128 (For unsigned byte). In .NET Byte is unsigned and SByte is type for Signed Byte. Ranges are identical to Java.\r\n\r\nUse sbyte[] instead of byte[]. Byte is 8-bit unsigned integer with range of 0 to 255 while sbyte is 8-bit signed integer with range from -128 to 127.\r\n\r\n    using System;\r\n    \t\t\t\t\t\r\n    public class Program\r\n    {\r\n    \tpublic static void Main()\r\n    \t{\r\n    \t\tvar x = Convert.FromBase64String(&quot;gICAgICAgIA=&quot;);\r\n    \t\t// Print as Signed Bytes\r\n    \t\tforeach(var sb in x)\r\n    \t\t{\r\n    \t\t\tConsole.Write($&quot;{(SByte)sb} &quot;);\r\n    \t\t}\r\n    \t\tConsole.WriteLine();\r\n    \t\t// Print as Unsigned Bytes\r\n    \t\tforeach(var b in x)\r\n    \t\t{\r\n    \t\t\tConsole.Write($&quot;{b} &quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nAnd the output is\r\n\r\n    -128 -128 -128 -128 -128 -128 -128 -128 \r\n    128 128 128 128 128 128 128 128 ","title":"How to en/decode Base64 string from Java that has unsigned bytes in C# that has signed bytes?","body":"<p>The encoded string &quot;gICAgICAgIA=&quot; stands for binary &quot;10000000 10000000 10000000 10000000 10000000 10000000 10000000 10000000&quot;. <a href=\"https://cryptii.com/pipes/base64-to-binary\" rel=\"nofollow noreferrer\">https://cryptii.com/pipes/base64-to-binary</a></p>\n<p>Binary 10000000 = -128 (For signed byte) and 10000000 = 128 (For unsigned byte). In .NET Byte is unsigned and SByte is type for Signed Byte. Ranges are identical to Java.</p>\n<p>Use sbyte[] instead of byte[]. Byte is 8-bit unsigned integer with range of 0 to 255 while sbyte is 8-bit signed integer with range from -128 to 127.</p>\n<pre><code>using System;\n                    \npublic class Program\n{\n    public static void Main()\n    {\n        var x = Convert.FromBase64String(&quot;gICAgICAgIA=&quot;);\n        // Print as Signed Bytes\n        foreach(var sb in x)\n        {\n            Console.Write($&quot;{(SByte)sb} &quot;);\n        }\n        Console.WriteLine();\n        // Print as Unsigned Bytes\n        foreach(var b in x)\n        {\n            Console.Write($&quot;{b} &quot;);\n        }\n    }\n}\n</code></pre>\n<p>And the output is</p>\n<pre><code>-128 -128 -128 -128 -128 -128 -128 -128 \n128 128 128 128 128 128 128 128 \n</code></pre>\n"},{"tags":[],"owner":{"account_id":409461,"reputation":2960,"user_id":780733,"display_name":"Vincent Biragnet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678024443,"creation_date":1678024443,"answer_id":75642727,"question_id":75642438,"body_markdown":"The results are coherent:\r\n\r\n    Java: Byte.MIN_VALUE = -128, binary representation: &#39;10000000&#39; \r\n    C#:   byte.MinValue  = 0   , binary representation: &#39;00000000&#39;\r\n\r\n\r\nYou cannot expect the same base 64 string. Somewhere, you lack a translation between the two different types you are using. ","title":"How to en/decode Base64 string from Java that has unsigned bytes in C# that has signed bytes?","body":"<p>The results are coherent:</p>\n<pre><code>Java: Byte.MIN_VALUE = -128, binary representation: '10000000' \nC#:   byte.MinValue  = 0   , binary representation: '00000000'\n</code></pre>\n<p>You cannot expect the same base 64 string. Somewhere, you lack a translation between the two different types you are using.</p>\n"}],"owner":{"account_id":14313149,"reputation":31,"user_id":10338779,"display_name":"Mayuna"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1678024443,"creation_date":1678021840,"question_id":75642438,"body_markdown":"A byte array in Java of the length of 8 with values `Byte.MIN_VALUE`:\r\n```\r\nbyte[] bytes = new byte[8];\r\nArrays.fill(bytes, Byte.MIN_VALUE);\r\n// [-127, -127, -127, -127, -127, -127, -127, -127]\r\nstring base64string = Base64.getEncoder().encodeToString(bytes);\r\n```\r\nwhen I encode this byte array into Base64, it results into: `gICAgICAgIA=`\r\n\r\nHowever, when C# decodes this array, it results into `[128, 128, 128, 128, 128, 128, 128, 128]`, because C#&#39;s byte is unsigned. **Expected result should be** `[0, 0, 0, 0, 0, 0, 0, 0]`.\r\n\r\nC#&#39;s byte array of `byte.MinValue` results in the Base64 string `AAAAAAAAAAA=` and Java decodes this Base64 string into `[0, 0, 0, 0, 0, 0, 0, 0]` instead of the expected result `[-127, -127, -127, -127, -127, -127, -127, -127]`.\r\n\r\nThe decoding in C# is done with `Convert.ToBase64String(bytes)`.\r\n\r\nIs there a way to convert Java&#39;s bytes into unsigned ones and encode them in Base64 so that C# can decode them correctly? Or is there a way for C#  to convert Java&#39;s Base64 encoded byte array of unsigned bytes into a Base64 encoded byte array of signed bytes?\r\n\r\nI also should mention, that I want also to be able to encode C#&#39;s byte array into Base64 that is correctly readable in Java.","title":"How to en/decode Base64 string from Java that has unsigned bytes in C# that has signed bytes?","body":"<p>A byte array in Java of the length of 8 with values <code>Byte.MIN_VALUE</code>:</p>\n<pre><code>byte[] bytes = new byte[8];\nArrays.fill(bytes, Byte.MIN_VALUE);\n// [-127, -127, -127, -127, -127, -127, -127, -127]\nstring base64string = Base64.getEncoder().encodeToString(bytes);\n</code></pre>\n<p>when I encode this byte array into Base64, it results into: <code>gICAgICAgIA=</code></p>\n<p>However, when C# decodes this array, it results into <code>[128, 128, 128, 128, 128, 128, 128, 128]</code>, because C#'s byte is unsigned. <strong>Expected result should be</strong> <code>[0, 0, 0, 0, 0, 0, 0, 0]</code>.</p>\n<p>C#'s byte array of <code>byte.MinValue</code> results in the Base64 string <code>AAAAAAAAAAA=</code> and Java decodes this Base64 string into <code>[0, 0, 0, 0, 0, 0, 0, 0]</code> instead of the expected result <code>[-127, -127, -127, -127, -127, -127, -127, -127]</code>.</p>\n<p>The decoding in C# is done with <code>Convert.ToBase64String(bytes)</code>.</p>\n<p>Is there a way to convert Java's bytes into unsigned ones and encode them in Base64 so that C# can decode them correctly? Or is there a way for C#  to convert Java's Base64 encoded byte array of unsigned bytes into a Base64 encoded byte array of signed bytes?</p>\n<p>I also should mention, that I want also to be able to encode C#'s byte array into Base64 that is correctly readable in Java.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1677978495,"post_id":75639335,"comment_id":133444152,"body_markdown":"Add the import manually.  Look it up in the javadocs (Google for &quot;android javadoc assetmanager&quot;) and use the full classname that the javadoc tells you.","body":"Add the import manually.  Look it up in the javadocs (Google for &quot;android javadoc assetmanager&quot;) and use the full classname that the javadoc tells you."}],"answers":[{"tags":[],"owner":{"account_id":14547099,"reputation":1,"user_id":10507064,"display_name":"Nadav Meir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678023725,"creation_date":1678023725,"answer_id":75642635,"question_id":75639335,"body_markdown":"As stated in the comments, try to manually add the import yourself. \r\nFor me, the import was: import android.content.res.AssetManager\r\n\r\n","title":"Cannot resolve symbol &#39;AssetManager&#39; in Android Studio Java","body":"<p>As stated in the comments, try to manually add the import yourself.\nFor me, the import was: import android.content.res.AssetManager</p>\n"}],"owner":{"account_id":9969173,"reputation":1133,"user_id":7375877,"display_name":"Mi Po"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1678023725,"creation_date":1677972918,"question_id":75639335,"body_markdown":"I cannot find what import I need to add AssetManager to my application\r\n\r\nAndroid Studio is not automatically adding imports\r\n\r\nWhat do I need to do to make this snippet of code work? \r\n\r\n        AssetManager assetManager = m_context.getAssets();\r\n        InputStream ims = assetManager.open(&quot;helloworld.txt&quot;);","title":"Cannot resolve symbol &#39;AssetManager&#39; in Android Studio Java","body":"<p>I cannot find what import I need to add AssetManager to my application</p>\n<p>Android Studio is not automatically adding imports</p>\n<p>What do I need to do to make this snippet of code work?</p>\n<pre><code>    AssetManager assetManager = m_context.getAssets();\n    InputStream ims = assetManager.open(&quot;helloworld.txt&quot;);\n</code></pre>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":1217812,"reputation":777,"user_id":3887392,"display_name":"Andy Preston"},"score":0,"creation_date":1678017010,"post_id":75641988,"comment_id":133448042,"body_markdown":"Please read [Why should I not upload images of code/data/errors?](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors) to see how you can improve your question.","body":"Please read <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors\">Why should I not upload images of code/data/errors?</a> to see how you can improve your question."}],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678017422,"creation_date":1678017422,"answer_id":75642054,"question_id":75641988,"body_markdown":"The name you defined doesn&#39;t match what you defined.\r\n\r\n```\r\n&#39;restaurant-service.food_menu&#39;  != @Table(name = &quot;FoodMenu&quot;)\r\n```\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;FoodMenu&quot;)\r\n    public class FoodMenu {\r\n    . . . .\r\n","title":"Table &#39;restaurant-service.food_menu&#39; doesn&#39;t exist","body":"<p>The name you defined doesn't match what you defined.</p>\n<pre><code>'restaurant-service.food_menu'  != @Table(name = &quot;FoodMenu&quot;)\n</code></pre>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;FoodMenu&quot;)\npublic class FoodMenu {\n. . . .\n</code></pre>\n"}],"owner":{"account_id":21534179,"reputation":3,"user_id":15873107,"display_name":"Lamvegan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75642054,"answer_count":1,"score":-1,"last_activity_date":1678023290,"creation_date":1678016660,"question_id":75641988,"body_markdown":"I need to get all information about restaurant, but when Im doing a request, I have an error   Table &#39;restaurant-service.food_menu&#39; doesn&#39;t exist, so I just don&#39;t know how to fix it, but my post request is working excellent [here is my database][1]\r\n\r\n\r\n\r\nDomain\r\n\r\nRestaurant\r\n\r\n        @Getter\r\n        @Setter\r\n        @NoArgsConstructor\r\n        @Entity\r\n        @Table(name = &quot;Restaurant&quot;)\r\n        public class Restaurant {\r\n        \r\n            @Id\r\n            @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n            @Column(name = &quot;RESTAURANT_ID&quot;)\r\n            private Long id;\r\n        \r\n            private String restaurantName;\r\n        \r\n            @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;restaurant&quot;)\r\n            private List&lt;FoodMenu&gt; menu;\r\n        \r\n            @OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n            @JoinColumn(name = &quot;ADDRESS_ID&quot;)\r\n            private Address address;\r\n        \r\n        }\r\n\r\nFoodMenu\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;FoodMenu&quot;)\r\n    public class FoodMenu {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;FOOD_MENU_ID&quot;)\r\n        private Long id;\r\n    \r\n        private String foodName;\r\n    \r\n        private String foodDescription;\r\n    \r\n        private BigDecimal foodPrice;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;RESTAURANT_ID&quot;)\r\n        private Restaurant restaurant;\r\n    \r\n    }\r\n\r\nService\r\n \r\n\r\n       @Service\r\n        @Transactional\r\n        public class RestaurantService {\r\n            @Autowired\r\n            private RestaurantRepository restaurantRepository;\r\n        \r\n            public void saveRestaurant(Restaurant restaurant){\r\n                 restaurantRepository.save(restaurant);\r\n            }\r\n        \r\n            public List&lt;Restaurant&gt; allRestaurants(){\r\n                return restaurantRepository.findAll();\r\n            }\r\n        }\r\n\r\nController\r\n   \r\n\r\n     @RestController\r\n        public class RestaurantController {\r\n        \r\n            @Autowired\r\n            private RestaurantService restaurantService;\r\n        \r\n            @PostMapping(&quot;/create&quot;)\r\n            public void createUploadRestaurant(@RequestBody Restaurant restaurant){\r\n              restaurantService.saveRestaurant(restaurant);\r\n            }\r\n        \r\n            @GetMapping(&quot;/showAllRestaurants&quot;)\r\n            public List&lt;Restaurant&gt; showRestaurants(){\r\n                return restaurantService.allRestaurants();\r\n            }\r\n        }\r\n\r\n  [1]: https://i.stack.imgur.com/xfF9b.png\r\n\r\n\r\n","title":"Table &#39;restaurant-service.food_menu&#39; doesn&#39;t exist","body":"<p>I need to get all information about restaurant, but when Im doing a request, I have an error   Table 'restaurant-service.food_menu' doesn't exist, so I just don't know how to fix it, but my post request is working excellent <a href=\"https://i.stack.imgur.com/xfF9b.png\" rel=\"nofollow noreferrer\">here is my database</a></p>\n<p>Domain</p>\n<p>Restaurant</p>\n<pre><code>    @Getter\n    @Setter\n    @NoArgsConstructor\n    @Entity\n    @Table(name = &quot;Restaurant&quot;)\n    public class Restaurant {\n    \n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        @Column(name = &quot;RESTAURANT_ID&quot;)\n        private Long id;\n    \n        private String restaurantName;\n    \n        @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;restaurant&quot;)\n        private List&lt;FoodMenu&gt; menu;\n    \n        @OneToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n        @JoinColumn(name = &quot;ADDRESS_ID&quot;)\n        private Address address;\n    \n    }\n</code></pre>\n<p>FoodMenu</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;FoodMenu&quot;)\npublic class FoodMenu {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;FOOD_MENU_ID&quot;)\n    private Long id;\n\n    private String foodName;\n\n    private String foodDescription;\n\n    private BigDecimal foodPrice;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;RESTAURANT_ID&quot;)\n    private Restaurant restaurant;\n\n}\n</code></pre>\n<p>Service</p>\n<pre><code>   @Service\n    @Transactional\n    public class RestaurantService {\n        @Autowired\n        private RestaurantRepository restaurantRepository;\n    \n        public void saveRestaurant(Restaurant restaurant){\n             restaurantRepository.save(restaurant);\n        }\n    \n        public List&lt;Restaurant&gt; allRestaurants(){\n            return restaurantRepository.findAll();\n        }\n    }\n</code></pre>\n<p>Controller</p>\n<pre><code> @RestController\n    public class RestaurantController {\n    \n        @Autowired\n        private RestaurantService restaurantService;\n    \n        @PostMapping(&quot;/create&quot;)\n        public void createUploadRestaurant(@RequestBody Restaurant restaurant){\n          restaurantService.saveRestaurant(restaurant);\n        }\n    \n        @GetMapping(&quot;/showAllRestaurants&quot;)\n        public List&lt;Restaurant&gt; showRestaurants(){\n            return restaurantService.allRestaurants();\n        }\n    }\n</code></pre>\n"},{"tags":["java","jira"],"comments":[{"owner":{"account_id":1590699,"reputation":3309,"user_id":1474069,"accept_rate":80,"display_name":"Carlitos Way"},"score":0,"creation_date":1676868901,"post_id":75460778,"comment_id":133217417,"body_markdown":"How are you running such example, from your favorite IDE?? or from command line?","body":"How are you running such example, from your favorite IDE?? or from command line?"},{"owner":{"account_id":8013069,"reputation":1135,"user_id":6044191,"accept_rate":59,"display_name":"Ihsan Haikal"},"score":0,"creation_date":1676971189,"post_id":75460778,"comment_id":133239466,"body_markdown":"@CarlitosWay from intellij but i dont see that as a problem","body":"@CarlitosWay from intellij but i dont see that as a problem"},{"owner":{"account_id":16482287,"reputation":558,"user_id":11908728,"display_name":"8bit"},"score":0,"creation_date":1676978293,"post_id":75460778,"comment_id":133241590,"body_markdown":"Can you add all of the error Message, especially the end?","body":"Can you add all of the error Message, especially the end?"},{"owner":{"account_id":327423,"reputation":3296,"user_id":649794,"accept_rate":100,"display_name":"Robert"},"score":0,"creation_date":1677245572,"post_id":75460778,"comment_id":133304876,"body_markdown":"Is there any reason you&#39;re listing projects using REST API? ProjectService::getAllProjects can do the same","body":"Is there any reason you&#39;re listing projects using REST API? ProjectService::getAllProjects can do the same"}],"answers":[{"tags":[],"owner":{"account_id":1590699,"reputation":3309,"user_id":1474069,"accept_rate":80,"display_name":"Carlitos Way"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1677023858,"creation_date":1677023858,"answer_id":75527051,"question_id":75460778,"body_markdown":"This is a long shot, but I&#39;ll suggest to change the scope of the library *fugue* from `provided` to `compile` and try again ...","title":"NoClassDefFoundError io/atlassian/fugue/Suppliers JIRA","body":"<p>This is a long shot, but I'll suggest to change the scope of the library <em>fugue</em> from <code>provided</code> to <code>compile</code> and try again ...</p>\n"},{"tags":[],"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yıldız"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677974813,"creation_date":1677134795,"answer_id":75541413,"question_id":75460778,"body_markdown":"The `io.atlassian.fugue.Suppliers` class is part of a different artifact that is not included in the JRJC maven dependencies. This causing exception at runtime.\r\n\r\nTry to add the following dependencies to your `pom.xml`:\r\n\r\n```\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\r\n&lt;artifactId&gt;jira-rest-java-client-core&lt;/artifactId&gt;\r\n&lt;version&gt;5.2.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;io.atlassian.fugue&lt;/groupId&gt;\r\n&lt;artifactId&gt;fugue&lt;/artifactId&gt;\r\n&lt;version&gt;4.7.2&lt;/version&gt;\r\n&lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```","title":"NoClassDefFoundError io/atlassian/fugue/Suppliers JIRA","body":"<p>The <code>io.atlassian.fugue.Suppliers</code> class is part of a different artifact that is not included in the JRJC maven dependencies. This causing exception at runtime.</p>\n<p>Try to add the following dependencies to your <code>pom.xml</code>:</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\n&lt;artifactId&gt;jira-rest-java-client-core&lt;/artifactId&gt;\n&lt;version&gt;5.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n&lt;dependency&gt;\n&lt;groupId&gt;io.atlassian.fugue&lt;/groupId&gt;\n&lt;artifactId&gt;fugue&lt;/artifactId&gt;\n&lt;version&gt;4.7.2&lt;/version&gt;\n&lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":118571,"reputation":47112,"user_id":309683,"accept_rate":68,"display_name":"Behrang Saeedzadeh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677296238,"creation_date":1677296238,"answer_id":75563135,"question_id":75460778,"body_markdown":"This is working for me:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;untitled1&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;Atlassian&lt;/id&gt;\r\n            &lt;url&gt;https://packages.atlassian.com/mvn/maven-atlassian-external/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jira-rest-java-client-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jira-rest-java-client-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.atlassian.fugue&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fugue&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nAs mentioned in https://stackoverflow.com/a/75527051/309683, make sure `fuge` is not marked as `provided` if you are running the app outside Jira (e.g. not a plugin/extension).\r\n\r\nThen this code should work:\r\n\r\n```java\r\npackage org.example;\r\n\r\nimport com.atlassian.jira.rest.client.api.JiraRestClient;\r\nimport com.atlassian.jira.rest.client.api.JiraRestClientFactory;\r\nimport com.atlassian.jira.rest.client.api.domain.BasicProject;\r\nimport com.atlassian.jira.rest.client.internal.async.AsynchronousJiraRestClientFactory;\r\n\r\nimport java.net.URI;\r\n\r\npublic class Main {\r\n    private static final String JIRA_URL = &quot;https://your-jira-url.com&quot;;\r\n    private static final String JIRA_USERNAME = &quot;your-jira-username&quot;;\r\n    private static final String JIRA_PASSWORD = &quot;your-jira-password&quot;;\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        URI jiraServerUri = new URI(JIRA_URL);\r\n        JiraRestClientFactory factory = new AsynchronousJiraRestClientFactory();\r\n        try (JiraRestClient client = factory.createWithBasicHttpAuthentication(jiraServerUri, JIRA_USERNAME, JIRA_PASSWORD)) {\r\n            Iterable&lt;BasicProject&gt; projects = client.getProjectClient().getAllProjects().claim();\r\n            for (BasicProject project : projects) {\r\n                System.out.println(project.getKey() + &quot;: &quot; + project.getName());\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"NoClassDefFoundError io/atlassian/fugue/Suppliers JIRA","body":"<p>This is working for me:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;untitled1&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;Atlassian&lt;/id&gt;\n            &lt;url&gt;https://packages.atlassian.com/mvn/maven-atlassian-external/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;16&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;16&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\n            &lt;artifactId&gt;jira-rest-java-client-core&lt;/artifactId&gt;\n            &lt;version&gt;5.2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\n            &lt;artifactId&gt;jira-rest-java-client-api&lt;/artifactId&gt;\n            &lt;version&gt;5.2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.atlassian.fugue&lt;/groupId&gt;\n            &lt;artifactId&gt;fugue&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>As mentioned in <a href=\"https://stackoverflow.com/a/75527051/309683\">https://stackoverflow.com/a/75527051/309683</a>, make sure <code>fuge</code> is not marked as <code>provided</code> if you are running the app outside Jira (e.g. not a plugin/extension).</p>\n<p>Then this code should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport com.atlassian.jira.rest.client.api.JiraRestClient;\nimport com.atlassian.jira.rest.client.api.JiraRestClientFactory;\nimport com.atlassian.jira.rest.client.api.domain.BasicProject;\nimport com.atlassian.jira.rest.client.internal.async.AsynchronousJiraRestClientFactory;\n\nimport java.net.URI;\n\npublic class Main {\n    private static final String JIRA_URL = &quot;https://your-jira-url.com&quot;;\n    private static final String JIRA_USERNAME = &quot;your-jira-username&quot;;\n    private static final String JIRA_PASSWORD = &quot;your-jira-password&quot;;\n\n    public static void main(String[] args) throws Exception {\n        URI jiraServerUri = new URI(JIRA_URL);\n        JiraRestClientFactory factory = new AsynchronousJiraRestClientFactory();\n        try (JiraRestClient client = factory.createWithBasicHttpAuthentication(jiraServerUri, JIRA_USERNAME, JIRA_PASSWORD)) {\n            Iterable&lt;BasicProject&gt; projects = client.getProjectClient().getAllProjects().claim();\n            for (BasicProject project : projects) {\n                System.out.println(project.getKey() + &quot;: &quot; + project.getName());\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8013069,"reputation":1135,"user_id":6044191,"accept_rate":59,"display_name":"Ihsan Haikal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":672,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":75563135,"answer_count":3,"score":0,"last_activity_date":1678022568,"creation_date":1676468859,"question_id":75460778,"body_markdown":"I am trying to list JIRA projects with the Java SDK following https://www.baeldung.com/jira-rest-api (I could not find another example in Google for this) with the following code:\r\n\r\n    public static void main(String[] args) {\r\n    \r\n    \r\n        JiraRestClient jiraRestClient = getJiraRestClient(URI.create(&quot;uri&quot;),&quot;username&quot;,&quot;token&quot;);\r\n    \r\n    \r\n        try {\r\n            Iterable&lt;BasicProject&gt; projects =  jiraRestClient.getProjectClient().getAllProjects().get();\r\n            projects.forEach(basicProject -&gt; System.out.println(basicProject.getName()));\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (ExecutionException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n    \r\n    private static JiraRestClient getJiraRestClient(URI uri, String username, String password) {\r\n        return new AsynchronousJiraRestClientFactory()\r\n                .createWithBasicHttpAuthentication(uri, username, password);\r\n    }\r\n\r\nHowever, it returns this error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: io/atlassian/fugue/Suppliers\r\n    \tat com.atlassian.httpclient.apache.httpcomponents.ApacheAsyncHttpClient.&lt;clinit&gt;(ApacheAsyncHttpClient.java:80)\r\n    \tat com.atlassian.httpclient.apache.httpcomponents.DefaultHttpClientFactory.doCreate(DefaultHttpClientFactory.java:61)\r\n    \tat com.atlassian.httpclient.apache.httpcomponents.DefaultHttpClientFactory.create(DefaultHttpClientFactory.java:36)\r\n    \tat com.atlassian.jira.rest.client.internal.async.AsynchronousHttpClientFactory.createClient(AsynchronousHttpClientFactory.java:68)\r\n    \tat com.atlassian.jira.rest.client.internal.async.AsynchronousJiraRestClientFactory.create(AsynchronousJiraRestClientFactory.java:36)\r\n    \tat com.atlassian.jira.rest.client.internal.async.AsynchronousJiraRestClientFactory.createWithBasicHttpAuthentication(AsynchronousJiraRestClientFactory.java:42)\r\n    \tat JiraPlayground.getJiraRestClient(JiraPlayground.java:30)\r\n    \tat JiraPlayground.main(JiraPlayground.java:13)\r\n    Caused by: java.lang.ClassNotFoundException: io.atlassian.fugue.Suppliers\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \t... 8 more\r\n\r\nHere are my dependencies:\r\n\r\n \r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jira-rest-java-client-core&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/io.atlassian.fugue/fugue --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.atlassian.fugue&lt;/groupId&gt;\r\n                &lt;artifactId&gt;fugue&lt;/artifactId&gt;\r\n                &lt;version&gt;5.0.0&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n\r\nAny idea how to run the code correctly?","title":"NoClassDefFoundError io/atlassian/fugue/Suppliers JIRA","body":"<p>I am trying to list JIRA projects with the Java SDK following <a href=\"https://www.baeldung.com/jira-rest-api\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jira-rest-api</a> (I could not find another example in Google for this) with the following code:</p>\n<pre><code>public static void main(String[] args) {\n\n\n    JiraRestClient jiraRestClient = getJiraRestClient(URI.create(&quot;uri&quot;),&quot;username&quot;,&quot;token&quot;);\n\n\n    try {\n        Iterable&lt;BasicProject&gt; projects =  jiraRestClient.getProjectClient().getAllProjects().get();\n        projects.forEach(basicProject -&gt; System.out.println(basicProject.getName()));\n    } catch (InterruptedException e) {\n        throw new RuntimeException(e);\n    } catch (ExecutionException e) {\n        throw new RuntimeException(e);\n    }\n}\n\nprivate static JiraRestClient getJiraRestClient(URI uri, String username, String password) {\n    return new AsynchronousJiraRestClientFactory()\n            .createWithBasicHttpAuthentication(uri, username, password);\n}\n</code></pre>\n<p>However, it returns this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: io/atlassian/fugue/Suppliers\n    at com.atlassian.httpclient.apache.httpcomponents.ApacheAsyncHttpClient.&lt;clinit&gt;(ApacheAsyncHttpClient.java:80)\n    at com.atlassian.httpclient.apache.httpcomponents.DefaultHttpClientFactory.doCreate(DefaultHttpClientFactory.java:61)\n    at com.atlassian.httpclient.apache.httpcomponents.DefaultHttpClientFactory.create(DefaultHttpClientFactory.java:36)\n    at com.atlassian.jira.rest.client.internal.async.AsynchronousHttpClientFactory.createClient(AsynchronousHttpClientFactory.java:68)\n    at com.atlassian.jira.rest.client.internal.async.AsynchronousJiraRestClientFactory.create(AsynchronousJiraRestClientFactory.java:36)\n    at com.atlassian.jira.rest.client.internal.async.AsynchronousJiraRestClientFactory.createWithBasicHttpAuthentication(AsynchronousJiraRestClientFactory.java:42)\n    at JiraPlayground.getJiraRestClient(JiraPlayground.java:30)\n    at JiraPlayground.main(JiraPlayground.java:13)\nCaused by: java.lang.ClassNotFoundException: io.atlassian.fugue.Suppliers\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 8 more\n</code></pre>\n<p>Here are my dependencies:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\n            &lt;artifactId&gt;jira-rest-java-client-core&lt;/artifactId&gt;\n            &lt;version&gt;5.2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/io.atlassian.fugue/fugue --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.atlassian.fugue&lt;/groupId&gt;\n            &lt;artifactId&gt;fugue&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Any idea how to run the code correctly?</p>\n"},{"tags":["java","android","flutter","android-studio","dart"],"comments":[{"owner":{"account_id":14365404,"reputation":2987,"user_id":10376604,"display_name":"GrahamD"},"score":0,"creation_date":1678012728,"post_id":75640888,"comment_id":133447397,"body_markdown":"Your java home is still pointing to the directory you installed java 17 in. It needs to point to the java installed with Android Studio.","body":"Your java home is still pointing to the directory you installed java 17 in. It needs to point to the java installed with Android Studio."},{"owner":{"account_id":6212257,"reputation":2043,"user_id":4838216,"accept_rate":48,"display_name":"whatwhatwhat"},"score":0,"creation_date":1678050586,"post_id":75640888,"comment_id":133453714,"body_markdown":"@GrahamD how do I switch it? I tried looking in Project Structure but it doesn&#39;t let me set my own value for the Java SDK field. It only lets me pick from a dropdown and the options are jbr-11 and Android Studio default JDK.","body":"@GrahamD how do I switch it? I tried looking in Project Structure but it doesn&#39;t let me set my own value for the Java SDK field. It only lets me pick from a dropdown and the options are jbr-11 and Android Studio default JDK."},{"owner":{"account_id":14365404,"reputation":2987,"user_id":10376604,"display_name":"GrahamD"},"score":0,"creation_date":1678087912,"post_id":75640888,"comment_id":133458480,"body_markdown":"Java home is a windows environment variable so you need to edit it yourself. This article may help but basically you need to find the path of the jdk that AS has installed and edit Java home env variable to point at it. https://www-geeksforgeeks-org.cdn.ampproject.org/v/s/www.geeksforgeeks.org/how-to-set-java-sdk-path-in-android-studio/amp/?amp_gsa=1&amp;amp_js_v=a9&amp;usqp=mq331AQKKAFQArABIIACAw%3D%3D#amp_tf=From%20%251%24s&amp;aoh=16780877183564&amp;referrer=https%3A%2F%2Fwww.google.com&amp;ampshare=https%3A%2F%2Fwww.geeksforgeeks.org%2Fhow-to-set-java-sdk-path-in-android-studio%2F","body":"Java home is a windows environment variable so you need to edit it yourself. This article may help but basically you need to find the path of the jdk that AS has installed and edit Java home env variable to point at it. <a href=\"https://www-geeksforgeeks-org.cdn.ampproject.org/v/s/www.geeksforgeeks.org/how-to-set-java-sdk-path-in-android-studio/amp/?amp_gsa=1&amp;amp_js_v=a9&amp;usqp=mq331AQKKAFQArABIIACAw%3D%3D#amp_tf=From%20%251%24s&amp;aoh=16780877183564&amp;referrer=https%3A%2F%2Fwww.google.com&amp;ampshare=https%3A%2F%2Fwww.geeksforgeeks.org%2Fhow-to-set-java-sdk-path-in-android-studio%2F\" rel=\"nofollow noreferrer\">www-geeksforgeeks-org.cdn.ampproject.org/v/s/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":15549653,"reputation":112,"user_id":11217742,"display_name":"Sukaina Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678022051,"creation_date":1678022051,"answer_id":75642463,"question_id":75640888,"body_markdown":"&gt; Go To android studio directory (Default C:\\Program\r\n&gt; Files\\Android\\Android Studio) remove jre folder run cmd as\r\n&gt; administrator\r\n\r\n ***that&#39;s work for me***\r\n[check answers here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75108953/11217742","title":"After applying Electric Eel flutter fix: The supplied javaHome seems to be invalid. I cannot find the java executable","body":"<blockquote>\n<p>Go To android studio directory (Default C:\\Program\nFiles\\Android\\Android Studio) remove jre folder run cmd as\nadministrator</p>\n</blockquote>\n<p><em><strong>that's work for me</strong></em>\n<a href=\"https://stackoverflow.com/a/75108953/11217742\">check answers here</a></p>\n"}],"owner":{"account_id":6212257,"reputation":2043,"user_id":4838216,"accept_rate":48,"display_name":"whatwhatwhat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678022051,"creation_date":1678003690,"question_id":75640888,"body_markdown":"I installed flutter 3.7.6 which supposedly fixes the error it was causing in Electric Eel related to the `JAVA_HOME` env variable. I am now getting the following error:\r\n\r\n    The supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Java\\jdk-17\\bin\\java.exe\r\n\r\nI&#39;m told that I no longer need to have a custom installation of Java 17 to fix the Electric Eel problem, so Android Studio shouldn&#39;t care about this directory anymore. How do I fix this?","title":"After applying Electric Eel flutter fix: The supplied javaHome seems to be invalid. I cannot find the java executable","body":"<p>I installed flutter 3.7.6 which supposedly fixes the error it was causing in Electric Eel related to the <code>JAVA_HOME</code> env variable. I am now getting the following error:</p>\n<pre><code>The supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Java\\jdk-17\\bin\\java.exe\n</code></pre>\n<p>I'm told that I no longer need to have a custom installation of Java 17 to fix the Electric Eel problem, so Android Studio shouldn't care about this directory anymore. How do I fix this?</p>\n"},{"tags":["java","file-io","filenotfoundexception","invocationtargetexception"],"answers":[{"tags":[],"owner":{"account_id":3583855,"reputation":150,"user_id":2991440,"display_name":"krishnan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678022010,"creation_date":1678022010,"answer_id":75642458,"question_id":75642154,"body_markdown":"For reading userData.json with the above project structure\r\n\r\n    JSONObject jsonObject = new JSONObject(new JSONTokener(new FileReader(&quot;userData.json&quot;)));","title":"VScode - java.io.FileNotFoundException: (the system cannot find the file specified)","body":"<p>For reading userData.json with the above project structure</p>\n<pre><code>JSONObject jsonObject = new JSONObject(new JSONTokener(new FileReader(&quot;userData.json&quot;)));\n</code></pre>\n"}],"owner":{"account_id":13849827,"reputation":1,"user_id":9998015,"display_name":"Lmabear"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678022010,"creation_date":1678018723,"question_id":75642154,"body_markdown":"I have project with a JSON file &quot;`userData.json`&quot;.\r\n\r\nThe file is in the same directory as my `java` files.\r\n\r\nI moved the file directly under the project root folder and it did not fix the problem:\r\n\r\n    Project_Root\r\n        src\r\n        userData.json \r\n\r\nCode of the java file that attempts to open userData.json:\r\n\r\n    private boolean checkData(String username, String password) throws FileNotFoundException {\r\n        //read userData.json\r\n        JSONObject jsonObject = new JSONObject(new JSONTokener(new FileReader(&quot;group18/src/main/java/com/example/group18/userData.json&quot;)));\r\n        JSONArray jsonArray = jsonObject.getJSONArray(&quot;users1&quot;);\r\n    \r\n        //loop through the json array and compare the username and password\r\n        if(jsonArray.getJSONObject(0).getString(&quot;username&quot;).equals(username) &amp;&amp; jsonArray.getJSONObject(0).getString(&quot;password&quot;).equals(password)){\r\n            jsonArray.getJSONObject(0).put(&quot;online&quot;, true);\r\n            //return true if the username and password are correct\r\n            return true;\r\n        }\r\n            return false;\r\n    }\r\n\r\n\r\n\r\n","title":"VScode - java.io.FileNotFoundException: (the system cannot find the file specified)","body":"<p>I have project with a JSON file &quot;<code>userData.json</code>&quot;.</p>\n<p>The file is in the same directory as my <code>java</code> files.</p>\n<p>I moved the file directly under the project root folder and it did not fix the problem:</p>\n<pre><code>Project_Root\n    src\n    userData.json \n</code></pre>\n<p>Code of the java file that attempts to open userData.json:</p>\n<pre><code>private boolean checkData(String username, String password) throws FileNotFoundException {\n    //read userData.json\n    JSONObject jsonObject = new JSONObject(new JSONTokener(new FileReader(&quot;group18/src/main/java/com/example/group18/userData.json&quot;)));\n    JSONArray jsonArray = jsonObject.getJSONArray(&quot;users1&quot;);\n\n    //loop through the json array and compare the username and password\n    if(jsonArray.getJSONObject(0).getString(&quot;username&quot;).equals(username) &amp;&amp; jsonArray.getJSONObject(0).getString(&quot;password&quot;).equals(password)){\n        jsonArray.getJSONObject(0).put(&quot;online&quot;, true);\n        //return true if the username and password are correct\n        return true;\n    }\n        return false;\n}\n</code></pre>\n"},{"tags":["java","json","kotlin","serialization","gson"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1677968409,"post_id":75638377,"comment_id":133443100,"body_markdown":"For the case `e = Optional(true, null)`, how would you tell apart a `null` value with `isPresent=true` and a `null` value with `isPresent=false`; in JSON both would just be `null`, wouldn&#39;t they?","body":"For the case <code>e = Optional(true, null)</code>, how would you tell apart a <code>null</code> value with <code>isPresent=true</code> and a <code>null</code> value with <code>isPresent=false</code>; in JSON both would just be <code>null</code>, wouldn&#39;t they?"},{"owner":{"account_id":5056960,"reputation":117,"user_id":4059914,"display_name":"cradical"},"score":0,"creation_date":1677979355,"post_id":75638377,"comment_id":133444233,"body_markdown":"When isPresent is false, no value will be emitted in the JSON (hence why “b” was omitted in the encoding above)","body":"When isPresent is false, no value will be emitted in the JSON (hence why “b” was omitted in the encoding above)"}],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678021825,"creation_date":1678021825,"answer_id":75642437,"question_id":75638377,"body_markdown":"The custom `TypeAdapterFactory` for your `Optional` type would probably be similar to what [has been suggested for `java.util.Optional`](https://stackoverflow.com/q/12161366).\r\n\r\nTo omit the property from JSON even with `GsonBuilder.serializeNulls()` being enabled, you could choose a similar approach as in [this GitHub issue](https://github.com/google/gson/issues/1558#issuecomment-578435043), where the author temporarily calls `JsonWriter.setSerializeNulls(false)` if the value is `null` before restoring the previous setting again. In your case you could do that when `isPresent == false`.\r\n\r\nIf you also want to cover deserialization, then you might have to switch to another JSON library because...\r\n- Gson&#39;s main focus is on Java, and it does not support Kotlin that well, see [this issue](https://github.com/google/gson/issues/1657) about default values and `null` handling\r\n- Gson currently does not allow to handle missing field values ([GitHub issue](https://github.com/google/gson/issues/1005)), so you would have to make sure a proper default value is set\r\n","title":"Skip serializing GSON field in generics based on value","body":"<p>The custom <code>TypeAdapterFactory</code> for your <code>Optional</code> type would probably be similar to what <a href=\"https://stackoverflow.com/q/12161366\">has been suggested for <code>java.util.Optional</code></a>.</p>\n<p>To omit the property from JSON even with <code>GsonBuilder.serializeNulls()</code> being enabled, you could choose a similar approach as in <a href=\"https://github.com/google/gson/issues/1558#issuecomment-578435043\" rel=\"nofollow noreferrer\">this GitHub issue</a>, where the author temporarily calls <code>JsonWriter.setSerializeNulls(false)</code> if the value is <code>null</code> before restoring the previous setting again. In your case you could do that when <code>isPresent == false</code>.</p>\n<p>If you also want to cover deserialization, then you might have to switch to another JSON library because...</p>\n<ul>\n<li>Gson's main focus is on Java, and it does not support Kotlin that well, see <a href=\"https://github.com/google/gson/issues/1657\" rel=\"nofollow noreferrer\">this issue</a> about default values and <code>null</code> handling</li>\n<li>Gson currently does not allow to handle missing field values (<a href=\"https://github.com/google/gson/issues/1005\" rel=\"nofollow noreferrer\">GitHub issue</a>), so you would have to make sure a proper default value is set</li>\n</ul>\n"}],"owner":{"account_id":5056960,"reputation":117,"user_id":4059914,"display_name":"cradical"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75642437,"answer_count":1,"score":0,"last_activity_date":1678021825,"creation_date":1677960557,"question_id":75638377,"body_markdown":"We have the need to distinguish between an optional fields vs. nullable fields (i.e when a field is present, that it could be nullable) when serializing Kotlin data classes to JSON using GSON.\r\n\r\nThe initial thought was to model the optional field as a generic:\r\n\r\n```\r\nclass Optional&lt;T&gt;(val isPresent: Boolean = false, val value: T) {}\r\n```\r\n\r\nThat would permit representing it in the following serializable data class:\r\n\r\n```\r\ndata class SimpleRequest (\r\n    val a: Int = 0,\r\n    val b: Optional&lt;String&gt; = Optional&lt;String&gt;(value = &quot;&quot;)\r\n    val c: Optional&lt;String&gt; = Optional&lt;String&gt;(value = &quot;&quot;)\r\n    val d: Int? = null,\r\n    val e: Optional&lt;Int?&gt; = Optional&lt;Int?&gt;(value = null)\r\n)\r\n```\r\n\r\nThat should result in the following serialized variants (with null serialization enabled):\r\n\r\n```\r\nSimpleRequest(c = Optional&lt;String&gt;(true, &quot;Hello&quot;), e = Optional(true, null))\r\n```\r\n\r\n```\r\n{\r\n   &quot;a&quot;: 0,\r\n   &quot;c&quot;: &quot;Hello&quot;,\r\n   &quot;d&quot;: null,\r\n   &quot;e&quot;: null\r\n}\r\n```\r\n\r\nIs this possible?","title":"Skip serializing GSON field in generics based on value","body":"<p>We have the need to distinguish between an optional fields vs. nullable fields (i.e when a field is present, that it could be nullable) when serializing Kotlin data classes to JSON using GSON.</p>\n<p>The initial thought was to model the optional field as a generic:</p>\n<pre><code>class Optional&lt;T&gt;(val isPresent: Boolean = false, val value: T) {}\n</code></pre>\n<p>That would permit representing it in the following serializable data class:</p>\n<pre><code>data class SimpleRequest (\n    val a: Int = 0,\n    val b: Optional&lt;String&gt; = Optional&lt;String&gt;(value = &quot;&quot;)\n    val c: Optional&lt;String&gt; = Optional&lt;String&gt;(value = &quot;&quot;)\n    val d: Int? = null,\n    val e: Optional&lt;Int?&gt; = Optional&lt;Int?&gt;(value = null)\n)\n</code></pre>\n<p>That should result in the following serialized variants (with null serialization enabled):</p>\n<pre><code>SimpleRequest(c = Optional&lt;String&gt;(true, &quot;Hello&quot;), e = Optional(true, null))\n</code></pre>\n<pre><code>{\n   &quot;a&quot;: 0,\n   &quot;c&quot;: &quot;Hello&quot;,\n   &quot;d&quot;: null,\n   &quot;e&quot;: null\n}\n</code></pre>\n<p>Is this possible?</p>\n"},{"tags":["java","android","amazon-web-services","amazon-s3"],"owner":{"account_id":3158079,"reputation":41,"user_id":2669978,"display_name":"Max"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":748,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1678021792,"creation_date":1406894249,"question_id":25079753,"body_markdown":"I am using high level api for amazon s3 upload and getting a call back for progress but the method\r\n  upload.getprogress().getPercentageTransferred() \r\nat times gives percentage above 100..Why does it shows above 100? Are there any changes needed\r\n\r\n  \r\n\r\n       BasicAWSCredentials lAwsCredentials = new BasicAWSCredentials(\r\n    \t\tConstants.ACCESS_KEY_ID, Constants.SECRET_KEY);\r\n    AmazonS3Client s3Client = new AmazonS3Client(lAwsCredentials);\r\n    \r\n     TransferManager tm = new TransferManager(s3Client);\r\n    \r\n    \t\tFile lFile = new File(mFilePath);\r\n    \r\n    \t\tPutObjectRequest putRequest = new PutObjectRequest(mBucketName,\r\n    \t\t\t\tmKeyName, lFile);\r\n        mUpload = tm.upload(putRequest, new S3ProgressListener() {\r\n    \r\n    \tExecutorService lExecutor = Executors.newFixedThreadPool(1);\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void progressChanged(ProgressEvent arg0) {\r\n    \t\t\t\t// Log.v(TAG, &quot;Transfer: &quot; + mUpload.getDescription());\r\n    \t\t\t\t// Log.v(TAG, &quot;  - Percentage: &quot;\r\n    \t\t\t\t// + mUpload.getProgress().getPercentTransferred());\r\n    \r\n    \t\t\t\tdouble lProgress = mUpload.getProgress()\r\n    \t\t\t\t\t\t.getPercentTransferred();\r\n    \r\n    \t\t\t\tint lProgressInteger = (int) lProgress;\r\n    \r\n    \t\t\t\t\r\n    \r\n    \t\t\t\tif (lProgressInteger % 10 == 0) {\r\n    \t\t\t\t\tLog.d(TAG, &quot;File id:&quot; + mLocalFileId\r\n    \t\t\t\t\t\t\t+ &quot;==== Transfer: &quot; + mUpload.getDescription()\r\n    \t\t\t\t\t\t\t+ &quot;====Percentage: &quot;\r\n    \t\t\t\t\t\t\t+ mUpload.getProgress().getPercentTransferred());\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tpublishProgress(lProgressInteger);\r\n    \r\n    \t\t\t\t}\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void onPersistableTransfer(\r\n    \t\t\t\t\tfinal PersistableTransfer persistableTransfer) {\r\n    \t\t\t\tlExecutor.submit(new Runnable() {\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void run() {\r\n    \t\t\t\t\t\tFile f = new File(Environment\r\n    \t\t\t\t\t\t\t\t.getExternalStorageDirectory()\r\n    \t\t\t\t\t\t\t\t+ &quot;/resumeupload&quot;);\r\n    \t\t\t\t\t\tif (!f.exists())\r\n    \t\t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\t\tf.createNewFile();\r\n    \r\n    \t\t\t\t\t\t\t\tFileOutputStream fos;\r\n    \r\n    \t\t\t\t\t\t\t\tfos = new FileOutputStream(f);\r\n    \r\n    \t\t\t\t\t\t\t\tpersistableTransfer.serialize(fos);\r\n    \t\t\t\t\t\t\t\tfos.close();\r\n    \t\t\t\t\t\t\t} catch (FileNotFoundException e) {\r\n    \t\t\t\t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t\t\t} catch (IOException e) {\r\n    \t\t\t\t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \r\n    \t\t\t}\r\n    \t\t});","title":"Amazon s3 Upload Progress calculation in android for Transfer Manager","body":"<p>I am using high level api for amazon s3 upload and getting a call back for progress but the method\n  upload.getprogress().getPercentageTransferred() \nat times gives percentage above 100..Why does it shows above 100? Are there any changes needed</p>\n\n<pre><code>   BasicAWSCredentials lAwsCredentials = new BasicAWSCredentials(\n        Constants.ACCESS_KEY_ID, Constants.SECRET_KEY);\nAmazonS3Client s3Client = new AmazonS3Client(lAwsCredentials);\n\n TransferManager tm = new TransferManager(s3Client);\n\n        File lFile = new File(mFilePath);\n\n        PutObjectRequest putRequest = new PutObjectRequest(mBucketName,\n                mKeyName, lFile);\n    mUpload = tm.upload(putRequest, new S3ProgressListener() {\n\n    ExecutorService lExecutor = Executors.newFixedThreadPool(1);\n\n            @Override\n            public void progressChanged(ProgressEvent arg0) {\n                // Log.v(TAG, \"Transfer: \" + mUpload.getDescription());\n                // Log.v(TAG, \"  - Percentage: \"\n                // + mUpload.getProgress().getPercentTransferred());\n\n                double lProgress = mUpload.getProgress()\n                        .getPercentTransferred();\n\n                int lProgressInteger = (int) lProgress;\n\n\n\n                if (lProgressInteger % 10 == 0) {\n                    Log.d(TAG, \"File id:\" + mLocalFileId\n                            + \"==== Transfer: \" + mUpload.getDescription()\n                            + \"====Percentage: \"\n                            + mUpload.getProgress().getPercentTransferred());\n\n                    publishProgress(lProgressInteger);\n\n                }\n\n            }\n\n            @Override\n            public void onPersistableTransfer(\n                    final PersistableTransfer persistableTransfer) {\n                lExecutor.submit(new Runnable() {\n\n                    @Override\n                    public void run() {\n                        File f = new File(Environment\n                                .getExternalStorageDirectory()\n                                + \"/resumeupload\");\n                        if (!f.exists())\n                            try {\n                                f.createNewFile();\n\n                                FileOutputStream fos;\n\n                                fos = new FileOutputStream(f);\n\n                                persistableTransfer.serialize(fos);\n                                fos.close();\n                            } catch (FileNotFoundException e) {\n                                // TODO Auto-generated catch block\n                                e.printStackTrace();\n                            } catch (IOException e) {\n                                // TODO Auto-generated catch block\n                                e.printStackTrace();\n                            }\n                    }\n                });\n\n            }\n        });\n</code></pre>\n"},{"tags":["java","reactjs","post","spring-security","cors"],"comments":[{"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1669055235,"post_id":74516065,"comment_id":131551408,"body_markdown":"Add `logging.level.org.springframework.security=TRACE` to your `application.properties` and see if the problem is really related to CORS","body":"Add <code>logging.level.org.springframework.security=TRACE</code> to your <code>application.properties</code> and see if the problem is really related to CORS"}],"answers":[{"tags":[],"owner":{"account_id":5271612,"reputation":81,"user_id":4209698,"display_name":"rista_101"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678020684,"creation_date":1678020684,"answer_id":75642335,"question_id":74516065,"body_markdown":"[Found a solution that worked for me][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/72791425/getting-axios-from-react-to-work-with-spring-boot-spring-boot-security\r\n\r\non this path of search i found @ this link a solution by adding some additional configurations to corsconfiguration.\r\n\r\n\r\n     @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n                .csrf().disable()\r\n                .cors()\r\n                .configurationSource(request-&gt; corsConfigurationSource().getCorsConfiguration(request))\r\n                // .configurationSource(corsConfigurationSource())\r\n                // .disable()\r\n                .and().authorizeHttpRequests()\r\n                // .requestMatchers(&quot;/**&quot;).authenticated()\r\n                // .requestMatchers(&quot;**/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n\r\n                .requestMatchers(&quot;/**admin**&quot;).hasRole(Roles.ADMIN.name())\r\n                .anyRequest().authenticated()\r\n                // .anyRequest().permitAll()\r\n                .and().formLogin()\r\n                .and().httpBasic()\r\n                .and().build();\r\n\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationProvider authProvider() {\r\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n        authProvider.setUserDetailsService(userDetailsService());\r\n        authProvider.setPasswordEncoder(passwordEncoder());\r\n        return authProvider;\r\n    }\r\n\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedHeaders(List.of(&quot;Authorization&quot;, &quot;Cache-Control&quot;, &quot;Content-Type&quot;));\r\n        configuration.setAllowedOrigins(List.of(&quot;http://localhost:3000&quot;));\r\n        configuration.setAllowedMethods(List.of(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PUT&quot;,&quot;OPTIONS&quot;,&quot;PATCH&quot;, &quot;DELETE&quot;));\r\n        configuration.setAllowCredentials(true);\r\n        configuration.setExposedHeaders(List.of(&quot;Authorization&quot;));\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n\r\n\r\n","title":"React front end can set signup post request to Spring security, but not login post request","body":"<p><a href=\"https://stackoverflow.com/questions/72791425/getting-axios-from-react-to-work-with-spring-boot-spring-boot-security\">Found a solution that worked for me</a></p>\n<p>on this path of search i found @ this link a solution by adding some additional configurations to corsconfiguration.</p>\n<pre><code> @Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    return http\n            .csrf().disable()\n            .cors()\n            .configurationSource(request-&gt; corsConfigurationSource().getCorsConfiguration(request))\n            // .configurationSource(corsConfigurationSource())\n            // .disable()\n            .and().authorizeHttpRequests()\n            // .requestMatchers(&quot;/**&quot;).authenticated()\n            // .requestMatchers(&quot;**/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\n\n            .requestMatchers(&quot;/**admin**&quot;).hasRole(Roles.ADMIN.name())\n            .anyRequest().authenticated()\n            // .anyRequest().permitAll()\n            .and().formLogin()\n            .and().httpBasic()\n            .and().build();\n\n}\n\n@Bean\npublic AuthenticationProvider authProvider() {\n    DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n    authProvider.setUserDetailsService(userDetailsService());\n    authProvider.setPasswordEncoder(passwordEncoder());\n    return authProvider;\n}\n\n@Bean\nCorsConfigurationSource corsConfigurationSource() {\n    CorsConfiguration configuration = new CorsConfiguration();\n    configuration.setAllowedHeaders(List.of(&quot;Authorization&quot;, &quot;Cache-Control&quot;, &quot;Content-Type&quot;));\n    configuration.setAllowedOrigins(List.of(&quot;http://localhost:3000&quot;));\n    configuration.setAllowedMethods(List.of(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PUT&quot;,&quot;OPTIONS&quot;,&quot;PATCH&quot;, &quot;DELETE&quot;));\n    configuration.setAllowCredentials(true);\n    configuration.setExposedHeaders(List.of(&quot;Authorization&quot;));\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n    return source;\n}\n</code></pre>\n"}],"owner":{"account_id":25581730,"reputation":41,"user_id":19360160,"display_name":"Brandon Lei"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1678020684,"creation_date":1669019416,"question_id":74516065,"body_markdown":"I am facing an issue where I can&#39;t send a login post request from React front end, even while disabling csrf and cors. I also tried adding cors configuration, I can register new users from the front end but login won&#39;t work due to &quot;Access to XMLHttpRequest at &#39;http://localhost:8080/login&#39; from origin &#39;http://localhost:3000&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.&quot; Login works from postman, I suspect this issue has 100% to do with cors.\r\n\r\nAny idea how to circumvent this?\r\n\r\n\r\nI tried disabling cors, adding cors configuration to spring to accept localhost3000, but none of them worked. Here is my code so far:\r\n\r\nWebsecurity config:\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n    @Autowired\r\n    UserDetailsService userDetailsService;\r\n\r\n\r\n    @Bean\r\n    public AuthenticationManager authManager(HttpSecurity http) throws Exception {\r\n        AuthenticationManagerBuilder authenticationManagerBuilder =\r\n                http.getSharedObject(AuthenticationManagerBuilder.class);\r\n        authenticationManagerBuilder.authenticationProvider(authenticationProvider());\r\n        authenticationManagerBuilder.userDetailsService(userDetailsService);\r\n        return authenticationManagerBuilder.build();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests((requests) -&gt; requests\r\n                        //permit routes to / and /home\r\n                        .antMatchers(&quot;/&quot;, &quot;/home&quot;, &quot;/signup&quot;, &quot;/users&quot;, &quot;/login&quot;)\r\n                        .permitAll()\r\n                        .anyRequest().\r\n                        authenticated())\r\n                .cors().configurationSource(corsConfigurationSource()).and()\r\n                .csrf()\r\n                .disable()\r\n                .formLogin()\r\n                .defaultSuccessUrl(&quot;https://www.apple.com/&quot;, true);\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder bCryptPasswordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(Arrays.asList(&quot;https://localhost:3000&quot;));\r\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;));\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n\r\n    public AuthenticationProvider authenticationProvider(){\r\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n        provider.setUserDetailsService(userDetailsService);\r\n        provider.setPasswordEncoder(bCryptPasswordEncoder());\r\n        return provider;\r\n    }\r\n}\r\n```\r\n\r\nLogin.js\r\n```\r\nfunction Login() {\r\n    const [formData, setFormData] = useState({\r\n        username: &#39;&#39;,\r\n        password: &#39;&#39;\r\n    });\r\n\r\n    const [usernameError, setUsernameError] = useState(&#39;&#39;);\r\n    const [passwordError, setPasswordError] = useState(&#39;&#39;);\r\n\r\n\r\n\r\n    const onUserNameChange = (e) =&gt; {\r\n        setFormData({...formData, username: e.target.value})\r\n    }\r\n\r\n    const onPasswordChange = (e) =&gt; {\r\n        setFormData({...formData, password: e.target.value})\r\n    }\r\n\r\n    const login = async (username, password) =&gt; {\r\n        const response = await axios.post(&quot;http://localhost:8080/login&quot;, {\r\n            password: formData.username,\r\n            username: formData.password\r\n        })\r\n    };\r\n\r\n\r\n    return (\r\n        &lt;Container&gt;\r\n            &lt;Typography variant=&#39;h4&#39;&gt;Login&lt;/Typography&gt;\r\n            &lt;Stack spacing={2}&gt;\r\n                &lt;TextField label=&#39;Username&#39; onChange={onUserNameChange}/&gt;\r\n                {\r\n                    usernameError ? &lt;span style={{ color: &#39;red&#39;, fontSize: &#39;12px&#39;}}&gt;{usernameError}&lt;/span&gt; : &#39;&#39;\r\n                }\r\n                &lt;TextField label=&#39;Password&#39; type=&quot;password&quot; onChange={onPasswordChange}/&gt;\r\n                {\r\n                    passwordError ? &lt;span style={{ color: &#39;red&#39;, fontSize: &#39;12px&#39;}}&gt;{passwordError}&lt;/span&gt; : &#39;&#39;\r\n                }\r\n                &lt;Button variant=&#39;contained&#39; onClick={login}&gt;Login&lt;/Button&gt;\r\n            &lt;/Stack&gt;\r\n        &lt;/Container&gt;\r\n    );\r\n}\r\n\r\nexport default Login;\r\n```\r\n\r\n","title":"React front end can set signup post request to Spring security, but not login post request","body":"<p>I am facing an issue where I can't send a login post request from React front end, even while disabling csrf and cors. I also tried adding cors configuration, I can register new users from the front end but login won't work due to &quot;Access to XMLHttpRequest at 'http://localhost:8080/login' from origin 'http://localhost:3000' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.&quot; Login works from postman, I suspect this issue has 100% to do with cors.</p>\n<p>Any idea how to circumvent this?</p>\n<p>I tried disabling cors, adding cors configuration to spring to accept localhost3000, but none of them worked. Here is my code so far:</p>\n<p>Websecurity config:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    @Autowired\n    UserDetailsService userDetailsService;\n\n\n    @Bean\n    public AuthenticationManager authManager(HttpSecurity http) throws Exception {\n        AuthenticationManagerBuilder authenticationManagerBuilder =\n                http.getSharedObject(AuthenticationManagerBuilder.class);\n        authenticationManagerBuilder.authenticationProvider(authenticationProvider());\n        authenticationManagerBuilder.userDetailsService(userDetailsService);\n        return authenticationManagerBuilder.build();\n    }\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests((requests) -&gt; requests\n                        //permit routes to / and /home\n                        .antMatchers(&quot;/&quot;, &quot;/home&quot;, &quot;/signup&quot;, &quot;/users&quot;, &quot;/login&quot;)\n                        .permitAll()\n                        .anyRequest().\n                        authenticated())\n                .cors().configurationSource(corsConfigurationSource()).and()\n                .csrf()\n                .disable()\n                .formLogin()\n                .defaultSuccessUrl(&quot;https://www.apple.com/&quot;, true);\n        return http.build();\n    }\n\n    @Bean\n    public PasswordEncoder bCryptPasswordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Arrays.asList(&quot;https://localhost:3000&quot;));\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;));\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n\n    public AuthenticationProvider authenticationProvider(){\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n        provider.setUserDetailsService(userDetailsService);\n        provider.setPasswordEncoder(bCryptPasswordEncoder());\n        return provider;\n    }\n}\n</code></pre>\n<p>Login.js</p>\n<pre><code>function Login() {\n    const [formData, setFormData] = useState({\n        username: '',\n        password: ''\n    });\n\n    const [usernameError, setUsernameError] = useState('');\n    const [passwordError, setPasswordError] = useState('');\n\n\n\n    const onUserNameChange = (e) =&gt; {\n        setFormData({...formData, username: e.target.value})\n    }\n\n    const onPasswordChange = (e) =&gt; {\n        setFormData({...formData, password: e.target.value})\n    }\n\n    const login = async (username, password) =&gt; {\n        const response = await axios.post(&quot;http://localhost:8080/login&quot;, {\n            password: formData.username,\n            username: formData.password\n        })\n    };\n\n\n    return (\n        &lt;Container&gt;\n            &lt;Typography variant='h4'&gt;Login&lt;/Typography&gt;\n            &lt;Stack spacing={2}&gt;\n                &lt;TextField label='Username' onChange={onUserNameChange}/&gt;\n                {\n                    usernameError ? &lt;span style={{ color: 'red', fontSize: '12px'}}&gt;{usernameError}&lt;/span&gt; : ''\n                }\n                &lt;TextField label='Password' type=&quot;password&quot; onChange={onPasswordChange}/&gt;\n                {\n                    passwordError ? &lt;span style={{ color: 'red', fontSize: '12px'}}&gt;{passwordError}&lt;/span&gt; : ''\n                }\n                &lt;Button variant='contained' onClick={login}&gt;Login&lt;/Button&gt;\n            &lt;/Stack&gt;\n        &lt;/Container&gt;\n    );\n}\n\nexport default Login;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1678019252,"creation_date":1678019252,"answer_id":75642209,"question_id":75642126,"body_markdown":"I use the [@Secured][1] annotation together with\r\n\r\n    @EnableMethodSecurity(securedEnabled = true)\r\n\r\nWhich makes it more readable:\r\n\r\n    @GetMapping(&quot;/user&quot;)\r\n    @Secured({&quot;USER&quot;,&quot;MODERATOR&quot;,&quot;ADMIN&quot;})\r\n    public String userAccess() {\r\n        return &quot;User Content.&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/admin&quot;)\r\n    @Secured({&quot;ADMIN&quot;})\r\n    public String adminAccess() {\r\n        return &quot;Admin Board.&quot;;\r\n    }\r\n\r\nYou should also consider defining constants for those values:\r\n\r\n    public static final String ROLE_ADMIN = &quot;ADMIN&quot;;\r\n    public static final String ROLE_MODERATOR = &quot;MODERATOR&quot;;\r\n    public static final String ROLE_USER = &quot;USER&quot;;\r\n\r\n    @GetMapping(&quot;/user&quot;)\r\n    @Secured({ROLE_USER,ROLE_MODERATOR,ROLE_ADMIN})\r\n    public String userAccess() {\r\n        return &quot;User Content.&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/admin&quot;)\r\n    @Secured(ROLE_ADMIN)\r\n    public String adminAccess() {\r\n        return &quot;Admin Board.&quot;;\r\n    }\r\n\r\nIf you are allowing CORS from *, why not just disable CORS?\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/access/annotation/Secured.html","title":"How to authorize by role in Spring Security?","body":"<p>I use the <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/access/annotation/Secured.html\" rel=\"nofollow noreferrer\">@Secured</a> annotation together with</p>\n<pre><code>@EnableMethodSecurity(securedEnabled = true)\n</code></pre>\n<p>Which makes it more readable:</p>\n<pre><code>@GetMapping(&quot;/user&quot;)\n@Secured({&quot;USER&quot;,&quot;MODERATOR&quot;,&quot;ADMIN&quot;})\npublic String userAccess() {\n    return &quot;User Content.&quot;;\n}\n\n@GetMapping(&quot;/admin&quot;)\n@Secured({&quot;ADMIN&quot;})\npublic String adminAccess() {\n    return &quot;Admin Board.&quot;;\n}\n</code></pre>\n<p>You should also consider defining constants for those values:</p>\n<pre><code>public static final String ROLE_ADMIN = &quot;ADMIN&quot;;\npublic static final String ROLE_MODERATOR = &quot;MODERATOR&quot;;\npublic static final String ROLE_USER = &quot;USER&quot;;\n\n@GetMapping(&quot;/user&quot;)\n@Secured({ROLE_USER,ROLE_MODERATOR,ROLE_ADMIN})\npublic String userAccess() {\n    return &quot;User Content.&quot;;\n}\n\n@GetMapping(&quot;/admin&quot;)\n@Secured(ROLE_ADMIN)\npublic String adminAccess() {\n    return &quot;Admin Board.&quot;;\n}\n</code></pre>\n<p>If you are allowing CORS from *, why not just disable CORS?</p>\n"}],"owner":{"display_name":"user21263160"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1678020418,"creation_date":1678018325,"question_id":75642126,"body_markdown":"I implemented security config in my Spring Boot app using Spring Security and for checking role access to the endoints by role, I use the following approach:\r\n\r\n```\r\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n@RestController\r\n@RequestMapping(&quot;/api/test&quot;)\r\npublic class TestController  {\r\n\r\n\t@GetMapping(&quot;/all&quot;)\r\n\tpublic String allAccess() {\r\n\t\treturn &quot;Public Content.&quot;;\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/user&quot;)\r\n\t@PreAuthorize(&quot;hasRole(&#39;USER&#39;) or hasRole(&#39;MODERATOR&#39;) or hasRole(&#39;ADMIN&#39;)&quot;)\r\n\tpublic String userAccess() {\r\n\t\treturn &quot;User Content.&quot;;\r\n\t}\r\n\r\n\t@GetMapping(&quot;/admin&quot;)\r\n\t@PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;)&quot;)\r\n\tpublic String adminAccess() {\r\n\t\treturn &quot;Admin Board.&quot;;\r\n\t}\r\n}\r\n```\r\n\r\nMy questions are:\r\n\r\n**1.** Is there another way to check roles in Spring Security? Or should I use this approach with `@PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;)&quot;)` ? \r\n\r\n**2.** I use this app with a React frontend app. Then, should I use this annotation? Or, is there any extra annotation ahouls I add to my Controllers? \r\n\r\n```\r\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n**Update:** Here is my config where there is a CORS setting:\r\n\r\n```\r\n@Bean\r\npublic SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\r\n    httpSecurity.cors().and()\r\n            .csrf().disable()\r\n\r\n            // other settings\r\n            .anyRequest().authenticated();\r\n}\r\n```","title":"How to authorize by role in Spring Security?","body":"<p>I implemented security config in my Spring Boot app using Spring Security and for checking role access to the endoints by role, I use the following approach:</p>\n<pre><code>@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\n@RestController\n@RequestMapping(&quot;/api/test&quot;)\npublic class TestController  {\n\n    @GetMapping(&quot;/all&quot;)\n    public String allAccess() {\n        return &quot;Public Content.&quot;;\n    }\n    \n    @GetMapping(&quot;/user&quot;)\n    @PreAuthorize(&quot;hasRole('USER') or hasRole('MODERATOR') or hasRole('ADMIN')&quot;)\n    public String userAccess() {\n        return &quot;User Content.&quot;;\n    }\n\n    @GetMapping(&quot;/admin&quot;)\n    @PreAuthorize(&quot;hasRole('ADMIN')&quot;)\n    public String adminAccess() {\n        return &quot;Admin Board.&quot;;\n    }\n}\n</code></pre>\n<p>My questions are:</p>\n<p><strong>1.</strong> Is there another way to check roles in Spring Security? Or should I use this approach with <code>@PreAuthorize(&quot;hasRole('ADMIN')&quot;)</code> ?</p>\n<p><strong>2.</strong> I use this app with a React frontend app. Then, should I use this annotation? Or, is there any extra annotation ahouls I add to my Controllers?</p>\n<pre><code>@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\n</code></pre>\n<br/>\n<p><strong>Update:</strong> Here is my config where there is a CORS setting:</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\n    httpSecurity.cors().and()\n            .csrf().disable()\n\n            // other settings\n            .anyRequest().authenticated();\n}\n</code></pre>\n"},{"tags":["java","android","firebase","android-recyclerview"],"comments":[{"owner":{"account_id":10793884,"reputation":895,"user_id":7940360,"display_name":"Kishan Viramgama"},"score":0,"creation_date":1538367023,"post_id":52584355,"comment_id":92103763,"body_markdown":"please post your code add in side of question. please check this link https://stackoverflow.com/help/how-to-ask","body":"please post your code add in side of question. please check this link <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}],"answers":[{"tags":[],"owner":{"account_id":10199849,"reputation":125,"user_id":7530504,"display_name":"Osmar I. Cancino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678020389,"creation_date":1538366527,"answer_id":52584399,"question_id":52584355,"body_markdown":"It is not that the sentence is skipped, in fact it looks good the way you declared things, the problem is that the object &quot;adapter&quot; that you are creating does not assign it to any side ... you must pass it to your Recyclerview:\r\n\r\n    myRecycler.setAdapter(myAdapter);\r\n\r\nIn this way your recyclerview, you know how it will have to be filled.\r\n\r\nRegards!","title":"FirebaseRecyclerAdapter 28.0","body":"<p>It is not that the sentence is skipped, in fact it looks good the way you declared things, the problem is that the object &quot;adapter&quot; that you are creating does not assign it to any side ... you must pass it to your Recyclerview:</p>\n<pre><code>myRecycler.setAdapter(myAdapter);\n</code></pre>\n<p>In this way your recyclerview, you know how it will have to be filled.</p>\n<p>Regards!</p>\n"}],"owner":{"account_id":14451643,"reputation":23,"user_id":10438932,"display_name":"Jeffrey Concua"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52584399,"answer_count":1,"score":2,"last_activity_date":1678020389,"creation_date":1538365936,"question_id":52584355,"body_markdown":"I have a problem that has been going on for several days and I have not been able to solve it.\r\n\r\nI need my application to connect to a database in Firebase and show it in a RecycleView.\r\n\r\n\r\nI have the following:\r\nDatabase in firebase:\r\n[Imagen base de datos][1]\r\n\r\nI have the following dependencies:\r\n[Imagen dependecias][2]\r\n\r\nI created my model in the following way:\r\n[Imagen modelo][3]\r\n\r\nCreate a Holder in the following way:\r\n[Imagen Holder][4]\r\n\r\n\r\nAfter that, I have the following code so that according to what I find in the database I can publish the images of the links that are in this one.\r\n\r\n[OnCreate][5]\r\n\r\n\r\nCreate a sub that contains the entire connection\r\n\r\n[enter image description here][6]\r\n\r\nbut in the part where FirebaseRecyclerAdapter is declared does not enter, this option is skipped and does not enter\r\n\r\n\r\n    private void loadMenu2() {\r\n\r\n\r\n        FirebaseRecyclerOptions &lt;wallpaperClass&gt; options =\r\n                new FirebaseRecyclerOptions.Builder&lt;wallpaperClass&gt;()\r\n                        .setQuery(category,wallpaperClass.class)\r\n                        .setLifecycleOwner(this)\r\n                        .build();\r\n\r\n        adapter = new FirebaseRecyclerAdapter&lt;wallpaperClass, MenuViewHolder&gt;(options) {\r\n            @Override\r\n            protected void onBindViewHolder(@NonNull MenuViewHolder holder, int position, @NonNull wallpaperClass model) {\r\n                Toast.makeText(getApplicationContext(), &quot;Ingreso 3!&quot;, Toast.LENGTH_SHORT).show();\r\n                holder.txtNombre.setText(model.getName());\r\n                Picasso.get().load(model.getLinkwall()).into(holder.imgWallpaper);\r\n            }\r\n\r\n\r\n            @NonNull\r\n            @Override\r\n            public MenuViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                Toast.makeText(getApplicationContext(), &quot;Ingreso 4!&quot;, Toast.LENGTH_SHORT).show();\r\n                return null;\r\n            }\r\n        };\r\n    }\r\n\r\n\r\nI&#39;ve been with this for days, but I can not solve it, I thank everyone for their help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/O7vpv.png\r\n  [2]: https://i.stack.imgur.com/4PWq5.png\r\n  [3]: https://i.stack.imgur.com/LKocx.png\r\n  [4]: https://i.stack.imgur.com/oicVK.png\r\n  [5]: https://i.stack.imgur.com/41yXQ.png\r\n  [6]: https://i.stack.imgur.com/TN65B.png","title":"FirebaseRecyclerAdapter 28.0","body":"<p>I have a problem that has been going on for several days and I have not been able to solve it.</p>\n\n<p>I need my application to connect to a database in Firebase and show it in a RecycleView.</p>\n\n<p>I have the following:\nDatabase in firebase:\n<a href=\"https://i.stack.imgur.com/O7vpv.png\" rel=\"nofollow noreferrer\">Imagen base de datos</a></p>\n\n<p>I have the following dependencies:\n<a href=\"https://i.stack.imgur.com/4PWq5.png\" rel=\"nofollow noreferrer\">Imagen dependecias</a></p>\n\n<p>I created my model in the following way:\n<a href=\"https://i.stack.imgur.com/LKocx.png\" rel=\"nofollow noreferrer\">Imagen modelo</a></p>\n\n<p>Create a Holder in the following way:\n<a href=\"https://i.stack.imgur.com/oicVK.png\" rel=\"nofollow noreferrer\">Imagen Holder</a></p>\n\n<p>After that, I have the following code so that according to what I find in the database I can publish the images of the links that are in this one.</p>\n\n<p><a href=\"https://i.stack.imgur.com/41yXQ.png\" rel=\"nofollow noreferrer\">OnCreate</a></p>\n\n<p>Create a sub that contains the entire connection</p>\n\n<p><a href=\"https://i.stack.imgur.com/TN65B.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>but in the part where FirebaseRecyclerAdapter is declared does not enter, this option is skipped and does not enter</p>\n\n<pre><code>private void loadMenu2() {\n\n\n    FirebaseRecyclerOptions &lt;wallpaperClass&gt; options =\n            new FirebaseRecyclerOptions.Builder&lt;wallpaperClass&gt;()\n                    .setQuery(category,wallpaperClass.class)\n                    .setLifecycleOwner(this)\n                    .build();\n\n    adapter = new FirebaseRecyclerAdapter&lt;wallpaperClass, MenuViewHolder&gt;(options) {\n        @Override\n        protected void onBindViewHolder(@NonNull MenuViewHolder holder, int position, @NonNull wallpaperClass model) {\n            Toast.makeText(getApplicationContext(), \"Ingreso 3!\", Toast.LENGTH_SHORT).show();\n            holder.txtNombre.setText(model.getName());\n            Picasso.get().load(model.getLinkwall()).into(holder.imgWallpaper);\n        }\n\n\n        @NonNull\n        @Override\n        public MenuViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n            Toast.makeText(getApplicationContext(), \"Ingreso 4!\", Toast.LENGTH_SHORT).show();\n            return null;\n        }\n    };\n}\n</code></pre>\n\n<p>I've been with this for days, but I can not solve it, I thank everyone for their help.</p>\n"},{"tags":["java","java-native-interface","project-panama","jawt"],"answers":[{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677889635,"creation_date":1677889635,"answer_id":75632900,"question_id":75620948,"body_markdown":"You could theoretically get a `JNIEnv*` using the Panama API by loading the `jvm` library, and using the [invocation API](https://docs.oracle.com/en/java/javase/19/docs/specs/jni/invocation.html)&#39;s `JNI_GetCreatedJavaVMs` and then `GetEnv` on the retrieved `JavaVM*` to get a `JNIEnv*`.\r\n\r\nI think after that you&#39;re still stuck when needing to call `GetDrawingSurface` though, because it takes an object handle of the `canvas` object as an argument, and there is currently no way to turn a Java object into a handle in pure Java code (at least, not that I&#39;m aware of).\r\n\r\nThe Java AWT Native Interface that you&#39;re using has a dependency on JNI, so I don&#39;t think you can get rid of JNI entirely (and the Panama API currently doesn&#39;t really have specific JNI interop support)","title":"How do I get the HWND of a Canvas using Panama?","body":"<p>You could theoretically get a <code>JNIEnv*</code> using the Panama API by loading the <code>jvm</code> library, and using the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/specs/jni/invocation.html\" rel=\"nofollow noreferrer\">invocation API</a>'s <code>JNI_GetCreatedJavaVMs</code> and then <code>GetEnv</code> on the retrieved <code>JavaVM*</code> to get a <code>JNIEnv*</code>.</p>\n<p>I think after that you're still stuck when needing to call <code>GetDrawingSurface</code> though, because it takes an object handle of the <code>canvas</code> object as an argument, and there is currently no way to turn a Java object into a handle in pure Java code (at least, not that I'm aware of).</p>\n<p>The Java AWT Native Interface that you're using has a dependency on JNI, so I don't think you can get rid of JNI entirely (and the Panama API currently doesn't really have specific JNI interop support)</p>\n"},{"tags":[],"owner":{"account_id":81375,"reputation":2305,"user_id":229513,"accept_rate":57,"display_name":"Martin Pernollet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678020033,"creation_date":1678020033,"answer_id":75642273,"question_id":75620948,"body_markdown":"Not really answering your question, but if you are willing to use OpenGL from Panama, you may look at this https://gitlab.com/jzy3d/panama-gl. For now we avoid working with JAWT by rendering images offscreen and then display this image into AWT or Swing canvas (other windowing toolkits such as SWT and JavaFX will come soon). ","title":"How do I get the HWND of a Canvas using Panama?","body":"<p>Not really answering your question, but if you are willing to use OpenGL from Panama, you may look at this <a href=\"https://gitlab.com/jzy3d/panama-gl\" rel=\"nofollow noreferrer\">https://gitlab.com/jzy3d/panama-gl</a>. For now we avoid working with JAWT by rendering images offscreen and then display this image into AWT or Swing canvas (other windowing toolkits such as SWT and JavaFX will come soon).</p>\n"}],"owner":{"account_id":27887220,"reputation":13,"user_id":21321944,"display_name":"James"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75632900,"answer_count":2,"score":1,"last_activity_date":1678020033,"creation_date":1677792128,"question_id":75620948,"body_markdown":"I&#39;m porting a program that uses JNI to use Panama instead. This program uses OpenGL to draw onto a `Canvas` object. I can port the Windows and OpenGL calls to use Panama, but the problem is I need to get the HWND of the Canvas I want to draw to. The C code looks like this:\r\n\r\n```c\r\nJNIEXPORT void JNICALL Java_somepackage_SomeCanvas_paint(JNIEnv* env, jobject canvas, jobject graphics)\r\n{\r\n    JAWT awt;\r\n    awt.version = JAWT_VERSION_1_4;\r\n    JAWT_GetAWT(env, &amp;awt);\r\n    JAWT_DrawingSurface* ds = awt.GetDrawingSurface(env, canvas);\r\n    ds-&gt;Lock(ds);\r\n    JAWT_DrawingSurfaceInfo* dsi = ds-&gt;GetDrawingSurfaceInfo(ds);\r\n    JAWT_Win32DrawingSurfaceInfo* dsi_win = (JAWT_Win32DrawingSurfaceInfo*)dsi-&gt;platformInfo;\r\n    HWND hwnd = dsi_win-&gt;hwnd;\r\n    ...\r\n}\r\n```\r\n\r\nI can&#39;t call `JAWT_GetAWT` from Panama though, because it needs a `JNIEnv` argument, which is only available in JNI calls. How do I get the `HWND` (or `JAWT_DrawingSurface`) of the Canvas instead?\r\n\r\nI&#39;ve tried looking online for any sort of API I could use to do this, but I haven&#39;t found anything. I&#39;m hoping someone here might know.","title":"How do I get the HWND of a Canvas using Panama?","body":"<p>I'm porting a program that uses JNI to use Panama instead. This program uses OpenGL to draw onto a <code>Canvas</code> object. I can port the Windows and OpenGL calls to use Panama, but the problem is I need to get the HWND of the Canvas I want to draw to. The C code looks like this:</p>\n<pre class=\"lang-c prettyprint-override\"><code>JNIEXPORT void JNICALL Java_somepackage_SomeCanvas_paint(JNIEnv* env, jobject canvas, jobject graphics)\n{\n    JAWT awt;\n    awt.version = JAWT_VERSION_1_4;\n    JAWT_GetAWT(env, &amp;awt);\n    JAWT_DrawingSurface* ds = awt.GetDrawingSurface(env, canvas);\n    ds-&gt;Lock(ds);\n    JAWT_DrawingSurfaceInfo* dsi = ds-&gt;GetDrawingSurfaceInfo(ds);\n    JAWT_Win32DrawingSurfaceInfo* dsi_win = (JAWT_Win32DrawingSurfaceInfo*)dsi-&gt;platformInfo;\n    HWND hwnd = dsi_win-&gt;hwnd;\n    ...\n}\n</code></pre>\n<p>I can't call <code>JAWT_GetAWT</code> from Panama though, because it needs a <code>JNIEnv</code> argument, which is only available in JNI calls. How do I get the <code>HWND</code> (or <code>JAWT_DrawingSurface</code>) of the Canvas instead?</p>\n<p>I've tried looking online for any sort of API I could use to do this, but I haven't found anything. I'm hoping someone here might know.</p>\n"},{"tags":["java","freemarker"],"comments":[{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1499858585,"post_id":45056224,"comment_id":77085605,"body_markdown":"what do you need to do? print all Foo?","body":"what do you need to do? print all Foo?"},{"owner":{"account_id":1240064,"reputation":3356,"user_id":1202894,"accept_rate":71,"display_name":"Torque"},"score":0,"creation_date":1499858752,"post_id":45056224,"comment_id":77085709,"body_markdown":"Sure, that&#39;s fine. I do need to retain order, depth, and branch history (as in, if i have a, a.b, a.c and a.b.d, I need to retain the information that d is a child of b, not c)","body":"Sure, that&#39;s fine. I do need to retain order, depth, and branch history (as in, if i have a, a.b, a.c and a.b.d, I need to retain the information that d is a child of b, not c)"}],"answers":[{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499860033,"creation_date":1499860033,"answer_id":45056837,"question_id":45056224,"body_markdown":"You can use static methods to freemarker.\r\n\r\nAdd static method to Foo class printMe or doSomething \r\n\r\n    add public static printMe() { ...\r\n    }\r\n\r\nThis function will print itself and print it list as you need.\r\n\r\nNow just call it from freemarker template\r\n\r\n    ${statics[&quot;packageName.Foo&quot;].printMe()} \r\n\r\nsee [Accessing static methods][1]\r\n\r\n[1]:http://freemarker.org/docs/pgui_misc_beanwrapper.html#autoid_60","title":"FreeMarker recursive nested lists","body":"<p>You can use static methods to freemarker.</p>\n\n<p>Add static method to Foo class printMe or doSomething </p>\n\n<pre><code>add public static printMe() { ...\n}\n</code></pre>\n\n<p>This function will print itself and print it list as you need.</p>\n\n<p>Now just call it from freemarker template</p>\n\n<pre><code>${statics[\"packageName.Foo\"].printMe()} \n</code></pre>\n\n<p>see <a href=\"http://freemarker.org/docs/pgui_misc_beanwrapper.html#autoid_60\" rel=\"nofollow noreferrer\">Accessing static methods</a></p>\n"},{"tags":[],"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1678019715,"creation_date":1499871154,"answer_id":45061099,"question_id":45056224,"body_markdown":"FreeMarker macros (and functions) support recursion. So something like this:\r\n\r\n    &lt;#macro dumpFoo foo&gt;\r\n      ${foo.bar}\r\n      &lt;#list foo.foos as childFoo&gt;\r\n        &lt;@dumpFoo childFoo /&gt;\r\n      &lt;/#list&gt;\r\n    &lt;/#macro&gt;\r\n    \r\n    &lt;@dumpFoo myFoo /&gt;\r\n\r\nExample data-model (using https://try.freemarker.apache.org/ syntax, but it works equally well with `List`-s and `Foo` beans):\r\n\r\n    myFoo = {\r\n      &quot;bar&quot;: &quot;root&quot;,\r\n      &quot;foos&quot;: [\r\n        {\r\n          &quot;bar&quot;: &quot;child 1&quot;,\r\n          &quot;foos&quot;: [\r\n            {\r\n              &quot;bar&quot;: &quot;child 1.1&quot;,\r\n              &quot;foos&quot;: []\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          &quot;bar&quot;: &quot;child 2&quot;,\r\n          &quot;foos&quot;: []\r\n        }\r\n      ]\r\n    }\r\n\r\nOutput:\r\n\r\n      root\r\n      child 1\r\n      child 1.1\r\n      child 2","title":"FreeMarker recursive nested lists","body":"<p>FreeMarker macros (and functions) support recursion. So something like this:</p>\n<pre><code>&lt;#macro dumpFoo foo&gt;\n  ${foo.bar}\n  &lt;#list foo.foos as childFoo&gt;\n    &lt;@dumpFoo childFoo /&gt;\n  &lt;/#list&gt;\n&lt;/#macro&gt;\n\n&lt;@dumpFoo myFoo /&gt;\n</code></pre>\n<p>Example data-model (using <a href=\"https://try.freemarker.apache.org/\" rel=\"nofollow noreferrer\">https://try.freemarker.apache.org/</a> syntax, but it works equally well with <code>List</code>-s and <code>Foo</code> beans):</p>\n<pre><code>myFoo = {\n  &quot;bar&quot;: &quot;root&quot;,\n  &quot;foos&quot;: [\n    {\n      &quot;bar&quot;: &quot;child 1&quot;,\n      &quot;foos&quot;: [\n        {\n          &quot;bar&quot;: &quot;child 1.1&quot;,\n          &quot;foos&quot;: []\n        }\n      ]\n    },\n    {\n      &quot;bar&quot;: &quot;child 2&quot;,\n      &quot;foos&quot;: []\n    }\n  ]\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>  root\n  child 1\n  child 1.1\n  child 2\n</code></pre>\n"}],"owner":{"account_id":1240064,"reputation":3356,"user_id":1202894,"accept_rate":71,"display_name":"Torque"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3550,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":45061099,"answer_count":2,"score":4,"last_activity_date":1678019715,"creation_date":1499858322,"question_id":45056224,"body_markdown":"I have a data structure that looks like this:\r\n\r\n    public class Foo {\r\n        public Bar bar;\r\n        public List&lt;Foo&gt; foos = new ArrayList&lt;&gt;();\r\n    }\r\n\r\nEach instance of Foo can hold an arbitrary amount of `Foo`S, which of course in turn can contain even more `Foo`S and so on. So how would I go about making FreeMarker go through a list like that ?","title":"FreeMarker recursive nested lists","body":"<p>I have a data structure that looks like this:</p>\n\n<pre><code>public class Foo {\n    public Bar bar;\n    public List&lt;Foo&gt; foos = new ArrayList&lt;&gt;();\n}\n</code></pre>\n\n<p>Each instance of Foo can hold an arbitrary amount of <code>Foo</code>S, which of course in turn can contain even more <code>Foo</code>S and so on. So how would I go about making FreeMarker go through a list like that ?</p>\n"},{"tags":["java","google-chrome","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":3411393,"reputation":306,"user_id":2861219,"accept_rate":100,"display_name":"Harish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678004839,"creation_date":1678004839,"answer_id":75640971,"question_id":75640545,"body_markdown":"When the page reloads after using ```driver.manage().window().fullscreen();``` browser window will return to its normal size. If you want to keep the browser window in full-screen mode after the page is reloaded, you will need to include the &quot;fullscreen()&quot; method in your code again after the page reloads.\r\n\r\nAlternatively, you can use &#39;setSize()&#39; method to set the window size accordingly or &#39;maximize()&#39; method to maximize browser window and these changes persist even after page reload.\r\n\r\nUse &#39;setSize()&#39; as below:\r\n\r\n```driver.manage().window().setSize(height, width);``` where height and width, you can use your screen height and width to set the browser window to match that.\r\n\r\nUse &#39;maximize()&#39; method as below:\r\n\r\n```driver.manage().window().maximize();```","title":"Selenium java window().fullscreen() goes back to normal size","body":"<p>When the page reloads after using <code>driver.manage().window().fullscreen();</code> browser window will return to its normal size. If you want to keep the browser window in full-screen mode after the page is reloaded, you will need to include the &quot;fullscreen()&quot; method in your code again after the page reloads.</p>\n<p>Alternatively, you can use 'setSize()' method to set the window size accordingly or 'maximize()' method to maximize browser window and these changes persist even after page reload.</p>\n<p>Use 'setSize()' as below:</p>\n<p><code>driver.manage().window().setSize(height, width);</code> where height and width, you can use your screen height and width to set the browser window to match that.</p>\n<p>Use 'maximize()' method as below:</p>\n<p><code>driver.manage().window().maximize();</code></p>\n"},{"tags":[],"owner":{"account_id":27938804,"reputation":102,"user_id":21335232,"display_name":"Bhairu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678018262,"creation_date":1678018262,"answer_id":75642122,"question_id":75640545,"body_markdown":"You Can also use Dimension Class to set the browser Size.\r\n\r\nDimension size=new Dimension();\r\n\r\n//for current size of the browser\r\nint hight=size.gethight();\r\n\r\nint width=size.getwidth();\r\n\r\nDimension sz=new Dimension(1000,900);\r\n\r\nsz.manage().window.setSize(sz);\r\n\r\n///You can also use the JavaScript Engine to find the height and width of the browser.\r\n\r\nEx-\r\n var w =window.innerWidth;\r\nvar h = window.innerHeight;\r\n\r\n\r\n","title":"Selenium java window().fullscreen() goes back to normal size","body":"<p>You Can also use Dimension Class to set the browser Size.</p>\n<p>Dimension size=new Dimension();</p>\n<p>//for current size of the browser\nint hight=size.gethight();</p>\n<p>int width=size.getwidth();</p>\n<p>Dimension sz=new Dimension(1000,900);</p>\n<p>sz.manage().window.setSize(sz);</p>\n<p>///You can also use the JavaScript Engine to find the height and width of the browser.</p>\n<p>Ex-\nvar w =window.innerWidth;\nvar h = window.innerHeight;</p>\n"}],"owner":{"account_id":4904476,"reputation":4812,"user_id":3951576,"accept_rate":50,"display_name":"eastwater"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75640971,"answer_count":2,"score":0,"last_activity_date":1678018262,"creation_date":1677997501,"question_id":75640545,"body_markdown":"Selenium java window().fullscreen() goes back to normal size.\r\n\r\n\r\n    driver.manage().window().fullscreen();\r\n\r\nFull scrren works on Chrome, but it immediately goes back to normal size on first page load.","title":"Selenium java window().fullscreen() goes back to normal size","body":"<p>Selenium java window().fullscreen() goes back to normal size.</p>\n<pre><code>driver.manage().window().fullscreen();\n</code></pre>\n<p>Full scrren works on Chrome, but it immediately goes back to normal size on first page load.</p>\n"},{"tags":["java","swift"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":4,"creation_date":1531862752,"post_id":51390296,"comment_id":89752952,"body_markdown":"The default Java hash function is _terrible_ and you almost never want to use it.","body":"The default Java hash function is <i>terrible</i> and you almost never want to use it."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1531862982,"post_id":51390296,"comment_id":89753034,"body_markdown":"&quot;the hashcode seems to be a pointer to the object or something&quot; the latter.","body":"&quot;the hashcode seems to be a pointer to the object or something&quot; the latter."}],"answers":[{"tags":[],"owner":{"account_id":7611913,"reputation":47287,"user_id":6541007,"display_name":"OOPer"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1531864342,"creation_date":1531864342,"answer_id":51390707,"question_id":51390296,"body_markdown":"***the hashcode seems to be a pointer to the object or something.***\r\n\r\nThat&#39;s true as describing the default implementation of `hashCode()` (`Object#hashCode()`) in Java.\r\n\r\nAnd the fact that Java provides this default implementation of `hashCode()` caused hundreds of bugs I have experienced.\r\n\r\nIn Java, `hashCode()` and `equals()` needs to be consistent to work with hash-value based collections like `HashMap` or `HashSet`.\r\n\r\nAnd in many, many, so many classes where `equals()` is defined other way than comparing _pointer to the object or something_. **The default implementation of `hashCode()` is never consistent with such `equals()` and causes some sort of bugs, which are hard to find**.\r\n\r\nSwift is trying to tell us that hash-value needs to be consistent with the type&#39;s _equality_ in a stronger way than other languages.\r\n\r\n[SE-0185][1] introduced an easy way to conform to `Equatable` and `Hashable`. In a suitable condition and the _equality_ is trivial, you do not need to _define the function_.\r\n\r\nThe default implementation of `hashCode()` in Java is useless and you must override it when you have overridden `equals()`, and compiler gives us no warnings even if we forgot to override `hashCode()`. Is that really a _comfort_?\r\n\r\n  [1]: https://github.com/apple/swift-evolution/blob/master/proposals/0185-synthesize-equatable-hashable.md","title":"Why doesn&#39;t Swift provide hashable for every class implicitly?","body":"<p><strong><em>the hashcode seems to be a pointer to the object or something.</em></strong></p>\n\n<p>That's true as describing the default implementation of <code>hashCode()</code> (<code>Object#hashCode()</code>) in Java.</p>\n\n<p>And the fact that Java provides this default implementation of <code>hashCode()</code> caused hundreds of bugs I have experienced.</p>\n\n<p>In Java, <code>hashCode()</code> and <code>equals()</code> needs to be consistent to work with hash-value based collections like <code>HashMap</code> or <code>HashSet</code>.</p>\n\n<p>And in many, many, so many classes where <code>equals()</code> is defined other way than comparing <em>pointer to the object or something</em>. <strong>The default implementation of <code>hashCode()</code> is never consistent with such <code>equals()</code> and causes some sort of bugs, which are hard to find</strong>.</p>\n\n<p>Swift is trying to tell us that hash-value needs to be consistent with the type's <em>equality</em> in a stronger way than other languages.</p>\n\n<p><a href=\"https://github.com/apple/swift-evolution/blob/master/proposals/0185-synthesize-equatable-hashable.md\" rel=\"nofollow noreferrer\">SE-0185</a> introduced an easy way to conform to <code>Equatable</code> and <code>Hashable</code>. In a suitable condition and the <em>equality</em> is trivial, you do not need to <em>define the function</em>.</p>\n\n<p>The default implementation of <code>hashCode()</code> in Java is useless and you must override it when you have overridden <code>equals()</code>, and compiler gives us no warnings even if we forgot to override <code>hashCode()</code>. Is that really a <em>comfort</em>?</p>\n"},{"tags":[],"owner":{"account_id":523757,"reputation":60356,"user_id":3141234,"accept_rate":76,"display_name":"Alexander"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531865452,"creation_date":1531864470,"answer_id":51390728,"question_id":51390296,"body_markdown":"Java&#39;s only value types are the fixed set of &quot;primitives&quot; (`bool`, `char`, `byte`, `short`, `int`, `long`, `float`, `double`). Swift has a generalized mechanism for creating value types that Java doesn&#39;t. Using Identity (instance address) as the basis of a default value for a `hashValue` would make no sense, given that value types don&#39;t have identity.\r\n\r\nReference types (instances of classes, called objects) are passed by copying the pointer that points to the object. If you had some object `a`, took its default `hashCode`, then passed it to a function `f` as parameter `p`, then `p.hashCode()` would be the same as `a.hashCode()`, because the pointer value is preserved.\r\n\r\nValue types (instances of structs, tuples and enums) are passed by copying their content, or their `value`. If you had some instance `a`, and tried to derive a `hashCode` based off the base address where `a`&#39;s members starts, you&#39;ll get some value. But when you passed it to a function `f` as a parameter `p`, you would cause a copy of `a`&#39;s members into the memory set aside on the stack for `p` within `f`. This is at a *different* location than `a`. If you tried to tried to derive a `hashCode` based off the base address where `p`&#39;s members start, you would get *a different value!*\r\n\r\nThus, identity doesn&#39;t exist for value types. An `Int8` with pattern `0b00000001` here has the exact same value as an `Int8` pattern somewhere else that&#39;s also `0b00000001`. This is different from two heap objects, which can each have the same content, but be distinguished apart by their different (but psuedo-permanent) locations, which forms the basis of their identity.\r\n\r\nThere&#39;s an open [JDK enhancement proposal (#169)](http://openjdk.java.net/jeps/169) for introducing generalized value types, for its very obvious performance benefits in reducing the number of small short-lived objects like `Optional&lt;T&gt;`, `Point`, etc. I suspect they&#39;ll be running into these same hurdles that Swift experienced. Here&#39;s an excerpt from the JEP (emphasis mine):\r\n\r\n&gt; # Summary\r\n&gt; \r\n&gt; Provide JVM infrastructure for working with immutable and\r\n&gt; reference-free objects, in support of efficient by-value computation\r\n&gt; with non-primitive types.\r\n&gt; \r\n&gt; ...\r\n&gt;\r\n&gt; # Description\r\n&gt; \r\n&gt; A new operator lockPermanently will be defined which takes an Object\r\n&gt; and marks it as immutable and unaliasable.\r\n&gt; \r\n&gt; In general, a permanently locked object cannot be subjected\r\n&gt; meaningfully to any operation that depends on the reference identity\r\n&gt; of the object. An operation depends on reference identity if the\r\n&gt; operation produces different results depending on whether it applies\r\n&gt; to the original object or one of its clones. Thus:\r\n&gt; \r\n&gt; - Fields and array elements cannot be changed.\r\n&gt; - Synchronization cannot be\r\n&gt; performed.\r\n&gt; - Methods for waiting or notifying cannot be invoked. \r\n&gt; - **An identity hash code cannot be queried.**\r\n&gt; - **Pointer equality checks should not be performed.**","title":"Why doesn&#39;t Swift provide hashable for every class implicitly?","body":"<p>Java's only value types are the fixed set of \"primitives\" (<code>bool</code>, <code>char</code>, <code>byte</code>, <code>short</code>, <code>int</code>, <code>long</code>, <code>float</code>, <code>double</code>). Swift has a generalized mechanism for creating value types that Java doesn't. Using Identity (instance address) as the basis of a default value for a <code>hashValue</code> would make no sense, given that value types don't have identity.</p>\n\n<p>Reference types (instances of classes, called objects) are passed by copying the pointer that points to the object. If you had some object <code>a</code>, took its default <code>hashCode</code>, then passed it to a function <code>f</code> as parameter <code>p</code>, then <code>p.hashCode()</code> would be the same as <code>a.hashCode()</code>, because the pointer value is preserved.</p>\n\n<p>Value types (instances of structs, tuples and enums) are passed by copying their content, or their <code>value</code>. If you had some instance <code>a</code>, and tried to derive a <code>hashCode</code> based off the base address where <code>a</code>'s members starts, you'll get some value. But when you passed it to a function <code>f</code> as a parameter <code>p</code>, you would cause a copy of <code>a</code>'s members into the memory set aside on the stack for <code>p</code> within <code>f</code>. This is at a <em>different</em> location than <code>a</code>. If you tried to tried to derive a <code>hashCode</code> based off the base address where <code>p</code>'s members start, you would get <em>a different value!</em></p>\n\n<p>Thus, identity doesn't exist for value types. An <code>Int8</code> with pattern <code>0b00000001</code> here has the exact same value as an <code>Int8</code> pattern somewhere else that's also <code>0b00000001</code>. This is different from two heap objects, which can each have the same content, but be distinguished apart by their different (but psuedo-permanent) locations, which forms the basis of their identity.</p>\n\n<p>There's an open <a href=\"http://openjdk.java.net/jeps/169\" rel=\"nofollow noreferrer\">JDK enhancement proposal (#169)</a> for introducing generalized value types, for its very obvious performance benefits in reducing the number of small short-lived objects like <code>Optional&lt;T&gt;</code>, <code>Point</code>, etc. I suspect they'll be running into these same hurdles that Swift experienced. Here's an excerpt from the JEP (emphasis mine):</p>\n\n<blockquote>\n  <h1>Summary</h1>\n  \n  <p>Provide JVM infrastructure for working with immutable and\n  reference-free objects, in support of efficient by-value computation\n  with non-primitive types.</p>\n  \n  <p>...</p>\n  \n  <h1>Description</h1>\n  \n  <p>A new operator lockPermanently will be defined which takes an Object\n  and marks it as immutable and unaliasable.</p>\n  \n  <p>In general, a permanently locked object cannot be subjected\n  meaningfully to any operation that depends on the reference identity\n  of the object. An operation depends on reference identity if the\n  operation produces different results depending on whether it applies\n  to the original object or one of its clones. Thus:</p>\n  \n  <ul>\n  <li>Fields and array elements cannot be changed.</li>\n  <li>Synchronization cannot be\n  performed.</li>\n  <li>Methods for waiting or notifying cannot be invoked. </li>\n  <li><strong>An identity hash code cannot be queried.</strong></li>\n  <li><strong>Pointer equality checks should not be performed.</strong></li>\n  </ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":56147,"reputation":28942,"user_id":168179,"accept_rate":57,"display_name":"Mark A. Donohoe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678018228,"creation_date":1583719701,"answer_id":60593927,"question_id":51390296,"body_markdown":"I&#39;ve posted another answer [here on Stack Overflow][1] that goes over how to implicitly add `Equatable` for all class types without having to do anything manually by simply defining global operators for `==` and `!=`.\r\n\r\nAdditionally, I show how you can also make all classes implement `Hashable` by simply specifying the protocol on the type you want to make `Hashable` but without having to implement the hashing function. It uses an extension to implement it for you.\r\n\r\nBoth have become staples of all new projects I create.\r\n\r\n  [1]: https://stackoverflow.com/a/60580514/168179","title":"Why doesn&#39;t Swift provide hashable for every class implicitly?","body":"<p>I've posted another answer <a href=\"https://stackoverflow.com/a/60580514/168179\">here on Stack Overflow</a> that goes over how to implicitly add <code>Equatable</code> for all class types without having to do anything manually by simply defining global operators for <code>==</code> and <code>!=</code>.</p>\n<p>Additionally, I show how you can also make all classes implement <code>Hashable</code> by simply specifying the protocol on the type you want to make <code>Hashable</code> but without having to implement the hashing function. It uses an extension to implement it for you.</p>\n<p>Both have become staples of all new projects I create.</p>\n"}],"owner":{"account_id":557270,"reputation":13861,"user_id":919348,"accept_rate":63,"display_name":"Novellizator"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1678018228,"creation_date":1531862138,"question_id":51390296,"body_markdown":"It&#39;s done in java easily - the hashcode seems to be a pointer to the object or something. Why didn&#39;t swift provide us with the same comfort and requires us to define the function ourselves?","title":"Why doesn&#39;t Swift provide hashable for every class implicitly?","body":"<p>It's done in java easily - the hashcode seems to be a pointer to the object or something. Why didn't swift provide us with the same comfort and requires us to define the function ourselves?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678016973,"creation_date":1678016973,"answer_id":75642020,"question_id":75641929,"body_markdown":"You have to also update the values your bill:\r\n\r\n    @Autowired\r\n    private StockRepository stockRepository;\r\n\r\n    @Transactional\r\n    public Bill createBill(Bill bill) {\r\n      for (Billcart data : bill.getBillcart()) {\r\n        Stock entity = stockRepository.findByItemcode(data.getItemcode());\r\n        entity.setAvailableQuantity(\r\n          entity.getAvailableQuantity()-data.getQuantity());\r\n        entity = stockRepository.save(entity);\r\n        data.setAvailableQuantity(entity.getAvailableQuantity());\r\n      }\r\n    }\r\n","title":"Comapre List of entity with list of data from frontend and update field which are matching in Springboot","body":"<p>You have to also update the values your bill:</p>\n<pre><code>@Autowired\nprivate StockRepository stockRepository;\n\n@Transactional\npublic Bill createBill(Bill bill) {\n  for (Billcart data : bill.getBillcart()) {\n    Stock entity = stockRepository.findByItemcode(data.getItemcode());\n    entity.setAvailableQuantity(\n      entity.getAvailableQuantity()-data.getQuantity());\n    entity = stockRepository.save(entity);\n    data.setAvailableQuantity(entity.getAvailableQuantity());\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":22149354,"reputation":347,"user_id":16398144,"display_name":"ASIF KAIF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678016973,"creation_date":1678016077,"question_id":75641929,"body_markdown":"I want to deduct the available quantity  with the matching itemcode  of the stock \r\n\r\njson data from postman\r\n```\r\n [billamount:1000,\r\ndisocunt:500,\r\nbillcart[{itemcode:1001, quantity:4 }, {itemcode:1002, quantity:7 }]]\r\n```\r\n method\r\n```\r\n @Autowired\r\nprivate StockRepository stockRepository;\r\n\r\npublic Bill createBill(Bill bill) {\r\n\r\n for (Billcart data : bill.getBillcart()) {\r\n  Stock entity = stockRepository.findByItemcode(data.getItemcode());\r\n\r\n if(entity.getItemcode() ==data.getItemcode()){\r\n   entity.setAvailableQuantity(entity.getAvailableQuantity()- data.getQuantity())\r\nstockRepository.save(entity)\r\n  }\r\n}\r\n````\r\n\r\nbefore deduction\r\n``` \r\n [{itemcode:1001, availableQuantity:20 }, {itemcode:1002, availableQuantity:40 }]]\r\n```\r\n\r\nresult should be like this:\r\n``` \r\n [{itemcode:1001, availableQuantity:16 }, {itemcode:1002, availableQuantity:33 }]]\r\n```","title":"Comapre List of entity with list of data from frontend and update field which are matching in Springboot","body":"<p>I want to deduct the available quantity  with the matching itemcode  of the stock</p>\n<p>json data from postman</p>\n<pre><code> [billamount:1000,\ndisocunt:500,\nbillcart[{itemcode:1001, quantity:4 }, {itemcode:1002, quantity:7 }]]\n</code></pre>\n<p>method</p>\n<pre><code> @Autowired\nprivate StockRepository stockRepository;\n\npublic Bill createBill(Bill bill) {\n\n for (Billcart data : bill.getBillcart()) {\n  Stock entity = stockRepository.findByItemcode(data.getItemcode());\n\n if(entity.getItemcode() ==data.getItemcode()){\n   entity.setAvailableQuantity(entity.getAvailableQuantity()- data.getQuantity())\nstockRepository.save(entity)\n  }\n}\n</code></pre>\n<p>before deduction</p>\n<pre><code> [{itemcode:1001, availableQuantity:20 }, {itemcode:1002, availableQuantity:40 }]]\n</code></pre>\n<p>result should be like this:</p>\n<pre><code> [{itemcode:1001, availableQuantity:16 }, {itemcode:1002, availableQuantity:33 }]]\n</code></pre>\n"},{"tags":["java","r","xlsx"],"comments":[{"owner":{"account_id":21023567,"reputation":162,"user_id":15449339,"display_name":"Miguel Angel Acosta Chinchilla"},"score":1,"creation_date":1677968359,"post_id":75638469,"comment_id":133443096,"body_markdown":"Try to use `openxlsx ` with  `write.xlsx` function.","body":"Try to use <code>openxlsx </code> with  <code>write.xlsx</code> function."}],"owner":{"account_id":26680729,"reputation":97,"user_id":20290723,"display_name":"ginn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678015791,"answer_count":0,"score":0,"last_activity_date":1678015752,"creation_date":1677961737,"question_id":75638469,"body_markdown":"I&#39;m trying to write a xlsx file with the xlsx package like this:\r\n\r\n```r\r\nxlsx:: write.xlsx (x = cv, file = &quot;./Tables/cv.xlsx&quot;, \r\n                   append = F, sheetName = &quot;XXX&quot;, col.names = T, row.names = F)\r\n```\r\n\r\nBut this error keeps showing up:\r\n\r\n```none\r\nError in .jcall(row[[ir]], &quot;Lorg/apache/poi/ss/usermodel/Cell;&quot;, &quot;createCell&quot;,  : \r\n  Java Exception &lt;no description because toString() failed&gt;\r\n```\r\n\r\nDoes anyone know what it could be?","title":"write.xlsx error in .jcall: Java Exception &lt;no description because toString() failed&gt;","body":"<p>I'm trying to write a xlsx file with the xlsx package like this:</p>\n<pre class=\"lang-r prettyprint-override\"><code>xlsx:: write.xlsx (x = cv, file = &quot;./Tables/cv.xlsx&quot;, \n                   append = F, sheetName = &quot;XXX&quot;, col.names = T, row.names = F)\n</code></pre>\n<p>But this error keeps showing up:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Error in .jcall(row[[ir]], &quot;Lorg/apache/poi/ss/usermodel/Cell;&quot;, &quot;createCell&quot;,  : \n  Java Exception &lt;no description because toString() failed&gt;\n</code></pre>\n<p>Does anyone know what it could be?</p>\n"},{"tags":["python","java","arrays","string","parsing"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1678015434,"post_id":75641844,"comment_id":133447807,"body_markdown":"You can find where in the string the first array ends and the second begins, and insert at that position. In particular for Java, look at the documentation for the indexOf() method in the String class.","body":"You can find where in the string the first array ends and the second begins, and insert at that position. In particular for Java, look at the documentation for the indexOf() method in the String class."},{"owner":{"account_id":21717957,"reputation":41,"user_id":16028693,"display_name":"vrubayka"},"score":0,"creation_date":1678015745,"post_id":75641844,"comment_id":133447854,"body_markdown":"I want to use this method on a list of Strings with differing lengths, so I can&#39;t use indexOf()","body":"I want to use this method on a list of Strings with differing lengths, so I can&#39;t use indexOf()"},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1678025597,"post_id":75641844,"comment_id":133449272,"body_markdown":"What do you mean you can&#39;t? It&#39;s perfectly possible to iterate through a list and do what you need to do with each individual string it contains. And if one or more of those individual strings contain textual representations of more than two arrays, you can use `split()`. In any case, if there are circumstances that prevent you taking a certain approach to solve the problem, you should state that in the question itself.","body":"What do you mean you can&#39;t? It&#39;s perfectly possible to iterate through a list and do what you need to do with each individual string it contains. And if one or more of those individual strings contain textual representations of more than two arrays, you can use <code>split()</code>. In any case, if there are circumstances that prevent you taking a certain approach to solve the problem, you should state that in the question itself."}],"answers":[{"tags":[],"owner":{"account_id":7557758,"reputation":6267,"user_id":5736671,"display_name":"ilias-sp"},"down_vote_count":2,"up_vote_count":3,"is_accepted":true,"score":1,"last_activity_date":1678015400,"creation_date":1678015400,"answer_id":75641872,"question_id":75641844,"body_markdown":"Python-wise, your `str` variable uses a reserved keyword and missing the quotes.\r\n\r\nyou can do it in python as below:\r\n\r\n```\r\nmystr = &quot;[[a,b,c], [d,e,f]]&quot;       \r\nprint(mystr.replace(&#39;],&#39;, &#39;],\\n&#39;))\r\n```\r\n\r\nprints:\r\n\r\n```\r\n[[a,b,c],\r\n [d,e,f]]\r\n```","title":"Adding a Substring to a String without knowing the position","body":"<p>Python-wise, your <code>str</code> variable uses a reserved keyword and missing the quotes.</p>\n<p>you can do it in python as below:</p>\n<pre><code>mystr = &quot;[[a,b,c], [d,e,f]]&quot;       \nprint(mystr.replace('],', '],\\n'))\n</code></pre>\n<p>prints:</p>\n<pre><code>[[a,b,c],\n [d,e,f]]\n</code></pre>\n"}],"owner":{"account_id":21717957,"reputation":41,"user_id":16028693,"display_name":"vrubayka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":75641872,"answer_count":1,"score":0,"last_activity_date":1678015400,"creation_date":1678015098,"question_id":75641844,"body_markdown":"I want to add a char(newline) to a String by specifiying the location with a Substring.\r\n\r\nIs that possible in Python or Java?\r\n\r\nHere&#39;s how I imagine it,\r\n\r\nNewline is added to the String at the position between two arrays `&#39;],&#39;`:\r\n\r\n```\r\nstr = [[a,b,c], [d,e,f]]\r\n\r\nresult = addString(str, &#39;],&#39;, &#39;\\n&#39;)\r\nprint(result)\r\n\r\nOutput:\r\n\r\n[[a,b,c],\r\n[d,e,f]]\r\n```","title":"Adding a Substring to a String without knowing the position","body":"<p>I want to add a char(newline) to a String by specifiying the location with a Substring.</p>\n<p>Is that possible in Python or Java?</p>\n<p>Here's how I imagine it,</p>\n<p>Newline is added to the String at the position between two arrays <code>'],'</code>:</p>\n<pre><code>str = [[a,b,c], [d,e,f]]\n\nresult = addString(str, '],', '\\n')\nprint(result)\n\nOutput:\n\n[[a,b,c],\n[d,e,f]]\n</code></pre>\n"},{"tags":["java","math","reference","kotlin"],"comments":[{"owner":{"account_id":1562546,"reputation":24865,"user_id":1452094,"display_name":"Kiskae"},"score":5,"creation_date":1513435413,"post_id":47846653,"comment_id":82657605,"body_markdown":"`import kotlin.math.sqrt`","body":"<code>import kotlin.math.sqrt</code>"},{"owner":{"account_id":11355751,"reputation":131,"user_id":8325398,"accept_rate":75,"display_name":"Baptiste"},"score":0,"creation_date":1513435762,"post_id":47846653,"comment_id":82657715,"body_markdown":"Why did import kotlin.* doesn&#39;t work ?","body":"Why did import kotlin.* doesn&#39;t work ?"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1513435903,"post_id":47846653,"comment_id":82657767,"body_markdown":"Because the star notation is not recursive, just like in Java.","body":"Because the star notation is not recursive, just like in Java."},{"owner":{"account_id":61249,"reputation":23600,"user_id":182660,"accept_rate":50,"display_name":"SergGr"},"score":2,"creation_date":1513436058,"post_id":47846653,"comment_id":82657811,"body_markdown":"What duffymo is saying is that if you want to use `*` you should `import kotlin.math.*` rather than `import kotlin.*`","body":"What duffymo is saying is that if you want to use <code>*</code> you should <code>import kotlin.math.*</code> rather than <code>import kotlin.*</code>"},{"owner":{"account_id":8191460,"reputation":13817,"user_id":7366707,"accept_rate":86,"display_name":"Salem"},"score":1,"creation_date":1513438021,"post_id":47846653,"comment_id":82658408,"body_markdown":"Also, you can (and should) remove those semicolons. They have no effect.","body":"Also, you can (and should) remove those semicolons. They have no effect."},{"owner":{"account_id":11355751,"reputation":131,"user_id":8325398,"accept_rate":75,"display_name":"Baptiste"},"score":0,"creation_date":1513518717,"post_id":47846653,"comment_id":82675632,"body_markdown":"I have the same problem when I use the eval() function. How can I know which package to import ?","body":"I have the same problem when I use the eval() function. How can I know which package to import ?"},{"owner":{"account_id":8701082,"reputation":426,"user_id":6510944,"display_name":"vSomers"},"score":0,"creation_date":1568030324,"post_id":47846653,"comment_id":102133299,"body_markdown":"@BaptisteMarcos Which IDE are you using? Maybe you should consider using an IDE such as [Intellij](https://www.jetbrains.com/idea/), where you can configure auto import to avoid doing it manually.","body":"@BaptisteMarcos Which IDE are you using? Maybe you should consider using an IDE such as <a href=\"https://www.jetbrains.com/idea/\" rel=\"nofollow noreferrer\">Intellij</a>, where you can configure auto import to avoid doing it manually."}],"answers":[{"tags":[],"owner":{"account_id":25636094,"reputation":1,"user_id":19405664,"display_name":"Eugene Kinyanjui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678015382,"creation_date":1677591595,"answer_id":75592854,"question_id":47846653,"body_markdown":"you can import `kotlin.math.pow`\r\n\r\nit works like this\r\n```\r\nDouble.pow(x)\r\n```\r\nso, 2 squared would be (2.0).pow(2)\r\nthe square root of 4 would be (4.0).pow(0.5)","title":"Unresolved reference sqrt() Kotlin","body":"<p>you can import <code>kotlin.math.pow</code></p>\n<p>it works like this</p>\n<pre><code>Double.pow(x)\n</code></pre>\n<p>so, 2 squared would be (2.0).pow(2)\nthe square root of 4 would be (4.0).pow(0.5)</p>\n"}],"owner":{"account_id":11355751,"reputation":131,"user_id":8325398,"accept_rate":75,"display_name":"Baptiste"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5517,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678015382,"creation_date":1513434389,"question_id":47846653,"body_markdown":"I want to use :  ([link][1])\r\n\r\n    fun sqrt(x: Double): Double\r\n\r\nwhich is a basic math function in my kotlin version :   \r\n\r\n&gt; kotlinc-jvm 1.2.0 (JRE 1.8.0_151-b12)\r\n\r\nActually my code is :\r\n\r\n    fun main(args: Array&lt;String&gt;){ \r\n        println(doSqrt(&quot;16&quot;));\r\n    }\r\n\r\n    fun doSqrt(num: String) : String{\r\n        var number: Int = num.toInt();\r\n        var nb: Double = number.toDouble();\r\n        var result: Double = sqrt(nb);\r\n        return (result.toString())\r\n    }\r\n\r\nbut when I compile with \r\n\r\n&gt; kotlinc test.kt -include-runtime -d test.jar\r\n\r\nResult is :\r\n\r\n    test.kt:10:26: error: unresolved reference: sqrt\r\n         var result: Double = sqrt(nb);\r\n\r\nI try to import \r\n\r\n&gt; kotlin.Math\r\n\r\nIt doesn&#39;t work I also try to import\r\n\r\n&gt; kotlin.*\r\n\r\nSame problem...\r\n\r\nWhich way to use the sqrt function in Kotlin ?\r\n\r\n\r\n  [1]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.math/sqrt.html","title":"Unresolved reference sqrt() Kotlin","body":"<p>I want to use :  (<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.math/sqrt.html\" rel=\"nofollow noreferrer\">link</a>)</p>\n\n<pre><code>fun sqrt(x: Double): Double\n</code></pre>\n\n<p>which is a basic math function in my kotlin version :   </p>\n\n<blockquote>\n  <p>kotlinc-jvm 1.2.0 (JRE 1.8.0_151-b12)</p>\n</blockquote>\n\n<p>Actually my code is :</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;){ \n    println(doSqrt(\"16\"));\n}\n\nfun doSqrt(num: String) : String{\n    var number: Int = num.toInt();\n    var nb: Double = number.toDouble();\n    var result: Double = sqrt(nb);\n    return (result.toString())\n}\n</code></pre>\n\n<p>but when I compile with </p>\n\n<blockquote>\n  <p>kotlinc test.kt -include-runtime -d test.jar</p>\n</blockquote>\n\n<p>Result is :</p>\n\n<pre><code>test.kt:10:26: error: unresolved reference: sqrt\n     var result: Double = sqrt(nb);\n</code></pre>\n\n<p>I try to import </p>\n\n<blockquote>\n  <p>kotlin.Math</p>\n</blockquote>\n\n<p>It doesn't work I also try to import</p>\n\n<blockquote>\n  <p>kotlin.*</p>\n</blockquote>\n\n<p>Same problem...</p>\n\n<p>Which way to use the sqrt function in Kotlin ?</p>\n"},{"tags":["java","testing","annotations","junit4","assertion"],"comments":[{"owner":{"account_id":112219,"reputation":19256,"user_id":296106,"accept_rate":75,"display_name":"c_maker"},"score":2,"creation_date":1269213219,"post_id":2469911,"comment_id":2482384,"body_markdown":"Now that I think about it a little more... Are you sure it is a good idea to assert the message? Your question made me dig into the junit source code a bit and it seems they could have easily added this feature. The fact that they did *not*, makes me think it might not be considered a good practice. Why is it important in your project to assert the message?","body":"Now that I think about it a little more... Are you sure it is a good idea to assert the message? Your question made me dig into the junit source code a bit and it seems they could have easily added this feature. The fact that they did <i>not</i>, makes me think it might not be considered a good practice. Why is it important in your project to assert the message?"},{"owner":{"account_id":27913,"reputation":5642,"user_id":74098,"accept_rate":69,"display_name":"Cshah"},"score":11,"creation_date":1269228015,"post_id":2469911,"comment_id":2483227,"body_markdown":"good question.Say that a method containing 15 lines of code throws the same exception from 2 different places. My test cases need to assert not just the exception class but also the message in it. In an ideal world, any abnormal behavior should have its own exception.If that had been the case, my question would never arise but production applications donot have their unique custom exception for each abnormal behavior.","body":"good question.Say that a method containing 15 lines of code throws the same exception from 2 different places. My test cases need to assert not just the exception class but also the message in it. In an ideal world, any abnormal behavior should have its own exception.If that had been the case, my question would never arise but production applications donot have their unique custom exception for each abnormal behavior."},{"owner":{"account_id":122311,"reputation":7485,"user_id":316041,"accept_rate":75,"display_name":"bancer"},"score":0,"creation_date":1580643476,"post_id":2469911,"comment_id":106157638,"body_markdown":"As a side note - there is `@expectedExceptionMessage` annotation in PHPUnit.","body":"As a side note - there is <code>@expectedExceptionMessage</code> annotation in PHPUnit."}],"answers":[{"tags":[],"owner":{"account_id":112219,"reputation":19256,"user_id":296106,"accept_rate":75,"display_name":"c_maker"},"down_vote_count":7,"up_vote_count":45,"is_accepted":false,"score":38,"last_activity_date":1385351788,"creation_date":1269035587,"answer_id":2480814,"question_id":2469911,"body_markdown":"Do you have to use `@Test(expected=SomeException.class)`? When we have to assert the actual message of the exception, this is what we do.\r\n\r\n    @Test\r\n    public void myTestMethod()\r\n    {\r\n      try\r\n      {\r\n        final Integer employeeId = null;\r\n        new Employee(employeeId);\r\n        fail(&quot;Should have thrown SomeException but did not!&quot;);\r\n      }\r\n      catch( final SomeException e )\r\n      {\r\n        final String msg = &quot;Employee ID is null&quot;;\r\n        assertEquals(msg, e.getMessage());\r\n      }\r\n    }","title":"How do I assert my exception message with JUnit Test annotation?","body":"<p>Do you have to use <code>@Test(expected=SomeException.class)</code>? When we have to assert the actual message of the exception, this is what we do.</p>\n\n<pre><code>@Test\npublic void myTestMethod()\n{\n  try\n  {\n    final Integer employeeId = null;\n    new Employee(employeeId);\n    fail(\"Should have thrown SomeException but did not!\");\n  }\n  catch( final SomeException e )\n  {\n    final String msg = \"Employee ID is null\";\n    assertEquals(msg, e.getMessage());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":37030,"reputation":6229,"user_id":105782,"display_name":"Jesse Merriman"},"down_vote_count":1,"up_vote_count":583,"is_accepted":true,"score":582,"last_activity_date":1568284913,"creation_date":1309386367,"answer_id":6527990,"question_id":2469911,"body_markdown":"You could use the [`@Rule`][1] annotation with [`ExpectedException`][2], like this:\r\n\r\n    @Rule\r\n    public ExpectedException expectedEx = ExpectedException.none();\r\n\r\n    @Test\r\n    public void shouldThrowRuntimeExceptionWhenEmployeeIDisNull() throws Exception {\r\n        expectedEx.expect(RuntimeException.class);\r\n        expectedEx.expectMessage(&quot;Employee ID is null&quot;);\r\n        \r\n        // do something that should throw the exception...\r\n        System.out.println(&quot;=======Starting Exception process=======&quot;);\r\n        throw new NullPointerException(&quot;Employee ID is null&quot;);\r\n    }\r\n\r\nNote that the example in the `ExpectedException` docs is (currently) wrong - there&#39;s no public constructor, so you have to use `ExpectedException.none()`.\r\n\r\n  [1]: http://junit.org/javadoc/latest/org/junit/Rule.html\r\n  [2]: http://junit.org/javadoc/latest/org/junit/rules/ExpectedException.html","title":"How do I assert my exception message with JUnit Test annotation?","body":"<p>You could use the <a href=\"http://junit.org/javadoc/latest/org/junit/Rule.html\" rel=\"noreferrer\"><code>@Rule</code></a> annotation with <a href=\"http://junit.org/javadoc/latest/org/junit/rules/ExpectedException.html\" rel=\"noreferrer\"><code>ExpectedException</code></a>, like this:</p>\n\n<pre><code>@Rule\npublic ExpectedException expectedEx = ExpectedException.none();\n\n@Test\npublic void shouldThrowRuntimeExceptionWhenEmployeeIDisNull() throws Exception {\n    expectedEx.expect(RuntimeException.class);\n    expectedEx.expectMessage(\"Employee ID is null\");\n\n    // do something that should throw the exception...\n    System.out.println(\"=======Starting Exception process=======\");\n    throw new NullPointerException(\"Employee ID is null\");\n}\n</code></pre>\n\n<p>Note that the example in the <code>ExpectedException</code> docs is (currently) wrong - there's no public constructor, so you have to use <code>ExpectedException.none()</code>.</p>\n"},{"tags":[],"owner":{"account_id":5089332,"reputation":97,"user_id":4082878,"display_name":"Jyothi"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1411726394,"creation_date":1411726394,"answer_id":26057172,"question_id":2469911,"body_markdown":"If using @Rule, the exception set is applied to all the test methods in the Test class. ","title":"How do I assert my exception message with JUnit Test annotation?","body":"<p>If using @Rule, the exception set is applied to all the test methods in the Test class. </p>\n"},{"tags":[],"owner":{"account_id":333463,"reputation":6290,"user_id":659354,"accept_rate":81,"display_name":"Raystorm"},"down_vote_count":7,"up_vote_count":72,"is_accepted":false,"score":65,"last_activity_date":1478884079,"creation_date":1434472909,"answer_id":30873448,"question_id":2469911,"body_markdown":"I like the [`@Rule`](https://stackoverflow.com/a/6527990/659354) answer. However, if for some reason you don&#39;t want to use rules. There is a third option.\r\n\r\n    @Test (expected = RuntimeException.class)\r\n    public void myTestMethod()\r\n    {\r\n       try\r\n       {\r\n          //Run exception throwing operation here\r\n       }\r\n       catch(RuntimeException re)\r\n       {\r\n          String message = &quot;Employee ID is null&quot;;\r\n          assertEquals(message, re.getMessage());\r\n          throw re;\r\n        }\r\n        fail(&quot;Employee Id Null exception did not throw!&quot;);\r\n      }","title":"How do I assert my exception message with JUnit Test annotation?","body":"<p>I like the <a href=\"https://stackoverflow.com/a/6527990/659354\"><code>@Rule</code></a> answer. However, if for some reason you don't want to use rules. There is a third option.</p>\n\n<pre><code>@Test (expected = RuntimeException.class)\npublic void myTestMethod()\n{\n   try\n   {\n      //Run exception throwing operation here\n   }\n   catch(RuntimeException re)\n   {\n      String message = \"Employee ID is null\";\n      assertEquals(message, re.getMessage());\n      throw re;\n    }\n    fail(\"Employee Id Null exception did not throw!\");\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":470389,"reputation":5201,"user_id":877570,"accept_rate":40,"display_name":"user64141"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1439487574,"creation_date":1439487574,"answer_id":31994986,"question_id":2469911,"body_markdown":"Raystorm had a good answer.  I&#39;m not a big fan of Rules either.  I do something similar, except that I create the following utility class to help readability and usability, which is one of the big plus&#39;es of annotations in the first place.  \r\n\r\nAdd this utility class:\r\n\r\n    import org.junit.Assert;\r\n    \r\n    public abstract class ExpectedRuntimeExceptionAsserter {\r\n    \r\n        private String expectedExceptionMessage;\r\n    \r\n        public ExpectedRuntimeExceptionAsserter(String expectedExceptionMessage) {\r\n            this.expectedExceptionMessage = expectedExceptionMessage;\r\n        }\r\n    \r\n        public final void run(){\r\n            try{\r\n                expectException();\r\n                Assert.fail(String.format(&quot;Expected a RuntimeException &#39;%s&#39;&quot;, expectedExceptionMessage));\r\n            } catch (RuntimeException e){\r\n                Assert.assertEquals(&quot;RuntimeException caught, but unexpected message&quot;, expectedExceptionMessage, e.getMessage());\r\n            }\r\n        }\r\n    \r\n        protected abstract void expectException();\r\n    \r\n    }\r\n\r\n\r\nThen for my unit test, all I need is this code:\r\n\r\n    @Test\r\n    public void verifyAnonymousUserCantAccessPrivilegedResourceTest(){\r\n        new ExpectedRuntimeExceptionAsserter(&quot;anonymous user can&#39;t access privileged resource&quot;){\r\n            @Override\r\n            protected void expectException() {\r\n                throw new RuntimeException(&quot;anonymous user can&#39;t access privileged resource&quot;);\r\n            }\r\n        }.run(); //passes test; expected exception is caught, and this @Test returns normally as &quot;Passed&quot;\r\n    }\r\n\r\n\r\n\r\n","title":"How do I assert my exception message with JUnit Test annotation?","body":"<p>Raystorm had a good answer.  I'm not a big fan of Rules either.  I do something similar, except that I create the following utility class to help readability and usability, which is one of the big plus'es of annotations in the first place.  </p>\n\n<p>Add this utility class:</p>\n\n<pre><code>import org.junit.Assert;\n\npublic abstract class ExpectedRuntimeExceptionAsserter {\n\n    private String expectedExceptionMessage;\n\n    public ExpectedRuntimeExceptionAsserter(String expectedExceptionMessage) {\n        this.expectedExceptionMessage = expectedExceptionMessage;\n    }\n\n    public final void run(){\n        try{\n            expectException();\n            Assert.fail(String.format(\"Expected a RuntimeException '%s'\", expectedExceptionMessage));\n        } catch (RuntimeException e){\n            Assert.assertEquals(\"RuntimeException caught, but unexpected message\", expectedExceptionMessage, e.getMessage());\n        }\n    }\n\n    protected abstract void expectException();\n\n}\n</code></pre>\n\n<p>Then for my unit test, all I need is this code:</p>\n\n<pre><code>@Test\npublic void verifyAnonymousUserCantAccessPrivilegedResourceTest(){\n    new ExpectedRuntimeExceptionAsserter(\"anonymous user can't access privileged resource\"){\n        @Override\n        protected void expectException() {\n            throw new RuntimeException(\"anonymous user can't access privileged resource\");\n        }\n    }.run(); //passes test; expected exception is caught, and this @Test returns normally as \"Passed\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":314815,"reputation":361,"user_id":630212,"display_name":"Krzysztof Cislo"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1439889504,"creation_date":1439889504,"answer_id":32068319,"question_id":2469911,"body_markdown":"Actually, the best usage is with try/catch. Why? Because you can control the place where you expect the exception.\r\n\r\nConsider this example:\r\n\r\n    @Test (expected = RuntimeException.class)\r\n    public void someTest() {\r\n       // test preparation\r\n       // actual test\r\n    }\r\n\r\nWhat if one day the code is modified and test preparation will throw a RuntimeException? In that case actual test is not even tested and even if it doesn&#39;t throw any exception the test will pass.\r\n\r\nThat is why it is much better to use try/catch than to rely on the annotation.","title":"How do I assert my exception message with JUnit Test annotation?","body":"<p>Actually, the best usage is with try/catch. Why? Because you can control the place where you expect the exception.</p>\n\n<p>Consider this example:</p>\n\n<pre><code>@Test (expected = RuntimeException.class)\npublic void someTest() {\n   // test preparation\n   // actual test\n}\n</code></pre>\n\n<p>What if one day the code is modified and test preparation will throw a RuntimeException? In that case actual test is not even tested and even if it doesn't throw any exception the test will pass.</p>\n\n<p>That is why it is much better to use try/catch than to rely on the annotation.</p>\n"},{"tags":[],"owner":{"account_id":5444810,"reputation":3671,"user_id":4331750,"accept_rate":83,"display_name":"whistling_marmot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506678552,"creation_date":1506678552,"answer_id":46486234,"question_id":2469911,"body_markdown":"Import the [catch-exception](https://github.com/Codearte/catch-exception) library, and use that. It&#39;s much cleaner than the `ExpectedException` rule or a `try-catch`.\r\n\r\nExample form their docs:\r\n\r\n\timport static com.googlecode.catchexception.CatchException.*;\r\n\timport static com.googlecode.catchexception.apis.CatchExceptionHamcrestMatchers.*;\r\n\r\n\t// given: an empty list\r\n\tList myList = new ArrayList();\r\n\r\n\t// when: we try to get the first element of the list\r\n\tcatchException(myList).get(1);\r\n\r\n\t// then: we expect an IndexOutOfBoundsException with message &quot;Index: 1, Size: 0&quot;\r\n\tassertThat(caughtException(),\r\n\t  allOf(\r\n\t\tinstanceOf(IndexOutOfBoundsException.class),\r\n\t\thasMessage(&quot;Index: 1, Size: 0&quot;),\r\n\t\thasNoCause()\r\n\t  )\r\n\t);","title":"How do I assert my exception message with JUnit Test annotation?","body":"<p>Import the <a href=\"https://github.com/Codearte/catch-exception\" rel=\"nofollow noreferrer\">catch-exception</a> library, and use that. It's much cleaner than the <code>ExpectedException</code> rule or a <code>try-catch</code>.</p>\n\n<p>Example form their docs:</p>\n\n<pre><code>import static com.googlecode.catchexception.CatchException.*;\nimport static com.googlecode.catchexception.apis.CatchExceptionHamcrestMatchers.*;\n\n// given: an empty list\nList myList = new ArrayList();\n\n// when: we try to get the first element of the list\ncatchException(myList).get(1);\n\n// then: we expect an IndexOutOfBoundsException with message \"Index: 1, Size: 0\"\nassertThat(caughtException(),\n  allOf(\n    instanceOf(IndexOutOfBoundsException.class),\n    hasMessage(\"Index: 1, Size: 0\"),\n    hasNoCause()\n  )\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6621356,"reputation":666,"user_id":5260804,"accept_rate":33,"display_name":"Addison Crump"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1515678396,"creation_date":1515678396,"answer_id":48208548,"question_id":2469911,"body_markdown":"I like user64141&#39;s answer but found that it could be more generalized. Here&#39;s my take:\r\n\r\n    public abstract class ExpectedThrowableAsserter implements Runnable {\r\n    \r\n        private final Class&lt;? extends Throwable&gt; throwableClass;\r\n        private final String expectedExceptionMessage;\r\n    \r\n        protected ExpectedThrowableAsserter(Class&lt;? extends Throwable&gt; throwableClass, String expectedExceptionMessage) {\r\n            this.throwableClass = throwableClass;\r\n            this.expectedExceptionMessage = expectedExceptionMessage;\r\n        }\r\n    \r\n        public final void run() {\r\n            try {\r\n                expectException();\r\n            } catch (Throwable e) {\r\n                assertTrue(String.format(&quot;Caught unexpected %s&quot;, e.getClass().getSimpleName()), throwableClass.isInstance(e));\r\n                assertEquals(String.format(&quot;%s caught, but unexpected message&quot;, throwableClass.getSimpleName()), expectedExceptionMessage, e.getMessage());\r\n                return;\r\n            }\r\n            fail(String.format(&quot;Expected %s, but no exception was thrown.&quot;, throwableClass.getSimpleName()));\r\n        }\r\n    \r\n        protected abstract void expectException();\r\n    \r\n    }\r\n\r\nNote that leaving the &quot;fail&quot; statement within the try block causes the related assertion exception to be caught; using return within the catch statement prevents this.","title":"How do I assert my exception message with JUnit Test annotation?","body":"<p>I like user64141's answer but found that it could be more generalized. Here's my take:</p>\n\n<pre><code>public abstract class ExpectedThrowableAsserter implements Runnable {\n\n    private final Class&lt;? extends Throwable&gt; throwableClass;\n    private final String expectedExceptionMessage;\n\n    protected ExpectedThrowableAsserter(Class&lt;? extends Throwable&gt; throwableClass, String expectedExceptionMessage) {\n        this.throwableClass = throwableClass;\n        this.expectedExceptionMessage = expectedExceptionMessage;\n    }\n\n    public final void run() {\n        try {\n            expectException();\n        } catch (Throwable e) {\n            assertTrue(String.format(\"Caught unexpected %s\", e.getClass().getSimpleName()), throwableClass.isInstance(e));\n            assertEquals(String.format(\"%s caught, but unexpected message\", throwableClass.getSimpleName()), expectedExceptionMessage, e.getMessage());\n            return;\n        }\n        fail(String.format(\"Expected %s, but no exception was thrown.\", throwableClass.getSimpleName()));\n    }\n\n    protected abstract void expectException();\n\n}\n</code></pre>\n\n<p>Note that leaving the \"fail\" statement within the try block causes the related assertion exception to be caught; using return within the catch statement prevents this.</p>\n"},{"tags":[],"owner":{"account_id":279256,"reputation":3581,"user_id":574317,"display_name":"Johan Boberg"},"down_vote_count":0,"up_vote_count":121,"is_accepted":false,"score":121,"last_activity_date":1578142333,"creation_date":1535572057,"answer_id":52085072,"question_id":2469911,"body_markdown":"In JUnit 4.13 you can do:\r\n\r\n    import static org.junit.Assert.assertEquals;\r\n    import static org.junit.Assert.assertThrows;\r\n\r\n    ...\r\n\r\n    @Test\r\n    void exceptionTesting() {\r\n      IllegalArgumentException exception = assertThrows(\r\n        IllegalArgumentException.class, \r\n        () -&gt; { throw new IllegalArgumentException(&quot;a message&quot;); }\r\n      );\r\n\r\n      assertEquals(&quot;a message&quot;, exception.getMessage());\r\n    }\r\n\r\nThis also works in [JUnit 5][1] but with different imports:\r\n\r\n    import static org.junit.jupiter.api.Assertions.assertEquals;\r\n    import static org.junit.jupiter.api.Assertions.assertThrows;\r\n\r\n    ...\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-assertions","title":"How do I assert my exception message with JUnit Test annotation?","body":"<p>In JUnit 4.13 you can do:</p>\n\n<pre><code>import static org.junit.Assert.assertEquals;\nimport static org.junit.Assert.assertThrows;\n\n...\n\n@Test\nvoid exceptionTesting() {\n  IllegalArgumentException exception = assertThrows(\n    IllegalArgumentException.class, \n    () -&gt; { throw new IllegalArgumentException(\"a message\"); }\n  );\n\n  assertEquals(\"a message\", exception.getMessage());\n}\n</code></pre>\n\n<p>This also works in <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-assertions\" rel=\"noreferrer\">JUnit 5</a> but with different imports:</p>\n\n<pre><code>import static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.assertThrows;\n\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":440986,"reputation":444,"user_id":830861,"display_name":"aasha"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1564727882,"creation_date":1564727882,"answer_id":57321137,"question_id":2469911,"body_markdown":"    @Test (expectedExceptions = ValidationException.class, expectedExceptionsMessageRegExp = &quot;This is not allowed&quot;)\r\n    public void testInvalidValidation() throws Exception{\r\n         //test code\r\n    }","title":"How do I assert my exception message with JUnit Test annotation?","body":"<pre><code>@Test (expectedExceptions = ValidationException.class, expectedExceptionsMessageRegExp = \"This is not allowed\")\npublic void testInvalidValidation() throws Exception{\n     //test code\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16959819,"reputation":194,"user_id":12267209,"display_name":"geeksusma"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1572967970,"creation_date":1572967970,"answer_id":58714622,"question_id":2469911,"body_markdown":"I never liked the way of asserting exceptions with Junit. If I use the &quot;expected&quot; in the annotation, seems from my point of view we&#39;re violating the &quot;given, when, then&quot; pattern because the &quot;then&quot; is placed at the top of the test definition.\r\n\r\nAlso, if we use &quot;@Rule&quot;, we have to deal with so much boilerplate code. So, if you can install new libraries for your tests, I&#39;d suggest to have a look to the AssertJ (that library now comes with SpringBoot)\r\n\r\nThen a test which is not violating the &quot;given/when/then&quot; principles, and it is done using AssertJ to verify:\r\n\r\n1 - The exception is what we&#39;re expecting.\r\n2 - It has also an expected message\r\n\r\nWill look like this:\r\n\r\n     @Test\r\n    void should_throwIllegalUse_when_idNotGiven() {\r\n\r\n        //when\r\n        final Throwable raisedException = catchThrowable(() -&gt; getUserDAO.byId(null));\r\n\r\n        //then\r\n        assertThat(raisedException).isInstanceOf(IllegalArgumentException.class)\r\n                .hasMessageContaining(&quot;Id to fetch is mandatory&quot;);\r\n    }","title":"How do I assert my exception message with JUnit Test annotation?","body":"<p>I never liked the way of asserting exceptions with Junit. If I use the \"expected\" in the annotation, seems from my point of view we're violating the \"given, when, then\" pattern because the \"then\" is placed at the top of the test definition.</p>\n\n<p>Also, if we use \"@Rule\", we have to deal with so much boilerplate code. So, if you can install new libraries for your tests, I'd suggest to have a look to the AssertJ (that library now comes with SpringBoot)</p>\n\n<p>Then a test which is not violating the \"given/when/then\" principles, and it is done using AssertJ to verify:</p>\n\n<p>1 - The exception is what we're expecting.\n2 - It has also an expected message</p>\n\n<p>Will look like this:</p>\n\n<pre><code> @Test\nvoid should_throwIllegalUse_when_idNotGiven() {\n\n    //when\n    final Throwable raisedException = catchThrowable(() -&gt; getUserDAO.byId(null));\n\n    //then\n    assertThat(raisedException).isInstanceOf(IllegalArgumentException.class)\n            .hasMessageContaining(\"Id to fetch is mandatory\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9641278,"reputation":1707,"user_id":7155432,"display_name":"VaibS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1604513360,"creation_date":1604513360,"answer_id":64685483,"question_id":2469911,"body_markdown":"I would prefer AssertJ for this.\r\n\r\n            assertThatExceptionOfType(ExpectedException.class)\r\n            .isThrownBy(() -&gt; {\r\n                // method call\r\n            }).withMessage(&quot;My message&quot;);","title":"How do I assert my exception message with JUnit Test annotation?","body":"<p>I would prefer AssertJ for this.</p>\n<pre><code>        assertThatExceptionOfType(ExpectedException.class)\n        .isThrownBy(() -&gt; {\n            // method call\n        }).withMessage(&quot;My message&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3000988,"reputation":728,"user_id":2546511,"display_name":"Ashish Lahoti"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1678014936,"creation_date":1678014936,"answer_id":75641831,"question_id":2469911,"body_markdown":"Let&#39;s say, we have a method `doStuff` in the class `FooService`. This method can throw a *NullPointerException* when a **null** flag is passed in the argument. \r\n\r\n```java\r\npublic class FooService {\r\n\r\n  public void doStuff(Boolean flag) {\r\n    try{\r\n      if(flag){\r\n        // do stuff\r\n      }\r\n    }catch (Exception e){\r\n      throw new RuntimeException(&quot;Unexpected error occurred&quot;, e);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n## Using Junit 5\r\nJunit 5 `assertThrows` returns exception, which can be used to assert exception message as per below example:-\r\n```java\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\n@Test\r\npublic void doStuff_testThrownException(){   \r\n    // null is passed, expected NullPointerException\r\n    Throwable exception = assertThrows(RuntimeException.class, () -&gt; fooService.doStuff(null)); \r\n\r\n    assertEquals(&quot;Unexpected error occurred&quot;, exception.getMessage());\r\n}\r\n```\r\n\r\n## Using AssertJ\r\n\r\nAssertJ has various assertions to test exception, one of them is `assertThatRuntimeException` which can be chained with `withMessage` to test exception message\r\n\r\n```java\r\nimport static org.assertj.core.api.Assertions.*;\r\n\r\n@Test\r\npublic void doStuff_testThrownException(){\r\n  // null is passed, expected NullPointerException\r\n  assertThatRuntimeException().isThrownBy(() -&gt; fooService.doStuff(null))\r\n          .withMessage(&quot;Unexpected error occurred&quot;);\r\n}\r\n```\r\n\r\n&gt; Source: [CodingNConcepts](https://codingnconcepts.com/java/java-test-assert-thrown-exception/)\r\n","title":"How do I assert my exception message with JUnit Test annotation?","body":"<p>Let's say, we have a method <code>doStuff</code> in the class <code>FooService</code>. This method can throw a <em>NullPointerException</em> when a <strong>null</strong> flag is passed in the argument.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FooService {\n\n  public void doStuff(Boolean flag) {\n    try{\n      if(flag){\n        // do stuff\n      }\n    }catch (Exception e){\n      throw new RuntimeException(&quot;Unexpected error occurred&quot;, e);\n    }\n  }\n}\n</code></pre>\n<h2>Using Junit 5</h2>\n<p>Junit 5 <code>assertThrows</code> returns exception, which can be used to assert exception message as per below example:-</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.junit.jupiter.api.Assertions.*;\n\n@Test\npublic void doStuff_testThrownException(){   \n    // null is passed, expected NullPointerException\n    Throwable exception = assertThrows(RuntimeException.class, () -&gt; fooService.doStuff(null)); \n\n    assertEquals(&quot;Unexpected error occurred&quot;, exception.getMessage());\n}\n</code></pre>\n<h2>Using AssertJ</h2>\n<p>AssertJ has various assertions to test exception, one of them is <code>assertThatRuntimeException</code> which can be chained with <code>withMessage</code> to test exception message</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.assertj.core.api.Assertions.*;\n\n@Test\npublic void doStuff_testThrownException(){\n  // null is passed, expected NullPointerException\n  assertThatRuntimeException().isThrownBy(() -&gt; fooService.doStuff(null))\n          .withMessage(&quot;Unexpected error occurred&quot;);\n}\n</code></pre>\n<blockquote>\n<p>Source: <a href=\"https://codingnconcepts.com/java/java-test-assert-thrown-exception/\" rel=\"noreferrer\">CodingNConcepts</a></p>\n</blockquote>\n"}],"owner":{"account_id":27913,"reputation":5642,"user_id":74098,"accept_rate":69,"display_name":"Cshah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340859,"favorite_count":0,"down_vote_count":1,"up_vote_count":390,"accepted_answer_id":6527990,"answer_count":13,"score":389,"last_activity_date":1678014936,"creation_date":1268916924,"question_id":2469911,"body_markdown":"I have written a few JUnit tests with ``@Test`` annotation. If my test method throws a checked exception and if I want to assert the message along with the exception, is there a way to do so with JUnit ``@Test`` annotation? AFAIK, JUnit 4.7 doesn&#39;t provide this feature but does any future versions provide it? I know in .NET you can assert the message and the exception class. Looking for similar feature in the Java world.\r\n\r\nThis is what I want:\r\n\r\n    @Test (expected = RuntimeException.class, message = &quot;Employee ID is null&quot;)\r\n    public void shouldThrowRuntimeExceptionWhenEmployeeIDisNull() {}","title":"How do I assert my exception message with JUnit Test annotation?","body":"<p>I have written a few JUnit tests with <code>@Test</code> annotation. If my test method throws a checked exception and if I want to assert the message along with the exception, is there a way to do so with JUnit <code>@Test</code> annotation? AFAIK, JUnit 4.7 doesn't provide this feature but does any future versions provide it? I know in .NET you can assert the message and the exception class. Looking for similar feature in the Java world.</p>\n\n<p>This is what I want:</p>\n\n<pre><code>@Test (expected = RuntimeException.class, message = \"Employee ID is null\")\npublic void shouldThrowRuntimeExceptionWhenEmployeeIDisNull() {}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1353729600,"post_id":13538097,"comment_id":18538952,"body_markdown":"1+ for not asking for the code solution. This is the right attitude!","body":"1+ for not asking for the code solution. This is the right attitude!"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":5,"creation_date":1353730087,"post_id":13538097,"comment_id":18539015,"body_markdown":"But one thing -- please leave mention of &quot;deadlines&quot; and similar out of your question. Please note that 1) you&#39;re asking for help from volunteers and so really shouldn&#39;t be trying to rush or pressure them, and 2) the speed with which your question gets a good answer is most often directly related to the quality of the question. To whit: Does it have the information needed to be answered and is it easy to read?","body":"But one thing -- please leave mention of &quot;deadlines&quot; and similar out of your question. Please note that 1) you&#39;re asking for help from volunteers and so really shouldn&#39;t be trying to rush or pressure them, and 2) the speed with which your question gets a good answer is most often directly related to the quality of the question. To whit: Does it have the information needed to be answered and is it easy to read?"}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1353731505,"creation_date":1353729455,"answer_id":13538111,"question_id":13538097,"body_markdown":"You shouldn&#39;t try to call `toString()` on a Room class but rather on a Room *object*. In that method, loop through the array of rooms with a for loop and print the String returned by calling `toString()` for each Room object held in the array since this is what it looks like your method should do.\r\n\r\nFor example\r\n\r\n    System.out.println(&quot;All Foos held here include: &quot;);\r\n    \r\n    // using a &quot;for-each&quot; loop, assuming an array called fooArray that holds Foo objects\r\n    for (Foo foo: fooArray) {\r\n       System.out.println(foo);\r\n    }\r\n\r\nYou will obviously have to change the types and variable names for your code.\r\n\r\nEdit 2: although you will have to use a standard for loop, not a for-each loop, since you won&#39;t be looping through the entire array, but rather will quit when roomsRented count is reached.\r\n\r\n    System.out.println(&quot;All Foos held here include: &quot;);\r\n    \r\n    // using standard for loop, assuming an array called fooArray that holds Foo objects\r\n    for (int i = 0; i &lt; someMaxNumber; i++) {\r\n       System.out.println(fooArray[i]);\r\n    }\r\n","title":"non-static method toString() cannot be referenced from a static context","body":"<p>You shouldn't try to call <code>toString()</code> on a Room class but rather on a Room <em>object</em>. In that method, loop through the array of rooms with a for loop and print the String returned by calling <code>toString()</code> for each Room object held in the array since this is what it looks like your method should do.</p>\n\n<p>For example</p>\n\n<pre><code>System.out.println(\"All Foos held here include: \");\n\n// using a \"for-each\" loop, assuming an array called fooArray that holds Foo objects\nfor (Foo foo: fooArray) {\n   System.out.println(foo);\n}\n</code></pre>\n\n<p>You will obviously have to change the types and variable names for your code.</p>\n\n<p>Edit 2: although you will have to use a standard for loop, not a for-each loop, since you won't be looping through the entire array, but rather will quit when roomsRented count is reached.</p>\n\n<pre><code>System.out.println(\"All Foos held here include: \");\n\n// using standard for loop, assuming an array called fooArray that holds Foo objects\nfor (int i = 0; i &lt; someMaxNumber; i++) {\n   System.out.println(fooArray[i]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1253259,"reputation":3199,"user_id":1213230,"accept_rate":83,"display_name":"Vishal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1353729702,"creation_date":1353729702,"answer_id":13538130,"question_id":13538097,"body_markdown":"As error is already states, do not call instance method in static context.\r\n\r\nRoom is a class, not an object. toString is a instance method. So Room.toString() in this case  compiler looks for a static method toString. But toString is an instance method so it is causing an issue.\r\n\r\nAlways remember instance methods are called with the object of the class, not with class itself.","title":"non-static method toString() cannot be referenced from a static context","body":"<p>As error is already states, do not call instance method in static context.</p>\n\n<p>Room is a class, not an object. toString is a instance method. So Room.toString() in this case  compiler looks for a static method toString. But toString is an instance method so it is causing an issue.</p>\n\n<p>Always remember instance methods are called with the object of the class, not with class itself.</p>\n"},{"tags":[],"owner":{"account_id":2041157,"reputation":33,"user_id":1822310,"display_name":"billybobsteve"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1353729753,"creation_date":1353729753,"answer_id":13538137,"question_id":13538097,"body_markdown":"What you&#39;re probably doing is calling `toString()` on the class Room, not an instance of it. For example, instead of writing:\r\n\r\n    Room.toString()\r\nwrite:\r\n    \r\n    Room r = new Room()\r\n    r.toString()","title":"non-static method toString() cannot be referenced from a static context","body":"<p>What you're probably doing is calling <code>toString()</code> on the class Room, not an instance of it. For example, instead of writing:</p>\n\n<pre><code>Room.toString()\n</code></pre>\n\n<p>write:</p>\n\n<pre><code>Room r = new Room()\nr.toString()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8185287,"reputation":11,"user_id":6161287,"display_name":"swim fish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467520800,"creation_date":1467520262,"answer_id":38166745,"question_id":13538097,"body_markdown":"Look at the following code, you can compile toString with a static variable without a new object, it just throw exception at run time\r\n\r\n  \r\n\r\n    demo&gt;cat Test.java \r\n    class Water {\r\n      public String toString() {return &quot;whatever&quot;;}\r\n    }\r\n    \r\n    public class Test { \r\n      static Water water;\r\n      public static void main(String...args) {\r\n        System.out.println(water.toString());\r\n      }\r\n    }\r\n    \r\n    demo&gt;javac Test.java \r\n    demo&gt;java Test\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n    \tat Test.main(Test.java:8)","title":"non-static method toString() cannot be referenced from a static context","body":"<p>Look at the following code, you can compile toString with a static variable without a new object, it just throw exception at run time</p>\n\n<pre><code>demo&gt;cat Test.java \nclass Water {\n  public String toString() {return \"whatever\";}\n}\n\npublic class Test { \n  static Water water;\n  public static void main(String...args) {\n    System.out.println(water.toString());\n  }\n}\n\ndemo&gt;javac Test.java \ndemo&gt;java Test\nException in thread \"main\" java.lang.NullPointerException\n    at Test.main(Test.java:8)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26501407,"reputation":11,"user_id":20138282,"display_name":"Mohd Kaif"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665175833,"creation_date":1664849483,"answer_id":73942506,"question_id":13538097,"body_markdown":"```\r\nSystem.out.println(Arrays.toString(arr));\r\n```\r\nIn this line when you are writing arrays a dropdown menu will appear, there you will see the default package or the `java.util` package. You need to select the `java.util` package and the problem will be solved.","title":"non-static method toString() cannot be referenced from a static context","body":"<pre><code>System.out.println(Arrays.toString(arr));\n</code></pre>\n<p>In this line when you are writing arrays a dropdown menu will appear, there you will see the default package or the <code>java.util</code> package. You need to select the <code>java.util</code> package and the problem will be solved.</p>\n"},{"tags":[],"owner":{"account_id":27664025,"reputation":31,"user_id":21116219,"display_name":"Nerella Aditya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678014864,"creation_date":1678014864,"answer_id":75641818,"question_id":13538097,"body_markdown":"When you are calling classname.method(), it means that you are calling a static method. We use the classname inorder to call the static methods.\r\n\r\nHere class is : Room\r\n\r\nMethod is : toString()\r\n\r\ntoString() is not a static method to be called with class name.\r\n\r\ntoString() is the method of the Object class. \r\n\r\nSo you should use room.toString() where &#39;room&#39; is the object of the Room class\r\n","title":"non-static method toString() cannot be referenced from a static context","body":"<p>When you are calling classname.method(), it means that you are calling a static method. We use the classname inorder to call the static methods.</p>\n<p>Here class is : Room</p>\n<p>Method is : toString()</p>\n<p>toString() is not a static method to be called with class name.</p>\n<p>toString() is the method of the Object class.</p>\n<p>So you should use room.toString() where 'room' is the object of the Room class</p>\n"}],"owner":{"account_id":2075366,"reputation":97,"user_id":1848879,"accept_rate":50,"display_name":"WannaBeDroidProgrammer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20800,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":13538111,"answer_count":6,"score":7,"last_activity_date":1678014864,"creation_date":1353729355,"question_id":13538097,"body_markdown":"Don&#39;t want any code, just want some sort of guidance. Would like to keep my academic integrity in tact ;)\r\n\r\nI keep getting that annoying error. I need to call the toString method for each Room instance. Any suggestions? I would prefer an answer within 2 hours if at all possible.    \r\n\r\n    public class Hotel\r\n    {\r\n        //constant\r\n        public static final int NUM_ROOMS = 20;\r\n\r\n        //variables\r\n        public Room[] theRoom;\r\n        public String name;\r\n        public int totalDays;\r\n        public double totalRate;\r\n        public int singleCount;\r\n        public int doubleCount;\r\n        public int roomsRented;\r\n        public int NOT_FOUND;\r\n\r\n        public Hotel(String newName) {\r\n            name = newName;\r\n            Room[] Rooms = new Room[NUM_ROOMS];\r\n        }\r\n\r\n        public double getTotalRentalSales() {\r\n            return totalRate + roomsRented;\r\n        }\r\n\r\n        public double getAvgDays() {\r\n            return roomsRented/totalDays;\r\n        }\r\n\r\n        public double getAvgRate() {\r\n            return totalRate/roomsRented;\r\n        }\r\n\r\n        public int getSingleCount() {\r\n            return singleCount;\r\n        }\r\n\r\n        public int getDoubleCount() {\r\n            return doubleCount;\r\n        }\r\n\r\n        public String printRentalList() {\r\n            System.out.println(&quot;Room Information: &quot; + Room.toString());\r\n        }\r\n    }\r\n\r\n","title":"non-static method toString() cannot be referenced from a static context","body":"<p>Don't want any code, just want some sort of guidance. Would like to keep my academic integrity in tact ;)</p>\n\n<p>I keep getting that annoying error. I need to call the toString method for each Room instance. Any suggestions? I would prefer an answer within 2 hours if at all possible.    </p>\n\n<pre><code>public class Hotel\n{\n    //constant\n    public static final int NUM_ROOMS = 20;\n\n    //variables\n    public Room[] theRoom;\n    public String name;\n    public int totalDays;\n    public double totalRate;\n    public int singleCount;\n    public int doubleCount;\n    public int roomsRented;\n    public int NOT_FOUND;\n\n    public Hotel(String newName) {\n        name = newName;\n        Room[] Rooms = new Room[NUM_ROOMS];\n    }\n\n    public double getTotalRentalSales() {\n        return totalRate + roomsRented;\n    }\n\n    public double getAvgDays() {\n        return roomsRented/totalDays;\n    }\n\n    public double getAvgRate() {\n        return totalRate/roomsRented;\n    }\n\n    public int getSingleCount() {\n        return singleCount;\n    }\n\n    public int getDoubleCount() {\n        return doubleCount;\n    }\n\n    public String printRentalList() {\n        System.out.println(\"Room Information: \" + Room.toString());\n    }\n}\n</code></pre>\n"},{"tags":["java","garbage-collection"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1674202827,"post_id":75178471,"comment_id":132667684,"body_markdown":"That’s very unusual. Are you sure, you have no other memory or gc related options specified?","body":"That’s very unusual. Are you sure, you have no other memory or gc related options specified?"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1678014752,"post_id":75178471,"comment_id":133447689,"body_markdown":"@Holger Why do you think it is unusual, this is pretty standard for regional garbage collectors like G1GC.","body":"@Holger Why do you think it is unusual, this is pretty standard for regional garbage collectors like G1GC."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1678096602,"post_id":75178471,"comment_id":133460639,"body_markdown":"@MarkRotteveel the graph indicates that the first garbage collection was deferred until the entire heap was full, which is unusual for a *concurrent* garbage collector. Second, having more than 10% CPU load, sometimes almost 20%, for a heap having less than 300MB used, is very high.","body":"@MarkRotteveel the graph indicates that the first garbage collection was deferred until the entire heap was full, which is unusual for a <i>concurrent</i> garbage collector. Second, having more than 10% CPU load, sometimes almost 20%, for a heap having less than 300MB used, is very high."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1678096683,"post_id":75178471,"comment_id":133460664,"body_markdown":"@Holger Or something happened that required a lot of memory (and CPU) initially, which could not yet be GC-ed, and then &quot;normal&quot; operation took over.","body":"@Holger Or something happened that required a lot of memory (and CPU) initially, which could not yet be GC-ed, and then &quot;normal&quot; operation took over."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1678098195,"post_id":75178471,"comment_id":133461076,"body_markdown":"@MarkRotteveel there’s not even an attempt for GC before that but even if there was such a series of allocations with not even a single object being collectible, it would still be *unusual*. But why waste our time with speculations when the OP didn’t come back to provide more information?","body":"@MarkRotteveel there’s not even an attempt for GC before that but even if there was such a series of allocations with not even a single object being collectible, it would still be <i>unusual</i>. But why waste our time with speculations when the OP didn’t come back to provide more information?"},{"owner":{"account_id":15328195,"reputation":2461,"user_id":11058704,"display_name":"RamPrakash"},"score":0,"creation_date":1678113731,"post_id":75178471,"comment_id":133465528,"body_markdown":"Not sure what kind of additional info you were expecting.","body":"Not sure what kind of additional info you were expecting."}],"answers":[{"tags":[],"owner":{"account_id":10158538,"reputation":2222,"user_id":7502800,"accept_rate":100,"display_name":"usuario"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678014818,"creation_date":1674199895,"answer_id":75180968,"question_id":75178471,"body_markdown":"JVMs will always have some gc threads running (unless you use Epsilon GC which perform no gc, I do not recommend using this unless you know why you need it), because the JVM manages memory for you.\r\n\r\nHeap in G1 is divided two spaces: **young** and **old**. All objects are created in young space. When the young space fills (it always do eventually, unless you are developing zero garbage), it will trigger some gc cleaning unreferenced objects from the young and promoting some objects which are still referenced to old.\r\n\r\nThose spikes in the right screenshot will correspond to young collection events (where unreferenced objects get cleaned). Young space is always much more small than the old space. So it fills frequently. That is why you see those spikes regarding there is much more memory free.\r\n\r\n_Disclaimer_: This is a really very high level explanation of memory management in the JVM. Some important concepts have been not mentioned.\r\n\r\nYou can read more about G1GC collector [here](https://www.oracle.com/technetwork/tutorials/tutorials-1876574.html)\r\n\r\nAlso take a look at [jstat](https://docs.oracle.com/en/java/javase/17/docs/specs/man/jstat.html) tool which will help you understand what is happening in your heap. \r\n\r\n","title":"GC gets triggered often","body":"<p>JVMs will always have some gc threads running (unless you use Epsilon GC which perform no gc, I do not recommend using this unless you know why you need it), because the JVM manages memory for you.</p>\n<p>Heap in G1 is divided two spaces: <strong>young</strong> and <strong>old</strong>. All objects are created in young space. When the young space fills (it always do eventually, unless you are developing zero garbage), it will trigger some gc cleaning unreferenced objects from the young and promoting some objects which are still referenced to old.</p>\n<p>Those spikes in the right screenshot will correspond to young collection events (where unreferenced objects get cleaned). Young space is always much more small than the old space. So it fills frequently. That is why you see those spikes regarding there is much more memory free.</p>\n<p><em>Disclaimer</em>: This is a really very high level explanation of memory management in the JVM. Some important concepts have been not mentioned.</p>\n<p>You can read more about G1GC collector <a href=\"https://www.oracle.com/technetwork/tutorials/tutorials-1876574.html\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Also take a look at <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/jstat.html\" rel=\"nofollow noreferrer\">jstat</a> tool which will help you understand what is happening in your heap.</p>\n"}],"owner":{"account_id":15328195,"reputation":2461,"user_id":11058704,"display_name":"RamPrakash"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678014818,"creation_date":1674163730,"question_id":75178471,"body_markdown":"I would like to understand why the GC gets triggered even though I have plenty of heap left unused.. I have allocated 1.7 GB of RAM. I still see 10% of GC CPU usage often.\r\n\r\nI use this - `-XX:+UseG1GC` with Java 17\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/g2jgj.png","title":"GC gets triggered often","body":"<p>I would like to understand why the GC gets triggered even though I have plenty of heap left unused.. I have allocated 1.7 GB of RAM. I still see 10% of GC CPU usage often.</p>\n<p>I use this - <code>-XX:+UseG1GC</code> with Java 17</p>\n<p><a href=\"https://i.stack.imgur.com/g2jgj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g2jgj.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","excel","cyrillic"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1678011225,"post_id":75640107,"comment_id":133447231,"body_markdown":"If you want to see the foreign text , you must have both a font allocated to program that screens it and must have the charset encoding installed in your machine, too if it is UTF-8 then the national Locale must be set upon any components designed to store and render the foreign text in the application.","body":"If you want to see the foreign text , you must have both a font allocated to program that screens it and must have the charset encoding installed in your machine, too if it is UTF-8 then the national Locale must be set upon any components designed to store and render the foreign text in the application."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1678014440,"post_id":75640107,"comment_id":133447652,"body_markdown":"Unrelated to your question, but you really should not declare arrays as  `byte bytes[]`, although valid syntax, it is considered a historic oddity, and the recommended syntax is `byte[] bytes`.","body":"Unrelated to your question, but you really should not declare arrays as  <code>byte bytes[]</code>, although valid syntax, it is considered a historic oddity, and the recommended syntax is <code>byte[] bytes</code>."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677995885,"creation_date":1677995411,"answer_id":75640440,"question_id":75640107,"body_markdown":"    String myString = &quot;some cyrillic text&quot;; \r\n    byte bytes[] = type.getBytes(&quot;UTF-8&quot;); \r\n\r\nNow `bytes` contains a UTF-8 encoding of the string.  If you were to call `new String(bytes, &quot;UTF-8&quot;)` you would get back an equivalent string to the original one.\r\n\r\nBut ...\r\n\r\n    String value = URLEncoder.encode(\r\n        new String(bytes, &quot;Windows-1251&quot;),  // HERE\r\n        &quot;Windows-1251&quot;);\r\n\r\n... at `HERE` you are decoding with the wrong character encoding.  The `String` constructor takes your word for it ... and the result is mangled characters.\r\n\r\nUnderstand this: \r\n\r\n&gt; The `bytes` array contains *just* the encoded text.  It doesn&#39;t contain anything to identify the encoding scheme.  So the `String`  constructor has no way of knowing what the correct encoding is ... apart from what you tell it.  And it has no (reliable) way of knowing if the encoding you told it is correct.  Let alone fixing your mistake.\r\n\r\nThe correct way to do what your code does is this:\r\n\r\n    String myString = &quot;some cyrillic text&quot;; \r\n    String value = URLEncoder.encode(myString, &quot;Windows-1251&quot;);\r\n\r\nHowever ... we don&#39;t have sufficient context to know whether that is what is *actually required* for your application.","title":"Cyrillic text in Java","body":"<pre><code>String myString = &quot;some cyrillic text&quot;; \nbyte bytes[] = type.getBytes(&quot;UTF-8&quot;); \n</code></pre>\n<p>Now <code>bytes</code> contains a UTF-8 encoding of the string.  If you were to call <code>new String(bytes, &quot;UTF-8&quot;)</code> you would get back an equivalent string to the original one.</p>\n<p>But ...</p>\n<pre><code>String value = URLEncoder.encode(\n    new String(bytes, &quot;Windows-1251&quot;),  // HERE\n    &quot;Windows-1251&quot;);\n</code></pre>\n<p>... at <code>HERE</code> you are decoding with the wrong character encoding.  The <code>String</code> constructor takes your word for it ... and the result is mangled characters.</p>\n<p>Understand this:</p>\n<blockquote>\n<p>The <code>bytes</code> array contains <em>just</em> the encoded text.  It doesn't contain anything to identify the encoding scheme.  So the <code>String</code>  constructor has no way of knowing what the correct encoding is ... apart from what you tell it.  And it has no (reliable) way of knowing if the encoding you told it is correct.  Let alone fixing your mistake.</p>\n</blockquote>\n<p>The correct way to do what your code does is this:</p>\n<pre><code>String myString = &quot;some cyrillic text&quot;; \nString value = URLEncoder.encode(myString, &quot;Windows-1251&quot;);\n</code></pre>\n<p>However ... we don't have sufficient context to know whether that is what is <em>actually required</em> for your application.</p>\n"}],"owner":{"account_id":27839039,"reputation":1,"user_id":21334501,"display_name":"vladussr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1678022416,"answer_count":1,"score":-1,"last_activity_date":1678014389,"creation_date":1677988746,"question_id":75640107,"body_markdown":"I&#39;m trying to transfer Russian text to an Excel or SQLite or to any other program. The result is always the same: РђР&#177;РёСЃСЃРёРЅСЃРєР&#176;СЏ РєРѕС€РєР&#176;.\r\nI understand that something with the encoding. \r\n\r\nI tried\r\n\r\n```\r\nString myString = &quot;some cyrillic text&quot;;\r\nbyte bytes[] = type.getBytes(&quot;UTF-8&quot;);\r\nString value = URLEncoder.encode(new String(bytes, &quot;Windows-1251&quot;), &quot;Windows-1251&quot;);\r\n```\r\n\r\nBut that doesn&#39;t help either.\r\n","title":"Cyrillic text in Java","body":"<p>I'm trying to transfer Russian text to an Excel or SQLite or to any other program. The result is always the same: РђР±РёСЃСЃРёРЅСЃРєР°СЏ РєРѕС€РєР°.\nI understand that something with the encoding.</p>\n<p>I tried</p>\n<pre><code>String myString = &quot;some cyrillic text&quot;;\nbyte bytes[] = type.getBytes(&quot;UTF-8&quot;);\nString value = URLEncoder.encode(new String(bytes, &quot;Windows-1251&quot;), &quot;Windows-1251&quot;);\n</code></pre>\n<p>But that doesn't help either.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18304023,"reputation":2622,"user_id":13328195,"display_name":"Roshin Raphel"},"score":0,"creation_date":1678021353,"post_id":75641750,"comment_id":133448614,"body_markdown":"Please share the error message","body":"Please share the error message"}],"owner":{"account_id":27939605,"reputation":1,"user_id":21335890,"display_name":"Ekin Mahir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678014020,"creation_date":1678014020,"question_id":75641750,"body_markdown":"l can&#39;t load Phoenix or talon srx lib to visual studio. l can download it but can&#39;t load to vs\r\n\r\nThe talon srx part of the code gives an error, but I already downloaded the libraries, can you help me?","title":"How Can l load Talon Srx lib to visual studio","body":"<p>l can't load Phoenix or talon srx lib to visual studio. l can download it but can't load to vs</p>\n<p>The talon srx part of the code gives an error, but I already downloaded the libraries, can you help me?</p>\n"},{"tags":["java","android","react-native","android-studio","kotlin"],"owner":{"account_id":27213373,"reputation":11,"user_id":20743812,"display_name":"Film andRun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1678013982,"creation_date":1677708410,"question_id":75609477,"body_markdown":"The repository is my method for calling the API. I called the repository in the Mainactivity to try to feed the data into the recycler view. Im sure the API call is working because when i tried to test it using the terminal and log.d the data shows on there. So mainly struggling to find out why it is null in the recyclerview.\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private RecyclerView topRecyclerView;\r\n    private List&lt;Datum&gt; animeList;\r\n    \r\n    \r\n    @SuppressLint({&quot;MissingInflatedId&quot;, &quot;ResourceType&quot;})\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        \r\n        \r\n        topRecyclerView = findViewById(R.id.topRecycler);\r\n    \r\n      topRecyclerView.setHasFixedSize(true);\r\n      topRecyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n      \r\n      Repository.getAnimes(anime -&gt; {\r\n            TopAnimeAdapter myAdapter = new TopAnimeAdapter(anime);\r\n            topRecyclerView.setAdapter(myAdapter);\r\n        });\r\n```\r\n\r\n\\-------------Repository class---------\r\n```\r\npublic class Repository {\r\n\r\n    static List&lt;Datum&gt; animeList = new ArrayList&lt;&gt;();\r\n    public static void getAnimes (final AsyncResponse callback) {\r\n    \r\n        JsonObjectRequest jsonObjectRequest =\r\n                new JsonObjectRequest(Request.Method.GET, Util.Anime_URL, null, response -&gt; {\r\n    \r\n                    try {\r\n                        JSONArray jsonArray = response.getJSONArray(&quot;data&quot;);\r\n                        for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n                            Datum datum = new Datum();\r\n                            JSONObject jsonObject = jsonArray.getJSONObject(i);\r\n                            datum.setMal_id(jsonObject.getInt(&quot;mal_id&quot;));\r\n                            datum.setTitle_english(jsonObject.getString(&quot;title_english&quot;));\r\n                            datum.setRank(jsonObject.getInt(&quot;rank&quot;));\r\n                            datum.setRating(jsonObject.getString(&quot;rating&quot;));\r\n                            datum.setStatus(jsonObject.getString(&quot;status&quot;));\r\n    \r\n                            JSONArray imageList = jsonObject.getJSONArray(&quot;images&quot;);\r\n                            ArrayList&lt;Images&gt; list = new ArrayList&lt;&gt;();\r\n                            for (int j = 0; j &lt; imageList.length(); j++) {\r\n                                Images images = new Images();\r\n                                images.setLarge_image_url(imageList.getJSONObject(j).getString(&quot;large_image_url&quot;));\r\n                                images.setImage_url(imageList.getJSONObject(j).getString(&quot;image_url&quot;));\r\n                                images.setSmall_image_url(imageList.getJSONObject(j).getString(&quot;small_image_url&quot;));\r\n    \r\n                                list.add(images);\r\n    \r\n                            }\r\n                            datum.setImages(list);\r\n    \r\n                            datum.setSynopsis(jsonObject.getString(&quot;synopsis&quot;));\r\n                            datum.setYear(jsonObject.getInt(&quot;year&quot;));\r\n    \r\n    \r\n                            animeList.add(datum);\r\n    \r\n                        }\r\n    \r\n                        if (null != callback) {\r\n                            callback.processAnime(animeList);\r\n                        }\r\n    \r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }, error -&gt; {\r\n                    error.printStackTrace();\r\n                });\r\n    \r\n        AppController.getInstance().addToRequestQueue(jsonObjectRequest);\r\n    \r\n    }\r\n\r\n```\r\n```\r\npublic class TopAnimeAdapter extends RecyclerView.Adapter&lt;TopAnimeAdapter.ViewHolder&gt; {\r\n\r\n    private final List&lt;Datum&gt; animeList;\r\n\r\n    public TopAnimeAdapter(List&lt;Datum&gt; animeList) {\r\n        this.animeList = animeList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n        View view = LayoutInflater.from(parent.getContext())\r\n                .inflate(R.layout.top_anime, parent, false);\r\n\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n\r\n        Datum datum = animeList.get(position);\r\n        holder.topAnimeTitle.setText(datum.getTitle_english());\r\n        if(datum.getImages().size() &gt; 0) {\r\n            Picasso.get().load(datum.getImages().get(0).getImage_url())\r\n                    .placeholder(android.R.drawable.stat_sys_download)\r\n                    .error(android.R.drawable.stat_notify_error)\r\n                    .resize(100,100)\r\n                    .centerCrop()\r\n                    .into(holder.topAnimeImage);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return animeList.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        public ImageView topAnimeImage;\r\n        public TextView topAnimeTitle;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            topAnimeImage = itemView.findViewById(R.id.imageAnime);\r\n            topAnimeTitle = itemView.findViewById(R.id.animeTitle);\r\n\r\n        }\r\n    }\r\n}\r\n```","title":"I want to show data from an api into a recyclerView. It seems when I try to pass the data the Recyclerview still shows null","body":"<p>The repository is my method for calling the API. I called the repository in the Mainactivity to try to feed the data into the recycler view. Im sure the API call is working because when i tried to test it using the terminal and log.d the data shows on there. So mainly struggling to find out why it is null in the recyclerview.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private RecyclerView topRecyclerView;\n    private List&lt;Datum&gt; animeList;\n    \n    \n    @SuppressLint({&quot;MissingInflatedId&quot;, &quot;ResourceType&quot;})\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        \n        \n        topRecyclerView = findViewById(R.id.topRecycler);\n    \n      topRecyclerView.setHasFixedSize(true);\n      topRecyclerView.setLayoutManager(new LinearLayoutManager(this));\n      \n      Repository.getAnimes(anime -&gt; {\n            TopAnimeAdapter myAdapter = new TopAnimeAdapter(anime);\n            topRecyclerView.setAdapter(myAdapter);\n        });\n</code></pre>\n<p>-------------Repository class---------</p>\n<pre><code>public class Repository {\n\n    static List&lt;Datum&gt; animeList = new ArrayList&lt;&gt;();\n    public static void getAnimes (final AsyncResponse callback) {\n    \n        JsonObjectRequest jsonObjectRequest =\n                new JsonObjectRequest(Request.Method.GET, Util.Anime_URL, null, response -&gt; {\n    \n                    try {\n                        JSONArray jsonArray = response.getJSONArray(&quot;data&quot;);\n                        for (int i = 0; i &lt; jsonArray.length(); i++) {\n                            Datum datum = new Datum();\n                            JSONObject jsonObject = jsonArray.getJSONObject(i);\n                            datum.setMal_id(jsonObject.getInt(&quot;mal_id&quot;));\n                            datum.setTitle_english(jsonObject.getString(&quot;title_english&quot;));\n                            datum.setRank(jsonObject.getInt(&quot;rank&quot;));\n                            datum.setRating(jsonObject.getString(&quot;rating&quot;));\n                            datum.setStatus(jsonObject.getString(&quot;status&quot;));\n    \n                            JSONArray imageList = jsonObject.getJSONArray(&quot;images&quot;);\n                            ArrayList&lt;Images&gt; list = new ArrayList&lt;&gt;();\n                            for (int j = 0; j &lt; imageList.length(); j++) {\n                                Images images = new Images();\n                                images.setLarge_image_url(imageList.getJSONObject(j).getString(&quot;large_image_url&quot;));\n                                images.setImage_url(imageList.getJSONObject(j).getString(&quot;image_url&quot;));\n                                images.setSmall_image_url(imageList.getJSONObject(j).getString(&quot;small_image_url&quot;));\n    \n                                list.add(images);\n    \n                            }\n                            datum.setImages(list);\n    \n                            datum.setSynopsis(jsonObject.getString(&quot;synopsis&quot;));\n                            datum.setYear(jsonObject.getInt(&quot;year&quot;));\n    \n    \n                            animeList.add(datum);\n    \n                        }\n    \n                        if (null != callback) {\n                            callback.processAnime(animeList);\n                        }\n    \n                    } catch (JSONException e) {\n                        e.printStackTrace();\n                    }\n                }, error -&gt; {\n                    error.printStackTrace();\n                });\n    \n        AppController.getInstance().addToRequestQueue(jsonObjectRequest);\n    \n    }\n\n</code></pre>\n<pre><code>public class TopAnimeAdapter extends RecyclerView.Adapter&lt;TopAnimeAdapter.ViewHolder&gt; {\n\n    private final List&lt;Datum&gt; animeList;\n\n    public TopAnimeAdapter(List&lt;Datum&gt; animeList) {\n        this.animeList = animeList;\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n        View view = LayoutInflater.from(parent.getContext())\n                .inflate(R.layout.top_anime, parent, false);\n\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n\n        Datum datum = animeList.get(position);\n        holder.topAnimeTitle.setText(datum.getTitle_english());\n        if(datum.getImages().size() &gt; 0) {\n            Picasso.get().load(datum.getImages().get(0).getImage_url())\n                    .placeholder(android.R.drawable.stat_sys_download)\n                    .error(android.R.drawable.stat_notify_error)\n                    .resize(100,100)\n                    .centerCrop()\n                    .into(holder.topAnimeImage);\n        }\n\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return animeList.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder{\n\n        public ImageView topAnimeImage;\n        public TextView topAnimeTitle;\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            topAnimeImage = itemView.findViewById(R.id.imageAnime);\n            topAnimeTitle = itemView.findViewById(R.id.animeTitle);\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":1,"creation_date":1543452836,"post_id":53530273,"comment_id":93929069,"body_markdown":"You&#39;re correct - the problem isn&#39;t &quot;too many open files&quot;. The *REAL* question is &quot;who&#39;s opening them - and why?&quot;  Q: Any ideas?  SUGGESTION: Try to get a stack trace, and copy it into your question.  That might help isolate the culprit.","body":"You&#39;re correct - the problem isn&#39;t &quot;too many open files&quot;. The <i>REAL</i> question is &quot;who&#39;s opening them - and why?&quot;  Q: Any ideas?  SUGGESTION: Try to get a stack trace, and copy it into your question.  That might help isolate the culprit."},{"owner":{"account_id":301110,"reputation":98844,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1543454183,"post_id":53530273,"comment_id":93929355,"body_markdown":"Please show the relevant code.","body":"Please show the relevant code."},{"owner":{"account_id":8049456,"reputation":507,"user_id":6068535,"display_name":"Kat"},"score":0,"creation_date":1543454354,"post_id":53530273,"comment_id":93929392,"body_markdown":"@paulsm4 I&#39;ve added the stack trace of the error","body":"@paulsm4 I&#39;ve added the stack trace of the error"},{"owner":{"account_id":8049456,"reputation":507,"user_id":6068535,"display_name":"Kat"},"score":1,"creation_date":1543454653,"post_id":53530273,"comment_id":93929466,"body_markdown":"@jww I don&#39;t know which code in my application (if any) is relevant because I don&#39;t have any idea what&#39;s causing it. I don&#39;t think my code is the problem. I wrote very little code for this site, it&#39;s a pretty basic site, and the code I did write is code that I&#39;ve used numerous times before and never had this problem with. If any code were causing this, it would be something in the code used by Mobirise, but that encompasses entire libraries, way too much to sift through by hand.","body":"@jww I don&#39;t know which code in my application (if any) is relevant because I don&#39;t have any idea what&#39;s causing it. I don&#39;t think my code is the problem. I wrote very little code for this site, it&#39;s a pretty basic site, and the code I did write is code that I&#39;ve used numerous times before and never had this problem with. If any code were causing this, it would be something in the code used by Mobirise, but that encompasses entire libraries, way too much to sift through by hand."},{"owner":{"account_id":301110,"reputation":98844,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":1,"creation_date":1543454887,"post_id":53530273,"comment_id":93929519,"body_markdown":"I think the question is OK here but you need to do some debugging and show the relevant code. If you can&#39;t then maybe you should move the question to [Super User](http://superuser.com/) or [Unix &amp; Linux Stack Exchange](http://unix.stackexchange.com/). [Server Fault](http://serverfault.com/) would probably be the best fit but they have the &quot;professional admin&quot; requirement.","body":"I think the question is OK here but you need to do some debugging and show the relevant code. If you can&#39;t then maybe you should move the question to <a href=\"http://superuser.com/\">Super User</a> or <a href=\"http://unix.stackexchange.com/\">Unix &amp; Linux Stack Exchange</a>. <a href=\"http://serverfault.com/\">Server Fault</a> would probably be the best fit but they have the &quot;professional admin&quot; requirement."},{"owner":{"account_id":8049456,"reputation":507,"user_id":6068535,"display_name":"Kat"},"score":0,"creation_date":1543455430,"post_id":53530273,"comment_id":93929646,"body_markdown":"Ok I will move it to one of those if I can&#39;t figure out what&#39;s causing it soon","body":"Ok I will move it to one of those if I can&#39;t figure out what&#39;s causing it soon"},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1543468083,"post_id":53530273,"comment_id":93932266,"body_markdown":"The real problem here is, that some code fails to close the file after it is done with it.","body":"The real problem here is, that some code fails to close the file after it is done with it."},{"owner":{"account_id":7624963,"reputation":10003,"user_id":5781745,"accept_rate":85,"display_name":"K.Dᴀᴠɪs"},"score":1,"creation_date":1543468205,"post_id":53530273,"comment_id":93932296,"body_markdown":"Hi, Kat! I am sure you are not aware of our our format here, but SO is a Q&amp;A site. This means that your question should remain separate from your answer. Feel free to add your answer below if you like. You can also get help with how our site works by looking at the [help]. Thanks!","body":"Hi, Kat! I am sure you are not aware of our our format here, but SO is a Q&amp;A site. This means that your question should remain separate from your answer. Feel free to add your answer below if you like. You can also get help with how our site works by looking at the <a href=\"https://stackoverflow.com/help\">help center</a>. Thanks!"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1543471634,"post_id":53530273,"comment_id":93933379,"body_markdown":"@Kat - I just noticed that somebody deleted your update.  Sorry about that.  SUGGESTIONS: 1) Copy/paste your update into an answer, and &quot;accept&quot; it.  That&#39;s certainly better than losing your update altogether.  2) Consider stripping down your Jasper report format, and see if that resolves the problem.  If it does, consider &quot;accepting&quot; my answer.  In any case - good luck.  And please let us know what you decide.","body":"@Kat - I just noticed that somebody deleted your update.  Sorry about that.  SUGGESTIONS: 1) Copy/paste your update into an answer, and &quot;accept&quot; it.  That&#39;s certainly better than losing your update altogether.  2) Consider stripping down your Jasper report format, and see if that resolves the problem.  If it does, consider &quot;accepting&quot; my answer.  In any case - good luck.  And please let us know what you decide."},{"owner":{"account_id":8049456,"reputation":507,"user_id":6068535,"display_name":"Kat"},"score":0,"creation_date":1543523235,"post_id":53530273,"comment_id":93960693,"body_markdown":"@K.Dᴀᴠɪs I am quite aware... I tried to submit my answer below but apparently SO no longer accepts answers from my account because I&#39;ve submitted &quot;too many answers of poor quality.&quot;","body":"@K.Dᴀᴠɪs I am quite aware... I tried to submit my answer below but apparently SO no longer accepts answers from my account because I&#39;ve submitted &quot;too many answers of poor quality.&quot;"},{"owner":{"account_id":8049456,"reputation":507,"user_id":6068535,"display_name":"Kat"},"score":0,"creation_date":1543523594,"post_id":53530273,"comment_id":93960840,"body_markdown":"@K.Dᴀᴠɪs if you would be so kind as to do it for me...","body":"@K.Dᴀᴠɪs if you would be so kind as to do it for me..."}],"answers":[{"tags":[],"owner":{"account_id":14855338,"reputation":31,"user_id":10728016,"display_name":"David Kingston"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1543585973,"creation_date":1543585973,"answer_id":53558876,"question_id":53530273,"body_markdown":"I just ran into the same issue after moving an application from a tomcat7 instance to a tomcat 9 instance. I have a feeling this may be a tomcat bug. I removed the tag \r\n\r\n    &lt;Resource pathname=&quot;conf/tomcat-users.xml&quot; \r\n    factory=&quot;org.apache.catalina.users.MemoryUserDatabaseFactory&quot; \r\n    type=&quot;org.apache.catalina.UserDatabase&quot; \r\n    auth=&quot;Container&quot; name=&quot;UserDatabase&quot;/&gt;\r\n\r\nin the GlobalNamingResources tag  in $CATALINA_HOME/conf/server.xml and after a restart the issue resolved itself. So I&#39;m guessing the issue lies with Tomcat&#39;s management app.\r\n","title":"Tomcat too many files open (tomcat-users.xml)","body":"<p>I just ran into the same issue after moving an application from a tomcat7 instance to a tomcat 9 instance. I have a feeling this may be a tomcat bug. I removed the tag </p>\n\n<pre><code>&lt;Resource pathname=\"conf/tomcat-users.xml\" \nfactory=\"org.apache.catalina.users.MemoryUserDatabaseFactory\" \ntype=\"org.apache.catalina.UserDatabase\" \nauth=\"Container\" name=\"UserDatabase\"/&gt;\n</code></pre>\n\n<p>in the GlobalNamingResources tag  in $CATALINA_HOME/conf/server.xml and after a restart the issue resolved itself. So I'm guessing the issue lies with Tomcat's management app.</p>\n"},{"tags":[],"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1543774035,"creation_date":1543774035,"answer_id":53583121,"question_id":53530273,"body_markdown":"This was caused by a [bug in Tomcat 9.0.13](https://bz.apache.org/bugzilla/show_bug.cgi?id=62924) which has been fixed in Tomcat 9.0.14.","title":"Tomcat too many files open (tomcat-users.xml)","body":"<p>This was caused by a <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=62924\" rel=\"noreferrer\">bug in Tomcat 9.0.13</a> which has been fixed in Tomcat 9.0.14.</p>\n"},{"tags":[],"owner":{"account_id":10986749,"reputation":1,"user_id":8072209,"display_name":"Osmar Carlos Miraval Flores"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568218929,"creation_date":1568218929,"answer_id":57893246,"question_id":53530273,"body_markdown":"If you have applications deploy on Tomcat. First, You must make sure that when you open a file you close it explicitly. You can use the following command in order to see the open files in linux:\r\n\r\n    lsof -p &lt;process Id of Tomcat&gt;\r\n\r\n","title":"Tomcat too many files open (tomcat-users.xml)","body":"<p>If you have applications deploy on Tomcat. First, You must make sure that when you open a file you close it explicitly. You can use the following command in order to see the open files in linux:</p>\n\n<pre><code>lsof -p &lt;process Id of Tomcat&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678013133,"creation_date":1678013133,"answer_id":75641666,"question_id":53530273,"body_markdown":"_(Posting answer on behalf of the question author, in order to move it from the question edit history into the answer space)_.\r\n\r\nI now believe this issue is being caused by something in the Mobirise assets. I checked the servers of my other websites (ones built without Mobirise), and none of them are having this issue. I checked all of my sites built with Mobirise, and all of them are having this issue. I don&#39;t have time right now to pinpoint exactly what it is in Mobirise that&#39;s causing this.\r\n\r\nI found a hacky workaround: simply deleting `tomcat-users.xml` and restarting Tomcat fixed the issue. This is not a proper solution, but it&#39;s a workaround that works for me because I manage my Tomcat servers through SSH and SFTP rather than using the default Tomcat Manager interface, which I know is probably bad practice because the web app can&#39;t be updated without server downtime, but I&#39;ve had buggy issues with Tomcat Manager in the past.\r\n","title":"Tomcat too many files open (tomcat-users.xml)","body":"<p><em>(Posting answer on behalf of the question author, in order to move it from the question edit history into the answer space)</em>.</p>\n<p>I now believe this issue is being caused by something in the Mobirise assets. I checked the servers of my other websites (ones built without Mobirise), and none of them are having this issue. I checked all of my sites built with Mobirise, and all of them are having this issue. I don't have time right now to pinpoint exactly what it is in Mobirise that's causing this.</p>\n<p>I found a hacky workaround: simply deleting <code>tomcat-users.xml</code> and restarting Tomcat fixed the issue. This is not a proper solution, but it's a workaround that works for me because I manage my Tomcat servers through SSH and SFTP rather than using the default Tomcat Manager interface, which I know is probably bad practice because the web app can't be updated without server downtime, but I've had buggy issues with Tomcat Manager in the past.</p>\n"}],"owner":{"account_id":8049456,"reputation":507,"user_id":6068535,"display_name":"Kat"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5074,"favorite_count":0,"down_vote_count":2,"up_vote_count":6,"accepted_answer_id":53583121,"answer_count":4,"score":4,"last_activity_date":1678013133,"creation_date":1543452560,"question_id":53530273,"body_markdown":"Earlier today I visited a site that I recently launched and the page was just filled with a big ugly `jasperexception: java.io.filenotfoundexception: /opt/tomcat/webapps/root/web-inf/lib/jstl-1.2.jar (too many open files)`. I checked my server logs and tomcat logs and they were full of the same error. I increased tomcat&#39;s max open file limit as a temporary solution to keep the site running, but it&#39;s quickly filling up again. I&#39;ve launched other sites with the same methods I used for this one, and never had this problem before. The only thing I did different this time was use Mobirise to make the base layout for the front-end, so I&#39;m not ruling out that some scripts used by Mobirise could be the culprit. But when I get the list of files that tomcat has open, I see that it&#39;s got hundreds of copies of tomcat-users.xml open, and it just keeps opening more and more.\r\n\r\n    ...\r\n    java    319 tomcat  935r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  936r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  937r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  938r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  939r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  940r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  941r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  942r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  943r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  944r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  945r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  946r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  947r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  948r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  949r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  950r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  951r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  952r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  953r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  954r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  955r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  956r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  957r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  958r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  959r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  960r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  961r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  962r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  963r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    java    319 tomcat  964r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\r\n    ...\r\nI don&#39;t understand why it&#39;s doing this. I&#39;ve been debugging, scanning through my code, and scouring the internet for issues where tomcat keeps opening too many files, but they all just say &quot;increase the max file limit.&quot; None of them address the root of the problem or mention anything about tomcat just infinitely opening copies of a single file.\r\n\r\n[EDIT]: Here is the full stack trace of the FileNotFoundException:\r\n\r\n    28-Nov-2018 03:51:33.857 SEVERE [http-nio-8080-exec-5] org.apache.catalina.core.ApplicationDispatcher.invoke Servlet.service() for servlet [jsp] threw exception\r\n     java.io.FileNotFoundException: /opt/tomcat/webapps/ROOT/WEB-INF/lib/jstl-1.2.jar (Too many open files)\r\n            at java.util.zip.ZipFile.open(Native Method)\r\n            at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:225)\r\n            at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:155)\r\n            at java.util.jar.JarFile.&lt;init&gt;(JarFile.java:166)\r\n            at java.util.jar.JarFile.&lt;init&gt;(JarFile.java:130)\r\n            at org.apache.tomcat.util.compat.JreCompat.jarFileNewInstance(JreCompat.java:164)\r\n            at org.apache.tomcat.util.scan.JarFileUrlJar.&lt;init&gt;(JarFileUrlJar.java:65)\r\n            at org.apache.tomcat.util.scan.JarFactory.newInstance(JarFactory.java:49)\r\n            at org.apache.tomcat.util.descriptor.tld.TldResourcePath.openJar(TldResourcePath.java:134)\r\n            at org.apache.jasper.compiler.TagLibraryInfoImpl.&lt;init&gt;(TagLibraryInfoImpl.java:125)\r\n            at org.apache.jasper.compiler.Parser.parseTaglibDirective(Parser.java:431)\r\n            at org.apache.jasper.compiler.Parser.parseDirective(Parser.java:489)\r\n            at org.apache.jasper.compiler.Parser.parseElements(Parser.java:1445)\r\n            at org.apache.jasper.compiler.Parser.parse(Parser.java:144)\r\n            at org.apache.jasper.compiler.ParserController.doParse(ParserController.java:244)\r\n            at org.apache.jasper.compiler.ParserController.parse(ParserController.java:105)\r\n            at org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:206)\r\n            at org.apache.jasper.compiler.Compiler.compile(Compiler.java:385)\r\n            at org.apache.jasper.compiler.Compiler.compile(Compiler.java:362)\r\n            at org.apache.jasper.compiler.Compiler.compile(Compiler.java:346)\r\n            at org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:603)\r\n            at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:400)\r\n            at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:386)\r\n            at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:330)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n            at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n            at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)\r\n            at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)\r\n            at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)\r\n            at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)\r\n            at kom.kitten.gingerpage.servlets.HomeServlet.doGet(HomeServlet.java:16)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n            at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n            at com.googlecode.objectify.ObjectifyFilter.doFilter(ObjectifyFilter.java:48)\r\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n            at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\r\n            at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n            at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\r\n            at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n            at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n            at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:668)\r\n            at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n            at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n            at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\r\n            at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n            at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791)\r\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417)\r\n            at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n            at java.lang.Thread.run(Thread.java:748)\r\n    \r\n    28-Nov-2018 03:51:33.859 SEVERE [http-nio-8080-exec-5] org.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [kom.kitten.gingerpage.servlets.HomeServlet] in conte$\r\n     java.io.FileNotFoundException: /opt/tomcat/webapps/ROOT/WEB-INF/lib/jstl-1.2.jar (Too many open files)\r\n            at java.util.zip.ZipFile.open(Native Method)\r\n            at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:225)\r\n            at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:155)\r\n            at java.util.jar.JarFile.&lt;init&gt;(JarFile.java:166)\r\n            at java.util.jar.JarFile.&lt;init&gt;(JarFile.java:130)\r\n            at org.apache.tomcat.util.compat.JreCompat.jarFileNewInstance(JreCompat.java:164)\r\n            at org.apache.tomcat.util.scan.JarFileUrlJar.&lt;init&gt;(JarFileUrlJar.java:65)\r\n            at org.apache.tomcat.util.scan.JarFactory.newInstance(JarFactory.java:49)\r\n            at org.apache.tomcat.util.descriptor.tld.TldResourcePath.openJar(TldResourcePath.java:134)\r\n            at org.apache.jasper.compiler.TagLibraryInfoImpl.&lt;init&gt;(TagLibraryInfoImpl.java:125)\r\n            at org.apache.jasper.compiler.Parser.parseTaglibDirective(Parser.java:431)\r\n            at org.apache.jasper.compiler.Parser.parseDirective(Parser.java:489)\r\n            at org.apache.jasper.compiler.Parser.parseElements(Parser.java:1445)\r\n            at org.apache.jasper.compiler.Parser.parse(Parser.java:144)\r\n            at org.apache.jasper.compiler.ParserController.doParse(ParserController.java:244)\r\n            at org.apache.jasper.compiler.ParserController.parse(ParserController.java:105)\r\n            at org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:206)\r\n            at org.apache.jasper.compiler.Compiler.compile(Compiler.java:385)\r\n            at org.apache.jasper.compiler.Compiler.compile(Compiler.java:362)\r\n            at org.apache.jasper.compiler.Compiler.compile(Compiler.java:346)\r\n            at org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:603)\r\n            at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:400)\r\n            at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:386)\r\n            at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:330)\r\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n            at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n            at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)\r\n            at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)\r\n            at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)\r\n            at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)\r\n            at kom.kitten.gingerpage.servlets.HomeServlet.doGet(HomeServlet.java:16)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n            at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n            at com.googlecode.objectify.ObjectifyFilter.doFilter(ObjectifyFilter.java:48)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n            at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\r\n            at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\r\n            at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n            at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n            at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:668)\r\n            at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n            at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n            at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\r\n            at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n            at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791)\r\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417)\r\n            at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n            at java.lang.Thread.run(Thread.java:748)\r\nThis is the same stack trace that it logs every time the error occurs (i.e. every time someone attempts to load a page on the site while there are too many files open in tomcat)","title":"Tomcat too many files open (tomcat-users.xml)","body":"<p>Earlier today I visited a site that I recently launched and the page was just filled with a big ugly <code>jasperexception: java.io.filenotfoundexception: /opt/tomcat/webapps/root/web-inf/lib/jstl-1.2.jar (too many open files)</code>. I checked my server logs and tomcat logs and they were full of the same error. I increased tomcat's max open file limit as a temporary solution to keep the site running, but it's quickly filling up again. I've launched other sites with the same methods I used for this one, and never had this problem before. The only thing I did different this time was use Mobirise to make the base layout for the front-end, so I'm not ruling out that some scripts used by Mobirise could be the culprit. But when I get the list of files that tomcat has open, I see that it's got hundreds of copies of tomcat-users.xml open, and it just keeps opening more and more.</p>\n\n<pre><code>...\njava    319 tomcat  935r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  936r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  937r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  938r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  939r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  940r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  941r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  942r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  943r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  944r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  945r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  946r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  947r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  948r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  949r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  950r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  951r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  952r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  953r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  954r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  955r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  956r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  957r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  958r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  959r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  960r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  961r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  962r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  963r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\njava    319 tomcat  964r      REG              253,1     2164 263714 /opt/tomcat/conf/tomcat-users.xml\n...\n</code></pre>\n\n<p>I don't understand why it's doing this. I've been debugging, scanning through my code, and scouring the internet for issues where tomcat keeps opening too many files, but they all just say \"increase the max file limit.\" None of them address the root of the problem or mention anything about tomcat just infinitely opening copies of a single file.</p>\n\n<p>[EDIT]: Here is the full stack trace of the FileNotFoundException:</p>\n\n<pre><code>28-Nov-2018 03:51:33.857 SEVERE [http-nio-8080-exec-5] org.apache.catalina.core.ApplicationDispatcher.invoke Servlet.service() for servlet [jsp] threw exception\n java.io.FileNotFoundException: /opt/tomcat/webapps/ROOT/WEB-INF/lib/jstl-1.2.jar (Too many open files)\n        at java.util.zip.ZipFile.open(Native Method)\n        at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:225)\n        at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:155)\n        at java.util.jar.JarFile.&lt;init&gt;(JarFile.java:166)\n        at java.util.jar.JarFile.&lt;init&gt;(JarFile.java:130)\n        at org.apache.tomcat.util.compat.JreCompat.jarFileNewInstance(JreCompat.java:164)\n        at org.apache.tomcat.util.scan.JarFileUrlJar.&lt;init&gt;(JarFileUrlJar.java:65)\n        at org.apache.tomcat.util.scan.JarFactory.newInstance(JarFactory.java:49)\n        at org.apache.tomcat.util.descriptor.tld.TldResourcePath.openJar(TldResourcePath.java:134)\n        at org.apache.jasper.compiler.TagLibraryInfoImpl.&lt;init&gt;(TagLibraryInfoImpl.java:125)\n        at org.apache.jasper.compiler.Parser.parseTaglibDirective(Parser.java:431)\n        at org.apache.jasper.compiler.Parser.parseDirective(Parser.java:489)\n        at org.apache.jasper.compiler.Parser.parseElements(Parser.java:1445)\n        at org.apache.jasper.compiler.Parser.parse(Parser.java:144)\n        at org.apache.jasper.compiler.ParserController.doParse(ParserController.java:244)\n        at org.apache.jasper.compiler.ParserController.parse(ParserController.java:105)\n        at org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:206)\n        at org.apache.jasper.compiler.Compiler.compile(Compiler.java:385)\n        at org.apache.jasper.compiler.Compiler.compile(Compiler.java:362)\n        at org.apache.jasper.compiler.Compiler.compile(Compiler.java:346)\n        at org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:603)\n        at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:400)\n        at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:386)\n        at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:330)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)\n        at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)\n        at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)\n        at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)\n        at kom.kitten.gingerpage.servlets.HomeServlet.doGet(HomeServlet.java:16)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at com.googlecode.objectify.ObjectifyFilter.doFilter(ObjectifyFilter.java:48)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:668)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.lang.Thread.run(Thread.java:748)\n\n28-Nov-2018 03:51:33.859 SEVERE [http-nio-8080-exec-5] org.apache.catalina.core.StandardWrapperValve.invoke Servlet.service() for servlet [kom.kitten.gingerpage.servlets.HomeServlet] in conte$\n java.io.FileNotFoundException: /opt/tomcat/webapps/ROOT/WEB-INF/lib/jstl-1.2.jar (Too many open files)\n        at java.util.zip.ZipFile.open(Native Method)\n        at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:225)\n        at java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:155)\n        at java.util.jar.JarFile.&lt;init&gt;(JarFile.java:166)\n        at java.util.jar.JarFile.&lt;init&gt;(JarFile.java:130)\n        at org.apache.tomcat.util.compat.JreCompat.jarFileNewInstance(JreCompat.java:164)\n        at org.apache.tomcat.util.scan.JarFileUrlJar.&lt;init&gt;(JarFileUrlJar.java:65)\n        at org.apache.tomcat.util.scan.JarFactory.newInstance(JarFactory.java:49)\n        at org.apache.tomcat.util.descriptor.tld.TldResourcePath.openJar(TldResourcePath.java:134)\n        at org.apache.jasper.compiler.TagLibraryInfoImpl.&lt;init&gt;(TagLibraryInfoImpl.java:125)\n        at org.apache.jasper.compiler.Parser.parseTaglibDirective(Parser.java:431)\n        at org.apache.jasper.compiler.Parser.parseDirective(Parser.java:489)\n        at org.apache.jasper.compiler.Parser.parseElements(Parser.java:1445)\n        at org.apache.jasper.compiler.Parser.parse(Parser.java:144)\n        at org.apache.jasper.compiler.ParserController.doParse(ParserController.java:244)\n        at org.apache.jasper.compiler.ParserController.parse(ParserController.java:105)\n        at org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:206)\n        at org.apache.jasper.compiler.Compiler.compile(Compiler.java:385)\n        at org.apache.jasper.compiler.Compiler.compile(Compiler.java:362)\n        at org.apache.jasper.compiler.Compiler.compile(Compiler.java:346)\n        at org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:603)\n        at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:400)\n        at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:386)\n        at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:330)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)\n        at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)\n        at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)\n        at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)\n        at kom.kitten.gingerpage.servlets.HomeServlet.doGet(HomeServlet.java:16)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at com.googlecode.objectify.ObjectifyFilter.doFilter(ObjectifyFilter.java:48)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:668)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:791)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1417)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n\n<p>This is the same stack trace that it logs every time the error occurs (i.e. every time someone attempts to load a page on the site while there are too many files open in tomcat)</p>\n"},{"tags":["java","eclipse","compilation",".class-file"],"comments":[{"owner":{"account_id":74184,"reputation":122906,"user_id":213269,"accept_rate":98,"display_name":"Jonas"},"score":0,"creation_date":1288433850,"post_id":4058155,"comment_id":4358938,"body_markdown":"@TheLQ: That was right, and I didn&#39;t know that it was compiled automatically. Thanks.","body":"@TheLQ: That was right, and I didn&#39;t know that it was compiled automatically. Thanks."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1409755765,"post_id":4058155,"comment_id":40074772,"body_markdown":"Can I get compilation message also?","body":"Can I get compilation message also?"}],"answers":[{"tags":[],"owner":{"account_id":26657,"reputation":1991,"user_id":69584,"accept_rate":83,"display_name":"Cristina"},"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1316549864,"creation_date":1288433201,"answer_id":4058176,"question_id":4058155,"body_markdown":"You can un-check the build automatically in Project menu and then build by hand by type Ctrl + B, or clicking an icon the appears to the right of the printer icon.","title":"How can I compile a Java program in Eclipse without running it?","body":"<p>You can un-check the build automatically in Project menu and then build by hand by type Ctrl + B, or clicking an icon the appears to the right of the printer icon.</p>\n"},{"tags":[],"owner":{"account_id":1750019,"reputation":588,"user_id":1599322,"display_name":"Charidimos"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1344982493,"creation_date":1344982493,"answer_id":11961604,"question_id":4058155,"body_markdown":"You will need to go to *Project-&gt;Clean...*,then build your project. This will work, even when your source code does not contain any main method to run as an executable program. The .class files will appear in the bin folder of your project, in your workspace. ","title":"How can I compile a Java program in Eclipse without running it?","body":"<p>You will need to go to <em>Project->Clean...</em>,then build your project. This will work, even when your source code does not contain any main method to run as an executable program. The .class files will appear in the bin folder of your project, in your workspace. </p>\n"},{"tags":[],"owner":{"account_id":2624382,"reputation":31,"user_id":2271742,"display_name":"Clint Willard"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1365706987,"creation_date":1365706987,"answer_id":15956755,"question_id":4058155,"body_markdown":"In the case that you delete your .class file in Eclipse and then try to build it again from the .java file it will do nothing. If you try to run the .java file without the .class file you will get an error that it can not find the main class.\r\n\r\nYou will either have to change and re-save the .java file then build it again, or else you have to run Clean on the project then build again.","title":"How can I compile a Java program in Eclipse without running it?","body":"<p>In the case that you delete your .class file in Eclipse and then try to build it again from the .java file it will do nothing. If you try to run the .java file without the .class file you will get an error that it can not find the main class.</p>\n\n<p>You will either have to change and re-save the .java file then build it again, or else you have to run Clean on the project then build again.</p>\n"},{"tags":[],"owner":{"account_id":3679188,"reputation":27,"user_id":3064505,"display_name":"Dipanshu"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1678012888,"creation_date":1386136458,"answer_id":20368005,"question_id":4058155,"body_markdown":"Go to the project explorer block ...\r\nright click on project name \r\nselect &quot;Build Path&quot;-----------&gt; &quot;Configuration Build Path&quot;\r\n\r\nthen the pop up window will get open.\r\n\r\nin this pop up window you will find 4 tabs. 1)source 2) project 3)Library 4)order and export \r\n\r\n\r\nClick on 1) Source \r\n\r\nselect the project (under which that file is present which you want to compile)\r\n\r\nand then click on Apply\r\n\r\n\r\nGo to the workspace location of the project (in Finder in Mac, File Explorer in Window) open a bin folder and search that class file ... \r\n\r\nyou will see the .class file which is the compiled file.\r\n\r\njust to cross verify check the changed timing.\r\n\r\n\r\n\r\nhope this will help.\r\n\r\nThanks.","title":"How can I compile a Java program in Eclipse without running it?","body":"<p>Go to the project explorer block ...\nright click on project name\nselect &quot;Build Path&quot;-----------&gt; &quot;Configuration Build Path&quot;</p>\n<p>then the pop up window will get open.</p>\n<p>in this pop up window you will find 4 tabs. 1)source 2) project 3)Library 4)order and export</p>\n<p>Click on 1) Source</p>\n<p>select the project (under which that file is present which you want to compile)</p>\n<p>and then click on Apply</p>\n<p>Go to the workspace location of the project (in Finder in Mac, File Explorer in Window) open a bin folder and search that class file ...</p>\n<p>you will see the .class file which is the compiled file.</p>\n<p>just to cross verify check the changed timing.</p>\n<p>hope this will help.</p>\n<p>Thanks.</p>\n"},{"tags":[],"owner":{"account_id":4351320,"reputation":79,"user_id":3551555,"display_name":"Leeladurga Prasad Gunti"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1397909415,"creation_date":1397907314,"answer_id":23169526,"question_id":4058155,"body_markdown":"Right click on `Yourproject(in project Explorer)--&gt;Build Project`\r\n\r\nIt will compile all files in your project and updates your build folder, all without running.","title":"How can I compile a Java program in Eclipse without running it?","body":"<p>Right click on <code>Yourproject(in project Explorer)--&gt;Build Project</code></p>\n\n<p>It will compile all files in your project and updates your build folder, all without running.</p>\n"},{"tags":[],"owner":{"account_id":5358258,"reputation":119,"user_id":4284601,"display_name":"Jorge Nieto"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1445465543,"creation_date":1445465543,"answer_id":33270154,"question_id":4058155,"body_markdown":"Try this in your console:\r\n\r\n    javac {$PathToYourProyect}/*\r\n\r\nIf you also need any external library, try:\r\n\r\n    javac -cp {$PathToYourLibrary}.jar {$PathToYourProyect}/*","title":"How can I compile a Java program in Eclipse without running it?","body":"<p>Try this in your console:</p>\n\n<pre><code>javac {$PathToYourProyect}/*\n</code></pre>\n\n<p>If you also need any external library, try:</p>\n\n<pre><code>javac -cp {$PathToYourLibrary}.jar {$PathToYourProyect}/*\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11101105,"reputation":21,"user_id":8149778,"display_name":"Sanjay Singh Bhandari"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1509172486,"creation_date":1509172486,"answer_id":46986974,"question_id":4058155,"body_markdown":"Right click on the file on package Explorer\r\nThen go to Show in\r\nUnder it go to terminal\r\nEclipse will have a terminal then\r\nUse javac fileName to compile","title":"How can I compile a Java program in Eclipse without running it?","body":"<p>Right click on the file on package Explorer\nThen go to Show in\nUnder it go to terminal\nEclipse will have a terminal then\nUse javac fileName to compile</p>\n"}],"owner":{"account_id":74184,"reputation":122906,"user_id":213269,"accept_rate":98,"display_name":"Jonas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":335682,"favorite_count":0,"down_vote_count":0,"up_vote_count":99,"accepted_answer_id":4058176,"answer_count":7,"score":99,"last_activity_date":1678012888,"creation_date":1288432874,"question_id":4058155,"body_markdown":"I would like to compile my Java program in Eclipse but not to run it. I can&#39;t understand how to do it.\r\n\r\nHow can I compile a Java program to `.class` files in Eclipse without running it?","title":"How can I compile a Java program in Eclipse without running it?","body":"<p>I would like to compile my Java program in Eclipse but not to run it. I can't understand how to do it.</p>\n\n<p>How can I compile a Java program to <code>.class</code> files in Eclipse without running it?</p>\n"},{"tags":["java","android","google-maps-markers","google-places-api","google-maps-android-api-2"],"comments":[{"owner":{"account_id":24508188,"reputation":1915,"user_id":18422887,"display_name":"Yrll"},"score":0,"creation_date":1678058379,"post_id":75641616,"comment_id":133454807,"body_markdown":"From what I can see, you&#39;re trying to use the server side Places API on your client side. Is that correct? Maybe you could try the [Places SDK for Android](https://developers.google.com/maps/documentation/places/android-sdk)","body":"From what I can see, you&#39;re trying to use the server side Places API on your client side. Is that correct? Maybe you could try the <a href=\"https://developers.google.com/maps/documentation/places/android-sdk\" rel=\"nofollow noreferrer\">Places SDK for Android</a>"},{"owner":{"account_id":18667680,"reputation":21,"user_id":13607270,"display_name":"Zahid Habib"},"score":0,"creation_date":1678113359,"post_id":75641616,"comment_id":133465413,"body_markdown":"@Yrll could you elaborate on this please. I am using the places API that I found on the developers console but how can I use the places SDK for android?","body":"@Yrll could you elaborate on this please. I am using the places API that I found on the developers console but how can I use the places SDK for android?"},{"owner":{"account_id":24508188,"reputation":1915,"user_id":18422887,"display_name":"Yrll"},"score":0,"creation_date":1678153494,"post_id":75641616,"comment_id":133474713,"body_markdown":"Places API is used for server side requests, it is not supposed to be used on the client side. For you to be able to use Places API on your android app, you can use the SDK that Google Maps already provided for you. I already included the link on my comment before. But here&#39;s also the link to the tutorial on their documentation: https://developers.google.com/maps/documentation/places/android-sdk/autocomplete-tutorial","body":"Places API is used for server side requests, it is not supposed to be used on the client side. For you to be able to use Places API on your android app, you can use the SDK that Google Maps already provided for you. I already included the link on my comment before. But here&#39;s also the link to the tutorial on their documentation: <a href=\"https://developers.google.com/maps/documentation/places/android-sdk/autocomplete-tutorial\" rel=\"nofollow noreferrer\">developers.google.com/maps/documentation/places/android-sdk/&zwnj;&#8203;&hellip;</a>"}],"owner":{"account_id":18667680,"reputation":21,"user_id":13607270,"display_name":"Zahid Habib"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678012716,"creation_date":1678012716,"question_id":75641616,"body_markdown":"So I am trying to use the Places API for an android app. I&#39;ve used the correct URL to query for the JSON results of places however when I run the app I receive this error in my logcat: `data: {   &quot;error_message&quot;: &quot;The provided API key is invalid.&quot;,   &quot;html_attributions&quot; : [],   &quot;results&quot; : [],   &quot;status&quot;: &quot;REQUEST_DENIED&quot;}`.\r\n\r\nWhen I used Maps API to show current coordinates on the map it worked but now that I want it to mark specific locations of restrarunts on a map using the Places API I get an error.\r\n\r\nMy developer console has Places API &amp; Maps SKD for android enabled. Application restrictions are set to android apps with the correct package name &amp; fingerprint provided. API restrictions are set to &#39;Don&#39;t restrict key&#39;. My API key in my code is also correct.\r\n\r\nI&#39;ve spent a lot of time researching a solution but cannot seem to find one that works. I&#39;ve used a second API key with restrictions turned off, I&#39;ve checked that all the APIS that I need are enabled in my developer console.\r\n\r\nHere is the error message I receive at run time:\r\n\r\n    java.util.concurrent.ExecutionException: java.lang.SecurityException: GoogleCertificatesRslt: not allowed: pkg=com.project.prayerpal, sha256=[29a99a0744d90545fc8c9b9a2572fc89423676bbd3ff074ea76faa7ff], atk=false, ver=230617044.true (go/gsrlt)\r\n        at ajp.s(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):3)\r\n        at ajp.get(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):2)\r\n        at akz.g(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):2)\r\n        at yr.c(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):1)\r\n        at yt.run(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):0)\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:463)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:307)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\r\n        at java.lang.Thread.run(Thread.java:1012)\r\n     Caused by: java.lang.SecurityException: GoogleCertificatesRslt: not allowed: pkg=com.project.prayerpal, sha256=[29a99a0744d90545fc8c9b9a2572fc89423676bbd3ff074ea76faa7ff], atk=false, ver=230617044.true (go/gsrlt)\r\n        at android.os.Parcel.createExceptionOrNull(Parcel.java:2441)\r\n        at android.os.Parcel.createException(Parcel.java:2425)\r\n        at android.os.Parcel.readException(Parcel.java:2408)\r\n        at android.os.Parcel.readException(Parcel.java:2350)\r\n        at ff.c(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):2)\r\n        at ru.a(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):4)\r\n        at jl.e(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):2)\r\n        at kk.t(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):2)\r\n        at kk.u(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):3)\r\n        at kk.e(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):2)\r\n        at ko.handleMessage(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):69)\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)\r\n        at android.os.Looper.loopOnce(Looper.java:233)\r\n        at android.os.Looper.loop(Looper.java:344)\r\n        at android.os.HandlerThread.run(HandlerThread.java:67)\r\n\r\nHere is the code that uses the URL:\r\n\r\n    public StringBuilder queryString(){\r\n\r\n        double Latitude = 48.8566;\r\n        double Longitude = 2.3522;\r\n\r\n        StringBuilder sb = new StringBuilder(&quot;https://maps.googleapis.com/maps/api/place/nearbysearch/json?&quot;);\r\n        sb.append(&quot;location=&quot; + Latitude + &quot;,&quot; + Longitude);\r\n        sb.append(&quot;&amp;radius=5000&quot;);\r\n        sb.append(&quot;&amp;types=&quot; + &quot;restraurant&quot;);\r\n        sb.append(&quot;&amp;sensor=true&quot;);\r\n        sb.append(&quot;&amp;key=&quot; + R.string.API_key);\r\n\r\n        return sb;\r\n    }\r\n\r\nHere is the code that gets the data from the URL:\r\n\r\n    private String downloadUrl(String strUrl) throws IOException{\r\n\r\n        String data = &quot;&quot;;\r\n        InputStream iStream = null;\r\n        HttpURLConnection urlConnection = null;\r\n\r\n        try {\r\n            URL url = new URL(strUrl);\r\n\r\n            urlConnection = (HttpURLConnection) url.openConnection();\r\n\r\n            urlConnection.connect();\r\n\r\n            iStream = urlConnection.getInputStream();\r\n\r\n            BufferedReader br = new BufferedReader(new InputStreamReader(iStream));\r\n\r\n            StringBuffer sb = new StringBuffer();\r\n\r\n            String line = &quot;&quot;;\r\n\r\n            while((line = br.readLine()) != null){\r\n\r\n                sb.append(line);\r\n            }\r\n\r\n            data = sb.toString();\r\n\r\n            br.close();\r\n        }catch (Exception e){\r\n\r\n            Log.d(&quot;error&quot;, &quot;downloading url failed&quot;);\r\n        }finally {\r\n\r\n            assert iStream != null;\r\n            iStream.close();\r\n            urlConnection.disconnect();\r\n        }\r\n\r\n        return data;\r\n    }","title":"How can I fix &#39;Invalid key&#39; error &amp; retrieve JSON data of specific places from Maps API?","body":"<p>So I am trying to use the Places API for an android app. I've used the correct URL to query for the JSON results of places however when I run the app I receive this error in my logcat: <code>data: {   &quot;error_message&quot;: &quot;The provided API key is invalid.&quot;,   &quot;html_attributions&quot; : [],   &quot;results&quot; : [],   &quot;status&quot;: &quot;REQUEST_DENIED&quot;}</code>.</p>\n<p>When I used Maps API to show current coordinates on the map it worked but now that I want it to mark specific locations of restrarunts on a map using the Places API I get an error.</p>\n<p>My developer console has Places API &amp; Maps SKD for android enabled. Application restrictions are set to android apps with the correct package name &amp; fingerprint provided. API restrictions are set to 'Don't restrict key'. My API key in my code is also correct.</p>\n<p>I've spent a lot of time researching a solution but cannot seem to find one that works. I've used a second API key with restrictions turned off, I've checked that all the APIS that I need are enabled in my developer console.</p>\n<p>Here is the error message I receive at run time:</p>\n<pre><code>java.util.concurrent.ExecutionException: java.lang.SecurityException: GoogleCertificatesRslt: not allowed: pkg=com.project.prayerpal, sha256=[29a99a0744d90545fc8c9b9a2572fc89423676bbd3ff074ea76faa7ff], atk=false, ver=230617044.true (go/gsrlt)\n    at ajp.s(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):3)\n    at ajp.get(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):2)\n    at akz.g(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):2)\n    at yr.c(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):1)\n    at yt.run(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):0)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:463)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:307)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\n    at java.lang.Thread.run(Thread.java:1012)\n Caused by: java.lang.SecurityException: GoogleCertificatesRslt: not allowed: pkg=com.project.prayerpal, sha256=[29a99a0744d90545fc8c9b9a2572fc89423676bbd3ff074ea76faa7ff], atk=false, ver=230617044.true (go/gsrlt)\n    at android.os.Parcel.createExceptionOrNull(Parcel.java:2441)\n    at android.os.Parcel.createException(Parcel.java:2425)\n    at android.os.Parcel.readException(Parcel.java:2408)\n    at android.os.Parcel.readException(Parcel.java:2350)\n    at ff.c(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):2)\n    at ru.a(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):4)\n    at jl.e(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):2)\n    at kk.t(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):2)\n    at kk.u(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):3)\n    at kk.e(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):2)\n    at ko.handleMessage(:com.google.android.gms.dynamite_mapsdynamite@230617044@23.06.17 (190400-0):69)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loopOnce(Looper.java:233)\n    at android.os.Looper.loop(Looper.java:344)\n    at android.os.HandlerThread.run(HandlerThread.java:67)\n</code></pre>\n<p>Here is the code that uses the URL:</p>\n<pre><code>public StringBuilder queryString(){\n\n    double Latitude = 48.8566;\n    double Longitude = 2.3522;\n\n    StringBuilder sb = new StringBuilder(&quot;https://maps.googleapis.com/maps/api/place/nearbysearch/json?&quot;);\n    sb.append(&quot;location=&quot; + Latitude + &quot;,&quot; + Longitude);\n    sb.append(&quot;&amp;radius=5000&quot;);\n    sb.append(&quot;&amp;types=&quot; + &quot;restraurant&quot;);\n    sb.append(&quot;&amp;sensor=true&quot;);\n    sb.append(&quot;&amp;key=&quot; + R.string.API_key);\n\n    return sb;\n}\n</code></pre>\n<p>Here is the code that gets the data from the URL:</p>\n<pre><code>private String downloadUrl(String strUrl) throws IOException{\n\n    String data = &quot;&quot;;\n    InputStream iStream = null;\n    HttpURLConnection urlConnection = null;\n\n    try {\n        URL url = new URL(strUrl);\n\n        urlConnection = (HttpURLConnection) url.openConnection();\n\n        urlConnection.connect();\n\n        iStream = urlConnection.getInputStream();\n\n        BufferedReader br = new BufferedReader(new InputStreamReader(iStream));\n\n        StringBuffer sb = new StringBuffer();\n\n        String line = &quot;&quot;;\n\n        while((line = br.readLine()) != null){\n\n            sb.append(line);\n        }\n\n        data = sb.toString();\n\n        br.close();\n    }catch (Exception e){\n\n        Log.d(&quot;error&quot;, &quot;downloading url failed&quot;);\n    }finally {\n\n        assert iStream != null;\n        iStream.close();\n        urlConnection.disconnect();\n    }\n\n    return data;\n}\n</code></pre>\n"},{"tags":["java","jar","ant"],"comments":[{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1677750201,"post_id":75613657,"comment_id":133400624,"body_markdown":"Can you provide us with the entire error message maybe? And can you also be a bit more specific about your question?","body":"Can you provide us with the entire error message maybe? And can you also be a bit more specific about your question?"},{"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"score":0,"creation_date":1677751746,"post_id":75613657,"comment_id":133401095,"body_markdown":"&quot;java path&quot; replace with &quot;jar&quot; then should work.","body":"&quot;java path&quot; replace with &quot;jar&quot; then should work."},{"owner":{"account_id":18117684,"reputation":21,"user_id":13174147,"display_name":"panda"},"score":0,"creation_date":1677753275,"post_id":75613657,"comment_id":133401573,"body_markdown":"@Z-100   this is the error (path is : X:\\Jar\\test ): [exec] X:\\Jar\\test no such file or directory\n     [exec] Result: 1\n\nWhat i want is to update my Jar Sample.jar by adding the class Test.class (this class its an existing one) but my jar has a folder in it so if we extract it we have : Sample/test/(my classes) so what i want is to update my classes with Test.class to this path","body":"@Z-100   this is the error (path is : X:\\Jar\\test ): [exec] X:\\Jar\\test no such file or directory      [exec] Result: 1  What i want is to update my Jar Sample.jar by adding the class Test.class (this class its an existing one) but my jar has a folder in it so if we extract it we have : Sample/test/(my classes) so what i want is to update my classes with Test.class to this path"},{"owner":{"account_id":18117684,"reputation":21,"user_id":13174147,"display_name":"panda"},"score":0,"creation_date":1677753377,"post_id":75613657,"comment_id":133401592,"body_markdown":"@JaiPrakash i have an error : \n Execute failed: java.io.IOException: Cannot run program Sample.jar&quot; (in directory  CreateProcess error=193, %1 is not a valid Win32 application","body":"@JaiPrakash i have an error :   Execute failed: java.io.IOException: Cannot run program Sample.jar&quot; (in directory  CreateProcess error=193, %1 is not a valid Win32 application"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1677756707,"post_id":75613657,"comment_id":133402578,"body_markdown":"[DUPLICATE question](https://stackoverflow.com/questions/75594506/is-it-possible-to-add-a-class-from-another-package-to-an-existing-jar-file-using)","body":"<a href=\"https://stackoverflow.com/questions/75594506/is-it-possible-to-add-a-class-from-another-package-to-an-existing-jar-file-using\">DUPLICATE question</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1677757218,"post_id":75613657,"comment_id":133402703,"body_markdown":"As I said in the original question, why don&#39;t you simply compile that class into the project?","body":"As I said in the original question, why don&#39;t you simply compile that class into the project?"},{"owner":{"account_id":18117684,"reputation":21,"user_id":13174147,"display_name":"panda"},"score":0,"creation_date":1677758665,"post_id":75613657,"comment_id":133403099,"body_markdown":"Because it is in diffrent projet","body":"Because it is in diffrent projet"}],"answers":[{"tags":[],"owner":{"account_id":382517,"reputation":10216,"user_id":737790,"accept_rate":60,"display_name":"Yves Martin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678012384,"creation_date":1677948180,"answer_id":75637108,"question_id":75613657,"body_markdown":"Probably the &quot;exec&quot; task has an extra argument, I guess you expect to include Test.class from directory &quot;${Path}&quot;, I would write instead\r\n\r\n    &lt;target name=&quot;UpdateJar&quot; depends=&quot;Compile&quot;&gt;\r\n      &lt;exec executable=&quot;java&quot;&gt;\r\n        &lt;arg value=&quot;-uf&quot;/&gt;\r\n        &lt;arg value=&quot;sample.jar&quot;/&gt;\r\n        &lt;arg value=&quot;${Path}/Test.class&quot;/&gt;\r\n      &lt;/exec&gt;\r\n    &lt;/target&gt;\r\n\r\nAnyway, for efficiency, knowing a jar file is just a Zip file, I recommend to just update the existing jar file (already containing META/MANIFEST.MF and some classes) with Apache Ant Zip task\r\n\r\n    &lt;zip destfile=&quot;sample.jar&quot; update=&quot;true&quot;&gt;\r\n      &lt;fileset dir=&quot;${Path}&quot; includes=&quot;Test.class&quot;/&gt;\r\n    &lt;/zip&gt;\r\n\r\nBut I guess you also expect to preserve package structure in jar file, which requires your &quot;java&quot; exec to run with proper current working directory. My alternative with zip is then more obvious\r\n\r\n    &lt;zip destfile=&quot;sample.jar&quot; update=&quot;true&quot;&gt;\r\n      &lt;fileset dir=&quot;${Path}&quot; includes=&quot;your/package/Test.class&quot;/&gt;\r\n    &lt;/zip&gt;\r\n","title":"How Can I use this command line in Ant","body":"<p>Probably the &quot;exec&quot; task has an extra argument, I guess you expect to include Test.class from directory &quot;${Path}&quot;, I would write instead</p>\n<pre><code>&lt;target name=&quot;UpdateJar&quot; depends=&quot;Compile&quot;&gt;\n  &lt;exec executable=&quot;java&quot;&gt;\n    &lt;arg value=&quot;-uf&quot;/&gt;\n    &lt;arg value=&quot;sample.jar&quot;/&gt;\n    &lt;arg value=&quot;${Path}/Test.class&quot;/&gt;\n  &lt;/exec&gt;\n&lt;/target&gt;\n</code></pre>\n<p>Anyway, for efficiency, knowing a jar file is just a Zip file, I recommend to just update the existing jar file (already containing META/MANIFEST.MF and some classes) with Apache Ant Zip task</p>\n<pre><code>&lt;zip destfile=&quot;sample.jar&quot; update=&quot;true&quot;&gt;\n  &lt;fileset dir=&quot;${Path}&quot; includes=&quot;Test.class&quot;/&gt;\n&lt;/zip&gt;\n</code></pre>\n<p>But I guess you also expect to preserve package structure in jar file, which requires your &quot;java&quot; exec to run with proper current working directory. My alternative with zip is then more obvious</p>\n<pre><code>&lt;zip destfile=&quot;sample.jar&quot; update=&quot;true&quot;&gt;\n  &lt;fileset dir=&quot;${Path}&quot; includes=&quot;your/package/Test.class&quot;/&gt;\n&lt;/zip&gt;\n</code></pre>\n"}],"owner":{"account_id":18117684,"reputation":21,"user_id":13174147,"display_name":"panda"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75637108,"answer_count":1,"score":1,"last_activity_date":1678012384,"creation_date":1677750144,"question_id":75613657,"body_markdown":"I need to update my file jar using ant by using this line command : jar -uf sample.jar [path in jar file] target-file \r\n\r\nI tried this : \r\n\r\n    &lt;target name=&quot;UpdateJar&quot; depends=&quot;Compile&quot;&gt;\r\n\t\t&lt;exec executable=&quot;java path&quot;&gt;\r\n\t\t\t&lt;arg value=&quot;-uf&quot;/&gt;\r\n\t\t\t&lt;arg value=&quot;$Sample.jar&quot;/&gt;\r\n\t\t\t&lt;arg value=&quot;${Path}&quot;/&gt;\r\n\t\t\t&lt;arg value=&quot;Test.class&quot;/&gt;\r\n\t\t&lt;/exec&gt;\r\n\t&lt;/target&gt;\r\n\r\nBut It&#39;s not working no such file or directory\r\n \r\nThe error is the following: `(path is : X:\\Jar\\test ): [exec] X:\\Jar\\test no such file or directory [exec] Result: 1 `","title":"How Can I use this command line in Ant","body":"<p>I need to update my file jar using ant by using this line command : jar -uf sample.jar [path in jar file] target-file</p>\n<p>I tried this :</p>\n<pre><code>&lt;target name=&quot;UpdateJar&quot; depends=&quot;Compile&quot;&gt;\n    &lt;exec executable=&quot;java path&quot;&gt;\n        &lt;arg value=&quot;-uf&quot;/&gt;\n        &lt;arg value=&quot;$Sample.jar&quot;/&gt;\n        &lt;arg value=&quot;${Path}&quot;/&gt;\n        &lt;arg value=&quot;Test.class&quot;/&gt;\n    &lt;/exec&gt;\n&lt;/target&gt;\n</code></pre>\n<p>But It's not working no such file or directory</p>\n<p>The error is the following: <code>(path is : X:\\Jar\\test ): [exec] X:\\Jar\\test no such file or directory [exec] Result: 1 </code></p>\n"},{"tags":["java","multithreading","concurrency","thread-safety","bcel"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1678117100,"post_id":75641434,"comment_id":133466607,"body_markdown":"There is no guaranty that concurrency issues will exhibit a specific behavior. The check within `computeIfAbsent` which could lead to a `ConcurrentModificationException` is made on a best effort basis and does not even exist in all Java versions (most notably, it doesn’t exist in Java&#160;8). Instead of only checking for this exception, you may verify whether you consistently receive the same value for the same key (if not, there were lost updates). But as said, there is no guaranty for a specific misbehavior. It may even happen to do what it is supposed to do in some runs, despite being broken.","body":"There is no guaranty that concurrency issues will exhibit a specific behavior. The check within <code>computeIfAbsent</code> which could lead to a <code>ConcurrentModificationException</code> is made on a best effort basis and does not even exist in all Java versions (most notably, it doesn’t exist in Java 8). Instead of only checking for this exception, you may verify whether you consistently receive the same value for the same key (if not, there were lost updates). But as said, there is no guaranty for a specific misbehavior. It may even happen to do what it is supposed to do in some runs, despite being broken."}],"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678011862,"creation_date":1678010558,"question_id":75641434,"body_markdown":"I know there is a concurrency issue here in `org.apache.bcel.util.SyntheticRepository` and eventhough I know I happen to get `ConcurrentModificationException`, I cannot reproduce it by unit test.\r\n\r\n```java\r\npublic class SyntheticRepository extends MemorySensitiveClassPathRepository {\r\n    // This isn&#39;t thread-safe\r\n    private static final Map&lt;ClassPath, SyntheticRepository&gt; MAP = new HashMap&lt;&gt;();\r\n   \r\n    public static SyntheticRepository getInstance() {\r\n        return getInstance(ClassPath.SYSTEM_CLASS_PATH);\r\n    }\r\n\r\n    public static SyntheticRepository getInstance(final ClassPath classPath) {\r\n        return MAP.computeIfAbsent(classPath, SyntheticRepository::new);\r\n    }\r\n\r\n    private SyntheticRepository(final ClassPath path) {\r\n        super(path);\r\n    }\r\n}\r\n```\r\n\r\nException stack trace:\r\n\r\n    java.util.ConcurrentModificationException\r\n    \tat java.base/java.util.HashMap.computeIfAbsent(HashMap.java:1221)\r\n    \tat org.apache.bcel.util.SyntheticRepository.getInstance(SyntheticRepository.java:42)\r\n    \tat org.apache.bcel.util.SyntheticRepository.getInstance(SyntheticRepository.java:38)\r\n    \tat org.apache.bcel.classfile.JavaClass.&lt;init&gt;(JavaClass.java:145)\r\n    \tat org.apache.bcel.classfile.ClassParser.parse(ClassParser.java:178)\r\n\r\n\r\nMy unit test is as follows and it always succeeds instead of failing:\r\n\r\n```java\r\nimport org.apache.bcel.classfile.ClassParser;\r\nimport org.apache.bcel.classfile.JavaClass;\r\nimport org.apache.bcel.classfile.Utility;\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.concurrent.Callable;\r\nimport java.util.concurrent.ConcurrentHashMap;\r\nimport java.util.concurrent.ExecutionException;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.Future;\r\n\r\npublic class MultiThreadedBCELTest {\r\n\r\n    private final ConcurrentHashMap&lt;String, String&gt; map = new ConcurrentHashMap&lt;&gt;();\r\n\r\n    @Test\r\n    public void testConcurrentModification() throws InterruptedException {\r\n        final List&lt;String&gt; classes = Arrays.asList(&quot;java.lang.String&quot;, &quot;java.util.List&quot;, &quot;java.util.Map&quot;, &quot;java.time.LocalDate&quot;, &quot;java.time.LocalDateTime&quot;, &quot;java.math.BigDecimal&quot;,\r\n                &quot;java.io.File&quot;, &quot;java.net.URL&quot;, &quot;java.nio.file.Path&quot;, &quot;java.util.concurrent.ConcurrentHashMap&quot;, &quot;java.util.regex.Pattern&quot;, &quot;java.util.stream.Stream&quot;,\r\n                &quot;java.lang.Integer&quot;, &quot;java.lang.Double&quot;, &quot;java.lang.Boolean&quot;, &quot;java.util.ArrayList&quot;, &quot;java.util.HashMap&quot;, &quot;java.util.Optional&quot;, &quot;java.util.Set&quot;,\r\n                &quot;java.nio.charset.Charset&quot;, &quot;java.time.LocalTime&quot;, &quot;java.util.Date&quot;, &quot;java.util.LinkedList&quot;, &quot;java.util.TreeMap&quot;, &quot;java.util.function.Predicate&quot;,\r\n                &quot;java.util.function.Function&quot;, &quot;java.util.function.Consumer&quot;, &quot;java.util.concurrent.CopyOnWriteArrayList&quot;, &quot;java.util.concurrent.locks.ReentrantLock&quot;,\r\n                &quot;java.lang.Long&quot;, &quot;java.lang.Float&quot;, &quot;java.lang.Character&quot;, &quot;java.util.Collections&quot;, &quot;java.util.Comparator&quot;, &quot;java.util.Arrays&quot;,\r\n                &quot;java.util.concurrent.ConcurrentLinkedQueue&quot;, &quot;java.util.concurrent.BlockingQueue&quot;, &quot;java.util.concurrent.ScheduledExecutorService&quot;,\r\n                &quot;java.util.concurrent.TimeUnit&quot;, &quot;java.util.concurrent.atomic.AtomicInteger&quot;, &quot;java.util.concurrent.CountDownLatch&quot;, &quot;java.util.concurrent.Semaphore&quot;,\r\n                &quot;java.util.concurrent.ExecutorService&quot;, &quot;java.util.concurrent.Executors&quot;, &quot;java.util.concurrent.ThreadPoolExecutor&quot;, &quot;java.util.concurrent.CyclicBarrier&quot;,\r\n                &quot;java.util.concurrent.DelayQueue&quot;, &quot;java.util.concurrent.PriorityBlockingQueue&quot;);\r\n        final ExecutorService threadPool = Executors.newFixedThreadPool(20);\r\n        final List&lt;Callable&lt;String&gt;&gt; tasks = new ArrayList&lt;&gt;();\r\n        for (final String className : classes) {\r\n            tasks.add(() -&gt; map.computeIfAbsent(className, MultiThreadedBCELTest::parse));\r\n        }\r\n        final List&lt;Future&lt;String&gt;&gt; results = threadPool.invokeAll(tasks);\r\n        for (final Future&lt;String&gt; future : results) {\r\n            try {\r\n                final String classString = future.get();\r\n                Assertions.assertNotNull(classString);\r\n            } catch (InterruptedException | ExecutionException e) {\r\n                Assertions.fail(e);\r\n            }\r\n        }\r\n    }\r\n\r\n    private static String parse(final String entryName) {\r\n        final String className = Utility.packageToPath(entryName) + JavaClass.EXTENSION;\r\n        try (InputStream inputStream = ClassLoader.getSystemResourceAsStream(className)) {\r\n            if (inputStream != null) {\r\n                final String fileName = className.substring(className.lastIndexOf(&#39;/&#39;) + 1);\r\n                return new ClassParser(inputStream, fileName).parse().toString();\r\n            }\r\n        } catch (final IOException e) {\r\n            Assertions.fail(e);\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nDependencies:\r\n\r\n```xml\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.bcel&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;bcel&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.7.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.8.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```\r\n","title":"How to prove this concurrency issue by unit test?","body":"<p>I know there is a concurrency issue here in <code>org.apache.bcel.util.SyntheticRepository</code> and eventhough I know I happen to get <code>ConcurrentModificationException</code>, I cannot reproduce it by unit test.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SyntheticRepository extends MemorySensitiveClassPathRepository {\n    // This isn't thread-safe\n    private static final Map&lt;ClassPath, SyntheticRepository&gt; MAP = new HashMap&lt;&gt;();\n   \n    public static SyntheticRepository getInstance() {\n        return getInstance(ClassPath.SYSTEM_CLASS_PATH);\n    }\n\n    public static SyntheticRepository getInstance(final ClassPath classPath) {\n        return MAP.computeIfAbsent(classPath, SyntheticRepository::new);\n    }\n\n    private SyntheticRepository(final ClassPath path) {\n        super(path);\n    }\n}\n</code></pre>\n<p>Exception stack trace:</p>\n<pre><code>java.util.ConcurrentModificationException\n    at java.base/java.util.HashMap.computeIfAbsent(HashMap.java:1221)\n    at org.apache.bcel.util.SyntheticRepository.getInstance(SyntheticRepository.java:42)\n    at org.apache.bcel.util.SyntheticRepository.getInstance(SyntheticRepository.java:38)\n    at org.apache.bcel.classfile.JavaClass.&lt;init&gt;(JavaClass.java:145)\n    at org.apache.bcel.classfile.ClassParser.parse(ClassParser.java:178)\n</code></pre>\n<p>My unit test is as follows and it always succeeds instead of failing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.bcel.classfile.ClassParser;\nimport org.apache.bcel.classfile.JavaClass;\nimport org.apache.bcel.classfile.Utility;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.concurrent.Callable;\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.Future;\n\npublic class MultiThreadedBCELTest {\n\n    private final ConcurrentHashMap&lt;String, String&gt; map = new ConcurrentHashMap&lt;&gt;();\n\n    @Test\n    public void testConcurrentModification() throws InterruptedException {\n        final List&lt;String&gt; classes = Arrays.asList(&quot;java.lang.String&quot;, &quot;java.util.List&quot;, &quot;java.util.Map&quot;, &quot;java.time.LocalDate&quot;, &quot;java.time.LocalDateTime&quot;, &quot;java.math.BigDecimal&quot;,\n                &quot;java.io.File&quot;, &quot;java.net.URL&quot;, &quot;java.nio.file.Path&quot;, &quot;java.util.concurrent.ConcurrentHashMap&quot;, &quot;java.util.regex.Pattern&quot;, &quot;java.util.stream.Stream&quot;,\n                &quot;java.lang.Integer&quot;, &quot;java.lang.Double&quot;, &quot;java.lang.Boolean&quot;, &quot;java.util.ArrayList&quot;, &quot;java.util.HashMap&quot;, &quot;java.util.Optional&quot;, &quot;java.util.Set&quot;,\n                &quot;java.nio.charset.Charset&quot;, &quot;java.time.LocalTime&quot;, &quot;java.util.Date&quot;, &quot;java.util.LinkedList&quot;, &quot;java.util.TreeMap&quot;, &quot;java.util.function.Predicate&quot;,\n                &quot;java.util.function.Function&quot;, &quot;java.util.function.Consumer&quot;, &quot;java.util.concurrent.CopyOnWriteArrayList&quot;, &quot;java.util.concurrent.locks.ReentrantLock&quot;,\n                &quot;java.lang.Long&quot;, &quot;java.lang.Float&quot;, &quot;java.lang.Character&quot;, &quot;java.util.Collections&quot;, &quot;java.util.Comparator&quot;, &quot;java.util.Arrays&quot;,\n                &quot;java.util.concurrent.ConcurrentLinkedQueue&quot;, &quot;java.util.concurrent.BlockingQueue&quot;, &quot;java.util.concurrent.ScheduledExecutorService&quot;,\n                &quot;java.util.concurrent.TimeUnit&quot;, &quot;java.util.concurrent.atomic.AtomicInteger&quot;, &quot;java.util.concurrent.CountDownLatch&quot;, &quot;java.util.concurrent.Semaphore&quot;,\n                &quot;java.util.concurrent.ExecutorService&quot;, &quot;java.util.concurrent.Executors&quot;, &quot;java.util.concurrent.ThreadPoolExecutor&quot;, &quot;java.util.concurrent.CyclicBarrier&quot;,\n                &quot;java.util.concurrent.DelayQueue&quot;, &quot;java.util.concurrent.PriorityBlockingQueue&quot;);\n        final ExecutorService threadPool = Executors.newFixedThreadPool(20);\n        final List&lt;Callable&lt;String&gt;&gt; tasks = new ArrayList&lt;&gt;();\n        for (final String className : classes) {\n            tasks.add(() -&gt; map.computeIfAbsent(className, MultiThreadedBCELTest::parse));\n        }\n        final List&lt;Future&lt;String&gt;&gt; results = threadPool.invokeAll(tasks);\n        for (final Future&lt;String&gt; future : results) {\n            try {\n                final String classString = future.get();\n                Assertions.assertNotNull(classString);\n            } catch (InterruptedException | ExecutionException e) {\n                Assertions.fail(e);\n            }\n        }\n    }\n\n    private static String parse(final String entryName) {\n        final String className = Utility.packageToPath(entryName) + JavaClass.EXTENSION;\n        try (InputStream inputStream = ClassLoader.getSystemResourceAsStream(className)) {\n            if (inputStream != null) {\n                final String fileName = className.substring(className.lastIndexOf('/') + 1);\n                return new ClassParser(inputStream, fileName).parse().toString();\n            }\n        } catch (final IOException e) {\n            Assertions.fail(e);\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>Dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.bcel&lt;/groupId&gt;\n            &lt;artifactId&gt;bcel&lt;/artifactId&gt;\n            &lt;version&gt;6.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;5.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","unit-testing","apache-kafka","spring-kafka","springmockito"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1678012509,"post_id":75641482,"comment_id":133447370,"body_markdown":"The code under test does not call `onSuccess()` on the `Future`, so why should we verify that it is called? It is not the responsibility of the code under test.","body":"The code under test does not call <code>onSuccess()</code> on the <code>Future</code>, so why should we verify that it is called? It is not the responsibility of the code under test."},{"owner":{"account_id":16528073,"reputation":125,"user_id":11942178,"display_name":"sFishman"},"score":0,"creation_date":1678012925,"post_id":75641482,"comment_id":133447423,"body_markdown":"Good point. You&#39;re saying my future variable in my test is not the same as the future that&#39;s returned from template.send inside of my method under test. Correct?  Is there any way to capture and test the future that gets returned inside of the my producer.send() method?","body":"Good point. You&#39;re saying my future variable in my test is not the same as the future that&#39;s returned from template.send inside of my method under test. Correct?  Is there any way to capture and test the future that gets returned inside of the my producer.send() method?"},{"owner":{"account_id":16528073,"reputation":125,"user_id":11942178,"display_name":"sFishman"},"score":0,"creation_date":1678012974,"post_id":75641482,"comment_id":133447430,"body_markdown":"And if not, how is making a fake &quot;future&quot; and just manually setting it&#39;s value a good test?  I&#39;m setting the future&#39;s value and then I&#39;ll test that it&#39;s value is what I just set it to be? That doesn&#39;t seem to test my method.","body":"And if not, how is making a fake &quot;future&quot; and just manually setting it&#39;s value a good test?  I&#39;m setting the future&#39;s value and then I&#39;ll test that it&#39;s value is what I just set it to be? That doesn&#39;t seem to test my method."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1678013122,"post_id":75641482,"comment_id":133447452,"body_markdown":"&quot;*you&#39;re saying my future variable in my test is not the same as the future that&#39;s returned from template.send*&quot; - No. I said that the code under test does not call `.onSuccess(...)` on the `Future`. It is not the reponsibility of the code under test to call `onSuccess(...)` and should thus not be tested.","body":"&quot;<i>you&#39;re saying my future variable in my test is not the same as the future that&#39;s returned from template.send</i>&quot; - No. I said that the code under test does not call <code>.onSuccess(...)</code> on the <code>Future</code>. It is not the reponsibility of the code under test to call <code>onSuccess(...)</code> and should thus not be tested."},{"owner":{"account_id":16528073,"reputation":125,"user_id":11942178,"display_name":"sFishman"},"score":0,"creation_date":1678014911,"post_id":75641482,"comment_id":133447714,"body_markdown":"Ok. I understand now. Good point. So what should be tested?","body":"Ok. I understand now. Good point. So what should be tested?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1678015150,"post_id":75641482,"comment_id":133447754,"body_markdown":"This is borderline opinion-based. If I were the Product Owner, I would rather have tests on other, more meaningful, parts of the code base. --- Please read: [Can I ask only one question per post?](https://meta.stackexchange.com/questions/222735/can-i-ask-only-one-question-per-post)","body":"This is borderline opinion-based. If I were the Product Owner, I would rather have tests on other, more meaningful, parts of the code base. --- Please read: <a href=\"https://meta.stackexchange.com/questions/222735/can-i-ask-only-one-question-per-post\">Can I ask only one question per post?</a>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1678030651,"post_id":75641482,"comment_id":133450159,"body_markdown":"Have you tried looking at the source code of Spring Kafka for their own tests? More specifically, what exactly are you testing here? send will be called  and return a Future, there&#39;s no doubt about that, so what are you actually trying to assert specific to your own application? If you want to test async code, then first try `.get()` the future, but you&#39;ve not injected any logger to capture/test what gets printed","body":"Have you tried looking at the source code of Spring Kafka for their own tests? More specifically, what exactly are you testing here? send will be called  and return a Future, there&#39;s no doubt about that, so what are you actually trying to assert specific to your own application? If you want to test async code, then first try <code>.get()</code> the future, but you&#39;ve not injected any logger to capture/test what gets printed"}],"owner":{"account_id":16528073,"reputation":125,"user_id":11942178,"display_name":"sFishman"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678011229,"creation_date":1678011229,"question_id":75641482,"body_markdown":"Here is my producer send method that I&#39;m writing a unit test for:\r\n```\r\npublic void send(final ReadingForecastRequest requestStub) {\r\n        logger.info(&quot;{}::send()&quot;, getClass().getCanonicalName());\r\n        final ProducerRecord&lt;String, ReadingForecastRequest&gt; record = new ProducerRecord&lt;&gt;(config.topicName, requestStub);\r\n        String context = requestStub.getHeader().getContext();\r\n        Long trackingId = requestStub.getHeader().getTrackingId();\r\n        record.headers().add(&quot;context&quot;, context.getBytes());\r\n        record.headers().add(&quot;trackingId&quot;, Longs.toByteArray(trackingId));\r\n        ListenableFuture future = template.send((ProducerRecord&lt;String, Req&gt;) record);\r\n\r\n        future.addCallback(new ListenableFutureCallback&lt;SendResult&lt;String, Req&gt;&gt;() {\r\n\r\n            @Override\r\n            public void onSuccess(SendResult&lt;String, Req&gt; result) {\r\n                logger.info(&quot;Sent message=[&quot; + requestStub +\r\n                    &quot;] with offset=[&quot; + result.getRecordMetadata().offset() + &quot;]&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Throwable ex) {\r\n                logger.error(&quot;Unable to send message=[&quot;\r\n                    + requestStub + &quot;] due to : &quot; + ex.getMessage());\r\n            }\r\n        });\r\n    }\r\n```\r\nHere is my test\r\n```\r\npublic class ProducerTest {\r\n\r\n    final KafkaTemplate&lt;String, Integer&gt; template = createKafkaTemplateMock();\r\n    final String topicName = UUID.randomUUID().toString();\r\n    final int sendTimeout = 1;\r\n    final Producer producer = createProducer(topicName, sendTimeout);\r\n\r\n    @Test\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public void testSuccessfulSend() {\r\n        ProducerRecord&lt;String, String&gt; record = mock(ProducerRecord.class);\r\n        RecordMetadata recordMetadata = new RecordMetadata(new TopicPartition(topicName, 0), 0, 0L, 0L, 0L, 0, 0);\r\n        SettableListenableFuture&lt;SendResult&lt;String, String&gt;&gt; future = new SettableListenableFuture&lt;&gt;();\r\n        final ReadingForecastRequest request = new ReadingForecastRequest(0, 0, 1.0, 20, new Double[] { 567.8, 976.5 }, header);\r\n        when(template.send((ProducerRecord) any())).thenReturn(future);\r\n        producer.send(request);\r\n        future.set(new SendResult&lt;String, String&gt;(record, recordMetadata));\r\n        verify(future, times(1)).onSuccess(SendResult.class);\r\n    }\r\n}\r\n```\r\n\r\nMy question is on the last line of my test (which doesn&#39;t work). I&#39;m not sure what to assert.  I want to just check that the onSuccess method within the callback ran to see that the send was successful, but it&#39;s not recognizing &quot;onSuccess&quot;.\r\nIs there something else I should be asserting?\r\n\r\nI based my test on [this](https://stackoverflow.com/questions/57475464/how-to-mock-result-from-kafkatemplate/57478836#57478836) stackoverflow question, which in the edited answer, captures future output and tests that. I&#39;m having trouble understanding how that really tests the method and how to see what that output would be (e.g. for a successful run) if I were to test that.","title":"What to assert in a unit test for Kafka producer void send method","body":"<p>Here is my producer send method that I'm writing a unit test for:</p>\n<pre><code>public void send(final ReadingForecastRequest requestStub) {\n        logger.info(&quot;{}::send()&quot;, getClass().getCanonicalName());\n        final ProducerRecord&lt;String, ReadingForecastRequest&gt; record = new ProducerRecord&lt;&gt;(config.topicName, requestStub);\n        String context = requestStub.getHeader().getContext();\n        Long trackingId = requestStub.getHeader().getTrackingId();\n        record.headers().add(&quot;context&quot;, context.getBytes());\n        record.headers().add(&quot;trackingId&quot;, Longs.toByteArray(trackingId));\n        ListenableFuture future = template.send((ProducerRecord&lt;String, Req&gt;) record);\n\n        future.addCallback(new ListenableFutureCallback&lt;SendResult&lt;String, Req&gt;&gt;() {\n\n            @Override\n            public void onSuccess(SendResult&lt;String, Req&gt; result) {\n                logger.info(&quot;Sent message=[&quot; + requestStub +\n                    &quot;] with offset=[&quot; + result.getRecordMetadata().offset() + &quot;]&quot;);\n            }\n\n            @Override\n            public void onFailure(Throwable ex) {\n                logger.error(&quot;Unable to send message=[&quot;\n                    + requestStub + &quot;] due to : &quot; + ex.getMessage());\n            }\n        });\n    }\n</code></pre>\n<p>Here is my test</p>\n<pre><code>public class ProducerTest {\n\n    final KafkaTemplate&lt;String, Integer&gt; template = createKafkaTemplateMock();\n    final String topicName = UUID.randomUUID().toString();\n    final int sendTimeout = 1;\n    final Producer producer = createProducer(topicName, sendTimeout);\n\n    @Test\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public void testSuccessfulSend() {\n        ProducerRecord&lt;String, String&gt; record = mock(ProducerRecord.class);\n        RecordMetadata recordMetadata = new RecordMetadata(new TopicPartition(topicName, 0), 0, 0L, 0L, 0L, 0, 0);\n        SettableListenableFuture&lt;SendResult&lt;String, String&gt;&gt; future = new SettableListenableFuture&lt;&gt;();\n        final ReadingForecastRequest request = new ReadingForecastRequest(0, 0, 1.0, 20, new Double[] { 567.8, 976.5 }, header);\n        when(template.send((ProducerRecord) any())).thenReturn(future);\n        producer.send(request);\n        future.set(new SendResult&lt;String, String&gt;(record, recordMetadata));\n        verify(future, times(1)).onSuccess(SendResult.class);\n    }\n}\n</code></pre>\n<p>My question is on the last line of my test (which doesn't work). I'm not sure what to assert.  I want to just check that the onSuccess method within the callback ran to see that the send was successful, but it's not recognizing &quot;onSuccess&quot;.\nIs there something else I should be asserting?</p>\n<p>I based my test on <a href=\"https://stackoverflow.com/questions/57475464/how-to-mock-result-from-kafkatemplate/57478836#57478836\">this</a> stackoverflow question, which in the edited answer, captures future output and tests that. I'm having trouble understanding how that really tests the method and how to see what that output would be (e.g. for a successful run) if I were to test that.</p>\n"},{"tags":["java","spring","spring-boot","spring-test"],"comments":[{"owner":{"account_id":5636066,"reputation":6620,"user_id":4461537,"accept_rate":89,"display_name":"Ren&#233; Winkler"},"score":0,"creation_date":1678002096,"post_id":75640769,"comment_id":133446106,"body_markdown":"in your WebMvcTest annotation you set excludeFilters to exlude your TrailingSlashFilter class. Maybe this could be a problem.","body":"in your WebMvcTest annotation you set excludeFilters to exlude your TrailingSlashFilter class. Maybe this could be a problem."},{"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"score":0,"creation_date":1678002522,"post_id":75640769,"comment_id":133446160,"body_markdown":"If I don&#39;t do this I get this other error Failed to load application: Caused by: org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name &#39;trailingSlashRedirectingFilter&#39; defined in class path resource.","body":"If I don&#39;t do this I get this other error Failed to load application: Caused by: org.springframework.beans.factory.support.BeanDefinitionOver&zwnj;&#8203;rideException: Invalid bean definition with name &#39;trailingSlashRedirectingFilter&#39; defined in class path resource."},{"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"score":0,"creation_date":1678002568,"post_id":75640769,"comment_id":133446164,"body_markdown":"The filter is excluded but then reapplied through the TestConfig class which is being imported within the other annotation.","body":"The filter is excluded but then reapplied through the TestConfig class which is being imported within the other annotation."}],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":626,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678010875,"creation_date":1678001558,"question_id":75640769,"body_markdown":"I have my controller with a filter to allow for requests with and without the trailing slash /. This functionality has been implemented through the use of a filter located under the main package.\r\n\r\n```\r\n@Component\r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\npublic class TrailingSlashRedirectingFilter extends OncePerRequestFilter {\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        String fullURL = ServletUriComponentsBuilder\r\n                .fromRequest(request)\r\n                .build()\r\n                .toString();\r\n        String uri = request.getRequestURI();\r\n        if (fullURL.endsWith(&quot;/&quot;) &amp;&amp; !uri.equals(&quot;/&quot;)) {\r\n            fullURL = fullURL.substring(0, fullURL.length() - 1);\r\n            response.setStatus(HttpStatus.MOVED_PERMANENTLY.value());\r\n            response.setHeader(HttpHeaders.LOCATION, fullURL);\r\n        } else if(uri.equals(&quot;&quot;)){\r\n            response.setStatus(HttpStatus.MOVED_PERMANENTLY.value());\r\n            response.setHeader(HttpHeaders.LOCATION, fullURL + &quot;/&quot;);\r\n        } else {\r\n            filterChain.doFilter(request, response);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI then added this to the config package inside the test directory:\r\n\r\n```\r\n@Configuration\r\npublic class TestConfig {\r\n\r\n    @Bean\r\n    public FilterRegistrationBean&lt;TrailingSlashRedirectingFilter&gt; trailingSlashRedirectingFilter() {\r\n        FilterRegistrationBean&lt;TrailingSlashRedirectingFilter&gt; registrationBean = new FilterRegistrationBean&lt;&gt;();\r\n        registrationBean.setFilter(new TrailingSlashRedirectingFilter());\r\n        registrationBean.setOrder(Ordered.HIGHEST_PRECEDENCE);\r\n        registrationBean.addUrlPatterns(&quot;/api/*&quot;); // replace with your application&#39;s URL pattern\r\n        return registrationBean;\r\n    }\r\n}\r\n```\r\n\r\nHowever, even though my application works fine with and without the trailing slashes, my test is still failing when I don&#39;t have a / added to it, even though I&#39;m calling this configuration class on top of the class.\r\n\r\n```\r\n@WebMvcTest(controllers = UserController.class,\r\n        excludeFilters = @ComponentScan.Filter(type = FilterType.ASSIGNABLE_TYPE, classes = TrailingSlashRedirectingFilter.class))\r\n@Import(TestConfig.class)\r\n@ExtendWith(MockitoExtension.class)\r\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\nclass UserControllerTest extends BaseTestConfig {\r\n\r\n    UUID userId;\r\n    User userRequest;\r\n    User userResponse;\r\n    String jsonRequest;\r\n    String jsonResponse;\r\n\r\n    @MockBean\r\n    UserService userService;\r\n\r\n    @Test\r\n    void testCreateUser() throws Exception {\r\n\r\n        User user = userResponse;\r\n        when(userService.createUser(any())).thenReturn(user);\r\n\r\n        mockMvc.perform(RestDocumentationRequestBuilders.post(&quot;/api/v1/ht/users&quot;).content(jsonRequest).contentType(MediaType.APPLICATION_JSON))\r\n                .andExpect(status().is2xxSuccessful())\r\n                .andExpect(content().json(jsonResponse))\r\n                .andDo(document(&quot;create-user&quot;,\r\n                        resource(&quot;Create a user&quot;)))\r\n                .andReturn();\r\n    }\r\n}\r\n```\r\n\r\nUPDATE\r\n\r\nUsing this class now but the tests still only work if the trailing slash is applied.\r\n\r\n```\r\n@Configuration\r\npublic class WebConfiguration implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void configurePathMatch(PathMatchConfigurer configurer) {\r\n      configurer.setUseTrailingSlashMatch(true);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI&#39;m using Spring 2.7.5\r\n\r\nThank you.\r\n\r\n","title":"Spring tests failing with 404 when trailing slashes / missing from requests","body":"<p>I have my controller with a filter to allow for requests with and without the trailing slash /. This functionality has been implemented through the use of a filter located under the main package.</p>\n<pre><code>@Component\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class TrailingSlashRedirectingFilter extends OncePerRequestFilter {\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        String fullURL = ServletUriComponentsBuilder\n                .fromRequest(request)\n                .build()\n                .toString();\n        String uri = request.getRequestURI();\n        if (fullURL.endsWith(&quot;/&quot;) &amp;&amp; !uri.equals(&quot;/&quot;)) {\n            fullURL = fullURL.substring(0, fullURL.length() - 1);\n            response.setStatus(HttpStatus.MOVED_PERMANENTLY.value());\n            response.setHeader(HttpHeaders.LOCATION, fullURL);\n        } else if(uri.equals(&quot;&quot;)){\n            response.setStatus(HttpStatus.MOVED_PERMANENTLY.value());\n            response.setHeader(HttpHeaders.LOCATION, fullURL + &quot;/&quot;);\n        } else {\n            filterChain.doFilter(request, response);\n        }\n    }\n}\n</code></pre>\n<p>I then added this to the config package inside the test directory:</p>\n<pre><code>@Configuration\npublic class TestConfig {\n\n    @Bean\n    public FilterRegistrationBean&lt;TrailingSlashRedirectingFilter&gt; trailingSlashRedirectingFilter() {\n        FilterRegistrationBean&lt;TrailingSlashRedirectingFilter&gt; registrationBean = new FilterRegistrationBean&lt;&gt;();\n        registrationBean.setFilter(new TrailingSlashRedirectingFilter());\n        registrationBean.setOrder(Ordered.HIGHEST_PRECEDENCE);\n        registrationBean.addUrlPatterns(&quot;/api/*&quot;); // replace with your application's URL pattern\n        return registrationBean;\n    }\n}\n</code></pre>\n<p>However, even though my application works fine with and without the trailing slashes, my test is still failing when I don't have a / added to it, even though I'm calling this configuration class on top of the class.</p>\n<pre><code>@WebMvcTest(controllers = UserController.class,\n        excludeFilters = @ComponentScan.Filter(type = FilterType.ASSIGNABLE_TYPE, classes = TrailingSlashRedirectingFilter.class))\n@Import(TestConfig.class)\n@ExtendWith(MockitoExtension.class)\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\nclass UserControllerTest extends BaseTestConfig {\n\n    UUID userId;\n    User userRequest;\n    User userResponse;\n    String jsonRequest;\n    String jsonResponse;\n\n    @MockBean\n    UserService userService;\n\n    @Test\n    void testCreateUser() throws Exception {\n\n        User user = userResponse;\n        when(userService.createUser(any())).thenReturn(user);\n\n        mockMvc.perform(RestDocumentationRequestBuilders.post(&quot;/api/v1/ht/users&quot;).content(jsonRequest).contentType(MediaType.APPLICATION_JSON))\n                .andExpect(status().is2xxSuccessful())\n                .andExpect(content().json(jsonResponse))\n                .andDo(document(&quot;create-user&quot;,\n                        resource(&quot;Create a user&quot;)))\n                .andReturn();\n    }\n}\n</code></pre>\n<p>UPDATE</p>\n<p>Using this class now but the tests still only work if the trailing slash is applied.</p>\n<pre><code>@Configuration\npublic class WebConfiguration implements WebMvcConfigurer {\n\n    @Override\n    public void configurePathMatch(PathMatchConfigurer configurer) {\n      configurer.setUseTrailingSlashMatch(true);\n    }\n  }\n}\n</code></pre>\n<p>I'm using Spring 2.7.5</p>\n<p>Thank you.</p>\n"},{"tags":["java","android","flutter","kotlin","dart"],"owner":{"account_id":27939285,"reputation":1,"user_id":21335619,"display_name":"Mohammad-Ihmeid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678037085,"answer_count":0,"score":0,"last_activity_date":1678009963,"creation_date":1678009963,"question_id":75641375,"body_markdown":"Note: Some input files use or override a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\nNote: C:\\Users\\Dell\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\firebase_messaging-14.2.5\\android\\src\\main\\java\\io\\flutter\\plugins\\firebase\\messagin\r\ng\\FlutterFirebaseMessagingPlugin.java uses unchecked or unsafe operations.\r\nNote: Recompile with -Xlint:unchecked for details.\r\n\r\n\r\nI am trying to build a APK  of my app, but this error appears","title":"I am trying to Build a APK of your app, but this error APPEARS","body":"<p>Note: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: C:\\Users\\Dell\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\firebase_messaging-14.2.5\\android\\src\\main\\java\\io\\flutter\\plugins\\firebase\\messagin\ng\\FlutterFirebaseMessagingPlugin.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.</p>\n<p>I am trying to build a APK  of my app, but this error appears</p>\n"},{"tags":["java","intellij-idea","junit"],"comments":[{"owner":{"account_id":5585653,"reputation":1371,"user_id":4426099,"accept_rate":86,"display_name":"rimonmostafiz"},"score":1,"creation_date":1596815905,"post_id":63282382,"comment_id":111941641,"body_markdown":"Try Invalidate Cache and Restart File &gt; Invalidate Caches/Restart...\nAlso, Try reloading the maven project from.","body":"Try Invalidate Cache and Restart File &gt; Invalidate Caches/Restart... Also, Try reloading the maven project from."},{"owner":{"account_id":7141303,"reputation":6626,"user_id":5458827,"accept_rate":0,"display_name":"riorio"},"score":0,"creation_date":1596949238,"post_id":63282382,"comment_id":111971991,"body_markdown":"@rimonmostafiz yes. I tried it, but it didn&#39;t help.","body":"@rimonmostafiz yes. I tried it, but it didn&#39;t help."},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1597151967,"post_id":63282382,"comment_id":112035760,"body_markdown":"Make sure you have junit library of the right version added to every module&#39;s dependencies where you have junit tests. In case of Maven-based project - check that the junit dependency is present in every module&#39;s pom.xml file.","body":"Make sure you have junit library of the right version added to every module&#39;s dependencies where you have junit tests. In case of Maven-based project - check that the junit dependency is present in every module&#39;s pom.xml file."}],"answers":[{"tags":[],"owner":{"account_id":19238625,"reputation":1937,"user_id":14059097,"display_name":"Cyril G."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1596713286,"creation_date":1596712831,"answer_id":63282470,"question_id":63282382,"body_markdown":"Spring boot is using JUnit 5. If you use the spring boot initializr website, you should have a dependency like this.\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nDid you use JUnit 4 or 5 in your tests ? You can try to update IntelliJ or JUnit plugin, this may solve your problem.","title":"&quot;No junit.jar&quot; error in Intellij when right clicking a folder, but not when running individual classes of tests","body":"<p>Spring boot is using JUnit 5. If you use the spring boot initializr website, you should have a dependency like this.</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Did you use JUnit 4 or 5 in your tests ? You can try to update IntelliJ or JUnit plugin, this may solve your problem.</p>\n"},{"tags":[],"owner":{"account_id":11898165,"reputation":82,"user_id":8706905,"display_name":"SteveHu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644489629,"creation_date":1644489629,"answer_id":71063635,"question_id":63282382,"body_markdown":"I met this problem, this is how I soloved it:\r\n\r\nContext:\r\n- SpringBoot application\r\n- Use maven to manage multiple modules\r\n- Add `junit`&#39;s maven dependency in root POM&#39;s `dependencyManagement`(rather than `dependencies`, their differences can be found [here](https://stackoverflow.com/a/2619732/8706905))\r\n- Intend to test class or folder inside one of the root module&#39;s child module\r\n\r\nPS: If your situation does not match the context above, this solution may not solve your problem.\r\n\r\n\r\nSteps\r\n1. right click at the class or folder you want to test:  \r\n[![enter image description here][1]][1] \r\n2. Choose `More Run/Debug` -&gt; `Modify Run Configuration`\r\n3. Change the module option to **the one you want to test** from root module\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R8RxU.png\r\n  [2]: https://i.stack.imgur.com/XprEy.png","title":"&quot;No junit.jar&quot; error in Intellij when right clicking a folder, but not when running individual classes of tests","body":"<p>I met this problem, this is how I soloved it:</p>\n<p>Context:</p>\n<ul>\n<li>SpringBoot application</li>\n<li>Use maven to manage multiple modules</li>\n<li>Add <code>junit</code>'s maven dependency in root POM's <code>dependencyManagement</code>(rather than <code>dependencies</code>, their differences can be found <a href=\"https://stackoverflow.com/a/2619732/8706905\">here</a>)</li>\n<li>Intend to test class or folder inside one of the root module's child module</li>\n</ul>\n<p>PS: If your situation does not match the context above, this solution may not solve your problem.</p>\n<p>Steps</p>\n<ol>\n<li>right click at the class or folder you want to test:<br />\n<a href=\"https://i.stack.imgur.com/R8RxU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R8RxU.png\" alt=\"enter image description here\" /></a></li>\n<li>Choose <code>More Run/Debug</code> -&gt; <code>Modify Run Configuration</code></li>\n<li>Change the module option to <strong>the one you want to test</strong> from root module\n<a href=\"https://i.stack.imgur.com/XprEy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XprEy.png\" alt=\"enter image description here\" /></a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":22442286,"reputation":1,"user_id":16646625,"display_name":"Stephen Onyonge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653460386,"creation_date":1653460386,"answer_id":72372873,"question_id":63282382,"body_markdown":"I managed to solve the issue by adding the Junit Maven dependancy in the root pom.xml file. ","title":"&quot;No junit.jar&quot; error in Intellij when right clicking a folder, but not when running individual classes of tests","body":"<p>I managed to solve the issue by adding the Junit Maven dependancy in the root pom.xml file.</p>\n"}],"owner":{"account_id":7141303,"reputation":6626,"user_id":5458827,"accept_rate":0,"display_name":"riorio"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6491,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":3,"score":2,"last_activity_date":1678009220,"creation_date":1596712484,"question_id":63282382,"body_markdown":"My Spring boot application has several tests classes.\r\n\r\nWhen right-clicking a test class, and selecting the option to `Run XYZtest` it works with no problem.\r\n\r\nBut when selecting the folder that contains that class and selecting `Run test in com.example.my` I get an error of No junit.jar:\r\n\r\n[![enter image description here][1]][1] \r\n\r\nWhen running all the tests from mvn they run with no problems.\r\n\r\nFollowing some suggestions, I added the `junit.jar` specifically in the `Library` section, but it didn&#39;t help:\r\n\r\n[![&quot;][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hIsBt.png\r\n  [2]: https://i.stack.imgur.com/BOWYf.png","title":"&quot;No junit.jar&quot; error in Intellij when right clicking a folder, but not when running individual classes of tests","body":"<p>My Spring boot application has several tests classes.</p>\n<p>When right-clicking a test class, and selecting the option to <code>Run XYZtest</code> it works with no problem.</p>\n<p>But when selecting the folder that contains that class and selecting <code>Run test in com.example.my</code> I get an error of No junit.jar:</p>\n<p><a href=\"https://i.stack.imgur.com/hIsBt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hIsBt.png\" alt=\"enter image description here\" /></a></p>\n<p>When running all the tests from mvn they run with no problems.</p>\n<p>Following some suggestions, I added the <code>junit.jar</code> specifically in the <code>Library</code> section, but it didn't help:</p>\n<p><a href=\"https://i.stack.imgur.com/BOWYf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BOWYf.png\" alt=\"&quot;\" /></a></p>\n"},{"tags":["java","lwjgl","game-development"],"owner":{"account_id":26080243,"reputation":1,"user_id":19778529,"display_name":"idpop48"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678009117,"creation_date":1677948888,"question_id":75637179,"body_markdown":"I was programming a system in my fragment shader and I finished it. When I had ran my code it came out with two errors which in the output displayed this:\r\n\r\nFragment shader failed to compile with the following errors:\r\nERROR: 0:36: error(#202) No matching overloaded function found: normalize\r\nERROR: 0:36: error(#160) Cannot convert from: &quot;const float&quot; to: &quot;highp 3-component vector of vec3&quot;\r\nERROR: error(#273) 2 compilation errors.  No code generated\r\n\r\n\r\nCould not compile shader!\r\n\r\nI have tried to just redo the system, and I had thought that would work however it did not. I tried looking up some of these errors but I don&#39;t really understand what it means. If you can please direct me on how to fix these errors. I don&#39;t need you to tell me to go and learn programming or something. All I need is just a straight forward answer. Thanks\r\n\r\nFragmentShader code:\r\n\r\n```\r\n#version 400 core\r\n\r\nin vec2 pass_textureCoords;\r\nin vec3 surfaceNormal;\r\nin vec3 toLightVector[4];\r\nin vec3 toCameraVector;\r\nin float visibility;\r\n\r\nout vec4 out_Color;\r\n\r\nuniform sampler2D modelTexture;\r\nuniform vec3 lightColour[4];\r\nuniform float shineDamper;\r\nuniform float reflectivity;\r\nuniform vec3 skyColour;\r\n\r\nvoid main(void){\r\n\r\n\tvec3 unitNormal = normalize(surfaceNormal);\r\n\tvec3 unitVectorToCamera = normalize(toCameraVector);\r\n\t\r\n\tvec3 totalDiffuse = vec3(0.0);\r\n\tvec3 totalSpecular = vec3(0.0);\r\n\t\r\n\tfor(int i=0;i&lt;4;i++){\r\n\t\tvec3 unitLightVector = normalize(toLightVector[i]);\t\r\n\t\tfloat nDotl = dot(unitNormal,unitLightVector);\r\n\t\tfloat brightness = max(nDotl,0.0);\r\n\t\tvec3 lightDirection = -unitLightVector;\r\n\t\tvec3 reflectedLightDirection = reflect(lightDirection,unitNormal);\r\n\t\tfloat specularFactor = dot(reflectedLightDirection, unitVectorToCamera);\r\n\t\tspecularFactor = max(specularFactor,0.0);\r\n\t\tfloat dampedFactor = pow(specularFactor,shineDamper);\r\n\t\ttotalDiffuse = totalDiffuse + brightness * lightColour[i];\r\n\t\ttotalSpecular = totalSpecular + dampedFactor * reflectivity * lightColour[i];\r\n\t}\r\n\ttotalDiffuse = max(totalDiffuse, 0.2);\r\n\t\r\n\tvec4 textureColour = texture(modelTexture,pass_textureCoords);\r\n\tif(textureColour.a&lt;0.5){\r\n\t\tdiscard;\r\n\t}\r\n\r\n\tout_Color =  vec4(totalDiffuse,1.0) * textureColour + vec4(totalSpecular,1.0);\r\n\tout_Color = mix(vec4(skyColour,1.0),out_Color, visibility);\r\n\r\n}\r\n```","title":"Fragment shader with 2 errors","body":"<p>I was programming a system in my fragment shader and I finished it. When I had ran my code it came out with two errors which in the output displayed this:</p>\n<p>Fragment shader failed to compile with the following errors:\nERROR: 0:36: error(#202) No matching overloaded function found: normalize\nERROR: 0:36: error(#160) Cannot convert from: &quot;const float&quot; to: &quot;highp 3-component vector of vec3&quot;\nERROR: error(#273) 2 compilation errors.  No code generated</p>\n<p>Could not compile shader!</p>\n<p>I have tried to just redo the system, and I had thought that would work however it did not. I tried looking up some of these errors but I don't really understand what it means. If you can please direct me on how to fix these errors. I don't need you to tell me to go and learn programming or something. All I need is just a straight forward answer. Thanks</p>\n<p>FragmentShader code:</p>\n<pre><code>#version 400 core\n\nin vec2 pass_textureCoords;\nin vec3 surfaceNormal;\nin vec3 toLightVector[4];\nin vec3 toCameraVector;\nin float visibility;\n\nout vec4 out_Color;\n\nuniform sampler2D modelTexture;\nuniform vec3 lightColour[4];\nuniform float shineDamper;\nuniform float reflectivity;\nuniform vec3 skyColour;\n\nvoid main(void){\n\n    vec3 unitNormal = normalize(surfaceNormal);\n    vec3 unitVectorToCamera = normalize(toCameraVector);\n    \n    vec3 totalDiffuse = vec3(0.0);\n    vec3 totalSpecular = vec3(0.0);\n    \n    for(int i=0;i&lt;4;i++){\n        vec3 unitLightVector = normalize(toLightVector[i]); \n        float nDotl = dot(unitNormal,unitLightVector);\n        float brightness = max(nDotl,0.0);\n        vec3 lightDirection = -unitLightVector;\n        vec3 reflectedLightDirection = reflect(lightDirection,unitNormal);\n        float specularFactor = dot(reflectedLightDirection, unitVectorToCamera);\n        specularFactor = max(specularFactor,0.0);\n        float dampedFactor = pow(specularFactor,shineDamper);\n        totalDiffuse = totalDiffuse + brightness * lightColour[i];\n        totalSpecular = totalSpecular + dampedFactor * reflectivity * lightColour[i];\n    }\n    totalDiffuse = max(totalDiffuse, 0.2);\n    \n    vec4 textureColour = texture(modelTexture,pass_textureCoords);\n    if(textureColour.a&lt;0.5){\n        discard;\n    }\n\n    out_Color =  vec4(totalDiffuse,1.0) * textureColour + vec4(totalSpecular,1.0);\n    out_Color = mix(vec4(skyColour,1.0),out_Color, visibility);\n\n}\n</code></pre>\n"},{"tags":["javascript","java","arraylist","rhino"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1678004547,"post_id":75640894,"comment_id":133446395,"body_markdown":"maybe you could check the size of returned callResponse before doing any sort of getting?","body":"maybe you could check the size of returned callResponse before doing any sort of getting?"},{"owner":{"account_id":6447106,"reputation":710,"user_id":4995349,"display_name":"Karan Nayyar"},"score":0,"creation_date":1678009113,"post_id":75640894,"comment_id":133446958,"body_markdown":"@experimentunit1998X Edited my question. The response size would be identical,challenge is to identify the index of the option (resend otp to user email) for both options 1 and 2.","body":"@experimentunit1998X Edited my question. The response size would be identical,challenge is to identify the index of the option (resend otp to user email) for both options 1 and 2."}],"owner":{"account_id":6447106,"reputation":710,"user_id":4995349,"display_name":"Karan Nayyar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678009020,"creation_date":1678003758,"question_id":75640894,"body_markdown":"Below is a Rhino JS script code.\r\n\r\nUser can be provided with below sets of input elements:\r\n\r\n**Option 1 (with resend button in UI)**-&gt;\r\n\r\n    Index 0 - Enter otp password\r\n    Index 1 - Cancel Option\r\n    Index 2 - Resend OTP.\r\n    Index 3 - Resend OTP to user email \r\n\r\n**Option 2 (no resend option in UI) -&gt;**\r\n\r\n    Index 0 - Enter otp password\r\n    Index 1 - Cancel Option\r\n    Index 2 - Resend OTP to user email.\r\n    Index 3 - Regenerate OTP\r\n\r\nHow can I map dynamically the user provided value for (Resend OTP to user email) which can be yes/no for the above two options end user is provided with.\r\n\r\nI am getting the response from UI as an arraylist.\r\n\r\nFor option 1, I will need to retrieve value like this .\r\n\r\n    var usrProvidedValue = callResponse.get(3).getSelectedIndexes()[0];\r\n\r\nFor option 2,I will need to retrieve value like this .\r\n\r\n    var usrProvidedValue = callResponse.get(2).getSelectedIndexes()[0];\r\n\r\nI am not keeping track of which option user is provided with. Can anyone help with a solution on this?\r\n\r\n","title":"Retrieve an element from a list","body":"<p>Below is a Rhino JS script code.</p>\n<p>User can be provided with below sets of input elements:</p>\n<p><strong>Option 1 (with resend button in UI)</strong>-&gt;</p>\n<pre><code>Index 0 - Enter otp password\nIndex 1 - Cancel Option\nIndex 2 - Resend OTP.\nIndex 3 - Resend OTP to user email \n</code></pre>\n<p><strong>Option 2 (no resend option in UI) -&gt;</strong></p>\n<pre><code>Index 0 - Enter otp password\nIndex 1 - Cancel Option\nIndex 2 - Resend OTP to user email.\nIndex 3 - Regenerate OTP\n</code></pre>\n<p>How can I map dynamically the user provided value for (Resend OTP to user email) which can be yes/no for the above two options end user is provided with.</p>\n<p>I am getting the response from UI as an arraylist.</p>\n<p>For option 1, I will need to retrieve value like this .</p>\n<pre><code>var usrProvidedValue = callResponse.get(3).getSelectedIndexes()[0];\n</code></pre>\n<p>For option 2,I will need to retrieve value like this .</p>\n<pre><code>var usrProvidedValue = callResponse.get(2).getSelectedIndexes()[0];\n</code></pre>\n<p>I am not keeping track of which option user is provided with. Can anyone help with a solution on this?</p>\n"},{"tags":["java","spring","spring-boot","logging"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1678098709,"post_id":75640613,"comment_id":133461214,"body_markdown":"use only one line `var context = SpringApplication.run(Test.class);` or `var context = SpringApplication.run(Test.class, args);` , DO NOT WRAPPER `try`.","body":"use only one line <code>var context = SpringApplication.run(Test.class);</code> or <code>var context = SpringApplication.run(Test.class, args);</code> , DO NOT WRAPPER <code>try</code>."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1678098906,"post_id":75640613,"comment_id":133461269,"body_markdown":"please use `https://start.spring.io/` create your first spring boot application.","body":"please use <code>https:&#47;&#47;start.spring.io&#47;</code> create your first spring boot application."}],"owner":{"account_id":27938331,"reputation":1,"user_id":21334842,"display_name":"Mirko Scotti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678008855,"creation_date":1677998939,"question_id":75640613,"body_markdown":"This trivial Spring Boot program logs before Spring Boot is loaded, while application context is active and after it has been closed:\r\n\r\n```\r\npackage test;\r\n\r\nimport java.lang.System.Logger;\r\nimport java.lang.System.Logger.Level;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class Test\r\n{\r\n\r\n\tprivate static final Logger LOGGER = System.getLogger(Test.class.getName());\r\n\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\r\n\t\tLOGGER.log(Level.INFO, &quot;Before loading Spring Boot&quot;);\r\n\t\ttry (var context = SpringApplication.run(Test.class))\r\n\t\t{\r\n\t\t\tLOGGER.log(Level.INFO, &quot;While Spring Boot is running&quot;);\r\n\t\t}\r\n\t\tLOGGER.log(Level.INFO, &quot;After application context has been closed&quot;);\r\n\t}\r\n}\r\n```\r\nThis is the log produced:\r\n```\r\nmar 05, 2023 6:56:10 AM test.Test main\r\nINFO: Before loading Spring Boot\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.0.3)\r\n\r\n2023-03-05T06:56:10.582+01:00  INFO 15944 --- [           main] test.Test                                : Starting Test using Java 17.0.2 with PID 15944 (C:\\dev\\git\\tsv-product\\tsv-java\\tsv-bom\\tsv-lib\\tsv-kernel-bom\\tsv-kernel-lib\\tsv_test\\target\\classes started by Mirko in C:\\dev\\git\\tsv-product\\tsv-java\\tsv-bom\\tsv-lib\\tsv-kernel-bom\\tsv-kernel-lib\\tsv_test)\r\n2023-03-05T06:56:10.585+01:00  INFO 15944 --- [           main] test.Test                                : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-03-05T06:56:11.107+01:00  INFO 15944 --- [           main] test.Test                                : Started Test in 0.854 seconds (process running for 1.14)\r\n2023-03-05T06:56:11.112+01:00  INFO 15944 --- [           main] test.Test                                : While Spring Boot is running\r\n```\r\n- As expected, before Spring Boot is loaded, the JDK&#39;s default logger (JUL) is invoked.\r\n- As expected, while application context is running, the Spring Boot&#39;s default logger (Logback) is invoked.\r\n- Unexpectedly, after application context has been closed, nothing is logged. I would expect at least JUL invocation...\r\n\r\nMy Maven is as simple as possible:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;test&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;test&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;test&lt;/name&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.10.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;release&gt;17&lt;/release&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nIs this a bug of Spring Boot?\r\n\r\n\r\n","title":"Program no longer logs after Spring Boot&#39;s application context is closed","body":"<p>This trivial Spring Boot program logs before Spring Boot is loaded, while application context is active and after it has been closed:</p>\n<pre><code>package test;\n\nimport java.lang.System.Logger;\nimport java.lang.System.Logger.Level;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Test\n{\n\n    private static final Logger LOGGER = System.getLogger(Test.class.getName());\n\n    public static void main(String[] args)\n    {\n\n        LOGGER.log(Level.INFO, &quot;Before loading Spring Boot&quot;);\n        try (var context = SpringApplication.run(Test.class))\n        {\n            LOGGER.log(Level.INFO, &quot;While Spring Boot is running&quot;);\n        }\n        LOGGER.log(Level.INFO, &quot;After application context has been closed&quot;);\n    }\n}\n</code></pre>\n<p>This is the log produced:</p>\n<pre><code>mar 05, 2023 6:56:10 AM test.Test main\nINFO: Before loading Spring Boot\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.3)\n\n2023-03-05T06:56:10.582+01:00  INFO 15944 --- [           main] test.Test                                : Starting Test using Java 17.0.2 with PID 15944 (C:\\dev\\git\\tsv-product\\tsv-java\\tsv-bom\\tsv-lib\\tsv-kernel-bom\\tsv-kernel-lib\\tsv_test\\target\\classes started by Mirko in C:\\dev\\git\\tsv-product\\tsv-java\\tsv-bom\\tsv-lib\\tsv-kernel-bom\\tsv-kernel-lib\\tsv_test)\n2023-03-05T06:56:10.585+01:00  INFO 15944 --- [           main] test.Test                                : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-03-05T06:56:11.107+01:00  INFO 15944 --- [           main] test.Test                                : Started Test in 0.854 seconds (process running for 1.14)\n2023-03-05T06:56:11.112+01:00  INFO 15944 --- [           main] test.Test                                : While Spring Boot is running\n</code></pre>\n<ul>\n<li>As expected, before Spring Boot is loaded, the JDK's default logger (JUL) is invoked.</li>\n<li>As expected, while application context is running, the Spring Boot's default logger (Logback) is invoked.</li>\n<li>Unexpectedly, after application context has been closed, nothing is logged. I would expect at least JUL invocation...</li>\n</ul>\n<p>My Maven is as simple as possible:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;test&lt;/groupId&gt;\n    &lt;artifactId&gt;test&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;test&lt;/name&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;17&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Is this a bug of Spring Boot?</p>\n"},{"tags":["java","spring","spring-boot","jwt","ctrip-apollo"],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678008086,"creation_date":1678004350,"question_id":75640936,"body_markdown":"Today when I start the spring gateway project, shows this error log:\r\n\r\n\r\n\r\n \r\n\r\n      \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$312/0x00000000ccf81670.getObject(Unknown Source) ~[?:?]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.19.jar!/:5.3.19]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.19.jar!/:5.3.19]\r\n    \tat org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:64) ~[spring-boot-2.6.7.jar!/:2.6.7]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) [spring-boot-2.6.7.jar!/:2.6.7]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) [spring-boot-2.6.7.jar!/:2.6.7]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) [spring-boot-2.6.7.jar!/:2.6.7]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) [spring-boot-2.6.7.jar!/:2.6.7]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) [spring-boot-2.6.7.jar!/:2.6.7]\r\n    \tat com.dolphin.gateway.GatewayApplication.main(GatewayApplication.java:28) [classes!/:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n    \tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n    \tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) [dolphin-gateway-1.0.0-SNAPSHOT.jar:?]\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:108) [dolphin-gateway-1.0.0-SNAPSHOT.jar:?]\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58) [dolphin-gateway-1.0.0-SNAPSHOT.jar:?]\r\n    \tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) [dolphin-gateway-1.0.0-SNAPSHOT.jar:?]\r\n    Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder &#39;dolphin.api.jwt.sign.key&#39; in value &quot;${dolphin.api.jwt.sign.key}&quot;\r\n    \tat org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180) ~[spring-core-5.3.19.jar!/:5.3.19]\r\n    \tat org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-5.3.19.jar!/:5.3.19]\r\n    \tat org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239) ~[spring-core-5.3.19.jar!/:5.3.19]\r\n    \tat org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210) ~[spring-core-5.3.19.jar!/:5.3.19]\r\n    \tat org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:191) ~[spring-context-5.3.19.jar!/:5.3.19]\r\n    \tat org.springframework.context.support.PropertySourcesPlaceholderConfigurer$$Lambda$403/0x00000000cd36d4b0.resolveStringValue(Unknown Source) ~[?:?]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:936) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1330) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.19.jar!/:5.3.19]\r\n\r\n\r\nthe `dolphin.api.jwt.sign.key` config in application.yaml（this config located in the apollo configuration center） look like this:\r\n\r\n\r\n\r\n    dolphin:\r\n      api:\r\n        jwt:\r\n          sign:\r\n            key: kjiwtuEQjdh223Hagiwlkfowe72hrhrqwe43534ddw2324323yy4u64kj1312o4j1\r\n\r\n\r\n\r\nread this config in java class like this:\r\n\r\n\r\n\r\n\r\n\r\n    @Component\r\n    @Slf4j\r\n    public class AuthUtil {\r\n    \r\n        public static String JWT_SIGN_KEY;\r\n        \r\n        @Value(&quot;${dolphin.api.jwt.sign.key}&quot;)\r\n        public void setJwtSignKey(String jwtSignKey) {\r\n            JWT_SIGN_KEY = jwtSignKey;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nwhy still could not read the `dolphin.api.jwt.sign.key`? Am I missing something? what should I do to fixed this problem? When I add the configuration into project application.properties, this error disappeared, seems load the static value injection happen before the apollo config load, is it possible to make the static config could load from the remote [apollo][1] configuration center?\r\n\r\n\r\n  [1]: https://github.com/apolloconfig/apollo","title":"java.lang.IllegalArgumentException: Could not resolve placeholder &#39;dolphin.api.jwt.sign.key&#39; in value &quot;${dolphin.api.jwt.sign.key}&quot;","body":"<p>Today when I start the spring gateway project, shows this error log:</p>\n<pre><code>    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:405) ~[spring-beans-5.3.19.jar!/:5.3.19]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.19.jar!/:5.3.19]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.19.jar!/:5.3.19]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.19.jar!/:5.3.19]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.19.jar!/:5.3.19]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$$Lambda$312/0x00000000ccf81670.getObject(Unknown Source) ~[?:?]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.19.jar!/:5.3.19]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.19.jar!/:5.3.19]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.19.jar!/:5.3.19]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.19.jar!/:5.3.19]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.19.jar!/:5.3.19]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.19.jar!/:5.3.19]\n    at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:64) ~[spring-boot-2.6.7.jar!/:2.6.7]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) [spring-boot-2.6.7.jar!/:2.6.7]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) [spring-boot-2.6.7.jar!/:2.6.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) [spring-boot-2.6.7.jar!/:2.6.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) [spring-boot-2.6.7.jar!/:2.6.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) [spring-boot-2.6.7.jar!/:2.6.7]\n    at com.dolphin.gateway.GatewayApplication.main(GatewayApplication.java:28) [classes!/:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) [dolphin-gateway-1.0.0-SNAPSHOT.jar:?]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) [dolphin-gateway-1.0.0-SNAPSHOT.jar:?]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) [dolphin-gateway-1.0.0-SNAPSHOT.jar:?]\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) [dolphin-gateway-1.0.0-SNAPSHOT.jar:?]\nCaused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'dolphin.api.jwt.sign.key' in value &quot;${dolphin.api.jwt.sign.key}&quot;\n    at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180) ~[spring-core-5.3.19.jar!/:5.3.19]\n    at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-5.3.19.jar!/:5.3.19]\n    at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239) ~[spring-core-5.3.19.jar!/:5.3.19]\n    at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210) ~[spring-core-5.3.19.jar!/:5.3.19]\n    at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:191) ~[spring-context-5.3.19.jar!/:5.3.19]\n    at org.springframework.context.support.PropertySourcesPlaceholderConfigurer$$Lambda$403/0x00000000cd36d4b0.resolveStringValue(Unknown Source) ~[?:?]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:936) ~[spring-beans-5.3.19.jar!/:5.3.19]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1330) ~[spring-beans-5.3.19.jar!/:5.3.19]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.19.jar!/:5.3.19]\n</code></pre>\n<p>the <code>dolphin.api.jwt.sign.key</code> config in application.yaml（this config located in the apollo configuration center） look like this:</p>\n<pre><code>dolphin:\n  api:\n    jwt:\n      sign:\n        key: kjiwtuEQjdh223Hagiwlkfowe72hrhrqwe43534ddw2324323yy4u64kj1312o4j1\n</code></pre>\n<p>read this config in java class like this:</p>\n<pre><code>@Component\n@Slf4j\npublic class AuthUtil {\n\n    public static String JWT_SIGN_KEY;\n    \n    @Value(&quot;${dolphin.api.jwt.sign.key}&quot;)\n    public void setJwtSignKey(String jwtSignKey) {\n        JWT_SIGN_KEY = jwtSignKey;\n    }\n}\n</code></pre>\n<p>why still could not read the <code>dolphin.api.jwt.sign.key</code>? Am I missing something? what should I do to fixed this problem? When I add the configuration into project application.properties, this error disappeared, seems load the static value injection happen before the apollo config load, is it possible to make the static config could load from the remote <a href=\"https://github.com/apolloconfig/apollo\" rel=\"nofollow noreferrer\">apollo</a> configuration center?</p>\n"},{"tags":["java","hibernate","spring-data-jpa","hql","jpql"],"answers":[{"tags":[],"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661855336,"creation_date":1661855336,"answer_id":73540920,"question_id":73540715,"body_markdown":" 1. For foo object you have to define a sub-interface:\r\n```java\r\npublic interface FooWithAge {\r\n \r\n    String getAge();\r\n    FooView getFoo();\r\n     \r\n    interface FooView {\r\n        //list of getters of foo\r\n    }\r\n}\r\n```\r\n\r\n 2.  In the first parameter you are creating a foo in a foo, so basically you have just to pass `f`:\r\n\r\n```java\r\n@Query(&quot;select new FooWithAge(f, b.age) from Foo f inner join Bar b on f.barId = b.id&quot;)\r\nList&lt;FooWithAge&gt; query2();\r\n```","title":"Spring Data JPA Query - class projection containing another custom object","body":"<ol>\n<li>For foo object you have to define a sub-interface:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public interface FooWithAge {\n \n    String getAge();\n    FooView getFoo();\n     \n    interface FooView {\n        //list of getters of foo\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>In the first parameter you are creating a foo in a foo, so basically you have just to pass <code>f</code>:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;select new FooWithAge(f, b.age) from Foo f inner join Bar b on f.barId = b.id&quot;)\nList&lt;FooWithAge&gt; query2();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19042414,"reputation":71,"user_id":13902217,"display_name":"Jeka_FRI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678007804,"creation_date":1678007804,"answer_id":75641198,"question_id":73540715,"body_markdown":"I faced almost a similar problem. However, I was not able to implement the second option because `JPA` was complaining about the `constructor`.\r\n\r\nMy not compiled variant \r\n\r\n    @Query(&quot;SELECT new FileProjection(f.id, f.fileName) FROM file f WHERE f.id IN :fileIds&quot;)\r\n\r\nMy work variant \r\n\r\n    @Query(&quot;SELECT f.id as id, f.fileName as fileName FROM file f WHERE f.id IN :fileIds&quot;)\r\nMy projection \r\n    \r\n    public interface FileProjection {\r\n        Long getId();\r\n        String getFileName();\r\n    }","title":"Spring Data JPA Query - class projection containing another custom object","body":"<p>I faced almost a similar problem. However, I was not able to implement the second option because <code>JPA</code> was complaining about the <code>constructor</code>.</p>\n<p>My not compiled variant</p>\n<pre><code>@Query(&quot;SELECT new FileProjection(f.id, f.fileName) FROM file f WHERE f.id IN :fileIds&quot;)\n</code></pre>\n<p>My work variant</p>\n<pre><code>@Query(&quot;SELECT f.id as id, f.fileName as fileName FROM file f WHERE f.id IN :fileIds&quot;)\n</code></pre>\n<p>My projection</p>\n<pre><code>public interface FileProjection {\n    Long getId();\n    String getFileName();\n}\n</code></pre>\n"}],"owner":{"account_id":3882629,"reputation":476,"user_id":3214777,"accept_rate":55,"display_name":"Daniel Pop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":863,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73540920,"answer_count":2,"score":0,"last_activity_date":1678007804,"creation_date":1661854259,"question_id":73540715,"body_markdown":"Suppose I have a `Foo` entity (fields: `id`, `name` and `barId`) and a `Bar` entity (fields: `id`, `age`), in a one-to-many relation. I want to select all the `Foo`s, having the corresponding Bar `age` attached.\r\n\r\nI see 2 options, but none seems to work:\r\n1. The so-called [closed projection approach][1]\r\n```\r\n@Query(&quot;select f as foo, b.age as age from Foo f inner join Bar b on f.barId = b.id&quot;)\r\nList&lt;FooWithAge&gt; query1();\r\n```\r\nwhere FooWithAge is an **interface** having as methods `Foo getFoo()` and `Integer getAge()`;\r\n\r\n2. The so-called [class projection approach][1]\r\n```\r\n@Query(&quot;select new FooWithAge(new Foo(f), b.age) from Foo f inner join Bar b on f.barId = b.id&quot;)\r\nList&lt;FooWithAge&gt; query2();\r\n```\r\nwhere FooWithAge is a **class** having as fields `Foo foo` and `Integer age` and a *constructor that takes these 2 as parameters.*\r\n\r\nNone of these solutions seem to work. A third solution, of taking all the fields of Foo as parameters of the constructor of FooWithAge works, but I would like to find a cleaner solution.\r\n\r\nNote: I cannot use anything else than vanilla Spring Data JPA queries. Native queries are excluded.\r\n\r\n\r\n  [1]: https://I%20need%20to%20select%20a%20complete%20object%20and%20one%20more%20field%20from%20the%20database%20(using%20a%20join%20on%20the%201-n%20relation)%20using%20Spring%20Data%20JPA%20@Query.","title":"Spring Data JPA Query - class projection containing another custom object","body":"<p>Suppose I have a <code>Foo</code> entity (fields: <code>id</code>, <code>name</code> and <code>barId</code>) and a <code>Bar</code> entity (fields: <code>id</code>, <code>age</code>), in a one-to-many relation. I want to select all the <code>Foo</code>s, having the corresponding Bar <code>age</code> attached.</p>\n<p>I see 2 options, but none seems to work:</p>\n<ol>\n<li>The so-called <a href=\"https://I%20need%20to%20select%20a%20complete%20object%20and%20one%20more%20field%20from%20the%20database%20(using%20a%20join%20on%20the%201-n%20relation)%20using%20Spring%20Data%20JPA%20@Query.\" rel=\"nofollow noreferrer\">closed projection approach</a></li>\n</ol>\n<pre><code>@Query(&quot;select f as foo, b.age as age from Foo f inner join Bar b on f.barId = b.id&quot;)\nList&lt;FooWithAge&gt; query1();\n</code></pre>\n<p>where FooWithAge is an <strong>interface</strong> having as methods <code>Foo getFoo()</code> and <code>Integer getAge()</code>;</p>\n<ol start=\"2\">\n<li>The so-called <a href=\"https://I%20need%20to%20select%20a%20complete%20object%20and%20one%20more%20field%20from%20the%20database%20(using%20a%20join%20on%20the%201-n%20relation)%20using%20Spring%20Data%20JPA%20@Query.\" rel=\"nofollow noreferrer\">class projection approach</a></li>\n</ol>\n<pre><code>@Query(&quot;select new FooWithAge(new Foo(f), b.age) from Foo f inner join Bar b on f.barId = b.id&quot;)\nList&lt;FooWithAge&gt; query2();\n</code></pre>\n<p>where FooWithAge is a <strong>class</strong> having as fields <code>Foo foo</code> and <code>Integer age</code> and a <em>constructor that takes these 2 as parameters.</em></p>\n<p>None of these solutions seem to work. A third solution, of taking all the fields of Foo as parameters of the constructor of FooWithAge works, but I would like to find a cleaner solution.</p>\n<p>Note: I cannot use anything else than vanilla Spring Data JPA queries. Native queries are excluded.</p>\n"},{"tags":["java","spring-boot","mockito"],"owner":{"account_id":23946271,"reputation":69,"user_id":17938577,"display_name":"DAHUANGGO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678007535,"creation_date":1678007535,"question_id":75641176,"body_markdown":"I am a novice using mock testing, this is my code, I set a whitelist in the spring configuration file to call the service without verification:\r\n~~~yml\r\nsecurity:\r\n    whitelist:\r\n      urls:\r\n        - /user/signup\r\n        - /user/signin\r\n        - /user/verificationCode\r\n~~~\r\n\r\nBelow is my test code：\r\n~~~java\r\n    // Run the test\r\n    final MockHttpServletResponse response = mockMvc.perform(get(&quot;/user/verificationCode&quot;)\r\n        .param(&quot;account&quot;, &quot;{myEmail}&quot;)\r\n        .accept(MediaType.APPLICATION_JSON))\r\n        .andReturn().getResponse();\r\n\r\n    // Verify the results\r\n    assertThat(response.getStatus()).isEqualTo(HttpStatus.OK.value());\r\n    assertThat(response.getContentAsString()).isEqualTo(&quot;expectedResponse&quot;);\r\n~~~\r\n\r\nBelow is my controller code：\r\n~~~java\r\n     @GetMapping(value = &quot;/verificationCode&quot;, produces = {&quot;application/x-protobuf&quot;,\r\n      &quot;application/x-protobuf;charset=UTF-8&quot;})\r\n  public ApiResponse generateSecurityCode(\r\n      @RequestParam(value = &quot;account&quot;, required = true) String account) {\r\n    String securityCode = userService.generateAndSendSecurityCode(account);\r\n    Status statusMessage = Status.newBuilder().setCode(Code.OK).build();\r\n    return ApiResponse.newBuilder().setStatus(statusMessage)\r\n        .setData(Any.pack(com.google.protobuf.StringValue.of(securityCode))).build();\r\n  }\r\n~~~\r\nand my module is `user`\r\n~~~java\r\n@RestController\r\n@RequestMapping(&quot;/user&quot;)\r\n@Slf4j\r\n@RequiredArgsConstructor\r\npublic class UserController {}\r\n~~~\r\n\r\nI tested in two ways, one of which is to use the POSTMAN tool to simulate client requests：\r\n[![enter image description here](https://i.stack.imgur.com/lUSbK.png)](https://i.stack.imgur.com/lUSbK.png)\r\n\r\nI got the following result：\r\n[![enter image description here](https://i.stack.imgur.com/SyaQt.png)](https://i.stack.imgur.com/SyaQt.png)\r\n\r\nSeems like this would be perfect, but once I start running my mock code,I got a bug report like this：\r\n~~~text\r\nMockHttpServletRequest:\r\n      HTTP Method = GET\r\n      Request URI = /user/verificationCode\r\n       Parameters = {account=[my@163.com]}\r\n          Headers = [Accept:&quot;application/json&quot;]\r\n             Body = null\r\n    Session Attrs = {}\r\n\r\nMockHttpServletResponse:\r\n           Status = 401\r\n    Error message = Unauthorized\r\n          Headers = [WWW-Authenticate:&quot;Basic realm=&quot;Realm&quot;&quot;, X-Content-Type-Options:&quot;nosniff&quot;, X-XSS-Protection:&quot;1; mode=block&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Frame-Options:&quot;DENY&quot;]\r\n     Content type = null\r\n             Body = \r\n    Forwarded URL = null\r\n   Redirected URL = null\r\n          Cookies = []\r\n~~~\r\nYes, it is a 401 error code. It seems that I have not been authenticated, but I have configured a whitelist. I have no idea about this. I try to change my URI path to a full path or add a project name. But there seems to be this error, as follows:\r\n~~~text\r\nMockHttpServletRequest:\r\n      HTTP Method = GET\r\n      Request URI = /hippo/user/verificationCode\r\n       Parameters = {account=[{myEmail}]}\r\n          Headers = [Accept:&quot;application/json&quot;]\r\n             Body = null\r\n    Session Attrs = {}\r\n\r\nMockHttpServletResponse:\r\n           Status = 401\r\n    Error message = Unauthorized\r\n          Headers = [WWW-Authenticate:&quot;Basic realm=&quot;Realm&quot;&quot;, X-Content-Type-Options:&quot;nosniff&quot;, X-XSS-Protection:&quot;1; mode=block&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Frame-Options:&quot;DENY&quot;]\r\n     Content type = null\r\n             Body = \r\n    Forwarded URL = null\r\n   Redirected URL = null\r\n          Cookies = []\r\n~~~\r\n\r\nMy mock request uri are:\r\n~~~text\r\n/hippo/user/verificationCode,\r\n/user/verificationCode,\r\nhttp://127.0.0.1:8080/hippo/user/verificationCode\r\n~~~\r\nall wrong.\r\nI&#39;m very confused about this.\r\n\r\n\r\nI hope you can give me a direction or tell me why this happens and point out where my mistake is, thanks","title":"Can&#39;t the URI pass the whitelist in the mock test?","body":"<p>I am a novice using mock testing, this is my code, I set a whitelist in the spring configuration file to call the service without verification:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>security:\n    whitelist:\n      urls:\n        - /user/signup\n        - /user/signin\n        - /user/verificationCode\n</code></pre>\n<p>Below is my test code：</p>\n<pre class=\"lang-java prettyprint-override\"><code>    // Run the test\n    final MockHttpServletResponse response = mockMvc.perform(get(&quot;/user/verificationCode&quot;)\n        .param(&quot;account&quot;, &quot;{myEmail}&quot;)\n        .accept(MediaType.APPLICATION_JSON))\n        .andReturn().getResponse();\n\n    // Verify the results\n    assertThat(response.getStatus()).isEqualTo(HttpStatus.OK.value());\n    assertThat(response.getContentAsString()).isEqualTo(&quot;expectedResponse&quot;);\n</code></pre>\n<p>Below is my controller code：</p>\n<pre class=\"lang-java prettyprint-override\"><code>     @GetMapping(value = &quot;/verificationCode&quot;, produces = {&quot;application/x-protobuf&quot;,\n      &quot;application/x-protobuf;charset=UTF-8&quot;})\n  public ApiResponse generateSecurityCode(\n      @RequestParam(value = &quot;account&quot;, required = true) String account) {\n    String securityCode = userService.generateAndSendSecurityCode(account);\n    Status statusMessage = Status.newBuilder().setCode(Code.OK).build();\n    return ApiResponse.newBuilder().setStatus(statusMessage)\n        .setData(Any.pack(com.google.protobuf.StringValue.of(securityCode))).build();\n  }\n</code></pre>\n<p>and my module is <code>user</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/user&quot;)\n@Slf4j\n@RequiredArgsConstructor\npublic class UserController {}\n</code></pre>\n<p>I tested in two ways, one of which is to use the POSTMAN tool to simulate client requests：\n<a href=\"https://i.stack.imgur.com/lUSbK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lUSbK.png\" alt=\"enter image description here\" /></a></p>\n<p>I got the following result：\n<a href=\"https://i.stack.imgur.com/SyaQt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SyaQt.png\" alt=\"enter image description here\" /></a></p>\n<p>Seems like this would be perfect, but once I start running my mock code,I got a bug report like this：</p>\n<pre><code>MockHttpServletRequest:\n      HTTP Method = GET\n      Request URI = /user/verificationCode\n       Parameters = {account=[my@163.com]}\n          Headers = [Accept:&quot;application/json&quot;]\n             Body = null\n    Session Attrs = {}\n\nMockHttpServletResponse:\n           Status = 401\n    Error message = Unauthorized\n          Headers = [WWW-Authenticate:&quot;Basic realm=&quot;Realm&quot;&quot;, X-Content-Type-Options:&quot;nosniff&quot;, X-XSS-Protection:&quot;1; mode=block&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Frame-Options:&quot;DENY&quot;]\n     Content type = null\n             Body = \n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n</code></pre>\n<p>Yes, it is a 401 error code. It seems that I have not been authenticated, but I have configured a whitelist. I have no idea about this. I try to change my URI path to a full path or add a project name. But there seems to be this error, as follows:</p>\n<pre><code>MockHttpServletRequest:\n      HTTP Method = GET\n      Request URI = /hippo/user/verificationCode\n       Parameters = {account=[{myEmail}]}\n          Headers = [Accept:&quot;application/json&quot;]\n             Body = null\n    Session Attrs = {}\n\nMockHttpServletResponse:\n           Status = 401\n    Error message = Unauthorized\n          Headers = [WWW-Authenticate:&quot;Basic realm=&quot;Realm&quot;&quot;, X-Content-Type-Options:&quot;nosniff&quot;, X-XSS-Protection:&quot;1; mode=block&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Frame-Options:&quot;DENY&quot;]\n     Content type = null\n             Body = \n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n</code></pre>\n<p>My mock request uri are:</p>\n<pre><code>/hippo/user/verificationCode,\n/user/verificationCode,\nhttp://127.0.0.1:8080/hippo/user/verificationCode\n</code></pre>\n<p>all wrong.\nI'm very confused about this.</p>\n<p>I hope you can give me a direction or tell me why this happens and point out where my mistake is, thanks</p>\n"},{"tags":["java","google-cloud-dataflow","apache-beam"],"answers":[{"tags":[],"owner":{"account_id":6847196,"reputation":1685,"user_id":5265589,"display_name":"Alex Amato"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678007195,"creation_date":1502130468,"answer_id":45553487,"question_id":45527075,"body_markdown":"Which Dataflow SDK version are you using?\r\n\r\nIf you are using Dataflow 2.X you can use [DirectRunner][1]\r\n\r\nIn Dataflow 1.X you can use [DirectPipelineRunner][2]\r\n\r\nYou can also see the [Getting started instructions here][3] which Suggest DataflowRunner and BlockingDataflowRunner (depending on your version). I suggest trying to get this working first if you can.\r\n\r\n\r\n  [1]: https://beam.apache.org/releases/javadoc/2.0.0/org/apache/beam/runners/direct/DirectRunner.html\r\n  [2]: https://cloud.google.com/dataflow/docs/apis\r\n  [3]: https://cloud.google.com/dataflow/docs/quickstarts/create-pipeline-java","title":"Apache Beam: Cannot find DataflowRunner","body":"<p>Which Dataflow SDK version are you using?</p>\n<p>If you are using Dataflow 2.X you can use <a href=\"https://beam.apache.org/releases/javadoc/2.0.0/org/apache/beam/runners/direct/DirectRunner.html\" rel=\"nofollow noreferrer\">DirectRunner</a></p>\n<p>In Dataflow 1.X you can use <a href=\"https://cloud.google.com/dataflow/docs/apis\" rel=\"nofollow noreferrer\">DirectPipelineRunner</a></p>\n<p>You can also see the <a href=\"https://cloud.google.com/dataflow/docs/quickstarts/create-pipeline-java\" rel=\"nofollow noreferrer\">Getting started instructions here</a> which Suggest DataflowRunner and BlockingDataflowRunner (depending on your version). I suggest trying to get this working first if you can.</p>\n"},{"tags":[],"owner":{"account_id":57141,"reputation":445,"user_id":472433,"accept_rate":75,"display_name":"Utku"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1502203943,"creation_date":1502203943,"answer_id":45571609,"question_id":45527075,"body_markdown":"Forgetting to pass my PipelineOptions instance as a parameter to [`Pipeline.create()`](https://beam.apache.org/documentation/sdks/javadoc/2.0.0/org/apache/beam/sdk/Pipeline.html#create-org.apache.beam.sdk.options.PipelineOptions-) method was the cause of my problem.\r\n\r\n    PipelineOptionsFactory.register(MyOptions.class);\r\n    MyOptions options = PipelineOptionsFactory.fromArgs(args).withValidation().as(MyOptions.class);\r\n    Pipeline pipeline = Pipeline.create(options); // Don&#39;t forget the options argument.\r\n    ...\r\n    pipeline.run();","title":"Apache Beam: Cannot find DataflowRunner","body":"<p>Forgetting to pass my PipelineOptions instance as a parameter to <a href=\"https://beam.apache.org/documentation/sdks/javadoc/2.0.0/org/apache/beam/sdk/Pipeline.html#create-org.apache.beam.sdk.options.PipelineOptions-\" rel=\"nofollow noreferrer\"><code>Pipeline.create()</code></a> method was the cause of my problem.</p>\n\n<pre><code>PipelineOptionsFactory.register(MyOptions.class);\nMyOptions options = PipelineOptionsFactory.fromArgs(args).withValidation().as(MyOptions.class);\nPipeline pipeline = Pipeline.create(options); // Don't forget the options argument.\n...\npipeline.run();\n</code></pre>\n"}],"owner":{"account_id":57141,"reputation":445,"user_id":472433,"accept_rate":75,"display_name":"Utku"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4564,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":45571609,"answer_count":2,"score":5,"last_activity_date":1678007195,"creation_date":1501973813,"question_id":45527075,"body_markdown":"I am trying to run a pipeline, which I was able to run successfully with `DirectRunner`, on Google Cloud Dataflow. When I execute this Maven command:\r\n\r\n    mvn compile exec:java \\\r\n        -Dexec.mainClass=com.example.Pipeline \\\r\n        -Dexec.args=&quot;--project=project-name \\\r\n        --stagingLocation=gs://bucket-name/staging/ \\\r\n        ... custom arguments ...\r\n        --runner=DataflowRunner&quot;\r\n\r\nI get the following error:\r\n\r\n    No Runner was specified and the DirectRunner was not found on the classpath.\r\n    [ERROR] Specify a runner by either:\r\n    [ERROR]     Explicitly specifying a runner by providing the &#39;runner&#39; property\r\n    [ERROR]     Adding the DirectRunner to the classpath\r\n    [ERROR]     Calling &#39;PipelineOptions.setRunner(PipelineRunner)&#39; directly\r\n\r\nI intentionally removed `DirectRunner` from my `pom.xml` and added this:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.beam&lt;/groupId&gt;\r\n        &lt;artifactId&gt;beam-runners-google-cloud-dataflow-java&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.0&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI went ahead and removed the `&lt;scope&gt;` tag, then called `options.setRunner(DataflowRunner.class)`, but it didn&#39;t help. Extending my own `PipelineOptions` interface from `DataflowPipelineOptions` did not solve the problem as well.\r\n\r\nLooks like it ignores `runner` option in a way I am not able to debug.\r\n\r\n_Update_: Here is the full `pom.xml`, in case that helps:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;dataflow&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1&lt;/version&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.beam&lt;/groupId&gt;\r\n                &lt;artifactId&gt;beam-sdks-java-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.beam&lt;/groupId&gt;\r\n                &lt;artifactId&gt;beam-runners-google-cloud-dataflow-java&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.0&lt;/version&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.beam&lt;/groupId&gt;\r\n                &lt;artifactId&gt;beam-sdks-java-io-jdbc&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.beam&lt;/groupId&gt;\r\n                &lt;artifactId&gt;beam-sdks-java-io-google-cloud-platform&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                &lt;version&gt;42.1.4.jre7&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;","title":"Apache Beam: Cannot find DataflowRunner","body":"<p>I am trying to run a pipeline, which I was able to run successfully with <code>DirectRunner</code>, on Google Cloud Dataflow. When I execute this Maven command:</p>\n\n<pre><code>mvn compile exec:java \\\n    -Dexec.mainClass=com.example.Pipeline \\\n    -Dexec.args=\"--project=project-name \\\n    --stagingLocation=gs://bucket-name/staging/ \\\n    ... custom arguments ...\n    --runner=DataflowRunner\"\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>No Runner was specified and the DirectRunner was not found on the classpath.\n[ERROR] Specify a runner by either:\n[ERROR]     Explicitly specifying a runner by providing the 'runner' property\n[ERROR]     Adding the DirectRunner to the classpath\n[ERROR]     Calling 'PipelineOptions.setRunner(PipelineRunner)' directly\n</code></pre>\n\n<p>I intentionally removed <code>DirectRunner</code> from my <code>pom.xml</code> and added this:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.beam&lt;/groupId&gt;\n    &lt;artifactId&gt;beam-runners-google-cloud-dataflow-java&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I went ahead and removed the <code>&lt;scope&gt;</code> tag, then called <code>options.setRunner(DataflowRunner.class)</code>, but it didn't help. Extending my own <code>PipelineOptions</code> interface from <code>DataflowPipelineOptions</code> did not solve the problem as well.</p>\n\n<p>Looks like it ignores <code>runner</code> option in a way I am not able to debug.</p>\n\n<p><em>Update</em>: Here is the full <code>pom.xml</code>, in case that helps:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;dataflow&lt;/artifactId&gt;\n    &lt;version&gt;0.1&lt;/version&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.beam&lt;/groupId&gt;\n            &lt;artifactId&gt;beam-sdks-java-core&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.beam&lt;/groupId&gt;\n            &lt;artifactId&gt;beam-runners-google-cloud-dataflow-java&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.beam&lt;/groupId&gt;\n            &lt;artifactId&gt;beam-sdks-java-io-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.beam&lt;/groupId&gt;\n            &lt;artifactId&gt;beam-sdks-java-io-google-cloud-platform&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.1.4.jre7&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","google-drive-api"],"comments":[{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1677943350,"post_id":75635975,"comment_id":133438746,"body_markdown":"Thats a webview link not a download link","body":"Thats a webview link not a download link"},{"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"score":0,"creation_date":1677946192,"post_id":75635975,"comment_id":133439246,"body_markdown":"`https://doc-0c-bk-docs.googleusercontent.com/docs/securesc/biprk0tlgmbv8qfm4ml0d1hkq455h47t/q99lq27ni0mcgll8uajcb5qjo33kk555/1677934950000/09875493210076435183/02018677302207888173Z/1lsXIQkxqRBEbMO86OxHs8C8fET7D4oeo?e=download&amp;uuid=3ba75ae5-1c7f-42f9-a8e1-edcbd329d77b&amp;nonce=4vb8l3vpv030o&amp;user=02018677302207888173Z&amp;hash=1fs65oofpquerq5cpfhi0c63c62eue8u` this is download link. Did you read my post?","body":"<code>https:&#47;&#47;doc-0c-bk-docs.googleusercontent.com&#47;docs&#47;securesc&#47;b&zwnj;&#8203;iprk0tlgmbv8qfm4ml0d&zwnj;&#8203;1hkq455h47t&#47;q99lq27n&zwnj;&#8203;i0mcgll8uajcb5qjo33k&zwnj;&#8203;k555&#47;1677934950000&#47;0&zwnj;&#8203;9875493210076435183&#47;&zwnj;&#8203;02018677302207888173&zwnj;&#8203;Z&#47;1lsXIQkxqRBEbMO86O&zwnj;&#8203;xHs8C8fET7D4oeo?e=do&zwnj;&#8203;wnload&amp;uuid=3ba75ae5&zwnj;&#8203;-1c7f-42f9-a8e1-edcb&zwnj;&#8203;d329d77b&amp;nonce=4vb8l&zwnj;&#8203;3vpv030o&amp;user=020186&zwnj;&#8203;77302207888173Z&amp;hash&zwnj;&#8203;=1fs65oofpquerq5cpfh&zwnj;&#8203;i0c63c62eue8u</code> this is download link. Did you read my post?"},{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1677947041,"post_id":75635975,"comment_id":133439399,"body_markdown":"Do a file.get and get the webContentLink  use that","body":"Do a file.get and get the webContentLink  use that"}],"answers":[{"tags":[],"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678007119,"creation_date":1677946906,"answer_id":75636980,"question_id":75635975,"body_markdown":"When you click &quot;Download&quot; Google creates a temporary download link. This download link is only valid for some time. For example it&#39;s possible that on the next day this link no longer works and you have to click &quot;Download&quot; again.\r\n\r\nIt&#39;s also possible that Google stores cookies in your browser when clicking &quot;Download&quot;. The generated download link will only work in the browser who has these cookies. Meaning a different browser cannot use the temporary link as it doesn&#39;t have the matching cookies.\r\n\r\nYou have to use the [Google Drive API][1] to download a file. [Here is an example][2].\r\n\r\n**Update**:\r\n\r\nI&#39;ve clicked on &quot;Download&quot; and saved the link. Then I deleted my browser cookies. After that the link no longer worked. So the temporary download link is bound to cookies. I can say that for sure.\r\n\r\nPlease also note that temporary links can also be bound to an IP address.\r\n\r\n  [1]: https://developers.google.com/drive/api/guides/about-sdk\r\n  [2]: https://developers.google.com/drive/api/guides/manage-downloads","title":"Google drive 403 while downloading a public file if using downloadable url","body":"<p>When you click &quot;Download&quot; Google creates a temporary download link. This download link is only valid for some time. For example it's possible that on the next day this link no longer works and you have to click &quot;Download&quot; again.</p>\n<p>It's also possible that Google stores cookies in your browser when clicking &quot;Download&quot;. The generated download link will only work in the browser who has these cookies. Meaning a different browser cannot use the temporary link as it doesn't have the matching cookies.</p>\n<p>You have to use the <a href=\"https://developers.google.com/drive/api/guides/about-sdk\" rel=\"nofollow noreferrer\">Google Drive API</a> to download a file. <a href=\"https://developers.google.com/drive/api/guides/manage-downloads\" rel=\"nofollow noreferrer\">Here is an example</a>.</p>\n<p><strong>Update</strong>:</p>\n<p>I've clicked on &quot;Download&quot; and saved the link. Then I deleted my browser cookies. After that the link no longer worked. So the temporary download link is bound to cookies. I can say that for sure.</p>\n<p>Please also note that temporary links can also be bound to an IP address.</p>\n"}],"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75636980,"answer_count":1,"score":0,"last_activity_date":1678007119,"creation_date":1677936529,"question_id":75635975,"body_markdown":"I have a public file on Google drive. I can download it, no matter I logged in to my Google account or not.\r\n\r\nLets say I acces the file by using Firefox (no Google account logged in): `https://drive.google.com/file/d/1lsXIQkxqRBEbMO86OxHs8C8fET7D4oeo/view?usp=drivesdk`. Then I click Download button and I can get a downloadable URL (by using a feature of Firefox). The URL looks like `https://doc-0c-bk-docs.googleusercontent.com/docs/securesc/biprk0tlgmbv8qfm4ml0d1hkq455h47t/q99lq27ni0mcgll8uajcb5qjo33kk555/1677934950000/09875493210076435183/02018677302207888173Z/1lsXIQkxqRBEbMO86OxHs8C8fET7D4oeo?e=download&amp;uuid=3ba75ae5-1c7f-42f9-a8e1-edcbd329d77b&amp;nonce=4vb8l3vpv030o&amp;user=02018677302207888173Z&amp;hash=1fs65oofpquerq5cpfhi0c63c62eue8u`.\r\nThen I copy and paste this URL to another browser and I got 403 forbidden.\r\n\r\nI don&#39;t understand WHY AND HOW Google throw me a 403 error, since the file is completely public. \r\n\r\nThe reason why I ask this question is: I&#39;m writing an app like IDM using Java (and I cannot download file from Google drive, but It works on normal site)\r\n\r\nPlease help","title":"Google drive 403 while downloading a public file if using downloadable url","body":"<p>I have a public file on Google drive. I can download it, no matter I logged in to my Google account or not.</p>\n<p>Lets say I acces the file by using Firefox (no Google account logged in): <code>https://drive.google.com/file/d/1lsXIQkxqRBEbMO86OxHs8C8fET7D4oeo/view?usp=drivesdk</code>. Then I click Download button and I can get a downloadable URL (by using a feature of Firefox). The URL looks like <code>https://doc-0c-bk-docs.googleusercontent.com/docs/securesc/biprk0tlgmbv8qfm4ml0d1hkq455h47t/q99lq27ni0mcgll8uajcb5qjo33kk555/1677934950000/09875493210076435183/02018677302207888173Z/1lsXIQkxqRBEbMO86OxHs8C8fET7D4oeo?e=download&amp;uuid=3ba75ae5-1c7f-42f9-a8e1-edcbd329d77b&amp;nonce=4vb8l3vpv030o&amp;user=02018677302207888173Z&amp;hash=1fs65oofpquerq5cpfhi0c63c62eue8u</code>.\nThen I copy and paste this URL to another browser and I got 403 forbidden.</p>\n<p>I don't understand WHY AND HOW Google throw me a 403 error, since the file is completely public.</p>\n<p>The reason why I ask this question is: I'm writing an app like IDM using Java (and I cannot download file from Google drive, but It works on normal site)</p>\n<p>Please help</p>\n"},{"tags":["java","html","jsp","server"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1678012212,"post_id":75640773,"comment_id":133447322,"body_markdown":"show your server.xml and the entry to the configuration.","body":"show your server.xml and the entry to the configuration."}],"owner":{"account_id":22914315,"reputation":128,"user_id":17051142,"display_name":"jcommando"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1678022454,"answer_count":0,"score":0,"last_activity_date":1678006999,"creation_date":1678001586,"question_id":75640773,"body_markdown":"So previous i was able to start and run the server via the community server connector extension in vscode, however after restarting my computer , i tried to run the server, the console kept throwing me this error. I&#39;ve checked the CATALINA_Home directory which is correct if not the first time i will not be able to run it. \r\n\r\nDoes anyone have any solution to this issue? \r\n\r\nThe following is the log of the console\r\n\r\n    Configuration error java.io.FileNotFoundException: &#39;c:\\Users\\jason\\Desktop\\apache-tomcat-9.0.73\\conf\\logging.properties&#39; (The filename, directory name, or volume label syntax is incorrect)\r\n\tat java.base/java.io.FileInputStream.open0(Native Method)\r\n\tat java.base/java.io.FileInputStream.open(FileInputStream.java:216)\r\n\tat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\r\n\tat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:111)\r\n\tat org.apache.juli.ClassLoaderLogManager.readConfiguration(ClassLoaderLogManager.java:466)\r\n\tat org.apache.juli.ClassLoaderLogManager.readConfiguration(ClassLoaderLogManager.java:311)\r\n\tat java.logging/java.util.logging.LogManager.readPrimordialConfiguration(LogManager.java:446)\r\n\tat java.logging/java.util.logging.LogManager$2.run(LogManager.java:395)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\r\n\tat java.logging/java.util.logging.LogManager.ensureLogManagerInitialized(LogManager.java:383)\r\n\tat java.logging/java.util.logging.LogManager.getLogManager(LogManager.java:431)\r\n\tat java.logging/java.util.logging.Logger.demandLogger(Logger.java:649)\r\n\tat java.logging/java.util.logging.Logger.getLogger(Logger.java:718)\r\n\tat java.logging/java.util.logging.Logger.getLogger(Logger.java:702)\r\n\tat org.apache.juli.logging.DirectJDKLog.&lt;init&gt;(DirectJDKLog.java:61)\r\n\tat org.apache.juli.logging.DirectJDKLog.getInstance(DirectJDKLog.java:181)\r\n\tat org.apache.juli.logging.LogFactory.getInstance(LogFactory.java:133)\r\n\tat org.apache.juli.logging.LogFactory.getInstance(LogFactory.java:156)\r\n\tat org.apache.juli.logging.LogFactory.getLog(LogFactory.java:211)\r\n\tat org.apache.catalina.startup.Bootstrap.&lt;clinit&gt;(Bootstrap.java:52)\r\n    Mar 05, 2023 3:27:21 PM org.apache.catalina.startup.Bootstrap initClassLoaders\r\n    SEVERE: Class loader creation threw exception\r\n    java.io.IOException: The filename, directory name, or volume label syntax is incorrect\r\n\tat java.base/java.io.WinNTFileSystem.canonicalize0(Native Method)\r\n\tat java.base/java.io.WinNTFileSystem.canonicalize(WinNTFileSystem.java:462)\r\n\tat java.base/java.io.File.getCanonicalPath(File.java:626)\r\n\tat java.base/java.io.File.getCanonicalFile(File.java:651)\r\n\tat org.apache.catalina.startup.ClassLoaderFactory.createClassLoader(ClassLoaderFactory.java:176)\r\n\tat org.apache.catalina.startup.Bootstrap.createClassLoader(Bootstrap.java:198)\r\n\tat org.apache.catalina.startup.Bootstrap.initClassLoaders(Bootstrap.java:146)\r\n\tat org.apache.catalina.startup.Bootstrap.init(Bootstrap.java:254)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:447)","title":"Unable to start apache server on community server connector in vscode","body":"<p>So previous i was able to start and run the server via the community server connector extension in vscode, however after restarting my computer , i tried to run the server, the console kept throwing me this error. I've checked the CATALINA_Home directory which is correct if not the first time i will not be able to run it.</p>\n<p>Does anyone have any solution to this issue?</p>\n<p>The following is the log of the console</p>\n<pre><code>Configuration error java.io.FileNotFoundException: 'c:\\Users\\jason\\Desktop\\apache-tomcat-9.0.73\\conf\\logging.properties' (The filename, directory name, or volume label syntax is incorrect)\nat java.base/java.io.FileInputStream.open0(Native Method)\nat java.base/java.io.FileInputStream.open(FileInputStream.java:216)\nat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\nat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:111)\nat org.apache.juli.ClassLoaderLogManager.readConfiguration(ClassLoaderLogManager.java:466)\nat org.apache.juli.ClassLoaderLogManager.readConfiguration(ClassLoaderLogManager.java:311)\nat java.logging/java.util.logging.LogManager.readPrimordialConfiguration(LogManager.java:446)\nat java.logging/java.util.logging.LogManager$2.run(LogManager.java:395)\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\nat java.logging/java.util.logging.LogManager.ensureLogManagerInitialized(LogManager.java:383)\nat java.logging/java.util.logging.LogManager.getLogManager(LogManager.java:431)\nat java.logging/java.util.logging.Logger.demandLogger(Logger.java:649)\nat java.logging/java.util.logging.Logger.getLogger(Logger.java:718)\nat java.logging/java.util.logging.Logger.getLogger(Logger.java:702)\nat org.apache.juli.logging.DirectJDKLog.&lt;init&gt;(DirectJDKLog.java:61)\nat org.apache.juli.logging.DirectJDKLog.getInstance(DirectJDKLog.java:181)\nat org.apache.juli.logging.LogFactory.getInstance(LogFactory.java:133)\nat org.apache.juli.logging.LogFactory.getInstance(LogFactory.java:156)\nat org.apache.juli.logging.LogFactory.getLog(LogFactory.java:211)\nat org.apache.catalina.startup.Bootstrap.&lt;clinit&gt;(Bootstrap.java:52)\nMar 05, 2023 3:27:21 PM org.apache.catalina.startup.Bootstrap initClassLoaders\nSEVERE: Class loader creation threw exception\njava.io.IOException: The filename, directory name, or volume label syntax is incorrect\nat java.base/java.io.WinNTFileSystem.canonicalize0(Native Method)\nat java.base/java.io.WinNTFileSystem.canonicalize(WinNTFileSystem.java:462)\nat java.base/java.io.File.getCanonicalPath(File.java:626)\nat java.base/java.io.File.getCanonicalFile(File.java:651)\nat org.apache.catalina.startup.ClassLoaderFactory.createClassLoader(ClassLoaderFactory.java:176)\nat org.apache.catalina.startup.Bootstrap.createClassLoader(Bootstrap.java:198)\nat org.apache.catalina.startup.Bootstrap.initClassLoaders(Bootstrap.java:146)\nat org.apache.catalina.startup.Bootstrap.init(Bootstrap.java:254)\nat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:447)\n</code></pre>\n"},{"tags":["java","macos","universal-binary"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1651122940,"post_id":71705964,"comment_id":127288774,"body_markdown":"*&quot;... but this doesn&#39;t really work.&quot;* - How do you mean?","body":"<i>&quot;... but this doesn&#39;t really work.&quot;</i> - How do you mean?"}],"answers":[{"tags":[],"owner":{"account_id":24885162,"reputation":11,"user_id":18757882,"display_name":"Christopher Bruno"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678004706,"creation_date":1651121828,"answer_id":72038231,"question_id":71705964,"body_markdown":"I took the Zulu Intel and arm JRE (not JDK) builds and lipo&#39;ed the binaries. You can run the script using your generated JRE bundle (you would just need to run jpackage on an Intel and ARM computer to get the appropriate runtimes for each architecture ).\r\n\r\nGithub repo:\r\n\r\nhttps://github.com/ChristopherBruno78/universal_jre\r\n\r\nTested on intel and arm macOS 13 Ventura. ","title":"How to create a mac universal binary with bundled JRE?","body":"<p>I took the Zulu Intel and arm JRE (not JDK) builds and lipo'ed the binaries. You can run the script using your generated JRE bundle (you would just need to run jpackage on an Intel and ARM computer to get the appropriate runtimes for each architecture ).</p>\n<p>Github repo:</p>\n<p><a href=\"https://github.com/ChristopherBruno78/universal_jre\" rel=\"nofollow noreferrer\">https://github.com/ChristopherBruno78/universal_jre</a></p>\n<p>Tested on intel and arm macOS 13 Ventura.</p>\n"}],"owner":{"account_id":1548664,"reputation":500,"user_id":1441569,"accept_rate":43,"display_name":"trainrobbery"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":597,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":1,"score":5,"last_activity_date":1678004706,"creation_date":1648811321,"question_id":71705964,"body_markdown":"I am creating a JAVA desktop app for Mac computers, using jpackage to bundle the desired JRE into the app and finally shipping a .app to the customers.\r\n\r\nWith the new m1 apple arm silicon computers I do not want to create different apps for each processor architecture with the right JRE (intel &amp; arm) but create one single universal binary app that launches the Intel JRE on Intel computers and the Arm JRE on Arm computers. I know this is possible somehow. \r\n\r\nI tried to create two .apps and use the lipo tool from the mac command line, but this doesn&#39;t really work.\r\n\r\nAny suggestions how to proceed?","title":"How to create a mac universal binary with bundled JRE?","body":"<p>I am creating a JAVA desktop app for Mac computers, using jpackage to bundle the desired JRE into the app and finally shipping a .app to the customers.</p>\n<p>With the new m1 apple arm silicon computers I do not want to create different apps for each processor architecture with the right JRE (intel &amp; arm) but create one single universal binary app that launches the Intel JRE on Intel computers and the Arm JRE on Arm computers. I know this is possible somehow.</p>\n<p>I tried to create two .apps and use the lipo tool from the mac command line, but this doesn't really work.</p>\n<p>Any suggestions how to proceed?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1677952102,"post_id":75632953,"comment_id":133440336,"body_markdown":"Duplicate of https://stackoverflow.com/questions/62975942/purpose-of-class-argument-in-springapplication-run-class-args","body":"Duplicate of <a href=\"https://stackoverflow.com/questions/62975942/purpose-of-class-argument-in-springapplication-run-class-args\" title=\"purpose of class argument in springapplication run class args\">stackoverflow.com/questions/62975942/&hellip;</a>"},{"owner":{"account_id":6712897,"reputation":359,"user_id":5175699,"accept_rate":7,"display_name":"leo"},"score":0,"creation_date":1678005184,"post_id":75632953,"comment_id":133446475,"body_markdown":"This post is NOT a duplicate of the link. The link was asking the purpose of the &quot;.class&quot; argument. But this post is asking a &quot;seemingly&quot; redundancy where both the &quot;@SpringBootApplication&quot; annotation and the argument &quot;MyApplication.class&quot; present.","body":"This post is NOT a duplicate of the link. The link was asking the purpose of the &quot;.class&quot; argument. But this post is asking a &quot;seemingly&quot; redundancy where both the &quot;@SpringBootApplication&quot; annotation and the argument &quot;MyApplication.class&quot; present."}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677932870,"creation_date":1677932478,"answer_id":75635636,"question_id":75632953,"body_markdown":"If you do not tell it where to find the class that is annotated with `@SpringBootApplication` , it needs to scan all packages to find it out which take lot of times.\r\n\r\nSo explicit tell it the location of `@SpringBootApplication` annotated class can make it find it much faster. It can then use it as the starting point to know which packages to scan next based on the configuration of its mete-annotation such as `@ComponentScan`\r\n","title":"SpringApplication.run: why do we need the &quot;MyApplication.class&quot; parameter when &quot;@SpringBootApplication&quot; annotation presents?","body":"<p>If you do not tell it where to find the class that is annotated with <code>@SpringBootApplication</code> , it needs to scan all packages to find it out which take lot of times.</p>\n<p>So explicit tell it the location of <code>@SpringBootApplication</code> annotated class can make it find it much faster. It can then use it as the starting point to know which packages to scan next based on the configuration of its mete-annotation such as <code>@ComponentScan</code></p>\n"}],"owner":{"account_id":6712897,"reputation":359,"user_id":5175699,"accept_rate":7,"display_name":"leo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75635636,"answer_count":1,"score":1,"last_activity_date":1678004001,"creation_date":1677890369,"question_id":75632953,"body_markdown":"I always see Spring Boot main class as below:\r\n```\r\n@SpringBootApplication\r\npublic class MyApplication {\r\n  public static void main(String[] args) {\r\n\r\n      SpringApplication.run(MyApplication.class, args);\r\n  }\r\n}\r\n```\r\n\r\nWhy does the SpringApplication.run method need a ```MyApplication.class``` argument?\r\n\r\nSpring doc says:\r\n\r\n&gt; Parameters: primarySources - the primary sources to load \r\n\r\nBut when ```@SpringBootApplication``` presents, we already told Spring that the bean source is in the current package and its sub-packages because ```@SpringBootApplication``` includes ```@ComponentScan```. I got his understanding from https://www.baeldung.com/spring-component-scanning:\r\n\r\n&gt; @ComponentScan without arguments tells Spring to scan the current\r\n&gt; package and all of its sub-packages.\r\n\r\nSo, when ```@SpringBootApplication``` presents, we should not need the  ```MyApplication.class``` parameter. \r\n\r\nWhy is that parameter required?\r\n\r\nDid I mis-understand anything?","title":"SpringApplication.run: why do we need the &quot;MyApplication.class&quot; parameter when &quot;@SpringBootApplication&quot; annotation presents?","body":"<p>I always see Spring Boot main class as below:</p>\n<pre><code>@SpringBootApplication\npublic class MyApplication {\n  public static void main(String[] args) {\n\n      SpringApplication.run(MyApplication.class, args);\n  }\n}\n</code></pre>\n<p>Why does the SpringApplication.run method need a <code>MyApplication.class</code> argument?</p>\n<p>Spring doc says:</p>\n<blockquote>\n<p>Parameters: primarySources - the primary sources to load</p>\n</blockquote>\n<p>But when <code>@SpringBootApplication</code> presents, we already told Spring that the bean source is in the current package and its sub-packages because <code>@SpringBootApplication</code> includes <code>@ComponentScan</code>. I got his understanding from <a href=\"https://www.baeldung.com/spring-component-scanning\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-component-scanning</a>:</p>\n<blockquote>\n<p>@ComponentScan without arguments tells Spring to scan the current\npackage and all of its sub-packages.</p>\n</blockquote>\n<p>So, when <code>@SpringBootApplication</code> presents, we should not need the  <code>MyApplication.class</code> parameter.</p>\n<p>Why is that parameter required?</p>\n<p>Did I mis-understand anything?</p>\n"},{"tags":["java","selenium","selenium-chromedriver"],"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1538582401,"post_id":52624060,"comment_id":92195701,"body_markdown":"You shouldn&#39;t be running any script for that long and you should destroy/quit the driver after each test.","body":"You shouldn&#39;t be running any script for that long and you should destroy/quit the driver after each test."},{"owner":{"account_id":11718698,"reputation":58,"user_id":8578250,"display_name":"Harit Yadav"},"score":1,"creation_date":1538627027,"post_id":52624060,"comment_id":92210538,"body_markdown":"@JeffC Can you clarify what you mean by not to run a script for that long? I doubt length of the script is an issue unless chromedriver can&#39;t handle multiple tabs for more than a minute. Also, I am using driver.quit() always.","body":"@JeffC Can you clarify what you mean by not to run a script for that long? I doubt length of the script is an issue unless chromedriver can&#39;t handle multiple tabs for more than a minute. Also, I am using driver.quit() always."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1538655744,"post_id":52624060,"comment_id":92225076,"body_markdown":"You said `if we leave it as is for ten mins later` so I took that to mean that you had browsers up for more than 10 minutes. We have a lot of tests, most of which run 2-3 minutes and some that run up to 10 minutes and we&#39;ve never had an issue with the driver losing track of tabs. I&#39;m not sure what you are doing that might cause that.","body":"You said <code>if we leave it as is for ten mins later</code> so I took that to mean that you had browsers up for more than 10 minutes. We have a lot of tests, most of which run 2-3 minutes and some that run up to 10 minutes and we&#39;ve never had an issue with the driver losing track of tabs. I&#39;m not sure what you are doing that might cause that."}],"answers":[{"tags":[],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1538647806,"creation_date":1538647806,"answer_id":52644089,"question_id":52624060,"body_markdown":"I have faced same issue. It take some time to `getWindowHandles()`, with `Thread.sleep(500);` it&#39;s working fine.\r\n\r\n    public void goto2() throws InterruptedException {\r\n    \tArrayList&lt;String&gt; winHandles = new ArrayList&lt;String&gt; (driver.getWindowHandles());\r\n    \tThread.sleep(500);\r\n    \tdriver.switchTo().window(winHandles.get(1));\r\n    }","title":"Selenium chromedriver losing window handles. org.openqa.selenium.NoSuchWindowException: no such window error","body":"<p>I have faced same issue. It take some time to <code>getWindowHandles()</code>, with <code>Thread.sleep(500);</code> it's working fine.</p>\n\n<pre><code>public void goto2() throws InterruptedException {\n    ArrayList&lt;String&gt; winHandles = new ArrayList&lt;String&gt; (driver.getWindowHandles());\n    Thread.sleep(500);\n    driver.switchTo().window(winHandles.get(1));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27938804,"reputation":102,"user_id":21335232,"display_name":"Bhairu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678003633,"creation_date":1678003633,"answer_id":75640883,"question_id":52624060,"body_markdown":"    Public void windowHandle()\r\n    {\r\n    Set&lt;String&gt; allWindowHandles ==driver.getwindowHandles();\r\n     Iterator&lt;String&gt; iterator = allWindowHandles.iterator();\r\n    \r\n            while (iterator.hasNext()) {\r\n                String ChildWindow = iterator.next();\r\n                    if (!mainWindowHandle.equalsIgnoreCase(ChildWindow)) {\r\n      driver.switchTo().window(ChildWindow);\r\n     WebElement text = driver.findElement(By.id(&quot;sampleHeading&quot;))    System.out.println(&quot;Heading of child window is &quot; + text.getText());\r\n                }\r\n            }","title":"Selenium chromedriver losing window handles. org.openqa.selenium.NoSuchWindowException: no such window error","body":"<pre><code>Public void windowHandle()\n{\nSet&lt;String&gt; allWindowHandles ==driver.getwindowHandles();\n Iterator&lt;String&gt; iterator = allWindowHandles.iterator();\n\n        while (iterator.hasNext()) {\n            String ChildWindow = iterator.next();\n                if (!mainWindowHandle.equalsIgnoreCase(ChildWindow)) {\n  driver.switchTo().window(ChildWindow);\n WebElement text = driver.findElement(By.id(&quot;sampleHeading&quot;))    System.out.println(&quot;Heading of child window is &quot; + text.getText());\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":11718698,"reputation":58,"user_id":8578250,"display_name":"Harit Yadav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52644089,"answer_count":2,"score":0,"last_activity_date":1678003633,"creation_date":1538559432,"question_id":52624060,"body_markdown":"I am using the following,\r\n\r\nChromedriver 2.41\r\n\r\nselenium-server-standalone-3.10.0.jar\r\n\r\njdk 1.8.0_141\r\n\r\nI use selenium to open multiple tabs in chrome, traverse each tab one by one and then execute some script. However I often get errors while switching window handles. Using `System.out.println(driver.getWindowHandles())` just before switching windows, I have found that the number of window handles keeps on decreasing with time and it gives `org.openqa.selenium.NoSuchWindowException: no such window`. \r\n\r\nAnother odd thing is, the code will run fine once. Then it will give the error for subsequent tests, but if we leave it as is for ten mins later it will run fine again.\r\n\r\nThe code implementation is as follows,\r\n\r\n            ArrayList&lt;String&gt; tabs = new ArrayList&lt;String&gt;(driver.getWindowHandles());\r\n\t\t\tfor(int j=0; j&lt;10; j++){\r\n\t\t\t\t((JavascriptExecutor) driver).executeScript(&quot;window.open(&#39;&quot; + *siteURL* + &quot;&#39;)&quot;);\r\n\t\t\t\tfor(String temp : driver.getWindowHandles()){\r\n\t\t\t\t\tif(!tabs.contains(temp)){\r\n\t\t\t\t\t\tdriver.switchTo().window(temp);\r\n\t\t\t\t\t\ttabs.add(temp);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n            tabs = new ArrayList&lt;String&gt;(driver.getWindowHandles());\r\n\t\t\tdriver.switchTo().window(tabs.get(0));\r\n\r\n            /*** Reload tabs to reacquire the pages- Selenium loses them if it is idle for long time\r\n    \t\t * **/\r\n    \t\t\tfor (int j = 0; j &lt; tabs.size(); j++) {\r\n    \t\t\t\tdriver.switchTo().window(tabs.get(j));\r\n    \t\t\t\tdriver.get(*siteURL*);\r\n    \r\n    \t\t\t}\r\n\r\n            tabs = new ArrayList&lt;String&gt;(driver.getWindowHandles());\r\n\t\t\tfor (int j = 0; j &lt; tabs.size(); j++) {\r\n              driver.switchTo().window(tabs.get(j));\r\n             /*Perform step 1*/\r\n            }\r\n\r\nerror:\r\n\r\n    org.openqa.selenium.NoSuchWindowException: no such window\r\n  \r\n\r\n    (Session info: chrome=67.0.3396.87)\r\n      (Driver info: chromedriver=2.41.578737 (49da6702b16031c40d63e5618de03a32ff6c197e),platform=Windows NT 6.1.7601 SP1 x86_64) (WARNING: The server did not provide any stacktrace information)\r\n    Command duration or timeout: 0 milliseconds\r\n    Build info: version: &#39;3.10.0&#39;, revision: &#39;176b4a9&#39;, time: &#39;2018-03-02T19:11:12.151Z&#39;\r\n    System info: host: &#39;APACSGAWSBU0130&#39;, ip: &#39;10.58.196.139&#39;, os.name: &#39;Windows 7&#39;, os.arch: &#39;x86&#39;, os.version: &#39;6.1&#39;, java.version: &#39;1.8.0_141&#39;\r\n    Driver info: org.openqa.selenium.chrome.ChromeDriver\r\n    Capabilities {acceptInsecureCerts: false, acceptSslCerts: false, applicationCacheEnabled: false, browserConnectionEnabled: false, browserName: chrome, chrome: {chromedriverVersion: 2.41.578737 (49da6702b16031..., userDataDir: C:\\Users\\HY84957\\Downloads\\...}, cssSelectorsEnabled: true, databaseEnabled: false, goog:chromeOptions: {debuggerAddress: localhost:54006}, handlesAlerts: true, hasTouchScreen: false, javascriptEnabled: true, locationContextEnabled: true, mobileEmulationEnabled: false, nativeEvents: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: XP, platformName: XP, rotatable: false, setWindowRect: true, takesHeapSnapshot: true, takesScreenshot: true, unexpectedAlertBehaviour: , unhandledPromptBehavior: , version: 67.0.3396.87, webStorageEnabled: true}\r\n    Session ID: 0f98cc640eea21f2c48120f3bb901846\r\n\r\n","title":"Selenium chromedriver losing window handles. org.openqa.selenium.NoSuchWindowException: no such window error","body":"<p>I am using the following,</p>\n\n<p>Chromedriver 2.41</p>\n\n<p>selenium-server-standalone-3.10.0.jar</p>\n\n<p>jdk 1.8.0_141</p>\n\n<p>I use selenium to open multiple tabs in chrome, traverse each tab one by one and then execute some script. However I often get errors while switching window handles. Using <code>System.out.println(driver.getWindowHandles())</code> just before switching windows, I have found that the number of window handles keeps on decreasing with time and it gives <code>org.openqa.selenium.NoSuchWindowException: no such window</code>. </p>\n\n<p>Another odd thing is, the code will run fine once. Then it will give the error for subsequent tests, but if we leave it as is for ten mins later it will run fine again.</p>\n\n<p>The code implementation is as follows,</p>\n\n<pre><code>        ArrayList&lt;String&gt; tabs = new ArrayList&lt;String&gt;(driver.getWindowHandles());\n        for(int j=0; j&lt;10; j++){\n            ((JavascriptExecutor) driver).executeScript(\"window.open('\" + *siteURL* + \"')\");\n            for(String temp : driver.getWindowHandles()){\n                if(!tabs.contains(temp)){\n                    driver.switchTo().window(temp);\n                    tabs.add(temp);\n                }\n            }\n        }\n\n        tabs = new ArrayList&lt;String&gt;(driver.getWindowHandles());\n        driver.switchTo().window(tabs.get(0));\n\n        /*** Reload tabs to reacquire the pages- Selenium loses them if it is idle for long time\n         * **/\n            for (int j = 0; j &lt; tabs.size(); j++) {\n                driver.switchTo().window(tabs.get(j));\n                driver.get(*siteURL*);\n\n            }\n\n        tabs = new ArrayList&lt;String&gt;(driver.getWindowHandles());\n        for (int j = 0; j &lt; tabs.size(); j++) {\n          driver.switchTo().window(tabs.get(j));\n         /*Perform step 1*/\n        }\n</code></pre>\n\n<p>error:</p>\n\n<pre><code>org.openqa.selenium.NoSuchWindowException: no such window\n\n\n(Session info: chrome=67.0.3396.87)\n  (Driver info: chromedriver=2.41.578737 (49da6702b16031c40d63e5618de03a32ff6c197e),platform=Windows NT 6.1.7601 SP1 x86_64) (WARNING: The server did not provide any stacktrace information)\nCommand duration or timeout: 0 milliseconds\nBuild info: version: '3.10.0', revision: '176b4a9', time: '2018-03-02T19:11:12.151Z'\nSystem info: host: 'APACSGAWSBU0130', ip: '10.58.196.139', os.name: 'Windows 7', os.arch: 'x86', os.version: '6.1', java.version: '1.8.0_141'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCapabilities {acceptInsecureCerts: false, acceptSslCerts: false, applicationCacheEnabled: false, browserConnectionEnabled: false, browserName: chrome, chrome: {chromedriverVersion: 2.41.578737 (49da6702b16031..., userDataDir: C:\\Users\\HY84957\\Downloads\\...}, cssSelectorsEnabled: true, databaseEnabled: false, goog:chromeOptions: {debuggerAddress: localhost:54006}, handlesAlerts: true, hasTouchScreen: false, javascriptEnabled: true, locationContextEnabled: true, mobileEmulationEnabled: false, nativeEvents: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: XP, platformName: XP, rotatable: false, setWindowRect: true, takesHeapSnapshot: true, takesScreenshot: true, unexpectedAlertBehaviour: , unhandledPromptBehavior: , version: 67.0.3396.87, webStorageEnabled: true}\nSession ID: 0f98cc640eea21f2c48120f3bb901846\n</code></pre>\n"},{"tags":["java","loops","if-statement","enums","extends"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1677987384,"post_id":75640001,"comment_id":133444955,"body_markdown":"Modify the `Rank` and `Suit` enums to also return rank and suit symbols.  Then you can get the symbols through the `Card` instance.","body":"Modify the <code>Rank</code> and <code>Suit</code> enums to also return rank and suit symbols.  Then you can get the symbols through the <code>Card</code> instance."},{"owner":{"account_id":15296330,"reputation":103,"user_id":11036285,"display_name":"ilsloaoycd"},"score":0,"creation_date":1677990676,"post_id":75640001,"comment_id":133445242,"body_markdown":"Theoretically possible, but this is not the best solution to your problem. I can&#39;t provide perfect example, as I don&#39;t write java. You don&#39;t need an if statement for each card type. You could store values as pairs in an array and then lookup the correct value to return when the toString method is called.","body":"Theoretically possible, but this is not the best solution to your problem. I can&#39;t provide perfect example, as I don&#39;t write java. You don&#39;t need an if statement for each card type. You could store values as pairs in an array and then lookup the correct value to return when the toString method is called."},{"owner":{"account_id":15296330,"reputation":103,"user_id":11036285,"display_name":"ilsloaoycd"},"score":0,"creation_date":1677991211,"post_id":75640001,"comment_id":133445282,"body_markdown":"`String[] cards = [[Rank.SIX, &quot;6&quot;], etc];\nletter = (/*lookup correct association from cards array using*/ PokerCard.this.getSuit())`","body":"<code>String[] cards = [[Rank.SIX, &quot;6&quot;], etc]; letter = (&#47;*lookup correct association from cards array using*&#47; PokerCard.this.getSuit())</code>"}],"answers":[{"tags":[],"owner":{"account_id":27938314,"reputation":1,"user_id":21334826,"display_name":"Abhinav sachan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677995427,"creation_date":1677995427,"answer_id":75640441,"question_id":75640001,"body_markdown":"    String letter = &quot;&quot;;\r\n    String symbol = &quot;&quot;;\r\n    Rank rank = PokerCard.this.getRank();\r\n    Suit suit = PokerCard.this.getSuit();\r\n\r\n    if (rank.ordinal() &gt;= 8 &amp;&amp; rank.ordinal() &lt;= 12) {\r\n    letter = Character.toString((char) (&#39;A&#39; + rank. Ordinal() - 8));\r\n    } else if (rank. Ordinal() &gt;= 0 &amp;&amp; rank.ordinal() &lt;= 6) {\r\n    letter = Integer.toString(rank. Ordinal() + 2);\r\n    } else if (rank == Rank.TEN) {\r\n    letter = &quot;10&quot;;\r\n    }\r\n\r\n    swrank. Ordinal{\r\n    case SPADES:\r\n        symbol = &quot;\\u2660&quot;;\r\n        break;\r\n    case HEARTS:\r\n        symbol = &quot;\\u2665&quot;;\r\n        break;\r\n    case DIAMONDS:\r\n        symbol = &quot;\\u2666&quot;;\r\n        break;\r\n    case CLUBS:\r\n        symbol = &quot;\\u2663&quot;;\r\n        break;\r\n    }\r\n\r\n     return letter + symbol;\r\n\r\n\r\nwe use the ordinal value of the Rank enum to determine the letter value. We check if the ordinal value is between 8 and 12 (inclusive) for the face cards (A, K, Q, J), and between 0 and 6 (inclusive) for the number cards (2-9). For the rank value of 10, we use a separate if statement to assign the value &quot;10&quot; to the letter variable.\r\n\r\nWe also use a switch statement to determine the symbol value based on the Suit enum.`enter code here`","title":"Create a For Loop that creates if statements","body":"<pre><code>String letter = &quot;&quot;;\nString symbol = &quot;&quot;;\nRank rank = PokerCard.this.getRank();\nSuit suit = PokerCard.this.getSuit();\n\nif (rank.ordinal() &gt;= 8 &amp;&amp; rank.ordinal() &lt;= 12) {\nletter = Character.toString((char) ('A' + rank. Ordinal() - 8));\n} else if (rank. Ordinal() &gt;= 0 &amp;&amp; rank.ordinal() &lt;= 6) {\nletter = Integer.toString(rank. Ordinal() + 2);\n} else if (rank == Rank.TEN) {\nletter = &quot;10&quot;;\n}\n\nswrank. Ordinal{\ncase SPADES:\n    symbol = &quot;\\u2660&quot;;\n    break;\ncase HEARTS:\n    symbol = &quot;\\u2665&quot;;\n    break;\ncase DIAMONDS:\n    symbol = &quot;\\u2666&quot;;\n    break;\ncase CLUBS:\n    symbol = &quot;\\u2663&quot;;\n    break;\n}\n\n return letter + symbol;\n</code></pre>\n<p>we use the ordinal value of the Rank enum to determine the letter value. We check if the ordinal value is between 8 and 12 (inclusive) for the face cards (A, K, Q, J), and between 0 and 6 (inclusive) for the number cards (2-9). For the rank value of 10, we use a separate if statement to assign the value &quot;10&quot; to the letter variable.</p>\n<p>We also use a switch statement to determine the symbol value based on the Suit enum.<code>enter code here</code></p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677998037,"creation_date":1677998037,"answer_id":75640569,"question_id":75640001,"body_markdown":"I propose modifying the enums &amp;ndash; since an enum is essentially a class. Refer to [Enum Types][1] in Oracle&#39;s Java tutorials.\r\n\r\nIn the below code, I add a `String` member to both `Rank` and `Suit` and also override the `toString` method of each enum. I also added a `getValue` method that ensures that the `Rank` enum returns the points value of the `Card`. Refer to [How can a Java enum start with 1?][2]\r\n```java\r\npackage basetest;\r\n\r\npublic class Card {\r\n    protected Rank rank;\r\n    protected Suit suit;\r\n\r\n    public Card(Rank rank, Suit suit) {\r\n        this.rank = rank;\r\n        this.suit = suit;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(new PokerCard(Rank.ACE, Suit.SPADES));\r\n    }\r\n}\r\n\r\nclass PokerCard extends Card {\r\n\r\n    public PokerCard(Rank rank, Suit suit) {\r\n        super(rank, suit);\r\n    }\r\n\r\n    public String toString() {\r\n        return rank.toString() + suit.toString();\r\n    }\r\n}\r\n\r\nenum Rank {\r\n    TWO(&quot;2&quot;),\r\n    THREE(&quot;3&quot;),\r\n    FOUR(&quot;4&quot;),\r\n    FIVE(&quot;5&quot;),\r\n    SIX(&quot;6&quot;),\r\n    SEVEN(&quot;7&quot;),\r\n    EIGHT(&quot;8&quot;),\r\n    NINE(&quot;9&quot;),\r\n    TEN(&quot;10&quot;),\r\n    JACK(&quot;J&quot;),\r\n    QUEEN(&quot;Q&quot;),\r\n    KING(&quot;K&quot;),\r\n    ACE(&quot;A&quot;);\r\n\r\n    private final String letter;\r\n\r\n    private Rank(String letter) {\r\n        this.letter = letter;\r\n    }\r\n\r\n    public int getValue() {\r\n        return ordinal() + 2;\r\n    }\r\n\r\n    public String toString() {\r\n        return letter;\r\n    }\r\n}\r\n\r\nenum Suit {\r\n    CLUBS(&quot;\\u2663&quot;),\r\n    DIAMONDS(&quot;\\u2666&quot;),\r\n    HEARTS(&quot;\\u2665&quot;),\r\n    SPADES(&quot;\\u2660&quot;);\r\n\r\n    private final String symbol;\r\n\r\n    private Suit(String symbol) {\r\n        this.symbol = symbol;\r\n    }\r\n\r\n    public String toString() {\r\n        return symbol;\r\n    }\r\n}\r\n```\r\nHere is the output I get when I run the above code:\r\n```none\r\nA♠\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\r\n  [2]: https://stackoverflow.com/questions/35560954/how-can-a-java-enum-start-with-1","title":"Create a For Loop that creates if statements","body":"<p>I propose modifying the enums – since an enum is essentially a class. Refer to <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">Enum Types</a> in Oracle's Java tutorials.</p>\n<p>In the below code, I add a <code>String</code> member to both <code>Rank</code> and <code>Suit</code> and also override the <code>toString</code> method of each enum. I also added a <code>getValue</code> method that ensures that the <code>Rank</code> enum returns the points value of the <code>Card</code>. Refer to <a href=\"https://stackoverflow.com/questions/35560954/how-can-a-java-enum-start-with-1\">How can a Java enum start with 1?</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>package basetest;\n\npublic class Card {\n    protected Rank rank;\n    protected Suit suit;\n\n    public Card(Rank rank, Suit suit) {\n        this.rank = rank;\n        this.suit = suit;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(new PokerCard(Rank.ACE, Suit.SPADES));\n    }\n}\n\nclass PokerCard extends Card {\n\n    public PokerCard(Rank rank, Suit suit) {\n        super(rank, suit);\n    }\n\n    public String toString() {\n        return rank.toString() + suit.toString();\n    }\n}\n\nenum Rank {\n    TWO(&quot;2&quot;),\n    THREE(&quot;3&quot;),\n    FOUR(&quot;4&quot;),\n    FIVE(&quot;5&quot;),\n    SIX(&quot;6&quot;),\n    SEVEN(&quot;7&quot;),\n    EIGHT(&quot;8&quot;),\n    NINE(&quot;9&quot;),\n    TEN(&quot;10&quot;),\n    JACK(&quot;J&quot;),\n    QUEEN(&quot;Q&quot;),\n    KING(&quot;K&quot;),\n    ACE(&quot;A&quot;);\n\n    private final String letter;\n\n    private Rank(String letter) {\n        this.letter = letter;\n    }\n\n    public int getValue() {\n        return ordinal() + 2;\n    }\n\n    public String toString() {\n        return letter;\n    }\n}\n\nenum Suit {\n    CLUBS(&quot;\\u2663&quot;),\n    DIAMONDS(&quot;\\u2666&quot;),\n    HEARTS(&quot;\\u2665&quot;),\n    SPADES(&quot;\\u2660&quot;);\n\n    private final String symbol;\n\n    private Suit(String symbol) {\n        this.symbol = symbol;\n    }\n\n    public String toString() {\n        return symbol;\n    }\n}\n</code></pre>\n<p>Here is the output I get when I run the above code:</p>\n<pre class=\"lang-none prettyprint-override\"><code>A♠\n</code></pre>\n"}],"owner":{"account_id":27937793,"reputation":1,"user_id":21334395,"display_name":"Leeky"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677999849,"creation_date":1677986108,"question_id":75640001,"body_markdown":"I&#39;m in CS2 for my college program and I&#39;ve been tasked with creating code for a `PokerCard` class which extends off of a `Card` class that carries a bunch of methods which it overrides. In this particular instance, I am overriding the `toString` method for testing and am in the middle of writing a bunch of `if` statements. Is it possible to create a `for` loop that can loop the creation of my code? I tried inserting `i`&#39;s in place of ordinals for enums but am I stuck with this ugly code here? Thanks in advance!\r\n\r\n```java\r\n/**\r\n * An child of the Card class intended to Override the toString of the card\r\n * class. The toString will output integer form followed by a suit symbol.\r\n * \r\n * @author Steven Lee\r\n */\r\n// Implement PokerCard as an interface with Comparable\r\npublic class PokerCard extends Card {\r\n\t/**\r\n\t * Child constructor that copies the constructor of the parent Card. Create\r\n\t * constructor.\r\n\t * \r\n\t * @param suit\r\n\t * @param rank\r\n\t */\r\n\tpublic PokerCard(Suit suit, Rank rank) {\r\n\t\tsuper(suit, rank);\r\n\t}\r\n\r\n\t/**\r\n\t * TODO Create compareTo Override here. comapareTo should be checking for card\r\n\t * rank differences and sorting them from lowest rank to highest (2 to Ace).\r\n\t */\r\n\r\n\t/**\r\n\t * TODO Override toString from parent Card. This should print in the following\r\n\t * format: &quot;[Initial][Suit]. Initial is either an int or capitalized first\r\n\t * letter of the rank. Suit will be output with unicode.\r\n\t */\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\t// Check for rank value. If J-A.\r\n\t\tString letter = null;\r\n\t\tString symbol = null;\r\n\t\tif (PokerCard.this.getRank().equals(Rank.ACE)) {\r\n\t\t\tletter = &quot;A&quot;;\r\n\t\t}\r\n\t\tif (PokerCard.this.getRank().equals(Rank.KING)) {\r\n\t\t\tletter = &quot;K&quot;;\r\n\t\t}\r\n\t\tif (PokerCard.this.getRank().equals(Rank.QUEEN)) {\r\n\t\t\tletter = &quot;Q&quot;;\r\n\t\t}\r\n\t\tif (PokerCard.this.getRank().equals(Rank.JACK)) {\r\n\t\t\tletter = &quot;J&quot;;\r\n\t\t}\r\n\t\tif (PokerCard.this.getRank().equals(Rank.JACK)) {\r\n\t\t\tletter = &quot;J&quot;;\r\n\t\t}\r\n\t\tif (PokerCard.this.getRank().equals(Rank.TEN)) {\r\n\t\t\tletter = &quot;10&quot;;\r\n\t\t}\r\n\t\tif (PokerCard.this.getRank().equals(Rank.NINE)) {\r\n\t\t\tletter = &quot;9&quot;;\r\n\t\t}\r\n\t\tif (PokerCard.this.getRank().equals(Rank.EIGHT)) {\r\n\t\t\tletter = &quot;8&quot;;\r\n\t\t}\r\n\t\tif (PokerCard.this.getRank().equals(Rank.SEVEN)) {\r\n\t\t\tletter = &quot;7&quot;;\r\n\t\t}\r\n\t\tif (PokerCard.this.getRank().equals(Rank.SIX)) {\r\n\t\t\tletter = &quot;6&quot;;\r\n\t\t}\r\n\t\tif (PokerCard.this.getRank().equals(Rank.FIVE)) {\r\n\t\t\tletter = &quot;5&quot;;\r\n\t\t}\r\n\t\tif (PokerCard.this.getRank().equals(Rank.FOUR)) {\r\n\t\t\tletter = &quot;4&quot;;\r\n\t\t}\r\n\t\tif (PokerCard.this.getRank().equals(Rank.THREE)) {\r\n\t\t\tletter = &quot;3&quot;;\r\n\t\t}\r\n\t\tif (PokerCard.this.getRank().equals(Rank.TWO)) {\r\n\t\t\tletter = &quot;2&quot;;\r\n\t\t}\r\n\t\tif (PokerCard.this.getSuit().equals(Suit.SPADES)) {\r\n\t\t\tsymbol = &quot;\\u2660&quot;;\r\n\t\t}\r\n\t\tif (PokerCard.this.getSuit().equals(Suit.HEARTS)) {\r\n\t\t\tsymbol = &quot;\\u2665&quot;;\r\n\t\t}\r\n\t\tif (PokerCard.this.getSuit().equals(Suit.DIAMONDS)) {\r\n\t\t\tsymbol = &quot;\\u2666&quot;;\r\n\t\t}\r\n\t\tif (PokerCard.this.getSuit().equals(Suit.CLUBS)) {\r\n\t\t\tsymbol = &quot;\\u2663&quot;;\r\n\t\t}\r\n\t\treturn letter + symbol;\r\n\t}\r\n}\r\n```\r\n\r\nI&#39;m hoping to streamline the `if` statement creation process. Or if there is a better way to arrange this `toString`, I&#39;d greatly appreciate that as well. thank you in advance. (Note that as far as the exercise goes, there is no need to add the red colored suit variants)","title":"Create a For Loop that creates if statements","body":"<p>I'm in CS2 for my college program and I've been tasked with creating code for a <code>PokerCard</code> class which extends off of a <code>Card</code> class that carries a bunch of methods which it overrides. In this particular instance, I am overriding the <code>toString</code> method for testing and am in the middle of writing a bunch of <code>if</code> statements. Is it possible to create a <code>for</code> loop that can loop the creation of my code? I tried inserting <code>i</code>'s in place of ordinals for enums but am I stuck with this ugly code here? Thanks in advance!</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * An child of the Card class intended to Override the toString of the card\n * class. The toString will output integer form followed by a suit symbol.\n * \n * @author Steven Lee\n */\n// Implement PokerCard as an interface with Comparable\npublic class PokerCard extends Card {\n    /**\n     * Child constructor that copies the constructor of the parent Card. Create\n     * constructor.\n     * \n     * @param suit\n     * @param rank\n     */\n    public PokerCard(Suit suit, Rank rank) {\n        super(suit, rank);\n    }\n\n    /**\n     * TODO Create compareTo Override here. comapareTo should be checking for card\n     * rank differences and sorting them from lowest rank to highest (2 to Ace).\n     */\n\n    /**\n     * TODO Override toString from parent Card. This should print in the following\n     * format: &quot;[Initial][Suit]. Initial is either an int or capitalized first\n     * letter of the rank. Suit will be output with unicode.\n     */\n    @Override\n    public String toString() {\n        // Check for rank value. If J-A.\n        String letter = null;\n        String symbol = null;\n        if (PokerCard.this.getRank().equals(Rank.ACE)) {\n            letter = &quot;A&quot;;\n        }\n        if (PokerCard.this.getRank().equals(Rank.KING)) {\n            letter = &quot;K&quot;;\n        }\n        if (PokerCard.this.getRank().equals(Rank.QUEEN)) {\n            letter = &quot;Q&quot;;\n        }\n        if (PokerCard.this.getRank().equals(Rank.JACK)) {\n            letter = &quot;J&quot;;\n        }\n        if (PokerCard.this.getRank().equals(Rank.JACK)) {\n            letter = &quot;J&quot;;\n        }\n        if (PokerCard.this.getRank().equals(Rank.TEN)) {\n            letter = &quot;10&quot;;\n        }\n        if (PokerCard.this.getRank().equals(Rank.NINE)) {\n            letter = &quot;9&quot;;\n        }\n        if (PokerCard.this.getRank().equals(Rank.EIGHT)) {\n            letter = &quot;8&quot;;\n        }\n        if (PokerCard.this.getRank().equals(Rank.SEVEN)) {\n            letter = &quot;7&quot;;\n        }\n        if (PokerCard.this.getRank().equals(Rank.SIX)) {\n            letter = &quot;6&quot;;\n        }\n        if (PokerCard.this.getRank().equals(Rank.FIVE)) {\n            letter = &quot;5&quot;;\n        }\n        if (PokerCard.this.getRank().equals(Rank.FOUR)) {\n            letter = &quot;4&quot;;\n        }\n        if (PokerCard.this.getRank().equals(Rank.THREE)) {\n            letter = &quot;3&quot;;\n        }\n        if (PokerCard.this.getRank().equals(Rank.TWO)) {\n            letter = &quot;2&quot;;\n        }\n        if (PokerCard.this.getSuit().equals(Suit.SPADES)) {\n            symbol = &quot;\\u2660&quot;;\n        }\n        if (PokerCard.this.getSuit().equals(Suit.HEARTS)) {\n            symbol = &quot;\\u2665&quot;;\n        }\n        if (PokerCard.this.getSuit().equals(Suit.DIAMONDS)) {\n            symbol = &quot;\\u2666&quot;;\n        }\n        if (PokerCard.this.getSuit().equals(Suit.CLUBS)) {\n            symbol = &quot;\\u2663&quot;;\n        }\n        return letter + symbol;\n    }\n}\n</code></pre>\n<p>I'm hoping to streamline the <code>if</code> statement creation process. Or if there is a better way to arrange this <code>toString</code>, I'd greatly appreciate that as well. thank you in advance. (Note that as far as the exercise goes, there is no need to add the red colored suit variants)</p>\n"},{"tags":["java","spring","properties","configurationproperties"],"owner":{"account_id":4763224,"reputation":55,"user_id":3850095,"accept_rate":40,"display_name":"Deven"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677997784,"creation_date":1677997784,"question_id":75640554,"body_markdown":"I have 2 organizations, a and b, for which, I have properties as follows. Additionally, I have another property which lists the organizations I have. \r\n\r\n    org.colgate.prop1=val1\r\n    org.colgate.prop2=val2\r\n\r\n    org.bmw.prop1=val3\r\n    org.bmw.prop2=val4\r\n\r\n    allOrgs=org.colgate,org.bmw\r\n\r\nAnd the following class to read the properties into (There would be one instance of this class per org:\r\n\r\n    public class OrganizationProperties {\r\n      private String prop1;\r\n      private String prop2;\r\n    }\r\n\r\nThen I&#39;d have to set up @ConfigurationProperties something like this:\r\n\r\n```\r\n@Bean\r\n@ConfigurationProperties(prefix=&quot;org.colgate&quot;)\r\npublic ManagingOrgProperties[] getColgateProps() {\r\n return new ManagingOrgProperties();\r\n}\r\n\r\n@Bean\r\n@ConfigurationProperties(prefix=&quot;org.bmw&quot;)\r\npublic ManagingOrgProperties getBMWProps() {\r\n return new ManagingOrgProperties();\r\n}\r\n```\r\n\r\nRather than that, (i) would it be possible to have something like:\r\n```\r\npublic ManagingOrgProperties[] getColgateProps() {\r\nreturn new ManagingOrgProperties[]{};\r\n}\r\n```\r\nWhich would return an array of all the orgs it found. And (ii) If there anyway I can dynamically pass what&#39;s found in the allOrgs to an an annotation so it knows how many orgs are there and return those many objects in the array?\r\n","title":"spring @ConfigurationProperties dynamic prefixes","body":"<p>I have 2 organizations, a and b, for which, I have properties as follows. Additionally, I have another property which lists the organizations I have.</p>\n<pre><code>org.colgate.prop1=val1\norg.colgate.prop2=val2\n\norg.bmw.prop1=val3\norg.bmw.prop2=val4\n\nallOrgs=org.colgate,org.bmw\n</code></pre>\n<p>And the following class to read the properties into (There would be one instance of this class per org:</p>\n<pre><code>public class OrganizationProperties {\n  private String prop1;\n  private String prop2;\n}\n</code></pre>\n<p>Then I'd have to set up @ConfigurationProperties something like this:</p>\n<pre><code>@Bean\n@ConfigurationProperties(prefix=&quot;org.colgate&quot;)\npublic ManagingOrgProperties[] getColgateProps() {\n return new ManagingOrgProperties();\n}\n\n@Bean\n@ConfigurationProperties(prefix=&quot;org.bmw&quot;)\npublic ManagingOrgProperties getBMWProps() {\n return new ManagingOrgProperties();\n}\n</code></pre>\n<p>Rather than that, (i) would it be possible to have something like:</p>\n<pre><code>public ManagingOrgProperties[] getColgateProps() {\nreturn new ManagingOrgProperties[]{};\n}\n</code></pre>\n<p>Which would return an array of all the orgs it found. And (ii) If there anyway I can dynamically pass what's found in the allOrgs to an an annotation so it knows how many orgs are there and return those many objects in the array?</p>\n"},{"tags":["java","android","dialog","sharedpreferences"],"owner":{"account_id":8725718,"reputation":1712,"user_id":6527410,"accept_rate":53,"display_name":"androidXP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677997171,"creation_date":1677989739,"question_id":75640155,"body_markdown":"I have created a custom `MultiSelectListPreference` where I can handle each item from the list click and save it to shared preferences. If the user selects item 0 or 1 from the list, then I want to unselect all other items from the list. However, when I call `listView.setItemChecked(i, false)`, it doesn&#39;t change anything on the list. I have also tried `notifyDataSetChanged` and invalidate, but still no luck.\r\n\r\nHere is the code for the custom MultiSelectListPreference:\r\n\r\n    import android.content.Context;\r\n    import android.content.DialogInterface;\r\n    import android.util.AttributeSet;\r\n    import android.util.Log;\r\n    import android.util.SparseBooleanArray;\r\n    import android.widget.ArrayAdapter;\r\n    import android.widget.ListView;\r\n    \r\n    import androidx.appcompat.app.AlertDialog;\r\n    import androidx.preference.MultiSelectListPreference;\r\n    \r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    public class MultiSelectListPreferenceCustom  extends MultiSelectListPreference {\r\n        private final String TAG = &quot;Custom Class Dialog&quot;;\r\n        public MultiSelectListPreferenceCustom(Context context, AttributeSet attrs) {\r\n            super(context, attrs);\r\n        }\r\n    \r\n        @Override\r\n        protected void onClick() {\r\n    \r\n            AlertDialog.Builder builder = new AlertDialog.Builder(getContext());\r\n            builder.setTitle(getDialogTitle());\r\n            builder.setMultiChoiceItems(getEntries(), getSelectedItems(), new DialogInterface.OnMultiChoiceClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialog, int which, boolean isChecked) {\r\n                    Log.d(TAG, &quot;onClick: Which Button == &quot;+which+&quot; &quot;+isChecked);\r\n                    ListView listView = ((AlertDialog) dialog).getListView();\r\n                    Log.d(TAG, &quot;onClick: Get Item Count = &quot;+listView.getCount());\r\n                    if (which == 0 || which == 1) {\r\n                        // If &quot;Public&quot; or &quot;All Friends&quot; is selected, uncheck all other items\r\n                        for (int i = 0; i &lt; listView.getCount(); i++) {\r\n                            if (i != which) {\r\n                                listView.setItemChecked(i, false);\r\n                            }\r\n                        }\r\n                    } else {\r\n                        // If any other item is selected, uncheck &quot;Public&quot; and &quot;All Friends&quot;\r\n                        listView.setItemChecked(0, false);\r\n                        listView.setItemChecked(1, false);\r\n                    }\r\n                    ArrayAdapter adapter = (ArrayAdapter) listView.getAdapter();\r\n                    adapter.notifyDataSetChanged();\r\n    \r\n                    Log.d(TAG, &quot;onClick: list check = &quot;+listView.getCheckedItemPosition());\r\n                }\r\n            });\r\n            builder.setPositiveButton(android.R.string.ok, new DialogInterface.OnClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialog, int which) {\r\n                    // Save selected items\r\n                    ListView listView = ((AlertDialog) dialog).getListView();\r\n                    SparseBooleanArray checkedPositions = listView.getCheckedItemPositions();\r\n                    Set&lt;String&gt; values = new HashSet&lt;&gt;();\r\n                    for (int i = 0; i &lt; checkedPositions.size(); i++) {\r\n                        if (checkedPositions.valueAt(i)) {\r\n                            int position = checkedPositions.keyAt(i);\r\n                            values.add(getEntryValues()[position].toString());\r\n                        }\r\n                    }\r\n                    setValues(values);\r\n                }\r\n    \r\n    \r\n            });\r\n            builder.setNegativeButton(android.R.string.cancel, new DialogInterface.OnClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialog, int which) {\r\n                    // Do nothing\r\n                }\r\n            });\r\n            builder.show();\r\n        }\r\n    }\r\n\r\n\r\nI have also tried adding the following code after calling `listView.setItemChecked(i, false):`\r\n\r\n\r\n    ((ArrayAdapter) listView.getAdapter()).notifyDataSetChanged();\r\n    listView.invalidateViews();\r\n\r\nBut still, the items are not getting unchecked. Can anyone suggest what could be the issue here? Any help would be appreciated.\r\n","title":"Unable to uncheck items in a custom MultiSelectListPreference dialog","body":"<p>I have created a custom <code>MultiSelectListPreference</code> where I can handle each item from the list click and save it to shared preferences. If the user selects item 0 or 1 from the list, then I want to unselect all other items from the list. However, when I call <code>listView.setItemChecked(i, false)</code>, it doesn't change anything on the list. I have also tried <code>notifyDataSetChanged</code> and invalidate, but still no luck.</p>\n<p>Here is the code for the custom MultiSelectListPreference:</p>\n<pre><code>import android.content.Context;\nimport android.content.DialogInterface;\nimport android.util.AttributeSet;\nimport android.util.Log;\nimport android.util.SparseBooleanArray;\nimport android.widget.ArrayAdapter;\nimport android.widget.ListView;\n\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.preference.MultiSelectListPreference;\n\nimport java.util.HashSet;\nimport java.util.Set;\n\npublic class MultiSelectListPreferenceCustom  extends MultiSelectListPreference {\n    private final String TAG = &quot;Custom Class Dialog&quot;;\n    public MultiSelectListPreferenceCustom(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    @Override\n    protected void onClick() {\n\n        AlertDialog.Builder builder = new AlertDialog.Builder(getContext());\n        builder.setTitle(getDialogTitle());\n        builder.setMultiChoiceItems(getEntries(), getSelectedItems(), new DialogInterface.OnMultiChoiceClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which, boolean isChecked) {\n                Log.d(TAG, &quot;onClick: Which Button == &quot;+which+&quot; &quot;+isChecked);\n                ListView listView = ((AlertDialog) dialog).getListView();\n                Log.d(TAG, &quot;onClick: Get Item Count = &quot;+listView.getCount());\n                if (which == 0 || which == 1) {\n                    // If &quot;Public&quot; or &quot;All Friends&quot; is selected, uncheck all other items\n                    for (int i = 0; i &lt; listView.getCount(); i++) {\n                        if (i != which) {\n                            listView.setItemChecked(i, false);\n                        }\n                    }\n                } else {\n                    // If any other item is selected, uncheck &quot;Public&quot; and &quot;All Friends&quot;\n                    listView.setItemChecked(0, false);\n                    listView.setItemChecked(1, false);\n                }\n                ArrayAdapter adapter = (ArrayAdapter) listView.getAdapter();\n                adapter.notifyDataSetChanged();\n\n                Log.d(TAG, &quot;onClick: list check = &quot;+listView.getCheckedItemPosition());\n            }\n        });\n        builder.setPositiveButton(android.R.string.ok, new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n                // Save selected items\n                ListView listView = ((AlertDialog) dialog).getListView();\n                SparseBooleanArray checkedPositions = listView.getCheckedItemPositions();\n                Set&lt;String&gt; values = new HashSet&lt;&gt;();\n                for (int i = 0; i &lt; checkedPositions.size(); i++) {\n                    if (checkedPositions.valueAt(i)) {\n                        int position = checkedPositions.keyAt(i);\n                        values.add(getEntryValues()[position].toString());\n                    }\n                }\n                setValues(values);\n            }\n\n\n        });\n        builder.setNegativeButton(android.R.string.cancel, new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n                // Do nothing\n            }\n        });\n        builder.show();\n    }\n}\n</code></pre>\n<p>I have also tried adding the following code after calling <code>listView.setItemChecked(i, false):</code></p>\n<pre><code>((ArrayAdapter) listView.getAdapter()).notifyDataSetChanged();\nlistView.invalidateViews();\n</code></pre>\n<p>But still, the items are not getting unchecked. Can anyone suggest what could be the issue here? Any help would be appreciated.</p>\n"},{"tags":["java","jdb"],"answers":[{"tags":[],"owner":{"account_id":10958861,"reputation":504,"user_id":8052787,"display_name":"FredvN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668678777,"creation_date":1668678777,"answer_id":74473362,"question_id":74464650,"body_markdown":"You can use the option list to show the lines around your current position","title":"java jdb does not display code lines in step output","body":"<p>You can use the option list to show the lines around your current position</p>\n"},{"tags":[],"owner":{"account_id":9552627,"reputation":470,"user_id":7096274,"display_name":"H&#246;lderlin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677996537,"creation_date":1677996537,"answer_id":75640502,"question_id":74464650,"body_markdown":"Ran into same issue when debugging android app within AVD. I was not able to list sourcecode even if I defined the correct `-sourcepath`.\r\n\r\nI need to execute JDB from correct directory. If the class belongs to any package, e.g. class `MainActivity` belongs to package `org.gradle.samples`, then your project folder contains the following directory:\r\n\r\n    yourProject/\r\n    ├── src\r\n    │   └── main\r\n    │       └── java\r\n    │           └── org\r\n    │               └── gradle\r\n    │                   └── samples\r\n    │                       └── MainActivity.java\r\n\r\n   \r\nThen you have to execute `jdb` from `&lt;pathToYourProject&gt;/src/main/java`, where JDB `-sourcepath` is `&lt;pathToYourProject&gt;/src/main/java` as well.\r\n","title":"java jdb does not display code lines in step output","body":"<p>Ran into same issue when debugging android app within AVD. I was not able to list sourcecode even if I defined the correct <code>-sourcepath</code>.</p>\n<p>I need to execute JDB from correct directory. If the class belongs to any package, e.g. class <code>MainActivity</code> belongs to package <code>org.gradle.samples</code>, then your project folder contains the following directory:</p>\n<pre><code>yourProject/\n├── src\n│   └── main\n│       └── java\n│           └── org\n│               └── gradle\n│                   └── samples\n│                       └── MainActivity.java\n</code></pre>\n<p>Then you have to execute <code>jdb</code> from <code>&lt;pathToYourProject&gt;/src/main/java</code>, where JDB <code>-sourcepath</code> is <code>&lt;pathToYourProject&gt;/src/main/java</code> as well.</p>\n"}],"owner":{"account_id":1010232,"reputation":3252,"user_id":1022967,"accept_rate":75,"display_name":"mpettis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74473362,"answer_count":2,"score":1,"last_activity_date":1677996537,"creation_date":1668619170,"question_id":74464650,"body_markdown":"Trying to learn the jdb from the command line.  From tutorials I expect to see the code line output when I step lines, but I am not.\r\n\r\nHere is sample code I compiled:\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello world!&quot;);\r\n        System.out.println(&quot;Hello world! line 2&quot;);\r\n        System.out.println(&quot;Hello world! line 3&quot;);\r\n    }\r\n}\r\n```\r\n\r\n```\r\n$ ~/jdk-18.0.2.1/bin/jdb.exe Main\r\nInitializing jdb ...\r\n&gt; stop at Main.main\r\nDeferring breakpoint Main.main.\r\nIt will be set after the class is loaded.\r\n&gt; run\r\nrun Main\r\nSet uncaught java.lang.Throwable\r\nSet deferred uncaught java.lang.Throwable\r\n&gt;\r\nVM Started: Set deferred breakpoint Main.main\r\n\r\nBreakpoint hit: &quot;thread=main&quot;, Main.main(), line=3 bci=0\r\n\r\nmain[1] step\r\n&gt; Hell\r\nStep completed: o world!\r\n&quot;thread=main&quot;, Main.main(), line=4 bci=8\r\n\r\nmain[1] step\r\n&gt; Hello world! line 2\r\n\r\nStep completed: &quot;thread=main&quot;, Main.main(), line=5 bci=16\r\n\r\nmain[1]\r\n```\r\n\r\nNote, in here, the output is showing, but I expect to see the code lines that are about to be executed, and the line number displayed, like:\r\n\r\n```\r\n3       System.out.println(&quot;Hello world!&quot;);\r\n```\r\n\r\nI&#39;ve seen tutorials that have screen shots with this happening, and I am wondering if I have a missing setting or a wrong version of jdb or something.\r\n","title":"java jdb does not display code lines in step output","body":"<p>Trying to learn the jdb from the command line.  From tutorials I expect to see the code line output when I step lines, but I am not.</p>\n<p>Here is sample code I compiled:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello world!&quot;);\n        System.out.println(&quot;Hello world! line 2&quot;);\n        System.out.println(&quot;Hello world! line 3&quot;);\n    }\n}\n</code></pre>\n<pre><code>$ ~/jdk-18.0.2.1/bin/jdb.exe Main\nInitializing jdb ...\n&gt; stop at Main.main\nDeferring breakpoint Main.main.\nIt will be set after the class is loaded.\n&gt; run\nrun Main\nSet uncaught java.lang.Throwable\nSet deferred uncaught java.lang.Throwable\n&gt;\nVM Started: Set deferred breakpoint Main.main\n\nBreakpoint hit: &quot;thread=main&quot;, Main.main(), line=3 bci=0\n\nmain[1] step\n&gt; Hell\nStep completed: o world!\n&quot;thread=main&quot;, Main.main(), line=4 bci=8\n\nmain[1] step\n&gt; Hello world! line 2\n\nStep completed: &quot;thread=main&quot;, Main.main(), line=5 bci=16\n\nmain[1]\n</code></pre>\n<p>Note, in here, the output is showing, but I expect to see the code lines that are about to be executed, and the line number displayed, like:</p>\n<pre><code>3       System.out.println(&quot;Hello world!&quot;);\n</code></pre>\n<p>I've seen tutorials that have screen shots with this happening, and I am wondering if I have a missing setting or a wrong version of jdb or something.</p>\n"},{"tags":["java","string","recursion","methods","return"],"comments":[{"owner":{"account_id":27938113,"reputation":1,"user_id":21334658,"display_name":"Branto"},"score":0,"creation_date":1677995734,"post_id":75640398,"comment_id":133445570,"body_markdown":"@Thiyagu i would perfer not to create any addition methods but i don&#39;t mind if there needs to be a change to the method entirely to create a different approach to it or a effective method.","body":"@Thiyagu i would perfer not to create any addition methods but i don&#39;t mind if there needs to be a change to the method entirely to create a different approach to it or a effective method."},{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1678017364,"post_id":75640398,"comment_id":133448094,"body_markdown":"In this example, it works out that “wOrLd” would start with a lowercase letter regardless, but do you want to camelcase each word or treat it as one continuous string?","body":"In this example, it works out that “wOrLd” would start with a lowercase letter regardless, but do you want to camelcase each word or treat it as one continuous string?"}],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677995567,"creation_date":1677995567,"answer_id":75640450,"question_id":75640398,"body_markdown":"One way to do it is to use a private helper method passing additional arguments.\r\n\r\nWe pass the index of the string to process and to avoid string concatenation, we build the resultant string using a `StringBuilder`.\r\n```\r\npublic static String camelCaseRecursive(String s) {\r\n    return camelCaseRecursiveHelper(s, 0, new StringBuilder());\r\n}\r\n\r\nprivate static String camelCaseRecursiveHelper(String s, int i,\r\n                                               StringBuilder stringBuilder) {\r\n    if (i == s.length()) {\r\n        return stringBuilder.toString();\r\n    } else {\r\n        Character curr = s.charAt(i);\r\n        if (Character.isLetter(curr)) {\r\n            curr = i % 2 == 0\r\n                    ? Character.toLowerCase(curr)\r\n                    : Character.toUpperCase(curr);\r\n        }\r\n        stringBuilder.append(curr);\r\n        return camelCaseRecursiveHelper(s, i + 1, stringBuilder);\r\n    }\r\n}\r\n```\r\nWe check if the current index is even or odd and based on that, we do the case-conversion.","title":"recursion method that returns a string after changing every other letter from uppercase or lowercase","body":"<p>One way to do it is to use a private helper method passing additional arguments.</p>\n<p>We pass the index of the string to process and to avoid string concatenation, we build the resultant string using a <code>StringBuilder</code>.</p>\n<pre><code>public static String camelCaseRecursive(String s) {\n    return camelCaseRecursiveHelper(s, 0, new StringBuilder());\n}\n\nprivate static String camelCaseRecursiveHelper(String s, int i,\n                                               StringBuilder stringBuilder) {\n    if (i == s.length()) {\n        return stringBuilder.toString();\n    } else {\n        Character curr = s.charAt(i);\n        if (Character.isLetter(curr)) {\n            curr = i % 2 == 0\n                    ? Character.toLowerCase(curr)\n                    : Character.toUpperCase(curr);\n        }\n        stringBuilder.append(curr);\n        return camelCaseRecursiveHelper(s, i + 1, stringBuilder);\n    }\n}\n</code></pre>\n<p>We check if the current index is even or odd and based on that, we do the case-conversion.</p>\n"}],"owner":{"account_id":27938113,"reputation":1,"user_id":21334658,"display_name":"Branto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677995567,"creation_date":1677994516,"question_id":75640398,"body_markdown":"\r\nChange a strings character from every other letter from uppercase to lowercase using recursion and return that string. im trying to expand on my knowledge of recursion i know i could do this without it, but im wondering how you do it this way, this is what i have so far\r\n\r\n\r\n\r\n```\r\npublic static String camelCaseRecursive(String w){\r\n     if(w.length()==0) {\r\n      return &quot;&quot;;\r\n        }\r\n        \r\n\tchar sec = 0;\r\n       String returned_str = &quot;&quot;;\r\n\tchar ch = w.charAt(0);\r\n       if (w.length() &gt; 1) {\r\n           sec = w.charAt(1);\r\n       }\r\n       \r\n       ;\r\n\tString remaining_str = w.substring(1);\r\n\treturned_str = camelCaseRecursive(remaining_str);\r\n\t\t\r\n\tif(ch &gt;= &#39;A&#39; &amp;&amp; ch &lt;=&#39;Z&#39; &amp;&amp; sec &gt;= &#39;a&#39; &amp;&amp; sec &lt;=&#39;z&#39;  ) {\r\n           ch = Character.toLowerCase(w.charAt(0));\r\n\t\t\t\r\n\treturned_str = ch+returned_str;\r\n\t\t}\r\n        else if((ch &gt;= &#39;A&#39; &amp;&amp; ch &lt;=&#39;Z&#39;) &amp;&amp; (sec &gt;= &#39;A&#39; &amp;&amp; sec &lt;=&#39;Z&#39;)  ){\r\n           ch = Character.toLowerCase(w.charAt(0));\r\n           returned_str = ch+returned_str;\r\n        }\r\n        else if((ch &gt;= &#39;a&#39; &amp;&amp; ch &lt;=&#39;z&#39;)  &amp;&amp; returned_str.length() %2 !=0){\r\n          ch = Character.toUpperCase(w.charAt(0));\r\n          returned_str = ch+returned_str;\r\n        }\r\n        else{\r\n           \r\n          returned_str = ch+returned_str;\r\n\r\n        }\r\n        \r\n\treturn returned_str;\r\n}\r\n```\r\n\r\n\r\nwhat i expect is \r\n```\r\ninput:(Hello World) output:(hElLo wOrLd)\r\ninput:(Even) output:(eVeN)\r\n```\r\nwhat i get is \r\n```\r\ninput:(Hello World) output:(hElLo wOrLd)\r\ninput:(Even) output:(evEn)\r\n```\r\ni know that the reason i get what i get is because of returned_str.length() %2 !=0 giving odd numbers and if use == it does it for even strings. is there a way to do both or know when to use the appropriate one base on the first call? the thing is i don&#39;t know how you would go about alternating between uppercase and lowercase in recursion without having some sort of counter to keep track. Is is possible to set a method that can alternate between upper and lower case, or set a condition that knows when to do so using the length of the string or maybe reading it like a subscript or compare or something?","title":"recursion method that returns a string after changing every other letter from uppercase or lowercase","body":"<p>Change a strings character from every other letter from uppercase to lowercase using recursion and return that string. im trying to expand on my knowledge of recursion i know i could do this without it, but im wondering how you do it this way, this is what i have so far</p>\n<pre><code>public static String camelCaseRecursive(String w){\n     if(w.length()==0) {\n      return &quot;&quot;;\n        }\n        \n    char sec = 0;\n       String returned_str = &quot;&quot;;\n    char ch = w.charAt(0);\n       if (w.length() &gt; 1) {\n           sec = w.charAt(1);\n       }\n       \n       ;\n    String remaining_str = w.substring(1);\n    returned_str = camelCaseRecursive(remaining_str);\n        \n    if(ch &gt;= 'A' &amp;&amp; ch &lt;='Z' &amp;&amp; sec &gt;= 'a' &amp;&amp; sec &lt;='z'  ) {\n           ch = Character.toLowerCase(w.charAt(0));\n            \n    returned_str = ch+returned_str;\n        }\n        else if((ch &gt;= 'A' &amp;&amp; ch &lt;='Z') &amp;&amp; (sec &gt;= 'A' &amp;&amp; sec &lt;='Z')  ){\n           ch = Character.toLowerCase(w.charAt(0));\n           returned_str = ch+returned_str;\n        }\n        else if((ch &gt;= 'a' &amp;&amp; ch &lt;='z')  &amp;&amp; returned_str.length() %2 !=0){\n          ch = Character.toUpperCase(w.charAt(0));\n          returned_str = ch+returned_str;\n        }\n        else{\n           \n          returned_str = ch+returned_str;\n\n        }\n        \n    return returned_str;\n}\n</code></pre>\n<p>what i expect is</p>\n<pre><code>input:(Hello World) output:(hElLo wOrLd)\ninput:(Even) output:(eVeN)\n</code></pre>\n<p>what i get is</p>\n<pre><code>input:(Hello World) output:(hElLo wOrLd)\ninput:(Even) output:(evEn)\n</code></pre>\n<p>i know that the reason i get what i get is because of returned_str.length() %2 !=0 giving odd numbers and if use == it does it for even strings. is there a way to do both or know when to use the appropriate one base on the first call? the thing is i don't know how you would go about alternating between uppercase and lowercase in recursion without having some sort of counter to keep track. Is is possible to set a method that can alternate between upper and lower case, or set a condition that knows when to do so using the length of the string or maybe reading it like a subscript or compare or something?</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1397534675,"post_id":23074446,"comment_id":35264018,"body_markdown":"Show us your `ProductTypeDaoImpl` constructor and all its super constructors.","body":"Show us your <code>ProductTypeDaoImpl</code> constructor and all its super constructors."},{"owner":{"account_id":428959,"reputation":1324,"user_id":811602,"accept_rate":76,"display_name":"user811602"},"score":0,"creation_date":1397535039,"post_id":23074446,"comment_id":35264116,"body_markdown":"Hi Sotirios, I am not defining explicit constructor for any class.","body":"Hi Sotirios, I am not defining explicit constructor for any class."},{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1397535085,"post_id":23074446,"comment_id":35264130,"body_markdown":"Post the rest of the stack trace.","body":"Post the rest of the stack trace."},{"owner":{"account_id":428959,"reputation":1324,"user_id":811602,"accept_rate":76,"display_name":"user811602"},"score":0,"creation_date":1397535431,"post_id":23074446,"comment_id":35264225,"body_markdown":"I have posted stacktrace in main question. I don&#39;t know whether it is right practice in SO.","body":"I have posted stacktrace in main question. I don&#39;t know whether it is right practice in SO."},{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1397535516,"post_id":23074446,"comment_id":35264244,"body_markdown":"You just gotta format it. I want to see the `GenericDaoImpl` class.","body":"You just gotta format it. I want to see the <code>GenericDaoImpl</code> class."},{"owner":{"account_id":428959,"reputation":1324,"user_id":811602,"accept_rate":76,"display_name":"user811602"},"score":0,"creation_date":1397536107,"post_id":23074446,"comment_id":35264399,"body_markdown":"my mistake. GenericDaoImpl has constructor. i missed that","body":"my mistake. GenericDaoImpl has constructor. i missed that"}],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1397536561,"creation_date":1397536561,"answer_id":23074759,"question_id":23074446,"body_markdown":"In this class declaration\r\n\r\n    public class ProductTypeDaoImpl extends GenericDaoImpl implements ProductTypeDao\r\n\r\nyou&#39;re using `GenericDaoImpl` and `ProductTypeDao` as raw types. [Start by reading why you shouldn&#39;t use them.][1]\r\n\r\nThe fact that you are using raw types causes problems here\r\n\r\n    ParameterizedType genericSuperclass = (ParameterizedType) getClass().getGenericSuperclass();\r\n\r\nwhere `getGenericSuperclass()` will return a `Class` instance since `GenericDaoImpl`, in \r\n\r\n    public class ProductTypeDaoImpl extends GenericDaoImpl implements ProductTypeDao\r\n\r\nis not parameterized and therefore isn&#39;t a `ParameterizedType`. The cast then fails.\r\n\r\nThe solution is to parameterize the two types in your class declaration. It&#39;s not immediately obvious from your code what those type arguments should be, but `GenericTypeDao` should probably take `ProductTypeDomain`\r\n\r\n    public class ProductTypeDaoImpl extends GenericDaoImpl&lt;ProductTypeDomain&gt; implements ProductTypeDao\r\n\r\nand your interface `ProductTypeDao` should probably be declared as \r\n\r\n    public interface ProductTypeDao extends GenericDao&lt;ProductTypeDomain&gt; {\r\n\r\n  [1]: https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it","title":"java.lang.ClassCastException: java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType","body":"<p>In this class declaration</p>\n\n<pre><code>public class ProductTypeDaoImpl extends GenericDaoImpl implements ProductTypeDao\n</code></pre>\n\n<p>you're using <code>GenericDaoImpl</code> and <code>ProductTypeDao</code> as raw types. <a href=\"https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it\">Start by reading why you shouldn't use them.</a></p>\n\n<p>The fact that you are using raw types causes problems here</p>\n\n<pre><code>ParameterizedType genericSuperclass = (ParameterizedType) getClass().getGenericSuperclass();\n</code></pre>\n\n<p>where <code>getGenericSuperclass()</code> will return a <code>Class</code> instance since <code>GenericDaoImpl</code>, in </p>\n\n<pre><code>public class ProductTypeDaoImpl extends GenericDaoImpl implements ProductTypeDao\n</code></pre>\n\n<p>is not parameterized and therefore isn't a <code>ParameterizedType</code>. The cast then fails.</p>\n\n<p>The solution is to parameterize the two types in your class declaration. It's not immediately obvious from your code what those type arguments should be, but <code>GenericTypeDao</code> should probably take <code>ProductTypeDomain</code></p>\n\n<pre><code>public class ProductTypeDaoImpl extends GenericDaoImpl&lt;ProductTypeDomain&gt; implements ProductTypeDao\n</code></pre>\n\n<p>and your interface <code>ProductTypeDao</code> should probably be declared as </p>\n\n<pre><code>public interface ProductTypeDao extends GenericDao&lt;ProductTypeDomain&gt; {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7919669,"reputation":1,"user_id":5981059,"display_name":"Evandro Moura"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1456426876,"creation_date":1456411248,"answer_id":35630354,"question_id":23074446,"body_markdown":"This is a solution\r\n\r\n    public TO getTo() throws Exception {\r\n        if(to == null) {\r\n            try {\r\n                to = ((Class&lt;TO&gt;) ((ParameterizedType) this.getClass().getGenericSuperclass())\r\n                        .getActualTypeArguments()[0]).newInstance();\r\n            } catch(ClassCastException cce) {\r\n                cce.printStackTrace();\r\n                to = ((Class&lt;TO&gt;) ((ParameterizedType) (((Class&lt;TO&gt;) this.getClass()\r\n                        .getAnnotatedSuperclass().getType()).getGenericSuperclass()))\r\n                                .getActualTypeArguments()[0]).newInstance();\r\n            }\r\n        }\r\n        return to;\r\n    }","title":"java.lang.ClassCastException: java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType","body":"<p>This is a solution</p>\n\n<pre><code>public TO getTo() throws Exception {\n    if(to == null) {\n        try {\n            to = ((Class&lt;TO&gt;) ((ParameterizedType) this.getClass().getGenericSuperclass())\n                    .getActualTypeArguments()[0]).newInstance();\n        } catch(ClassCastException cce) {\n            cce.printStackTrace();\n            to = ((Class&lt;TO&gt;) ((ParameterizedType) (((Class&lt;TO&gt;) this.getClass()\n                    .getAnnotatedSuperclass().getType()).getGenericSuperclass()))\n                            .getActualTypeArguments()[0]).newInstance();\n        }\n    }\n    return to;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11516344,"reputation":1697,"user_id":8439604,"display_name":"Abdul Mateen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1677993390,"creation_date":1677993390,"answer_id":75640345,"question_id":23074446,"body_markdown":"If anyone found this exception after enabling R8, maybe you need to add the following line in progaurd-rules.pro file\r\n\r\n**-keep,allowobfuscation,allowshrinking class kotlin.coroutines.Continuation**","title":"java.lang.ClassCastException: java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType","body":"<p>If anyone found this exception after enabling R8, maybe you need to add the following line in progaurd-rules.pro file</p>\n<p><strong>-keep,allowobfuscation,allowshrinking class kotlin.coroutines.Continuation</strong></p>\n"}],"owner":{"account_id":428959,"reputation":1324,"user_id":811602,"accept_rate":76,"display_name":"user811602"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38770,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":23074759,"answer_count":3,"score":7,"last_activity_date":1677993390,"creation_date":1397534610,"question_id":23074446,"body_markdown":"I have created hierarchy of interface and classes using generic and messed up everything.\r\n&lt;br&gt;\r\nTopmost class is AbstractJpaEntity which is extended by all domain entity\r\n\r\n    @MappedSuperclass\r\n    @EntityListeners({AbstractJpaEntity.AbstractEntityListener.class})\r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    public class AbstractJpaEntity implements Serializable\r\n\r\nProductTypeDomain class is like marker class to separate out few table entity.\r\n \r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    @MappedSuperclass\r\n    @EntityListeners({ ProductTypeDomain.AbstractEntityListener.class })\r\n    public class ProductTypeDomain extends AbstractJpaEntity{}\r\n\r\nInterface &quot;GenericDao&quot; definition\r\n\r\n    public interface GenericDao&lt;T&gt; {...\r\nAbstract class GenericDaoImpl(this class has general purpose function like persist, merge)\r\n\r\n    public abstract class GenericDaoImpl&lt;T extends AbstractJpaEntity&gt; implements GenericDao&lt;T&gt; {...\r\n\r\nInterface ProductTypeDao\r\n\r\n    public interface ProductTypeDao&lt;T extends ProductTypeDomain&gt; extends GenericDao&lt;T&gt; {\r\n\r\nSpring repository class ProductTypeDaoImpl\r\n\r\n    @Repository(&quot;productTypeDao&quot;)\r\n    public class ProductTypeDaoImpl extends GenericDaoImpl implements ProductTypeDao\r\n    {....\r\n\r\n\r\nIn spring service class ProductManagerServiceimpl, I am autowiring repository productTypeDao\r\n\r\n    @Service(&quot;productManager&quot;)\r\n    public class ProductManagerServiceimpl implements ProductManagerService{\r\n        @Autowired\r\n        ProductTypeDao productTypeDao;\r\n\r\n\r\nOn running code, it is giving me following error\r\n\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: com.jodo.cms.service.ProductManagerService com.jodo.cms.controllers.ProductController.productManager; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;productManager&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: com.jodo.cms.dao.ProductTypeDao com.jodo.cms.service.impl.ProductManagerServiceimpl.productTypeDao; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;productTypeDao&#39; defined in file [/home/jodo/Server/Tomcat/webapps/jodocms/WEB-INF/classes/com/jodo/cms/dao/impl/ProductTypeDaoImpl.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: **Could not instantiate bean class [com.jodo.cms.dao.impl.ProductTypeDaoImpl]: Constructor threw exception; nested exception is java.lang.ClassCastException: java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType**\r\n\r\n    Full Stacktrace is\r\n    -------------------------------\r\n    09:24:29,443  INFO XmlWebApplicationContext:1020 - Closing Root WebApplicationContext: startup date [Tue Apr 15 08:38:10 IST 2014]; root of context hierarchy\r\n    09:24:29,445  INFO DefaultListableBeanFactory:433 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@153a859b: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,productTypeDao,productEntityDao,productCategoryDao,categoryTreeDao,categoryEntityDao,categoryManager,productManager,dataSource,entityManagerFactory,transactionManager,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,log4jInitialization,org.springframework.context.annotation.ConfigurationClassPostProcessor$ImportAwareBeanPostProcessor#0]; root of factory hierarchy\r\n    09:24:29,460  INFO LocalContainerEntityManagerFactoryBean:441 - Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    09:24:29,461  INFO SessionFactoryImpl:927 - closing\r\n    09:24:41,129  INFO DefaultListableBeanFactory:433 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@c27de92: defining beans [productController,categoryController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.context.annotation.ConfigurationClassPostProcessor$ImportAwareBeanPostProcessor#0]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@5803bbcc\r\n    09:24:41,134 ERROR DispatcherServlet:457 - Context initialization failed\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;productController&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: com.jodo.cms.service.ProductManagerService com.jodo.cms.controllers.ProductController.productManager; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;productManager&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: com.jodo.cms.dao.ProductTypeDao com.jodo.cms.service.impl.ProductManagerServiceimpl.productTypeDao; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;productTypeDao&#39; defined in file [/home/jodo/Server/Tomcat/webapps/jodocms/WEB-INF/classes/com/jodo/cms/dao/impl/ProductTypeDaoImpl.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class \r\n    \r\n        [com.jodo.cms.dao.impl.ProductTypeDaoImpl]: Constructor threw exception; nested exception is java.lang.ClassCastException: java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType\r\n        \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:287)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1106)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)\r\n        \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\r\n        \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:585)\r\n        \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:913)\r\n        \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:464)\r\n        \tat org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:631)\r\n        \tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:588)\r\n        \tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:645)\r\n        \tat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:508)\r\n        \tat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:449)\r\n        \tat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:133)\r\n        \tat javax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n        \tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1279)\r\n        \tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1192)\r\n        \tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1087)\r\n        \tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5210)\r\n        \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5493)\r\n        \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n        \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)\r\n        \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)\r\n        \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:632)\r\n        \tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1073)\r\n        \tat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1857)\r\n        \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\r\n        \tat java.util.concurrent.FutureTask.run(FutureTask.java:262)\r\n        \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n        \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n        \tat java.lang.Thread.run(Thread.java:744)\r\n        Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: com.jodo.cms.service.ProductManagerService com.jodo.cms.controllers.ProductController.productManager; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;productManager&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: com.jodo.cms.dao.ProductTypeDao com.jodo.cms.service.impl.ProductManagerServiceimpl.productTypeDao; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;productTypeDao&#39; defined in file [/home/jodo/Server/Tomcat/webapps/jodocms/WEB-INF/classes/com/jodo/cms/dao/impl/ProductTypeDaoImpl.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.jodo.cms.dao.impl.ProductTypeDaoImpl]: Constructor threw exception; nested exception is java.lang.ClassCastException: java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType\r\n        \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:506)\r\n        \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)\r\n        \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:284)\r\n        \t... 33 more\r\n        Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;productManager&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: com.jodo.cms.dao.ProductTypeDao com.jodo.cms.service.impl.ProductManagerServiceimpl.productTypeDao; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;productTypeDao&#39; defined in file [/home/jodo/Server/Tomcat/webapps/jodocms/WEB-INF/classes/com/jodo/cms/dao/impl/ProductTypeDaoImpl.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.jodo.cms.dao.impl.ProductTypeDaoImpl]: Constructor threw exception; nested exception is java.lang.ClassCastException: java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType\r\n        \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:287)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1106)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)\r\n        \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:269)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\r\n        \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:848)\r\n        \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:790)\r\n        \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:707)\r\n        \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:478)\r\n        \t... 35 more\r\n        Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: com.jodo.cms.dao.ProductTypeDao com.jodo.cms.service.impl.ProductManagerServiceimpl.productTypeDao; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;productTypeDao&#39; defined in file [/home/jodo/Server/Tomcat/webapps/jodocms/WEB-INF/classes/com/jodo/cms/dao/impl/ProductTypeDaoImpl.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.jodo.cms.dao.impl.ProductTypeDaoImpl]: Constructor threw exception; nested exception is java.lang.ClassCastException: java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType\r\n        \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:506)\r\n        \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)\r\n        \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:284)\r\n        \t... 48 more\r\n        Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;productTypeDao&#39; defined in file [/home/jodo/Server/Tomcat/webapps/jodocms/WEB-INF/classes/com/jodo/cms/dao/impl/ProductTypeDaoImpl.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.jodo.cms.dao.impl.ProductTypeDaoImpl]: Constructor threw exception; nested exception is java.lang.ClassCastException: java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:997)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:943)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:485)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)\r\n        \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)\r\n        \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\r\n        \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:848)\r\n        \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:790)\r\n        \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:707)\r\n        \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:478)\r\n        \t... 50 more\r\n        Caused by: org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.jodo.cms.dao.impl.ProductTypeDaoImpl]: Constructor threw exception; nested exception is java.lang.ClassCastException: java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType\r\n        \tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:162)\r\n        \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:76)\r\n        \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:990)\r\n        \t... 61 more\r\n        Caused by: java.lang.ClassCastException: java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType\r\n        \tat com.jodo.cms.dao.impl.GenericDaoImpl.&lt;init&gt;(GenericDaoImpl.java:42)\r\n        \tat com.jodo.cms.dao.impl.ProductTypeDaoImpl.&lt;init&gt;(ProductTypeDaoImpl.java:19)\r\n        \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\r\n        \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        \tat java.lang.reflect.Constructor.newInstance(Constructor.java:526)\r\n        \tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:147)\r\n        \t... 63 more\r\n\r\n&lt;br&gt;\r\n\r\nclass GenericDaoImpl details\r\n\r\n    public abstract class GenericDaoImpl&lt;T extends AbstractJpaEntity&gt; implements GenericDao&lt;T&gt; {\r\n    protected Class&lt;T&gt; entityClass;\r\n    Logger logger = Logger.getLogger(GenericDaoImpl.class);\r\n    @PersistenceContext\r\n    protected EntityManager em;\r\n        public EntityManager getEntityManager() {\r\n            return this.em;\r\n        }\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public GenericDaoImpl() {\r\n            ParameterizedType genericSuperclass = (ParameterizedType) getClass().getGenericSuperclass();\r\n            this.entityClass = (Class&lt;T&gt;) genericSuperclass.getActualTypeArguments()[0];\r\n        }\r\n\r\n    public void persist(T entity) throws JodoException {\r\n        try {\r\n            em.persist(entity);\r\n            em.flush();\r\n        } catch (ConstraintViolationException cve) {\r\n            throw new JodoException(cve.getCause(), &quot;constraints violated&quot;, cve);\r\n        }\r\n    }...\r\n\t\r\n&lt;br&gt;\r\nI cannot change AbstractJpaEntity, GenericDao and GenericDaoImpl, as it is already used for merging many other entities which are not extending ProductTypeDomain.\r\n&lt;br&gt;\r\n\r\nThanks\r\n\r\n\r\n\r\n","title":"java.lang.ClassCastException: java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType","body":"<p>I have created hierarchy of interface and classes using generic and messed up everything.\n<br>\nTopmost class is AbstractJpaEntity which is extended by all domain entity</p>\n\n<pre><code>@MappedSuperclass\n@EntityListeners({AbstractJpaEntity.AbstractEntityListener.class})\n@SuppressWarnings(\"serial\")\npublic class AbstractJpaEntity implements Serializable\n</code></pre>\n\n<p>ProductTypeDomain class is like marker class to separate out few table entity.</p>\n\n<pre><code>@SuppressWarnings(\"serial\")\n@MappedSuperclass\n@EntityListeners({ ProductTypeDomain.AbstractEntityListener.class })\npublic class ProductTypeDomain extends AbstractJpaEntity{}\n</code></pre>\n\n<p>Interface \"GenericDao\" definition</p>\n\n<pre><code>public interface GenericDao&lt;T&gt; {...\n</code></pre>\n\n<p>Abstract class GenericDaoImpl(this class has general purpose function like persist, merge)</p>\n\n<pre><code>public abstract class GenericDaoImpl&lt;T extends AbstractJpaEntity&gt; implements GenericDao&lt;T&gt; {...\n</code></pre>\n\n<p>Interface ProductTypeDao</p>\n\n<pre><code>public interface ProductTypeDao&lt;T extends ProductTypeDomain&gt; extends GenericDao&lt;T&gt; {\n</code></pre>\n\n<p>Spring repository class ProductTypeDaoImpl</p>\n\n<pre><code>@Repository(\"productTypeDao\")\npublic class ProductTypeDaoImpl extends GenericDaoImpl implements ProductTypeDao\n{....\n</code></pre>\n\n<p>In spring service class ProductManagerServiceimpl, I am autowiring repository productTypeDao</p>\n\n<pre><code>@Service(\"productManager\")\npublic class ProductManagerServiceimpl implements ProductManagerService{\n    @Autowired\n    ProductTypeDao productTypeDao;\n</code></pre>\n\n<p>On running code, it is giving me following error</p>\n\n<p>Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: com.jodo.cms.service.ProductManagerService com.jodo.cms.controllers.ProductController.productManager; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productManager': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: com.jodo.cms.dao.ProductTypeDao com.jodo.cms.service.impl.ProductManagerServiceimpl.productTypeDao; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productTypeDao' defined in file [/home/jodo/Server/Tomcat/webapps/jodocms/WEB-INF/classes/com/jodo/cms/dao/impl/ProductTypeDaoImpl.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: <strong>Could not instantiate bean class [com.jodo.cms.dao.impl.ProductTypeDaoImpl]: Constructor threw exception; nested exception is java.lang.ClassCastException: java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType</strong></p>\n\n<pre><code>Full Stacktrace is\n-------------------------------\n09:24:29,443  INFO XmlWebApplicationContext:1020 - Closing Root WebApplicationContext: startup date [Tue Apr 15 08:38:10 IST 2014]; root of context hierarchy\n09:24:29,445  INFO DefaultListableBeanFactory:433 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@153a859b: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,productTypeDao,productEntityDao,productCategoryDao,categoryTreeDao,categoryEntityDao,categoryManager,productManager,dataSource,entityManagerFactory,transactionManager,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,log4jInitialization,org.springframework.context.annotation.ConfigurationClassPostProcessor$ImportAwareBeanPostProcessor#0]; root of factory hierarchy\n09:24:29,460  INFO LocalContainerEntityManagerFactoryBean:441 - Closing JPA EntityManagerFactory for persistence unit 'default'\n09:24:29,461  INFO SessionFactoryImpl:927 - closing\n09:24:41,129  INFO DefaultListableBeanFactory:433 - Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@c27de92: defining beans [productController,categoryController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.validation.beanvalidation.LocalValidatorFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.context.annotation.ConfigurationClassPostProcessor$ImportAwareBeanPostProcessor#0]; parent: org.springframework.beans.factory.support.DefaultListableBeanFactory@5803bbcc\n09:24:41,134 ERROR DispatcherServlet:457 - Context initialization failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productController': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: com.jodo.cms.service.ProductManagerService com.jodo.cms.controllers.ProductController.productManager; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productManager': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: com.jodo.cms.dao.ProductTypeDao com.jodo.cms.service.impl.ProductManagerServiceimpl.productTypeDao; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productTypeDao' defined in file [/home/jodo/Server/Tomcat/webapps/jodocms/WEB-INF/classes/com/jodo/cms/dao/impl/ProductTypeDaoImpl.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class \n\n    [com.jodo.cms.dao.impl.ProductTypeDaoImpl]: Constructor threw exception; nested exception is java.lang.ClassCastException: java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:287)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1106)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:585)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:913)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:464)\n        at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:631)\n        at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:588)\n        at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:645)\n        at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:508)\n        at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:449)\n        at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:133)\n        at javax.servlet.GenericServlet.init(GenericServlet.java:158)\n        at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1279)\n        at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1192)\n        at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1087)\n        at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5210)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5493)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:632)\n        at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1073)\n        at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1857)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:262)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n        at java.lang.Thread.run(Thread.java:744)\n    Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: com.jodo.cms.service.ProductManagerService com.jodo.cms.controllers.ProductController.productManager; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productManager': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: com.jodo.cms.dao.ProductTypeDao com.jodo.cms.service.impl.ProductManagerServiceimpl.productTypeDao; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productTypeDao' defined in file [/home/jodo/Server/Tomcat/webapps/jodocms/WEB-INF/classes/com/jodo/cms/dao/impl/ProductTypeDaoImpl.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.jodo.cms.dao.impl.ProductTypeDaoImpl]: Constructor threw exception; nested exception is java.lang.ClassCastException: java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:506)\n        at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:284)\n        ... 33 more\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productManager': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: com.jodo.cms.dao.ProductTypeDao com.jodo.cms.service.impl.ProductManagerServiceimpl.productTypeDao; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productTypeDao' defined in file [/home/jodo/Server/Tomcat/webapps/jodocms/WEB-INF/classes/com/jodo/cms/dao/impl/ProductTypeDaoImpl.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.jodo.cms.dao.impl.ProductTypeDaoImpl]: Constructor threw exception; nested exception is java.lang.ClassCastException: java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:287)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1106)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:517)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:269)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:848)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:790)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:707)\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:478)\n        ... 35 more\n    Caused by: org.springframework.beans.factory.BeanCreationException: Could not autowire field: com.jodo.cms.dao.ProductTypeDao com.jodo.cms.service.impl.ProductManagerServiceimpl.productTypeDao; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productTypeDao' defined in file [/home/jodo/Server/Tomcat/webapps/jodocms/WEB-INF/classes/com/jodo/cms/dao/impl/ProductTypeDaoImpl.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.jodo.cms.dao.impl.ProductTypeDaoImpl]: Constructor threw exception; nested exception is java.lang.ClassCastException: java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:506)\n        at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:87)\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:284)\n        ... 48 more\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productTypeDao' defined in file [/home/jodo/Server/Tomcat/webapps/jodocms/WEB-INF/classes/com/jodo/cms/dao/impl/ProductTypeDaoImpl.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.jodo.cms.dao.impl.ProductTypeDaoImpl]: Constructor threw exception; nested exception is java.lang.ClassCastException: java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:997)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:943)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:485)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:294)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:225)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:193)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:848)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:790)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:707)\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:478)\n        ... 50 more\n    Caused by: org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [com.jodo.cms.dao.impl.ProductTypeDaoImpl]: Constructor threw exception; nested exception is java.lang.ClassCastException: java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:162)\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:76)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:990)\n        ... 61 more\n    Caused by: java.lang.ClassCastException: java.lang.Class cannot be cast to java.lang.reflect.ParameterizedType\n        at com.jodo.cms.dao.impl.GenericDaoImpl.&lt;init&gt;(GenericDaoImpl.java:42)\n        at com.jodo.cms.dao.impl.ProductTypeDaoImpl.&lt;init&gt;(ProductTypeDaoImpl.java:19)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:526)\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:147)\n        ... 63 more\n</code></pre>\n\n<p><br></p>\n\n<p>class GenericDaoImpl details</p>\n\n<pre><code>public abstract class GenericDaoImpl&lt;T extends AbstractJpaEntity&gt; implements GenericDao&lt;T&gt; {\nprotected Class&lt;T&gt; entityClass;\nLogger logger = Logger.getLogger(GenericDaoImpl.class);\n@PersistenceContext\nprotected EntityManager em;\n    public EntityManager getEntityManager() {\n        return this.em;\n    }\n    @SuppressWarnings(\"unchecked\")\n    public GenericDaoImpl() {\n        ParameterizedType genericSuperclass = (ParameterizedType) getClass().getGenericSuperclass();\n        this.entityClass = (Class&lt;T&gt;) genericSuperclass.getActualTypeArguments()[0];\n    }\n\npublic void persist(T entity) throws JodoException {\n    try {\n        em.persist(entity);\n        em.flush();\n    } catch (ConstraintViolationException cve) {\n        throw new JodoException(cve.getCause(), \"constraints violated\", cve);\n    }\n}...\n</code></pre>\n\n<p><br>\nI cannot change AbstractJpaEntity, GenericDao and GenericDaoImpl, as it is already used for merging many other entities which are not extending ProductTypeDomain.\n<br></p>\n\n<p>Thanks</p>\n"},{"tags":["java","maven","tomcat","jar"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1671970748,"post_id":74913190,"comment_id":132202225,"body_markdown":"Hi, Welcome, merry Xmas... Who added &quot;tomcat-embed-jasper&quot;? With what reason? Please explain also the (two, very) different jstl versions!","body":"Hi, Welcome, merry Xmas... Who added &quot;tomcat-embed-jasper&quot;? With what reason? Please explain also the (two, very) different jstl versions!"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1671975639,"post_id":74913190,"comment_id":132202868,"body_markdown":"AFAIK, since you need JSP support you need to build war, regular spring-boot fat/executable jars do not support JSP","body":"AFAIK, since you need JSP support you need to build war, regular spring-boot fat/executable jars do not support JSP"},{"owner":{"account_id":27348817,"reputation":61,"user_id":20858311,"display_name":"Joni Jansson"},"score":0,"creation_date":1671977139,"post_id":74913190,"comment_id":132203062,"body_markdown":"@xerx593 Thank you and merry Xmas to you too! tomcat-embed-jasper is needed render JSPs to my knowledge since spring-boot-starter-tomcat doesn&#39;t have it. jakarta.servlet.jsp.jstl-api was indeed not needed and I removed it. Thanks.","body":"@xerx593 Thank you and merry Xmas to you too! tomcat-embed-jasper is needed render JSPs to my knowledge since spring-boot-starter-tomcat doesn&#39;t have it. jakarta.servlet.jsp.jstl-api was indeed not needed and I removed it. Thanks."},{"owner":{"account_id":27348817,"reputation":61,"user_id":20858311,"display_name":"Joni Jansson"},"score":0,"creation_date":1671977275,"post_id":74913190,"comment_id":132203086,"body_markdown":"@AndreyB.Panfilov thanks for the idea and merry Xmas. I&#39;ll try creating war instead when I have the time.","body":"@AndreyB.Panfilov thanks for the idea and merry Xmas. I&#39;ll try creating war instead when I have the time."},{"owner":{"account_id":1129838,"reputation":1754,"user_id":1116197,"accept_rate":45,"display_name":"Mark"},"score":1,"creation_date":1672842296,"post_id":74913190,"comment_id":132363969,"body_markdown":"Spring Boot does support using JSP in an executable WAR file.  This worked fine with 2.x, but appears to be a known issue with 3.0: https://github.com/spring-projects/spring-boot/issues/33633","body":"Spring Boot does support using JSP in an executable WAR file.  This worked fine with 2.x, but appears to be a known issue with 3.0: <a href=\"https://github.com/spring-projects/spring-boot/issues/33633\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/33633</a>"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1674094048,"post_id":74913190,"comment_id":132643710,"body_markdown":"https://github.com/spring-projects/spring-boot/issues/33633 , wilkinsona , answer, add `-Djdk.util.jar.enableMultiRelease=false` , can fix the problem, `java -Djdk.util.jar.enableMultiRelease=false  -jar target/demo-springboot-jsp.war`","body":"<a href=\"https://github.com/spring-projects/spring-boot/issues/33633\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/33633</a> , wilkinsona , answer, add <code>-Djdk.util.jar.enableMultiRelease=false</code> , can fix the problem, <code>java -Djdk.util.jar.enableMultiRelease=false  -jar target&#47;demo-springboot-jsp.war</code>"}],"answers":[{"tags":[],"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671981259,"creation_date":1671981259,"answer_id":74914138,"question_id":74913190,"body_markdown":"# Add packaging war\r\n\r\n**`&lt;packaging&gt;war&lt;/packaging&gt;`**\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;    &lt;parent&gt;\r\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n              &lt;version&gt;3.0.1&lt;/version&gt;\r\n              &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;    \r\n    &lt;/parent&gt;    \r\n    &lt;groupId&gt;fi.jonij&lt;/groupId&gt;    \r\n    &lt;artifactId&gt;portfolio-backend&lt;/artifactId&gt;  \r\n    &lt;packaging&gt;war&lt;/packaging&gt;  \r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;    \r\n    &lt;name&gt;portfolio-backend&lt;/name&gt;   \r\n\r\n# Maven build\r\n\r\n    mvn clean package\r\n\r\n# Run\r\n\r\n    cd target \r\n    java -jar portfolio-backend-0.0.1-SNAPSHOT.war","title":"Spring boot app&#39;s .jar not working (issue with tomcat-embed-jasper)","body":"<h1>Add packaging war</h1>\n<p><strong><code>&lt;packaging&gt;war&lt;/packaging&gt;</code></strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;    &lt;parent&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n          &lt;version&gt;3.0.1&lt;/version&gt;\n          &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;    \n&lt;/parent&gt;    \n&lt;groupId&gt;fi.jonij&lt;/groupId&gt;    \n&lt;artifactId&gt;portfolio-backend&lt;/artifactId&gt;  \n&lt;packaging&gt;war&lt;/packaging&gt;  \n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;    \n&lt;name&gt;portfolio-backend&lt;/name&gt;   \n</code></pre>\n<h1>Maven build</h1>\n<pre><code>mvn clean package\n</code></pre>\n<h1>Run</h1>\n<pre><code>cd target \njava -jar portfolio-backend-0.0.1-SNAPSHOT.war\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27361887,"reputation":79,"user_id":20869368,"display_name":"Prospero"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1672161135,"creation_date":1672161135,"answer_id":74932234,"question_id":74913190,"body_markdown":"I faced exactly the same problem (java -jar myWarFile.war generate the same error stack as yours). So far I didn&#39;t find a solution, just the following workaround:\r\n\r\n 1. Unzip the war file in a folder of your own\r\n 2. To run the application open a command line in this folder and type the following:\r\n```\r\njava org/springframework/boot/loader/WarLauncher\r\n```\r\n\r\nAlso, I made the following investigations, all in vain:\r\n\r\n - I checked each and every jar file in the war file and none is corrupt\r\n - I tried different versions of Maven, same problem \r\n - I was able to run the application from my development environment (Eclipse) and from the command line using the following:\r\n```\r\nmvn -o spring-boot:run \r\n```\r\n - I tried to recreate the war file manually by using the jar command or 7zip: same problem\r\n\r\nThere&#39;s probably something wrong in the code of one of the JAR, probably one related to Spring or Tomcat. ","title":"Spring boot app&#39;s .jar not working (issue with tomcat-embed-jasper)","body":"<p>I faced exactly the same problem (java -jar myWarFile.war generate the same error stack as yours). So far I didn't find a solution, just the following workaround:</p>\n<ol>\n<li>Unzip the war file in a folder of your own</li>\n<li>To run the application open a command line in this folder and type the following:</li>\n</ol>\n<pre><code>java org/springframework/boot/loader/WarLauncher\n</code></pre>\n<p>Also, I made the following investigations, all in vain:</p>\n<ul>\n<li>I checked each and every jar file in the war file and none is corrupt</li>\n<li>I tried different versions of Maven, same problem</li>\n<li>I was able to run the application from my development environment (Eclipse) and from the command line using the following:</li>\n</ul>\n<pre><code>mvn -o spring-boot:run \n</code></pre>\n<ul>\n<li>I tried to recreate the war file manually by using the jar command or 7zip: same problem</li>\n</ul>\n<p>There's probably something wrong in the code of one of the JAR, probably one related to Spring or Tomcat.</p>\n"},{"tags":[],"owner":{"account_id":27348817,"reputation":61,"user_id":20858311,"display_name":"Joni Jansson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672168155,"creation_date":1672168155,"answer_id":74933271,"question_id":74913190,"body_markdown":"I ended up changing my Spring Boot version to 2.4.4 since I found a guide that was trying to do the same thing as I was but it used the 2.4.4. Now I have successfully ran the war using &#39;java -jar portfolio-backend.war&#39; -command.\r\n\r\nHere is the link: https://www.baeldung.com/spring-boot-jsp\r\n\r\nI also tried all the things in this guide without changing versions but that didn&#39;t work. I don&#39;t remember if I tried using Spring Boot 3.0.0 with the older Tomcat version in the guide, that might be worth trying if someone is tackling with this same problem.\r\n\r\nChanging to 2.4.4 is not optimal by any means but it works for my project and this was a learning experience if nothing else.\r\n\r\nChanging from 3.0.0 to 2.4.4 did break things like entity validation and jstl, but adding javax.servlet jstl and javax.persistence-api fixed those issues.\r\n\r\nHere is my final pom.xml: \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.4.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;fi.jonij&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;portfolio-backend&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;portfolio-backend&lt;/name&gt;\r\n\t&lt;description&gt;portfolio-backend&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.11.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;9.0.44&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.31&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t\t&lt;finalName&gt;portfolio-backend&lt;/finalName&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"Spring boot app&#39;s .jar not working (issue with tomcat-embed-jasper)","body":"<p>I ended up changing my Spring Boot version to 2.4.4 since I found a guide that was trying to do the same thing as I was but it used the 2.4.4. Now I have successfully ran the war using 'java -jar portfolio-backend.war' -command.</p>\n<p>Here is the link: <a href=\"https://www.baeldung.com/spring-boot-jsp\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-jsp</a></p>\n<p>I also tried all the things in this guide without changing versions but that didn't work. I don't remember if I tried using Spring Boot 3.0.0 with the older Tomcat version in the guide, that might be worth trying if someone is tackling with this same problem.</p>\n<p>Changing to 2.4.4 is not optimal by any means but it works for my project and this was a learning experience if nothing else.</p>\n<p>Changing from 3.0.0 to 2.4.4 did break things like entity validation and jstl, but adding javax.servlet jstl and javax.persistence-api fixed those issues.</p>\n<p>Here is my final pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;fi.jonij&lt;/groupId&gt;\n    &lt;artifactId&gt;portfolio-backend&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;portfolio-backend&lt;/name&gt;\n    &lt;description&gt;portfolio-backend&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;version&gt;9.0.44&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.31&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\n            &lt;version&gt;5.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;finalName&gt;portfolio-backend&lt;/finalName&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":153280,"reputation":2419,"user_id":368416,"accept_rate":58,"display_name":"singhspk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677990294,"creation_date":1677990294,"answer_id":75640184,"question_id":74913190,"body_markdown":"The only thing that worked for me was setting the system property jdk.util.jar.enableMultiRelease to false.\r\n\r\n\r\n```java -Djdk.util.jar.enableMultiRelease=false -jar my-war.war```\r\n\r\nGot the hint from [here](https://github.com/spring-projects/spring-boot/issues/33633#issuecomment-1387483580).","title":"Spring boot app&#39;s .jar not working (issue with tomcat-embed-jasper)","body":"<p>The only thing that worked for me was setting the system property jdk.util.jar.enableMultiRelease to false.</p>\n<p><code>java -Djdk.util.jar.enableMultiRelease=false -jar my-war.war</code></p>\n<p>Got the hint from <a href=\"https://github.com/spring-projects/spring-boot/issues/33633#issuecomment-1387483580\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":27348817,"reputation":61,"user_id":20858311,"display_name":"Joni Jansson"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1623,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1677990294,"creation_date":1671970012,"question_id":74913190,"body_markdown":"I&#39;m rather new to Spring boot and Maven. I have an issue when trying to run my executable .jar. My end goal is to create a docker image of the .jar so that I can deploy my app. \r\n\r\nWhen I do mvn clean install I get .jar of my application but when I try to execute that .jar I get this error:\r\n\r\n```\r\n2022-12-25T13:11:48.421+02:00 ERROR 11132 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.context.ApplicationContextException: Unable to start web server\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:164) ~[spring-boot-3.0.0.jar!/:3.0.0]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:578) ~[spring-context-6.0.2.jar!/:6.0.2]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.0.jar!/:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.0.jar!/:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.0.jar!/:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.0.jar!/:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.0.jar!/:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.0.jar!/:3.0.0]\r\n\tat fi.jonij.portfoliobackend.PortfolioBackendApplication.main(PortfolioBackendApplication.java:13) ~[classes!/:0.0.1-SNAPSHOT]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[portfolio-backend.jar:0.0.1-SNAPSHOT]\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[portfolio-backend.jar:0.0.1-SNAPSHOT]\r\n\tat org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[portfolio-backend.jar:0.0.1-SNAPSHOT]\r\n\tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[portfolio-backend.jar:0.0.1-SNAPSHOT]\r\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:148) ~[spring-boot-3.0.0.jar!/:3.0.0]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:110) ~[spring-boot-3.0.0.jar!/:3.0.0]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:486) ~[spring-boot-3.0.0.jar!/:3.0.0]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:210) ~[spring-boot-3.0.0.jar!/:3.0.0]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183) ~[spring-boot-3.0.0.jar!/:3.0.0]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161) ~[spring-boot-3.0.0.jar!/:3.0.0]\r\n\t... 16 common frames omitted\r\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:938) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:252) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:926) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:485) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:129) ~[spring-boot-3.0.0.jar!/:3.0.0]\r\n\t... 21 common frames omitted\r\nCaused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start\r\n\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:na]\r\n\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191) ~[na:na]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\t... 29 common frames omitted\r\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:938) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:886) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\t... 29 common frames omitted\r\nCaused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\r\n\tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:na]\r\n\tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191) ~[na:na]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\t... 37 common frames omitted\r\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\r\n\tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\t... 37 common frames omitted\r\nCaused by: java.lang.IllegalStateException: zip file closed\r\n\tat java.base/java.util.zip.ZipFile.ensureOpen(ZipFile.java:831) ~[na:na]\r\n\tat java.base/java.util.zip.ZipFile.getManifestName(ZipFile.java:1057) ~[na:na]\r\n\tat java.base/java.util.zip.ZipFile$1.getManifestName(ZipFile.java:1100) ~[na:na]\r\n\tat java.base/java.util.jar.JarFile.getManEntry(JarFile.java:937) ~[na:na]\r\n\tat java.base/java.util.jar.JarFile.checkForSpecialAttributes(JarFile.java:1000) ~[na:na]\r\n\tat java.base/java.util.jar.JarFile.isMultiRelease(JarFile.java:389) ~[na:na]\r\n\tat org.apache.tomcat.util.scan.JarFileUrlJar.&lt;init&gt;(JarFileUrlJar.java:68) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\tat org.apache.tomcat.util.scan.JarFactory.newInstance(JarFactory.java:41) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\tat org.apache.tomcat.util.scan.StandardJarScanner.process(StandardJarScanner.java:393) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\tat org.apache.tomcat.util.scan.StandardJarScanner.processURLs(StandardJarScanner.java:328) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\tat org.apache.tomcat.util.scan.StandardJarScanner.doScanClassPath(StandardJarScanner.java:271) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\tat org.apache.tomcat.util.scan.StandardJarScanner.scan(StandardJarScanner.java:234) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\tat org.apache.jasper.servlet.TldScanner.scanJars(TldScanner.java:262) ~[tomcat-embed-jasper-10.1.1.jar!/:na]\r\n\tat org.apache.jasper.servlet.TldScanner.scan(TldScanner.java:104) ~[tomcat-embed-jasper-10.1.1.jar!/:na]\r\n\tat org.apache.jasper.servlet.JasperInitializer.onStartup(JasperInitializer.java:83) ~[tomcat-embed-jasper-10.1.1.jar!/:na]\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5153) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.1.jar!/:na]\r\n\t... 43 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\n\r\nThe Application works fine when I run it with IntelliJ. The .jar runs well also if I remove dependency of tomcat-embed-jasper. However, then I can only access my spring security default login page since all my pages are JSPs and thus I need tomcat-embed-jasper to render those.\r\n\r\nHere is my pom.xml:\r\n\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;    &lt;parent&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0&lt;/version&gt;\r\n          &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;    &lt;/parent&gt;    &lt;groupId&gt;fi.jonij&lt;/groupId&gt;    &lt;artifactId&gt;portfolio-backend&lt;/artifactId&gt;    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;    &lt;name&gt;portfolio-backend&lt;/name&gt;    &lt;description&gt;portfolio-backend&lt;/description&gt;    &lt;properties&gt;\r\n          &lt;java.version&gt;17&lt;/java.version&gt;    &lt;/properties&gt;    &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n             &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n             &lt;version&gt;3.0.0&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n             &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n             &lt;version&gt;3.0.0&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n             &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n             &lt;version&gt;2.11.0&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n             &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n             &lt;version&gt;3.0.0&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n             &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n             &lt;version&gt;3.0.0&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n             &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n             &lt;version&gt;3.0.0&lt;/version&gt;\r\n             &lt;optional&gt;true&lt;/optional&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n             &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n             &lt;scope&gt;provided&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n             &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n             &lt;version&gt;10.1.1&lt;/version&gt;\r\n             &lt;scope&gt;provided&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n             &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n             &lt;version&gt;3.0.0&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n             &lt;artifactId&gt;glassfish-jstl&lt;/artifactId&gt;\r\n             &lt;version&gt;11.0.12&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n             &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n             &lt;version&gt;8.0.31&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n             &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\r\n             &lt;version&gt;5.2.3&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n             &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n             &lt;version&gt;3.0.0&lt;/version&gt;\r\n             &lt;scope&gt;runtime&lt;/scope&gt;\r\n             &lt;optional&gt;true&lt;/optional&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n             &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n             &lt;version&gt;3.0.0&lt;/version&gt;\r\n             &lt;scope&gt;test&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n             &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n             &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n             &lt;version&gt;6.0.0&lt;/version&gt;\r\n             &lt;scope&gt;test&lt;/scope&gt;\r\n          &lt;/dependency&gt;    &lt;/dependencies&gt;\r\n    \r\n       &lt;build&gt;\r\n          &lt;plugins&gt;\r\n             &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n             &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n          &lt;finalName&gt;portfolio-backend&lt;/finalName&gt;    &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n```\r\n\r\n\r\n\r\n\r\nI have already tried changing the scope of dependencies from provided to compile and vice versa. I also checked that the tomcat version is correct in both the spring-boot-starter-tomcat and the tomcat-embed-jasper from org.apache.tomcat.embed.\r\n\r\nI have also tried different maven commands like mvn clean package and mvn -U clean install.\r\n\r\nI also tried disabling scanning of jars with tomcat, that also broke the rendering of JSPs.\r\n\r\nI might be missing something obvious since I&#39;m quite new with Maven and Spring boot. I&#39;d appreciate if someone could share an idea what might be the issue here. Thanks in advance! :)\r\n\r\n","title":"Spring boot app&#39;s .jar not working (issue with tomcat-embed-jasper)","body":"<p>I'm rather new to Spring boot and Maven. I have an issue when trying to run my executable .jar. My end goal is to create a docker image of the .jar so that I can deploy my app.</p>\n<p>When I do mvn clean install I get .jar of my application but when I try to execute that .jar I get this error:</p>\n<pre><code>2022-12-25T13:11:48.421+02:00 ERROR 11132 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.context.ApplicationContextException: Unable to start web server\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:164) ~[spring-boot-3.0.0.jar!/:3.0.0]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:578) ~[spring-context-6.0.2.jar!/:6.0.2]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.0.jar!/:3.0.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.0.jar!/:3.0.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.0.jar!/:3.0.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.0.jar!/:3.0.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.0.jar!/:3.0.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.0.jar!/:3.0.0]\n    at fi.jonij.portfoliobackend.PortfolioBackendApplication.main(PortfolioBackendApplication.java:13) ~[classes!/:0.0.1-SNAPSHOT]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[portfolio-backend.jar:0.0.1-SNAPSHOT]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[portfolio-backend.jar:0.0.1-SNAPSHOT]\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[portfolio-backend.jar:0.0.1-SNAPSHOT]\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[portfolio-backend.jar:0.0.1-SNAPSHOT]\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:148) ~[spring-boot-3.0.0.jar!/:3.0.0]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:110) ~[spring-boot-3.0.0.jar!/:3.0.0]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:486) ~[spring-boot-3.0.0.jar!/:3.0.0]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:210) ~[spring-boot-3.0.0.jar!/:3.0.0]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183) ~[spring-boot-3.0.0.jar!/:3.0.0]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161) ~[spring-boot-3.0.0.jar!/:3.0.0]\n    ... 16 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:938) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:252) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:926) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:485) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:129) ~[spring-boot-3.0.0.jar!/:3.0.0]\n    ... 21 common frames omitted\nCaused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: A child container failed during start\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    ... 29 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: A child container failed during start\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:938) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:886) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    ... 29 common frames omitted\nCaused by: java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    ... 37 common frames omitted\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[]]\n    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    ... 37 common frames omitted\nCaused by: java.lang.IllegalStateException: zip file closed\n    at java.base/java.util.zip.ZipFile.ensureOpen(ZipFile.java:831) ~[na:na]\n    at java.base/java.util.zip.ZipFile.getManifestName(ZipFile.java:1057) ~[na:na]\n    at java.base/java.util.zip.ZipFile$1.getManifestName(ZipFile.java:1100) ~[na:na]\n    at java.base/java.util.jar.JarFile.getManEntry(JarFile.java:937) ~[na:na]\n    at java.base/java.util.jar.JarFile.checkForSpecialAttributes(JarFile.java:1000) ~[na:na]\n    at java.base/java.util.jar.JarFile.isMultiRelease(JarFile.java:389) ~[na:na]\n    at org.apache.tomcat.util.scan.JarFileUrlJar.&lt;init&gt;(JarFileUrlJar.java:68) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at org.apache.tomcat.util.scan.JarFactory.newInstance(JarFactory.java:41) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at org.apache.tomcat.util.scan.StandardJarScanner.process(StandardJarScanner.java:393) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at org.apache.tomcat.util.scan.StandardJarScanner.processURLs(StandardJarScanner.java:328) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at org.apache.tomcat.util.scan.StandardJarScanner.doScanClassPath(StandardJarScanner.java:271) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at org.apache.tomcat.util.scan.StandardJarScanner.scan(StandardJarScanner.java:234) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at org.apache.jasper.servlet.TldScanner.scanJars(TldScanner.java:262) ~[tomcat-embed-jasper-10.1.1.jar!/:na]\n    at org.apache.jasper.servlet.TldScanner.scan(TldScanner.java:104) ~[tomcat-embed-jasper-10.1.1.jar!/:na]\n    at org.apache.jasper.servlet.JasperInitializer.onStartup(JasperInitializer.java:83) ~[tomcat-embed-jasper-10.1.1.jar!/:na]\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5153) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.1.jar!/:na]\n    ... 43 common frames omitted\n\n\nProcess finished with exit code 1\n\n</code></pre>\n<p>The Application works fine when I run it with IntelliJ. The .jar runs well also if I remove dependency of tomcat-embed-jasper. However, then I can only access my spring security default login page since all my pages are JSPs and thus I need tomcat-embed-jasper to render those.</p>\n<p>Here is my pom.xml:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;    &lt;parent&gt;\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0&lt;/version&gt;\n          &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;    &lt;/parent&gt;    &lt;groupId&gt;fi.jonij&lt;/groupId&gt;    &lt;artifactId&gt;portfolio-backend&lt;/artifactId&gt;    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;    &lt;name&gt;portfolio-backend&lt;/name&gt;    &lt;description&gt;portfolio-backend&lt;/description&gt;    &lt;properties&gt;\n          &lt;java.version&gt;17&lt;/java.version&gt;    &lt;/properties&gt;    &lt;dependencies&gt;\n          &lt;dependency&gt;\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n             &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n             &lt;version&gt;3.0.0&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n             &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n             &lt;version&gt;3.0.0&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n             &lt;groupId&gt;commons-io&lt;/groupId&gt;\n             &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n             &lt;version&gt;2.11.0&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n             &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n             &lt;version&gt;3.0.0&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n             &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n             &lt;version&gt;3.0.0&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n             &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n             &lt;version&gt;3.0.0&lt;/version&gt;\n             &lt;optional&gt;true&lt;/optional&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n             &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n             &lt;scope&gt;provided&lt;/scope&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n             &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n             &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n             &lt;version&gt;10.1.1&lt;/version&gt;\n             &lt;scope&gt;provided&lt;/scope&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n             &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n             &lt;version&gt;3.0.0&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n             &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n             &lt;artifactId&gt;glassfish-jstl&lt;/artifactId&gt;\n             &lt;version&gt;11.0.12&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n             &lt;groupId&gt;mysql&lt;/groupId&gt;\n             &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n             &lt;version&gt;8.0.31&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n             &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n             &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\n             &lt;version&gt;5.2.3&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n             &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n             &lt;version&gt;3.0.0&lt;/version&gt;\n             &lt;scope&gt;runtime&lt;/scope&gt;\n             &lt;optional&gt;true&lt;/optional&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n             &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n             &lt;version&gt;3.0.0&lt;/version&gt;\n             &lt;scope&gt;test&lt;/scope&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n             &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n             &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n             &lt;version&gt;6.0.0&lt;/version&gt;\n             &lt;scope&gt;test&lt;/scope&gt;\n          &lt;/dependency&gt;    &lt;/dependencies&gt;\n    \n       &lt;build&gt;\n          &lt;plugins&gt;\n             &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n             &lt;/plugin&gt;\n          &lt;/plugins&gt;\n          &lt;finalName&gt;portfolio-backend&lt;/finalName&gt;    &lt;/build&gt;\n    \n    &lt;/project&gt;\n</code></pre>\n<p>I have already tried changing the scope of dependencies from provided to compile and vice versa. I also checked that the tomcat version is correct in both the spring-boot-starter-tomcat and the tomcat-embed-jasper from org.apache.tomcat.embed.</p>\n<p>I have also tried different maven commands like mvn clean package and mvn -U clean install.</p>\n<p>I also tried disabling scanning of jars with tomcat, that also broke the rendering of JSPs.</p>\n<p>I might be missing something obvious since I'm quite new with Maven and Spring boot. I'd appreciate if someone could share an idea what might be the issue here. Thanks in advance! :)</p>\n"},{"tags":["java","android-studio","scheduled-tasks","toast","timertask"],"owner":{"account_id":27930224,"reputation":1,"user_id":21328432,"display_name":"Ahmed Abdelwahab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677989171,"creation_date":1677877098,"question_id":75631811,"body_markdown":"After the timer end, it continues to count with negative values, and the Toast command is not executed!!\r\nJava file&#128071;\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport java.util.Timer;\r\nimport java.util.TimerTask;\r\n\r\npublic class MainActivity2 extends AppCompatActivity {\r\nprivate Timer quTime;\r\nprivate int totalMinute=1;\r\nprivate  int second =0;\r\nIntent intent;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main2);\r\n        final String Selecttopic=getIntent().getStringExtra(&quot;S topic&quot;);\r\n        TextView texr =findViewById(R.id.ttt);\r\ntexr.setText(Selecttopic);\r\nTextView rr=findViewById(R.id.te);\r\n\r\nsettime(texr);\r\n\r\n    }\r\n\r\n    private void settime (TextView timerTextView){\r\n\r\n        quTime = new Timer();\r\n        quTime.scheduleAtFixedRate(new TimerTask() {\r\n            @Override\r\n            public void run() {\r\n                if(second==0){totalMinute--;second=59;\r\n            } else if (second==0&amp;&amp;totalMinute==0) {\r\nquTime.purge();\r\nquTime.cancel();\r\n                    Toast.makeText(MainActivity2.this,&quot;timeover&quot;,Toast.LENGTH_SHORT).show();\r\n\r\n                }else {second--;}\r\n                runOnUiThread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        String finalMinute = String.valueOf(totalMinute);\r\n                        String finalSecond = String.valueOf(second);\r\nif(finalMinute.length()==1){finalMinute=&quot;0&quot;+finalMinute;\r\n                    }if(finalSecond.length()==1){finalSecond=&quot;0&quot;+finalSecond;}\r\ntimerTextView.setText(finalMinute+&quot;:&quot;+finalSecond);\r\n\r\n\r\n                    }\r\n                });\r\n            }\r\n        },1000, 1000);\r\n    }\r\n\r\n\r\n}\r\n```\r\nXML file&#128071;\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity2&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/ttt&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;TextView&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/te&quot;\r\n\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;10dp&quot;\r\n        android:layout_marginBottom=&quot;10dp&quot;\r\n\r\n        android:text=&quot;0&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/ttt&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n\r\n\r\n\r\nI tried changing This part of the code ((for Example))\r\n```\r\n else if (second==0&amp;&amp;totalMinute==0) {\r\n\t\t\t\t\t\tquTime.purge();\r\n\t\t\t\t\t\tquTime.cancel();\r\n\t\t\t\t\t\tToast.makeText(MainActivity.this,&quot;timeover&quot;,Toast.LENGTH_SHORT).show();\r\n\r\n```\r\n to\r\n\r\n```\r\n else if (second==57&amp;&amp;totalMinute==0) {\r\n\t\t\t\t\t\tquTime.purge();\r\n\t\t\t\t\t\tquTime.cancel();\r\n\t\t\t\t\t\tToast.makeText(MainActivity.this,&quot;timeover&quot;,Toast.LENGTH_SHORT).show();\r\n\r\n```\r\n\r\n and this led to the application stopping and exiting Upon reaching the 57th second instead of executing the Toast why??!!\r\n\r\nSo when it is... equal to zero, the counter continues to count in the negative and does not stop, but if you make it any other number, the application stops, and in both cases the Toast is not executed\r\nI want the timer to stop and execute the Toast command,please Help","title":"How do I end the timer and make the application execute commands after the timer ends?","body":"<p>After the timer end, it continues to count with negative values, and the Toast command is not executed!!\nJava file👇</p>\n<pre><code>package com.example.myapplication;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport java.util.Timer;\nimport java.util.TimerTask;\n\npublic class MainActivity2 extends AppCompatActivity {\nprivate Timer quTime;\nprivate int totalMinute=1;\nprivate  int second =0;\nIntent intent;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n        final String Selecttopic=getIntent().getStringExtra(&quot;S topic&quot;);\n        TextView texr =findViewById(R.id.ttt);\ntexr.setText(Selecttopic);\nTextView rr=findViewById(R.id.te);\n\nsettime(texr);\n\n    }\n\n    private void settime (TextView timerTextView){\n\n        quTime = new Timer();\n        quTime.scheduleAtFixedRate(new TimerTask() {\n            @Override\n            public void run() {\n                if(second==0){totalMinute--;second=59;\n            } else if (second==0&amp;&amp;totalMinute==0) {\nquTime.purge();\nquTime.cancel();\n                    Toast.makeText(MainActivity2.this,&quot;timeover&quot;,Toast.LENGTH_SHORT).show();\n\n                }else {second--;}\n                runOnUiThread(new Runnable() {\n                    @Override\n                    public void run() {\n                        String finalMinute = String.valueOf(totalMinute);\n                        String finalSecond = String.valueOf(second);\nif(finalMinute.length()==1){finalMinute=&quot;0&quot;+finalMinute;\n                    }if(finalSecond.length()==1){finalSecond=&quot;0&quot;+finalSecond;}\ntimerTextView.setText(finalMinute+&quot;:&quot;+finalSecond);\n\n\n                    }\n                });\n            }\n        },1000, 1000);\n    }\n\n\n}\n</code></pre>\n<p>XML file👇</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity2&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/ttt&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;TextView&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/te&quot;\n\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;10dp&quot;\n        android:layout_marginBottom=&quot;10dp&quot;\n\n        android:text=&quot;0&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/ttt&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>I tried changing This part of the code ((for Example))</p>\n<pre><code> else if (second==0&amp;&amp;totalMinute==0) {\n                        quTime.purge();\n                        quTime.cancel();\n                        Toast.makeText(MainActivity.this,&quot;timeover&quot;,Toast.LENGTH_SHORT).show();\n\n</code></pre>\n<p>to</p>\n<pre><code> else if (second==57&amp;&amp;totalMinute==0) {\n                        quTime.purge();\n                        quTime.cancel();\n                        Toast.makeText(MainActivity.this,&quot;timeover&quot;,Toast.LENGTH_SHORT).show();\n\n</code></pre>\n<p>and this led to the application stopping and exiting Upon reaching the 57th second instead of executing the Toast why??!!</p>\n<p>So when it is... equal to zero, the counter continues to count in the negative and does not stop, but if you make it any other number, the application stops, and in both cases the Toast is not executed\nI want the timer to stop and execute the Toast command,please Help</p>\n"},{"tags":["java","ssl","keystore","truststore"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1570183095,"post_id":58232636,"comment_id":102841444,"body_markdown":"For truststore purposes the alias means nothing. It just searches the truststore for a signer of the incoming peer certificate.","body":"For truststore purposes the alias means nothing. It just searches the truststore for a signer of the incoming peer certificate."}],"answers":[{"tags":[],"owner":{"account_id":13430076,"reputation":527,"user_id":9690151,"display_name":"Avinash Sagar"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1570179188,"creation_date":1570179188,"answer_id":58233005,"question_id":58232636,"body_markdown":"Alias is a way to directly access the certificate but your keystore has other information regarding the certificate as well. X.509 certificates have a field called SAN (Subject Alternative name) which contains the DNS information of the certificate. When you try to connect to a specific URL, the keystore is looked up for the corresponding DNS name in SAN and correct certificate is picked up. \r\n\r\nI hope it clarifies your doubt about java not asking for the alias. Rest assured, there is nothing random in this process.","title":"How to handle alias in TrustStore","body":"<p>Alias is a way to directly access the certificate but your keystore has other information regarding the certificate as well. X.509 certificates have a field called SAN (Subject Alternative name) which contains the DNS information of the certificate. When you try to connect to a specific URL, the keystore is looked up for the corresponding DNS name in SAN and correct certificate is picked up. </p>\n\n<p>I hope it clarifies your doubt about java not asking for the alias. Rest assured, there is nothing random in this process.</p>\n"},{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1677988852,"creation_date":1570194453,"answer_id":58237080,"question_id":58232636,"body_markdown":"user207421 is nearly correct. To be more exact:\r\n\r\nWhen you as client open an SSL/TLS connection to a server, as part of the handshake the server sends its certificate &#39;chain&#39; containing its own cert, plus usually one or more linked CA (Certificate Authority) certificates ending with a &#39;root&#39; CA that should be trusted. See the neighboring Stack https://security.stackexchange.com/questions/20803/how-does-ssl-work/ for an epically complete explanation. Public servers normally use a cert issued and signed by a public CA like Digicert, GoDaddy, LetsEncrypt/ISRG which are already in the standard default truststore (for Java in the file `JRE/lib/security/cacerts`) so no action is needed. If a server uses a cert from a off-brand or private CA, or a self-signed cert (from no CA at all), then (for Java) _some_ cert in the chain must be added to the client truststore, or otherwise overridden; this is only required to be the _server_ cert in the case where the server cert is self-signed (which is a chain by itself and has no relevant CA certs). \r\n\r\nJava/JSSE implements this through an `SSLContext` which contains among other things a `TrustManager`, more specifically an `X509ExtendedTrustManager`, which is _initialized_ from a truststore. You can create an `SSLContext` explicitly in code from any set of trusted certs (which doesn&#39;t even need to be from a file), or use the default context which uses the default truststore file, which defaults to the filename above unless overridden by a system property. \r\n\r\nWhen the server cert chain is received it is passed to the context&#39;s TrustManager for validation; among (many!) other checks, at each level of a normal chain, or the single level of a self-signed cert, the JSSE TrustManager looks for an anchor cert (edit) which either _is_ the desired cert (same Subject and (Subject)PublicKey) or is the signer of that cert (Subject equals Issuer), and if such an anchor is found it is used validate the cert chain. Note that a normal (CA-issued) leaf cert can have Subject empty if Subject Alternative Name is used instead -- see rfc5280 and rfc2818 -- but a self-signed cert cannot, because it has Subject = Issuer and Issuer must _not_ be empty. Certs for different entities (e.g. different servers) normally are expected to have different keys, although a single entity can have multiple certs with either the same key or different keys, and might correspond to multiple server names and/or addresses.\r\n\r\n(added) This anchor lookup does not use the alias, and neither does anything else in the validation process, which is why the alias is not and does not need to be specified, and the aliases that are needed for (some) other purposes in a KeyStore file or object have no significance for this purpose.\r\n\r\nIf the certificate is determined valid in general, for _some_ TLS applications (notably HTTPS) the validator _also_ checks it is for the correct server, specifically that the CommonName attribute in the Subject field, or an entry in the Subject Alternative Name extension if present (which for public CAs it always is and has been for at least a decade it is) matches the host DNS name or IP adddress in the URL. In older versions of Java (through 6 IIRC) this was not done in JSSE but rather in the calling application(s) or library, such as `HttpsURLConnection`, which as a legacy still has the option to use its own `HostnameVerifier` instead.\r\n\r\nAll of this can be altered by using a custom `TrustManager` in place of the standard one, and some things like Apache `HttpClient` do so validly, but you will find (too many) answers here and some other Stacks recommending you &#39;solve&#39; TLS errors by using a neutered `TrustManager` that just accepts any cert, regardless of whether it is actually valid and correct, and thus happily connects and sends sensitive data to, or accepts changes from, any attacker who manages to intercept the IP traffic, which is often pretty easy nowadays.","title":"How to handle alias in TrustStore","body":"<p>user207421 is nearly correct. To be more exact:</p>\n<p>When you as client open an SSL/TLS connection to a server, as part of the handshake the server sends its certificate 'chain' containing its own cert, plus usually one or more linked CA (Certificate Authority) certificates ending with a 'root' CA that should be trusted. See the neighboring Stack <a href=\"https://security.stackexchange.com/questions/20803/how-does-ssl-work/\">https://security.stackexchange.com/questions/20803/how-does-ssl-work/</a> for an epically complete explanation. Public servers normally use a cert issued and signed by a public CA like Digicert, GoDaddy, LetsEncrypt/ISRG which are already in the standard default truststore (for Java in the file <code>JRE/lib/security/cacerts</code>) so no action is needed. If a server uses a cert from a off-brand or private CA, or a self-signed cert (from no CA at all), then (for Java) <em>some</em> cert in the chain must be added to the client truststore, or otherwise overridden; this is only required to be the <em>server</em> cert in the case where the server cert is self-signed (which is a chain by itself and has no relevant CA certs).</p>\n<p>Java/JSSE implements this through an <code>SSLContext</code> which contains among other things a <code>TrustManager</code>, more specifically an <code>X509ExtendedTrustManager</code>, which is <em>initialized</em> from a truststore. You can create an <code>SSLContext</code> explicitly in code from any set of trusted certs (which doesn't even need to be from a file), or use the default context which uses the default truststore file, which defaults to the filename above unless overridden by a system property.</p>\n<p>When the server cert chain is received it is passed to the context's TrustManager for validation; among (many!) other checks, at each level of a normal chain, or the single level of a self-signed cert, the JSSE TrustManager looks for an anchor cert (edit) which either <em>is</em> the desired cert (same Subject and (Subject)PublicKey) or is the signer of that cert (Subject equals Issuer), and if such an anchor is found it is used validate the cert chain. Note that a normal (CA-issued) leaf cert can have Subject empty if Subject Alternative Name is used instead -- see rfc5280 and rfc2818 -- but a self-signed cert cannot, because it has Subject = Issuer and Issuer must <em>not</em> be empty. Certs for different entities (e.g. different servers) normally are expected to have different keys, although a single entity can have multiple certs with either the same key or different keys, and might correspond to multiple server names and/or addresses.</p>\n<p>(added) This anchor lookup does not use the alias, and neither does anything else in the validation process, which is why the alias is not and does not need to be specified, and the aliases that are needed for (some) other purposes in a KeyStore file or object have no significance for this purpose.</p>\n<p>If the certificate is determined valid in general, for <em>some</em> TLS applications (notably HTTPS) the validator <em>also</em> checks it is for the correct server, specifically that the CommonName attribute in the Subject field, or an entry in the Subject Alternative Name extension if present (which for public CAs it always is and has been for at least a decade it is) matches the host DNS name or IP adddress in the URL. In older versions of Java (through 6 IIRC) this was not done in JSSE but rather in the calling application(s) or library, such as <code>HttpsURLConnection</code>, which as a legacy still has the option to use its own <code>HostnameVerifier</code> instead.</p>\n<p>All of this can be altered by using a custom <code>TrustManager</code> in place of the standard one, and some things like Apache <code>HttpClient</code> do so validly, but you will find (too many) answers here and some other Stacks recommending you 'solve' TLS errors by using a neutered <code>TrustManager</code> that just accepts any cert, regardless of whether it is actually valid and correct, and thus happily connects and sends sensitive data to, or accepts changes from, any attacker who manages to intercept the IP traffic, which is often pretty easy nowadays.</p>\n"}],"owner":{"account_id":1817339,"reputation":1048,"user_id":1652183,"accept_rate":89,"display_name":"ashokhein"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3502,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":58237080,"answer_count":2,"score":3,"last_activity_date":1677988852,"creation_date":1570177882,"question_id":58232636,"body_markdown":"I am running the Java process (Microservice) and trustStore configured in the JVM parameter. If the Microservice needs to connect the external URL which required the cert to be imported in trustStore.\r\n\r\n    Example: \r\n    example.co.uk -&gt; examplecouk as alias in trustStore\r\n    example.com -&gt; examplecom as alias in trustStore\r\n    example.in  -&gt; examplein as alias in trustStore\r\n\r\nHow does Java know that which certs and alias to be picked from the trustStore for the particular endpoint as I don&#39;t pass/mention the alias in the JVM params? Is it pick randomly? \r\n\r\n\r\n","title":"How to handle alias in TrustStore","body":"<p>I am running the Java process (Microservice) and trustStore configured in the JVM parameter. If the Microservice needs to connect the external URL which required the cert to be imported in trustStore.</p>\n\n<pre><code>Example: \nexample.co.uk -&gt; examplecouk as alias in trustStore\nexample.com -&gt; examplecom as alias in trustStore\nexample.in  -&gt; examplein as alias in trustStore\n</code></pre>\n\n<p>How does Java know that which certs and alias to be picked from the trustStore for the particular endpoint as I don't pass/mention the alias in the JVM params? Is it pick randomly? </p>\n"},{"tags":["java","multithreading","synchronized"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":3,"creation_date":1677963424,"post_id":75638545,"comment_id":133442283,"body_markdown":"public **static** synchronized void func - you are modifying class field","body":"public <b>static</b> synchronized void func - you are modifying class field"},{"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"score":0,"creation_date":1677964411,"post_id":75638545,"comment_id":133442459,"body_markdown":"@AndreyB.Panfilov That&#39;s right. Post it in answer. I will upvote.","body":"@AndreyB.Panfilov That&#39;s right. Post it in answer. I will upvote."},{"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"score":0,"creation_date":1677964546,"post_id":75638545,"comment_id":133442482,"body_markdown":"@AndreyB.Panfilov and also please explain how static is doing that.","body":"@AndreyB.Panfilov and also please explain how static is doing that."}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677973367,"creation_date":1677973367,"answer_id":75639368,"question_id":75638545,"body_markdown":"In order to create the needed _happens-before_ relationship when modifying shared state, you have to synchronize on the same object each time&lt;sup&gt;**1**&lt;/sup&gt;. Your `cnt` field is static, which means it&#39;s shared between all instances of `Runner`. Yet your `func()` method is an instance method. Making an instance method `synchronized` is the same as doing:\r\n\r\n```lang-java\r\npublic void func() {\r\n  synchronized (this) {\r\n    // method body...\r\n  }\r\n}\r\n```\r\n\r\nWhere `this` refers to the instance of the class the method was invoked on. Since you create two instances of `Runner`, your threads are synchronizing on two different objects while reading and writing `cnt`. Thus, you get &quot;unexpected&quot; output due to race conditions and other concurrency issues.\r\n\r\nIn your case, one solution is to make `func()` static. Making a static method `synchronized` is the same as doing:\r\n\r\n```lang-java\r\npublic static void func() {\r\n  synchronized (EnclosingClass.class) {\r\n    // method body...\r\n  }\r\n}\r\n```\r\n\r\nWhere `EnclosingClass` is the class where the method is declared (e.g., `Runner`, in your case). The class literal returns an instance of `java.lang.Class` representing the class, which is a singleton&lt;sup&gt;**2**&lt;/sup&gt;, meaning you end up synchronizing on the same object.\r\n\r\n---\r\n\r\n&lt;sup&gt;**1.** This is &quot;per state&quot;. In other words, different state can be guarded by different objects, so long as the threads synchronize on the correct object when interacting with particular state. For instance, making `cnt` non-static instead of making `func()` static would also make your code correct, at least from a concurrency perspective (you&#39;d have to change some things to demonstrate multiple threads accessing the same state).&lt;/sup&gt;\r\n\r\n&lt;sup&gt;**2.** There is actually one instance of `java.lang.Class` per class. So, two calls to `Foo.class` will give the same instance, but `Foo.class` and `Bar.class` will give two different instances. And even that is simplifying things (the `ClassLoader` that loaded the class is part of its identity, but that&#39;s beyond the scope of this answer).&lt;/sup&gt;","title":"Synchronized keyword in not giving expected result in java","body":"<p>In order to create the needed <em>happens-before</em> relationship when modifying shared state, you have to synchronize on the same object each time<sup><strong>1</strong></sup>. Your <code>cnt</code> field is static, which means it's shared between all instances of <code>Runner</code>. Yet your <code>func()</code> method is an instance method. Making an instance method <code>synchronized</code> is the same as doing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void func() {\n  synchronized (this) {\n    // method body...\n  }\n}\n</code></pre>\n<p>Where <code>this</code> refers to the instance of the class the method was invoked on. Since you create two instances of <code>Runner</code>, your threads are synchronizing on two different objects while reading and writing <code>cnt</code>. Thus, you get &quot;unexpected&quot; output due to race conditions and other concurrency issues.</p>\n<p>In your case, one solution is to make <code>func()</code> static. Making a static method <code>synchronized</code> is the same as doing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void func() {\n  synchronized (EnclosingClass.class) {\n    // method body...\n  }\n}\n</code></pre>\n<p>Where <code>EnclosingClass</code> is the class where the method is declared (e.g., <code>Runner</code>, in your case). The class literal returns an instance of <code>java.lang.Class</code> representing the class, which is a singleton<sup><strong>2</strong></sup>, meaning you end up synchronizing on the same object.</p>\n<hr />\n<p><sup><strong>1.</strong> This is &quot;per state&quot;. In other words, different state can be guarded by different objects, so long as the threads synchronize on the correct object when interacting with particular state. For instance, making <code>cnt</code> non-static instead of making <code>func()</code> static would also make your code correct, at least from a concurrency perspective (you'd have to change some things to demonstrate multiple threads accessing the same state).</sup></p>\n<p><sup><strong>2.</strong> There is actually one instance of <code>java.lang.Class</code> per class. So, two calls to <code>Foo.class</code> will give the same instance, but <code>Foo.class</code> and <code>Bar.class</code> will give two different instances. And even that is simplifying things (the <code>ClassLoader</code> that loaded the class is part of its identity, but that's beyond the scope of this answer).</sup></p>\n"},{"tags":[],"owner":{"account_id":9226883,"reputation":4936,"user_id":6854407,"display_name":"Jim Rogers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677986878,"creation_date":1677986878,"answer_id":75640031,"question_id":75638545,"body_markdown":"The answer by @Slaw is correct and goes into the arcane details making java multithreading challenging.\r\n\r\nThe fundamental problem with synchronization as defined by java is the fact that the shared object should be implemented as a class which controls access to its data members rather than forcing the synchronization calls on the threads accessing the shared data. It should be simple to share data across different thread classes without needing to deal with the arcane details of synchronization in each thread class. \r\n\r\nThe Ada programming language has accomplished these goals.\r\n\r\nAn Ada solution to the extremely simple problem the author of this question is attempting to solve demonstrates these principles very well.\r\n\r\n&lt;!-- language: lang-ada --&gt;\r\n\r\n    with Ada.Text_IO; use Ada.Text_IO;\r\n    \r\n    procedure Main is\r\n       protected counter is\r\n          procedure incr;\r\n          function report return Natural;\r\n       private\r\n          count : Natural := 0;\r\n       end counter;\r\n    \r\n       protected body counter is\r\n          procedure incr is\r\n          begin\r\n             count := count + 1;\r\n          end incr;\r\n    \r\n          function report return Natural is\r\n          begin\r\n             return count;\r\n          end report;\r\n       end counter;\r\n    \r\n       task type countem;\r\n    \r\n       task body countem is\r\n       begin\r\n          for I in 1 .. 10_000 loop\r\n             counter.incr;\r\n          end loop;\r\n       end countem;\r\n    \r\n    begin\r\n       declare\r\n          runners : array (1 .. 14) of countem;\r\n       begin\r\n          null;\r\n       end;\r\n       Put_Line (Natural&#39;Image (counter.report));\r\n    end Main;\r\n\r\nAda allows the definition of what it calls protected objects. A protected object is protected against race conditions and unsynchronized access.\r\n\r\nProtected objects can have three kinds of methods. Protected procedures implicitly control an unconditional exclusive read-write lock on the protected object. Protected entries implicitly control a conditional exclusive read-write lock on the protected object. Protected functions implicitly control an unconditional shared read lock on the protected object. Protected functions are prohibited from modifying the protected object, hence the read-only lock.\r\n\r\nThe example above declares a protected object using one protected procedure with no parameters and one protected function with no parameters. The single data member of this protected object is declared in the private part of the protected object specification. The implementations of the protected procedure and the protected function are found in the protected body. Unlike java, Ada separates interface definitions of an object or type from implementation. \r\n\r\nThe protected body is very simple. All synchronization is implicit and therefore is not seen in the source code. The incr procedure simply increments the count data member declared in the private part of the protected object specification. The function report simply reads and returns the value of count.\r\n\r\nAda tasks are equivalent to java threads. Tasks can be defined as individual task objects or as task types. This example defines a task type with no API beyond the name of the task. The body of the task type definition simply calls counter.incr 10_000 times.\r\n\r\nAda does not have a &quot;join&quot; reserved word. Instead a nested block is declared. In that nested block an array of countem tasks is declared. This example declares an array containing 14 instances of the countem task type. All 14 tasks start as soon as execution passes to the &quot;begin&quot; reserved word in the nested block. The rest of the nested block does nothing, thus its only command is &quot;null;&quot;, which indicates that the block intentionally does nothing other than start the 14 tasks. The nested block does not complete until all 14 of the tasks complete, thereby achieving the same behavior as if a programmer joined 14 threads in java.\r\n\r\nFollowing the end of the nested block, and therefore the completion of the 14 tasks, the value of the count is displayed by calling counter.report.\r\n\r\nThe output of this program is:\r\n\r\n    D:\\Ada\\Stack_Overflow\\simple_synchronization\\obj\\main.exe\r\n     140000\r\n    [2023-03-04 20:25:09] process terminated successfully, elapsed time: 00.85s\r\n\r\nAll synchronization is implicitly performed by the protected object. The tasks simply call the protected procedure incr without calling any synchronization primitives directly.","title":"Synchronized keyword in not giving expected result in java","body":"<p>The answer by @Slaw is correct and goes into the arcane details making java multithreading challenging.</p>\n<p>The fundamental problem with synchronization as defined by java is the fact that the shared object should be implemented as a class which controls access to its data members rather than forcing the synchronization calls on the threads accessing the shared data. It should be simple to share data across different thread classes without needing to deal with the arcane details of synchronization in each thread class.</p>\n<p>The Ada programming language has accomplished these goals.</p>\n<p>An Ada solution to the extremely simple problem the author of this question is attempting to solve demonstrates these principles very well.</p>\n<pre class=\"lang-ada prettyprint-override\"><code>with Ada.Text_IO; use Ada.Text_IO;\n\nprocedure Main is\n   protected counter is\n      procedure incr;\n      function report return Natural;\n   private\n      count : Natural := 0;\n   end counter;\n\n   protected body counter is\n      procedure incr is\n      begin\n         count := count + 1;\n      end incr;\n\n      function report return Natural is\n      begin\n         return count;\n      end report;\n   end counter;\n\n   task type countem;\n\n   task body countem is\n   begin\n      for I in 1 .. 10_000 loop\n         counter.incr;\n      end loop;\n   end countem;\n\nbegin\n   declare\n      runners : array (1 .. 14) of countem;\n   begin\n      null;\n   end;\n   Put_Line (Natural'Image (counter.report));\nend Main;\n</code></pre>\n<p>Ada allows the definition of what it calls protected objects. A protected object is protected against race conditions and unsynchronized access.</p>\n<p>Protected objects can have three kinds of methods. Protected procedures implicitly control an unconditional exclusive read-write lock on the protected object. Protected entries implicitly control a conditional exclusive read-write lock on the protected object. Protected functions implicitly control an unconditional shared read lock on the protected object. Protected functions are prohibited from modifying the protected object, hence the read-only lock.</p>\n<p>The example above declares a protected object using one protected procedure with no parameters and one protected function with no parameters. The single data member of this protected object is declared in the private part of the protected object specification. The implementations of the protected procedure and the protected function are found in the protected body. Unlike java, Ada separates interface definitions of an object or type from implementation.</p>\n<p>The protected body is very simple. All synchronization is implicit and therefore is not seen in the source code. The incr procedure simply increments the count data member declared in the private part of the protected object specification. The function report simply reads and returns the value of count.</p>\n<p>Ada tasks are equivalent to java threads. Tasks can be defined as individual task objects or as task types. This example defines a task type with no API beyond the name of the task. The body of the task type definition simply calls counter.incr 10_000 times.</p>\n<p>Ada does not have a &quot;join&quot; reserved word. Instead a nested block is declared. In that nested block an array of countem tasks is declared. This example declares an array containing 14 instances of the countem task type. All 14 tasks start as soon as execution passes to the &quot;begin&quot; reserved word in the nested block. The rest of the nested block does nothing, thus its only command is &quot;null;&quot;, which indicates that the block intentionally does nothing other than start the 14 tasks. The nested block does not complete until all 14 of the tasks complete, thereby achieving the same behavior as if a programmer joined 14 threads in java.</p>\n<p>Following the end of the nested block, and therefore the completion of the 14 tasks, the value of the count is displayed by calling counter.report.</p>\n<p>The output of this program is:</p>\n<pre><code>D:\\Ada\\Stack_Overflow\\simple_synchronization\\obj\\main.exe\n 140000\n[2023-03-04 20:25:09] process terminated successfully, elapsed time: 00.85s\n</code></pre>\n<p>All synchronization is implicitly performed by the protected object. The tasks simply call the protected procedure incr without calling any synchronization primitives directly.</p>\n"}],"owner":{"account_id":27936483,"reputation":3,"user_id":21333387,"display_name":"Rohit Godara"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75639368,"answer_count":2,"score":0,"last_activity_date":1677986878,"creation_date":1677962581,"question_id":75638545,"body_markdown":"Not getting expected output by using the synchronized keyword in java\r\n\r\n\r\n\r\nI tried to implement thread synchronization using synchronized keyword in java but am not getting the expected output. The final value of variable cnt should be 20,000 but it&#39;s not the case.\r\n\r\n\r\n```lang-java\r\npackage MultiThreading;\r\n\r\n\r\nclass Runner extends Thread {\r\n\t\r\n\tprivate static int cnt=0;\r\n\t\r\n\tpublic synchronized void func() {\r\n\t\tcnt++;\r\n\t}\r\n\t\r\n\tpublic void run() {\r\n\t\tfor(int i=0; i&lt;10000; i++) {\r\n\t\t\tfunc();\r\n\t\t}\r\n\t}\t\r\n\t\r\n\tpublic void print() {\r\n\t\tSystem.out.println(cnt);\r\n\t}\r\n}\r\n\r\n\r\npublic class Synchronization {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\t\r\n\t\tRunner r1 = new Runner();\r\n\t\tRunner r2 = new Runner();\r\n\t\t\r\n\t\tr1.start();\r\n\t\tr2.start();\r\n\t\t\r\n\t\ttry {\r\n\t\t\tr1.join();\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\t\r\n\t\t\t\r\n\t\ttry {\r\n\t\t\tr2.join();\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\tr1.print();\r\n\t\t\t\t\r\n\t}\t\r\n\t\r\n}\r\n```","title":"Synchronized keyword in not giving expected result in java","body":"<p>Not getting expected output by using the synchronized keyword in java</p>\n<p>I tried to implement thread synchronization using synchronized keyword in java but am not getting the expected output. The final value of variable cnt should be 20,000 but it's not the case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package MultiThreading;\n\n\nclass Runner extends Thread {\n    \n    private static int cnt=0;\n    \n    public synchronized void func() {\n        cnt++;\n    }\n    \n    public void run() {\n        for(int i=0; i&lt;10000; i++) {\n            func();\n        }\n    }   \n    \n    public void print() {\n        System.out.println(cnt);\n    }\n}\n\n\npublic class Synchronization {\n    \n    public static void main(String[] args) {\n            \n        Runner r1 = new Runner();\n        Runner r2 = new Runner();\n        \n        r1.start();\n        r2.start();\n        \n        try {\n            r1.join();\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }   \n            \n        try {\n            r2.join();\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        \n        r1.print();\n                \n    }   \n    \n}\n</code></pre>\n"},{"tags":["java","spring-boot","validation"],"owner":{"account_id":23987549,"reputation":50,"user_id":17974178,"display_name":"Victor Hugo Pongolino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1677985977,"creation_date":1677985977,"question_id":75639994,"body_markdown":"I have a custom spring validator to validates a role DTO class but when I called it using @Valid annotation or by any other means (like data binder validation or calling validate method) nothing happens. I didn&#39;t understand if i&#39;m doing something wrong, i have spring validation starter as dependency like so:\r\n````\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n````\r\nBut when i added the Hibernate Validator it started to validate normally but why? wasn&#39;t supposed to spring-boot-starter-validation solve that as it related to spring ?\r\n````\r\n&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-validator --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    &lt;version&gt;8.0.0.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n````\r\n\r\nDTO\r\n```\r\n@Getter @Setter\r\npublic class UserRegistrationDTO {\r\n    private String username;\r\n    private String password;\r\n    private String confirmPassword;\r\n    private String email;\r\n}\r\n```\r\n\r\nValidator\r\n\r\n```\r\n@Component(value = &quot;userRegistrationValidator&quot;)\r\npublic class UserRegistrationValidator implements Validator {\r\n    @Override\r\n    public boolean supports(Class&lt;?&gt; clazz) {\r\n        return UserRegistrationDTO.class.isAssignableFrom(clazz);\r\n    }\r\n\r\n    @Override\r\n    public void validate(Object target, Errors errors) {\r\n        UserRegistrationDTO userRegistrationDTO = (UserRegistrationDTO) target;\r\n        ValidationUtils.rejectIfEmptyOrWhitespace(errors,&quot;password&quot;, &quot;password.empty&quot;, &quot;The password must not be empty&quot;);\r\n        ValidationUtils.rejectIfEmptyOrWhitespace(errors,&quot;confirmPassword&quot;, &quot;cpassword.empty&quot;, &quot;You have to confirm you password&quot;);\r\n\r\n        if (userRegistrationDTO.getPassword() != null) {\r\n            if (userRegistrationDTO.getPassword().length() &lt; 5 || userRegistrationDTO.getPassword().length() &gt; 25)\r\n                errors.rejectValue(&quot;password&quot;, &quot;password.size&quot;, &quot;The password size must be between 5 to 25&quot;);\r\n\r\n            if (userRegistrationDTO.getConfirmPassword() != null &amp;&amp; !userRegistrationDTO.getPassword().equals(userRegistrationDTO.getConfirmPassword()))\r\n                errors.rejectValue(&quot;confirmPassword&quot;, &quot;password.not_equals&quot;, &quot;The password is not equals&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nController\r\n\r\n```\r\n@Controller\r\n@RequestMapping(&quot;/register&quot;)\r\n@RequiredArgsConstructor(access = AccessLevel.PRIVATE)\r\npublic class RegisterController {\r\n\r\n    @Qualifier(&quot;userRegistrationValidator&quot;)\r\n    private final Validator validator;\r\n\r\n    @PostMapping\r\n    public String registerProcessing(@ModelAttribute(&quot;userRegistration&quot;) @RequestBody UserRegistrationDTO userRegistrationDTO, BindingResult bindingResult) {\r\n        \r\n        ValidationUtils.invokeValidator(validator, userRegistrationDTO, bindingResult);\r\n\r\n        if (bindingResult.hasErrors()) {\r\n            return &quot;login/signup&quot;;\r\n        }\r\n\r\n        // ... \r\n\r\n        return &quot;redirect:/login&quot;;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nMy first attempt was setting the validator directly to the data binder. Therefore, i would not need to call the validator. Nothing happens.\r\n\r\n````\r\n@Qualifier(&quot;userRegistrationValidator&quot;)\r\nprivate final Validator validator;\r\n\r\n@InitBinder\r\npublic void initBinder(WebDataBinder webDataBinder) {\r\n    webDataBinder.addValidators(validator);\r\n}\r\n````\r\n\r\nMy second attempt was call the validate method but it still doesn&#39;t work.\r\n````\r\n@PostMapping\r\n    public String registerProcessing(@ModelAttribute(&quot;userRegistration&quot;) @RequestBody UserRegistrationDTO userRegistrationDTO, BindingResult bindingResult) {\r\n        validator.validate(userRegistrationDTO, bindingResult);\r\n        if (bindingResult.hasErrors()) {\r\n            return &quot;login/signup&quot;;\r\n        }\r\n    // ...\r\n}\r\n````\r\n\r\n","title":"Why do i need Hibernate Validator to run a Custom Spring Validator?","body":"<p>I have a custom spring validator to validates a role DTO class but when I called it using @Valid annotation or by any other means (like data binder validation or calling validate method) nothing happens. I didn't understand if i'm doing something wrong, i have spring validation starter as dependency like so:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But when i added the Hibernate Validator it started to validate normally but why? wasn't supposed to spring-boot-starter-validation solve that as it related to spring ?</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-validator --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;version&gt;8.0.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>DTO</p>\n<pre><code>@Getter @Setter\npublic class UserRegistrationDTO {\n    private String username;\n    private String password;\n    private String confirmPassword;\n    private String email;\n}\n</code></pre>\n<p>Validator</p>\n<pre><code>@Component(value = &quot;userRegistrationValidator&quot;)\npublic class UserRegistrationValidator implements Validator {\n    @Override\n    public boolean supports(Class&lt;?&gt; clazz) {\n        return UserRegistrationDTO.class.isAssignableFrom(clazz);\n    }\n\n    @Override\n    public void validate(Object target, Errors errors) {\n        UserRegistrationDTO userRegistrationDTO = (UserRegistrationDTO) target;\n        ValidationUtils.rejectIfEmptyOrWhitespace(errors,&quot;password&quot;, &quot;password.empty&quot;, &quot;The password must not be empty&quot;);\n        ValidationUtils.rejectIfEmptyOrWhitespace(errors,&quot;confirmPassword&quot;, &quot;cpassword.empty&quot;, &quot;You have to confirm you password&quot;);\n\n        if (userRegistrationDTO.getPassword() != null) {\n            if (userRegistrationDTO.getPassword().length() &lt; 5 || userRegistrationDTO.getPassword().length() &gt; 25)\n                errors.rejectValue(&quot;password&quot;, &quot;password.size&quot;, &quot;The password size must be between 5 to 25&quot;);\n\n            if (userRegistrationDTO.getConfirmPassword() != null &amp;&amp; !userRegistrationDTO.getPassword().equals(userRegistrationDTO.getConfirmPassword()))\n                errors.rejectValue(&quot;confirmPassword&quot;, &quot;password.not_equals&quot;, &quot;The password is not equals&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Controller</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/register&quot;)\n@RequiredArgsConstructor(access = AccessLevel.PRIVATE)\npublic class RegisterController {\n\n    @Qualifier(&quot;userRegistrationValidator&quot;)\n    private final Validator validator;\n\n    @PostMapping\n    public String registerProcessing(@ModelAttribute(&quot;userRegistration&quot;) @RequestBody UserRegistrationDTO userRegistrationDTO, BindingResult bindingResult) {\n        \n        ValidationUtils.invokeValidator(validator, userRegistrationDTO, bindingResult);\n\n        if (bindingResult.hasErrors()) {\n            return &quot;login/signup&quot;;\n        }\n\n        // ... \n\n        return &quot;redirect:/login&quot;;\n    }\n}\n</code></pre>\n<p>My first attempt was setting the validator directly to the data binder. Therefore, i would not need to call the validator. Nothing happens.</p>\n<pre><code>@Qualifier(&quot;userRegistrationValidator&quot;)\nprivate final Validator validator;\n\n@InitBinder\npublic void initBinder(WebDataBinder webDataBinder) {\n    webDataBinder.addValidators(validator);\n}\n</code></pre>\n<p>My second attempt was call the validate method but it still doesn't work.</p>\n<pre><code>@PostMapping\n    public String registerProcessing(@ModelAttribute(&quot;userRegistration&quot;) @RequestBody UserRegistrationDTO userRegistrationDTO, BindingResult bindingResult) {\n        validator.validate(userRegistrationDTO, bindingResult);\n        if (bindingResult.hasErrors()) {\n            return &quot;login/signup&quot;;\n        }\n    // ...\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","spring-logback"],"answers":[{"tags":[],"owner":{"account_id":3341028,"reputation":1164,"user_id":2807311,"accept_rate":17,"display_name":"voliveira89"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551945353,"creation_date":1551945353,"answer_id":55038694,"question_id":55038593,"body_markdown":"You can use Spring Boot Admin: https://github.com/codecentric/spring-boot-admin\r\n\r\nThe logs appear like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RcF5T.png\r\n\r\nYou can use https://start.spring.io/ to include de Admin Client and Server in your project. Check the tutorial here: http://codecentric.github.io/spring-boot-admin/current/#getting-started","title":"How to show the contents of log file in browser screen using Spring Actuator?","body":"<p>You can use Spring Boot Admin: <a href=\"https://github.com/codecentric/spring-boot-admin\" rel=\"nofollow noreferrer\">https://github.com/codecentric/spring-boot-admin</a></p>\n\n<p>The logs appear like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/RcF5T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RcF5T.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can use <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a> to include de Admin Client and Server in your project. Check the tutorial here: <a href=\"http://codecentric.github.io/spring-boot-admin/current/#getting-started\" rel=\"nofollow noreferrer\">http://codecentric.github.io/spring-boot-admin/current/#getting-started</a></p>\n"},{"tags":[],"owner":{"account_id":5181486,"reputation":700,"user_id":4147073,"display_name":"Šime Tokić"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610889860,"creation_date":1610889860,"answer_id":65761144,"question_id":55038593,"body_markdown":"By default, the following Spring Boot Actuator endpoints are enabled (JMX/WEB):\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html#production-ready-endpoints-exposing-endpoints\r\n\r\nTo enable specific endpoints write the following in Spring Boot `application.properties` file:\r\n\r\n    management.endpoints.web.exposure.include = info, health, logfile\r\n\r\nor to disable write:\r\n\r\n    management.endpoints.web.exposure.exclude = env,beans","title":"How to show the contents of log file in browser screen using Spring Actuator?","body":"<p>By default, the following Spring Boot Actuator endpoints are enabled (JMX/WEB):</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html#production-ready-endpoints-exposing-endpoints\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html#production-ready-endpoints-exposing-endpoints</a></p>\n<p>To enable specific endpoints write the following in Spring Boot <code>application.properties</code> file:</p>\n<pre><code>management.endpoints.web.exposure.include = info, health, logfile\n</code></pre>\n<p>or to disable write:</p>\n<pre><code>management.endpoints.web.exposure.exclude = env,beans\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17055889,"reputation":119,"user_id":12340440,"display_name":"Nacho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677984232,"creation_date":1677984232,"answer_id":75639923,"question_id":55038593,"body_markdown":"**Logs in the browser:** \r\n\r\nOne way to expose the logs from a Spring Boot application in the browser is by using the built-in Actuator endpoints.\r\n\r\nActuator is a tool that provides production-ready features to help you monitor and manage your Spring Boot application. It includes a variety of endpoints, including one for viewing the application logs.\r\n\r\nTo enable the Actuator endpoints, you need to add the spring-boot-starter-actuator dependency to your project&#39;s pom.xml file:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nOnce the dependency is added, you can access the log endpoint at `http://localhost:8080/actuator/logfile`.\r\n\r\nTo expose the logs in the browser, you can create a custom endpoint that reads the log file and returns its contents. Here&#39;s an example:\r\n\r\n```\r\n@RestController\r\npublic class LogController {\r\n\r\n    @GetMapping(&quot;/logs&quot;)\r\n    public ResponseEntity&lt;String&gt; getLogs() throws IOException {\r\n        Path logFile = Paths.get(System.getProperty(&quot;logging.file.name&quot;));\r\n        String logs = new String(Files.readAllBytes(logFile));\r\n        return ResponseEntity.ok(logs);\r\n    }\r\n}\r\n```\r\n\r\nMake sure the application is configured to write logs into a file, by adding the following to the `application.properties` or `application.yml` file:\r\n\r\n```\r\nlogging.file.name=mylog.log\r\nlogging.level.root=INFO\r\n```\r\n\r\n\r\nThis code creates a new endpoint at `http://localhost:8080/logs` that returns the contents of the log file as a string.\r\n\r\nNote that **this approach may not be suitable for production environments** as it exposes potentially sensitive information. It is recommended to restrict access to the log endpoint using appropriate security measures.\r\n\r\n","title":"How to show the contents of log file in browser screen using Spring Actuator?","body":"<p><strong>Logs in the browser:</strong></p>\n<p>One way to expose the logs from a Spring Boot application in the browser is by using the built-in Actuator endpoints.</p>\n<p>Actuator is a tool that provides production-ready features to help you monitor and manage your Spring Boot application. It includes a variety of endpoints, including one for viewing the application logs.</p>\n<p>To enable the Actuator endpoints, you need to add the spring-boot-starter-actuator dependency to your project's pom.xml file:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Once the dependency is added, you can access the log endpoint at <code>http://localhost:8080/actuator/logfile</code>.</p>\n<p>To expose the logs in the browser, you can create a custom endpoint that reads the log file and returns its contents. Here's an example:</p>\n<pre><code>@RestController\npublic class LogController {\n\n    @GetMapping(&quot;/logs&quot;)\n    public ResponseEntity&lt;String&gt; getLogs() throws IOException {\n        Path logFile = Paths.get(System.getProperty(&quot;logging.file.name&quot;));\n        String logs = new String(Files.readAllBytes(logFile));\n        return ResponseEntity.ok(logs);\n    }\n}\n</code></pre>\n<p>Make sure the application is configured to write logs into a file, by adding the following to the <code>application.properties</code> or <code>application.yml</code> file:</p>\n<pre><code>logging.file.name=mylog.log\nlogging.level.root=INFO\n</code></pre>\n<p>This code creates a new endpoint at <code>http://localhost:8080/logs</code> that returns the contents of the log file as a string.</p>\n<p>Note that <strong>this approach may not be suitable for production environments</strong> as it exposes potentially sensitive information. It is recommended to restrict access to the log endpoint using appropriate security measures.</p>\n"}],"owner":{"account_id":12535152,"reputation":155,"user_id":9122020,"display_name":"Pradeep Anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7385,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1677984232,"creation_date":1551944986,"question_id":55038593,"body_markdown":"I&#39;m trying to show the contents of a logger file in the browser screen , so that when the application is running in production in external server, i don&#39;t need to login every time into the server to fetch the logs. I&#39;m trying to achieve this using Spring Boot Actuator. I have configured the log file path and log info level in my properties file, and logs are being written in that file, but how to stream the contents of the file in browser window. below is my properties file contents\r\n\r\n      management.security.enabled=false\r\n      endpoints.env.enabled=false\r\n      endpoints.configprops.enabled=false\r\n      endpoints.autoconfig.enabled=false\r\n      endpoints.beans.enabled=false\r\n      endpoints.dump.enabled=true\r\n      endpoints.heapdump.enabled=true\r\n      logging.level.root=info\r\n      logging.file=target/app.log\r\n\r\nThanks for the help in advance !!!!","title":"How to show the contents of log file in browser screen using Spring Actuator?","body":"<p>I'm trying to show the contents of a logger file in the browser screen , so that when the application is running in production in external server, i don't need to login every time into the server to fetch the logs. I'm trying to achieve this using Spring Boot Actuator. I have configured the log file path and log info level in my properties file, and logs are being written in that file, but how to stream the contents of the file in browser window. below is my properties file contents</p>\n\n<pre><code>  management.security.enabled=false\n  endpoints.env.enabled=false\n  endpoints.configprops.enabled=false\n  endpoints.autoconfig.enabled=false\n  endpoints.beans.enabled=false\n  endpoints.dump.enabled=true\n  endpoints.heapdump.enabled=true\n  logging.level.root=info\n  logging.file=target/app.log\n</code></pre>\n\n<p>Thanks for the help in advance !!!!</p>\n"},{"tags":["java","minecraft","minecraft-fabric"],"comments":[{"owner":{"account_id":24514735,"reputation":720,"user_id":18428659,"display_name":"Victor Pieper"},"score":0,"creation_date":1677067923,"post_id":75532366,"comment_id":133263336,"body_markdown":"Make sure you have the right version of java! Do you have java 17 installed? There is also a line that says your plugin might be out of date. So make sure your plugin is for that fabric version you are running.","body":"Make sure you have the right version of java! Do you have java 17 installed? There is also a line that says your plugin might be out of date. So make sure your plugin is for that fabric version you are running."},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1677117249,"post_id":75532366,"comment_id":133276471,"body_markdown":"Make sure you have the right version of *Minecraft*, it has to match Fabric Loader, Fabric API and your mod.","body":"Make sure you have the right version of <i>Minecraft</i>, it has to match Fabric Loader, Fabric API and your mod."}],"answers":[{"tags":[],"owner":{"account_id":27804000,"reputation":1,"user_id":21227880,"display_name":"Esyuran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677073125,"creation_date":1677073071,"answer_id":75533492,"question_id":75532366,"body_markdown":"Ok Someone told me the answerer. Shadow dose some wired things. You can just use looms `include implementation(&quot;yourDependencyHere&quot;);`\r\nUpdated build.grandle :\r\n```\r\nplugins {\r\n\tid &#39;fabric-loom&#39; version &#39;1.1-SNAPSHOT&#39;\r\n\tid &#39;maven-publish&#39;\r\n\r\n}\r\n\r\nsourceCompatibility = JavaVersion.VERSION_17\r\ntargetCompatibility = JavaVersion.VERSION_17\r\n\r\narchivesBaseName = project.archives_base_name\r\nversion = project.mod_version\r\ngroup = project.maven_group\r\n\r\nrepositories {\r\n\t// Add repositories to retrieve artifacts from in here.\r\n\t// You should only use this when depending on other mods because\r\n\t// Loom adds the essential maven repositories to download Minecraft and libraries from automatically.\r\n\t// See https://docs.gradle.org/current/userguide/declaring_repositories.html\r\n\t// for more information about repositories.\r\n}\r\n\r\ndependencies {\r\n\r\n\tinclude implementation( &quot;org.jsoup:jsoup:1.15.4&quot;)\r\n\tinclude implementation( &quot;org.seleniumhq.selenium:selenium-java:4.8.1&quot;)\r\n\t// To change the versions see the gradle.properties file\r\n\tminecraft &quot;com.mojang:minecraft:${project.minecraft_version}&quot;\r\n\tmappings &quot;net.fabricmc:yarn:${project.yarn_mappings}:v2&quot;\r\n\tmodImplementation &quot;net.fabricmc:fabric-loader:${project.loader_version}&quot;\r\n\r\n\t// Fabric API. This is technically optional, but you probably want it anyway.\r\n\tmodImplementation &quot;net.fabricmc.fabric-api:fabric-api:0.74.0+1.19.3&quot;\r\n\r\n\t// Uncomment the following line to enable the deprecated Fabric API modules. \r\n\t// These are included in the Fabric API production distribution and allow you to update your mod to the latest modules at a later more convenient time.\r\n\r\n\tmodImplementation &quot;net.fabricmc.fabric-api:fabric-api-deprecated:${project.fabric_version}&quot;\r\n}\r\n```","title":"Fabric 1.19.3 Mod crashes in Minecraft Launcher but not in IDE","body":"<p>Ok Someone told me the answerer. Shadow dose some wired things. You can just use looms <code>include implementation(&quot;yourDependencyHere&quot;);</code>\nUpdated build.grandle :</p>\n<pre><code>plugins {\n    id 'fabric-loom' version '1.1-SNAPSHOT'\n    id 'maven-publish'\n\n}\n\nsourceCompatibility = JavaVersion.VERSION_17\ntargetCompatibility = JavaVersion.VERSION_17\n\narchivesBaseName = project.archives_base_name\nversion = project.mod_version\ngroup = project.maven_group\n\nrepositories {\n    // Add repositories to retrieve artifacts from in here.\n    // You should only use this when depending on other mods because\n    // Loom adds the essential maven repositories to download Minecraft and libraries from automatically.\n    // See https://docs.gradle.org/current/userguide/declaring_repositories.html\n    // for more information about repositories.\n}\n\ndependencies {\n\n    include implementation( &quot;org.jsoup:jsoup:1.15.4&quot;)\n    include implementation( &quot;org.seleniumhq.selenium:selenium-java:4.8.1&quot;)\n    // To change the versions see the gradle.properties file\n    minecraft &quot;com.mojang:minecraft:${project.minecraft_version}&quot;\n    mappings &quot;net.fabricmc:yarn:${project.yarn_mappings}:v2&quot;\n    modImplementation &quot;net.fabricmc:fabric-loader:${project.loader_version}&quot;\n\n    // Fabric API. This is technically optional, but you probably want it anyway.\n    modImplementation &quot;net.fabricmc.fabric-api:fabric-api:0.74.0+1.19.3&quot;\n\n    // Uncomment the following line to enable the deprecated Fabric API modules. \n    // These are included in the Fabric API production distribution and allow you to update your mod to the latest modules at a later more convenient time.\n\n    modImplementation &quot;net.fabricmc.fabric-api:fabric-api-deprecated:${project.fabric_version}&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":27804000,"reputation":1,"user_id":21227880,"display_name":"Esyuran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":661,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677983044,"creation_date":1677066936,"question_id":75532366,"body_markdown":"I have a minecraft mod that implements selenium and jsoup. It works perfectly fine when working in my IDE but when I export it as a shadowJar and ad it to my mod folder Minecraft crashes with exit code 1. I am new to Fabric mod development, so I would appreciate it if someone could help me out.\r\n\r\nHow I implemented the selenium and jsoup in my build.grandle:\r\n\r\n```\r\nplugins {\r\n\tid &#39;fabric-loom&#39; version &#39;1.1-SNAPSHOT&#39;\r\n\tid &#39;maven-publish&#39;\r\n\tid &#39;com.github.johnrengelman.shadow&#39; version &#39;7.1.2&#39;\r\n}\r\n\r\nsourceCompatibility = JavaVersion.VERSION_17\r\ntargetCompatibility = JavaVersion.VERSION_17\r\n\r\narchivesBaseName = project.archives_base_name\r\nversion = project.mod_version\r\ngroup = project.maven_group\r\n\r\nrepositories {\r\n\t// Add repositories to retrieve artifacts from in here.\r\n\t// You should only use this when depending on other mods because\r\n\t// Loom adds the essential maven repositories to download Minecraft and libraries from automatically.\r\n\t// See https://docs.gradle.org/current/userguide/declaring_repositories.html\r\n\t// for more information about repositories.\r\n}\r\n\r\ndependencies {\r\n\timplementation &quot;org.jsoup:jsoup:1.15.4&quot;\r\n\timplementation &quot;org.seleniumhq.selenium:selenium-java:4.8.1&quot;\r\n\t// To change the versions see the gradle.properties file\r\n\tminecraft &quot;com.mojang:minecraft:${project.minecraft_version}&quot;\r\n\tmappings &quot;net.fabricmc:yarn:${project.yarn_mappings}:v2&quot;\r\n\tmodImplementation &quot;net.fabricmc:fabric-loader:${project.loader_version}&quot;\r\n\r\n\t// Fabric API. This is technically optional, but you probably want it anyway.\r\n\tmodImplementation &quot;net.fabricmc.fabric-api:fabric-api:0.74.0+1.19.3&quot;\r\n\r\n\t// Uncomment the following line to enable the deprecated Fabric API modules. \r\n\t// These are included in the Fabric API production distribution and allow you to update your mod to the latest modules at a later more convenient time.\r\n\r\n\tmodImplementation &quot;net.fabricmc.fabric-api:fabric-api-deprecated:${project.fabric_version}&quot;\r\n}\r\n```\r\nThe error Minecraft gives me:\r\n\r\n```\r\nError loading companion plugin class [net.fabricmc.fabric.impl.client.indigo.IndigoMixinConfigPlugin] for mixin config [fabric-renderer-indigo.mixins.json]. The plugin may be out of date: ClassCastException:class net.fabricmc.fabric.impl.client.indigo.IndigoMixinConfigPlugin cannot be cast to class org.spongepowered.asm.mixin.extensibility.IMixinConfigPlugin (net.fabricmc.fabric.impl.client.indigo.IndigoMixinConfigPlugin is in unnamed module of loader net.fabricmc.loader.impl.launch.knot.KnotClassLoader @429bd883; org.spongepowered.asm.mixin.extensibility.IMixinConfigPlugin is in unnamed module of loader &#39;app&#39;)\r\njava.lang.ClassCastException: class net.fabricmc.fabric.impl.client.indigo.IndigoMixinConfigPlugin cannot be cast to class org.spongepowered.asm.mixin.extensibility.IMixinConfigPlugin (net.fabricmc.fabric.impl.client.indigo.IndigoMixinConfigPlugin is in unnamed module of loader net.fabricmc.loader.impl.launch.knot.KnotClassLoader @429bd883; org.spongepowered.asm.mixin.extensibility.IMixinConfigPlugin is in unnamed module of loader &#39;app&#39;)\r\n\tat org.spongepowered.asm.mixin.transformer.PluginHandle.&lt;init&gt;(PluginHandle.java:97)\r\n\tat org.spongepowered.asm.mixin.transformer.MixinConfig.onSelect(MixinConfig.java:708)\r\n\tat org.spongepowered.asm.mixin.transformer.MixinProcessor.selectConfigs(MixinProcessor.java:498)\r\n\tat org.spongepowered.asm.mixin.transformer.MixinProcessor.select(MixinProcessor.java:460)\r\n\tat org.spongepowered.asm.mixin.transformer.MixinProcessor.checkSelect(MixinProcessor.java:438)\r\n\tat org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:290)\r\n\tat org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClass(MixinTransformer.java:234)\r\n\tat org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClassBytes(MixinTransformer.java:202)\r\n\tat net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.getPostMixinClassByteArray(KnotClassDelegate.java:422)\r\n\tat net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.tryLoadClass(KnotClassDelegate.java:323)\r\n\tat net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:218)\r\n\tat net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:112)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\tat net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:454)\r\n\tat net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:74)\r\n\tat net.fabricmc.loader.impl.launch.knot.KnotClient.main(KnotClient.java:23)\r\n12:36:54.465\r\nMixin apply for mod fabric-crash-report-info-v1 failed fabric-crash-report-info-v1.mixins.json:SystemDetailsMixin from mod fabric-crash-report-info-v1 -&gt; net.minecraft.util.SystemDetails: org.spongepowered.asm.mixin.transformer.throwables.InvalidMixinException @Shadow method method_37123 in fabric-crash-report-info-v1.mixins.json:SystemDetailsMixin from mod fabric-crash-report-info-v1 was not located in the target class net.minecraft.util.SystemDetails. Using refmap fabric-crash-report-info-v1-refmap.json\r\norg.spongepowered.asm.mixin.transformer.throwables.InvalidMixinException: @Shadow method method_37123 in fabric-crash-report-info-v1.mixins.json:SystemDetailsMixin from mod fabric-crash-report-info-v1 was not located in the target class net.minecraft.util.SystemDetails. Using refmap fabric-crash-report-info-v1-refmap.json\r\n\tat org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attachSpecialMethod(MixinPreProcessorStandard.java:436)\r\n\tat org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attachShadowMethod(MixinPreProcessorStandard.java:412)\r\n\tat org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attachMethods(MixinPreProcessorStandard.java:340)\r\n\tat org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attach(MixinPreProcessorStandard.java:299)\r\n\tat org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.createContextFor(MixinPreProcessorStandard.java:277)\r\n\tat org.spongepowered.asm.mixin.transformer.MixinInfo.createContextFor(MixinInfo.java:1289)\r\n\tat org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.apply(MixinApplicatorStandard.java:292)\r\n\tat org.spongepowered.asm.mixin.transformer.TargetClassContext.apply(TargetClassContext.java:421)\r\n\tat org.spongepowered.asm.mixin.transformer.TargetClassContext.applyMixins(TargetClassContext.java:403)\r\n\tat org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:363)\r\n\tat org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClass(MixinTransformer.java:234)\r\n\tat org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClassBytes(MixinTransformer.java:202)\r\n\tat net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.getPostMixinClassByteArray(KnotClassDelegate.java:422)\r\n\tat net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.tryLoadClass(KnotClassDelegate.java:323)\r\n\tat net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:218)\r\n\tat net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:112)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\tat net.minecraft.util.crash.CrashReport.&lt;init&gt;(CrashReport.java:41)\r\n\tat net.minecraft.util.crash.CrashReport.initCrashReport(CrashReport.java:227)\r\n\tat net.minecraft.client.main.Main.main(Main.java:152)\r\n\tat net.minecraft.client.main.Main.main(Main.java:56)\r\n\tat net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:461)\r\n\tat net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:74)\r\n\tat net.fabricmc.loader.impl.launch.knot.KnotClient.main(KnotClient.java:23)\r\n```\r\n\r\n","title":"Fabric 1.19.3 Mod crashes in Minecraft Launcher but not in IDE","body":"<p>I have a minecraft mod that implements selenium and jsoup. It works perfectly fine when working in my IDE but when I export it as a shadowJar and ad it to my mod folder Minecraft crashes with exit code 1. I am new to Fabric mod development, so I would appreciate it if someone could help me out.</p>\n<p>How I implemented the selenium and jsoup in my build.grandle:</p>\n<pre><code>plugins {\n    id 'fabric-loom' version '1.1-SNAPSHOT'\n    id 'maven-publish'\n    id 'com.github.johnrengelman.shadow' version '7.1.2'\n}\n\nsourceCompatibility = JavaVersion.VERSION_17\ntargetCompatibility = JavaVersion.VERSION_17\n\narchivesBaseName = project.archives_base_name\nversion = project.mod_version\ngroup = project.maven_group\n\nrepositories {\n    // Add repositories to retrieve artifacts from in here.\n    // You should only use this when depending on other mods because\n    // Loom adds the essential maven repositories to download Minecraft and libraries from automatically.\n    // See https://docs.gradle.org/current/userguide/declaring_repositories.html\n    // for more information about repositories.\n}\n\ndependencies {\n    implementation &quot;org.jsoup:jsoup:1.15.4&quot;\n    implementation &quot;org.seleniumhq.selenium:selenium-java:4.8.1&quot;\n    // To change the versions see the gradle.properties file\n    minecraft &quot;com.mojang:minecraft:${project.minecraft_version}&quot;\n    mappings &quot;net.fabricmc:yarn:${project.yarn_mappings}:v2&quot;\n    modImplementation &quot;net.fabricmc:fabric-loader:${project.loader_version}&quot;\n\n    // Fabric API. This is technically optional, but you probably want it anyway.\n    modImplementation &quot;net.fabricmc.fabric-api:fabric-api:0.74.0+1.19.3&quot;\n\n    // Uncomment the following line to enable the deprecated Fabric API modules. \n    // These are included in the Fabric API production distribution and allow you to update your mod to the latest modules at a later more convenient time.\n\n    modImplementation &quot;net.fabricmc.fabric-api:fabric-api-deprecated:${project.fabric_version}&quot;\n}\n</code></pre>\n<p>The error Minecraft gives me:</p>\n<pre><code>Error loading companion plugin class [net.fabricmc.fabric.impl.client.indigo.IndigoMixinConfigPlugin] for mixin config [fabric-renderer-indigo.mixins.json]. The plugin may be out of date: ClassCastException:class net.fabricmc.fabric.impl.client.indigo.IndigoMixinConfigPlugin cannot be cast to class org.spongepowered.asm.mixin.extensibility.IMixinConfigPlugin (net.fabricmc.fabric.impl.client.indigo.IndigoMixinConfigPlugin is in unnamed module of loader net.fabricmc.loader.impl.launch.knot.KnotClassLoader @429bd883; org.spongepowered.asm.mixin.extensibility.IMixinConfigPlugin is in unnamed module of loader 'app')\njava.lang.ClassCastException: class net.fabricmc.fabric.impl.client.indigo.IndigoMixinConfigPlugin cannot be cast to class org.spongepowered.asm.mixin.extensibility.IMixinConfigPlugin (net.fabricmc.fabric.impl.client.indigo.IndigoMixinConfigPlugin is in unnamed module of loader net.fabricmc.loader.impl.launch.knot.KnotClassLoader @429bd883; org.spongepowered.asm.mixin.extensibility.IMixinConfigPlugin is in unnamed module of loader 'app')\n    at org.spongepowered.asm.mixin.transformer.PluginHandle.&lt;init&gt;(PluginHandle.java:97)\n    at org.spongepowered.asm.mixin.transformer.MixinConfig.onSelect(MixinConfig.java:708)\n    at org.spongepowered.asm.mixin.transformer.MixinProcessor.selectConfigs(MixinProcessor.java:498)\n    at org.spongepowered.asm.mixin.transformer.MixinProcessor.select(MixinProcessor.java:460)\n    at org.spongepowered.asm.mixin.transformer.MixinProcessor.checkSelect(MixinProcessor.java:438)\n    at org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:290)\n    at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClass(MixinTransformer.java:234)\n    at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClassBytes(MixinTransformer.java:202)\n    at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.getPostMixinClassByteArray(KnotClassDelegate.java:422)\n    at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.tryLoadClass(KnotClassDelegate.java:323)\n    at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:218)\n    at net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:112)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:454)\n    at net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:74)\n    at net.fabricmc.loader.impl.launch.knot.KnotClient.main(KnotClient.java:23)\n12:36:54.465\nMixin apply for mod fabric-crash-report-info-v1 failed fabric-crash-report-info-v1.mixins.json:SystemDetailsMixin from mod fabric-crash-report-info-v1 -&gt; net.minecraft.util.SystemDetails: org.spongepowered.asm.mixin.transformer.throwables.InvalidMixinException @Shadow method method_37123 in fabric-crash-report-info-v1.mixins.json:SystemDetailsMixin from mod fabric-crash-report-info-v1 was not located in the target class net.minecraft.util.SystemDetails. Using refmap fabric-crash-report-info-v1-refmap.json\norg.spongepowered.asm.mixin.transformer.throwables.InvalidMixinException: @Shadow method method_37123 in fabric-crash-report-info-v1.mixins.json:SystemDetailsMixin from mod fabric-crash-report-info-v1 was not located in the target class net.minecraft.util.SystemDetails. Using refmap fabric-crash-report-info-v1-refmap.json\n    at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attachSpecialMethod(MixinPreProcessorStandard.java:436)\n    at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attachShadowMethod(MixinPreProcessorStandard.java:412)\n    at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attachMethods(MixinPreProcessorStandard.java:340)\n    at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attach(MixinPreProcessorStandard.java:299)\n    at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.createContextFor(MixinPreProcessorStandard.java:277)\n    at org.spongepowered.asm.mixin.transformer.MixinInfo.createContextFor(MixinInfo.java:1289)\n    at org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.apply(MixinApplicatorStandard.java:292)\n    at org.spongepowered.asm.mixin.transformer.TargetClassContext.apply(TargetClassContext.java:421)\n    at org.spongepowered.asm.mixin.transformer.TargetClassContext.applyMixins(TargetClassContext.java:403)\n    at org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:363)\n    at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClass(MixinTransformer.java:234)\n    at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClassBytes(MixinTransformer.java:202)\n    at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.getPostMixinClassByteArray(KnotClassDelegate.java:422)\n    at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.tryLoadClass(KnotClassDelegate.java:323)\n    at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:218)\n    at net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:112)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at net.minecraft.util.crash.CrashReport.&lt;init&gt;(CrashReport.java:41)\n    at net.minecraft.util.crash.CrashReport.initCrashReport(CrashReport.java:227)\n    at net.minecraft.client.main.Main.main(Main.java:152)\n    at net.minecraft.client.main.Main.main(Main.java:56)\n    at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:461)\n    at net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:74)\n    at net.fabricmc.loader.impl.launch.knot.KnotClient.main(KnotClient.java:23)\n</code></pre>\n"},{"tags":["java","minecraft","minecraft-forge"],"owner":{"account_id":27855138,"reputation":1,"user_id":21268807,"display_name":"Gabriel Snow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677983026,"creation_date":1677104276,"question_id":75538701,"body_markdown":"I am currently working on a Minecraft bot because I want to learn Java as a student but I can&#39;t seem to find the specific code I am looking for to make this happen.\r\n\r\nMy code:\r\n\r\n```java\r\n    \tnew Thread(() -&gt; {\r\n        \tif(StartStop) {\r\n            \tMinecraft minecraft = Minecraft.getInstance();\r\n            \tminecraft.player.setXRot(0);\r\n            \tminecraft.player.setYRot(90);\r\n            \tint x = (int) minecraft.player.getX();\r\n            \tint z = (int) minecraft.player.getZ();\r\n            \tBaritoneAPI.getSettings().allowSprint.value = true;\r\n            \tBaritoneAPI.getSettings().primaryTimeoutMS.value = 2000L;\r\n            \tICustomGoalProcess customGoalProcess = BaritoneAPI.getProvider().getPrimaryBaritone().getCustomGoalProcess();\r\n            \tcustomGoalProcess.setGoalAndPath(new GoalXZ(x + 20, z + 20));\r\n            \twhile (customGoalProcess.isActive() &amp;&amp; StartStop) {\r\n            \t\t//start holding attack button\r\n            \t}\r\n            \tminecraft.player.setYRot(-90);\r\n            \tminecraft.options.keyAttack.setDown(false);\r\n        \t}\r\n    \t}).start();\r\n```\r\n\r\n\r\nI tried using minecraft.gameOptions but that doesn&#39;t seem to work, I&#39;m not sure why, maybe because I&#39;m using forge for 1.18.1. I tried minecraft.options.keyAttack.setDown(true); but that just seems to deactivate the button.","title":"How to make a Minecraft mod that will hold the attack button (usually left mouse click) when &quot;///start&quot; is typed in chat?","body":"<p>I am currently working on a Minecraft bot because I want to learn Java as a student but I can't seem to find the specific code I am looking for to make this happen.</p>\n<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        new Thread(() -&gt; {\n            if(StartStop) {\n                Minecraft minecraft = Minecraft.getInstance();\n                minecraft.player.setXRot(0);\n                minecraft.player.setYRot(90);\n                int x = (int) minecraft.player.getX();\n                int z = (int) minecraft.player.getZ();\n                BaritoneAPI.getSettings().allowSprint.value = true;\n                BaritoneAPI.getSettings().primaryTimeoutMS.value = 2000L;\n                ICustomGoalProcess customGoalProcess = BaritoneAPI.getProvider().getPrimaryBaritone().getCustomGoalProcess();\n                customGoalProcess.setGoalAndPath(new GoalXZ(x + 20, z + 20));\n                while (customGoalProcess.isActive() &amp;&amp; StartStop) {\n                    //start holding attack button\n                }\n                minecraft.player.setYRot(-90);\n                minecraft.options.keyAttack.setDown(false);\n            }\n        }).start();\n</code></pre>\n<p>I tried using minecraft.gameOptions but that doesn't seem to work, I'm not sure why, maybe because I'm using forge for 1.18.1. I tried minecraft.options.keyAttack.setDown(true); but that just seems to deactivate the button.</p>\n"},{"tags":["java","minecraft","minecraft-fabric"],"owner":{"account_id":9599911,"reputation":335,"user_id":7127837,"display_name":"Philipp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677982825,"creation_date":1677920802,"question_id":75634644,"body_markdown":"I am developing a Minecraft Fabric mod with custom player stats.\r\nHere is how I created a custom player stat: \r\n\r\n```java\r\npublic class ModStats {\r\n    public static final Identifier MINING_STAT = new Identifier(ExampleMod.MOD_ID, &quot;mining_stat&quot;);\r\n\r\n    public static void registerModStats() {\r\n        Registry.register(Registries.CUSTOM_STAT, &quot;mining_stat&quot;, MINING_STAT);\r\n        Stats.CUSTOM.getOrCreateStat(MINING_STAT, StatFormatter.DEFAULT);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n`registerModStats()` is called in the Mod main class.\r\nI increase the stat using a `MiningToolItemMixin`: \r\n\r\n```java\r\n@Mixin(MiningToolItem.class)\r\npublic class MiningToolItemMixin {\r\n    @Inject(at = @At(&quot;TAIL&quot;), method = &quot;postMine&quot;)\r\n    private void postMine(ItemStack stack, World world, BlockState state, BlockPos pos, LivingEntity miner,\r\n            CallbackInfoReturnable&lt;Boolean&gt; info) {\r\n        if (miner instanceof PlayerEntity player) {\r\n            player.incrementStat(ModStats.MINING_STAT);\r\n        }\r\n        System.out.println(&quot;MiningToolItemMixin&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nEverything works finde but **how can I get the stat value in other parts of the code?** \r\n\r\nI tired to get the stat via the `PlayerEntitiy` object but there are only methods to increase stats and to retreive stats.","title":"How to get the value of a player statistic?","body":"<p>I am developing a Minecraft Fabric mod with custom player stats.\nHere is how I created a custom player stat:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ModStats {\n    public static final Identifier MINING_STAT = new Identifier(ExampleMod.MOD_ID, &quot;mining_stat&quot;);\n\n    public static void registerModStats() {\n        Registry.register(Registries.CUSTOM_STAT, &quot;mining_stat&quot;, MINING_STAT);\n        Stats.CUSTOM.getOrCreateStat(MINING_STAT, StatFormatter.DEFAULT);\n    }\n\n}\n\n</code></pre>\n<p><code>registerModStats()</code> is called in the Mod main class.\nI increase the stat using a <code>MiningToolItemMixin</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mixin(MiningToolItem.class)\npublic class MiningToolItemMixin {\n    @Inject(at = @At(&quot;TAIL&quot;), method = &quot;postMine&quot;)\n    private void postMine(ItemStack stack, World world, BlockState state, BlockPos pos, LivingEntity miner,\n            CallbackInfoReturnable&lt;Boolean&gt; info) {\n        if (miner instanceof PlayerEntity player) {\n            player.incrementStat(ModStats.MINING_STAT);\n        }\n        System.out.println(&quot;MiningToolItemMixin&quot;);\n    }\n}\n\n</code></pre>\n<p>Everything works finde but <strong>how can I get the stat value in other parts of the code?</strong></p>\n<p>I tired to get the stat via the <code>PlayerEntitiy</code> object but there are only methods to increase stats and to retreive stats.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1677978945,"post_id":75639653,"comment_id":133444190,"body_markdown":"But [there is no best practice](https://www.satisfice.com/blog/archives/5164).  You should stop asking for &quot;best practice&quot; advice.  And tell your friends / teachers / colleagues to stop telling you that XYZ is &quot;best practice&quot;.","body":"But <a href=\"https://www.satisfice.com/blog/archives/5164\" rel=\"nofollow noreferrer\">there is no best practice</a>.  You should stop asking for &quot;best practice&quot; advice.  And tell your friends / teachers / colleagues to stop telling you that XYZ is &quot;best practice&quot;."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1677979208,"post_id":75639653,"comment_id":133444218,"body_markdown":"API 21 is Lollipop 5.0.  That was released in 2015.  Maybe it is time to not support it anymore.  See also https://endoflife.date/android.  You shouldn&#39;t be encouraging users to continue using a platform that is EOL.  It is bad for &gt;their&lt; security.","body":"API 21 is Lollipop 5.0.  That was released in 2015.  Maybe it is time to not support it anymore.  See also <a href=\"https://endoflife.date/android\" rel=\"nofollow noreferrer\">endoflife.date/android</a>.  You shouldn&#39;t be encouraging users to continue using a platform that is EOL.  It is bad for &gt;their&lt; security."},{"owner":{"account_id":2402475,"reputation":2164,"user_id":2099848,"accept_rate":76,"display_name":"Chaoz"},"score":1,"creation_date":1677980817,"post_id":75639653,"comment_id":133444400,"body_markdown":"@StephenC While that may be true, the percentage of Android phones with a version older than 7.0 (which I believe introduced Java 8 &amp; Optionals) is around~6%, which is significant percentage that you still want to reach.","body":"@StephenC While that may be true, the percentage of Android phones with a version older than 7.0 (which I believe introduced Java 8 &amp; Optionals) is around~6%, which is significant percentage that you still want to reach."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1677982430,"post_id":75639653,"comment_id":133444546,"body_markdown":"Yea ... no.  You have 94% of your market.  Don&#39;t be **greedy**.  It is not in your customer&#39;s interests to be encouraging them to use a woefully out-dated and (probably) insecure phone.  Ethics.","body":"Yea ... no.  You have 94% of your market.  Don&#39;t be <b>greedy</b>.  It is not in your customer&#39;s interests to be encouraging them to use a woefully out-dated and (probably) insecure phone.  Ethics."}],"answers":[{"tags":[],"owner":{"account_id":2402475,"reputation":2164,"user_id":2099848,"accept_rate":76,"display_name":"Chaoz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677982553,"creation_date":1677979158,"answer_id":75639687,"question_id":75639653,"body_markdown":"You _can_ use Java&#39;s Optional, even with an older min SDK level. The key is to add this to your &#39;build.gradle&#39;:\r\n\r\n```groovy\r\nandroid {\r\n    compileOptions {\r\n        // Flag to enable support for the new language APIs\r\n        coreLibraryDesugaringEnabled true\r\n        // Sets Java compatibility to Java 8\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n    // Use version 1.1.5 if you have Gradle older than 7.3.0\r\n    coreLibraryDesugaring &#39;com.android.tools:desugar_jdk_libs:1.2.2&#39;\r\n}\r\n```\r\n\r\nThis will instruct Gradle to compile your Java 8 code using Optionals, even lambdas and more to Java 7 bytecode using some tricks. Note that you need Gradle version 4.0.0 or later for those to work. You can find more information on what other features you can use by doing this on the official [Android Developer website][1], but most notable are:\r\n- lambdas\r\n- Streams\r\n- newer collections\r\n\r\n  [1]: https://developer.android.com/studio/write/java8-support","title":"What is the best alternative to Java&#39;s Optional if it isn&#39;t supported by earlier Android API versions?","body":"<p>You <em>can</em> use Java's Optional, even with an older min SDK level. The key is to add this to your 'build.gradle':</p>\n<pre><code>android {\n    compileOptions {\n        // Flag to enable support for the new language APIs\n        coreLibraryDesugaringEnabled true\n        // Sets Java compatibility to Java 8\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    // Use version 1.1.5 if you have Gradle older than 7.3.0\n    coreLibraryDesugaring 'com.android.tools:desugar_jdk_libs:1.2.2'\n}\n</code></pre>\n<p>This will instruct Gradle to compile your Java 8 code using Optionals, even lambdas and more to Java 7 bytecode using some tricks. Note that you need Gradle version 4.0.0 or later for those to work. You can find more information on what other features you can use by doing this on the official <a href=\"https://developer.android.com/studio/write/java8-support\" rel=\"nofollow noreferrer\">Android Developer website</a>, but most notable are:</p>\n<ul>\n<li>lambdas</li>\n<li>Streams</li>\n<li>newer collections</li>\n</ul>\n"}],"owner":{"account_id":9663139,"reputation":3,"user_id":7170469,"display_name":"Daniel Choi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75639687,"answer_count":1,"score":0,"last_activity_date":1677982553,"creation_date":1677978463,"question_id":75639653,"body_markdown":"When I attempt to use `Optional.empty()`, my IDE warns me that `Call requires API level 24 (current min is 21): java.util.Optional#empty`.\r\n\r\nI&#39;m assuming I cannot use Optional. Should I use `null`? Is there a best-practice alternative?","title":"What is the best alternative to Java&#39;s Optional if it isn&#39;t supported by earlier Android API versions?","body":"<p>When I attempt to use <code>Optional.empty()</code>, my IDE warns me that <code>Call requires API level 24 (current min is 21): java.util.Optional#empty</code>.</p>\n<p>I'm assuming I cannot use Optional. Should I use <code>null</code>? Is there a best-practice alternative?</p>\n"},{"tags":["java","android","security"],"comments":[{"owner":{"account_id":15456111,"reputation":319,"user_id":11300553,"display_name":"Sir Muffington"},"score":1,"creation_date":1677933016,"post_id":75636961,"comment_id":133439346,"body_markdown":"Welcome to the community. I&#39;m afraid this is a programming question and is off-topic here. I&#39;ve flagged it for migration though","body":"Welcome to the community. I&#39;m afraid this is a programming question and is off-topic here. I&#39;ve flagged it for migration though"},{"owner":{"account_id":5191021,"reputation":101,"user_id":4153947,"display_name":"bmaciejm"},"score":0,"creation_date":1682504404,"post_id":75636961,"comment_id":134225462,"body_markdown":"If someone sends an intent to your app he can put there anything he wants. Then without any validation, your app will run this intent using YOUR app permissions(e.g. accessing your app&#39;s private files or doing anything else your app was granted permission to.)\nRegarding your sample, someone can start other (non-exported) services that your app contains and send the action to be taken to them(what will happen next depends on the service&#39;s code)","body":"If someone sends an intent to your app he can put there anything he wants. Then without any validation, your app will run this intent using YOUR app permissions(e.g. accessing your app&#39;s private files or doing anything else your app was granted permission to.) Regarding your sample, someone can start other (non-exported) services that your app contains and send the action to be taken to them(what will happen next depends on the service&#39;s code)"},{"owner":{"account_id":27867437,"reputation":1,"user_id":21278687,"display_name":"anonmer"},"score":0,"creation_date":1682593697,"post_id":75636961,"comment_id":134242004,"body_markdown":"@bmaciejm Does it only happen with `getParcelableExtra` method or other methods such as `getStringExtra` etc?","body":"@bmaciejm Does it only happen with <code>getParcelableExtra</code> method or other methods such as <code>getStringExtra</code> etc?"},{"owner":{"account_id":5191021,"reputation":101,"user_id":4153947,"display_name":"bmaciejm"},"score":0,"creation_date":1682677895,"post_id":75636961,"comment_id":134256958,"body_markdown":"Depends on your implementation, if you are using the String obtained from e.g. `getStringExtra` as for example URL to load into webview, or a path to some data accessed by the content provider then yes. You need to consider all data that comes from outside of your application to any of your exported components as untrusted.","body":"Depends on your implementation, if you are using the String obtained from e.g. <code>getStringExtra</code> as for example URL to load into webview, or a path to some data accessed by the content provider then yes. You need to consider all data that comes from outside of your application to any of your exported components as untrusted."}],"owner":{"account_id":27867437,"reputation":1,"user_id":21278687,"display_name":"anonmer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677982432,"creation_date":1677932329,"question_id":75636961,"body_markdown":"What are the security implications of an Android app that exports an activity and accepts a parcelable intent as an extra to start a service? Specifically, in the code sample provided below, how can this vulnerability be exploited to redirect intents and start arbitrary components?\r\n\r\n```protected void onResume() {\r\n    // ...\r\n    handleIntentExtras(getIntent()); \r\n}\r\n\r\nprivate void handleIntentExtras(Intent intent) {\r\n    // ...\r\n    Intent deeplinkIntent = (Intent) intent.getParcelableExtra(&quot;extra_deep_link_intent&quot;);\r\n    //  ...\r\n    if (!(deeplinkIntent == null || this.consumedDeeplinkIntent)) {\r\n        // ...\r\n        startService(deeplinkIntent); \r\n        // ...\r\n    }\r\n    // ...\r\n}\r\n```\r\n","title":"Intent Redirection If The Activity Is Exported","body":"<p>What are the security implications of an Android app that exports an activity and accepts a parcelable intent as an extra to start a service? Specifically, in the code sample provided below, how can this vulnerability be exploited to redirect intents and start arbitrary components?</p>\n<pre><code>    // ...\n    handleIntentExtras(getIntent()); \n}\n\nprivate void handleIntentExtras(Intent intent) {\n    // ...\n    Intent deeplinkIntent = (Intent) intent.getParcelableExtra(&quot;extra_deep_link_intent&quot;);\n    //  ...\n    if (!(deeplinkIntent == null || this.consumedDeeplinkIntent)) {\n        // ...\n        startService(deeplinkIntent); \n        // ...\n    }\n    // ...\n}\n</code></pre>\n"},{"tags":["java","arrays","arraylist","variable-assignment"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1677921534,"post_id":75634604,"comment_id":133435708,"body_markdown":"You could just do `int[] Vars = new int[12];`. Or do you want the variable names also? In that case using a CSV reader can potentially save some typing.","body":"You could just do <code>int[] Vars = new int[12];</code>. Or do you want the variable names also? In that case using a CSV reader can potentially save some typing."},{"owner":{"account_id":27932841,"reputation":3,"user_id":21330447,"display_name":"Bloo"},"score":0,"creation_date":1677929260,"post_id":75634604,"comment_id":133436680,"body_markdown":"Yeah, I&#39;d like to keep the variable names for readability purposes.","body":"Yeah, I&#39;d like to keep the variable names for readability purposes."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677981758,"creation_date":1677925381,"answer_id":75635036,"question_id":75634604,"body_markdown":"Fleshing out @Sweeper&#39;s comment:\r\n\r\n    final int WINS = 0;\r\n    final int LOSSES = 1;\r\n    final int TIES = 2;\r\n    final int TRUE_TIES = 3;\r\n    final int P1_WINS = 4;\r\n    final int P1_LOSSES = 5;\r\n    final int P1_TIES = 6;\r\n    final int P1_TRUE_TIES = 7;\r\n    final int P2_WINS = 8;\r\n    final int P2_LOSSES = 9;\r\n    final int P2_TIES = 10;\r\n    final int P2_TRUE_TIES = 11;\r\n    \r\n    String[] grabbedLine = grabber.nextLine().split(&quot;,&quot;);\r\n    for (int i = WINS; i &lt;= P2_TRUE_TIES; i++) {\r\n        scores[i] = Integer.parseInt(grabbedLine[i]);\r\n    }\r\n\r\nOr you could use a `Map` with either `int` values (`WINS`, `LOSSES`, etc) as above) or `String` values (`&quot;wins&quot;`, `&quot;losses&quot;`, etc) as the keys.\r\n\r\nFinally, if the CSV&#39;s first row gives the column name (or even not), you could do something clever with reflection, assuming that the variables are actually object fields.\r\n\r\nBut there is no good way to put each score into a distinct (local) Java variable in the way you envisaged.  And you can&#39;t do C / C++ tricks like incrementing the addresses of variables.\r\n\r\n----------------------\r\n\r\nIf your criterion for efficiency is CPU time or Memory used, then your original approach cannot be improved on. AFAIK.","title":"Is there a more efficient way to quickly edit many variables with corresponding values from a table in Java?","body":"<p>Fleshing out @Sweeper's comment:</p>\n<pre><code>final int WINS = 0;\nfinal int LOSSES = 1;\nfinal int TIES = 2;\nfinal int TRUE_TIES = 3;\nfinal int P1_WINS = 4;\nfinal int P1_LOSSES = 5;\nfinal int P1_TIES = 6;\nfinal int P1_TRUE_TIES = 7;\nfinal int P2_WINS = 8;\nfinal int P2_LOSSES = 9;\nfinal int P2_TIES = 10;\nfinal int P2_TRUE_TIES = 11;\n\nString[] grabbedLine = grabber.nextLine().split(&quot;,&quot;);\nfor (int i = WINS; i &lt;= P2_TRUE_TIES; i++) {\n    scores[i] = Integer.parseInt(grabbedLine[i]);\n}\n</code></pre>\n<p>Or you could use a <code>Map</code> with either <code>int</code> values (<code>WINS</code>, <code>LOSSES</code>, etc) as above) or <code>String</code> values (<code>&quot;wins&quot;</code>, <code>&quot;losses&quot;</code>, etc) as the keys.</p>\n<p>Finally, if the CSV's first row gives the column name (or even not), you could do something clever with reflection, assuming that the variables are actually object fields.</p>\n<p>But there is no good way to put each score into a distinct (local) Java variable in the way you envisaged.  And you can't do C / C++ tricks like incrementing the addresses of variables.</p>\n<hr />\n<p>If your criterion for efficiency is CPU time or Memory used, then your original approach cannot be improved on. AFAIK.</p>\n"}],"owner":{"account_id":27932841,"reputation":3,"user_id":21330447,"display_name":"Bloo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75635036,"answer_count":1,"score":0,"last_activity_date":1677981758,"creation_date":1677920208,"question_id":75634604,"body_markdown":"Here is my current code snippet, without posting all the other information, assume that everything works correctly. There is nothing wrong with the code. As an example, I am reading a text document with Grabber, a Scanner object, with one line of text that will look like this:\r\n`5,4,6,1,10,10,10,10,0,0,0,0,`\r\nThere will never be more or less than 12 numbers on this first line, so there will never be an issue with out of bounds. Also, all variables getting an integer value are int types.\r\n\r\n```\r\nString[] Grabbed_Line = Grabber.nextLine().split(&quot;,&quot;); \r\nWins = Integer.parseInt(Grabbed_Line[0]);\r\nLosses = Integer.parseInt(Grabbed_Line[1]);\r\nTies = Integer.parseInt(Grabbed_Line[2]);\r\nTrueTies = Integer.parseInt(Grabbed_Line[3]);\r\nP1Wins = Integer.parseInt(Grabbed_Line[4]);\r\nP1Losses = Integer.parseInt(Grabbed_Line[5]);\r\nP1Ties = Integer.parseInt(Grabbed_Line[6]);\r\nP1TrueTies = Integer.parseInt(Grabbed_Line[7]);\r\nP2Wins = Integer.parseInt(Grabbed_Line[8]);\r\nP2Losses = Integer.parseInt(Grabbed_Line[9]);\r\nP2Ties = Integer.parseInt(Grabbed_Line[10]);\r\nP2TrueTies = Integer.parseInt(Grabbed_Line[11]);\r\n```\r\n\r\nIdeally, I&#39;d rather put all these variables into a table/array/arraylist and use a for statement to assign them, something like\r\n\r\n```\r\nString[] Grabbed_Line = Grabber.nextLine().split(&quot;,&quot;); \r\nint[] Vars = {Wins,Losses,Ties,TrueTies,P1Wins,P1Losses,P1Ties,P1TrueTies,P2Wins,P2Losses,P2Ties,P2TrueTies};\r\nfor(int Counter = 0; Counter &lt; 12; Counter++)\r\n      Vars[Counter] = Integer.parseInt(Grabbed_Line[Counter]);\r\n```\r\n\r\nObviously, I know this wouldn&#39;t work (I mean it would but not in the way I want); I&#39;m just passing int values into a table, it&#39;s not going to actually affect the variables. In C++, I&#39;d use pointers and addresses to do something like this, but from what I&#39;ve read, Java doesn&#39;t do this. I guess it&#39;d be different if they were references and not primitives, buuuut I&#39;m not sure how to go about this because I&#39;m dumb.\r\n\r\nOne thing I would have liked to try would have been to reference the variables by strings, as dumb as that sounds. I know some languages, tables/arrays can have strings as indexes, so I&#39;d be able to do that. Now that I think about it, does ArrayList support that? No, it doesn&#39;t look like it does. I could cheat by making an array of 12 integers at the beginning, and any time I would have normally changed one of those variables, I could just change the appropriate spot in the array, but then it would have become confusing to remember which index corresponds to what I want to save, like\r\n\r\n```\r\nint[12] Multiple_Vars; // Initialized at the beginning\r\nfor(int Counter=0;Counter&lt;12;Counter++)\r\n     Multiple_Vars[Counter] = 0;\r\n...\r\n... // later on in the code somewhere\r\nif(Your_Attack&gt;Their_Defense)\r\n     Multiple_Vars[7]+=1; // Was it the 8th or 3rd index that keeps track of points?\r\n...\r\n...\r\n```\r\n\r\nAm I missing something obvious or am I just going to have to bite the bullet and edit all the variables like the way I described in the beginning? I guess I could technically save typing space by making a function to save time on typing Integer.parseInt() over and over, but other than that, I can&#39;t think of any way.","title":"Is there a more efficient way to quickly edit many variables with corresponding values from a table in Java?","body":"<p>Here is my current code snippet, without posting all the other information, assume that everything works correctly. There is nothing wrong with the code. As an example, I am reading a text document with Grabber, a Scanner object, with one line of text that will look like this:\n<code>5,4,6,1,10,10,10,10,0,0,0,0,</code>\nThere will never be more or less than 12 numbers on this first line, so there will never be an issue with out of bounds. Also, all variables getting an integer value are int types.</p>\n<pre><code>String[] Grabbed_Line = Grabber.nextLine().split(&quot;,&quot;); \nWins = Integer.parseInt(Grabbed_Line[0]);\nLosses = Integer.parseInt(Grabbed_Line[1]);\nTies = Integer.parseInt(Grabbed_Line[2]);\nTrueTies = Integer.parseInt(Grabbed_Line[3]);\nP1Wins = Integer.parseInt(Grabbed_Line[4]);\nP1Losses = Integer.parseInt(Grabbed_Line[5]);\nP1Ties = Integer.parseInt(Grabbed_Line[6]);\nP1TrueTies = Integer.parseInt(Grabbed_Line[7]);\nP2Wins = Integer.parseInt(Grabbed_Line[8]);\nP2Losses = Integer.parseInt(Grabbed_Line[9]);\nP2Ties = Integer.parseInt(Grabbed_Line[10]);\nP2TrueTies = Integer.parseInt(Grabbed_Line[11]);\n</code></pre>\n<p>Ideally, I'd rather put all these variables into a table/array/arraylist and use a for statement to assign them, something like</p>\n<pre><code>String[] Grabbed_Line = Grabber.nextLine().split(&quot;,&quot;); \nint[] Vars = {Wins,Losses,Ties,TrueTies,P1Wins,P1Losses,P1Ties,P1TrueTies,P2Wins,P2Losses,P2Ties,P2TrueTies};\nfor(int Counter = 0; Counter &lt; 12; Counter++)\n      Vars[Counter] = Integer.parseInt(Grabbed_Line[Counter]);\n</code></pre>\n<p>Obviously, I know this wouldn't work (I mean it would but not in the way I want); I'm just passing int values into a table, it's not going to actually affect the variables. In C++, I'd use pointers and addresses to do something like this, but from what I've read, Java doesn't do this. I guess it'd be different if they were references and not primitives, buuuut I'm not sure how to go about this because I'm dumb.</p>\n<p>One thing I would have liked to try would have been to reference the variables by strings, as dumb as that sounds. I know some languages, tables/arrays can have strings as indexes, so I'd be able to do that. Now that I think about it, does ArrayList support that? No, it doesn't look like it does. I could cheat by making an array of 12 integers at the beginning, and any time I would have normally changed one of those variables, I could just change the appropriate spot in the array, but then it would have become confusing to remember which index corresponds to what I want to save, like</p>\n<pre><code>int[12] Multiple_Vars; // Initialized at the beginning\nfor(int Counter=0;Counter&lt;12;Counter++)\n     Multiple_Vars[Counter] = 0;\n...\n... // later on in the code somewhere\nif(Your_Attack&gt;Their_Defense)\n     Multiple_Vars[7]+=1; // Was it the 8th or 3rd index that keeps track of points?\n...\n...\n</code></pre>\n<p>Am I missing something obvious or am I just going to have to bite the bullet and edit all the variables like the way I described in the beginning? I guess I could technically save typing space by making a function to save time on typing Integer.parseInt() over and over, but other than that, I can't think of any way.</p>\n"},{"tags":["java","base64","aes"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1490066617,"post_id":42917768,"comment_id":72934363,"body_markdown":"What is value of `encryptEmail`? Does it by any chance have a space in it?","body":"What is value of <code>encryptEmail</code>? Does it by any chance have a space in it?"},{"owner":{"account_id":9705284,"reputation":97,"user_id":7198893,"accept_rate":0,"display_name":"Shamith S Kumar"},"score":0,"creation_date":1490067604,"post_id":42917768,"comment_id":72934641,"body_markdown":"yes, the &quot;+&quot; appears in the encrypted code get converted to space from spring controller","body":"yes, the &quot;+&quot; appears in the encrypted code get converted to space from spring controller"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1490067903,"post_id":42917768,"comment_id":72934720,"body_markdown":"Because you forgot to URL Encode the Base64 string, so the `+` would have been `%2B`.","body":"Because you forgot to URL Encode the Base64 string, so the <code>+</code> would have been <code>%2B</code>."},{"owner":{"account_id":9705284,"reputation":97,"user_id":7198893,"accept_rate":0,"display_name":"Shamith S Kumar"},"score":0,"creation_date":1490068787,"post_id":42917768,"comment_id":72934967,"body_markdown":"any suggestion to resolve the issue/","body":"any suggestion to resolve the issue/"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":4,"creation_date":1490071165,"post_id":42917768,"comment_id":72935666,"body_markdown":"Yes, **URL Encode the Base64 string** *(I already told you that you forgot to do that)* before sending it to the web server, aka Spring controller.","body":"Yes, <b>URL Encode the Base64 string</b> <i>(I already told you that you forgot to do that)</i> before sending it to the web server, aka Spring controller."},{"owner":{"account_id":2033317,"reputation":61286,"user_id":1816580,"display_name":"Artjom B."},"score":0,"creation_date":1490077839,"post_id":42917768,"comment_id":72937839,"body_markdown":"The other issue is that `decValue.toString()` should be `new String(decValue)`. But this can lead to wrong results, because you&#39;re not specifying the charset during encryption and decryption. It will use the platform default and it might be different during encryption and decryption.","body":"The other issue is that <code>decValue.toString()</code> should be <code>new String(decValue)</code>. But this can lead to wrong results, because you&#39;re not specifying the charset during encryption and decryption. It will use the platform default and it might be different during encryption and decryption."},{"owner":{"account_id":2033317,"reputation":61286,"user_id":1816580,"display_name":"Artjom B."},"score":0,"creation_date":1490077848,"post_id":42917768,"comment_id":72937842,"body_markdown":"**Never use [ECB mode](http://crypto.stackexchange.com/q/14487/13022)**. It&#39;s deterministic and therefore not semantically secure. You should at the very least use a randomized mode like [CBC](http://crypto.stackexchange.com/q/22260/13022) or [CTR](http://crypto.stackexchange.com/a/2378/13022). It is better to authenticate your ciphertexts so that attacks like a [padding oracle attack](http://crypto.stackexchange.com/q/18185/13022) are not possible. This can be done with authenticated modes like GCM or EAX, or with an [encrypt-then-MAC](http://crypto.stackexchange.com/q/202/13022) scheme.","body":"<b>Never use <a href=\"http://crypto.stackexchange.com/q/14487/13022\">ECB mode</a></b>. It&#39;s deterministic and therefore not semantically secure. You should at the very least use a randomized mode like <a href=\"http://crypto.stackexchange.com/q/22260/13022\">CBC</a> or <a href=\"http://crypto.stackexchange.com/a/2378/13022\">CTR</a>. It is better to authenticate your ciphertexts so that attacks like a <a href=\"http://crypto.stackexchange.com/q/18185/13022\">padding oracle attack</a> are not possible. This can be done with authenticated modes like GCM or EAX, or with an <a href=\"http://crypto.stackexchange.com/q/202/13022\">encrypt-then-MAC</a> scheme."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1677982175,"post_id":42917768,"comment_id":133444521,"body_markdown":"Does this answer your question? [What&#39;s the simplest way to print a Java array?](https://stackoverflow.com/questions/409784/whats-the-simplest-way-to-print-a-java-array)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/409784/whats-the-simplest-way-to-print-a-java-array\">What&#39;s the simplest way to print a Java array?</a>"}],"owner":{"account_id":9705284,"reputation":97,"user_id":7198893,"accept_rate":0,"display_name":"Shamith S Kumar"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16978,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"closed_date":1677984054,"answer_count":0,"score":5,"last_activity_date":1677981750,"creation_date":1490065978,"question_id":42917768,"body_markdown":"I am encryption and decryption using following code, while decryption I am getting a error while running. error message is &#39;Illegal base64 character 20&#39;\r\n\r\nEncryption code:\r\n    \r\n    String secretValue = &quot;sazhwsxplokmeroo&quot;;\r\n\tkeyValue = secretValue.getBytes();\r\n\tKey generatedKey = generateKey();\r\n\tCipher c = Cipher.getInstance(ALGO);\r\n\tc.init(Cipher.ENCRYPT_MODE, generatedKey);\r\n\tbyte[] encValue = c.doFinal(userEmail.getBytes());\r\n\tString encryptedValue = Base64.getEncoder().encodeToString(encValue);\r\n\r\nsecretKey:\r\n\r\n     private Key generateKey() {\r\n\t     Key secretKey = new SecretKeySpec(keyValue, ALGO);\r\n\t     return secretKey;\r\n\t}\r\n\r\nDecryption code:\r\n\r\n\r\n    String secretValue = &quot;sazhwsxplokmeroo&quot;;\r\n\tkeyValue = secretValue.getBytes();\r\n\tKey generatedKey = generateKey();\r\n\tCipher c = Cipher.getInstance(ALGO);\r\n\tc.init(Cipher.DECRYPT_MODE, generatedKey);\r\n\tbyte[] decodedValue = Base64.getDecoder().decode(encryptEmail.getBytes()); //error throws from this line as illegal base64 character 20\r\n\tbyte[] decValue = c.doFinal(decodedValue);\r\n\tString decryptedValue = decValue.toString();\r\n\r\nhow can I decrypt the encrypted value without error\r\n\r\n\r\nencrypted value = 3aW0qv4pN+y3Tj8raXDHtos95ChpLu2JzEnfW+KfgEE=\r\n\r\n\r\nthis value appears in the spring controller as = 3aW0qv4pN y3Tj8raXDHtos95ChpLu2JzEnfW KfgEE= \r\n\r\n\r\nit shows two spaces &quot;+&quot; get converted to &quot;(space)&quot;\r\n\r\nNow I have changed my secret key as &#39;sa278asabmnbmnbm&#39;\r\n\r\nI am getting encrypt value as 40SRNEe9PgaxEeprPyqlyeP08hBHq00Ow9WWBgP6ZTM=\r\n\r\nWhile  decrypt I am getting [B@75141845 as decrypted Value\r\n\r\nexpected : shamith@alraislabs.in \r\n","title":"console error &#39;Illegal base64 character 20&#39;","body":"<p>I am encryption and decryption using following code, while decryption I am getting a error while running. error message is 'Illegal base64 character 20'</p>\n\n<p>Encryption code:</p>\n\n<pre><code>String secretValue = \"sazhwsxplokmeroo\";\nkeyValue = secretValue.getBytes();\nKey generatedKey = generateKey();\nCipher c = Cipher.getInstance(ALGO);\nc.init(Cipher.ENCRYPT_MODE, generatedKey);\nbyte[] encValue = c.doFinal(userEmail.getBytes());\nString encryptedValue = Base64.getEncoder().encodeToString(encValue);\n</code></pre>\n\n<p>secretKey:</p>\n\n<pre><code> private Key generateKey() {\n     Key secretKey = new SecretKeySpec(keyValue, ALGO);\n     return secretKey;\n}\n</code></pre>\n\n<p>Decryption code:</p>\n\n<pre><code>String secretValue = \"sazhwsxplokmeroo\";\nkeyValue = secretValue.getBytes();\nKey generatedKey = generateKey();\nCipher c = Cipher.getInstance(ALGO);\nc.init(Cipher.DECRYPT_MODE, generatedKey);\nbyte[] decodedValue = Base64.getDecoder().decode(encryptEmail.getBytes()); //error throws from this line as illegal base64 character 20\nbyte[] decValue = c.doFinal(decodedValue);\nString decryptedValue = decValue.toString();\n</code></pre>\n\n<p>how can I decrypt the encrypted value without error</p>\n\n<p>encrypted value = 3aW0qv4pN+y3Tj8raXDHtos95ChpLu2JzEnfW+KfgEE=</p>\n\n<p>this value appears in the spring controller as = 3aW0qv4pN y3Tj8raXDHtos95ChpLu2JzEnfW KfgEE= </p>\n\n<p>it shows two spaces \"+\" get converted to \"(space)\"</p>\n\n<p>Now I have changed my secret key as 'sa278asabmnbmnbm'</p>\n\n<p>I am getting encrypt value as 40SRNEe9PgaxEeprPyqlyeP08hBHq00Ow9WWBgP6ZTM=</p>\n\n<p>While  decrypt I am getting [B@75141845 as decrypted Value</p>\n\n<p>expected : shamith@alraislabs.in </p>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":13385810,"reputation":862,"user_id":9659759,"display_name":"Jake"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677981292,"creation_date":1677981292,"answer_id":75639795,"question_id":75639641,"body_markdown":"You seem to be overthinking this - you can just do a simple one-pass for-loop over the array, store the max value, and then return it at the end: \r\n\r\n    public int getLargest(int[] arr)\r\n    {\r\n      int max = Integer.MIN_VALUE;\r\n      for (int i = 0; i &lt; arr.length; i++)\r\n      {\r\n        max = arr[i] &gt; max ? arr[i] : max;\r\n      }\r\n      return max;\r\n    }\r\n\r\nIf I were doing this for an interview, I might also ask about edge cases like &quot;what if the array is empty&quot; or &quot;do we need to extend this to other comparable data types, like strings&quot;?  But for the scope of your question, something like this is fine.  \r\n\r\nSorting and PriorityQueues are both non-ideal for this simple of an algorithm because both of them will run in O(nlog(n)) time, and potentially O(n) space as well.  A simple loop will run in O(n) time and O(1) space, which is much better.  \r\n\r\nNow, if you wanted to find the K largest numbers, then sorting or a PQ will be very appropriate.  ","title":"Largest Number in Array via Priority Queue and Break Out of Program?","body":"<p>You seem to be overthinking this - you can just do a simple one-pass for-loop over the array, store the max value, and then return it at the end:</p>\n<pre><code>public int getLargest(int[] arr)\n{\n  int max = Integer.MIN_VALUE;\n  for (int i = 0; i &lt; arr.length; i++)\n  {\n    max = arr[i] &gt; max ? arr[i] : max;\n  }\n  return max;\n}\n</code></pre>\n<p>If I were doing this for an interview, I might also ask about edge cases like &quot;what if the array is empty&quot; or &quot;do we need to extend this to other comparable data types, like strings&quot;?  But for the scope of your question, something like this is fine.</p>\n<p>Sorting and PriorityQueues are both non-ideal for this simple of an algorithm because both of them will run in O(nlog(n)) time, and potentially O(n) space as well.  A simple loop will run in O(n) time and O(1) space, which is much better.</p>\n<p>Now, if you wanted to find the K largest numbers, then sorting or a PQ will be very appropriate.</p>\n"}],"owner":{"account_id":27937348,"reputation":1,"user_id":21334047,"display_name":"programmer0x06"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677981292,"creation_date":1677978284,"question_id":75639641,"body_markdown":"The other day a recruiter asked me the following question:\r\n\r\n&gt; When asked to find the largest number in an array would you use sort or a for loop (keeping time efficiency of executing a priority on very large arrays). The program should end after finding the largest element, so nothing needs to be done with the array or elements after.\r\n\r\n\r\n\r\nAm new to these type of coding puzzles (e.g. asking about priority on very large arrays) so my initial pass is this:\r\n\r\n\r\n```java\r\npublic class Solution {\r\n    public static int getLargestNumber(int[] array) {\r\n        Arrays.sort(array);\r\n        return array[array.length-1];\r\n    }\r\n}\r\n```\r\n\r\nUnit test:\r\n\r\n```java\r\n@Test\r\npublic void largestNumber() {\r\n    int [] array = new int [] {17, 21, 3, 6, 9, 3, 15};\r\n    int largestNumber = Solution.getLargestNumber(array);\r\n    assertEquals(21, largestNumber);\r\n}\r\n```\r\n\r\nBased on this question, however, is this seeking something else like a priority queue and what does it mean to end as soon as the largest number is obtained?","title":"Largest Number in Array via Priority Queue and Break Out of Program?","body":"<p>The other day a recruiter asked me the following question:</p>\n<blockquote>\n<p>When asked to find the largest number in an array would you use sort or a for loop (keeping time efficiency of executing a priority on very large arrays). The program should end after finding the largest element, so nothing needs to be done with the array or elements after.</p>\n</blockquote>\n<p>Am new to these type of coding puzzles (e.g. asking about priority on very large arrays) so my initial pass is this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Solution {\n    public static int getLargestNumber(int[] array) {\n        Arrays.sort(array);\n        return array[array.length-1];\n    }\n}\n</code></pre>\n<p>Unit test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void largestNumber() {\n    int [] array = new int [] {17, 21, 3, 6, 9, 3, 15};\n    int largestNumber = Solution.getLargestNumber(array);\n    assertEquals(21, largestNumber);\n}\n</code></pre>\n<p>Based on this question, however, is this seeking something else like a priority queue and what does it mean to end as soon as the largest number is obtained?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1677981511,"post_id":75639763,"comment_id":133444463,"body_markdown":"Similar question: [How can I use the (OpenCV) files in the project files?](https://stackoverflow.com/q/61545861/295004)","body":"Similar question: <a href=\"https://stackoverflow.com/q/61545861/295004\">How can I use the (OpenCV) files in the project files?</a>"}],"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677980638,"creation_date":1677980638,"question_id":75639763,"body_markdown":"I need to call the OpenCV function `readNetFromDarknet` but I am getting the data from an Asset&#39;s `InputStream` as shown in the code below\r\n\r\nI am able to correctly parse the class names from the `coco.names` asset using `BufferedReader`, \r\nHowever, I cannot explicitly pass the &quot;yolov4-tiny.cfg&quot; and &quot;yolov4-tiny.weights&quot; `InputStream`s to the `readNetFromDarknet` function.\r\n\r\nHow can I appropriately call this function? \r\nIs there a path to these assets that I can use?\r\nOr do I need to first export the assets as files onto the android device from the input stream and then call the function?\r\n\r\n    public DNN(Context m_context){\r\n\r\n        AssetManager assetManager = m_context.getAssets();\r\n\r\n        try {\r\n            InputStream ims1 = assetManager.open(&quot;coco.names&quot;);\r\n            InputStream ims2 = assetManager.open(&quot;yolov4-tiny.cfg&quot;);\r\n            InputStream ims3 = assetManager.open(&quot;yolov4-tiny.weights&quot;);\r\n            classes = new BufferedReader(new InputStreamReader(ims1, StandardCharsets.UTF_8)).lines().collect(Collectors.toList());\r\n        }\r\n        catch(IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        net = Dnn.readNetFromDarknet(&quot;yolov4-tiny.cfg&quot;, &quot;yolov4-tiny.weights&quot;);\r\n    }","title":"Using OpenCV ReadNet on Asset InputStream in Java on Android","body":"<p>I need to call the OpenCV function <code>readNetFromDarknet</code> but I am getting the data from an Asset's <code>InputStream</code> as shown in the code below</p>\n<p>I am able to correctly parse the class names from the <code>coco.names</code> asset using <code>BufferedReader</code>,\nHowever, I cannot explicitly pass the &quot;yolov4-tiny.cfg&quot; and &quot;yolov4-tiny.weights&quot; <code>InputStream</code>s to the <code>readNetFromDarknet</code> function.</p>\n<p>How can I appropriately call this function?\nIs there a path to these assets that I can use?\nOr do I need to first export the assets as files onto the android device from the input stream and then call the function?</p>\n<pre><code>public DNN(Context m_context){\n\n    AssetManager assetManager = m_context.getAssets();\n\n    try {\n        InputStream ims1 = assetManager.open(&quot;coco.names&quot;);\n        InputStream ims2 = assetManager.open(&quot;yolov4-tiny.cfg&quot;);\n        InputStream ims3 = assetManager.open(&quot;yolov4-tiny.weights&quot;);\n        classes = new BufferedReader(new InputStreamReader(ims1, StandardCharsets.UTF_8)).lines().collect(Collectors.toList());\n    }\n    catch(IOException e) {\n        e.printStackTrace();\n    }\n\n    net = Dnn.readNetFromDarknet(&quot;yolov4-tiny.cfg&quot;, &quot;yolov4-tiny.weights&quot;);\n}\n</code></pre>\n"},{"tags":["java","logging","logback"],"answers":[{"tags":[],"owner":{"account_id":1293628,"reputation":11570,"user_id":1245240,"accept_rate":85,"display_name":"Robert H"},"down_vote_count":0,"up_vote_count":121,"is_accepted":true,"score":121,"last_activity_date":1452096113,"creation_date":1357574900,"answer_id":14199642,"question_id":2602415,"body_markdown":"Although this is an old question, I felt that a working answer is appropriate to help anyone who requires this kind of implementation. \r\n\r\nI use the following logback configuration to provide an HTML log, rolled over by date and filesize, as well as logging to console for debugging output. \r\n\r\nLogfiles are stored in a `logs` directory with a name of `logFile.html` while its active, and `logFile.2013-mm-dd.i.html` when it rolls over, where i is the number of 50MB log files. For instance `logFile.2013-01-07.0.html`.\r\n\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;configuration&gt;\r\n\r\n      &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;!-- encoders are assigned the type\r\n   \t\t\t ch.qos.logback.classic.encoder.PatternLayoutEncoder by default --&gt;\r\n        &lt;encoder&gt;\r\n          &lt;charset&gt;UTF-8&lt;/charset&gt;\r\n          &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %highlight(%-5level) %cyan(%logger{35}) - %msg %n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n      &lt;/appender&gt;\r\n    \r\n      &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;file&gt;logs\\logFile.html&lt;/file&gt;\r\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n          &lt;!-- daily rollover --&gt;\r\n          &lt;fileNamePattern&gt;logs\\logFile.%d{yyyy-MM-dd}.%i.html&lt;/fileNamePattern&gt;\r\n          &lt;timeBasedFileNamingAndTriggeringPolicy\r\n              class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\r\n              &lt;!-- or whenever the file size reaches 50MB --&gt;\r\n            &lt;maxFileSize&gt;50MB&lt;/maxFileSize&gt;\r\n          &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\r\n          &lt;!-- keep 30 days&#39; worth of history --&gt;\r\n          &lt;maxHistory&gt;30&lt;/maxHistory&gt;\r\n        &lt;/rollingPolicy&gt;\r\n        &lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\r\n          &lt;charset&gt;UTF-8&lt;/charset&gt;\r\n          &lt;layout class=&quot;ch.qos.logback.classic.html.HTMLLayout&quot;&gt;\r\n            &lt;pattern&gt;%d{HH:mm:ss.SSS}%thread%level%logger%line%msg&lt;/pattern&gt;\r\n          &lt;/layout&gt;\t\t\t\r\n        &lt;/encoder&gt;\r\n      &lt;/appender&gt; \r\n      \r\n      &lt;root level=&quot;DEBUG&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot; /&gt;\t\t\r\n      &lt;/root&gt;\r\n\r\n    &lt;/configuration&gt;\r\n\r\n","title":"Rolling logback logs on filesize and time","body":"<p>Although this is an old question, I felt that a working answer is appropriate to help anyone who requires this kind of implementation. </p>\n\n<p>I use the following logback configuration to provide an HTML log, rolled over by date and filesize, as well as logging to console for debugging output. </p>\n\n<p>Logfiles are stored in a <code>logs</code> directory with a name of <code>logFile.html</code> while its active, and <code>logFile.2013-mm-dd.i.html</code> when it rolls over, where i is the number of 50MB log files. For instance <code>logFile.2013-01-07.0.html</code>.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n\n  &lt;appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n    &lt;!-- encoders are assigned the type\n         ch.qos.logback.classic.encoder.PatternLayoutEncoder by default --&gt;\n    &lt;encoder&gt;\n      &lt;charset&gt;UTF-8&lt;/charset&gt;\n      &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %highlight(%-5level) %cyan(%logger{35}) - %msg %n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n  &lt;/appender&gt;\n\n  &lt;appender name=\"FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;\n    &lt;file&gt;logs\\logFile.html&lt;/file&gt;\n    &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"&gt;\n      &lt;!-- daily rollover --&gt;\n      &lt;fileNamePattern&gt;logs\\logFile.%d{yyyy-MM-dd}.%i.html&lt;/fileNamePattern&gt;\n      &lt;timeBasedFileNamingAndTriggeringPolicy\n          class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\"&gt;\n          &lt;!-- or whenever the file size reaches 50MB --&gt;\n        &lt;maxFileSize&gt;50MB&lt;/maxFileSize&gt;\n      &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\n      &lt;!-- keep 30 days' worth of history --&gt;\n      &lt;maxHistory&gt;30&lt;/maxHistory&gt;\n    &lt;/rollingPolicy&gt;\n    &lt;encoder class=\"ch.qos.logback.core.encoder.LayoutWrappingEncoder\"&gt;\n      &lt;charset&gt;UTF-8&lt;/charset&gt;\n      &lt;layout class=\"ch.qos.logback.classic.html.HTMLLayout\"&gt;\n        &lt;pattern&gt;%d{HH:mm:ss.SSS}%thread%level%logger%line%msg&lt;/pattern&gt;\n      &lt;/layout&gt;         \n    &lt;/encoder&gt;\n  &lt;/appender&gt; \n\n  &lt;root level=\"DEBUG\"&gt;\n    &lt;appender-ref ref=\"STDOUT\" /&gt;\n    &lt;appender-ref ref=\"FILE\" /&gt;     \n  &lt;/root&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3739783,"reputation":2117,"user_id":3109776,"display_name":"AndreLDM"},"down_vote_count":0,"up_vote_count":75,"is_accepted":false,"score":75,"last_activity_date":1623687122,"creation_date":1461035152,"answer_id":36707798,"question_id":2602415,"body_markdown":"Since logback 1.1.7 (released March 2016) a new policy called `SizeAndTimeBasedRollingPolicy` is available that dramatically simplifies what you need to do:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;appender name=&quot;ROLLING&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;file&gt;app.log&lt;/file&gt;\r\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n            &lt;fileNamePattern&gt;app-%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\r\n            &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;    \r\n            &lt;maxHistory&gt;30&lt;/maxHistory&gt;\r\n            &lt;totalSizeCap&gt;1GB&lt;/totalSizeCap&gt;\r\n        &lt;/rollingPolicy&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\nSee [here][1] for further info.\r\n\r\n\r\n  [1]: http://logback.qos.ch/manual/appenders.html#SizeAndTimeBasedRollingPolicy","title":"Rolling logback logs on filesize and time","body":"<p>Since logback 1.1.7 (released March 2016) a new policy called <code>SizeAndTimeBasedRollingPolicy</code> is available that dramatically simplifies what you need to do:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;appender name=&quot;ROLLING&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n    &lt;file&gt;app.log&lt;/file&gt;\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\n        &lt;fileNamePattern&gt;app-%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\n        &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;    \n        &lt;maxHistory&gt;30&lt;/maxHistory&gt;\n        &lt;totalSizeCap&gt;1GB&lt;/totalSizeCap&gt;\n    &lt;/rollingPolicy&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;%msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n</code></pre>\n<p>See <a href=\"http://logback.qos.ch/manual/appenders.html#SizeAndTimeBasedRollingPolicy\" rel=\"noreferrer\">here</a> for further info.</p>\n"}],"owner":{"account_id":44027,"reputation":88490,"user_id":128967,"accept_rate":85,"display_name":"Naftuli Kay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120612,"favorite_count":0,"down_vote_count":0,"up_vote_count":65,"accepted_answer_id":14199642,"answer_count":2,"score":65,"last_activity_date":1677980324,"creation_date":1270751015,"question_id":2602415,"body_markdown":"I&#39;ve been trying to set up a simple logback project to roll my log files by date and by filesize, and so far I have been unable to get my appender to roll over to another file. Instead, it writes to the log specified by the `&lt;file/&gt;` tag.\r\n\r\nHere is my `logback.xml` configuration file:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;configuration scan=&quot;true&quot; scanPeriod=&quot;10 seconds&quot;&gt;\r\n        &lt;appender name=&quot;stdout&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n                &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger - %msg%n&lt;/pattern&gt;\r\n            &lt;/layout&gt;\r\n        &lt;/appender&gt;\r\n\r\n        &lt;appender name=&quot;milliroller&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n            &lt;file&gt;log/output.log&lt;/file&gt;\r\n            &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n                &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger - %msg%n&lt;/pattern&gt;\r\n            &lt;/layout&gt;\r\n            &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n                &lt;fileNamePattern&gt;log/mylog-%d{yyyy-MM-dd}.%i.txt&lt;/fileNamePattern&gt;\r\n                &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\r\n                    &lt;maxFileSize&gt;1KB&lt;/maxFileSize&gt;\r\n                &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\r\n            &lt;/rollingPolicy&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;root level=&quot;DEBUG&quot;&gt;\r\n            &lt;appender-ref ref=&quot;stdout&quot;/&gt;\r\n            &lt;appender-ref ref=&quot;milliroller&quot;/&gt;\r\n        &lt;/root&gt;\r\n    \r\n        &lt;logger name=&quot;com.tkassembled.logback&quot; level=&quot;DEBUG&quot;/&gt;\r\n    &lt;/configuration&gt;\r\n\r\nAt first glance, it looks like it should work, right? Is there something I&#39;m doing wrong? My entire, buildable project is available in a zip here: http://www.mediafire.com/file/2bxokkdyz2i/logback.zip ","title":"Rolling logback logs on filesize and time","body":"<p>I've been trying to set up a simple logback project to roll my log files by date and by filesize, and so far I have been unable to get my appender to roll over to another file. Instead, it writes to the log specified by the <code>&lt;file/&gt;</code> tag.</p>\n<p>Here is my <code>logback.xml</code> configuration file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;configuration scan=&quot;true&quot; scanPeriod=&quot;10 seconds&quot;&gt;\n    &lt;appender name=&quot;stdout&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger - %msg%n&lt;/pattern&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;milliroller&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n        &lt;file&gt;log/output.log&lt;/file&gt;\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger - %msg%n&lt;/pattern&gt;\n        &lt;/layout&gt;\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n            &lt;fileNamePattern&gt;log/mylog-%d{yyyy-MM-dd}.%i.txt&lt;/fileNamePattern&gt;\n            &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\n                &lt;maxFileSize&gt;1KB&lt;/maxFileSize&gt;\n            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\n        &lt;/rollingPolicy&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;DEBUG&quot;&gt;\n        &lt;appender-ref ref=&quot;stdout&quot;/&gt;\n        &lt;appender-ref ref=&quot;milliroller&quot;/&gt;\n    &lt;/root&gt;\n\n    &lt;logger name=&quot;com.tkassembled.logback&quot; level=&quot;DEBUG&quot;/&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>At first glance, it looks like it should work, right? Is there something I'm doing wrong? My entire, buildable project is available in a zip here: <a href=\"http://www.mediafire.com/file/2bxokkdyz2i/logback.zip\" rel=\"nofollow noreferrer\">http://www.mediafire.com/file/2bxokkdyz2i/logback.zip</a></p>\n"},{"tags":["java","logging","logback","rollingfileappender"],"answers":[{"tags":[],"owner":{"account_id":2521457,"reputation":3774,"user_id":2191746,"display_name":"sheltem"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1394007732,"creation_date":1394007732,"answer_id":22192200,"question_id":22188936,"body_markdown":"Scroll down further in the section of the documentation you linked and you will find this:\r\n\r\n&gt; For various technical reasons, rollovers are not clock-driven but depend on the arrival of logging events. For example, on 8th of March 2002, assuming the fileNamePattern is set to yyyy-MM-dd (daily rollover), the arrival of the first event after midnight will trigger a rollover. If there are no logging events during, say 23 minutes and 47 seconds after midnight, then rollover will actually occur at 00:23&#39;47 AM on March 9th and not at 0:00 AM. Thus, depending on the arrival rate of events, rollovers might be triggered with some latency. However, regardless of the delay, the rollover algorithm is known to be correct, in the sense that all logging events generated during a certain period will be output in the correct file delimiting that period.\r\n\r\nShort version: It&#39;s not time-triggered, but logging-event-triggered. No logging events means no rollover. In a configuration set to rollover each minute that means there will be no files for any minute for which no logging-events arrive.","title":"TimeBasedRollingPolicy not rolling unless there are new logs","body":"<p>Scroll down further in the section of the documentation you linked and you will find this:</p>\n\n<blockquote>\n  <p>For various technical reasons, rollovers are not clock-driven but depend on the arrival of logging events. For example, on 8th of March 2002, assuming the fileNamePattern is set to yyyy-MM-dd (daily rollover), the arrival of the first event after midnight will trigger a rollover. If there are no logging events during, say 23 minutes and 47 seconds after midnight, then rollover will actually occur at 00:23'47 AM on March 9th and not at 0:00 AM. Thus, depending on the arrival rate of events, rollovers might be triggered with some latency. However, regardless of the delay, the rollover algorithm is known to be correct, in the sense that all logging events generated during a certain period will be output in the correct file delimiting that period.</p>\n</blockquote>\n\n<p>Short version: It's not time-triggered, but logging-event-triggered. No logging events means no rollover. In a configuration set to rollover each minute that means there will be no files for any minute for which no logging-events arrive.</p>\n"},{"tags":[],"owner":{"account_id":5850505,"reputation":51,"user_id":4609292,"display_name":"jake"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1424960993,"creation_date":1424939309,"answer_id":28737591,"question_id":22188936,"body_markdown":"You don&#39;t need input &amp;lt;file&amp;gt; properties.\r\n\r\nIf you omit that, you can solve your problems\r\n\r\n\r\n&gt; Note that the file property in RollingFileAppender (the parent of\r\n&gt; TimeBasedRollingPolicy) can be either set or omitted. By setting the\r\n&gt; file property of the containing FileAppender, you can decouple the\r\n&gt; location of the active log file and the location of the archived log\r\n&gt; files. The current logs will be always targeted at the file specified\r\n&gt; by the file property. It follows that the name of the currently active\r\n&gt; log file will not change over time. However, if you choose to omit the\r\n&gt; file property, then the active file will be computed anew for each\r\n&gt; period based on the value of fileNamePattern. The examples below\r\n&gt; should clarify this point.","title":"TimeBasedRollingPolicy not rolling unless there are new logs","body":"<p>You don't need input &lt;file&gt; properties.</p>\n\n<p>If you omit that, you can solve your problems</p>\n\n<blockquote>\n  <p>Note that the file property in RollingFileAppender (the parent of\n  TimeBasedRollingPolicy) can be either set or omitted. By setting the\n  file property of the containing FileAppender, you can decouple the\n  location of the active log file and the location of the archived log\n  files. The current logs will be always targeted at the file specified\n  by the file property. It follows that the name of the currently active\n  log file will not change over time. However, if you choose to omit the\n  file property, then the active file will be computed anew for each\n  period based on the value of fileNamePattern. The examples below\n  should clarify this point.</p>\n</blockquote>\n"}],"owner":{"account_id":1628571,"reputation":6081,"user_id":1503570,"accept_rate":51,"display_name":"lorraine batol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17357,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":22192200,"answer_count":2,"score":16,"last_activity_date":1677980005,"creation_date":1393995492,"question_id":22188936,"body_markdown":"Here&#39;s my config:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;appender name=&quot;myAppender&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;append&gt;true&lt;/append&gt;\r\n        &lt;file&gt;mylogs.log&lt;/file&gt;\r\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n            &lt;!-- daily rollover --&gt;\r\n            &lt;fileNamePattern&gt;mylogs-%d{yyyy-MM-dd_HH-mm}.log&lt;/fileNamePattern&gt;\r\n\r\n            &lt;!-- keep 30 days&#39; worth of history --&gt;\r\n            &lt;maxHistory&gt;30&lt;/maxHistory&gt;\r\n        &lt;/rollingPolicy&gt;\r\n\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} %-5level %logger{36} [%thread] - %M:%L - %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n        &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\r\n            &lt;level&gt;INFO&lt;/level&gt;\r\n        &lt;/filter&gt;\r\n    &lt;/appender&gt;\r\n\r\nAccording to the logback&#39;s document found here [TimeBasedRollingPolicy](http://logback.qos.ch/manual/appenders.html#TimeBasedRollingPolicy) , file will be rollover every minute based on my `%d{yyyy-MM-dd_HH-mm}` fileNamePattern.  \r\n\r\nI observed how this works and here are my findings:  \r\n\r\n - It doesn&#39;t create a log file very minute.\r\n - It only create a log file for the previous minute when the a new log arrives.  (e.g. I have a log on 11:53pm, and it&#39;s now 11:55pm, it doesn&#39;t create a new log file immediately for the 11:53pm when it hits 11:54pm, but when a new log came later, say at 11:56pm, it now creates the file for 11:53pm.)\r\n\r\nAm I missing something, I thought it will create a log file every minute?\r\n","title":"TimeBasedRollingPolicy not rolling unless there are new logs","body":"<p>Here's my config:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;appender name=&quot;myAppender&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n    &lt;append&gt;true&lt;/append&gt;\n    &lt;file&gt;mylogs.log&lt;/file&gt;\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n        &lt;!-- daily rollover --&gt;\n        &lt;fileNamePattern&gt;mylogs-%d{yyyy-MM-dd_HH-mm}.log&lt;/fileNamePattern&gt;\n\n        &lt;!-- keep 30 days' worth of history --&gt;\n        &lt;maxHistory&gt;30&lt;/maxHistory&gt;\n    &lt;/rollingPolicy&gt;\n\n    &lt;encoder&gt;\n        &lt;pattern&gt;%d{HH:mm:ss.SSS} %-5level %logger{36} [%thread] - %M:%L - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n    &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\n        &lt;level&gt;INFO&lt;/level&gt;\n    &lt;/filter&gt;\n&lt;/appender&gt;\n</code></pre>\n<p>According to the logback's document found here <a href=\"http://logback.qos.ch/manual/appenders.html#TimeBasedRollingPolicy\" rel=\"nofollow noreferrer\">TimeBasedRollingPolicy</a> , file will be rollover every minute based on my <code>%d{yyyy-MM-dd_HH-mm}</code> fileNamePattern.</p>\n<p>I observed how this works and here are my findings:</p>\n<ul>\n<li>It doesn't create a log file very minute.</li>\n<li>It only create a log file for the previous minute when the a new log arrives.  (e.g. I have a log on 11:53pm, and it's now 11:55pm, it doesn't create a new log file immediately for the 11:53pm when it hits 11:54pm, but when a new log came later, say at 11:56pm, it now creates the file for 11:53pm.)</li>\n</ul>\n<p>Am I missing something, I thought it will create a log file every minute?</p>\n"},{"tags":["java","image","png","jpeg"],"comments":[{"owner":{"account_id":3152821,"reputation":2999,"user_id":2665890,"accept_rate":75,"display_name":"Obicere"},"score":1,"creation_date":1514530863,"post_id":48009317,"comment_id":83006453,"body_markdown":"Are you sure this isn&#39;t just because of jpeg compression? Try saving it as a `.png` and see that.","body":"Are you sure this isn&#39;t just because of jpeg compression? Try saving it as a <code>.png</code> and see that."},{"owner":{"account_id":3152821,"reputation":2999,"user_id":2665890,"accept_rate":75,"display_name":"Obicere"},"score":1,"creation_date":1514531398,"post_id":48009317,"comment_id":83006656,"body_markdown":"This is almost certainly due to compression. [What is the least JPG-compressible pattern?](https://dsp.stackexchange.com/questions/2010/what-is-the-least-jpg-compressible-pattern-camera-shooting-piece-of-cloth-sca). JPEG doesn&#39;t seem to like tiny details.","body":"This is almost certainly due to compression. <a href=\"https://dsp.stackexchange.com/questions/2010/what-is-the-least-jpg-compressible-pattern-camera-shooting-piece-of-cloth-sca\">What is the least JPG-compressible pattern?</a>. JPEG doesn&#39;t seem to like tiny details."},{"owner":{"account_id":11633608,"reputation":592,"user_id":8520798,"display_name":"Dhyey Shah"},"score":0,"creation_date":1514532118,"post_id":48009317,"comment_id":83006920,"body_markdown":"Yeah, I saved it as png and it worked ! Thanks guys","body":"Yeah, I saved it as png and it worked ! Thanks guys"}],"answers":[{"tags":[],"owner":{"account_id":7799965,"reputation":2027,"user_id":5899776,"accept_rate":83,"display_name":"vandench"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1514472589,"creation_date":1514471962,"answer_id":48009421,"question_id":48009317,"body_markdown":"You can go through each pixel in the image and determine if it is above a certain threshold, if it is set its value to pure white. You can also do the same for the darker areas if needed.\r\n\r\nExample:\r\n\r\n    public Image thresholdWhite(Image in, int threshold)\r\n    {\r\n        Pixel[][] pixels = in.getPixels();\r\n        for(int i = 0; i &lt; pixels.length; ++i)\r\n        {\r\n            for(int j = 0; j &lt; pixels[i].length; ++j)\r\n            {\r\n                byte red = pixels[i][j].getRed();\r\n                byte green = pixels[i][j].getGreen();\r\n                byte blue = pixels[i][j].getBlue();\r\n                /* In case it isn&#39;t a grayscale image, if it is grayscale this if can be removed (the block is still needed though) */\r\n                if(Math.abs(red - green) &gt;= 16 &amp;&amp; Math.abs(red - blue) &gt;= 16 &amp;&amp; Math.abs(blue- green) &gt;= 16)\r\n                {\r\n                    if(red &gt;= threshold || blue &gt;= threshold || green &gt;= threshold)\r\n                    {\r\n                        pixels[i][j] = new Pixel(Colors.WHITE);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return new Image(pixels);\r\n    }","title":"How to threshold any image (for black and white color seperation) in java?","body":"<p>You can go through each pixel in the image and determine if it is above a certain threshold, if it is set its value to pure white. You can also do the same for the darker areas if needed.</p>\n\n<p>Example:</p>\n\n<pre><code>public Image thresholdWhite(Image in, int threshold)\n{\n    Pixel[][] pixels = in.getPixels();\n    for(int i = 0; i &lt; pixels.length; ++i)\n    {\n        for(int j = 0; j &lt; pixels[i].length; ++j)\n        {\n            byte red = pixels[i][j].getRed();\n            byte green = pixels[i][j].getGreen();\n            byte blue = pixels[i][j].getBlue();\n            /* In case it isn't a grayscale image, if it is grayscale this if can be removed (the block is still needed though) */\n            if(Math.abs(red - green) &gt;= 16 &amp;&amp; Math.abs(red - blue) &gt;= 16 &amp;&amp; Math.abs(blue- green) &gt;= 16)\n            {\n                if(red &gt;= threshold || blue &gt;= threshold || green &gt;= threshold)\n                {\n                    pixels[i][j] = new Pixel(Colors.WHITE);\n                }\n            }\n        }\n    }\n    return new Image(pixels);\n}\n</code></pre>\n"}],"owner":{"account_id":11633608,"reputation":592,"user_id":8520798,"display_name":"Dhyey Shah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3207,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":48009421,"answer_count":1,"score":1,"last_activity_date":1677979997,"creation_date":1514471504,"question_id":48009317,"body_markdown":"**SOLVED** : Issue was &quot;jpeg compression&quot;. Saving as &quot;.png&quot; worked.\r\n\r\nI had detected edges of an image using a canny filter program in java.\r\nAfter applying filter ... \r\n\r\n[This is my image][1]\r\nIf zoomed in ... \r\n[Zoomed][2]\r\n\r\nAll have different shades of black and white.&lt;br/&gt;\r\nI want all my edge pixels as pure white(#FFFFFF) and the remaining portion black.\r\n\r\nNote: Different pixels may have different shades apart from the one above(#F7F7F7). The zoomed image above is just an example.  \r\n \r\nEdit:\r\nI had written this code to take effect on image ...\r\n\r\n    public void convert(){\r\n\t\ttry{\r\n\t\t\tBufferedImage img = ImageIO.read(new File(&quot;input.jpg&quot;));\r\n\t\t\tint rgb;\r\n            int height = img.getHeight();\r\n\t\t\tint width = img.getWidth();\r\n\t\t\tFile f = new File(&quot;newThreshold.jpg&quot;);\r\n\t\t\tColor white = new Color(255,255,255);\r\n\t\t\tint wh = white.getRGB();\r\n\t\t\t\r\n\t\t\tfor (int h = 0; h&lt;height; h++){\r\n\t\t\t\tfor (int w = 0; w&lt;width; w++){\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\trgb = img.getRGB(w, h);\r\n\t\t\t\t\tred = (rgb &amp; 0x00ff0000) &gt;&gt; 16;\r\n\t\t\t\t\tgreen = (rgb &amp; 0x0000ff00) &gt;&gt; 8;\r\n\t\t\t\t\tblue  =  rgb &amp; 0x000000ff;\r\n\t\t\t\t\tif(red &gt;= 200 || blue &gt;= 200 || green &gt;= 200){\r\n\t\t\t\t         img.setRGB(w,h,wh);\r\n\t\t\t\t    }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tImageIO.write(img,&quot;jpg&quot;,f);\r\n\t\t}\r\n\t\tcatch(Exception e){\r\n\t\t}\r\n    }\r\n\r\nEven after running the code, there is no change in my image.&lt;br/&gt;\r\nEven if the red, green and blue values are above 200, my image is not changing.\r\n  [1]: https://i.stack.imgur.com/zY9Rr.jpg\r\n  [2]: https://i.stack.imgur.com/98g7v.jpg\r\n&lt;br/&gt;\r\n\r\n**UPDATE**: Saving the image as &quot;.png&quot; rather than &quot;.jpg&quot; worked! &lt;br/&gt;\r\n","title":"How to threshold any image (for black and white color seperation) in java?","body":"<p><strong>SOLVED</strong> : Issue was \"jpeg compression\". Saving as \".png\" worked.</p>\n\n<p>I had detected edges of an image using a canny filter program in java.\nAfter applying filter ... </p>\n\n<p><a href=\"https://i.stack.imgur.com/zY9Rr.jpg\" rel=\"nofollow noreferrer\">This is my image</a>\nIf zoomed in ... \n<a href=\"https://i.stack.imgur.com/98g7v.jpg\" rel=\"nofollow noreferrer\">Zoomed</a></p>\n\n<p>All have different shades of black and white.<br/>\nI want all my edge pixels as pure white(#FFFFFF) and the remaining portion black.</p>\n\n<p>Note: Different pixels may have different shades apart from the one above(#F7F7F7). The zoomed image above is just an example.  </p>\n\n<p>Edit:\nI had written this code to take effect on image ...</p>\n\n<pre><code>public void convert(){\n    try{\n        BufferedImage img = ImageIO.read(new File(\"input.jpg\"));\n        int rgb;\n        int height = img.getHeight();\n        int width = img.getWidth();\n        File f = new File(\"newThreshold.jpg\");\n        Color white = new Color(255,255,255);\n        int wh = white.getRGB();\n\n        for (int h = 0; h&lt;height; h++){\n            for (int w = 0; w&lt;width; w++){  \n\n                rgb = img.getRGB(w, h);\n                red = (rgb &amp; 0x00ff0000) &gt;&gt; 16;\n                green = (rgb &amp; 0x0000ff00) &gt;&gt; 8;\n                blue  =  rgb &amp; 0x000000ff;\n                if(red &gt;= 200 || blue &gt;= 200 || green &gt;= 200){\n                     img.setRGB(w,h,wh);\n                }\n            }\n        }\n\n        ImageIO.write(img,\"jpg\",f);\n    }\n    catch(Exception e){\n    }\n}\n</code></pre>\n\n<p>Even after running the code, there is no change in my image.<br/>\nEven if the red, green and blue values are above 200, my image is not changing.\n<br/></p>\n\n<p><strong>UPDATE</strong>: Saving the image as \".png\" rather than \".jpg\" worked! <br/></p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1677970777,"post_id":75639087,"comment_id":133443432,"body_markdown":"Maybe helpful: [Android How to read an asset from outside of main activity](https://stackoverflow.com/q/4126387/295004) ,[What is the difference between Activity and Context?](https://stackoverflow.com/q/6518206/295004) Generally avoid calling any Android APIs outside of a Application/Activity/Service class or method without taking into consideration the lifecycle.","body":"Maybe helpful: <a href=\"https://stackoverflow.com/q/4126387/295004\">Android How to read an asset from outside of main activity</a> ,<a href=\"https://stackoverflow.com/q/6518206/295004\">What is the difference between Activity and Context?</a> Generally avoid calling any Android APIs outside of a Application/Activity/Service class or method without taking into consideration the lifecycle."}],"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677979464,"creation_date":1677969196,"question_id":75639087,"body_markdown":"Every answer on this question is incomplete, and I get a lot of errors when trying to use the code. \r\n\r\nExample: https://stackoverflow.com/questions/9544737/read-file-from-assets\r\n\r\n    AssetManager am = MainActivity.getAssets();\r\n    InputStream is = am.open(&quot;book.txt&quot;);\r\n\r\n\r\nI get errors:\r\n\r\n1. Non-static method &#39;getAssets()&#39; cannot be referenced from a static context\r\n2. Cannot resolve Symbol &quot;AssetManager&quot;, which Import do I need for this?\r\n3. context.getAssets(); context is undefined, what context do I need? MainActivity?\r\nwhat function do I use to get the Context of MainActivity? What imports do I need to make this work?\r\n3. Do I need to add something to Gradle files? And what?","title":"How to get Context and Read from Assets folder in Android","body":"<p>Every answer on this question is incomplete, and I get a lot of errors when trying to use the code.</p>\n<p>Example: <a href=\"https://stackoverflow.com/questions/9544737/read-file-from-assets\">read file from assets</a></p>\n<pre><code>AssetManager am = MainActivity.getAssets();\nInputStream is = am.open(&quot;book.txt&quot;);\n</code></pre>\n<p>I get errors:</p>\n<ol>\n<li>Non-static method 'getAssets()' cannot be referenced from a static context</li>\n<li>Cannot resolve Symbol &quot;AssetManager&quot;, which Import do I need for this?</li>\n<li>context.getAssets(); context is undefined, what context do I need? MainActivity?\nwhat function do I use to get the Context of MainActivity? What imports do I need to make this work?</li>\n<li>Do I need to add something to Gradle files? And what?</li>\n</ol>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1677951501,"post_id":75636975,"comment_id":133440203,"body_markdown":"Can you edit your question to show a representative snippet of the data under `posts` in your database (as text, no screenshots please)? You can get this by clicking the &quot;Export JSON&quot; link in the overflow menu (⠇) on your [Firebase Database console](https://console.firebase.google.com/project/_/database/data).","body":"Can you edit your question to show a representative snippet of the data under <code>posts</code> in your database (as text, no screenshots please)? You can get this by clicking the &quot;Export JSON&quot; link in the overflow menu (⠇) on your <a href=\"https://console.firebase.google.com/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Database console</a>."},{"owner":{"account_id":27935158,"reputation":90,"user_id":21332328,"display_name":"RmTomal"},"score":0,"creation_date":1677974670,"post_id":75636975,"comment_id":133443818,"body_markdown":"https://hello-writer-2db52-default-rtdb.firebaseio.com/.json  this is my database json url. Can you please check?","body":"<a href=\"https://hello-writer-2db52-default-rtdb.firebaseio.com/.json\" rel=\"nofollow noreferrer\">hello-writer-2db52-default-rtdb.firebaseio.com/.json</a>  this is my database json url. Can you please check?"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677977948,"creation_date":1677977948,"answer_id":75639634,"question_id":75636975,"body_markdown":"I **strongly** recommend giving your variables meaningful names going forward, as doing so makes the problem much easier to spot.\r\n\r\nIf we do that with your code, we get:\r\n```\r\nreference = database.getReference().child(&quot;posts&quot;);\r\nreference.addValueEventListener(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(@NonNull DataSnapshot postsSnapshot) {\r\n        for (DataSnapshot userSnapshot: postsSnapshot.getChildren()){ // &#128072; key=userId \r\n            for (DataSnapshot postSnapshot : userSnapshot.getChildren()){ // &#128072; key=10843\r\n                for (DataSnapshot bodyTitleSnapshot : postSnapshot.getChildren()){ // &#128072; key=body, and then title\r\n                    System.out.println(dataSnapshot);\r\n                    //PostGeter msg = bodyTitleSnapshot.getValue(PostGeter.class);\r\n                    //list.add( msg);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(@NonNull DatabaseError error) {\r\n        throw error.toException(); // &#128072; never ignore errors\r\n    }\r\n});\r\n```\r\n\r\nIf you look at the third nested loop you have, that is iterating over the children of `10843, so the `bodyTitleSnapshot points to `body` in its first iteration and `title` in its second. Since neither of this is a valid, complete `PostGeter` object, you get an error.\r\n\r\nYou actually only need two loops: one for the userId level in your JSON, and another one for the post ID (10843 in the JSON). So:\r\n\r\n```\r\nreference = database.getReference().child(&quot;posts&quot;);\r\nreference.addValueEventListener(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(@NonNull DataSnapshot postsSnapshot) {\r\n        for (DataSnapshot userSnapshot: postsSnapshot.getChildren()){ // userId \r\n            for (DataSnapshot postSnapshot : userSnapshot.getChildren()){ // e.g. 10843\r\n                PostGeter msg = postSnapshot.getValue(PostGeter.class);\r\n                list.add( msg);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(@NonNull DatabaseError error) {\r\n        throw error.toException(); // &#128072; never ignore errors\r\n    }\r\n});\r\n```\r\n","title":"Can&#39;t convert object of type java.lang.String to type com.hello.writer.postAdapter.PostGeter in Android Java","body":"<p>I <strong>strongly</strong> recommend giving your variables meaningful names going forward, as doing so makes the problem much easier to spot.</p>\n<p>If we do that with your code, we get:</p>\n<pre><code>reference = database.getReference().child(&quot;posts&quot;);\nreference.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot postsSnapshot) {\n        for (DataSnapshot userSnapshot: postsSnapshot.getChildren()){ // 👈 key=userId \n            for (DataSnapshot postSnapshot : userSnapshot.getChildren()){ // 👈 key=10843\n                for (DataSnapshot bodyTitleSnapshot : postSnapshot.getChildren()){ // 👈 key=body, and then title\n                    System.out.println(dataSnapshot);\n                    //PostGeter msg = bodyTitleSnapshot.getValue(PostGeter.class);\n                    //list.add( msg);\n                }\n            }\n        }\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n        throw error.toException(); // 👈 never ignore errors\n    }\n});\n</code></pre>\n<p>If you look at the third nested loop you have, that is iterating over the children of <code>10843, so the </code>bodyTitleSnapshot points to <code>body</code> in its first iteration and <code>title</code> in its second. Since neither of this is a valid, complete <code>PostGeter</code> object, you get an error.</p>\n<p>You actually only need two loops: one for the userId level in your JSON, and another one for the post ID (10843 in the JSON). So:</p>\n<pre><code>reference = database.getReference().child(&quot;posts&quot;);\nreference.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot postsSnapshot) {\n        for (DataSnapshot userSnapshot: postsSnapshot.getChildren()){ // userId \n            for (DataSnapshot postSnapshot : userSnapshot.getChildren()){ // e.g. 10843\n                PostGeter msg = postSnapshot.getValue(PostGeter.class);\n                list.add( msg);\n            }\n        }\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n        throw error.toException(); // 👈 never ignore errors\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":27935158,"reputation":90,"user_id":21332328,"display_name":"RmTomal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75639634,"answer_count":1,"score":0,"last_activity_date":1677977948,"creation_date":1677946867,"question_id":75636975,"body_markdown":"I am trying to get Data from firebase realtime database. \r\n```lang-json\r\n{\r\n  &quot;posts&quot; : {\r\n    &quot;userId&quot; : {\r\n      &quot;10843&quot; : {\r\n        &quot;body&quot; : &quot;fasiaufsuie&quot;,\r\n        &quot;title&quot; : &quot;ddddj&quot;\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nIt show this error:\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.hello.writer, PID: 21625\r\n    com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type com.hello.writer.postAdapter.PostGeter\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(CustomClassMapper.java:436)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:232)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertToCustomClass(CustomClassMapper.java:80)\r\n        at com.google.firebase.database.DataSnapshot.getValue(DataSnapshot.java:203)\r\n        at com.hello.writer.ui.home.HomeFragment$1.onDataChange(HomeFragment.java:61)\r\n        at com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\r\n        at com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\r\n        at com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:254)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8243)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:612)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1006)\r\n\r\n```\r\nMy Home Fragmet code is:\r\n\r\n\r\n```\r\nRecyclerView recyclerView = binding.postView;\r\n\r\nrecyclerView.setHasFixedSize(true);\r\nLinearLayoutManager manager = new LinearLayoutManager(getContext());\r\nrecyclerView.setLayoutManager(manager);\r\nArrayList&lt;PostGeter&gt; list = new ArrayList&lt;&gt;();\r\npostAdapter customAdapter = new postAdapter(getContext(), list);\r\nrecyclerView.setAdapter(customAdapter);\r\n\r\ndatabase = FirebaseDatabase.getInstance();\r\n\r\nreference = database.getReference().child(&quot;posts&quot;);\r\nreference.addValueEventListener(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n        for (DataSnapshot ds : snapshot.getChildren()){\r\n            for (DataSnapshot data : ds.getChildren()){\r\n                for (DataSnapshot dataSnapshot : data.getChildren()){\r\n\r\n                    PostGeter msg = dataSnapshot.getValue(PostGeter.class);\r\n                    list.add( msg);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n    }\r\n});\r\n```\r\n\r\nModelView class for firebase Data manage:\r\n\r\n```\r\npublic class PostGeter {\r\n    private String title;\r\n    private String body;\r\n    private String date;\r\n    private String userId;\r\n    private String status;\r\n    private String id;\r\n    private String image;\r\n    private String reaction;\r\n\r\n    public PostGeter() {}\r\n    public PostGeter(String title, String body, String date, String userId, String status, String id, String image, String reaction) {\r\n        this.title = title;\r\n        this.body = body;\r\n        this.date = date;\r\n        this.userId = userId;\r\n        this.status = status;\r\n        this.id = id;\r\n        this.image = image;\r\n        this.reaction = reaction;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n    public String getBody() {\r\n        return body;\r\n    }\r\n\r\n    public String getDate() {\r\n        return date;\r\n    }\r\n\r\n    public String getUserId() {\r\n        return userId;\r\n    }\r\n\r\n    public String getStatus() {\r\n        return status;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getImage() {\r\n        return image;\r\n    }\r\n\r\n    public String getReaction() {\r\n        return reaction;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public void setBody(String body) {\r\n        this.body = body;\r\n    }\r\n\r\n    public void setDate(String date) {\r\n        this.date = date;\r\n    }\r\n\r\n    public void setUserId(String userId) {\r\n        this.userId = userId;\r\n    }\r\n\r\n    public void setStatus(String status) {\r\n        this.status = status;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public void setImage(String image) {\r\n        this.image = image;\r\n    }\r\n\r\n    public void setReaction(String reaction) {\r\n        this.reaction = reaction;\r\n    }\r\n}\r\n\r\n```\r\n\r\nadapter class:\r\n\r\n\r\n```\r\npublic class postAdapter extends RecyclerView.Adapter&lt;postAdapter.ViewHolder&gt; {\r\n    Context context;\r\n    ArrayList&lt;PostGeter&gt; list;\r\n\r\n    public postAdapter(Context context, ArrayList&lt;PostGeter&gt; list) {\r\n        this.context = context;\r\n        this.list = list;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public postAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.post_content_view, parent,false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull postAdapter.ViewHolder holder, int position) {\r\n        PostGeter geter = list.get(position);\r\n        holder.title.setText(geter.getTitle());\r\n        holder.content.setText(geter.getBody());\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return list.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        ImageView img; TextView title,content;\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            img = itemView.findViewById(R.id.postImageView);\r\n            title = itemView.findViewById(R.id.post_view_title);\r\n            content = itemView.findViewById(R.id.post_view_content);\r\n        }\r\n    }\r\n}\r\n```\r\nmy data stracture like: \r\n\r\npost &gt; user &gt; postid &gt; data here\r\n\r\n\r\n\r\nIf i don&#39;t use modelView class it work file show all data.\r\ni user this code for see it show these\r\n\r\n\r\n```\r\nRecyclerView recyclerView = binding.postView;\r\n        recyclerView.setHasFixedSize(true);\r\n        LinearLayoutManager manager = new LinearLayoutManager(getContext());\r\n        recyclerView.setLayoutManager(manager);\r\n        ArrayList&lt;PostGeter&gt; list = new ArrayList&lt;&gt;();\r\n        postAdapter customAdapter = new postAdapter(getContext(), list);\r\n        recyclerView.setAdapter(customAdapter);\r\n\r\n        database = FirebaseDatabase.getInstance();\r\n\r\n        reference = database.getReference().child(&quot;posts&quot;);\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for (DataSnapshot ds : snapshot.getChildren()){\r\n                    for (DataSnapshot data : ds.getChildren()){\r\n                        for (DataSnapshot dataSnapshot : data.getChildren()){\r\n                            System.out.println(dataSnapshot);\r\n                            //PostGeter msg = dataSnapshot.getValue(PostGeter.class);\r\n                            //list.add( msg);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n```\r\n\r\nthis show these type of log:\r\n\r\n\r\n\r\n```\r\nI/System.out: DataSnapshot { key = body, value = fasiaufsuie }\r\nI/System.out: DataSnapshot { key = title, value = ddddj }\r\n```\r\n\r\n","title":"Can&#39;t convert object of type java.lang.String to type com.hello.writer.postAdapter.PostGeter in Android Java","body":"<p>I am trying to get Data from firebase realtime database.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;posts&quot; : {\n    &quot;userId&quot; : {\n      &quot;10843&quot; : {\n        &quot;body&quot; : &quot;fasiaufsuie&quot;,\n        &quot;title&quot; : &quot;ddddj&quot;\n      }\n    }\n  }\n}\n</code></pre>\n<p>It show this error:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.hello.writer, PID: 21625\n    com.google.firebase.database.DatabaseException: Can't convert object of type java.lang.String to type com.hello.writer.postAdapter.PostGeter\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(CustomClassMapper.java:436)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:232)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertToCustomClass(CustomClassMapper.java:80)\n        at com.google.firebase.database.DataSnapshot.getValue(DataSnapshot.java:203)\n        at com.hello.writer.ui.home.HomeFragment$1.onDataChange(HomeFragment.java:61)\n        at com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\n        at com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\n        at com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:254)\n        at android.app.ActivityThread.main(ActivityThread.java:8243)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:612)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1006)\n\n</code></pre>\n<p>My Home Fragmet code is:</p>\n<pre><code>RecyclerView recyclerView = binding.postView;\n\nrecyclerView.setHasFixedSize(true);\nLinearLayoutManager manager = new LinearLayoutManager(getContext());\nrecyclerView.setLayoutManager(manager);\nArrayList&lt;PostGeter&gt; list = new ArrayList&lt;&gt;();\npostAdapter customAdapter = new postAdapter(getContext(), list);\nrecyclerView.setAdapter(customAdapter);\n\ndatabase = FirebaseDatabase.getInstance();\n\nreference = database.getReference().child(&quot;posts&quot;);\nreference.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\n        for (DataSnapshot ds : snapshot.getChildren()){\n            for (DataSnapshot data : ds.getChildren()){\n                for (DataSnapshot dataSnapshot : data.getChildren()){\n\n                    PostGeter msg = dataSnapshot.getValue(PostGeter.class);\n                    list.add( msg);\n                }\n            }\n        }\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n\n    }\n});\n</code></pre>\n<p>ModelView class for firebase Data manage:</p>\n<pre><code>public class PostGeter {\n    private String title;\n    private String body;\n    private String date;\n    private String userId;\n    private String status;\n    private String id;\n    private String image;\n    private String reaction;\n\n    public PostGeter() {}\n    public PostGeter(String title, String body, String date, String userId, String status, String id, String image, String reaction) {\n        this.title = title;\n        this.body = body;\n        this.date = date;\n        this.userId = userId;\n        this.status = status;\n        this.id = id;\n        this.image = image;\n        this.reaction = reaction;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public String getBody() {\n        return body;\n    }\n\n    public String getDate() {\n        return date;\n    }\n\n    public String getUserId() {\n        return userId;\n    }\n\n    public String getStatus() {\n        return status;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public String getImage() {\n        return image;\n    }\n\n    public String getReaction() {\n        return reaction;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public void setBody(String body) {\n        this.body = body;\n    }\n\n    public void setDate(String date) {\n        this.date = date;\n    }\n\n    public void setUserId(String userId) {\n        this.userId = userId;\n    }\n\n    public void setStatus(String status) {\n        this.status = status;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public void setImage(String image) {\n        this.image = image;\n    }\n\n    public void setReaction(String reaction) {\n        this.reaction = reaction;\n    }\n}\n\n</code></pre>\n<p>adapter class:</p>\n<pre><code>public class postAdapter extends RecyclerView.Adapter&lt;postAdapter.ViewHolder&gt; {\n    Context context;\n    ArrayList&lt;PostGeter&gt; list;\n\n    public postAdapter(Context context, ArrayList&lt;PostGeter&gt; list) {\n        this.context = context;\n        this.list = list;\n    }\n\n    @NonNull\n    @Override\n    public postAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.post_content_view, parent,false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull postAdapter.ViewHolder holder, int position) {\n        PostGeter geter = list.get(position);\n        holder.title.setText(geter.getTitle());\n        holder.content.setText(geter.getBody());\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n\n        ImageView img; TextView title,content;\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            img = itemView.findViewById(R.id.postImageView);\n            title = itemView.findViewById(R.id.post_view_title);\n            content = itemView.findViewById(R.id.post_view_content);\n        }\n    }\n}\n</code></pre>\n<p>my data stracture like:</p>\n<p>post &gt; user &gt; postid &gt; data here</p>\n<p>If i don't use modelView class it work file show all data.\ni user this code for see it show these</p>\n<pre><code>RecyclerView recyclerView = binding.postView;\n        recyclerView.setHasFixedSize(true);\n        LinearLayoutManager manager = new LinearLayoutManager(getContext());\n        recyclerView.setLayoutManager(manager);\n        ArrayList&lt;PostGeter&gt; list = new ArrayList&lt;&gt;();\n        postAdapter customAdapter = new postAdapter(getContext(), list);\n        recyclerView.setAdapter(customAdapter);\n\n        database = FirebaseDatabase.getInstance();\n\n        reference = database.getReference().child(&quot;posts&quot;);\n        reference.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                for (DataSnapshot ds : snapshot.getChildren()){\n                    for (DataSnapshot data : ds.getChildren()){\n                        for (DataSnapshot dataSnapshot : data.getChildren()){\n                            System.out.println(dataSnapshot);\n                            //PostGeter msg = dataSnapshot.getValue(PostGeter.class);\n                            //list.add( msg);\n                        }\n                    }\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n</code></pre>\n<p>this show these type of log:</p>\n<pre><code>I/System.out: DataSnapshot { key = body, value = fasiaufsuie }\nI/System.out: DataSnapshot { key = title, value = ddddj }\n</code></pre>\n"},{"tags":["java","spring-mvc","jpa"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1677980541,"post_id":75639499,"comment_id":133444358,"body_markdown":"It is unlikely that your MySQL server is listening on port 80. Try the default MySQL port instead (3306): `spring.datasource.url=jdbc:mysql://localhost:3306/pgi_db`. Let us know if that changes the error message. This change may be necessary - but not sufficient.","body":"It is unlikely that your MySQL server is listening on port 80. Try the default MySQL port instead (3306): <code>spring.datasource.url=jdbc:mysql:&#47;&#47;localhost:3306&#47;pgi_db</code>. Let us know if that changes the error message. This change may be necessary - but not sufficient."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1677980599,"post_id":75639499,"comment_id":133444367,"body_markdown":"(Also I recommend not showing us any of your passwords in your questions. Change any passwords that you do show us - even for personal databases.)","body":"(Also I recommend not showing us any of your passwords in your questions. Change any passwords that you do show us - even for personal databases.)"},{"owner":{"account_id":17380833,"reputation":9,"user_id":12593099,"display_name":"ettalha0x"},"score":0,"creation_date":1678031879,"post_id":75639499,"comment_id":133450369,"body_markdown":"thank you, about the password don&#39;t worry it&#39;s not the real password it just a random txt for demonstration.","body":"thank you, about the password don&#39;t worry it&#39;s not the real password it just a random txt for demonstration."}],"owner":{"account_id":17380833,"reputation":9,"user_id":12593099,"display_name":"ettalha0x"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677975324,"creation_date":1677975324,"question_id":75639499,"body_markdown":"```\r\nRROR 15877 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\r\n\r\nERROR 15877 --- [  restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : Communications link failure\r\n\r\nERROR 15877 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\r\n\r\nERROR 15877 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n```\r\n\r\n\r\nI have these errors above in spring web app with jpa\r\nhere is my application.properties file\r\n\r\n```\r\nserver.port=1337\r\n# Configurations de la connexion &#224; la base de donn&#233;es MySQL\r\nspring.datasource.url=jdbc:mysql://localhost:80/pgi_db\r\nspring.datasource.username=root\r\nspring.datasource.password=r68Mc72Ls7rmkJE\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\n# Configurations JPA\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.defer-datasource-initialization=true\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\r\n\r\n```\r\n\r\n","title":"Error : HikariPool-1 - Exception during pool initialization. spring web app with jpa","body":"<pre><code>RROR 15877 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\n\nERROR 15877 --- [  restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : Communications link failure\n\nERROR 15877 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\n\nERROR 15877 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n</code></pre>\n<p>I have these errors above in spring web app with jpa\nhere is my application.properties file</p>\n<pre><code>server.port=1337\n# Configurations de la connexion à la base de données MySQL\nspring.datasource.url=jdbc:mysql://localhost:80/pgi_db\nspring.datasource.username=root\nspring.datasource.password=r68Mc72Ls7rmkJE\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\n# Configurations JPA\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.defer-datasource-initialization=true\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\n\n</code></pre>\n"},{"tags":["java","maven","apache-karaf","osgi-bundle","karaf"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1538830851,"post_id":52678771,"comment_id":92287281,"body_markdown":"Earlier in the log file, there should be an exception stacktrace that explains *why* it can&#39;t initialize `javax.xml.bind.DatatypeConverterImpl`","body":"Earlier in the log file, there should be an exception stacktrace that explains <i>why</i> it can&#39;t initialize <code>javax.xml.bind.DatatypeConverterImpl</code>"},{"owner":{"account_id":187056,"reputation":4353,"user_id":424830,"accept_rate":16,"display_name":"Shriram"},"score":0,"creation_date":1539240477,"post_id":52678771,"comment_id":92431129,"body_markdown":"https://dev.liferay.com/develop/tutorials/-/knowledge_base/7-0/resolving-classnotfoundexception-and-noclassdeffounderror-in-osgi-bundles   As mentioned in this link it works as expected. But unable to login karaf is strange. We are using public private key authentication in karaf.","body":"<a href=\"https://dev.liferay.com/develop/tutorials/-/knowledge_base/7-0/resolving-classnotfoundexception-and-noclassdeffounderror-in-osgi-bundles\" rel=\"nofollow noreferrer\">dev.liferay.com/develop/tutorials/-/knowledge_base/7-0/&hellip;</a>   As mentioned in this link it works as expected. But unable to login karaf is strange. We are using public private key authentication in karaf."},{"owner":{"account_id":1109910,"reputation":619,"user_id":1100575,"display_name":"Cs&#225;k&#225;ny R&#243;bert"},"score":0,"creation_date":1541965419,"post_id":52678771,"comment_id":93389666,"body_markdown":"What is the version of Java? Becase XML Api have changes in Java releases time to time.","body":"What is the version of Java? Becase XML Api have changes in Java releases time to time."},{"owner":{"account_id":187056,"reputation":4353,"user_id":424830,"accept_rate":16,"display_name":"Shriram"},"score":0,"creation_date":1542118503,"post_id":52678771,"comment_id":93447549,"body_markdown":"We are using Java8 with KARAF 4.x","body":"We are using Java8 with KARAF 4.x"},{"owner":{"account_id":187056,"reputation":4353,"user_id":424830,"accept_rate":16,"display_name":"Shriram"},"score":0,"creation_date":1542803499,"post_id":52678771,"comment_id":93698838,"body_markdown":"Now application is working after adding it to bootdelegation with *. But not sure why it is blocking karaf login. Observed that keys are added after the first login which is not happening after the error comes.","body":"Now application is working after adding it to bootdelegation with *. But not sure why it is blocking karaf login. Observed that keys are added after the first login which is not happening after the error comes."}],"answers":[{"tags":[],"owner":{"account_id":1756015,"reputation":11409,"user_id":1604048,"accept_rate":71,"display_name":"Murat Yıldız"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677974650,"creation_date":1677974650,"answer_id":75639454,"question_id":52678771,"body_markdown":"Try to add the following dependency to your project and reload maven project:\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Unable to login karaf after the exception: Caused by: java.lang.NoClassDefFoundError: Could not initialize class javax.xml.bind.DatatypeConverterImpl","body":"<p>Try to add the following dependency to your project and reload maven project:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":187056,"reputation":4353,"user_id":424830,"accept_rate":16,"display_name":"Shriram"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1677974650,"creation_date":1538826686,"question_id":52678771,"body_markdown":"We have created a karaf instance on which i am writing a sample bundle and successfully deployed.\r\nI am getting Runtime Error which is not reproducible. Strange thing is after this error i am not able to login to karaf which is asking credentials to login to karaf. default password karaf is not working after this.\r\n\r\n    Caused by: java.lang.NoClassDefFoundError: Could not initialize class javax.xml.bind.DatatypeConverterImpl\r\n            at javax.xml.bind.DatatypeConverter.initConverter(DatatypeConverter.java:155)\r\n            at javax.xml.bind.DatatypeConverter.parseHexBinary(DatatypeConverter.java:371)\r\n\r\n\r\n&gt; Env details: Karaf 4.1.4  OS RHEL 7.x\r\n\r\nCode:\r\n\r\n    import java.util.Calendar;\r\n    import java.util.Map;\r\n    \r\n    import javax.xml.bind.DatatypeConverter;\r\n    \r\n    import org.apache.felix.scr.annotations.Activate;\r\n    import org.apache.felix.scr.annotations.Component;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    @Component (name = &quot;TestBinder&quot;, ds = true, immediate = true, metatype = false)\r\n    public class SampleBinder\r\n    {\r\n        private static final Logger LOG = LoggerFactory.getLogger(SampleBinder.class);\r\n    \r\n        @Activate\r\n        public void activate(final Map&lt;String, Object&gt; properties)\r\n        {\r\n            // Testing DatatypeConverter.printHexBinary\r\n            String s2 = &quot;Testing  DatatypeConverter.printHexBinary&quot;;\r\n            String encodeds2 = DatatypeConverter.printHexBinary(s2.getBytes());\r\n            LOG.error(&quot; &gt;&gt;&gt;&gt;&gt;&gt;&gt;  printHexBinary  = &quot; + encodeds2);\r\n            byte[] decodeds2 = DatatypeConverter.parseHexBinary(encodeds2);\r\n            LOG.error(&quot; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;  parseHexBinary - decodes2   = &quot; + new String(decodeds2));\r\n    \r\n            // Lexical representation of date time\r\n            LOG.error(DatatypeConverter.printDateTime(Calendar.getInstance()));\r\n        }\r\n    }\r\n\r\nPom.xml\r\n--------\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;com.test.common&lt;/groupId&gt;\r\n            &lt;artifactId&gt;compile&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;relativePath&gt;../compile&lt;/relativePath&gt;\r\n        &lt;/parent&gt;\r\n        &lt;artifactId&gt;binder&lt;/artifactId&gt;\r\n        &lt;name&gt;com.test.binder&lt;/name&gt;\r\n        &lt;packaging&gt;bundle&lt;/packaging&gt;\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n        &lt;build&gt;\r\n            &lt;defaultGoal&gt;install&lt;/defaultGoal&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\r\n                    &lt;extensions&gt;true&lt;/extensions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;instructions&gt;\r\n                            &lt;Bundle-SymbolicName&gt;${project.groupId}.${project.artifactId}&lt;/Bundle-SymbolicName&gt;\r\n                            &lt;Bundle-Name&gt;${project.Name}&lt;/Bundle-Name&gt;\r\n                            &lt;Bundle-Version&gt;${project.version}&lt;/Bundle-Version&gt;\r\n                            &lt;Export-Package&gt;com.test.java*&lt;/Export-Package&gt;\r\n                            &lt;Import-Package&gt;javax.xml.bind;version=!,\r\n                         *&lt;/Import-Package&gt;\r\n                        &lt;/instructions&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"Unable to login karaf after the exception: Caused by: java.lang.NoClassDefFoundError: Could not initialize class javax.xml.bind.DatatypeConverterImpl","body":"<p>We have created a karaf instance on which i am writing a sample bundle and successfully deployed.\nI am getting Runtime Error which is not reproducible. Strange thing is after this error i am not able to login to karaf which is asking credentials to login to karaf. default password karaf is not working after this.</p>\n\n<pre><code>Caused by: java.lang.NoClassDefFoundError: Could not initialize class javax.xml.bind.DatatypeConverterImpl\n        at javax.xml.bind.DatatypeConverter.initConverter(DatatypeConverter.java:155)\n        at javax.xml.bind.DatatypeConverter.parseHexBinary(DatatypeConverter.java:371)\n</code></pre>\n\n<blockquote>\n  <p>Env details: Karaf 4.1.4  OS RHEL 7.x</p>\n</blockquote>\n\n<p>Code:</p>\n\n<pre><code>import java.util.Calendar;\nimport java.util.Map;\n\nimport javax.xml.bind.DatatypeConverter;\n\nimport org.apache.felix.scr.annotations.Activate;\nimport org.apache.felix.scr.annotations.Component;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\n@Component (name = \"TestBinder\", ds = true, immediate = true, metatype = false)\npublic class SampleBinder\n{\n    private static final Logger LOG = LoggerFactory.getLogger(SampleBinder.class);\n\n    @Activate\n    public void activate(final Map&lt;String, Object&gt; properties)\n    {\n        // Testing DatatypeConverter.printHexBinary\n        String s2 = \"Testing  DatatypeConverter.printHexBinary\";\n        String encodeds2 = DatatypeConverter.printHexBinary(s2.getBytes());\n        LOG.error(\" &gt;&gt;&gt;&gt;&gt;&gt;&gt;  printHexBinary  = \" + encodeds2);\n        byte[] decodeds2 = DatatypeConverter.parseHexBinary(encodeds2);\n        LOG.error(\" &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;  parseHexBinary - decodes2   = \" + new String(decodeds2));\n\n        // Lexical representation of date time\n        LOG.error(DatatypeConverter.printDateTime(Calendar.getInstance()));\n    }\n}\n</code></pre>\n\n<h2>Pom.xml</h2>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;com.test.common&lt;/groupId&gt;\n        &lt;artifactId&gt;compile&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath&gt;../compile&lt;/relativePath&gt;\n    &lt;/parent&gt;\n    &lt;artifactId&gt;binder&lt;/artifactId&gt;\n    &lt;name&gt;com.test.binder&lt;/name&gt;\n    &lt;packaging&gt;bundle&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;build&gt;\n        &lt;defaultGoal&gt;install&lt;/defaultGoal&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\n                &lt;extensions&gt;true&lt;/extensions&gt;\n                &lt;configuration&gt;\n                    &lt;instructions&gt;\n                        &lt;Bundle-SymbolicName&gt;${project.groupId}.${project.artifactId}&lt;/Bundle-SymbolicName&gt;\n                        &lt;Bundle-Name&gt;${project.Name}&lt;/Bundle-Name&gt;\n                        &lt;Bundle-Version&gt;${project.version}&lt;/Bundle-Version&gt;\n                        &lt;Export-Package&gt;com.test.java*&lt;/Export-Package&gt;\n                        &lt;Import-Package&gt;javax.xml.bind;version=!,\n                     *&lt;/Import-Package&gt;\n                    &lt;/instructions&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","android-studio","apk"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1677973852,"post_id":75639305,"comment_id":133443741,"body_markdown":"Regarding your error, see [&quot;Non-static method cannot be referenced from a static context&quot; error](https://stackoverflow.com/q/4922145/6395627).","body":"Regarding your error, see <a href=\"https://stackoverflow.com/q/4922145/6395627\">&quot;Non-static method cannot be referenced from a static context&quot; error</a>."}],"answers":[{"tags":[],"owner":{"account_id":3583855,"reputation":150,"user_id":2991440,"display_name":"krishnan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677973462,"creation_date":1677973462,"answer_id":75639376,"question_id":75639305,"body_markdown":"Simply use `getAssets()` method when you are calling inside the Activity class.\r\n\r\nIf you calling this method in non-Activity class then you need to call this method from Context which is passed from Activity class. So below is the line by you can access the method.\r\n\r\n    ContextInstance.getAssets();\r\n\r\n`ContextInstance` may be passed as this of Activity class.","title":"MainActivity.getAssets(); Non-static method &#39;getAssets()&#39; cannot be referenced from a static context","body":"<p>Simply use <code>getAssets()</code> method when you are calling inside the Activity class.</p>\n<p>If you calling this method in non-Activity class then you need to call this method from Context which is passed from Activity class. So below is the line by you can access the method.</p>\n<pre><code>ContextInstance.getAssets();\n</code></pre>\n<p><code>ContextInstance</code> may be passed as this of Activity class.</p>\n"}],"owner":{"account_id":9969173,"reputation":1133,"user_id":7375877,"display_name":"Mi Po"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677973855,"creation_date":1677972341,"question_id":75639305,"body_markdown":"I am trying to load assets from the `assets` folder into my Android application using Android Studio and Java\r\n\r\nThe code is simple, but it does not work\r\n\r\n    AssetManager assetManager = MainActivity.getAssets();\r\n    InputStream ims = assetManager.open(&quot;helloworld.txt&quot;);   \r\n\r\nThe error is `Non-static method &#39;getAssets()&#39; cannot be referenced from a static context`\r\n\r\nThere is no word `static` anywhere in MainActivity class, was it statically instantiated? \r\nHGow can I get around this? Where do I need to read the assets?\r\nAnd how can I properly get assets if this is incorrect?\r\nAdditionally what imports do I need for AssetManager, I cannot find this","title":"MainActivity.getAssets(); Non-static method &#39;getAssets()&#39; cannot be referenced from a static context","body":"<p>I am trying to load assets from the <code>assets</code> folder into my Android application using Android Studio and Java</p>\n<p>The code is simple, but it does not work</p>\n<pre><code>AssetManager assetManager = MainActivity.getAssets();\nInputStream ims = assetManager.open(&quot;helloworld.txt&quot;);   \n</code></pre>\n<p>The error is <code>Non-static method 'getAssets()' cannot be referenced from a static context</code></p>\n<p>There is no word <code>static</code> anywhere in MainActivity class, was it statically instantiated?\nHGow can I get around this? Where do I need to read the assets?\nAnd how can I properly get assets if this is incorrect?\nAdditionally what imports do I need for AssetManager, I cannot find this</p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677973509,"creation_date":1677973509,"answer_id":75639381,"question_id":75639254,"body_markdown":"Looking at the docs: https://docs.gradle.org/current/javadoc/org/gradle/api/tasks/compile/CompileOptions.html#setAnnotationProcessorGeneratedSourcesDirectory-java.io.File-\r\n\r\n&gt; Use `getGeneratedSourceOutputDirectory().set()` instead. This method will be removed in Gradle 9.0. \r\n","title":"Upgrading Gradle version","body":"<p>Looking at the docs: <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/tasks/compile/CompileOptions.html#setAnnotationProcessorGeneratedSourcesDirectory-java.io.File-\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/javadoc/org/gradle/api/tasks/compile/CompileOptions.html#setAnnotationProcessorGeneratedSourcesDirectory-java.io.File-</a></p>\n<blockquote>\n<p>Use <code>getGeneratedSourceOutputDirectory().set()</code> instead. This method will be removed in Gradle 9.0.</p>\n</blockquote>\n"}],"owner":{"account_id":9013194,"reputation":220,"user_id":10663941,"display_name":"The Prototype"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75639381,"answer_count":1,"score":-1,"last_activity_date":1677973509,"creation_date":1677971638,"question_id":75639254,"body_markdown":"I am upgrading Gradle version from 5.6.4 to 7.6.1.\r\n\r\n```\r\next {\r\n    generated = &#39;src/main/generated&#39;\r\n}\r\n\r\ntasks.withType(JavaCompile).configureEach {\r\n    options.annotationProcessorGeneratedSourcesDirectory = file(generated)\r\n}\r\n```\r\n\r\nThe `setAnnotationProcessorGeneratedSourcesDirectory` method in deprecated the new version\r\n[![Gradle sources][1]][1]\r\n\r\n```\r\ntasks.withType(JavaCompile).configureEach {\r\n    options.setAnnotationProcessorGeneratedSourcesDirectory(?) // where ? - Provider&lt;File&gt; file\r\n}\r\n```\r\n\r\nHow can I do this in the new Gradle version without using the deprecated method?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2MTWO.png","title":"Upgrading Gradle version","body":"<p>I am upgrading Gradle version from 5.6.4 to 7.6.1.</p>\n<pre><code>ext {\n    generated = 'src/main/generated'\n}\n\ntasks.withType(JavaCompile).configureEach {\n    options.annotationProcessorGeneratedSourcesDirectory = file(generated)\n}\n</code></pre>\n<p>The <code>setAnnotationProcessorGeneratedSourcesDirectory</code> method in deprecated the new version\n<a href=\"https://i.stack.imgur.com/2MTWO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2MTWO.png\" alt=\"Gradle sources\" /></a></p>\n<pre><code>tasks.withType(JavaCompile).configureEach {\n    options.setAnnotationProcessorGeneratedSourcesDirectory(?) // where ? - Provider&lt;File&gt; file\n}\n</code></pre>\n<p>How can I do this in the new Gradle version without using the deprecated method?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1633784400,"post_id":69506815,"comment_id":122855493,"body_markdown":"&quot;but breaks for&quot; can you explain how it breaks?","body":"&quot;but breaks for&quot; can you explain how it breaks?"},{"owner":{"display_name":"user4910279"},"score":0,"creation_date":1633786540,"post_id":69506815,"comment_id":122855927,"body_markdown":"If `N = 90`, then `X` is at least `9999999999` or greater.  But you have only tested up to `90 &#215; 9999 = 899910`.","body":"If <code>N = 90</code>, then <code>X</code> is at least <code>9999999999</code> or greater.  But you have only tested up to <code>90 &#215; 9999 = 899910</code>."}],"answers":[{"tags":[],"owner":{"account_id":22535731,"reputation":1,"user_id":16727062,"display_name":"Bvm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654459468,"creation_date":1654446497,"answer_id":72509152,"question_id":69506815,"body_markdown":"I think you need to add the actual check on the condition `(i % input1 == 0)` to check the divisibility. \r\n\r\n\r\n    public static int getSmallestNumber (int input1) {\r\n        int res = 0;\r\n        for (int i = input1; i &lt; 10000; i++) {\r\n            if (getSum(i) == input1 &amp;&amp; i % input1 == 0) {\r\n            res = i;\r\n                break;\r\n            }\r\n                \r\n        }\r\n        return res;\r\n    }\r\n    \r\n    static int getSum (int n) {    \r\n        int sum = 0;\r\n        while (n != 0) {\r\n            sum = sum + n % 10;\r\n            n = n/10;\r\n        }\r\n        return sum;\r\n    }\r\n","title":"find smallest number divisible by N with sum of digits as N","body":"<p>I think you need to add the actual check on the condition <code>(i % input1 == 0)</code> to check the divisibility.</p>\n<pre><code>public static int getSmallestNumber (int input1) {\n    int res = 0;\n    for (int i = input1; i &lt; 10000; i++) {\n        if (getSum(i) == input1 &amp;&amp; i % input1 == 0) {\n        res = i;\n            break;\n        }\n            \n    }\n    return res;\n}\n\nstatic int getSum (int n) {    \n    int sum = 0;\n    while (n != 0) {\n        sum = sum + n % 10;\n        n = n/10;\n    }\n    return sum;\n}\n</code></pre>\n"}],"owner":{"account_id":21310487,"reputation":11,"user_id":15684947,"display_name":"Aditya Verma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4055,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677972849,"creation_date":1633783253,"question_id":69506815,"body_markdown":"For a given number N(0&lt;N&lt;=100) find out the minimum positive integer X divisible by N, where the sum of digits of X is equal to N, and X is not equal to N.\r\n\r\n```java\r\npublic static int getSmallestNumber(int input1) {\r\n    int res =0;\r\n\tfor(int i=2;i&lt;10000;i++) {\r\n\t\tif(getSum(input1*i) == input1) {\r\n\t\tres = input1*i;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\t\t\r\n\t}\r\n\treturn res;\r\n}\r\n\r\nstatic int getSum(int n) {    \r\n    int sum = 0;\r\n    while (n != 0) {\r\n        sum = sum + n % 10;\r\n        n = n/10;\r\n    }\r\n    return sum;\r\n}\r\n```\r\nExample: Input: 9 \r\noutput: 18\r\nExplanation: 1+8 is 9 and 18 is divisible by 9\r\n\r\nExample2: Input: 10\r\noutput: 190\r\nExplanation: 1+9+0 is 10 and 190 is divisible by 10\r\n\r\nMy solution works for smaller integer but breaks for larger numbers like 98, 99 or 100.","title":"find smallest number divisible by N with sum of digits as N","body":"<p>For a given number N(0&lt;N&lt;=100) find out the minimum positive integer X divisible by N, where the sum of digits of X is equal to N, and X is not equal to N.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int getSmallestNumber(int input1) {\n    int res =0;\n    for(int i=2;i&lt;10000;i++) {\n        if(getSum(input1*i) == input1) {\n        res = input1*i;\n            break;\n        }\n            \n    }\n    return res;\n}\n\nstatic int getSum(int n) {    \n    int sum = 0;\n    while (n != 0) {\n        sum = sum + n % 10;\n        n = n/10;\n    }\n    return sum;\n}\n</code></pre>\n<p>Example: Input: 9\noutput: 18\nExplanation: 1+8 is 9 and 18 is divisible by 9</p>\n<p>Example2: Input: 10\noutput: 190\nExplanation: 1+9+0 is 10 and 190 is divisible by 10</p>\n<p>My solution works for smaller integer but breaks for larger numbers like 98, 99 or 100.</p>\n"},{"tags":["java","flutter","dart"],"answers":[{"tags":[],"owner":{"account_id":4099822,"reputation":1256,"user_id":3365667,"display_name":"Roslan Amir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635575116,"creation_date":1635574768,"answer_id":69777238,"question_id":68179304,"body_markdown":"You can use the `CalendarDatePicker` widget. Here&#39;s a complete example:\r\n\r\n    import &#39;package:flutter/material.dart&#39;;\r\n    \r\n    void main() =&gt; runApp(const MyApp());\r\n    \r\n    class MyApp extends StatelessWidget {\r\n      const MyApp({Key? key}) : super(key: key);\r\n    \r\n      @override\r\n      Widget build(BuildContext context) {\r\n        return MaterialApp(\r\n          title: &#39;Custom Date Picker&#39;,\r\n          theme: ThemeData(\r\n            primarySwatch: Colors.blue,\r\n          ),\r\n          home: const MyHomePage(),\r\n        );\r\n      }\r\n    }\r\n    \r\n    class MyHomePage extends StatefulWidget {\r\n      const MyHomePage({Key? key}) : super(key: key);\r\n    \r\n      @override\r\n      _MyHomePageState createState() {\r\n        return _MyHomePageState();\r\n      }\r\n    }\r\n    \r\n    class _MyHomePageState extends State&lt;MyHomePage&gt; {\r\n      DateTime _selectedDate = DateTime.now();\r\n    \r\n      @override\r\n      Widget build(BuildContext context) {\r\n        return Scaffold(\r\n          appBar: AppBar(\r\n            title: const Text(&#39;Custom Date Picker&#39;),\r\n          ),\r\n          body: Center(\r\n            child: Column(\r\n              mainAxisAlignment: MainAxisAlignment.spaceEvenly,\r\n              children: [\r\n                Text(\r\n                  _selectedDate.toString().split(&#39; &#39;).first,\r\n                  style: Theme.of(context).textTheme.headline4,\r\n                ),\r\n                ElevatedButton(\r\n                  onPressed: () async {\r\n                    final result = (await Navigator.push(\r\n                      context,\r\n                      MaterialPageRoute&lt;DateTime&gt;(builder: (context) =&gt; DatePicker(initialDate: _selectedDate)),\r\n                    ))!;\r\n                    setState(() {\r\n                      _selectedDate = result;\r\n                    });\r\n                  },\r\n                  child: const Text(&quot;Pick Date&quot;),\r\n                ),\r\n              ],\r\n            ),\r\n          ),\r\n        );\r\n      }\r\n    }\r\n    \r\n    class DatePicker extends StatelessWidget {\r\n      final DateTime initialDate;\r\n    \r\n      const DatePicker({required this.initialDate, Key? key}) : super(key: key);\r\n    \r\n      @override\r\n      Widget build(BuildContext context) {\r\n        return Scaffold(\r\n          appBar: AppBar(\r\n            title: const Text(&quot;Pick Date&quot;),\r\n            leading: IconButton(\r\n              icon: const Icon(Icons.arrow_back),\r\n              onPressed: () =&gt; Navigator.pop&lt;DateTime&gt;(context, initialDate),\r\n            ),\r\n          ),\r\n          body: Center(\r\n            child: Container(\r\n              color: Colors.blue[50],\r\n              margin: const EdgeInsets.all(10.0),\r\n              padding: const EdgeInsets.all(10.0),\r\n              child: CalendarDatePicker(\r\n                initialDate: initialDate,\r\n                firstDate: DateTime(2021),\r\n                lastDate: DateTime(2025),\r\n                onDateChanged: (DateTime selectedDate) {\r\n                  Navigator.pop&lt;DateTime&gt;(context, selectedDate);\r\n                },\r\n              ),\r\n            ),\r\n          ),\r\n        );\r\n      }\r\n    }\r\n\r\n","title":"Flutter Datepicker - close on select date, not by OK confirm button?","body":"<p>You can use the <code>CalendarDatePicker</code> widget. Here's a complete example:</p>\n<pre><code>import 'package:flutter/material.dart';\n\nvoid main() =&gt; runApp(const MyApp());\n\nclass MyApp extends StatelessWidget {\n  const MyApp({Key? key}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Custom Date Picker',\n      theme: ThemeData(\n        primarySwatch: Colors.blue,\n      ),\n      home: const MyHomePage(),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  const MyHomePage({Key? key}) : super(key: key);\n\n  @override\n  _MyHomePageState createState() {\n    return _MyHomePageState();\n  }\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  DateTime _selectedDate = DateTime.now();\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('Custom Date Picker'),\n      ),\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n          children: [\n            Text(\n              _selectedDate.toString().split(' ').first,\n              style: Theme.of(context).textTheme.headline4,\n            ),\n            ElevatedButton(\n              onPressed: () async {\n                final result = (await Navigator.push(\n                  context,\n                  MaterialPageRoute&lt;DateTime&gt;(builder: (context) =&gt; DatePicker(initialDate: _selectedDate)),\n                ))!;\n                setState(() {\n                  _selectedDate = result;\n                });\n              },\n              child: const Text(&quot;Pick Date&quot;),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n\nclass DatePicker extends StatelessWidget {\n  final DateTime initialDate;\n\n  const DatePicker({required this.initialDate, Key? key}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text(&quot;Pick Date&quot;),\n        leading: IconButton(\n          icon: const Icon(Icons.arrow_back),\n          onPressed: () =&gt; Navigator.pop&lt;DateTime&gt;(context, initialDate),\n        ),\n      ),\n      body: Center(\n        child: Container(\n          color: Colors.blue[50],\n          margin: const EdgeInsets.all(10.0),\n          padding: const EdgeInsets.all(10.0),\n          child: CalendarDatePicker(\n            initialDate: initialDate,\n            firstDate: DateTime(2021),\n            lastDate: DateTime(2025),\n            onDateChanged: (DateTime selectedDate) {\n              Navigator.pop&lt;DateTime&gt;(context, selectedDate);\n            },\n          ),\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":142928,"reputation":2401,"user_id":350937,"display_name":"Denis Ryzhkov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677972741,"creation_date":1677972399,"answer_id":75639308,"question_id":68179304,"body_markdown":"If you just want `showDatePicker` without re-implementing it from `CalendarDatePicker`,  \r\nthen you can get a copy of source code, patch it, and use it:\r\n\r\n - `bin/patch`\r\n    ```bash\r\n    #!/usr/bin/env bash\r\n    set -eu\r\n\r\n    VERSION=$(flutter --version | head -n 1 | cut -d &#39; &#39; -f 2)\r\n\r\n    curl https://raw.githubusercontent.com/flutter/flutter/$VERSION/packages/flutter/lib/src/material/date_picker.dart \\\r\n      | perl -0777 -pe &quot;s/import &#39;package:flutter\\/widgets.dart&#39;.+&#39;theme.dart&#39;;/import &#39;package:flutter\\/material.dart&#39;;\\n\\/\\/ ignore_for_file: unnecessary_null_comparison/s&quot; \\\r\n      | perl -pe &quot;s/onDateChanged: _handleDateChanged,/onDateChanged: (date) {_handleDateChanged(date); _handleOk();},/&quot; \\\r\n      &gt; lib/patched/date_picker.dart\r\n    ```\r\n\r\n - `lib/main.dart`\r\n    ```dart\r\n    import &quot;package:flutter/material.dart&quot; hide showDatePicker;\r\n    import &quot;package:your/patched/date_picker.dart&quot; show showDatePicker;\r\n    ```\r\nThis patched `showDatePicker` saves a user from an extra click.\r\n\r\nTested for Flutter 3.7.6.  \r\nIf a newer version becomes incompatible, you can easily update the patching script and re-run it.","title":"Flutter Datepicker - close on select date, not by OK confirm button?","body":"<p>If you just want <code>showDatePicker</code> without re-implementing it from <code>CalendarDatePicker</code>,<br />\nthen you can get a copy of source code, patch it, and use it:</p>\n<ul>\n<li><p><code>bin/patch</code></p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/usr/bin/env bash\nset -eu\n\nVERSION=$(flutter --version | head -n 1 | cut -d ' ' -f 2)\n\ncurl https://raw.githubusercontent.com/flutter/flutter/$VERSION/packages/flutter/lib/src/material/date_picker.dart \\\n  | perl -0777 -pe &quot;s/import 'package:flutter\\/widgets.dart'.+'theme.dart';/import 'package:flutter\\/material.dart';\\n\\/\\/ ignore_for_file: unnecessary_null_comparison/s&quot; \\\n  | perl -pe &quot;s/onDateChanged: _handleDateChanged,/onDateChanged: (date) {_handleDateChanged(date); _handleOk();},/&quot; \\\n  &gt; lib/patched/date_picker.dart\n</code></pre>\n</li>\n<li><p><code>lib/main.dart</code></p>\n<pre class=\"lang-dart prettyprint-override\"><code>import &quot;package:flutter/material.dart&quot; hide showDatePicker;\nimport &quot;package:your/patched/date_picker.dart&quot; show showDatePicker;\n</code></pre>\n</li>\n</ul>\n<p>This patched <code>showDatePicker</code> saves a user from an extra click.</p>\n<p>Tested for Flutter 3.7.6.<br />\nIf a newer version becomes incompatible, you can easily update the patching script and re-run it.</p>\n"}],"owner":{"account_id":2866168,"reputation":99,"user_id":2460455,"accept_rate":50,"display_name":"Exyu Portal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1027,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1677972741,"creation_date":1624972011,"question_id":68179304,"body_markdown":"Is it possible for a flutter datepicker to close as soon as a date is pressed? something like a jquery datepicker ...\r\n\r\n      Future&lt;void&gt; _selectDate(BuildContext context) async {\r\n        final DateTime? picked = await showDatePicker(\r\n            context: context,\r\n            initialDate: selectedDate,\r\n            firstDate: DateTime(2015, 8),\r\n            lastDate: DateTime(2101)\r\n        );\r\n        if (picked != null &amp;&amp; picked != selectedDate)\r\n          setState(() {\r\n            selectedDate = picked;\r\n            selectedDateF = &quot;${selectedDate.toLocal()}&quot;.split(&#39; &#39;)[0];\r\n          });\r\n      }","title":"Flutter Datepicker - close on select date, not by OK confirm button?","body":"<p>Is it possible for a flutter datepicker to close as soon as a date is pressed? something like a jquery datepicker ...</p>\n<pre><code>  Future&lt;void&gt; _selectDate(BuildContext context) async {\n    final DateTime? picked = await showDatePicker(\n        context: context,\n        initialDate: selectedDate,\n        firstDate: DateTime(2015, 8),\n        lastDate: DateTime(2101)\n    );\n    if (picked != null &amp;&amp; picked != selectedDate)\n      setState(() {\n        selectedDate = picked;\n        selectedDateF = &quot;${selectedDate.toLocal()}&quot;.split(' ')[0];\n      });\n  }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-boot-test","prototype-scope"],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677972454,"creation_date":1677972454,"answer_id":75639311,"question_id":75638598,"body_markdown":"Your tests are reusing the application context, to make them independent from one another you should use [`@DirtiesContext`][1] annotation:\r\n\r\n&gt; `@DirtiesContext` indicates that the underlying Spring\r\n&gt; `ApplicationContext` has been dirtied during the execution of a test\r\n&gt; (that is, the test modified or corrupted it in some manner — for\r\n&gt; example, by changing the state of a singleton bean) and should be\r\n&gt; closed. When an application context is marked as dirty, it is removed\r\n&gt; from the testing framework’s cache and closed. As a consequence, the\r\n&gt; underlying Spring container is rebuilt for any subsequent test that\r\n&gt; requires a context with the same configuration metadata.\r\n\r\nFor example, you can annotate the test class as follows:\r\n\r\n```java\r\n@SpringBootTest(classes =  TestConfig.class)\r\n@DirtiesContext(classMode = ClassMode.AFTER_EACH_TEST_METHOD)\r\npublic class DealershipServiceIT {\r\n//..\r\n}\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#spring-testing-annotation-dirtiescontext","title":"How to make a SpringBootTest treat the autowired instance as a prototype?","body":"<p>Your tests are reusing the application context, to make them independent from one another you should use <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#spring-testing-annotation-dirtiescontext\" rel=\"nofollow noreferrer\"><code>@DirtiesContext</code></a> annotation:</p>\n<blockquote>\n<p><code>@DirtiesContext</code> indicates that the underlying Spring\n<code>ApplicationContext</code> has been dirtied during the execution of a test\n(that is, the test modified or corrupted it in some manner — for\nexample, by changing the state of a singleton bean) and should be\nclosed. When an application context is marked as dirty, it is removed\nfrom the testing framework’s cache and closed. As a consequence, the\nunderlying Spring container is rebuilt for any subsequent test that\nrequires a context with the same configuration metadata.</p>\n</blockquote>\n<p>For example, you can annotate the test class as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(classes =  TestConfig.class)\n@DirtiesContext(classMode = ClassMode.AFTER_EACH_TEST_METHOD)\npublic class DealershipServiceIT {\n//..\n}\n</code></pre>\n"}],"owner":{"account_id":1447743,"reputation":2678,"user_id":1379730,"accept_rate":52,"display_name":"Jason"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75639311,"answer_count":1,"score":0,"last_activity_date":1677972454,"creation_date":1677963230,"question_id":75638598,"body_markdown":"New to Spring / SpringBoot. I have this interface that represents a toy car dealership:\r\n\r\n```java\r\n\r\npublic interface DealershipService {\r\n\r\n  Long getRevenue();\r\n\r\n  void sell(Car car);\r\n\r\n  void buy(Car car);\r\n\r\n  List&lt;Car&gt; findByMake(String make);\r\n\r\n  List&lt;Car&gt; findByMakeAndModel(String make, String model);\r\n\r\n  List&lt;Car&gt; findByMakeModelAndYear(String make, String model, String year);\r\n\r\n  List&lt;Car&gt; findByYearRange(String yearLowInclusive, String yearHighInclusive);\r\n\r\n  List&lt;Car&gt; findInCostRange(long costLowInclusive, long costHighInclusive);\r\n}\r\n```\r\n\r\nAnd its implementation, for which only the `buy()` and `sell()` methods are really the only relevant ones:\r\n\r\n```java\r\n@Slf4j\r\n@Data\r\n@Service\r\npublic class DealershipServiceImpl implements DealershipService {\r\n\r\n  @Value(&quot;${revenue}&quot;)\r\n  private Long revenue;\r\n  private final CarRepository carRepository;\r\n\r\n  @Autowired\r\n  public DealershipServiceImpl(CarRepository carRepository) {\r\n    this.carRepository = carRepository;\r\n  }\r\n\r\n  @Override\r\n  public void sell(Car car) {\r\n    carRepository.removeFromRepository(car.getVin());\r\n    revenue += car.getCostInUSD();\r\n    log.info(&quot;Sold car {}. Current revenue: {}&quot;, car, revenue);\r\n  }\r\n\r\n  @Override\r\n  public void buy(Car car) {\r\n    if (revenue &gt;= car.getCostInUSD()) {\r\n      carRepository.addToRepository(car);\r\n      revenue -= car.getCostInUSD();\r\n      log.info(&quot;Bought car {}. Current revenue: {}&quot;, car, revenue);\r\n    } else {\r\n      log.warn(&quot;Unable to buy car {}; we&#39;re broke!&quot;, car);\r\n      throw new InsufficientRevenueException();\r\n    }\r\n  }\r\n.\r\n.\r\n.\r\n```\r\n\r\nBuying a car reduces the available revenue, and selling one increases it. The value of `revenue` is at `1_000_000L` (one million USD, supposedly) in my `application.properties` files (under both `main` and `test`).\r\n\r\nIn trying to test this implementation, I have written the following:\r\n\r\n```java\r\n@SpringBootTest(classes =  TestConfig.class)\r\npublic class DealershipServiceIT {\r\n\r\n    @Autowired\r\n    private  DealershipService dealershipService;\r\n\r\n    @Test\r\n    public void whenNoTransactions_TotalRevenueIsAMil(){\r\n        assertThat(dealershipService.getRevenue(), is(1_000_000L));\r\n    }\r\n\r\n    @Test\r\n    public void whenMakingTransactions_revenueIsAffected(){\r\n        Car car = Car.builder().year(2006).vin(&quot;1234&quot;).costInUSD(10_000L).make(&quot;Nissan&quot;).model(&quot;Sentra&quot;).build();\r\n        dealershipService.buy(car);\r\n        assertThat(dealershipService.getRevenue(), is(990_000L));\r\n    }\r\n}\r\n```\r\n\r\nThe problem is that the action of `whenMakingTransactions_revenueIsAffected()` affects the singleton field `dealershipService` injected into the class. Consequently, when I run all the tests of the class and this test is run first (I don&#39;t know why the tests aren&#39;t run in the order written), this test succeeds and `whenNoTransactions_TotalRevenueIsAMil()` fails. This is because the revenue falls by 10k and then the first test sees the same singleton instance of `dealershipService`.\r\n\r\nThis is solved if I make my `DealershipServiceImpl` a prototype bean by adding `@Scope(&quot;prototype&quot;)`above `DealershipServiceImpl`, but I&#39;m not quite certain that this is good Spring design; there&#39;s a reason why Beans are singletons by default. \r\n\r\nSo I&#39;m looking to find a way to treat the injected `DealershipService` in my test as a prototype _for the purposes of testing_, if at all possible. Effectively, whenever entering a new test, I&#39;d need a new `DealershipService` being injected into the test. Is making my original `DealershipService`a prototype the only possibility?","title":"How to make a SpringBootTest treat the autowired instance as a prototype?","body":"<p>New to Spring / SpringBoot. I have this interface that represents a toy car dealership:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic interface DealershipService {\n\n  Long getRevenue();\n\n  void sell(Car car);\n\n  void buy(Car car);\n\n  List&lt;Car&gt; findByMake(String make);\n\n  List&lt;Car&gt; findByMakeAndModel(String make, String model);\n\n  List&lt;Car&gt; findByMakeModelAndYear(String make, String model, String year);\n\n  List&lt;Car&gt; findByYearRange(String yearLowInclusive, String yearHighInclusive);\n\n  List&lt;Car&gt; findInCostRange(long costLowInclusive, long costHighInclusive);\n}\n</code></pre>\n<p>And its implementation, for which only the <code>buy()</code> and <code>sell()</code> methods are really the only relevant ones:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Data\n@Service\npublic class DealershipServiceImpl implements DealershipService {\n\n  @Value(&quot;${revenue}&quot;)\n  private Long revenue;\n  private final CarRepository carRepository;\n\n  @Autowired\n  public DealershipServiceImpl(CarRepository carRepository) {\n    this.carRepository = carRepository;\n  }\n\n  @Override\n  public void sell(Car car) {\n    carRepository.removeFromRepository(car.getVin());\n    revenue += car.getCostInUSD();\n    log.info(&quot;Sold car {}. Current revenue: {}&quot;, car, revenue);\n  }\n\n  @Override\n  public void buy(Car car) {\n    if (revenue &gt;= car.getCostInUSD()) {\n      carRepository.addToRepository(car);\n      revenue -= car.getCostInUSD();\n      log.info(&quot;Bought car {}. Current revenue: {}&quot;, car, revenue);\n    } else {\n      log.warn(&quot;Unable to buy car {}; we're broke!&quot;, car);\n      throw new InsufficientRevenueException();\n    }\n  }\n.\n.\n.\n</code></pre>\n<p>Buying a car reduces the available revenue, and selling one increases it. The value of <code>revenue</code> is at <code>1_000_000L</code> (one million USD, supposedly) in my <code>application.properties</code> files (under both <code>main</code> and <code>test</code>).</p>\n<p>In trying to test this implementation, I have written the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(classes =  TestConfig.class)\npublic class DealershipServiceIT {\n\n    @Autowired\n    private  DealershipService dealershipService;\n\n    @Test\n    public void whenNoTransactions_TotalRevenueIsAMil(){\n        assertThat(dealershipService.getRevenue(), is(1_000_000L));\n    }\n\n    @Test\n    public void whenMakingTransactions_revenueIsAffected(){\n        Car car = Car.builder().year(2006).vin(&quot;1234&quot;).costInUSD(10_000L).make(&quot;Nissan&quot;).model(&quot;Sentra&quot;).build();\n        dealershipService.buy(car);\n        assertThat(dealershipService.getRevenue(), is(990_000L));\n    }\n}\n</code></pre>\n<p>The problem is that the action of <code>whenMakingTransactions_revenueIsAffected()</code> affects the singleton field <code>dealershipService</code> injected into the class. Consequently, when I run all the tests of the class and this test is run first (I don't know why the tests aren't run in the order written), this test succeeds and <code>whenNoTransactions_TotalRevenueIsAMil()</code> fails. This is because the revenue falls by 10k and then the first test sees the same singleton instance of <code>dealershipService</code>.</p>\n<p>This is solved if I make my <code>DealershipServiceImpl</code> a prototype bean by adding <code>@Scope(&quot;prototype&quot;)</code>above <code>DealershipServiceImpl</code>, but I'm not quite certain that this is good Spring design; there's a reason why Beans are singletons by default.</p>\n<p>So I'm looking to find a way to treat the injected <code>DealershipService</code> in my test as a prototype <em>for the purposes of testing</em>, if at all possible. Effectively, whenever entering a new test, I'd need a new <code>DealershipService</code> being injected into the test. Is making my original <code>DealershipService</code>a prototype the only possibility?</p>\n"},{"tags":["java","eclipse","servlets"],"comments":[{"owner":{"account_id":652217,"reputation":4941,"user_id":453821,"accept_rate":96,"display_name":"tom"},"score":0,"creation_date":1288692661,"post_id":4076601,"comment_id":4382057,"body_markdown":"im trying to run a simple hello word type servlet, normally if i wanted to make a gui i would import java......swing.*; i cant find the right import for a servlet","body":"im trying to run a simple hello word type servlet, normally if i wanted to make a gui i would import java......swing.*; i cant find the right import for a servlet"}],"answers":[{"tags":[],"owner":{"account_id":1078,"reputation":33615,"user_id":1431,"accept_rate":71,"display_name":"Juha Syrj&#228;l&#228;"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1288692691,"creation_date":1288692359,"answer_id":4076610,"question_id":4076601,"body_markdown":"From [wikipedia](http://en.wikipedia.org/wiki/Java_Servlet).\r\n\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n     \r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n     \r\n    public class HelloWorld extends HttpServlet {\r\n      public void doGet(HttpServletRequest request, HttpServletResponse response)\r\n          throws ServletException, IOException {\r\n        PrintWriter out = response.getWriter();\r\n        out.println(&quot;&lt;!DOCTYPE HTML PUBLIC \\&quot;-//W3C//DTD HTML 4.0 &quot; +\r\n                    &quot;Transitional//EN\\&quot;&gt;\\n&quot; +\r\n                    &quot;&lt;html&gt;\\n&quot; +\r\n                    &quot;&lt;head&gt;&lt;title&gt;Hello WWW&lt;/title&gt;&lt;/head&gt;\\n&quot; +\r\n                    &quot;&lt;body&gt;\\n&quot; +\r\n                    &quot;&lt;h1&gt;Hello WWW&lt;/h1&gt;\\n&quot; +\r\n                    &quot;&lt;/body&gt;&lt;/html&gt;&quot;);\r\n      }\r\n    }\r\n\r\n\r\n This, of course, works only if you have added the `servlet-api.jar` to Eclipse build path. Typically your application server (e.g [Tomcat](http://tomcat.apache.org/)) will have the right jar file. ","title":"How do I import the javax.servlet / jakarta.servlet API in my Eclipse project?","body":"<p>From <a href=\"http://en.wikipedia.org/wiki/Java_Servlet\" rel=\"nofollow\">wikipedia</a>.</p>\n\n<pre><code>import java.io.IOException;\nimport java.io.PrintWriter;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\npublic class HelloWorld extends HttpServlet {\n  public void doGet(HttpServletRequest request, HttpServletResponse response)\n      throws ServletException, IOException {\n    PrintWriter out = response.getWriter();\n    out.println(\"&lt;!DOCTYPE HTML PUBLIC \\\"-//W3C//DTD HTML 4.0 \" +\n                \"Transitional//EN\\\"&gt;\\n\" +\n                \"&lt;html&gt;\\n\" +\n                \"&lt;head&gt;&lt;title&gt;Hello WWW&lt;/title&gt;&lt;/head&gt;\\n\" +\n                \"&lt;body&gt;\\n\" +\n                \"&lt;h1&gt;Hello WWW&lt;/h1&gt;\\n\" +\n                \"&lt;/body&gt;&lt;/html&gt;\");\n  }\n}\n</code></pre>\n\n<p>This, of course, works only if you have added the <code>servlet-api.jar</code> to Eclipse build path. Typically your application server (e.g <a href=\"http://tomcat.apache.org/\" rel=\"nofollow\">Tomcat</a>) will have the right jar file. </p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":2,"up_vote_count":457,"is_accepted":true,"score":455,"last_activity_date":1669335135,"creation_date":1288693072,"answer_id":4076706,"question_id":4076601,"body_markdown":"# Ensure you&#39;ve the right Eclipse and Server version\r\n\r\nEnsure that you&#39;re using at least [Eclipse IDE for **Enterprise** Java (and Web) developers][1] (with the **Enterprise**). It contains development tools to create dynamic web projects and easily integrate servletcontainers (those tools are part of Web Tools Platform, WTP). In case you already had Eclipse IDE for Java (without Enterprise), and manually installed some related plugins, then chances are that it wasn&#39;t done properly. You&#39;d best trash it and grab the real Eclipse IDE for Enterprise Java one.\r\n\r\nYou also need to ensure that you already have a servletcontainer installed on your machine which implements at least the same Servlet API version as the servletcontainer in the production environment, for example [Apache Tomcat][2], [RedHat WildFly][4], [Eclipse GlassFish][3], etc. Usually, just downloading the ZIP file and extracting it is sufficient. In case of Tomcat, do *not* download the EXE format, that&#39;s only for Windows based production environments. See also a.o. https://stackoverflow.com/questions/5064733.\r\n\r\nA servletcontainer is a concrete implementation of the Servlet API. Also note that for example WildFly and GlassFish are *more* than just a servletcontainer, they also support JSF (Faces), EJB (Enterprise Beans), JPA (Persistence) and all other Jakarta EE fanciness. See also a.o. https://stackoverflow.com/questions/7295096\r\n\r\n\r\n# Ensure that you&#39;re using the right Servlet package\r\n\r\nThe `javax.*` package has been renamed to `jakarta.*` package since Servlet API version 5.0 which is part of Jakarta EE 9 (Tomcat 10, TomEE 9, WildFly 22 Preview, GlassFish 6, Payara 6, Liberty 22, etc). So if you&#39;re targeting these server versions or newer, then you need to replace\r\n```java\r\nimport javax.servlet.*;\r\nimport javax.servlet.http.*;\r\n```\r\nby\r\n```java\r\nimport jakarta.servlet.*;\r\nimport jakarta.servlet.http.*;\r\n```\r\nin order to get it to compile, else you might risk to face this build error \r\n\r\n&gt; The superclass &quot;javax.servlet.http.HttpServlet&quot; was not found on the Java Build Path\r\n\r\n# Integrate Server in Eclipse and associate it with Project\r\n\r\nOnce having installed both Eclipse for Enterprise Java and a servletcontainer on your machine, do the following steps in Eclipse:\r\n\r\n1. **Integrate servletcontainer in Eclipse**\r\n\r\n    a. **Via Servers view**\r\n\r\n    - Open the *Servers* view in the bottom box.\r\n    - Rightclick there and choose *New &gt; Server*.\r\n    - Pick the appropriate servletcontainer make and version and walk through the wizard.\r\n\r\n        [![enter image description here][6]][7]\r\n\r\n    b. **Or, via Eclipse preferences**\r\n\r\n    - Open *Window &gt; Preferences &gt; Server &gt; Runtime Environments*.\r\n    - You can *Add*, *Edit* and *Remove* servers here.\r\n\r\n        [![enter image description here][8]][9]\r\n\r\n2. **Associate server with project**\r\n\r\n    a. **In new project**\r\n\r\n    - Open the *Project Navigator/Explorer* on the left hand side.\r\n    - Rightclick there and choose *New &gt; Project* and then in menu *Web &gt; Dynamic Web Project*.\r\n    - In the wizard, set the *Target Runtime* to the integrated server.\r\n\r\n        [![enter image description here][10]][11]\r\n\r\n    b. **Or, in existing project**\r\n\r\n    - Rightclick project and choose *Properties*.\r\n    - In *Targeted Runtimes* section, select the integrated server.\r\n\r\n        [![enter image description here][12]][13]\r\n\r\n    Either way, Eclipse will then automatically take the servletcontainer&#39;s libraries in the build path. This way you&#39;ll be able to import and use the Servlet API.\r\n\r\n\r\n# Never carry around loose server-specific JAR files\r\n\r\nYou should in any case not have the need to fiddle around in the *Build Path* property of the project. You should above all **never** manually copy/download/move/include the individual servletcontainer-specific libraries like `servlet-api.jar`, `jsp-api.jar`, `el-api.jar`, `j2ee.jar`, `javaee.jar`, etc. It would only lead to future portability, compatibility, classpath and maintainability troubles, because your webapp would not work when it&#39;s deployed to a servletcontainer of a different make/version than where those libraries are originally obtained from.\r\n\r\nIn case you&#39;re using Maven, you need to make absolutely sure that servletcontainer-specific libraries which are already provided by the target runtime are marked as `&lt;scope&gt;provided&lt;/scope&gt;`. You can find examples of proper `pom.xml` dependency declarations for Tomcat 10+, Tomcat 9-, JEE 9+ and JEE 8- in this answer: https://stackoverflow.com/questions/65703840/tomcat-9-casting-servlets-to-javax-servlet-servlet-instead-of-jakarta-servlet-ht/65704617#65704617\r\n\r\nHere are some typical exceptions which you can get when you litter the `/WEB-INF/lib` or even `/JRE/lib`, `/JRE/lib/ext`, etc with servletcontainer-specific libraries in a careless attempt to fix the compilation errors:\r\n\r\n- [java.lang.NullPointerException at org.apache.jsp.index_jsp._jspInit][14]\r\n- [java.lang.NoClassDefFoundError: javax/el/ELResolver][15]\r\n- [java.lang.NoSuchFieldError: IS_DIR][16]\r\n- [java.lang.NoSuchMethodError: javax.servlet.jsp.PageContext.getELContext()Ljavax/el/ELContext;][17]\r\n- [java.lang.AbstractMethodError: javax.servlet.jsp.JspFactory.getJspApplicationContext(Ljavax/servlet/ServletContext;)Ljavax/servlet/jsp/JspApplicationContext;][18]\r\n- [org.apache.jasper.JasperException: The method getJspApplicationContext(ServletContext) is undefined for the type JspFactory][19]\r\n- [java.lang.VerifyError: (class: org/apache/jasper/runtime/JspApplicationContextImpl, method: createELResolver signature: ()Ljavax/el/ELResolver;) Incompatible argument to function][20]\r\n- [jar not loaded. See Servlet Spec 2.3, section 9.7.2. Offending class: javax/servlet/Servlet.class][21]\r\n\r\n\r\n  [1]: https://www.eclipse.org/downloads/packages/\r\n  [2]: https://tomcat.apache.org/\r\n  [3]: https://glassfish.org/\r\n  [4]: https://wildfly.org\r\n  [5]: http://www.oracle.com/technetwork/java/javaee/downloads/index.html\r\n  [6]: http://i.stack.imgur.com/99Li8m.png\r\n  [7]: http://i.stack.imgur.com/99Li8.png\r\n  [8]: http://i.stack.imgur.com/hf9Gom.png\r\n  [9]: http://i.stack.imgur.com/hf9Go.png\r\n  [10]: http://i.stack.imgur.com/M259Em.png\r\n  [11]: http://i.stack.imgur.com/M259E.png\r\n  [12]: http://i.stack.imgur.com/jcY3Mm.png\r\n  [13]: http://i.stack.imgur.com/jcY3M.png\r\n  [14]: https://stackoverflow.com/questions/4886196/spring-mvc-jsp-and-nullpointerexception\r\n  [15]: https://stackoverflow.com/questions/6360121/java-lang-noclassdeffounderror-javax-el-elresolver-when-running-simplehellobyent\r\n  [16]: https://stackoverflow.com/questions/4214826/error-java-lang-nosuchfielderror-is-dir-while-starting-apache-tomcat-from-ecli\r\n  [17]: https://stackoverflow.com/questions/7274675/getting-error-while-accessing-the-map-from-spring-controller-to-jsp-using-jstl/7274928#7274928\r\n  [18]: https://stackoverflow.com/questions/6998747/tomcat-6-http-authentication\r\n  [19]: https://stackoverflow.com/questions/2327118/howto-solve-jasper-exception-problem\r\n  [20]: https://stackoverflow.com/questions/7310968/web-app-working-in-eclipse-gives-verify-el-error-org-apache-catalina-core-standar\r\n  [21]: https://stackoverflow.com/questions/2641338/how-to-resolve-error-listenerstart-when-deploying-web-app-in-tomcat-5-5","title":"How do I import the javax.servlet / jakarta.servlet API in my Eclipse project?","body":"<h1>Ensure you've the right Eclipse and Server version</h1>\n<p>Ensure that you're using at least <a href=\"https://www.eclipse.org/downloads/packages/\" rel=\"noreferrer\">Eclipse IDE for <strong>Enterprise</strong> Java (and Web) developers</a> (with the <strong>Enterprise</strong>). It contains development tools to create dynamic web projects and easily integrate servletcontainers (those tools are part of Web Tools Platform, WTP). In case you already had Eclipse IDE for Java (without Enterprise), and manually installed some related plugins, then chances are that it wasn't done properly. You'd best trash it and grab the real Eclipse IDE for Enterprise Java one.</p>\n<p>You also need to ensure that you already have a servletcontainer installed on your machine which implements at least the same Servlet API version as the servletcontainer in the production environment, for example <a href=\"https://tomcat.apache.org/\" rel=\"noreferrer\">Apache Tomcat</a>, <a href=\"https://wildfly.org\" rel=\"noreferrer\">RedHat WildFly</a>, <a href=\"https://glassfish.org/\" rel=\"noreferrer\">Eclipse GlassFish</a>, etc. Usually, just downloading the ZIP file and extracting it is sufficient. In case of Tomcat, do <em>not</em> download the EXE format, that's only for Windows based production environments. See also a.o. <a href=\"https://stackoverflow.com/questions/5064733\">Several ports (8005, 8080, 8009) required by Tomcat Server at localhost are already in use</a>.</p>\n<p>A servletcontainer is a concrete implementation of the Servlet API. Also note that for example WildFly and GlassFish are <em>more</em> than just a servletcontainer, they also support JSF (Faces), EJB (Enterprise Beans), JPA (Persistence) and all other Jakarta EE fanciness. See also a.o. <a href=\"https://stackoverflow.com/questions/7295096\">What exactly is Java EE?</a></p>\n<h1>Ensure that you're using the right Servlet package</h1>\n<p>The <code>javax.*</code> package has been renamed to <code>jakarta.*</code> package since Servlet API version 5.0 which is part of Jakarta EE 9 (Tomcat 10, TomEE 9, WildFly 22 Preview, GlassFish 6, Payara 6, Liberty 22, etc). So if you're targeting these server versions or newer, then you need to replace</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.servlet.*;\nimport javax.servlet.http.*;\n</code></pre>\n<p>by</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.servlet.*;\nimport jakarta.servlet.http.*;\n</code></pre>\n<p>in order to get it to compile, else you might risk to face this build error</p>\n<blockquote>\n<p>The superclass &quot;javax.servlet.http.HttpServlet&quot; was not found on the Java Build Path</p>\n</blockquote>\n<h1>Integrate Server in Eclipse and associate it with Project</h1>\n<p>Once having installed both Eclipse for Enterprise Java and a servletcontainer on your machine, do the following steps in Eclipse:</p>\n<ol>\n<li><p><strong>Integrate servletcontainer in Eclipse</strong></p>\n<p>a. <strong>Via Servers view</strong></p>\n<ul>\n<li><p>Open the <em>Servers</em> view in the bottom box.</p>\n</li>\n<li><p>Rightclick there and choose <em>New &gt; Server</em>.</p>\n</li>\n<li><p>Pick the appropriate servletcontainer make and version and walk through the wizard.</p>\n<p><a href=\"https://i.stack.imgur.com/99Li8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/99Li8m.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ul>\n<p>b. <strong>Or, via Eclipse preferences</strong></p>\n<ul>\n<li><p>Open <em>Window &gt; Preferences &gt; Server &gt; Runtime Environments</em>.</p>\n</li>\n<li><p>You can <em>Add</em>, <em>Edit</em> and <em>Remove</em> servers here.</p>\n<p><a href=\"https://i.stack.imgur.com/hf9Go.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hf9Gom.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ul>\n</li>\n<li><p><strong>Associate server with project</strong></p>\n<p>a. <strong>In new project</strong></p>\n<ul>\n<li><p>Open the <em>Project Navigator/Explorer</em> on the left hand side.</p>\n</li>\n<li><p>Rightclick there and choose <em>New &gt; Project</em> and then in menu <em>Web &gt; Dynamic Web Project</em>.</p>\n</li>\n<li><p>In the wizard, set the <em>Target Runtime</em> to the integrated server.</p>\n<p><a href=\"https://i.stack.imgur.com/M259E.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/M259Em.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ul>\n<p>b. <strong>Or, in existing project</strong></p>\n<ul>\n<li><p>Rightclick project and choose <em>Properties</em>.</p>\n</li>\n<li><p>In <em>Targeted Runtimes</em> section, select the integrated server.</p>\n<p><a href=\"https://i.stack.imgur.com/jcY3M.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jcY3Mm.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ul>\n<p>Either way, Eclipse will then automatically take the servletcontainer's libraries in the build path. This way you'll be able to import and use the Servlet API.</p>\n</li>\n</ol>\n<h1>Never carry around loose server-specific JAR files</h1>\n<p>You should in any case not have the need to fiddle around in the <em>Build Path</em> property of the project. You should above all <strong>never</strong> manually copy/download/move/include the individual servletcontainer-specific libraries like <code>servlet-api.jar</code>, <code>jsp-api.jar</code>, <code>el-api.jar</code>, <code>j2ee.jar</code>, <code>javaee.jar</code>, etc. It would only lead to future portability, compatibility, classpath and maintainability troubles, because your webapp would not work when it's deployed to a servletcontainer of a different make/version than where those libraries are originally obtained from.</p>\n<p>In case you're using Maven, you need to make absolutely sure that servletcontainer-specific libraries which are already provided by the target runtime are marked as <code>&lt;scope&gt;provided&lt;/scope&gt;</code>. You can find examples of proper <code>pom.xml</code> dependency declarations for Tomcat 10+, Tomcat 9-, JEE 9+ and JEE 8- in this answer: <a href=\"https://stackoverflow.com/questions/65703840/tomcat-9-casting-servlets-to-javax-servlet-servlet-instead-of-jakarta-servlet-ht/65704617#65704617\">How to properly configure Jakarta EE libraries in Maven pom.xml for Tomcat?</a></p>\n<p>Here are some typical exceptions which you can get when you litter the <code>/WEB-INF/lib</code> or even <code>/JRE/lib</code>, <code>/JRE/lib/ext</code>, etc with servletcontainer-specific libraries in a careless attempt to fix the compilation errors:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/4886196/spring-mvc-jsp-and-nullpointerexception\">java.lang.NullPointerException at org.apache.jsp.index_jsp._jspInit</a></li>\n<li><a href=\"https://stackoverflow.com/questions/6360121/java-lang-noclassdeffounderror-javax-el-elresolver-when-running-simplehellobyent\">java.lang.NoClassDefFoundError: javax/el/ELResolver</a></li>\n<li><a href=\"https://stackoverflow.com/questions/4214826/error-java-lang-nosuchfielderror-is-dir-while-starting-apache-tomcat-from-ecli\">java.lang.NoSuchFieldError: IS_DIR</a></li>\n<li><a href=\"https://stackoverflow.com/questions/7274675/getting-error-while-accessing-the-map-from-spring-controller-to-jsp-using-jstl/7274928#7274928\">java.lang.NoSuchMethodError: javax.servlet.jsp.PageContext.getELContext()Ljavax/el/ELContext;</a></li>\n<li><a href=\"https://stackoverflow.com/questions/6998747/tomcat-6-http-authentication\">java.lang.AbstractMethodError: javax.servlet.jsp.JspFactory.getJspApplicationContext(Ljavax/servlet/ServletContext;)Ljavax/servlet/jsp/JspApplicationContext;</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2327118/howto-solve-jasper-exception-problem\">org.apache.jasper.JasperException: The method getJspApplicationContext(ServletContext) is undefined for the type JspFactory</a></li>\n<li><a href=\"https://stackoverflow.com/questions/7310968/web-app-working-in-eclipse-gives-verify-el-error-org-apache-catalina-core-standar\">java.lang.VerifyError: (class: org/apache/jasper/runtime/JspApplicationContextImpl, method: createELResolver signature: ()Ljavax/el/ELResolver;) Incompatible argument to function</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2641338/how-to-resolve-error-listenerstart-when-deploying-web-app-in-tomcat-5-5\">jar not loaded. See Servlet Spec 2.3, section 9.7.2. Offending class: javax/servlet/Servlet.class</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":192003,"reputation":30422,"user_id":432903,"accept_rate":64,"display_name":"prayagupa"},"down_vote_count":0,"up_vote_count":231,"is_accepted":false,"score":231,"last_activity_date":1368339574,"creation_date":1329273321,"answer_id":9287149,"question_id":4076601,"body_markdown":"![import javax.servlet][1]\r\n\r\n&lt;h2&gt;STEP 1&lt;/h2&gt;  \r\nGo to **properties** of your project ( with &lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Enter&lt;/kbd&gt; or righ-click )\r\n\r\n&lt;h2&gt;STEP 2&lt;/h2&gt;\r\ncheck on _Apache Tomcat v7.0_ under **Targeted Runtime** and it works.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/4QFXL.png","title":"How do I import the javax.servlet / jakarta.servlet API in my Eclipse project?","body":"<p><img src=\"https://i.stack.imgur.com/4QFXL.png\" alt=\"import javax.servlet\"></p>\n\n<h2>STEP 1</h2>  \n\n<p>Go to <strong>properties</strong> of your project ( with <kbd>Alt</kbd>+<kbd>Enter</kbd> or righ-click )</p>\n\n<h2>STEP 2</h2>\n\n<p>check on <em>Apache Tomcat v7.0</em> under <strong>Targeted Runtime</strong> and it works.</p>\n"},{"tags":[],"owner":{"account_id":464676,"reputation":822,"user_id":868339,"accept_rate":100,"display_name":"Hari Gudigundla"},"down_vote_count":3,"up_vote_count":16,"is_accepted":false,"score":13,"last_activity_date":1334213568,"creation_date":1334213568,"answer_id":10118791,"question_id":4076601,"body_markdown":"Quick Fix- This worked in Eclipse - Right Click on project -&gt; Properties -&gt; Java Build Path (Tab) -&gt; Add External JARs -&gt; locate the servlet api jar implementation (if Tomcat - its named servlet-api.jar) -&gt; click OK. That&#39;s it !!","title":"How do I import the javax.servlet / jakarta.servlet API in my Eclipse project?","body":"<p>Quick Fix- This worked in Eclipse - Right Click on project -> Properties -> Java Build Path (Tab) -> Add External JARs -> locate the servlet api jar implementation (if Tomcat - its named servlet-api.jar) -> click OK. That's it !!</p>\n"},{"tags":[],"owner":{"account_id":1553204,"reputation":859,"user_id":1445120,"display_name":"ivanLam"},"down_vote_count":1,"up_vote_count":86,"is_accepted":false,"score":85,"last_activity_date":1469695193,"creation_date":1339176602,"answer_id":10953422,"question_id":4076601,"body_markdown":"Little bit difference from Hari:\r\n\r\n&gt; Right click on project ---&gt; Properties ---&gt; Java Build Path ---&gt; Add Library...  ---&gt;  Server Runtime ---&gt; Apache Tomcat ----&gt; Finish.\r\n\r\n","title":"How do I import the javax.servlet / jakarta.servlet API in my Eclipse project?","body":"<p>Little bit difference from Hari:</p>\n\n<blockquote>\n  <p>Right click on project ---> Properties ---> Java Build Path ---> Add Library...  --->  Server Runtime ---> Apache Tomcat ----> Finish.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":17722,"reputation":9569,"user_id":39974,"accept_rate":75,"display_name":"Ivan Vučica"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1365522067,"creation_date":1365522067,"answer_id":15906385,"question_id":4076601,"body_markdown":"I was getting a null pointer exception during project creation related to &quot;Dynamic Web Module&quot;. \r\n\r\nTo get the project to compile (that is, to `javax.servlet` to import successfully) I had to go to project&#39;s _Properties_, pick _Project Facets_ in the sidebar, tick __Dynamic Web Module__ and click _Apply_.\r\n\r\nSurprisingly, this time &quot;Dynamic Web Module&quot; facet installed correctly, and import started to work.","title":"How do I import the javax.servlet / jakarta.servlet API in my Eclipse project?","body":"<p>I was getting a null pointer exception during project creation related to \"Dynamic Web Module\". </p>\n\n<p>To get the project to compile (that is, to <code>javax.servlet</code> to import successfully) I had to go to project's <em>Properties</em>, pick <em>Project Facets</em> in the sidebar, tick <strong>Dynamic Web Module</strong> and click <em>Apply</em>.</p>\n\n<p>Surprisingly, this time \"Dynamic Web Module\" facet installed correctly, and import started to work.</p>\n"},{"tags":[],"owner":{"account_id":3841915,"reputation":2647,"user_id":3184740,"accept_rate":38,"display_name":"Mitul Maheshwari"},"down_vote_count":3,"up_vote_count":8,"is_accepted":false,"score":5,"last_activity_date":1391835437,"creation_date":1391835437,"answer_id":21642111,"question_id":4076601,"body_markdown":"you can simply copy the `servlet-api.jar` and copy that jar files into lib folder, which is in WEB-INF.\r\nthen just clean and built your project, your errors will be solved.\r\n\r\n      **OR**\r\n\r\nyou can directly add jar files to library by using following steps.\r\n\r\n 1. Right click on project. \r\n 2. Go To Properties.\r\n 3. Go to Java Build Path.\r\n 4. Select Add Library option from tabs.\r\n 5. Add Jar Files\r\n 6. give path of your `servlet-api.jar` file.\r\n 7. Clean and build your project.\r\n ","title":"How do I import the javax.servlet / jakarta.servlet API in my Eclipse project?","body":"<p>you can simply copy the <code>servlet-api.jar</code> and copy that jar files into lib folder, which is in WEB-INF.\nthen just clean and built your project, your errors will be solved.</p>\n\n<pre><code>  **OR**\n</code></pre>\n\n<p>you can directly add jar files to library by using following steps.</p>\n\n<ol>\n<li>Right click on project. </li>\n<li>Go To Properties.</li>\n<li>Go to Java Build Path.</li>\n<li>Select Add Library option from tabs.</li>\n<li>Add Jar Files</li>\n<li>give path of your <code>servlet-api.jar</code> file.</li>\n<li>Clean and build your project.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8695,"reputation":1603,"user_id":15789,"accept_rate":75,"display_name":"RuntimeException"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1401380618,"creation_date":1401380618,"answer_id":23938092,"question_id":4076601,"body_markdown":"&gt;&gt; You should above all never manually copy/download/move/include the individual servletcontainer-specific libraries like servlet-api.jar\r\n\r\n@BalusC,\r\n\r\nI would prefer to use the exact classes that my application is going to use rather than one provided by Eclipse (when I am feeling like a paranoid developer). \r\n\r\nAnother solution would be to use Eclipse &quot;Configure Build Path&quot; &gt; Libraries &gt; Add External Jars, and add servlet api of whatever Container one chooses to use.\r\n\r\nAnd follow @kaustav datta&#39;s solution when using ant to build - have a property like tomcat.home or weblogic.home. \r\nHowever it introduces another constraint that the developer must install Weblogic on his/her local machine if weblogic is being used ! \r\nAny other cleaner solution? \r\n","title":"How do I import the javax.servlet / jakarta.servlet API in my Eclipse project?","body":"<blockquote>\n  <blockquote>\n    <p>You should above all never manually copy/download/move/include the individual servletcontainer-specific libraries like servlet-api.jar</p>\n  </blockquote>\n</blockquote>\n\n<p>@BalusC,</p>\n\n<p>I would prefer to use the exact classes that my application is going to use rather than one provided by Eclipse (when I am feeling like a paranoid developer). </p>\n\n<p>Another solution would be to use Eclipse \"Configure Build Path\" > Libraries > Add External Jars, and add servlet api of whatever Container one chooses to use.</p>\n\n<p>And follow @kaustav datta's solution when using ant to build - have a property like tomcat.home or weblogic.home. \nHowever it introduces another constraint that the developer must install Weblogic on his/her local machine if weblogic is being used ! \nAny other cleaner solution? </p>\n"},{"tags":[],"owner":{"account_id":1612518,"reputation":797,"user_id":1491081,"display_name":"sarath"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1411018641,"creation_date":1411018641,"answer_id":25904909,"question_id":4076601,"body_markdown":"**Include servlet-api.jar from your server lib folder.**![enter image description here][1]\r\n\r\n\r\n**Do this step**\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/yR8bv.png\r\n  [2]: http://i.stack.imgur.com/xhPzu.png","title":"How do I import the javax.servlet / jakarta.servlet API in my Eclipse project?","body":"<p><strong>Include servlet-api.jar from your server lib folder.</strong><img src=\"https://i.stack.imgur.com/yR8bv.png\" alt=\"enter image description here\"></p>\n\n<p><strong>Do this step</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/xhPzu.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":1354077,"reputation":98666,"user_id":1292848,"accept_rate":50,"display_name":"Paul LeBeau"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1422702844,"creation_date":1422702844,"answer_id":28250944,"question_id":4076601,"body_markdown":"In my case, when I went to the **Targetted Runtimes**, screen, Tomcat 7 was not listed (disabled) despite being installed.\r\n\r\nTo fix, I had to go to **Preferences-&gt;Server-&gt;Runtime Environments** then uninstall and reinstall Tomcat 7.","title":"How do I import the javax.servlet / jakarta.servlet API in my Eclipse project?","body":"<p>In my case, when I went to the <strong>Targetted Runtimes</strong>, screen, Tomcat 7 was not listed (disabled) despite being installed.</p>\n\n<p>To fix, I had to go to <strong>Preferences->Server->Runtime Environments</strong> then uninstall and reinstall Tomcat 7.</p>\n"},{"tags":[],"owner":{"account_id":2191632,"reputation":1891,"user_id":2232851,"display_name":"Zeeshan Akhter"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1434621593,"creation_date":1434621593,"answer_id":30912254,"question_id":4076601,"body_markdown":"Add javax.servlet dependency in pom.xml. Your problem will be resolved.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"How do I import the javax.servlet / jakarta.servlet API in my Eclipse project?","body":"<p>Add javax.servlet dependency in pom.xml. Your problem will be resolved.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8186587,"reputation":315,"user_id":6162224,"accept_rate":78,"display_name":"PKU"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1471623627,"creation_date":1471623627,"answer_id":39043678,"question_id":4076601,"body_markdown":"I know this is an old post. However, I observed another instance where in the project already has Tomcat added but we still get this error. Did this to resolve that:\r\n&lt;br&gt;\r\n&lt;em&gt;Alt&lt;/em&gt; + &lt;em&gt;Enter&lt;/em&gt;\r\n&lt;br&gt;Project Facets\r\n&lt;br&gt;On the right, next to details, is another tab &quot;Runtimes&quot;.\r\nThe installed tomcat server will be listed there. Select it.\r\n&lt;br&gt;\r\nSave the configuration and DONE!\r\n\r\nHope this helps someone.","title":"How do I import the javax.servlet / jakarta.servlet API in my Eclipse project?","body":"<p>I know this is an old post. However, I observed another instance where in the project already has Tomcat added but we still get this error. Did this to resolve that:\n<br>\n<em>Alt</em> + <em>Enter</em>\n<br>Project Facets\n<br>On the right, next to details, is another tab \"Runtimes\".\nThe installed tomcat server will be listed there. Select it.\n<br>\nSave the configuration and DONE!</p>\n\n<p>Hope this helps someone.</p>\n"},{"tags":[],"owner":{"account_id":2695789,"reputation":3222,"user_id":2327879,"accept_rate":78,"display_name":"Erica Kane"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1506698078,"creation_date":1506698078,"answer_id":46491923,"question_id":4076601,"body_markdown":"Many of us develop in Eclipse via a Maven project. If so,\r\nyou can include Tomcat dependencies in Maven via the `tomcat-servlet-api` and `tomcat-jsp-api` jars. One exists for each version of Tomcat. Usually adding these with scope `provided` to your POM is sufficient. This will keep your build more portable.\r\n\r\nIf you upgrade Tomcat in the future, you simply update the version of these jars as well.","title":"How do I import the javax.servlet / jakarta.servlet API in my Eclipse project?","body":"<p>Many of us develop in Eclipse via a Maven project. If so,\nyou can include Tomcat dependencies in Maven via the <code>tomcat-servlet-api</code> and <code>tomcat-jsp-api</code> jars. One exists for each version of Tomcat. Usually adding these with scope <code>provided</code> to your POM is sufficient. This will keep your build more portable.</p>\n\n<p>If you upgrade Tomcat in the future, you simply update the version of these jars as well.</p>\n"},{"tags":[],"owner":{"account_id":5144206,"reputation":10678,"user_id":4120631,"accept_rate":33,"display_name":"Joby Wilson Mathews"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1522505357,"creation_date":1522505357,"answer_id":49588649,"question_id":4076601,"body_markdown":"For maven projects add following dependancy :\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet/servlet-api --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n[Reference][1]\r\n\r\nFor gradle projects:\r\n\r\n    dependencies {\r\n    providedCompile group: &#39;javax.servlet&#39;, name: &#39;javax.servlet-api&#39;, version: &#39;3.0.1&#39;\r\n    }\r\n\r\nor download `javax.servlet.jar` and add to your project.\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=0L9yTE_zFM0","title":"How do I import the javax.servlet / jakarta.servlet API in my Eclipse project?","body":"<p>For maven projects add following dependancy :</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/javax.servlet/servlet-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><a href=\"https://www.youtube.com/watch?v=0L9yTE_zFM0\" rel=\"noreferrer\">Reference</a></p>\n\n<p>For gradle projects:</p>\n\n<pre><code>dependencies {\nprovidedCompile group: 'javax.servlet', name: 'javax.servlet-api', version: '3.0.1'\n}\n</code></pre>\n\n<p>or download <code>javax.servlet.jar</code> and add to your project.</p>\n"},{"tags":[],"owner":{"account_id":7507798,"reputation":883,"user_id":5703813,"accept_rate":62,"display_name":"Muhammad Usman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565351761,"creation_date":1565351761,"answer_id":57429575,"question_id":4076601,"body_markdown":"This could be also the reason. i have come up with following `pom.xml`.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe unresolved issue was due to exclusion of `spring-boot-starter-tomcat`. Just remove `&lt;exclusions&gt;...&lt;/exclusions&gt;` dependency it will ressolve issue, but **make sure** doing this will also exclude the embedded tomcat server.\r\n\r\nIf you need embedded tomcat server too you can add same dependency with `compile scope`.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"How do I import the javax.servlet / jakarta.servlet API in my Eclipse project?","body":"<p>This could be also the reason. i have come up with following <code>pom.xml</code>.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>The unresolved issue was due to exclusion of <code>spring-boot-starter-tomcat</code>. Just remove <code>&lt;exclusions&gt;...&lt;/exclusions&gt;</code> dependency it will ressolve issue, but <strong>make sure</strong> doing this will also exclude the embedded tomcat server.</p>\n\n<p>If you need embedded tomcat server too you can add same dependency with <code>compile scope</code>.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1230564,"reputation":2043,"user_id":1195268,"accept_rate":50,"display_name":"vinsinraw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654772576,"creation_date":1654772576,"answer_id":72559173,"question_id":4076601,"body_markdown":"Assume a simple dynamic Web Project. Ensure Tomcat is present on the project&#39;s build path.\r\n\r\nFirst get the local tomcat instance downloaded/installed on your machine. Assume we installed tomcat v8.5.\r\n\r\nNow configure the Eclipse Global Server Run time Environment\r\n\r\n    Windows &gt; Preferences &gt; Server &gt; Runtime Environments &gt; Add &gt; Apache &gt; Apache Tomcat v8.5 &gt; Next &gt; Browse Tomcat Installation directory &gt; Next &gt; Finish.\r\n\r\nNow create your dynamic web project and we see the import javax.servlet cannot be resolved issue. Resolve this by following below.\r\n\r\n    Right Click On Project &gt; Build Path &gt; Configure Build Path &gt; Libraries &gt; Add Library &gt; Server Runtime &gt; Select your Apache Tomcat instance &gt; Finish &gt; Apply and Close.\r\n\r\nAll Errors will be gone.","title":"How do I import the javax.servlet / jakarta.servlet API in my Eclipse project?","body":"<p>Assume a simple dynamic Web Project. Ensure Tomcat is present on the project's build path.</p>\n<p>First get the local tomcat instance downloaded/installed on your machine. Assume we installed tomcat v8.5.</p>\n<p>Now configure the Eclipse Global Server Run time Environment</p>\n<pre><code>Windows &gt; Preferences &gt; Server &gt; Runtime Environments &gt; Add &gt; Apache &gt; Apache Tomcat v8.5 &gt; Next &gt; Browse Tomcat Installation directory &gt; Next &gt; Finish.\n</code></pre>\n<p>Now create your dynamic web project and we see the import javax.servlet cannot be resolved issue. Resolve this by following below.</p>\n<pre><code>Right Click On Project &gt; Build Path &gt; Configure Build Path &gt; Libraries &gt; Add Library &gt; Server Runtime &gt; Select your Apache Tomcat instance &gt; Finish &gt; Apply and Close.\n</code></pre>\n<p>All Errors will be gone.</p>\n"}],"owner":{"account_id":652217,"reputation":4941,"user_id":453821,"accept_rate":96,"display_name":"tom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":756281,"favorite_count":0,"down_vote_count":0,"up_vote_count":356,"accepted_answer_id":4076706,"answer_count":16,"score":356,"last_activity_date":1677971663,"creation_date":1288692267,"question_id":4076601,"body_markdown":"I want to develop with Servlets in Eclipse, but it says that the package `javax.servlet` / `jakarta.servlet` cannot be resolved. How can I add `javax.servlet` / `jakarta.servlet` package to my Eclipse project?\r\n\r\n","title":"How do I import the javax.servlet / jakarta.servlet API in my Eclipse project?","body":"<p>I want to develop with Servlets in Eclipse, but it says that the package <code>javax.servlet</code> / <code>jakarta.servlet</code> cannot be resolved. How can I add <code>javax.servlet</code> / <code>jakarta.servlet</code> package to my Eclipse project?</p>\n"},{"tags":["java","spring-boot","docker","maven"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1677971638,"post_id":75639226,"comment_id":133443542,"body_markdown":"tl;dr: Spring-boot switched from JavaEE to JakartaEE in version 3.0.0. Just use `jakarta.ws.rs.core.Configuration`.","body":"tl;dr: Spring-boot switched from JavaEE to JakartaEE in version 3.0.0. Just use <code>jakarta.ws.rs.core.Configuration</code>."}],"owner":{"account_id":3184506,"reputation":49,"user_id":2690538,"accept_rate":75,"display_name":"Vivek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677971506,"answer_count":0,"score":0,"last_activity_date":1677971570,"creation_date":1677971336,"question_id":75639226,"body_markdown":"I am trying to connect to Docker Daemon using docker-java client api in a spring-boot application (version 3.1.0-SNAPSHOT) by following this tutorial -\r\nhttps://www.baeldung.com/docker-java-api. But I am getting below exception. \r\n\r\n````\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.github.dockerjava.api.DockerClient]: Factory method &#39;dockerClient&#39; threw exception with message: javax/ws/rs/core/Configuration\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.5.jar:6.0.5]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-6.0.5.jar:6.0.5]\r\n\t... 47 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: javax/ws/rs/core/Configuration\r\n\tat com.github.dockerjava.jaxrs.JerseyDockerHttpClient$Builder.build(JerseyDockerHttpClient.java:124) ~[docker-java-transport-jersey-3.3.0.jar:na]\r\n\tat com.github.dockerjava.core.DockerClientBuilder.build(DockerClientBuilder.java:106) ~[docker-java-3.3.0.jar:na]\r\n\tat com.danfoss.exercise.docker.simulation.exercise.configs.DockerClientInit.dockerClient(DockerClientInit.java:18) ~[classes/:na]\r\n\tat com.danfoss.exercise.docker.simulation.exercise.configs.DockerClientInit$$SpringCGLIB$$0.CGLIB$dockerClient$0(&lt;generated&gt;) ~[classes/:na]\r\n\tat com.danfoss.exercise.docker.simulation.exercise.configs.DockerClientInit$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.5.jar:6.0.5]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.5.jar:6.0.5]\r\n\tat com.danfoss.exercise.docker.simulation.exercise.configs.DockerClientInit$$SpringCGLIB$$0.dockerClient(&lt;generated&gt;) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.5.jar:6.0.5]\r\n\t... 48 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: javax.ws.rs.core.Configuration\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\t... 61 common frames omitted\r\n````\r\n\r\n**If I include below dependency**\r\n\r\n````\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n````\r\nthen I get below exception -\r\n\r\n````\r\nCaused by: java.lang.LinkageError: ClassCastException: attempting to castjar:file:/C:/Users/vivek/.m2/repository/javax/ws/rs/javax.ws.rs-api/2.0.1/javax.ws.rs-api-2.0.1\r\n````\r\n\r\n\r\n\r\n\r\n\r\nI am kind of stuck with this error for days and I am not sure how to resolve this. It seems like Jakarta and Javax has some conflicts. Any help would be appreciated. Thanks in Advance\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nPOM content - \r\n````\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.danfoss.exercise.docker.simulation&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Simulation-Exercise&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Simulation-Exercise&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.docker-java&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;docker-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!--&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;--&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/repository&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;releases&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/releases&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\t&lt;pluginRepositories&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;releases&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/releases&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t&lt;/pluginRepositories&gt;\r\n\r\n&lt;/project&gt;\r\n````\r\n\r\n\r\nOutput of mvn dependency:tree\r\n\r\n````\r\n[INFO] --- maven-dependency-plugin:3.5.0:tree (default-cli) @ Simulation-Exercise ---\r\n[INFO] com.danfoss.exercise.docker.simulation:Simulation-Exercise:jar:0.0.1-SNAPSHOT\r\n[INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:3.1.0-SNAPSHOT:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:3.1.0-SNAPSHOT:compile\r\n[INFO] |  |  +- org.springframework:spring-aop:jar:6.0.5:compile\r\n[INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.9.19:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:3.1.0-SNAPSHOT:compile\r\n[INFO] |  |  +- com.zaxxer:HikariCP:jar:5.0.1:compile\r\n[INFO] |  |  \\- org.springframework:spring-jdbc:jar:6.0.5:compile\r\n[INFO] |  +- org.hibernate.orm:hibernate-core:jar:6.1.7.Final:compile\r\n[INFO] |  |  +- jakarta.persistence:jakarta.persistence-api:jar:3.1.0:compile\r\n[INFO] |  |  +- jakarta.transaction:jakarta.transaction-api:jar:2.0.1:compile\r\n[INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.5.0.Final:compile\r\n[INFO] |  |  +- org.hibernate.common:hibernate-commons-annotations:jar:6.0.6.Final:runtime\r\n[INFO] |  |  +- org.jboss:jandex:jar:2.4.2.Final:runtime\r\n[INFO] |  |  +- com.fasterxml:classmate:jar:1.5.1:compile\r\n[INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.14.0:runtime\r\n[INFO] |  |  +- org.glassfish.jaxb:jaxb-runtime:jar:4.0.2:runtime\r\n[INFO] |  |  |  \\- org.glassfish.jaxb:jaxb-core:jar:4.0.2:runtime\r\n[INFO] |  |  |     +- org.eclipse.angus:angus-activation:jar:2.0.0:runtime\r\n[INFO] |  |  |     +- org.glassfish.jaxb:txw2:jar:4.0.2:runtime\r\n[INFO] |  |  |     \\- com.sun.istack:istack-commons-runtime:jar:4.1.1:runtime\r\n[INFO] |  |  +- jakarta.inject:jakarta.inject-api:jar:2.0.0:compile\r\n[INFO] |  |  \\- org.antlr:antlr4-runtime:jar:4.10.1:runtime\r\n[INFO] |  +- org.springframework.data:spring-data-jpa:jar:3.1.0-M2:compile\r\n[INFO] |  |  +- org.springframework.data:spring-data-commons:jar:3.1.0-M2:compile\r\n[INFO] |  |  +- org.springframework:spring-orm:jar:6.0.5:compile\r\n[INFO] |  |  +- org.springframework:spring-context:jar:6.0.5:compile\r\n[INFO] |  |  +- org.springframework:spring-tx:jar:6.0.5:compile\r\n[INFO] |  |  +- org.springframework:spring-beans:jar:6.0.5:compile\r\n[INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\r\n[INFO] |  |  \\- org.slf4j:slf4j-api:jar:2.0.6:compile\r\n[INFO] |  \\- org.springframework:spring-aspects:jar:6.0.5:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-jersey:jar:3.1.0-SNAPSHOT:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:3.1.0-SNAPSHOT:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.2:compile\r\n[INFO] |  |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.14.2:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.14.2:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.14.2:compile\r\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.14.2:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.1.0-SNAPSHOT:compile\r\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.5:compile\r\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.5:compile\r\n[INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.5:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter-validation:jar:3.1.0-SNAPSHOT:compile\r\n[INFO] |  |  \\- org.hibernate.validator:hibernate-validator:jar:8.0.0.Final:compile\r\n[INFO] |  +- org.springframework:spring-web:jar:6.0.5:compile\r\n[INFO] |  |  \\- io.micrometer:micrometer-observation:jar:1.11.0-M1:compile\r\n[INFO] |  |     \\- io.micrometer:micrometer-commons:jar:1.11.0-M1:compile\r\n[INFO] |  +- org.glassfish.jersey.containers:jersey-container-servlet-core:jar:3.1.1:compile\r\n[INFO] |  |  +- org.glassfish.jersey.core:jersey-common:jar:3.1.1:compile\r\n[INFO] |  |  |  \\- org.glassfish.hk2:osgi-resource-locator:jar:1.0.3:compile\r\n[INFO] |  |  \\- jakarta.ws.rs:jakarta.ws.rs-api:jar:3.1.0:compile\r\n[INFO] |  +- org.glassfish.jersey.containers:jersey-container-servlet:jar:3.1.1:compile\r\n[INFO] |  +- org.glassfish.jersey.core:jersey-server:jar:3.1.1:compile\r\n[INFO] |  |  +- org.glassfish.jersey.core:jersey-client:jar:3.1.1:compile\r\n[INFO] |  |  \\- jakarta.validation:jakarta.validation-api:jar:3.0.2:compile\r\n[INFO] |  +- org.glassfish.jersey.ext:jersey-bean-validation:jar:3.1.1:compile\r\n[INFO] |  +- org.glassfish.jersey.ext:jersey-spring6:jar:3.1.1:compile\r\n[INFO] |  |  +- org.glassfish.jersey.inject:jersey-hk2:jar:3.1.1:compile\r\n[INFO] |  |  |  +- org.glassfish.hk2:hk2-locator:jar:3.0.3:compile\r\n[INFO] |  |  |  |  \\- org.glassfish.hk2.external:aopalliance-repackaged:jar:3.0.3:compile\r\n[INFO] |  |  |  \\- org.javassist:javassist:jar:3.29.0-GA:compile\r\n[INFO] |  |  +- org.glassfish.hk2:hk2:jar:3.0.3:compile\r\n[INFO] |  |  |  +- org.glassfish.hk2:hk2-utils:jar:3.0.3:compile\r\n[INFO] |  |  |  +- org.glassfish.hk2:hk2-api:jar:3.0.3:compile\r\n[INFO] |  |  |  +- org.glassfish.hk2:hk2-core:jar:3.0.3:compile\r\n[INFO] |  |  |  +- org.glassfish.hk2:hk2-runlevel:jar:3.0.3:compile\r\n[INFO] |  |  |  \\- org.glassfish.hk2:class-model:jar:3.0.3:compile\r\n[INFO] |  |  |     +- org.ow2.asm:asm-analysis:jar:9.2:compile\r\n[INFO] |  |  |     +- org.ow2.asm:asm-commons:jar:9.2:compile\r\n[INFO] |  |  |     +- org.ow2.asm:asm-tree:jar:9.2:compile\r\n[INFO] |  |  |     \\- org.ow2.asm:asm-util:jar:9.2:compile\r\n[INFO] |  |  \\- org.glassfish.hk2:spring-bridge:jar:3.0.3:compile\r\n[INFO] |  \\- org.glassfish.jersey.media:jersey-media-json-jackson:jar:3.1.1:compile\r\n[INFO] |     +- org.glassfish.jersey.ext:jersey-entity-filtering:jar:3.1.1:compile\r\n[INFO] |     +- com.fasterxml.jackson.core:jackson-annotations:jar:2.14.2:compile\r\n[INFO] |     \\- com.fasterxml.jackson.module:jackson-module-jakarta-xmlbind-annotations:jar:2.14.2:compile\r\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:3.1.0-SNAPSHOT:compile\r\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:3.1.0-SNAPSHOT:compile\r\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:3.1.0-SNAPSHOT:compile\r\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.1.0-SNAPSHOT:compile\r\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:3.1.0-SNAPSHOT:compile\r\n[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.4.5:compile\r\n[INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.4.5:compile\r\n[INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.20.0:compile\r\n[INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.20.0:compile\r\n[INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:2.0.6:compile\r\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\r\n[INFO] |  \\- org.springframework:spring-webmvc:jar:6.0.5:compile\r\n[INFO] |     \\- org.springframework:spring-expression:jar:6.0.5:compile\r\n[INFO] +- com.github.docker-java:docker-java:jar:3.3.0:compile\r\n[INFO] |  +- com.github.docker-java:docker-java-core:jar:3.3.0:compile\r\n[INFO] |  |  +- com.github.docker-java:docker-java-api:jar:3.3.0:compile\r\n[INFO] |  |  +- com.github.docker-java:docker-java-transport:jar:3.3.0:compile\r\n[INFO] |  |  +- commons-io:commons-io:jar:2.6:compile\r\n[INFO] |  |  +- org.apache.commons:commons-compress:jar:1.21:compile\r\n[INFO] |  |  +- org.apache.commons:commons-lang3:jar:3.12.0:compile\r\n[INFO] |  |  +- com.google.guava:guava:jar:19.0:compile\r\n[INFO] |  |  \\- org.bouncycastle:bcpkix-jdk15on:jar:1.64:compile\r\n[INFO] |  |     \\- org.bouncycastle:bcprov-jdk15on:jar:1.64:compile\r\n[INFO] |  +- com.github.docker-java:docker-java-transport-jersey:jar:3.3.0:compile\r\n[INFO] |  |  +- com.fasterxml.jackson.jaxrs:jackson-jaxrs-json-provider:jar:2.14.2:compile\r\n[INFO] |  |  |  +- com.fasterxml.jackson.jaxrs:jackson-jaxrs-base:jar:2.14.2:compile\r\n[INFO] |  |  |  \\- com.fasterxml.jackson.module:jackson-module-jaxb-annotations:jar:2.14.2:compile\r\n[INFO] |  |  +- org.glassfish.jersey.connectors:jersey-apache-connector:jar:3.1.1:compile\r\n[INFO] |  |  +- org.apache.httpcomponents:httpcore:jar:4.4.16:compile\r\n[INFO] |  |  +- org.apache.httpcomponents:httpclient:jar:4.5.12:compile\r\n[INFO] |  |  |  \\- commons-codec:commons-codec:jar:1.15:compile\r\n[INFO] |  |  +- com.kohlschutter.junixsocket:junixsocket-common:jar:2.6.1:compile\r\n[INFO] |  |  \\- com.kohlschutter.junixsocket:junixsocket-native-common:jar:2.6.1:compile\r\n[INFO] |  +- com.github.docker-java:docker-java-transport-netty:jar:3.3.0:compile\r\n[INFO] |  |  +- io.netty:netty-codec-http:jar:4.1.89.Final:compile\r\n[INFO] |  |  |  +- io.netty:netty-common:jar:4.1.89.Final:compile\r\n[INFO] |  |  |  +- io.netty:netty-buffer:jar:4.1.89.Final:compile\r\n[INFO] |  |  |  +- io.netty:netty-transport:jar:4.1.89.Final:compile\r\n[INFO] |  |  |  \\- io.netty:netty-codec:jar:4.1.89.Final:compile\r\n[INFO] |  |  +- io.netty:netty-handler:jar:4.1.89.Final:compile\r\n[INFO] |  |  |  +- io.netty:netty-resolver:jar:4.1.89.Final:compile\r\n[INFO] |  |  |  \\- io.netty:netty-transport-native-unix-common:jar:4.1.89.Final:compile\r\n[INFO] |  |  +- io.netty:netty-handler-proxy:jar:4.1.89.Final:compile\r\n[INFO] |  |  |  \\- io.netty:netty-codec-socks:jar:4.1.89.Final:compile\r\n[INFO] |  |  +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.89.Final:compile\r\n[INFO] |  |  |  \\- io.netty:netty-transport-classes-epoll:jar:4.1.89.Final:compile\r\n[INFO] |  |  \\- io.netty:netty-transport-native-kqueue:jar:osx-x86_64:4.1.89.Final:compile\r\n[INFO] |  |     \\- io.netty:netty-transport-classes-kqueue:jar:4.1.89.Final:compile\r\n[INFO] |  \\- org.slf4j:jcl-over-slf4j:jar:2.0.6:compile\r\n[INFO] +- com.h2database:h2:jar:2.1.214:runtime\r\n[INFO] +- org.projectlombok:lombok:jar:1.18.26:compile\r\n[INFO] \\- org.springframework.boot:spring-boot-starter-test:jar:3.1.0-SNAPSHOT:test\r\n[INFO]    +- org.springframework.boot:spring-boot-test:jar:3.1.0-SNAPSHOT:test\r\n[INFO]    +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.1.0-SNAPSHOT:test\r\n[INFO]    +- com.jayway.jsonpath:json-path:jar:2.7.0:test\r\n[INFO]    |  \\- net.minidev:json-smart:jar:2.4.8:test\r\n[INFO]    |     \\- net.minidev:accessors-smart:jar:2.4.8:test\r\n[INFO]    |        \\- org.ow2.asm:asm:jar:9.1:test\r\n[INFO]    +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:compile\r\n[INFO]    |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.1:compile\r\n[INFO]    +- org.assertj:assertj-core:jar:3.24.2:test\r\n[INFO]    +- org.hamcrest:hamcrest:jar:2.2:test\r\n[INFO]    +- org.junit.jupiter:junit-jupiter:jar:5.9.2:test\r\n[INFO]    |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:test\r\n[INFO]    |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\r\n[INFO]    |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.2:test\r\n[INFO]    |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\r\n[INFO]    |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.2:test\r\n[INFO]    |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:test\r\n[INFO]    |     \\- org.junit.platform:junit-platform-engine:jar:1.9.2:test\r\n[INFO]    +- org.mockito:mockito-core:jar:4.11.0:test\r\n[INFO]    |  +- net.bytebuddy:byte-buddy-agent:jar:1.14.0:test\r\n[INFO]    |  \\- org.objenesis:objenesis:jar:3.3:test\r\n[INFO]    +- org.mockito:mockito-junit-jupiter:jar:4.11.0:test\r\n[INFO]    +- org.skyscreamer:jsonassert:jar:1.5.1:test\r\n[INFO]    |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\r\n[INFO]    +- org.springframework:spring-core:jar:6.0.5:compile\r\n[INFO]    |  \\- org.springframework:spring-jcl:jar:6.0.5:compile\r\n[INFO]    +- org.springframework:spring-test:jar:6.0.5:test\r\n[INFO]    \\- org.xmlunit:xmlunit-core:jar:2.9.1:test\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  2.686 s\r\n[INFO] Finished at: 2023-03-04T23:56:43+01:00\r\n[INFO] ------------------------------------------------------------------------\r\n\r\nProcess finished with exit code 0\r\n````\r\n\r\n\r\n","title":"Caused by: java.lang.NoClassDefFoundError: javax/ws/rs/core/Configuration","body":"<p>I am trying to connect to Docker Daemon using docker-java client api in a spring-boot application (version 3.1.0-SNAPSHOT) by following this tutorial -\n<a href=\"https://www.baeldung.com/docker-java-api\" rel=\"nofollow noreferrer\">https://www.baeldung.com/docker-java-api</a>. But I am getting below exception.</p>\n<pre><code>Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.github.dockerjava.api.DockerClient]: Factory method 'dockerClient' threw exception with message: javax/ws/rs/core/Configuration\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.5.jar:6.0.5]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-6.0.5.jar:6.0.5]\n    ... 47 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: javax/ws/rs/core/Configuration\n    at com.github.dockerjava.jaxrs.JerseyDockerHttpClient$Builder.build(JerseyDockerHttpClient.java:124) ~[docker-java-transport-jersey-3.3.0.jar:na]\n    at com.github.dockerjava.core.DockerClientBuilder.build(DockerClientBuilder.java:106) ~[docker-java-3.3.0.jar:na]\n    at com.danfoss.exercise.docker.simulation.exercise.configs.DockerClientInit.dockerClient(DockerClientInit.java:18) ~[classes/:na]\n    at com.danfoss.exercise.docker.simulation.exercise.configs.DockerClientInit$$SpringCGLIB$$0.CGLIB$dockerClient$0(&lt;generated&gt;) ~[classes/:na]\n    at com.danfoss.exercise.docker.simulation.exercise.configs.DockerClientInit$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.5.jar:6.0.5]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.5.jar:6.0.5]\n    at com.danfoss.exercise.docker.simulation.exercise.configs.DockerClientInit$$SpringCGLIB$$0.dockerClient(&lt;generated&gt;) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.5.jar:6.0.5]\n    ... 48 common frames omitted\nCaused by: java.lang.ClassNotFoundException: javax.ws.rs.core.Configuration\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    ... 61 common frames omitted\n</code></pre>\n<p><strong>If I include below dependency</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>then I get below exception -</p>\n<pre><code>Caused by: java.lang.LinkageError: ClassCastException: attempting to castjar:file:/C:/Users/vivek/.m2/repository/javax/ws/rs/javax.ws.rs-api/2.0.1/javax.ws.rs-api-2.0.1\n</code></pre>\n<p>I am kind of stuck with this error for days and I am not sure how to resolve this. It seems like Jakarta and Javax has some conflicts. Any help would be appreciated. Thanks in Advance</p>\n<p>POM content -</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.danfoss.exercise.docker.simulation&lt;/groupId&gt;\n    &lt;artifactId&gt;Simulation-Exercise&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Simulation-Exercise&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.docker-java&lt;/groupId&gt;\n            &lt;artifactId&gt;docker-java&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--&lt;dependency&gt;\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1&lt;/version&gt;\n        &lt;/dependency&gt;--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Output of mvn dependency:tree</p>\n<pre><code>[INFO] --- maven-dependency-plugin:3.5.0:tree (default-cli) @ Simulation-Exercise ---\n[INFO] com.danfoss.exercise.docker.simulation:Simulation-Exercise:jar:0.0.1-SNAPSHOT\n[INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:3.1.0-SNAPSHOT:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:3.1.0-SNAPSHOT:compile\n[INFO] |  |  +- org.springframework:spring-aop:jar:6.0.5:compile\n[INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.9.19:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:3.1.0-SNAPSHOT:compile\n[INFO] |  |  +- com.zaxxer:HikariCP:jar:5.0.1:compile\n[INFO] |  |  \\- org.springframework:spring-jdbc:jar:6.0.5:compile\n[INFO] |  +- org.hibernate.orm:hibernate-core:jar:6.1.7.Final:compile\n[INFO] |  |  +- jakarta.persistence:jakarta.persistence-api:jar:3.1.0:compile\n[INFO] |  |  +- jakarta.transaction:jakarta.transaction-api:jar:2.0.1:compile\n[INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.5.0.Final:compile\n[INFO] |  |  +- org.hibernate.common:hibernate-commons-annotations:jar:6.0.6.Final:runtime\n[INFO] |  |  +- org.jboss:jandex:jar:2.4.2.Final:runtime\n[INFO] |  |  +- com.fasterxml:classmate:jar:1.5.1:compile\n[INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.14.0:runtime\n[INFO] |  |  +- org.glassfish.jaxb:jaxb-runtime:jar:4.0.2:runtime\n[INFO] |  |  |  \\- org.glassfish.jaxb:jaxb-core:jar:4.0.2:runtime\n[INFO] |  |  |     +- org.eclipse.angus:angus-activation:jar:2.0.0:runtime\n[INFO] |  |  |     +- org.glassfish.jaxb:txw2:jar:4.0.2:runtime\n[INFO] |  |  |     \\- com.sun.istack:istack-commons-runtime:jar:4.1.1:runtime\n[INFO] |  |  +- jakarta.inject:jakarta.inject-api:jar:2.0.0:compile\n[INFO] |  |  \\- org.antlr:antlr4-runtime:jar:4.10.1:runtime\n[INFO] |  +- org.springframework.data:spring-data-jpa:jar:3.1.0-M2:compile\n[INFO] |  |  +- org.springframework.data:spring-data-commons:jar:3.1.0-M2:compile\n[INFO] |  |  +- org.springframework:spring-orm:jar:6.0.5:compile\n[INFO] |  |  +- org.springframework:spring-context:jar:6.0.5:compile\n[INFO] |  |  +- org.springframework:spring-tx:jar:6.0.5:compile\n[INFO] |  |  +- org.springframework:spring-beans:jar:6.0.5:compile\n[INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\n[INFO] |  |  \\- org.slf4j:slf4j-api:jar:2.0.6:compile\n[INFO] |  \\- org.springframework:spring-aspects:jar:6.0.5:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-jersey:jar:3.1.0-SNAPSHOT:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:3.1.0-SNAPSHOT:compile\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.2:compile\n[INFO] |  |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.14.2:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.14.2:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.14.2:compile\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.14.2:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.1.0-SNAPSHOT:compile\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.5:compile\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.5:compile\n[INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.5:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-validation:jar:3.1.0-SNAPSHOT:compile\n[INFO] |  |  \\- org.hibernate.validator:hibernate-validator:jar:8.0.0.Final:compile\n[INFO] |  +- org.springframework:spring-web:jar:6.0.5:compile\n[INFO] |  |  \\- io.micrometer:micrometer-observation:jar:1.11.0-M1:compile\n[INFO] |  |     \\- io.micrometer:micrometer-commons:jar:1.11.0-M1:compile\n[INFO] |  +- org.glassfish.jersey.containers:jersey-container-servlet-core:jar:3.1.1:compile\n[INFO] |  |  +- org.glassfish.jersey.core:jersey-common:jar:3.1.1:compile\n[INFO] |  |  |  \\- org.glassfish.hk2:osgi-resource-locator:jar:1.0.3:compile\n[INFO] |  |  \\- jakarta.ws.rs:jakarta.ws.rs-api:jar:3.1.0:compile\n[INFO] |  +- org.glassfish.jersey.containers:jersey-container-servlet:jar:3.1.1:compile\n[INFO] |  +- org.glassfish.jersey.core:jersey-server:jar:3.1.1:compile\n[INFO] |  |  +- org.glassfish.jersey.core:jersey-client:jar:3.1.1:compile\n[INFO] |  |  \\- jakarta.validation:jakarta.validation-api:jar:3.0.2:compile\n[INFO] |  +- org.glassfish.jersey.ext:jersey-bean-validation:jar:3.1.1:compile\n[INFO] |  +- org.glassfish.jersey.ext:jersey-spring6:jar:3.1.1:compile\n[INFO] |  |  +- org.glassfish.jersey.inject:jersey-hk2:jar:3.1.1:compile\n[INFO] |  |  |  +- org.glassfish.hk2:hk2-locator:jar:3.0.3:compile\n[INFO] |  |  |  |  \\- org.glassfish.hk2.external:aopalliance-repackaged:jar:3.0.3:compile\n[INFO] |  |  |  \\- org.javassist:javassist:jar:3.29.0-GA:compile\n[INFO] |  |  +- org.glassfish.hk2:hk2:jar:3.0.3:compile\n[INFO] |  |  |  +- org.glassfish.hk2:hk2-utils:jar:3.0.3:compile\n[INFO] |  |  |  +- org.glassfish.hk2:hk2-api:jar:3.0.3:compile\n[INFO] |  |  |  +- org.glassfish.hk2:hk2-core:jar:3.0.3:compile\n[INFO] |  |  |  +- org.glassfish.hk2:hk2-runlevel:jar:3.0.3:compile\n[INFO] |  |  |  \\- org.glassfish.hk2:class-model:jar:3.0.3:compile\n[INFO] |  |  |     +- org.ow2.asm:asm-analysis:jar:9.2:compile\n[INFO] |  |  |     +- org.ow2.asm:asm-commons:jar:9.2:compile\n[INFO] |  |  |     +- org.ow2.asm:asm-tree:jar:9.2:compile\n[INFO] |  |  |     \\- org.ow2.asm:asm-util:jar:9.2:compile\n[INFO] |  |  \\- org.glassfish.hk2:spring-bridge:jar:3.0.3:compile\n[INFO] |  \\- org.glassfish.jersey.media:jersey-media-json-jackson:jar:3.1.1:compile\n[INFO] |     +- org.glassfish.jersey.ext:jersey-entity-filtering:jar:3.1.1:compile\n[INFO] |     +- com.fasterxml.jackson.core:jackson-annotations:jar:2.14.2:compile\n[INFO] |     \\- com.fasterxml.jackson.module:jackson-module-jakarta-xmlbind-annotations:jar:2.14.2:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:3.1.0-SNAPSHOT:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:3.1.0-SNAPSHOT:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:3.1.0-SNAPSHOT:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.1.0-SNAPSHOT:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:3.1.0-SNAPSHOT:compile\n[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.4.5:compile\n[INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.4.5:compile\n[INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.20.0:compile\n[INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.20.0:compile\n[INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:2.0.6:compile\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.33:compile\n[INFO] |  \\- org.springframework:spring-webmvc:jar:6.0.5:compile\n[INFO] |     \\- org.springframework:spring-expression:jar:6.0.5:compile\n[INFO] +- com.github.docker-java:docker-java:jar:3.3.0:compile\n[INFO] |  +- com.github.docker-java:docker-java-core:jar:3.3.0:compile\n[INFO] |  |  +- com.github.docker-java:docker-java-api:jar:3.3.0:compile\n[INFO] |  |  +- com.github.docker-java:docker-java-transport:jar:3.3.0:compile\n[INFO] |  |  +- commons-io:commons-io:jar:2.6:compile\n[INFO] |  |  +- org.apache.commons:commons-compress:jar:1.21:compile\n[INFO] |  |  +- org.apache.commons:commons-lang3:jar:3.12.0:compile\n[INFO] |  |  +- com.google.guava:guava:jar:19.0:compile\n[INFO] |  |  \\- org.bouncycastle:bcpkix-jdk15on:jar:1.64:compile\n[INFO] |  |     \\- org.bouncycastle:bcprov-jdk15on:jar:1.64:compile\n[INFO] |  +- com.github.docker-java:docker-java-transport-jersey:jar:3.3.0:compile\n[INFO] |  |  +- com.fasterxml.jackson.jaxrs:jackson-jaxrs-json-provider:jar:2.14.2:compile\n[INFO] |  |  |  +- com.fasterxml.jackson.jaxrs:jackson-jaxrs-base:jar:2.14.2:compile\n[INFO] |  |  |  \\- com.fasterxml.jackson.module:jackson-module-jaxb-annotations:jar:2.14.2:compile\n[INFO] |  |  +- org.glassfish.jersey.connectors:jersey-apache-connector:jar:3.1.1:compile\n[INFO] |  |  +- org.apache.httpcomponents:httpcore:jar:4.4.16:compile\n[INFO] |  |  +- org.apache.httpcomponents:httpclient:jar:4.5.12:compile\n[INFO] |  |  |  \\- commons-codec:commons-codec:jar:1.15:compile\n[INFO] |  |  +- com.kohlschutter.junixsocket:junixsocket-common:jar:2.6.1:compile\n[INFO] |  |  \\- com.kohlschutter.junixsocket:junixsocket-native-common:jar:2.6.1:compile\n[INFO] |  +- com.github.docker-java:docker-java-transport-netty:jar:3.3.0:compile\n[INFO] |  |  +- io.netty:netty-codec-http:jar:4.1.89.Final:compile\n[INFO] |  |  |  +- io.netty:netty-common:jar:4.1.89.Final:compile\n[INFO] |  |  |  +- io.netty:netty-buffer:jar:4.1.89.Final:compile\n[INFO] |  |  |  +- io.netty:netty-transport:jar:4.1.89.Final:compile\n[INFO] |  |  |  \\- io.netty:netty-codec:jar:4.1.89.Final:compile\n[INFO] |  |  +- io.netty:netty-handler:jar:4.1.89.Final:compile\n[INFO] |  |  |  +- io.netty:netty-resolver:jar:4.1.89.Final:compile\n[INFO] |  |  |  \\- io.netty:netty-transport-native-unix-common:jar:4.1.89.Final:compile\n[INFO] |  |  +- io.netty:netty-handler-proxy:jar:4.1.89.Final:compile\n[INFO] |  |  |  \\- io.netty:netty-codec-socks:jar:4.1.89.Final:compile\n[INFO] |  |  +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.89.Final:compile\n[INFO] |  |  |  \\- io.netty:netty-transport-classes-epoll:jar:4.1.89.Final:compile\n[INFO] |  |  \\- io.netty:netty-transport-native-kqueue:jar:osx-x86_64:4.1.89.Final:compile\n[INFO] |  |     \\- io.netty:netty-transport-classes-kqueue:jar:4.1.89.Final:compile\n[INFO] |  \\- org.slf4j:jcl-over-slf4j:jar:2.0.6:compile\n[INFO] +- com.h2database:h2:jar:2.1.214:runtime\n[INFO] +- org.projectlombok:lombok:jar:1.18.26:compile\n[INFO] \\- org.springframework.boot:spring-boot-starter-test:jar:3.1.0-SNAPSHOT:test\n[INFO]    +- org.springframework.boot:spring-boot-test:jar:3.1.0-SNAPSHOT:test\n[INFO]    +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.1.0-SNAPSHOT:test\n[INFO]    +- com.jayway.jsonpath:json-path:jar:2.7.0:test\n[INFO]    |  \\- net.minidev:json-smart:jar:2.4.8:test\n[INFO]    |     \\- net.minidev:accessors-smart:jar:2.4.8:test\n[INFO]    |        \\- org.ow2.asm:asm:jar:9.1:test\n[INFO]    +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:compile\n[INFO]    |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.1:compile\n[INFO]    +- org.assertj:assertj-core:jar:3.24.2:test\n[INFO]    +- org.hamcrest:hamcrest:jar:2.2:test\n[INFO]    +- org.junit.jupiter:junit-jupiter:jar:5.9.2:test\n[INFO]    |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:test\n[INFO]    |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\n[INFO]    |  |  +- org.junit.platform:junit-platform-commons:jar:1.9.2:test\n[INFO]    |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\n[INFO]    |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.2:test\n[INFO]    |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:test\n[INFO]    |     \\- org.junit.platform:junit-platform-engine:jar:1.9.2:test\n[INFO]    +- org.mockito:mockito-core:jar:4.11.0:test\n[INFO]    |  +- net.bytebuddy:byte-buddy-agent:jar:1.14.0:test\n[INFO]    |  \\- org.objenesis:objenesis:jar:3.3:test\n[INFO]    +- org.mockito:mockito-junit-jupiter:jar:4.11.0:test\n[INFO]    +- org.skyscreamer:jsonassert:jar:1.5.1:test\n[INFO]    |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\n[INFO]    +- org.springframework:spring-core:jar:6.0.5:compile\n[INFO]    |  \\- org.springframework:spring-jcl:jar:6.0.5:compile\n[INFO]    +- org.springframework:spring-test:jar:6.0.5:test\n[INFO]    \\- org.xmlunit:xmlunit-core:jar:2.9.1:test\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  2.686 s\n[INFO] Finished at: 2023-03-04T23:56:43+01:00\n[INFO] ------------------------------------------------------------------------\n\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","android","kotlin","oauth-2.0"],"answers":[{"tags":[],"owner":{"account_id":12368896,"reputation":24701,"user_id":9019885,"display_name":"Gary Archer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582571433,"creation_date":1582571433,"answer_id":60382494,"question_id":60345664,"body_markdown":"Hmm - looks like you are running a loopback web server on port 8888, which is more of a desktop solution than a mobile one.\r\n\r\nYou are likely to get a more user friendly and reliable solution by logging in via a Chrome Custom Tab and using Google AppAuth libraries. It is not easy though.\r\n\r\nMaybe have a look at my [Tutorial + Code Sample](https://authguidance.com/2019/09/13/android-code-sample-overview/) which may at least give you something to compare against.\r\n\r\n","title":"AuthorizationCodeInstalledApp - Android Alternative","body":"<p>Hmm - looks like you are running a loopback web server on port 8888, which is more of a desktop solution than a mobile one.</p>\n\n<p>You are likely to get a more user friendly and reliable solution by logging in via a Chrome Custom Tab and using Google AppAuth libraries. It is not easy though.</p>\n\n<p>Maybe have a look at my <a href=\"https://authguidance.com/2019/09/13/android-code-sample-overview/\" rel=\"nofollow noreferrer\">Tutorial + Code Sample</a> which may at least give you something to compare against.</p>\n"},{"tags":[],"owner":{"account_id":5708273,"reputation":743,"user_id":5556024,"accept_rate":71,"display_name":"Marc Freeman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1582805017,"creation_date":1582805017,"answer_id":60432827,"question_id":60345664,"body_markdown":"I copied [dnsiv&#39;s](https://stackoverflow.com/questions/52850911/java-awt-desktop-class) answer and overridden ```AuthorizationCodeInstalledApp``` and I now have the following code: \r\n\r\n```\r\nprivate fun getCredentials(HTTP_TRANSPORT: NetHttpTransport): Credential {\r\n\r\n        val inputStream: InputStream = getCredentialsAsInputStream()\r\n        val clientSecrets: GoogleClientSecrets = GoogleClientSecrets.load(JSON_FACTORY, InputStreamReader(inputStream))\r\n\r\n        createTokenFolderIfMissing()\r\n\r\n        val authorisationFlow: GoogleAuthorizationCodeFlow = getAuthorisationFlow(HTTP_TRANSPORT, clientSecrets)\r\n\r\n        val ab: AuthorizationCodeInstalledApp =\r\n            object : AuthorizationCodeInstalledApp(authorisationFlow, LocalServerReceiver()) {\r\n                @Throws(IOException::class)\r\n                override fun onAuthorization(authorizationUrl: AuthorizationCodeRequestUrl) {\r\n                    val url = authorizationUrl.build()\r\n                    val browserIntent = Intent(Intent.ACTION_VIEW, Uri.parse(url))\r\n                    context.startActivity(browserIntent)\r\n                }\r\n            }\r\n\r\n        return ab.authorize(&quot;user&quot;).setAccessToken(&quot;user&quot;)\r\n```","title":"AuthorizationCodeInstalledApp - Android Alternative","body":"<p>I copied <a href=\"https://stackoverflow.com/questions/52850911/java-awt-desktop-class\">dnsiv's</a> answer and overridden <code>AuthorizationCodeInstalledApp</code> and I now have the following code: </p>\n\n<pre><code>private fun getCredentials(HTTP_TRANSPORT: NetHttpTransport): Credential {\n\n        val inputStream: InputStream = getCredentialsAsInputStream()\n        val clientSecrets: GoogleClientSecrets = GoogleClientSecrets.load(JSON_FACTORY, InputStreamReader(inputStream))\n\n        createTokenFolderIfMissing()\n\n        val authorisationFlow: GoogleAuthorizationCodeFlow = getAuthorisationFlow(HTTP_TRANSPORT, clientSecrets)\n\n        val ab: AuthorizationCodeInstalledApp =\n            object : AuthorizationCodeInstalledApp(authorisationFlow, LocalServerReceiver()) {\n                @Throws(IOException::class)\n                override fun onAuthorization(authorizationUrl: AuthorizationCodeRequestUrl) {\n                    val url = authorizationUrl.build()\n                    val browserIntent = Intent(Intent.ACTION_VIEW, Uri.parse(url))\n                    context.startActivity(browserIntent)\n                }\n            }\n\n        return ab.authorize(\"user\").setAccessToken(\"user\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27884730,"reputation":24,"user_id":21292471,"display_name":"etunnel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677971381,"creation_date":1677971381,"answer_id":75639230,"question_id":60345664,"body_markdown":"I&#39;ve gone through many learning curves including reading and implementing the idea from this posting. I finally figured this problem out and described my finding: https://stackoverflow.com/questions/74512198/use-google-sign-in-to-connect-to-google-sheets-api/75575824#75575824\r\n\r\nThe key is to follow the example from https://github.com/googlesamples/google-services/tree/master/android/signin to create a GoogleSignInAccount obj. Then, create a GoogleAccountCredential obj. to be used as the credential to Sheets.Builder.\r\n\r\nCode skeleton\r\n```\r\nGoogleSignInAccount signedInAccount = GoogleSignIn.getLastSignedInAccount(this);\r\nAccount account = signedInAccount.getAccount();\r\nGoogleAccountCredential credential = GoogleAccountCredential.usingOAuth2(\r\n                                context,\r\n                                Collections.singleton(&quot;https://www.googleapis.com/auth/spreadsheets&quot;));\r\ncredential.setSelectedAccount(account);\r\n\r\nSheets service =\r\n\tnew Sheets.Builder(httpTransport, GsonFactory.getDefaultInstance(), credential)\r\n\t\t\t.setApplicationName(&quot;Google Sheets API&quot;)\r\n\t\t\t.build();\r\n```\r\n*NOTE*: &quot;https://www.googleapis.com/auth/spreadsheets&quot; is the SCOPE for the sheets API.\r\n\r\nI hope that saves the reader time in the future. What I learned along this journey is that this authentication method changes. Pay attention to the date. Let me know when my finding is no longer valid.\r\n","title":"AuthorizationCodeInstalledApp - Android Alternative","body":"<p>I've gone through many learning curves including reading and implementing the idea from this posting. I finally figured this problem out and described my finding: <a href=\"https://stackoverflow.com/questions/74512198/use-google-sign-in-to-connect-to-google-sheets-api/75575824#75575824\">use google sign in to connect to google sheets api</a></p>\n<p>The key is to follow the example from <a href=\"https://github.com/googlesamples/google-services/tree/master/android/signin\" rel=\"nofollow noreferrer\">https://github.com/googlesamples/google-services/tree/master/android/signin</a> to create a GoogleSignInAccount obj. Then, create a GoogleAccountCredential obj. to be used as the credential to Sheets.Builder.</p>\n<p>Code skeleton</p>\n<pre><code>GoogleSignInAccount signedInAccount = GoogleSignIn.getLastSignedInAccount(this);\nAccount account = signedInAccount.getAccount();\nGoogleAccountCredential credential = GoogleAccountCredential.usingOAuth2(\n                                context,\n                                Collections.singleton(&quot;https://www.googleapis.com/auth/spreadsheets&quot;));\ncredential.setSelectedAccount(account);\n\nSheets service =\n    new Sheets.Builder(httpTransport, GsonFactory.getDefaultInstance(), credential)\n            .setApplicationName(&quot;Google Sheets API&quot;)\n            .build();\n</code></pre>\n<p><em>NOTE</em>: &quot;https://www.googleapis.com/auth/spreadsheets&quot; is the SCOPE for the sheets API.</p>\n<p>I hope that saves the reader time in the future. What I learned along this journey is that this authentication method changes. Pay attention to the date. Let me know when my finding is no longer valid.</p>\n"}],"owner":{"account_id":5708273,"reputation":743,"user_id":5556024,"accept_rate":71,"display_name":"Marc Freeman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2165,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60432827,"answer_count":3,"score":2,"last_activity_date":1677971381,"creation_date":1582316133,"question_id":60345664,"body_markdown":"I&#39;m trying to Authenticate into Google Oauth with Android, I successfully authenticate, store my credentials and auth token but then there&#39;s one particular piece of code that I am falling over at; returning an instance of ```AuthorizationCodeInstalledApp```. The problem seems to be that this API is made for Java desktop applications and is trying to load a browser instance. Here is my ```GoogleCredentialsUtilityModule```, a slightly refactored version of the code that is shown in the Android developer docs: \r\n\r\n```package com.example.bluelightlite.modules\r\n\r\nimport android.content.Context\r\nimport android.os.AsyncTask\r\nimport com.example.bluelightlite.constants.CREDENTIALS_FILE_PATH\r\nimport com.example.bluelightlite.constants.JSON_FACTORY\r\nimport com.example.bluelightlite.constants.SCOPES\r\nimport com.example.bluelightlite.constants.TOKENS_DIRECTORY_PATH\r\nimport com.google.api.client.auth.oauth2.Credential\r\nimport com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp\r\nimport com.google.api.client.extensions.jetty.auth.oauth2.LocalServerReceiver\r\nimport com.google.api.client.googleapis.auth.oauth2.GoogleAuthorizationCodeFlow\r\nimport com.google.api.client.googleapis.auth.oauth2.GoogleClientSecrets\r\nimport com.google.api.client.http.javanet.NetHttpTransport\r\nimport com.google.api.client.util.store.FileDataStoreFactory\r\nimport java.io.File\r\nimport java.io.FileNotFoundException\r\nimport java.io.InputStream\r\nimport java.io.InputStreamReader\r\n\r\n\r\nclass GoogleCredentialsUtilityModule constructor(private val context: Context): AsyncTask&lt;NetHttpTransport, Void, Credential&gt;() {\r\n\r\n    /**\r\n     * Starts getting credentials on a different thread by implementing\r\n     * AsyncTask&lt;&gt;()\r\n     * @param params: a list of parameters\r\n     * @return Google Credentials that come from this.getCredentials()\r\n     */\r\n    override fun doInBackground(vararg params: NetHttpTransport): Credential {\r\n        return this.getCredentials(params[0])\r\n    }\r\n\r\n    /**\r\n     * Creates an authorized Credential object.\r\n     * @param HTTP_TRANSPORT The network HTTP Transport.\r\n     * @return An authorized Credential object.\r\n     * @throws java.io.IOException If the credentials.json file cannot be found.\r\n     */\r\n    private fun getCredentials(HTTP_TRANSPORT: NetHttpTransport): Credential {\r\n\r\n        val inputStream: InputStream = getCredentialsAsInputStream()\r\n        val clientSecrets: GoogleClientSecrets = GoogleClientSecrets.load(JSON_FACTORY, InputStreamReader(inputStream))\r\n\r\n        createTokenFolderIfMissing()\r\n\r\n        val authorisationFlow: GoogleAuthorizationCodeFlow = getAuthorisationFlow(HTTP_TRANSPORT, clientSecrets)\r\n        val receiver: LocalServerReceiver = LocalServerReceiver.Builder()\r\n            .setPort(8888)\r\n            .build()\r\n\r\n        return AuthorizationCodeInstalledApp(authorisationFlow, receiver).authorize(&quot;user&quot;) //falls over here\r\n    }\r\n\r\n    /**\r\n     * Gets the /credentials.json file\r\n     * @return InputStream\r\n     */\r\n    private fun getCredentialsAsInputStream(): InputStream {\r\n        return this.javaClass.getResourceAsStream(CREDENTIALS_FILE_PATH)\r\n            ?: throw FileNotFoundException(&quot;Resource Not found: $CREDENTIALS_FILE_PATH&quot;)\r\n    }\r\n\r\n    /**\r\n     * Creates the Tokens Folder for Google Authentication\r\n     * Uses the current context for the folder path from\r\n     * Context.getExternalFilesDir()\r\n     */\r\n    private fun createTokenFolderIfMissing() {\r\n        val tokenFolder = getTokenFolder()\r\n        if (!tokenFolder.exists()) {\r\n            tokenFolder.mkdir()\r\n        }\r\n    }\r\n\r\n    /**\r\n     * gets External storage directory from the\r\n     * current context\r\n     * @return File\r\n     */\r\n    private fun getTokenFolder(): File {\r\n        return File(this.context.getExternalFilesDir(&quot;&quot;)?.absolutePath + TOKENS_DIRECTORY_PATH)\r\n    }\r\n\r\n    /**\r\n     * Gets authorisation flow so that the application can authenticate into Google Calendars\r\n     * @param HTTP_TRANSPORT allows the app to use HTTP connections\r\n     * @param clientSecrets secrets for authentication into Google\r\n     * @return GoogleAuthorizationCodeFlow\r\n     */\r\n    private fun getAuthorisationFlow(HTTP_TRANSPORT: NetHttpTransport, clientSecrets: GoogleClientSecrets): GoogleAuthorizationCodeFlow {\r\n        return GoogleAuthorizationCodeFlow.Builder(\r\n            HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\r\n            .setDataStoreFactory(FileDataStoreFactory(getTokenFolder()))\r\n            .setAccessType(&quot;offline&quot;)\r\n            .build()\r\n    }\r\n}\r\n```\r\n\r\nHere is my error message:\r\n\r\n\r\n```\r\n02/21 20:04:33: Launching &#39;app&#39; on Pixel 3 XL API 29.\r\n$ adb shell am start -n &quot;com.example.bluelightlite/com.example.bluelightlite.MainActivity&quot; -a android.intent.action.MAIN -c android.intent.category.LAUNCHER\r\nConnected to process 9795 on device &#39;Pixel_3_XL_API_29 [emulator-5554]&#39;.\r\nCapturing and displaying logcat messages from application. This behavior can be disabled in the &quot;Logcat output&quot; section of the &quot;Debugger&quot; settings page.\r\nD/libEGL: Emulator has host GPU support, qemu.gles is set to 1.\r\nW/RenderThread: type=1400 audit(0.0:48): avc: denied { write } for name=&quot;property_service&quot; dev=&quot;tmpfs&quot; ino=6831 scontext=u:r:untrusted_app:s0:c133,c256,c512,c768 tcontext=u:object_r:property_socket:s0 tclass=sock_file permissive=0 app=com.example.bluelightlite\r\nW/libc: Unable to set property &quot;qemu.gles&quot; to &quot;1&quot;: connection failed; errno=13 (Permission denied)\r\nD/libEGL: loaded /vendor/lib/egl/libEGL_emulation.so\r\nD/libEGL: loaded /vendor/lib/egl/libGLESv1_CM_emulation.so\r\nD/libEGL: loaded /vendor/lib/egl/libGLESv2_emulation.so\r\nW/System.err: 2020-02-21 20:04:39.683:INFO::Logging to STDERR via org.mortbay.log.StdErrLog\r\n    2020-02-21 20:04:39.684:INFO::jetty-0.0\r\nW/System.err: 2020-02-21 20:04:39.805:INFO::Started SocketConnector@localhost:8888\r\nI/System.out: Please open the following address in your browser:\r\n      https://accounts.google.com/o/oauth2/auth?access_type=offline&amp;client_id=475059597551-bugt3i0nnfe7unsoqt8ghu2ovm7dfrqg.apps.googleusercontent.com&amp;redirect_uri=http://localhost:8888/Callback&amp;response_type=code&amp;scope=https://www.googleapis.com/auth/calendar.readonly\r\nW/System.err: 2020-02-21 20:04:39.823:INFO::Stopped SocketConnector@localhost:8888\r\nD/AndroidRuntime: Shutting down VM\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.bluelightlite, PID: 9795\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.bluelightlite/com.example.bluelightlite.MainActivity}: java.util.concurrent.ExecutionException: java.lang.NoClassDefFoundError: Failed resolution of: Ljava/awt/Desktop;\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3270)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)\r\n        at android.os.Looper.loop(Looper.java:214)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n     Caused by: java.util.concurrent.ExecutionException: java.lang.NoClassDefFoundError: Failed resolution of: Ljava/awt/Desktop;\r\n        at java.util.concurrent.FutureTask.report(FutureTask.java:123)\r\n        at java.util.concurrent.FutureTask.get(FutureTask.java:193)\r\n        at android.os.AsyncTask.get(AsyncTask.java:602)\r\n        at com.example.bluelightlite.models.GoogleCalenderCredentials.&lt;init&gt;(GoogleCalanderCredentials.kt:15)\r\n        at com.example.bluelightlite.modules.GoogleCalendarsServiceModule.&lt;init&gt;(GoogleCalendarsServiceModule.kt:11)\r\n        at com.example.bluelightlite.MainActivity.onCreate(MainActivity.kt:25)\r\n        at android.app.Activity.performCreate(Activity.java:7802)\r\n        at android.app.Activity.performCreate(Activity.java:7791)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1299)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3245)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)&#160;\r\n        at android.os.Looper.loop(Looper.java:214)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)&#160;\r\n     Caused by: java.lang.NoClassDefFoundError: Failed resolution of: Ljava/awt/Desktop;\r\n        at com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp.browse(AuthorizationCodeInstalledApp.java:129)\r\n        at com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp.onAuthorization(AuthorizationCodeInstalledApp.java:113)\r\n        at com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp.authorize(AuthorizationCodeInstalledApp.java:81)\r\n        at com.example.bluelightlite.modules.GoogleCredentialsUtilityModule.getCredentials(GoogleCredentialsUtilityModule.kt:52)\r\n        at com.example.bluelightlite.modules.GoogleCredentialsUtilityModule.doInBackground(GoogleCredentialsUtilityModule.kt:31)\r\n        at com.example.bluelightlite.modules.GoogleCredentialsUtilityModule.doInBackground(GoogleCredentialsUtilityModule.kt:22)\r\n        at android.os.AsyncTask$3.call(AsyncTask.java:378)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:289)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        at java.lang.Thread.run(Thread.java:919)\r\n     Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;java.awt.Desktop&quot; on path: DexPathList[[zip file &quot;/data/app/com.example.bluelightlite-6neG3BDx7D1LEKBl_6YMYg==/base.apk&quot;],nativeLibraryDirectories=[/data/app/com.example.bluelightlite-6neG3BDx7D1LEKBl_6YMYg==/lib/x86, /system/lib, /system/product/lib]]\r\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:196)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n        at com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp.browse(AuthorizationCodeInstalledApp.java:129)&#160;\r\n        at com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp.onAuthorization(AuthorizationCodeInstalledApp.java:113)&#160;\r\n        at com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp.authorize(AuthorizationCodeInstalledApp.java:81)&#160;\r\n        at com.example.bluelightlite.modules.GoogleCredentialsUtilityModule.getCredentials(GoogleCredentialsUtilityModule.kt:52)&#160;\r\n        at com.example.bluelightlite.modules.GoogleCredentialsUtilityModule.doInBackground(GoogleCredentialsUtilityModule.kt:31)&#160;\r\n        at com.example.bluelightlite.modules.GoogleCredentialsUtilityModule.doInBackground(GoogleCredentialsUtilityModule.kt:22)&#160;\r\n        at android.os.AsyncTask$3.call(AsyncTask.java:378)&#160;\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)&#160;\r\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:289)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)&#160;\r\n        at java.lang.Thread.run(Thread.java:919)&#160;\r\nI/Process: Sending signal. PID: 9795 SIG: 9\r\n```\r\n\r\nI can&#39;t seem to find any alternative to ```AuthorizationCodeInstalledApp```. Any advice? Should I write my own Authentication code? Is there an Android version of AuthorizationCodeInstalledApp that I can use? I&#39;m finding the documentation so vague and hard to read. \r\n\r\nDeveloping on API 29 using a Google Pixel 3 XL. \r\n","title":"AuthorizationCodeInstalledApp - Android Alternative","body":"<p>I'm trying to Authenticate into Google Oauth with Android, I successfully authenticate, store my credentials and auth token but then there's one particular piece of code that I am falling over at; returning an instance of <code>AuthorizationCodeInstalledApp</code>. The problem seems to be that this API is made for Java desktop applications and is trying to load a browser instance. Here is my <code>GoogleCredentialsUtilityModule</code>, a slightly refactored version of the code that is shown in the Android developer docs: </p>\n\n<pre><code>\nimport android.content.Context\nimport android.os.AsyncTask\nimport com.example.bluelightlite.constants.CREDENTIALS_FILE_PATH\nimport com.example.bluelightlite.constants.JSON_FACTORY\nimport com.example.bluelightlite.constants.SCOPES\nimport com.example.bluelightlite.constants.TOKENS_DIRECTORY_PATH\nimport com.google.api.client.auth.oauth2.Credential\nimport com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp\nimport com.google.api.client.extensions.jetty.auth.oauth2.LocalServerReceiver\nimport com.google.api.client.googleapis.auth.oauth2.GoogleAuthorizationCodeFlow\nimport com.google.api.client.googleapis.auth.oauth2.GoogleClientSecrets\nimport com.google.api.client.http.javanet.NetHttpTransport\nimport com.google.api.client.util.store.FileDataStoreFactory\nimport java.io.File\nimport java.io.FileNotFoundException\nimport java.io.InputStream\nimport java.io.InputStreamReader\n\n\nclass GoogleCredentialsUtilityModule constructor(private val context: Context): AsyncTask&lt;NetHttpTransport, Void, Credential&gt;() {\n\n    /**\n     * Starts getting credentials on a different thread by implementing\n     * AsyncTask&lt;&gt;()\n     * @param params: a list of parameters\n     * @return Google Credentials that come from this.getCredentials()\n     */\n    override fun doInBackground(vararg params: NetHttpTransport): Credential {\n        return this.getCredentials(params[0])\n    }\n\n    /**\n     * Creates an authorized Credential object.\n     * @param HTTP_TRANSPORT The network HTTP Transport.\n     * @return An authorized Credential object.\n     * @throws java.io.IOException If the credentials.json file cannot be found.\n     */\n    private fun getCredentials(HTTP_TRANSPORT: NetHttpTransport): Credential {\n\n        val inputStream: InputStream = getCredentialsAsInputStream()\n        val clientSecrets: GoogleClientSecrets = GoogleClientSecrets.load(JSON_FACTORY, InputStreamReader(inputStream))\n\n        createTokenFolderIfMissing()\n\n        val authorisationFlow: GoogleAuthorizationCodeFlow = getAuthorisationFlow(HTTP_TRANSPORT, clientSecrets)\n        val receiver: LocalServerReceiver = LocalServerReceiver.Builder()\n            .setPort(8888)\n            .build()\n\n        return AuthorizationCodeInstalledApp(authorisationFlow, receiver).authorize(\"user\") //falls over here\n    }\n\n    /**\n     * Gets the /credentials.json file\n     * @return InputStream\n     */\n    private fun getCredentialsAsInputStream(): InputStream {\n        return this.javaClass.getResourceAsStream(CREDENTIALS_FILE_PATH)\n            ?: throw FileNotFoundException(\"Resource Not found: $CREDENTIALS_FILE_PATH\")\n    }\n\n    /**\n     * Creates the Tokens Folder for Google Authentication\n     * Uses the current context for the folder path from\n     * Context.getExternalFilesDir()\n     */\n    private fun createTokenFolderIfMissing() {\n        val tokenFolder = getTokenFolder()\n        if (!tokenFolder.exists()) {\n            tokenFolder.mkdir()\n        }\n    }\n\n    /**\n     * gets External storage directory from the\n     * current context\n     * @return File\n     */\n    private fun getTokenFolder(): File {\n        return File(this.context.getExternalFilesDir(\"\")?.absolutePath + TOKENS_DIRECTORY_PATH)\n    }\n\n    /**\n     * Gets authorisation flow so that the application can authenticate into Google Calendars\n     * @param HTTP_TRANSPORT allows the app to use HTTP connections\n     * @param clientSecrets secrets for authentication into Google\n     * @return GoogleAuthorizationCodeFlow\n     */\n    private fun getAuthorisationFlow(HTTP_TRANSPORT: NetHttpTransport, clientSecrets: GoogleClientSecrets): GoogleAuthorizationCodeFlow {\n        return GoogleAuthorizationCodeFlow.Builder(\n            HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\n            .setDataStoreFactory(FileDataStoreFactory(getTokenFolder()))\n            .setAccessType(\"offline\")\n            .build()\n    }\n}\n</code></pre>\n\n<p>Here is my error message:</p>\n\n<pre><code>02/21 20:04:33: Launching 'app' on Pixel 3 XL API 29.\n$ adb shell am start -n \"com.example.bluelightlite/com.example.bluelightlite.MainActivity\" -a android.intent.action.MAIN -c android.intent.category.LAUNCHER\nConnected to process 9795 on device 'Pixel_3_XL_API_29 [emulator-5554]'.\nCapturing and displaying logcat messages from application. This behavior can be disabled in the \"Logcat output\" section of the \"Debugger\" settings page.\nD/libEGL: Emulator has host GPU support, qemu.gles is set to 1.\nW/RenderThread: type=1400 audit(0.0:48): avc: denied { write } for name=\"property_service\" dev=\"tmpfs\" ino=6831 scontext=u:r:untrusted_app:s0:c133,c256,c512,c768 tcontext=u:object_r:property_socket:s0 tclass=sock_file permissive=0 app=com.example.bluelightlite\nW/libc: Unable to set property \"qemu.gles\" to \"1\": connection failed; errno=13 (Permission denied)\nD/libEGL: loaded /vendor/lib/egl/libEGL_emulation.so\nD/libEGL: loaded /vendor/lib/egl/libGLESv1_CM_emulation.so\nD/libEGL: loaded /vendor/lib/egl/libGLESv2_emulation.so\nW/System.err: 2020-02-21 20:04:39.683:INFO::Logging to STDERR via org.mortbay.log.StdErrLog\n    2020-02-21 20:04:39.684:INFO::jetty-0.0\nW/System.err: 2020-02-21 20:04:39.805:INFO::Started SocketConnector@localhost:8888\nI/System.out: Please open the following address in your browser:\n      https://accounts.google.com/o/oauth2/auth?access_type=offline&amp;client_id=475059597551-bugt3i0nnfe7unsoqt8ghu2ovm7dfrqg.apps.googleusercontent.com&amp;redirect_uri=http://localhost:8888/Callback&amp;response_type=code&amp;scope=https://www.googleapis.com/auth/calendar.readonly\nW/System.err: 2020-02-21 20:04:39.823:INFO::Stopped SocketConnector@localhost:8888\nD/AndroidRuntime: Shutting down VM\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.bluelightlite, PID: 9795\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.bluelightlite/com.example.bluelightlite.MainActivity}: java.util.concurrent.ExecutionException: java.lang.NoClassDefFoundError: Failed resolution of: Ljava/awt/Desktop;\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3270)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\n        at android.os.Handler.dispatchMessage(Handler.java:107)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n     Caused by: java.util.concurrent.ExecutionException: java.lang.NoClassDefFoundError: Failed resolution of: Ljava/awt/Desktop;\n        at java.util.concurrent.FutureTask.report(FutureTask.java:123)\n        at java.util.concurrent.FutureTask.get(FutureTask.java:193)\n        at android.os.AsyncTask.get(AsyncTask.java:602)\n        at com.example.bluelightlite.models.GoogleCalenderCredentials.&lt;init&gt;(GoogleCalanderCredentials.kt:15)\n        at com.example.bluelightlite.modules.GoogleCalendarsServiceModule.&lt;init&gt;(GoogleCalendarsServiceModule.kt:11)\n        at com.example.bluelightlite.MainActivity.onCreate(MainActivity.kt:25)\n        at android.app.Activity.performCreate(Activity.java:7802)\n        at android.app.Activity.performCreate(Activity.java:7791)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1299)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3245)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409) \n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83) \n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135) \n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016) \n        at android.os.Handler.dispatchMessage(Handler.java:107) \n        at android.os.Looper.loop(Looper.java:214) \n        at android.app.ActivityThread.main(ActivityThread.java:7356) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930) \n     Caused by: java.lang.NoClassDefFoundError: Failed resolution of: Ljava/awt/Desktop;\n        at com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp.browse(AuthorizationCodeInstalledApp.java:129)\n        at com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp.onAuthorization(AuthorizationCodeInstalledApp.java:113)\n        at com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp.authorize(AuthorizationCodeInstalledApp.java:81)\n        at com.example.bluelightlite.modules.GoogleCredentialsUtilityModule.getCredentials(GoogleCredentialsUtilityModule.kt:52)\n        at com.example.bluelightlite.modules.GoogleCredentialsUtilityModule.doInBackground(GoogleCredentialsUtilityModule.kt:31)\n        at com.example.bluelightlite.modules.GoogleCredentialsUtilityModule.doInBackground(GoogleCredentialsUtilityModule.kt:22)\n        at android.os.AsyncTask$3.call(AsyncTask.java:378)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:289)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at java.lang.Thread.run(Thread.java:919)\n     Caused by: java.lang.ClassNotFoundException: Didn't find class \"java.awt.Desktop\" on path: DexPathList[[zip file \"/data/app/com.example.bluelightlite-6neG3BDx7D1LEKBl_6YMYg==/base.apk\"],nativeLibraryDirectories=[/data/app/com.example.bluelightlite-6neG3BDx7D1LEKBl_6YMYg==/lib/x86, /system/lib, /system/product/lib]]\n        at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:196)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n        at com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp.browse(AuthorizationCodeInstalledApp.java:129) \n        at com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp.onAuthorization(AuthorizationCodeInstalledApp.java:113) \n        at com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp.authorize(AuthorizationCodeInstalledApp.java:81) \n        at com.example.bluelightlite.modules.GoogleCredentialsUtilityModule.getCredentials(GoogleCredentialsUtilityModule.kt:52) \n        at com.example.bluelightlite.modules.GoogleCredentialsUtilityModule.doInBackground(GoogleCredentialsUtilityModule.kt:31) \n        at com.example.bluelightlite.modules.GoogleCredentialsUtilityModule.doInBackground(GoogleCredentialsUtilityModule.kt:22) \n        at android.os.AsyncTask$3.call(AsyncTask.java:378) \n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) \n        at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:289) \n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167) \n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641) \n        at java.lang.Thread.run(Thread.java:919) \nI/Process: Sending signal. PID: 9795 SIG: 9\n</code></pre>\n\n<p>I can't seem to find any alternative to <code>AuthorizationCodeInstalledApp</code>. Any advice? Should I write my own Authentication code? Is there an Android version of AuthorizationCodeInstalledApp that I can use? I'm finding the documentation so vague and hard to read. </p>\n\n<p>Developing on API 29 using a Google Pixel 3 XL. </p>\n"},{"tags":["java","spring","mongodb"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1677797847,"post_id":75597205,"comment_id":133413844,"body_markdown":"what  Internal_API_For_Secrets() does?","body":"what  Internal_API_For_Secrets() does?"},{"owner":{"account_id":8850856,"reputation":351,"user_id":6610176,"accept_rate":33,"display_name":"SVill"},"score":0,"creation_date":1677849035,"post_id":75597205,"comment_id":133423032,"body_markdown":"Its an internal java package for retrieving username and password from a third party vault.","body":"Its an internal java package for retrieving username and password from a third party vault."},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1677852215,"post_id":75597205,"comment_id":133423963,"body_markdown":"take a look at the answer, let me know if it helps","body":"take a look at the answer, let me know if it helps"}],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677970489,"creation_date":1677797350,"answer_id":75621555,"question_id":75597205,"body_markdown":"Probably the best way to go would be using [SpEL expressions](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions) for accessing either system properties or system environment variables with your credentials configuration.\r\n\r\nThe approach is described in the [Spring documentation](https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions-beandef-xml-based).\r\n\r\nFor example, you can define system properties like this when running your program:\r\n\r\n```\r\n-Dmongo_username=your_username -Dmongo_password=your_password\r\n```\r\n\r\nand then reference those properties in your XML configuration like this:\r\n\r\n```xml\r\n&lt;mongo:db-factory id=&quot;mongo_connection&quot; client-uri=&quot;mongodb://#{systemProperties[&#39;mongo_username&#39;]}:#{systemProperties[&#39;mongo_password&#39;]}@server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot; /&gt;\r\n```\r\n\r\nOr preferably, you can define the same information using environment variables. For example, in Linux or Unix based systems:\r\n\r\n```\r\nexport MONGO_USERNAME=your_username\r\nexport MONGO_PASSWORD=your_password\r\n```\r\n\r\nand use those variables like this:\r\n\r\n```xml\r\n&lt;mongo:db-factory id=&quot;mongo_connection&quot; client-uri=&quot;mongodb://#{systemEnvironment[&#39;MONGO_USERNAME&#39;]}:#{systemEnvironment[&#39;MONGO_PASSWORD&#39;]}@server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot; /&gt;\r\n```\r\n\r\nI am not sure if it will work, because it highly depends on how you are obtaining the credentials, but you could define a bean corresponding to a slightly modified version of your `SecretImpl` class:\r\n\r\n```java\r\npublic class SecretImpl {\r\n\r\n    Secret secret = Internal_API_For_Secrets();\r\n\r\n    public String getUsername() {\r\n        return secret.getUsername();\r\n    }\r\n\r\n    public String getPassword() {\r\n        return secret.getUsername();\r\n    }\r\n}\r\n```\r\n\r\nin your XML file and reference the corresponding properties in your Mongo configuration, using SpEL again:\r\n\r\n```xml\r\n&lt;bean id=&quot;secretImpl&quot; class=&quot;your.pkg.SecretImpl&quot; /&gt;\r\n\r\n&lt;mongo:db-factory\r\n  id=&quot;mongo_connection&quot;\r\n  client-uri=&quot;mongodb://#{secretImpl.username}:#{secretImpl.password}@server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot; /&gt;\r\n```\r\n\r\nFinally, you could try providing a modified version of the `MongoDatabaseFactory` for taking into account the API for obtaining the credentials. It is unclear in your question the version of the Spring Data library for Mongo that you are using, but assuming the most recent, the `MongoDatabaseFactory` abstraction is implemented in [`SimpleMongoClientDatabaseFactory`](https://github.com/spring-projects/spring-data-mongodb/blob/fbf4d1baa8473cf97ce892c14bad807d8f960657/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/SimpleMongoClientDatabaseFactory.java). The proposed solution will then consist of defining a class that, for example, extends that class providing the necessary artifacts for dealing with your API for obtaining the required credentials, something like (please, excuse the simplicity of the code):\r\n\r\n```java\r\npublic class MyCredentialVaultMongoClientDatabaseFactory\r\n  extends SimpleMongoClientDatabaseFactory {\r\n\r\n  // For instance, you can keep a reference to the class required\r\n  // for obtaining your credentials for separation of concerns\r\n  // or use this factory class itself for fetching the credentials\r\n  // private SecretImpl secretImpl;\r\n\r\n  public MyCredentialVaultMongoClientDatabaseFactory(String connectionStringPattern, SecretImpl secretImpl) {\r\n    super(\r\n      connectionStringPattern.format(\r\n        secretImpl.getUsername(),\r\n        secretImpl.getPassword()\r\n      )\r\n    );\r\n  }\r\n}\r\n```\r\n\r\nYour XML configuration could look similar to this (based for instance on [this](https://github.com/spring-projects/spring-data-mongodb/blob/f088c94548142fbb0d598a814b9bfc6c8f35a0dc/spring-data-mongodb/src/test/resources/infrastructure.xml)):\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\t\t\t xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t\t xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans-3.0.xsd&quot;&gt;\r\n\r\n    &lt;bean id=&quot;secretImpl&quot; class=&quot;your.pkg.SecretImpl&quot;&gt;\r\n\t\t&lt;!-- properties for accessing your vault --&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;mongoDbFactory&quot; class=&quot;your.pkg.MyCredentialVaultMongoClientDatabaseFactory&quot;&gt;\r\n\t\t&lt;constructor-arg name=&quot;connectionStringPattern&quot; value=&quot;mongodb://%s:%s@server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot;/&gt;\r\n\t\t&lt;constructor-arg name=&quot;secretImpl&quot; ref=&quot;secretImpl&quot;/&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;mongoTemplate&quot; class=&quot;org.springframework.data.mongodb.core.MongoTemplate&quot;&gt;\r\n\t\t&lt;constructor-arg name=&quot;mongoDbFactory&quot; ref=&quot;mongoDbFactory&quot;/&gt;\r\n\t\t&lt;property name=&quot;writeConcern&quot; value=&quot;majority&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n&lt;/beans&gt;\r\n```","title":"How to setup a variable mongo client-uri in Spring Framework XML config","body":"<p>Probably the best way to go would be using <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions\" rel=\"nofollow noreferrer\">SpEL expressions</a> for accessing either system properties or system environment variables with your credentials configuration.</p>\n<p>The approach is described in the <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions-beandef-xml-based\" rel=\"nofollow noreferrer\">Spring documentation</a>.</p>\n<p>For example, you can define system properties like this when running your program:</p>\n<pre><code>-Dmongo_username=your_username -Dmongo_password=your_password\n</code></pre>\n<p>and then reference those properties in your XML configuration like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;mongo:db-factory id=&quot;mongo_connection&quot; client-uri=&quot;mongodb://#{systemProperties['mongo_username']}:#{systemProperties['mongo_password']}@server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot; /&gt;\n</code></pre>\n<p>Or preferably, you can define the same information using environment variables. For example, in Linux or Unix based systems:</p>\n<pre><code>export MONGO_USERNAME=your_username\nexport MONGO_PASSWORD=your_password\n</code></pre>\n<p>and use those variables like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;mongo:db-factory id=&quot;mongo_connection&quot; client-uri=&quot;mongodb://#{systemEnvironment['MONGO_USERNAME']}:#{systemEnvironment['MONGO_PASSWORD']}@server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot; /&gt;\n</code></pre>\n<p>I am not sure if it will work, because it highly depends on how you are obtaining the credentials, but you could define a bean corresponding to a slightly modified version of your <code>SecretImpl</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SecretImpl {\n\n    Secret secret = Internal_API_For_Secrets();\n\n    public String getUsername() {\n        return secret.getUsername();\n    }\n\n    public String getPassword() {\n        return secret.getUsername();\n    }\n}\n</code></pre>\n<p>in your XML file and reference the corresponding properties in your Mongo configuration, using SpEL again:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean id=&quot;secretImpl&quot; class=&quot;your.pkg.SecretImpl&quot; /&gt;\n\n&lt;mongo:db-factory\n  id=&quot;mongo_connection&quot;\n  client-uri=&quot;mongodb://#{secretImpl.username}:#{secretImpl.password}@server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot; /&gt;\n</code></pre>\n<p>Finally, you could try providing a modified version of the <code>MongoDatabaseFactory</code> for taking into account the API for obtaining the credentials. It is unclear in your question the version of the Spring Data library for Mongo that you are using, but assuming the most recent, the <code>MongoDatabaseFactory</code> abstraction is implemented in <a href=\"https://github.com/spring-projects/spring-data-mongodb/blob/fbf4d1baa8473cf97ce892c14bad807d8f960657/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/SimpleMongoClientDatabaseFactory.java\" rel=\"nofollow noreferrer\"><code>SimpleMongoClientDatabaseFactory</code></a>. The proposed solution will then consist of defining a class that, for example, extends that class providing the necessary artifacts for dealing with your API for obtaining the required credentials, something like (please, excuse the simplicity of the code):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyCredentialVaultMongoClientDatabaseFactory\n  extends SimpleMongoClientDatabaseFactory {\n\n  // For instance, you can keep a reference to the class required\n  // for obtaining your credentials for separation of concerns\n  // or use this factory class itself for fetching the credentials\n  // private SecretImpl secretImpl;\n\n  public MyCredentialVaultMongoClientDatabaseFactory(String connectionStringPattern, SecretImpl secretImpl) {\n    super(\n      connectionStringPattern.format(\n        secretImpl.getUsername(),\n        secretImpl.getPassword()\n      )\n    );\n  }\n}\n</code></pre>\n<p>Your XML configuration could look similar to this (based for instance on <a href=\"https://github.com/spring-projects/spring-data-mongodb/blob/f088c94548142fbb0d598a814b9bfc6c8f35a0dc/spring-data-mongodb/src/test/resources/infrastructure.xml\" rel=\"nofollow noreferrer\">this</a>):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans-3.0.xsd&quot;&gt;\n\n    &lt;bean id=&quot;secretImpl&quot; class=&quot;your.pkg.SecretImpl&quot;&gt;\n        &lt;!-- properties for accessing your vault --&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;mongoDbFactory&quot; class=&quot;your.pkg.MyCredentialVaultMongoClientDatabaseFactory&quot;&gt;\n        &lt;constructor-arg name=&quot;connectionStringPattern&quot; value=&quot;mongodb://%s:%s@server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot;/&gt;\n        &lt;constructor-arg name=&quot;secretImpl&quot; ref=&quot;secretImpl&quot;/&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=&quot;mongoTemplate&quot; class=&quot;org.springframework.data.mongodb.core.MongoTemplate&quot;&gt;\n        &lt;constructor-arg name=&quot;mongoDbFactory&quot; ref=&quot;mongoDbFactory&quot;/&gt;\n        &lt;property name=&quot;writeConcern&quot; value=&quot;majority&quot; /&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677852813,"creation_date":1677799524,"answer_id":75621781,"question_id":75597205,"body_markdown":"Actually it is not clear what `Secret secret = Internal_API_For_Secrets();` does.\r\n\r\nBut you could register your own properties on application startup in `ConfigurableEnvironment`\r\n\r\n# First option\r\n\r\nYou can achieve it the following way:\r\n\r\nImplement your own `EnvironmentPostProcessor`:\r\n\r\n    public class MongoPropertiesEnvironmentPostProcessor implements EnvironmentPostProcessor {\r\n    \r\n        @Override\r\n        public void postProcessEnvironment(ConfigurableEnvironment environment, SpringApplication application) {\r\n            // I don&#39;t know where you get these credentials here from, adapt this to your needs\r\n            String user = &quot;user&quot;; \r\n            String password = &quot;qwerty&quot;;\r\n    \r\n            String url = String.format(&quot;mongodb://%s:%s@server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot;,\r\n                    user, password);\r\n            Map&lt;String, Object&gt; mongoProperties = Map.of(&quot;mongo-url&quot;, url);\r\n            environment.getPropertySources()\r\n                    .addLast(new MapPropertySource(&quot;mongo-properties&quot;, mongoProperties));\r\n        }\r\n    }\r\n\r\nRegister that post processor with `spring.factories` file. Create this file in `META-INF` directory. By maven conventions it should be `main/java/resources/META-INF/spring.factories`\r\n\r\nThere you specify the class name with package\r\n    \r\n    org.springframework.boot.env.EnvironmentPostProcessor=com.example.config.MongoPropertiesEnvironmentPostProcessor\r\n\r\nSo, during startup your property `mongo-url` will be registered in `Environment` and will be also accessible with the placeholder. \r\n\r\nFrom Java code:\r\n\r\n    @Value(&quot;${mongo-url}&quot;)\r\n    private String mongoUrl;\r\n\r\nIn xml:\r\n\r\n    &lt;mongo:db-factory id=&quot;devMongoConnection&quot; client-uri=&quot;${mongo-url}&quot;/&gt;\r\n\r\n----------\r\n\r\n# Second option\r\n\r\nAnother option if you want to inject some bean that makes a call to the external API:\r\n\r\nDeclare an `ApplicationListener&lt;ContextRefreshedEvent&gt;`:\r\n\r\n    @Service\r\n    class MongoPropertyInjector implements ApplicationListener&lt;ContextRefreshedEvent&gt; {\r\n    \r\n        @Autowired\r\n        private ConfigurableEnvironment configurableEnvironment;\r\n    \r\n        @Override\r\n        public void onApplicationEvent(ContextRefreshedEvent event) {\r\n            // I don&#39;t know where you get these credentials here, adapt this to your needs, you can autowire a bean that makes a call to external API and make a call here\r\n            String user = &quot;user&quot;;\r\n            String password = &quot;qwerty&quot;;\r\n    \r\n            String url = String.format(&quot;mongodb://%s:%s@server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot;,\r\n                    user, password);\r\n            Map&lt;String, Object&gt; mongoProperties = Map.of(\r\n                    &quot;mongo-url&quot;, url\r\n            );\r\n            configurableEnvironment.getPropertySources()\r\n                    .addLast(new MapPropertySource(&quot;mongo-properties&quot;, mongoProperties));\r\n        }\r\n    }\r\n\r\nAfter this you can use the placeholder `${mongo-url}` both in your Java configs and in XML configs, just like in the example above.\r\n","title":"How to setup a variable mongo client-uri in Spring Framework XML config","body":"<p>Actually it is not clear what <code>Secret secret = Internal_API_For_Secrets();</code> does.</p>\n<p>But you could register your own properties on application startup in <code>ConfigurableEnvironment</code></p>\n<h1>First option</h1>\n<p>You can achieve it the following way:</p>\n<p>Implement your own <code>EnvironmentPostProcessor</code>:</p>\n<pre><code>public class MongoPropertiesEnvironmentPostProcessor implements EnvironmentPostProcessor {\n\n    @Override\n    public void postProcessEnvironment(ConfigurableEnvironment environment, SpringApplication application) {\n        // I don't know where you get these credentials here from, adapt this to your needs\n        String user = &quot;user&quot;; \n        String password = &quot;qwerty&quot;;\n\n        String url = String.format(&quot;mongodb://%s:%s@server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot;,\n                user, password);\n        Map&lt;String, Object&gt; mongoProperties = Map.of(&quot;mongo-url&quot;, url);\n        environment.getPropertySources()\n                .addLast(new MapPropertySource(&quot;mongo-properties&quot;, mongoProperties));\n    }\n}\n</code></pre>\n<p>Register that post processor with <code>spring.factories</code> file. Create this file in <code>META-INF</code> directory. By maven conventions it should be <code>main/java/resources/META-INF/spring.factories</code></p>\n<p>There you specify the class name with package</p>\n<pre><code>org.springframework.boot.env.EnvironmentPostProcessor=com.example.config.MongoPropertiesEnvironmentPostProcessor\n</code></pre>\n<p>So, during startup your property <code>mongo-url</code> will be registered in <code>Environment</code> and will be also accessible with the placeholder.</p>\n<p>From Java code:</p>\n<pre><code>@Value(&quot;${mongo-url}&quot;)\nprivate String mongoUrl;\n</code></pre>\n<p>In xml:</p>\n<pre><code>&lt;mongo:db-factory id=&quot;devMongoConnection&quot; client-uri=&quot;${mongo-url}&quot;/&gt;\n</code></pre>\n<hr />\n<h1>Second option</h1>\n<p>Another option if you want to inject some bean that makes a call to the external API:</p>\n<p>Declare an <code>ApplicationListener&lt;ContextRefreshedEvent&gt;</code>:</p>\n<pre><code>@Service\nclass MongoPropertyInjector implements ApplicationListener&lt;ContextRefreshedEvent&gt; {\n\n    @Autowired\n    private ConfigurableEnvironment configurableEnvironment;\n\n    @Override\n    public void onApplicationEvent(ContextRefreshedEvent event) {\n        // I don't know where you get these credentials here, adapt this to your needs, you can autowire a bean that makes a call to external API and make a call here\n        String user = &quot;user&quot;;\n        String password = &quot;qwerty&quot;;\n\n        String url = String.format(&quot;mongodb://%s:%s@server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot;,\n                user, password);\n        Map&lt;String, Object&gt; mongoProperties = Map.of(\n                &quot;mongo-url&quot;, url\n        );\n        configurableEnvironment.getPropertySources()\n                .addLast(new MapPropertySource(&quot;mongo-properties&quot;, mongoProperties));\n    }\n}\n</code></pre>\n<p>After this you can use the placeholder <code>${mongo-url}</code> both in your Java configs and in XML configs, just like in the example above.</p>\n"}],"owner":{"account_id":8850856,"reputation":351,"user_id":6610176,"accept_rate":33,"display_name":"SVill"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75621555,"answer_count":2,"score":0,"last_activity_date":1677970489,"creation_date":1677617713,"question_id":75597205,"body_markdown":"I&#39;m trying to make some modifications to our Spring config file, for connecting to mongo.  Right now, we simply define the URL \r\n\r\n```\r\n&lt;mongo:db-factory id=&quot;mongo_connection&quot; client-uri=&quot;mongodb://server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot; /&gt;\r\n```\r\n\r\nI&#39;m now setting up authentication on the mongo server, which would change the connection string to `mongodb://username:password@server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test`.  However, I can&#39;t hardcode these into the XML; they will come from a different API on startup.  \r\n\r\nI know how to setup the URL in a seperate Java file:\r\n\r\n```\r\npublic class MongoConstructor {\r\n\r\n    String username = secret_username;\r\n    String password = secret_password;\r\n    String db = &quot;db_name&quot;\r\n    String rs = &quot;test&quot;\r\n\r\n    //uri=&quot;mongodb://server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot;\r\n\r\n    public String getMongoConstructor() {\r\n        return &quot;mongodb://&quot; + username + &quot;:&quot; + password + &quot;@server_1:27000,server_2:27000,server_3:27000/&quot; + db + &quot;?replicaSet=&quot; + rs;\r\n    }\r\n}\r\n```\r\n\r\nIs there anyway for me to create that value before the bean is registered, and pass that value into the config file?  If not, is there anyway for me to override the config in the xml file later on?\r\n\r\nEDIT: Having done more research, I&#39;ve discovered plaveholders for Spring, which seems to be what I&#39;m looking for.  However, I&#39;m still struggling.  So far, I&#39;ve made the change in the XML file:\r\n\r\n```\r\n&lt;beans&gt;\r\n&lt;mongo:db-factory id=&quot;devMongoConnection&quot;\r\n                          client-uri=&quot;mongodb://{username}:{password}@server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot; /&gt;\r\n&lt;/beans&gt;\r\n```\r\n\r\nSince I can&#39;t use a properties file to store the credential information, I&#39;ve made a Java file to initialize the username and password:\r\n\r\n```\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\npublic class SecretImpl {\r\n\r\n    Secret secret = Internal_API_For_Secrets();\r\n\r\n    public SecretImpl(String username, String password) {\r\n    }\r\n\r\n    @Bean(name=&quot;username&quot;)\r\n    public String username() {\r\n        return secret.getUsername();\r\n    }\r\n\r\n    @Bean(name=&quot;password&quot;)\r\n    public String password() {\r\n        return secret.getUsername();\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhat I&#39;m struggling with is getting these secrets into the xml file. All the documentation I&#39;ve seen so far seems to assume that I would use either xml or Java, not a mix.  They also seem to assume that the password can be placed in a properties files as plain text.","title":"How to setup a variable mongo client-uri in Spring Framework XML config","body":"<p>I'm trying to make some modifications to our Spring config file, for connecting to mongo.  Right now, we simply define the URL</p>\n<pre><code>&lt;mongo:db-factory id=&quot;mongo_connection&quot; client-uri=&quot;mongodb://server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot; /&gt;\n</code></pre>\n<p>I'm now setting up authentication on the mongo server, which would change the connection string to <code>mongodb://username:password@server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test</code>.  However, I can't hardcode these into the XML; they will come from a different API on startup.</p>\n<p>I know how to setup the URL in a seperate Java file:</p>\n<pre><code>public class MongoConstructor {\n\n    String username = secret_username;\n    String password = secret_password;\n    String db = &quot;db_name&quot;\n    String rs = &quot;test&quot;\n\n    //uri=&quot;mongodb://server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot;\n\n    public String getMongoConstructor() {\n        return &quot;mongodb://&quot; + username + &quot;:&quot; + password + &quot;@server_1:27000,server_2:27000,server_3:27000/&quot; + db + &quot;?replicaSet=&quot; + rs;\n    }\n}\n</code></pre>\n<p>Is there anyway for me to create that value before the bean is registered, and pass that value into the config file?  If not, is there anyway for me to override the config in the xml file later on?</p>\n<p>EDIT: Having done more research, I've discovered plaveholders for Spring, which seems to be what I'm looking for.  However, I'm still struggling.  So far, I've made the change in the XML file:</p>\n<pre><code>&lt;beans&gt;\n&lt;mongo:db-factory id=&quot;devMongoConnection&quot;\n                          client-uri=&quot;mongodb://{username}:{password}@server_1:27000,server_2:27000,server_3:27000/db_name?replicaSet=test&quot; /&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>Since I can't use a properties file to store the credential information, I've made a Java file to initialize the username and password:</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class SecretImpl {\n\n    Secret secret = Internal_API_For_Secrets();\n\n    public SecretImpl(String username, String password) {\n    }\n\n    @Bean(name=&quot;username&quot;)\n    public String username() {\n        return secret.getUsername();\n    }\n\n    @Bean(name=&quot;password&quot;)\n    public String password() {\n        return secret.getUsername();\n    }\n}\n\n</code></pre>\n<p>What I'm struggling with is getting these secrets into the xml file. All the documentation I've seen so far seems to assume that I would use either xml or Java, not a mix.  They also seem to assume that the password can be placed in a properties files as plain text.</p>\n"},{"tags":["java","servlets"],"answers":[{"tags":[],"owner":{"account_id":3619169,"reputation":9458,"user_id":3018377,"accept_rate":64,"display_name":"LHA"},"down_vote_count":5,"up_vote_count":8,"is_accepted":true,"score":3,"last_activity_date":1530124565,"creation_date":1386871213,"answer_id":20550801,"question_id":20550746,"body_markdown":"HTTP GET method should NEVER have a body section. You can pass your parameters using URL query string or HTTP headers.\r\n\r\nIf you want to have a BODY section. Use POST or other methods.","title":"How do I send an HTTP GET with a body?","body":"<p>HTTP GET method should NEVER have a body section. You can pass your parameters using URL query string or HTTP headers.</p>\n\n<p>If you want to have a BODY section. Use POST or other methods.</p>\n"},{"tags":[],"owner":{"account_id":3670630,"reputation":9935,"user_id":3057934,"display_name":"vzamanillo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1644382139,"creation_date":1386873131,"answer_id":20551415,"question_id":20550746,"body_markdown":"You can extends the HttpEntityEnclosingRequestBase class to override the inherited [org.apache.http.client.methods.HttpRequestBase.getMethod()][1] but by fact HTTP GET does not support body request and maybe you will experience trouble with some HTTP servers, use at your own risk :)\r\n\r\n    public class MyHttpGetWithEntity extends HttpEntityEnclosingRequestBase {\r\n        public final static String GET_METHOD = &quot;GET&quot;;\r\n        \r\n        public MyHttpGetWithEntity(final URI uri) {\r\n            super();\r\n            setURI(uri);\r\n        }\r\n        \r\n        public MyHttpGetWithEntity(final String uri) {\r\n            super();\r\n            setURI(URI.create(uri));\r\n        }\r\n    \r\n        @Override\r\n        public String getMethod() {\r\n            return GET_METHOD;\r\n        }\r\n    }\r\n    \r\n    then\r\n    \r\n    \r\n        import org.apache.commons.io.IOUtils;\r\n        import org.apache.http.HttpResponse;\r\n        import org.apache.http.client.HttpClient;\r\n        import org.apache.http.entity.StringEntity;\r\n        import org.apache.http.impl.client.DefaultHttpClient;\r\n        \r\n        public class HttpEntityGet {\r\n        \r\n        \tpublic static void main(String[] args) {\r\n        \t\t\r\n        \t\ttry {\r\n        \t\t\tHttpClient client = new DefaultHttpClient();\r\n        \t\t\tMyHttpGetWithEntity e = new MyHttpGetWithEntity(&quot;http://....&quot;);\r\n        \t\t\te.setEntity(new StringEntity(&quot;mystringentity&quot;));\r\n        \t\t\tHttpResponse response = client.execute(e);\r\n        \t\t\tSystem.out.println(IOUtils.toString(response.getEntity().getContent()));\r\n        \t\t} catch (Exception e) {\r\n        \t\t\tSystem.err.println(e);\r\n        \t\t}\r\n        \t}\r\n        } \r\n    \r\n      \r\n\t\t\t\r\n\r\n\r\n  [1]: https://hc.apache.org/httpcomponents-client-4.3.x/httpclient/apidocs/org/apache/http/client/methods/HttpRequestBase.html#getMethod%28%29\r\n","title":"How do I send an HTTP GET with a body?","body":"<p>You can extends the HttpEntityEnclosingRequestBase class to override the inherited <a href=\"https://hc.apache.org/httpcomponents-client-4.3.x/httpclient/apidocs/org/apache/http/client/methods/HttpRequestBase.html#getMethod%28%29\" rel=\"nofollow noreferrer\">org.apache.http.client.methods.HttpRequestBase.getMethod()</a> but by fact HTTP GET does not support body request and maybe you will experience trouble with some HTTP servers, use at your own risk :)</p>\n<pre><code>public class MyHttpGetWithEntity extends HttpEntityEnclosingRequestBase {\n    public final static String GET_METHOD = &quot;GET&quot;;\n    \n    public MyHttpGetWithEntity(final URI uri) {\n        super();\n        setURI(uri);\n    }\n    \n    public MyHttpGetWithEntity(final String uri) {\n        super();\n        setURI(URI.create(uri));\n    }\n\n    @Override\n    public String getMethod() {\n        return GET_METHOD;\n    }\n}\n\nthen\n\n\n    import org.apache.commons.io.IOUtils;\n    import org.apache.http.HttpResponse;\n    import org.apache.http.client.HttpClient;\n    import org.apache.http.entity.StringEntity;\n    import org.apache.http.impl.client.DefaultHttpClient;\n    \n    public class HttpEntityGet {\n    \n        public static void main(String[] args) {\n            \n            try {\n                HttpClient client = new DefaultHttpClient();\n                MyHttpGetWithEntity e = new MyHttpGetWithEntity(&quot;http://....&quot;);\n                e.setEntity(new StringEntity(&quot;mystringentity&quot;));\n                HttpResponse response = client.execute(e);\n                System.out.println(IOUtils.toString(response.getEntity().getContent()));\n            } catch (Exception e) {\n                System.err.println(e);\n            }\n        }\n    } \n\n  \n        \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4843925,"reputation":7540,"user_id":3908170,"accept_rate":100,"display_name":"DarkCygnus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677970130,"creation_date":1677970130,"answer_id":75639158,"question_id":20550746,"body_markdown":"Using `java.net.http.HttpRequest`, when building one with a RequestBuilder instead of using the `.GET()` method that doesn&#39;t take paramenters, user the `.method(method, bodyPublisher)`\r\n\r\n    HttpClient clientFwd = HttpClient.newHttpClient();\r\n    HttpRequest get = HttpRequest.newBuilder()\r\n        \t\t.uri(URI.create(YOURURI))\r\n                //GET, POST, PUT,..\r\n        \t\t.method(&quot;GET&quot;, HttpRequest.BodyPublishers.ofString(bodyGet))\r\n        \t\t.header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n        \t\t.header(&quot;Authorization&quot;, &quot;Bearer &quot;+TOKEN)\r\n        \t\t.build();\r\n\r\nThen `get.send()` your HttpRequest to get your response.","title":"How do I send an HTTP GET with a body?","body":"<p>Using <code>java.net.http.HttpRequest</code>, when building one with a RequestBuilder instead of using the <code>.GET()</code> method that doesn't take paramenters, user the <code>.method(method, bodyPublisher)</code></p>\n<pre><code>HttpClient clientFwd = HttpClient.newHttpClient();\nHttpRequest get = HttpRequest.newBuilder()\n            .uri(URI.create(YOURURI))\n            //GET, POST, PUT,..\n            .method(&quot;GET&quot;, HttpRequest.BodyPublishers.ofString(bodyGet))\n            .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n            .header(&quot;Authorization&quot;, &quot;Bearer &quot;+TOKEN)\n            .build();\n</code></pre>\n<p>Then <code>get.send()</code> your HttpRequest to get your response.</p>\n"}],"owner":{"account_id":24553,"reputation":15108,"user_id":62539,"accept_rate":88,"display_name":"MedicineMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14694,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":20550801,"answer_count":3,"score":8,"last_activity_date":1677970130,"creation_date":1386871018,"question_id":20550746,"body_markdown":"Boss wants us to send a HTTP GET with parameters in the body.  I can&#39;t figure out how to do this using org.apache.commons.httpclient.methods.GetMethod or java.net.HttpURLConnection;.  \r\n\r\nGetMethod doesn&#39;t seem to take any parameters, and I&#39;m not sure how to use HttpURLConnection for this.","title":"How do I send an HTTP GET with a body?","body":"<p>Boss wants us to send a HTTP GET with parameters in the body.  I can't figure out how to do this using org.apache.commons.httpclient.methods.GetMethod or java.net.HttpURLConnection;.  </p>\n\n<p>GetMethod doesn't seem to take any parameters, and I'm not sure how to use HttpURLConnection for this.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":3851476,"reputation":15138,"user_id":3191557,"accept_rate":100,"display_name":"dhke"},"score":2,"creation_date":1435251657,"post_id":31056215,"comment_id":50134046,"body_markdown":"Not a duplicate, but probably worth reading: https://stackoverflow.com/questions/18313323/how-do-i-call-the-default-deserializer-from-a-custom-deserializer-in-jackson. The `BeanSerializerModifier` part seems to apply to serialization, too.","body":"Not a duplicate, but probably worth reading: <a href=\"https://stackoverflow.com/questions/18313323/how-do-i-call-the-default-deserializer-from-a-custom-deserializer-in-jackson\" title=\"how do i call the default deserializer from a custom deserializer in jackson\">stackoverflow.com/questions/18313323/&hellip;</a>. The <code>BeanSerializerModifier</code> part seems to apply to serialization, too."},{"owner":{"account_id":2557108,"reputation":2556,"user_id":2218838,"accept_rate":58,"display_name":"Anderson"},"score":0,"creation_date":1641712245,"post_id":31056215,"comment_id":124873712,"body_markdown":"Worth reading: https://www.baeldung.com/jackson-call-default-serializer-from-custom-serializer  , for why `BeanSerializerModifier` is necessary.","body":"Worth reading: <a href=\"https://www.baeldung.com/jackson-call-default-serializer-from-custom-serializer\" rel=\"nofollow noreferrer\">baeldung.com/&hellip;</a>  , for why <code>BeanSerializerModifier</code> is necessary."}],"answers":[{"tags":[],"owner":{"account_id":1952668,"reputation":7464,"user_id":1756430,"accept_rate":88,"display_name":"Sam Berry"},"down_vote_count":1,"up_vote_count":32,"is_accepted":true,"score":31,"last_activity_date":1448413724,"creation_date":1435256593,"answer_id":31057934,"question_id":31056215,"body_markdown":"A **`BeanSerializerModifier`** will provide you access to the default serialization.\r\n\r\n## Inject a default serializer into the custom serializer\r\n\r\n    public class MyClassSerializer extends JsonSerializer&lt;MyClass&gt; {\r\n        private final JsonSerializer&lt;Object&gt; defaultSerializer;\r\n    \r\n        public MyClassSerializer(JsonSerializer&lt;Object&gt; defaultSerializer) {\r\n            this.defaultSerializer = checkNotNull(defaultSerializer);\r\n        }\r\n    \r\n        @Override\r\n        public void serialize(MyClass myclass, JsonGenerator gen, SerializerProvider provider) throws IOException {\r\n            if (myclass.getSomeProperty() == true) {\r\n                provider.setAttribute(&quot;special&quot;, true);\r\n            }\r\n            defaultSerializer.serialize(myclass, gen, provider);\r\n        }\r\n    }\r\n\r\n\r\n## Create a `BeanSerializerModifier` for `MyClass`\r\n\r\n    public class MyClassSerializerModifier extends BeanSerializerModifier {\r\n        @Override\r\n        public JsonSerializer&lt;?&gt; modifySerializer(SerializationConfig config, BeanDescription beanDesc, JsonSerializer&lt;?&gt; serializer) {\r\n            if (beanDesc.getBeanClass() == MySpecificClass.class) {\r\n                return new MyClassSerializer((JsonSerializer&lt;Object&gt;) serializer);\r\n            }\r\n            return serializer;\r\n        }\r\n    }\r\n\r\n## Register the serializer modifier\r\n\r\n    ObjectMapper om = new ObjectMapper()\r\n            .registerModule(new SimpleModule()\r\n                    .setSerializerModifier(new MyClassSerializerModifier()));\r\n","title":"How to access default jackson serialization in a custom serializer","body":"<p>A <strong><code>BeanSerializerModifier</code></strong> will provide you access to the default serialization.</p>\n\n<h2>Inject a default serializer into the custom serializer</h2>\n\n<pre><code>public class MyClassSerializer extends JsonSerializer&lt;MyClass&gt; {\n    private final JsonSerializer&lt;Object&gt; defaultSerializer;\n\n    public MyClassSerializer(JsonSerializer&lt;Object&gt; defaultSerializer) {\n        this.defaultSerializer = checkNotNull(defaultSerializer);\n    }\n\n    @Override\n    public void serialize(MyClass myclass, JsonGenerator gen, SerializerProvider provider) throws IOException {\n        if (myclass.getSomeProperty() == true) {\n            provider.setAttribute(\"special\", true);\n        }\n        defaultSerializer.serialize(myclass, gen, provider);\n    }\n}\n</code></pre>\n\n<h2>Create a <code>BeanSerializerModifier</code> for <code>MyClass</code></h2>\n\n<pre><code>public class MyClassSerializerModifier extends BeanSerializerModifier {\n    @Override\n    public JsonSerializer&lt;?&gt; modifySerializer(SerializationConfig config, BeanDescription beanDesc, JsonSerializer&lt;?&gt; serializer) {\n        if (beanDesc.getBeanClass() == MySpecificClass.class) {\n            return new MyClassSerializer((JsonSerializer&lt;Object&gt;) serializer);\n        }\n        return serializer;\n    }\n}\n</code></pre>\n\n<h2>Register the serializer modifier</h2>\n\n<pre><code>ObjectMapper om = new ObjectMapper()\n        .registerModule(new SimpleModule()\n                .setSerializerModifier(new MyClassSerializerModifier()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4539241,"reputation":187,"user_id":3687590,"display_name":"LawrenceMouarkach"},"down_vote_count":7,"up_vote_count":10,"is_accepted":false,"score":3,"last_activity_date":1639390211,"creation_date":1513272813,"answer_id":47819105,"question_id":31056215,"body_markdown":"    @JsonSerialize(using = MyClassSerializer.class)\r\n    public class MyClass {\r\n    ...\r\n    }\r\n\r\n    public class MyClassSerializer extends JsonSerializer&lt;MyClass&gt; {\r\n        @Override\r\n         public void serialize(MyClass myClass, JsonGenerator generator, \r\n                          SerializerProvider provider) \r\n            throws JsonGenerationException, IOException {\r\n            if (myClass.getSomeProperty() == someCalculationResult) {\r\n                provider.setAttribute(&quot;special&quot;, true);\r\n            } else {\r\n                provider.defaultSerializeValue(myClass, generator);\r\n            }\r\n        }  \r\n    }\r\n\r\nif you are just writing an object as normal use the above","title":"How to access default jackson serialization in a custom serializer","body":"<pre><code>@JsonSerialize(using = MyClassSerializer.class)\npublic class MyClass {\n...\n}\n\npublic class MyClassSerializer extends JsonSerializer&lt;MyClass&gt; {\n    @Override\n     public void serialize(MyClass myClass, JsonGenerator generator, \n                      SerializerProvider provider) \n        throws JsonGenerationException, IOException {\n        if (myClass.getSomeProperty() == someCalculationResult) {\n            provider.setAttribute(&quot;special&quot;, true);\n        } else {\n            provider.defaultSerializeValue(myClass, generator);\n        }\n    }  \n}\n</code></pre>\n<p>if you are just writing an object as normal use the above</p>\n"},{"tags":[],"owner":{"account_id":2107258,"reputation":21,"user_id":1873314,"display_name":"Alex Block"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538146659,"creation_date":1538146659,"answer_id":52557969,"question_id":31056215,"body_markdown":"You can use @JsonGetter instead of using a custom serializer if that&#39;s the only change you want to make.\r\n\r\n\tpublic class MyClass{\r\n\t    \r\n\t    @JsonGetter(&quot;special&quot;)\r\n\t    protected boolean getSpecialForJackson() {\r\n\t    \treturn myClass.getSomeProperty() == someCalculationResult;\r\n        }\r\n\r\n\t}\r\n\r\n","title":"How to access default jackson serialization in a custom serializer","body":"<p>You can use @JsonGetter instead of using a custom serializer if that's the only change you want to make.</p>\n\n<pre><code>public class MyClass{\n\n    @JsonGetter(\"special\")\n    protected boolean getSpecialForJackson() {\n        return myClass.getSomeProperty() == someCalculationResult;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":953817,"reputation":493,"user_id":979478,"display_name":"Pawel Zieminski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677969743,"creation_date":1549694634,"answer_id":54603921,"question_id":31056215,"body_markdown":"To add to the chosen answer, the serializer implementation may also have to implement `ContextualSerializer` and `ResolvableSerializer` interfaces. Please take a look at a related issue here \r\nhttps://github.com/FasterXML/jackson-dataformat-xml/issues/259\r\n\r\n    public class MyClassSerializer extends JsonSerializer&lt;MyClass&gt;\r\n        implements ContextualSerializer, ResolvableSerializer {\r\n    private final JsonSerializer&lt;Object&gt; defaultSerializer;\r\n\r\n    public MyClassSerializer(JsonSerializer&lt;Object&gt; defaultSerializer) {\r\n        this.defaultSerializer = checkNotNull(defaultSerializer);\r\n    }\r\n\r\n    @Override\r\n    public void serialize(MyClass myclass, JsonGenerator gen, SerializerProvider provider)\r\n            throws IOException {\r\n        if (myclass.getSomeProperty() == true) {\r\n            provider.setAttribute(&quot;special&quot;, true);\r\n        }\r\n        defaultSerializer.serialize(myclass, gen, provider);\r\n    }\r\n\r\n    @Override\r\n    public JsonSerializer&lt;?&gt; createContextual(SerializerProvider prov, BeanProperty property)\r\n            throws JsonMappingException {\r\n        if (defaultSerializer instanceof ContextualSerializer) {\r\n            JsonSerializer&lt;?&gt; contextual = ((ContextualSerializer)defaultSerializer).createContextual(prov, property);\r\n            return new MyClassSerializer((JsonSerializer&lt;Object&gt;)contextual);\r\n        }\r\n        return new MyClassSerializer(defaultSerializer);\r\n    }\r\n\r\n    @Override\r\n    public void resolve(SerializerProvider provider) throws JsonMappingException {\r\n        if (defaultSerializer instanceof ResolvableSerializer) {\r\n            ((ResolvableSerializer)defaultSerializer).resolve(provider);\r\n        }\r\n    }\r\n}\r\n\r\nAlso, if you are using Spring Boot, adding a Jackson module is as simple as \r\n\r\n    @Component\r\n    public class MyModule extends SimpleModule {\r\n    \r\n        @Override\r\n        public void setupModule(SetupContext context) {\r\n            context.addBeanSerializerModifier(new MyBeanSerializerModifier());\r\n            super.setupModule(context);\r\n        }\r\n    }","title":"How to access default jackson serialization in a custom serializer","body":"<p>To add to the chosen answer, the serializer implementation may also have to implement <code>ContextualSerializer</code> and <code>ResolvableSerializer</code> interfaces. Please take a look at a related issue here\n<a href=\"https://github.com/FasterXML/jackson-dataformat-xml/issues/259\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-dataformat-xml/issues/259</a></p>\n<pre><code>public class MyClassSerializer extends JsonSerializer&lt;MyClass&gt;\n    implements ContextualSerializer, ResolvableSerializer {\nprivate final JsonSerializer&lt;Object&gt; defaultSerializer;\n\npublic MyClassSerializer(JsonSerializer&lt;Object&gt; defaultSerializer) {\n    this.defaultSerializer = checkNotNull(defaultSerializer);\n}\n\n@Override\npublic void serialize(MyClass myclass, JsonGenerator gen, SerializerProvider provider)\n        throws IOException {\n    if (myclass.getSomeProperty() == true) {\n        provider.setAttribute(&quot;special&quot;, true);\n    }\n    defaultSerializer.serialize(myclass, gen, provider);\n}\n\n@Override\npublic JsonSerializer&lt;?&gt; createContextual(SerializerProvider prov, BeanProperty property)\n        throws JsonMappingException {\n    if (defaultSerializer instanceof ContextualSerializer) {\n        JsonSerializer&lt;?&gt; contextual = ((ContextualSerializer)defaultSerializer).createContextual(prov, property);\n        return new MyClassSerializer((JsonSerializer&lt;Object&gt;)contextual);\n    }\n    return new MyClassSerializer(defaultSerializer);\n}\n\n@Override\npublic void resolve(SerializerProvider provider) throws JsonMappingException {\n    if (defaultSerializer instanceof ResolvableSerializer) {\n        ((ResolvableSerializer)defaultSerializer).resolve(provider);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>Also, if you are using Spring Boot, adding a Jackson module is as simple as</p>\n<pre><code>@Component\npublic class MyModule extends SimpleModule {\n\n    @Override\n    public void setupModule(SetupContext context) {\n        context.addBeanSerializerModifier(new MyBeanSerializerModifier());\n        super.setupModule(context);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":365547,"reputation":4033,"user_id":710530,"accept_rate":67,"display_name":"DavidA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26722,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":31057934,"answer_count":4,"score":33,"last_activity_date":1677969743,"creation_date":1435250961,"question_id":31056215,"body_markdown":"I want to create a custom serializer which does a tiny bit of work and then leaves the rest for default serialization. \r\n\r\nFor example:\r\n\r\n    @JsonSerialize(using = MyClassSerializer.class)\r\n    public class MyClass {\r\n      ...\r\n    }\r\n    \r\n    public class MyClassSerializer extends JsonSerializer&lt;MyClass&gt; {\r\n    \t@Override\r\n    \tpublic void serialize(MyClass myClass, JsonGenerator generator, \r\n    \t\t\t              SerializerProvider provider) \r\n    \t\t\tthrows JsonGenerationException, IOException {\r\n            if (myClass.getSomeProperty() == someCalculationResult) {\r\n    \t\t\tprovider.setAttribute(&quot;special&quot;, true);\r\n            }\r\n    \t\tgenerator.writeObject(myClass);\r\n    \t}  \r\n    }\r\n\r\nWith the idea of creating other custom serializers for aggregated objects which behave differently based on the &#39;special&#39; attribute value.  However, the above code does not work, as it unsurprisingly goes into an infinite recursion.\r\n\r\nIs there a way to tell jackson to use default serialization once I have set the attribute?  I don&#39;t really want enumerate all the properties like many custom serializers as the class is fairly complex and I don&#39;t want to have to do dual maintenance with the serializer every time I change the class.","title":"How to access default jackson serialization in a custom serializer","body":"<p>I want to create a custom serializer which does a tiny bit of work and then leaves the rest for default serialization. </p>\n\n<p>For example:</p>\n\n<pre><code>@JsonSerialize(using = MyClassSerializer.class)\npublic class MyClass {\n  ...\n}\n\npublic class MyClassSerializer extends JsonSerializer&lt;MyClass&gt; {\n    @Override\n    public void serialize(MyClass myClass, JsonGenerator generator, \n                          SerializerProvider provider) \n            throws JsonGenerationException, IOException {\n        if (myClass.getSomeProperty() == someCalculationResult) {\n            provider.setAttribute(\"special\", true);\n        }\n        generator.writeObject(myClass);\n    }  \n}\n</code></pre>\n\n<p>With the idea of creating other custom serializers for aggregated objects which behave differently based on the 'special' attribute value.  However, the above code does not work, as it unsurprisingly goes into an infinite recursion.</p>\n\n<p>Is there a way to tell jackson to use default serialization once I have set the attribute?  I don't really want enumerate all the properties like many custom serializers as the class is fairly complex and I don't want to have to do dual maintenance with the serializer every time I change the class.</p>\n"},{"tags":["java","executable-jar"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1677969778,"post_id":75639094,"comment_id":133443293,"body_markdown":"That error means your code, or code you depend on, was compiled with `--enable-preview`. As [preview features](https://openjdk.org/jeps/12) are subject to change and exist for a specific major version of Java, they are opt-in at both compile-time and run-time. Thus, you must run your JAR file with the `--enable-preview` option if you want it to work. There&#39;s really no way around that (other than removing any reliance on preview features from your code and/or removing any dependencies that use preview features). Note Java 19 has [multiple preview features](https://openjdk.org/projects/jdk/19/).","body":"That error means your code, or code you depend on, was compiled with <code>--enable-preview</code>. As <a href=\"https://openjdk.org/jeps/12\" rel=\"nofollow noreferrer\">preview features</a> are subject to change and exist for a specific major version of Java, they are opt-in at both compile-time and run-time. Thus, you must run your JAR file with the <code>--enable-preview</code> option if you want it to work. There&#39;s really no way around that (other than removing any reliance on preview features from your code and/or removing any dependencies that use preview features). Note Java 19 has <a href=\"https://openjdk.org/projects/jdk/19/\" rel=\"nofollow noreferrer\">multiple preview features</a>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1677969982,"post_id":75639094,"comment_id":133443321,"body_markdown":"Also, note that, according to the error, you need Java 19 at run-time (the class file version is `16.XX`, which [corresponds to Java 19](https://stackoverflow.com/questions/9170832/list-of-java-class-file-format-major-version-numbers)). Code compiled with newer versions of Java cannot be executed by older versions of Java. The JDK includes a JRE, but if you&#39;re looking for a JRE-only package, then I recommend looking elsewhere than Oracle (e.g., [Adoptium](https://adoptium.net/temurin/releases/)).","body":"Also, note that, according to the error, you need Java 19 at run-time (the class file version is <code>16.XX</code>, which <a href=\"https://stackoverflow.com/questions/9170832/list-of-java-class-file-format-major-version-numbers\">corresponds to Java 19</a>). Code compiled with newer versions of Java cannot be executed by older versions of Java. The JDK includes a JRE, but if you&#39;re looking for a JRE-only package, then I recommend looking elsewhere than Oracle (e.g., <a href=\"https://adoptium.net/temurin/releases/\" rel=\"nofollow noreferrer\">Adoptium</a>)."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1677970114,"post_id":75639094,"comment_id":133443337,"body_markdown":"That all said, is your question more about what a `*.bat` file is and how to use one to solve your problem?","body":"That all said, is your question more about what a <code>*.bat</code> file is and how to use one to solve your problem?"},{"owner":{"account_id":27936858,"reputation":1,"user_id":21333679,"display_name":"Jo&#227;o Vitor da Silva"},"score":0,"creation_date":1678064407,"post_id":75639094,"comment_id":133455499,"body_markdown":"I really just want to fix my problem and I was thinking of how I could use a .bat file to do so, if it works, so I&#39;d say it&#39;s the second option","body":"I really just want to fix my problem and I was thinking of how I could use a .bat file to do so, if it works, so I&#39;d say it&#39;s the second option"},{"owner":{"account_id":27936858,"reputation":1,"user_id":21333679,"display_name":"Jo&#227;o Vitor da Silva"},"score":0,"creation_date":1678064635,"post_id":75639094,"comment_id":133455528,"body_markdown":"also about the JDK, I heard it has a JRE built in, so I tried installing my java 8 JRE which I also had, and I still  got the same problem, and other java relian applications/games won&#39;t run now.\n\nSo it seems I&#39;m compiling and running with the same version, but I don&#39;t know how to or if I even can make the other applications use the java 19 jdk instead of the other jre I had","body":"also about the JDK, I heard it has a JRE built in, so I tried installing my java 8 JRE which I also had, and I still  got the same problem, and other java relian applications/games won&#39;t run now.  So it seems I&#39;m compiling and running with the same version, but I don&#39;t know how to or if I even can make the other applications use the java 19 jdk instead of the other jre I had"},{"owner":{"account_id":27936858,"reputation":1,"user_id":21333679,"display_name":"Jo&#227;o Vitor da Silva"},"score":0,"creation_date":1678064705,"post_id":75639094,"comment_id":133455539,"body_markdown":"about the preview features, how can I opt-out from them at run time, and how could I check which features rely on it?","body":"about the preview features, how can I opt-out from them at run time, and how could I check which features rely on it?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1678074073,"post_id":75639094,"comment_id":133456585,"body_markdown":"As I mentioned, preview features are opt-in. You &quot;opt-out&quot; of them by not opting in. And code compiled using preview features cannot be executed without enabling preview features. That&#39;s just how preview features work. Note the error talks about `Aula3` specifically. Given the lack of a package name, I can only assume this code was not written by any &quot;official&quot; entity. In other words, I assume this code was written by you. What happens when you try to _compile_ **without** `--enable-preview`. Do you get any errors?","body":"As I mentioned, preview features are opt-in. You &quot;opt-out&quot; of them by not opting in. And code compiled using preview features cannot be executed without enabling preview features. That&#39;s just how preview features work. Note the error talks about <code>Aula3</code> specifically. Given the lack of a package name, I can only assume this code was not written by any &quot;official&quot; entity. In other words, I assume this code was written by you. What happens when you try to <i>compile</i> <b>without</b> <code>--enable-preview</code>. Do you get any errors?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1678074334,"post_id":75639094,"comment_id":133456629,"body_markdown":"And the reason I brought up Java versions is because I find it strange you have a JRE 8 installed in the first place. Therefore, I guessed it was because you were told you need a &quot;JDK at compile time&quot; and a &quot;JRE at run time&quot;. I just wanted to point out that a JDK is basically a JRE with development tools included (e.g., `javac`). And then I assumed you didn&#39;t have a Java 19 JRE because you couldn&#39;t find a download of one from Oracle. They don&#39;t ship JRE-only packages anymore for newer versions of Java. Hence the link to another vendor (Adoptium).","body":"And the reason I brought up Java versions is because I find it strange you have a JRE 8 installed in the first place. Therefore, I guessed it was because you were told you need a &quot;JDK at compile time&quot; and a &quot;JRE at run time&quot;. I just wanted to point out that a JDK is basically a JRE with development tools included (e.g., <code>javac</code>). And then I assumed you didn&#39;t have a Java 19 JRE because you couldn&#39;t find a download of one from Oracle. They don&#39;t ship JRE-only packages anymore for newer versions of Java. Hence the link to another vendor (Adoptium)."},{"owner":{"account_id":27936858,"reputation":1,"user_id":21333679,"display_name":"Jo&#227;o Vitor da Silva"},"score":0,"creation_date":1678231988,"post_id":75639094,"comment_id":133492781,"body_markdown":"The error I get when running without `--enable-preview` is described on the post :\n\n`Error: LinkageError occurred while loading main class Aula3 java.lang.UnsupportedClassVersionError: Preview features are not enabled for Aula3 (class file version 63.65535). Try running with &#39;--enable-preview&#39;`","body":"The error I get when running without <code>--enable-preview</code> is described on the post :  <code>Error: LinkageError occurred while loading main class Aula3 java.lang.UnsupportedClassVersionError: Preview features are not enabled for Aula3 (class file version 63.65535). Try running with &#39;--enable-preview&#39;</code>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1678232085,"post_id":75639094,"comment_id":133492798,"body_markdown":"That&#39;s the error you get when you try to run the already-compiled program. I&#39;m asking if you get any errors if you **compile** without `--enable-preview`. Specifically, when you compile the `Aula3` class.","body":"That&#39;s the error you get when you try to run the already-compiled program. I&#39;m asking if you get any errors if you <b>compile</b> without <code>--enable-preview</code>. Specifically, when you compile the <code>Aula3</code> class."},{"owner":{"account_id":27936858,"reputation":1,"user_id":21333679,"display_name":"Jo&#227;o Vitor da Silva"},"score":0,"creation_date":1678232266,"post_id":75639094,"comment_id":133492818,"body_markdown":"the reason I had both a JRE and a JDK in the first place is because I had the JRE first for games and such which require it, then added the JDK and uninstalled the JRE, now with only the JDK the games don&#39;t seem to be able to run without that specific JRE so I reinstalled it. I don&#39;t know how to make the games recognize the newer java version","body":"the reason I had both a JRE and a JDK in the first place is because I had the JRE first for games and such which require it, then added the JDK and uninstalled the JRE, now with only the JDK the games don&#39;t seem to be able to run without that specific JRE so I reinstalled it. I don&#39;t know how to make the games recognize the newer java version"},{"owner":{"account_id":27936858,"reputation":1,"user_id":21333679,"display_name":"Jo&#227;o Vitor da Silva"},"score":0,"creation_date":1678232496,"post_id":75639094,"comment_id":133492849,"body_markdown":"Compiled code runs without any errors, with or without `--enable-preview` (I in fact never compiled manually using that option). The problem is that the command that&#39;s supposed to turn my .class into a .jar isn&#39;t recognized by the console (which is another problem I haven&#39;t been able to fix), so I&#39;m forced to resort to VSCode&#39;s &quot;export to jar&quot; option, which creates the jar file directly from your uncompiled code. That jar file then has this issue","body":"Compiled code runs without any errors, with or without <code>--enable-preview</code> (I in fact never compiled manually using that option). The problem is that the command that&#39;s supposed to turn my .class into a .jar isn&#39;t recognized by the console (which is another problem I haven&#39;t been able to fix), so I&#39;m forced to resort to VSCode&#39;s &quot;export to jar&quot; option, which creates the jar file directly from your uncompiled code. That jar file then has this issue"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1678232585,"post_id":75639094,"comment_id":133492864,"body_markdown":"Then perhaps this can help: https://github.com/microsoft/vscode-java-debug/issues/1130","body":"Then perhaps this can help: <a href=\"https://github.com/microsoft/vscode-java-debug/issues/1130\" rel=\"nofollow noreferrer\">github.com/microsoft/vscode-java-debug/issues/1130</a>"},{"owner":{"account_id":27936858,"reputation":1,"user_id":21333679,"display_name":"Jo&#227;o Vitor da Silva"},"score":0,"creation_date":1678232628,"post_id":75639094,"comment_id":133492870,"body_markdown":"Also I just realized I didn&#39;t quite answer your question, but yes, no errors when I try to compile the code either (without `--enable-preview`)","body":"Also I just realized I didn&#39;t quite answer your question, but yes, no errors when I try to compile the code either (without <code>--enable-preview</code>)"},{"owner":{"account_id":27936858,"reputation":1,"user_id":21333679,"display_name":"Jo&#227;o Vitor da Silva"},"score":0,"creation_date":1678233156,"post_id":75639094,"comment_id":133492949,"body_markdown":"I&#39;m sorry, I added the folder and the file described on the link but I still get the same error :/","body":"I&#39;m sorry, I added the folder and the file described on the link but I still get the same error :/"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1678236615,"post_id":75639094,"comment_id":133493447,"body_markdown":"Odd. It worked for me. Before I added it, running `java -jar foo.jar` failed with the expected `LinkageError` (running it with `java --enable-preview -jar foo.jar` works, obviously). After adding that file and preference, running `java -jar foo.jar` worked as expected (no preview feature problem). You said you added the folder and file, but just to make sure, did you add `org.eclipse.jdt.core.compiler.problem.enablePreviewFeatures=disabled` inside the file?","body":"Odd. It worked for me. Before I added it, running <code>java -jar foo.jar</code> failed with the expected <code>LinkageError</code> (running it with <code>java --enable-preview -jar foo.jar</code> works, obviously). After adding that file and preference, running <code>java -jar foo.jar</code> worked as expected (no preview feature problem). You said you added the folder and file, but just to make sure, did you add <code>org.eclipse.jdt.core.compiler.problem.enablePreviewFeatures=&zwnj;&#8203;disabled</code> inside the file?"},{"owner":{"account_id":27936858,"reputation":1,"user_id":21333679,"display_name":"Jo&#227;o Vitor da Silva"},"score":0,"creation_date":1678654148,"post_id":75639094,"comment_id":133571136,"body_markdown":"I did add it in the file, tho the settings folder didn&#39;t exist and I had to create it","body":"I did add it in the file, tho the settings folder didn&#39;t exist and I had to create it"}],"owner":{"account_id":27936858,"reputation":1,"user_id":21333679,"display_name":"Jo&#227;o Vitor da Silva"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677969255,"creation_date":1677969255,"question_id":75639094,"body_markdown":"My system is a Windows 10\r\n\r\nI&#39;m using java jdk 19 with no build tools\r\n\r\nI&#39;m trying to run a .jar file generated from my code using vscode &quot;export jar&quot; option, but double clicking the resulting file doesn&#39;t do anything.\r\n\r\nTrying to run the file from the terminal returns this error\r\n\r\n&gt; Error: LinkageError occurred while loading main class Aula3\r\n&gt; java.lang.UnsupportedClassVersionError: Preview features are not enabled for Aula3 (class file version 63.65535). Try running with &#39;--enable-preview&#39;\r\n\r\n\r\n\r\nI&#39;ve looked all over the internet but no one seems to have an answer, I did find another post here about the same error, but the solution only says\r\n\r\n&gt; SO basically I had to create a .bat file with java --enable-preview -jar &lt;filename&gt;.jar\r\n&gt; \r\n&gt; this resolved my issue.\r\n\r\nI don&#39;t know exactly what this means or how should I even begin to try it, and having made my account today I don&#39;t have enough reputation to ask him with a comment, so I was hoping someone else could shed  a light on this for me.\r\n\r\nAny help is appreciated as I&#39;ve been trying to fix this for days now.\r\n\r\nAlso I&#39;ve checked my path variables, they&#39;re set propperly, and tried updating java, both the jdk and jre (which left me with versions 19 and 1.8 respectively)","title":"Java LinkageError when trying to run .jar file, asks to run with --enable preview","body":"<p>My system is a Windows 10</p>\n<p>I'm using java jdk 19 with no build tools</p>\n<p>I'm trying to run a .jar file generated from my code using vscode &quot;export jar&quot; option, but double clicking the resulting file doesn't do anything.</p>\n<p>Trying to run the file from the terminal returns this error</p>\n<blockquote>\n<p>Error: LinkageError occurred while loading main class Aula3\njava.lang.UnsupportedClassVersionError: Preview features are not enabled for Aula3 (class file version 63.65535). Try running with '--enable-preview'</p>\n</blockquote>\n<p>I've looked all over the internet but no one seems to have an answer, I did find another post here about the same error, but the solution only says</p>\n<blockquote>\n<p>SO basically I had to create a .bat file with java --enable-preview -jar .jar</p>\n<p>this resolved my issue.</p>\n</blockquote>\n<p>I don't know exactly what this means or how should I even begin to try it, and having made my account today I don't have enough reputation to ask him with a comment, so I was hoping someone else could shed  a light on this for me.</p>\n<p>Any help is appreciated as I've been trying to fix this for days now.</p>\n<p>Also I've checked my path variables, they're set propperly, and tried updating java, both the jdk and jre (which left me with versions 19 and 1.8 respectively)</p>\n"},{"tags":["java","android"],"owner":{"account_id":27936902,"reputation":1,"user_id":21333711,"display_name":"Norok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677968849,"creation_date":1677968849,"question_id":75639061,"body_markdown":"I am very knew to java, and android development in general, and want to make a pill alarm app. I have made everything work, except the alarm won&#39;t sound in the backround! This is my code:\r\n\r\n    private EditText mEditTextInput;\r\n    private TextView mTextViewCountDown;\r\n    private Button mButtonSet;\r\n    private Button mButtonAnotherPill;\r\n    private Button mButtonFirstPill;\r\n\r\n    private CountDownTimer mCountDownTimer;\r\n\r\n    private boolean mTimerRunning;\r\n    private boolean mTimerInitialized;\r\n\r\n    private long mStartTimeInMillis;\r\n    private long mTimeLeftInMillis;\r\n    private long mEndTime;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mTimerInitialized = false;\r\n        mEditTextInput = findViewById(R.id.editTextTextPersonName3);\r\n        mTextViewCountDown = findViewById(R.id.chronometer);\r\n\r\n        mButtonSet = findViewById(R.id.set);\r\n        mButtonAnotherPill = findViewById(R.id.reset);\r\n        mButtonFirstPill = findViewById(R.id.button);\r\n\r\n        mButtonSet.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String input = mEditTextInput.getText().toString();\r\n                if (input.length() == 0) {\r\n                    Toast.makeText(MainActivity.this, &quot;Field can&#39;t be empty&quot;, Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }\r\n\r\n                long millisInput = Long.parseLong(input) * 60000;\r\n                if (millisInput == 0) {\r\n                    Toast.makeText(MainActivity.this, &quot;Please enter a positive number&quot;, Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }\r\n\r\n                setTime(millisInput);\r\n                mEditTextInput.setText(&quot;&quot;);\r\n            }\r\n        });\r\n\r\n        mButtonFirstPill.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (!mTimerInitialized) {\r\n                    startTimer();\r\n                    mTimerInitialized = true;\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n        mButtonAnotherPill.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (mTimerInitialized) {\r\n                    pauseTimer();\r\n                    resetTimer();\r\n                    startTimer();\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    private void setTime(long milliseconds) {\r\n        mStartTimeInMillis = milliseconds;\r\n        resetTimer();\r\n        closeKeyboard();\r\n    }\r\n\r\n    private void startTimer() {\r\n        mEndTime = System.currentTimeMillis() + mTimeLeftInMillis;\r\n\r\n        mCountDownTimer = new CountDownTimer(mTimeLeftInMillis, 1000) {\r\n            @Override\r\n            public void onTick(long millisUntilFinished) {\r\n                mTimeLeftInMillis = millisUntilFinished;\r\n                updateCountDownText();\r\n            }\r\n\r\n            @Override\r\n            public void onFinish() {\r\n                mTimerRunning = false;\r\n                final MediaPlayer mp = MediaPlayer.create(MainActivity.this, R.raw.sound);\r\n                mp.start();\r\n            }\r\n        }.start();\r\n\r\n        mTimerRunning = true;\r\n    }\r\n\r\n    private void pauseTimer() {\r\n        mCountDownTimer.cancel();\r\n        mTimerRunning = false;\r\n    }\r\n\r\n    private void resetTimer() {\r\n        mTimeLeftInMillis = mStartTimeInMillis;\r\n        updateCountDownText();\r\n    }\r\n\r\n    private void updateCountDownText() {\r\n        int hours = (int) (mTimeLeftInMillis / 1000) / 3600;\r\n        int minutes = (int) ((mTimeLeftInMillis / 1000) % 3600) / 60;\r\n        int seconds = (int) (mTimeLeftInMillis / 1000) % 60;\r\n\r\n        String timeLeftFormatted;\r\n        if (hours &gt; 0) {\r\n            timeLeftFormatted = String.format(Locale.getDefault(),\r\n                    &quot;%d:%02d:%02d&quot;, hours, minutes, seconds);\r\n        } else {\r\n            timeLeftFormatted = String.format(Locale.getDefault(),\r\n                    &quot;%02d:%02d&quot;, minutes, seconds);\r\n        }\r\n\r\n        mTextViewCountDown.setText(timeLeftFormatted);\r\n    }\r\n\r\n\r\n    private void closeKeyboard() {\r\n        View view = this.getCurrentFocus();\r\n        if (view != null) {\r\n            InputMethodManager imm = (InputMethodManager) getSystemService(INPUT_METHOD_SERVICE);\r\n            imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n\r\n        SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = prefs.edit();\r\n\r\n        editor.putLong(&quot;startTimeInMillis&quot;, mStartTimeInMillis);\r\n        editor.putLong(&quot;millisLeft&quot;, mTimeLeftInMillis);\r\n        editor.putBoolean(&quot;timerRunning&quot;, mTimerRunning);\r\n        editor.putLong(&quot;endTime&quot;, mEndTime);\r\n\r\n        editor.apply();\r\n\r\n        if (mCountDownTimer != null) {\r\n            mCountDownTimer.cancel();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n\r\n        SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\r\n\r\n        mStartTimeInMillis = prefs.getLong(&quot;startTimeInMillis&quot;, 600000);\r\n        mTimeLeftInMillis = prefs.getLong(&quot;millisLeft&quot;, mStartTimeInMillis);\r\n        mTimerRunning = prefs.getBoolean(&quot;timerRunning&quot;, false);\r\n\r\n        updateCountDownText();\r\n\r\n        if (mTimerRunning) {\r\n            mEndTime = prefs.getLong(&quot;endTime&quot;, 0);\r\n            mTimeLeftInMillis = mEndTime - System.currentTimeMillis();\r\n\r\n            if (mTimeLeftInMillis &lt; 0) {\r\n                mTimeLeftInMillis = 0;\r\n                mTimerRunning = false;\r\n                updateCountDownText();\r\n//                final MediaPlayer mp = MediaPlayer.create(MainActivity.this, R.raw.sound);\r\n//                mp.start();\r\n\r\n            } else {\r\n                startTimer();\r\n            }\r\n        }\r\n    }\r\n\r\nI tried figuring out how to make a foreground service but I couldn&#39;t, any help would be appreciated.`","title":"I don&#39;t know how to make a foreground function for my app","body":"<p>I am very knew to java, and android development in general, and want to make a pill alarm app. I have made everything work, except the alarm won't sound in the backround! This is my code:</p>\n<pre><code>private EditText mEditTextInput;\nprivate TextView mTextViewCountDown;\nprivate Button mButtonSet;\nprivate Button mButtonAnotherPill;\nprivate Button mButtonFirstPill;\n\nprivate CountDownTimer mCountDownTimer;\n\nprivate boolean mTimerRunning;\nprivate boolean mTimerInitialized;\n\nprivate long mStartTimeInMillis;\nprivate long mTimeLeftInMillis;\nprivate long mEndTime;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    mTimerInitialized = false;\n    mEditTextInput = findViewById(R.id.editTextTextPersonName3);\n    mTextViewCountDown = findViewById(R.id.chronometer);\n\n    mButtonSet = findViewById(R.id.set);\n    mButtonAnotherPill = findViewById(R.id.reset);\n    mButtonFirstPill = findViewById(R.id.button);\n\n    mButtonSet.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            String input = mEditTextInput.getText().toString();\n            if (input.length() == 0) {\n                Toast.makeText(MainActivity.this, &quot;Field can't be empty&quot;, Toast.LENGTH_SHORT).show();\n                return;\n            }\n\n            long millisInput = Long.parseLong(input) * 60000;\n            if (millisInput == 0) {\n                Toast.makeText(MainActivity.this, &quot;Please enter a positive number&quot;, Toast.LENGTH_SHORT).show();\n                return;\n            }\n\n            setTime(millisInput);\n            mEditTextInput.setText(&quot;&quot;);\n        }\n    });\n\n    mButtonFirstPill.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            if (!mTimerInitialized) {\n                startTimer();\n                mTimerInitialized = true;\n            }\n\n        }\n    });\n\n    mButtonAnotherPill.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            if (mTimerInitialized) {\n                pauseTimer();\n                resetTimer();\n                startTimer();\n            }\n\n        }\n    });\n\n\n}\n\nprivate void setTime(long milliseconds) {\n    mStartTimeInMillis = milliseconds;\n    resetTimer();\n    closeKeyboard();\n}\n\nprivate void startTimer() {\n    mEndTime = System.currentTimeMillis() + mTimeLeftInMillis;\n\n    mCountDownTimer = new CountDownTimer(mTimeLeftInMillis, 1000) {\n        @Override\n        public void onTick(long millisUntilFinished) {\n            mTimeLeftInMillis = millisUntilFinished;\n            updateCountDownText();\n        }\n\n        @Override\n        public void onFinish() {\n            mTimerRunning = false;\n            final MediaPlayer mp = MediaPlayer.create(MainActivity.this, R.raw.sound);\n            mp.start();\n        }\n    }.start();\n\n    mTimerRunning = true;\n}\n\nprivate void pauseTimer() {\n    mCountDownTimer.cancel();\n    mTimerRunning = false;\n}\n\nprivate void resetTimer() {\n    mTimeLeftInMillis = mStartTimeInMillis;\n    updateCountDownText();\n}\n\nprivate void updateCountDownText() {\n    int hours = (int) (mTimeLeftInMillis / 1000) / 3600;\n    int minutes = (int) ((mTimeLeftInMillis / 1000) % 3600) / 60;\n    int seconds = (int) (mTimeLeftInMillis / 1000) % 60;\n\n    String timeLeftFormatted;\n    if (hours &gt; 0) {\n        timeLeftFormatted = String.format(Locale.getDefault(),\n                &quot;%d:%02d:%02d&quot;, hours, minutes, seconds);\n    } else {\n        timeLeftFormatted = String.format(Locale.getDefault(),\n                &quot;%02d:%02d&quot;, minutes, seconds);\n    }\n\n    mTextViewCountDown.setText(timeLeftFormatted);\n}\n\n\nprivate void closeKeyboard() {\n    View view = this.getCurrentFocus();\n    if (view != null) {\n        InputMethodManager imm = (InputMethodManager) getSystemService(INPUT_METHOD_SERVICE);\n        imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\n    }\n}\n\n@Override\nprotected void onStop() {\n    super.onStop();\n\n    SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\n    SharedPreferences.Editor editor = prefs.edit();\n\n    editor.putLong(&quot;startTimeInMillis&quot;, mStartTimeInMillis);\n    editor.putLong(&quot;millisLeft&quot;, mTimeLeftInMillis);\n    editor.putBoolean(&quot;timerRunning&quot;, mTimerRunning);\n    editor.putLong(&quot;endTime&quot;, mEndTime);\n\n    editor.apply();\n\n    if (mCountDownTimer != null) {\n        mCountDownTimer.cancel();\n    }\n}\n\n@Override\nprotected void onStart() {\n    super.onStart();\n\n    SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\n\n    mStartTimeInMillis = prefs.getLong(&quot;startTimeInMillis&quot;, 600000);\n    mTimeLeftInMillis = prefs.getLong(&quot;millisLeft&quot;, mStartTimeInMillis);\n    mTimerRunning = prefs.getBoolean(&quot;timerRunning&quot;, false);\n\n    updateCountDownText();\n\n    if (mTimerRunning) {\n        mEndTime = prefs.getLong(&quot;endTime&quot;, 0);\n        mTimeLeftInMillis = mEndTime - System.currentTimeMillis();\n\n        if (mTimeLeftInMillis &lt; 0) {\n            mTimeLeftInMillis = 0;\n            mTimerRunning = false;\n            updateCountDownText();\n</code></pre>\n<p>//                final MediaPlayer mp = MediaPlayer.create(MainActivity.this, R.raw.sound);\n//                mp.start();</p>\n<pre><code>        } else {\n            startTimer();\n        }\n    }\n}\n</code></pre>\n<p>I tried figuring out how to make a foreground service but I couldn't, any help would be appreciated.`</p>\n"},{"tags":["java","lwjgl"],"owner":{"account_id":18697201,"reputation":147,"user_id":13727252,"display_name":"Dahl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677968415,"creation_date":1677968415,"question_id":75639031,"body_markdown":"I am creating a image processing tool, where you can draw to various lighting related textures.\r\nAnd It would be very helpful to combine all the edited &quot;channels&quot; (like specular, emissive, depth, color) in one single file, so that the user won&#39;t need to load and save each of them separately.\r\n\r\nNow I am using LWJGL and the [STB][1] library provided to save and load .png&#39;s.\r\nI can interleave single channel images into one single png, where each channel can take up the red, green, and blue colors. But I am always left with 2 png&#39;s. The color image and the interleaved &quot;lighting&quot; image.\r\n\r\nWith java there are ways to write your own [custom file format][2]. But i would need the compressed png-formated data.\r\nUsing STB I am familiar with the &quot;stbi_write_png()&quot; function. It compresses the raw image and writes to it to a png. \r\n\r\n**Can you compress the image/texture without writing it to a png directly using STB?\r\nI basically need a (Heap allocated?) Bytebuffer or byte[] with compressed image data.**\r\n\r\n\r\n\r\n  [1]: https://github.com/nothings/stb\r\n  [2]: https://stackoverflow.com/questions/5995899/creating-and-reading-from-a-custom-file-type-in-java","title":"Multiple .png files into one single compressed file using LWJGL - (STB library)","body":"<p>I am creating a image processing tool, where you can draw to various lighting related textures.\nAnd It would be very helpful to combine all the edited &quot;channels&quot; (like specular, emissive, depth, color) in one single file, so that the user won't need to load and save each of them separately.</p>\n<p>Now I am using LWJGL and the <a href=\"https://github.com/nothings/stb\" rel=\"nofollow noreferrer\">STB</a> library provided to save and load .png's.\nI can interleave single channel images into one single png, where each channel can take up the red, green, and blue colors. But I am always left with 2 png's. The color image and the interleaved &quot;lighting&quot; image.</p>\n<p>With java there are ways to write your own <a href=\"https://stackoverflow.com/questions/5995899/creating-and-reading-from-a-custom-file-type-in-java\">custom file format</a>. But i would need the compressed png-formated data.\nUsing STB I am familiar with the &quot;stbi_write_png()&quot; function. It compresses the raw image and writes to it to a png.</p>\n<p><strong>Can you compress the image/texture without writing it to a png directly using STB?\nI basically need a (Heap allocated?) Bytebuffer or byte[] with compressed image data.</strong></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":269227,"reputation":18215,"user_id":558433,"accept_rate":72,"display_name":"Marcos Vasconcelos"},"score":1,"creation_date":1506692241,"post_id":46488346,"comment_id":79934477,"body_markdown":"Just a comment, the usage of direct access to Databases over internet is discouraged on Android, this will open full access to any malware to your data. The usual solution is exposes WebAPIs as Services so you can validate server side.","body":"Just a comment, the usage of direct access to Databases over internet is discouraged on Android, this will open full access to any malware to your data. The usual solution is exposes WebAPIs as Services so you can validate server side."},{"owner":{"account_id":9657829,"reputation":61,"user_id":7166857,"display_name":"Chillings"},"score":0,"creation_date":1506694717,"post_id":46488346,"comment_id":79936009,"body_markdown":"currently im trying to get the code of the previous owner working on my pc. i tried to ask help of them but they said they were to busy with their study. this is for my internship ;(","body":"currently im trying to get the code of the previous owner working on my pc. i tried to ask help of them but they said they were to busy with their study. this is for my internship ;("},{"owner":{"account_id":269227,"reputation":18215,"user_id":558433,"accept_rate":72,"display_name":"Marcos Vasconcelos"},"score":0,"creation_date":1506695564,"post_id":46488346,"comment_id":79936548,"body_markdown":"This is a Android question or Java SE/EE? For Java you need to add the jndi.jar","body":"This is a Android question or Java SE/EE? For Java you need to add the jndi.jar"},{"owner":{"account_id":9657829,"reputation":61,"user_id":7166857,"display_name":"Chillings"},"score":0,"creation_date":1506935264,"post_id":46488346,"comment_id":79999090,"body_markdown":"i have added jndi.jar, but i still get the same error","body":"i have added jndi.jar, but i still get the same error"}],"answers":[{"tags":[],"owner":{"account_id":13611000,"reputation":1818,"user_id":9818506,"display_name":"Rene Knop"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1677967971,"creation_date":1527516402,"answer_id":50568217,"question_id":46488346,"body_markdown":"I got the same error (on Java 9 or above). For me the problem was due to a missing `requires java.naming;` directive in the `module-info.java` of my module (the module, that accesses Referenceable). Adding this directive fixed it:\r\n\r\n```java\r\nmodule MyModule {\r\n   requires java.naming;  // Java Naming and Directory Interface (JNDI) API.\r\n   …\r\n}\r\n```\r\n\r\nThis module is for [Java Naming and Directory Interface (JNDI)][1] [API][2], as explained in the Javadoc for [*Module java.naming*][3].\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_Naming_and_Directory_Interface\r\n  [2]: https://en.wikipedia.org/wiki/API\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.naming/module-summary.html","title":"Error:(32, 13) error: cannot access Referenceable class file for javax.naming.Referenceable not found","body":"<p>I got the same error (on Java 9 or above). For me the problem was due to a missing <code>requires java.naming;</code> directive in the <code>module-info.java</code> of my module (the module, that accesses Referenceable). Adding this directive fixed it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>module MyModule {\n   requires java.naming;  // Java Naming and Directory Interface (JNDI) API.\n   …\n}\n</code></pre>\n<p>This module is for <a href=\"https://en.wikipedia.org/wiki/Java_Naming_and_Directory_Interface\" rel=\"nofollow noreferrer\">Java Naming and Directory Interface (JNDI)</a> <a href=\"https://en.wikipedia.org/wiki/API\" rel=\"nofollow noreferrer\">API</a>, as explained in the Javadoc for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.naming/module-summary.html\" rel=\"nofollow noreferrer\"><em>Module java.naming</em></a>.</p>\n"},{"tags":[],"owner":{"account_id":467165,"reputation":3823,"user_id":872351,"accept_rate":72,"display_name":"machinery"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560930456,"creation_date":1560930456,"answer_id":56662583,"question_id":46488346,"body_markdown":"As explained by Sander Mak [here][1] this usually happens when your code depends on something that does not have a module descriptor and this dependency&#39;s dependency is unresolved (e.g. you&#39;re using Hibernate which has no module descriptor but it requires java.naming).\r\n\r\nIn this case, rather than polluting your own module descriptor with the transitive dependency, Sander suggests to add the transitive dependency to your module graph using\r\n\r\n    --add-modules java.naming\r\n\r\nThis way when Hibernate in the future gets its own module descriptor you can just remove the above line and have only your direct dependencies in your module-info.java.\r\n\r\n  [1]: https://vimeo.com/241923744#t=1565s","title":"Error:(32, 13) error: cannot access Referenceable class file for javax.naming.Referenceable not found","body":"<p>As explained by Sander Mak <a href=\"https://vimeo.com/241923744#t=1565s\" rel=\"nofollow noreferrer\">here</a> this usually happens when your code depends on something that does not have a module descriptor and this dependency's dependency is unresolved (e.g. you're using Hibernate which has no module descriptor but it requires java.naming).</p>\n\n<p>In this case, rather than polluting your own module descriptor with the transitive dependency, Sander suggests to add the transitive dependency to your module graph using</p>\n\n<pre><code>--add-modules java.naming\n</code></pre>\n\n<p>This way when Hibernate in the future gets its own module descriptor you can just remove the above line and have only your direct dependencies in your module-info.java.</p>\n"}],"owner":{"account_id":9657829,"reputation":61,"user_id":7166857,"display_name":"Chillings"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6697,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1677967971,"creation_date":1506686267,"question_id":46488346,"body_markdown":"i got the error above and below is my code what am i doin wrong?\r\nthe error reference to the datasource.\r\nwhat is the problem?\r\n\r\n    public class DBConnector {\r\n\tprivate Connection dbConn = null;\r\n\tprivate FileLogger fileLogger = new FileLogger(&quot;./logs/logfile.txt&quot;);\r\n\tprivate ConfigurationReader conf = new ConfigurationReader(&quot;./config.sys&quot;);\r\n\tprivate Logger logger = fileLogger.getLogger();\r\n\t\r\n\t/**\r\n\t * Attempts to establish a connection with a test MySQL database.\r\n\t */\r\n\tpublic DBConnector() {\r\n\r\n\r\n\t\tMysqlDataSource dataSource = new MysqlDataSource();\r\n\t\tdataSource.setUser(conf.getConfigString(&quot;username&quot;));\r\n\t\tdataSource.setPassword(conf.getConfigString(&quot;password&quot;));\r\n\t\tdataSource.setServerName(conf.getConfigString(&quot;dbhost&quot;));\r\n\t\tdataSource.setDatabaseName(conf.getConfigString(&quot;dbname&quot;));\r\n\t    dataSource.setPort(conf.getConfigInt(&quot;dbport&quot;));\r\n\r\n\t\ttry {\r\n\t\t\tdbConn = dataSource.getConnection();\r\n\r\n\t\t\tlogger.info(&quot;Succesful connection with database!&quot;);\r\n\t\t} catch (Exception ex) {\r\n\t\t\tlogger.info(&quot;Error: DBConnector(): problem creating database connection&quot;);\r\n\t\t}\r\n\t\tlogger.info(&quot;Database connection = &quot; + dbConn);\r\n\t}\r\n\r\n","title":"Error:(32, 13) error: cannot access Referenceable class file for javax.naming.Referenceable not found","body":"<p>i got the error above and below is my code what am i doin wrong?\nthe error reference to the datasource.\nwhat is the problem?</p>\n\n<pre><code>public class DBConnector {\nprivate Connection dbConn = null;\nprivate FileLogger fileLogger = new FileLogger(\"./logs/logfile.txt\");\nprivate ConfigurationReader conf = new ConfigurationReader(\"./config.sys\");\nprivate Logger logger = fileLogger.getLogger();\n\n/**\n * Attempts to establish a connection with a test MySQL database.\n */\npublic DBConnector() {\n\n\n    MysqlDataSource dataSource = new MysqlDataSource();\n    dataSource.setUser(conf.getConfigString(\"username\"));\n    dataSource.setPassword(conf.getConfigString(\"password\"));\n    dataSource.setServerName(conf.getConfigString(\"dbhost\"));\n    dataSource.setDatabaseName(conf.getConfigString(\"dbname\"));\n    dataSource.setPort(conf.getConfigInt(\"dbport\"));\n\n    try {\n        dbConn = dataSource.getConnection();\n\n        logger.info(\"Succesful connection with database!\");\n    } catch (Exception ex) {\n        logger.info(\"Error: DBConnector(): problem creating database connection\");\n    }\n    logger.info(\"Database connection = \" + dbConn);\n}\n</code></pre>\n"},{"tags":["java","string","char"],"answers":[{"tags":[],"owner":{"account_id":23411053,"reputation":26,"user_id":17472730,"display_name":"Leppy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677964763,"creation_date":1677964763,"answer_id":75638731,"question_id":75638646,"body_markdown":"You are on the right track! Here&#39;s how you can modify your code to shift the letters forward as specified in the assignment:\r\n\r\n    public static void main(String[] args) throws IOException {\r\n            \r\n            Scanner input;\r\n            FileInputStream inputFile = null;\r\n            FileOutputStream outputFile = null;\r\n            PrintWriter outPrint = null;\r\n            \r\n            inputFile = new FileInputStream(&quot;input2.in&quot;);\r\n            outputFile = new FileOutputStream(&quot;results.out.txt&quot;);\r\n            outPrint = new PrintWriter(outputFile);\r\n            input = new Scanner(inputFile);\r\n            \r\n            while (input.hasNext()) {\r\n                String lineReader = null;\r\n                lineReader = input.nextLine();\r\n                if (lineReader.length() % 2 == 0) {\r\n                    // even length word\r\n                    String evenWord = lineReader;\r\n                    String shiftedWord = evenWord.substring(evenWord.length()/2) + evenWord.substring(0, evenWord.length()/2);\r\n                    System.out.print(evenWord + &quot; &quot;);\r\n                    System.out.print(shiftedWord.toUpperCase());\r\n                    System.out.println();\r\n                    outPrint.print(evenWord + &quot;    &quot;);\r\n                    outPrint.println(shiftedWord.toUpperCase());\r\n                }\r\n                else if (lineReader.length() % 2 != 0){\r\n                    // odd length word\r\n                    String oddWord = lineReader;\r\n                    String shiftedWord = oddWord.substring((oddWord.length()+1)/2) + oddWord.substring(0, (oddWord.length()+1)/2);\r\n                    System.out.print(oddWord + &quot;  &quot;);\r\n                    System.out.println(shiftedWord.toUpperCase());\r\n                    outPrint.print(oddWord + &quot;    &quot;);\r\n                    outPrint.println(shiftedWord.toUpperCase());\r\n                }\r\n            }\r\n            inputFile.close();\r\n            outPrint.close();\r\n            input.close();\r\n        }\r\n\r\nIn the code above, for even length words, we split the word at the middle, swap the two halves and concatenate them back together. For odd length words, we add 1 to the length of the word, split it at the middle, swap the two halves and concatenate them back together.\r\n\r\nNote that I have also modified the print statements to match the output format specified in the assignment.\r\n\r\n","title":"How to move the first letters in a word forward by a certain amount, Java","body":"<p>You are on the right track! Here's how you can modify your code to shift the letters forward as specified in the assignment:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n        \n        Scanner input;\n        FileInputStream inputFile = null;\n        FileOutputStream outputFile = null;\n        PrintWriter outPrint = null;\n        \n        inputFile = new FileInputStream(&quot;input2.in&quot;);\n        outputFile = new FileOutputStream(&quot;results.out.txt&quot;);\n        outPrint = new PrintWriter(outputFile);\n        input = new Scanner(inputFile);\n        \n        while (input.hasNext()) {\n            String lineReader = null;\n            lineReader = input.nextLine();\n            if (lineReader.length() % 2 == 0) {\n                // even length word\n                String evenWord = lineReader;\n                String shiftedWord = evenWord.substring(evenWord.length()/2) + evenWord.substring(0, evenWord.length()/2);\n                System.out.print(evenWord + &quot; &quot;);\n                System.out.print(shiftedWord.toUpperCase());\n                System.out.println();\n                outPrint.print(evenWord + &quot;    &quot;);\n                outPrint.println(shiftedWord.toUpperCase());\n            }\n            else if (lineReader.length() % 2 != 0){\n                // odd length word\n                String oddWord = lineReader;\n                String shiftedWord = oddWord.substring((oddWord.length()+1)/2) + oddWord.substring(0, (oddWord.length()+1)/2);\n                System.out.print(oddWord + &quot;  &quot;);\n                System.out.println(shiftedWord.toUpperCase());\n                outPrint.print(oddWord + &quot;    &quot;);\n                outPrint.println(shiftedWord.toUpperCase());\n            }\n        }\n        inputFile.close();\n        outPrint.close();\n        input.close();\n    }\n</code></pre>\n<p>In the code above, for even length words, we split the word at the middle, swap the two halves and concatenate them back together. For odd length words, we add 1 to the length of the word, split it at the middle, swap the two halves and concatenate them back together.</p>\n<p>Note that I have also modified the print statements to match the output format specified in the assignment.</p>\n"},{"tags":[],"owner":{"account_id":25316015,"reputation":19,"user_id":19138128,"display_name":"ScrapsOfDevelopment"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677967215,"creation_date":1677966679,"answer_id":75638889,"question_id":75638646,"body_markdown":"An alternative way to calculate this (w/out the extra code) is to use the the fact that an `int` is always a whole number.  \r\nSo, by adding one and dividing by two will get you the length of the string to move.  \r\n`(7+1)/2 = 4` stays `4` when stored as an `int`.  \r\n`(6+1)/2 = 3.5` becomes `3` when stored as an `int`.\r\n\r\n```\r\n        while (input.hasNext()) {\r\n            //Remove the &quot;= null&quot; part. It&#39;s redundant\r\n            String line = input.nextLine();\r\n            int charactersToMove = (line.length() + 1) / 2;\r\n            String shiftedWord = line.substring(charactersToMove)\r\n                               + line.substring(0, charactersToMove);\r\n            System.out.println(line + &quot; &quot; + shiftedWord.toUpperCase());\r\n            outPrint.println(evenWord + &quot;    &quot; + shiftedWord.toUpperCase());\r\n        }\r\n```\r\n\r\nYou could also use % to calculate the offset on a single line, too:\r\n```\r\nint charactersToMove = (line.length()/2) + (line.length() % 2);\r\nor\r\nint charactersToMove = ((line.length() + (line.length() % 2)) / 2);\r\n```\r\nIn this case `(line.length() % 2)` is always `1` for odd numbers and `0` for even numbers.","title":"How to move the first letters in a word forward by a certain amount, Java","body":"<p>An alternative way to calculate this (w/out the extra code) is to use the the fact that an <code>int</code> is always a whole number.<br />\nSo, by adding one and dividing by two will get you the length of the string to move.<br />\n<code>(7+1)/2 = 4</code> stays <code>4</code> when stored as an <code>int</code>.<br />\n<code>(6+1)/2 = 3.5</code> becomes <code>3</code> when stored as an <code>int</code>.</p>\n<pre><code>        while (input.hasNext()) {\n            //Remove the &quot;= null&quot; part. It's redundant\n            String line = input.nextLine();\n            int charactersToMove = (line.length() + 1) / 2;\n            String shiftedWord = line.substring(charactersToMove)\n                               + line.substring(0, charactersToMove);\n            System.out.println(line + &quot; &quot; + shiftedWord.toUpperCase());\n            outPrint.println(evenWord + &quot;    &quot; + shiftedWord.toUpperCase());\n        }\n</code></pre>\n<p>You could also use % to calculate the offset on a single line, too:</p>\n<pre><code>int charactersToMove = (line.length()/2) + (line.length() % 2);\nor\nint charactersToMove = ((line.length() + (line.length() % 2)) / 2);\n</code></pre>\n<p>In this case <code>(line.length() % 2)</code> is always <code>1</code> for odd numbers and <code>0</code> for even numbers.</p>\n"}],"owner":{"account_id":27936464,"reputation":3,"user_id":21333371,"display_name":"vert4848"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75638731,"answer_count":2,"score":0,"last_activity_date":1677967215,"creation_date":1677963756,"question_id":75638646,"body_markdown":"I&#39;m new to coding, and need some help completing an assignment. It specifies that we need to take strings from a file, and shift the letters forward a certain amount. This is the part I&#39;m struggling with:\r\n\r\nIf a word has n letters, where n is an odd number, move the first (n+1)/2 letters to the end of the word.  For example: ‘kitchen’ becomes ‘henkitc’.\r\n\r\nIf a word has n letters, where n is an even number, move the first n/2 letters to the end of the word.  For example, ‘before’ becomes ‘orebef’.\r\n\r\nInput files will look like this:\r\n\r\nBefore\r\n\r\nKitchen\r\n\r\nOutputs like this:\r\n\r\nBefore OREBEF\r\n\r\nKitchen HENKITC\r\n\r\nApologies if this is a stupid question.\r\n\r\nHere&#39;s what I have so far:\r\n\r\n\r\n```\r\npublic static void main(String[] args) throws IOException {\r\n\t\t\r\n\t\tScanner input;\r\n\t\tFileInputStream inputFile = null;\r\n\t\tFileOutputStream outputFile = null;\r\n\t\tPrintWriter outPrint = null;\r\n\t\t\r\n\t\tinputFile = new FileInputStream(&quot;input2.in&quot;);\r\n\t\toutputFile = new FileOutputStream(&quot;results.out.txt&quot;);\r\n\t\toutPrint = new PrintWriter(outputFile);\r\n\t\tinput = new Scanner(inputFile);\r\n\t\t\r\n\t\twhile (input.hasNext()) {\r\n\t\t\tString lineReader = null;\r\n\t\t\tlineReader = input.nextLine();\r\n\t\t\tif (lineReader.length() % 2 == 0) {\r\n\t\t\t\tString evenWord = lineReader;\r\n\t\t\t\tString flippedEvenWord = null;\r\n\t\t\t\tSystem.out.print(evenWord);\r\n\t\t\t\tSystem.out.print(&quot;\t&quot;);\r\n\t\t\t\tSystem.out.println(evenWord.toUpperCase());\r\n\t\t\t\toutPrint.print(evenWord);\r\n\t\t\t\toutPrint.print(&quot;\t&quot;);\r\n\t\t\t\toutPrint.println(evenWord.toUpperCase());\r\n\t\t\t}\r\n\t\t\telse if (lineReader.length() % 2 != 0){\r\n\t\t\t\tString oddWord = lineReader;\r\n\t\t\t\tSystem.out.print(oddWord);\r\n\t\t\t\toutPrint.print(oddWord);\r\n\t\t\t\toutPrint.print(&quot;\t&quot;);\r\n\t\t\t\tSystem.out.print(&quot;\t&quot;);\r\n\t\t\t\tString flippedOddWord = oddWord;\r\n\t\t\t\tSystem.out.println(flippedOddWord.toUpperCase());\r\n\t\t\t\toutPrint.println(oddWord.toUpperCase());\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tinputFile.close();\r\n\t\toutPrint.close();\r\n\t\tinput.close();\r\n\t}\r\n\r\n\t}\r\n```","title":"How to move the first letters in a word forward by a certain amount, Java","body":"<p>I'm new to coding, and need some help completing an assignment. It specifies that we need to take strings from a file, and shift the letters forward a certain amount. This is the part I'm struggling with:</p>\n<p>If a word has n letters, where n is an odd number, move the first (n+1)/2 letters to the end of the word.  For example: ‘kitchen’ becomes ‘henkitc’.</p>\n<p>If a word has n letters, where n is an even number, move the first n/2 letters to the end of the word.  For example, ‘before’ becomes ‘orebef’.</p>\n<p>Input files will look like this:</p>\n<p>Before</p>\n<p>Kitchen</p>\n<p>Outputs like this:</p>\n<p>Before OREBEF</p>\n<p>Kitchen HENKITC</p>\n<p>Apologies if this is a stupid question.</p>\n<p>Here's what I have so far:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n        \n        Scanner input;\n        FileInputStream inputFile = null;\n        FileOutputStream outputFile = null;\n        PrintWriter outPrint = null;\n        \n        inputFile = new FileInputStream(&quot;input2.in&quot;);\n        outputFile = new FileOutputStream(&quot;results.out.txt&quot;);\n        outPrint = new PrintWriter(outputFile);\n        input = new Scanner(inputFile);\n        \n        while (input.hasNext()) {\n            String lineReader = null;\n            lineReader = input.nextLine();\n            if (lineReader.length() % 2 == 0) {\n                String evenWord = lineReader;\n                String flippedEvenWord = null;\n                System.out.print(evenWord);\n                System.out.print(&quot;  &quot;);\n                System.out.println(evenWord.toUpperCase());\n                outPrint.print(evenWord);\n                outPrint.print(&quot;    &quot;);\n                outPrint.println(evenWord.toUpperCase());\n            }\n            else if (lineReader.length() % 2 != 0){\n                String oddWord = lineReader;\n                System.out.print(oddWord);\n                outPrint.print(oddWord);\n                outPrint.print(&quot;    &quot;);\n                System.out.print(&quot;  &quot;);\n                String flippedOddWord = oddWord;\n                System.out.println(flippedOddWord.toUpperCase());\n                outPrint.println(oddWord.toUpperCase());\n            }\n            else {\n                break;\n            }\n        }\n        inputFile.close();\n        outPrint.close();\n        input.close();\n    }\n\n    }\n</code></pre>\n"},{"tags":["java","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1677503585,"post_id":75580920,"comment_id":133344438,"body_markdown":"Please share your entity too.","body":"Please share your entity too."},{"owner":{"account_id":13704422,"reputation":1323,"user_id":9888512,"display_name":"MatterOfFact"},"score":0,"creation_date":1677504866,"post_id":75580920,"comment_id":133344867,"body_markdown":"The entity is huge. Which parts are interesting for you?","body":"The entity is huge. Which parts are interesting for you?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1677505987,"post_id":75580920,"comment_id":133345260,"body_markdown":"The column/property names you refer in the method name","body":"The column/property names you refer in the method name"},{"owner":{"account_id":13704422,"reputation":1323,"user_id":9888512,"display_name":"MatterOfFact"},"score":0,"creation_date":1677509828,"post_id":75580920,"comment_id":133346532,"body_markdown":"@Jens I added the column definition","body":"@Jens I added the column definition"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1677515565,"post_id":75580920,"comment_id":133348639,"body_markdown":"This is a Spring method problem, not JPA. And it just won&#39;t work in spring if you are going to let Spring define the queries for you - change your property name or specify the query you want with the @Query annotation instead.","body":"This is a Spring method problem, not JPA. And it just won&#39;t work in spring if you are going to let Spring define the queries for you - change your property name or specify the query you want with the @Query annotation instead."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1677517168,"post_id":75580920,"comment_id":133349186,"body_markdown":"Call it &quot;estimationdatetime&quot;  and the problem goes away.","body":"Call it &quot;estimationdatetime&quot;  and the problem goes away."},{"owner":{"account_id":13704422,"reputation":1323,"user_id":9888512,"display_name":"MatterOfFact"},"score":0,"creation_date":1677580277,"post_id":75580920,"comment_id":133361719,"body_markdown":"I don&#39;t have the option to change the property name. My question was if there is an option to &quot;escape&quot; the &quot;And&quot; in the method name","body":"I don&#39;t have the option to change the property name. My question was if there is an option to &quot;escape&quot; the &quot;And&quot; in the method name"}],"answers":[{"tags":[],"owner":{"account_id":24772032,"reputation":1,"user_id":18655717,"display_name":"maitri sheth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677966876,"creation_date":1677516944,"answer_id":75583358,"question_id":75580920,"body_markdown":"This happens due to the `PropertyPath` class. It only takes property before. In your case it only takes date (to verify you can put a debug point) and then it is unable to find date as a property in the entity, thus it throws an error.\r\n\r\nTo avoid this error, there are two ways: -\r\n 1. You can change column name in SQL and in entity as variable.\r\n 2. You can write JPQL/Native query for the same `findAllByDateAndTimeOfEstimation()`.\r\n\r\n\r\n\r\n\r\n","title":"JPA Repository use reserved word in column name for method name","body":"<p>This happens due to the <code>PropertyPath</code> class. It only takes property before. In your case it only takes date (to verify you can put a debug point) and then it is unable to find date as a property in the entity, thus it throws an error.</p>\n<p>To avoid this error, there are two ways: -</p>\n<ol>\n<li>You can change column name in SQL and in entity as variable.</li>\n<li>You can write JPQL/Native query for the same <code>findAllByDateAndTimeOfEstimation()</code>.</li>\n</ol>\n"}],"owner":{"account_id":13704422,"reputation":1323,"user_id":9888512,"display_name":"MatterOfFact"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1677966876,"creation_date":1677503495,"question_id":75580920,"body_markdown":"My entity property is called &quot;dateAndTimeOfEstimation&quot;:\r\n\r\n```\r\n  @Column(nullable = true)\r\n  private LocalDateTime dateAndTimeOfEstimation;\r\n```\r\n\r\nIf I use it as part of a method name of a JPA repository, it does not work because the &quot;And&quot; is recognized as a query key word.\r\nExample method name:\r\n`findAllByDateAndTimeOfEstimation`. How can I make clear that the &quot;And&quot; should not be treated as query key word but as part of the column name?","title":"JPA Repository use reserved word in column name for method name","body":"<p>My entity property is called &quot;dateAndTimeOfEstimation&quot;:</p>\n<pre><code>  @Column(nullable = true)\n  private LocalDateTime dateAndTimeOfEstimation;\n</code></pre>\n<p>If I use it as part of a method name of a JPA repository, it does not work because the &quot;And&quot; is recognized as a query key word.\nExample method name:\n<code>findAllByDateAndTimeOfEstimation</code>. How can I make clear that the &quot;And&quot; should not be treated as query key word but as part of the column name?</p>\n"},{"tags":["java","concurrency","uml","invariants"],"comments":[{"owner":{"account_id":8578,"reputation":5445,"user_id":15527,"display_name":"Martin Spamer"},"score":0,"creation_date":1553542495,"post_id":11331964,"comment_id":97415190,"body_markdown":"Also Assume when Unit Test and Given in BDD are examples of real world use of pre-conditions, and Assert &amp; BDD Then clauses are examples of post-conditions.","body":"Also Assume when Unit Test and Given in BDD are examples of real world use of pre-conditions, and Assert &amp; BDD Then clauses are examples of post-conditions."}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":67,"is_accepted":true,"score":67,"last_activity_date":1677964560,"creation_date":1341416069,"answer_id":11332027,"question_id":11331964,"body_markdown":"You&#39;ll have a lot of problems writing Java, especially multi-threaded code, if you can&#39;t understand these simple ideas: \r\n\r\n 1. Pre-conditions are the things that must be true before a method is called.  The method tells clients &quot;this is what I expect from you&quot;.\r\n 2. Post-conditions are the things that must be true after the method is complete.  The method tells clients &quot;this is what I promise to do for you&quot;.\r\n 3. Invariants are the things that are always true and won&#39;t change.  The method tells clients &quot;if this was true before you called me, I promise it&#39;ll still be true when I&#39;m done&quot;.\r\n\r\nThey&#39;re all part of an idea called &quot;programming by contract&quot;.  It was invented by a guy named [C.A.R. Hoare][1].  Bertrand Meyer built an object oriented language called [Eiffel][2] around it.  No one uses it much, but he had a day in the sun because of it.\r\n\r\nEiffel isn&#39;t very popular.  There are over four million questions on SO as I write this, but only 32 of them are tagged &quot;eiffel&quot;.\r\n\r\nUpdate: There were 11,966,392 question on SO on 29-Jun-2016.  Only 92 of them were tagged &quot;eiffel&quot;.  The percentage of Eiffel questions is staying roughly constant at ~0.00077%.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Hoare_logic\r\n  [2]: http://archive.eiffel.com/eiffel/nutshell.html","title":"What are the differences pre condition ,post condition and invariant in computer terminology","body":"<p>You'll have a lot of problems writing Java, especially multi-threaded code, if you can't understand these simple ideas:</p>\n<ol>\n<li>Pre-conditions are the things that must be true before a method is called.  The method tells clients &quot;this is what I expect from you&quot;.</li>\n<li>Post-conditions are the things that must be true after the method is complete.  The method tells clients &quot;this is what I promise to do for you&quot;.</li>\n<li>Invariants are the things that are always true and won't change.  The method tells clients &quot;if this was true before you called me, I promise it'll still be true when I'm done&quot;.</li>\n</ol>\n<p>They're all part of an idea called &quot;programming by contract&quot;.  It was invented by a guy named <a href=\"http://en.wikipedia.org/wiki/Hoare_logic\" rel=\"nofollow noreferrer\">C.A.R. Hoare</a>.  Bertrand Meyer built an object oriented language called <a href=\"http://archive.eiffel.com/eiffel/nutshell.html\" rel=\"nofollow noreferrer\">Eiffel</a> around it.  No one uses it much, but he had a day in the sun because of it.</p>\n<p>Eiffel isn't very popular.  There are over four million questions on SO as I write this, but only 32 of them are tagged &quot;eiffel&quot;.</p>\n<p>Update: There were 11,966,392 question on SO on 29-Jun-2016.  Only 92 of them were tagged &quot;eiffel&quot;.  The percentage of Eiffel questions is staying roughly constant at ~0.00077%.</p>\n"}],"owner":{"account_id":1197503,"reputation":7576,"user_id":1168904,"accept_rate":77,"display_name":"Inquisitive"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48232,"favorite_count":0,"down_vote_count":5,"up_vote_count":47,"closed_date":1341417712,"accepted_answer_id":11332027,"answer_count":1,"score":42,"last_activity_date":1677964560,"creation_date":1341415806,"question_id":11331964,"body_markdown":"I am reading the book [Java Concurrency in Practice][1] and getting a little bit confused with these terms:\r\n\r\n 1. *Pre condition*\r\n 2. *Post condition*\r\n 3. *Invariants*\r\n\r\nCan someone please explain me them (with an example, if it&#39;s possible)?\r\n\r\n[1]:http://jcip.net/","title":"What are the differences pre condition ,post condition and invariant in computer terminology","body":"<p>I am reading the book <a href=\"http://jcip.net/\" rel=\"noreferrer\">Java Concurrency in Practice</a> and getting a little bit confused with these terms:</p>\n\n<ol>\n<li><em>Pre condition</em></li>\n<li><em>Post condition</em></li>\n<li><em>Invariants</em></li>\n</ol>\n\n<p>Can someone please explain me them (with an example, if it's possible)?</p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":466908,"reputation":13049,"user_id":871953,"accept_rate":94,"display_name":"Eugene Retunsky"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1546415233,"creation_date":1334179015,"answer_id":10114129,"question_id":10113512,"body_markdown":"Read value can be used for your own java classes: \r\n\r\n    public class Foo {\r\n       private int a;\r\n       private String b;\r\n       private double[] c;\r\n    \r\n       // getters/setters\r\n    }\r\n    \r\n    String json = &quot;{\\&quot;a\\&quot;:2, \\&quot;b\\&quot;:\\&quot;a string\\&quot;, \\&quot;c\\&quot;: [6.7, 6, 5.6, 8.0]}&quot;;\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    Foo foo = mapper.readValue(json, Foo.class);\r\n\r\ni.e. You may choose `readTree` when you do not know exact type of the Object, and `readValue` when you know the Object type for sure.","title":"readValue and readTree in Jackson: when to use which?","body":"<p>Read value can be used for your own java classes: </p>\n\n<pre><code>public class Foo {\n   private int a;\n   private String b;\n   private double[] c;\n\n   // getters/setters\n}\n\nString json = \"{\\\"a\\\":2, \\\"b\\\":\\\"a string\\\", \\\"c\\\": [6.7, 6, 5.6, 8.0]}\";\nObjectMapper mapper = new ObjectMapper();\nFoo foo = mapper.readValue(json, Foo.class);\n</code></pre>\n\n<p>i.e. You may choose <code>readTree</code> when you do not know exact type of the Object, and <code>readValue</code> when you know the Object type for sure.</p>\n"},{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1334262958,"creation_date":1334262958,"answer_id":10131396,"question_id":10113512,"body_markdown":"readValue() can be used for any and all types, including `JsonNode`. readTree() only works for `JsonNode` (tree model); and is added for convenience.\r\n\r\nNote that you NEVER want to use your first example: it is equivalent to writing out your node as JSON, then reading it back -- just cast it.\r\n","title":"readValue and readTree in Jackson: when to use which?","body":"<p>readValue() can be used for any and all types, including <code>JsonNode</code>. readTree() only works for <code>JsonNode</code> (tree model); and is added for convenience.</p>\n\n<p>Note that you NEVER want to use your first example: it is equivalent to writing out your node as JSON, then reading it back -- just cast it.</p>\n"},{"tags":[],"owner":{"account_id":19434800,"reputation":101,"user_id":14214496,"display_name":"Evgeny Umansky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677963648,"creation_date":1677324118,"answer_id":75565044,"question_id":10113512,"body_markdown":"These methods have different **runtime** when you are parsing (deserializing, unmarshalling) same JSON.\r\n\r\nThe **fastest** way is using **readValue()** with **type reference HashMap**:\r\n\r\n    TypeReference&lt;HashMap&lt;String, Object&gt;&gt; typeRef= new TypeReference&lt;&gt;() {};\r\n    \r\n    HashMap&lt;String, Object&gt; parsedJson = objectMapper.readValue(json,typeRef);\r\n\r\nUsing **readTree**() and writing manual parser with JsonNode objects also wiil give you **fast runtime**.\r\n\r\nAdditional benefit of using **readTree**(): you can use **stream parallel** when parsing ArrayNode objects, which will boost runtime on multicore processors.\r\n\r\nOn the other hand, you can use **Jackson Streaming API** (JsonParser class) to get similar runtime as **stream parallel**.\r\n\r\nThe **slowest** way is using **readValue()** with **POJO** class:\r\n\r\n    YourPOJO parsedJson = objectMapper.readValue(json, YourPOJO.class);\r\n\r\nFinally, you can combine **readValue()** with **POJO** and **Jackson Streaming API** to get a good runtime.\r\n\r\nHere is a cool example how to use Jackson Streaming API for both the cases: [Jackson Streaming API][1].\r\n\r\n\r\nThis is approximate runtime of each parsing (deserializing, unmarshalling) way on same JSON:\r\n\r\n    Auto parsing raw map with ObjectMapper readValue() runtime: 34 ms\r\n    Auto parsing type reference map with ObjectMapper readValue() runtime: 6 ms\r\n    Auto parsing POJO with ObjectMapper readValue() runtime: 51 ms\r\n    Manual sequential parsing with ObjectMapper readTree() runtime: 18 ms\r\n    Manual stream parallel parsing with ObjectMapper readTree() runtime: 10 ms\r\n    Jackson Streaming API manual parsing with JsonParser runtime: 8 ms\r\n    Jackson Streaming API combining ObjectMapper readTree() runtime: 14 ms\r\n\r\nI have done my example and tests here:\r\n\r\n&gt; [https://github.com/EvgenyUmansky/java-json-xml-processing/blob/master/src/test/java/JacksonTest.java][2]\r\n\r\nAnother tests here:\r\n\r\n&gt; [https://gist.github.com/varren/3b7468a1d7abadad4958fe6bd7d42d44][3]\r\n\r\n\r\n  [1]: https://cassiomolin.com/2019/08/19/combining-jackson-streaming-api-with-objectmapper-for-parsing-json/\r\n  [2]: https://github.com/EvgenyUmansky/java-json-xml-processing/blob/master/src/test/java/JacksonTest.java\r\n  [3]: https://gist.github.com/varren/3b7468a1d7abadad4958fe6bd7d42d44","title":"readValue and readTree in Jackson: when to use which?","body":"<p>These methods have different <strong>runtime</strong> when you are parsing (deserializing, unmarshalling) same JSON.</p>\n<p>The <strong>fastest</strong> way is using <strong>readValue()</strong> with <strong>type reference HashMap</strong>:</p>\n<pre><code>TypeReference&lt;HashMap&lt;String, Object&gt;&gt; typeRef= new TypeReference&lt;&gt;() {};\n\nHashMap&lt;String, Object&gt; parsedJson = objectMapper.readValue(json,typeRef);\n</code></pre>\n<p>Using <strong>readTree</strong>() and writing manual parser with JsonNode objects also wiil give you <strong>fast runtime</strong>.</p>\n<p>Additional benefit of using <strong>readTree</strong>(): you can use <strong>stream parallel</strong> when parsing ArrayNode objects, which will boost runtime on multicore processors.</p>\n<p>On the other hand, you can use <strong>Jackson Streaming API</strong> (JsonParser class) to get similar runtime as <strong>stream parallel</strong>.</p>\n<p>The <strong>slowest</strong> way is using <strong>readValue()</strong> with <strong>POJO</strong> class:</p>\n<pre><code>YourPOJO parsedJson = objectMapper.readValue(json, YourPOJO.class);\n</code></pre>\n<p>Finally, you can combine <strong>readValue()</strong> with <strong>POJO</strong> and <strong>Jackson Streaming API</strong> to get a good runtime.</p>\n<p>Here is a cool example how to use Jackson Streaming API for both the cases: <a href=\"https://cassiomolin.com/2019/08/19/combining-jackson-streaming-api-with-objectmapper-for-parsing-json/\" rel=\"nofollow noreferrer\">Jackson Streaming API</a>.</p>\n<p>This is approximate runtime of each parsing (deserializing, unmarshalling) way on same JSON:</p>\n<pre><code>Auto parsing raw map with ObjectMapper readValue() runtime: 34 ms\nAuto parsing type reference map with ObjectMapper readValue() runtime: 6 ms\nAuto parsing POJO with ObjectMapper readValue() runtime: 51 ms\nManual sequential parsing with ObjectMapper readTree() runtime: 18 ms\nManual stream parallel parsing with ObjectMapper readTree() runtime: 10 ms\nJackson Streaming API manual parsing with JsonParser runtime: 8 ms\nJackson Streaming API combining ObjectMapper readTree() runtime: 14 ms\n</code></pre>\n<p>I have done my example and tests here:</p>\n<blockquote>\n<p><a href=\"https://github.com/EvgenyUmansky/java-json-xml-processing/blob/master/src/test/java/JacksonTest.java\" rel=\"nofollow noreferrer\">https://github.com/EvgenyUmansky/java-json-xml-processing/blob/master/src/test/java/JacksonTest.java</a></p>\n</blockquote>\n<p>Another tests here:</p>\n<blockquote>\n<p><a href=\"https://gist.github.com/varren/3b7468a1d7abadad4958fe6bd7d42d44\" rel=\"nofollow noreferrer\">https://gist.github.com/varren/3b7468a1d7abadad4958fe6bd7d42d44</a></p>\n</blockquote>\n"}],"owner":{"account_id":1315853,"reputation":6642,"user_id":1262753,"accept_rate":70,"display_name":"Jos de Jong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86500,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":10131396,"answer_count":3,"score":36,"last_activity_date":1677963648,"creation_date":1334176435,"question_id":10113512,"body_markdown":"I&#39;m just starting using the Jackson JSON library. Jackson is a very powerful library, but it has a terribly extensive API. A lot of things can be done in multiple ways. This makes it hard to find your way in Jackson - how to know what is the correct/best way of doing things?\r\n\r\nWhy would I use this solution:\r\n\r\n    String json = &quot;{\\&quot;a\\&quot;:2, \\&quot;b\\&quot;:\\&quot;a string\\&quot;, \\&quot;c\\&quot;: [6.7, 6, 5.6, 8.0]}&quot;;\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    JsonNode node = mapper.readValue(json, JsonNode.class);\r\n    if (node.isObject()) {\r\n        ObjectNode obj = mapper.convertValue(node, ObjectNode.class);\r\n        if (obj.has(&quot;a&quot;)) {\r\n            System.out.println(&quot;a=&quot; + obj.get(&quot;a&quot;).asDouble());\r\n        }\r\n    }\r\n\r\nOver a solution like this:\r\n\r\n    String json = &quot;{\\&quot;a\\&quot;:2, \\&quot;b\\&quot;:\\&quot;a string\\&quot;, \\&quot;c\\&quot;: [6.7, 6, 5.6, 8.0]}&quot;;\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    JsonNode node = mapper.readTree(json);\r\n    if (node.isObject()) {\r\n        ObjectNode obj = (ObjectNode) node;\r\n        if (obj.has(&quot;a&quot;)) {\r\n            System.out.println(&quot;a=&quot; + obj.get(&quot;a&quot;).asDouble());\r\n        }\r\n    }\t  \r\n\r\nOr over solutions that I came across using JsonFactory and JsonParser and maybe even more options...\r\n\r\nIt seems to mee that mapper.readValue is most generic and can be used in a lot of cases: read to JsonNode, ObjectNode, ArrayNode, PoJo, etc. So why would I want to use mapper.readTree? \r\n\r\nAnd what is the best way to convert a JsonNode to an ObjectNode? Just cast to ObjectNode? Or use something like mapper.convertValue?","title":"readValue and readTree in Jackson: when to use which?","body":"<p>I'm just starting using the Jackson JSON library. Jackson is a very powerful library, but it has a terribly extensive API. A lot of things can be done in multiple ways. This makes it hard to find your way in Jackson - how to know what is the correct/best way of doing things?</p>\n\n<p>Why would I use this solution:</p>\n\n<pre><code>String json = \"{\\\"a\\\":2, \\\"b\\\":\\\"a string\\\", \\\"c\\\": [6.7, 6, 5.6, 8.0]}\";\nObjectMapper mapper = new ObjectMapper();\nJsonNode node = mapper.readValue(json, JsonNode.class);\nif (node.isObject()) {\n    ObjectNode obj = mapper.convertValue(node, ObjectNode.class);\n    if (obj.has(\"a\")) {\n        System.out.println(\"a=\" + obj.get(\"a\").asDouble());\n    }\n}\n</code></pre>\n\n<p>Over a solution like this:</p>\n\n<pre><code>String json = \"{\\\"a\\\":2, \\\"b\\\":\\\"a string\\\", \\\"c\\\": [6.7, 6, 5.6, 8.0]}\";\nObjectMapper mapper = new ObjectMapper();\nJsonNode node = mapper.readTree(json);\nif (node.isObject()) {\n    ObjectNode obj = (ObjectNode) node;\n    if (obj.has(\"a\")) {\n        System.out.println(\"a=\" + obj.get(\"a\").asDouble());\n    }\n}     \n</code></pre>\n\n<p>Or over solutions that I came across using JsonFactory and JsonParser and maybe even more options...</p>\n\n<p>It seems to mee that mapper.readValue is most generic and can be used in a lot of cases: read to JsonNode, ObjectNode, ArrayNode, PoJo, etc. So why would I want to use mapper.readTree? </p>\n\n<p>And what is the best way to convert a JsonNode to an ObjectNode? Just cast to ObjectNode? Or use something like mapper.convertValue?</p>\n"},{"tags":["java","constants"],"comments":[{"owner":{"display_name":"user6073886"},"score":5,"creation_date":1677854143,"post_id":75628336,"comment_id":133424642,"body_markdown":"put them in a List and use contains: `Arrays.asList(UserRole.ADMIN, UserRole.SELLER, UserRole.BIGGER).contains(input)` - Note however that I see huge problems with your plan on checking if `input.toLower()` (which i assume means the lowercase conversion of your input) equals a couple of Strings of which not a single one is all lower case.","body":"put them in a List and use contains: <code>Arrays.asList(UserRole.ADMIN, UserRole.SELLER, UserRole.BIGGER).contains(input)</code> - Note however that I see huge problems with your plan on checking if <code>input.toLower()</code> (which i assume means the lowercase conversion of your input) equals a couple of Strings of which not a single one is all lower case."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1677854285,"post_id":75628336,"comment_id":133424682,"body_markdown":"A `Set` would be a bit more efficient if there are many roles. With three roles, a `List` (as @OHGODSPIDERS suggested) is fine, and may even be more efficient (I&#39;m not sure).","body":"A <code>Set</code> would be a bit more efficient if there are many roles. With three roles, a <code>List</code> (as @OHGODSPIDERS suggested) is fine, and may even be more efficient (I&#39;m not sure)."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":5,"creation_date":1677854730,"post_id":75628336,"comment_id":133424795,"body_markdown":"sounds like an ideal use case for an `enum` since you can iterate over the constants and compare their names.","body":"sounds like an ideal use case for an <code>enum</code> since you can iterate over the constants and compare their names."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1677854909,"post_id":75628336,"comment_id":133424867,"body_markdown":"@pasta64 how would `eval()` work for this question?","body":"@pasta64 how would <code>eval()</code> work for this question?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1677856306,"post_id":75628336,"comment_id":133425277,"body_markdown":"`enum` (`String`s are not type safe) then `UserRole.valueOf(u.toUpperCase());` An exception will be thrown if not valid.","body":"<code>enum</code> (<code>String</code>s are not type safe) then <code>UserRole.valueOf(u.toUpperCase());</code> An exception will be thrown if not valid."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1677857621,"post_id":75628336,"comment_id":133425702,"body_markdown":"`boolean matches = switch(input.toLower()) { case ADMIN, SELLER, BIDDER -&gt; true; default -&gt; false; };` but as @OHGODSPIDERS already said, there will never be a match as long as your constant strings contain uppercase characters.","body":"<code>boolean matches = switch(input.toLower()) { case ADMIN, SELLER, BIDDER -&gt; true; default -&gt; false; };</code> but as @OHGODSPIDERS already said, there will never be a match as long as your constant strings contain uppercase characters."}],"answers":[{"tags":[],"owner":{"account_id":1175258,"reputation":346,"user_id":1151412,"accept_rate":22,"display_name":"Hushen Savani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677855774,"creation_date":1677855774,"answer_id":75628691,"question_id":75628336,"body_markdown":"It is not a good idea to match the input against the constants fields. You could use map to match such data. However, still if you want to do it, here is the class.\r\n\r\n    import java.lang.reflect.Field;\r\n    \r\n    public class ConstantCheckerUtil {\r\n        public static boolean checkConstant(String input) {\r\n            boolean hasAnyMatch = false;\r\n    \r\n            try {\r\n                Class&lt;UserRole&gt; userRoleClass = UserRole.class;\r\n                Field[] userRoleClassDeclaredFields = userRoleClass.getDeclaredFields();\r\n                for (Field userRoleClassDeclaredField : userRoleClassDeclaredFields) {\r\n                    if(userRoleClassDeclaredField.get(userRoleClassDeclaredField.toString()).toString().toLowerCase().equals(input)) {\r\n                        hasAnyMatch = true;\r\n                        break;\r\n                    }\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace(); //You can enhance the logging part\r\n            }\r\n    \r\n            return hasAnyMatch;\r\n        }\r\n    \r\n        public static void main(String[] args) { //Testing\r\n            System.out.println(ConstantCheckerUtil.checkConstant(&quot;Admin&quot;.toLowerCase()));\r\n        }\r\n    }\r\n\r\n","title":"Java | Use constant and check if a value equals one of them","body":"<p>It is not a good idea to match the input against the constants fields. You could use map to match such data. However, still if you want to do it, here is the class.</p>\n<pre><code>import java.lang.reflect.Field;\n\npublic class ConstantCheckerUtil {\n    public static boolean checkConstant(String input) {\n        boolean hasAnyMatch = false;\n\n        try {\n            Class&lt;UserRole&gt; userRoleClass = UserRole.class;\n            Field[] userRoleClassDeclaredFields = userRoleClass.getDeclaredFields();\n            for (Field userRoleClassDeclaredField : userRoleClassDeclaredFields) {\n                if(userRoleClassDeclaredField.get(userRoleClassDeclaredField.toString()).toString().toLowerCase().equals(input)) {\n                    hasAnyMatch = true;\n                    break;\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace(); //You can enhance the logging part\n        }\n\n        return hasAnyMatch;\n    }\n\n    public static void main(String[] args) { //Testing\n        System.out.println(ConstantCheckerUtil.checkConstant(&quot;Admin&quot;.toLowerCase()));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677962433,"creation_date":1677861907,"answer_id":75629759,"question_id":75628336,"body_markdown":"# Enum\r\n\r\n&gt; I gonna use a lot of constants in my code and that w&#39;d probably produce a more elegant code that easier to debug and read.\r\n\r\nFor constants known at compile time, an [enum][1] is often the best approach. The enum facility in Java is more powerful and flexible than you may have seen in other languages. \r\n\r\nIn Java, each enum object is named in all-uppercase, by convention. \r\n\r\n```java\r\nenum UserRole\r\n{\r\n    ADMIN ,\r\n    SELLER , \r\n    BIDDER ;\r\n }\r\n```\r\n\r\nFetch by constant name.\r\n\r\n```java\r\nUserRole userRole = UserRole.valueOf( UserRole.class , &quot;seller&quot;.toUpperCase() ) ;\r\n```\r\n\r\nSee that [code run at Ideone.com][2].\r\n\r\n&gt;userRole.toString() = SELLER\r\n\r\nOr, you may want to add a display name for presentation to the users. \r\n\r\nAdd a private member field to the enum class. Write a constructor that takes the text of each enum object’s display name. Add a getter method. And write a `static` method to look for the enum matching an expected display name.\r\n\r\n```java\r\nenum UserRole\r\n{\r\n    ADMIN ( &quot;Admin&quot; ) ,\r\n    SELLER ( &quot;Seller&quot; ) , \r\n    BIDDER ( &quot;Bidder&quot; ) ;\r\n\r\n    private final String displayName ;\r\n\r\n    // Constructor \r\n    UserRole ( String displayName ) \r\n    {\r\n        this.displayName = displayName ;\r\n    }\r\n\r\n    public String getDisplayName() \r\n    { \r\n        return this.displayName ; \r\n    }\r\n\r\n    public static UserRole forDisplayNameIgnoreCase ( final String desiredDisplayName ) \r\n    {\r\n        for ( UserRole userRole : UserRole.values() )\r\n        {\r\n            if ( userRole.getDisplayName().equalsIgnoreCase( desiredDisplayName ) )\r\n            {\r\n                return userRole ;\r\n            }\r\n        }\r\n        throw new IllegalArgumentException( &quot;Unknown display name&quot; ) ;  // Or return an `Optional&lt; UserRole &gt;`. The Optional would be my preference. \r\n    }\r\n\r\n}\r\n```\r\n\r\nFetch by display name. \r\n\r\n    UserRole userRole = UserRole.forDisplayNameIgnoreCase ( &quot;seller&quot; ) ;\r\n\r\nSee this [code run at Ideone.com][3].\r\n\r\n&gt;userRole.toString() = SELLER\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Enum.html\r\n  [2]: https://ideone.com/452Z2R\r\n  [3]: https://ideone.com/OGBpRo","title":"Java | Use constant and check if a value equals one of them","body":"<h1>Enum</h1>\n<blockquote>\n<p>I gonna use a lot of constants in my code and that w'd probably produce a more elegant code that easier to debug and read.</p>\n</blockquote>\n<p>For constants known at compile time, an <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Enum.html\" rel=\"nofollow noreferrer\">enum</a> is often the best approach. The enum facility in Java is more powerful and flexible than you may have seen in other languages.</p>\n<p>In Java, each enum object is named in all-uppercase, by convention.</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum UserRole\n{\n    ADMIN ,\n    SELLER , \n    BIDDER ;\n }\n</code></pre>\n<p>Fetch by constant name.</p>\n<pre class=\"lang-java prettyprint-override\"><code>UserRole userRole = UserRole.valueOf( UserRole.class , &quot;seller&quot;.toUpperCase() ) ;\n</code></pre>\n<p>See that <a href=\"https://ideone.com/452Z2R\" rel=\"nofollow noreferrer\">code run at Ideone.com</a>.</p>\n<blockquote>\n<p>userRole.toString() = SELLER</p>\n</blockquote>\n<p>Or, you may want to add a display name for presentation to the users.</p>\n<p>Add a private member field to the enum class. Write a constructor that takes the text of each enum object’s display name. Add a getter method. And write a <code>static</code> method to look for the enum matching an expected display name.</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum UserRole\n{\n    ADMIN ( &quot;Admin&quot; ) ,\n    SELLER ( &quot;Seller&quot; ) , \n    BIDDER ( &quot;Bidder&quot; ) ;\n\n    private final String displayName ;\n\n    // Constructor \n    UserRole ( String displayName ) \n    {\n        this.displayName = displayName ;\n    }\n\n    public String getDisplayName() \n    { \n        return this.displayName ; \n    }\n\n    public static UserRole forDisplayNameIgnoreCase ( final String desiredDisplayName ) \n    {\n        for ( UserRole userRole : UserRole.values() )\n        {\n            if ( userRole.getDisplayName().equalsIgnoreCase( desiredDisplayName ) )\n            {\n                return userRole ;\n            }\n        }\n        throw new IllegalArgumentException( &quot;Unknown display name&quot; ) ;  // Or return an `Optional&lt; UserRole &gt;`. The Optional would be my preference. \n    }\n\n}\n</code></pre>\n<p>Fetch by display name.</p>\n<pre><code>UserRole userRole = UserRole.forDisplayNameIgnoreCase ( &quot;seller&quot; ) ;\n</code></pre>\n<p>See this <a href=\"https://ideone.com/OGBpRo\" rel=\"nofollow noreferrer\">code run at Ideone.com</a>.</p>\n<blockquote>\n<p>userRole.toString() = SELLER</p>\n</blockquote>\n"}],"owner":{"account_id":27060161,"reputation":79,"user_id":20612285,"display_name":"danwgh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75629759,"answer_count":2,"score":2,"last_activity_date":1677962433,"creation_date":1677853787,"question_id":75628336,"body_markdown":"I have this class to hold my constants:\r\n```\r\npublic class UserRole {\r\n    static final String ADMIN = &quot;Admin&quot;;\r\n    static final String SELLER = &quot;Seller&quot;;\r\n    static final String BIDDER = &quot;Bidder&quot;; \r\n}\r\n```\r\nWhen Im getting input from the user I want to check that `input.toLower()` equals to one of this constants.&lt;br/&gt; (I want the class to provide such a method)\r\nI can do it with multiple `if`s of course but i want it to be more elegant. I gonna use a lot of constants in my code and that w&#39;d probably produce a more elegant code that easier to debug and read.\r\nIm coming from the C++ world where i can use x-macros or something similar and i&#39;d like to know what is a good way to achieve this task in Java.","title":"Java | Use constant and check if a value equals one of them","body":"<p>I have this class to hold my constants:</p>\n<pre><code>public class UserRole {\n    static final String ADMIN = &quot;Admin&quot;;\n    static final String SELLER = &quot;Seller&quot;;\n    static final String BIDDER = &quot;Bidder&quot;; \n}\n</code></pre>\n<p>When Im getting input from the user I want to check that <code>input.toLower()</code> equals to one of this constants.<br/> (I want the class to provide such a method)\nI can do it with multiple <code>if</code>s of course but i want it to be more elegant. I gonna use a lot of constants in my code and that w'd probably produce a more elegant code that easier to debug and read.\nIm coming from the C++ world where i can use x-macros or something similar and i'd like to know what is a good way to achieve this task in Java.</p>\n"},{"tags":["java","maven","plugins","netbeans","war"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1677941029,"post_id":75634726,"comment_id":133438366,"body_markdown":"Show us the `pom.xml`","body":"Show us the <code>pom.xml</code>"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1677962123,"post_id":75634726,"comment_id":133442075,"body_markdown":"Please follow the guidelines in [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask) so that you can improve your question.","body":"Please follow the guidelines in <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a> so that you can improve your question."}],"owner":{"account_id":22664964,"reputation":13,"user_id":16837466,"display_name":"Reda Mohammed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678015716,"answer_count":0,"score":0,"last_activity_date":1677962026,"creation_date":1677921666,"question_id":75634726,"body_markdown":"&gt; Failed to execute goal\r\n&gt; org.apache.maven.plugins:maven-war-plugin:2.1.1:war (default-war) on\r\n&gt; project Gestion_pfe: Execution default-war of goal\r\n&gt; org.apache.maven.plugins:maven-war-plugin:2.1.1:war failed: Unable to\r\n&gt; load the mojo &#39;war&#39; in the plugin\r\n&gt; &#39;org.apache.maven.plugins:maven-war-plugin:2.1.1&#39; due to an API\r\n&gt; incompatibility:\r\n&gt; org.codehaus.plexus.component.repository.exception.ComponentLookupException:\r\n&gt; Cannot access defaults field of Properties\r\n\r\nI haven&#39;t done anything yet in the code. I just try to run the project before I start coding.","title":"ComponentLookupException in Maven project","body":"<blockquote>\n<p>Failed to execute goal\norg.apache.maven.plugins:maven-war-plugin:2.1.1:war (default-war) on\nproject Gestion_pfe: Execution default-war of goal\norg.apache.maven.plugins:maven-war-plugin:2.1.1:war failed: Unable to\nload the mojo 'war' in the plugin\n'org.apache.maven.plugins:maven-war-plugin:2.1.1' due to an API\nincompatibility:\norg.codehaus.plexus.component.repository.exception.ComponentLookupException:\nCannot access defaults field of Properties</p>\n</blockquote>\n<p>I haven't done anything yet in the code. I just try to run the project before I start coding.</p>\n"},{"tags":["java","node.js","hosting","vercel","stateless"],"owner":{"account_id":27785875,"reputation":11,"user_id":21213332,"display_name":"Mohit Chandra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677961061,"creation_date":1677961061,"question_id":75638419,"body_markdown":"I am getting error while hosting node.js server on vercel\r\n\r\nI was expecting the node.js server to be hosted successfully\r\n\r\n\r\n[![I went to link/_logs and this is what it displayed](https://i.stack.imgur.com/oAqYo.png)](https://i.stack.imgur.com/oAqYo.png)","title":"Serverless Function Invocation Failed Vercel Error Error Code: 500","body":"<p>I am getting error while hosting node.js server on vercel</p>\n<p>I was expecting the node.js server to be hosted successfully</p>\n<p><a href=\"https://i.stack.imgur.com/oAqYo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oAqYo.png\" alt=\"I went to link/_logs and this is what it displayed\" /></a></p>\n"},{"tags":["java","spring","spring-boot","oop","design-patterns"],"comments":[{"owner":{"account_id":15467626,"reputation":51,"user_id":11158542,"display_name":"Cheatr01"},"score":0,"creation_date":1677970955,"post_id":75638389,"comment_id":133443457,"body_markdown":"Visitor is probably right approche for this. Java NIO api use it for walking by nodes in filesystem&#39;s dir structure.","body":"Visitor is probably right approche for this. Java NIO api use it for walking by nodes in filesystem&#39;s dir structure."}],"owner":{"account_id":26335980,"reputation":3,"user_id":19995812,"display_name":"uzarkov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677960647,"creation_date":1677960647,"question_id":75638389,"body_markdown":"I am looking for the cleanest way to validate complex hierarchies of objects. \r\n\r\nI have a master class names `Container`. `Constainer` consists of some string fields and `ContainerProp`. `ContainerProp` is abstract class with many subclasses like `PropA`, `PropB` etc. `PropA` has a `Constraint` which is albo an abstract class with many subclasses like `ConstraintA`, `ConstraintB`... Additionally, `ConstraintA` has a `Rating` object. The structure may go even deeper, but lets stay with that.\r\n\r\nBit complex, I know, but I can&#39;t modify this structure.\r\n\r\n\r\nWhen it comes to code, it looks like this:\r\n\r\n```\r\npublic class Container {\r\n    //some fields, constructors and methods\r\n    private ContainerProp containerProp;\r\n}\r\n```\r\n\r\n```\r\npublic abstract class ContainerProp {\r\n    //some fields, constructors and abstract methods\r\n}\r\n```\r\n\r\n```\r\npublic class PropA extends ContainerProp {\r\n    //some fields, constructors and methods\r\n    private Constraint constraint;\r\n}\r\n```\r\n\r\n```\r\npublic abstract class Constraint {\r\n    //some fields, constructors and abstract methods\r\n}\r\n```\r\n\r\n```\r\npublic class ConstraintA extends Constraint {\r\n    //some fields, constructors and methods\r\n    private Rating rating;\r\n}\r\n```\r\n```\r\n\r\npublic class Rating {\r\n    private String x;\r\n    private String y;\r\n}\r\n```\r\n\r\nI am thinking of some clean and elegant way to validate the whole structure just by using `container.validate()` or something like this. The first idea that I had was using `visitor pattern`. It would work perfectly for single superclass-subclass level, but I am not really sure if using visitor for the whole structure is the right approach, as it seems a little bit too wide.\r\nDo you know some clean way to solve this problem? Thanks in advance\r\n\r\n","title":"Clean validation of complex object hierarchy","body":"<p>I am looking for the cleanest way to validate complex hierarchies of objects.</p>\n<p>I have a master class names <code>Container</code>. <code>Constainer</code> consists of some string fields and <code>ContainerProp</code>. <code>ContainerProp</code> is abstract class with many subclasses like <code>PropA</code>, <code>PropB</code> etc. <code>PropA</code> has a <code>Constraint</code> which is albo an abstract class with many subclasses like <code>ConstraintA</code>, <code>ConstraintB</code>... Additionally, <code>ConstraintA</code> has a <code>Rating</code> object. The structure may go even deeper, but lets stay with that.</p>\n<p>Bit complex, I know, but I can't modify this structure.</p>\n<p>When it comes to code, it looks like this:</p>\n<pre><code>public class Container {\n    //some fields, constructors and methods\n    private ContainerProp containerProp;\n}\n</code></pre>\n<pre><code>public abstract class ContainerProp {\n    //some fields, constructors and abstract methods\n}\n</code></pre>\n<pre><code>public class PropA extends ContainerProp {\n    //some fields, constructors and methods\n    private Constraint constraint;\n}\n</code></pre>\n<pre><code>public abstract class Constraint {\n    //some fields, constructors and abstract methods\n}\n</code></pre>\n<pre><code>public class ConstraintA extends Constraint {\n    //some fields, constructors and methods\n    private Rating rating;\n}\n</code></pre>\n<pre><code>\npublic class Rating {\n    private String x;\n    private String y;\n}\n</code></pre>\n<p>I am thinking of some clean and elegant way to validate the whole structure just by using <code>container.validate()</code> or something like this. The first idea that I had was using <code>visitor pattern</code>. It would work perfectly for single superclass-subclass level, but I am not really sure if using visitor for the whole structure is the right approach, as it seems a little bit too wide.\nDo you know some clean way to solve this problem? Thanks in advance</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9392,"page":600,"page_size":100}
