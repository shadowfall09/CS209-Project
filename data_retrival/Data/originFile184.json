{"items":[{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":6100306,"reputation":111,"user_id":4759550,"display_name":"Dawid D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472120214,"creation_date":1472120214,"answer_id":39142565,"question_id":39142490,"body_markdown":"Directory under which resides your java files is not source code directory. \r\n\r\nYou can mark directory in Intellij.\r\n\r\nIt is described here https://www.jetbrains.com/help/idea/2016.2/configuring-content-roots.html\r\n\r\nYou can also right click on directory and use mark directory as. \r\n\r\nIf You using maven project, You should follow maven pattern of directories \r\n\r\nhttps://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html","title":"Why IntelliJ marked my class as J?","body":"<p>Directory under which resides your java files is not source code directory. </p>\n\n<p>You can mark directory in Intellij.</p>\n\n<p>It is described here <a href=\"https://www.jetbrains.com/help/idea/2016.2/configuring-content-roots.html\" rel=\"nofollow\">https://www.jetbrains.com/help/idea/2016.2/configuring-content-roots.html</a></p>\n\n<p>You can also right click on directory and use mark directory as. </p>\n\n<p>If You using maven project, You should follow maven pattern of directories </p>\n\n<p><a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"nofollow\">https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html</a></p>\n"},{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1472121503,"creation_date":1472120510,"answer_id":39142677,"question_id":39142490,"body_markdown":"Files marked with [![enter image description here][1]][1] are java source files presents in a directory marked a source root (or a subdirectory of it) from intelliJ.\r\n\r\nFiles marked with [![enter image description here][2]][2] are java source files presents in a directory that is NOT marked as source root (or a sub directory of it) from IntelliJ.\r\n\r\nGenerally circle icons are related to file in directory recognized from IntelliJ as source, squares are files not in a source directory.\r\n\r\nFor a complete description of each icon you can see the following links:\r\n\r\n - [Symbols][3] - Here you can find the [![enter image description here][1]][1] icon\r\n - [File Types][4] - Here you can find the [![enter image description here][2]][2] icon\r\n\r\n\r\nIf a file is not under a directory tree marked as source root it is only a file. \r\n\r\nInstead if a file is under a directory tree marked as source root it is recognized as a class, annotation, interface, or enum and it is visible with the command `Find Usages ALT+F7`, because is part of the source.\r\n\r\n----\r\n\r\nAdditional note. If a file has extension java, but is not a java class (for example if the file is empty) the icon is [![enter image description here][2]][2] also if present in a tree marked as source tree, because IntelliJ can&#39;t understand if it is a class, an enum, an interface or something different.\r\n\r\nSo check the content of the files marked as [![enter image description here][2]][2]. It is possible that for example the declaration of the class is wrong written.\r\n\r\nFor example a file MyClass.java with this content\r\n\r\n    public clas MyClass {\r\n    }\r\n\r\nhas the icon [![enter image description here][2]][2] because the declaration of the class is wrong.\r\n\r\nCorrecting to the following change also the icon to [![enter image description here][1]][1]\r\n\r\n    // Added an s to class\r\n    public class MyClass {\r\n    }\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/PJnyj.png\r\n  [2]: http://i.stack.imgur.com/8rQRG.png\r\n  [3]: https://www.jetbrains.com/help/idea/2016.2/symbols.html\r\n  [4]: https://www.jetbrains.com/help/idea/2016.2/file-types-recognized-by-intellij-idea.html","title":"Why IntelliJ marked my class as J?","body":"<p>Files marked with <a href=\"https://i.stack.imgur.com/PJnyj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PJnyj.png\" alt=\"enter image description here\"></a> are java source files presents in a directory marked a source root (or a subdirectory of it) from intelliJ.</p>\n\n<p>Files marked with <a href=\"https://i.stack.imgur.com/8rQRG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8rQRG.png\" alt=\"enter image description here\"></a> are java source files presents in a directory that is NOT marked as source root (or a sub directory of it) from IntelliJ.</p>\n\n<p>Generally circle icons are related to file in directory recognized from IntelliJ as source, squares are files not in a source directory.</p>\n\n<p>For a complete description of each icon you can see the following links:</p>\n\n<ul>\n<li><a href=\"https://www.jetbrains.com/help/idea/2016.2/symbols.html\" rel=\"nofollow noreferrer\">Symbols</a> - Here you can find the <a href=\"https://i.stack.imgur.com/PJnyj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PJnyj.png\" alt=\"enter image description here\"></a> icon</li>\n<li><a href=\"https://www.jetbrains.com/help/idea/2016.2/file-types-recognized-by-intellij-idea.html\" rel=\"nofollow noreferrer\">File Types</a> - Here you can find the <a href=\"https://i.stack.imgur.com/8rQRG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8rQRG.png\" alt=\"enter image description here\"></a> icon</li>\n</ul>\n\n<p>If a file is not under a directory tree marked as source root it is only a file. </p>\n\n<p>Instead if a file is under a directory tree marked as source root it is recognized as a class, annotation, interface, or enum and it is visible with the command <code>Find Usages ALT+F7</code>, because is part of the source.</p>\n\n<hr>\n\n<p>Additional note. If a file has extension java, but is not a java class (for example if the file is empty) the icon is <a href=\"https://i.stack.imgur.com/8rQRG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8rQRG.png\" alt=\"enter image description here\"></a> also if present in a tree marked as source tree, because IntelliJ can't understand if it is a class, an enum, an interface or something different.</p>\n\n<p>So check the content of the files marked as <a href=\"https://i.stack.imgur.com/8rQRG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8rQRG.png\" alt=\"enter image description here\"></a>. It is possible that for example the declaration of the class is wrong written.</p>\n\n<p>For example a file MyClass.java with this content</p>\n\n<pre><code>public clas MyClass {\n}\n</code></pre>\n\n<p>has the icon <a href=\"https://i.stack.imgur.com/8rQRG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8rQRG.png\" alt=\"enter image description here\"></a> because the declaration of the class is wrong.</p>\n\n<p>Correcting to the following change also the icon to <a href=\"https://i.stack.imgur.com/PJnyj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PJnyj.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>// Added an s to class\npublic class MyClass {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14222505,"reputation":1863,"user_id":10275943,"display_name":"Ikbel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694698870,"creation_date":1694698870,"answer_id":77105487,"question_id":39142490,"body_markdown":"Check to see if you accidentally turned on Power Save (File/Power Save Mode) I myself just discovered that File/Power Save Mode does turn it off. I was having the same problem and must have accidentally set Power Save Mode to on.","title":"Why IntelliJ marked my class as J?","body":"<p>Check to see if you accidentally turned on Power Save (File/Power Save Mode) I myself just discovered that File/Power Save Mode does turn it off. I was having the same problem and must have accidentally set Power Save Mode to on.</p>\n"}],"owner":{"account_id":1474584,"reputation":876,"user_id":1385310,"accept_rate":63,"display_name":"Tian Na"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3628,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1694698870,"creation_date":1472120019,"question_id":39142490,"body_markdown":"Can someone explain to me why IntelliJ decided to mark some of my classes with  [![enter image description here][1]][1] symbol?\r\n\r\nI have multiple classes in the same package and some are marked with [![enter image description here][1]][1] whereas others with [![enter image description here][2]][2].\r\n\r\nI wouldn&#39;t not mind if [![enter image description here][1]][1] didn&#39;t cause the class to lose colouring and more importantly shortcuts stopped working(!), for example `Find usages ALT+F7`.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n*.iml configuration file:\r\n\r\n    &lt;content url=&quot;file://$MODULE_DIR$&quot;&gt;\r\n      &lt;sourceFolder url=&quot;file://$MODULE_DIR$/src/main/java&quot; isTestSource=&quot;false&quot; /&gt;\r\n      &lt;sourceFolder url=&quot;file://$MODULE_DIR$/src/test/java&quot; isTestSource=&quot;true&quot; /&gt;\r\n      &lt;excludeFolder url=&quot;file://$MODULE_DIR$/target&quot; /&gt;\r\n    &lt;/content&gt;\r\nNote this was working correctly before (yesterday). Just happened today. The maven project builds correctly. The classes are correct.\r\n\r\n  [1]: http://i.stack.imgur.com/8rQRG.png\r\n  [2]: http://i.stack.imgur.com/PJnyj.png\r\n  [3]: http://i.stack.imgur.com/PDpGG.png","title":"Why IntelliJ marked my class as J?","body":"<p>Can someone explain to me why IntelliJ decided to mark some of my classes with  <a href=\"https://i.stack.imgur.com/8rQRG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8rQRG.png\" alt=\"enter image description here\"></a> symbol?</p>\n\n<p>I have multiple classes in the same package and some are marked with <a href=\"https://i.stack.imgur.com/8rQRG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8rQRG.png\" alt=\"enter image description here\"></a> whereas others with <a href=\"https://i.stack.imgur.com/PJnyj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PJnyj.png\" alt=\"enter image description here\"></a>.</p>\n\n<p>I wouldn't not mind if <a href=\"https://i.stack.imgur.com/8rQRG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8rQRG.png\" alt=\"enter image description here\"></a> didn't cause the class to lose colouring and more importantly shortcuts stopped working(!), for example <code>Find usages ALT+F7</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/PDpGG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PDpGG.png\" alt=\"enter image description here\"></a></p>\n\n<p>*.iml configuration file:</p>\n\n<pre><code>&lt;content url=\"file://$MODULE_DIR$\"&gt;\n  &lt;sourceFolder url=\"file://$MODULE_DIR$/src/main/java\" isTestSource=\"false\" /&gt;\n  &lt;sourceFolder url=\"file://$MODULE_DIR$/src/test/java\" isTestSource=\"true\" /&gt;\n  &lt;excludeFolder url=\"file://$MODULE_DIR$/target\" /&gt;\n&lt;/content&gt;\n</code></pre>\n\n<p>Note this was working correctly before (yesterday). Just happened today. The maven project builds correctly. The classes are correct.</p>\n"},{"tags":["java","java-14","java-record"],"answers":[{"tags":[],"owner":{"account_id":8606921,"reputation":1580,"user_id":6446770,"accept_rate":100,"display_name":"miiiii"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1616091949,"creation_date":1597129328,"answer_id":63353084,"question_id":63352151,"body_markdown":"Note: I might not be so correct as this is about future motivations in Java or the intent of the community about **value types**. The answer is based on my personal knowledge and the information available openly on the internet.\r\n\r\n\r\nWe all know that the Java Community is so big and mature enough that they do not (and could not) add any random feature for experiments until &amp; unless stated otherwise. Keeping this in mind, I remember [this article][1] on the OpenJDK website which briefly describes the idea of `value types` in Java. One thing to notice here is that it is written/updated in April 2014 while the `record` first came out in Java 14 in March 2020.\r\n\r\nBut in the above article itself, they did give the example of `record` while explaining the value types. Most of its description does match to the current `record` as well. \r\n\r\n&gt; The JVM type system is almost entirely nominal as opposed to structural. Likewise, components of value types should be identified by names, not just their element number. (This makes value types more like records than tuples.)\r\n\r\nAnd with no surprise, Brian Goetz was also a co-author of this article.\r\n\r\nBut there are other places in the universe where the `record` is also represented as `data classes`. See [this article][2], it&#39;s also written/updated by Brain. The interesting part [is here][3].\r\n\r\n\r\n&gt; Values Victor will say &quot;a data class is really just a more transparent value type.&quot;\r\n\r\nNow, considering all these steps together, it does look like `record` is a feature motivated by (or for) tuples, data classes, value types, etc... etc... but they are not a substitute for each other.\r\n\r\nAs Brain mentioned in the comments:- \r\n\r\n&gt; A better way to interpret the documents cited here that tuple-like types are one possible use for value types, but by far not the only one. And it is possible to have record types that need an identity. So the two will commonly work together, but neither subsumes the other -- each brings something unique to the table.\r\n\r\n\r\nComing to your concern about performance increase, here is [an article][4] that compared the performance of Java 14 records (preview) vs traditional class. You might find it interesting. I did not see any significant improvements in the performance from the results of the above link. \r\n\r\n\r\nAs far as I know, the stack is significantly faster than that of the heap. So due to the fact that `record` is actually a special class only, which then goes to the heap than to the stack (value type/primitive type should live in the stack like the `int`, remember Brian “Codes like a class, works like an int!” ). By the way, this is my personal view, I might be wrong for my statements on stack and heap here. I&#39;ll be more than happy to see if anyone corrects me or supports me on this.\r\n\r\n\r\n  [1]: http://cr.openjdk.java.net/~jrose/values/values-0.html\r\n  [2]: https://cr.openjdk.java.net/~briangoetz/amber/datum.html\r\n  [3]: https://cr.openjdk.java.net/~briangoetz/amber/datum.html#meet-the-elephant\r\n  [4]: https://jstobigdata.com/java/java-14-records-to-rescue-a-preview-feature/","title":"Are Java records intended to eventually become value types?","body":"<p>Note: I might not be so correct as this is about future motivations in Java or the intent of the community about <strong>value types</strong>. The answer is based on my personal knowledge and the information available openly on the internet.</p>\n<p>We all know that the Java Community is so big and mature enough that they do not (and could not) add any random feature for experiments until &amp; unless stated otherwise. Keeping this in mind, I remember <a href=\"http://cr.openjdk.java.net/%7Ejrose/values/values-0.html\" rel=\"nofollow noreferrer\">this article</a> on the OpenJDK website which briefly describes the idea of <code>value types</code> in Java. One thing to notice here is that it is written/updated in April 2014 while the <code>record</code> first came out in Java 14 in March 2020.</p>\n<p>But in the above article itself, they did give the example of <code>record</code> while explaining the value types. Most of its description does match to the current <code>record</code> as well.</p>\n<blockquote>\n<p>The JVM type system is almost entirely nominal as opposed to structural. Likewise, components of value types should be identified by names, not just their element number. (This makes value types more like records than tuples.)</p>\n</blockquote>\n<p>And with no surprise, Brian Goetz was also a co-author of this article.</p>\n<p>But there are other places in the universe where the <code>record</code> is also represented as <code>data classes</code>. See <a href=\"https://cr.openjdk.java.net/%7Ebriangoetz/amber/datum.html\" rel=\"nofollow noreferrer\">this article</a>, it's also written/updated by Brain. The interesting part <a href=\"https://cr.openjdk.java.net/%7Ebriangoetz/amber/datum.html#meet-the-elephant\" rel=\"nofollow noreferrer\">is here</a>.</p>\n<blockquote>\n<p>Values Victor will say &quot;a data class is really just a more transparent value type.&quot;</p>\n</blockquote>\n<p>Now, considering all these steps together, it does look like <code>record</code> is a feature motivated by (or for) tuples, data classes, value types, etc... etc... but they are not a substitute for each other.</p>\n<p>As Brain mentioned in the comments:-</p>\n<blockquote>\n<p>A better way to interpret the documents cited here that tuple-like types are one possible use for value types, but by far not the only one. And it is possible to have record types that need an identity. So the two will commonly work together, but neither subsumes the other -- each brings something unique to the table.</p>\n</blockquote>\n<p>Coming to your concern about performance increase, here is <a href=\"https://jstobigdata.com/java/java-14-records-to-rescue-a-preview-feature/\" rel=\"nofollow noreferrer\">an article</a> that compared the performance of Java 14 records (preview) vs traditional class. You might find it interesting. I did not see any significant improvements in the performance from the results of the above link.</p>\n<p>As far as I know, the stack is significantly faster than that of the heap. So due to the fact that <code>record</code> is actually a special class only, which then goes to the heap than to the stack (value type/primitive type should live in the stack like the <code>int</code>, remember Brian “Codes like a class, works like an int!” ). By the way, this is my personal view, I might be wrong for my statements on stack and heap here. I'll be more than happy to see if anyone corrects me or supports me on this.</p>\n"},{"tags":[],"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"down_vote_count":0,"up_vote_count":105,"is_accepted":true,"score":105,"last_activity_date":1694698808,"creation_date":1597174521,"answer_id":63365195,"question_id":63352151,"body_markdown":"Records and value types have a lot in common -- they are implicitly final and shallowly immutable.  So it is understandable that the two might be seen as the same thing.  In reality, they are different, and there is room for both of them to co-exist, but they can also work together.  \r\n\r\nBoth of these new kinds of classes involve some sort of restriction, in exchange for certain benefits.  (Just like `enum`, where you give up control over instantiation, and are rewarded with a more streamlined declaration, support in `switch`, etc.)\r\n\r\nA `record` requires you to give up on extension, mutability, and the ability to decouple the representation from the API.  In return, you get implementations of constructors, accessors, `equals`, `hashCode`, and more.  \r\n\r\nA `value class` requires you to give up on identity, which includes giving up on extension and mutability, as well as some other things (e.g., synchronization).  In return, you get a different set of benefits -- flattened representation, optimized calling sequences, and state-based `equals` and `hashCode`.  \r\n\r\nIf you are willing to make both compromises, you can get _both_ sets of benefits -- this would be a `value record`.  There are lots of use cases for value records, so classes that are records today could migrate to value records tomorrow, and would just get faster.\r\n\r\nBut, we don&#39;t want to force all records to be values or for all values to be records.  There are value classes that want to use encapsulation, and records that want identity (so they can organize into trees or graphs), and this is fine.  ","title":"Are Java records intended to eventually become value types?","body":"<p>Records and value types have a lot in common -- they are implicitly final and shallowly immutable.  So it is understandable that the two might be seen as the same thing.  In reality, they are different, and there is room for both of them to co-exist, but they can also work together.</p>\n<p>Both of these new kinds of classes involve some sort of restriction, in exchange for certain benefits.  (Just like <code>enum</code>, where you give up control over instantiation, and are rewarded with a more streamlined declaration, support in <code>switch</code>, etc.)</p>\n<p>A <code>record</code> requires you to give up on extension, mutability, and the ability to decouple the representation from the API.  In return, you get implementations of constructors, accessors, <code>equals</code>, <code>hashCode</code>, and more.</p>\n<p>A <code>value class</code> requires you to give up on identity, which includes giving up on extension and mutability, as well as some other things (e.g., synchronization).  In return, you get a different set of benefits -- flattened representation, optimized calling sequences, and state-based <code>equals</code> and <code>hashCode</code>.</p>\n<p>If you are willing to make both compromises, you can get <em>both</em> sets of benefits -- this would be a <code>value record</code>.  There are lots of use cases for value records, so classes that are records today could migrate to value records tomorrow, and would just get faster.</p>\n<p>But, we don't want to force all records to be values or for all values to be records.  There are value classes that want to use encapsulation, and records that want identity (so they can organize into trees or graphs), and this is fine.</p>\n"},{"tags":[],"owner":{"account_id":2303833,"reputation":843,"user_id":2023533,"accept_rate":57,"display_name":"mmirwaldt"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1663975285,"creation_date":1616029099,"answer_id":66683361,"question_id":63352151,"body_markdown":"**Disclaimer:** This answer only extends the other answers by summarizing some implications and giving some examples. You should not make any decisions relying on this information because pattern matching and value types are still subjects of change.\r\n\r\nThere are two interesting documents about data classes aka records vs value types:\r\nThe older version from February 2018   \r\nhttp://cr.openjdk.java.net/~briangoetz/amber/datum_2.html#are-data-classes-the-same-as-value-types   \r\nand the newer version from February 2019   \r\nhttps://cr.openjdk.java.net/~briangoetz/amber/datum.html#are-records-the-same-as-value-types\r\n\r\nEach document includes a paragraph about differences between records and value types.\r\nThe older version says \r\n\r\n&gt; The lack of layout polymorphism means we have to give up something else: self-reference. A value type V cannot refer, directly or indirectly, to another V.\r\n\r\nMoreover, \r\n\r\n&gt; Unlike value types, data classes are well suited to representing tree and graph nodes.\r\n\r\nHowever,\r\n\r\n&gt; But value classes need not give up any encapsulation, and in fact encapsulation is essential for some applications of value types\r\n\r\n**Let&#39;s clarify that:**\r\n\r\nYou won&#39;t be able to implement node-based composited data structures like linked lists or hierarchical trees with value types. However, you can use the value types for the elements of those data structures. \r\nMoreover, value types support some forms of encapsulation in opposite to records which don&#39;t at all. This means you can have additional fields in value types which you haven&#39;t defined in the class header and which are hidden to the user of the value type. Records can&#39;t do that because their representation is restricted to their API, i.e. all their fields are declared in the class header (and only there!).\r\n\r\n**Let&#39;s have some examples to illustrate all that.**\r\n\r\nE.g. you will be able to create composited logical expressions with records but not with value types:\r\n\r\n    sealed interface LogExpr { boolean eval(); } \r\n    \r\n    record Val(boolean value) implements LogExpr {}\r\n    record Not(LogExpr logExpr) implements LogExpr {}\r\n    record And(LogExpr left, LogExpr right) implements LogExpr {}\r\n    record Or(LogExpr left, LogExpr right) implements LogExpr {}\r\n\r\nThis will not work with value types because this demands the ability of self-references of the same value type.\r\nYou want to be able to create expressions like &quot;Not(Not(Val(true)))&quot;.\r\n\r\nE.g. you can also use records to define the class *Fraction*:\r\n\r\n    record Fraction(int numerator, int denominator) { \r\n        Fraction(int numerator, int denominator) {\r\n            if (denominator == 0) {\r\n                throw new IllegalArgumentException(&quot;Denominator cannot be 0!&quot;);\r\n            }\r\n        }\r\n        public double asFloatingPoint() { return ((double) numerator) / denominator; }\r\n        // operations like add, sub, mult or div\r\n    }\r\n\r\nWhat about calculating the floating point value of that fraction?\r\nYou can add a method *asFloatingPoint()* to the record *Fraction*.\r\nAnd it will always calculate (and recalculate) the same floating point value each time it is invoked.\r\n(Records and value types are immutable by default).\r\nHowever, you cannot precalculate and store the floating point value inside this record in a way hidden to the user.\r\nAnd you won&#39;t like to explicitly declare the floating point value as a third parameter in the class header. \r\nLuckily, value types can do that:\r\n\r\n    inline class Fraction(int numerator, int denominator) { \r\n        private final double floatingPoint;\r\n        Fraction(int numerator, int denominator) {\r\n            if (denominator == 0) {\r\n                throw new IllegalArgumentException(&quot;Denominator cannot be 0!&quot;);\r\n            }\r\n            floatingPoint = ((double) numerator) / denominator;\r\n        }\r\n        public double asFloatingPoint() { return floatingPoint; }\r\n        // operations like add, sub, mult or div\r\n    }\r\n\r\nOf course, hidden fields can be one reason why you want to use value types.\r\nThey are only one aspect and probably a minor one though.\r\nIf you create many instances of *Fraction* and maybe store them in collections, \r\nyou will benefit a lot from the flattened memory layout.\r\nThat&#39;s definitely a more important reason to prefer value types to records.\r\n\r\nThere are some situations where you want to benefit from both records and value types.   \r\nE.g. you might want to develop a game in which you move your piece through a map.\r\nYou saved a history of moves in a list some time ago where every move stores a number of steps into one direction. And you want to compute the next position dependending on that list of moves now.    \r\nIf your class *Move* is a value type, then the list can use the flattened memory layout.    \r\nAnd if your class *Move* also is a record at the same time you can use pattern matching without the need of defining an explicit deconstruction pattern.   \r\nYour code can look like that:\r\n\r\n    enum Direction { LEFT, RIGHT, UP, DOWN }&#180;\r\n    record Position(int x, int y) {  } \r\n    inline record Move(int steps, Direction dir) {  }\r\n    \r\n    public Position move(Position position, List&lt;Move&gt; moves) {\r\n    \tint x = position.x();\r\n    \tint y = position.y();\r\n    \r\n    \tfor(Move move : moves) {\r\n    \t\tx = x + switch(move) {\r\n    \t\t\tcase Move(var s, LEFT) -&gt; -s;\r\n    \t\t\tcase Move(var s, RIGHT) -&gt; +s;\r\n    \t\t\tcase Move(var s, UP) -&gt; 0;\r\n    \t\t\tcase Move(var s, DOWN) -&gt; 0;\r\n    \t\t}\r\n    \t\ty = y + switch(move) {\r\n    \t\t\tcase Move(var s, LEFT) -&gt; 0;\r\n    \t\t\tcase Move(var s, RIGHT) -&gt; 0;\r\n    \t\t\tcase Move(var s, UP) -&gt; -s;\r\n    \t\t\tcase Move(var s, DOWN) -&gt; +s;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \treturn new Position(x, y);\r\n    }\r\n\r\nOf course, there are many other ways to implement the same behavior. \r\nHowever, records and value types give you some more options for implementations which can be very useful.","title":"Are Java records intended to eventually become value types?","body":"<p><strong>Disclaimer:</strong> This answer only extends the other answers by summarizing some implications and giving some examples. You should not make any decisions relying on this information because pattern matching and value types are still subjects of change.</p>\n<p>There are two interesting documents about data classes aka records vs value types:\nThe older version from February 2018<br />\n<a href=\"http://cr.openjdk.java.net/%7Ebriangoetz/amber/datum_2.html#are-data-classes-the-same-as-value-types\" rel=\"nofollow noreferrer\">http://cr.openjdk.java.net/~briangoetz/amber/datum_2.html#are-data-classes-the-same-as-value-types</a><br />\nand the newer version from February 2019<br />\n<a href=\"https://cr.openjdk.java.net/%7Ebriangoetz/amber/datum.html#are-records-the-same-as-value-types\" rel=\"nofollow noreferrer\">https://cr.openjdk.java.net/~briangoetz/amber/datum.html#are-records-the-same-as-value-types</a></p>\n<p>Each document includes a paragraph about differences between records and value types.\nThe older version says</p>\n<blockquote>\n<p>The lack of layout polymorphism means we have to give up something else: self-reference. A value type V cannot refer, directly or indirectly, to another V.</p>\n</blockquote>\n<p>Moreover,</p>\n<blockquote>\n<p>Unlike value types, data classes are well suited to representing tree and graph nodes.</p>\n</blockquote>\n<p>However,</p>\n<blockquote>\n<p>But value classes need not give up any encapsulation, and in fact encapsulation is essential for some applications of value types</p>\n</blockquote>\n<p><strong>Let's clarify that:</strong></p>\n<p>You won't be able to implement node-based composited data structures like linked lists or hierarchical trees with value types. However, you can use the value types for the elements of those data structures.\nMoreover, value types support some forms of encapsulation in opposite to records which don't at all. This means you can have additional fields in value types which you haven't defined in the class header and which are hidden to the user of the value type. Records can't do that because their representation is restricted to their API, i.e. all their fields are declared in the class header (and only there!).</p>\n<p><strong>Let's have some examples to illustrate all that.</strong></p>\n<p>E.g. you will be able to create composited logical expressions with records but not with value types:</p>\n<pre><code>sealed interface LogExpr { boolean eval(); } \n\nrecord Val(boolean value) implements LogExpr {}\nrecord Not(LogExpr logExpr) implements LogExpr {}\nrecord And(LogExpr left, LogExpr right) implements LogExpr {}\nrecord Or(LogExpr left, LogExpr right) implements LogExpr {}\n</code></pre>\n<p>This will not work with value types because this demands the ability of self-references of the same value type.\nYou want to be able to create expressions like &quot;Not(Not(Val(true)))&quot;.</p>\n<p>E.g. you can also use records to define the class <em>Fraction</em>:</p>\n<pre><code>record Fraction(int numerator, int denominator) { \n    Fraction(int numerator, int denominator) {\n        if (denominator == 0) {\n            throw new IllegalArgumentException(&quot;Denominator cannot be 0!&quot;);\n        }\n    }\n    public double asFloatingPoint() { return ((double) numerator) / denominator; }\n    // operations like add, sub, mult or div\n}\n</code></pre>\n<p>What about calculating the floating point value of that fraction?\nYou can add a method <em>asFloatingPoint()</em> to the record <em>Fraction</em>.\nAnd it will always calculate (and recalculate) the same floating point value each time it is invoked.\n(Records and value types are immutable by default).\nHowever, you cannot precalculate and store the floating point value inside this record in a way hidden to the user.\nAnd you won't like to explicitly declare the floating point value as a third parameter in the class header.\nLuckily, value types can do that:</p>\n<pre><code>inline class Fraction(int numerator, int denominator) { \n    private final double floatingPoint;\n    Fraction(int numerator, int denominator) {\n        if (denominator == 0) {\n            throw new IllegalArgumentException(&quot;Denominator cannot be 0!&quot;);\n        }\n        floatingPoint = ((double) numerator) / denominator;\n    }\n    public double asFloatingPoint() { return floatingPoint; }\n    // operations like add, sub, mult or div\n}\n</code></pre>\n<p>Of course, hidden fields can be one reason why you want to use value types.\nThey are only one aspect and probably a minor one though.\nIf you create many instances of <em>Fraction</em> and maybe store them in collections,\nyou will benefit a lot from the flattened memory layout.\nThat's definitely a more important reason to prefer value types to records.</p>\n<p>There are some situations where you want to benefit from both records and value types.<br />\nE.g. you might want to develop a game in which you move your piece through a map.\nYou saved a history of moves in a list some time ago where every move stores a number of steps into one direction. And you want to compute the next position dependending on that list of moves now.<br />\nIf your class <em>Move</em> is a value type, then the list can use the flattened memory layout.<br />\nAnd if your class <em>Move</em> also is a record at the same time you can use pattern matching without the need of defining an explicit deconstruction pattern.<br />\nYour code can look like that:</p>\n<pre><code>enum Direction { LEFT, RIGHT, UP, DOWN }´\nrecord Position(int x, int y) {  } \ninline record Move(int steps, Direction dir) {  }\n\npublic Position move(Position position, List&lt;Move&gt; moves) {\n    int x = position.x();\n    int y = position.y();\n\n    for(Move move : moves) {\n        x = x + switch(move) {\n            case Move(var s, LEFT) -&gt; -s;\n            case Move(var s, RIGHT) -&gt; +s;\n            case Move(var s, UP) -&gt; 0;\n            case Move(var s, DOWN) -&gt; 0;\n        }\n        y = y + switch(move) {\n            case Move(var s, LEFT) -&gt; 0;\n            case Move(var s, RIGHT) -&gt; 0;\n            case Move(var s, UP) -&gt; -s;\n            case Move(var s, DOWN) -&gt; +s;\n        }\n    }\n\n    return new Position(x, y);\n}\n</code></pre>\n<p>Of course, there are many other ways to implement the same behavior.\nHowever, records and value types give you some more options for implementations which can be very useful.</p>\n"}],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9916,"favorite_count":0,"down_vote_count":1,"up_vote_count":73,"accepted_answer_id":63365195,"answer_count":3,"score":72,"last_activity_date":1694698808,"creation_date":1597124646,"question_id":63352151,"body_markdown":"The `record` preview feature (JEP 384) introduced in JDK 14 are a great innovation. They make it much easier to create simple immutable classes that are a pure collection of values without the loss of context inherent in the generic tuple classes in various libraries.\r\n\r\nThe description of the JEP, written by Brian Goetz (https://openjdk.java.net/jeps/384) explains the intent very well. However I was expecting a closer association with the eventual introduction of value types. The original aims of value types were quite extensive: essentially allowing potentially significant performance improvements for objects whose *value* is all that matters by removing all the overhead not required for these types of object (e.g. reference indirection, synchronisation). Plus it could provide syntactical niceties such as `myPosition != yourPosition` instead of `!myPosition.equals(yourPosition)`.\r\n\r\nIt seems as though the restrictions of records are very close to the types of restrictions that would be required on a potential value type. Yet the JEP makes no reference to these aims in the motivation. I tried unsuccessfully to find any public records on these deliberations.\r\n\r\nSo my question is: are records intended to be part of a possible move towards value types or are these completely unrelated concepts and future value types may look completely different?\r\n\r\nMy motivation for asking the question: if records become a permanent part of the language it would be an added incentive to adopt them in code if there is the possibility of significant performance benefits in a future release.\r\n\r\n","title":"Are Java records intended to eventually become value types?","body":"<p>The <code>record</code> preview feature (JEP 384) introduced in JDK 14 are a great innovation. They make it much easier to create simple immutable classes that are a pure collection of values without the loss of context inherent in the generic tuple classes in various libraries.</p>\n<p>The description of the JEP, written by Brian Goetz (<a href=\"https://openjdk.java.net/jeps/384\" rel=\"noreferrer\">https://openjdk.java.net/jeps/384</a>) explains the intent very well. However I was expecting a closer association with the eventual introduction of value types. The original aims of value types were quite extensive: essentially allowing potentially significant performance improvements for objects whose <em>value</em> is all that matters by removing all the overhead not required for these types of object (e.g. reference indirection, synchronisation). Plus it could provide syntactical niceties such as <code>myPosition != yourPosition</code> instead of <code>!myPosition.equals(yourPosition)</code>.</p>\n<p>It seems as though the restrictions of records are very close to the types of restrictions that would be required on a potential value type. Yet the JEP makes no reference to these aims in the motivation. I tried unsuccessfully to find any public records on these deliberations.</p>\n<p>So my question is: are records intended to be part of a possible move towards value types or are these completely unrelated concepts and future value types may look completely different?</p>\n<p>My motivation for asking the question: if records become a permanent part of the language it would be an added incentive to adopt them in code if there is the possibility of significant performance benefits in a future release.</p>\n"},{"tags":["java","spring","csv","apache-camel","syslog"],"answers":[{"tags":[],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694698784,"creation_date":1694698784,"answer_id":77105477,"question_id":77072274,"body_markdown":"java code for converting CSV to Syslog\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.time.LocalDateTime;\r\n    \r\n    import org.apache.commons.csv.CSVFormat;\r\n    import org.apache.commons.csv.CSVParser;\r\n    import org.apache.commons.csv.CSVRecord;\r\n    \r\n    public class Test {\r\n    \r\n        public static void main(String[] args) {\r\n            String csvFile = &quot;file.csv&quot;; // Replace with your CSV file path\r\n            try {\r\n                BufferedReader reader = new BufferedReader(new FileReader(csvFile));\r\n                CSVParser csvParser = new CSVParser(reader, CSVFormat.DEFAULT.withHeader());\r\n    \r\n                for (CSVRecord csvRecord : csvParser) {\r\n                    String type = csvRecord.get(&quot;Type&quot;);\r\n                    String rowID = csvRecord.get(&quot;RowID&quot;);\r\n                    String name = csvRecord.get(&quot;Name&quot;);\r\n                    \r\n                    String timestamp = LocalDateTime.now().toString();\r\n                    String hostname = &quot;DESKTOP-TVVB676&quot;;\r\n                    \r\n                    String syslogEntry = String.format(&quot;&lt;13&gt;1 %s %s - - - [LOG@14506 EventReceivedTime=\\&quot;%s\\&quot; &quot; +\r\n                            &quot;SourceModuleName=\\&quot;csv\\&quot; SourceModuleType=\\&quot;file\\&quot; Type=\\&quot;%s\\&quot; RowID=\\&quot;%s\\&quot; Name=\\&quot;%s\\&quot;&quot;,\r\n                            timestamp, hostname, timestamp, type, rowID, name);\r\n                    \r\n                    System.out.println(syslogEntry);\r\n                }\r\n    \r\n                csvParser.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nOutput:\r\n\r\n    &lt;13&gt;1 2023-09-14T19:11:52.057131900 DESKTOP-TVVB676 - - - [LOG@14506 EventReceivedTime=&quot;2023-09-14T19:11:52.057131900&quot; SourceModuleName=&quot;csv&quot; SourceModuleType=&quot;file&quot; Type=&quot;SecurityIncident&quot; RowID=&quot;ace5c4550c76&quot; Name=&quot;MalwareInfection&quot;\r\n    &lt;13&gt;1 2023-09-14T19:11:52.068649300 DESKTOP-TVVB676 - - - [LOG@14506 EventReceivedTime=&quot;2023-09-14T19:11:52.068649300&quot; SourceModuleName=&quot;csv&quot; SourceModuleType=&quot;file&quot; Type=&quot;SecurityIncident&quot; RowID=&quot;ace5c4550c77&quot; Name=&quot;MalwareInfection&quot;\r\n\r\n","title":"How to convert csv file to syslog in Java","body":"<p>java code for converting CSV to Syslog</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.time.LocalDateTime;\n\nimport org.apache.commons.csv.CSVFormat;\nimport org.apache.commons.csv.CSVParser;\nimport org.apache.commons.csv.CSVRecord;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        String csvFile = &quot;file.csv&quot;; // Replace with your CSV file path\n        try {\n            BufferedReader reader = new BufferedReader(new FileReader(csvFile));\n            CSVParser csvParser = new CSVParser(reader, CSVFormat.DEFAULT.withHeader());\n\n            for (CSVRecord csvRecord : csvParser) {\n                String type = csvRecord.get(&quot;Type&quot;);\n                String rowID = csvRecord.get(&quot;RowID&quot;);\n                String name = csvRecord.get(&quot;Name&quot;);\n                \n                String timestamp = LocalDateTime.now().toString();\n                String hostname = &quot;DESKTOP-TVVB676&quot;;\n                \n                String syslogEntry = String.format(&quot;&lt;13&gt;1 %s %s - - - [LOG@14506 EventReceivedTime=\\&quot;%s\\&quot; &quot; +\n                        &quot;SourceModuleName=\\&quot;csv\\&quot; SourceModuleType=\\&quot;file\\&quot; Type=\\&quot;%s\\&quot; RowID=\\&quot;%s\\&quot; Name=\\&quot;%s\\&quot;&quot;,\n                        timestamp, hostname, timestamp, type, rowID, name);\n                \n                System.out.println(syslogEntry);\n            }\n\n            csvParser.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>&lt;13&gt;1 2023-09-14T19:11:52.057131900 DESKTOP-TVVB676 - - - [LOG@14506 EventReceivedTime=&quot;2023-09-14T19:11:52.057131900&quot; SourceModuleName=&quot;csv&quot; SourceModuleType=&quot;file&quot; Type=&quot;SecurityIncident&quot; RowID=&quot;ace5c4550c76&quot; Name=&quot;MalwareInfection&quot;\n&lt;13&gt;1 2023-09-14T19:11:52.068649300 DESKTOP-TVVB676 - - - [LOG@14506 EventReceivedTime=&quot;2023-09-14T19:11:52.068649300&quot; SourceModuleName=&quot;csv&quot; SourceModuleType=&quot;file&quot; Type=&quot;SecurityIncident&quot; RowID=&quot;ace5c4550c77&quot; Name=&quot;MalwareInfection&quot;\n</code></pre>\n"}],"owner":{"account_id":1421881,"reputation":307,"user_id":1346346,"accept_rate":50,"display_name":"user1346346"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77105477,"answer_count":1,"score":0,"last_activity_date":1694698784,"creation_date":1694263151,"question_id":77072274,"body_markdown":"I need to convert csv file to syslog.\r\n\r\nCSV:(From)\r\n\r\n    &quot;Type&quot;,&quot;RowID&quot;,&quot;Name&quot;\r\n    &quot;SecurityIncident&quot;,&quot;ace5c4550c76&quot;,&quot;MalwareInfection&quot;\r\n    &quot;SecurityIncident&quot;,&quot;ace5c4550c77&quot;,&quot;MalwareInfection&quot;\r\n\r\n\r\nSyslog: To\r\n\r\n    &lt;13&gt;1 2023-09-09T10:19:28.428851-08:00 DESKTOP-TVVB676 - - - [LOG@14506 EventReceivedTime=&quot;2020-09-09 10:19:28&quot; SourceModuleName=&quot;csv&quot; SourceModuleType=&quot;file&quot; Type=&quot;SecurityIncident&quot; RowID=&quot;ace5c4550c76&quot; Name=&quot;MalwareInfection&quot;\r\n    &lt;13&gt;1 2023-09-09T10:19:28.428851-08:00 DESKTOP-TVVB676 - - - [LOG@14506 EventReceivedTime=&quot;2020-09-09 10:19:28&quot; SourceModuleName=&quot;csv&quot; SourceModuleType=&quot;file&quot; Type=&quot;SecurityIncident&quot; RowID=&quot;ace5c4550c77&quot; Name=&quot;MalwareInfection&quot;\r\n\r\nHow to do it in Java? Is there any java library available?","title":"How to convert csv file to syslog in Java","body":"<p>I need to convert csv file to syslog.</p>\n<p>CSV:(From)</p>\n<pre><code>&quot;Type&quot;,&quot;RowID&quot;,&quot;Name&quot;\n&quot;SecurityIncident&quot;,&quot;ace5c4550c76&quot;,&quot;MalwareInfection&quot;\n&quot;SecurityIncident&quot;,&quot;ace5c4550c77&quot;,&quot;MalwareInfection&quot;\n</code></pre>\n<p>Syslog: To</p>\n<pre><code>&lt;13&gt;1 2023-09-09T10:19:28.428851-08:00 DESKTOP-TVVB676 - - - [LOG@14506 EventReceivedTime=&quot;2020-09-09 10:19:28&quot; SourceModuleName=&quot;csv&quot; SourceModuleType=&quot;file&quot; Type=&quot;SecurityIncident&quot; RowID=&quot;ace5c4550c76&quot; Name=&quot;MalwareInfection&quot;\n&lt;13&gt;1 2023-09-09T10:19:28.428851-08:00 DESKTOP-TVVB676 - - - [LOG@14506 EventReceivedTime=&quot;2020-09-09 10:19:28&quot; SourceModuleName=&quot;csv&quot; SourceModuleType=&quot;file&quot; Type=&quot;SecurityIncident&quot; RowID=&quot;ace5c4550c77&quot; Name=&quot;MalwareInfection&quot;\n</code></pre>\n<p>How to do it in Java? Is there any java library available?</p>\n"},{"tags":["java","android","opencv","ocr","firebase-mlkit"],"comments":[{"owner":{"account_id":6333452,"reputation":3758,"user_id":4917686,"accept_rate":81,"display_name":"Jo&#227;o Cartucho"},"score":0,"creation_date":1531750211,"post_id":51363676,"comment_id":89699820,"body_markdown":"could you please share more pictures? (with variations) is the plate always the same?","body":"could you please share more pictures? (with variations) is the plate always the same?"},{"owner":{"account_id":9122967,"reputation":127,"user_id":6787808,"display_name":"ciolo"},"score":0,"creation_date":1531750400,"post_id":51363676,"comment_id":89699938,"body_markdown":"@Jo&#227;oCartucho Fortunately, the plate is always the same (like photo).","body":"@Jo&#227;oCartucho Fortunately, the plate is always the same (like photo)."},{"owner":{"account_id":6333452,"reputation":3758,"user_id":4917686,"accept_rate":81,"display_name":"Jo&#227;o Cartucho"},"score":0,"creation_date":1531750866,"post_id":51363676,"comment_id":89700249,"body_markdown":"This is how I would do it: 1) Use SIFT to find the rectangle (the inner one with blue lines); 2) Crop and transform the areas with the numbers; 3) Apply an adaptive threshold (OTSU) to each of the areas with numbers; 4) Do OCR (I can help you more tomorrow, today I have no time)","body":"This is how I would do it: 1) Use SIFT to find the rectangle (the inner one with blue lines); 2) Crop and transform the areas with the numbers; 3) Apply an adaptive threshold (OTSU) to each of the areas with numbers; 4) Do OCR (I can help you more tomorrow, today I have no time)"},{"owner":{"account_id":9122967,"reputation":127,"user_id":6787808,"display_name":"ciolo"},"score":0,"creation_date":1531752687,"post_id":51363676,"comment_id":89701478,"body_markdown":"@Jo&#227;oCartucho thank u. I already used SIFT to find rectangle (starting from line blue above &quot;Mod&quot; until line blue below &quot;Volt&quot;) and I cropped it. I applied an adaptive threshold also after gamma correction but results are bad. Would you make the threshold directly on the gray scale image (if yes with which parameters)?","body":"@Jo&#227;oCartucho thank u. I already used SIFT to find rectangle (starting from line blue above &quot;Mod&quot; until line blue below &quot;Volt&quot;) and I cropped it. I applied an adaptive threshold also after gamma correction but results are bad. Would you make the threshold directly on the gray scale image (if yes with which parameters)?"},{"owner":{"account_id":1691657,"reputation":304,"user_id":1553872,"display_name":"seokrae.kim"},"score":0,"creation_date":1531790845,"post_id":51363676,"comment_id":89715949,"body_markdown":"@AlbertoCiolini\nIf the image taken always same, find below 2 lines you wan to OCR.\nAnd crop rectangle which has 2 lines and and try anything","body":"@AlbertoCiolini If the image taken always same, find below 2 lines you wan to OCR. And crop rectangle which has 2 lines and and try anything"},{"owner":{"account_id":9122967,"reputation":127,"user_id":6787808,"display_name":"ciolo"},"score":0,"creation_date":1531908125,"post_id":51363676,"comment_id":89769063,"body_markdown":"@Jo&#227;oCartucho Hi, sorry for disturb. Can you help me? Mostly, on thresholding (if thresholding is the right choice).","body":"@Jo&#227;oCartucho Hi, sorry for disturb. Can you help me? Mostly, on thresholding (if thresholding is the right choice)."},{"owner":{"account_id":6333452,"reputation":3758,"user_id":4917686,"accept_rate":81,"display_name":"Jo&#227;o Cartucho"},"score":0,"creation_date":1531909009,"post_id":51363676,"comment_id":89769628,"body_markdown":"@AlbertoCiolini Hey! I&#39;m setting up OpenCV on Android Studio right now. I usually code with OpenCV in Python so I need to set things up first :)","body":"@AlbertoCiolini Hey! I&#39;m setting up OpenCV on Android Studio right now. I usually code with OpenCV in Python so I need to set things up first :)"},{"owner":{"account_id":9122967,"reputation":127,"user_id":6787808,"display_name":"ciolo"},"score":0,"creation_date":1532266745,"post_id":51363676,"comment_id":89899879,"body_markdown":"@Jo&#227;oCartucho some updates?","body":"@Jo&#227;oCartucho some updates?"}],"answers":[{"tags":[],"owner":{"account_id":6333452,"reputation":3758,"user_id":4917686,"accept_rate":81,"display_name":"Jo&#227;o Cartucho"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1694698685,"creation_date":1532343823,"answer_id":51477291,"question_id":51363676,"body_markdown":"I coded this example in Python (since OpenCV&#39;s SIFT in Android is paid) but you can still use this to understand how to solve it.\r\n\r\nFirst I created this image as a template:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**Step 1: Load images**\r\n\r\n```python\r\n&quot;&quot;&quot; 1. Load images &quot;&quot;&quot;\r\n# load image of plate\r\nsrc_path = &quot;nRHzD.jpg&quot;\r\nsrc = cv2.imread(src_path)\r\n\r\n# load template of plate (to be looked for)\r\nsrc_template_path = &quot;nRHzD_template.jpg&quot;\r\nsrc_template = cv2.imread(src_template_path)\r\n```\r\n\r\n\r\n**Step 2: Find the template using SIFT and perspective transformation**\r\n\r\n```python\r\n# convert images to gray scale\r\nsrc_gray = cv2.cvtColor(src, cv2.COLOR_BGR2GRAY)\r\nsrc_template_gray = cv2.cvtColor(src_template, cv2.COLOR_BGR2GRAY)\r\n# use SIFT to find template\r\nn_matches_min = 10\r\ntemplate_found, homography = find_template(src_gray, src_template_gray, n_matches_min)\r\nwarp = transform_perspective_and_crop(homography, src, src_gray, src_template)\r\n\r\nwarp_gray = cv2.cvtColor(warp, cv2.COLOR_BGR2GRAY)\r\nwarp_hsv = cv2.cvtColor(warp, cv2.COLOR_BGR2HSV)\r\ntemplate_hsv = cv2.cvtColor(src_template, cv2.COLOR_BGR2HSV)\r\n```\r\n[![enter image description here][2]][2]\r\n\r\n\r\n**Step 3: Find regions of interest (using the green parts of the template image)**\r\n\r\n```python\r\ngreen_hsv_lower_bound = [50, 250, 250]\r\ngreen_hsv_upper_bound = [60, 255, 255]\r\nmask_rois, mask_rois_img = crop_img_in_hsv_range(warp, template_hsv, green_hsv_lower_bound, green_hsv_upper_bound)\r\nroi_list = separate_rois(mask_rois, warp_gray)\r\n# sort the rois by distance to top right corner -&gt; x (value[1]) + y (value[2])\r\nroi_list = sorted(roi_list, key=lambda values: values[1]+values[2])\r\n```\r\n[![enter image description here][3]][3]\r\n\r\n\r\n**Step 4: Apply a Canny Edge detection to the rois (regions of interest)**\r\n\r\n```python\r\nfor i, roi in enumerate(roi_list):\r\n    roi_img, roi_x_offset, roi_y_offset = roi\r\n    print(&quot;#roi:{} x:{} y:{}&quot;.format(i, roi_x_offset, roi_y_offset))\r\n    \r\n    roi_img_blur_threshold = cv2.Canny(roi_img, 40, 200)\r\n    cv2.imshow(&quot;ROI image&quot;, roi_img_blur_threshold)\r\n    cv2.waitKey()\r\n```\r\n[![enter image description here][4]][4]\r\n\r\nThere are many ways for you to detect the digits, one of the easiest approaches is to run a K-Means Clustering on each of the contours.\r\n\r\nFull code:\r\n```python\r\n&quot;&quot;&quot; This code shows a way of getting the digit&#39;s edges in a pre-defined position (in green) &quot;&quot;&quot;\r\nimport cv2\r\nimport numpy as np\r\n\r\n\r\ndef find_template(src_gray, src_template_gray, n_matches_min):\r\n    # Initiate SIFT detector\r\n    sift = cv2.xfeatures2d.SIFT_create()\r\n\r\n    &quot;&quot;&quot; find grid using SIFT &quot;&quot;&quot;\r\n    # find the keypoints and descriptors with SIFT\r\n    kp1, des1 = sift.detectAndCompute(src_template_gray, None)\r\n    kp2, des2 = sift.detectAndCompute(src_gray, None)\r\n\r\n    FLANN_INDEX_KDTREE = 0\r\n    index_params = dict(algorithm = FLANN_INDEX_KDTREE, trees = 5)\r\n    search_params = dict(checks = 50)\r\n\r\n    flann = cv2.FlannBasedMatcher(index_params, search_params)\r\n\r\n    matches = flann.knnMatch(des1, des2, k=2)\r\n\r\n    # store all the good matches as per Lowe&#39;s ratio test.\r\n    good = []\r\n    for m,n in matches:\r\n        if m.distance &lt; 0.7*n.distance:\r\n            good.append(m)\r\n\r\n    if len(good) &gt; n_matches_min:\r\n        src_pts = np.float32([kp1[m.queryIdx].pt for m in good ]).reshape(-1,1,2)\r\n        dst_pts = np.float32([kp2[m.trainIdx].pt for m in good ]).reshape(-1,1,2)\r\n\r\n        M, mask = cv2.findHomography(src_pts, dst_pts, cv2.RANSAC,5.0)\r\n        matchesMask = mask.ravel().tolist()\r\n\r\n        h_template, w_template = src_template_gray.shape\r\n        pts = np.float32([[0, 0], [0, h_template - 1], [w_template - 1, h_template - 1], [w_template - 1,0]]).reshape(-1,1,2)\r\n        homography = cv2.perspectiveTransform(pts, M)\r\n    else:\r\n        print &quot;Not enough matches are found - %d/%d&quot; % (len(good), n_matches_min)\r\n        matchesMask = None\r\n\r\n    # show matches\r\n    draw_params = dict(matchColor = (0, 255, 0), # draw matches in green color\r\n                        singlePointColor = None,\r\n                        matchesMask = matchesMask, # draw only inliers\r\n                        flags = 2)\r\n\r\n    if matchesMask:\r\n        src_gray_copy = src_gray.copy()\r\n        sift_matches = cv2.polylines(src_gray_copy, [np.int32(homography)], True, 255, 2, cv2.LINE_AA)\r\n    sift_matches = cv2.drawMatches(src_template_gray, kp1, src_gray_copy, kp2, good, None, **draw_params)\r\n    return sift_matches, homography\r\n\r\n\r\ndef transform_perspective_and_crop(homography, src, src_gray, src_template_gray):\r\n    &quot;&quot;&quot; get mask and contour of template &quot;&quot;&quot;\r\n    mask_img_template = np.zeros(src_gray.shape, dtype=np.uint8)\r\n    mask_img_template = cv2.polylines(mask_img_template, [np.int32(homography)], True, 255, 1, cv2.LINE_AA)\r\n    _ret, contours, hierarchy = cv2.findContours(mask_img_template, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)\r\n    template_contour = None\r\n    # approximate the contour\r\n    c = contours[0]\r\n    peri = cv2.arcLength(c, True)\r\n    approx = cv2.approxPolyDP(c, 0.02 * peri, True)\r\n    # if our approximated contour has four points, then\r\n    # we can assume that we have found our template\r\n    warp = None\r\n    if len(approx) == 4:\r\n        template_contour = approx\r\n        cv2.drawContours(mask_img_template, [template_contour] , -1, (255,0,0), -1)\r\n        &quot;&quot;&quot; Transform perspective &quot;&quot;&quot;\r\n        # now that we have our template contour, we need to determine\r\n        # the top-left, top-right, bottom-right, and bottom-left\r\n        # points so that we can later warp the image -- we&#39;ll start\r\n        # by reshaping our contour to be our finals and initializing\r\n        # our output rectangle in top-left, top-right, bottom-right,\r\n        # and bottom-left order\r\n        pts = template_contour.reshape(4, 2)\r\n        rect = np.zeros((4, 2), dtype = &quot;float32&quot;)\r\n\r\n        # the top-left point has the smallest sum whereas the\r\n        # bottom-right has the largest sum\r\n        s = pts.sum(axis = 1)\r\n        rect[0] = pts[np.argmin(s)]\r\n        rect[2] = pts[np.argmax(s)]\r\n\r\n        # compute the difference between the points -- the top-right\r\n        # will have the minumum difference and the bottom-left will\r\n        # have the maximum difference\r\n        diff = np.diff(pts, axis = 1)\r\n        rect[1] = pts[np.argmin(diff)]\r\n        rect[3] = pts[np.argmax(diff)]\r\n\r\n        # now that we have our rectangle of points, let&#39;s compute\r\n        # the width of our new image\r\n        (tl, tr, br, bl) = rect\r\n        widthA = np.sqrt(((br[0] - bl[0]) ** 2) + ((br[1] - bl[1]) ** 2))\r\n        widthB = np.sqrt(((tr[0] - tl[0]) ** 2) + ((tr[1] - tl[1]) ** 2))\r\n\r\n        # ...and now for the height of our new image\r\n        heightA = np.sqrt(((tr[0] - br[0]) ** 2) + ((tr[1] - br[1]) ** 2))\r\n        heightB = np.sqrt(((tl[0] - bl[0]) ** 2) + ((tl[1] - bl[1]) ** 2))\r\n            \r\n        # take the maximum of the width and height values to reach\r\n        # our final dimensions\r\n        maxWidth = max(int(widthA), int(widthB))\r\n        maxHeight = max(int(heightA), int(heightB))\r\n\r\n        # construct our destination points which will be used to\r\n        # map the screen to a top-down, &quot;birds eye&quot; view\r\n        homography = np.array([\r\n            [0, 0],\r\n            [maxWidth - 1, 0],\r\n            [maxWidth - 1, maxHeight - 1],\r\n            [0, maxHeight - 1]], dtype = &quot;float32&quot;)\r\n\r\n        # calculate the perspective transform matrix and warp\r\n        # the perspective to grab the screen\r\n        M = cv2.getPerspectiveTransform(rect, homography)\r\n        warp = cv2.warpPerspective(src, M, (maxWidth, maxHeight))\r\n\r\n        # resize warp\r\n        h_template, w_template, _n_channels = src_template_gray.shape\r\n        warp = cv2.resize(warp, (w_template, h_template), interpolation=cv2.INTER_AREA)\r\n\r\n    return warp\r\n\r\n\r\ndef crop_img_in_hsv_range(img, hsv, lower_bound, upper_bound):\r\n    mask = cv2.inRange(hsv, np.array(lower_bound), np.array(upper_bound))\r\n    # do an MORPH_OPEN (erosion followed by dilation) to remove isolated pixels\r\n    kernel = np.ones((5,5), np.uint8)\r\n    mask = cv2.morphologyEx(mask, cv2.MORPH_OPEN, kernel)\r\n    # Bitwise-AND mask and original image\r\n    res = cv2.bitwise_and(img, img, mask=mask)\r\n\r\n    return mask, res\r\n\r\n\r\ndef separate_rois(column_mask, img_gray):\r\n    # go through each of the boxes\r\n    # https://stackoverflow.com/questions/41592039/contouring-a-binary-mask-with-opencv-python\r\n    border = cv2.copyMakeBorder(column_mask, 1, 1, 1, 1, cv2.BORDER_CONSTANT, value=0)\r\n    _, contours, hierarchy = cv2.findContours(border, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_NONE, offset=(-1, -1))\r\n    cell_list = []\r\n    for contour in contours:\r\n        cell_mask = np.zeros_like(img_gray) # Create mask where white is what we want, black otherwise\r\n        cv2.drawContours(cell_mask, [contour], -1, 255, -1) # Draw filled contour in mask\r\n\r\n        # turn that mask into a rectangle\r\n        (x,y,w,h) = cv2.boundingRect(contour)\r\n        #print(&quot;x:{} y:{} w:{} h:{}&quot;.format(x, y, w, h))\r\n        cv2.rectangle(cell_mask, (x, y), (x+w, y+h), 255, -1)\r\n        # copy the img_gray using that mask\r\n        img_tmp_region = cv2.bitwise_and(img_gray, img_gray, mask= cell_mask)\r\n\r\n        # Now crop\r\n        (y, x) = np.where(cell_mask == 255)\r\n        (top_y, top_x) = (np.min(y), np.min(x))\r\n        (bottom_y, bottom_x) = (np.max(y), np.max(x))\r\n        img_tmp_region = img_tmp_region[top_y:bottom_y+1, top_x:bottom_x+1]\r\n\r\n        cell_list.append([img_tmp_region, top_x, top_y])\r\n\r\n    return cell_list\r\n\r\n\r\n&quot;&quot;&quot; 1. Load images &quot;&quot;&quot;\r\n# load image of plate\r\nsrc_path = &quot;nRHzD.jpg&quot;\r\nsrc = cv2.imread(src_path)\r\n\r\n# load template of plate (to be looked for)\r\nsrc_template_path = &quot;nRHzD_template.jpg&quot;\r\nsrc_template = cv2.imread(src_template_path)\r\n\r\n&quot;&quot;&quot; 2. Find the plate (using the template image) and crop it into a rectangle &quot;&quot;&quot;\r\n# convert images to gray scale\r\nsrc_gray = cv2.cvtColor(src, cv2.COLOR_BGR2GRAY)\r\nsrc_template_gray = cv2.cvtColor(src_template, cv2.COLOR_BGR2GRAY)\r\n# use SIFT to find template\r\nn_matches_min = 10\r\ntemplate_found, homography = find_template(src_gray, src_template_gray, n_matches_min)\r\nwarp = transform_perspective_and_crop(homography, src, src_gray, src_template)\r\n\r\nwarp_gray = cv2.cvtColor(warp, cv2.COLOR_BGR2GRAY)\r\nwarp_hsv = cv2.cvtColor(warp, cv2.COLOR_BGR2HSV)\r\ntemplate_hsv = cv2.cvtColor(src_template, cv2.COLOR_BGR2HSV)\r\n\r\n&quot;&quot;&quot; 3. Find regions of interest (using the green parts of the template image) &quot;&quot;&quot;\r\ngreen_hsv_lower_bound = [50, 250, 250]\r\ngreen_hsv_upper_bound = [60, 255, 255]\r\nmask_rois, mask_rois_img = crop_img_in_hsv_range(warp, template_hsv, green_hsv_lower_bound, green_hsv_upper_bound)\r\nroi_list = separate_rois(mask_rois, warp_gray)\r\n# sort the rois by distance to top right corner -&gt; x (value[1]) + y (value[2])\r\nroi_list = sorted(roi_list, key=lambda values: values[1]+values[2])\r\n\r\n&quot;&quot;&quot; 4. Apply a Canny Edge detection to the rois (regions of interest) &quot;&quot;&quot;\r\nfor i, roi in enumerate(roi_list):\r\n    roi_img, roi_x_offset, roi_y_offset = roi\r\n    print(&quot;#roi:{} x:{} y:{}&quot;.format(i, roi_x_offset, roi_y_offset))\r\n\r\n    roi_img_blur_threshold = cv2.Canny(roi_img, 40, 200)\r\n    cv2.imshow(&quot;ROI image&quot;, roi_img_blur_threshold)\r\n    cv2.waitKey()\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Zef33.jpg\r\n  [2]: https://i.stack.imgur.com/nqUim.jpg\r\n  [3]: https://i.stack.imgur.com/P9GOR.jpg\r\n  [4]: https://i.stack.imgur.com/KVtcy.png","title":"How to edit image with opencv to read text with OCR","body":"<p>I coded this example in Python (since OpenCV's SIFT in Android is paid) but you can still use this to understand how to solve it.</p>\n<p>First I created this image as a template:</p>\n<p><a href=\"https://i.stack.imgur.com/Zef33.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zef33.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>Step 1: Load images</strong></p>\n<pre class=\"lang-py prettyprint-override\"><code>&quot;&quot;&quot; 1. Load images &quot;&quot;&quot;\n# load image of plate\nsrc_path = &quot;nRHzD.jpg&quot;\nsrc = cv2.imread(src_path)\n\n# load template of plate (to be looked for)\nsrc_template_path = &quot;nRHzD_template.jpg&quot;\nsrc_template = cv2.imread(src_template_path)\n</code></pre>\n<p><strong>Step 2: Find the template using SIFT and perspective transformation</strong></p>\n<pre class=\"lang-py prettyprint-override\"><code># convert images to gray scale\nsrc_gray = cv2.cvtColor(src, cv2.COLOR_BGR2GRAY)\nsrc_template_gray = cv2.cvtColor(src_template, cv2.COLOR_BGR2GRAY)\n# use SIFT to find template\nn_matches_min = 10\ntemplate_found, homography = find_template(src_gray, src_template_gray, n_matches_min)\nwarp = transform_perspective_and_crop(homography, src, src_gray, src_template)\n\nwarp_gray = cv2.cvtColor(warp, cv2.COLOR_BGR2GRAY)\nwarp_hsv = cv2.cvtColor(warp, cv2.COLOR_BGR2HSV)\ntemplate_hsv = cv2.cvtColor(src_template, cv2.COLOR_BGR2HSV)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/nqUim.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nqUim.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>Step 3: Find regions of interest (using the green parts of the template image)</strong></p>\n<pre class=\"lang-py prettyprint-override\"><code>green_hsv_lower_bound = [50, 250, 250]\ngreen_hsv_upper_bound = [60, 255, 255]\nmask_rois, mask_rois_img = crop_img_in_hsv_range(warp, template_hsv, green_hsv_lower_bound, green_hsv_upper_bound)\nroi_list = separate_rois(mask_rois, warp_gray)\n# sort the rois by distance to top right corner -&gt; x (value[1]) + y (value[2])\nroi_list = sorted(roi_list, key=lambda values: values[1]+values[2])\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/P9GOR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P9GOR.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>Step 4: Apply a Canny Edge detection to the rois (regions of interest)</strong></p>\n<pre class=\"lang-py prettyprint-override\"><code>for i, roi in enumerate(roi_list):\n    roi_img, roi_x_offset, roi_y_offset = roi\n    print(&quot;#roi:{} x:{} y:{}&quot;.format(i, roi_x_offset, roi_y_offset))\n    \n    roi_img_blur_threshold = cv2.Canny(roi_img, 40, 200)\n    cv2.imshow(&quot;ROI image&quot;, roi_img_blur_threshold)\n    cv2.waitKey()\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/KVtcy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KVtcy.png\" alt=\"enter image description here\" /></a></p>\n<p>There are many ways for you to detect the digits, one of the easiest approaches is to run a K-Means Clustering on each of the contours.</p>\n<p>Full code:</p>\n<pre class=\"lang-py prettyprint-override\"><code>&quot;&quot;&quot; This code shows a way of getting the digit's edges in a pre-defined position (in green) &quot;&quot;&quot;\nimport cv2\nimport numpy as np\n\n\ndef find_template(src_gray, src_template_gray, n_matches_min):\n    # Initiate SIFT detector\n    sift = cv2.xfeatures2d.SIFT_create()\n\n    &quot;&quot;&quot; find grid using SIFT &quot;&quot;&quot;\n    # find the keypoints and descriptors with SIFT\n    kp1, des1 = sift.detectAndCompute(src_template_gray, None)\n    kp2, des2 = sift.detectAndCompute(src_gray, None)\n\n    FLANN_INDEX_KDTREE = 0\n    index_params = dict(algorithm = FLANN_INDEX_KDTREE, trees = 5)\n    search_params = dict(checks = 50)\n\n    flann = cv2.FlannBasedMatcher(index_params, search_params)\n\n    matches = flann.knnMatch(des1, des2, k=2)\n\n    # store all the good matches as per Lowe's ratio test.\n    good = []\n    for m,n in matches:\n        if m.distance &lt; 0.7*n.distance:\n            good.append(m)\n\n    if len(good) &gt; n_matches_min:\n        src_pts = np.float32([kp1[m.queryIdx].pt for m in good ]).reshape(-1,1,2)\n        dst_pts = np.float32([kp2[m.trainIdx].pt for m in good ]).reshape(-1,1,2)\n\n        M, mask = cv2.findHomography(src_pts, dst_pts, cv2.RANSAC,5.0)\n        matchesMask = mask.ravel().tolist()\n\n        h_template, w_template = src_template_gray.shape\n        pts = np.float32([[0, 0], [0, h_template - 1], [w_template - 1, h_template - 1], [w_template - 1,0]]).reshape(-1,1,2)\n        homography = cv2.perspectiveTransform(pts, M)\n    else:\n        print &quot;Not enough matches are found - %d/%d&quot; % (len(good), n_matches_min)\n        matchesMask = None\n\n    # show matches\n    draw_params = dict(matchColor = (0, 255, 0), # draw matches in green color\n                        singlePointColor = None,\n                        matchesMask = matchesMask, # draw only inliers\n                        flags = 2)\n\n    if matchesMask:\n        src_gray_copy = src_gray.copy()\n        sift_matches = cv2.polylines(src_gray_copy, [np.int32(homography)], True, 255, 2, cv2.LINE_AA)\n    sift_matches = cv2.drawMatches(src_template_gray, kp1, src_gray_copy, kp2, good, None, **draw_params)\n    return sift_matches, homography\n\n\ndef transform_perspective_and_crop(homography, src, src_gray, src_template_gray):\n    &quot;&quot;&quot; get mask and contour of template &quot;&quot;&quot;\n    mask_img_template = np.zeros(src_gray.shape, dtype=np.uint8)\n    mask_img_template = cv2.polylines(mask_img_template, [np.int32(homography)], True, 255, 1, cv2.LINE_AA)\n    _ret, contours, hierarchy = cv2.findContours(mask_img_template, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)\n    template_contour = None\n    # approximate the contour\n    c = contours[0]\n    peri = cv2.arcLength(c, True)\n    approx = cv2.approxPolyDP(c, 0.02 * peri, True)\n    # if our approximated contour has four points, then\n    # we can assume that we have found our template\n    warp = None\n    if len(approx) == 4:\n        template_contour = approx\n        cv2.drawContours(mask_img_template, [template_contour] , -1, (255,0,0), -1)\n        &quot;&quot;&quot; Transform perspective &quot;&quot;&quot;\n        # now that we have our template contour, we need to determine\n        # the top-left, top-right, bottom-right, and bottom-left\n        # points so that we can later warp the image -- we'll start\n        # by reshaping our contour to be our finals and initializing\n        # our output rectangle in top-left, top-right, bottom-right,\n        # and bottom-left order\n        pts = template_contour.reshape(4, 2)\n        rect = np.zeros((4, 2), dtype = &quot;float32&quot;)\n\n        # the top-left point has the smallest sum whereas the\n        # bottom-right has the largest sum\n        s = pts.sum(axis = 1)\n        rect[0] = pts[np.argmin(s)]\n        rect[2] = pts[np.argmax(s)]\n\n        # compute the difference between the points -- the top-right\n        # will have the minumum difference and the bottom-left will\n        # have the maximum difference\n        diff = np.diff(pts, axis = 1)\n        rect[1] = pts[np.argmin(diff)]\n        rect[3] = pts[np.argmax(diff)]\n\n        # now that we have our rectangle of points, let's compute\n        # the width of our new image\n        (tl, tr, br, bl) = rect\n        widthA = np.sqrt(((br[0] - bl[0]) ** 2) + ((br[1] - bl[1]) ** 2))\n        widthB = np.sqrt(((tr[0] - tl[0]) ** 2) + ((tr[1] - tl[1]) ** 2))\n\n        # ...and now for the height of our new image\n        heightA = np.sqrt(((tr[0] - br[0]) ** 2) + ((tr[1] - br[1]) ** 2))\n        heightB = np.sqrt(((tl[0] - bl[0]) ** 2) + ((tl[1] - bl[1]) ** 2))\n            \n        # take the maximum of the width and height values to reach\n        # our final dimensions\n        maxWidth = max(int(widthA), int(widthB))\n        maxHeight = max(int(heightA), int(heightB))\n\n        # construct our destination points which will be used to\n        # map the screen to a top-down, &quot;birds eye&quot; view\n        homography = np.array([\n            [0, 0],\n            [maxWidth - 1, 0],\n            [maxWidth - 1, maxHeight - 1],\n            [0, maxHeight - 1]], dtype = &quot;float32&quot;)\n\n        # calculate the perspective transform matrix and warp\n        # the perspective to grab the screen\n        M = cv2.getPerspectiveTransform(rect, homography)\n        warp = cv2.warpPerspective(src, M, (maxWidth, maxHeight))\n\n        # resize warp\n        h_template, w_template, _n_channels = src_template_gray.shape\n        warp = cv2.resize(warp, (w_template, h_template), interpolation=cv2.INTER_AREA)\n\n    return warp\n\n\ndef crop_img_in_hsv_range(img, hsv, lower_bound, upper_bound):\n    mask = cv2.inRange(hsv, np.array(lower_bound), np.array(upper_bound))\n    # do an MORPH_OPEN (erosion followed by dilation) to remove isolated pixels\n    kernel = np.ones((5,5), np.uint8)\n    mask = cv2.morphologyEx(mask, cv2.MORPH_OPEN, kernel)\n    # Bitwise-AND mask and original image\n    res = cv2.bitwise_and(img, img, mask=mask)\n\n    return mask, res\n\n\ndef separate_rois(column_mask, img_gray):\n    # go through each of the boxes\n    # https://stackoverflow.com/questions/41592039/contouring-a-binary-mask-with-opencv-python\n    border = cv2.copyMakeBorder(column_mask, 1, 1, 1, 1, cv2.BORDER_CONSTANT, value=0)\n    _, contours, hierarchy = cv2.findContours(border, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_NONE, offset=(-1, -1))\n    cell_list = []\n    for contour in contours:\n        cell_mask = np.zeros_like(img_gray) # Create mask where white is what we want, black otherwise\n        cv2.drawContours(cell_mask, [contour], -1, 255, -1) # Draw filled contour in mask\n\n        # turn that mask into a rectangle\n        (x,y,w,h) = cv2.boundingRect(contour)\n        #print(&quot;x:{} y:{} w:{} h:{}&quot;.format(x, y, w, h))\n        cv2.rectangle(cell_mask, (x, y), (x+w, y+h), 255, -1)\n        # copy the img_gray using that mask\n        img_tmp_region = cv2.bitwise_and(img_gray, img_gray, mask= cell_mask)\n\n        # Now crop\n        (y, x) = np.where(cell_mask == 255)\n        (top_y, top_x) = (np.min(y), np.min(x))\n        (bottom_y, bottom_x) = (np.max(y), np.max(x))\n        img_tmp_region = img_tmp_region[top_y:bottom_y+1, top_x:bottom_x+1]\n\n        cell_list.append([img_tmp_region, top_x, top_y])\n\n    return cell_list\n\n\n&quot;&quot;&quot; 1. Load images &quot;&quot;&quot;\n# load image of plate\nsrc_path = &quot;nRHzD.jpg&quot;\nsrc = cv2.imread(src_path)\n\n# load template of plate (to be looked for)\nsrc_template_path = &quot;nRHzD_template.jpg&quot;\nsrc_template = cv2.imread(src_template_path)\n\n&quot;&quot;&quot; 2. Find the plate (using the template image) and crop it into a rectangle &quot;&quot;&quot;\n# convert images to gray scale\nsrc_gray = cv2.cvtColor(src, cv2.COLOR_BGR2GRAY)\nsrc_template_gray = cv2.cvtColor(src_template, cv2.COLOR_BGR2GRAY)\n# use SIFT to find template\nn_matches_min = 10\ntemplate_found, homography = find_template(src_gray, src_template_gray, n_matches_min)\nwarp = transform_perspective_and_crop(homography, src, src_gray, src_template)\n\nwarp_gray = cv2.cvtColor(warp, cv2.COLOR_BGR2GRAY)\nwarp_hsv = cv2.cvtColor(warp, cv2.COLOR_BGR2HSV)\ntemplate_hsv = cv2.cvtColor(src_template, cv2.COLOR_BGR2HSV)\n\n&quot;&quot;&quot; 3. Find regions of interest (using the green parts of the template image) &quot;&quot;&quot;\ngreen_hsv_lower_bound = [50, 250, 250]\ngreen_hsv_upper_bound = [60, 255, 255]\nmask_rois, mask_rois_img = crop_img_in_hsv_range(warp, template_hsv, green_hsv_lower_bound, green_hsv_upper_bound)\nroi_list = separate_rois(mask_rois, warp_gray)\n# sort the rois by distance to top right corner -&gt; x (value[1]) + y (value[2])\nroi_list = sorted(roi_list, key=lambda values: values[1]+values[2])\n\n&quot;&quot;&quot; 4. Apply a Canny Edge detection to the rois (regions of interest) &quot;&quot;&quot;\nfor i, roi in enumerate(roi_list):\n    roi_img, roi_x_offset, roi_y_offset = roi\n    print(&quot;#roi:{} x:{} y:{}&quot;.format(i, roi_x_offset, roi_y_offset))\n\n    roi_img_blur_threshold = cv2.Canny(roi_img, 40, 200)\n    cv2.imshow(&quot;ROI image&quot;, roi_img_blur_threshold)\n    cv2.waitKey()\n</code></pre>\n"}],"owner":{"account_id":9122967,"reputation":127,"user_id":6787808,"display_name":"ciolo"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2320,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":51477291,"answer_count":1,"score":2,"last_activity_date":1694698685,"creation_date":1531749707,"question_id":51363676,"body_markdown":"I&#39;m developing an android app to recognize text in particular plate, as in photo here:\r\n\r\n![plate][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nRHzD.jpg \r\nI have to recognize the texts in white (e.g. near to &quot;Mod.&quot;). I&#39;m using Google ML Kit&#39;s text recognition APIs, but it fails. So, I&#39;m using OpenCV to edit image but I don&#39;t know how to emphasize the (white) texts so OCR recognize it. I tried more stuff, like contrast, brightness, gamma correction, adaptive thresholding, but the cases vary a lot depending on how the photo is taken. Do you have any ideas?\r\nThank u very much.","title":"How to edit image with opencv to read text with OCR","body":"<p>I'm developing an android app to recognize text in particular plate, as in photo here:</p>\n\n<p><img src=\"https://i.stack.imgur.com/nRHzD.jpg\" alt=\"plate\"></p>\n\n<p>I have to recognize the texts in white (e.g. near to \"Mod.\"). I'm using Google ML Kit's text recognition APIs, but it fails. So, I'm using OpenCV to edit image but I don't know how to emphasize the (white) texts so OCR recognize it. I tried more stuff, like contrast, brightness, gamma correction, adaptive thresholding, but the cases vary a lot depending on how the photo is taken. Do you have any ideas?\nThank u very much.</p>\n"},{"tags":["java","amazon-web-services","amazon-ecs"],"answers":[{"tags":[],"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694695821,"creation_date":1694695821,"answer_id":77105056,"question_id":77104999,"body_markdown":"If you run this as an [ECS Service][1], then yes, when the container exits, the task will be stopped and a new task will be created with a new instance of the container. \r\n\r\nIf you run it as a Task, without a Service configuration, then no, ECS will not automatically replace the task.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs_services.html","title":"Will AWS ecs re-launch exited java processes in contianers?","body":"<p>If you run this as an <a href=\"https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs_services.html\" rel=\"nofollow noreferrer\">ECS Service</a>, then yes, when the container exits, the task will be stopped and a new task will be created with a new instance of the container.</p>\n<p>If you run it as a Task, without a Service configuration, then no, ECS will not automatically replace the task.</p>\n"},{"tags":[],"owner":{"account_id":9452167,"reputation":1629,"user_id":7028588,"accept_rate":0,"display_name":"HeronAlgoSearch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694698651,"creation_date":1694698651,"answer_id":77105458,"question_id":77104999,"body_markdown":"Yes, if run as a service then it will be re-launched","title":"Will AWS ecs re-launch exited java processes in contianers?","body":"<p>Yes, if run as a service then it will be re-launched</p>\n"}],"owner":{"account_id":9452167,"reputation":1629,"user_id":7028588,"accept_rate":0,"display_name":"HeronAlgoSearch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694698651,"creation_date":1694695335,"question_id":77104999,"body_markdown":"I have a java app that I am running via Docker on AWS via the entrypoint:\r\n```\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;, &quot;-Xmx600m&quot;, &quot;/app.jar&quot;]\r\n```\r\n\r\nI am running this on AWS ECS. If the java process dies for whatever reason, will the cotnainer be re-launched?","title":"Will AWS ecs re-launch exited java processes in contianers?","body":"<p>I have a java app that I am running via Docker on AWS via the entrypoint:</p>\n<pre><code>ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;, &quot;-Xmx600m&quot;, &quot;/app.jar&quot;]\n</code></pre>\n<p>I am running this on AWS ECS. If the java process dies for whatever reason, will the cotnainer be re-launched?</p>\n"},{"tags":["java","bufferedimage"],"comments":[{"owner":{"account_id":5830612,"reputation":93,"user_id":4595266,"accept_rate":56,"display_name":"cdubbs"},"score":0,"creation_date":1694570555,"post_id":77093544,"comment_id":135907499,"body_markdown":"@experimentunit1998X I feel like I&#39;ve played with all the indices that might be a zero-index to no luck, any insights?","body":"@experimentunit1998X I feel like I&#39;ve played with all the indices that might be a zero-index to no luck, any insights?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1694570877,"post_id":77093544,"comment_id":135907517,"body_markdown":"`originalImage.getSubimage(0, 0, 1, img.getHeight());` - Now, I&#39;d be tempted to &quot;paint&quot; the result to a new `BufferedImage` as the *&quot;The returned `BufferedImage` shares the same data array as the original image.&quot;* (quoted from the JavaDocs)","body":"<code>originalImage.getSubimage(0, 0, 1, img.getHeight());</code> - Now, I&#39;d be tempted to &quot;paint&quot; the result to a new <code>BufferedImage</code> as the <i>&quot;The returned <code>BufferedImage</code> shares the same data array as the original image.&quot;</i> (quoted from the JavaDocs)"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1694571854,"post_id":77093544,"comment_id":135907585,"body_markdown":"Use `setRGB` instead of `setPixels` - there seems to be a difference in exception over what the arrays hold","body":"Use <code>setRGB</code> instead of <code>setPixels</code> - there seems to be a difference in exception over what the arrays hold"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694573779,"creation_date":1694573779,"answer_id":77093760,"question_id":77093544,"body_markdown":"You can use the _[Graphics](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Graphics.html)_ class to copy an area of an image.\r\n\r\nHere is an example.  \r\nI&#39;m using the following image.  \r\n_https://apod.nasa.gov/apod/image/2309/STSCI-HST-abell370_1797x2000.jpg_.\r\n\r\nHere is the _JavaDoc_ for the _drawImage_ method.  \r\n_[Graphics#drawImage (Java SE 20 &amp;amp; JDK 20)](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Graphics.html#drawImage(java.awt.Image,int,int,int,int,int,int,int,int,java.awt.image.ImageObserver))_.\r\n\r\n```java\r\nBufferedImage image = ImageIO.read(new File(&quot;STSCI-HST-abell370_1797x2000.jpg&quot;));\r\nint w = 1, h = 2000;\r\nBufferedImage cropped = new BufferedImage(w, h, image.getType());\r\nGraphics g = cropped.createGraphics();;\r\ng.drawImage(image, 0, 0, w, h, 0, 0, w, h, null);\r\ng.dispose();\r\nImageIO.write(cropped, &quot;jpg&quot;, new File(&quot;STSCI-HST-abell370_cropped.jpg&quot;));\r\n```","title":"Converting a single column of a BufferedImage into a new BufferedImage","body":"<p>You can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Graphics.html\" rel=\"nofollow noreferrer\">Graphics</a></em> class to copy an area of an image.</p>\n<p>Here is an example.<br />\nI'm using the following image.<br />\n<em><a href=\"https://apod.nasa.gov/apod/image/2309/STSCI-HST-abell370_1797x2000.jpg\" rel=\"nofollow noreferrer\">https://apod.nasa.gov/apod/image/2309/STSCI-HST-abell370_1797x2000.jpg</a></em>.</p>\n<p>Here is the <em>JavaDoc</em> for the <em>drawImage</em> method.<br />\n<em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Graphics.html#drawImage(java.awt.Image,int,int,int,int,int,int,int,int,java.awt.image.ImageObserver)\" rel=\"nofollow noreferrer\">Graphics#drawImage (Java SE 20 &amp; JDK 20)</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedImage image = ImageIO.read(new File(&quot;STSCI-HST-abell370_1797x2000.jpg&quot;));\nint w = 1, h = 2000;\nBufferedImage cropped = new BufferedImage(w, h, image.getType());\nGraphics g = cropped.createGraphics();;\ng.drawImage(image, 0, 0, w, h, 0, 0, w, h, null);\ng.dispose();\nImageIO.write(cropped, &quot;jpg&quot;, new File(&quot;STSCI-HST-abell370_cropped.jpg&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5830612,"reputation":93,"user_id":4595266,"accept_rate":56,"display_name":"cdubbs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694698244,"creation_date":1694575435,"answer_id":77093852,"question_id":77093544,"body_markdown":"Thank you [@MadProgrammer][1], I ended up using `artwork.getSubimage(0,0,1,artwork.getHeight())`, which did the trick!\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/992484/madprogrammer","title":"Converting a single column of a BufferedImage into a new BufferedImage","body":"<p>Thank you <a href=\"https://stackoverflow.com/users/992484/madprogrammer\">@MadProgrammer</a>, I ended up using <code>artwork.getSubimage(0,0,1,artwork.getHeight())</code>, which did the trick!</p>\n"}],"owner":{"account_id":5830612,"reputation":93,"user_id":4595266,"accept_rate":56,"display_name":"cdubbs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1694698244,"creation_date":1694568697,"question_id":77093544,"body_markdown":"I want to take a BufferedImage (in this case it is 3600x3600) and take the first column of pixels and create a new BufferedImage out of that (creating an image 1x3600), here is the code I have:\r\n\r\n```\r\nBufferedImage originalImage = ImageUtilities.readImageFile(&quot;C:/someImage.png&quot;);\r\nint[] columnData = new int[originalImage.getHeight()];\r\noriginalImage.getRGB(0, 0, 1, originalImage.getHeight(), columnData, 0, 1);\r\nBufferedImage columnImage = new BufferedImage(1, originalImage.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\nWritableRaster raster = columnImage.getRaster();\r\nraster.setPixels(0, 0, 1, originalImage.getHeight(), columnData);\r\n```\r\n\r\nBut I keep getting the following exception:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 3600\r\n\tat java.awt.image.SinglePixelPackedSampleModel.setPixels(Unknown Source)\r\n\tat java.awt.image.WritableRaster.setPixels(Unknown Source)\r\n```\r\n\r\nCould someone tell me what am I doing wrong, please?\r\n","title":"Converting a single column of a BufferedImage into a new BufferedImage","body":"<p>I want to take a BufferedImage (in this case it is 3600x3600) and take the first column of pixels and create a new BufferedImage out of that (creating an image 1x3600), here is the code I have:</p>\n<pre><code>BufferedImage originalImage = ImageUtilities.readImageFile(&quot;C:/someImage.png&quot;);\nint[] columnData = new int[originalImage.getHeight()];\noriginalImage.getRGB(0, 0, 1, originalImage.getHeight(), columnData, 0, 1);\nBufferedImage columnImage = new BufferedImage(1, originalImage.getHeight(), BufferedImage.TYPE_INT_ARGB);\nWritableRaster raster = columnImage.getRaster();\nraster.setPixels(0, 0, 1, originalImage.getHeight(), columnData);\n</code></pre>\n<p>But I keep getting the following exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 3600\n    at java.awt.image.SinglePixelPackedSampleModel.setPixels(Unknown Source)\n    at java.awt.image.WritableRaster.setPixels(Unknown Source)\n</code></pre>\n<p>Could someone tell me what am I doing wrong, please?</p>\n"},{"tags":["java","serialization","equals","hazelcast","in-memory-data-grid"],"answers":[{"tags":[],"owner":{"account_id":5639587,"reputation":412,"user_id":4463900,"display_name":"Or&#231;un &#199;olak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694698101,"creation_date":1694698101,"answer_id":77105381,"question_id":77101486,"body_markdown":"You will see that it works. Start your member with user code deployment\r\n```java\r\npublic static void main(String[] args) {\r\n  Config config = new Config();\r\n  UserCodeDeploymentConfig userCodeDeploymentConfig = \r\n  config.getUserCodeDeploymentConfig();\r\n  userCodeDeploymentConfig.setEnabled(true);\r\n        \r\n  MapConfig mapConfig = config.getMapConfig(&quot;mymap&quot;);\r\n  mapConfig.setInMemoryFormat(InMemoryFormat.OBJECT);\r\n  HazelcastInstance hazelcastInstance = Hazelcast.newHazelcastInstance(config);\r\n}\r\n```\r\nOn the client side have a class as below\r\n```java\r\npackage com.colak.datastructures.map;\r\n\r\npublic class Worker implements Serializable {\r\n\r\n  String name;\r\n\r\n  public Worker(String name) {\r\n    this.name = name;\r\n  }\r\n\r\n  @Override\r\n  public boolean equals(Object o) {\r\n    if (this == o) return true;\r\n    if (o == null || getClass() != o.getClass()) return false;\r\n    Worker worker = (Worker) o;\r\n    return Objects.equals(name, worker.name);\r\n  }\r\n\r\n  @Override\r\n  public int hashCode() {\r\n    return Objects.hash(name);\r\n  }\r\n}\r\n```\r\nThen start your client and deploy your domain object to member\r\n```java\r\npublic static void main(String[] args) {\r\n  ClientConfig clientConfig = new ClientConfig();\r\n\r\n  ClientUserCodeDeploymentConfig userCodeDeploymentConfig = \r\n    clientConfig.getUserCodeDeploymentConfig();\r\n  userCodeDeploymentConfig.setEnabled(true);\r\n  userCodeDeploymentConfig.addClass(com.colak.datastructures.map.Worker.class);\r\n\r\n  HazelcastInstance hazelcastInstance = HazelcastClient.newHazelcastClient(clientConfig);\r\n\r\n  IMap&lt;Integer, Worker&gt; map = hazelcastInstance.getMap(&quot;mymap&quot;);\r\n  Worker worker1 = new Worker(&quot;john&quot;);\r\n  Worker worker2 = new Worker(&quot;jane&quot;);\r\n\r\n  int key = 1;\r\n  map.put(key, worker1);\r\n  Worker receivedWorker = map.get(key);\r\n\r\n  if (!receivedWorker.equals(worker1)) {\r\n    throw new IllegalStateException(&quot;receivedWorker is not equal to worker1&quot;);\r\n  }\r\n\r\n  map.replace(key, worker1, worker2); // Here replace workers for the same key\r\n  receivedWorker = map.get(key);\r\n  if (!receivedWorker.equals(worker2)) {\r\n    throw new IllegalStateException(&quot;receivedWorker is not equal to worker2&quot;);\r\n  }\r\n}\r\n```\r\nYou can see that worker1 is replaced with worker2 for key = 1","title":"Hazelcast object equals for replace method callingfrom client","body":"<p>You will see that it works. Start your member with user code deployment</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n  Config config = new Config();\n  UserCodeDeploymentConfig userCodeDeploymentConfig = \n  config.getUserCodeDeploymentConfig();\n  userCodeDeploymentConfig.setEnabled(true);\n        \n  MapConfig mapConfig = config.getMapConfig(&quot;mymap&quot;);\n  mapConfig.setInMemoryFormat(InMemoryFormat.OBJECT);\n  HazelcastInstance hazelcastInstance = Hazelcast.newHazelcastInstance(config);\n}\n</code></pre>\n<p>On the client side have a class as below</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.colak.datastructures.map;\n\npublic class Worker implements Serializable {\n\n  String name;\n\n  public Worker(String name) {\n    this.name = name;\n  }\n\n  @Override\n  public boolean equals(Object o) {\n    if (this == o) return true;\n    if (o == null || getClass() != o.getClass()) return false;\n    Worker worker = (Worker) o;\n    return Objects.equals(name, worker.name);\n  }\n\n  @Override\n  public int hashCode() {\n    return Objects.hash(name);\n  }\n}\n</code></pre>\n<p>Then start your client and deploy your domain object to member</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n  ClientConfig clientConfig = new ClientConfig();\n\n  ClientUserCodeDeploymentConfig userCodeDeploymentConfig = \n    clientConfig.getUserCodeDeploymentConfig();\n  userCodeDeploymentConfig.setEnabled(true);\n  userCodeDeploymentConfig.addClass(com.colak.datastructures.map.Worker.class);\n\n  HazelcastInstance hazelcastInstance = HazelcastClient.newHazelcastClient(clientConfig);\n\n  IMap&lt;Integer, Worker&gt; map = hazelcastInstance.getMap(&quot;mymap&quot;);\n  Worker worker1 = new Worker(&quot;john&quot;);\n  Worker worker2 = new Worker(&quot;jane&quot;);\n\n  int key = 1;\n  map.put(key, worker1);\n  Worker receivedWorker = map.get(key);\n\n  if (!receivedWorker.equals(worker1)) {\n    throw new IllegalStateException(&quot;receivedWorker is not equal to worker1&quot;);\n  }\n\n  map.replace(key, worker1, worker2); // Here replace workers for the same key\n  receivedWorker = map.get(key);\n  if (!receivedWorker.equals(worker2)) {\n    throw new IllegalStateException(&quot;receivedWorker is not equal to worker2&quot;);\n  }\n}\n</code></pre>\n<p>You can see that worker1 is replaced with worker2 for key = 1</p>\n"}],"owner":{"account_id":12652068,"reputation":614,"user_id":9195823,"display_name":"Tix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77105381,"answer_count":1,"score":0,"last_activity_date":1694698101,"creation_date":1694659704,"question_id":77101486,"body_markdown":"I have configured hazelcast map with `in-memory-format: OBJECT`.\r\nNow I am trying to use method `map.replace(key,oldValue,newVal)` assuming that it will use defined `equals` method in my class. But I make call not in hazelcast instance, but from separate client, aka from another jvm.\r\nI tried to copy the same class to hazelcast application, but it doesn&#39;t work, it continue to compare by binary.","title":"Hazelcast object equals for replace method callingfrom client","body":"<p>I have configured hazelcast map with <code>in-memory-format: OBJECT</code>.\nNow I am trying to use method <code>map.replace(key,oldValue,newVal)</code> assuming that it will use defined <code>equals</code> method in my class. But I make call not in hazelcast instance, but from separate client, aka from another jvm.\nI tried to copy the same class to hazelcast application, but it doesn't work, it continue to compare by binary.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":3,"creation_date":1694696144,"post_id":77105046,"comment_id":135927203,"body_markdown":"What have you tried so far?","body":"What have you tried so far?"}],"answers":[{"tags":[],"owner":{"account_id":116746,"reputation":12467,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694698009,"creation_date":1694698009,"answer_id":77105364,"question_id":77105046,"body_markdown":"You could use the `java.nio.file.Path` class that have support for hierarchical operations. Like so:\r\n\r\n        URI uri = URI.create(&quot;https://example.com/context/path1/path2/path3&quot;);\r\n\r\n        Path path = Paths.get(uri.getPath());\r\n\r\n        String componentToRemove = &quot;path1&quot;;\r\n        Path tmp = Paths.get(&quot;/&quot;);\r\n        for (int i=0; i &lt; path.getNameCount(); ++i) {\r\n            String s = path.getName(i).toString();\r\n\r\n            if (!componentToRemove.equals(s)) {\r\n                tmp = tmp.resolve(s);\r\n            }\r\n        }\r\n        URI result = new URI(uri.getScheme(), uri.getHost(), tmp.toString(), null);\r\n        System.out.println(result);\r\n","title":"How to remove Path in the URL","body":"<p>You could use the <code>java.nio.file.Path</code> class that have support for hierarchical operations. Like so:</p>\n<pre><code>    URI uri = URI.create(&quot;https://example.com/context/path1/path2/path3&quot;);\n\n    Path path = Paths.get(uri.getPath());\n\n    String componentToRemove = &quot;path1&quot;;\n    Path tmp = Paths.get(&quot;/&quot;);\n    for (int i=0; i &lt; path.getNameCount(); ++i) {\n        String s = path.getName(i).toString();\n\n        if (!componentToRemove.equals(s)) {\n            tmp = tmp.resolve(s);\n        }\n    }\n    URI result = new URI(uri.getScheme(), uri.getHost(), tmp.toString(), null);\n    System.out.println(result);\n</code></pre>\n"}],"owner":{"account_id":10733820,"reputation":47,"user_id":11118861,"display_name":"jodevelofer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1694698009,"creation_date":1694695758,"question_id":77105046,"body_markdown":"How can I dynamically remove a path from a URL? For example I want to remove path1 in the example\r\n\r\nURL: https://example.com/context/path1/path2/path3\r\n\r\nso it will become: https://example.com/context/path2/path3\r\n\r\nIt can be any path from the URL.\r\n\r\n","title":"How to remove Path in the URL","body":"<p>How can I dynamically remove a path from a URL? For example I want to remove path1 in the example</p>\n<p>URL: <a href=\"https://example.com/context/path1/path2/path3\" rel=\"nofollow noreferrer\">https://example.com/context/path1/path2/path3</a></p>\n<p>so it will become: <a href=\"https://example.com/context/path2/path3\" rel=\"nofollow noreferrer\">https://example.com/context/path2/path3</a></p>\n<p>It can be any path from the URL.</p>\n"},{"tags":["java","maven","junit","maven-surefire-plugin"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1694095709,"post_id":77060326,"comment_id":135848654,"body_markdown":"Where is the test file located?","body":"Where is the test file located?"},{"owner":{"account_id":8538748,"reputation":487,"user_id":6399544,"accept_rate":57,"display_name":"Cesar"},"score":0,"creation_date":1694095845,"post_id":77060326,"comment_id":135848690,"body_markdown":"@Jens\nsrc/test/java\n\nAll my tests were working great before junit 5.","body":"@Jens src/test/java  All my tests were working great before junit 5."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1694099144,"post_id":77060326,"comment_id":135849539,"body_markdown":"Please show the full pom file and not only excerpts.. second use most recent version of maven-surefire-plugin (3.1.2) (https://maven.apache.org/plugins/)  do you still have JUnit 4 based tests in your App ? Use junit-jupiter-engine as dependency...","body":"Please show the full pom file and not only excerpts.. second use most recent version of maven-surefire-plugin (3.1.2) (<a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins</a>)  do you still have JUnit 4 based tests in your App ? Use junit-jupiter-engine as dependency..."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1694703005,"post_id":77060326,"comment_id":135928929,"body_markdown":"You need additional dependencies","body":"You need additional dependencies"}],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694098806,"creation_date":1694098806,"answer_id":77060760,"question_id":77060326,"body_markdown":"You have a `java.lang.ClassNotFoundException` for `org.junit.platform.engine.support.discovery.SelectorResolver`. This class should come from the artifact\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit-platform-engine&lt;/artifactId&gt;\r\n    &lt;version&gt;?&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nPossibly a fix is as simple as adding this dependency to your pom.xml?\r\n\r\nPerhaps you need to run the following from command line to see what&#39;s going on\r\n- `mvn dependency:tree` \r\n- `mvn help:effective-pom`","title":"jUnit 5 can&#39;t find tests","body":"<p>You have a <code>java.lang.ClassNotFoundException</code> for <code>org.junit.platform.engine.support.discovery.SelectorResolver</code>. This class should come from the artifact</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-platform-engine&lt;/artifactId&gt;\n    &lt;version&gt;?&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Possibly a fix is as simple as adding this dependency to your pom.xml?</p>\n<p>Perhaps you need to run the following from command line to see what's going on</p>\n<ul>\n<li><code>mvn dependency:tree</code></li>\n<li><code>mvn help:effective-pom</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694099436,"creation_date":1694099436,"answer_id":77060839,"question_id":77060326,"body_markdown":"To run Junit Jupiter tests it&#39;s best is to use the junit-bom for all the needed artifact dependencies.\r\n\r\n\r\n&lt;!-- language:language-xml --&gt;\r\n\r\n      &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\r\n            &lt;version&gt;5.10.0&lt;/version&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/dependencyManagement&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n\r\nAlso use most recent version of [maven-surefire-plugin][1]\r\n\r\n\r\n&lt;!-- language:language-xml --&gt;\r\n\r\n      &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n          &lt;plugins&gt;\r\n            ...\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.1.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.1.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n         ..\r\n      &lt;/build&gt;\r\n\r\nIf you combine JUnit 4 and JUnit Jupiter (aka JUnit 5) test in the same project you have to use the junit-vintage-engine like this:\r\n\r\n&lt;!-- language:language-xml --&gt;\r\n\r\n     &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\r\n            &lt;version&gt;5.10.0&lt;/version&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/dependencyManagement&gt;\r\n    \r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        ..\r\n      &lt;/dependencies&gt;\r\n\r\nThat would result mean to run your JUnit 4 tests via JUnit 5 Vintage engine.\r\n\r\n  [1]: https://maven.apache.org/plugins/\r\n\r\n","title":"jUnit 5 can&#39;t find tests","body":"<p>To run Junit Jupiter tests it's best is to use the junit-bom for all the needed artifact dependencies.</p>\n\n<pre><code>  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\n        &lt;version&gt;5.10.0&lt;/version&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n<p>Also use most recent version of <a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">maven-surefire-plugin</a></p>\n\n<pre><code>  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        ...\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n     ..\n  &lt;/build&gt;\n</code></pre>\n<p>If you combine JUnit 4 and JUnit Jupiter (aka JUnit 5) test in the same project you have to use the junit-vintage-engine like this:</p>\n\n<pre><code> &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\n        &lt;version&gt;5.10.0&lt;/version&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.13.2&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    ..\n  &lt;/dependencies&gt;\n</code></pre>\n<p>That would result mean to run your JUnit 4 tests via JUnit 5 Vintage engine.</p>\n"},{"tags":[],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694697591,"creation_date":1694697591,"answer_id":77105308,"question_id":77060326,"body_markdown":"we have mentioned two dependencies to resolve your issue.\r\n\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;junit-platform-suite-engine&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.8.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n    \t&lt;version&gt;5.8.2&lt;/version&gt;\r\n    \t&lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nThanks.","title":"jUnit 5 can&#39;t find tests","body":"<p>we have mentioned two dependencies to resolve your issue.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-platform-suite-engine&lt;/artifactId&gt;\n    &lt;version&gt;1.8.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n    &lt;version&gt;5.8.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Thanks.</p>\n"}],"owner":{"account_id":8538748,"reputation":487,"user_id":6399544,"accept_rate":57,"display_name":"Cesar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77060839,"answer_count":3,"score":1,"last_activity_date":1694697591,"creation_date":1694095431,"question_id":77060326,"body_markdown":"I know this has been questionned few times now but i&#39;m running out of ideas.\r\n\r\n    sept. 07, 2023 3:57:06 PM org.junit.platform.launcher.core.DefaultLauncher handleThrowable\r\n    WARNING: TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests\r\n    java.lang.NoClassDefFoundError: org/junit/platform/engine/support/discovery/SelectorResolver\r\n    \tat org.junit.jupiter.engine.JupiterTestEngine.discover(JupiterTestEngine.java:69)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.discoverEngineRoot(DefaultLauncher.java:168)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.discoverRoot(DefaultLauncher.java:155)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.discover(DefaultLauncher.java:120)\r\n    \tat org.apache.maven.surefire.junitplatform.TestPlanScannerFilter.accept(TestPlanScannerFilter.java:56)\r\n    \tat org.apache.maven.surefire.util.DefaultScanResult.applyFilter(DefaultScanResult.java:102)\r\n    \tat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.scanClasspath(JUnitPlatformProvider.java:143)\r\n    \tat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)\r\n    Caused by: java.lang.ClassNotFoundException: org.junit.platform.engine.support.discovery.SelectorResolver\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \t... 12 more\r\n\r\n\r\nThis is the message I got with jUnit 5. He can&#39;t find any tests (have over 800).\r\n\r\nMy pom seems correct :\r\n\r\n \r\n\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n          &lt;version&gt;5.10.0&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n          &lt;version&gt;5.10.0&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n          &lt;version&gt;5.10.0&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;plugin&gt;\r\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n       &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n       &lt;version&gt;2.22.2&lt;/version&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\nMy tests are well named : \r\n\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.assertEquals;\r\n    \r\n    public class AttestationIdentiteCallParamsTest {\r\n    \r\n        @Test\r\n        void testAttestationIdentiteCallParams() {\r\n    }\r\n\r\nExecuting my test from intelliJ and CMD with java 11. \r\n\r\n&gt; mvn clean install\r\n\r\n 200 times\r\n\r\nIt just never works.\r\nIdeas ? Thanks","title":"jUnit 5 can&#39;t find tests","body":"<p>I know this has been questionned few times now but i'm running out of ideas.</p>\n<pre><code>sept. 07, 2023 3:57:06 PM org.junit.platform.launcher.core.DefaultLauncher handleThrowable\nWARNING: TestEngine with ID 'junit-jupiter' failed to discover tests\njava.lang.NoClassDefFoundError: org/junit/platform/engine/support/discovery/SelectorResolver\n    at org.junit.jupiter.engine.JupiterTestEngine.discover(JupiterTestEngine.java:69)\n    at org.junit.platform.launcher.core.DefaultLauncher.discoverEngineRoot(DefaultLauncher.java:168)\n    at org.junit.platform.launcher.core.DefaultLauncher.discoverRoot(DefaultLauncher.java:155)\n    at org.junit.platform.launcher.core.DefaultLauncher.discover(DefaultLauncher.java:120)\n    at org.apache.maven.surefire.junitplatform.TestPlanScannerFilter.accept(TestPlanScannerFilter.java:56)\n    at org.apache.maven.surefire.util.DefaultScanResult.applyFilter(DefaultScanResult.java:102)\n    at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.scanClasspath(JUnitPlatformProvider.java:143)\n    at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124)\n    at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)\n    at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)\nCaused by: java.lang.ClassNotFoundException: org.junit.platform.engine.support.discovery.SelectorResolver\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 12 more\n</code></pre>\n<p>This is the message I got with jUnit 5. He can't find any tests (have over 800).</p>\n<p>My pom seems correct :</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n      &lt;version&gt;5.10.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;version&gt;5.10.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n      &lt;version&gt;5.10.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;plugin&gt;\n   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n   &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n   &lt;version&gt;2.22.2&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>My tests are well named :</p>\n<pre><code>import org.junit.jupiter.api.Test;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\npublic class AttestationIdentiteCallParamsTest {\n\n    @Test\n    void testAttestationIdentiteCallParams() {\n}\n</code></pre>\n<p>Executing my test from intelliJ and CMD with java 11.</p>\n<blockquote>\n<p>mvn clean install</p>\n</blockquote>\n<p>200 times</p>\n<p>It just never works.\nIdeas ? Thanks</p>\n"},{"tags":["java","certificate","usb","dongle","safenet"],"owner":{"account_id":1622294,"reputation":317,"user_id":1498603,"display_name":"stefanu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694696925,"creation_date":1694696925,"question_id":77105206,"body_markdown":"When using a certificate from a dongle (for instance, SafeNet), the certificate is not available unless an interactive session (on a Windows server in my case) is open, finally meaning that the certificate cannot be used for server operations unless a real person has opened a session.\r\n\r\nIs there any configuration that can be set up so that this scenario becomes possible ?\r\n\r\nImplementation details : code that requires access to the token is written in Java and works perfectly fine in interactive sessions. When included in a service (more specifically a tomcat container), it does not detect the dongle.","title":"How to use a certificate from a dongle in non-interactive scenarios","body":"<p>When using a certificate from a dongle (for instance, SafeNet), the certificate is not available unless an interactive session (on a Windows server in my case) is open, finally meaning that the certificate cannot be used for server operations unless a real person has opened a session.</p>\n<p>Is there any configuration that can be set up so that this scenario becomes possible ?</p>\n<p>Implementation details : code that requires access to the token is written in Java and works perfectly fine in interactive sessions. When included in a service (more specifically a tomcat container), it does not detect the dongle.</p>\n"},{"tags":["java","spring","macos","sts"],"comments":[{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1694713506,"post_id":77105158,"comment_id":135931046,"body_markdown":"I&#39;m not going to comment on the particular issue you&#39;re facing. I am, however, going to say this: start using Intellij. It&#39;s 2023 already. No, they&#39;re not both &#39;viable options and a matter of preference&#39;. Eclipse lost the race. No, really. By a mile or so. And I should know. I was the last to use that monstrosity of an IDE at my company, a few years back. There really is no contest any longer","body":"I&#39;m not going to comment on the particular issue you&#39;re facing. I am, however, going to say this: start using Intellij. It&#39;s 2023 already. No, they&#39;re not both &#39;viable options and a matter of preference&#39;. Eclipse lost the race. No, really. By a mile or so. And I should know. I was the last to use that monstrosity of an IDE at my company, a few years back. There really is no contest any longer"}],"owner":{"account_id":28877237,"reputation":1,"user_id":22117491,"display_name":"wannabeanswer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694696659,"creation_date":1694696541,"question_id":77105158,"body_markdown":"I&#39;m practicing the process of creating a webpage with STS3, but the ID duplication check function doesn&#39;t work on the webpage for login and membership.\r\n\r\nI&#39;m creating a Spring legacy project with STS3 to practice creating web pages. In the Windows 10 environment, the login/logout is implemented properly, and the part that checks for duplicate usernames on the signup page is also implemented properly.\r\n\r\nI wanted to work on my personal M1 MacBook, so I moved the entire project to my MacBook,\r\n\r\nThe problem is that the lab website works, but the login function does not work at all, and the button to check for duplicate IDs on the signup page does not work.\r\n\r\nMore specific symptoms are\r\n\r\nWhen I enter my ID and password and try to log in, it says\r\n\r\nI get a warning that the ID and password don&#39;t match and I can&#39;t log in.\r\n\r\nIf you enter a random ID and click the duplicate check button when registering, it will not work.\r\n\r\n&quot;Communication failure!&quot; is displayed.\r\n\r\nThis problem did not occur at all when working with Windows.\r\n\r\nThe problem is that the log record in the console window of STS3 only contains logs related to the execution of server connection.\r\n\r\nand no error messages are displayed.\r\n\r\nI have no idea what source code I need to show to resolve this issue.\r\n\r\nWhich files should I modify?\r\n\r\nIt works fine on Windows, but not on Mac.\r\n\r\nI have no idea if I need to modify anything or what the problem is.\r\n\r\nI don&#39;t even know how to ask in this case.\r\n\r\nThe Java version is JRE 1.8.121.13 and the\r\n\r\nTomcat server is 8.5\r\n\r\nSTS3 version is 3.9.13.\r\n\r\nMacOS is the most recent version of Ventura.\r\n\r\nI honestly can&#39;t even figure out what code I should be uploading right now, so I&#39;m starting with the entire member_login.jsp. I&#39;m listing all the files in the project just in case, and if you need any of them to help you troubleshoot, let me know.\r\n\r\nI&#39;ll show you everything except for private information like IPs.\r\n\r\nThe product, purchasing, message board, and news sections are not yet implemented as I&#39;m still working on them.\r\n\r\n[enter image description here](https://i.stack.imgur.com/L6NRr.png)\r\n\r\n[enter image description here](https://i.stack.imgur.com/BHO0k.png)\r\n\r\nThe Korean version of that screenshot is\r\n\r\nrespectively\r\n\r\nThe ID or password is not correct.(ID나 비밀번호가 맞지않습니다.\r\n\r\nCommunication failure (통신실패)\r\n\r\nThis means that\r\n\r\nfirst here is In order from top to bottom\r\n\r\nmember_login.jsp\r\n\r\n```\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\n    pageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;%@ include file = &quot;../common_header.jsp&quot;%&gt;\r\n&lt;script type=&quot;text/javascript&quot;&gt;\r\n\tfunction goPw(){\r\n\t\t\r\n\t\tmem.t_pw.focus();\r\n\t\t\r\n\t}\r\n\tfunction memberLogin(){\r\n\t\tmem.t_gubun.value = &quot;MemberLogin&quot;;\r\n\t\tmem.method=&quot;post&quot;;\r\n\t\tmem.action=&quot;Member&quot;;\r\n\t\tmem.submit();\r\n\t\t\r\n\t}\r\n&lt;/script&gt;\r\n\t\t&lt;div id=&quot;b_left&quot;&gt;\r\n\t\t\t&lt;P&gt;MEMBER&lt;/P&gt;\r\n\t\t\t&lt;ul&gt;\r\n\t\t\t\t&lt;li&gt;&lt;a href=&quot;javascript:goPage(&#39;login&#39;)&quot;&gt;LOGIN&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t\t&lt;li&gt;&lt;a href=&quot;&quot;&gt;ID / PASSWORD&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t\t&lt;li&gt;&lt;a href=&quot;javascript:goPage(&#39;join&#39;)&quot;&gt;&lt;span class=&quot;fnt&quot;&gt;&lt;i class=&quot;fas fa-apple-alt&quot;&gt;&lt;/i&gt;&lt;/span&gt; CONTACK&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t&lt;/ul&gt;\r\n\t\t&lt;/div&gt;\r\n\r\n\t\t&lt;div id=&quot;b_right&quot;&gt;\r\n\t\t\t&lt;p class=&quot;n_title&quot;&gt;\r\n\t\t\t\tMEMBER LOGIN\r\n\t\t\t&lt;/p&gt;\r\n\t\t\r\n\t\t\t&lt;div class=&quot;login&quot;&gt;\r\n\t\t\t\t&lt;div class=&quot;member_boxL&quot;&gt;\r\n\t\t\t\t\t&lt;h2&gt;LOGIN&lt;/h2&gt;\r\n\t\t\t\t\t&lt;div class=&quot;login_form&quot;&gt;\r\n\t\t\t\t\t\t&lt;form name=&quot;mem&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;input type=&quot;hidden&quot; name=&quot;t_gubun&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;div class=&quot;fl_clear&quot;&gt;&lt;label for=&quot;mbrId&quot;&gt;아이디&lt;/label&gt;&lt;input name=&quot;t_id&quot; autofocus id=&quot;mbrId&quot; type=&quot;text&quot; onkeypress=&quot;if( event.keyCode==13 ){goPw()}&quot;&gt;&lt;/div&gt;\r\n\t\t\t\t\t\t\t&lt;div class=&quot;fl_clear&quot;&gt;&lt;label for=&quot;scrtNo&quot;&gt;비밀번호&lt;/label&gt;&lt;input name=&quot;t_pw&quot; id=&quot;scrtNo&quot; type=&quot;password&quot; onkeypress=&quot;if( event.keyCode==13 ){memberLogin()}&quot;&gt;&lt;/div&gt;\r\n\t\t\t\t\t\t\t&lt;a class=&quot;btn_login btn_Blue&quot; href=&quot;javascript:memberLogin()&quot;&gt;로그인&lt;/a&gt;\r\n\t\t\t\t\t\t&lt;/form&gt;\r\n\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t   \r\n\t\t\t\t&lt;/div&gt;\t\t\r\n\t\t\t&lt;/div&gt;\r\n\r\n\t\t&lt;/div&gt;\t\r\n\r\n\t\t&lt;div id=&quot;b_bottom&quot;&gt;\r\n\t\t&lt;%@ include file = &quot;../common_footer.jsp&quot;%&gt;\t\t\r\n\t\t&lt;/div&gt;\t\r\n\t&lt;/div&gt;\t\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n    \r\n```\r\n\r\nmember_join.jsp\r\n\r\n```\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\n    pageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;%@ include file = &quot;../common_header.jsp&quot;%&gt;\r\n &lt;script type=&quot;text/javascript&quot;&gt;\r\n \tfunction goJoin(){\r\n \t\t\r\n \t\t\r\n \t\tif(checkValue(mem.t_id,&quot;Enter your ID!&quot;)) return;\r\n \t\r\n \t\t\r\n \t\tif(mem.yesId.value == &quot;&quot;){\r\n \t\t\talert(&quot;this is not a valid ID.&quot;);\r\n \t\t\tmem.t_id.focus();\r\n \t\t\treturn;\r\n \t\t}\r\n\r\n \t\tif(checkValue(mem.t_name,&quot;Enter your name!&quot;)) return;\r\n\r\n \t\tif(checkValue(mem.t_password,&quot;Enter your password!&quot;)) return;\r\n \t\r\n \t\tif(checkValue(mem.t_password_confirm,&quot;check password!&quot;)) return;\r\n\r\n \t\tif(checkValue(mem.t_address, &quot;Enter your address!&quot;)) return;\r\n\r\n \t\tif(checkValue(mem.t_mobile_1, &quot;enter your mobile number!&quot;)) return;\r\n\r\n \t\tif(checkValue(mem.t_mobile_2, &quot;enter your mobile number!&quot;)) return;\r\n\r\n \t\tif(checkValue(mem.t_mobile_3, &quot;enter your mobile number!&quot;)) return;\r\n\r\n \t\tif(checkValue(mem.t_gender, &quot;select your gender!&quot;)) return;\r\n\r\n \t\t\r\n\r\n \t\tmem.t_gubun.value=&quot;MemberSave&quot;;\r\n \t\tmem.method=&quot;post&quot;;\r\n \t\tmem.action=&quot;Member&quot;;\r\n \t\tmem.submit();\r\n \t\t\r\n \t\t\r\n \t}\r\n \t\r\n\tfunction checkID(){\r\n\t\tif(checkValue(mem.t_id,&quot;ID 입력 후 중복검사하시오!!&quot;)) return;\r\n\t\t$.ajax({\r\n\t\t\ttype : &quot;POST&quot;,\r\n\t\t\turl : &quot;MemberCheckId&quot;,\r\n\t\t\tdata: &quot;t_id=&quot;+mem.t_id.value,\r\n\t\t\tdataType : &quot;text&quot;,\r\n\t\t\terror : function(){\r\n\t\t\t\talert(&#39;통신실패!!!!!&#39;);\r\n\t\t\t},\r\n\t\t\tsuccess : function(data){\r\n\t\t\t\talert(data);\r\n\t\t\t\tif(data == &quot;사용가능&quot;){\r\n\t\t\t\t\t\r\n\t\t\t\t\t$(&quot;#idResult&quot;).text(data); //javscript에서 css적용하는 요소로 idResult가 id요소라 #사용\r\n\t\t\t\t\t$(&quot;#idResult&quot;).css(&quot;color&quot;,&quot;black&quot;);\r\n\t\t\t\t\tmem.yesId.value = mem.t_id.value;\r\n\t\t\t\t\t\r\n\t\t\t\t}else if(data == &quot;사용불가&quot;) {\r\n\t\t\t\t\t$(&quot;#idResult&quot;).text(data);\r\n\t\t\t\t\t$(&quot;#idResult&quot;).css(&quot;color&quot;,&quot;black&quot;);\r\n\t\t\t\t\tmem.yesId.value = &quot;&quot;;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t});\t\t\t\t\r\n\t}\r\n \r\n &lt;/script&gt;\r\n\t\t&lt;div id=&quot;b_left&quot;&gt;\r\n\t\t\t&lt;P&gt;MEMBER&lt;/P&gt;\r\n\t\t\t&lt;ul&gt;\r\n\t\t\t\t&lt;li&gt;&lt;a href=&quot;javascript:goPage(&#39;login&#39;)&quot;&gt;LOGIN&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t\t&lt;li&gt;&lt;a href=&quot;&quot;&gt;ID / PASSWORD&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t\t&lt;li&gt;&lt;a href=&quot;javascript:goPage(&#39;join&#39;)&quot;&gt;&lt;span class=&quot;fnt&quot;&gt;&lt;i class=&quot;fas fa-apple-alt&quot;&gt;&lt;/i&gt;&lt;/span&gt; CONTACK&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t&lt;/ul&gt;\r\n\t\t&lt;/div&gt;\r\n\t\t\r\n\t\t&lt;div id=&quot;b_right&quot;&gt;\r\n\t\t\t&lt;p class=&quot;n_title&quot;&gt;\r\n\t\t\t\tMEMBER JOIN\r\n\t\t\t&lt;/p&gt;\r\n\t\t\t&lt;form name=&quot;mem&quot;&gt;\t\r\n\t\t\t&lt;input name=&quot;t_gubun&quot;&gt;\t\t\r\n\t\t\t&lt;table class=&quot;boardForm&quot;&gt;\r\n\t\t\t  &lt;colgroup&gt;\r\n\t\t\t\t&lt;col width=&quot;200&quot; /&gt;\r\n\t\t\t\t&lt;col width=&quot;500&quot; /&gt;\r\n\t\t\t  &lt;/colgroup&gt;\r\n\t\t\t  &lt;tbody&gt;\r\n\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t  &lt;th&gt;&lt;label for=&quot;id&quot;&gt;I D&lt;/label&gt;&lt;/th&gt;\r\n\t\t\t\t  &lt;td&gt;\r\n\t\t\t\t\t&lt;input name=&quot;t_id&quot; type=&quot;text&quot; size=&quot;10&quot; id=&quot;id&quot; title=&quot;id입력하세요&quot;&gt;\r\n\t\t\t\t\t&lt;input type=&quot;button&quot; onclick=&quot;checkID()&quot; value=&quot;ID중복검사&quot; class=&quot;checkB&quot;&gt;\r\n\t\t\t\t\t&lt;span id=&quot;idResult&quot;&gt;&lt;/span&gt;\r\n\t\t\t\t\t&lt;input type=&quot;hidden&quot; name=&quot;yesId&quot;&gt;\r\n\t\t\t\t  &lt;/td&gt;\r\n\t\t\t\t&lt;/tr&gt;\r\n\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t  &lt;th&gt;&lt;label for=&quot;nana&quot;&gt;성 명&lt;/label&gt;&lt;/th&gt;\r\n\t\t\t\t  &lt;td&gt;&lt;input name=&quot;t_name&quot; type=&quot;text&quot; size=&quot;8&quot; id=&quot;nana&quot;&gt;&lt;/td&gt;\r\n\t\t\t\t&lt;/tr&gt;\r\n\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t  &lt;th&gt;비밀번호&lt;/th&gt;\r\n\t\t\t\t  &lt;td&gt;&lt;input name=&quot;t_password&quot; type=&quot;text&quot; size=&quot;13&quot;&gt;&lt;/td&gt;\r\n\t\t\t\t&lt;/tr&gt;\r\n\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t  &lt;th&gt;비밀번호확인&lt;/th&gt;\r\n\t\t\t\t  &lt;td&gt;&lt;input name=&quot;t_password_confirm&quot; type=&quot;text&quot; size=&quot;13&quot;&gt;&lt;/td&gt;\r\n\t\t\t\t&lt;/tr&gt;\r\n\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t  &lt;th&gt;지역&lt;/th&gt;\r\n\t\t\t\t  &lt;td&gt;\r\n\t\t\t\t\t&lt;select name=&quot;t_area&quot;&gt;\r\n\t\t\t\t\t\t&lt;option value=&quot;02&quot;&gt;서울&lt;/option&gt;\r\n\t\t\t\t\t\t&lt;option value=&quot;042&quot;&gt;대전&lt;/option&gt;\r\n\t\t\t\t\t\t&lt;option value=&quot;051&quot;&gt;부산&lt;/option&gt;\r\n\t\t\t\t\t\t&lt;option value=&quot;053&quot;&gt;대구&lt;/option&gt;        \r\n\t\t\t\t\t&lt;/select&gt;\t  \r\n\t\t\t\t  &lt;/td&gt;\r\n\t\t\t\t&lt;/tr&gt;\t\r\n\t\t\t\t\r\n\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t  &lt;th&gt;주소&lt;/th&gt;\r\n\t\t\t\t  &lt;td&gt;&lt;input name=&quot;t_address&quot; type=&quot;text&quot; size=&quot;40&quot;&gt;&lt;/td&gt;\r\n\t\t\t\t&lt;/tr&gt;\r\n\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t  &lt;th&gt;연락처&lt;/th&gt;\r\n\t\t\t\t  &lt;td&gt;\r\n\t\t\t\t\t&lt;input name=&quot;t_mobile_1&quot; type=&quot;text&quot; size=&quot;3&quot;&gt; -\r\n\t\t\t\t\t&lt;input name=&quot;t_mobile_2&quot; type=&quot;text&quot; size=&quot;4&quot;&gt; -\r\n\t\t\t\t\t&lt;input name=&quot;t_mobile_3&quot; type=&quot;text&quot; size=&quot;4&quot;&gt;\r\n\t\t\t\t  &lt;/td&gt;\r\n\t\t\t\t&lt;/tr&gt;\r\n\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t  &lt;th&gt;남여구분&lt;/th&gt;\r\n\t\t\t\t  &lt;td&gt;\r\n\t\t\t\t\t  &lt;input type=&quot;radio&quot; value=&quot;f&quot; name=&quot;t_gender&quot; class=&quot;middleCheck&quot; /&gt; 여&amp;nbsp;&amp;nbsp;        \r\n\t\t\t\t\t  &lt;input type=&quot;radio&quot; value=&quot;m&quot; name=&quot;t_gender&quot; class=&quot;middleCheck&quot; /&gt; 남        \r\n\t\t\t\t  &lt;/td&gt;\r\n\t\t\t\t&lt;/tr&gt;\r\n\t\t\t\t&lt;tr&gt;\r\n\t\t\t\t  &lt;th&gt;취미&lt;/th&gt;\r\n\t\t\t\t  &lt;td&gt;\r\n\t\t\t\t\t  &lt;input type=&quot;checkbox&quot; value=&quot;y&quot; name=&quot;t_hobby_travel&quot; class=&quot;middleCheck&quot; /&gt; 여행&amp;nbsp;&amp;nbsp; \r\n\t\t\t\t\t  &lt;input type=&quot;checkbox&quot; value=&quot;y&quot; name=&quot;t_hobby_reading&quot; class=&quot;middleCheck&quot; /&gt; 독서&amp;nbsp;&amp;nbsp; \r\n\t\t\t\t\t  &lt;input type=&quot;checkbox&quot; value=&quot;y&quot; name=&quot;t_hobby_sports&quot; class=&quot;middleCheck&quot; /&gt; 운동\r\n\t\t\t\t  &lt;/td&gt;\r\n\t\t\t\t&lt;/tr&gt;\r\n\t\t\t  &lt;/tbody&gt;\r\n\t\t\t&lt;/table&gt;\r\n\t\t\t&lt;/form&gt;\r\n\t\t\t&lt;div class=&quot;buttonGroup_center&quot;&gt;\r\n\t\t\t\t&lt;a href=&quot;javascript:goJoin()&quot; class=&quot;butt&quot;&gt;JOIN&lt;/a&gt;\r\n\t\t\t&lt;/div&gt;\t\r\n\t\t&lt;/div&gt;\t\r\n\r\n\t\t&lt;div id=&quot;b_bottom&quot;&gt;\r\n\t\t&lt;%@ include file = &quot;../common_footer.jsp&quot;%&gt;\r\n\t\t&lt;/div&gt;\t\r\n\t&lt;/div&gt;\t\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n    \r\n```\r\n\r\nMemberLogin.java\r\n\r\n```\r\npackage command.member;\r\n\r\nimport java.security.NoSuchAlgorithmException;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpSession;\r\n\r\nimport common.CommonExecute;\r\nimport common.CommonUtil;\r\nimport dao.MemberDao;\r\n\r\npublic class MemberLogin implements CommonExecute {\r\n\r\n\t@Override\r\n\tpublic void execute(HttpServletRequest request) {\r\n\t\tMemberDao dao = new MemberDao();\r\n\t\tString id = request.getParameter(&quot;t_id&quot;);\r\n\t\tString pw = request.getParameter(&quot;t_pw&quot;);\r\n\t\ttry {\r\n\t\t\tpw = dao.encryptSHA256(pw);\r\n\t\t} catch (NoSuchAlgorithmException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tString name = dao.getLoginName(id, pw);\r\n\t\tString msg = &quot;&quot;, url =&quot;&quot;;\r\n\t\tif(name.equals(&quot;&quot;)) {\r\n\t\t\tmsg = &quot;This ID or password is incorrect.&quot;;\r\n\t\t\turl = &quot;Member&quot;;\r\n\t\t}else {\r\n\t\t\tmsg = name+&quot;님 환영합니다!&quot;;//&quot;welcome!&quot;+name+&quot;~!&quot;\r\n\t\t\turl = &quot;/furni/&quot;;\r\n\t\t\r\n\t\t\tString loginTime = CommonUtil.getTodayTime();\r\n\t\t\tint result = dao.setLoginTime(id, loginTime);\r\n\t\t\tif(result != 1) System.out.println(&quot;로그인 처리 최종로그인 시간 업데이트 오류&quot;);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t//정상동작확인이 되었으면 세션을 만든다.\r\n\t\t\tHttpSession session = request.getSession();//이후 세션 변수설정\r\n\t\t\tsession.setAttribute(&quot;sessionId&quot;, id);\r\n\t\t\tsession.setAttribute(&quot;sessionName&quot;, name);\r\n\t\t\tif(id.equals(&quot;manager&quot;)) {\r\n\t\t\t\tsession.setAttribute(&quot;sessionLevel&quot;, &quot;top&quot;);\r\n\t\t\t}\r\n\t\t\tsession.setMaxInactiveInterval(60*60);\r\n\t\t}\r\n\t\trequest.setAttribute(&quot;t_msg&quot;, msg);\r\n\t\trequest.setAttribute(&quot;t_url&quot;, url);\r\n\t\t\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nMemberSave.java\r\n\r\n```\r\npackage command.member;\r\n\r\nimport java.security.NoSuchAlgorithmException;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\n\r\nimport common.CommonExecute;\r\nimport common.CommonUtil;\r\nimport dao.MemberDao;\r\nimport dto.MemberDto;\r\n\r\npublic class MemberSave implements CommonExecute {\r\n\r\n\t@Override\r\n\tpublic void execute(HttpServletRequest request) {\r\n\t\tMemberDao dao = new MemberDao();\r\n\t\tString id = request.getParameter(&quot;t_id&quot;);\r\n\t\tString name = request.getParameter(&quot;t_name&quot;);\r\n\t\tString password = request.getParameter(&quot;t_password&quot;);\r\n\t\tint passwordLength = password.length();\r\n\t\ttry {\r\n\t\t\tpassword = dao.encryptSHA256(password);\r\n\t\t} catch (NoSuchAlgorithmException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tString area = request.getParameter(&quot;t_area&quot;);\r\n\t\tString address = request.getParameter(&quot;t_address&quot;);\r\n\t\tString mobile_1 = request.getParameter(&quot;t_mobile_1&quot;);\r\n\t\tString mobile_2 = request.getParameter(&quot;t_mobile_2&quot;);\r\n\t\tString mobile_3 = request.getParameter(&quot;t_mobile_3&quot;);\r\n\t\tString gender = request.getParameter(&quot;t_gender&quot;);\r\n\t\tString hobby_travel = request.getParameter(&quot;t_hobby_travel&quot;);\r\n\t\tString hobby_reading = request.getParameter(&quot;t_hobby_reading&quot;);\r\n\t\tString hobby_sports = request.getParameter(&quot;t_hobby_sports&quot;);\r\n\t\tif(hobby_travel == null) hobby_travel = &quot;n&quot;;\r\n\t\tif(hobby_reading == null) hobby_reading = &quot;n&quot;;\r\n\t\tif(hobby_sports == null) hobby_sports = &quot;n&quot;;\r\n\t\tString reg_date = CommonUtil.getTodayTime();\r\n\t\t\r\n\t\tMemberDto dto = new MemberDto(id, name, password, area, address, \r\n\t\t\t\tmobile_1, mobile_2, mobile_3, gender, hobby_travel, hobby_reading, hobby_sports,\r\n\t\t\t\treg_date, passwordLength);\r\n\t\tint result = dao.memberJoin(dto);\r\n\t\tString msg = name+&quot;님 회원가입을 축하합니다.&quot;; //join congratulation message\r\n\t\tif(result != 1) msg = &quot;회원가입 실패!&quot;; //join failure message\r\n\t\t\r\n\t\trequest.setAttribute(&quot;t_msg&quot;,msg);\r\n\t\trequest.setAttribute(&quot;t_url&quot;, &quot;/furni/&quot;);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nMemberController.java\r\n\r\n```\r\npackage co.kr.furni;\r\n\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport javax.servlet.http.HttpSession;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\nimport command.member.MemberLogin;\r\nimport command.member.MemberLogout;\r\nimport command.member.MemberMyinfo;\r\nimport command.member.MemberSave;\r\nimport common.CommonExecute;\r\nimport dao.MemberDao;\r\n\r\n@Controller\r\npublic class MemberController {\r\n\t\r\n\t\r\n\t@RequestMapping(&quot;Member&quot;)\r\n\tpublic String member(HttpServletRequest request) {\r\n\t\tString gubun = request.getParameter(&quot;t_gubun&quot;);\r\n\t\tif(gubun == null) gubun = &quot;login&quot;; //null이면 login이라고 초기화 시킨다는뜼\r\n\t\tString viewPage = &quot;&quot;;\r\n\t\t\r\n\t\tif(gubun.equals(&quot;login&quot;)) {\r\n\t\t\tviewPage=&quot;member/member_login&quot;;\r\n\t\t\t\r\n\t\t}else if(gubun.equals(&quot;join&quot;)) {\r\n\t\t\tviewPage=&quot;member/member_join&quot;;\r\n\t\t\t\r\n\t\t}else if(gubun.equals(&quot;MemberSave&quot;)) {\r\n\t\t\t\r\n\t\t\tMemberSave member = new MemberSave();\r\n\t\t\tmember.execute(request);\t\t\t\r\n\t\t\tviewPage=&quot;common_alert&quot;;\r\n\t\t\t\r\n\t\t//로그인\t\r\n\t\t}else if(gubun.equals(&quot;MemberLogin&quot;)) {\r\n\t\t\tCommonExecute member = new MemberLogin();\r\n\t\t\tmember.execute(request);\r\n\t\t\tviewPage = &quot;common_alert&quot;;\r\n\r\n\t\t//로그아웃\t\r\n\t\t}else if(gubun.equals(&quot;logout&quot;)) {\r\n\t\t\tCommonExecute member = new MemberLogout();\r\n\t\t\tmember.execute(request);\r\n\t\t\tviewPage = &quot;common_alert&quot;;\r\n\t\t\t\r\n\t\t//내정보\r\n\t\t}else if(gubun.equals(&quot;myinfo&quot;)) {\r\n\t\t\tHttpSession session = request.getSession();\r\n\t\t\tString id = (String)session.getAttribute(&quot;sessionId&quot;);\r\n\t\t\tif(id == null) {\r\n\t\t\t\t\r\n\t\t\t\trequest.setAttribute(&quot;t_msg&quot;, &quot;세션 정보가 만료되었습니다&quot;);\r\n\t\t\t\trequest.setAttribute(&quot;t_url&quot;, &quot;Member&quot;);\r\n\t\t\t\tviewPage = &quot;common_alert&quot;;\r\n\t\t\t\t\r\n\t\t\t}else {\r\n\t\t\t\t\r\n\t\t\t\tCommonExecute member = new MemberMyinfo();\r\n\t\t\t\tmember.execute(request);\r\n\t\t\t\tviewPage = &quot;member/member_myinfo&quot;;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t}\r\n\t\r\n\t\t\r\n\t\treturn viewPage;\r\n\t}\r\n\t\r\n\t@RequestMapping(&quot;MemberCheckId&quot;)\r\n\tpublic void memberCheckId(HttpServletRequest request, HttpServletResponse response) {\r\n\t\tMemberDao dao = new MemberDao();\r\n\t\t\r\n\t\tString id = request.getParameter(&quot;t_id&quot;);\r\n\t\t\r\n\t\tint count = dao.getIdCount(id);\r\n\t\t\r\n\t\t\r\n\t\tresponse.setContentType(&quot;text/html;charset=utf-8&quot;);\r\n\t\tPrintWriter out = null;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tout = response.getWriter();\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tif(count == 0) out.print(&quot;사용가능&quot;); //can do it \r\n\t\telse out.print(&quot;사용불가&quot;); //cannot do it\r\n\t\t\r\n\t\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nfile&#39;s source code\r\n\r\n[enter image description here](https://i.stack.imgur.com/Rhx75.png)\r\n\r\n[enter image description here][1]\r\n\r\n[enter image description here][2]\r\n\r\n[enter image description here][3]\r\n\r\nPeeking into the console part of STS3, replacing the Java version with a different one, shutting down and restarting the MacBook,\r\n\r\nI can&#39;t even get the problem to come up.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/otBRS.png\r\n  [2]: https://i.stack.imgur.com/CMp35.png\r\n  [3]: https://i.stack.imgur.com/gONKe.png","title":"&quot;STS3 Webpage ID Duplication Check Not Functioning for Login and Membership: Need Help!&quot;","body":"<p>I'm practicing the process of creating a webpage with STS3, but the ID duplication check function doesn't work on the webpage for login and membership.</p>\n<p>I'm creating a Spring legacy project with STS3 to practice creating web pages. In the Windows 10 environment, the login/logout is implemented properly, and the part that checks for duplicate usernames on the signup page is also implemented properly.</p>\n<p>I wanted to work on my personal M1 MacBook, so I moved the entire project to my MacBook,</p>\n<p>The problem is that the lab website works, but the login function does not work at all, and the button to check for duplicate IDs on the signup page does not work.</p>\n<p>More specific symptoms are</p>\n<p>When I enter my ID and password and try to log in, it says</p>\n<p>I get a warning that the ID and password don't match and I can't log in.</p>\n<p>If you enter a random ID and click the duplicate check button when registering, it will not work.</p>\n<p>&quot;Communication failure!&quot; is displayed.</p>\n<p>This problem did not occur at all when working with Windows.</p>\n<p>The problem is that the log record in the console window of STS3 only contains logs related to the execution of server connection.</p>\n<p>and no error messages are displayed.</p>\n<p>I have no idea what source code I need to show to resolve this issue.</p>\n<p>Which files should I modify?</p>\n<p>It works fine on Windows, but not on Mac.</p>\n<p>I have no idea if I need to modify anything or what the problem is.</p>\n<p>I don't even know how to ask in this case.</p>\n<p>The Java version is JRE 1.8.121.13 and the</p>\n<p>Tomcat server is 8.5</p>\n<p>STS3 version is 3.9.13.</p>\n<p>MacOS is the most recent version of Ventura.</p>\n<p>I honestly can't even figure out what code I should be uploading right now, so I'm starting with the entire member_login.jsp. I'm listing all the files in the project just in case, and if you need any of them to help you troubleshoot, let me know.</p>\n<p>I'll show you everything except for private information like IPs.</p>\n<p>The product, purchasing, message board, and news sections are not yet implemented as I'm still working on them.</p>\n<p><a href=\"https://i.stack.imgur.com/L6NRr.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/BHO0k.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>The Korean version of that screenshot is</p>\n<p>respectively</p>\n<p>The ID or password is not correct.(ID나 비밀번호가 맞지않습니다.</p>\n<p>Communication failure (통신실패)</p>\n<p>This means that</p>\n<p>first here is In order from top to bottom</p>\n<p>member_login.jsp</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\n    pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;%@ include file = &quot;../common_header.jsp&quot;%&gt;\n&lt;script type=&quot;text/javascript&quot;&gt;\n    function goPw(){\n        \n        mem.t_pw.focus();\n        \n    }\n    function memberLogin(){\n        mem.t_gubun.value = &quot;MemberLogin&quot;;\n        mem.method=&quot;post&quot;;\n        mem.action=&quot;Member&quot;;\n        mem.submit();\n        \n    }\n&lt;/script&gt;\n        &lt;div id=&quot;b_left&quot;&gt;\n            &lt;P&gt;MEMBER&lt;/P&gt;\n            &lt;ul&gt;\n                &lt;li&gt;&lt;a href=&quot;javascript:goPage('login')&quot;&gt;LOGIN&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=&quot;&quot;&gt;ID / PASSWORD&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=&quot;javascript:goPage('join')&quot;&gt;&lt;span class=&quot;fnt&quot;&gt;&lt;i class=&quot;fas fa-apple-alt&quot;&gt;&lt;/i&gt;&lt;/span&gt; CONTACK&lt;/a&gt;&lt;/li&gt;\n            &lt;/ul&gt;\n        &lt;/div&gt;\n\n        &lt;div id=&quot;b_right&quot;&gt;\n            &lt;p class=&quot;n_title&quot;&gt;\n                MEMBER LOGIN\n            &lt;/p&gt;\n        \n            &lt;div class=&quot;login&quot;&gt;\n                &lt;div class=&quot;member_boxL&quot;&gt;\n                    &lt;h2&gt;LOGIN&lt;/h2&gt;\n                    &lt;div class=&quot;login_form&quot;&gt;\n                        &lt;form name=&quot;mem&quot;&gt;\n                            &lt;input type=&quot;hidden&quot; name=&quot;t_gubun&quot;&gt;\n                            &lt;div class=&quot;fl_clear&quot;&gt;&lt;label for=&quot;mbrId&quot;&gt;아이디&lt;/label&gt;&lt;input name=&quot;t_id&quot; autofocus id=&quot;mbrId&quot; type=&quot;text&quot; onkeypress=&quot;if( event.keyCode==13 ){goPw()}&quot;&gt;&lt;/div&gt;\n                            &lt;div class=&quot;fl_clear&quot;&gt;&lt;label for=&quot;scrtNo&quot;&gt;비밀번호&lt;/label&gt;&lt;input name=&quot;t_pw&quot; id=&quot;scrtNo&quot; type=&quot;password&quot; onkeypress=&quot;if( event.keyCode==13 ){memberLogin()}&quot;&gt;&lt;/div&gt;\n                            &lt;a class=&quot;btn_login btn_Blue&quot; href=&quot;javascript:memberLogin()&quot;&gt;로그인&lt;/a&gt;\n                        &lt;/form&gt;\n                    &lt;/div&gt;\n                   \n                &lt;/div&gt;      \n            &lt;/div&gt;\n\n        &lt;/div&gt;  \n\n        &lt;div id=&quot;b_bottom&quot;&gt;\n        &lt;%@ include file = &quot;../common_footer.jsp&quot;%&gt;     \n        &lt;/div&gt;  \n    &lt;/div&gt;  \n&lt;/body&gt;\n&lt;/html&gt;\n    \n</code></pre>\n<p>member_join.jsp</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\n    pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;%@ include file = &quot;../common_header.jsp&quot;%&gt;\n &lt;script type=&quot;text/javascript&quot;&gt;\n    function goJoin(){\n        \n        \n        if(checkValue(mem.t_id,&quot;Enter your ID!&quot;)) return;\n    \n        \n        if(mem.yesId.value == &quot;&quot;){\n            alert(&quot;this is not a valid ID.&quot;);\n            mem.t_id.focus();\n            return;\n        }\n\n        if(checkValue(mem.t_name,&quot;Enter your name!&quot;)) return;\n\n        if(checkValue(mem.t_password,&quot;Enter your password!&quot;)) return;\n    \n        if(checkValue(mem.t_password_confirm,&quot;check password!&quot;)) return;\n\n        if(checkValue(mem.t_address, &quot;Enter your address!&quot;)) return;\n\n        if(checkValue(mem.t_mobile_1, &quot;enter your mobile number!&quot;)) return;\n\n        if(checkValue(mem.t_mobile_2, &quot;enter your mobile number!&quot;)) return;\n\n        if(checkValue(mem.t_mobile_3, &quot;enter your mobile number!&quot;)) return;\n\n        if(checkValue(mem.t_gender, &quot;select your gender!&quot;)) return;\n\n        \n\n        mem.t_gubun.value=&quot;MemberSave&quot;;\n        mem.method=&quot;post&quot;;\n        mem.action=&quot;Member&quot;;\n        mem.submit();\n        \n        \n    }\n    \n    function checkID(){\n        if(checkValue(mem.t_id,&quot;ID 입력 후 중복검사하시오!!&quot;)) return;\n        $.ajax({\n            type : &quot;POST&quot;,\n            url : &quot;MemberCheckId&quot;,\n            data: &quot;t_id=&quot;+mem.t_id.value,\n            dataType : &quot;text&quot;,\n            error : function(){\n                alert('통신실패!!!!!');\n            },\n            success : function(data){\n                alert(data);\n                if(data == &quot;사용가능&quot;){\n                    \n                    $(&quot;#idResult&quot;).text(data); //javscript에서 css적용하는 요소로 idResult가 id요소라 #사용\n                    $(&quot;#idResult&quot;).css(&quot;color&quot;,&quot;black&quot;);\n                    mem.yesId.value = mem.t_id.value;\n                    \n                }else if(data == &quot;사용불가&quot;) {\n                    $(&quot;#idResult&quot;).text(data);\n                    $(&quot;#idResult&quot;).css(&quot;color&quot;,&quot;black&quot;);\n                    mem.yesId.value = &quot;&quot;;\n                }\n                \n            }\n        });             \n    }\n \n &lt;/script&gt;\n        &lt;div id=&quot;b_left&quot;&gt;\n            &lt;P&gt;MEMBER&lt;/P&gt;\n            &lt;ul&gt;\n                &lt;li&gt;&lt;a href=&quot;javascript:goPage('login')&quot;&gt;LOGIN&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=&quot;&quot;&gt;ID / PASSWORD&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=&quot;javascript:goPage('join')&quot;&gt;&lt;span class=&quot;fnt&quot;&gt;&lt;i class=&quot;fas fa-apple-alt&quot;&gt;&lt;/i&gt;&lt;/span&gt; CONTACK&lt;/a&gt;&lt;/li&gt;\n            &lt;/ul&gt;\n        &lt;/div&gt;\n        \n        &lt;div id=&quot;b_right&quot;&gt;\n            &lt;p class=&quot;n_title&quot;&gt;\n                MEMBER JOIN\n            &lt;/p&gt;\n            &lt;form name=&quot;mem&quot;&gt;   \n            &lt;input name=&quot;t_gubun&quot;&gt;      \n            &lt;table class=&quot;boardForm&quot;&gt;\n              &lt;colgroup&gt;\n                &lt;col width=&quot;200&quot; /&gt;\n                &lt;col width=&quot;500&quot; /&gt;\n              &lt;/colgroup&gt;\n              &lt;tbody&gt;\n                &lt;tr&gt;\n                  &lt;th&gt;&lt;label for=&quot;id&quot;&gt;I D&lt;/label&gt;&lt;/th&gt;\n                  &lt;td&gt;\n                    &lt;input name=&quot;t_id&quot; type=&quot;text&quot; size=&quot;10&quot; id=&quot;id&quot; title=&quot;id입력하세요&quot;&gt;\n                    &lt;input type=&quot;button&quot; onclick=&quot;checkID()&quot; value=&quot;ID중복검사&quot; class=&quot;checkB&quot;&gt;\n                    &lt;span id=&quot;idResult&quot;&gt;&lt;/span&gt;\n                    &lt;input type=&quot;hidden&quot; name=&quot;yesId&quot;&gt;\n                  &lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                  &lt;th&gt;&lt;label for=&quot;nana&quot;&gt;성 명&lt;/label&gt;&lt;/th&gt;\n                  &lt;td&gt;&lt;input name=&quot;t_name&quot; type=&quot;text&quot; size=&quot;8&quot; id=&quot;nana&quot;&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                  &lt;th&gt;비밀번호&lt;/th&gt;\n                  &lt;td&gt;&lt;input name=&quot;t_password&quot; type=&quot;text&quot; size=&quot;13&quot;&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                  &lt;th&gt;비밀번호확인&lt;/th&gt;\n                  &lt;td&gt;&lt;input name=&quot;t_password_confirm&quot; type=&quot;text&quot; size=&quot;13&quot;&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                  &lt;th&gt;지역&lt;/th&gt;\n                  &lt;td&gt;\n                    &lt;select name=&quot;t_area&quot;&gt;\n                        &lt;option value=&quot;02&quot;&gt;서울&lt;/option&gt;\n                        &lt;option value=&quot;042&quot;&gt;대전&lt;/option&gt;\n                        &lt;option value=&quot;051&quot;&gt;부산&lt;/option&gt;\n                        &lt;option value=&quot;053&quot;&gt;대구&lt;/option&gt;        \n                    &lt;/select&gt;     \n                  &lt;/td&gt;\n                &lt;/tr&gt;   \n                \n                &lt;tr&gt;\n                  &lt;th&gt;주소&lt;/th&gt;\n                  &lt;td&gt;&lt;input name=&quot;t_address&quot; type=&quot;text&quot; size=&quot;40&quot;&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                  &lt;th&gt;연락처&lt;/th&gt;\n                  &lt;td&gt;\n                    &lt;input name=&quot;t_mobile_1&quot; type=&quot;text&quot; size=&quot;3&quot;&gt; -\n                    &lt;input name=&quot;t_mobile_2&quot; type=&quot;text&quot; size=&quot;4&quot;&gt; -\n                    &lt;input name=&quot;t_mobile_3&quot; type=&quot;text&quot; size=&quot;4&quot;&gt;\n                  &lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                  &lt;th&gt;남여구분&lt;/th&gt;\n                  &lt;td&gt;\n                      &lt;input type=&quot;radio&quot; value=&quot;f&quot; name=&quot;t_gender&quot; class=&quot;middleCheck&quot; /&gt; 여&amp;nbsp;&amp;nbsp;        \n                      &lt;input type=&quot;radio&quot; value=&quot;m&quot; name=&quot;t_gender&quot; class=&quot;middleCheck&quot; /&gt; 남        \n                  &lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                  &lt;th&gt;취미&lt;/th&gt;\n                  &lt;td&gt;\n                      &lt;input type=&quot;checkbox&quot; value=&quot;y&quot; name=&quot;t_hobby_travel&quot; class=&quot;middleCheck&quot; /&gt; 여행&amp;nbsp;&amp;nbsp; \n                      &lt;input type=&quot;checkbox&quot; value=&quot;y&quot; name=&quot;t_hobby_reading&quot; class=&quot;middleCheck&quot; /&gt; 독서&amp;nbsp;&amp;nbsp; \n                      &lt;input type=&quot;checkbox&quot; value=&quot;y&quot; name=&quot;t_hobby_sports&quot; class=&quot;middleCheck&quot; /&gt; 운동\n                  &lt;/td&gt;\n                &lt;/tr&gt;\n              &lt;/tbody&gt;\n            &lt;/table&gt;\n            &lt;/form&gt;\n            &lt;div class=&quot;buttonGroup_center&quot;&gt;\n                &lt;a href=&quot;javascript:goJoin()&quot; class=&quot;butt&quot;&gt;JOIN&lt;/a&gt;\n            &lt;/div&gt;  \n        &lt;/div&gt;  \n\n        &lt;div id=&quot;b_bottom&quot;&gt;\n        &lt;%@ include file = &quot;../common_footer.jsp&quot;%&gt;\n        &lt;/div&gt;  \n    &lt;/div&gt;  \n&lt;/body&gt;\n&lt;/html&gt;\n    \n</code></pre>\n<p>MemberLogin.java</p>\n<pre><code>package command.member;\n\nimport java.security.NoSuchAlgorithmException;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpSession;\n\nimport common.CommonExecute;\nimport common.CommonUtil;\nimport dao.MemberDao;\n\npublic class MemberLogin implements CommonExecute {\n\n    @Override\n    public void execute(HttpServletRequest request) {\n        MemberDao dao = new MemberDao();\n        String id = request.getParameter(&quot;t_id&quot;);\n        String pw = request.getParameter(&quot;t_pw&quot;);\n        try {\n            pw = dao.encryptSHA256(pw);\n        } catch (NoSuchAlgorithmException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        String name = dao.getLoginName(id, pw);\n        String msg = &quot;&quot;, url =&quot;&quot;;\n        if(name.equals(&quot;&quot;)) {\n            msg = &quot;This ID or password is incorrect.&quot;;\n            url = &quot;Member&quot;;\n        }else {\n            msg = name+&quot;님 환영합니다!&quot;;//&quot;welcome!&quot;+name+&quot;~!&quot;\n            url = &quot;/furni/&quot;;\n        \n            String loginTime = CommonUtil.getTodayTime();\n            int result = dao.setLoginTime(id, loginTime);\n            if(result != 1) System.out.println(&quot;로그인 처리 최종로그인 시간 업데이트 오류&quot;);\n            \n            \n            \n            \n            \n            //정상동작확인이 되었으면 세션을 만든다.\n            HttpSession session = request.getSession();//이후 세션 변수설정\n            session.setAttribute(&quot;sessionId&quot;, id);\n            session.setAttribute(&quot;sessionName&quot;, name);\n            if(id.equals(&quot;manager&quot;)) {\n                session.setAttribute(&quot;sessionLevel&quot;, &quot;top&quot;);\n            }\n            session.setMaxInactiveInterval(60*60);\n        }\n        request.setAttribute(&quot;t_msg&quot;, msg);\n        request.setAttribute(&quot;t_url&quot;, url);\n        \n\n    }\n\n}\n</code></pre>\n<p>MemberSave.java</p>\n<pre><code>package command.member;\n\nimport java.security.NoSuchAlgorithmException;\n\nimport javax.servlet.http.HttpServletRequest;\n\nimport common.CommonExecute;\nimport common.CommonUtil;\nimport dao.MemberDao;\nimport dto.MemberDto;\n\npublic class MemberSave implements CommonExecute {\n\n    @Override\n    public void execute(HttpServletRequest request) {\n        MemberDao dao = new MemberDao();\n        String id = request.getParameter(&quot;t_id&quot;);\n        String name = request.getParameter(&quot;t_name&quot;);\n        String password = request.getParameter(&quot;t_password&quot;);\n        int passwordLength = password.length();\n        try {\n            password = dao.encryptSHA256(password);\n        } catch (NoSuchAlgorithmException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        String area = request.getParameter(&quot;t_area&quot;);\n        String address = request.getParameter(&quot;t_address&quot;);\n        String mobile_1 = request.getParameter(&quot;t_mobile_1&quot;);\n        String mobile_2 = request.getParameter(&quot;t_mobile_2&quot;);\n        String mobile_3 = request.getParameter(&quot;t_mobile_3&quot;);\n        String gender = request.getParameter(&quot;t_gender&quot;);\n        String hobby_travel = request.getParameter(&quot;t_hobby_travel&quot;);\n        String hobby_reading = request.getParameter(&quot;t_hobby_reading&quot;);\n        String hobby_sports = request.getParameter(&quot;t_hobby_sports&quot;);\n        if(hobby_travel == null) hobby_travel = &quot;n&quot;;\n        if(hobby_reading == null) hobby_reading = &quot;n&quot;;\n        if(hobby_sports == null) hobby_sports = &quot;n&quot;;\n        String reg_date = CommonUtil.getTodayTime();\n        \n        MemberDto dto = new MemberDto(id, name, password, area, address, \n                mobile_1, mobile_2, mobile_3, gender, hobby_travel, hobby_reading, hobby_sports,\n                reg_date, passwordLength);\n        int result = dao.memberJoin(dto);\n        String msg = name+&quot;님 회원가입을 축하합니다.&quot;; //join congratulation message\n        if(result != 1) msg = &quot;회원가입 실패!&quot;; //join failure message\n        \n        request.setAttribute(&quot;t_msg&quot;,msg);\n        request.setAttribute(&quot;t_url&quot;, &quot;/furni/&quot;);\n    }\n\n}\n</code></pre>\n<p>MemberController.java</p>\n<pre><code>package co.kr.furni;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.servlet.http.HttpSession;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\nimport command.member.MemberLogin;\nimport command.member.MemberLogout;\nimport command.member.MemberMyinfo;\nimport command.member.MemberSave;\nimport common.CommonExecute;\nimport dao.MemberDao;\n\n@Controller\npublic class MemberController {\n    \n    \n    @RequestMapping(&quot;Member&quot;)\n    public String member(HttpServletRequest request) {\n        String gubun = request.getParameter(&quot;t_gubun&quot;);\n        if(gubun == null) gubun = &quot;login&quot;; //null이면 login이라고 초기화 시킨다는뜼\n        String viewPage = &quot;&quot;;\n        \n        if(gubun.equals(&quot;login&quot;)) {\n            viewPage=&quot;member/member_login&quot;;\n            \n        }else if(gubun.equals(&quot;join&quot;)) {\n            viewPage=&quot;member/member_join&quot;;\n            \n        }else if(gubun.equals(&quot;MemberSave&quot;)) {\n            \n            MemberSave member = new MemberSave();\n            member.execute(request);            \n            viewPage=&quot;common_alert&quot;;\n            \n        //로그인   \n        }else if(gubun.equals(&quot;MemberLogin&quot;)) {\n            CommonExecute member = new MemberLogin();\n            member.execute(request);\n            viewPage = &quot;common_alert&quot;;\n\n        //로그아웃  \n        }else if(gubun.equals(&quot;logout&quot;)) {\n            CommonExecute member = new MemberLogout();\n            member.execute(request);\n            viewPage = &quot;common_alert&quot;;\n            \n        //내정보\n        }else if(gubun.equals(&quot;myinfo&quot;)) {\n            HttpSession session = request.getSession();\n            String id = (String)session.getAttribute(&quot;sessionId&quot;);\n            if(id == null) {\n                \n                request.setAttribute(&quot;t_msg&quot;, &quot;세션 정보가 만료되었습니다&quot;);\n                request.setAttribute(&quot;t_url&quot;, &quot;Member&quot;);\n                viewPage = &quot;common_alert&quot;;\n                \n            }else {\n                \n                CommonExecute member = new MemberMyinfo();\n                member.execute(request);\n                viewPage = &quot;member/member_myinfo&quot;;\n                \n            }\n            \n                \n        }\n    \n        \n        return viewPage;\n    }\n    \n    @RequestMapping(&quot;MemberCheckId&quot;)\n    public void memberCheckId(HttpServletRequest request, HttpServletResponse response) {\n        MemberDao dao = new MemberDao();\n        \n        String id = request.getParameter(&quot;t_id&quot;);\n        \n        int count = dao.getIdCount(id);\n        \n        \n        response.setContentType(&quot;text/html;charset=utf-8&quot;);\n        PrintWriter out = null;\n        \n        try {\n            out = response.getWriter();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        if(count == 0) out.print(&quot;사용가능&quot;); //can do it \n        else out.print(&quot;사용불가&quot;); //cannot do it\n        \n    \n    }\n    \n}\n</code></pre>\n<p>file's source code</p>\n<p><a href=\"https://i.stack.imgur.com/Rhx75.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/otBRS.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/CMp35.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/gONKe.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Peeking into the console part of STS3, replacing the Java version with a different one, shutting down and restarting the MacBook,</p>\n<p>I can't even get the problem to come up.</p>\n"},{"tags":["java","assertj"],"comments":[{"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"score":0,"creation_date":1694621965,"post_id":77098773,"comment_id":135916374,"body_markdown":"Can you also share the exact `assertThat` method. Is it `org.assertj.core.api.FactoryBasedNavigableListAssert.assertThat` or `org.assertj.db.api.Assertions.assertThat` or another one?","body":"Can you also share the exact <code>assertThat</code> method. Is it <code>org.assertj.core.api.FactoryBasedNavigableListAssert.assertT&zwnj;&#8203;hat</code> or <code>org.assertj.db.api.Assertions.assertThat</code> or another one?"},{"owner":{"account_id":4263829,"reputation":1127,"user_id":3487441,"accept_rate":86,"display_name":"gph"},"score":0,"creation_date":1694627926,"post_id":77098773,"comment_id":135917511,"body_markdown":"@WLefever added an import statement to clarify.","body":"@WLefever added an import statement to clarify."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1694653634,"post_id":77098773,"comment_id":135920875,"body_markdown":"That the [iterable returned by `extracting` is not null](https://javadoc.io/doc/org.assertj/assertj-core/3.12.2/org/assertj/core/api/AbstractListAssert.html).","body":"That the <a href=\"https://javadoc.io/doc/org.assertj/assertj-core/3.12.2/org/assertj/core/api/AbstractListAssert.html\" rel=\"nofollow noreferrer\">iterable returned by <code>extracting</code> is not null</a>."},{"owner":{"account_id":13463440,"reputation":1896,"user_id":9714611,"display_name":"Stefano Cordio"},"score":2,"creation_date":1694677023,"post_id":77098773,"comment_id":135923202,"body_markdown":"I honestly find your question fair and I tried to make it clearer with my edit, but unfortunately I cannot vote to reopen it. The answer is 1, i.e., it checks that the iterable returned by `extracting` is not null. For the check you&#39;d like to perform, I suggest the following: `assertThat(theList).flatExtracting(&quot;fieldA&quot;, &quot;fieldB&quot;)).doesNotContainNull();`","body":"I honestly find your question fair and I tried to make it clearer with my edit, but unfortunately I cannot vote to reopen it. The answer is 1, i.e., it checks that the iterable returned by <code>extracting</code> is not null. For the check you&#39;d like to perform, I suggest the following: <code>assertThat(theList).flatExtracting(&quot;fieldA&quot;, &quot;fieldB&quot;)).doesNotContainNull();</code>"}],"answers":[{"tags":[],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694696641,"creation_date":1694680346,"answer_id":77103090,"question_id":77098773,"body_markdown":"When you use AssertJ&#39;s `extracting` method followed by `isNotNull()`, it checks if the **list of Objects itself is not null**, not each individual extracted value. \r\n\r\nGiven your example:\r\n```java\r\nassertThat(theList).extracting(&quot;fieldA&quot;, &quot;fieldB&quot;).isNotNull();\r\n```\r\n\r\nHere&#39;s what it checks:\r\n\r\n1. For every `MyObject` in `theList`, it extracts values of `fieldA` and `fieldB`.\r\n2. The values are combined into an object (for two fields, it&#39;ll be a pair).\r\n3. The `isNotNull()` method then asserts that the list of Object itself is not null.\r\n\r\n\r\n\r\nThe following code can ensure every value in every object is not null. If any null values are present, the assertion will fail:\r\n  \r\n \r\n\r\n        import static org.assertj.core.api.Assertions.assertThat;\r\n        import java.util.Arrays;\r\n        import java.util.List;\r\n    public class test {\r\n    \t static class MyObject {\r\n    \t        String fieldA;\r\n    \t        String fieldB;\r\n    \r\n    \t        public MyObject(String fieldA, String fieldB) {\r\n    \t            this.fieldA = fieldA;\r\n    \t            this.fieldB = fieldB;\r\n    \t        }\r\n    \r\n    \t        // Getter methods for fieldA and fieldB\r\n    \t        public String getFieldA() {\r\n    \t            return fieldA;\r\n    \t        }\r\n    \r\n    \t        public String getFieldB() {\r\n    \t            return fieldB;\r\n    \t        }\r\n    \t    }\r\n    \r\n    \t    public static void main(String[] args) {\r\n    \t        List&lt;MyObject&gt; theList = Arrays.asList(\r\n    \t            new MyObject(&quot;valueA1&quot;, &quot;valueB1&quot;),\r\n    \t            new MyObject(&quot;valueA2&quot;, &quot;valueB2&quot;),\r\n    \t            new MyObject(&quot;valueA3&quot;, &quot;valueB3&quot;),\r\n    \t            new MyObject(null, &quot;valueB4&quot;),  \r\n    \t            new MyObject(&quot;valueA5&quot;, null)  \r\n    \t        );\r\n    \r\n    \t        try {\r\n    \t            assertThat(theList).extracting(MyObject::getFieldA).doesNotContainNull();\r\n    \t            System.out.println(&quot;Assertion for fieldA passed.&quot;);\r\n    \t        } catch (AssertionError e) {\r\n    \t            System.out.println(&quot;Assertion for fieldA failed: &quot; + e.getMessage());\r\n    \t        }\r\n    \r\n    \t        try {\r\n    \t            assertThat(theList).extracting(MyObject::getFieldB).doesNotContainNull();\r\n    \t            System.out.println(&quot;Assertion for fieldB passed.&quot;);\r\n    \t        } catch (AssertionError e) {\r\n    \t            System.out.println(&quot;Assertion for fieldB failed: &quot; + e.getMessage());\r\n    \t        }\r\n    \t    }\r\n\t}\r\n\r\n\r\n\r\nAs you see, this way you can even determine **which element caused a failure**: fieldA or fieldB.\r\n\r\n  [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I1Koz.png\r\n","title":"How do I check that no value is null after calling extracting on a list of objects?","body":"<p>When you use AssertJ's <code>extracting</code> method followed by <code>isNotNull()</code>, it checks if the <strong>list of Objects itself is not null</strong>, not each individual extracted value.</p>\n<p>Given your example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertThat(theList).extracting(&quot;fieldA&quot;, &quot;fieldB&quot;).isNotNull();\n</code></pre>\n<p>Here's what it checks:</p>\n<ol>\n<li>For every <code>MyObject</code> in <code>theList</code>, it extracts values of <code>fieldA</code> and <code>fieldB</code>.</li>\n<li>The values are combined into an object (for two fields, it'll be a pair).</li>\n<li>The <code>isNotNull()</code> method then asserts that the list of Object itself is not null.</li>\n</ol>\n<p>The following code can ensure every value in every object is not null. If any null values are present, the assertion will fail:</p>\n<pre><code>    import static org.assertj.core.api.Assertions.assertThat;\n    import java.util.Arrays;\n    import java.util.List;\npublic class test {\n     static class MyObject {\n            String fieldA;\n            String fieldB;\n\n            public MyObject(String fieldA, String fieldB) {\n                this.fieldA = fieldA;\n                this.fieldB = fieldB;\n            }\n\n            // Getter methods for fieldA and fieldB\n            public String getFieldA() {\n                return fieldA;\n            }\n\n            public String getFieldB() {\n                return fieldB;\n            }\n        }\n\n        public static void main(String[] args) {\n            List&lt;MyObject&gt; theList = Arrays.asList(\n                new MyObject(&quot;valueA1&quot;, &quot;valueB1&quot;),\n                new MyObject(&quot;valueA2&quot;, &quot;valueB2&quot;),\n                new MyObject(&quot;valueA3&quot;, &quot;valueB3&quot;),\n                new MyObject(null, &quot;valueB4&quot;),  \n                new MyObject(&quot;valueA5&quot;, null)  \n            );\n\n            try {\n                assertThat(theList).extracting(MyObject::getFieldA).doesNotContainNull();\n                System.out.println(&quot;Assertion for fieldA passed.&quot;);\n            } catch (AssertionError e) {\n                System.out.println(&quot;Assertion for fieldA failed: &quot; + e.getMessage());\n            }\n\n            try {\n                assertThat(theList).extracting(MyObject::getFieldB).doesNotContainNull();\n                System.out.println(&quot;Assertion for fieldB passed.&quot;);\n            } catch (AssertionError e) {\n                System.out.println(&quot;Assertion for fieldB failed: &quot; + e.getMessage());\n            }\n        }\n}\n</code></pre>\n<p>As you see, this way you can even determine <strong>which element caused a failure</strong>: fieldA or fieldB.</p>\n<p><a href=\"https://i.stack.imgur.com/I1Koz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I1Koz.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":13463440,"reputation":1896,"user_id":9714611,"display_name":"Stefano Cordio"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1694694227,"creation_date":1694682826,"answer_id":77103424,"question_id":77098773,"body_markdown":"Following your example:\r\n\r\n    assertThat(theList).extracting(&quot;fieldA&quot;, &quot;fieldB&quot;).isNotNull();\r\n\r\n[`isNotNull`][1] only checks that the `Iterable` of tuples returned by [`extracting`][2] is not null.\r\n\r\n## `flatExtracting` + `doesNotContainNull`\r\n\r\nTo check that none of the extracted values are null, you can use [`flatExtracting`][3] and [`doesNotContainNull`][4]:\r\n\r\n    assertThat(theList).flatExtracting(&quot;fieldA&quot;, &quot;fieldB&quot;).doesNotContainNull();\r\n\r\nwhich yields a message like the following in case of failures:\r\n\r\n    java.lang.AssertionError: \r\n    Expecting actual:\r\n      [&quot;value1&quot;, &quot;value2&quot;, null, &quot;value4&quot;]\r\n    not to contain null elements\r\n\r\nDue to the flattened nature of the solution, there is no indication of which object caused the failure but can be identified by counting the pairs in the displayed `actual`.\r\n\r\n## `extracting` + `noneMatch`\r\n\r\nThe complexity can be increased for clearer error messages:\r\n\r\n    assertThat(theList).extracting(&quot;fieldA&quot;, &quot;fieldB&quot;).noneMatch(tuple -&gt; tuple.toList().contains(null));\r\n\r\nwhich yields in case of failure:\r\n\r\n    java.lang.AssertionError: [Extracted: fieldA, fieldB] \r\n    Expecting no elements of:\r\n      [(&quot;value1&quot;, &quot;value2&quot;), (null, &quot;value4&quot;)]\r\n    to match given predicate but this element did:\r\n      (null, &quot;value4&quot;)\r\n\r\n## `extracting` + `allSatisfy` + `doesNotContainNull`\r\n\r\nAnother option for clearer error messages:\r\n\r\n    assertThat(theList).extracting(&quot;fieldA&quot;, &quot;fieldB&quot;).allSatisfy(tuple -&gt; assertThat(tuple.toList()).doesNotContainNull());\r\n\r\nwhich yields in case of failure:\r\n\r\n    java.lang.AssertionError: [Extracted: fieldA, fieldB] \r\n    Expecting all elements of:\r\n      [(&quot;value1&quot;, &quot;value2&quot;), (null, &quot;value4&quot;)]\r\n    to satisfy given requirements, but these elements did not:\r\n    \r\n    (null, &quot;value4&quot;)\r\n    error: \r\n    Expecting actual:\r\n      [null, &quot;value4&quot;]\r\n    not to contain null elements\r\n\r\n  [1]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractAssert.html#isNotNull()\r\n  [2]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractIterableAssert.html#extracting(java.lang.String...)\r\n  [3]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractIterableAssert.html#flatExtracting(java.lang.String...)\r\n  [4]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractIterableAssert.html#doesNotContainNull()","title":"How do I check that no value is null after calling extracting on a list of objects?","body":"<p>Following your example:</p>\n<pre><code>assertThat(theList).extracting(&quot;fieldA&quot;, &quot;fieldB&quot;).isNotNull();\n</code></pre>\n<p><a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractAssert.html#isNotNull()\" rel=\"nofollow noreferrer\"><code>isNotNull</code></a> only checks that the <code>Iterable</code> of tuples returned by <a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractIterableAssert.html#extracting(java.lang.String...)\" rel=\"nofollow noreferrer\"><code>extracting</code></a> is not null.</p>\n<h2><code>flatExtracting</code> + <code>doesNotContainNull</code></h2>\n<p>To check that none of the extracted values are null, you can use <a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractIterableAssert.html#flatExtracting(java.lang.String...)\" rel=\"nofollow noreferrer\"><code>flatExtracting</code></a> and <a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractIterableAssert.html#doesNotContainNull()\" rel=\"nofollow noreferrer\"><code>doesNotContainNull</code></a>:</p>\n<pre><code>assertThat(theList).flatExtracting(&quot;fieldA&quot;, &quot;fieldB&quot;).doesNotContainNull();\n</code></pre>\n<p>which yields a message like the following in case of failures:</p>\n<pre><code>java.lang.AssertionError: \nExpecting actual:\n  [&quot;value1&quot;, &quot;value2&quot;, null, &quot;value4&quot;]\nnot to contain null elements\n</code></pre>\n<p>Due to the flattened nature of the solution, there is no indication of which object caused the failure but can be identified by counting the pairs in the displayed <code>actual</code>.</p>\n<h2><code>extracting</code> + <code>noneMatch</code></h2>\n<p>The complexity can be increased for clearer error messages:</p>\n<pre><code>assertThat(theList).extracting(&quot;fieldA&quot;, &quot;fieldB&quot;).noneMatch(tuple -&gt; tuple.toList().contains(null));\n</code></pre>\n<p>which yields in case of failure:</p>\n<pre><code>java.lang.AssertionError: [Extracted: fieldA, fieldB] \nExpecting no elements of:\n  [(&quot;value1&quot;, &quot;value2&quot;), (null, &quot;value4&quot;)]\nto match given predicate but this element did:\n  (null, &quot;value4&quot;)\n</code></pre>\n<h2><code>extracting</code> + <code>allSatisfy</code> + <code>doesNotContainNull</code></h2>\n<p>Another option for clearer error messages:</p>\n<pre><code>assertThat(theList).extracting(&quot;fieldA&quot;, &quot;fieldB&quot;).allSatisfy(tuple -&gt; assertThat(tuple.toList()).doesNotContainNull());\n</code></pre>\n<p>which yields in case of failure:</p>\n<pre><code>java.lang.AssertionError: [Extracted: fieldA, fieldB] \nExpecting all elements of:\n  [(&quot;value1&quot;, &quot;value2&quot;), (null, &quot;value4&quot;)]\nto satisfy given requirements, but these elements did not:\n\n(null, &quot;value4&quot;)\nerror: \nExpecting actual:\n  [null, &quot;value4&quot;]\nnot to contain null elements\n</code></pre>\n"}],"owner":{"account_id":4263829,"reputation":1127,"user_id":3487441,"accept_rate":86,"display_name":"gph"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":2,"up_vote_count":6,"accepted_answer_id":77103424,"answer_count":2,"score":4,"last_activity_date":1694696641,"creation_date":1694621314,"question_id":77098773,"body_markdown":"Using AssertJ in a unit test, I want to extract several properties of a custom object from a list of such objects via [`extracting`][1] and check if they are all non-null.\r\n\r\nFor example, assuming I want to extract `fieldA` and `fieldB` of `MyObject`:\r\n\r\n    import static from org.assertj.core.api.Assertions.assertThat;\r\n\r\n    List&lt;MyObject&gt; theList = ...; \r\n    assertThat(theList).extracting(&quot;fieldA&quot;, &quot;fieldB&quot;)).isNotNull();\r\n\r\nI am having trouble figuring out what is being checked.\r\n\r\nIs `isNotNull` checking that:\r\n\r\n1. the iterable returned by `extracting` is not null?\r\n2. no tuples in the list are null?\r\n3. every value in every tuple is not null?\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractIterableAssert.html#extracting(java.lang.String...)","title":"How do I check that no value is null after calling extracting on a list of objects?","body":"<p>Using AssertJ in a unit test, I want to extract several properties of a custom object from a list of such objects via <a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractIterableAssert.html#extracting(java.lang.String...)\" rel=\"nofollow noreferrer\"><code>extracting</code></a> and check if they are all non-null.</p>\n<p>For example, assuming I want to extract <code>fieldA</code> and <code>fieldB</code> of <code>MyObject</code>:</p>\n<pre><code>import static from org.assertj.core.api.Assertions.assertThat;\n\nList&lt;MyObject&gt; theList = ...; \nassertThat(theList).extracting(&quot;fieldA&quot;, &quot;fieldB&quot;)).isNotNull();\n</code></pre>\n<p>I am having trouble figuring out what is being checked.</p>\n<p>Is <code>isNotNull</code> checking that:</p>\n<ol>\n<li>the iterable returned by <code>extracting</code> is not null?</li>\n<li>no tuples in the list are null?</li>\n<li>every value in every tuple is not null?</li>\n</ol>\n"},{"tags":["java","rest","url-parameters"],"answers":[{"tags":[],"owner":{"account_id":266379,"reputation":2371,"user_id":553916,"accept_rate":83,"display_name":"Buddhika Ariyaratne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694682824,"creation_date":1694682824,"answer_id":77103423,"question_id":77103276,"body_markdown":"The issue is with the way you&#39;re trying to access the path parameters. Arrays in Java are 0-indexed, so when you split the path, you should access the values using the correct indices.\r\n\r\nI will change the following\r\n\r\n 1. pathInfo[2] to pathInfo[1] for organizationId. pathInfo[4] to\r\n 2. pathInfo[3] for locationId.\r\n\r\nCan you please try this code with alterations done to address the issue?\r\n\r\n\r\n\r\n    import java.io.IOException;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    @WebServlet(&quot;/organization/*/location/*&quot;)\r\n    public class LocationServlet extends HttpServlet {\r\n        protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n                throws ServletException, IOException {\r\n            String[] pathInfo = request.getPathInfo().split(&quot;/&quot;);\r\n            if (pathInfo.length == 4) {\r\n                String organizationId = pathInfo[1];\r\n                String locationId = pathInfo[3];\r\n                // Implement your logic here to fetch data based on organizationId and locationId\r\n                // You can return the results as JSON or any other format.\r\n                // For example:\r\n                // LocationInfo locationInfo = locationService.getLocationInfo(organizationId, locationId);\r\n                // response.getWriter().write(locationInfo.toString());\r\n                \r\n                response.getWriter().write(&quot;Organization ID: &quot; + organizationId + &quot;, Location ID: &quot; + locationId);\r\n            } else {\r\n                response.setStatus(HttpServletResponse.SC_BAD_REQUEST);\r\n                response.getWriter().write(&quot;Invalid URL&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Java API URL pattern for multiple path placeholders","body":"<p>The issue is with the way you're trying to access the path parameters. Arrays in Java are 0-indexed, so when you split the path, you should access the values using the correct indices.</p>\n<p>I will change the following</p>\n<ol>\n<li>pathInfo[2] to pathInfo[1] for organizationId. pathInfo[4] to</li>\n<li>pathInfo[3] for locationId.</li>\n</ol>\n<p>Can you please try this code with alterations done to address the issue?</p>\n<pre><code>import java.io.IOException;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n@WebServlet(&quot;/organization/*/location/*&quot;)\npublic class LocationServlet extends HttpServlet {\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        String[] pathInfo = request.getPathInfo().split(&quot;/&quot;);\n        if (pathInfo.length == 4) {\n            String organizationId = pathInfo[1];\n            String locationId = pathInfo[3];\n            // Implement your logic here to fetch data based on organizationId and locationId\n            // You can return the results as JSON or any other format.\n            // For example:\n            // LocationInfo locationInfo = locationService.getLocationInfo(organizationId, locationId);\n            // response.getWriter().write(locationInfo.toString());\n            \n            response.getWriter().write(&quot;Organization ID: &quot; + organizationId + &quot;, Location ID: &quot; + locationId);\n        } else {\n            response.setStatus(HttpServletResponse.SC_BAD_REQUEST);\n            response.getWriter().write(&quot;Invalid URL&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694696517,"creation_date":1694696517,"answer_id":77105155,"question_id":77103276,"body_markdown":"As answered by @Buddhika Ariyaratne, you need to fix the indexing value. In addition, noticed the url pattern for the servlet seems invalid.\r\n\r\nInstead of `@WebServlet(&quot;/organization/*/location/*&quot;)`, it should be `@WebServlet(&quot;/organization/*&quot;)`\r\n\r\n","title":"Java API URL pattern for multiple path placeholders","body":"<p>As answered by @Buddhika Ariyaratne, you need to fix the indexing value. In addition, noticed the url pattern for the servlet seems invalid.</p>\n<p>Instead of <code>@WebServlet(&quot;/organization/*/location/*&quot;)</code>, it should be <code>@WebServlet(&quot;/organization/*&quot;)</code></p>\n"}],"owner":{"account_id":1763748,"reputation":11,"user_id":1610132,"display_name":"user1610132"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694696517,"creation_date":1694681809,"question_id":77103276,"body_markdown":"I want to pass two placeholder values to the API, for example details on location id : 50 of the organization is 5\r\n\r\napi.xxx.com/organization/5/location/50\r\n\r\nBelow is my code and it gives a 404. But the code works if you make it for just organization.\r\n\r\nHow can I get it to work with both placeholders?\r\n\r\n\r\n\r\n\r\n```\r\nimport java.io.IOException;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\n@WebServlet(&quot;/organization/*/location/*&quot;)\r\npublic class LocationServlet extends HttpServlet {\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n        String[] pathInfo = request.getPathInfo().split(&quot;/&quot;);\r\n        if (pathInfo.length == 4) {\r\n            String organizationId = pathInfo[2];\r\n            String locationId = pathInfo[4];\r\n            // Implement your logic here to fetch data based on organizationId and locationId\r\n            // You can return the results as JSON or any other format.\r\n            // For example:\r\n            // LocationInfo locationInfo = locationService.getLocationInfo(organizationId, locationId);\r\n            // response.getWriter().write(locationInfo.toString());\r\n            \r\n            response.getWriter().write(&quot;Organization ID: &quot; + organizationId + &quot;, Location ID: &quot; + locationId);\r\n        } else {\r\n            response.setStatus(HttpServletResponse.SC_BAD_REQUEST);\r\n            response.getWriter().write(&quot;Invalid URL&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"Java API URL pattern for multiple path placeholders","body":"<p>I want to pass two placeholder values to the API, for example details on location id : 50 of the organization is 5</p>\n<p>api.xxx.com/organization/5/location/50</p>\n<p>Below is my code and it gives a 404. But the code works if you make it for just organization.</p>\n<p>How can I get it to work with both placeholders?</p>\n<pre><code>import java.io.IOException;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n@WebServlet(&quot;/organization/*/location/*&quot;)\npublic class LocationServlet extends HttpServlet {\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        String[] pathInfo = request.getPathInfo().split(&quot;/&quot;);\n        if (pathInfo.length == 4) {\n            String organizationId = pathInfo[2];\n            String locationId = pathInfo[4];\n            // Implement your logic here to fetch data based on organizationId and locationId\n            // You can return the results as JSON or any other format.\n            // For example:\n            // LocationInfo locationInfo = locationService.getLocationInfo(organizationId, locationId);\n            // response.getWriter().write(locationInfo.toString());\n            \n            response.getWriter().write(&quot;Organization ID: &quot; + organizationId + &quot;, Location ID: &quot; + locationId);\n        } else {\n            response.setStatus(HttpServletResponse.SC_BAD_REQUEST);\n            response.getWriter().write(&quot;Invalid URL&quot;);\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android","android-studio","frida"],"comments":[{"owner":{"account_id":8280075,"reputation":2054,"user_id":6225053,"accept_rate":100,"display_name":"a0x2"},"score":0,"creation_date":1584536218,"post_id":60739417,"comment_id":107465608,"body_markdown":"You can use BurpSuit for that https://portswigger.net/burp","body":"You can use BurpSuit for that <a href=\"https://portswigger.net/burp\" rel=\"nofollow noreferrer\">portswigger.net/burp</a>"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1584542873,"post_id":60739417,"comment_id":107469314,"body_markdown":"@Ben SSL pinning for an Android WebView is pretty complicated AFAIR, have you checked the [Android network Security XML config](https://developer.android.com/training/articles/security-config) if it defines the pinning. If yes you could try to modify the file and resign the app (the latter would also be necessary for injecting the Frida Gadget). Add in the Frida Gadget is described, e.g. [here](https://koz.io/using-frida-on-android-without-root/).","body":"@Ben SSL pinning for an Android WebView is pretty complicated AFAIR, have you checked the <a href=\"https://developer.android.com/training/articles/security-config\" rel=\"nofollow noreferrer\">Android network Security XML config</a> if it defines the pinning. If yes you could try to modify the file and resign the app (the latter would also be necessary for injecting the Frida Gadget). Add in the Frida Gadget is described, e.g. <a href=\"https://koz.io/using-frida-on-android-without-root/\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1584542903,"post_id":60739417,"comment_id":107469329,"body_markdown":"@a2en: Burp is useless for an unrooted device as you can&#39;t install the root CA certificate so that the apps trust burp. Additionally Ben noted that the app performs cert pinning.","body":"@a2en: Burp is useless for an unrooted device as you can&#39;t install the root CA certificate so that the apps trust burp. Additionally Ben noted that the app performs cert pinning."},{"owner":{"account_id":388345,"reputation":664,"user_id":5931191,"display_name":"Arseny Levin"},"score":0,"creation_date":1584613901,"post_id":60739417,"comment_id":107492298,"body_markdown":"Using Frida gadget means repackaging the APK file. Since you already gonna do that, you may first try something simpler: https://stackoverflow.com/a/55165555/5931191 (if that doesn&#39;t work for you - comment here and I&#39;ll help with a Frida set up)\nבהצלחה","body":"Using Frida gadget means repackaging the APK file. Since you already gonna do that, you may first try something simpler: <a href=\"https://stackoverflow.com/a/55165555/5931191\">stackoverflow.com/a/55165555/5931191</a> (if that doesn&#39;t work for you - comment here and I&#39;ll help with a Frida set up) בהצלחה"},{"owner":{"account_id":15745745,"reputation":21,"user_id":11361674,"display_name":"Ben Behor"},"score":0,"creation_date":1584961910,"post_id":60739417,"comment_id":107592624,"body_markdown":"Thanks guys, it seem like it could work however it is not my goal.\nLets try something else:\n\nLet&#39;s assume that i have an app that runs on the background of my mobile.\nI like the app to track the get requests of SSL websites when im surfing chrome.\n- no root device","body":"Thanks guys, it seem like it could work however it is not my goal. Lets try something else:  Let&#39;s assume that i have an app that runs on the background of my mobile. I like the app to track the get requests of SSL websites when im surfing chrome. - no root device"}],"answers":[{"tags":[],"owner":{"account_id":28805757,"reputation":85,"user_id":22061681,"display_name":"Howard Jack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694696440,"creation_date":1694696440,"answer_id":77105146,"question_id":60739417,"body_markdown":"I would use the SSL unpinning frida snippets from frida code share : https://codeshare.frida.re/@masbog/frida-android-unpinning-ssl/\r\n\r\n    $ frida --codeshare masbog/frida-android-unpinning-ssl -f YOUR_BINARY\r\n\r\nDivert all traffic to your host computer via adb:\r\n\r\n    adb reverse tcp:8080 tcp:8080\r\nto remove \r\n\r\n    adb forward --remove tcp:8080 || adb forward --remove-all\r\n\r\nthen install and run mitmdump/mitmweb (don&#39;t forget to install the certificate in your android device)\r\n\r\n    $ mitmweb","title":"how to use Frida-Gadget to MITM in android","body":"<p>I would use the SSL unpinning frida snippets from frida code share : <a href=\"https://codeshare.frida.re/@masbog/frida-android-unpinning-ssl/\" rel=\"nofollow noreferrer\">https://codeshare.frida.re/@masbog/frida-android-unpinning-ssl/</a></p>\n<pre><code>$ frida --codeshare masbog/frida-android-unpinning-ssl -f YOUR_BINARY\n</code></pre>\n<p>Divert all traffic to your host computer via adb:</p>\n<pre><code>adb reverse tcp:8080 tcp:8080\n</code></pre>\n<p>to remove</p>\n<pre><code>adb forward --remove tcp:8080 || adb forward --remove-all\n</code></pre>\n<p>then install and run mitmdump/mitmweb (don't forget to install the certificate in your android device)</p>\n<pre><code>$ mitmweb\n</code></pre>\n"}],"owner":{"account_id":15745745,"reputation":21,"user_id":11361674,"display_name":"Ben Behor"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694696440,"creation_date":1584533848,"question_id":60739417,"body_markdown":"Hi i like to track all the get requests of a website i browse.\r\n\r\nlets assume im using an app in that app there is a WebView that leads to a website.\r\nthe website is doing get requests.\r\nthe website has SSL pinning. \r\ni like to know what are those get requests that the website is doing.\r\n\r\nDuring a google research I found that Frida help me bypass the SSL pinning However, Frida must be used on Rooted devices. I need for not rooted devices.\r\nIt comes to my attention that Frida-Gadget can do that for me.\r\n\r\nis there any explicit guide to do so? \r\n\r\nmy goal is simple to go to a SSL website using my phone and track all the &quot;get&quot; request that the website is doing.\r\n\r\nThank you ! ","title":"how to use Frida-Gadget to MITM in android","body":"<p>Hi i like to track all the get requests of a website i browse.</p>\n\n<p>lets assume im using an app in that app there is a WebView that leads to a website.\nthe website is doing get requests.\nthe website has SSL pinning. \ni like to know what are those get requests that the website is doing.</p>\n\n<p>During a google research I found that Frida help me bypass the SSL pinning However, Frida must be used on Rooted devices. I need for not rooted devices.\nIt comes to my attention that Frida-Gadget can do that for me.</p>\n\n<p>is there any explicit guide to do so? </p>\n\n<p>my goal is simple to go to a SSL website using my phone and track all the \"get\" request that the website is doing.</p>\n\n<p>Thank you ! </p>\n"},{"tags":["java","multithreading","azure","azure-devops","dns"],"owner":{"account_id":6162914,"reputation":87,"user_id":4803870,"display_name":"Arthur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694696140,"creation_date":1694696140,"question_id":77105098,"body_markdown":"I am trying to create the private and public DNS records on Azure using Java, for which I have used the `com.microsoft.azure.management.privatedns.v2018_09_01.implementation.privatednsManager` for creating the **Private DNS** record and\r\n\r\n `com.microsoft.azure.management.dns.implementation.DnsZoneManager` for creating the **Public DNS** record.\r\n\r\nThere are **5 different threads** trying to create the records through the code.\r\n\r\nBut getting the error as:\r\n\r\n    com.microsoft.azure.CloudException: Status code 409, {\\&quot;code\\&quot;:\\&quot;Conflict\\&quot;,\\&quot;message\\&quot;:\\&quot;Another operation is pending for requested object\\&quot;}\r\n\r\nIs there anything wrong with creating the DNS records using threads?\r\nIs there ay other way we can achieve creating the DNS records using threads?\r\n","title":"Error while creating the public and private DNS using threads on Azure: com.microsoft.azure.CloudException: Status code 409","body":"<p>I am trying to create the private and public DNS records on Azure using Java, for which I have used the <code>com.microsoft.azure.management.privatedns.v2018_09_01.implementation.privatednsManager</code> for creating the <strong>Private DNS</strong> record and</p>\n<p><code>com.microsoft.azure.management.dns.implementation.DnsZoneManager</code> for creating the <strong>Public DNS</strong> record.</p>\n<p>There are <strong>5 different threads</strong> trying to create the records through the code.</p>\n<p>But getting the error as:</p>\n<pre><code>com.microsoft.azure.CloudException: Status code 409, {\\&quot;code\\&quot;:\\&quot;Conflict\\&quot;,\\&quot;message\\&quot;:\\&quot;Another operation is pending for requested object\\&quot;}\n</code></pre>\n<p>Is there anything wrong with creating the DNS records using threads?\nIs there ay other way we can achieve creating the DNS records using threads?</p>\n"},{"tags":["javascript","java","android","react-native"],"comments":[{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1694697201,"post_id":77104966,"comment_id":135927473,"body_markdown":"the only way for achieving this is to implement `AccessibilityService` and it will be working only when device is on and unlocked","body":"the only way for achieving this is to implement <code>AccessibilityService</code> and it will be working only when device is on and unlocked"}],"owner":{"account_id":25786810,"reputation":33,"user_id":19531466,"display_name":"Harsh Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694695104,"creation_date":1694695104,"question_id":77104966,"body_markdown":"I&#39;ve created a module file VolumeManager.java\r\n``` import android.content.BroadcastReceiver;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.os.Handler;\r\nimport android.os.Looper;\r\nimport android.view.KeyEvent;\r\n\r\npublic class VolumeButtonReceiver extends BroadcastReceiver {\r\n\r\n    private static final int LONG_PRESS_DURATION = 10000; // 10 seconds\r\n    private boolean volumeUpPressed = false;\r\n    private Handler handler = new Handler(Looper.getMainLooper());\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        if (Intent.ACTION_MEDIA_BUTTON.equals(intent.getAction())) {\r\n            KeyEvent event = intent.getParcelableExtra(Intent.EXTRA_KEY_EVENT);\r\n            if (event != null &amp;&amp; event.getKeyCode() == KeyEvent.KEYCODE_VOLUME_UP) {\r\n                int action = event.getAction();\r\n                if (action == KeyEvent.ACTION_DOWN) {\r\n                    volumeUpPressed = true;\r\n                    handler.postDelayed(() -&gt; {\r\n                        if (volumeUpPressed) {\r\n                            // Volume up button was held for 10 seconds\r\n                            // Perform the API call here\r\n                            performApiCall(context);\r\n                        }\r\n                        volumeUpPressed = false;\r\n                    }, LONG_PRESS_DURATION);\r\n                } else if (action == KeyEvent.ACTION_UP) {\r\n                    // Volume up button was released\r\n                    volumeUpPressed = false;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private void performApiCall(Context context) {\r\n        // Implement the logic to make an API call here\r\n        // You can use AsyncTask or any other approach to perform the API call\r\n        // Replace this with your API call logic\r\n    }\r\n}\r\n```\r\n to handle long presses of the volume button and open my Android app, even if it&#39;s not in the background. Once the app is opened, I also want to perform additional actions. Can someone review my code and help me understand if I&#39;ve made any mistakes in the implementation or if this approach is feasible? Additionally, how should I configure my AndroidManifest.xml file for this functionality\r\n```\r\n&lt;receiver\r\n    android:name=&quot;.VolumeButtonReceiver&quot;\r\n    android:enabled=&quot;true&quot;\r\n    android:exported=&quot;true&quot;&gt;\r\n    &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.MEDIA_BUTTON&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n&lt;/receiver&gt;\r\n```\r\n\r\n","title":"How to Open Android App After a 10-Second Long Press Even When the App is Not in the Background","body":"<p>I've created a module file VolumeManager.java</p>\n<pre><code>import android.content.Context;\nimport android.content.Intent;\nimport android.os.Handler;\nimport android.os.Looper;\nimport android.view.KeyEvent;\n\npublic class VolumeButtonReceiver extends BroadcastReceiver {\n\n    private static final int LONG_PRESS_DURATION = 10000; // 10 seconds\n    private boolean volumeUpPressed = false;\n    private Handler handler = new Handler(Looper.getMainLooper());\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        if (Intent.ACTION_MEDIA_BUTTON.equals(intent.getAction())) {\n            KeyEvent event = intent.getParcelableExtra(Intent.EXTRA_KEY_EVENT);\n            if (event != null &amp;&amp; event.getKeyCode() == KeyEvent.KEYCODE_VOLUME_UP) {\n                int action = event.getAction();\n                if (action == KeyEvent.ACTION_DOWN) {\n                    volumeUpPressed = true;\n                    handler.postDelayed(() -&gt; {\n                        if (volumeUpPressed) {\n                            // Volume up button was held for 10 seconds\n                            // Perform the API call here\n                            performApiCall(context);\n                        }\n                        volumeUpPressed = false;\n                    }, LONG_PRESS_DURATION);\n                } else if (action == KeyEvent.ACTION_UP) {\n                    // Volume up button was released\n                    volumeUpPressed = false;\n                }\n            }\n        }\n    }\n\n    private void performApiCall(Context context) {\n        // Implement the logic to make an API call here\n        // You can use AsyncTask or any other approach to perform the API call\n        // Replace this with your API call logic\n    }\n}\n</code></pre>\n<p>to handle long presses of the volume button and open my Android app, even if it's not in the background. Once the app is opened, I also want to perform additional actions. Can someone review my code and help me understand if I've made any mistakes in the implementation or if this approach is feasible? Additionally, how should I configure my AndroidManifest.xml file for this functionality</p>\n<pre><code>&lt;receiver\n    android:name=&quot;.VolumeButtonReceiver&quot;\n    android:enabled=&quot;true&quot;\n    android:exported=&quot;true&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MEDIA_BUTTON&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n"},{"tags":["java","powershell","batch-file","environment","payara"],"comments":[{"owner":{"account_id":9045527,"reputation":37191,"user_id":6738015,"display_name":"Compo"},"score":1,"creation_date":1694695711,"post_id":77103674,"comment_id":135927095,"body_markdown":"`echo` is a `cmd.exe` internal command. You however are using `powershell.exe`. In PowerShell to see the value of a system environment variable you&#39;d use, ```$Env:JAVA_HOME``` or ```[Environment]::GetEnvironmentVariable(&#39;JAVA_HOME&#39;)```, not ```echo %JAVA_HOME%```.","body":"<code>echo</code> is a <code>cmd.exe</code> internal command. You however are using <code>powershell.exe</code>. In PowerShell to see the value of a system environment variable you&#39;d use, <code>$Env:JAVA_HOME</code> or <code>[Environment]::GetEnvironmentVariable(&#39;JAVA_HOME&#39;)</code>, not <code>echo %JAVA_HOME%</code>."},{"owner":{"account_id":29440053,"reputation":89,"user_id":22558282,"display_name":"Dave"},"score":0,"creation_date":1694699038,"post_id":77103674,"comment_id":135927929,"body_markdown":"Thanks, yes now the result is PS C:\\Users\\Edwar\\Downloads\\payara-5.2022.5\\payara5\\bin&gt; $Env:JAVA_HOME\nC:\\Program Files\\Java\\jdk-11.0.17","body":"Thanks, yes now the result is PS C:\\Users\\Edwar\\Downloads\\payara-5.2022.5\\payara5\\bin&gt; $Env:JAVA_HOME C:\\Program Files\\Java\\jdk-11.0.17"},{"owner":{"account_id":7055267,"reputation":3170,"user_id":5402881,"display_name":"yacc"},"score":0,"creation_date":1694712018,"post_id":77103674,"comment_id":135930752,"body_markdown":"https://stackoverflow.com/questions/50055291/how-to-best-set-the-path-to-java-in-windows","body":"<a href=\"https://stackoverflow.com/questions/50055291/how-to-best-set-the-path-to-java-in-windows\" title=\"how to best set the path to java in windows\">stackoverflow.com/questions/50055291/&hellip;</a>"},{"owner":{"account_id":7055267,"reputation":3170,"user_id":5402881,"display_name":"yacc"},"score":1,"creation_date":1694712157,"post_id":77103674,"comment_id":135930766,"body_markdown":"I suggest to remove the ` C:\\Program Files\\Common Files\\Oracle\\Java\\javapath` entry from your PATH and try again. Maybe there&#39;s another installation in the way.","body":"I suggest to remove the ` C:\\Program Files\\Common Files\\Oracle\\Java\\javapath` entry from your PATH and try again. Maybe there&#39;s another installation in the way."},{"owner":{"account_id":29440053,"reputation":89,"user_id":22558282,"display_name":"Dave"},"score":0,"creation_date":1694720467,"post_id":77103674,"comment_id":135932216,"body_markdown":"done every step suggested but nothing, it remains like this. I installed a virtual machine with Win 11 to test it and everything goes smoothly there","body":"done every step suggested but nothing, it remains like this. I installed a virtual machine with Win 11 to test it and everything goes smoothly there"},{"owner":{"account_id":7055267,"reputation":3170,"user_id":5402881,"display_name":"yacc"},"score":0,"creation_date":1694816491,"post_id":77103674,"comment_id":135945940,"body_markdown":"aside from reinstalling the JDK I have no more ideas - you could trace the whole thing with Sysinternals ProcMon of course","body":"aside from reinstalling the JDK I have no more ideas - you could trace the whole thing with Sysinternals ProcMon of course"}],"owner":{"account_id":29440053,"reputation":89,"user_id":22558282,"display_name":"Dave"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694695101,"creation_date":1694684582,"question_id":77103674,"body_markdown":"I have to install and launch Payara for a project but at launch using the command .\\asadmin.bat start-domain and the result is this:\r\n\r\n&gt;Error: Could not find or load main class Files\r\nCaused by: java.lang.ClassNotFoundException: Files\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI checked the java version, and the environment variables if they were set correctly.\r\nI also checked the log files to see any errors but none were present. I checked if port 4848 was busy but it is free.\r\n\r\n[![enter image description here][2]][2] [![enter image description here][3]][3]\r\n\r\nI also checked the domain.xml file and I think the port configuration is correct.\r\nlogically I started power shell as administrator to do all this but I can&#39;t understand how to solve the problem.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ke5zD.png\r\n  [2]: https://i.stack.imgur.com/Et05v.png\r\n  [3]: https://i.stack.imgur.com/clZKF.png","title":"Installation and launch of payara not working","body":"<p>I have to install and launch Payara for a project but at launch using the command .\\asadmin.bat start-domain and the result is this:</p>\n<blockquote>\n<p>Error: Could not find or load main class Files\nCaused by: java.lang.ClassNotFoundException: Files</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/ke5zD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ke5zD.png\" alt=\"enter image description here\" /></a></p>\n<p>I checked the java version, and the environment variables if they were set correctly.\nI also checked the log files to see any errors but none were present. I checked if port 4848 was busy but it is free.</p>\n<p><a href=\"https://i.stack.imgur.com/Et05v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Et05v.png\" alt=\"enter image description here\" /></a> <a href=\"https://i.stack.imgur.com/clZKF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/clZKF.png\" alt=\"enter image description here\" /></a></p>\n<p>I also checked the domain.xml file and I think the port configuration is correct.\nlogically I started power shell as administrator to do all this but I can't understand how to solve the problem.</p>\n"},{"tags":["java","encryption","cryptojs"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":2,"creation_date":1694695851,"post_id":77104929,"comment_id":135927132,"body_markdown":"There is no contradiction. ECB is a block cipher mode, i.e. the plaintext size must be an integer multiple of the block size (16 bytes for AES). A 7 bytes plaintext does not meet the length criterion, so padding is required. Since padding is not performed on the Java side (`NoPadding`), an exception is thrown during encryption. On the JavaScript side, however, padding is applied (`ZeroPadding `), which is why encryption works.","body":"There is no contradiction. ECB is a block cipher mode, i.e. the plaintext size must be an integer multiple of the block size (16 bytes for AES). A 7 bytes plaintext does not meet the length criterion, so padding is required. Since padding is not performed on the Java side (<code>NoPadding</code>), an exception is thrown during encryption. On the JavaScript side, however, padding is applied (<code>ZeroPadding </code>), which is why encryption works."},{"owner":{"account_id":3253860,"reputation":1277,"user_id":2743486,"accept_rate":55,"display_name":"DavidDunham"},"score":0,"creation_date":1694696545,"post_id":77104929,"comment_id":135927298,"body_markdown":"Ah!!! First of, thank you very much for the tip!  ...ZeroPadding is not the same as NoPadding, I did not realize that. I found the appropriate Java equivalent &quot;ZeroBytePadding&quot; and am testing it now.","body":"Ah!!! First of, thank you very much for the tip!  ...ZeroPadding is not the same as NoPadding, I did not realize that. I found the appropriate Java equivalent &quot;ZeroBytePadding&quot; and am testing it now."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":3,"creation_date":1694696714,"post_id":77104929,"comment_id":135927347,"body_markdown":"More reliable than Zero Padding is PKCS7 Padding! Besides the padding, both codes differ regarding the key derivation. But before you tediously match the codes, you should rethink your concept. ECB is insecure, use a mode with IV (e.g. CBC) or even better authenticated encryption (e.g. GCM). If your key material is a string apply a key derivation function (at least PBKDF2) in combination with a salt. For each encryption a random IV and salt must be created.","body":"More reliable than Zero Padding is PKCS7 Padding! Besides the padding, both codes differ regarding the key derivation. But before you tediously match the codes, you should rethink your concept. ECB is insecure, use a mode with IV (e.g. CBC) or even better authenticated encryption (e.g. GCM). If your key material is a string apply a key derivation function (at least PBKDF2) in combination with a salt. For each encryption a random IV and salt must be created."},{"owner":{"account_id":3253860,"reputation":1277,"user_id":2743486,"accept_rate":55,"display_name":"DavidDunham"},"score":0,"creation_date":1694697129,"post_id":77104929,"comment_id":135927458,"body_markdown":"It seems &quot;AES/ECB/ZeroBytePadding&quot; does not exists (https://docs.oracle.com/javase/8/docs/api/javax/crypto/Cipher.html) hence I would be required to add / remove 0s for it to match a multiple of 16 bytes myself. Secondly ...unfortunately for me, this is the client requirement (AES/ECB/ZeroPadding) as is the Javascript example I have given ...I don&#39;t have the luxury to offer / create my own encryption method in this case, I do appreciate the input though.","body":"It seems &quot;AES/ECB/ZeroBytePadding&quot; does not exists (<a href=\"https://docs.oracle.com/javase/8/docs/api/javax/crypto/Cipher.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/javax/crypto/Cipher.html</a>) hence I would be required to add / remove 0s for it to match a multiple of 16 bytes myself. Secondly ...unfortunately for me, this is the client requirement (AES/ECB/ZeroPadding) as is the Javascript example I have given ...I don&#39;t have the luxury to offer / create my own encryption method in this case, I do appreciate the input though."}],"owner":{"account_id":3253860,"reputation":1277,"user_id":2743486,"accept_rate":55,"display_name":"DavidDunham"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694694853,"creation_date":1694694853,"question_id":77104929,"body_markdown":"**Question:** Using Java*script* and CryptoJS, AES-ECB-ZeroPadding, a key of 16 bytes and a string (to encrypt) of 7 bytes does not produce any errors, but in Java it **does**, why?\r\n\r\n\r\n*Question #2:* How to update the Java code so it can decrypt / encrypt from Javascript (Java is the slave, Javascript is the master I won&#39;t to copy from...)\r\n\r\n!\r\n\r\n--- *See below* #1 Java sample code producing the error\r\n--- #2 Javascript sample NOT producing the error with same key, string and encryption method\r\n\r\n\r\n\r\nJava error:\r\n\r\n    Error while encrypting: javax.crypto.IllegalBlockSizeException: Input length not multiple of 16 bytes\r\n\r\nSample script in Java:\r\n\r\n\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.security.MessageDigest;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.util.Arrays;\r\n    import java.util.Base64;\r\n    \r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    \r\n    public class AES {\r\n    \r\n      private static SecretKeySpec secretKey;\r\n      private static byte[] key;\r\n    \r\n      public static void setKey(final String myKey) {\r\n        MessageDigest sha = null;\r\n        try {\r\n          key = myKey.getBytes(&quot;UTF-8&quot;);\r\n          sha = MessageDigest.getInstance(&quot;SHA-1&quot;);\r\n          key = sha.digest(key);\r\n          key = Arrays.copyOf(key, 16);\r\n          secretKey = new SecretKeySpec(key, &quot;AES&quot;);\r\n        } catch (NoSuchAlgorithmException | UnsupportedEncodingException e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n    \r\n      public static String encrypt(final String strToEncrypt, final String secret) {\r\n        try {\r\n          setKey(secret);\r\n          Cipher cipher = Cipher.getInstance(&quot;AES/ECB/NoPadding&quot;);\r\n          cipher.init(Cipher.ENCRYPT_MODE, secretKey);\r\n          return Base64.getEncoder()\r\n            .encodeToString(cipher.doFinal(strToEncrypt.getBytes(&quot;UTF-8&quot;)));\r\n        } catch (Exception e) {\r\n          System.out.println(&quot;Error while encrypting: &quot; + e.toString());\r\n        }\r\n        return null;\r\n      }\r\n    \r\n      public static String decrypt(final String strToDecrypt, final String secret) {\r\n        try {\r\n          setKey(secret);\r\n          Cipher cipher = Cipher.getInstance(&quot;AES/ECB/NoPadding&quot;);\r\n          cipher.init(Cipher.DECRYPT_MODE, secretKey);\r\n          return new String(cipher.doFinal(Base64.getDecoder()\r\n            .decode(strToDecrypt)));\r\n        } catch (Exception e) {\r\n          System.out.println(&quot;Error while decrypting: &quot; + e.toString());\r\n        }\r\n        return null;\r\n      }\r\n    }\r\n\r\n**credit for Java script: http://www.java2s.com/example/java/security/aes-decrypt-with-cipher-mode-aesecbnopadding.html (slightly altered)*\r\n\r\n\r\nSample script in Javascript (using CryptoJS 4.1.1)\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    var stringKey = document.getElementById(&#39;key&#39;).value;\r\n    var key = CryptoJS.enc.Utf8.parse(stringKey);\r\n    document.getElementById(&#39;keylength&#39;).value = stringKey.length;\r\n\r\n    var inputText = document.getElementById(&#39;input&#39;).value;\r\n    document.getElementById(&#39;inputlength&#39;).value = inputText.length;\r\n\r\n    var encrypted = CryptoJS.AES.encrypt(inputText, key, { mode: CryptoJS.mode.ECB, padding: CryptoJS.pad.ZeroPadding }); \r\n\r\n    encrypted = encrypted.ciphertext.toString(CryptoJS.enc.Hex).toUpperCase();\r\n\r\n    document.getElementById(&#39;encrypted&#39;).value = encrypted;\r\n    document.getElementById(&#39;encryptedlength&#39;).value = encrypted.length;\r\n\r\n    var decrypted =  CryptoJS.AES.decrypt({ciphertext: CryptoJS.enc.Hex.parse(encrypted)}, key, {mode: CryptoJS.mode.ECB, padding: CryptoJS.pad.ZeroPadding });\r\n\r\n    decrypted = decrypted.toString(CryptoJS.enc.Utf8);\r\n    document.getElementById(&#39;decrypted&#39;).value = decrypted;\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    html, body { font-family: Helvetica; }\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/aes.min.js&quot;&gt;&lt;/script&gt;\r\n\r\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/enc-hex.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/md5.min.js&quot;&gt;&lt;/script&gt;\r\n\r\n\r\n\r\n    CryptoJS 4.1.1 / AES, ECB, ZeroPadding.\r\n    &lt;hr&gt;\r\n    &lt;br&gt;\r\n    string to encrypt:\r\n    &lt;input id=&quot;input&quot; value=&quot;test_12&quot;&gt;\r\n    length: \r\n    &lt;input id=&quot;inputlength&quot; value=&quot;&quot;&gt;\r\n    &lt;hr&gt;\r\n    &lt;br&gt;\r\n    key:\r\n    &lt;input id=&quot;key&quot; value=&quot;3F58157108A30139BAD539861614DAC2&quot;&gt;\r\n    length: \r\n    &lt;input id=&quot;keylength&quot; value=&quot;&quot;&gt;\r\n    &lt;hr&gt;\r\n    &lt;br&gt;\r\n    encrypted:\r\n    &lt;input id=&quot;encrypted&quot;&gt;\r\n    length: \r\n    &lt;input id=&quot;encryptedlength&quot; value=&quot;&quot;&gt;\r\n    &lt;hr&gt;\r\n    &lt;br&gt;\r\n    decrypted:\r\n    &lt;input id=&quot;decrypted&quot;&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Java AES-ECB-NoPadding not accepting string≠*16 bytes, but Javascript does, why?","body":"<p><strong>Question:</strong> Using Java<em>script</em> and CryptoJS, AES-ECB-ZeroPadding, a key of 16 bytes and a string (to encrypt) of 7 bytes does not produce any errors, but in Java it <strong>does</strong>, why?</p>\n<p><em>Question #2:</em> How to update the Java code so it can decrypt / encrypt from Javascript (Java is the slave, Javascript is the master I won't to copy from...)</p>\n<p>!</p>\n<p>--- <em>See below</em> #1 Java sample code producing the error\n--- #2 Javascript sample NOT producing the error with same key, string and encryption method</p>\n<p>Java error:</p>\n<pre><code>Error while encrypting: javax.crypto.IllegalBlockSizeException: Input length not multiple of 16 bytes\n</code></pre>\n<p>Sample script in Java:</p>\n<pre><code>import java.io.UnsupportedEncodingException;\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport java.util.Arrays;\nimport java.util.Base64;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.spec.SecretKeySpec;\n\npublic class AES {\n\n  private static SecretKeySpec secretKey;\n  private static byte[] key;\n\n  public static void setKey(final String myKey) {\n    MessageDigest sha = null;\n    try {\n      key = myKey.getBytes(&quot;UTF-8&quot;);\n      sha = MessageDigest.getInstance(&quot;SHA-1&quot;);\n      key = sha.digest(key);\n      key = Arrays.copyOf(key, 16);\n      secretKey = new SecretKeySpec(key, &quot;AES&quot;);\n    } catch (NoSuchAlgorithmException | UnsupportedEncodingException e) {\n      e.printStackTrace();\n    }\n  }\n\n  public static String encrypt(final String strToEncrypt, final String secret) {\n    try {\n      setKey(secret);\n      Cipher cipher = Cipher.getInstance(&quot;AES/ECB/NoPadding&quot;);\n      cipher.init(Cipher.ENCRYPT_MODE, secretKey);\n      return Base64.getEncoder()\n        .encodeToString(cipher.doFinal(strToEncrypt.getBytes(&quot;UTF-8&quot;)));\n    } catch (Exception e) {\n      System.out.println(&quot;Error while encrypting: &quot; + e.toString());\n    }\n    return null;\n  }\n\n  public static String decrypt(final String strToDecrypt, final String secret) {\n    try {\n      setKey(secret);\n      Cipher cipher = Cipher.getInstance(&quot;AES/ECB/NoPadding&quot;);\n      cipher.init(Cipher.DECRYPT_MODE, secretKey);\n      return new String(cipher.doFinal(Base64.getDecoder()\n        .decode(strToDecrypt)));\n    } catch (Exception e) {\n      System.out.println(&quot;Error while decrypting: &quot; + e.toString());\n    }\n    return null;\n  }\n}\n</code></pre>\n<p>*<em>credit for Java script: <a href=\"http://www.java2s.com/example/java/security/aes-decrypt-with-cipher-mode-aesecbnopadding.html\" rel=\"nofollow noreferrer\">http://www.java2s.com/example/java/security/aes-decrypt-with-cipher-mode-aesecbnopadding.html</a> (slightly altered)</em></p>\n<p>Sample script in Javascript (using CryptoJS 4.1.1)</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var stringKey = document.getElementById('key').value;\nvar key = CryptoJS.enc.Utf8.parse(stringKey);\ndocument.getElementById('keylength').value = stringKey.length;\n\nvar inputText = document.getElementById('input').value;\ndocument.getElementById('inputlength').value = inputText.length;\n\nvar encrypted = CryptoJS.AES.encrypt(inputText, key, { mode: CryptoJS.mode.ECB, padding: CryptoJS.pad.ZeroPadding }); \n\nencrypted = encrypted.ciphertext.toString(CryptoJS.enc.Hex).toUpperCase();\n\ndocument.getElementById('encrypted').value = encrypted;\ndocument.getElementById('encryptedlength').value = encrypted.length;\n\nvar decrypted =  CryptoJS.AES.decrypt({ciphertext: CryptoJS.enc.Hex.parse(encrypted)}, key, {mode: CryptoJS.mode.ECB, padding: CryptoJS.pad.ZeroPadding });\n\ndecrypted = decrypted.toString(CryptoJS.enc.Utf8);\ndocument.getElementById('decrypted').value = decrypted;</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>html, body { font-family: Helvetica; }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/aes.min.js\"&gt;&lt;/script&gt;\n\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/enc-hex.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/md5.min.js\"&gt;&lt;/script&gt;\n\n\n\nCryptoJS 4.1.1 / AES, ECB, ZeroPadding.\n&lt;hr&gt;\n&lt;br&gt;\nstring to encrypt:\n&lt;input id=\"input\" value=\"test_12\"&gt;\nlength: \n&lt;input id=\"inputlength\" value=\"\"&gt;\n&lt;hr&gt;\n&lt;br&gt;\nkey:\n&lt;input id=\"key\" value=\"3F58157108A30139BAD539861614DAC2\"&gt;\nlength: \n&lt;input id=\"keylength\" value=\"\"&gt;\n&lt;hr&gt;\n&lt;br&gt;\nencrypted:\n&lt;input id=\"encrypted\"&gt;\nlength: \n&lt;input id=\"encryptedlength\" value=\"\"&gt;\n&lt;hr&gt;\n&lt;br&gt;\ndecrypted:\n&lt;input id=\"decrypted\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","postgresql","querydsl"],"comments":[{"owner":{"account_id":27243397,"reputation":1316,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1694538147,"post_id":77091100,"comment_id":135903216,"body_markdown":"If you want to execute raw SQL, shouldn&#39;t you be using `JPASQLQuery`, rather than `JPAQuery`? JPQL is a different language than SQL, although &quot;heavily inspired by SQL&quot;.","body":"If you want to execute raw SQL, shouldn&#39;t you be using <code>JPASQLQuery</code>, rather than <code>JPAQuery</code>? JPQL is a different language than SQL, although &quot;heavily inspired by SQL&quot;."},{"owner":{"account_id":9522301,"reputation":101,"user_id":7076740,"display_name":"Se Br"},"score":0,"creation_date":1694538721,"post_id":77091100,"comment_id":135903305,"body_markdown":"@scrhartley the problem is that I&#39;ve already a lot of code in JPAQuery that work fine and I&#39;ve a trouble only with this part of code. May exist a way to write it correctly?","body":"@scrhartley the problem is that I&#39;ve already a lot of code in JPAQuery that work fine and I&#39;ve a trouble only with this part of code. May exist a way to write it correctly?"},{"owner":{"account_id":27243397,"reputation":1316,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1694543272,"post_id":77091100,"comment_id":135904159,"body_markdown":"What version of QueryDSL are you using?","body":"What version of QueryDSL are you using?"},{"owner":{"account_id":9522301,"reputation":101,"user_id":7076740,"display_name":"Se Br"},"score":0,"creation_date":1694543467,"post_id":77091100,"comment_id":135904200,"body_markdown":"@scrhartley 4.1.4","body":"@scrhartley 4.1.4"},{"owner":{"account_id":27243397,"reputation":1316,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1694543837,"post_id":77091100,"comment_id":135904268,"body_markdown":"Does this question about String literals seem relevant? https://stackoverflow.com/questions/23887678/querydsl-case-expression-with-string-value","body":"Does this question about String literals seem relevant? <a href=\"https://stackoverflow.com/questions/23887678/querydsl-case-expression-with-string-value\" title=\"querydsl case expression with string value\">stackoverflow.com/questions/23887678/&hellip;</a>"},{"owner":{"account_id":9522301,"reputation":101,"user_id":7076740,"display_name":"Se Br"},"score":0,"creation_date":1694545059,"post_id":77091100,"comment_id":135904468,"body_markdown":"@scrhartley no, you can see the last screenshot from my question (debug mode), literals looks fine. Also stacktrace have NPE, so it&#39;s a bit different","body":"@scrhartley no, you can see the last screenshot from my question (debug mode), literals looks fine. Also stacktrace have NPE, so it&#39;s a bit different"},{"owner":{"account_id":27243397,"reputation":1316,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1694548795,"post_id":77091100,"comment_id":135905113,"body_markdown":"Do you map table.languages to a String[] and it becomes an ArrayPath in the Q class?","body":"Do you map table.languages to a String[] and it becomes an ArrayPath in the Q class?"},{"owner":{"account_id":9522301,"reputation":101,"user_id":7076740,"display_name":"Se Br"},"score":0,"creation_date":1694588157,"post_id":77091100,"comment_id":135909223,"body_markdown":"table.languages is Qtable class that extends EntityPathBase&lt;Table&gt; and languages is column with type json that have only array of strings inside it (like in first screenshot)","body":"table.languages is Qtable class that extends EntityPathBase&lt;Table&gt; and languages is column with type json that have only array of strings inside it (like in first screenshot)"}],"answers":[{"tags":[],"owner":{"account_id":27243397,"reputation":1316,"user_id":20769158,"display_name":"scrhartley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694609938,"creation_date":1694550267,"answer_id":77092484,"question_id":77091100,"body_markdown":"Try switching to this type of cast ([The CAST operator in PostgreSQL](https://www.sqlservercentral.com/articles/the-cast-operator-in-postgresql)) and additionally replacing the cast to text[] with another `string_to_array`, so we have eliminated all the colons and square brackets the parser may choke on:\r\n```sql\r\narraycontains(string_to_array(replace(replace(CAST({0} AS text),&#39;[&#39;,&#39;{&#39;),&#39;]&#39;,&#39;}&#39;),&#39;,&#39;),string_to_array({1},&#39;,&#39;)) = true\r\n```","title":"Postgresql custom expression with QueryDSL","body":"<p>Try switching to this type of cast (<a href=\"https://www.sqlservercentral.com/articles/the-cast-operator-in-postgresql\" rel=\"nofollow noreferrer\">The CAST operator in PostgreSQL</a>) and additionally replacing the cast to text[] with another <code>string_to_array</code>, so we have eliminated all the colons and square brackets the parser may choke on:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>arraycontains(string_to_array(replace(replace(CAST({0} AS text),'[','{'),']','}'),','),string_to_array({1},',')) = true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9522301,"reputation":101,"user_id":7076740,"display_name":"Se Br"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694602485,"creation_date":1694602485,"answer_id":77096418,"question_id":77091100,"body_markdown":"Solved problem by:\r\n\r\n- create function in DB using liqubase script:\r\n\r\n````\r\n        &lt;createProcedure&gt;\r\n            CREATE OR REPLACE FUNCTION jsonb_array_contains(array_jsonb jsonb, string_comma character varying )\r\n            RETURNS bool\r\n            LANGUAGE plpgsql\r\n            AS $$\r\n            BEGIN\r\n                RETURN arraycontains(\r\n                        replace(\r\n                            replace(\r\n                                (array_jsonb)::text,\r\n                                &#39;[&#39;,\r\n                                &#39;{&#39;\r\n                            ),\r\n                            &#39;]&#39;,\r\n                            &#39;}&#39;\r\n                        )::text[],\r\n                        string_to_array(string_comma, &#39;,&#39;)\r\n                    );\r\n            END;\r\n            $$;\r\n        &lt;/createProcedure&gt;\r\n````\r\n\r\n- call this function in boolen template:\r\n\r\n````java\r\n             result.add(\r\n                Expressions.booleanTemplate(\r\n                    &quot;FUNCTION(&#39;jsonb_array_contains&#39;,({0}),&#39;&quot;\r\n                        + String.join(&quot;,&quot;, filter.languages)\r\n                        + &quot;&#39;) = true&quot;,\r\n                    table.languages\r\n                )\r\n            );\r\n````","title":"Postgresql custom expression with QueryDSL","body":"<p>Solved problem by:</p>\n<ul>\n<li>create function in DB using liqubase script:</li>\n</ul>\n<pre><code>        &lt;createProcedure&gt;\n            CREATE OR REPLACE FUNCTION jsonb_array_contains(array_jsonb jsonb, string_comma character varying )\n            RETURNS bool\n            LANGUAGE plpgsql\n            AS $$\n            BEGIN\n                RETURN arraycontains(\n                        replace(\n                            replace(\n                                (array_jsonb)::text,\n                                '[',\n                                '{'\n                            ),\n                            ']',\n                            '}'\n                        )::text[],\n                        string_to_array(string_comma, ',')\n                    );\n            END;\n            $$;\n        &lt;/createProcedure&gt;\n</code></pre>\n<ul>\n<li>call this function in boolen template:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>             result.add(\n                Expressions.booleanTemplate(\n                    &quot;FUNCTION('jsonb_array_contains',({0}),'&quot;\n                        + String.join(&quot;,&quot;, filter.languages)\n                        + &quot;') = true&quot;,\n                    table.languages\n                )\n            );\n</code></pre>\n"}],"owner":{"account_id":9522301,"reputation":101,"user_id":7076740,"display_name":"Se Br"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77096418,"answer_count":2,"score":0,"last_activity_date":1694694243,"creation_date":1694536590,"question_id":77091100,"body_markdown":"I have a trouble with writing custom boolean template for where clause using QueryDSL. Simply I need to use arraycontains function to know that table.languages contains values at array of strings from filter. \r\n\r\nWhy Hibernate can&#39;t execute this? The raw sql is fine. \r\n\r\nCode (variables are simplified, on screenshot it will be different):\r\n\r\n```java\r\n    final var test = new JPAQuery&lt;&gt;(this.entityManager)\r\n               .select(table)\r\n               .from(table)\r\n               .where(whereFromFilter(filter))\r\n               .fetch()\r\n    //...some code\r\n    private static Predicate[] whereFromFilter(final Filter filter) {\r\n      final var result = new ArrayList&lt;Predicate&gt;();\r\n      //...some code\r\n      result.add(\r\n                Expressions.booleanTemplate(\r\n                    &quot;arraycontains(replace(replace(({0})::text,&#39;[&#39;,&#39;{&#39;),&#39;]&#39;,&#39;}&#39;)::text[],string_to_array({1},&#39;,&#39;)) = true&quot;,\r\n                    table.languages,\r\n                    &quot;&#39;&quot; + String.join(&quot;,&quot;, filter.languages) + &quot;&#39;&quot;\r\n                )\r\n      );\r\n      //...some code\r\n      return result.toArray(Predicate[]::new);\r\n    }\r\n```\r\n\r\ntable.languages in DB it&#39;s a json object that simply array of strings (so in template I&#39;m converting it to array of strings):\r\n\r\n[![table.languages][1]][1]\r\n\r\nI also try this code in raw sql console and it works fine:\r\n\r\n    SELECT arraycontains(replace(replace((table.languages)::text,&#39;[&#39;,&#39;{&#39;),&#39;]&#39;,&#39;}&#39;)::text[],string_to_array(&#39;CONFIG,PYTHON&#39;, &#39;,&#39;)) is true\r\n    FROM table\r\n\r\n[![screenshot of sql-query result][2]][2]\r\n\r\nAnother filter (not with custom boolean template) works fine:\r\n\r\n```java\r\nresult.add(table.issueCountHigh.goe(filter.issueCountHighMin));\r\n````\r\n\r\nIn debug mode I see that code from custom filter looks similar to code from another filter (that 100% works):\r\n\r\n[![enter image description here][3]][3]\r\n\r\nSo, what HqlBaseParser can&#39;t parse? SQL functions?\r\n\r\nstacktrace:\r\n\r\n    {\r\n\t&quot;statusCode&quot;: 500,\r\n\t&quot;statusDescription&quot;: &quot;Internal Server Error&quot;,\r\n\t&quot;stacktrace&quot;: &quot;java.lang.NullPointerException\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.identPrimary(HqlBaseParser.java:4770)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.primaryExpression(HqlBaseParser.java:1090)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.atom(HqlBaseParser.java:3866)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.unaryExpression(HqlBaseParser.java:3703)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.multiplyExpression(HqlBaseParser.java:3570)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.additiveExpression(HqlBaseParser.java:3197)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.concatenation(HqlBaseParser.java:682)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.relationalExpression(HqlBaseParser.java:2959)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.equalityExpression(HqlBaseParser.java:2815)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.negatedExpression(HqlBaseParser.java:2774)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.logicalAndExpression(HqlBaseParser.java:2685)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.logicalOrExpression(HqlBaseParser.java:2645)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.expression(HqlBaseParser.java:2323)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.exprList(HqlBaseParser.java:4404)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.identPrimary(HqlBaseParser.java:4763)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.primaryExpression(HqlBaseParser.java:1090)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.atom(HqlBaseParser.java:3866)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.unaryExpression(HqlBaseParser.java:3703)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.multiplyExpression(HqlBaseParser.java:3570)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.additiveExpression(HqlBaseParser.java:3197)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.concatenation(HqlBaseParser.java:682)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.relationalExpression(HqlBaseParser.java:2959)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.equalityExpression(HqlBaseParser.java:2815)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.negatedExpression(HqlBaseParser.java:2774)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.logicalAndExpression(HqlBaseParser.java:2685)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.logicalOrExpression(HqlBaseParser.java:2645)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.expression(HqlBaseParser.java:2323)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.exprList(HqlBaseParser.java:4404)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.identPrimary(HqlBaseParser.java:4763)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.primaryExpression(HqlBaseParser.java:1090)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.atom(HqlBaseParser.java:3866)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.unaryExpression(HqlBaseParser.java:3703)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.multiplyExpression(HqlBaseParser.java:3570)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.additiveExpression(HqlBaseParser.java:3197)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.concatenation(HqlBaseParser.java:682)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.relationalExpression(HqlBaseParser.java:2959)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.equalityExpression(HqlBaseParser.java:2815)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.negatedExpression(HqlBaseParser.java:2774)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.logicalAndExpression(HqlBaseParser.java:2685)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.logicalOrExpression(HqlBaseParser.java:2645)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.expression(HqlBaseParser.java:2323)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.logicalExpression(HqlBaseParser.java:2071)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.whereClause(HqlBaseParser.java:540)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.queryRule(HqlBaseParser.java:831)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.selectStatement(HqlBaseParser.java:336)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:200)\\n\\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:294)\\n\\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:189)\\n\\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144)\\n\\tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:113)\\n\\tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:73)\\n\\tat org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162)\\n\\tat org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:604)\\n\\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:716)\\n\\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:113)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\\n\\tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)\\n\\tat com.sun.proxy.$Proxy140.createQuery(Unknown Source)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\\n\\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:315)\\n\\tat com.sun.proxy.$Proxy140.createQuery(Unknown Source)\\n\\tat com.querydsl.jpa.impl.AbstractJPAQuery.createQuery(AbstractJPAQuery.java:101)\\n\\tat com.querydsl.jpa.impl.AbstractJPAQuery.createQuery(AbstractJPAQuery.java:94)\\n\\tat com.querydsl.jpa.impl.AbstractJPAQuery.fetch(AbstractJPAQuery.java:201)\\n\\tat \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BIwyK.png\r\n  [2]: https://i.stack.imgur.com/gEbzL.png\r\n  [3]: https://i.stack.imgur.com/0fMJy.png","title":"Postgresql custom expression with QueryDSL","body":"<p>I have a trouble with writing custom boolean template for where clause using QueryDSL. Simply I need to use arraycontains function to know that table.languages contains values at array of strings from filter.</p>\n<p>Why Hibernate can't execute this? The raw sql is fine.</p>\n<p>Code (variables are simplified, on screenshot it will be different):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    final var test = new JPAQuery&lt;&gt;(this.entityManager)\n               .select(table)\n               .from(table)\n               .where(whereFromFilter(filter))\n               .fetch()\n    //...some code\n    private static Predicate[] whereFromFilter(final Filter filter) {\n      final var result = new ArrayList&lt;Predicate&gt;();\n      //...some code\n      result.add(\n                Expressions.booleanTemplate(\n                    &quot;arraycontains(replace(replace(({0})::text,'[','{'),']','}')::text[],string_to_array({1},',')) = true&quot;,\n                    table.languages,\n                    &quot;'&quot; + String.join(&quot;,&quot;, filter.languages) + &quot;'&quot;\n                )\n      );\n      //...some code\n      return result.toArray(Predicate[]::new);\n    }\n</code></pre>\n<p>table.languages in DB it's a json object that simply array of strings (so in template I'm converting it to array of strings):</p>\n<p><a href=\"https://i.stack.imgur.com/BIwyK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BIwyK.png\" alt=\"table.languages\" /></a></p>\n<p>I also try this code in raw sql console and it works fine:</p>\n<pre><code>SELECT arraycontains(replace(replace((table.languages)::text,'[','{'),']','}')::text[],string_to_array('CONFIG,PYTHON', ',')) is true\nFROM table\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/gEbzL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gEbzL.png\" alt=\"screenshot of sql-query result\" /></a></p>\n<p>Another filter (not with custom boolean template) works fine:</p>\n<pre class=\"lang-java prettyprint-override\"><code>result.add(table.issueCountHigh.goe(filter.issueCountHighMin));\n</code></pre>\n<p>In debug mode I see that code from custom filter looks similar to code from another filter (that 100% works):</p>\n<p><a href=\"https://i.stack.imgur.com/0fMJy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0fMJy.png\" alt=\"enter image description here\" /></a></p>\n<p>So, what HqlBaseParser can't parse? SQL functions?</p>\n<p>stacktrace:</p>\n<pre><code>{\n&quot;statusCode&quot;: 500,\n&quot;statusDescription&quot;: &quot;Internal Server Error&quot;,\n&quot;stacktrace&quot;: &quot;java.lang.NullPointerException\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.identPrimary(HqlBaseParser.java:4770)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.primaryExpression(HqlBaseParser.java:1090)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.atom(HqlBaseParser.java:3866)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.unaryExpression(HqlBaseParser.java:3703)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.multiplyExpression(HqlBaseParser.java:3570)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.additiveExpression(HqlBaseParser.java:3197)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.concatenation(HqlBaseParser.java:682)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.relationalExpression(HqlBaseParser.java:2959)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.equalityExpression(HqlBaseParser.java:2815)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.negatedExpression(HqlBaseParser.java:2774)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.logicalAndExpression(HqlBaseParser.java:2685)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.logicalOrExpression(HqlBaseParser.java:2645)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.expression(HqlBaseParser.java:2323)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.exprList(HqlBaseParser.java:4404)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.identPrimary(HqlBaseParser.java:4763)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.primaryExpression(HqlBaseParser.java:1090)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.atom(HqlBaseParser.java:3866)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.unaryExpression(HqlBaseParser.java:3703)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.multiplyExpression(HqlBaseParser.java:3570)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.additiveExpression(HqlBaseParser.java:3197)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.concatenation(HqlBaseParser.java:682)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.relationalExpression(HqlBaseParser.java:2959)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.equalityExpression(HqlBaseParser.java:2815)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.negatedExpression(HqlBaseParser.java:2774)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.logicalAndExpression(HqlBaseParser.java:2685)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.logicalOrExpression(HqlBaseParser.java:2645)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.expression(HqlBaseParser.java:2323)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.exprList(HqlBaseParser.java:4404)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.identPrimary(HqlBaseParser.java:4763)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.primaryExpression(HqlBaseParser.java:1090)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.atom(HqlBaseParser.java:3866)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.unaryExpression(HqlBaseParser.java:3703)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.multiplyExpression(HqlBaseParser.java:3570)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.additiveExpression(HqlBaseParser.java:3197)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.concatenation(HqlBaseParser.java:682)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.relationalExpression(HqlBaseParser.java:2959)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.equalityExpression(HqlBaseParser.java:2815)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.negatedExpression(HqlBaseParser.java:2774)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.logicalAndExpression(HqlBaseParser.java:2685)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.logicalOrExpression(HqlBaseParser.java:2645)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.expression(HqlBaseParser.java:2323)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.logicalExpression(HqlBaseParser.java:2071)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.whereClause(HqlBaseParser.java:540)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.queryRule(HqlBaseParser.java:831)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.selectStatement(HqlBaseParser.java:336)\\n\\tat org.hibernate.hql.internal.antlr.HqlBaseParser.statement(HqlBaseParser.java:200)\\n\\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.parse(QueryTranslatorImpl.java:294)\\n\\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:189)\\n\\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144)\\n\\tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:113)\\n\\tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:73)\\n\\tat org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162)\\n\\tat org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:604)\\n\\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:716)\\n\\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:113)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\\n\\tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)\\n\\tat com.sun.proxy.$Proxy140.createQuery(Unknown Source)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\\n\\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:315)\\n\\tat com.sun.proxy.$Proxy140.createQuery(Unknown Source)\\n\\tat com.querydsl.jpa.impl.AbstractJPAQuery.createQuery(AbstractJPAQuery.java:101)\\n\\tat com.querydsl.jpa.impl.AbstractJPAQuery.createQuery(AbstractJPAQuery.java:94)\\n\\tat com.querydsl.jpa.impl.AbstractJPAQuery.fetch(AbstractJPAQuery.java:201)\\n\\tat \n</code></pre>\n"},{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1694686442,"post_id":77103917,"comment_id":135925123,"body_markdown":"Sounds more like a design problem if one method handles so many different specific paths.","body":"Sounds more like a design problem if one method handles so many different specific paths."},{"owner":{"account_id":10598022,"reputation":66,"user_id":14634910,"display_name":"alexxarisis"},"score":0,"creation_date":1694686876,"post_id":77103917,"comment_id":135925205,"body_markdown":"https://www.baeldung.com/spring-requestmapping-properties-file\nDoes this help?","body":"<a href=\"https://www.baeldung.com/spring-requestmapping-properties-file\" rel=\"nofollow noreferrer\">baeldung.com/spring-requestmapping-properties-file</a> Does this help?"},{"owner":{"account_id":6747606,"reputation":87,"user_id":5198733,"display_name":"ceepan"},"score":0,"creation_date":1694687294,"post_id":77103917,"comment_id":135925288,"body_markdown":"That article only shows dealing with a single path not an array of paths so doesn&#39;t assist.","body":"That article only shows dealing with a single path not an array of paths so doesn&#39;t assist."},{"owner":{"account_id":6747606,"reputation":87,"user_id":5198733,"display_name":"ceepan"},"score":0,"creation_date":1694687510,"post_id":77103917,"comment_id":135925334,"body_markdown":"The design is fine for what I am trying to do.","body":"The design is fine for what I am trying to do."}],"answers":[{"tags":[],"owner":{"account_id":24045358,"reputation":42,"user_id":18024421,"display_name":"Vasiliy Volk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694693687,"creation_date":1694688526,"answer_id":77104173,"question_id":77103917,"body_markdown":"You can get part of the path as a parameter - @PathVariable(&quot;id&quot;) String id.\r\nAnd in the code, check if &quot;id&quot; matches the set in &quot;request.mapping&quot;\r\n\r\n    @RequestMapping(&quot;/{id1}&quot;)\r\n    public ResponseEntity&lt;String&gt; proxyWithBody1(@RequestBody String payload, @PathVariable(&quot;id1&quot;) String id1, HttpServletRequest request)\r\n    {\r\n        // check id\r\n        return proxy(request, payload);\r\n    }\r\n\r\n    @RequestMapping(&quot;/{id1}/{id2}&quot;)\r\n    public ResponseEntity&lt;String&gt; proxyWithBody2(@RequestBody String payload, @PathVariable(&quot;id1&quot;) String id1, @PathVariable(&quot;id2&quot;), String id2, HttpServletRequest request)\r\n    {\r\n        // check id\r\n        return proxy(request, payload);\r\n    }\r\n    \r\n    // &quot;/{id1}/{id2}/...&quot;\r\n\r\nThen:\r\n\r\n    @RequestMapping(&quot;/**&quot;)\r\n    public ResponseEntity&lt;String&gt; proxyWithBody(@RequestBody String payload, HttpServletRequest request)\r\n    {\r\n        String id[] = request.getRequestURI().split(&quot;/+&quot;);\r\n        // check id\r\n        return proxy(request, payload);\r\n    }\r\n\r\n","title":"Is it possible to set the value of RequestMapping as a string array defined in a properties file","body":"<p>You can get part of the path as a parameter - @PathVariable(&quot;id&quot;) String id.\nAnd in the code, check if &quot;id&quot; matches the set in &quot;request.mapping&quot;</p>\n<pre><code>@RequestMapping(&quot;/{id1}&quot;)\npublic ResponseEntity&lt;String&gt; proxyWithBody1(@RequestBody String payload, @PathVariable(&quot;id1&quot;) String id1, HttpServletRequest request)\n{\n    // check id\n    return proxy(request, payload);\n}\n\n@RequestMapping(&quot;/{id1}/{id2}&quot;)\npublic ResponseEntity&lt;String&gt; proxyWithBody2(@RequestBody String payload, @PathVariable(&quot;id1&quot;) String id1, @PathVariable(&quot;id2&quot;), String id2, HttpServletRequest request)\n{\n    // check id\n    return proxy(request, payload);\n}\n\n// &quot;/{id1}/{id2}/...&quot;\n</code></pre>\n<p>Then:</p>\n<pre><code>@RequestMapping(&quot;/**&quot;)\npublic ResponseEntity&lt;String&gt; proxyWithBody(@RequestBody String payload, HttpServletRequest request)\n{\n    String id[] = request.getRequestURI().split(&quot;/+&quot;);\n    // check id\n    return proxy(request, payload);\n}\n</code></pre>\n"}],"owner":{"account_id":6747606,"reputation":87,"user_id":5198733,"display_name":"ceepan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694693687,"creation_date":1694686365,"question_id":77103917,"body_markdown":"I am trying to set a RequestMapping in a RestController to be for a number of patterns, e.g.\r\n\r\n    @RequestMapping(value = {&quot;/value1/**&quot;, &quot;/value2&quot;, &quot;/value3&quot;, &quot;/value4&quot;, &quot;/value5&quot;})\r\n    public ResponseEntity&lt;String&gt; processWithBody(@RequestBody String payload, HttpServletRequest request)\r\n    {\r\n        return process(request, payload);\r\n    }\r\n\r\nThat works perfectly, but I would like to have the list of patterns taken from a property in a properties file.\r\n\r\nI tried defining a property like so\r\n\r\n    request.mapping=/value1/**, /value2, /value3, /value4, /value5\r\n\r\nand then updating the code to reference it\r\n\r\n    @RequestMapping(value = { Constants.REQUEST_MAPPING })\r\n    public ResponseEntity&lt;String&gt; proxyWithBody(@RequestBody String payload, HttpServletRequest request)\r\n    {\r\n        return proxy(request, payload);\r\n    }\r\n\r\nHowever it no longer cause my method to be called.  I have tried various versions of the definition but nothing works.  Is this possible?\r\n\r\nThanks,\r\nPaul\r\n","title":"Is it possible to set the value of RequestMapping as a string array defined in a properties file","body":"<p>I am trying to set a RequestMapping in a RestController to be for a number of patterns, e.g.</p>\n<pre><code>@RequestMapping(value = {&quot;/value1/**&quot;, &quot;/value2&quot;, &quot;/value3&quot;, &quot;/value4&quot;, &quot;/value5&quot;})\npublic ResponseEntity&lt;String&gt; processWithBody(@RequestBody String payload, HttpServletRequest request)\n{\n    return process(request, payload);\n}\n</code></pre>\n<p>That works perfectly, but I would like to have the list of patterns taken from a property in a properties file.</p>\n<p>I tried defining a property like so</p>\n<pre><code>request.mapping=/value1/**, /value2, /value3, /value4, /value5\n</code></pre>\n<p>and then updating the code to reference it</p>\n<pre><code>@RequestMapping(value = { Constants.REQUEST_MAPPING })\npublic ResponseEntity&lt;String&gt; proxyWithBody(@RequestBody String payload, HttpServletRequest request)\n{\n    return proxy(request, payload);\n}\n</code></pre>\n<p>However it no longer cause my method to be called.  I have tried various versions of the definition but nothing works.  Is this possible?</p>\n<p>Thanks,\nPaul</p>\n"},{"tags":["java","string","substring"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1611017258,"post_id":65783973,"comment_id":116310242,"body_markdown":"Try a few more test cases of your own. Have you tested that the case mentioned in their note works?","body":"Try a few more test cases of your own. Have you tested that the case mentioned in their note works?"},{"owner":{"account_id":6250572,"reputation":736,"user_id":4860775,"display_name":"ASharma7"},"score":0,"creation_date":1611017373,"post_id":65783973,"comment_id":116310261,"body_markdown":"Yes both of the testcases were working fine. Checked on my machine as well. i have also mentioned that in question that base testcases were getting passed.","body":"Yes both of the testcases were working fine. Checked on my machine as well. i have also mentioned that in question that base testcases were getting passed."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1611017903,"post_id":65783973,"comment_id":116310384,"body_markdown":"Try to imagine some things which the hidden tests cases might check, e.g. the requirement which is specifically pointed out in the note, and try your code with them.","body":"Try to imagine some things which the hidden tests cases might check, e.g. the requirement which is specifically pointed out in the note, and try your code with them."},{"owner":{"account_id":20454713,"reputation":401,"user_id":15008654,"display_name":"Monitoria"},"score":1,"creation_date":1611018292,"post_id":65783973,"comment_id":116310457,"body_markdown":"Think how actual letter will look like. Maybe there are some other symbols you need to handle. Like comma and dot. What about other special characters? Numbers? Tabs? New lines?","body":"Think how actual letter will look like. Maybe there are some other symbols you need to handle. Like comma and dot. What about other special characters? Numbers? Tabs? New lines?"},{"owner":{"account_id":6250572,"reputation":736,"user_id":4860775,"display_name":"ASharma7"},"score":0,"creation_date":1611019426,"post_id":65783973,"comment_id":116310717,"body_markdown":"@Monitoria yes that night be the case, i should have removed the original string containing special characters","body":"@Monitoria yes that night be the case, i should have removed the original string containing special characters"}],"answers":[{"tags":[],"owner":{"account_id":16699379,"reputation":11,"user_id":12069565,"display_name":"Abhishek koushal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613550337,"creation_date":1613550337,"answer_id":66238195,"question_id":65783973,"body_markdown":"This is the solutionin Python 3\r\n\r\n\r\n    def rotatedWords(cls, input1,input2):\r\n    \trotateString = input1.split(&#39; &#39;)\r\n    \tcount = 0\r\n    \tfor i in range(1,input2+1):\r\n    \t\tfor j in range(len(rotateString)):\r\n    \t\t\trotateString[j]= rotateString[j][1:]+rotateString[j][0]\r\n    \t\t\r\n    \tactualWrod = input1.split(&#39; &#39;)\r\n    \r\n    \tfor i in range(len(rotateString)):\r\n    \t\tfor j in range(len(actualWrod)):\r\n    \t\t\tif rotateString[i]==actualWrod[j]:\r\n    \t\t\t\tcount+=1\r\n    \treturn count\r\n    \r\n    print(rotatedWords(1,&quot;adaada&quot;,3))\r\n    print(rotatedWords(1,&quot;llohe ereth&quot;,2))\r\n","title":"Love letter String rotation company test programming question base testcase passed, hidden testcase failing","body":"<p>This is the solutionin Python 3</p>\n<pre><code>def rotatedWords(cls, input1,input2):\n    rotateString = input1.split(' ')\n    count = 0\n    for i in range(1,input2+1):\n        for j in range(len(rotateString)):\n            rotateString[j]= rotateString[j][1:]+rotateString[j][0]\n        \n    actualWrod = input1.split(' ')\n\n    for i in range(len(rotateString)):\n        for j in range(len(actualWrod)):\n            if rotateString[i]==actualWrod[j]:\n                count+=1\n    return count\n\nprint(rotatedWords(1,&quot;adaada&quot;,3))\nprint(rotatedWords(1,&quot;llohe ereth&quot;,2))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20743868,"reputation":1,"user_id":15232857,"display_name":"TOSH JAISWAL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613634026,"creation_date":1613629034,"answer_id":66254604,"question_id":65783973,"body_markdown":"\r\n\r\n    #include&lt;bits/stdc++.h&gt;\r\n    using namespace std;\r\n     \r\n    // In-place rotates s towards left by d\r\n    void leftrotate(string &amp;s, int d)\r\n    {\r\n        reverse(s.begin(), s.begin()+d);\r\n        reverse(s.begin()+d, s.end());\r\n        reverse(s.begin(), s.end());\r\n    }\r\n     \r\n    // In-place rotates s towards right by d\r\n    int rightrotate(string &amp;s, int d)\r\n    {  \r\n      string s1=&quot;&quot;;\r\n      int i=0,flag=0;\r\n      vector&lt;string&gt;str;\r\n      while(s[i]!=&#39;\\0&#39;){\r\n        if(s[i] != &#39; &#39;){\r\n          s1 = s1+s[i];\r\n          i++;\r\n        }\r\n        else{\r\n          if(s1 != &quot;&quot;){ //checking for extra space\r\n            str.push_back(s1);\r\n            s1 = &quot;&quot;;\r\n            i++;\r\n          }\r\n          else\r\n            i++;\r\n        }\r\n      }\r\n      str.push_back(s1);\r\n      vector&lt;string&gt;str2;\r\n      for(int i=0;i&lt;str.size();i++){\r\n        str2.push_back(str[i]);\r\n      }\r\n      for(int i=0;i&lt;str.size();i++){\r\n        leftrotate(str[i], str[i].length()-d);\r\n      }\r\n      for(int i=0;i&lt;str.size();i++){\r\n        if(str[i] == str2[i]){\r\n          flag++;\r\n        }\r\n      }\r\n      return flag;\r\n    }\r\n     \r\n    int main()\r\n    {\r\n     \r\n        string str1;\r\n        getline(cin, str1);\r\n        int k;\r\n        cin&gt;&gt;k;\r\n        cout&lt;&lt;rightrotate(str1, k);\r\n        return 0;\r\n    }","title":"Love letter String rotation company test programming question base testcase passed, hidden testcase failing","body":"<pre><code>#include&lt;bits/stdc++.h&gt;\nusing namespace std;\n \n// In-place rotates s towards left by d\nvoid leftrotate(string &amp;s, int d)\n{\n    reverse(s.begin(), s.begin()+d);\n    reverse(s.begin()+d, s.end());\n    reverse(s.begin(), s.end());\n}\n \n// In-place rotates s towards right by d\nint rightrotate(string &amp;s, int d)\n{  \n  string s1=&quot;&quot;;\n  int i=0,flag=0;\n  vector&lt;string&gt;str;\n  while(s[i]!='\\0'){\n    if(s[i] != ' '){\n      s1 = s1+s[i];\n      i++;\n    }\n    else{\n      if(s1 != &quot;&quot;){ //checking for extra space\n        str.push_back(s1);\n        s1 = &quot;&quot;;\n        i++;\n      }\n      else\n        i++;\n    }\n  }\n  str.push_back(s1);\n  vector&lt;string&gt;str2;\n  for(int i=0;i&lt;str.size();i++){\n    str2.push_back(str[i]);\n  }\n  for(int i=0;i&lt;str.size();i++){\n    leftrotate(str[i], str[i].length()-d);\n  }\n  for(int i=0;i&lt;str.size();i++){\n    if(str[i] == str2[i]){\n      flag++;\n    }\n  }\n  return flag;\n}\n \nint main()\n{\n \n    string str1;\n    getline(cin, str1);\n    int k;\n    cin&gt;&gt;k;\n    cout&lt;&lt;rightrotate(str1, k);\n    return 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20745770,"reputation":1,"user_id":15234407,"display_name":"Vishakha Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613765389,"creation_date":1613765389,"answer_id":66284369,"question_id":65783973,"body_markdown":"     def check(_str):\r\n        length = len(_str)\r\n        for i in range(length):\r\n            if (_str[i]!=_str[(input2+i)%length]):\r\n                return 0\r\n        return 1\r\n    words = input1.split()\r\n    ans = list(map(check,words))\r\n    print(sum(ans))\r\n\r\n\r\n\r\n[code in Python][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/o5BLO.png","title":"Love letter String rotation company test programming question base testcase passed, hidden testcase failing","body":"<pre><code> def check(_str):\n    length = len(_str)\n    for i in range(length):\n        if (_str[i]!=_str[(input2+i)%length]):\n            return 0\n    return 1\nwords = input1.split()\nans = list(map(check,words))\nprint(sum(ans))\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/o5BLO.png\" rel=\"nofollow noreferrer\">code in Python</a></p>\n"},{"tags":[],"owner":{"account_id":13190840,"reputation":1,"user_id":9527163,"display_name":"Arvind Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617971468,"creation_date":1617967948,"answer_id":67020343,"question_id":65783973,"body_markdown":"    package fun;\r\n    \r\n    public class Test1 {\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println(rotatedWords(&quot;llohe ereth&quot;, 2));\r\n            System.out.println(rotatedWords(&quot;adaada&quot;, 3));\r\n        }\r\n    \r\n        public static int rotatedWords(String input1, int input2) {\r\n            int count = 0;\r\n            String arr[] = input1.split(&quot; &quot;);\r\n            if (input1 != null &amp;&amp; !input1.isEmpty()) {\r\n                for (int i = 0; i &lt; arr.length; i++) {\r\n                    System.out.println(&quot;Orginal Word :&quot; + arr[i]);\r\n                    int start = arr[i].length() - input2;\r\n                    String s1 = arr[i].substring(start);\r\n                    System.out.println(&quot;s1 : &quot; + s1);\r\n                    String s2 = arr[i].substring(0, start);\r\n                    System.out.println(&quot;s2 : &quot; + s2);\r\n                    System.out.println(&quot;New Word : &quot; + s1 + s2);\r\n                    if ((s1 + s2).equals(arr[i])) {\r\n                        count++;\r\n                    }\r\n                }\r\n            }\r\n            return count;\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Love letter String rotation company test programming question base testcase passed, hidden testcase failing","body":"<pre><code>package fun;\n\npublic class Test1 {\n\n    public static void main(String[] args) {\n        System.out.println(rotatedWords(&quot;llohe ereth&quot;, 2));\n        System.out.println(rotatedWords(&quot;adaada&quot;, 3));\n    }\n\n    public static int rotatedWords(String input1, int input2) {\n        int count = 0;\n        String arr[] = input1.split(&quot; &quot;);\n        if (input1 != null &amp;&amp; !input1.isEmpty()) {\n            for (int i = 0; i &lt; arr.length; i++) {\n                System.out.println(&quot;Orginal Word :&quot; + arr[i]);\n                int start = arr[i].length() - input2;\n                String s1 = arr[i].substring(start);\n                System.out.println(&quot;s1 : &quot; + s1);\n                String s2 = arr[i].substring(0, start);\n                System.out.println(&quot;s2 : &quot; + s2);\n                System.out.println(&quot;New Word : &quot; + s1 + s2);\n                if ((s1 + s2).equals(arr[i])) {\n                    count++;\n                }\n            }\n        }\n        return count;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21057679,"reputation":1,"user_id":15476668,"display_name":"Vaishali Grover"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1619586293,"creation_date":1618444824,"answer_id":67100524,"question_id":65783973,"body_markdown":"  ********************************Java solution*********************************\r\n   \r\n\r\n     import java.util.Scanner;\r\n        public class Main\r\n        {\r\n         //rotate every word of the given string by the given rotation value\r\n          public static String rotate_string (String str, int d) \r\n          {\r\n            String ans = str.substring (d) + str.substring (0, d);\r\n              return ans;\r\n          }\r\n          public static void rotated (String str, int rotated)\r\n          {\r\n            String[]wordsarr = str.split (&quot;\\\\s&quot;); // convert string to an array of strings.\r\n            String rotatedarr[] = new String[wordsarr.length]; // to store the rotated array.\r\n            for (int i = 0; i &lt; wordsarr.length; i++)\r\n              {\r\n        \trotatedarr[i] = rotate_string(wordsarr[i], wordsarr[i].length () - rotated);\r\n              }\r\n            int count = 0;\r\n            for (int i = 0; i &lt; wordsarr.length; i++)\r\n              {\r\n        \tif (wordsarr[i].equals (rotatedarr[i]))\r\n        \t  {\r\n        \t    count++;\r\n        \t  }\r\n              }\r\n            System.out.println (count);\r\n          }\r\n\r\n          public static void main (String[]args)\r\n          {\r\n            Scanner s= new Scanner(System.in);\r\n            String str= s.nextLine(); //input string\r\n            int rotate_by= s.nextInt(); \r\n            rotated(str,rotate_by);\r\n          }\r\n        }\r\n\r\n","title":"Love letter String rotation company test programming question base testcase passed, hidden testcase failing","body":"<p><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>Java solution</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong>*</p>\n<pre><code> import java.util.Scanner;\n    public class Main\n    {\n     //rotate every word of the given string by the given rotation value\n      public static String rotate_string (String str, int d) \n      {\n        String ans = str.substring (d) + str.substring (0, d);\n          return ans;\n      }\n      public static void rotated (String str, int rotated)\n      {\n        String[]wordsarr = str.split (&quot;\\\\s&quot;); // convert string to an array of strings.\n        String rotatedarr[] = new String[wordsarr.length]; // to store the rotated array.\n        for (int i = 0; i &lt; wordsarr.length; i++)\n          {\n        rotatedarr[i] = rotate_string(wordsarr[i], wordsarr[i].length () - rotated);\n          }\n        int count = 0;\n        for (int i = 0; i &lt; wordsarr.length; i++)\n          {\n        if (wordsarr[i].equals (rotatedarr[i]))\n          {\n            count++;\n          }\n          }\n        System.out.println (count);\n      }\n\n      public static void main (String[]args)\n      {\n        Scanner s= new Scanner(System.in);\n        String str= s.nextLine(); //input string\n        int rotate_by= s.nextInt(); \n        rotated(str,rotate_by);\n      }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4418059,"reputation":69,"user_id":3599005,"display_name":"user3599005"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620240229,"creation_date":1620239884,"answer_id":67406994,"question_id":65783973,"body_markdown":"    $str = &quot;Hello Friend&quot;;\r\n    $kTime = 5;\r\n    $arr = explode (&#39; &#39;,$str);\r\n    $sizeOfArr = count($arr);\r\n    $char = array();\r\n    $count = 0;\r\n    foreach($arr as $k=&gt;$v)\r\n    {\r\n      $ln = $kTime%strlen($v);\r\n      $char = substr($v,$ln).substr($v,0,$ln);\r\n      if($v == $char)\r\n        {\r\n          $count++;\r\n        }\r\n    }\r\n    echo &#39;Number of Original word after rotation found : &#39;.$count;","title":"Love letter String rotation company test programming question base testcase passed, hidden testcase failing","body":"<pre><code>$str = &quot;Hello Friend&quot;;\n$kTime = 5;\n$arr = explode (' ',$str);\n$sizeOfArr = count($arr);\n$char = array();\n$count = 0;\nforeach($arr as $k=&gt;$v)\n{\n  $ln = $kTime%strlen($v);\n  $char = substr($v,$ln).substr($v,0,$ln);\n  if($v == $char)\n    {\n      $count++;\n    }\n}\necho 'Number of Original word after rotation found : '.$count;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10634881,"reputation":1,"user_id":7831890,"display_name":"Shahin Raza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623612149,"creation_date":1623612149,"answer_id":67961904,"question_id":65783973,"body_markdown":"This is the solution in Python 3 for the right move\r\n\r\n\r\n    def rotatedWords(cls, input1,input2):\r\n    \trotate_string = input1.split(&#39; &#39;) # converting string to list\r\n    \tcount = 0\r\n    \tfor i in range(1,input2+1):\r\n    \t\tfor j in range(len(rotate_string)):\r\n    \t\t\trotate_string[j]= rotate_string[j][-1]+rotate_string[j][0:-1]\r\n    \t\t\r\n    \tactual_word = input1.split(&#39; &#39;)\r\n    \r\n    \tfor i in range(len(rotate_string)):\r\n    \t\tfor j in range(len(actual_word)):\r\n    \t\t\tif rotate_string[i]==actual_word[j]:\r\n    \t\t\t\tcount+=1\r\n    \treturn count\r\n    \r\n    print(rotatedWords(1,&quot;adaada&quot;,3))\r\n    print(rotatedWords(1,&quot;llohe ereth&quot;,2))\r\n","title":"Love letter String rotation company test programming question base testcase passed, hidden testcase failing","body":"<p>This is the solution in Python 3 for the right move</p>\n<pre><code>def rotatedWords(cls, input1,input2):\n    rotate_string = input1.split(' ') # converting string to list\n    count = 0\n    for i in range(1,input2+1):\n        for j in range(len(rotate_string)):\n            rotate_string[j]= rotate_string[j][-1]+rotate_string[j][0:-1]\n        \n    actual_word = input1.split(' ')\n\n    for i in range(len(rotate_string)):\n        for j in range(len(actual_word)):\n            if rotate_string[i]==actual_word[j]:\n                count+=1\n    return count\n\nprint(rotatedWords(1,&quot;adaada&quot;,3))\nprint(rotatedWords(1,&quot;llohe ereth&quot;,2))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11172711,"reputation":300,"user_id":8199232,"display_name":"swapnil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629181894,"creation_date":1629181894,"answer_id":68812611,"question_id":65783973,"body_markdown":"    package com.code;\r\n    public class LoveLetter {\r\n    public static void main(String args[])\r\n    {\r\n        String str=&quot;llohe ereth&quot;;\r\n        int n=2;\r\n        solution(str,n);\r\n    }\r\n    public static void solution(String str,int n)\r\n    {\r\n        int l=str.length();\r\n        String a[]=str.split(&quot;\\\\s+&quot;);\r\n        String str1=&quot;&quot;;\r\n        int c=0;\r\n        for(int i=0;i&lt;a.length;i++)\r\n        {\r\n            String s=a[i];\r\n            String k=rightrotate(s,n);\r\n            if(a[i].equals(k)){\r\n                c++;\r\n            }\r\n            else\r\n                continue;\r\n        }\r\n        System.out.println(c);\r\n    }\r\n    static String rightrotate(String str, int d)\r\n    {\r\n        d=str.length()-d;\r\n        String ans = str.substring(d) + str.substring(0, d);\r\n        return ans;\r\n    }\r\n    }\r\n","title":"Love letter String rotation company test programming question base testcase passed, hidden testcase failing","body":"<pre><code>package com.code;\npublic class LoveLetter {\npublic static void main(String args[])\n{\n    String str=&quot;llohe ereth&quot;;\n    int n=2;\n    solution(str,n);\n}\npublic static void solution(String str,int n)\n{\n    int l=str.length();\n    String a[]=str.split(&quot;\\\\s+&quot;);\n    String str1=&quot;&quot;;\n    int c=0;\n    for(int i=0;i&lt;a.length;i++)\n    {\n        String s=a[i];\n        String k=rightrotate(s,n);\n        if(a[i].equals(k)){\n            c++;\n        }\n        else\n            continue;\n    }\n    System.out.println(c);\n}\nstatic String rightrotate(String str, int d)\n{\n    d=str.length()-d;\n    String ans = str.substring(d) + str.substring(0, d);\n    return ans;\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19882721,"reputation":1,"user_id":14566375,"display_name":"Kshitij"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630221165,"creation_date":1630221165,"answer_id":68970685,"question_id":65783973,"body_markdown":"It is given that someone rotates the characters of each word from left to right K times.So,if we want to know the original words,we have to rotate each characters from right to left K times\r\n\r\n    def rotatedWords(cls, input1, input2):\r\n        original_string = input1.split(&#39; &#39;)  # the string is split into list\r\n        count = 0  # for counting the words that remains same even after rotation\r\n\r\n        for i in range(0, input2):\r\n            for j in range(len(original_string)):\r\n                original_string[j] = original_string[j][-1]+original_string[j][0:-1]  # taking the last character and all characters from first to second last of each word,then concatenating them\r\n\r\n        given_string = input1.split(&#39; &#39;)\r\n\r\n        for i in range(len(given_string)):\r\n            if original_string[i] == given_string[i]:   #comparing each words from both lists\r\n                count += 1\r\n        return count\r\n    \r\n    print(rotatedWords(1,&quot;adaada&quot;, 3))\r\n    print(rotatedWords(1,&quot;llohe ereth&quot;, 2))\r\n\r\n    \r\n\r\n\r\n\r\n ","title":"Love letter String rotation company test programming question base testcase passed, hidden testcase failing","body":"<p>It is given that someone rotates the characters of each word from left to right K times.So,if we want to know the original words,we have to rotate each characters from right to left K times</p>\n<pre><code>def rotatedWords(cls, input1, input2):\n    original_string = input1.split(' ')  # the string is split into list\n    count = 0  # for counting the words that remains same even after rotation\n\n    for i in range(0, input2):\n        for j in range(len(original_string)):\n            original_string[j] = original_string[j][-1]+original_string[j][0:-1]  # taking the last character and all characters from first to second last of each word,then concatenating them\n\n    given_string = input1.split(' ')\n\n    for i in range(len(given_string)):\n        if original_string[i] == given_string[i]:   #comparing each words from both lists\n            count += 1\n    return count\n\nprint(rotatedWords(1,&quot;adaada&quot;, 3))\nprint(rotatedWords(1,&quot;llohe ereth&quot;, 2))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25335348,"reputation":1,"user_id":19154581,"display_name":"Shreehari S Vasisht"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660821007,"creation_date":1660459703,"answer_id":73349621,"question_id":65783973,"body_markdown":"Problem Statement tells that the space between words can be **one or more**.\r\nSo you will pass all test cases if split removes all spaces.\r\nUse `input1.split(&quot;\\\\s+&quot;)` regex expression instead.","title":"Love letter String rotation company test programming question base testcase passed, hidden testcase failing","body":"<p>Problem Statement tells that the space between words can be <strong>one or more</strong>.\nSo you will pass all test cases if split removes all spaces.\nUse <code>input1.split(&quot;\\\\s+&quot;)</code> regex expression instead.</p>\n"}],"owner":{"account_id":6250572,"reputation":736,"user_id":4860775,"display_name":"ASharma7"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21117,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":10,"score":2,"last_activity_date":1694693306,"creation_date":1611016515,"question_id":65783973,"body_markdown":"I Gave a test on platform named mettl for hiring of a company.\r\n\r\n**Problem statement :**\r\n\r\nYou write a love letter to you friend. However, before your friend can read it, someone else read it and rotates the characters of each word to the right K times. Find the number of words that remain the same even after this shifting of letters.\r\n\r\n**Note:** There can be more than one spaces between the words.\r\n\r\n**Input specifications:**\r\n\r\nInput1: String of words\r\n\r\nInput2: K number of times rotation happens\r\n\r\n**Output specifications:**\r\n\r\nYour function should return the numbers of correct words.\r\n\r\n**Example 1:**\r\n\r\n**Input1:** llohe ereth\r\n\r\n**Input 2:** 2 \r\n\r\n**Output:** 0\r\n\r\n**Explanation:** In example 1, &quot;llohe ereth&quot; is a rotated string with K factor 2. Hence after moving the last two letters of right to left , we get the original string as &quot;Hello there&quot;. \r\n\r\n\r\n**Example 2:**\r\n\r\n**Input1:** adaada\r\n\r\n**Input 2:** 3 \r\n\r\n**Output:** 1\r\n\r\n**Explanation:** In example 2, &quot;adaada&quot; when rotated 3 times gives back &quot;adaada&quot;. Hence answer is 1.\r\n\r\n\r\nI wrote below Solution which passed the above 2 base cases, but was failing for hidden testcases (also includes time complexity testcase). Only one corner testcase passed because I was checking String input1 not to be empty. Solution is as below:\r\n\r\n\tpublic int rotatedWords(String input1, int input2) {\r\n\t\tint count = 0;\r\n\t\tString arr[] = input1.split(&quot; &quot;);\r\n\t\tif (input1 != null &amp;&amp; !input1.isEmpty()) {\r\n\t\t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n\t\t\t\tString s1 = arr[i] + arr[i];\r\n\t\t\t\tint start = arr[i].length() - input2;\r\n\r\n\t\t\t\tSystem.out.println(&quot;arr[i] : &quot; + arr[i]);\r\n\t\t\t\tString s2 = s1.substring(start, start + arr[i].length());\r\n\t\t\t\tSystem.out.println(&quot;s2 : &quot; + s2);\r\n\t\t\t\tif (s2.equalsIgnoreCase(arr[i])) {\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn count;\r\n\t}\r\n\r\nAsk is that , I wasn&#39;t able to understand why the hidden testcases were failing. Please help me.","title":"Love letter String rotation company test programming question base testcase passed, hidden testcase failing","body":"<p>I Gave a test on platform named mettl for hiring of a company.</p>\n<p><strong>Problem statement :</strong></p>\n<p>You write a love letter to you friend. However, before your friend can read it, someone else read it and rotates the characters of each word to the right K times. Find the number of words that remain the same even after this shifting of letters.</p>\n<p><strong>Note:</strong> There can be more than one spaces between the words.</p>\n<p><strong>Input specifications:</strong></p>\n<p>Input1: String of words</p>\n<p>Input2: K number of times rotation happens</p>\n<p><strong>Output specifications:</strong></p>\n<p>Your function should return the numbers of correct words.</p>\n<p><strong>Example 1:</strong></p>\n<p><strong>Input1:</strong> llohe ereth</p>\n<p><strong>Input 2:</strong> 2</p>\n<p><strong>Output:</strong> 0</p>\n<p><strong>Explanation:</strong> In example 1, &quot;llohe ereth&quot; is a rotated string with K factor 2. Hence after moving the last two letters of right to left , we get the original string as &quot;Hello there&quot;.</p>\n<p><strong>Example 2:</strong></p>\n<p><strong>Input1:</strong> adaada</p>\n<p><strong>Input 2:</strong> 3</p>\n<p><strong>Output:</strong> 1</p>\n<p><strong>Explanation:</strong> In example 2, &quot;adaada&quot; when rotated 3 times gives back &quot;adaada&quot;. Hence answer is 1.</p>\n<p>I wrote below Solution which passed the above 2 base cases, but was failing for hidden testcases (also includes time complexity testcase). Only one corner testcase passed because I was checking String input1 not to be empty. Solution is as below:</p>\n<pre><code>public int rotatedWords(String input1, int input2) {\n    int count = 0;\n    String arr[] = input1.split(&quot; &quot;);\n    if (input1 != null &amp;&amp; !input1.isEmpty()) {\n        for (int i = 0; i &lt; arr.length; i++) {\n            String s1 = arr[i] + arr[i];\n            int start = arr[i].length() - input2;\n\n            System.out.println(&quot;arr[i] : &quot; + arr[i]);\n            String s2 = s1.substring(start, start + arr[i].length());\n            System.out.println(&quot;s2 : &quot; + s2);\n            if (s2.equalsIgnoreCase(arr[i])) {\n                count++;\n            }\n        }\n    }\n    return count;\n}\n</code></pre>\n<p>Ask is that , I wasn't able to understand why the hidden testcases were failing. Please help me.</p>\n"},{"tags":["java","activiti","bpmn"],"owner":{"account_id":29433315,"reputation":11,"user_id":22552593,"display_name":"Alan Parry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1694693218,"creation_date":1694622833,"question_id":77098942,"body_markdown":"I&#39;m successfully using Activiti via the Spring Boot Starter for a while and am attempting to change from automatically deploying bpmn processes to manually doing it via Java. I basing this on a fairly simple example which is finding my process definitions and completing, but not creating a deployment with usable process definitions.\r\n\r\n    BpmnXMLConverter bpmnXMLConverter = new BpmnXMLConverter();\r\n    String processFolderPath = &quot;classpath:/processes/&quot;;\r\n    File processDirectory = resourceLoader.getResource(processFolderPath).getFile();\r\n    DeploymentBuilder builder = repositoryService.createDeployment();\r\n    if (processDirectory.exists()) { Arrays.stream(Objects.requireNonNull(processDirectory.list())).sequential()\r\n                .forEach(processDefFile -&gt; {\r\n                    try {\r\n                        String resource = processFolderPath + processDefFile;\r\n                        InputStream input = resourceLoader.getResource(resource).getInputStream();\r\n                        InputStreamSource streamSource = new InputStreamSource(input);\r\n                        BpmnModel model = bpmnXMLConverter.convertToBpmnModel(streamSource, true, false);\r\n                        String processDefName = processDefFile.substring(0, processDefFile.indexOf(&quot;.bpmn20.xml&quot;));\r\n                        builder.addBpmnModel(processDefName, model);\r\n                    } catch (IOException e) {\r\n                        log.error(e.getMessage(), e);\r\n                    }\r\n                });\r\n        } else {\r\n            log.warn(&quot;process directory not found&quot;);\r\n        }\r\n        builder.deploy();\r\n\r\nPreviously when I used auto deployment I would see records in the re_procdef table for each process and be able to query and use them. When I run the above code I only see records in the ge_bytearray table which contain the process xml in the BYTES_ field as a blob, but no deployed process.\r\n\r\nCan anyone see what I am doing wrong?","title":"Activiti Processes Not Deploying","body":"<p>I'm successfully using Activiti via the Spring Boot Starter for a while and am attempting to change from automatically deploying bpmn processes to manually doing it via Java. I basing this on a fairly simple example which is finding my process definitions and completing, but not creating a deployment with usable process definitions.</p>\n<pre><code>BpmnXMLConverter bpmnXMLConverter = new BpmnXMLConverter();\nString processFolderPath = &quot;classpath:/processes/&quot;;\nFile processDirectory = resourceLoader.getResource(processFolderPath).getFile();\nDeploymentBuilder builder = repositoryService.createDeployment();\nif (processDirectory.exists()) { Arrays.stream(Objects.requireNonNull(processDirectory.list())).sequential()\n            .forEach(processDefFile -&gt; {\n                try {\n                    String resource = processFolderPath + processDefFile;\n                    InputStream input = resourceLoader.getResource(resource).getInputStream();\n                    InputStreamSource streamSource = new InputStreamSource(input);\n                    BpmnModel model = bpmnXMLConverter.convertToBpmnModel(streamSource, true, false);\n                    String processDefName = processDefFile.substring(0, processDefFile.indexOf(&quot;.bpmn20.xml&quot;));\n                    builder.addBpmnModel(processDefName, model);\n                } catch (IOException e) {\n                    log.error(e.getMessage(), e);\n                }\n            });\n    } else {\n        log.warn(&quot;process directory not found&quot;);\n    }\n    builder.deploy();\n</code></pre>\n<p>Previously when I used auto deployment I would see records in the re_procdef table for each process and be able to query and use them. When I run the above code I only see records in the ge_bytearray table which contain the process xml in the BYTES_ field as a blob, but no deployed process.</p>\n<p>Can anyone see what I am doing wrong?</p>\n"},{"tags":["java","arrays","math","matrix","arraylist"],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694692897,"creation_date":1694624719,"answer_id":77099140,"question_id":77098887,"body_markdown":"As I see, your code have 2 problems. \r\n\r\nFirst, in `get_element()` the indexing for `LI` **is incorrect**:\r\n```java\r\npublic int get_element() {\r\n    System.out.println(&quot;\\n\\nSearching for an element&quot;);\r\n    \r\n    Scanner sc = new Scanner(System.in);\r\n    \r\n    System.out.print(&quot;Enter i:&quot;);\r\n    int i = sc.nextInt();\r\n    \r\n    System.out.print(&quot;Enter j:&quot;);\r\n    int j = sc.nextInt();\r\n    \r\n    int AA = 0;\r\n    \r\n    // Correct indexing\r\n    int N1 = LI.get(i - 1); \r\n    int N2 = LI.get(i);\r\n    \r\n    for (int k = N1; k &lt; N2; k++) {\r\n        if (LJ.get(k) == j) {\r\n            AA = A.get(k);\r\n        }\r\n    }\r\n    \r\n    sc.close();\r\n    \r\n    return AA;\r\n}\r\n```\r\n**Note:** It&#39;s important to use `scanner.close()` to prevent memory leak in your program.  \r\n**Note&#178;:** `System.out.print()` is better for input situations than `System.out.println()`\r\n\r\nSecond, you should set `main.N` value properly in the `CRS` constructor:\r\n```java\r\nprivate List&lt;Integer&gt; A = new ArrayList&lt;Integer&gt;();\r\nprivate List&lt;Integer&gt; LJ = new ArrayList&lt;Integer&gt;();\r\nprivate List&lt;Integer&gt; LI = new ArrayList&lt;Integer&gt;();\r\n\r\npublic CRS(int[][] matrix) {\r\n    int n = 0;\r\n    for (int i = 0; i &lt; 10 * main.N; i++) {\r\n        for (int j = 0; j &lt; 10 * main.N; j++) {\r\n            if (matrix[i][j] != 0) {\r\n                A.add(matrix[i][j]);\r\n                LJ.add(j + 1);\r\n                n++;\r\n            }\r\n        }\r\n        LI.add(n);\r\n    }\r\n    LI.add(main.N * 10 + 1);\r\n}\r\n```\r\n**Note:** It&#39;s a best practice to use the interface (`List&lt;Integer&gt;`) instead of the class when you instantiate an array, [check this out][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9852831/polymorphism-why-use-list-list-new-arraylist-instead-of-arraylist-list-n","title":"How to find an element by indexes in Compessed Sparse Row?","body":"<p>As I see, your code have 2 problems.</p>\n<p>First, in <code>get_element()</code> the indexing for <code>LI</code> <strong>is incorrect</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int get_element() {\n    System.out.println(&quot;\\n\\nSearching for an element&quot;);\n    \n    Scanner sc = new Scanner(System.in);\n    \n    System.out.print(&quot;Enter i:&quot;);\n    int i = sc.nextInt();\n    \n    System.out.print(&quot;Enter j:&quot;);\n    int j = sc.nextInt();\n    \n    int AA = 0;\n    \n    // Correct indexing\n    int N1 = LI.get(i - 1); \n    int N2 = LI.get(i);\n    \n    for (int k = N1; k &lt; N2; k++) {\n        if (LJ.get(k) == j) {\n            AA = A.get(k);\n        }\n    }\n    \n    sc.close();\n    \n    return AA;\n}\n</code></pre>\n<p><strong>Note:</strong> It's important to use <code>scanner.close()</code> to prevent memory leak in your program.<br />\n<strong>Note²:</strong> <code>System.out.print()</code> is better for input situations than <code>System.out.println()</code></p>\n<p>Second, you should set <code>main.N</code> value properly in the <code>CRS</code> constructor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private List&lt;Integer&gt; A = new ArrayList&lt;Integer&gt;();\nprivate List&lt;Integer&gt; LJ = new ArrayList&lt;Integer&gt;();\nprivate List&lt;Integer&gt; LI = new ArrayList&lt;Integer&gt;();\n\npublic CRS(int[][] matrix) {\n    int n = 0;\n    for (int i = 0; i &lt; 10 * main.N; i++) {\n        for (int j = 0; j &lt; 10 * main.N; j++) {\n            if (matrix[i][j] != 0) {\n                A.add(matrix[i][j]);\n                LJ.add(j + 1);\n                n++;\n            }\n        }\n        LI.add(n);\n    }\n    LI.add(main.N * 10 + 1);\n}\n</code></pre>\n<p><strong>Note:</strong> It's a best practice to use the interface (<code>List&lt;Integer&gt;</code>) instead of the class when you instantiate an array, <a href=\"https://stackoverflow.com/questions/9852831/polymorphism-why-use-list-list-new-arraylist-instead-of-arraylist-list-n\">check this out</a>.</p>\n"}],"owner":{"account_id":23668272,"reputation":107,"user_id":17695439,"display_name":"SaintSammy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694692897,"creation_date":1694622269,"question_id":77098887,"body_markdown":"I&#39;m trying to write a program in Java that works with a sparse matrix and I&#39;ve written a class for storing it using the CRS format. The problematic part of the given class is a method that get_element() that has to return the element by indexes. Indexes are received as user input. Every time I enter the indexes, I get 0. Though the result should be different. Maybe the problem is inside the constructor. I don&#39;t know.\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.ArrayList;\r\n\r\npublic class CRS {\r\n\t\r\n\tprivate ArrayList&lt;Integer&gt; A = new ArrayList&lt;Integer&gt;();\r\n\tprivate ArrayList&lt;Integer&gt; LJ = new ArrayList&lt;Integer&gt;();\r\n\tprivate ArrayList&lt;Integer&gt; LI = new ArrayList&lt;Integer&gt;();\r\n\t\r\n\tpublic CRS(int[][] matrix) {\r\n\t\tint n = 0;\r\n\t\tfor(int i=0;i&lt;10*main.N;i++) {\r\n\t\t\tfor(int j=0;j&lt;10*main.N;j++) {\r\n\t\t\t\tif(matrix[i][j]!=0) {\r\n\t\t\t\t\tA.add(matrix[i][j]);\r\n\t\t\t\t\tLJ.add(j+1);\r\n\t\t\t\t\tn++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tLI.add(n);\r\n\t\t}\r\n\t\tLI.add(main.N+1);\r\n\t}\r\n\t\r\n\tpublic void print_all() {\r\n\t\tSystem.out.println(&quot;\\nCRS&quot;);\r\n\t\tSystem.out.print(&quot;A &quot;);\r\n\t\tfor(int i=0;i&lt;main.N;i++) {\r\n\t\t\tSystem.out.print(A.get(i)+&quot; &quot;);\r\n\t\t}\r\n\t\tSystem.out.print(&quot;\\nLJ &quot;);\r\n\t\tfor(int i=0;i&lt;main.N;i++) {\r\n\t\t\tSystem.out.print(LJ.get(i)+&quot; &quot;);\r\n\t\t}\r\n\t\tSystem.out.print(&quot;\\nLI &quot;);\r\n\t\tfor(int i=0;i&lt;LI.size();i++) {\r\n\t\t\tSystem.out.print(LI.get(i)+&quot; &quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic int get_element() {\r\n\t\tSystem.out.println(&quot;\\n\\nSearching for an element&quot;);\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter i:&quot;);\r\n\t\tint i = sc.nextInt();\r\n\t\tSystem.out.println(&quot;Enter j:&quot;);\r\n\t\tint j = sc.nextInt();\r\n\t\tint AA = 0;\r\n\t\tint N1=LI.get(i);\r\n\t\tint N2=LI.get(i+1);\r\n\t\tfor(int k=N1;k&lt;N2;k++) {\r\n\t\t\tif(LJ.get(k)==j) {\r\n\t\t\t\tAA=A.get(k);\r\n\t\t\t}\r\n\t\t}\r\n\t    return AA;\r\n\t}\r\n}\r\n```\r\nHere is the main class.\r\n```\r\nimport java.io.*;\r\nimport java.util.*;\r\n\r\npublic class main {\r\n\tpublic static int N=2;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tint [][] matrix = new int [10*N] [10*N];\r\n\t\tfor(int n=0;n&lt;N;) {\r\n\t\t\tint max_position=10*N-1;\r\n\t\t\tint min_value=1,max_value=12;\r\n\t\t\tint i = (int)(Math.random() * (max_position + 1));\r\n\t\t\tint j = (int)(Math.random() * (max_position + 1));\r\n\t\t\tif(matrix[i][j]==0) {\r\n\t\t\t\tmatrix[i][j] = min_value + (int)(Math.random() * ((max_value - min_value) + 1));\r\n\t\t\t\tn++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Sparce matrix&quot;);\r\n\t\tfor(int i=0;i&lt;10*N;i++) {\r\n\t\t\tfor(int j=0;j&lt;10*N;j++) {\r\n\t\t\t\tSystem.out.print(matrix[i][j]+&quot; &quot;);\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t\t\r\n\t\tCRS crs = new CRS(matrix);\r\n\t\tcrs.print_all();\r\n\t\tSystem.out.println(crs.get_element());\r\n\t}\r\n\r\n}\r\n\r\n```","title":"How to find an element by indexes in Compessed Sparse Row?","body":"<p>I'm trying to write a program in Java that works with a sparse matrix and I've written a class for storing it using the CRS format. The problematic part of the given class is a method that get_element() that has to return the element by indexes. Indexes are received as user input. Every time I enter the indexes, I get 0. Though the result should be different. Maybe the problem is inside the constructor. I don't know.</p>\n<pre><code>import java.util.Scanner;\nimport java.util.ArrayList;\n\npublic class CRS {\n    \n    private ArrayList&lt;Integer&gt; A = new ArrayList&lt;Integer&gt;();\n    private ArrayList&lt;Integer&gt; LJ = new ArrayList&lt;Integer&gt;();\n    private ArrayList&lt;Integer&gt; LI = new ArrayList&lt;Integer&gt;();\n    \n    public CRS(int[][] matrix) {\n        int n = 0;\n        for(int i=0;i&lt;10*main.N;i++) {\n            for(int j=0;j&lt;10*main.N;j++) {\n                if(matrix[i][j]!=0) {\n                    A.add(matrix[i][j]);\n                    LJ.add(j+1);\n                    n++;\n                }\n            }\n            LI.add(n);\n        }\n        LI.add(main.N+1);\n    }\n    \n    public void print_all() {\n        System.out.println(&quot;\\nCRS&quot;);\n        System.out.print(&quot;A &quot;);\n        for(int i=0;i&lt;main.N;i++) {\n            System.out.print(A.get(i)+&quot; &quot;);\n        }\n        System.out.print(&quot;\\nLJ &quot;);\n        for(int i=0;i&lt;main.N;i++) {\n            System.out.print(LJ.get(i)+&quot; &quot;);\n        }\n        System.out.print(&quot;\\nLI &quot;);\n        for(int i=0;i&lt;LI.size();i++) {\n            System.out.print(LI.get(i)+&quot; &quot;);\n        }\n    }\n    \n    public int get_element() {\n        System.out.println(&quot;\\n\\nSearching for an element&quot;);\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter i:&quot;);\n        int i = sc.nextInt();\n        System.out.println(&quot;Enter j:&quot;);\n        int j = sc.nextInt();\n        int AA = 0;\n        int N1=LI.get(i);\n        int N2=LI.get(i+1);\n        for(int k=N1;k&lt;N2;k++) {\n            if(LJ.get(k)==j) {\n                AA=A.get(k);\n            }\n        }\n        return AA;\n    }\n}\n</code></pre>\n<p>Here is the main class.</p>\n<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class main {\n    public static int N=2;\n\n    public static void main(String[] args) {\n        \n        int [][] matrix = new int [10*N] [10*N];\n        for(int n=0;n&lt;N;) {\n            int max_position=10*N-1;\n            int min_value=1,max_value=12;\n            int i = (int)(Math.random() * (max_position + 1));\n            int j = (int)(Math.random() * (max_position + 1));\n            if(matrix[i][j]==0) {\n                matrix[i][j] = min_value + (int)(Math.random() * ((max_value - min_value) + 1));\n                n++;\n            }\n        }\n        System.out.println(&quot;Sparce matrix&quot;);\n        for(int i=0;i&lt;10*N;i++) {\n            for(int j=0;j&lt;10*N;j++) {\n                System.out.print(matrix[i][j]+&quot; &quot;);\n            }\n            System.out.println();\n        }\n        \n        CRS crs = new CRS(matrix);\n        crs.print_all();\n        System.out.println(crs.get_element());\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":5,"creation_date":1694691291,"post_id":77104462,"comment_id":135926111,"body_markdown":"I believe what you are looking for is JUnit&#39;s ParameterizedTest.  I do not have the time to prepare a formal answer but the breadcrumb may be enough to get your going.","body":"I believe what you are looking for is JUnit&#39;s ParameterizedTest.  I do not have the time to prepare a formal answer but the breadcrumb may be enough to get your going."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694692870,"creation_date":1694692870,"answer_id":77104686,"question_id":77104462,"body_markdown":"It seems that you are still using JUnit 4 (because you annotated your class with `@RunWith()`.)\r\n\r\nWith JUnit 4 writing parameterized tests for Spring applications is fairly complex because you can have only one TestRunner and for parameterized tests you need to use the [`Parameterized`](https://github.com/junit-team/junit4/wiki/Parameterized-tests) runner. And that means that setting up the Spring application cannot be done automatically by using the `SpringRunner`.\r\n\r\nhttps://www.baeldung.com/springjunit4classrunner-parameterized has a detailed example how you can achieve this.\r\n\r\n------\r\n\r\nThe whole thing would be a lot easier if you could switch your test to JUnit 5 because JUnit 5 has better support for [parameterized tests](https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests):\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    @SpringBootTest(classes = Application.class)\r\n    public class MyBigTest {\r\n    \r\n    @ParameterizedTest\r\n    @ValueSource(strings = {&quot;value1&quot;, &quot;value2&quot;, &quot;value3&quot;, &quot;value4&quot;, &quot;value5&quot;})\r\n    public void testAllValues(String value) {\r\n    \r\n        String something1 = doSomethingToValue(value);\r\n        if (something1 == BAD) {\r\n            throw Exception(&quot;bad &quot;+value);\r\n        }\r\n    }\r\n\r\nNote that you don&#39;t need to migrate all your tests to JUnit 5 - JUnit 5 can also run JUnit 4 tests.","title":"How to make a JUnit test that does the same test on many values in a list?","body":"<p>It seems that you are still using JUnit 4 (because you annotated your class with <code>@RunWith()</code>.)</p>\n<p>With JUnit 4 writing parameterized tests for Spring applications is fairly complex because you can have only one TestRunner and for parameterized tests you need to use the <a href=\"https://github.com/junit-team/junit4/wiki/Parameterized-tests\" rel=\"nofollow noreferrer\"><code>Parameterized</code></a> runner. And that means that setting up the Spring application cannot be done automatically by using the <code>SpringRunner</code>.</p>\n<p><a href=\"https://www.baeldung.com/springjunit4classrunner-parameterized\" rel=\"nofollow noreferrer\">https://www.baeldung.com/springjunit4classrunner-parameterized</a> has a detailed example how you can achieve this.</p>\n<hr />\n<p>The whole thing would be a lot easier if you could switch your test to JUnit 5 because JUnit 5 has better support for <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests\" rel=\"nofollow noreferrer\">parameterized tests</a>:</p>\n<pre><code>import org.junit.jupiter.api.Test;\n\n@SpringBootTest(classes = Application.class)\npublic class MyBigTest {\n\n@ParameterizedTest\n@ValueSource(strings = {&quot;value1&quot;, &quot;value2&quot;, &quot;value3&quot;, &quot;value4&quot;, &quot;value5&quot;})\npublic void testAllValues(String value) {\n\n    String something1 = doSomethingToValue(value);\n    if (something1 == BAD) {\n        throw Exception(&quot;bad &quot;+value);\n    }\n}\n</code></pre>\n<p>Note that you don't need to migrate all your tests to JUnit 5 - JUnit 5 can also run JUnit 4 tests.</p>\n"}],"owner":{"account_id":19522753,"reputation":645,"user_id":14284230,"display_name":"AvaTaylor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77104686,"answer_count":1,"score":0,"last_activity_date":1694692870,"creation_date":1694691050,"question_id":77104462,"body_markdown":"I have a JUnit test with one @Test method that does the same test on a long list of values.\r\n\r\nWhen I run the &quot;tests&quot; there&#39;s just one green check mark JUnit test success (in the Eclipse UI).\r\n\r\nHow can I tweak this so each value test appears as a separate JUnit test in the UI so I can more easily locate which one fails?\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = Application.class)\r\n    public class MyBigTest {\r\n    \r\n    @Test\r\n    public void testAllValues() {\r\n       List&lt;String&gt; allValues = new ArrayList&lt;String&gt;();\r\n       allValues.add(&quot;value1&quot;);\r\n       allValues.add(&quot;value2&quot;);\r\n       allValues.add(&quot;value3&quot;);\r\n       allValues.add(&quot;value4&quot;);\r\n       allValues.add(&quot;value5&quot;);\r\n    \r\n       for (String value : allValues) {\r\n          String something1 = doSomethingToValue(value1);\r\n          if (something1 == BAD) {\r\n             throw Exception(&quot;bad &quot;+value);\r\n          }\r\n       }\r\n    }\r\n      \r\n\r\n","title":"How to make a JUnit test that does the same test on many values in a list?","body":"<p>I have a JUnit test with one @Test method that does the same test on a long list of values.</p>\n<p>When I run the &quot;tests&quot; there's just one green check mark JUnit test success (in the Eclipse UI).</p>\n<p>How can I tweak this so each value test appears as a separate JUnit test in the UI so I can more easily locate which one fails?</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = Application.class)\npublic class MyBigTest {\n\n@Test\npublic void testAllValues() {\n   List&lt;String&gt; allValues = new ArrayList&lt;String&gt;();\n   allValues.add(&quot;value1&quot;);\n   allValues.add(&quot;value2&quot;);\n   allValues.add(&quot;value3&quot;);\n   allValues.add(&quot;value4&quot;);\n   allValues.add(&quot;value5&quot;);\n\n   for (String value : allValues) {\n      String something1 = doSomethingToValue(value1);\n      if (something1 == BAD) {\n         throw Exception(&quot;bad &quot;+value);\n      }\n   }\n}\n  \n</code></pre>\n"},{"tags":["java","java-8","java-17"],"comments":[{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1694599628,"post_id":77096034,"comment_id":135911449,"body_markdown":"Even in Java 8 you shouldn&#39;t have used those classes directly. BTW: those classes were not removed or deprecated, they have just been made inaccessible to code that shouldn&#39;t have been using them in the first place.","body":"Even in Java 8 you shouldn&#39;t have used those classes directly. BTW: those classes were not removed or deprecated, they have just been made inaccessible to code that shouldn&#39;t have been using them in the first place."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1694600312,"post_id":77096034,"comment_id":135911571,"body_markdown":"@MarkRotteveel Your comment makes it sound like they did something illegal which is ridiculous. OP is not making an assertion that &#39;sun.security should remain supported in JDK17&#39; (in which case you&#39;d have a point: The sun.* packages explicitly disclaim continuing support). Their question is completely fair and &#39;you should build a time machine, go back in time, and yell at your past selves for messing up&#39; is not an appropriate response.","body":"@MarkRotteveel Your comment makes it sound like they did something illegal which is ridiculous. OP is not making an assertion that &#39;sun.security should remain supported in JDK17&#39; (in which case you&#39;d have a point: The sun.* packages explicitly disclaim continuing support). Their question is completely fair and &#39;you should build a time machine, go back in time, and yell at your past selves for messing up&#39; is not an appropriate response."},{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1694600661,"post_id":77096034,"comment_id":135911639,"body_markdown":"@rzwitserloot Even in the past, using classes from `sun.*` was explicitly not recommended, which is why they are no longer exported.","body":"@rzwitserloot Even in the past, using classes from <code>sun.*</code> was explicitly not recommended, which is why they are no longer exported."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":2,"creation_date":1694613379,"post_id":77096034,"comment_id":135914477,"body_markdown":"@rzwitserloot Mark is right. Sun has stated long ago that classes from `sun.*` and `com.sun.*` could be changed or deleted at any time, and you shouldn&#39;t use those. Oracle stuck to that policy.","body":"@rzwitserloot Mark is right. Sun has stated long ago that classes from <code>sun.*</code> and <code>com.sun.*</code> could be changed or deleted at any time, and you shouldn&#39;t use those. Oracle stuck to that policy."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1694620197,"post_id":77096034,"comment_id":135916072,"body_markdown":"I never said he was wrong. I said it&#39;s inappropriate to &#39;answer&#39; a question that __already__ includes the statement of &#39;What should be used here&#39;, i.e. already is willing to use a different library, with: &quot;You messed up in using it in the first place&quot;. This is one of those textbook cases of &#39;SO is mean&#39;. There is no need for this. If OP starts whining about &#39;But how can I use this sun.* stuff on JDK17&#39;, I&#39;ll be right there with you. But they didn&#39;t.","body":"I never said he was wrong. I said it&#39;s inappropriate to &#39;answer&#39; a question that <b>already</b> includes the statement of &#39;What should be used here&#39;, i.e. already is willing to use a different library, with: &quot;You messed up in using it in the first place&quot;. This is one of those textbook cases of &#39;SO is mean&#39;. There is no need for this. If OP starts whining about &#39;But how can I use this sun.* stuff on JDK17&#39;, I&#39;ll be right there with you. But they didn&#39;t."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1694625463,"post_id":77096034,"comment_id":135917068,"body_markdown":"[This thread](https://stackoverflow.com/questions/61149455/access-sun-security-x509-in-jdk-11-without-modules) and the linked ones might help you find the alternate solution you might be looking for.","body":"<a href=\"https://stackoverflow.com/questions/61149455/access-sun-security-x509-in-jdk-11-without-modules\">This thread</a> and the linked ones might help you find the alternate solution you might be looking for."},{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1694677877,"post_id":77096034,"comment_id":135923340,"body_markdown":"@rzwitserloot I didn&#39;t post an answer, I posted a comment to point an incorrect assumption in the question (_&quot;as PKCS is downgraded and removed in Java 17.&quot;_). The `sun.security.pkcs10` class only exists in Java due to the `keytool` commandline utility.","body":"@rzwitserloot I didn&#39;t post an answer, I posted a comment to point an incorrect assumption in the question (<i>&quot;as PKCS is downgraded and removed in Java 17.&quot;</i>). The <code>sun.security.pkcs10</code> class only exists in Java due to the <code>keytool</code> commandline utility."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1694692867,"creation_date":1694600394,"answer_id":77096177,"question_id":77096034,"body_markdown":"[_BouncyCastle_](https://www.bouncycastle.org/docs/pkixdocs1.5on/org/bouncycastle/pkcs/PKCS10CertificationRequest.html) has various PKCS10 capable classes. See [this SO question](https://stackoverflow.com/questions/23155024/sign-pkcs10-certificate-in-java) for an example. You&#39;ll need to rewrite your code a bit, they haven&#39;t copied the `sun.security.*` API.\r\n","title":"package sun.security.pkcs10 is not visible and package sun.security.x509 is not visible while migrating from Java 8 to Java 17","body":"<p><a href=\"https://www.bouncycastle.org/docs/pkixdocs1.5on/org/bouncycastle/pkcs/PKCS10CertificationRequest.html\" rel=\"nofollow noreferrer\"><em>BouncyCastle</em></a> has various PKCS10 capable classes. See <a href=\"https://stackoverflow.com/questions/23155024/sign-pkcs10-certificate-in-java\">this SO question</a> for an example. You'll need to rewrite your code a bit, they haven't copied the <code>sun.security.*</code> API.</p>\n"}],"owner":{"account_id":18982671,"reputation":49,"user_id":13853763,"display_name":"mayur gavali"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694692867,"creation_date":1694599188,"question_id":77096034,"body_markdown":"While migrating my application from Java 8 to Java 17, I&#39;m facing error\r\n\r\n&gt; package sun.security.pkcs10 is not visible package sun.security.x509\r\n&gt; is not visible\r\n\r\n    \r\nFollowing is the code:\r\n\r\n    @SuppressWarnings(&quot;restriction&quot;)\r\n    private static byte[] encodeAndSignRequest(KeyPair keyPair, Signature signature,\r\n            X500Principal principal) throws Exception {\r\n        ByteArrayOutputStream outStream = new ByteArrayOutputStream();`enter code here`\r\n        PrintStream printStream = new PrintStream(outStream, true, StandardCharsets.UTF_8.name());\r\n        sun.security.pkcs10.PKCS10 pkcs10 = new sun.security.pkcs10.PKCS10(keyPair.getPublic());\r\n        pkcs10.encodeAndSign(sun.security.x509.X500Name.asX500Name(principal), signature);\r\n        pkcs10.print(printStream);\r\n        return outStream.toByteArray();\r\n    }\r\n\r\nAs it is getting the public key and trying to encode that key based on the PKCS10 which is not present in Java 17, The above method is throwing an exception as PKCS is downgraded and removed in Java 17. What should be used over here to solve this issue?","title":"package sun.security.pkcs10 is not visible and package sun.security.x509 is not visible while migrating from Java 8 to Java 17","body":"<p>While migrating my application from Java 8 to Java 17, I'm facing error</p>\n<blockquote>\n<p>package sun.security.pkcs10 is not visible package sun.security.x509\nis not visible</p>\n</blockquote>\n<p>Following is the code:</p>\n<pre><code>@SuppressWarnings(&quot;restriction&quot;)\nprivate static byte[] encodeAndSignRequest(KeyPair keyPair, Signature signature,\n        X500Principal principal) throws Exception {\n    ByteArrayOutputStream outStream = new ByteArrayOutputStream();`enter code here`\n    PrintStream printStream = new PrintStream(outStream, true, StandardCharsets.UTF_8.name());\n    sun.security.pkcs10.PKCS10 pkcs10 = new sun.security.pkcs10.PKCS10(keyPair.getPublic());\n    pkcs10.encodeAndSign(sun.security.x509.X500Name.asX500Name(principal), signature);\n    pkcs10.print(printStream);\n    return outStream.toByteArray();\n}\n</code></pre>\n<p>As it is getting the public key and trying to encode that key based on the PKCS10 which is not present in Java 17, The above method is throwing an exception as PKCS is downgraded and removed in Java 17. What should be used over here to solve this issue?</p>\n"},{"tags":["java","spring","hibernate","spring-data"],"comments":[{"owner":{"account_id":6937666,"reputation":949,"user_id":5325086,"accept_rate":75,"display_name":"lenach87"},"score":0,"creation_date":1470514461,"post_id":38805066,"comment_id":64984925,"body_markdown":"Check the answers to this question - it might help http://stackoverflow.com/questions/6810158/java-hibernate-write-operations-are-not-allowed-in-read-only-mode","body":"Check the answers to this question - it might help <a href=\"http://stackoverflow.com/questions/6810158/java-hibernate-write-operations-are-not-allowed-in-read-only-mode\" title=\"java hibernate write operations are not allowed in read only mode\">stackoverflow.com/questions/6810158/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6834220,"reputation":122,"user_id":10785002,"display_name":"გენო მუმლაძე"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558276056,"creation_date":1558276056,"answer_id":56208760,"question_id":38805066,"body_markdown":"Check for @Transactional annotation in you DAO.\r\nIt should be \r\n\r\n    @Transactional(readOnly = false)","title":"org.springframework.dao.InvalidDataAccessApiUsageException: Write operations are not allowed in read-only mode (FlushMode.MANUAL)","body":"<p>Check for @Transactional annotation in you DAO.\nIt should be </p>\n\n<pre><code>@Transactional(readOnly = false)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26314862,"reputation":41,"user_id":19977803,"display_name":"Heena Patidar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694692676,"creation_date":1694692676,"answer_id":77104667,"question_id":38805066,"body_markdown":"only **@Transaction** will also work in this case.\r\n**@Transactional(readOnly = false)** - This is the default behavior if you don&#39;t specify the readOnly attribute.","title":"org.springframework.dao.InvalidDataAccessApiUsageException: Write operations are not allowed in read-only mode (FlushMode.MANUAL)","body":"<p>only <strong>@Transaction</strong> will also work in this case.\n<strong>@Transactional(readOnly = false)</strong> - This is the default behavior if you don't specify the readOnly attribute.</p>\n"}],"owner":{"account_id":4454134,"reputation":1915,"user_id":3625007,"display_name":"Ananta Chandra Das"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1817,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1694692676,"creation_date":1470492078,"question_id":38805066,"body_markdown":"While Executing the program, I&#39;m getting the particular error \r\n\r\n    **Exception in thread &quot;main&quot; org.springframework.dao.InvalidDataAccessApiUsageException: \r\n    Write operations are not allowed in read-only mode (FlushMode.MANUAL): \r\n    Turn your Session into FlushMode.\r\n    COMMIT/AUTO or remove &#39;readOnly&#39; marker from transaction definition.** \r\n\r\nevery time. please someone help me. Here I am giving my codes which contains some error. In the Below code I have taken one employee data which will be stored in the employee table of MSSQL database. While working with only hibernate at that time i can able to persist my data. But, her i am unable to persist my data.\r\n   \r\n\r\nEmployeeHt.java\r\n---------------\r\nThis is the entity class which is mapped to the employee table of MSSQL database\r\n\r\n\r\n     import javax.persistence.Column;\r\n     import javax.persistence.Entity;\r\n     import javax.persistence.Id;\r\n     import javax.persistence.Table;\r\n\r\n     @Entity\r\n     @Table(name=&quot;employee&quot;)\r\n     public class EmployeeHt {\r\n\t\r\n    \t@Id\r\n    \t@Column(name=&quot;id&quot;)\r\n     \tprivate int id;\r\n\t\r\n    \t@Column(name=&quot;name&quot;)\r\n\t    private String name;\r\n\t\r\n    \t@Column(name=&quot;salary&quot;)\r\n    \tprivate int salary;\r\n    \t\r\n    \tpublic int getId() {\r\n\t    \treturn id;\r\n\t    }\r\n\t    public void setId(int id) {\r\n\t    \tthis.id = id;\r\n\t    }\r\n     \t   public String getName() {\r\n\t    \treturn name;\r\n\t    }\r\n\t    public void setName(String name) {\r\n\t    \tthis.name = name;\r\n\t    }\r\n\t    public int getSalary() {\r\n\t    \treturn salary;\r\n\t    }\r\n\t    public void setSalary(int salary) {\r\n\t    \tthis.salary = salary;\r\n\t    }\r\n\t    @Override\r\n\t     public String toString() {\r\n\t        \treturn &quot;EmployeeHt [id=&quot; + id + &quot;, name=&quot; + name + &quot;, salary=&quot; +      salary + &quot;]&quot;;\r\n        \t}\r\n    }\r\n\r\n        \r\n\r\n   \r\n\r\nEmployeeHtDao.java\r\n------------------\r\nThis is the class which contains hibernate template\r\n\r\n       \r\n        import org.springframework.orm.hibernate5.HibernateTemplate;\r\n    \r\n        public class EmployeeHtDao {\r\n     \r\n            private HibernateTemplate ht;\t\r\n            public void setHt(HibernateTemplate ht) {\r\n            \tthis.ht = ht;\r\n         }\t\r\n         public void saveEmployee(EmployeeHt e){\r\n        \tht.save(e);\r\n         }\t\r\n       }\r\n     \r\n   \r\n\r\n    \r\n\r\nEmployeeHtTest.java\r\n-------------------\r\n\r\n       **This is the main class**\r\n\r\n       import org.springframework.context.ApplicationContext;\r\n          import    org.springframework.context.support.ClassPathXmlApplicationContext;\r\n     \r\n            public class EmployeeHtTest {\r\n    \r\n           \tprivate static ApplicationContext context;\r\n            public static void main(String[] args) {\t\t\r\n        \tcontext = new     ClassPathXmlApplicationContext(&quot;hibernateTemplate.xml&quot;);\r\n    \t     EmployeeHtDao dao=(EmployeeHtDao) context.getBean(&quot;edao&quot;);\t\t\r\n    \t     EmployeeHt e=new EmployeeHt();\r\n           \te.setId(104);\r\n        \te.setName(&quot;Prangyan&quot;);\r\n        \te.setSalary(30000);\t\t\r\n        \tdao.saveEmployee(e);\r\n        }\r\n     }\r\n  \r\n\r\nhibernateTemplate.xml\r\n---------------------\r\n\r\n       **This is the spring-xml file**\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  \r\n        &lt;beans  \r\n            xmlns=&quot;http://www.springframework.org/schema/beans&quot;  \r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;  \r\n            xmlns:p=&quot;http://www.springframework.org/schema/p&quot;  \r\n            xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans   \r\n        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&quot;&gt;\r\n        \r\n            &lt;bean id=&quot;connpool&quot;     class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n        \t    &lt;property name=&quot;driverClassName&quot;     value=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;/&gt;\r\n        \t    &lt;property name=&quot;url&quot;     value=&quot;jdbc:sqlserver://localhost:1433;databaseName=ananta&quot;/&gt;\r\n        \t    &lt;property name=&quot;username&quot; value=&quot;sa&quot;/&gt;\r\n        \t    &lt;property name=&quot;password&quot; value=&quot;pass123&quot;/&gt;\r\n            &lt;/bean&gt;\r\n        \r\n            &lt;bean id=&quot;mysessionfactory&quot;   class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\r\n            \t&lt;property name=&quot;dataSource&quot; ref=&quot;connpool&quot;/&gt;\r\n            &lt;/bean&gt;\r\n        \r\n            &lt;bean id=&quot;hibernateTemplate&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTemplate&quot;&gt;\r\n        \t    &lt;property name=&quot;sessionFactory&quot; ref=&quot;mysessionfactory&quot;/&gt;\r\n            &lt;/bean&gt;\r\n        \r\n            &lt;bean id=&quot;edao&quot; class=&quot;com.sdrc.hibernatetemplate.EmployeeHtDao&quot;&gt;\r\n        \t    &lt;property name=&quot;ht&quot; ref=&quot;hibernateTemplate&quot;/&gt;\r\n            &lt;/bean&gt;\r\n        &lt;/beans&gt;","title":"org.springframework.dao.InvalidDataAccessApiUsageException: Write operations are not allowed in read-only mode (FlushMode.MANUAL)","body":"<p>While Executing the program, I'm getting the particular error </p>\n\n<pre><code>**Exception in thread \"main\" org.springframework.dao.InvalidDataAccessApiUsageException: \nWrite operations are not allowed in read-only mode (FlushMode.MANUAL): \nTurn your Session into FlushMode.\nCOMMIT/AUTO or remove 'readOnly' marker from transaction definition.** \n</code></pre>\n\n<p>every time. please someone help me. Here I am giving my codes which contains some error. In the Below code I have taken one employee data which will be stored in the employee table of MSSQL database. While working with only hibernate at that time i can able to persist my data. But, her i am unable to persist my data.</p>\n\n<h2>EmployeeHt.java</h2>\n\n<p>This is the entity class which is mapped to the employee table of MSSQL database</p>\n\n<pre><code> import javax.persistence.Column;\n import javax.persistence.Entity;\n import javax.persistence.Id;\n import javax.persistence.Table;\n\n @Entity\n @Table(name=\"employee\")\n public class EmployeeHt {\n\n    @Id\n    @Column(name=\"id\")\n    private int id;\n\n    @Column(name=\"name\")\n    private String name;\n\n    @Column(name=\"salary\")\n    private int salary;\n\n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n       public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public int getSalary() {\n        return salary;\n    }\n    public void setSalary(int salary) {\n        this.salary = salary;\n    }\n    @Override\n     public String toString() {\n            return \"EmployeeHt [id=\" + id + \", name=\" + name + \", salary=\" +      salary + \"]\";\n        }\n}\n</code></pre>\n\n<h2>EmployeeHtDao.java</h2>\n\n<p>This is the class which contains hibernate template</p>\n\n<pre><code>    import org.springframework.orm.hibernate5.HibernateTemplate;\n\n    public class EmployeeHtDao {\n\n        private HibernateTemplate ht;   \n        public void setHt(HibernateTemplate ht) {\n            this.ht = ht;\n     }  \n     public void saveEmployee(EmployeeHt e){\n        ht.save(e);\n     }  \n   }\n</code></pre>\n\n<h2>EmployeeHtTest.java</h2>\n\n<pre><code>   **This is the main class**\n\n   import org.springframework.context.ApplicationContext;\n      import    org.springframework.context.support.ClassPathXmlApplicationContext;\n\n        public class EmployeeHtTest {\n\n        private static ApplicationContext context;\n        public static void main(String[] args) {        \n        context = new     ClassPathXmlApplicationContext(\"hibernateTemplate.xml\");\n         EmployeeHtDao dao=(EmployeeHtDao) context.getBean(\"edao\");     \n         EmployeeHt e=new EmployeeHt();\n        e.setId(104);\n        e.setName(\"Prangyan\");\n        e.setSalary(30000);     \n        dao.saveEmployee(e);\n    }\n }\n</code></pre>\n\n<h2>hibernateTemplate.xml</h2>\n\n<pre><code>   **This is the spring-xml file**\n\n &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;  \n    &lt;beans  \n        xmlns=\"http://www.springframework.org/schema/beans\"  \n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"  \n        xmlns:p=\"http://www.springframework.org/schema/p\"  \n        xsi:schemaLocation=\"http://www.springframework.org/schema/beans   \n    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\"&gt;\n\n        &lt;bean id=\"connpool\"     class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n            &lt;property name=\"driverClassName\"     value=\"com.microsoft.sqlserver.jdbc.SQLServerDriver\"/&gt;\n            &lt;property name=\"url\"     value=\"jdbc:sqlserver://localhost:1433;databaseName=ananta\"/&gt;\n            &lt;property name=\"username\" value=\"sa\"/&gt;\n            &lt;property name=\"password\" value=\"pass123\"/&gt;\n        &lt;/bean&gt;\n\n        &lt;bean id=\"mysessionfactory\"   class=\"org.springframework.orm.hibernate5.LocalSessionFactoryBean\"&gt;\n            &lt;property name=\"dataSource\" ref=\"connpool\"/&gt;\n        &lt;/bean&gt;\n\n        &lt;bean id=\"hibernateTemplate\" class=\"org.springframework.orm.hibernate5.HibernateTemplate\"&gt;\n            &lt;property name=\"sessionFactory\" ref=\"mysessionfactory\"/&gt;\n        &lt;/bean&gt;\n\n        &lt;bean id=\"edao\" class=\"com.sdrc.hibernatetemplate.EmployeeHtDao\"&gt;\n            &lt;property name=\"ht\" ref=\"hibernateTemplate\"/&gt;\n        &lt;/bean&gt;\n    &lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","nullpointerexception"],"comments":[{"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1268159177,"post_id":2411487,"comment_id":2392413,"body_markdown":"What is the context? Are there multiple threads involved? I&#39;ve had issues trying to get the stack trace of an exception in a SwingWorker.","body":"What is the context? Are there multiple threads involved? I&#39;ve had issues trying to get the stack trace of an exception in a SwingWorker."},{"owner":{"account_id":29609,"reputation":5237,"user_id":80163,"accept_rate":33,"display_name":"Edward Shtern"},"score":0,"creation_date":1268159727,"post_id":2411487,"comment_id":2392487,"body_markdown":"No threading involved here, just plain old Java.","body":"No threading involved here, just plain old Java."},{"owner":{"account_id":29609,"reputation":5237,"user_id":80163,"accept_rate":33,"display_name":"Edward Shtern"},"score":1,"creation_date":1268240339,"post_id":2411487,"comment_id":2400675,"body_markdown":"@Bozho - nope - not sure how to reproduce the NullPointer yet.","body":"@Bozho - nope - not sure how to reproduce the NullPointer yet."},{"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"score":1,"creation_date":1327950267,"post_id":2411487,"comment_id":11383527,"body_markdown":"related: http://stackoverflow.com/questions/1076191/nullpointerexception-stack-trace-not-available-without-debug-agent","body":"related: <a href=\"http://stackoverflow.com/questions/1076191/nullpointerexception-stack-trace-not-available-without-debug-agent\" title=\"nullpointerexception stack trace not available without debug agent\">stackoverflow.com/questions/1076191/&hellip;</a>"},{"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1512672457,"post_id":2411487,"comment_id":82363472,"body_markdown":"More info on `-XX:-OmitStackTraceInFastThrow` in the dup: https://stackoverflow.com/questions/4659151/recurring-exception-without-a-stack-trace-how-to-reset","body":"More info on <code>-XX:-OmitStackTraceInFastThrow</code> in the dup: <a href=\"https://stackoverflow.com/questions/4659151/recurring-exception-without-a-stack-trace-how-to-reset\" title=\"recurring exception without a stack trace how to reset\">stackoverflow.com/questions/4659151/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9400,"reputation":54564,"user_id":17343,"accept_rate":81,"display_name":"Peter Lang"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1268159459,"creation_date":1268159158,"answer_id":2411502,"question_id":2411487,"body_markdown":"[`exception.toString`][1] does not give you the StackTrace, it only returns\r\n\r\n&gt; a short description of this throwable.\r\n&gt; The result is the concatenation of:\r\n&gt; \r\n&gt;     * the name of the class of this object\r\n&gt;     * &quot;: &quot; (a colon and a space)\r\n&gt;     * the result of invoking this object&#39;s getLocalizedMessage() method\r\n\r\n---\r\n\r\nUse [`exception.printStackTrace`][2] instead to output the StackTrace.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Throwable.html#toString%28%29\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/lang/Throwable.html#printStackTrace%28%29\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/lang/Throwable.html#getStackTrace%28%29","title":"NullPointerException in Java with no StackTrace","body":"<p><a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Throwable.html#toString%28%29\" rel=\"noreferrer\"><code>exception.toString</code></a> does not give you the StackTrace, it only returns</p>\n\n<blockquote>\n  <p>a short description of this throwable.\n  The result is the concatenation of:</p>\n\n<pre><code>* the name of the class of this object\n* \": \" (a colon and a space)\n* the result of invoking this object's getLocalizedMessage() method\n</code></pre>\n</blockquote>\n\n<hr>\n\n<p>Use <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Throwable.html#printStackTrace%28%29\" rel=\"noreferrer\"><code>exception.printStackTrace</code></a> instead to output the StackTrace.</p>\n"},{"tags":[],"owner":{"account_id":108204,"reputation":39,"user_id":287315,"display_name":"Sheldon Young"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1268159264,"creation_date":1268159264,"answer_id":2411509,"question_id":2411487,"body_markdown":"`toString()` only returns the exception name and the optional message.  I would suggest calling \r\n\r\n    exception.printStackTrace()\r\n\r\nto dump the message, or if you need the gory details:\r\n\r\n     StackTraceElement[] trace = exception.getStackTrace()","title":"NullPointerException in Java with no StackTrace","body":"<p><code>toString()</code> only returns the exception name and the optional message.  I would suggest calling </p>\n\n<pre><code>exception.printStackTrace()\n</code></pre>\n\n<p>to dump the message, or if you need the gory details:</p>\n\n<pre><code> StackTraceElement[] trace = exception.getStackTrace()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":88955,"reputation":6216,"user_id":245747,"accept_rate":92,"display_name":"Michael D. Irizarry"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1268159469,"creation_date":1268159469,"answer_id":2411531,"question_id":2411487,"body_markdown":"This will output the Exception, use only to debug you should handle you exceptions better.\r\n\r\n    import java.io.PrintWriter;\r\n    import java.io.StringWriter;\r\n        public static String getStackTrace(Throwable t)\r\n        {\r\n            StringWriter sw = new StringWriter();\r\n            PrintWriter pw = new PrintWriter(sw, true);\r\n            t.printStackTrace(pw);\r\n            pw.flush();\r\n            sw.flush();\r\n            return sw.toString();\r\n        }\r\n\r\n","title":"NullPointerException in Java with no StackTrace","body":"<p>This will output the Exception, use only to debug you should handle you exceptions better.</p>\n\n<pre><code>import java.io.PrintWriter;\nimport java.io.StringWriter;\n    public static String getStackTrace(Throwable t)\n    {\n        StringWriter sw = new StringWriter();\n        PrintWriter pw = new PrintWriter(sw, true);\n        t.printStackTrace(pw);\n        pw.flush();\n        sw.flush();\n        return sw.toString();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":57112,"reputation":37790,"user_id":171061,"accept_rate":76,"display_name":"Steven Schlansker"},"down_vote_count":2,"up_vote_count":71,"is_accepted":false,"score":69,"last_activity_date":1268160605,"creation_date":1268160605,"answer_id":2411660,"question_id":2411487,"body_markdown":"As you mentioned in a comment, you&#39;re using log4j.  I discovered (inadvertently) a place where I had written\r\n\r\n    LOG.error(exc);\r\n\r\ninstead of the typical\r\n\r\n    LOG.error(&quot;Some informative message&quot;, e);\r\n\r\nthrough laziness or perhaps just not thinking about it.  The unfortunate part of this is that it doesn&#39;t behave as you expect.  The logger API actually takes Object as the first argument, not a string - and then it calls toString() on the argument.  So instead of getting the nice pretty stack trace, it just prints out the toString - which in the case of NPE is pretty useless.\r\n\r\nPerhaps this is what you&#39;re experiencing?","title":"NullPointerException in Java with no StackTrace","body":"<p>As you mentioned in a comment, you're using log4j.  I discovered (inadvertently) a place where I had written</p>\n\n<pre><code>LOG.error(exc);\n</code></pre>\n\n<p>instead of the typical</p>\n\n<pre><code>LOG.error(\"Some informative message\", e);\n</code></pre>\n\n<p>through laziness or perhaps just not thinking about it.  The unfortunate part of this is that it doesn't behave as you expect.  The logger API actually takes Object as the first argument, not a string - and then it calls toString() on the argument.  So instead of getting the nice pretty stack trace, it just prints out the toString - which in the case of NPE is pretty useless.</p>\n\n<p>Perhaps this is what you're experiencing?</p>\n"},{"tags":[],"owner":{"account_id":57112,"reputation":37790,"user_id":171061,"accept_rate":76,"display_name":"Steven Schlansker"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1268165644,"creation_date":1268165644,"answer_id":2412217,"question_id":2411487,"body_markdown":"Alternate suggestion - if you&#39;re using Eclipse, you could set a breakpoint on NullPointerException itself (in the Debug perspective, go to the &quot;Breakpoints&quot; tab and click on the little icon that has a ! in it)\r\n\r\nCheck both the &quot;caught&quot; and &quot;uncaught&quot; options - now when you trigger the NPE, you&#39;ll immediately breakpoint and you can then step through and see how exactly it is handled and why you&#39;re not getting a stack trace.","title":"NullPointerException in Java with no StackTrace","body":"<p>Alternate suggestion - if you're using Eclipse, you could set a breakpoint on NullPointerException itself (in the Debug perspective, go to the \"Breakpoints\" tab and click on the little icon that has a ! in it)</p>\n\n<p>Check both the \"caught\" and \"uncaught\" options - now when you trigger the NPE, you'll immediately breakpoint and you can then step through and see how exactly it is handled and why you're not getting a stack trace.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1268175089,"creation_date":1268174507,"answer_id":2413168,"question_id":2411487,"body_markdown":"(Your question is still unclear on whether your code is calling `printStackTrace()` or this is being done by a logging handler.)\r\n\r\nHere are some possible explanations about what might be happening:\r\n\r\n  - The logger / handler being used has been configured to only output the exception&#39;s message string, not a full stack trace.\r\n\r\n  - Your application (or some third-party library) is logging the exception using `LOG.error(ex);` rather than the 2-argument form of (for example) the log4j Logger method.\r\n\r\n  - The message is coming from somewhere different to where you think it is; e.g. it is actually coming some third-party library method, or some random stuff left over from earlier attempts to debug.\r\n\r\n  - The exception that is being logged has overloaded some methods to obscure the stacktrace.  If that is the case, the exception won&#39;t be a genuine NullPointerException, but will be some custom subtype of NPE or even some unconnected exception.  \r\n\r\nI think that the last possible explanation is pretty unlikely, but people do at least contemplate doing this kind of thing to &quot;prevent&quot; reverse engineering.  Of course it only really succeeds in making life difficult for honest developers.\r\n","title":"NullPointerException in Java with no StackTrace","body":"<p>(Your question is still unclear on whether your code is calling <code>printStackTrace()</code> or this is being done by a logging handler.)</p>\n\n<p>Here are some possible explanations about what might be happening:</p>\n\n<ul>\n<li><p>The logger / handler being used has been configured to only output the exception's message string, not a full stack trace.</p></li>\n<li><p>Your application (or some third-party library) is logging the exception using <code>LOG.error(ex);</code> rather than the 2-argument form of (for example) the log4j Logger method.</p></li>\n<li><p>The message is coming from somewhere different to where you think it is; e.g. it is actually coming some third-party library method, or some random stuff left over from earlier attempts to debug.</p></li>\n<li><p>The exception that is being logged has overloaded some methods to obscure the stacktrace.  If that is the case, the exception won't be a genuine NullPointerException, but will be some custom subtype of NPE or even some unconnected exception.  </p></li>\n</ul>\n\n<p>I think that the last possible explanation is pretty unlikely, but people do at least contemplate doing this kind of thing to \"prevent\" reverse engineering.  Of course it only really succeeds in making life difficult for honest developers.</p>\n"},{"tags":[],"owner":{"account_id":4177,"reputation":32472,"user_id":6198,"accept_rate":86,"display_name":"Matt Solnit"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1268182467,"creation_date":1268177175,"answer_id":2413404,"question_id":2411487,"body_markdown":"We have seen this same behavior in the past.  It turned out that, for some crazy reason, if a NullPointerException occurred at the same place in the code multiple times, after a while  using `Log.error(String, Throwable)` would stop including full stack traces.\r\n\r\nTry looking further back in your log.  You may find the culprit.\r\n\r\n__EDIT:__ [this bug][1] sounds relevant, but it was fixed so long ago it&#39;s probably not the cause.\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=4292742","title":"NullPointerException in Java with no StackTrace","body":"<p>We have seen this same behavior in the past.  It turned out that, for some crazy reason, if a NullPointerException occurred at the same place in the code multiple times, after a while  using <code>Log.error(String, Throwable)</code> would stop including full stack traces.</p>\n<p>Try looking further back in your log.  You may find the culprit.</p>\n<p><strong>EDIT:</strong> <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4292742\" rel=\"nofollow noreferrer\">this bug</a> sounds relevant, but it was fixed so long ago it's probably not the cause.</p>\n"},{"tags":[],"owner":{"account_id":79673,"reputation":40911,"user_id":225757,"accept_rate":72,"display_name":"Roland Illig"},"down_vote_count":1,"up_vote_count":566,"is_accepted":true,"score":565,"last_activity_date":1666814298,"creation_date":1276119135,"answer_id":3010106,"question_id":2411487,"body_markdown":"You are probably using the HotSpot JVM (originally by Sun Microsystems, later bought by Oracle, part of the OpenJDK), which performs a lot of optimization. To get the stack traces back, you need to pass the following option to the JVM:\r\n\r\n```\r\n-XX:-OmitStackTraceInFastThrow\r\n```\r\n\r\nThe optimization is that when an exception (typically a `NullPointerException`) occurs for the first time, the full stack trace is printed and the JVM remembers the stack trace (or maybe just the location of the code). When that exception occurs often enough, the stack trace is not printed anymore, both to achieve better performance and not to flood the log with identical stack traces.\r\n\r\nTo see how this is implemented in the HotSpot JVM, [grab a copy of it](https://hg.openjdk.java.net/jdk/jdk/) and search for the global variable `OmitStackTraceInFastThrow`. Last time I looked at the code (in 2019), it was in the file [graphKit.cpp](https://hg.openjdk.java.net/jdk/jdk/file/tip/src/hotspot/share/opto/graphKit.cpp).","title":"NullPointerException in Java with no StackTrace","body":"<p>You are probably using the HotSpot JVM (originally by Sun Microsystems, later bought by Oracle, part of the OpenJDK), which performs a lot of optimization. To get the stack traces back, you need to pass the following option to the JVM:</p>\n<pre><code>-XX:-OmitStackTraceInFastThrow\n</code></pre>\n<p>The optimization is that when an exception (typically a <code>NullPointerException</code>) occurs for the first time, the full stack trace is printed and the JVM remembers the stack trace (or maybe just the location of the code). When that exception occurs often enough, the stack trace is not printed anymore, both to achieve better performance and not to flood the log with identical stack traces.</p>\n<p>To see how this is implemented in the HotSpot JVM, <a href=\"https://hg.openjdk.java.net/jdk/jdk/\" rel=\"noreferrer\">grab a copy of it</a> and search for the global variable <code>OmitStackTraceInFastThrow</code>. Last time I looked at the code (in 2019), it was in the file <a href=\"https://hg.openjdk.java.net/jdk/jdk/file/tip/src/hotspot/share/opto/graphKit.cpp\" rel=\"noreferrer\">graphKit.cpp</a>.</p>\n"},{"tags":[],"owner":{"account_id":42226,"reputation":1987,"user_id":122975,"accept_rate":42,"display_name":"Beno&#238;t Gu&#233;rout"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1318628234,"creation_date":1318625891,"answer_id":7773481,"question_id":2411487,"body_markdown":"Here is an explanation : [Hotspot caused exceptions to lose their stack traces in production – and the fix][1]\r\n\r\nI&#39;ve tested it on Mac OS X\r\n\r\n - java version &quot;1.6.0_26&quot;\r\n - Java(TM) SE Runtime Environment (build 1.6.0_26-b03-383-11A511) \r\n - Java HotSpot(TM) 64-Bit Server VM (build 20.1-b02-383, mixed mode)\r\n\r\n\r\n\r\n\r\n        Object string = &quot;abcd&quot;;\r\n        int i = 0;\r\n        while (i &lt; 12289) {\r\n            i++;\r\n            try {\r\n                Integer a = (Integer) string;\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\nFor this specific fragment of code, 12288 iterations (+frequency?) seems to be the limit where JVM has decided to use preallocated exception...\r\n\r\n  [1]: http://jawspeak.com/2010/05/26/hotspot-caused-exceptions-to-lose-their-stack-traces-in-production-and-the-fix/\r\n","title":"NullPointerException in Java with no StackTrace","body":"<p>Here is an explanation : <a href=\"http://jawspeak.com/2010/05/26/hotspot-caused-exceptions-to-lose-their-stack-traces-in-production-and-the-fix/\" rel=\"noreferrer\">Hotspot caused exceptions to lose their stack traces in production – and the fix</a></p>\n\n<p>I've tested it on Mac OS X</p>\n\n<ul>\n<li>java version \"1.6.0_26\"</li>\n<li>Java(TM) SE Runtime Environment (build 1.6.0_26-b03-383-11A511) </li>\n<li><p>Java HotSpot(TM) 64-Bit Server VM (build 20.1-b02-383, mixed mode)</p>\n\n<pre><code>Object string = \"abcd\";\nint i = 0;\nwhile (i &lt; 12289) {\n    i++;\n    try {\n        Integer a = (Integer) string;\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre></li>\n</ul>\n\n<p>For this specific fragment of code, 12288 iterations (+frequency?) seems to be the limit where JVM has decided to use preallocated exception...</p>\n"},{"tags":[],"owner":{"account_id":5728567,"reputation":427,"user_id":4524838,"accept_rate":50,"display_name":"Roland Illig"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496841419,"creation_date":1496841419,"answer_id":44413805,"question_id":2411487,"body_markdown":"When you are using AspectJ in your project, it may happen that some aspect hides its portion of the stack trace. For example, today I had:\r\n\r\n    java.lang.NullPointerException:\r\n      at com.company.product.MyTest.test(MyTest.java:37)\r\n\r\nThis stack trace was printed when running the test via Maven&#39;s surefire.\r\n\r\nOn the other hand, when running the test in IntelliJ, a different stack trace was printed:\r\n\r\n    java.lang.NullPointerException\r\n      at com.company.product.library.ArgumentChecker.nonNull(ArgumentChecker.java:67)\r\n      at ...\r\n      at com.company.product.aspects.CheckArgumentsAspect.wrap(CheckArgumentsAspect.java:82)\r\n      at ...\r\n      at com.company.product.MyTest.test(MyTest.java:37)\r\n\r\n","title":"NullPointerException in Java with no StackTrace","body":"<p>When you are using AspectJ in your project, it may happen that some aspect hides its portion of the stack trace. For example, today I had:</p>\n\n<pre><code>java.lang.NullPointerException:\n  at com.company.product.MyTest.test(MyTest.java:37)\n</code></pre>\n\n<p>This stack trace was printed when running the test via Maven's surefire.</p>\n\n<p>On the other hand, when running the test in IntelliJ, a different stack trace was printed:</p>\n\n<pre><code>java.lang.NullPointerException\n  at com.company.product.library.ArgumentChecker.nonNull(ArgumentChecker.java:67)\n  at ...\n  at com.company.product.aspects.CheckArgumentsAspect.wrap(CheckArgumentsAspect.java:82)\n  at ...\n  at com.company.product.MyTest.test(MyTest.java:37)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15806075,"reputation":141,"user_id":11404561,"display_name":"S4RUUL"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661229133,"creation_date":1661229133,"answer_id":73453158,"question_id":2411487,"body_markdown":"VM stops outputting the stack trace of the exceptions which have been thrown a few times. This is a one of optimizations which happens in C2 compile.\r\n\r\nAccording to the source code of OpenJDK, this optimization is applied to following exceptions:\r\n\r\n-NullPointerException\r\n-ArithmeticException\r\n-ArrayIndexOutOfBoundsException\r\n-ArrayStoreException\r\n-ClassCastException","title":"NullPointerException in Java with no StackTrace","body":"<p>VM stops outputting the stack trace of the exceptions which have been thrown a few times. This is a one of optimizations which happens in C2 compile.</p>\n<p>According to the source code of OpenJDK, this optimization is applied to following exceptions:</p>\n<p>-NullPointerException\n-ArithmeticException\n-ArrayIndexOutOfBoundsException\n-ArrayStoreException\n-ClassCastException</p>\n"},{"tags":[],"owner":{"account_id":10026302,"reputation":865,"user_id":7414389,"accept_rate":92,"display_name":"DMC19"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694692228,"creation_date":1694692228,"answer_id":77104616,"question_id":2411487,"body_markdown":"I have solved this issue printing stackTrace inside for loop.\r\n\r\n \r\n\r\n    for (StackTraceElement st : e.getStackTrace()) {\r\n       LOGGER.error(st.toString());\r\n    }\r\n\r\nWith this, it prints the whole stackTrace. Using other methods I can&#39;t obtain more info.","title":"NullPointerException in Java with no StackTrace","body":"<p>I have solved this issue printing stackTrace inside for loop.</p>\n<pre><code>for (StackTraceElement st : e.getStackTrace()) {\n   LOGGER.error(st.toString());\n}\n</code></pre>\n<p>With this, it prints the whole stackTrace. Using other methods I can't obtain more info.</p>\n"}],"owner":{"account_id":29609,"reputation":5237,"user_id":80163,"accept_rate":33,"display_name":"Edward Shtern"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156588,"favorite_count":0,"down_vote_count":0,"up_vote_count":440,"accepted_answer_id":3010106,"answer_count":12,"score":440,"last_activity_date":1694692228,"creation_date":1268159033,"question_id":2411487,"body_markdown":"I&#39;ve had instances of our Java code catch a `NullPointerException`, but when I try to log the StackTrace (which basically ends up calling `Throwable.printStackTrace()` ), all I get is:\r\n\r\n    java.lang.NullPointerException\r\n\r\nHas anyone else come across this? I tried googling for &quot;java null pointer empty stack trace&quot; but didn&#39;t come across anything like this.","title":"NullPointerException in Java with no StackTrace","body":"<p>I've had instances of our Java code catch a <code>NullPointerException</code>, but when I try to log the StackTrace (which basically ends up calling <code>Throwable.printStackTrace()</code> ), all I get is:</p>\n\n<pre><code>java.lang.NullPointerException\n</code></pre>\n\n<p>Has anyone else come across this? I tried googling for \"java null pointer empty stack trace\" but didn't come across anything like this.</p>\n"},{"tags":["java","kubernetes","hashicorp-vault","kubernetes-secrets"],"owner":{"account_id":14660694,"reputation":361,"user_id":10588848,"display_name":"Johnnes Souza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694692187,"creation_date":1694665163,"question_id":77101773,"body_markdown":"I would like to have an environment variable that its value is a JSON String, that is built from the `ExternalSecrets` variables.\r\n\r\n```yaml\r\napiVersion: external-secrets.io/v1beta1\r\nkind: ExternalSecret\r\nmetadata:\r\n  name: my-app-external-secret\r\nspec:\r\n  refreshInterval: &quot;1h&quot;\r\n  secretStoreRef:\r\n    name: hashicorp-vault\r\n    kind: ClusterSecretStore\r\n  target:\r\n    creationPolicy: Owner\r\n  data:\r\n\r\n  - secretKey: SECRET_KEY_A\r\n    remoteRef:\r\n      key: microservice/my-app\r\n      property: secret_key_a\r\n\r\n  - secretKey: SECRET_KEY_B\r\n    remoteRef:\r\n      key: microservice/my-app\r\n      property: secret_key_b\r\n```\r\n\r\n\r\nThe output should look like:\r\n```json\r\n{\r\n    &quot;A&quot;: {\r\n      &quot;secretKey&quot;: &quot;&lt;SECRET_KEY_A&gt;&quot;,\r\n      &quot;someStaticValue&quot;: &quot;ABCDEF&quot;\r\n    },\r\n    &quot;B&quot;: {\r\n      &quot;secretKey&quot;: &quot;&lt;SECRET_KEY_B&gt;&quot;,\r\n      &quot;someStaticValue&quot;: &quot;FEDCBA&quot;\r\n    }\r\n}\r\n```\r\nSo then I could export it in the `Deployment` and be able to use it as a JSON string, something that might look like this:\r\n```yaml\r\n- name: JSON_SECRETS\r\n  valueFrom:\r\n    secretKeyRef:\r\n      name: my-app-external-secret\r\n      key: jsonSecret\r\n```\r\n\r\nI&#39;ve tried some stuff but didn&#39;t get it to work.\r\nI can use `ConfigMap` if needed. I&#39;m trying to achieve the following behavior in my app:\r\nWhenever I need to implement a new secret, there is not need to modify the source code, only wait the refresh time or restart the pod. The application already knows how to handle the JSON, but I&#39;m unable to create this JSON in the Kubernetes. It is a Java application, it doesn&#39;t need to be a JSON, it can also be a list.\r\n","title":"Is there a way to build set a variable as a JSON string in Kubernetes?","body":"<p>I would like to have an environment variable that its value is a JSON String, that is built from the <code>ExternalSecrets</code> variables.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>apiVersion: external-secrets.io/v1beta1\nkind: ExternalSecret\nmetadata:\n  name: my-app-external-secret\nspec:\n  refreshInterval: &quot;1h&quot;\n  secretStoreRef:\n    name: hashicorp-vault\n    kind: ClusterSecretStore\n  target:\n    creationPolicy: Owner\n  data:\n\n  - secretKey: SECRET_KEY_A\n    remoteRef:\n      key: microservice/my-app\n      property: secret_key_a\n\n  - secretKey: SECRET_KEY_B\n    remoteRef:\n      key: microservice/my-app\n      property: secret_key_b\n</code></pre>\n<p>The output should look like:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;A&quot;: {\n      &quot;secretKey&quot;: &quot;&lt;SECRET_KEY_A&gt;&quot;,\n      &quot;someStaticValue&quot;: &quot;ABCDEF&quot;\n    },\n    &quot;B&quot;: {\n      &quot;secretKey&quot;: &quot;&lt;SECRET_KEY_B&gt;&quot;,\n      &quot;someStaticValue&quot;: &quot;FEDCBA&quot;\n    }\n}\n</code></pre>\n<p>So then I could export it in the <code>Deployment</code> and be able to use it as a JSON string, something that might look like this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>- name: JSON_SECRETS\n  valueFrom:\n    secretKeyRef:\n      name: my-app-external-secret\n      key: jsonSecret\n</code></pre>\n<p>I've tried some stuff but didn't get it to work.\nI can use <code>ConfigMap</code> if needed. I'm trying to achieve the following behavior in my app:\nWhenever I need to implement a new secret, there is not need to modify the source code, only wait the refresh time or restart the pod. The application already knows how to handle the JSON, but I'm unable to create this JSON in the Kubernetes. It is a Java application, it doesn't need to be a JSON, it can also be a list.</p>\n"},{"tags":["java","random"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1694679889,"post_id":77103007,"comment_id":135923701,"body_markdown":"Did you want to generate a random number between 0 and 10 or something like that? [See the many answers here](https://stackoverflow.com/q/363681/5133585).","body":"Did you want to generate a random number between 0 and 10 or something like that? <a href=\"https://stackoverflow.com/q/363681/5133585\">See the many answers here</a>."},{"owner":{"account_id":169547,"reputation":2331,"user_id":395693,"accept_rate":85,"display_name":"HellishHeat"},"score":0,"creation_date":1694680234,"post_id":77103007,"comment_id":135923766,"body_markdown":"No, I was just playing around with Random, and noticed this peculiarity.","body":"No, I was just playing around with Random, and noticed this peculiarity."},{"owner":{"account_id":213468,"reputation":103494,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1694687171,"post_id":77103007,"comment_id":135925257,"body_markdown":"It is not a peculiarity, nor is it misbehaving, it is intentional and well-known behaviour of pseudo-random generators like `Random`, and it is even explicitly called out in the [documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Random.html): _&quot;If two instances of `Random` are created with the same seed, and the same sequence of method calls is made for each, they will generate and return identical sequences of numbers.&quot;_","body":"It is not a peculiarity, nor is it misbehaving, it is intentional and well-known behaviour of pseudo-random generators like <code>Random</code>, and it is even explicitly called out in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Random.html\" rel=\"nofollow noreferrer\">documentation</a>: <i>&quot;If two instances of <code>Random</code> are created with the same seed, and the same sequence of method calls is made for each, they will generate and return identical sequences of numbers.&quot;</i>"},{"owner":{"account_id":169547,"reputation":2331,"user_id":395693,"accept_rate":85,"display_name":"HellishHeat"},"score":0,"creation_date":1694687575,"post_id":77103007,"comment_id":135925348,"body_markdown":"...but, yes, during my play time, I was attempting to get a random number between 0 and 10. For shame!","body":"...but, yes, during my play time, I was attempting to get a random number between 0 and 10. For shame!"}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1694679892,"creation_date":1694679892,"answer_id":77103033,"question_id":77103007,"body_markdown":"It is because you define a custom `seed` that is always the same with each run. From the JavaDoc:\r\n\r\n&gt; The seed is the initial value of the internal state of the pseudorandom\r\nnumber generator which is maintained by method {@link #next}.\r\n\r\nThis is particularly useful for running tests.","title":"Why is Random() not behaving as expected?","body":"<p>It is because you define a custom <code>seed</code> that is always the same with each run. From the JavaDoc:</p>\n<blockquote>\n<p>The seed is the initial value of the internal state of the pseudorandom\nnumber generator which is maintained by method {@link #next}.</p>\n</blockquote>\n<p>This is particularly useful for running tests.</p>\n"}],"owner":{"account_id":169547,"reputation":2331,"user_id":395693,"accept_rate":85,"display_name":"HellishHeat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1694680017,"accepted_answer_id":77103033,"answer_count":1,"score":3,"last_activity_date":1694691597,"creation_date":1694679727,"question_id":77103007,"body_markdown":"I&#39;ve been scratching my head over this for long enough, It&#39;s time for the big guns:\r\n\r\n    System.out.println(new Random(10).nextInt());\r\n\r\nwhy does the above seem to print `-1157793070`, always?","title":"Why is Random() not behaving as expected?","body":"<p>I've been scratching my head over this for long enough, It's time for the big guns:</p>\n<pre><code>System.out.println(new Random(10).nextInt());\n</code></pre>\n<p>why does the above seem to print <code>-1157793070</code>, always?</p>\n"},{"tags":["java","selenium","selenium-webdriver","testng"],"answers":[{"tags":[],"owner":{"account_id":4807010,"reputation":151,"user_id":3881713,"display_name":"QAMate.com"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407998677,"creation_date":1407998677,"answer_id":25301652,"question_id":25295089,"body_markdown":"You can not use @DataProvider and @Parameters at the same time. Pass all the parameters through @DataProvider.","title":"Using both @DataProvider and @Parameters","body":"<p>You can not use @DataProvider and @Parameters at the same time. Pass all the parameters through @DataProvider.</p>\n"},{"tags":[],"owner":{"account_id":1940875,"reputation":2370,"user_id":2310411,"accept_rate":58,"display_name":"Vignesh Paramasivam"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1408010011,"creation_date":1408009648,"answer_id":25305018,"question_id":25295089,"body_markdown":"@DataProvider is one of the ways to pass parameters to a method. You **cannot** use both for same method. \r\n\r\nLooking at your question, you can simply add the brand to the DataProvider method something like,\r\n\r\n      @DataProvider(name=&quot;dpCGA&quot;)\r\n      public Object[][] data() {\r\n    \r\n        return new Object[][] { \r\n            {&quot;brand&quot;, &quot;email1&quot;}, \r\n            {&quot;brand&quot;, &quot;email2&quot;}\r\n         };\r\n      }\r\n\r\nand pass it to the method,\r\n    \t\r\n    @Test(dataProvider=&quot;dpCGA&quot;, groups={&quot;CGA&quot;})\r\n    public void createAccount(String brand, String email) {\r\n        setBrand(brand);\r\n        createAccount(email);\r\n    }\r\n    \t\t\r\n    \t\t","title":"Using both @DataProvider and @Parameters","body":"<p>@DataProvider is one of the ways to pass parameters to a method. You <strong>cannot</strong> use both for same method. </p>\n\n<p>Looking at your question, you can simply add the brand to the DataProvider method something like,</p>\n\n<pre><code>  @DataProvider(name=\"dpCGA\")\n  public Object[][] data() {\n\n    return new Object[][] { \n        {\"brand\", \"email1\"}, \n        {\"brand\", \"email2\"}\n     };\n  }\n</code></pre>\n\n<p>and pass it to the method,</p>\n\n<pre><code>@Test(dataProvider=\"dpCGA\", groups={\"CGA\"})\npublic void createAccount(String brand, String email) {\n    setBrand(brand);\n    createAccount(email);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1082221,"reputation":7484,"user_id":1078886,"accept_rate":52,"display_name":"try-catch-finally"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497790957,"creation_date":1497790957,"answer_id":44615283,"question_id":25295089,"body_markdown":"As other have already pointed out, receiving `DataProvider` results along with suite parameters is not possible. This answer proves this by stepping through the code:\r\n\r\n 1. The [`Invoker.invokeTestMethods()`][invokeTestMethodsRef] will call  [`Parameters.handleParameters()`][handleParametersRef].\r\n 2. There it will try to lookup a [`DataProvider`][dataProviderLookupRef]\r\n  - If found, it will be invoked. And through it does not add the suite parameters afterwards, [it passes the context][dataProviderReceivesContextRef] to the `DataProvider`\r\n  - If not found, it will resort to the [`xmlParameters`][xmlParametersRef]\r\n\r\nThough a `DataProvider` can receive the context via a `ITestContext` this only makes parameters available configured in the suite (XML), not specified through system properties.\r\n\r\n[invokeTestMethodsRef]: https://github.com/cbeust/testng/blob/6.11/src/main/java/org/testng/internal/Invoker.java#L1059\r\n[handleParametersRef]: https://github.com/cbeust/testng/blob/6.11/src/main/java/org/testng/internal/Parameters.java#L485\r\n[dataProviderLookupRef]: https://github.com/cbeust/testng/blob/6.11/src/main/java/org/testng/internal/Parameters.java#L497\r\n[xmlParametersRef]: https://github.com/cbeust/testng/blob/6.11/src/main/java/org/testng/internal/Parameters.java#L563\r\n[dataProviderReceivesContextRef]: https://github.com/cbeust/testng/blob/6.11/src/main/java/org/testng/internal/Parameters.java#L513\r\n","title":"Using both @DataProvider and @Parameters","body":"<p>As other have already pointed out, receiving <code>DataProvider</code> results along with suite parameters is not possible. This answer proves this by stepping through the code:</p>\n\n<ol>\n<li>The <a href=\"https://github.com/cbeust/testng/blob/6.11/src/main/java/org/testng/internal/Invoker.java#L1059\" rel=\"nofollow noreferrer\"><code>Invoker.invokeTestMethods()</code></a> will call  <a href=\"https://github.com/cbeust/testng/blob/6.11/src/main/java/org/testng/internal/Parameters.java#L485\" rel=\"nofollow noreferrer\"><code>Parameters.handleParameters()</code></a>.</li>\n<li>There it will try to lookup a <a href=\"https://github.com/cbeust/testng/blob/6.11/src/main/java/org/testng/internal/Parameters.java#L497\" rel=\"nofollow noreferrer\"><code>DataProvider</code></a>\n\n<ul>\n<li>If found, it will be invoked. And through it does not add the suite parameters afterwards, <a href=\"https://github.com/cbeust/testng/blob/6.11/src/main/java/org/testng/internal/Parameters.java#L513\" rel=\"nofollow noreferrer\">it passes the context</a> to the <code>DataProvider</code></li>\n<li>If not found, it will resort to the <a href=\"https://github.com/cbeust/testng/blob/6.11/src/main/java/org/testng/internal/Parameters.java#L563\" rel=\"nofollow noreferrer\"><code>xmlParameters</code></a></li>\n</ul></li>\n</ol>\n\n<p>Though a <code>DataProvider</code> can receive the context via a <code>ITestContext</code> this only makes parameters available configured in the suite (XML), not specified through system properties.</p>\n"},{"tags":[],"owner":{"account_id":510882,"reputation":3037,"user_id":1536133,"accept_rate":45,"display_name":"Gabriel Furstenheim"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586874220,"creation_date":1586874220,"answer_id":61210022,"question_id":25295089,"body_markdown":"Depending on your case it might actually be &quot;doable&quot;. In particular, if you only have one instance of &quot;Parameters&quot;, for example because you are passing the environment (development, beta...), then you could do:\r\n\r\n \r\n    private String suiteBrand;\r\n\r\n    @Parameters({&quot;Brand&quot;})\r\n    @BeforeSuite\r\n    public void setUp (final String Brand) {\r\n       suiteBrand = Brand;\r\n    }\r\n\r\n    \r\n    @Test(dataProvider=&quot;dpCGA&quot;, groups={&quot;CGA&quot;})\r\n    public void createAccount(String email) {\r\n        brand = suiteBrand;\r\n        setBrand(brand);\r\n        createAccount(email);\r\n    }\r\n\r\nBeforeSuite will be executed with the parameters and you can access them in the test that is parameterized by the data provider.\r\n\r\nIt might work with more than one parameter, or with @BeforeEach, but I haven&#39;t tried that.","title":"Using both @DataProvider and @Parameters","body":"<p>Depending on your case it might actually be \"doable\". In particular, if you only have one instance of \"Parameters\", for example because you are passing the environment (development, beta...), then you could do:</p>\n\n<pre><code>private String suiteBrand;\n\n@Parameters({\"Brand\"})\n@BeforeSuite\npublic void setUp (final String Brand) {\n   suiteBrand = Brand;\n}\n\n\n@Test(dataProvider=\"dpCGA\", groups={\"CGA\"})\npublic void createAccount(String email) {\n    brand = suiteBrand;\n    setBrand(brand);\n    createAccount(email);\n}\n</code></pre>\n\n<p>BeforeSuite will be executed with the parameters and you can access them in the test that is parameterized by the data provider.</p>\n\n<p>It might work with more than one parameter, or with @BeforeEach, but I haven't tried that.</p>\n"},{"tags":[],"owner":{"account_id":19632547,"reputation":3,"user_id":14370525,"display_name":"Marwan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694691502,"creation_date":1694691502,"answer_id":77104528,"question_id":25295089,"body_markdown":"You can create class variables and pass the parameters to the before() method, and inside the before method assign values from the parameters to the class variables, like so:\r\n\r\n    String classVariableForParam1;\r\n    \r\n    @Parameters({&quot;Param1&quot;})\r\n    @BeforeSuite\r\n    public void setUp (final String Param1) {\r\n    classVariableForParam1= Param1;\r\n    }\r\n    \r\n    \r\n    @Test(dataProvider=&quot;data&quot;)\r\n    public void createAccount(String data) {\r\n        setParam(classVariableForParam1);\r\n        getData(data);\r\n    }","title":"Using both @DataProvider and @Parameters","body":"<p>You can create class variables and pass the parameters to the before() method, and inside the before method assign values from the parameters to the class variables, like so:</p>\n<pre><code>String classVariableForParam1;\n\n@Parameters({&quot;Param1&quot;})\n@BeforeSuite\npublic void setUp (final String Param1) {\nclassVariableForParam1= Param1;\n}\n\n\n@Test(dataProvider=&quot;data&quot;)\npublic void createAccount(String data) {\n    setParam(classVariableForParam1);\n    getData(data);\n}\n</code></pre>\n"}],"owner":{"account_id":400634,"reputation":890,"user_id":766713,"accept_rate":73,"display_name":"Jail"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7242,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":25305018,"answer_count":5,"score":4,"last_activity_date":1694691502,"creation_date":1407960070,"question_id":25295089,"body_markdown":"I&#39;d like to know whether there is a way to use both `@DataProvider` and `Paramaters` to pass parameters.\r\n\r\nI&#39;ve tried two options, but both of these failed:\r\n\r\n    @Parameters(&quot;Brand&quot;)\r\n    @Test(dataProvider=&quot;dpCGA&quot;, groups={&quot;CGA&quot;})\r\n    public void createAccount(String brand) {\r\n        setBrand(brand);\r\n    }\r\n\r\nbrand variable is being overwritten by the data provider in the above example.\r\n\r\n    @Parameters(&quot;Brand&quot;)\r\n    @Test(dataProvider=&quot;dpCGA&quot;, groups={&quot;CGA&quot;})\r\n    public void createAccount(String brand, String email) {\r\n        setBrand(brand);\r\n        createAccount(email);\r\n    }\r\n\r\nTest case didn&#39;t even run.\r\n\r\n\r\nI&#39;m using TestNG to run my test cases, and want to grab the brand parameter from the XML file. \r\n\r\nAlso, I&#39;ve got an Excel file which I use to keep emails, and want to grab those values using `@DataProvider`. \r\n\r\nIs it possible to use both of these tags together? If not, is there an other way to grab the brand parameter from the XML file? \r\n\r\n\r\nThanks in advance\r\n\r\n\r\n\r\n","title":"Using both @DataProvider and @Parameters","body":"<p>I'd like to know whether there is a way to use both <code>@DataProvider</code> and <code>Paramaters</code> to pass parameters.</p>\n\n<p>I've tried two options, but both of these failed:</p>\n\n<pre><code>@Parameters(\"Brand\")\n@Test(dataProvider=\"dpCGA\", groups={\"CGA\"})\npublic void createAccount(String brand) {\n    setBrand(brand);\n}\n</code></pre>\n\n<p>brand variable is being overwritten by the data provider in the above example.</p>\n\n<pre><code>@Parameters(\"Brand\")\n@Test(dataProvider=\"dpCGA\", groups={\"CGA\"})\npublic void createAccount(String brand, String email) {\n    setBrand(brand);\n    createAccount(email);\n}\n</code></pre>\n\n<p>Test case didn't even run.</p>\n\n<p>I'm using TestNG to run my test cases, and want to grab the brand parameter from the XML file. </p>\n\n<p>Also, I've got an Excel file which I use to keep emails, and want to grab those values using <code>@DataProvider</code>. </p>\n\n<p>Is it possible to use both of these tags together? If not, is there an other way to grab the brand parameter from the XML file? </p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1694692143,"post_id":77104523,"comment_id":135926265,"body_markdown":"don&#39;t put links to external sources, add all the relevant code/messages/ as formatted text in the question. Did you actually declare a Bean of that type?","body":"don&#39;t put links to external sources, add all the relevant code/messages/ as formatted text in the question. Did you actually declare a Bean of that type?"},{"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"score":0,"creation_date":1694694587,"post_id":77104523,"comment_id":135926845,"body_markdown":"This seems to be a good resource to fix the problem: https://www.theserverside.com/blog/Coffee-Talk-Java-News-Stories-and-Opinions/3-ways-to-build-a-Hibernate-SessionFactory-in-Java-by-example.\nI think in your case option 2 would be the easiest to test. Later on you could extract it to a `persistence.xml`.\n\nPS: I noticed that you tagger the question with [tag:spring-boot]. If you use Spring Boot, you can use dependencies like `spring-boot-starter-data` which will make it a lot easier.","body":"This seems to be a good resource to fix the problem: <a href=\"https://www.theserverside.com/blog/Coffee-Talk-Java-News-Stories-and-Opinions/3-ways-to-build-a-Hibernate-SessionFactory-in-Java-by-example\" rel=\"nofollow noreferrer\">theserverside.com/blog/&hellip;</a>. I think in your case option 2 would be the easiest to test. Later on you could extract it to a <code>persistence.xml</code>.  PS: I noticed that you tagger the question with <a href=\"https://stackoverflow.com/questions/tagged/spring-boot\">spring-boot</a>. If you use Spring Boot, you can use dependencies like <code>spring-boot-starter-data</code> which will make it a lot easier."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1694722600,"post_id":77104523,"comment_id":135932604,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":29441371,"reputation":1,"user_id":22559433,"display_name":"Nguyen Nguyen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694691473,"creation_date":1694691473,"question_id":77104523,"body_markdown":"I&#39;m currently learning Java. Can anyone tell me if I have Hibernate configured and am using JwtFilter for authentication, I get the error &quot;Parameter 0 of constructor in com.foo.boo.repository.FooBooUserRepository&quot; with code as image below: \r\n\r\n[enter image description here](https://i.stack.imgur.com/y7CkZ.png)\r\n\r\nHope everyone can help!\r\n\r\nI try to find anyway on the internet to solve my problem but i can&#39;t. \r\nI hope to find a solution or root cause can solve my issue.","title":"Parameter 0 of constructor in com.a.Repository required a bean of type &#39;org.hibernate.SessionFactory&#39; that could not be found","body":"<p>I'm currently learning Java. Can anyone tell me if I have Hibernate configured and am using JwtFilter for authentication, I get the error &quot;Parameter 0 of constructor in com.foo.boo.repository.FooBooUserRepository&quot; with code as image below:</p>\n<p><a href=\"https://i.stack.imgur.com/y7CkZ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Hope everyone can help!</p>\n<p>I try to find anyway on the internet to solve my problem but i can't.\nI hope to find a solution or root cause can solve my issue.</p>\n"},{"tags":["java","spring-boot","undertow","spring-boot-starter"],"owner":{"account_id":22986928,"reputation":13,"user_id":17113003,"display_name":"RRRRRika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694691327,"creation_date":1694691327,"question_id":77104506,"body_markdown":"I&#39;m writing a video streaming service with springboot which I changed the embedded server to undertow. The service works just as I imagined but the only thing bothers me is that every time I click to play video on the page, the console logs an `org.xnio.channels.FixedLengthOverflowException` like this, though the video **does** play fine:\r\n\r\n```\r\n2023-09-14 17:56:03 [XNIO-1 task-1] ERROR c.s.f.w.e.GlobalExceptionHandler\r\n - request url &#39;/video/play/en/big_buck_bunny.mp4&#39;, exception occur.\r\norg.xnio.channels.FixedLengthOverflowException: null\r\n\tat io.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:100)\r\n\tat org.xnio.conduits.ConduitStreamSinkChannel.write(ConduitStreamSinkChannel.java:150)\r\n\tat io.undertow.channels.DetachableStreamSinkChannel.write(DetachableStreamSinkChannel.java:240)\r\n\tat io.undertow.server.HttpServerExchange$WriteDispatchChannel.write(HttpServerExchange.java:2198)\r\n\tat io.undertow.servlet.spec.ServletOutputStreamImpl.writeBufferBlocking(ServletOutputStreamImpl.java:582)\r\n\tat io.undertow.servlet.spec.ServletOutputStreamImpl.flushInternal(ServletOutputStreamImpl.java:500)\r\n\tat io.undertow.servlet.spec.ServletOutputStreamImpl.flush(ServletOutputStreamImpl.java:479)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.StreamingResponseBodyReturnValueHandler$StreamingResponseBodyTask.call(StreamingResponseBodyReturnValueHandler.java:112)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.StreamingResponseBodyReturnValueHandler$StreamingResponseBodyTask.call(StreamingResponseBodyReturnValueHandler.java:98)\r\n\tat org.springframework.web.context.request.async.WebAsyncManager.lambda$startCallableProcessing$4(WebAsyncManager.java:337)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\nAnd my realated methods are below:\r\n\r\n```\r\n// in controller file\r\n    @GetMapping(&quot;/play/{lang}/{name}&quot;)\r\n    public ResponseEntity&lt;StreamingResponseBody&gt; playVideo(\r\n            @PathVariable String lang,\r\n            @PathVariable String name,\r\n            @RequestHeader(value = &quot;Range&quot;, required = false) String rangeHeader\r\n    ) {\r\n        return videoService.loadVideo(lang, name, rangeHeader);\r\n    }\r\n\r\n// the method that finally returns the video stream\r\n    private ResponseEntity&lt;StreamingResponseBody&gt; loadMediaFile(Path filePath, long rangeStart, long rangeEnd) throws IOException {\r\n\r\n        // ...\r\n\r\n        final HttpHeaders headers = new HttpHeaders();\r\n        String mimeType = Files.probeContentType(filePath);\r\n        headers.setContentType(MediaType.valueOf(mimeType));\r\n        headers.setContentLength(rangeEnd - rangeStart + 1);\r\n        headers.add(&quot;Accept-Ranges&quot;, &quot;bytes&quot;);\r\n        headers.add(&quot;Content-Range&quot;, String.format(&quot;bytes %d-%d/%d&quot;, rangeStart, rangeEnd, fileSize));\r\n\r\n        byte[] buffer = new byte[512];\r\n        final long startPoint = rangeStart, endPoint = rangeEnd;\r\n        StreamingResponseBody streamingResponseBody = os -&gt; {\r\n            try (RandomAccessFile file = new RandomAccessFile(filePath.toFile(), &quot;r&quot;)) {\r\n                long pos = startPoint;\r\n                file.seek(pos);\r\n                while (pos &lt; endPoint) {\r\n                    file.read(buffer);\r\n                    os.write(buffer);\r\n                    pos += buffer.length;\r\n                }\r\n                os.flush();\r\n            } catch (Exception e) {\r\n                log.info(&quot;stream close by client.&quot;);\r\n                // e.printStackTrace();\r\n            }\r\n        };\r\n\r\n        return new ResponseEntity&lt;&gt;(streamingResponseBody, headers, HttpStatus.PARTIAL_CONTENT);\r\n    }\r\n\r\n// and undertow related configuration in application.yml\r\n  undertow:\r\n    max-http-post-size: -1\r\n    buffer-size: 512\r\n    direct-buffers: true\r\n    threads:\r\n      io: 8\r\n      worker: 256\r\n```\r\n\r\n\r\nMy springboot version is 2.7.7, and same with the undertow. Is that exception because of undertow? I know this exception will not affect the normal function of my program, but I still want to be aware of how it occurred and fix it as posible.","title":"org.xnio.channels.FixedLengthOverflowException: null","body":"<p>I'm writing a video streaming service with springboot which I changed the embedded server to undertow. The service works just as I imagined but the only thing bothers me is that every time I click to play video on the page, the console logs an <code>org.xnio.channels.FixedLengthOverflowException</code> like this, though the video <strong>does</strong> play fine:</p>\n<pre><code>2023-09-14 17:56:03 [XNIO-1 task-1] ERROR c.s.f.w.e.GlobalExceptionHandler\n - request url '/video/play/en/big_buck_bunny.mp4', exception occur.\norg.xnio.channels.FixedLengthOverflowException: null\n    at io.undertow.conduits.AbstractFixedLengthStreamSinkConduit.write(AbstractFixedLengthStreamSinkConduit.java:100)\n    at org.xnio.conduits.ConduitStreamSinkChannel.write(ConduitStreamSinkChannel.java:150)\n    at io.undertow.channels.DetachableStreamSinkChannel.write(DetachableStreamSinkChannel.java:240)\n    at io.undertow.server.HttpServerExchange$WriteDispatchChannel.write(HttpServerExchange.java:2198)\n    at io.undertow.servlet.spec.ServletOutputStreamImpl.writeBufferBlocking(ServletOutputStreamImpl.java:582)\n    at io.undertow.servlet.spec.ServletOutputStreamImpl.flushInternal(ServletOutputStreamImpl.java:500)\n    at io.undertow.servlet.spec.ServletOutputStreamImpl.flush(ServletOutputStreamImpl.java:479)\n    at org.springframework.web.servlet.mvc.method.annotation.StreamingResponseBodyReturnValueHandler$StreamingResponseBodyTask.call(StreamingResponseBodyReturnValueHandler.java:112)\n    at org.springframework.web.servlet.mvc.method.annotation.StreamingResponseBodyReturnValueHandler$StreamingResponseBodyTask.call(StreamingResponseBodyReturnValueHandler.java:98)\n    at org.springframework.web.context.request.async.WebAsyncManager.lambda$startCallableProcessing$4(WebAsyncManager.java:337)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>And my realated methods are below:</p>\n<pre><code>// in controller file\n    @GetMapping(&quot;/play/{lang}/{name}&quot;)\n    public ResponseEntity&lt;StreamingResponseBody&gt; playVideo(\n            @PathVariable String lang,\n            @PathVariable String name,\n            @RequestHeader(value = &quot;Range&quot;, required = false) String rangeHeader\n    ) {\n        return videoService.loadVideo(lang, name, rangeHeader);\n    }\n\n// the method that finally returns the video stream\n    private ResponseEntity&lt;StreamingResponseBody&gt; loadMediaFile(Path filePath, long rangeStart, long rangeEnd) throws IOException {\n\n        // ...\n\n        final HttpHeaders headers = new HttpHeaders();\n        String mimeType = Files.probeContentType(filePath);\n        headers.setContentType(MediaType.valueOf(mimeType));\n        headers.setContentLength(rangeEnd - rangeStart + 1);\n        headers.add(&quot;Accept-Ranges&quot;, &quot;bytes&quot;);\n        headers.add(&quot;Content-Range&quot;, String.format(&quot;bytes %d-%d/%d&quot;, rangeStart, rangeEnd, fileSize));\n\n        byte[] buffer = new byte[512];\n        final long startPoint = rangeStart, endPoint = rangeEnd;\n        StreamingResponseBody streamingResponseBody = os -&gt; {\n            try (RandomAccessFile file = new RandomAccessFile(filePath.toFile(), &quot;r&quot;)) {\n                long pos = startPoint;\n                file.seek(pos);\n                while (pos &lt; endPoint) {\n                    file.read(buffer);\n                    os.write(buffer);\n                    pos += buffer.length;\n                }\n                os.flush();\n            } catch (Exception e) {\n                log.info(&quot;stream close by client.&quot;);\n                // e.printStackTrace();\n            }\n        };\n\n        return new ResponseEntity&lt;&gt;(streamingResponseBody, headers, HttpStatus.PARTIAL_CONTENT);\n    }\n\n// and undertow related configuration in application.yml\n  undertow:\n    max-http-post-size: -1\n    buffer-size: 512\n    direct-buffers: true\n    threads:\n      io: 8\n      worker: 256\n</code></pre>\n<p>My springboot version is 2.7.7, and same with the undertow. Is that exception because of undertow? I know this exception will not affect the normal function of my program, but I still want to be aware of how it occurred and fix it as posible.</p>\n"},{"tags":["java","design-patterns","guice"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1694505580,"post_id":77085866,"comment_id":135895907,"body_markdown":"You could use a [multibinding](https://github.com/google/guice/wiki/Multibindings)","body":"You could use a <a href=\"https://github.com/google/guice/wiki/Multibindings\" rel=\"nofollow noreferrer\">multibinding</a>"}],"answers":[{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694691008,"creation_date":1694691008,"answer_id":77104455,"question_id":77085866,"body_markdown":"If we have liberty to re-structure event itself we could implement it as below\r\n```\r\ninterface Listener{}\r\nenum Event{\r\n    //avoid adding class variables which could induce state and thereby threadsafety concerns\r\n    //add behaviour as &#39;method&#39; and objects as &#39;method-param&#39;\r\n    UpdateEvent {\r\n        @Override\r\n        public void doDocumentListenerOperations(String phaseWhenReceive) {\r\n            //update\r\n        }\r\n    },EntityDeleteEvent {\r\n        @Override\r\n        public void doDocumentListenerOperations(String phaseWhenReceive) {\r\n            //delete\r\n        }\r\n    },PhaseEvent {\r\n        @Override\r\n        public void doDocumentListenerOperations(String phaseWhenReceive) {\r\n            //no-op\r\n        }\r\n    };\r\n\r\n    public abstract void doDocumentListenerOperations(String phaseWhenReceived);\r\n\r\n}\r\n\r\npublic class DocumentListener implements Listener\r\n{\r\n    //@Inject\r\n    public DocumentListener(){}// a bunch of injected parameters) {}\r\n\r\n    public void receive(Event event)\r\n    {\r\n        //Phase phaseWhenReceived = phase_;\r\n        event.doDocumentListenerOperations(&quot;phaseWhenReceived&quot;);//and other params required for executing the method\r\n        \r\n    }\r\n}\r\n```","title":"How do I refactor this code with if/else for Update/Delete event and the class is injected using Guice","body":"<p>If we have liberty to re-structure event itself we could implement it as below</p>\n<pre><code>interface Listener{}\nenum Event{\n    //avoid adding class variables which could induce state and thereby threadsafety concerns\n    //add behaviour as 'method' and objects as 'method-param'\n    UpdateEvent {\n        @Override\n        public void doDocumentListenerOperations(String phaseWhenReceive) {\n            //update\n        }\n    },EntityDeleteEvent {\n        @Override\n        public void doDocumentListenerOperations(String phaseWhenReceive) {\n            //delete\n        }\n    },PhaseEvent {\n        @Override\n        public void doDocumentListenerOperations(String phaseWhenReceive) {\n            //no-op\n        }\n    };\n\n    public abstract void doDocumentListenerOperations(String phaseWhenReceived);\n\n}\n\npublic class DocumentListener implements Listener\n{\n    //@Inject\n    public DocumentListener(){}// a bunch of injected parameters) {}\n\n    public void receive(Event event)\n    {\n        //Phase phaseWhenReceived = phase_;\n        event.doDocumentListenerOperations(&quot;phaseWhenReceived&quot;);//and other params required for executing the method\n        \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":318124,"reputation":11791,"user_id":635162,"accept_rate":79,"display_name":"toy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694691008,"creation_date":1694488215,"question_id":77085866,"body_markdown":"I&#39;m trying to refactor one of the classes we have which is very long. The class is a listener which has only two events `Update` and `Delete`. We started with just this\r\n\r\n```java\r\npublic class DocumentListener implements Listener\r\n{\r\n    @Inject\r\n    public DocumentListener(// a bunch of injected parameters) {\r\n\r\n    }\r\n\r\n    public void receive(Event event)\r\n    {\r\n        Phase phaseWhenReceived = phase_;\r\n        if (event instanceof UpdateEvent) {\r\n            // do update\r\n        } else if (event instanceof EntityDeleteEvent) {\r\n            // do delete\r\n        } else if (event instanceof PhaseEvent) {\r\n            // do nothing for now.\r\n        } else {\r\n            LOGGER.warn(&quot;Received unknown event type : &quot; + event.getClass().getName());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe class grew to be over 2000 lines long which naturally we want to have two classes; Update and Delete. However, the class is binded with Guice like this.\r\n\r\n```java\r\nbind(DocumentListener.class).in(SINGLETON);\r\n```\r\n\r\nI started changing the class to be `abstract` class and then created `Update` and `Delete` classes to extract the behaviors. \r\n\r\nBut if I do this\r\n\r\n```java\r\npublic abstract DocumentListener implements Listener\r\n{\r\n    public DocumentListener(// a bunch of injected parameters) {\r\n\r\n    }\r\n\r\n    public abstract void receive(Event event);\r\n\r\n}\r\n```\r\n\r\nThen I created Update\r\n\r\n```java\r\npublic class DocumentUpdate extends DocumentListener\r\n{\r\n    // injected constructor\r\n\r\n    @Override\r\n    public void receive(Event event)\r\n    {\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd\r\n\r\n```java\r\npublic class DocumentDelete extends DocumentListener\r\n{\r\n    // injected constructor\r\n\r\n    @Override\r\n    public void receive(Event event)\r\n    {\r\n    }\r\n}\r\n```\r\n\r\nThen Guice will complain with `1) [Guice/MissingImplementation]:` because now the DocumentListener is an abstract class which it doesn&#39;t know how to bind. \r\n\r\nI could do something like this\r\n\r\n```java\r\nbind(DocumentListener.class).to(DocumentUpdate.class).in(SINGLETON);\r\n\r\n```\r\n\r\nBut then I can only bind one class at a time. I can&#39;t bind two implementations as Guice will complain that the class is already binded and I can&#39;t bind twice. \r\n\r\nNot sure if there&#39;s a pattern to solve this kind of problem with Guice and Listener pattern?","title":"How do I refactor this code with if/else for Update/Delete event and the class is injected using Guice","body":"<p>I'm trying to refactor one of the classes we have which is very long. The class is a listener which has only two events <code>Update</code> and <code>Delete</code>. We started with just this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DocumentListener implements Listener\n{\n    @Inject\n    public DocumentListener(// a bunch of injected parameters) {\n\n    }\n\n    public void receive(Event event)\n    {\n        Phase phaseWhenReceived = phase_;\n        if (event instanceof UpdateEvent) {\n            // do update\n        } else if (event instanceof EntityDeleteEvent) {\n            // do delete\n        } else if (event instanceof PhaseEvent) {\n            // do nothing for now.\n        } else {\n            LOGGER.warn(&quot;Received unknown event type : &quot; + event.getClass().getName());\n        }\n    }\n}\n</code></pre>\n<p>The class grew to be over 2000 lines long which naturally we want to have two classes; Update and Delete. However, the class is binded with Guice like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>bind(DocumentListener.class).in(SINGLETON);\n</code></pre>\n<p>I started changing the class to be <code>abstract</code> class and then created <code>Update</code> and <code>Delete</code> classes to extract the behaviors.</p>\n<p>But if I do this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract DocumentListener implements Listener\n{\n    public DocumentListener(// a bunch of injected parameters) {\n\n    }\n\n    public abstract void receive(Event event);\n\n}\n</code></pre>\n<p>Then I created Update</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DocumentUpdate extends DocumentListener\n{\n    // injected constructor\n\n    @Override\n    public void receive(Event event)\n    {\n    }\n}\n\n</code></pre>\n<p>And</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DocumentDelete extends DocumentListener\n{\n    // injected constructor\n\n    @Override\n    public void receive(Event event)\n    {\n    }\n}\n</code></pre>\n<p>Then Guice will complain with <code>1) [Guice/MissingImplementation]:</code> because now the DocumentListener is an abstract class which it doesn't know how to bind.</p>\n<p>I could do something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>bind(DocumentListener.class).to(DocumentUpdate.class).in(SINGLETON);\n\n</code></pre>\n<p>But then I can only bind one class at a time. I can't bind two implementations as Guice will complain that the class is already binded and I can't bind twice.</p>\n<p>Not sure if there's a pattern to solve this kind of problem with Guice and Listener pattern?</p>\n"},{"tags":["java","android","android-studio","gradle","nextcloud"],"answers":[{"tags":[],"owner":{"account_id":28756046,"reputation":21,"user_id":22023060,"display_name":"Boris Gabyshev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694690196,"creation_date":1694690115,"answer_id":77104370,"question_id":77103968,"body_markdown":"move &#39;jitpack&#39; like this:\r\n\r\n    pluginManagement {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n            gradlePluginPortal()\r\n        }\r\n    }\r\n    dependencyResolutionManagement {\r\n        repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n            maven { url &quot;https://jitpack.io&quot; }\r\n    \r\n        }\r\n    }","title":"Failed to install nextcloud android library","body":"<p>move 'jitpack' like this:</p>\n<pre><code>pluginManagement {\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n    }\n}\ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n        maven { url &quot;https://jitpack.io&quot; }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28121958,"reputation":69,"user_id":21488044,"display_name":"Lucia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694690196,"creation_date":1694686787,"question_id":77103968,"body_markdown":"When syncing Gradle, I have the error\r\n\r\n&gt; Failed to resolve: com.github.nextcloud:android-library:latest.release\r\n\r\nI tried to add JitPack on `build.gradle` (project) but I got \r\n\r\n&gt; Build was configured to prefer settings repositories over project\r\n&gt; repositories but repository &#39;maven&#39; was added by build file\r\n&gt; &#39;build.gradle&#39;\r\n\r\nHere&#39;s `build.gradle` (project):\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;8.0.2&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;8.0.2&#39; apply false\r\n    }\r\n\r\nHere&#39;s `build.gradle` (module):\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n    }\r\n    \r\n    android {\r\n        namespace &#39;com.example.app&#39;\r\n        compileSdk 33\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.app&quot;\r\n            minSdk 30\r\n            targetSdk 33\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    \r\n        buildFeatures {\r\n            dataBinding true\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n        implementation &#39;androidx.room:room-runtime:2.4.0&#39; // Add this line\r\n        annotationProcessor &#39;androidx.room:room-compiler:2.4.0&#39; // Add this line\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n        implementation &#39;com.github.nextcloud:android-library:latest.release&#39;\r\n    }\r\n\r\nAnd here&#39;s `settings.gradle` where I added Jitpack:\r\n\r\n    pluginManagement {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n            gradlePluginPortal()\r\n            maven { url &#39;https://jitpack.io&#39; }\r\n        }\r\n    }\r\n    dependencyResolutionManagement {\r\n        repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n    }\r\n    \r\n    rootProject.name = &quot;app&quot;\r\n    include &#39;:app&#39;\r\n\r\n","title":"Failed to install nextcloud android library","body":"<p>When syncing Gradle, I have the error</p>\n<blockquote>\n<p>Failed to resolve: com.github.nextcloud:android-library:latest.release</p>\n</blockquote>\n<p>I tried to add JitPack on <code>build.gradle</code> (project) but I got</p>\n<blockquote>\n<p>Build was configured to prefer settings repositories over project\nrepositories but repository 'maven' was added by build file\n'build.gradle'</p>\n</blockquote>\n<p>Here's <code>build.gradle</code> (project):</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id 'com.android.application' version '8.0.2' apply false\n    id 'com.android.library' version '8.0.2' apply false\n}\n</code></pre>\n<p>Here's <code>build.gradle</code> (module):</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'com.example.app'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.app&quot;\n        minSdk 30\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    buildFeatures {\n        dataBinding true\n    }\n}\n\ndependencies {\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'androidx.room:room-runtime:2.4.0' // Add this line\n    annotationProcessor 'androidx.room:room-compiler:2.4.0' // Add this line\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n    implementation 'com.github.nextcloud:android-library:latest.release'\n}\n</code></pre>\n<p>And here's <code>settings.gradle</code> where I added Jitpack:</p>\n<pre><code>pluginManagement {\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n        maven { url 'https://jitpack.io' }\n    }\n}\ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.name = &quot;app&quot;\ninclude ':app'\n</code></pre>\n"},{"tags":["java","android","okhttp","openai-api","chatgpt-api"],"comments":[{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":0,"creation_date":1680270010,"post_id":75899189,"comment_id":133874374,"body_markdown":"Looks like it should be `/v1/chat/completions` not `/chat/v1/completions`: https://platform.openai.com/docs/api-reference/chat. Also that&#39;s strongly suggested by the error messsage you have received.","body":"Looks like it should be <code>&#47;v1&#47;chat&#47;completions</code> not <code>&#47;chat&#47;v1&#47;completions</code>: <a href=\"https://platform.openai.com/docs/api-reference/chat\" rel=\"nofollow noreferrer\">platform.openai.com/docs/api-reference/chat</a>. Also that&#39;s strongly suggested by the error messsage you have received."}],"answers":[{"tags":[],"owner":{"account_id":14324749,"reputation":16763,"user_id":10347145,"display_name":"Rok Benko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694690016,"creation_date":1680270513,"answer_id":75899296,"question_id":75899189,"body_markdown":"You have a typo.\r\n\r\nChange this...\r\n\r\n    https://api.openai.com/chat/v1/completions\r\n\r\n...to this.\r\n\r\n    https://api.openai.com/v1/chat/completions\r\n\r\nSee the [documentation][1].\r\n\r\n\r\n  [1]: https://platform.openai.com/docs/api-reference/chat/create","title":"OpenAI ChatGPT (GPT-3.5) API error: &quot;Invalid URL (POST /chat/v1/completions)&quot;","body":"<p>You have a typo.</p>\n<p>Change this...</p>\n<pre><code>https://api.openai.com/chat/v1/completions\n</code></pre>\n<p>...to this.</p>\n<pre><code>https://api.openai.com/v1/chat/completions\n</code></pre>\n<p>See the <a href=\"https://platform.openai.com/docs/api-reference/chat/create\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n"}],"owner":{"account_id":28179047,"reputation":3,"user_id":21536393,"display_name":"Kannengieser Lucas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2734,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75899296,"answer_count":1,"score":0,"last_activity_date":1694690016,"creation_date":1680269857,"question_id":75899189,"body_markdown":"I followed a tutorial to make an chatgpt app and get this error :\r\n\r\n\r\n```\r\nFailed to load response due to {\r\n&#39;error&#39; : {\r\n&#39;message&#39; : &#39;Invalid URL (POST /chat/v1/completions)&#39;,\r\n&#39;type&#39;:&#39;invalid_request_error&#39;,\r\n&#39;param&#39;:null,\r\n&#39;code&#39;:null\r\n}\r\n}\r\n```\r\n\r\nThis is my code :\r\n\r\n\r\n```\r\nJSONObject jsonBody = new JSONObject();\r\n        try {\r\n            jsonBody.put(&quot;model&quot;, &quot;gpt-3.5-turbo&quot;);\r\n            jsonBody.put(&quot;messages&quot;, question);\r\n            jsonBody.put(&quot;max_tokens&quot;, 4000);\r\n            jsonBody.put(&quot;temperature&quot;, 0);\r\n        } catch (JSONException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        RequestBody body = RequestBody.create(jsonBody.toString(),JSON);\r\n        Request request = new Request.Builder()\r\n                .url(&quot;https://api.openai.com/chat/v1/completions&quot;)\r\n                .addHeader(&quot;Authorization&quot;, &quot;Bearer HIDDEN_KEY&quot;)\r\n                .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                .post(body)\r\n                .build();\r\n        client.newCall(request).enqueue(new Callback() {\r\n            @Override\r\n            public void onFailure(@NonNull Call call, @NonNull IOException e) {\r\n                addResponse(&quot;Failed to load response due to pd &quot;+e.getMessage());\r\n            }\r\n\r\n            @Override\r\n            public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\r\n                if(response.isSuccessful()){\r\n                    JSONObject jsonObject  = null;\r\n                    try {\r\n                        jsonObject = new JSONObject(response.body().string());\r\n                        JSONArray jsonArray = jsonObject.getJSONArray(&quot;choices&quot;);\r\n                        String result = jsonArray.getJSONObject(0).getString(&quot;message&quot;);\r\n                        addResponse(result.trim());\r\n                    } catch (JSONException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n\r\n                }else{\r\n                    addResponse(&quot;Failed to load response due to &quot;+response.body().string());\r\n                }\r\n            }\r\n```\r\n\r\n\r\nI tried changing the model, removing the \\chat\\ in the URL and send the prompt directly in URL too\r\n\r\nI&#39;m new to app making and java coding (but I&#39;m no beginner in coding) so I understand that maybe this code isn&#39;t great as I almost only copy and paste the code from the tutorial.\r\n\r\nThanks for your help !\r\n","title":"OpenAI ChatGPT (GPT-3.5) API error: &quot;Invalid URL (POST /chat/v1/completions)&quot;","body":"<p>I followed a tutorial to make an chatgpt app and get this error :</p>\n<pre><code>Failed to load response due to {\n'error' : {\n'message' : 'Invalid URL (POST /chat/v1/completions)',\n'type':'invalid_request_error',\n'param':null,\n'code':null\n}\n}\n</code></pre>\n<p>This is my code :</p>\n<pre><code>JSONObject jsonBody = new JSONObject();\n        try {\n            jsonBody.put(&quot;model&quot;, &quot;gpt-3.5-turbo&quot;);\n            jsonBody.put(&quot;messages&quot;, question);\n            jsonBody.put(&quot;max_tokens&quot;, 4000);\n            jsonBody.put(&quot;temperature&quot;, 0);\n        } catch (JSONException e) {\n            throw new RuntimeException(e);\n        }\n        RequestBody body = RequestBody.create(jsonBody.toString(),JSON);\n        Request request = new Request.Builder()\n                .url(&quot;https://api.openai.com/chat/v1/completions&quot;)\n                .addHeader(&quot;Authorization&quot;, &quot;Bearer HIDDEN_KEY&quot;)\n                .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                .post(body)\n                .build();\n        client.newCall(request).enqueue(new Callback() {\n            @Override\n            public void onFailure(@NonNull Call call, @NonNull IOException e) {\n                addResponse(&quot;Failed to load response due to pd &quot;+e.getMessage());\n            }\n\n            @Override\n            public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\n                if(response.isSuccessful()){\n                    JSONObject jsonObject  = null;\n                    try {\n                        jsonObject = new JSONObject(response.body().string());\n                        JSONArray jsonArray = jsonObject.getJSONArray(&quot;choices&quot;);\n                        String result = jsonArray.getJSONObject(0).getString(&quot;message&quot;);\n                        addResponse(result.trim());\n                    } catch (JSONException e) {\n                        throw new RuntimeException(e);\n                    }\n\n                }else{\n                    addResponse(&quot;Failed to load response due to &quot;+response.body().string());\n                }\n            }\n</code></pre>\n<p>I tried changing the model, removing the \\chat\\ in the URL and send the prompt directly in URL too</p>\n<p>I'm new to app making and java coding (but I'm no beginner in coding) so I understand that maybe this code isn't great as I almost only copy and paste the code from the tutorial.</p>\n<p>Thanks for your help !</p>\n"},{"tags":["java","spring","hibernate"],"answers":[{"tags":[],"owner":{"account_id":16013170,"reputation":1,"user_id":11556671,"display_name":"Ravi Mohan Singh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1558843565,"creation_date":1558843565,"answer_id":56310554,"question_id":39467759,"body_markdown":" add &quot;&lt;tx:annotation-driven/&gt; &quot;in spring configuration file, this will work for sure.","title":"Turn your Session into FlushMode.COMMIT/AUTO or remove &#39;readOnly&#39; marker from transaction definition","body":"<p>add \" \"in spring configuration file, this will work for sure.</p>\n"},{"tags":[],"owner":{"account_id":26314862,"reputation":41,"user_id":19977803,"display_name":"Heena Patidar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694690009,"creation_date":1694690009,"answer_id":77104359,"question_id":39467759,"body_markdown":"I was getting the same error and resolved it by adding @Transactional annotation to the method where we have used hibernate template calls for database-related operations.\r\n\r\n    @Override\r\n    **@Transactional**\r\n    public int insertStudent(Student student) {\r\n        hibernateTemplate.save(student);\r\n        return 0;\r\n    }","title":"Turn your Session into FlushMode.COMMIT/AUTO or remove &#39;readOnly&#39; marker from transaction definition","body":"<p>I was getting the same error and resolved it by adding @Transactional annotation to the method where we have used hibernate template calls for database-related operations.</p>\n<pre><code>@Override\n**@Transactional**\npublic int insertStudent(Student student) {\n    hibernateTemplate.save(student);\n    return 0;\n}\n</code></pre>\n"}],"owner":{"account_id":8884847,"reputation":69,"user_id":6633429,"accept_rate":29,"display_name":"Rohit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5524,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1694690009,"creation_date":1473762409,"question_id":39467759,"body_markdown":"I am beginner in spring and in my console based project i am using spring with hibernate.I was stuck with the following error for about a day.\r\n\r\n    Exception in thread &quot;main&quot; org.springframework.dao.InvalidDataAccessApiUsageException: Write operations are not allowed in read-only mode (FlushMode.MANUAL): Turn your Session into FlushMode.COMMIT/AUTO or remove &#39;readOnly&#39; marker from transaction definition.\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.checkWriteOperationAllowed(HibernateTemplate.java:1126)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate$12.doInHibernate(HibernateTemplate.java:619)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate$12.doInHibernate(HibernateTemplate.java:616)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:341)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.executeWithNativeSession(HibernateTemplate.java:309)\r\n\tat org.springframework.orm.hibernate5.HibernateTemplate.save(HibernateTemplate.java:616)\r\n\tat com.hbtemp.dao.impl.StudentDaoImpl.insertStudent(StudentDaoImpl.java:22)\r\n\tat com.hbtemp.test.TestClass.main(TestClass.java:25)\r\n\r\nI searched for this error in the web but i couldn&#39;t find the solution,so please help me with some concept\r\n\r\nModel Class:Student.java\r\n\t\r\n\tprivate int id;\r\n\tprivate String firstName;\r\n\tprivate String lastName;\r\n\tprivate String address;\r\n\tprivate int rollNo;\r\n\t\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getFirstName() {\r\n\t\treturn firstName;\r\n\t}\r\n\tpublic void setFirstName(String firstName) {\r\n\t\tthis.firstName = firstName;\r\n\t}\r\n\tpublic String getLastName() {\r\n\t\treturn lastName;\r\n\t}\r\n\tpublic void setLastName(String lastName) {\r\n\t\tthis.lastName = lastName;\r\n\t}\r\n\tpublic String getAddress() {\r\n\t\treturn address;\r\n\t}\r\n\tpublic void setAddress(String address) {\r\n\t\tthis.address = address;\r\n\t}\r\n\tpublic int getRollNo() {\r\n\t\treturn rollNo;\r\n\t}\r\n\tpublic void setRollNo(int rollNo) {\r\n\t\tthis.rollNo = rollNo;\r\n\t}\r\n\r\nStudentDaoImpl.java\r\n\t\r\n\tpublic void setHibernateTemplate(HibernateTemplate hibernateTemplate){\r\n\t\tthis.hibernateTemplate = hibernateTemplate;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic int insertStudent(Student student) {\r\n\t\thibernateTemplate.save(student);\r\n\t\treturn 0;\r\n\t}\r\n\r\nApplicationContext.xml \r\n\r\n\t&lt;bean id = &quot;dataSource&quot; class = &quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n\t    &lt;property name = &quot;driverClassName&quot; value = &quot;com.mysql.jdbc.Driver&quot;&gt;&lt;/property&gt;\r\n\t    &lt;property name = &quot;url&quot; value = &quot;jdbc:mysql://localhost:3306/spring_jdbc_template&quot;&gt;&lt;/property&gt;\r\n\t    &lt;property name = &quot;username&quot; value = &quot;root&quot;&gt;&lt;/property&gt;\r\n\t    &lt;property name = &quot;password&quot; value = &quot;&quot;&gt;&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id = &quot;mySessionFactory&quot; class = &quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\r\n\t      &lt;property name = &quot;dataSource&quot; ref = &quot;dataSource&quot;&gt;&lt;/property&gt;\r\n\t      &lt;property name = &quot;mappingResources&quot;&gt;\r\n\t         &lt;list&gt;\r\n\t             &lt;value&gt;student.hbm.xml&lt;/value&gt;\r\n\t         &lt;/list&gt;\r\n\t      &lt;/property&gt;\r\n\t      &lt;property name = &quot;hibernateProperties&quot;&gt;\r\n\t          &lt;map&gt;\r\n\t             &lt;entry key=&quot;hibernate.dialect&quot; value = &quot;org.hibernate.dialect.MySQLDialect&quot;&gt;&lt;/entry&gt;\r\n\t             &lt;!-- &lt;entry key=&quot;hibernate.hbm2ddl.auto&quot; value = &quot;update&quot;&gt;&lt;/entry&gt; --&gt;\r\n\t             &lt;entry key=&quot;hibernate.show_sql&quot; value = &quot;true&quot;&gt;&lt;/entry&gt;\r\n\t             &lt;entry key=&quot;checkWriteOperation&quot; value = &quot;false&quot;&gt;&lt;/entry&gt;\r\n\t             &lt;entry key=&quot;current_session_context_class&quot; value = &quot;thread&quot;&gt;&lt;/entry&gt;\r\n\t          &lt;/map&gt;\r\n\t      &lt;/property&gt;\r\n\t&lt;/bean&gt;\t\r\n\t\r\n\t&lt;bean id = &quot;hibernateTemplate&quot; class = &quot;org.springframework.orm.hibernate5.HibernateTemplate&quot;&gt;\r\n\t     &lt;property name = &quot;sessionFactory&quot; ref = &quot;mySessionFactory&quot;&gt;&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\t\r\n\t&lt;bean id = &quot;studentDaoImpl&quot; class = &quot;com.hbtemp.dao.impl.StudentDaoImpl&quot;&gt;\r\n\t     &lt;property name = &quot;hibernateTemplate&quot; ref = &quot;hibernateTemplate&quot;&gt;&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\n&lt;/beans&gt;\r\n\r\nstudent.hbm.xml :\r\n\r\n    &lt;hibernate-mapping&gt;\r\n    &lt;class name = &quot;com.hbtemp.model.Student&quot; table = &quot;student&quot;&gt;\r\n        &lt;id name = &quot;id&quot; column = &quot;ID&quot;&gt;\r\n            &lt;generator class=&quot;identity&quot;&gt;&lt;/generator&gt;\r\n        &lt;/id&gt;\r\n        \r\n        &lt;property name = &quot;firstName&quot; column = &quot;FirstName&quot;&gt;&lt;/property&gt;\r\n        &lt;property name = &quot;lastName&quot; column = &quot;LastName&quot;&gt;&lt;/property&gt;\r\n        &lt;property name = &quot;address&quot; column = &quot;Address&quot;&gt;&lt;/property&gt;\r\n        &lt;property name = &quot;rollNo&quot; column = &quot;Roll_NO&quot;&gt;&lt;/property&gt;\r\n    &lt;/class&gt;\r\n&lt;/hibernate-mapping&gt;\r\n\r\nTestClass.java\r\n\r\n    ApplicationContext context = new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\r\n\t\tStudentDaoImpl studentDaoImpl = (StudentDaoImpl)context.getBean(&quot;studentDaoImpl&quot;);\r\n\t\t\r\n\t\tStudent student = new Student();\r\n\t\tstudent.setId(2);\r\n\t\tstudent.setFirstName(&quot;Prakash&quot;);\r\n\t\tstudent.setLastName(&quot;Gautam&quot;);\r\n\t\tstudent.setAddress(&quot;Bhaktapur&quot;);\r\n\t\tstudent.setRollNo(434);\r\n\t\t\r\n\t\tint status = studentDaoImpl.insertStudent(student);\r\n\r\nIf i write a code **hibernateTemplate.setCheckWriteOperations(false)** inside **insertStudent method** it works fine............but my question is...is it good practice or not ? If it isn&#39;t good pratice please recommend the good pratice\r\n","title":"Turn your Session into FlushMode.COMMIT/AUTO or remove &#39;readOnly&#39; marker from transaction definition","body":"<p>I am beginner in spring and in my console based project i am using spring with hibernate.I was stuck with the following error for about a day.</p>\n\n<pre><code>Exception in thread \"main\" org.springframework.dao.InvalidDataAccessApiUsageException: Write operations are not allowed in read-only mode (FlushMode.MANUAL): Turn your Session into FlushMode.COMMIT/AUTO or remove 'readOnly' marker from transaction definition.\nat org.springframework.orm.hibernate5.HibernateTemplate.checkWriteOperationAllowed(HibernateTemplate.java:1126)\nat org.springframework.orm.hibernate5.HibernateTemplate$12.doInHibernate(HibernateTemplate.java:619)\nat org.springframework.orm.hibernate5.HibernateTemplate$12.doInHibernate(HibernateTemplate.java:616)\nat org.springframework.orm.hibernate5.HibernateTemplate.doExecute(HibernateTemplate.java:341)\nat org.springframework.orm.hibernate5.HibernateTemplate.executeWithNativeSession(HibernateTemplate.java:309)\nat org.springframework.orm.hibernate5.HibernateTemplate.save(HibernateTemplate.java:616)\nat com.hbtemp.dao.impl.StudentDaoImpl.insertStudent(StudentDaoImpl.java:22)\nat com.hbtemp.test.TestClass.main(TestClass.java:25)\n</code></pre>\n\n<p>I searched for this error in the web but i couldn't find the solution,so please help me with some concept</p>\n\n<p>Model Class:Student.java</p>\n\n<pre><code>private int id;\nprivate String firstName;\nprivate String lastName;\nprivate String address;\nprivate int rollNo;\n\npublic int getId() {\n    return id;\n}\npublic void setId(int id) {\n    this.id = id;\n}\npublic String getFirstName() {\n    return firstName;\n}\npublic void setFirstName(String firstName) {\n    this.firstName = firstName;\n}\npublic String getLastName() {\n    return lastName;\n}\npublic void setLastName(String lastName) {\n    this.lastName = lastName;\n}\npublic String getAddress() {\n    return address;\n}\npublic void setAddress(String address) {\n    this.address = address;\n}\npublic int getRollNo() {\n    return rollNo;\n}\npublic void setRollNo(int rollNo) {\n    this.rollNo = rollNo;\n}\n</code></pre>\n\n<p>StudentDaoImpl.java</p>\n\n<pre><code>public void setHibernateTemplate(HibernateTemplate hibernateTemplate){\n    this.hibernateTemplate = hibernateTemplate;\n}\n\n@Override\npublic int insertStudent(Student student) {\n    hibernateTemplate.save(student);\n    return 0;\n}\n</code></pre>\n\n<p>ApplicationContext.xml </p>\n\n<pre><code>&lt;bean id = \"dataSource\" class = \"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n    &lt;property name = \"driverClassName\" value = \"com.mysql.jdbc.Driver\"&gt;&lt;/property&gt;\n    &lt;property name = \"url\" value = \"jdbc:mysql://localhost:3306/spring_jdbc_template\"&gt;&lt;/property&gt;\n    &lt;property name = \"username\" value = \"root\"&gt;&lt;/property&gt;\n    &lt;property name = \"password\" value = \"\"&gt;&lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id = \"mySessionFactory\" class = \"org.springframework.orm.hibernate5.LocalSessionFactoryBean\"&gt;\n      &lt;property name = \"dataSource\" ref = \"dataSource\"&gt;&lt;/property&gt;\n      &lt;property name = \"mappingResources\"&gt;\n         &lt;list&gt;\n             &lt;value&gt;student.hbm.xml&lt;/value&gt;\n         &lt;/list&gt;\n      &lt;/property&gt;\n      &lt;property name = \"hibernateProperties\"&gt;\n          &lt;map&gt;\n             &lt;entry key=\"hibernate.dialect\" value = \"org.hibernate.dialect.MySQLDialect\"&gt;&lt;/entry&gt;\n             &lt;!-- &lt;entry key=\"hibernate.hbm2ddl.auto\" value = \"update\"&gt;&lt;/entry&gt; --&gt;\n             &lt;entry key=\"hibernate.show_sql\" value = \"true\"&gt;&lt;/entry&gt;\n             &lt;entry key=\"checkWriteOperation\" value = \"false\"&gt;&lt;/entry&gt;\n             &lt;entry key=\"current_session_context_class\" value = \"thread\"&gt;&lt;/entry&gt;\n          &lt;/map&gt;\n      &lt;/property&gt;\n&lt;/bean&gt; \n\n&lt;bean id = \"hibernateTemplate\" class = \"org.springframework.orm.hibernate5.HibernateTemplate\"&gt;\n     &lt;property name = \"sessionFactory\" ref = \"mySessionFactory\"&gt;&lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id = \"studentDaoImpl\" class = \"com.hbtemp.dao.impl.StudentDaoImpl\"&gt;\n     &lt;property name = \"hibernateTemplate\" ref = \"hibernateTemplate\"&gt;&lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p></p>\n\n<p>student.hbm.xml :</p>\n\n<pre><code>&lt;hibernate-mapping&gt;\n&lt;class name = \"com.hbtemp.model.Student\" table = \"student\"&gt;\n    &lt;id name = \"id\" column = \"ID\"&gt;\n        &lt;generator class=\"identity\"&gt;&lt;/generator&gt;\n    &lt;/id&gt;\n\n    &lt;property name = \"firstName\" column = \"FirstName\"&gt;&lt;/property&gt;\n    &lt;property name = \"lastName\" column = \"LastName\"&gt;&lt;/property&gt;\n    &lt;property name = \"address\" column = \"Address\"&gt;&lt;/property&gt;\n    &lt;property name = \"rollNo\" column = \"Roll_NO\"&gt;&lt;/property&gt;\n&lt;/class&gt;\n</code></pre>\n\n<p></p>\n\n<p>TestClass.java</p>\n\n<pre><code>ApplicationContext context = new ClassPathXmlApplicationContext(\"applicationContext.xml\");\n    StudentDaoImpl studentDaoImpl = (StudentDaoImpl)context.getBean(\"studentDaoImpl\");\n\n    Student student = new Student();\n    student.setId(2);\n    student.setFirstName(\"Prakash\");\n    student.setLastName(\"Gautam\");\n    student.setAddress(\"Bhaktapur\");\n    student.setRollNo(434);\n\n    int status = studentDaoImpl.insertStudent(student);\n</code></pre>\n\n<p>If i write a code <strong>hibernateTemplate.setCheckWriteOperations(false)</strong> inside <strong>insertStudent method</strong> it works fine............but my question is...is it good practice or not ? If it isn't good pratice please recommend the good pratice</p>\n"},{"tags":["java","json","hibernate","jpa","jsonb"],"comments":[{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1694690354,"post_id":77101442,"comment_id":135925941,"body_markdown":"can you also add the stack trace of the error that you receive ?","body":"can you also add the stack trace of the error that you receive ?"}],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694689890,"creation_date":1694689890,"answer_id":77104342,"question_id":77101442,"body_markdown":"I suggest you to enable `nativeQuery = true`, it is going to solve the problem.\r\n\r\n      @Query(value = &quot;select * from Questionnaire u where u.questionnaire @&gt; = ?1&quot;, nativeQuery = true)\r\n      List&lt;Questionnaire&gt; findFromQuestionnaireQuery(String json);","title":"Postgres JSONB type query from JPA","body":"<p>I suggest you to enable <code>nativeQuery = true</code>, it is going to solve the problem.</p>\n<pre><code>  @Query(value = &quot;select * from Questionnaire u where u.questionnaire @&gt; = ?1&quot;, nativeQuery = true)\n  List&lt;Questionnaire&gt; findFromQuestionnaireQuery(String json);\n</code></pre>\n"}],"owner":{"account_id":8727884,"reputation":605,"user_id":6528988,"accept_rate":25,"display_name":"Malinda Peiris"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694689890,"creation_date":1694658807,"question_id":77101442,"body_markdown":"I have a table called questionnaire and it contains a column with jsonb type which is also named questionnaire. I want to do below query in using JPA.\r\n\r\nJSON - \r\n\r\n    {&quot;guid&quot;: &quot;9c36adc1-7fb5-4d5b-83b4-90356a46061a&quot;, &quot;name&quot;: &quot;Angela Barton&quot;, &quot;tags&quot;: [&quot;enim&quot;, &quot;aliquip&quot;, &quot;qui&quot;], &quot;address&quot;: &quot;178 Howard Place, Gulf, Washington, 702&quot;, &quot;company&quot;: &quot;Magnafone&quot;, &quot;latitude&quot;: 19.793713, &quot;is_active&quot;: true, &quot;longitude&quot;: 86.513373, &quot;registered&quot;: &quot;2009-11-07T08:53:22 +08:00&quot;}\r\n\r\nQuey\r\n\r\n    SELECT * FROM questionnaire WHERE questionnaire @&gt;&#39;{&quot;company&quot;: &quot;Magnafone&quot;}&#39;; \r\n\r\nJPA Repository code\r\n\r\n\r\n    @Repository\r\n    public interface QuestionnaireRepository extends JpaRepository&lt;Questionnaire, Long&gt; {\r\n    \r\n    \r\n        @Query(&quot;select u from Questionnaire u where u.questionnaire @&gt; = ?1&quot;)\r\n        List&lt;Questionnaire&gt; findFromQuestionnaireQuery(String json);\r\n    }\r\n\r\nsince there is @ in the Query it throws a error in JPA. How to resolve this\r\n\r\n\r\n","title":"Postgres JSONB type query from JPA","body":"<p>I have a table called questionnaire and it contains a column with jsonb type which is also named questionnaire. I want to do below query in using JPA.</p>\n<p>JSON -</p>\n<pre><code>{&quot;guid&quot;: &quot;9c36adc1-7fb5-4d5b-83b4-90356a46061a&quot;, &quot;name&quot;: &quot;Angela Barton&quot;, &quot;tags&quot;: [&quot;enim&quot;, &quot;aliquip&quot;, &quot;qui&quot;], &quot;address&quot;: &quot;178 Howard Place, Gulf, Washington, 702&quot;, &quot;company&quot;: &quot;Magnafone&quot;, &quot;latitude&quot;: 19.793713, &quot;is_active&quot;: true, &quot;longitude&quot;: 86.513373, &quot;registered&quot;: &quot;2009-11-07T08:53:22 +08:00&quot;}\n</code></pre>\n<p>Quey</p>\n<pre><code>SELECT * FROM questionnaire WHERE questionnaire @&gt;'{&quot;company&quot;: &quot;Magnafone&quot;}'; \n</code></pre>\n<p>JPA Repository code</p>\n<pre><code>@Repository\npublic interface QuestionnaireRepository extends JpaRepository&lt;Questionnaire, Long&gt; {\n\n\n    @Query(&quot;select u from Questionnaire u where u.questionnaire @&gt; = ?1&quot;)\n    List&lt;Questionnaire&gt; findFromQuestionnaireQuery(String json);\n}\n</code></pre>\n<p>since there is @ in the Query it throws a error in JPA. How to resolve this</p>\n"},{"tags":["java","database","hibernate","jpa","entity"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1694702763,"post_id":77104243,"comment_id":135928868,"body_markdown":"Why would you expect A to have a B reference if you didn&#39;t set it? Your pseudocode doesn&#39;t show if you set the A-&gt;B reference to be some way bidirectional with the B-&gt;A reference or if they are completely independent (and so A has a FK to B in the A table). JPA also has 1st and 2nd levels of caching, so it is best practice to always keep bidirectional relationships in synch with what is in the database, even if it isn&#39;t strictly required to force the changes to be persisted there.","body":"Why would you expect A to have a B reference if you didn&#39;t set it? Your pseudocode doesn&#39;t show if you set the A-&gt;B reference to be some way bidirectional with the B-&gt;A reference or if they are completely independent (and so A has a FK to B in the A table). JPA also has 1st and 2nd levels of caching, so it is best practice to always keep bidirectional relationships in synch with what is in the database, even if it isn&#39;t strictly required to force the changes to be persisted there."}],"owner":{"account_id":7509953,"reputation":22160,"user_id":5705247,"accept_rate":27,"display_name":"Tuomas Toivonen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694689668,"creation_date":1694689149,"question_id":77104243,"body_markdown":"I have two entities with one-to-one -relation\r\n```\r\n// simplified pseudocode\r\n\r\npublic class EntityA {\r\n    @OneToOne EntityB entityB;\r\n}\r\n\r\npublic class EntityB {\r\n    @OneToOne EntityA entityA;\r\n}\r\n```\r\n\r\nFailing example\r\n\r\n```\r\nbRepository.saveAndFlush(EntityB.builder().entityA(entityA).build());\r\n\r\n... transaction continues\r\n\r\n// Fails, entity B is null\r\nassertThat(aRepository.getById(entityA.getId()).getEntityB()).isNotNull();\r\n```\r\n\r\nWorking example\r\n\r\n```\r\nentityA.setEntityB(bRepository.saveAndFlush(EntityB.builder().entityA(entityA).build()));\r\naRepository.saveAndFlush(entityA);\r\n\r\n... transaction continues\r\n\r\n// Succeeds, entity B is set\r\nassertThat(aRepository.getById(entityA.getId()).getEntityB()).isNotNull();\r\n```\r\n\r\nMy question is, why aRepository doesn&#39;t see the updated relation in first example? Saving entityA too seems redundant boilerplate to me, but is necessary to pick up the changed relation.","title":"JPA one-to-one relation not updated to A when saving B","body":"<p>I have two entities with one-to-one -relation</p>\n<pre><code>// simplified pseudocode\n\npublic class EntityA {\n    @OneToOne EntityB entityB;\n}\n\npublic class EntityB {\n    @OneToOne EntityA entityA;\n}\n</code></pre>\n<p>Failing example</p>\n<pre><code>bRepository.saveAndFlush(EntityB.builder().entityA(entityA).build());\n\n... transaction continues\n\n// Fails, entity B is null\nassertThat(aRepository.getById(entityA.getId()).getEntityB()).isNotNull();\n</code></pre>\n<p>Working example</p>\n<pre><code>entityA.setEntityB(bRepository.saveAndFlush(EntityB.builder().entityA(entityA).build()));\naRepository.saveAndFlush(entityA);\n\n... transaction continues\n\n// Succeeds, entity B is set\nassertThat(aRepository.getById(entityA.getId()).getEntityB()).isNotNull();\n</code></pre>\n<p>My question is, why aRepository doesn't see the updated relation in first example? Saving entityA too seems redundant boilerplate to me, but is necessary to pick up the changed relation.</p>\n"},{"tags":["java","android","android-studio","mobile"],"answers":[{"tags":[],"owner":{"account_id":27044422,"reputation":49,"user_id":20598818,"display_name":"Shankar Bhandari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694689593,"creation_date":1694689593,"answer_id":77104307,"question_id":77104135,"body_markdown":"Here is the case, in function\r\n\r\n&gt; onCreateOptionsMenu()\r\n\r\nremove the line \r\n\r\n&gt;  super.onCreateOptionsMenu(menu); \r\n\r\nand make sure that you have not added this for that activity \r\n\r\n&gt; android:theme=&quot;@style/AppTheme.NoActionBar&quot;\r\nin the androidManifest.xml \r\n\r\nand your AppTheme need to look like this \r\n\r\n    &lt;style name=&quot;AppTheme&quot; \r\n        parent=&quot;Theme.MaterialComponents.Light.DarkActionBar&quot;&gt;\r\n       &lt;!-- Customize your theme here. --&gt;\r\n    &lt;/style&gt;\r\n\r\nand now  onCreateOptionsMenu(Menu menu) will look like this :\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.your_menu, menu);\r\n        \r\n        return super.onCreateOptionsMenu(menu);\r\n    }\r\n\r\nHopes this helps &#128522;\r\n","title":"Cant create menu in android studio","body":"<p>Here is the case, in function</p>\n<blockquote>\n<p>onCreateOptionsMenu()</p>\n</blockquote>\n<p>remove the line</p>\n<blockquote>\n<p>super.onCreateOptionsMenu(menu);</p>\n</blockquote>\n<p>and make sure that you have not added this for that activity</p>\n<blockquote>\n<p>android:theme=&quot;@style/AppTheme.NoActionBar&quot;\nin the androidManifest.xml</p>\n</blockquote>\n<p>and your AppTheme need to look like this</p>\n<pre><code>&lt;style name=&quot;AppTheme&quot; \n    parent=&quot;Theme.MaterialComponents.Light.DarkActionBar&quot;&gt;\n   &lt;!-- Customize your theme here. --&gt;\n&lt;/style&gt;\n</code></pre>\n<p>and now  onCreateOptionsMenu(Menu menu) will look like this :</p>\n<pre><code>@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    getMenuInflater().inflate(R.menu.your_menu, menu);\n    \n    return super.onCreateOptionsMenu(menu);\n}\n</code></pre>\n<p>Hopes this helps 😊</p>\n"}],"owner":{"account_id":24824663,"reputation":15,"user_id":19144051,"display_name":"Владислав "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77104307,"answer_count":1,"score":0,"last_activity_date":1694689593,"creation_date":1694688179,"question_id":77104135,"body_markdown":"I created file menu and try to call onCreateOptionsMenu but it doesen&#39;t create any menu,here I call my method ,but when I created this activity I see next picture,just input fields without any menu:\r\n\r\n[![(menu) add_item.xml][1]][1]\r\n\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RGyaR.png\r\n  [2]: https://i.stack.imgur.com/uMJWU.png\r\n  [3]: https://i.stack.imgur.com/fTShZ.png","title":"Cant create menu in android studio","body":"<p>I created file menu and try to call onCreateOptionsMenu but it doesen't create any menu,here I call my method ,but when I created this activity I see next picture,just input fields without any menu:</p>\n<p><a href=\"https://i.stack.imgur.com/RGyaR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RGyaR.png\" alt=\"(menu) add_item.xml\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/uMJWU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uMJWU.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/fTShZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fTShZ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","intellij-idea","azure-functions","intellij-plugin","spring-cloud-function"],"comments":[{"owner":{"account_id":5591785,"reputation":534,"user_id":4430769,"display_name":"tzolov"},"score":0,"creation_date":1694616854,"post_id":77097386,"comment_id":135915352,"body_markdown":"I don&#39;t have Intelij for testing. \nCheck the [1.3.3. Main-Class Configuration](https://docs.spring.io/spring-cloud-function/docs/4.1.0-M1/reference/html/azure.html#star-class-configuration) of the documentation, which suggests using the `MAIN_CLASS` environment variable. You should be able to configure env with the IDEA runs.","body":"I don&#39;t have Intelij for testing.  Check the <a href=\"https://docs.spring.io/spring-cloud-function/docs/4.1.0-M1/reference/html/azure.html#star-class-configuration\" rel=\"nofollow noreferrer\">1.3.3. Main-Class Configuration</a> of the documentation, which suggests using the <code>MAIN_CLASS</code> environment variable. You should be able to configure env with the IDEA runs."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1694633201,"post_id":77097386,"comment_id":135918431,"body_markdown":"@tzolov `MAIN_CLASS` as an env variable worked. But it is ignored in the `local.settings.json` even after I ran `mvn clean package` and verified that the `target` folder had the updated `local.settings.json`. Added the details in the edit.","body":"@tzolov <code>MAIN_CLASS</code> as an env variable worked. But it is ignored in the <code>local.settings.json</code> even after I ran <code>mvn clean package</code> and verified that the <code>target</code> folder had the updated <code>local.settings.json</code>. Added the details in the edit."},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1694633581,"post_id":77097386,"comment_id":135918501,"body_markdown":"@tzolov Thank you once again. I had to add it to the settings on the &quot;Run Configurations&quot;. You might want to add this into an answer. Thanks again.","body":"@tzolov Thank you once again. I had to add it to the settings on the &quot;Run Configurations&quot;. You might want to add this into an answer. Thanks again."},{"owner":{"account_id":5591785,"reputation":534,"user_id":4430769,"display_name":"tzolov"},"score":0,"creation_date":1694689600,"post_id":77097386,"comment_id":135925807,"body_markdown":"Thanks for the update @ng.newbie . \nI&#39;ve just added an `answer` as well so it will be easier to find the solution.  Feel free to upvote or comment under it (e.g. mention that the `local.settings.json` alone doesn&#39;t set the main-class.","body":"Thanks for the update @ng.newbie .  I&#39;ve just added an <code>answer</code> as well so it will be easier to find the solution.  Feel free to upvote or comment under it (e.g. mention that the <code>local.settings.json</code> alone doesn&#39;t set the main-class."}],"answers":[{"tags":[],"owner":{"account_id":5591785,"reputation":534,"user_id":4430769,"display_name":"tzolov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694689478,"creation_date":1694689478,"answer_id":77104289,"question_id":77097386,"body_markdown":"As the [Main-Class Configuration](https://docs.spring.io/spring-cloud-function/docs/4.1.0-M1/reference/html/azure.html#star-class-configuration) documentation suggests, one ca use the `MAIN_CLASS` environment variable to explicitly set the main class in the IDE&#39;s run configuration.","title":"Spring Azure Function - Unable to load Main Class when running from IntelliJ Azure Toolkit","body":"<p>As the <a href=\"https://docs.spring.io/spring-cloud-function/docs/4.1.0-M1/reference/html/azure.html#star-class-configuration\" rel=\"nofollow noreferrer\">Main-Class Configuration</a> documentation suggests, one ca use the <code>MAIN_CLASS</code> environment variable to explicitly set the main class in the IDE's run configuration.</p>\n"}],"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77104289,"answer_count":1,"score":0,"last_activity_date":1694689478,"creation_date":1694610671,"question_id":77097386,"body_markdown":"I am trying to execute Spring Azure Functions from IntelliJ.\r\n\r\nThe example I am using is here: \r\n\r\nhttps://github.com/spring-cloud/spring-cloud-function/tree/main/spring-cloud-function-samples/function-sample-azure-http-trigger\r\n\r\nWhen I click on the Run Azure Function Button on IntelliJ:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe application starts up normally, but fails when I try to hit any endpoint:\r\n\r\n    http://localhost:7071/api/scf\r\n\r\nWith the error:\r\n\r\n    [2023-09-13T12:59:34.868Z] System.Private.CoreLib: Exception while executing function: Functions.bean. System.Private.CoreLib: Result: Failure\r\n    Exception: IllegalArgumentException: Failed to locate main class\r\n    Stack: java.lang.IllegalStateException: Failed to initialize\r\n\r\n**This happens ONLY when running from IntelliJ. It does not happen when I use the command:**\r\n\r\n    mvn azure-functions:run\r\n\r\n\r\nPossible reasons for the error:\r\n\r\nThe app is unable to locate the &quot;start class&quot; defined in the `pom.xml` when using the plugin:\r\n\r\n    &lt;start-class&gt;com.example.azure.di.httptriggerdemo.HttpTriggerDemoApplication&lt;/start-class&gt;\r\n\r\nYou can see by the difference in the traces when the application is run from plugin vs Maven:\r\n\r\nPlugin version: (Looks in the wrong places)\r\n\r\n    [2023-09-13T12:59:34.390Z] Executing &#39;Functions.bean&#39; (Reason=&#39;This function was programmatically called via the host APIs.&#39;, Id=e363957c-09eb-4602-b76b-97a419b8f938)\r\n    [2023-09-13T12:59:34.698Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.699Z] INFO: Searching for start class in manifest: jar:file:/C:/Program%20Files/Microsoft/Azure%20Functions%20Core%20Tools/workers/java/azure-functions-java-worker.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.700Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.700Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-cloud-function-context-4.1.0-20230911.141441-157.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.702Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.702Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-cloud-function-core-4.1.0-20230911.141334-157.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.704Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.704Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-core-6.1.0-M4.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.706Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.707Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/azure-httptrigger-demo.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.709Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.709Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-messaging-6.1.0-M4.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.711Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.711Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/micrometer-observation-1.12.0-M2.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.713Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.713Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-cloud-function-adapter-azure-4.1.0-20230911.141719-144.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.714Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.714Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-context-6.1.0-M4.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.715Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.715Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-boot-3.2.0-M2.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.716Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.716Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-aop-6.1.0-M4.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.720Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.720Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/jackson-annotations-2.15.2.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.722Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.723Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/reactive-streams-1.0.4.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.724Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.724Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/jakarta.annotation-api-2.1.1.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.726Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.726Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-expression-6.1.0-M4.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.729Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.729Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/snakeyaml-2.1.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.732Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.732Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/reactor-core-3.6.0-M2.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.734Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.734Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/micrometer-commons-1.12.0-M2.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.735Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.736Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/typetools-0.6.2.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.737Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.738Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-boot-autoconfigure-3.2.0-M2.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.740Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.740Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/jackson-core-2.15.2.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.740Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.743Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-jcl-6.1.0-M4.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.743Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.743Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-boot-starter-3.2.0-M2.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.762Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.763Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/azure-functions-java-library-3.0.0.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.764Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.764Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/jackson-databind-2.15.2.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.766Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.766Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-beans-6.1.0-M4.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.780Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.781Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/azure-functions-java-spi-1.0.0.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.782Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T12:59:34.782Z] INFO: Searching for start class in manifest: jar:file:/C:/Program%20Files/Microsoft/Azure%20Functions%20Core%20Tools/workers/java/annotationLib/azure-functions-java-library-2.0.1-SNAPSHOT.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T12:59:34.867Z] Executed &#39;Functions.bean&#39; (Failed, Id=e363957c-09eb-4602-b76b-97a419b8f938, Duration=536ms)\r\n    [2023-09-13T12:59:34.868Z] System.Private.CoreLib: Exception while executing function: Functions.bean. System.Private.CoreLib: Result: Failure\r\n    Exception: IllegalArgumentException: Failed to locate main class\r\n    Stack: java.lang.IllegalStateException: Failed to initialize\r\n\r\n\r\nMaven Version (Looks in the correct place and finds the start class):\r\n\r\n    [2023-09-13T13:01:33.990Z] Executing &#39;Functions.bean&#39; (Reason=&#39;This function was programmatically called via the host APIs.&#39;, Id=532d5eb5-6323-4de9-b294-27911cb6fdea)\r\n    [2023-09-13T13:01:34.153Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T13:01:34.154Z] INFO: Searching for start class in manifest: jar:file:/C:/Program%20Files/Microsoft/Azure%20Functions%20Core%20Tools/workers/java/azure-functions-java-worker.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T13:01:34.158Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T13:01:34.159Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\r\n    unction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/lib/reactive-streams-1.0.4.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T13:01:34.164Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T13:01:34.165Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\r\n    unction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/lib/spring-boot-3.2.0-M2.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T13:01:34.171Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T13:01:34.172Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\r\n    unction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/lib/azure-functions-java-spi-1.0.0.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T13:01:34.173Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T13:01:34.174Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\r\n    unction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/lib/micrometer-commons-1.12.0-M2.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T13:01:34.180Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T13:01:34.181Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\r\n    unction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/lib/reactor-core-3.6.0-M2.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T13:01:34.183Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T13:01:34.185Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\r\n    unction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/lib/azure-functions-java-library-3.0.0.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T13:01:34.186Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T13:01:34.187Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\r\n    unction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/lib/spring-core-6.1.0-M4.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T13:01:34.190Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T13:01:34.191Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\r\n    unction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/lib/spring-aop-6.1.0-M4.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T13:01:34.192Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T13:01:34.195Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\r\n    unction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/azure-httptrigger-demo-0.0.1-SNAPSHOT.jar!/META-INF/MANIFEST.MF\r\n    [2023-09-13T13:01:34.196Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T13:01:34.197Z] INFO: Loaded Start Class: class com.example.azure.di.httptriggerdemo.HttpTriggerDemoApplication\r\n    [2023-09-13T13:01:34.198Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\r\n    [2023-09-13T13:01:34.198Z] INFO: Main class: class com.example.azure.di.httptriggerdemo.\r\n\r\n\r\nI believe the reason why this is happening is because of the thin-layout plugin used to change the layout in the beginning:\r\n\r\n             &lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;dependencies&gt;\r\n    \t\t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.springframework.boot.experimental&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;spring-boot-thin-layout&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;${spring-boot-thin-layout.version}&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t&lt;/dependencies&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n\r\n\r\nAs per @tzolov&#39;s comment&#39;s if you declare\r\n`MAIN_CLASS` as an environment variable it works.\r\n\r\nIf you want to add into a local run then add it in the &quot;Run Configurations&quot;:\r\n\r\n[![enter image description here][2]][2] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/S1ZQa.png\r\n  [2]: https://i.stack.imgur.com/1ew3M.png","title":"Spring Azure Function - Unable to load Main Class when running from IntelliJ Azure Toolkit","body":"<p>I am trying to execute Spring Azure Functions from IntelliJ.</p>\n<p>The example I am using is here:</p>\n<p><a href=\"https://github.com/spring-cloud/spring-cloud-function/tree/main/spring-cloud-function-samples/function-sample-azure-http-trigger\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-function/tree/main/spring-cloud-function-samples/function-sample-azure-http-trigger</a></p>\n<p>When I click on the Run Azure Function Button on IntelliJ:</p>\n<p><a href=\"https://i.stack.imgur.com/S1ZQa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S1ZQa.png\" alt=\"enter image description here\" /></a></p>\n<p>The application starts up normally, but fails when I try to hit any endpoint:</p>\n<pre><code>http://localhost:7071/api/scf\n</code></pre>\n<p>With the error:</p>\n<pre><code>[2023-09-13T12:59:34.868Z] System.Private.CoreLib: Exception while executing function: Functions.bean. System.Private.CoreLib: Result: Failure\nException: IllegalArgumentException: Failed to locate main class\nStack: java.lang.IllegalStateException: Failed to initialize\n</code></pre>\n<p><strong>This happens ONLY when running from IntelliJ. It does not happen when I use the command:</strong></p>\n<pre><code>mvn azure-functions:run\n</code></pre>\n<p>Possible reasons for the error:</p>\n<p>The app is unable to locate the &quot;start class&quot; defined in the <code>pom.xml</code> when using the plugin:</p>\n<pre><code>&lt;start-class&gt;com.example.azure.di.httptriggerdemo.HttpTriggerDemoApplication&lt;/start-class&gt;\n</code></pre>\n<p>You can see by the difference in the traces when the application is run from plugin vs Maven:</p>\n<p>Plugin version: (Looks in the wrong places)</p>\n<pre><code>[2023-09-13T12:59:34.390Z] Executing 'Functions.bean' (Reason='This function was programmatically called via the host APIs.', Id=e363957c-09eb-4602-b76b-97a419b8f938)\n[2023-09-13T12:59:34.698Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.699Z] INFO: Searching for start class in manifest: jar:file:/C:/Program%20Files/Microsoft/Azure%20Functions%20Core%20Tools/workers/java/azure-functions-java-worker.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.700Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.700Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-cloud-function-context-4.1.0-20230911.141441-157.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.702Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.702Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-cloud-function-core-4.1.0-20230911.141334-157.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.704Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.704Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-core-6.1.0-M4.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.706Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.707Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/azure-httptrigger-demo.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.709Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.709Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-messaging-6.1.0-M4.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.711Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.711Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/micrometer-observation-1.12.0-M2.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.713Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.713Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-cloud-function-adapter-azure-4.1.0-20230911.141719-144.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.714Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.714Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-context-6.1.0-M4.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.715Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.715Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-boot-3.2.0-M2.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.716Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.716Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-aop-6.1.0-M4.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.720Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.720Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/jackson-annotations-2.15.2.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.722Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.723Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/reactive-streams-1.0.4.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.724Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.724Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/jakarta.annotation-api-2.1.1.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.726Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.726Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-expression-6.1.0-M4.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.729Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.729Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/snakeyaml-2.1.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.732Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.732Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/reactor-core-3.6.0-M2.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.734Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.734Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/micrometer-commons-1.12.0-M2.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.735Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.736Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/typetools-0.6.2.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.737Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.738Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-boot-autoconfigure-3.2.0-M2.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.740Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.740Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/jackson-core-2.15.2.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.740Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.743Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-jcl-6.1.0-M4.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.743Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.743Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-boot-starter-3.2.0-M2.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.762Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.763Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/azure-functions-java-library-3.0.0.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.764Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.764Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/jackson-databind-2.15.2.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.766Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.766Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/spring-beans-6.1.0-M4.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.780Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.781Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/AppData/Local/Temp/azure-functions6066515897205809182/lib/azure-functions-java-spi-1.0.0.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.782Z] Sep 13, 2023 6:29:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T12:59:34.782Z] INFO: Searching for start class in manifest: jar:file:/C:/Program%20Files/Microsoft/Azure%20Functions%20Core%20Tools/workers/java/annotationLib/azure-functions-java-library-2.0.1-SNAPSHOT.jar!/META-INF/MANIFEST.MF\n[2023-09-13T12:59:34.867Z] Executed 'Functions.bean' (Failed, Id=e363957c-09eb-4602-b76b-97a419b8f938, Duration=536ms)\n[2023-09-13T12:59:34.868Z] System.Private.CoreLib: Exception while executing function: Functions.bean. System.Private.CoreLib: Result: Failure\nException: IllegalArgumentException: Failed to locate main class\nStack: java.lang.IllegalStateException: Failed to initialize\n</code></pre>\n<p>Maven Version (Looks in the correct place and finds the start class):</p>\n<pre><code>[2023-09-13T13:01:33.990Z] Executing 'Functions.bean' (Reason='This function was programmatically called via the host APIs.', Id=532d5eb5-6323-4de9-b294-27911cb6fdea)\n[2023-09-13T13:01:34.153Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T13:01:34.154Z] INFO: Searching for start class in manifest: jar:file:/C:/Program%20Files/Microsoft/Azure%20Functions%20Core%20Tools/workers/java/azure-functions-java-worker.jar!/META-INF/MANIFEST.MF\n[2023-09-13T13:01:34.158Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T13:01:34.159Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\nunction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/lib/reactive-streams-1.0.4.jar!/META-INF/MANIFEST.MF\n[2023-09-13T13:01:34.164Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T13:01:34.165Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\nunction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/lib/spring-boot-3.2.0-M2.jar!/META-INF/MANIFEST.MF\n[2023-09-13T13:01:34.171Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T13:01:34.172Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\nunction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/lib/azure-functions-java-spi-1.0.0.jar!/META-INF/MANIFEST.MF\n[2023-09-13T13:01:34.173Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T13:01:34.174Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\nunction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/lib/micrometer-commons-1.12.0-M2.jar!/META-INF/MANIFEST.MF\n[2023-09-13T13:01:34.180Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T13:01:34.181Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\nunction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/lib/reactor-core-3.6.0-M2.jar!/META-INF/MANIFEST.MF\n[2023-09-13T13:01:34.183Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T13:01:34.185Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\nunction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/lib/azure-functions-java-library-3.0.0.jar!/META-INF/MANIFEST.MF\n[2023-09-13T13:01:34.186Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T13:01:34.187Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\nunction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/lib/spring-core-6.1.0-M4.jar!/META-INF/MANIFEST.MF\n[2023-09-13T13:01:34.190Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T13:01:34.191Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\nunction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/lib/spring-aop-6.1.0-M4.jar!/META-INF/MANIFEST.MF\n[2023-09-13T13:01:34.192Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T13:01:34.195Z] INFO: Searching for start class in manifest: jar:file:/C:/Users/ng.newbie/IdeaProjects/spring-cloud-function/spring-cloud-f\nunction-samples/function-sample-azure-http-trigger/target/azure-functions/spring-cloud-function-samples/azure-httptrigger-demo-0.0.1-SNAPSHOT.jar!/META-INF/MANIFEST.MF\n[2023-09-13T13:01:34.196Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T13:01:34.197Z] INFO: Loaded Start Class: class com.example.azure.di.httptriggerdemo.HttpTriggerDemoApplication\n[2023-09-13T13:01:34.198Z] Sep 13, 2023 6:31:34 PM org.springframework.cloud.function.utils.FunctionClassUtils getStartClass\n[2023-09-13T13:01:34.198Z] INFO: Main class: class com.example.azure.di.httptriggerdemo.\n</code></pre>\n<p>I believe the reason why this is happening is because of the thin-layout plugin used to change the layout in the beginning:</p>\n<pre><code>         &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.springframework.boot.experimental&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-thin-layout&lt;/artifactId&gt;\n                        &lt;version&gt;${spring-boot-thin-layout.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>As per @tzolov's comment's if you declare\n<code>MAIN_CLASS</code> as an environment variable it works.</p>\n<p>If you want to add into a local run then add it in the &quot;Run Configurations&quot;:</p>\n<p><a href=\"https://i.stack.imgur.com/1ew3M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1ew3M.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","selenium-webdriver","alert"],"comments":[{"owner":{"account_id":26682848,"reputation":3533,"user_id":20292589,"display_name":"Yaroslavm"},"score":0,"creation_date":1694707448,"post_id":77104246,"comment_id":135929945,"body_markdown":"is your alert - Basic HTTP Authentication, where you should enter login and password? https://stackoverflow.com/questions/77075500/selenium-with-python-how-to-handle-two-text-field-in-alert-box/77076681#77076681 - Does this answers your question?","body":"is your alert - Basic HTTP Authentication, where you should enter login and password? <a href=\"https://stackoverflow.com/questions/77075500/selenium-with-python-how-to-handle-two-text-field-in-alert-box/77076681#77076681\" title=\"selenium with python how to handle two text field in alert box\">stackoverflow.com/questions/77075500/&hellip;</a> - Does this answers your question?"},{"owner":{"account_id":19772229,"reputation":91,"user_id":14478976,"display_name":"Vlad"},"score":0,"creation_date":1694773593,"post_id":77104246,"comment_id":135938517,"body_markdown":"Hi @Yaroslavm, yes, I&#39;m trying to do exactly that. I&#39;ve checked the answer and tried to recreate it in java (using the first example) and it helped, thanks!","body":"Hi @Yaroslavm, yes, I&#39;m trying to do exactly that. I&#39;ve checked the answer and tried to recreate it in java (using the first example) and it helped, thanks!"}],"owner":{"account_id":19772229,"reputation":91,"user_id":14478976,"display_name":"Vlad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694689156,"creation_date":1694689156,"question_id":77104246,"body_markdown":"While trying to automate a flow which includes an &#39;alert&#39; popup after the click of a button, I am sending an `driver.switchTo().alert();` command to focus the driver on the popup, but while trying to do so, I&#39;m getting the `NoAlertPresent no such alert` error during compiling.\r\n\r\nI&#39;ve tried to do this in two ways, but for them both I&#39;m having the same issue\r\n\r\nWay 1:\r\n\r\n    \tnew WebDriverWait(driver, Duration.ofSeconds(1));\r\n\t\tAlert promtAlert = driver.switchTo().alert();\r\n\t\tString login = &quot;admin&quot;;\r\n\t\tString password = &quot;admin&quot;;\r\n\t\tpromtAlert.sendKeys(login + Keys.TAB + password);\r\n\t\tpromtAlert.dismiss();\r\n\r\nWay 2:\r\n\r\n    \t\ttry {\r\n\t\t\tsleep(1);\r\n\t\t\tAlert promtAlert = driver.switchTo().alert();\r\n\t\t\tString login = &quot;admin&quot;;\r\n\t\t\tString password = &quot;admin&quot;;\r\n\t\t\tpromtAlert.sendKeys(login + Keys.TAB + password);\r\n\t\t\tpromtAlert.dismiss();\r\n\t\t} catch (NoAlertPresentException e) {\r\n\t\t\tSystem.out.println(&quot;NoAlertPresent handled&quot;);\r\n\t\t}\r\n\r\n\r\nBut in both casses I&#39;m not getting the expected result, that being passing the variables and &quot;selecting&quot; the dismiss option for the popup.\r\n\r\nI am getting the error specifically for the line: `Alert promtAlert = driver.switchTo().alert();`\r\n\r\nCould you help me understand what I&#39;m doing wrong in this case?","title":"Java, Selenium: NoAlertPresent no such allert error","body":"<p>While trying to automate a flow which includes an 'alert' popup after the click of a button, I am sending an <code>driver.switchTo().alert();</code> command to focus the driver on the popup, but while trying to do so, I'm getting the <code>NoAlertPresent no such alert</code> error during compiling.</p>\n<p>I've tried to do this in two ways, but for them both I'm having the same issue</p>\n<p>Way 1:</p>\n<pre><code>    new WebDriverWait(driver, Duration.ofSeconds(1));\n    Alert promtAlert = driver.switchTo().alert();\n    String login = &quot;admin&quot;;\n    String password = &quot;admin&quot;;\n    promtAlert.sendKeys(login + Keys.TAB + password);\n    promtAlert.dismiss();\n</code></pre>\n<p>Way 2:</p>\n<pre><code>        try {\n        sleep(1);\n        Alert promtAlert = driver.switchTo().alert();\n        String login = &quot;admin&quot;;\n        String password = &quot;admin&quot;;\n        promtAlert.sendKeys(login + Keys.TAB + password);\n        promtAlert.dismiss();\n    } catch (NoAlertPresentException e) {\n        System.out.println(&quot;NoAlertPresent handled&quot;);\n    }\n</code></pre>\n<p>But in both casses I'm not getting the expected result, that being passing the variables and &quot;selecting&quot; the dismiss option for the popup.</p>\n<p>I am getting the error specifically for the line: <code>Alert promtAlert = driver.switchTo().alert();</code></p>\n<p>Could you help me understand what I'm doing wrong in this case?</p>\n"},{"tags":["java","exception","custom-exceptions","throws"],"answers":[{"tags":[],"owner":{"account_id":3302687,"reputation":3037,"user_id":2778422,"display_name":"zaerymoghaddam"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1694688940,"creation_date":1380919037,"answer_id":19190346,"question_id":19190280,"body_markdown":"There are two types of Exceptions in Java: **Checked Exceptions** and **Unchecked Exceptions**. Checked exception has to be caught or declared to be thrown (like `MalfomedURLException`) but catching Unchecked exceptions (like `IllegalArgumentException`) is not mandatory and you can let the caller catch them (or throw them up to its own caller).\r\n\r\nFor more information, take a look at this post:\r\n\r\n[Java: Checked vs Unchecked Exceptions Explanation][1]\r\n\r\nIf you extend your custom exception class from `RuntimeException` or any exception class inherited from it, then catching your exception will not be mandatory. \r\n\r\n  [1]: https://stackoverflow.com/questions/6115896/java-checked-vs-unchecked-exception-explanation","title":"Why is it not necessary to catch the IllegalArgumentException?","body":"<p>There are two types of Exceptions in Java: <strong>Checked Exceptions</strong> and <strong>Unchecked Exceptions</strong>. Checked exception has to be caught or declared to be thrown (like <code>MalfomedURLException</code>) but catching Unchecked exceptions (like <code>IllegalArgumentException</code>) is not mandatory and you can let the caller catch them (or throw them up to its own caller).</p>\n<p>For more information, take a look at this post:</p>\n<p><a href=\"https://stackoverflow.com/questions/6115896/java-checked-vs-unchecked-exception-explanation\">Java: Checked vs Unchecked Exceptions Explanation</a></p>\n<p>If you extend your custom exception class from <code>RuntimeException</code> or any exception class inherited from it, then catching your exception will not be mandatory.</p>\n"},{"tags":[],"owner":{"account_id":1280933,"reputation":1024,"user_id":1235040,"accept_rate":75,"display_name":"Vijay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660891958,"creation_date":1380919266,"answer_id":19190415,"question_id":19190280,"body_markdown":"`IllegalArgumentException` is unchecked exception , so if you do not catch it then it will be handled by JVM , these exceptions are sublclasses of `RuntimeException`, `Error`, while `MalformedURLException` is checked exception which must be caught by programmer.All `IOExceptions` are checked exceptions [Read here for more info][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/essential/exceptions/runtime.html","title":"Why is it not necessary to catch the IllegalArgumentException?","body":"<p><code>IllegalArgumentException</code> is unchecked exception , so if you do not catch it then it will be handled by JVM , these exceptions are sublclasses of <code>RuntimeException</code>, <code>Error</code>, while <code>MalformedURLException</code> is checked exception which must be caught by programmer.All <code>IOExceptions</code> are checked exceptions <a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/runtime.html\" rel=\"nofollow noreferrer\">Read here for more info</a></p>\n"}],"owner":{"account_id":416369,"reputation":16459,"user_id":791713,"accept_rate":74,"display_name":"Niklas R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2627,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":19190346,"answer_count":2,"score":7,"last_activity_date":1694688940,"creation_date":1380918794,"question_id":19190280,"body_markdown":"I wonder why the `IllegalArgumentException` class does not *need* to be catched or declared, while other exceptions have to (eg `java.net.MalformedURLException`).\r\n\r\n    public void foo() {\r\n        throw new IllegalArgumentException(&quot;spam&quot;);\r\n    }\r\n\r\n    public void bar() throws MalformedURLException { // required\r\n        throw new MalformedURLException(&quot;ham&quot;);\r\n    }\r\nI know that `Error`s do not have to be declared because they are not intended to be catched.\r\n\r\nI&#39;d like to declare a new exception which also does not require to be catched.","title":"Why is it not necessary to catch the IllegalArgumentException?","body":"<p>I wonder why the <code>IllegalArgumentException</code> class does not <em>need</em> to be catched or declared, while other exceptions have to (eg <code>java.net.MalformedURLException</code>).</p>\n\n<pre><code>public void foo() {\n    throw new IllegalArgumentException(\"spam\");\n}\n\npublic void bar() throws MalformedURLException { // required\n    throw new MalformedURLException(\"ham\");\n}\n</code></pre>\n\n<p>I know that <code>Error</code>s do not have to be declared because they are not intended to be catched.</p>\n\n<p>I'd like to declare a new exception which also does not require to be catched.</p>\n"},{"tags":["java","selenium-webdriver","xpath","webdriver"],"comments":[{"owner":{"account_id":4570164,"reputation":4170,"user_id":3710053,"display_name":"Siebe Jongebloed"},"score":0,"creation_date":1694686770,"post_id":77090868,"comment_id":135925179,"body_markdown":"`//div[contains(@id,&#39;-2&#39;)]` should work.\nwhat happens if you use that?","body":"<code>&#47;&#47;div[contains(@id,&#39;-2&#39;)]</code> should work. what happens if you use that?"}],"answers":[{"tags":[],"owner":{"account_id":4570164,"reputation":4170,"user_id":3710053,"display_name":"Siebe Jongebloed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694688827,"creation_date":1694687111,"answer_id":77104016,"question_id":77090868,"body_markdown":"`//div[ends-with(@id,&#39;-2&#39;)]` `ends-with` is not XPath 1.0\r\n\r\n`//div[contains(@id,&#39;-2&#39;)]` will not work if :\r\n\r\n1. Your result expects only one element and there are besides `id=&quot;abc123-2&quot;` also is&#39;s like `id=&quot;abc123-21&quot;`\r\n2. the random string `abc123` also contains a `-2`\r\n\r\nIf random string `abc123` does **not contain a dash** you could use this XPath:\r\n\r\n`//div[substring-after(@id,&#39;-&#39;)=&#39;2&#39;]`\r\n\r\nThe best option is to use this `XPath 1.0` alternative for `ends-with`:\r\n\r\n    //div[@id[substring(.,string-length(.) - string-length(&#39;2&#39;) + 1) = &#39;2&#39;]]\r\n\r\nwhere in this case `2` is the static part you want to use that as a variable when you compose your XPath ","title":"Selenium webdriver - How to locate the dropdown select element with first part is dynamic and second part is static","body":"<p><code>//div[ends-with(@id,'-2')]</code> <code>ends-with</code> is not XPath 1.0</p>\n<p><code>//div[contains(@id,'-2')]</code> will not work if :</p>\n<ol>\n<li>Your result expects only one element and there are besides <code>id=&quot;abc123-2&quot;</code> also is's like <code>id=&quot;abc123-21&quot;</code></li>\n<li>the random string <code>abc123</code> also contains a <code>-2</code></li>\n</ol>\n<p>If random string <code>abc123</code> does <strong>not contain a dash</strong> you could use this XPath:</p>\n<p><code>//div[substring-after(@id,'-')='2']</code></p>\n<p>The best option is to use this <code>XPath 1.0</code> alternative for <code>ends-with</code>:</p>\n<pre><code>//div[@id[substring(.,string-length(.) - string-length('2') + 1) = '2']]\n</code></pre>\n<p>where in this case <code>2</code> is the static part you want to use that as a variable when you compose your XPath</p>\n"}],"owner":{"account_id":29424144,"reputation":11,"user_id":22545286,"display_name":"Rajeev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694688827,"creation_date":1694534632,"question_id":77090868,"body_markdown":"The ID is dynamic - first part is dynamic and second part is static\r\n\r\n[Example element code]\r\n\r\n```\r\n&lt;div class=&quot;ng-option ng-star-inserted&quot; role=&quot;option&quot; id=&quot;abc123-0&quot;&gt;\r\n&lt;div class=&quot;ng-option ng-star-inserted&quot; role=&quot;option&quot; id=&quot;abc123-1&quot;&gt;\r\n&lt;div class=&quot;ng-option ng-star-inserted&quot; role=&quot;option&quot; id=&quot;abc123-2&quot;&gt;\r\n```\r\n\r\n`abc123` is dynamic and `-0`, `-1`, `-2` is static\r\n\r\nNot able to capture the value in drop-down\r\n\r\n\r\nI have tried below:\r\n\r\n \r\n`//div[contains(@id,&#39;-2&#39;)]` -  Not working\r\n\r\n\r\n`//div[ends-with(@id,&#39;-2&#39;)]` -  Not working\r\n\r\n","title":"Selenium webdriver - How to locate the dropdown select element with first part is dynamic and second part is static","body":"<p>The ID is dynamic - first part is dynamic and second part is static</p>\n<p>[Example element code]</p>\n<pre><code>&lt;div class=&quot;ng-option ng-star-inserted&quot; role=&quot;option&quot; id=&quot;abc123-0&quot;&gt;\n&lt;div class=&quot;ng-option ng-star-inserted&quot; role=&quot;option&quot; id=&quot;abc123-1&quot;&gt;\n&lt;div class=&quot;ng-option ng-star-inserted&quot; role=&quot;option&quot; id=&quot;abc123-2&quot;&gt;\n</code></pre>\n<p><code>abc123</code> is dynamic and <code>-0</code>, <code>-1</code>, <code>-2</code> is static</p>\n<p>Not able to capture the value in drop-down</p>\n<p>I have tried below:</p>\n<p><code>//div[contains(@id,'-2')]</code> -  Not working</p>\n<p><code>//div[ends-with(@id,'-2')]</code> -  Not working</p>\n"},{"tags":["java","android","kotlin","android-jetpack-compose","user-input"],"owner":{"account_id":25709482,"reputation":137,"user_id":19468261,"display_name":"ShahZaman Rai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1694688409,"creation_date":1694688409,"question_id":77104159,"body_markdown":"I&#39;m facing an issue with my Android Compose keyboard layout where the symbol layout is displaying the &quot;qwerty&quot; label instead of the expected symbols. I&#39;ve tried troubleshooting, but I can&#39;t seem to figure out what&#39;s causing this problem. Here are the details:\r\n\r\nI have implemented a custom Android Compose keyboard with two layout states: &quot;qwerty&quot; and &quot;symbols.&quot; The idea is to switch between these layouts to input either regular text or symbols.\r\n\r\nWhen I switch to the &quot;symbols&quot; layout and press a key, it correctly displays the symbol character on the key itself, but the character entered into the text field is still the &quot;qwerty&quot; character, which is unexpected.\r\n\r\nI&#39;ve verified that the layout state switches correctly to &quot;symbols&quot; when the layout switch key is pressed.\r\n\r\nIn the symbolsLayout array, I&#39;ve defined the symbol characters I want to display for each key.\r\n\r\nThe CustomKey composable, which handles key presses, seems to be aware of the currentLayout state to determine whether to display symbols or qwerty characters.\r\n\r\nHere is my code.\r\n**CustomKeyboard**\r\n```\r\npackage com.soloftech.keyboard.presentation.layout\r\n\r\nimport android.content.Context\r\nimport android.os.Vibrator\r\nimport androidx.compose.foundation.background\r\nimport androidx.compose.foundation.layout.Arrangement\r\nimport androidx.compose.foundation.layout.Box\r\nimport androidx.compose.foundation.layout.Column\r\nimport androidx.compose.foundation.layout.Row\r\nimport androidx.compose.foundation.layout.fillMaxWidth\r\nimport androidx.compose.foundation.layout.padding\r\nimport androidx.compose.runtime.Composable\r\nimport androidx.compose.runtime.DisposableEffect\r\nimport androidx.compose.runtime.getValue\r\nimport androidx.compose.runtime.mutableStateOf\r\nimport androidx.compose.runtime.remember\r\nimport androidx.compose.runtime.setValue\r\nimport androidx.compose.ui.Modifier\r\nimport androidx.compose.ui.res.colorResource\r\nimport androidx.compose.ui.res.dimensionResource\r\nimport androidx.compose.ui.tooling.preview.Preview\r\nimport androidx.compose.ui.unit.dp\r\nimport com.soloftech.keyboard.R\r\nimport com.soloftech.keyboard.data.keyboard_layout.Key\r\nimport com.soloftech.keyboard.data.keyboard_layout.LayoutState\r\nimport com.soloftech.keyboard.data.layout.qwertyLayout\r\nimport com.soloftech.keyboard.data.layout.symbolsLayout\r\nimport com.soloftech.keyboard.domain.KeyboardVisibilityProvider\r\nimport com.soloftech.keyboard.domain.vibrate\r\nimport com.soloftech.keyboard.presentation.service.CustomImeService\r\n\r\n@Composable\r\nfun CustomKeyboard(\r\n    imeService: CustomImeService?,\r\n    vibrator: Vibrator? = null,\r\n    context: Context?\r\n) {\r\n\r\n// Declare the current layout as a mutable state\r\n    var currentLayout by remember { mutableStateOf(LayoutState.Qwerty) }\r\n\r\n    // Use the currentLayout to determine which keys to display\r\n    val keys: Array&lt;Array&lt;Key&gt;&gt; = when (currentLayout) {\r\n        LayoutState.Qwerty -&gt; qwertyLayout\r\n        LayoutState.Symbols -&gt; symbolsLayout\r\n    }\r\n\r\n    val onLayoutSwitchClick: () -&gt; Unit = {\r\n        currentLayout = if (currentLayout == LayoutState.Qwerty) {\r\n            LayoutState.Symbols\r\n        } else {\r\n            LayoutState.Qwerty\r\n        }\r\n    }\r\n\r\n    // Detect keyboard visibility changes\r\n    var isKeyboardVisible by remember { mutableStateOf(false) }\r\n    KeyboardVisibilityProvider { isVisible -&gt;\r\n        isKeyboardVisible = isVisible\r\n        if (!isKeyboardVisible) {\r\n            // Keyboard is hidden, switch back to qwerty layout\r\n            currentLayout = LayoutState.Qwerty\r\n        }\r\n    }\r\n\r\n    DisposableEffect(isKeyboardVisible) {\r\n        if (!isKeyboardVisible) {\r\n            // Keyboard is hidden, switch back to qwerty layout\r\n            currentLayout = LayoutState.Qwerty\r\n        }\r\n        onDispose { }\r\n    }\r\n\r\n    Box(\r\n        modifier = Modifier\r\n            .fillMaxWidth()\r\n            .background(colorResource(id = R.color.KeyboardBackground))\r\n            .padding(vertical = 6.dp)\r\n    ) {\r\n        Column(\r\n            verticalArrangement = Arrangement.SpaceBetween\r\n        ) {\r\n            keys.forEachIndexed { rowIndex, row -&gt;\r\n                Row(\r\n                    modifier = Modifier\r\n                        .fillMaxWidth()\r\n                        .padding(\r\n                            horizontal = if (rowIndex == 2) 16.dp else dimensionResource(id = R.dimen.key_marginH).value.dp,\r\n                            vertical = dimensionResource(id = R.dimen.key_marginV).value.dp\r\n                        ),\r\n                    horizontalArrangement = Arrangement.Center\r\n                ) {\r\n                    row.forEach { key -&gt;\r\n//\r\n//                        val handler = Handler(Looper.getMainLooper())\r\n//                        object : Runnable {\r\n//                            override fun run() {\r\n//                                Log.d(TAG, &quot;run: ${key.label}&quot;)\r\n//                                handler.postDelayed(this, 5000)\r\n//                            }\r\n//                        }.run()\r\n\r\n                        CustomKey(\r\n                            key = key,\r\n                            onKeyPressed = {\r\n                                vibrate(vibrator)\r\n                                imeService?.doSomethingWith(key, false)\r\n                            },\r\n                            onLongKeyPressed = {\r\n                                vibrate(vibrator)\r\n                                imeService?.doSomethingWith(key, true)\r\n                            },\r\n                            onLongKeyPressedEnd = {\r\n                                imeService?.longPressedStops()\r\n                            },\r\n                            onLayoutSwitchClick = onLayoutSwitchClick,\r\n                            modifier = Modifier\r\n                                .padding(horizontal = 3.dp)\r\n                                .weight(key.weight),\r\n                            context = context\r\n                        )\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n@Preview\r\n@Composable\r\nfun CustomKeyboardPreview() {\r\n    CustomKeyboard(\r\n        imeService = null,\r\n        vibrator = null,\r\n        context = null\r\n    )\r\n}\r\n\r\n```\r\n**CustomKey**\r\n```\r\npackage com.soloftech.keyboard.presentation.layout\r\n\r\n\r\nimport android.content.Context\r\nimport android.os.Handler\r\nimport android.os.Looper\r\nimport androidx.compose.foundation.background\r\nimport androidx.compose.foundation.gestures.detectTapGestures\r\nimport androidx.compose.foundation.layout.Box\r\nimport androidx.compose.foundation.layout.height\r\nimport androidx.compose.foundation.layout.size\r\nimport androidx.compose.foundation.shape.RoundedCornerShape\r\nimport androidx.compose.material3.Icon\r\nimport androidx.compose.material3.Text\r\nimport androidx.compose.runtime.Composable\r\nimport androidx.compose.runtime.mutableStateOf\r\nimport androidx.compose.runtime.remember\r\nimport androidx.compose.ui.Alignment\r\nimport androidx.compose.ui.Modifier\r\nimport androidx.compose.ui.draw.clip\r\nimport androidx.compose.ui.input.pointer.pointerInput\r\nimport androidx.compose.ui.res.colorResource\r\nimport androidx.compose.ui.res.dimensionResource\r\nimport androidx.compose.ui.res.painterResource\r\nimport androidx.compose.ui.tooling.preview.Preview\r\nimport androidx.compose.ui.unit.IntOffset\r\nimport androidx.compose.ui.unit.dp\r\nimport androidx.compose.ui.unit.sp\r\nimport com.soloftech.keyboard.R\r\nimport com.soloftech.keyboard.data.keyboard_layout.Key\r\nimport com.soloftech.keyboard.domain.playSound\r\nimport com.soloftech.keyboard.presentation.service.CustomImeService\r\n\r\n\r\n@Composable\r\nfun CustomKey(\r\n    key: Key,\r\n    onKeyPressed: (Key) -&gt; Unit,\r\n    onLongKeyPressed: (Key) -&gt; Unit,\r\n    onLongKeyPressedEnd: () -&gt; Unit,\r\n    modifier: Modifier,\r\n    onLayoutSwitchClick: () -&gt; Unit,\r\n    context: Context?,\r\n) {\r\n    val isPopupVisible = remember { mutableStateOf(false) }\r\n\r\n    val keyColor = if (key.isSpecialCharacter) {\r\n        colorResource(id = R.color.SpecialKeyBackground)\r\n    } else {\r\n        colorResource(id = R.color.KeyBackground)\r\n    }\r\n\r\n    val textColor = colorResource(id = R.color.KeyTextColor)\r\n\r\n    val keyShape = when (key.label) {\r\n        &quot;?123&quot;, &quot;Done&quot;, &quot;ABC&quot; -&gt; RoundedCornerShape(36.dp)\r\n        else -&gt; RoundedCornerShape(6.dp)\r\n    }\r\n\r\n    val iconResourceId = if (CustomImeService.isCapsEnabled &amp;&amp; key.alternativeIcon != null) {\r\n        key.alternativeIcon\r\n    } else {\r\n        key.icon\r\n    }\r\n    Box(\r\n        modifier = modifier\r\n            .clip(keyShape)\r\n            .background(keyColor)\r\n            .height(dimensionResource(id = R.dimen.key_height).value.dp)\r\n            .pointerInput(Unit) {\r\n                detectTapGestures(\r\n                    onLongPress = {\r\n                        onLongKeyPressed(key)\r\n                    },\r\n                    onPress = {\r\n                        awaitRelease()\r\n                        onLongKeyPressedEnd()\r\n                    },\r\n                    onTap = {\r\n                        isPopupVisible.value = true\r\n                        if (context != null) {\r\n                            playSound(context = context)\r\n                        }\r\n                        if (key.label == &quot;?123&quot; || key.label == &quot;ABC&quot;) onLayoutSwitchClick()\r\n                        else onKeyPressed(key)\r\n                        Handler(Looper.getMainLooper()).postDelayed({\r\n                            isPopupVisible.value = false\r\n                        }, 250)\r\n                    }\r\n                )\r\n            },\r\n        contentAlignment = Alignment.Center\r\n    ) {\r\n        if (iconResourceId != null &amp;&amp; key.contentDescription != null) {\r\n            Icon(\r\n                painter = painterResource(id = iconResourceId),\r\n                contentDescription = key.contentDescription,\r\n                tint = textColor,\r\n                modifier = Modifier.size(26.dp)\r\n            )\r\n        } else {\r\n            when (key.label) {\r\n                &quot;?123&quot;, &quot;ABC&quot;, &quot;Space&quot; -&gt; AutoResizedText(\r\n                    text = key.label,\r\n                    color = textColor\r\n                )\r\n\r\n                else -&gt; Text(\r\n                    text = key.label,\r\n                    color = textColor,\r\n                    fontSize = dimensionResource(id = R.dimen.key_textSize).value.sp\r\n                )\r\n            }\r\n\r\n        }\r\n\r\n        if (isPopupVisible.value &amp;&amp; key.shouldShowPopUp) {\r\n            PopupScreen(\r\n                label = key.label,\r\n                offset = IntOffset(x = 0, y = -90)\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\n\r\n@Preview\r\n@Composable\r\nfun CustomKeyPreview() {\r\n    CustomKey(\r\n        key = Key(&quot;f&quot;, 1F),\r\n        onKeyPressed = {},\r\n        onLongKeyPressed = {},\r\n        modifier = Modifier,\r\n        context = null,\r\n        onLongKeyPressedEnd = {},\r\n        onLayoutSwitchClick = {}\r\n    )\r\n}\r\n```\r\nAnd here is custom IME.\r\n```\r\npackage com.soloftech.keyboard.presentation.service\r\n\r\n\r\nimport android.annotation.SuppressLint\r\nimport android.inputmethodservice.InputMethodService\r\nimport android.os.Build\r\nimport android.os.Handler\r\nimport android.os.Looper\r\nimport android.os.Vibrator\r\nimport android.os.VibratorManager\r\nimport android.text.TextUtils\r\nimport android.view.KeyEvent\r\nimport android.view.View\r\nimport android.view.inputmethod.InputMethodManager\r\nimport androidx.compose.runtime.Composable\r\nimport androidx.compose.ui.platform.AbstractComposeView\r\nimport androidx.core.content.ContextCompat.getSystemService\r\nimport androidx.lifecycle.Lifecycle\r\nimport androidx.lifecycle.LifecycleOwner\r\nimport androidx.lifecycle.LifecycleRegistry\r\nimport androidx.lifecycle.ViewModelStore\r\nimport androidx.lifecycle.ViewModelStoreOwner\r\nimport androidx.lifecycle.ViewTreeLifecycleOwner\r\nimport androidx.lifecycle.ViewTreeViewModelStoreOwner\r\nimport androidx.savedstate.SavedStateRegistry\r\nimport androidx.savedstate.SavedStateRegistryController\r\nimport androidx.savedstate.SavedStateRegistryOwner\r\nimport androidx.savedstate.setViewTreeSavedStateRegistryOwner\r\nimport com.soloftech.keyboard.data.keyboard_layout.Key\r\nimport com.soloftech.keyboard.presentation.layout.CustomKeyboard\r\n\r\n\r\nclass CustomImeService : InputMethodService(), LifecycleOwner, ViewModelStoreOwner,\r\n    SavedStateRegistryOwner {\r\n\r\n    companion object {\r\n        var isCapsEnabled = false\r\n    }\r\n\r\n    private var isBackspaceKeyPressed = false\r\n    private val handler = Handler(Looper.getMainLooper())\r\n    private var deleteCharacterRunnable = object : Runnable {\r\n        override fun run() {\r\n            val inputConnection = currentInputConnection\r\n\r\n            if (inputConnection != null &amp;&amp; isBackspaceKeyPressed) {\r\n                val selectedText: CharSequence? = inputConnection.getSelectedText(0)\r\n\r\n                if (selectedText != null &amp;&amp; !TextUtils.isEmpty(selectedText)) {\r\n                    // There is selected text, so delete it\r\n                    inputConnection.commitText(&quot;&quot;, 1)\r\n                } else {\r\n                    // No selected text, delete the character to the left\r\n                    inputConnection.deleteSurroundingText(1, 0)\r\n                }\r\n\r\n                // Schedule the next deletion after 100 ms\r\n                handler.postDelayed(this, 100)\r\n            }\r\n        }\r\n    }\r\n\r\n    override fun onCreateInputView(): View {\r\n        val view = ComposeKeyboardView(this)\r\n\r\n        window!!.window!!.decorView.let { decorView -&gt;\r\n            ViewTreeLifecycleOwner.set(decorView, this)\r\n            ViewTreeViewModelStoreOwner.set(decorView, this)\r\n            view.setViewTreeSavedStateRegistryOwner(this)\r\n        }\r\n        view.let {\r\n            ViewTreeLifecycleOwner.set(it, this)\r\n            ViewTreeViewModelStoreOwner.set(it, this)\r\n            it.setViewTreeSavedStateRegistryOwner(this)\r\n        }\r\n        return view\r\n    }\r\n\r\n\r\n    fun doSomethingWith(\r\n        key: Key,\r\n        isLongPressed: Boolean\r\n    ) {\r\n        when (key.label) {\r\n            &quot;Space&quot; -&gt; {\r\n                if (isLongPressed) {\r\n                    val imm = getSystemService(INPUT_METHOD_SERVICE) as InputMethodManager\r\n                    imm.showInputMethodPicker()\r\n                } else {\r\n                    currentInputConnection.commitText(&quot; &quot;, 1)\r\n                }\r\n            }\r\n\r\n            &quot;CAPS&quot; -&gt; {\r\n                isCapsEnabled = !isCapsEnabled\r\n            }\r\n\r\n            &quot;Done&quot; -&gt; {\r\n                currentInputConnection.sendKeyEvent(\r\n                    KeyEvent(\r\n                        KeyEvent.ACTION_DOWN,\r\n                        KeyEvent.KEYCODE_ENTER\r\n                    )\r\n                )\r\n            }\r\n\r\n            &quot;Delete&quot; -&gt; {\r\n                if (isLongPressed) {\r\n                    // Start character deletions when the key is long-pressed\r\n                    if (!isBackspaceKeyPressed) {\r\n                        isBackspaceKeyPressed = true\r\n                        deleteCharacterRunnable.run()\r\n                    }\r\n                } else {\r\n                    val inputConnection = currentInputConnection\r\n\r\n                    if (inputConnection != null) {\r\n                        val selectedText: CharSequence? = inputConnection.getSelectedText(0)\r\n\r\n                        if (selectedText != null &amp;&amp; !TextUtils.isEmpty(selectedText)) {\r\n                            // There is selected text, so delete it\r\n                            inputConnection.commitText(&quot;&quot;, 1)\r\n                        } else {\r\n                            // No selected text, delete the character to the left\r\n                            inputConnection.deleteSurroundingText(1, 0)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            else -&gt; {\r\n                val inputConnection = currentInputConnection\r\n                if (inputConnection != null) {\r\n                    val label = key.label\r\n                    val uppercaseValue = if (isCapsEnabled) label.uppercase() else label\r\n                    inputConnection.commitText(uppercaseValue, 1)\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    fun longPressedStops() {\r\n        // Stop character deletions when the key is released\r\n        isBackspaceKeyPressed = false\r\n        handler.removeCallbacks(deleteCharacterRunnable)\r\n    }\r\n\r\n    //SaveStateRegistry Methods\r\n    private val savedStateRegistryVar = SavedStateRegistryController.create(this)\r\n\r\n    override val savedStateRegistry: SavedStateRegistry\r\n        get() = savedStateRegistryVar.savedStateRegistry\r\n\r\n    //Lifecycle Methods\r\n    private var lifecycleRegistry: LifecycleRegistry = LifecycleRegistry(this)\r\n\r\n    override fun getLifecycle(): Lifecycle {\r\n        return lifecycleRegistry\r\n    }\r\n\r\n    private fun handleLifecycleEvent(event: Lifecycle.Event) =\r\n        lifecycleRegistry.handleLifecycleEvent(event)\r\n\r\n    override fun onCreate() {\r\n        super.onCreate()\r\n        savedStateRegistryVar.performRestore(null)\r\n        lifecycleRegistry.handleLifecycleEvent(Lifecycle.Event.ON_RESUME)\r\n    }\r\n\r\n\r\n    override fun onDestroy() {\r\n        super.onDestroy()\r\n        handleLifecycleEvent(Lifecycle.Event.ON_DESTROY)\r\n    }\r\n\r\n    //ViewModelStore Methods\r\n    private val store = ViewModelStore()\r\n\r\n    override fun getViewModelStore(): ViewModelStore = store\r\n\r\n}\r\n\r\n@SuppressLint(&quot;ViewConstructor&quot;)\r\nclass ComposeKeyboardView(private val imeService: CustomImeService) :\r\n    AbstractComposeView(imeService) {\r\n\r\n    @Composable\r\n    override fun Content() {\r\n        CustomKeyboard(\r\n            imeService = imeService,\r\n            vibrator = vibrator,\r\n            context = context\r\n        )\r\n    }\r\n\r\n    private val vibrator: Vibrator by lazy {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n            val vibratorManager = getSystemService(context, VibratorManager::class.java)\r\n            vibratorManager?.defaultVibrator ?: getSystemService(context, Vibrator::class.java)\r\n        } else {\r\n            getSystemService(context, Vibrator::class.java)\r\n        } as Vibrator\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\nI also runned a test in which i runned a runnable every 5 seconds and that log the keys of current layout and i noticed that it first returs qwerty layouy tham sybols layiut keys. MAybe that is the issue. HOW can i solve this.\r\nThanks.","title":"Layout returning wrong keys in custom keyboard Android jetpack compose","body":"<p>I'm facing an issue with my Android Compose keyboard layout where the symbol layout is displaying the &quot;qwerty&quot; label instead of the expected symbols. I've tried troubleshooting, but I can't seem to figure out what's causing this problem. Here are the details:</p>\n<p>I have implemented a custom Android Compose keyboard with two layout states: &quot;qwerty&quot; and &quot;symbols.&quot; The idea is to switch between these layouts to input either regular text or symbols.</p>\n<p>When I switch to the &quot;symbols&quot; layout and press a key, it correctly displays the symbol character on the key itself, but the character entered into the text field is still the &quot;qwerty&quot; character, which is unexpected.</p>\n<p>I've verified that the layout state switches correctly to &quot;symbols&quot; when the layout switch key is pressed.</p>\n<p>In the symbolsLayout array, I've defined the symbol characters I want to display for each key.</p>\n<p>The CustomKey composable, which handles key presses, seems to be aware of the currentLayout state to determine whether to display symbols or qwerty characters.</p>\n<p>Here is my code.\n<strong>CustomKeyboard</strong></p>\n<pre><code>package com.soloftech.keyboard.presentation.layout\n\nimport android.content.Context\nimport android.os.Vibrator\nimport androidx.compose.foundation.background\nimport androidx.compose.foundation.layout.Arrangement\nimport androidx.compose.foundation.layout.Box\nimport androidx.compose.foundation.layout.Column\nimport androidx.compose.foundation.layout.Row\nimport androidx.compose.foundation.layout.fillMaxWidth\nimport androidx.compose.foundation.layout.padding\nimport androidx.compose.runtime.Composable\nimport androidx.compose.runtime.DisposableEffect\nimport androidx.compose.runtime.getValue\nimport androidx.compose.runtime.mutableStateOf\nimport androidx.compose.runtime.remember\nimport androidx.compose.runtime.setValue\nimport androidx.compose.ui.Modifier\nimport androidx.compose.ui.res.colorResource\nimport androidx.compose.ui.res.dimensionResource\nimport androidx.compose.ui.tooling.preview.Preview\nimport androidx.compose.ui.unit.dp\nimport com.soloftech.keyboard.R\nimport com.soloftech.keyboard.data.keyboard_layout.Key\nimport com.soloftech.keyboard.data.keyboard_layout.LayoutState\nimport com.soloftech.keyboard.data.layout.qwertyLayout\nimport com.soloftech.keyboard.data.layout.symbolsLayout\nimport com.soloftech.keyboard.domain.KeyboardVisibilityProvider\nimport com.soloftech.keyboard.domain.vibrate\nimport com.soloftech.keyboard.presentation.service.CustomImeService\n\n@Composable\nfun CustomKeyboard(\n    imeService: CustomImeService?,\n    vibrator: Vibrator? = null,\n    context: Context?\n) {\n\n// Declare the current layout as a mutable state\n    var currentLayout by remember { mutableStateOf(LayoutState.Qwerty) }\n\n    // Use the currentLayout to determine which keys to display\n    val keys: Array&lt;Array&lt;Key&gt;&gt; = when (currentLayout) {\n        LayoutState.Qwerty -&gt; qwertyLayout\n        LayoutState.Symbols -&gt; symbolsLayout\n    }\n\n    val onLayoutSwitchClick: () -&gt; Unit = {\n        currentLayout = if (currentLayout == LayoutState.Qwerty) {\n            LayoutState.Symbols\n        } else {\n            LayoutState.Qwerty\n        }\n    }\n\n    // Detect keyboard visibility changes\n    var isKeyboardVisible by remember { mutableStateOf(false) }\n    KeyboardVisibilityProvider { isVisible -&gt;\n        isKeyboardVisible = isVisible\n        if (!isKeyboardVisible) {\n            // Keyboard is hidden, switch back to qwerty layout\n            currentLayout = LayoutState.Qwerty\n        }\n    }\n\n    DisposableEffect(isKeyboardVisible) {\n        if (!isKeyboardVisible) {\n            // Keyboard is hidden, switch back to qwerty layout\n            currentLayout = LayoutState.Qwerty\n        }\n        onDispose { }\n    }\n\n    Box(\n        modifier = Modifier\n            .fillMaxWidth()\n            .background(colorResource(id = R.color.KeyboardBackground))\n            .padding(vertical = 6.dp)\n    ) {\n        Column(\n            verticalArrangement = Arrangement.SpaceBetween\n        ) {\n            keys.forEachIndexed { rowIndex, row -&gt;\n                Row(\n                    modifier = Modifier\n                        .fillMaxWidth()\n                        .padding(\n                            horizontal = if (rowIndex == 2) 16.dp else dimensionResource(id = R.dimen.key_marginH).value.dp,\n                            vertical = dimensionResource(id = R.dimen.key_marginV).value.dp\n                        ),\n                    horizontalArrangement = Arrangement.Center\n                ) {\n                    row.forEach { key -&gt;\n//\n//                        val handler = Handler(Looper.getMainLooper())\n//                        object : Runnable {\n//                            override fun run() {\n//                                Log.d(TAG, &quot;run: ${key.label}&quot;)\n//                                handler.postDelayed(this, 5000)\n//                            }\n//                        }.run()\n\n                        CustomKey(\n                            key = key,\n                            onKeyPressed = {\n                                vibrate(vibrator)\n                                imeService?.doSomethingWith(key, false)\n                            },\n                            onLongKeyPressed = {\n                                vibrate(vibrator)\n                                imeService?.doSomethingWith(key, true)\n                            },\n                            onLongKeyPressedEnd = {\n                                imeService?.longPressedStops()\n                            },\n                            onLayoutSwitchClick = onLayoutSwitchClick,\n                            modifier = Modifier\n                                .padding(horizontal = 3.dp)\n                                .weight(key.weight),\n                            context = context\n                        )\n                    }\n                }\n            }\n        }\n    }\n}\n\n\n@Preview\n@Composable\nfun CustomKeyboardPreview() {\n    CustomKeyboard(\n        imeService = null,\n        vibrator = null,\n        context = null\n    )\n}\n\n</code></pre>\n<p><strong>CustomKey</strong></p>\n<pre><code>package com.soloftech.keyboard.presentation.layout\n\n\nimport android.content.Context\nimport android.os.Handler\nimport android.os.Looper\nimport androidx.compose.foundation.background\nimport androidx.compose.foundation.gestures.detectTapGestures\nimport androidx.compose.foundation.layout.Box\nimport androidx.compose.foundation.layout.height\nimport androidx.compose.foundation.layout.size\nimport androidx.compose.foundation.shape.RoundedCornerShape\nimport androidx.compose.material3.Icon\nimport androidx.compose.material3.Text\nimport androidx.compose.runtime.Composable\nimport androidx.compose.runtime.mutableStateOf\nimport androidx.compose.runtime.remember\nimport androidx.compose.ui.Alignment\nimport androidx.compose.ui.Modifier\nimport androidx.compose.ui.draw.clip\nimport androidx.compose.ui.input.pointer.pointerInput\nimport androidx.compose.ui.res.colorResource\nimport androidx.compose.ui.res.dimensionResource\nimport androidx.compose.ui.res.painterResource\nimport androidx.compose.ui.tooling.preview.Preview\nimport androidx.compose.ui.unit.IntOffset\nimport androidx.compose.ui.unit.dp\nimport androidx.compose.ui.unit.sp\nimport com.soloftech.keyboard.R\nimport com.soloftech.keyboard.data.keyboard_layout.Key\nimport com.soloftech.keyboard.domain.playSound\nimport com.soloftech.keyboard.presentation.service.CustomImeService\n\n\n@Composable\nfun CustomKey(\n    key: Key,\n    onKeyPressed: (Key) -&gt; Unit,\n    onLongKeyPressed: (Key) -&gt; Unit,\n    onLongKeyPressedEnd: () -&gt; Unit,\n    modifier: Modifier,\n    onLayoutSwitchClick: () -&gt; Unit,\n    context: Context?,\n) {\n    val isPopupVisible = remember { mutableStateOf(false) }\n\n    val keyColor = if (key.isSpecialCharacter) {\n        colorResource(id = R.color.SpecialKeyBackground)\n    } else {\n        colorResource(id = R.color.KeyBackground)\n    }\n\n    val textColor = colorResource(id = R.color.KeyTextColor)\n\n    val keyShape = when (key.label) {\n        &quot;?123&quot;, &quot;Done&quot;, &quot;ABC&quot; -&gt; RoundedCornerShape(36.dp)\n        else -&gt; RoundedCornerShape(6.dp)\n    }\n\n    val iconResourceId = if (CustomImeService.isCapsEnabled &amp;&amp; key.alternativeIcon != null) {\n        key.alternativeIcon\n    } else {\n        key.icon\n    }\n    Box(\n        modifier = modifier\n            .clip(keyShape)\n            .background(keyColor)\n            .height(dimensionResource(id = R.dimen.key_height).value.dp)\n            .pointerInput(Unit) {\n                detectTapGestures(\n                    onLongPress = {\n                        onLongKeyPressed(key)\n                    },\n                    onPress = {\n                        awaitRelease()\n                        onLongKeyPressedEnd()\n                    },\n                    onTap = {\n                        isPopupVisible.value = true\n                        if (context != null) {\n                            playSound(context = context)\n                        }\n                        if (key.label == &quot;?123&quot; || key.label == &quot;ABC&quot;) onLayoutSwitchClick()\n                        else onKeyPressed(key)\n                        Handler(Looper.getMainLooper()).postDelayed({\n                            isPopupVisible.value = false\n                        }, 250)\n                    }\n                )\n            },\n        contentAlignment = Alignment.Center\n    ) {\n        if (iconResourceId != null &amp;&amp; key.contentDescription != null) {\n            Icon(\n                painter = painterResource(id = iconResourceId),\n                contentDescription = key.contentDescription,\n                tint = textColor,\n                modifier = Modifier.size(26.dp)\n            )\n        } else {\n            when (key.label) {\n                &quot;?123&quot;, &quot;ABC&quot;, &quot;Space&quot; -&gt; AutoResizedText(\n                    text = key.label,\n                    color = textColor\n                )\n\n                else -&gt; Text(\n                    text = key.label,\n                    color = textColor,\n                    fontSize = dimensionResource(id = R.dimen.key_textSize).value.sp\n                )\n            }\n\n        }\n\n        if (isPopupVisible.value &amp;&amp; key.shouldShowPopUp) {\n            PopupScreen(\n                label = key.label,\n                offset = IntOffset(x = 0, y = -90)\n            )\n        }\n    }\n}\n\n\n@Preview\n@Composable\nfun CustomKeyPreview() {\n    CustomKey(\n        key = Key(&quot;f&quot;, 1F),\n        onKeyPressed = {},\n        onLongKeyPressed = {},\n        modifier = Modifier,\n        context = null,\n        onLongKeyPressedEnd = {},\n        onLayoutSwitchClick = {}\n    )\n}\n</code></pre>\n<p>And here is custom IME.</p>\n<pre><code>package com.soloftech.keyboard.presentation.service\n\n\nimport android.annotation.SuppressLint\nimport android.inputmethodservice.InputMethodService\nimport android.os.Build\nimport android.os.Handler\nimport android.os.Looper\nimport android.os.Vibrator\nimport android.os.VibratorManager\nimport android.text.TextUtils\nimport android.view.KeyEvent\nimport android.view.View\nimport android.view.inputmethod.InputMethodManager\nimport androidx.compose.runtime.Composable\nimport androidx.compose.ui.platform.AbstractComposeView\nimport androidx.core.content.ContextCompat.getSystemService\nimport androidx.lifecycle.Lifecycle\nimport androidx.lifecycle.LifecycleOwner\nimport androidx.lifecycle.LifecycleRegistry\nimport androidx.lifecycle.ViewModelStore\nimport androidx.lifecycle.ViewModelStoreOwner\nimport androidx.lifecycle.ViewTreeLifecycleOwner\nimport androidx.lifecycle.ViewTreeViewModelStoreOwner\nimport androidx.savedstate.SavedStateRegistry\nimport androidx.savedstate.SavedStateRegistryController\nimport androidx.savedstate.SavedStateRegistryOwner\nimport androidx.savedstate.setViewTreeSavedStateRegistryOwner\nimport com.soloftech.keyboard.data.keyboard_layout.Key\nimport com.soloftech.keyboard.presentation.layout.CustomKeyboard\n\n\nclass CustomImeService : InputMethodService(), LifecycleOwner, ViewModelStoreOwner,\n    SavedStateRegistryOwner {\n\n    companion object {\n        var isCapsEnabled = false\n    }\n\n    private var isBackspaceKeyPressed = false\n    private val handler = Handler(Looper.getMainLooper())\n    private var deleteCharacterRunnable = object : Runnable {\n        override fun run() {\n            val inputConnection = currentInputConnection\n\n            if (inputConnection != null &amp;&amp; isBackspaceKeyPressed) {\n                val selectedText: CharSequence? = inputConnection.getSelectedText(0)\n\n                if (selectedText != null &amp;&amp; !TextUtils.isEmpty(selectedText)) {\n                    // There is selected text, so delete it\n                    inputConnection.commitText(&quot;&quot;, 1)\n                } else {\n                    // No selected text, delete the character to the left\n                    inputConnection.deleteSurroundingText(1, 0)\n                }\n\n                // Schedule the next deletion after 100 ms\n                handler.postDelayed(this, 100)\n            }\n        }\n    }\n\n    override fun onCreateInputView(): View {\n        val view = ComposeKeyboardView(this)\n\n        window!!.window!!.decorView.let { decorView -&gt;\n            ViewTreeLifecycleOwner.set(decorView, this)\n            ViewTreeViewModelStoreOwner.set(decorView, this)\n            view.setViewTreeSavedStateRegistryOwner(this)\n        }\n        view.let {\n            ViewTreeLifecycleOwner.set(it, this)\n            ViewTreeViewModelStoreOwner.set(it, this)\n            it.setViewTreeSavedStateRegistryOwner(this)\n        }\n        return view\n    }\n\n\n    fun doSomethingWith(\n        key: Key,\n        isLongPressed: Boolean\n    ) {\n        when (key.label) {\n            &quot;Space&quot; -&gt; {\n                if (isLongPressed) {\n                    val imm = getSystemService(INPUT_METHOD_SERVICE) as InputMethodManager\n                    imm.showInputMethodPicker()\n                } else {\n                    currentInputConnection.commitText(&quot; &quot;, 1)\n                }\n            }\n\n            &quot;CAPS&quot; -&gt; {\n                isCapsEnabled = !isCapsEnabled\n            }\n\n            &quot;Done&quot; -&gt; {\n                currentInputConnection.sendKeyEvent(\n                    KeyEvent(\n                        KeyEvent.ACTION_DOWN,\n                        KeyEvent.KEYCODE_ENTER\n                    )\n                )\n            }\n\n            &quot;Delete&quot; -&gt; {\n                if (isLongPressed) {\n                    // Start character deletions when the key is long-pressed\n                    if (!isBackspaceKeyPressed) {\n                        isBackspaceKeyPressed = true\n                        deleteCharacterRunnable.run()\n                    }\n                } else {\n                    val inputConnection = currentInputConnection\n\n                    if (inputConnection != null) {\n                        val selectedText: CharSequence? = inputConnection.getSelectedText(0)\n\n                        if (selectedText != null &amp;&amp; !TextUtils.isEmpty(selectedText)) {\n                            // There is selected text, so delete it\n                            inputConnection.commitText(&quot;&quot;, 1)\n                        } else {\n                            // No selected text, delete the character to the left\n                            inputConnection.deleteSurroundingText(1, 0)\n                        }\n                    }\n                }\n            }\n\n            else -&gt; {\n                val inputConnection = currentInputConnection\n                if (inputConnection != null) {\n                    val label = key.label\n                    val uppercaseValue = if (isCapsEnabled) label.uppercase() else label\n                    inputConnection.commitText(uppercaseValue, 1)\n                }\n            }\n\n        }\n    }\n\n    fun longPressedStops() {\n        // Stop character deletions when the key is released\n        isBackspaceKeyPressed = false\n        handler.removeCallbacks(deleteCharacterRunnable)\n    }\n\n    //SaveStateRegistry Methods\n    private val savedStateRegistryVar = SavedStateRegistryController.create(this)\n\n    override val savedStateRegistry: SavedStateRegistry\n        get() = savedStateRegistryVar.savedStateRegistry\n\n    //Lifecycle Methods\n    private var lifecycleRegistry: LifecycleRegistry = LifecycleRegistry(this)\n\n    override fun getLifecycle(): Lifecycle {\n        return lifecycleRegistry\n    }\n\n    private fun handleLifecycleEvent(event: Lifecycle.Event) =\n        lifecycleRegistry.handleLifecycleEvent(event)\n\n    override fun onCreate() {\n        super.onCreate()\n        savedStateRegistryVar.performRestore(null)\n        lifecycleRegistry.handleLifecycleEvent(Lifecycle.Event.ON_RESUME)\n    }\n\n\n    override fun onDestroy() {\n        super.onDestroy()\n        handleLifecycleEvent(Lifecycle.Event.ON_DESTROY)\n    }\n\n    //ViewModelStore Methods\n    private val store = ViewModelStore()\n\n    override fun getViewModelStore(): ViewModelStore = store\n\n}\n\n@SuppressLint(&quot;ViewConstructor&quot;)\nclass ComposeKeyboardView(private val imeService: CustomImeService) :\n    AbstractComposeView(imeService) {\n\n    @Composable\n    override fun Content() {\n        CustomKeyboard(\n            imeService = imeService,\n            vibrator = vibrator,\n            context = context\n        )\n    }\n\n    private val vibrator: Vibrator by lazy {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n            val vibratorManager = getSystemService(context, VibratorManager::class.java)\n            vibratorManager?.defaultVibrator ?: getSystemService(context, Vibrator::class.java)\n        } else {\n            getSystemService(context, Vibrator::class.java)\n        } as Vibrator\n    }\n\n}\n\n\n</code></pre>\n<p>I also runned a test in which i runned a runnable every 5 seconds and that log the keys of current layout and i noticed that it first returs qwerty layouy tham sybols layiut keys. MAybe that is the issue. HOW can i solve this.\nThanks.</p>\n"},{"tags":["java","string","split","numbers","character"],"comments":[{"owner":{"account_id":1090282,"reputation":4580,"user_id":1167210,"accept_rate":93,"display_name":"Marcelo"},"score":0,"creation_date":1329221628,"post_id":9276639,"comment_id":11694516,"body_markdown":"Out of curiosity, what&#39;s your use case for this?","body":"Out of curiosity, what&#39;s your use case for this?"},{"owner":{"account_id":279943,"reputation":202411,"user_id":575376,"accept_rate":82,"display_name":"juergen d"},"score":0,"creation_date":1329221642,"post_id":9276639,"comment_id":11694521,"body_markdown":"Possible duplicate to http://stackoverflow.com/questions/2297347/splitting-a-string-at-every-n-th-character","body":"Possible duplicate to <a href=\"http://stackoverflow.com/questions/2297347/splitting-a-string-at-every-n-th-character\" title=\"splitting a string at every n th character\">stackoverflow.com/questions/2297347/&hellip;</a>"},{"owner":{"account_id":4687309,"reputation":1639,"user_id":5058677,"accept_rate":50,"display_name":"Rumid"},"score":0,"creation_date":1505554850,"post_id":9276639,"comment_id":79468326,"body_markdown":"Possible duplicate of [Split string to equal length substrings in Java](https://stackoverflow.com/questions/3760152/split-string-to-equal-length-substrings-in-java)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/3760152/split-string-to-equal-length-substrings-in-java\">Split string to equal length substrings in Java</a>"},{"owner":{"account_id":4006340,"reputation":1493,"user_id":3300911,"accept_rate":56,"display_name":"raikumardipak"},"score":0,"creation_date":1565029750,"post_id":9276639,"comment_id":101214683,"body_markdown":"LeetCode License Key Fromatting","body":"LeetCode License Key Fromatting"}],"answers":[{"tags":[],"owner":{"account_id":996872,"reputation":1494,"user_id":1012590,"display_name":"Suresh"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1329222184,"creation_date":1329221656,"answer_id":9276677,"question_id":9276639,"body_markdown":"Try this\r\n\r\n       \r\n     String text = &quot;how are you?&quot;;\r\n        String array[] = text.split(&quot; &quot;);\r\n\r\nOr you can use it below\r\n\r\n    List&lt;String&gt; list= new ArrayList&lt;String&gt;();\r\n    int index = 0;\r\n    while (index&lt;text.length()) {\r\n        list.add(text.substring(index, Math.min(index+4,text.length()));\r\n        index=index+4;\r\n    }","title":"Java: How to split a string by a number of characters?","body":"<p>Try this</p>\n\n<pre><code> String text = \"how are you?\";\n    String array[] = text.split(\" \");\n</code></pre>\n\n<p>Or you can use it below</p>\n\n<pre><code>List&lt;String&gt; list= new ArrayList&lt;String&gt;();\nint index = 0;\nwhile (index&lt;text.length()) {\n    list.add(text.substring(index, Math.min(index+4,text.length()));\n    index=index+4;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14954,"reputation":47917,"user_id":31136,"accept_rate":50,"display_name":"bruno conde"},"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1497841925,"creation_date":1329221762,"answer_id":9276710,"question_id":9276639,"body_markdown":"Using [Guava][1]:\r\n\r\n\r\n    Iterable&lt;String&gt; result = Splitter.fixedLength(4).split(&quot;how are you?&quot;);\r\n    String[] parts = Iterables.toArray(result, String.class);\r\n\r\n\r\n[1]: http://google.github.io/guava/releases/22.0/api/docs/com/google/common/base/Splitter.html#fixedLength-int-","title":"Java: How to split a string by a number of characters?","body":"<p>Using <a href=\"http://google.github.io/guava/releases/22.0/api/docs/com/google/common/base/Splitter.html#fixedLength-int-\" rel=\"noreferrer\">Guava</a>:</p>\n\n<pre><code>Iterable&lt;String&gt; result = Splitter.fixedLength(4).split(\"how are you?\");\nString[] parts = Iterables.toArray(result, String.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"down_vote_count":0,"up_vote_count":80,"is_accepted":true,"score":80,"last_activity_date":1398967039,"creation_date":1329221808,"answer_id":9276720,"question_id":9276639,"body_markdown":"I think that what he wants is to have a string split into substrings of size 4. Then I would do this in a loop:\r\n\r\n    List&lt;String&gt; strings = new ArrayList&lt;String&gt;();\r\n    int index = 0;\r\n    while (index &lt; text.length()) {\r\n        strings.add(text.substring(index, Math.min(index + 4,text.length())));\r\n        index += 4;\r\n    }","title":"Java: How to split a string by a number of characters?","body":"<p>I think that what he wants is to have a string split into substrings of size 4. Then I would do this in a loop:</p>\n\n<pre><code>List&lt;String&gt; strings = new ArrayList&lt;String&gt;();\nint index = 0;\nwhile (index &lt; text.length()) {\n    strings.add(text.substring(index, Math.min(index + 4,text.length())));\n    index += 4;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":438557,"reputation":1676,"user_id":826897,"accept_rate":73,"display_name":"Gilthans"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1329222232,"creation_date":1329221849,"answer_id":9276727,"question_id":9276639,"body_markdown":"I don&#39;t think there&#39;s an out-of-the-box solution, but I&#39;d do something like this:\r\n\r\n    private String[] splitByNumber(String s, int chunkSize){\r\n        int chunkCount = (s.length() / chunkSize) + (s.length() % chunkSize == 0 ? 0 : 1);\r\n        String[] returnVal = new String[chunkCount];\r\n        for(int i=0;i&lt;chunkCount;i++){\r\n            returnVal[i] = s.substring(i*chunkSize, Math.min((i+1)*chunkSize-1, s.length());\r\n        }\r\n        return returnVal;\r\n    }\r\n\r\nUsage would be:\r\n\r\n    String[] textArray = splitByNumber(text, 4);\r\n\r\nEDIT: the substring actually shouldn&#39;t surpass the string length.","title":"Java: How to split a string by a number of characters?","body":"<p>I don't think there's an out-of-the-box solution, but I'd do something like this:</p>\n\n<pre><code>private String[] splitByNumber(String s, int chunkSize){\n    int chunkCount = (s.length() / chunkSize) + (s.length() % chunkSize == 0 ? 0 : 1);\n    String[] returnVal = new String[chunkCount];\n    for(int i=0;i&lt;chunkCount;i++){\n        returnVal[i] = s.substring(i*chunkSize, Math.min((i+1)*chunkSize-1, s.length());\n    }\n    return returnVal;\n}\n</code></pre>\n\n<p>Usage would be:</p>\n\n<pre><code>String[] textArray = splitByNumber(text, 4);\n</code></pre>\n\n<p>EDIT: the substring actually shouldn't surpass the string length.</p>\n"},{"tags":[],"owner":{"account_id":395649,"reputation":18444,"user_id":758708,"accept_rate":100,"display_name":"dku.rajkumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1329224880,"creation_date":1329222444,"answer_id":9276857,"question_id":9276639,"body_markdown":"This is the simplest solution i could think off.. try this\r\n\r\n\tpublic static String[] splitString(String str) {\r\n        if(str == null) return null;\r\n\r\n\t\tList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\t\tfor(int i=0;i &lt; str.length();i=i+4){\r\n\t\t\tint endindex = Math.min(i+4,str.length());\r\n\t\t\tlist.add(str.substring(i, endindex));\r\n\t\t}\r\n\t  return list.toArray(new String[list.size()]);\r\n\t}\r\n\r\n\r\n\r\n","title":"Java: How to split a string by a number of characters?","body":"<p>This is the simplest solution i could think off.. try this</p>\n\n<pre><code>public static String[] splitString(String str) {\n    if(str == null) return null;\n\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n    for(int i=0;i &lt; str.length();i=i+4){\n        int endindex = Math.min(i+4,str.length());\n        list.add(str.substring(i, endindex));\n    }\n  return list.toArray(new String[list.size()]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":75493,"reputation":33415,"user_id":216517,"accept_rate":76,"display_name":"st0le"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1329222513,"creation_date":1329222513,"answer_id":9276867,"question_id":9276639,"body_markdown":"\r\n\r\nQuick Hack\r\n\r\n\r\n    private String[] splitByNumber(String s, int size) {\r\n        if(s == null || size &lt;= 0)\r\n            return null;\r\n        int chunks = s.length() / size + ((s.length() % size &gt; 0) ? 1 : 0);\r\n        String[] arr = new String[chunks];\r\n        for(int i = 0, j = 0, l = s.length(); i &lt; l; i += size, j++)\r\n            arr[j] = s.substring(i, Math.min(l, i + size));\r\n        return arr;\r\n    }","title":"Java: How to split a string by a number of characters?","body":"<p>Quick Hack</p>\n\n<pre><code>private String[] splitByNumber(String s, int size) {\n    if(s == null || size &lt;= 0)\n        return null;\n    int chunks = s.length() / size + ((s.length() % size &gt; 0) ? 1 : 0);\n    String[] arr = new String[chunks];\n    for(int i = 0, j = 0, l = s.length(); i &lt; l; i += size, j++)\n        arr[j] = s.substring(i, Math.min(l, i + size));\n    return arr;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":269689,"reputation":4064,"user_id":559185,"accept_rate":68,"display_name":"sampathpremarathna"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1329225148,"creation_date":1329225148,"answer_id":9277456,"question_id":9276639,"body_markdown":"Using simple java primitives and loops.\r\n\r\n    private static String[] splitByNumber(String text, int number) {\r\n    \r\n            int inLength = text.length();\r\n            int arLength = inLength / number;\r\n            int left=inLength%number;\r\n            if(left&gt;0){++arLength;}\r\n            String ar[] = new String[arLength];\r\n                String tempText=text;\r\n                for (int x = 0; x &lt; arLength; ++x) {\r\n    \r\n                    if(tempText.length()&gt;number){\r\n                    ar[x]=tempText.substring(0, number);\r\n                    tempText=tempText.substring(number);\r\n                    }else{\r\n                        ar[x]=tempText;\r\n                    }\r\n                    \r\n                }\r\n            \r\n    \r\n            return ar;\r\n        }\r\n\r\n\r\nUsage : `String ar[]=splitByNumber(&quot;nalaka&quot;, 2);`\r\n\r\n","title":"Java: How to split a string by a number of characters?","body":"<p>Using simple java primitives and loops.</p>\n\n<pre><code>private static String[] splitByNumber(String text, int number) {\n\n        int inLength = text.length();\n        int arLength = inLength / number;\n        int left=inLength%number;\n        if(left&gt;0){++arLength;}\n        String ar[] = new String[arLength];\n            String tempText=text;\n            for (int x = 0; x &lt; arLength; ++x) {\n\n                if(tempText.length()&gt;number){\n                ar[x]=tempText.substring(0, number);\n                tempText=tempText.substring(number);\n                }else{\n                    ar[x]=tempText;\n                }\n\n            }\n\n\n        return ar;\n    }\n</code></pre>\n\n<p>Usage : <code>String ar[]=splitByNumber(\"nalaka\", 2);</code></p>\n"},{"tags":[],"owner":{"account_id":391375,"reputation":1507,"user_id":751992,"display_name":"Sampisa"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1446271255,"creation_date":1446271255,"answer_id":33448572,"question_id":9276639,"body_markdown":"What about a regexp?\r\n\r\n    public static String[] splitByNumber(String str, int size) {\r\n        return (size&lt;1 || str==null) ? null : str.split(&quot;(?&lt;=\\\\G.{&quot;+size+&quot;})&quot;);\r\n    }\r\n\r\nSee https://stackoverflow.com/questions/3760152/split-string-to-equal-length-substrings-in-java","title":"Java: How to split a string by a number of characters?","body":"<p>What about a regexp?</p>\n\n<pre><code>public static String[] splitByNumber(String str, int size) {\n    return (size&lt;1 || str==null) ? null : str.split(\"(?&lt;=\\\\G.{\"+size+\"})\");\n}\n</code></pre>\n\n<p>See <a href=\"https://stackoverflow.com/questions/3760152/split-string-to-equal-length-substrings-in-java\">Split string to equal length substrings in Java</a></p>\n"},{"tags":[],"owner":{"account_id":2300099,"reputation":33,"user_id":2020546,"accept_rate":50,"display_name":"Mohamed kazzali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527236481,"creation_date":1527231226,"answer_id":50523158,"question_id":9276639,"body_markdown":"Try this solution,   \r\n\r\n    public static String[]chunkStringByLength(String inputString, int numOfChar) {\r\n    \tif (inputString == null || numOfChar &lt;= 0)\r\n    \t\treturn null;\r\n    \telse if (inputString.length() == numOfChar)\r\n    \t\treturn new String[]{\r\n    \t\t\tinputString\r\n    \t\t};\r\n    \r\n    \tint chunkLen = (int)Math.ceil(inputString.length() / numOfChar);\r\n    \tString[]chunks = new String[chunkLen + 1];\r\n    \tfor (int i = 0; i &lt;= chunkLen; i++) {\r\n    \t\tint endLen = numOfChar;\r\n    \t\tif (i == chunkLen) {\r\n    \t\t\tendLen = inputString.length() % numOfChar;\r\n    \t\t}\r\n    \t\tchunks[i] = new String(inputString.getBytes(), i * numOfChar, endLen);\r\n    \t}\r\n    \r\n    \treturn chunks;\r\n    }\r\n\r\n","title":"Java: How to split a string by a number of characters?","body":"<p>Try this solution,   </p>\n\n<pre><code>public static String[]chunkStringByLength(String inputString, int numOfChar) {\n    if (inputString == null || numOfChar &lt;= 0)\n        return null;\n    else if (inputString.length() == numOfChar)\n        return new String[]{\n            inputString\n        };\n\n    int chunkLen = (int)Math.ceil(inputString.length() / numOfChar);\n    String[]chunks = new String[chunkLen + 1];\n    for (int i = 0; i &lt;= chunkLen; i++) {\n        int endLen = numOfChar;\n        if (i == chunkLen) {\n            endLen = inputString.length() % numOfChar;\n        }\n        chunks[i] = new String(inputString.getBytes(), i * numOfChar, endLen);\n    }\n\n    return chunks;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":434437,"reputation":15453,"user_id":820410,"accept_rate":60,"display_name":"Pankaj Singhal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531632664,"creation_date":1531632664,"answer_id":51345533,"question_id":9276639,"body_markdown":"Here&#39;s a succinct implementation using Java8 streams:\r\n\r\n\r\n    String text = &quot;how are you?&quot;;\r\n    final AtomicInteger counter = new AtomicInteger(0);\r\n    Collection&lt;String&gt; strings = text.chars()\r\n                                        .mapToObj(i -&gt; String.valueOf((char)i) )\r\n                                        .collect(Collectors.groupingBy(it -&gt; counter.getAndIncrement() / 4\r\n                                                                    ,Collectors.joining()))\r\n                                        .values();\r\n\r\nOutput:\r\n\r\n    [how , are , you?]","title":"Java: How to split a string by a number of characters?","body":"<p>Here's a succinct implementation using Java8 streams:</p>\n\n<pre><code>String text = \"how are you?\";\nfinal AtomicInteger counter = new AtomicInteger(0);\nCollection&lt;String&gt; strings = text.chars()\n                                    .mapToObj(i -&gt; String.valueOf((char)i) )\n                                    .collect(Collectors.groupingBy(it -&gt; counter.getAndIncrement() / 4\n                                                                ,Collectors.joining()))\n                                    .values();\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[how , are , you?]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4366153,"reputation":2931,"user_id":3561889,"accept_rate":59,"display_name":"Ucdemir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585585882,"creation_date":1585585882,"answer_id":60935107,"question_id":9276639,"body_markdown":"My application uses text to speech!\r\nHere is my algorithm, to split by &quot;dot&quot; and conconate string  if string length less then limit\r\n \r\n \r\n\r\n\r\n    String[] text = sentence.split(&quot;\\\\.&quot;);\r\n     ArrayList&lt;String&gt; realText =  sentenceSplitterWithCount(text);\r\n\r\nFunction sentenceSplitterWithCount: (I concanate string lf less than 100 chars lenght, It depends on you)\r\n\r\n\r\n    private ArrayList&lt;String&gt; sentenceSplitterWithCount(String[] splittedWithDot){\r\n    \r\n            ArrayList&lt;String&gt; newArticleArray = new ArrayList&lt;&gt;();\r\n            String item = &quot;&quot;;\r\n            for(String sentence : splittedWithDot){\r\n    \r\n                item += DataManager.setFirstCharCapitalize(sentence)+&quot;.&quot;;\r\n    \r\n                if(item.length() &gt; 100){\r\n                    newArticleArray.add(item);\r\n                    item = &quot;&quot;;\r\n                }\r\n    \r\n            }\r\n    \r\n            for (String a : newArticleArray){\r\n                Log.d(&quot;tts&quot;, a);\r\n    \r\n            }\r\n    \r\n            return newArticleArray;\r\n        }\r\n\r\n\r\nfunction setFirstCharCapitalize just capitalize First letter: I think, you dont need it, anyway\r\n\r\n       public static String setFirstCharCapitalize(String input) {\r\n    \r\n    \r\n            if(input.length()&gt;2) {\r\n                String k = checkStringStartWithSpace(input);\r\n                input = k.substring(0, 1).toUpperCase() + k.substring(1).toLowerCase();\r\n            }\r\n            \r\n            return input;\r\n        }","title":"Java: How to split a string by a number of characters?","body":"<p>My application uses text to speech!\nHere is my algorithm, to split by \"dot\" and conconate string  if string length less then limit</p>\n\n<pre><code>String[] text = sentence.split(\"\\\\.\");\n ArrayList&lt;String&gt; realText =  sentenceSplitterWithCount(text);\n</code></pre>\n\n<p>Function sentenceSplitterWithCount: (I concanate string lf less than 100 chars lenght, It depends on you)</p>\n\n<pre><code>private ArrayList&lt;String&gt; sentenceSplitterWithCount(String[] splittedWithDot){\n\n        ArrayList&lt;String&gt; newArticleArray = new ArrayList&lt;&gt;();\n        String item = \"\";\n        for(String sentence : splittedWithDot){\n\n            item += DataManager.setFirstCharCapitalize(sentence)+\".\";\n\n            if(item.length() &gt; 100){\n                newArticleArray.add(item);\n                item = \"\";\n            }\n\n        }\n\n        for (String a : newArticleArray){\n            Log.d(\"tts\", a);\n\n        }\n\n        return newArticleArray;\n    }\n</code></pre>\n\n<p>function setFirstCharCapitalize just capitalize First letter: I think, you dont need it, anyway</p>\n\n<pre><code>   public static String setFirstCharCapitalize(String input) {\n\n\n        if(input.length()&gt;2) {\n            String k = checkStringStartWithSpace(input);\n            input = k.substring(0, 1).toUpperCase() + k.substring(1).toLowerCase();\n        }\n\n        return input;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10099125,"reputation":50,"user_id":7463534,"display_name":"Matouš Klugar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694688206,"creation_date":1694688206,"answer_id":77104141,"question_id":9276639,"body_markdown":"By far the most elegant solution to split string every X number of characters is using regexes\r\n\r\n    String text = &quot;how are you?&quot;;\r\n    String[] textArray = text.split(&quot;(?&lt;=\\\\G.{4})&quot;);\r\n\r\nresult:    [&quot;how &quot;, &quot;are &quot;, &quot;you?&quot;]\r\n\r\n","title":"Java: How to split a string by a number of characters?","body":"<p>By far the most elegant solution to split string every X number of characters is using regexes</p>\n<pre><code>String text = &quot;how are you?&quot;;\nString[] textArray = text.split(&quot;(?&lt;=\\\\G.{4})&quot;);\n</code></pre>\n<p>result:    [&quot;how &quot;, &quot;are &quot;, &quot;you?&quot;]</p>\n"}],"owner":{"account_id":1247602,"reputation":5390,"user_id":1208733,"accept_rate":26,"display_name":"Meroelyth"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146168,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":9276720,"answer_count":12,"score":40,"last_activity_date":1694688206,"creation_date":1329221478,"question_id":9276639,"body_markdown":"I tried to search online to solve this question but I didn&#39;t found anything.\r\n\r\nI wrote the following abstract code to explain what I&#39;m asking:\r\n\r\n    String text = &quot;how are you?&quot;;\r\n\r\n    String[] textArray= text.splitByNumber(4); //this method is what I&#39;m asking\r\n    textArray[0]; //it contains &quot;how &quot;\r\n    textArray[1]; //it contains &quot;are &quot;\r\n    textArray[2]; //it contains &quot;you?&quot;\r\n\r\nThe method splitByNumber splits the string &quot;text&quot; every 4 characters. How I can create this method??\r\n\r\nMany Thanks\r\n\r\n    ","title":"Java: How to split a string by a number of characters?","body":"<p>I tried to search online to solve this question but I didn't found anything.</p>\n\n<p>I wrote the following abstract code to explain what I'm asking:</p>\n\n<pre><code>String text = \"how are you?\";\n\nString[] textArray= text.splitByNumber(4); //this method is what I'm asking\ntextArray[0]; //it contains \"how \"\ntextArray[1]; //it contains \"are \"\ntextArray[2]; //it contains \"you?\"\n</code></pre>\n\n<p>The method splitByNumber splits the string \"text\" every 4 characters. How I can create this method??</p>\n\n<p>Many Thanks</p>\n"},{"tags":["java","eclipse","intellij-idea"],"comments":[{"owner":{"account_id":6194214,"reputation":3674,"user_id":4826048,"display_name":"K139"},"score":2,"creation_date":1466014682,"post_id":37842806,"comment_id":63146301,"body_markdown":"Ctrl + F12 in windows.","body":"Ctrl + F12 in windows."},{"owner":{"account_id":3978064,"reputation":465,"user_id":5199164,"display_name":"Sid"},"score":1,"creation_date":1466014997,"post_id":37842806,"comment_id":63146456,"body_markdown":"In Intellij if you choose Eclipse keymap in Settings&gt;Keymap, Ctrl+O works.","body":"In Intellij if you choose Eclipse keymap in Settings&gt;Keymap, Ctrl+O works."},{"owner":{"account_id":1309153,"reputation":285,"user_id":1257528,"accept_rate":60,"display_name":"ak123"},"score":0,"creation_date":1466015965,"post_id":37842806,"comment_id":63147065,"body_markdown":"This worked for me. Changed the settings to use Eclipse keymap. Thanks","body":"This worked for me. Changed the settings to use Eclipse keymap. Thanks"},{"owner":{"account_id":1309153,"reputation":285,"user_id":1257528,"accept_rate":60,"display_name":"ak123"},"score":0,"creation_date":1466016343,"post_id":37842806,"comment_id":63147304,"body_markdown":"@Sid..If you provide response in the form of an answer I can mark it as an accepted answer","body":"@Sid..If you provide response in the form of an answer I can mark it as an accepted answer"}],"answers":[{"tags":[],"owner":{"account_id":6194214,"reputation":3674,"user_id":4826048,"display_name":"K139"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1694688003,"creation_date":1466015046,"answer_id":37843034,"question_id":37842806,"body_markdown":"&lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;F12&lt;/kbd&gt; to open [**File Structure**][1] popup and show code outline.\r\n\r\nHere is a list of very often used keys of Eclipse and IntelliJ.\r\n\r\nSee also: [IntelliJ&#39;s Reference Card for Keymaps on Mac and Linux/Windows][2].\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/viewing-structure-of-a-source-file.html\r\n  [2]: https://resources.jetbrains.com/storage/products/intellij-idea/docs/IntelliJIDEA_ReferenceCard.pdf\r\n  [3]: http://i.stack.imgur.com/2Ndoz.png","title":"IntelliJ Shortcut for code outline","body":"<p><kbd>Ctrl</kbd> + <kbd>F12</kbd> to open <a href=\"https://www.jetbrains.com/help/idea/viewing-structure-of-a-source-file.html\" rel=\"nofollow noreferrer\"><strong>File Structure</strong></a> popup and show code outline.</p>\n<p>Here is a list of very often used keys of Eclipse and IntelliJ.</p>\n<p>See also: <a href=\"https://resources.jetbrains.com/storage/products/intellij-idea/docs/IntelliJIDEA_ReferenceCard.pdf\" rel=\"nofollow noreferrer\">IntelliJ's Reference Card for Keymaps on Mac and Linux/Windows</a>.</p>\n<p><a href=\"https://i.stack.imgur.com/2Ndoz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2Ndoz.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1309153,"reputation":285,"user_id":1257528,"accept_rate":60,"display_name":"ak123"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3955,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1466023244,"answer_count":1,"score":3,"last_activity_date":1694688003,"creation_date":1466014297,"question_id":37842806,"body_markdown":"I&#39;m new to Intellij and migrating over from Eclipse. I have a question about a keyboard shortcut to show the outline of a java source file. In Eclipse we do Ctrl+O which basically shows the outline of the class. However I&#39;m not able to figure out the shortcut to do the same in Intellij.\r\n\r\nBased on Intellij documentation it says we need to press Cmd+F12(I moved to Mac as well) but that never invokes the code outline. Kindly help.\r\n","title":"IntelliJ Shortcut for code outline","body":"<p>I'm new to Intellij and migrating over from Eclipse. I have a question about a keyboard shortcut to show the outline of a java source file. In Eclipse we do Ctrl+O which basically shows the outline of the class. However I'm not able to figure out the shortcut to do the same in Intellij.</p>\n\n<p>Based on Intellij documentation it says we need to press Cmd+F12(I moved to Mac as well) but that never invokes the code outline. Kindly help.</p>\n"},{"tags":["java","android","android-app-links"],"answers":[{"tags":[],"owner":{"account_id":29439484,"reputation":94,"user_id":22557788,"display_name":"Davit Hovhannisyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694687624,"creation_date":1694687624,"answer_id":77104068,"question_id":77103512,"body_markdown":"To make sure that your link will always open HomeActivity and not LauncherActiviy, you can use Android App LInks with the &quot;autofill&quot; attribute.\r\n\r\nYou need to change your manifest like this:\r\n\r\n    &lt;activity\r\n        android:name=&quot;.activities.HomeActivity&quot;\r\n        android:exported=&quot;true&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:screenOrientation=&quot;portrait&quot;\r\n        android:theme=&quot;@style/AppThemeMap&quot;&gt;\r\n        &lt;intent-filter android:autoVerify=&quot;true&quot;&gt;\r\n            &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n            &lt;data\r\n                android:scheme=&quot;https&quot;\r\n                android:host=&quot;www.xyz.net&quot;\r\n                android:pathPrefix=&quot;/corp&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    \r\n        &lt;!-- there you need to add the &quot;autofill&quot; attribute to the intent filter --&gt;\r\n        &lt;intent-filter android:autoVerify=&quot;true&quot; android:autofill=&quot;true&quot;&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n\r\nBy this, you indicate that Android should directly open the HomeActiviyu when the app is not running or killed; this method will help you pass the LauncherActiviy. Make sure that you have properly set up App Links on your website to associate the URLs with your app. Additionally, ensure that the android:autoVerify=&quot;true&quot; attribute is set.\r\n\r\n","title":"Android App link not opening desired intent","body":"<p>To make sure that your link will always open HomeActivity and not LauncherActiviy, you can use Android App LInks with the &quot;autofill&quot; attribute.</p>\n<p>You need to change your manifest like this:</p>\n<pre><code>&lt;activity\n    android:name=&quot;.activities.HomeActivity&quot;\n    android:exported=&quot;true&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:screenOrientation=&quot;portrait&quot;\n    android:theme=&quot;@style/AppThemeMap&quot;&gt;\n    &lt;intent-filter android:autoVerify=&quot;true&quot;&gt;\n        &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n        &lt;data\n            android:scheme=&quot;https&quot;\n            android:host=&quot;www.xyz.net&quot;\n            android:pathPrefix=&quot;/corp&quot; /&gt;\n    &lt;/intent-filter&gt;\n\n    &lt;!-- there you need to add the &quot;autofill&quot; attribute to the intent filter --&gt;\n    &lt;intent-filter android:autoVerify=&quot;true&quot; android:autofill=&quot;true&quot;&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n<p>By this, you indicate that Android should directly open the HomeActiviyu when the app is not running or killed; this method will help you pass the LauncherActiviy. Make sure that you have properly set up App Links on your website to associate the URLs with your app. Additionally, ensure that the android:autoVerify=&quot;true&quot; attribute is set.</p>\n"}],"owner":{"account_id":1931992,"reputation":4921,"user_id":1741203,"accept_rate":57,"display_name":"Rajeev Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694687624,"creation_date":1694683548,"question_id":77103512,"body_markdown":"I am having a app with two pages only `LauncherActivity` and `HomeActivity`. Both these activities are defined in manifest as follows \r\n\r\n      &lt;activity\r\n            android:name=&quot;.activities.LauncherActivity&quot;\r\n            android:configChanges=&quot;orientation|keyboardHidden|screenSize&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:theme=&quot;@style/AppThemeMap&quot;\r\n            android:windowSoftInputMode=&quot;stateHidden|adjustPan&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n      &lt;activity\r\n            android:name=&quot;.activities.HomeActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:theme=&quot;@style/AppThemeMap&quot;&gt;\r\n            &lt;intent-filter android:autoVerify=&quot;true&quot;&gt;\r\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n                &lt;data\r\n                    android:scheme=&quot;https&quot;\r\n                    android:host=&quot;www.xyz.net&quot;\r\n                    android:pathPrefix=&quot;/corp&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n\r\nI have used Android app links in my app so that whenever user clicks on designated URL, my app Home page opens. \r\n\r\nWhen app is in history stack it opens Home page as expected but if app is in killed state it opens Launcher page first then redirect to Home.\r\n\r\nI want Direct Home page opens every time. how it can be achieved ?\r\n","title":"Android App link not opening desired intent","body":"<p>I am having a app with two pages only <code>LauncherActivity</code> and <code>HomeActivity</code>. Both these activities are defined in manifest as follows</p>\n<pre><code>  &lt;activity\n        android:name=&quot;.activities.LauncherActivity&quot;\n        android:configChanges=&quot;orientation|keyboardHidden|screenSize&quot;\n        android:exported=&quot;true&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:screenOrientation=&quot;portrait&quot;\n        android:theme=&quot;@style/AppThemeMap&quot;\n        android:windowSoftInputMode=&quot;stateHidden|adjustPan&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n            &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n  &lt;activity\n        android:name=&quot;.activities.HomeActivity&quot;\n        android:exported=&quot;true&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:screenOrientation=&quot;portrait&quot;\n        android:theme=&quot;@style/AppThemeMap&quot;&gt;\n        &lt;intent-filter android:autoVerify=&quot;true&quot;&gt;\n            &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n            &lt;data\n                android:scheme=&quot;https&quot;\n                android:host=&quot;www.xyz.net&quot;\n                android:pathPrefix=&quot;/corp&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n</code></pre>\n<p>I have used Android app links in my app so that whenever user clicks on designated URL, my app Home page opens.</p>\n<p>When app is in history stack it opens Home page as expected but if app is in killed state it opens Launcher page first then redirect to Home.</p>\n<p>I want Direct Home page opens every time. how it can be achieved ?</p>\n"},{"tags":["java","gradle","repository"],"owner":{"account_id":24029209,"reputation":13,"user_id":18010405,"display_name":"CodingPandaBear"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694687380,"creation_date":1694687380,"question_id":77104048,"body_markdown":"My Gradle project tries to access a private Repo that needs a secure connection.\r\n\r\nThe server offers a Certificate including the entire chain (Root-&gt;Intermediate-&gt;Server, checked with  browser and the Windows Certificat Tool).\r\nThe Root certificate is listed in cacerts as trusted. Firefox and Chrome also trust the root certificate.\r\n\r\nWhen I connect to the server via a browser, the connection is trusted, however when I do the same via the gradle project, we get the error that no valid certification path can be found.\r\nThe connection via the broser is done as a TLSv1.3 connection, so we know that the server accepts such conenctions.\r\n\r\nWhat other causes could throw this error?\r\nHow to deal with it (other then adding the server cert as trusted)?\r\n\r\nIn case we want to write to the repo:\r\n```\r\nRoot cause: org.gradle.api.resources.ResourceException: Could not write to resource &#39;[Path URL changed for question]&#39;.\r\n\tat org.gradle.internal.resource.ResourceExceptions.failure(ResourceExceptions.java:74)\r\n\t(...)\r\nCaused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n\t(...)\r\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439)\r\n\t(...)\r\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat (...)\r\n```\r\n\r\nIf we want to read from the repo:\r\n\r\n```\r\n&gt; Could not GET &#39;[Path URL changed for question]&#39;.\r\n               &gt; The server may not support the client&#39;s requested TLS protocol versions: (TLSv1.2, TLSv1.3). You may need to configure the client to allow other protocols to be used. See: https://docs.gradle.org/7.5/userguide/build_environment.html#gradle_system_properties\r\n                  &gt; PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n```\r\n\r\n\r\nTried allowing insecure protocols, defining that the known good connections TLSv1.3 are used, as suggested in the seccond stack trace.\r\n\r\nAdding the certificate to cacert is only accepted as a last resort option.","title":"&quot;PKIX path building failed: (...) unable to find valid certification path to requested target&quot; despite valid Cert chain (according to otherprograms)","body":"<p>My Gradle project tries to access a private Repo that needs a secure connection.</p>\n<p>The server offers a Certificate including the entire chain (Root-&gt;Intermediate-&gt;Server, checked with  browser and the Windows Certificat Tool).\nThe Root certificate is listed in cacerts as trusted. Firefox and Chrome also trust the root certificate.</p>\n<p>When I connect to the server via a browser, the connection is trusted, however when I do the same via the gradle project, we get the error that no valid certification path can be found.\nThe connection via the broser is done as a TLSv1.3 connection, so we know that the server accepts such conenctions.</p>\n<p>What other causes could throw this error?\nHow to deal with it (other then adding the server cert as trusted)?</p>\n<p>In case we want to write to the repo:</p>\n<pre><code>Root cause: org.gradle.api.resources.ResourceException: Could not write to resource '[Path URL changed for question]'.\n    at org.gradle.internal.resource.ResourceExceptions.failure(ResourceExceptions.java:74)\n    (...)\nCaused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\n    (...)\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439)\n    (...)\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at (...)\n</code></pre>\n<p>If we want to read from the repo:</p>\n<pre><code>&gt; Could not GET '[Path URL changed for question]'.\n               &gt; The server may not support the client's requested TLS protocol versions: (TLSv1.2, TLSv1.3). You may need to configure the client to allow other protocols to be used. See: https://docs.gradle.org/7.5/userguide/build_environment.html#gradle_system_properties\n                  &gt; PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>Tried allowing insecure protocols, defining that the known good connections TLSv1.3 are used, as suggested in the seccond stack trace.</p>\n<p>Adding the certificate to cacert is only accepted as a last resort option.</p>\n"},{"tags":["java","oracle","jooq"],"comments":[{"owner":{"account_id":990449,"reputation":599,"user_id":1007927,"accept_rate":75,"display_name":"Theo"},"score":0,"creation_date":1694681520,"post_id":77100531,"comment_id":135923990,"body_markdown":"The problem most likely is related to this oracle issue here https://support.oracle.com/knowledge/Middleware/1620109_1.html but I wonder whether JOOQ can do anything about it.","body":"The problem most likely is related to this oracle issue here <a href=\"https://support.oracle.com/knowledge/Middleware/1620109_1.html\" rel=\"nofollow noreferrer\">support.oracle.com/knowledge/Middleware/1620109_1.html</a> but I wonder whether JOOQ can do anything about it."},{"owner":{"account_id":990449,"reputation":599,"user_id":1007927,"accept_rate":75,"display_name":"Theo"},"score":0,"creation_date":1694697181,"post_id":77100531,"comment_id":135927469,"body_markdown":"I somehow think it is a bug or at least a potential improvement in jOOQ and hence now created a bug ticket with the same content for it here: https://github.com/jOOQ/jOOQ/issues/15595","body":"I somehow think it is a bug or at least a potential improvement in jOOQ and hence now created a bug ticket with the same content for it here: <a href=\"https://github.com/jOOQ/jOOQ/issues/15595\" rel=\"nofollow noreferrer\">github.com/jOOQ/jOOQ/issues/15595</a>"}],"owner":{"account_id":990449,"reputation":599,"user_id":1007927,"accept_rate":75,"display_name":"Theo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694687167,"creation_date":1694639440,"question_id":77100531,"body_markdown":"I have a table `ASSETINFO` with the columns `IP` (varchar) and `REPORT` (CLOB) in an Oracle 19 database. The reports have a size of 100 to 100.000 characters and hence fit well into a Java string. I now want to merge incoming reports into the table: If not exists insert, otherwise overwrite the existing one. The `IP` column is my primary key. The problem: Any way I try to implement my usecase, I hit `ORA-01461`. (I currently use JOOQ 3.17)\r\n\r\nWhat I tried:\r\n\r\n1. Using JOOQ record API:\r\n```java\r\nfinal AssetInfoRecord record = ctx.newRecord(ASSET_INFO);\r\n            record.setIpAddr(&quot;1.1.1.1&quot;);\r\n            record.setReport(&quot;*&quot;.repeat(60000));\r\n            record.merge();\r\n```\r\n=&gt; ORA-01461\r\n\r\n2. Using JOOQ Insert OnConflict style (I think it results in pretty much the same MERGE statement under the hood)\r\n```java\r\nctx.insertInto(ASSET_INFO)\r\n        .set(ASSET_INFO.IP_ADDR, &quot;1.1.1.1&quot;)\r\n        .set(ASSET_INFO.REPORT, &quot;*&quot;.repeat(60000))\r\n        .onDuplicateKeyUpdate()\r\n        .set(ASSET_INFO.REPORT, &quot;*&quot;.repeat(60000))\r\n        .execute();\r\n```\r\n=&gt; ORA-01461\r\n\r\n3. Going for the full MERGE syntax\r\n```java\r\n            Table&lt;Record2&lt;String, String&gt;&gt; toMerge = DSL\r\n                    .values(DSL.row(&quot;1.1.1.1&quot;, &quot;*&quot;.repeat(60000)))\r\n                    .as(&quot;toMerge&quot;, ASSET_INFO.IP_ADDR.getName(),  ASSET_INFO.REPORT.getName());\r\n\r\n            ctx\r\n                    .mergeInto(ASSET_INFO)\r\n                    .using(toMerge)\r\n                    .on(ASSET_INFO.IP_ADDR.eq(toMerge.field(ASSET_INFO.IP_ADDR)))\r\n                    .whenMatchedThenUpdate()\r\n                    .set(ASSET_INFO.REPORT, toMerge.field(ASSET_INFO.REPORT))\r\n                    .whenNotMatchedThenInsert()\r\n                    .set(ASSET_INFO.IP_ADDR, toMerge.field(ASSET_INFO.IP_ADDR))\r\n                    .set(ASSET_INFO.REPORT, toMerge.field(ASSET_INFO.REPORT))\r\n                    .execute();\r\n```\r\n=&gt; ORA-01461\r\n\r\nI did the same experiments but added the following forced type in my code generation:\r\n```java\r\nnew ForcedType()\r\n                        .withUserType(java.lang.String.class.getName())\r\n                        .withIncludeExpression(&quot;.*&quot;)\r\n                        .withIncludeTypes(&quot;.*CHARACTER\\\\sLARGE\\\\sOBJECT.*&quot;)\r\n                        .withBinding(org.jooq.impl.ClobBinding.class.getName())\r\n```\r\nand made sure that the ClobBinding is in use for my generated code:\r\n```java\r\npublic final TableField&lt;AssetInfoRecord, String&gt; REPORT = createField(DSL.name(&quot;REPORT&quot;), SQLDataType.CLOB, this, &quot;&quot;, new ClobBinding());\r\n```\r\nThe results are the same for all 3 cases. \r\n\r\nIs there a nice way in JOOQ with which I can perform a merge in an oracle table for a CLOB column for data that fits into a Java String and hence needs no streams?","title":"JOOQ: How to merge with Oracle CLOB column (fitting into a String)?","body":"<p>I have a table <code>ASSETINFO</code> with the columns <code>IP</code> (varchar) and <code>REPORT</code> (CLOB) in an Oracle 19 database. The reports have a size of 100 to 100.000 characters and hence fit well into a Java string. I now want to merge incoming reports into the table: If not exists insert, otherwise overwrite the existing one. The <code>IP</code> column is my primary key. The problem: Any way I try to implement my usecase, I hit <code>ORA-01461</code>. (I currently use JOOQ 3.17)</p>\n<p>What I tried:</p>\n<ol>\n<li>Using JOOQ record API:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>final AssetInfoRecord record = ctx.newRecord(ASSET_INFO);\n            record.setIpAddr(&quot;1.1.1.1&quot;);\n            record.setReport(&quot;*&quot;.repeat(60000));\n            record.merge();\n</code></pre>\n<p>=&gt; ORA-01461</p>\n<ol start=\"2\">\n<li>Using JOOQ Insert OnConflict style (I think it results in pretty much the same MERGE statement under the hood)</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>ctx.insertInto(ASSET_INFO)\n        .set(ASSET_INFO.IP_ADDR, &quot;1.1.1.1&quot;)\n        .set(ASSET_INFO.REPORT, &quot;*&quot;.repeat(60000))\n        .onDuplicateKeyUpdate()\n        .set(ASSET_INFO.REPORT, &quot;*&quot;.repeat(60000))\n        .execute();\n</code></pre>\n<p>=&gt; ORA-01461</p>\n<ol start=\"3\">\n<li>Going for the full MERGE syntax</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>            Table&lt;Record2&lt;String, String&gt;&gt; toMerge = DSL\n                    .values(DSL.row(&quot;1.1.1.1&quot;, &quot;*&quot;.repeat(60000)))\n                    .as(&quot;toMerge&quot;, ASSET_INFO.IP_ADDR.getName(),  ASSET_INFO.REPORT.getName());\n\n            ctx\n                    .mergeInto(ASSET_INFO)\n                    .using(toMerge)\n                    .on(ASSET_INFO.IP_ADDR.eq(toMerge.field(ASSET_INFO.IP_ADDR)))\n                    .whenMatchedThenUpdate()\n                    .set(ASSET_INFO.REPORT, toMerge.field(ASSET_INFO.REPORT))\n                    .whenNotMatchedThenInsert()\n                    .set(ASSET_INFO.IP_ADDR, toMerge.field(ASSET_INFO.IP_ADDR))\n                    .set(ASSET_INFO.REPORT, toMerge.field(ASSET_INFO.REPORT))\n                    .execute();\n</code></pre>\n<p>=&gt; ORA-01461</p>\n<p>I did the same experiments but added the following forced type in my code generation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new ForcedType()\n                        .withUserType(java.lang.String.class.getName())\n                        .withIncludeExpression(&quot;.*&quot;)\n                        .withIncludeTypes(&quot;.*CHARACTER\\\\sLARGE\\\\sOBJECT.*&quot;)\n                        .withBinding(org.jooq.impl.ClobBinding.class.getName())\n</code></pre>\n<p>and made sure that the ClobBinding is in use for my generated code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final TableField&lt;AssetInfoRecord, String&gt; REPORT = createField(DSL.name(&quot;REPORT&quot;), SQLDataType.CLOB, this, &quot;&quot;, new ClobBinding());\n</code></pre>\n<p>The results are the same for all 3 cases.</p>\n<p>Is there a nice way in JOOQ with which I can perform a merge in an oracle table for a CLOB column for data that fits into a Java String and hence needs no streams?</p>\n"},{"tags":["java","mysql","spring-boot"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694685719,"post_id":77103776,"comment_id":135924972,"body_markdown":"You could always ask Wix. Looks like your error starts with their classes","body":"You could always ask Wix. Looks like your error starts with their classes"},{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":0,"creation_date":1694690104,"post_id":77103776,"comment_id":135925899,"body_markdown":"The exit code usually indicates issues with required .dll files missing, not having access to, or having the wrong version. Apparently, mysql v8.017 has a missing .dll file issue under certain configurations. See https://bugs.mysql.com/bug.php?id=94168 and https://bugs.mysql.com/bug.php?id=96573 for more details.","body":"The exit code usually indicates issues with required .dll files missing, not having access to, or having the wrong version. Apparently, mysql v8.017 has a missing .dll file issue under certain configurations. See <a href=\"https://bugs.mysql.com/bug.php?id=94168\" rel=\"nofollow noreferrer\">bugs.mysql.com/bug.php?id=94168</a> and <a href=\"https://bugs.mysql.com/bug.php?id=96573\" rel=\"nofollow noreferrer\">bugs.mysql.com/bug.php?id=96573</a> for more details."},{"owner":{"account_id":29397805,"reputation":63,"user_id":22524769,"display_name":"Shubham Shekhar"},"score":0,"creation_date":1694693356,"post_id":77103776,"comment_id":135926531,"body_markdown":"Is there any other mysql version I can try other than 8.0.17?","body":"Is there any other mysql version I can try other than 8.0.17?"},{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":0,"creation_date":1694706555,"post_id":77103776,"comment_id":135929750,"body_markdown":"Any version above 8.0.17 :)","body":"Any version above 8.0.17 :)"},{"owner":{"account_id":29397805,"reputation":63,"user_id":22524769,"display_name":"Shubham Shekhar"},"score":0,"creation_date":1694709652,"post_id":77103776,"comment_id":135930350,"body_markdown":"ok, but the thing is I am using wix-embedded-mysql dependency does not show version greater than 8.0.17 somehow.\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: No enum constant com.wix.mysql.distribution.Version.v8_0_34\n\nGit url which I cloned:-\ngit clone https://github.com/wix/wix-embedded-mysql.git","body":"ok, but the thing is I am using wix-embedded-mysql dependency does not show version greater than 8.0.17 somehow. Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: No enum constant com.wix.mysql.distribution.Version.v8_0_34  Git url which I cloned:- git clone <a href=\"https://github.com/wix/wix-embedded-mysql.git\" rel=\"nofollow noreferrer\">github.com/wix/wix-embedded-mysql.git</a>"}],"owner":{"account_id":29397805,"reputation":63,"user_id":22524769,"display_name":"Shubham Shekhar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694686988,"creation_date":1694685294,"question_id":77103776,"body_markdown":"I am using embedded MySQL to run my JUnit tests, but since I upgraded from version 5.7 to 8.0.17, embedded MySQL fails to start with below error:\r\n\r\n```none\r\n09/14-15:07:55.844|||main|||INFO||||||||The following 1 profile is active: &quot;mysql&quot;\r\n09/14-15:07:56.654|||main|||INFO||||||||Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n09/14-15:07:56.826|||main|||INFO||||||||Finished Spring Data repository scanning in 162 ms. Found 57 JPA repository interfaces.\r\n09/14-15:07:58.139|||main|||INFO||||||||Tomcat initialized with port(s): 0 (http)\r\n09/14-15:07:58.155|||main|||INFO||||||||Initializing ProtocolHandler [&quot;http-nio-auto-1&quot;]\r\n09/14-15:07:58.156|||main|||INFO||||||||Starting service [Tomcat]\r\n09/14-15:07:58.156|||main|||INFO||||||||Starting Servlet engine: [Apache Tomcat/10.1.4]\r\n09/14-15:07:58.321|||main|||INFO||||||||Initializing Spring embedded WebApplicationContext\r\n09/14-15:07:58.324|||main|||INFO||||||||Root WebApplicationContext: initialization completed in 2446 ms\r\n09/14-15:07:58.552|||main|||INFO||||||||Embedded MySQL download path is /app/mysql\r\n09/14-15:07:58.569|||main|||INFO||||||||Preparing EmbeddedMysql version &#39;Version 8.0.17&#39;...\r\n09/14-15:07:59.235|||main|||INFO||||||||Preparing mysqld for startup\r\n\r\n    java.lang.RuntimeException: Command exited with error code: &#39;-1073741515&#39; and output: &#39;&#39;\r\n        at com.wix.mysql.distribution.setup.ProcessRunner.resolveException(ProcessRunner.java:53)\r\n        at com.wix.mysql.distribution.setup.ProcessRunner.run(ProcessRunner.java:38)\r\n        at com.wix.mysql.distribution.setup.Mysql8Initializer.apply(Mysql8Initializer.java:33)\r\n        at com.wix.mysql.distribution.Setup.apply(Setup.java:24)\r\n        at com.wix.mysql.MysqldExecutable.start(MysqldExecutable.java:36)\r\n        at com.wix.mysql.MysqldExecutable.start(MysqldExecutable.java:15)\r\n        at de.flapdoodle.embed.process.runtime.Executable.start(Executable.java:108)\r\n        at com.wix.mysql.EmbeddedMysql.&lt;init&gt;(EmbeddedMysql.java:47)\r\n        at com.wix.mysql.EmbeddedMysql$Builder.start(EmbeddedMysql.java:169)\r\n        at org.onap.so.db.adapters.EmbeddedMySqlDbConfig.embeddedMysql(EmbeddedMySqlDbConfig.java:92)\r\n        at org.onap.so.db.adapters.EmbeddedMySqlDbConfig$$SpringCGLIB$$0.CGLIB$embeddedMysql$2(&lt;generated&gt;)\r\n        at org.onap.so.db.adapters.EmbeddedMySqlDbConfig$$SpringCGLIB$$2.invoke(&lt;generated&gt;)\r\n        at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)\r\n        at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n        at org.onap.so.db.adapters.EmbeddedMySqlDbConfig$$SpringCGLIB$$0.embeddedMysql(&lt;generated&gt;)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:548)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132)\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:310)\r\n        at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\r\n        at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:59)\r\n        at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:47)\r\n        at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1388)\r\n        at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)\r\n        at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\r\n        at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\r\n        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)\r\n        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)\r\n        at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\r\n        at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)\r\n        at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)\r\n        at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\r\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\r\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\r\n        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\r\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\r\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n        at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n        at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n        at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n        at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n        at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\r\n        at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n        at org.junit.runner.JUnitCore.run(JUnitCore.java:115)\r\n        at org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:42)\r\n        at org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:80)\r\n        at org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:72)\r\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n        at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n        at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:50)\r\n        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)\r\n        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)\r\n        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)\r\n        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)\r\n        at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)\r\n        at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)\r\n        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)\r\n09/14-15:07:59.559|||main|||WARN||||||||Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0: Error creating bean with name &#39;embeddedMysql&#39; defined in class path resource [org/onap/so/db/adapters/EmbeddedMySqlDbConfig.class]: Failed to instantiate [com.wix.mysql.EmbeddedMysql]: Factory method &#39;embeddedMysql&#39; threw exception with message: Command exited with error code: &#39;-1073741515&#39; and output: &#39;&#39;\r\n09/14-15:07:59.564|||main|||INFO||||||||Stopping service [Tomcat]\r\n09/14-15:07:59.600|||main|||INFO||||||||\r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n09/14-15:07:59.626|||main|||ERROR||||||||Application run failed\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0: Error creating bean with name &#39;embeddedMysql&#39; defined in class path resource [org/onap/so/db/adapters/EmbeddedMySqlDbConfig.class]: Failed to instantiate [com.wix.mysql.EmbeddedMysql]: Factory method &#39;embeddedMysql&#39; threw exception with message: Command exited with error code: &#39;-1073741515&#39; and output: &#39;&#39;\r\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:548)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132)\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:310)\r\n        at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\r\n        at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:59)\r\n        at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:47)\r\n        at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1388)\r\n        at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)\r\n        at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\r\n        at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\r\n        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)\r\n        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)\r\n        at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\r\n        at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)\r\n        at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)\r\n        at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\r\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\r\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\r\n        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\r\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\r\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n        at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n        at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n        at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n        at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n        at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\r\n        at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n        at org.junit.runner.JUnitCore.run(JUnitCore.java:115)\r\n        at org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:42)\r\n        at org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:80)\r\n        at org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:72)\r\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n        at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n        at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:50)\r\n        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)\r\n        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)\r\n        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)\r\n        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)\r\n        at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)\r\n        at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)\r\n        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;embeddedMysql&#39; defined in class path resource [org/onap/so/db/adapters/EmbeddedMySqlDbConfig.class]: Failed to instantiate [com.wix.mysql.EmbeddedMysql]: Factory method &#39;embeddedMysql&#39; threw exception with message: Command exited with error code: &#39;-1073741515&#39; and output: &#39;&#39;\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)\r\n        ... 69 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.wix.mysql.EmbeddedMysql]: Factory method &#39;embeddedMysql&#39; threw exception with message: Command exited with error code: &#39;-1073741515&#39; and output: &#39;&#39;\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n        ... 85 common frames omitted\r\nCaused by: java.lang.RuntimeException: Command exited with error code: &#39;-1073741515&#39; and output: &#39;&#39;\r\n        at com.wix.mysql.distribution.setup.ProcessRunner.resolveException(ProcessRunner.java:53)\r\n        at com.wix.mysql.distribution.setup.ProcessRunner.run(ProcessRunner.java:38)\r\n        at com.wix.mysql.distribution.setup.Mysql8Initializer.apply(Mysql8Initializer.java:33)\r\n        at com.wix.mysql.distribution.Setup.apply(Setup.java:24)\r\n        at com.wix.mysql.MysqldExecutable.start(MysqldExecutable.java:36)\r\n        at com.wix.mysql.MysqldExecutable.start(MysqldExecutable.java:15)\r\n        at de.flapdoodle.embed.process.runtime.Executable.start(Executable.java:108)\r\n        at com.wix.mysql.EmbeddedMysql.&lt;init&gt;(EmbeddedMysql.java:47)\r\n        at com.wix.mysql.EmbeddedMysql$Builder.start(EmbeddedMysql.java:169)\r\n        at org.onap.so.db.adapters.EmbeddedMySqlDbConfig.embeddedMysql(EmbeddedMySqlDbConfig.java:92)\r\n        at org.onap.so.db.adapters.EmbeddedMySqlDbConfig$$SpringCGLIB$$0.CGLIB$embeddedMysql$2(&lt;generated&gt;)\r\n        at org.onap.so.db.adapters.EmbeddedMySqlDbConfig$$SpringCGLIB$$2.invoke(&lt;generated&gt;)\r\n        at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)\r\n        at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n        at org.onap.so.db.adapters.EmbeddedMySqlDbConfig$$SpringCGLIB$$0.embeddedMysql(&lt;generated&gt;)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\r\n        ... 86 common frames omitted\r\n```\r\n\r\nI am using below embedded mysql dependency in my project:\r\n\r\n  ```xml\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;com.wix&lt;/groupId&gt;\r\n    &lt;artifactId&gt;wix-embedded-mysql&lt;/artifactId&gt;\r\n    &lt;version&gt;4.6.2&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n  &lt;/dependency&gt;\r\n````","title":"Embedded MySQL 8.0.17 fails with error &quot;java.lang.RuntimeException: Command exited with error code: &#39;-1073741515&#39; and output: &#39;&#39;","body":"<p>I am using embedded MySQL to run my JUnit tests, but since I upgraded from version 5.7 to 8.0.17, embedded MySQL fails to start with below error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>09/14-15:07:55.844|||main|||INFO||||||||The following 1 profile is active: &quot;mysql&quot;\n09/14-15:07:56.654|||main|||INFO||||||||Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n09/14-15:07:56.826|||main|||INFO||||||||Finished Spring Data repository scanning in 162 ms. Found 57 JPA repository interfaces.\n09/14-15:07:58.139|||main|||INFO||||||||Tomcat initialized with port(s): 0 (http)\n09/14-15:07:58.155|||main|||INFO||||||||Initializing ProtocolHandler [&quot;http-nio-auto-1&quot;]\n09/14-15:07:58.156|||main|||INFO||||||||Starting service [Tomcat]\n09/14-15:07:58.156|||main|||INFO||||||||Starting Servlet engine: [Apache Tomcat/10.1.4]\n09/14-15:07:58.321|||main|||INFO||||||||Initializing Spring embedded WebApplicationContext\n09/14-15:07:58.324|||main|||INFO||||||||Root WebApplicationContext: initialization completed in 2446 ms\n09/14-15:07:58.552|||main|||INFO||||||||Embedded MySQL download path is /app/mysql\n09/14-15:07:58.569|||main|||INFO||||||||Preparing EmbeddedMysql version 'Version 8.0.17'...\n09/14-15:07:59.235|||main|||INFO||||||||Preparing mysqld for startup\n\n    java.lang.RuntimeException: Command exited with error code: '-1073741515' and output: ''\n        at com.wix.mysql.distribution.setup.ProcessRunner.resolveException(ProcessRunner.java:53)\n        at com.wix.mysql.distribution.setup.ProcessRunner.run(ProcessRunner.java:38)\n        at com.wix.mysql.distribution.setup.Mysql8Initializer.apply(Mysql8Initializer.java:33)\n        at com.wix.mysql.distribution.Setup.apply(Setup.java:24)\n        at com.wix.mysql.MysqldExecutable.start(MysqldExecutable.java:36)\n        at com.wix.mysql.MysqldExecutable.start(MysqldExecutable.java:15)\n        at de.flapdoodle.embed.process.runtime.Executable.start(Executable.java:108)\n        at com.wix.mysql.EmbeddedMysql.&lt;init&gt;(EmbeddedMysql.java:47)\n        at com.wix.mysql.EmbeddedMysql$Builder.start(EmbeddedMysql.java:169)\n        at org.onap.so.db.adapters.EmbeddedMySqlDbConfig.embeddedMysql(EmbeddedMySqlDbConfig.java:92)\n        at org.onap.so.db.adapters.EmbeddedMySqlDbConfig$$SpringCGLIB$$0.CGLIB$embeddedMysql$2(&lt;generated&gt;)\n        at org.onap.so.db.adapters.EmbeddedMySqlDbConfig$$SpringCGLIB$$2.invoke(&lt;generated&gt;)\n        at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)\n        at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\n        at org.onap.so.db.adapters.EmbeddedMySqlDbConfig$$SpringCGLIB$$0.embeddedMysql(&lt;generated&gt;)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:548)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:310)\n        at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\n        at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:59)\n        at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:47)\n        at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1388)\n        at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)\n        at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\n        at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\n        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)\n        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)\n        at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\n        at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)\n        at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)\n        at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\n        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\n        at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n        at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n        at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n        at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n        at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\n        at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n        at org.junit.runner.JUnitCore.run(JUnitCore.java:115)\n        at org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:42)\n        at org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:80)\n        at org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:72)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n        at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n        at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:50)\n        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)\n        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)\n        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)\n        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)\n        at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)\n        at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)\n        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)\n09/14-15:07:59.559|||main|||WARN||||||||Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0: Error creating bean with name 'embeddedMysql' defined in class path resource [org/onap/so/db/adapters/EmbeddedMySqlDbConfig.class]: Failed to instantiate [com.wix.mysql.EmbeddedMysql]: Factory method 'embeddedMysql' threw exception with message: Command exited with error code: '-1073741515' and output: ''\n09/14-15:07:59.564|||main|||INFO||||||||Stopping service [Tomcat]\n09/14-15:07:59.600|||main|||INFO||||||||\n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n09/14-15:07:59.626|||main|||ERROR||||||||Application run failed\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0: Error creating bean with name 'embeddedMysql' defined in class path resource [org/onap/so/db/adapters/EmbeddedMySqlDbConfig.class]: Failed to instantiate [com.wix.mysql.EmbeddedMysql]: Factory method 'embeddedMysql' threw exception with message: Command exited with error code: '-1073741515' and output: ''\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798)\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:548)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:310)\n        at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\n        at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:59)\n        at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:47)\n        at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1388)\n        at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)\n        at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\n        at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\n        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)\n        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)\n        at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)\n        at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)\n        at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)\n        at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\n        at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\n        at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n        at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n        at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n        at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n        at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n        at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n        at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n        at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n        at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n        at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\n        at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n        at org.junit.runner.JUnitCore.run(JUnitCore.java:115)\n        at org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:42)\n        at org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:80)\n        at org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:72)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n        at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n        at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:50)\n        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)\n        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)\n        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)\n        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)\n        at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)\n        at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)\n        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'embeddedMysql' defined in class path resource [org/onap/so/db/adapters/EmbeddedMySqlDbConfig.class]: Failed to instantiate [com.wix.mysql.EmbeddedMysql]: Factory method 'embeddedMysql' threw exception with message: Command exited with error code: '-1073741515' and output: ''\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885)\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)\n        ... 69 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.wix.mysql.EmbeddedMysql]: Factory method 'embeddedMysql' threw exception with message: Command exited with error code: '-1073741515' and output: ''\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n        ... 85 common frames omitted\nCaused by: java.lang.RuntimeException: Command exited with error code: '-1073741515' and output: ''\n        at com.wix.mysql.distribution.setup.ProcessRunner.resolveException(ProcessRunner.java:53)\n        at com.wix.mysql.distribution.setup.ProcessRunner.run(ProcessRunner.java:38)\n        at com.wix.mysql.distribution.setup.Mysql8Initializer.apply(Mysql8Initializer.java:33)\n        at com.wix.mysql.distribution.Setup.apply(Setup.java:24)\n        at com.wix.mysql.MysqldExecutable.start(MysqldExecutable.java:36)\n        at com.wix.mysql.MysqldExecutable.start(MysqldExecutable.java:15)\n        at de.flapdoodle.embed.process.runtime.Executable.start(Executable.java:108)\n        at com.wix.mysql.EmbeddedMysql.&lt;init&gt;(EmbeddedMysql.java:47)\n        at com.wix.mysql.EmbeddedMysql$Builder.start(EmbeddedMysql.java:169)\n        at org.onap.so.db.adapters.EmbeddedMySqlDbConfig.embeddedMysql(EmbeddedMySqlDbConfig.java:92)\n        at org.onap.so.db.adapters.EmbeddedMySqlDbConfig$$SpringCGLIB$$0.CGLIB$embeddedMysql$2(&lt;generated&gt;)\n        at org.onap.so.db.adapters.EmbeddedMySqlDbConfig$$SpringCGLIB$$2.invoke(&lt;generated&gt;)\n        at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)\n        at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\n        at org.onap.so.db.adapters.EmbeddedMySqlDbConfig$$SpringCGLIB$$0.embeddedMysql(&lt;generated&gt;)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\n        ... 86 common frames omitted\n</code></pre>\n<p>I am using below embedded mysql dependency in my project:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.wix&lt;/groupId&gt;\n  &lt;artifactId&gt;wix-embedded-mysql&lt;/artifactId&gt;\n  &lt;version&gt;4.6.2&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","selenium-webdriver","google-chrome-devtools","fluentwait"],"comments":[{"owner":{"account_id":9995852,"reputation":6086,"user_id":7393478,"display_name":"Kaddath"},"score":0,"creation_date":1693817431,"post_id":77036184,"comment_id":135805530,"body_markdown":"Looks like a design flaw to me, if Selenium can do it, you user too, what happens when your user clicks on the UI and the request is not finished yet? You should probably implement either a loader, or that the button is disabled until the request finishes. Then you will have a critera for Selenuim to know when to click too","body":"Looks like a design flaw to me, if Selenium can do it, you user too, what happens when your user clicks on the UI and the request is not finished yet? You should probably implement either a loader, or that the button is disabled until the request finishes. Then you will have a critera for Selenuim to know when to click too"},{"owner":{"account_id":4404973,"reputation":45,"user_id":3589648,"display_name":"Karcel"},"score":0,"creation_date":1693817797,"post_id":77036184,"comment_id":135805593,"body_markdown":"Totally agree. Unfortunately I am left without a loader :(. However IF in this case does not solve the issue. Problem is how to solve it without loader.","body":"Totally agree. Unfortunately I am left without a loader :(. However IF in this case does not solve the issue. Problem is how to solve it without loader."},{"owner":{"account_id":9995852,"reputation":6086,"user_id":7393478,"display_name":"Kaddath"},"score":0,"creation_date":1693818069,"post_id":77036184,"comment_id":135805641,"body_markdown":"I never used Selenium with Java, but you can add a hidden criteria, for example in HTML I would probably add a class to the body, something like `content_loaded`","body":"I never used Selenium with Java, but you can add a hidden criteria, for example in HTML I would probably add a class to the body, something like <code>content_loaded</code>"},{"owner":{"account_id":4404973,"reputation":45,"user_id":3589648,"display_name":"Karcel"},"score":0,"creation_date":1693818213,"post_id":77036184,"comment_id":135805658,"body_markdown":"@Kaddath you mean within the tests? Within product i can see many ways how to fix it. Problem is that this is third party for me and hence cannot much manipulate with it. So even If i would put this element I would need to know when to put it and we are back to the original question :)","body":"@Kaddath you mean within the tests? Within product i can see many ways how to fix it. Problem is that this is third party for me and hence cannot much manipulate with it. So even If i would put this element I would need to know when to put it and we are back to the original question :)"},{"owner":{"account_id":9995852,"reputation":6086,"user_id":7393478,"display_name":"Kaddath"},"score":0,"creation_date":1693818671,"post_id":77036184,"comment_id":135805719,"body_markdown":"Sorry I misunderstood the question, I thought you had control over the code you are testing. I&#39;m not an expert on this, so apart from a timeout if performance is not a concern, I don&#39;t know","body":"Sorry I misunderstood the question, I thought you had control over the code you are testing. I&#39;m not an expert on this, so apart from a timeout if performance is not a concern, I don&#39;t know"}],"answers":[{"tags":[],"owner":{"account_id":412699,"reputation":3409,"user_id":1644596,"accept_rate":29,"display_name":"Robbie Wareham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694686944,"creation_date":1694686944,"answer_id":77103997,"question_id":77036184,"body_markdown":"I would avoid trying to use Selenium 4 methods to access the CDP as I have seen performance issues.\r\n\r\nInstead I would suggesting using https://mvnrepository.com/artifact/com.github.kklisura.cdt/cdt-java-client.\r\n\r\nYou will initially need to get the CDP port by using `getCapabilities` of the instantiated WebDriver. There is a capability called `&quot;goog:chromeOptions&quot;` and within this there is a property called `&quot;debuggerAddress&quot;`.  \r\n\r\nhttps://github.com/kklisura/chrome-devtools-java-client will explain how to now use this address to connect to the CDP.\r\n\r\nWith this, you should be able to use the `Network` domain (https://chromedevtools.github.io/devtools-protocol/tot/Network/) to listen to 3 events:\r\n\r\n- onRequestWillBeSent\r\n- onResponseReceived\r\n- onResponseFailed\r\n\r\nEach of the events will provide a unique `requestId` and you can use that to create some kind of mechanism to track requests when they are made and when they are completed.\r\n\r\nSuch a mechanism could be a `Set&lt;String&gt;` that you could consider as &quot;all requests finished&quot; when that `Set` is empty.\r\n\r\nAll these events are &quot;fire and forget&quot;  from the Chrome side, so shouldn&#39;t impact the perceived performance of your application under test.\r\n\r\nHow this is implemented would be dependent on your current framework and your AUT.\r\n\r\nFor example, `onRequestWillBeSent` provides access to the URL, so you could filter based on that and ignore requests you don&#39;t care about.\r\n\r\nAlso, dependent on your AUT, you may experience &quot;hanging&quot; requests if navigation occurs while requests are still in progress. To combat this, you can also subscribe to `onFrameNavigated` from the `Page` domain, and use this event to clear the `Set`","title":"How to wait for Requests to finish using Selenium CDP","body":"<p>I would avoid trying to use Selenium 4 methods to access the CDP as I have seen performance issues.</p>\n<p>Instead I would suggesting using <a href=\"https://mvnrepository.com/artifact/com.github.kklisura.cdt/cdt-java-client\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.github.kklisura.cdt/cdt-java-client</a>.</p>\n<p>You will initially need to get the CDP port by using <code>getCapabilities</code> of the instantiated WebDriver. There is a capability called <code>&quot;goog:chromeOptions&quot;</code> and within this there is a property called <code>&quot;debuggerAddress&quot;</code>.</p>\n<p><a href=\"https://github.com/kklisura/chrome-devtools-java-client\" rel=\"nofollow noreferrer\">https://github.com/kklisura/chrome-devtools-java-client</a> will explain how to now use this address to connect to the CDP.</p>\n<p>With this, you should be able to use the <code>Network</code> domain (<a href=\"https://chromedevtools.github.io/devtools-protocol/tot/Network/\" rel=\"nofollow noreferrer\">https://chromedevtools.github.io/devtools-protocol/tot/Network/</a>) to listen to 3 events:</p>\n<ul>\n<li>onRequestWillBeSent</li>\n<li>onResponseReceived</li>\n<li>onResponseFailed</li>\n</ul>\n<p>Each of the events will provide a unique <code>requestId</code> and you can use that to create some kind of mechanism to track requests when they are made and when they are completed.</p>\n<p>Such a mechanism could be a <code>Set&lt;String&gt;</code> that you could consider as &quot;all requests finished&quot; when that <code>Set</code> is empty.</p>\n<p>All these events are &quot;fire and forget&quot;  from the Chrome side, so shouldn't impact the perceived performance of your application under test.</p>\n<p>How this is implemented would be dependent on your current framework and your AUT.</p>\n<p>For example, <code>onRequestWillBeSent</code> provides access to the URL, so you could filter based on that and ignore requests you don't care about.</p>\n<p>Also, dependent on your AUT, you may experience &quot;hanging&quot; requests if navigation occurs while requests are still in progress. To combat this, you can also subscribe to <code>onFrameNavigated</code> from the <code>Page</code> domain, and use this event to clear the <code>Set</code></p>\n"}],"owner":{"account_id":4404973,"reputation":45,"user_id":3589648,"display_name":"Karcel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1694686944,"creation_date":1693815956,"question_id":77036184,"body_markdown":"I want to use CDP (or any other way) in java to dynamically wait in Selenium until specific requests are fully served. Normally I am waiting using FluentWait for specific elements to be seen on page but these requests have no immidiate effect on the UI itself. Instead of that, they are being used when clicking in the UI. Problem is that often in automation selenium proceeds with clicking once it finds element (e.g. logo) and since these requests are not fully loaded then no data are being shown in it as a consequence of not finished request.\r\n\r\nI wanted to use CDP and its addListener but dont know how to filter properly there on which requests to wait and to give it conditional wait for status e.g. 200. Any help on that? Thank you :)","title":"How to wait for Requests to finish using Selenium CDP","body":"<p>I want to use CDP (or any other way) in java to dynamically wait in Selenium until specific requests are fully served. Normally I am waiting using FluentWait for specific elements to be seen on page but these requests have no immidiate effect on the UI itself. Instead of that, they are being used when clicking in the UI. Problem is that often in automation selenium proceeds with clicking once it finds element (e.g. logo) and since these requests are not fully loaded then no data are being shown in it as a consequence of not finished request.</p>\n<p>I wanted to use CDP and its addListener but dont know how to filter properly there on which requests to wait and to give it conditional wait for status e.g. 200. Any help on that? Thank you :)</p>\n"},{"tags":["java","gradle","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":154900,"reputation":735,"user_id":371174,"accept_rate":11,"display_name":"Ditz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694686821,"creation_date":1694686821,"answer_id":77103973,"question_id":77091064,"body_markdown":"I took a deep debug dive into the Intellij source code and created an issue about at:\r\n\r\nhttps://youtrack.jetbrains.com/issue/IDEA-332412\r\n\r\nSo, the discussion will continue over there.","title":"classpath issue with intellij run configurations using gradle &amp; idea-ext plugin","body":"<p>I took a deep debug dive into the Intellij source code and created an issue about at:</p>\n<p><a href=\"https://youtrack.jetbrains.com/issue/IDEA-332412\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-332412</a></p>\n<p>So, the discussion will continue over there.</p>\n"}],"owner":{"account_id":154900,"reputation":735,"user_id":371174,"accept_rate":11,"display_name":"Ditz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694686821,"creation_date":1694536277,"question_id":77091064,"body_markdown":"I&#39;m using `org.jetbrains.gradle.plugin.idea-ext` to define an idea run configuration.\r\nIn my case I have several java modules loaded by the `java.util.ServiceLoader`.\r\n\r\nThen I have a separate dummy module without any code, just to define a classpath including all plugins.\r\n\r\nI prepared a sample project to demonstrate my observations:\r\n\r\nhttps://github.com/dieterstueken/java-plugins \r\n\r\nIf I run the configuration using Intellij, with `delegateBuildRunToGradle = false`, it works as expected.\r\n\r\nDelegating it to gradle insted, the extended classpath is not used. Seems gradle uses the classpath of the main class, only.\r\n\r\n","title":"classpath issue with intellij run configurations using gradle &amp; idea-ext plugin","body":"<p>I'm using <code>org.jetbrains.gradle.plugin.idea-ext</code> to define an idea run configuration.\nIn my case I have several java modules loaded by the <code>java.util.ServiceLoader</code>.</p>\n<p>Then I have a separate dummy module without any code, just to define a classpath including all plugins.</p>\n<p>I prepared a sample project to demonstrate my observations:</p>\n<p><a href=\"https://github.com/dieterstueken/java-plugins\" rel=\"nofollow noreferrer\">https://github.com/dieterstueken/java-plugins</a></p>\n<p>If I run the configuration using Intellij, with <code>delegateBuildRunToGradle = false</code>, it works as expected.</p>\n<p>Delegating it to gradle insted, the extended classpath is not used. Seems gradle uses the classpath of the main class, only.</p>\n"},{"tags":["java","reflection","record","methodhandle","lambda-metafactory"],"answers":[{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1694623030,"creation_date":1694622623,"answer_id":77098921,"question_id":77098680,"body_markdown":"Direct method handles are those that directly refer to Java methods, however, your method handle does not, because you use an adapter:\r\n\r\n    constructor = constructor.asSpreader(Object[].class, 2);\r\n\r\nAs such, it can not be used in combination with `LambdaMetafactory`.\r\n\r\nLMF is a runtime API that serves as the implementation for the lambda and method reference language features. It is not really meant to be used directly, so there are some sharp edges as you&#39;ve found out.\r\n\r\n---\r\n\r\nFor indirect method handles, your options are either [`MethodHandleProxies`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/invoke/MethodHandleProxies.html):\r\n\r\n    MethodHandles.Lookup lookup = MethodHandles.lookup();\r\n    MethodHandle constructor = lookup.findConstructor(R.class, MethodType.methodType(void.class, String.class, String.class));\r\n    constructor = constructor.asSpreader(Object[].class, 2);\r\n    Function&lt;Object[], R&gt; f = (Function&lt;Object[], R&gt;) MethodHandleProxies.asInterfaceInstance(Function.class, constructor);\r\n\r\n---\r\n\r\nUsing a lambda expression to wrap the method handle:\r\n\r\n    MethodHandles.Lookup lookup = MethodHandles.lookup();\r\n    MethodHandle constructor = lookup.findConstructor(R.class, MethodType.methodType(void.class, String.class, String.class));\r\n    constructor = constructor.asSpreader(Object[].class, 2);\r\n    Function&lt;Object[], R&gt; f = args -&gt; {\r\n        try {\r\n            return (R) constructor.invokeExact(args);\r\n        catch (Throwable t) {\r\n            throw new IllegalStateException(&quot;Should no happen&quot;, t);\r\n        }\r\n    };\r\n\r\n---\r\n\r\nOr you could spin your own class that implements the interface and wraps the method handle using a bytecode library like ASM.","title":"MethodHandle cannot be cracked when using LambdaMetafactory?","body":"<p>Direct method handles are those that directly refer to Java methods, however, your method handle does not, because you use an adapter:</p>\n<pre><code>constructor = constructor.asSpreader(Object[].class, 2);\n</code></pre>\n<p>As such, it can not be used in combination with <code>LambdaMetafactory</code>.</p>\n<p>LMF is a runtime API that serves as the implementation for the lambda and method reference language features. It is not really meant to be used directly, so there are some sharp edges as you've found out.</p>\n<hr />\n<p>For indirect method handles, your options are either <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/invoke/MethodHandleProxies.html\" rel=\"nofollow noreferrer\"><code>MethodHandleProxies</code></a>:</p>\n<pre><code>MethodHandles.Lookup lookup = MethodHandles.lookup();\nMethodHandle constructor = lookup.findConstructor(R.class, MethodType.methodType(void.class, String.class, String.class));\nconstructor = constructor.asSpreader(Object[].class, 2);\nFunction&lt;Object[], R&gt; f = (Function&lt;Object[], R&gt;) MethodHandleProxies.asInterfaceInstance(Function.class, constructor);\n</code></pre>\n<hr />\n<p>Using a lambda expression to wrap the method handle:</p>\n<pre><code>MethodHandles.Lookup lookup = MethodHandles.lookup();\nMethodHandle constructor = lookup.findConstructor(R.class, MethodType.methodType(void.class, String.class, String.class));\nconstructor = constructor.asSpreader(Object[].class, 2);\nFunction&lt;Object[], R&gt; f = args -&gt; {\n    try {\n        return (R) constructor.invokeExact(args);\n    catch (Throwable t) {\n        throw new IllegalStateException(&quot;Should no happen&quot;, t);\n    }\n};\n</code></pre>\n<hr />\n<p>Or you could spin your own class that implements the interface and wraps the method handle using a bytecode library like ASM.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1694686510,"creation_date":1694686510,"answer_id":77103931,"question_id":77098680,"body_markdown":"There is a trick to circumvent this restriction. Instead of creating a `Function` bound to the `constructor` handle, create a `Function` bound to the `invokeExact` method of the handle, to be invoked on the specific handle:\r\n\r\n```java\r\nprivate static void testRecord() throws Throwable {\r\n    MethodHandles.Lookup lookup = MethodHandles.lookup();\r\n    MethodHandle constructor = lookup.findConstructor(R.class,\r\n        MethodType.methodType(void.class, String.class, String.class));\r\n    constructor = constructor.asSpreader(Object[].class, 2);\r\n    R r = (R)constructor.invokeExact(new Object[] { &quot;a&quot;, &quot;b&quot; });\r\n    System.out.println(r.a());\r\n    System.out.println(r.b());\r\n    MethodType methodType = constructor.type();\r\n    CallSite callSite = LambdaMetafactory.metafactory(lookup,\r\n        &quot;apply&quot;,\r\n        MethodType.methodType(Function.class, MethodHandle.class),\r\n        methodType.erase(),\r\n        MethodHandles.exactInvoker(methodType), // target MethodHandle.invokeExact\r\n        methodType);\r\n    Function&lt;Object[], R&gt; f = (Function&lt;Object[], R&gt;)\r\n        callSite.getTarget().invokeExact(constructor); // bind to &lt;constructor&gt;\r\n    R apply = f.apply(new Object[] { &quot;a&quot;, &quot;b&quot; });\r\n    System.out.println(apply.a());\r\n    System.out.println(apply.b());\r\n}\r\n```\r\n\r\nThe crucial part is to specify `MethodHandles.exactInvoker(methodType)` which creates an unbound handle to the `invokeExact` method of a handle like ours, i.e. having the type `(MethodHandle,Object[])R`. Then, specify the actual handle as argument to the instantiation, to be captured by the `Function`.\r\n","title":"MethodHandle cannot be cracked when using LambdaMetafactory?","body":"<p>There is a trick to circumvent this restriction. Instead of creating a <code>Function</code> bound to the <code>constructor</code> handle, create a <code>Function</code> bound to the <code>invokeExact</code> method of the handle, to be invoked on the specific handle:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void testRecord() throws Throwable {\n    MethodHandles.Lookup lookup = MethodHandles.lookup();\n    MethodHandle constructor = lookup.findConstructor(R.class,\n        MethodType.methodType(void.class, String.class, String.class));\n    constructor = constructor.asSpreader(Object[].class, 2);\n    R r = (R)constructor.invokeExact(new Object[] { &quot;a&quot;, &quot;b&quot; });\n    System.out.println(r.a());\n    System.out.println(r.b());\n    MethodType methodType = constructor.type();\n    CallSite callSite = LambdaMetafactory.metafactory(lookup,\n        &quot;apply&quot;,\n        MethodType.methodType(Function.class, MethodHandle.class),\n        methodType.erase(),\n        MethodHandles.exactInvoker(methodType), // target MethodHandle.invokeExact\n        methodType);\n    Function&lt;Object[], R&gt; f = (Function&lt;Object[], R&gt;)\n        callSite.getTarget().invokeExact(constructor); // bind to &lt;constructor&gt;\n    R apply = f.apply(new Object[] { &quot;a&quot;, &quot;b&quot; });\n    System.out.println(apply.a());\n    System.out.println(apply.b());\n}\n</code></pre>\n<p>The crucial part is to specify <code>MethodHandles.exactInvoker(methodType)</code> which creates an unbound handle to the <code>invokeExact</code> method of a handle like ours, i.e. having the type <code>(MethodHandle,Object[])R</code>. Then, specify the actual handle as argument to the instantiation, to be captured by the <code>Function</code>.</p>\n"}],"owner":{"account_id":13798877,"reputation":45,"user_id":21010464,"display_name":"benrush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77103931,"answer_count":2,"score":0,"last_activity_date":1694686510,"creation_date":1694620501,"question_id":77098680,"body_markdown":"I want to convert a Record&#39;s constructor to a Function&lt;Object[], T&gt; using lambdametafactory (T is a generic type), here are my codes:\r\n\r\n```\r\npublic record R(\r\n        String a,\r\n        String b\r\n) {\r\n}\r\n\r\nprivate static void testRecord() throws Throwable {\r\n    MethodHandles.Lookup lookup = MethodHandles.lookup();\r\n    MethodHandle constructor = lookup.findConstructor(R.class, MethodType.methodType(void.class, String.class, String.class));\r\n    constructor = constructor.asSpreader(Object[].class, 2);\r\n    R r = (R) constructor.invokeExact(new Object[]{&quot;a&quot;, &quot;b&quot;});\r\n    System.out.println(r.a());\r\n    System.out.println(r.b());\r\n    MethodType methodType = constructor.type();\r\n    CallSite callSite = LambdaMetafactory.metafactory(lookup,\r\n            &quot;apply&quot;,\r\n            MethodType.methodType(Function.class),\r\n            methodType.erase(),\r\n            constructor,\r\n            methodType);\r\n    Function&lt;Object[], R&gt; f = (Function&lt;Object[], R&gt;) callSite.getTarget().invokeExact();\r\n    R apply = f.apply(new Object[]{&quot;a&quot;, &quot;b&quot;});\r\n    System.out.println(apply.a());\r\n    System.out.println(apply.b());\r\n} \r\n```\r\n\r\nWhen using `constructor.invokeExact()` method, the record could be instantiated successfully, but the `CallSite` couldn&#39;t be generated by `LambdaMetafactory.metafactory()` method because of following errors:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.invoke.LambdaConversionException: MethodHandle(Object[])R is not direct or cannot be cracked\r\n\tat java.base/java.lang.invoke.AbstractValidatingLambdaMetafactory.&lt;init&gt;(AbstractValidatingLambdaMetafactory.java:143)\r\n\tat java.base/java.lang.invoke.InnerClassLambdaMetafactory.&lt;init&gt;(InnerClassLambdaMetafactory.java:168)\r\n\tat java.base/java.lang.invoke.LambdaMetafactory.metafactory(LambdaMetafactory.java:336)\r\n```\r\n\r\nHow can I fix this?","title":"MethodHandle cannot be cracked when using LambdaMetafactory?","body":"<p>I want to convert a Record's constructor to a Function&lt;Object[], T&gt; using lambdametafactory (T is a generic type), here are my codes:</p>\n<pre><code>public record R(\n        String a,\n        String b\n) {\n}\n\nprivate static void testRecord() throws Throwable {\n    MethodHandles.Lookup lookup = MethodHandles.lookup();\n    MethodHandle constructor = lookup.findConstructor(R.class, MethodType.methodType(void.class, String.class, String.class));\n    constructor = constructor.asSpreader(Object[].class, 2);\n    R r = (R) constructor.invokeExact(new Object[]{&quot;a&quot;, &quot;b&quot;});\n    System.out.println(r.a());\n    System.out.println(r.b());\n    MethodType methodType = constructor.type();\n    CallSite callSite = LambdaMetafactory.metafactory(lookup,\n            &quot;apply&quot;,\n            MethodType.methodType(Function.class),\n            methodType.erase(),\n            constructor,\n            methodType);\n    Function&lt;Object[], R&gt; f = (Function&lt;Object[], R&gt;) callSite.getTarget().invokeExact();\n    R apply = f.apply(new Object[]{&quot;a&quot;, &quot;b&quot;});\n    System.out.println(apply.a());\n    System.out.println(apply.b());\n} \n</code></pre>\n<p>When using <code>constructor.invokeExact()</code> method, the record could be instantiated successfully, but the <code>CallSite</code> couldn't be generated by <code>LambdaMetafactory.metafactory()</code> method because of following errors:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.invoke.LambdaConversionException: MethodHandle(Object[])R is not direct or cannot be cracked\n    at java.base/java.lang.invoke.AbstractValidatingLambdaMetafactory.&lt;init&gt;(AbstractValidatingLambdaMetafactory.java:143)\n    at java.base/java.lang.invoke.InnerClassLambdaMetafactory.&lt;init&gt;(InnerClassLambdaMetafactory.java:168)\n    at java.base/java.lang.invoke.LambdaMetafactory.metafactory(LambdaMetafactory.java:336)\n</code></pre>\n<p>How can I fix this?</p>\n"},{"tags":["java","gcj"],"comments":[{"owner":{"account_id":42777,"reputation":18855,"user_id":124732,"accept_rate":94,"display_name":"Brian Lacy"},"score":0,"creation_date":1295299145,"post_id":4696611,"comment_id":5210467,"body_markdown":"The part that still really confuses me is that OpenJDK seems to be a focus project at Oracle: http://openjdk.java.net/faq/ -- If that&#39;s true though, why would Oracle continue to maintain two separate versions of the JDK (OpenJDK, Oracle JDK)?","body":"The part that still really confuses me is that OpenJDK seems to be a focus project at Oracle: <a href=\"http://openjdk.java.net/faq/\" rel=\"nofollow noreferrer\">openjdk.java.net/faq</a> -- If that&#39;s true though, why would Oracle continue to maintain two separate versions of the JDK (OpenJDK, Oracle JDK)?"}],"answers":[{"tags":[],"owner":{"account_id":13598,"reputation":102599,"user_id":27439,"accept_rate":100,"display_name":"Vincent Ramdhanie"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1295044357,"creation_date":1295043990,"answer_id":4696655,"question_id":4696611,"body_markdown":"Sun over the years [have made some changes to the naming conventions][1] for their programming language. Originally you had jdk1.1 and so on. At jdk1.2 they decided to change this to Java 2. So you will see some older books about Java 2.\r\n\r\nThen for some mysterious reason it went back to jdk1.3 then jdk1.4. When jdk1.5 was released they made a concious effort to change the names again. So we had Java 5. Since they decided to stick with this you have the following:\r\n\r\n       jdk1.5 = Java 5\r\n       jdk1.6 = Java 6\r\n       jdk1.7 = Java 7\r\n\r\nand (maybe) so on.\r\n\r\nSo hopefully that explains that part of it. In your question Java6 == Java 1.6 == JDK 6 == JDK 1.6.\r\n\r\nAs for JVM vs JRE. The JRE contains the JVM as well as class libraries and any other tools necessary to run your Java program. The JVM is simply the program that interprets your byte code and executes it on the host machine.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Java_version_history","title":"JDK, JRE, Java: Version Confusion","body":"<p>Sun over the years <a href=\"http://en.wikipedia.org/wiki/Java_version_history\" rel=\"nofollow\">have made some changes to the naming conventions</a> for their programming language. Originally you had jdk1.1 and so on. At jdk1.2 they decided to change this to Java 2. So you will see some older books about Java 2.</p>\n\n<p>Then for some mysterious reason it went back to jdk1.3 then jdk1.4. When jdk1.5 was released they made a concious effort to change the names again. So we had Java 5. Since they decided to stick with this you have the following:</p>\n\n<pre><code>   jdk1.5 = Java 5\n   jdk1.6 = Java 6\n   jdk1.7 = Java 7\n</code></pre>\n\n<p>and (maybe) so on.</p>\n\n<p>So hopefully that explains that part of it. In your question Java6 == Java 1.6 == JDK 6 == JDK 1.6.</p>\n\n<p>As for JVM vs JRE. The JRE contains the JVM as well as class libraries and any other tools necessary to run your Java program. The JVM is simply the program that interprets your byte code and executes it on the host machine.</p>\n"},{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1694686276,"creation_date":1295044027,"answer_id":4696658,"question_id":4696611,"body_markdown":"&gt; Note: As of 2023 the Java world has changed somewhat.  OpenJDK is now the open source code base underlying several distributions using the HotSpot JVM, including the now commercial Oracle Java. IBM has an alternative using their J9 JVM.  Unless you have good reason to, any OpenJDK distribution is fine. \r\n\r\n\r\nJava 6 and Java 1.6 are the same.  Originally Java was named Java 1.X but as time went, Sun marketing found that it would better signal the significant improvements done if they dropped the &quot;1.&quot; part.  The first version to do so was Java 1.5 which was marketed as Java 5.\r\n\r\nJRE 6 is the consumer distribution of Java 6.  It is easy to download from http://java.com.\r\n\r\nJDK 6 is the developer distribution of Java 6.  It contains tools like a compiler and support for more cultures than the default JRE.  It needs to be downloaded from http://javasoft.com.\r\n\r\nJVM 11.0 is the version of the Java &quot;interpreter&quot; inside the Oracle JRE/JDK (other vendors use different numbers).  This is similar to saying that Windows Vista is really Windows 6.0.6001.\r\n\r\n","title":"JDK, JRE, Java: Version Confusion","body":"<blockquote>\n<p>Note: As of 2023 the Java world has changed somewhat.  OpenJDK is now the open source code base underlying several distributions using the HotSpot JVM, including the now commercial Oracle Java. IBM has an alternative using their J9 JVM.  Unless you have good reason to, any OpenJDK distribution is fine.</p>\n</blockquote>\n<p>Java 6 and Java 1.6 are the same.  Originally Java was named Java 1.X but as time went, Sun marketing found that it would better signal the significant improvements done if they dropped the &quot;1.&quot; part.  The first version to do so was Java 1.5 which was marketed as Java 5.</p>\n<p>JRE 6 is the consumer distribution of Java 6.  It is easy to download from <a href=\"http://java.com\" rel=\"nofollow noreferrer\">http://java.com</a>.</p>\n<p>JDK 6 is the developer distribution of Java 6.  It contains tools like a compiler and support for more cultures than the default JRE.  It needs to be downloaded from <a href=\"http://javasoft.com\" rel=\"nofollow noreferrer\">http://javasoft.com</a>.</p>\n<p>JVM 11.0 is the version of the Java &quot;interpreter&quot; inside the Oracle JRE/JDK (other vendors use different numbers).  This is similar to saying that Windows Vista is really Windows 6.0.6001.</p>\n"},{"tags":[],"owner":{"account_id":108387,"reputation":8648,"user_id":287727,"accept_rate":100,"display_name":"Navi"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1295283770,"creation_date":1295044111,"answer_id":4696673,"question_id":4696611,"body_markdown":" 1. Sun JDK is made by Sun, OpenJDK is a competing open source implementation. GCJ is the GNU java compiler.\r\n 2. Java 6 = Java 1.6 and JDK 6 = JDK 1.6\r\n\r\nDetails item 1\r\nhttp://en.wikipedia.org/wiki/OpenJDK\r\nhttps://stackoverflow.com/questions/1977238/why-should-i-use-the-sun-jdk-over-the-openjdk-or-vice-versa\r\n\r\nhttp://en.wikipedia.org/wiki/GNU_Compiler_for_Java\r\n\r\nHow does the GCJ relate to the Sun JDK/OpenJDK? \r\nThere is no direct relation that I am aware of. GCJ is a separate project.\r\nWhat are the merits of using one JDK over the other?\r\nLicensing issues can occur if you redistribute the Sun JDK. Personally I put more trust in the Sun JDK, because of its stability. \r\nIsn&#39;t OpenJDK a Sun project? Yes and no. It&#39;s a community project.","title":"JDK, JRE, Java: Version Confusion","body":"<ol>\n<li>Sun JDK is made by Sun, OpenJDK is a competing open source implementation. GCJ is the GNU java compiler.</li>\n<li>Java 6 = Java 1.6 and JDK 6 = JDK 1.6</li>\n</ol>\n\n<p>Details item 1\n<a href=\"http://en.wikipedia.org/wiki/OpenJDK\" rel=\"nofollow noreferrer\">http://en.wikipedia.org/wiki/OpenJDK</a>\n<a href=\"https://stackoverflow.com/questions/1977238/why-should-i-use-the-sun-jdk-over-the-openjdk-or-vice-versa\">https://stackoverflow.com/questions/1977238/why-should-i-use-the-sun-jdk-over-the-openjdk-or-vice-versa</a></p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/GNU_Compiler_for_Java\" rel=\"nofollow noreferrer\">http://en.wikipedia.org/wiki/GNU_Compiler_for_Java</a></p>\n\n<p>How does the GCJ relate to the Sun JDK/OpenJDK? \nThere is no direct relation that I am aware of. GCJ is a separate project.\nWhat are the merits of using one JDK over the other?\nLicensing issues can occur if you redistribute the Sun JDK. Personally I put more trust in the Sun JDK, because of its stability. \nIsn't OpenJDK a Sun project? Yes and no. It's a community project.</p>\n"},{"tags":[],"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1295044124,"creation_date":1295044124,"answer_id":4696674,"question_id":4696611,"body_markdown":"1. They&#39;re basically different implementations of the same set of standards that describe how a Java Virtual Machine should work.\r\n2. Java versioning progressed in the normal manner from 1.0 to 1.4 when some clever guy from marketing came up with the idea of calling the next version &quot;Java 5&quot; instead of 1.5, but of course this only caused confusion, which carried over to the 6 (1.6) series and will probably continue for some time. I have no idea what JVM 11.0 could be though. (Are you sure it isn&#39;t 1.1.0? I know it&#39;s a long shot but who knows.)\r\n\r\nAnd the difference between the JVM and the JRE. Strictly speaking the JVM is just the machine that interprets the Java bytecode, while a JRE also contains all the standard class libraries, resource files, `dll`s (`so`s) and so on.\r\n\r\n\r\n","title":"JDK, JRE, Java: Version Confusion","body":"<ol>\n<li>They're basically different implementations of the same set of standards that describe how a Java Virtual Machine should work.</li>\n<li>Java versioning progressed in the normal manner from 1.0 to 1.4 when some clever guy from marketing came up with the idea of calling the next version \"Java 5\" instead of 1.5, but of course this only caused confusion, which carried over to the 6 (1.6) series and will probably continue for some time. I have no idea what JVM 11.0 could be though. (Are you sure it isn't 1.1.0? I know it's a long shot but who knows.)</li>\n</ol>\n\n<p>And the difference between the JVM and the JRE. Strictly speaking the JVM is just the machine that interprets the Java bytecode, while a JRE also contains all the standard class libraries, resource files, <code>dll</code>s (<code>so</code>s) and so on.</p>\n"},{"tags":[],"owner":{"account_id":58970,"reputation":1255,"user_id":176496,"display_name":"Shane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1295051177,"creation_date":1295051177,"answer_id":4697298,"question_id":4696611,"body_markdown":"Beware, GCJ is not a certified JVM. It is the GNU Classpath for Java project which has partial Java compatability under a GNU license. You should stear clear of it unless you are certain it meets your needs and you have a reason you cannot use another complete Java implementation.","title":"JDK, JRE, Java: Version Confusion","body":"<p>Beware, GCJ is not a certified JVM. It is the GNU Classpath for Java project which has partial Java compatability under a GNU license. You should stear clear of it unless you are certain it meets your needs and you have a reason you cannot use another complete Java implementation.</p>\n"}],"owner":{"account_id":42777,"reputation":18855,"user_id":124732,"accept_rate":94,"display_name":"Brian Lacy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12035,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":4696673,"answer_count":5,"score":26,"last_activity_date":1694686276,"creation_date":1295043657,"question_id":4696611,"body_markdown":"(Note: this questions and its answers are from 2011 and show how the world was at that time.)\r\n\r\n---\r\n\r\nAlthough I&#39;m not a real Java developer (yet), I feel like I should know this by now, but I&#39;m still very confused. My question has two parts:\r\n\r\n\r\n1. What is the difference between the so-called (as I&#39;ve seen it) **&quot;Sun JDK&quot;, OpenJDK, and GCJ**?\r\n\r\n2. At various times, I&#39;ve seen each of the following thrown around, making it very confusing to understand which version numbers actually apply to what. Can someone please help me sort this out?\r\n   - Java 6\r\n   - Java 1.6\r\n   - JDK 6\r\n   - JDK 1.6\r\n   - JRE 1.6\r\n   - JVM 11.0\r\n\r\n\r\nNote: I do understand the difference between the JDK (Java Development Kit) and the Java Runtime Environment. I&#39;m not totally clear on the difference between the JRE and JVM however, although I know what the JVM is/does.\r\n","title":"JDK, JRE, Java: Version Confusion","body":"<p>(Note: this questions and its answers are from 2011 and show how the world was at that time.)</p>\n<hr />\n<p>Although I'm not a real Java developer (yet), I feel like I should know this by now, but I'm still very confused. My question has two parts:</p>\n<ol>\n<li><p>What is the difference between the so-called (as I've seen it) <strong>&quot;Sun JDK&quot;, OpenJDK, and GCJ</strong>?</p>\n</li>\n<li><p>At various times, I've seen each of the following thrown around, making it very confusing to understand which version numbers actually apply to what. Can someone please help me sort this out?</p>\n<ul>\n<li>Java 6</li>\n<li>Java 1.6</li>\n<li>JDK 6</li>\n<li>JDK 1.6</li>\n<li>JRE 1.6</li>\n<li>JVM 11.0</li>\n</ul>\n</li>\n</ol>\n<p>Note: I do understand the difference between the JDK (Java Development Kit) and the Java Runtime Environment. I'm not totally clear on the difference between the JRE and JVM however, although I know what the JVM is/does.</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":2,"creation_date":1466748001,"post_id":38006482,"comment_id":63456455,"body_markdown":"Why do you want to reuse the scanner?  Your method looks fine to me.","body":"Why do you want to reuse the scanner?  Your method looks fine to me."},{"owner":{"account_id":5682705,"reputation":1201,"user_id":4493265,"accept_rate":75,"display_name":"waltersu"},"score":0,"creation_date":1466748064,"post_id":38006482,"comment_id":63456479,"body_markdown":"Save the input data from scanner in memory, then reuse the data, not the scanner. If there&#39;s more input later, use a new scanner.","body":"Save the input data from scanner in memory, then reuse the data, not the scanner. If there&#39;s more input later, use a new scanner."},{"owner":{"account_id":8630141,"reputation":59,"user_id":6462042,"accept_rate":0,"display_name":"mooL"},"score":0,"creation_date":1466748406,"post_id":38006482,"comment_id":63456604,"body_markdown":"@TimBiegeleisen I am going to be calling the method multiple times, so the scanner has to be used again. unless there is a better way for this, i dont know how","body":"@TimBiegeleisen I am going to be calling the method multiple times, so the scanner has to be used again. unless there is a better way for this, i dont know how"},{"owner":{"account_id":8630141,"reputation":59,"user_id":6462042,"accept_rate":0,"display_name":"mooL"},"score":0,"creation_date":1466748491,"post_id":38006482,"comment_id":63456633,"body_markdown":"@waltersu what do you mean by saving it in memory? and what data are you saying to reuse? sorry im very new to java","body":"@waltersu what do you mean by saving it in memory? and what data are you saying to reuse? sorry im very new to java"},{"owner":{"account_id":5379612,"reputation":1327,"user_id":4285290,"display_name":"eldo"},"score":0,"creation_date":1466748552,"post_id":38006482,"comment_id":63456657,"body_markdown":"Bad idea to reuse your scanner? Creating hundreds of scanners to read hundreds of lines would be a better idea? Of course you can reuse it, place your lines in arrays for example.","body":"Bad idea to reuse your scanner? Creating hundreds of scanners to read hundreds of lines would be a better idea? Of course you can reuse it, place your lines in arrays for example."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1466748783,"post_id":38006482,"comment_id":63456770,"body_markdown":"You need to look up what [`Scanner.reset()`](https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#reset()) actually does. Not what you think. It won&#39;t reprocess input that has already been scanned.","body":"You need to look up what <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#reset()\" rel=\"nofollow noreferrer\"><code>Scanner.reset()</code></a> actually does. Not what you think. It won&#39;t reprocess input that has already been scanned."},{"owner":{"account_id":8630141,"reputation":59,"user_id":6462042,"accept_rate":0,"display_name":"mooL"},"score":0,"creation_date":1466748787,"post_id":38006482,"comment_id":63456775,"body_markdown":"@eldo are you talking about making s an array, as in\nScanner s[] = new Scanner(System.in);\nor\ninput[] = s.nextline();","body":"@eldo are you talking about making s an array, as in Scanner s[] = new Scanner(System.in); or input[] = s.nextline();"},{"owner":{"account_id":5379612,"reputation":1327,"user_id":4285290,"display_name":"eldo"},"score":0,"creation_date":1466749072,"post_id":38006482,"comment_id":63456894,"body_markdown":"I mean if you are calling your scan method in a loop for multiple inputs, just put your return value in an array or any kind of list.","body":"I mean if you are calling your scan method in a loop for multiple inputs, just put your return value in an array or any kind of list."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1667792072,"post_id":38006482,"comment_id":131243964,"body_markdown":"@mooL I suggest you read my answer carefully. Other answers posted here are good, but don&#39;t answer your question completely.","body":"@mooL I suggest you read my answer carefully. Other answers posted here are good, but don&#39;t answer your question completely."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1694686866,"post_id":38006482,"comment_id":135925199,"body_markdown":"Don&#39;t close it. That closes `System.in`, which you can&#39;t undo.","body":"Don&#39;t close it. That closes <code>System.in</code>, which you can&#39;t undo."}],"answers":[{"tags":[],"owner":{"account_id":2712119,"reputation":1260,"user_id":2340341,"accept_rate":100,"display_name":"Sir. Hedgehog"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466748291,"creation_date":1466748291,"answer_id":38006556,"question_id":38006482,"body_markdown":"You are correct every time you use the scanner its getting reseted. A solution to your problem would be the following: \r\n\r\nAdd all the parameters that you want to pass to `scan()` in an array and using a `for` loop pass them all to `scan()` while when returning, adding them again in their **respective array position** so then you can easily reuse them wherever you want.","title":"How do I reuse my scanner?","body":"<p>You are correct every time you use the scanner its getting reseted. A solution to your problem would be the following: </p>\n\n<p>Add all the parameters that you want to pass to <code>scan()</code> in an array and using a <code>for</code> loop pass them all to <code>scan()</code> while when returning, adding them again in their <strong>respective array position</strong> so then you can easily reuse them wherever you want.</p>\n"},{"tags":[],"owner":{"account_id":2140705,"reputation":579,"user_id":1899407,"display_name":"Ahmed Amr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466749916,"creation_date":1466749068,"answer_id":38006747,"question_id":38006482,"body_markdown":"You could actually reuse your Scanner instead of creating a new one each time you need to read a line , here is an example:\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            Test t = new Test();\r\n            //create your scanner object\r\n            Scanner s = new Scanner(System.in);\r\n            //send it as a parameter whenever you need to read a line\r\n            System.out.println(t.scan(s));\r\n            System.out.println(t.scan(s));\r\n            System.out.println(t.scan(s));\r\n            //close it after finishing\r\n            s.close();\r\n        }\r\n\r\n        public String scan(Scanner s) {\r\n            String input;\r\n            if (s.hasNextLine()) {\r\n            input = s.nextLine();\r\n            } else {\r\n               input = &quot;ERROR&quot;;\r\n            }\r\n            return input.toLowerCase();\r\n         }\r\n    }\r\n\r\nBut if you make a reader utility class for you it&#39;s more logical to be an Instance variable in the utility class .\r\n\r\nFor Example:\r\n\r\n    public class Reader {\r\n        Scanner s ;\r\n    \r\n        public Reader() {\r\n            s = new Scanner(System.in);\r\n        }\r\n    \r\n        public String scan() {\r\n            String input;\r\n            if (s.hasNextLine()) {\r\n                input = s.nextLine();\r\n            } else {\r\n                input = &quot;ERROR&quot;;\r\n            }\r\n            return input.toLowerCase();\r\n        }\r\n        \r\n        public void close(){\r\n            s.close();\r\n        }\r\n    }\r\n\r\nAnd when you use it , it will be like this : \r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            //create your scanner object\r\n            Reader r = new Reader();\r\n            //send it whenever you need to read a line\r\n            System.out.println(r.scan());\r\n            System.out.println(r.scan());\r\n            System.out.println(r.scan());\r\n            //close it after finishing\r\n            r.close();\r\n        }\r\n    }","title":"How do I reuse my scanner?","body":"<p>You could actually reuse your Scanner instead of creating a new one each time you need to read a line , here is an example:</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        Test t = new Test();\n        //create your scanner object\n        Scanner s = new Scanner(System.in);\n        //send it as a parameter whenever you need to read a line\n        System.out.println(t.scan(s));\n        System.out.println(t.scan(s));\n        System.out.println(t.scan(s));\n        //close it after finishing\n        s.close();\n    }\n\n    public String scan(Scanner s) {\n        String input;\n        if (s.hasNextLine()) {\n        input = s.nextLine();\n        } else {\n           input = \"ERROR\";\n        }\n        return input.toLowerCase();\n     }\n}\n</code></pre>\n\n<p>But if you make a reader utility class for you it's more logical to be an Instance variable in the utility class .</p>\n\n<p>For Example:</p>\n\n<pre><code>public class Reader {\n    Scanner s ;\n\n    public Reader() {\n        s = new Scanner(System.in);\n    }\n\n    public String scan() {\n        String input;\n        if (s.hasNextLine()) {\n            input = s.nextLine();\n        } else {\n            input = \"ERROR\";\n        }\n        return input.toLowerCase();\n    }\n\n    public void close(){\n        s.close();\n    }\n}\n</code></pre>\n\n<p>And when you use it , it will be like this : </p>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        //create your scanner object\n        Reader r = new Reader();\n        //send it whenever you need to read a line\n        System.out.println(r.scan());\n        System.out.println(r.scan());\n        System.out.println(r.scan());\n        //close it after finishing\n        r.close();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670661088,"creation_date":1667791247,"answer_id":74341653,"question_id":38006482,"body_markdown":"&gt; I have seen a lot of people saying it is a bad idea to reuse a\r\n&gt; scanner. Why is this?\r\n\r\nIt is not a bad idea to reuse a scanner object in most cases. Without further context, it is hard to determine their reasons for saying that. It could&#39;ve been they were mistaken. Maybe you reused it incorrectly when they stated that. Who knows?\r\n\r\nOne thing is certain: When you invoke `Scanner#close()` in an object that is reading from `System.in`, you are also closing the underlying input stream. And, once the input stream is closed, you cannot reopen it in the life of the application.\r\n\r\n&gt; Shouldn&#39;t it be fine if the scanner is reset?\r\n\r\n`Scanner#reset()` doesn&#39;t do what you think it does. In fact, in this code example it does nothing. This method resets the `Locale` to US, and the radix back to base 10.\r\n\r\nCode Analysis\r\n-------------\r\n\r\n```\r\npublic String scan() {\r\n    String input;\r\n    Scanner s = new Scanner(System.in);\r\n    if (s.hasNextLine()) {\r\n        input = s.nextLine();\r\n    } else {\r\n        input = &quot;ERROR&quot;;\r\n    }\r\n    s.reset();\r\n    s.close(); // BAD IDEA!!!!\r\n    return input.toLowerCase();\r\n}\r\n```\r\nThis method will only work one time for the reasons I already stated: &quot;*once the input stream is closed, you cannot reopen it in the life of the application.*&quot; So, what you do instead? If you require to reuse this `Scanner` object over and over, it might be better to make it a global attribute of the class and you should never close it. This is obviously a bad idea. So, you might be better off using some other type of input stream wrapper.\r\n\r\nMaybe this is why other people have told you in the past that reusing the scanner object was a bad idea. It is only speculation. But, judging from this code example, it seems like a very strong possibility.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/38006747/2851311","title":"How do I reuse my scanner?","body":"<blockquote>\n<p>I have seen a lot of people saying it is a bad idea to reuse a\nscanner. Why is this?</p>\n</blockquote>\n<p>It is not a bad idea to reuse a scanner object in most cases. Without further context, it is hard to determine their reasons for saying that. It could've been they were mistaken. Maybe you reused it incorrectly when they stated that. Who knows?</p>\n<p>One thing is certain: When you invoke <code>Scanner#close()</code> in an object that is reading from <code>System.in</code>, you are also closing the underlying input stream. And, once the input stream is closed, you cannot reopen it in the life of the application.</p>\n<blockquote>\n<p>Shouldn't it be fine if the scanner is reset?</p>\n</blockquote>\n<p><code>Scanner#reset()</code> doesn't do what you think it does. In fact, in this code example it does nothing. This method resets the <code>Locale</code> to US, and the radix back to base 10.</p>\n<h2>Code Analysis</h2>\n<pre><code>public String scan() {\n    String input;\n    Scanner s = new Scanner(System.in);\n    if (s.hasNextLine()) {\n        input = s.nextLine();\n    } else {\n        input = &quot;ERROR&quot;;\n    }\n    s.reset();\n    s.close(); // BAD IDEA!!!!\n    return input.toLowerCase();\n}\n</code></pre>\n<p>This method will only work one time for the reasons I already stated: &quot;<em>once the input stream is closed, you cannot reopen it in the life of the application.</em>&quot; So, what you do instead? If you require to reuse this <code>Scanner</code> object over and over, it might be better to make it a global attribute of the class and you should never close it. This is obviously a bad idea. So, you might be better off using some other type of input stream wrapper.</p>\n<p>Maybe this is why other people have told you in the past that reusing the scanner object was a bad idea. It is only speculation. But, judging from this code example, it seems like a very strong possibility.</p>\n"}],"owner":{"account_id":8630141,"reputation":59,"user_id":6462042,"accept_rate":0,"display_name":"mooL"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9109,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1694686090,"creation_date":1466747836,"question_id":38006482,"body_markdown":"I made a utility class with a method that is takes user input, and returns a lower case version of it so I don&#39;t have so much repetitive code, but it could only be used once. After that, it wouldn&#39;t scan. What can I do to fix this?\r\n\r\np.s. I have seen a lot of people saying it is a bad idea to reuse a scanner. Why is this? Shouldn&#39;t it be fine if the scanner is reset?\r\n\r\n\r\n\tpublic String scan() {\r\n\t\tString input;\r\n\t\tScanner s = new Scanner(System.in);\r\n\t\tif (s.hasNextLine()) {\r\n\t\t\tinput = s.nextLine();\r\n\t\t} else {\r\n\t\t\tinput = &quot;ERROR&quot;;\r\n\t\t}\r\n\t\ts.reset();\r\n\t\ts.close();\r\n\t\treturn input.toLowerCase();\r\n\t}","title":"How do I reuse my scanner?","body":"<p>I made a utility class with a method that is takes user input, and returns a lower case version of it so I don't have so much repetitive code, but it could only be used once. After that, it wouldn't scan. What can I do to fix this?</p>\n\n<p>p.s. I have seen a lot of people saying it is a bad idea to reuse a scanner. Why is this? Shouldn't it be fine if the scanner is reset?</p>\n\n<pre><code>public String scan() {\n    String input;\n    Scanner s = new Scanner(System.in);\n    if (s.hasNextLine()) {\n        input = s.nextLine();\n    } else {\n        input = \"ERROR\";\n    }\n    s.reset();\n    s.close();\n    return input.toLowerCase();\n}\n</code></pre>\n"},{"tags":["java","keytool"],"comments":[{"owner":{"account_id":222134,"reputation":2003,"user_id":480536,"accept_rate":100,"display_name":"BadSkillz"},"score":0,"creation_date":1391979031,"post_id":21633274,"comment_id":32746952,"body_markdown":"Maybe migrate this question to http://security.stackexchange.com/ ?","body":"Maybe migrate this question to <a href=\"http://security.stackexchange.com/\">security.stackexchange.com</a> ?"},{"owner":{"account_id":5439,"reputation":28408,"user_id":8753,"display_name":"laz"},"score":0,"creation_date":1392331810,"post_id":21633274,"comment_id":32928892,"body_markdown":"It isn&#39;t clear from your description what actually causes that exception. Is it during startup? When making a connection to a URL? A bit more context is necessary.","body":"It isn&#39;t clear from your description what actually causes that exception. Is it during startup? When making a connection to a URL? A bit more context is necessary."},{"owner":{"account_id":301574,"reputation":14050,"user_id":609387,"accept_rate":93,"display_name":"coderslay"},"score":0,"creation_date":1392398906,"post_id":21633274,"comment_id":32961149,"body_markdown":"@laz Yes it is while making a connection.","body":"@laz Yes it is while making a connection."}],"answers":[{"tags":[],"owner":{"account_id":222134,"reputation":2003,"user_id":480536,"accept_rate":100,"display_name":"BadSkillz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391981218,"creation_date":1391981218,"answer_id":21665267,"question_id":21633274,"body_markdown":"For the first part of your question, I think [this answer][1] covers it pretty much. In short, yes you can point both to the same file, no, it is not best practice. As far as the error you are getting, there are many reasons that could happen, but you could try to add the CA to the cacerts file from JAVA_HOME/jre/lib/security. This makes it available to all JAVA applications.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/6341566/480536","title":"Should we point KeyStore and TrustStore to the same .jks file?","body":"<p>For the first part of your question, I think <a href=\"https://stackoverflow.com/a/6341566/480536\">this answer</a> covers it pretty much. In short, yes you can point both to the same file, no, it is not best practice. As far as the error you are getting, there are many reasons that could happen, but you could try to add the CA to the cacerts file from JAVA_HOME/jre/lib/security. This makes it available to all JAVA applications.</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1392030648,"creation_date":1391983156,"answer_id":21665612,"question_id":21633274,"body_markdown":"No.  A truststore contains nothing but public data: the public certificates of CAs that you trust. A KeyStore contains a private key and its certificate: your digital identity. They may even be controlled by different people. Don&#39;t conflate their functions.","title":"Should we point KeyStore and TrustStore to the same .jks file?","body":"<p>No.  A truststore contains nothing but public data: the public certificates of CAs that you trust. A KeyStore contains a private key and its certificate: your digital identity. They may even be controlled by different people. Don't conflate their functions.</p>\n"},{"tags":[],"owner":{"account_id":1393384,"reputation":6371,"user_id":1770601,"accept_rate":59,"display_name":"ha9u63a7"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501680295,"creation_date":1501680295,"answer_id":45462170,"question_id":21633274,"body_markdown":"If you want to self-sign the certificate (only if you will be using it for intra-server communication without exchanging any personal/sensitive information):\r\n\r\n1) Generate a CSR using -certreq\r\n\r\n`keytool -certreq -alias keyAlias -keystore locationPk -storepass yourpass -file myowncertrequest.csr`\r\n\r\n2) Generate certificate using the csr above:\r\n\r\n`keytool -gencert -infile myowncertrequest.csr -alias keyAlias -keystore locationPk -storepass yourpass -outfile myownsignedcert.cer`\r\n\r\n3) Import this into a &quot;Separate&quot; trust store\r\n\r\n`keytool -import -trustcacerts -alias myown -file myownsignedcert.cer -keystore intra_server_truststore -storepass goodpassword`\r\n\r\nThis will create a custom trust store which will only be used within your own domains and for some basic Authentication and Data Exchange. But do use a proper CA to sign these certificates if would be exposing the services to outside world.","title":"Should we point KeyStore and TrustStore to the same .jks file?","body":"<p>If you want to self-sign the certificate (only if you will be using it for intra-server communication without exchanging any personal/sensitive information):</p>\n\n<p>1) Generate a CSR using -certreq</p>\n\n<p><code>keytool -certreq -alias keyAlias -keystore locationPk -storepass yourpass -file myowncertrequest.csr</code></p>\n\n<p>2) Generate certificate using the csr above:</p>\n\n<p><code>keytool -gencert -infile myowncertrequest.csr -alias keyAlias -keystore locationPk -storepass yourpass -outfile myownsignedcert.cer</code></p>\n\n<p>3) Import this into a \"Separate\" trust store</p>\n\n<p><code>keytool -import -trustcacerts -alias myown -file myownsignedcert.cer -keystore intra_server_truststore -storepass goodpassword</code></p>\n\n<p>This will create a custom trust store which will only be used within your own domains and for some basic Authentication and Data Exchange. But do use a proper CA to sign these certificates if would be exposing the services to outside world.</p>\n"}],"owner":{"account_id":301574,"reputation":14050,"user_id":609387,"accept_rate":93,"display_name":"coderslay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10349,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"closed_date":1694685744,"accepted_answer_id":21665612,"answer_count":3,"score":13,"last_activity_date":1694685769,"creation_date":1391791505,"question_id":21633274,"body_markdown":"I am using SSL handshaking to connect to a URL.\r\nTo do that, i generated a .csr file and got it signed.\r\nAfter signing i created a my.jks file with 3 entries in it\r\n\r\n 1. Signed Client Cert\r\n 2. Private Key\r\n 3. CA\r\n\r\nI use jetty as server and i have exclusively set the keystore and truststore to the same jks file like this\r\n\r\n    -Djavax.net.ssl.keyStore=/home/keystore/my.jks\r\n    -Djavax.net.ssl.keyStorePassword=changeit\r\n    -Djavax.net.ssl.trustStore=/home/keystore/my.jks\r\n    -Djavax.net.ssl.trustStorePassword=changeit\r\n\r\nIt works fine. But is it the right way to do it?\r\nI thought the keystore should contain the client certs and private key, and the truststore should contain CA. But when i tried doing this then i get the following error. \r\n\r\n&gt; &quot;javax.net.ssl.SSLHandshakeException:\r\n&gt; sun.security.validator.ValidatorException: PKIX path building failed:\r\n&gt; sun.security.provider.certpath.SunCertPathBuilderException: unable to\r\n&gt; find valid certification path to requested target&quot;\r\n\r\nPlease advice on this.","title":"Should we point KeyStore and TrustStore to the same .jks file?","body":"<p>I am using SSL handshaking to connect to a URL.\nTo do that, i generated a .csr file and got it signed.\nAfter signing i created a my.jks file with 3 entries in it</p>\n\n<ol>\n<li>Signed Client Cert</li>\n<li>Private Key</li>\n<li>CA</li>\n</ol>\n\n<p>I use jetty as server and i have exclusively set the keystore and truststore to the same jks file like this</p>\n\n<pre><code>-Djavax.net.ssl.keyStore=/home/keystore/my.jks\n-Djavax.net.ssl.keyStorePassword=changeit\n-Djavax.net.ssl.trustStore=/home/keystore/my.jks\n-Djavax.net.ssl.trustStorePassword=changeit\n</code></pre>\n\n<p>It works fine. But is it the right way to do it?\nI thought the keystore should contain the client certs and private key, and the truststore should contain CA. But when i tried doing this then i get the following error. </p>\n\n<blockquote>\n  <p>\"javax.net.ssl.SSLHandshakeException:\n  sun.security.validator.ValidatorException: PKIX path building failed:\n  sun.security.provider.certpath.SunCertPathBuilderException: unable to\n  find valid certification path to requested target\"</p>\n</blockquote>\n\n<p>Please advice on this.</p>\n"},{"tags":["java","macos","maven","visual-studio-code","buildpath"],"answers":[{"tags":[],"owner":{"account_id":3123241,"reputation":427,"user_id":2642628,"accept_rate":21,"display_name":"Jack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694610817,"creation_date":1694610817,"answer_id":77097407,"question_id":77092008,"body_markdown":"I had the same issue today, coincidentally after a VSCode update, after downgrading extensions, downgrading VSCode. I think it turned out that my JAVA_HOME was not set and as such the whole thing blew up. I can&#39;t promise because I want on a rage trying to solve.","title":"Why is my build path suddenly incomplete for my java project in VS Code?","body":"<p>I had the same issue today, coincidentally after a VSCode update, after downgrading extensions, downgrading VSCode. I think it turned out that my JAVA_HOME was not set and as such the whole thing blew up. I can't promise because I want on a rage trying to solve.</p>\n"},{"tags":[],"owner":{"account_id":211449,"reputation":205,"user_id":463628,"display_name":"Freddy Duarte"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1694627693,"creation_date":1694617195,"answer_id":77098267,"question_id":77092008,"body_markdown":"Had the same problem today. It’s a problem with your JAVA_HOME path. \r\n\r\nYou’ll have to see what version of JAVA you have installed via the terminal (on a mac):\r\n\r\n     java —-version\r\n\r\nAssuming you’re on version 16.0.1, your JAVA_HOME path should look something like this (check the directory exists)\r\n\r\n    /Library/Java/JavaVirtualMachines/jdk-16.0.1.jdk/Contents/Home/\r\n\r\nThen it should be a matter of exporting JAVA_HOME in your .zprofile file, using:\r\n\r\n    export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-16.0.1.jdk/Contents/Home/\r\n\r\nYou should then restart VS Code and Java should be up and running again.\r\n\r\nAlso check out this useful answer if necessary:\r\nhttps://stackoverflow.com/questions/32517507/how-to-set-java-home-environment-variable-on-macos#32517540","title":"Why is my build path suddenly incomplete for my java project in VS Code?","body":"<p>Had the same problem today. It’s a problem with your JAVA_HOME path.</p>\n<p>You’ll have to see what version of JAVA you have installed via the terminal (on a mac):</p>\n<pre><code> java —-version\n</code></pre>\n<p>Assuming you’re on version 16.0.1, your JAVA_HOME path should look something like this (check the directory exists)</p>\n<pre><code>/Library/Java/JavaVirtualMachines/jdk-16.0.1.jdk/Contents/Home/\n</code></pre>\n<p>Then it should be a matter of exporting JAVA_HOME in your .zprofile file, using:</p>\n<pre><code>export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-16.0.1.jdk/Contents/Home/\n</code></pre>\n<p>You should then restart VS Code and Java should be up and running again.</p>\n<p>Also check out this useful answer if necessary:\n<a href=\"https://stackoverflow.com/questions/32517507/how-to-set-java-home-environment-variable-on-macos#32517540\">How to set JAVA_HOME environment variable on macOS?</a></p>\n"},{"tags":[],"owner":{"account_id":15396644,"reputation":25733,"user_id":11107541,"display_name":"starball"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1694685728,"creation_date":1694679171,"answer_id":77102941,"question_id":77092008,"body_markdown":"This is probably this issue ticket: [Extension version 1.22.0 cannot find OpenJDK on macOS\r\n#3287](https://github.com/redhat-developer/vscode-java/issues/3287). If I understand correctly, the cause is explained [here](https://github.com/redhat-developer/vscode-java/issues/3287#issuecomment-1717520305) by one of the maintainers, Jinbo Wang:\r\n\r\n&gt; Looks like Java extension detects /usr as &#39;JavaSE-17&#39; home path, this should be a bug\r\n\r\nThe timing of this &quot;suddenly&quot; here also lines up perfectly with the release of [version 1.22](https://github.com/redhat-developer/vscode-java/releases) of the Java extension, which is what that issue ticket is about (combined with it being a macOS + OpenJDK thing).\r\n\r\n**The issue is purportedly fixed in version 1.22.1 of the Java extension** ([source](https://github.com/redhat-developer/vscode-java/issues/3287#issuecomment-1719130432)). Quoting Fred Bricon:\r\n\r\n&gt; If you still see JDK class errors after upgrading to 1.22.1, please open Command Palette and run `Java: Clean Java Language Server Workspace`.\r\n\r\nNote: It&#39;s also purportedly fixed in version `1.23.2023091313`, which has been released in the pre-release channel ([source](https://github.com/redhat-developer/vscode-java/issues/3287#issuecomment-1718107346)). If you don&#39;t want to update for some reason, other users had previously found success by rolling back to version 1.21.","title":"Why is my build path suddenly incomplete for my java project in VS Code?","body":"<p>This is probably this issue ticket: <a href=\"https://github.com/redhat-developer/vscode-java/issues/3287\" rel=\"nofollow noreferrer\">Extension version 1.22.0 cannot find OpenJDK on macOS\n#3287</a>. If I understand correctly, the cause is explained <a href=\"https://github.com/redhat-developer/vscode-java/issues/3287#issuecomment-1717520305\" rel=\"nofollow noreferrer\">here</a> by one of the maintainers, Jinbo Wang:</p>\n<blockquote>\n<p>Looks like Java extension detects /usr as 'JavaSE-17' home path, this should be a bug</p>\n</blockquote>\n<p>The timing of this &quot;suddenly&quot; here also lines up perfectly with the release of <a href=\"https://github.com/redhat-developer/vscode-java/releases\" rel=\"nofollow noreferrer\">version 1.22</a> of the Java extension, which is what that issue ticket is about (combined with it being a macOS + OpenJDK thing).</p>\n<p><strong>The issue is purportedly fixed in version 1.22.1 of the Java extension</strong> (<a href=\"https://github.com/redhat-developer/vscode-java/issues/3287#issuecomment-1719130432\" rel=\"nofollow noreferrer\">source</a>). Quoting Fred Bricon:</p>\n<blockquote>\n<p>If you still see JDK class errors after upgrading to 1.22.1, please open Command Palette and run <code>Java: Clean Java Language Server Workspace</code>.</p>\n</blockquote>\n<p>Note: It's also purportedly fixed in version <code>1.23.2023091313</code>, which has been released in the pre-release channel (<a href=\"https://github.com/redhat-developer/vscode-java/issues/3287#issuecomment-1718107346\" rel=\"nofollow noreferrer\">source</a>). If you don't want to update for some reason, other users had previously found success by rolling back to version 1.21.</p>\n"}],"owner":{"account_id":27422552,"reputation":41,"user_id":20920697,"display_name":"terminalBlue"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3291,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1694685728,"creation_date":1694545441,"question_id":77092008,"body_markdown":"I have a Java program that I have been using for several months now that generates excel surveys. I an using Maven as my Java build in VS Code. For some reason, starting today, as soon as I opened the project in VS Code, I got this error:\r\n\r\n&gt; The project was not built since its build path is incomplete. Cannot find the class file for java.lang.String. Fix the build path then try building this project\r\n\r\nIn addition to this error, I have over 100 other errors like &quot;java.lang.Object&quot;. cannot be resolved. What could have caused this problem given that I have not touched this program or the class path or pom.xml in the last few days, and how can the issue be resolved?\r\n\r\nI have done a lot of research online, and most people say to change the build path on my project by doing this: &quot;Right click on the project name --&gt; Open Properties --&gt; Java Build Path --&gt; Add Jars&quot;\r\n\r\nEssentially this article: [the project was not built since its build path is incomplete vscode](https://zditect.com/blog/53241530.html)\r\n\r\nThe problem is, I am on Mac, and there is no way to &quot;Open Properties&quot;, or if there is I cannot find it. Can someone provide similar steps to that for Mac?\r\n\r\nBecause I was curious I opened the folder for the Java project on another computer (also mac) and it worked perfectly fine which seems so strange.\r\n\r\nI also tweaked my pom.xml file and when I try to update it I get this error:\r\n&gt; Full component analysis cannot be performed until the Pom is valid.`\r\n\r\nI tried to include my pom.xml file in this post, but it was flagged as spam.\r\n\r\nI don&#39;t think there is anything that should make this pom.xml file invalid since, like I said, I opened this project on another computer and it worked completely fine.","title":"Why is my build path suddenly incomplete for my java project in VS Code?","body":"<p>I have a Java program that I have been using for several months now that generates excel surveys. I an using Maven as my Java build in VS Code. For some reason, starting today, as soon as I opened the project in VS Code, I got this error:</p>\n<blockquote>\n<p>The project was not built since its build path is incomplete. Cannot find the class file for java.lang.String. Fix the build path then try building this project</p>\n</blockquote>\n<p>In addition to this error, I have over 100 other errors like &quot;java.lang.Object&quot;. cannot be resolved. What could have caused this problem given that I have not touched this program or the class path or pom.xml in the last few days, and how can the issue be resolved?</p>\n<p>I have done a lot of research online, and most people say to change the build path on my project by doing this: &quot;Right click on the project name --&gt; Open Properties --&gt; Java Build Path --&gt; Add Jars&quot;</p>\n<p>Essentially this article: <a href=\"https://zditect.com/blog/53241530.html\" rel=\"nofollow noreferrer\">the project was not built since its build path is incomplete vscode</a></p>\n<p>The problem is, I am on Mac, and there is no way to &quot;Open Properties&quot;, or if there is I cannot find it. Can someone provide similar steps to that for Mac?</p>\n<p>Because I was curious I opened the folder for the Java project on another computer (also mac) and it worked perfectly fine which seems so strange.</p>\n<p>I also tweaked my pom.xml file and when I try to update it I get this error:</p>\n<blockquote>\n<p>Full component analysis cannot be performed until the Pom is valid.`</p>\n</blockquote>\n<p>I tried to include my pom.xml file in this post, but it was flagged as spam.</p>\n<p>I don't think there is anything that should make this pom.xml file invalid since, like I said, I opened this project on another computer and it worked completely fine.</p>\n"},{"tags":["java","lucene","full-text-search"],"comments":[{"owner":{"account_id":326480,"reputation":368,"user_id":5047819,"display_name":"Anders Lindgren"},"score":0,"creation_date":1691693775,"post_id":76871298,"comment_id":135529743,"body_markdown":"Without seeing your files I do not know how to fix your problem. I do think that you should change so the search phrase gets quoted and add some proximity search like `Query query = queryParser.parse(&quot;\\&quot;&quot; + keyword + &quot;\\&quot;~10&quot;);`","body":"Without seeing your files I do not know how to fix your problem. I do think that you should change so the search phrase gets quoted and add some proximity search like <code>Query query = queryParser.parse(&quot;\\&quot;&quot; + keyword + &quot;\\&quot;~10&quot;);</code>"}],"answers":[{"tags":[],"owner":{"account_id":1592447,"reputation":677,"user_id":1475478,"accept_rate":63,"display_name":"Jasir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694685522,"creation_date":1694685522,"answer_id":77103815,"question_id":76871298,"body_markdown":"The fact that file4 matched suggests that you are not searching for the phrase &quot;ABC DEF&quot;, but as a term query ABC DEF (without quotes). By default BM25 doesn&#39;t take in to account the proximity of the terms. The scoring difference might be because of the length of the document (eg: file4 might be shorter than other docs), term frequency or other factors. \r\n\r\nUse a phrase query &quot;ABC DEF&quot; with quotes, so that file4 won&#39;t be matched. Add proximity operator &quot;~&quot; to allow a few words between ABC and DEF.\r\n\r\nIf you are serious about ranking based on proximity, you might want to explore a different similarity model than the default BM25. I&#39;m not sure whether there is a built-in model in Lucene.","title":"Apache Lucene Search Phrases in Files","body":"<p>The fact that file4 matched suggests that you are not searching for the phrase &quot;ABC DEF&quot;, but as a term query ABC DEF (without quotes). By default BM25 doesn't take in to account the proximity of the terms. The scoring difference might be because of the length of the document (eg: file4 might be shorter than other docs), term frequency or other factors.</p>\n<p>Use a phrase query &quot;ABC DEF&quot; with quotes, so that file4 won't be matched. Add proximity operator &quot;~&quot; to allow a few words between ABC and DEF.</p>\n<p>If you are serious about ranking based on proximity, you might want to explore a different similarity model than the default BM25. I'm not sure whether there is a built-in model in Lucene.</p>\n"}],"owner":{"account_id":29194816,"reputation":13,"user_id":22366169,"display_name":"justadeveloper"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694685522,"creation_date":1691615462,"question_id":76871298,"body_markdown":"I&#39;m working on a project that has search operation of text files by using Apache Lucene. \r\nThe code below works well with a single word. When phrases are searched, it gives the results listed below:\r\n\r\nPhrase : ABC DEF\r\n- File1 : Contains &quot;ABC DEF&quot; as phrase\r\n- File2 : Contains &quot;ABC DEF&quot; as phrase \r\n- File3 : Contains ABC and DEF as separate words in different locations\r\n- File4 : Contains ABC and DEF as separate words in different locations\r\n- File5 : Contains ABC\r\n- File6 : Contains DEF\r\n\r\n**Results**\r\n\r\nFile Name - Score\r\n\r\n - File1 1.3502092\r\n - File4 1.0447767\r\n - File2 1.0047288\r\n - File3 0.97969353\r\n\r\n\r\n**Search**\r\n\r\n\r\n    public static void search(String keyword, String path) throws IOException, ParseException {\r\n    \r\n       IndexReader reader = DirectoryReader.open(FSDirectory.open(Paths.get(path)));\r\n    \tIndexSearcher searcher = new IndexSearcher(reader);\r\n    \r\n    \tAnalyzer analyzer = new StandardAnalyzer();\r\n    \r\n    \tQueryParser queryParser = new QueryParser(&quot;contents&quot;, analyzer);\r\n    \tqueryParser.setDefaultOperator(QueryParser.Operator.AND);\r\n    \tQuery query = queryParser.parse(keyword);\r\n    \r\n    \tTopDocs hits = searcher.search(query, 1000);\r\n    \tScoreDoc[] document = hits.scoreDocs;\r\n    \tSystem.out.println(&quot;Total no of hits for content: &quot; + hits.totalHits);\r\n    \r\n    \tfor (int i = 0; i &lt; document.length; i++) {\r\n    \t\tDocument doc = searcher.doc(document[i].doc);\r\n    \t\tString filePath = doc.get(&quot;title&quot;);\r\n    \t\tSystem.out.println(filePath + &quot; &quot; + document[i].score);\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\nAs seen on the results,  File4 does not contain phrase but its score higher than File2 that contains phrase. How to solve this problem?\r\n\r\nThanks in advance.","title":"Apache Lucene Search Phrases in Files","body":"<p>I'm working on a project that has search operation of text files by using Apache Lucene.\nThe code below works well with a single word. When phrases are searched, it gives the results listed below:</p>\n<p>Phrase : ABC DEF</p>\n<ul>\n<li>File1 : Contains &quot;ABC DEF&quot; as phrase</li>\n<li>File2 : Contains &quot;ABC DEF&quot; as phrase</li>\n<li>File3 : Contains ABC and DEF as separate words in different locations</li>\n<li>File4 : Contains ABC and DEF as separate words in different locations</li>\n<li>File5 : Contains ABC</li>\n<li>File6 : Contains DEF</li>\n</ul>\n<p><strong>Results</strong></p>\n<p>File Name - Score</p>\n<ul>\n<li>File1 1.3502092</li>\n<li>File4 1.0447767</li>\n<li>File2 1.0047288</li>\n<li>File3 0.97969353</li>\n</ul>\n<p><strong>Search</strong></p>\n<pre><code>public static void search(String keyword, String path) throws IOException, ParseException {\n\n   IndexReader reader = DirectoryReader.open(FSDirectory.open(Paths.get(path)));\n    IndexSearcher searcher = new IndexSearcher(reader);\n\n    Analyzer analyzer = new StandardAnalyzer();\n\n    QueryParser queryParser = new QueryParser(&quot;contents&quot;, analyzer);\n    queryParser.setDefaultOperator(QueryParser.Operator.AND);\n    Query query = queryParser.parse(keyword);\n\n    TopDocs hits = searcher.search(query, 1000);\n    ScoreDoc[] document = hits.scoreDocs;\n    System.out.println(&quot;Total no of hits for content: &quot; + hits.totalHits);\n\n    for (int i = 0; i &lt; document.length; i++) {\n        Document doc = searcher.doc(document[i].doc);\n        String filePath = doc.get(&quot;title&quot;);\n        System.out.println(filePath + &quot; &quot; + document[i].score);\n\n    }\n}\n</code></pre>\n<p>As seen on the results,  File4 does not contain phrase but its score higher than File2 that contains phrase. How to solve this problem?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":5520249,"reputation":363,"user_id":8095704,"display_name":"kwkw"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1694685375,"creation_date":1605544685,"answer_id":64861953,"question_id":64861604,"body_markdown":"I suspect you are trying to Sort data from your Spring Data JPA. \r\nYou cannot  call Sort and instantiate it, to my knowledge.\r\nYou might have been looking for something like:\r\n\r\n    List&lt;Item&gt; item = repository.findAll(Sort.by(Sort.Direction.DESC, &quot;id&quot;);\r\n\r\nAs you can see in the documentation, Sort has a protected constructor and cannot be called directly in the way you are trying to instantiate it.\r\n[Spring Documentation on Sort](https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Sort.html)\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Sort.html\r\n\r\nI am missing too much information about the rest of your project and how you setup your data with Spring Framework to give any other information.","title":"org.springframework.data.domain.Sort why the error","body":"<p>I suspect you are trying to Sort data from your Spring Data JPA.\nYou cannot  call Sort and instantiate it, to my knowledge.\nYou might have been looking for something like:</p>\n<pre><code>List&lt;Item&gt; item = repository.findAll(Sort.by(Sort.Direction.DESC, &quot;id&quot;);\n</code></pre>\n<p>As you can see in the documentation, Sort has a protected constructor and cannot be called directly in the way you are trying to instantiate it.\n<a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/Sort.html\" rel=\"nofollow noreferrer\">Spring Documentation on Sort</a></p>\n<p>I am missing too much information about the rest of your project and how you setup your data with Spring Framework to give any other information.</p>\n"}],"owner":{"account_id":17458094,"reputation":334,"user_id":14630738,"display_name":"alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12911,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":64861953,"answer_count":1,"score":10,"last_activity_date":1694685375,"creation_date":1605543304,"question_id":64861604,"body_markdown":"I use org.springframework.data.domain.Sort:\r\n\r\n    Sort sortDesc = new Sort(Sort.Direction.DESC, &quot;id&quot;);\r\nas in the examples.\r\nBut I get an error:\r\nError:(47, 55) java: incompatible types: java.lang.String cannot be converted to java.util.List&lt;java.lang.String&gt;\r\n\r\nI tried this:\r\n\r\n    List&lt;Sort.Order&gt; orderList = new ArrayList&lt;&gt;();\r\n    orderList.add(new Sort.Order (Sort.Direction.ASC, &quot;id&quot;));\r\n    Sort sort = new Sort(orderList);\r\n\r\nBut I get an error:\r\n\r\nError:(55, 21) java: Sort(java.util.List&lt;org.springframework.data.domain.Sort.Order&gt;) has protected access in org.springframework.data.domain.Sort","title":"org.springframework.data.domain.Sort why the error","body":"<p>I use org.springframework.data.domain.Sort:</p>\n<pre><code>Sort sortDesc = new Sort(Sort.Direction.DESC, &quot;id&quot;);\n</code></pre>\n<p>as in the examples.\nBut I get an error:\nError:(47, 55) java: incompatible types: java.lang.String cannot be converted to java.util.List&lt;java.lang.String&gt;</p>\n<p>I tried this:</p>\n<pre><code>List&lt;Sort.Order&gt; orderList = new ArrayList&lt;&gt;();\norderList.add(new Sort.Order (Sort.Direction.ASC, &quot;id&quot;));\nSort sort = new Sort(orderList);\n</code></pre>\n<p>But I get an error:</p>\n<p>Error:(55, 21) java: Sort(java.util.List&lt;org.springframework.data.domain.Sort.Order&gt;) has protected access in org.springframework.data.domain.Sort</p>\n"},{"tags":["java","spring","ssl","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":6268313,"reputation":197,"user_id":4873261,"display_name":"Koman"},"score":1,"creation_date":1661852924,"post_id":71625547,"comment_id":129864548,"body_markdown":"Did you ever work this out?","body":"Did you ever work this out?"},{"owner":{"account_id":21475407,"reputation":229,"user_id":15823763,"display_name":"nikiforov.java"},"score":0,"creation_date":1661934595,"post_id":71625547,"comment_id":129887272,"body_markdown":"@Koman are you facing the same issue? I remember that I fixed this in some way. If you are facing the same issue I&#39;ll try to remember back the way I fixed this.","body":"@Koman are you facing the same issue? I remember that I fixed this in some way. If you are facing the same issue I&#39;ll try to remember back the way I fixed this."}],"answers":[{"tags":[],"owner":{"account_id":1118781,"reputation":1746,"user_id":1107537,"accept_rate":56,"display_name":"mdarwin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668446896,"creation_date":1668446896,"answer_id":74435622,"question_id":71625547,"body_markdown":"Looks like this is a [known issue][1] in the Kafka client.\r\n\r\nIt can&#39;t load files from the classpath, only the filesystem.  So when you build your app, anything under src/main/resources is packaged in the jar file and not readable from disk directly.\r\n\r\nSpring Boot propose a [workaround][2] as follows:\r\n\r\n    FileCopyUtils.copy(new ClassPathResource(&quot;client.ks&quot;).getInputStream(),\r\n\t\t\t\tnew FileOutputStream(&quot;/tmp/client.ks&quot;));\r\n   \r\n   \r\n\r\nYour config file can then look like this:\r\n\r\n    ssl.keystore.location=/tmp/client.ks\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/KAFKA-7685\r\n  [2]: https://github.com/spring-projects/spring-kafka/issues/710","title":"How to set up ssl file&#39;s location in Spring Kafka configuration?","body":"<p>Looks like this is a <a href=\"https://issues.apache.org/jira/browse/KAFKA-7685\" rel=\"nofollow noreferrer\">known issue</a> in the Kafka client.</p>\n<p>It can't load files from the classpath, only the filesystem.  So when you build your app, anything under src/main/resources is packaged in the jar file and not readable from disk directly.</p>\n<p>Spring Boot propose a <a href=\"https://github.com/spring-projects/spring-kafka/issues/710\" rel=\"nofollow noreferrer\">workaround</a> as follows:</p>\n<pre><code>FileCopyUtils.copy(new ClassPathResource(&quot;client.ks&quot;).getInputStream(),\n            new FileOutputStream(&quot;/tmp/client.ks&quot;));\n</code></pre>\n<p>Your config file can then look like this:</p>\n<pre><code>ssl.keystore.location=/tmp/client.ks\n</code></pre>\n"},{"tags":[],"owner":{"account_id":302417,"reputation":1174,"user_id":610789,"accept_rate":72,"display_name":"Selvakumar Esra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682064188,"creation_date":1682063882,"answer_id":76071115,"question_id":71625547,"body_markdown":"Implement a custom KeyStoreProvider using security.provider.classes for spring boot kafka client which takes values from credhub or equivalent secret managemnt tool.\r\n\r\nFollow these general steps:\r\n\r\n - Implement the KeyStoreProvider interface by creating a new class that implements the methods defined in the interface.\r\n - Use a CredHub client library or API to connect to your CredHub instance and retrieve the values for the keys requested by the KeyStoreProvider methods.\r\n - Map the CredHub values to the appropriate KeyStore data types and return them from the KeyStoreProvider methods.\r\n\r\n - Configure the Spring Boot Kafka client to use your custom KeyStoreProvider by setting the security.provider.classes property.\r\n\r\nHere&#39;s some example code that demonstrates how you might implement a custom KeyStoreProvider that retrieves values from CredHub and configure the Spring Boot Kafka client to use it:\r\n\r\n\r\n    import org.apache.kafka.common.config.AbstractConfig;\r\n    import org.apache.kafka.common.config.ConfigException;\r\n    import org.springframework.credhub.core.CredHubProperties;\r\n    import org.springframework.credhub.core.CredHubTemplate;\r\n    import org.springframework.credhub.support.CredentialDetails;\r\n    import org.springframework.credhub.support.CredentialName;\r\n    import org.springframework.security.crypto.keygen.StringKeyGenerator;\r\n    import org.springframework.security.crypto.keygen.KeyGenerators;\r\n    import org.springframework.security.crypto.keygen.BytesKeyGenerator;\r\n    import org.springframework.security.crypto.keygen.BytesKeyGenerator;\r\n    import java.security.KeyStore;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    public class CredHubKeyStoreProvider implements KeyStoreProvider {\r\n    \r\n        private final CredHubTemplate credHubTemplate;\r\n        private final StringKeyGenerator keyGenerator = KeyGenerators.string();\r\n        private final Map&lt;String, String&gt; keyNameMapping;\r\n    \r\n        public CredHubKeyStoreProvider(CredHubProperties credHubProperties, Map&lt;String, String&gt; keyNameMapping) {\r\n            this.credHubTemplate = new CredHubTemplate(credHubProperties);\r\n            this.keyNameMapping = keyNameMapping;\r\n        }\r\n    \r\n        @Override\r\n        public KeyStore getKeyStore() throws Exception {\r\n            KeyStore keyStore = KeyStore.getInstance(&quot;JCEKS&quot;);\r\n            keyStore.load(null, null);\r\n            for (Map.Entry&lt;String, String&gt; entry : keyNameMapping.entrySet()) {\r\n                String alias = entry.getKey();\r\n                String credHubName = entry.getValue();\r\n                CredentialDetails&lt;?&gt; credentialDetails = credHubTemplate.getByName(new CredentialName(credHubName));\r\n                if (credentialDetails != null) {\r\n                    Object credentialValue = credentialDetails.getValue();\r\n                    if (credentialValue instanceof byte[]) {\r\n                        keyStore.setKeyEntry(alias, new javax.crypto.spec.SecretKeySpec((byte[]) credentialValue, &quot;AES&quot;), null, null);\r\n                    } else if (credentialValue instanceof String) {\r\n                        keyStore.setEntry(alias, new KeyStore.SecretKeyEntry(new javax.crypto.spec.SecretKeySpec(((String) credentialValue).getBytes(), &quot;AES&quot;)), null);\r\n                    }\r\n                }\r\n            }\r\n            return keyStore;\r\n        }\r\n    \r\n        @Override\r\n        public BytesKeyGenerator getBytesKeyGenerator() {\r\n            return keyGenerator;\r\n        }\r\n    \r\n        @Override\r\n        public StringKeyGenerator getStringKeyGenerator() {\r\n            return keyGenerator;\r\n        }\r\n    }\r\n\r\nTo configure the Spring Boot Kafka client to use your custom KeyStoreProvider, you can set the security.provider.classes property in your application&#39;s configuration, as follows:\r\n\r\n    spring.kafka.security.provider.classes=com.example.CredHubKeyStoreProvider\r\n\r\nIn this example, com.example.CredHubKeyStoreProvider is the fully qualified name of your custom KeyStoreProvider implementation.\r\n\r\nUnfortunately, `ssl.keystore.location` will need to be set to a readable file, even though it is not used by our KeyStore implementation, so we set it to /dev/null and we set `ssl.keystore.password` to ignored.\r\n\r\nNote that you may also need to configure additional properties related to SSL and security in your application&#39;s configuration, depending on your Kafka cluster.","title":"How to set up ssl file&#39;s location in Spring Kafka configuration?","body":"<p>Implement a custom KeyStoreProvider using security.provider.classes for spring boot kafka client which takes values from credhub or equivalent secret managemnt tool.</p>\n<p>Follow these general steps:</p>\n<ul>\n<li><p>Implement the KeyStoreProvider interface by creating a new class that implements the methods defined in the interface.</p>\n</li>\n<li><p>Use a CredHub client library or API to connect to your CredHub instance and retrieve the values for the keys requested by the KeyStoreProvider methods.</p>\n</li>\n<li><p>Map the CredHub values to the appropriate KeyStore data types and return them from the KeyStoreProvider methods.</p>\n</li>\n<li><p>Configure the Spring Boot Kafka client to use your custom KeyStoreProvider by setting the security.provider.classes property.</p>\n</li>\n</ul>\n<p>Here's some example code that demonstrates how you might implement a custom KeyStoreProvider that retrieves values from CredHub and configure the Spring Boot Kafka client to use it:</p>\n<pre><code>import org.apache.kafka.common.config.AbstractConfig;\nimport org.apache.kafka.common.config.ConfigException;\nimport org.springframework.credhub.core.CredHubProperties;\nimport org.springframework.credhub.core.CredHubTemplate;\nimport org.springframework.credhub.support.CredentialDetails;\nimport org.springframework.credhub.support.CredentialName;\nimport org.springframework.security.crypto.keygen.StringKeyGenerator;\nimport org.springframework.security.crypto.keygen.KeyGenerators;\nimport org.springframework.security.crypto.keygen.BytesKeyGenerator;\nimport org.springframework.security.crypto.keygen.BytesKeyGenerator;\nimport java.security.KeyStore;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class CredHubKeyStoreProvider implements KeyStoreProvider {\n\n    private final CredHubTemplate credHubTemplate;\n    private final StringKeyGenerator keyGenerator = KeyGenerators.string();\n    private final Map&lt;String, String&gt; keyNameMapping;\n\n    public CredHubKeyStoreProvider(CredHubProperties credHubProperties, Map&lt;String, String&gt; keyNameMapping) {\n        this.credHubTemplate = new CredHubTemplate(credHubProperties);\n        this.keyNameMapping = keyNameMapping;\n    }\n\n    @Override\n    public KeyStore getKeyStore() throws Exception {\n        KeyStore keyStore = KeyStore.getInstance(&quot;JCEKS&quot;);\n        keyStore.load(null, null);\n        for (Map.Entry&lt;String, String&gt; entry : keyNameMapping.entrySet()) {\n            String alias = entry.getKey();\n            String credHubName = entry.getValue();\n            CredentialDetails&lt;?&gt; credentialDetails = credHubTemplate.getByName(new CredentialName(credHubName));\n            if (credentialDetails != null) {\n                Object credentialValue = credentialDetails.getValue();\n                if (credentialValue instanceof byte[]) {\n                    keyStore.setKeyEntry(alias, new javax.crypto.spec.SecretKeySpec((byte[]) credentialValue, &quot;AES&quot;), null, null);\n                } else if (credentialValue instanceof String) {\n                    keyStore.setEntry(alias, new KeyStore.SecretKeyEntry(new javax.crypto.spec.SecretKeySpec(((String) credentialValue).getBytes(), &quot;AES&quot;)), null);\n                }\n            }\n        }\n        return keyStore;\n    }\n\n    @Override\n    public BytesKeyGenerator getBytesKeyGenerator() {\n        return keyGenerator;\n    }\n\n    @Override\n    public StringKeyGenerator getStringKeyGenerator() {\n        return keyGenerator;\n    }\n}\n</code></pre>\n<p>To configure the Spring Boot Kafka client to use your custom KeyStoreProvider, you can set the security.provider.classes property in your application's configuration, as follows:</p>\n<pre><code>spring.kafka.security.provider.classes=com.example.CredHubKeyStoreProvider\n</code></pre>\n<p>In this example, com.example.CredHubKeyStoreProvider is the fully qualified name of your custom KeyStoreProvider implementation.</p>\n<p>Unfortunately, <code>ssl.keystore.location</code> will need to be set to a readable file, even though it is not used by our KeyStore implementation, so we set it to /dev/null and we set <code>ssl.keystore.password</code> to ignored.</p>\n<p>Note that you may also need to configure additional properties related to SSL and security in your application's configuration, depending on your Kafka cluster.</p>\n"},{"tags":[],"owner":{"account_id":11574148,"reputation":399,"user_id":8480036,"display_name":"Ashish Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694685165,"creation_date":1694685165,"answer_id":77103759,"question_id":71625547,"body_markdown":"Thank you @mdarwin!\r\nAbove answer to copy the JKS file from classpath to the project folder worked for me.\r\nThe only difference is that I did not create any directory to store the file in.\r\nHence my code looks like:\r\n\r\n    FileCopyUtils.copy(new ClassPathResource(&quot;truststore.jks&quot;).getInputStream(),\r\n                    new FileOutputStream(&quot;truststore.jks&quot;));\r\n\r\nAnd in application yml I added below config.\r\n\r\n    trust-store-location: file:truststore.jks\r\n\r\nJFYI, I did not create any configuration for the Kafka. It was all done by Spring boot itself.\r\n\r\nAlso, let me add the imports so that there will be confusion for visitors.\r\n\r\n    import java.io.FileOutputStream;\r\n    import org.springframework.core.io.ClassPathResource;\r\n    import org.springframework.util.FileCopyUtils;","title":"How to set up ssl file&#39;s location in Spring Kafka configuration?","body":"<p>Thank you @mdarwin!\nAbove answer to copy the JKS file from classpath to the project folder worked for me.\nThe only difference is that I did not create any directory to store the file in.\nHence my code looks like:</p>\n<pre><code>FileCopyUtils.copy(new ClassPathResource(&quot;truststore.jks&quot;).getInputStream(),\n                new FileOutputStream(&quot;truststore.jks&quot;));\n</code></pre>\n<p>And in application yml I added below config.</p>\n<pre><code>trust-store-location: file:truststore.jks\n</code></pre>\n<p>JFYI, I did not create any configuration for the Kafka. It was all done by Spring boot itself.</p>\n<p>Also, let me add the imports so that there will be confusion for visitors.</p>\n<pre><code>import java.io.FileOutputStream;\nimport org.springframework.core.io.ClassPathResource;\nimport org.springframework.util.FileCopyUtils;\n</code></pre>\n"}],"owner":{"account_id":21475407,"reputation":229,"user_id":15823763,"display_name":"nikiforov.java"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3926,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1694685165,"creation_date":1648272390,"question_id":71625547,"body_markdown":"I&#39;m trieng to set up ssl(mTLS) connection between Spring client and Kafka.\r\nI was given two files:\r\n\r\n```\r\n  -app.keystore;\r\n  -client.truststore.\r\n```\r\n\r\nWhen I checked the files with ```/usr/bin/keytool -list -rfc -keystore app.keystore |grep &quot;Keystore type&quot;``` ,\r\nI found out that the type is PKCS12.\r\n\r\nI configure Kafka manually, so I have a configuration class with Kafka properties. In configuration I set up properties &quot;ssl.keystore.type&quot; and &quot;ssl.truststore.typ&quot; as &quot;PKCS12&quot;.\r\n\r\nFile locations are set up in application.properties and pasted in configuration using @Value annotation (see code of Configuration down below):\r\n\r\n```\r\nkafka.trust-store-location=classpath:ssl/client.truststore\r\nkafka.key-store-location=classpath:ssl/app.keystore\r\n```\r\n\r\nPhysically files are placed in folder:\r\nmaven_module_name/src/main/resources/ssl/client.truststore\r\nmaven_module_name/src/main/resources/ssl/app.keystore\r\n\r\nWhen I start the app I have errors:\r\n\r\n```\r\nCaused by: org.apache.kafka.common.KafkaException: Failed to load SSL keystore classpath:ssl/app.keystore of type PKCS12\r\nCaused by: java.nio.file.NoSuchFileException: classpath:ssl/app.keystore\r\n```\r\n\r\nThis is my configuration class:\r\n\r\n```\r\n@Configuration\r\npublic class KafkaProducerConfiguration {\r\n\r\n...\r\n\r\n    @Value(&quot;${kafka.key-store-location}&quot;)\r\n    private String keyStoreLocation;\r\n\r\n    @Value(&quot;${kafka.truststore-location}&quot;)\r\n    private String trustStoreLocation;\r\n\r\n    @Bean\r\n    public Map&lt;String, Object&gt; producerConfigs() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        ...\r\n        ...\r\n        props.put(&quot;security.protocol&quot;, &quot;SSL&quot;);\r\n        props.put(&quot;ssl.key.password&quot;, &quot;password&quot;);\r\n        props.put(&quot;ssl.keystore.location&quot;, keyStoreLocation);\r\n        props.put(&quot;ssl.keystore.password&quot;, &quot;password&quot;);\r\n        props.put(&quot;ssl.keystore.type&quot;, &quot;PKCS12&quot;);\r\n        props.put(&quot;ssl.truststore.location&quot;, trustStoreLocation);\r\n        props.put(&quot;ssl.truststore.password&quot;, &quot;password&quot;);\r\n        props.put(&quot;ssl.truststore.type&quot;, &quot;PKCS12&quot;);\r\n        return props;\r\n    }\r\n\r\n    @Bean\r\n    public &lt;T&gt; ProducerFactory&lt;Long, T&gt; someProducerFactory() {\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(producerConfigs());\r\n    }\r\n\r\n    @Bean\r\n    public &lt;T&gt; KafkaTemplate&lt;Long, T&gt; someKafkaTemplate() {\r\n        ...\r\n        return template;\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\nI also tried to use the Resourse interface as suggested in [this answer][1]:\r\n\r\n```\r\n    @Value(&quot;${kafka.key-store-location}&quot;)\r\n    private Resource keyStoreLocation;\r\n\r\n    @Value(&quot;${kafka.trust-store-location}&quot;)\r\n    private Resource trustStoreLocation;\r\n```\r\n\r\nWhen I try to get an absolute  path this way:\r\n\r\n```\r\nprops.put(&quot;ssl.keystore.location&quot;, keyStoreLocation.getFile().getAbsolutePath());\r\n```\r\n\r\nthe app throws an Exception:\r\n\r\n```\r\njava.io.FileNotFoundException: class path resource [ssl/app.keystore] cannot be resolved to absolute file path because it does not reside in the file system: jar:file:/app.jar!/BOOT-INF/classes!/ssl/app.keystore\r\n\r\n```\r\n\r\n\r\nPlease, suggest to me how to solve the problem.\r\nThanks.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/60048971/spring-kafka-client-ssl-setup","title":"How to set up ssl file&#39;s location in Spring Kafka configuration?","body":"<p>I'm trieng to set up ssl(mTLS) connection between Spring client and Kafka.\nI was given two files:</p>\n<pre><code>  -app.keystore;\n  -client.truststore.\n</code></pre>\n<p>When I checked the files with <code>/usr/bin/keytool -list -rfc -keystore app.keystore |grep &quot;Keystore type&quot;</code> ,\nI found out that the type is PKCS12.</p>\n<p>I configure Kafka manually, so I have a configuration class with Kafka properties. In configuration I set up properties &quot;ssl.keystore.type&quot; and &quot;ssl.truststore.typ&quot; as &quot;PKCS12&quot;.</p>\n<p>File locations are set up in application.properties and pasted in configuration using @Value annotation (see code of Configuration down below):</p>\n<pre><code>kafka.trust-store-location=classpath:ssl/client.truststore\nkafka.key-store-location=classpath:ssl/app.keystore\n</code></pre>\n<p>Physically files are placed in folder:\nmaven_module_name/src/main/resources/ssl/client.truststore\nmaven_module_name/src/main/resources/ssl/app.keystore</p>\n<p>When I start the app I have errors:</p>\n<pre><code>Caused by: org.apache.kafka.common.KafkaException: Failed to load SSL keystore classpath:ssl/app.keystore of type PKCS12\nCaused by: java.nio.file.NoSuchFileException: classpath:ssl/app.keystore\n</code></pre>\n<p>This is my configuration class:</p>\n<pre><code>@Configuration\npublic class KafkaProducerConfiguration {\n\n...\n\n    @Value(&quot;${kafka.key-store-location}&quot;)\n    private String keyStoreLocation;\n\n    @Value(&quot;${kafka.truststore-location}&quot;)\n    private String trustStoreLocation;\n\n    @Bean\n    public Map&lt;String, Object&gt; producerConfigs() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        ...\n        ...\n        props.put(&quot;security.protocol&quot;, &quot;SSL&quot;);\n        props.put(&quot;ssl.key.password&quot;, &quot;password&quot;);\n        props.put(&quot;ssl.keystore.location&quot;, keyStoreLocation);\n        props.put(&quot;ssl.keystore.password&quot;, &quot;password&quot;);\n        props.put(&quot;ssl.keystore.type&quot;, &quot;PKCS12&quot;);\n        props.put(&quot;ssl.truststore.location&quot;, trustStoreLocation);\n        props.put(&quot;ssl.truststore.password&quot;, &quot;password&quot;);\n        props.put(&quot;ssl.truststore.type&quot;, &quot;PKCS12&quot;);\n        return props;\n    }\n\n    @Bean\n    public &lt;T&gt; ProducerFactory&lt;Long, T&gt; someProducerFactory() {\n        return new DefaultKafkaProducerFactory&lt;&gt;(producerConfigs());\n    }\n\n    @Bean\n    public &lt;T&gt; KafkaTemplate&lt;Long, T&gt; someKafkaTemplate() {\n        ...\n        return template;\n    }\n\n\n}\n\n</code></pre>\n<p>I also tried to use the Resourse interface as suggested in <a href=\"https://stackoverflow.com/questions/60048971/spring-kafka-client-ssl-setup\">this answer</a>:</p>\n<pre><code>    @Value(&quot;${kafka.key-store-location}&quot;)\n    private Resource keyStoreLocation;\n\n    @Value(&quot;${kafka.trust-store-location}&quot;)\n    private Resource trustStoreLocation;\n</code></pre>\n<p>When I try to get an absolute  path this way:</p>\n<pre><code>props.put(&quot;ssl.keystore.location&quot;, keyStoreLocation.getFile().getAbsolutePath());\n</code></pre>\n<p>the app throws an Exception:</p>\n<pre><code>java.io.FileNotFoundException: class path resource [ssl/app.keystore] cannot be resolved to absolute file path because it does not reside in the file system: jar:file:/app.jar!/BOOT-INF/classes!/ssl/app.keystore\n\n</code></pre>\n<p>Please, suggest to me how to solve the problem.\nThanks.</p>\n"},{"tags":["java","visual-studio-code","compiler-errors","version"],"comments":[{"owner":{"account_id":15396644,"reputation":25733,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1694719963,"post_id":77103696,"comment_id":135932131,"body_markdown":"Does this answer your question? [Why is my build path suddenly incomplete for my java project in VS Code?](https://stackoverflow.com/questions/77092008/why-is-my-build-path-suddenly-incomplete-for-my-java-project-in-vs-code) (see my answer there)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/77092008/why-is-my-build-path-suddenly-incomplete-for-my-java-project-in-vs-code\">Why is my build path suddenly incomplete for my java project in VS Code?</a> (see my answer there)"}],"answers":[{"tags":[],"owner":{"account_id":28075420,"reputation":3,"user_id":21447356,"display_name":"jet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1694685103,"creation_date":1694685103,"answer_id":77103743,"question_id":77103696,"body_markdown":"Fix: Intellisense and Intellicode happened to require a reload just shortly after this post. Just needed to wait for the detection.","title":"FIXED: VSCode and Java Red Squiggly Line of Death. Unable to compile Java specifically in VSCode","body":"<p>Fix: Intellisense and Intellicode happened to require a reload just shortly after this post. Just needed to wait for the detection.</p>\n"}],"owner":{"account_id":28075420,"reputation":3,"user_id":21447356,"display_name":"jet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694819380,"accepted_answer_id":77103743,"answer_count":1,"score":0,"last_activity_date":1694685134,"creation_date":1694684744,"question_id":77103696,"body_markdown":"Heads up, my code is 100% functional it was working on Tuesday. I open my java code today given I have not touched it since Tuesday, in VScode only for it to have red squiggly lines under everything. \r\n\r\nErrors such as the &quot;The import java.util cannot be resolved&quot;, &quot;String cannot be resolved to a type&quot;, &quot;Object cannot be resolved to a type&quot;. I ran the Debugging Tool the output was: \r\n\r\n&quot;Error: Unable to initialize main class DSABinarySearchTree\r\nCaused by: java.lang.NoClassDefFoundError: [LString;&quot;\r\n\r\nI have checked my Java version, it is 19.0.2. I have checked my Javac version it is 19.0.2.\r\n\r\nI ran the code within terminal compiled with javac and then ran with java. The code is fully functional and working. \r\n\r\nI have tried restarting the editor and my computer.\r\n\r\nI have C and Python programs, they all work fine. None of my Java programs are actually compiling and running within VSCode.\r\n\r\nThe problem seems to lie within VSCode.\r\n\r\nNote: This was all working on Tuesday!\r\n\r\nBelow I have included proof of error and list of some errors. I am actually not sure what is happening.\r\n\r\n[![List of errors](https://i.stack.imgur.com/C2BFh.png)](https://i.stack.imgur.com/C2BFh.png)\r\n\r\nHere is the code (It is fully working!):\r\n```\r\n//Outter public class DSABinaryTree\r\nimport java.util.InputMismatchException;\r\nimport java.util.NoSuchElementException;\r\nimport java.util.Scanner;\r\n\r\npublic class DSABinarySearchTree\r\n{\r\n    //Inner private class DSATreeNode\r\n    private class DSATreeNode\r\n    {\r\n        private String m_key; //Unique identifier (String or int), that is used to disinguish nodes\r\n        private Object m_value; //Value of the node\r\n        private DSATreeNode m_leftChild;    //Where the left child has is less than the right child\r\n        private DSATreeNode m_rightChild;\r\n\r\n        public DSATreeNode(String inKey, Object inVal)\r\n        {\r\n            if (inKey == null)\r\n            {\r\n                throw new IllegalArgumentException(&quot;Key cannot be null.&quot;);\r\n            }\r\n            m_key = inKey;\r\n            m_value = inVal;\r\n            m_leftChild = null;\r\n            m_rightChild = null;\r\n        }\r\n\r\n        //Accessors:\r\n        public String getKey() {return m_key;}\r\n        public Object getValue() {return m_value;}\r\n        public DSATreeNode getLeft(){return m_leftChild;}\r\n        public DSATreeNode getRight(){return m_rightChild;}\r\n\r\n        //Mutators:\r\n        public void setLeft(DSATreeNode newLeft)\r\n        {\r\n            m_leftChild = newLeft;\r\n        }\r\n        public void setRight(DSATreeNode newRight)\r\n        {\r\n            m_rightChild = newRight;\r\n        }\r\n    } //Outside of private inner class DSATreeNode\r\n    //Back within outter public class DSABinaryTree\r\n\r\n    private DSATreeNode m_root;\r\n\r\n    public DSABinarySearchTree()\r\n    {\r\n        m_root = null;\r\n    }\r\n\r\n    //Accessor\r\n    public Object find(String key)\r\n    {\r\n        return findRec(key, m_root); //calls the recursive function (Acts as a wrapper), passes a key to find\r\n    }\r\n\r\n    //Private recusrive accessor\r\n    private Object findRec(String key, DSATreeNode currNode)\r\n    {\r\n        Object value = null; //Value to find\r\n\r\n        //Start at root node\r\n        if (currNode == null) //\r\n        {\r\n            throw new NoSuchElementException(&quot;Key &quot; + key + &quot; not found.&quot;); //If no child exists (Null), throw an exception\r\n        }\r\n        else if (key.equals(currNode.getKey())) //If the keys match, grab value\r\n        {\r\n            value = currNode.getValue();\r\n        }\r\n        else if (key.compareTo(currNode.getKey()) &lt; 0) //If key to find is less than node key, go to the left child\r\n        {\r\n            value = findRec(key, currNode.getLeft()); //Call recursively to begin the process again, until a matching value is found\r\n        }\r\n        else  //If the key to find is greater than node key, then go to right child\r\n        {\r\n            value = findRec(key, currNode.getRight()); //Another recursive call\r\n        }\r\n        return value;\r\n    }\r\n\r\n    public void insert(String key, Object data) //Wrapper function\r\n    {\r\n        m_root = insertRec(key, data, m_root); //Pass in the key to insert, the data/value to insert and the root\r\n        \r\n    }\r\n\r\n    private DSATreeNode insertRec(String key, Object data, DSATreeNode currNode)\r\n    {\r\n        DSATreeNode updateNode = currNode; //store the current node in a tmp variable\r\n        if(currNode == null) // If the current node is null (Nothing in the tree), insert the node \r\n        {\r\n            //System.out.println(&quot;A&quot;);\r\n            DSATreeNode newNode = new DSATreeNode(key, data); //Create a new node to insert\r\n            updateNode = newNode; //new node will be returned\r\n        }\r\n        else if (key.equals(currNode.getKey())) //If the key matches a key within the tree, do nothing\r\n        {\r\n            //System.out.println(&quot;B&quot;);\r\n        }\r\n        else if (key.compareTo(currNode.getKey()) &lt; 0) //Compare key to insert with the current key\r\n        {\r\n            //System.out.println(&quot;C&quot;);\r\n            currNode.setLeft(insertRec(key, data, currNode.getLeft())); //If the compareTo returns a -ve then key is less than current key\r\n        }\r\n        else \r\n        {\r\n            //System.out.println(&quot;D&quot;);\r\n            currNode.setRight(insertRec(key, data, currNode.getRight()));\r\n        }\r\n        //System.out.println(updateNode.getKey());\r\n        return updateNode;\r\n    }\r\n\r\n    public DSATreeNode delete(String key) //Wrapper function\r\n    {\r\n        return deleteRec(key, m_root);\r\n    }\r\n    \r\n    private DSATreeNode deleteRec(String key, DSATreeNode currNode) \r\n    {\r\n        DSATreeNode updateNode = currNode;\r\n\r\n        if (currNode == null)\r\n        {/* abort */}\r\n        else if (key.equals(currNode.getKey()))\r\n        {\r\n            updateNode = deleteNode(key, currNode);\r\n        }\r\n        else if (key.compareTo(currNode.getKey()) &lt; 0)\r\n        {\r\n            currNode.setLeft(deleteRec(key, currNode.getLeft()));\r\n        }\r\n        else\r\n        {\r\n            currNode.setRight(deleteRec(key, currNode.getRight()));\r\n        }\r\n        return updateNode;\r\n    }\r\n\r\n    private DSATreeNode deleteNode(String key, DSATreeNode delNode)\r\n    {\r\n        DSATreeNode updateNode = null;\r\n\r\n        if ((delNode.getLeft() == null) &amp;&amp; (delNode.getRight() == null)) //Case: No childs\r\n        {\r\n            updateNode = null;\r\n        }\r\n        else if ((delNode.getLeft() != null) &amp;&amp; (delNode.getRight() == null)) //Case: No right child\r\n        {\r\n            updateNode = delNode.getLeft();\r\n        }\r\n        else if ((delNode.getLeft() == null) &amp;&amp; (delNode.getRight() != null)) //Case: No left child\r\n        {\r\n            updateNode = delNode.getRight();\r\n        }\r\n        else //Case: 2 childs\r\n        {\r\n            System.out.println(&quot;I am in the case: 2 childs&quot;);\r\n            updateNode = promoteSuccessor(delNode.getRight());\r\n            if (updateNode != delNode.getRight())\r\n            {\r\n                updateNode.setRight(delNode.getRight());\r\n            }\r\n            updateNode.setLeft(delNode.getLeft());\r\n        }\r\n        return updateNode;\r\n    }\r\n\r\n    private DSATreeNode promoteSuccessor(DSATreeNode curr)\r\n    {\r\n        DSATreeNode successor = curr;\r\n        if (curr.getLeft() != null)\r\n        {\r\n            successor = promoteSuccessor(curr.getLeft());\r\n            if (successor == curr.getLeft())\r\n            {\r\n                curr.setLeft(successor.getRight());\r\n            }\r\n        }\r\n        System.out.println(successor.getKey());\r\n        return successor;\r\n    }\r\n\r\n    public void preOrder()\r\n    {\r\n        preOrderRec(m_root);\r\n        // list.displayListForwards();\r\n    }\r\n\r\n    private void preOrderRec(DSATreeNode currNode)\r\n    {\r\n        if (currNode != null)\r\n        {\r\n            System.out.println(currNode.getKey() + &quot; &quot;);\r\n            preOrderRec(currNode.getLeft());\r\n            \r\n            preOrderRec(currNode.getRight());\r\n        }\r\n    }\r\n\r\n    public void inOrder()\r\n    {\r\n        inOrderRec(m_root);\r\n        // list.displayListForwards();\r\n    }\r\n\r\n    private void inOrderRec(DSATreeNode currNode)\r\n    {\r\n        if (currNode != null)\r\n        {\r\n            inOrderRec(currNode.getLeft());\r\n            System.out.println(currNode.getKey() + &quot; &quot;);\r\n            inOrderRec(currNode.getRight());\r\n        }\r\n    }\r\n\r\n    public void postOrder()\r\n    {\r\n        postOrderRec(m_root);\r\n        // list.displayListForwards();\r\n    }\r\n\r\n    private void postOrderRec(DSATreeNode currNode)\r\n    {\r\n        if (currNode != null)\r\n        {\r\n            postOrderRec(currNode.getLeft());\r\n            postOrderRec(currNode.getRight());\r\n            System.out.println(currNode.getKey() + &quot; &quot;);\r\n        }\r\n    }\r\n\r\n    public void min()\r\n    {\r\n        DSATreeNode minNode = minRec(m_root);\r\n        System.out.println(&quot;Key: &quot;+minNode.getKey() +&quot;, &quot;+&quot;Node: &quot;+ minNode.getValue());\r\n    }\r\n    private DSATreeNode minRec(DSATreeNode currNode)\r\n    {\r\n        DSATreeNode minNode = currNode;\r\n\r\n        if(currNode.getLeft() != null)\r\n        {\r\n            minNode = minRec(minNode.getLeft());\r\n        }\r\n        return minNode;\r\n    }\r\n\r\n    public void max()\r\n    {\r\n        DSATreeNode maxNode = maxRec(m_root);\r\n        System.out.println(&quot;Key: &quot;+maxNode.getKey() +&quot;, &quot;+&quot;Node: &quot;+ maxNode.getValue());\r\n    }\r\n    private DSATreeNode maxRec(DSATreeNode currNode)\r\n    {\r\n        DSATreeNode maxNode = currNode;\r\n\r\n        if(currNode.getLeft() != null)\r\n        {\r\n            maxNode = minRec(maxNode.getRight());\r\n        }\r\n        return maxNode;\r\n    } //\r\n\r\n    public int height()\r\n    {\r\n        return heightRec(m_root);\r\n    }\r\n    private int heightRec(DSATreeNode currNode)\r\n    {\r\n        int htSoFar, iLeftHt, iRightHt;\r\n        if(currNode == null)\r\n        {\r\n            htSoFar = -1;\r\n        }\r\n        else \r\n        {\r\n            iLeftHt = heightRec(currNode.getLeft());\r\n            iRightHt = heightRec(currNode.getRight());\r\n\r\n            if(iLeftHt &gt; iRightHt)\r\n            {\r\n                htSoFar = iLeftHt + 1;\r\n            }\r\n            else\r\n            {\r\n                htSoFar = iRightHt + 1;\r\n            }\r\n        }\r\n        return htSoFar;\r\n    }\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        Scanner sc = new Scanner(System.in);\r\n        int selection = -1;\r\n        String key;\r\n        int value;\r\n\r\n        DSABinarySearchTree tree = new DSABinarySearchTree();\r\n        while(selection != 0)\r\n        {\r\n            try{\r\n                System.out.println(&quot;-----------------------------&quot;);\r\n                System.out.println(&quot;What would you like to do?&quot;);\r\n                System.out.println(&quot;[1] Add node&quot;);\r\n                System.out.println(&quot;[2] Delete node&quot;);\r\n                System.out.println(&quot;[3] Find node&quot;);\r\n                System.out.println(&quot;[4] Min, Max &amp; Height&quot;);\r\n                System.out.println(&quot;[5] Display the tree&quot;);\r\n                System.out.println(&quot;[0] Exit Program&quot;);\r\n                System.out.println(&quot;-----------------------------&quot;);\r\n                selection = sc.nextInt();\r\n                switch(selection)\r\n                {\r\n                    case 1:\r\n                        sc.nextLine();\r\n                        System.out.println(&quot;Enter a key (String Value): &quot;);\r\n                        key = sc.nextLine();\r\n                        System.out.println(&quot;Enter a value (integer value)&quot;);\r\n                        value = sc.nextInt();\r\n                        tree.insert(key, value);\r\n                        break;\r\n                    case 2:\r\n                        sc.nextLine();\r\n                        System.out.println(&quot;Enter a key to delete (String value): &quot;);\r\n                        key = sc.nextLine();\r\n                        tree.delete(key);\r\n                        break;\r\n                    case 3:\r\n                        try{\r\n                            sc.nextLine();\r\n                            System.out.println(&quot;Enter a key to find (String value): &quot;);\r\n                            key = sc.nextLine();\r\n                            System.out.println(&quot;The value for Key = &quot; + key + &quot; is &quot; + tree.find(key));\r\n                        }\r\n                        catch(NoSuchElementException e)\r\n                        {\r\n                            System.out.println(&quot;This key does not exist!&quot;);\r\n                        }\r\n                        break;\r\n                    case 4:\r\n                        try{\r\n                            System.out.println(&quot;Min: &quot;);\r\n                            tree.min();\r\n                            System.out.println(&quot;Max: &quot;);\r\n                            tree.max();\r\n                            System.out.println(&quot;Height: &quot; + tree.height());\r\n                        }\r\n                        catch(NullPointerException e){\r\n                            System.out.println(&quot;Error: Null pointer exception, nothing in tree&quot;);\r\n                        }\r\n                        break;\r\n                    case 5:\r\n                        sc.nextLine();\r\n                        System.out.println(&quot;Choose display type: &quot;);\r\n                        System.out.println(&quot;[1] Pre-order&quot;);\r\n                        System.out.println(&quot;[2] In-order&quot;);\r\n                        System.out.println(&quot;[3] Post-order&quot;);\r\n\r\n                        int x = sc.nextInt();\r\n                        if(x == 1)\r\n                        {\r\n                            tree.preOrder();\r\n                        }\r\n                        else if (x == 2)\r\n                        {\r\n                            tree.inOrder();\r\n                        }\r\n                        else if (x == 3)\r\n                        {\r\n                            tree.postOrder();\r\n                        }\r\n                        else\r\n                        {\r\n                            System.out.println(&quot;Invalid option.&quot;);\r\n                        }\r\n                        break;\r\n                    case 0:\r\n                        System.out.println(&quot;Good-bye!&quot;);\r\n                        break;\r\n                    default:\r\n                        System.out.println(&quot;Invalid input.&quot;);\r\n                        break;\r\n                }\r\n            }\r\n            catch (InputMismatchException e)\r\n            {\r\n                System.out.println(&quot;Error: Incorrect data type entry.&quot;);\r\n                sc.nextLine();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    /*\r\n    public static void main(String[] args)\r\n    {\r\n        DSABinarySearchTree tree = new DSABinarySearchTree();\r\n        \r\n        tree.insert(&quot;n&quot;, 5);\r\n        tree.insert(&quot;l&quot;, 7);\r\n        tree.insert(&quot;j&quot;, 3);\r\n        tree.insert(&quot;q&quot;, 3);\r\n        tree.insert(&quot;p&quot;, 3);\r\n        tree.insert(&quot;m&quot;, 3);\r\n        tree.insert(&quot;k&quot;, 3);\r\n        tree.insert(&quot;o&quot;, 3);\r\n        tree.insert(&quot;r&quot;, 3);\r\n\r\n        tree.min();\r\n        tree.max();\r\n        tree.inOrder();\r\n        System.out.println(tree.height());\r\n        //tree.preOrder();\r\n        //tree.postOrder();\r\n        //Debugging\r\n        /*\r\n        if(tree.m_root != null)\r\n        {\r\n            tree.m_root.getValue();\r\n            if(tree.m_root.getLeft() != null)\r\n            {\r\n                tree.m_root.getLeft().getValue();\r\n            }\r\n            else{\r\n                System.out.println(&quot;Left child is null&quot;);\r\n            }\r\n\r\n            if(tree.m_root.getRight() != null)\r\n            {\r\n                tree.m_root.getRight().getValue();\r\n                System.out.println(&quot;Hello&quot;);\r\n            }\r\n            else{\r\n                System.out.println(&quot;Right child is null&quot;);\r\n            }\r\n        }\r\n        else{\r\n            System.out.println(&quot;Root is null&quot;);\r\n        }\r\n        \r\n    }\r\n    */\r\n}\r\n\r\n```","title":"FIXED: VSCode and Java Red Squiggly Line of Death. Unable to compile Java specifically in VSCode","body":"<p>Heads up, my code is 100% functional it was working on Tuesday. I open my java code today given I have not touched it since Tuesday, in VScode only for it to have red squiggly lines under everything.</p>\n<p>Errors such as the &quot;The import java.util cannot be resolved&quot;, &quot;String cannot be resolved to a type&quot;, &quot;Object cannot be resolved to a type&quot;. I ran the Debugging Tool the output was:</p>\n<p>&quot;Error: Unable to initialize main class DSABinarySearchTree\nCaused by: java.lang.NoClassDefFoundError: [LString;&quot;</p>\n<p>I have checked my Java version, it is 19.0.2. I have checked my Javac version it is 19.0.2.</p>\n<p>I ran the code within terminal compiled with javac and then ran with java. The code is fully functional and working.</p>\n<p>I have tried restarting the editor and my computer.</p>\n<p>I have C and Python programs, they all work fine. None of my Java programs are actually compiling and running within VSCode.</p>\n<p>The problem seems to lie within VSCode.</p>\n<p>Note: This was all working on Tuesday!</p>\n<p>Below I have included proof of error and list of some errors. I am actually not sure what is happening.</p>\n<p><a href=\"https://i.stack.imgur.com/C2BFh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C2BFh.png\" alt=\"List of errors\" /></a></p>\n<p>Here is the code (It is fully working!):</p>\n<pre><code>//Outter public class DSABinaryTree\nimport java.util.InputMismatchException;\nimport java.util.NoSuchElementException;\nimport java.util.Scanner;\n\npublic class DSABinarySearchTree\n{\n    //Inner private class DSATreeNode\n    private class DSATreeNode\n    {\n        private String m_key; //Unique identifier (String or int), that is used to disinguish nodes\n        private Object m_value; //Value of the node\n        private DSATreeNode m_leftChild;    //Where the left child has is less than the right child\n        private DSATreeNode m_rightChild;\n\n        public DSATreeNode(String inKey, Object inVal)\n        {\n            if (inKey == null)\n            {\n                throw new IllegalArgumentException(&quot;Key cannot be null.&quot;);\n            }\n            m_key = inKey;\n            m_value = inVal;\n            m_leftChild = null;\n            m_rightChild = null;\n        }\n\n        //Accessors:\n        public String getKey() {return m_key;}\n        public Object getValue() {return m_value;}\n        public DSATreeNode getLeft(){return m_leftChild;}\n        public DSATreeNode getRight(){return m_rightChild;}\n\n        //Mutators:\n        public void setLeft(DSATreeNode newLeft)\n        {\n            m_leftChild = newLeft;\n        }\n        public void setRight(DSATreeNode newRight)\n        {\n            m_rightChild = newRight;\n        }\n    } //Outside of private inner class DSATreeNode\n    //Back within outter public class DSABinaryTree\n\n    private DSATreeNode m_root;\n\n    public DSABinarySearchTree()\n    {\n        m_root = null;\n    }\n\n    //Accessor\n    public Object find(String key)\n    {\n        return findRec(key, m_root); //calls the recursive function (Acts as a wrapper), passes a key to find\n    }\n\n    //Private recusrive accessor\n    private Object findRec(String key, DSATreeNode currNode)\n    {\n        Object value = null; //Value to find\n\n        //Start at root node\n        if (currNode == null) //\n        {\n            throw new NoSuchElementException(&quot;Key &quot; + key + &quot; not found.&quot;); //If no child exists (Null), throw an exception\n        }\n        else if (key.equals(currNode.getKey())) //If the keys match, grab value\n        {\n            value = currNode.getValue();\n        }\n        else if (key.compareTo(currNode.getKey()) &lt; 0) //If key to find is less than node key, go to the left child\n        {\n            value = findRec(key, currNode.getLeft()); //Call recursively to begin the process again, until a matching value is found\n        }\n        else  //If the key to find is greater than node key, then go to right child\n        {\n            value = findRec(key, currNode.getRight()); //Another recursive call\n        }\n        return value;\n    }\n\n    public void insert(String key, Object data) //Wrapper function\n    {\n        m_root = insertRec(key, data, m_root); //Pass in the key to insert, the data/value to insert and the root\n        \n    }\n\n    private DSATreeNode insertRec(String key, Object data, DSATreeNode currNode)\n    {\n        DSATreeNode updateNode = currNode; //store the current node in a tmp variable\n        if(currNode == null) // If the current node is null (Nothing in the tree), insert the node \n        {\n            //System.out.println(&quot;A&quot;);\n            DSATreeNode newNode = new DSATreeNode(key, data); //Create a new node to insert\n            updateNode = newNode; //new node will be returned\n        }\n        else if (key.equals(currNode.getKey())) //If the key matches a key within the tree, do nothing\n        {\n            //System.out.println(&quot;B&quot;);\n        }\n        else if (key.compareTo(currNode.getKey()) &lt; 0) //Compare key to insert with the current key\n        {\n            //System.out.println(&quot;C&quot;);\n            currNode.setLeft(insertRec(key, data, currNode.getLeft())); //If the compareTo returns a -ve then key is less than current key\n        }\n        else \n        {\n            //System.out.println(&quot;D&quot;);\n            currNode.setRight(insertRec(key, data, currNode.getRight()));\n        }\n        //System.out.println(updateNode.getKey());\n        return updateNode;\n    }\n\n    public DSATreeNode delete(String key) //Wrapper function\n    {\n        return deleteRec(key, m_root);\n    }\n    \n    private DSATreeNode deleteRec(String key, DSATreeNode currNode) \n    {\n        DSATreeNode updateNode = currNode;\n\n        if (currNode == null)\n        {/* abort */}\n        else if (key.equals(currNode.getKey()))\n        {\n            updateNode = deleteNode(key, currNode);\n        }\n        else if (key.compareTo(currNode.getKey()) &lt; 0)\n        {\n            currNode.setLeft(deleteRec(key, currNode.getLeft()));\n        }\n        else\n        {\n            currNode.setRight(deleteRec(key, currNode.getRight()));\n        }\n        return updateNode;\n    }\n\n    private DSATreeNode deleteNode(String key, DSATreeNode delNode)\n    {\n        DSATreeNode updateNode = null;\n\n        if ((delNode.getLeft() == null) &amp;&amp; (delNode.getRight() == null)) //Case: No childs\n        {\n            updateNode = null;\n        }\n        else if ((delNode.getLeft() != null) &amp;&amp; (delNode.getRight() == null)) //Case: No right child\n        {\n            updateNode = delNode.getLeft();\n        }\n        else if ((delNode.getLeft() == null) &amp;&amp; (delNode.getRight() != null)) //Case: No left child\n        {\n            updateNode = delNode.getRight();\n        }\n        else //Case: 2 childs\n        {\n            System.out.println(&quot;I am in the case: 2 childs&quot;);\n            updateNode = promoteSuccessor(delNode.getRight());\n            if (updateNode != delNode.getRight())\n            {\n                updateNode.setRight(delNode.getRight());\n            }\n            updateNode.setLeft(delNode.getLeft());\n        }\n        return updateNode;\n    }\n\n    private DSATreeNode promoteSuccessor(DSATreeNode curr)\n    {\n        DSATreeNode successor = curr;\n        if (curr.getLeft() != null)\n        {\n            successor = promoteSuccessor(curr.getLeft());\n            if (successor == curr.getLeft())\n            {\n                curr.setLeft(successor.getRight());\n            }\n        }\n        System.out.println(successor.getKey());\n        return successor;\n    }\n\n    public void preOrder()\n    {\n        preOrderRec(m_root);\n        // list.displayListForwards();\n    }\n\n    private void preOrderRec(DSATreeNode currNode)\n    {\n        if (currNode != null)\n        {\n            System.out.println(currNode.getKey() + &quot; &quot;);\n            preOrderRec(currNode.getLeft());\n            \n            preOrderRec(currNode.getRight());\n        }\n    }\n\n    public void inOrder()\n    {\n        inOrderRec(m_root);\n        // list.displayListForwards();\n    }\n\n    private void inOrderRec(DSATreeNode currNode)\n    {\n        if (currNode != null)\n        {\n            inOrderRec(currNode.getLeft());\n            System.out.println(currNode.getKey() + &quot; &quot;);\n            inOrderRec(currNode.getRight());\n        }\n    }\n\n    public void postOrder()\n    {\n        postOrderRec(m_root);\n        // list.displayListForwards();\n    }\n\n    private void postOrderRec(DSATreeNode currNode)\n    {\n        if (currNode != null)\n        {\n            postOrderRec(currNode.getLeft());\n            postOrderRec(currNode.getRight());\n            System.out.println(currNode.getKey() + &quot; &quot;);\n        }\n    }\n\n    public void min()\n    {\n        DSATreeNode minNode = minRec(m_root);\n        System.out.println(&quot;Key: &quot;+minNode.getKey() +&quot;, &quot;+&quot;Node: &quot;+ minNode.getValue());\n    }\n    private DSATreeNode minRec(DSATreeNode currNode)\n    {\n        DSATreeNode minNode = currNode;\n\n        if(currNode.getLeft() != null)\n        {\n            minNode = minRec(minNode.getLeft());\n        }\n        return minNode;\n    }\n\n    public void max()\n    {\n        DSATreeNode maxNode = maxRec(m_root);\n        System.out.println(&quot;Key: &quot;+maxNode.getKey() +&quot;, &quot;+&quot;Node: &quot;+ maxNode.getValue());\n    }\n    private DSATreeNode maxRec(DSATreeNode currNode)\n    {\n        DSATreeNode maxNode = currNode;\n\n        if(currNode.getLeft() != null)\n        {\n            maxNode = minRec(maxNode.getRight());\n        }\n        return maxNode;\n    } //\n\n    public int height()\n    {\n        return heightRec(m_root);\n    }\n    private int heightRec(DSATreeNode currNode)\n    {\n        int htSoFar, iLeftHt, iRightHt;\n        if(currNode == null)\n        {\n            htSoFar = -1;\n        }\n        else \n        {\n            iLeftHt = heightRec(currNode.getLeft());\n            iRightHt = heightRec(currNode.getRight());\n\n            if(iLeftHt &gt; iRightHt)\n            {\n                htSoFar = iLeftHt + 1;\n            }\n            else\n            {\n                htSoFar = iRightHt + 1;\n            }\n        }\n        return htSoFar;\n    }\n\n    public static void main(String[] args)\n    {\n        Scanner sc = new Scanner(System.in);\n        int selection = -1;\n        String key;\n        int value;\n\n        DSABinarySearchTree tree = new DSABinarySearchTree();\n        while(selection != 0)\n        {\n            try{\n                System.out.println(&quot;-----------------------------&quot;);\n                System.out.println(&quot;What would you like to do?&quot;);\n                System.out.println(&quot;[1] Add node&quot;);\n                System.out.println(&quot;[2] Delete node&quot;);\n                System.out.println(&quot;[3] Find node&quot;);\n                System.out.println(&quot;[4] Min, Max &amp; Height&quot;);\n                System.out.println(&quot;[5] Display the tree&quot;);\n                System.out.println(&quot;[0] Exit Program&quot;);\n                System.out.println(&quot;-----------------------------&quot;);\n                selection = sc.nextInt();\n                switch(selection)\n                {\n                    case 1:\n                        sc.nextLine();\n                        System.out.println(&quot;Enter a key (String Value): &quot;);\n                        key = sc.nextLine();\n                        System.out.println(&quot;Enter a value (integer value)&quot;);\n                        value = sc.nextInt();\n                        tree.insert(key, value);\n                        break;\n                    case 2:\n                        sc.nextLine();\n                        System.out.println(&quot;Enter a key to delete (String value): &quot;);\n                        key = sc.nextLine();\n                        tree.delete(key);\n                        break;\n                    case 3:\n                        try{\n                            sc.nextLine();\n                            System.out.println(&quot;Enter a key to find (String value): &quot;);\n                            key = sc.nextLine();\n                            System.out.println(&quot;The value for Key = &quot; + key + &quot; is &quot; + tree.find(key));\n                        }\n                        catch(NoSuchElementException e)\n                        {\n                            System.out.println(&quot;This key does not exist!&quot;);\n                        }\n                        break;\n                    case 4:\n                        try{\n                            System.out.println(&quot;Min: &quot;);\n                            tree.min();\n                            System.out.println(&quot;Max: &quot;);\n                            tree.max();\n                            System.out.println(&quot;Height: &quot; + tree.height());\n                        }\n                        catch(NullPointerException e){\n                            System.out.println(&quot;Error: Null pointer exception, nothing in tree&quot;);\n                        }\n                        break;\n                    case 5:\n                        sc.nextLine();\n                        System.out.println(&quot;Choose display type: &quot;);\n                        System.out.println(&quot;[1] Pre-order&quot;);\n                        System.out.println(&quot;[2] In-order&quot;);\n                        System.out.println(&quot;[3] Post-order&quot;);\n\n                        int x = sc.nextInt();\n                        if(x == 1)\n                        {\n                            tree.preOrder();\n                        }\n                        else if (x == 2)\n                        {\n                            tree.inOrder();\n                        }\n                        else if (x == 3)\n                        {\n                            tree.postOrder();\n                        }\n                        else\n                        {\n                            System.out.println(&quot;Invalid option.&quot;);\n                        }\n                        break;\n                    case 0:\n                        System.out.println(&quot;Good-bye!&quot;);\n                        break;\n                    default:\n                        System.out.println(&quot;Invalid input.&quot;);\n                        break;\n                }\n            }\n            catch (InputMismatchException e)\n            {\n                System.out.println(&quot;Error: Incorrect data type entry.&quot;);\n                sc.nextLine();\n            }\n        }\n    }\n\n\n    /*\n    public static void main(String[] args)\n    {\n        DSABinarySearchTree tree = new DSABinarySearchTree();\n        \n        tree.insert(&quot;n&quot;, 5);\n        tree.insert(&quot;l&quot;, 7);\n        tree.insert(&quot;j&quot;, 3);\n        tree.insert(&quot;q&quot;, 3);\n        tree.insert(&quot;p&quot;, 3);\n        tree.insert(&quot;m&quot;, 3);\n        tree.insert(&quot;k&quot;, 3);\n        tree.insert(&quot;o&quot;, 3);\n        tree.insert(&quot;r&quot;, 3);\n\n        tree.min();\n        tree.max();\n        tree.inOrder();\n        System.out.println(tree.height());\n        //tree.preOrder();\n        //tree.postOrder();\n        //Debugging\n        /*\n        if(tree.m_root != null)\n        {\n            tree.m_root.getValue();\n            if(tree.m_root.getLeft() != null)\n            {\n                tree.m_root.getLeft().getValue();\n            }\n            else{\n                System.out.println(&quot;Left child is null&quot;);\n            }\n\n            if(tree.m_root.getRight() != null)\n            {\n                tree.m_root.getRight().getValue();\n                System.out.println(&quot;Hello&quot;);\n            }\n            else{\n                System.out.println(&quot;Right child is null&quot;);\n            }\n        }\n        else{\n            System.out.println(&quot;Root is null&quot;);\n        }\n        \n    }\n    */\n}\n\n</code></pre>\n"},{"tags":["java","database","android-studio","android-room","backup"],"answers":[{"tags":[],"owner":{"account_id":20220873,"reputation":137,"user_id":14830371,"display_name":"Anesu Mazvimavi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694685088,"creation_date":1694685088,"answer_id":77103741,"question_id":77103213,"body_markdown":"So all I had to do was iterate over the list of users and write each user&#39;s file to the outputstream file like this:\r\n\r\n    public void backupDatabase() throws IOException {\r\n        File backupFile = new File(Environment.getExternalStorageDirectory(), AppDatabase.DATABASE_NAME + &quot;.txt&quot;);\r\n    \r\n        if (!backupFile.exists()) {\r\n            try (FileOutputStream outputStream = new FileOutputStream(backupFile)) {\r\n            }\r\n        } else {\r\n            if (!backupFile.canWrite()) {\r\n                throw new FileNotFoundException(&quot;User does not have permission to write to file &quot; + backupFile.getAbsolutePath());\r\n            }\r\n        }\r\n    \r\n        AppDatabase database = Room.databaseBuilder(getApplicationContext(), AppDatabase.class,&quot;InnBucks_DB&quot;).allowMainThreadQueries().build();\r\n        UserDao userDao = database.userDao();\r\n    \r\n        List&lt;User&gt; userList = userDao.getallusers();\r\n    \r\n        try (FileOutputStream outputStream = new FileOutputStream(backupFile)) {\r\n            for (User user : userList) {\r\n                outputStream.write((user.getId() + &quot;\\n&quot;).getBytes());\r\n                outputStream.write((user.getUserId() + &quot;\\n&quot;).getBytes());\r\n                outputStream.write((user.getName() + &quot;\\n&quot;).getBytes());\r\n            }\r\n        }\r\n    \r\n    \r\n        Toast.makeText(BackupRestore.this, &quot;Backup is successful to SD card&quot;, Toast.LENGTH_SHORT).show();\r\n    }","title":"Roomdatabase backup file showing roommaster table scribbly text","body":"<p>So all I had to do was iterate over the list of users and write each user's file to the outputstream file like this:</p>\n<pre><code>public void backupDatabase() throws IOException {\n    File backupFile = new File(Environment.getExternalStorageDirectory(), AppDatabase.DATABASE_NAME + &quot;.txt&quot;);\n\n    if (!backupFile.exists()) {\n        try (FileOutputStream outputStream = new FileOutputStream(backupFile)) {\n        }\n    } else {\n        if (!backupFile.canWrite()) {\n            throw new FileNotFoundException(&quot;User does not have permission to write to file &quot; + backupFile.getAbsolutePath());\n        }\n    }\n\n    AppDatabase database = Room.databaseBuilder(getApplicationContext(), AppDatabase.class,&quot;InnBucks_DB&quot;).allowMainThreadQueries().build();\n    UserDao userDao = database.userDao();\n\n    List&lt;User&gt; userList = userDao.getallusers();\n\n    try (FileOutputStream outputStream = new FileOutputStream(backupFile)) {\n        for (User user : userList) {\n            outputStream.write((user.getId() + &quot;\\n&quot;).getBytes());\n            outputStream.write((user.getUserId() + &quot;\\n&quot;).getBytes());\n            outputStream.write((user.getName() + &quot;\\n&quot;).getBytes());\n        }\n    }\n\n\n    Toast.makeText(BackupRestore.this, &quot;Backup is successful to SD card&quot;, Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n"}],"owner":{"account_id":20220873,"reputation":137,"user_id":14830371,"display_name":"Anesu Mazvimavi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694685088,"creation_date":1694681392,"question_id":77103213,"body_markdown":"I have a method in my program that backs up a room database in android studio. When I export the file, it comes out as a .txt file. However in my file, the data is all scribbly and not well structured as shown in the image below. I just want the text file to show only data from the room database table columns.\r\n\r\nMy method to backup the room database\r\n\r\n       public void backupDatabase() throws IOException {\r\n            File backupFile = new File(Environment.getExternalStorageDirectory(), AppDatabase.DATABASE_NAME + &quot;.txt&quot;);\r\n    \r\n            if (!backupFile.exists()) {\r\n                try (FileOutputStream outputStream = new FileOutputStream(backupFile)) {\r\n                }\r\n            } else {\r\n                if (!backupFile.canWrite()) {\r\n                    throw new FileNotFoundException(&quot;User does not have permission to write to file &quot; + backupFile.getAbsolutePath());\r\n                }\r\n            }\r\n    \r\n            try (FileInputStream inputStream = new FileInputStream(context.getDatabasePath(AppDatabase.DATABASE_NAME));\r\n                 FileOutputStream outputStream = new FileOutputStream(backupFile)) {\r\n                byte[] buffer = new byte[1024];\r\n                int bytesRead;\r\n                while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n                    outputStream.write(buffer, 0, bytesRead);\r\n                }\r\n            }\r\n    \r\n            Toast.makeText(BackupRestore.this, &quot;Backup is successful to SD card&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\nThe .txt file does show the database in the middle, but the sqlite format stuff is unnecessary\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd this is the database content which is what I am trying to show\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aBUPb.png\r\n  [2]: https://i.stack.imgur.com/nbMna.png","title":"Roomdatabase backup file showing roommaster table scribbly text","body":"<p>I have a method in my program that backs up a room database in android studio. When I export the file, it comes out as a .txt file. However in my file, the data is all scribbly and not well structured as shown in the image below. I just want the text file to show only data from the room database table columns.</p>\n<p>My method to backup the room database</p>\n<pre><code>   public void backupDatabase() throws IOException {\n        File backupFile = new File(Environment.getExternalStorageDirectory(), AppDatabase.DATABASE_NAME + &quot;.txt&quot;);\n\n        if (!backupFile.exists()) {\n            try (FileOutputStream outputStream = new FileOutputStream(backupFile)) {\n            }\n        } else {\n            if (!backupFile.canWrite()) {\n                throw new FileNotFoundException(&quot;User does not have permission to write to file &quot; + backupFile.getAbsolutePath());\n            }\n        }\n\n        try (FileInputStream inputStream = new FileInputStream(context.getDatabasePath(AppDatabase.DATABASE_NAME));\n             FileOutputStream outputStream = new FileOutputStream(backupFile)) {\n            byte[] buffer = new byte[1024];\n            int bytesRead;\n            while ((bytesRead = inputStream.read(buffer)) != -1) {\n                outputStream.write(buffer, 0, bytesRead);\n            }\n        }\n\n        Toast.makeText(BackupRestore.this, &quot;Backup is successful to SD card&quot;, Toast.LENGTH_SHORT).show();\n    }\n</code></pre>\n<p>The .txt file does show the database in the middle, but the sqlite format stuff is unnecessary</p>\n<p><a href=\"https://i.stack.imgur.com/aBUPb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aBUPb.png\" alt=\"enter image description here\" /></a></p>\n<p>And this is the database content which is what I am trying to show</p>\n<p><a href=\"https://i.stack.imgur.com/nbMna.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nbMna.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","eclipse","tomcat","log4j"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1694691523,"post_id":77103716,"comment_id":135926152,"body_markdown":"*How* are the dependencies &quot;properly defined&quot;?","body":"<i>How</i> are the dependencies &quot;properly defined&quot;?"},{"owner":{"account_id":5446581,"reputation":626,"user_id":4332916,"accept_rate":55,"display_name":"flixe"},"score":0,"creation_date":1694692443,"post_id":77103716,"comment_id":135926320,"body_markdown":"Well, all the libs im using, including log4j, are situated in my project under WebContent/WEB-INF/lib and all appear in my build path settings unter Web App Libraries. Apart from that, as i said, my app works after cleaning the project - so i guess it cannot be a general problem of my setup...","body":"Well, all the libs im using, including log4j, are situated in my project under WebContent/WEB-INF/lib and all appear in my build path settings unter Web App Libraries. Apart from that, as i said, my app works after cleaning the project - so i guess it cannot be a general problem of my setup..."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1694709308,"post_id":77103716,"comment_id":135930291,"body_markdown":"`ClassNotFoundException` has a message that indicates the **fully qualified** name of the class that is missing. Hence either you have a class `Logger` in the default package (packaged classes can not see it) or you have a missing import statement.","body":"<code>ClassNotFoundException</code> has a message that indicates the <b>fully qualified</b> name of the class that is missing. Hence either you have a class <code>Logger</code> in the default package (packaged classes can not see it) or you have a missing import statement."},{"owner":{"account_id":5446581,"reputation":626,"user_id":4332916,"accept_rate":55,"display_name":"flixe"},"score":0,"creation_date":1695109085,"post_id":77103716,"comment_id":135976467,"body_markdown":"As i said, after cleaning my projects everything works normally. So it cannot be a general problem with my code and of course i do not have any compile errors highlighted by eclipse. The problem looks like something is out of sync with my workspace or with my projects, but i cannot track down what exactly causes the problem.","body":"As i said, after cleaning my projects everything works normally. So it cannot be a general problem with my code and of course i do not have any compile errors highlighted by eclipse. The problem looks like something is out of sync with my workspace or with my projects, but i cannot track down what exactly causes the problem."}],"owner":{"account_id":5446581,"reputation":626,"user_id":4332916,"accept_rate":55,"display_name":"flixe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694684917,"creation_date":1694684917,"question_id":77103716,"body_markdown":"At work i am dreaded to work with eclipse and tomcat and for some time and different eclipse versions i got some seriously annoying issues while developing: When tomcat is running and i change code, even just one line, i have to stop tomcat, clean all projects and start it again. If i don&#39;t clean my projects tomcat refuses to start giving tons of errors like this:\r\n\r\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/MyApp]]\r\n    \tat java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n    \tat java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926)\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/MyApp]]\r\n    \tat org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\r\n    \t... 21 more\r\n    Caused by: java.lang.NoClassDefFoundError: Logger\r\n    \tat java.base/java.lang.Class.getDeclaredFields0(Native Method)\r\n    \tat java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3297)\r\n    \tat java.base/java.lang.Class.getDeclaredFields(Class.java:2371)\r\n    \tat org.apache.catalina.util.Introspection.getDeclaredFields(Introspection.java:104)\r\n    \tat org.apache.catalina.startup.WebAnnotationSet.loadFieldsAnnotation(WebAnnotationSet.java:269)\r\n    \tat org.apache.catalina.startup.WebAnnotationSet.loadApplicationListenerAnnotations(WebAnnotationSet.java:89)\r\n    \tat org.apache.catalina.startup.WebAnnotationSet.loadApplicationAnnotations(WebAnnotationSet.java:67)\r\n    \tat org.apache.catalina.startup.ContextConfig.applicationAnnotationsConfig(ContextConfig.java:332)\r\n    \tat org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:989)\r\n    \tat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:303)\r\n    \tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5135)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \t... 27 more\r\n    Caused by: java.lang.ClassNotFoundException: Logger\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\r\n    \t... 40 more\r\n\r\nIt always refers to a class &quot;Logger&quot; which probably refers to Log4j, which i am using in all of my apps. Of course the dependencies are properly defined in my project, thats why everything works again after cleaning. However i haven&#39;t found anything to this problem on the net and it is bugging me although i tried using different eclipse versions and recrated my workspace.\r\n\r\nDoes anyone have an idea what to do about this?\r\n","title":"Eclipse and Tomcat Deployment: Always have to clean Projects after changing code","body":"<p>At work i am dreaded to work with eclipse and tomcat and for some time and different eclipse versions i got some seriously annoying issues while developing: When tomcat is running and i change code, even just one line, i have to stop tomcat, clean all projects and start it again. If i don't clean my projects tomcat refuses to start giving tons of errors like this:</p>\n<pre><code>java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/MyApp]]\n    at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)\n    at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:926)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:345)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:476)\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/MyApp]]\n    at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:440)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:198)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919)\n    ... 21 more\nCaused by: java.lang.NoClassDefFoundError: Logger\n    at java.base/java.lang.Class.getDeclaredFields0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3297)\n    at java.base/java.lang.Class.getDeclaredFields(Class.java:2371)\n    at org.apache.catalina.util.Introspection.getDeclaredFields(Introspection.java:104)\n    at org.apache.catalina.startup.WebAnnotationSet.loadFieldsAnnotation(WebAnnotationSet.java:269)\n    at org.apache.catalina.startup.WebAnnotationSet.loadApplicationListenerAnnotations(WebAnnotationSet.java:89)\n    at org.apache.catalina.startup.WebAnnotationSet.loadApplicationAnnotations(WebAnnotationSet.java:67)\n    at org.apache.catalina.startup.ContextConfig.applicationAnnotationsConfig(ContextConfig.java:332)\n    at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:989)\n    at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:303)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:123)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5135)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    ... 27 more\nCaused by: java.lang.ClassNotFoundException: Logger\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1412)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1220)\n    ... 40 more\n</code></pre>\n<p>It always refers to a class &quot;Logger&quot; which probably refers to Log4j, which i am using in all of my apps. Of course the dependencies are properly defined in my project, thats why everything works again after cleaning. However i haven't found anything to this problem on the net and it is bugging me although i tried using different eclipse versions and recrated my workspace.</p>\n<p>Does anyone have an idea what to do about this?</p>\n"},{"tags":["java","unicode","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694684736,"creation_date":1378739130,"answer_id":18701335,"question_id":18700995,"body_markdown":"POI has supported Unicode characters in Excel for at least 5 years, maybe longer! (I can&#39;t remember exactly). Almost all the people having problems of late with POI and Unicode turn out to be using versions of POI that slightly pre-date the discovery of fire and the wheel... (I only half joke!)\r\n\r\nFirstly, make sure you are using a recent version of Apache POI. As of September 2013, I&#39;d suggest you try POI 3.10 beta 2, which is the most recent release. You can always find the most recent version on the [POI download page](http://poi.apache.org/download.html).\r\n\r\nSecondly, make sure you&#39;re actually using the version of POI you mean to. Lots of people forget to remove old copies from their classpath, and end up still using a previous release because Java will tend to pick the first jar it comes across if there are two with the same library in. See [this POI FAQ entry](http://poi.apache.org/faq.html#faq-N10006) for how to check what version you&#39;re actually using.\r\n\r\nFinally, just set unicode strings in your file as normal. If you&#39;re using a non-standard font, ensure that it supports the code points you use, but then that&#39;s no different to Excel itself!\r\n\r\nPOI has a number of unit tests which verify automatically that it correctly handles unicode text. See things like [TestUnicodeWorkbook](http://svn.apache.org/repos/asf/poi/trunk/src/testcases/org/apache/poi/hssf/usermodel/TestUnicodeWorkbook.java) and [TextHSSFHeaderFooter](http://svn.apache.org/repos/asf/poi/trunk/src/testcases/org/apache/poi/hssf/usermodel/TestHSSFHeaderFooter.java) if you want to re-assure yourself that it&#39;s working properly.","title":"Apache Poi - Writing Foreign Characters To Excel 97/2003 (i.e. Chinese, Japanese, etc)","body":"<p>POI has supported Unicode characters in Excel for at least 5 years, maybe longer! (I can't remember exactly). Almost all the people having problems of late with POI and Unicode turn out to be using versions of POI that slightly pre-date the discovery of fire and the wheel... (I only half joke!)</p>\n<p>Firstly, make sure you are using a recent version of Apache POI. As of September 2013, I'd suggest you try POI 3.10 beta 2, which is the most recent release. You can always find the most recent version on the <a href=\"http://poi.apache.org/download.html\" rel=\"nofollow noreferrer\">POI download page</a>.</p>\n<p>Secondly, make sure you're actually using the version of POI you mean to. Lots of people forget to remove old copies from their classpath, and end up still using a previous release because Java will tend to pick the first jar it comes across if there are two with the same library in. See <a href=\"http://poi.apache.org/faq.html#faq-N10006\" rel=\"nofollow noreferrer\">this POI FAQ entry</a> for how to check what version you're actually using.</p>\n<p>Finally, just set unicode strings in your file as normal. If you're using a non-standard font, ensure that it supports the code points you use, but then that's no different to Excel itself!</p>\n<p>POI has a number of unit tests which verify automatically that it correctly handles unicode text. See things like <a href=\"http://svn.apache.org/repos/asf/poi/trunk/src/testcases/org/apache/poi/hssf/usermodel/TestUnicodeWorkbook.java\" rel=\"nofollow noreferrer\">TestUnicodeWorkbook</a> and <a href=\"http://svn.apache.org/repos/asf/poi/trunk/src/testcases/org/apache/poi/hssf/usermodel/TestHSSFHeaderFooter.java\" rel=\"nofollow noreferrer\">TextHSSFHeaderFooter</a> if you want to re-assure yourself that it's working properly.</p>\n"}],"owner":{"account_id":1665607,"reputation":123,"user_id":1533072,"display_name":"marothisu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1501,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1694684736,"creation_date":1378738183,"question_id":18700995,"body_markdown":"I am trying to write some foreign character to an Excel 97/2003 file (i.e. Chinese, Japanese, Korean, etc) and am having trouble. I have tried a lot and nothing seems to work. Is it possible? My code for writing this cell is below.\r\n\r\n    HSSFWorkbook workbook = new HSSFWorkbook();\r\n    HSSFSheet sheet = workbook.createSheet(&quot;Sample sheet&quot;);\r\n    ...\r\n\r\n    HSSFRow row = sheet.createRow(0);\r\n    HSSFCell firstCell = row.createCell((short)0);\r\n    HSSFFont theFont = workbook.createFont();\t\t\t\t\t\t\t\t\t   \r\n    theFont.setFontName(&quot;Arial Unicode MS&quot;);\t\t\t\t\t\t\t\t\t\t\t   \r\n    HSSFCellStyle style =  workbook.createCellStyle();\t\t\t\t\t\t\t\t   \r\n    style.setFont(theFont);\r\n    firstCell.setCellStyle(style);\t\t\t\t\t\t\r\n    firstCell.setCellValue(firstColVal);","title":"Apache Poi - Writing Foreign Characters To Excel 97/2003 (i.e. Chinese, Japanese, etc)","body":"<p>I am trying to write some foreign character to an Excel 97/2003 file (i.e. Chinese, Japanese, Korean, etc) and am having trouble. I have tried a lot and nothing seems to work. Is it possible? My code for writing this cell is below.</p>\n\n<pre><code>HSSFWorkbook workbook = new HSSFWorkbook();\nHSSFSheet sheet = workbook.createSheet(\"Sample sheet\");\n...\n\nHSSFRow row = sheet.createRow(0);\nHSSFCell firstCell = row.createCell((short)0);\nHSSFFont theFont = workbook.createFont();                                      \ntheFont.setFontName(\"Arial Unicode MS\");                                               \nHSSFCellStyle style =  workbook.createCellStyle();                                 \nstyle.setFont(theFont);\nfirstCell.setCellStyle(style);                      \nfirstCell.setCellValue(firstColVal);\n</code></pre>\n"},{"tags":["java","android","kotlin","unit-testing","jacoco"],"owner":{"account_id":21456851,"reputation":21,"user_id":15808334,"display_name":"Jay Patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":699,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1694684197,"creation_date":1694684197,"question_id":77103605,"body_markdown":"So i am adding jacoco plugin for code coverage and i am getting this :\r\n\r\nthere is no mention of jvm targer 20 in my whole project , everything is set to jvm target 10 , don&#39;t know that&#39;s happening.\r\n\r\n```\r\n./gradlew testDebugUnitTest\r\nStarting a Gradle Daemon, 1 incompatible and 1 stopped Daemons could not be reused, use --status for details\r\n\r\n&gt; Configure project :app\r\nTask -&gt; testDebugUnitTest\r\nTask -&gt; testReleaseUnitTest\r\n\r\n&gt; Task :app:kaptGenerateStubsDebugKotlin FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:kaptGenerateStubsDebugKotlin&#39;.\r\n&gt; Error while evaluating property &#39;compilerOptions.jvmTarget&#39; of task &#39;:app:kaptGenerateStubsDebugKotlin&#39;.\r\n   &gt; Failed to calculate the value of property &#39;jvmTarget&#39;.\r\n      &gt; Unknown Kotlin JVM target: 20\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 18s\r\n19 actionable tasks: 19 executed\r\n```\r\n\r\njacoco.gradle (Jacoco file with required task and all things)\r\n\r\n```\r\nproject.afterEvaluate { project -&gt;\r\n    setupAndroidReporting()\r\n}\r\n\r\ndef setupAndroidReporting() {\r\n    tasks.withType(Test) {\r\n        // Whether or not classes without source location should be instrumented\r\n        jacoco.includeNoLocationClasses = true\r\n        jacoco.excludes = [&#39;jdk.internal.*&#39;]\r\n    }\r\n\r\n    // Grab all build types and product flavors\r\n    def buildTypes = android.buildTypes.collect { type -&gt;\r\n        type.name\r\n    }\r\n    def productFlavors = android.productFlavors.collect { flavor -&gt;\r\n        flavor.name\r\n    }\r\n    // When no product flavors defined, use empty\r\n    if (!productFlavors) productFlavors.add(&#39;&#39;)\r\n    productFlavors.each { productFlavorName -&gt;\r\n        buildTypes.each { buildTypeName -&gt;\r\n            def sourceName, sourcePath\r\n            if (!productFlavorName) {\r\n                sourceName = sourcePath = &quot;${buildTypeName}&quot;\r\n            } else {\r\n                sourceName = &quot;${productFlavorName}${buildTypeName.capitalize()}&quot;\r\n                sourcePath = &quot;${productFlavorName}/${buildTypeName}&quot;\r\n            }\r\n            def testTaskName = &quot;test${sourceName.capitalize()}UnitTest&quot;\r\n            System.out.println(&quot;Task -&gt; $testTaskName&quot;)\r\n\r\n            // Create coverage task of form &#39;testFlavorTypeCoverage&#39; depending on &#39;testFlavorTypeUnitTest&#39;\r\n            task &quot;${testTaskName}Coverage&quot;(type: JacocoReport, dependsOn: &quot;$testTaskName&quot;) {\r\n                group = &quot;Reporting&quot;\r\n                description = &quot;Generate Jacoco coverage reports on the ${sourceName.capitalize()} build.&quot;\r\n\r\n                def fileFilter = [\r\n                        // data binding\r\n                        &#39;android/databinding/**/*.class&#39;,\r\n                        &#39;**/android/databinding/*Binding.class&#39;,\r\n                        &#39;**/android/databinding/*&#39;,\r\n                        &#39;**/androidx/databinding/*&#39;,\r\n                        &#39;**/BR.*&#39;,\r\n                        // android\r\n                        &#39;**/R.class&#39;,\r\n                        &#39;**/R$*.class&#39;,\r\n                        &#39;**/BuildConfig.*&#39;,\r\n                        &#39;**/Manifest*.*&#39;,\r\n                        &#39;**/*Test*.*&#39;,\r\n                        &#39;android/**/*.*&#39;,\r\n                        // kotlin\r\n                        &#39;**/*MapperImpl*.*&#39;,\r\n                        &#39;**/*$ViewInjector*.*&#39;,\r\n                        &#39;**/*$ViewBinder*.*&#39;,\r\n                        &#39;**/BuildConfig.*&#39;,\r\n                        &#39;**/*Component*.*&#39;,\r\n                        &#39;**/*BR*.*&#39;,\r\n                        &#39;**/Manifest*.*&#39;,\r\n                        &#39;**/*$Lambda$*.*&#39;,\r\n                        &#39;**/*Companion*.*&#39;,\r\n                        &#39;**/*Module*.*&#39;,\r\n                        &#39;**/*Dagger*.*&#39;,\r\n                        &#39;**/*Hilt*.*&#39;,\r\n                        &#39;**/*MembersInjector*.*&#39;,\r\n                        &#39;**/*_MembersInjector.class&#39;,\r\n                        &#39;**/*_Factory*.*&#39;,\r\n                        &#39;**/*_Provide*Factory*.*&#39;,\r\n                        &#39;**/*Extensions*.*&#39;,\r\n                        // sealed and data classes\r\n                        &#39;**/*$Result.*&#39;,\r\n                        &#39;**/*$Result$*.*&#39;,\r\n                        // adapters generated by moshi\r\n                        &#39;**/*JsonAdapter.*&#39;,\r\n                ]\r\n\r\n                def javaTree = fileTree(dir: &quot;${project.buildDir}/intermediates/javac/$sourceName/classes&quot;, excludes: fileFilter)\r\n                def kotlinTree = fileTree(dir: &quot;${project.buildDir}/tmp/kotlin-classes/$sourceName&quot;, excludes: fileFilter)\r\n                classDirectories.from = files([javaTree], [kotlinTree])\r\n                executionData.from = files(&quot;${project.buildDir}/jacoco/${testTaskName}.exec&quot;)\r\n                def coverageSourceDirs = [&quot;src/main/java&quot;,\r\n                                          &quot;src/$productFlavorName/java&quot;,\r\n                                          &quot;src/$buildTypeName/java&quot;]\r\n\r\n                sourceDirectories.setFrom(files(coverageSourceDirs))\r\n                additionalSourceDirs.setFrom(files(coverageSourceDirs))\r\n\r\n                reports {\r\n                    /*csv.enabled false // change if needed\r\n                    xml.enabled false // change if needed\r\n                    html {\r\n                        enabled true\r\n                        destination file(&quot;${buildDir}/coverage-report&quot;)\r\n                    }*/\r\n                    xml.required.set(false)\r\n                    csv.required.set(false)\r\n                    html.required.set(true)\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nandroid {\r\n    buildTypes {\r\n        debug {\r\n            testCoverageEnabled true\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nbuild.gradle (app): module level gradle file in which there is jvm target and jvm compaibilty version are set to 17.\r\n\r\n```\r\napply from: &quot;$project.rootDir/jacoco.gradle&quot;\r\n\r\nandroid {\r\n    namespace &#39;cc.mekanism.chatconcept&#39;\r\n    compileSdk 33\r\n\r\n    packagingOptions {\r\n        resources.excludes.add(&quot;META-INF/LICENSE.md&quot;)\r\n        resources.excludes.add(&quot;META-INF/LICENSE-notice.md&quot;)\r\n    }\r\n\r\n    defaultConfig {\r\n        applicationId &quot;cc.mekanism.chatconcept&quot;\r\n        minSdk 24\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;cc.mekanism.chatconcept.CustomTestRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_17\r\n        targetCompatibility JavaVersion.VERSION_17\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;17&#39;\r\n        freeCompilerArgs = [&#39;-Xjvm-default=compatibility&#39;]\r\n    }\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n    sourceSets {\r\n        main {\r\n            java {\r\n                srcDirs += &#39;build/generated/source/navigation-args&#39;\r\n            }\r\n        }\r\n    }\r\n    kapt {\r\n        correctErrorTypes true\r\n    }\r\n    testOptions{\r\n        unitTests.returnDefaultValues = true\r\n    }\r\n}\r\n```\r\n\r\ntried changin jacoco plugin to lower version but facing same error.","title":"Getting Error: Unknown Kotlin JVM target: 20 in jacoco plugin","body":"<p>So i am adding jacoco plugin for code coverage and i am getting this :</p>\n<p>there is no mention of jvm targer 20 in my whole project , everything is set to jvm target 10 , don't know that's happening.</p>\n<pre><code>./gradlew testDebugUnitTest\nStarting a Gradle Daemon, 1 incompatible and 1 stopped Daemons could not be reused, use --status for details\n\n&gt; Configure project :app\nTask -&gt; testDebugUnitTest\nTask -&gt; testReleaseUnitTest\n\n&gt; Task :app:kaptGenerateStubsDebugKotlin FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:kaptGenerateStubsDebugKotlin'.\n&gt; Error while evaluating property 'compilerOptions.jvmTarget' of task ':app:kaptGenerateStubsDebugKotlin'.\n   &gt; Failed to calculate the value of property 'jvmTarget'.\n      &gt; Unknown Kotlin JVM target: 20\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 18s\n19 actionable tasks: 19 executed\n</code></pre>\n<p>jacoco.gradle (Jacoco file with required task and all things)</p>\n<pre><code>project.afterEvaluate { project -&gt;\n    setupAndroidReporting()\n}\n\ndef setupAndroidReporting() {\n    tasks.withType(Test) {\n        // Whether or not classes without source location should be instrumented\n        jacoco.includeNoLocationClasses = true\n        jacoco.excludes = ['jdk.internal.*']\n    }\n\n    // Grab all build types and product flavors\n    def buildTypes = android.buildTypes.collect { type -&gt;\n        type.name\n    }\n    def productFlavors = android.productFlavors.collect { flavor -&gt;\n        flavor.name\n    }\n    // When no product flavors defined, use empty\n    if (!productFlavors) productFlavors.add('')\n    productFlavors.each { productFlavorName -&gt;\n        buildTypes.each { buildTypeName -&gt;\n            def sourceName, sourcePath\n            if (!productFlavorName) {\n                sourceName = sourcePath = &quot;${buildTypeName}&quot;\n            } else {\n                sourceName = &quot;${productFlavorName}${buildTypeName.capitalize()}&quot;\n                sourcePath = &quot;${productFlavorName}/${buildTypeName}&quot;\n            }\n            def testTaskName = &quot;test${sourceName.capitalize()}UnitTest&quot;\n            System.out.println(&quot;Task -&gt; $testTaskName&quot;)\n\n            // Create coverage task of form 'testFlavorTypeCoverage' depending on 'testFlavorTypeUnitTest'\n            task &quot;${testTaskName}Coverage&quot;(type: JacocoReport, dependsOn: &quot;$testTaskName&quot;) {\n                group = &quot;Reporting&quot;\n                description = &quot;Generate Jacoco coverage reports on the ${sourceName.capitalize()} build.&quot;\n\n                def fileFilter = [\n                        // data binding\n                        'android/databinding/**/*.class',\n                        '**/android/databinding/*Binding.class',\n                        '**/android/databinding/*',\n                        '**/androidx/databinding/*',\n                        '**/BR.*',\n                        // android\n                        '**/R.class',\n                        '**/R$*.class',\n                        '**/BuildConfig.*',\n                        '**/Manifest*.*',\n                        '**/*Test*.*',\n                        'android/**/*.*',\n                        // kotlin\n                        '**/*MapperImpl*.*',\n                        '**/*$ViewInjector*.*',\n                        '**/*$ViewBinder*.*',\n                        '**/BuildConfig.*',\n                        '**/*Component*.*',\n                        '**/*BR*.*',\n                        '**/Manifest*.*',\n                        '**/*$Lambda$*.*',\n                        '**/*Companion*.*',\n                        '**/*Module*.*',\n                        '**/*Dagger*.*',\n                        '**/*Hilt*.*',\n                        '**/*MembersInjector*.*',\n                        '**/*_MembersInjector.class',\n                        '**/*_Factory*.*',\n                        '**/*_Provide*Factory*.*',\n                        '**/*Extensions*.*',\n                        // sealed and data classes\n                        '**/*$Result.*',\n                        '**/*$Result$*.*',\n                        // adapters generated by moshi\n                        '**/*JsonAdapter.*',\n                ]\n\n                def javaTree = fileTree(dir: &quot;${project.buildDir}/intermediates/javac/$sourceName/classes&quot;, excludes: fileFilter)\n                def kotlinTree = fileTree(dir: &quot;${project.buildDir}/tmp/kotlin-classes/$sourceName&quot;, excludes: fileFilter)\n                classDirectories.from = files([javaTree], [kotlinTree])\n                executionData.from = files(&quot;${project.buildDir}/jacoco/${testTaskName}.exec&quot;)\n                def coverageSourceDirs = [&quot;src/main/java&quot;,\n                                          &quot;src/$productFlavorName/java&quot;,\n                                          &quot;src/$buildTypeName/java&quot;]\n\n                sourceDirectories.setFrom(files(coverageSourceDirs))\n                additionalSourceDirs.setFrom(files(coverageSourceDirs))\n\n                reports {\n                    /*csv.enabled false // change if needed\n                    xml.enabled false // change if needed\n                    html {\n                        enabled true\n                        destination file(&quot;${buildDir}/coverage-report&quot;)\n                    }*/\n                    xml.required.set(false)\n                    csv.required.set(false)\n                    html.required.set(true)\n                }\n            }\n        }\n    }\n}\n\nandroid {\n    buildTypes {\n        debug {\n            testCoverageEnabled true\n        }\n    }\n}\n</code></pre>\n<p>build.gradle (app): module level gradle file in which there is jvm target and jvm compaibilty version are set to 17.</p>\n<pre><code>apply from: &quot;$project.rootDir/jacoco.gradle&quot;\n\nandroid {\n    namespace 'cc.mekanism.chatconcept'\n    compileSdk 33\n\n    packagingOptions {\n        resources.excludes.add(&quot;META-INF/LICENSE.md&quot;)\n        resources.excludes.add(&quot;META-INF/LICENSE-notice.md&quot;)\n    }\n\n    defaultConfig {\n        applicationId &quot;cc.mekanism.chatconcept&quot;\n        minSdk 24\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;cc.mekanism.chatconcept.CustomTestRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_17\n        targetCompatibility JavaVersion.VERSION_17\n    }\n    kotlinOptions {\n        jvmTarget = '17'\n        freeCompilerArgs = ['-Xjvm-default=compatibility']\n    }\n    buildFeatures {\n        viewBinding true\n    }\n    sourceSets {\n        main {\n            java {\n                srcDirs += 'build/generated/source/navigation-args'\n            }\n        }\n    }\n    kapt {\n        correctErrorTypes true\n    }\n    testOptions{\n        unitTests.returnDefaultValues = true\n    }\n}\n</code></pre>\n<p>tried changin jacoco plugin to lower version but facing same error.</p>\n"},{"tags":["java","rest","openapi","dto"],"owner":{"account_id":1689986,"reputation":1262,"user_id":1552545,"accept_rate":72,"display_name":"user1552545"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1694683631,"creation_date":1694682331,"question_id":77103359,"body_markdown":"OpenApi genereates only used DTO-s in my project. How can I generate unused DTO-s?\r\nE.g.: I have the following configuration. My problem is that BDto is not generated.\r\n\r\n    myMethod:\r\n\t  get:\r\n\t\toperationId: myMethod\r\n\t\tparameters:\r\n\t\t\t- name: id\r\n\t\t\t  in: path\r\n\t\t\t  required: true\r\n\t\t\t  schema:\r\n\t\t\t\ttype: integer\r\n\t\t\t\tformat: int64\r\n\t\tresponses:\r\n\t\t  &#39;200&#39;:\r\n\t\t\tdescription: OK\r\n\t\t\tcontent:\r\n\t\t\t  application/json:\r\n\t\t\t\tschema:\r\n\t\t\t\t  type: array\r\n\t\t\t\t  items:\r\n\t\t\t\t\t$ref: &#39;#/components/schemas/ADto&#39;\r\n\t\t  default:\r\n\t\t\t$ref: &#39;../common/response.yaml#/components/responses/UnexpectedError&#39;\r\n\t\ttags:\r\n\t\t  - my-controller\r\n\tcomponents:\r\n\t  schemas:\r\n\t\tADto:\r\n\t\t  type: object\r\n\t\t  properties:\r\n\t\t\tid:\r\n\t\t\t  type: integer\r\n\t\t\t  format: int64\r\n\t\t  discriminator:\r\n\t\t\tpropertyName: discriminator\r\n\r\n\t\tBDto:\r\n\t\t  type: object\r\n\t\t  allOf:\r\n\t\t\t- $ref: &#39;#/components/schemas/ADto&#39;\r\n\t\t\t- type: object\r\n\t\t\t  properties:\r\n\t\t\t\tvalue:\r\n\t\t\t\t  type: number\r\n\t\t\t\t  format: double\r\n","title":"Generate unused model classes with openapi","body":"<p>OpenApi genereates only used DTO-s in my project. How can I generate unused DTO-s?\nE.g.: I have the following configuration. My problem is that BDto is not generated.</p>\n<pre><code>myMethod:\n  get:\n    operationId: myMethod\n    parameters:\n        - name: id\n          in: path\n          required: true\n          schema:\n            type: integer\n            format: int64\n    responses:\n      '200':\n        description: OK\n        content:\n          application/json:\n            schema:\n              type: array\n              items:\n                $ref: '#/components/schemas/ADto'\n      default:\n        $ref: '../common/response.yaml#/components/responses/UnexpectedError'\n    tags:\n      - my-controller\ncomponents:\n  schemas:\n    ADto:\n      type: object\n      properties:\n        id:\n          type: integer\n          format: int64\n      discriminator:\n        propertyName: discriminator\n\n    BDto:\n      type: object\n      allOf:\n        - $ref: '#/components/schemas/ADto'\n        - type: object\n          properties:\n            value:\n              type: number\n              format: double\n</code></pre>\n"},{"tags":["java","htmlunit"],"comments":[{"owner":{"account_id":1434179,"reputation":5113,"user_id":1355930,"display_name":"Ashley Frieze"},"score":0,"creation_date":1420409052,"post_id":27770598,"comment_id":43952679,"body_markdown":"Have you checked whether the mkdir function returns successfully and whether it actually creates that folder?","body":"Have you checked whether the mkdir function returns successfully and whether it actually creates that folder?"},{"owner":{"account_id":2728781,"reputation":193,"user_id":2353055,"display_name":"SidML"},"score":0,"creation_date":1420409155,"post_id":27770598,"comment_id":43952727,"body_markdown":"Yes, the directory exists as I checked with the line: System.out.println(file.isDirectory()+&quot;/&quot;+file.canWrite());","body":"Yes, the directory exists as I checked with the line: System.out.println(file.isDirectory()+&quot;/&quot;+file.canWrite());"}],"answers":[{"tags":[],"owner":{"account_id":16209077,"reputation":389,"user_id":11703579,"display_name":"gbossa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675766945,"creation_date":1675766945,"answer_id":75372293,"question_id":27770598,"body_markdown":"I know this question is years ago but, I faced a similar problem and resolved, so I thought I could answer it to help somebody.\r\n\r\nFirst of all, if using `HtmlUnit`, there is [this github thread which may help][1].\r\nI was using `HtmlUnit` version 2.67, and the solution mentioned there, didn&#180;t work for me. So, I installed `Selenium 4.7.2` dependency in my project.\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.7.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nThen, i did this (this code is specific for my purposes, but it has some similarities with the one in the question):\r\n\r\n    URL url;\r\n\t\ttry {\r\n\t\t\turl = new URL(&quot;URL that I needed to get Input Stream From...&quot;);\r\n\t\t} catch (Exception e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t    HttpRequest req = new HttpRequest(org.openqa.selenium.remote.http.HttpMethod.GET, url.toString());\r\n\t    req.setHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\r\n\t    HttpResponse responseSel = null;\r\n\t    \r\n\t    HttpClient client = HttpClient.Factory.createDefault().createClient(url);\r\n\t    responseSel = client.execute(req);\r\n\t    if (responseSel != null &amp;&amp; responseSel.getStatus() == 200)\r\n\t    \treturn responseSel.getContent().get();\r\n\t    return null;\r\n\r\n\r\nThat&#39;s it. Hope it helps.\r\n\r\n  [1]: https://github.com/HtmlUnit/htmlunit/issues/182","title":"HTMLUnit temp files not found","body":"<p>I know this question is years ago but, I faced a similar problem and resolved, so I thought I could answer it to help somebody.</p>\n<p>First of all, if using <code>HtmlUnit</code>, there is <a href=\"https://github.com/HtmlUnit/htmlunit/issues/182\" rel=\"nofollow noreferrer\">this github thread which may help</a>.\nI was using <code>HtmlUnit</code> version 2.67, and the solution mentioned there, didn´t work for me. So, I installed <code>Selenium 4.7.2</code> dependency in my project.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;4.7.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then, i did this (this code is specific for my purposes, but it has some similarities with the one in the question):</p>\n<pre><code>URL url;\n    try {\n        url = new URL(&quot;URL that I needed to get Input Stream From...&quot;);\n    } catch (Exception e) {\n        return null;\n    }\n\n    HttpRequest req = new HttpRequest(org.openqa.selenium.remote.http.HttpMethod.GET, url.toString());\n    req.setHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + token);\n    HttpResponse responseSel = null;\n    \n    HttpClient client = HttpClient.Factory.createDefault().createClient(url);\n    responseSel = client.execute(req);\n    if (responseSel != null &amp;&amp; responseSel.getStatus() == 200)\n        return responseSel.getContent().get();\n    return null;\n</code></pre>\n<p>That's it. Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":1195103,"reputation":166,"user_id":1167010,"display_name":"madalex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694683118,"creation_date":1694683118,"answer_id":77103462,"question_id":27770598,"body_markdown":"HTMLUnit saves the content of a response to a tmp file if it exceeds 500KB. I have increased this to 50MB and i no longer get the tmp file not found errors:\r\n\r\n    webClient.getOptions.setMaxInMemory(50000 * 1024)\r\n\r\nAlso the documentation of setMaxInMemory states to set it to 0 or -1 to disable this tmp saving but it did not work for me. Also looking at the implementation, it does not seem to check for this 0 or -1 value.","title":"HTMLUnit temp files not found","body":"<p>HTMLUnit saves the content of a response to a tmp file if it exceeds 500KB. I have increased this to 50MB and i no longer get the tmp file not found errors:</p>\n<pre><code>webClient.getOptions.setMaxInMemory(50000 * 1024)\n</code></pre>\n<p>Also the documentation of setMaxInMemory states to set it to 0 or -1 to disable this tmp saving but it did not work for me. Also looking at the implementation, it does not seem to check for this 0 or -1 value.</p>\n"}],"owner":{"account_id":2728781,"reputation":193,"user_id":2353055,"display_name":"SidML"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":617,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1694683118,"creation_date":1420407275,"question_id":27770598,"body_markdown":"I am using this code to read from an URL and the code is giving me this error: \r\n\r\n&lt;pre&gt;Exception in thread &quot;main&quot; java.io.FileNotFoundException: C:\\Work\\Projects\\WikipediaTemplate\\codes\\Sweble\\WikipediaTemplateGenerator\\tempFiles\\htmlunit2229583992082609160.tmp (The system cannot find the file specified)\r\n\tat java.io.FileInputStream.open(Native Method)\r\n\tat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\r\n\tat com.gargoylesoftware.htmlunit.DownloadedContent$OnFile.getInputStream(DownloadedContent.java:81)\r\n\tat com.gargoylesoftware.htmlunit.WebResponseData.getStream(WebResponseData.java:91)\r\n\tat com.gargoylesoftware.htmlunit.WebResponseData.getInputStream(WebResponseData.java:156)\r\n\tat com.gargoylesoftware.htmlunit.WebResponse.getContentAsStream(WebResponse.java:241)\r\n\tat com.gargoylesoftware.htmlunit.util.WebResponseWrapper.getContentAsStream(WebResponseWrapper.java:58)\r\n\tat com.gargoylesoftware.htmlunit.DefaultPageCreator.createPage(DefaultPageCreator.java:150)\r\n\tat com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:468)\r\n\tat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:342)\r\n\tat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:407)\r\n\tat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:392)\r\n\tat etc.TestWebClient.main(TestWebClient.java:64)&lt;/pre&gt;\r\n\r\n\r\nI am using HTMLUnit 2.15. \r\n\r\nThe code is:\r\n\r\n\tpublic static void main(String[] args) throws FailingHttpStatusCodeException, MalformedURLException, IOException {\r\n\t\tFile file=new File(&quot;tempFiles&quot;);\r\n\t\tfile.mkdir();\r\n\t\tSystem.setProperty(&quot;java.io.tmpdir&quot;, file.getCanonicalPath());;\r\n\t\tString url=&quot;http://www.nhs.uk/conditions/Norovirus/Pages/Introduction.aspx&quot;;\r\n\r\n\t\tWebClient webClient = new WebClient(BrowserVersion.CHROME);\r\n\t\twebClient.getOptions().setJavaScriptEnabled(false);\r\n\t\twebClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\r\n\t\twebClient.getOptions().setThrowExceptionOnScriptError(false);\r\n\r\n\t\twebClient.getOptions().setTimeout(120000);\r\n\t\twebClient.getOptions().setUseInsecureSSL(true);\r\n\t\tList&lt;String&gt; urlVisited=new ArrayList&lt;String&gt;();\r\n\t\tSystem.err.println(&quot;URL Link:&quot;+url);\r\n\r\n\t\tint status =0;\r\n\t\tstatus=webClient.getPage(url).getWebResponse()\r\n\t\t\t\t.getStatusCode();\r\n\r\n\t\tSystem.out.println(&quot;Web response status:&quot;+status);\r\n\t\t//webClient.getOptions().setJavaScriptEnabled(false);\r\n\t\tString directory=&quot;&quot;;\r\n\t\r\n        LinkOption options = null;\r\n\t\t//Files.getOwner(file.toPath(), options);\r\n        System.out.println(file.isDirectory()+&quot;/&quot;+file.canWrite());\r\n       // boolean bval = file.setWritable(true,false);\r\n        String currentDirectory = System.getProperty(&quot;user.dir&quot;);\r\n        System.out.println(currentDirectory);\r\n        //System.out.println(bval);\r\n        Page rawpage = webClient.getPage(url);\r\n\t}\r\n","title":"HTMLUnit temp files not found","body":"<p>I am using this code to read from an URL and the code is giving me this error: </p>\n\n<pre>Exception in thread \"main\" java.io.FileNotFoundException: C:\\Work\\Projects\\WikipediaTemplate\\codes\\Sweble\\WikipediaTemplateGenerator\\tempFiles\\htmlunit2229583992082609160.tmp (The system cannot find the file specified)\n    at java.io.FileInputStream.open(Native Method)\n    at java.io.FileInputStream.(FileInputStream.java:138)\n    at com.gargoylesoftware.htmlunit.DownloadedContent$OnFile.getInputStream(DownloadedContent.java:81)\n    at com.gargoylesoftware.htmlunit.WebResponseData.getStream(WebResponseData.java:91)\n    at com.gargoylesoftware.htmlunit.WebResponseData.getInputStream(WebResponseData.java:156)\n    at com.gargoylesoftware.htmlunit.WebResponse.getContentAsStream(WebResponse.java:241)\n    at com.gargoylesoftware.htmlunit.util.WebResponseWrapper.getContentAsStream(WebResponseWrapper.java:58)\n    at com.gargoylesoftware.htmlunit.DefaultPageCreator.createPage(DefaultPageCreator.java:150)\n    at com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:468)\n    at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:342)\n    at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:407)\n    at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:392)\n    at etc.TestWebClient.main(TestWebClient.java:64)</pre>\n\n<p>I am using HTMLUnit 2.15. </p>\n\n<p>The code is:</p>\n\n<pre><code>public static void main(String[] args) throws FailingHttpStatusCodeException, MalformedURLException, IOException {\n    File file=new File(\"tempFiles\");\n    file.mkdir();\n    System.setProperty(\"java.io.tmpdir\", file.getCanonicalPath());;\n    String url=\"http://www.nhs.uk/conditions/Norovirus/Pages/Introduction.aspx\";\n\n    WebClient webClient = new WebClient(BrowserVersion.CHROME);\n    webClient.getOptions().setJavaScriptEnabled(false);\n    webClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\n    webClient.getOptions().setThrowExceptionOnScriptError(false);\n\n    webClient.getOptions().setTimeout(120000);\n    webClient.getOptions().setUseInsecureSSL(true);\n    List&lt;String&gt; urlVisited=new ArrayList&lt;String&gt;();\n    System.err.println(\"URL Link:\"+url);\n\n    int status =0;\n    status=webClient.getPage(url).getWebResponse()\n            .getStatusCode();\n\n    System.out.println(\"Web response status:\"+status);\n    //webClient.getOptions().setJavaScriptEnabled(false);\n    String directory=\"\";\n\n    LinkOption options = null;\n    //Files.getOwner(file.toPath(), options);\n    System.out.println(file.isDirectory()+\"/\"+file.canWrite());\n   // boolean bval = file.setWritable(true,false);\n    String currentDirectory = System.getProperty(\"user.dir\");\n    System.out.println(currentDirectory);\n    //System.out.println(bval);\n    Page rawpage = webClient.getPage(url);\n}\n</code></pre>\n"},{"tags":["java","quarkus","truststore","jakarta-migration"],"comments":[{"owner":{"display_name":"user22554701"},"score":0,"creation_date":1694721941,"post_id":77100900,"comment_id":135932493,"body_markdown":"Because when i execute the jar with this configurations in the command line -Djavax.net.ssl.trustStore(also with the pass config) i can send the request because the certificate is configured correctly, but in my other project(with the same dependencies) when i try to execute the jar with those configs &quot;-Djavax&quot; i get an error :   PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target. and if i change with the &quot;-Djakarta&quot; suffix this error be canceled.","body":"Because when i execute the jar with this configurations in the command line -Djavax.net.ssl.trustStore(also with the pass config) i can send the request because the certificate is configured correctly, but in my other project(with the same dependencies) when i try to execute the jar with those configs &quot;-Djavax&quot; i get an error :   PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target. and if i change with the &quot;-Djakarta&quot; suffix this error be canceled."},{"owner":{"display_name":"user22554701"},"score":0,"creation_date":1694722002,"post_id":77100900,"comment_id":135932504,"body_markdown":"I don’t understand why I have to use jakarta instead of javax, which in the other project I use javax without problems","body":"I don’t understand why I have to use jakarta instead of javax, which in the other project I use javax without problems"}],"owner":{"display_name":"user22554701"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694682885,"creation_date":1694645202,"question_id":77100900,"body_markdown":"I am trying to configure a project with Quarkus 3.0.2.Final, java11 but I am experiencing problems with system variables.\r\nin other projects I can configure the &quot;-Djavax.net.ssl.trustStore&quot; and I can properly configure the trustStore (with the right password) but then when I try to configure a project with the same dependencies I have to use the &quot;-Djakarta.net.ssl.trustStore&quot;(otherwise gives me error).  I have to use the -Djavax because I have a Docker base image that configures this parameter.\r\n[these are my dependencies](https://i.stack.imgur.com/lBtS9.png)\r\n\r\nany idea why I am encountering this error ?\r\nThank you.\r\n\r\n\r\nI expect to configure with &quot;-Djavax&quot; and not with &quot;-Djakarta&quot;","title":"Error in &quot;-Djavax.net.ssl.trustStore&quot; and &quot;-Djakarta.net.ssl.trustStore&quot;","body":"<p>I am trying to configure a project with Quarkus 3.0.2.Final, java11 but I am experiencing problems with system variables.\nin other projects I can configure the &quot;-Djavax.net.ssl.trustStore&quot; and I can properly configure the trustStore (with the right password) but then when I try to configure a project with the same dependencies I have to use the &quot;-Djakarta.net.ssl.trustStore&quot;(otherwise gives me error).  I have to use the -Djavax because I have a Docker base image that configures this parameter.\n<a href=\"https://i.stack.imgur.com/lBtS9.png\" rel=\"nofollow noreferrer\">these are my dependencies</a></p>\n<p>any idea why I am encountering this error ?\nThank you.</p>\n<p>I expect to configure with &quot;-Djavax&quot; and not with &quot;-Djakarta&quot;</p>\n"},{"tags":["java","unit-testing","junit","junit5","partial-classes"],"comments":[{"owner":{"account_id":239789,"reputation":29807,"user_id":509627,"accept_rate":63,"display_name":"David Thielen"},"score":0,"creation_date":1515938237,"post_id":48250295,"comment_id":83483100,"body_markdown":"I did a search and could not find this here, although I&#39;m guessing it&#39;s been asked before.","body":"I did a search and could not find this here, although I&#39;m guessing it&#39;s been asked before."},{"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"score":0,"creation_date":1515938477,"post_id":48250295,"comment_id":83483158,"body_markdown":"No, there&#39;s not partial classes in Java. Although you can use some sort of aggregation to achieve similar benefits/functionality.","body":"No, there&#39;s not partial classes in Java. Although you can use some sort of aggregation to achieve similar benefits/functionality."},{"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"score":2,"creation_date":1515938527,"post_id":48250295,"comment_id":83483174,"body_markdown":"Any reason not to just have them as classes in the same package? (By the way, a class file that&#39;s 4000 lines long, is about 3800 lines TOO LONG)","body":"Any reason not to just have them as classes in the same package? (By the way, a class file that&#39;s 4000 lines long, is about 3800 lines TOO LONG)"},{"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":1,"creation_date":1515938710,"post_id":48250295,"comment_id":83483221,"body_markdown":"Are the classes static, or do they use some of the &quot;lots of methods&quot; in a 4000-line class?","body":"Are the classes static, or do they use some of the &quot;lots of methods&quot; in a 4000-line class?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1515938919,"post_id":48250295,"comment_id":83483274,"body_markdown":"Put this class and all of the child classes in a separate package, then give the child classes package-private visibility.","body":"Put this class and all of the child classes in a separate package, then give the child classes package-private visibility."},{"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1515939131,"post_id":48250295,"comment_id":83483330,"body_markdown":"By &quot;child&quot; classes, you mean nested classes, right? I would suggest editing the question to indicate that, as otherwise &quot;child&quot; sounds like &quot;subclass&quot;. But no, you can&#39;t write nested classes in a different source file.","body":"By &quot;child&quot; classes, you mean nested classes, right? I would suggest editing the question to indicate that, as otherwise &quot;child&quot; sounds like &quot;subclass&quot;. But no, you can&#39;t write nested classes in a different source file."},{"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1515939320,"post_id":48250295,"comment_id":83483372,"body_markdown":"@Stewart: I don&#39;t think it&#39;s a good idea to put arbitrary limits on the lengths of classes. Without context, we really can&#39;t know whether that&#39;s too much or not. You&#39;ll find plenty of types that are about a thousand lines long in https://github.com/nodatime/nodatime/tree/master/src/NodaTime, but I generally don&#39;t feel they&#39;re too large. If you&#39;ve got a fair number of methods, each of which has significant amounts of documentation, it can easily mount up.","body":"@Stewart: I don&#39;t think it&#39;s a good idea to put arbitrary limits on the lengths of classes. Without context, we really can&#39;t know whether that&#39;s too much or not. You&#39;ll find plenty of types that are about a thousand lines long in <a href=\"https://github.com/nodatime/nodatime/tree/master/src/NodaTime\" rel=\"nofollow noreferrer\">github.com/nodatime/nodatime/tree/master/src/NodaTime</a>, but I generally don&#39;t feel they&#39;re too large. If you&#39;ve got a fair number of methods, each of which has significant amounts of documentation, it can easily mount up."},{"owner":{"account_id":239789,"reputation":29807,"user_id":509627,"accept_rate":63,"display_name":"David Thielen"},"score":0,"creation_date":1515940517,"post_id":48250295,"comment_id":83483699,"body_markdown":"@dasblinkenlight - it&#39;s a ton of static classes, most of them under 10 lines of code.","body":"@dasblinkenlight - it&#39;s a ton of static classes, most of them under 10 lines of code."},{"owner":{"account_id":239789,"reputation":29807,"user_id":509627,"accept_rate":63,"display_name":"David Thielen"},"score":0,"creation_date":1515940918,"post_id":48250295,"comment_id":83483812,"body_markdown":"@Stewart - This is code that parses a very complex XML file turning it into an internal object. We have a nested class for every node type to process that node. And we have a ton of utility methods so we don&#39;t have duplicate code across all those nested classes. This would be a complex mess if we tried to reduce the main handler down to a bunch of 200 line classes. As to the second file, yes it&#39;s a ton of distinct classes but all in one file so we don&#39;t have 200 source files (also a mess).","body":"@Stewart - This is code that parses a very complex XML file turning it into an internal object. We have a nested class for every node type to process that node. And we have a ton of utility methods so we don&#39;t have duplicate code across all those nested classes. This would be a complex mess if we tried to reduce the main handler down to a bunch of 200 line classes. As to the second file, yes it&#39;s a ton of distinct classes but all in one file so we don&#39;t have 200 source files (also a mess)."},{"owner":{"account_id":239789,"reputation":29807,"user_id":509627,"accept_rate":63,"display_name":"David Thielen"},"score":0,"creation_date":1515941028,"post_id":48250295,"comment_id":83483836,"body_markdown":"@AndyTurner - I don&#39;t think the package-private gives me anything. The default visibility is a bit more restrictive than that and it works fine. The separate folder might help, need to think that through. Thanks.","body":"@AndyTurner - I don&#39;t think the package-private gives me anything. The default visibility is a bit more restrictive than that and it works fine. The separate folder might help, need to think that through. Thanks."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1515941307,"post_id":48250295,"comment_id":83483938,"body_markdown":"@David default visibility *is* package private. What do you mean?","body":"@David default visibility <i>is</i> package private. What do you mean?"},{"owner":{"account_id":239789,"reputation":29807,"user_id":509627,"accept_rate":63,"display_name":"David Thielen"},"score":0,"creation_date":1515942640,"post_id":48250295,"comment_id":83484288,"body_markdown":"@AndyTurner - sorry, right. I bounce between JavaScript, C# and Java so much I get them conflated at times","body":"@AndyTurner - sorry, right. I bounce between JavaScript, C# and Java so much I get them conflated at times"},{"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"score":0,"creation_date":1515952995,"post_id":48250295,"comment_id":83487473,"body_markdown":"@DavidThielen  If you have a ton of utility methods, sounds like at least they should go in a class of their own.","body":"@DavidThielen  If you have a ton of utility methods, sounds like at least they should go in a class of their own."}],"answers":[{"tags":[],"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1515940696,"creation_date":1515939879,"answer_id":48250523,"question_id":48250295,"body_markdown":"You can&#39;t make a class private to only another class while putting it in a different file.\n\n## Use no class access modifier\n\nWhat you can do is put the classes in separate files with no access modifiers (omit &quot;public&quot;), which will make them package-private, i.e. visible only within its own package. See also [the official Access Control tutorial](https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html).\n\nUtilClasses.java:\n\n    package OurPackage;\n\n    class UtilClass1\n    {\n    }\n    class UtilClass2\n    {\n    }\n\nMainClass.java:\n\n    package OurPackage;\n\n    public class MainClass\n    {\n       UtilClass1 iAmAUtilClass;\n    }\n\n---\n\n## Use interfaces or inheritance\n\nYou can also achieve something similar with either interfaces or inheritance, by omitting the access modifier from the nested class. This would also be package-private, but this might be preferable to the above in some circumstances, since it avoids having all the nested classes at the top level.\n\nBaseInterface.java:\n\n    package OurPackage;\n\n    interface BaseInterface\n    {\n       class UtilClass1\n       {\n       }\n    }\n\nMainClass.java:\n\n    package OurPackage;\n\n    public class MainClass implements BaseInterface\n    {\n       UtilClass1 iAmAUtilClass;\n    }\n\nYou can also use a base class instead of an interface and extend that with roughly the same effect.\n\nYou don&#39;t need to implement `BaseInterface` gain access to its nested classes, but, if you don&#39;t, you&#39;d need to use `BaseClass.UtilClass1` instead of just `UtilClass1`.\n","title":"Is there a way to put nested classes in a separate file?","body":"<p>You can't make a class private to only another class while putting it in a different file.</p>\n<h2>Use no class access modifier</h2>\n<p>What you can do is put the classes in separate files with no access modifiers (omit &quot;public&quot;), which will make them package-private, i.e. visible only within its own package. See also <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"nofollow noreferrer\">the official Access Control tutorial</a>.</p>\n<p>UtilClasses.java:</p>\n<pre><code>package OurPackage;\n\nclass UtilClass1\n{\n}\nclass UtilClass2\n{\n}\n</code></pre>\n<p>MainClass.java:</p>\n<pre><code>package OurPackage;\n\npublic class MainClass\n{\n   UtilClass1 iAmAUtilClass;\n}\n</code></pre>\n<hr />\n<h2>Use interfaces or inheritance</h2>\n<p>You can also achieve something similar with either interfaces or inheritance, by omitting the access modifier from the nested class. This would also be package-private, but this might be preferable to the above in some circumstances, since it avoids having all the nested classes at the top level.</p>\n<p>BaseInterface.java:</p>\n<pre><code>package OurPackage;\n\ninterface BaseInterface\n{\n   class UtilClass1\n   {\n   }\n}\n</code></pre>\n<p>MainClass.java:</p>\n<pre><code>package OurPackage;\n\npublic class MainClass implements BaseInterface\n{\n   UtilClass1 iAmAUtilClass;\n}\n</code></pre>\n<p>You can also use a base class instead of an interface and extend that with roughly the same effect.</p>\n<p>You don't need to implement <code>BaseInterface</code> gain access to its nested classes, but, if you don't, you'd need to use <code>BaseClass.UtilClass1</code> instead of just <code>UtilClass1</code>.</p>\n"},{"tags":[],"owner":{"account_id":11653359,"reputation":5339,"user_id":8533940,"display_name":"Lothar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515939995,"creation_date":1515939995,"answer_id":48250539,"question_id":48250295,"body_markdown":"Inner private classes can&#39;t be &quot;extracted&quot; and still be visible only to one particular class. One solution is already mentioned in the comments: Create a package that contains the &quot;main&quot; class and all the previously inner classes and make the inner classes package visible. This would also allow you to create unit tests testing for the correct functionalities of the inner classes, which is something that is most likely currently not happening simply because the inner classes can&#39;t be &quot;reached&quot; by a unit test at the moment.\r\n\r\nConcepts like declaring &quot;friendships&quot; between classes like in C++ don&#39;t exist in Java.","title":"Is there a way to put nested classes in a separate file?","body":"<p>Inner private classes can't be \"extracted\" and still be visible only to one particular class. One solution is already mentioned in the comments: Create a package that contains the \"main\" class and all the previously inner classes and make the inner classes package visible. This would also allow you to create unit tests testing for the correct functionalities of the inner classes, which is something that is most likely currently not happening simply because the inner classes can't be \"reached\" by a unit test at the moment.</p>\n\n<p>Concepts like declaring \"friendships\" between classes like in C++ don't exist in Java.</p>\n"},{"tags":[],"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515944282,"creation_date":1515944282,"answer_id":48251215,"question_id":48250295,"body_markdown":"You can replace the inner classes with top-level ones, but you&#39;ll have to rewrite a lot of things by hand that the compiler auto-wires for you with the inner-class relationship. To the Virtual Machine, an inner class is nothing special, it&#39;s just another class in the same package as the outer class with a fancy name. But the compiler creates a lot of helper constructs under the hood, that you have to reconstruct by hand (or have some refactoring tool do that for you):\r\n\r\n - The inner class can refer to the outer `this` instance, by prefixing it with the outer class name. You need to pass the outer `this` into your inner constructor and store it in a field like `outerThis` to get access.\r\n - In the source code, you can call the outer-class methods directly. You need to rewrite it like `outerThis.method()`. The same applies to fields.\r\n - For private outer methods and fields to become accessible, the compiler creates bridge constructs for you. You have to either change access modifiers or create package-private bridge methods yourself.\r\n\r\nIn the end, you&#39;ll have the former inner classes at least package-visible and being more verbose than the original ones, but on the other hand you&#39;ll get better isolation and testability.","title":"Is there a way to put nested classes in a separate file?","body":"<p>You can replace the inner classes with top-level ones, but you'll have to rewrite a lot of things by hand that the compiler auto-wires for you with the inner-class relationship. To the Virtual Machine, an inner class is nothing special, it's just another class in the same package as the outer class with a fancy name. But the compiler creates a lot of helper constructs under the hood, that you have to reconstruct by hand (or have some refactoring tool do that for you):</p>\n\n<ul>\n<li>The inner class can refer to the outer <code>this</code> instance, by prefixing it with the outer class name. You need to pass the outer <code>this</code> into your inner constructor and store it in a field like <code>outerThis</code> to get access.</li>\n<li>In the source code, you can call the outer-class methods directly. You need to rewrite it like <code>outerThis.method()</code>. The same applies to fields.</li>\n<li>For private outer methods and fields to become accessible, the compiler creates bridge constructs for you. You have to either change access modifiers or create package-private bridge methods yourself.</li>\n</ul>\n\n<p>In the end, you'll have the former inner classes at least package-visible and being more verbose than the original ones, but on the other hand you'll get better isolation and testability.</p>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19523,"user_id":8583692,"display_name":"Mahozad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694682776,"creation_date":1694682776,"answer_id":77103411,"question_id":48250295,"body_markdown":"Here is a way to do it using JUnit 5 (in Kotlin, but with a little change  should be fine for Java too).\r\n\r\nMyContainerTest.kt (or .java) file:\r\n\r\n```kotlin\r\nclass MyContainerTest {\r\n    @Nested inner class MyNestedTestsOne : MyNestedTest1()\r\n\r\n    @Nested inner class MyNestedTestsTwo : MyNestedTest2()\r\n\r\n    // Can also have regular unit tests\r\n    @Test\r\n    fun myUnitTestInContainer() { /* ... */ }\r\n\r\n    @Test\r\n    fun myOtherUnitTestInContainer() { /* ... */ }\r\n}\r\n```\r\nMyNestedTest1.kt (or .java) file:\r\n```kotlin\r\nabstract class MyNestedTest1 {\r\n    @Test\r\n    fun myUnitTestInNestedClass1() { /* ... */ }\r\n}\r\n```\r\nMyNestedTest2.kt (or .java) file:\r\n```kotlin\r\nabstract class MyNestedTest2 {\r\n    @Test\r\n    fun myUnitTestInNestedClass2() { /* ... */ }\r\n}\r\n```\r\n\r\nNested test classes have been extracted to separate files and then in the desired container class, placeholder nested classes have been created which inherit from those. This way, they are shown as the sub-hierarchy of the container test class in test views and reports.\r\n\r\nNote: Make those nested classes abstract to avoid running them twice.\r\n\r\nSee https://github.com/junit-team/junit5/issues/1750\r\n","title":"Is there a way to put nested classes in a separate file?","body":"<p>Here is a way to do it using JUnit 5 (in Kotlin, but with a little change  should be fine for Java too).</p>\n<p>MyContainerTest.kt (or .java) file:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MyContainerTest {\n    @Nested inner class MyNestedTestsOne : MyNestedTest1()\n\n    @Nested inner class MyNestedTestsTwo : MyNestedTest2()\n\n    // Can also have regular unit tests\n    @Test\n    fun myUnitTestInContainer() { /* ... */ }\n\n    @Test\n    fun myOtherUnitTestInContainer() { /* ... */ }\n}\n</code></pre>\n<p>MyNestedTest1.kt (or .java) file:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>abstract class MyNestedTest1 {\n    @Test\n    fun myUnitTestInNestedClass1() { /* ... */ }\n}\n</code></pre>\n<p>MyNestedTest2.kt (or .java) file:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>abstract class MyNestedTest2 {\n    @Test\n    fun myUnitTestInNestedClass2() { /* ... */ }\n}\n</code></pre>\n<p>Nested test classes have been extracted to separate files and then in the desired container class, placeholder nested classes have been created which inherit from those. This way, they are shown as the sub-hierarchy of the container test class in test views and reports.</p>\n<p>Note: Make those nested classes abstract to avoid running them twice.</p>\n<p>See <a href=\"https://github.com/junit-team/junit5/issues/1750\" rel=\"nofollow noreferrer\">https://github.com/junit-team/junit5/issues/1750</a></p>\n"}],"owner":{"account_id":239789,"reputation":29807,"user_id":509627,"accept_rate":63,"display_name":"David Thielen"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3189,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1694682861,"creation_date":1515938230,"question_id":48250295,"body_markdown":"I have a Java class that is about 4,000 lines long (lots of methods). This class then uses about 200 small classes that only it needs, so another 4,000 lines of code.\r\n\r\nIf this was C# I would put those other in a partial class file (different file), but they would remain private nested classes only visible to the parent class.\r\n\r\nIs there a way to do this in Java? I&#39;m not asking for some methods to be in a distinct file, but for private nested classes to be in a distinct file.\r\n","title":"Is there a way to put nested classes in a separate file?","body":"<p>I have a Java class that is about 4,000 lines long (lots of methods). This class then uses about 200 small classes that only it needs, so another 4,000 lines of code.</p>\n<p>If this was C# I would put those other in a partial class file (different file), but they would remain private nested classes only visible to the parent class.</p>\n<p>Is there a way to do this in Java? I'm not asking for some methods to be in a distinct file, but for private nested classes to be in a distinct file.</p>\n"},{"tags":["java","gradle","build.gradle"],"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1694704494,"post_id":77103427,"comment_id":135929268,"body_markdown":"(A complete hack as I don&#39;t know gradle: you can install them in a local maven repo with mvn install:install-file and declare the local maven repo. I had to do it this way for a really old maven project.)","body":"(A complete hack as I don&#39;t know gradle: you can install them in a local maven repo with mvn install:install-file and declare the local maven repo. I had to do it this way for a really old maven project.)"},{"owner":{"account_id":25597,"reputation":9442,"user_id":65889,"accept_rate":79,"display_name":"halloleo"},"score":0,"creation_date":1694747651,"post_id":77103427,"comment_id":135934907,"body_markdown":"@dcolazin Thanks. I think I go with the ideas from https://stackoverflow.com/questions/20700053/how-to-add-local-jar-file-dependency-to-build-gradle-file.","body":"@dcolazin Thanks. I think I go with the ideas from <a href=\"https://stackoverflow.com/questions/20700053/how-to-add-local-jar-file-dependency-to-build-gradle-file\" title=\"how to add local jar file dependency to build gradle file\">stackoverflow.com/questions/20700053/&hellip;</a>."}],"owner":{"account_id":25597,"reputation":9442,"user_id":65889,"accept_rate":79,"display_name":"halloleo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694747576,"answer_count":0,"score":0,"last_activity_date":1694682840,"creation_date":1694682840,"question_id":77103427,"body_markdown":"I have an &quot;unmanaged&quot; Java project in VS Code (i.e. no maven or gradle is used in the project) with all the library jars in a lib folder. The directory tree looks like this:\r\n\r\n```\r\n.\r\n├── lib\r\n│&#160;&#160; ├── args4j-2.0.15.jar\r\n│&#160;&#160; ├── ...\r\n│&#160;&#160; ├── ...\r\n│&#160;&#160; ├── ...\r\n│&#160;&#160; └── xmlbeans-5.1.1.jar\r\n└── src\r\n    └── com\r\n     &#160;&#160; └── mycompany\r\n     &#160;&#160;     └── myteam\r\n     &#160;&#160;      &#160;&#160; └── myproject\r\n &#160;&#160;      &#160;&#160;  &#160;&#160;     ├── console\r\n &#160;&#160;      &#160;&#160;  &#160;&#160;      &#160;&#160; ├── File1.java\r\n &#160;&#160;      &#160;&#160;  &#160;&#160;      &#160;&#160; ├── ...\r\n &#160;&#160;      &#160;&#160;  &#160;&#160;      &#160;&#160; └── FileN.java\r\n &#160;&#160;      &#160;&#160;  &#160;&#160;     └── utils\r\n &#160;&#160;      &#160;&#160;  &#160;&#160;         ├── File1.java\r\n &#160;&#160;      &#160;&#160;  &#160;&#160;         └── File2.java\r\n    \r\n```\r\n\r\nVS Code can compile and run the project. Now I would like to run it from the command line using gradle.\r\n\r\nHow do I set up the `build.gradle` file to compile and run the project using the jars in the lib folder and not trying to download stuff from the internet? (The machine is air-gapped.)","title":"How to compile and run a &quot;unmanaged&quot; Java project with gradle using the existing jars","body":"<p>I have an &quot;unmanaged&quot; Java project in VS Code (i.e. no maven or gradle is used in the project) with all the library jars in a lib folder. The directory tree looks like this:</p>\n<pre><code>.\n├── lib\n│   ├── args4j-2.0.15.jar\n│   ├── ...\n│   ├── ...\n│   ├── ...\n│   └── xmlbeans-5.1.1.jar\n└── src\n    └── com\n        └── mycompany\n            └── myteam\n                └── myproject\n                    ├── console\n                        ├── File1.java\n                        ├── ...\n                        └── FileN.java\n                    └── utils\n                        ├── File1.java\n                        └── File2.java\n    \n</code></pre>\n<p>VS Code can compile and run the project. Now I would like to run it from the command line using gradle.</p>\n<p>How do I set up the <code>build.gradle</code> file to compile and run the project using the jars in the lib folder and not trying to download stuff from the internet? (The machine is air-gapped.)</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1694682729,"post_id":77103382,"comment_id":135924269,"body_markdown":"have you checked your logs? have you debugged your code? simply saying &#39;status is error&#39; doesn&#39;t say anything","body":"have you checked your logs? have you debugged your code? simply saying &#39;status is error&#39; doesn&#39;t say anything"}],"owner":{"account_id":29439841,"reputation":1,"user_id":22558100,"display_name":"Miks"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694682836,"creation_date":1694682500,"question_id":77103382,"body_markdown":"I am newbie, I need help. Why do I get this error? Error contacting API: status(statuscode = error, resolution=null).\r\n\r\nI already enable Google Places API. My keys are all good. I also use in the manifest geo.API_KEY. My permission is maybe complete. My gradles are also latest. Could you guys help me about this? Where did I get wrong?\r\n\r\n**Map Activity**\r\n\r\n```\r\npackage com.example.roadwarn;\r\n\r\nimport android.Manifest;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.location.Address;\r\nimport android.location.Geocoder;\r\nimport android.location.Location;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.KeyEvent;\r\nimport android.view.View;\r\nimport android.view.WindowManager;\r\nimport android.view.inputmethod.EditorInfo;\r\nimport android.widget.AutoCompleteTextView;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport com.google.android.gms.common.ConnectionResult;\r\nimport com.google.android.gms.common.api.GoogleApiClient;\r\nimport com.google.android.gms.location.FusedLocationProviderClient;\r\nimport com.google.android.gms.location.LocationServices;\r\nimport com.google.android.gms.location.places.Places;\r\nimport com.google.android.gms.maps.CameraUpdateFactory;\r\nimport com.google.android.gms.maps.GoogleMap;\r\nimport com.google.android.gms.maps.OnMapReadyCallback;\r\nimport com.google.android.gms.maps.SupportMapFragment;\r\nimport com.google.android.gms.maps.model.LatLng;\r\nimport com.google.android.gms.maps.model.LatLngBounds;\r\nimport com.google.android.gms.maps.model.MarkerOptions;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class MapActivity extends AppCompatActivity implements OnMapReadyCallback, GoogleApiClient.OnConnectionFailedListener {\r\n    @Override\r\n    public void onConnectionFailed(@NonNull ConnectionResult connectionResult) {\r\n\r\n    }\r\n    private static final String TAG = &quot;MapActivity&quot;;\r\n    private static final String FINE_LOCATION = Manifest.permission.ACCESS_FINE_LOCATION;\r\n    private static final String COARSE_LOCATION = Manifest.permission.ACCESS_COARSE_LOCATION;\r\n    private Boolean LocationPermissionGranted = false;\r\n    private static final int LOCATION_PERMISSION_CODE = 1234;\r\n    private GoogleMap gMap;\r\n    private FusedLocationProviderClient fusedLocationProviderClient;\r\n    private PlaceAutocompleteAdapter mPlaceAutocompleteAdapter;\r\n    private GoogleApiClient mGoogleApiClient;\r\n    private static final float DEFAULT_ZOOM = 18f;\r\n    ImageView button_back, mGPS;\r\n    private AutoCompleteTextView mFromText;\r\n    private static final LatLngBounds LAT_LNG_BOUNDS = new LatLngBounds(\r\n            new LatLng(-40, -168), new LatLng(71, 136));\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        this.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_map);\r\n\r\n        button_back = findViewById(R.id.button_back);\r\n        mFromText = (AutoCompleteTextView)findViewById(R.id.input_from);\r\n        mGPS = findViewById(R.id.my_gps_location);\r\n\r\n        getLocationPermission();\r\n\r\n        button_back.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(MapActivity.this, MainActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    //Key Events\r\n    private void init(){\r\n        Log.d(TAG, &quot;init: Initializing&quot;);\r\n\r\n        mGoogleApiClient = new GoogleApiClient\r\n                .Builder(this)\r\n                .enableAutoManage(this, this)\r\n                .addApi(Places.GEO_DATA_API)\r\n                .addApi(Places.PLACE_DETECTION_API)\r\n                .build();\r\n\r\n        mPlaceAutocompleteAdapter = new PlaceAutocompleteAdapter(this, mGoogleApiClient, LAT_LNG_BOUNDS, null);\r\n\r\n        mFromText.setAdapter(mPlaceAutocompleteAdapter);\r\n\r\n        mFromText.setOnEditorActionListener(new TextView.OnEditorActionListener() {\r\n            @Override\r\n            public boolean onEditorAction(TextView textView, int actionId, KeyEvent keyEvent) {\r\n                if (actionId == EditorInfo.IME_ACTION_SEARCH || actionId == EditorInfo.IME_ACTION_DONE\r\n                        || keyEvent.getAction() == KeyEvent.ACTION_DOWN\r\n                        || keyEvent.getAction() == KeyEvent.KEYCODE_ENTER){\r\n                        geoLocate();\r\n\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n\r\n        hideSoftKeyboard();\r\n\r\n        mGPS.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Log.d(TAG, &quot;onClick: GPS Location&quot;);\r\n                getDeviceLocation();\r\n                hideSoftKeyboard();\r\n            }\r\n        });\r\n    }\r\n\r\n    //Search Bar\r\n    private void geoLocate(){\r\n        Log.d(TAG, &quot;geoLocate: Geo Locating&quot;);\r\n        String searchString = mFromText.getText().toString();\r\n\r\n        Geocoder geocoder = new Geocoder(MapActivity.this);\r\n        List&lt;Address&gt; list = new ArrayList&lt;&gt;();\r\n\r\n        try {\r\n            list = geocoder.getFromLocationName(searchString, 1);\r\n        }catch(Exception e){\r\n            Log.d(TAG, &quot;geoLocate: Geo Locating&quot; + e.getMessage());\r\n        }\r\n\r\n        if (list.size() &gt; 0){\r\n            Address address = list.get(0);\r\n\r\n            Log.d(TAG, &quot;geoLocate: Found a Location&quot; + address.toString());\r\n\r\n            moveCamera(new LatLng(address.getLatitude(), address.getLongitude()), DEFAULT_ZOOM, address.getAddressLine(0));\r\n        }\r\n    }\r\n\r\n    //Current Location\r\n    private void getDeviceLocation() {\r\n        Log.d(TAG, &quot;getDeviceLocation: Getting current location&quot;);\r\n        fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this);\r\n\r\n        try {\r\n\r\n            if (LocationPermissionGranted) {\r\n                Task location = fusedLocationProviderClient.getLastLocation();\r\n                location.addOnCompleteListener(new OnCompleteListener() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task task) {\r\n                        if (task.isSuccessful()) {\r\n                            Log.d(TAG, &quot;onComplete: Location is found&quot;);\r\n                            Location currentLocation = (Location) task.getResult();\r\n\r\n                            moveCamera(new LatLng(currentLocation.getLatitude(), currentLocation.getLongitude()), DEFAULT_ZOOM, &quot;My Location&quot;);\r\n                        } else {\r\n                            Log.d(TAG, &quot;onComplete: Location is not found&quot;);\r\n                            Toast.makeText(MapActivity.this, &quot;Unable to locate current location&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n\r\n        } catch (SecurityException e) {\r\n            Log.d(TAG, &quot;getDeviceLocation: SecurityException: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n    private void moveCamera(LatLng latLng, float zoom, String title) {\r\n        Log.d(TAG, &quot;zoomMap: Moving camera to: Latitude:&quot; + latLng.latitude + &quot;Longitude:&quot; + latLng.longitude);\r\n        gMap.moveCamera(CameraUpdateFactory.newLatLngZoom(latLng, zoom));\r\n\r\n        if (!title.equals(&quot;My Location&quot;)){\r\n            MarkerOptions markerOptions = new MarkerOptions().position(latLng).title(title);\r\n            gMap.addMarker(markerOptions);\r\n        }\r\n        hideSoftKeyboard();\r\n    }\r\n\r\n    //Map\r\n    private void initMap() {\r\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.map);\r\n        Toast.makeText(this, &quot;Map is ready&quot;, Toast.LENGTH_SHORT).show();\r\n        Log.d(TAG, &quot;initMap: Initializing map&quot;);\r\n        mapFragment.getMapAsync(MapActivity.this);\r\n    }\r\n\r\n    @Override\r\n    public void onMapReady(@NonNull GoogleMap googleMap) {\r\n        Toast.makeText(this, &quot;Map is ready&quot;, Toast.LENGTH_SHORT).show();\r\n        Log.d(TAG, &quot;onMapReady:Map is ready&quot;);\r\n        gMap = googleMap;\r\n\r\n        if (LocationPermissionGranted) {\r\n            getDeviceLocation();\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                return;\r\n            }\r\n            gMap.setMyLocationEnabled(true);\r\n            gMap.getUiSettings().setMyLocationButtonEnabled(false);\r\n\r\n            init();\r\n        }\r\n    }\r\n\r\n    //Permission\r\n    private void getLocationPermission(){\r\n        Log.d(TAG, &quot;getLocationPermission: Getting location permission&quot;);\r\n        String[] permissions = {FINE_LOCATION, COARSE_LOCATION};\r\n\r\n        if (ContextCompat.checkSelfPermission(this.getApplicationContext(),FINE_LOCATION) == PackageManager.PERMISSION_GRANTED){\r\n            if (ContextCompat.checkSelfPermission(this.getApplicationContext(),COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED){\r\n                LocationPermissionGranted = true;\r\n                initMap();\r\n            }else{\r\n                ActivityCompat.requestPermissions(this, permissions, LOCATION_PERMISSION_CODE);\r\n            }\r\n        }else{\r\n            ActivityCompat.requestPermissions(this, permissions, LOCATION_PERMISSION_CODE);\r\n        }\r\n    }\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        Log.d(TAG, &quot;onRequestPermissionsResult: Called.&quot;);\r\n        LocationPermissionGranted = false;\r\n\r\n        switch (requestCode) {\r\n            case LOCATION_PERMISSION_CODE: {\r\n                if (grantResults.length &gt; 0) {\r\n                    for (int i = 0; i &lt; grantResults.length; i++) {\r\n                        if (grantResults[i] != PackageManager.PERMISSION_GRANTED) {\r\n                            LocationPermissionGranted = false;\r\n                            Log.d(TAG, &quot;onRequestPermissionsResult: Permission failed&quot;);\r\n                            return;\r\n                        }\r\n                    }\r\n                    LocationPermissionGranted = true;\r\n                    Log.d(TAG, &quot;onRequestPermissionsResult: Permission granted!&quot;);\r\n                    //initialize map\r\n                    initMap();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    private void hideSoftKeyboard(){\r\n        this.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n","title":"Error contacting API: status(statuscode = error, resolution=null)","body":"<p>I am newbie, I need help. Why do I get this error? Error contacting API: status(statuscode = error, resolution=null).</p>\n<p>I already enable Google Places API. My keys are all good. I also use in the manifest geo.API_KEY. My permission is maybe complete. My gradles are also latest. Could you guys help me about this? Where did I get wrong?</p>\n<p><strong>Map Activity</strong></p>\n<pre><code>package com.example.roadwarn;\n\nimport android.Manifest;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.location.Address;\nimport android.location.Geocoder;\nimport android.location.Location;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.KeyEvent;\nimport android.view.View;\nimport android.view.WindowManager;\nimport android.view.inputmethod.EditorInfo;\nimport android.widget.AutoCompleteTextView;\nimport android.widget.ImageView;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport com.google.android.gms.common.ConnectionResult;\nimport com.google.android.gms.common.api.GoogleApiClient;\nimport com.google.android.gms.location.FusedLocationProviderClient;\nimport com.google.android.gms.location.LocationServices;\nimport com.google.android.gms.location.places.Places;\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.SupportMapFragment;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.LatLngBounds;\nimport com.google.android.gms.maps.model.MarkerOptions;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class MapActivity extends AppCompatActivity implements OnMapReadyCallback, GoogleApiClient.OnConnectionFailedListener {\n    @Override\n    public void onConnectionFailed(@NonNull ConnectionResult connectionResult) {\n\n    }\n    private static final String TAG = &quot;MapActivity&quot;;\n    private static final String FINE_LOCATION = Manifest.permission.ACCESS_FINE_LOCATION;\n    private static final String COARSE_LOCATION = Manifest.permission.ACCESS_COARSE_LOCATION;\n    private Boolean LocationPermissionGranted = false;\n    private static final int LOCATION_PERMISSION_CODE = 1234;\n    private GoogleMap gMap;\n    private FusedLocationProviderClient fusedLocationProviderClient;\n    private PlaceAutocompleteAdapter mPlaceAutocompleteAdapter;\n    private GoogleApiClient mGoogleApiClient;\n    private static final float DEFAULT_ZOOM = 18f;\n    ImageView button_back, mGPS;\n    private AutoCompleteTextView mFromText;\n    private static final LatLngBounds LAT_LNG_BOUNDS = new LatLngBounds(\n            new LatLng(-40, -168), new LatLng(71, 136));\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        this.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_map);\n\n        button_back = findViewById(R.id.button_back);\n        mFromText = (AutoCompleteTextView)findViewById(R.id.input_from);\n        mGPS = findViewById(R.id.my_gps_location);\n\n        getLocationPermission();\n\n        button_back.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(MapActivity.this, MainActivity.class);\n                startActivity(intent);\n            }\n        });\n\n    }\n\n    //Key Events\n    private void init(){\n        Log.d(TAG, &quot;init: Initializing&quot;);\n\n        mGoogleApiClient = new GoogleApiClient\n                .Builder(this)\n                .enableAutoManage(this, this)\n                .addApi(Places.GEO_DATA_API)\n                .addApi(Places.PLACE_DETECTION_API)\n                .build();\n\n        mPlaceAutocompleteAdapter = new PlaceAutocompleteAdapter(this, mGoogleApiClient, LAT_LNG_BOUNDS, null);\n\n        mFromText.setAdapter(mPlaceAutocompleteAdapter);\n\n        mFromText.setOnEditorActionListener(new TextView.OnEditorActionListener() {\n            @Override\n            public boolean onEditorAction(TextView textView, int actionId, KeyEvent keyEvent) {\n                if (actionId == EditorInfo.IME_ACTION_SEARCH || actionId == EditorInfo.IME_ACTION_DONE\n                        || keyEvent.getAction() == KeyEvent.ACTION_DOWN\n                        || keyEvent.getAction() == KeyEvent.KEYCODE_ENTER){\n                        geoLocate();\n\n                }\n                return false;\n            }\n        });\n\n        hideSoftKeyboard();\n\n        mGPS.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Log.d(TAG, &quot;onClick: GPS Location&quot;);\n                getDeviceLocation();\n                hideSoftKeyboard();\n            }\n        });\n    }\n\n    //Search Bar\n    private void geoLocate(){\n        Log.d(TAG, &quot;geoLocate: Geo Locating&quot;);\n        String searchString = mFromText.getText().toString();\n\n        Geocoder geocoder = new Geocoder(MapActivity.this);\n        List&lt;Address&gt; list = new ArrayList&lt;&gt;();\n\n        try {\n            list = geocoder.getFromLocationName(searchString, 1);\n        }catch(Exception e){\n            Log.d(TAG, &quot;geoLocate: Geo Locating&quot; + e.getMessage());\n        }\n\n        if (list.size() &gt; 0){\n            Address address = list.get(0);\n\n            Log.d(TAG, &quot;geoLocate: Found a Location&quot; + address.toString());\n\n            moveCamera(new LatLng(address.getLatitude(), address.getLongitude()), DEFAULT_ZOOM, address.getAddressLine(0));\n        }\n    }\n\n    //Current Location\n    private void getDeviceLocation() {\n        Log.d(TAG, &quot;getDeviceLocation: Getting current location&quot;);\n        fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this);\n\n        try {\n\n            if (LocationPermissionGranted) {\n                Task location = fusedLocationProviderClient.getLastLocation();\n                location.addOnCompleteListener(new OnCompleteListener() {\n                    @Override\n                    public void onComplete(@NonNull Task task) {\n                        if (task.isSuccessful()) {\n                            Log.d(TAG, &quot;onComplete: Location is found&quot;);\n                            Location currentLocation = (Location) task.getResult();\n\n                            moveCamera(new LatLng(currentLocation.getLatitude(), currentLocation.getLongitude()), DEFAULT_ZOOM, &quot;My Location&quot;);\n                        } else {\n                            Log.d(TAG, &quot;onComplete: Location is not found&quot;);\n                            Toast.makeText(MapActivity.this, &quot;Unable to locate current location&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                });\n            }\n\n        } catch (SecurityException e) {\n            Log.d(TAG, &quot;getDeviceLocation: SecurityException: &quot; + e.getMessage());\n        }\n    }\n\n    private void moveCamera(LatLng latLng, float zoom, String title) {\n        Log.d(TAG, &quot;zoomMap: Moving camera to: Latitude:&quot; + latLng.latitude + &quot;Longitude:&quot; + latLng.longitude);\n        gMap.moveCamera(CameraUpdateFactory.newLatLngZoom(latLng, zoom));\n\n        if (!title.equals(&quot;My Location&quot;)){\n            MarkerOptions markerOptions = new MarkerOptions().position(latLng).title(title);\n            gMap.addMarker(markerOptions);\n        }\n        hideSoftKeyboard();\n    }\n\n    //Map\n    private void initMap() {\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.map);\n        Toast.makeText(this, &quot;Map is ready&quot;, Toast.LENGTH_SHORT).show();\n        Log.d(TAG, &quot;initMap: Initializing map&quot;);\n        mapFragment.getMapAsync(MapActivity.this);\n    }\n\n    @Override\n    public void onMapReady(@NonNull GoogleMap googleMap) {\n        Toast.makeText(this, &quot;Map is ready&quot;, Toast.LENGTH_SHORT).show();\n        Log.d(TAG, &quot;onMapReady:Map is ready&quot;);\n        gMap = googleMap;\n\n        if (LocationPermissionGranted) {\n            getDeviceLocation();\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n                return;\n            }\n            gMap.setMyLocationEnabled(true);\n            gMap.getUiSettings().setMyLocationButtonEnabled(false);\n\n            init();\n        }\n    }\n\n    //Permission\n    private void getLocationPermission(){\n        Log.d(TAG, &quot;getLocationPermission: Getting location permission&quot;);\n        String[] permissions = {FINE_LOCATION, COARSE_LOCATION};\n\n        if (ContextCompat.checkSelfPermission(this.getApplicationContext(),FINE_LOCATION) == PackageManager.PERMISSION_GRANTED){\n            if (ContextCompat.checkSelfPermission(this.getApplicationContext(),COARSE_LOCATION) == PackageManager.PERMISSION_GRANTED){\n                LocationPermissionGranted = true;\n                initMap();\n            }else{\n                ActivityCompat.requestPermissions(this, permissions, LOCATION_PERMISSION_CODE);\n            }\n        }else{\n            ActivityCompat.requestPermissions(this, permissions, LOCATION_PERMISSION_CODE);\n        }\n    }\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        Log.d(TAG, &quot;onRequestPermissionsResult: Called.&quot;);\n        LocationPermissionGranted = false;\n\n        switch (requestCode) {\n            case LOCATION_PERMISSION_CODE: {\n                if (grantResults.length &gt; 0) {\n                    for (int i = 0; i &lt; grantResults.length; i++) {\n                        if (grantResults[i] != PackageManager.PERMISSION_GRANTED) {\n                            LocationPermissionGranted = false;\n                            Log.d(TAG, &quot;onRequestPermissionsResult: Permission failed&quot;);\n                            return;\n                        }\n                    }\n                    LocationPermissionGranted = true;\n                    Log.d(TAG, &quot;onRequestPermissionsResult: Permission granted!&quot;);\n                    //initialize map\n                    initMap();\n                }\n            }\n        }\n    }\n    private void hideSoftKeyboard(){\n        this.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\n    }\n\n\n}\n\n</code></pre>\n"},{"tags":["java","maven","swagger","swagger-maven-plugin"],"comments":[{"owner":{"account_id":4613206,"reputation":2022,"user_id":4019117,"accept_rate":8,"display_name":"Irfan Nasim"},"score":0,"creation_date":1444646379,"post_id":32340735,"comment_id":53974685,"body_markdown":"how to generate this docs @raj? my project is maven based i ahve added Api notation, ApiResonses notation as well but how can i generate the docs any help?","body":"how to generate this docs @raj? my project is maven based i ahve added Api notation, ApiResonses notation as well but how can i generate the docs any help?"},{"owner":{"account_id":1752749,"reputation":1119,"user_id":1601471,"accept_rate":69,"display_name":"Raj"},"score":0,"creation_date":1444751500,"post_id":32340735,"comment_id":54028964,"body_markdown":"I used &#39;swagger-springmvc&#39; v1.0.2. Then I created a CustomSwaggerConfig class that had the &#39;@Configuration&#39; &amp; \n&#39;@EnableSwagger&#39;. And in applicationContext.xml I referenced the CustomSwaggerConfig.","body":"I used &#39;swagger-springmvc&#39; v1.0.2. Then I created a CustomSwaggerConfig class that had the &#39;@Configuration&#39; &amp;  &#39;@EnableSwagger&#39;. And in applicationContext.xml I referenced the CustomSwaggerConfig."},{"owner":{"account_id":4613206,"reputation":2022,"user_id":4019117,"accept_rate":8,"display_name":"Irfan Nasim"},"score":0,"creation_date":1444826078,"post_id":32340735,"comment_id":54063241,"body_markdown":"i dont have spring i am just with maven, struts","body":"i dont have spring i am just with maven, struts"},{"owner":{"account_id":1752749,"reputation":1119,"user_id":1601471,"accept_rate":69,"display_name":"Raj"},"score":0,"creation_date":1444847382,"post_id":32340735,"comment_id":54077393,"body_markdown":"Sorry buddy, can&#39;t help you much on this. Our project uses Spring libraries and therefore we use the &#39;swagger-springmvc&#39;","body":"Sorry buddy, can&#39;t help you much on this. Our project uses Spring libraries and therefore we use the &#39;swagger-springmvc&#39;"}],"answers":[{"tags":[],"owner":{"account_id":998836,"reputation":1410,"user_id":1014127,"display_name":"dsavickas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1443455921,"creation_date":1443455921,"answer_id":32827160,"question_id":32340735,"body_markdown":"There seems to be javadoc doclet for generating JSON Swagger resource listing:\r\nhttps://github.com/teamcarma/swagger-jaxrs-doclet","title":"Using Javadocs to generate Swagger document","body":"<p>There seems to be javadoc doclet for generating JSON Swagger resource listing:\n<a href=\"https://github.com/teamcarma/swagger-jaxrs-doclet\" rel=\"nofollow\">https://github.com/teamcarma/swagger-jaxrs-doclet</a></p>\n"},{"tags":[],"owner":{"account_id":6864193,"reputation":2218,"user_id":5277240,"accept_rate":75,"display_name":"Egemen"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1541846825,"creation_date":1447318807,"answer_id":33667644,"question_id":32340735,"body_markdown":"You can generate swagger-ui from Javadoc by using [Enunciate][1], which has a Swagger module. First, you need to add the maven plugin to your pom file; e.g.\r\n\r\n    &lt;plugin&gt;\r\n            &lt;groupId&gt;com.webcohesion.enunciate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;enunciate-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${enunciate.version}&lt;/version&gt;\r\n            &lt;executions&gt;\r\n               &lt;execution&gt;\r\n                      &lt;goals&gt;\r\n                        &lt;goal&gt;docs&lt;/goal&gt;\r\n                      &lt;/goals&gt;\r\n                      &lt;configuration&gt;\r\n                      \t&lt;configFile&gt;enunciate.xml&lt;/configFile&gt;\r\n    \t\t\t\t\t&lt;docsDir&gt;${project.build.directory}&lt;/docsDir&gt;\r\n    \t\t\t\t  &lt;/configuration&gt;\r\n               &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nwhere &#39;enunciate.xml&#39; contains your project specific configurations and looks like this:\r\n\r\n    &lt;enunciate xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n              xsi:noNamespaceSchemaLocation=&quot;http://enunciate.webcohesion.com/schemas/enunciate-2.0.0-M.3.xsd&quot;&gt;\r\n    \r\n     \t&lt;application root=&quot;/rest&quot; /&gt;\r\n     \r\n    &lt;/enunciate&gt;\r\n\r\nThen run `mvn compile` and it will generate Swagger documentation files from your Javadoc.\r\n\r\n  [1]: http://enunciate.webcohesion.com/","title":"Using Javadocs to generate Swagger document","body":"<p>You can generate swagger-ui from Javadoc by using <a href=\"http://enunciate.webcohesion.com/\" rel=\"noreferrer\">Enunciate</a>, which has a Swagger module. First, you need to add the maven plugin to your pom file; e.g.</p>\n\n<pre><code>&lt;plugin&gt;\n        &lt;groupId&gt;com.webcohesion.enunciate&lt;/groupId&gt;\n        &lt;artifactId&gt;enunciate-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${enunciate.version}&lt;/version&gt;\n        &lt;executions&gt;\n           &lt;execution&gt;\n                  &lt;goals&gt;\n                    &lt;goal&gt;docs&lt;/goal&gt;\n                  &lt;/goals&gt;\n                  &lt;configuration&gt;\n                    &lt;configFile&gt;enunciate.xml&lt;/configFile&gt;\n                    &lt;docsDir&gt;${project.build.directory}&lt;/docsDir&gt;\n                  &lt;/configuration&gt;\n           &lt;/execution&gt;\n        &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>where 'enunciate.xml' contains your project specific configurations and looks like this:</p>\n\n<pre><code>&lt;enunciate xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n          xsi:noNamespaceSchemaLocation=\"http://enunciate.webcohesion.com/schemas/enunciate-2.0.0-M.3.xsd\"&gt;\n\n    &lt;application root=\"/rest\" /&gt;\n\n&lt;/enunciate&gt;\n</code></pre>\n\n<p>Then run <code>mvn compile</code> and it will generate Swagger documentation files from your Javadoc.</p>\n"},{"tags":[],"owner":{"account_id":354343,"reputation":4204,"user_id":692626,"accept_rate":14,"display_name":"dan carter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694682600,"creation_date":1690251362,"answer_id":76759076,"question_id":32340735,"body_markdown":"[SpringDoc][1] now supports generating swagger documentation from your JavaDoc, saving you from endless cut-n-paste in your models.\r\n\r\nhttps://github.com/springdoc/springdoc-openapi/issues/38\r\nhttps://github.com/springdoc/springdoc-openapi-maven-plugin\r\n\r\n\r\n  [1]: https://springdoc.org/","title":"Using Javadocs to generate Swagger document","body":"<p><a href=\"https://springdoc.org/\" rel=\"nofollow noreferrer\">SpringDoc</a> now supports generating swagger documentation from your JavaDoc, saving you from endless cut-n-paste in your models.</p>\n<p><a href=\"https://github.com/springdoc/springdoc-openapi/issues/38\" rel=\"nofollow noreferrer\">https://github.com/springdoc/springdoc-openapi/issues/38</a>\n<a href=\"https://github.com/springdoc/springdoc-openapi-maven-plugin\" rel=\"nofollow noreferrer\">https://github.com/springdoc/springdoc-openapi-maven-plugin</a></p>\n"}],"owner":{"account_id":1752749,"reputation":1119,"user_id":1601471,"accept_rate":69,"display_name":"Raj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26395,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":33667644,"answer_count":3,"score":26,"last_activity_date":1694682600,"creation_date":1441140862,"question_id":32340735,"body_markdown":"I want to build the Swagger documentation for an existing set of RESTful APIs. I have the following requirement:\r\n\r\n1. Generate Swagger Doc offline (I used http://kongchen.github.io/swagger-maven-plugin/). This plugin helps me to generate the Swagger documentation during compile time.\r\n2. Reading the existing Javadoc so that they can be used in the Swagger documentation.\r\n\r\nSo far using the above plugin I was able to achieve point no 1. So for an existing REST method:\r\n\r\n     /**\r\n     * &lt;p&gt;\r\n     * Gets the {@link DisplayPreferenceModel} with the name as provided in the parameter. The preference with the given name defined at the tenant or master level is returned.\r\n     * This API gives us the preference if it is eligible for unauthorized access If it is not eligible it throws an Exception saying Authorization required.\r\n     * &lt;/p&gt;\r\n     * @param preferenceName\r\n     *            - The name of the preference.\r\n     * @return {@link DisplayPreferenceModel}\r\n     */\r\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/preferences/{preferenceName}&quot;)\r\n    @ApiOperation(value = &quot;This API gives us the preference if it is eligible for unauthorized access If it is not eligible it throws an Exception saying Authorization required&quot;, \r\n    \t\t\t\t\t\tnotes = &quot;No Notes please&quot;, response = DisplayPreferenceModel.class)\r\n    @ApiResponses(value = { \r\n    \t\t\t\t\t\t@ApiResponse(code = 400, message = &quot;Invalid preferenceName supplied&quot;), \r\n    \t\t\t\t\t\t@ApiResponse(code = 404, message = &quot;Display Preference Not Found&quot;)\r\n    \t\t\t\t\t  }\r\n    \t\t\t)\r\n    public DisplayPreferenceModel getDisplayPreference( @PathVariable(&quot;preferenceName&quot;) final String preferenceName ) {\r\n    }\r\n\r\nI was able to generate the Swagger documentation. The usage of @ApiOperation &amp; @ApiResponses makes my documentation looks great.\r\n\r\nHowever, my question is can I use the Javadocs instead of making every developer to create @ApiOperation &amp; @ApiResponses so that it saves time for my team?","title":"Using Javadocs to generate Swagger document","body":"<p>I want to build the Swagger documentation for an existing set of RESTful APIs. I have the following requirement:</p>\n\n<ol>\n<li>Generate Swagger Doc offline (I used <a href=\"http://kongchen.github.io/swagger-maven-plugin/\">http://kongchen.github.io/swagger-maven-plugin/</a>). This plugin helps me to generate the Swagger documentation during compile time.</li>\n<li>Reading the existing Javadoc so that they can be used in the Swagger documentation.</li>\n</ol>\n\n<p>So far using the above plugin I was able to achieve point no 1. So for an existing REST method:</p>\n\n<pre><code> /**\n * &lt;p&gt;\n * Gets the {@link DisplayPreferenceModel} with the name as provided in the parameter. The preference with the given name defined at the tenant or master level is returned.\n * This API gives us the preference if it is eligible for unauthorized access If it is not eligible it throws an Exception saying Authorization required.\n * &lt;/p&gt;\n * @param preferenceName\n *            - The name of the preference.\n * @return {@link DisplayPreferenceModel}\n */\n@RequestMapping(method = RequestMethod.GET, value = \"/preferences/{preferenceName}\")\n@ApiOperation(value = \"This API gives us the preference if it is eligible for unauthorized access If it is not eligible it throws an Exception saying Authorization required\", \n                        notes = \"No Notes please\", response = DisplayPreferenceModel.class)\n@ApiResponses(value = { \n                        @ApiResponse(code = 400, message = \"Invalid preferenceName supplied\"), \n                        @ApiResponse(code = 404, message = \"Display Preference Not Found\")\n                      }\n            )\npublic DisplayPreferenceModel getDisplayPreference( @PathVariable(\"preferenceName\") final String preferenceName ) {\n}\n</code></pre>\n\n<p>I was able to generate the Swagger documentation. The usage of @ApiOperation &amp; @ApiResponses makes my documentation looks great.</p>\n\n<p>However, my question is can I use the Javadocs instead of making every developer to create @ApiOperation &amp; @ApiResponses so that it saves time for my team?</p>\n"},{"tags":["java","spring","tomcat","spring-security"],"owner":{"account_id":15608330,"reputation":1466,"user_id":11260467,"display_name":"Xiidref"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694682378,"creation_date":1694682378,"question_id":77103364,"body_markdown":"I have a spring web application that run on a tomcat (previously a tomcat 7 and now on a tomcat 10 since it&#39;s the one that handle the javax to jakarta namespace migration).\r\n\r\nThe compilation work fine but when running the server I have this error (nothing in the cut stacktace is winthin my packages) :\r\n```stacktrace\r\n14-Sep-2023 10:09:18.929 INFO [main] org.apache.catalina.core.ApplicationContext.log No Spring WebApplicationInitializer types detected on classpath\r\n14-Sep-2023 10:09:18.940 INFO [main] org.apache.catalina.core.ApplicationContext.log Initializing Spring root WebApplicationContext\r\n14-Sep-2023 10:09:37.555 SEVERE [main] org.apache.catalina.core.StandardContext.listenerStart Exception lors de l&#39;envoi de l&#39;&#233;v&#232;nement contexte initialis&#233; (context initialized) &#224; l&#39;instance de classe d&#39;&#233;coute (listener) [org.springframework.web.context.ContextLoaderListener]\r\n\torg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.filterChains&#39;: Cannot resolve reference to bean &#39;org.springframework.security.web.DefaultSecurityFilterChain#2&#39; while setting bean property &#39;sourceList&#39; with key [2]\r\n\t\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)\r\n\t\t...\r\n\t\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\r\n\tCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.web.DefaultSecurityFilterChain#2&#39;: Cannot resolve reference to bean &#39;org.springframework.security.web.access.intercept.AuthorizationFilter#0&#39; while setting constructor argument with key [10]\r\n\t\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)\r\n\t\t...\r\n\t\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)\r\n\t\t... 58 more\r\n\tCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.web.access.intercept.AuthorizationFilter#0&#39;: Cannot resolve reference to bean &#39;org.springframework.security.config.http.AuthorizationFilterParser$RequestMatcherDelegatingAuthorizationManagerFactory#0&#39; while setting constructor argument\r\n\t\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)\r\n\t\t...\r\n\t\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)\r\n\t\t... 72 more\r\n\tCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.config.http.AuthorizationFilterParser$RequestMatcherDelegatingAuthorizationManagerFactory#0&#39;: Cannot create inner bean &#39;(inner bean)#27e685a3&#39; of type [org.springframework.security.web.access.expression.WebExpressionAuthorizationManager] while setting bean property &#39;requestMatcherMap&#39; with key [Root bean: class [org.springframework.security.web.servlet.util.matcher.MvcRequestMatcher]; scope=; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodNames=null; destroyMethodNames=null]\r\n\t\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBeanValue(BeanDefinitionValueResolver.java:421)\r\n\t\t...\r\n\t\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)\r\n\t\t... 84 more\r\n\tCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#27e685a3&#39;: Failed to instantiate [org.springframework.security.web.access.expression.WebExpressionAuthorizationManager]: Constructor threw exception\r\n\t\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:326)\r\n\t\t...\r\n\t\tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBeanValue(BeanDefinitionValueResolver.java:407)\r\n\t\t... 100 more\r\n\tCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.access.expression.WebExpressionAuthorizationManager]: Constructor threw exception\r\n\t\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224)\r\n\t\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:110)\r\n\t\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:323)\r\n\t\t... 106 more\r\n\tCaused by: java.lang.IllegalArgumentException: expressionString cannot be empty\r\n\t\tat org.springframework.util.Assert.hasText(Assert.java:294)\r\n\t\t...\r\n\t\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211)\r\n\t\t... 108 more\r\n14-Sep-2023 10:09:37.646 INFO [main] org.apache.catalina.core.ApplicationContext.log Closing Spring root WebApplicationContext\r\n\r\n```\r\n\r\nFrom what I&#39;ve seen on the web it seem&#39;s likely that this is an issue in the security.xml file but nothing I&#39;ve tried seems to solve the issue and I don&#39;t manage to understand the root of the error with the stacktrace. \r\nHere is my security.xml file : \r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n       xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\r\n       xmlns:security=&quot;http://www.springframework.org/schema/security&quot;\r\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n        http://www.springframework.org/schema/beans/spring-beans.xsd\r\n\t\thttp://www.springframework.org/schema/context\r\n\t\thttp://www.springframework.org/schema/context/spring-context.xsd\r\n        http://www.springframework.org/schema/security \r\n        http://www.springframework.org/schema/security/spring-security-6.1.xsd&quot;&gt;\r\n\r\n    &lt;!-- Activating the security component Autowire --&gt;\r\n    &lt;context:component-scan base-package=&quot;my.package.security&quot;/&gt;\r\n\r\n    &lt;!-- Do not secure static ressources --&gt;\r\n    &lt;security:http security=&quot;none&quot; pattern=&quot;/*&quot;/&gt;\r\n    &lt;security:http security=&quot;none&quot; pattern=&quot;/ressources/**&quot;/&gt;\r\n\r\n    &lt;security:http entry-point-ref=&quot;authenticationEntryPoint&quot; use-expressions=&quot;true&quot;&gt;\r\n        &lt;security:custom-filter ref=&quot;authenticationTokenProcessingFilter&quot; position=&quot;FORM_LOGIN_FILTER&quot;/&gt;\r\n        &lt;security:intercept-url pattern=&quot;/ihm/**&quot;/&gt;\r\n    &lt;/security:http&gt;\r\n\r\n    &lt;bean id=&quot;authenticationEntryPoint&quot; autowire=&quot;byName&quot;\r\n          class=&quot;my.package.security.MyAppAuthenticationEntryPoint&quot;/&gt;\r\n\r\n    &lt;security:authentication-manager alias=&quot;authenticationManager&quot;&gt;\r\n        &lt;security:authentication-provider ref=&quot;authenticationProvider&quot;/&gt;\r\n    &lt;/security:authentication-manager&gt;\r\n\r\n    &lt;bean id=&quot;authenticationProvider&quot; autowire=&quot;byName&quot; class=&quot;my.package.security.MyAppAuthenticationProvider&quot;\r\n          autowire-candidate=&quot;true&quot;/&gt;\r\n\r\n    &lt;bean id=&quot;authenticationTokenProcessingFilter&quot; autowire=&quot;byName&quot;\r\n          class=&quot;my.package.security.MyAppAuthenticationTokenProcessingFilter&quot;/&gt;\r\n\r\n\t&lt;bean id=&quot;mvcHandlerMappingIntrospector&quot; class=&quot;org.springframework.web.servlet.handler.HandlerMappingIntrospector&quot;/&gt;\r\n&lt;/beans&gt;\r\n```\r\n\r\nThe MyAppAuthenticationEntryPoint file : \r\n```java\r\npackage my.package.security;\r\n\r\nimport java.io.IOException;\r\n\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport org.springframework.security.core.AuthenticationException;\r\nimport org.springframework.security.web.AuthenticationEntryPoint;\r\n\r\npublic class MyAppAuthenticationEntryPoint implements AuthenticationEntryPoint {\r\n    @Override\r\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException, ServletException {\r\n        response.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Unauthorized&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThe MyAppAuthenticationProvider file :\r\n```java\r\npackage my.package.security;\r\n\r\nimport java.util.List;\r\n\r\nimport lombok.Setter;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.authentication.AuthenticationProvider;\r\nimport org.springframework.security.authentication.BadCredentialsException;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.AuthenticationException;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport my.package.UserIHM;\r\n\r\n@Component\r\npublic class MyAppAuthenticationProvider implements AuthenticationProvider {\r\n\r\n    @Override\r\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n        String identifiantActiveDirectory = authentication.getName();\r\n        ...\r\n        return new UsernamePasswordAuthenticationToken(user, null, authentication.getAuthorities());\r\n    }\r\n\r\n    @Override\r\n    public boolean supports(Class&lt;?&gt; authentication) {\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nThe RedacAuthenticationTokenProcessingFilter file : \r\n```java\r\npackage my.package.security;\r\n\r\nimport java.io.IOException;\r\nimport java.security.Principal;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Properties;\r\nimport java.util.Set;\r\n\r\nimport jakarta.servlet.*;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport jakarta.servlet.http.HttpSession;\r\nimport lombok.Setter;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.ApplicationContext;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.AuthenticationException;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\r\nimport org.springframework.util.StringUtils;\r\nimport org.springframework.web.filter.GenericFilterBean;\r\n\r\n\r\npublic class MyAppAuthenticationTokenProcessingFilter extends GenericFilterBean implements Filter {\r\n\r\n    @Autowired\r\n    @Setter\r\n    private AuthenticationManager authenticationManager;\r\n\r\n    @Autowired\r\n    private ApplicationContext applicationContext;\r\n\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n        HttpServletRequest httpRequest = (HttpServletRequest) request;\r\n        HttpSession session = httpRequest.getSession(true);\r\n        Authentication authentication = (Authentication) session.getAttribute(SESSION_ATTRIBUTE_AUTHENTICATION);\r\n        if (authentication == null) {\r\n            Principal principal = httpRequest.getUserPrincipal();\r\n            if (principal == null) {\r\n                ((HttpServletResponse) response).sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;User not authentified&quot;);\r\n                return;\r\n            }\r\n            List&lt;GrantedAuthority&gt; authorities = resolveGrantedAuthorities(httpRequest);\r\n            UsernamePasswordAuthenticationToken token = new UsernamePasswordAuthenticationToken(principal, null, authorities);\r\n            token.setDetails(new WebAuthenticationDetailsSource().buildDetails((HttpServletRequest) request));\r\n            try {\r\n                authentication = authenticationManager.authenticate(token);\r\n            } catch (AuthenticationException e) {\r\n                ((HttpServletResponse) response).sendError(HttpServletResponse.SC_UNAUTHORIZED, e.getLocalizedMessage());\r\n                return;\r\n            } catch (Exception e) {\r\n                ((HttpServletResponse) response).sendError(HttpServletResponse.SC_INTERNAL_SERVER_ERROR, principal.getName());\r\n                return;\r\n            }\r\n            session.setAttribute(&quot;userToken&quot;, authentication);\r\n        }\r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\n        chain.doFilter(httpRequest, response);\r\n    }\r\n\r\n    private List&lt;GrantedAuthority&gt; resolveGrantedAuthorities(HttpServletRequest httpRequest) throws IOException {\r\n\r\n        ...\r\n\r\n        return authorities;\r\n    }\r\n}\r\n```\r\n\r\nThe pom.xml of the project : \r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;artifactId&gt;myapp-ihm&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!-- Web dependencies --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!-- Java Standard Tag Library --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jstl&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Spring dependencies --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.11&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.11&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.11&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.11&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.11&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Spring Security dependencies --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;\r\n\t\t\thttp://java.sun.com/xml/ns/javaee\r\n\t\t\thttp://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n         version=&quot;3.0&quot;&gt;\r\n\r\n    &lt;!-- FilterChain for UTF-8 force-encoding --&gt;\r\n    &lt;filter&gt;\r\n        &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;encoding&lt;/param-name&gt;\r\n            &lt;param-value&gt;UTF-8&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;forceEncoding&lt;/param-name&gt;\r\n            &lt;param-value&gt;true&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\n\r\n    &lt;!-- FilterChain proxy for security --&gt;\r\n    &lt;filter&gt;\r\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\n    &lt;!-- Bootstraps the root web application context before servlet initialization --&gt;\r\n    &lt;listener&gt;\r\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n\r\n    &lt;!-- Beans in these files will makeup the configuration of the root web\r\n        application context --&gt;\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n        &lt;param-value&gt;\r\n            classpath:my/app/config.xml &lt;!-- I know that this config file is fine since there are other part of the app that run fine with it --&gt;\r\n            /WEB-INF/context/security.xml\r\n        &lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;spring.profiles.active&lt;/param-name&gt;\r\n        &lt;param-value&gt;prod-jndi&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;ihm&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n            &lt;param-value&gt;/WEB-INF/context/ihm.xml&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n\r\n    &lt;!-- Maps all URLs starting with /ihm to the &#39;ihm&#39; servlet. --&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;ihm&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/ihm/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\n    &lt;!-- Lot of security roles --&gt;\r\n    &lt;security-role&gt;\r\n        &lt;role-name&gt;APP-SEC-ROLE-1&lt;/role-name&gt;\r\n    &lt;/security-role&gt;\r\n    ...\r\n\r\n    &lt;security-constraint&gt;\r\n        &lt;web-resource-collection&gt;\r\n            &lt;url-pattern&gt;/ihm/*&lt;/url-pattern&gt;\r\n        &lt;/web-resource-collection&gt;\r\n        &lt;auth-constraint&gt;\r\n            &lt;role-name&gt;*&lt;/role-name&gt;\r\n        &lt;/auth-constraint&gt;\r\n    &lt;/security-constraint&gt;\r\n\r\n    &lt;!-- Use BASIC security --&gt;\r\n    &lt;login-config&gt;\r\n        &lt;auth-method&gt;BASIC&lt;/auth-method&gt;\r\n    &lt;/login-config&gt;\r\n&lt;/web-app&gt;\r\n```","title":"Error with spring-security while migrating from 4.0.2 to 6.1.3","body":"<p>I have a spring web application that run on a tomcat (previously a tomcat 7 and now on a tomcat 10 since it's the one that handle the javax to jakarta namespace migration).</p>\n<p>The compilation work fine but when running the server I have this error (nothing in the cut stacktace is winthin my packages) :</p>\n<pre><code>14-Sep-2023 10:09:18.929 INFO [main] org.apache.catalina.core.ApplicationContext.log No Spring WebApplicationInitializer types detected on classpath\n14-Sep-2023 10:09:18.940 INFO [main] org.apache.catalina.core.ApplicationContext.log Initializing Spring root WebApplicationContext\n14-Sep-2023 10:09:37.555 SEVERE [main] org.apache.catalina.core.StandardContext.listenerStart Exception lors de l'envoi de l'évènement contexte initialisé (context initialized) à l'instance de classe d'écoute (listener) [org.springframework.web.context.ContextLoaderListener]\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.filterChains': Cannot resolve reference to bean 'org.springframework.security.web.DefaultSecurityFilterChain#2' while setting bean property 'sourceList' with key [2]\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)\n        ...\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.web.DefaultSecurityFilterChain#2': Cannot resolve reference to bean 'org.springframework.security.web.access.intercept.AuthorizationFilter#0' while setting constructor argument with key [10]\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)\n        ...\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)\n        ... 58 more\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.web.access.intercept.AuthorizationFilter#0': Cannot resolve reference to bean 'org.springframework.security.config.http.AuthorizationFilterParser$RequestMatcherDelegatingAuthorizationManagerFactory#0' while setting constructor argument\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)\n        ...\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)\n        ... 72 more\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.http.AuthorizationFilterParser$RequestMatcherDelegatingAuthorizationManagerFactory#0': Cannot create inner bean '(inner bean)#27e685a3' of type [org.springframework.security.web.access.expression.WebExpressionAuthorizationManager] while setting bean property 'requestMatcherMap' with key [Root bean: class [org.springframework.security.web.servlet.util.matcher.MvcRequestMatcher]; scope=; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodNames=null; destroyMethodNames=null]\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBeanValue(BeanDefinitionValueResolver.java:421)\n        ...\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)\n        ... 84 more\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#27e685a3': Failed to instantiate [org.springframework.security.web.access.expression.WebExpressionAuthorizationManager]: Constructor threw exception\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:326)\n        ...\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBeanValue(BeanDefinitionValueResolver.java:407)\n        ... 100 more\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.access.expression.WebExpressionAuthorizationManager]: Constructor threw exception\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224)\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:110)\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:323)\n        ... 106 more\n    Caused by: java.lang.IllegalArgumentException: expressionString cannot be empty\n        at org.springframework.util.Assert.hasText(Assert.java:294)\n        ...\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211)\n        ... 108 more\n14-Sep-2023 10:09:37.646 INFO [main] org.apache.catalina.core.ApplicationContext.log Closing Spring root WebApplicationContext\n\n</code></pre>\n<p>From what I've seen on the web it seem's likely that this is an issue in the security.xml file but nothing I've tried seems to solve the issue and I don't manage to understand the root of the error with the stacktrace.\nHere is my security.xml file :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\n       xmlns:security=&quot;http://www.springframework.org/schema/security&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n        http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context\n        http://www.springframework.org/schema/context/spring-context.xsd\n        http://www.springframework.org/schema/security \n        http://www.springframework.org/schema/security/spring-security-6.1.xsd&quot;&gt;\n\n    &lt;!-- Activating the security component Autowire --&gt;\n    &lt;context:component-scan base-package=&quot;my.package.security&quot;/&gt;\n\n    &lt;!-- Do not secure static ressources --&gt;\n    &lt;security:http security=&quot;none&quot; pattern=&quot;/*&quot;/&gt;\n    &lt;security:http security=&quot;none&quot; pattern=&quot;/ressources/**&quot;/&gt;\n\n    &lt;security:http entry-point-ref=&quot;authenticationEntryPoint&quot; use-expressions=&quot;true&quot;&gt;\n        &lt;security:custom-filter ref=&quot;authenticationTokenProcessingFilter&quot; position=&quot;FORM_LOGIN_FILTER&quot;/&gt;\n        &lt;security:intercept-url pattern=&quot;/ihm/**&quot;/&gt;\n    &lt;/security:http&gt;\n\n    &lt;bean id=&quot;authenticationEntryPoint&quot; autowire=&quot;byName&quot;\n          class=&quot;my.package.security.MyAppAuthenticationEntryPoint&quot;/&gt;\n\n    &lt;security:authentication-manager alias=&quot;authenticationManager&quot;&gt;\n        &lt;security:authentication-provider ref=&quot;authenticationProvider&quot;/&gt;\n    &lt;/security:authentication-manager&gt;\n\n    &lt;bean id=&quot;authenticationProvider&quot; autowire=&quot;byName&quot; class=&quot;my.package.security.MyAppAuthenticationProvider&quot;\n          autowire-candidate=&quot;true&quot;/&gt;\n\n    &lt;bean id=&quot;authenticationTokenProcessingFilter&quot; autowire=&quot;byName&quot;\n          class=&quot;my.package.security.MyAppAuthenticationTokenProcessingFilter&quot;/&gt;\n\n    &lt;bean id=&quot;mvcHandlerMappingIntrospector&quot; class=&quot;org.springframework.web.servlet.handler.HandlerMappingIntrospector&quot;/&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>The MyAppAuthenticationEntryPoint file :</p>\n<pre class=\"lang-java prettyprint-override\"><code>package my.package.security;\n\nimport java.io.IOException;\n\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.springframework.security.core.AuthenticationException;\nimport org.springframework.security.web.AuthenticationEntryPoint;\n\npublic class MyAppAuthenticationEntryPoint implements AuthenticationEntryPoint {\n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException, ServletException {\n        response.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Unauthorized&quot;);\n    }\n}\n</code></pre>\n<p>The MyAppAuthenticationProvider file :</p>\n<pre class=\"lang-java prettyprint-override\"><code>package my.package.security;\n\nimport java.util.List;\n\nimport lombok.Setter;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.authentication.AuthenticationProvider;\nimport org.springframework.security.authentication.BadCredentialsException;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.AuthenticationException;\nimport org.springframework.stereotype.Component;\n\nimport my.package.UserIHM;\n\n@Component\npublic class MyAppAuthenticationProvider implements AuthenticationProvider {\n\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        String identifiantActiveDirectory = authentication.getName();\n        ...\n        return new UsernamePasswordAuthenticationToken(user, null, authentication.getAuthorities());\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        return true;\n    }\n}\n</code></pre>\n<p>The RedacAuthenticationTokenProcessingFilter file :</p>\n<pre class=\"lang-java prettyprint-override\"><code>package my.package.security;\n\nimport java.io.IOException;\nimport java.security.Principal;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Properties;\nimport java.util.Set;\n\nimport jakarta.servlet.*;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport jakarta.servlet.http.HttpSession;\nimport lombok.Setter;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.AuthenticationException;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\nimport org.springframework.util.StringUtils;\nimport org.springframework.web.filter.GenericFilterBean;\n\n\npublic class MyAppAuthenticationTokenProcessingFilter extends GenericFilterBean implements Filter {\n\n    @Autowired\n    @Setter\n    private AuthenticationManager authenticationManager;\n\n    @Autowired\n    private ApplicationContext applicationContext;\n\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n        HttpServletRequest httpRequest = (HttpServletRequest) request;\n        HttpSession session = httpRequest.getSession(true);\n        Authentication authentication = (Authentication) session.getAttribute(SESSION_ATTRIBUTE_AUTHENTICATION);\n        if (authentication == null) {\n            Principal principal = httpRequest.getUserPrincipal();\n            if (principal == null) {\n                ((HttpServletResponse) response).sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;User not authentified&quot;);\n                return;\n            }\n            List&lt;GrantedAuthority&gt; authorities = resolveGrantedAuthorities(httpRequest);\n            UsernamePasswordAuthenticationToken token = new UsernamePasswordAuthenticationToken(principal, null, authorities);\n            token.setDetails(new WebAuthenticationDetailsSource().buildDetails((HttpServletRequest) request));\n            try {\n                authentication = authenticationManager.authenticate(token);\n            } catch (AuthenticationException e) {\n                ((HttpServletResponse) response).sendError(HttpServletResponse.SC_UNAUTHORIZED, e.getLocalizedMessage());\n                return;\n            } catch (Exception e) {\n                ((HttpServletResponse) response).sendError(HttpServletResponse.SC_INTERNAL_SERVER_ERROR, principal.getName());\n                return;\n            }\n            session.setAttribute(&quot;userToken&quot;, authentication);\n        }\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n\n        chain.doFilter(httpRequest, response);\n    }\n\n    private List&lt;GrantedAuthority&gt; resolveGrantedAuthorities(HttpServletRequest httpRequest) throws IOException {\n\n        ...\n\n        return authorities;\n    }\n}\n</code></pre>\n<p>The pom.xml of the project :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;artifactId&gt;myapp-ihm&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Web dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n                    &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- Java Standard Tag Library --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Spring dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;6.0.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n            &lt;version&gt;6.0.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;6.0.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n            &lt;version&gt;6.0.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\n            &lt;version&gt;6.0.11&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Spring Security dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n            &lt;version&gt;6.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;6.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n            &lt;version&gt;6.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;\n            http://java.sun.com/xml/ns/javaee\n            http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\n         version=&quot;3.0&quot;&gt;\n\n    &lt;!-- FilterChain for UTF-8 force-encoding --&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;encoding&lt;/param-name&gt;\n            &lt;param-value&gt;UTF-8&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;forceEncoding&lt;/param-name&gt;\n            &lt;param-value&gt;true&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n\n\n    &lt;!-- FilterChain proxy for security --&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n\n    &lt;!-- Bootstraps the root web application context before servlet initialization --&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;!-- Beans in these files will makeup the configuration of the root web\n        application context --&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;\n            classpath:my/app/config.xml &lt;!-- I know that this config file is fine since there are other part of the app that run fine with it --&gt;\n            /WEB-INF/context/security.xml\n        &lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;spring.profiles.active&lt;/param-name&gt;\n        &lt;param-value&gt;prod-jndi&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;ihm&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/context/ihm.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;!-- Maps all URLs starting with /ihm to the 'ihm' servlet. --&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;ihm&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/ihm/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;!-- Lot of security roles --&gt;\n    &lt;security-role&gt;\n        &lt;role-name&gt;APP-SEC-ROLE-1&lt;/role-name&gt;\n    &lt;/security-role&gt;\n    ...\n\n    &lt;security-constraint&gt;\n        &lt;web-resource-collection&gt;\n            &lt;url-pattern&gt;/ihm/*&lt;/url-pattern&gt;\n        &lt;/web-resource-collection&gt;\n        &lt;auth-constraint&gt;\n            &lt;role-name&gt;*&lt;/role-name&gt;\n        &lt;/auth-constraint&gt;\n    &lt;/security-constraint&gt;\n\n    &lt;!-- Use BASIC security --&gt;\n    &lt;login-config&gt;\n        &lt;auth-method&gt;BASIC&lt;/auth-method&gt;\n    &lt;/login-config&gt;\n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":["java","node.js","or-tools"],"comments":[{"owner":{"account_id":7247195,"reputation":742,"user_id":5528725,"accept_rate":60,"display_name":"Thomas W."},"score":0,"creation_date":1694681653,"post_id":77103187,"comment_id":135924023,"body_markdown":"The failure says that com.sun.jna.Platform (Java Native Access) is not present in the class path. You need to provide it as well, as it not part of the JDK. I assume that the or-tools have other dependencies as well. You need to make sure to provide them as well. Maybe a fat jar would help you","body":"The failure says that com.sun.jna.Platform (Java Native Access) is not present in the class path. You need to provide it as well, as it not part of the JDK. I assume that the or-tools have other dependencies as well. You need to make sure to provide them as well. Maybe a fat jar would help you"}],"owner":{"account_id":25106880,"reputation":15,"user_id":18956959,"display_name":"atuna00"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694682334,"creation_date":1694681161,"question_id":77103187,"body_markdown":"I have a web project and this project needs to google or-tools java. I need to run java file with node.js but I can&#39;t. How can I do this?\r\n\r\nFirstly I write\r\n\r\n\r\n`javac -cp &quot;C:\\Users\\lisec\\OneDrive\\Masa&#252;st&#252;\\java\\lib\\jna-platform.jar;C:\\Users\\lisec\\OneDrive\\Masa&#252;st&#252;\\java\\lib\\ortools-java-9.7.2996.jar;.&quot; BasicExample.java`\r\n\r\n\r\nthen \r\n`java -cp &quot;C:\\Users\\lisec\\OneDrive\\Masa&#252;st&#252;\\java\\lib\\jna-platform.jar;C:\\Users\\lisec\\OneDrive\\Masa&#252;st&#252;\\java\\lib\\ortools-java-9.7.2996.jar;.&quot; BasicExample`\r\nBut I got error like this \r\n\r\n```\r\n&gt; Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/sun/jna/Platform\r\n        at com.google.ortools.Loader.&lt;clinit&gt;(Loader.java:34)\r\n        at BasicExample.main(BasicExample.java:27)\r\nCaused by: java.lang.ClassNotFoundException: com.sun.jna.Platform\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n        ... 2 more\r\n```\r\nWhen I try something different, it cannot find my BasicExample file even though it is in the directory.","title":"Node.js and google or tools java","body":"<p>I have a web project and this project needs to google or-tools java. I need to run java file with node.js but I can't. How can I do this?</p>\n<p>Firstly I write</p>\n<p><code>javac -cp &quot;C:\\Users\\lisec\\OneDrive\\Masaüstü\\java\\lib\\jna-platform.jar;C:\\Users\\lisec\\OneDrive\\Masaüstü\\java\\lib\\ortools-java-9.7.2996.jar;.&quot; BasicExample.java</code></p>\n<p>then\n<code>java -cp &quot;C:\\Users\\lisec\\OneDrive\\Masaüstü\\java\\lib\\jna-platform.jar;C:\\Users\\lisec\\OneDrive\\Masaüstü\\java\\lib\\ortools-java-9.7.2996.jar;.&quot; BasicExample</code>\nBut I got error like this</p>\n<pre><code>&gt; Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/sun/jna/Platform\n        at com.google.ortools.Loader.&lt;clinit&gt;(Loader.java:34)\n        at BasicExample.main(BasicExample.java:27)\nCaused by: java.lang.ClassNotFoundException: com.sun.jna.Platform\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        ... 2 more\n</code></pre>\n<p>When I try something different, it cannot find my BasicExample file even though it is in the directory.</p>\n"},{"tags":["java","elasticsearch","objectmapper"],"owner":{"account_id":22814777,"reputation":13,"user_id":16965568,"display_name":"MangeshShinde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694682169,"creation_date":1694682169,"question_id":77103331,"body_markdown":"I am using 7.4 ElasticSearchClient and querying to Elasticsearch.\r\nI am getting response in profile object like below\r\n\r\n    &quot;profile&quot;: {\r\n    &quot;shards&quot;: [\r\n    {\r\n    &quot;id&quot;: &quot;[GArOi1iwQHGY2qpSalRgHw][hbs-search-3][0]&quot;,\r\n    &quot;searches&quot;: [\r\n    {\r\n    &quot;query&quot;: [&quot;rewrite_time&quot;: 2061901,\r\n    &quot;collector&quot;: [\r\n    {\r\n    &quot;name&quot;: &quot;SimpleTopScoreDocCollector&quot;,\r\n    &quot;reason&quot;: &quot;search_top_hits&quot;,\r\n    &quot;time_in_nanos&quot;: 30527860\r\n    }\r\n    ]\r\n    }\r\n    ],\r\n    &quot;aggregations&quot;: ,\r\n    &quot;fetch&quot;: {\r\n    &quot;type&quot;: &quot;fetch&quot;,\r\n    &quot;description&quot;: &quot;&quot;,\r\n    &quot;time_in_nanos&quot;: 2716234862,\r\n    &quot;breakdown&quot;: {\r\n    &quot;load_stored_fields&quot;: 4382099,\r\n    &quot;load_source&quot;: 13298,\r\n    &quot;load_stored_fields_count&quot;: 50,\r\n    &quot;next_reader_count&quot;: 8,\r\n    &quot;load_source_count&quot;: 50,\r\n    &quot;next_reader&quot;: 96419\r\n    },\r\n    &quot;debug&quot;: {\r\n    &quot;stored_fields&quot;: [\r\n    &quot;_id&quot;,\r\n    &quot;_routing&quot;,\r\n    &quot;_source&quot;\r\n    ]\r\n    },\r\n    &quot;children&quot;: [\r\n    {\r\n    &quot;type&quot;: &quot;ExplainPhase&quot;,\r\n    &quot;description&quot;: &quot;&quot;,\r\n    &quot;time_in_nanos&quot;: 2487325658,\r\n    &quot;breakdown&quot;: {\r\n    &quot;process_count&quot;: 50,\r\n    &quot;process&quot;: 2487313600,\r\n\r\nand using co.elastic.clients.elasticsearch.SearchResponse class from java service to get parsed response but as in abouve response value &quot;process&quot;: 2487313600 is out of bound for int value as SearchResponse class has variable for same is of type int\r\n\r\n    @Nullable\r\n    private final Integer process;\r\n\r\ni tried doing parser changes at get client level\r\n\r\n     ObjectMapper mapper = new ObjectMapper();\r\n    \t\t\tmapper.configure(DeserializationFeature.USE_LONG_FOR_INTS, true);\r\n    \t\t\tJacksonJsonpMapper jacksonJsonpMapper= new JacksonJsonpMapper(mapper);\r\n    \t\t\t\r\n                ElasticsearchTransport transport = new RestClientTransport(restClient, jacksonJsonpMapper);\r\n                ElasticsearchClient client = new ElasticsearchClient(transport);\r\n                success = true;\r\n                return client;\r\n\r\nany thing need to add to get that value as long or profile time in millis","title":"elasticsearch response parsing error in profile daata","body":"<p>I am using 7.4 ElasticSearchClient and querying to Elasticsearch.\nI am getting response in profile object like below</p>\n<pre><code>&quot;profile&quot;: {\n&quot;shards&quot;: [\n{\n&quot;id&quot;: &quot;[GArOi1iwQHGY2qpSalRgHw][hbs-search-3][0]&quot;,\n&quot;searches&quot;: [\n{\n&quot;query&quot;: [&quot;rewrite_time&quot;: 2061901,\n&quot;collector&quot;: [\n{\n&quot;name&quot;: &quot;SimpleTopScoreDocCollector&quot;,\n&quot;reason&quot;: &quot;search_top_hits&quot;,\n&quot;time_in_nanos&quot;: 30527860\n}\n]\n}\n],\n&quot;aggregations&quot;: ,\n&quot;fetch&quot;: {\n&quot;type&quot;: &quot;fetch&quot;,\n&quot;description&quot;: &quot;&quot;,\n&quot;time_in_nanos&quot;: 2716234862,\n&quot;breakdown&quot;: {\n&quot;load_stored_fields&quot;: 4382099,\n&quot;load_source&quot;: 13298,\n&quot;load_stored_fields_count&quot;: 50,\n&quot;next_reader_count&quot;: 8,\n&quot;load_source_count&quot;: 50,\n&quot;next_reader&quot;: 96419\n},\n&quot;debug&quot;: {\n&quot;stored_fields&quot;: [\n&quot;_id&quot;,\n&quot;_routing&quot;,\n&quot;_source&quot;\n]\n},\n&quot;children&quot;: [\n{\n&quot;type&quot;: &quot;ExplainPhase&quot;,\n&quot;description&quot;: &quot;&quot;,\n&quot;time_in_nanos&quot;: 2487325658,\n&quot;breakdown&quot;: {\n&quot;process_count&quot;: 50,\n&quot;process&quot;: 2487313600,\n</code></pre>\n<p>and using co.elastic.clients.elasticsearch.SearchResponse class from java service to get parsed response but as in abouve response value &quot;process&quot;: 2487313600 is out of bound for int value as SearchResponse class has variable for same is of type int</p>\n<pre><code>@Nullable\nprivate final Integer process;\n</code></pre>\n<p>i tried doing parser changes at get client level</p>\n<pre><code> ObjectMapper mapper = new ObjectMapper();\n            mapper.configure(DeserializationFeature.USE_LONG_FOR_INTS, true);\n            JacksonJsonpMapper jacksonJsonpMapper= new JacksonJsonpMapper(mapper);\n            \n            ElasticsearchTransport transport = new RestClientTransport(restClient, jacksonJsonpMapper);\n            ElasticsearchClient client = new ElasticsearchClient(transport);\n            success = true;\n            return client;\n</code></pre>\n<p>any thing need to add to get that value as long or profile time in millis</p>\n"},{"tags":["java","process","runtime","kill"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1694685031,"post_id":51088442,"comment_id":135924795,"body_markdown":"(3) starts a sub-process. The started process will exit of its own accord and doesn&#39;t need killing at all. Rather a pointless example.","body":"(3) starts a sub-process. The started process will exit of its own accord and doesn&#39;t need killing at all. Rather a pointless example."}],"answers":[{"tags":[],"owner":{"account_id":4833388,"reputation":1711,"user_id":3900951,"accept_rate":23,"display_name":"Thomas Banderas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530694671,"creation_date":1530206537,"answer_id":51088455,"question_id":51088442,"body_markdown":"If you use **Java 9**, you can use [ProcessHandle][1] and [destroyForcibibly()][2] method which is almost the same as `kill -9`, but since **Java 8** u could use `destroyForcibly()` on `Process` object.\r\n\r\n**@Edit**\r\n\r\nIt&#39;s problem only with calc.exe and cmd.exe, so let have a look to `calc.exe` process.\r\n\r\n\r\nWhen you run `calc.exe`, `calc.exe` starts `C:\\Program Files\\WindowsApps\\Microsoft.WindowsCalculator_10.1804.911.0_x64__8wekyb3d8bbwe` \r\n\r\nSo these process are different.`Calc.exe` starts another process with other PID.\r\n\r\n**What to do?**\r\n\r\nOn **Java 9**, You can use `ProcessHandle` class to find process which are run from this dir, take PID and kill: \r\n\r\nI get:\r\n`Optional[C:\\Program Files\\WindowsApps\\Microsoft.WindowsCalculator_10.1804.911.0_x64__8wekyb3d8bbwe\\Calculator.exe]`\r\n\r\nTo get our process, you can get snapshot of process before start calc.exe, and compare to snapshot after run calc.exe. But this is not 100% sure that you get only one calculator.exe. \r\n\r\nIt can be like that, user and your App start calc.exe in the same time. So you get two Process of `Calc.exe`, one start by you and one by app.\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/lang/ProcessHandle.html\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/lang/ProcessHandle.html#destroyForcibly--","title":"How to kill several processes in java?","body":"<p>If you use <strong>Java 9</strong>, you can use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/ProcessHandle.html\" rel=\"nofollow noreferrer\">ProcessHandle</a> and <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/ProcessHandle.html#destroyForcibly--\" rel=\"nofollow noreferrer\">destroyForcibibly()</a> method which is almost the same as <code>kill -9</code>, but since <strong>Java 8</strong> u could use <code>destroyForcibly()</code> on <code>Process</code> object.</p>\n\n<p><strong>@Edit</strong></p>\n\n<p>It's problem only with calc.exe and cmd.exe, so let have a look to <code>calc.exe</code> process.</p>\n\n<p>When you run <code>calc.exe</code>, <code>calc.exe</code> starts <code>C:\\Program Files\\WindowsApps\\Microsoft.WindowsCalculator_10.1804.911.0_x64__8wekyb3d8bbwe</code> </p>\n\n<p>So these process are different.<code>Calc.exe</code> starts another process with other PID.</p>\n\n<p><strong>What to do?</strong></p>\n\n<p>On <strong>Java 9</strong>, You can use <code>ProcessHandle</code> class to find process which are run from this dir, take PID and kill: </p>\n\n<p>I get:\n<code>Optional[C:\\Program Files\\WindowsApps\\Microsoft.WindowsCalculator_10.1804.911.0_x64__8wekyb3d8bbwe\\Calculator.exe]</code></p>\n\n<p>To get our process, you can get snapshot of process before start calc.exe, and compare to snapshot after run calc.exe. But this is not 100% sure that you get only one calculator.exe. </p>\n\n<p>It can be like that, user and your App start calc.exe in the same time. So you get two Process of <code>Calc.exe</code>, one start by you and one by app.</p>\n"}],"owner":{"account_id":13861300,"reputation":63,"user_id":10006884,"display_name":"CBit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":784,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1694681938,"creation_date":1530206448,"question_id":51088442,"body_markdown":"I want to create some processes, then kill one after another (waiting 2 seconds before each kill). As a result, 3 windows should appear and then disappear in order. The problem is only the first process is killed.\r\n\r\n     public static void main(String[] args) {\r\n        try {\r\n            Process p1 = Runtime.getRuntime().exec(&quot;notepad.exe&quot;);\r\n            Process p2 = Runtime.getRuntime().exec(&quot;calc.exe&quot;);\r\n            Process p3 = Runtime.getRuntime().exec(new String[]{&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;start&quot;, &quot;dir&quot;});\r\n            Thread.sleep(2000);\r\n            // p1.waitFor(2, TimeUnit.SECONDS);\r\n            p1.destroy();\r\n            Thread.sleep(2000);\r\n            //  p2.waitFor(2, TimeUnit.SECONDS);\r\n            p2.destroy();\r\n            Thread.sleep(2000);\r\n            //  p3.waitFor(2, TimeUnit.SECONDS);\r\n            p3.destroy();\r\n        } catch (Exception ex) {\r\n            System.out.println(&quot;&quot; + ex);\r\n        }\r\n    }","title":"How to kill several processes in java?","body":"<p>I want to create some processes, then kill one after another (waiting 2 seconds before each kill). As a result, 3 windows should appear and then disappear in order. The problem is only the first process is killed.</p>\n\n<pre><code> public static void main(String[] args) {\n    try {\n        Process p1 = Runtime.getRuntime().exec(\"notepad.exe\");\n        Process p2 = Runtime.getRuntime().exec(\"calc.exe\");\n        Process p3 = Runtime.getRuntime().exec(new String[]{\"cmd.exe\", \"/c\", \"start\", \"dir\"});\n        Thread.sleep(2000);\n        // p1.waitFor(2, TimeUnit.SECONDS);\n        p1.destroy();\n        Thread.sleep(2000);\n        //  p2.waitFor(2, TimeUnit.SECONDS);\n        p2.destroy();\n        Thread.sleep(2000);\n        //  p3.waitFor(2, TimeUnit.SECONDS);\n        p3.destroy();\n    } catch (Exception ex) {\n        System.out.println(\"\" + ex);\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","junit","junit4","junit5"],"comments":[{"owner":{"account_id":10496592,"reputation":3058,"user_id":7736617,"display_name":"Arnaud Claudel"},"score":0,"creation_date":1566557841,"post_id":57624495,"comment_id":101703359,"body_markdown":"I understand what you want but I don&#39;t get why it&#39;s a problem. What is going to change if heavy tests are run at the end ?","body":"I understand what you want but I don&#39;t get why it&#39;s a problem. What is going to change if heavy tests are run at the end ?"},{"owner":{"account_id":936608,"reputation":1545,"user_id":965431,"display_name":"S&#225;ndor Juhos"},"score":0,"creation_date":1566558412,"post_id":57624495,"comment_id":101703645,"body_markdown":"For example: I run my tests in 10 threads parallel.\nAlmost the end of the process 8 threads is shutting down because there is no additional test class to run, but my remaining 2 slow test classes just strated to run now and it is slows down the whole process. But if I could run my test classes in reverse order by duration time, all of my threads could work to the end of the process.","body":"For example: I run my tests in 10 threads parallel. Almost the end of the process 8 threads is shutting down because there is no additional test class to run, but my remaining 2 slow test classes just strated to run now and it is slows down the whole process. But if I could run my test classes in reverse order by duration time, all of my threads could work to the end of the process."},{"owner":{"account_id":10496592,"reputation":3058,"user_id":7736617,"display_name":"Arnaud Claudel"},"score":0,"creation_date":1566558577,"post_id":57624495,"comment_id":101703736,"body_markdown":"Well, it&#39;s still vague. Do you have some relevant metrics like the test duration ?","body":"Well, it&#39;s still vague. Do you have some relevant metrics like the test duration ?"},{"owner":{"account_id":936608,"reputation":1545,"user_id":965431,"display_name":"S&#225;ndor Juhos"},"score":0,"creation_date":1566559111,"post_id":57624495,"comment_id":101704040,"body_markdown":"I have, the Jenkins provides it, as the running test summary","body":"I have, the Jenkins provides it, as the running test summary"},{"owner":{"account_id":10496592,"reputation":3058,"user_id":7736617,"display_name":"Arnaud Claudel"},"score":0,"creation_date":1566560517,"post_id":57624495,"comment_id":101704735,"body_markdown":"And then what&#39;s the difference ?","body":"And then what&#39;s the difference ?"},{"owner":{"account_id":936608,"reputation":1545,"user_id":965431,"display_name":"S&#225;ndor Juhos"},"score":0,"creation_date":1566561067,"post_id":57624495,"comment_id":101705010,"body_markdown":"I cant differ to anything, because I cant run my tests in the expected order. That is the problem. I only have statistics about the current &quot;slow&quot; running order.","body":"I cant differ to anything, because I cant run my tests in the expected order. That is the problem. I only have statistics about the current &quot;slow&quot; running order."},{"owner":{"account_id":6666037,"reputation":1880,"user_id":5143658,"display_name":"gybandi"},"score":1,"creation_date":1566584337,"post_id":57624495,"comment_id":101716202,"body_markdown":"Is jenkins pipeline out of the question? you could create a new category for the slow tests (like @jackkobec said) and create a pipeline with parallel stages (https://jenkins.io/blog/2017/09/25/declarative-1/). For example, at first you would have two parallel stages, one runs the slow category tests the other runs all other tests","body":"Is jenkins pipeline out of the question? you could create a new category for the slow tests (like @jackkobec said) and create a pipeline with parallel stages (<a href=\"https://jenkins.io/blog/2017/09/25/declarative-1/\" rel=\"nofollow noreferrer\">jenkins.io/blog/2017/09/25/declarative-1</a>). For example, at first you would have two parallel stages, one runs the slow category tests the other runs all other tests"},{"owner":{"account_id":936608,"reputation":1545,"user_id":965431,"display_name":"S&#225;ndor Juhos"},"score":1,"creation_date":1566973696,"post_id":57624495,"comment_id":101817699,"body_markdown":"@gybandi It is not the best solution for me.\nIf i have 10 threads to run my tests, and I define 2 parallel pipeline stages to run the slow and the other tests, I allocate 5-5 threads for the stages, when one of the stages finished to run, I cant reallocate the free 5 thread to finish the running stage faster.","body":"@gybandi It is not the best solution for me. If i have 10 threads to run my tests, and I define 2 parallel pipeline stages to run the slow and the other tests, I allocate 5-5 threads for the stages, when one of the stages finished to run, I cant reallocate the free 5 thread to finish the running stage faster."},{"owner":{"account_id":15956467,"reputation":4079,"user_id":11514534,"display_name":"second"},"score":0,"creation_date":1567695407,"post_id":57624495,"comment_id":102047956,"body_markdown":"Is upgrading to `JUnit5` an option for you? According to this [`link`](https://www.baeldung.com/junit-5-test-order) they added some custom ordering features there.","body":"Is upgrading to <code>JUnit5</code> an option for you? According to this <a href=\"https://www.baeldung.com/junit-5-test-order\" rel=\"nofollow noreferrer\"><code>link</code></a> they added some custom ordering features there."},{"owner":{"account_id":936608,"reputation":1545,"user_id":965431,"display_name":"S&#225;ndor Juhos"},"score":0,"creation_date":1567764494,"post_id":57624495,"comment_id":102070137,"body_markdown":"@second The JUnit5 provides test method ordering, but I need class ordering.","body":"@second The JUnit5 provides test method ordering, but I need class ordering."}],"answers":[{"tags":[],"owner":{"account_id":13118858,"reputation":6035,"user_id":9477038,"display_name":"Jackkobec"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1566557414,"creation_date":1566557414,"answer_id":57624797,"question_id":57624495,"body_markdown":"In out project we had created a few marker interfaces (\r\nexample \r\n\r\n    public interface SlowTestsCategory {}\r\n\r\n)\r\n\r\nand put it into the @Category annotation of JUnit in the test class with slow tests.\r\n\r\n    @Category(SlowTestsCategory.class)\r\n\r\nAfter that we created some special tasks for Gradle to run tests by category or a few categories by custom order:\r\n\r\n    task unitTest(type: Test) {\r\n      description = &#39;description.&#39;\r\n      group = &#39;groupName&#39;\r\n    \r\n      useJUnit {\r\n        includeCategories &#39;package.SlowTestsCategory&#39;\r\n        excludeCategories &#39;package.ExcludedCategory&#39;\r\n      }\r\n    }\r\n\r\nThis solution is served by Gradle, but maybe it&#39;ll be helpful for you.\r\n","title":"JUnit test class order","body":"<p>In out project we had created a few marker interfaces (\nexample </p>\n\n<pre><code>public interface SlowTestsCategory {}\n</code></pre>\n\n<p>)</p>\n\n<p>and put it into the @Category annotation of JUnit in the test class with slow tests.</p>\n\n<pre><code>@Category(SlowTestsCategory.class)\n</code></pre>\n\n<p>After that we created some special tasks for Gradle to run tests by category or a few categories by custom order:</p>\n\n<pre><code>task unitTest(type: Test) {\n  description = 'description.'\n  group = 'groupName'\n\n  useJUnit {\n    includeCategories 'package.SlowTestsCategory'\n    excludeCategories 'package.ExcludedCategory'\n  }\n}\n</code></pre>\n\n<p>This solution is served by Gradle, but maybe it'll be helpful for you.</p>\n"},{"tags":[],"owner":{"account_id":15956467,"reputation":4079,"user_id":11514534,"display_name":"second"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1567797577,"creation_date":1567775915,"answer_id":57822820,"question_id":57624495,"body_markdown":"I gave the combination of answers I found a try:&lt;br/&gt;\r\n\r\n- [`Running JUnit4 Test classes in specified order`](https://stackoverflow.com/a/19177717)&lt;br/&gt;\r\n- [`Running JUnit Test in parallel on Suite Level`](https://stackoverflow.com/a/10174630/11514534)\r\n\r\nThe second answer is based on these [`classes`](https://github.com/centic9/commons-test/tree/master/src/test/java/com/mycila/sandbox/junit/runner) of this [`github`](https://github.com/centic9/commons-test/) project, which is available under the BSD-2 license.\r\n\r\nI defined a few test classes:\r\n\r\n```java\r\npublic class LongRunningTest {\r\n\r\n\t@Test\r\n\tpublic void test() {\r\n\r\n\t\tSystem.out.println(Thread.currentThread().getName() + &quot;:\\tlong test - started&quot;);\r\n\r\n\t\tlong time = System.currentTimeMillis();\r\n\t\tdo {\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(1000);\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t}\r\n\t\t} while(System.currentTimeMillis() - time &lt; 1000);\r\n\r\n\t\tSystem.out.println(Thread.currentThread().getName() + &quot;:\\tlong test - done&quot;);\r\n\t}\r\n}\r\n```\r\n\r\n```java\r\n@Concurrent\r\npublic class FastRunningTest1 {\r\n\r\n\t@Test\r\n\tpublic void test1() {\r\n\t\ttry {\r\n\t\t\tThread.sleep(250);\r\n\t\t} catch (InterruptedException e) {\r\n\t\t}\r\n\r\n\t\tSystem.out.println(Thread.currentThread().getName() + &quot;:\\tfrt1-test1 - done&quot;);\r\n\t}\r\n\r\n    // +7 more repetions of the same method\r\n}\r\n```\r\n\r\nThen I defined the test suites:&lt;br/&gt;\r\n(FastRunningTest2 is a copy of the first class with adjusted output)\r\n\r\n```java\r\n@SuiteClasses({LongRunningTest.class, LongRunningTest.class})\r\n@RunWith(Suite.class)\r\npublic class SuiteOne {}\r\n\r\n@SuiteClasses({FastRunningTest1.class, FastRunningTest2.class})\r\n@RunWith(Suite.class)\r\npublic class SuiteTwo {}\r\n\r\n@SuiteClasses({SuiteOne.class, SuiteTwo.class})\r\n@RunWith(ConcurrentSuite.class)\r\npublic class TopLevelSuite {}\r\n```\r\n\r\nWhen I execute the `TopLevelSuite` I get the following output:\r\n\r\n`\r\nTopLevelSuite-1-thread-1:\t    long test - started\r\nFastRunningTest1-1-thread-4:\tfrt1-test4 - done\r\nFastRunningTest1-1-thread-2:\tfrt1-test2 - done\r\nFastRunningTest1-1-thread-1:\tfrt1-test1 - done\r\nFastRunningTest1-1-thread-3:\tfrt1-test3 - done\r\nFastRunningTest1-1-thread-5:\tfrt1-test5 - done\r\nFastRunningTest1-1-thread-3:\tfrt1-test6 - done\r\nFastRunningTest1-1-thread-1:\tfrt1-test8 - done\r\nFastRunningTest1-1-thread-5:\tfrt1-test7 - done\r\nFastRunningTest2-2-thread-1:\tfrt2-test1 - done\r\nFastRunningTest2-2-thread-2:\tfrt2-test2 - done\r\nFastRunningTest2-2-thread-5:\tfrt2-test5 - done\r\nFastRunningTest2-2-thread-3:\tfrt2-test3 - done\r\nFastRunningTest2-2-thread-4:\tfrt2-test4 - done\r\nTopLevelSuite-1-thread-1:\t    long test - done\r\nTopLevelSuite-1-thread-1:\t    long test - started\r\nFastRunningTest2-2-thread-5:\tfrt2-test8 - done\r\nFastRunningTest2-2-thread-2:\tfrt2-test6 - done\r\nFastRunningTest2-2-thread-1:\tfrt2-test7 - done\r\nTopLevelSuite-1-thread-1:\t    long test - done\r\n`\r\n\r\nWhich basically shows that the `LongRunningTest` is executed in parralel to the `FastRunningTests`. The default value of threads used for parallel execution defined by the `Concurrent` Annotation is `5`, which can be seen in the output of the parallel execution of the `FastRunningTests`.\r\n\r\nThe downside is that theses `Threads` are not shared between `FastRunningTest1` and `FastRunningTest2`.\r\n\r\n---\r\n\r\nThis behavious shows that it is &quot;somewhat&quot; possible to do what you want to do (so whether that works with your current setup is a different question). \r\n\r\nAlso I am not sure whether this is actually worth the effort,\r\n\r\n  - as you need to prepare those `TestSuites` manually (or write something that autogenerates them)\r\n  - and you need to define the Concurrent Annotation for all those classes (maybe with a different number of `threads` for each class)\r\n\r\n---\r\n\r\nAs this basically shows that it is possible to define the execution order of classes and trigger their parallel execution, it should also be possibly to get the whole process to only use one `ThreadPool` (but I am not sure what the implication of that would be).\r\n\r\nAs the whole concept is based on a ThreadPoolExecutor, using a `PriorityBlockingQueue` which gives long running tasks a higher priority you would get closer to your ideal outcome of executing the long running tests first.\r\n\r\n---\r\n\r\nI experimented around a bit more and implemented my own custom suite runner and junit runner. The idea behind is to have your JUnitRunner submit the tests into a queue which is handeld by a single `ThreadPoolExecutor`. Because I didn&#39;t implement a blocking operation in the `RunnerScheduler#finish` method, I ended up with a solution where the tests from all classes were passed to the queue before the execution even started. (That might look different if there a more test classes and methods involved).\r\n\r\nAt least it proves the point that you can mess with junit at this level if you really want to.\r\n\r\nThe code of my poc is a bit messy and to lengthy to put it here, but if someone is interested I can push it into a github project.\r\n","title":"JUnit test class order","body":"<p>I gave the combination of answers I found a try:<br/></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/19177717\"><code>Running JUnit4 Test classes in specified order</code></a><br/></li>\n<li><a href=\"https://stackoverflow.com/a/10174630/11514534\"><code>Running JUnit Test in parallel on Suite Level</code></a></li>\n</ul>\n\n<p>The second answer is based on these <a href=\"https://github.com/centic9/commons-test/tree/master/src/test/java/com/mycila/sandbox/junit/runner\" rel=\"nofollow noreferrer\"><code>classes</code></a> of this <a href=\"https://github.com/centic9/commons-test/\" rel=\"nofollow noreferrer\"><code>github</code></a> project, which is available under the BSD-2 license.</p>\n\n<p>I defined a few test classes:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class LongRunningTest {\n\n    @Test\n    public void test() {\n\n        System.out.println(Thread.currentThread().getName() + \":\\tlong test - started\");\n\n        long time = System.currentTimeMillis();\n        do {\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n            }\n        } while(System.currentTimeMillis() - time &lt; 1000);\n\n        System.out.println(Thread.currentThread().getName() + \":\\tlong test - done\");\n    }\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Concurrent\npublic class FastRunningTest1 {\n\n    @Test\n    public void test1() {\n        try {\n            Thread.sleep(250);\n        } catch (InterruptedException e) {\n        }\n\n        System.out.println(Thread.currentThread().getName() + \":\\tfrt1-test1 - done\");\n    }\n\n    // +7 more repetions of the same method\n}\n</code></pre>\n\n<p>Then I defined the test suites:<br/>\n(FastRunningTest2 is a copy of the first class with adjusted output)</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@SuiteClasses({LongRunningTest.class, LongRunningTest.class})\n@RunWith(Suite.class)\npublic class SuiteOne {}\n\n@SuiteClasses({FastRunningTest1.class, FastRunningTest2.class})\n@RunWith(Suite.class)\npublic class SuiteTwo {}\n\n@SuiteClasses({SuiteOne.class, SuiteTwo.class})\n@RunWith(ConcurrentSuite.class)\npublic class TopLevelSuite {}\n</code></pre>\n\n<p>When I execute the <code>TopLevelSuite</code> I get the following output:</p>\n\n<p><code>\nTopLevelSuite-1-thread-1:       long test - started\nFastRunningTest1-1-thread-4:    frt1-test4 - done\nFastRunningTest1-1-thread-2:    frt1-test2 - done\nFastRunningTest1-1-thread-1:    frt1-test1 - done\nFastRunningTest1-1-thread-3:    frt1-test3 - done\nFastRunningTest1-1-thread-5:    frt1-test5 - done\nFastRunningTest1-1-thread-3:    frt1-test6 - done\nFastRunningTest1-1-thread-1:    frt1-test8 - done\nFastRunningTest1-1-thread-5:    frt1-test7 - done\nFastRunningTest2-2-thread-1:    frt2-test1 - done\nFastRunningTest2-2-thread-2:    frt2-test2 - done\nFastRunningTest2-2-thread-5:    frt2-test5 - done\nFastRunningTest2-2-thread-3:    frt2-test3 - done\nFastRunningTest2-2-thread-4:    frt2-test4 - done\nTopLevelSuite-1-thread-1:       long test - done\nTopLevelSuite-1-thread-1:       long test - started\nFastRunningTest2-2-thread-5:    frt2-test8 - done\nFastRunningTest2-2-thread-2:    frt2-test6 - done\nFastRunningTest2-2-thread-1:    frt2-test7 - done\nTopLevelSuite-1-thread-1:       long test - done\n</code></p>\n\n<p>Which basically shows that the <code>LongRunningTest</code> is executed in parralel to the <code>FastRunningTests</code>. The default value of threads used for parallel execution defined by the <code>Concurrent</code> Annotation is <code>5</code>, which can be seen in the output of the parallel execution of the <code>FastRunningTests</code>.</p>\n\n<p>The downside is that theses <code>Threads</code> are not shared between <code>FastRunningTest1</code> and <code>FastRunningTest2</code>.</p>\n\n<hr>\n\n<p>This behavious shows that it is \"somewhat\" possible to do what you want to do (so whether that works with your current setup is a different question). </p>\n\n<p>Also I am not sure whether this is actually worth the effort,</p>\n\n<ul>\n<li>as you need to prepare those <code>TestSuites</code> manually (or write something that autogenerates them)</li>\n<li>and you need to define the Concurrent Annotation for all those classes (maybe with a different number of <code>threads</code> for each class)</li>\n</ul>\n\n<hr>\n\n<p>As this basically shows that it is possible to define the execution order of classes and trigger their parallel execution, it should also be possibly to get the whole process to only use one <code>ThreadPool</code> (but I am not sure what the implication of that would be).</p>\n\n<p>As the whole concept is based on a ThreadPoolExecutor, using a <code>PriorityBlockingQueue</code> which gives long running tasks a higher priority you would get closer to your ideal outcome of executing the long running tests first.</p>\n\n<hr>\n\n<p>I experimented around a bit more and implemented my own custom suite runner and junit runner. The idea behind is to have your JUnitRunner submit the tests into a queue which is handeld by a single <code>ThreadPoolExecutor</code>. Because I didn't implement a blocking operation in the <code>RunnerScheduler#finish</code> method, I ended up with a solution where the tests from all classes were passed to the queue before the execution even started. (That might look different if there a more test classes and methods involved).</p>\n\n<p>At least it proves the point that you can mess with junit at this level if you really want to.</p>\n\n<p>The code of my poc is a bit messy and to lengthy to put it here, but if someone is interested I can push it into a github project.</p>\n"},{"tags":[],"owner":{"account_id":1315221,"reputation":2335,"user_id":1262265,"accept_rate":100,"display_name":"nickolay.laptev"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1567979582,"creation_date":1567977894,"answer_id":57845859,"question_id":57624495,"body_markdown":"Let me summarize everything before I will provide a recommendation.\r\n\r\n1. Integration tests are slow. This is fine and it&#39;s natural.\r\n2. CI build doesn&#39;t run tests that assume deployment of a system, since there is no deployment in CI. We care about deployment in CD process.\r\nSo I assume your integration tests don&#39;t assume deployment.\r\n3. CI build runs unit tests first. Unit tests are extremely fast because they use only RAM.&lt;br&gt;\r\nWe have good and quick feedback from unit tests.\r\n\r\nAt this moment we are sure we don&#39;t have a problem with getting a quick feedback. But we still want to run integration tests faster.\r\nI would recommend the following solutions:\r\n\r\n1. Improve actual tests. Quite often they are not effective and can be speed up significantly.\r\n2. Run integration tests in background (i.e. don&#39;t wait for real time feedback from them).&lt;br&gt;\r\nIt&#39;s natural for them to be much slower than unit tests.\r\n3. Split integration tests on groups and run them separately if you need feedback from some of them faster.\r\n4. Run integration tests in different JVMs. Not different threads within the same JVM!&lt;br&gt;\r\nIn this case you don&#39;t care about thread safety and you should not care about it.\r\n5. Run integration tests on different machines and so on.\r\n\r\nI worked with many different projects (some of them had CI build running for 48 hours) and first 3 steps were enough (even for crazy cases). Step #4 is rarely needed having good tests. Step #5 is for very specific situations.\r\n\r\nYou see that my recommendation relates to the process and not to the tool, because the problem is in the process.&lt;br&gt;\r\nQuite often people ignore root cause and try to tune the tool (Maven in this case). They get cosmetic improvements but with high maintenance cost of created solution.","title":"JUnit test class order","body":"<p>Let me summarize everything before I will provide a recommendation.</p>\n\n<ol>\n<li>Integration tests are slow. This is fine and it's natural.</li>\n<li>CI build doesn't run tests that assume deployment of a system, since there is no deployment in CI. We care about deployment in CD process.\nSo I assume your integration tests don't assume deployment.</li>\n<li>CI build runs unit tests first. Unit tests are extremely fast because they use only RAM.<br>\nWe have good and quick feedback from unit tests.</li>\n</ol>\n\n<p>At this moment we are sure we don't have a problem with getting a quick feedback. But we still want to run integration tests faster.\nI would recommend the following solutions:</p>\n\n<ol>\n<li>Improve actual tests. Quite often they are not effective and can be speed up significantly.</li>\n<li>Run integration tests in background (i.e. don't wait for real time feedback from them).<br>\nIt's natural for them to be much slower than unit tests.</li>\n<li>Split integration tests on groups and run them separately if you need feedback from some of them faster.</li>\n<li>Run integration tests in different JVMs. Not different threads within the same JVM!<br>\nIn this case you don't care about thread safety and you should not care about it.</li>\n<li>Run integration tests on different machines and so on.</li>\n</ol>\n\n<p>I worked with many different projects (some of them had CI build running for 48 hours) and first 3 steps were enough (even for crazy cases). Step #4 is rarely needed having good tests. Step #5 is for very specific situations.</p>\n\n<p>You see that my recommendation relates to the process and not to the tool, because the problem is in the process.<br>\nQuite often people ignore root cause and try to tune the tool (Maven in this case). They get cosmetic improvements but with high maintenance cost of created solution.</p>\n"},{"tags":[],"owner":{"account_id":2114155,"reputation":27,"user_id":1878807,"display_name":"agent_Karma"},"down_vote_count":7,"up_vote_count":1,"is_accepted":false,"score":-6,"last_activity_date":1568081947,"creation_date":1568081947,"answer_id":57863207,"question_id":57624495,"body_markdown":"You can use annotations in Junit 5 to set the test order you wish to use: \r\n\r\nFrom Junit 5&#39;s user guide:\r\nhttps://junit.org/junit5/docs/current/user-guide/#writing-tests-test-execution-order\r\n\r\n    import org.junit.jupiter.api.MethodOrderer.OrderAnnotation;\r\n    import org.junit.jupiter.api.Order;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.TestMethodOrder;\r\n    \r\n    @TestMethodOrder(OrderAnnotation.class)\r\n    class OrderedTestsDemo {\r\n    \r\n        @Test\r\n        @Order(1)\r\n        void nullValues() {\r\n            // perform assertions against null values\r\n        }\r\n    \r\n        @Test\r\n        @Order(2)\r\n        void emptyValues() {\r\n            // perform assertions against empty values\r\n        }\r\n    \r\n        @Test\r\n        @Order(3)\r\n        void validValues() {\r\n            // perform assertions against valid values\r\n        }\r\n    \r\n    }\r\n\r\nUpgrading to Junit5 can be done fairly easily and the documentation on the link in the beginning of the post contains all the information you might need. ","title":"JUnit test class order","body":"<p>You can use annotations in Junit 5 to set the test order you wish to use: </p>\n\n<p>From Junit 5's user guide:\n<a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-test-execution-order\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/current/user-guide/#writing-tests-test-execution-order</a></p>\n\n<pre><code>import org.junit.jupiter.api.MethodOrderer.OrderAnnotation;\nimport org.junit.jupiter.api.Order;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.TestMethodOrder;\n\n@TestMethodOrder(OrderAnnotation.class)\nclass OrderedTestsDemo {\n\n    @Test\n    @Order(1)\n    void nullValues() {\n        // perform assertions against null values\n    }\n\n    @Test\n    @Order(2)\n    void emptyValues() {\n        // perform assertions against empty values\n    }\n\n    @Test\n    @Order(3)\n    void validValues() {\n        // perform assertions against valid values\n    }\n\n}\n</code></pre>\n\n<p>Upgrading to Junit5 can be done fairly easily and the documentation on the link in the beginning of the post contains all the information you might need. </p>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19523,"user_id":8583692,"display_name":"Mahozad"},"down_vote_count":0,"up_vote_count":47,"is_accepted":true,"score":47,"last_activity_date":1694681828,"creation_date":1613119623,"answer_id":66168725,"question_id":57624495,"body_markdown":"In *JUnit 5* (from version [5.8.0] onwards) test classes can be ordered too.\r\n\r\n*src/test/resources/*&lt;strong&gt;junit-platform.properties&lt;/strong&gt;:\r\n\r\n```Properties\r\n# ClassOrderer$OrderAnnotation sorts classes based on their @Order annotation\r\njunit.jupiter.testclass.order.default=org.junit.jupiter.api.ClassOrderer$OrderAnnotation\r\n```\r\n\r\nOther Junit built-in class orderer implementations:\r\n```\r\norg.junit.jupiter.api.ClassOrderer$ClassName\r\norg.junit.jupiter.api.ClassOrderer$DisplayName\r\norg.junit.jupiter.api.ClassOrderer$Random\r\n```\r\n\r\n&lt;sup&gt;For other ways to set configuration parameters (beside *junit-platform.properties* file) see [JUnit 5 user guide].&lt;/sup&gt;\r\n\r\nYou can also provide your own orderer. It must implement `ClassOrderer` interface:\r\n\r\n```Java\r\npackage foo;\r\npublic class MyOrderer implements ClassOrderer {\r\n    @Override\r\n    public void orderClasses(ClassOrdererContext context) {\r\n        Collections.shuffle(context.getClassDescriptors());\r\n    }\r\n}\r\n```\r\n```Properties\r\njunit.jupiter.testclass.order.default=foo.MyOrderer\r\n```\r\n\r\n### Note that `@Nested` test classes cannot be ordered by a `ClassOrderer`.\r\n\r\nRefer to JUnit 5 [documentations] and ClassOrderer [API docs] to learn more about this.\r\n\r\n\r\n  [5.8.0]: https://junit.org/junit5/docs/5.8.0/release-notes/ &quot;Release notes&quot;\r\n  [JUnit 5 user guide]: https://junit.org/junit5/docs/current/user-guide/#running-tests-config-params\r\n  [documentations]: https://junit.org/junit5/docs/snapshot/user-guide/index.html#writing-tests-test-execution-order\r\n  [api docs]: https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/ClassOrderer.html","title":"JUnit test class order","body":"<p>In <em>JUnit 5</em> (from version <a href=\"https://junit.org/junit5/docs/5.8.0/release-notes/\" rel=\"nofollow noreferrer\" title=\"Release notes\">5.8.0</a> onwards) test classes can be ordered too.</p>\n<p><em>src/test/resources/</em><strong>junit-platform.properties</strong>:</p>\n<pre><code># ClassOrderer$OrderAnnotation sorts classes based on their @Order annotation\njunit.jupiter.testclass.order.default=org.junit.jupiter.api.ClassOrderer$OrderAnnotation\n</code></pre>\n<p>Other Junit built-in class orderer implementations:</p>\n<pre><code>org.junit.jupiter.api.ClassOrderer$ClassName\norg.junit.jupiter.api.ClassOrderer$DisplayName\norg.junit.jupiter.api.ClassOrderer$Random\n</code></pre>\n<p><sup>For other ways to set configuration parameters (beside <em>junit-platform.properties</em> file) see <a href=\"https://junit.org/junit5/docs/current/user-guide/#running-tests-config-params\" rel=\"nofollow noreferrer\">JUnit 5 user guide</a>.</sup></p>\n<p>You can also provide your own orderer. It must implement <code>ClassOrderer</code> interface:</p>\n<pre><code>package foo;\npublic class MyOrderer implements ClassOrderer {\n    @Override\n    public void orderClasses(ClassOrdererContext context) {\n        Collections.shuffle(context.getClassDescriptors());\n    }\n}\n</code></pre>\n<pre><code>junit.jupiter.testclass.order.default=foo.MyOrderer\n</code></pre>\n<h3>Note that <code>@Nested</code> test classes cannot be ordered by a <code>ClassOrderer</code>.</h3>\n<p>Refer to JUnit 5 <a href=\"https://junit.org/junit5/docs/snapshot/user-guide/index.html#writing-tests-test-execution-order\" rel=\"nofollow noreferrer\">documentations</a> and ClassOrderer <a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/ClassOrderer.html\" rel=\"nofollow noreferrer\">API docs</a> to learn more about this.</p>\n"},{"tags":[],"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1625568787,"creation_date":1625568787,"answer_id":68269239,"question_id":57624495,"body_markdown":"There is a solution for that from version **5.8.0-M1** of junit.\r\n\r\nBasically you need to create your own orderer. I did something like that.\r\n\r\nHere is an annotation which you will use inside your test classes:\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface TestClassesOrder {\r\n        public int value() default Integer.MAX_VALUE;\r\n    }\r\n\r\nThen you need to create class which will implement org.junit.jupiter.api.ClassOrderer\r\n\r\n    public class AnnotationTestsOrderer implements ClassOrderer {\r\n        @Override\r\n        public void orderClasses(ClassOrdererContext context) {\r\n            Collections.sort(context.getClassDescriptors(), new Comparator&lt;ClassDescriptor&gt;() {\r\n                @Override\r\n                public int compare(ClassDescriptor o1, ClassDescriptor o2) {\r\n                    TestClassesOrder a1 = o1.getTestClass().getDeclaredAnnotation(TestClassesOrder.class);\r\n                    TestClassesOrder a2 = o2.getTestClass().getDeclaredAnnotation(TestClassesOrder.class);\r\n                    if (a1 == null) {\r\n                        return 1;\r\n                    }\r\n    \r\n                    if (a2 == null) {\r\n                        return -1;\r\n                    }\r\n                    if (a1.value() &lt; a2.value()) {\r\n                        return -1;\r\n                    }\r\n    \r\n                    if (a1.value() == a2.value()) {\r\n                        return 0;\r\n                    }\r\n    \r\n                    if (a1.value() &gt; a2.value()) {\r\n                        return 1;\r\n                    }\r\n                    return 0;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nTo get it working you need to tell junit which class you would use for ordering descriptors. So you need to create file &quot;**junit-platform.properties**&quot; it should be in resources folder. In that file you just need one line with your orderer class:\r\n\r\n    junit.jupiter.testclass.order.default=org.example.tests.AnnotationTestOrderer\r\n\r\n\r\nNow you can use your orderer annotation like Order annotation but on class level:\r\n\r\n    @TestClassesOrder(1)\r\n    class Tests {...}\r\n    \r\n    @TestClassesOrder(2)\r\n    class MainTests {...}\r\n    \r\n    @TestClassesOrder(3)\r\n    class EndToEndTests {...}\r\n\r\n\r\nI hope that this will help someone.\r\n","title":"JUnit test class order","body":"<p>There is a solution for that from version <strong>5.8.0-M1</strong> of junit.</p>\n<p>Basically you need to create your own orderer. I did something like that.</p>\n<p>Here is an annotation which you will use inside your test classes:</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\npublic @interface TestClassesOrder {\n    public int value() default Integer.MAX_VALUE;\n}\n</code></pre>\n<p>Then you need to create class which will implement org.junit.jupiter.api.ClassOrderer</p>\n<pre><code>public class AnnotationTestsOrderer implements ClassOrderer {\n    @Override\n    public void orderClasses(ClassOrdererContext context) {\n        Collections.sort(context.getClassDescriptors(), new Comparator&lt;ClassDescriptor&gt;() {\n            @Override\n            public int compare(ClassDescriptor o1, ClassDescriptor o2) {\n                TestClassesOrder a1 = o1.getTestClass().getDeclaredAnnotation(TestClassesOrder.class);\n                TestClassesOrder a2 = o2.getTestClass().getDeclaredAnnotation(TestClassesOrder.class);\n                if (a1 == null) {\n                    return 1;\n                }\n\n                if (a2 == null) {\n                    return -1;\n                }\n                if (a1.value() &lt; a2.value()) {\n                    return -1;\n                }\n\n                if (a1.value() == a2.value()) {\n                    return 0;\n                }\n\n                if (a1.value() &gt; a2.value()) {\n                    return 1;\n                }\n                return 0;\n            }\n        });\n    }\n}\n</code></pre>\n<p>To get it working you need to tell junit which class you would use for ordering descriptors. So you need to create file &quot;<strong>junit-platform.properties</strong>&quot; it should be in resources folder. In that file you just need one line with your orderer class:</p>\n<pre><code>junit.jupiter.testclass.order.default=org.example.tests.AnnotationTestOrderer\n</code></pre>\n<p>Now you can use your orderer annotation like Order annotation but on class level:</p>\n<pre><code>@TestClassesOrder(1)\nclass Tests {...}\n\n@TestClassesOrder(2)\nclass MainTests {...}\n\n@TestClassesOrder(3)\nclass EndToEndTests {...}\n</code></pre>\n<p>I hope that this will help someone.</p>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19523,"user_id":8583692,"display_name":"Mahozad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694681641,"creation_date":1694681641,"answer_id":77103252,"question_id":57624495,"body_markdown":"Here is another possible way which may be useful in some scenarios.\r\n\r\nFor example, if I want all my UI tests (which take a long time to execute) to run after my regular unit tests.\r\n\r\nFor this, a separate source set can be created and then making it run after regular tests.\r\n\r\nbuild.gradle.kts:\r\n\r\n```kotlin\r\nsourceSets {\r\n    create(&quot;uiTest&quot;) {\r\n        // Adds files from the main source set to the compile classpath and runtime classpath of this new source set.\r\n        // sourceSets.main.output is a collection of all the directories containing compiled main classes and resources\r\n        compileClasspath += sourceSets.main.get().output\r\n        runtimeClasspath += sourceSets.main.get().output\r\n    }\r\n}\r\n// Makes the uiTest configurations extend from test configurations,\r\n// which means that all the declared dependencies of the test code (and transitively the main as well)\r\n// also become dependencies of this new configuration\r\nval uiTestImplementation by configurations.getting {\r\n    extendsFrom(configurations.testImplementation.get())\r\n}\r\nval uiTestRuntimeOnly by configurations.getting {\r\n    extendsFrom(configurations.testRuntimeOnly.get())\r\n}\r\nval uiTest = task&lt;Test&gt;(&quot;uiTest&quot;) {\r\n    description = &quot;Runs UI tests.&quot;\r\n    group = &quot;verification&quot;\r\n\r\n    testClassesDirs = sourceSets[&quot;uiTest&quot;].output.classesDirs\r\n    classpath = sourceSets[&quot;uiTest&quot;].runtimeClasspath\r\n    mustRunAfter(&quot;test&quot;) // The important part\r\n\r\n    testLogging {\r\n        events(TestLogEvent.PASSED)\r\n    }\r\n}\r\ntasks.check { dependsOn(uiTest) }\r\n\r\ntasks.withType&lt;Test&gt; {\r\n    useJUnitPlatform() // Enables JUnit 5 (along with JUnit 4) tests\r\n}\r\n```\r\n\r\n```\r\nsrc\r\n  --- main\r\n      --- java\r\n      --- resources\r\n  --- test\r\n      --- java\r\n      --- resources\r\n  --- uiTest\r\n      --- java\r\n      --- resources\r\n```\r\n\r\nCreate your UI tests in `src/uiTest/java/...` directory like you would in `src/test/java/...`\r\n\r\nNow, if you execute the `check` Gradle task (`./gradlew check`) (which is simply a task that executes other test tasks), the UI tests will be executed after the regular unit tests.\r\n\r\nSidenote:\r\n  - Can just execute UI tests by executing `./gradlew uiTest` task\r\n  - Can just execute unit tests by executing `./gradlew test` task\r\n","title":"JUnit test class order","body":"<p>Here is another possible way which may be useful in some scenarios.</p>\n<p>For example, if I want all my UI tests (which take a long time to execute) to run after my regular unit tests.</p>\n<p>For this, a separate source set can be created and then making it run after regular tests.</p>\n<p>build.gradle.kts:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>sourceSets {\n    create(&quot;uiTest&quot;) {\n        // Adds files from the main source set to the compile classpath and runtime classpath of this new source set.\n        // sourceSets.main.output is a collection of all the directories containing compiled main classes and resources\n        compileClasspath += sourceSets.main.get().output\n        runtimeClasspath += sourceSets.main.get().output\n    }\n}\n// Makes the uiTest configurations extend from test configurations,\n// which means that all the declared dependencies of the test code (and transitively the main as well)\n// also become dependencies of this new configuration\nval uiTestImplementation by configurations.getting {\n    extendsFrom(configurations.testImplementation.get())\n}\nval uiTestRuntimeOnly by configurations.getting {\n    extendsFrom(configurations.testRuntimeOnly.get())\n}\nval uiTest = task&lt;Test&gt;(&quot;uiTest&quot;) {\n    description = &quot;Runs UI tests.&quot;\n    group = &quot;verification&quot;\n\n    testClassesDirs = sourceSets[&quot;uiTest&quot;].output.classesDirs\n    classpath = sourceSets[&quot;uiTest&quot;].runtimeClasspath\n    mustRunAfter(&quot;test&quot;) // The important part\n\n    testLogging {\n        events(TestLogEvent.PASSED)\n    }\n}\ntasks.check { dependsOn(uiTest) }\n\ntasks.withType&lt;Test&gt; {\n    useJUnitPlatform() // Enables JUnit 5 (along with JUnit 4) tests\n}\n</code></pre>\n<pre><code>src\n  --- main\n      --- java\n      --- resources\n  --- test\n      --- java\n      --- resources\n  --- uiTest\n      --- java\n      --- resources\n</code></pre>\n<p>Create your UI tests in <code>src/uiTest/java/...</code> directory like you would in <code>src/test/java/...</code></p>\n<p>Now, if you execute the <code>check</code> Gradle task (<code>./gradlew check</code>) (which is simply a task that executes other test tasks), the UI tests will be executed after the regular unit tests.</p>\n<p>Sidenote:</p>\n<ul>\n<li>Can just execute UI tests by executing <code>./gradlew uiTest</code> task</li>\n<li>Can just execute unit tests by executing <code>./gradlew test</code> task</li>\n</ul>\n"}],"owner":{"account_id":936608,"reputation":1545,"user_id":965431,"display_name":"S&#225;ndor Juhos"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28685,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":66168725,"answer_count":7,"score":30,"last_activity_date":1694681828,"creation_date":1566556368,"question_id":57624495,"body_markdown":"I have a Java app with Maven and JUnit for tests, with failsafe and surefire plugins.\r\n\r\nI have more than 2000 integration tests.\r\nTo speed up the test running, I use failsafe jvmfork to run my tests in parallel.\r\nI have some heavy test class, and they typically running at end of my test execution and it is slows down my CI verify process.\r\nThe filesafe runorder:balanced would be a good option for me, but I cant use it because the jvmfork.\r\nTo rename the test classes or move to another package and run it alpahabetical is not an option.\r\nAny suggestion how can I run my slow test classes at the begining of the verify process?","title":"JUnit test class order","body":"<p>I have a Java app with Maven and JUnit for tests, with failsafe and surefire plugins.</p>\n<p>I have more than 2000 integration tests.\nTo speed up the test running, I use failsafe jvmfork to run my tests in parallel.\nI have some heavy test class, and they typically running at end of my test execution and it is slows down my CI verify process.\nThe filesafe runorder:balanced would be a good option for me, but I cant use it because the jvmfork.\nTo rename the test classes or move to another package and run it alpahabetical is not an option.\nAny suggestion how can I run my slow test classes at the begining of the verify process?</p>\n"},{"tags":["java","spring-boot","groovy"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":1,"creation_date":1575629732,"post_id":59211132,"comment_id":104639979,"body_markdown":"You don&#39;t need to register with Oracle to download JDK 8. Binaries are freely available from https://adoptopenjdk.net.","body":"You don&#39;t need to register with Oracle to download JDK 8. Binaries are freely available from <a href=\"https://adoptopenjdk.net\" rel=\"nofollow noreferrer\">adoptopenjdk.net</a>."}],"answers":[{"tags":[],"owner":{"account_id":1754145,"reputation":43950,"user_id":1602555,"display_name":"Karol Dowbecki"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1575628915,"creation_date":1575628915,"answer_id":59211548,"question_id":59211132,"body_markdown":"Your error is related to Java module system:\r\n\r\n&gt; java.lang.reflect.InaccessibleObjectException: Unable to make jdk.internal.loader.ClassLoaders$AppClassLoader(jdk.internal.loader.ClassLoaders$PlatformClassLoader,jdk.internal.loader.URLClassPath) accessible: module java.base does not &quot;opens jdk.internal.loader&quot; to unnamed module @2e3967ea\r\n\r\nJudging from the stack trace this is caused by Groovy so either your are using an old Groovy version that doesn&#39;t support JDK 9 or running code that imports `jdk.internal.loader` without declaring proper Java module access. \r\n\r\nI&#39;d start by checking that you have recent Groovy dependencies but a quick workaround would be to run the JVM with:\r\n\r\n```\r\n--add-opens java.base/jdk.internal.loader=ALL-UNNAMED\r\n```\r\n    ","title":"SpringBoot 2.2.1 groovyMarkupConfigurer exception","body":"<p>Your error is related to Java module system:</p>\n\n<blockquote>\n  <p>java.lang.reflect.InaccessibleObjectException: Unable to make jdk.internal.loader.ClassLoaders$AppClassLoader(jdk.internal.loader.ClassLoaders$PlatformClassLoader,jdk.internal.loader.URLClassPath) accessible: module java.base does not \"opens jdk.internal.loader\" to unnamed module @2e3967ea</p>\n</blockquote>\n\n<p>Judging from the stack trace this is caused by Groovy so either your are using an old Groovy version that doesn't support JDK 9 or running code that imports <code>jdk.internal.loader</code> without declaring proper Java module access. </p>\n\n<p>I'd start by checking that you have recent Groovy dependencies but a quick workaround would be to run the JVM with:</p>\n\n<pre><code>--add-opens java.base/jdk.internal.loader=ALL-UNNAMED\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5709458,"reputation":191,"user_id":4511976,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1627031671,"creation_date":1627031671,"answer_id":68496856,"question_id":59211132,"body_markdown":"Exception arises in groovy autoconfiguration, so you can disable it in config:\r\n\r\n    @SpringBootApplication(exclude = {\r\n    GroovyTemplateAutoConfiguration.class})\r\n\r\nor in property file:\r\n\r\n    spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration\r\n\r\nAlso in my case next properties resolved this issue:\r\n \r\n\r\n    spring.groovy.template.enabled=false\r\n    spring.groovy.template.check-template-location=false\r\n\r\n","title":"SpringBoot 2.2.1 groovyMarkupConfigurer exception","body":"<p>Exception arises in groovy autoconfiguration, so you can disable it in config:</p>\n<pre><code>@SpringBootApplication(exclude = {\nGroovyTemplateAutoConfiguration.class})\n</code></pre>\n<p>or in property file:</p>\n<pre><code>spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration\n</code></pre>\n<p>Also in my case next properties resolved this issue:</p>\n<pre><code>spring.groovy.template.enabled=false\nspring.groovy.template.check-template-location=false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1008209,"reputation":119,"user_id":1021356,"display_name":"Srikanth Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694681749,"creation_date":1694681749,"answer_id":77103265,"question_id":59211132,"body_markdown":"Setting the below property as suggested by Alex worked for me. \r\n\r\nspring.autoconfigure.exclude=org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration\r\n","title":"SpringBoot 2.2.1 groovyMarkupConfigurer exception","body":"<p>Setting the below property as suggested by Alex worked for me.</p>\n<p>spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration</p>\n"}],"owner":{"account_id":13654971,"reputation":2319,"user_id":9851762,"display_name":"ItFreak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8758,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":59211548,"answer_count":3,"score":8,"last_activity_date":1694681749,"creation_date":1575627483,"question_id":59211132,"body_markdown":"I have a SpringBoot application that was developed with JDK8 and was now ported to JDK11. I get the following exception at startup:\r\n\r\n    ERROR SpringApplication: Application run failed\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;groovyMarkupConfigurer&#39; defined in class path resource [org/springframework/boot/autoconfigure/groovy/template/GroovyTemplateAutoConfiguration$GroovyMarkupConfiguration.class]: Invocation of init method failed; nested exception is java.lang.reflect.InaccessibleObjectException: Unable to make jdk.internal.loader.ClassLoaders$AppClassLoader(jdk.internal.loader.ClassLoaders$PlatformClassLoader,jdk.internal.loader.URLClassPath) accessible: module java.base does not &quot;opens jdk.internal.loader&quot; to unnamed module @2e3967ea\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1778)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:845)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:744)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:391)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312)\r\n    \tat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:140)\r\n    \tat de.ff.jf.bftag.alarmmonitor.Main.main(Main.java:38)\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make jdk.internal.loader.ClassLoaders$AppClassLoader(jdk.internal.loader.ClassLoaders$PlatformClassLoader,jdk.internal.loader.URLClassPath) accessible: module java.base does not &quot;opens jdk.internal.loader&quot; to unnamed module @2e3967ea\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:340)\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:280)\r\n    \tat java.base/java.lang.reflect.Constructor.checkCanSetAccessible(Constructor.java:189)\r\n    \tat java.base/java.lang.reflect.Constructor.setAccessible(Constructor.java:182)\r\n    \tat org.codehaus.groovy.reflection.CachedConstructor$1.run(CachedConstructor.java:44)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat org.codehaus.groovy.reflection.CachedConstructor.&lt;init&gt;(CachedConstructor.java:42)\r\n    \tat org.codehaus.groovy.reflection.CachedClass$2.initValue(CachedClass.java:79)\r\n    \tat org.codehaus.groovy.reflection.CachedClass$2.initValue(CachedClass.java:69)\r\n    \tat org.codehaus.groovy.util.LazyReference.getLocked(LazyReference.java:49)\r\n    \tat org.codehaus.groovy.util.LazyReference.get(LazyReference.java:36)\r\n    \tat org.codehaus.groovy.reflection.CachedClass.getConstructors(CachedClass.java:268)\r\n    \tat groovy.lang.MetaClassImpl.&lt;init&gt;(MetaClassImpl.java:218)\r\n    \tat groovy.lang.MetaClassImpl.&lt;init&gt;(MetaClassImpl.java:228)\r\n    \tat groovy.lang.MetaClassRegistry$MetaClassCreationHandle.createNormalMetaClass(MetaClassRegistry.java:171)\r\n    \tat groovy.lang.MetaClassRegistry$MetaClassCreationHandle.createWithCustomLookup(MetaClassRegistry.java:161)\r\n    \tat groovy.lang.MetaClassRegistry$MetaClassCreationHandle.create(MetaClassRegistry.java:144)\r\n    \tat org.codehaus.groovy.reflection.ClassInfo.getMetaClassUnderLock(ClassInfo.java:253)\r\n    \tat org.codehaus.groovy.reflection.ClassInfo.getMetaClass(ClassInfo.java:285)\r\n    \tat org.codehaus.groovy.reflection.ClassInfo.getMetaClass(ClassInfo.java:295)\r\n    \tat org.codehaus.groovy.runtime.metaclass.MetaClassRegistryImpl.getMetaClass(MetaClassRegistryImpl.java:261)\r\n    \tat org.codehaus.groovy.runtime.InvokerHelper.getMetaClass(InvokerHelper.java:873)\r\n    \tat org.codehaus.groovy.runtime.InvokerHelper.invokePojoMethod(InvokerHelper.java:906)\r\n    \tat org.codehaus.groovy.runtime.InvokerHelper.invokeMethod(InvokerHelper.java:898)\r\n    \tat org.codehaus.groovy.runtime.typehandling.DefaultTypeTransformation.castToBoolean(DefaultTypeTransformation.java:185)\r\n    \tat org.codehaus.groovy.runtime.typehandling.DefaultTypeTransformation.booleanUnbox(DefaultTypeTransformation.java:74)\r\n    \tat org.codehaus.groovy.control.customizers.ASTTransformationCustomizer.findASTTranformationClass(ASTTransformationCustomizer.groovy:209)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)\r\n    \tat org.codehaus.groovy.runtime.callsite.StaticMetaMethodSite$StaticMetaMethodSiteNoUnwrapNoCoerce.invoke(StaticMetaMethodSite.java:151)\r\n    \tat org.codehaus.groovy.runtime.callsite.StaticMetaMethodSite.callStatic(StaticMetaMethodSite.java:102)\r\n    \tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallStatic(CallSiteArray.java:56)\r\n    \tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callStatic(AbstractCallSite.java:194)\r\n    \tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callStatic(AbstractCallSite.java:214)\r\n    \tat org.codehaus.groovy.control.customizers.ASTTransformationCustomizer.findPhase(ASTTransformationCustomizer.groovy:226)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)\r\n    \tat org.codehaus.groovy.runtime.callsite.StaticMetaMethodSite$StaticMetaMethodSiteNoUnwrapNoCoerce.invoke(StaticMetaMethodSite.java:151)\r\n    \tat org.codehaus.groovy.runtime.callsite.StaticMetaMethodSite.callStatic(StaticMetaMethodSite.java:102)\r\n    \tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallStatic(CallSiteArray.java:56)\r\n    \tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callStatic(AbstractCallSite.java:194)\r\n    \tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callStatic(AbstractCallSite.java:214)\r\n    \tat org.codehaus.groovy.control.customizers.ASTTransformationCustomizer.&lt;init&gt;(ASTTransformationCustomizer.groovy:180)\r\n    \tat org.codehaus.groovy.control.customizers.ASTTransformationCustomizer.&lt;init&gt;(ASTTransformationCustomizer.groovy:188)\r\n    \tat groovy.text.markup.MarkupTemplateEngine.&lt;init&gt;(MarkupTemplateEngine.java:94)\r\n    \tat org.springframework.web.servlet.view.groovy.GroovyMarkupConfigurer.createTemplateEngine(GroovyMarkupConfigurer.java:159)\r\n    \tat org.springframework.web.servlet.view.groovy.GroovyMarkupConfigurer.afterPropertiesSet(GroovyMarkupConfigurer.java:152)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1837)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1774)\r\n    \t... 15 more\r\n\r\nHere is my pom.xml: \r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jxmapviewer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jxmapviewer2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.12&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.1.RELEASE&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n    &lt;/dependencies&gt;\r\n\r\nI have tried SpringWebStarter from 2.1.8 up to 2.2.1, I am always getting the same error.  \r\nI cannot use JDK8 again, since the computer has been updated from Windows 7 to Windows 10 and I am not willed to register at Oracle to download the JDK8 ;)  \r\n\r\nHas someone experienced this issue or does anyone have an idea how to solve this?","title":"SpringBoot 2.2.1 groovyMarkupConfigurer exception","body":"<p>I have a SpringBoot application that was developed with JDK8 and was now ported to JDK11. I get the following exception at startup:</p>\n\n<pre><code>ERROR SpringApplication: Application run failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'groovyMarkupConfigurer' defined in class path resource [org/springframework/boot/autoconfigure/groovy/template/GroovyTemplateAutoConfiguration$GroovyMarkupConfiguration.class]: Invocation of init method failed; nested exception is java.lang.reflect.InaccessibleObjectException: Unable to make jdk.internal.loader.ClassLoaders$AppClassLoader(jdk.internal.loader.ClassLoaders$PlatformClassLoader,jdk.internal.loader.URLClassPath) accessible: module java.base does not \"opens jdk.internal.loader\" to unnamed module @2e3967ea\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1778)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:845)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:744)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:391)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)\n    at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:140)\n    at de.ff.jf.bftag.alarmmonitor.Main.main(Main.java:38)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make jdk.internal.loader.ClassLoaders$AppClassLoader(jdk.internal.loader.ClassLoaders$PlatformClassLoader,jdk.internal.loader.URLClassPath) accessible: module java.base does not \"opens jdk.internal.loader\" to unnamed module @2e3967ea\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:340)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:280)\n    at java.base/java.lang.reflect.Constructor.checkCanSetAccessible(Constructor.java:189)\n    at java.base/java.lang.reflect.Constructor.setAccessible(Constructor.java:182)\n    at org.codehaus.groovy.reflection.CachedConstructor$1.run(CachedConstructor.java:44)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at org.codehaus.groovy.reflection.CachedConstructor.&lt;init&gt;(CachedConstructor.java:42)\n    at org.codehaus.groovy.reflection.CachedClass$2.initValue(CachedClass.java:79)\n    at org.codehaus.groovy.reflection.CachedClass$2.initValue(CachedClass.java:69)\n    at org.codehaus.groovy.util.LazyReference.getLocked(LazyReference.java:49)\n    at org.codehaus.groovy.util.LazyReference.get(LazyReference.java:36)\n    at org.codehaus.groovy.reflection.CachedClass.getConstructors(CachedClass.java:268)\n    at groovy.lang.MetaClassImpl.&lt;init&gt;(MetaClassImpl.java:218)\n    at groovy.lang.MetaClassImpl.&lt;init&gt;(MetaClassImpl.java:228)\n    at groovy.lang.MetaClassRegistry$MetaClassCreationHandle.createNormalMetaClass(MetaClassRegistry.java:171)\n    at groovy.lang.MetaClassRegistry$MetaClassCreationHandle.createWithCustomLookup(MetaClassRegistry.java:161)\n    at groovy.lang.MetaClassRegistry$MetaClassCreationHandle.create(MetaClassRegistry.java:144)\n    at org.codehaus.groovy.reflection.ClassInfo.getMetaClassUnderLock(ClassInfo.java:253)\n    at org.codehaus.groovy.reflection.ClassInfo.getMetaClass(ClassInfo.java:285)\n    at org.codehaus.groovy.reflection.ClassInfo.getMetaClass(ClassInfo.java:295)\n    at org.codehaus.groovy.runtime.metaclass.MetaClassRegistryImpl.getMetaClass(MetaClassRegistryImpl.java:261)\n    at org.codehaus.groovy.runtime.InvokerHelper.getMetaClass(InvokerHelper.java:873)\n    at org.codehaus.groovy.runtime.InvokerHelper.invokePojoMethod(InvokerHelper.java:906)\n    at org.codehaus.groovy.runtime.InvokerHelper.invokeMethod(InvokerHelper.java:898)\n    at org.codehaus.groovy.runtime.typehandling.DefaultTypeTransformation.castToBoolean(DefaultTypeTransformation.java:185)\n    at org.codehaus.groovy.runtime.typehandling.DefaultTypeTransformation.booleanUnbox(DefaultTypeTransformation.java:74)\n    at org.codehaus.groovy.control.customizers.ASTTransformationCustomizer.findASTTranformationClass(ASTTransformationCustomizer.groovy:209)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)\n    at org.codehaus.groovy.runtime.callsite.StaticMetaMethodSite$StaticMetaMethodSiteNoUnwrapNoCoerce.invoke(StaticMetaMethodSite.java:151)\n    at org.codehaus.groovy.runtime.callsite.StaticMetaMethodSite.callStatic(StaticMetaMethodSite.java:102)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallStatic(CallSiteArray.java:56)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callStatic(AbstractCallSite.java:194)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callStatic(AbstractCallSite.java:214)\n    at org.codehaus.groovy.control.customizers.ASTTransformationCustomizer.findPhase(ASTTransformationCustomizer.groovy:226)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)\n    at org.codehaus.groovy.runtime.callsite.StaticMetaMethodSite$StaticMetaMethodSiteNoUnwrapNoCoerce.invoke(StaticMetaMethodSite.java:151)\n    at org.codehaus.groovy.runtime.callsite.StaticMetaMethodSite.callStatic(StaticMetaMethodSite.java:102)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallStatic(CallSiteArray.java:56)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callStatic(AbstractCallSite.java:194)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callStatic(AbstractCallSite.java:214)\n    at org.codehaus.groovy.control.customizers.ASTTransformationCustomizer.&lt;init&gt;(ASTTransformationCustomizer.groovy:180)\n    at org.codehaus.groovy.control.customizers.ASTTransformationCustomizer.&lt;init&gt;(ASTTransformationCustomizer.groovy:188)\n    at groovy.text.markup.MarkupTemplateEngine.&lt;init&gt;(MarkupTemplateEngine.java:94)\n    at org.springframework.web.servlet.view.groovy.GroovyMarkupConfigurer.createTemplateEngine(GroovyMarkupConfigurer.java:159)\n    at org.springframework.web.servlet.view.groovy.GroovyMarkupConfigurer.afterPropertiesSet(GroovyMarkupConfigurer.java:152)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1837)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1774)\n    ... 15 more\n</code></pre>\n\n<p>Here is my pom.xml: </p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jxmapviewer&lt;/groupId&gt;\n        &lt;artifactId&gt;jxmapviewer2&lt;/artifactId&gt;\n        &lt;version&gt;2.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.12&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;version&gt;2.2.1.RELEASE&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n                &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>I have tried SpringWebStarter from 2.1.8 up to 2.2.1, I am always getting the same error.<br>\nI cannot use JDK8 again, since the computer has been updated from Windows 7 to Windows 10 and I am not willed to register at Oracle to download the JDK8 ;)  </p>\n\n<p>Has someone experienced this issue or does anyone have an idea how to solve this?</p>\n"},{"tags":["java","java-17","jlink","jdeps"],"answers":[{"tags":[],"owner":{"account_id":13291626,"reputation":2913,"user_id":9595931,"display_name":"St&#233;phane Mottelet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694681475,"creation_date":1694681475,"answer_id":77103221,"question_id":77103151,"body_markdown":"It seems to be a regression of 17.0.8 version, as with \r\n```\r\nopenjdk 17.0.3 2022-04-19 LTS\r\nOpenJDK Runtime Environment Zulu17.34+19-CA (build 17.0.3+7-LTS)\r\nOpenJDK 64-Bit Server VM Zulu17.34+19-CA (build 17.0.3+7-LTS, mixed mode, sharing)\r\n```\r\nthe `jlink` command runs fine.","title":"Duplicate resource error when using jlink with jdeps info (Java 17)","body":"<p>It seems to be a regression of 17.0.8 version, as with</p>\n<pre><code>openjdk 17.0.3 2022-04-19 LTS\nOpenJDK Runtime Environment Zulu17.34+19-CA (build 17.0.3+7-LTS)\nOpenJDK 64-Bit Server VM Zulu17.34+19-CA (build 17.0.3+7-LTS, mixed mode, sharing)\n</code></pre>\n<p>the <code>jlink</code> command runs fine.</p>\n"}],"owner":{"account_id":13291626,"reputation":2913,"user_id":9595931,"display_name":"St&#233;phane Mottelet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1694681475,"creation_date":1694680863,"question_id":77103151,"body_markdown":"I use jlink feeded with jdeps info to package a minimal jre for my application. The command\r\n```\r\njdeps --ignore-missing-deps --print-module-deps --recursive  modules/*/jar/*.jar\r\n```\r\nyields\r\n```\r\njava.base,java.compiler,java.desktop,java.logging,java.rmi\r\n```\r\nbut when I try to create the jre, with the command\r\n```\r\njlink --no-header-files --no-man-pages --compress=2 \\\r\n--add-modules java.base,java.compiler,java.desktop,java.logging,java.rmi \\\r\n--output jre\r\n```\r\nI have the following error\r\n```\r\nError: jdk.tools.jlink.plugin.PluginException: Duplicate resources: {conf/logging.properties=[java.rmi, java.logging, java.prefs, java.xml]}\r\n```\r\nWhat did I do incorrectly ? Here is my Java information:\r\n```\r\nopenjdk version &quot;17.0.8&quot; 2023-07-18 LTS\r\nOpenJDK Runtime Environment Zulu17.44+15-CA (build 17.0.8+7-LTS)\r\nOpenJDK 64-Bit Server VM Zulu17.44+15-CA (build 17.0.8+7-LTS, mixed mode, sharing)\r\n``` ","title":"Duplicate resource error when using jlink with jdeps info (Java 17)","body":"<p>I use jlink feeded with jdeps info to package a minimal jre for my application. The command</p>\n<pre><code>jdeps --ignore-missing-deps --print-module-deps --recursive  modules/*/jar/*.jar\n</code></pre>\n<p>yields</p>\n<pre><code>java.base,java.compiler,java.desktop,java.logging,java.rmi\n</code></pre>\n<p>but when I try to create the jre, with the command</p>\n<pre><code>jlink --no-header-files --no-man-pages --compress=2 \\\n--add-modules java.base,java.compiler,java.desktop,java.logging,java.rmi \\\n--output jre\n</code></pre>\n<p>I have the following error</p>\n<pre><code>Error: jdk.tools.jlink.plugin.PluginException: Duplicate resources: {conf/logging.properties=[java.rmi, java.logging, java.prefs, java.xml]}\n</code></pre>\n<p>What did I do incorrectly ? Here is my Java information:</p>\n<pre><code>openjdk version &quot;17.0.8&quot; 2023-07-18 LTS\nOpenJDK Runtime Environment Zulu17.44+15-CA (build 17.0.8+7-LTS)\nOpenJDK 64-Bit Server VM Zulu17.44+15-CA (build 17.0.8+7-LTS, mixed mode, sharing)\n</code></pre>\n"},{"tags":["java","spring","spring-security","saml"],"answers":[{"tags":[],"owner":{"account_id":1022086,"reputation":14601,"user_id":1032167,"accept_rate":50,"display_name":"varren"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1694681213,"creation_date":1506043554,"answer_id":46355497,"question_id":46354521,"body_markdown":"Normally, if you create all the setup, you use @Been in @Configuration class \r\n\r\n    // can put this been in any related config class, no need to create new one\r\n    @Configuration\r\n    public class Config { \r\n        @Bean \r\n        public WebSSOProfileConsumer getWebSSOProfileConsumerImpl(){\r\n            WebSSOProfileConsumerImpl consumer = new WebSSOProfileConsumerImpl();\r\n            consumer.setMaxAuthenticationAge(5000);\r\n            return consumer;\r\n        }\r\n    }\r\n\r\nOr Xml (real project [xml demo][1])\r\n\r\n```xml\r\n&lt;bean class=&quot;org.springframework.security.saml.websso.WebSSOProfileConsumerImpl&quot;\r\n      id=&quot;myWebSSOProfileConsumer&quot;&gt;\r\n    &lt;property name=&quot;maxAuthenticationAge&quot; value=&quot;5000&quot;/&gt;\r\n&lt;/bean&gt;\r\n```\r\n\r\nBut in your case demo example uses `import static org.springframework.security.extensions.saml2.config.SAMLConfigurer.saml` and you need to inject `WebSSOProfileConsumerImpl` in it and according to [this pull request][2] and its [source code][3] you probably could do that like this:\r\n\r\n    @Override\r\n    protected void configure(final HttpSecurity http) throws Exception {\r\n        http\r\n            .authorizeRequests()\r\n                .antMatchers(&quot;/saml*&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n            .apply(saml())\r\n                .webSSOProfileConsumer(getWebSSOProfileConsumerImpl())// &lt;= here\r\n                // ... rest of the setup\r\n             \r\n    }\r\n\r\n    \r\n    public WebSSOProfileConsumerImpl getWebSSOProfileConsumerImpl() {\r\n        WebSSOProfileConsumerImpl profileConsumer = new WebSSOProfileConsumerImpl();\r\n        profileConsumer.setMaxAuthenticationAge(5000);\r\n        return profileConsumer;\r\n    }\r\n\r\nThe sad part is that it is not released yet and you probably will have to rewrite your version of [SAMLConfigurer][4] or just copy paste the newer version from git repo and use it.\r\n\r\n\r\n  [1]: https://github.com/cloudfoundry/uaa/blob/master/uaa/src/main/webapp/WEB-INF/spring/saml-providers.xml#L217-L221\r\n  [2]: https://github.com/spring-projects/spring-security-saml-dsl/pull/35\r\n  [3]: https://github.com/spring-projects/spring-security-saml-dsl/pull/35/commits/a1bb497815c9947b39248708f0f7261ed483867f#diff-89b3de9ea48ec9e27685a8b11a665d7aR137\r\n  [4]: https://github.com/spring-projects/spring-security-saml-dsl/blob/master/spring-security-saml-dsl/src/main/java/org/springframework/security/extensions/saml2/config/SAMLConfigurer.java","title":"How to set maxAuthenticationAge in WebSSOProfileConsumerImpl?","body":"<p>Normally, if you create all the setup, you use @Been in @Configuration class</p>\n<pre><code>// can put this been in any related config class, no need to create new one\n@Configuration\npublic class Config { \n    @Bean \n    public WebSSOProfileConsumer getWebSSOProfileConsumerImpl(){\n        WebSSOProfileConsumerImpl consumer = new WebSSOProfileConsumerImpl();\n        consumer.setMaxAuthenticationAge(5000);\n        return consumer;\n    }\n}\n</code></pre>\n<p>Or Xml (real project <a href=\"https://github.com/cloudfoundry/uaa/blob/master/uaa/src/main/webapp/WEB-INF/spring/saml-providers.xml#L217-L221\" rel=\"nofollow noreferrer\">xml demo</a>)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean class=&quot;org.springframework.security.saml.websso.WebSSOProfileConsumerImpl&quot;\n      id=&quot;myWebSSOProfileConsumer&quot;&gt;\n    &lt;property name=&quot;maxAuthenticationAge&quot; value=&quot;5000&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>But in your case demo example uses <code>import static org.springframework.security.extensions.saml2.config.SAMLConfigurer.saml</code> and you need to inject <code>WebSSOProfileConsumerImpl</code> in it and according to <a href=\"https://github.com/spring-projects/spring-security-saml-dsl/pull/35\" rel=\"nofollow noreferrer\">this pull request</a> and its <a href=\"https://github.com/spring-projects/spring-security-saml-dsl/pull/35/commits/a1bb497815c9947b39248708f0f7261ed483867f#diff-89b3de9ea48ec9e27685a8b11a665d7aR137\" rel=\"nofollow noreferrer\">source code</a> you probably could do that like this:</p>\n<pre><code>@Override\nprotected void configure(final HttpSecurity http) throws Exception {\n    http\n        .authorizeRequests()\n            .antMatchers(&quot;/saml*&quot;).permitAll()\n            .anyRequest().authenticated()\n            .and()\n        .apply(saml())\n            .webSSOProfileConsumer(getWebSSOProfileConsumerImpl())// &lt;= here\n            // ... rest of the setup\n         \n}\n\n\npublic WebSSOProfileConsumerImpl getWebSSOProfileConsumerImpl() {\n    WebSSOProfileConsumerImpl profileConsumer = new WebSSOProfileConsumerImpl();\n    profileConsumer.setMaxAuthenticationAge(5000);\n    return profileConsumer;\n}\n</code></pre>\n<p>The sad part is that it is not released yet and you probably will have to rewrite your version of <a href=\"https://github.com/spring-projects/spring-security-saml-dsl/blob/master/spring-security-saml-dsl/src/main/java/org/springframework/security/extensions/saml2/config/SAMLConfigurer.java\" rel=\"nofollow noreferrer\">SAMLConfigurer</a> or just copy paste the newer version from git repo and use it.</p>\n"}],"owner":{"account_id":2997540,"reputation":1038,"user_id":2543768,"accept_rate":83,"display_name":"jchamberlain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3076,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":46355497,"answer_count":1,"score":2,"last_activity_date":1694681213,"creation_date":1506035507,"question_id":46354521,"body_markdown":"I&#39;m new to Spring, and have just got SAML authentication with Spring Security and Okta working following [this tutorial][1]. However, Spring is rejecting SAML authentication older than 7200 seconds, and I&#39;d like to extend that time.\r\n\r\nThe [docs][2] say to set `maxAuthenticationAge` on the `WebSSOProfileConsumerImpl` bean, but...I have no idea how to do that.\r\n\r\nCould someone give me an example or point me in the right direction?\r\n\r\n\r\n  [1]: https://developer.okta.com/blog/2017/03/16/spring-boot-saml\r\n  [2]: https://docs.spring.io/spring-security-saml/docs/current/reference/html/configuration-advanced.html","title":"How to set maxAuthenticationAge in WebSSOProfileConsumerImpl?","body":"<p>I'm new to Spring, and have just got SAML authentication with Spring Security and Okta working following <a href=\"https://developer.okta.com/blog/2017/03/16/spring-boot-saml\" rel=\"nofollow noreferrer\">this tutorial</a>. However, Spring is rejecting SAML authentication older than 7200 seconds, and I'd like to extend that time.</p>\n\n<p>The <a href=\"https://docs.spring.io/spring-security-saml/docs/current/reference/html/configuration-advanced.html\" rel=\"nofollow noreferrer\">docs</a> say to set <code>maxAuthenticationAge</code> on the <code>WebSSOProfileConsumerImpl</code> bean, but...I have no idea how to do that.</p>\n\n<p>Could someone give me an example or point me in the right direction?</p>\n"},{"tags":["java","command","minecraft","spigot","minecraft-commands"],"comments":[{"owner":{"account_id":28334758,"reputation":70,"user_id":21668471,"display_name":"atlaska826"},"score":1,"creation_date":1693939988,"post_id":77046470,"comment_id":135825029,"body_markdown":"Could you please add the error message to your post so that myself and others can see it?","body":"Could you please add the error message to your post so that myself and others can see it?"}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694085961,"creation_date":1694085961,"answer_id":77059177,"question_id":77046470,"body_markdown":"The return of this method say if it should show the command usage. So `return true` means it will show it.\r\n\r\nYou&#39;re always returning true.\r\n\r\nElse, you have an issue. You are checking if `args` is empty, then you are checking if first content of `args` is equals to something. This can&#39;t work. You should do like:\r\n```java\r\nif(args.length == 0) {\r\n   // here send help/usage message\r\n} else if(args[0].equalsIgnoreCase(&quot;something&quot;)) {\r\n   // here it&#39;s fine\r\n}\r\n```\r\nYou can also use return with like:\r\n```java\r\nif(args.length == 0) {\r\n   // here send help/usage message\r\n   return false; // here you&#39;re stoping the method\r\n}\r\n\r\nif(args[0].equalsIgnoreCase(&quot;something&quot;)) {\r\n   // here it&#39;s fine\r\n}\r\n```","title":"A timer in minecraft","body":"<p>The return of this method say if it should show the command usage. So <code>return true</code> means it will show it.</p>\n<p>You're always returning true.</p>\n<p>Else, you have an issue. You are checking if <code>args</code> is empty, then you are checking if first content of <code>args</code> is equals to something. This can't work. You should do like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(args.length == 0) {\n   // here send help/usage message\n} else if(args[0].equalsIgnoreCase(&quot;something&quot;)) {\n   // here it's fine\n}\n</code></pre>\n<p>You can also use return with like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(args.length == 0) {\n   // here send help/usage message\n   return false; // here you're stoping the method\n}\n\nif(args[0].equalsIgnoreCase(&quot;something&quot;)) {\n   // here it's fine\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12925848,"reputation":11,"user_id":9346616,"display_name":"Sprax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694681039,"creation_date":1694681039,"answer_id":77103177,"question_id":77046470,"body_markdown":"The error you are seeing should already point you into the right direction: [`NoClassDefFoundError`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/NoClassDefFoundError.html) and [`ClassNotFoundException`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ClassNotFoundException.html)\r\n\r\nThis looks like some kind of issue at your build process that produces the final plugin .jar file.\r\n\r\nI&#39;d suggest opening the .jar file as a ZIP archive (for example in 7-zip or WinRar) and checking if the class file in question is actually inside it.\r\nThe class `com.stackoverflow.Foo` would normally be in `com/stackoverflow.Foo.class`.\r\n\r\nMake sure that if you are using Maven or Gradle that no optimization step is removing your classes by accident.\r\n\r\nIf you export to a jar file manually, make sure \r\n\r\n---\r\nPS: Your plugin is shown red in the list because it is not enabled. The server knows about it but this usually means it has been disabled because of an error (or manually).\r\n\r\nYou can see that happening in your log file:\r\n```\r\n[12:31:29 INFO]: [mcplugion] Enabling mcplugion v1.0-SNAPSHOT\r\n\r\n[Your messages and the large error]\r\n\r\n[12:31:29 INFO]: [mcplugion] Disabling mcplugion v1.0-SNAPSHOT\r\n```","title":"A timer in minecraft","body":"<p>The error you are seeing should already point you into the right direction: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/NoClassDefFoundError.html\" rel=\"nofollow noreferrer\"><code>NoClassDefFoundError</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ClassNotFoundException.html\" rel=\"nofollow noreferrer\"><code>ClassNotFoundException</code></a></p>\n<p>This looks like some kind of issue at your build process that produces the final plugin .jar file.</p>\n<p>I'd suggest opening the .jar file as a ZIP archive (for example in 7-zip or WinRar) and checking if the class file in question is actually inside it.\nThe class <code>com.stackoverflow.Foo</code> would normally be in <code>com/stackoverflow.Foo.class</code>.</p>\n<p>Make sure that if you are using Maven or Gradle that no optimization step is removing your classes by accident.</p>\n<p>If you export to a jar file manually, make sure</p>\n<hr />\n<p>PS: Your plugin is shown red in the list because it is not enabled. The server knows about it but this usually means it has been disabled because of an error (or manually).</p>\n<p>You can see that happening in your log file:</p>\n<pre><code>[12:31:29 INFO]: [mcplugion] Enabling mcplugion v1.0-SNAPSHOT\n\n[Your messages and the large error]\n\n[12:31:29 INFO]: [mcplugion] Disabling mcplugion v1.0-SNAPSHOT\n</code></pre>\n"}],"owner":{"account_id":29373054,"reputation":1,"user_id":22505223,"display_name":"Beba"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1694681039,"creation_date":1693933737,"question_id":77046470,"body_markdown":"[I think this means that the plugin isnt loaded properly. ][1]Ive made a timer in minecraft but suddendly it wasnt working at all. The command `/timer` sends the &quot;usage&quot; message I&#39;ve added but when I use more arguments it wont work and it says &quot;An internal error occured while attempting to perform this command&quot;\r\n\r\nMain Class\r\n```\r\npackage tv.bebaeb.mcplugion;\r\n\r\nimport org.bukkit.Bukkit;\r\nimport org.bukkit.ChatColor;\r\nimport org.bukkit.entity.Player;\r\nimport org.bukkit.plugin.PluginManager;\r\nimport org.bukkit.plugin.java.JavaPlugin;\r\nimport tv.bebaeb.mcplugion.timer.Timer;\r\nimport tv.bebaeb.mcplugion.commands.HealCommand;\r\nimport tv.bebaeb.mcplugion.commands.TimerCommand;\r\nimport tv.bebaeb.mcplugion.listeners.JoinListener;\r\nimport tv.bebaeb.mcplugion.listeners.QuitListener;\r\nimport tv.bebaeb.mcplugion.tablist.TablistManager;\r\nimport org.bukkit.entity.Player;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic final class Mcplugion extends JavaPlugin {\r\n\r\n\r\n\r\n    private  static Mcplugion instance;\r\n\r\n    private TablistManager tablistManager;\r\n\r\n    private Timer timer;\r\n\r\n    @Override\r\n    public void onLoad() {\r\n        instance = this;\r\n    }\r\n\r\n    @Override\r\n    public void onEnable() {\r\n        Bukkit.getConsoleSender().sendMessage(ChatColor.BLUE + &quot;\\n\\n\\n\\n\\nMcPlugion\\n\\nM\\nC\\nP\\nL\\nU\\nG\\nI\\nO\\nN\\n\\nMcPlugion\\n\\n\\n\\n\\n&quot;);\r\n\r\n        PluginManager manager = Bukkit.getPluginManager();\r\n        manager.registerEvents(new JoinListener(), this);\r\n        manager.registerEvents(new QuitListener(), this);\r\n\r\n        getCommand(&quot;timer&quot;).setExecutor(new TimerCommand());\r\n        getCommand(&quot;heal&quot;).setExecutor(new HealCommand());\r\n\r\n        timer = new Timer(false,  0, 0, 0, 0);\r\n        tablistManager = new TablistManager();\r\n    }\r\n\r\n    @Override\r\n    public void onDisable() {\r\n        // Plugin shutdown logic\r\n    }\r\n\r\n    public static Mcplugion getInstance() {\r\n        return instance;\r\n    }\r\n\r\n    public Timer getTimer() {\r\n        return  timer;\r\n    }\r\n\r\n    public TablistManager getTablistManager() {\r\n        return tablistManager;\r\n    }\r\n}\r\n\r\n```\r\n\r\n`TimerCommand` Class\r\n\r\n```\r\npackage tv.bebaeb.mcplugion.commands;\r\n\r\nimport org.bukkit.ChatColor;\r\nimport org.bukkit.command.Command;\r\nimport org.bukkit.command.CommandExecutor;\r\nimport org.bukkit.command.CommandSender;\r\nimport org.bukkit.entity.Player;\r\nimport tv.bebaeb.mcplugion.Mcplugion;\r\nimport tv.bebaeb.mcplugion.timer.Timer;\r\n\r\nimport java.util.MissingFormatArgumentException;\r\n\r\npublic class TimerCommand implements CommandExecutor {\r\n\r\n    @Override\r\n    public boolean onCommand(CommandSender sender, Command command, String label, String[] args) {\r\n        if (!(sender instanceof Player)) {\r\n            sender.sendMessage(ChatColor.RED + &quot;Only players can use this command.&quot;);\r\n            return true;\r\n        }\r\n\r\n        Player player = (Player) sender;\r\n        Mcplugion plugin = Mcplugion.getInstance();\r\n        Timer timer = Mcplugion.getInstance().getTimer();\r\n\r\n        if (args.length == 0){\r\n            sender.sendMessage(ChatColor.RED+&quot;a&quot;+ChatColor.GRAY + &quot;Usage&quot; + ChatColor.GRAY + &quot;: &quot; + ChatColor.BLUE + &quot;/timer resume, /timer reverse, /timer pause, /timer set &lt;Days&gt; &lt;Hours&gt; &lt;Minutes&gt; &lt;Seconds&gt;, /timer reset, /timer time&quot;);\r\n        }\r\n\r\n        if (args[0].equalsIgnoreCase(&quot;resume&quot;)) {\r\n\r\n\r\n            if (timer.isRunning()) {\r\n                sender.sendMessage(ChatColor.RED + &quot;The timer is already running.&quot;);\r\n                return false;\r\n            } else if (!timer.isRunning()) {\r\n                timer.setRunback(false);\r\n                timer.setRunning(true);\r\n                sender.sendMessage(ChatColor.GREEN + &quot;The timer has started.&quot;);\r\n            }\r\n        }\r\n\r\n        if (args[0].equalsIgnoreCase(&quot;reverse&quot;)) {\r\n\r\n            if (timer.isRunning()) {\r\n                sender.sendMessage(ChatColor.RED + &quot;The timer is already running.&quot;);\r\n                return false;\r\n            }\r\n            if (!timer.isRunning()) {\r\n                timer.setRunback(true);\r\n                timer.setRunning(true);\r\n                sender.sendMessage(ChatColor.GREEN + &quot;The timer has started reversing.&quot;);\r\n            }\r\n        }\r\n\r\n        if (args[0].equalsIgnoreCase(&quot;pause&quot;)) {\r\n\r\n            if (!timer.isRunning()) {\r\n                sender.sendMessage(ChatColor.RED + &quot;The timer is not running.&quot;);\r\n                return false;\r\n            }\r\n\r\n            timer.setRunning(true);\r\n            sender.sendMessage(ChatColor.GRAY + &quot;The timer has stopped.&quot;);\r\n            return false;\r\n        }\r\n        if (args[0].equalsIgnoreCase(&quot;set&quot;)) {\r\n\r\n            try {\r\n                timer.setRunning(false);\r\n                timer.setTimeD(Integer.parseInt(args[1]));\r\n                timer.setTimeH(Integer.parseInt(args[2]));\r\n                timer.setTimeM(Integer.parseInt(args[3]));\r\n                timer.setTimeS(Integer.parseInt(args[4]));\r\n                if (timer.getTimeH() &lt; 24) {\r\n                    if (timer.getTimeM() &lt; 60) {\r\n                        if (timer.getTimeS() &lt; 60) {\r\n                            sender.sendMessage(ChatColor.GRAY + &quot;The timer has been set to &quot; + args[1] + &quot; days, &quot; + args[2] + &quot; hours, &quot; + args[3] + &quot; minutes, &quot; + args[4] + &quot; seconds.&quot;);\r\n                        }\r\n                    }\r\n                }\r\n            } catch (MissingFormatArgumentException e) {\r\n                sender.sendMessage(ChatColor.RED + &quot;You need to use the right format: Days, Hours, Minutes, Seconds&quot;);\r\n            }\r\n            return false;\r\n        }\r\n\r\n        if (args[0].equalsIgnoreCase(&quot;reset&quot;)) {\r\n            timer.setRunning(false);\r\n            timer.setRunback(false);\r\n            timer.setTimeS(0);\r\n            timer.setTimeM(0);\r\n            timer.setTimeH(0);\r\n            timer.setTimeD(0);\r\n            sender.sendMessage(ChatColor.GRAY + &quot;The timer has been reset.&quot;);\r\n            return false;\r\n        }\r\n\r\n        if (args[0].equalsIgnoreCase(&quot;time&quot;)) {\r\n\r\n            sender.sendMessage(timer.getTimeD() + &quot;d, &quot; + timer.getTimeH() + &quot;h, &quot; + timer.getTimeM() + &quot;m, &quot; + timer.getTimeS() + &quot;s&quot;);\r\n        }\r\n\r\n        if (args[0].equalsIgnoreCase(&quot;toggle&quot;)) {\r\n\r\n            if (timer.isRunning()) {\r\n                timer.setRunning(false);\r\n                sender.sendMessage(ChatColor.RED + &quot;The timer is not running.&quot;);\r\n            } else {\r\n                timer.setRunning(true);\r\n                sender.sendMessage(ChatColor.GREEN + &quot;The timer has started.&quot;);\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n\r\n```\r\n\r\n`Timer` Class\r\n\r\n\r\n```\r\npackage tv.bebaeb.mcplugion.timer;\r\n\r\nimport net.md_5.bungee.api.ChatMessageType;\r\nimport net.md_5.bungee.api.chat.TextComponent;\r\nimport org.bukkit.Bukkit;\r\nimport org.bukkit.ChatColor;\r\nimport org.bukkit.entity.Player;\r\nimport org.bukkit.scheduler.BukkitRunnable;\r\nimport tv.bebaeb.mcplugion.Mcplugion;\r\n\r\npublic class Timer {\r\n\r\n    private boolean running; // true or false\r\n\r\n    private boolean runback;\r\n    private  int timeS;\r\n    private  int timeM;\r\n    private  int timeH;\r\n    private  int timeD;\r\n\r\n\r\n\r\n    public Timer(boolean running, int timeS, int timeM, int timeH, int timeD) {\r\n        this.running = running;\r\n        this.timeS = timeS;\r\n        this.timeM = timeM;\r\n        this.timeH = timeH;\r\n        this.timeD = timeD;\r\n\r\n        run();\r\n    }\r\n\r\n    public boolean isRunning() {\r\n        return running;\r\n    }\r\n\r\n    public boolean isRunback() {\r\n        return runback;\r\n    }\r\n\r\n    public void setRunning(boolean running) {\r\n        this.running = running;\r\n    }\r\n\r\n    public void setRunback(boolean runback) {\r\n        this.runback = runback;\r\n    }\r\n\r\n    public int getTimeS() {\r\n        return timeS;\r\n    }\r\n    public int getTimeM() {\r\n        return timeM;\r\n    }\r\n    public int getTimeH() {\r\n        return timeH;\r\n    }\r\n    public int getTimeD() {\r\n        return timeD;\r\n    }\r\n    public void setTimeS(int time) {\r\n        this.timeS = time;\r\n    }\r\n    public void setTimeM(int time) {\r\n        this.timeM = time;\r\n    }\r\n    public void setTimeH(int time) {\r\n        this.timeH = time;\r\n    }\r\n    public void setTimeD(int time) {\r\n        this.timeD = time;\r\n    }\r\n    public void sendActionBar() {\r\n\r\n        for (Player player : Bukkit.getOnlinePlayers()) {\r\n\r\n            if (!isRunning()) {\r\n                    player.spigot().sendMessage(ChatMessageType.ACTION_BAR, new TextComponent(ChatColor.RED +\r\n                            &quot;Timer paused&quot;));\r\n                    continue;\r\n            }\r\n\r\n            if (isRunning()) {\r\n                if (getTimeM() == 0) {\r\n                    player.spigot().sendMessage(ChatMessageType.ACTION_BAR, new TextComponent(ChatColor.WHITE.toString() +\r\n                            ChatColor.BOLD + String.format(&quot;%ds&quot;, getTimeS())));\r\n                } else if (getTimeH() == 0) {\r\n                    player.spigot().sendMessage(ChatMessageType.ACTION_BAR, new TextComponent(ChatColor.WHITE.toString() +\r\n                            ChatColor.BOLD + String.format(&quot;%dm %ds&quot;, getTimeM(), getTimeS())));\r\n                } else if (getTimeD() == 0) {\r\n                    player.spigot().sendMessage(ChatMessageType.ACTION_BAR, new TextComponent(ChatColor.WHITE.toString() +\r\n                            ChatColor.BOLD + String.format(&quot;%dh %dm %ds&quot;, getTimeH(), getTimeM(), getTimeS())));\r\n                } else if (getTimeD() &gt; 0) {\r\n                    player.spigot().sendMessage(ChatMessageType.ACTION_BAR, new TextComponent(ChatColor.WHITE.toString() +\r\n                            ChatColor.BOLD + String.format(&quot;%dd %dh %dm %ds&quot;, getTimeD(), getTimeH(), getTimeM(), getTimeS())));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n    private  void  run() {\r\n        new BukkitRunnable() {\r\n            @Override\r\n            public void run() {\r\n                sendActionBar();\r\n\r\n                if (!isRunning()) {\r\n                    return;\r\n                }\r\n\r\n                if (isRunback()) {\r\n\r\n                    if (getTimeS() &gt; 0) {\r\n                        setTimeS(getTimeS() - 1);\r\n                    } else {\r\n                        if (getTimeM() &gt; 0) {\r\n                            setTimeS(59);\r\n                            setTimeM(getTimeM() - 1);\r\n                        } else {\r\n                            if (getTimeH() &gt; 0) {\r\n                                setTimeM(59);\r\n                                setTimeS(59);\r\n                                setTimeH(getTimeH() - 1);\r\n                            } else {\r\n                                if (getTimeD() &gt; 0) {\r\n                                    setTimeH(23);\r\n                                    setTimeM(59);\r\n                                    setTimeS(59);\r\n                                    setTimeD(getTimeD() - 1);\r\n                                } else {\r\n                                    sendActionBar();\r\n                                    setRunning(false);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                } else {\r\n\r\n                if (getTimeS() &lt; 60) {\r\n                    setTimeS(getTimeS() + 1);\r\n                }\r\n\r\n                if (getTimeS() &gt; 59) {\r\n                    setTimeS(0);\r\n                    setTimeM(getTimeM() + 1);\r\n                }\r\n\r\n                if (getTimeM() &gt; 59) {\r\n                    setTimeM(0);\r\n                    setTimeH(getTimeH() + 1);\r\n                }\r\n\r\n                if (getTimeH() &gt; 23) {\r\n                    setTimeH(0);\r\n                    setTimeD(getTimeD() + 1);\r\n                }\r\n            }\r\n\r\n            }\r\n        }.runTaskTimer(Mcplugion.getInstance(), 20, 20);\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nThe error message:\r\n\r\n```\r\n [20:56:22] [Server thread/INFO]: Bebaeb issued server command: /timer toggle\r\n[20:56:22] [Server thread/ERROR]: null\r\norg.bukkit.command.CommandException: Unhandled exception executing command &#39;timer&#39; in plugin mcplugion v1.0-SNAPSHOT\r\n        at org.bukkit.command.PluginCommand.execute(PluginCommand.java:47) ~[spigot-api-1.20.1-R0.1-SNAPSHOT.jar:?]\r\n        at org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:149) ~[spigot-api-1.20.1-R0.1-SNAPSHOT.jar:?]\r\n        at org.bukkit.craftbukkit.v1_20_R1.CraftServer.dispatchCommand(CraftServer.java:875) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\r\n        at org.bukkit.craftbukkit.v1_20_R1.command.BukkitCommandWrapper.run(BukkitCommandWrapper.java:50) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\r\n        at com.mojang.brigadier.CommandDispatcher.execute(CommandDispatcher.java:265) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:?]\r\n        at net.minecraft.commands.CommandDispatcher.performCommand(CommandDispatcher.java:314) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\r\n        at net.minecraft.commands.CommandDispatcher.a(CommandDispatcher.java:298) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\r\n        at net.minecraft.server.network.PlayerConnection.a(PlayerConnection.java:1962) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\r\n        at net.minecraft.server.network.PlayerConnection.lambda$18(PlayerConnection.java:1924) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\r\n        at net.minecraft.util.thread.IAsyncTaskHandler.b(SourceFile:67) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\r\n        at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]\r\n        at net.minecraft.server.TickTask.run(SourceFile:18) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\r\n        at net.minecraft.util.thread.IAsyncTaskHandler.d(SourceFile:156) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\r\n        at net.minecraft.util.thread.IAsyncTaskHandlerReentrant.d(SourceFile:23) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\r\n        at net.minecraft.server.MinecraftServer.b(MinecraftServer.java:1152) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\r\n        at net.minecraft.server.MinecraftServer.d(MinecraftServer.java:1) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\r\n        at net.minecraft.util.thread.IAsyncTaskHandler.x(SourceFile:130) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\r\n        at net.minecraft.server.MinecraftServer.bg(MinecraftServer.java:1131) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\r\n        at net.minecraft.server.MinecraftServer.x(MinecraftServer.java:1124) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\r\n        at net.minecraft.util.thread.IAsyncTaskHandler.c(SourceFile:139) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\r\n        at net.minecraft.server.MinecraftServer.p_(MinecraftServer.java:1108) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\r\n        at net.minecraft.server.MinecraftServer.w(MinecraftServer.java:1019) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\r\n        at net.minecraft.server.MinecraftServer.lambda$0(MinecraftServer.java:304) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\r\n        at java.lang.Thread.run(Thread.java:833) ~[?:?]\r\nCaused by: java.lang.NoClassDefFoundError: tv/bebaeb/mcplugion/timer/Timer\r\n        at tv.bebaeb.mcplugion.commands.TimerCommand.onCommand(TimerCommand.java:107) ~[?:?]\r\n        at org.bukkit.command.PluginCommand.execute(PluginCommand.java:45) ~[spigot-api-1.20.1-R0.1-SNAPSHOT.jar:?]\r\n        ... 23 more\r\nCaused by: java.lang.ClassNotFoundException: tv.bebaeb.mcplugion.timer.Timer\r\n        at tv.bebaeb.mcplugion.commands.TimerCommand.onCommand(TimerCommand.java:107) ~[?:?]\r\n        at org.bukkit.command.PluginCommand.execute(PluginCommand.java:45) ~[spigot-api-1.20.1-R0.1-SNAPSHOT.jar:?]\r\n        ... 23 more\r\n```\r\n\r\n\r\n\r\n\r\nThe error while starting the server:\r\n\r\n\r\n```\r\nSat, 09 Sep 2023 14:31:20 +0200: Starting Gameserver\r\n[Nitrado] Starting Gameserver now...\r\nStarting org.bukkit.craftbukkit.Main\r\n[Log4jPatcher] [INFO] Transforming org/apache/logging/log4j/core/pattern/MessagePatternConverter\r\n[Log4jPatcher] [WARN]  Unable to find noLookups:Z field in org/apache/logging/log4j/core/pattern/MessagePatternConverter\r\n[Log4jPatcher] [INFO] Transforming org/apache/logging/log4j/core/lookup/JndiLookup\r\n*** Warning, you&#39;ve not updated in a while! ***\r\n*** Please download a new build as per instructions from https://papermc.io/downloads/paper ***\r\nSystem Info: Java 17 (OpenJDK 64-Bit Server VM 17.0.1+12) Host: Linux 5.8.15-301.fc33.x86_64 (amd64)\r\nLoading libraries, please wait...\r\n[12:31:26 INFO]: Environment: authHost=&#39;https://authserver.mojang.com&#39;, accountsHost=&#39;https://api.mojang.com&#39;, sessionHost=&#39;https://sessionserver.mojang.com&#39;, servicesHost=&#39;https://api.minecraftservices.com&#39;, name=&#39;PROD&#39;\r\n[12:31:27 INFO]: Loaded 7 recipes\r\n[12:31:27 INFO]: Starting minecraft server version 1.20.1\r\n[12:31:27 INFO]: Loading properties\r\n[12:31:27 INFO]: This server is running Paper version git-Paper-19 (MC: 1.20.1) (Implementing API version 1.20.1-R0.1-SNAPSHOT) (Git: 837cc25)\r\n[12:31:27 WARN]: Couldn&#39;t load server icon\r\njava.lang.IllegalArgumentException: BufferedImage must be 64 pixels wide (225)\r\n\tat com.google.common.base.Preconditions.checkArgument(Preconditions.java:193) ~[guava-31.1-jre.jar:?]\r\n\tat org.bukkit.craftbukkit.v1_20_R1.CraftServer.loadServerIcon0(CraftServer.java:2362) ~[paper-1.20.1.jar:git-Paper-19]\r\n\tat org.bukkit.craftbukkit.v1_20_R1.CraftServer.loadServerIcon0(CraftServer.java:2352) ~[paper-1.20.1.jar:git-Paper-19]\r\n\tat org.bukkit.craftbukkit.v1_20_R1.CraftServer.loadIcon(CraftServer.java:1079) ~[paper-1.20.1.jar:git-Paper-19]\r\n\tat org.bukkit.craftbukkit.v1_20_R1.CraftServer.&lt;init&gt;(CraftServer.java:384) ~[paper-1.20.1.jar:git-Paper-19]\r\n\tat net.minecraft.server.players.PlayerList.&lt;init&gt;(PlayerList.java:171) ~[paper-1.20.1.jar:git-Paper-19]\r\n\tat net.minecraft.server.dedicated.DedicatedPlayerList.&lt;init&gt;(DedicatedPlayerList.java:16) ~[paper-1.20.1.jar:git-Paper-19]\r\n\tat net.minecraft.server.dedicated.DedicatedServer.initServer(DedicatedServer.java:203) ~[paper-1.20.1.jar:git-Paper-19]\r\n\tat net.minecraft.server.MinecraftServer.runServer(MinecraftServer.java:1101) ~[paper-1.20.1.jar:git-Paper-19]\r\n\tat net.minecraft.server.MinecraftServer.lambda$spin$0(MinecraftServer.java:318) ~[paper-1.20.1.jar:git-Paper-19]\r\n\tat java.lang.Thread.run(Thread.java:833) ~[?:?]\r\n[12:31:27 INFO]: Server Ping Player Sample Count: 12\r\n[12:31:27 INFO]: Using 4 threads for Netty based IO\r\n[12:31:27 WARN]: [!] The timings profiler has been enabled but has been scheduled for removal from Paper in the future.\r\n    We recommend installing the spark profiler as a replacement: https://spark.lucko.me/\r\n    For more information please visit: https://github.com/PaperMC/Paper/issues/8948\r\n[12:31:27 INFO]: [ChunkTaskScheduler] Chunk system is using 1 I/O threads, 28 worker threads, and gen parallelism of 28 threads\r\n[12:31:28 INFO]: Default game type: SURVIVAL\r\n[12:31:28 INFO]: Generating keypair\r\n[12:31:28 INFO]: Starting Minecraft server on 5.83.164.146:53600\r\n[12:31:28 INFO]: Using epoll channel type\r\n[12:31:28 INFO]: Paper: Using libdeflate (Linux x86_64) compression from Velocity.\r\n[12:31:28 INFO]: Paper: Using OpenSSL 1.1.x (Linux x86_64) cipher from Velocity.\r\n[12:31:28 INFO]: [blubbub] Loading server plugin blubbub v1.0-SNAPSHOT\r\n[12:31:28 INFO]: [mcplugion] Loading server plugin mcplugion v1.0-SNAPSHOT\r\n[12:31:28 INFO]: Server permissions file permissions.yml is empty, ignoring it\r\n[12:31:28 INFO]: Preparing level &quot;world&quot;\r\n[12:31:28 INFO]: Preparing start region for dimension minecraft:overworld\r\n[12:31:28 INFO]: Time elapsed: 139 ms\r\n[12:31:28 INFO]: Preparing start region for dimension minecraft:the_nether\r\n[12:31:29 INFO]: Time elapsed: 32 ms\r\n[12:31:29 INFO]: Preparing start region for dimension minecraft:the_end\r\n[12:31:29 INFO]: Time elapsed: 12 ms\r\n[12:31:29 INFO]: [blubbub] Enabling blubbub v1.0-SNAPSHOT\r\n[12:31:29 INFO]: [mcplugion] Enabling mcplugion v1.0-SNAPSHOT\r\n[12:31:29 INFO]: \r\nMcPlugion\r\nM\r\nC\r\nP\r\nL\r\nU\r\nG\r\nI\r\nO\r\nN\r\nMcPlugion\r\n[12:31:29 ERROR]: Error occurred while enabling mcplugion v1.0-SNAPSHOT (Is it up to date?)\r\njava.lang.NoClassDefFoundError: tv/bebaeb/mcplugion/timer/Timer\r\n\tat tv.bebaeb.mcplugion.Mcplugion.onEnable(Mcplugion.java:40) ~[mcplugion-1.0-SNAPSHOT-shaded.jar:?]\r\n\tat org.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:281) ~[paper-api-1.20.1-R0.1-SNAPSHOT.jar:?]\r\n\tat io.papermc.paper.plugin.manager.PaperPluginInstanceManager.enablePlugin(PaperPluginInstanceManager.java:189) ~[paper-1.20.1.jar:git-Paper-19]\r\n\tat io.papermc.paper.plugin.manager.PaperPluginManagerImpl.enablePlugin(PaperPluginManagerImpl.java:104) ~[paper-1.20.1.jar:git-Paper-19]\r\n\tat org.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManager.java:507) ~[paper-api-1.20.1-R0.1-SNAPSHOT.jar:?]\r\n\tat org.bukkit.craftbukkit.v1_20_R1.CraftServer.enablePlugin(CraftServer.java:562) ~[paper-1.20.1.jar:git-Paper-19]\r\n\tat org.bukkit.craftbukkit.v1_20_R1.CraftServer.enablePlugins(CraftServer.java:473) ~[paper-1.20.1.jar:git-Paper-19]\r\n\tat net.minecraft.server.MinecraftServer.loadWorld0(MinecraftServer.java:636) ~[paper-1.20.1.jar:git-Paper-19]\r\n\tat net.minecraft.server.MinecraftServer.loadLevel(MinecraftServer.java:435) ~[paper-1.20.1.jar:git-Paper-19]\r\n\tat net.minecraft.server.dedicated.DedicatedServer.initServer(DedicatedServer.java:308) ~[paper-1.20.1.jar:git-Paper-19]\r\n\tat net.minecraft.server.MinecraftServer.runServer(MinecraftServer.java:1101) ~[paper-1.20.1.jar:git-Paper-19]\r\n\tat net.minecraft.server.MinecraftServer.lambda$spin$0(MinecraftServer.java:318) ~[paper-1.20.1.jar:git-Paper-19]\r\n\tat java.lang.Thread.run(Thread.java:833) ~[?:?]\r\nCaused by: java.lang.ClassNotFoundException: tv.bebaeb.mcplugion.timer.Timer\r\n\tat org.bukkit.plugin.java.PluginClassLoader.loadClass0(PluginClassLoader.java:183) ~[paper-api-1.20.1-R0.1-SNAPSHOT.jar:?]\r\n\tat org.bukkit.plugin.java.PluginClassLoader.loadClass(PluginClassLoader.java:150) ~[paper-api-1.20.1-R0.1-SNAPSHOT.jar:?]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\r\n\t... 13 more\r\n[12:31:29 INFO]: [mcplugion] Disabling mcplugion v1.0-SNAPSHOT\r\n[12:31:29 INFO]: Starting GS4 status listener\r\n[12:31:29 INFO]: Thread Query Listener started\r\n[12:31:29 INFO]: Query running on 5.83.164.146:53601\r\n[12:31:29 ERROR]: Couldn&#39;t load server icon\r\njava.lang.IllegalStateException: Must be 64 pixels wide\r\n\tat com.google.common.base.Preconditions.checkState(Preconditions.java:502) ~[guava-31.1-jre.jar:?]\r\n\tat net.minecraft.server.MinecraftServer.lambda$loadStatusIcon$12(MinecraftServer.java:1355) ~[paper-1.20.1.jar:git-Paper-19]\r\n\tat java.util.Optional.flatMap(Optional.java:289) ~[?:?]\r\n\tat net.minecraft.server.MinecraftServer.loadStatusIcon(MinecraftServer.java:1351) ~[paper-1.20.1.jar:git-Paper-19]\r\n\tat net.minecraft.server.MinecraftServer.runServer(MinecraftServer.java:1106) ~[paper-1.20.1.jar:git-Paper-19]\r\n\tat net.minecraft.server.MinecraftServer.lambda$spin$0(MinecraftServer.java:318) ~[paper-1.20.1.jar:git-Paper-19]\r\n\tat java.lang.Thread.run(Thread.java:833) ~[?:?]\r\n[12:31:29 INFO]: Running delayed init tasks\r\n[12:31:29 INFO]: Done (1.511s)! For help, type &quot;help&quot;\r\n[12:31:29 INFO]: Timings Reset\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IKYOD.png","title":"A timer in minecraft","body":"<p><a href=\"https://i.stack.imgur.com/IKYOD.png\" rel=\"nofollow noreferrer\">I think this means that the plugin isnt loaded properly. </a>Ive made a timer in minecraft but suddendly it wasnt working at all. The command <code>/timer</code> sends the &quot;usage&quot; message I've added but when I use more arguments it wont work and it says &quot;An internal error occured while attempting to perform this command&quot;</p>\n<p>Main Class</p>\n<pre><code>package tv.bebaeb.mcplugion;\n\nimport org.bukkit.Bukkit;\nimport org.bukkit.ChatColor;\nimport org.bukkit.entity.Player;\nimport org.bukkit.plugin.PluginManager;\nimport org.bukkit.plugin.java.JavaPlugin;\nimport tv.bebaeb.mcplugion.timer.Timer;\nimport tv.bebaeb.mcplugion.commands.HealCommand;\nimport tv.bebaeb.mcplugion.commands.TimerCommand;\nimport tv.bebaeb.mcplugion.listeners.JoinListener;\nimport tv.bebaeb.mcplugion.listeners.QuitListener;\nimport tv.bebaeb.mcplugion.tablist.TablistManager;\nimport org.bukkit.entity.Player;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic final class Mcplugion extends JavaPlugin {\n\n\n\n    private  static Mcplugion instance;\n\n    private TablistManager tablistManager;\n\n    private Timer timer;\n\n    @Override\n    public void onLoad() {\n        instance = this;\n    }\n\n    @Override\n    public void onEnable() {\n        Bukkit.getConsoleSender().sendMessage(ChatColor.BLUE + &quot;\\n\\n\\n\\n\\nMcPlugion\\n\\nM\\nC\\nP\\nL\\nU\\nG\\nI\\nO\\nN\\n\\nMcPlugion\\n\\n\\n\\n\\n&quot;);\n\n        PluginManager manager = Bukkit.getPluginManager();\n        manager.registerEvents(new JoinListener(), this);\n        manager.registerEvents(new QuitListener(), this);\n\n        getCommand(&quot;timer&quot;).setExecutor(new TimerCommand());\n        getCommand(&quot;heal&quot;).setExecutor(new HealCommand());\n\n        timer = new Timer(false,  0, 0, 0, 0);\n        tablistManager = new TablistManager();\n    }\n\n    @Override\n    public void onDisable() {\n        // Plugin shutdown logic\n    }\n\n    public static Mcplugion getInstance() {\n        return instance;\n    }\n\n    public Timer getTimer() {\n        return  timer;\n    }\n\n    public TablistManager getTablistManager() {\n        return tablistManager;\n    }\n}\n\n</code></pre>\n<p><code>TimerCommand</code> Class</p>\n<pre><code>package tv.bebaeb.mcplugion.commands;\n\nimport org.bukkit.ChatColor;\nimport org.bukkit.command.Command;\nimport org.bukkit.command.CommandExecutor;\nimport org.bukkit.command.CommandSender;\nimport org.bukkit.entity.Player;\nimport tv.bebaeb.mcplugion.Mcplugion;\nimport tv.bebaeb.mcplugion.timer.Timer;\n\nimport java.util.MissingFormatArgumentException;\n\npublic class TimerCommand implements CommandExecutor {\n\n    @Override\n    public boolean onCommand(CommandSender sender, Command command, String label, String[] args) {\n        if (!(sender instanceof Player)) {\n            sender.sendMessage(ChatColor.RED + &quot;Only players can use this command.&quot;);\n            return true;\n        }\n\n        Player player = (Player) sender;\n        Mcplugion plugin = Mcplugion.getInstance();\n        Timer timer = Mcplugion.getInstance().getTimer();\n\n        if (args.length == 0){\n            sender.sendMessage(ChatColor.RED+&quot;a&quot;+ChatColor.GRAY + &quot;Usage&quot; + ChatColor.GRAY + &quot;: &quot; + ChatColor.BLUE + &quot;/timer resume, /timer reverse, /timer pause, /timer set &lt;Days&gt; &lt;Hours&gt; &lt;Minutes&gt; &lt;Seconds&gt;, /timer reset, /timer time&quot;);\n        }\n\n        if (args[0].equalsIgnoreCase(&quot;resume&quot;)) {\n\n\n            if (timer.isRunning()) {\n                sender.sendMessage(ChatColor.RED + &quot;The timer is already running.&quot;);\n                return false;\n            } else if (!timer.isRunning()) {\n                timer.setRunback(false);\n                timer.setRunning(true);\n                sender.sendMessage(ChatColor.GREEN + &quot;The timer has started.&quot;);\n            }\n        }\n\n        if (args[0].equalsIgnoreCase(&quot;reverse&quot;)) {\n\n            if (timer.isRunning()) {\n                sender.sendMessage(ChatColor.RED + &quot;The timer is already running.&quot;);\n                return false;\n            }\n            if (!timer.isRunning()) {\n                timer.setRunback(true);\n                timer.setRunning(true);\n                sender.sendMessage(ChatColor.GREEN + &quot;The timer has started reversing.&quot;);\n            }\n        }\n\n        if (args[0].equalsIgnoreCase(&quot;pause&quot;)) {\n\n            if (!timer.isRunning()) {\n                sender.sendMessage(ChatColor.RED + &quot;The timer is not running.&quot;);\n                return false;\n            }\n\n            timer.setRunning(true);\n            sender.sendMessage(ChatColor.GRAY + &quot;The timer has stopped.&quot;);\n            return false;\n        }\n        if (args[0].equalsIgnoreCase(&quot;set&quot;)) {\n\n            try {\n                timer.setRunning(false);\n                timer.setTimeD(Integer.parseInt(args[1]));\n                timer.setTimeH(Integer.parseInt(args[2]));\n                timer.setTimeM(Integer.parseInt(args[3]));\n                timer.setTimeS(Integer.parseInt(args[4]));\n                if (timer.getTimeH() &lt; 24) {\n                    if (timer.getTimeM() &lt; 60) {\n                        if (timer.getTimeS() &lt; 60) {\n                            sender.sendMessage(ChatColor.GRAY + &quot;The timer has been set to &quot; + args[1] + &quot; days, &quot; + args[2] + &quot; hours, &quot; + args[3] + &quot; minutes, &quot; + args[4] + &quot; seconds.&quot;);\n                        }\n                    }\n                }\n            } catch (MissingFormatArgumentException e) {\n                sender.sendMessage(ChatColor.RED + &quot;You need to use the right format: Days, Hours, Minutes, Seconds&quot;);\n            }\n            return false;\n        }\n\n        if (args[0].equalsIgnoreCase(&quot;reset&quot;)) {\n            timer.setRunning(false);\n            timer.setRunback(false);\n            timer.setTimeS(0);\n            timer.setTimeM(0);\n            timer.setTimeH(0);\n            timer.setTimeD(0);\n            sender.sendMessage(ChatColor.GRAY + &quot;The timer has been reset.&quot;);\n            return false;\n        }\n\n        if (args[0].equalsIgnoreCase(&quot;time&quot;)) {\n\n            sender.sendMessage(timer.getTimeD() + &quot;d, &quot; + timer.getTimeH() + &quot;h, &quot; + timer.getTimeM() + &quot;m, &quot; + timer.getTimeS() + &quot;s&quot;);\n        }\n\n        if (args[0].equalsIgnoreCase(&quot;toggle&quot;)) {\n\n            if (timer.isRunning()) {\n                timer.setRunning(false);\n                sender.sendMessage(ChatColor.RED + &quot;The timer is not running.&quot;);\n            } else {\n                timer.setRunning(true);\n                sender.sendMessage(ChatColor.GREEN + &quot;The timer has started.&quot;);\n            }\n        }\n\n        return true;\n    }\n}\n\n</code></pre>\n<p><code>Timer</code> Class</p>\n<pre><code>package tv.bebaeb.mcplugion.timer;\n\nimport net.md_5.bungee.api.ChatMessageType;\nimport net.md_5.bungee.api.chat.TextComponent;\nimport org.bukkit.Bukkit;\nimport org.bukkit.ChatColor;\nimport org.bukkit.entity.Player;\nimport org.bukkit.scheduler.BukkitRunnable;\nimport tv.bebaeb.mcplugion.Mcplugion;\n\npublic class Timer {\n\n    private boolean running; // true or false\n\n    private boolean runback;\n    private  int timeS;\n    private  int timeM;\n    private  int timeH;\n    private  int timeD;\n\n\n\n    public Timer(boolean running, int timeS, int timeM, int timeH, int timeD) {\n        this.running = running;\n        this.timeS = timeS;\n        this.timeM = timeM;\n        this.timeH = timeH;\n        this.timeD = timeD;\n\n        run();\n    }\n\n    public boolean isRunning() {\n        return running;\n    }\n\n    public boolean isRunback() {\n        return runback;\n    }\n\n    public void setRunning(boolean running) {\n        this.running = running;\n    }\n\n    public void setRunback(boolean runback) {\n        this.runback = runback;\n    }\n\n    public int getTimeS() {\n        return timeS;\n    }\n    public int getTimeM() {\n        return timeM;\n    }\n    public int getTimeH() {\n        return timeH;\n    }\n    public int getTimeD() {\n        return timeD;\n    }\n    public void setTimeS(int time) {\n        this.timeS = time;\n    }\n    public void setTimeM(int time) {\n        this.timeM = time;\n    }\n    public void setTimeH(int time) {\n        this.timeH = time;\n    }\n    public void setTimeD(int time) {\n        this.timeD = time;\n    }\n    public void sendActionBar() {\n\n        for (Player player : Bukkit.getOnlinePlayers()) {\n\n            if (!isRunning()) {\n                    player.spigot().sendMessage(ChatMessageType.ACTION_BAR, new TextComponent(ChatColor.RED +\n                            &quot;Timer paused&quot;));\n                    continue;\n            }\n\n            if (isRunning()) {\n                if (getTimeM() == 0) {\n                    player.spigot().sendMessage(ChatMessageType.ACTION_BAR, new TextComponent(ChatColor.WHITE.toString() +\n                            ChatColor.BOLD + String.format(&quot;%ds&quot;, getTimeS())));\n                } else if (getTimeH() == 0) {\n                    player.spigot().sendMessage(ChatMessageType.ACTION_BAR, new TextComponent(ChatColor.WHITE.toString() +\n                            ChatColor.BOLD + String.format(&quot;%dm %ds&quot;, getTimeM(), getTimeS())));\n                } else if (getTimeD() == 0) {\n                    player.spigot().sendMessage(ChatMessageType.ACTION_BAR, new TextComponent(ChatColor.WHITE.toString() +\n                            ChatColor.BOLD + String.format(&quot;%dh %dm %ds&quot;, getTimeH(), getTimeM(), getTimeS())));\n                } else if (getTimeD() &gt; 0) {\n                    player.spigot().sendMessage(ChatMessageType.ACTION_BAR, new TextComponent(ChatColor.WHITE.toString() +\n                            ChatColor.BOLD + String.format(&quot;%dd %dh %dm %ds&quot;, getTimeD(), getTimeH(), getTimeM(), getTimeS())));\n                }\n            }\n        }\n    }\n\n\n\n    private  void  run() {\n        new BukkitRunnable() {\n            @Override\n            public void run() {\n                sendActionBar();\n\n                if (!isRunning()) {\n                    return;\n                }\n\n                if (isRunback()) {\n\n                    if (getTimeS() &gt; 0) {\n                        setTimeS(getTimeS() - 1);\n                    } else {\n                        if (getTimeM() &gt; 0) {\n                            setTimeS(59);\n                            setTimeM(getTimeM() - 1);\n                        } else {\n                            if (getTimeH() &gt; 0) {\n                                setTimeM(59);\n                                setTimeS(59);\n                                setTimeH(getTimeH() - 1);\n                            } else {\n                                if (getTimeD() &gt; 0) {\n                                    setTimeH(23);\n                                    setTimeM(59);\n                                    setTimeS(59);\n                                    setTimeD(getTimeD() - 1);\n                                } else {\n                                    sendActionBar();\n                                    setRunning(false);\n                                }\n                            }\n                        }\n                    }\n\n                } else {\n\n                if (getTimeS() &lt; 60) {\n                    setTimeS(getTimeS() + 1);\n                }\n\n                if (getTimeS() &gt; 59) {\n                    setTimeS(0);\n                    setTimeM(getTimeM() + 1);\n                }\n\n                if (getTimeM() &gt; 59) {\n                    setTimeM(0);\n                    setTimeH(getTimeH() + 1);\n                }\n\n                if (getTimeH() &gt; 23) {\n                    setTimeH(0);\n                    setTimeD(getTimeD() + 1);\n                }\n            }\n\n            }\n        }.runTaskTimer(Mcplugion.getInstance(), 20, 20);\n\n    }\n\n}\n\n</code></pre>\n<p>The error message:</p>\n<pre><code> [20:56:22] [Server thread/INFO]: Bebaeb issued server command: /timer toggle\n[20:56:22] [Server thread/ERROR]: null\norg.bukkit.command.CommandException: Unhandled exception executing command 'timer' in plugin mcplugion v1.0-SNAPSHOT\n        at org.bukkit.command.PluginCommand.execute(PluginCommand.java:47) ~[spigot-api-1.20.1-R0.1-SNAPSHOT.jar:?]\n        at org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:149) ~[spigot-api-1.20.1-R0.1-SNAPSHOT.jar:?]\n        at org.bukkit.craftbukkit.v1_20_R1.CraftServer.dispatchCommand(CraftServer.java:875) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\n        at org.bukkit.craftbukkit.v1_20_R1.command.BukkitCommandWrapper.run(BukkitCommandWrapper.java:50) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\n        at com.mojang.brigadier.CommandDispatcher.execute(CommandDispatcher.java:265) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:?]\n        at net.minecraft.commands.CommandDispatcher.performCommand(CommandDispatcher.java:314) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\n        at net.minecraft.commands.CommandDispatcher.a(CommandDispatcher.java:298) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\n        at net.minecraft.server.network.PlayerConnection.a(PlayerConnection.java:1962) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\n        at net.minecraft.server.network.PlayerConnection.lambda$18(PlayerConnection.java:1924) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\n        at net.minecraft.util.thread.IAsyncTaskHandler.b(SourceFile:67) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\n        at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[?:?]\n        at net.minecraft.server.TickTask.run(SourceFile:18) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\n        at net.minecraft.util.thread.IAsyncTaskHandler.d(SourceFile:156) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\n        at net.minecraft.util.thread.IAsyncTaskHandlerReentrant.d(SourceFile:23) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\n        at net.minecraft.server.MinecraftServer.b(MinecraftServer.java:1152) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\n        at net.minecraft.server.MinecraftServer.d(MinecraftServer.java:1) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\n        at net.minecraft.util.thread.IAsyncTaskHandler.x(SourceFile:130) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\n        at net.minecraft.server.MinecraftServer.bg(MinecraftServer.java:1131) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\n        at net.minecraft.server.MinecraftServer.x(MinecraftServer.java:1124) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\n        at net.minecraft.util.thread.IAsyncTaskHandler.c(SourceFile:139) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\n        at net.minecraft.server.MinecraftServer.p_(MinecraftServer.java:1108) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\n        at net.minecraft.server.MinecraftServer.w(MinecraftServer.java:1019) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\n        at net.minecraft.server.MinecraftServer.lambda$0(MinecraftServer.java:304) ~[spigot-1.20.1-R0.1-SNAPSHOT.jar:3859-Spigot-94e187b-f70a7b6]\n        at java.lang.Thread.run(Thread.java:833) ~[?:?]\nCaused by: java.lang.NoClassDefFoundError: tv/bebaeb/mcplugion/timer/Timer\n        at tv.bebaeb.mcplugion.commands.TimerCommand.onCommand(TimerCommand.java:107) ~[?:?]\n        at org.bukkit.command.PluginCommand.execute(PluginCommand.java:45) ~[spigot-api-1.20.1-R0.1-SNAPSHOT.jar:?]\n        ... 23 more\nCaused by: java.lang.ClassNotFoundException: tv.bebaeb.mcplugion.timer.Timer\n        at tv.bebaeb.mcplugion.commands.TimerCommand.onCommand(TimerCommand.java:107) ~[?:?]\n        at org.bukkit.command.PluginCommand.execute(PluginCommand.java:45) ~[spigot-api-1.20.1-R0.1-SNAPSHOT.jar:?]\n        ... 23 more\n</code></pre>\n<p>The error while starting the server:</p>\n<pre><code>Sat, 09 Sep 2023 14:31:20 +0200: Starting Gameserver\n[Nitrado] Starting Gameserver now...\nStarting org.bukkit.craftbukkit.Main\n[Log4jPatcher] [INFO] Transforming org/apache/logging/log4j/core/pattern/MessagePatternConverter\n[Log4jPatcher] [WARN]  Unable to find noLookups:Z field in org/apache/logging/log4j/core/pattern/MessagePatternConverter\n[Log4jPatcher] [INFO] Transforming org/apache/logging/log4j/core/lookup/JndiLookup\n*** Warning, you've not updated in a while! ***\n*** Please download a new build as per instructions from https://papermc.io/downloads/paper ***\nSystem Info: Java 17 (OpenJDK 64-Bit Server VM 17.0.1+12) Host: Linux 5.8.15-301.fc33.x86_64 (amd64)\nLoading libraries, please wait...\n[12:31:26 INFO]: Environment: authHost='https://authserver.mojang.com', accountsHost='https://api.mojang.com', sessionHost='https://sessionserver.mojang.com', servicesHost='https://api.minecraftservices.com', name='PROD'\n[12:31:27 INFO]: Loaded 7 recipes\n[12:31:27 INFO]: Starting minecraft server version 1.20.1\n[12:31:27 INFO]: Loading properties\n[12:31:27 INFO]: This server is running Paper version git-Paper-19 (MC: 1.20.1) (Implementing API version 1.20.1-R0.1-SNAPSHOT) (Git: 837cc25)\n[12:31:27 WARN]: Couldn't load server icon\njava.lang.IllegalArgumentException: BufferedImage must be 64 pixels wide (225)\n    at com.google.common.base.Preconditions.checkArgument(Preconditions.java:193) ~[guava-31.1-jre.jar:?]\n    at org.bukkit.craftbukkit.v1_20_R1.CraftServer.loadServerIcon0(CraftServer.java:2362) ~[paper-1.20.1.jar:git-Paper-19]\n    at org.bukkit.craftbukkit.v1_20_R1.CraftServer.loadServerIcon0(CraftServer.java:2352) ~[paper-1.20.1.jar:git-Paper-19]\n    at org.bukkit.craftbukkit.v1_20_R1.CraftServer.loadIcon(CraftServer.java:1079) ~[paper-1.20.1.jar:git-Paper-19]\n    at org.bukkit.craftbukkit.v1_20_R1.CraftServer.&lt;init&gt;(CraftServer.java:384) ~[paper-1.20.1.jar:git-Paper-19]\n    at net.minecraft.server.players.PlayerList.&lt;init&gt;(PlayerList.java:171) ~[paper-1.20.1.jar:git-Paper-19]\n    at net.minecraft.server.dedicated.DedicatedPlayerList.&lt;init&gt;(DedicatedPlayerList.java:16) ~[paper-1.20.1.jar:git-Paper-19]\n    at net.minecraft.server.dedicated.DedicatedServer.initServer(DedicatedServer.java:203) ~[paper-1.20.1.jar:git-Paper-19]\n    at net.minecraft.server.MinecraftServer.runServer(MinecraftServer.java:1101) ~[paper-1.20.1.jar:git-Paper-19]\n    at net.minecraft.server.MinecraftServer.lambda$spin$0(MinecraftServer.java:318) ~[paper-1.20.1.jar:git-Paper-19]\n    at java.lang.Thread.run(Thread.java:833) ~[?:?]\n[12:31:27 INFO]: Server Ping Player Sample Count: 12\n[12:31:27 INFO]: Using 4 threads for Netty based IO\n[12:31:27 WARN]: [!] The timings profiler has been enabled but has been scheduled for removal from Paper in the future.\n    We recommend installing the spark profiler as a replacement: https://spark.lucko.me/\n    For more information please visit: https://github.com/PaperMC/Paper/issues/8948\n[12:31:27 INFO]: [ChunkTaskScheduler] Chunk system is using 1 I/O threads, 28 worker threads, and gen parallelism of 28 threads\n[12:31:28 INFO]: Default game type: SURVIVAL\n[12:31:28 INFO]: Generating keypair\n[12:31:28 INFO]: Starting Minecraft server on 5.83.164.146:53600\n[12:31:28 INFO]: Using epoll channel type\n[12:31:28 INFO]: Paper: Using libdeflate (Linux x86_64) compression from Velocity.\n[12:31:28 INFO]: Paper: Using OpenSSL 1.1.x (Linux x86_64) cipher from Velocity.\n[12:31:28 INFO]: [blubbub] Loading server plugin blubbub v1.0-SNAPSHOT\n[12:31:28 INFO]: [mcplugion] Loading server plugin mcplugion v1.0-SNAPSHOT\n[12:31:28 INFO]: Server permissions file permissions.yml is empty, ignoring it\n[12:31:28 INFO]: Preparing level &quot;world&quot;\n[12:31:28 INFO]: Preparing start region for dimension minecraft:overworld\n[12:31:28 INFO]: Time elapsed: 139 ms\n[12:31:28 INFO]: Preparing start region for dimension minecraft:the_nether\n[12:31:29 INFO]: Time elapsed: 32 ms\n[12:31:29 INFO]: Preparing start region for dimension minecraft:the_end\n[12:31:29 INFO]: Time elapsed: 12 ms\n[12:31:29 INFO]: [blubbub] Enabling blubbub v1.0-SNAPSHOT\n[12:31:29 INFO]: [mcplugion] Enabling mcplugion v1.0-SNAPSHOT\n[12:31:29 INFO]: \nMcPlugion\nM\nC\nP\nL\nU\nG\nI\nO\nN\nMcPlugion\n[12:31:29 ERROR]: Error occurred while enabling mcplugion v1.0-SNAPSHOT (Is it up to date?)\njava.lang.NoClassDefFoundError: tv/bebaeb/mcplugion/timer/Timer\n    at tv.bebaeb.mcplugion.Mcplugion.onEnable(Mcplugion.java:40) ~[mcplugion-1.0-SNAPSHOT-shaded.jar:?]\n    at org.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:281) ~[paper-api-1.20.1-R0.1-SNAPSHOT.jar:?]\n    at io.papermc.paper.plugin.manager.PaperPluginInstanceManager.enablePlugin(PaperPluginInstanceManager.java:189) ~[paper-1.20.1.jar:git-Paper-19]\n    at io.papermc.paper.plugin.manager.PaperPluginManagerImpl.enablePlugin(PaperPluginManagerImpl.java:104) ~[paper-1.20.1.jar:git-Paper-19]\n    at org.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManager.java:507) ~[paper-api-1.20.1-R0.1-SNAPSHOT.jar:?]\n    at org.bukkit.craftbukkit.v1_20_R1.CraftServer.enablePlugin(CraftServer.java:562) ~[paper-1.20.1.jar:git-Paper-19]\n    at org.bukkit.craftbukkit.v1_20_R1.CraftServer.enablePlugins(CraftServer.java:473) ~[paper-1.20.1.jar:git-Paper-19]\n    at net.minecraft.server.MinecraftServer.loadWorld0(MinecraftServer.java:636) ~[paper-1.20.1.jar:git-Paper-19]\n    at net.minecraft.server.MinecraftServer.loadLevel(MinecraftServer.java:435) ~[paper-1.20.1.jar:git-Paper-19]\n    at net.minecraft.server.dedicated.DedicatedServer.initServer(DedicatedServer.java:308) ~[paper-1.20.1.jar:git-Paper-19]\n    at net.minecraft.server.MinecraftServer.runServer(MinecraftServer.java:1101) ~[paper-1.20.1.jar:git-Paper-19]\n    at net.minecraft.server.MinecraftServer.lambda$spin$0(MinecraftServer.java:318) ~[paper-1.20.1.jar:git-Paper-19]\n    at java.lang.Thread.run(Thread.java:833) ~[?:?]\nCaused by: java.lang.ClassNotFoundException: tv.bebaeb.mcplugion.timer.Timer\n    at org.bukkit.plugin.java.PluginClassLoader.loadClass0(PluginClassLoader.java:183) ~[paper-api-1.20.1-R0.1-SNAPSHOT.jar:?]\n    at org.bukkit.plugin.java.PluginClassLoader.loadClass(PluginClassLoader.java:150) ~[paper-api-1.20.1-R0.1-SNAPSHOT.jar:?]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\n    ... 13 more\n[12:31:29 INFO]: [mcplugion] Disabling mcplugion v1.0-SNAPSHOT\n[12:31:29 INFO]: Starting GS4 status listener\n[12:31:29 INFO]: Thread Query Listener started\n[12:31:29 INFO]: Query running on 5.83.164.146:53601\n[12:31:29 ERROR]: Couldn't load server icon\njava.lang.IllegalStateException: Must be 64 pixels wide\n    at com.google.common.base.Preconditions.checkState(Preconditions.java:502) ~[guava-31.1-jre.jar:?]\n    at net.minecraft.server.MinecraftServer.lambda$loadStatusIcon$12(MinecraftServer.java:1355) ~[paper-1.20.1.jar:git-Paper-19]\n    at java.util.Optional.flatMap(Optional.java:289) ~[?:?]\n    at net.minecraft.server.MinecraftServer.loadStatusIcon(MinecraftServer.java:1351) ~[paper-1.20.1.jar:git-Paper-19]\n    at net.minecraft.server.MinecraftServer.runServer(MinecraftServer.java:1106) ~[paper-1.20.1.jar:git-Paper-19]\n    at net.minecraft.server.MinecraftServer.lambda$spin$0(MinecraftServer.java:318) ~[paper-1.20.1.jar:git-Paper-19]\n    at java.lang.Thread.run(Thread.java:833) ~[?:?]\n[12:31:29 INFO]: Running delayed init tasks\n[12:31:29 INFO]: Done (1.511s)! For help, type &quot;help&quot;\n[12:31:29 INFO]: Timings Reset\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1694588742,"post_id":77094682,"comment_id":135909308,"body_markdown":"`Tests run: 965, Failures: 10` A jar can be built only after successful build","body":"<code>Tests run: 965, Failures: 10</code> A jar can be built only after successful build"},{"owner":{"account_id":2818342,"reputation":299828,"user_id":2422776,"display_name":"Mureinik"},"score":2,"creation_date":1694588753,"post_id":77094682,"comment_id":135909309,"body_markdown":"The issue isn&#39;t with maven. As the error says &quot;There are test failures&quot;. Help us help you by sharing the failing test.","body":"The issue isn&#39;t with maven. As the error says &quot;There are test failures&quot;. Help us help you by sharing the failing test."}],"answers":[{"tags":[],"owner":{"account_id":6701329,"reputation":172,"user_id":5167691,"display_name":"Ajinkya Karode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694590407,"creation_date":1694590407,"answer_id":77094945,"question_id":77094682,"body_markdown":"Your build is having Test Failures.     \r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.1.2:test (default-test) on project *: There are test failures.\r\n\r\nIf you want to build your project by skipping Tests runs (not recommended)\r\nyou can use below configurations.     \r\n\r\n1) Add/Update Below plugin confirmation to your pom.xml \r\n\r\n&gt;     &lt;plugin&gt;\r\n&gt;       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n&gt;       &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n&gt;       &lt;configuration&gt;\r\n&gt;         &lt;skipTests&gt;true&lt;/skipTests&gt;\r\n&gt;       &lt;/configuration&gt;\r\n&gt;     &lt;/plugin&gt;\r\n\r\n2) While running maven clean install add skiptests as true.   \r\n\r\n&gt; mvn clean install -DskipTests","title":"mvn clean install fails","body":"<p>Your build is having Test Failures.</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.1.2:test (default-test) on project *: There are test failures.\n</code></pre>\n<p>If you want to build your project by skipping Tests runs (not recommended)\nyou can use below configurations.</p>\n<ol>\n<li>Add/Update Below plugin confirmation to your pom.xml</li>\n</ol>\n<blockquote>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;skipTests&gt;true&lt;/skipTests&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n</blockquote>\n<ol start=\"2\">\n<li>While running maven clean install add skiptests as true.</li>\n</ol>\n<blockquote>\n<p>mvn clean install -DskipTests</p>\n</blockquote>\n"}],"owner":{"account_id":27909659,"reputation":11,"user_id":21312128,"display_name":"Samsi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694680654,"creation_date":1694588042,"question_id":77094682,"body_markdown":"I want to create a .jar file from my Java project and used `mvn clean install`. \r\nHowever, it fails and troubleshooting the errors doesn&#39;t lead to success. \r\n\r\n```\r\n[ERROR] Tests run: 965, Failures: 10, Errors: 0, Skipped: 0\r\n[INFO]\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  42.266 s\r\n[INFO] Finished at: 2023-09-13T08:42:44+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.1.2:test (default-test) on project *: There are test failures.\r\n[ERROR]\r\n[ERROR] Please refer to C:\\Users\\&lt;user&gt;\\Documents\\GitHub\\&lt;github project&gt;\\target\\surefire-reports for the individual test results.\r\n[ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\r\n[ERROR] -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\n```\r\n\r\nI have used the -X switch and the -e switch and looked at http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException, but it doesn&#39;t give me any new insights into how to solve the problem. \r\n\r\nI use Apache Maven 3.9.4 and Java version: 20.0.2. \r\n\r\nCould any help me to solve this issue?\r\n\r\nI tried running `mvn clean install` and I expected it to compile the project into a .jar file. ","title":"mvn clean install fails","body":"<p>I want to create a .jar file from my Java project and used <code>mvn clean install</code>.\nHowever, it fails and troubleshooting the errors doesn't lead to success.</p>\n<pre><code>[ERROR] Tests run: 965, Failures: 10, Errors: 0, Skipped: 0\n[INFO]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  42.266 s\n[INFO] Finished at: 2023-09-13T08:42:44+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.1.2:test (default-test) on project *: There are test failures.\n[ERROR]\n[ERROR] Please refer to C:\\Users\\&lt;user&gt;\\Documents\\GitHub\\&lt;github project&gt;\\target\\surefire-reports for the individual test results.\n[ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\n[ERROR] -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n\n</code></pre>\n<p>I have used the -X switch and the -e switch and looked at <a href=\"http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\" rel=\"nofollow noreferrer\">http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException</a>, but it doesn't give me any new insights into how to solve the problem.</p>\n<p>I use Apache Maven 3.9.4 and Java version: 20.0.2.</p>\n<p>Could any help me to solve this issue?</p>\n<p>I tried running <code>mvn clean install</code> and I expected it to compile the project into a .jar file.</p>\n"},{"tags":["java","mongodb","aggregation-framework"],"answers":[{"tags":[],"owner":{"account_id":21560564,"reputation":73,"user_id":16190453,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694680526,"creation_date":1694680526,"answer_id":77103118,"question_id":77068722,"body_markdown":"I didn&#39;t find a way how to do it with when-then-else, but this seems like a valid option to filter nested array:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    AggregationOperation unwindPrices = Aggregation.unwind(&quot;prices&quot;);\r\n\r\n    AggregationOperation match = Aggregation.match(\r\n      Criteria.where(&quot;_id&quot;).in(variantIds)\r\n      .orOperator(\r\n        Criteria.where(&quot;prices.validFor&quot;).is(new Document()),\r\n        Criteria.where(&quot;prices.validFor.endDateTime&quot;)\r\n        .gt(&quot;2023-09-14T13:00:00.000Z&quot;)\r\n      )\r\n    );\r\n\r\n    AggregationOperation project = Aggregation.project(&quot;id&quot;, &quot;prices&quot;);\r\n\r\n    AggregationOperation group = Aggregation.group(&quot;id&quot;)\r\n      .push(&quot;prices&quot;).as(&quot;prices&quot;);\r\n\r\n    Aggregation aggregation = Aggregation.newAggregation(\r\n      unwindPrices,\r\n      match,\r\n      project,\r\n      group\r\n    );\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How can I filter nested List with mongodb aggregations in Java code?","body":"<p>I didn't find a way how to do it with when-then-else, but this seems like a valid option to filter nested array:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>AggregationOperation unwindPrices = Aggregation.unwind(\"prices\");\n\nAggregationOperation match = Aggregation.match(\n  Criteria.where(\"_id\").in(variantIds)\n  .orOperator(\n    Criteria.where(\"prices.validFor\").is(new Document()),\n    Criteria.where(\"prices.validFor.endDateTime\")\n    .gt(\"2023-09-14T13:00:00.000Z\")\n  )\n);\n\nAggregationOperation project = Aggregation.project(\"id\", \"prices\");\n\nAggregationOperation group = Aggregation.group(\"id\")\n  .push(\"prices\").as(\"prices\");\n\nAggregation aggregation = Aggregation.newAggregation(\n  unwindPrices,\n  match,\n  project,\n  group\n);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":21560564,"reputation":73,"user_id":16190453,"display_name":"Tom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694680526,"creation_date":1694192621,"question_id":77068722,"body_markdown":"I try to convert mongoAggregation (below) into Java Code. As a result I want to get List of Items (not List of Documents, I know how to achieve it). There is a lot of info about how to create mongo aggregation and so little how to create aggregation with java.\r\n\r\nGoal is: to filter prices inside Item so that:\r\n- validFor.isEmpty OR validFor.endDateTime.isAfter(new Date())\r\n- filter alterations so that final price &gt;= 110.\r\n\r\nAs example we have JSON (below) and expected result to get alteration1 and alteration3\r\n\r\nJson:\r\n\r\n```\r\n{\r\n  &quot;id&quot;: 1,\r\n  &quot;prices&quot;: [\r\n    {\r\n      &quot;priceName&quot;: &quot;price1&quot;,\r\n      &quot;validFor&quot;: {},\r\n      &quot;alterations&quot;: [\r\n        {\r\n          &quot;alterationName&quot;: &quot;alteration1&quot;,\r\n          &quot;finalPrice&quot;: 110\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      &quot;priceName&quot;: &quot;price2&quot;,\r\n      &quot;validFor&quot;: {\r\n        &quot;endtDateTime&quot;: &quot;2024-10-31T12:00:00Z&quot; //String\r\n      },\r\n      &quot;alterations&quot;: [\r\n        {\r\n          &quot;alterationName&quot;: &quot;alteration2&quot;,\r\n          &quot;finalPrice&quot;: 105\r\n        },\r\n        {\r\n          &quot;alterationName&quot;: &quot;alteration3&quot;,\r\n          &quot;finalPrice&quot;: 115\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nMongoQuery:\r\n\r\n```\r\n[\r\n    {\r\n    $project: {\r\n      id: 1,\r\n      prices: {\r\n        $filter: {\r\n          input: &quot;$prices&quot;,\r\n          as: &quot;price&quot;,\r\n          cond: {\r\n            $or: [\r\n              {$eq: [&quot;$$price.validFor&quot;, {}]},\r\n              {$gt: [\r\n                  {$dateFromString: {\r\n                      dateString:\r\n                        &quot;$$price.validFor.startDateTime&quot;,\r\n                      format:\r\n                        &quot;%Y-%m-%dT%H:%M:%S%z&quot; }}\r\n                  new Date() ]}]}}}}\r\n  },\r\n  {\r\n    $project: {\r\n      id: 1,\r\n      prices: {\r\n        $map: {\r\n          input: &quot;$prices&quot;,\r\n          as: &quot;price&quot;,\r\n          in: {\r\n            $mergeObjects: [\r\n              &quot;$$price&quot;,\r\n              {\r\n                alterations: {\r\n                  $filter: {\r\n                    input: &quot;$$price.alterations&quot;,\r\n                    as: &quot;alteration&quot;,\r\n                    cond: {\r\n                      $gte: [\r\n                        &quot;$$alteration.finalPrice&quot;,\r\n                        110 ]}}}}]}}}}}]\r\n```\r\n\r\nMy Aggregation (I am stacked on comparing endDateTime: String with new Date())\r\n\r\n```\r\naggregationOperations.add(Aggregation.project()\r\n    .and(\r\n    when(\r\n        new Criteria()\r\n        .orOperator(\r\n            new Criteria(&quot;price.validFor&quot;).is(new Document()),\r\n            new Criteria(&quot;price.validFor.endDateTime&quot;)\r\n                .gt(new Date().toString())))\r\n    .then(true)\r\n    .otherwise(false))\r\n    .as(&quot;prices&quot;));\r\n```\r\n\r\n","title":"How can I filter nested List with mongodb aggregations in Java code?","body":"<p>I try to convert mongoAggregation (below) into Java Code. As a result I want to get List of Items (not List of Documents, I know how to achieve it). There is a lot of info about how to create mongo aggregation and so little how to create aggregation with java.</p>\n<p>Goal is: to filter prices inside Item so that:</p>\n<ul>\n<li>validFor.isEmpty OR validFor.endDateTime.isAfter(new Date())</li>\n<li>filter alterations so that final price &gt;= 110.</li>\n</ul>\n<p>As example we have JSON (below) and expected result to get alteration1 and alteration3</p>\n<p>Json:</p>\n<pre><code>{\n  &quot;id&quot;: 1,\n  &quot;prices&quot;: [\n    {\n      &quot;priceName&quot;: &quot;price1&quot;,\n      &quot;validFor&quot;: {},\n      &quot;alterations&quot;: [\n        {\n          &quot;alterationName&quot;: &quot;alteration1&quot;,\n          &quot;finalPrice&quot;: 110\n        }\n      ]\n    },\n    {\n      &quot;priceName&quot;: &quot;price2&quot;,\n      &quot;validFor&quot;: {\n        &quot;endtDateTime&quot;: &quot;2024-10-31T12:00:00Z&quot; //String\n      },\n      &quot;alterations&quot;: [\n        {\n          &quot;alterationName&quot;: &quot;alteration2&quot;,\n          &quot;finalPrice&quot;: 105\n        },\n        {\n          &quot;alterationName&quot;: &quot;alteration3&quot;,\n          &quot;finalPrice&quot;: 115\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n<p>MongoQuery:</p>\n<pre><code>[\n    {\n    $project: {\n      id: 1,\n      prices: {\n        $filter: {\n          input: &quot;$prices&quot;,\n          as: &quot;price&quot;,\n          cond: {\n            $or: [\n              {$eq: [&quot;$$price.validFor&quot;, {}]},\n              {$gt: [\n                  {$dateFromString: {\n                      dateString:\n                        &quot;$$price.validFor.startDateTime&quot;,\n                      format:\n                        &quot;%Y-%m-%dT%H:%M:%S%z&quot; }}\n                  new Date() ]}]}}}}\n  },\n  {\n    $project: {\n      id: 1,\n      prices: {\n        $map: {\n          input: &quot;$prices&quot;,\n          as: &quot;price&quot;,\n          in: {\n            $mergeObjects: [\n              &quot;$$price&quot;,\n              {\n                alterations: {\n                  $filter: {\n                    input: &quot;$$price.alterations&quot;,\n                    as: &quot;alteration&quot;,\n                    cond: {\n                      $gte: [\n                        &quot;$$alteration.finalPrice&quot;,\n                        110 ]}}}}]}}}}}]\n</code></pre>\n<p>My Aggregation (I am stacked on comparing endDateTime: String with new Date())</p>\n<pre><code>aggregationOperations.add(Aggregation.project()\n    .and(\n    when(\n        new Criteria()\n        .orOperator(\n            new Criteria(&quot;price.validFor&quot;).is(new Document()),\n            new Criteria(&quot;price.validFor.endDateTime&quot;)\n                .gt(new Date().toString())))\n    .then(true)\n    .otherwise(false))\n    .as(&quot;prices&quot;));\n</code></pre>\n"},{"tags":["java","spring","spring-boot","autowired"],"answers":[{"tags":[],"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1517553426,"creation_date":1517553426,"answer_id":48576999,"question_id":48575426,"body_markdown":"Try to add this into your properties file:\r\n\r\n    spring.jackson.date-format=com.fasterxml.jackson.databind.util.ISO8601DateFormat\r\n    spring.jackson.time-zone=UTC\r\n\r\nand remove `@DateTimeFormat` annotation\r\n\r\nConcerning LocalDate.now() initialization. Try to use field injection this way:\r\n\r\n    @Value(&quot;${my.date}&quot;) LocalDate myDate = LocalDate.now();","title":"Spring: create LocalDate or LocalDateTime from @Value parameter","body":"<p>Try to add this into your properties file:</p>\n\n<pre><code>spring.jackson.date-format=com.fasterxml.jackson.databind.util.ISO8601DateFormat\nspring.jackson.time-zone=UTC\n</code></pre>\n\n<p>and remove <code>@DateTimeFormat</code> annotation</p>\n\n<p>Concerning LocalDate.now() initialization. Try to use field injection this way:</p>\n\n<pre><code>@Value(\"${my.date}\") LocalDate myDate = LocalDate.now();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1340857,"reputation":2577,"user_id":1282532,"display_name":"Pavel"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1537169993,"creation_date":1527149899,"answer_id":50504329,"question_id":48575426,"body_markdown":"I know two ways. One is generic for any object - to use @Value annotation on custom setter\r\n\r\n    @Component\r\n    public class Example {\r\n    \r\n        private LocalDate localDate;\r\n    \r\n        @Value(&quot;${property.name}&quot;)\r\n        private void setLocalDate(String localDateStr) {\r\n            if (localDateStr != null &amp;&amp; !localDateStr.isEmpty()) {\r\n                localDate = LocalDate.parse(localDateStr);\r\n            }\r\n        }\r\n    }\r\n\r\nThe second is for LocalDate/LocalDateTime\r\n\r\n    public class Example {\r\n        @Value(&quot;#{T(java.time.LocalDate).parse(&#39;${property.name}&#39;)}&quot;)\r\n        private LocalDate localDate;\r\n    }\r\n\r\nSample property:\r\n\r\n    property.name=2018-06-20","title":"Spring: create LocalDate or LocalDateTime from @Value parameter","body":"<p>I know two ways. One is generic for any object - to use @Value annotation on custom setter</p>\n\n<pre><code>@Component\npublic class Example {\n\n    private LocalDate localDate;\n\n    @Value(\"${property.name}\")\n    private void setLocalDate(String localDateStr) {\n        if (localDateStr != null &amp;&amp; !localDateStr.isEmpty()) {\n            localDate = LocalDate.parse(localDateStr);\n        }\n    }\n}\n</code></pre>\n\n<p>The second is for LocalDate/LocalDateTime</p>\n\n<pre><code>public class Example {\n    @Value(\"#{T(java.time.LocalDate).parse('${property.name}')}\")\n    private LocalDate localDate;\n}\n</code></pre>\n\n<p>Sample property:</p>\n\n<pre><code>property.name=2018-06-20\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6807110,"reputation":4072,"user_id":5238522,"display_name":"Rakesh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550153693,"creation_date":1550153693,"answer_id":54692481,"question_id":48575426,"body_markdown":"If you want to specify the date format as well then use following on the field:\r\n\r\n    @Value(&quot;#{T(java.time.LocalDate).parse(&#39;${date.from.properties.file}&#39;, T(java.time.format.DateTimeFormatter).ofPattern(&#39;${date.format.from.properties.file}&#39;))}&quot;)","title":"Spring: create LocalDate or LocalDateTime from @Value parameter","body":"<p>If you want to specify the date format as well then use following on the field:</p>\n\n<pre><code>@Value(\"#{T(java.time.LocalDate).parse('${date.from.properties.file}', T(java.time.format.DateTimeFormatter).ofPattern('${date.format.from.properties.file}'))}\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2659642,"reputation":5389,"user_id":2299638,"display_name":"rahul maindargi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565525325,"creation_date":1564316093,"answer_id":57240801,"question_id":48575426,"body_markdown":"As mentioned in other answer by Pavel there are two ways. \r\n\r\nI am providing similar two ways with modification to handle 2nd Point by OP.\r\n\r\n&gt; If the property is not in the properties file, the parameter should be\r\n&gt; created using LocalDate.now()\r\n\r\n    @Component\r\n    public class Example {\r\n\r\n    private LocalDate localDate;\r\n\r\n    @Value(&quot;${property.name}&quot;)\r\n    private void setLocalDate(String localDateStr) {\r\n        if (localDateStr != null &amp;&amp; !localDateStr.isEmpty()) {\r\n            localDate = LocalDate.parse(localDateStr, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;));\r\n        }else{\r\n            localDate = LocalDate.now();\r\n        }\r\n    }\r\n    }\r\n\r\n\r\nI Prefere 2nd way though... \r\n\r\n    public class Example {\r\n        @Value(&quot;#{T(java.time.LocalDate).parse(&#39;${property.name}&#39;, T(java.time.format.DateTimeFormatter).ofPattern(&#39;yyyy-MM-dd&#39;)) ?: T(java.time.LocalDate).now()}&quot;)\r\n        private LocalDate localDate;\r\n    }\r\n\r\nEdit:- Fixed 2nd Way\r\n\r\n    @Value(&quot;#{ !(&#39;${date:}&#39;.equals(&#39;&#39;)) ? T(java.time.LocalDate).parse(&#39;${date:}&#39;, T(java.time.format.DateTimeFormatter).ofPattern(&#39;MM-dd-yyyy&#39;)) &quot; +\r\n            &quot;:T(java.time.LocalDate).now()}&quot;)\r\n    private LocalDate asOfDate;","title":"Spring: create LocalDate or LocalDateTime from @Value parameter","body":"<p>As mentioned in other answer by Pavel there are two ways. </p>\n\n<p>I am providing similar two ways with modification to handle 2nd Point by OP.</p>\n\n<blockquote>\n  <p>If the property is not in the properties file, the parameter should be\n  created using LocalDate.now()</p>\n</blockquote>\n\n<pre><code>@Component\npublic class Example {\n\nprivate LocalDate localDate;\n\n@Value(\"${property.name}\")\nprivate void setLocalDate(String localDateStr) {\n    if (localDateStr != null &amp;&amp; !localDateStr.isEmpty()) {\n        localDate = LocalDate.parse(localDateStr, DateTimeFormatter.ofPattern(\"yyyy-MM-dd\"));\n    }else{\n        localDate = LocalDate.now();\n    }\n}\n}\n</code></pre>\n\n<p>I Prefere 2nd way though... </p>\n\n<pre><code>public class Example {\n    @Value(\"#{T(java.time.LocalDate).parse('${property.name}', T(java.time.format.DateTimeFormatter).ofPattern('yyyy-MM-dd')) ?: T(java.time.LocalDate).now()}\")\n    private LocalDate localDate;\n}\n</code></pre>\n\n<p>Edit:- Fixed 2nd Way</p>\n\n<pre><code>@Value(\"#{ !('${date:}'.equals('')) ? T(java.time.LocalDate).parse('${date:}', T(java.time.format.DateTimeFormatter).ofPattern('MM-dd-yyyy')) \" +\n        \":T(java.time.LocalDate).now()}\")\nprivate LocalDate asOfDate;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7896167,"reputation":11,"user_id":5964752,"display_name":"Scott"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592230338,"creation_date":1592185427,"answer_id":62380171,"question_id":48575426,"body_markdown":"For the first bit, you could create a converter:\r\n\r\n    @Component\r\n    @ConfigurationPropertiesBinding\r\n    public class LocalDateConverter implements Converter&lt;String, LocalDate&gt; {\r\n    \r\n      @Override\r\n      public LocalDate convert(String s) {\r\n        if (s == null) {\r\n            return null;\r\n        }\r\n        return LocalDate.parse(s);\r\n      }\r\n    }\r\n\r\n Your config Class will automatically use this for conversion.\r\n\r\nFor the 2nd you can just do:\r\n\r\n    if(my.date == null) iso = LocalDate.now()\r\n","title":"Spring: create LocalDate or LocalDateTime from @Value parameter","body":"<p>For the first bit, you could create a converter:</p>\n\n<pre><code>@Component\n@ConfigurationPropertiesBinding\npublic class LocalDateConverter implements Converter&lt;String, LocalDate&gt; {\n\n  @Override\n  public LocalDate convert(String s) {\n    if (s == null) {\n        return null;\n    }\n    return LocalDate.parse(s);\n  }\n}\n</code></pre>\n\n<p>Your config Class will automatically use this for conversion.</p>\n\n<p>For the 2nd you can just do:</p>\n\n<pre><code>if(my.date == null) iso = LocalDate.now()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16950,"user_id":548473,"display_name":"Grigory Kislin"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1628963064,"creation_date":1628963064,"answer_id":68785704,"question_id":48575426,"body_markdown":"Spring Boot 2.5, works perfect:\r\n\r\n`application.yaml`\r\n```\r\nmy.date: 2021-08-14\r\nmy.time: &quot;11:00&quot;\r\n```\r\n```\r\n@Service\r\npublic class TestService {\r\n    @Value(&quot;${my.date}&quot;)\r\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n    LocalDate myDate;\r\n\r\n    @Value(&quot;${my.time}&quot;)\r\n    @DateTimeFormat(iso = DateTimeFormat.ISO.TIME)\r\n    LocalTime myTime;\r\n}\r\n```\r\n","title":"Spring: create LocalDate or LocalDateTime from @Value parameter","body":"<p>Spring Boot 2.5, works perfect:</p>\n<p><code>application.yaml</code></p>\n<pre><code>my.date: 2021-08-14\nmy.time: &quot;11:00&quot;\n</code></pre>\n<pre><code>@Service\npublic class TestService {\n    @Value(&quot;${my.date}&quot;)\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    LocalDate myDate;\n\n    @Value(&quot;${my.time}&quot;)\n    @DateTimeFormat(iso = DateTimeFormat.ISO.TIME)\n    LocalTime myTime;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1532531,"reputation":36089,"user_id":1429387,"accept_rate":63,"display_name":"naXa stands with Ukraine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674431804,"creation_date":1674431804,"answer_id":75204749,"question_id":48575426,"body_markdown":"There&#39;s an example of initializing a `LocalDateTime` value using annotations and configuration properties. I&#39;ve tested that it works in Spring Boot 2.4.\r\n\r\nMyComponent.kt fragment:\r\n```kt\r\n@Value(&quot;\\${my.date}&quot;)\r\n@DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\r\nval myDate: LocalDateTime\r\n```\r\n\r\napplication.yml:\r\n```yml\r\nmy:\r\n  date: &quot;2023-01-23T00:00:00&quot;\r\n```","title":"Spring: create LocalDate or LocalDateTime from @Value parameter","body":"<p>There's an example of initializing a <code>LocalDateTime</code> value using annotations and configuration properties. I've tested that it works in Spring Boot 2.4.</p>\n<p>MyComponent.kt fragment:</p>\n<pre><code>@Value(&quot;\\${my.date}&quot;)\n@DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\nval myDate: LocalDateTime\n</code></pre>\n<p>application.yml:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>my:\n  date: &quot;2023-01-23T00:00:00&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17045705,"reputation":112,"user_id":19623995,"display_name":"Maxime Dutaut"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694680147,"creation_date":1694680147,"answer_id":77103067,"question_id":48575426,"body_markdown":"In my case @DateTimeFormat annotation did not work, so to configure ISO format once and for all, I configure the following Bean in an @Configuration class\r\n\r\n```java\r\n@Bean\r\npublic ConversionService conversionService() {\r\n\tDefaultFormattingConversionService conversionService = new DefaultFormattingConversionService(false);\r\n\r\n\tDateTimeFormatterRegistrar dateTimeFormatterRegistrar = new DateTimeFormatterRegistrar();\r\n\tdateTimeFormatterRegistrar.setUseIsoFormat(true);\r\n\tdateTimeFormatterRegistrar.registerFormatters(conversionService);\r\n\r\n\treturn conversionService;\r\n}```","title":"Spring: create LocalDate or LocalDateTime from @Value parameter","body":"<p>In my case @DateTimeFormat annotation did not work, so to configure ISO format once and for all, I configure the following Bean in an @Configuration class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic ConversionService conversionService() {\n    DefaultFormattingConversionService conversionService = new DefaultFormattingConversionService(false);\n\n    DateTimeFormatterRegistrar dateTimeFormatterRegistrar = new DateTimeFormatterRegistrar();\n    dateTimeFormatterRegistrar.setUseIsoFormat(true);\n    dateTimeFormatterRegistrar.registerFormatters(conversionService);\n\n    return conversionService;\n}```\n</code></pre>\n"}],"owner":{"account_id":6207506,"reputation":4736,"user_id":4834965,"accept_rate":75,"display_name":"Josh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21479,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":8,"score":12,"last_activity_date":1694680147,"creation_date":1517543309,"question_id":48575426,"body_markdown":"In a spring project, I&#39;d like to create a `LocalDate` from an `@Autowired` constructor parameter whose value is in a `.properties` file. Two things I&#39;d like to do:\r\n\r\n**1.** If the property file contains the property `my.date`, the parameter should be created by parsing the property value\r\n\r\nWhen the property is set, and when I use the following:\r\n\r\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;) @Value(&quot;${my.date}&quot;) LocalDate myDate,\r\n    ...\r\n\r\nI get this error:\r\n    java.lang.IllegalStateException: Cannot convert value of type &#39;java.lang.String&#39; to required type &#39;java.time.LocalDate&#39;: no matching editors or conversion strategy found\r\n\r\nI have also used the `iso = ...` to use an ISO date with the same result.\r\n\r\n\r\n**2.** If the property is not in the properties file, the parameter should be created using `LocalDate.now()`\r\n\r\nI tried using a default value as such:\r\n\r\n    @Value(&quot;${my.date:#{T(java.time.LocalDate).now()}}&quot;) LocalDate myDate,\r\n    ...\r\n\r\nBut I get the same error.\r\n\r\nForgive my ignorance with Spring, but how can I achieve the two objectives here?\r\n","title":"Spring: create LocalDate or LocalDateTime from @Value parameter","body":"<p>In a spring project, I'd like to create a <code>LocalDate</code> from an <code>@Autowired</code> constructor parameter whose value is in a <code>.properties</code> file. Two things I'd like to do:</p>\n<p><strong>1.</strong> If the property file contains the property <code>my.date</code>, the parameter should be created by parsing the property value</p>\n<p>When the property is set, and when I use the following:</p>\n<pre><code>@DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;) @Value(&quot;${my.date}&quot;) LocalDate myDate,\n...\n</code></pre>\n<p>I get this error:\njava.lang.IllegalStateException: Cannot convert value of type 'java.lang.String' to required type 'java.time.LocalDate': no matching editors or conversion strategy found</p>\n<p>I have also used the <code>iso = ...</code> to use an ISO date with the same result.</p>\n<p><strong>2.</strong> If the property is not in the properties file, the parameter should be created using <code>LocalDate.now()</code></p>\n<p>I tried using a default value as such:</p>\n<pre><code>@Value(&quot;${my.date:#{T(java.time.LocalDate).now()}}&quot;) LocalDate myDate,\n...\n</code></pre>\n<p>But I get the same error.</p>\n<p>Forgive my ignorance with Spring, but how can I achieve the two objectives here?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":251706,"reputation":5323,"user_id":529282,"display_name":"Martheen"},"score":1,"creation_date":1676891788,"post_id":75508531,"comment_id":133222444,"body_markdown":"Does your company/ISP/govt block websites?","body":"Does your company/ISP/govt block websites?"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1676891835,"post_id":75508531,"comment_id":133222463,"body_markdown":"Looks somewhat similar to https://bugs.openjdk.org/browse/JDK-8139899 -- are you using a proxy to access the web?","body":"Looks somewhat similar to <a href=\"https://bugs.openjdk.org/browse/JDK-8139899\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-8139899</a> -- are you using a proxy to access the web?"},{"owner":{"account_id":27831940,"reputation":1,"user_id":21250182,"display_name":"Bedirhan Ulu&#231;e&#231;en"},"score":0,"creation_date":1676892020,"post_id":75508531,"comment_id":133222509,"body_markdown":"I&#39;m not using a proxy. My government does block some websites. Mostly adult ones, I can access Oracle&#39;s websites though if that matters.","body":"I&#39;m not using a proxy. My government does block some websites. Mostly adult ones, I can access Oracle&#39;s websites though if that matters."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1676892216,"post_id":75508531,"comment_id":133222553,"body_markdown":"@BedirhanUlu&#231;e&#231;en: the presence of `AbstractAutoProxyHandler.retrieveContentOfPACFile` in the stack trace makes me think you *are* actually using a proxy. Possibly one automatically configured via your HDCP server.","body":"@BedirhanUlu&#231;e&#231;en: the presence of <code>AbstractAutoProxyHandler.retrieveContentOfPACFile</code> in the stack trace makes me think you <i>are</i> actually using a proxy. Possibly one automatically configured via your HDCP server."},{"owner":{"account_id":27831940,"reputation":1,"user_id":21250182,"display_name":"Bedirhan Ulu&#231;e&#231;en"},"score":0,"creation_date":1676892374,"post_id":75508531,"comment_id":133222608,"body_markdown":"How may I check/disable if I&#39;m using a proxy?","body":"How may I check/disable if I&#39;m using a proxy?"},{"owner":{"account_id":27831940,"reputation":1,"user_id":21250182,"display_name":"Bedirhan Ulu&#231;e&#231;en"},"score":0,"creation_date":1676893348,"post_id":75508531,"comment_id":133222838,"body_markdown":"I have checked my settings for proxies and entered the command &quot;netsh winhttp reset proxy&quot; to make sure. The result was: Current WinHTTP proxy settings: Direct access (no proxy server).","body":"I have checked my settings for proxies and entered the command &quot;netsh winhttp reset proxy&quot; to make sure. The result was: Current WinHTTP proxy settings: Direct access (no proxy server)."}],"answers":[{"tags":[],"owner":{"account_id":5905702,"reputation":47,"user_id":4647581,"display_name":"osman akbacı"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694679864,"creation_date":1694679864,"answer_id":77103029,"question_id":75508531,"body_markdown":"I got same error and most probably company have some restriction. I execute as administrator and my problem was fixed","title":"Java 8 update throws exception","body":"<p>I got same error and most probably company have some restriction. I execute as administrator and my problem was fixed</p>\n"}],"owner":{"account_id":27831940,"reputation":1,"user_id":21250182,"display_name":"Bedirhan Ulu&#231;e&#231;en"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694679864,"creation_date":1676891624,"question_id":75508531,"body_markdown":"Every time I try to install the downloaded Java 8 runtime environment i get this error:\r\n\r\n\r\n```\r\njava.lang.IllegalArgumentException: illegal IPv4 address\r\n\tat java.net.HostPortrange.&lt;init&gt;(Unknown Source)\r\n\tat java.net.URLPermission$Authority.&lt;init&gt;(Unknown Source)\r\n\tat java.net.URLPermission.parseURI(Unknown Source)\r\n\tat java.net.URLPermission.init(Unknown Source)\r\n\tat java.net.URLPermission.&lt;init&gt;(Unknown Source)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.URLtoSocketPermission(Unknown Source)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getHeaderField(Unknown Source)\r\n\tat java.net.URLConnection.getContentType(Unknown Source)\r\n\tat com.sun.deploy.net.proxy.AbstractAutoProxyHandler.isSupportedINSFile(Unknown Source)\r\n\tat com.sun.deploy.net.proxy.AbstractAutoProxyHandler.retrieveContentOfPACFile(Unknown Source)\r\n\tat com.sun.deploy.net.proxy.AbstractAutoProxyHandler.contructLegacyPACScript_16(Unknown Source)\r\n\tat com.sun.deploy.net.proxy.AbstractAutoProxyHandler.init(Unknown Source)\r\n\tat com.sun.deploy.net.proxy.SunAutoProxyHandler.init(Unknown Source)\r\n\tat com.sun.deploy.net.proxy.DynamicProxyManager.reset(Unknown Source)\r\n\tat com.sun.deploy.net.proxy.DeployProxySelector.reset(Unknown Source)\r\n\tat com.sun.javaws.Main.initializeExecutionEnvironment(Unknown Source)\r\n\tat com.sun.javaws.Main.continueInSecureThread(Unknown Source)\r\n\tat com.sun.javaws.Main.access$000(Unknown Source)\r\n\tat com.sun.javaws.Main$1.run(Unknown Source)\r\n\tat java.lang.Thread.run(Unknown Source)\r\n\r\n```\r\n\r\nDoes anyone know why this is happening and how to fix it?\r\n\r\nI first got this error while trying to update java so I decided to reinstall java however this did not fix my issue.","title":"Java 8 update throws exception","body":"<p>Every time I try to install the downloaded Java 8 runtime environment i get this error:</p>\n<pre><code>java.lang.IllegalArgumentException: illegal IPv4 address\n    at java.net.HostPortrange.&lt;init&gt;(Unknown Source)\n    at java.net.URLPermission$Authority.&lt;init&gt;(Unknown Source)\n    at java.net.URLPermission.parseURI(Unknown Source)\n    at java.net.URLPermission.init(Unknown Source)\n    at java.net.URLPermission.&lt;init&gt;(Unknown Source)\n    at sun.net.www.protocol.http.HttpURLConnection.URLtoSocketPermission(Unknown Source)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)\n    at sun.net.www.protocol.http.HttpURLConnection.getHeaderField(Unknown Source)\n    at java.net.URLConnection.getContentType(Unknown Source)\n    at com.sun.deploy.net.proxy.AbstractAutoProxyHandler.isSupportedINSFile(Unknown Source)\n    at com.sun.deploy.net.proxy.AbstractAutoProxyHandler.retrieveContentOfPACFile(Unknown Source)\n    at com.sun.deploy.net.proxy.AbstractAutoProxyHandler.contructLegacyPACScript_16(Unknown Source)\n    at com.sun.deploy.net.proxy.AbstractAutoProxyHandler.init(Unknown Source)\n    at com.sun.deploy.net.proxy.SunAutoProxyHandler.init(Unknown Source)\n    at com.sun.deploy.net.proxy.DynamicProxyManager.reset(Unknown Source)\n    at com.sun.deploy.net.proxy.DeployProxySelector.reset(Unknown Source)\n    at com.sun.javaws.Main.initializeExecutionEnvironment(Unknown Source)\n    at com.sun.javaws.Main.continueInSecureThread(Unknown Source)\n    at com.sun.javaws.Main.access$000(Unknown Source)\n    at com.sun.javaws.Main$1.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\n\n</code></pre>\n<p>Does anyone know why this is happening and how to fix it?</p>\n<p>I first got this error while trying to update java so I decided to reinstall java however this did not fix my issue.</p>\n"},{"tags":["java","unit-testing","junit"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1306147155,"post_id":6096061,"comment_id":7065992,"body_markdown":"The appropriate way is to use the @Ignore annotation, but it&#39;s not conditional.","body":"The appropriate way is to use the @Ignore annotation, but it&#39;s not conditional."}],"answers":[{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1306148334,"creation_date":1306147120,"answer_id":6096075,"question_id":6096061,"body_markdown":"You can use the [`@Ignore`][1] annotation which you can add to a single test or test class to deactivate it.\r\n\r\nIf you need something conditional, you will have to create a custom test runner that you can register using\r\n\r\n    @RunWith(YourCustomTestRunner.class)\r\n\r\nYou could use that to define a custom annotation which uses expression language or references a system property to check whether a test should be run. But such a beast doesn&#39;t exist out of the box.\r\n\r\n\r\n  [1]: http://junit.sourceforge.net/javadoc/org/junit/Ignore.html","title":"is there any conditional annotation in JUnit to mark few test cases to be skipped?","body":"<p>You can use the <a href=\"http://junit.sourceforge.net/javadoc/org/junit/Ignore.html\" rel=\"nofollow\"><code>@Ignore</code></a> annotation which you can add to a single test or test class to deactivate it.</p>\n\n<p>If you need something conditional, you will have to create a custom test runner that you can register using</p>\n\n<pre><code>@RunWith(YourCustomTestRunner.class)\n</code></pre>\n\n<p>You could use that to define a custom annotation which uses expression language or references a system property to check whether a test should be run. But such a beast doesn't exist out of the box.</p>\n"},{"tags":[],"owner":{"account_id":54377,"reputation":13404,"user_id":162684,"accept_rate":100,"display_name":"MarcoS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1396859689,"creation_date":1306147195,"answer_id":6096087,"question_id":6096061,"body_markdown":"If you use JUnit 4.x, just use `@Ignore`. See [here][1]\r\n\r\n\r\n  [1]: http://junit.sourceforge.net/javadoc/org/junit/Ignore.html","title":"is there any conditional annotation in JUnit to mark few test cases to be skipped?","body":"<p>If you use JUnit 4.x, just use <code>@Ignore</code>. See <a href=\"http://junit.sourceforge.net/javadoc/org/junit/Ignore.html\" rel=\"nofollow\">here</a></p>\n"},{"tags":[],"owner":{"account_id":110937,"reputation":10882,"user_id":293330,"display_name":"Kaj"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1306148726,"creation_date":1306147754,"answer_id":6096183,"question_id":6096061,"body_markdown":"Hard to know if it is the `@Ignore` annotation that you are looking for, or if you actually want to turn off certain JUnit tests conditionally. Turning off testcases conditionally is done using `Assume`. \r\n\r\nYou can read about assumptions in the [release notes][1]  for junit 4.5\r\n\r\nThere&#39;s also a rather good thread here on stack over flow:\r\nhttps://stackoverflow.com/questions/1689242/conditionally-ignoring-tests-in-junit-4\r\n\r\n\r\n  [1]: http://junit.sourceforge.net/doc/ReleaseNotes4.4.html","title":"is there any conditional annotation in JUnit to mark few test cases to be skipped?","body":"<p>Hard to know if it is the <code>@Ignore</code> annotation that you are looking for, or if you actually want to turn off certain JUnit tests conditionally. Turning off testcases conditionally is done using <code>Assume</code>. </p>\n\n<p>You can read about assumptions in the <a href=\"http://junit.sourceforge.net/doc/ReleaseNotes4.4.html\" rel=\"nofollow noreferrer\">release notes</a>  for junit 4.5</p>\n\n<p>There's also a rather good thread here on stack over flow:\n<a href=\"https://stackoverflow.com/questions/1689242/conditionally-ignoring-tests-in-junit-4\">Conditionally ignoring tests in JUnit 4</a></p>\n"},{"tags":[],"owner":{"account_id":30387,"reputation":62460,"user_id":82865,"accept_rate":71,"display_name":"Jonathan Holloway"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1306149527,"creation_date":1306149527,"answer_id":6096456,"question_id":6096061,"body_markdown":"As other people put here @Ignore ignores a test.\r\n\r\nIf you want something conditional that look at the junit assumptions.\r\n\r\nhttp://junit.sourceforge.net/javadoc/org/junit/Assume.html\r\n\r\nThis works by looking at a condition and only proceeding to run the test if that condition is satisfied.  If the condition is false the test is effectively &quot;ignored&quot;.\r\n\r\nIf you put this in a helper class and have it called from a number of your tests you can effectively use it in the way you want.  Hope that helps.","title":"is there any conditional annotation in JUnit to mark few test cases to be skipped?","body":"<p>As other people put here @Ignore ignores a test.</p>\n\n<p>If you want something conditional that look at the junit assumptions.</p>\n\n<p><a href=\"http://junit.sourceforge.net/javadoc/org/junit/Assume.html\" rel=\"noreferrer\">http://junit.sourceforge.net/javadoc/org/junit/Assume.html</a></p>\n\n<p>This works by looking at a condition and only proceeding to run the test if that condition is satisfied.  If the condition is false the test is effectively \"ignored\".</p>\n\n<p>If you put this in a helper class and have it called from a number of your tests you can effectively use it in the way you want.  Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":15278413,"reputation":1,"user_id":11023515,"display_name":"Hagay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694679717,"creation_date":1694679717,"answer_id":77103006,"question_id":6096061,"body_markdown":"You can use assumeTrue(your_condition) to skip the test if the condition is false.\r\nIn the following example junit will skip the test if the file doesn&#39;t exist.\r\n```\r\nFile file = new File(&quot;path/to/your/file&quot;);\r\nassumeTrue(file.exists());\r\n```","title":"is there any conditional annotation in JUnit to mark few test cases to be skipped?","body":"<p>You can use assumeTrue(your_condition) to skip the test if the condition is false.\nIn the following example junit will skip the test if the file doesn't exist.</p>\n<pre><code>File file = new File(&quot;path/to/your/file&quot;);\nassumeTrue(file.exists());\n</code></pre>\n"}],"owner":{"account_id":205768,"reputation":5552,"user_id":454686,"accept_rate":83,"display_name":"Manoj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16603,"favorite_count":0,"down_vote_count":1,"up_vote_count":22,"accepted_answer_id":6096183,"answer_count":5,"score":21,"last_activity_date":1694679717,"creation_date":1306147031,"question_id":6096061,"body_markdown":"As far as I know to skip a test case the simplest thing to do is to remove the `@Test` annotation, but to do it over a large number of test cases is cumbersome. I was wondering if there is any annotation available in JUnit to turn off few test cases conditionally. ","title":"is there any conditional annotation in JUnit to mark few test cases to be skipped?","body":"<p>As far as I know to skip a test case the simplest thing to do is to remove the <code>@Test</code> annotation, but to do it over a large number of test cases is cumbersome. I was wondering if there is any annotation available in JUnit to turn off few test cases conditionally. </p>\n"},{"tags":["java","maven","unit-testing","junit4","junit5"],"answers":[{"tags":[],"owner":{"account_id":169521,"reputation":37107,"user_id":395659,"accept_rate":90,"display_name":"CloudyMarble"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1347516382,"creation_date":1347516382,"answer_id":12400310,"question_id":12400243,"body_markdown":"I would write a routine which determines where the file should be written to, which i unitest afterwards, in general i try to avoid (as possible) accessing persistent data in unittests, like file IO or database access, this has performance reasons and others too.\r\n\r\nTake a look at this asnwer: https://stackoverflow.com/a/8032504/395659","title":"What is the correct way to write to temp file during unit tests with Maven?","body":"<p>I would write a routine which determines where the file should be written to, which i unitest afterwards, in general i try to avoid (as possible) accessing persistent data in unittests, like file IO or database access, this has performance reasons and others too.</p>\n\n<p>Take a look at this asnwer: <a href=\"https://stackoverflow.com/a/8032504/395659\">https://stackoverflow.com/a/8032504/395659</a></p>\n"},{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1347517231,"creation_date":1347517231,"answer_id":12400500,"question_id":12400243,"body_markdown":"Temporary files should be created into temporary directory. Retrieve it using call `System.getProperty(&quot;java.io.tmpdir&quot;)`\r\n\r\nTemporary file should be temporary, i.e. should be removed when it is not needed. To acheive this do not forget to delete it in `finally` block or in code that runs after the test, i.e.:\r\n\r\n    File tmpFile = ...\r\n    try {\r\n       // deal with tempFile\r\n    } finally {\r\n        tempFile.delete();\r\n    }\r\n\r\nand/or\r\n\r\n    public class MyTestCase {\r\n        private File tmpFile = null;\r\n    \r\n        @Before\r\n        public void setUp() {\r\n            tmpFile = ...;\r\n        }\r\n    \r\n        @Test\r\n        public void setUp() {\r\n            // deal with tmpFile\r\n        }\r\n    \r\n        @After\r\n        public void setUp() {\r\n            tmpFile.delete();\r\n        }\r\n    }\r\n\r\n\r\nUse `File.createTempFile(String prefix, String suffix)` if it is possible, i.e. you can then use file with special name generated by `createTempFile()`.\r\n\r\nUse `file.deleteOnExit()`. This creates hook that removes file automatically when JVM is terminated. The file will remain only if JVM was killed with `kill -9`, so it did not have a chance to run shutdown code. \r\n","title":"What is the correct way to write to temp file during unit tests with Maven?","body":"<p>Temporary files should be created into temporary directory. Retrieve it using call <code>System.getProperty(\"java.io.tmpdir\")</code></p>\n\n<p>Temporary file should be temporary, i.e. should be removed when it is not needed. To acheive this do not forget to delete it in <code>finally</code> block or in code that runs after the test, i.e.:</p>\n\n<pre><code>File tmpFile = ...\ntry {\n   // deal with tempFile\n} finally {\n    tempFile.delete();\n}\n</code></pre>\n\n<p>and/or</p>\n\n<pre><code>public class MyTestCase {\n    private File tmpFile = null;\n\n    @Before\n    public void setUp() {\n        tmpFile = ...;\n    }\n\n    @Test\n    public void setUp() {\n        // deal with tmpFile\n    }\n\n    @After\n    public void setUp() {\n        tmpFile.delete();\n    }\n}\n</code></pre>\n\n<p>Use <code>File.createTempFile(String prefix, String suffix)</code> if it is possible, i.e. you can then use file with special name generated by <code>createTempFile()</code>.</p>\n\n<p>Use <code>file.deleteOnExit()</code>. This creates hook that removes file automatically when JVM is terminated. The file will remain only if JVM was killed with <code>kill -9</code>, so it did not have a chance to run shutdown code. </p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1347520526,"creation_date":1347517696,"answer_id":12400600,"question_id":12400243,"body_markdown":"No need to reinvent the wheel...\r\n\r\nThe JDK provides a way to a create temporary file, and a way to automatically delete it on exit:\r\n\r\n    File file = File.createTempFile( &quot;some-prefix&quot;, &quot;some-ext&quot;);\r\n    file.deleteOnExit();\r\n    \r\nUse the file and it will be deleted automatically when your test finishes. That&#39;s all there is to it.\r\n\r\nTo specify the directory to use for temporary files, use the overloaded method:\r\n\r\n    File file = File.createTempFile( &quot;prefix&quot;, &quot;ext&quot;, new File(&quot;/some/dir/path&quot;));\r\n","title":"What is the correct way to write to temp file during unit tests with Maven?","body":"<p>No need to reinvent the wheel...</p>\n\n<p>The JDK provides a way to a create temporary file, and a way to automatically delete it on exit:</p>\n\n<pre><code>File file = File.createTempFile( \"some-prefix\", \"some-ext\");\nfile.deleteOnExit();\n</code></pre>\n\n<p>Use the file and it will be deleted automatically when your test finishes. That's all there is to it.</p>\n\n<p>To specify the directory to use for temporary files, use the overloaded method:</p>\n\n<pre><code>File file = File.createTempFile( \"prefix\", \"ext\", new File(\"/some/dir/path\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1427644,"reputation":47311,"user_id":1350762,"display_name":"maba"},"down_vote_count":0,"up_vote_count":84,"is_accepted":true,"score":84,"last_activity_date":1466523330,"creation_date":1347517711,"answer_id":12400605,"question_id":12400243,"body_markdown":"You could try to use [TemporaryFolder][2] JUnit @Rule as described [here][1]\n\n&gt; The [TemporaryFolder][2] creates a folder in the default temporary file directory specified by the system property java.io.tmpdir. The method newFile creates a new file in the temporary directory and newFolder creates a new folder.\n&gt;\n&gt;When the test method finishes, JUnit automatically deletes all files and directories in and including the TemporaryFolder. JUnit guarantees to delete the resources, whether the test passes or fails.\n\n\n----------\n**After Question Updated**\n\nYou can change the working directory used by [`maven-surefire-plugin`][3].\n\n    &lt;plugins&gt;\n        [...]\n          &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.12.3&lt;/version&gt;\n            &lt;configuration&gt;\n              &lt;workingDirectory&gt;${project.build.directory}&lt;/workingDirectory&gt;\n            &lt;/configuration&gt;\n          &lt;/plugin&gt;\n        [...]\n    &lt;/plugins&gt;\n\nYou can change that working directory to anything you need for your tests like `${project.build.directory}/my_special_dir/`.\n\nThe working directory in surefire plugin only affects tests being run and ONLY for tests being conducted by maven. If you run your tests from within an IDE the working directory will be something else.\n\n  [1]: http://garygregory.wordpress.com/2010/01/20/junit-tip-use-rules-to-manage-temporary-files-and-folders/\n  [2]: http://junit.org/junit4/javadoc/latest/org/junit/rules/TemporaryFolder.html\n  [3]: http://maven.apache.org/plugins/maven-surefire-plugin/test-mojo.html#workingDirectory","title":"What is the correct way to write to temp file during unit tests with Maven?","body":"<p>You could try to use <a href=\"http://junit.org/junit4/javadoc/latest/org/junit/rules/TemporaryFolder.html\" rel=\"noreferrer\">TemporaryFolder</a> JUnit @Rule as described <a href=\"http://garygregory.wordpress.com/2010/01/20/junit-tip-use-rules-to-manage-temporary-files-and-folders/\" rel=\"noreferrer\">here</a></p>\n<blockquote>\n<p>The <a href=\"http://junit.org/junit4/javadoc/latest/org/junit/rules/TemporaryFolder.html\" rel=\"noreferrer\">TemporaryFolder</a> creates a folder in the default temporary file directory specified by the system property java.io.tmpdir. The method newFile creates a new file in the temporary directory and newFolder creates a new folder.</p>\n<p>When the test method finishes, JUnit automatically deletes all files and directories in and including the TemporaryFolder. JUnit guarantees to delete the resources, whether the test passes or fails.</p>\n</blockquote>\n<hr />\n<p><strong>After Question Updated</strong></p>\n<p>You can change the working directory used by <a href=\"http://maven.apache.org/plugins/maven-surefire-plugin/test-mojo.html#workingDirectory\" rel=\"noreferrer\"><code>maven-surefire-plugin</code></a>.</p>\n<pre><code>&lt;plugins&gt;\n    [...]\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.12.3&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;workingDirectory&gt;${project.build.directory}&lt;/workingDirectory&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    [...]\n&lt;/plugins&gt;\n</code></pre>\n<p>You can change that working directory to anything you need for your tests like <code>${project.build.directory}/my_special_dir/</code>.</p>\n<p>The working directory in surefire plugin only affects tests being run and ONLY for tests being conducted by maven. If you run your tests from within an IDE the working directory will be something else.</p>\n"},{"tags":[],"owner":{"account_id":1737481,"reputation":13912,"user_id":1589700,"accept_rate":75,"display_name":"Stephen Connolly"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1347517716,"creation_date":1347517716,"answer_id":12400608,"question_id":12400243,"body_markdown":"You will want to be able to run your tests both from an IDE as well as from Maven, so best practice is to write your tests so that they do not assume they are being run within Maven.\r\n\r\nOne of the best ways to deal with temporary files is using [junit rules][1]. This allows you to rely on the rule to clean up for you.\r\n\r\n  [1]: http://garygregory.wordpress.com/2010/01/20/junit-tip-use-rules-to-manage-temporary-files-and-folders/","title":"What is the correct way to write to temp file during unit tests with Maven?","body":"<p>You will want to be able to run your tests both from an IDE as well as from Maven, so best practice is to write your tests so that they do not assume they are being run within Maven.</p>\n\n<p>One of the best ways to deal with temporary files is using <a href=\"http://garygregory.wordpress.com/2010/01/20/junit-tip-use-rules-to-manage-temporary-files-and-folders/\" rel=\"nofollow\">junit rules</a>. This allows you to rely on the rule to clean up for you.</p>\n"},{"tags":[],"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1347529142,"creation_date":1347529142,"answer_id":12403431,"question_id":12400243,"body_markdown":"To state it beforehand, I am strongly against doing such things in unit test.  I haven&#39;t really tried this but it should work:\r\n\r\nAssume you are using surefire plugin, from the document it quoted that you can access the base directory of project under test by `System.getProperty(&quot;basedir&quot;)`.  Get it and create files under basedir/target.\r\n\r\nA more &quot;appropriate&quot; way (as we may have chance that we configured output directory to something else, you can change the surefire  plugin config to something like this:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;systemPropertyVariables&gt;\r\n                &lt;myOutDir&gt;${project.build.outputDirectory}&lt;/myOutDir&gt;\r\n            &lt;/systemPropertyVariables&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nThen you can get the actual output directory by `System.getProperty(&quot;myOutDir&quot;)` in your test.","title":"What is the correct way to write to temp file during unit tests with Maven?","body":"<p>To state it beforehand, I am strongly against doing such things in unit test.  I haven't really tried this but it should work:</p>\n\n<p>Assume you are using surefire plugin, from the document it quoted that you can access the base directory of project under test by <code>System.getProperty(\"basedir\")</code>.  Get it and create files under basedir/target.</p>\n\n<p>A more \"appropriate\" way (as we may have chance that we configured output directory to something else, you can change the surefire  plugin config to something like this:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.6&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;systemPropertyVariables&gt;\n            &lt;myOutDir&gt;${project.build.outputDirectory}&lt;/myOutDir&gt;\n        &lt;/systemPropertyVariables&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Then you can get the actual output directory by <code>System.getProperty(\"myOutDir\")</code> in your test.</p>\n"},{"tags":[],"owner":{"account_id":1670557,"reputation":904,"user_id":1537093,"accept_rate":100,"display_name":"dpelisek"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1684610059,"creation_date":1653045963,"answer_id":72318174,"question_id":12400243,"body_markdown":"Since JUnit 5 you can use [@TempDir][1]. It will be deleted (including its content) after the test(s).\r\n\r\neither one temporary directory for every test:\r\n```{java}\r\n@Test\r\nvoid testWithTempFiles(@TempDir Path tempDir) \r\n    Path file = tempDir.resolve(&quot;temp_file.txt&quot;);\r\n    ...\r\n}\r\n\r\n```\r\n\r\n\r\nor a single one for all tests in the class:\r\n```{java}\r\n@TempDir\r\nstatic Path tempDir\r\n\r\n@Test\r\nvoid testWithTempFiles() \r\n    Path file = tempDir.resolve(&quot;temp_file.txt&quot;);\r\n    ...\r\n}\r\n```\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/5.4.1/api/org/junit/jupiter/api/io/TempDir.html","title":"What is the correct way to write to temp file during unit tests with Maven?","body":"<p>Since JUnit 5 you can use <a href=\"https://junit.org/junit5/docs/5.4.1/api/org/junit/jupiter/api/io/TempDir.html\" rel=\"nofollow noreferrer\">@TempDir</a>. It will be deleted (including its content) after the test(s).</p>\n<p>either one temporary directory for every test:</p>\n<pre><code>@Test\nvoid testWithTempFiles(@TempDir Path tempDir) \n    Path file = tempDir.resolve(&quot;temp_file.txt&quot;);\n    ...\n}\n\n</code></pre>\n<p>or a single one for all tests in the class:</p>\n<pre><code>@TempDir\nstatic Path tempDir\n\n@Test\nvoid testWithTempFiles() \n    Path file = tempDir.resolve(&quot;temp_file.txt&quot;);\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19523,"user_id":8583692,"display_name":"Mahozad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694679579,"creation_date":1694679579,"answer_id":77102991,"question_id":12400243,"body_markdown":"Here are several ways using JUnit 5 and Kotlin language.\r\n\r\n- Using JUnit 5 `@TempDir` on a field:\r\n\r\n    ```kotlin\r\n    @TempDir(cleanup = ON_SUCCESS)\r\n    lateinit var tempDirectory: Path\r\n\r\n    @Test fun example() {\r\n        // use the tempDirectory\r\n    }\r\n    ```\r\n\r\n- Using JUnit 5 `@TempDir` on a test function parameter:\r\n\r\n    ```kotlin\r\n    @Test fun example(\r\n        @TempDir(cleanup = CleanupMode.ON_SUCCESS) tempDirectory: Path\r\n    ) {\r\n        // use the tempDirectory\r\n    }\r\n    ```\r\n\r\n- Manually creating the file and calling `deleteOnExit()`:\r\n\r\n    ```kotlin\r\n    @Test fun example() {\r\n        val file = File(&quot;file.txt&quot;).apply { deleteOnExit() }\r\n    }\r\n    ```\r\n\r\n- Using Kotlin `createTempDirectory` and `createTempFile` functions in test class or test function:\r\n\r\n    ```kotlin\r\n    val file = createTempFile(&quot;file.txt&quot;)\r\n    ```\r\n","title":"What is the correct way to write to temp file during unit tests with Maven?","body":"<p>Here are several ways using JUnit 5 and Kotlin language.</p>\n<ul>\n<li><p>Using JUnit 5 <code>@TempDir</code> on a field:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@TempDir(cleanup = ON_SUCCESS)\nlateinit var tempDirectory: Path\n\n@Test fun example() {\n    // use the tempDirectory\n}\n</code></pre>\n</li>\n<li><p>Using JUnit 5 <code>@TempDir</code> on a test function parameter:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Test fun example(\n    @TempDir(cleanup = CleanupMode.ON_SUCCESS) tempDirectory: Path\n) {\n    // use the tempDirectory\n}\n</code></pre>\n</li>\n<li><p>Manually creating the file and calling <code>deleteOnExit()</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Test fun example() {\n    val file = File(&quot;file.txt&quot;).apply { deleteOnExit() }\n}\n</code></pre>\n</li>\n<li><p>Using Kotlin <code>createTempDirectory</code> and <code>createTempFile</code> functions in test class or test function:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val file = createTempFile(&quot;file.txt&quot;)\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98425,"favorite_count":0,"down_vote_count":0,"up_vote_count":80,"accepted_answer_id":12400605,"answer_count":8,"score":80,"last_activity_date":1694679707,"creation_date":1347515957,"question_id":12400243,"body_markdown":"I have written a unit test that writes a file to the file-system, given no path it writes to the working directory; so if executed from the project directory it writes in the project root, if in the projects parent directory it writes to the parents root directory.\r\n\r\nSo what is the correct way to write to the target directory? Quite possibly a directory inside the target directory?\r\n\r\nIf I quite simply specify `target/` with the file it will write to the parent projects target instead of the projects target.\r\n\r\n**UPDATE**: I actually want the file after the test finishes. The file is for an extraction format for third-parties that needs to be sent to the third parties. The test can be switched on/off to allow me to only run if the format of the file changes for re-approval. It&#39;s not a huge problem where the file goes, but I would like something that&#39;s easy to find.","title":"What is the correct way to write to temp file during unit tests with Maven?","body":"<p>I have written a unit test that writes a file to the file-system, given no path it writes to the working directory; so if executed from the project directory it writes in the project root, if in the projects parent directory it writes to the parents root directory.</p>\n\n<p>So what is the correct way to write to the target directory? Quite possibly a directory inside the target directory?</p>\n\n<p>If I quite simply specify <code>target/</code> with the file it will write to the parent projects target instead of the projects target.</p>\n\n<p><strong>UPDATE</strong>: I actually want the file after the test finishes. The file is for an extraction format for third-parties that needs to be sent to the third parties. The test can be switched on/off to allow me to only run if the format of the file changes for re-approval. It's not a huge problem where the file goes, but I would like something that's easy to find.</p>\n"},{"tags":["java","spring-boot","tomcat"],"answers":[{"tags":[],"owner":{"account_id":5040296,"reputation":11,"user_id":4047909,"display_name":"Wim Wiltenburg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694679054,"creation_date":1694679054,"answer_id":77102920,"question_id":77101695,"body_markdown":"If you&#39;re using Spring Boot, it would be possible to implement a Filter on that specific url, like in this quick and dirty example:\r\n\r\n```\r\n@RequestMapping(&quot;/api/data/accept&quot;)\r\n@Controller\r\npublic class StackOverflowController {\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;String&gt; accept(@RequestBody String body) {\r\n        return ResponseEntity.ok(&quot;Request accepted&quot;);\r\n    }\r\n\r\n    @PostMapping(&quot;/nofilter&quot;)\r\n    public ResponseEntity&lt;String&gt; nofilter(@RequestBody String body) {\r\n        return ResponseEntity.ok(&quot;Request accepted&quot;);\r\n    }\r\n}\r\n\r\n@Component\r\nclass OneMegabyteFilter implements Filter {\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n        int maxRequestSize = 1_000_000;\r\n        if (request instanceof HttpServletRequest) {\r\n            String url = ((HttpServletRequest)request).getRequestURL().toString();\r\n            if (url.endsWith(&quot;/api/data/accept&quot;) &amp;&amp; request.getContentLength() &gt; maxRequestSize) {\r\n                throw new ServletException(&quot;Request of size &quot; + request.getContentLength() + &quot; is larger than the allowed size of 1M&quot;);\r\n            }\r\n        }\r\n        chain.doFilter(request, response);\r\n    }\r\n}\r\n```\r\n","title":"how to set max post request size limit for specific url in tomcat?","body":"<p>If you're using Spring Boot, it would be possible to implement a Filter on that specific url, like in this quick and dirty example:</p>\n<pre><code>@RequestMapping(&quot;/api/data/accept&quot;)\n@Controller\npublic class StackOverflowController {\n\n    @PostMapping\n    public ResponseEntity&lt;String&gt; accept(@RequestBody String body) {\n        return ResponseEntity.ok(&quot;Request accepted&quot;);\n    }\n\n    @PostMapping(&quot;/nofilter&quot;)\n    public ResponseEntity&lt;String&gt; nofilter(@RequestBody String body) {\n        return ResponseEntity.ok(&quot;Request accepted&quot;);\n    }\n}\n\n@Component\nclass OneMegabyteFilter implements Filter {\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n        int maxRequestSize = 1_000_000;\n        if (request instanceof HttpServletRequest) {\n            String url = ((HttpServletRequest)request).getRequestURL().toString();\n            if (url.endsWith(&quot;/api/data/accept&quot;) &amp;&amp; request.getContentLength() &gt; maxRequestSize) {\n                throw new ServletException(&quot;Request of size &quot; + request.getContentLength() + &quot; is larger than the allowed size of 1M&quot;);\n            }\n        }\n        chain.doFilter(request, response);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9562969,"reputation":77,"user_id":7103113,"display_name":"J.Kuai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1694679054,"creation_date":1694663895,"question_id":77101695,"body_markdown":"The global configuration `maxPostSize` is 20mb, but I want to set it to 1mb only for this url `/api/data/accept`. How to do it appropriately? ","title":"how to set max post request size limit for specific url in tomcat?","body":"<p>The global configuration <code>maxPostSize</code> is 20mb, but I want to set it to 1mb only for this url <code>/api/data/accept</code>. How to do it appropriately?</p>\n"},{"tags":["java","function","lambda","functional-interface"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1526113391,"post_id":50304207,"comment_id":87624856,"body_markdown":"That&#39;s not how Java generics work. You must specify the generic parameters of the type in a _variable declaration_.","body":"That&#39;s not how Java generics work. You must specify the generic parameters of the type in a <i>variable declaration</i>."},{"owner":{"account_id":13282467,"reputation":6102,"user_id":9589593,"display_name":"k_ssb"},"score":0,"creation_date":1526116220,"post_id":50304207,"comment_id":87625512,"body_markdown":"@Hashken Would you rather: (1) declare the type upon defining the function (e.g., `MonoFunction&lt;A&gt; foo = ...`) but not when applying it, or (2) lose type safety (e.g., `ClassCastException` can be thrown when using `MonoFunction` inappropriately)? I think I can get either to work.","body":"@Hashken Would you rather: (1) declare the type upon defining the function (e.g., <code>MonoFunction&lt;A&gt; foo = ...</code>) but not when applying it, or (2) lose type safety (e.g., <code>ClassCastException</code> can be thrown when using <code>MonoFunction</code> inappropriately)? I think I can get either to work."},{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":0,"creation_date":1526123301,"post_id":50304207,"comment_id":87627266,"body_markdown":"You&#39;re looking for the `UnaryOperator&lt;T&gt;` extending `Function&lt;T, T&gt;` but I&#39;m not sure why you want the type to be infered automatically. This will not work.","body":"You&#39;re looking for the <code>UnaryOperator&lt;T&gt;</code> extending <code>Function&lt;T, T&gt;</code> but I&#39;m not sure why you want the type to be infered automatically. This will not work."},{"owner":{"account_id":452166,"reputation":4446,"user_id":848454,"accept_rate":63,"display_name":"Hashken"},"score":0,"creation_date":1526443858,"post_id":50304207,"comment_id":87741064,"body_markdown":"@pkpnd: How would go about implementing option 2 (Lose type safety)?","body":"@pkpnd: How would go about implementing option 2 (Lose type safety)?"}],"answers":[{"tags":[],"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1694678872,"creation_date":1526123529,"answer_id":50305596,"question_id":50304207,"body_markdown":"You could use the [**`UnaryOperator&lt;T&gt;`**][1] but you have to define beforehand what type you&#39;re expecting.\r\n\r\n    UnaryOperator&lt;A&gt; foo = a -&gt; {\r\n        System.out.println(a);\r\n        return a;\r\n    };\r\n\r\nOtherwise, just cast your result into the variable type :\r\n\r\n    a = (A) foo.apply (new A());\r\n    b = (B) foo.apply (new B());\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/function/UnaryOperator.html","title":"Generic Functional Interface that accepts and returns same type","body":"<p>You could use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/UnaryOperator.html\" rel=\"nofollow noreferrer\"><strong><code>UnaryOperator&lt;T&gt;</code></strong></a> but you have to define beforehand what type you're expecting.</p>\n<pre><code>UnaryOperator&lt;A&gt; foo = a -&gt; {\n    System.out.println(a);\n    return a;\n};\n</code></pre>\n<p>Otherwise, just cast your result into the variable type :</p>\n<pre><code>a = (A) foo.apply (new A());\nb = (B) foo.apply (new B());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1526543164,"creation_date":1526543164,"answer_id":50385998,"question_id":50304207,"body_markdown":"Use a generic factory method returning the function:\r\n\r\n    static &lt;T&gt; UnaryOperator&lt;T&gt; getFooFunction() {\r\n        return obj -&gt; {\r\n            System.out.println(obj);\r\n            return obj;\r\n        };\r\n    }\r\n\r\n    public static void main (String[] args) {\r\n        A a;\r\n        B b;\r\n\r\n        UnaryOperator&lt;A&gt; fooA = getFooFunction();\r\n        a = fooA.apply(new A());\r\n        UnaryOperator&lt;B&gt; fooB = getFooFunction();\r\n        b = fooB.apply(new B());\r\n        System.out.println(fooA==(Object)fooB);\r\n    }\r\nNote that `getFooFunction()` does not only return the same function semantically, given the current implementation (HotSpot/OpenJDK), it will even be the same object, as you can test easily via `fooA==(Object)fooB`, so there is no reason to sacrifice the Generic’s type safety.\r\n\r\nIt’s the same thing that happens when you use `UnaryOperator.identity()`.\r\n","title":"Generic Functional Interface that accepts and returns same type","body":"<p>Use a generic factory method returning the function:</p>\n\n<pre><code>static &lt;T&gt; UnaryOperator&lt;T&gt; getFooFunction() {\n    return obj -&gt; {\n        System.out.println(obj);\n        return obj;\n    };\n}\n\npublic static void main (String[] args) {\n    A a;\n    B b;\n\n    UnaryOperator&lt;A&gt; fooA = getFooFunction();\n    a = fooA.apply(new A());\n    UnaryOperator&lt;B&gt; fooB = getFooFunction();\n    b = fooB.apply(new B());\n    System.out.println(fooA==(Object)fooB);\n}\n</code></pre>\n\n<p>Note that <code>getFooFunction()</code> does not only return the same function semantically, given the current implementation (HotSpot/OpenJDK), it will even be the same object, as you can test easily via <code>fooA==(Object)fooB</code>, so there is no reason to sacrifice the Generic’s type safety.</p>\n\n<p>It’s the same thing that happens when you use <code>UnaryOperator.identity()</code>.</p>\n"},{"tags":[],"owner":{"account_id":13282467,"reputation":6102,"user_id":9589593,"display_name":"k_ssb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526558501,"creation_date":1526558501,"answer_id":50390978,"question_id":50304207,"body_markdown":"The other answers already discuss how to use `UnaryOperator&lt;T&gt;`. While that approach provides the type safety of Java generics, you still have to specify the type upon creating the `UnaryOperator`. While I would recommend the `UnaryOperator` approach in most situations, you specifically asked (in the comments) how one might avoid specifying the type `&lt;T&gt;`, even if you had to give up type safety.\r\n\r\nYou can make a `MonoFunction` implementation as follows (unsafe and usually not recommended):\r\n\r\n    public class MonoFunction {\r\n        private UnaryOperator&lt;Object&gt; func;\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public &lt;T&gt; MonoFunction(UnaryOperator&lt;T&gt; func) {\r\n            this.func = (UnaryOperator&lt;Object&gt;) func;\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public &lt;T&gt; T apply(T obj) {\r\n            return (T) func.apply(obj);\r\n        }\r\n    }\r\n\r\nNote that this is _not_ a `@FunctionalInterface`, so you&#39;ll have to put your lambda expression inside a `new MonoFunction(...)` call, as follows:\r\n\r\n    public class MonoFunctionTest {\r\n        public static void main(String[] args) {\r\n            A a;\r\n            B b;\r\n    \r\n            MonoFunction foo = new MonoFunction((obj) -&gt; {\r\n                System.out.println(obj);\r\n                return obj;\r\n            });\r\n    \r\n            a = foo.apply(new A()); // toString in A\r\n            b = foo.apply(new B()); // toString in B\r\n    \r\n            MonoFunction bad = new MonoFunction((A obj) -&gt; {\r\n                System.out.println(obj);\r\n                return obj;\r\n            });\r\n    \r\n            a = bad.apply(a); // toString in A\r\n            b = bad.apply(b); // ClassCastException: B cannot be cast to A\r\n        }\r\n    }\r\n    \r\n    class A {\r\n        public String toString() { return &quot;toString in A&quot;; }\r\n    }\r\n    class B {\r\n        public String toString() { return &quot;toString in B&quot;; }\r\n    }\r\n\r\nI stress again that this is unsafe, and it is relatively easy to get a `ClassCastException` as demonstrated.","title":"Generic Functional Interface that accepts and returns same type","body":"<p>The other answers already discuss how to use <code>UnaryOperator&lt;T&gt;</code>. While that approach provides the type safety of Java generics, you still have to specify the type upon creating the <code>UnaryOperator</code>. While I would recommend the <code>UnaryOperator</code> approach in most situations, you specifically asked (in the comments) how one might avoid specifying the type <code>&lt;T&gt;</code>, even if you had to give up type safety.</p>\n\n<p>You can make a <code>MonoFunction</code> implementation as follows (unsafe and usually not recommended):</p>\n\n<pre><code>public class MonoFunction {\n    private UnaryOperator&lt;Object&gt; func;\n\n    @SuppressWarnings(\"unchecked\")\n    public &lt;T&gt; MonoFunction(UnaryOperator&lt;T&gt; func) {\n        this.func = (UnaryOperator&lt;Object&gt;) func;\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    public &lt;T&gt; T apply(T obj) {\n        return (T) func.apply(obj);\n    }\n}\n</code></pre>\n\n<p>Note that this is <em>not</em> a <code>@FunctionalInterface</code>, so you'll have to put your lambda expression inside a <code>new MonoFunction(...)</code> call, as follows:</p>\n\n<pre><code>public class MonoFunctionTest {\n    public static void main(String[] args) {\n        A a;\n        B b;\n\n        MonoFunction foo = new MonoFunction((obj) -&gt; {\n            System.out.println(obj);\n            return obj;\n        });\n\n        a = foo.apply(new A()); // toString in A\n        b = foo.apply(new B()); // toString in B\n\n        MonoFunction bad = new MonoFunction((A obj) -&gt; {\n            System.out.println(obj);\n            return obj;\n        });\n\n        a = bad.apply(a); // toString in A\n        b = bad.apply(b); // ClassCastException: B cannot be cast to A\n    }\n}\n\nclass A {\n    public String toString() { return \"toString in A\"; }\n}\nclass B {\n    public String toString() { return \"toString in B\"; }\n}\n</code></pre>\n\n<p>I stress again that this is unsafe, and it is relatively easy to get a <code>ClassCastException</code> as demonstrated.</p>\n"},{"tags":[],"owner":{"account_id":15144230,"reputation":1347,"user_id":10928439,"display_name":"Simon Jacobs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551356892,"creation_date":1551356892,"answer_id":54925773,"question_id":50304207,"body_markdown":"This is possible using a generic method within a functional interface:\r\n\r\n    @FunctionalInterface\r\n    interface Identity {\r\n    \t&lt; T &gt; T apply( T input );\r\n    }\r\n\r\nUnfortunately an interface defined like this cannot be implemented using a lambda function. Instead it must be done the old way using a class, and most concisely with an anonymous class:\r\n\r\n    Identity id = new Identity() {\r\n    \tpublic &lt; T &gt; T apply( T anyInput ){\r\n            // do something\r\n            return anyInput;\r\n        }\r\n    };\r\n\r\nThis then works for any input:\r\n\r\n\tclass A {\r\n\t\tint a = 1;\r\n\t}\r\n\t\t\r\n\tString outputString = id.apply( &quot;one&quot; );\r\n\tint outputInteger = id.apply( 1 );\r\n\tA outputClass = id.apply( new A() );\r\n","title":"Generic Functional Interface that accepts and returns same type","body":"<p>This is possible using a generic method within a functional interface:</p>\n\n<pre><code>@FunctionalInterface\ninterface Identity {\n    &lt; T &gt; T apply( T input );\n}\n</code></pre>\n\n<p>Unfortunately an interface defined like this cannot be implemented using a lambda function. Instead it must be done the old way using a class, and most concisely with an anonymous class:</p>\n\n<pre><code>Identity id = new Identity() {\n    public &lt; T &gt; T apply( T anyInput ){\n        // do something\n        return anyInput;\n    }\n};\n</code></pre>\n\n<p>This then works for any input:</p>\n\n<pre><code>class A {\n    int a = 1;\n}\n\nString outputString = id.apply( \"one\" );\nint outputInteger = id.apply( 1 );\nA outputClass = id.apply( new A() );\n</code></pre>\n"}],"owner":{"account_id":452166,"reputation":4446,"user_id":848454,"accept_rate":63,"display_name":"Hashken"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3839,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1694678872,"creation_date":1526113085,"question_id":50304207,"body_markdown":"I&#39;m looking for a functional interface that satisfies the following two requirements:\r\n\r\n* Should accept and return the same type\r\n* The type should be inferred while calling the method on the FunctionalInterface\r\n\r\nIf the requirement had just been the first, I can create a simple FunctionalInterface as follows:\r\n\r\n    @FunctionalInterface \r\n    public interface MonoFunction&lt;T&gt; {\r\n        T apply (T arg);\r\n    }\r\nBut, this would require the type to be specified while using the interface. But, I want the type to be inferred. Something like the below pseudo-code:\r\n\r\n    class A {\r\n        int a;\r\n    }\r\n\r\n    class B {\r\n        int b;\r\n    }\r\n\r\n    public static void main (String[] args) {\r\n        A a;\r\n        B b;\r\n\r\n        MonoFunction foo = (obj) -&gt; {\r\n            system.out.println (obj)\r\n            return obj;\r\n        };\r\n\r\n        a = foo.apply (new A());\r\n        b = foo.apply (new B());\r\n    }\r\n\r\nHow do I achieve something like this?","title":"Generic Functional Interface that accepts and returns same type","body":"<p>I'm looking for a functional interface that satisfies the following two requirements:</p>\n\n<ul>\n<li>Should accept and return the same type</li>\n<li>The type should be inferred while calling the method on the FunctionalInterface</li>\n</ul>\n\n<p>If the requirement had just been the first, I can create a simple FunctionalInterface as follows:</p>\n\n<pre><code>@FunctionalInterface \npublic interface MonoFunction&lt;T&gt; {\n    T apply (T arg);\n}\n</code></pre>\n\n<p>But, this would require the type to be specified while using the interface. But, I want the type to be inferred. Something like the below pseudo-code:</p>\n\n<pre><code>class A {\n    int a;\n}\n\nclass B {\n    int b;\n}\n\npublic static void main (String[] args) {\n    A a;\n    B b;\n\n    MonoFunction foo = (obj) -&gt; {\n        system.out.println (obj)\n        return obj;\n    };\n\n    a = foo.apply (new A());\n    b = foo.apply (new B());\n}\n</code></pre>\n\n<p>How do I achieve something like this?</p>\n"},{"tags":["java","spring","maven"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1422726558,"post_id":28254417,"comment_id":44867768,"body_markdown":"can you try to remove the version number from the xsd import?","body":"can you try to remove the version number from the xsd import?"},{"owner":{"account_id":3737361,"reputation":479,"user_id":3108006,"accept_rate":38,"display_name":"Qeychon"},"score":0,"creation_date":1422726779,"post_id":28254417,"comment_id":44867841,"body_markdown":"It is the same error message when I remove them.","body":"It is the same error message when I remove them."}],"answers":[{"tags":[],"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1422798091,"creation_date":1422728764,"answer_id":28255019,"question_id":28254417,"body_markdown":"The Schema `http://www.springframework.org/schema/util/spring-util.xsd`,  `http://www.springframework.org/schema/util/spring-util-3.1.xsd` (and the one with the versions) come with `spring-beans-&lt;version&gt;.RELEASE.jar`\r\n\r\nAdd this jar to your dependencies:\r\n\r\n    &lt;dependency&gt;\r\n\t     &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t     &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n\t     &lt;version&gt;3.1.2.RELEASE&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\n---\r\n**The problem with maven-assembly-plugin:**\r\n\r\nYou wrote:\r\n&gt;I also use the maven-assembly-plugin to create a executable jar file.\r\n\r\nAh... I guess that the maven-assembly-plugin is the cause for that problem. This is because the schema resolution mechanism works this way: Spring provides the XSD files with there jars. Within the jar, in the folder `META-INF` is a file `schema.info`. This file contains a listing of all XSD fiels and there locations (in the jar) provided by this jar.\r\n\r\nexample: spring.schema of `spring-beans-3.1.1.RELEASE.jar`\r\n\r\n    http\\://www.springframework.org/schema/beans/spring-beans-2.0.xsd=org/springframework/beans/factory/xml/spring-beans-2.0.xsd\r\n    http\\://www.springframework.org/schema/beans/spring-beans-2.5.xsd=org/springframework/beans/factory/xml/spring-beans-2.5.xsd\r\n    http\\://www.springframework.org/schema/beans/spring-beans-3.0.xsd=org/springframework/beans/factory/xml/spring-beans-3.0.xsd\r\n    http\\://www.springframework.org/schema/beans/spring-beans-3.1.xsd=org/springframework/beans/factory/xml/spring-beans-3.1.xsd\r\n    http\\://www.springframework.org/schema/beans/spring-beans.xsd=org/springframework/beans/factory/xml/spring-beans-3.1.xsd\r\n    http\\://www.springframework.org/schema/tool/spring-tool-2.0.xsd=org/springframework/beans/factory/xml/spring-tool-2.0.xsd\r\n    http\\://www.springframework.org/schema/tool/spring-tool-2.5.xsd=org/springframework/beans/factory/xml/spring-tool-2.5.xsd\r\n    http\\://www.springframework.org/schema/tool/spring-tool-3.0.xsd=org/springframework/beans/factory/xml/spring-tool-3.0.xsd\r\n    http\\://www.springframework.org/schema/tool/spring-tool-3.1.xsd=org/springframework/beans/factory/xml/spring-tool-3.1.xsd\r\n    http\\://www.springframework.org/schema/tool/spring-tool.xsd=org/springframework/beans/factory/xml/spring-tool-3.1.xsd\r\n    http\\://www.springframework.org/schema/util/spring-util-2.0.xsd=org/springframework/beans/factory/xml/spring-util-2.0.xsd\r\n    http\\://www.springframework.org/schema/util/spring-util-2.5.xsd=org/springframework/beans/factory/xml/spring-util-2.5.xsd\r\n    http\\://www.springframework.org/schema/util/spring-util-3.0.xsd=org/springframework/beans/factory/xml/spring-util-3.0.xsd\r\n    http\\://www.springframework.org/schema/util/spring-util-3.1.xsd=org/springframework/beans/factory/xml/spring-util-3.1.xsd\r\n    http\\://www.springframework.org/schema/util/spring-util.xsd=org/springframework/beans/factory/xml/spring-util-3.1.xsd\r\n\r\nSo and now you have different jars (`spring-beans`, `spring-tx`, `spring-aop`, `spring-context`...) , that all contains a `META-INF/spring.schemas` file, with different content. On the other hand you use `maven-assembly-plugin` to aggregate the content of all the jar files in a single one. \r\n\r\nI guess you will have this problem with the `spring.handlers` file too.\r\n\r\nIt looks like you can configure the `maven-assembly-plugin` to merge this files. see: [this answer][1] of https://stackoverflow.com/questions/1607220/how-can-i-merge-resource-files-in-a-maven-assembly\r\n\r\n\r\nAn alternative solution would using the `spring-boot-maven-plugin` instead of `maven-assembly-plugin`\r\n\r\n     &lt;plugin&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n         &lt;version&gt;1.2.1&lt;/version&gt;\r\n\t\t &lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;mainClass&gt;YOUR.MAIN.CLASS&lt;/mainClass&gt;\r\n\t\t&lt;/configuration&gt;\r\n     &lt;/plugin&gt;\r\n\r\n(or use the `maven-shade-pluging`)\r\n\r\n  [1]: https://stackoverflow.com/a/11331222/280244","title":"Unable to locate Spring NamespaceHandler util","body":"<p>The Schema <code>http://www.springframework.org/schema/util/spring-util.xsd</code>,  <code>http://www.springframework.org/schema/util/spring-util-3.1.xsd</code> (and the one with the versions) come with <code>spring-beans-&lt;version&gt;.RELEASE.jar</code></p>\n\n<p>Add this jar to your dependencies:</p>\n\n<pre><code>&lt;dependency&gt;\n     &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n     &lt;version&gt;3.1.2.RELEASE&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>The problem with maven-assembly-plugin:</strong></p>\n\n<p>You wrote:</p>\n\n<blockquote>\n  <p>I also use the maven-assembly-plugin to create a executable jar file.</p>\n</blockquote>\n\n<p>Ah... I guess that the maven-assembly-plugin is the cause for that problem. This is because the schema resolution mechanism works this way: Spring provides the XSD files with there jars. Within the jar, in the folder <code>META-INF</code> is a file <code>schema.info</code>. This file contains a listing of all XSD fiels and there locations (in the jar) provided by this jar.</p>\n\n<p>example: spring.schema of <code>spring-beans-3.1.1.RELEASE.jar</code></p>\n\n<pre><code>http\\://www.springframework.org/schema/beans/spring-beans-2.0.xsd=org/springframework/beans/factory/xml/spring-beans-2.0.xsd\nhttp\\://www.springframework.org/schema/beans/spring-beans-2.5.xsd=org/springframework/beans/factory/xml/spring-beans-2.5.xsd\nhttp\\://www.springframework.org/schema/beans/spring-beans-3.0.xsd=org/springframework/beans/factory/xml/spring-beans-3.0.xsd\nhttp\\://www.springframework.org/schema/beans/spring-beans-3.1.xsd=org/springframework/beans/factory/xml/spring-beans-3.1.xsd\nhttp\\://www.springframework.org/schema/beans/spring-beans.xsd=org/springframework/beans/factory/xml/spring-beans-3.1.xsd\nhttp\\://www.springframework.org/schema/tool/spring-tool-2.0.xsd=org/springframework/beans/factory/xml/spring-tool-2.0.xsd\nhttp\\://www.springframework.org/schema/tool/spring-tool-2.5.xsd=org/springframework/beans/factory/xml/spring-tool-2.5.xsd\nhttp\\://www.springframework.org/schema/tool/spring-tool-3.0.xsd=org/springframework/beans/factory/xml/spring-tool-3.0.xsd\nhttp\\://www.springframework.org/schema/tool/spring-tool-3.1.xsd=org/springframework/beans/factory/xml/spring-tool-3.1.xsd\nhttp\\://www.springframework.org/schema/tool/spring-tool.xsd=org/springframework/beans/factory/xml/spring-tool-3.1.xsd\nhttp\\://www.springframework.org/schema/util/spring-util-2.0.xsd=org/springframework/beans/factory/xml/spring-util-2.0.xsd\nhttp\\://www.springframework.org/schema/util/spring-util-2.5.xsd=org/springframework/beans/factory/xml/spring-util-2.5.xsd\nhttp\\://www.springframework.org/schema/util/spring-util-3.0.xsd=org/springframework/beans/factory/xml/spring-util-3.0.xsd\nhttp\\://www.springframework.org/schema/util/spring-util-3.1.xsd=org/springframework/beans/factory/xml/spring-util-3.1.xsd\nhttp\\://www.springframework.org/schema/util/spring-util.xsd=org/springframework/beans/factory/xml/spring-util-3.1.xsd\n</code></pre>\n\n<p>So and now you have different jars (<code>spring-beans</code>, <code>spring-tx</code>, <code>spring-aop</code>, <code>spring-context</code>...) , that all contains a <code>META-INF/spring.schemas</code> file, with different content. On the other hand you use <code>maven-assembly-plugin</code> to aggregate the content of all the jar files in a single one. </p>\n\n<p>I guess you will have this problem with the <code>spring.handlers</code> file too.</p>\n\n<p>It looks like you can configure the <code>maven-assembly-plugin</code> to merge this files. see: <a href=\"https://stackoverflow.com/a/11331222/280244\">this answer</a> of <a href=\"https://stackoverflow.com/questions/1607220/how-can-i-merge-resource-files-in-a-maven-assembly\">How can I merge resource files in a Maven assembly?</a></p>\n\n<p>An alternative solution would using the <code>spring-boot-maven-plugin</code> instead of <code>maven-assembly-plugin</code></p>\n\n<pre><code> &lt;plugin&gt;\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n     &lt;version&gt;1.2.1&lt;/version&gt;\n     &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;repackage&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;mainClass&gt;YOUR.MAIN.CLASS&lt;/mainClass&gt;\n    &lt;/configuration&gt;\n &lt;/plugin&gt;\n</code></pre>\n\n<p>(or use the <code>maven-shade-pluging</code>)</p>\n"},{"tags":[],"owner":{"account_id":1932170,"reputation":9187,"user_id":1741343,"accept_rate":75,"display_name":"helmy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1526581405,"creation_date":1526581405,"answer_id":50398160,"question_id":28254417,"body_markdown":"I ran into a similar issue with the maven-shade-plugin. The solution in my case was covered by [this solution][1].\r\n\r\nBasically you have to add an [AppendingTransformer][2] to your maven-shade-plugin configuration in pom.xml. Add the 2 AppendingTransformer entries from below:\r\n\r\n    &lt;configuration&gt;\r\n\t\t&lt;outputDirectory&gt;${basedir}/bin&lt;/outputDirectory&gt;\r\n\t\t&lt;finalName&gt;myName&lt;/finalName&gt;\r\n\t\t&lt;transformers&gt;\r\n\t\t\t&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n\t\t\t\t&lt;mainClass&gt;com.foo.MyApp&lt;/mainClass&gt;\r\n\t\t\t&lt;/transformer&gt;\r\n\t\t\t&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\r\n\t\t\t\t&lt;resource&gt;META-INF/spring.handlers&lt;/resource&gt;\r\n\t\t\t&lt;/transformer&gt;\r\n\t\t\t&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\r\n\t\t\t\t&lt;resource&gt;META-INF/spring.schemas&lt;/resource&gt;\r\n\t\t\t&lt;/transformer&gt;\r\n\t\t&lt;/transformers&gt;\r\n    ...\r\n    &lt;/configuration&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10584752/spring-3-namespacehandler-issues-with-maven-shade-plugin\r\n  [2]: http://maven.apache.org/plugins/maven-shade-plugin/examples/resource-transformers.html#AppendingTransformer","title":"Unable to locate Spring NamespaceHandler util","body":"<p>I ran into a similar issue with the maven-shade-plugin. The solution in my case was covered by <a href=\"https://stackoverflow.com/questions/10584752/spring-3-namespacehandler-issues-with-maven-shade-plugin\">this solution</a>.</p>\n\n<p>Basically you have to add an <a href=\"http://maven.apache.org/plugins/maven-shade-plugin/examples/resource-transformers.html#AppendingTransformer\" rel=\"nofollow noreferrer\">AppendingTransformer</a> to your maven-shade-plugin configuration in pom.xml. Add the 2 AppendingTransformer entries from below:</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;outputDirectory&gt;${basedir}/bin&lt;/outputDirectory&gt;\n    &lt;finalName&gt;myName&lt;/finalName&gt;\n    &lt;transformers&gt;\n        &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n            &lt;mainClass&gt;com.foo.MyApp&lt;/mainClass&gt;\n        &lt;/transformer&gt;\n        &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.AppendingTransformer\"&gt;\n            &lt;resource&gt;META-INF/spring.handlers&lt;/resource&gt;\n        &lt;/transformer&gt;\n        &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.AppendingTransformer\"&gt;\n            &lt;resource&gt;META-INF/spring.schemas&lt;/resource&gt;\n        &lt;/transformer&gt;\n    &lt;/transformers&gt;\n...\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2913407,"reputation":1,"user_id":2497161,"display_name":"user2497161"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694678822,"creation_date":1694678822,"answer_id":77102894,"question_id":28254417,"body_markdown":"All the spring jars have spring.schemas and spring.handlers (which take care of the namespace handling) files in their respective META-INFs. Those files will get overwritten by each other. You will need to use the shade plugin (instead of assembly) with ResourceTransformers. The two combined, will merge the file content of the same file name onto one file. An example of the plugin for spring use would be something like this: (obtained from the ResourceTransformer link above). The two combined, will merge the file content of the same file name onto one file\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;shade&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;transformers&gt;\r\n                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\r\n                      &lt;resource&gt;META-INF/spring.handlers&lt;/resource&gt;\r\n                    &lt;/transformer&gt;\r\n                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\r\n                      &lt;resource&gt;META-INF/spring.schemas&lt;/resource&gt;\r\n                    &lt;/transformer&gt;\r\n                  &lt;/transformers&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;","title":"Unable to locate Spring NamespaceHandler util","body":"<p>All the spring jars have spring.schemas and spring.handlers (which take care of the namespace handling) files in their respective META-INFs. Those files will get overwritten by each other. You will need to use the shade plugin (instead of assembly) with ResourceTransformers. The two combined, will merge the file content of the same file name onto one file. An example of the plugin for spring use would be something like this: (obtained from the ResourceTransformer link above). The two combined, will merge the file content of the same file name onto one file</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.3&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;transformers&gt;\n                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\n                  &lt;resource&gt;META-INF/spring.handlers&lt;/resource&gt;\n                &lt;/transformer&gt;\n                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\n                  &lt;resource&gt;META-INF/spring.schemas&lt;/resource&gt;\n                &lt;/transformer&gt;\n              &lt;/transformers&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":3737361,"reputation":479,"user_id":3108006,"accept_rate":38,"display_name":"Qeychon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9423,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":28255019,"answer_count":3,"score":10,"last_activity_date":1694678822,"creation_date":1422725218,"question_id":28254417,"body_markdown":"When I execute my java project with spring v.3.1 , so i get following error:\r\n\r\n    Bean &#39;configParser&#39;; nested exception is \r\n\r\n    org.springframework.beans.factory.parsing.BeanDefinitionParsingException: Configuration problem: Unable to locate Spring NamespaceHandler for XML schema namespace [http://www.springframework.org/schema/util]\r\n    Offending resource: class path resource [Services.xml]\r\n    Bean &#39;configParser&#39;\r\n\r\nMy POM has following dependency:\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.2.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.2.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.2.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.2.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.2.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nAnd my Service.xml file:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xmlns:util=&quot;http://www.springframework.org/schema/util&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd\r\n     http://www.springframework.org/schema/util  http://www.springframework.org/schema/util/spring-util-3.1.xsd&quot;&gt;\r\n    \r\n        &lt;bean id=&quot;configParser&quot; class=&quot;com.cc.mp.srv.core.parser.ConfigParser&quot;&gt;\r\n            &lt;property name=&quot;file&quot; &gt;\r\n                &lt;util:constant static-field=&quot;com.cc.mp.srv.main.Main.FILE_NAME&quot;/&gt;\r\n            &lt;/property&gt;\r\n        &lt;/bean&gt;\r\n\r\nWhy could not locate the utility schema? I insert the core dependency in the pom file. The version number are also the same. \r\nWhat needs Spring yet?\r\n\r\n**EDIT**\r\n\r\n    Loading schema mappings from [META-INF/spring.schemas]\r\n    2015-01-31 18:56:11,553 DEBUG (main) [org.springframework.beans.factory.xml.PluggableSchemaResolver] - Loaded schema mappings: {http://www.springframework.org/schema/tx/spring-tx-2.5.xsd=org/springframework/transaction/config/spring-tx-2.5.xsd, http://www.springframework.org/schema/tx/spring-tx-3.1.xsd=org/springframework/transaction/config/spring-tx-3.1.xsd, http://www.springframework.org/schema/tx/spring-tx-2.0.xsd=org/springframework/transaction/config/spring-tx-2.0.xsd, http://www.springframework.org/schema/tx/spring-tx.xsd=org/springframework/transaction/config/spring-tx-3.1.xsd, http://www.springframework.org/schema/tx/spring-tx-3.0.xsd=org/springframework/transaction/config/spring-tx-3.0.xsd}\r\n\r\nIf the debug messages is output, then it can be recognized that various version number is used. Could be the reason? How can the numbers be defined?\r\n\r\nI also use the maven-assembly-plugin to create a executable jar file.\r\n","title":"Unable to locate Spring NamespaceHandler util","body":"<p>When I execute my java project with spring v.3.1 , so i get following error:</p>\n\n<pre><code>Bean 'configParser'; nested exception is \n\norg.springframework.beans.factory.parsing.BeanDefinitionParsingException: Configuration problem: Unable to locate Spring NamespaceHandler for XML schema namespace [http://www.springframework.org/schema/util]\nOffending resource: class path resource [Services.xml]\nBean 'configParser'\n</code></pre>\n\n<p>My POM has following dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>And my Service.xml file:</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:util=\"http://www.springframework.org/schema/util\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd\n http://www.springframework.org/schema/util  http://www.springframework.org/schema/util/spring-util-3.1.xsd\"&gt;\n\n    &lt;bean id=\"configParser\" class=\"com.cc.mp.srv.core.parser.ConfigParser\"&gt;\n        &lt;property name=\"file\" &gt;\n            &lt;util:constant static-field=\"com.cc.mp.srv.main.Main.FILE_NAME\"/&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n</code></pre>\n\n<p>Why could not locate the utility schema? I insert the core dependency in the pom file. The version number are also the same. \nWhat needs Spring yet?</p>\n\n<p><strong>EDIT</strong></p>\n\n<pre><code>Loading schema mappings from [META-INF/spring.schemas]\n2015-01-31 18:56:11,553 DEBUG (main) [org.springframework.beans.factory.xml.PluggableSchemaResolver] - Loaded schema mappings: {http://www.springframework.org/schema/tx/spring-tx-2.5.xsd=org/springframework/transaction/config/spring-tx-2.5.xsd, http://www.springframework.org/schema/tx/spring-tx-3.1.xsd=org/springframework/transaction/config/spring-tx-3.1.xsd, http://www.springframework.org/schema/tx/spring-tx-2.0.xsd=org/springframework/transaction/config/spring-tx-2.0.xsd, http://www.springframework.org/schema/tx/spring-tx.xsd=org/springframework/transaction/config/spring-tx-3.1.xsd, http://www.springframework.org/schema/tx/spring-tx-3.0.xsd=org/springframework/transaction/config/spring-tx-3.0.xsd}\n</code></pre>\n\n<p>If the debug messages is output, then it can be recognized that various version number is used. Could be the reason? How can the numbers be defined?</p>\n\n<p>I also use the maven-assembly-plugin to create a executable jar file.</p>\n"},{"tags":["java","scala","apache-spark","sparkr"],"answers":[{"tags":[],"owner":{"account_id":215715,"reputation":3329,"user_id":470517,"accept_rate":86,"display_name":"Aydin K."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497600810,"creation_date":1497599649,"answer_id":44583835,"question_id":43298165,"body_markdown":"I had the same error. Looks like it is related to user permissions. Therefore you&#39;ve two options:\r\n\r\n1) Launch sparkR from a directory, where you have the necessary rights (prerequisite: The spark bin folder needs to be included in the PATH env-variable: `export PATH=$SPARK_HOME/bin:$PATH`):\r\n\r\n    cd ~\r\n    sparkR\r\n\r\n2) Launch sparkR with sudo privileges:\r\n\r\n    /opt/spark/bin $ sudo ./sparkR\r\n\r\n","title":"sparkR: Error while instantiating &#39;org.apache.spark.sql.hive.HiveSessionState&#39;:","body":"<p>I had the same error. Looks like it is related to user permissions. Therefore you've two options:</p>\n\n<p>1) Launch sparkR from a directory, where you have the necessary rights (prerequisite: The spark bin folder needs to be included in the PATH env-variable: <code>export PATH=$SPARK_HOME/bin:$PATH</code>):</p>\n\n<pre><code>cd ~\nsparkR\n</code></pre>\n\n<p>2) Launch sparkR with sudo privileges:</p>\n\n<pre><code>/opt/spark/bin $ sudo ./sparkR\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1677508,"reputation":358,"user_id":1542674,"display_name":"wbmrcb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500876297,"creation_date":1500876297,"answer_id":45273624,"question_id":43298165,"body_markdown":"Please try removing the `HADOOP_CONF_DIR` from environment variables","title":"sparkR: Error while instantiating &#39;org.apache.spark.sql.hive.HiveSessionState&#39;:","body":"<p>Please try removing the <code>HADOOP_CONF_DIR</code> from environment variables</p>\n"}],"owner":{"account_id":7070464,"reputation":71,"user_id":7837912,"display_name":"user135633"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8319,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1694678545,"creation_date":1491672231,"question_id":43298165,"body_markdown":"**I am struggling solving this problem when I try to use sparkR.** \r\n\r\n    sparkR.session(master = &quot;local[*]&quot;, sparkConfig = list(spark.driver.memory = &quot;1g&quot;))\r\n    Error in handleErrors(returnStatus, conn) : \r\n      java.lang.IllegalArgumentException: Error while instantiating &#39;org.apache.spark.sql.hive.HiveSessionState&#39;:\r\n    \tat org.apache.spark.sql.SparkSession$.org$apache$spark$sql$SparkSession$$reflect(SparkSession.scala:981)\r\n    \tat org.apache.spark.sql.SparkSession.sessionState$lzycompute(SparkSession.scala:110)\r\n    \tat org.apache.spark.sql.SparkSession.sessionState(SparkSession.scala:109)\r\n    \tat org.apache.spark.sql.api.r.SQLUtils$$anonfun$setSparkContextSessionConf$2.apply(SQLUtils.scala:67)\r\n    \tat org.apache.spark.sql.api.r.SQLUtils$$anonfun$setSparkContextSessionConf$2.apply(SQLUtils.scala:66)\r\n    \tat scala.collection.TraversableLike$WithFilter$$anonfun$foreach$1.apply(TraversableLike.scala:733)\r\n    \tat scala.collection.Iterator$class.foreach(Iterator.scala:893)\r\n    \tat scala.collection.AbstractIterator.foreach(Iterator.scala:1336)\r\n    \tat scala.collection.IterableLike$class.foreach(IterableLike.scala:72)\r\n    \tat scala.collection.AbstractIterable.foreach(Iterable.scala:54)\r\n    \tat scala.collection.Traversabl\r\n\r\nHope this is a clear solution, I am new to spark and I know nothing about java scala. THANKS A LOT!\r\n","title":"sparkR: Error while instantiating &#39;org.apache.spark.sql.hive.HiveSessionState&#39;:","body":"<p><strong>I am struggling solving this problem when I try to use sparkR.</strong> </p>\n\n<pre><code>sparkR.session(master = \"local[*]\", sparkConfig = list(spark.driver.memory = \"1g\"))\nError in handleErrors(returnStatus, conn) : \n  java.lang.IllegalArgumentException: Error while instantiating 'org.apache.spark.sql.hive.HiveSessionState':\n    at org.apache.spark.sql.SparkSession$.org$apache$spark$sql$SparkSession$$reflect(SparkSession.scala:981)\n    at org.apache.spark.sql.SparkSession.sessionState$lzycompute(SparkSession.scala:110)\n    at org.apache.spark.sql.SparkSession.sessionState(SparkSession.scala:109)\n    at org.apache.spark.sql.api.r.SQLUtils$$anonfun$setSparkContextSessionConf$2.apply(SQLUtils.scala:67)\n    at org.apache.spark.sql.api.r.SQLUtils$$anonfun$setSparkContextSessionConf$2.apply(SQLUtils.scala:66)\n    at scala.collection.TraversableLike$WithFilter$$anonfun$foreach$1.apply(TraversableLike.scala:733)\n    at scala.collection.Iterator$class.foreach(Iterator.scala:893)\n    at scala.collection.AbstractIterator.foreach(Iterator.scala:1336)\n    at scala.collection.IterableLike$class.foreach(IterableLike.scala:72)\n    at scala.collection.AbstractIterable.foreach(Iterable.scala:54)\n    at scala.collection.Traversabl\n</code></pre>\n\n<p>Hope this is a clear solution, I am new to spark and I know nothing about java scala. THANKS A LOT!</p>\n"},{"tags":["java","spring","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694678329,"creation_date":1694678329,"answer_id":77102852,"question_id":77100754,"body_markdown":"&gt; I have an external service that decides if the current job should stop a specific step.\r\n\r\nYou can use `FlowBuilder#stopAndRestart(JobExecutionDecider decider)` to stop the flow at a particular step and restart the job later. The custom decision can be implemented in the `JobExecutionDecider`.\r\n\r\nYou can also stop the job at a particular step and start at another step using `FlowBuilder#stopAndRestart(Step restart)`.","title":"How to implement custom controller that will allow me to stop a step in Spring Batch","body":"<blockquote>\n<p>I have an external service that decides if the current job should stop a specific step.</p>\n</blockquote>\n<p>You can use <code>FlowBuilder#stopAndRestart(JobExecutionDecider decider)</code> to stop the flow at a particular step and restart the job later. The custom decision can be implemented in the <code>JobExecutionDecider</code>.</p>\n<p>You can also stop the job at a particular step and start at another step using <code>FlowBuilder#stopAndRestart(Step restart)</code>.</p>\n"}],"owner":{"account_id":16108109,"reputation":47,"user_id":11627119,"display_name":"Jacob Goldverg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694678329,"creation_date":1694642710,"question_id":77100754,"body_markdown":"Currently the Spring Batch framework does not support an official method to pause a step. \r\n\r\nThis presents a challenge for me and I was hoping to get some insight into how I could go about configuring such logic?\r\n\r\nI have an external service that decides if the current job should stop a specific step. There are a large number of reasons in my system that require such fine-grained control over individual steps of a running job.\r\n\r\nMy initial thoughts into how I could configure pausing of a step is to do one of two things:\r\n1. Would be to sleep the specific step thread until the control flow signals to my service to start running that thread again.\r\n2. Override the Step Interface and include a method that would allow me to pause the step via some class property(say a boolean value). Sadly for this case I am unsure of which classes I should consider overriding.\r\n\r\nThe current Flow class abstract spring batch provides is not good enough as this is static to the job where in my case I have another service deciding this hence Flow is not sufficient.\r\n\r\nThe ultimate goal being that the JobRepository spring batch is using has the proper status set as well as the actual step not running which I have found to be the tricky part of such a feature. Re-starting my steps entirely is another possibility but I would prefer to avoid this as it would result in wasted work unless I re-start the step following the last read and write count which I have also not fully understood.\r\n\r\nThank you.","title":"How to implement custom controller that will allow me to stop a step in Spring Batch","body":"<p>Currently the Spring Batch framework does not support an official method to pause a step.</p>\n<p>This presents a challenge for me and I was hoping to get some insight into how I could go about configuring such logic?</p>\n<p>I have an external service that decides if the current job should stop a specific step. There are a large number of reasons in my system that require such fine-grained control over individual steps of a running job.</p>\n<p>My initial thoughts into how I could configure pausing of a step is to do one of two things:</p>\n<ol>\n<li>Would be to sleep the specific step thread until the control flow signals to my service to start running that thread again.</li>\n<li>Override the Step Interface and include a method that would allow me to pause the step via some class property(say a boolean value). Sadly for this case I am unsure of which classes I should consider overriding.</li>\n</ol>\n<p>The current Flow class abstract spring batch provides is not good enough as this is static to the job where in my case I have another service deciding this hence Flow is not sufficient.</p>\n<p>The ultimate goal being that the JobRepository spring batch is using has the proper status set as well as the actual step not running which I have found to be the tricky part of such a feature. Re-starting my steps entirely is another possibility but I would prefer to avoid this as it would result in wasted work unless I re-start the step following the last read and write count which I have also not fully understood.</p>\n<p>Thank you.</p>\n"},{"tags":["java","tomcat","logback"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1693399925,"post_id":77007447,"comment_id":135755485,"body_markdown":"Take a look at journalctl or /var/log/messages, stderr might be there.","body":"Take a look at journalctl or /var/log/messages, stderr might be there."},{"owner":{"account_id":28620110,"reputation":1,"user_id":22469939,"display_name":"KamilSz"},"score":0,"creation_date":1693546251,"post_id":77007447,"comment_id":135777913,"body_markdown":"No, nothing there. My goal is to have all logs is to write to catalina.out. As i As I wrote above, all logs appear in catalina.out until the file is rolled.","body":"No, nothing there. My goal is to have all logs is to write to catalina.out. As i As I wrote above, all logs appear in catalina.out until the file is rolled."},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1693589807,"post_id":77007447,"comment_id":135785921,"body_markdown":"Giving it a second thought, your application log rotation might be colliding with tomcat own log rotation. Check if `/etc/logrotate.d/tomcat` or similar exists. A solution could be to remove log rotation from your config and rely on tomcat&#39;s one.","body":"Giving it a second thought, your application log rotation might be colliding with tomcat own log rotation. Check if <code>&#47;etc&#47;logrotate.d&#47;tomcat</code> or similar exists. A solution could be to remove log rotation from your config and rely on tomcat&#39;s one."},{"owner":{"account_id":28620110,"reputation":1,"user_id":22469939,"display_name":"KamilSz"},"score":0,"creation_date":1693803166,"post_id":77007447,"comment_id":135803517,"body_markdown":"No, nothing there too. I have not install tomcat as a service, just downloaded gz archive unpack and run startup.sh in /tomcat/bin/ directory.","body":"No, nothing there too. I have not install tomcat as a service, just downloaded gz archive unpack and run startup.sh in /tomcat/bin/ directory."}],"answers":[{"tags":[],"owner":{"account_id":28620110,"reputation":1,"user_id":22469939,"display_name":"KamilSz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694678243,"creation_date":1694678243,"answer_id":77102831,"question_id":77007447,"body_markdown":"Problem solved. Logback deleted the catalina.out file and created a new one. Tomcat kept redirecting logs to the &quot;old&quot; catalina.out file which no longer existed.\r\nI asked the developers to make stacktrace supported by the java application. Now after log rotation, errors from stacktrace are still written to catalina.out","title":"Tomcat logback.xml - missing stacktrace after rolling file","body":"<p>Problem solved. Logback deleted the catalina.out file and created a new one. Tomcat kept redirecting logs to the &quot;old&quot; catalina.out file which no longer existed.\nI asked the developers to make stacktrace supported by the java application. Now after log rotation, errors from stacktrace are still written to catalina.out</p>\n"}],"owner":{"account_id":28620110,"reputation":1,"user_id":22469939,"display_name":"KamilSz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694678243,"creation_date":1693393925,"question_id":77007447,"body_markdown":"I get from programers java *.war file, put it in /tomcat/webapps.\r\nStart tomcat by /tomcat/bin/startup.sh.\r\nIn /tomcat/logs/ is file catalina.out - form here i read all logs from tomcat and java applications. \r\nI have created file logback.xml in /tomcat/lib/ directory.\r\n\r\n```\r\n&lt;configuration scan=&quot;true&quot; debug=&quot;true&quot;&gt;\r\n&lt;property name=&quot;HOME_LOG&quot; value=&quot;../logs/catalina.out&quot;/&gt;\r\n       &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n                &lt;file&gt;${HOME_LOG}&lt;/file&gt;\r\n                &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n                        &lt;fileNamePattern&gt;../../logs/archived/%d{yyyy-MM-dd-HH}_catalina.out.gz&lt;/fileNamePattern&gt;\r\n                        &lt;maxHistory&gt;30&lt;/maxHistory&gt;\r\n                &lt;/rollingPolicy&gt;\r\n                &lt;encoder&gt;\r\n                        &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} [%.5level] %logger{10} - %msg%n&lt;/pattern&gt;\r\n                &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n\r\n\r\n\r\n\r\n        &lt;root level=&quot;info&quot;&gt;\r\n                &lt;appender-ref ref=&quot;FILE&quot;/&gt;\r\n        &lt;/root&gt;\r\n\r\n```\r\n\r\nSo I am testing application , i now there is a bug. I trigger an error in the application.\r\nIn catalina.out i get ERROR message and stacktrace of error - this is what i want.\r\nAfter hour when file catalina.out is rolled,  I trigger the same error in the application again.\r\nIn catalina.out - i get just a short message ERROR, but no stack trace.\r\nAfter restarting tomcat it works again until file is rolled.\r\n\r\nI read that catalina.out is console output form tomcat server. So i add Console appender to logback.The result was that I had duplicate entries, after first file rolling, duplicates disappeared, stacktrace was showing. After second fille rolling no stacktrace.\r\n\r\n```\r\n&lt;configuration scan=&quot;true&quot; debug=&quot;true&quot;&gt;\r\n&lt;property name=&quot;HOME_LOG&quot; value=&quot;../logs/catalina.out&quot;/&gt;\r\n\r\n&lt;appender name=&quot;STDERR&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n                &lt;target&gt;System.err&lt;/target&gt;             \r\n                &lt;encoder&gt;\r\n                        &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} [%.5level] %logger{10} - %msg%n&lt;/pattern&gt;\r\n                &lt;/encoder&gt;\r\n&lt;/appender&gt;\r\n\r\n\r\n\r\n       &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n                &lt;file&gt;${HOME_LOG}&lt;/file&gt;\r\n                &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n                        &lt;fileNamePattern&gt;../../logs/archived/%d{yyyy-MM-dd-HH}_catalina.out.gz&lt;/fileNamePattern&gt;\r\n                        &lt;maxHistory&gt;30&lt;/maxHistory&gt;\r\n                &lt;/rollingPolicy&gt;\r\n                &lt;encoder&gt;\r\n                        &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} [%.5level] %logger{10} - %msg%n&lt;/pattern&gt;\r\n                &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n\r\n\r\n\r\n\r\n        &lt;root level=&quot;info&quot;&gt;\r\n                &lt;appender-ref ref=&quot;FILE&quot;/&gt;\r\n                &lt;appender-ref ref=&quot;STDERR&quot;/&gt;\r\n        &lt;/root&gt;\r\n```\r\nWhen I change `&lt;property name=&quot;HOME_LOG&quot; value=&quot;../logs/catalina.out&quot;/&gt;` to `&lt;property name=&quot;HOME_LOG&quot; value=&quot;../logs/mycatalina.log&quot;/&gt;` then, all stacktrace are written to catalina.out and application logs to mycatalina.log, but is hard to match log entries.\r\n\r\nI used logrotate for a while, but now I have 30 instances of tomcat (each instance is one client), on one server. There will be more\r\nOne tomcat , one catalina.out = one crontab entry, is hard to maintain.\r\n\r\n\r\nI would like to have logs in one file the console output from tomcat, application logs and backups them.\r\nIs it possible to do that using logback.xml or maybe it is possible to rotate catalina.out using loggin.properties ?","title":"Tomcat logback.xml - missing stacktrace after rolling file","body":"<p>I get from programers java *.war file, put it in /tomcat/webapps.\nStart tomcat by /tomcat/bin/startup.sh.\nIn /tomcat/logs/ is file catalina.out - form here i read all logs from tomcat and java applications.\nI have created file logback.xml in /tomcat/lib/ directory.</p>\n<pre><code>&lt;configuration scan=&quot;true&quot; debug=&quot;true&quot;&gt;\n&lt;property name=&quot;HOME_LOG&quot; value=&quot;../logs/catalina.out&quot;/&gt;\n       &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n                &lt;file&gt;${HOME_LOG}&lt;/file&gt;\n                &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n                        &lt;fileNamePattern&gt;../../logs/archived/%d{yyyy-MM-dd-HH}_catalina.out.gz&lt;/fileNamePattern&gt;\n                        &lt;maxHistory&gt;30&lt;/maxHistory&gt;\n                &lt;/rollingPolicy&gt;\n                &lt;encoder&gt;\n                        &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} [%.5level] %logger{10} - %msg%n&lt;/pattern&gt;\n                &lt;/encoder&gt;\n        &lt;/appender&gt;\n\n\n\n\n        &lt;root level=&quot;info&quot;&gt;\n                &lt;appender-ref ref=&quot;FILE&quot;/&gt;\n        &lt;/root&gt;\n\n</code></pre>\n<p>So I am testing application , i now there is a bug. I trigger an error in the application.\nIn catalina.out i get ERROR message and stacktrace of error - this is what i want.\nAfter hour when file catalina.out is rolled,  I trigger the same error in the application again.\nIn catalina.out - i get just a short message ERROR, but no stack trace.\nAfter restarting tomcat it works again until file is rolled.</p>\n<p>I read that catalina.out is console output form tomcat server. So i add Console appender to logback.The result was that I had duplicate entries, after first file rolling, duplicates disappeared, stacktrace was showing. After second fille rolling no stacktrace.</p>\n<pre><code>&lt;configuration scan=&quot;true&quot; debug=&quot;true&quot;&gt;\n&lt;property name=&quot;HOME_LOG&quot; value=&quot;../logs/catalina.out&quot;/&gt;\n\n&lt;appender name=&quot;STDERR&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n                &lt;target&gt;System.err&lt;/target&gt;             \n                &lt;encoder&gt;\n                        &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} [%.5level] %logger{10} - %msg%n&lt;/pattern&gt;\n                &lt;/encoder&gt;\n&lt;/appender&gt;\n\n\n\n       &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n                &lt;file&gt;${HOME_LOG}&lt;/file&gt;\n                &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n                        &lt;fileNamePattern&gt;../../logs/archived/%d{yyyy-MM-dd-HH}_catalina.out.gz&lt;/fileNamePattern&gt;\n                        &lt;maxHistory&gt;30&lt;/maxHistory&gt;\n                &lt;/rollingPolicy&gt;\n                &lt;encoder&gt;\n                        &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} [%.5level] %logger{10} - %msg%n&lt;/pattern&gt;\n                &lt;/encoder&gt;\n        &lt;/appender&gt;\n\n\n\n\n        &lt;root level=&quot;info&quot;&gt;\n                &lt;appender-ref ref=&quot;FILE&quot;/&gt;\n                &lt;appender-ref ref=&quot;STDERR&quot;/&gt;\n        &lt;/root&gt;\n</code></pre>\n<p>When I change <code>&lt;property name=&quot;HOME_LOG&quot; value=&quot;../logs/catalina.out&quot;/&gt;</code> to <code>&lt;property name=&quot;HOME_LOG&quot; value=&quot;../logs/mycatalina.log&quot;/&gt;</code> then, all stacktrace are written to catalina.out and application logs to mycatalina.log, but is hard to match log entries.</p>\n<p>I used logrotate for a while, but now I have 30 instances of tomcat (each instance is one client), on one server. There will be more\nOne tomcat , one catalina.out = one crontab entry, is hard to maintain.</p>\n<p>I would like to have logs in one file the console output from tomcat, application logs and backups them.\nIs it possible to do that using logback.xml or maybe it is possible to rotate catalina.out using loggin.properties ?</p>\n"},{"tags":["java","tomcat","localhost","geonetwork"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1694638649,"post_id":77098652,"comment_id":135919359,"body_markdown":"Please don&#39;t post images of code, errors, logs, or other text; see [ask]. If the port is already in use you need to stop the program that&#39;s using the port. On Linux, use `lsof -i | grep :8080` to find what is using port 8080. No idea if Windows has a similar command. Alternatively, change your server configuration to use a different port.","body":"Please don&#39;t post images of code, errors, logs, or other text; see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. If the port is already in use you need to stop the program that&#39;s using the port. On Linux, use <code>lsof -i | grep :8080</code> to find what is using port 8080. No idea if Windows has a similar command. Alternatively, change your server configuration to use a different port."},{"owner":{"account_id":25172993,"reputation":1,"user_id":19021935,"display_name":"stj-fr"},"score":0,"creation_date":1700635757,"post_id":77098652,"comment_id":136677425,"body_markdown":"Maybe: this answer in stackoverflow helps: https://stackoverflow.com/questions/45147510/port-8005-is-used-by-windows-10-system-process","body":"Maybe: this answer in stackoverflow helps: <a href=\"https://stackoverflow.com/questions/45147510/port-8005-is-used-by-windows-10-system-process\" title=\"port 8005 is used by windows 10 system process\">stackoverflow.com/questions/45147510/&hellip;</a>"}],"owner":{"account_id":29432862,"reputation":1,"user_id":22552208,"display_name":"tuco"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694677670,"creation_date":1694620271,"question_id":77098652,"body_markdown":"I am trying to install Geonetwork via Tomcat, but cannot access to it. \r\n\r\nFirst of all, I installed Tomcat, but when running it, I was facing the following problem:\r\n\r\n[error image][1]\r\n\r\nI went to the server.xml file to change the shutdown port from 8005 to 8006 and it did work, I can go to localhost:8080 succesfully.\r\n\r\nAfter that, I pasted the geonetwork.war in the webapps folder, but the same error occurs. \r\n\r\nI have access to localhost:8080 but i cant reach localhost:8080/geonetwork\r\n\r\napache-tomcat-10.1.13\r\n\r\nJava SE Development Kit 20.0.2\r\n\r\nntoskrnl.exe is using port 8005\r\n\r\nAny ideas?? thanks a lot!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0d9WD.png","title":"Tomcat Geonetwork port already in use","body":"<p>I am trying to install Geonetwork via Tomcat, but cannot access to it.</p>\n<p>First of all, I installed Tomcat, but when running it, I was facing the following problem:</p>\n<p><a href=\"https://i.stack.imgur.com/0d9WD.png\" rel=\"nofollow noreferrer\">error image</a></p>\n<p>I went to the server.xml file to change the shutdown port from 8005 to 8006 and it did work, I can go to localhost:8080 succesfully.</p>\n<p>After that, I pasted the geonetwork.war in the webapps folder, but the same error occurs.</p>\n<p>I have access to localhost:8080 but i cant reach localhost:8080/geonetwork</p>\n<p>apache-tomcat-10.1.13</p>\n<p>Java SE Development Kit 20.0.2</p>\n<p>ntoskrnl.exe is using port 8005</p>\n<p>Any ideas?? thanks a lot!</p>\n"},{"tags":["java","multithreading","concurrency","parallel-processing","locking"],"comments":[{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1694588462,"post_id":77094444,"comment_id":135909267,"body_markdown":"I don&#39;t recall a usecase rightnow, but `trylock` returns immediately (or specified time period if 2nd signature is used) with true/false based on whether a lock was acquired or not. If in your design the same thread that has to do something critical and something that is not critical without importance of order. Then you can put this in a loop, whenever a lock is acruired do critical thing &amp; then release lock, else do non-critical thing. And keep doing that again and again. If your thread does not have anything non-critical, then you can just use `lock`.","body":"I don&#39;t recall a usecase rightnow, but <code>trylock</code> returns immediately (or specified time period if 2nd signature is used) with true/false based on whether a lock was acquired or not. If in your design the same thread that has to do something critical and something that is not critical without importance of order. Then you can put this in a loop, whenever a lock is acruired do critical thing &amp; then release lock, else do non-critical thing. And keep doing that again and again. If your thread does not have anything non-critical, then you can just use <code>lock</code>."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1694588915,"post_id":77094444,"comment_id":135909333,"body_markdown":"Say you don&#39;t want to make the user wait for getting a lock and then do the operation, but tell the user that something else is going on right now, cannot do the operation that you asked for.  In this case, you can use trylock - if it returns true, do the operation, release the lock and tell the user that it is done. If it returns false, tell the user, you cannot do it right now, something else is going on.","body":"Say you don&#39;t want to make the user wait for getting a lock and then do the operation, but tell the user that something else is going on right now, cannot do the operation that you asked for.  In this case, you can use trylock - if it returns true, do the operation, release the lock and tell the user that it is done. If it returns false, tell the user, you cannot do it right now, something else is going on."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1694589017,"post_id":77094444,"comment_id":135909359,"body_markdown":"If in above case, you don&#39;t use tryLock, and use `lock` and keep waiting for an indefinite time, because the other operation might take hours - that is not good.","body":"If in above case, you don&#39;t use tryLock, and use <code>lock</code> and keep waiting for an indefinite time, because the other operation might take hours - that is not good."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1694609365,"post_id":77094444,"comment_id":135913470,"body_markdown":"“…and thread will never hit the if block again” Java has loops, among other tools to repeat an action. But don’t try to find a use case for an existing feature. Once you encounter a scenario where this would be helpful, you will automatically start searching for the feature.","body":"“…and thread will never hit the if block again” Java has loops, among other tools to repeat an action. But don’t try to find a use case for an existing feature. Once you encounter a scenario where this would be helpful, you will automatically start searching for the feature."}],"answers":[{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694677623,"creation_date":1694590249,"answer_id":77094934,"question_id":77094444,"body_markdown":"The actual use case of `tryLock()` in Java is to acquire the lock only if it is available at the time of invocation. This is useful in scenarios where you don&#39;t want the thread to wait forever for the lock. If the lock is not available, the thread can perform some other tasks instead of waiting. The `tryLock()` method returns a boolean value indicating whether the lock was acquired or not, which can be used in an if-else block to decide what to do next.\r\n\r\nIn your case, if the business logic in the if block is important and must be executed, you should not use `tryLock()`. Instead, use `lock()` which makes the thread wait until the lock is available.\r\n\r\nExample use case: you have a time consuming process which is executed in worker thread, which is executed under a lock. You need to finish your application, and to gracefully finish worker process you will have to wait for its lock release. To do it you will set a flag informing the process that it should finish as soon as possible, and also will periodically call tryLock on its lock to check if it is actually finished (tryLock would return true then). In your `if(!lock.tryLock()) {` block you can log the reason for the delay, you can add short sleep to not hog the CPU. As Mark Rotteveel suggested, using `tryLock(long time, TimeUnit unit)` would be best here. If the closing time is too long you can take actions to finish the worker process less gracefully.","title":"What is the actual usecase of trylock in java","body":"<p>The actual use case of <code>tryLock()</code> in Java is to acquire the lock only if it is available at the time of invocation. This is useful in scenarios where you don't want the thread to wait forever for the lock. If the lock is not available, the thread can perform some other tasks instead of waiting. The <code>tryLock()</code> method returns a boolean value indicating whether the lock was acquired or not, which can be used in an if-else block to decide what to do next.</p>\n<p>In your case, if the business logic in the if block is important and must be executed, you should not use <code>tryLock()</code>. Instead, use <code>lock()</code> which makes the thread wait until the lock is available.</p>\n<p>Example use case: you have a time consuming process which is executed in worker thread, which is executed under a lock. You need to finish your application, and to gracefully finish worker process you will have to wait for its lock release. To do it you will set a flag informing the process that it should finish as soon as possible, and also will periodically call tryLock on its lock to check if it is actually finished (tryLock would return true then). In your <code>if(!lock.tryLock()) {</code> block you can log the reason for the delay, you can add short sleep to not hog the CPU. As Mark Rotteveel suggested, using <code>tryLock(long time, TimeUnit unit)</code> would be best here. If the closing time is too long you can take actions to finish the worker process less gracefully.</p>\n"},{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694603795,"creation_date":1694601947,"answer_id":77096355,"question_id":77094444,"body_markdown":"&gt; [...the] thread will never hit the if block again...\r\n\r\nSounds like maybe _you_ have no immediate use for `tryLock`. But, in someone else&#39;s code;\r\n\r\n1. The thread might try the lock in a loop, and\r\n1. The lock might only be lightly contested (i.e., there&#39;s only a low probability that the `tryLock()` call will fail,) and finally, \r\n1. The need to access the shared variables might not be urgent. Perhaps that access always can be deferred until a later iteration of the loop. \r\n\r\nIf all of those things are true, then `tryLock` makes it possible to defer the shared access, and keep the loop running on a regular schedule.","title":"What is the actual usecase of trylock in java","body":"<blockquote>\n<p>[...the] thread will never hit the if block again...</p>\n</blockquote>\n<p>Sounds like maybe <em>you</em> have no immediate use for <code>tryLock</code>. But, in someone else's code;</p>\n<ol>\n<li>The thread might try the lock in a loop, and</li>\n<li>The lock might only be lightly contested (i.e., there's only a low probability that the <code>tryLock()</code> call will fail,) and finally,</li>\n<li>The need to access the shared variables might not be urgent. Perhaps that access always can be deferred until a later iteration of the loop.</li>\n</ol>\n<p>If all of those things are true, then <code>tryLock</code> makes it possible to defer the shared access, and keep the loop running on a regular schedule.</p>\n"}],"owner":{"account_id":5971218,"reputation":3,"user_id":4693486,"display_name":"Ankit raj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77094934,"answer_count":2,"score":0,"last_activity_date":1694677623,"creation_date":1694585460,"question_id":77094444,"body_markdown":"What is the actual usecase of trylock in java.\r\nIf I check trylock in if block and write an else block, I will end up loosing actual business logic which is there in if block and thread will never hit the if block again.\r\nI am wondering what could be actual business usecase for this.\r\n\r\nI am trying to use reentrantLock.tryLock()","title":"What is the actual usecase of trylock in java","body":"<p>What is the actual usecase of trylock in java.\nIf I check trylock in if block and write an else block, I will end up loosing actual business logic which is there in if block and thread will never hit the if block again.\nI am wondering what could be actual business usecase for this.</p>\n<p>I am trying to use reentrantLock.tryLock()</p>\n"},{"tags":["java","spring-boot","swagger","swagger-ui","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":205805,"reputation":5603,"user_id":454741,"accept_rate":67,"display_name":"VadimB"},"score":0,"creation_date":1632311128,"post_id":69283400,"comment_id":122456476,"body_markdown":"Have you tried to specify swagger path directly through properties file: `springdoc.swagger-ui.path=/swagger-ui.html`","body":"Have you tried to specify swagger path directly through properties file: <code>springdoc.swagger-ui.path=&#47;swagger-ui.html</code>"},{"owner":{"account_id":13333145,"reputation":385,"user_id":9623789,"display_name":"Babita Bisht"},"score":0,"creation_date":1632311242,"post_id":69283400,"comment_id":122456522,"body_markdown":"@VadimB - yes I have tried that also but no luck","body":"@VadimB - yes I have tried that also but no luck"}],"answers":[{"tags":[],"owner":{"account_id":4561270,"reputation":5677,"user_id":3703534,"accept_rate":75,"display_name":"Sachith Wickramaarachchi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632311247,"creation_date":1632311247,"answer_id":69283595,"question_id":69283400,"body_markdown":"Seems The `PathPatternParser` doesn&#39;t allow `**` to appear in the middle, and will reject such a pattern (see more details: https://github.com/spring-projects/spring-boot/issues/21694). \r\n\r\nIt looks like code here inserted a `**` in the middle of the path pattern.\r\n\r\n\t\tuiRootPath.append(ALL_PATTERN);\r\n\t\tregistry.addResourceHandler(uiRootPath + SWAGGER_UI_PATTERN)\r\n\r\nFull code\r\n\r\n\t@Override\r\n\tpublic void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n\t\tStringBuilder uiRootPath = new StringBuilder();\r\n\t\tif (swaggerPath.contains(DEFAULT_PATH_SEPARATOR))\r\n\t\t\tuiRootPath.append(swaggerPath, 0, swaggerPath.lastIndexOf(DEFAULT_PATH_SEPARATOR));\r\n\t\tif (actuatorProvider.isPresent() &amp;&amp; actuatorProvider.get().isUseManagementPort())\r\n\t\t\tuiRootPath.append(actuatorProvider.get().getBasePath());\r\n\r\n\t\tuiRootPath.append(ALL_PATTERN);\r\n\t\tregistry.addResourceHandler(uiRootPath + SWAGGER_UI_PATTERN)\r\n\t\t\t\t.addResourceLocations(CLASSPATH_RESOURCE_LOCATION + DEFAULT_WEB_JARS_PREFIX_URL + DEFAULT_PATH_SEPARATOR)\r\n\t\t\t\t.resourceChain(false)\r\n\t\t\t\t.addTransformer(swaggerIndexTransformer);\r\n\t}\r\n\r\n","title":"Invalid mapping pattern detected: /**/swagger-ui/**","body":"<p>Seems The <code>PathPatternParser</code> doesn't allow <code>**</code> to appear in the middle, and will reject such a pattern (see more details: <a href=\"https://github.com/spring-projects/spring-boot/issues/21694\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/21694</a>).</p>\n<p>It looks like code here inserted a <code>**</code> in the middle of the path pattern.</p>\n<pre><code>    uiRootPath.append(ALL_PATTERN);\n    registry.addResourceHandler(uiRootPath + SWAGGER_UI_PATTERN)\n</code></pre>\n<p>Full code</p>\n<pre><code>@Override\npublic void addResourceHandlers(ResourceHandlerRegistry registry) {\n    StringBuilder uiRootPath = new StringBuilder();\n    if (swaggerPath.contains(DEFAULT_PATH_SEPARATOR))\n        uiRootPath.append(swaggerPath, 0, swaggerPath.lastIndexOf(DEFAULT_PATH_SEPARATOR));\n    if (actuatorProvider.isPresent() &amp;&amp; actuatorProvider.get().isUseManagementPort())\n        uiRootPath.append(actuatorProvider.get().getBasePath());\n\n    uiRootPath.append(ALL_PATTERN);\n    registry.addResourceHandler(uiRootPath + SWAGGER_UI_PATTERN)\n            .addResourceLocations(CLASSPATH_RESOURCE_LOCATION + DEFAULT_WEB_JARS_PREFIX_URL + DEFAULT_PATH_SEPARATOR)\n            .resourceChain(false)\n            .addTransformer(swaggerIndexTransformer);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632322166,"creation_date":1632322166,"answer_id":69286597,"question_id":69283400,"body_markdown":"Somewhere in your code (I would guess in the security configuration) you have configured `/**/swagger-ui/**`. Recently (Spring 5.3) these path configurations are now analyzed by `PathPatternParser` (that replaced the old `AntPathMatcher` that allowed paths just like these).\r\n\r\nEither add `spring.mvc.pathpattern.matching-strategy=ant_path_matcher` to your `application.properties` as suggested or change the your path configuration to something like `&quot;/webjars/swagger-ui/**&quot;`.","title":"Invalid mapping pattern detected: /**/swagger-ui/**","body":"<p>Somewhere in your code (I would guess in the security configuration) you have configured <code>/**/swagger-ui/**</code>. Recently (Spring 5.3) these path configurations are now analyzed by <code>PathPatternParser</code> (that replaced the old <code>AntPathMatcher</code> that allowed paths just like these).</p>\n<p>Either add <code>spring.mvc.pathpattern.matching-strategy=ant_path_matcher</code> to your <code>application.properties</code> as suggested or change the your path configuration to something like <code>&quot;/webjars/swagger-ui/**&quot;</code>.</p>\n"},{"tags":[],"owner":{"account_id":2529035,"reputation":301,"user_id":2819181,"display_name":"Debmalya Jash"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1637367113,"creation_date":1637367113,"answer_id":70042220,"question_id":69283400,"body_markdown":"With following dependencies, solved this issue.\r\n\r\n     &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5.12&lt;/version&gt;\r\n\t&lt;/dependency&gt;","title":"Invalid mapping pattern detected: /**/swagger-ui/**","body":"<p>With following dependencies, solved this issue.</p>\n<pre><code> &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n&lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n        &lt;version&gt;1.5.12&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2643859,"reputation":41,"user_id":2286976,"display_name":"user2286976"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1641584478,"creation_date":1641584478,"answer_id":70626369,"question_id":69283400,"body_markdown":"The above item works\r\n`spring.mvc.pathpattern.matching-strategy=ant_path_matcher`\r\n\r\nHowever, it should be `ant-path-matcher` - dashes not underscores","title":"Invalid mapping pattern detected: /**/swagger-ui/**","body":"<p>The above item works\n<code>spring.mvc.pathpattern.matching-strategy=ant_path_matcher</code></p>\n<p>However, it should be <code>ant-path-matcher</code> - dashes not underscores</p>\n"},{"tags":[],"owner":{"account_id":12017836,"reputation":121,"user_id":8792360,"display_name":"Amit"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1642841110,"creation_date":1642777838,"answer_id":70803463,"question_id":69283400,"body_markdown":"I added below line in my app application.properties that worked for me.\r\n```\r\nspring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER\r\n```","title":"Invalid mapping pattern detected: /**/swagger-ui/**","body":"<p>I added below line in my app application.properties that worked for me.</p>\n<pre><code>spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER\n</code></pre>\n"},{"tags":[],"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645452850,"creation_date":1645452850,"answer_id":71207790,"question_id":69283400,"body_markdown":"In my case, I was using old versions of `springdoc-openapi-ui` `springdoc-openapi-data-rest`, which happened to be incompatible with the latest version of Spring Boot. Looking up for the most recent maven package on https://mvnrepository.com/artifact/org.springdoc/springdoc-openapi-ui and using that version, solved the problem.","title":"Invalid mapping pattern detected: /**/swagger-ui/**","body":"<p>In my case, I was using old versions of <code>springdoc-openapi-ui</code> <code>springdoc-openapi-data-rest</code>, which happened to be incompatible with the latest version of Spring Boot. Looking up for the most recent maven package on <a href=\"https://mvnrepository.com/artifact/org.springdoc/springdoc-openapi-ui\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.springdoc/springdoc-openapi-ui</a> and using that version, solved the problem.</p>\n"},{"tags":[],"owner":{"account_id":27809588,"reputation":1,"user_id":21232236,"display_name":"Rahul Dubey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676620536,"creation_date":1676619993,"answer_id":75481449,"question_id":69283400,"body_markdown":"I added this line my side is working application.properties\r\n\r\n    spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER","title":"Invalid mapping pattern detected: /**/swagger-ui/**","body":"<p>I added this line my side is working application.properties</p>\n<pre><code>spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11531106,"reputation":41,"user_id":8474641,"display_name":"Antony Glim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694677602,"creation_date":1694677602,"answer_id":77102759,"question_id":69283400,"body_markdown":"In my case springdoc-openapi-ui was in outstanding module. And I just exclude springdoc-openapi-ui.\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;some.group&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;some.artifact&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;LATEST&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;","title":"Invalid mapping pattern detected: /**/swagger-ui/**","body":"<p>In my case springdoc-openapi-ui was in outstanding module. And I just exclude springdoc-openapi-ui.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;some.group&lt;/groupId&gt;\n        &lt;artifactId&gt;some.artifact&lt;/artifactId&gt;\n        &lt;version&gt;LATEST&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n                &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":13333145,"reputation":385,"user_id":9623789,"display_name":"Babita Bisht"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27404,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":8,"score":10,"last_activity_date":1694677602,"creation_date":1632310423,"question_id":69283400,"body_markdown":"I am using springdoc-openapi-ui for spring boot API documentation and facing the following issue -\r\n\r\n[![This is the error screen][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TFFC0.png\r\n\r\nI have added all the necessary configuration as follows -\r\n1. The maven dependency -\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n2. This is the main file -\r\n\r\n```\r\npackage com.abc.tl;\r\n\t\r\nimport io.swagger.v3.oas.annotations.OpenAPIDefinition;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\n@OpenAPIDefinition\r\npublic class TLApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tSpringApplication.run(TLApplication.class, args);\r\n\r\n\t}\r\n}\r\n\r\n\r\n```\r\n\r\nUsing java version - 11, Not sure where is the Issue, the project is not able to run.\r\n","title":"Invalid mapping pattern detected: /**/swagger-ui/**","body":"<p>I am using springdoc-openapi-ui for spring boot API documentation and facing the following issue -</p>\n<p><a href=\"https://i.stack.imgur.com/TFFC0.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/TFFC0.png\" alt=\"This is the error screen\" /></a></p>\n<p>I have added all the necessary configuration as follows -</p>\n<ol>\n<li>The maven dependency -</li>\n</ol>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.5.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ol start=\"2\">\n<li>This is the main file -</li>\n</ol>\n<pre><code>package com.abc.tl;\n    \nimport io.swagger.v3.oas.annotations.OpenAPIDefinition;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\n@OpenAPIDefinition\npublic class TLApplication {\n\n    public static void main(String[] args) {\n\n        SpringApplication.run(TLApplication.class, args);\n\n    }\n}\n\n\n</code></pre>\n<p>Using java version - 11, Not sure where is the Issue, the project is not able to run.</p>\n"},{"tags":["java","lambda","java-8","java-stream"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1505860919,"post_id":46310655,"comment_id":79583301,"body_markdown":"When you ask how to do it &quot;using lambda expressions&quot;, do you actually mean to ask how to do it using Streams? Because it can be done with Streams and method references *(assuming getter methods exist)*, without any lambda expressions, so the question to you would be why it has to use lambda expressions?","body":"When you ask how to do it &quot;using lambda expressions&quot;, do you actually mean to ask how to do it using Streams? Because it can be done with Streams and method references <i>(assuming getter methods exist)</i>, without any lambda expressions, so the question to you would be why it has to use lambda expressions?"},{"owner":{"account_id":8538676,"reputation":327,"user_id":6399495,"display_name":"Zoff"},"score":0,"creation_date":1505861318,"post_id":46310655,"comment_id":79583406,"body_markdown":"Yeah I did mean to use stream(). Sorry for not being clear in the first draft. I can turn the list into a map of list using groupBy(), but I can&#39;t figure out how to turn that into a map of set.","body":"Yeah I did mean to use stream(). Sorry for not being clear in the first draft. I can turn the list into a map of list using groupBy(), but I can&#39;t figure out how to turn that into a map of set."},{"owner":{"account_id":8076066,"reputation":1844,"user_id":6087092,"display_name":"Isac"},"score":0,"creation_date":1505861331,"post_id":46310655,"comment_id":79583409,"body_markdown":"So you have repeated `Student` objects for each course the student is taking ? Definitely doesn&#39;t feel right. The courses should be an array in the `Student` object directly.","body":"So you have repeated <code>Student</code> objects for each course the student is taking ? Definitely doesn&#39;t feel right. The courses should be an array in the <code>Student</code> object directly."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1505861374,"post_id":46310655,"comment_id":79583422,"body_markdown":"`students.stream().collect(groupingBy(Student::getStudentName, mapping(Student::getCourseTaking, toSet())))`","body":"<code>students.stream().collect(groupingBy(Student::getStudentName&zwnj;&#8203;, mapping(Student::getCourseTaking, toSet())))</code>"}],"answers":[{"tags":[],"owner":{"account_id":4187371,"reputation":4956,"user_id":3430807,"accept_rate":60,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1505861427,"creation_date":1505861427,"answer_id":46310791,"question_id":46310655,"body_markdown":"I think this is what you&#39;re looking for:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    import java.util.stream.Collectors;\r\n    \r\n    \r\n    public class StackOverflow {\r\n    \r\n      private static class SO46310655 {\r\n        public static void main(String[] args) {\r\n          final List&lt;Student&gt; students = new ArrayList&lt;&gt;();\r\n          students.add(new Student(&quot;Zoff&quot;, &quot;Java 101&quot;));\r\n          students.add(new Student(&quot;Zoff&quot;, &quot;CompSci 104&quot;));\r\n          students.add(new Student(&quot;Zoff&quot;, &quot;Lit 110&quot;));\r\n          students.add(new Student(&quot;Andreas&quot;, &quot;Kotlin 205&quot;));\r\n          Map&lt;String, Set&lt;String&gt;&gt; map = students.stream().collect(\r\n              Collectors.groupingBy(\r\n                  Student::getStudentName,\r\n                  Collectors.mapping(\r\n                      Student::getCourseTaking,\r\n                      Collectors.toSet()\r\n                  )\r\n              )\r\n          );\r\n          System.out.println(map);\r\n        }\r\n    \r\n        public static class Student {\r\n          private final String studentName;\r\n          private final String courseTaking;\r\n    \r\n          public Student(String studentName, String courseTaking) {\r\n            this.studentName = studentName;\r\n            this.courseTaking = courseTaking;\r\n          }\r\n    \r\n          public String getStudentName() {\r\n            return studentName;\r\n          }\r\n    \r\n          public String getCourseTaking() {\r\n            return courseTaking;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nyeilds `{Andreas=[Kotlin 205], Zoff=[Java 101, CompSci 104, Lit 110]}`","title":"Java convert a list to a map of sets with grouping by key","body":"<p>I think this is what you're looking for:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.stream.Collectors;\n\n\npublic class StackOverflow {\n\n  private static class SO46310655 {\n    public static void main(String[] args) {\n      final List&lt;Student&gt; students = new ArrayList&lt;&gt;();\n      students.add(new Student(\"Zoff\", \"Java 101\"));\n      students.add(new Student(\"Zoff\", \"CompSci 104\"));\n      students.add(new Student(\"Zoff\", \"Lit 110\"));\n      students.add(new Student(\"Andreas\", \"Kotlin 205\"));\n      Map&lt;String, Set&lt;String&gt;&gt; map = students.stream().collect(\n          Collectors.groupingBy(\n              Student::getStudentName,\n              Collectors.mapping(\n                  Student::getCourseTaking,\n                  Collectors.toSet()\n              )\n          )\n      );\n      System.out.println(map);\n    }\n\n    public static class Student {\n      private final String studentName;\n      private final String courseTaking;\n\n      public Student(String studentName, String courseTaking) {\n        this.studentName = studentName;\n        this.courseTaking = courseTaking;\n      }\n\n      public String getStudentName() {\n        return studentName;\n      }\n\n      public String getCourseTaking() {\n        return courseTaking;\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>yeilds <code>{Andreas=[Kotlin 205], Zoff=[Java 101, CompSci 104, Lit 110]}</code></p>\n"}],"owner":{"account_id":8538676,"reputation":327,"user_id":6399495,"display_name":"Zoff"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5844,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"closed_date":1505920097,"accepted_answer_id":46310791,"answer_count":1,"score":11,"last_activity_date":1694677334,"creation_date":1505860485,"question_id":46310655,"body_markdown":"Say I have a list of objects called `Student`. Object `Student` is defined as\r\n\r\n```java\r\npublic class Student {\r\n    private String studentName;\r\n    private String courseTaking;\r\n}\r\n```\r\n\r\nIn the list of students, there can be multiple student objects with the same `studentName` but different `courseTaking`. Now, I want to turn the list of students into a map of `studentName` and `courseTaking` like so\r\n\r\n```java\r\nMap&lt;String, Set&lt;String&gt;&gt;\r\n```\r\n\r\nThe key is `studentName`, and the value is all of the `courseTaking` of the same student put together as a `Set`. How can I do this using `stream()` &amp; `collect()`?","title":"Java convert a list to a map of sets with grouping by key","body":"<p>Say I have a list of objects called <code>Student</code>. Object <code>Student</code> is defined as</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Student {\n    private String studentName;\n    private String courseTaking;\n}\n</code></pre>\n<p>In the list of students, there can be multiple student objects with the same <code>studentName</code> but different <code>courseTaking</code>. Now, I want to turn the list of students into a map of <code>studentName</code> and <code>courseTaking</code> like so</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Set&lt;String&gt;&gt;\n</code></pre>\n<p>The key is <code>studentName</code>, and the value is all of the <code>courseTaking</code> of the same student put together as a <code>Set</code>. How can I do this using <code>stream()</code> &amp; <code>collect()</code>?</p>\n"},{"tags":["java","google-play-console","public-key-encryption"],"answers":[{"tags":[],"owner":{"account_id":26875900,"reputation":1,"user_id":20457166,"display_name":"Steve Pence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694677206,"creation_date":1694677206,"answer_id":77102723,"question_id":77029281,"body_markdown":"I was able to find an alternate tool that worked, available here: https://www.gstatic.com/play-apps-publisher-rapid/signing-tool/prod/pepk.jar\r\n\r\nThe command is slightly different:\r\n\r\ncmd shell: java -jar files_location\\pepk.jar --keystore=keystore_name --alias=alias_name --output=files_location\\keystore_name.pepk --rsa-aes-encryption --encryption-key-path=files_location\\google_provided_publickey\r\n\r\n","title":"access denied using pepk.jar to upload key to Play Console","body":"<p>I was able to find an alternate tool that worked, available here: <a href=\"https://www.gstatic.com/play-apps-publisher-rapid/signing-tool/prod/pepk.jar\" rel=\"nofollow noreferrer\">https://www.gstatic.com/play-apps-publisher-rapid/signing-tool/prod/pepk.jar</a></p>\n<p>The command is slightly different:</p>\n<p>cmd shell: java -jar files_location\\pepk.jar --keystore=keystore_name --alias=alias_name --output=files_location\\keystore_name.pepk --rsa-aes-encryption --encryption-key-path=files_location\\google_provided_publickey</p>\n"}],"owner":{"account_id":26875900,"reputation":1,"user_id":20457166,"display_name":"Steve Pence"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694677206,"creation_date":1693675032,"question_id":77029281,"body_markdown":"In Google Play console I have an apk app (i.e. not using app bundles) that I have been signing myself. Now I want to convert to using app bundles and hand off my existing key to Google. I&#39;m following the setps &quot;Let Google Play manage your app signing key&gt;Use existing app signing key from Java keystore.&quot; I have downloaded their public key and their tool, pepk.jar. When I try the suggested command line syntax I get access denied no matter what output directory I try. (I&#39;ve tried dirs in my c:\\users\\... I&#39;ve tried dirs under the zulu install tree, but I&#39;m guessing there.)  I&#39;m running an elevated command prompt window, so this seems to be a java permissions issue. I&#39;ve tried with a clean download of zulu java see version output below.\r\n\r\nAll the assets are in my c:\\temp. The command I&#39;m running is this:\r\n\r\nc:\\TEMP&gt;java -jar pepk.jar --keystore=Samson.keystore --alias=Samson --output=c:\\temp --rsa-aes-encryption --encryption-key-path=c:\\temp\\encryption_public_key.pem  \r\nEnter password for store &#39;Samson.keystore&#39;:  \r\nEnter password for key &#39;Samson&#39;:  \r\nError: Unable to export or encrypt the private key\r\njava.nio.file.AccessDeniedException: c:\\temp  \r\n        at java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:89)\r\n        ....\r\n\r\nc:\\TEMP&gt;java -version  \r\nopenjdk version &quot;17.0.8&quot; 2023-07-18 LTS  \r\nOpenJDK Runtime Environment Zulu17.44+15-CA (build 17.0.8+7-LTS)  \r\nOpenJDK 64-Bit Server VM Zulu17.44+15-CA (build 17.0.8+7-LTS, mixed mode, sharing)\r\n\r\nI&#39;m on Windows 10 pro 21H2\r\n\r\nThanks for any suggestions,\r\n\r\nSteve","title":"access denied using pepk.jar to upload key to Play Console","body":"<p>In Google Play console I have an apk app (i.e. not using app bundles) that I have been signing myself. Now I want to convert to using app bundles and hand off my existing key to Google. I'm following the setps &quot;Let Google Play manage your app signing key&gt;Use existing app signing key from Java keystore.&quot; I have downloaded their public key and their tool, pepk.jar. When I try the suggested command line syntax I get access denied no matter what output directory I try. (I've tried dirs in my c:\\users... I've tried dirs under the zulu install tree, but I'm guessing there.)  I'm running an elevated command prompt window, so this seems to be a java permissions issue. I've tried with a clean download of zulu java see version output below.</p>\n<p>All the assets are in my c:\\temp. The command I'm running is this:</p>\n<p>c:\\TEMP&gt;java -jar pepk.jar --keystore=Samson.keystore --alias=Samson --output=c:\\temp --rsa-aes-encryption --encryption-key-path=c:\\temp\\encryption_public_key.pem<br />\nEnter password for store 'Samson.keystore':<br />\nEnter password for key 'Samson':<br />\nError: Unable to export or encrypt the private key\njava.nio.file.AccessDeniedException: c:\\temp<br />\nat java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:89)\n....</p>\n<p>c:\\TEMP&gt;java -version<br />\nopenjdk version &quot;17.0.8&quot; 2023-07-18 LTS<br />\nOpenJDK Runtime Environment Zulu17.44+15-CA (build 17.0.8+7-LTS)<br />\nOpenJDK 64-Bit Server VM Zulu17.44+15-CA (build 17.0.8+7-LTS, mixed mode, sharing)</p>\n<p>I'm on Windows 10 pro 21H2</p>\n<p>Thanks for any suggestions,</p>\n<p>Steve</p>\n"},{"tags":["java","mongodb","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692582141,"post_id":76938433,"comment_id":135638421,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":22893707,"reputation":1,"user_id":17033502,"display_name":"YunoPaparazzi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694677179,"creation_date":1694677179,"answer_id":77102720,"question_id":76938433,"body_markdown":"Since you are using Spring project version 3.1.0 version or above and in the pom.xml file the spring-dotenv version is 4.0.0 \r\n\r\nIn your application.properties file change the syntax should be `$(MONGO_****)` and not `$(env.MONGO_****)`\r\n\r\nIn your .env file mention the connection uri details\r\n\r\n    MONGO_DATABASE=&quot;&quot;\r\n    MONGO_USER=&quot;&quot;\r\n    MONGO_PASSWORD=&quot;&quot;\r\n    MONGO_CLUSTER=&quot;&quot;\r\n\r\nIn the application.properites file \r\n\r\n    spring.data.mongodb.database=${MONGO_DATABASE}\r\n    spring.data.mongodb.uri=mongodb+srv://${MONGO_USER}:${MONGO_PASSWORD}@${MONGO_CLUSTER}\r\n\r\nI got the same error before making these changes and it was resolved. Hope it helps! \r\n","title":"Spring boot, mongo DB bean error for SRV host name","body":"<p>Since you are using Spring project version 3.1.0 version or above and in the pom.xml file the spring-dotenv version is 4.0.0</p>\n<p>In your application.properties file change the syntax should be <code>$(MONGO_****)</code> and not <code>$(env.MONGO_****)</code></p>\n<p>In your .env file mention the connection uri details</p>\n<pre><code>MONGO_DATABASE=&quot;&quot;\nMONGO_USER=&quot;&quot;\nMONGO_PASSWORD=&quot;&quot;\nMONGO_CLUSTER=&quot;&quot;\n</code></pre>\n<p>In the application.properites file</p>\n<pre><code>spring.data.mongodb.database=${MONGO_DATABASE}\nspring.data.mongodb.uri=mongodb+srv://${MONGO_USER}:${MONGO_PASSWORD}@${MONGO_CLUSTER}\n</code></pre>\n<p>I got the same error before making these changes and it was resolved. Hope it helps!</p>\n"}],"owner":{"account_id":29260439,"reputation":1,"user_id":22417537,"display_name":"Any"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1694677179,"creation_date":1692517304,"question_id":76938433,"body_markdown":"This is the error showing:\r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-08-20T13:02:09.356+05:30 ERROR 22968 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mongo&#39; defined in class path resource [org/springframework/boot/autoconfigure/mongo/MongoAutoConfiguration.class]: Failed to instantiate [com.mongodb.client.MongoClient]: Factory method &#39;mongo&#39; threw exception with message: An SRV host name &#39;${env.MONGO_CLUSTER}&#39; was provided that does not contain at least three parts. It must contain a hostname, domain name and a top level domain.\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:942) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat com.example.full.FullApplication.main(FullApplication.java:10) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.1.2.jar:3.1.2]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.mongodb.client.MongoClient]: Factory method &#39;mongo&#39; threw exception with message: An SRV host name &#39;${env.MONGO_CLUSTER}&#39; was provided that does not contain at least three parts. It must contain a hostname, domain name and a top level domain.\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\t... 22 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: An SRV host name &#39;${env.MONGO_CLUSTER}&#39; was provided that does not contain at least three parts. It must contain a hostname, domain name and a top level domain.\r\n\tat com.mongodb.connection.ClusterSettings.&lt;init&gt;(ClusterSettings.java:594) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.connection.ClusterSettings.&lt;init&gt;(ClusterSettings.java:50) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.connection.ClusterSettings$Builder.build(ClusterSettings.java:370) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.MongoClientSettings.&lt;init&gt;(MongoClientSettings.java:957) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.MongoClientSettings.&lt;init&gt;(MongoClientSettings.java:64) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat com.mongodb.MongoClientSettings$Builder.build(MongoClientSettings.java:600) ~[mongodb-driver-core-4.9.1.jar:na]\r\n\tat org.springframework.boot.autoconfigure.mongo.MongoClientFactorySupport.createMongoClient(MongoClientFactorySupport.java:50) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration.mongo(MongoAutoConfiguration.java:59) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\t... 23 common frames omitted\r\n\r\n\r\nProcess finished with exit code 0\r\n\r\nThis is my pom.xml:\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;full&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;full&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;20&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;me.paulschwarz&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-dotenv&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n","title":"Spring boot, mongo DB bean error for SRV host name","body":"<p>This is the error showing:</p>\n<p>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-08-20T13:02:09.356+05:30 ERROR 22968 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed</p>\n<p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mongo' defined in class path resource [org/springframework/boot/autoconfigure/mongo/MongoAutoConfiguration.class]: Failed to instantiate [com.mongodb.client.MongoClient]: Factory method 'mongo' threw exception with message: An SRV host name '${env.MONGO_CLUSTER}' was provided that does not contain at least three parts. It must contain a hostname, domain name and a top level domain.\nat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.11.jar:6.0.11]\nat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647) ~[spring-beans-6.0.11.jar:6.0.11]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.11.jar:6.0.11]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.11.jar:6.0.11]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.11.jar:6.0.11]\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:942) ~[spring-context-6.0.11.jar:6.0.11]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\nat com.example.full.FullApplication.main(FullApplication.java:10) ~[classes/:na]\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\nat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.1.2.jar:3.1.2]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.mongodb.client.MongoClient]: Factory method 'mongo' threw exception with message: An SRV host name '${env.MONGO_CLUSTER}' was provided that does not contain at least three parts. It must contain a hostname, domain name and a top level domain.\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.11.jar:6.0.11]\nat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.11.jar:6.0.11]\n... 22 common frames omitted\nCaused by: java.lang.IllegalArgumentException: An SRV host name '${env.MONGO_CLUSTER}' was provided that does not contain at least three parts. It must contain a hostname, domain name and a top level domain.\nat com.mongodb.connection.ClusterSettings.(ClusterSettings.java:594) ~[mongodb-driver-core-4.9.1.jar:na]\nat com.mongodb.connection.ClusterSettings.(ClusterSettings.java:50) ~[mongodb-driver-core-4.9.1.jar:na]\nat com.mongodb.connection.ClusterSettings$Builder.build(ClusterSettings.java:370) ~[mongodb-driver-core-4.9.1.jar:na]\nat com.mongodb.MongoClientSettings.(MongoClientSettings.java:957) ~[mongodb-driver-core-4.9.1.jar:na]\nat com.mongodb.MongoClientSettings.(MongoClientSettings.java:64) ~[mongodb-driver-core-4.9.1.jar:na]\nat com.mongodb.MongoClientSettings$Builder.build(MongoClientSettings.java:600) ~[mongodb-driver-core-4.9.1.jar:na]\nat org.springframework.boot.autoconfigure.mongo.MongoClientFactorySupport.createMongoClient(MongoClientFactorySupport.java:50) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\nat org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration.mongo(MongoAutoConfiguration.java:59) ~[spring-boot-autoconfigure-3.1.2.jar:3.1.2]\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.11.jar:6.0.11]\n... 23 common frames omitted</p>\n<p>Process finished with exit code 0</p>\n<p>This is my pom.xml:</p>\n\n<p>\n4.0.0\n\norg.springframework.boot\nspring-boot-starter-parent\n3.1.2\n \n\ncom.example\nfull\n0.0.1-SNAPSHOT\nfull\nDemo project for Spring Boot\n\n&lt;java.version&gt;20&lt;/java.version&gt;\n\n\n\norg.springframework.boot\nspring-boot-starter-data-mongodb\n\n\norg.springframework.boot\nspring-boot-starter-web\n</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;me.paulschwarz&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-dotenv&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n"},{"tags":["javascript","java","asp.net","vb.net"],"comments":[{"owner":{"account_id":6587107,"reputation":23126,"user_id":5089567,"accept_rate":83,"display_name":"Konrad"},"score":0,"creation_date":1694458233,"post_id":77084111,"comment_id":135890871,"body_markdown":"You can&#39;t click anything without the user actually clicking","body":"You can&#39;t click anything without the user actually clicking"},{"owner":{"account_id":28617346,"reputation":1,"user_id":21911028,"display_name":"Manish Kumar"},"score":0,"creation_date":1694458340,"post_id":77084111,"comment_id":135890894,"body_markdown":"@Konrad how can i do the same thing if any suggestions or examples are then share .. i have used in my vb code as above i mentioned .","body":"@Konrad how can i do the same thing if any suggestions or examples are then share .. i have used in my vb code as above i mentioned ."}],"owner":{"account_id":28617346,"reputation":1,"user_id":21911028,"display_name":"Manish Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1694676938,"creation_date":1694458129,"question_id":77084111,"body_markdown":"\r\n&#39;I have using modal popup and its working fine with button close event but not working with JavaScript  . Please help to me resolve this issue. &#39;\r\n\r\n `This My script`\r\n```\r\n&lt;script&gt;\r\n\r\n window.onload = function () {\r\n setInterval(function () {\r\n $(&quot;#btnclose&quot;).click().\r\n }, 3000);\r\n }\r\n\r\n&lt;/script&gt; \r\n```\r\n\r\n\r\n`this my modal popup that i have used`\r\n\r\n\r\n```\r\n &lt;div id=&quot;myModal&quot; visible=&quot;false&quot; runat=&quot;server&quot; class=&quot;modal&quot;&gt;\r\n &lt;div id=&quot;modalcontent1&quot; runat=&quot;server&quot; class=&quot;modal-content&quot;&gt;\r\n &lt;div id=&quot;modalheader1&quot; runat=&quot;server&quot; class=&quot;modal-header&quot;&gt;\r\n &lt;h3&gt;Message&lt;br /&gt;\r\n &lt;/h3&gt;\r\n &lt;/div&gt;\r\n&lt;div id=&quot;madalbody1&quot; runat=&quot;server&quot; class=&quot;modal-body&quot;&gt;\r\n&lt;p style=&quot;height: 60px; margin: 7px&quot;&gt;\r\n&lt;asp:Label ID=&quot;lblMsg&quot; runat=&quot;server&quot; Text=&quot;&quot;&gt;&lt;/asp:Label&gt;\r\n&lt;/p&gt;\r\n&lt;/div&gt;\r\n&lt;div id=&quot;modalfooter1&quot; runat=&quot;server&quot; class=&quot;modal-footer&quot;&gt;\r\n &lt;h3&gt;\r\n &lt;asp:Button ID=&quot;btnclose&quot; CausesValidation=&quot;false&quot; runat=&quot;server&quot;   CssClass=&quot;allBtn blue&quot; Text=&quot;CLOSE&quot; /&gt;\r\n &lt;/h3&gt;\r\n &lt;/div&gt;\r\n &lt;/div&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\n `I am using this as of now but for show and hide modal and now  i need to do that with JavaScript`\r\n\r\n````\r\n    Protected Sub btnclose_Click(sender As Object, e As EventArgs)\r\n     myModal.Visible = False\r\n    myModal.Dispose()    \r\n    End Sub\r\n    \r\n    Protected Sub displayMessage(msg As String)\r\n    lblMsg.Text = &quot;&quot;\r\n    myModal.Visible = True\r\n    myModal.Style.Add(&quot;display&quot;, &quot;block&quot;)\r\n    lblMsg.Text = msg\r\n    End Sub\r\n````\r\n","title":"Not able to hide modal popup using Java Script","body":"<p>'I have using modal popup and its working fine with button close event but not working with JavaScript  . Please help to me resolve this issue. '</p>\n<p><code>This My script</code></p>\n<pre><code>&lt;script&gt;\n\n window.onload = function () {\n setInterval(function () {\n $(&quot;#btnclose&quot;).click().\n }, 3000);\n }\n\n&lt;/script&gt; \n</code></pre>\n<p><code>this my modal popup that i have used</code></p>\n<pre><code> &lt;div id=&quot;myModal&quot; visible=&quot;false&quot; runat=&quot;server&quot; class=&quot;modal&quot;&gt;\n &lt;div id=&quot;modalcontent1&quot; runat=&quot;server&quot; class=&quot;modal-content&quot;&gt;\n &lt;div id=&quot;modalheader1&quot; runat=&quot;server&quot; class=&quot;modal-header&quot;&gt;\n &lt;h3&gt;Message&lt;br /&gt;\n &lt;/h3&gt;\n &lt;/div&gt;\n&lt;div id=&quot;madalbody1&quot; runat=&quot;server&quot; class=&quot;modal-body&quot;&gt;\n&lt;p style=&quot;height: 60px; margin: 7px&quot;&gt;\n&lt;asp:Label ID=&quot;lblMsg&quot; runat=&quot;server&quot; Text=&quot;&quot;&gt;&lt;/asp:Label&gt;\n&lt;/p&gt;\n&lt;/div&gt;\n&lt;div id=&quot;modalfooter1&quot; runat=&quot;server&quot; class=&quot;modal-footer&quot;&gt;\n &lt;h3&gt;\n &lt;asp:Button ID=&quot;btnclose&quot; CausesValidation=&quot;false&quot; runat=&quot;server&quot;   CssClass=&quot;allBtn blue&quot; Text=&quot;CLOSE&quot; /&gt;\n &lt;/h3&gt;\n &lt;/div&gt;\n &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p><code>I am using this as of now but for show and hide modal and now  i need to do that with JavaScript</code></p>\n<pre><code>    Protected Sub btnclose_Click(sender As Object, e As EventArgs)\n     myModal.Visible = False\n    myModal.Dispose()    \n    End Sub\n    \n    Protected Sub displayMessage(msg As String)\n    lblMsg.Text = &quot;&quot;\n    myModal.Visible = True\n    myModal.Style.Add(&quot;display&quot;, &quot;block&quot;)\n    lblMsg.Text = msg\n    End Sub\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9808,"page":184,"page_size":100}
