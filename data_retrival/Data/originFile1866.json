{"items":[{"tags":["java","linked-list","stack"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1636279103,"post_id":69870959,"comment_id":123509634,"body_markdown":"Hard to tell. Could you [create a minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) so we can try running your code? It will help in figuring out what goes wrong.","body":"Hard to tell. Could you <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">create a minimal reproducible example</a> so we can try running your code? It will help in figuring out what goes wrong."},{"owner":{"account_id":11504665,"reputation":79,"user_id":11662164,"display_name":"spock&#39;s-neurons"},"score":0,"creation_date":1636527394,"post_id":69870959,"comment_id":123577696,"body_markdown":"@OleV.V. it will probably be hard to create a minimal reprod because use of multiple methods for this, sorry. I understand the importance, but thanks for the help.","body":"@OleV.V. it will probably be hard to create a minimal reprod because use of multiple methods for this, sorry. I understand the importance, but thanks for the help."}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636279641,"creation_date":1636279641,"answer_id":69871463,"question_id":69870959,"body_markdown":"Your problem is here:\r\n\r\n                sub = borrow + valueTwo - valueOne;\r\n\r\nIn the situation where you should subtract 5 from 2, which requires that we borrow, you are exchanging the values and subtracting 2 from 5 instead. Which is wrong and gives the erroneous 3 in your result, 130. And also causes us not to borrow as we should.\r\n\r\nYou don’t need this `if`-`else` statement at all:\r\n\r\n            if(valueOne &gt; valueTwo) {\r\n\r\nThe subtraction should be the same no matter which digit is greater. Only the borrow part will be different depending on whether you get a negative difference at first.","title":"Subtract numbers from two linked list stack in java","body":"<p>Your problem is here:</p>\n<pre><code>            sub = borrow + valueTwo - valueOne;\n</code></pre>\n<p>In the situation where you should subtract 5 from 2, which requires that we borrow, you are exchanging the values and subtracting 2 from 5 instead. Which is wrong and gives the erroneous 3 in your result, 130. And also causes us not to borrow as we should.</p>\n<p>You don’t need this <code>if</code>-<code>else</code> statement at all:</p>\n<pre><code>        if(valueOne &gt; valueTwo) {\n</code></pre>\n<p>The subtraction should be the same no matter which digit is greater. Only the borrow part will be different depending on whether you get a negative difference at first.</p>\n"},{"tags":[],"owner":{"account_id":11504665,"reputation":79,"user_id":11662164,"display_name":"spock&#39;s-neurons"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636501262,"creation_date":1636501262,"answer_id":69906374,"question_id":69870959,"body_markdown":"So based off @Ole V.V. answer here is a working solution to my problem.\r\n\r\nFirst of all I had the if condition in which I was switching the position of the value one and two. This is not how subtraction work. I had to keep the value in the same position. \r\n\r\nremoved this\r\n```\r\n\r\n if(valueOne &gt; valueTwo) {\r\n                sub = borrow + valueOne - valueTwo;\r\n            \r\n                \r\n            } else {\r\n                sub = borrow + valueTwo - valueOne;\r\n```\r\n\r\nSecond, I reversed the stack before starting the subtraction which resulted in starting from the left to the right but the correct order should&#39;ve been from the right to left. \r\n\r\nLastly, the subtraction order was incorrect. I need to first subtract the number then check if the number is below zero which means need to borrow so then set borrow to -1. Once all that is done, reverse the stack to the result that comes out in the correct order. \r\n\r\n\r\n**The correct answer**\r\n```\r\npublic void subtractRoutine(String operndOne, String operndTwo) {\r\n\t\tint sub =0, borrow =0, valueOne, valueTwo;\r\n\t\tpushToLsLeft(padZero(operndOne, operndTwo)[ZERO]);\r\n\t\tpushToLsRight(padZero(operndOne, operndTwo)[ONE]);\r\n\t\twhile(left.sizeLinkedLs() &gt; ZERO &amp;&amp; right.sizeLinkedLs() &gt; ZERO) {\r\n\t\t\tvalueOne = Character.getNumericValue(left.pop());\r\n\t\t\tvalueTwo = Character.getNumericValue(right.pop());\r\n\r\n\t\t\tsub = borrow + valueOne - valueTwo;\r\n\t\t\tif (sub &lt; 0) {\r\n\t\t\t\t// when you borrow you need to add 10 \r\n\t\t\t\tsub = 10 + valueOne - valueTwo;\r\n\t\t\t\t// set borrow to -1 so the number been borrowed from cancelled out\r\n\t\t\t\tborrow = -1;\r\n\t\t\t} else {\r\n\t\t\t\tborrow = 0;\r\n\t\t\t}\r\n\r\n\t\t\tresult.push(sub);\r\n\t\t}\r\n\t\t// at the end reverse the numbers in the stack \r\n\t\tresult.reverseLinkLsStack();\r\n\t}\r\n```","title":"Subtract numbers from two linked list stack in java","body":"<p>So based off @Ole V.V. answer here is a working solution to my problem.</p>\n<p>First of all I had the if condition in which I was switching the position of the value one and two. This is not how subtraction work. I had to keep the value in the same position.</p>\n<p>removed this</p>\n<pre><code>\n if(valueOne &gt; valueTwo) {\n                sub = borrow + valueOne - valueTwo;\n            \n                \n            } else {\n                sub = borrow + valueTwo - valueOne;\n</code></pre>\n<p>Second, I reversed the stack before starting the subtraction which resulted in starting from the left to the right but the correct order should've been from the right to left.</p>\n<p>Lastly, the subtraction order was incorrect. I need to first subtract the number then check if the number is below zero which means need to borrow so then set borrow to -1. Once all that is done, reverse the stack to the result that comes out in the correct order.</p>\n<p><strong>The correct answer</strong></p>\n<pre><code>public void subtractRoutine(String operndOne, String operndTwo) {\n        int sub =0, borrow =0, valueOne, valueTwo;\n        pushToLsLeft(padZero(operndOne, operndTwo)[ZERO]);\n        pushToLsRight(padZero(operndOne, operndTwo)[ONE]);\n        while(left.sizeLinkedLs() &gt; ZERO &amp;&amp; right.sizeLinkedLs() &gt; ZERO) {\n            valueOne = Character.getNumericValue(left.pop());\n            valueTwo = Character.getNumericValue(right.pop());\n\n            sub = borrow + valueOne - valueTwo;\n            if (sub &lt; 0) {\n                // when you borrow you need to add 10 \n                sub = 10 + valueOne - valueTwo;\n                // set borrow to -1 so the number been borrowed from cancelled out\n                borrow = -1;\n            } else {\n                borrow = 0;\n            }\n\n            result.push(sub);\n        }\n        // at the end reverse the numbers in the stack \n        result.reverseLinkLsStack();\n    }\n</code></pre>\n"}],"owner":{"account_id":11504665,"reputation":79,"user_id":11662164,"display_name":"spock&#39;s-neurons"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69906374,"answer_count":2,"score":0,"last_activity_date":1636501262,"creation_date":1636274994,"question_id":69870959,"body_markdown":"Minimal reproducible example:\r\n\r\n\t\tint borrow = 0;\r\n\t\tint valueOne = 2;\r\n\t\tint valueTwo = 5;\r\n\t\tint sub;\r\n\t\t\r\n\t\tif(valueOne &gt; valueTwo) {\r\n            sub = borrow + valueOne - valueTwo;\r\n        } else {\r\n            sub = borrow + valueTwo - valueOne;\r\n        }\r\n        if (sub &lt; 0) {\r\n            borrow = -1;\r\n            sub += 10;\r\n        } else {\r\n            borrow = 0;\r\n        }\r\n        System.out.format(&quot;borrow: %d; sub: %d.%n&quot;, borrow, sub);\r\n\r\nExpected output:\r\n\r\n&gt; borrow: -1; sub: 7.\r\n\r\nObserved output:\r\n\r\n&gt; borrow: 0; sub: 3.\r\n\r\nI have two linked list stack implementations without using collections. This method is supposed to process any length numbers and subtract them. the method works when the isn&#39;t any borrowing in the process but does not work when subtraction requires borrowing. I can not figure the logic when the subtraction requires borrowing! Any help \r\n\r\nHere is the method\r\n\r\n```\r\n\tpublic static void subtractRoutine(String operndOne, String operndTwo) {\r\n\t\tint sub =0, borrow =0, valueOne, valueTwo;\r\n\t\tpushToLsLeft(padZero(operndOne, operndTwo)[ZERO]);\r\n\t\tpushToLsRight(padZero(operndOne, operndTwo)[ONE]);\r\n//\t\tSystem.out.println(left);\r\n\t\tleft.reverseLinkLsStack();\r\n\t\tright.reverseLinkLsStack();\r\n\t\twhile(left.sizeLinkedLs() &gt; ZERO &amp;&amp; right.sizeLinkedLs() &gt; ZERO) {\r\n\t\t\tvalueOne = Character.getNumericValue(left.pop());\r\n\t\t\tvalueTwo = Character.getNumericValue(right.pop());\r\n// --------------------------- please, only focus on the logic below. Everything above works fine.\r\n\t\t\tif(valueOne &gt; valueTwo) {\r\n\t\t\t\tsub = borrow + valueOne - valueTwo;\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tsub = borrow + valueTwo - valueOne;\r\n//\t\t\t\tSystem.out.println(sub);\r\n\t\t\t}\r\n\t\t\tif (sub &lt; 0) {\r\n\t\t\t\tborrow = -1;\r\n\t\t\t\tsub += 10;\r\n\t\t\t} else {\r\n\t\t\t\tborrow = 0;\r\n\t\t\t}\r\n//\t\t\tSystem.out.println(sub);\r\n\t\t\tresult.push(sub);\r\n\t\t}\r\n\t}\r\n```\r\n\r\nif I input this \r\n\r\n```\r\n250 + -150\r\n-250 + 150\r\n120 + -50\r\n```\r\n\r\nthe output would be\r\n\r\n```\r\n250\r\n-150\r\n0100\r\n\r\n-250\r\n150\r\n-0100\r\n\r\n// the problem is here\r\n120\r\n-50\r\n0130\r\n\r\n```\r\n","title":"Subtract numbers from two linked list stack in java","body":"<p>Minimal reproducible example:</p>\n<pre><code>    int borrow = 0;\n    int valueOne = 2;\n    int valueTwo = 5;\n    int sub;\n    \n    if(valueOne &gt; valueTwo) {\n        sub = borrow + valueOne - valueTwo;\n    } else {\n        sub = borrow + valueTwo - valueOne;\n    }\n    if (sub &lt; 0) {\n        borrow = -1;\n        sub += 10;\n    } else {\n        borrow = 0;\n    }\n    System.out.format(&quot;borrow: %d; sub: %d.%n&quot;, borrow, sub);\n</code></pre>\n<p>Expected output:</p>\n<blockquote>\n<p>borrow: -1; sub: 7.</p>\n</blockquote>\n<p>Observed output:</p>\n<blockquote>\n<p>borrow: 0; sub: 3.</p>\n</blockquote>\n<p>I have two linked list stack implementations without using collections. This method is supposed to process any length numbers and subtract them. the method works when the isn't any borrowing in the process but does not work when subtraction requires borrowing. I can not figure the logic when the subtraction requires borrowing! Any help</p>\n<p>Here is the method</p>\n<pre><code>    public static void subtractRoutine(String operndOne, String operndTwo) {\n        int sub =0, borrow =0, valueOne, valueTwo;\n        pushToLsLeft(padZero(operndOne, operndTwo)[ZERO]);\n        pushToLsRight(padZero(operndOne, operndTwo)[ONE]);\n//      System.out.println(left);\n        left.reverseLinkLsStack();\n        right.reverseLinkLsStack();\n        while(left.sizeLinkedLs() &gt; ZERO &amp;&amp; right.sizeLinkedLs() &gt; ZERO) {\n            valueOne = Character.getNumericValue(left.pop());\n            valueTwo = Character.getNumericValue(right.pop());\n// --------------------------- please, only focus on the logic below. Everything above works fine.\n            if(valueOne &gt; valueTwo) {\n                sub = borrow + valueOne - valueTwo;\n            \n                \n            } else {\n                sub = borrow + valueTwo - valueOne;\n//              System.out.println(sub);\n            }\n            if (sub &lt; 0) {\n                borrow = -1;\n                sub += 10;\n            } else {\n                borrow = 0;\n            }\n//          System.out.println(sub);\n            result.push(sub);\n        }\n    }\n</code></pre>\n<p>if I input this</p>\n<pre><code>250 + -150\n-250 + 150\n120 + -50\n</code></pre>\n<p>the output would be</p>\n<pre><code>250\n-150\n0100\n\n-250\n150\n-0100\n\n// the problem is here\n120\n-50\n0130\n\n</code></pre>\n"},{"tags":["java","reactive","flux"],"comments":[{"owner":{"account_id":6520606,"reputation":1189,"user_id":6270888,"accept_rate":50,"display_name":"Alanpatchi"},"score":0,"creation_date":1636495964,"post_id":69905524,"comment_id":123572154,"body_markdown":"I see that `.flatMap(idS3Object -&gt; Mono.just(s3Object))` is not necessary and also the error gets handled properly if its omitted. May I know why you need that step?","body":"I see that <code>.flatMap(idS3Object -&gt; Mono.just(s3Object))</code> is not necessary and also the error gets handled properly if its omitted. May I know why you need that step?"}],"answers":[{"tags":[],"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636500219,"creation_date":1636500219,"answer_id":69906273,"question_id":69905524,"body_markdown":"You would want to use something like [`onErrorContinue`](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#onErrorContinue-java.util.function.BiConsumer-).\r\n\r\nAlso, this `.ordered((u1, u2) -&gt; u2.hashCode() - u1.hashCode())` does not really makes sense, you can have something like `sequential` instead to merge &quot;rails&quot;.\r\n\r\nBesides, I don&#39;t really understand this: `.flatMap(idS3Object -&gt; Mono.just(s3Object))`. First of all, as it is, it does not compile, probably you have a typo there and you wanted something `flatMap(idS3Object -&gt; Mono.just(s3Object))`. In this form, creating a `Mono` from an object and doing a `flatMap` on it is entirely pointless. \r\n\r\nPutting this all together, I assume you wanted something like this:\r\n\r\n```\r\nFlux&lt;S3Object&gt; s3ObjectFlux = Flux.fromStream(tagIds.stream())\r\n        .parallel()\r\n        .runOn(Schedulers.boundedElastic())\r\n        .flatMap(this::fetchResources)\r\n        .sequential()\r\n        .onErrorContinue((error, object) -&gt; {\r\n            log.error(error);\r\n        });\r\n```","title":"How to handle exception throw in Flux.fromStream","body":"<p>You would want to use something like <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#onErrorContinue-java.util.function.BiConsumer-\" rel=\"nofollow noreferrer\"><code>onErrorContinue</code></a>.</p>\n<p>Also, this <code>.ordered((u1, u2) -&gt; u2.hashCode() - u1.hashCode())</code> does not really makes sense, you can have something like <code>sequential</code> instead to merge &quot;rails&quot;.</p>\n<p>Besides, I don't really understand this: <code>.flatMap(idS3Object -&gt; Mono.just(s3Object))</code>. First of all, as it is, it does not compile, probably you have a typo there and you wanted something <code>flatMap(idS3Object -&gt; Mono.just(s3Object))</code>. In this form, creating a <code>Mono</code> from an object and doing a <code>flatMap</code> on it is entirely pointless.</p>\n<p>Putting this all together, I assume you wanted something like this:</p>\n<pre><code>Flux&lt;S3Object&gt; s3ObjectFlux = Flux.fromStream(tagIds.stream())\n        .parallel()\n        .runOn(Schedulers.boundedElastic())\n        .flatMap(this::fetchResources)\n        .sequential()\n        .onErrorContinue((error, object) -&gt; {\n            log.error(error);\n        });\n</code></pre>\n"}],"owner":{"account_id":1746735,"reputation":1497,"user_id":1596751,"accept_rate":46,"display_name":"plzdontkillme"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636500219,"creation_date":1636494463,"question_id":69905524,"body_markdown":"        public Mono&lt;ResponseEntity&lt;Data&gt;&gt; getData(@RequestParam List&lt;String&gt; tagIds){\r\n       \r\n       Flux&lt;S3Object&gt; s3ObjectFlux = Flux.fromStream(tagIds.stream())\r\n               .parallel()\r\n               .runOn(Schedulers.boundedElastic())\r\n               .flatMap(id -&gt; fetchResources(id)) //S3Exception is thrown here \r\n               .flatMap(idS3Object -&gt; Mono.just(s3Object))\r\n               .doOnError((throwable) -&gt; log.error(throwable))\r\n               .ordered((u1, u2) -&gt; u2.hashCode() - u1.hashCode());\r\n    \r\n       Mono&lt;Data&gt; data = s3ObjectFlux.collectList()\r\n               .map(s3Objects -&gt; new Data(s3Objects));  \r\n    }\r\n\r\nI am iterating through tagIds and fetching the s3 objects here, if the object is not there or any exception is thrown, I want to log and ignore it and continue with next. But in this case if the S3Exception is thrown from fetchResource method while iterating, error is thrown to user as 500 instead I want empty list.\r\n\r\nI dont see other options like onErrorMap or onErrorReturn","title":"How to handle exception throw in Flux.fromStream","body":"<pre><code>    public Mono&lt;ResponseEntity&lt;Data&gt;&gt; getData(@RequestParam List&lt;String&gt; tagIds){\n   \n   Flux&lt;S3Object&gt; s3ObjectFlux = Flux.fromStream(tagIds.stream())\n           .parallel()\n           .runOn(Schedulers.boundedElastic())\n           .flatMap(id -&gt; fetchResources(id)) //S3Exception is thrown here \n           .flatMap(idS3Object -&gt; Mono.just(s3Object))\n           .doOnError((throwable) -&gt; log.error(throwable))\n           .ordered((u1, u2) -&gt; u2.hashCode() - u1.hashCode());\n\n   Mono&lt;Data&gt; data = s3ObjectFlux.collectList()\n           .map(s3Objects -&gt; new Data(s3Objects));  \n}\n</code></pre>\n<p>I am iterating through tagIds and fetching the s3 objects here, if the object is not there or any exception is thrown, I want to log and ignore it and continue with next. But in this case if the S3Exception is thrown from fetchResource method while iterating, error is thrown to user as 500 instead I want empty list.</p>\n<p>I dont see other options like onErrorMap or onErrorReturn</p>\n"},{"tags":["java","intellij-idea","bazel","mapstruct","annotation-processing"],"comments":[{"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1636514152,"post_id":69906272,"comment_id":123575391,"body_markdown":"Do you use [bazel plugin](https://plugins.jetbrains.com/plugin/8609-bazel)  by google?","body":"Do you use <a href=\"https://plugins.jetbrains.com/plugin/8609-bazel\" rel=\"nofollow noreferrer\">bazel plugin</a>  by google?"},{"owner":{"account_id":9594919,"reputation":478,"user_id":7124380,"accept_rate":83,"display_name":"Warren Crasta"},"score":0,"creation_date":1636515046,"post_id":69906272,"comment_id":123575537,"body_markdown":"@KonstantinAnnikov yup. As mentioned in the question, I&#39;m using Bazel plugin 2021.08.24.0.0-api-version-211.","body":"@KonstantinAnnikov yup. As mentioned in the question, I&#39;m using Bazel plugin 2021.08.24.0.0-api-version-211."},{"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":1,"creation_date":1636521170,"post_id":69906272,"comment_id":123576474,"body_markdown":"Seems to be a plugin&#39;s bug. Try raising a bug request on their github","body":"Seems to be a plugin&#39;s bug. Try raising a bug request on their github"}],"owner":{"account_id":9594919,"reputation":478,"user_id":7124380,"accept_rate":83,"display_name":"Warren Crasta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636500169,"creation_date":1636500169,"question_id":69906272,"body_markdown":"I&#39;m having issues getting IntelliJ to recognize MapStruct generated files in a Bazel project. When I build the Bazel package which contains the mapper (using a partial sync in IntelliJ), it correctly generates the mapping code which is placed in a directory under &quot;External Libraries&quot;. The issue, however, is that IntelliJ doesn’t recognize that the the interface I wrote (i.e. the mapper) has an implementation (i.e. the generated files).\r\n\r\nThis issue can be reproduced with the [mapstruct-on-bazel](https://github.com/mapstruct/mapstruct-examples/tree/master/mapstruct-on-bazel) project in IntelliJ. For reference, I have IntelliJ 2021.1.3 (Community Edition), MapStruct Support 1.3.0 plugin, and the Bazel 2021.08.24.0.0-api-version-211 plugin.\r\n\r\nRather than being a MapStruct problem, I think the issue is that IntelliJ does not recognize the output of annotation processors (like MapStruct) for Bazel projects.\r\nFrom [configuring annotation processors](https://www.jetbrains.com/help/idea/annotation-processors-support.html):\r\n\r\n&gt; When you add annotation processors through the build scripts in Maven or Gradle projects, IntelliJ IDEA automatically enables the annotation processing and adds the appropriate paths in the annotation processor settings.\r\n\r\nIt seems that for Bazel projects (in contrast to Maven and Gradle projects) the solution might be to configure an annotation profile manually. However, I&#39;m unsure what values to put in the annotation profile dialog or if this really is the correct way to get IntelliJ to recognize generated files for Bazel projects.","title":"IntelliJ support for MapStruct in a Bazel Project?","body":"<p>I'm having issues getting IntelliJ to recognize MapStruct generated files in a Bazel project. When I build the Bazel package which contains the mapper (using a partial sync in IntelliJ), it correctly generates the mapping code which is placed in a directory under &quot;External Libraries&quot;. The issue, however, is that IntelliJ doesn’t recognize that the the interface I wrote (i.e. the mapper) has an implementation (i.e. the generated files).</p>\n<p>This issue can be reproduced with the <a href=\"https://github.com/mapstruct/mapstruct-examples/tree/master/mapstruct-on-bazel\" rel=\"nofollow noreferrer\">mapstruct-on-bazel</a> project in IntelliJ. For reference, I have IntelliJ 2021.1.3 (Community Edition), MapStruct Support 1.3.0 plugin, and the Bazel 2021.08.24.0.0-api-version-211 plugin.</p>\n<p>Rather than being a MapStruct problem, I think the issue is that IntelliJ does not recognize the output of annotation processors (like MapStruct) for Bazel projects.\nFrom <a href=\"https://www.jetbrains.com/help/idea/annotation-processors-support.html\" rel=\"nofollow noreferrer\">configuring annotation processors</a>:</p>\n<blockquote>\n<p>When you add annotation processors through the build scripts in Maven or Gradle projects, IntelliJ IDEA automatically enables the annotation processing and adds the appropriate paths in the annotation processor settings.</p>\n</blockquote>\n<p>It seems that for Bazel projects (in contrast to Maven and Gradle projects) the solution might be to configure an annotation profile manually. However, I'm unsure what values to put in the annotation profile dialog or if this really is the correct way to get IntelliJ to recognize generated files for Bazel projects.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1636410609,"post_id":69890669,"comment_id":123545118,"body_markdown":"Note that every recursive call you open a new `PrintWriter` to the file. Not positive, but I would not be surprised if that was the cause of your issue, as I believe if the file exists then it is truncated to 0 bytes.","body":"Note that every recursive call you open a new <code>PrintWriter</code> to the file. Not positive, but I would not be surprised if that was the cause of your issue, as I believe if the file exists then it is truncated to 0 bytes."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1636410719,"post_id":69890669,"comment_id":123545141,"body_markdown":"Also think you might need to manually flush the stream by calling `flush()`. Some streams will auto-flush occasionally. Not sure about PrintWriter though","body":"Also think you might need to manually flush the stream by calling <code>flush()</code>. Some streams will auto-flush occasionally. Not sure about PrintWriter though"}],"answers":[{"tags":[],"owner":{"account_id":19511609,"reputation":1,"user_id":14275455,"display_name":"Danillo Fortuna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636500061,"creation_date":1636411608,"answer_id":69890809,"question_id":69890669,"body_markdown":"You should close the printWriter to persist the data in the file.\r\n\r\nTry this:\r\n\r\n```\r\n\tpublic static void main(String[] args) throws FileNotFoundException {\r\n        File file = new File(&quot;In0103.txt&quot;);\r\n        Scanner in = new Scanner(file);\r\n        int maxWidth = in.nextInt();\r\n        int initialWidth = 1;\r\n        int initialLevel = 1;\r\n        int maxLevel = (maxWidth + 1) / 2;\r\n        int freeSpace = maxLevel - 1;\r\n\r\n        printChristmasTree(initialWidth, initialLevel, maxLevel, freeSpace, null);\r\n    }\r\n\r\n    static void printChristmasTree(int width, int level, int maxLevel, int freeSpace, PrintWriter save) throws FileNotFoundException {\r\n        if(save == null) {\r\n        \tsave = new PrintWriter(&quot;Out0103.txt&quot;);\r\n        }\r\n        if (level &lt; maxLevel) {\r\n            save.print(Stream.generate(() -&gt; &quot; &quot;).limit(freeSpace).collect(Collectors.joining()));\r\n            save.println(Stream.generate(() -&gt; &quot;*&quot;).limit(width).collect(Collectors.joining()));\r\n            printChristmasTree(width = width + 2, ++level, maxLevel, --freeSpace, save);\r\n        } else {\r\n            save.print(Stream.generate(() -&gt; &quot; &quot;).limit(freeSpace).collect(Collectors.joining()));\r\n            save.println(Stream.generate(() -&gt; &quot;*&quot;).limit(width).collect(Collectors.joining()));            \r\n            save.close();\r\n        }\r\n              \r\n    }\r\n```","title":"Nothing shows up when trying to print Christmas Tree","body":"<p>You should close the printWriter to persist the data in the file.</p>\n<p>Try this:</p>\n<pre><code>    public static void main(String[] args) throws FileNotFoundException {\n        File file = new File(&quot;In0103.txt&quot;);\n        Scanner in = new Scanner(file);\n        int maxWidth = in.nextInt();\n        int initialWidth = 1;\n        int initialLevel = 1;\n        int maxLevel = (maxWidth + 1) / 2;\n        int freeSpace = maxLevel - 1;\n\n        printChristmasTree(initialWidth, initialLevel, maxLevel, freeSpace, null);\n    }\n\n    static void printChristmasTree(int width, int level, int maxLevel, int freeSpace, PrintWriter save) throws FileNotFoundException {\n        if(save == null) {\n            save = new PrintWriter(&quot;Out0103.txt&quot;);\n        }\n        if (level &lt; maxLevel) {\n            save.print(Stream.generate(() -&gt; &quot; &quot;).limit(freeSpace).collect(Collectors.joining()));\n            save.println(Stream.generate(() -&gt; &quot;*&quot;).limit(width).collect(Collectors.joining()));\n            printChristmasTree(width = width + 2, ++level, maxLevel, --freeSpace, save);\n        } else {\n            save.print(Stream.generate(() -&gt; &quot; &quot;).limit(freeSpace).collect(Collectors.joining()));\n            save.println(Stream.generate(() -&gt; &quot;*&quot;).limit(width).collect(Collectors.joining()));            \n            save.close();\n        }\n              \n    }\n</code></pre>\n"}],"owner":{"account_id":20944776,"reputation":33,"user_id":15387912,"display_name":"Rafał Masny"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636500061,"creation_date":1636410408,"question_id":69890669,"body_markdown":"The task is to create a Christmas tree from stars. The length of the base is specified by the user in the file. The Christmas tree should be displayed in a different file. Of course, recursively.The problem is that nothing in the file shows up. What did I do wrong?\r\n\r\n\r\n    public static void main(String[] args) throws FileNotFoundException {\r\n        File file = new File(&quot;In0103.txt&quot;);\r\n        Scanner in = new Scanner(file);\r\n        int maxWidth = in.nextInt();\r\n        int initialWidth = 1;\r\n        int initialLevel = 1;\r\n        int maxLevel = (maxWidth + 1) / 2;\r\n        int freeSpace = maxLevel - 1;\r\n\r\n        printChristmasTree(initialWidth, initialLevel, maxLevel, freeSpace);\r\n    }\r\n\r\n    static void printChristmasTree(int width, int level, int maxLevel, int freeSpace) throws FileNotFoundException {\r\n        PrintWriter save = new PrintWriter(&quot;Out0103.txt&quot;);\r\n        if (level &lt; maxLevel) {\r\n            save.println(Stream.generate(() - &gt; &quot; &quot;).limit(freeSpace).collect(Collectors.joining()));\r\n            save.println(Stream.generate(() - &gt; &quot;*&quot;).limit(width).collect(Collectors.joining()));\r\n            save.println();\r\n            printChristmasTree(width = width + 2, ++level, maxLevel, --freeSpace);\r\n        } else {\r\n            save.println(Stream.generate(() - &gt; &quot; &quot;).limit(freeSpace).collect(Collectors.joining()));\r\n            save.println(Stream.generate(() - &gt; &quot;*&quot;).limit(width).collect(Collectors.joining()));\r\n        }\r\n    }\r\n","title":"Nothing shows up when trying to print Christmas Tree","body":"<p>The task is to create a Christmas tree from stars. The length of the base is specified by the user in the file. The Christmas tree should be displayed in a different file. Of course, recursively.The problem is that nothing in the file shows up. What did I do wrong?</p>\n<pre><code>public static void main(String[] args) throws FileNotFoundException {\n    File file = new File(&quot;In0103.txt&quot;);\n    Scanner in = new Scanner(file);\n    int maxWidth = in.nextInt();\n    int initialWidth = 1;\n    int initialLevel = 1;\n    int maxLevel = (maxWidth + 1) / 2;\n    int freeSpace = maxLevel - 1;\n\n    printChristmasTree(initialWidth, initialLevel, maxLevel, freeSpace);\n}\n\nstatic void printChristmasTree(int width, int level, int maxLevel, int freeSpace) throws FileNotFoundException {\n    PrintWriter save = new PrintWriter(&quot;Out0103.txt&quot;);\n    if (level &lt; maxLevel) {\n        save.println(Stream.generate(() - &gt; &quot; &quot;).limit(freeSpace).collect(Collectors.joining()));\n        save.println(Stream.generate(() - &gt; &quot;*&quot;).limit(width).collect(Collectors.joining()));\n        save.println();\n        printChristmasTree(width = width + 2, ++level, maxLevel, --freeSpace);\n    } else {\n        save.println(Stream.generate(() - &gt; &quot; &quot;).limit(freeSpace).collect(Collectors.joining()));\n        save.println(Stream.generate(() - &gt; &quot;*&quot;).limit(width).collect(Collectors.joining()));\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","pdf"],"answers":[{"tags":[],"owner":{"account_id":10766,"reputation":48405,"user_id":20481,"accept_rate":100,"display_name":"plinth"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1247661349,"creation_date":1247661349,"answer_id":1131136,"question_id":1131116,"body_markdown":"PDFs may contain binary data and chances are it&#39;s getting mangled when you do ToString.\r\nIt seems to me that you want this:\r\n\r\n\r\n            FileInputStream inputStream = new FileInputStream(sourcePath);\r\n\r\n            int numberBytes = inputStream .available();\r\n            byte bytearray[] = new byte[numberBytes];\r\n\r\n            inputStream .read(bytearray);\r\n","title":"PDF to byte array and vice versa","body":"<p>PDFs may contain binary data and chances are it's getting mangled when you do ToString.\nIt seems to me that you want this:</p>\n\n<pre><code>        FileInputStream inputStream = new FileInputStream(sourcePath);\n\n        int numberBytes = inputStream .available();\n        byte bytearray[] = new byte[numberBytes];\n\n        inputStream .read(bytearray);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27004,"reputation":28823,"user_id":70795,"accept_rate":56,"display_name":"Mark"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1403685500,"creation_date":1247661368,"answer_id":1131141,"question_id":1131116,"body_markdown":"The problem is that you are calling `toString()` on the `InputStream` object itself. This will return a `String` representation of the `InputStream` object not the actual PDF document.\r\n\r\nYou want to read the PDF only as bytes as PDF is a binary format. You will then be able to write out that same `byte` array and it will be a valid PDF as it has not been modified.\r\n\r\ne.g. to read a file as bytes\r\n\r\n    File file = new File(sourcePath);\r\n    InputStream inputStream = new FileInputStream(file); \r\n    byte[] bytes = new byte[file.length()];\r\n    inputStream.read(bytes);","title":"PDF to byte array and vice versa","body":"<p>The problem is that you are calling <code>toString()</code> on the <code>InputStream</code> object itself. This will return a <code>String</code> representation of the <code>InputStream</code> object not the actual PDF document.</p>\n\n<p>You want to read the PDF only as bytes as PDF is a binary format. You will then be able to write out that same <code>byte</code> array and it will be a valid PDF as it has not been modified.</p>\n\n<p>e.g. to read a file as bytes</p>\n\n<pre><code>File file = new File(sourcePath);\nInputStream inputStream = new FileInputStream(file); \nbyte[] bytes = new byte[file.length()];\ninputStream.read(bytes);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25331,"reputation":60040,"user_id":65070,"accept_rate":82,"display_name":"Eric Petroelje"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1403684965,"creation_date":1247661658,"answer_id":1131172,"question_id":1131116,"body_markdown":"Calling `toString()` on an `InputStream` doesn&#39;t do what you think it does.  Even if it did, a PDF contains binary data, so you wouldn&#39;t want to convert it to a string first.\r\n\r\nWhat you need to do is read from the stream, write the results into a `ByteArrayOutputStream`, then convert the `ByteArrayOutputStream` into an actual `byte` array by calling `toByteArray()`:\r\n\r\n    InputStream inputStream = new FileInputStream(sourcePath);\r\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n\r\n    int data;\r\n    while( (data = inputStream.read()) &gt;= 0 ) {\r\n        outputStream.write(data);\r\n    }\r\n\r\n    inputStream.close();\r\n    return outputStream.toByteArray();\r\n\r\n","title":"PDF to byte array and vice versa","body":"<p>Calling <code>toString()</code> on an <code>InputStream</code> doesn't do what you think it does.  Even if it did, a PDF contains binary data, so you wouldn't want to convert it to a string first.</p>\n\n<p>What you need to do is read from the stream, write the results into a <code>ByteArrayOutputStream</code>, then convert the <code>ByteArrayOutputStream</code> into an actual <code>byte</code> array by calling <code>toByteArray()</code>:</p>\n\n<pre><code>InputStream inputStream = new FileInputStream(sourcePath);\nByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n\nint data;\nwhile( (data = inputStream.read()) &gt;= 0 ) {\n    outputStream.write(data);\n}\n\ninputStream.close();\nreturn outputStream.toByteArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1330327909,"creation_date":1247661727,"answer_id":1131178,"question_id":1131116,"body_markdown":"You basically need a helper method to read a stream into memory. This works pretty well:\r\n\r\n    public static byte[] readFully(InputStream stream) throws IOException\r\n    {\r\n        byte[] buffer = new byte[8192];\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\r\n        int bytesRead;\r\n        while ((bytesRead = stream.read(buffer)) != -1)\r\n        {\r\n            baos.write(buffer, 0, bytesRead);\r\n        }\r\n        return baos.toByteArray();\r\n    }\r\n\r\nThen you&#39;d call it with:\r\n\r\n    public static byte[] loadFile(String sourcePath) throws IOException\r\n    {\r\n        InputStream inputStream = null;\r\n        try \r\n        {\r\n            inputStream = new FileInputStream(sourcePath);\r\n            return readFully(inputStream);\r\n        } \r\n        finally\r\n        {\r\n            if (inputStream != null)\r\n            {\r\n                inputStream.close();\r\n            }\r\n        }\r\n    }\r\n\r\n*Don&#39;t* mix up text and binary data - it only leads to tears.","title":"PDF to byte array and vice versa","body":"<p>You basically need a helper method to read a stream into memory. This works pretty well:</p>\n\n<pre><code>public static byte[] readFully(InputStream stream) throws IOException\n{\n    byte[] buffer = new byte[8192];\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n\n    int bytesRead;\n    while ((bytesRead = stream.read(buffer)) != -1)\n    {\n        baos.write(buffer, 0, bytesRead);\n    }\n    return baos.toByteArray();\n}\n</code></pre>\n\n<p>Then you'd call it with:</p>\n\n<pre><code>public static byte[] loadFile(String sourcePath) throws IOException\n{\n    InputStream inputStream = null;\n    try \n    {\n        inputStream = new FileInputStream(sourcePath);\n        return readFully(inputStream);\n    } \n    finally\n    {\n        if (inputStream != null)\n        {\n            inputStream.close();\n        }\n    }\n}\n</code></pre>\n\n<p><em>Don't</em> mix up text and binary data - it only leads to tears.</p>\n"},{"tags":[],"owner":{"account_id":31742,"reputation":15190,"user_id":87416,"accept_rate":84,"display_name":"David"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1247661937,"creation_date":1247661937,"answer_id":1131192,"question_id":1131116,"body_markdown":"Are&#39;nt you creating the pdf file but not actually writing the byte array back? Therefore you cannot open the PDF. \r\n\r\n    out = new FileOutputStream(&quot;D:/ABC_XYZ/1.pdf&quot;);\r\n    out.Write(b, 0, b.Length);\r\n    out.Position = 0;\r\n    out.Close();\r\n\r\nThis is in addition to correctly reading in the PDF to byte array.","title":"PDF to byte array and vice versa","body":"<p>Are'nt you creating the pdf file but not actually writing the byte array back? Therefore you cannot open the PDF. </p>\n\n<pre><code>out = new FileOutputStream(\"D:/ABC_XYZ/1.pdf\");\nout.Write(b, 0, b.Length);\nout.Position = 0;\nout.Close();\n</code></pre>\n\n<p>This is in addition to correctly reading in the PDF to byte array.</p>\n"},{"tags":[],"owner":{"account_id":226571,"reputation":5653,"user_id":487694,"accept_rate":67,"display_name":"Narendra"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1403684972,"creation_date":1297364491,"answer_id":4961422,"question_id":1131116,"body_markdown":"You can do it by using `Apache Commons IO` without worrying about internal details.\r\n\r\nUse `org.apache.commons.io.FileUtils.readFileToByteArray(File&#160;file)` which return data of type `byte[]`.\r\n\r\n\r\n[Click here for Javadoc](http://commons.apache.org/io/api-1.4/org/apache/commons/io/FileUtils.html#readFileToByteArray(java.io.File))","title":"PDF to byte array and vice versa","body":"<p>You can do it by using <code>Apache Commons IO</code> without worrying about internal details.</p>\n\n<p>Use <code>org.apache.commons.io.FileUtils.readFileToByteArray(File file)</code> which return data of type <code>byte[]</code>.</p>\n\n<p><a href=\"http://commons.apache.org/io/api-1.4/org/apache/commons/io/FileUtils.html#readFileToByteArray%28java.io.File%29\" rel=\"noreferrer\">Click here for Javadoc</a></p>\n"},{"tags":[],"owner":{"account_id":1101381,"reputation":2436,"user_id":1093710,"accept_rate":95,"display_name":"Sridhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1335722383,"creation_date":1335722035,"answer_id":10374481,"question_id":1131116,"body_markdown":"This works for me:\r\n\r\n    try(InputStream pdfin = new FileInputStream(&quot;input.pdf&quot;);OutputStream pdfout = new FileOutputStream(&quot;output.pdf&quot;)){\r\n        byte[] buffer = new byte[1024];\r\n        int bytesRead;\r\n        while((bytesRead = pdfin.read(buffer))!=-1){\r\n            pdfout.write(buffer,0,bytesRead);\r\n        }\r\n    }\r\n\r\nBut Jon&#39;s answer doesn&#39;t work for me if used in the following way:\r\n\r\n    try(InputStream pdfin = new FileInputStream(&quot;input.pdf&quot;);OutputStream pdfout = new FileOutputStream(&quot;output.pdf&quot;)){\r\n\r\n        int k = readFully(pdfin).length;\r\n        System.out.println(k);\r\n    }\r\n\r\nOutputs zero as length. Why is that ? ","title":"PDF to byte array and vice versa","body":"<p>This works for me:</p>\n\n<pre><code>try(InputStream pdfin = new FileInputStream(\"input.pdf\");OutputStream pdfout = new FileOutputStream(\"output.pdf\")){\n    byte[] buffer = new byte[1024];\n    int bytesRead;\n    while((bytesRead = pdfin.read(buffer))!=-1){\n        pdfout.write(buffer,0,bytesRead);\n    }\n}\n</code></pre>\n\n<p>But Jon's answer doesn't work for me if used in the following way:</p>\n\n<pre><code>try(InputStream pdfin = new FileInputStream(\"input.pdf\");OutputStream pdfout = new FileOutputStream(\"output.pdf\")){\n\n    int k = readFully(pdfin).length;\n    System.out.println(k);\n}\n</code></pre>\n\n<p>Outputs zero as length. Why is that ? </p>\n"},{"tags":[],"owner":{"account_id":319126,"reputation":2803,"user_id":636733,"accept_rate":76,"display_name":"HRVHackers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403689515,"creation_date":1394221734,"answer_id":22259359,"question_id":1131116,"body_markdown":"None of these worked for us, possibly because our `inputstream` was `byte`s from a rest call, and not from a locally hosted pdf file. What worked was using `RestAssured` to read the PDF as an input stream, and then using Tika pdf reader to parse it and then call the `toString()` method.         \r\n\r\n    import com.jayway.restassured.RestAssured;\r\n    import com.jayway.restassured.response.Response;\r\n    import com.jayway.restassured.response.ResponseBody;\r\n    \r\n    import org.apache.tika.exception.TikaException;\r\n    import org.apache.tika.metadata.Metadata;\r\n    import org.apache.tika.parser.AutoDetectParser;\r\n    import org.apache.tika.parser.ParseContext;\r\n    import org.apache.tika.sax.BodyContentHandler;\r\n    import org.apache.tika.parser.Parser;\r\n    import org.xml.sax.ContentHandler;\r\n    import org.xml.sax.SAXException;\r\n\r\n                InputStream stream = response.asInputStream();\r\n    \t\t\tParser parser = new AutoDetectParser(); // Should auto-detect!\r\n    \t        ContentHandler handler = new BodyContentHandler();\r\n    \t        Metadata metadata = new Metadata();\r\n    \t        ParseContext context = new ParseContext();\r\n    \t        \r\n    \t        try {\r\n    \t            parser.parse(stream, handler, metadata, context);\r\n    \t        } finally {\r\n    \t            stream.close();\r\n    \t        }\r\n    \t        for (int i = 0; i &lt; metadata.names().length; i++) {\r\n    \t            String item = metadata.names()[i];\r\n    \t            System.out.println(item + &quot; -- &quot; + metadata.get(item));\r\n    \t        }\r\n    \r\n    \t        System.out.println(&quot;!!Printing pdf content: \\n&quot; +handler.toString());\r\n    \t        System.out.println(&quot;content type: &quot; + metadata.get(Metadata.CONTENT_TYPE));","title":"PDF to byte array and vice versa","body":"<p>None of these worked for us, possibly because our <code>inputstream</code> was <code>byte</code>s from a rest call, and not from a locally hosted pdf file. What worked was using <code>RestAssured</code> to read the PDF as an input stream, and then using Tika pdf reader to parse it and then call the <code>toString()</code> method.         </p>\n\n<pre><code>import com.jayway.restassured.RestAssured;\nimport com.jayway.restassured.response.Response;\nimport com.jayway.restassured.response.ResponseBody;\n\nimport org.apache.tika.exception.TikaException;\nimport org.apache.tika.metadata.Metadata;\nimport org.apache.tika.parser.AutoDetectParser;\nimport org.apache.tika.parser.ParseContext;\nimport org.apache.tika.sax.BodyContentHandler;\nimport org.apache.tika.parser.Parser;\nimport org.xml.sax.ContentHandler;\nimport org.xml.sax.SAXException;\n\n            InputStream stream = response.asInputStream();\n            Parser parser = new AutoDetectParser(); // Should auto-detect!\n            ContentHandler handler = new BodyContentHandler();\n            Metadata metadata = new Metadata();\n            ParseContext context = new ParseContext();\n\n            try {\n                parser.parse(stream, handler, metadata, context);\n            } finally {\n                stream.close();\n            }\n            for (int i = 0; i &lt; metadata.names().length; i++) {\n                String item = metadata.names()[i];\n                System.out.println(item + \" -- \" + metadata.get(item));\n            }\n\n            System.out.println(\"!!Printing pdf content: \\n\" +handler.toString());\n            System.out.println(\"content type: \" + metadata.get(Metadata.CONTENT_TYPE));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":136833,"reputation":1449,"user_id":340613,"display_name":"Chris Clark"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1470777152,"creation_date":1414596064,"answer_id":26634195,"question_id":1131116,"body_markdown":"Java 7 introduced `Files.readAllBytes()`, which can read a PDF into a `byte[]` like so:\r\n\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.nio.file.Files;\r\n\r\n    Path pdfPath = Paths.get(&quot;/path/to/file.pdf&quot;);\r\n\tbyte[] pdf = Files.readAllBytes(pdfPath);\r\n\r\nEDIT:\r\n\r\nThanks Farooque for pointing out: this will work for reading any kind of file, not just PDFs. All files are ultimately just a bunch of bytes, and as such can be read into a `byte[]`.","title":"PDF to byte array and vice versa","body":"<p>Java 7 introduced <code>Files.readAllBytes()</code>, which can read a PDF into a <code>byte[]</code> like so:</p>\n\n<pre><code>import java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.nio.file.Files;\n\nPath pdfPath = Paths.get(\"/path/to/file.pdf\");\nbyte[] pdf = Files.readAllBytes(pdfPath);\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>Thanks Farooque for pointing out: this will work for reading any kind of file, not just PDFs. All files are ultimately just a bunch of bytes, and as such can be read into a <code>byte[]</code>.</p>\n"},{"tags":[],"owner":{"account_id":6752592,"reputation":190,"user_id":5202176,"display_name":"Samy Nagy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1439752662,"creation_date":1439749828,"answer_id":32038519,"question_id":1131116,"body_markdown":"    public static void main(String[] args) throws FileNotFoundException, IOException {\r\n            File file = new File(&quot;java.pdf&quot;);\r\n     \r\n            FileInputStream fis = new FileInputStream(file);\r\n            //System.out.println(file.exists() + &quot;!!&quot;);\r\n            //InputStream in = resource.openStream();\r\n            ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n            byte[] buf = new byte[1024];\r\n            try {\r\n                for (int readNum; (readNum = fis.read(buf)) != -1;) {\r\n                    bos.write(buf, 0, readNum); //no doubt here is 0\r\n                    //Writes len bytes from the specified byte array starting at offset off to this byte array output stream.\r\n                    System.out.println(&quot;read &quot; + readNum + &quot; bytes,&quot;);\r\n                }\r\n            } catch (IOException ex) {\r\n                Logger.getLogger(genJpeg.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n            byte[] bytes = bos.toByteArray();\r\n     \r\n            //below is the different part\r\n            File someFile = new File(&quot;java2.pdf&quot;);\r\n            FileOutputStream fos = new FileOutputStream(someFile);\r\n            fos.write(bytes);\r\n            fos.flush();\r\n            fos.close();\r\n        }","title":"PDF to byte array and vice versa","body":"<pre><code>public static void main(String[] args) throws FileNotFoundException, IOException {\n        File file = new File(\"java.pdf\");\n\n        FileInputStream fis = new FileInputStream(file);\n        //System.out.println(file.exists() + \"!!\");\n        //InputStream in = resource.openStream();\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\n        byte[] buf = new byte[1024];\n        try {\n            for (int readNum; (readNum = fis.read(buf)) != -1;) {\n                bos.write(buf, 0, readNum); //no doubt here is 0\n                //Writes len bytes from the specified byte array starting at offset off to this byte array output stream.\n                System.out.println(\"read \" + readNum + \" bytes,\");\n            }\n        } catch (IOException ex) {\n            Logger.getLogger(genJpeg.class.getName()).log(Level.SEVERE, null, ex);\n        }\n        byte[] bytes = bos.toByteArray();\n\n        //below is the different part\n        File someFile = new File(\"java2.pdf\");\n        FileOutputStream fos = new FileOutputStream(someFile);\n        fos.write(bytes);\n        fos.flush();\n        fos.close();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7869735,"reputation":1778,"user_id":5947458,"display_name":"Riddhi Gohil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1461662237,"creation_date":1461662237,"answer_id":36860519,"question_id":1131116,"body_markdown":"&gt; To convert pdf to byteArray **:**\r\n\r\n    public byte[] pdfToByte(String filePath)throws JRException {\r\n    \t\t\t\t\r\n    \t\t File file = new File(&lt;filePath&gt;);\r\n    \t\t FileInputStream fileInputStream;\r\n    \t\t byte[] data = null;\r\n    \t\t byte[] finalData = null;\r\n    \t\t ByteArrayOutputStream byteArrayOutputStream = null;\r\n    \t\t\r\n    \t\t try {\r\n    \t\t\tfileInputStream = new FileInputStream(file);\r\n    \t\t\tdata = new byte[(int)file.length()];\r\n    \t\t\tfinalData = new byte[(int)file.length()];\r\n    \t\t\tbyteArrayOutputStream = new ByteArrayOutputStream();\r\n    \t\t\t\r\n    \t\t\tfileInputStream.read(data);\r\n    \t\t\tbyteArrayOutputStream.write(data);\r\n    \t\t\tfinalData = byteArrayOutputStream.toByteArray();\r\n    \t\t\t\r\n    \t\t\tfileInputStream.close(); \r\n    \t\t\t\r\n    \t\t} catch (FileNotFoundException e) {\r\n    \t\t\tLOGGER.info(&quot;File not found&quot; + e);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tLOGGER.info(&quot;IO exception&quot; + e);\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn finalData;\r\n    \t\t\r\n    \t}","title":"PDF to byte array and vice versa","body":"<blockquote>\n  <p>To convert pdf to byteArray <strong>:</strong></p>\n</blockquote>\n\n<pre><code>public byte[] pdfToByte(String filePath)throws JRException {\n\n         File file = new File(&lt;filePath&gt;);\n         FileInputStream fileInputStream;\n         byte[] data = null;\n         byte[] finalData = null;\n         ByteArrayOutputStream byteArrayOutputStream = null;\n\n         try {\n            fileInputStream = new FileInputStream(file);\n            data = new byte[(int)file.length()];\n            finalData = new byte[(int)file.length()];\n            byteArrayOutputStream = new ByteArrayOutputStream();\n\n            fileInputStream.read(data);\n            byteArrayOutputStream.write(data);\n            finalData = byteArrayOutputStream.toByteArray();\n\n            fileInputStream.close(); \n\n        } catch (FileNotFoundException e) {\n            LOGGER.info(\"File not found\" + e);\n        } catch (IOException e) {\n            LOGGER.info(\"IO exception\" + e);\n        }\n\n        return finalData;\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11892553,"reputation":418,"user_id":8702924,"display_name":"Akash Roy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527753099,"creation_date":1527753099,"answer_id":50619318,"question_id":1131116,"body_markdown":"I have implemented similiar behaviour in my Application too without fail. Below is my version of code and it is functional.\r\n\r\n        byte[] getFileInBytes(String filename) {\r\n\t\tFile file  = new File(filename);\r\n\t\tint length = (int)file.length();\r\n\t\tbyte[] bytes = new byte[length];\r\n\t\ttry {\r\n\t\t\tBufferedInputStream reader = new BufferedInputStream(new \r\n        FileInputStream(file));\r\n\t\treader.read(bytes, 0, length);\r\n\t\tSystem.out.println(reader);\r\n\t\t// setFile(bytes);\r\n\t\t\t\t\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\treturn bytes;\r\n\t    }\r\n","title":"PDF to byte array and vice versa","body":"<p>I have implemented similiar behaviour in my Application too without fail. Below is my version of code and it is functional.</p>\n\n<pre><code>    byte[] getFileInBytes(String filename) {\n    File file  = new File(filename);\n    int length = (int)file.length();\n    byte[] bytes = new byte[length];\n    try {\n        BufferedInputStream reader = new BufferedInputStream(new \n    FileInputStream(file));\n    reader.read(bytes, 0, length);\n    System.out.println(reader);\n    // setFile(bytes);\n\n    } catch (FileNotFoundException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n    return bytes;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7205529,"reputation":680,"user_id":5501258,"display_name":"Aseem Savio"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1571859598,"creation_date":1571859598,"answer_id":58529931,"question_id":1131116,"body_markdown":"This worked for me. I haven&#39;t used any third-party libraries. Just the ones that are shipped with Java.\r\n\r\n\r\n    import java.io.*;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n\r\n    public class PDFUtility {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        /**\r\n         * Converts byte stream into PDF.\r\n         */\r\n        PDFUtility pdfUtility = new PDFUtility();\r\n        byte[] byteStreamPDF = pdfUtility.convertPDFtoByteStream();\r\n        FileOutputStream fileOutputStream = new FileOutputStream(&quot;C:\\\\Users\\\\aseem\\\\Desktop\\\\BlaFolder\\\\BlaFolder2\\\\aseempdf.pdf&quot;);\r\n        fileOutputStream.write(byteStreamPDF);\r\n        fileOutputStream.close();\r\n        System.out.println(&quot;File written successfully&quot;);\r\n    }\r\n\r\n    /**\r\n     * Creates PDF to Byte Stream\r\n     *\r\n     * @return\r\n     * @throws IOException\r\n     */\r\n    protected byte[] convertPDFtoByteStream() throws IOException {\r\n        Path path = Paths.get(&quot;C:\\\\Users\\\\aseem\\\\aaa.pdf&quot;);\r\n        return Files.readAllBytes(path);\r\n    }\r\n\r\n    }\r\n","title":"PDF to byte array and vice versa","body":"<p>This worked for me. I haven't used any third-party libraries. Just the ones that are shipped with Java.</p>\n\n<pre><code>import java.io.*;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\n\npublic class PDFUtility {\n\npublic static void main(String[] args) throws IOException {\n    /**\n     * Converts byte stream into PDF.\n     */\n    PDFUtility pdfUtility = new PDFUtility();\n    byte[] byteStreamPDF = pdfUtility.convertPDFtoByteStream();\n    FileOutputStream fileOutputStream = new FileOutputStream(\"C:\\\\Users\\\\aseem\\\\Desktop\\\\BlaFolder\\\\BlaFolder2\\\\aseempdf.pdf\");\n    fileOutputStream.write(byteStreamPDF);\n    fileOutputStream.close();\n    System.out.println(\"File written successfully\");\n}\n\n/**\n * Creates PDF to Byte Stream\n *\n * @return\n * @throws IOException\n */\nprotected byte[] convertPDFtoByteStream() throws IOException {\n    Path path = Paths.get(\"C:\\\\Users\\\\aseem\\\\aaa.pdf\");\n    return Files.readAllBytes(path);\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15883696,"reputation":1,"user_id":13002275,"display_name":"Jennifer CevallosY"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636499719,"creation_date":1636499719,"answer_id":69906219,"question_id":1131116,"body_markdown":"\tpublic String encodeFileToBase64Binary(String fileName)\r\n\t\t\tthrows IOException {\r\n\t\t\tSystem.out.println(&quot;encodeFileToBase64Binary: &quot;+ fileName);\r\n\t\tFile file = new File(fileName);\r\n\t\tbyte[] bytes = loadFile(file);\r\n\t\tbyte[] encoded = Base64.encodeBase64(bytes);\r\n\t\tString encodedString = new String(encoded);\r\n\t\tSystem.out.println(&quot;ARCHIVO B64: &quot;+encodedString);\r\n\r\n\r\n\t\treturn encodedString;\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;resource&quot;)\r\n\tpublic static byte[] loadFile(File file) throws IOException {\r\n\t\tInputStream is = new FileInputStream(file);\r\n\r\n\t\tlong length = file.length();\r\n\t\tif (length &gt; Integer.MAX_VALUE) {\r\n\t\t\t// File is too large\r\n\t\t}\r\n\t\tbyte[] bytes = new byte[(int)length];\r\n\r\n\t\tint offset = 0;\r\n\t\tint numRead = 0;\r\n\t\twhile (offset &lt; bytes.length\r\n\t\t\t\t&amp;&amp; (numRead=is.read(bytes, offset, bytes.length-offset)) &gt;= 0) {\r\n\t\t\toffset += numRead;\r\n\t\t}\r\n\r\n\t\tif (offset &lt; bytes.length) {\r\n\t\t\tthrow new IOException(&quot;Could not completely read file &quot;+file.getName());\r\n\t\t}\r\n\r\n\t\tis.close();\r\n\t\treturn bytes;\r\n\t}","title":"PDF to byte array and vice versa","body":"<pre><code>public String encodeFileToBase64Binary(String fileName)\n        throws IOException {\n        System.out.println(&quot;encodeFileToBase64Binary: &quot;+ fileName);\n    File file = new File(fileName);\n    byte[] bytes = loadFile(file);\n    byte[] encoded = Base64.encodeBase64(bytes);\n    String encodedString = new String(encoded);\n    System.out.println(&quot;ARCHIVO B64: &quot;+encodedString);\n\n\n    return encodedString;\n}\n\n@SuppressWarnings(&quot;resource&quot;)\npublic static byte[] loadFile(File file) throws IOException {\n    InputStream is = new FileInputStream(file);\n\n    long length = file.length();\n    if (length &gt; Integer.MAX_VALUE) {\n        // File is too large\n    }\n    byte[] bytes = new byte[(int)length];\n\n    int offset = 0;\n    int numRead = 0;\n    while (offset &lt; bytes.length\n            &amp;&amp; (numRead=is.read(bytes, offset, bytes.length-offset)) &gt;= 0) {\n        offset += numRead;\n    }\n\n    if (offset &lt; bytes.length) {\n        throw new IOException(&quot;Could not completely read file &quot;+file.getName());\n    }\n\n    is.close();\n    return bytes;\n}\n</code></pre>\n"}],"owner":{"display_name":"abhishek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256100,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"answer_count":14,"score":40,"last_activity_date":1636499719,"creation_date":1247661112,"question_id":1131116,"body_markdown":"I need to convert pdf to byte array and vice versa.\r\n\r\nCan any one help me?\r\n\r\nThis is how I am converting to byte array\r\n\r\n    public static byte[] convertDocToByteArray(String sourcePath) {\r\n\t      \r\n        byte[] byteArray=null;\r\n        try {\r\n            InputStream inputStream = new FileInputStream(sourcePath);\r\n\t                  \r\n               \r\n            String inputStreamToString = inputStream.toString();\r\n            byteArray = inputStreamToString.getBytes();\r\n\t                  \r\n            inputStream.close();\r\n        } catch (FileNotFoundException e) {\r\n            System.out.println(&quot;File Not found&quot;+e);\r\n        } catch (IOException e) {\r\n\t            \tSystem.out.println(&quot;IO Ex&quot;+e);\r\n        }\r\n        return byteArray;\r\n    }\r\nIf I use following code to convert it back to document, pdf is getting created. But it&#39;s saying `&#39;Bad Format. Not a pdf&#39;`.\r\n\r\n    public static void convertByteArrayToDoc(byte[] b) {\t      \r\n\t      \t\r\n        OutputStream out;\r\n        try {\t\t\r\n            out = new FileOutputStream(&quot;D:/ABC_XYZ/1.pdf&quot;);\r\n\t\t\tout.close();\r\n\t\t\tSystem.out.println(&quot;write success&quot;);\r\n        }catch (Exception e) {\r\n            System.out.println(e);\r\n        }","title":"PDF to byte array and vice versa","body":"<p>I need to convert pdf to byte array and vice versa.</p>\n\n<p>Can any one help me?</p>\n\n<p>This is how I am converting to byte array</p>\n\n<pre><code>public static byte[] convertDocToByteArray(String sourcePath) {\n\n    byte[] byteArray=null;\n    try {\n        InputStream inputStream = new FileInputStream(sourcePath);\n\n\n        String inputStreamToString = inputStream.toString();\n        byteArray = inputStreamToString.getBytes();\n\n        inputStream.close();\n    } catch (FileNotFoundException e) {\n        System.out.println(\"File Not found\"+e);\n    } catch (IOException e) {\n                System.out.println(\"IO Ex\"+e);\n    }\n    return byteArray;\n}\n</code></pre>\n\n<p>If I use following code to convert it back to document, pdf is getting created. But it's saying <code>'Bad Format. Not a pdf'</code>.</p>\n\n<pre><code>public static void convertByteArrayToDoc(byte[] b) {          \n\n    OutputStream out;\n    try {       \n        out = new FileOutputStream(\"D:/ABC_XYZ/1.pdf\");\n        out.close();\n        System.out.println(\"write success\");\n    }catch (Exception e) {\n        System.out.println(e);\n    }\n</code></pre>\n"},{"tags":["java","timezone","microsoft-graph-api"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1636502409,"post_id":69906176,"comment_id":123573555,"body_markdown":"You may find some useful information here, as a starting point: [java.time.zone.ZoneRulesProvider for Microsoft time-zones](https://stackoverflow.com/q/52857334/12567365) and in similar questions.","body":"You may find some useful information here, as a starting point: <a href=\"https://stackoverflow.com/q/52857334/12567365\">java.time.zone.ZoneRulesProvider for Microsoft time-zones</a> and in similar questions."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1636516164,"post_id":69906176,"comment_id":123575732,"body_markdown":"Also related: [java.time.zone.ZoneRulesProvider for Microsoft time-zones](https://stackoverflow.com/questions/52857334/java-time-zone-zonerulesprovider-for-microsoft-time-zones) with [a very knowledgable answer by Matt Johnson-Pint](https://stackoverflow.com/a/52860643/5772882)","body":"Also related: <a href=\"https://stackoverflow.com/questions/52857334/java-time-zone-zonerulesprovider-for-microsoft-time-zones\">java.time.zone.ZoneRulesProvider for Microsoft time-zones</a> with <a href=\"https://stackoverflow.com/a/52860643/5772882\">a very knowledgable answer by Matt Johnson-Pint</a>"}],"owner":{"account_id":21302562,"reputation":90,"user_id":15678198,"display_name":"nardiyansah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1636513291,"answer_count":0,"score":0,"last_activity_date":1636499345,"creation_date":1636499345,"question_id":69906176,"body_markdown":"In my current project, I want to use [FindMeeting](https://learn.microsoft.com/en-us/graph/api/user-findmeetingtimes?view=graph-rest-1.0&amp;tabs=http) API from Microsoft Graph API. In sample request the time slot using time zone that supported by Microsoft ([additional dateTimeZone](https://learn.microsoft.com/en-us/graph/api/resources/datetimetimezone?view=graph-rest-1.0), [default time zones](https://learn.microsoft.com/en-us/windows-hardware/manufacture/desktop/default-time-zones?view=windows-11)). My current problem is how I get the time zone that supported by Microsoft using string offset like this `&quot;+07:00&quot;` in Java ?.\r\n\r\nFor example my function gets the argument `&quot;+07:00&quot;`, I want this function to return the string `&quot;SE Asia Standard Time&quot;`.","title":"get timezone supported by microsoft using offset in java","body":"<p>In my current project, I want to use <a href=\"https://learn.microsoft.com/en-us/graph/api/user-findmeetingtimes?view=graph-rest-1.0&amp;tabs=http\" rel=\"nofollow noreferrer\">FindMeeting</a> API from Microsoft Graph API. In sample request the time slot using time zone that supported by Microsoft (<a href=\"https://learn.microsoft.com/en-us/graph/api/resources/datetimetimezone?view=graph-rest-1.0\" rel=\"nofollow noreferrer\">additional dateTimeZone</a>, <a href=\"https://learn.microsoft.com/en-us/windows-hardware/manufacture/desktop/default-time-zones?view=windows-11\" rel=\"nofollow noreferrer\">default time zones</a>). My current problem is how I get the time zone that supported by Microsoft using string offset like this <code>&quot;+07:00&quot;</code> in Java ?.</p>\n<p>For example my function gets the argument <code>&quot;+07:00&quot;</code>, I want this function to return the string <code>&quot;SE Asia Standard Time&quot;</code>.</p>\n"},{"tags":["java","json","collections","java-stream","pojo"],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636497819,"creation_date":1636497307,"answer_id":69905919,"question_id":69903662,"body_markdown":"Separate POJOs have to be implemented to store department and related list of employees.\r\n\r\nThe example below uses Lombok annotations `@Data` and `@AllArgsConstructor` to indicate that appropriate getters/setters/constructors are implemented as well as methods `hashCode` and `equals` are overridden which are important for `DepartmentDto` to be used as a key in an intermediate map.\r\n```\r\n@Data\r\n@AllArgsConstructor\r\nclass DepartmentDto {\r\n    String department;\r\n    String departmentId;\r\n    int floor;\r\n    Boolean isBonusApplicable; \r\n\r\n    List&lt;EmployeeDto&gt; employees;\r\n}\r\n\r\n@Data\r\n@AllArgsConstructor\r\nclass EmployeeDto {\r\n    String firstName;\r\n    String lastName;\r\n    Long salary;\r\n    int experience;  \r\n}\r\n```\r\nThen `List&lt;Employee&gt;` may be converted into `List&lt;DepartmentDto&gt;`:\r\n```java\r\nList&lt;DepartmentDto&gt; depts = employees.stream() // Stream&lt;Employee&gt;\r\n    .collect(Collectors.groupingBy(\r\n        emp -&gt; new DepartmentDto(\r\n            emp.getDepartment(), emp.getDepartmentId(),\r\n            emp.getFloor(), emp.isBonusApplicable(), null\r\n        ), // key - DepartmentDto\r\n        Collectors.mapping(\r\n            emp -&gt; new EmployeeDto(\r\n                emp.getFirstName(), emp.getLastName(),\r\n                emp.getSalary(), emp.getExperience()\r\n            ),\r\n            Collectors.toList() \r\n        ) // value -&gt; List&lt;EmployeeDto&gt;\r\n    ))  // Map&lt;DepartmentDto, List&lt;EmployeeDto&gt;&gt;\r\n    .entrySet()\r\n    .stream()\r\n    .map(e -&gt; new DepartmentDto( // copy and set employee list\r\n            e.getKey().getDepartment(), e.getKey().getDepartmentId(),\r\n            e.getKey().getFloor(), e.getKey().isBonusApplicable(),\r\n            e.getValue()\r\n    ))\r\n    .collect(Collectors.toList());\r\n```","title":"Group List of Object based on few variables","body":"<p>Separate POJOs have to be implemented to store department and related list of employees.</p>\n<p>The example below uses Lombok annotations <code>@Data</code> and <code>@AllArgsConstructor</code> to indicate that appropriate getters/setters/constructors are implemented as well as methods <code>hashCode</code> and <code>equals</code> are overridden which are important for <code>DepartmentDto</code> to be used as a key in an intermediate map.</p>\n<pre><code>@Data\n@AllArgsConstructor\nclass DepartmentDto {\n    String department;\n    String departmentId;\n    int floor;\n    Boolean isBonusApplicable; \n\n    List&lt;EmployeeDto&gt; employees;\n}\n\n@Data\n@AllArgsConstructor\nclass EmployeeDto {\n    String firstName;\n    String lastName;\n    Long salary;\n    int experience;  \n}\n</code></pre>\n<p>Then <code>List&lt;Employee&gt;</code> may be converted into <code>List&lt;DepartmentDto&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;DepartmentDto&gt; depts = employees.stream() // Stream&lt;Employee&gt;\n    .collect(Collectors.groupingBy(\n        emp -&gt; new DepartmentDto(\n            emp.getDepartment(), emp.getDepartmentId(),\n            emp.getFloor(), emp.isBonusApplicable(), null\n        ), // key - DepartmentDto\n        Collectors.mapping(\n            emp -&gt; new EmployeeDto(\n                emp.getFirstName(), emp.getLastName(),\n                emp.getSalary(), emp.getExperience()\n            ),\n            Collectors.toList() \n        ) // value -&gt; List&lt;EmployeeDto&gt;\n    ))  // Map&lt;DepartmentDto, List&lt;EmployeeDto&gt;&gt;\n    .entrySet()\n    .stream()\n    .map(e -&gt; new DepartmentDto( // copy and set employee list\n            e.getKey().getDepartment(), e.getKey().getDepartmentId(),\n            e.getKey().getFloor(), e.getKey().isBonusApplicable(),\n            e.getValue()\n    ))\n    .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":5312067,"reputation":69,"user_id":4238008,"accept_rate":67,"display_name":"PDJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636497819,"creation_date":1636484598,"question_id":69903662,"body_markdown":"I have Employee table with columns dept, dept_id,floor,bonus_appl,first_nm,last_nm,salary,experience.\r\n\r\nEquivalent Pojo looks like\r\n```\r\nclass Employee{\r\n    String department;\r\n    String departmentId;\r\n    int floor;\r\n    Boolean isBonusApplicable;\r\n    String firstName;\r\n    String lastName;\r\n    Long salary;\r\n    int experience;    \r\n}\r\n```\r\n\r\nI am able to use JDBC Template to fetch the resultset from database and create List of employees. \r\n\r\nNow, I would like to use Stream to group all the common variables(i.e., **department**, **department ID** etc)of this class together so that my Pojo will not have the common variables repeated\r\n\r\n```\r\n{\r\n    &quot;department&quot; : [\r\n        {\r\n            &quot;department&quot; : &quot;HR&quot;,\r\n            &quot;departmentId&quot; : &quot;EMP_SECTION_1&quot;,\r\n            &quot;floor&quot; : 2,\r\n            &quot;isBonusApplicable&quot; : false,\r\n            &quot;employees&quot;: [\r\n                {\r\n                    &quot;firstName&quot; : &quot;sunil&quot;,\r\n                    &quot;lastName&quot;  : &quot;kumar&quot;,\r\n                    &quot;salary&quot;    : 100000,\r\n                    &quot;experience&quot; : 10\r\n                },\r\n                {\r\n                    &quot;firstName&quot; : &quot;Anitha&quot;,\r\n                    &quot;lastName&quot;  : &quot;Shri&quot;,\r\n                    &quot;salary&quot;    : 55000,\r\n                    &quot;experience&quot; : 7\r\n                }\r\n            ]\r\n\r\n        },\r\n        {\r\n            &quot;department&quot; : &quot;Network&quot;,\r\n            &quot;departmentId&quot; : &quot;EMP_SECTION_7&quot;,\r\n            &quot;floor&quot; : 1,\r\n            &quot;isBonusApplicable&quot; : true,\r\n            &quot;employees&quot;: [\r\n                {\r\n                    &quot;firstName&quot; : &quot;Harish&quot;,\r\n                    &quot;lastName&quot;  : &quot;Shah&quot;,\r\n                    &quot;salary&quot;    : 12000,\r\n                    &quot;experience&quot; : 1\r\n                },\r\n                {\r\n                    &quot;firstName&quot; : &quot;Vignesh&quot;,\r\n                    &quot;lastName&quot;  : &quot;Murthy&quot;,\r\n                    &quot;salary&quot;    : 25000,\r\n                    &quot;experience&quot; : 3\r\n                }\r\n            ]\r\n        }    \r\n    ]     \r\n}\r\n```\r\n\r\ncan someone help me how to group them together with a piece of code. Am new to stream API\r\n```\r\nList&lt;Employee&gt;  employeeList = dao.getEmployeeList();\r\nSystem.out.println(employeeList.size());  //returns 276 employee details spanning across 7 different departments\r\n```\r\n","title":"Group List of Object based on few variables","body":"<p>I have Employee table with columns dept, dept_id,floor,bonus_appl,first_nm,last_nm,salary,experience.</p>\n<p>Equivalent Pojo looks like</p>\n<pre><code>class Employee{\n    String department;\n    String departmentId;\n    int floor;\n    Boolean isBonusApplicable;\n    String firstName;\n    String lastName;\n    Long salary;\n    int experience;    \n}\n</code></pre>\n<p>I am able to use JDBC Template to fetch the resultset from database and create List of employees.</p>\n<p>Now, I would like to use Stream to group all the common variables(i.e., <strong>department</strong>, <strong>department ID</strong> etc)of this class together so that my Pojo will not have the common variables repeated</p>\n<pre><code>{\n    &quot;department&quot; : [\n        {\n            &quot;department&quot; : &quot;HR&quot;,\n            &quot;departmentId&quot; : &quot;EMP_SECTION_1&quot;,\n            &quot;floor&quot; : 2,\n            &quot;isBonusApplicable&quot; : false,\n            &quot;employees&quot;: [\n                {\n                    &quot;firstName&quot; : &quot;sunil&quot;,\n                    &quot;lastName&quot;  : &quot;kumar&quot;,\n                    &quot;salary&quot;    : 100000,\n                    &quot;experience&quot; : 10\n                },\n                {\n                    &quot;firstName&quot; : &quot;Anitha&quot;,\n                    &quot;lastName&quot;  : &quot;Shri&quot;,\n                    &quot;salary&quot;    : 55000,\n                    &quot;experience&quot; : 7\n                }\n            ]\n\n        },\n        {\n            &quot;department&quot; : &quot;Network&quot;,\n            &quot;departmentId&quot; : &quot;EMP_SECTION_7&quot;,\n            &quot;floor&quot; : 1,\n            &quot;isBonusApplicable&quot; : true,\n            &quot;employees&quot;: [\n                {\n                    &quot;firstName&quot; : &quot;Harish&quot;,\n                    &quot;lastName&quot;  : &quot;Shah&quot;,\n                    &quot;salary&quot;    : 12000,\n                    &quot;experience&quot; : 1\n                },\n                {\n                    &quot;firstName&quot; : &quot;Vignesh&quot;,\n                    &quot;lastName&quot;  : &quot;Murthy&quot;,\n                    &quot;salary&quot;    : 25000,\n                    &quot;experience&quot; : 3\n                }\n            ]\n        }    \n    ]     \n}\n</code></pre>\n<p>can someone help me how to group them together with a piece of code. Am new to stream API</p>\n<pre><code>List&lt;Employee&gt;  employeeList = dao.getEmployeeList();\nSystem.out.println(employeeList.size());  //returns 276 employee details spanning across 7 different departments\n</code></pre>\n"},{"tags":["java","android","android-studio","class","enums"],"answers":[{"tags":[],"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636497305,"creation_date":1636497305,"answer_id":69905918,"question_id":69905462,"body_markdown":"You can take a look at using switch statements. For example\r\n\r\nIf you define a Unit enum as follows\r\n\r\n    enum Unit {\r\n        FAHRENHEIT,\r\n        CELSIUS,\r\n        KELVIN\r\n    }\r\n\r\nA complete &quot;convert&quot; method will evalute all cases:\r\n\r\n1. f -&gt; f\r\n2. f -&gt; c\r\n3. f -&gt; k\r\n\r\n4. c -&gt; f\r\n5. c -&gt; c\r\n6. c -&gt; k\r\n\r\n7. k -&gt; f\r\n8. k -&gt; c\r\n9. k -&gt; k\r\n\r\nSo in all you have something like\r\n\r\n    public double convert(double input, Unit from, Unit to) {\r\n        if (from == null || to == null) {\r\n            throw new IllegalArgumentException(&quot;units cannot be null&quot;);\r\n        }\r\n        switch (from) {\r\n            case FAHRENHEIT:\r\n                switch (to) {\r\n                    case FAHRENHEIT:\r\n                        return input;\r\n                    case CELSIUS:\r\n                        return (input - 32) * (5D / 9D);\r\n                    case KELVIN:\r\n                        return (input + 459.67) * (5D / 9D);\r\n                    default:\r\n                        throw new IllegalStateException(&quot;Unhandled from / to values: &quot; + from + &quot; &quot; + to);\r\n                }\r\n            case CELSIUS:\r\n                switch (to) {\r\n                    case FAHRENHEIT:\r\n                        return input * (9D / 5D) + 32;\r\n                    case CELSIUS:\r\n                        return input;\r\n                    case KELVIN:\r\n                        return input + 273.5;\r\n                    default:\r\n                        throw new IllegalStateException(&quot;Unhandled from / to values: &quot; + from + &quot; &quot; + to);\r\n                }\r\n            case KELVIN:\r\n                switch (to) {\r\n                    case FAHRENHEIT:\r\n                        return (input - 273.5) * (9D / 5D) + 32;\r\n                    case CELSIUS:\r\n                        return input - 273.5;\r\n                    case KELVIN:\r\n                        return input;\r\n                    default:\r\n                        throw new IllegalStateException(&quot;Unhandled from / to values: &quot; + from + &quot; &quot; + to);\r\n                }\r\n            default:\r\n                throw new IllegalStateException(&quot;Unhandled from value: &quot; + from);\r\n        }\r\n\r\n    }\r\n\r\nWhich, if you want to, you can tidy up a bit by refactoring into smaller methods based on the input to reduce the branching in the switch statements.\r\n\r\nAn alternative to this, if you are using java 13 or higher, is to use an enhanced switch. At that point the convert method would look like this:\r\n\r\n    public double convert(double input, Unit from, Unit to) {\r\n        if (from == null || to == null) {\r\n            throw new IllegalArgumentException(&quot;units cannot be null&quot;);\r\n        }\r\n        return switch (from) {\r\n            case FAHRENHEIT -&gt; switch (to) {\r\n                case FAHRENHEIT -&gt; input;\r\n                case CELSIUS -&gt; (input - 32) * (5D / 9D);\r\n                case KELVIN -&gt; (input + 459.67) * (5D / 9D);\r\n            };\r\n            case CELSIUS -&gt; switch (to) {\r\n                case FAHRENHEIT -&gt; input * (9D / 5D) + 32;\r\n                case CELSIUS -&gt; input;\r\n                case KELVIN -&gt; input + 273.5;\r\n            };\r\n            case KELVIN -&gt; switch (to) {\r\n                case FAHRENHEIT -&gt; (input - 273.5) * (9D / 5D) + 32;\r\n                case CELSIUS -&gt; input - 273.5;\r\n                case KELVIN -&gt; input;\r\n            };\r\n        };\r\n\r\nSee [here](https://docs.oracle.com/en/java/javase/13/language/switch-expressions.html), I think it&#39;s much more readable.","title":"How to use Enum if your value is not fixed?","body":"<p>You can take a look at using switch statements. For example</p>\n<p>If you define a Unit enum as follows</p>\n<pre><code>enum Unit {\n    FAHRENHEIT,\n    CELSIUS,\n    KELVIN\n}\n</code></pre>\n<p>A complete &quot;convert&quot; method will evalute all cases:</p>\n<ol>\n<li><p>f -&gt; f</p>\n</li>\n<li><p>f -&gt; c</p>\n</li>\n<li><p>f -&gt; k</p>\n</li>\n<li><p>c -&gt; f</p>\n</li>\n<li><p>c -&gt; c</p>\n</li>\n<li><p>c -&gt; k</p>\n</li>\n<li><p>k -&gt; f</p>\n</li>\n<li><p>k -&gt; c</p>\n</li>\n<li><p>k -&gt; k</p>\n</li>\n</ol>\n<p>So in all you have something like</p>\n<pre><code>public double convert(double input, Unit from, Unit to) {\n    if (from == null || to == null) {\n        throw new IllegalArgumentException(&quot;units cannot be null&quot;);\n    }\n    switch (from) {\n        case FAHRENHEIT:\n            switch (to) {\n                case FAHRENHEIT:\n                    return input;\n                case CELSIUS:\n                    return (input - 32) * (5D / 9D);\n                case KELVIN:\n                    return (input + 459.67) * (5D / 9D);\n                default:\n                    throw new IllegalStateException(&quot;Unhandled from / to values: &quot; + from + &quot; &quot; + to);\n            }\n        case CELSIUS:\n            switch (to) {\n                case FAHRENHEIT:\n                    return input * (9D / 5D) + 32;\n                case CELSIUS:\n                    return input;\n                case KELVIN:\n                    return input + 273.5;\n                default:\n                    throw new IllegalStateException(&quot;Unhandled from / to values: &quot; + from + &quot; &quot; + to);\n            }\n        case KELVIN:\n            switch (to) {\n                case FAHRENHEIT:\n                    return (input - 273.5) * (9D / 5D) + 32;\n                case CELSIUS:\n                    return input - 273.5;\n                case KELVIN:\n                    return input;\n                default:\n                    throw new IllegalStateException(&quot;Unhandled from / to values: &quot; + from + &quot; &quot; + to);\n            }\n        default:\n            throw new IllegalStateException(&quot;Unhandled from value: &quot; + from);\n    }\n\n}\n</code></pre>\n<p>Which, if you want to, you can tidy up a bit by refactoring into smaller methods based on the input to reduce the branching in the switch statements.</p>\n<p>An alternative to this, if you are using java 13 or higher, is to use an enhanced switch. At that point the convert method would look like this:</p>\n<pre><code>public double convert(double input, Unit from, Unit to) {\n    if (from == null || to == null) {\n        throw new IllegalArgumentException(&quot;units cannot be null&quot;);\n    }\n    return switch (from) {\n        case FAHRENHEIT -&gt; switch (to) {\n            case FAHRENHEIT -&gt; input;\n            case CELSIUS -&gt; (input - 32) * (5D / 9D);\n            case KELVIN -&gt; (input + 459.67) * (5D / 9D);\n        };\n        case CELSIUS -&gt; switch (to) {\n            case FAHRENHEIT -&gt; input * (9D / 5D) + 32;\n            case CELSIUS -&gt; input;\n            case KELVIN -&gt; input + 273.5;\n        };\n        case KELVIN -&gt; switch (to) {\n            case FAHRENHEIT -&gt; (input - 273.5) * (9D / 5D) + 32;\n            case CELSIUS -&gt; input - 273.5;\n            case KELVIN -&gt; input;\n        };\n    };\n</code></pre>\n<p>See <a href=\"https://docs.oracle.com/en/java/javase/13/language/switch-expressions.html\" rel=\"nofollow noreferrer\">here</a>, I think it's much more readable.</p>\n"}],"owner":{"account_id":23229555,"reputation":11,"user_id":17320535,"display_name":"Mohammed Habib Yassine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636497305,"creation_date":1636494060,"question_id":69905462,"body_markdown":"I know I was not clear with my question but what I am trying to do here is use enums to convert Temperature Units and all I know that enums have a fixed value so for example Converting from Fahrenheit to Celsius needs the input for the calculation to work but I cant use the Input which is in the main activity so I tried to declare an input with its setter and use the class Convert2 to set the input in the main activity(something like that c.setInput(input)) and getting its value to be able to use it in the class thinking that if you get the value you can add it in the constant then make the return value at the end equals to 1 multiplied by the multiplier which is = to the constant but that did not work and I am stuck here since I am new to enums.\r\nhope you will understand what I mean in the code.\r\n\r\n    public class Convert2 {\r\n    \r\n        private final double multiplier;\r\n    \r\n        private double input;\r\n    \r\n        public void setInput(double input) {\r\n            this.input = input;\r\n        }\r\n    \r\n        public double getInput() {\r\n            return input;\r\n        }\r\n    \r\n        public enum Unit2 {\r\n            Fahrenheit,\r\n            Celsius,\r\n            Kelvin,\r\n            ;\r\n    \r\n            public static Unit2 from(String text) {\r\n                if (text != null) {\r\n                    for (Convert2.Unit2 unit2 : Convert2.Unit2.values()) {\r\n                        if (text.equalsIgnoreCase(unit2.toString())) {\r\n                            return unit2;\r\n    \r\n                        }\r\n                    }\r\n                }\r\n    \r\n                throw new IllegalArgumentException(&quot;Cannot find a value for &quot; + text);\r\n            }\r\n        }\r\n    \r\n        public Convert2(Convert2.Unit2 from, Convert2.Unit2 to) {\r\n            double constant = 1;\r\n    \r\n            switch (from) {\r\n                case Fahrenheit:\r\n                    if (to == Convert2.Unit2.Celsius) {\r\n                        constant = (input - 32)\r\n                                * 1.8;///here you can see how the calculation work as it needs the input value///\r\n    \r\n    \r\n                    } else if (to == Convert2.Unit2.Kelvin) {\r\n                        constant = (5 / 9) + 273.15 - 32;\r\n                    }\r\n                    break;\r\n            }\r\n            multiplier = constant;\r\n    \r\n        }\r\n    \r\n        public double convert2(double input) {\r\n            return (input - input + 1)\r\n                    * multiplier;///(input-input+1) gives 1 multiplied by the multiplier gives the constant value///\r\n        }\r\n    }","title":"How to use Enum if your value is not fixed?","body":"<p>I know I was not clear with my question but what I am trying to do here is use enums to convert Temperature Units and all I know that enums have a fixed value so for example Converting from Fahrenheit to Celsius needs the input for the calculation to work but I cant use the Input which is in the main activity so I tried to declare an input with its setter and use the class Convert2 to set the input in the main activity(something like that c.setInput(input)) and getting its value to be able to use it in the class thinking that if you get the value you can add it in the constant then make the return value at the end equals to 1 multiplied by the multiplier which is = to the constant but that did not work and I am stuck here since I am new to enums.\nhope you will understand what I mean in the code.</p>\n<pre><code>public class Convert2 {\n\n    private final double multiplier;\n\n    private double input;\n\n    public void setInput(double input) {\n        this.input = input;\n    }\n\n    public double getInput() {\n        return input;\n    }\n\n    public enum Unit2 {\n        Fahrenheit,\n        Celsius,\n        Kelvin,\n        ;\n\n        public static Unit2 from(String text) {\n            if (text != null) {\n                for (Convert2.Unit2 unit2 : Convert2.Unit2.values()) {\n                    if (text.equalsIgnoreCase(unit2.toString())) {\n                        return unit2;\n\n                    }\n                }\n            }\n\n            throw new IllegalArgumentException(&quot;Cannot find a value for &quot; + text);\n        }\n    }\n\n    public Convert2(Convert2.Unit2 from, Convert2.Unit2 to) {\n        double constant = 1;\n\n        switch (from) {\n            case Fahrenheit:\n                if (to == Convert2.Unit2.Celsius) {\n                    constant = (input - 32)\n                            * 1.8;///here you can see how the calculation work as it needs the input value///\n\n\n                } else if (to == Convert2.Unit2.Kelvin) {\n                    constant = (5 / 9) + 273.15 - 32;\n                }\n                break;\n        }\n        multiplier = constant;\n\n    }\n\n    public double convert2(double input) {\n        return (input - input + 1)\n                * multiplier;///(input-input+1) gives 1 multiplied by the multiplier gives the constant value///\n    }\n}\n</code></pre>\n"},{"tags":["java","string","vector","static"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":2,"creation_date":1636497180,"post_id":69905821,"comment_id":123572460,"body_markdown":"wy not create an object that contains a name and a list of bets for each player, instead of dealing with nested vector. Java is object oriented, use objects, use the type system. Also when you read the template, why arn\\t you returning the vector from the function? stop using void functions, and start using return types","body":"wy not create an object that contains a name and a list of bets for each player, instead of dealing with nested vector. Java is object oriented, use objects, use the type system. Also when you read the template, why arn\\t you returning the vector from the function? stop using void functions, and start using return types"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1636497770,"post_id":69905821,"comment_id":123572607,"body_markdown":"[Passing Information to a Method or a Constructor](https://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html\" rel=\"nofollow noreferrer\">Passing Information to a Method or a Constructor</a>"}],"owner":{"account_id":13787320,"reputation":13,"user_id":9950855,"display_name":"Lekost93"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636497063,"creation_date":1636496582,"question_id":69905821,"body_markdown":"I have a class that reads a vector of vectors, this even contains a String name and the internal vector that has &quot;bets&quot; from players.\r\n\r\nHowever, I am using static in the reading vector, if I remove the word static, when in the comparison class the vector is always zeros. (I understand that I am giving a new object in the comparison class and it is not associated with the vector that was previously populated)\r\n\r\nI would like to change the code to synchronize the vectors between 3 classes so that I could do the correct parameter passing but I don&#39;t know how to do it.\r\n\r\nCould you please explain to me how to synchronize the vector between classes correctly?\r\n\r\nRemembering that it is not just the vector, they are bet-type objects composed of string name + vector of bets.\r\n\r\nThis Class readTemplate has a static declaration:\r\n**public static int[] templateVector= new int [13];**\r\n\r\n\r\nCLASS readTemplate - part of code:\r\n\r\n```\r\npublic void readTemplate() throws NumberFormatException, IOException {\r\n\t\t\r\n\tFile templatesFile= new File (&quot;C:\\\\Temp\\\\templatesFile.txt&quot;);\r\n\tFileReader fr = new FileReader(templatesFile);\r\n\tBufferedReader br = new BufferedReader(fr);\r\n\t\t\r\n\tString row;\r\n\t\t\r\n\tint j = 0;\r\n\t\t\r\n\twhile((row= br.readLine()) != null) {\r\n\t\tString[] strings = row.split(&quot; &quot;);\r\n\t\tfor (String str : strings) {\r\n\t\t     Integer foo = Integer.parseInt(str);\r\n\t\t     templatevector[j] = foo;\r\n\t\t     j++;\r\n\t\t}\t\t\r\n    }\r\n\t\t\r\n    br.close();\r\n\tfr.close();\r\n}\r\n```\r\npart of the code, for understanding purposes only:\r\n\r\nClass generateResults (compare this template file with bets to find winner)\r\n    \r\n```\r\npublic void generateResult() throws IOException {\r\n    \r\n    ReadTemplate Template = new ReadTemplate();\r\n    ReadBets a = new ReadBets();\r\n    \r\n    File output = new File (&quot;C:\\\\Temp\\\\output.txt&quot;);\r\n    \r\n    FileWriter fw = new FileWriter(&quot;c:\\\\Temp\\\\output.txt&quot;);\r\n    BufferedWriter bw = new BufferedWriter(fw);\r\n    \r\n    bw.write(&quot;TEMPLATE READ:&quot;);\r\n    for (int j = 0; j &lt; template.vectorTemplate.length; j++) {\r\n        bw.write(template.vectorTemplate[j] + &quot; &quot;);\r\n    }\r\n    \r\n    bw.newLine();\r\n    bw.write(&quot;+--Result Bets:--+&quot;);\r\n    bw.newLine();\r\n    \r\n    try {\r\n        if (!output.exists()) {\r\n\r\n        output.createNewFile();\r\n    }\r\n    \r\n    for(int j = 0; j &lt; size; j++) {\r\n        int i = 0;\r\n        int counter = 0;\r\n    \r\n        for(int x = 0; x &lt; template.vectorTemplate.length; x++) {\r\n            if (a.totalStakes[j].vectorStakes[i] == template.vectorTemplate[x]) {\r\n                counter++;\r\n            }\r\n        i++;\r\n    }\r\n}\r\n```\r\n\r\nthank you very much to anyone who takes the time to explain to me.","title":"How to correctly synchronize vector between classes to avoid using static?","body":"<p>I have a class that reads a vector of vectors, this even contains a String name and the internal vector that has &quot;bets&quot; from players.</p>\n<p>However, I am using static in the reading vector, if I remove the word static, when in the comparison class the vector is always zeros. (I understand that I am giving a new object in the comparison class and it is not associated with the vector that was previously populated)</p>\n<p>I would like to change the code to synchronize the vectors between 3 classes so that I could do the correct parameter passing but I don't know how to do it.</p>\n<p>Could you please explain to me how to synchronize the vector between classes correctly?</p>\n<p>Remembering that it is not just the vector, they are bet-type objects composed of string name + vector of bets.</p>\n<p>This Class readTemplate has a static declaration:\n<strong>public static int[] templateVector= new int [13];</strong></p>\n<p>CLASS readTemplate - part of code:</p>\n<pre><code>public void readTemplate() throws NumberFormatException, IOException {\n        \n    File templatesFile= new File (&quot;C:\\\\Temp\\\\templatesFile.txt&quot;);\n    FileReader fr = new FileReader(templatesFile);\n    BufferedReader br = new BufferedReader(fr);\n        \n    String row;\n        \n    int j = 0;\n        \n    while((row= br.readLine()) != null) {\n        String[] strings = row.split(&quot; &quot;);\n        for (String str : strings) {\n             Integer foo = Integer.parseInt(str);\n             templatevector[j] = foo;\n             j++;\n        }       \n    }\n        \n    br.close();\n    fr.close();\n}\n</code></pre>\n<p>part of the code, for understanding purposes only:</p>\n<p>Class generateResults (compare this template file with bets to find winner)</p>\n<pre><code>public void generateResult() throws IOException {\n    \n    ReadTemplate Template = new ReadTemplate();\n    ReadBets a = new ReadBets();\n    \n    File output = new File (&quot;C:\\\\Temp\\\\output.txt&quot;);\n    \n    FileWriter fw = new FileWriter(&quot;c:\\\\Temp\\\\output.txt&quot;);\n    BufferedWriter bw = new BufferedWriter(fw);\n    \n    bw.write(&quot;TEMPLATE READ:&quot;);\n    for (int j = 0; j &lt; template.vectorTemplate.length; j++) {\n        bw.write(template.vectorTemplate[j] + &quot; &quot;);\n    }\n    \n    bw.newLine();\n    bw.write(&quot;+--Result Bets:--+&quot;);\n    bw.newLine();\n    \n    try {\n        if (!output.exists()) {\n\n        output.createNewFile();\n    }\n    \n    for(int j = 0; j &lt; size; j++) {\n        int i = 0;\n        int counter = 0;\n    \n        for(int x = 0; x &lt; template.vectorTemplate.length; x++) {\n            if (a.totalStakes[j].vectorStakes[i] == template.vectorTemplate[x]) {\n                counter++;\n            }\n        i++;\n    }\n}\n</code></pre>\n<p>thank you very much to anyone who takes the time to explain to me.</p>\n"},{"tags":["java","generics","reflection","collections"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1636451704,"post_id":69895908,"comment_id":123554388,"body_markdown":"You can&#39;t. Java has [type erasure](https://www.baeldung.com/java-type-erasure) which means that the type parameters are erased upon compiling the code. The resulting type is the most concrete bound type, which might be `Object`.","body":"You can&#39;t. Java has <a href=\"https://www.baeldung.com/java-type-erasure\" rel=\"nofollow noreferrer\">type erasure</a> which means that the type parameters are erased upon compiling the code. The resulting type is the most concrete bound type, which might be <code>Object</code>."},{"owner":{"account_id":16644,"reputation":18841,"user_id":36498,"accept_rate":86,"display_name":"alamar"},"score":0,"creation_date":1636452470,"post_id":69895908,"comment_id":123554698,"body_markdown":"This is not correct, type information is retained on fields and you can get it via `field.getGenericType()`.","body":"This is not correct, type information is retained on fields and you can get it via <code>field.getGenericType()</code>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1636479554,"post_id":69895908,"comment_id":123566332,"body_markdown":"It’s possible, but the code handling all corner cases correctly, would be horrible. E.g., the field’s type may refer to type variables of the declaring class, whose bounds refer to type variable of the outer class of the declaring class. Similar corner cases may exist when traversing the super type hierarchy of the field type, to substitute the type variables with their actual arguments. Plus, there are no public implementation types or factory methods to produce an object to express the result (i.e. to construct a `ParameterizedType` for `Map&lt;X,Y&gt;` after you found the actual `X` and `Y`).","body":"It’s possible, but the code handling all corner cases correctly, would be horrible. E.g., the field’s type may refer to type variables of the declaring class, whose bounds refer to type variable of the outer class of the declaring class. Similar corner cases may exist when traversing the super type hierarchy of the field type, to substitute the type variables with their actual arguments. Plus, there are no public implementation types or factory methods to produce an object to express the result (i.e. to construct a <code>ParameterizedType</code> for <code>Map&lt;X,Y&gt;</code> after you found the actual <code>X</code> and <code>Y</code>)."},{"owner":{"account_id":16644,"reputation":18841,"user_id":36498,"accept_rate":86,"display_name":"alamar"},"score":1,"creation_date":1636496001,"post_id":69895908,"comment_id":123572164,"body_markdown":"It&#39;s somewhat cumbersome but totally doable in practice. I will post a gist of what I have learned.","body":"It&#39;s somewhat cumbersome but totally doable in practice. I will post a gist of what I have learned."}],"answers":[{"tags":[],"owner":{"account_id":16644,"reputation":18841,"user_id":36498,"accept_rate":86,"display_name":"alamar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1636496762,"creation_date":1636496404,"answer_id":69905788,"question_id":69895908,"body_markdown":"It seems that one will have to write code which crawls type information, remembers which type corresponds to type parameter names, and then do the substitution. The code may vary depending on the specifics, such as class/interface, etc, but the core of it is:\r\n\r\n        // Contains mappings such as K -&gt; Integer, V -&gt; String\r\n        Map&lt;String, Type&gt; typeParameters = new HashMap&lt;&gt;();\r\n        ParameterizedType pType = (ParameterizedType) type;\r\n        // Actual type arguments of a specific parametrized type, e.g. &lt;Integer, PARAM&gt; - \r\n        // the latter is resolved against typeParameters map\r\n        Type[] typeArguments = pType.getActualTypeArguments();\r\n\r\n        cls = ((Class) ((ParameterizedType) type).getRawType());\r\n\r\n        // Named arguments of type as declared, e.g. &lt;K, V&gt;\r\n        TypeVariable&lt;?&gt;[] typeParamDecls = cls.getTypeParameters();\r\n\r\n        for (int i = 0; i &lt; Math.min(typeParamDecls.length, typeArguments.length); i++) {\r\n            Type value;\r\n            if (typeArguments[i] instanceof TypeVariable) {\r\n                value = typeParameters.get(((TypeVariable&lt;?&gt;) typeArguments[i]).getName());\r\n            } else {\r\n                value = typeArguments[i];\r\n            }\r\n\r\n            typeParameters.put(typeParamDecls[i].getName(), value);\r\n        }\r\n\r\nThis needs to be applied recursively to `cls.getGenericSuperclass()` / `cls.getGenericInterfaces()` until you find the type that you wanted in the first place. There may be edge cases if raw types are used anywhere.","title":"Generic information about interface implemented by field type in Java","body":"<p>It seems that one will have to write code which crawls type information, remembers which type corresponds to type parameter names, and then do the substitution. The code may vary depending on the specifics, such as class/interface, etc, but the core of it is:</p>\n<pre><code>    // Contains mappings such as K -&gt; Integer, V -&gt; String\n    Map&lt;String, Type&gt; typeParameters = new HashMap&lt;&gt;();\n    ParameterizedType pType = (ParameterizedType) type;\n    // Actual type arguments of a specific parametrized type, e.g. &lt;Integer, PARAM&gt; - \n    // the latter is resolved against typeParameters map\n    Type[] typeArguments = pType.getActualTypeArguments();\n\n    cls = ((Class) ((ParameterizedType) type).getRawType());\n\n    // Named arguments of type as declared, e.g. &lt;K, V&gt;\n    TypeVariable&lt;?&gt;[] typeParamDecls = cls.getTypeParameters();\n\n    for (int i = 0; i &lt; Math.min(typeParamDecls.length, typeArguments.length); i++) {\n        Type value;\n        if (typeArguments[i] instanceof TypeVariable) {\n            value = typeParameters.get(((TypeVariable&lt;?&gt;) typeArguments[i]).getName());\n        } else {\n            value = typeArguments[i];\n        }\n\n        typeParameters.put(typeParamDecls[i].getName(), value);\n    }\n</code></pre>\n<p>This needs to be applied recursively to <code>cls.getGenericSuperclass()</code> / <code>cls.getGenericInterfaces()</code> until you find the type that you wanted in the first place. There may be edge cases if raw types are used anywhere.</p>\n"}],"owner":{"account_id":16644,"reputation":18841,"user_id":36498,"accept_rate":86,"display_name":"alamar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69905788,"answer_count":1,"score":0,"last_activity_date":1636496762,"creation_date":1636450985,"question_id":69895908,"body_markdown":"Let&#39;s suppose we have a type `CustomMap&lt;A, B&gt;` which extends `CommonMap&lt;C, D&gt;` which in turn implements `Map&lt;E, F&gt;`.\r\n\r\nNaturally one would expect that `A == C == E`, but it&#39;s not always so - you can have a `CustomMap&lt;V&gt;` implementing `Map&lt;String, V&gt;` for example.\r\n\r\nThe question is, let&#39;s suppose I have a `Field`, and `field.getType()` is some interface or class implementing `Map&lt;K, V&gt;`. The type itself may be non generic, may be generic but with generic signature differing from `&lt;K, V&gt;`, etc. How go I get `K` and `V` type parameters of `Map` using reflection?","title":"Generic information about interface implemented by field type in Java","body":"<p>Let's suppose we have a type <code>CustomMap&lt;A, B&gt;</code> which extends <code>CommonMap&lt;C, D&gt;</code> which in turn implements <code>Map&lt;E, F&gt;</code>.</p>\n<p>Naturally one would expect that <code>A == C == E</code>, but it's not always so - you can have a <code>CustomMap&lt;V&gt;</code> implementing <code>Map&lt;String, V&gt;</code> for example.</p>\n<p>The question is, let's suppose I have a <code>Field</code>, and <code>field.getType()</code> is some interface or class implementing <code>Map&lt;K, V&gt;</code>. The type itself may be non generic, may be generic but with generic signature differing from <code>&lt;K, V&gt;</code>, etc. How go I get <code>K</code> and <code>V</code> type parameters of <code>Map</code> using reflection?</p>\n"},{"tags":["java","spring-boot","spring-security","jwt"],"comments":[{"owner":{"account_id":10203231,"reputation":1487,"user_id":7532721,"display_name":"Chi Dov"},"score":1,"creation_date":1545025809,"post_id":53809244,"comment_id":94467428,"body_markdown":"do you have your project in github?","body":"do you have your project in github?"},{"owner":{"account_id":7468171,"reputation":2758,"user_id":5676949,"accept_rate":79,"display_name":"Dog"},"score":0,"creation_date":1545025969,"post_id":53809244,"comment_id":94467481,"body_markdown":"yes, this is the class I am talking about https://github.com/jwolfe890/SpringBootProject1/blob/master/src/main/java/sbootproject/security/AuthenticationFilter.java","body":"yes, this is the class I am talking about <a href=\"https://github.com/jwolfe890/SpringBootProject1/blob/master/src/main/java/sbootproject/security/AuthenticationFilter.java\" rel=\"nofollow noreferrer\">github.com/jwolfe890/SpringBootProject1/blob/master/src/main&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"score":0,"creation_date":1545028287,"post_id":53809244,"comment_id":94468250,"body_markdown":"@Dog, Please check and merge, I did changes required in your project: https://github.com/jwolfe890/SpringBootProject1/pull/1","body":"@Dog, Please check and merge, I did changes required in your project: <a href=\"https://github.com/jwolfe890/SpringBootProject1/pull/1\" rel=\"nofollow noreferrer\">github.com/jwolfe890/SpringBootProject1/pull/1</a>"}],"answers":[{"tags":[],"owner":{"account_id":10203231,"reputation":1487,"user_id":7532721,"display_name":"Chi Dov"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1545055242,"creation_date":1545026535,"answer_id":53809698,"question_id":53809244,"body_markdown":"So I got your problem you should use 0.2 instead of 0.2.0\r\n\r\nFor gradle 4.10 it would be good to use implementation instead of compile.\r\n\r\n    implementation(&#39;io.jsonwebtoken:jjwt:0.2&#39;)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KDdHT.png","title":"Difficulty importing JWT (JSON Web Token) in Spring Boot Gradle project","body":"<p>So I got your problem you should use 0.2 instead of 0.2.0</p>\n\n<p>For gradle 4.10 it would be good to use implementation instead of compile.</p>\n\n<pre><code>implementation('io.jsonwebtoken:jjwt:0.2')\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/KDdHT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/KDdHT.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":3253096,"reputation":4401,"user_id":2987755,"accept_rate":50,"display_name":"dkb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545028601,"creation_date":1545028601,"answer_id":53810020,"question_id":53809244,"body_markdown":"Following errors I observed from your github project repo:  \r\n1. need to add `import io.jsonwebtoken.SignatureAlgorithm;` in AuthenticationFilter.java  \r\n2. UserService.java has method `UserDetails loadUserByUsername(String email) throws Exception;` which is similar to `UserDetails loadUserByUsername(String username) throws UsernameNotFoundException;` in `UserDetailsService` interface, I removed since both serves same purpose  \r\n3. Updated method `loadUserByUsernam`e in `UserServiceImpl.java` and throws `UsernameNotFoundException` exception instead of `Exception`(since the method is derived from `UserDetailsService` interface)  \r\n\r\nI raised merge request to your repo and changes are: https://github.com/jwolfe890/SpringBootProject1/pull/1/files\r\n\r\nDo let me know if this is not what you expected.","title":"Difficulty importing JWT (JSON Web Token) in Spring Boot Gradle project","body":"<p>Following errors I observed from your github project repo:<br>\n1. need to add <code>import io.jsonwebtoken.SignatureAlgorithm;</code> in AuthenticationFilter.java<br>\n2. UserService.java has method <code>UserDetails loadUserByUsername(String email) throws Exception;</code> which is similar to <code>UserDetails loadUserByUsername(String username) throws UsernameNotFoundException;</code> in <code>UserDetailsService</code> interface, I removed since both serves same purpose<br>\n3. Updated method <code>loadUserByUsernam</code>e in <code>UserServiceImpl.java</code> and throws <code>UsernameNotFoundException</code> exception instead of <code>Exception</code>(since the method is derived from <code>UserDetailsService</code> interface)  </p>\n\n<p>I raised merge request to your repo and changes are: <a href=\"https://github.com/jwolfe890/SpringBootProject1/pull/1/files\" rel=\"nofollow noreferrer\">https://github.com/jwolfe890/SpringBootProject1/pull/1/files</a></p>\n\n<p>Do let me know if this is not what you expected.</p>\n"},{"tags":[],"owner":{"account_id":18390564,"reputation":1,"user_id":13396345,"display_name":"user13396345"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594099497,"creation_date":1594095894,"answer_id":62768111,"question_id":53809244,"body_markdown":"For others seeking answer when JWT token dependency not getting imported: it seems like a bug in IntelliJ.  \r\nAdd the dependency to another project and try again.","title":"Difficulty importing JWT (JSON Web Token) in Spring Boot Gradle project","body":"<p>For others seeking answer when JWT token dependency not getting imported: it seems like a bug in IntelliJ.<br />\nAdd the dependency to another project and try again.</p>\n"},{"tags":[],"owner":{"account_id":11600483,"reputation":555,"user_id":8497769,"display_name":"Smitha"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1595249120,"creation_date":1595249120,"answer_id":62995683,"question_id":53809244,"body_markdown":"I am able to add these dependencies successfully to the maven project in IntelliJ IDE.\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.9.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n","title":"Difficulty importing JWT (JSON Web Token) in Spring Boot Gradle project","body":"<p>I am able to add these dependencies successfully to the maven project in IntelliJ IDE.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n        &lt;version&gt;0.9.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14069943,"reputation":201,"user_id":10163694,"display_name":"Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600339252,"creation_date":1600339252,"answer_id":63936304,"question_id":53809244,"body_markdown":"I ran below command inside project folder\r\n\r\n    gradlew clean build --refresh-dependencies\r\n\r\n\r\nand added below line in gradle file\r\n\r\n        compile group: &#39;io.jsonwebtoken&#39;, name: &#39;jjwt&#39;, version: &#39;0.9.1&#39;\r\n\r\nand it worked for me . thanks.","title":"Difficulty importing JWT (JSON Web Token) in Spring Boot Gradle project","body":"<p>I ran below command inside project folder</p>\n<pre><code>gradlew clean build --refresh-dependencies\n</code></pre>\n<p>and added below line in gradle file</p>\n<pre><code>    compile group: 'io.jsonwebtoken', name: 'jjwt', version: '0.9.1'\n</code></pre>\n<p>and it worked for me . thanks.</p>\n"},{"tags":[],"owner":{"account_id":10510343,"reputation":2499,"user_id":8748688,"display_name":"jonathasborges1"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636496748,"creation_date":1636496748,"answer_id":69905841,"question_id":53809244,"body_markdown":"It here worked - Reference - https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt/0.2\r\n\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n            &lt;version&gt;0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nIf your application to maven, then insert in **pom.xml** file\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RZ4gP.png","title":"Difficulty importing JWT (JSON Web Token) in Spring Boot Gradle project","body":"<p>It here worked - Reference - <a href=\"https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt/0.2\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt/0.2</a></p>\n<pre><code>     &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n        &lt;version&gt;0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>If your application to maven, then insert in <strong>pom.xml</strong> file</p>\n<p><a href=\"https://i.stack.imgur.com/RZ4gP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RZ4gP.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":7468171,"reputation":2758,"user_id":5676949,"accept_rate":79,"display_name":"Dog"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34587,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":53809698,"answer_count":6,"score":9,"last_activity_date":1636496748,"creation_date":1545023204,"question_id":53809244,"body_markdown":"I have a Spring Boot gradle project and in the build.gradle dependencies, I import JSON Web Token as:\r\n\r\n    compile group: &#39;io.jsonwebtoken&#39;, name: &#39;jjwt&#39;, version: &#39;0.2&#39;\r\n\r\nFollowing Spring Security and a video tutorial, I have then built out a successful Authentication method. However, when I use Jwts in this method, it does not prompt me to import the same file as in the video tutorial and in fact does not have a prompt for any import options. Specifically, in the video (which uses Maven), the prompt is added to import:\r\n\r\n    import io.jsonwebtoken\r\n\r\nYet in my app I am never given this option and importing this manually or as import io.jsonwebtoken.*; does not work. As the class indicates that:\r\n\r\n    import io cannot be resolved \r\n\r\nSimilarly, the SignatureAlgorithm method does not contain an import from JWT.\r\n\r\nHow can I successfully import JSON web token into my gradle project (or at least import io). The method from the video tutorial is below. Jwts is the implementation of the web token and it is the package I am having difficulty with. \r\n\r\n    @Override\r\n    protected void successfulAuthentication(HttpServletRequest req,\r\n            \t\tHttpServletResponse res, \r\n            \t\tFilterChain chain, \r\n            \t\tAuthentication auth) throws IOException, ServletException {\r\n    \r\n    \tString userName = ((User) auth.getPrincipal()).getUsername();\r\n    \t\r\n        String token = Jwts.builder()\r\n        \t\t.setSubject(userName)\r\n        \t\t.setExpiration(new Date(System.currentTimeMillis() + SecurityConstants.EXPIRATION_TIME))\r\n        \t\t.signWith(SignatureAlgorithm.HS512, SecurityConstants.TOKEN_SECRET)\r\n        \t\t.compact();\r\n        \r\n        res.addHeader(SecurityConstants.HEADER_STRING, SecurityConstants.TOKEN_PREFIX + token);\r\n    }\r\n\r\nThe project itself I am putting together is on Github and the above noted class is at:\r\n\r\nhttps://github.com/jwolfe890/SpringBootProject1/blob/master/src/main/java/sbootproject/security/AuthenticationFilter.java","title":"Difficulty importing JWT (JSON Web Token) in Spring Boot Gradle project","body":"<p>I have a Spring Boot gradle project and in the build.gradle dependencies, I import JSON Web Token as:</p>\n\n<pre><code>compile group: 'io.jsonwebtoken', name: 'jjwt', version: '0.2'\n</code></pre>\n\n<p>Following Spring Security and a video tutorial, I have then built out a successful Authentication method. However, when I use Jwts in this method, it does not prompt me to import the same file as in the video tutorial and in fact does not have a prompt for any import options. Specifically, in the video (which uses Maven), the prompt is added to import:</p>\n\n<pre><code>import io.jsonwebtoken\n</code></pre>\n\n<p>Yet in my app I am never given this option and importing this manually or as import io.jsonwebtoken.*; does not work. As the class indicates that:</p>\n\n<pre><code>import io cannot be resolved \n</code></pre>\n\n<p>Similarly, the SignatureAlgorithm method does not contain an import from JWT.</p>\n\n<p>How can I successfully import JSON web token into my gradle project (or at least import io). The method from the video tutorial is below. Jwts is the implementation of the web token and it is the package I am having difficulty with. </p>\n\n<pre><code>@Override\nprotected void successfulAuthentication(HttpServletRequest req,\n                HttpServletResponse res, \n                FilterChain chain, \n                Authentication auth) throws IOException, ServletException {\n\n    String userName = ((User) auth.getPrincipal()).getUsername();\n\n    String token = Jwts.builder()\n            .setSubject(userName)\n            .setExpiration(new Date(System.currentTimeMillis() + SecurityConstants.EXPIRATION_TIME))\n            .signWith(SignatureAlgorithm.HS512, SecurityConstants.TOKEN_SECRET)\n            .compact();\n\n    res.addHeader(SecurityConstants.HEADER_STRING, SecurityConstants.TOKEN_PREFIX + token);\n}\n</code></pre>\n\n<p>The project itself I am putting together is on Github and the above noted class is at:</p>\n\n<p><a href=\"https://github.com/jwolfe890/SpringBootProject1/blob/master/src/main/java/sbootproject/security/AuthenticationFilter.java\" rel=\"noreferrer\">https://github.com/jwolfe890/SpringBootProject1/blob/master/src/main/java/sbootproject/security/AuthenticationFilter.java</a></p>\n"},{"tags":["java","spring-boot","amazon-s3"],"comments":[{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1636505077,"post_id":69905818,"comment_id":123574011,"body_markdown":"So what exactly do you want to accomplish ?","body":"So what exactly do you want to accomplish ?"},{"owner":{"account_id":20741643,"reputation":11,"user_id":15231139,"display_name":"dassoop"},"score":0,"creation_date":1636506209,"post_id":69905818,"comment_id":123574188,"body_markdown":"My SpringApp uses Put, Get, and Delete methods to upload, download, and get files from the s3 bucket so I need this access. And then in the front end I am using wavesurfer.js to read the file url from a hidden text field on the jsp page. This hidden url value is visible from the inspect window of the browser, so I need the app to be able to read it but also deny access to anyone trying to access the url directly in the broswer.","body":"My SpringApp uses Put, Get, and Delete methods to upload, download, and get files from the s3 bucket so I need this access. And then in the front end I am using wavesurfer.js to read the file url from a hidden text field on the jsp page. This hidden url value is visible from the inspect window of the browser, so I need the app to be able to read it but also deny access to anyone trying to access the url directly in the broswer."}],"owner":{"account_id":20741643,"reputation":11,"user_id":15231139,"display_name":"dassoop"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636496558,"creation_date":1636496558,"question_id":69905818,"body_markdown":"What&#39;s a good way to only allow access to a bucket by a specific web app? I need the app to be able to access them by url, but I don&#39;t want anyone not using it to be able to use the bucket object url to view it in a browser. \r\n\r\nI tried a different bucket policy that would only allowed certain ip&#39;s but I couldn&#39;t get it formatted properly. \r\n\r\nCurrently there is nothing blocked in the &quot;Block public access (bucket settings)&quot; section. \r\n\r\nBucket Policy:\r\n```\r\n{\r\n    &quot;Version&quot;: &quot;2008-10-17&quot;,\r\n    &quot;Statement&quot;: [\r\n        {\r\n            &quot;Sid&quot;: &quot;AllowPublicRead&quot;,\r\n            &quot;Effect&quot;: &quot;Allow&quot;,\r\n            &quot;Principal&quot;: {\r\n                &quot;AWS&quot;: &quot;*&quot;\r\n            },\r\n            &quot;Action&quot;: &quot;s3:GetObject&quot;,\r\n            &quot;Resource&quot;: &quot;arn:aws:s3:::nameofthebucket/*&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nCORS Policy\r\n```\r\n[\r\n    {\r\n        &quot;AllowedHeaders&quot;: [\r\n            &quot;*&quot;\r\n        ],\r\n        &quot;AllowedMethods&quot;: [\r\n            &quot;PUT&quot;,\r\n            &quot;POST&quot;,\r\n            &quot;DELETE&quot;\r\n        ],\r\n        &quot;AllowedOrigins&quot;: [\r\n            &quot;http://www.example1.com&quot;\r\n        ],\r\n        &quot;ExposeHeaders&quot;: []\r\n    },\r\n    {\r\n        &quot;AllowedHeaders&quot;: [],\r\n        &quot;AllowedMethods&quot;: [\r\n            &quot;GET&quot;\r\n        ],\r\n        &quot;AllowedOrigins&quot;: [\r\n            &quot;*&quot;\r\n        ],\r\n        &quot;ExposeHeaders&quot;: []\r\n    }\r\n]\r\n```","title":"Uploading to private S3 bucket from SpringBoot Application","body":"<p>What's a good way to only allow access to a bucket by a specific web app? I need the app to be able to access them by url, but I don't want anyone not using it to be able to use the bucket object url to view it in a browser.</p>\n<p>I tried a different bucket policy that would only allowed certain ip's but I couldn't get it formatted properly.</p>\n<p>Currently there is nothing blocked in the &quot;Block public access (bucket settings)&quot; section.</p>\n<p>Bucket Policy:</p>\n<pre><code>{\n    &quot;Version&quot;: &quot;2008-10-17&quot;,\n    &quot;Statement&quot;: [\n        {\n            &quot;Sid&quot;: &quot;AllowPublicRead&quot;,\n            &quot;Effect&quot;: &quot;Allow&quot;,\n            &quot;Principal&quot;: {\n                &quot;AWS&quot;: &quot;*&quot;\n            },\n            &quot;Action&quot;: &quot;s3:GetObject&quot;,\n            &quot;Resource&quot;: &quot;arn:aws:s3:::nameofthebucket/*&quot;\n        }\n    ]\n}\n</code></pre>\n<p>CORS Policy</p>\n<pre><code>[\n    {\n        &quot;AllowedHeaders&quot;: [\n            &quot;*&quot;\n        ],\n        &quot;AllowedMethods&quot;: [\n            &quot;PUT&quot;,\n            &quot;POST&quot;,\n            &quot;DELETE&quot;\n        ],\n        &quot;AllowedOrigins&quot;: [\n            &quot;http://www.example1.com&quot;\n        ],\n        &quot;ExposeHeaders&quot;: []\n    },\n    {\n        &quot;AllowedHeaders&quot;: [],\n        &quot;AllowedMethods&quot;: [\n            &quot;GET&quot;\n        ],\n        &quot;AllowedOrigins&quot;: [\n            &quot;*&quot;\n        ],\n        &quot;ExposeHeaders&quot;: []\n    }\n]\n</code></pre>\n"},{"tags":["java","spring","tomcat"],"comments":[{"owner":{"account_id":17126499,"reputation":646,"user_id":12393574,"display_name":"jeffrey.d.m"},"score":0,"creation_date":1636537804,"post_id":69905771,"comment_id":123581185,"body_markdown":"Do any of the comments or answers of this question help? https://stackoverflow.com/questions/58917381/spring-boot-reconnect-to-a-database-after-its-restart","body":"Do any of the comments or answers of this question help? <a href=\"https://stackoverflow.com/questions/58917381/spring-boot-reconnect-to-a-database-after-its-restart\" title=\"spring boot reconnect to a database after its restart\">stackoverflow.com/questions/58917381/&hellip;</a>"},{"owner":{"account_id":22103889,"reputation":1,"user_id":16359915,"display_name":"Jason Apinchapong"},"score":0,"creation_date":1636581909,"post_id":69905771,"comment_id":123599119,"body_markdown":"@jeffrey.d.m tomcat doesnt have a setMaxLifeTime. https://tomcat.apache.org/tomcat-7.0-doc/jdbc-pool.html. I did you maxAge as the documentation had similar functionalities but it didn&#39;t work.","body":"@jeffrey.d.m tomcat doesnt have a setMaxLifeTime. <a href=\"https://tomcat.apache.org/tomcat-7.0-doc/jdbc-pool.html\" rel=\"nofollow noreferrer\">tomcat.apache.org/tomcat-7.0-doc/jdbc-pool.html</a>. I did you maxAge as the documentation had similar functionalities but it didn&#39;t work."},{"owner":{"account_id":11081240,"reputation":145,"user_id":8136369,"display_name":"Pratik Kumawat"},"score":0,"creation_date":1649678603,"post_id":69905771,"comment_id":126929320,"body_markdown":"@JasonApinchapong - Did you manage to resolve this issue as I am also getting similar problems.","body":"@JasonApinchapong - Did you manage to resolve this issue as I am also getting similar problems."}],"owner":{"account_id":22103889,"reputation":1,"user_id":16359915,"display_name":"Jason Apinchapong"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1047,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636496255,"creation_date":1636496255,"question_id":69905771,"body_markdown":"I currently have an issue with our java spring boot application where the tomcat connection pool can&#39;t reconnect to the mysql DB when it goes down. Our current process is to restart the application once the DB is back up or else the app never reconnects to the DB.\r\n\r\nThis is our current tomcat config:\r\n\r\n    internal.datasource.url=jdbc:mysql://localhost:3306/table?autoReconnect=true&amp;failOverReadOnly=false&amp;maxReconnects=10\r\n    internal.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n    \r\n    internal.datasource.jmx-enabled=true\r\n    internal.datasource.tomcat.defaultAutoCommit=false\r\n    \r\n    # Tomcat JDBC Connection Pool properties\r\n    internal.datasource.tomcat.initial-size=5\r\n    internal.datasource.tomcat.min-idle=5\r\n    internal.datasource.tomcat.max-active=50\r\n    internal.datasource.tomcat.max-idle=10\r\n    internal.datasource.tomcat.min-evictable-idle-time-millis=600\r\n    internal.datasource.tomcat.time-between-eviction-runs-millis=3000\r\n    internal.datasource.tomcat.max-wait=15000\r\n    internal.datasource.tomcat.validation-query=SELECT 1 FROM DUAL\r\n    internal.datasource.tomcat.test-on-borrow=true\r\n    internal.datasource.tomcat.remove-abandoned=true\r\n    internal.datasource.tomcat.remove-abandoned-timeout=60\r\n    internal.datasource.tomcat.test-while-idle=true\r\n\r\nHere is the stacktrace:\r\n\r\n    org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is javax.persistence.PersistenceException: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n    The last packet successfully received from the server was 32,388,217 milliseconds ago.  The last packet sent successfully to the server was 1 milliseconds ago.\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:431)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.handleExistingTransaction(AbstractPlatformTransactionManager.java:433)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:353)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:463)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:277)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\r\n    \tat com.sun.proxy.$Proxy189.createInventoryJob(Unknown Source)\r\n    \tat com.att.eg.heads.ads.assist.bdms.etl.service.InventoryServiceImpl.generateInventoryCsvs(InventoryServiceImpl.java:135)\r\n    \tat sun.reflect.GeneratedMethodAccessor261.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:283)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\r\n    \tat com.sun.proxy.$Proxy201.generateInventoryCsvs(Unknown Source)\r\n    \tat com.att.eg.heads.ads.assist.bdms.etl.service.job.Scheduler.performInventoryJob(Scheduler.java:66)\r\n    \tat com.att.eg.heads.ads.assist.bdms.etl.service.job.Scheduler$$FastClassBySpringCGLIB$$e2dddb94.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:736)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n    \tat org.springframework.aop.interceptor.AsyncExecutionInterceptor$1.call(AsyncExecutionInterceptor.java:115)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: javax.persistence.PersistenceException: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n    The last packet successfully received from the server was 32,388,217 milliseconds ago.  The last packet sent successfully to the server was 1 milliseconds ago.\r\n    \tat org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1692)\r\n    \tat org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1602)\r\n    \tat org.hibernate.jpa.spi.AbstractEntityManagerImpl.throwPersistenceException(AbstractEntityManagerImpl.java:1700)\r\n    \tat org.hibernate.jpa.internal.TransactionImpl.begin(TransactionImpl.java:48)\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:189)\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:380)\r\n    \t... 29 common frames omitted\r\n    Caused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n    The last packet successfully received from the server was 32,388,217 milliseconds ago.  The last packet sent successfully to the server was 1 milliseconds ago.\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    \tat com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\r\n    \tat com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:990)\r\n    \tat com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:3517)\r\n    \tat com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:3417)\r\n    \tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3860)\r\n    \tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2524)\r\n    \tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2675)\r\n    \tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2465)\r\n    \tat com.mysql.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:4776)\r\n    \tat sun.reflect.GeneratedMethodAccessor216.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.tomcat.jdbc.pool.ProxyConnection.invoke(ProxyConnection.java:126)\r\n    \tat org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108)\r\n    \tat org.apache.tomcat.jdbc.pool.interceptor.AbstractCreateStatementInterceptor.invoke(AbstractCreateStatementInterceptor.java:79)\r\n    \tat org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108)\r\n    \tat org.apache.tomcat.jdbc.pool.DisposableConnectionFacade.invoke(DisposableConnectionFacade.java:81)\r\n    \tat com.sun.proxy.$Proxy161.setAutoCommit(Unknown Source)\r\n    \tat io.opentracing.contrib.jdbc.TracingConnection.setAutoCommit(TracingConnection.java:85)\r\n    \tat org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.begin(AbstractLogicalConnectionImplementor.java:67)\r\n    \tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:238)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:214)\r\n    \tat org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:52)\r\n    \tat org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1512)\r\n    \tat org.hibernate.jpa.internal.TransactionImpl.begin(TransactionImpl.java:45)\r\n    \t... 31 common frames omitted\r\n    Caused by: java.io.EOFException: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost.\r\n    \tat com.mysql.jdbc.MysqlIO.readFully(MysqlIO.java:2969)\r\n    \tat com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:3427)\r\n    \t... 53 common frames omitted\r\n\r\nNot sure if I&#39;m missing a configuration or if it is a limitation but any ideas are appreciated, thanks!","title":"Java Spring Boot connection pool can&#39;t reconnect to DB when it restarts","body":"<p>I currently have an issue with our java spring boot application where the tomcat connection pool can't reconnect to the mysql DB when it goes down. Our current process is to restart the application once the DB is back up or else the app never reconnects to the DB.</p>\n<p>This is our current tomcat config:</p>\n<pre><code>internal.datasource.url=jdbc:mysql://localhost:3306/table?autoReconnect=true&amp;failOverReadOnly=false&amp;maxReconnects=10\ninternal.datasource.driver-class-name=com.mysql.jdbc.Driver\n\ninternal.datasource.jmx-enabled=true\ninternal.datasource.tomcat.defaultAutoCommit=false\n\n# Tomcat JDBC Connection Pool properties\ninternal.datasource.tomcat.initial-size=5\ninternal.datasource.tomcat.min-idle=5\ninternal.datasource.tomcat.max-active=50\ninternal.datasource.tomcat.max-idle=10\ninternal.datasource.tomcat.min-evictable-idle-time-millis=600\ninternal.datasource.tomcat.time-between-eviction-runs-millis=3000\ninternal.datasource.tomcat.max-wait=15000\ninternal.datasource.tomcat.validation-query=SELECT 1 FROM DUAL\ninternal.datasource.tomcat.test-on-borrow=true\ninternal.datasource.tomcat.remove-abandoned=true\ninternal.datasource.tomcat.remove-abandoned-timeout=60\ninternal.datasource.tomcat.test-while-idle=true\n</code></pre>\n<p>Here is the stacktrace:</p>\n<pre><code>org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is javax.persistence.PersistenceException: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\nThe last packet successfully received from the server was 32,388,217 milliseconds ago.  The last packet sent successfully to the server was 1 milliseconds ago.\n    at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:431)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.handleExistingTransaction(AbstractPlatformTransactionManager.java:433)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:353)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:463)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:277)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\n    at com.sun.proxy.$Proxy189.createInventoryJob(Unknown Source)\n    at com.att.eg.heads.ads.assist.bdms.etl.service.InventoryServiceImpl.generateInventoryCsvs(InventoryServiceImpl.java:135)\n    at sun.reflect.GeneratedMethodAccessor261.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:283)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\n    at com.sun.proxy.$Proxy201.generateInventoryCsvs(Unknown Source)\n    at com.att.eg.heads.ads.assist.bdms.etl.service.job.Scheduler.performInventoryJob(Scheduler.java:66)\n    at com.att.eg.heads.ads.assist.bdms.etl.service.job.Scheduler$$FastClassBySpringCGLIB$$e2dddb94.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:736)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    at org.springframework.aop.interceptor.AsyncExecutionInterceptor$1.call(AsyncExecutionInterceptor.java:115)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: javax.persistence.PersistenceException: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\nThe last packet successfully received from the server was 32,388,217 milliseconds ago.  The last packet sent successfully to the server was 1 milliseconds ago.\n    at org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1692)\n    at org.hibernate.jpa.spi.AbstractEntityManagerImpl.convert(AbstractEntityManagerImpl.java:1602)\n    at org.hibernate.jpa.spi.AbstractEntityManagerImpl.throwPersistenceException(AbstractEntityManagerImpl.java:1700)\n    at org.hibernate.jpa.internal.TransactionImpl.begin(TransactionImpl.java:48)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:189)\n    at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:380)\n    ... 29 common frames omitted\nCaused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\nThe last packet successfully received from the server was 32,388,217 milliseconds ago.  The last packet sent successfully to the server was 1 milliseconds ago.\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\n    at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:990)\n    at com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:3517)\n    at com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:3417)\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3860)\n    at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2524)\n    at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2675)\n    at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2465)\n    at com.mysql.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:4776)\n    at sun.reflect.GeneratedMethodAccessor216.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.jdbc.pool.ProxyConnection.invoke(ProxyConnection.java:126)\n    at org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108)\n    at org.apache.tomcat.jdbc.pool.interceptor.AbstractCreateStatementInterceptor.invoke(AbstractCreateStatementInterceptor.java:79)\n    at org.apache.tomcat.jdbc.pool.JdbcInterceptor.invoke(JdbcInterceptor.java:108)\n    at org.apache.tomcat.jdbc.pool.DisposableConnectionFacade.invoke(DisposableConnectionFacade.java:81)\n    at com.sun.proxy.$Proxy161.setAutoCommit(Unknown Source)\n    at io.opentracing.contrib.jdbc.TracingConnection.setAutoCommit(TracingConnection.java:85)\n    at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.begin(AbstractLogicalConnectionImplementor.java:67)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:238)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:214)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:52)\n    at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1512)\n    at org.hibernate.jpa.internal.TransactionImpl.begin(TransactionImpl.java:45)\n    ... 31 common frames omitted\nCaused by: java.io.EOFException: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost.\n    at com.mysql.jdbc.MysqlIO.readFully(MysqlIO.java:2969)\n    at com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:3427)\n    ... 53 common frames omitted\n</code></pre>\n<p>Not sure if I'm missing a configuration or if it is a limitation but any ideas are appreciated, thanks!</p>\n"},{"tags":["java","windows","hadoop"],"comments":[{"owner":{"account_id":377596,"reputation":5231,"user_id":729819,"accept_rate":83,"display_name":"Ben Watson"},"score":1,"creation_date":1636537123,"post_id":69905718,"comment_id":123580874,"body_markdown":"You should enable DEBUG logging which will give you more information.","body":"You should enable DEBUG logging which will give you more information."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1636550891,"post_id":69905718,"comment_id":123586456,"body_markdown":"&quot;Taking too long&quot; isn&#39;t really a question. Yes, of course starting at least 4 Java processes will take time and slow down your machine. Starting a Hadoop cluster is never quick. What specifically do you need it for, though? Spark or Hive can run fine locally without it, for example.","body":"&quot;Taking too long&quot; isn&#39;t really a question. Yes, of course starting at least 4 Java processes will take time and slow down your machine. Starting a Hadoop cluster is never quick. What specifically do you need it for, though? Spark or Hive can run fine locally without it, for example."},{"owner":{"account_id":18657373,"reputation":33,"user_id":13599758,"display_name":"Dew Man"},"score":0,"creation_date":1636564757,"post_id":69905718,"comment_id":123593000,"body_markdown":"I am just learning Hadoop for the first time as a beginner for Big Data. Spark works but Hadoop is slow. I am trying to access local host for Hadoop","body":"I am just learning Hadoop for the first time as a beginner for Big Data. Spark works but Hadoop is slow. I am trying to access local host for Hadoop"}],"owner":{"account_id":18657373,"reputation":33,"user_id":13599758,"display_name":"Dew Man"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636495887,"creation_date":1636495887,"question_id":69905718,"body_markdown":"I successfully installed hadoop version 3.2.2 and have Java version 8 (JDK 1.8.0) and followed the tutorial here:  https://www.youtube.com/watch?v=g7Qpnmi0Q-s\r\n\r\nHere are my executions when running Hadoop in command prompt here:\r\n\r\n[![enter image description here][1]][1]\r\n \r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n[![enter image description here][5]][5]\r\n\r\nThe issue here is that hadoop (version 3.2.2) is taking way too long to load after successfully installing it in my local drive exactly like in the tutorial I followed above. I don&#39;t receive any errors or shutdown terminals after running start-dfs.cmd and start-yarn.cmd.\r\n\r\nI can send how I set up my environment variables but I believe that I followed exactly that as described in the tutorial. Here is my setup:\r\n\r\n[![enter image description here][6]][6]\r\n\r\nIs there a solution to solve this issue?\r\n\r\nI tried other StackOverflow posts but none of them specified how to tackle my issue with not loading Hadoop quickly. It actually never finishes loading even without errors or shutdowns.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zkgb3.png\r\n  [2]: https://i.stack.imgur.com/0pDTK.png\r\n  [3]: https://i.stack.imgur.com/HB55v.png\r\n  [4]: https://i.stack.imgur.com/Dcv8n.png\r\n  [5]: https://i.stack.imgur.com/PTSqI.png\r\n  [6]: https://i.stack.imgur.com/xvHJB.png","title":"Hadoop Installation and Running Taking Too Long in Windows 10","body":"<p>I successfully installed hadoop version 3.2.2 and have Java version 8 (JDK 1.8.0) and followed the tutorial here:  <a href=\"https://www.youtube.com/watch?v=g7Qpnmi0Q-s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=g7Qpnmi0Q-s</a></p>\n<p>Here are my executions when running Hadoop in command prompt here:</p>\n<p><a href=\"https://i.stack.imgur.com/zkgb3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zkgb3.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/0pDTK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0pDTK.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/HB55v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HB55v.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Dcv8n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dcv8n.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/PTSqI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PTSqI.png\" alt=\"enter image description here\" /></a></p>\n<p>The issue here is that hadoop (version 3.2.2) is taking way too long to load after successfully installing it in my local drive exactly like in the tutorial I followed above. I don't receive any errors or shutdown terminals after running start-dfs.cmd and start-yarn.cmd.</p>\n<p>I can send how I set up my environment variables but I believe that I followed exactly that as described in the tutorial. Here is my setup:</p>\n<p><a href=\"https://i.stack.imgur.com/xvHJB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xvHJB.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there a solution to solve this issue?</p>\n<p>I tried other StackOverflow posts but none of them specified how to tackle my issue with not loading Hadoop quickly. It actually never finishes loading even without errors or shutdowns.</p>\n"},{"tags":["java","json","kotlin","serialization","jackson"],"owner":{"account_id":2458036,"reputation":3222,"user_id":2142728,"accept_rate":56,"display_name":"caeus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1636495576,"creation_date":1636495576,"question_id":69905678,"body_markdown":"So I have code that looks like this:\r\n\r\n```kotlin   \r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME)\r\n    sealed interface Completion {\r\n        @JsonTypeName(&quot;Success&quot;)\r\n        data class Success(val at: Instant) : Completion\r\n\r\n        @JsonTypeName(&quot;Failure&quot;)\r\n        data class Failure(val at: Instant) : Completion\r\n    }   \r\n    \r\n    val mapper: ObjectMapper = ...\r\n\r\n    println(mapper.writeValueAsString(listOf(Completion.Failure(at = Instant.now()))))\r\n    //This last line prints something like  [{&quot;at&quot;:&quot;2021-11-09T22:02:17.238467Z&quot;}]\r\n\r\n    println(mapper.writeValueAsString(Completion.Failure(at = Instant.now()))))\r\n    //This last one prints it correctly, with the @type field\r\n```\r\nWhat an I doing with my `ObjectMapper` that once I place an object inside a container, it will use the wrong codec.","title":"Jackson ObjectMapper not including Type Info for elements in containers... why?","body":"<p>So I have code that looks like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME)\n    sealed interface Completion {\n        @JsonTypeName(&quot;Success&quot;)\n        data class Success(val at: Instant) : Completion\n\n        @JsonTypeName(&quot;Failure&quot;)\n        data class Failure(val at: Instant) : Completion\n    }   \n    \n    val mapper: ObjectMapper = ...\n\n    println(mapper.writeValueAsString(listOf(Completion.Failure(at = Instant.now()))))\n    //This last line prints something like  [{&quot;at&quot;:&quot;2021-11-09T22:02:17.238467Z&quot;}]\n\n    println(mapper.writeValueAsString(Completion.Failure(at = Instant.now()))))\n    //This last one prints it correctly, with the @type field\n</code></pre>\n<p>What an I doing with my <code>ObjectMapper</code> that once I place an object inside a container, it will use the wrong codec.</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":15459121,"reputation":1,"user_id":11152225,"display_name":"L_Cj"},"score":0,"creation_date":1636477275,"post_id":69902146,"comment_id":123565423,"body_markdown":"Please ignore the first time field and just look at the last one.","body":"Please ignore the first time field and just look at the last one."}],"answers":[{"tags":[],"owner":{"account_id":8020789,"reputation":157,"user_id":6049514,"accept_rate":79,"display_name":"Gutierrez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636477482,"creation_date":1636477482,"answer_id":69902205,"question_id":69902146,"body_markdown":"How is your time_zone parameter on your MySQL server? you can check it with this query: \r\n\r\n`SELECT @@time_zone`","title":"Some questions about the mysql timestamp field","body":"<p>How is your time_zone parameter on your MySQL server? you can check it with this query:</p>\n<p><code>SELECT @@time_zone</code></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636494585,"creation_date":1636493609,"answer_id":69905395,"question_id":69902146,"body_markdown":"# tl;dr\r\n\r\n```java\r\nmyPreparedStatement.setObject( \r\n    … , \r\n    ZonedDateTime\r\n    .of( \r\n        LocalDate.of( 2021 , Month.NOVEMBER , 10 ) , \r\n        LocalTime.of( 0 , 51 ) , \r\n        ZoneId.of( &quot;Australia/Perth&quot; ) \r\n    )                                                  // Returns a `ZonedDateTime` object.\r\n    .toOffsetDateTime()                                // Returns a `OffsetDateTime` object.\r\n)\r\n```\r\n\r\n… and …\r\n\r\n```java\r\nmyResultSet.getObject( \r\n    … , \r\n    OffsetDateTime.class \r\n)                                                      // Returns a `OffsetDateTime` object.\r\n.atZoneSameInstant( \r\n    ZoneId.of( &quot;Australia/Perth&quot; ) \r\n)                                                      // Returns a `ZonedDateTime` object.\r\n```\r\n\r\n\r\n# Details\r\n\r\n**Do not trust your tooling** to report true values as retrieved. Some tools have the anti-feature of applying a time zone after retrieving a date-time value from the database. Well-intentioned, but very confusing. \r\n\r\nA `TIMESTAMP` column in MySQL 8 always stores values adjusted to UTC. That means an offset of zero hours-minutes-seconds ahead or behind the UTC meridian. Per [the docs][1]:\r\n\r\n&gt; MySQL converts TIMESTAMP values from the current time zone to UTC for storage, and back from UTC to the current time zone for retrieval. \r\n\r\nAlways **specify your desired [time zone][2]** or offset-from-UTC. Never rely implicitly on default time zone within Java, within your database connection, or within your database server. \r\n\r\n    ZoneId z = ZoneId.of( &quot;Asia/Hong_Kong&quot; ) ;\r\n\r\nAlways use *java.time* classes. **Never use the old `Date`, `Calendar`**, `SimpleDateFormat` classes. \r\n\r\n    LocalDate ld = LocalDate.of( 2021 , Month.NOVEMBER , 10 ) ;\r\n    LocalTime lt = LocalTime.of( 0 , 51 ) ;\r\n    ZonedDateTime zdt = ZonedDateTime.of( ld , lt , z ) ;\r\n\r\nTo send to the database, convert from a time zone to a mere offset via the [`OffsetDateTime`][3] class, to be compatible with SQL.\r\n\r\n    OffsetDateTime odt = zdt.toOffsetDateTime() ;\r\n\r\nIf you want to see the value that will be eventually stored in the database, adjust offset to zero.\r\n\r\n    OffsetDateTime odt = zdt.toOffsetDateTime().withOffsetSameInstant( ZoneOffset.UTC ) ;\r\n\r\nSend to database.\r\n\r\n    myPreparedStatement.setObject( … , odt ) ;\r\n\r\nRetrieve from database.\r\n\r\n    OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\r\n\r\nAdjust to a time zone.\r\n\r\n    ZonedDateTime zdt = odt.atZoneSameInstant( z ) ;  // Same moment but viewed through the wall-clock time of a particular time zone.\r\n\r\nYou mentioned using [JPA][4] (now known as [*Jakarta Persistence*][5]). The latest versions of JPA fully support the *java.time* classes. Tip: To experiment and learn how this all works, skip JPA and do some direct JDBC calls as practice.\r\n\r\nAll this has been covered many times already on Stack Overflow. Search to learn more.\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/refman/8.0/en/datetime.html\r\n  [2]: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/OffsetDateTime.html\r\n  [4]: https://en.wikipedia.org/wiki/Jakarta_Persistence\r\n  [5]: https://jakarta.ee/specifications/persistence/","title":"Some questions about the mysql timestamp field","body":"<h1>tl;dr</h1>\n<pre class=\"lang-java prettyprint-override\"><code>myPreparedStatement.setObject( \n    … , \n    ZonedDateTime\n    .of( \n        LocalDate.of( 2021 , Month.NOVEMBER , 10 ) , \n        LocalTime.of( 0 , 51 ) , \n        ZoneId.of( &quot;Australia/Perth&quot; ) \n    )                                                  // Returns a `ZonedDateTime` object.\n    .toOffsetDateTime()                                // Returns a `OffsetDateTime` object.\n)\n</code></pre>\n<p>… and …</p>\n<pre class=\"lang-java prettyprint-override\"><code>myResultSet.getObject( \n    … , \n    OffsetDateTime.class \n)                                                      // Returns a `OffsetDateTime` object.\n.atZoneSameInstant( \n    ZoneId.of( &quot;Australia/Perth&quot; ) \n)                                                      // Returns a `ZonedDateTime` object.\n</code></pre>\n<h1>Details</h1>\n<p><strong>Do not trust your tooling</strong> to report true values as retrieved. Some tools have the anti-feature of applying a time zone after retrieving a date-time value from the database. Well-intentioned, but very confusing.</p>\n<p>A <code>TIMESTAMP</code> column in MySQL 8 always stores values adjusted to UTC. That means an offset of zero hours-minutes-seconds ahead or behind the UTC meridian. Per <a href=\"https://dev.mysql.com/doc/refman/8.0/en/datetime.html\" rel=\"nofollow noreferrer\">the docs</a>:</p>\n<blockquote>\n<p>MySQL converts TIMESTAMP values from the current time zone to UTC for storage, and back from UTC to the current time zone for retrieval.</p>\n</blockquote>\n<p>Always <strong>specify your desired <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">time zone</a></strong> or offset-from-UTC. Never rely implicitly on default time zone within Java, within your database connection, or within your database server.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Asia/Hong_Kong&quot; ) ;\n</code></pre>\n<p>Always use <em>java.time</em> classes. <strong>Never use the old <code>Date</code>, <code>Calendar</code></strong>, <code>SimpleDateFormat</code> classes.</p>\n<pre><code>LocalDate ld = LocalDate.of( 2021 , Month.NOVEMBER , 10 ) ;\nLocalTime lt = LocalTime.of( 0 , 51 ) ;\nZonedDateTime zdt = ZonedDateTime.of( ld , lt , z ) ;\n</code></pre>\n<p>To send to the database, convert from a time zone to a mere offset via the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a> class, to be compatible with SQL.</p>\n<pre><code>OffsetDateTime odt = zdt.toOffsetDateTime() ;\n</code></pre>\n<p>If you want to see the value that will be eventually stored in the database, adjust offset to zero.</p>\n<pre><code>OffsetDateTime odt = zdt.toOffsetDateTime().withOffsetSameInstant( ZoneOffset.UTC ) ;\n</code></pre>\n<p>Send to database.</p>\n<pre><code>myPreparedStatement.setObject( … , odt ) ;\n</code></pre>\n<p>Retrieve from database.</p>\n<pre><code>OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\n</code></pre>\n<p>Adjust to a time zone.</p>\n<pre><code>ZonedDateTime zdt = odt.atZoneSameInstant( z ) ;  // Same moment but viewed through the wall-clock time of a particular time zone.\n</code></pre>\n<p>You mentioned using <a href=\"https://en.wikipedia.org/wiki/Jakarta_Persistence\" rel=\"nofollow noreferrer\">JPA</a> (now known as <a href=\"https://jakarta.ee/specifications/persistence/\" rel=\"nofollow noreferrer\"><em>Jakarta Persistence</em></a>). The latest versions of JPA fully support the <em>java.time</em> classes. Tip: To experiment and learn how this all works, skip JPA and do some direct JDBC calls as practice.</p>\n<p>All this has been covered many times already on Stack Overflow. Search to learn more.</p>\n"}],"owner":{"account_id":15459121,"reputation":1,"user_id":11152225,"display_name":"L_Cj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1636494585,"creation_date":1636477195,"question_id":69902146,"body_markdown":"I try to insert a record.\r\nI found a problem with\r\nWhen the server&#39;s time zone is greater than the time zone set by the database.\r\ntimestamp will automatically convert the data in that field. As shown in the image\r\nI insert this record at 11-10 00:51am ,server  time zone is +8\r\n\r\n[enter image description here][1]\r\n\r\n\r\nBut conversely, when the server&#39;s timezone is less than the timezone set by the database, it does not convert\r\n\r\nI insert this record at 11-09 21:56pm ,server time zone is +5\r\n\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JiuLO.png\r\n  [2]: https://i.stack.imgur.com/bv3HM.png\r\n\r\nI am using java for testing, the orm framework is jpa, and I am using jdbc to connect mysql\r\n\r\nSomeome could tell me why?","title":"Some questions about the mysql timestamp field","body":"<p>I try to insert a record.\nI found a problem with\nWhen the server's time zone is greater than the time zone set by the database.\ntimestamp will automatically convert the data in that field. As shown in the image\nI insert this record at 11-10 00:51am ,server  time zone is +8</p>\n<p><a href=\"https://i.stack.imgur.com/JiuLO.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>But conversely, when the server's timezone is less than the timezone set by the database, it does not convert</p>\n<p>I insert this record at 11-09 21:56pm ,server time zone is +5</p>\n<p><a href=\"https://i.stack.imgur.com/bv3HM.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I am using java for testing, the orm framework is jpa, and I am using jdbc to connect mysql</p>\n<p>Someome could tell me why?</p>\n"},{"tags":["java","spring-boot","date-formatting","date-parsing"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1636484285,"post_id":69902722,"comment_id":123568002,"body_markdown":"I recommend you don’t use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use `LocalDate` and `DateTimeFormatter`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I recommend you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use <code>LocalDate</code> and <code>DateTimeFormatter</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1636485283,"creation_date":1636479953,"answer_id":69902750,"question_id":69902722,"body_markdown":"You are using the wrong input given the format of `SimpleDateFormat`, which should be of form `11/09/2021` (note that month comes before day):\r\n\r\n    String dateFormat = &quot;11/09/2021&quot;;\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\r\n    Date  strtDt = sdf.parse(dateFormat);\r\n    String strt = sdf.format(strtDt);\r\n\r\nOtherwise, you can change the date pattern when constructing the `SimpleDateFormat`:\r\n\r\n    String dateFormat = &quot;20211109&quot;;\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\r\n    Date  strtDt = sdf.parse(dateFormat);\r\n    String strt = sdf.format(strtDt);\r\n\r\nEDIT\r\n-\r\nYou can switch between formatter according to your input formatted string using a regular expression pattern matching:\r\n\r\n    Pattern pattern = Pattern.compile(&quot;^\\\\d{8}$&quot;);\r\n    SimpleDateFormat sdf;\r\n    if (pattern.matcher(input).matches()) {\r\n        sdf = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\r\n    } else {\r\n        sdf = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\r\n    }\r\n    Date  strtDt = sdf.parse(input);\r\n    String strt = sdf.format(strtDt);\r\n\r\nYou can also catch the `ParseException` to attempt another format parsing but I wouldn&#39;t recommend using exceptions for your program flow.\r\n\r\nAs @Ole V.V. suggested in his comment, you shouldn&#39;t be using the `java.text.SimplateDateFormat` and the `java.util.Date` classes for date types manipulation and parsing as those are outdated and may cause a lot of trouble along the way.\r\n\r\nIf you are on JDK 1.8 and onward, you should use the new *Date Time* APIs introduced in [JSR 310][1]:\r\n\r\n    String dateFormat = &quot;20211109&quot;;\r\n    DateTimeFormatter formatter = DateTimeFormatter.BASIC_ISO_DATE;\r\n    // Same as `DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;);`\r\n    LocalDateTime  strtDt = formatter.parse(dateFormat, LocalDateTime::from);\r\n    String strt = formatter.format(strtDt);\r\n\r\n\r\n  [1]: https://jcp.org/en/jsr/detail?id=310","title":"String to date format and vice versa","body":"<p>You are using the wrong input given the format of <code>SimpleDateFormat</code>, which should be of form <code>11/09/2021</code> (note that month comes before day):</p>\n<pre><code>String dateFormat = &quot;11/09/2021&quot;;\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\nDate  strtDt = sdf.parse(dateFormat);\nString strt = sdf.format(strtDt);\n</code></pre>\n<p>Otherwise, you can change the date pattern when constructing the <code>SimpleDateFormat</code>:</p>\n<pre><code>String dateFormat = &quot;20211109&quot;;\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\nDate  strtDt = sdf.parse(dateFormat);\nString strt = sdf.format(strtDt);\n</code></pre>\n<h2>EDIT</h2>\n<p>You can switch between formatter according to your input formatted string using a regular expression pattern matching:</p>\n<pre><code>Pattern pattern = Pattern.compile(&quot;^\\\\d{8}$&quot;);\nSimpleDateFormat sdf;\nif (pattern.matcher(input).matches()) {\n    sdf = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\n} else {\n    sdf = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\n}\nDate  strtDt = sdf.parse(input);\nString strt = sdf.format(strtDt);\n</code></pre>\n<p>You can also catch the <code>ParseException</code> to attempt another format parsing but I wouldn't recommend using exceptions for your program flow.</p>\n<p>As @Ole V.V. suggested in his comment, you shouldn't be using the <code>java.text.SimplateDateFormat</code> and the <code>java.util.Date</code> classes for date types manipulation and parsing as those are outdated and may cause a lot of trouble along the way.</p>\n<p>If you are on JDK 1.8 and onward, you should use the new <em>Date Time</em> APIs introduced in <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>:</p>\n<pre><code>String dateFormat = &quot;20211109&quot;;\nDateTimeFormatter formatter = DateTimeFormatter.BASIC_ISO_DATE;\n// Same as `DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;);`\nLocalDateTime  strtDt = formatter.parse(dateFormat, LocalDateTime::from);\nString strt = formatter.format(strtDt);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1636491053,"creation_date":1636484764,"answer_id":69903700,"question_id":69902722,"body_markdown":"## java.time\r\n\r\nI strongly recommend that you use java.time, the modern Java date and time API, for your date work.\r\n\r\nIt generally takes two formatters for converting a string date in one format to a string in another format: one for describing the format you got, and one for the required format. In this case the former is built in. For your required result define a formatter statically:\r\n\r\n\tprivate static final DateTimeFormatter DATE_FORMATTER\r\n\t\t\t= DateTimeFormatter.ofLocalizedDate(FormatStyle.MEDIUM)\r\n\t\t\t\t\t.withLocale(Locale.forLanguageTag(&quot;es-PA&quot;));\r\n\r\nThe do:\r\n\r\n\t\tString dateFormat = &quot;20211109&quot;;\r\n\t\tLocalDate start = LocalDate.parse(dateFormat, DateTimeFormatter.BASIC_ISO_DATE);\r\n\t\tString string = start.format(DATE_FORMATTER);\r\n\t\tSystem.out.println(string);\r\n\r\nOutput:\r\n\r\n&gt; 11/09/2021\r\n\r\nFor formatting I took the built-in medium date format for Panama since this is one of the locales where the format fits what you asked for. You should of course use your users’ locale, not the one of Panama, for an output format that they will recognize as their own. In this way we are saving ourselves the trouble of composing a format pattern string, and at the same time the code lends itself excellently to internationalization.\r\n\r\n## You shouldn’t want to convert from one string format to another\r\n\r\nIf you are asking how to convert a date from one string  format to another, you are really asking the wrong question. In all but the smallest throw-away programs, we should not handle dates as strings, but always store them in `LocalDate` objects. When we take string input, we parse. Only when we need to give string output, we format back.\r\n\r\n## Using a format pattern\r\n\r\nIf for one reason or another your users are not happy with Java’s localized format, and you need more control over the output format, you may use a format pattern as you tried in your question:\r\n\r\n\tprivate static final DateTimeFormatter DATE_FORMATTER\r\n\t\t\t= DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy&quot;, Locale.ROOT);\r\n\r\n## Links\r\n\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n - [Wikipedia article: ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)\r\n - [Related question: error output converting date format from YYYYMMDD to dd-mm-yyyy](https://stackoverflow.com/questions/48968466/error-output-converting-date-format-from-yyyymmdd-to-dd-mm-yyyy)\r\n - [Related question: String to date format java](https://stackoverflow.com/questions/67257437/string-to-date-format-java)\r\n","title":"String to date format and vice versa","body":"<h2>java.time</h2>\n<p>I strongly recommend that you use java.time, the modern Java date and time API, for your date work.</p>\n<p>It generally takes two formatters for converting a string date in one format to a string in another format: one for describing the format you got, and one for the required format. In this case the former is built in. For your required result define a formatter statically:</p>\n<pre><code>private static final DateTimeFormatter DATE_FORMATTER\n        = DateTimeFormatter.ofLocalizedDate(FormatStyle.MEDIUM)\n                .withLocale(Locale.forLanguageTag(&quot;es-PA&quot;));\n</code></pre>\n<p>The do:</p>\n<pre><code>    String dateFormat = &quot;20211109&quot;;\n    LocalDate start = LocalDate.parse(dateFormat, DateTimeFormatter.BASIC_ISO_DATE);\n    String string = start.format(DATE_FORMATTER);\n    System.out.println(string);\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>11/09/2021</p>\n</blockquote>\n<p>For formatting I took the built-in medium date format for Panama since this is one of the locales where the format fits what you asked for. You should of course use your users’ locale, not the one of Panama, for an output format that they will recognize as their own. In this way we are saving ourselves the trouble of composing a format pattern string, and at the same time the code lends itself excellently to internationalization.</p>\n<h2>You shouldn’t want to convert from one string format to another</h2>\n<p>If you are asking how to convert a date from one string  format to another, you are really asking the wrong question. In all but the smallest throw-away programs, we should not handle dates as strings, but always store them in <code>LocalDate</code> objects. When we take string input, we parse. Only when we need to give string output, we format back.</p>\n<h2>Using a format pattern</h2>\n<p>If for one reason or another your users are not happy with Java’s localized format, and you need more control over the output format, you may use a format pattern as you tried in your question:</p>\n<pre><code>private static final DateTimeFormatter DATE_FORMATTER\n        = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy&quot;, Locale.ROOT);\n</code></pre>\n<h2>Links</h2>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">Wikipedia article: ISO 8601</a></li>\n<li><a href=\"https://stackoverflow.com/questions/48968466/error-output-converting-date-format-from-yyyymmdd-to-dd-mm-yyyy\">Related question: error output converting date format from YYYYMMDD to dd-mm-yyyy</a></li>\n<li><a href=\"https://stackoverflow.com/questions/67257437/string-to-date-format-java\">Related question: String to date format java</a></li>\n</ul>\n"}],"owner":{"account_id":22029581,"reputation":31,"user_id":16297066,"display_name":"Aaa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":603,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":69903700,"answer_count":2,"score":-1,"last_activity_date":1636494441,"creation_date":1636479785,"question_id":69902722,"body_markdown":"    String dateFormat = &quot;20211109&quot;;\r\n\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\r\n\tDate  strtDt = sdf.parse(dateFormat);\r\n    String strt = sdf.format(strtDt);\r\n\r\n\r\nI am getting an error `Unparseable date: &quot;20211109&quot;` \r\n\r\nHow to convert date into given format and parse?\r\n","title":"String to date format and vice versa","body":"<pre><code>String dateFormat = &quot;20211109&quot;;\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\nDate  strtDt = sdf.parse(dateFormat);\nString strt = sdf.format(strtDt);\n</code></pre>\n<p>I am getting an error <code>Unparseable date: &quot;20211109&quot;</code></p>\n<p>How to convert date into given format and parse?</p>\n"},{"tags":["java","spring-boot","global-variables","resttemplate","applicationcontext"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":1,"creation_date":1636489895,"post_id":69904623,"comment_id":123570116,"body_markdown":"I would store it in memory in the Spring-managed Bean that calls the external API and then allow any other Spring-managed Bean to get it from this component. Is this acceptable?","body":"I would store it in memory in the Spring-managed Bean that calls the external API and then allow any other Spring-managed Bean to get it from this component. Is this acceptable?"},{"owner":{"account_id":3029291,"reputation":1704,"user_id":2568649,"display_name":"Chris"},"score":1,"creation_date":1636490642,"post_id":69904623,"comment_id":123570382,"body_markdown":"Sounds like a good idea to me, and maybe call the API in a @PostConstruct annotated method in that bean.","body":"Sounds like a good idea to me, and maybe call the API in a @PostConstruct annotated method in that bean."},{"owner":{"account_id":17790263,"reputation":45,"user_id":12919453,"display_name":"maniprav"},"score":0,"creation_date":1636497276,"post_id":69904623,"comment_id":123572476,"body_markdown":"Thanks Joao and Chris. Both your suggestions are helpful","body":"Thanks Joao and Chris. Both your suggestions are helpful"}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636494201,"creation_date":1636494201,"answer_id":69905486,"question_id":69904623,"body_markdown":"I would store it in memory in the Spring-managed Bean that calls the external API and then allow any other Spring-managed Bean to get it from this component.\r\n\r\n```java\r\n@Service\r\npublic class ThirdPartyServiceClient implements ApplicationListener&lt;ContextRefreshedEvent&gt; {\r\n\r\n    private String reqKey = null;\r\n\r\n    @Override\r\n    public void onApplicationEvent(ContextRefreshedEvent event) {\r\n        (...)\r\n        ResponseEntity&lt;String&gt; result = new RestTemplate()\r\n            .exchange(&quot;http://localhost:7070/api/test/{id}&quot;, HttpMethod.GET, entity, String.class, id);\r\n        JSONObject jsonResponse = new JSONObject(result.getBody());\r\n        this.reqKey = jsonResponse.getString(&quot;reqKey&quot;);\r\n    }\r\n\r\n    public String getKey() {\r\n        return reqKey;\r\n    }\r\n}\r\n```\r\n\r\nNow you just need to inject `ThirdPartyServiceClient` Spring-managed bean in any other to be able to call `getKey()` method.","title":"How to read a property from external api and set it to application context in springboot to make it available globally?","body":"<p>I would store it in memory in the Spring-managed Bean that calls the external API and then allow any other Spring-managed Bean to get it from this component.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class ThirdPartyServiceClient implements ApplicationListener&lt;ContextRefreshedEvent&gt; {\n\n    private String reqKey = null;\n\n    @Override\n    public void onApplicationEvent(ContextRefreshedEvent event) {\n        (...)\n        ResponseEntity&lt;String&gt; result = new RestTemplate()\n            .exchange(&quot;http://localhost:7070/api/test/{id}&quot;, HttpMethod.GET, entity, String.class, id);\n        JSONObject jsonResponse = new JSONObject(result.getBody());\n        this.reqKey = jsonResponse.getString(&quot;reqKey&quot;);\n    }\n\n    public String getKey() {\n        return reqKey;\n    }\n}\n</code></pre>\n<p>Now you just need to inject <code>ThirdPartyServiceClient</code> Spring-managed bean in any other to be able to call <code>getKey()</code> method.</p>\n"}],"owner":{"account_id":17790263,"reputation":45,"user_id":12919453,"display_name":"maniprav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":686,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69905486,"answer_count":1,"score":1,"last_activity_date":1636494201,"creation_date":1636489444,"question_id":69904623,"body_markdown":"I have to invoke an external api in multiple places within my Springboot java application. The external api will just return a static constant String value at all times. \r\n\r\nPlease find below sample code to explain better my intentions and what I wish to achieve at the end of the day\r\n\r\n--------------------------------------------------------------------------\r\n\r\nMy sample code invoking external api using RestTemplate to retrieve a String value.\r\n\r\n```\r\nResponseEntity&lt;String&gt; result = new RestTemplate().exchange(&quot;http://localhost:7070/api/test/{id}&quot;, \r\n                          HttpMethod.GET, entity, String.class, id);\r\n\r\nJSONObject jsonResponse = new JSONObject(result.getBody());\r\n\r\nString  reqVal  = jsonResponse.getString(&quot;reqKey&quot;);\r\n\r\n```\r\n\r\nNow, My intention is to make this String globally available within the application to avoid calling this api multiple times.\r\n\r\n\r\nI am thinking of invoking this extenal api at application startup and set this String value in Springboot application context, so that it can be retrieved from anywhere with the application.\r\n\r\nCan anyone suggest, how can I achieve my above requirement? \r\nOr are there any other better options to think of?\r\n\r\nThanks in advance!\r\n\r\n","title":"How to read a property from external api and set it to application context in springboot to make it available globally?","body":"<p>I have to invoke an external api in multiple places within my Springboot java application. The external api will just return a static constant String value at all times.</p>\n<p>Please find below sample code to explain better my intentions and what I wish to achieve at the end of the day</p>\n<hr />\n<p>My sample code invoking external api using RestTemplate to retrieve a String value.</p>\n<pre><code>ResponseEntity&lt;String&gt; result = new RestTemplate().exchange(&quot;http://localhost:7070/api/test/{id}&quot;, \n                          HttpMethod.GET, entity, String.class, id);\n\nJSONObject jsonResponse = new JSONObject(result.getBody());\n\nString  reqVal  = jsonResponse.getString(&quot;reqKey&quot;);\n\n</code></pre>\n<p>Now, My intention is to make this String globally available within the application to avoid calling this api multiple times.</p>\n<p>I am thinking of invoking this extenal api at application startup and set this String value in Springboot application context, so that it can be retrieved from anywhere with the application.</p>\n<p>Can anyone suggest, how can I achieve my above requirement?\nOr are there any other better options to think of?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":1115975,"reputation":10253,"user_id":1105277,"accept_rate":75,"display_name":"AliSh"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1636493519,"creation_date":1636493519,"answer_id":69905385,"question_id":69905024,"body_markdown":"Your implementation looks good to me and you can use it whether chrome is installed or not but you need to check if it is resolvable or not:\r\n\r\n    if (url != null) {\r\n        Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse(url));\r\n        setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n        if (sendIntent.resolveActivity(getPackageManager()) != null) {\r\n            startActivity(intent);\r\n        }\r\n    }\r\n\r\nIf you want to show list of browsers to user to choose from you can use:\r\n\r\n    Intent sendIntent = new Intent(Intent.ACTION_VIEW, Uri.parse(url));\r\n    Intent chooser = Intent.createChooser(sendIntent, &quot;Choose Your Browser&quot;);\r\n    if (sendIntent.resolveActivity(getPackageManager()) != null) {\r\n         startActivity(chooser);\r\n    }\r\n\r\nIf your targetSdk is 30 or above take a look at this document too:\r\nhttps://developer.android.com/training/package-visibility/use-cases","title":"Is there any way in Android to force open a link to an external browser?","body":"<p>Your implementation looks good to me and you can use it whether chrome is installed or not but you need to check if it is resolvable or not:</p>\n<pre><code>if (url != null) {\n    Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse(url));\n    setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n    if (sendIntent.resolveActivity(getPackageManager()) != null) {\n        startActivity(intent);\n    }\n}\n</code></pre>\n<p>If you want to show list of browsers to user to choose from you can use:</p>\n<pre><code>Intent sendIntent = new Intent(Intent.ACTION_VIEW, Uri.parse(url));\nIntent chooser = Intent.createChooser(sendIntent, &quot;Choose Your Browser&quot;);\nif (sendIntent.resolveActivity(getPackageManager()) != null) {\n     startActivity(chooser);\n}\n</code></pre>\n<p>If your targetSdk is 30 or above take a look at this document too:\n<a href=\"https://developer.android.com/training/package-visibility/use-cases\" rel=\"nofollow noreferrer\">https://developer.android.com/training/package-visibility/use-cases</a></p>\n"}],"owner":{"account_id":13009364,"reputation":63,"user_id":9402926,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4896,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69905385,"answer_count":1,"score":3,"last_activity_date":1636493519,"creation_date":1636491566,"question_id":69905024,"body_markdown":"My app consits of a web view and has the option to register as handler for links to https://example.com/news.\r\n\r\nI have an &#39;Open in Browser&#39; button that should open the current url in an external browser. \r\n\r\nIf my app is set as default handler for links to https://example.com/news, then the &#39;Open in Browser&#39; button does not offer the option to open the url with a browser. Instead my app automaticalls opens the url.\r\n\r\nI have seen that it&#39;s possible [force an app to open urls in chorme](https://stackoverflow.com/questions/12013416/is-there-any-way-in-android-to-force-open-a-link-to-open-in-chrome), however I want a more general solution that works even if chorme is disabled/not installed. My question is then, how to open the url using **any** or the default browser?\r\n\r\nThe code for the &#39;Open in Browser&#39; button:\r\n```\r\nif (url != null) {\r\n    Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse(url));\r\n    setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n    startActivity(intent);\r\n}\r\n```","title":"Is there any way in Android to force open a link to an external browser?","body":"<p>My app consits of a web view and has the option to register as handler for links to <a href=\"https://example.com/news\" rel=\"nofollow noreferrer\">https://example.com/news</a>.</p>\n<p>I have an 'Open in Browser' button that should open the current url in an external browser.</p>\n<p>If my app is set as default handler for links to <a href=\"https://example.com/news\" rel=\"nofollow noreferrer\">https://example.com/news</a>, then the 'Open in Browser' button does not offer the option to open the url with a browser. Instead my app automaticalls opens the url.</p>\n<p>I have seen that it's possible <a href=\"https://stackoverflow.com/questions/12013416/is-there-any-way-in-android-to-force-open-a-link-to-open-in-chrome\">force an app to open urls in chorme</a>, however I want a more general solution that works even if chorme is disabled/not installed. My question is then, how to open the url using <strong>any</strong> or the default browser?</p>\n<p>The code for the 'Open in Browser' button:</p>\n<pre><code>if (url != null) {\n    Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse(url));\n    setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n    startActivity(intent);\n}\n</code></pre>\n"},{"tags":["java","android","android-recyclerview","notifydatasetchanged","contextual-action-bar"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1635973898,"post_id":69801625,"comment_id":123438200,"body_markdown":"Apart from the issue, the `getItemId()` need to be overriden to have unique IDs as `setHasStableIds()` requires that to work","body":"Apart from the issue, the <code>getItemId()</code> need to be overriden to have unique IDs as <code>setHasStableIds()</code> requires that to work"},{"owner":{"account_id":10358025,"reputation":2474,"user_id":7639296,"accept_rate":75,"display_name":"Dr Mido"},"score":0,"creation_date":1635975894,"post_id":69801625,"comment_id":123438884,"body_markdown":"@zain I have the same project structure but in kotlin without `setHasStableIds` do you think this method causes the issue?","body":"@zain I have the same project structure but in kotlin without <code>setHasStableIds</code> do you think this method causes the issue?"},{"owner":{"account_id":10358025,"reputation":2474,"user_id":7639296,"accept_rate":75,"display_name":"Dr Mido"},"score":0,"creation_date":1635976372,"post_id":69801625,"comment_id":123439013,"body_markdown":"ps: I already override this two methods","body":"ps: I already override this two methods"},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1635976548,"post_id":69801625,"comment_id":123439068,"body_markdown":"Not totally sure, but they can be related to the duplicating item; but I think they are not not related to the deletion .. Can you please remove them for a while and see","body":"Not totally sure, but they can be related to the duplicating item; but I think they are not not related to the deletion .. Can you please remove them for a while and see"},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1635976681,"post_id":69801625,"comment_id":123439102,"body_markdown":"Do you `setHasStableIds()` to true?","body":"Do you <code>setHasStableIds()</code> to true?"},{"owner":{"account_id":1075485,"reputation":4160,"user_id":1073748,"accept_rate":95,"display_name":"Haris"},"score":0,"creation_date":1636017129,"post_id":69801625,"comment_id":123447124,"body_markdown":"@DrMido If you can create simple demo with this problem on Github, then I can help with debugging.","body":"@DrMido If you can create simple demo with this problem on Github, then I can help with debugging."},{"owner":{"account_id":10358025,"reputation":2474,"user_id":7639296,"accept_rate":75,"display_name":"Dr Mido"},"score":0,"creation_date":1636021632,"post_id":69801625,"comment_id":123448787,"body_markdown":"@zain I did not add this line `favoritesPostAdapter.setHasStableIds(true);`, but after adding it there&#39;s no effect, I also tried to delete both two methods, the problem still remain","body":"@zain I did not add this line <code>favoritesPostAdapter.setHasStableIds(true);</code>, but after adding it there&#39;s no effect, I also tried to delete both two methods, the problem still remain"},{"owner":{"account_id":10358025,"reputation":2474,"user_id":7639296,"accept_rate":75,"display_name":"Dr Mido"},"score":0,"creation_date":1636021806,"post_id":69801625,"comment_id":123448847,"body_markdown":"@haris-dautović I was intending to push the whole project after solving this problem, I will wait a while if someone knows the cause of this problem or maybe something wrong I added","body":"@haris-dautović I was intending to push the whole project after solving this problem, I will wait a while if someone knows the cause of this problem or maybe something wrong I added"},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1636034414,"post_id":69801625,"comment_id":123453903,"body_markdown":"`onBindViewHolder()` is suspect. Can you post all the code for the adapter?","body":"<code>onBindViewHolder()</code> is suspect. Can you post all the code for the adapter?"},{"owner":{"account_id":10358025,"reputation":2474,"user_id":7639296,"accept_rate":75,"display_name":"Dr Mido"},"score":0,"creation_date":1636035186,"post_id":69801625,"comment_id":123454328,"body_markdown":"@cheticamp I edited it you can check now","body":"@cheticamp I edited it you can check now"},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1636035576,"post_id":69801625,"comment_id":123454536,"body_markdown":"For each switch statement in `onBindViewHolder()` you do a check for `instance of ...`. Either these statements are not needed (if they are always true) or you will end up with unbound view holders (if any of the statements is false.) This may or may not be the problem, but it is something to check out.","body":"For each switch statement in <code>onBindViewHolder()</code> you do a check for <code>instance of ...</code>. Either these statements are not needed (if they are always true) or you will end up with unbound view holders (if any of the statements is false.) This may or may not be the problem, but it is something to check out."},{"owner":{"account_id":10358025,"reputation":2474,"user_id":7639296,"accept_rate":75,"display_name":"Dr Mido"},"score":0,"creation_date":1636036708,"post_id":69801625,"comment_id":123455136,"body_markdown":"@cheticamp it will never be always true because I have 4 different holders, `CardViewHolder`, `CardMagazineViewHolder`, `TitleViewHolder`, and `GridViewHolder`, the user can switch between them, to understand this case more you can check this my old [question](https://stackoverflow.com/questions/55171778/switch-between-recyclerview-layouts-when-click-on-alertdialog-item-list) , currently, I implement the contextual action mode on `CardViewHolder`  `cardView.setOnClickListener` only and I plan to apply it to others, but after solving this problem, do you say If I moved this code to outside...","body":"@cheticamp it will never be always true because I have 4 different holders, <code>CardViewHolder</code>, <code>CardMagazineViewHolder</code>, <code>TitleViewHolder</code>, and <code>GridViewHolder</code>, the user can switch between them, to understand this case more you can check this my old <a href=\"https://stackoverflow.com/questions/55171778/switch-between-recyclerview-layouts-when-click-on-alertdialog-item-list\">question</a> , currently, I implement the contextual action mode on <code>CardViewHolder</code>  <code>cardView.setOnClickListener</code> only and I plan to apply it to others, but after solving this problem, do you say If I moved this code to outside..."},{"owner":{"account_id":10358025,"reputation":2474,"user_id":7639296,"accept_rate":75,"display_name":"Dr Mido"},"score":0,"creation_date":1636036732,"post_id":69801625,"comment_id":123455151,"body_markdown":"the switch case the problem may resolve?!","body":"the switch case the problem may resolve?!"},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1636037122,"post_id":69801625,"comment_id":123455322,"body_markdown":"If your code drops through and none of the switch statements is executed then your view holder will have stale data, so it will look like that deleted data is still there but it isn&#39;t really. I am not clear on your reasoning, but you will need to change your logic. The view type is the definitive answer to what kind of view holder you have (or it should be.)","body":"If your code drops through and none of the switch statements is executed then your view holder will have stale data, so it will look like that deleted data is still there but it isn&#39;t really. I am not clear on your reasoning, but you will need to change your logic. The view type is the definitive answer to what kind of view holder you have (or it should be.)"},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1636037315,"post_id":69801625,"comment_id":123455397,"body_markdown":"I am also questioning the way the view type is handled in `setViewType` and `getViewType`.","body":"I am also questioning the way the view type is handled in <code>setViewType</code> and <code>getViewType</code>."},{"owner":{"account_id":10358025,"reputation":2474,"user_id":7639296,"accept_rate":75,"display_name":"Dr Mido"},"score":0,"creation_date":1636039384,"post_id":69801625,"comment_id":123456278,"body_markdown":"@cheticamp I tried to delete all other holders and both methods of set &amp; get viewType, and deleted the switch and make only one return but this all didn&#39;t resolve the problem","body":"@cheticamp I tried to delete all other holders and both methods of set &amp; get viewType, and deleted the switch and make only one return but this all didn&#39;t resolve the problem"},{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":0,"creation_date":1636040283,"post_id":69801625,"comment_id":123456678,"body_markdown":"It&#39;s somewhere in the handling of the view holders. Delete an item and walk through the adapter with the debugger to make sure what you think is happening is what is actually happening.","body":"It&#39;s somewhere in the handling of the view holders. Delete an item and walk through the adapter with the debugger to make sure what you think is happening is what is actually happening."},{"owner":{"account_id":10045574,"reputation":771,"user_id":10388072,"display_name":"Manuel Mato"},"score":0,"creation_date":1636148003,"post_id":69801625,"comment_id":123488604,"body_markdown":"When you click the remove button, you must to notify your viewModel, and the viewmodel can remove from database and must be update the ui again, updating the livedata and the recycler doing the notifyDataSetChanged with favoritesList","body":"When you click the remove button, you must to notify your viewModel, and the viewmodel can remove from database and must be update the ui again, updating the livedata and the recycler doing the notifyDataSetChanged with favoritesList"},{"owner":{"account_id":10358025,"reputation":2474,"user_id":7639296,"accept_rate":75,"display_name":"Dr Mido"},"score":0,"creation_date":1636204980,"post_id":69801625,"comment_id":123496836,"body_markdown":"@ManuelMato it&#39;s already in the code check `onActionItemClicked`","body":"@ManuelMato it&#39;s already in the code check <code>onActionItemClicked</code>"},{"owner":{"account_id":10358025,"reputation":2474,"user_id":7639296,"accept_rate":75,"display_name":"Dr Mido"},"score":0,"creation_date":1636294743,"post_id":69801625,"comment_id":123512941,"body_markdown":"@manuel-mato, unfortunately, I can&#39;t understand Spanish, but I translated your replay to English, I tried to update the ViewModel method `deleteFavoritePost` to call `getAllFavorites` after it, and I tried also to call remove(object) in the ViewModel but the same issue, I&#39;ll push the app in the github If the problem still remains in the next 3 days","body":"@manuel-mato, unfortunately, I can&#39;t understand Spanish, but I translated your replay to English, I tried to update the ViewModel method <code>deleteFavoritePost</code> to call <code>getAllFavorites</code> after it, and I tried also to call remove(object) in the ViewModel but the same issue, I&#39;ll push the app in the github If the problem still remains in the next 3 days"},{"owner":{"account_id":7859565,"reputation":366,"user_id":5940374,"display_name":"TRK P"},"score":0,"creation_date":1636455454,"post_id":69801625,"comment_id":123555875,"body_markdown":"Try removing else condition in applySelection method? seems adding new item if not present.","body":"Try removing else condition in applySelection method? seems adding new item if not present."},{"owner":{"account_id":10358025,"reputation":2474,"user_id":7639296,"accept_rate":75,"display_name":"Dr Mido"},"score":0,"creation_date":1636474916,"post_id":69801625,"comment_id":123564439,"body_markdown":"@trk-p This is responsible for add selected item to list and changing the selected item style, I tried to remove it, but when I long click there&#39;s no item selected to delete it","body":"@trk-p This is responsible for add selected item to list and changing the selected item style, I tried to remove it, but when I long click there&#39;s no item selected to delete it"},{"owner":{"account_id":1075485,"reputation":4160,"user_id":1073748,"accept_rate":95,"display_name":"Haris"},"score":0,"creation_date":1636485648,"post_id":69801625,"comment_id":123568463,"body_markdown":"@DrMido Thanks - I&#39;ll do it right now :)","body":"@DrMido Thanks - I&#39;ll do it right now :)"},{"owner":{"account_id":1075485,"reputation":4160,"user_id":1073748,"accept_rate":95,"display_name":"Haris"},"score":0,"creation_date":1636487086,"post_id":69801625,"comment_id":123569018,"body_markdown":"@DrMido Currently I&#39;m missing private static final String KEY = BuildConfig.BLOGGER_KEY;. If you can create one for me it will be great. I think it&#39;s not good to post it here, so you can send me an email which you can find in my profile.","body":"@DrMido Currently I&#39;m missing private static final String KEY = BuildConfig.BLOGGER_KEY;. If you can create one for me it will be great. I think it&#39;s not good to post it here, so you can send me an email which you can find in my profile."},{"owner":{"account_id":10358025,"reputation":2474,"user_id":7639296,"accept_rate":75,"display_name":"Dr Mido"},"score":0,"creation_date":1636487981,"post_id":69801625,"comment_id":123569380,"body_markdown":"@haris-dautović I used [Secrets Gradle Plugin for Android](https://github.com/google/secrets-gradle-plugin), so it&#39;s hidden and if you clone the project it will work normally,  I think you don&#39;t need the key for the current case","body":"@haris-dautović I used <a href=\"https://github.com/google/secrets-gradle-plugin\" rel=\"nofollow noreferrer\">Secrets Gradle Plugin for Android</a>, so it&#39;s hidden and if you clone the project it will work normally,  I think you don&#39;t need the key for the current case"},{"owner":{"account_id":1075485,"reputation":4160,"user_id":1073748,"accept_rate":95,"display_name":"Haris"},"score":0,"creation_date":1636488903,"post_id":69801625,"comment_id":123569727,"body_markdown":"@DrMido As you can see there was too much ping-pong in previous comments to solve this problem.  In order to try this on my side, I&#39;ll require a real case without mock or additional modification to make the app work without API. If you can provide DEV_API key I will be glad to try to help you with this problem. Thanks","body":"@DrMido As you can see there was too much ping-pong in previous comments to solve this problem.  In order to try this on my side, I&#39;ll require a real case without mock or additional modification to make the app work without API. If you can provide DEV_API key I will be glad to try to help you with this problem. Thanks"},{"owner":{"account_id":10358025,"reputation":2474,"user_id":7639296,"accept_rate":75,"display_name":"Dr Mido"},"score":0,"creation_date":1636490187,"post_id":69801625,"comment_id":123570222,"body_markdown":"@haris-dautović NP it&#39;s just dummy app :D, I sent you the key","body":"@haris-dautović NP it&#39;s just dummy app :D, I sent you the key"}],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636297896,"creation_date":1636293910,"answer_id":69873149,"question_id":69801625,"body_markdown":"Instead of using `notifyItemRangeChanged(position, getItemCount());`, \r\n\r\nyou can use\r\n\r\n `notifyItemRemoved(position);`\r\n\r\nthis is because `notifyItemRangeChanged(position, getItemCount());` does not remove the item like your requirements!","title":"RecyclerView duplicating items after deletion from contextual action mode","body":"<p>Instead of using <code>notifyItemRangeChanged(position, getItemCount());</code>,</p>\n<p>you can use</p>\n<p><code>notifyItemRemoved(position);</code></p>\n<p>this is because <code>notifyItemRangeChanged(position, getItemCount());</code> does not remove the item like your requirements!</p>\n"},{"tags":[],"owner":{"account_id":1075485,"reputation":4160,"user_id":1073748,"accept_rate":95,"display_name":"Haris"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636492832,"creation_date":1636492496,"answer_id":69905188,"question_id":69801625,"body_markdown":"\r\nThe problem was happening because variable \r\n\r\n    private List&lt;FavoritesEntity&gt; favoritesList;\r\n\r\ninside `FavouritesFragment` which kept all previous objects even after deleting items from a local database.\r\n\r\n\r\nOn every delete event, you were getting updates about database change -&gt; `postViewModel.metal favorites().observe`, where you called `addAll` to this reference which contained all previous items.\r\n\r\n**Solution:** https://github.com/dautovicharis/DummyApp2/commit/752a48fc98761d53c6a8f72076489a0f68ee348b\r\n\r\n**Source:** https://github.com/dautovicharis/DummyApp2\r\n \r\n\r\n","title":"RecyclerView duplicating items after deletion from contextual action mode","body":"<p>The problem was happening because variable</p>\n<pre><code>private List&lt;FavoritesEntity&gt; favoritesList;\n</code></pre>\n<p>inside <code>FavouritesFragment</code> which kept all previous objects even after deleting items from a local database.</p>\n<p>On every delete event, you were getting updates about database change -&gt; <code>postViewModel.metal favorites().observe</code>, where you called <code>addAll</code> to this reference which contained all previous items.</p>\n<p><strong>Solution:</strong> <a href=\"https://github.com/dautovicharis/DummyApp2/commit/752a48fc98761d53c6a8f72076489a0f68ee348b\" rel=\"nofollow noreferrer\">https://github.com/dautovicharis/DummyApp2/commit/752a48fc98761d53c6a8f72076489a0f68ee348b</a></p>\n<p><strong>Source:</strong> <a href=\"https://github.com/dautovicharis/DummyApp2\" rel=\"nofollow noreferrer\">https://github.com/dautovicharis/DummyApp2</a></p>\n"}],"owner":{"account_id":10358025,"reputation":2474,"user_id":7639296,"accept_rate":75,"display_name":"Dr Mido"},"comment_count":27,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":703,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":69905188,"answer_count":2,"score":4,"last_activity_date":1636492832,"creation_date":1635793534,"question_id":69801625,"body_markdown":"In this part of my app, I am trying to implement deleting of selected favorite items via contextual action mode/bar, the problem is when I select an item then delete, it&#39;s deleted from the database and selected list but it is still available in recyclerView and it adds a duplicate  from another item, the following gif clarify the problem\r\n\r\n&lt;a href=&quot;https://i.stack.imgur.com/sgORH.jpg&quot;&gt;&lt;img src=&quot;https://i.imgur.com/3Zp4nC3.gif&quot; title=&quot;source: imgur.com&quot; /&gt;&lt;/a&gt;\r\n\r\n**Edited** the full adapter code **FavoritesPostAdapter**\r\n\r\n```\r\npublic class FavoritesPostAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\r\n\r\n    private final FragmentActivity fragmentActivity;\r\n    private final List&lt;FavoritesEntity&gt; favoritesList;\r\n    private View rootView;\r\n\r\n    private static final int CARD = 0;\r\n    private static final int CARD_MAGAZINE = 1;\r\n    private static final int TITLE = 2;\r\n    private static final int GRID = 3;\r\n    private static final int SDK_VERSION = Build.VERSION.SDK_INT;\r\n    public static final String TAG = &quot;POST ADAPTER&quot;;\r\n\r\n    private int viewType;\r\n    public final Fragment fragment;\r\n    public final PostViewModel postViewModel;\r\n    private ActionMode mActionMode;\r\n    private boolean multiSelection = false;\r\n//    private int selectedPostPosition ;\r\n    private final List&lt;FavoritesEntity&gt; selectedPosts = new ArrayList&lt;&gt;();\r\n    private final List&lt;RecyclerView.ViewHolder&gt; myViewHolders = new ArrayList&lt;&gt;();\r\n\r\n    public FavoritesPostAdapter(FragmentActivity fragmentActivity,\r\n                                List&lt;FavoritesEntity&gt; favoritesList, Fragment fragment,\r\n                                PostViewModel postViewModel) {\r\n        this.fragmentActivity = fragmentActivity;\r\n        this.favoritesList = favoritesList;\r\n        this.fragment = fragment;\r\n        this.postViewModel = postViewModel;\r\n    }\r\n\r\n    public void setViewType(int viewType) {\r\n        this.viewType = viewType;\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    public int getViewType() {\r\n        return this.viewType;\r\n    }\r\n\r\n    private final ActionMode.Callback mActionModeCallback = new ActionMode.Callback() {\r\n        @Override\r\n        public boolean onCreateActionMode(ActionMode actionMode, Menu menu) {\r\n            mActionMode = actionMode;\r\n            actionMode.getMenuInflater().inflate(R.menu.favorites_contextual_menu, menu);\r\n            applyStatusBarColor(R.color.contextualStatusBarColor);\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        public boolean onPrepareActionMode(ActionMode actionMode, Menu menu) {\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        public boolean onActionItemClicked(ActionMode actionMode, MenuItem menuItem) {\r\n            if (menuItem.getItemId() == R.id.delete_favorites_post) {\r\n                for (FavoritesEntity favoritesEntity : selectedPosts) {\r\n                    postViewModel.deleteFavoritePost(favoritesEntity);\r\n                }\r\n                showSnackBar(selectedPosts.size() + &quot; post/s deleted&quot;);\r\n                multiSelection = false;\r\n                selectedPosts.clear();\r\n                notifyDataSetChanged();\r\n                mActionMode.finish();\r\n            }\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        public void onDestroyActionMode(ActionMode actionMode) {\r\n\r\n            for (RecyclerView.ViewHolder holder : myViewHolders) {\r\n                changePostStyle(holder, R.color.cardBackgroundColor, R.color.strokeColor);\r\n            }\r\n\r\n            multiSelection = false;\r\n            selectedPosts.clear();\r\n            applyStatusBarColor(R.color.statusBarColor);\r\n        }\r\n    };\r\n\r\n    private void showSnackBar(String message){\r\n        Snackbar.make(rootView,message,Snackbar.LENGTH_SHORT).show();\r\n    }\r\n\r\n    private void applyStatusBarColor(int color) {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n            fragmentActivity.getWindow().setStatusBarColor(ContextCompat.getColor(fragmentActivity, color));\r\n        }\r\n    }\r\n\r\n    private void applySelection(RecyclerView.ViewHolder holder, FavoritesEntity currentSelectedPost) {\r\n\r\n        if (selectedPosts.contains(currentSelectedPost)) {\r\n            selectedPosts.remove(currentSelectedPost);\r\n            changePostStyle(holder, R.color.cardBackgroundColor, R.color.strokeColor);\r\n            applyActionModeTitle();\r\n        } else {\r\n            selectedPosts.add(currentSelectedPost);\r\n            changePostStyle(holder, R.color.cardBackgroundLightColor, R.color.primaryColor);\r\n            applyActionModeTitle();\r\n        }\r\n    }\r\n\r\n    private void changePostStyle(RecyclerView.ViewHolder holder, int backgroundColor, int strokeColor) {\r\n        if (holder instanceof CardViewHolder) {\r\n            ((CardViewHolder) holder).cardLayoutBinding.mainLinearLayout.setBackgroundColor(\r\n                    ContextCompat.getColor(fragmentActivity.getApplicationContext(),\r\n                            backgroundColor)\r\n            );\r\n            ((CardViewHolder) holder).cardLayoutBinding.cardView.setStrokeColor(\r\n                    strokeColor);\r\n        }\r\n    }\r\n\r\n    private void applyActionModeTitle() {\r\n        if (selectedPosts.size() == 0) {\r\n            mActionMode.finish();\r\n            multiSelection = false;\r\n        } else if (selectedPosts.size() == 1) {\r\n            mActionMode.setTitle(selectedPosts.size() + &quot; item selected&quot;);\r\n        } else {\r\n            mActionMode.setTitle(selectedPosts.size() + &quot; items selected&quot;);\r\n        }\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        LayoutInflater inflater = LayoutInflater.from(fragmentActivity);\r\n        View view;\r\n\r\n        if (this.viewType == CARD) {\r\n            final CardLayoutBinding cardLayoutBinding\r\n                    = CardLayoutBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false);\r\n            return new FavoritesPostAdapter.CardViewHolder(cardLayoutBinding);\r\n        } else if (this.viewType == CARD_MAGAZINE) {\r\n            final CardMagazineBinding cardMagazineBinding\r\n                    = CardMagazineBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false);\r\n            return new FavoritesPostAdapter.CardMagazineViewHolder(cardMagazineBinding);\r\n        } else if (this.viewType == TITLE) {\r\n            if (SDK_VERSION &lt; Build.VERSION_CODES.LOLLIPOP) {\r\n                view = inflater.inflate(R.layout.title_layout_v15, parent, false);\r\n            } else {\r\n                view = inflater.inflate(R.layout.title_layout, parent, false);\r\n            }\r\n            return new FavoritesPostAdapter.TitleViewHolder(view);\r\n        } else {\r\n            if (SDK_VERSION &lt; Build.VERSION_CODES.LOLLIPOP) {\r\n                view = inflater.inflate(R.layout.grid_layout_v15, parent, false);\r\n            } else {\r\n                view = inflater.inflate(R.layout.grid_layout, parent, false);\r\n            }\r\n            return new FavoritesPostAdapter.GridViewHolder(view);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\r\n\r\n        myViewHolders.add(holder);\r\n        rootView = holder.itemView.getRootView();\r\n//        selectedPostPosition = position;\r\n\r\n        int itemType = getViewType();\r\n        FavoritesEntity favoriteItem = favoritesList.get(position);\r\n        final Document document = Jsoup.parse(favoriteItem.getItem().getContent());\r\n        final Elements elements = document.select(&quot;img&quot;);\r\n\r\n//        Log.e(&quot;IMAGE&quot;, document.getAllElements().select(&quot;img&quot;).get(0).attr(&quot;src&quot;));\r\n\r\n\r\n        switch (itemType) {\r\n            case CARD:\r\n                if (holder instanceof FavoritesPostAdapter.CardViewHolder) {\r\n                    ((FavoritesPostAdapter.CardViewHolder) holder).bind(favoriteItem);\r\n\r\n                    ((CardViewHolder) holder).cardLayoutBinding.cardView.setOnClickListener(view -&gt; {\r\n                                if (multiSelection) {\r\n                                    applySelection(holder, favoriteItem);\r\n                                } else {\r\n                                    mActionMode.finish();\r\n                                    if (Objects.requireNonNull(Navigation.findNavController(\r\n                                            view\r\n                                    ).getCurrentDestination()).getId() == R.id.nav_favorites) {\r\n                                        Navigation.findNavController(view)\r\n                                                .navigate(FavoritesFragmentDirections\r\n                                                        .actionFavoritesFragmentToDetailsFragment(favoriteItem.getItem()));\r\n                                    }\r\n                                }\r\n                            }\r\n                    );\r\n                    ((CardViewHolder) holder).cardLayoutBinding.cardView.setOnLongClickListener(view -&gt; {\r\n                        if (!multiSelection) {\r\n                            multiSelection = true;\r\n                            fragmentActivity.startActionMode(mActionModeCallback);\r\n                            applySelection(holder, favoriteItem);\r\n                            return true;\r\n                        } else {\r\n                            applySelection(holder, favoriteItem);\r\n                            return true;\r\n                        }\r\n\r\n                    });\r\n                }\r\n\r\n                break;\r\n\r\n            case CARD_MAGAZINE:\r\n                if (holder instanceof FavoritesPostAdapter.CardMagazineViewHolder) {\r\n                    FavoritesPostAdapter.CardMagazineViewHolder\r\n                            cardMagazineViewHolder = (FavoritesPostAdapter.CardMagazineViewHolder) holder;\r\n                    cardMagazineViewHolder.bind(favoriteItem);\r\n\r\n                }\r\n                break;\r\n            case TITLE:\r\n                if (holder instanceof FavoritesPostAdapter.TitleViewHolder) {\r\n                    FavoritesPostAdapter.TitleViewHolder titleViewHolder = (FavoritesPostAdapter.TitleViewHolder) holder;\r\n                    titleViewHolder.postTitle.setText(favoriteItem.getItem().getTitle());\r\n\r\n                    Log.d(&quot;TITLE&quot;, &quot;title layout called&quot;);\r\n\r\n\r\n                    try {\r\n                        Log.e(&quot;IMAGE&quot;, elements.get(0).attr(&quot;src&quot;));\r\n                        Glide.with(fragmentActivity).load(elements.get(0).attr(&quot;src&quot;))\r\n                                .transition(DrawableTransitionOptions.withCrossFade(600))\r\n                                .placeholder(R.drawable.loading_animation)\r\n                                .error(R.drawable.no_image)\r\n                                .into(titleViewHolder.postImage);\r\n                    } catch (IndexOutOfBoundsException e) {\r\n                        titleViewHolder.postImage.setImageResource(R.drawable.no_image);\r\n                        Log.e(TAG, e.toString());\r\n                    }\r\n\r\n                    if (position == getItemCount() - 1)\r\n                        if (fragment instanceof HomeFragment) {\r\n                            postViewModel.getPosts();\r\n                        } else {\r\n                            postViewModel.getPostListByLabel();\r\n                        }\r\n\r\n                }\r\n                break;\r\n            case GRID:\r\n                if (holder instanceof FavoritesPostAdapter.GridViewHolder) {\r\n                    FavoritesPostAdapter.GridViewHolder gridViewHolder = (FavoritesPostAdapter.GridViewHolder) holder;\r\n                    gridViewHolder.postTitle.setText(favoriteItem.getItem().getTitle());\r\n\r\n\r\n                    try {\r\n                        Log.e(&quot;IMAGE&quot;, elements.get(0).attr(&quot;src&quot;));\r\n                        Glide.with(fragmentActivity).load(elements.get(0).attr(&quot;src&quot;))\r\n                                .transition(DrawableTransitionOptions.withCrossFade(600))\r\n                                .placeholder(R.drawable.loading_animation)\r\n                                .error(R.drawable.no_image)\r\n                                .into(gridViewHolder.postImage);\r\n                    } catch (IndexOutOfBoundsException e) {\r\n                        gridViewHolder.postImage.setImageResource(R.drawable.no_image);\r\n                        Log.e(TAG, e.toString());\r\n                    }\r\n\r\n                    if (position == getItemCount() - 1)\r\n                        if (fragment instanceof HomeFragment) {\r\n                            postViewModel.getPosts();\r\n                        } else {\r\n                            postViewModel.getPostListByLabel();\r\n                        }\r\n\r\n                }\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return favoritesList.size();\r\n    }\r\n\r\n    @Override\r\n    public void setHasStableIds(boolean hasStableIds) {\r\n        super.setHasStableIds(hasStableIds);\r\n    }\r\n\r\n    @Override\r\n    public long getItemId(int position) {\r\n        return position;\r\n    }\r\n\r\n\r\n    public static class CardViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        final CardLayoutBinding cardLayoutBinding;\r\n        final Context context;\r\n\r\n        private CardViewHolder(final CardLayoutBinding binding) {\r\n            super(binding.getRoot());\r\n            cardLayoutBinding = binding;\r\n            context = cardLayoutBinding.getRoot().getContext();\r\n\r\n\r\n        }\r\n\r\n        private void bind(FavoritesEntity favoriteItem) {\r\n            final Document document = Jsoup.parse(favoriteItem.getItem().getContent());\r\n            final Elements elements = document.select(&quot;img&quot;);\r\n\r\n//        Log.e(&quot;IMAGE&quot;, document.getAllElements().select(&quot;img&quot;).get(0).attr(&quot;src&quot;));\r\n\r\n            Date date = new Date();\r\n            SimpleDateFormat format = new SimpleDateFormat\r\n                    (&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;, Locale.getDefault());\r\n\r\n            cardLayoutBinding.postTitle.setText(favoriteItem.getItem().getTitle());\r\n\r\n            try {\r\n                Log.e(&quot;IMAGE&quot;, elements.get(0).attr(&quot;src&quot;));\r\n                Glide.with(context).load(elements.get(0).attr(&quot;src&quot;))\r\n                        .transition(DrawableTransitionOptions.withCrossFade(600))\r\n                        .placeholder(R.drawable.loading_animation)\r\n                        .error(R.drawable.no_image)\r\n                        .into(cardLayoutBinding.postImage);\r\n            } catch (IndexOutOfBoundsException e) {\r\n                cardLayoutBinding.postImage.setImageResource(R.drawable.no_image);\r\n                Log.e(TAG, e.toString());\r\n            }\r\n\r\n\r\n            cardLayoutBinding.postDescription.setText(document.text());\r\n            try {\r\n                date = format.parse(favoriteItem.getItem().getPublished());\r\n\r\n            } catch (ParseException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            PrettyTime prettyTime = new PrettyTime();\r\n\r\n            cardLayoutBinding.postDate.setText(prettyTime.format(date));\r\n\r\n        }\r\n    }\r\n\r\n    public static class CardMagazineViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        final CardMagazineBinding cardMagazineBinding;\r\n        final Context context;\r\n\r\n        private CardMagazineViewHolder(final CardMagazineBinding binding) {\r\n            super(binding.getRoot());\r\n            cardMagazineBinding = binding;\r\n            context = cardMagazineBinding.getRoot().getContext();\r\n\r\n\r\n        }\r\n\r\n        private void bind(FavoritesEntity favoriteItem) {\r\n            final Document document = Jsoup.parse(favoriteItem.getItem().getContent());\r\n            final Elements elements = document.select(&quot;img&quot;);\r\n\r\n\r\n            Date date = new Date();\r\n            SimpleDateFormat format = new SimpleDateFormat\r\n                    (&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;, Locale.getDefault());\r\n\r\n\r\n//        Log.e(&quot;IMAGE&quot;, document.getAllElements().select(&quot;img&quot;).get(0).attr(&quot;src&quot;));\r\n            cardMagazineBinding.postTitle.setText(favoriteItem.getItem().getTitle());\r\n\r\n\r\n            try {\r\n                Log.e(&quot;IMAGE&quot;, elements.get(0).attr(&quot;src&quot;));\r\n                Glide.with(context).load(elements.get(0).attr(&quot;src&quot;))\r\n                        .transition(DrawableTransitionOptions.withCrossFade(600))\r\n                        .placeholder(R.drawable.loading_animation)\r\n                        .error(R.drawable.no_image)\r\n                        .into(cardMagazineBinding.postImage);\r\n            } catch (IndexOutOfBoundsException e) {\r\n                cardMagazineBinding.postImage.setImageResource(R.drawable.no_image);\r\n                Log.e(TAG, e.toString());\r\n            }\r\n\r\n            try {\r\n                date = format.parse(favoriteItem.getItem().getPublished());\r\n\r\n            } catch (ParseException e) {\r\n                e.printStackTrace();\r\n            }\r\n            PrettyTime prettyTime = new PrettyTime();\r\n\r\n            cardMagazineBinding.postDate.setText(prettyTime.format(date));\r\n\r\n        }\r\n    }\r\n\r\n    public static class TitleViewHolder extends RecyclerView.ViewHolder {\r\n        TextView postTitle;\r\n        com.blogspot.abtallaldigital.utils.MyImageview postImage;\r\n\r\n\r\n        private TitleViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            postTitle = itemView.findViewById(R.id.postTitle);\r\n            postImage = itemView.findViewById(R.id.postImage);\r\n        }\r\n    }\r\n\r\n\r\n    public static class GridViewHolder extends RecyclerView.ViewHolder {\r\n        TextView postTitle;\r\n        MyImageview postImage;\r\n\r\n\r\n        private GridViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            postTitle = itemView.findViewById(R.id.postTitle);\r\n            postImage = itemView.findViewById(R.id.postImage);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**favorites_contextual_menu xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n    &lt;item\r\n        android:id=&quot;@+id/delete_favorites_post&quot;\r\n        android:title=&quot;@string/delete_post&quot;\r\n        app:showAsAction=&quot;ifRoom&quot;\r\n        app:iconTint=&quot;@color/white&quot;\r\n        android:icon=&quot;@drawable/ic_delete&quot;\r\n        &gt;\r\n\r\n    &lt;/item&gt;\r\n\r\n&lt;/menu&gt;\r\n```\r\n\r\n\r\nPS: I tried to get the selected position from the holder and assign it to selectedPostPosition int value to use it in **`notifyItemRemoved(position);`** and **`notifyItemRangeChanged(position, getItemCount());`** like in this [answer][1] but it doesn&#39;t fix the issue\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/34350179/4205927","title":"RecyclerView duplicating items after deletion from contextual action mode","body":"<p>In this part of my app, I am trying to implement deleting of selected favorite items via contextual action mode/bar, the problem is when I select an item then delete, it's deleted from the database and selected list but it is still available in recyclerView and it adds a duplicate  from another item, the following gif clarify the problem</p>\n<p><a href=\"https://i.stack.imgur.com/sgORH.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.imgur.com/3Zp4nC3.gif\" title=\"source: imgur.com\" /></a></p>\n<p><strong>Edited</strong> the full adapter code <strong>FavoritesPostAdapter</strong></p>\n<pre><code>public class FavoritesPostAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\n\n    private final FragmentActivity fragmentActivity;\n    private final List&lt;FavoritesEntity&gt; favoritesList;\n    private View rootView;\n\n    private static final int CARD = 0;\n    private static final int CARD_MAGAZINE = 1;\n    private static final int TITLE = 2;\n    private static final int GRID = 3;\n    private static final int SDK_VERSION = Build.VERSION.SDK_INT;\n    public static final String TAG = &quot;POST ADAPTER&quot;;\n\n    private int viewType;\n    public final Fragment fragment;\n    public final PostViewModel postViewModel;\n    private ActionMode mActionMode;\n    private boolean multiSelection = false;\n//    private int selectedPostPosition ;\n    private final List&lt;FavoritesEntity&gt; selectedPosts = new ArrayList&lt;&gt;();\n    private final List&lt;RecyclerView.ViewHolder&gt; myViewHolders = new ArrayList&lt;&gt;();\n\n    public FavoritesPostAdapter(FragmentActivity fragmentActivity,\n                                List&lt;FavoritesEntity&gt; favoritesList, Fragment fragment,\n                                PostViewModel postViewModel) {\n        this.fragmentActivity = fragmentActivity;\n        this.favoritesList = favoritesList;\n        this.fragment = fragment;\n        this.postViewModel = postViewModel;\n    }\n\n    public void setViewType(int viewType) {\n        this.viewType = viewType;\n        notifyDataSetChanged();\n    }\n\n    public int getViewType() {\n        return this.viewType;\n    }\n\n    private final ActionMode.Callback mActionModeCallback = new ActionMode.Callback() {\n        @Override\n        public boolean onCreateActionMode(ActionMode actionMode, Menu menu) {\n            mActionMode = actionMode;\n            actionMode.getMenuInflater().inflate(R.menu.favorites_contextual_menu, menu);\n            applyStatusBarColor(R.color.contextualStatusBarColor);\n            return true;\n        }\n\n        @Override\n        public boolean onPrepareActionMode(ActionMode actionMode, Menu menu) {\n            return true;\n        }\n\n        @Override\n        public boolean onActionItemClicked(ActionMode actionMode, MenuItem menuItem) {\n            if (menuItem.getItemId() == R.id.delete_favorites_post) {\n                for (FavoritesEntity favoritesEntity : selectedPosts) {\n                    postViewModel.deleteFavoritePost(favoritesEntity);\n                }\n                showSnackBar(selectedPosts.size() + &quot; post/s deleted&quot;);\n                multiSelection = false;\n                selectedPosts.clear();\n                notifyDataSetChanged();\n                mActionMode.finish();\n            }\n            return true;\n        }\n\n        @Override\n        public void onDestroyActionMode(ActionMode actionMode) {\n\n            for (RecyclerView.ViewHolder holder : myViewHolders) {\n                changePostStyle(holder, R.color.cardBackgroundColor, R.color.strokeColor);\n            }\n\n            multiSelection = false;\n            selectedPosts.clear();\n            applyStatusBarColor(R.color.statusBarColor);\n        }\n    };\n\n    private void showSnackBar(String message){\n        Snackbar.make(rootView,message,Snackbar.LENGTH_SHORT).show();\n    }\n\n    private void applyStatusBarColor(int color) {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n            fragmentActivity.getWindow().setStatusBarColor(ContextCompat.getColor(fragmentActivity, color));\n        }\n    }\n\n    private void applySelection(RecyclerView.ViewHolder holder, FavoritesEntity currentSelectedPost) {\n\n        if (selectedPosts.contains(currentSelectedPost)) {\n            selectedPosts.remove(currentSelectedPost);\n            changePostStyle(holder, R.color.cardBackgroundColor, R.color.strokeColor);\n            applyActionModeTitle();\n        } else {\n            selectedPosts.add(currentSelectedPost);\n            changePostStyle(holder, R.color.cardBackgroundLightColor, R.color.primaryColor);\n            applyActionModeTitle();\n        }\n    }\n\n    private void changePostStyle(RecyclerView.ViewHolder holder, int backgroundColor, int strokeColor) {\n        if (holder instanceof CardViewHolder) {\n            ((CardViewHolder) holder).cardLayoutBinding.mainLinearLayout.setBackgroundColor(\n                    ContextCompat.getColor(fragmentActivity.getApplicationContext(),\n                            backgroundColor)\n            );\n            ((CardViewHolder) holder).cardLayoutBinding.cardView.setStrokeColor(\n                    strokeColor);\n        }\n    }\n\n    private void applyActionModeTitle() {\n        if (selectedPosts.size() == 0) {\n            mActionMode.finish();\n            multiSelection = false;\n        } else if (selectedPosts.size() == 1) {\n            mActionMode.setTitle(selectedPosts.size() + &quot; item selected&quot;);\n        } else {\n            mActionMode.setTitle(selectedPosts.size() + &quot; items selected&quot;);\n        }\n    }\n\n\n    @NonNull\n    @Override\n    public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        LayoutInflater inflater = LayoutInflater.from(fragmentActivity);\n        View view;\n\n        if (this.viewType == CARD) {\n            final CardLayoutBinding cardLayoutBinding\n                    = CardLayoutBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false);\n            return new FavoritesPostAdapter.CardViewHolder(cardLayoutBinding);\n        } else if (this.viewType == CARD_MAGAZINE) {\n            final CardMagazineBinding cardMagazineBinding\n                    = CardMagazineBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false);\n            return new FavoritesPostAdapter.CardMagazineViewHolder(cardMagazineBinding);\n        } else if (this.viewType == TITLE) {\n            if (SDK_VERSION &lt; Build.VERSION_CODES.LOLLIPOP) {\n                view = inflater.inflate(R.layout.title_layout_v15, parent, false);\n            } else {\n                view = inflater.inflate(R.layout.title_layout, parent, false);\n            }\n            return new FavoritesPostAdapter.TitleViewHolder(view);\n        } else {\n            if (SDK_VERSION &lt; Build.VERSION_CODES.LOLLIPOP) {\n                view = inflater.inflate(R.layout.grid_layout_v15, parent, false);\n            } else {\n                view = inflater.inflate(R.layout.grid_layout, parent, false);\n            }\n            return new FavoritesPostAdapter.GridViewHolder(view);\n        }\n\n    }\n\n\n    @Override\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\n\n        myViewHolders.add(holder);\n        rootView = holder.itemView.getRootView();\n//        selectedPostPosition = position;\n\n        int itemType = getViewType();\n        FavoritesEntity favoriteItem = favoritesList.get(position);\n        final Document document = Jsoup.parse(favoriteItem.getItem().getContent());\n        final Elements elements = document.select(&quot;img&quot;);\n\n//        Log.e(&quot;IMAGE&quot;, document.getAllElements().select(&quot;img&quot;).get(0).attr(&quot;src&quot;));\n\n\n        switch (itemType) {\n            case CARD:\n                if (holder instanceof FavoritesPostAdapter.CardViewHolder) {\n                    ((FavoritesPostAdapter.CardViewHolder) holder).bind(favoriteItem);\n\n                    ((CardViewHolder) holder).cardLayoutBinding.cardView.setOnClickListener(view -&gt; {\n                                if (multiSelection) {\n                                    applySelection(holder, favoriteItem);\n                                } else {\n                                    mActionMode.finish();\n                                    if (Objects.requireNonNull(Navigation.findNavController(\n                                            view\n                                    ).getCurrentDestination()).getId() == R.id.nav_favorites) {\n                                        Navigation.findNavController(view)\n                                                .navigate(FavoritesFragmentDirections\n                                                        .actionFavoritesFragmentToDetailsFragment(favoriteItem.getItem()));\n                                    }\n                                }\n                            }\n                    );\n                    ((CardViewHolder) holder).cardLayoutBinding.cardView.setOnLongClickListener(view -&gt; {\n                        if (!multiSelection) {\n                            multiSelection = true;\n                            fragmentActivity.startActionMode(mActionModeCallback);\n                            applySelection(holder, favoriteItem);\n                            return true;\n                        } else {\n                            applySelection(holder, favoriteItem);\n                            return true;\n                        }\n\n                    });\n                }\n\n                break;\n\n            case CARD_MAGAZINE:\n                if (holder instanceof FavoritesPostAdapter.CardMagazineViewHolder) {\n                    FavoritesPostAdapter.CardMagazineViewHolder\n                            cardMagazineViewHolder = (FavoritesPostAdapter.CardMagazineViewHolder) holder;\n                    cardMagazineViewHolder.bind(favoriteItem);\n\n                }\n                break;\n            case TITLE:\n                if (holder instanceof FavoritesPostAdapter.TitleViewHolder) {\n                    FavoritesPostAdapter.TitleViewHolder titleViewHolder = (FavoritesPostAdapter.TitleViewHolder) holder;\n                    titleViewHolder.postTitle.setText(favoriteItem.getItem().getTitle());\n\n                    Log.d(&quot;TITLE&quot;, &quot;title layout called&quot;);\n\n\n                    try {\n                        Log.e(&quot;IMAGE&quot;, elements.get(0).attr(&quot;src&quot;));\n                        Glide.with(fragmentActivity).load(elements.get(0).attr(&quot;src&quot;))\n                                .transition(DrawableTransitionOptions.withCrossFade(600))\n                                .placeholder(R.drawable.loading_animation)\n                                .error(R.drawable.no_image)\n                                .into(titleViewHolder.postImage);\n                    } catch (IndexOutOfBoundsException e) {\n                        titleViewHolder.postImage.setImageResource(R.drawable.no_image);\n                        Log.e(TAG, e.toString());\n                    }\n\n                    if (position == getItemCount() - 1)\n                        if (fragment instanceof HomeFragment) {\n                            postViewModel.getPosts();\n                        } else {\n                            postViewModel.getPostListByLabel();\n                        }\n\n                }\n                break;\n            case GRID:\n                if (holder instanceof FavoritesPostAdapter.GridViewHolder) {\n                    FavoritesPostAdapter.GridViewHolder gridViewHolder = (FavoritesPostAdapter.GridViewHolder) holder;\n                    gridViewHolder.postTitle.setText(favoriteItem.getItem().getTitle());\n\n\n                    try {\n                        Log.e(&quot;IMAGE&quot;, elements.get(0).attr(&quot;src&quot;));\n                        Glide.with(fragmentActivity).load(elements.get(0).attr(&quot;src&quot;))\n                                .transition(DrawableTransitionOptions.withCrossFade(600))\n                                .placeholder(R.drawable.loading_animation)\n                                .error(R.drawable.no_image)\n                                .into(gridViewHolder.postImage);\n                    } catch (IndexOutOfBoundsException e) {\n                        gridViewHolder.postImage.setImageResource(R.drawable.no_image);\n                        Log.e(TAG, e.toString());\n                    }\n\n                    if (position == getItemCount() - 1)\n                        if (fragment instanceof HomeFragment) {\n                            postViewModel.getPosts();\n                        } else {\n                            postViewModel.getPostListByLabel();\n                        }\n\n                }\n        }\n\n\n    }\n\n\n    @Override\n    public int getItemCount() {\n        return favoritesList.size();\n    }\n\n    @Override\n    public void setHasStableIds(boolean hasStableIds) {\n        super.setHasStableIds(hasStableIds);\n    }\n\n    @Override\n    public long getItemId(int position) {\n        return position;\n    }\n\n\n    public static class CardViewHolder extends RecyclerView.ViewHolder {\n\n        final CardLayoutBinding cardLayoutBinding;\n        final Context context;\n\n        private CardViewHolder(final CardLayoutBinding binding) {\n            super(binding.getRoot());\n            cardLayoutBinding = binding;\n            context = cardLayoutBinding.getRoot().getContext();\n\n\n        }\n\n        private void bind(FavoritesEntity favoriteItem) {\n            final Document document = Jsoup.parse(favoriteItem.getItem().getContent());\n            final Elements elements = document.select(&quot;img&quot;);\n\n//        Log.e(&quot;IMAGE&quot;, document.getAllElements().select(&quot;img&quot;).get(0).attr(&quot;src&quot;));\n\n            Date date = new Date();\n            SimpleDateFormat format = new SimpleDateFormat\n                    (&quot;yyyy-MM-dd'T'HH:mm:ssZ&quot;, Locale.getDefault());\n\n            cardLayoutBinding.postTitle.setText(favoriteItem.getItem().getTitle());\n\n            try {\n                Log.e(&quot;IMAGE&quot;, elements.get(0).attr(&quot;src&quot;));\n                Glide.with(context).load(elements.get(0).attr(&quot;src&quot;))\n                        .transition(DrawableTransitionOptions.withCrossFade(600))\n                        .placeholder(R.drawable.loading_animation)\n                        .error(R.drawable.no_image)\n                        .into(cardLayoutBinding.postImage);\n            } catch (IndexOutOfBoundsException e) {\n                cardLayoutBinding.postImage.setImageResource(R.drawable.no_image);\n                Log.e(TAG, e.toString());\n            }\n\n\n            cardLayoutBinding.postDescription.setText(document.text());\n            try {\n                date = format.parse(favoriteItem.getItem().getPublished());\n\n            } catch (ParseException e) {\n                e.printStackTrace();\n            }\n\n            PrettyTime prettyTime = new PrettyTime();\n\n            cardLayoutBinding.postDate.setText(prettyTime.format(date));\n\n        }\n    }\n\n    public static class CardMagazineViewHolder extends RecyclerView.ViewHolder {\n\n        final CardMagazineBinding cardMagazineBinding;\n        final Context context;\n\n        private CardMagazineViewHolder(final CardMagazineBinding binding) {\n            super(binding.getRoot());\n            cardMagazineBinding = binding;\n            context = cardMagazineBinding.getRoot().getContext();\n\n\n        }\n\n        private void bind(FavoritesEntity favoriteItem) {\n            final Document document = Jsoup.parse(favoriteItem.getItem().getContent());\n            final Elements elements = document.select(&quot;img&quot;);\n\n\n            Date date = new Date();\n            SimpleDateFormat format = new SimpleDateFormat\n                    (&quot;yyyy-MM-dd'T'HH:mm:ssZ&quot;, Locale.getDefault());\n\n\n//        Log.e(&quot;IMAGE&quot;, document.getAllElements().select(&quot;img&quot;).get(0).attr(&quot;src&quot;));\n            cardMagazineBinding.postTitle.setText(favoriteItem.getItem().getTitle());\n\n\n            try {\n                Log.e(&quot;IMAGE&quot;, elements.get(0).attr(&quot;src&quot;));\n                Glide.with(context).load(elements.get(0).attr(&quot;src&quot;))\n                        .transition(DrawableTransitionOptions.withCrossFade(600))\n                        .placeholder(R.drawable.loading_animation)\n                        .error(R.drawable.no_image)\n                        .into(cardMagazineBinding.postImage);\n            } catch (IndexOutOfBoundsException e) {\n                cardMagazineBinding.postImage.setImageResource(R.drawable.no_image);\n                Log.e(TAG, e.toString());\n            }\n\n            try {\n                date = format.parse(favoriteItem.getItem().getPublished());\n\n            } catch (ParseException e) {\n                e.printStackTrace();\n            }\n            PrettyTime prettyTime = new PrettyTime();\n\n            cardMagazineBinding.postDate.setText(prettyTime.format(date));\n\n        }\n    }\n\n    public static class TitleViewHolder extends RecyclerView.ViewHolder {\n        TextView postTitle;\n        com.blogspot.abtallaldigital.utils.MyImageview postImage;\n\n\n        private TitleViewHolder(@NonNull View itemView) {\n            super(itemView);\n            postTitle = itemView.findViewById(R.id.postTitle);\n            postImage = itemView.findViewById(R.id.postImage);\n        }\n    }\n\n\n    public static class GridViewHolder extends RecyclerView.ViewHolder {\n        TextView postTitle;\n        MyImageview postImage;\n\n\n        private GridViewHolder(@NonNull View itemView) {\n            super(itemView);\n            postTitle = itemView.findViewById(R.id.postTitle);\n            postImage = itemView.findViewById(R.id.postImage);\n        }\n    }\n}\n</code></pre>\n<p><strong>favorites_contextual_menu xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;item\n        android:id=&quot;@+id/delete_favorites_post&quot;\n        android:title=&quot;@string/delete_post&quot;\n        app:showAsAction=&quot;ifRoom&quot;\n        app:iconTint=&quot;@color/white&quot;\n        android:icon=&quot;@drawable/ic_delete&quot;\n        &gt;\n\n    &lt;/item&gt;\n\n&lt;/menu&gt;\n</code></pre>\n<p>PS: I tried to get the selected position from the holder and assign it to selectedPostPosition int value to use it in <strong><code>notifyItemRemoved(position);</code></strong> and <strong><code>notifyItemRangeChanged(position, getItemCount());</code></strong> like in this <a href=\"https://stackoverflow.com/a/34350179/4205927\">answer</a> but it doesn't fix the issue</p>\n"},{"tags":["java","transactions"],"comments":[{"owner":{"account_id":3029291,"reputation":1704,"user_id":2568649,"display_name":"Chris"},"score":0,"creation_date":1636491590,"post_id":69904466,"comment_id":123570732,"body_markdown":"See https://stackoverflow.com/q/37398148/2568649","body":"See <a href=\"https://stackoverflow.com/q/37398148/2568649\">stackoverflow.com/q/37398148/2568649</a>"},{"owner":{"account_id":20779910,"reputation":51,"user_id":15260602,"display_name":"Alex "},"score":1,"creation_date":1636614909,"post_id":69904466,"comment_id":123605693,"body_markdown":"Thanks, this gives better understanding of the situation","body":"Thanks, this gives better understanding of the situation"}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1636489123,"creation_date":1636489123,"answer_id":69904571,"question_id":69904466,"body_markdown":"If you look at the [javadoc][1] you will see that you **CAN** specify the transaction isolation levels for `javax.transaction.Transactional`.\r\n\r\nIt can be done like this ... \r\n```\r\n@Transactional(value = Transactional.TxType.NEVER)\r\nvoid test() {\r\n  ... JPA code goes here ...\r\n}\r\n```\r\n\r\nYou can find the list of support `Transactional.TxType` values [here][2]. They are almost the same as in Spring.\r\n\r\nDoes this resolve your problem ? \r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/transaction/Transactional.html#value--\r\n  [2]: https://docs.oracle.com/javaee/7/api/javax/transaction/Transactional.TxType.html","title":"What is the reason for javax.transaction.Transactional cannot specify the isolation level?","body":"<p>If you look at the <a href=\"https://docs.oracle.com/javaee/7/api/javax/transaction/Transactional.html#value--\" rel=\"nofollow noreferrer\">javadoc</a> you will see that you <strong>CAN</strong> specify the transaction isolation levels for <code>javax.transaction.Transactional</code>.</p>\n<p>It can be done like this ...</p>\n<pre><code>@Transactional(value = Transactional.TxType.NEVER)\nvoid test() {\n  ... JPA code goes here ...\n}\n</code></pre>\n<p>You can find the list of support <code>Transactional.TxType</code> values <a href=\"https://docs.oracle.com/javaee/7/api/javax/transaction/Transactional.TxType.html\" rel=\"nofollow noreferrer\">here</a>. They are almost the same as in Spring.</p>\n<p>Does this resolve your problem ?</p>\n"}],"owner":{"account_id":20779910,"reputation":51,"user_id":15260602,"display_name":"Alex "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1047,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1636492405,"creation_date":1636488586,"question_id":69904466,"body_markdown":"What is the reason for `javax.transaction.Transactional` cannot specify the isolation level while it is possible with springframework Transactional? How can one manage the isolation level when using standard Transactional annotation?","title":"What is the reason for javax.transaction.Transactional cannot specify the isolation level?","body":"<p>What is the reason for <code>javax.transaction.Transactional</code> cannot specify the isolation level while it is possible with springframework Transactional? How can one manage the isolation level when using standard Transactional annotation?</p>\n"},{"tags":["java","maven","swing","javafx","executable-jar"],"comments":[{"owner":{"account_id":2259314,"reputation":11225,"user_id":1989769,"accept_rate":45,"display_name":"Sergiy Medvynskyy"},"score":0,"creation_date":1636124875,"post_id":69854986,"comment_id":123480851,"body_markdown":"Probably you should add the jars mentioned in dependencies (at least all java-fx jars) to your classpath when you call java -jar. Use &#39;-cp&#39; option for this.","body":"Probably you should add the jars mentioned in dependencies (at least all java-fx jars) to your classpath when you call java -jar. Use &#39;-cp&#39; option for this."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1636141033,"post_id":69854986,"comment_id":123486536,"body_markdown":"Don&#39;t depend on mixed version of JavaFX libs.  Don&#39;t depend on early access software if you can avoid it.  Current JavaFX version is 17.0.1, use that for all JavaFX dependencies.","body":"Don&#39;t depend on mixed version of JavaFX libs.  Don&#39;t depend on early access software if you can avoid it.  Current JavaFX version is 17.0.1, use that for all JavaFX dependencies."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636492187,"creation_date":1636157923,"answer_id":69860519,"question_id":69854986,"body_markdown":"You have numerous issues with your code and packaging.  I can&#39;t really explain them all here now.  But I present some alternatives you could try to work with if you wish.  \r\n\r\nI&#39;ll also add the usual caveat: don&#39;t mix JavaFX and Swing unless you really have to.\r\n\r\n*Packaging Alternatives*\r\n\r\nOrdered from the least to most self-contained options (not most to least desirable):\r\n\r\n 1. Thin jar *without* JavaFX dependencies\r\n\r\n    * requires mandating that the application run on a JDK or Java runtime which includes pre-bundled JavaFX modules.  For example, from the distributors mentioned below.  If used, ensure you select their distributions of the JDK which *include JavaFX*:\r\n      * [BellSoft iberica](https://bell-sw.com)\r\n      * [Azul Zulu](https://www.azul.com/downloads/?package=jdk-fx)\r\n\r\n    * You don&#39;t need to put JavaFX dependencies in your Maven project as they are already available in the underlying platform.\r\n\r\n    * If it is a simple application, without any other dependencies than the standard JDK and JavaFX, then you can package the application as an executable jar with no dependencies.\r\n\r\n      * See the section titled &quot;Make The Jar Executable&quot; in the [maven-jar-plugin documentation](https://maven.apache.org/shared/maven-archiver/examples/classpath.html).\r\n\r\n 2. Shaded &quot;fat&quot; jar (or zip) *without* JavaFX dependencies\r\n\r\n    * If you have non-javafx dependencies, you can use the info in the solutions for &quot;fat&quot; jar with JavaFX dependencies or zip without JRE.\r\n      * Don&#39;t place the JavaFX dependencies in your maven project dependency list.\r\n      * Ensure that you and your users are always using a JDK or java runtime which includes JavaFX.\r\n\r\n 3. Shaded &quot;fat&quot; jar (jar) *with* JavaFX dependencies\r\n\r\n    * https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing.\r\n\r\n 4. Zip without JRE (zip, tar, tar.gz, tar.bz2)\r\n\r\n     * create a [maven assembly][1] (this solution).\r\n\r\n 5. Zip with JRE (zip, tar, tar.gz, tar.bz2)\r\n\r\n     * use [jlink][2] to create a runtime image directory.\r\n     * create a zip of the runtime image with an [assembly][1].\r\n\r\n 6. Windows exe (exe)\r\n\r\n     * use [warp-packer](https://stackoverflow.com/questions/69811401/how-to-create-a-standalone-exe-in-java-that-runs-without-an-installer-and-a-jr/69824145#69824145).\r\n\r\n 7. Native installer (msi, dmg, app, rpm, deb)\r\n\r\n     * use [jpackage][3].\r\n\r\nIn terms of ease of use for users, I&#39;d recommend the later ones which bundle a working Java runtime: either a Native installer, Zip with JRE, or Windows exe.  \r\n\r\nI think the solutions which require the user to have a valid JRE installed are less desirable for many applications.  \r\n\r\n * With no bundled JRE, the difficult work of ensuring the right JRE is present and properly configured is shifted to every user rather than the developer.\r\n * The Maven shade &quot;fat&quot; jar option which includes JavaFX dependencies isn&#39;t one supported by the JavaFX development team.\r\n\r\n*For Maven Users*\r\n\r\n - jlink can be invoked from the [OpenJFX JavaFX Maven plugin][4].\r\n    - Currently the [Apache Maven jlink plugin][5] does not work with JavaFX, hopefully that will be fixed.\r\n - jpackage can be invoked from the [akman jpackage maven plugin][6].\r\n    - jpackage can also create images, the same as jlink.\r\n    - If creating native installers, I recommend having jpackage handle both the linking and packaging (jpackage will warn you if you do not do this).\r\n    - On some options for windows apps, I found that jlink did not place the required icons in the right place by default, resulting in weird and hard to track down [issues][7] that did not occur when jpackage did the linking.\r\n\r\n### Zip without JRE Option\r\n\r\nThe rest of this answer focuses purely on the Zip without JRE option.  \r\n\r\nSee the readme at the end of the answer which describes what this is and how to use it.  If it is not what you are looking for, just ignore it and try to solve your issues another way.  \r\n\r\nThe solution is *not* an executable jar.  Instead, it is a set of java modules packaged in jar format, executed via a launcher script and assembled into a compressed archive file.  \r\n\r\n - It requires that JRE 17+ be installed on the target machine.  \r\n\r\n - The application is only packaged for executing on an Intel Mac (at least when it has been built on an Intel Mac).  \r\n\r\n   - Packaging for other platforms is possible, but is outside the scope of what I am discussing here.\r\n\r\n*Swing&lt;-&gt;JavaFX integration*\r\n\r\nThe solution is for a Swing+JavaFX application.  Normally I wouldn&#39;t recommend such a configuration, however it is presented here because that is what the question asked about.  The Swing&lt;-&gt;JavaFX integration code follows the structure and guidelines provided in Oracle&#39;s tutorial: [Integrating JavaFX into Swing Applications](https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/swing-fx-interoperability.htm).\r\n\r\nIf you don&#39;t have Swing in your application, remove the Swing application, the javafx.swing requirement in the module definition and the javafx-swing dependency from Maven, and reconfigure the launcher script to directly call the JavaFX HelloApplication and everything will work fine for a pure JavaFX application distribution without Swing.\r\n\r\n*File tree*\r\n\r\n    $ tree\r\n    ├── pom.xml\r\n    ├── readme.md\r\n    └── src\r\n        ├── assembly\r\n        │&#160;&#160; └── bin.xml\r\n        └── main\r\n            ├── command\r\n            │&#160;&#160; └── swingfx.sh\r\n            ├── java\r\n            │&#160;&#160; ├── com\r\n            │&#160;&#160; │&#160;&#160; └── example\r\n            │&#160;&#160; │&#160;&#160;     └── swingfx\r\n            │&#160;&#160; │&#160;&#160;         ├── HelloApplication.java\r\n            │&#160;&#160; │&#160;&#160;         ├── HelloController.java\r\n            │&#160;&#160; │&#160;&#160;         └── SwingApp.java\r\n            │&#160;&#160; └── module-info.java\r\n            └── resources\r\n                └── com\r\n                    └── example\r\n                        └── swingfx\r\n                            └── hello-view.fxml\r\n\r\nI skipped providing the JavaFX FXML and Controller code because they aren&#39;t relevant to the solution, they are just formed from standard code that you can find in any basic FXML tutorial.\r\n\r\n*pom.xml*\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;SwingFX&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;SwingFX&lt;/name&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;javafx.version&gt;17.0.1&lt;/javafx.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n                &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n                &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\r\n                &lt;version&gt;${javafx.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;17&lt;/source&gt;\r\n                        &lt;target&gt;17&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;descriptors&gt;\r\n                            &lt;descriptor&gt;src/assembly/bin.xml&lt;/descriptor&gt;\r\n                        &lt;/descriptors&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;single&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n*module-info.java*\r\n\r\n    module com.example.swingfx {\r\n        requires javafx.controls;\r\n        requires javafx.fxml;\r\n        requires javafx.swing;\r\n    \r\n        opens com.example.swingfx to javafx.fxml;\r\n        exports com.example.swingfx;\r\n    }\r\n\r\n*SwingApp.java*\r\n\r\n    package com.example.swingfx;\r\n    \r\n    import javafx.application.Platform;\r\n    import javafx.embed.swing.JFXPanel;\r\n    \r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    public class SwingApp {\r\n    \r\n        private static void initAndShowGUI() {\r\n            JFrame frame = new JFrame(&quot;Swing Main App JFrame&quot;);\r\n            frame.setSize(500, 180);\r\n            frame.setVisible(true);\r\n            frame.setLayout(null);\r\n            frame.setLocation(100, 100);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n            //Button opens the ServiceTool interface\r\n            JButton toolLauncher = new JButton(&quot;Launch JavaFX Tool&quot;);\r\n            toolLauncher.setSize(280, 20);\r\n            toolLauncher.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 15));\r\n            toolLauncher.setVisible(true);\r\n            toolLauncher.setLocation(10, 100);\r\n            toolLauncher.addActionListener(e -&gt; launchFXTool());\r\n            frame.add(toolLauncher);\r\n        }\r\n    \r\n        private static void launchFXTool() {\r\n            try {\r\n                // This method is invoked on the EDT thread\r\n                // The method creates a new frame and JavaFX scene whenever it is invoked.\r\n                // If preferred and only one instance is required, then cache the JFrame\r\n                // on first launch, then show and focus the existing JFrame when the tool is relaunched.\r\n                JFrame frame = new JFrame(&quot;Swing JFrame with JavaFX scene content&quot;);\r\n                final JFXPanel fxPanel = new JFXPanel();\r\n                frame.add(fxPanel);\r\n                frame.setSize(300, 200);\r\n                frame.setVisible(true);\r\n    \r\n                Platform.runLater(() -&gt; {\r\n                    // This logic is invoked on the JavaFX thread\r\n                    try {\r\n                        fxPanel.setScene(\r\n                                HelloApplication.createScene()\r\n                        );\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                });\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(SwingApp::initAndShowGUI);\r\n        }\r\n    }\r\n\r\n*HelloApplication.java*\r\n\r\n    package com.example.swingfx;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class HelloApplication extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            stage.setTitle(&quot;Hello!&quot;);\r\n            stage.setScene(createScene());\r\n            stage.show();\r\n        }\r\n    \r\n        public static Scene createScene() throws IOException {\r\n            FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\r\n            return new Scene(fxmlLoader.load(), 320, 240);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n*swingfx.sh*\r\n\r\n    #!/bin/sh\r\n    VM_OPTIONS=\r\n    DIR=`dirname $0`\r\n    MODULE_PATH=$DIR/../lib\r\n    MAIN_CLASS=com.example.swingfx/com.example.swingfx.SwingApp \r\n    # if desired you could add a check to ensure a compatible java version is installed and print a friendly error message if not.\r\n    # launches a java app with the given vm options and module path, passing the arguments provided to this script to the app.\r\n    java $VM_OPTIONS -p $MODULE_PATH -m $MAIN_CLASS &quot;$@&quot;\r\n\r\n*bin.xml*\r\n\r\n    &lt;assembly&gt;\r\n        &lt;id&gt;bin&lt;/id&gt;\r\n        &lt;formats&gt;\r\n            &lt;format&gt;tar.gz&lt;/format&gt;\r\n            &lt;format&gt;zip&lt;/format&gt;\r\n        &lt;/formats&gt;\r\n        &lt;dependencySets&gt;\r\n            &lt;dependencySet&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n                &lt;outputDirectory&gt;lib&lt;/outputDirectory&gt;\r\n            &lt;/dependencySet&gt;\r\n        &lt;/dependencySets&gt;\r\n        &lt;fileSets&gt;\r\n            &lt;fileSet&gt;\r\n                &lt;directory&gt;src/main/command&lt;/directory&gt;\r\n                &lt;outputDirectory&gt;bin&lt;/outputDirectory&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;*.sh&lt;/include&gt;\r\n                    &lt;include&gt;*.bat&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n                &lt;fileMode&gt;0755&lt;/fileMode&gt;\r\n            &lt;/fileSet&gt;\r\n        &lt;/fileSets&gt;\r\n    &lt;/assembly&gt;\r\n\r\n*readme.md*\r\n\r\nExample of a Swing application integrated with JavaFX.\r\nThe application is built as a Java module application.\r\n\r\n### Build Requirements\r\n\r\n * Java JDK 17+\r\n * Maven 3.8+\r\n\r\n### Execution Requirements\r\n * Java JRE 17+\r\n * Mac OS X Intel\r\n\r\n### Build Instructions\r\n\r\nBuild and package the application:\r\n\r\n    mvn package\r\n\r\nThe build will create the following file:\r\n\r\n    target/SwingFX-1.0-SNAPSHOT-bin.tar.gz\r\n\r\n### Execution instructions\r\n\r\n 1. Extract the application binary from the archive.\r\n\r\n        tar xzvf SwingFX-1.0-SNAPSHOT-bin.tar.gz\r\n\r\n 3. Run the application:\r\n\r\n        SwingFX-1.0-SNAPSHOT/bin/swingfx.sh \r\n\r\n### Contents of the distribution\r\n\r\n    $ tar xvzf SwingFX-1.0-SNAPSHOT-bin.tar.gz \r\n    x SwingFX-1.0-SNAPSHOT/bin/swingfx.sh\r\n    x SwingFX-1.0-SNAPSHOT/lib/javafx-controls-17.0.1.jar\r\n    x SwingFX-1.0-SNAPSHOT/lib/javafx-controls-17.0.1-mac.jar\r\n    x SwingFX-1.0-SNAPSHOT/lib/javafx-graphics-17.0.1.jar\r\n    x SwingFX-1.0-SNAPSHOT/lib/javafx-graphics-17.0.1-mac.jar\r\n    x SwingFX-1.0-SNAPSHOT/lib/javafx-base-17.0.1.jar\r\n    x SwingFX-1.0-SNAPSHOT/lib/javafx-base-17.0.1-mac.jar\r\n    x SwingFX-1.0-SNAPSHOT/lib/javafx-fxml-17.0.1.jar\r\n    x SwingFX-1.0-SNAPSHOT/lib/javafx-fxml-17.0.1-mac.jar\r\n    x SwingFX-1.0-SNAPSHOT/lib/javafx-swing-17.0.1.jar\r\n    x SwingFX-1.0-SNAPSHOT/lib/javafx-swing-17.0.1-mac.jar\r\n    x SwingFX-1.0-SNAPSHOT/lib/SwingFX-1.0-SNAPSHOT.jar\r\n\r\n \r\n### Troubleshooting\r\n\r\nIf you see the following error, java is not installed and on the default path:\r\n\r\n    -bash: java: command not found\r\n\r\nIf you see an error such as the following:\r\n\r\n    Caused by: java.lang.module.InvalidModuleDescriptorException: Unsupported major.minor version 61.0\r\n\r\nJava is installed but it is not Java 17+, you need to upgrade the Java installation to a later version, you can check the current version using `java -version` \r\n\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-assembly-plugin/\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/specs/man/jlink.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A\r\n  [4]: https://github.com/openjfx/javafx-maven-plugin\r\n  [5]: https://maven.apache.org/plugins/maven-jlink-plugin/\r\n  [6]: https://akman.github.io/jpackage-maven-plugin/\r\n  [7]: https://stackoverflow.com/a/69607557/1155209","title":"Creating a runnable .jar with Maven using Java Swing and integrated JavaFX - App crashes when JFXPanel is being instantiated","body":"<p>You have numerous issues with your code and packaging.  I can't really explain them all here now.  But I present some alternatives you could try to work with if you wish.</p>\n<p>I'll also add the usual caveat: don't mix JavaFX and Swing unless you really have to.</p>\n<p><em>Packaging Alternatives</em></p>\n<p>Ordered from the least to most self-contained options (not most to least desirable):</p>\n<ol>\n<li><p>Thin jar <em>without</em> JavaFX dependencies</p>\n<ul>\n<li><p>requires mandating that the application run on a JDK or Java runtime which includes pre-bundled JavaFX modules.  For example, from the distributors mentioned below.  If used, ensure you select their distributions of the JDK which <em>include JavaFX</em>:</p>\n<ul>\n<li><a href=\"https://bell-sw.com\" rel=\"nofollow noreferrer\">BellSoft iberica</a></li>\n<li><a href=\"https://www.azul.com/downloads/?package=jdk-fx\" rel=\"nofollow noreferrer\">Azul Zulu</a></li>\n</ul>\n</li>\n<li><p>You don't need to put JavaFX dependencies in your Maven project as they are already available in the underlying platform.</p>\n</li>\n<li><p>If it is a simple application, without any other dependencies than the standard JDK and JavaFX, then you can package the application as an executable jar with no dependencies.</p>\n<ul>\n<li>See the section titled &quot;Make The Jar Executable&quot; in the <a href=\"https://maven.apache.org/shared/maven-archiver/examples/classpath.html\" rel=\"nofollow noreferrer\">maven-jar-plugin documentation</a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>Shaded &quot;fat&quot; jar (or zip) <em>without</em> JavaFX dependencies</p>\n<ul>\n<li>If you have non-javafx dependencies, you can use the info in the solutions for &quot;fat&quot; jar with JavaFX dependencies or zip without JRE.\n<ul>\n<li>Don't place the JavaFX dependencies in your maven project dependency list.</li>\n<li>Ensure that you and your users are always using a JDK or java runtime which includes JavaFX.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>Shaded &quot;fat&quot; jar (jar) <em>with</em> JavaFX dependencies</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing\">Maven Shade JavaFX runtime components are missing</a>.</li>\n</ul>\n</li>\n<li><p>Zip without JRE (zip, tar, tar.gz, tar.bz2)</p>\n<ul>\n<li>create a <a href=\"http://maven.apache.org/plugins/maven-assembly-plugin/\" rel=\"nofollow noreferrer\">maven assembly</a> (this solution).</li>\n</ul>\n</li>\n<li><p>Zip with JRE (zip, tar, tar.gz, tar.bz2)</p>\n<ul>\n<li>use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/jlink.html\" rel=\"nofollow noreferrer\">jlink</a> to create a runtime image directory.</li>\n<li>create a zip of the runtime image with an <a href=\"http://maven.apache.org/plugins/maven-assembly-plugin/\" rel=\"nofollow noreferrer\">assembly</a>.</li>\n</ul>\n</li>\n<li><p>Windows exe (exe)</p>\n<ul>\n<li>use <a href=\"https://stackoverflow.com/questions/69811401/how-to-create-a-standalone-exe-in-java-that-runs-without-an-installer-and-a-jr/69824145#69824145\">warp-packer</a>.</li>\n</ul>\n</li>\n<li><p>Native installer (msi, dmg, app, rpm, deb)</p>\n<ul>\n<li>use <a href=\"https://docs.oracle.com/en/java/javase/17/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A\" rel=\"nofollow noreferrer\">jpackage</a>.</li>\n</ul>\n</li>\n</ol>\n<p>In terms of ease of use for users, I'd recommend the later ones which bundle a working Java runtime: either a Native installer, Zip with JRE, or Windows exe.</p>\n<p>I think the solutions which require the user to have a valid JRE installed are less desirable for many applications.</p>\n<ul>\n<li>With no bundled JRE, the difficult work of ensuring the right JRE is present and properly configured is shifted to every user rather than the developer.</li>\n<li>The Maven shade &quot;fat&quot; jar option which includes JavaFX dependencies isn't one supported by the JavaFX development team.</li>\n</ul>\n<p><em>For Maven Users</em></p>\n<ul>\n<li>jlink can be invoked from the <a href=\"https://github.com/openjfx/javafx-maven-plugin\" rel=\"nofollow noreferrer\">OpenJFX JavaFX Maven plugin</a>.\n<ul>\n<li>Currently the <a href=\"https://maven.apache.org/plugins/maven-jlink-plugin/\" rel=\"nofollow noreferrer\">Apache Maven jlink plugin</a> does not work with JavaFX, hopefully that will be fixed.</li>\n</ul>\n</li>\n<li>jpackage can be invoked from the <a href=\"https://akman.github.io/jpackage-maven-plugin/\" rel=\"nofollow noreferrer\">akman jpackage maven plugin</a>.\n<ul>\n<li>jpackage can also create images, the same as jlink.</li>\n<li>If creating native installers, I recommend having jpackage handle both the linking and packaging (jpackage will warn you if you do not do this).</li>\n<li>On some options for windows apps, I found that jlink did not place the required icons in the right place by default, resulting in weird and hard to track down <a href=\"https://stackoverflow.com/a/69607557/1155209\">issues</a> that did not occur when jpackage did the linking.</li>\n</ul>\n</li>\n</ul>\n<h3>Zip without JRE Option</h3>\n<p>The rest of this answer focuses purely on the Zip without JRE option.</p>\n<p>See the readme at the end of the answer which describes what this is and how to use it.  If it is not what you are looking for, just ignore it and try to solve your issues another way.</p>\n<p>The solution is <em>not</em> an executable jar.  Instead, it is a set of java modules packaged in jar format, executed via a launcher script and assembled into a compressed archive file.</p>\n<ul>\n<li><p>It requires that JRE 17+ be installed on the target machine.</p>\n</li>\n<li><p>The application is only packaged for executing on an Intel Mac (at least when it has been built on an Intel Mac).</p>\n<ul>\n<li>Packaging for other platforms is possible, but is outside the scope of what I am discussing here.</li>\n</ul>\n</li>\n</ul>\n<p><em>Swing&lt;-&gt;JavaFX integration</em></p>\n<p>The solution is for a Swing+JavaFX application.  Normally I wouldn't recommend such a configuration, however it is presented here because that is what the question asked about.  The Swing&lt;-&gt;JavaFX integration code follows the structure and guidelines provided in Oracle's tutorial: <a href=\"https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/swing-fx-interoperability.htm\" rel=\"nofollow noreferrer\">Integrating JavaFX into Swing Applications</a>.</p>\n<p>If you don't have Swing in your application, remove the Swing application, the javafx.swing requirement in the module definition and the javafx-swing dependency from Maven, and reconfigure the launcher script to directly call the JavaFX HelloApplication and everything will work fine for a pure JavaFX application distribution without Swing.</p>\n<p><em>File tree</em></p>\n<pre><code>$ tree\n├── pom.xml\n├── readme.md\n└── src\n    ├── assembly\n    │   └── bin.xml\n    └── main\n        ├── command\n        │   └── swingfx.sh\n        ├── java\n        │   ├── com\n        │   │   └── example\n        │   │       └── swingfx\n        │   │           ├── HelloApplication.java\n        │   │           ├── HelloController.java\n        │   │           └── SwingApp.java\n        │   └── module-info.java\n        └── resources\n            └── com\n                └── example\n                    └── swingfx\n                        └── hello-view.fxml\n</code></pre>\n<p>I skipped providing the JavaFX FXML and Controller code because they aren't relevant to the solution, they are just formed from standard code that you can find in any basic FXML tutorial.</p>\n<p><em>pom.xml</em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;SwingFX&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;SwingFX&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;javafx.version&gt;17.0.1&lt;/javafx.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;${javafx.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;${javafx.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\n            &lt;version&gt;${javafx.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;descriptors&gt;\n                        &lt;descriptor&gt;src/assembly/bin.xml&lt;/descriptor&gt;\n                    &lt;/descriptors&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><em>module-info.java</em></p>\n<pre><code>module com.example.swingfx {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires javafx.swing;\n\n    opens com.example.swingfx to javafx.fxml;\n    exports com.example.swingfx;\n}\n</code></pre>\n<p><em>SwingApp.java</em></p>\n<pre><code>package com.example.swingfx;\n\nimport javafx.application.Platform;\nimport javafx.embed.swing.JFXPanel;\n\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class SwingApp {\n\n    private static void initAndShowGUI() {\n        JFrame frame = new JFrame(&quot;Swing Main App JFrame&quot;);\n        frame.setSize(500, 180);\n        frame.setVisible(true);\n        frame.setLayout(null);\n        frame.setLocation(100, 100);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        //Button opens the ServiceTool interface\n        JButton toolLauncher = new JButton(&quot;Launch JavaFX Tool&quot;);\n        toolLauncher.setSize(280, 20);\n        toolLauncher.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 15));\n        toolLauncher.setVisible(true);\n        toolLauncher.setLocation(10, 100);\n        toolLauncher.addActionListener(e -&gt; launchFXTool());\n        frame.add(toolLauncher);\n    }\n\n    private static void launchFXTool() {\n        try {\n            // This method is invoked on the EDT thread\n            // The method creates a new frame and JavaFX scene whenever it is invoked.\n            // If preferred and only one instance is required, then cache the JFrame\n            // on first launch, then show and focus the existing JFrame when the tool is relaunched.\n            JFrame frame = new JFrame(&quot;Swing JFrame with JavaFX scene content&quot;);\n            final JFXPanel fxPanel = new JFXPanel();\n            frame.add(fxPanel);\n            frame.setSize(300, 200);\n            frame.setVisible(true);\n\n            Platform.runLater(() -&gt; {\n                // This logic is invoked on the JavaFX thread\n                try {\n                    fxPanel.setScene(\n                            HelloApplication.createScene()\n                    );\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            });\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(SwingApp::initAndShowGUI);\n    }\n}\n</code></pre>\n<p><em>HelloApplication.java</em></p>\n<pre><code>package com.example.swingfx;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(createScene());\n        stage.show();\n    }\n\n    public static Scene createScene() throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\n        return new Scene(fxmlLoader.load(), 320, 240);\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p><em>swingfx.sh</em></p>\n<pre><code>#!/bin/sh\nVM_OPTIONS=\nDIR=`dirname $0`\nMODULE_PATH=$DIR/../lib\nMAIN_CLASS=com.example.swingfx/com.example.swingfx.SwingApp \n# if desired you could add a check to ensure a compatible java version is installed and print a friendly error message if not.\n# launches a java app with the given vm options and module path, passing the arguments provided to this script to the app.\njava $VM_OPTIONS -p $MODULE_PATH -m $MAIN_CLASS &quot;$@&quot;\n</code></pre>\n<p><em>bin.xml</em></p>\n<pre><code>&lt;assembly&gt;\n    &lt;id&gt;bin&lt;/id&gt;\n    &lt;formats&gt;\n        &lt;format&gt;tar.gz&lt;/format&gt;\n        &lt;format&gt;zip&lt;/format&gt;\n    &lt;/formats&gt;\n    &lt;dependencySets&gt;\n        &lt;dependencySet&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;outputDirectory&gt;lib&lt;/outputDirectory&gt;\n        &lt;/dependencySet&gt;\n    &lt;/dependencySets&gt;\n    &lt;fileSets&gt;\n        &lt;fileSet&gt;\n            &lt;directory&gt;src/main/command&lt;/directory&gt;\n            &lt;outputDirectory&gt;bin&lt;/outputDirectory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;*.sh&lt;/include&gt;\n                &lt;include&gt;*.bat&lt;/include&gt;\n            &lt;/includes&gt;\n            &lt;fileMode&gt;0755&lt;/fileMode&gt;\n        &lt;/fileSet&gt;\n    &lt;/fileSets&gt;\n&lt;/assembly&gt;\n</code></pre>\n<p><em>readme.md</em></p>\n<p>Example of a Swing application integrated with JavaFX.\nThe application is built as a Java module application.</p>\n<h3>Build Requirements</h3>\n<ul>\n<li>Java JDK 17+</li>\n<li>Maven 3.8+</li>\n</ul>\n<h3>Execution Requirements</h3>\n<ul>\n<li>Java JRE 17+</li>\n<li>Mac OS X Intel</li>\n</ul>\n<h3>Build Instructions</h3>\n<p>Build and package the application:</p>\n<pre><code>mvn package\n</code></pre>\n<p>The build will create the following file:</p>\n<pre><code>target/SwingFX-1.0-SNAPSHOT-bin.tar.gz\n</code></pre>\n<h3>Execution instructions</h3>\n<ol>\n<li><p>Extract the application binary from the archive.</p>\n<pre><code>tar xzvf SwingFX-1.0-SNAPSHOT-bin.tar.gz\n</code></pre>\n</li>\n<li><p>Run the application:</p>\n<pre><code>SwingFX-1.0-SNAPSHOT/bin/swingfx.sh \n</code></pre>\n</li>\n</ol>\n<h3>Contents of the distribution</h3>\n<pre><code>$ tar xvzf SwingFX-1.0-SNAPSHOT-bin.tar.gz \nx SwingFX-1.0-SNAPSHOT/bin/swingfx.sh\nx SwingFX-1.0-SNAPSHOT/lib/javafx-controls-17.0.1.jar\nx SwingFX-1.0-SNAPSHOT/lib/javafx-controls-17.0.1-mac.jar\nx SwingFX-1.0-SNAPSHOT/lib/javafx-graphics-17.0.1.jar\nx SwingFX-1.0-SNAPSHOT/lib/javafx-graphics-17.0.1-mac.jar\nx SwingFX-1.0-SNAPSHOT/lib/javafx-base-17.0.1.jar\nx SwingFX-1.0-SNAPSHOT/lib/javafx-base-17.0.1-mac.jar\nx SwingFX-1.0-SNAPSHOT/lib/javafx-fxml-17.0.1.jar\nx SwingFX-1.0-SNAPSHOT/lib/javafx-fxml-17.0.1-mac.jar\nx SwingFX-1.0-SNAPSHOT/lib/javafx-swing-17.0.1.jar\nx SwingFX-1.0-SNAPSHOT/lib/javafx-swing-17.0.1-mac.jar\nx SwingFX-1.0-SNAPSHOT/lib/SwingFX-1.0-SNAPSHOT.jar\n</code></pre>\n<h3>Troubleshooting</h3>\n<p>If you see the following error, java is not installed and on the default path:</p>\n<pre><code>-bash: java: command not found\n</code></pre>\n<p>If you see an error such as the following:</p>\n<pre><code>Caused by: java.lang.module.InvalidModuleDescriptorException: Unsupported major.minor version 61.0\n</code></pre>\n<p>Java is installed but it is not Java 17+, you need to upgrade the Java installation to a later version, you can check the current version using <code>java -version</code></p>\n"}],"owner":{"account_id":22376463,"reputation":33,"user_id":16590657,"display_name":"Felix D"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1579,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1636492187,"creation_date":1636123263,"question_id":69854986,"body_markdown":"I want to create runnable .jar-file with Maven. \r\nThe following code shows the main class (App.java), the class where the JFXPanel gets instantiated (ServiceToolEnty.java) and the pom.xml file. \r\n\r\nI create a simple JFrame with a button inside (Java Swing site). Once the button has been clicked the JFXPanel should open the JavaFX thread to run javaFX code. \r\n\r\nWhen I run the application in eclipse IDE everything works fine. \r\nAfter I created the .jar file with Maven and I try to run it via terminal (java -jar test-0.0.1-SNAPSHOT.jar), the following error message shows up:\r\n\r\n\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: javafx/embed/swing/JFXPanel\r\n        at com.carrier.ccr.test.App$1.actionPerformed(App.java:31)\r\n        at java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\r\n        at java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\r\n        at java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\r\n        at java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\r\n        at java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\r\n        at java.desktop/java.awt.Component.processMouseEvent(Component.java:6626)\r\n        at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3389)\r\n        at java.desktop/java.awt.Component.processEvent(Component.java:6391)\r\n        at java.desktop/java.awt.Container.processEvent(Container.java:2266)\r\n        at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5001)\r\n        at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\r\n        at java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\r\n        at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\r\n        at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\r\n        at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\r\n        at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\r\n        at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\r\n        at java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\r\n        at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\r\n        at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\r\n        at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:746)\r\n        at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:744)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n        at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n        at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:743)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n        at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n        at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n    Caused by: java.lang.ClassNotFoundException: javafx.embed.swing.JFXPanel\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n        ... 36 more\r\n\r\n\r\n\r\nApp.java:\r\n\r\n```package com.carrier.ccr.test;\r\n\r\nimport java.awt.Font;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.WindowAdapter;\r\nimport java.awt.event.WindowEvent;\r\nimport java.util.Locale;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFileChooser;\r\nimport javax.swing.JFrame;\r\npublic class App extends JFrame{\r\n \r\n\tpublic App(){\r\n\t\tsetSize(500, 180);\r\n\t\tsetVisible(true);\r\n\t\tsetLayout(null);\r\n\t\tsetLocation(100, 100);\r\n\r\n\t\t//Button opens the ServiceTool interface\r\n\t\tJButton masterModeServiceTool = new JButton(&quot;Click here&quot;);\r\n\t\tmasterModeServiceTool.setSize(280, 20);\r\n\t\tmasterModeServiceTool.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,15));\r\n\t\tadd(masterModeServiceTool);\r\n\t\tmasterModeServiceTool.setVisible(true);\r\n\t\tmasterModeServiceTool.setLocation(10, 100);\r\n\t\tmasterModeServiceTool.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent arg0) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tServiceToolEntry maServ=new ServiceToolEntry();\r\n\t\t\t\t\tmaServ.main();\r\n\t\t\t\t\tsetVisible(false);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t}\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tApp mv =new App();\r\n\t\tmv.addWindowListener(new WindowAdapter()\r\n\t\t{\r\n\t\t\tpublic void windowClosing (WindowEvent e) {\r\n\t\t\t\tSystem.exit (0);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n```\r\n\r\nServiceToolEnty.java (where the fx app is starting):\r\n```package com.carrier.ccr.test;\r\n\r\nimport javafx.application.Platform;\r\nimport javafx.embed.swing.JFXPanel;\r\nimport javafx.scene.Group;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.text.Font;\r\nimport javafx.scene.text.Text;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.SwingUtilities;\r\n\r\npublic class ServiceToolEntry {\r\n    private static void initAndShowGUI() {\r\n        // This method is invoked on the EDT thread\r\n        JFrame frame = new JFrame(&quot;Click here&quot;);\r\n        final JFXPanel fxPanel = new JFXPanel();\r\n        frame.add(fxPanel);\r\n        frame.setSize(1000, 700);\r\n        frame.setVisible(true);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        Platform.runLater(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                initFX(fxPanel);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    private static Scene getScene() {\r\n        Group  root  =  new  Group();\r\n        Scene  scene  =  new  Scene(root, Color.ALICEBLUE);\r\n        Text  text  =  new  Text();\r\n\r\n        text.setX(40);\r\n        text.setY(100);\r\n        text.setFont(new Font(25));\r\n        text.setText(&quot;Finally it&#39;s working&quot;);\r\n        root.getChildren().add(text);\r\n\r\n        return (scene);\r\n    }\r\n\r\n\r\n    private static void initFX(JFXPanel fxPanel) {\r\n        Scene scene = getScene();\r\n        fxPanel.setScene(scene);\r\n    }\r\n\r\n\r\n    public static void main() {\r\n        SwingUtilities.invokeLater(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                initAndShowGUI();\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n```\r\n\r\npom.xml file:\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.carrier.ccr&lt;/groupId&gt;\r\n  &lt;artifactId&gt;test&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;name&gt;test&lt;/name&gt;\r\n  &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.11&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;18-ea+5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n        \r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n      &lt;plugins&gt;\r\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.22.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n\t        &lt;plugin&gt; \r\n\t\r\n\t           &lt;!-- Building an executable jar --&gt;\r\n\t\r\n\t           &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t           &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t           &lt;version&gt;3.1.0&lt;/version&gt;\r\n\t           &lt;configuration&gt;\r\n\t             &lt;archive&gt;\r\n\t               &lt;manifest&gt;\r\n\t\r\n\t               &lt;!-- give full qualified name of your main class--&gt;\r\n\t               &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n\t                 &lt;mainClass&gt;com.carrier.ccr.test.App&lt;/mainClass&gt;\r\n\t\r\n\t               &lt;/manifest&gt;\r\n\t             &lt;/archive&gt;\r\n\t           &lt;/configuration&gt;\r\n    \t\t&lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.8.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.7.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        \r\n        \r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n","title":"Creating a runnable .jar with Maven using Java Swing and integrated JavaFX - App crashes when JFXPanel is being instantiated","body":"<p>I want to create runnable .jar-file with Maven.\nThe following code shows the main class (App.java), the class where the JFXPanel gets instantiated (ServiceToolEnty.java) and the pom.xml file.</p>\n<p>I create a simple JFrame with a button inside (Java Swing site). Once the button has been clicked the JFXPanel should open the JavaFX thread to run javaFX code.</p>\n<p>When I run the application in eclipse IDE everything works fine.\nAfter I created the .jar file with Maven and I try to run it via terminal (java -jar test-0.0.1-SNAPSHOT.jar), the following error message shows up:</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError: javafx/embed/swing/JFXPanel\n    at com.carrier.ccr.test.App$1.actionPerformed(App.java:31)\n    at java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\n    at java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\n    at java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\n    at java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\n    at java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\n    at java.desktop/java.awt.Component.processMouseEvent(Component.java:6626)\n    at java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3389)\n    at java.desktop/java.awt.Component.processEvent(Component.java:6391)\n    at java.desktop/java.awt.Container.processEvent(Container.java:2266)\n    at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5001)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\n    at java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4948)\n    at java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4575)\n    at java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4516)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2310)\n    at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:746)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:744)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:743)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nCaused by: java.lang.ClassNotFoundException: javafx.embed.swing.JFXPanel\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 36 more\n</code></pre>\n<p>App.java:</p>\n<pre><code>\nimport java.awt.Font;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\nimport java.util.Locale;\n\nimport javax.swing.JButton;\nimport javax.swing.JFileChooser;\nimport javax.swing.JFrame;\npublic class App extends JFrame{\n \n    public App(){\n        setSize(500, 180);\n        setVisible(true);\n        setLayout(null);\n        setLocation(100, 100);\n\n        //Button opens the ServiceTool interface\n        JButton masterModeServiceTool = new JButton(&quot;Click here&quot;);\n        masterModeServiceTool.setSize(280, 20);\n        masterModeServiceTool.setFont(new Font(&quot;Arial&quot;,Font.PLAIN,15));\n        add(masterModeServiceTool);\n        masterModeServiceTool.setVisible(true);\n        masterModeServiceTool.setLocation(10, 100);\n        masterModeServiceTool.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent arg0) {\n                try {\n                    ServiceToolEntry maServ=new ServiceToolEntry();\n                    maServ.main();\n                    setVisible(false);\n                } catch (Exception e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n            }\n        });\n\n    }\n\n\n    public static void main(String[] args) {\n        App mv =new App();\n        mv.addWindowListener(new WindowAdapter()\n        {\n            public void windowClosing (WindowEvent e) {\n                System.exit (0);\n            }\n        });\n    }\n}\n</code></pre>\n<p>ServiceToolEnty.java (where the fx app is starting):</p>\n<pre><code>\nimport javafx.application.Platform;\nimport javafx.embed.swing.JFXPanel;\nimport javafx.scene.Group;\nimport javafx.scene.Scene;\nimport javafx.scene.paint.Color;\nimport javafx.scene.text.Font;\nimport javafx.scene.text.Text;\nimport javax.swing.JFrame;\nimport javax.swing.SwingUtilities;\n\npublic class ServiceToolEntry {\n    private static void initAndShowGUI() {\n        // This method is invoked on the EDT thread\n        JFrame frame = new JFrame(&quot;Click here&quot;);\n        final JFXPanel fxPanel = new JFXPanel();\n        frame.add(fxPanel);\n        frame.setSize(1000, 700);\n        frame.setVisible(true);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        Platform.runLater(new Runnable() {\n            @Override\n            public void run() {\n                initFX(fxPanel);\n            }\n        });\n    }\n\n\n    private static Scene getScene() {\n        Group  root  =  new  Group();\n        Scene  scene  =  new  Scene(root, Color.ALICEBLUE);\n        Text  text  =  new  Text();\n\n        text.setX(40);\n        text.setY(100);\n        text.setFont(new Font(25));\n        text.setText(&quot;Finally it's working&quot;);\n        root.getChildren().add(text);\n\n        return (scene);\n    }\n\n\n    private static void initFX(JFXPanel fxPanel) {\n        Scene scene = getScene();\n        fxPanel.setScene(scene);\n    }\n\n\n    public static void main() {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                initAndShowGUI();\n            }\n        });\n    }\n}\n\n</code></pre>\n<p>pom.xml file:</p>\n<pre><code>\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.carrier.ccr&lt;/groupId&gt;\n  &lt;artifactId&gt;test&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n  &lt;name&gt;test&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n            &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;13&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;13&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-swing&lt;/artifactId&gt;\n            &lt;version&gt;18-ea+5&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n            &lt;plugin&gt; \n    \n               &lt;!-- Building an executable jar --&gt;\n    \n               &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n               &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n               &lt;version&gt;3.1.0&lt;/version&gt;\n               &lt;configuration&gt;\n                 &lt;archive&gt;\n                   &lt;manifest&gt;\n    \n                   &lt;!-- give full qualified name of your main class--&gt;\n                   &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                     &lt;mainClass&gt;com.carrier.ccr.test.App&lt;/mainClass&gt;\n    \n                   &lt;/manifest&gt;\n                 &lt;/archive&gt;\n               &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        \n        \n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","multidimensional-array","methods"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":0,"creation_date":1636490785,"post_id":69904835,"comment_id":123570447,"body_markdown":"Have you tried changing `if (arr[j] &lt; arr[smallestIndex])` to `if (arr[j] &gt; arr[smallestIndex])` ? I&#39;m rather confused how you end up overflowing or what kind of changes you make that no longer use `.length`","body":"Have you tried changing <code>if (arr[j] &lt; arr[smallestIndex])</code> to <code>if (arr[j] &gt; arr[smallestIndex])</code> ? I&#39;m rather confused how you end up overflowing or what kind of changes you make that no longer use <code>.length</code>"},{"owner":{"account_id":22611555,"reputation":3,"user_id":16791638,"display_name":"Stein"},"score":0,"creation_date":1636491119,"post_id":69904835,"comment_id":123570564,"body_markdown":"Thank you very much for your quick response! It&#39;s like learning an entirely new language so it is quite hard to direct it into english, hehe. Yes, actually! Here is my new code: (I am new to SO it appears my code is too long.. one moment lol &#128580;","body":"Thank you very much for your quick response! It&#39;s like learning an entirely new language so it is quite hard to direct it into english, hehe. Yes, actually! Here is my new code: (I am new to SO it appears my code is too long.. one moment lol 🙄"},{"owner":{"account_id":22611555,"reputation":3,"user_id":16791638,"display_name":"Stein"},"score":0,"creation_date":1636491336,"post_id":69904835,"comment_id":123570650,"body_markdown":"@UnholySheep I&#39;ve tried to change the if statement to various less than or equal to things, just making arr[j] less than arr[smallestIndex] but gosh nothing changes! :( \n\n```for ( int i = 0; i &lt; arr.length - 1; i++) {\n\t\t\t\n\t\t\tint smallestIndex = i;\n\n\t\t\tfor ( int j = i + 1; j &lt; arr.length; j++) {\n\t\t\t\tif (arr[j] &gt;= arr[smallestIndex]) { \n\n\t\t\t\t\tsmallestIndex = j;\n\t\t\t\t\t\n\t\t\t        int temp = arr[smallestIndex];\n\t\t\t        arr[smallestIndex] = arr[i];\n\t\t\t        arr[smallestIndex] = temp;\n\t\t\t\t}```","body":"@UnholySheep I&#39;ve tried to change the if statement to various less than or equal to things, just making arr[j] less than arr[smallestIndex] but gosh nothing changes! :(   <code>for ( int i = 0; i &lt; arr.length - 1; i++) { \t\t\t \t\t\tint smallestIndex = i;  \t\t\tfor ( int j = i + 1; j &lt; arr.length; j++) { \t\t\t\tif (arr[j] &gt;= arr[smallestIndex]) {   \t\t\t\t\tsmallestIndex = j; \t\t\t\t\t \t\t\t        int temp = arr[smallestIndex]; \t\t\t        arr[smallestIndex] = arr[i]; \t\t\t        arr[smallestIndex] = temp; \t\t\t\t}</code>"},{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":0,"creation_date":1636491419,"post_id":69904835,"comment_id":123570677,"body_markdown":"Please [edit] your question with the non-working example, it is unreadable if you stuff it into a comment like this","body":"Please <a href=\"https://stackoverflow.com/posts/69904835/edit\">edit</a> your question with the non-working example, it is unreadable if you stuff it into a comment like this"},{"owner":{"account_id":22611555,"reputation":3,"user_id":16791638,"display_name":"Stein"},"score":0,"creation_date":1636492347,"post_id":69904835,"comment_id":123570989,"body_markdown":"@UnholySheep Sorry D: will do!","body":"@UnholySheep Sorry D: will do!"}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636492099,"creation_date":1636492099,"answer_id":69905115,"question_id":69904835,"body_markdown":"If you want to solve the problem fast, here&#39;s how you approach it.\r\nNotice we just change a few lines. \r\n\r\nSpecifically ...\r\n\r\n 1. We still find the smallest element\r\n 2. We put it in the back and not the front\r\n 3. The iteration order in both loops is `back-to-front` and not `front-to-back`\r\n\r\nAn easier way to implement this would be to just sort the elements in ascending order and then just reverse the array.\r\n\r\n```\r\n void selectionSortDescending(int arr[])\r\n    {\r\n        int n = arr.length;\r\n\r\n        // Start by finding the smallest element to put in the very back\r\n        // One by one move boundary of unsorted subarray\r\n        for (int i = n-1; i &gt;= 0; i--)\r\n        {\r\n            // Find the minimum element in unsorted array\r\n            int min_idx = i;\r\n            for (int j = i-1; j &gt;= 0; j--)\r\n                if (arr[j] &lt; arr[min_idx])\r\n                    min_idx = j;\r\n \r\n            // Swap the found minimum element with the last element\r\n            int temp = arr[min_idx];\r\n            arr[min_idx] = arr[i];\r\n            arr[i] = temp;\r\n        }\r\n    }\r\n```","title":"How to write a selectionSort method going in Descending order?","body":"<p>If you want to solve the problem fast, here's how you approach it.\nNotice we just change a few lines.</p>\n<p>Specifically ...</p>\n<ol>\n<li>We still find the smallest element</li>\n<li>We put it in the back and not the front</li>\n<li>The iteration order in both loops is <code>back-to-front</code> and not <code>front-to-back</code></li>\n</ol>\n<p>An easier way to implement this would be to just sort the elements in ascending order and then just reverse the array.</p>\n<pre><code> void selectionSortDescending(int arr[])\n    {\n        int n = arr.length;\n\n        // Start by finding the smallest element to put in the very back\n        // One by one move boundary of unsorted subarray\n        for (int i = n-1; i &gt;= 0; i--)\n        {\n            // Find the minimum element in unsorted array\n            int min_idx = i;\n            for (int j = i-1; j &gt;= 0; j--)\n                if (arr[j] &lt; arr[min_idx])\n                    min_idx = j;\n \n            // Swap the found minimum element with the last element\n            int temp = arr[min_idx];\n            arr[min_idx] = arr[i];\n            arr[i] = temp;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":22611555,"reputation":3,"user_id":16791638,"display_name":"Stein"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69905115,"answer_count":1,"score":0,"last_activity_date":1636492099,"creation_date":1636490661,"question_id":69904835,"body_markdown":"**Hello there! At the moment, I am just a tad bit confused with my code. I&#39;d like to move my array in descending order. This sounds very simple but for some reason I cannot wrap my head around this method. Currently, this is a selectionSort method I wrote that goes directly in ascending order. I&#39;m not sure where to start when it comes to descending order.. as to how to reverse the equations, I usually end up overflowing since it&#39;s supposed to be using the original &quot;.length&quot; of the array.**\r\n\r\nThank you very much for any help!\r\n\r\n\r\n\r\n``` \t\r\n\r\nint[] arr = {5, 3, 2, 44, 1, 75, 23, 15};\r\n\r\nprivate static void descendingSort (int[] arr) {\r\n\r\n\t\tfor ( int i = 0; i &lt; arr.length - 1; i++) {\r\n\t\t\tint smallestIndex = i;\r\n\r\n\t\t\tfor ( int j = i + 1; j &lt; arr.length; j++) {\r\n\t\t\t\t//searching for smallest...\r\n\t\t\t\t//if statement declaring if arr is smaller than the index[0] \r\n\t\t\t\tif (arr[j] &lt; arr[smallestIndex]) { \r\n\t\t\t\t\t//now it has changed to pickle because it has swapped. thx u \r\n\t\t\t\t\tsmallestIndex = j;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n}\r\n```","title":"How to write a selectionSort method going in Descending order?","body":"<p><strong>Hello there! At the moment, I am just a tad bit confused with my code. I'd like to move my array in descending order. This sounds very simple but for some reason I cannot wrap my head around this method. Currently, this is a selectionSort method I wrote that goes directly in ascending order. I'm not sure where to start when it comes to descending order.. as to how to reverse the equations, I usually end up overflowing since it's supposed to be using the original &quot;.length&quot; of the array.</strong></p>\n<p>Thank you very much for any help!</p>\n<pre><code>\nint[] arr = {5, 3, 2, 44, 1, 75, 23, 15};\n\nprivate static void descendingSort (int[] arr) {\n\n        for ( int i = 0; i &lt; arr.length - 1; i++) {\n            int smallestIndex = i;\n\n            for ( int j = i + 1; j &lt; arr.length; j++) {\n                //searching for smallest...\n                //if statement declaring if arr is smaller than the index[0] \n                if (arr[j] &lt; arr[smallestIndex]) { \n                    //now it has changed to pickle because it has swapped. thx u \n                    smallestIndex = j;\n                }\n            }\n\n        }\n}\n</code></pre>\n"},{"tags":["java","gradle","junit","stdout"],"comments":[{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1636492364,"post_id":69905111,"comment_id":123570994,"body_markdown":"Why exactly do you have such an exotic use case ?","body":"Why exactly do you have such an exotic use case ?"},{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1636492403,"post_id":69905111,"comment_id":123571005,"body_markdown":"Also how will you run the tests ? And gradle output where ? To the CLI or into JUnit ?","body":"Also how will you run the tests ? And gradle output where ? To the CLI or into JUnit ?"},{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":2,"creation_date":1636492500,"post_id":69905111,"comment_id":123571041,"body_markdown":"Something like [this](https://stackoverflow.com/questions/9356543/logging-while-testing-through-gradle/35457740)?","body":"Something like <a href=\"https://stackoverflow.com/questions/9356543/logging-while-testing-through-gradle/35457740\">this</a>?"},{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":1,"creation_date":1636492512,"post_id":69905111,"comment_id":123571046,"body_markdown":"If you look into the setup in this [article](https://www.petrikainulainen.net/programming/testing/junit-5-tutorial-running-unit-tests-with-gradle/) you can see you can log to gradle output via System.out.println()","body":"If you look into the setup in this <a href=\"https://www.petrikainulainen.net/programming/testing/junit-5-tutorial-running-unit-tests-with-gradle/\" rel=\"nofollow noreferrer\">article</a> you can see you can log to gradle output via System.out.println()"},{"owner":{"account_id":5331956,"reputation":6999,"user_id":4252320,"accept_rate":59,"display_name":"ergonaut"},"score":0,"creation_date":1636493213,"post_id":69905111,"comment_id":123571332,"body_markdown":"@MichałKrzywański Yes!  That&#39;s the flag I&#39;m looking for, thank you!","body":"@MichałKrzywański Yes!  That&#39;s the flag I&#39;m looking for, thank you!"}],"owner":{"account_id":5331956,"reputation":6999,"user_id":4252320,"accept_rate":59,"display_name":"ergonaut"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":716,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1636492074,"creation_date":1636492074,"question_id":69905111,"body_markdown":"Gradle has a separate logging from java (eg. slf4j), but I am wondering if I can get my java code (within a unit test) to print out messages that will be part of the gradle output.  \r\n\r\nThe usual System.out.println(...) and log.debug(...) do not work. How can one set this up?","title":"How do I print to the stdout when a gradle build runs?","body":"<p>Gradle has a separate logging from java (eg. slf4j), but I am wondering if I can get my java code (within a unit test) to print out messages that will be part of the gradle output.</p>\n<p>The usual System.out.println(...) and log.debug(...) do not work. How can one set this up?</p>\n"},{"tags":["java","c","java-native-interface"],"answers":[{"tags":[],"owner":{"account_id":13903,"reputation":393613,"user_id":28169,"accept_rate":88,"display_name":"unwind"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1232699042,"creation_date":1232699042,"answer_id":472253,"question_id":472249,"body_markdown":"That&#39;d be &lt;tt&gt;(const) unsigned char *&lt;/tt&gt; representing a block of memory holding the bytes themselves, coupled with a &lt;tt&gt;size_t&lt;/tt&gt; telling you the number of bytes.\r\n\r\n[This thread][1] seems to go over how to create a suitable Java type (NewByteArray() is the function).\r\n\r\n  [1]: http://www.velocityreviews.com/forums/t148587-making-and-returning-java-byte-arrays-in-c-via-jni-help-please.html","title":"Byte stream / C / JNI","body":"<p>That'd be (const) unsigned char * representing a block of memory holding the bytes themselves, coupled with a size_t telling you the number of bytes.</p>\n\n<p><a href=\"http://www.velocityreviews.com/forums/t148587-making-and-returning-java-byte-arrays-in-c-via-jni-help-please.html\" rel=\"nofollow noreferrer\">This thread</a> seems to go over how to create a suitable Java type (NewByteArray() is the function).</p>\n"},{"tags":[],"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1232780214,"creation_date":1232780214,"answer_id":475662,"question_id":472249,"body_markdown":"You question is not very clear.  \r\n\r\nAssuming you have some bytes in C representing characters, the best idea is to get the bytes into Java and convert them to text there using Java&#39;s byte conversions.\r\n\r\nIn JNI you simply need to materialize a Java array, either by using JNI to instantiate one, or by passing a reference in as a parameter (for which you still need to &quot;materialize&quot; a pointer in the JNI code).\r\n\r\nI have done this latter thing before, so here is the code FYI.  This JNI call used an AS/400 C API to read a database record and return the bytes back to Java - the Java code then used record format information to extract the fields into Strings.  Hope this is of some help:\r\n\r\n    JNIEXPORT jboolean JNICALL Java_com_xxx_DB2File_jniRead(JNIEnv *jep, jobject thsObj,                    \r\n     jlong handle, jint readOp, jbyteArray jvaDta, jint jvaDtaMax, jint flags) {                                                \r\n        OBJDTA           *odp;                                                                                                  \r\n        jbyte            *jniDta;                                                                                               \r\n        _RIOFB_T         *fbp;                                                                                                  \r\n\r\n        thsObj=thsObj;                                                                                                          \r\n        if((odp=getDataspace(handle))==NULL) {                                                                                  \r\n            throwEscape(jep,90003,&quot;Invalid handle for dataspace in jniRead()&quot;);                                                 \r\n            return JNI_FALSE;                                                                                                   \r\n            }                                                                                                                   \r\n        jniDta=(*jep)-&gt;GetByteArrayElements(jep,jvaDta,0);                                                                      \r\n\r\n        // read database record here\r\n\r\n        if(fbp-&gt;num_bytes&lt;=0) {                                                                                                 \r\n            (*jep)-&gt;ReleaseByteArrayElements(jep,jvaDta,jniDta,JNI_ABORT); /* do not copy changed array back to java */         \r\n            return JNI_FALSE;                                                                                                   \r\n            }                                                                                                                   \r\n        if(fbp-&gt;num_bytes!=odp-&gt;rcdLen) {                                                                                       \r\n            byte             errtxt[201];                                                                                       \r\n\r\n            asd_errtxt(errno,errtxt,sizeof(errtxt));                                                                            \r\n            (*jep)-&gt;ReleaseByteArrayElements(jep,jvaDta,jniDta,JNI_ABORT); /* do not copy changed array back to java */         \r\n            throwEscape(jep,90204,&quot;Native function jniRead failed.  Got %i, expected %i (%s)&quot;,fbp-&gt;num_bytes,odp-&gt;rcdLen,       \r\n             errtxt);                                                                                                           \r\n            return JNI_FALSE;                                                                                                   \r\n            }                                                                                                                   \r\n        (*jep)-&gt;ReleaseByteArrayElements(jep,jvaDta,jniDta,0); /* copy changed array back to java */                            \r\n        return JNI_TRUE;                                                                                                        \r\n        }                                                                                                                       \r\n\r\n","title":"Byte stream / C / JNI","body":"<p>You question is not very clear.  </p>\n\n<p>Assuming you have some bytes in C representing characters, the best idea is to get the bytes into Java and convert them to text there using Java's byte conversions.</p>\n\n<p>In JNI you simply need to materialize a Java array, either by using JNI to instantiate one, or by passing a reference in as a parameter (for which you still need to \"materialize\" a pointer in the JNI code).</p>\n\n<p>I have done this latter thing before, so here is the code FYI.  This JNI call used an AS/400 C API to read a database record and return the bytes back to Java - the Java code then used record format information to extract the fields into Strings.  Hope this is of some help:</p>\n\n<pre><code>JNIEXPORT jboolean JNICALL Java_com_xxx_DB2File_jniRead(JNIEnv *jep, jobject thsObj,                    \n jlong handle, jint readOp, jbyteArray jvaDta, jint jvaDtaMax, jint flags) {                                                \n    OBJDTA           *odp;                                                                                                  \n    jbyte            *jniDta;                                                                                               \n    _RIOFB_T         *fbp;                                                                                                  \n\n    thsObj=thsObj;                                                                                                          \n    if((odp=getDataspace(handle))==NULL) {                                                                                  \n        throwEscape(jep,90003,\"Invalid handle for dataspace in jniRead()\");                                                 \n        return JNI_FALSE;                                                                                                   \n        }                                                                                                                   \n    jniDta=(*jep)-&gt;GetByteArrayElements(jep,jvaDta,0);                                                                      \n\n    // read database record here\n\n    if(fbp-&gt;num_bytes&lt;=0) {                                                                                                 \n        (*jep)-&gt;ReleaseByteArrayElements(jep,jvaDta,jniDta,JNI_ABORT); /* do not copy changed array back to java */         \n        return JNI_FALSE;                                                                                                   \n        }                                                                                                                   \n    if(fbp-&gt;num_bytes!=odp-&gt;rcdLen) {                                                                                       \n        byte             errtxt[201];                                                                                       \n\n        asd_errtxt(errno,errtxt,sizeof(errtxt));                                                                            \n        (*jep)-&gt;ReleaseByteArrayElements(jep,jvaDta,jniDta,JNI_ABORT); /* do not copy changed array back to java */         \n        throwEscape(jep,90204,\"Native function jniRead failed.  Got %i, expected %i (%s)\",fbp-&gt;num_bytes,odp-&gt;rcdLen,       \n         errtxt);                                                                                                           \n        return JNI_FALSE;                                                                                                   \n        }                                                                                                                   \n    (*jep)-&gt;ReleaseByteArrayElements(jep,jvaDta,jniDta,0); /* copy changed array back to java */                            \n    return JNI_TRUE;                                                                                                        \n    }                                                                                                                       \n</code></pre>\n"},{"tags":[],"owner":{"account_id":9431,"reputation":9825,"user_id":17428,"accept_rate":80,"display_name":"Eduard Wirch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1233010755,"creation_date":1233010755,"answer_id":481738,"question_id":472249,"body_markdown":"You don&#39;t need to convert them. The types jbyteArray and char* are compatible.\r\n\r\nJava declaration:\r\n\r\n    private static native int doSomething(bate[] string, int length);\r\n\r\nC delaration:\r\n\r\n    JNIEXPORT jint JNICALL Java_package_class_doSomething(JNIEnv *env, jclass jc, jbyteArray string, jint length) {\r\n        int i;\r\n        for (i = 0; i &lt; length; i++) {\r\n            // read string[i]\r\n        }\r\n    }\r\n\r\nYou can pass values back to java the same way. But make sure the length of the byte array is initialized BEFORE calling the C function.","title":"Byte stream / C / JNI","body":"<p>You don't need to convert them. The types jbyteArray and char* are compatible.</p>\n\n<p>Java declaration:</p>\n\n<pre><code>private static native int doSomething(bate[] string, int length);\n</code></pre>\n\n<p>C delaration:</p>\n\n<pre><code>JNIEXPORT jint JNICALL Java_package_class_doSomething(JNIEnv *env, jclass jc, jbyteArray string, jint length) {\n    int i;\n    for (i = 0; i &lt; length; i++) {\n        // read string[i]\n    }\n}\n</code></pre>\n\n<p>You can pass values back to java the same way. But make sure the length of the byte array is initialized BEFORE calling the C function.</p>\n"},{"tags":[],"owner":{"account_id":65698,"reputation":18297,"user_id":193178,"display_name":"Rolf Kristensen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636491855,"creation_date":1263995281,"answer_id":2101744,"question_id":472249,"body_markdown":"See the Java_ReadFile_loadFile example where they use NewByteArray() and return it directly.\r\n\r\nhttp://dev.cs.ovgu.de/java/Books/JDCBook/jnistring.html\r\n\r\n      JNIEXPORT jbyteArray JNICALL Java_ReadFile_loadFile\r\n        (JNIEnv * env, jobject jobj, jstring name) {\r\n          caddr_t m;\r\n          jbyteArray jb;\r\n          struct stat finfo;\r\n          jboolean iscopy;\r\n          const jchar *mfile = (*env)-&gt;GetStringChars(env, \r\n    \t\tname, &amp;iscopy);\r\n      //...\r\n          (*env)-&gt;ReleaseStringChars(env, name, mfile);","title":"Byte stream / C / JNI","body":"<p>See the Java_ReadFile_loadFile example where they use NewByteArray() and return it directly.</p>\n<p><a href=\"http://dev.cs.ovgu.de/java/Books/JDCBook/jnistring.html\" rel=\"nofollow noreferrer\">http://dev.cs.ovgu.de/java/Books/JDCBook/jnistring.html</a></p>\n<pre><code>  JNIEXPORT jbyteArray JNICALL Java_ReadFile_loadFile\n    (JNIEnv * env, jobject jobj, jstring name) {\n      caddr_t m;\n      jbyteArray jb;\n      struct stat finfo;\n      jboolean iscopy;\n      const jchar *mfile = (*env)-&gt;GetStringChars(env, \n        name, &amp;iscopy);\n  //...\n      (*env)-&gt;ReleaseStringChars(env, name, mfile);\n</code></pre>\n"}],"owner":{"display_name":"fd2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4029,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1636491855,"creation_date":1232698680,"question_id":472249,"body_markdown":"What data types are usually used in C API implementation for storing byte streams?\r\nHow can I convert this type to jbyteArray?","title":"Byte stream / C / JNI","body":"<p>What data types are usually used in C API implementation for storing byte streams?\nHow can I convert this type to jbyteArray?</p>\n"},{"tags":["java","android","reactjs","android-studio"],"answers":[{"tags":[],"owner":{"account_id":11317635,"reputation":53199,"user_id":8298909,"display_name":"Ben P."},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1636491773,"creation_date":1636491773,"answer_id":69905054,"question_id":69904995,"body_markdown":"Your first `import` statement and the `package` statement are out of order. The `package` statement must be the very first line of your file:\r\n\r\n    package com.projectname;\r\n    \r\n    import android.os.Bundle;\r\n    \r\n    import com.facebook.react.ReactActivity;\r\n    import com.facebook.react.ReactActivityDelegate;\r\n    import com.facebook.react.ReactRootView;\r\n    import com.swmansion.gesturehandler.react.RNGestureHandlerEnabledRootView;\r\n    \r\n    import expo.modules.ReactActivityDelegateWrapper;\r\n    import expo.modules.splashscreen.singletons.SplashScreen;\r\n    import expo.modules.splashscreen.SplashScreenImageResizeMode;","title":"error: class, interface, or enum expected on MainActivity.java","body":"<p>Your first <code>import</code> statement and the <code>package</code> statement are out of order. The <code>package</code> statement must be the very first line of your file:</p>\n<pre><code>package com.projectname;\n\nimport android.os.Bundle;\n\nimport com.facebook.react.ReactActivity;\nimport com.facebook.react.ReactActivityDelegate;\nimport com.facebook.react.ReactRootView;\nimport com.swmansion.gesturehandler.react.RNGestureHandlerEnabledRootView;\n\nimport expo.modules.ReactActivityDelegateWrapper;\nimport expo.modules.splashscreen.singletons.SplashScreen;\nimport expo.modules.splashscreen.SplashScreenImageResizeMode;\n</code></pre>\n"}],"owner":{"account_id":9221994,"reputation":941,"user_id":6851045,"accept_rate":100,"display_name":"Daniel Corona"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1333,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69905054,"answer_count":1,"score":1,"last_activity_date":1636491773,"creation_date":1636491469,"question_id":69904995,"body_markdown":"I&#39;m trying to compile an app that utilizes Expo on Android Studio, however, every time I try I get the following error message:\r\n\r\n```\r\n\\android\\app\\src\\main\\java\\com\\profileid\\MainActivity.java:2: error: class, interface, or enum expected\r\npackage com.projectname;\r\n```\r\n\r\nI just upgraded to Expo SDK 43 and migrated from ```react-native-unimodules```.\r\n\r\nMy MainActivity.java looks like this:\r\n\r\n```\r\nimport expo.modules.ReactActivityDelegateWrapper;\r\npackage com.projectname;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport com.facebook.react.ReactActivity;\r\nimport com.facebook.react.ReactActivityDelegate;\r\nimport com.facebook.react.ReactRootView;\r\nimport com.swmansion.gesturehandler.react.RNGestureHandlerEnabledRootView;\r\n\r\nimport expo.modules.splashscreen.singletons.SplashScreen;\r\nimport expo.modules.splashscreen.SplashScreenImageResizeMode;\r\n\r\npublic class MainActivity extends ReactActivity {\r\n  @Override\r\n  protected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    // SplashScreen.show(...) has to be called after super.onCreate(...)\r\n    // Below line is handled by &#39;@expo/configure-splash-screen&#39; command and it&#39;s discouraged to modify it manually\r\n    SplashScreen.show(this, SplashScreenImageResizeMode.CONTAIN, ReactRootView.class, false);\r\n  }\r\n\r\n\r\n    /**\r\n     * Returns the name of the main component registered from JavaScript.\r\n     * This is used to schedule rendering of the component.\r\n     */\r\n    @Override\r\n    protected String getMainComponentName() {\r\n        return &quot;main&quot;;\r\n    }\r\n\r\n    @Override\r\n    protected ReactActivityDelegate createReactActivityDelegate() {\r\n        return new ReactActivityDelegateWrapper(this, new ReactActivityDelegate(this, getMainComponentName()) {\r\n            @Override\r\n            protected ReactRootView createRootView() {\r\n                return new RNGestureHandlerEnabledRootView(MainActivity.this);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n```","title":"error: class, interface, or enum expected on MainActivity.java","body":"<p>I'm trying to compile an app that utilizes Expo on Android Studio, however, every time I try I get the following error message:</p>\n<pre><code>\\android\\app\\src\\main\\java\\com\\profileid\\MainActivity.java:2: error: class, interface, or enum expected\npackage com.projectname;\n</code></pre>\n<p>I just upgraded to Expo SDK 43 and migrated from <code>react-native-unimodules</code>.</p>\n<p>My MainActivity.java looks like this:</p>\n<pre><code>import expo.modules.ReactActivityDelegateWrapper;\npackage com.projectname;\n\nimport android.os.Bundle;\n\nimport com.facebook.react.ReactActivity;\nimport com.facebook.react.ReactActivityDelegate;\nimport com.facebook.react.ReactRootView;\nimport com.swmansion.gesturehandler.react.RNGestureHandlerEnabledRootView;\n\nimport expo.modules.splashscreen.singletons.SplashScreen;\nimport expo.modules.splashscreen.SplashScreenImageResizeMode;\n\npublic class MainActivity extends ReactActivity {\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    // SplashScreen.show(...) has to be called after super.onCreate(...)\n    // Below line is handled by '@expo/configure-splash-screen' command and it's discouraged to modify it manually\n    SplashScreen.show(this, SplashScreenImageResizeMode.CONTAIN, ReactRootView.class, false);\n  }\n\n\n    /**\n     * Returns the name of the main component registered from JavaScript.\n     * This is used to schedule rendering of the component.\n     */\n    @Override\n    protected String getMainComponentName() {\n        return &quot;main&quot;;\n    }\n\n    @Override\n    protected ReactActivityDelegate createReactActivityDelegate() {\n        return new ReactActivityDelegateWrapper(this, new ReactActivityDelegate(this, getMainComponentName()) {\n            @Override\n            protected ReactRootView createRootView() {\n                return new RNGestureHandlerEnabledRootView(MainActivity.this);\n            }\n        });\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","maven","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":22825331,"reputation":49,"user_id":16974677,"display_name":"panosjuan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636376362,"creation_date":1636376362,"answer_id":69883869,"question_id":69883103,"body_markdown":"Only thing I can think of, that slipped my mind the first time I used mapstruct is the classes need to be interfaces, this is a sample class I have that uses mapstruct:\r\n\r\n```\r\nimport org.mapstruct.Mapper;\r\nimport org.mapstruct.factory.*;\r\n\r\n@Mapper\r\npublic interface BeaconMapper {\r\n\r\n    public BeaconMapper INSTANCE = Mappers.getMapper( BeaconMapper.class ); \r\n\r\n    public BeaconDTO BeaconToBeaconDTO( Beacon beacon );\r\n    public Beacon BeaconDTOToBeacon( BeaconDTO beaconDTO );\r\n}\r\n```\r\nI reviewed your pom.xml and I don&#39;t see anything wrong with it, so I don&#39;t think that is the issue, good luck!\r\n","title":"MapStruct implementations not being generated when using `mvn package`","body":"<p>Only thing I can think of, that slipped my mind the first time I used mapstruct is the classes need to be interfaces, this is a sample class I have that uses mapstruct:</p>\n<pre><code>import org.mapstruct.Mapper;\nimport org.mapstruct.factory.*;\n\n@Mapper\npublic interface BeaconMapper {\n\n    public BeaconMapper INSTANCE = Mappers.getMapper( BeaconMapper.class ); \n\n    public BeaconDTO BeaconToBeaconDTO( Beacon beacon );\n    public Beacon BeaconDTOToBeacon( BeaconDTO beaconDTO );\n}\n</code></pre>\n<p>I reviewed your pom.xml and I don't see anything wrong with it, so I don't think that is the issue, good luck!</p>\n"},{"tags":[],"owner":{"account_id":11757634,"reputation":415,"user_id":12793703,"display_name":"Ismayil Karimli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636491203,"creation_date":1636379519,"answer_id":69884572,"question_id":69883103,"body_markdown":"I solved the issue thanks to a user over at GitHub - [issue link](https://github.com/mapstruct/mapstruct/issues/2647#issuecomment-963155079). The problem was with the 1. prefix in the source and target tags. Apparently, the prefix has been deprecated since Java 9. So I removed it:\r\n\r\n    &lt;source&gt;17&lt;/source&gt; &lt;!-- depending on your project --&gt;\r\n    &lt;target&gt;17&lt;/target&gt; &lt;!-- depending on your project --&gt;\r\n    &lt;release&gt;17&lt;/release&gt;","title":"MapStruct implementations not being generated when using `mvn package`","body":"<p>I solved the issue thanks to a user over at GitHub - <a href=\"https://github.com/mapstruct/mapstruct/issues/2647#issuecomment-963155079\" rel=\"nofollow noreferrer\">issue link</a>. The problem was with the 1. prefix in the source and target tags. Apparently, the prefix has been deprecated since Java 9. So I removed it:</p>\n<pre><code>&lt;source&gt;17&lt;/source&gt; &lt;!-- depending on your project --&gt;\n&lt;target&gt;17&lt;/target&gt; &lt;!-- depending on your project --&gt;\n&lt;release&gt;17&lt;/release&gt;\n</code></pre>\n"}],"owner":{"account_id":11757634,"reputation":415,"user_id":12793703,"display_name":"Ismayil Karimli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":563,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69884572,"answer_count":2,"score":0,"last_activity_date":1636491203,"creation_date":1636372775,"question_id":69883103,"body_markdown":"Here&#39;s to pom.xml:\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.2.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.2.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n        \r\n            &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.17&lt;/source&gt; &lt;!-- depending on your project --&gt;\r\n\t\t\t\t\t&lt;target&gt;1.17&lt;/target&gt; &lt;!-- depending on your project --&gt;\r\n\t\t\t\t\t&lt;release&gt;17&lt;/release&gt;\r\n\t\t\t\t\t&lt;annotationProcessorPaths&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;1.4.2.Final&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t\t&lt;!-- other annotation processors --&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;1.18.22&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t\t&lt;path&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;0.2.0&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/path&gt;\r\n\t\t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\nI have annotated my classes with `@Mapper`. When I examine the target folder, the mapper implementations are not there. The weird part is, when I compile using IntelliJ&#39;s build functionality, the classes are generated and I can see them under the target folder. But when I compile using `mvn clean package` or just `mvn package` the classes are not generated. What can cause this?","title":"MapStruct implementations not being generated when using `mvn package`","body":"<p>Here's to pom.xml:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n        &lt;version&gt;1.4.2.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n        &lt;version&gt;0.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.17&lt;/source&gt; &lt;!-- depending on your project --&gt;\n                &lt;target&gt;1.17&lt;/target&gt; &lt;!-- depending on your project --&gt;\n                &lt;release&gt;17&lt;/release&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                        &lt;version&gt;1.4.2.Final&lt;/version&gt;\n                    &lt;/path&gt;\n                    &lt;!-- other annotation processors --&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;version&gt;1.18.22&lt;/version&gt;\n                    &lt;/path&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                        &lt;version&gt;0.2.0&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>I have annotated my classes with <code>@Mapper</code>. When I examine the target folder, the mapper implementations are not there. The weird part is, when I compile using IntelliJ's build functionality, the classes are generated and I can see them under the target folder. But when I compile using <code>mvn clean package</code> or just <code>mvn package</code> the classes are not generated. What can cause this?</p>\n"},{"tags":["java","intellij-idea","jar","ant","artifact"],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636490801,"creation_date":1636490801,"answer_id":69904871,"question_id":69904519,"body_markdown":"It&#39;s a [known bug](https://youtrack.jetbrains.com/issue/IDEA-276464).\r\n\r\nThe fix is available in https://www.jetbrains.com/idea/nextversion/.","title":"Intellij IDEA &quot;Project Structure -&gt;Artifact&quot; : Pre-processing and Post-processing missing","body":"<p>It's a <a href=\"https://youtrack.jetbrains.com/issue/IDEA-276464\" rel=\"nofollow noreferrer\">known bug</a>.</p>\n<p>The fix is available in <a href=\"https://www.jetbrains.com/idea/nextversion/\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/idea/nextversion/</a>.</p>\n"}],"owner":{"account_id":5758519,"reputation":64,"user_id":4545629,"display_name":"Marco S."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69904871,"answer_count":1,"score":1,"last_activity_date":1636490801,"creation_date":1636488847,"question_id":69904519,"body_markdown":"I&#39;m working in a new java project with Intellij IDEA 2021.2.3 (Community Edition).\r\n\r\nWhen building a jar artifact I need to do pre processing &amp; post processing at build time with an Ant script but I found relative tab missing in `Project Structure -&gt;Artifacts`, as you can see in the following picture:  \r\n\r\n[![Artifact dialog with no pre &amp; post processing tab][1]][1]\r\n\r\nAnother java project, few months older than the first one, has `Pre-processing` and `Post-processing` tabs in the same dialog as you can see in the following picture:\r\n\r\n[![Artifact dialog with pre &amp; post processing tab][2]][2]\r\n\r\nHow can I make these tabs available ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yxVrS.jpg\r\n  [2]: https://i.stack.imgur.com/PTEoH.jpg","title":"Intellij IDEA &quot;Project Structure -&gt;Artifact&quot; : Pre-processing and Post-processing missing","body":"<p>I'm working in a new java project with Intellij IDEA 2021.2.3 (Community Edition).</p>\n<p>When building a jar artifact I need to do pre processing &amp; post processing at build time with an Ant script but I found relative tab missing in <code>Project Structure -&gt;Artifacts</code>, as you can see in the following picture:</p>\n<p><a href=\"https://i.stack.imgur.com/yxVrS.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yxVrS.jpg\" alt=\"Artifact dialog with no pre &amp; post processing tab\" /></a></p>\n<p>Another java project, few months older than the first one, has <code>Pre-processing</code> and <code>Post-processing</code> tabs in the same dialog as you can see in the following picture:</p>\n<p><a href=\"https://i.stack.imgur.com/PTEoH.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PTEoH.jpg\" alt=\"Artifact dialog with pre &amp; post processing tab\" /></a></p>\n<p>How can I make these tabs available ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1636485753,"post_id":69903854,"comment_id":123568508,"body_markdown":"You don&#39;t need to catch. Change the loop to use `i &lt; iValues.length - 1` and don&#39;t use `i = i + 2`","body":"You don&#39;t need to catch. Change the loop to use <code>i &lt; iValues.length - 1</code> and don&#39;t use <code>i = i + 2</code>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1636485828,"post_id":69903854,"comment_id":123568536,"body_markdown":"Arrays are zero-indexed, i.e. an array of length `5` can be accessed with indices `0`, `1`, `2`, `3` and `4`. --- You increment the iteration variable in the `loop`-body as well as in the loop-header. I recommend reading a tutorial on `for`-loops, e.g. [this one from `oracle.com`](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html).","body":"Arrays are zero-indexed, i.e. an array of length <code>5</code> can be accessed with indices <code>0</code>, <code>1</code>, <code>2</code>, <code>3</code> and <code>4</code>. --- You increment the iteration variable in the <code>loop</code>-body as well as in the loop-header. I recommend reading a tutorial on <code>for</code>-loops, e.g. <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html\" rel=\"nofollow noreferrer\">this one from <code>oracle.com</code></a>."}],"owner":{"account_id":20576967,"reputation":1,"user_id":15103913,"display_name":"jhroutzong"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1636485820,"answer_count":0,"score":0,"last_activity_date":1636490769,"creation_date":1636485580,"question_id":69903854,"body_markdown":"I&#39;m currently catching an ArrayOutofBoundsException for this loop, but I don&#39;t see how, as I&#39;ve already explored all other options to have created this loop. For reference, the lengths of iValues.length are 5, 3, 5, 7, and 5.\r\n\r\n`for (int i = 1; i &lt; iValues.length; i = i + 2) {\r\n  \r\ng.addEdge(iValues[0], iValues[i], iValues[i + 1]);\r\n         \r\n}`\r\n\r\nHere&#39;s what I&#39;ve tried: decreasing iValues.length, and incrementing i within the body of the for loop. None of this seems to work. I did the math and all of these should be running and then terminated right after.","title":"What would cause this loop not to terminate?","body":"<p>I'm currently catching an ArrayOutofBoundsException for this loop, but I don't see how, as I've already explored all other options to have created this loop. For reference, the lengths of iValues.length are 5, 3, 5, 7, and 5.</p>\n<p>`for (int i = 1; i &lt; iValues.length; i = i + 2) {</p>\n<p>g.addEdge(iValues[0], iValues[i], iValues[i + 1]);</p>\n<p>}`</p>\n<p>Here's what I've tried: decreasing iValues.length, and incrementing i within the body of the for loop. None of this seems to work. I did the math and all of these should be running and then terminated right after.</p>\n"},{"tags":["java","jdbc","mariadb","database-connection"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1636543051,"post_id":69903798,"comment_id":123583277,"body_markdown":"Having the database on localhost:3306 suggest you need to connect through TCP/IP, not through a Unix Domain socket. Are you really asking about connecting through a Unix Domain socket, or are you (or your school) mixing up terminology?","body":"Having the database on localhost:3306 suggest you need to connect through TCP/IP, not through a Unix Domain socket. Are you really asking about connecting through a Unix Domain socket, or are you (or your school) mixing up terminology?"}],"answers":[{"tags":[],"owner":{"account_id":19982225,"reputation":67,"user_id":14645096,"display_name":"primevibetime"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636490605,"creation_date":1636487546,"answer_id":69904263,"question_id":69903798,"body_markdown":"This can be done with the official MariaDB driver, [which can be found here.](https://mariadb.com/downloads/connectors/)\r\n\r\n\r\nA simple example of this:\r\n\r\n```java\r\nimport java.sql.*;\r\n\r\npublic class MyConnector {\r\n\r\npublic static void connect(String dbLocation, String dbDriver, String user, String password) {\r\n \r\n\t Connection c = null;\r\n\t Statement st = null;\r\n\r\n\ttry {\r\n\r\n\t\tClass.forName(dbDriver);\r\n\t\t// Connect the driver to your classpath\r\n\t\tc = DriverManager.getConnection(dbLocation, user, password);\r\n\t\t// Now java is connected to the database\r\n\t\tst = c.createStatement();\r\n\t\t\r\n\t\tString changeTable = &quot;&quot;&quot;\r\n\t\t\tUSE mytable;\r\n\t\t\tSELECT * FROM mytable WHERE id = 1;\r\n\t\t&quot;&quot;&quot;;\r\n\r\n\t\tst.executeUpdate(changeTable);\r\n\t\t\r\n\t} catch (Exception e) {\r\n\t\tSystem.out.println(&quot;[FATAL] Error: &quot; + e.getMessage());\r\n\t}\r\n\r\n\r\npublic static void main(String[] args) {\r\n\t\r\n\t\tString dbDriver = &quot;org.mariadb.jdbc.Driver&quot;;\r\n\t\tString user = &quot;root&quot;;\r\n\t\tString pass = &quot;root&quot;;\r\n\t\tString dbLocation = &quot;jdbc:mariadb://192.168.100.174/db&quot;;\r\n\r\n\tconnect(dbLocation, dbDriver, user, root);\r\n}\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"How to connect java with mariaDB localhost via unix soket?","body":"<p>This can be done with the official MariaDB driver, <a href=\"https://mariadb.com/downloads/connectors/\" rel=\"nofollow noreferrer\">which can be found here.</a></p>\n<p>A simple example of this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.*;\n\npublic class MyConnector {\n\npublic static void connect(String dbLocation, String dbDriver, String user, String password) {\n \n     Connection c = null;\n     Statement st = null;\n\n    try {\n\n        Class.forName(dbDriver);\n        // Connect the driver to your classpath\n        c = DriverManager.getConnection(dbLocation, user, password);\n        // Now java is connected to the database\n        st = c.createStatement();\n        \n        String changeTable = &quot;&quot;&quot;\n            USE mytable;\n            SELECT * FROM mytable WHERE id = 1;\n        &quot;&quot;&quot;;\n\n        st.executeUpdate(changeTable);\n        \n    } catch (Exception e) {\n        System.out.println(&quot;[FATAL] Error: &quot; + e.getMessage());\n    }\n\n\npublic static void main(String[] args) {\n    \n        String dbDriver = &quot;org.mariadb.jdbc.Driver&quot;;\n        String user = &quot;root&quot;;\n        String pass = &quot;root&quot;;\n        String dbLocation = &quot;jdbc:mariadb://192.168.100.174/db&quot;;\n\n    connect(dbLocation, dbDriver, user, root);\n}\n}\n</code></pre>\n"}],"owner":{"account_id":23288039,"reputation":21,"user_id":17370554,"display_name":"plamen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1636490605,"creation_date":1636485293,"question_id":69903798,"body_markdown":"I&#39;m a 2 year teacher of informatics and currently in my second year of teaching but I have little experience in connecting database to java. The school provides a localhost:3306 on its private server with these database specification:\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AWLlI.jpg\r\n\r\nI can connect a mysql community database from my PC without any problem but I don&#39;t know how to approach connecting to the unix socket.\r\n\r\nHow would i be able to connect the schools database server with a java program.","title":"How to connect java with mariaDB localhost via unix soket?","body":"<p>I'm a 2 year teacher of informatics and currently in my second year of teaching but I have little experience in connecting database to java. The school provides a localhost:3306 on its private server with these database specification:</p>\n<p><a href=\"https://i.stack.imgur.com/AWLlI.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I can connect a mysql community database from my PC without any problem but I don't know how to approach connecting to the unix socket.</p>\n<p>How would i be able to connect the schools database server with a java program.</p>\n"},{"tags":["java","multithreading","kotlin","thread-safety","project-reactor"],"comments":[{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":0,"creation_date":1632033103,"post_id":69238805,"comment_id":122380795,"body_markdown":"Did you consider using the bufferUntil method of Flux? That would take care of handling the state so you don&#39;t have to.","body":"Did you consider using the bufferUntil method of Flux? That would take care of handling the state so you don&#39;t have to."}],"owner":{"account_id":6440344,"reputation":1856,"user_id":4990550,"accept_rate":86,"display_name":"David Siro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636490549,"creation_date":1632002780,"question_id":69238805,"body_markdown":"I&#39;m building a processing pipeline that consumes events, applies stateful transformation and saves the result in the database.\r\n\r\nTo be more specific, the consumer reads series of events, then I need to hold them (in memory) until specific events comes (so called &#39;end-of-batch&#39;) and then transform them. Transformation is stateful - logic depends on the order of events received previously.\r\n\r\nThis could be described by following Kotlin pseudocode:\r\n```\r\nval consumer: QueueConsumer&lt;Event&gt; = Consumer()\r\nconsumer.read()\r\n   .concatMap { events: List&lt;Event&gt; -&gt; Monojust(transformer.transform(events)}\r\n   .concatMap {db.saveAll(it}\r\n\r\n```\r\n\r\nMy question is, how to approach the threading of the `transformer`. My idea is to have it single threaded to avoid synchronization.\r\n\r\nThe consumer is a single thread busy spinning on and filesystem read, hence `transformer.transform(events)` runs always in the consumer thread.\r\n\r\nActually, I&#39;d considered this design as not very robust as it depends on the threading of the upstream operator and works only in assumption that it&#39;s single threaded.\r\n\r\nIs there a better way to do this?\r\n\r\n ","title":"Reactor - single threaded stateful transfomation","body":"<p>I'm building a processing pipeline that consumes events, applies stateful transformation and saves the result in the database.</p>\n<p>To be more specific, the consumer reads series of events, then I need to hold them (in memory) until specific events comes (so called 'end-of-batch') and then transform them. Transformation is stateful - logic depends on the order of events received previously.</p>\n<p>This could be described by following Kotlin pseudocode:</p>\n<pre><code>val consumer: QueueConsumer&lt;Event&gt; = Consumer()\nconsumer.read()\n   .concatMap { events: List&lt;Event&gt; -&gt; Monojust(transformer.transform(events)}\n   .concatMap {db.saveAll(it}\n\n</code></pre>\n<p>My question is, how to approach the threading of the <code>transformer</code>. My idea is to have it single threaded to avoid synchronization.</p>\n<p>The consumer is a single thread busy spinning on and filesystem read, hence <code>transformer.transform(events)</code> runs always in the consumer thread.</p>\n<p>Actually, I'd considered this design as not very robust as it depends on the threading of the upstream operator and works only in assumption that it's single threaded.</p>\n<p>Is there a better way to do this?</p>\n"},{"tags":["java","spring","maven","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1490355427,"post_id":42997655,"comment_id":73086670,"body_markdown":"Which versions of spring and spring-boot do you use? Are you really using a snapshot version? If so, do this only if you want to test bleeding edge. Reverting to an older snapshot won&#39;t probably work. Of course you can revert to an older release version.","body":"Which versions of spring and spring-boot do you use? Are you really using a snapshot version? If so, do this only if you want to test bleeding edge. Reverting to an older snapshot won&#39;t probably work. Of course you can revert to an older release version."},{"owner":{"account_id":3937771,"reputation":5557,"user_id":4077513,"accept_rate":81,"display_name":"Martin Erlic"},"score":0,"creation_date":1490357543,"post_id":42997655,"comment_id":73088069,"body_markdown":"``&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0.BUILD-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath/&gt;\n        &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;``\n\nWhat should I set the version to?","body":"<code>&lt;parent&gt;         &lt;groupId&gt;org.springframework.boot&lt;&#47;groupId&gt;         &lt;artifactId&gt;spring-boot-starter-parent&lt;&#47;artifactId&gt;         &lt;version&gt;2.0.0.BUILD-SNAPSHOT&lt;&#47;version&gt;         &lt;relativePath&#47;&gt;         &lt;!-- lookup parent from repository --&gt;     &lt;&#47;parent&gt;</code>  What should I set the version to?"},{"owner":{"account_id":3937771,"reputation":5557,"user_id":4077513,"accept_rate":81,"display_name":"Martin Erlic"},"score":0,"creation_date":1490359864,"post_id":42997655,"comment_id":73089584,"body_markdown":"Should I include a different repository? I&#39;m typically pulling from the snapshot repo.","body":"Should I include a different repository? I&#39;m typically pulling from the snapshot repo."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1490360104,"post_id":42997655,"comment_id":73089735,"body_markdown":"What exactly is your question? Isn&#39;t the message clear? findOne() returns an Optional&lt;Users&gt;, which is not the same type as Users. If you want stable dependencies, why do you use snapshots? And if you want to be on the edge by using a snapshot, why don&#39;t you adapt your code to the new release of the snapshot?","body":"What exactly is your question? Isn&#39;t the message clear? findOne() returns an Optional&lt;Users&gt;, which is not the same type as Users. If you want stable dependencies, why do you use snapshots? And if you want to be on the edge by using a snapshot, why don&#39;t you adapt your code to the new release of the snapshot?"},{"owner":{"account_id":3937771,"reputation":5557,"user_id":4077513,"accept_rate":81,"display_name":"Martin Erlic"},"score":0,"creation_date":1490360301,"post_id":42997655,"comment_id":73089865,"body_markdown":"Because all I know is that I haven&#39;t changed a single line of code and everything was working until last night. The issue was some kind of dependency change which I can&#39;t identify. So  my question is what is the alternative that will allow me to return my previously stable build? With all due respect, suggested solutions should address the solution, not my programming habits.","body":"Because all I know is that I haven&#39;t changed a single line of code and everything was working until last night. The issue was some kind of dependency change which I can&#39;t identify. So  my question is what is the alternative that will allow me to return my previously stable build? With all due respect, suggested solutions should address the solution, not my programming habits."},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":2,"creation_date":1490360999,"post_id":42997655,"comment_id":73090263,"body_markdown":"You have never had a stable build if you only use snapshots. Snapshots are in current development, so that means also APIs can change (which it did in your case). If you want to have a stable build, then use releases (you can see the latest released version on the Spring Boot homepage). If you don&#39;t know the difference between snapshots and releases in the Maven world, then have a look at a Maven tutorial (e.g. https://maven.apache.org/guides/getting-started/index.html#What_is_a_SNAPSHOT_version)","body":"You have never had a stable build if you only use snapshots. Snapshots are in current development, so that means also APIs can change (which it did in your case). If you want to have a stable build, then use releases (you can see the latest released version on the Spring Boot homepage). If you don&#39;t know the difference between snapshots and releases in the Maven world, then have a look at a Maven tutorial (e.g. <a href=\"https://maven.apache.org/guides/getting-started/index.html#What_is_a_SNAPSHOT_version\" rel=\"nofollow noreferrer\">maven.apache.org/guides/getting-started/&hellip;</a>)"},{"owner":{"account_id":13423654,"reputation":1,"user_id":9685697,"display_name":"Andrey P."},"score":0,"creation_date":1524489235,"post_id":42997655,"comment_id":86980168,"body_markdown":"Similar problem: https://stackoverflow.com/questions/49980740/spring-boot-spring-mvc-spring-data-class-cast-exception","body":"Similar problem: <a href=\"https://stackoverflow.com/questions/49980740/spring-boot-spring-mvc-spring-data-class-cast-exception\" title=\"spring boot spring mvc spring data class cast exception\">stackoverflow.com/questions/49980740/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2470415,"reputation":26,"user_id":2152434,"display_name":"pierogieExpress"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1491678838,"creation_date":1491678838,"answer_id":43299313,"question_id":42997655,"body_markdown":"I had a similar issue using &lt;version&gt;2.0.0.BUILD-SNAPSHOT&lt;/version&gt;, so unless you&#39;re experimenting with some low-level spring boot features, change the version to `1.5.2.RELEASE`","title":"incompatible types: java.util.Optional&lt;xyz.app.entity.Users&gt; cannot be converted to Users (Springboot compilation error)","body":"<p>I had a similar issue using 2.0.0.BUILD-SNAPSHOT, so unless you're experimenting with some low-level spring boot features, change the version to <code>1.5.2.RELEASE</code></p>\n"},{"tags":[],"owner":{"account_id":19504853,"reputation":155,"user_id":14270116,"display_name":"Tugba Alparslan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636490502,"creation_date":1636490502,"answer_id":69904810,"question_id":42997655,"body_markdown":"I had a similar issue and I still haven&#39;t got the answer.\r\nBut there is a solution. May be it help you.\r\n\r\n[Source option 5 is no longer supported][1]\r\n\r\n\r\n  [1]: https://github.com/jflex-de/jflex/issues/400","title":"incompatible types: java.util.Optional&lt;xyz.app.entity.Users&gt; cannot be converted to Users (Springboot compilation error)","body":"<p>I had a similar issue and I still haven't got the answer.\nBut there is a solution. May be it help you.</p>\n<p><a href=\"https://github.com/jflex-de/jflex/issues/400\" rel=\"nofollow noreferrer\">Source option 5 is no longer supported</a></p>\n"}],"owner":{"account_id":3937771,"reputation":5557,"user_id":4077513,"accept_rate":81,"display_name":"Martin Erlic"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3423,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":43299313,"answer_count":2,"score":1,"last_activity_date":1636490502,"creation_date":1490352871,"question_id":42997655,"body_markdown":"I&#39;m getting an incompatible types error message at the following line in my spring-boot application:\r\n\r\n    RequestDO request = requestRepository.findOne(requestModel.getRequestId());\r\n    Users employee = usersRepository.findOne(request.getUsers().getId());\r\n\r\nI have not experienced this error in this context before. My app has been running successfully since its first production build about one month ago.\r\n\r\n**Build failure:**\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project tmt: Compilation failure: Compilation failure:\r\n    [ERROR] /C:/Users/martin/Documents/Web Projects/home.office/src/main/java/xyz/app/controller/UserController.java:[45,45] incompatible types: java.util.Optional&lt;xyz.app.entity.Users&gt; cannot be converted to xyz.app.entity.Users\r\n    [ERROR] /C:/Users/martin/Documents/Web Projects/home.office/src/main/java/xyz/app/controller/RequestController.java:[139,54] incompatible types: java.util.Optional&lt;xyz.app.entity.RequestDO&gt; cannot be converted to xyz.app.entity.RequestDO\r\n    [ERROR] /C:/Users/martin/Documents/Web Projects/home.office/src/main/java/xyz/app/controller/RequestController.java:[140,49] incompatible types: java.util.app&lt;xyz.app.entity.Users&gt; cannot be converted to xyz.app.entity.Users\r\n    [ERROR] /C:/Users/martin/Documents/Web Projects/home.office/src/main/java/xyz/app/controller/RequestController.java:[155,54] incompatible types: java.util.Optional&lt;v.app.entity.RequestDO&gt; cannot be converted to xyz.app.entity.RequestDO\r\n    [ERROR] /C:/Users/martin/Documents/Web Projects/home.office/src/main/java/xyz/app/controller/RequestController.java:[157,49] incompatible types: java.util.Optional&lt;xyz.app.entity.Users&gt; cannot be converted to xyz.app.entity.Users\r\n\r\nI have made no code changes since I&#39;ve last successfully re-built my project. This leads me to believe there has been a recent change in the springframework Maven dependency that has caused my code to break. Is it possible to test this by reverting to an older snapshot in my pom.xml? Also, what could be causing the error?\r\n\r\n**pom**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;xyz.app&lt;/groupId&gt;\r\n        &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;app&lt;/name&gt;\r\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.0.BUILD-SNAPSHOT&lt;/version&gt;\r\n            &lt;relativePath/&gt;\r\n            &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n                &lt;artifactId&gt;sqljdbc4&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!--&lt;dependency&gt;\r\n                &lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ojdbc7&lt;/artifactId&gt;\r\n                &lt;version&gt;12.1.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-ldap&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.directory.server&lt;/groupId&gt;\r\n                &lt;artifactId&gt;apacheds-server-jndi&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;it.ozimov&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-email-core&lt;/artifactId&gt;\r\n                &lt;version&gt;0.4.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;it.ozimov&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-freemarker-email&lt;/artifactId&gt;\r\n                &lt;version&gt;0.4.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n                &lt;artifactId&gt;thymeleaf-extras-springsecurity4&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n                &lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/repository&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;spring-milestones&lt;/id&gt;\r\n                &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;false&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n        &lt;pluginRepositories&gt;\r\n            &lt;pluginRepository&gt;\r\n                &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n                &lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/pluginRepository&gt;\r\n            &lt;pluginRepository&gt;\r\n                &lt;id&gt;spring-milestones&lt;/id&gt;\r\n                &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;false&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/pluginRepository&gt;\r\n        &lt;/pluginRepositories&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"incompatible types: java.util.Optional&lt;xyz.app.entity.Users&gt; cannot be converted to Users (Springboot compilation error)","body":"<p>I'm getting an incompatible types error message at the following line in my spring-boot application:</p>\n\n<pre><code>RequestDO request = requestRepository.findOne(requestModel.getRequestId());\nUsers employee = usersRepository.findOne(request.getUsers().getId());\n</code></pre>\n\n<p>I have not experienced this error in this context before. My app has been running successfully since its first production build about one month ago.</p>\n\n<p><strong>Build failure:</strong></p>\n\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project tmt: Compilation failure: Compilation failure:\n[ERROR] /C:/Users/martin/Documents/Web Projects/home.office/src/main/java/xyz/app/controller/UserController.java:[45,45] incompatible types: java.util.Optional&lt;xyz.app.entity.Users&gt; cannot be converted to xyz.app.entity.Users\n[ERROR] /C:/Users/martin/Documents/Web Projects/home.office/src/main/java/xyz/app/controller/RequestController.java:[139,54] incompatible types: java.util.Optional&lt;xyz.app.entity.RequestDO&gt; cannot be converted to xyz.app.entity.RequestDO\n[ERROR] /C:/Users/martin/Documents/Web Projects/home.office/src/main/java/xyz/app/controller/RequestController.java:[140,49] incompatible types: java.util.app&lt;xyz.app.entity.Users&gt; cannot be converted to xyz.app.entity.Users\n[ERROR] /C:/Users/martin/Documents/Web Projects/home.office/src/main/java/xyz/app/controller/RequestController.java:[155,54] incompatible types: java.util.Optional&lt;v.app.entity.RequestDO&gt; cannot be converted to xyz.app.entity.RequestDO\n[ERROR] /C:/Users/martin/Documents/Web Projects/home.office/src/main/java/xyz/app/controller/RequestController.java:[157,49] incompatible types: java.util.Optional&lt;xyz.app.entity.Users&gt; cannot be converted to xyz.app.entity.Users\n</code></pre>\n\n<p>I have made no code changes since I've last successfully re-built my project. This leads me to believe there has been a recent change in the springframework Maven dependency that has caused my code to break. Is it possible to test this by reverting to an older snapshot in my pom.xml? Also, what could be causing the error?</p>\n\n<p><strong>pom</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;xyz.app&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;name&gt;app&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0.BUILD-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath/&gt;\n        &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;sqljdbc4&lt;/artifactId&gt;\n            &lt;version&gt;4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!--&lt;dependency&gt;\n            &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc7&lt;/artifactId&gt;\n            &lt;version&gt;12.1.0.1&lt;/version&gt;\n        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-ldap&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.directory.server&lt;/groupId&gt;\n            &lt;artifactId&gt;apacheds-server-jndi&lt;/artifactId&gt;\n            &lt;version&gt;1.5.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;it.ozimov&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-email-core&lt;/artifactId&gt;\n            &lt;version&gt;0.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;it.ozimov&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-freemarker-email&lt;/artifactId&gt;\n            &lt;version&gt;0.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity4&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","ssl","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":80360,"reputation":5251,"user_id":227294,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636490481,"creation_date":1636490481,"answer_id":69904807,"question_id":69899232,"body_markdown":"The api evolved a bit between 2.0 and 2.1. Find below a sample that works with 2.0.4:\r\n\r\n```java\r\npackage com.example.webclienttest;\r\n\r\nimport io.netty.handler.ssl.SslContext;\r\nimport io.netty.handler.ssl.SslContextBuilder;\r\nimport io.netty.handler.ssl.util.InsecureTrustManagerFactory;\r\nimport javax.net.ssl.SSLException;\r\nimport org.junit.Test;\r\nimport org.springframework.http.client.reactive.ReactorClientHttpConnector;\r\nimport org.springframework.web.reactive.function.client.WebClient;\r\n\r\npublic class WebClientTest {\r\n\r\n  @Test\r\n  public void test() throws SSLException {\r\n    SslContext context = SslContextBuilder.forClient()\r\n        .trustManager(InsecureTrustManagerFactory.INSTANCE).build();\r\n    WebClient webClient = WebClient.builder()\r\n        .clientConnector(new ReactorClientHttpConnector(builder -&gt; builder.sslContext(context)))\r\n        .build();\r\n    String stringMono = webClient.get().uri(&quot;https://expired.badssl.com/&quot;).retrieve()\r\n        .bodyToMono(String.class).block();\r\n    System.out.println(stringMono);\r\n  }\r\n}\r\n```","title":"Disable webclient ssl validation springboot 2.0.4","body":"<p>The api evolved a bit between 2.0 and 2.1. Find below a sample that works with 2.0.4:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.webclienttest;\n\nimport io.netty.handler.ssl.SslContext;\nimport io.netty.handler.ssl.SslContextBuilder;\nimport io.netty.handler.ssl.util.InsecureTrustManagerFactory;\nimport javax.net.ssl.SSLException;\nimport org.junit.Test;\nimport org.springframework.http.client.reactive.ReactorClientHttpConnector;\nimport org.springframework.web.reactive.function.client.WebClient;\n\npublic class WebClientTest {\n\n  @Test\n  public void test() throws SSLException {\n    SslContext context = SslContextBuilder.forClient()\n        .trustManager(InsecureTrustManagerFactory.INSTANCE).build();\n    WebClient webClient = WebClient.builder()\n        .clientConnector(new ReactorClientHttpConnector(builder -&gt; builder.sslContext(context)))\n        .build();\n    String stringMono = webClient.get().uri(&quot;https://expired.badssl.com/&quot;).retrieve()\n        .bodyToMono(String.class).block();\n    System.out.println(stringMono);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":18774496,"reputation":11,"user_id":13690595,"display_name":"Ulfnir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1132,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636490481,"creation_date":1636465320,"question_id":69899232,"body_markdown":"On springboot 2.1 you can disable webclient ssl validation using snippet below, but how do you do this on springboot 2.0? Where the ReactorClientHttpConnector does not have this constructor that accpets the HttpClient, instead it has the constructor below\r\n\r\n    public ReactorClientHttpConnector(Consumer&lt;? super HttpClientOptions.Builder&gt; clientOptions) {\r\n    \t\tthis.httpClient = HttpClient.create(clientOptions);\r\n    \t}\r\n\r\nSnipppet below works on 2.1 but not on 2.0\r\n\r\n    SslContext context = SslContextBuilder.forClient()\r\n\t\t\t    .trustManager(InsecureTrustManagerFactory.INSTANCE)\r\n\t\t\t    .build();\r\n    HttpClient httpClient = HttpClient.create().secure(t -&gt; t.sslContext(context));\r\n    WebClient.builder()\r\n\t\t\t\t.clientConnector(new ReactorClientHttpConnector(httpClient))","title":"Disable webclient ssl validation springboot 2.0.4","body":"<p>On springboot 2.1 you can disable webclient ssl validation using snippet below, but how do you do this on springboot 2.0? Where the ReactorClientHttpConnector does not have this constructor that accpets the HttpClient, instead it has the constructor below</p>\n<pre><code>public ReactorClientHttpConnector(Consumer&lt;? super HttpClientOptions.Builder&gt; clientOptions) {\n        this.httpClient = HttpClient.create(clientOptions);\n    }\n</code></pre>\n<p>Snipppet below works on 2.1 but not on 2.0</p>\n<pre><code>SslContext context = SslContextBuilder.forClient()\n            .trustManager(InsecureTrustManagerFactory.INSTANCE)\n            .build();\nHttpClient httpClient = HttpClient.create().secure(t -&gt; t.sslContext(context));\nWebClient.builder()\n            .clientConnector(new ReactorClientHttpConnector(httpClient))\n</code></pre>\n"},{"tags":["java","benchmarking","microbenchmark","jmh"],"comments":[{"owner":{"account_id":22039646,"reputation":1477,"user_id":16305607,"display_name":"majusebetter"},"score":1,"creation_date":1636486179,"post_id":69903622,"comment_id":123568681,"body_markdown":"Iteration 1 runs for 5 seconds: `22716 ops/ms * 5000 ms * 4 bytes (int) = 454320000 bytes = ~433 MB`... And this is only one iteration. An out-of-memory error is very likely to happen.","body":"Iteration 1 runs for 5 seconds: <code>22716 ops&#47;ms * 5000 ms * 4 bytes (int) = 454320000 bytes = ~433 MB</code>... And this is only one iteration. An out-of-memory error is very likely to happen."},{"owner":{"account_id":4396335,"reputation":319,"user_id":3583252,"accept_rate":73,"display_name":"Toby Cook"},"score":0,"creation_date":1636486304,"post_id":69903622,"comment_id":123568728,"body_markdown":"@majusebetter do you suggest a lower iteration time? Would that not be insufficient to gain a reliable measurement?","body":"@majusebetter do you suggest a lower iteration time? Would that not be insufficient to gain a reliable measurement?"},{"owner":{"account_id":22039646,"reputation":1477,"user_id":16305607,"display_name":"majusebetter"},"score":1,"creation_date":1636487180,"post_id":69903622,"comment_id":123569058,"body_markdown":"Yes, 100-1000 milliseconds should be sufficient. Look, if you would write the benchmark yourself without using a framework, you would do something like `for (int i = 0; i &lt; 1000000; i++) { /* Operation under benchmark */ }` multiple times and compute the average time. Since you already perform multiple iterations, one single iteration can be much shorter.","body":"Yes, 100-1000 milliseconds should be sufficient. Look, if you would write the benchmark yourself without using a framework, you would do something like <code>for (int i = 0; i &lt; 1000000; i++) { &#47;* Operation under benchmark *&#47; }</code> multiple times and compute the average time. Since you already perform multiple iterations, one single iteration can be much shorter."},{"owner":{"account_id":4396335,"reputation":319,"user_id":3583252,"accept_rate":73,"display_name":"Toby Cook"},"score":1,"creation_date":1636490032,"post_id":69903622,"comment_id":123570158,"body_markdown":"@majusebetter thanks for your help. I&#39;ve posted an answer below with my working code.","body":"@majusebetter thanks for your help. I&#39;ve posted an answer below with my working code."}],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636487900,"creation_date":1636486832,"answer_id":69904108,"question_id":69903622,"body_markdown":"**Disclaimer:** it&#39;s not a answer to the question. But I wanted to share with OP my findings, which would not fit so well in a comment.\r\n\r\nI encountered on my system a different exception:\r\n\r\n    &quot;C:\\Program Files\\AdoptOpenJDK\\jdk-11.0.8.10-hotspot\\bin\\java.exe&quot; -Xms60G -Dfile.encoding=UTF-8 -classpath C:\\Users\\vd-wps\\git\\Schulung\\concurrency\\target\\classes;C:\\Users\\vd-wps\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-web\\2.5.3\\spring-boot-starter-web-2.5.3.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter\\2.5.3\\spring-boot-starter-2.5.3.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\springframework\\boot\\spring-boot\\2.5.3\\spring-boot-2.5.3.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\springframework\\boot\\spring-boot-autoconfigure\\2.5.3\\spring-boot-autoconfigure-2.5.3.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-logging\\2.5.3\\spring-boot-starter-logging-2.5.3.jar;C:\\Users\\vd-wps\\.m2\\repository\\ch\\qos\\logback\\logback-classic\\1.2.4\\logback-classic-1.2.4.jar;C:\\Users\\vd-wps\\.m2\\repository\\ch\\qos\\logback\\logback-core\\1.2.4\\logback-core-1.2.4.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-to-slf4j\\2.14.1\\log4j-to-slf4j-2.14.1.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-api\\2.14.1\\log4j-api-2.14.1.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\slf4j\\jul-to-slf4j\\1.7.32\\jul-to-slf4j-1.7.32.jar;C:\\Users\\vd-wps\\.m2\\repository\\jakarta\\annotation\\jakarta.annotation-api\\1.3.5\\jakarta.annotation-api-1.3.5.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\yaml\\snakeyaml\\1.28\\snakeyaml-1.28.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-json\\2.5.3\\spring-boot-starter-json-2.5.3.jar;C:\\Users\\vd-wps\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jdk8\\2.12.4\\jackson-datatype-jdk8-2.12.4.jar;C:\\Users\\vd-wps\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jsr310\\2.12.4\\jackson-datatype-jsr310-2.12.4.jar;C:\\Users\\vd-wps\\.m2\\repository\\com\\fasterxml\\jackson\\module\\jackson-module-parameter-names\\2.12.4\\jackson-module-parameter-names-2.12.4.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-tomcat\\2.5.3\\spring-boot-starter-tomcat-2.5.3.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-core\\9.0.50\\tomcat-embed-core-9.0.50.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-el\\9.0.50\\tomcat-embed-el-9.0.50.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-websocket\\9.0.50\\tomcat-embed-websocket-9.0.50.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\springframework\\spring-web\\5.3.9\\spring-web-5.3.9.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\springframework\\spring-beans\\5.3.9\\spring-beans-5.3.9.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\springframework\\spring-webmvc\\5.3.9\\spring-webmvc-5.3.9.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\springframework\\spring-aop\\5.3.9\\spring-aop-5.3.9.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\springframework\\spring-context\\5.3.9\\spring-context-5.3.9.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\springframework\\spring-expression\\5.3.9\\spring-expression-5.3.9.jar;C:\\Users\\vd-wps\\.m2\\repository\\io\\vavr\\vavr\\0.10.3\\vavr-0.10.3.jar;C:\\Users\\vd-wps\\.m2\\repository\\io\\vavr\\vavr-match\\0.10.3\\vavr-match-0.10.3.jar;C:\\Users\\vd-wps\\.m2\\repository\\io\\vavr\\vavr-jackson\\0.10.3\\vavr-jackson-0.10.3.jar;C:\\Users\\vd-wps\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.12.4\\jackson-databind-2.12.4.jar;C:\\Users\\vd-wps\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-annotations\\2.12.4\\jackson-annotations-2.12.4.jar;C:\\Users\\vd-wps\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-core\\2.12.4\\jackson-core-2.12.4.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\slf4j\\slf4j-api\\1.7.32\\slf4j-api-1.7.32.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\springframework\\spring-core\\5.3.9\\spring-core-5.3.9.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\springframework\\spring-jcl\\5.3.9\\spring-jcl-5.3.9.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\openjdk\\jmh\\jmh-core\\1.33\\jmh-core-1.33.jar;C:\\Users\\vd-wps\\.m2\\repository\\net\\sf\\jopt-simple\\jopt-simple\\4.6\\jopt-simple-4.6.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\apache\\commons\\commons-math3\\3.2\\commons-math3-3.2.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\openjdk\\jmh\\jmh-generator-annprocess\\1.33\\jmh-generator-annprocess-1.33.jar org.openjdk.jmh.Main live.Foo.*\r\n        # JMH version: 1.33\r\n        # VM version: JDK 11.0.8, OpenJDK 64-Bit Server VM, 11.0.8+10\r\n        # VM invoker: C:\\Program Files\\AdoptOpenJDK\\jdk-11.0.8.10-hotspot\\bin\\java.exe\r\n        # VM options: -Xms60G -Dfile.encoding=UTF-8\r\n        # Blackhole mode: full + dont-inline hint (default, use -Djmh.blackhole.autoDetect=true to auto-detect)\r\n        # Warmup: 5 iterations, 5 s each\r\n        # Measurement: 10 iterations, 5 s each\r\n        # Timeout: 10 min per iteration\r\n        # Threads: 1 thread, will synchronize iterations\r\n        # Benchmark mode: Throughput, ops/time\r\n        # Benchmark: live.Foo.arrayListBenchmark\r\n        # Parameters: (iterations = 1000)\r\n        \r\n        # Run progress: 0,00% complete, ETA 00:37:30\r\n        # Fork: 1 of 5\r\n        # Warmup Iteration   1: 38080,602 ops/ms\r\n        # Warmup Iteration   2: 38133,575 ops/ms\r\n        # Warmup Iteration   3: 39387,368 ops/ms\r\n        # Warmup Iteration   4: 17938,954 ops/ms\r\n        # Warmup Iteration   5: 45201,878 ops/ms\r\n        Iteration   1: 6122,634 ops/ms\r\n        Iteration   2: 97654,786 ops/ms\r\n        Iteration   3: &lt;failure&gt;\r\n        \r\n        java.lang.OutOfMemoryError: Requested array size exceeds VM limit\r\n        \tat java.base/java.util.Arrays.copyOf(Arrays.java:3689)\r\n        \tat java.base/java.util.ArrayList.grow(ArrayList.java:238)\r\n        \tat java.base/java.util.ArrayList.grow(ArrayList.java:243)\r\n        \tat java.base/java.util.ArrayList.add(ArrayList.java:486)\r\n        \tat java.base/java.util.ArrayList.add(ArrayList.java:499)\r\n        \tat live.Foo.arrayListBenchmark(Foo.java:42)\r\n        \tat live.jmh_generated.Foo_arrayListBenchmark_jmhTest.arrayListBenchmark_thrpt_jmhStub(Foo_arrayListBenchmark_jmhTest.java:142)\r\n        \tat live.jmh_generated.Foo_arrayListBenchmark_jmhTest.arrayListBenchmark_Throughput(Foo_arrayListBenchmark_jmhTest.java:83)\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        \tat org.openjdk.jmh.runner.BenchmarkHandler$BenchmarkTask.call(BenchmarkHandler.java:475)\r\n        \tat org.openjdk.jmh.runner.BenchmarkHandler$BenchmarkTask.call(BenchmarkHandler.java:458)\r\n        \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n        \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\nI ran the benchmark with almost all of my RAM (60 of 64GB). And the TaskManager displayed a heavy load indeed.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X0HY0.png","title":"OutOfMemoryError when benchmarking ArrayList.add() in JMH","body":"<p><strong>Disclaimer:</strong> it's not a answer to the question. But I wanted to share with OP my findings, which would not fit so well in a comment.</p>\n<p>I encountered on my system a different exception:</p>\n<pre><code>&quot;C:\\Program Files\\AdoptOpenJDK\\jdk-11.0.8.10-hotspot\\bin\\java.exe&quot; -Xms60G -Dfile.encoding=UTF-8 -classpath C:\\Users\\vd-wps\\git\\Schulung\\concurrency\\target\\classes;C:\\Users\\vd-wps\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-web\\2.5.3\\spring-boot-starter-web-2.5.3.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter\\2.5.3\\spring-boot-starter-2.5.3.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\springframework\\boot\\spring-boot\\2.5.3\\spring-boot-2.5.3.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\springframework\\boot\\spring-boot-autoconfigure\\2.5.3\\spring-boot-autoconfigure-2.5.3.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-logging\\2.5.3\\spring-boot-starter-logging-2.5.3.jar;C:\\Users\\vd-wps\\.m2\\repository\\ch\\qos\\logback\\logback-classic\\1.2.4\\logback-classic-1.2.4.jar;C:\\Users\\vd-wps\\.m2\\repository\\ch\\qos\\logback\\logback-core\\1.2.4\\logback-core-1.2.4.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-to-slf4j\\2.14.1\\log4j-to-slf4j-2.14.1.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-api\\2.14.1\\log4j-api-2.14.1.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\slf4j\\jul-to-slf4j\\1.7.32\\jul-to-slf4j-1.7.32.jar;C:\\Users\\vd-wps\\.m2\\repository\\jakarta\\annotation\\jakarta.annotation-api\\1.3.5\\jakarta.annotation-api-1.3.5.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\yaml\\snakeyaml\\1.28\\snakeyaml-1.28.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-json\\2.5.3\\spring-boot-starter-json-2.5.3.jar;C:\\Users\\vd-wps\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jdk8\\2.12.4\\jackson-datatype-jdk8-2.12.4.jar;C:\\Users\\vd-wps\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jsr310\\2.12.4\\jackson-datatype-jsr310-2.12.4.jar;C:\\Users\\vd-wps\\.m2\\repository\\com\\fasterxml\\jackson\\module\\jackson-module-parameter-names\\2.12.4\\jackson-module-parameter-names-2.12.4.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-tomcat\\2.5.3\\spring-boot-starter-tomcat-2.5.3.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-core\\9.0.50\\tomcat-embed-core-9.0.50.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-el\\9.0.50\\tomcat-embed-el-9.0.50.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-websocket\\9.0.50\\tomcat-embed-websocket-9.0.50.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\springframework\\spring-web\\5.3.9\\spring-web-5.3.9.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\springframework\\spring-beans\\5.3.9\\spring-beans-5.3.9.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\springframework\\spring-webmvc\\5.3.9\\spring-webmvc-5.3.9.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\springframework\\spring-aop\\5.3.9\\spring-aop-5.3.9.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\springframework\\spring-context\\5.3.9\\spring-context-5.3.9.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\springframework\\spring-expression\\5.3.9\\spring-expression-5.3.9.jar;C:\\Users\\vd-wps\\.m2\\repository\\io\\vavr\\vavr\\0.10.3\\vavr-0.10.3.jar;C:\\Users\\vd-wps\\.m2\\repository\\io\\vavr\\vavr-match\\0.10.3\\vavr-match-0.10.3.jar;C:\\Users\\vd-wps\\.m2\\repository\\io\\vavr\\vavr-jackson\\0.10.3\\vavr-jackson-0.10.3.jar;C:\\Users\\vd-wps\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.12.4\\jackson-databind-2.12.4.jar;C:\\Users\\vd-wps\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-annotations\\2.12.4\\jackson-annotations-2.12.4.jar;C:\\Users\\vd-wps\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-core\\2.12.4\\jackson-core-2.12.4.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\slf4j\\slf4j-api\\1.7.32\\slf4j-api-1.7.32.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\springframework\\spring-core\\5.3.9\\spring-core-5.3.9.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\springframework\\spring-jcl\\5.3.9\\spring-jcl-5.3.9.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\openjdk\\jmh\\jmh-core\\1.33\\jmh-core-1.33.jar;C:\\Users\\vd-wps\\.m2\\repository\\net\\sf\\jopt-simple\\jopt-simple\\4.6\\jopt-simple-4.6.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\apache\\commons\\commons-math3\\3.2\\commons-math3-3.2.jar;C:\\Users\\vd-wps\\.m2\\repository\\org\\openjdk\\jmh\\jmh-generator-annprocess\\1.33\\jmh-generator-annprocess-1.33.jar org.openjdk.jmh.Main live.Foo.*\n    # JMH version: 1.33\n    # VM version: JDK 11.0.8, OpenJDK 64-Bit Server VM, 11.0.8+10\n    # VM invoker: C:\\Program Files\\AdoptOpenJDK\\jdk-11.0.8.10-hotspot\\bin\\java.exe\n    # VM options: -Xms60G -Dfile.encoding=UTF-8\n    # Blackhole mode: full + dont-inline hint (default, use -Djmh.blackhole.autoDetect=true to auto-detect)\n    # Warmup: 5 iterations, 5 s each\n    # Measurement: 10 iterations, 5 s each\n    # Timeout: 10 min per iteration\n    # Threads: 1 thread, will synchronize iterations\n    # Benchmark mode: Throughput, ops/time\n    # Benchmark: live.Foo.arrayListBenchmark\n    # Parameters: (iterations = 1000)\n    \n    # Run progress: 0,00% complete, ETA 00:37:30\n    # Fork: 1 of 5\n    # Warmup Iteration   1: 38080,602 ops/ms\n    # Warmup Iteration   2: 38133,575 ops/ms\n    # Warmup Iteration   3: 39387,368 ops/ms\n    # Warmup Iteration   4: 17938,954 ops/ms\n    # Warmup Iteration   5: 45201,878 ops/ms\n    Iteration   1: 6122,634 ops/ms\n    Iteration   2: 97654,786 ops/ms\n    Iteration   3: &lt;failure&gt;\n    \n    java.lang.OutOfMemoryError: Requested array size exceeds VM limit\n        at java.base/java.util.Arrays.copyOf(Arrays.java:3689)\n        at java.base/java.util.ArrayList.grow(ArrayList.java:238)\n        at java.base/java.util.ArrayList.grow(ArrayList.java:243)\n        at java.base/java.util.ArrayList.add(ArrayList.java:486)\n        at java.base/java.util.ArrayList.add(ArrayList.java:499)\n        at live.Foo.arrayListBenchmark(Foo.java:42)\n        at live.jmh_generated.Foo_arrayListBenchmark_jmhTest.arrayListBenchmark_thrpt_jmhStub(Foo_arrayListBenchmark_jmhTest.java:142)\n        at live.jmh_generated.Foo_arrayListBenchmark_jmhTest.arrayListBenchmark_Throughput(Foo_arrayListBenchmark_jmhTest.java:83)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.openjdk.jmh.runner.BenchmarkHandler$BenchmarkTask.call(BenchmarkHandler.java:475)\n        at org.openjdk.jmh.runner.BenchmarkHandler$BenchmarkTask.call(BenchmarkHandler.java:458)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>I ran the benchmark with almost all of my RAM (60 of 64GB). And the TaskManager displayed a heavy load indeed.</p>\n<p><a href=\"https://i.stack.imgur.com/X0HY0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X0HY0.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":4396335,"reputation":319,"user_id":3583252,"accept_rate":73,"display_name":"Toby Cook"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1636489946,"creation_date":1636489946,"answer_id":69904709,"question_id":69903622,"body_markdown":"I&#39;ve managed to curb my OutOfMemoryError by manually calling `System.gc()` on every teardown iteration. Thanks to @majusebetter for your help in identifying cause.\r\n\r\nMy final code now looks like:\r\n\r\n    @State(Scope.Benchmark)\r\n    @BenchmarkMode(Mode.Throughput)\r\n    @Warmup(iterations = 5, time = 500, timeUnit = TimeUnit.MILLISECONDS)\r\n    @Measurement(iterations = 10, time = 500, timeUnit = TimeUnit.MILLISECONDS)\r\n    @OutputTimeUnit(TimeUnit.MILLISECONDS)\r\n    public class ListAddBenchmark {\r\n    \r\n        private int NUMBER = 123;\r\n    \r\n        private List&lt;Integer&gt; arrayList, linkedList;\r\n    \r\n        @Setup(Level.Iteration)\r\n        public void setup() {\r\n            arrayList = new ArrayList&lt;&gt;();\r\n            linkedList = new LinkedList&lt;&gt;();\r\n        }\r\n    \r\n        @TearDown(Level.Iteration)\r\n        public void teardown() {\r\n            System.gc();\r\n        }\r\n    \r\n        @Benchmark\r\n        public boolean arrayListBenchmark() {\r\n            return arrayList.add(NUMBER);\r\n        }\r\n    \r\n        @Benchmark\r\n        public boolean linkedListBenchmark() {\r\n            return linkedList.add(NUMBER);\r\n        }\r\n    }\r\n\r\nThe final output (without any memory issues) is:\r\n\r\n    Benchmark                              Mode  Cnt      Score     Error   Units\r\n    ListAddBenchmark.arrayListBenchmark   thrpt   30  38587.191 &#177; 722.036  ops/ms\r\n    ListAddBenchmark.linkedListBenchmark  thrpt   30  13955.916 &#177; 574.261  ops/ms","title":"OutOfMemoryError when benchmarking ArrayList.add() in JMH","body":"<p>I've managed to curb my OutOfMemoryError by manually calling <code>System.gc()</code> on every teardown iteration. Thanks to @majusebetter for your help in identifying cause.</p>\n<p>My final code now looks like:</p>\n<pre><code>@State(Scope.Benchmark)\n@BenchmarkMode(Mode.Throughput)\n@Warmup(iterations = 5, time = 500, timeUnit = TimeUnit.MILLISECONDS)\n@Measurement(iterations = 10, time = 500, timeUnit = TimeUnit.MILLISECONDS)\n@OutputTimeUnit(TimeUnit.MILLISECONDS)\npublic class ListAddBenchmark {\n\n    private int NUMBER = 123;\n\n    private List&lt;Integer&gt; arrayList, linkedList;\n\n    @Setup(Level.Iteration)\n    public void setup() {\n        arrayList = new ArrayList&lt;&gt;();\n        linkedList = new LinkedList&lt;&gt;();\n    }\n\n    @TearDown(Level.Iteration)\n    public void teardown() {\n        System.gc();\n    }\n\n    @Benchmark\n    public boolean arrayListBenchmark() {\n        return arrayList.add(NUMBER);\n    }\n\n    @Benchmark\n    public boolean linkedListBenchmark() {\n        return linkedList.add(NUMBER);\n    }\n}\n</code></pre>\n<p>The final output (without any memory issues) is:</p>\n<pre><code>Benchmark                              Mode  Cnt      Score     Error   Units\nListAddBenchmark.arrayListBenchmark   thrpt   30  38587.191 ± 722.036  ops/ms\nListAddBenchmark.linkedListBenchmark  thrpt   30  13955.916 ± 574.261  ops/ms\n</code></pre>\n"}],"owner":{"account_id":4396335,"reputation":319,"user_id":3583252,"accept_rate":73,"display_name":"Toby Cook"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69904709,"answer_count":2,"score":3,"last_activity_date":1636489946,"creation_date":1636484375,"question_id":69903622,"body_markdown":"I&#39;ve been attempting to run benchmarks to compare how many ops/ms for the add method of ArrayLists and LinkedLists in Java. My benchmarks are set up as follows but I can&#39;t pinpoint what is causing the out of memory error. Possibly the initialisation of the lists in the setup method?\r\n\r\n    @State(Scope.Benchmark)\r\n    @BenchmarkMode(Mode.Throughput)\r\n    @Warmup(iterations = 5, time = 5)\r\n    @Measurement(iterations = 10, time = 5)\r\n    @OutputTimeUnit(TimeUnit.MILLISECONDS)\r\n    public class ListAddBenchmark {\r\n\r\n        private int NUMBER = 123;\r\n\r\n        private List&lt;Integer&gt; arrayList, linkedList;\r\n\r\n        @Param({&quot;1000&quot;,&quot;100000&quot;,&quot;1000000&quot;})\r\n        public int iterations;\r\n\r\n        @Setup(Level.Trial)\r\n        public void setup() {\r\n            arrayList = new ArrayList&lt;&gt;();\r\n            linkedList = new LinkedList&lt;&gt;();\r\n        }\r\n\r\n        @Benchmark\r\n        public boolean arrayListBenchmark() {\r\n            return arrayList.add(NUMBER);\r\n        }\r\n\r\n        @Benchmark\r\n        public boolean linkedListBenchmark() {\r\n            return linkedList.add(NUMBER);\r\n        }\r\n    }\r\n\r\nHere is the output I am getting...\r\n\r\n    # JMH version: 1.32\r\n    # VM version: JDK 11.0.11, OpenJDK 64-Bit Server VM, 11.0.11+9-Ubuntu-0ubuntu2\r\n    # VM invoker: /usr/lib/jvm/java-11-openjdk-amd64/bin/java\r\n    # VM options: -Xmx4G -Xms2G\r\n    # Blackhole mode: full + dont-inline hint\r\n    # Warmup: 5 iterations, 5 s each\r\n    # Measurement: 10 iterations, 5 s each\r\n    # Timeout: 10 min per iteration\r\n    # Threads: 1 thread, will synchronize iterations\r\n    # Benchmark mode: Throughput, ops/time\r\n    # Benchmark: dev.example.benchmarks.collections.lists.ListAddBenchmark.arrayListBenchmark\r\n    # Parameters: (iterations = 1000)\r\n    \r\n    # Run progress: 0.00% complete, ETA 00:22:30\r\n    # Fork: 1 of 3\r\n    # Warmup Iteration   1: 22716.118 ops/ms\r\n    # Warmup Iteration   2: 16060.593 ops/ms\r\n    # Warmup Iteration   3: 16104.508 ops/ms\r\n    # Warmup Iteration   4: &lt;failure&gt;\r\n    \r\n    java.lang.OutOfMemoryError: Java heap space\r\n    \tat java.base/java.util.Arrays.copyOf(Arrays.java:3689)\r\n    \tat java.base/java.util.ArrayList.grow(ArrayList.java:238)\r\n    \tat java.base/java.util.ArrayList.grow(ArrayList.java:243)\r\n    \tat java.base/java.util.ArrayList.add(ArrayList.java:486)\r\n    \tat java.base/java.util.ArrayList.add(ArrayList.java:499)\r\n    \tat dev.example.benchmarks.collections.lists.ListAddBenchmark.arrayListBenchmark(ListAddBenchmark.java:60)\r\n    \tat dev.example.benchmarks.collections.lists.jmh_generated.ListAddBenchmark_arrayListBenchmark_jmhTest.arrayListBenchmark_thrpt_jmhStub(ListAddBenchmark_arrayListBenchmark_jmhTest.java:142)\r\n    \tat dev.example.benchmarks.collections.lists.jmh_generated.ListAddBenchmark_arrayListBenchmark_jmhTest.arrayListBenchmark_Throughput(ListAddBenchmark_arrayListBenchmark_jmhTest.java:83)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.openjdk.jmh.runner.BenchmarkHandler$BenchmarkTask.call(BenchmarkHandler.java:470)\r\n    \tat org.openjdk.jmh.runner.BenchmarkHandler$BenchmarkTask.call(BenchmarkHandler.java:453)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\nCould someone help with what I&#39;m doing incorrectly?","title":"OutOfMemoryError when benchmarking ArrayList.add() in JMH","body":"<p>I've been attempting to run benchmarks to compare how many ops/ms for the add method of ArrayLists and LinkedLists in Java. My benchmarks are set up as follows but I can't pinpoint what is causing the out of memory error. Possibly the initialisation of the lists in the setup method?</p>\n<pre><code>@State(Scope.Benchmark)\n@BenchmarkMode(Mode.Throughput)\n@Warmup(iterations = 5, time = 5)\n@Measurement(iterations = 10, time = 5)\n@OutputTimeUnit(TimeUnit.MILLISECONDS)\npublic class ListAddBenchmark {\n\n    private int NUMBER = 123;\n\n    private List&lt;Integer&gt; arrayList, linkedList;\n\n    @Param({&quot;1000&quot;,&quot;100000&quot;,&quot;1000000&quot;})\n    public int iterations;\n\n    @Setup(Level.Trial)\n    public void setup() {\n        arrayList = new ArrayList&lt;&gt;();\n        linkedList = new LinkedList&lt;&gt;();\n    }\n\n    @Benchmark\n    public boolean arrayListBenchmark() {\n        return arrayList.add(NUMBER);\n    }\n\n    @Benchmark\n    public boolean linkedListBenchmark() {\n        return linkedList.add(NUMBER);\n    }\n}\n</code></pre>\n<p>Here is the output I am getting...</p>\n<pre><code># JMH version: 1.32\n# VM version: JDK 11.0.11, OpenJDK 64-Bit Server VM, 11.0.11+9-Ubuntu-0ubuntu2\n# VM invoker: /usr/lib/jvm/java-11-openjdk-amd64/bin/java\n# VM options: -Xmx4G -Xms2G\n# Blackhole mode: full + dont-inline hint\n# Warmup: 5 iterations, 5 s each\n# Measurement: 10 iterations, 5 s each\n# Timeout: 10 min per iteration\n# Threads: 1 thread, will synchronize iterations\n# Benchmark mode: Throughput, ops/time\n# Benchmark: dev.example.benchmarks.collections.lists.ListAddBenchmark.arrayListBenchmark\n# Parameters: (iterations = 1000)\n\n# Run progress: 0.00% complete, ETA 00:22:30\n# Fork: 1 of 3\n# Warmup Iteration   1: 22716.118 ops/ms\n# Warmup Iteration   2: 16060.593 ops/ms\n# Warmup Iteration   3: 16104.508 ops/ms\n# Warmup Iteration   4: &lt;failure&gt;\n\njava.lang.OutOfMemoryError: Java heap space\n    at java.base/java.util.Arrays.copyOf(Arrays.java:3689)\n    at java.base/java.util.ArrayList.grow(ArrayList.java:238)\n    at java.base/java.util.ArrayList.grow(ArrayList.java:243)\n    at java.base/java.util.ArrayList.add(ArrayList.java:486)\n    at java.base/java.util.ArrayList.add(ArrayList.java:499)\n    at dev.example.benchmarks.collections.lists.ListAddBenchmark.arrayListBenchmark(ListAddBenchmark.java:60)\n    at dev.example.benchmarks.collections.lists.jmh_generated.ListAddBenchmark_arrayListBenchmark_jmhTest.arrayListBenchmark_thrpt_jmhStub(ListAddBenchmark_arrayListBenchmark_jmhTest.java:142)\n    at dev.example.benchmarks.collections.lists.jmh_generated.ListAddBenchmark_arrayListBenchmark_jmhTest.arrayListBenchmark_Throughput(ListAddBenchmark_arrayListBenchmark_jmhTest.java:83)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.openjdk.jmh.runner.BenchmarkHandler$BenchmarkTask.call(BenchmarkHandler.java:470)\n    at org.openjdk.jmh.runner.BenchmarkHandler$BenchmarkTask.call(BenchmarkHandler.java:453)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>Could someone help with what I'm doing incorrectly?</p>\n"},{"tags":["java","interface"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1636490418,"post_id":69904667,"comment_id":123570294,"body_markdown":"So each command itself (as part of the `interface`) should have a &quot;name&quot; property.  Then you can just use a loop can compare the &quot;command&quot; with the &quot;name&quot;","body":"So each command itself (as part of the <code>interface</code>) should have a &quot;name&quot; property.  Then you can just use a loop can compare the &quot;command&quot; with the &quot;name&quot;"}],"owner":{"account_id":20258484,"reputation":11,"user_id":17064295,"display_name":"BroDep"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636489662,"creation_date":1636489662,"question_id":69904667,"body_markdown":"I&#39;m coding something like cmd in java, so I made a few commands like &lt;print&gt; (hello world), &lt;change&gt;, &lt;exit&gt; etc. All the commands are classes that implement the interface (I named it as &quot;API&quot;), but to identify which command is written, I use the &quot;if&quot; expression, so to add the new command (class), I have to write this expression every time, for instance:\r\nif (command.equals(&quot;print&quot;)){return new Print();}\r\nWell, that&#39;s the question, how can I write an expression once to make java identify a new command (class), no matter how much I add?\r\nThanks in advance;\r\nThat&#39;s the code:\r\n\r\nThis interface helps the program identify which command is written:\r\n\r\n    public interface UI {\r\n        API get();\r\n    \r\n        Function&lt;String, UI&gt; check = command -&gt; {\r\n            if (command.equals(&quot;print&quot;)){return new Print();}\r\n            if (command.equals(&quot;change&quot;)){return new Change();}\r\n            if (command.equals(&quot;exit&quot;)){return new Exit();}\r\n            \r\n            return new NotFound();\r\n        };\r\n    \r\n        static UI of(String command){\r\n            return check.apply(command);\r\n        }\r\n    }\r\n\r\n\r\nAn example of a class:\r\n\r\n\r\n    public class Print extends Backend implements API, UI{\r\n    \r\n        @Override\r\n        public boolean command() {\r\n            System.out.println(string);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public API get() {\r\n            return new Print();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            boolean run = true;\r\n            while (run) {\r\n                System.out.print(&quot;Java&gt; &quot;);\r\n                //UI\r\n                UI command = UI.of(scanner.next());\r\n    \r\n                API com = command.get();\r\n                run = com.command();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to make an auto-adding command with interface?","body":"<p>I'm coding something like cmd in java, so I made a few commands like  (hello world), ,  etc. All the commands are classes that implement the interface (I named it as &quot;API&quot;), but to identify which command is written, I use the &quot;if&quot; expression, so to add the new command (class), I have to write this expression every time, for instance:\nif (command.equals(&quot;print&quot;)){return new Print();}\nWell, that's the question, how can I write an expression once to make java identify a new command (class), no matter how much I add?\nThanks in advance;\nThat's the code:</p>\n<p>This interface helps the program identify which command is written:</p>\n<pre><code>public interface UI {\n    API get();\n\n    Function&lt;String, UI&gt; check = command -&gt; {\n        if (command.equals(&quot;print&quot;)){return new Print();}\n        if (command.equals(&quot;change&quot;)){return new Change();}\n        if (command.equals(&quot;exit&quot;)){return new Exit();}\n        \n        return new NotFound();\n    };\n\n    static UI of(String command){\n        return check.apply(command);\n    }\n}\n</code></pre>\n<p>An example of a class:</p>\n<pre><code>public class Print extends Backend implements API, UI{\n\n    @Override\n    public boolean command() {\n        System.out.println(string);\n        return true;\n    }\n\n    @Override\n    public API get() {\n        return new Print();\n    }\n}\n\n\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        boolean run = true;\n        while (run) {\n            System.out.print(&quot;Java&gt; &quot;);\n            //UI\n            UI command = UI.of(scanner.next());\n\n            API com = command.get();\n            run = com.command();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","csv","debugging","stdin"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1636481748,"post_id":69902327,"comment_id":123567177,"body_markdown":"Eclipse does not run your code, the Java VM you chose runs your code. It&#39;s very likely that you did something wrong. Show how to reproduce your issue so that one can help you (the code you showed is not enough to reproduce your issue). It is unclear why you used `System.in` (which will probably never be closed) instead of a separate `InputStream` for this purpose.","body":"Eclipse does not run your code, the Java VM you chose runs your code. It&#39;s very likely that you did something wrong. Show how to reproduce your issue so that one can help you (the code you showed is not enough to reproduce your issue). It is unclear why you used <code>System.in</code> (which will probably never be closed) instead of a separate <code>InputStream</code> for this purpose."},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1636485926,"post_id":69902327,"comment_id":123568577,"body_markdown":"This looks like [this bug](https://bugs.eclipse.org/bugs/show_bug.cgi?id=513713). which is not resolved. Best to avoid redirect System.in like this and specifying the file name directly.","body":"This looks like <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=513713\" rel=\"nofollow noreferrer\">this bug</a>. which is not resolved. Best to avoid redirect System.in like this and specifying the file name directly."},{"owner":{"account_id":984327,"reputation":422,"user_id":1003231,"accept_rate":56,"display_name":"Underhill"},"score":0,"creation_date":1636489908,"post_id":69902327,"comment_id":123570123,"body_markdown":"@howlger 1. Eclipse re-wires stdin, Java VM running the code isn&#39;t relevant. 2. When stdin is redirected from a file System.in is supposed to be closed at EOF (apparently Eclipse isn&#39;t doing that, see the bug report).  3. System.in is used when the program is intended to be run using redirection. This is standard, should be clear.","body":"@howlger 1. Eclipse re-wires stdin, Java VM running the code isn&#39;t relevant. 2. When stdin is redirected from a file System.in is supposed to be closed at EOF (apparently Eclipse isn&#39;t doing that, see the bug report).  3. System.in is used when the program is intended to be run using redirection. This is standard, should be clear."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1636530943,"post_id":69902327,"comment_id":123578648,"body_markdown":"@Underhill Indeed, greg-449 knew it even though a reproducible example is missing.","body":"@Underhill Indeed, greg-449 knew it even though a reproducible example is missing."}],"answers":[{"tags":[],"owner":{"account_id":984327,"reputation":422,"user_id":1003231,"accept_rate":56,"display_name":"Underhill"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636489218,"creation_date":1636489218,"answer_id":69904587,"question_id":69902327,"body_markdown":"Hat-tip to greg-449, this is almost certainly an eclipse bug:\r\n\r\nhttps://bugs.eclipse.org/bugs/show_bug.cgi?id=513713","title":"Eclipse: EOF not detected when CSV-parsing standard input","body":"<p>Hat-tip to greg-449, this is almost certainly an eclipse bug:</p>\n<p><a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=513713\" rel=\"nofollow noreferrer\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=513713</a></p>\n"}],"owner":{"account_id":984327,"reputation":422,"user_id":1003231,"accept_rate":56,"display_name":"Underhill"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69904587,"answer_count":1,"score":1,"last_activity_date":1636489218,"creation_date":1636477972,"question_id":69902327,"body_markdown":"Use Eclipse (2021-06, 4.20.0) run-config settings in &quot;Common&quot; tab to attach a csv file to standard input. Attach a CSV parser to standard input.\r\n\r\nPulling CSV records from the parser gets all the file content, but doesn&#39;t detect EOF. This happens with both opencsv-5.5.2, and apache-csv-1.9.0 (and with my company&#39;s legacy csv parser).\r\n\r\nE.g. with opencsv:\r\n\r\n    var isr = new InputStreamReader(System.in);\r\n    var br = new BufferedReader(isr);\r\n    var reader = new CSVReader(isr /* or br */);\r\n    while ( (csv_record = reader.readNext()) != null) {\r\n        // foo\r\n    }\r\n\r\nhangs in FileInputStream.readBytes after reading all the csv lines.  Call stack:\r\n\r\n    Thread [main] (Suspended)\t\r\n        owns: BufferedInputStream  (id=75)\t\r\n        owns: InputStreamReader  (id=22)\t\r\n        FileInputStream.readBytes(byte[], int, int) line: not available [native method]\t\r\n        FileInputStream.read(byte[], int, int) line: 279\t\r\n        BufferedInputStream.read1(byte[], int, int) line: 290\t\r\n        BufferedInputStream.read(byte[], int, int) line: 351\t\r\n        StreamDecoder.readBytes() line: 284\t\r\n        StreamDecoder.implRead(char[], int, int) line: 326\t\r\n        StreamDecoder.read(char[], int, int) line: 178\t\r\n        InputStreamReader.read(char[], int, int) line: 185\t\r\n        BufferedReader.fill() line: 161\t\r\n        BufferedReader.read() line: 182\t\r\n        CSVReader.isClosed() line: 399\t\r\n        CSVReader.getNextLine() line: 343\t\r\n        CSVReader.primeNextRecord() line: 235\t\r\n        CSVReader.flexibleRead(boolean, boolean) line: 598\t\r\n        CSVReader.readNext() line: 204\t\r\n        Main.main(String[]) line: 48\t\r\nAll csv parsers hang in FileInputStream.readBytes, with similar stack traces.\r\n\r\nAll variants run fine outside eclipse, using redirection.\r\n\r\nIs this a known Eclipse bug? I searched but found nothing.\r\n\r\nIs there any known work-around?\r\n","title":"Eclipse: EOF not detected when CSV-parsing standard input","body":"<p>Use Eclipse (2021-06, 4.20.0) run-config settings in &quot;Common&quot; tab to attach a csv file to standard input. Attach a CSV parser to standard input.</p>\n<p>Pulling CSV records from the parser gets all the file content, but doesn't detect EOF. This happens with both opencsv-5.5.2, and apache-csv-1.9.0 (and with my company's legacy csv parser).</p>\n<p>E.g. with opencsv:</p>\n<pre><code>var isr = new InputStreamReader(System.in);\nvar br = new BufferedReader(isr);\nvar reader = new CSVReader(isr /* or br */);\nwhile ( (csv_record = reader.readNext()) != null) {\n    // foo\n}\n</code></pre>\n<p>hangs in FileInputStream.readBytes after reading all the csv lines.  Call stack:</p>\n<pre><code>Thread [main] (Suspended)   \n    owns: BufferedInputStream  (id=75)  \n    owns: InputStreamReader  (id=22)    \n    FileInputStream.readBytes(byte[], int, int) line: not available [native method] \n    FileInputStream.read(byte[], int, int) line: 279    \n    BufferedInputStream.read1(byte[], int, int) line: 290   \n    BufferedInputStream.read(byte[], int, int) line: 351    \n    StreamDecoder.readBytes() line: 284 \n    StreamDecoder.implRead(char[], int, int) line: 326  \n    StreamDecoder.read(char[], int, int) line: 178  \n    InputStreamReader.read(char[], int, int) line: 185  \n    BufferedReader.fill() line: 161 \n    BufferedReader.read() line: 182 \n    CSVReader.isClosed() line: 399  \n    CSVReader.getNextLine() line: 343   \n    CSVReader.primeNextRecord() line: 235   \n    CSVReader.flexibleRead(boolean, boolean) line: 598  \n    CSVReader.readNext() line: 204  \n    Main.main(String[]) line: 48    \n</code></pre>\n<p>All csv parsers hang in FileInputStream.readBytes, with similar stack traces.</p>\n<p>All variants run fine outside eclipse, using redirection.</p>\n<p>Is this a known Eclipse bug? I searched but found nothing.</p>\n<p>Is there any known work-around?</p>\n"},{"tags":["java","arrays","types"],"comments":[{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":2,"creation_date":1636488385,"post_id":69904374,"comment_id":123569540,"body_markdown":"Yes, it&#39;s possible.  it all depends on what you want to do with that string afterwards.  To answer your question, you can look at serialization, converting to XML, or converting to JSON.  However, *WHY* are you trying to convert a class to a string?  What do you hope to accomplish?","body":"Yes, it&#39;s possible.  it all depends on what you want to do with that string afterwards.  To answer your question, you can look at serialization, converting to XML, or converting to JSON.  However, <i>WHY</i> are you trying to convert a class to a string?  What do you hope to accomplish?"}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636488978,"creation_date":1636488530,"answer_id":69904453,"question_id":69904374,"body_markdown":"&gt; I&#39;m trying to convert an array of a class datatype to an array of the datatype String\r\n\r\nWell, the only way to do it, which makes sense is like this \r\n\r\n```java\r\nClass[] classes = {Runnable.class, RuntimeException.class};\r\nString[] strings = new String[classes.length];\r\n\r\nvar curPos=0;\r\nfor(var c : classes) {\r\n    strings[curPos]=classes[curPos].toString();\r\n    curPos++;\r\n}\r\n\r\nfor(var str : strings) {\r\n    System.out.println(str);\r\n}\r\n```\r\n\r\nDoes this solve your problem? \r\nTell me in the comments.\r\nAlso, why exactly do you want a transformation like this?","title":"Java: how to convert a class datatype array to a String array?","body":"<blockquote>\n<p>I'm trying to convert an array of a class datatype to an array of the datatype String</p>\n</blockquote>\n<p>Well, the only way to do it, which makes sense is like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class[] classes = {Runnable.class, RuntimeException.class};\nString[] strings = new String[classes.length];\n\nvar curPos=0;\nfor(var c : classes) {\n    strings[curPos]=classes[curPos].toString();\n    curPos++;\n}\n\nfor(var str : strings) {\n    System.out.println(str);\n}\n</code></pre>\n<p>Does this solve your problem?\nTell me in the comments.\nAlso, why exactly do you want a transformation like this?</p>\n"},{"tags":[],"owner":{"account_id":7421543,"reputation":2876,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636488707,"creation_date":1636488707,"answer_id":69904497,"question_id":69904374,"body_markdown":"Yes, although it entirely depends on what you are expecting the resulting strings to look like. Do you want the class name? The fully qualified name? Something else? You can do something similar to this, depending on what you need:\r\n\r\n    Class[] array = ...;\r\n    String[] stringArray = Arrays.stream(array).map(Class::getName).toArray(String[]::new);","title":"Java: how to convert a class datatype array to a String array?","body":"<p>Yes, although it entirely depends on what you are expecting the resulting strings to look like. Do you want the class name? The fully qualified name? Something else? You can do something similar to this, depending on what you need:</p>\n<pre><code>Class[] array = ...;\nString[] stringArray = Arrays.stream(array).map(Class::getName).toArray(String[]::new);\n</code></pre>\n"}],"owner":{"account_id":21863404,"reputation":13,"user_id":16153930,"display_name":"toxette"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1636488978,"creation_date":1636488137,"question_id":69904374,"body_markdown":"New to programming, I&#39;m trying to convert an array of a class datatype to an array of the datatype String.\r\n\r\nI.E:\r\n```\r\nClass[] array;\r\n\r\nString[] stringArray;\r\n```\r\n\r\nIs this possible? Should I use a parse method?","title":"Java: how to convert a class datatype array to a String array?","body":"<p>New to programming, I'm trying to convert an array of a class datatype to an array of the datatype String.</p>\n<p>I.E:</p>\n<pre><code>Class[] array;\n\nString[] stringArray;\n</code></pre>\n<p>Is this possible? Should I use a parse method?</p>\n"},{"tags":["java","google-cloud-dataflow","apache-beam"],"answers":[{"tags":[],"owner":{"account_id":284307,"reputation":4946,"user_id":582333,"display_name":"robertwb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636488750,"creation_date":1636488750,"answer_id":69904501,"question_id":69899796,"body_markdown":"Though the example of [using side inputs][1] only has a single side input, the  same pattern holds for multiple side inputs. \r\nSpecifically, the [withSideInputs][2] method of [ParDo][3] takes any number of `PCollectionView`s, each of which can be used as its own key in `ProcessContext.sideInput`.\r\n\r\n  [1]: https://beam.apache.org/documentation/programming-guide/#side-inputs\r\n  [2]: https://beam.apache.org/releases/javadoc/2.33.0/org/apache/beam/sdk/transforms/ParDo.SingleOutput.html#withSideInputs-org.apache.beam.sdk.values.PCollectionView...-\r\n  [3]: https://beam.apache.org/releases/javadoc/2.33.0/org/apache/beam/sdk/transforms/ParDo.html","title":"How to pass and refer multiple sideinputs to a DoFn in JAVA","body":"<p>Though the example of <a href=\"https://beam.apache.org/documentation/programming-guide/#side-inputs\" rel=\"nofollow noreferrer\">using side inputs</a> only has a single side input, the  same pattern holds for multiple side inputs.\nSpecifically, the <a href=\"https://beam.apache.org/releases/javadoc/2.33.0/org/apache/beam/sdk/transforms/ParDo.SingleOutput.html#withSideInputs-org.apache.beam.sdk.values.PCollectionView...-\" rel=\"nofollow noreferrer\">withSideInputs</a> method of <a href=\"https://beam.apache.org/releases/javadoc/2.33.0/org/apache/beam/sdk/transforms/ParDo.html\" rel=\"nofollow noreferrer\">ParDo</a> takes any number of <code>PCollectionView</code>s, each of which can be used as its own key in <code>ProcessContext.sideInput</code>.</p>\n"}],"owner":{"account_id":17389362,"reputation":79,"user_id":12600146,"display_name":"Shriyut Jha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636488750,"creation_date":1636467679,"question_id":69899796,"body_markdown":"I&#39;m trying to figure out how I can pass multiple side inputs to my DoFn and refer them separately inside ProcessContext.\r\n\r\nI wasn&#39;t able to find anything for this in the beam documentation and wanted to gain some idea on how I can achieve this in JAVA","title":"How to pass and refer multiple sideinputs to a DoFn in JAVA","body":"<p>I'm trying to figure out how I can pass multiple side inputs to my DoFn and refer them separately inside ProcessContext.</p>\n<p>I wasn't able to find anything for this in the beam documentation and wanted to gain some idea on how I can achieve this in JAVA</p>\n"},{"tags":["java","spring","postgresql","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1636489330,"post_id":69904454,"comment_id":123569896,"body_markdown":"Post the code to github and then a link here, otherwise its hard to debug","body":"Post the code to github and then a link here, otherwise its hard to debug"},{"owner":{"account_id":14679303,"reputation":27,"user_id":13077103,"display_name":"BlueMan"},"score":0,"creation_date":1636492074,"post_id":69904454,"comment_id":123570897,"body_markdown":"Ok but it take my some time because I have never used github before.","body":"Ok but it take my some time because I have never used github before."},{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1636492185,"post_id":69904454,"comment_id":123570932,"body_markdown":"It will be good experience ! :)","body":"It will be good experience ! :)"},{"owner":{"account_id":14679303,"reputation":27,"user_id":13077103,"display_name":"BlueMan"},"score":0,"creation_date":1638719277,"post_id":69904454,"comment_id":124157165,"body_markdown":"@ArthurKlezovich I posted my project on Github : https://github.com/PLGP2020/ManagementSystem/tree/master","body":"@ArthurKlezovich I posted my project on Github : <a href=\"https://github.com/PLGP2020/ManagementSystem/tree/master\" rel=\"nofollow noreferrer\">github.com/PLGP2020/ManagementSystem/tree/master</a>"}],"owner":{"account_id":14679303,"reputation":27,"user_id":13077103,"display_name":"BlueMan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636488531,"creation_date":1636488531,"question_id":69904454,"body_markdown":"I am trying save data about registred users/client to database but I am getting null values. I have been looking what causes this but I have no idea what I am doing wrong. I have posted four of my classes. \r\n\r\nIn IntelljIDEA i have such Hibernate query\r\n\r\n``` \r\nHibernate: \r\n    select\r\n        nextval (&#39;client_sequence&#39;)\r\nHibernate: \r\n    insert \r\n    into\r\n        client\r\n        (email, firstName, lastName, phoneNumber, age, appUserRole, gender, loginName, password, id) \r\n    values\r\n        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\r\n  ```                 \r\n  RegistrationController\r\n\r\n``` \r\n    package com.example.demo.registration;\r\n\r\n    import lombok.AllArgsConstructor;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.*;\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/registration&quot;)\r\n    @AllArgsConstructor\r\n    public class RegistrationController {\r\n\r\n     RegistrationService registrationService;\r\n\r\n\r\n\r\n     /* HTTP GET Request for read registartion.html page from server */\r\n     @GetMapping\r\n     public String showRegistrationPanel() {\r\n         return &quot;registration&quot;;\r\n     }\r\n\r\n     /* HTTP POST Request for insert data to database on server */\r\n     @PostMapping\r\n     public String register(@ModelAttribute(&quot;client&quot;) RegistrationDTO request, Model model) {\r\n             registrationService.register(request);\r\n             model.addAttribute(&quot;client&quot;,request);\r\n           return &quot;redirect:/registration?success&quot;;\r\n     }\r\n\r\n    }\r\n```\r\n\r\nRegistrationService\r\n\r\n``` \r\n    package com.example.demo.registration;\r\n\r\n    import com.example.demo.client.AppUserRole;\r\n    import com.example.demo.client.Client;\r\n    import com.example.demo.client.ClientService;\r\n    import lombok.AllArgsConstructor;\r\n    import org.springframework.stereotype.Service;\r\n\r\n    @Service\r\n    @AllArgsConstructor\r\n    public class RegistrationService {\r\n\r\n    /*   */\r\n    private final ClientService clientService;\r\n    /*  */\r\n    private final EmailValidator emailValidator;\r\n\r\n    /* Method register new user to system  */\r\n    public Client register(RegistrationDTO request) {\r\n        /* Check if Email is valid */\r\n      /*  boolean isValidEmail = emailValidator.test(request.getEmail());\r\n        if(!isValidEmail) {\r\n            throw new IllegalStateException(&quot;email not valid&quot;);\r\n        } */\r\n        /* This method uses clientService to register new client */\r\n        return clientService.signUpClient(\r\n            new Client(\r\n                    request.getFirstName(),\r\n                    request.getLastName(),\r\n                    request.getEmail(),\r\n                    request.getPhoneNumber(),\r\n                    request.getLoginName(),\r\n                    request.getPassword(),\r\n                    AppUserRole.USER\r\n            )\r\n        );\r\n\r\n    }\r\n}\r\n```\r\nClientService\r\n\r\n```\r\npackage com.example.demo.client;\r\n\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\n\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.List;\r\n\r\n@Service(&quot;clientService&quot;)\r\n@AllArgsConstructor\r\n@Data\r\npublic class ClientService implements UserDetailsService {\r\n\r\n\r\n    private final static String USER_NOT_FOUND = &quot;user with email %s not found&quot;;\r\n    private final ClientRepository clientRepository;\r\n\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n\r\n    public List&lt;Client&gt; getClients() {\r\n        return clientRepository.findAll();\r\n    }\r\n\r\n\r\n    public void saveClient(Client client) {\r\n        clientRepository.save(client);\r\n    }\r\n\r\n    public void deleteClient(Client client) {\r\n        clientRepository.delete(client);\r\n    }\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        return clientRepository.findByEmail(username).\r\n                orElseThrow(() -&gt;\r\n                        new UsernameNotFoundException(String.format(USER_NOT_FOUND)));\r\n    }\r\n\r\n    \r\n    public Client signUpClient(Client client) {\r\n      \r\n        //    String encodedPassword = bCryptPasswordEncoder.encode(client.getPassword());\r\n\r\n        //  client.setPassword(encodedPassword);\r\n\r\n       return clientRepository.save(client);\r\n\r\n    }\r\n\r\n }\r\n\r\n}\r\n\r\n ```\r\nClient\r\n\r\n``` \r\npackage com.example.demo.client;\r\n\r\nimport lombok.*;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.Collection;\r\nimport java.util.Collections;\r\n\r\n@Entity\r\n@Table(name=&quot;client&quot;,uniqueConstraints = @UniqueConstraint(columnNames = &quot;email&quot;))\r\n@AttributeOverrides({\r\n        @AttributeOverride(name=&quot;Id&quot;,column=@Column(name=&quot;Id&quot;)),\r\n        @AttributeOverride(name=&quot;firstName&quot;,column=@Column(name=&quot;firstName&quot;)),\r\n        @AttributeOverride(name=&quot;lastName&quot;,column=@Column(name=&quot;lastName&quot;)),\r\n        @AttributeOverride(name=&quot;email&quot;,column=@Column(name=&quot;email&quot;)),\r\n        @AttributeOverride(name=&quot;phoneNumber&quot;,column=@Column(name=&quot;phoneNumber&quot;))\r\n})\r\n@Getter\r\n@Setter\r\n@ToString\r\n@EqualsAndHashCode\r\n@NoArgsConstructor\r\npublic class Client extends Person implements UserDetails {\r\n\r\n\r\n    @Column(name=&quot;age&quot;)\r\n    private int age;\r\n    @Column(name=&quot;gender&quot;)\r\n    private String gender;\r\n    @Column(name=&quot;loginName&quot;)\r\n    private String loginName;\r\n    @Column(name=&quot;password&quot;)\r\n    private String password;\r\n    @Enumerated (EnumType.STRING)\r\n    private AppUserRole appUserRole;\r\n  \r\n\r\n    public Client(String firstName, String lastName, String email,\r\n                  String phoneNumber, String loginName,String password,AppUserRole appUserRole) {\r\n        super(firstName, lastName, email, phoneNumber);\r\n        this.loginName = loginName;\r\n        this.password = password;\r\n        this.appUserRole = appUserRole;\r\n    }\r\n\r\n    public Client(String firstName, String lastName, String email,\r\n                  String phoneNumber, int age, String gender,\r\n                  String loginName,String password,AppUserRole appUserRole) {\r\n        super(firstName, lastName, email, phoneNumber);\r\n        this.age = age;\r\n        this.gender = gender;\r\n        this.loginName = loginName;\r\n        this.password = password;\r\n        this.appUserRole = appUserRole;\r\n    }\r\n\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        SimpleGrantedAuthority authority =\r\n                new SimpleGrantedAuthority(appUserRole.name());\r\n        return Collections.singletonList(authority);\r\n    }\r\n\r\n    @Override\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    @Override\r\n    public String getUsername() {\r\n        return loginName;\r\n    }\r\n\r\n}\r\n\r\n ```\r\n\r\n","title":"I am getting null values from registration panel to my database","body":"<p>I am trying save data about registred users/client to database but I am getting null values. I have been looking what causes this but I have no idea what I am doing wrong. I have posted four of my classes.</p>\n<p>In IntelljIDEA i have such Hibernate query</p>\n<pre><code>Hibernate: \n    select\n        nextval ('client_sequence')\nHibernate: \n    insert \n    into\n        client\n        (email, firstName, lastName, phoneNumber, age, appUserRole, gender, loginName, password, id) \n    values\n        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n</code></pre>\n<p>RegistrationController</p>\n<pre><code>    package com.example.demo.registration;\n\n    import lombok.AllArgsConstructor;\n    import org.springframework.stereotype.Controller;\n    import org.springframework.ui.Model;\n    import org.springframework.web.bind.annotation.*;\n\n    @Controller\n    @RequestMapping(&quot;/registration&quot;)\n    @AllArgsConstructor\n    public class RegistrationController {\n\n     RegistrationService registrationService;\n\n\n\n     /* HTTP GET Request for read registartion.html page from server */\n     @GetMapping\n     public String showRegistrationPanel() {\n         return &quot;registration&quot;;\n     }\n\n     /* HTTP POST Request for insert data to database on server */\n     @PostMapping\n     public String register(@ModelAttribute(&quot;client&quot;) RegistrationDTO request, Model model) {\n             registrationService.register(request);\n             model.addAttribute(&quot;client&quot;,request);\n           return &quot;redirect:/registration?success&quot;;\n     }\n\n    }\n</code></pre>\n<p>RegistrationService</p>\n<pre><code>    package com.example.demo.registration;\n\n    import com.example.demo.client.AppUserRole;\n    import com.example.demo.client.Client;\n    import com.example.demo.client.ClientService;\n    import lombok.AllArgsConstructor;\n    import org.springframework.stereotype.Service;\n\n    @Service\n    @AllArgsConstructor\n    public class RegistrationService {\n\n    /*   */\n    private final ClientService clientService;\n    /*  */\n    private final EmailValidator emailValidator;\n\n    /* Method register new user to system  */\n    public Client register(RegistrationDTO request) {\n        /* Check if Email is valid */\n      /*  boolean isValidEmail = emailValidator.test(request.getEmail());\n        if(!isValidEmail) {\n            throw new IllegalStateException(&quot;email not valid&quot;);\n        } */\n        /* This method uses clientService to register new client */\n        return clientService.signUpClient(\n            new Client(\n                    request.getFirstName(),\n                    request.getLastName(),\n                    request.getEmail(),\n                    request.getPhoneNumber(),\n                    request.getLoginName(),\n                    request.getPassword(),\n                    AppUserRole.USER\n            )\n        );\n\n    }\n}\n</code></pre>\n<p>ClientService</p>\n<pre><code>package com.example.demo.client;\n\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\n\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n\n@Service(&quot;clientService&quot;)\n@AllArgsConstructor\n@Data\npublic class ClientService implements UserDetailsService {\n\n\n    private final static String USER_NOT_FOUND = &quot;user with email %s not found&quot;;\n    private final ClientRepository clientRepository;\n\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n\n\n    public List&lt;Client&gt; getClients() {\n        return clientRepository.findAll();\n    }\n\n\n    public void saveClient(Client client) {\n        clientRepository.save(client);\n    }\n\n    public void deleteClient(Client client) {\n        clientRepository.delete(client);\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        return clientRepository.findByEmail(username).\n                orElseThrow(() -&gt;\n                        new UsernameNotFoundException(String.format(USER_NOT_FOUND)));\n    }\n\n    \n    public Client signUpClient(Client client) {\n      \n        //    String encodedPassword = bCryptPasswordEncoder.encode(client.getPassword());\n\n        //  client.setPassword(encodedPassword);\n\n       return clientRepository.save(client);\n\n    }\n\n }\n\n}\n\n</code></pre>\n<p>Client</p>\n<pre><code>package com.example.demo.client;\n\nimport lombok.*;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\nimport javax.persistence.*;\nimport java.util.Collection;\nimport java.util.Collections;\n\n@Entity\n@Table(name=&quot;client&quot;,uniqueConstraints = @UniqueConstraint(columnNames = &quot;email&quot;))\n@AttributeOverrides({\n        @AttributeOverride(name=&quot;Id&quot;,column=@Column(name=&quot;Id&quot;)),\n        @AttributeOverride(name=&quot;firstName&quot;,column=@Column(name=&quot;firstName&quot;)),\n        @AttributeOverride(name=&quot;lastName&quot;,column=@Column(name=&quot;lastName&quot;)),\n        @AttributeOverride(name=&quot;email&quot;,column=@Column(name=&quot;email&quot;)),\n        @AttributeOverride(name=&quot;phoneNumber&quot;,column=@Column(name=&quot;phoneNumber&quot;))\n})\n@Getter\n@Setter\n@ToString\n@EqualsAndHashCode\n@NoArgsConstructor\npublic class Client extends Person implements UserDetails {\n\n\n    @Column(name=&quot;age&quot;)\n    private int age;\n    @Column(name=&quot;gender&quot;)\n    private String gender;\n    @Column(name=&quot;loginName&quot;)\n    private String loginName;\n    @Column(name=&quot;password&quot;)\n    private String password;\n    @Enumerated (EnumType.STRING)\n    private AppUserRole appUserRole;\n  \n\n    public Client(String firstName, String lastName, String email,\n                  String phoneNumber, String loginName,String password,AppUserRole appUserRole) {\n        super(firstName, lastName, email, phoneNumber);\n        this.loginName = loginName;\n        this.password = password;\n        this.appUserRole = appUserRole;\n    }\n\n    public Client(String firstName, String lastName, String email,\n                  String phoneNumber, int age, String gender,\n                  String loginName,String password,AppUserRole appUserRole) {\n        super(firstName, lastName, email, phoneNumber);\n        this.age = age;\n        this.gender = gender;\n        this.loginName = loginName;\n        this.password = password;\n        this.appUserRole = appUserRole;\n    }\n\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        SimpleGrantedAuthority authority =\n                new SimpleGrantedAuthority(appUserRole.name());\n        return Collections.singletonList(authority);\n    }\n\n    @Override\n    public String getPassword() {\n        return password;\n    }\n\n    @Override\n    public String getUsername() {\n        return loginName;\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","loops","for-loop","nested-loops"],"answers":[{"tags":[],"owner":{"account_id":19982225,"reputation":67,"user_id":14645096,"display_name":"primevibetime"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636488445,"creation_date":1636488445,"answer_id":69904436,"question_id":69903652,"body_markdown":"This can be done fairly simply with a recursive method, ie:\r\n\r\n```java\r\n\r\npublic class MyClass {\r\n\tprivate List&lt;File&gt; directories;\r\n\r\n\tpublic static void recurse() {\r\n\t\r\n\t\tString[] directories = file.list(new FilenameFilter() {\r\n\t\t  @Override\r\n\t\t  public boolean accept(File current, String name) {\r\n\t\t    return new File(current, name).isDirectory();\r\n\t\t  }\r\n\t\t});\r\n\t\t\r\n\t\tfor (String dir : directories) {\r\n\t\t\tFile f = new File(dir) {\r\n\t\t\t\tif (f.exists()) {\r\n\t\t\t\t\tthis.directories.add(f);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSystem.out.println(&quot;Directory &quot; + f.getAbsolutePath() + &quot; does not exist&quot;);\r\n\t\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;Loop beginning&quot;);\r\n\t\trecurse();\r\n\t\tSystem.out.println(&quot;Loop ending&quot;);\r\n\t}\r\n\t\t\r\n\r\n```\r\n\r\n\r\nHope this helped","title":"How to run script recursively for all the subdirectories of a directory in Java","body":"<p>This can be done fairly simply with a recursive method, ie:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class MyClass {\n    private List&lt;File&gt; directories;\n\n    public static void recurse() {\n    \n        String[] directories = file.list(new FilenameFilter() {\n          @Override\n          public boolean accept(File current, String name) {\n            return new File(current, name).isDirectory();\n          }\n        });\n        \n        for (String dir : directories) {\n            File f = new File(dir) {\n                if (f.exists()) {\n                    this.directories.add(f);\n                } else {\n                    System.out.println(&quot;Directory &quot; + f.getAbsolutePath() + &quot; does not exist&quot;);\n                }\n        }\n    }\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Loop beginning&quot;);\n        recurse();\n        System.out.println(&quot;Loop ending&quot;);\n    }\n        \n\n</code></pre>\n<p>Hope this helped</p>\n"}],"owner":{"account_id":20796843,"reputation":11,"user_id":15273692,"display_name":"Kuncham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636488445,"creation_date":1636484552,"question_id":69903652,"body_markdown":"I am writing a Junit test. I have several components inside of a big module. I have managed to modify a exisitng script, which will scan through one component for now (hard coded the path) and checks the testcases and executes the tests.\r\n\r\nRoot Directory:\r\n**Module**\r\n\r\nList of sub directories:\r\n\r\n**Component1\r\nComponent2\r\nComponent3\r\nComponent4\r\nComponent5\r\n.\r\n.\r\n.\r\n.\r\nComponent6**\r\n\r\nI have the following code:\r\n\r\n    @RunWith(Parameterized.class)\r\n    public class ContentTest {\r\n        \r\n        private static final Logger log = LoggerFactory.getLogger(ContentTest.class);\r\n        @Parameter\r\n        public String testCase;    \r\n        \r\n        @Parameters( name = &quot;{index}: {0}&quot; )\r\n        public static String[] data() {\r\n            FileSystem fs = FileSystems.getDefault();\r\n            Path p = fs.getPath(&quot;Component1/&quot;);\r\n    \t    try {\r\n                PathMatcher matcher = FileSystems.getDefault().getPathMatcher(&quot;glob:**/*TEST.tab&quot;);\r\n                Set&lt;String&gt; tests = \r\n                        Files.walk(p,FileVisitOption.FOLLOW_LINKS)\r\n                .filter(x -&gt; matcher.matches(x)|| false)\r\n                .map(x -&gt; x.getFileName().toFile().getName())\r\n                .map(x -&gt; x.substring(0, x.length()-4))\r\n                .collect(Collectors.toSet());\r\n                log.info(&quot;Going to run the following tests &quot; );\r\n                tests.stream().forEach(log::info);\r\n                String [] result = (String[]) tests.toArray(new String[tests.size()]);\r\n                return result;\r\n            } catch (IOException e) {\r\n                log.error(&quot;Could not get testcases.&quot; + e);\r\n            }\r\n            return new String[0];\r\n        }\r\n        \r\n        \r\n    \t@Test\r\n        public void test1() {\r\n            TestCommand tc = new TestCommand();\r\n            tc.setBaseDir(new HdfsResource(&quot;Component1/&quot;));\r\n            List&lt;String&gt; args = new ArrayList&lt;&gt;();\r\n            args.add(testCase);\r\n            args.add(&quot;--settings&quot;);\r\n            tc.run(args.toArray(new String[args.size()]));\r\n    \t}   \r\n  \r\n\r\n     }\r\n\r\n  \r\n    \r\n\r\nBut, in mycase I have tests inside all the Components. \r\n\r\nNow my query is how can I, modify or change the above script in such a way that. It will execute tests from all the Components one after the other.\r\n\r\n\r\nAny ideas and suggestions are helpful!!\r\n","title":"How to run script recursively for all the subdirectories of a directory in Java","body":"<p>I am writing a Junit test. I have several components inside of a big module. I have managed to modify a exisitng script, which will scan through one component for now (hard coded the path) and checks the testcases and executes the tests.</p>\n<p>Root Directory:\n<strong>Module</strong></p>\n<p>List of sub directories:</p>\n<p><strong>Component1\nComponent2\nComponent3\nComponent4\nComponent5\n.\n.\n.\n.\nComponent6</strong></p>\n<p>I have the following code:</p>\n<pre><code>@RunWith(Parameterized.class)\npublic class ContentTest {\n    \n    private static final Logger log = LoggerFactory.getLogger(ContentTest.class);\n    @Parameter\n    public String testCase;    \n    \n    @Parameters( name = &quot;{index}: {0}&quot; )\n    public static String[] data() {\n        FileSystem fs = FileSystems.getDefault();\n        Path p = fs.getPath(&quot;Component1/&quot;);\n        try {\n            PathMatcher matcher = FileSystems.getDefault().getPathMatcher(&quot;glob:**/*TEST.tab&quot;);\n            Set&lt;String&gt; tests = \n                    Files.walk(p,FileVisitOption.FOLLOW_LINKS)\n            .filter(x -&gt; matcher.matches(x)|| false)\n            .map(x -&gt; x.getFileName().toFile().getName())\n            .map(x -&gt; x.substring(0, x.length()-4))\n            .collect(Collectors.toSet());\n            log.info(&quot;Going to run the following tests &quot; );\n            tests.stream().forEach(log::info);\n            String [] result = (String[]) tests.toArray(new String[tests.size()]);\n            return result;\n        } catch (IOException e) {\n            log.error(&quot;Could not get testcases.&quot; + e);\n        }\n        return new String[0];\n    }\n    \n    \n    @Test\n    public void test1() {\n        TestCommand tc = new TestCommand();\n        tc.setBaseDir(new HdfsResource(&quot;Component1/&quot;));\n        List&lt;String&gt; args = new ArrayList&lt;&gt;();\n        args.add(testCase);\n        args.add(&quot;--settings&quot;);\n        tc.run(args.toArray(new String[args.size()]));\n    }   \n\n\n }\n</code></pre>\n<p>But, in mycase I have tests inside all the Components.</p>\n<p>Now my query is how can I, modify or change the above script in such a way that. It will execute tests from all the Components one after the other.</p>\n<p>Any ideas and suggestions are helpful!!</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1636468142,"post_id":69899893,"comment_id":123561268,"body_markdown":"`data` isn&#39;t an array - it&#39;s an object, with a `Members` property that *is* an array. Please show the complete stack trace including the full exception message, which I *suspect* will make that reasonably clear.","body":"<code>data</code> isn&#39;t an array - it&#39;s an object, with a <code>Members</code> property that <i>is</i> an array. Please show the complete stack trace including the full exception message, which I <i>suspect</i> will make that reasonably clear."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1636468198,"post_id":69899893,"comment_id":123561289,"body_markdown":"`&quot;data&quot;: { .. }` is not an json array, other wise you&#39;d see `[...]` there. It&#39;s just a normal json object, so you tryint to get it with `getJSONArray(&quot;data&quot;)` won&#39;t work","body":"<code>&quot;data&quot;: { .. }</code> is not an json array, other wise you&#39;d see <code>[...]</code> there. It&#39;s just a normal json object, so you tryint to get it with <code>getJSONArray(&quot;data&quot;)</code> won&#39;t work"},{"owner":{"account_id":19490921,"reputation":23,"user_id":14259134,"display_name":"developer sw"},"score":0,"creation_date":1636468492,"post_id":69899893,"comment_id":123561442,"body_markdown":"Added the stacktrace. So whats the best way to retrieve the values","body":"Added the stacktrace. So whats the best way to retrieve the values"}],"answers":[{"tags":[],"owner":{"account_id":7339562,"reputation":558,"user_id":5589683,"display_name":"pratap"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636469288,"creation_date":1636469288,"answer_id":69900204,"question_id":69899893,"body_markdown":"you can retreive the values like below\r\n```\r\nJSONObject jsonObj = new JSONObject(response.getBody());\r\n\r\nJSONObject ja_data = jsonObj.getJSONObject(&quot;data&quot;);\r\nJSONArray jaarr = ja_data.getJSONArray(&quot;Members&quot;);\r\nJSONObject obj1 = jaarr.getJSONObject(0);\r\nSystem.out.println(obj1.getString(&quot;name&quot;));\r\n```\r\nIt prints &quot;new york&quot;","title":"IllegalAccessException while parsing JSON using JSONObject","body":"<p>you can retreive the values like below</p>\n<pre><code>JSONObject jsonObj = new JSONObject(response.getBody());\n\nJSONObject ja_data = jsonObj.getJSONObject(&quot;data&quot;);\nJSONArray jaarr = ja_data.getJSONArray(&quot;Members&quot;);\nJSONObject obj1 = jaarr.getJSONObject(0);\nSystem.out.println(obj1.getString(&quot;name&quot;));\n</code></pre>\n<p>It prints &quot;new york&quot;</p>\n"},{"tags":[],"owner":{"account_id":14370116,"reputation":403,"user_id":10380101,"display_name":"Bakar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636471059,"creation_date":1636471059,"answer_id":69900646,"question_id":69899893,"body_markdown":"I think your issue is not related to the parsing of the JSON as I tested it as below :\r\n```java\r\n// Escaped JSON String, same as presented in question\r\nJSONObject jsonObj = new JSONObject(&quot;{\\r\\n    \\&quot;data\\&quot;: {\\r\\n        \\&quot;Members\\&quot;: [\\r\\n            {\\r\\n                \\&quot;id\\&quot;: \\&quot;01\\&quot;,\\r\\n                \\&quot;name\\&quot;: \\&quot;new york\\&quot;\\r\\n                \\r\\n            },\\r\\n            {\\r\\n                \\&quot;id\\&quot;: \\&quot;02\\&quot;,\\r\\n                \\&quot;name\\&quot;: \\&quot;chicago\\&quot;                \\r\\n            }\\r\\n            ,\\r\\n            {\\r\\n                \\&quot;id\\&quot;: \\&quot;03\\&quot;,\\r\\n                \\&quot;name\\&quot;: \\&quot;la\\&quot;                \\r\\n            }\\r\\n        ]\\r\\n    }\\r\\n}&quot;);\r\n\r\n// Parsed &quot;data&quot; as Object \r\nJSONObject data = jsonObj.getJSONObject(&quot;data&quot;);\r\n\r\n// Parsed &quot;Members&quot; as an array\r\nJSONArray arr = data.getJSONArray(&quot;Members&quot;);\r\n\r\n// Selected First Internal Object inside Array of &quot;Members&quot;\r\nJSONObject obje = arr.getJSONObject(0);\r\n\r\n// Printed out the &quot;name&quot; which is &quot;new york&quot;\r\nSystem.out.println(obje.getString(&quot;name&quot;));\r\n\r\n```\r\n\r\n\r\nThe above code works according to the JSON given and parsed correctly. I think please investigate your `response` object&#39;s access modifiers.\r\n\r\nAlternatively, you can use [GSON][1] or [Jackson][2] to parse your JSON.\r\n\r\n\r\n  [1]: http://tutorials.jenkov.com/java-json/gson-jsonparser.html\r\n  [2]: http://tutorials.jenkov.com/java-json/index.html#jackson","title":"IllegalAccessException while parsing JSON using JSONObject","body":"<p>I think your issue is not related to the parsing of the JSON as I tested it as below :</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Escaped JSON String, same as presented in question\nJSONObject jsonObj = new JSONObject(&quot;{\\r\\n    \\&quot;data\\&quot;: {\\r\\n        \\&quot;Members\\&quot;: [\\r\\n            {\\r\\n                \\&quot;id\\&quot;: \\&quot;01\\&quot;,\\r\\n                \\&quot;name\\&quot;: \\&quot;new york\\&quot;\\r\\n                \\r\\n            },\\r\\n            {\\r\\n                \\&quot;id\\&quot;: \\&quot;02\\&quot;,\\r\\n                \\&quot;name\\&quot;: \\&quot;chicago\\&quot;                \\r\\n            }\\r\\n            ,\\r\\n            {\\r\\n                \\&quot;id\\&quot;: \\&quot;03\\&quot;,\\r\\n                \\&quot;name\\&quot;: \\&quot;la\\&quot;                \\r\\n            }\\r\\n        ]\\r\\n    }\\r\\n}&quot;);\n\n// Parsed &quot;data&quot; as Object \nJSONObject data = jsonObj.getJSONObject(&quot;data&quot;);\n\n// Parsed &quot;Members&quot; as an array\nJSONArray arr = data.getJSONArray(&quot;Members&quot;);\n\n// Selected First Internal Object inside Array of &quot;Members&quot;\nJSONObject obje = arr.getJSONObject(0);\n\n// Printed out the &quot;name&quot; which is &quot;new york&quot;\nSystem.out.println(obje.getString(&quot;name&quot;));\n\n</code></pre>\n<p>The above code works according to the JSON given and parsed correctly. I think please investigate your <code>response</code> object's access modifiers.</p>\n<p>Alternatively, you can use <a href=\"http://tutorials.jenkov.com/java-json/gson-jsonparser.html\" rel=\"nofollow noreferrer\">GSON</a> or <a href=\"http://tutorials.jenkov.com/java-json/index.html#jackson\" rel=\"nofollow noreferrer\">Jackson</a> to parse your JSON.</p>\n"}],"owner":{"account_id":19490921,"reputation":23,"user_id":14259134,"display_name":"developer sw"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69900646,"answer_count":2,"score":0,"last_activity_date":1636488085,"creation_date":1636468041,"question_id":69899893,"body_markdown":"Hello I have a json response as part of a request i need to access the value of one of the attribute. For example, my response looks like:\r\n\r\n    {\r\n        &quot;data&quot;: {\r\n            &quot;Members&quot;: [\r\n                {\r\n                    &quot;id&quot;: &quot;01&quot;,\r\n                    &quot;name&quot;: &quot;new york&quot;\r\n                    \r\n                },\r\n                {\r\n                    &quot;id&quot;: &quot;02&quot;,\r\n                    &quot;name&quot;: &quot;chicago&quot;                \r\n                }\r\n    \t\t\t,\r\n                {\r\n                    &quot;id&quot;: &quot;03&quot;,\r\n                    &quot;name&quot;: &quot;la&quot;                \r\n                }\r\n            ]\r\n        }\r\n    }\r\n\r\nI need to extract the values &quot;new york&quot; , &quot;chicago&quot;, &quot;la&quot;. How can i do it; i tried to convert to JSON object but unable to access even &quot;data&quot;.:\r\n\r\n\r\n\t\tJSONObject jsonObj = new JSONObject(response.getBody());\r\n\r\n\t\tJSONArray ja_data = jsonObj.getJSONArray(&quot;data&quot;);\r\n\r\nThe above code is one among various googled answers and this one results in `IllegalAccessException`. The complete exception:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: java.lang.IllegalAccessException: class org.json.JSONObject cannot access a member of class java.lang.String (in module java.base) with modifiers &quot;private&quot;\r\n    \tat org.json.JSONObject.populateInternalMap(JSONObject.java:349)\r\n    \tat org.json.JSONObject.&lt;init&gt;(JSONObject.java:278)\r\n    \tat GetName.getName(GetName.java:64)\r\n    \tat GetName.main(GetName.java:30)\r\n    Caused by: java.lang.IllegalAccessException: class org.json.JSONObject cannot access a member of class java.lang.String (in module java.base) with modifiers &quot;private&quot;\r\n    \tat java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:361)\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:591)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:558)\r\n    \tat org.json.JSONObject.populateInternalMap(JSONObject.java:328)\r\n\r\n Is there a way i can handle this. Thanks","title":"IllegalAccessException while parsing JSON using JSONObject","body":"<p>Hello I have a json response as part of a request i need to access the value of one of the attribute. For example, my response looks like:</p>\n<pre><code>{\n    &quot;data&quot;: {\n        &quot;Members&quot;: [\n            {\n                &quot;id&quot;: &quot;01&quot;,\n                &quot;name&quot;: &quot;new york&quot;\n                \n            },\n            {\n                &quot;id&quot;: &quot;02&quot;,\n                &quot;name&quot;: &quot;chicago&quot;                \n            }\n            ,\n            {\n                &quot;id&quot;: &quot;03&quot;,\n                &quot;name&quot;: &quot;la&quot;                \n            }\n        ]\n    }\n}\n</code></pre>\n<p>I need to extract the values &quot;new york&quot; , &quot;chicago&quot;, &quot;la&quot;. How can i do it; i tried to convert to JSON object but unable to access even &quot;data&quot;.:</p>\n<pre><code>    JSONObject jsonObj = new JSONObject(response.getBody());\n\n    JSONArray ja_data = jsonObj.getJSONArray(&quot;data&quot;);\n</code></pre>\n<p>The above code is one among various googled answers and this one results in <code>IllegalAccessException</code>. The complete exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: java.lang.IllegalAccessException: class org.json.JSONObject cannot access a member of class java.lang.String (in module java.base) with modifiers &quot;private&quot;\n    at org.json.JSONObject.populateInternalMap(JSONObject.java:349)\n    at org.json.JSONObject.&lt;init&gt;(JSONObject.java:278)\n    at GetName.getName(GetName.java:64)\n    at GetName.main(GetName.java:30)\nCaused by: java.lang.IllegalAccessException: class org.json.JSONObject cannot access a member of class java.lang.String (in module java.base) with modifiers &quot;private&quot;\n    at java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:361)\n    at java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:591)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:558)\n    at org.json.JSONObject.populateInternalMap(JSONObject.java:328)\n</code></pre>\n<p>Is there a way i can handle this. Thanks</p>\n"},{"tags":["java","libgdx","kryo"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1636437105,"post_id":69893294,"comment_id":123549684,"body_markdown":"Which version of Kryo are you using? Kryo V5 by default does no reference tracking (https://github.com/EsotericSoftware/kryo/wiki/Migration-to-v5#configuration-changes) and therefore fails when there are reference loops (object A references object B references object C references object A)","body":"Which version of Kryo are you using? Kryo V5 by default does no reference tracking (<a href=\"https://github.com/EsotericSoftware/kryo/wiki/Migration-to-v5#configuration-changes\" rel=\"nofollow noreferrer\">github.com/EsotericSoftware/kryo/wiki/&hellip;</a>) and therefore fails when there are reference loops (object A references object B references object C references object A)"},{"owner":{"account_id":23280424,"reputation":11,"user_id":17363957,"display_name":"bv256"},"score":0,"creation_date":1636446377,"post_id":69893294,"comment_id":123552306,"body_markdown":"I&#39;m using 5.0.3. I will look at the link you have post.","body":"I&#39;m using 5.0.3. I will look at the link you have post."},{"owner":{"account_id":23280424,"reputation":11,"user_id":17363957,"display_name":"bv256"},"score":0,"creation_date":1636447797,"post_id":69893294,"comment_id":123552818,"body_markdown":"@Thomas Kl&#228;ger you mean i should call kryo.setReferences(true). It&#39;s done in code. Look at the save method().","body":"@Thomas Kl&#228;ger you mean i should call kryo.setReferences(true). It&#39;s done in code. Look at the save method()."},{"owner":{"account_id":233979,"reputation":851,"user_id":499837,"accept_rate":60,"display_name":"bornander"},"score":0,"creation_date":1636484666,"post_id":69893294,"comment_id":123568130,"body_markdown":"What does your `GameDataBase` class look like?","body":"What does your <code>GameDataBase</code> class look like?"}],"answers":[{"tags":[],"owner":{"account_id":23280424,"reputation":11,"user_id":17363957,"display_name":"bv256"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636488083,"creation_date":1636487293,"answer_id":69904193,"question_id":69893294,"body_markdown":"I&#39;ve found solution. I could not get full error message. So i&#39;ve set vm arg -XX:MaxJavaStackTraceDepth=200000000 to display full trace.\r\nSome classes were not register in Kryo. I registered the missing classes and the write operation was successful. I had similar problems when reading the written file, but this time the error message was full in a few cases. Missing non args constructor. In those cases where the error message was not full, I&#39;ve run the game in debug mode and caused crash to provoke breakpoint hit in LwjglApplication.initialize() method. There I&#39;ve investigated field KryoException.trace. Also missing non args constructor. I&#39;m not sure why the error message in console was not full, but I&#39;m guessing that too many references to many objects which had references to other objects caused that. \r\n\r\n","title":"Why Kryo gives me that error when serializing object?","body":"<p>I've found solution. I could not get full error message. So i've set vm arg -XX:MaxJavaStackTraceDepth=200000000 to display full trace.\nSome classes were not register in Kryo. I registered the missing classes and the write operation was successful. I had similar problems when reading the written file, but this time the error message was full in a few cases. Missing non args constructor. In those cases where the error message was not full, I've run the game in debug mode and caused crash to provoke breakpoint hit in LwjglApplication.initialize() method. There I've investigated field KryoException.trace. Also missing non args constructor. I'm not sure why the error message in console was not full, but I'm guessing that too many references to many objects which had references to other objects caused that.</p>\n"}],"owner":{"account_id":23280424,"reputation":11,"user_id":17363957,"display_name":"bv256"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":929,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636488083,"creation_date":1636436375,"question_id":69893294,"body_markdown":"I&#39;m trying make save/load game mechanism in my Libgdx game. I&#39;m using Kryo to write objects. Graph of objects is very large and complex. I&#39;ll not post whole code because it&#39;s too much of it. It contains many ArrayLists. Objects having many references to other objects. Many fields are excluded from serialization by transient keyword because they containing Textures, Pixmap etc.\r\nSaveGame class:\r\n\r\n    package save_game;\r\n    \r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileOutputStream;\r\n    import com.esotericsoftware.kryo.Kryo;\r\n    import com.esotericsoftware.kryo.io.Output;\r\n    \r\n    import data.GameDataBase;\r\n    \r\n    public class SaveGame {\r\n    \tprivate GameDataBase gameDB;\r\n    \tprivate Kryo kryo;\r\n    \tprivate KryoUtil kryoUtil;\r\n    \r\n    \tpublic SaveGame(GameDataBase gameDB) {\r\n    \t\tthis.gameDB = gameDB;\r\n    \t\tkryoUtil = new KryoUtil();\r\n    \t\tkryo = kryoUtil.getKryo();\r\n    \t}\r\n    \t\r\n    \tpublic void save() throws FileNotFoundException\t{\r\n    \t\tkryo.setReferences(true);\r\n    \t\tOutput output = new Output(new FileOutputStream(&quot;testfile&quot;));\r\n    \t\tkryo.writeClassAndObject(output, gameDB);\r\n    \t\toutput.close();\r\n    \t}\r\n    }\r\n\r\nWhen running method save i get error message which repeats itself filling whole console:\r\n\r\n&gt; at com.esotericsoftware.kryo.serializers.ReflectField.write(ReflectField.java:71)\r\nat com.esotericsoftware.kryo.serializers.FieldSerializer.write(FieldSerializer.java:108)\r\nat com.esotericsoftware.kryo.Kryo.writeObject(Kryo.java:575)\r\nat com.esotericsoftware.kryo.serializers.ReflectField.write(ReflectField.java:71)\r\nat com.esotericsoftware.kryo.serializers.FieldSerializer.write(FieldSerializer.java:108)\r\nat com.esotericsoftware.kryo.Kryo.writeClassAndObject(Kryo.java:644)\r\nat com.esotericsoftware.kryo.serializers.DefaultArraySerializers$ObjectArraySerializer.write(DefaultArraySerializers.java:362)\r\nat com.esotericsoftware.kryo.serializers.DefaultArraySerializers$ObjectArraySerializer.write(DefaultArraySerializers.java:326)\r\n\r\nNone exception is reported in console. It looks like stackoverflow, but what causing the error i can&#39;t find out. I&#39;ve increased vm stack size -Xss300m and it didn&#39;t fixed the issue. Any ideas what i did wrong?","title":"Why Kryo gives me that error when serializing object?","body":"<p>I'm trying make save/load game mechanism in my Libgdx game. I'm using Kryo to write objects. Graph of objects is very large and complex. I'll not post whole code because it's too much of it. It contains many ArrayLists. Objects having many references to other objects. Many fields are excluded from serialization by transient keyword because they containing Textures, Pixmap etc.\nSaveGame class:</p>\n<pre><code>package save_game;\n\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport com.esotericsoftware.kryo.Kryo;\nimport com.esotericsoftware.kryo.io.Output;\n\nimport data.GameDataBase;\n\npublic class SaveGame {\n    private GameDataBase gameDB;\n    private Kryo kryo;\n    private KryoUtil kryoUtil;\n\n    public SaveGame(GameDataBase gameDB) {\n        this.gameDB = gameDB;\n        kryoUtil = new KryoUtil();\n        kryo = kryoUtil.getKryo();\n    }\n    \n    public void save() throws FileNotFoundException {\n        kryo.setReferences(true);\n        Output output = new Output(new FileOutputStream(&quot;testfile&quot;));\n        kryo.writeClassAndObject(output, gameDB);\n        output.close();\n    }\n}\n</code></pre>\n<p>When running method save i get error message which repeats itself filling whole console:</p>\n<blockquote>\n<p>at com.esotericsoftware.kryo.serializers.ReflectField.write(ReflectField.java:71)\nat com.esotericsoftware.kryo.serializers.FieldSerializer.write(FieldSerializer.java:108)\nat com.esotericsoftware.kryo.Kryo.writeObject(Kryo.java:575)\nat com.esotericsoftware.kryo.serializers.ReflectField.write(ReflectField.java:71)\nat com.esotericsoftware.kryo.serializers.FieldSerializer.write(FieldSerializer.java:108)\nat com.esotericsoftware.kryo.Kryo.writeClassAndObject(Kryo.java:644)\nat com.esotericsoftware.kryo.serializers.DefaultArraySerializers$ObjectArraySerializer.write(DefaultArraySerializers.java:362)\nat com.esotericsoftware.kryo.serializers.DefaultArraySerializers$ObjectArraySerializer.write(DefaultArraySerializers.java:326)</p>\n</blockquote>\n<p>None exception is reported in console. It looks like stackoverflow, but what causing the error i can't find out. I've increased vm stack size -Xss300m and it didn't fixed the issue. Any ideas what i did wrong?</p>\n"},{"tags":["java","web-scraping","jsoup","htmlunit","htmlunit-driver"],"comments":[{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":1,"creation_date":1636475229,"post_id":69883863,"comment_id":123564559,"body_markdown":"jsoup doesn&#39;t support AJAX but HtmlUnit [apparently does](https://htmlunit.sourceforge.io/#JavaScript_Support).","body":"jsoup doesn&#39;t support AJAX but HtmlUnit <a href=\"https://htmlunit.sourceforge.io/#JavaScript_Support\" rel=\"nofollow noreferrer\">apparently does</a>."},{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1636475628,"post_id":69883863,"comment_id":123564760,"body_markdown":"You might find this useful: https://htmlunit.sourceforge.io/faq.html#AJAXDoesNotWork But from what I can see, you&#39;re using the API as intended. Perhaps  your could add a sample of the web page you&#39;re trying to scrape and the version of your HtmlUnit.","body":"You might find this useful: <a href=\"https://htmlunit.sourceforge.io/faq.html#AJAXDoesNotWork\" rel=\"nofollow noreferrer\">htmlunit.sourceforge.io/faq.html#AJAXDoesNotWork</a> But from what I can see, you&#39;re using the API as intended. Perhaps  your could add a sample of the web page you&#39;re trying to scrape and the version of your HtmlUnit."},{"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"score":0,"creation_date":1636524382,"post_id":69883863,"comment_id":123577018,"body_markdown":"Please add the storeUrl to give us a chance to reproduce you case; additionally please open an issue for HtmlUnit at github.","body":"Please add the storeUrl to give us a chance to reproduce you case; additionally please open an issue for HtmlUnit at github."}],"owner":{"account_id":16156669,"reputation":1,"user_id":11663774,"display_name":"Deepak Prasad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636487535,"creation_date":1636376339,"question_id":69883863,"body_markdown":"I am unable to fetch/render the html for the client-side html loading, I tried using HtmlUnit and Jsoup but both of them are not working. I am only getting a blank html.\r\n```\r\ntry (final WebClient webClient = new WebClient()) {\r\n    webClient.getOptions().setThrowExceptionOnScriptError(false);\r\n    webClient.getOptions().setCssEnabled(false);\r\n    webClient.getOptions().setUseInsecureSSL(true);\r\n\r\n    HtmlPage page = webClient.getPage(storeUrl);\r\n    webClient.waitForBackgroundJavaScript(10000);\r\n\r\n    System.out.println(page.asXml());\r\n}\r\n```\r\nI have attached my code above.\r\n\r\n```html\r\n&lt;body&gt;\r\n    &lt;div id=&quot;app&quot;&gt;\r\n    &lt;/div&gt;\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;https://appgallery5.huawei.com//static/2021092315/js/manifest.7678f8af2ad1888b12b7.js&quot;&gt;\r\n    &lt;/script&gt;\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;https://appgallery5.huawei.com//static/2021092315/js/vendor.4515fcb67725b83423f2.js&quot;&gt;\r\n    &lt;/script&gt;\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;https://appgallery5.huawei.com//static/2021092315/js/app.dffbd1139496dce7c98e.js&quot;&gt;\r\n    &lt;/script&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n```\r\nAbove is the output I am getting. What I am doing wrong here?","title":"Unable to fetch html for the websites loading at client side","body":"<p>I am unable to fetch/render the html for the client-side html loading, I tried using HtmlUnit and Jsoup but both of them are not working. I am only getting a blank html.</p>\n<pre><code>try (final WebClient webClient = new WebClient()) {\n    webClient.getOptions().setThrowExceptionOnScriptError(false);\n    webClient.getOptions().setCssEnabled(false);\n    webClient.getOptions().setUseInsecureSSL(true);\n\n    HtmlPage page = webClient.getPage(storeUrl);\n    webClient.waitForBackgroundJavaScript(10000);\n\n    System.out.println(page.asXml());\n}\n</code></pre>\n<p>I have attached my code above.</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;body&gt;\n    &lt;div id=&quot;app&quot;&gt;\n    &lt;/div&gt;\n    &lt;script type=&quot;text/javascript&quot; src=&quot;https://appgallery5.huawei.com//static/2021092315/js/manifest.7678f8af2ad1888b12b7.js&quot;&gt;\n    &lt;/script&gt;\n    &lt;script type=&quot;text/javascript&quot; src=&quot;https://appgallery5.huawei.com//static/2021092315/js/vendor.4515fcb67725b83423f2.js&quot;&gt;\n    &lt;/script&gt;\n    &lt;script type=&quot;text/javascript&quot; src=&quot;https://appgallery5.huawei.com//static/2021092315/js/app.dffbd1139496dce7c98e.js&quot;&gt;\n    &lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<p>Above is the output I am getting. What I am doing wrong here?</p>\n"},{"tags":["java","encryption","cryptography"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1636307933,"post_id":69874228,"comment_id":123516364,"body_markdown":"During decryption, the buffer is filled only once. As with encryption, a while loop should be used so that the entire ciphertext is decrypted. This is already implemented in the code but commented out, why? Also, the Base64 encoding during encryption should be removed, as it is not necessary (and is also implemented incorrectly). Similarly, the Base64 decoding  during decryption is to be removed.","body":"During decryption, the buffer is filled only once. As with encryption, a while loop should be used so that the entire ciphertext is decrypted. This is already implemented in the code but commented out, why? Also, the Base64 encoding during encryption should be removed, as it is not necessary (and is also implemented incorrectly). Similarly, the Base64 decoding  during decryption is to be removed."},{"owner":{"account_id":14231515,"reputation":27,"user_id":10280626,"display_name":"reallybadprogrammer"},"score":0,"creation_date":1636308414,"post_id":69874228,"comment_id":123516456,"body_markdown":"I commented out the loop because it generates the same type of error. Since I&#39;m only trying with small files at the moment, I just took that part out. As for base64: I do want to use Base64 encoding, though. Could you expand on how I&#39;m using it incorrectly and how I would go at it?","body":"I commented out the loop because it generates the same type of error. Since I&#39;m only trying with small files at the moment, I just took that part out. As for base64: I do want to use Base64 encoding, though. Could you expand on how I&#39;m using it incorrectly and how I would go at it?"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":2,"creation_date":1636313819,"post_id":69874228,"comment_id":123517783,"body_markdown":"The buffer size for encryption and decryption must be compatible (because Base64 generates 4 output bytes from every 3 input bytes). This is complicated by the fact that `read()` does not _necessarily_ fill the buffer _completely_, so `readNBytes()` simplifies the implementation. The easiest way is to use `Base64InputStream` or `Base64OutputStream` of [`org.apache.commons.codec.binary`](https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/package-summary.html) that encapsulates these details.","body":"The buffer size for encryption and decryption must be compatible (because Base64 generates 4 output bytes from every 3 input bytes). This is complicated by the fact that <code>read()</code> does not <i>necessarily</i> fill the buffer <i>completely</i>, so <code>readNBytes()</code> simplifies the implementation. The easiest way is to use <code>Base64InputStream</code> or <code>Base64OutputStream</code> of <a href=\"https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/binary/package-summary.html\" rel=\"nofollow noreferrer\"><code>org.apache.commons.codec.binary</code></a> that encapsulates these details."},{"owner":{"account_id":14231515,"reputation":27,"user_id":10280626,"display_name":"reallybadprogrammer"},"score":0,"creation_date":1636487402,"post_id":69874228,"comment_id":123569130,"body_markdown":"That was it! Thank you!","body":"That was it! Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":14231515,"reputation":27,"user_id":10280626,"display_name":"reallybadprogrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636487406,"creation_date":1636487406,"answer_id":69904219,"question_id":69874228,"body_markdown":"Thanks to @Topaco, the solution was found using Base64InputStream.\r\n\r\nBecause the deciphering was being done BEFORE decoding, it was generating that error. It was fixed by doing this encryption side:\r\n\r\n    \r\n            Base64OutputStream encoder = new Base64OutputStream(outputStream);\r\n    \r\n            \r\n            while ( (nBytes = cipherStream.read(buffer, 0, MAX_BUFFER)) != -1 )\r\n                encoder.write(buffer, 0, nBytes);\r\n\r\nAnd decryption side the exact opposite:\r\n\r\n\r\n    Base64InputStream decoder = new Base64InputStream(fileInputStream);\r\n\r\n    \r\n    while ( (nBytes = decoder.read(buffer, 0, MAX_BUFFER)) != -1 )\r\n        cipherOutStream.write(buffer, 0, nBytes);","title":"Java JCA - Input length must be multiple of 8 for padded decypher","body":"<p>Thanks to @Topaco, the solution was found using Base64InputStream.</p>\n<p>Because the deciphering was being done BEFORE decoding, it was generating that error. It was fixed by doing this encryption side:</p>\n<pre><code>        Base64OutputStream encoder = new Base64OutputStream(outputStream);\n\n        \n        while ( (nBytes = cipherStream.read(buffer, 0, MAX_BUFFER)) != -1 )\n            encoder.write(buffer, 0, nBytes);\n</code></pre>\n<p>And decryption side the exact opposite:</p>\n<pre><code>Base64InputStream decoder = new Base64InputStream(fileInputStream);\n\n\nwhile ( (nBytes = decoder.read(buffer, 0, MAX_BUFFER)) != -1 )\n    cipherOutStream.write(buffer, 0, nBytes);\n</code></pre>\n"}],"owner":{"account_id":14231515,"reputation":27,"user_id":10280626,"display_name":"reallybadprogrammer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69904219,"answer_count":1,"score":0,"last_activity_date":1636487406,"creation_date":1636301577,"question_id":69874228,"body_markdown":"I&#39;m currently doing an assignment for a college course using Java&#39;s JCA.\r\nThe application takes in a file and encrypts it (or decrypts it) using DES-ECB. **I am fully aware that it&#39;s not a secure encryption algorithm.**\r\n\r\nIt encrypts fine, I believe, however when decrypting it blows up with a &quot;Input length must be multiple of 8&quot; even though the original message is being padded with PKCS5.\r\n\r\nI have read all literature and quetions regarding this problem here on StackOverflow, but none of the answers seem to resolve this issue, which leads me to believe I am somehow corrupting the message/file...\r\n\r\nFor the encryption:\r\n     \r\n        Cipher cipher = Cipher.getInstance(&quot;DES/ECB/PKCS5Padding&quot;);\r\n        \r\n        cipher.init(Cipher.ENCRYPT_MODE, symmetricKey);\r\n\r\n        \r\n        File file = new File(filePath);\r\n        \r\n        FileOutputStream outputStream = new FileOutputStream(&quot;encrypted_&quot;+file.getName());\r\n\r\n        \r\n        CipherInputStream cipherStream = new CipherInputStream( new FileInputStream(file), cipher);\r\n\r\n\r\n        byte[] buffer = new byte[MAX_BUFFER]; //buffer para leitura\r\n        int bytes; //bytes a ler\r\n\r\n        //Encoder base64 - Apache Commons Codec\r\n        Base64 encoder = new Base64();\r\n\r\n        \r\n        while ( (bytes = cipherStream.read(buffer)) != -1 ) {\r\n            \r\n            byte[] encodedBuffer = encoder.encode(buffer);\r\n            \r\n            outputStream.write(encodedBuffer, 0, bytes);\r\n        }\r\n\r\n        \r\n        cipherStream.close();\r\n        outputStream.flush();\r\n\r\n        return outputStream;\r\n    \r\n\r\nFor the decryption:\r\n\r\n        Cipher cipher = Cipher.getInstance(&quot;DES/ECB/PKCS5Padding&quot;);\r\n        \r\n        cipher.init(Cipher.DECRYPT_MODE, symmetricKey);\r\n\r\n        \r\n        File file = new File(filePath);\r\n        FileInputStream cipheredStream = new FileInputStream(file);\r\n\r\n        \r\n        FileOutputStream outputStream = new FileOutputStream(&quot;decrypted_&quot;+file.getName());\r\n\r\n        \r\n        CipherOutputStream cipherOutStream = new CipherOutputStream(outputStream, cipher);\r\n\r\n        byte[] buffer = new byte[MAX_BUFFER];\r\n        int bytes;\r\n\r\n        //Decoder base 64 - Apache Commons Codec\r\n        Base64 decoder = new Base64();\r\n\r\n        cipheredStream.read(buffer);\r\n        byte[] decodedBuffer = decoder.decode(buffer);\r\n        byte[] output = cipher.doFinal(decodedBuffer);\r\n        cipherOutStream.write(output);\r\n\r\n        //TODO bug here -&gt; use this for big files\r\n        /*while ( (bytes = cipheredStream.read(buffer)) != -1 ) {\r\n            byte[] decodedBuffer = decoder.decode(buffer);\r\n            cipherOutStream.write(decodedBuffer, 0, bytes);\r\n        }*/\r\n\r\n        cipherOutStream.close();\r\n        cipheredStream.close();\r\n\r\n        return outputStream;\r\n\r\nI&#39;ve tried using AES to no avail; I&#39;ve tried no padding, obviously it didn&#39;t work.\r\n\r\nI&#39;m just lost and would appreciate knowing what I&#39;m doing wrong.","title":"Java JCA - Input length must be multiple of 8 for padded decypher","body":"<p>I'm currently doing an assignment for a college course using Java's JCA.\nThe application takes in a file and encrypts it (or decrypts it) using DES-ECB. <strong>I am fully aware that it's not a secure encryption algorithm.</strong></p>\n<p>It encrypts fine, I believe, however when decrypting it blows up with a &quot;Input length must be multiple of 8&quot; even though the original message is being padded with PKCS5.</p>\n<p>I have read all literature and quetions regarding this problem here on StackOverflow, but none of the answers seem to resolve this issue, which leads me to believe I am somehow corrupting the message/file...</p>\n<p>For the encryption:</p>\n<pre><code>    Cipher cipher = Cipher.getInstance(&quot;DES/ECB/PKCS5Padding&quot;);\n    \n    cipher.init(Cipher.ENCRYPT_MODE, symmetricKey);\n\n    \n    File file = new File(filePath);\n    \n    FileOutputStream outputStream = new FileOutputStream(&quot;encrypted_&quot;+file.getName());\n\n    \n    CipherInputStream cipherStream = new CipherInputStream( new FileInputStream(file), cipher);\n\n\n    byte[] buffer = new byte[MAX_BUFFER]; //buffer para leitura\n    int bytes; //bytes a ler\n\n    //Encoder base64 - Apache Commons Codec\n    Base64 encoder = new Base64();\n\n    \n    while ( (bytes = cipherStream.read(buffer)) != -1 ) {\n        \n        byte[] encodedBuffer = encoder.encode(buffer);\n        \n        outputStream.write(encodedBuffer, 0, bytes);\n    }\n\n    \n    cipherStream.close();\n    outputStream.flush();\n\n    return outputStream;\n</code></pre>\n<p>For the decryption:</p>\n<pre><code>    Cipher cipher = Cipher.getInstance(&quot;DES/ECB/PKCS5Padding&quot;);\n    \n    cipher.init(Cipher.DECRYPT_MODE, symmetricKey);\n\n    \n    File file = new File(filePath);\n    FileInputStream cipheredStream = new FileInputStream(file);\n\n    \n    FileOutputStream outputStream = new FileOutputStream(&quot;decrypted_&quot;+file.getName());\n\n    \n    CipherOutputStream cipherOutStream = new CipherOutputStream(outputStream, cipher);\n\n    byte[] buffer = new byte[MAX_BUFFER];\n    int bytes;\n\n    //Decoder base 64 - Apache Commons Codec\n    Base64 decoder = new Base64();\n\n    cipheredStream.read(buffer);\n    byte[] decodedBuffer = decoder.decode(buffer);\n    byte[] output = cipher.doFinal(decodedBuffer);\n    cipherOutStream.write(output);\n\n    //TODO bug here -&gt; use this for big files\n    /*while ( (bytes = cipheredStream.read(buffer)) != -1 ) {\n        byte[] decodedBuffer = decoder.decode(buffer);\n        cipherOutStream.write(decodedBuffer, 0, bytes);\n    }*/\n\n    cipherOutStream.close();\n    cipheredStream.close();\n\n    return outputStream;\n</code></pre>\n<p>I've tried using AES to no avail; I've tried no padding, obviously it didn't work.</p>\n<p>I'm just lost and would appreciate knowing what I'm doing wrong.</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-storage","gcloud","pre-signed-url"],"answers":[{"tags":[],"owner":{"account_id":17278515,"reputation":409,"user_id":12512650,"display_name":"Llu&#237;s Mu&#241;oz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633510703,"creation_date":1633423383,"answer_id":69447349,"question_id":69436175,"body_markdown":"As you can see [here](https://cloud.google.com/storage/docs/authentication/signatures#:~:text=Content%20Length%20Range) `content-length-range` requires both a minimum and maximum size. The unit used for the range is bytes, as you can see in [this](https://cloud.google.com/storage/docs/authentication/signatures#policy-document-example) example. \r\n\r\nI also noticed that you used `x-goog-content-length-range`, I found [this](https://cloud.google.com/storage/docs/xml-api/reference-headers#xgoogcontentlengthrange) documentation for it, when using this header take into account: \r\n1. Use a `PUT` request, otherwise it will be silently ignored. \r\n2. If the size of the request&#39;s content is outside the specified range, the request fails and a 400 Bad Request code is returned in the response. \r\n3. You have to set the minimum and maximum size in bytes. ","title":"Metadata, content-length for GCS objects","body":"<p>As you can see <a href=\"https://cloud.google.com/storage/docs/authentication/signatures#:%7E:text=Content%20Length%20Range\" rel=\"nofollow noreferrer\">here</a> <code>content-length-range</code> requires both a minimum and maximum size. The unit used for the range is bytes, as you can see in <a href=\"https://cloud.google.com/storage/docs/authentication/signatures#policy-document-example\" rel=\"nofollow noreferrer\">this</a> example.</p>\n<p>I also noticed that you used <code>x-goog-content-length-range</code>, I found <a href=\"https://cloud.google.com/storage/docs/xml-api/reference-headers#xgoogcontentlengthrange\" rel=\"nofollow noreferrer\">this</a> documentation for it, when using this header take into account:</p>\n<ol>\n<li>Use a <code>PUT</code> request, otherwise it will be silently ignored.</li>\n<li>If the size of the request's content is outside the specified range, the request fails and a 400 Bad Request code is returned in the response.</li>\n<li>You have to set the minimum and maximum size in bytes.</li>\n</ol>\n"}],"owner":{"account_id":3057928,"reputation":3289,"user_id":2591194,"accept_rate":81,"display_name":"Moritz Schmitz v. H&#252;lst"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":845,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69447349,"answer_count":1,"score":2,"last_activity_date":1636487406,"creation_date":1633351362,"question_id":69436175,"body_markdown":"Two things:\r\n1. I am trying to set custom metadata on a GCS object signed URL.\r\n2. I am trying to set a maximum file size on a GCS object signed URL.\r\n\r\nUsing the following code:\r\n```\r\n    Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n    headers.put(&quot;x-goog-meta-&quot; + usernameKey, username);\r\n\r\n    if (StringUtils.hasText(purpose)) {\r\n      headers.put(&quot;x-goog-meta-&quot; + purposeKey, purpose);\r\n    }\r\n\r\n    if (maxFileSizeMb != null) {\r\n      headers.put(&quot;x-goog-content-length-range&quot;, String.format(&quot;0,%d&quot;, maxFileSizeMb * 1048576));\r\n    }\r\n\r\n    List&lt;Storage.SignUrlOption&gt; options = new ArrayList&lt;&gt;();\r\n    options.add(Storage.SignUrlOption.httpMethod(HttpMethod.POST));\r\n    options.add(Storage.SignUrlOption.withExtHeaders(headers));\r\n\r\n    String documentId = documentIdGenerator.generateDocumentId().getFormatted();\r\n    StorageDocument storageDocument =\r\n        StorageDocument.builder().id(documentId).path(getPathByDocumentId(documentId)).build();\r\n    storageDocument.setFormattedName(documentId);\r\n\r\n    SignedUrlData.SignedUrlDataBuilder builder =\r\n        SignedUrlData.builder()\r\n            .signedUrl(storageInterface.signUrl(gcpStorageBucket, storageDocument, options))\r\n            .documentId(documentId)\r\n            .additionalHeaders(headers);\r\n```\r\n\r\nFirst of all the generated signed URL works and I can upload a document.\r\n\r\nNow I am expecting to see the object metadata through the console view. There is no metadata set though. Also the `content-length-range` is not respected. I can upload a 1.3 MB file when the `content-length-range` is set to `0,1`.\r\n\r\nSomething happens when I upload a bigger file (~ 5 MB), but within the `content-length-range`. I receive an error message: `Metadata part is too large.`.\r\n\r\n","title":"Metadata, content-length for GCS objects","body":"<p>Two things:</p>\n<ol>\n<li>I am trying to set custom metadata on a GCS object signed URL.</li>\n<li>I am trying to set a maximum file size on a GCS object signed URL.</li>\n</ol>\n<p>Using the following code:</p>\n<pre><code>    Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n    headers.put(&quot;x-goog-meta-&quot; + usernameKey, username);\n\n    if (StringUtils.hasText(purpose)) {\n      headers.put(&quot;x-goog-meta-&quot; + purposeKey, purpose);\n    }\n\n    if (maxFileSizeMb != null) {\n      headers.put(&quot;x-goog-content-length-range&quot;, String.format(&quot;0,%d&quot;, maxFileSizeMb * 1048576));\n    }\n\n    List&lt;Storage.SignUrlOption&gt; options = new ArrayList&lt;&gt;();\n    options.add(Storage.SignUrlOption.httpMethod(HttpMethod.POST));\n    options.add(Storage.SignUrlOption.withExtHeaders(headers));\n\n    String documentId = documentIdGenerator.generateDocumentId().getFormatted();\n    StorageDocument storageDocument =\n        StorageDocument.builder().id(documentId).path(getPathByDocumentId(documentId)).build();\n    storageDocument.setFormattedName(documentId);\n\n    SignedUrlData.SignedUrlDataBuilder builder =\n        SignedUrlData.builder()\n            .signedUrl(storageInterface.signUrl(gcpStorageBucket, storageDocument, options))\n            .documentId(documentId)\n            .additionalHeaders(headers);\n</code></pre>\n<p>First of all the generated signed URL works and I can upload a document.</p>\n<p>Now I am expecting to see the object metadata through the console view. There is no metadata set though. Also the <code>content-length-range</code> is not respected. I can upload a 1.3 MB file when the <code>content-length-range</code> is set to <code>0,1</code>.</p>\n<p>Something happens when I upload a bigger file (~ 5 MB), but within the <code>content-length-range</code>. I receive an error message: <code>Metadata part is too large.</code>.</p>\n"},{"tags":["java","spring-boot","date"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1635543525,"post_id":69774904,"comment_id":123335933,"body_markdown":"How does `new Date()` not work? Note that a Date has no timezone info, so what is your question? By the way, Date is practically deprecated in favour of using `LocalDate` and/or other java.time classes.","body":"How does <code>new Date()</code> not work? Note that a Date has no timezone info, so what is your question? By the way, Date is practically deprecated in favour of using <code>LocalDate</code> and/or other java.time classes."},{"owner":{"account_id":18615614,"reputation":93,"user_id":13566993,"display_name":"Kresnik"},"score":0,"creation_date":1635544128,"post_id":69774904,"comment_id":123336086,"body_markdown":"It&#39;s because ```new Date()``` uses the local machine time, but I&#39;d want to create a new Date  with a specific timezone (for example, Brazil (UTC-3).","body":"It&#39;s because <code>new Date()</code> uses the local machine time, but I&#39;d want to create a new Date  with a specific timezone (for example, Brazil (UTC-3)."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1635789564,"post_id":69774904,"comment_id":123381951,"body_markdown":"I recommend you don’t use `Date`. That class is poorly designed and long outdated. Instead use `ZonedDateTime` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I recommend you don’t use <code>Date</code>. That class is poorly designed and long outdated. Instead use <code>ZonedDateTime</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1635789605,"post_id":69774904,"comment_id":123381962,"body_markdown":"No you cannot. A `Date` hasn’t got as in cannot have a time zone (I know that its `toString` method tries to fool you into thinking that it has got one).","body":"No you cannot. A <code>Date</code> hasn’t got as in cannot have a time zone (I know that its <code>toString</code> method tries to fool you into thinking that it has got one)."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1635546411,"creation_date":1635546411,"answer_id":69775363,"question_id":69774904,"body_markdown":"# *java.time* \r\n\r\nThe `java.util` Date-Time API and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html)&lt;sup&gt;*&lt;/sup&gt;.\r\n\r\n**Solution using `java.time`, the modern Date-Time API:** You can use `ZonedDateTime` with the applicable `ZoneId`.\r\n\r\n**Demo:**\r\n\r\n    import java.time.ZoneId;\r\n    import java.time.ZonedDateTime;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Use the applicable ZoneId\r\n    \t\tZoneId zoneId = ZoneId.of(&quot;Asia/Dubai&quot;);\r\n    \t\tZonedDateTime now = ZonedDateTime.now(zoneId);\r\n    \t\tSystem.out.println(now);\r\n    \t}\r\n    }\r\n    \r\n**Output from a sample run:**\r\n\r\n    2021-10-30T02:26:07.471319+04:00[Asia/Dubai]\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][1]\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**. Check [this answer](https://stackoverflow.com/a/67752047/10819573) and [this answer](https://stackoverflow.com/a/67505173/10819573) to learn how to use `java.time` API with JDBC.\r\n\r\n### A note on `java.util.Date`:\r\n\r\nA `java.util.Date` object simply represents an instant on the timeline — a wrapper around the number of milliseconds since the UNIX epoch (January 1, 1970, 00:00:00 GMT). Since it does not hold any timezone information, its **[`toString`](https://docs.oracle.com/javase/8/docs/api/java/sql/Date.html#toString--)** function applies the JVM&#39;s timezone to return a `String` in the format, `EEE MMM dd HH:mm:ss zzz yyyy`, derived from this ***milliseconds*** value. To get the `String` representation of the `java.util.Date` object in a different format and timezone, you need to use `SimpleDateFormat` with the desired format and the applicable timezone e.g.\r\n\r\n```\r\nDate date = new Date();\r\n\r\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;, Locale.ENGLISH);\r\n\r\nsdf.setTimeZone(TimeZone.getTimeZone(&quot;America/New_York&quot;));\r\nString strDateNewYork = sdf.format(date);\r\n\r\nsdf.setTimeZone(TimeZone.getTimeZone(&quot;Etc/UTC&quot;));\r\nString strDateUtc = sdf.format(date);\r\n```\r\n***\r\n&lt;sup&gt;* If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table). Note that Android 8.0 Oreo already provides [support for `java.time`](https://developer.android.com/reference/java/time/package-summary).\r\n&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://ideone.com/rVB1MR","title":"Can I instantiate a new Date already with a timezone in Java?","body":"<h1><em>java.time</em></h1>\n<p>The <code>java.util</code> Date-Time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a><sup>*</sup>.</p>\n<p><strong>Solution using <code>java.time</code>, the modern Date-Time API:</strong> You can use <code>ZonedDateTime</code> with the applicable <code>ZoneId</code>.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.ZoneId;\nimport java.time.ZonedDateTime;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Use the applicable ZoneId\n        ZoneId zoneId = ZoneId.of(&quot;Asia/Dubai&quot;);\n        ZonedDateTime now = ZonedDateTime.now(zoneId);\n        System.out.println(now);\n    }\n}\n</code></pre>\n<p><strong>Output from a sample run:</strong></p>\n<pre><code>2021-10-30T02:26:07.471319+04:00[Asia/Dubai]\n</code></pre>\n<p><a href=\"https://ideone.com/rVB1MR\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>. Check <a href=\"https://stackoverflow.com/a/67752047/10819573\">this answer</a> and <a href=\"https://stackoverflow.com/a/67505173/10819573\">this answer</a> to learn how to use <code>java.time</code> API with JDBC.</p>\n<h3>A note on <code>java.util.Date</code>:</h3>\n<p>A <code>java.util.Date</code> object simply represents an instant on the timeline — a wrapper around the number of milliseconds since the UNIX epoch (January 1, 1970, 00:00:00 GMT). Since it does not hold any timezone information, its <strong><a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/Date.html#toString--\" rel=\"nofollow noreferrer\"><code>toString</code></a></strong> function applies the JVM's timezone to return a <code>String</code> in the format, <code>EEE MMM dd HH:mm:ss zzz yyyy</code>, derived from this <em><strong>milliseconds</strong></em> value. To get the <code>String</code> representation of the <code>java.util.Date</code> object in a different format and timezone, you need to use <code>SimpleDateFormat</code> with the desired format and the applicable timezone e.g.</p>\n<pre><code>Date date = new Date();\n\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSSXXX&quot;, Locale.ENGLISH);\n\nsdf.setTimeZone(TimeZone.getTimeZone(&quot;America/New_York&quot;));\nString strDateNewYork = sdf.format(date);\n\nsdf.setTimeZone(TimeZone.getTimeZone(&quot;Etc/UTC&quot;));\nString strDateUtc = sdf.format(date);\n</code></pre>\n<hr />\n<p><sup>* If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a>. Note that Android 8.0 Oreo already provides <a href=\"https://developer.android.com/reference/java/time/package-summary\" rel=\"nofollow noreferrer\">support for <code>java.time</code></a>.\n</sup></p>\n"},{"tags":[],"owner":{"account_id":21002251,"reputation":94,"user_id":15432808,"display_name":"Sourabh Kundu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635564975,"creation_date":1635564975,"answer_id":69776582,"question_id":69774904,"body_markdown":"Use DateFormat. For example,\r\n```\r\nSimpleDateFormat isoFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;);\r\nisoFormat.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\nDate date = isoFormat.parse(&quot;2010-05-23T09:01:02&quot;);\r\n```","title":"Can I instantiate a new Date already with a timezone in Java?","body":"<p>Use DateFormat. For example,</p>\n<pre><code>SimpleDateFormat isoFormat = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss&quot;);\nisoFormat.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\nDate date = isoFormat.parse(&quot;2010-05-23T09:01:02&quot;);\n</code></pre>\n"}],"owner":{"account_id":18615614,"reputation":93,"user_id":13566993,"display_name":"Kresnik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69775363,"answer_count":2,"score":0,"last_activity_date":1636487221,"creation_date":1635542644,"question_id":69774904,"body_markdown":"I need to generate a `new Date();` already with the correct time zone, because I need to record the date and time that a new data is received on my server. (I know that you can use the `SimpleDateFormat`, but it requires to parse a already created string).\r\nI&#39;m using **Java** + **Spring Boot**.\r\n","title":"Can I instantiate a new Date already with a timezone in Java?","body":"<p>I need to generate a <code>new Date();</code> already with the correct time zone, because I need to record the date and time that a new data is received on my server. (I know that you can use the <code>SimpleDateFormat</code>, but it requires to parse a already created string).\nI'm using <strong>Java</strong> + <strong>Spring Boot</strong>.</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":7473550,"reputation":1323,"user_id":5680651,"accept_rate":100,"display_name":"Rish"},"score":0,"creation_date":1452070296,"post_id":34628015,"comment_id":57003205,"body_markdown":"One Possible Reason is that you are committing your transaction before saving the object. Which is Totally Wrong. Write the line **`txn.commit();`** after **`session.save(user);`**","body":"One Possible Reason is that you are committing your transaction before saving the object. Which is Totally Wrong. Write the line <b><code>txn.commit();</code></b> after <b><code>session.save(user);</code></b>"}],"answers":[{"tags":[],"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452066786,"creation_date":1452066786,"answer_id":34628109,"question_id":34628015,"body_markdown":"You are closing the factory object, so attempting to open a session with it has chances to cause such a crash (on next call).\r\n\r\n\r\nRemove this line :\r\n\r\n    factory.close();","title":"org.hibernate.cache.impl.bridge.RegionFactoryCacheProviderBridge.nextTimestamp","body":"<p>You are closing the factory object, so attempting to open a session with it has chances to cause such a crash (on next call).</p>\n\n<p>Remove this line :</p>\n\n<pre><code>factory.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7230662,"reputation":8299,"user_id":5517633,"display_name":"Abdelhak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452066975,"creation_date":1452066975,"answer_id":34628160,"question_id":34628015,"body_markdown":"Try to convert this order:\r\n       \r\n     txn.commit();\r\n     session.save(user);\r\nLike this:\r\n      \r\n       session.save(user);\r\n       txn.commit();\r\n    ","title":"org.hibernate.cache.impl.bridge.RegionFactoryCacheProviderBridge.nextTimestamp","body":"<p>Try to convert this order:</p>\n\n<pre><code> txn.commit();\n session.save(user);\n</code></pre>\n\n<p>Like this:</p>\n\n<pre><code>   session.save(user);\n   txn.commit();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11868016,"reputation":1,"user_id":8685005,"display_name":"Carlos Bustamante"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636487000,"creation_date":1636487000,"answer_id":69904135,"question_id":34628015,"body_markdown":"this error ocurrs when you try to **create** an EntityManager with a ***closed*** EntityManagerFactory.\r\n\r\nSo, the recomandation is,\r\n\r\n - **EntityManagers** must be ephimerals *create and close only in the scope of the transaction.\r\n - **EntityManagerFactory** must be application scoped.\r\n\r\n    NullPointerException\r\n    org.hibernate.cache.impl.bridge.RegionFactoryCacheProviderBridge.nextTimestamp(**RegionFactoryCacheProviderBridge.java:93**)\r\n\r\n    \r\n\r\n\r\n\r\n\r\n","title":"org.hibernate.cache.impl.bridge.RegionFactoryCacheProviderBridge.nextTimestamp","body":"<p>this error ocurrs when you try to <strong>create</strong> an EntityManager with a <em><strong>closed</strong></em> EntityManagerFactory.</p>\n<p>So, the recomandation is,</p>\n<ul>\n<li><p><strong>EntityManagers</strong> must be ephimerals *create and close only in the scope of the transaction.</p>\n</li>\n<li><p><strong>EntityManagerFactory</strong> must be application scoped.</p>\n<p>NullPointerException\norg.hibernate.cache.impl.bridge.RegionFactoryCacheProviderBridge.nextTimestamp(<strong>RegionFactoryCacheProviderBridge.java:93</strong>)</p>\n</li>\n</ul>\n"}],"owner":{"account_id":7580106,"reputation":21,"user_id":5751037,"display_name":"Joy Vergis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":818,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1636487000,"creation_date":1452066392,"question_id":34628015,"body_markdown":"Please Help:\r\nBelow error when I tried to add details to tables using hibernate:\r\n\r\n    NullPointerException\r\n\torg.hibernate.cache.impl.bridge.RegionFactoryCacheProviderBridge.nextTimestamp(RegionFactoryCacheProviderBridge.java:93)\r\n\tSessionFactoryImpl.openSession(SessionFactoryImpl.java:639)\r\n\tSessionFactoryImpl.openSession(SessionFactoryImpl.java:648)\r\n\tcom.package1.service.AuthenticateUser.addUser(AuthenticateUser.java:32)\r\n\tcom.package1.controllers.LoginServlet.doPost(LoginServlet.java:68)\r\n\r\n**AuthenticateUser:** \r\n    \r\n    public class AuthenticateUser {\r\n\r\n\t\r\n\tpublic void addUser(String uname, String uemail, String usrnme,\r\n\t\t\tString upass) {\r\n\t\tSession session = factory.openSession();    //Line No:32\r\n\t\tTransaction txn = session.beginTransaction();\r\n\t\tuser.setName(uname);\r\n\t\tuser.setEmail(uemail);\r\n\t\tuser.setUsrname(usrnme);\r\n\t\tuser.setPassword(upass);\r\n\t\ttxn.commit();\r\n\t\tsession.save(user);\r\n\t\tsession.close();\r\n\t\tfactory.close();\r\n\t}\r\n\r\n\tprivate static SessionFactory factory = HibernateSessionManager\r\n\t\t\t.getSessionFactory();\r\n\tprivate User user = new User();\r\n}\r\n\r\nIn LoginServlet I call \r\nauthenticateUser.addUser(&quot;abcdef&quot;, &quot;abcdef&quot;,&quot;abcdef&quot;, &quot;abcdef&quot;);\r\n\r\n","title":"org.hibernate.cache.impl.bridge.RegionFactoryCacheProviderBridge.nextTimestamp","body":"<p>Please Help:\nBelow error when I tried to add details to tables using hibernate:</p>\n\n<pre><code>NullPointerException\norg.hibernate.cache.impl.bridge.RegionFactoryCacheProviderBridge.nextTimestamp(RegionFactoryCacheProviderBridge.java:93)\nSessionFactoryImpl.openSession(SessionFactoryImpl.java:639)\nSessionFactoryImpl.openSession(SessionFactoryImpl.java:648)\ncom.package1.service.AuthenticateUser.addUser(AuthenticateUser.java:32)\ncom.package1.controllers.LoginServlet.doPost(LoginServlet.java:68)\n</code></pre>\n\n<p><strong>AuthenticateUser:</strong> </p>\n\n<pre><code>public class AuthenticateUser {\n\n\npublic void addUser(String uname, String uemail, String usrnme,\n        String upass) {\n    Session session = factory.openSession();    //Line No:32\n    Transaction txn = session.beginTransaction();\n    user.setName(uname);\n    user.setEmail(uemail);\n    user.setUsrname(usrnme);\n    user.setPassword(upass);\n    txn.commit();\n    session.save(user);\n    session.close();\n    factory.close();\n}\n\nprivate static SessionFactory factory = HibernateSessionManager\n        .getSessionFactory();\nprivate User user = new User();\n</code></pre>\n\n<p>}</p>\n\n<p>In LoginServlet I call \nauthenticateUser.addUser(\"abcdef\", \"abcdef\",\"abcdef\", \"abcdef\");</p>\n"},{"tags":["java","stream"],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636486187,"creation_date":1636486187,"answer_id":69903979,"question_id":69903963,"body_markdown":"`peek` is not a terminal operation, so it doesn&#39;t cause the stream to be evaluated.\r\n\r\nUse `forEach` instead of `peek`.\r\n\r\nOr, better, collect directly into a list.\r\n\r\n```\r\nreturn map.entrySet().stream()\r\n    .filter(e -&gt; e.getKey().length() ==3)\r\n    .sorted(Map.Entry.&lt;String,Integer&gt;comparingByKey().reversed())\r\n    .limit((size*5)/100)\r\n    .map(Map.Entry::getKey)\r\n    .collect(Collectors.toList());\r\n```\r\n\r\nActually, since you&#39;re dealing only with keys:\r\n\r\n```\r\nreturn map.keySet().stream()\r\n    .filter(e -&gt; e.length() ==3)\r\n    .sorted(Comparator.reverseOrder())\r\n    .limit((size*5)/100)\r\n    .collect(Collectors.toList());\r\n```","title":"Why is map stream sorted after filtering not working?","body":"<p><code>peek</code> is not a terminal operation, so it doesn't cause the stream to be evaluated.</p>\n<p>Use <code>forEach</code> instead of <code>peek</code>.</p>\n<p>Or, better, collect directly into a list.</p>\n<pre><code>return map.entrySet().stream()\n    .filter(e -&gt; e.getKey().length() ==3)\n    .sorted(Map.Entry.&lt;String,Integer&gt;comparingByKey().reversed())\n    .limit((size*5)/100)\n    .map(Map.Entry::getKey)\n    .collect(Collectors.toList());\n</code></pre>\n<p>Actually, since you're dealing only with keys:</p>\n<pre><code>return map.keySet().stream()\n    .filter(e -&gt; e.length() ==3)\n    .sorted(Comparator.reverseOrder())\n    .limit((size*5)/100)\n    .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23198485,"reputation":51,"user_id":17293733,"display_name":"brighthammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636486379,"creation_date":1636486379,"answer_id":69904017,"question_id":69903963,"body_markdown":"peek is more useful for debugging. See here: \r\n\r\n&gt; it&#39;s an intermediate operation and we didn&#39;t apply a terminal operation\r\n\r\nfrom https://www.baeldung.com/java-streams-peek-api\r\n\r\nI would do \r\n\r\n    public List&lt;String&gt; getValuableSubStr(){\r\n        List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n        long size = map.entrySet().stream().filter(e -&gt; e.getKey().length() ==3).count();\r\n        return map.entrySet().stream()\r\n                      .filter(e -&gt; e.getKey().length() ==3)\r\n                      .sorted(Map.Entry.&lt;String,Integer&gt;comparingByKey().reversed())\r\n                      .limit((size*5)/100)\r\n                      .map(a -&gt; a.getKey())\r\n                      .collect(Collectors.toList());\r\n    \r\n    }","title":"Why is map stream sorted after filtering not working?","body":"<p>peek is more useful for debugging. See here:</p>\n<blockquote>\n<p>it's an intermediate operation and we didn't apply a terminal operation</p>\n</blockquote>\n<p>from <a href=\"https://www.baeldung.com/java-streams-peek-api\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-streams-peek-api</a></p>\n<p>I would do</p>\n<pre><code>public List&lt;String&gt; getValuableSubStr(){\n    List&lt;String&gt; result = new ArrayList&lt;&gt;();\n    long size = map.entrySet().stream().filter(e -&gt; e.getKey().length() ==3).count();\n    return map.entrySet().stream()\n                  .filter(e -&gt; e.getKey().length() ==3)\n                  .sorted(Map.Entry.&lt;String,Integer&gt;comparingByKey().reversed())\n                  .limit((size*5)/100)\n                  .map(a -&gt; a.getKey())\n                  .collect(Collectors.toList());\n\n}\n</code></pre>\n"}],"owner":{"account_id":15696142,"reputation":499,"user_id":13916802,"display_name":"Alpharius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69903979,"answer_count":2,"score":0,"last_activity_date":1636486379,"creation_date":1636486062,"question_id":69903963,"body_markdown":"I have ```Map&lt;String,Integer&gt; map```. I want to filter and sort the map by key and then get 5 percent of their number , I have such a function:\r\n\r\n```\r\npublic List&lt;String&gt; getValuableSubStr(){\r\n        List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n        long size = map.entrySet().stream().filter(e -&gt; e.getKey().length() ==3).count();\r\n        map.entrySet().stream()\r\n                      .filter(e -&gt; e.getKey().length() ==3)\r\n                      .sorted(Map.Entry.&lt;String,Integer&gt;comparingByKey().reversed())\r\n                      .limit((size*5)/100)\r\n                      .peek(e -&gt; result.add(e.getKey()));\r\n        return result;\r\n\r\n    }\r\n```\r\n\r\nBut after calling the function , I get an empty list , although the map is not empty and ```forEach``` are printed normally .What did I do wrong?","title":"Why is map stream sorted after filtering not working?","body":"<p>I have <code>Map&lt;String,Integer&gt; map</code>. I want to filter and sort the map by key and then get 5 percent of their number , I have such a function:</p>\n<pre><code>public List&lt;String&gt; getValuableSubStr(){\n        List&lt;String&gt; result = new ArrayList&lt;&gt;();\n        long size = map.entrySet().stream().filter(e -&gt; e.getKey().length() ==3).count();\n        map.entrySet().stream()\n                      .filter(e -&gt; e.getKey().length() ==3)\n                      .sorted(Map.Entry.&lt;String,Integer&gt;comparingByKey().reversed())\n                      .limit((size*5)/100)\n                      .peek(e -&gt; result.add(e.getKey()));\n        return result;\n\n    }\n</code></pre>\n<p>But after calling the function , I get an empty list , although the map is not empty and <code>forEach</code> are printed normally .What did I do wrong?</p>\n"},{"tags":["python","java","c++","cmake"],"comments":[{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":1,"creation_date":1636484924,"post_id":69903528,"comment_id":123568218,"body_markdown":"According to the documentation for [the `FindJNI` module](https://cmake.org/cmake/help/latest/module/FindJNI.html) you should be able to specify the java installation by setting the `JAVA_HOME` cmake variable, i.e. passing `-D JAVA_HOME:PATH=/path/to/jdk` should do the trick... The `FindPythonLibs` module is deprecated and should be replaced by e.g. `FindPython3`, which does provide functionality similar to jni via the `Python3_ROOT_DIR` variable","body":"According to the documentation for <a href=\"https://cmake.org/cmake/help/latest/module/FindJNI.html\" rel=\"nofollow noreferrer\">the <code>FindJNI</code> module</a> you should be able to specify the java installation by setting the <code>JAVA_HOME</code> cmake variable, i.e. passing <code>-D JAVA_HOME:PATH=&#47;path&#47;to&#47;jdk</code> should do the trick... The <code>FindPythonLibs</code> module is deprecated and should be replaced by e.g. <code>FindPython3</code>, which does provide functionality similar to jni via the <code>Python3_ROOT_DIR</code> variable"},{"owner":{"account_id":4200525,"reputation":61370,"user_id":3440745,"display_name":"Tsyvarev"},"score":0,"creation_date":1636486257,"post_id":69903528,"comment_id":123568710,"body_markdown":"Java and Python doesn&#39;t look as interdependent things, so do not ask about both them in the single question post. &quot;However, when I set it in CMakeList, it wont work.&quot; - How **exactly** have you set variable `JAVA_HOME`? Please, add to the question post your attempt (as a code) of setting that variable.","body":"Java and Python doesn&#39;t look as interdependent things, so do not ask about both them in the single question post. &quot;However, when I set it in CMakeList, it wont work.&quot; - How <b>exactly</b> have you set variable <code>JAVA_HOME</code>? Please, add to the question post your attempt (as a code) of setting that variable."}],"owner":{"account_id":1147862,"reputation":9388,"user_id":1130231,"accept_rate":75,"display_name":"Martin Perry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636486340,"creation_date":1636483754,"question_id":69903528,"body_markdown":"I have a small project that combines JNI and Python via pybind. I have it all working in Visual Studio project, however, I am not sure how to write CMakeList file:\r\n\r\nI have tried to use `find_package(JNI)`, but it ends with  `Could NOT find JNI (missing: JAVA_AWT_LIBRARY JAVA_JVM_LIBRARY JAVA_INCLUDE_PATH JAVA_INCLUDE_PATH2 JAVA_AWT_INCLUDE_PATH)`\r\n\r\nI have not set JAVA_HOME on OS level, since I want to set it manually in CMakeList because of different Java versions. However, when I set it in CMakeList, `set(JAVA_HOME &quot;C:\\\\Program Files\\\\Java\\\\jdk-15.0.1\\\\&quot;)`, it wont work.\r\n\r\n\r\nSimilar problem is with Python, `find_package(PythonLibs REQUIRED)` is not working and no Python libs are found.\r\n\r\nUsually, for libs I use `pkg_check_modules`, but it seems not to be working and I am not able to fing any usable example how to use it with Java or Python.","title":"CMakeList - how to use Python and Java with JNI / JVM","body":"<p>I have a small project that combines JNI and Python via pybind. I have it all working in Visual Studio project, however, I am not sure how to write CMakeList file:</p>\n<p>I have tried to use <code>find_package(JNI)</code>, but it ends with  <code>Could NOT find JNI (missing: JAVA_AWT_LIBRARY JAVA_JVM_LIBRARY JAVA_INCLUDE_PATH JAVA_INCLUDE_PATH2 JAVA_AWT_INCLUDE_PATH)</code></p>\n<p>I have not set JAVA_HOME on OS level, since I want to set it manually in CMakeList because of different Java versions. However, when I set it in CMakeList, <code>set(JAVA_HOME &quot;C:\\\\Program Files\\\\Java\\\\jdk-15.0.1\\\\&quot;)</code>, it wont work.</p>\n<p>Similar problem is with Python, <code>find_package(PythonLibs REQUIRED)</code> is not working and no Python libs are found.</p>\n<p>Usually, for libs I use <code>pkg_check_modules</code>, but it seems not to be working and I am not able to fing any usable example how to use it with Java or Python.</p>\n"},{"tags":["java","webview","javafx","javafx-8","javafx-webengine"],"comments":[{"owner":{"account_id":3610600,"reputation":1076,"user_id":3011638,"accept_rate":83,"display_name":"Sanshayan"},"score":0,"creation_date":1431080155,"post_id":30121204,"comment_id":48352302,"body_markdown":"Do you want to take snapshot without showing application or scene??","body":"Do you want to take snapshot without showing application or scene??"},{"owner":{"account_id":3245347,"reputation":3398,"user_id":3887073,"accept_rate":75,"display_name":"Ben"},"score":0,"creation_date":1431080246,"post_id":30121204,"comment_id":48352359,"body_markdown":"My Application is showing (and has, as result of it, a Scene). But this WebView does not need to be part of it.","body":"My Application is showing (and has, as result of it, a Scene). But this WebView does not need to be part of it."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":2,"creation_date":1431104838,"post_id":30121204,"comment_id":48368420,"body_markdown":"This is some requested feature that is unresolved, as for this [issue](https://javafx-jira.kenai.com/browse/RT-23265) on Jira. I&#39;ve tested 8u60b13 (new webkit implementation), with no sucess. I think you have a nice workaround there.","body":"This is some requested feature that is unresolved, as for this <a href=\"https://javafx-jira.kenai.com/browse/RT-23265\" rel=\"nofollow noreferrer\">issue</a> on Jira. I&#39;ve tested 8u60b13 (new webkit implementation), with no sucess. I think you have a nice workaround there."}],"answers":[{"tags":[],"owner":{"account_id":7122142,"reputation":554,"user_id":5446381,"display_name":"Florian Kirmaier"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1540413283,"creation_date":1540413283,"answer_id":52977547,"question_id":30121204,"body_markdown":"The class WebView contains the following function:\r\n\r\n\r\n    private boolean isTreeReallyVisible() {\r\n        if (getScene() == null) {\r\n            return false;\r\n        }\r\n\r\n        final Window window = getScene().getWindow();\r\n\r\n        if (window == null) {\r\n            return false;\r\n        }\r\n\r\n        boolean iconified = (window instanceof Stage) ? ((Stage)window).isIconified() : false;\r\n\r\n        return impl_isTreeVisible()\r\n               &amp;&amp; window.isShowing()\r\n               &amp;&amp; window.getWidth() &gt; 0\r\n               &amp;&amp; window.getHeight() &gt; 0\r\n               &amp;&amp; !iconified;\r\n    }\r\n\r\nAs long as the function returns false, the rendering is blocked. So it might be quite tricky to get it to render. Normally, for snapshot you don&#39;t have to put the Node in the scene at all.","title":"JavaFX - How to create SnapShot/Screenshot of (invisble) WebView","body":"<p>The class WebView contains the following function:</p>\n\n<pre><code>private boolean isTreeReallyVisible() {\n    if (getScene() == null) {\n        return false;\n    }\n\n    final Window window = getScene().getWindow();\n\n    if (window == null) {\n        return false;\n    }\n\n    boolean iconified = (window instanceof Stage) ? ((Stage)window).isIconified() : false;\n\n    return impl_isTreeVisible()\n           &amp;&amp; window.isShowing()\n           &amp;&amp; window.getWidth() &gt; 0\n           &amp;&amp; window.getHeight() &gt; 0\n           &amp;&amp; !iconified;\n}\n</code></pre>\n\n<p>As long as the function returns false, the rendering is blocked. So it might be quite tricky to get it to render. Normally, for snapshot you don't have to put the Node in the scene at all.</p>\n"},{"tags":[],"owner":{"account_id":1641902,"reputation":999,"user_id":1514174,"accept_rate":60,"display_name":"Niek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569142319,"creation_date":1569142319,"answer_id":58047583,"question_id":30121204,"body_markdown":"After a lot of searching and scraping several pieces together I found an example a SO-poster posted in an oracle forum that only had the problem that the size of the webview was fixed and that my **css used in the html** (not in JavaFX) needed:\r\n\r\n    overflow-x: hidden;\r\n    overflow-y: hidden;\r\n\r\nto hide the last scrollbar.\r\n\r\nSo I come up with the following snapshot method (application with animation just as example of your application):\r\n\r\n    package application;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    import javax.imageio.ImageIO;\r\n    \r\n    import javafx.animation.Animation;\r\n    import javafx.animation.PauseTransition;\r\n    import javafx.animation.TranslateTransition;\r\n    import javafx.application.Application;\r\n    import javafx.embed.swing.SwingFXUtils;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.event.EventHandler;\r\n    import javafx.geometry.Insets;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.effect.GaussianBlur;\r\n    import javafx.scene.image.WritableImage;\r\n    import javafx.scene.layout.AnchorPane;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.scene.layout.Pane;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.shape.Rectangle;\r\n    import javafx.scene.web.WebView;\r\n    import javafx.stage.Modality;\r\n    import javafx.stage.Stage;\r\n    import javafx.stage.StageStyle;\r\n    import javafx.util.Duration;\r\n    \r\n    public class WebViewSnapshot extends Application {\r\n    \r\n    \tBorderPane rootPane;\r\n    \tTranslateTransition animation;\r\n    \t\r\n    \t@Override\r\n        public void start(Stage primaryStage) {\r\n    \r\n            Rectangle rect = new Rectangle(50, 50, 50, 50);\r\n            rect.setFill(Color.CORAL);\r\n    \r\n            animation = createAnimation(rect);\r\n    \r\n            Button snapshotButton = new Button(&quot;Take snapshot&quot;);\r\n    \r\n            Pane pane = new Pane(rect);\r\n            pane.setMinSize(600, 150);\r\n    \r\n            rootPane = new BorderPane(pane, null, null, snapshotButton, new Label(&quot;This is the main scene&quot;));\r\n    \r\n            snapshotButton.setOnAction(e -&gt; {\r\n            \t// html file being shown in webview\r\n            \tFile htmlFile = new File (&quot;generated/template.html&quot;);\r\n            \t// the resulting snapshot png file\r\n            \tFile aboutFile = new File (&quot;generated/about.png&quot;);\r\n        \t\tgenerate(htmlFile, aboutFile, 1280, 720);\r\n            });\r\n    \r\n            BorderPane.setAlignment(snapshotButton, Pos.CENTER);\r\n            BorderPane.setMargin(snapshotButton, new Insets(5));\r\n            Scene scene = new Scene(rootPane);\r\n            primaryStage.setScene(scene);\r\n            primaryStage.show();\r\n        }\r\n    \r\n        private TranslateTransition createAnimation(Rectangle rect) {\r\n            TranslateTransition animation = new TranslateTransition(Duration.seconds(1), rect);\r\n            animation.setByX(400);\r\n            animation.setCycleCount(Animation.INDEFINITE);\r\n            animation.setAutoReverse(true);\r\n            animation.play();\r\n            return animation;\r\n        }\r\n    \r\n    \tpublic void generate(File htmlFile, File outputFile, double width, double height) {\r\n            animation.pause();\r\n    \t\t// rootPane is the root of original scene in an FXML controller you get this when you assign it an id\r\n    \t\trootPane.setEffect(new GaussianBlur());\r\n    \t\tStage primaryStage = (Stage)rootPane.getScene().getWindow();\r\n    \t\t// creating separate webview holding same html content as in original scene\r\n    \t\tWebView webView = new WebView();\r\n    \t\t// with the size I want the snapshot\r\n    \t\twebView.setPrefSize(width, height);\r\n    \t\tAnchorPane snapshotRoot = new AnchorPane(webView);\r\n    \t\twebView.getEngine().load(htmlFile.toURI().toString());\r\n            Stage popupStage = new Stage(StageStyle.TRANSPARENT);\r\n            popupStage.initOwner(primaryStage);\r\n            popupStage.initModality(Modality.APPLICATION_MODAL);\r\n            // this popup doesn&#39;t really show anything size = 1x1, it just holds the snapshot-webview\r\n            popupStage.setScene(new Scene(snapshotRoot, 1, 1));\r\n            // pausing to make sure the webview/picture is completely rendered\r\n    \t\tPauseTransition pt = new PauseTransition(Duration.seconds(2));\r\n    \t\tpt.setOnFinished(new EventHandler&lt;ActionEvent&gt;() {\r\n    \t\t\t@Override public void handle(ActionEvent event) {\r\n    \t\t\t\tWritableImage image = webView.snapshot(null, null);\r\n    \t\t\t\t// writing a png to outputFile\r\n    \t\t\t\t// writing a JPG like this will result in a pink JPG, see other posts\r\n    \t\t\t\t// if somebody can scrape me simple code to convert it ARGB to RGB or something\r\n    \t\t\t\tString format = &quot;png&quot;;\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tImageIO.write(SwingFXUtils.fromFXImage(image, null), format, outputFile);\r\n    \t\t\t\t} catch (IOException e) {\r\n    \t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t} finally {\r\n    \t\t\t\t\trootPane.setEffect(null);\r\n    \t                popupStage.hide();\r\n    \t        \t\tanimation.play();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\t// pausing, after pause onFinished event will take + write snapshot\r\n    \t\tpt.play();\r\n    \t\t// GO!\r\n            popupStage.show();\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n\r\n","title":"JavaFX - How to create SnapShot/Screenshot of (invisble) WebView","body":"<p>After a lot of searching and scraping several pieces together I found an example a SO-poster posted in an oracle forum that only had the problem that the size of the webview was fixed and that my <strong>css used in the html</strong> (not in JavaFX) needed:</p>\n\n<pre><code>overflow-x: hidden;\noverflow-y: hidden;\n</code></pre>\n\n<p>to hide the last scrollbar.</p>\n\n<p>So I come up with the following snapshot method (application with animation just as example of your application):</p>\n\n<pre><code>package application;\n\nimport java.io.File;\nimport java.io.IOException;\n\nimport javax.imageio.ImageIO;\n\nimport javafx.animation.Animation;\nimport javafx.animation.PauseTransition;\nimport javafx.animation.TranslateTransition;\nimport javafx.application.Application;\nimport javafx.embed.swing.SwingFXUtils;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.effect.GaussianBlur;\nimport javafx.scene.image.WritableImage;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Rectangle;\nimport javafx.scene.web.WebView;\nimport javafx.stage.Modality;\nimport javafx.stage.Stage;\nimport javafx.stage.StageStyle;\nimport javafx.util.Duration;\n\npublic class WebViewSnapshot extends Application {\n\n    BorderPane rootPane;\n    TranslateTransition animation;\n\n    @Override\n    public void start(Stage primaryStage) {\n\n        Rectangle rect = new Rectangle(50, 50, 50, 50);\n        rect.setFill(Color.CORAL);\n\n        animation = createAnimation(rect);\n\n        Button snapshotButton = new Button(\"Take snapshot\");\n\n        Pane pane = new Pane(rect);\n        pane.setMinSize(600, 150);\n\n        rootPane = new BorderPane(pane, null, null, snapshotButton, new Label(\"This is the main scene\"));\n\n        snapshotButton.setOnAction(e -&gt; {\n            // html file being shown in webview\n            File htmlFile = new File (\"generated/template.html\");\n            // the resulting snapshot png file\n            File aboutFile = new File (\"generated/about.png\");\n            generate(htmlFile, aboutFile, 1280, 720);\n        });\n\n        BorderPane.setAlignment(snapshotButton, Pos.CENTER);\n        BorderPane.setMargin(snapshotButton, new Insets(5));\n        Scene scene = new Scene(rootPane);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    private TranslateTransition createAnimation(Rectangle rect) {\n        TranslateTransition animation = new TranslateTransition(Duration.seconds(1), rect);\n        animation.setByX(400);\n        animation.setCycleCount(Animation.INDEFINITE);\n        animation.setAutoReverse(true);\n        animation.play();\n        return animation;\n    }\n\n    public void generate(File htmlFile, File outputFile, double width, double height) {\n        animation.pause();\n        // rootPane is the root of original scene in an FXML controller you get this when you assign it an id\n        rootPane.setEffect(new GaussianBlur());\n        Stage primaryStage = (Stage)rootPane.getScene().getWindow();\n        // creating separate webview holding same html content as in original scene\n        WebView webView = new WebView();\n        // with the size I want the snapshot\n        webView.setPrefSize(width, height);\n        AnchorPane snapshotRoot = new AnchorPane(webView);\n        webView.getEngine().load(htmlFile.toURI().toString());\n        Stage popupStage = new Stage(StageStyle.TRANSPARENT);\n        popupStage.initOwner(primaryStage);\n        popupStage.initModality(Modality.APPLICATION_MODAL);\n        // this popup doesn't really show anything size = 1x1, it just holds the snapshot-webview\n        popupStage.setScene(new Scene(snapshotRoot, 1, 1));\n        // pausing to make sure the webview/picture is completely rendered\n        PauseTransition pt = new PauseTransition(Duration.seconds(2));\n        pt.setOnFinished(new EventHandler&lt;ActionEvent&gt;() {\n            @Override public void handle(ActionEvent event) {\n                WritableImage image = webView.snapshot(null, null);\n                // writing a png to outputFile\n                // writing a JPG like this will result in a pink JPG, see other posts\n                // if somebody can scrape me simple code to convert it ARGB to RGB or something\n                String format = \"png\";\n                try {\n                    ImageIO.write(SwingFXUtils.fromFXImage(image, null), format, outputFile);\n                } catch (IOException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                } finally {\n                    rootPane.setEffect(null);\n                    popupStage.hide();\n                    animation.play();\n                }\n            }\n        });\n        // pausing, after pause onFinished event will take + write snapshot\n        pt.play();\n        // GO!\n        popupStage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1667596,"reputation":1052,"user_id":1534698,"accept_rate":86,"display_name":"Jan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636486196,"creation_date":1636486196,"answer_id":69903984,"question_id":30121204,"body_markdown":"Why the invisible WebView doesn&#39;t render at all is answered here: https://stackoverflow.com/a/52977547/1534698, code circumventing that problem is here https://stackoverflow.com/a/58047583/1534698.\r\n\r\nBut a clean solution to solve the problem that a WebView might not be ready for taking a snapshot when it says &quot;I&#39;m ready&quot; is provided here: https://stackoverflow.com/a/60746994/1534698.\r\n\r\nThis is as a summarization, because there are actually 2 problems preventing easy snapshotting of a WebView. I had to merge both solutions to get a working clean solution.","title":"JavaFX - How to create SnapShot/Screenshot of (invisble) WebView","body":"<p>Why the invisible WebView doesn't render at all is answered here: <a href=\"https://stackoverflow.com/a/52977547/1534698\">https://stackoverflow.com/a/52977547/1534698</a>, code circumventing that problem is here <a href=\"https://stackoverflow.com/a/58047583/1534698\">https://stackoverflow.com/a/58047583/1534698</a>.</p>\n<p>But a clean solution to solve the problem that a WebView might not be ready for taking a snapshot when it says &quot;I'm ready&quot; is provided here: <a href=\"https://stackoverflow.com/a/60746994/1534698\">https://stackoverflow.com/a/60746994/1534698</a>.</p>\n<p>This is as a summarization, because there are actually 2 problems preventing easy snapshotting of a WebView. I had to merge both solutions to get a working clean solution.</p>\n"}],"owner":{"account_id":3245347,"reputation":3398,"user_id":3887073,"accept_rate":75,"display_name":"Ben"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3608,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":3,"score":12,"last_activity_date":1636486196,"creation_date":1431079712,"question_id":30121204,"body_markdown":"I want to create a SnapShot/Screenshot/Image from a WebView in JavaFX(8).&lt;br&gt;This WebView does not need to be visible (in my case).&lt;br&gt;&lt;br&gt;\r\n**My question:**&lt;br&gt;\r\nIs it possible (in any way), to create a Screenshot/Image from a WebView,&lt;br&gt; when the WebView is **not visible (or not added to any visible container)**?\r\n\r\nSee my example code, when WebView (or it&#39;s parent ScrollPane) is **visible=false**,&lt;br&gt;\r\nthe Screenshot won&#39;t work (respectively **is emtpy/blank**).\r\n\r\n**Example code:**&lt;br&gt;\r\n\r\n    package test;\r\n\r\n    import javafx.animation.KeyFrame;\r\n    import javafx.animation.Timeline;\r\n    import javafx.application.Application;\r\n    import javafx.beans.value.ChangeListener;\r\n    import javafx.beans.value.ObservableValue;\r\n    import javafx.concurrent.Worker;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.SnapshotResult;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.ScrollPane;\r\n    import javafx.scene.image.ImageView;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.scene.web.WebView;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Duration;\r\n\r\n    public class JavaFXApplication extends Application\r\n    {\r\n       @Override\r\n       public void start(Stage primaryStage)\r\n       {\r\n          ImageView webviewPreviewImage = new ImageView();\r\n          Label waitLabel = new Label(&quot;Please wait...&quot;);\r\n          WebView webView = new WebView();\r\n          webView.setMaxHeight(480d);\r\n          webView.setMinHeight(480d);\r\n          webView.setMaxWidth(640d);\r\n          webView.setMinWidth(640d);\r\n          webView.setZoom(0.4);\r\n        \r\n          ScrollPane scrollpane = new ScrollPane(webView);\r\n          scrollpane.setHbarPolicy(ScrollPane.ScrollBarPolicy.NEVER);\r\n          scrollpane.setVbarPolicy(ScrollPane.ScrollBarPolicy.NEVER);\r\n          scrollpane.setMaxWidth(0); //WORKAROUND: hide the WebView/ScrollPane\r\n          scrollpane.setMaxHeight(0); //WORKAROUND: hide the WebView/ScrollPane\r\n          scrollpane.setMinWidth(0); //WORKAROUND: hide the WebView/ScrollPane\r\n          scrollpane.setMinHeight(0); //WORKAROUND: hide the WebView/ScrollPane\r\n\r\n          //scrollpane.setVisible(false); //when WebView is invisible,  SnapShot doesn&#39;t work!\r\n        \r\n           webView.getEngine().getLoadWorker().stateProperty().addListener(new ChangeListener&lt;Worker.State&gt;() \r\n           {\r\n              @Override\r\n              public void changed(ObservableValue ov, Worker.State oldState, Worker.State newState) \r\n              {\r\n                  if (newState == Worker.State.SUCCEEDED) \r\n                  {\r\n                     //When SUCCEEDED is called, the WebPage may not has fully finished rendering!\r\n                     //so, wait for few seceonds before making the screenshot...\r\n                     Timeline timeline = new Timeline(new KeyFrame(\r\n                             Duration.millis(1500),\r\n                             ae -&gt; takeSnapshot()));\r\n                     timeline.play();\r\n                  }\r\n               }\r\n\r\n               private KeyFrame takeSnapshot()\r\n               {\r\n                  webView.snapshot((SnapshotResult param) -&gt;\r\n                  {\r\n                     webviewPreviewImage.setImage(param.getImage());\r\n                     webviewPreviewImage.setFitHeight(240d);\r\n                     webviewPreviewImage.setFitWidth(320d);\r\n                     webviewPreviewImage.setPreserveRatio(true);\r\n                     waitLabel.setVisible(false);\r\n                     return null;\r\n                  }, null, null);\r\n                  return null;\r\n              }\r\n          });\r\n          webView.getEngine().load(&quot;http://www.bing.com&quot;);\r\n\r\n          VBox root = new VBox();\r\n          root.setAlignment(Pos.CENTER);\r\n          root.setSpacing(10d);\r\n          root.getChildren().add(waitLabel);\r\n          root.getChildren().add(scrollpane);\r\n          root.getChildren().add(webviewPreviewImage);\r\n\r\n          Scene scene = new Scene(root, 800, 600);\r\n          primaryStage.setScene(scene);\r\n          primaryStage.show();\r\n      }\r\n\r\n      public static void main(String[] args)\r\n      {\r\n         launch(args);\r\n      }\r\n    }","title":"JavaFX - How to create SnapShot/Screenshot of (invisble) WebView","body":"<p>I want to create a SnapShot/Screenshot/Image from a WebView in JavaFX(8).<br>This WebView does not need to be visible (in my case).<br><br>\n<strong>My question:</strong><br>\nIs it possible (in any way), to create a Screenshot/Image from a WebView,<br> when the WebView is <strong>not visible (or not added to any visible container)</strong>?</p>\n\n<p>See my example code, when WebView (or it's parent ScrollPane) is <strong>visible=false</strong>,<br>\nthe Screenshot won't work (respectively <strong>is emtpy/blank</strong>).</p>\n\n<p><strong>Example code:</strong><br></p>\n\n<pre><code>package test;\n\nimport javafx.animation.KeyFrame;\nimport javafx.animation.Timeline;\nimport javafx.application.Application;\nimport javafx.beans.value.ChangeListener;\nimport javafx.beans.value.ObservableValue;\nimport javafx.concurrent.Worker;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.SnapshotResult;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.ScrollPane;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.web.WebView;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\npublic class JavaFXApplication extends Application\n{\n   @Override\n   public void start(Stage primaryStage)\n   {\n      ImageView webviewPreviewImage = new ImageView();\n      Label waitLabel = new Label(\"Please wait...\");\n      WebView webView = new WebView();\n      webView.setMaxHeight(480d);\n      webView.setMinHeight(480d);\n      webView.setMaxWidth(640d);\n      webView.setMinWidth(640d);\n      webView.setZoom(0.4);\n\n      ScrollPane scrollpane = new ScrollPane(webView);\n      scrollpane.setHbarPolicy(ScrollPane.ScrollBarPolicy.NEVER);\n      scrollpane.setVbarPolicy(ScrollPane.ScrollBarPolicy.NEVER);\n      scrollpane.setMaxWidth(0); //WORKAROUND: hide the WebView/ScrollPane\n      scrollpane.setMaxHeight(0); //WORKAROUND: hide the WebView/ScrollPane\n      scrollpane.setMinWidth(0); //WORKAROUND: hide the WebView/ScrollPane\n      scrollpane.setMinHeight(0); //WORKAROUND: hide the WebView/ScrollPane\n\n      //scrollpane.setVisible(false); //when WebView is invisible,  SnapShot doesn't work!\n\n       webView.getEngine().getLoadWorker().stateProperty().addListener(new ChangeListener&lt;Worker.State&gt;() \n       {\n          @Override\n          public void changed(ObservableValue ov, Worker.State oldState, Worker.State newState) \n          {\n              if (newState == Worker.State.SUCCEEDED) \n              {\n                 //When SUCCEEDED is called, the WebPage may not has fully finished rendering!\n                 //so, wait for few seceonds before making the screenshot...\n                 Timeline timeline = new Timeline(new KeyFrame(\n                         Duration.millis(1500),\n                         ae -&gt; takeSnapshot()));\n                 timeline.play();\n              }\n           }\n\n           private KeyFrame takeSnapshot()\n           {\n              webView.snapshot((SnapshotResult param) -&gt;\n              {\n                 webviewPreviewImage.setImage(param.getImage());\n                 webviewPreviewImage.setFitHeight(240d);\n                 webviewPreviewImage.setFitWidth(320d);\n                 webviewPreviewImage.setPreserveRatio(true);\n                 waitLabel.setVisible(false);\n                 return null;\n              }, null, null);\n              return null;\n          }\n      });\n      webView.getEngine().load(\"http://www.bing.com\");\n\n      VBox root = new VBox();\n      root.setAlignment(Pos.CENTER);\n      root.setSpacing(10d);\n      root.getChildren().add(waitLabel);\n      root.getChildren().add(scrollpane);\n      root.getChildren().add(webviewPreviewImage);\n\n      Scene scene = new Scene(root, 800, 600);\n      primaryStage.setScene(scene);\n      primaryStage.show();\n  }\n\n  public static void main(String[] args)\n  {\n     launch(args);\n  }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-bean"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1636483713,"post_id":69903244,"comment_id":123567822,"body_markdown":"Have you tried adding the annotations to `Specification` itself?","body":"Have you tried adding the annotations to <code>Specification</code> itself?"},{"owner":{"account_id":15259937,"reputation":59,"user_id":11010347,"display_name":"Droem19"},"score":0,"creation_date":1636484499,"post_id":69903244,"comment_id":123568072,"body_markdown":"@Jo&#227;oDias Specification in this class is coming from our spock dependency, so I don&#39;t think that is what I am looking for. https://spockframework.org/spock/javadoc/1.0/spock/lang/Specification.html","body":"@Jo&#227;oDias Specification in this class is coming from our spock dependency, so I don&#39;t think that is what I am looking for. <a href=\"https://spockframework.org/spock/javadoc/1.0/spock/lang/Specification.html\" rel=\"nofollow noreferrer\">spockframework.org/spock/javadoc/1.0/spock/lang/&hellip;</a>"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1636484613,"post_id":69903244,"comment_id":123568114,"body_markdown":"Ah ok, didn&#39;t know that. Have you tried a custom meta-annotation then?","body":"Ah ok, didn&#39;t know that. Have you tried a custom meta-annotation then?"},{"owner":{"account_id":15259937,"reputation":59,"user_id":11010347,"display_name":"Droem19"},"score":0,"creation_date":1636484962,"post_id":69903244,"comment_id":123568232,"body_markdown":"@Jo&#227;oDias I have not - I&#39;m not crazy familiar with Spring, so im not quite sure what the best solution is - if you have an idea of how that might work/be implemented I could try.","body":"@Jo&#227;oDias I have not - I&#39;m not crazy familiar with Spring, so im not quite sure what the best solution is - if you have an idea of how that might work/be implemented I could try."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1636486050,"creation_date":1636486050,"answer_id":69903960,"question_id":69903244,"body_markdown":"Try creating a custom meta-annotation as follows:\r\n```java\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.Type)\r\n@MockBeans([@MockBean(ObjectRepository), @MockBean(ChannelRepository), \r\n@MockBean(ChannelSubscriberRepository)])\r\npublic @interface CustomMockBeans {\r\n}\r\n```\r\n\r\nAnd then annotate your test class with it:\r\n```java\r\n@WebMvcTest(value = [ScriptController, SecurityConfiguration, ScriptPermissionEvaluator])\r\n@ExtendWith(SpringExtension)\r\n@CustomMockBeans\r\n@ActiveProfiles(&quot;test&quot;)\r\nclass ScriptControllerSecurityTest extends Specification\r\n```","title":"Spring Boot @MockBeans - How to use the same beans in multiple test classes","body":"<p>Try creating a custom meta-annotation as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.Type)\n@MockBeans([@MockBean(ObjectRepository), @MockBean(ChannelRepository), \n@MockBean(ChannelSubscriberRepository)])\npublic @interface CustomMockBeans {\n}\n</code></pre>\n<p>And then annotate your test class with it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebMvcTest(value = [ScriptController, SecurityConfiguration, ScriptPermissionEvaluator])\n@ExtendWith(SpringExtension)\n@CustomMockBeans\n@ActiveProfiles(&quot;test&quot;)\nclass ScriptControllerSecurityTest extends Specification\n</code></pre>\n"}],"owner":{"account_id":15259937,"reputation":59,"user_id":11010347,"display_name":"Droem19"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1949,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69903960,"answer_count":1,"score":3,"last_activity_date":1636486050,"creation_date":1636482368,"question_id":69903244,"body_markdown":"I have multiple security test classes where I am testing authorization to different REST endpoints, and I would like to mock the beans of all the repositories that ApplicationContext will spin up. I have the tests running and everything works correctly, but I&#39;d like to not duplicate my @MockBeans in every security test class.\r\n\r\nI&#39;ve tried creating a configuration class and putting the MockBeans there, but I receive a 404 error.\r\n\r\nThe current test class is setup like this and it works, but I have to duplicate the @MockBeans() in each class:\r\n\r\n    @WebMvcTest(value = [ScriptController, SecurityConfiguration, ScriptPermissionEvaluator])\r\n    @ExtendWith(SpringExtension)\r\n    @MockBeans([@MockBean(ObjectRepository), @MockBean(ChannelRepository), \r\n    @MockBean(ChannelSubscriberRepository)])\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    class ScriptControllerSecurityTest extends Specification\r\n\r\nI&#39;d like to setup a configuration class like this and use it inside of my test class with @ContextConfiguration(classes = MockRepositoryConfiguration) in the test class.\r\n\r\n    @Configuration\r\n    @MockBeans([@MockBean(ObjectRepository), @MockBean(ChannelRepository), \r\n    @MockBean(ChannelSubscriberRepository)])\r\n    class MockRepositoryConfiguration\r\n    {}","title":"Spring Boot @MockBeans - How to use the same beans in multiple test classes","body":"<p>I have multiple security test classes where I am testing authorization to different REST endpoints, and I would like to mock the beans of all the repositories that ApplicationContext will spin up. I have the tests running and everything works correctly, but I'd like to not duplicate my @MockBeans in every security test class.</p>\n<p>I've tried creating a configuration class and putting the MockBeans there, but I receive a 404 error.</p>\n<p>The current test class is setup like this and it works, but I have to duplicate the @MockBeans() in each class:</p>\n<pre><code>@WebMvcTest(value = [ScriptController, SecurityConfiguration, ScriptPermissionEvaluator])\n@ExtendWith(SpringExtension)\n@MockBeans([@MockBean(ObjectRepository), @MockBean(ChannelRepository), \n@MockBean(ChannelSubscriberRepository)])\n@ActiveProfiles(&quot;test&quot;)\nclass ScriptControllerSecurityTest extends Specification\n</code></pre>\n<p>I'd like to setup a configuration class like this and use it inside of my test class with @ContextConfiguration(classes = MockRepositoryConfiguration) in the test class.</p>\n<pre><code>@Configuration\n@MockBeans([@MockBean(ObjectRepository), @MockBean(ChannelRepository), \n@MockBean(ChannelSubscriberRepository)])\nclass MockRepositoryConfiguration\n{}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":8,"creation_date":1636480212,"post_id":69902793,"comment_id":123566601,"body_markdown":"`String.join(&quot;;&quot;, itemAttValues) + &quot;;&quot;`","body":"<code>String.join(&quot;;&quot;, itemAttValues) + &quot;;&quot;</code>"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1636480668,"post_id":69902793,"comment_id":123566799,"body_markdown":"&quot;Problem is when in list is only one item then i get two commas if i use this&quot; then your list doesn&#39;t have just 1 item.","body":"&quot;Problem is when in list is only one item then i get two commas if i use this&quot; then your list doesn&#39;t have just 1 item."},{"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"score":0,"creation_date":1636481350,"post_id":69902793,"comment_id":123567042,"body_markdown":"Updated my answer to account for your array/List only having a single value.","body":"Updated my answer to account for your array/List only having a single value."}],"answers":[{"tags":[],"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636485827,"creation_date":1636480334,"answer_id":69902845,"question_id":69902793,"body_markdown":"I don&#39;t know if you are working with an array or a ArrayList/List.\r\n\r\nFor an array:\r\n\r\n    if (CollectionUtils.isNotEmpty(itemAttValues)) {\r\n        if (intemAttVallues.legnth != 1) {\r\n            return String.join(&quot;;&quot;, itemAttValues) + &quot;;&quot;;\r\n           }\r\n        return itemAttValues[0] + &quot;;&quot;;\r\n        }\r\n\r\n\r\nFor a ArrayList/List:\r\n\r\n    if (CollectionUtils.isNotEmpty(itemAttValues)) {\r\n        if (intemAttVallues.size() != 1) {\r\n            return = String.join(&quot;;&quot;, itemAttValues) + &quot;;&quot;;\r\n           }\r\n        return itemAttValues.get(0) + &quot;;&quot;;\r\n        }","title":"How to add on last string comma in list?","body":"<p>I don't know if you are working with an array or a ArrayList/List.</p>\n<p>For an array:</p>\n<pre><code>if (CollectionUtils.isNotEmpty(itemAttValues)) {\n    if (intemAttVallues.legnth != 1) {\n        return String.join(&quot;;&quot;, itemAttValues) + &quot;;&quot;;\n       }\n    return itemAttValues[0] + &quot;;&quot;;\n    }\n</code></pre>\n<p>For a ArrayList/List:</p>\n<pre><code>if (CollectionUtils.isNotEmpty(itemAttValues)) {\n    if (intemAttVallues.size() != 1) {\n        return = String.join(&quot;;&quot;, itemAttValues) + &quot;;&quot;;\n       }\n    return itemAttValues.get(0) + &quot;;&quot;;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636483196,"creation_date":1636481508,"answer_id":69903064,"question_id":69902793,"body_markdown":"If you are using JDK 1.8, you can use the `java.util.stream.Stream` combined with the `java.util.StringJoiner` as follows:\r\n\r\n    if (CollectionUtils.isNotEmpty(itemAttValues)) {\r\n        return itemAttValues.stream()\r\n            .collect(() -&gt; new StringJoiner(&quot;;&quot;, &quot;&quot;, &quot;;&quot;), StringJoiner::add, StringJoiner::merge)\r\n            .toString();\r\n    }\r\n\r\nEDIT (per @saka1029 deleted shortcut):\r\n-\r\n\r\nYou can use the `Collectors#joining` utility collector directly:\r\n\r\n    if (CollectionUtils.isNotEmpty(itemAttValues)) {\r\n        return itemAttValues.stream()\r\n            .collect(Collectors.joining(&quot;;&quot;, &quot;&quot;, &quot;;&quot;))\r\n            .toString();\r\n    }","title":"How to add on last string comma in list?","body":"<p>If you are using JDK 1.8, you can use the <code>java.util.stream.Stream</code> combined with the <code>java.util.StringJoiner</code> as follows:</p>\n<pre><code>if (CollectionUtils.isNotEmpty(itemAttValues)) {\n    return itemAttValues.stream()\n        .collect(() -&gt; new StringJoiner(&quot;;&quot;, &quot;&quot;, &quot;;&quot;), StringJoiner::add, StringJoiner::merge)\n        .toString();\n}\n</code></pre>\n<h2>EDIT (per @saka1029 deleted shortcut):</h2>\n<p>You can use the <code>Collectors#joining</code> utility collector directly:</p>\n<pre><code>if (CollectionUtils.isNotEmpty(itemAttValues)) {\n    return itemAttValues.stream()\n        .collect(Collectors.joining(&quot;;&quot;, &quot;&quot;, &quot;;&quot;))\n        .toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636483977,"creation_date":1636482494,"answer_id":69903273,"question_id":69902793,"body_markdown":"The way I’d describe your requirement is that you want a semicolon *after each value* rather than just semicolons between them. The separator that a join operation can use is for putting a separator only between the values, so I don’t want to use that one. I prefer to make explicit that I put a semicolon after each value:\r\n\r\n\t\tList&lt;String&gt; itemAttValues = List.of(&quot;9000&quot;, &quot;9001&quot;);\r\n\t\tString joined = itemAttValues.stream()\r\n\t\t\t\t.map(v -&gt; v + &#39;;&#39;)\r\n\t\t\t\t.collect(Collectors.joining());\r\n\t\tSystem.out.println(joined);\r\n\r\nOutput:\r\n\r\n&gt; 9000;9001;\r\n\r\nA good old loop with a `StringBuilder` can obtain the same (left for the reader).\r\n\r\nEdit: if your list has got just a single value, we get a semicolon after that too (not two):\r\n\r\n\t\tList&lt;String&gt; itemAttValues = List.of(&quot;9002&quot;);\r\n\r\n&gt; 9002;","title":"How to add on last string comma in list?","body":"<p>The way I’d describe your requirement is that you want a semicolon <em>after each value</em> rather than just semicolons between them. The separator that a join operation can use is for putting a separator only between the values, so I don’t want to use that one. I prefer to make explicit that I put a semicolon after each value:</p>\n<pre><code>    List&lt;String&gt; itemAttValues = List.of(&quot;9000&quot;, &quot;9001&quot;);\n    String joined = itemAttValues.stream()\n            .map(v -&gt; v + ';')\n            .collect(Collectors.joining());\n    System.out.println(joined);\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>9000;9001;</p>\n</blockquote>\n<p>A good old loop with a <code>StringBuilder</code> can obtain the same (left for the reader).</p>\n<p>Edit: if your list has got just a single value, we get a semicolon after that too (not two):</p>\n<pre><code>    List&lt;String&gt; itemAttValues = List.of(&quot;9002&quot;);\n</code></pre>\n<blockquote>\n<p>9002;</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636484390,"creation_date":1636484390,"answer_id":69903625,"question_id":69902793,"body_markdown":"You can use [`Collector&lt;CharSequence,?,String&gt; joining(CharSequence delimiter, CharSequence prefix, CharSequence suffix)`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#joining-java.lang.CharSequence-java.lang.CharSequence-java.lang.CharSequence-).\r\n\r\n**Demo:**\r\n\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tList&lt;String&gt; itemAttValues = List.of(&quot;9000&quot;, &quot;9001&quot;);\r\n    \t\tString joined = itemAttValues.stream()\r\n    \t\t\t\t\t\t\t.collect(Collectors.joining(&quot;;&quot;, &quot;&quot;, &quot;;&quot;));\r\n    \t\tSystem.out.println(joined);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    9000;9001;\r\n\r\n","title":"How to add on last string comma in list?","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#joining-java.lang.CharSequence-java.lang.CharSequence-java.lang.CharSequence-\" rel=\"nofollow noreferrer\"><code>Collector&lt;CharSequence,?,String&gt; joining(CharSequence delimiter, CharSequence prefix, CharSequence suffix)</code></a>.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.util.List;\nimport java.util.stream.Collectors;\n\npublic class Main {\n    public static void main(String[] args) {\n        List&lt;String&gt; itemAttValues = List.of(&quot;9000&quot;, &quot;9001&quot;);\n        String joined = itemAttValues.stream()\n                            .collect(Collectors.joining(&quot;;&quot;, &quot;&quot;, &quot;;&quot;));\n        System.out.println(joined);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>9000;9001;\n</code></pre>\n"}],"owner":{"account_id":5708598,"reputation":8967,"user_id":4511325,"accept_rate":66,"display_name":"None"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":69902845,"answer_count":4,"score":0,"last_activity_date":1636485827,"creation_date":1636480116,"question_id":69902793,"body_markdown":"I have this part of code:\r\n\r\n     if (CollectionUtils.isNotEmpty(itemAttValues)) {\r\n                return String.join(&quot;;&quot;, itemAttValues);\r\n            }\r\n\r\nand i get this : `9000;9001` but what i want is `9000;9001;` so on last string to add `;` also.\r\n\r\n\r\n\r\nAny suggestion?","title":"How to add on last string comma in list?","body":"<p>I have this part of code:</p>\n<pre><code> if (CollectionUtils.isNotEmpty(itemAttValues)) {\n            return String.join(&quot;;&quot;, itemAttValues);\n        }\n</code></pre>\n<p>and i get this : <code>9000;9001</code> but what i want is <code>9000;9001;</code> so on last string to add <code>;</code> also.</p>\n<p>Any suggestion?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1636478912,"post_id":69902507,"comment_id":123566065,"body_markdown":"catch OOME to then print a stack trace and just keep going with your code? same for comodex? Just delete the try and catch - the default catch mechanism is &#39;exit this method right now and keep exiting methods until the entrypoint&#39;, which is vastly superior. Update your IDE templates.","body":"catch OOME to then print a stack trace and just keep going with your code? same for comodex? Just delete the try and catch - the default catch mechanism is &#39;exit this method right now and keep exiting methods until the entrypoint&#39;, which is vastly superior. Update your IDE templates."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1636478990,"post_id":69902507,"comment_id":123566108,"body_markdown":"Your code seems fine. Provide the actual data (what values do `rbsList` and `partnerList` have when you run this code, what is `getAccount()`, what does its `equals` method look like, same for `.getSum()`. The error lies in one of those aspects, not in the code you pasted.","body":"Your code seems fine. Provide the actual data (what values do <code>rbsList</code> and <code>partnerList</code> have when you run this code, what is <code>getAccount()</code>, what does its <code>equals</code> method look like, same for <code>.getSum()</code>. The error lies in one of those aspects, not in the code you pasted."},{"owner":{"account_id":3153321,"reputation":854,"user_id":2666277,"accept_rate":100,"display_name":"I Stevenson"},"score":0,"creation_date":1636500639,"post_id":69902507,"comment_id":123573235,"body_markdown":"It would be worthwhile defining what you mean by &quot;my code does not work&quot;.","body":"It would be worthwhile defining what you mean by &quot;my code does not work&quot;."}],"answers":[{"tags":[],"owner":{"account_id":7354361,"reputation":21,"user_id":5599534,"display_name":"Martin Capparelli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636482794,"creation_date":1636482794,"answer_id":69903340,"question_id":69902507,"body_markdown":"The code seems to be ok. It&#39;s Important to define what equals means to you, let&#39;s say:\r\n\r\n-&gt; Two accounts are equals if both has the same Id.\r\n\r\n\r\nI recommend you to check if `Account`&#39;s equals is properly defined. The same happens with `getSum()`.","title":"How to compare two list?","body":"<p>The code seems to be ok. It's Important to define what equals means to you, let's say:</p>\n<p>-&gt; Two accounts are equals if both has the same Id.</p>\n<p>I recommend you to check if <code>Account</code>'s equals is properly defined. The same happens with <code>getSum()</code>.</p>\n"},{"tags":[],"owner":{"account_id":12536069,"reputation":480,"user_id":9122719,"display_name":"Tal Glik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636485770,"creation_date":1636485770,"answer_id":69903892,"question_id":69902507,"body_markdown":"1. In payment class, add implementation for equals() then you can just do:\r\npartner.equals(rbs) in the if.\r\n2. Consider using Java stream instead of the two for loops:\r\n\r\n            List&lt;Payment&gt; differences = rbsList.stream()\r\n                .filter(element -&gt; !partnerList.contains(element))\r\n                .collect(Collectors.toList());\r\n","title":"How to compare two list?","body":"<ol>\n<li><p>In payment class, add implementation for equals() then you can just do:\npartner.equals(rbs) in the if.</p>\n</li>\n<li><p>Consider using Java stream instead of the two for loops:</p>\n<pre><code>     List&lt;Payment&gt; differences = rbsList.stream()\n         .filter(element -&gt; !partnerList.contains(element))\n         .collect(Collectors.toList());\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":20803005,"reputation":13,"user_id":16926405,"display_name":"my pochta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1636485770,"creation_date":1636478789,"question_id":69902507,"body_markdown":"I have two lists, I would like to compare them with each other and introduce differences, but my code does not work, what could be the problem? How would you do that?\r\n\r\n    private List&lt;Payment&gt; rbsList;\r\n    private List&lt;Payment&gt; partnerList;\r\n\r\n    public void compare() {\r\n        try {\r\n            for (Payment rbs : rbsList) {\r\n                for (Payment partner : partnerList) {\r\n                    if (partner.getAccount().equals(rbs.getAccount()) &amp;&amp; partner.getSum() == rbs.getSum()) {\r\n                        rbs.setExist(true);\r\n                        partner.setExist(true);\r\n                    }\r\n                }\r\n            }\r\n        } catch (OutOfMemoryError | ConcurrentModificationException exception) {\r\n            exception.printStackTrace();\r\n        }\r\n\r\n        notMatchedRBS = rbsList.stream().filter(r -&gt; !r.isExist()).collect(Collectors.toList());\r\n        notMatchedPartner = partnerList.stream().filter(p -&gt; !p.isExist()).collect(Collectors.toList());\r\n\r\n    }","title":"How to compare two list?","body":"<p>I have two lists, I would like to compare them with each other and introduce differences, but my code does not work, what could be the problem? How would you do that?</p>\n<pre><code>private List&lt;Payment&gt; rbsList;\nprivate List&lt;Payment&gt; partnerList;\n\npublic void compare() {\n    try {\n        for (Payment rbs : rbsList) {\n            for (Payment partner : partnerList) {\n                if (partner.getAccount().equals(rbs.getAccount()) &amp;&amp; partner.getSum() == rbs.getSum()) {\n                    rbs.setExist(true);\n                    partner.setExist(true);\n                }\n            }\n        }\n    } catch (OutOfMemoryError | ConcurrentModificationException exception) {\n        exception.printStackTrace();\n    }\n\n    notMatchedRBS = rbsList.stream().filter(r -&gt; !r.isExist()).collect(Collectors.toList());\n    notMatchedPartner = partnerList.stream().filter(p -&gt; !p.isExist()).collect(Collectors.toList());\n\n}\n</code></pre>\n"},{"tags":["java","android","string","textview","display"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1636132218,"post_id":69856677,"comment_id":123483627,"body_markdown":"You&#39;re going to have to do it all by hand, its not a feature of Android.  What part of it are you asking about?  Also, remember you&#39;re going to have to handle the case where the translation is MUCH larger than the original text.  I had to do something once where the word &quot;double&quot; in polish was like 15 letters and didn&#39;t fit in the space.","body":"You&#39;re going to have to do it all by hand, its not a feature of Android.  What part of it are you asking about?  Also, remember you&#39;re going to have to handle the case where the translation is MUCH larger than the original text.  I had to do something once where the word &quot;double&quot; in polish was like 15 letters and didn&#39;t fit in the space."},{"owner":{"account_id":1499310,"reputation":157,"user_id":1577050,"accept_rate":80,"display_name":"Peltier Cooler"},"score":0,"creation_date":1636142887,"post_id":69856677,"comment_id":123487119,"body_markdown":"Clarifying questions added in bold (like my temerity).","body":"Clarifying questions added in bold (like my temerity)."}],"answers":[{"tags":[],"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636485693,"creation_date":1636144209,"answer_id":69858937,"question_id":69856677,"body_markdown":"For the line breaks, I suggest setting up a *TextView* that has the width of your on-display *TextViews* with `wrap_content` for its height. This will be an internal *TextView* that is for processing only and not for display. You will need to get the TextView to measure itself. [This](https://developer.android.com/guide/topics/ui/how-android-draws) can get you started. Of course, if the text is already displayed on-screen, you can just use that _TextView_.\r\n\r\nOnce the view is measured, you can get its internal layout which most likely is a [StaticLayout](https://developer.android.com/reference/android/text/StaticLayout). (You can also use *StaticLayout* directly without the *TextView*.) Since the *StaticLayout* is a representation of the text display by the view and are the same lines of text that would display in the *TextView*, you can move them over directly to single-line, on-screen *TextViews* as long as those *TextViews* have the same characteristics as your internal one. *StaticLayout* has methods to retrieve individual lines of text. \r\n\r\nThere are details that you will have to work through, but that is the gist.\r\n\r\n**Update:** I took the liberty of making a small [demo app](https://github.com/Cheticamp/TextViewLineSplitterDemo). This app takes a paragraph of text and splits it into the constituent lines. Those lines are then displayed on-screen with the original paragraph as seen below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/d8Dc1.png","title":"Android: how can I display a string until the string reaches the end of a one-line textbox and display the rest in a different textbox?","body":"<p>For the line breaks, I suggest setting up a <em>TextView</em> that has the width of your on-display <em>TextViews</em> with <code>wrap_content</code> for its height. This will be an internal <em>TextView</em> that is for processing only and not for display. You will need to get the TextView to measure itself. <a href=\"https://developer.android.com/guide/topics/ui/how-android-draws\" rel=\"nofollow noreferrer\">This</a> can get you started. Of course, if the text is already displayed on-screen, you can just use that <em>TextView</em>.</p>\n<p>Once the view is measured, you can get its internal layout which most likely is a <a href=\"https://developer.android.com/reference/android/text/StaticLayout\" rel=\"nofollow noreferrer\">StaticLayout</a>. (You can also use <em>StaticLayout</em> directly without the <em>TextView</em>.) Since the <em>StaticLayout</em> is a representation of the text display by the view and are the same lines of text that would display in the <em>TextView</em>, you can move them over directly to single-line, on-screen <em>TextViews</em> as long as those <em>TextViews</em> have the same characteristics as your internal one. <em>StaticLayout</em> has methods to retrieve individual lines of text.</p>\n<p>There are details that you will have to work through, but that is the gist.</p>\n<p><strong>Update:</strong> I took the liberty of making a small <a href=\"https://github.com/Cheticamp/TextViewLineSplitterDemo\" rel=\"nofollow noreferrer\">demo app</a>. This app takes a paragraph of text and splits it into the constituent lines. Those lines are then displayed on-screen with the original paragraph as seen below:</p>\n<p><a href=\"https://i.stack.imgur.com/d8Dc1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d8Dc1.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1499310,"reputation":157,"user_id":1577050,"accept_rate":80,"display_name":"Peltier Cooler"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636485693,"creation_date":1636131274,"question_id":69856677,"body_markdown":"I like to think my title question is adequate, but the details are:\r\n\r\nI have long strings (sentences in a story) to display and want it displayed in a number of textviews, with only one line in a box. If the string is too long, I want to truncate at a space or punctuation mark, then display the rest in another textview (or views if the string is really long). My display would have many textview, each with one piece of the string.\r\n\r\nSo, the question: **how can I truncate a string at the end of a textview** but not before? I do not know how many characters per line.\r\n\r\nSecond question: **how do I capture the remaining piece of sentence and display it in the next textview?**\r\n\r\nThe idea is to have a line of a complete sentence and a translation of the sentence appearing in the line below. If the sentence is longer than a single line, the truncated first part will have a truncated, translated line below it, then the remaining part of the original sentence below that, then the remaining part of the translated sentence below that. So, alternating lines of English text and Spanish text displayed.","title":"Android: how can I display a string until the string reaches the end of a one-line textbox and display the rest in a different textbox?","body":"<p>I like to think my title question is adequate, but the details are:</p>\n<p>I have long strings (sentences in a story) to display and want it displayed in a number of textviews, with only one line in a box. If the string is too long, I want to truncate at a space or punctuation mark, then display the rest in another textview (or views if the string is really long). My display would have many textview, each with one piece of the string.</p>\n<p>So, the question: <strong>how can I truncate a string at the end of a textview</strong> but not before? I do not know how many characters per line.</p>\n<p>Second question: <strong>how do I capture the remaining piece of sentence and display it in the next textview?</strong></p>\n<p>The idea is to have a line of a complete sentence and a translation of the sentence appearing in the line below. If the sentence is longer than a single line, the truncated first part will have a truncated, translated line below it, then the remaining part of the original sentence below that, then the remaining part of the translated sentence below that. So, alternating lines of English text and Spanish text displayed.</p>\n"},{"tags":["java","spring","spring-boot","jackson","protocol-buffers"],"answers":[{"tags":[],"owner":{"account_id":6933871,"reputation":604,"user_id":5322506,"accept_rate":80,"display_name":"my-"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1580248423,"creation_date":1580248423,"answer_id":59957606,"question_id":59899765,"body_markdown":"**Workaround**  \r\nI couldn&#39;t find a solution to the problem so came up with a workaround.  \r\nInstead of returning generated protobuf message objects I returned wrappers for those objects. Using [Lombok][1] annotation it could be done:  \r\n\r\n```java\r\nimport lombok.Data;\r\n\r\n@Data // Lombok magic\r\npublic class Module {\r\n    private String name;\r\n    // ...\r\n\r\n    public Module(ie.gmit.proto.Module moduleProto){\r\n        this.name = moduleProto.getName();\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\nThis workaround doesn&#39;t feel very bad as it uses standard Spring boot dependencies.\r\n\r\n\r\n\r\n[1]: https://projectlombok.org/features/Data","title":"Geting list of protobuf message objects from the SpringBoot","body":"<p><strong>Workaround</strong><br>\nI couldn't find a solution to the problem so came up with a workaround.<br>\nInstead of returning generated protobuf message objects I returned wrappers for those objects. Using <a href=\"https://projectlombok.org/features/Data\" rel=\"nofollow noreferrer\">Lombok</a> annotation it could be done:  </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.Data;\n\n@Data // Lombok magic\npublic class Module {\n    private String name;\n    // ...\n\n    public Module(ie.gmit.proto.Module moduleProto){\n        this.name = moduleProto.getName();\n        // ...\n    }\n}\n</code></pre>\n\n<p>This workaround doesn't feel very bad as it uses standard Spring boot dependencies.</p>\n"},{"tags":[],"owner":{"account_id":17599760,"reputation":126,"user_id":12769984,"display_name":"hsoj48"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636484946,"creation_date":1636484946,"answer_id":69903732,"question_id":59899765,"body_markdown":"**Explanation**\r\n\r\nSpring will choose the `HttpMessageConverter` that matches the appropriate converter for the object type of your response body.  In this case, it is likely choosing `MappingJackson2HttpMessageConverter` of the `ProtobufJsonFormatHttpMessageConverter` because your response body has type List.\r\n\r\n`MappingJackson2HttpMessageConverter` implements `HttpMessageConverter&lt;Object&gt;`\r\n`ProtobufJsonFormatHttpMessageConverter` implements `HttpMessageConverter&lt;Message&gt;`\r\n\r\nSince `ProtobufJsonFormatHttpMessageConverter` does not support serializing a List type, we can instead tell the `MappingJackson2HttpMessageConverter` how to serialize the Message type through configuration.\r\n\r\n**Solution**\r\n\r\nA bean of type `Jackson2ObjectMapperBuilderCustomizer` can be used to register a serializer for Message types.\r\n\r\n    @Bean\r\n    public Jackson2ObjectMapperBuilderCustomizer jackson2ObjectMapperBuilderCustomizer() {\r\n        return o -&gt; o.serializerByType(Message.class, new JsonSerializer&lt;Message&gt;() {\r\n            @Override\r\n            public void serialize(Message value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\r\n                gen.writeRawValue(JsonFormat.printer().print(value));\r\n            }\r\n        });\r\n    }","title":"Geting list of protobuf message objects from the SpringBoot","body":"<p><strong>Explanation</strong></p>\n<p>Spring will choose the <code>HttpMessageConverter</code> that matches the appropriate converter for the object type of your response body.  In this case, it is likely choosing <code>MappingJackson2HttpMessageConverter</code> of the <code>ProtobufJsonFormatHttpMessageConverter</code> because your response body has type List.</p>\n<p><code>MappingJackson2HttpMessageConverter</code> implements <code>HttpMessageConverter&lt;Object&gt;</code>\n<code>ProtobufJsonFormatHttpMessageConverter</code> implements <code>HttpMessageConverter&lt;Message&gt;</code></p>\n<p>Since <code>ProtobufJsonFormatHttpMessageConverter</code> does not support serializing a List type, we can instead tell the <code>MappingJackson2HttpMessageConverter</code> how to serialize the Message type through configuration.</p>\n<p><strong>Solution</strong></p>\n<p>A bean of type <code>Jackson2ObjectMapperBuilderCustomizer</code> can be used to register a serializer for Message types.</p>\n<pre><code>@Bean\npublic Jackson2ObjectMapperBuilderCustomizer jackson2ObjectMapperBuilderCustomizer() {\n    return o -&gt; o.serializerByType(Message.class, new JsonSerializer&lt;Message&gt;() {\n        @Override\n        public void serialize(Message value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\n            gen.writeRawValue(JsonFormat.printer().print(value));\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":6933871,"reputation":604,"user_id":5322506,"accept_rate":80,"display_name":"my-"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3346,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":59957606,"answer_count":2,"score":3,"last_activity_date":1636484946,"creation_date":1579881084,"question_id":59899765,"body_markdown":"I want to get a list of protobuf message objects from the Spring boot app.  \r\nI did manage to get a single protobuf message object from the app but getting a list of them throws exception.  \r\n\r\n```bash\r\n...\r\n2020-01-24 14:57:02.359 ERROR 15883 --- [nio-8081-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class com.google.protobuf.UnknownFieldSet$Parser]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class com.google.protobuf.UnknownFieldSet$Parser and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ImmutableCollections$ListN[0]-&gt;com.example.demo.Lecture[&quot;unknownFields&quot;]-&gt;com.google.protobuf.UnknownFieldSet[&quot;parserForType&quot;])] with root cause\r\n\r\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class com.google.protobuf.UnknownFieldSet$Parser and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ImmutableCollections$ListN[0]-&gt;com.example.demo.Lecture[&quot;unknownFields&quot;]-&gt;com.google.protobuf.UnknownFieldSet[&quot;parserForType&quot;])\r\n\tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.10.2.jar:2.10.2]\r\n...\r\n```\r\nMy code (simplified).\r\n\r\n### tl;dr\r\n- **create Spring boot app**\r\n- **generate class from `proto` file**\r\n- **try return `List` of generated class objects (RESTful)**  \r\n\r\nMy code (simplified).  \r\n**Controler**\r\n```java\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport java.util.List;\r\n\r\n@Slf4j\r\n@org.springframework.web.bind.annotation.RestController\r\n@RequestMapping(&quot;/timetable&quot;)\r\npublic class RestController {\r\n\r\n    @PostMapping(&quot;/single&quot;)      // Works\r\n    private Lecture getLecture(@RequestBody Lecture lecture) {\r\n        log.info(&quot;Single2 got: {}&quot;, lecture);\r\n        return Lecture.newBuilder(lecture)\r\n                .setDuration(lecture.getDuration() +1)\r\n                .build();\r\n    }\r\n\r\n    @GetMapping(&quot;/list&quot;)       // Does not work\r\n    private @ResponseBody List&lt;Lecture&gt; getLectures() {\r\n        return List.of(\r\n                Lecture.newBuilder()\r\n                        .setDuration(1)\r\n                        .setWeekDay(Lecture.WeekDay.MONDAY)\r\n                        .setModule(Module.newBuilder().setName(&quot;Math1&quot;).build())\r\n                        .build()\r\n                // ... \r\n        );\r\n    }\r\n}\r\n```\r\n\r\n**App**\r\n```java\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Primary;\r\nimport org.springframework.http.converter.protobuf.ProtobufHttpMessageConverter;\r\nimport org.springframework.http.converter.protobuf.ProtobufJsonFormatHttpMessageConverter;\r\n\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\t@Primary\r\n\tProtobufHttpMessageConverter protobufHttpMessageConverter() {\r\n\t\treturn new ProtobufJsonFormatHttpMessageConverter();\r\n\t}\r\n}\r\n```\r\n**pom.xml**\r\n```xml\r\n&lt;!-- ... --&gt;\r\n    &lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--\t\thttps://dzone.com/articles/exposing-microservices-over-rest-protocol-buffers--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.11.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.googlecode.protobuf-java-format&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;protobuf-java-format&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.google.protobuf/protobuf-java-util --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;protobuf-java-util&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.11.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;!-- ... --&gt;\r\n```\r\nI generate message objects using:\r\n```bash\r\n#!/bin/bash\r\nSRC_DIR=../proto\r\nDST_DIR=../../../target/\r\nmkdir -p $DST_DIR\r\nprotoc -I=$SRC_DIR --java_out=$DST_DIR $SRC_DIR/college.proto\r\n```\r\n**proto file**\r\n```proto\r\nsyntax = &quot;proto3&quot;;\r\n\r\npackage my.college;\r\n\r\noption java_multiple_files = true;\r\noption java_package = &quot;com.example.demo&quot;;\r\n\r\nmessage Module {\r\n    string name = 1;\r\n    // ... other\r\n}\r\n\r\nmessage Lecture {\r\n    WeekDay weekDay = 1;\r\n    Module module = 2;\r\n    uint32 duration = 3;\r\n    // ... other\r\n\r\n    enum WeekDay {\r\n        SUNDAY = 0;\r\n        MONDAY = 1;\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\nI did found [simmilar issue](https://stackoverflow.com/questions/58136430/problem-returning-stream-of-responses-from-grpc-service-to-restful-client?noredirect=1#comment105924485_58136430) but it had no solution.","title":"Geting list of protobuf message objects from the SpringBoot","body":"<p>I want to get a list of protobuf message objects from the Spring boot app.<br>\nI did manage to get a single protobuf message object from the app but getting a list of them throws exception.  </p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>...\n2020-01-24 14:57:02.359 ERROR 15883 --- [nio-8081-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class com.google.protobuf.UnknownFieldSet$Parser]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class com.google.protobuf.UnknownFieldSet$Parser and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ImmutableCollections$ListN[0]-&gt;com.example.demo.Lecture[\"unknownFields\"]-&gt;com.google.protobuf.UnknownFieldSet[\"parserForType\"])] with root cause\n\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class com.google.protobuf.UnknownFieldSet$Parser and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ImmutableCollections$ListN[0]-&gt;com.example.demo.Lecture[\"unknownFields\"]-&gt;com.google.protobuf.UnknownFieldSet[\"parserForType\"])\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.10.2.jar:2.10.2]\n...\n</code></pre>\n\n<p>My code (simplified).</p>\n\n<h3>tl;dr</h3>\n\n<ul>\n<li><strong>create Spring boot app</strong></li>\n<li><strong>generate class from <code>proto</code> file</strong></li>\n<li><strong>try return <code>List</code> of generated class objects (RESTful)</strong>  </li>\n</ul>\n\n<p>My code (simplified).<br>\n<strong>Controler</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.extern.slf4j.Slf4j;\nimport org.springframework.web.bind.annotation.*;\nimport java.util.List;\n\n@Slf4j\n@org.springframework.web.bind.annotation.RestController\n@RequestMapping(\"/timetable\")\npublic class RestController {\n\n    @PostMapping(\"/single\")      // Works\n    private Lecture getLecture(@RequestBody Lecture lecture) {\n        log.info(\"Single2 got: {}\", lecture);\n        return Lecture.newBuilder(lecture)\n                .setDuration(lecture.getDuration() +1)\n                .build();\n    }\n\n    @GetMapping(\"/list\")       // Does not work\n    private @ResponseBody List&lt;Lecture&gt; getLectures() {\n        return List.of(\n                Lecture.newBuilder()\n                        .setDuration(1)\n                        .setWeekDay(Lecture.WeekDay.MONDAY)\n                        .setModule(Module.newBuilder().setName(\"Math1\").build())\n                        .build()\n                // ... \n        );\n    }\n}\n</code></pre>\n\n<p><strong>App</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Primary;\nimport org.springframework.http.converter.protobuf.ProtobufHttpMessageConverter;\nimport org.springframework.http.converter.protobuf.ProtobufJsonFormatHttpMessageConverter;\n\n@SpringBootApplication\npublic class DemoApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @Bean\n    @Primary\n    ProtobufHttpMessageConverter protobufHttpMessageConverter() {\n        return new ProtobufJsonFormatHttpMessageConverter();\n    }\n}\n</code></pre>\n\n<p><strong>pom.xml</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- ... --&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;!--        https://dzone.com/articles/exposing-microservices-over-rest-protocol-buffers--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n            &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\n            &lt;version&gt;3.11.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.protobuf-java-format&lt;/groupId&gt;\n            &lt;artifactId&gt;protobuf-java-format&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.google.protobuf/protobuf-java-util --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n            &lt;artifactId&gt;protobuf-java-util&lt;/artifactId&gt;\n            &lt;version&gt;3.11.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;!-- ... --&gt;\n</code></pre>\n\n<p>I generate message objects using:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>#!/bin/bash\nSRC_DIR=../proto\nDST_DIR=../../../target/\nmkdir -p $DST_DIR\nprotoc -I=$SRC_DIR --java_out=$DST_DIR $SRC_DIR/college.proto\n</code></pre>\n\n<p><strong>proto file</strong></p>\n\n<pre class=\"lang-proto prettyprint-override\"><code>syntax = \"proto3\";\n\npackage my.college;\n\noption java_multiple_files = true;\noption java_package = \"com.example.demo\";\n\nmessage Module {\n    string name = 1;\n    // ... other\n}\n\nmessage Lecture {\n    WeekDay weekDay = 1;\n    Module module = 2;\n    uint32 duration = 3;\n    // ... other\n\n    enum WeekDay {\n        SUNDAY = 0;\n        MONDAY = 1;\n        // ...\n    }\n}\n</code></pre>\n\n<p>I did found <a href=\"https://stackoverflow.com/questions/58136430/problem-returning-stream-of-responses-from-grpc-service-to-restful-client?noredirect=1#comment105924485_58136430\">simmilar issue</a> but it had no solution.</p>\n"},{"tags":["java",".net","lombok"],"comments":[{"owner":{"account_id":100168,"reputation":2211,"user_id":270157,"display_name":"Goibniu"},"score":1,"creation_date":1287408897,"post_id":3959646,"comment_id":4231954,"body_markdown":"Doesn&#39;t .Net already have properties?","body":"Doesn&#39;t .Net already have properties?"},{"owner":{"account_id":17369,"reputation":10917,"user_id":38807,"accept_rate":93,"display_name":"suhair"},"score":0,"creation_date":1287409032,"post_id":3959646,"comment_id":4231979,"body_markdown":"@Rlmeq yes but see this example http://projectlombok.org/features/Data.html. It almost looks like magic with a single attribute","body":"@Rlmeq yes but see this example <a href=\"http://projectlombok.org/features/Data.html\" rel=\"nofollow noreferrer\">projectlombok.org/features/Data.html</a>. It almost looks like magic with a single attribute"}],"answers":[{"tags":[],"owner":{"account_id":9226,"reputation":30024,"user_id":16959,"accept_rate":89,"display_name":"Jason Sperske"},"down_vote_count":4,"up_vote_count":10,"is_accepted":true,"score":6,"last_activity_date":1292271558,"creation_date":1291942886,"answer_id":4404717,"question_id":3959646,"body_markdown":"Well in Lombok a Java class might look like this\r\n\r\n    import lombok.Data;\r\n    \r\n    @Data public class Cart {\r\n      private int id;\r\n      private DateTime created;\r\n      private int items;\r\n      private int status;\r\n    }\r\n\r\nWhile in C# the same class would look like this\r\n\r\n    public class Cart {\r\n      public int Id { get; set; }\r\n      public DateTime Created { get; set; }\r\n      public int Items { get; set; }\r\n      public int Status { get; set; }\r\n    }\r\n\r\nSo C# (3.0 in this example) gets rather close without any other libraries, but as you start adding &quot;final&quot; to some properties the magic &quot;auto constructor&quot; part of Lombok really shines.  As for a .Net alternative, as I understand it the .Net annotations don&#39;t provide the ability to intercept the byte code before it goes to the compiler (what Lombok uses to such great effect), so your options are limited to some template system + a build script like nAnt.  This would be a mess to maintain.","title":"How project Lombok in java works and is that possible in .net using attributes?","body":"<p>Well in Lombok a Java class might look like this</p>\n\n<pre><code>import lombok.Data;\n\n@Data public class Cart {\n  private int id;\n  private DateTime created;\n  private int items;\n  private int status;\n}\n</code></pre>\n\n<p>While in C# the same class would look like this</p>\n\n<pre><code>public class Cart {\n  public int Id { get; set; }\n  public DateTime Created { get; set; }\n  public int Items { get; set; }\n  public int Status { get; set; }\n}\n</code></pre>\n\n<p>So C# (3.0 in this example) gets rather close without any other libraries, but as you start adding \"final\" to some properties the magic \"auto constructor\" part of Lombok really shines.  As for a .Net alternative, as I understand it the .Net annotations don't provide the ability to intercept the byte code before it goes to the compiler (what Lombok uses to such great effect), so your options are limited to some template system + a build script like nAnt.  This would be a mess to maintain.</p>\n"},{"tags":[],"owner":{"account_id":5562424,"reputation":1023,"user_id":4411047,"display_name":"Roland Roos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584361543,"creation_date":1584361543,"answer_id":60706008,"question_id":3959646,"body_markdown":"I would say:\r\n\r\n    public class Cart {\r\n       public int Id { get; set; }\r\n       public DateTime Created { get; set; }\r\n       public int Items { get; set; }\r\n       public int Status { get; set; }\r\n    }\r\n    var cart = new Cart\r\n    {\r\n       Id = 10,\r\n       DateTime = DateTimeNow,\r\n       ....\r\n    };\r\nDont need any builder per se. Just use c# object initializer? That said, it does not hide any implementation stuff. So if you would like to put some &quot;factoring&quot; of more complex init data to your init, you can hide that in the builder, but not directly in the object initializer. You must put that somewhere in the getter, or a helper class. The Lombok java generator does not either by the way.\r\nAnd the object initializer does not do any fluent stuff either, like .id(..).name() etc.","title":"How project Lombok in java works and is that possible in .net using attributes?","body":"<p>I would say:</p>\n\n<pre><code>public class Cart {\n   public int Id { get; set; }\n   public DateTime Created { get; set; }\n   public int Items { get; set; }\n   public int Status { get; set; }\n}\nvar cart = new Cart\n{\n   Id = 10,\n   DateTime = DateTimeNow,\n   ....\n};\n</code></pre>\n\n<p>Dont need any builder per se. Just use c# object initializer? That said, it does not hide any implementation stuff. So if you would like to put some \"factoring\" of more complex init data to your init, you can hide that in the builder, but not directly in the object initializer. You must put that somewhere in the getter, or a helper class. The Lombok java generator does not either by the way.\nAnd the object initializer does not do any fluent stuff either, like .id(..).name() etc.</p>\n"},{"tags":[],"owner":{"account_id":6589809,"reputation":485,"user_id":5091431,"accept_rate":33,"display_name":"Collin Alpert"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1636484416,"creation_date":1636484416,"answer_id":69903633,"question_id":3959646,"body_markdown":"Now there is a .NET port! Check out [Lombok.NET](https://github.com/CollinAlpert/Lombok.NET).\r\n\r\nDisclaimer: I am the author of this library.","title":"How project Lombok in java works and is that possible in .net using attributes?","body":"<p>Now there is a .NET port! Check out <a href=\"https://github.com/CollinAlpert/Lombok.NET\" rel=\"noreferrer\">Lombok.NET</a>.</p>\n<p>Disclaimer: I am the author of this library.</p>\n"}],"owner":{"account_id":17369,"reputation":10917,"user_id":38807,"accept_rate":93,"display_name":"suhair"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14222,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":4404717,"answer_count":3,"score":21,"last_activity_date":1636484416,"creation_date":1287408663,"question_id":3959646,"body_markdown":"Project [Lombok][1] makes it trivial to implement the boilerplate code in the classes. Is that possible with .NET attributes? Is any .net port there? \r\n\r\n[1]: http://projectlombok.org/ ","title":"How project Lombok in java works and is that possible in .net using attributes?","body":"<p>Project <a href=\"http://projectlombok.org/\" rel=\"noreferrer\">Lombok</a> makes it trivial to implement the boilerplate code in the classes. Is that possible with .NET attributes? Is any .net port there? </p>\n"},{"tags":["java","string","mongodb","encoding"],"answers":[{"tags":[],"owner":{"account_id":2837169,"reputation":31,"user_id":2437558,"display_name":"Douglas McIlwraith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1370013711,"creation_date":1370013268,"answer_id":16860555,"question_id":16842292,"body_markdown":"Turns out it was related to this issue: https://stackoverflow.com/questions/8123986/command-fails-in-script-works-in-command-line\r\n\r\n    String query = &quot;&#39;{date : new Date(1320451200000)}&#39;&quot;;\r\n\r\nThe spaces in the query were causing some parsing issue.\r\n\r\nAlso, the single quotes are not needed. Thus the offfending code now looks like this:\r\n\r\n    String query = &quot;{date:Date(1320451200000)}&quot;;\r\n\r\nNow, if I copy the entire command into a shell it doesn&#39;t work (needs the single quotes), yet in runs through Runtime.exec(). \r\n\r\n","title":"Calling mongoexport from Java through Runtime with a query parameter (Encoding issue?)","body":"<p>Turns out it was related to this issue: <a href=\"https://stackoverflow.com/questions/8123986/command-fails-in-script-works-in-command-line\">Command fails in script, works in command line</a></p>\n\n<pre><code>String query = \"'{date : new Date(1320451200000)}'\";\n</code></pre>\n\n<p>The spaces in the query were causing some parsing issue.</p>\n\n<p>Also, the single quotes are not needed. Thus the offfending code now looks like this:</p>\n\n<pre><code>String query = \"{date:Date(1320451200000)}\";\n</code></pre>\n\n<p>Now, if I copy the entire command into a shell it doesn't work (needs the single quotes), yet in runs through Runtime.exec(). </p>\n"},{"tags":[],"owner":{"account_id":16221315,"reputation":1,"user_id":11712797,"display_name":"Gaurav Shewale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561714082,"creation_date":1561714082,"answer_id":56804328,"question_id":16842292,"body_markdown":"        String db = &quot;Doctors&quot;;\r\n        String col = &quot;patients&quot;;\r\n        String Host = &quot;localhost&quot;;\r\n        String Port = &quot;27017&quot;;\r\n        String fileName = &quot;/home/gshewale/Documents/list.csv&quot;;\r\n        String name=&quot;\\&quot;name\\&quot;&quot;;\r\n\t\tString patientname=&quot;\\&quot;Gaurav\\&quot;&quot;;\r\n\r\n    String command = &quot;mongoexport --host &quot; + Host + &quot; --port &quot; + Port + &quot; --db &quot; + db + &quot; --collection &quot; + col + &quot; --type=csv --fields name --query {&quot;+name+&quot;:&quot;+patientname+&quot;} --out &quot; + fileName + &quot;&quot;;\r\n\r\n    try {\r\n        System.out.println(command);\r\n        Process process = Runtime.getRuntime().exec(command);\r\n        int waitFor = process.waitFor();\r\n        System.out.println(&quot;waitFor:: &quot; + waitFor);\r\n\r\n       \r\n\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n\t\r\n\t}\r\n\r\n\r\n\r\nthis works for me..!!!!","title":"Calling mongoexport from Java through Runtime with a query parameter (Encoding issue?)","body":"<pre><code>    String db = \"Doctors\";\n    String col = \"patients\";\n    String Host = \"localhost\";\n    String Port = \"27017\";\n    String fileName = \"/home/gshewale/Documents/list.csv\";\n    String name=\"\\\"name\\\"\";\n    String patientname=\"\\\"Gaurav\\\"\";\n\nString command = \"mongoexport --host \" + Host + \" --port \" + Port + \" --db \" + db + \" --collection \" + col + \" --type=csv --fields name --query {\"+name+\":\"+patientname+\"} --out \" + fileName + \"\";\n\ntry {\n    System.out.println(command);\n    Process process = Runtime.getRuntime().exec(command);\n    int waitFor = process.waitFor();\n    System.out.println(\"waitFor:: \" + waitFor);\n\n\n\n} catch (Exception e) {\n    e.printStackTrace();\n\n}\n</code></pre>\n\n<p>this works for me..!!!!</p>\n"}],"owner":{"account_id":2837169,"reputation":31,"user_id":2437558,"display_name":"Douglas McIlwraith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2028,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1636483583,"creation_date":1369934434,"question_id":16842292,"body_markdown":"I&#39;ve recently come across this issue and wondered if anybody could help me shed some light on it.\r\n\r\nI&#39;m trying to perform a mongoexport from a Java application, with the export restricted to a particular date range. I&#39;ve constructed my query command, and passed this to Runtime.exec. This returns with a code 2, saying &quot;too many positional options&quot;.\r\n\r\nHowever, if I take the string which was passed to exec (logged out below), and run it on the command line, it works perfectly!\r\n\r\nI&#39;ve narrowed this down to the &quot;query&quot; parameter -- if I don&#39;t construct the command with this, the command will be executed perfectly through Runtime.exec()\r\n\r\nI&#39;m guessing its some encoding issue to do with the quotes in the query parameter, but I can&#39;t for the life of me figure out how to fix it.\r\n\r\nHere&#39;s the code:\r\n\r\n    @Override\r\n    public void doWork() { \r\n\t\tlogger.info(&quot;Doing work&quot;);\r\n\t\t\r\n\t\t//get the host for performing the mongo dump\r\n\t\tString mongohome = GlimmerServer.config.getString(&quot;mongo.home&quot;);\r\n\t\tString host = GlimmerServer.config.getString(&quot;mongo.dumphost&quot;);\r\n\t\tString port = GlimmerServer.config.getString(&quot;mongo.dumpport&quot;);\r\n\t\tString db = GlimmerServer.config.getString(&quot;mongo.dumpdb&quot;);\r\n\t\tString collection = &quot;stats_advert_daily&quot;;\r\n\t\tString query = &quot;&#39;{date : new Date(1320451200000)}&#39;&quot;; //needs to be a proper query for mongo\r\n\t\tString outputlocation = &quot;/tmp/output.txt&quot;; //needs to be asigned a random number name\t\t\r\n\t\t\r\n\t\tString command = String.format(mongohome+&quot;/bin/mongoexport &quot; +\r\n\t\t\t\t&quot;--host %s &quot; +\r\n\t\t\t\t&quot;--port %s &quot; +\r\n\t\t\t\t&quot;--db %s &quot; +\t\t\r\n\t\t\t\t&quot;--collection %s &quot; +\t\t\t\t\r\n\t\t\t\t&quot;--query %s &quot; +\r\n\t\t\t\t&quot;--fields _id,account_rid &quot; +\t\t\t\t\r\n\t\t\t\t&quot;--out %s &quot; +\t\t\t\r\n\t\t\t\t&quot;--slaveOk true &quot; +\t\t\t\r\n\t\t\t\t&quot;--csv &quot; +\r\n\t\t\t\t&quot;-vvvvv&quot;,\r\n\t\t\t\thost,port,db,collection,query,outputlocation);\r\n\t\t\r\n\t\tlogger.info(command);\r\n\t\t\r\n\t\ttry{\t\t\t\r\n\t\t\t\tRuntime rt = Runtime.getRuntime();\t\t\t\t\r\n\t\t\t\tProcess pr = rt.exec(command);\r\n\t\t\t\tStreamGobbler errorGobbler = new StreamGobbler(pr.getErrorStream(),&quot;ERROR&quot;,logger);\r\n\t\t\t\tStreamGobbler outputGobbler = new StreamGobbler(pr.getInputStream(),&quot;OUTPUT&quot;,logger);\r\n\t\t\t\terrorGobbler.start();\r\n\t\t\t\toutputGobbler.start();\r\n\t\t\t\tint exitVal = pr.waitFor();\r\n\t\t\t\t\r\n\t\t\t\tlogger.info(String.format(&quot;Process executed with exit code %d&quot;,exitVal));\r\n\t\t\t\t\t\t\t\t\r\n\t\t}catch(Exception e){\r\n\t\t\tlogger.error(String.format(&quot;Error running task. Exception %s&quot;, e.toString()));\r\n\t\t}\t\t\r\n\t\t\t\t\r\n\t}\r\n\r\nAll help appreciated!\r\n\r\nCheers,\r\nDoug","title":"Calling mongoexport from Java through Runtime with a query parameter (Encoding issue?)","body":"<p>I've recently come across this issue and wondered if anybody could help me shed some light on it.</p>\n\n<p>I'm trying to perform a mongoexport from a Java application, with the export restricted to a particular date range. I've constructed my query command, and passed this to Runtime.exec. This returns with a code 2, saying \"too many positional options\".</p>\n\n<p>However, if I take the string which was passed to exec (logged out below), and run it on the command line, it works perfectly!</p>\n\n<p>I've narrowed this down to the \"query\" parameter -- if I don't construct the command with this, the command will be executed perfectly through Runtime.exec()</p>\n\n<p>I'm guessing its some encoding issue to do with the quotes in the query parameter, but I can't for the life of me figure out how to fix it.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>@Override\npublic void doWork() { \n    logger.info(\"Doing work\");\n\n    //get the host for performing the mongo dump\n    String mongohome = GlimmerServer.config.getString(\"mongo.home\");\n    String host = GlimmerServer.config.getString(\"mongo.dumphost\");\n    String port = GlimmerServer.config.getString(\"mongo.dumpport\");\n    String db = GlimmerServer.config.getString(\"mongo.dumpdb\");\n    String collection = \"stats_advert_daily\";\n    String query = \"'{date : new Date(1320451200000)}'\"; //needs to be a proper query for mongo\n    String outputlocation = \"/tmp/output.txt\"; //needs to be asigned a random number name       \n\n    String command = String.format(mongohome+\"/bin/mongoexport \" +\n            \"--host %s \" +\n            \"--port %s \" +\n            \"--db %s \" +        \n            \"--collection %s \" +                \n            \"--query %s \" +\n            \"--fields _id,account_rid \" +               \n            \"--out %s \" +           \n            \"--slaveOk true \" +         \n            \"--csv \" +\n            \"-vvvvv\",\n            host,port,db,collection,query,outputlocation);\n\n    logger.info(command);\n\n    try{            \n            Runtime rt = Runtime.getRuntime();              \n            Process pr = rt.exec(command);\n            StreamGobbler errorGobbler = new StreamGobbler(pr.getErrorStream(),\"ERROR\",logger);\n            StreamGobbler outputGobbler = new StreamGobbler(pr.getInputStream(),\"OUTPUT\",logger);\n            errorGobbler.start();\n            outputGobbler.start();\n            int exitVal = pr.waitFor();\n\n            logger.info(String.format(\"Process executed with exit code %d\",exitVal));\n\n    }catch(Exception e){\n        logger.error(String.format(\"Error running task. Exception %s\", e.toString()));\n    }       \n\n}\n</code></pre>\n\n<p>All help appreciated!</p>\n\n<p>Cheers,\nDoug</p>\n"},{"tags":["java","functional-programming","vavr"],"answers":[{"tags":[],"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1636479906,"creation_date":1636479906,"answer_id":69902744,"question_id":69902463,"body_markdown":"&gt; In Java, a method signature is part of the method declaration. It&#39;s the combination of the method name and the parameter list.\r\n\r\nhttps://www.thoughtco.com/method-signature-2034235","title":"how to fix the second parameter of a function with vavr?","body":"<blockquote>\n<p>In Java, a method signature is part of the method declaration. It's the combination of the method name and the parameter list.</p>\n</blockquote>\n<p><a href=\"https://www.thoughtco.com/method-signature-2034235\" rel=\"nofollow noreferrer\">https://www.thoughtco.com/method-signature-2034235</a></p>\n"},{"tags":[],"owner":{"account_id":2853075,"reputation":7038,"user_id":2699901,"display_name":"N&#225;ndor Előd Fekete"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1636483325,"creation_date":1636483325,"answer_id":69903441,"question_id":69902463,"body_markdown":"There&#39;s no utility function built into vavr that does a partial application of the second argument. The available utility functions only do partial application for the first argument.\r\n\r\nYou can easily do the partial application yourself, but you&#39;ll need to do that within your own codebase.\r\n\r\n    static &lt;T1, T2, R&gt; Function1&lt;T1, R&gt; partialApply2(Function2&lt;T1, T2, R&gt; f, T2 p2) {\r\n        return p1 -&gt; f.apply(p1, p2);\r\n    }\r\n","title":"how to fix the second parameter of a function with vavr?","body":"<p>There's no utility function built into vavr that does a partial application of the second argument. The available utility functions only do partial application for the first argument.</p>\n<p>You can easily do the partial application yourself, but you'll need to do that within your own codebase.</p>\n<pre><code>static &lt;T1, T2, R&gt; Function1&lt;T1, R&gt; partialApply2(Function2&lt;T1, T2, R&gt; f, T2 p2) {\n    return p1 -&gt; f.apply(p1, p2);\n}\n</code></pre>\n"}],"owner":{"account_id":15494779,"reputation":1291,"user_id":12824504,"display_name":"haoyu wang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69903441,"answer_count":2,"score":3,"last_activity_date":1636483325,"creation_date":1636478582,"question_id":69902463,"body_markdown":"Suppose I have a function which takes two parameter.\r\n\r\n```\r\nFunction2&lt;T1,T2,R&gt; function;\r\n```\r\n\r\nI want to fix the second parameter and makes it a `Function1&lt;T1,R&gt;`.\r\n\r\nWith `Function2.apply(T1 t)`, I can only fix the first parameter, is there a way to fix the second parameter?","title":"how to fix the second parameter of a function with vavr?","body":"<p>Suppose I have a function which takes two parameter.</p>\n<pre><code>Function2&lt;T1,T2,R&gt; function;\n</code></pre>\n<p>I want to fix the second parameter and makes it a <code>Function1&lt;T1,R&gt;</code>.</p>\n<p>With <code>Function2.apply(T1 t)</code>, I can only fix the first parameter, is there a way to fix the second parameter?</p>\n"},{"tags":["java","mysql","spring-boot","rest","jpa"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1636553547,"post_id":69903413,"comment_id":123587782,"body_markdown":"When do you get this exception? During Test with @DataJpaTest?","body":"When do you get this exception? During Test with @DataJpaTest?"},{"owner":{"account_id":22305597,"reputation":111,"user_id":16530311,"display_name":"Chinedu"},"score":0,"creation_date":1636818526,"post_id":69903413,"comment_id":123661239,"body_markdown":"No, not during a test. However, I&#39;ve discovered the issue with my code - I should&#39;ve removed a persistent bean I autowired in one of my service&#39;s constructor because it wasn&#39;t part of or defined in my multiple datasource configuration.","body":"No, not during a test. However, I&#39;ve discovered the issue with my code - I should&#39;ve removed a persistent bean I autowired in one of my service&#39;s constructor because it wasn&#39;t part of or defined in my multiple datasource configuration."}],"owner":{"account_id":22305597,"reputation":111,"user_id":16530311,"display_name":"Chinedu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636483130,"creation_date":1636483130,"question_id":69903413,"body_markdown":"My spring boot project has two datasource configurations for the databases `Akademiks &amp; Options`, but if I run the code, I would get the exception `Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.` However, when I removed the configuration for the options database from the application.properties, it worked well\r\n\r\napplication.properties:\r\n\r\n    spring.datasource.akademiks.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.datasource.akademiks.url=jdbc:mysql://localhost:3306/akademiks?useSSL=false&amp;useUnicode=yes&amp;characterEncoding=UTF-8&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=UTC\r\n    spring.datasource.akademiks.username=root\r\n    spring.datasource.akademiks.password=root\r\n    \r\n    \r\n    spring.datasource.options.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.datasource.options.url=jdbc:mysql://localhost:3306/akademiksoptions?useSSL=false&amp;useUnicode=yes&amp;characterEncoding=UTF-8&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=UTC\r\n    spring.datasource.options.username=root\r\n    spring.datasource.options.password=root\r\n    \r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\r\n    spring.jpa.database = mysql\r\n\r\nAkademiksDbConfig.java:\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(basePackages = &quot;com.example.resource.akademiks.dao&quot;,\r\n     entityManagerFactoryRef = &quot;akademiksEntityManagerFactory&quot;,\r\n     transactionManagerRef = &quot;akademiksTransactionManager&quot;)\r\n    public class AkademiksDbConfig {\r\n    \t\r\n    \t@Bean\r\n    \t@Primary\r\n    \t@ConfigurationProperties(&quot;spring.datasource.akademiks&quot;)\r\n    \tpublic DataSourceProperties akademiksDataSourceProperties() {\r\n    \t\t\r\n    \t\treturn new DataSourceProperties();\r\n    \t}\r\n    \t\r\n    \t@Primary\r\n    \t@Bean\r\n    \t@ConfigurationProperties(&quot;spring.datasource.akademiks.configuration&quot;)\r\n    \tpublic DataSource akademiksDataSource() {\r\n    \t\t\r\n    \t\treturn akademiksDataSourceProperties().initializeDataSourceBuilder()\r\n    \t\t\t\t.type(HikariDataSource.class).build();\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \t@Primary\r\n    \t@Bean(name = &quot;akademiksEntityManagerFactory&quot;)\r\n    \tpublic LocalContainerEntityManagerFactoryBean \r\n    \takademiksEntityManagerFactory(EntityManagerFactoryBuilder builder) {\r\n    \t\t\r\n    \t\treturn builder\r\n    \t\t\t\t.dataSource(akademiksDataSource())\r\n    \t\t\t\t.packages(Mathematics.class)\r\n    \t\t\t\t.packages(Chemistry.class)\r\n    \t\t\t\t.packages(Physics.class)\r\n    \t\t\t\t.build();\r\n    \t\t\t\t\r\n    \t}\r\n    \t\r\n    \t@Primary\r\n    \t@Bean\r\n    \tpublic PlatformTransactionManager akademiksTransactionManager(\r\n    \t\t\t@Qualifier(&quot;akademiksEntityManagerFactory&quot;)\r\n    \t\t\tLocalContainerEntityManagerFactoryBean akademiksEntityManagerFactory\r\n    \t\t\t) {\r\n    \t\treturn new JpaTransactionManager(akademiksEntityManagerFactory.getObject());\r\n    \t}\r\n    \t\r\n    }\r\n\r\nOptionsDbConfig.java:\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(basePackages = &quot;com.example.resource.akademiks.options.dao&quot;,\r\n     entityManagerFactoryRef = &quot;optionsEntityManagerFactory&quot;,\r\n     transactionManagerRef = &quot;optionsTransactionManager&quot;)\r\n    public class OptionsDbConfig {\r\n    \t\r\n    \t\r\n    \t@Bean\r\n    \t@ConfigurationProperties(&quot;spring.datasource.options.configuration&quot;)\r\n    \tpublic DataSourceProperties optionsDataSourceProperties() {\r\n    \t\t\r\n    \t\treturn new DataSourceProperties();\r\n    \t}\r\n    \t\r\n    \t\r\n    \t@Bean\r\n    \t@ConfigurationProperties(&quot;spring.datasource.options.configuration&quot;)\r\n    \tpublic DataSource optionsDataSource() {\r\n    \t\t\r\n    \t\treturn optionsDataSourceProperties().initializeDataSourceBuilder()\r\n    \t\t\t\t.type(BasicDataSource.class).build();\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t@Bean(name = &quot;optionsEntityManagerFactory&quot;)\r\n    \tpublic LocalContainerEntityManagerFactoryBean \r\n    \toptionsEntityManagerFactory(EntityManagerFactoryBuilder builder) {\r\n    \t\t\r\n    \t\treturn builder\r\n    \t\t\t\t.dataSource(optionsDataSource())\r\n    \t\t\t\t.packages(MathsOptions.class)\r\n    \t\t\t\t.packages(ChemistryOptions.class)\r\n    \t\t\t\t.packages(PhysicsOptions.class)\r\n    \t\t\t\t.build();\r\n    \t\t\t\t\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic PlatformTransactionManager optionsTransactionManager(\r\n    \t\t\tfinal @Qualifier(&quot;optionsEntityManagerFactory&quot;)\r\n    \t\t\tLocalContainerEntityManagerFactoryBean optionsEntityManagerFactory\r\n    \t\t\t) {\r\n    \t\treturn new JpaTransactionManager(optionsEntityManagerFactory.getObject());\r\n    \t}\r\n    \t\r\n    }\r\n\r\npom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.5.5&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example.resource&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;akademiks&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;akademiks&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"Spring boot - multiple datasource failed to configure datasource url","body":"<p>My spring boot project has two datasource configurations for the databases <code>Akademiks &amp; Options</code>, but if I run the code, I would get the exception <code>Failed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.</code> However, when I removed the configuration for the options database from the application.properties, it worked well</p>\n<p>application.properties:</p>\n<pre><code>spring.datasource.akademiks.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.akademiks.url=jdbc:mysql://localhost:3306/akademiks?useSSL=false&amp;useUnicode=yes&amp;characterEncoding=UTF-8&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=UTC\nspring.datasource.akademiks.username=root\nspring.datasource.akademiks.password=root\n\n\nspring.datasource.options.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.options.url=jdbc:mysql://localhost:3306/akademiksoptions?useSSL=false&amp;useUnicode=yes&amp;characterEncoding=UTF-8&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=UTC\nspring.datasource.options.username=root\nspring.datasource.options.password=root\n\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\nspring.jpa.database = mysql\n</code></pre>\n<p>AkademiksDbConfig.java:</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(basePackages = &quot;com.example.resource.akademiks.dao&quot;,\n entityManagerFactoryRef = &quot;akademiksEntityManagerFactory&quot;,\n transactionManagerRef = &quot;akademiksTransactionManager&quot;)\npublic class AkademiksDbConfig {\n    \n    @Bean\n    @Primary\n    @ConfigurationProperties(&quot;spring.datasource.akademiks&quot;)\n    public DataSourceProperties akademiksDataSourceProperties() {\n        \n        return new DataSourceProperties();\n    }\n    \n    @Primary\n    @Bean\n    @ConfigurationProperties(&quot;spring.datasource.akademiks.configuration&quot;)\n    public DataSource akademiksDataSource() {\n        \n        return akademiksDataSourceProperties().initializeDataSourceBuilder()\n                .type(HikariDataSource.class).build();\n        \n    }\n    \n    \n    @Primary\n    @Bean(name = &quot;akademiksEntityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean \n    akademiksEntityManagerFactory(EntityManagerFactoryBuilder builder) {\n        \n        return builder\n                .dataSource(akademiksDataSource())\n                .packages(Mathematics.class)\n                .packages(Chemistry.class)\n                .packages(Physics.class)\n                .build();\n                \n    }\n    \n    @Primary\n    @Bean\n    public PlatformTransactionManager akademiksTransactionManager(\n            @Qualifier(&quot;akademiksEntityManagerFactory&quot;)\n            LocalContainerEntityManagerFactoryBean akademiksEntityManagerFactory\n            ) {\n        return new JpaTransactionManager(akademiksEntityManagerFactory.getObject());\n    }\n    \n}\n</code></pre>\n<p>OptionsDbConfig.java:</p>\n<pre><code>@Configuration\n@EnableJpaRepositories(basePackages = &quot;com.example.resource.akademiks.options.dao&quot;,\n entityManagerFactoryRef = &quot;optionsEntityManagerFactory&quot;,\n transactionManagerRef = &quot;optionsTransactionManager&quot;)\npublic class OptionsDbConfig {\n    \n    \n    @Bean\n    @ConfigurationProperties(&quot;spring.datasource.options.configuration&quot;)\n    public DataSourceProperties optionsDataSourceProperties() {\n        \n        return new DataSourceProperties();\n    }\n    \n    \n    @Bean\n    @ConfigurationProperties(&quot;spring.datasource.options.configuration&quot;)\n    public DataSource optionsDataSource() {\n        \n        return optionsDataSourceProperties().initializeDataSourceBuilder()\n                .type(BasicDataSource.class).build();\n        \n    }\n    \n    @Bean(name = &quot;optionsEntityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean \n    optionsEntityManagerFactory(EntityManagerFactoryBuilder builder) {\n        \n        return builder\n                .dataSource(optionsDataSource())\n                .packages(MathsOptions.class)\n                .packages(ChemistryOptions.class)\n                .packages(PhysicsOptions.class)\n                .build();\n                \n    }\n    \n    @Bean\n    public PlatformTransactionManager optionsTransactionManager(\n            final @Qualifier(&quot;optionsEntityManagerFactory&quot;)\n            LocalContainerEntityManagerFactoryBean optionsEntityManagerFactory\n            ) {\n        return new JpaTransactionManager(optionsEntityManagerFactory.getObject());\n    }\n    \n}\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example.resource&lt;/groupId&gt;\n    &lt;artifactId&gt;akademiks&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;akademiks&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","enums","skeleton-code"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":2,"creation_date":1636483260,"post_id":69903221,"comment_id":123567676,"body_markdown":"Seems like `SkyCondition` was intended to be a bunch of old-style `int` constants in some class. But for a typical Java implementation, your code should be enough, as mentioned in Alex Rudenko&#39;s answer below. The only exception would be if your `int` values have to be set to specific, non-default, values.","body":"Seems like <code>SkyCondition</code> was intended to be a bunch of old-style <code>int</code> constants in some class. But for a typical Java implementation, your code should be enough, as mentioned in Alex Rudenko&#39;s answer below. The only exception would be if your <code>int</code> values have to be set to specific, non-default, values."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1636482714,"creation_date":1636482714,"answer_id":69903316,"question_id":69903221,"body_markdown":"Every [`enum`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Enum.html) includes two properties by default:\r\n```\r\npublic final String name(); // name like SUNNY, SNOWY, CLOUDY, RAINY\r\npublic final int ordinal(); // the position in enum declaration: 0 - for SUNNY, 1 - SNOWY, etc.\r\n``` \r\nso, `int` is already incorporated into `enum`.","title":"Enum Skeleton Table","body":"<p>Every <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Enum.html\" rel=\"nofollow noreferrer\"><code>enum</code></a> includes two properties by default:</p>\n<pre><code>public final String name(); // name like SUNNY, SNOWY, CLOUDY, RAINY\npublic final int ordinal(); // the position in enum declaration: 0 - for SUNNY, 1 - SNOWY, etc.\n</code></pre>\n<p>so, <code>int</code> is already incorporated into <code>enum</code>.</p>\n"}],"owner":{"account_id":16975603,"reputation":5,"user_id":12279057,"display_name":"Proppsicle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69903316,"answer_count":1,"score":0,"last_activity_date":1636483128,"creation_date":1636482265,"question_id":69903221,"body_markdown":"Hello I&#39;m just wondering if there is anyone that could make sense of this java skeleton code table for an enum class. \r\nTable:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMy code currently is this:\r\n\r\n    public enum SkyCondition\r\n    {\r\n    \tSUNNY,\r\n    \tSNOWY,\r\n    \tCLOUDY,\r\n    \tRAINY\r\n    }\r\n\r\nIs that it? or am I supposed to incorporate the `int` in some way?\r\nThank you.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RoZB4.jpg","title":"Enum Skeleton Table","body":"<p>Hello I'm just wondering if there is anyone that could make sense of this java skeleton code table for an enum class.\nTable:</p>\n<p><a href=\"https://i.stack.imgur.com/RoZB4.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RoZB4.jpg\" alt=\"enter image description here\" /></a></p>\n<p>My code currently is this:</p>\n<pre><code>public enum SkyCondition\n{\n    SUNNY,\n    SNOWY,\n    CLOUDY,\n    RAINY\n}\n</code></pre>\n<p>Is that it? or am I supposed to incorporate the <code>int</code> in some way?\nThank you.</p>\n"},{"tags":["java","linux","shell","runtime","bufferedreader"],"comments":[{"owner":{"account_id":1504327,"reputation":2424,"user_id":1408096,"accept_rate":69,"display_name":"xhudik"},"score":0,"creation_date":1360149602,"post_id":14727579,"comment_id":20604110,"body_markdown":"good question, but pretty hard. It has to do with IO blocking which is always pain. However, there is library called akka (http://akka.io/) which claims to overcome such IO blocking problems. I&#39;ve started to learn it, and I had to admit it has its limitations as well ...","body":"good question, but pretty hard. It has to do with IO blocking which is always pain. However, there is library called akka (<a href=\"http://akka.io/\" rel=\"nofollow noreferrer\">akka.io</a>) which claims to overcome such IO blocking problems. I&#39;ve started to learn it, and I had to admit it has its limitations as well ..."},{"owner":{"account_id":251932,"reputation":37692,"user_id":529630,"accept_rate":86,"display_name":"Dunes"},"score":0,"creation_date":1360151384,"post_id":14727579,"comment_id":20604988,"body_markdown":"Are you sure that the script is printing to stdout rather than stderr?","body":"Are you sure that the script is printing to stdout rather than stderr?"},{"owner":{"account_id":1448148,"reputation":14121,"user_id":1365960,"accept_rate":65,"display_name":"StarPinkER"},"score":0,"creation_date":1360219352,"post_id":14727579,"comment_id":20634097,"body_markdown":"Is there anything returned from process.getErrorStream()?","body":"Is there anything returned from process.getErrorStream()?"}],"answers":[{"tags":[],"owner":{"account_id":1604367,"reputation":15578,"user_id":1484739,"display_name":"TheWhiteRabbit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360149973,"creation_date":1360149659,"answer_id":14727810,"question_id":14727579,"body_markdown":"Possible problem is by the time you obtain inputStram the sub-process is not ready\r\n\r\nTry\r\n\r\n    Process process = Runtime.getRuntime().exec(&quot;bash /home/abhishek/workspace/Pro/run&quot;);\r\n    InputStream isout = process.getInputStream();    \r\n    process.waitFor()\r\n    \r\n   ","title":"Java Process cannot get the InputStream through Runtime.getRunTime().exec()","body":"<p>Possible problem is by the time you obtain inputStram the sub-process is not ready</p>\n\n<p>Try</p>\n\n<pre><code>Process process = Runtime.getRuntime().exec(\"bash /home/abhishek/workspace/Pro/run\");\nInputStream isout = process.getInputStream();    \nprocess.waitFor()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360149692,"creation_date":1360149692,"answer_id":14727821,"question_id":14727579,"body_markdown":"Edit you `/home/abhishek/workspace/Pro/run` if it is a shell and add the following line on top.\r\n\r\n    #!/usr/bin/bash\r\n\r\nand give required execute permissions to `/home/abhishek/workspace/Pro/run`.\r\n\r\nThen use the following line \r\n\r\n    Process process = Runtime.getRuntime().exec(&quot;/home/abhishek/workspace/Pro/run&quot;);\r\n\r\nNow if the run program prints anything you should see it in the output.\r\n\r\n\r\n","title":"Java Process cannot get the InputStream through Runtime.getRunTime().exec()","body":"<p>Edit you <code>/home/abhishek/workspace/Pro/run</code> if it is a shell and add the following line on top.</p>\n\n<pre><code>#!/usr/bin/bash\n</code></pre>\n\n<p>and give required execute permissions to <code>/home/abhishek/workspace/Pro/run</code>.</p>\n\n<p>Then use the following line </p>\n\n<pre><code>Process process = Runtime.getRuntime().exec(\"/home/abhishek/workspace/Pro/run\");\n</code></pre>\n\n<p>Now if the run program prints anything you should see it in the output.</p>\n"},{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360149847,"creation_date":1360149847,"answer_id":14727881,"question_id":14727579,"body_markdown":"Your code looks fine. So, I believe that problem is either in command line you are using (`bash /home/abhishek/workspace/Pro/run`) or in your script itself. \r\n\r\nI&#39;d suggest you to perform the following steps:\r\n\r\n 1. try to run some well-known command instead of your script. For example `pwd`. Check that your code that is reading from input stream works correctly. \r\n 2. Now try to simplify your script. Create script `run1` that just runs the same `pwd`. Now run this script from java and see that it is working. BTW you do not have to run it as `bash yourscript`. You can directly run it without `bash` prefix\r\n 3. If all this works start to move from simple to your real script step-by-step. I believe you will find your mistake. Probably your script cannot start for some environment related problems.","title":"Java Process cannot get the InputStream through Runtime.getRunTime().exec()","body":"<p>Your code looks fine. So, I believe that problem is either in command line you are using (<code>bash /home/abhishek/workspace/Pro/run</code>) or in your script itself. </p>\n\n<p>I'd suggest you to perform the following steps:</p>\n\n<ol>\n<li>try to run some well-known command instead of your script. For example <code>pwd</code>. Check that your code that is reading from input stream works correctly. </li>\n<li>Now try to simplify your script. Create script <code>run1</code> that just runs the same <code>pwd</code>. Now run this script from java and see that it is working. BTW you do not have to run it as <code>bash yourscript</code>. You can directly run it without <code>bash</code> prefix</li>\n<li>If all this works start to move from simple to your real script step-by-step. I believe you will find your mistake. Probably your script cannot start for some environment related problems.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1819725,"reputation":585,"user_id":1654035,"accept_rate":57,"display_name":"Tirthankar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360151010,"creation_date":1360151010,"answer_id":14728230,"question_id":14727579,"body_markdown":"Try something like this:\r\n\r\n    String[] runCommand = new String[3];\r\n    \r\n    runCommand[0] = &quot;sh&quot;;\r\n    runCommand[1] = &quot;-c&quot;;\r\n    runCommand[2] = &quot;bash /home/abhishek/workspace/Pro/run&quot;;\r\n    \r\n    Process process = runtime.exec(runCommand);\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n    String line = reader.readLine();\r\n    reader.close();","title":"Java Process cannot get the InputStream through Runtime.getRunTime().exec()","body":"<p>Try something like this:</p>\n\n<pre><code>String[] runCommand = new String[3];\n\nrunCommand[0] = \"sh\";\nrunCommand[1] = \"-c\";\nrunCommand[2] = \"bash /home/abhishek/workspace/Pro/run\";\n\nProcess process = runtime.exec(runCommand);\nBufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\nString line = reader.readLine();\nreader.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1448148,"reputation":14121,"user_id":1365960,"accept_rate":65,"display_name":"StarPinkER"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1360219675,"creation_date":1360219675,"answer_id":14745245,"question_id":14727579,"body_markdown":"I think something returned through the error stream, so you can try to check something from the **Process.getErrorStream()**. \r\n\r\nYou should also wait for the created process to prevent your main program completes before it. Use **Process.waitFor();**\r\n\r\n    public class TestMain {\r\n       private static final String BASH_CMD = &quot;bash&quot;;\r\n\r\n       private static final String PROG = &quot;/home/abhishek/workspace/Pro/run&quot;;\r\n    \r\n       private static final String[] CMD_ARRAY = { BASH_CMD , PROG };\r\n    \r\n       public static void main(String[] args) {\r\n          new Thread(new Runnable() {\r\n             public void run() {\r\n                BufferedReader reader = new BufferedReader(new InputStreamReader(\r\n                      System.in));\r\n                String command = null;\r\n                try {\r\n                   while ((command = reader.readLine()) != null) {\r\n                      System.out.println(&quot;Command Received:&quot; + command);\r\n                   }\r\n                } catch (Exception ex) {\r\n                   ex.printStackTrace();\r\n                   // failed to listening command\r\n                }\r\n    \r\n             }\r\n          }).start();\r\n          Process process = null;\r\n          try {\r\n             ProcessBuilder processBuilder = new ProcessBuilder(CMD_ARRAY);\r\n             process = processBuilder.start();\r\n             InputStream inputStream = process.getInputStream();\r\n             setUpStreamGobbler(inputStream, System.out);\r\n    \r\n             InputStream errorStream = process.getErrorStream();\r\n             setUpStreamGobbler(errorStream, System.err);\r\n    \r\n             System.out.println(&quot;never returns&quot;);\r\n             process.waitFor();\r\n          } catch (IOException e) {\r\n             throw new RuntimeException(e);\r\n          } catch (InterruptedException e) {\r\n             throw new RuntimeException(e);\r\n          }\r\n       }\r\n    \r\n       public static void setUpStreamGobbler(final InputStream is, final PrintStream ps) {\r\n          final InputStreamReader streamReader = new InputStreamReader(is);\r\n          new Thread(new Runnable() {\r\n             public void run() {\r\n                BufferedReader br = new BufferedReader(streamReader);\r\n                String line = null;\r\n                try {\r\n                   while ((line = br.readLine()) != null) {\r\n                      ps.println(&quot;process stream: &quot; + line);\r\n                   }\r\n                } catch (IOException e) {\r\n                   e.printStackTrace();\r\n                } finally {\r\n                   try {\r\n                      br.close();\r\n                   } catch (IOException e) {\r\n                      e.printStackTrace();\r\n                   }\r\n                }\r\n             }\r\n          }).start();\r\n       }\r\n    }","title":"Java Process cannot get the InputStream through Runtime.getRunTime().exec()","body":"<p>I think something returned through the error stream, so you can try to check something from the <strong>Process.getErrorStream()</strong>. </p>\n\n<p>You should also wait for the created process to prevent your main program completes before it. Use <strong>Process.waitFor();</strong></p>\n\n<pre><code>public class TestMain {\n   private static final String BASH_CMD = \"bash\";\n\n   private static final String PROG = \"/home/abhishek/workspace/Pro/run\";\n\n   private static final String[] CMD_ARRAY = { BASH_CMD , PROG };\n\n   public static void main(String[] args) {\n      new Thread(new Runnable() {\n         public void run() {\n            BufferedReader reader = new BufferedReader(new InputStreamReader(\n                  System.in));\n            String command = null;\n            try {\n               while ((command = reader.readLine()) != null) {\n                  System.out.println(\"Command Received:\" + command);\n               }\n            } catch (Exception ex) {\n               ex.printStackTrace();\n               // failed to listening command\n            }\n\n         }\n      }).start();\n      Process process = null;\n      try {\n         ProcessBuilder processBuilder = new ProcessBuilder(CMD_ARRAY);\n         process = processBuilder.start();\n         InputStream inputStream = process.getInputStream();\n         setUpStreamGobbler(inputStream, System.out);\n\n         InputStream errorStream = process.getErrorStream();\n         setUpStreamGobbler(errorStream, System.err);\n\n         System.out.println(\"never returns\");\n         process.waitFor();\n      } catch (IOException e) {\n         throw new RuntimeException(e);\n      } catch (InterruptedException e) {\n         throw new RuntimeException(e);\n      }\n   }\n\n   public static void setUpStreamGobbler(final InputStream is, final PrintStream ps) {\n      final InputStreamReader streamReader = new InputStreamReader(is);\n      new Thread(new Runnable() {\n         public void run() {\n            BufferedReader br = new BufferedReader(streamReader);\n            String line = null;\n            try {\n               while ((line = br.readLine()) != null) {\n                  ps.println(\"process stream: \" + line);\n               }\n            } catch (IOException e) {\n               e.printStackTrace();\n            } finally {\n               try {\n                  br.close();\n               } catch (IOException e) {\n                  e.printStackTrace();\n               }\n            }\n         }\n      }).start();\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8061417,"reputation":593,"user_id":6076839,"display_name":"SteveR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636482741,"creation_date":1636482741,"answer_id":69903323,"question_id":14727579,"body_markdown":"After multiple readings of the source code for the unix implementation of `Process` at https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/unix/classes/java/lang/ProcessImpl.java it seems that the standard redirects will always swallow to a `ProcessBuilder.NullInputStream`:\r\n\r\n```\r\n    if (redirects[1] == Redirect.PIPE) {\r\n        std_fds[1] = -1;\r\n    }...\r\n```\r\n\r\nand\r\n\r\n```\r\n    stdout = (fds[1] == -1 || forceNullOutputStream) ?\r\n            ProcessBuilder.NullInputStream.INSTANCE :\r\n            new ProcessPipeInputStream(fds[1]);\r\n```\r\n(The same code repeats for stdIn, stdOut and stdErr streams)\r\n\r\nThe only workaround I have found, which feels very clumsy is to use a temp File:\r\n\r\n```\r\n    File stdOutTmp;  // create and destroy however you see fit\r\n    ProcessBuilder pb = ...;\r\n    pb.redirectOutput(ProcessBuilder.Redirect.to(stdOutTmp));\r\n    ...\r\n```\r\n\r\nThere are other static factory methods (`Redirect.appendTo(File)` to append to an existing file rather than overwrite an existing file, and `Redirect.from(File)` for stdIn)\r\n","title":"Java Process cannot get the InputStream through Runtime.getRunTime().exec()","body":"<p>After multiple readings of the source code for the unix implementation of <code>Process</code> at <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/unix/classes/java/lang/ProcessImpl.java\" rel=\"nofollow noreferrer\">https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/unix/classes/java/lang/ProcessImpl.java</a> it seems that the standard redirects will always swallow to a <code>ProcessBuilder.NullInputStream</code>:</p>\n<pre><code>    if (redirects[1] == Redirect.PIPE) {\n        std_fds[1] = -1;\n    }...\n</code></pre>\n<p>and</p>\n<pre><code>    stdout = (fds[1] == -1 || forceNullOutputStream) ?\n            ProcessBuilder.NullInputStream.INSTANCE :\n            new ProcessPipeInputStream(fds[1]);\n</code></pre>\n<p>(The same code repeats for stdIn, stdOut and stdErr streams)</p>\n<p>The only workaround I have found, which feels very clumsy is to use a temp File:</p>\n<pre><code>    File stdOutTmp;  // create and destroy however you see fit\n    ProcessBuilder pb = ...;\n    pb.redirectOutput(ProcessBuilder.Redirect.to(stdOutTmp));\n    ...\n</code></pre>\n<p>There are other static factory methods (<code>Redirect.appendTo(File)</code> to append to an existing file rather than overwrite an existing file, and <code>Redirect.from(File)</code> for stdIn)</p>\n"}],"owner":{"account_id":2195120,"reputation":438,"user_id":1941021,"accept_rate":62,"display_name":"Abhishek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7738,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":14745245,"answer_count":6,"score":2,"last_activity_date":1636482741,"creation_date":1360148997,"question_id":14727579,"body_markdown":"    try {\r\n\t\t\t\r\n\t\t\tString str;\r\n\t\t\tProcess process = Runtime.getRuntime().exec(&quot;bash /home/abhishek/workspace/Pro/run&quot;);\r\n\t\t\tInputStream isout = process.getInputStream();\r\n\t\t\tInputStreamReader isoutr = new InputStreamReader(isout);\r\n\t\t\tBufferedReader brout = new BufferedReader(isoutr);\r\n\t\t\twhile ((str = brout.readLine()) != null) {\r\n\t\t\t\tSystem.out.println(str);\r\n\t        }\r\n\t\t\t\r\n\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t}\r\n\r\n\r\nThe Code has issues with getting the InputStream from the Process,\r\nbecause if I run the Shell script from my Terminal it runs completely fine,\r\nbut if I Run the Script like this,the str is always null,\r\n\r\nI am using this code to get the output of the Shell Script directly into Java instead writing the Script Output in the File\r\n\r\nIs there any other way to achieve this,or how can I get the issue solved using the current approach   \r\n","title":"Java Process cannot get the InputStream through Runtime.getRunTime().exec()","body":"<pre><code>try {\n\n        String str;\n        Process process = Runtime.getRuntime().exec(\"bash /home/abhishek/workspace/Pro/run\");\n        InputStream isout = process.getInputStream();\n        InputStreamReader isoutr = new InputStreamReader(isout);\n        BufferedReader brout = new BufferedReader(isoutr);\n        while ((str = brout.readLine()) != null) {\n            System.out.println(str);\n        }\n\n} catch (IOException e) {\n        e.printStackTrace();\n}\n</code></pre>\n\n<p>The Code has issues with getting the InputStream from the Process,\nbecause if I run the Shell script from my Terminal it runs completely fine,\nbut if I Run the Script like this,the str is always null,</p>\n\n<p>I am using this code to get the output of the Shell Script directly into Java instead writing the Script Output in the File</p>\n\n<p>Is there any other way to achieve this,or how can I get the issue solved using the current approach   </p>\n"},{"tags":["java","android","android-studio","android-sdk-tools","android-sdk-2.3"],"comments":[{"owner":{"account_id":186516,"reputation":1692,"user_id":423961,"accept_rate":90,"display_name":"Darren"},"score":1,"creation_date":1489228694,"post_id":42733995,"comment_id":72586634,"body_markdown":"I&#39;m suddenly getting the same problem. I can&#39;t seemingly install Android Studio have just deleted it and trying to re-install it. I&#39;ve even tried installing version 2.2.0 but the same problem.","body":"I&#39;m suddenly getting the same problem. I can&#39;t seemingly install Android Studio have just deleted it and trying to re-install it. I&#39;ve even tried installing version 2.2.0 but the same problem."},{"owner":{"account_id":928106,"reputation":11298,"user_id":958464,"accept_rate":97,"display_name":"Gianluca Ghettini"},"score":0,"creation_date":1489229474,"post_id":42733995,"comment_id":72586823,"body_markdown":"do you know if there are any log files to look for?","body":"do you know if there are any log files to look for?"},{"owner":{"account_id":186516,"reputation":1692,"user_id":423961,"accept_rate":90,"display_name":"Darren"},"score":1,"creation_date":1489229610,"post_id":42733995,"comment_id":72586862,"body_markdown":"Not really. I&#39;ve deleted all working directories and tried again, but nothing is working. Hopefully someone will have a solution to this soon ... as it&#39;s pretty frustrating. It was working yesterday. Then, when it tried to update to the latest version, I started having MAJOR problems saying it couldn&#39;t update due to conflicts - hence uninstalling and trying to re-install. I&#39;ll not be doing that again any time soon!","body":"Not really. I&#39;ve deleted all working directories and tried again, but nothing is working. Hopefully someone will have a solution to this soon ... as it&#39;s pretty frustrating. It was working yesterday. Then, when it tried to update to the latest version, I started having MAJOR problems saying it couldn&#39;t update due to conflicts - hence uninstalling and trying to re-install. I&#39;ll not be doing that again any time soon!"},{"owner":{"account_id":928106,"reputation":11298,"user_id":958464,"accept_rate":97,"display_name":"Gianluca Ghettini"},"score":0,"creation_date":1489230120,"post_id":42733995,"comment_id":72587000,"body_markdown":"posted the question on twitter... @androiddeveloper","body":"posted the question on twitter... @androiddeveloper"},{"owner":{"account_id":928106,"reputation":11298,"user_id":958464,"accept_rate":97,"display_name":"Gianluca Ghettini"},"score":1,"creation_date":1489230377,"post_id":42733995,"comment_id":72587062,"body_markdown":"It may be a temporary outage of some server (I hope)","body":"It may be a temporary outage of some server (I hope)"},{"owner":{"account_id":2458292,"reputation":962,"user_id":2160074,"accept_rate":100,"display_name":"Karan Modi"},"score":1,"creation_date":1489230733,"post_id":42733995,"comment_id":72587144,"body_markdown":"Same issue. Using Ubuntu 16.04","body":"Same issue. Using Ubuntu 16.04"},{"owner":{"account_id":6063135,"reputation":305,"user_id":4734356,"accept_rate":67,"display_name":"Krzysztof Kansy"},"score":1,"creation_date":1489231081,"post_id":42733995,"comment_id":72587239,"body_markdown":"Same here. Linux Mint.","body":"Same here. Linux Mint."},{"owner":{"account_id":6063135,"reputation":305,"user_id":4734356,"accept_rate":67,"display_name":"Krzysztof Kansy"},"score":1,"creation_date":1489231413,"post_id":42733995,"comment_id":72587321,"body_markdown":"Terminal output says &quot;Dependant package with key emulator not found!&quot;, not much of a hint I guess.","body":"Terminal output says &quot;Dependant package with key emulator not found!&quot;, not much of a hint I guess."},{"owner":{"account_id":446514,"reputation":6213,"user_id":839601,"display_name":"gnat"},"score":0,"creation_date":1489235393,"post_id":42733995,"comment_id":72588506,"body_markdown":"Possible duplicate of [dependant package with key emulator not found while updating android SDK and tools](http://stackoverflow.com/questions/42732684/dependant-package-with-key-emulator-not-found-while-updating-android-sdk-and-too)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/42732684/dependant-package-with-key-emulator-not-found-while-updating-android-sdk-and-too\">dependant package with key emulator not found while updating android SDK and tools</a>"},{"owner":{"account_id":3786325,"reputation":185,"user_id":3144174,"accept_rate":100,"display_name":"Duke1992"},"score":0,"creation_date":1489235438,"post_id":42733995,"comment_id":72588522,"body_markdown":"Try installing Android Studio without AVD","body":"Try installing Android Studio without AVD"},{"owner":{"account_id":4649253,"reputation":3380,"user_id":3766568,"display_name":"Safwan"},"score":1,"creation_date":1489295628,"post_id":42733995,"comment_id":72605365,"body_markdown":"Looks like the issue is resolved. No workaround is needed anymore.","body":"Looks like the issue is resolved. No workaround is needed anymore."}],"answers":[{"tags":[],"owner":{"account_id":10436207,"reputation":315,"user_id":7694425,"display_name":"Charlie_Mtz"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1489247995,"creation_date":1489234814,"answer_id":42735118,"question_id":42733995,"body_markdown":"**Update:**\r\n\r\n**There&#39;s a manual workaround!**\r\n\r\nAs per post https://stackoverflow.com/a/42733510/7694425 :\r\n\r\n 1. Download the command line tools, place them in the SDK folder (e.g.,\r\n    on mac: /Users/user/Library/Android/sdk), and then add the bin\r\n    folder to the PATH. \r\n 2. Install the latest platform: in a terminal,\r\n    execute sdkmanager &quot;platforms;android-25&quot;\r\n 3. Open Android Studio, and\r\n    go to the SDK Manager (Appearance and Behavior &gt; System Settings &gt;\r\n    Android SDK)\r\n 4. Click on &quot;Edit&quot;, and then select the sdk folder. Then\r\n    &quot;Next&quot; &gt; &quot;Next&quot; &gt; &quot;Finish&quot;.\r\n\r\nStill, it doesn&#39;t resolve the missing emulator package therefore the Android SDK tools can&#39;t be updated since it&#39;s a dependency. But Android studio works and you can download other packages.\r\n\r\nLooking forward to a better solution.\r\n\r\n**Update 2:**\r\n\r\n**Solution to emulator package issue!**\r\n\r\nAfter digging in the repo&#39;s XML for a while I&#39;ve spotted the issue.\r\n\r\nIt turns out that the &quot;emulator&quot; package is only in channel 3 (canary) while the &quot;tools&quot; package is in channel 0 (stable) but depends on &quot;emulator&quot;. The solution is to force the manager to download the &quot;emulator&quot; package from channel 3:\r\n\r\n    ./sdkmanager --channel=3 emulator\r\n\r\nProblem solved!\r\n\r\n**Previous answer:**\r\n\r\nThe same problem here.\r\n\r\nTwitted @androidstudio too. Hopefully someone in a position to fix this will notice.","title":"Android studio error: An error occurred while trying to compute required packages","body":"<p><strong>Update:</strong></p>\n\n<p><strong>There's a manual workaround!</strong></p>\n\n<p>As per post <a href=\"https://stackoverflow.com/a/42733510/7694425\">https://stackoverflow.com/a/42733510/7694425</a> :</p>\n\n<ol>\n<li>Download the command line tools, place them in the SDK folder (e.g.,\non mac: /Users/user/Library/Android/sdk), and then add the bin\nfolder to the PATH. </li>\n<li>Install the latest platform: in a terminal,\nexecute sdkmanager \"platforms;android-25\"</li>\n<li>Open Android Studio, and\ngo to the SDK Manager (Appearance and Behavior > System Settings >\nAndroid SDK)</li>\n<li>Click on \"Edit\", and then select the sdk folder. Then\n\"Next\" > \"Next\" > \"Finish\".</li>\n</ol>\n\n<p>Still, it doesn't resolve the missing emulator package therefore the Android SDK tools can't be updated since it's a dependency. But Android studio works and you can download other packages.</p>\n\n<p>Looking forward to a better solution.</p>\n\n<p><strong>Update 2:</strong></p>\n\n<p><strong>Solution to emulator package issue!</strong></p>\n\n<p>After digging in the repo's XML for a while I've spotted the issue.</p>\n\n<p>It turns out that the \"emulator\" package is only in channel 3 (canary) while the \"tools\" package is in channel 0 (stable) but depends on \"emulator\". The solution is to force the manager to download the \"emulator\" package from channel 3:</p>\n\n<pre><code>./sdkmanager --channel=3 emulator\n</code></pre>\n\n<p>Problem solved!</p>\n\n<p><strong>Previous answer:</strong></p>\n\n<p>The same problem here.</p>\n\n<p>Twitted @androidstudio too. Hopefully someone in a position to fix this will notice.</p>\n"},{"tags":[],"owner":{"account_id":928106,"reputation":11298,"user_id":958464,"accept_rate":97,"display_name":"Gianluca Ghettini"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1489235807,"creation_date":1489235807,"answer_id":42735294,"question_id":42733995,"body_markdown":"After lot of struggling I made it work.\r\nHere my solution\r\n\r\nWhen I get the &quot;An error occurred while trying to compute required packages&quot; error I just clicked &quot;finished&quot; and then I went to the main Android Studio page:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ja3KV.png\r\n\r\nThen I selected Configure -&gt; SDK manager and I launched the SDK installation from there\r\n\r\nReopened Android Studio and everything was ok\r\n\r\nReally, really embarrassing for a software which used to be very good. You can feel the &quot;bloatness&quot; of Eclipse creeping in\r\n","title":"Android studio error: An error occurred while trying to compute required packages","body":"<p>After lot of struggling I made it work.\nHere my solution</p>\n\n<p>When I get the \"An error occurred while trying to compute required packages\" error I just clicked \"finished\" and then I went to the main Android Studio page:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ja3KV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ja3KV.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then I selected Configure -> SDK manager and I launched the SDK installation from there</p>\n\n<p>Reopened Android Studio and everything was ok</p>\n\n<p>Really, really embarrassing for a software which used to be very good. You can feel the \"bloatness\" of Eclipse creeping in</p>\n"},{"tags":[],"owner":{"account_id":19860,"reputation":9070,"user_id":46919,"display_name":"Tor Norbye"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1489337032,"creation_date":1489291773,"answer_id":42743644,"question_id":42733995,"body_markdown":"**Updated: It should be fixed now.**\r\n\r\nThis is https://code.google.com/p/android/issues/detail?id=244956 -- we&#39;re working on a hotfix.\r\n\r\n","title":"Android studio error: An error occurred while trying to compute required packages","body":"<p><strong>Updated: It should be fixed now.</strong></p>\n\n<p>This is <a href=\"https://code.google.com/p/android/issues/detail?id=244956\" rel=\"nofollow noreferrer\">https://code.google.com/p/android/issues/detail?id=244956</a> -- we're working on a hotfix.</p>\n"},{"tags":[],"owner":{"account_id":8917458,"reputation":374,"user_id":6798789,"display_name":"RpR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489466200,"creation_date":1489294410,"answer_id":42743915,"question_id":42733995,"body_markdown":"Install these packages and then check it and also set `JAVA_HOME` for `jdk`.\r\nIt worked for me. For more information see this [link][1].\r\n\r\n    sudo apt-get install libc6:i386 libncurses5:i386 libstdc++6:i386 lib32z1 libbz2-1.0:i386\r\n\r\n\r\n  [1]: https://developer.android.com/studio/install.html","title":"Android studio error: An error occurred while trying to compute required packages","body":"<p>Install these packages and then check it and also set <code>JAVA_HOME</code> for <code>jdk</code>.\nIt worked for me. For more information see this <a href=\"https://developer.android.com/studio/install.html\" rel=\"nofollow noreferrer\">link</a>.</p>\n\n<pre><code>sudo apt-get install libc6:i386 libncurses5:i386 libstdc++6:i386 lib32z1 libbz2-1.0:i386\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7105333,"reputation":3522,"user_id":5435153,"accept_rate":91,"display_name":"Amit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489309061,"creation_date":1489309061,"answer_id":42745535,"question_id":42733995,"body_markdown":"I downloaded the setup again, it&#39;s working now, I am able to install it.","title":"Android studio error: An error occurred while trying to compute required packages","body":"<p>I downloaded the setup again, it's working now, I am able to install it.</p>\n"},{"tags":[],"owner":{"account_id":11210,"reputation":24737,"user_id":21501,"accept_rate":94,"display_name":"Vladimir Panteleev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510966183,"creation_date":1510966183,"answer_id":47361341,"question_id":42733995,"body_markdown":"I was getting this error on Arch Linux because the SDK setup wizard ran out of space on `/tmp`, which is a `tmpfs`.\r\n\r\nAnother question with a similar error and same possible cause: [Android studio- “SDK tools directory is missing”](https://stackoverflow.com/a/45942084/21501)","title":"Android studio error: An error occurred while trying to compute required packages","body":"<p>I was getting this error on Arch Linux because the SDK setup wizard ran out of space on <code>/tmp</code>, which is a <code>tmpfs</code>.</p>\n\n<p>Another question with a similar error and same possible cause: <a href=\"https://stackoverflow.com/a/45942084/21501\">Android studio- “SDK tools directory is missing”</a></p>\n"},{"tags":[],"owner":{"account_id":9157117,"reputation":601,"user_id":6809733,"display_name":"Juan Costamagna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636482319,"creation_date":1636482319,"answer_id":69903234,"question_id":42733995,"body_markdown":"This workaround worked for me: https://stackoverflow.com/a/69868954/6809733\r\n\r\n&gt; Just download the IDE - Intellij IDEA and create a new project, select Android Project and there download Android SDK, now you can install android studio again and the sdk is installed. Worked for me!","title":"Android studio error: An error occurred while trying to compute required packages","body":"<p>This workaround worked for me: <a href=\"https://stackoverflow.com/a/69868954/6809733\">https://stackoverflow.com/a/69868954/6809733</a></p>\n<blockquote>\n<p>Just download the IDE - Intellij IDEA and create a new project, select Android Project and there download Android SDK, now you can install android studio again and the sdk is installed. Worked for me!</p>\n</blockquote>\n"}],"owner":{"account_id":928106,"reputation":11298,"user_id":958464,"accept_rate":97,"display_name":"Gianluca Ghettini"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36873,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":42735118,"answer_count":7,"score":35,"last_activity_date":1636482319,"creation_date":1489227645,"question_id":42733995,"body_markdown":"I&#39;m trying to install the latest Android Studio on a MacBook pro 2015\r\n\r\nUnfortunately I get this error:\r\n\r\n&gt; An error occurred while trying to compute required packages.\r\n\r\nHere a screenshot of the error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nwhich is not very informative. What&#39;s causing the problem?\r\n\r\n**EDIT**\r\n\r\nThis is the exception I get when I run the application from the terminal:\r\n\r\n    [  33666]   WARN - e.wizard.InstallComponentsPath - Dependant package with key emulator not found! \r\n    com.android.tools.idea.sdk.wizard.SdkQuickfixUtils$PackageResolutionException: Dependant package with key emulator not found!\r\n    \tat com.android.tools.idea.sdk.wizard.SdkQuickfixUtils.resolve(SdkQuickfixUtils.java:261)\r\n    \tat com.android.tools.idea.welcome.install.ComponentInstaller.getPackagesToInstall(ComponentInstaller.java:51)\r\n    \tat com.android.tools.idea.welcome.wizard.InstallComponentsPath.lambda$init$0(InstallComponentsPath.java:195)\r\n    \tat com.android.tools.idea.welcome.wizard.InstallSummaryStep.generateSummary(InstallSummaryStep.java:115)\r\n    \tat com.android.tools.idea.welcome.wizard.InstallSummaryStep.onEnterStep(InstallSummaryStep.java:106)\r\n    \tat com.android.tools.idea.wizard.dynamic.DynamicWizardPath.next(DynamicWizardPath.java:311)\r\n    \tat com.android.tools.idea.wizard.dynamic.DynamicWizardPath.next(DynamicWizardPath.java:58)\r\n    \tat com.android.tools.idea.wizard.dynamic.DynamicWizard.showNextStep(DynamicWizard.java:346)\r\n    \tat com.android.tools.idea.wizard.dynamic.DynamicWizard.doNextAction(DynamicWizard.java:336)\r\n    \tat com.android.tools.idea.welcome.wizard.FirstRunWizardHost$NextAction.actionPerformed(FirstRunWizardHost.java:385)\r\n    \tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\r\n    \tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)\r\n    \tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\r\n    \tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\r\n    \tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\r\n    \tat java.awt.Component.processMouseEvent(Component.java:6533)\r\n    \tat javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\r\n    \tat java.awt.Component.processEvent(Component.java:6298)\r\n    \tat java.awt.Container.processEvent(Container.java:2236)\r\n    \tat java.awt.Component.dispatchEventImpl(Component.java:4889)\r\n    \tat java.awt.Container.dispatchEventImpl(Container.java:2294)\r\n    \tat java.awt.Component.dispatchEvent(Component.java:4711)\r\n    \tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4888)\r\n    \tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4525)\r\n    \tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4466)\r\n    \tat java.awt.Container.dispatchEventImpl(Container.java:2280)\r\n    \tat java.awt.Window.dispatchEventImpl(Window.java:2746)\r\n    \tat java.awt.Component.dispatchEvent(Component.java:4711)\r\n    \tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)\r\n    \tat java.awt.EventQueue.access$500(EventQueue.java:97)\r\n    \tat java.awt.EventQueue$3.run(EventQueue.java:709)\r\n    \tat java.awt.EventQueue$3.run(EventQueue.java:703)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)\r\n    \tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:90)\r\n    \tat java.awt.EventQueue$4.run(EventQueue.java:731)\r\n    \tat java.awt.EventQueue$4.run(EventQueue.java:729)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)\r\n    \tat java.awt.EventQueue.dispatchEvent(EventQueue.java:728)\r\n    \tat com.intellij.ide.IdeEventQueue.defaultDispatchEvent(IdeEventQueue.java:795)\r\n    \tat com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:627)\r\n    \tat com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:387)\r\n    \tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\r\n    \tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n    \tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\r\n    \tat java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\r\n\r\n**EDIT**\r\n\r\nGoogle [has fixed the bug][2]. Just download the new installer and everything should be fine\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4zG3C.png\r\n  [2]: https://stackoverflow.com/a/42743644/958464","title":"Android studio error: An error occurred while trying to compute required packages","body":"<p>I'm trying to install the latest Android Studio on a MacBook pro 2015</p>\n\n<p>Unfortunately I get this error:</p>\n\n<blockquote>\n  <p>An error occurred while trying to compute required packages.</p>\n</blockquote>\n\n<p>Here a screenshot of the error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/4zG3C.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4zG3C.png\" alt=\"enter image description here\"></a></p>\n\n<p>which is not very informative. What's causing the problem?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>This is the exception I get when I run the application from the terminal:</p>\n\n<pre><code>[  33666]   WARN - e.wizard.InstallComponentsPath - Dependant package with key emulator not found! \ncom.android.tools.idea.sdk.wizard.SdkQuickfixUtils$PackageResolutionException: Dependant package with key emulator not found!\n    at com.android.tools.idea.sdk.wizard.SdkQuickfixUtils.resolve(SdkQuickfixUtils.java:261)\n    at com.android.tools.idea.welcome.install.ComponentInstaller.getPackagesToInstall(ComponentInstaller.java:51)\n    at com.android.tools.idea.welcome.wizard.InstallComponentsPath.lambda$init$0(InstallComponentsPath.java:195)\n    at com.android.tools.idea.welcome.wizard.InstallSummaryStep.generateSummary(InstallSummaryStep.java:115)\n    at com.android.tools.idea.welcome.wizard.InstallSummaryStep.onEnterStep(InstallSummaryStep.java:106)\n    at com.android.tools.idea.wizard.dynamic.DynamicWizardPath.next(DynamicWizardPath.java:311)\n    at com.android.tools.idea.wizard.dynamic.DynamicWizardPath.next(DynamicWizardPath.java:58)\n    at com.android.tools.idea.wizard.dynamic.DynamicWizard.showNextStep(DynamicWizard.java:346)\n    at com.android.tools.idea.wizard.dynamic.DynamicWizard.doNextAction(DynamicWizard.java:336)\n    at com.android.tools.idea.welcome.wizard.FirstRunWizardHost$NextAction.actionPerformed(FirstRunWizardHost.java:385)\n    at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\n    at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)\n    at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\n    at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\n    at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\n    at java.awt.Component.processMouseEvent(Component.java:6533)\n    at javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\n    at java.awt.Component.processEvent(Component.java:6298)\n    at java.awt.Container.processEvent(Container.java:2236)\n    at java.awt.Component.dispatchEventImpl(Component.java:4889)\n    at java.awt.Container.dispatchEventImpl(Container.java:2294)\n    at java.awt.Component.dispatchEvent(Component.java:4711)\n    at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4888)\n    at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4525)\n    at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4466)\n    at java.awt.Container.dispatchEventImpl(Container.java:2280)\n    at java.awt.Window.dispatchEventImpl(Window.java:2746)\n    at java.awt.Component.dispatchEvent(Component.java:4711)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:758)\n    at java.awt.EventQueue.access$500(EventQueue.java:97)\n    at java.awt.EventQueue$3.run(EventQueue.java:709)\n    at java.awt.EventQueue$3.run(EventQueue.java:703)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:90)\n    at java.awt.EventQueue$4.run(EventQueue.java:731)\n    at java.awt.EventQueue$4.run(EventQueue.java:729)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:728)\n    at com.intellij.ide.IdeEventQueue.defaultDispatchEvent(IdeEventQueue.java:795)\n    at com.intellij.ide.IdeEventQueue._dispatchEvent(IdeEventQueue.java:627)\n    at com.intellij.ide.IdeEventQueue.dispatchEvent(IdeEventQueue.java:387)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Google <a href=\"https://stackoverflow.com/a/42743644/958464\">has fixed the bug</a>. Just download the new installer and everything should be fine</p>\n"},{"tags":["java","google-drive-api","google-sheets-api"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1636127710,"post_id":69855818,"comment_id":123482043,"body_markdown":"Look like it&#39;s inside `outputStream`. Now you should write *that* to a file.","body":"Look like it&#39;s inside <code>outputStream</code>. Now you should write <i>that</i> to a file."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1636482343,"post_id":69855818,"comment_id":123567385,"body_markdown":"@FedericoklezCulloca I&#39;d say the better option is to write directly to a `FileOutputStream` than writing it to a `ByteArrayOutputStream`.","body":"@FedericoklezCulloca I&#39;d say the better option is to write directly to a <code>FileOutputStream</code> than writing it to a <code>ByteArrayOutputStream</code>."},{"owner":{"account_id":22903822,"reputation":59,"user_id":17042163,"display_name":"LDT"},"score":0,"creation_date":1636511914,"post_id":69855818,"comment_id":123575036,"body_markdown":"Thanks so much @Mark Rotteveel. It worked for me with the same idea","body":"Thanks so much @Mark Rotteveel. It worked for me with the same idea"}],"answers":[{"tags":[],"owner":{"account_id":1919014,"reputation":10706,"user_id":16118686,"display_name":"NightEye"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636469937,"creation_date":1636132251,"answer_id":69856899,"question_id":69855818,"body_markdown":"As what @Federico, it&#39;s already inside `outputStream`. But I&#39;d recommend using `FileOutputStream` since you are outputting it to a file.\r\n\r\n### Sample:\r\n```\r\nOutputStream outputStream = new FileOutputStream(destinationFolder + fileName);\r\nserviceDrive.files().export(fileId, &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;).executeMediaAndDownloadTo(outputStream);\r\noutputStream.flush();\r\noutputStream.close();\r\n```\r\n\r\n\r\n### Reference:\r\n - [Java FileOutputStream](https://docs.oracle.com/javase/7/docs/api/java/io/FileOutputStream.html)","title":"Cannot download Google workplace document like GoogleSheet to local using Google API Java","body":"<p>As what @Federico, it's already inside <code>outputStream</code>. But I'd recommend using <code>FileOutputStream</code> since you are outputting it to a file.</p>\n<h3>Sample:</h3>\n<pre><code>OutputStream outputStream = new FileOutputStream(destinationFolder + fileName);\nserviceDrive.files().export(fileId, &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;).executeMediaAndDownloadTo(outputStream);\noutputStream.flush();\noutputStream.close();\n</code></pre>\n<h3>Reference:</h3>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/FileOutputStream.html\" rel=\"nofollow noreferrer\">Java FileOutputStream</a></li>\n</ul>\n"}],"owner":{"account_id":22903822,"reputation":59,"user_id":17042163,"display_name":"LDT"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69856899,"answer_count":1,"score":0,"last_activity_date":1636482293,"creation_date":1636127057,"question_id":69855818,"body_markdown":"As the Google Drive API document for exporting a Google Sheet stored on GG Drive: https://developers.google.com/drive/api/v3/manage-downloads\r\nhttps://developers.google.com/drive/api/v3/ref-export-formats\r\n\r\nI wrote following Java method in order download a GoogleSheet:\r\n \r\n\r\n    public void downloadFileFromDrive() throws Exception {\r\n            String fileId = &quot;1KVNuObZ4ACxKuOFTjf-SKkIgsDAr4L0x5hJzDz_uzhU&quot;;\r\n            OutputStream outputStream = new ByteArrayOutputStream();\r\n            serviceDrive().files().export(fileId, &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;)\r\n                    .executeMediaAndDownloadTo(outputStream);\r\n        }\r\n\r\nI ran the program without error. My questions:\r\n\r\n1. Where is the Excel file saved? The document didn&#39;t say about destination folder where file saved in local. I searched all files in my PC and didn&#39;t see any files I expected\r\n\r\n2. Do I need to declare the path for destination folder for saving file from Drive?\r\n","title":"Cannot download Google workplace document like GoogleSheet to local using Google API Java","body":"<p>As the Google Drive API document for exporting a Google Sheet stored on GG Drive: <a href=\"https://developers.google.com/drive/api/v3/manage-downloads\" rel=\"nofollow noreferrer\">https://developers.google.com/drive/api/v3/manage-downloads</a>\n<a href=\"https://developers.google.com/drive/api/v3/ref-export-formats\" rel=\"nofollow noreferrer\">https://developers.google.com/drive/api/v3/ref-export-formats</a></p>\n<p>I wrote following Java method in order download a GoogleSheet:</p>\n<pre><code>public void downloadFileFromDrive() throws Exception {\n        String fileId = &quot;1KVNuObZ4ACxKuOFTjf-SKkIgsDAr4L0x5hJzDz_uzhU&quot;;\n        OutputStream outputStream = new ByteArrayOutputStream();\n        serviceDrive().files().export(fileId, &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;)\n                .executeMediaAndDownloadTo(outputStream);\n    }\n</code></pre>\n<p>I ran the program without error. My questions:</p>\n<ol>\n<li><p>Where is the Excel file saved? The document didn't say about destination folder where file saved in local. I searched all files in my PC and didn't see any files I expected</p>\n</li>\n<li><p>Do I need to declare the path for destination folder for saving file from Drive?</p>\n</li>\n</ol>\n"},{"tags":["java","git","github","intellij-idea"],"comments":[{"owner":{"account_id":231911,"reputation":10677,"user_id":496405,"accept_rate":100,"display_name":"g19fanatic"},"score":1,"creation_date":1636480287,"post_id":69902265,"comment_id":123566631,"body_markdown":"Your question needs some more detail. You&#39;re looking for 2 branches, (main) with just a readme.md file and (lab1) with the rest of the code. That part is understood, but what do you mean by &quot;NOT in commit&quot;? It sounds like there is a basic misunderstanding of how git operates. Can you elaborate further?","body":"Your question needs some more detail. You&#39;re looking for 2 branches, (main) with just a readme.md file and (lab1) with the rest of the code. That part is understood, but what do you mean by &quot;NOT in commit&quot;? It sounds like there is a basic misunderstanding of how git operates. Can you elaborate further?"},{"owner":{"account_id":20932316,"reputation":1,"user_id":16298305,"display_name":"TomasMaplewood"},"score":0,"creation_date":1636481556,"post_id":69902265,"comment_id":123567120,"body_markdown":"I don`t know how, but part of my attempts ended the project files to commit (how a comment) under of the branch, no in branch","body":"I don`t know how, but part of my attempts ended the project files to commit (how a comment) under of the branch, no in branch"},{"owner":{"account_id":17081761,"reputation":2089,"user_id":12360005,"display_name":"Ruslan Kuleshov"},"score":0,"creation_date":1636554933,"post_id":69902265,"comment_id":123588459,"body_markdown":"If you have a project,  and you choose &quot;Share project to GitHub&quot; you will be prompted to choose configuration for future repository, then choose files for initial commit. Once it&#39;s done, you can switch to Lab1 branch and push it as well.","body":"If you have a project,  and you choose &quot;Share project to GitHub&quot; you will be prompted to choose configuration for future repository, then choose files for initial commit. Once it&#39;s done, you can switch to Lab1 branch and push it as well."}],"answers":[{"tags":[],"owner":{"account_id":17288354,"reputation":48,"user_id":14523561,"display_name":"DaOnly Owner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636481996,"creation_date":1636481996,"answer_id":69903173,"question_id":69902265,"body_markdown":"This is the syntax to rename a branch.\r\nYou should do \r\n\r\n    git checkout -b [yourbranchname]\r\n    git push origin [yourbranchname]","title":"Share project to GitHub from IDEA: How add all project to repository into branch named &quot;lab1&quot;","body":"<p>This is the syntax to rename a branch.\nYou should do</p>\n<pre><code>git checkout -b [yourbranchname]\ngit push origin [yourbranchname]\n</code></pre>\n"}],"owner":{"account_id":20932316,"reputation":1,"user_id":16298305,"display_name":"TomasMaplewood"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1636481996,"creation_date":1636477710,"question_id":69902265,"body_markdown":"My account in GitHub doen`t have the repository so I use git command:\r\n```\r\n$ git push -u origin main:lab1\r\n```\r\nWell.. created a repository, and created 1 branch: lab1(((\r\nBut I must have \r\n&lt;br&gt;**2 branches:**\r\n1. main with README.md\r\n2. **lab1 with project** (NOT in commit)\r\n\r\n*Please, help me*","title":"Share project to GitHub from IDEA: How add all project to repository into branch named &quot;lab1&quot;","body":"<p>My account in GitHub doen`t have the repository so I use git command:</p>\n<pre><code>$ git push -u origin main:lab1\n</code></pre>\n<p>Well.. created a repository, and created 1 branch: lab1(((\nBut I must have\n<br><strong>2 branches:</strong></p>\n<ol>\n<li>main with README.md</li>\n<li><strong>lab1 with project</strong> (NOT in commit)</li>\n</ol>\n<p><em>Please, help me</em></p>\n"},{"tags":["java","anonymous-class"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1636552062,"post_id":69902436,"comment_id":123587030,"body_markdown":"@GhostCat - Yes, you&#39;re right. Deleted my comment.","body":"@GhostCat - Yes, you&#39;re right. Deleted my comment."}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636478647,"creation_date":1636478647,"answer_id":69902484,"question_id":69902436,"body_markdown":"Fun fact: the `var` keyword gets you there. \r\n\r\nYou see, when you do:\r\n\r\n    SomeType myVar = new SomeType() { ...\r\n\r\nthen the compiler takes the &quot;easy&quot; route, and only remembers: `myVar` is of type `SomeType`.\r\n\r\nBut when you do:\r\n\r\n    var myVar = new SomeType() { ...\r\n\r\nthen the compiler actually determines the very specific special type that is defined on the right hand side. And then any additionally defined method is in fact &quot;visible&quot; and you can invoke it.\r\n\r\nSee this [edition][1] of the JavaSpecialists newsletter for more details.\r\n\r\n\r\n  [1]: https://www.javaspecialists.eu/archive/Issue263-Anonymous-Tuples.html","title":"Is there a way to invoke a non-overridden or non-implemented method in an anonymous class outside of its definition?","body":"<p>Fun fact: the <code>var</code> keyword gets you there.</p>\n<p>You see, when you do:</p>\n<pre><code>SomeType myVar = new SomeType() { ...\n</code></pre>\n<p>then the compiler takes the &quot;easy&quot; route, and only remembers: <code>myVar</code> is of type <code>SomeType</code>.</p>\n<p>But when you do:</p>\n<pre><code>var myVar = new SomeType() { ...\n</code></pre>\n<p>then the compiler actually determines the very specific special type that is defined on the right hand side. And then any additionally defined method is in fact &quot;visible&quot; and you can invoke it.</p>\n<p>See this <a href=\"https://www.javaspecialists.eu/archive/Issue263-Anonymous-Tuples.html\" rel=\"nofollow noreferrer\">edition</a> of the JavaSpecialists newsletter for more details.</p>\n"}],"owner":{"account_id":23285578,"reputation":48,"user_id":17368487,"display_name":"Nirvan-StackOverflow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69902484,"answer_count":1,"score":1,"last_activity_date":1636481528,"creation_date":1636478481,"question_id":69902436,"body_markdown":"There are 3 method signatures in a Phone interface, all of which were implemented in the anonymous class definition for a smartphone. However, I want the anonymous class to have another method that is not present in the Phone interface. \r\n\r\nCould someone please help me understand how I can invoke that method outside of the anonymous class definition? \r\n\r\nIf possible, could you also tell me where I can find this in the documentation? \r\n\r\n```\r\npublic class App {\r\n    public static void main(String[] args) throws Exception {\r\n        Phone smartPhone = new Phone() {\r\n            @Override\r\n            public void turnOn() { System.out.println(&quot;Turning on...&quot;); }\r\n\r\n            @Override\r\n            public void turnOff() { System.out.println(&quot;Turning off...&quot;); }\r\n            \r\n            @Override\r\n            public void makeCall() { System.out.println(&quot;Calling...&quot;); }\r\n\r\n            public void launchCamera() { System.out.println(&quot;Launching camera...&quot;); }            \r\n            \r\n        };\r\n\r\n        // smartPhone.launchCamera(); -&gt; This does not work...\r\n\r\n    }\r\n}\r\n```\r\n\r\n","title":"Is there a way to invoke a non-overridden or non-implemented method in an anonymous class outside of its definition?","body":"<p>There are 3 method signatures in a Phone interface, all of which were implemented in the anonymous class definition for a smartphone. However, I want the anonymous class to have another method that is not present in the Phone interface.</p>\n<p>Could someone please help me understand how I can invoke that method outside of the anonymous class definition?</p>\n<p>If possible, could you also tell me where I can find this in the documentation?</p>\n<pre><code>public class App {\n    public static void main(String[] args) throws Exception {\n        Phone smartPhone = new Phone() {\n            @Override\n            public void turnOn() { System.out.println(&quot;Turning on...&quot;); }\n\n            @Override\n            public void turnOff() { System.out.println(&quot;Turning off...&quot;); }\n            \n            @Override\n            public void makeCall() { System.out.println(&quot;Calling...&quot;); }\n\n            public void launchCamera() { System.out.println(&quot;Launching camera...&quot;); }            \n            \n        };\n\n        // smartPhone.launchCamera(); -&gt; This does not work...\n\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-commons","apache-commons-lang3"],"comments":[{"owner":{"account_id":1306942,"reputation":4457,"user_id":1255737,"display_name":"rmlan"},"score":2,"creation_date":1508773324,"post_id":46893253,"comment_id":80733818,"body_markdown":"Read the docs that you yourself linked to. The commons-lang3 version has been deprecated in favor of the commons-text version. I imagine that the other similarities you find will have similar deprecation reasons/messages.","body":"Read the docs that you yourself linked to. The commons-lang3 version has been deprecated in favor of the commons-text version. I imagine that the other similarities you find will have similar deprecation reasons/messages."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1508773451,"post_id":46893253,"comment_id":80733908,"body_markdown":"Simple suggestion. Avoid using any deprecated API.","body":"Simple suggestion. Avoid using any deprecated API."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1508774066,"post_id":46893253,"comment_id":80734285,"body_markdown":"https://commons.apache.org/proper/commons-lang/article3_0.html","body":"<a href=\"https://commons.apache.org/proper/commons-lang/article3_0.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-lang/article3_0.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1508782924,"creation_date":1508774192,"answer_id":46893601,"question_id":46893253,"body_markdown":"Well, the `text` method states\r\n\r\n&gt; This code has been adapted from Apache Commons Lang 3.5.\r\n\r\nLooks like they simply plan on moving the method from one library to the other. You&#39;d have to get the authors of that code to explain why. \r\n\r\nHowever, worth pointing out that `lang3` is a compile dependency of `text`, therefore if you included `text`, you would have `lang3` anyway \r\n\r\nhttps://github.com/apache/commons-text/blob/master/pom.xml#L61-L65","title":"What is the difference between Apache Commons Lang3 vs Apache Commons Text?","body":"<p>Well, the <code>text</code> method states</p>\n\n<blockquote>\n  <p>This code has been adapted from Apache Commons Lang 3.5.</p>\n</blockquote>\n\n<p>Looks like they simply plan on moving the method from one library to the other. You'd have to get the authors of that code to explain why. </p>\n\n<p>However, worth pointing out that <code>lang3</code> is a compile dependency of <code>text</code>, therefore if you included <code>text</code>, you would have <code>lang3</code> anyway </p>\n\n<p><a href=\"https://github.com/apache/commons-text/blob/master/pom.xml#L61-L65\" rel=\"noreferrer\">https://github.com/apache/commons-text/blob/master/pom.xml#L61-L65</a></p>\n"},{"tags":[],"owner":{"account_id":5030752,"reputation":11,"user_id":4714772,"display_name":"TapakSakti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636481405,"creation_date":1636481405,"answer_id":69903046,"question_id":46893253,"body_markdown":"Text utils in commons-lang3 are marked with deprecation and the [Javadoc](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/text/package-summary.html) points to commons-text \r\n\r\n","title":"What is the difference between Apache Commons Lang3 vs Apache Commons Text?","body":"<p>Text utils in commons-lang3 are marked with deprecation and the <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/text/package-summary.html\" rel=\"nofollow noreferrer\">Javadoc</a> points to commons-text</p>\n"}],"owner":{"account_id":4937688,"reputation":2667,"user_id":4802797,"accept_rate":83,"display_name":"fluency03"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13395,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":2,"score":16,"last_activity_date":1636481405,"creation_date":1508773046,"question_id":46893253,"body_markdown":"I am wondering **what is the difference between Apache Commons Lang3 (`org.apache.commons.lang3`) vs Apache Commons Text (`org.apache.commons.text`)?**\r\n\r\nI saw many similarities between them.  \r\nFor intance, they both have `StringEscapeUtils`:\r\n\r\n- [org.apache.commons.lang3.StringEscapeUtils](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringEscapeUtils.html), which is Deprecated.\r\n- [org.apache.commons.text.StringEscapeUtils](https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/StringEscapeUtils.html)\r\n\r\nBut I also saw many differences.  \r\nSo which one should I use, Lang3 or Text?  \r\nOr what are the common use cases for each of these two?\r\n","title":"What is the difference between Apache Commons Lang3 vs Apache Commons Text?","body":"<p>I am wondering <strong>what is the difference between Apache Commons Lang3 (<code>org.apache.commons.lang3</code>) vs Apache Commons Text (<code>org.apache.commons.text</code>)?</strong></p>\n\n<p>I saw many similarities between them.<br>\nFor intance, they both have <code>StringEscapeUtils</code>:</p>\n\n<ul>\n<li><a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringEscapeUtils.html\" rel=\"noreferrer\">org.apache.commons.lang3.StringEscapeUtils</a>, which is Deprecated.</li>\n<li><a href=\"https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/StringEscapeUtils.html\" rel=\"noreferrer\">org.apache.commons.text.StringEscapeUtils</a></li>\n</ul>\n\n<p>But I also saw many differences.<br>\nSo which one should I use, Lang3 or Text?<br>\nOr what are the common use cases for each of these two?</p>\n"},{"tags":["java","gson","guava"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1636477442,"post_id":69902134,"comment_id":123565483,"body_markdown":"The error message and the code you posted don&#39;t seem to be related. There is no symbol `maps` in the code you posted, there is only `Maps` (Capitalization matters in programming). Is that a typo you made when you posted the question?","body":"The error message and the code you posted don&#39;t seem to be related. There is no symbol <code>maps</code> in the code you posted, there is only <code>Maps</code> (Capitalization matters in programming). Is that a typo you made when you posted the question?"},{"owner":{"account_id":23049670,"reputation":9,"user_id":17166701,"display_name":"timotej97"},"score":0,"creation_date":1636478345,"post_id":69902134,"comment_id":123565842,"body_markdown":"Yes, I am sorry it was a typo in the text part but the one in code is all right with capital letter. \nThanks","body":"Yes, I am sorry it was a typo in the text part but the one in code is all right with capital letter.  Thanks"},{"owner":{"account_id":18420551,"reputation":404,"user_id":13418296,"display_name":"Generous Badger"},"score":0,"creation_date":1636479694,"post_id":69902134,"comment_id":123566390,"body_markdown":"1. if you have the dependency as a maven dependency, then you shouldn&#39;t need the entry in the pom file (or add the systempath if you insist on using the local version). 2. do you have the required `import` for the fully qualified name of the class?","body":"1. if you have the dependency as a maven dependency, then you shouldn&#39;t need the entry in the pom file (or add the systempath if you insist on using the local version). 2. do you have the required <code>import</code> for the fully qualified name of the class?"}],"answers":[{"tags":[],"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1636480415,"creation_date":1636477616,"answer_id":69902242,"question_id":69902134,"body_markdown":"First of all, it&#39;s [`Maps::difference`](https://guava.dev/releases/19.0/api/docs/com/google/common/collect/Maps.html#difference(java.util.Map,%20java.util.Map)) in Google&#39;s Guava, not `Maps::Difference` (usually, we never use *PascalCase* for method names in Java; rather *camelCase* is best convention).\r\n\r\nSecondly, as of [your comment](https://stackoverflow.com/questions/69902134/java-cannot-resolve-symbol-maps/69902242#comment123566019_69902242), I&#39;ve reproduced your problem by having same dependency:\r\n```java\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n    &lt;version&gt;31.0.1-jre&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nand importing\r\n```\r\nimport com.google.common.collect.Maps;\r\n```\r\n\r\nafter which,\r\n```java\r\nMap&lt;String, String&gt; map1 = new HashMap&lt;&gt;();\r\nMap&lt;String, String&gt; map2 = new HashMap&lt;&gt;();\r\n\r\nMaps.difference(map1, map2);\r\n```\r\nworks just fine.","title":"Java cannot resolve symbol &#39;Maps&#39;","body":"<p>First of all, it's <a href=\"https://guava.dev/releases/19.0/api/docs/com/google/common/collect/Maps.html#difference(java.util.Map,%20java.util.Map)\" rel=\"nofollow noreferrer\"><code>Maps::difference</code></a> in Google's Guava, not <code>Maps::Difference</code> (usually, we never use <em>PascalCase</em> for method names in Java; rather <em>camelCase</em> is best convention).</p>\n<p>Secondly, as of <a href=\"https://stackoverflow.com/questions/69902134/java-cannot-resolve-symbol-maps/69902242#comment123566019_69902242\">your comment</a>, I've reproduced your problem by having same dependency:</p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;version&gt;31.0.1-jre&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and importing</p>\n<pre><code>import com.google.common.collect.Maps;\n</code></pre>\n<p>after which,</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; map1 = new HashMap&lt;&gt;();\nMap&lt;String, String&gt; map2 = new HashMap&lt;&gt;();\n\nMaps.difference(map1, map2);\n</code></pre>\n<p>works just fine.</p>\n"}],"owner":{"account_id":23049670,"reputation":9,"user_id":17166701,"display_name":"timotej97"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":448,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1636480415,"creation_date":1636477167,"question_id":69902134,"body_markdown":"I am trying to get a diff between two JSON files using gson and guava library in java.\r\n\r\nI get the error: &quot;cannot resolve symbol &#39;Maps&#39;. I have the guava library jar file in lib folder in my InteliJ installation folder and dependency in pom.xml file looks like this:\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n                &lt;version&gt;31.0.1-jre&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nThe function to create diff looks like this\r\n\r\n    public static Map&lt;String, Object&gt; newCompare(JsonElement original, JsonElement output){\r\n        Type type = new TypeToken&lt;Map&lt;String, Object&gt;&gt;(){}.getType();\r\n\r\n        Map&lt;String, Object&gt; leftMap = gson.fromJson(original, type);\r\n        Map&lt;String, Object&gt; rightMap = gson.fromJson(output, type);\r\n        return Maps.Difference(leftMap, rightMap);\r\n    }\r\nI tried to reimport all maven projects and looked for an answer but all solutions I found were about android maps. \r\nCan you give me some advice on how to solve this problem, or suggest any other solution? thank you a lot. ","title":"Java cannot resolve symbol &#39;Maps&#39;","body":"<p>I am trying to get a diff between two JSON files using gson and guava library in java.</p>\n<p>I get the error: &quot;cannot resolve symbol 'Maps'. I have the guava library jar file in lib folder in my InteliJ installation folder and dependency in pom.xml file looks like this:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;31.0.1-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>The function to create diff looks like this</p>\n<pre><code>public static Map&lt;String, Object&gt; newCompare(JsonElement original, JsonElement output){\n    Type type = new TypeToken&lt;Map&lt;String, Object&gt;&gt;(){}.getType();\n\n    Map&lt;String, Object&gt; leftMap = gson.fromJson(original, type);\n    Map&lt;String, Object&gt; rightMap = gson.fromJson(output, type);\n    return Maps.Difference(leftMap, rightMap);\n}\n</code></pre>\n<p>I tried to reimport all maven projects and looked for an answer but all solutions I found were about android maps.\nCan you give me some advice on how to solve this problem, or suggest any other solution? thank you a lot.</p>\n"},{"tags":["java","rest-assured"],"answers":[{"tags":[],"owner":{"account_id":7527246,"reputation":367,"user_id":5716945,"display_name":"Tomasz Wojciechowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612610954,"creation_date":1612610954,"answer_id":66076357,"question_id":66020503,"body_markdown":"Methods: &quot;and&quot;, &quot;with&quot;, &quot;when&quot;, &quot;given&quot;, &quot;that&quot; and &quot;request&quot; are synctatic sugar for RequestSpecification and you don&#39;t need them to create RequestSpecification object.","title":"What is the difference between given() and with() in Rest Assured?","body":"<p>Methods: &quot;and&quot;, &quot;with&quot;, &quot;when&quot;, &quot;given&quot;, &quot;that&quot; and &quot;request&quot; are synctatic sugar for RequestSpecification and you don't need them to create RequestSpecification object.</p>\n"},{"tags":[],"owner":{"account_id":16969774,"reputation":1,"user_id":12274712,"display_name":"Martin Reid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636480404,"creation_date":1636480404,"answer_id":69902857,"question_id":66020503,"body_markdown":"The package com.jayway.restassured indicates that `with()` and `given()` do the same thing.\r\n\r\n \r\n\r\n    public static RequestSpecification with() {\r\n       return given();\r\n    }","title":"What is the difference between given() and with() in Rest Assured?","body":"<p>The package com.jayway.restassured indicates that <code>with()</code> and <code>given()</code> do the same thing.</p>\n<pre><code>public static RequestSpecification with() {\n   return given();\n}\n</code></pre>\n"}],"owner":{"account_id":20474879,"reputation":21,"user_id":15024439,"display_name":"Sakshi Aggarwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":866,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1636480404,"creation_date":1612320165,"question_id":66020503,"body_markdown":"     RequestSpecification request1 = RestAssured.given();\r\n            // Setting Base URI\r\n            request1.baseUri(&quot;https://restful-booker.herokuapp.com&quot;);\r\n            // Setting Base Path\r\n            request1.basePath(&quot;/booking&quot;);\r\n    \r\n            // Creating request specification using with()\r\n            RequestSpecification request2 = RestAssured.with();\r\n            // Setting Base URI\r\n            request2.baseUri(&quot;https://restful-booker.herokuapp.com&quot;);\r\n            // Setting Base Path\r\n            request2.basePath(&quot;/ping&quot;);\r\n\r\nAs here we are using both what is the difference amongst two?\r\n\r\n","title":"What is the difference between given() and with() in Rest Assured?","body":"<pre><code> RequestSpecification request1 = RestAssured.given();\n        // Setting Base URI\n        request1.baseUri(&quot;https://restful-booker.herokuapp.com&quot;);\n        // Setting Base Path\n        request1.basePath(&quot;/booking&quot;);\n\n        // Creating request specification using with()\n        RequestSpecification request2 = RestAssured.with();\n        // Setting Base URI\n        request2.baseUri(&quot;https://restful-booker.herokuapp.com&quot;);\n        // Setting Base Path\n        request2.basePath(&quot;/ping&quot;);\n</code></pre>\n<p>As here we are using both what is the difference amongst two?</p>\n"},{"tags":["java","cdi","interceptor"],"answers":[{"tags":[],"owner":{"account_id":18420551,"reputation":404,"user_id":13418296,"display_name":"Generous Badger"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1636480306,"creation_date":1636479977,"answer_id":69902760,"question_id":69902697,"body_markdown":"`@AroundInvoke` is called that because it can act **both** before **and** after the actually invoked method. Look at [the documentation][1] and its sample:\r\n\r\n&gt;     @AroundInvoke\r\n&gt;     public Object intercept(InvocationContext ctx) throws Exception { ... }\r\n\r\nIn that method you can call `ctx.proceed()` to call the target method (or any other interceptors). When you do stuff **before** that call then you act *before* the method and anything you do **after** that call happens *after* the method is called. Therefore it&#39;s &quot;around&quot; the method.\r\n\r\nSample:\r\n\r\n```\r\n@AroundInvoke\r\npublic Object intercept(InvocationContext ctx) throws Exception {\r\n   log.info(&quot;We&#39;re about to do the thing!&quot;);\r\n   Object result = ctx.proceed();\r\n   log.info(&quot;We did the thing!&quot;);\r\n   return result;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/interceptors/2.0/apidocs/jakarta/interceptor/aroundinvoke","title":"AroundInvoke: Curious name?","body":"<p><code>@AroundInvoke</code> is called that because it can act <strong>both</strong> before <strong>and</strong> after the actually invoked method. Look at <a href=\"https://jakarta.ee/specifications/interceptors/2.0/apidocs/jakarta/interceptor/aroundinvoke\" rel=\"nofollow noreferrer\">the documentation</a> and its sample:</p>\n<blockquote>\n<pre><code>@AroundInvoke\npublic Object intercept(InvocationContext ctx) throws Exception { ... }\n</code></pre>\n</blockquote>\n<p>In that method you can call <code>ctx.proceed()</code> to call the target method (or any other interceptors). When you do stuff <strong>before</strong> that call then you act <em>before</em> the method and anything you do <strong>after</strong> that call happens <em>after</em> the method is called. Therefore it's &quot;around&quot; the method.</p>\n<p>Sample:</p>\n<pre><code>@AroundInvoke\npublic Object intercept(InvocationContext ctx) throws Exception {\n   log.info(&quot;We're about to do the thing!&quot;);\n   Object result = ctx.proceed();\n   log.info(&quot;We did the thing!&quot;);\n   return result;\n}\n</code></pre>\n"}],"owner":{"account_id":6671432,"reputation":304,"user_id":5147466,"accept_rate":38,"display_name":"Venkata Rahul S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69902760,"answer_count":1,"score":2,"last_activity_date":1636480306,"creation_date":1636479667,"question_id":69902697,"body_markdown":"Request more information on this interceptor annotation. Why is the interceptor annotation called @AroundInvoke and not @BeforeInvoke?\r\n\r\nCan I for example invoke an access verification before an action API? What is the guarantee that the Access Verification is completed before the method is actually invoked? Is there something that the VM or the CDI implementation do that does not prevent the actual invocation but execute this interceptor in parallel?\r\n\r\nIf I were using the [Google Guice AOP Method Interceptors][1], I am assured that the Access Verification failure will determine whether or not the method invocation BEGINS. How can I assure myself of a similar behavior from the jakarta CDI?\r\n\r\nHave not been able to find this information in the spec\r\n\r\nA related question can be found [here][2]. But the exact questions above remain unanswered.\r\n\r\n\r\n  [1]: https://github.com/google/guice/wiki/AOP\r\n  [2]: https://stackoverflow.com/questions/31920433/aroundinvoke-and-checked-exceptions","title":"AroundInvoke: Curious name?","body":"<p>Request more information on this interceptor annotation. Why is the interceptor annotation called @AroundInvoke and not @BeforeInvoke?</p>\n<p>Can I for example invoke an access verification before an action API? What is the guarantee that the Access Verification is completed before the method is actually invoked? Is there something that the VM or the CDI implementation do that does not prevent the actual invocation but execute this interceptor in parallel?</p>\n<p>If I were using the <a href=\"https://github.com/google/guice/wiki/AOP\" rel=\"nofollow noreferrer\">Google Guice AOP Method Interceptors</a>, I am assured that the Access Verification failure will determine whether or not the method invocation BEGINS. How can I assure myself of a similar behavior from the jakarta CDI?</p>\n<p>Have not been able to find this information in the spec</p>\n<p>A related question can be found <a href=\"https://stackoverflow.com/questions/31920433/aroundinvoke-and-checked-exceptions\">here</a>. But the exact questions above remain unanswered.</p>\n"},{"tags":["java","android","firebase-realtime-database","subscription","in-app-subscription"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1636525955,"post_id":69902838,"comment_id":123577352,"body_markdown":"A notification maybe?","body":"A notification maybe?"},{"owner":{"account_id":23287249,"reputation":1,"user_id":17369879,"display_name":"GDSDUARTE"},"score":0,"creation_date":1636542510,"post_id":69902838,"comment_id":123583088,"body_markdown":"Yes, I just need to know which user did a subscription.","body":"Yes, I just need to know which user did a subscription."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1636543521,"post_id":69902838,"comment_id":123583474,"body_markdown":"If you consider at some point in time to try using [Cloud Firestore](https://firebase.google.com/docs/firestore/), here you can find an answer on [how to send notification using Cloud Functions](https://stackoverflow.com/questions/48298993/push-notifications-on-content-change/48299840).","body":"If you consider at some point in time to try using <a href=\"https://firebase.google.com/docs/firestore/\" rel=\"nofollow noreferrer\">Cloud Firestore</a>, here you can find an answer on <a href=\"https://stackoverflow.com/questions/48298993/push-notifications-on-content-change/48299840\">how to send notification using Cloud Functions</a>."},{"owner":{"account_id":23287249,"reputation":1,"user_id":17369879,"display_name":"GDSDUARTE"},"score":1,"creation_date":1636550997,"post_id":69902838,"comment_id":123586506,"body_markdown":"This recommendation is amazing I am planning to add this in the future. I saved it here, thanks. But at this time I don&#39;t need to send notifications to the user.\n\nExplaining better:\n* I have an app with 100 users\n*One of them buy a subscription.\n\nIs there a way to know which user bought a subscription?","body":"This recommendation is amazing I am planning to add this in the future. I saved it here, thanks. But at this time I don&#39;t need to send notifications to the user.  Explaining better: * I have an app with 100 users *One of them buy a subscription.  Is there a way to know which user bought a subscription?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1636551589,"post_id":69902838,"comment_id":123586769,"body_markdown":"You should authenticate the users and once a subscription is bought, send a notification.","body":"You should authenticate the users and once a subscription is bought, send a notification."},{"owner":{"account_id":23287249,"reputation":1,"user_id":17369879,"display_name":"GDSDUARTE"},"score":0,"creation_date":1636552485,"post_id":69902838,"comment_id":123587238,"body_markdown":"I have the users authenticated and their data saved on Firebase Realtime Database (I can change to Cloud Firestore if it fits better) but for now, I don&#39;t want to send a notification to the user. I need to see if was Mary, Jhon, Chris or any one of the 100 users who bought a subscription.","body":"I have the users authenticated and their data saved on Firebase Realtime Database (I can change to Cloud Firestore if it fits better) but for now, I don&#39;t want to send a notification to the user. I need to see if was Mary, Jhon, Chris or any one of the 100 users who bought a subscription."}],"owner":{"account_id":23287249,"reputation":1,"user_id":17369879,"display_name":"GDSDUARTE"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636480286,"creation_date":1636480286,"question_id":69902838,"body_markdown":"I&#39;m new to app development and I&#39;m stuck at one point.\r\n\r\nI have an application with a subscription and when done I would like to receive a kind of report by email, SMS or whatever is possible. Just username and email are enough.\r\nI have a Firebase Realtime Database configured with this data.\r\n\r\nIs it possible to get this data and send it when the subscription is complete?\r\n\r\nThanks all!!\r\n\r\n","title":"Receive an order after subscription. Android Studio - Java","body":"<p>I'm new to app development and I'm stuck at one point.</p>\n<p>I have an application with a subscription and when done I would like to receive a kind of report by email, SMS or whatever is possible. Just username and email are enough.\nI have a Firebase Realtime Database configured with this data.</p>\n<p>Is it possible to get this data and send it when the subscription is complete?</p>\n<p>Thanks all!!</p>\n"},{"tags":["java","file","tomcat","grails","groovy"],"answers":[{"tags":[],"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636480270,"creation_date":1636480270,"answer_id":69902834,"question_id":69902191,"body_markdown":"&gt; What could be the reason for this different behavior ?\r\n&gt; \r\n&gt; grails-app/i18n/${params.id}\r\n\r\nUnless you have done something unusual in your deployment, that path will not exist there and `f.exists()` will evaluate to `false` as it should.\r\n\r\nIf you ask another question about how to access values in `messages.properties` there are numerous ways to do that, but there is no good reason to try and load resources from that path.\r\n\r\n\r\n\r\n","title":"File stream could not be created after deploying war in Grails 3","body":"<blockquote>\n<p>What could be the reason for this different behavior ?</p>\n<p>grails-app/i18n/${params.id}</p>\n</blockquote>\n<p>Unless you have done something unusual in your deployment, that path will not exist there and <code>f.exists()</code> will evaluate to <code>false</code> as it should.</p>\n<p>If you ask another question about how to access values in <code>messages.properties</code> there are numerous ways to do that, but there is no good reason to try and load resources from that path.</p>\n"}],"owner":{"account_id":17227383,"reputation":11,"user_id":12472699,"display_name":"Rishav Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636480270,"creation_date":1636477425,"question_id":69902191,"body_markdown":"My code goes to the else block at last and logs &quot;File not found&quot; when in war mode (deployed to tomcat) but it works fine in development mode on using the same parameters while calling the method. The file is present in grails 3 default file structure = grails-app/i18n/messages.properties\r\n\r\n```\r\ndef index= {\r\n        log.debug params.id\r\n\r\n        def f = new File(&quot;grails-app/i18n/${params.id}&quot;)\r\n        log.info(&quot;i18n Controller ---&quot; + f.toString())\r\n        InputStream stream = null\r\n        if (f.exists()) {\r\n            stream = new FileInputStream(&quot;grails-app/i18n/${params.id}&quot;)\r\n        } else {\r\n            ServletContext sc = grailsApplication.parentContext.servletContext\r\n            def res = sc.getResource(&quot;/WEB-INF/grails-app/i18n/${params.id}&quot;)\r\n            if (res) {\r\n                stream = sc.getResourceAsStream(&quot;/WEB-INF/grails-app/i18n/${params.id}&quot;)\r\n            }\r\n        }\r\n        if (stream) {\r\n            log.debug &quot;Streaming&quot;\r\n            render stream.text\r\n        } else {\r\n            log.debug &quot;Not found&quot;\r\n            render &#39;#Message bundle not found&#39;\r\n        }\r\n    }\r\n```\r\n\r\nWhat could be the reason for this different behavior ?","title":"File stream could not be created after deploying war in Grails 3","body":"<p>My code goes to the else block at last and logs &quot;File not found&quot; when in war mode (deployed to tomcat) but it works fine in development mode on using the same parameters while calling the method. The file is present in grails 3 default file structure = grails-app/i18n/messages.properties</p>\n<pre><code>def index= {\n        log.debug params.id\n\n        def f = new File(&quot;grails-app/i18n/${params.id}&quot;)\n        log.info(&quot;i18n Controller ---&quot; + f.toString())\n        InputStream stream = null\n        if (f.exists()) {\n            stream = new FileInputStream(&quot;grails-app/i18n/${params.id}&quot;)\n        } else {\n            ServletContext sc = grailsApplication.parentContext.servletContext\n            def res = sc.getResource(&quot;/WEB-INF/grails-app/i18n/${params.id}&quot;)\n            if (res) {\n                stream = sc.getResourceAsStream(&quot;/WEB-INF/grails-app/i18n/${params.id}&quot;)\n            }\n        }\n        if (stream) {\n            log.debug &quot;Streaming&quot;\n            render stream.text\n        } else {\n            log.debug &quot;Not found&quot;\n            render '#Message bundle not found'\n        }\n    }\n</code></pre>\n<p>What could be the reason for this different behavior ?</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":10,"creation_date":1633348383,"post_id":40909025,"comment_id":122727533,"body_markdown":"This is part of [a meta question](https://meta.stackoverflow.com/questions/411963).","body":"This is part of <a href=\"https://meta.stackoverflow.com/questions/411963\">a meta question</a>."},{"owner":{"account_id":3963457,"reputation":6910,"user_id":3270037,"accept_rate":100,"display_name":"Nick is tired"},"score":0,"creation_date":1633366597,"post_id":40909025,"comment_id":122735458,"body_markdown":"Does this answer your question? [Can NetBeans 7.4 have JDK 1.6 as a default platform?](https://stackoverflow.com/questions/19633215/can-netbeans-7-4-have-jdk-1-6-as-a-default-platform) - Exact same issue but wanting to use JDK 1.6 instead of 1.7 when Netbeans 7.4 required 1.7. You&#39;ve been mis-using `netbeans_jdkhome`,","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/19633215/can-netbeans-7-4-have-jdk-1-6-as-a-default-platform\">Can NetBeans 7.4 have JDK 1.6 as a default platform?</a> - Exact same issue but wanting to use JDK 1.6 instead of 1.7 when Netbeans 7.4 required 1.7. You&#39;ve been mis-using <code>netbeans_jdkhome</code>,"},{"owner":{"account_id":2734060,"reputation":263882,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":2,"creation_date":1633366919,"post_id":40909025,"comment_id":122735552,"body_markdown":"@Nick: No, they&#39;ve been using it correctly. `netbeans_jdkhome` configures *both* the new project default JDK version and the JDK version Netbeans itself runs on, because Netbeans uses the JDK it&#39;s running on as the default JDK for new projects. See https://docs.oracle.com/netbeans/nb82/netbeans/NBDAG/create_japps.htm#NBDAG465","body":"@Nick: No, they&#39;ve been using it correctly. <code>netbeans_jdkhome</code> configures <i>both</i> the new project default JDK version and the JDK version Netbeans itself runs on, because Netbeans uses the JDK it&#39;s running on as the default JDK for new projects. See <a href=\"https://docs.oracle.com/netbeans/nb82/netbeans/NBDAG/create_japps.htm#NBDAG465\" rel=\"nofollow noreferrer\">docs.oracle.com/netbeans/nb82/netbeans/NBDAG/&hellip;</a>"},{"owner":{"account_id":2734060,"reputation":263882,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":3,"creation_date":1633366991,"post_id":40909025,"comment_id":122735572,"body_markdown":"Unfortunately, the lack of separate &quot;Netbeans JDK&quot; and &quot;default new project JDK&quot; settings means there probably isn&#39;t a way to do what the questioner is looking for.","body":"Unfortunately, the lack of separate &quot;Netbeans JDK&quot; and &quot;default new project JDK&quot; settings means there probably isn&#39;t a way to do what the questioner is looking for."},{"owner":{"account_id":3963457,"reputation":6910,"user_id":3270037,"accept_rate":100,"display_name":"Nick is tired"},"score":0,"creation_date":1633366994,"post_id":40909025,"comment_id":122735574,"body_markdown":"@user2357112supportsMonica Just because it _also_ sets the default project JDK version doesn&#39;t mean that&#39;s what it&#39;s intended to be used for, although I do get your point.","body":"@user2357112supportsMonica Just because it <i>also</i> sets the default project JDK version doesn&#39;t mean that&#39;s what it&#39;s intended to be used for, although I do get your point."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":2,"creation_date":1633369937,"post_id":40909025,"comment_id":122736644,"body_markdown":"You correctly state in your answer that there is no solution to your question, but there is a workaround: [1] Set your default JDK to JDK7 in **netbeans conf**. This makes JDK 7 your default JDK for both NetBeans and projects. [2] Override that setting whenever you start NetBeans 8.2 using **netbeans --jdkhome {JDK8 path}**. This allows you to run NB 8.2 on JDK 8, but JDK7 will still be the default for all your existing and future projects.","body":"You correctly state in your answer that there is no solution to your question, but there is a workaround: [1] Set your default JDK to JDK7 in <b>netbeans conf</b>. This makes JDK 7 your default JDK for both NetBeans and projects. [2] Override that setting whenever you start NetBeans 8.2 using <b>netbeans --jdkhome {JDK8 path}</b>. This allows you to run NB 8.2 on JDK 8, but JDK7 will still be the default for all your existing and future projects."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":2,"creation_date":1633370331,"post_id":40909025,"comment_id":122736778,"body_markdown":"Of course there will be a problem with that approach if you fail to provide the **--jdkhome** parameter when you start NetBeans 8.2, because it will try (unsuccessfully) to run on JDK 7. But while this is a less than perfect solution, it does address your question.","body":"Of course there will be a problem with that approach if you fail to provide the <b>--jdkhome</b> parameter when you start NetBeans 8.2, because it will try (unsuccessfully) to run on JDK 7. But while this is a less than perfect solution, it does address your question."},{"owner":{"account_id":15313133,"reputation":2670,"user_id":11047824,"display_name":"zcoop98"},"score":4,"creation_date":1633382542,"post_id":40909025,"comment_id":122740798,"body_markdown":"@skomisa That set of steps sounds like it&#39;d make an excellent _answer_, rather than being left to gather dust here in the comments where it may be hidden or deleted sometime down the line.","body":"@skomisa That set of steps sounds like it&#39;d make an excellent <i>answer</i>, rather than being left to gather dust here in the comments where it may be hidden or deleted sometime down the line."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1633707032,"post_id":40909025,"comment_id":122839663,"body_markdown":"@zcoop98 I don&#39;t post answers without supporting evidence, and creating an environment to prove that suggestion would take non-trivial time and effort. Besides, I don&#39;t view it as a proper solution, and the accepted answer posted nearly five years ago by the OP is the correct one. But if you feel inclined, you are welcome to post it as an answer yourself. I&#39;ll be happy to upvote as long as there is supporting evidence to show it really works.","body":"@zcoop98 I don&#39;t post answers without supporting evidence, and creating an environment to prove that suggestion would take non-trivial time and effort. Besides, I don&#39;t view it as a proper solution, and the accepted answer posted nearly five years ago by the OP is the correct one. But if you feel inclined, you are welcome to post it as an answer yourself. I&#39;ll be happy to upvote as long as there is supporting evidence to show it really works."}],"answers":[{"tags":[],"owner":{"account_id":5665200,"reputation":1451,"user_id":4481541,"accept_rate":100,"display_name":"LenglBoy"},"down_vote_count":13,"up_vote_count":27,"is_accepted":false,"score":14,"last_activity_date":1633347531,"creation_date":1480593295,"answer_id":40910055,"question_id":40909025,"body_markdown":"You can get your default JDK by: menu *Tools* &amp;rarr; *Java Platforms*.\r\nThere you can add all your JDKs and watch their bibs.\r\n\r\nIf you want to change the default one, you need to go the path *C:\\Program Files\\NetBeans 8.2\\etc* and you need to change the *netbeans.conf* file.\r\n\r\nIn line 57 (in mine) you see something like this:\r\n\r\n    netbeans_jdkhome=&quot;C:\\Program Files\\Java\\jdk1.8.0_66&quot;\r\n\r\nChange the path to your wanted JDK and you’re finished.\r\n\r\n[Here][1] is a longer description.\r\n\r\n  [1]: https://joanpaon.wordpress.com/2013/06/11/how-to-change-netbeans-default-java-platform-2/\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can I set the default Java platform in NetBeans 8.2?","body":"<p>You can get your default JDK by: menu <em>Tools</em> → <em>Java Platforms</em>.\nThere you can add all your JDKs and watch their bibs.</p>\n<p>If you want to change the default one, you need to go the path <em>C:\\Program Files\\NetBeans 8.2\\etc</em> and you need to change the <em>netbeans.conf</em> file.</p>\n<p>In line 57 (in mine) you see something like this:</p>\n<pre><code>netbeans_jdkhome=&quot;C:\\Program Files\\Java\\jdk1.8.0_66&quot;\n</code></pre>\n<p>Change the path to your wanted JDK and you’re finished.</p>\n<p><a href=\"https://joanpaon.wordpress.com/2013/06/11/how-to-change-netbeans-default-java-platform-2/\" rel=\"nofollow noreferrer\">Here</a> is a longer description.</p>\n"},{"tags":[],"owner":{"account_id":1112010,"reputation":1374,"user_id":1102310,"display_name":"Groben"},"down_vote_count":3,"up_vote_count":17,"is_accepted":true,"score":14,"last_activity_date":1633347643,"creation_date":1482337594,"answer_id":41267479,"question_id":40909025,"body_markdown":"For now, it appears there isn&#39;t any way to override it. Here is NetBeans Help about the Java Platform Manager:\r\n\r\n&gt; Use to register different versions of the Java Development Kit (JDK) and other Java tools that your programs depend on. The dialog box lists all of your registered JDKs in the left pane and lists the JDK that the IDE is running on as the Default Platform.\r\n\r\nSo I&#39;ll have to change platform for each project, because NetBeans 8.2 can not run with JDK 1.7 (so I can&#39;t set it as the default platform).\r\n\r\nThere is a [recent plugin][1] that allows to right-click [Maven][2] projects to set the JDK (still cannot set it by default).\r\n\r\n  [1]: http://plugins.netbeans.org/plugin/63132/?show=true\r\n  [2]: https://en.wikipedia.org/wiki/Apache_Maven\r\n","title":"How can I set the default Java platform in NetBeans 8.2?","body":"<p>For now, it appears there isn't any way to override it. Here is NetBeans Help about the Java Platform Manager:</p>\n<blockquote>\n<p>Use to register different versions of the Java Development Kit (JDK) and other Java tools that your programs depend on. The dialog box lists all of your registered JDKs in the left pane and lists the JDK that the IDE is running on as the Default Platform.</p>\n</blockquote>\n<p>So I'll have to change platform for each project, because NetBeans 8.2 can not run with JDK 1.7 (so I can't set it as the default platform).</p>\n<p>There is a <a href=\"http://plugins.netbeans.org/plugin/63132/?show=true\" rel=\"noreferrer\">recent plugin</a> that allows to right-click <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"noreferrer\">Maven</a> projects to set the JDK (still cannot set it by default).</p>\n"},{"tags":[],"owner":{"account_id":2280476,"reputation":247,"user_id":2005683,"display_name":"Jovo Skorupan"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1633348300,"creation_date":1512554986,"answer_id":47671673,"question_id":40909025,"body_markdown":"There is no [Eclipse][1]-like default option.\r\n\r\nYou can set the Java platform for every imported project.\r\nSee *https://stackoverflow.com/questions/4128256/change-jre-in-a-netbeans-project*\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Eclipse_%28software%29\r\n\r\n","title":"How can I set the default Java platform in NetBeans 8.2?","body":"<p>There is no <a href=\"https://en.wikipedia.org/wiki/Eclipse_%28software%29\" rel=\"nofollow noreferrer\">Eclipse</a>-like default option.</p>\n<p>You can set the Java platform for every imported project.\nSee <em><a href=\"https://stackoverflow.com/questions/4128256/change-jre-in-a-netbeans-project\">Change JRE in a NetBeans project</a></em></p>\n"}],"owner":{"account_id":1112010,"reputation":1374,"user_id":1102310,"display_name":"Groben"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33318,"favorite_count":0,"down_vote_count":15,"up_vote_count":21,"accepted_answer_id":41267479,"answer_count":3,"score":6,"last_activity_date":1636480262,"creation_date":1480590330,"question_id":40909025,"body_markdown":"I want to set the default Java Platform which is used to build my projects in NetBeans 8.2 (netbeans_jdkhome).\r\n\r\nPrior versions allowed me to do that. [See this answer][1].\r\n\r\nThe only problem is that I want to set this platform to be 1.7 (instead of current 1.8), but NetBeans 8.2 requires to run on 1.8, so I cannot have 1.7 as the default Java Platform.\r\n\r\nIs there a way to override it?\r\n\r\n  [1]: https://stackoverflow.com/questions/6950960/how-to-set-the-jdk-netbeans-runs-on\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can I set the default Java platform in NetBeans 8.2?","body":"<p>I want to set the default Java Platform which is used to build my projects in NetBeans 8.2 (netbeans_jdkhome).</p>\n<p>Prior versions allowed me to do that. <a href=\"https://stackoverflow.com/questions/6950960/how-to-set-the-jdk-netbeans-runs-on\">See this answer</a>.</p>\n<p>The only problem is that I want to set this platform to be 1.7 (instead of current 1.8), but NetBeans 8.2 requires to run on 1.8, so I cannot have 1.7 as the default Java Platform.</p>\n<p>Is there a way to override it?</p>\n"},{"tags":["java","rest","design-patterns","dao","dto"],"comments":[{"owner":{"account_id":1455702,"reputation":15682,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":1,"creation_date":1636417708,"post_id":69850710,"comment_id":123546619,"body_markdown":"The terms have specific meaning in JPA: [Entities or DTOs – When should you use which projection?](https://thorben-janssen.com/entities-dtos-use-projection/)","body":"The terms have specific meaning in JPA: <a href=\"https://thorben-janssen.com/entities-dtos-use-projection/\" rel=\"nofollow noreferrer\">Entities or DTOs – When should you use which projection?</a>"},{"owner":{"account_id":8947594,"reputation":103,"user_id":6674444,"display_name":"Hasan Durukan"},"score":0,"creation_date":1636469001,"post_id":69850710,"comment_id":123561646,"body_markdown":"@jaco0646 this is much closer answer to my question, can you post it so i can accept it.","body":"@jaco0646 this is much closer answer to my question, can you post it so i can accept it."},{"owner":{"account_id":13026486,"reputation":311,"user_id":9414329,"display_name":"Ahmed Alhallag"},"score":0,"creation_date":1665517536,"post_id":69850710,"comment_id":130718258,"body_markdown":"Thank you for this beautifully crafted question!","body":"Thank you for this beautifully crafted question!"}],"answers":[{"tags":[],"owner":{"account_id":22093934,"reputation":448,"user_id":16351561,"display_name":"AndreaCavallo.class"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1636105828,"creation_date":1636105828,"answer_id":69851334,"question_id":69850710,"body_markdown":"**DTO** is an abbreviation for Data Transfer Object, so it is used to transfer the data between classes and modules of your application.\r\n\r\n**DTO** should only contain private fields for your data, getters, setters, and constructors.\r\n**DTO** is not recommended to add business logic methods to such classes, but it is OK to add some util methods.\r\n**DAO** is an abbreviation for Data Access Object, so it should encapsulate the logic for retrieving, saving and updating data in your data storage (a database, a file-system, whatever).\r\n\r\nHere is an example of how the DAO and DTO interfaces would look like:\r\n\r\n    interface PersonDTO {\r\n        String getName();\r\n        void setName(String name);\r\n        //.....\r\n    }\r\n\r\n    interface PersonDAO {\r\n        PersonDTO findById(long id);\r\n        void save(PersonDTO person);\r\n        //.....\r\n    }\r\n\r\n    @Entity\r\n    public class Person {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    @NotNull\r\n    protected String name;\r\n    ...getter and setter\r\n    }\r\nAn **entity** is a lightweight persistence domain object. Typically, an entity represents a table in a relational database, and each entity instance corresponds to a row in that table.\r\n","title":"DTO, DAO and Entity ? Is Entity needed ? Best pratice with those 3?","body":"<p><strong>DTO</strong> is an abbreviation for Data Transfer Object, so it is used to transfer the data between classes and modules of your application.</p>\n<p><strong>DTO</strong> should only contain private fields for your data, getters, setters, and constructors.\n<strong>DTO</strong> is not recommended to add business logic methods to such classes, but it is OK to add some util methods.\n<strong>DAO</strong> is an abbreviation for Data Access Object, so it should encapsulate the logic for retrieving, saving and updating data in your data storage (a database, a file-system, whatever).</p>\n<p>Here is an example of how the DAO and DTO interfaces would look like:</p>\n<pre><code>interface PersonDTO {\n    String getName();\n    void setName(String name);\n    //.....\n}\n\ninterface PersonDAO {\n    PersonDTO findById(long id);\n    void save(PersonDTO person);\n    //.....\n}\n\n@Entity\npublic class Person {\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Long id;\n@NotNull\nprotected String name;\n...getter and setter\n}\n</code></pre>\n<p>An <strong>entity</strong> is a lightweight persistence domain object. Typically, an entity represents a table in a relational database, and each entity instance corresponds to a row in that table.</p>\n"},{"tags":[],"owner":{"account_id":1455702,"reputation":15682,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1636479968,"creation_date":1636479968,"answer_id":69902755,"question_id":69850710,"body_markdown":"In JPA, [Entities vs DTOs](https://thorben-janssen.com/entities-dtos-use-projection/) are two different _projections_ that can be returned from your DAO or Repository. The difference is that Entities are managed (beans) whereas DTOs are unmanaged (simple data carriers). This makes an Entity a direct representation of a database where a DTO is just a message.\r\n\r\n* Entity == database table (in object form) that maintains a link to the persistence layer\r\n* DTO == data that may (or may not) represent one or more tables but has no reference to a persistence layer\r\n\r\nNote the &quot;reference to a persistence layer&quot; in modern Java is often handled through annotations.\r\n\r\nSince people use these terms loosely and interchangeably, the JPA distinction is not always followed in conversation; but it is one clearcut way to separate definitions.\r\n\r\nRelated:\r\n* https://stackoverflow.com/questions/39397147/difference-between-entity-and-dto\r\n* https://stackoverflow.com/questions/8550124/what-is-the-difference-between-dao-and-repository-patterns\r\n","title":"DTO, DAO and Entity ? Is Entity needed ? Best pratice with those 3?","body":"<p>In JPA, <a href=\"https://thorben-janssen.com/entities-dtos-use-projection/\" rel=\"noreferrer\">Entities vs DTOs</a> are two different <em>projections</em> that can be returned from your DAO or Repository. The difference is that Entities are managed (beans) whereas DTOs are unmanaged (simple data carriers). This makes an Entity a direct representation of a database where a DTO is just a message.</p>\n<ul>\n<li>Entity == database table (in object form) that maintains a link to the persistence layer</li>\n<li>DTO == data that may (or may not) represent one or more tables but has no reference to a persistence layer</li>\n</ul>\n<p>Note the &quot;reference to a persistence layer&quot; in modern Java is often handled through annotations.</p>\n<p>Since people use these terms loosely and interchangeably, the JPA distinction is not always followed in conversation; but it is one clearcut way to separate definitions.</p>\n<p>Related:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/39397147/difference-between-entity-and-dto\">Difference between Entity and DTO</a></li>\n<li><a href=\"https://stackoverflow.com/questions/8550124/what-is-the-difference-between-dao-and-repository-patterns\">What is the difference between DAO and Repository patterns?</a></li>\n</ul>\n"}],"owner":{"account_id":8947594,"reputation":103,"user_id":6674444,"display_name":"Hasan Durukan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8972,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":69902755,"answer_count":2,"score":6,"last_activity_date":1636479968,"creation_date":1636102753,"question_id":69850710,"body_markdown":"I assume if you&#39;re using DTO and DAO, there is no need for entities, at least examples that i saw in this way. Or is it optional to have entities in this scenario ?\r\n\r\n    public interface CustomerResource {\r\n    \r\n        @GET\r\n        @Path(&quot;/getCustomerListByUserID/{userID}&quot;)\r\n        Response getCustomerListByUserID(@PathParam(&quot;userID&quot;) String userID);\r\n\r\n        @DELETE\r\n        @Path(&quot;/deleteCustomer/{customerID}&quot;)\r\n        Response deleteCustomer(@PathParam(&quot;customerID&quot;) int customerID);\r\n\r\n        @POST\r\n        @Path(&quot;/updateCustomer&quot;)\r\n        Response updateCustomer(CustomerDTO customer);\r\n     }\r\n\r\n   ``` \r\n\r\n\r\npublic class CustomerResourceImpl implements CustomerResource{\r\n\r\n    @Override\r\n    public Response deleteCustomer(int customerID) {\r\n        internalService.deleteCustomer(customerID);\r\n    }\r\n\r\n    @Override\r\n    public Response getCustomerListByUserID(String userID) {\r\n        internalService.getCustomerListByUserID(customerID);\r\n    }\r\n\r\n    @Override\r\n    public Response updateCustomer(CustomerDTO customer) {\r\n        internalService.updateCustomer(customer);\r\n    }\r\n}\r\n\r\npublic interface CustomerDAO extends BaseDAO&lt;CustomerDTO&gt; {\r\n    \r\n        List&lt;CustomerDTO&gt; getCustomerListByUserID(String userID);\r\n    \r\n        void deleteCustomer(Integer customerID);\r\n    \r\n        void updateCustomer(CustomerDTO customer);\r\n    }\r\n\r\n```\r\n\r\n**And internalService directly calls CustomerDAO**\r\n\r\nAre there anything wrong about this structure, how can it be better, is there any need for Customer entity?\r\n\r\n***Thank you so much !\r\nWish success for you all !***","title":"DTO, DAO and Entity ? Is Entity needed ? Best pratice with those 3?","body":"<p>I assume if you're using DTO and DAO, there is no need for entities, at least examples that i saw in this way. Or is it optional to have entities in this scenario ?</p>\n<pre><code>public interface CustomerResource {\n\n    @GET\n    @Path(&quot;/getCustomerListByUserID/{userID}&quot;)\n    Response getCustomerListByUserID(@PathParam(&quot;userID&quot;) String userID);\n\n    @DELETE\n    @Path(&quot;/deleteCustomer/{customerID}&quot;)\n    Response deleteCustomer(@PathParam(&quot;customerID&quot;) int customerID);\n\n    @POST\n    @Path(&quot;/updateCustomer&quot;)\n    Response updateCustomer(CustomerDTO customer);\n }\n</code></pre>\n<pre><code>\n\npublic class CustomerResourceImpl implements CustomerResource{\n\n @Override\n public Response deleteCustomer(int customerID) {\n     internalService.deleteCustomer(customerID);\n }\n\n @Override\n public Response getCustomerListByUserID(String userID) {\n     internalService.getCustomerListByUserID(customerID);\n }\n\n @Override\n public Response updateCustomer(CustomerDTO customer) {\n     internalService.updateCustomer(customer);\n }\n}\n\npublic interface CustomerDAO extends BaseDAO&lt;CustomerDTO&gt; {\n \n     List&lt;CustomerDTO&gt; getCustomerListByUserID(String userID);\n \n     void deleteCustomer(Integer customerID);\n \n     void updateCustomer(CustomerDTO customer);\n }\n\n</code></pre>\n<p><strong>And internalService directly calls CustomerDAO</strong></p>\n<p>Are there anything wrong about this structure, how can it be better, is there any need for Customer entity?</p>\n<p><em><strong>Thank you so much !\nWish success for you all !</strong></em></p>\n"},{"tags":["java","postgresql","stored-procedures","jdbc"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1636479811,"post_id":69902549,"comment_id":123566447,"body_markdown":"Currently you can&#39;t use the JDBC `{call ...}` syntax with a CallableStatement. You need to use a `PreparedStatement` with a &quot;plain&quot; SQL statement: `call my_procedure(...)`","body":"Currently you can&#39;t use the JDBC <code>{call ...}</code> syntax with a CallableStatement. You need to use a <code>PreparedStatement</code> with a &quot;plain&quot; SQL statement: <code>call my_procedure(...)</code>"},{"owner":{"account_id":19249078,"reputation":23,"user_id":16591018,"display_name":"NEON"},"score":0,"creation_date":1636480089,"post_id":69902549,"comment_id":123566549,"body_markdown":"a-horse-with-no-name, thanks, but I need to register out parameter (id) from the DB. So how to do that? As I understand I can`t do it using &quot;plain&quot; statements.","body":"a-horse-with-no-name, thanks, but I need to register out parameter (id) from the DB. So how to do that? As I understand I can`t do it using &quot;plain&quot; statements."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1636482126,"post_id":69902549,"comment_id":123567300,"body_markdown":"Historically, the PostgreSQL JDBC driver uses `call` to execute stored functions. Stored procedures are a recent addition to PostgreSQL. You need to configure it (`escapeSyntaxCallMode`, value `callIfNoReturn`), see https://jdbc.postgresql.org/documentation/head/callproc.html#call-procedure-example.","body":"Historically, the PostgreSQL JDBC driver uses <code>call</code> to execute stored functions. Stored procedures are a recent addition to PostgreSQL. You need to configure it (<code>escapeSyntaxCallMode</code>, value <code>callIfNoReturn</code>), see <a href=\"https://jdbc.postgresql.org/documentation/head/callproc.html#call-procedure-example\" rel=\"nofollow noreferrer\">jdbc.postgresql.org/documentation/head/&hellip;</a>."},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1636483075,"post_id":69902549,"comment_id":123567615,"body_markdown":"If you want to return something, then why not use a function to begin with?","body":"If you want to return something, then why not use a function to begin with?"},{"owner":{"account_id":19249078,"reputation":23,"user_id":16591018,"display_name":"NEON"},"score":0,"creation_date":1636483391,"post_id":69902549,"comment_id":123567723,"body_markdown":"a_horse_with_no_name, there`s no real need to return anything.","body":"a_horse_with_no_name, there`s no real need to return anything."}],"owner":{"account_id":19249078,"reputation":23,"user_id":16591018,"display_name":"NEON"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1636808329,"answer_count":0,"score":0,"last_activity_date":1636479693,"creation_date":1636478982,"question_id":69902549,"body_markdown":"After using this code\r\n\r\n       CallableStatement callableStatement = null;\r\n        \r\n       String sqlCall = &quot;{call my_schema.my_procedure(?,?,?,?,?,?)}&quot;;\r\n\r\n       callableStatement = connection.prepareCall(sqlCall);\r\n\r\nwhen I print callableStetement to check, it suprisingly turns into \r\n\r\n    &quot;select * from my_schema.my_procedure(?,?,?,?,?,?) as result&quot;.\r\n\r\nBut why?\r\n\r\nWhen I try to run this SQL directly in DBMS, it says &quot;ERROR: my_shema.my_procedure(integer, unknown, unknown, unknown, unknown, unknown) is a procedure Hint: To call a procedure, use CALL.&quot;;\r\n\r\nFor the first parameter I`m supposed to use registerOutParameter method.\r\n\r\nHow to run the procedure using JDBC? May be there`s something related to the database/procedure settings?\r\n\r\nFor JDBC I use 42.2.5 PostgreSQL Driver.\r\n\r\nThe version of PostgreSQL is 11.5\r\n","title":"JDBC Connection.prepareCall changes &quot;сall&quot; of procedure into &quot;select&quot;","body":"<p>After using this code</p>\n<pre><code>   CallableStatement callableStatement = null;\n    \n   String sqlCall = &quot;{call my_schema.my_procedure(?,?,?,?,?,?)}&quot;;\n\n   callableStatement = connection.prepareCall(sqlCall);\n</code></pre>\n<p>when I print callableStetement to check, it suprisingly turns into</p>\n<pre><code>&quot;select * from my_schema.my_procedure(?,?,?,?,?,?) as result&quot;.\n</code></pre>\n<p>But why?</p>\n<p>When I try to run this SQL directly in DBMS, it says &quot;ERROR: my_shema.my_procedure(integer, unknown, unknown, unknown, unknown, unknown) is a procedure Hint: To call a procedure, use CALL.&quot;;</p>\n<p>For the first parameter I`m supposed to use registerOutParameter method.</p>\n<p>How to run the procedure using JDBC? May be there`s something related to the database/procedure settings?</p>\n<p>For JDBC I use 42.2.5 PostgreSQL Driver.</p>\n<p>The version of PostgreSQL is 11.5</p>\n"},{"tags":["java","spring-boot","scheduler"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1636358659,"post_id":69880139,"comment_id":123525349,"body_markdown":"Would ConditionalOnProperty and EnvironmentPostPressor help in this case?  The default property in the config file could be (False), and once you are ready to autowire the scheduler, then set the property to (True)?\n\nWould be great if you can also edit your question and show your TestScheduler","body":"Would ConditionalOnProperty and EnvironmentPostPressor help in this case?  The default property in the config file could be (False), and once you are ready to autowire the scheduler, then set the property to (True)?  Would be great if you can also edit your question and show your TestScheduler"},{"owner":{"account_id":9628206,"reputation":1,"user_id":7147135,"display_name":"Likitha G"},"score":0,"creation_date":1636359338,"post_id":69880139,"comment_id":123525558,"body_markdown":"Thank you so much! Sure, i will try  it now, added TestScheduler for reference.","body":"Thank you so much! Sure, i will try  it now, added TestScheduler for reference."}],"owner":{"account_id":9628206,"reputation":1,"user_id":7147135,"display_name":"Likitha G"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636479469,"creation_date":1636357902,"question_id":69880139,"body_markdown":"I followed https://stackoverflow.com/a/50216003/4770397 to start and stop springboot scheduler using rest endpoints. However, I want to stop scheduler on start up as per the requirement, I am trying to call the stopTestScheduler method on postconstructs but nothing seems to work. Can anyone please help.\r\n\r\n\r\n    public class Test {\r\n    \r\n    \tpublic static final String TESTSCHEDULER = &quot;TestScheduler&quot;;\r\n    \r\n    \t@Autowired\r\n    \tTestScheduler testScheduler;\r\n    \r\n    \t@Autowired\r\n    \tprivate ScheduledAnnotationBeanPostProcessor postProcessor;\r\n    \r\n    \tpublic void startTestScheduler() {\r\n    \t\tpostProcessor.postProcessAfterInitialization(testScheduler, TESTSCHEDULER);\r\n    \t}\r\n    \r\n    \tpublic void stopTestScheduler() {\r\n    \t\tpostProcessor.postProcessBeforeDestruction(testSCHEDULER, TESTSCHEDULER);\r\n    \t}\r\n    \r\n    }\r\n    \r\n    \r\n    @Configuration\r\n    @EnableAsync\r\n    @Slf4j\r\n    public class TestScheduler {\r\n    \r\n    \t@Autowired\r\n    \tprivate TestService testService;\r\n    \r\n    \t@Scheduled(cron = Constants.CRONSCHEDULEREXPRESSION)\r\n    \t@Async\r\n    \tpublic void trigger() throws IllegalArgumentException, Exception {\r\n    \t\ttestService.test();\r\n    \t}\r\n    }\r\n\r\n","title":"How to stop springboot scheduler on startup","body":"<p>I followed <a href=\"https://stackoverflow.com/a/50216003/4770397\">https://stackoverflow.com/a/50216003/4770397</a> to start and stop springboot scheduler using rest endpoints. However, I want to stop scheduler on start up as per the requirement, I am trying to call the stopTestScheduler method on postconstructs but nothing seems to work. Can anyone please help.</p>\n<pre><code>public class Test {\n\n    public static final String TESTSCHEDULER = &quot;TestScheduler&quot;;\n\n    @Autowired\n    TestScheduler testScheduler;\n\n    @Autowired\n    private ScheduledAnnotationBeanPostProcessor postProcessor;\n\n    public void startTestScheduler() {\n        postProcessor.postProcessAfterInitialization(testScheduler, TESTSCHEDULER);\n    }\n\n    public void stopTestScheduler() {\n        postProcessor.postProcessBeforeDestruction(testSCHEDULER, TESTSCHEDULER);\n    }\n\n}\n\n\n@Configuration\n@EnableAsync\n@Slf4j\npublic class TestScheduler {\n\n    @Autowired\n    private TestService testService;\n\n    @Scheduled(cron = Constants.CRONSCHEDULEREXPRESSION)\n    @Async\n    public void trigger() throws IllegalArgumentException, Exception {\n        testService.test();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","gradle","heroku"],"answers":[{"tags":[],"owner":{"account_id":19970181,"reputation":186,"user_id":14635852,"display_name":"Josh Van de Walle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636479467,"creation_date":1636479467,"answer_id":69902667,"question_id":69894961,"body_markdown":"Answering because I can&#39;t comment. A couple thoughts. You may not need a Procfile for a Spring Boot app since there is a built-in web server (unless you want to override something). Also found [this][1] similar scenario where it was a postgres driver issue.\r\n\r\n\r\n  [1]: https://itqna.net/questions/51592/heroku-server-h10-code-error-spring-boot-project","title":"Heroku Spring Boot Gradle App Deployed but App is crashing","body":"<p>Answering because I can't comment. A couple thoughts. You may not need a Procfile for a Spring Boot app since there is a built-in web server (unless you want to override something). Also found <a href=\"https://itqna.net/questions/51592/heroku-server-h10-code-error-spring-boot-project\" rel=\"nofollow noreferrer\">this</a> similar scenario where it was a postgres driver issue.</p>\n"}],"owner":{"account_id":7008622,"reputation":1462,"user_id":5372268,"accept_rate":55,"display_name":"Ahmad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636479467,"creation_date":1636446729,"question_id":69894961,"body_markdown":"I have created Spring Boot Gradle Application with PostgreSQL database and deployed on heroku\r\n\r\n    remote: -----&gt; Building on the Heroku-20 stack\r\n    remote: -----&gt; Using buildpack: heroku/gradle\r\n    remote: -----&gt; Gradle app detected\r\n    remote: -----&gt; Spring Boot detected\r\n    remote: -----&gt; Installing JDK 1.8... done\r\n    remote: -----&gt; Building Gradle app...\r\n    remote: -----&gt; executing ./gradlew build -x check\r\n    remote:        To honour the JVM settings for this build a single-use Daemon process will be forked. See https://docs.gradle.org/7.2/userguide/gradle_daemon.html#sec:disabling_the_daemon.\r\n    remote:        Daemon will be stopped at the end of the build\r\n    remote:        &gt; Task :compileJava\r\n    remote:        &gt; Task :processResources\r\n    remote:        &gt; Task :classes\r\n    remote:        &gt; Task :bootJarMainClassName\r\n    remote:        &gt; Task :bootJar\r\n    remote:        &gt; Task :jar\r\n    remote:        &gt; Task :assemble\r\n    remote:        &gt; Task :build\r\n    remote:\r\n    remote:        BUILD SUCCESSFUL in 10s\r\n    remote:        5 actionable tasks: 5 executed\r\n    remote: -----&gt; Discovering process types\r\n    remote:        Procfile declares types     -&gt; (none)\r\n    remote:        Default types for buildpack -&gt; web\r\n    remote:\r\n    remote: -----&gt; Compressing...\r\n    remote:        Done: 88.2M\r\n    remote: -----&gt; Launching...\r\n    remote:        Released v31\r\n    remote:        https://lawcase.herokuapp.com/ deployed to Heroku\r\n    remote:\r\n    remote: Verifying deploy... done.\r\n    To https://git.heroku.com/lawcase.git\r\n       464da17..2c2db7c  main -&gt; main\r\n\r\nApp is deployed on heroku with this URL https://lawcase.herokuapp.com, I have developed Rest APIs in my Spring Boot APP,\r\nI have also added ProcFile\r\n\r\n    web: java -jar build/libs/LawCase-0.0.1-SNAPSHOT-plain.jar\r\n\r\nbut when i tried to hit API using URL with Postman\r\n\r\n     https://lawcase.herokuapp.com/getprofiles\r\n\r\nI am getting 503 Service Unavailable\r\n\r\nhere are the heroku logs\r\n\r\n        2021-11-09T08:13:26.000000+00:00 app[api]: Build started by user ahmad.sardar@hotmail.com\r\n    2021-11-09T08:13:53.069450+00:00 app[api]: Release v30 created by user ahmad.sardar@hotmail.com\r\n    2021-11-09T08:13:53.069450+00:00 app[api]: Deploy 464da17a by user ahmad.sardar@hotmail.com\r\n    2021-11-09T08:13:56.790716+00:00 heroku[web.1]: State changed from crashed to starting\r\n    2021-11-09T08:13:59.975307+00:00 heroku[web.1]: Starting process with command `java -jar build/libs/LawCase-0.0.1-SNAPSHOT-plain.jar`\r\n    2021-11-09T08:14:00.808404+00:00 app[web.1]: Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8\r\n    2021-11-09T08:14:00.883195+00:00 app[web.1]: no main manifest attribute, in build/libs/LawCase-0.0.1-SNAPSHOT-plain.jar\r\n    2021-11-09T08:14:01.026544+00:00 heroku[web.1]: Process exited with status 1\r\n    2021-11-09T08:14:01.157284+00:00 heroku[web.1]: State changed from starting to crashed\r\n    2021-11-09T08:14:01.179061+00:00 heroku[web.1]: State changed from crashed to starting\r\n    2021-11-09T08:14:04.663230+00:00 heroku[web.1]: Starting process with command `java -jar build/libs/LawCase-0.0.1-SNAPSHOT-plain.jar`\r\n    2021-11-09T08:14:05.581810+00:00 app[web.1]: Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8\r\n    2021-11-09T08:14:05.645857+00:00 app[web.1]: no main manifest attribute, in build/libs/LawCase-0.0.1-SNAPSHOT-plain.jar\r\n    2021-11-09T08:14:05.769007+00:00 heroku[web.1]: Process exited with status 1\r\n    2021-11-09T08:14:06.249030+00:00 heroku[web.1]: State changed from starting to crashed\r\n    2021-11-09T08:14:07.000000+00:00 app[api]: Build succeeded\r\n    2021-11-09T08:14:45.278393+00:00 heroku[router]: at=error code=H10 desc=&quot;App crashed&quot; method=GET path=&quot;/&quot; host=lawcase.herokuapp.com request_id=788e94d4-a03c-4df8-a9aa-d1b68cc69c55 fwd=&quot;39.45.237.31&quot; dyno= connect= service= status=503 bytes= protocol=https\r\n    2021-11-09T08:14:46.771103+00:00 heroku[router]: at=error code=H10 desc=&quot;App crashed&quot; method=GET path=&quot;/favicon.ico&quot; host=lawcase.herokuapp.com request_id=35c2d34e-95f2-473c-96f5-b25306390781 fwd=&quot;39.45.237.31&quot; dyno= connect= service= status=503 bytes= protocol=https\r\n    2021-11-09T08:15:09.157754+00:00 heroku[router]: at=error code=H10 desc=&quot;App crashed&quot; method=GET path=&quot;/getprofiles&quot; host=lawcase.herokuapp.com request_id=dfc5e5f1-1ab8-4dd4-9677-c6557e5dae38 fwd=&quot;39.45.237.31&quot; dyno= connect= service= status=503 bytes= protocol=https\r\n\r\nI have tried different solutions from stackoverflow\r\n\r\nhttps://stackoverflow.com/questions/46912667/heroku-jar-deployment-of-spring-boot-with-maven-application-giving-code-h10\r\n\r\nhttps://stackoverflow.com/questions/48343432/heroku-error-code-h10-when-spring-boot-app-is-deployed\r\n\r\nhttps://stackoverflow.com/questions/40711333/spring-boot-on-heroku-h10-app-crash\r\n\r\nhttps://stackoverflow.com/questions/62222288/how-can-resolve-503-service-unavailable-after-get-post-on-spring-boot-and-hero?noredirect=1#comment110051038_62222288\r\n\r\nhttps://stackoverflow.com/questions/61064544/herokuweb-1-state-changed-from-starting-to-crashed\r\n\r\nBut I am unable to solve my problem and my app is not working, could anyone please help how to properly deploy and up my APP on Heroku.","title":"Heroku Spring Boot Gradle App Deployed but App is crashing","body":"<p>I have created Spring Boot Gradle Application with PostgreSQL database and deployed on heroku</p>\n<pre><code>remote: -----&gt; Building on the Heroku-20 stack\nremote: -----&gt; Using buildpack: heroku/gradle\nremote: -----&gt; Gradle app detected\nremote: -----&gt; Spring Boot detected\nremote: -----&gt; Installing JDK 1.8... done\nremote: -----&gt; Building Gradle app...\nremote: -----&gt; executing ./gradlew build -x check\nremote:        To honour the JVM settings for this build a single-use Daemon process will be forked. See https://docs.gradle.org/7.2/userguide/gradle_daemon.html#sec:disabling_the_daemon.\nremote:        Daemon will be stopped at the end of the build\nremote:        &gt; Task :compileJava\nremote:        &gt; Task :processResources\nremote:        &gt; Task :classes\nremote:        &gt; Task :bootJarMainClassName\nremote:        &gt; Task :bootJar\nremote:        &gt; Task :jar\nremote:        &gt; Task :assemble\nremote:        &gt; Task :build\nremote:\nremote:        BUILD SUCCESSFUL in 10s\nremote:        5 actionable tasks: 5 executed\nremote: -----&gt; Discovering process types\nremote:        Procfile declares types     -&gt; (none)\nremote:        Default types for buildpack -&gt; web\nremote:\nremote: -----&gt; Compressing...\nremote:        Done: 88.2M\nremote: -----&gt; Launching...\nremote:        Released v31\nremote:        https://lawcase.herokuapp.com/ deployed to Heroku\nremote:\nremote: Verifying deploy... done.\nTo https://git.heroku.com/lawcase.git\n   464da17..2c2db7c  main -&gt; main\n</code></pre>\n<p>App is deployed on heroku with this URL <a href=\"https://lawcase.herokuapp.com\" rel=\"nofollow noreferrer\">https://lawcase.herokuapp.com</a>, I have developed Rest APIs in my Spring Boot APP,\nI have also added ProcFile</p>\n<pre><code>web: java -jar build/libs/LawCase-0.0.1-SNAPSHOT-plain.jar\n</code></pre>\n<p>but when i tried to hit API using URL with Postman</p>\n<pre><code> https://lawcase.herokuapp.com/getprofiles\n</code></pre>\n<p>I am getting 503 Service Unavailable</p>\n<p>here are the heroku logs</p>\n<pre><code>    2021-11-09T08:13:26.000000+00:00 app[api]: Build started by user ahmad.sardar@hotmail.com\n2021-11-09T08:13:53.069450+00:00 app[api]: Release v30 created by user ahmad.sardar@hotmail.com\n2021-11-09T08:13:53.069450+00:00 app[api]: Deploy 464da17a by user ahmad.sardar@hotmail.com\n2021-11-09T08:13:56.790716+00:00 heroku[web.1]: State changed from crashed to starting\n2021-11-09T08:13:59.975307+00:00 heroku[web.1]: Starting process with command `java -jar build/libs/LawCase-0.0.1-SNAPSHOT-plain.jar`\n2021-11-09T08:14:00.808404+00:00 app[web.1]: Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8\n2021-11-09T08:14:00.883195+00:00 app[web.1]: no main manifest attribute, in build/libs/LawCase-0.0.1-SNAPSHOT-plain.jar\n2021-11-09T08:14:01.026544+00:00 heroku[web.1]: Process exited with status 1\n2021-11-09T08:14:01.157284+00:00 heroku[web.1]: State changed from starting to crashed\n2021-11-09T08:14:01.179061+00:00 heroku[web.1]: State changed from crashed to starting\n2021-11-09T08:14:04.663230+00:00 heroku[web.1]: Starting process with command `java -jar build/libs/LawCase-0.0.1-SNAPSHOT-plain.jar`\n2021-11-09T08:14:05.581810+00:00 app[web.1]: Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8\n2021-11-09T08:14:05.645857+00:00 app[web.1]: no main manifest attribute, in build/libs/LawCase-0.0.1-SNAPSHOT-plain.jar\n2021-11-09T08:14:05.769007+00:00 heroku[web.1]: Process exited with status 1\n2021-11-09T08:14:06.249030+00:00 heroku[web.1]: State changed from starting to crashed\n2021-11-09T08:14:07.000000+00:00 app[api]: Build succeeded\n2021-11-09T08:14:45.278393+00:00 heroku[router]: at=error code=H10 desc=&quot;App crashed&quot; method=GET path=&quot;/&quot; host=lawcase.herokuapp.com request_id=788e94d4-a03c-4df8-a9aa-d1b68cc69c55 fwd=&quot;39.45.237.31&quot; dyno= connect= service= status=503 bytes= protocol=https\n2021-11-09T08:14:46.771103+00:00 heroku[router]: at=error code=H10 desc=&quot;App crashed&quot; method=GET path=&quot;/favicon.ico&quot; host=lawcase.herokuapp.com request_id=35c2d34e-95f2-473c-96f5-b25306390781 fwd=&quot;39.45.237.31&quot; dyno= connect= service= status=503 bytes= protocol=https\n2021-11-09T08:15:09.157754+00:00 heroku[router]: at=error code=H10 desc=&quot;App crashed&quot; method=GET path=&quot;/getprofiles&quot; host=lawcase.herokuapp.com request_id=dfc5e5f1-1ab8-4dd4-9677-c6557e5dae38 fwd=&quot;39.45.237.31&quot; dyno= connect= service= status=503 bytes= protocol=https\n</code></pre>\n<p>I have tried different solutions from stackoverflow</p>\n<p><a href=\"https://stackoverflow.com/questions/46912667/heroku-jar-deployment-of-spring-boot-with-maven-application-giving-code-h10\">Heroku jar deployment of Spring Boot with Maven Application giving code=H10</a></p>\n<p><a href=\"https://stackoverflow.com/questions/48343432/heroku-error-code-h10-when-spring-boot-app-is-deployed\">Heroku error code H10 when Spring Boot app is deployed</a></p>\n<p><a href=\"https://stackoverflow.com/questions/40711333/spring-boot-on-heroku-h10-app-crash\">Spring Boot on Heroku - H10 &quot;app crash&quot;</a></p>\n<p><a href=\"https://stackoverflow.com/questions/62222288/how-can-resolve-503-service-unavailable-after-get-post-on-spring-boot-and-hero?noredirect=1#comment110051038_62222288\">How can resolve 503 (Service Unavailable) after GET/POST on Spring Boot and Heroku?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/61064544/herokuweb-1-state-changed-from-starting-to-crashed\">heroku[web.1]: State changed from starting to crashed</a></p>\n<p>But I am unable to solve my problem and my app is not working, could anyone please help how to properly deploy and up my APP on Heroku.</p>\n"},{"tags":["java","eclipse","inputstream","filereader"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":2,"creation_date":1636480220,"post_id":69902645,"comment_id":123566605,"body_markdown":"By default, the working directory is the project folder (which can be changed in the launch configuration in the tab _Arguments_). So you have to use `&quot;src/crimedata-full-month.csv&quot;` or `&quot;bin/crimedata-full-month.csv&quot;`. But better use [`getResourceAsStream`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#getResourceAsStream%28java.lang.String%29) instead of a File/FileReader because that will also work when exporting it to a JAR file.","body":"By default, the working directory is the project folder (which can be changed in the launch configuration in the tab <i>Arguments</i>). So you have to use <code>&quot;src&#47;crimedata-full-month.csv&quot;</code> or <code>&quot;bin&#47;crimedata-full-month.csv&quot;</code>. But better use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#getResourceAsStream%28java.lang.String%29\" rel=\"nofollow noreferrer\"><code>getResourceAsStream</code></a> instead of a File/FileReader because that will also work when exporting it to a JAR file."},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1636486108,"post_id":69902645,"comment_id":123568646,"body_markdown":"If you don&#39;t specify a path for the file then Java looks for it in the current working directory - which is usually not the &#39;src&#39; directory.","body":"If you don&#39;t specify a path for the file then Java looks for it in the current working directory - which is usually not the &#39;src&#39; directory."}],"owner":{"account_id":17706857,"reputation":21,"user_id":14617060,"display_name":"Stoiccowboy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1636479401,"creation_date":1636479401,"question_id":69902645,"body_markdown":"//This is where I read in my file \r\n\r\n    String fileName = &quot;crimedata-full-month.csv&quot;;\r\n        \r\n        FileReader file = new FileReader(fileName);\r\n        Scanner scan = new Scanner(file);\r\n\r\n//This is the error I get\r\n\r\n    Exception in thread &quot;main&quot; java.io.FileNotFoundException: crimedata-full-month.csv (No such file or directory)\r\n\tat java.base/java.io.FileInputStream.open0(Native Method)\r\n\tat java.base/java.io.FileInputStream.open(FileInputStream.java:216)\r\n\tat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\r\n\tat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:111)\r\n\tat java.base/java.io.FileReader.&lt;init&gt;(FileReader.java:60)\r\n\tat Crimes.main(Crimes.java:56)\r\n\r\n[This is the path it follows][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/J68Bw.png\r\n\r\nI&#39;m running this in Eclipse on my MacBook.","title":"Why is my file not being read in, even though its path is the same as another project where the file is read in successfully?","body":"<p>//This is where I read in my file</p>\n<pre><code>String fileName = &quot;crimedata-full-month.csv&quot;;\n    \n    FileReader file = new FileReader(fileName);\n    Scanner scan = new Scanner(file);\n</code></pre>\n<p>//This is the error I get</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.FileNotFoundException: crimedata-full-month.csv (No such file or directory)\nat java.base/java.io.FileInputStream.open0(Native Method)\nat java.base/java.io.FileInputStream.open(FileInputStream.java:216)\nat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\nat java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:111)\nat java.base/java.io.FileReader.&lt;init&gt;(FileReader.java:60)\nat Crimes.main(Crimes.java:56)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/J68Bw.png\" rel=\"nofollow noreferrer\">This is the path it follows</a></p>\n<p>I'm running this in Eclipse on my MacBook.</p>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":3859079,"reputation":2069,"user_id":3197244,"accept_rate":50,"display_name":"jgp"},"score":0,"creation_date":1636469912,"post_id":69899517,"comment_id":123562075,"body_markdown":"Could you repartition before? You could repartition on a different column or event create one...","body":"Could you repartition before? You could repartition on a different column or event create one..."}],"owner":{"account_id":12401345,"reputation":35,"user_id":11641277,"display_name":"Shariar Kabir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636479371,"creation_date":1636466465,"question_id":69899517,"body_markdown":"My partitioned data looks like the following\r\n\r\n```\r\n+---+-------+\r\n|tag|count  |\r\n+---+-------+\r\n|29 |240    |\r\n|22 |9941280|\r\n|27 |360    |\r\n|26 |900    |\r\n|23 |1941286|\r\n|25 |32939  |\r\n|24 |300148 |\r\n+---+-------+\r\n```\r\n\r\nwhere I have partitioned the row according to their `tag` column. Now I am using `mapPartition` to process the partitioned data parallelly.\r\nMy setup contains 3 worker nodes and 1 master. I expected the partitions will be distributed among the workers so that each have approximately the same amount of data.\r\n\r\nBut when I check the logs I saw the following:\r\n\r\nworker: 1\r\n```\r\nPartition Quartets Count: 1941286\r\nPartition Quartets Count: 9941280\r\n``` \r\nworker: 2\r\n```\r\nPartition Quartets Count: 360\r\nPartition Quartets Count: 300148\r\n```\r\nworker: 3\r\n```\r\nPartition Quartets Count: 240\r\nPartition Quartets Count: 900\r\nPartition Quartets Count: 32939\r\n```\r\n\r\nClearly, Apache Spark is distributing the partitions based on partition count, not partition size. Obviously, a better mapping would be something like: `| 9941280 | 1941286 | 300148+32939+240+360+900 |`\r\n\r\nIs there any way of enforcing this?","title":"Spark&#39;s mapPartition is causing skew among worker&#39;s data distribution. Is there a way to map data partition on workers based on partition size?","body":"<p>My partitioned data looks like the following</p>\n<pre><code>+---+-------+\n|tag|count  |\n+---+-------+\n|29 |240    |\n|22 |9941280|\n|27 |360    |\n|26 |900    |\n|23 |1941286|\n|25 |32939  |\n|24 |300148 |\n+---+-------+\n</code></pre>\n<p>where I have partitioned the row according to their <code>tag</code> column. Now I am using <code>mapPartition</code> to process the partitioned data parallelly.\nMy setup contains 3 worker nodes and 1 master. I expected the partitions will be distributed among the workers so that each have approximately the same amount of data.</p>\n<p>But when I check the logs I saw the following:</p>\n<p>worker: 1</p>\n<pre><code>Partition Quartets Count: 1941286\nPartition Quartets Count: 9941280\n</code></pre>\n<p>worker: 2</p>\n<pre><code>Partition Quartets Count: 360\nPartition Quartets Count: 300148\n</code></pre>\n<p>worker: 3</p>\n<pre><code>Partition Quartets Count: 240\nPartition Quartets Count: 900\nPartition Quartets Count: 32939\n</code></pre>\n<p>Clearly, Apache Spark is distributing the partitions based on partition count, not partition size. Obviously, a better mapping would be something like: <code>| 9941280 | 1941286 | 300148+32939+240+360+900 |</code></p>\n<p>Is there any way of enforcing this?</p>\n"},{"tags":["java","junit","mockito","junit5"],"owner":{"account_id":4948227,"reputation":167,"user_id":3983042,"display_name":"Alexandre Queiroz de Oliveira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":873,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636479332,"creation_date":1610124870,"question_id":65633144,"body_markdown":"I am using a JUnit 5.7.0 and n Mockito 3.6.28. When I try to mock the class ThreadLocal with the code below \r\n\r\n    ThreadLocal threadLocalMock = Mockito.mock(ThreadLocal.class); \r\n\r\nI receive the following error message:\r\n\r\n&gt; java.lang.NoClassDefFoundError: Could not initialize class java.util.logging.LogRecord\r\n\tat org.junit.platform.commons.logging.LoggerFactory$DelegatingLogger.createLogRecord(LoggerFactory.java:170)\r\n\tat org.junit.platform.commons.logging.LoggerFactory$DelegatingLogger.log(LoggerFactory.java:146)\r\n\tat org.junit.platform.commons.logging.LoggerFactory$DelegatingLogger.warn(LoggerFactory.java:100)\r\n\tat org.junit.platform.launcher.core.TestExecutionListenerRegistry.lambda$notifyEach$1(TestExecutionListenerRegistry.java:71)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.launcher.core.TestExecutionListenerRegistry.notifyEach(TestExecutionListenerRegistry.java:65)\r\n\tat org.junit.platform.launcher.core.TestExecutionListenerRegistry.access$200(TestExecutionListenerRegistry.java:32)\r\n\tat org.junit.platform.launcher.core.TestExecutionListenerRegistry$CompositeTestExecutionListener.executionFinished(TestExecutionListenerRegistry.java:108)\r\n\tat org.junit.platform.launcher.core.ExecutionListenerAdapter.executionFinished(ExecutionListenerAdapter.java:56)\r\n\tat org.junit.platform.launcher.core.DelegatingEngineExecutionListener.executionFinished(DelegatingEngineExecutionListener.java:46)\r\n\tat org.junit.platform.launcher.core.OutcomeDelayingEngineExecutionListener.reportEngineFailure(OutcomeDelayingEngineExecutionListener.java:83)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:113)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:84)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:542)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:770)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n\r\nIs there any way to resolve this problem ?","title":"Mockito does not mock the class ThreadLocal","body":"<p>I am using a JUnit 5.7.0 and n Mockito 3.6.28. When I try to mock the class ThreadLocal with the code below</p>\n<pre><code>ThreadLocal threadLocalMock = Mockito.mock(ThreadLocal.class); \n</code></pre>\n<p>I receive the following error message:</p>\n<blockquote>\n<p>java.lang.NoClassDefFoundError: Could not initialize class java.util.logging.LogRecord\nat org.junit.platform.commons.logging.LoggerFactory$DelegatingLogger.createLogRecord(LoggerFactory.java:170)\nat org.junit.platform.commons.logging.LoggerFactory$DelegatingLogger.log(LoggerFactory.java:146)\nat org.junit.platform.commons.logging.LoggerFactory$DelegatingLogger.warn(LoggerFactory.java:100)\nat org.junit.platform.launcher.core.TestExecutionListenerRegistry.lambda$notifyEach$1(TestExecutionListenerRegistry.java:71)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.junit.platform.launcher.core.TestExecutionListenerRegistry.notifyEach(TestExecutionListenerRegistry.java:65)\nat org.junit.platform.launcher.core.TestExecutionListenerRegistry.access$200(TestExecutionListenerRegistry.java:32)\nat org.junit.platform.launcher.core.TestExecutionListenerRegistry$CompositeTestExecutionListener.executionFinished(TestExecutionListenerRegistry.java:108)\nat org.junit.platform.launcher.core.ExecutionListenerAdapter.executionFinished(ExecutionListenerAdapter.java:56)\nat org.junit.platform.launcher.core.DelegatingEngineExecutionListener.executionFinished(DelegatingEngineExecutionListener.java:46)\nat org.junit.platform.launcher.core.OutcomeDelayingEngineExecutionListener.reportEngineFailure(OutcomeDelayingEngineExecutionListener.java:83)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:113)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:84)\nat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\nat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:542)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:770)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)</p>\n</blockquote>\n<p>Is there any way to resolve this problem ?</p>\n"},{"tags":["java","eclipse","maven","tomcat"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":1,"creation_date":1636463442,"post_id":69898231,"comment_id":123558993,"body_markdown":"Maybe with the maven antrun plugin you can copy files with more fine-grained control.","body":"Maybe with the maven antrun plugin you can copy files with more fine-grained control."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1636484507,"post_id":69898231,"comment_id":123568075,"body_markdown":"If you use Eclipse&#39;s [WTP Server Tools](https://www.eclipse.org/webtools/server/server.php) plugin, you don&#39;t need to deploy anything with Maven. The files `server.xml` and `context.xml` for example are copied from your `Servers` project to `$CATALINA_BASE/conf` whenever you start the server from Eclipse.","body":"If you use Eclipse&#39;s <a href=\"https://www.eclipse.org/webtools/server/server.php\" rel=\"nofollow noreferrer\">WTP Server Tools</a> plugin, you don&#39;t need to deploy anything with Maven. The files <code>server.xml</code> and <code>context.xml</code> for example are copied from your <code>Servers</code> project to <code>$CATALINA_BASE&#47;conf</code> whenever you start the server from Eclipse."},{"owner":{"account_id":22333868,"reputation":15,"user_id":16554773,"display_name":"Javier Vilarroig"},"score":0,"creation_date":1636553527,"post_id":69898231,"comment_id":123587771,"body_markdown":"@PiotrP.Karwasz I already tried WTP, but unfortunately the aplication we are using is a complex one where I must deploy 15 WAR files and I have been unable to use WTP. May be I must give it another try.","body":"@PiotrP.Karwasz I already tried WTP, but unfortunately the aplication we are using is a complex one where I must deploy 15 WAR files and I have been unable to use WTP. May be I must give it another try."},{"owner":{"account_id":22333868,"reputation":15,"user_id":16554773,"display_name":"Javier Vilarroig"},"score":0,"creation_date":1636553776,"post_id":69898231,"comment_id":123587880,"body_markdown":"@JFabianMeier  I&#39;m trying to avoid Ant to avoid having mixed syntax or additional files. But ant may be the way.","body":"@JFabianMeier  I&#39;m trying to avoid Ant to avoid having mixed syntax or additional files. But ant may be the way."}],"owner":{"account_id":22333868,"reputation":15,"user_id":16554773,"display_name":"Javier Vilarroig"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636479270,"creation_date":1636461257,"question_id":69898231,"body_markdown":"I&#39;m developing a web application in Java, using Tomcat, Maven and Eclipse.\r\n\r\nIn order to manually test the application while I develop, I&#39;m using Maven to copy some files to the right place in Tomcat. These files are not dependencies, just Tomcat configuration files I have in a local directory.\r\n\r\nI&#39;m copying them using the `copy-rename-maven-plugin` in the `process-resources` phase, so the files are in place for launching Tomcat manually, after compilation.\r\n\r\nThe problem I&#39;m facing is that touching some files (`context.xml` and `server.xml`), even without modifying them makes tomcat restart.\r\n\r\nThe ideal solution would be to configure `copy-rename-maven-plugin` to only overwrite a file if it has changed (or if it&#39;s newer) but it seems that it&#39;s not possible. So far I have been able to set overwrite to no, but then if there&#39;s a change in the original file is not going to be copied because the destination file already exists.","title":"How to copy a file in Maven only when it has changed","body":"<p>I'm developing a web application in Java, using Tomcat, Maven and Eclipse.</p>\n<p>In order to manually test the application while I develop, I'm using Maven to copy some files to the right place in Tomcat. These files are not dependencies, just Tomcat configuration files I have in a local directory.</p>\n<p>I'm copying them using the <code>copy-rename-maven-plugin</code> in the <code>process-resources</code> phase, so the files are in place for launching Tomcat manually, after compilation.</p>\n<p>The problem I'm facing is that touching some files (<code>context.xml</code> and <code>server.xml</code>), even without modifying them makes tomcat restart.</p>\n<p>The ideal solution would be to configure <code>copy-rename-maven-plugin</code> to only overwrite a file if it has changed (or if it's newer) but it seems that it's not possible. So far I have been able to set overwrite to no, but then if there's a change in the original file is not going to be copied because the destination file already exists.</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"score":0,"creation_date":1624130728,"post_id":68045361,"comment_id":120276378,"body_markdown":"I think you should find a way to executeUpdate on multiple queries, if it is possible.","body":"I think you should find a way to executeUpdate on multiple queries, if it is possible."},{"owner":{"account_id":9074369,"reputation":245,"user_id":6756475,"accept_rate":75,"display_name":"Kirinya"},"score":0,"creation_date":1624287089,"post_id":68045361,"comment_id":120310924,"body_markdown":"Do you update i somewhere in your code? What does the criteriaquery do?","body":"Do you update i somewhere in your code? What does the criteriaquery do?"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1624289783,"post_id":68045361,"comment_id":120312142,"body_markdown":"What kind of batching do you expect? By batching people usually refer to batching up inserts, but your sample seems to explicitly execute DML statements. Hibernate can&#39;t batch DML statements as the API always must return the update count which requires the statement to be executed immediately.","body":"What kind of batching do you expect? By batching people usually refer to batching up inserts, but your sample seems to explicitly execute DML statements. Hibernate can&#39;t batch DML statements as the API always must return the update count which requires the statement to be executed immediately."},{"owner":{"account_id":2635104,"reputation":1293,"user_id":2280027,"accept_rate":39,"display_name":"yazabara"},"score":0,"creation_date":1624645762,"post_id":68045361,"comment_id":120424426,"body_markdown":"Which strategy do you use for ID? https://stackoverflow.com/questions/63831206/spring-boot-appllication-batch-doesnt-work-in-jparepository-saveall-method/63836771#63836771","body":"Which strategy do you use for ID? <a href=\"https://stackoverflow.com/questions/63831206/spring-boot-appllication-batch-doesnt-work-in-jparepository-saveall-method/63836771#63836771\" title=\"spring boot appllication batch doesnt work in jparepository saveall method\">stackoverflow.com/questions/63831206/&hellip;</a>"},{"owner":{"account_id":8185232,"reputation":1345,"user_id":6161244,"display_name":"Constantin Konstantinidis"},"score":0,"creation_date":1624700408,"post_id":68045361,"comment_id":120433186,"body_markdown":"Batch size parameter seems set to 0 which falls back on JDBC2 strategy as [Documentation](https://docs.jboss.org/hibernate/orm/5.5/userguide/html_single/Hibernate_User_Guide.html#batch-jdbcbatch) says.","body":"Batch size parameter seems set to 0 which falls back on JDBC2 strategy as <a href=\"https://docs.jboss.org/hibernate/orm/5.5/userguide/html_single/Hibernate_User_Guide.html#batch-jdbcbatch\" rel=\"nofollow noreferrer\">Documentation</a> says."}],"answers":[{"tags":[],"owner":{"account_id":9280594,"reputation":92,"user_id":6891894,"display_name":"Ashutosh Thakur"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1624730549,"creation_date":1624730549,"answer_id":68145058,"question_id":68045361,"body_markdown":"This can be achieved using Session operations through EniityManager - persist or setting the updated value for a persistent instance of the entity class.\r\n\r\n```\r\nfor (int i = 0; i &lt; entities.size(); i++) {\r\n    if (i &gt; 0 &amp;&amp; i % JpaSettings.BATCH_SIZE == 0) {\r\n        entityManager.flush();\r\n        entityManager.clear();\r\n    }\r\n    ....\r\n    entityManager.persist(obj);\r\n}\r\nentityManager.flush();\r\nentityManager.clear();\r\n```\r\n\r\nAs for the number of records updated, you could check the query executed in the DB logs.\r\n\r\nOne thing to take care of while executing batch updates is the properties - hibernate.order_updates and hibernate.batch_versioned_data need to be set to true. The blog below demonstrates it.\r\n\r\nBlog : https://www.baeldung.com/jpa-hibernate-batch-insert-update","title":"Batch update with executeUpdate()","body":"<p>This can be achieved using Session operations through EniityManager - persist or setting the updated value for a persistent instance of the entity class.</p>\n<pre><code>for (int i = 0; i &lt; entities.size(); i++) {\n    if (i &gt; 0 &amp;&amp; i % JpaSettings.BATCH_SIZE == 0) {\n        entityManager.flush();\n        entityManager.clear();\n    }\n    ....\n    entityManager.persist(obj);\n}\nentityManager.flush();\nentityManager.clear();\n</code></pre>\n<p>As for the number of records updated, you could check the query executed in the DB logs.</p>\n<p>One thing to take care of while executing batch updates is the properties - hibernate.order_updates and hibernate.batch_versioned_data need to be set to true. The blog below demonstrates it.</p>\n<p>Blog : <a href=\"https://www.baeldung.com/jpa-hibernate-batch-insert-update\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jpa-hibernate-batch-insert-update</a></p>\n"},{"tags":[],"owner":{"account_id":17637797,"reputation":1850,"user_id":12800717,"display_name":"supernova"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624872298,"creation_date":1624872298,"answer_id":68160802,"question_id":68045361,"body_markdown":"You might just see data in that session if you do not have autocommit enabled.\r\n\r\n```\r\nentityManager.flush()\r\n```\r\nSends data to the DB and it&#39;s persisted for your session, but within transactional context. So if the transaction is not committed or rolled back or client is killed data of the transaction will not be transactionally be persisted to the table and hence you&#39;ll not be able to access it.\r\n\r\nSo try calling \r\n```\r\nentityManager.getTransaction().commit()\r\n``` \r\nand see if this changes behaviour. Note the transaction then can&#39;t be rolled back any more, but that should be obvious.","title":"Batch update with executeUpdate()","body":"<p>You might just see data in that session if you do not have autocommit enabled.</p>\n<pre><code>entityManager.flush()\n</code></pre>\n<p>Sends data to the DB and it's persisted for your session, but within transactional context. So if the transaction is not committed or rolled back or client is killed data of the transaction will not be transactionally be persisted to the table and hence you'll not be able to access it.</p>\n<p>So try calling</p>\n<pre><code>entityManager.getTransaction().commit()\n</code></pre>\n<p>and see if this changes behaviour. Note the transaction then can't be rolled back any more, but that should be obvious.</p>\n"},{"tags":[],"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624887539,"creation_date":1624887539,"answer_id":68164361,"question_id":68045361,"body_markdown":"This is not possible to do using `.executeUpdate()` because when you call this method  hibernate will execute this sql statement to get count of modified rows. So, there is no way to do batch update with `.executeUpdate()`.","title":"Batch update with executeUpdate()","body":"<p>This is not possible to do using <code>.executeUpdate()</code> because when you call this method  hibernate will execute this sql statement to get count of modified rows. So, there is no way to do batch update with <code>.executeUpdate()</code>.</p>\n"}],"owner":{"account_id":2301931,"reputation":123,"user_id":5182503,"display_name":"ThatsMe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1636479088,"creation_date":1624094486,"question_id":68045361,"body_markdown":"I want to execute batch update. I use JPA and Hibernate 5 as JPA provider and have the following code:\r\n\r\n    for (int i = 0; i &lt; entities.size(); i++) {\r\n        if (i &gt; 0 &amp;&amp; i % JpaSettings.BATCH_SIZE == 0) {\r\n            entityManager.flush();\r\n            entityManager.clear();\r\n        }\r\n        ....\r\n        count = count + entityManager.createQuery(criteria).executeUpdate();\r\n    }\r\n    entityManager.flush();\r\n    entityManager.clear();\r\n\r\nHowever, this code seems not to execute batch updates. Because when I, for example, do insert I see in log something like:\r\n\r\n    DEBUG org.hibernate.engine.jdbc.batch.internal.BatchingBatch - Executing batch size: 2\r\n\r\nBut I don&#39;t see this message after my update operations. Could anyone say how to do batch update using executeUpdate?. ","title":"Batch update with executeUpdate()","body":"<p>I want to execute batch update. I use JPA and Hibernate 5 as JPA provider and have the following code:</p>\n<pre><code>for (int i = 0; i &lt; entities.size(); i++) {\n    if (i &gt; 0 &amp;&amp; i % JpaSettings.BATCH_SIZE == 0) {\n        entityManager.flush();\n        entityManager.clear();\n    }\n    ....\n    count = count + entityManager.createQuery(criteria).executeUpdate();\n}\nentityManager.flush();\nentityManager.clear();\n</code></pre>\n<p>However, this code seems not to execute batch updates. Because when I, for example, do insert I see in log something like:</p>\n<pre><code>DEBUG org.hibernate.engine.jdbc.batch.internal.BatchingBatch - Executing batch size: 2\n</code></pre>\n<p>But I don't see this message after my update operations. Could anyone say how to do batch update using executeUpdate?.</p>\n"},{"tags":["java","ms-project","mpxj"],"comments":[{"owner":{"account_id":426916,"reputation":2822,"user_id":808409,"accept_rate":45,"display_name":"Sree"},"score":0,"creation_date":1338793313,"post_id":10876730,"comment_id":14174963,"body_markdown":"Hi Alex,  I have tried to create Microsoft Project (MPP) file in java.        I am able read it by mpxj library but unable to write it. Please suggest if it is possible to create mpp file in java ?","body":"Hi Alex,  I have tried to create Microsoft Project (MPP) file in java.        I am able read it by mpxj library but unable to write it. Please suggest if it is possible to create mpp file in java ?"},{"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"score":0,"creation_date":1338794054,"post_id":10876730,"comment_id":14175170,"body_markdown":"You can read this [topic of faq](http://mpxj.sourceforge.net/faq.html#write-mpp).","body":"You can read this <a href=\"http://mpxj.sourceforge.net/faq.html#write-mpp\" rel=\"nofollow noreferrer\">topic of faq</a>."},{"owner":{"account_id":4474415,"reputation":1971,"user_id":3639856,"display_name":"Remigius Stalder"},"score":0,"creation_date":1636464393,"post_id":10876730,"comment_id":123559409,"body_markdown":"faq is now here: http://www.mpxj.org/faq/","body":"faq is now here: <a href=\"http://www.mpxj.org/faq/\" rel=\"nofollow noreferrer\">mpxj.org/faq</a>"}],"answers":[{"tags":[],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1636479056,"creation_date":1338788944,"answer_id":10876808,"question_id":10876730,"body_markdown":"I think by &quot;mpp&quot; you probably mean &quot;Microsoft PowerPoint&quot;, correct?\r\n\r\nQ: Why do you think MPXJ (Microsoft Project Exchange/Java) can&#39;t do this?\r\n\r\n&gt; http://www.mpxj.org/\r\n&gt; \r\n&gt; Welcome to MPXJ! This library provides a set of facilities to allow\r\n&gt; project information to be manipulated in Java and .Net. MPXJ supports\r\n&gt; a range of data formats: Microsoft Project Exchange (MPX), Microsoft\r\n&gt; Project (MPP,MPT), Microsoft Project Data Interchange (MSPDI XML),\r\n&gt; Microsoft Project Database (MPD), Planner (XML), Primavera (PM XML,\r\n&gt; XER, and database), and Asta Powerproject (PP, MDB).\r\n","title":"How to create .mpp file in java?","body":"<p>I think by &quot;mpp&quot; you probably mean &quot;Microsoft PowerPoint&quot;, correct?</p>\n<p>Q: Why do you think MPXJ (Microsoft Project Exchange/Java) can't do this?</p>\n<blockquote>\n<p><a href=\"http://www.mpxj.org/\" rel=\"nofollow noreferrer\">http://www.mpxj.org/</a></p>\n<p>Welcome to MPXJ! This library provides a set of facilities to allow\nproject information to be manipulated in Java and .Net. MPXJ supports\na range of data formats: Microsoft Project Exchange (MPX), Microsoft\nProject (MPP,MPT), Microsoft Project Data Interchange (MSPDI XML),\nMicrosoft Project Database (MPD), Planner (XML), Primavera (PM XML,\nXER, and database), and Asta Powerproject (PP, MDB).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13221,"reputation":2529,"user_id":26415,"display_name":"Jon Iles"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1339362196,"creation_date":1339362196,"answer_id":10972338,"question_id":10876730,"body_markdown":"I maintain MPXJ, and the short answer to your enquiry is that, at present, MPXJ does not write MPP files. \r\n\r\nThe main reason for this is simply that despite the effort which has gone into understanding the MPP file structure, there is still a great deal of it which is not well understood, hence it is difficult to reliably generate. The other issue is that even if I was to produce some code which could generate an MPP file, the features it could write to that file are likely to lag behind what MPXJ supports in the MSPDI file format, again due to my incomplete understanding of the MPP format.\r\n\r\nMy suspicion is that the next version of MS project (project 15? Project 2013?) may probably offer a &quot;.mppx&quot; file format, similar to the &quot;.docx&quot; etc formats used by other applications in the MS Office suite. This will be XML-based and will be more straightforward to generate than the binary MPP file format currently is... let&#39;s see what Microsoft come up with!\r\n\r\nJon","title":"How to create .mpp file in java?","body":"<p>I maintain MPXJ, and the short answer to your enquiry is that, at present, MPXJ does not write MPP files. </p>\n\n<p>The main reason for this is simply that despite the effort which has gone into understanding the MPP file structure, there is still a great deal of it which is not well understood, hence it is difficult to reliably generate. The other issue is that even if I was to produce some code which could generate an MPP file, the features it could write to that file are likely to lag behind what MPXJ supports in the MSPDI file format, again due to my incomplete understanding of the MPP format.</p>\n\n<p>My suspicion is that the next version of MS project (project 15? Project 2013?) may probably offer a \".mppx\" file format, similar to the \".docx\" etc formats used by other applications in the MS Office suite. This will be XML-based and will be more straightforward to generate than the binary MPP file format currently is... let's see what Microsoft come up with!</p>\n\n<p>Jon</p>\n"},{"tags":[],"owner":{"account_id":2061092,"reputation":1198,"user_id":1837599,"accept_rate":88,"display_name":"Chocksmith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1428537041,"creation_date":1428537041,"answer_id":29527302,"question_id":10876730,"body_markdown":"Try this: http://www.aspose.com/java/project-management-component.aspx\r\n\r\nIt writes MPP and Microsoft Project XML.\r\n\r\n\r\n\r\n","title":"How to create .mpp file in java?","body":"<p>Try this: <a href=\"http://www.aspose.com/java/project-management-component.aspx\" rel=\"nofollow\">http://www.aspose.com/java/project-management-component.aspx</a></p>\n\n<p>It writes MPP and Microsoft Project XML.</p>\n"},{"tags":[],"owner":{"account_id":4074353,"reputation":450,"user_id":3346408,"accept_rate":75,"display_name":"Rahul Bhawar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636467770,"creation_date":1449059131,"answer_id":34042706,"question_id":10876730,"body_markdown":"Visit http://www.mpxj.org/faq/  \r\n      Can I use MPXJ to write MPP files?  \r\n\r\n    Not at present. Although it is technically feasible to generate an MPP   file, the knowledge we have of the file structure is still relatively   incomplete, despite the amount of data we are able to correctly extract. It   is therefore likely to take a considerable amount of development effort   to make this work, and it is conceivable that we will not be ablet  to write   the full set of attributes that MPXJ supports back into the MPP  file - simply because we don&#39;t understand the format well enough. You are  therefore probably better off using MSPDI which does support the full range  of data items present in an MPP file.  \r\nYou can \r\n\r\nTry this: http://www.aspose.com/java/project-management-component.aspx\r\n\r\nIt writes MPP and Microsoft Project XML.\r\n\r\n**But this not free**","title":"How to create .mpp file in java?","body":"<p>Visit <a href=\"http://www.mpxj.org/faq/\" rel=\"nofollow noreferrer\">http://www.mpxj.org/faq/</a><br />\nCan I use MPXJ to write MPP files?</p>\n<pre><code>Not at present. Although it is technically feasible to generate an MPP   file, the knowledge we have of the file structure is still relatively   incomplete, despite the amount of data we are able to correctly extract. It   is therefore likely to take a considerable amount of development effort   to make this work, and it is conceivable that we will not be ablet  to write   the full set of attributes that MPXJ supports back into the MPP  file - simply because we don't understand the format well enough. You are  therefore probably better off using MSPDI which does support the full range  of data items present in an MPP file.  \n</code></pre>\n<p>You can</p>\n<p>Try this: <a href=\"http://www.aspose.com/java/project-management-component.aspx\" rel=\"nofollow noreferrer\">http://www.aspose.com/java/project-management-component.aspx</a></p>\n<p>It writes MPP and Microsoft Project XML.</p>\n<p><strong>But this not free</strong></p>\n"}],"owner":{"account_id":426916,"reputation":2822,"user_id":808409,"accept_rate":45,"display_name":"Sree"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7900,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1636479056,"creation_date":1338788465,"question_id":10876730,"body_markdown":"I am able to create .**mpx** file by using ***mpxj*** library in java.   \r\n    I need write ( create ) .**mpp** file in java can any one suggest me ***please***.   ","title":"How to create .mpp file in java?","body":"<p>I am able to create .<strong>mpx</strong> file by using <strong><em>mpxj</em></strong> library in java.<br>\n    I need write ( create ) .<strong>mpp</strong> file in java can any one suggest me <strong><em>please</em></strong>.   </p>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1636480035,"post_id":69902564,"comment_id":123566525,"body_markdown":"&quot;the first stage is efficient in terms of execution&quot; It&#39;s not. `Collections.frequency` iterates the entire collection; so doing that inside a loop iterating the entire collection makes that quadratic. Plus, you&#39;re expecting the same element many times, so you&#39;re going to be doing the same work many times. There is a pretty easy way to make that linear...","body":"&quot;the first stage is efficient in terms of execution&quot; It&#39;s not. <code>Collections.frequency</code> iterates the entire collection; so doing that inside a loop iterating the entire collection makes that quadratic. Plus, you&#39;re expecting the same element many times, so you&#39;re going to be doing the same work many times. There is a pretty easy way to make that linear..."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1636480163,"post_id":69902564,"comment_id":123566574,"body_markdown":"If this code works (other than being too slow), you should ask over at [codereview.se].","body":"If this code works (other than being too slow), you should ask over at <a href=\"https://codereview.stackexchange.com\">Code Review</a>."}],"owner":{"account_id":3640819,"reputation":335,"user_id":4645889,"accept_rate":20,"display_name":"htamayo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636479013,"creation_date":1636479013,"question_id":69902564,"body_markdown":"I&#39;m working on the next exercise from HackerRank: https://www.hackerrank.com/challenges/migratory-birds/problem?isFullScreen=false\r\n\r\nSo far I need to optimize my sourcecode in order to pass the tests related to time execution\r\n\r\nThis is my sourcecode:\r\n\r\n    class Result {\r\n    \r\n        /*\r\n         * Complete the &#39;migratoryBirds&#39; function below.\r\n         *\r\n         * The function is expected to return an INTEGER.\r\n         * The function accepts INTEGER_ARRAY arr as parameter.\r\n         */\r\n    \r\n        public static int migratoryBirds(List&lt;Integer&gt; arr) {\r\n        // Write your code here\r\n            int coincidences = 0;\r\n            int maxValuesPerCategory = 0;\r\n            //I&#39;m using TreeMap because sort isthe key on this exercise\r\n            Map&lt;Integer, Integer&gt; results = new TreeMap&lt;&gt;();\r\n            List&lt;Integer&gt; targetKeys = new ArrayList&lt;&gt;();\r\n            \r\n            //1. classifying values by coincidences\r\n            for(Integer element: arr){\r\n                coincidences = Collections.frequency(arr, element);\r\n                results.put(element, coincidences);\r\n            }\r\n    \r\n            /* \r\n            2. filtering categories by highest coincidences,\r\n            if there are more than 1, choose the label with the lowest value\r\n            example: 4=5; 3=5 -&gt;output= 3\r\n            */\r\n            //getting the value with most coincidences\r\n            maxValuesPerCategory = Collections.max(results.values());\r\n            //iterate the map to identify which keys have the maxvalue\r\n            Set&lt;Integer&gt; keySet = results.keySet();\r\n            for(Integer key : keySet){\r\n                if(results.get(key) == maxValuesPerCategory){\r\n                    targetKeys.add(key);\r\n                }\r\n            }\r\n                    \r\n            //3. sorting the list ascending to obtain the lowest value\r\n            Collections.sort(targetKeys);\r\n            //get the first value (it should be the lowest label category)\r\n            return targetKeys.get(0);\r\n        }\r\n    }\r\n\r\nI would like to ask you about suggestions how to optimize stages 2 and 3 because, from my point of view, the first stage is efficient in terms of execution but if you have suggestions about it please let me know.\r\n\r\nThanks a lot in advanced\r\n","title":"optimize source code to decrease time execution","body":"<p>I'm working on the next exercise from HackerRank: <a href=\"https://www.hackerrank.com/challenges/migratory-birds/problem?isFullScreen=false\" rel=\"nofollow noreferrer\">https://www.hackerrank.com/challenges/migratory-birds/problem?isFullScreen=false</a></p>\n<p>So far I need to optimize my sourcecode in order to pass the tests related to time execution</p>\n<p>This is my sourcecode:</p>\n<pre><code>class Result {\n\n    /*\n     * Complete the 'migratoryBirds' function below.\n     *\n     * The function is expected to return an INTEGER.\n     * The function accepts INTEGER_ARRAY arr as parameter.\n     */\n\n    public static int migratoryBirds(List&lt;Integer&gt; arr) {\n    // Write your code here\n        int coincidences = 0;\n        int maxValuesPerCategory = 0;\n        //I'm using TreeMap because sort isthe key on this exercise\n        Map&lt;Integer, Integer&gt; results = new TreeMap&lt;&gt;();\n        List&lt;Integer&gt; targetKeys = new ArrayList&lt;&gt;();\n        \n        //1. classifying values by coincidences\n        for(Integer element: arr){\n            coincidences = Collections.frequency(arr, element);\n            results.put(element, coincidences);\n        }\n\n        /* \n        2. filtering categories by highest coincidences,\n        if there are more than 1, choose the label with the lowest value\n        example: 4=5; 3=5 -&gt;output= 3\n        */\n        //getting the value with most coincidences\n        maxValuesPerCategory = Collections.max(results.values());\n        //iterate the map to identify which keys have the maxvalue\n        Set&lt;Integer&gt; keySet = results.keySet();\n        for(Integer key : keySet){\n            if(results.get(key) == maxValuesPerCategory){\n                targetKeys.add(key);\n            }\n        }\n                \n        //3. sorting the list ascending to obtain the lowest value\n        Collections.sort(targetKeys);\n        //get the first value (it should be the lowest label category)\n        return targetKeys.get(0);\n    }\n}\n</code></pre>\n<p>I would like to ask you about suggestions how to optimize stages 2 and 3 because, from my point of view, the first stage is efficient in terms of execution but if you have suggestions about it please let me know.</p>\n<p>Thanks a lot in advanced</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1636358311,"post_id":69877169,"comment_id":123525270,"body_markdown":"It looks like you only imported the parent pom.xml. But you also have to be import the modules as projects in Eclipse. Use _File &gt; Open Projects from File System..._ or in the _Git Repositories_ view right-click and _Import Projects..._ to do this in one go.","body":"It looks like you only imported the parent pom.xml. But you also have to be import the modules as projects in Eclipse. Use <i>File &gt; Open Projects from File System...</i> or in the <i>Git Repositories</i> view right-click and <i>Import Projects...</i> to do this in one go."},{"owner":{"account_id":9660777,"reputation":161,"user_id":7168929,"accept_rate":56,"display_name":"ash__999"},"score":0,"creation_date":1636391041,"post_id":69877169,"comment_id":123538477,"body_markdown":"@howlger you&#39;re right - hadn&#39;t imported the modules separately. now did - imported them then the project itself, all as Existing Maven projects. things changed a bit-- now seeing Maven dependencies for one. but the lombok dependencies i&#39;m mentioning in the Q are as is","body":"@howlger you&#39;re right - hadn&#39;t imported the modules separately. now did - imported them then the project itself, all as Existing Maven projects. things changed a bit-- now seeing Maven dependencies for one. but the lombok dependencies i&#39;m mentioning in the Q are as is"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1636392403,"post_id":69877169,"comment_id":123539035,"body_markdown":"Did you install Lombok in Eclipse?","body":"Did you install Lombok in Eclipse?"},{"owner":{"account_id":9660777,"reputation":161,"user_id":7168929,"accept_rate":56,"display_name":"ash__999"},"score":0,"creation_date":1636392781,"post_id":69877169,"comment_id":123539197,"body_markdown":"@howlger no, it&#39;s getting lombok from its parent pom. the dependency hierarchy on its pom.xml is showing 3 difft instances of the same lombok (same version/package). it&#39;s not a lombok-specific issue. in another microservice like this, it&#39;s getting slf4j from 2+ places, this time from difft repos (ch.qos.logback and org.slfj4...)","body":"@howlger no, it&#39;s getting lombok from its parent pom. the dependency hierarchy on its pom.xml is showing 3 difft instances of the same lombok (same version/package). it&#39;s not a lombok-specific issue. in another microservice like this, it&#39;s getting slf4j from 2+ places, this time from difft repos (ch.qos.logback and org.slfj4...)"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1636393044,"post_id":69877169,"comment_id":123539309,"body_markdown":"To have &quot;recognize the getter declaration&quot; in Eclipse (e.g. when editing Java files, using the incremental Java compiler of Eclipse) Lombok has to be installed into Eclipse. Having Lombok in the Java Build Path is not enough. See https://projectlombok.org/setup/eclipse","body":"To have &quot;recognize the getter declaration&quot; in Eclipse (e.g. when editing Java files, using the incremental Java compiler of Eclipse) Lombok has to be installed into Eclipse. Having Lombok in the Java Build Path is not enough. See <a href=\"https://projectlombok.org/setup/eclipse\" rel=\"nofollow noreferrer\">projectlombok.org/setup/eclipse</a>"},{"owner":{"account_id":9660777,"reputation":161,"user_id":7168929,"accept_rate":56,"display_name":"ash__999"},"score":0,"creation_date":1636470629,"post_id":69877169,"comment_id":123562402,"body_markdown":"@howlger installed lombok (wasn&#39;t there) and verified it on `About Eclipse` window. but didn&#39;t help. and i have a similar issue on slf4j and maybe some other dependencies thru parent poms-- didn&#39;t check all yet. what&#39;s the best way to deal with Eclipse settings on module dependencies? how are they supposed to look ok Build path? i think you could help &amp;that wd be great. i see a lot of Eclipse on your bio","body":"@howlger installed lombok (wasn&#39;t there) and verified it on <code>About Eclipse</code> window. but didn&#39;t help. and i have a similar issue on slf4j and maybe some other dependencies thru parent poms-- didn&#39;t check all yet. what&#39;s the best way to deal with Eclipse settings on module dependencies? how are they supposed to look ok Build path? i think you could help &amp;that wd be great. i see a lot of Eclipse on your bio"},{"owner":{"account_id":9660777,"reputation":161,"user_id":7168929,"accept_rate":56,"display_name":"ash__999"},"score":0,"creation_date":1636474027,"post_id":69877169,"comment_id":123564060,"body_markdown":"@howlger - update on the last - lombok worked when i removed&amp; imported again the project into the workspace :) write these as an ans and i&#39;ll accept. thx for your help!","body":"@howlger - update on the last - lombok worked when i removed&amp; imported again the project into the workspace :) write these as an ans and i&#39;ll accept. thx for your help!"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1636478987,"post_id":69877169,"comment_id":123566106,"body_markdown":"Great is working now. I added as an answer.","body":"Great is working now. I added as an answer."}],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636478949,"creation_date":1636478949,"answer_id":69902542,"question_id":69877169,"body_markdown":"Make sure to not only **import** the parent `pom.xml`, but **also the Maven modules as projects into Eclipse**. To do this in one go, use\r\n\r\n - ***File &gt; Open Projects from File System...*** or\r\n - in the ***Git Repositories*** view **right-click** the root folder and choose ***Import Projects...***\r\n\r\nMake also sure ***Lombok has been installed into Eclipse***, otherwise Eclipse&#39;s own incremental compiler would not generate e.g. getter and setter methods that are defined by Lombok annotations. See the [Lombok documentation of how to install Lombok into Eclipse][1]. If you have installed Lombok after importing the projects, it might be that you need to do a *Project &gt; Clean...* or close and reopen again the projects (via the right-click menu).\r\n\r\n\r\n\r\n  [1]: https://projectlombok.org/setup/eclipse","title":"Eclipse settings for maven modules","body":"<p>Make sure to not only <strong>import</strong> the parent <code>pom.xml</code>, but <strong>also the Maven modules as projects into Eclipse</strong>. To do this in one go, use</p>\n<ul>\n<li><em><strong>File &gt; Open Projects from File System...</strong></em> or</li>\n<li>in the <em><strong>Git Repositories</strong></em> view <strong>right-click</strong> the root folder and choose <em><strong>Import Projects...</strong></em></li>\n</ul>\n<p>Make also sure <em><strong>Lombok has been installed into Eclipse</strong></em>, otherwise Eclipse's own incremental compiler would not generate e.g. getter and setter methods that are defined by Lombok annotations. See the <a href=\"https://projectlombok.org/setup/eclipse\" rel=\"nofollow noreferrer\">Lombok documentation of how to install Lombok into Eclipse</a>. If you have installed Lombok after importing the projects, it might be that you need to do a <em>Project &gt; Clean...</em> or close and reopen again the projects (via the right-click menu).</p>\n"}],"owner":{"account_id":9660777,"reputation":161,"user_id":7168929,"accept_rate":56,"display_name":"ash__999"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69902542,"answer_count":1,"score":0,"last_activity_date":1636478949,"creation_date":1636325902,"question_id":69877169,"body_markdown":"I cloned the maven project to my local disk. The project has 3 modules as well as a parent project. i marked the 3 modules with the 3 colors-- the 4th, blue color is the project itself. \r\n\r\nThe project is running all fine on maven both on Eclipse and on command line. \r\nWhen i do a `mvn install` on Eclipse, the project is built and all the tests are run successfully -- i see the good old `BUILD SUCCESS` report of maven on Eclipse console. \r\n\r\nThe problem is -- the modules are all messed up. (this &quot;messed up&quot; is the best way i can put it for now.) Eclipse doesn&#39;t recognize the dependencies between modules and gives checked errors to some of the code that use outside dependencies. \r\n\r\nAt one place-- lombok `@Getter` is used in one class. `import lombok.Getter;` is seen by the compiler-- no checked error to that. but eclipse doesn&#39;t recognize the getter declaration of lombok, say `getField()` for the field `field`. i know this because : a) in the class itself--  gives a warning that *.. the private field `field` isn&#39;t used.* \r\nb) gives a checked error to `getField()` a reference from another class. \r\nThought this might be an interesting example to how the dependencies are &quot;working&quot;. i&#39;m guessing one dependency that lombok is using is intercepted somewhere along the way to give this inconsistency. \r\n\r\nFollowing is the project root directory structure on disk. (the 3 colors are the 3 modules, have to hide the names for confidentiality): \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nthe 3 modules are defined in the pom.xml as follows:\r\n\r\n[![enter image description here][2]][2]\r\n\r\ni see the following in Eclipse project explorer: \r\n\r\n[![enter image description here][3]][3]\r\n\r\nso in the Project explorer, the 2 modules/tests (green &amp; yellow) that have java dir, i.e. `src/main/java` appear twice. the orange module has only `src/main/resources` and no `src/main/java`. \r\n\r\nIn the second occurrences of the modules in the project explorer (the image above), there are no dependencies of any kind, not even Java itself and hence all those red dots all around (compiler errors). The first occurrences of modules have `Referenced Libraries` and no `Maven Dependencies`: \r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\nHow to fix this project so that i can code and run in Eclipse? Just to pin down-- project configuration is all fine and it runs successfully on maven. the problem is Eclipse&#39;s own settings on it. \r\n\r\nso far i tried the following: \r\n\r\n* made the project faceted and added Java as the only one to its facets\r\n* imported as Maven project -- `File &gt; Import &gt; Maven &gt; Existing Maven Projects`\r\n* ran `mvn eclipse:eclipse` on its pom.xml\r\n\r\nWasn&#39;t even seeing the `Build path` before these. \r\n\r\ni&#39;d appreciate the help-- wore me out.  \r\neveryone else on the project is IntelliJ developer-- no workspace to compare with. \r\n\r\ni&#39;ve seen https://stackoverflow.com/questions/2061094/importing-maven-project-into-eclipse/36242422#36242422 and some other useful discussions. \r\n\r\ni&#39;m not sure whether i should post .project, .settings and some other file contents also. \r\nwill do if necessary.\r\n\r\nTIA. \r\n\r\n  [1]: https://i.stack.imgur.com/XGspo.png\r\n  [2]: https://i.stack.imgur.com/mu6Yu.png\r\n  [3]: https://i.stack.imgur.com/wA9cs.png\r\n  [4]: https://i.stack.imgur.com/jUoHS.png\r\n","title":"Eclipse settings for maven modules","body":"<p>I cloned the maven project to my local disk. The project has 3 modules as well as a parent project. i marked the 3 modules with the 3 colors-- the 4th, blue color is the project itself.</p>\n<p>The project is running all fine on maven both on Eclipse and on command line.\nWhen i do a <code>mvn install</code> on Eclipse, the project is built and all the tests are run successfully -- i see the good old <code>BUILD SUCCESS</code> report of maven on Eclipse console.</p>\n<p>The problem is -- the modules are all messed up. (this &quot;messed up&quot; is the best way i can put it for now.) Eclipse doesn't recognize the dependencies between modules and gives checked errors to some of the code that use outside dependencies.</p>\n<p>At one place-- lombok <code>@Getter</code> is used in one class. <code>import lombok.Getter;</code> is seen by the compiler-- no checked error to that. but eclipse doesn't recognize the getter declaration of lombok, say <code>getField()</code> for the field <code>field</code>. i know this because : a) in the class itself--  gives a warning that <em>.. the private field <code>field</code> isn't used.</em>\nb) gives a checked error to <code>getField()</code> a reference from another class.\nThought this might be an interesting example to how the dependencies are &quot;working&quot;. i'm guessing one dependency that lombok is using is intercepted somewhere along the way to give this inconsistency.</p>\n<p>Following is the project root directory structure on disk. (the 3 colors are the 3 modules, have to hide the names for confidentiality):</p>\n<p><a href=\"https://i.stack.imgur.com/XGspo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XGspo.png\" alt=\"enter image description here\" /></a></p>\n<p>the 3 modules are defined in the pom.xml as follows:</p>\n<p><a href=\"https://i.stack.imgur.com/mu6Yu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mu6Yu.png\" alt=\"enter image description here\" /></a></p>\n<p>i see the following in Eclipse project explorer:</p>\n<p><a href=\"https://i.stack.imgur.com/wA9cs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wA9cs.png\" alt=\"enter image description here\" /></a></p>\n<p>so in the Project explorer, the 2 modules/tests (green &amp; yellow) that have java dir, i.e. <code>src/main/java</code> appear twice. the orange module has only <code>src/main/resources</code> and no <code>src/main/java</code>.</p>\n<p>In the second occurrences of the modules in the project explorer (the image above), there are no dependencies of any kind, not even Java itself and hence all those red dots all around (compiler errors). The first occurrences of modules have <code>Referenced Libraries</code> and no <code>Maven Dependencies</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/jUoHS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jUoHS.png\" alt=\"enter image description here\" /></a></p>\n<p>How to fix this project so that i can code and run in Eclipse? Just to pin down-- project configuration is all fine and it runs successfully on maven. the problem is Eclipse's own settings on it.</p>\n<p>so far i tried the following:</p>\n<ul>\n<li>made the project faceted and added Java as the only one to its facets</li>\n<li>imported as Maven project -- <code>File &gt; Import &gt; Maven &gt; Existing Maven Projects</code></li>\n<li>ran <code>mvn eclipse:eclipse</code> on its pom.xml</li>\n</ul>\n<p>Wasn't even seeing the <code>Build path</code> before these.</p>\n<p>i'd appreciate the help-- wore me out.<br />\neveryone else on the project is IntelliJ developer-- no workspace to compare with.</p>\n<p>i've seen <a href=\"https://stackoverflow.com/questions/2061094/importing-maven-project-into-eclipse/36242422#36242422\">Importing Maven project into Eclipse</a> and some other useful discussions.</p>\n<p>i'm not sure whether i should post .project, .settings and some other file contents also.\nwill do if necessary.</p>\n<p>TIA.</p>\n"},{"tags":["java","websocket","glassfish","endpoint"],"comments":[{"owner":{"account_id":6317022,"reputation":3182,"user_id":4906586,"accept_rate":88,"display_name":"Al-un"},"score":0,"creation_date":1533272865,"post_id":51574886,"comment_id":90294349,"body_markdown":"`extends Endpoint`: what is the `Endpoint` class package? I can&#39;t really see which websocket implementation you are using. Which tutorial did you follow?","body":"<code>extends Endpoint</code>: what is the <code>Endpoint</code> class package? I can&#39;t really see which websocket implementation you are using. Which tutorial did you follow?"},{"owner":{"account_id":13054216,"reputation":115,"user_id":9433578,"display_name":"MaikB"},"score":0,"creation_date":1533292767,"post_id":51574886,"comment_id":90304102,"body_markdown":"I&#39;m using the Java EE websocket API. So it&#39;s from the package javax.websocket.Endpoint. I followed a tutorial from udemy.","body":"I&#39;m using the Java EE websocket API. So it&#39;s from the package javax.websocket.Endpoint. I followed a tutorial from udemy."},{"owner":{"account_id":13054216,"reputation":115,"user_id":9433578,"display_name":"MaikB"},"score":0,"creation_date":1534758253,"post_id":51574886,"comment_id":90805644,"body_markdown":"Ok I&#39;m an idiot, there is actually a method to retrieve the path params over the session object.","body":"Ok I&#39;m an idiot, there is actually a method to retrieve the path params over the session object."}],"answers":[{"tags":[],"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636478699,"creation_date":1636478699,"answer_id":69902492,"question_id":51574886,"body_markdown":"old question, but just in case someone comes here looking:  \r\nthe trick is to add pathParams to the path passed to `create(...)` the same way as in case of `@ServerEndpoint` annotation. So for example:  \r\n`ServerEndpointConfig.Builder.create(endpointClass, &quot;/chat/{room}&quot;)`  \r\nAfter that pathParams can be obtained in the endpoint using `Session.getPathParameters()`.","title":"Java EE Websocket programmatic Endpoint how to use Pathparams?","body":"<p>old question, but just in case someone comes here looking:<br />\nthe trick is to add pathParams to the path passed to <code>create(...)</code> the same way as in case of <code>@ServerEndpoint</code> annotation. So for example:<br />\n<code>ServerEndpointConfig.Builder.create(endpointClass, &quot;/chat/{room}&quot;)</code><br />\nAfter that pathParams can be obtained in the endpoint using <code>Session.getPathParameters()</code>.</p>\n"}],"owner":{"account_id":13054216,"reputation":115,"user_id":9433578,"display_name":"MaikB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636478699,"creation_date":1532808522,"question_id":51574886,"body_markdown":"I&#39;m fairly new to Java EE, so don&#39;t be to harsh with me, if what I&#39;m asking doesn&#39;t make sense to you. I followed some tutorial for implementing the websocket api, essentially creating two classes. First a endpoint class looking like this:\r\n\r\n    public class ChatEndpoint extends Endpoint {\r\n        private static final ConcurrentLinkedQueue&lt;Session&gt; peers = new ConcurrentLinkedQueue&lt;&gt;();\r\n        private static final Logger LOGGER = Logger.getLogger(ChatEndpoint.class.getName());\r\n\r\n        @Override\r\n        public void onOpen(Session session, EndpointConfig endpointConfig) {\r\n            LOGGER.log(Level.INFO, &quot;New session opened&quot;);\r\n            peers.add(session);\r\n\r\n            session.addMessageHandler(new MessageHandler.Whole&lt;String&gt;() {\r\n                @Override\r\n                public void onMessage(String message) {\r\n                    LOGGER.log(Level.INFO, String.format(&quot;Received message: %s&quot;, message));\r\n                    try {\r\n                        broadcastMessage(message, session);\r\n                    } catch (IOException e) {\r\n                    LOGGER.log(Level.SEVERE, null, e);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        @Override\r\n        public void onClose(Session session, CloseReason closeReason) {\r\n            LOGGER.log(Level.INFO, String.format(&quot;Session closed with reason %s&quot;, closeReason.getReasonPhrase()));\r\n        }\r\n\r\n        public void broadcastMessage(String message, Session session) throws IOException {\r\n            for (Session peer : peers) {\r\n                peer.getBasicRemote().sendText(message);\r\n            }\r\n        }\r\n    }\r\n\r\n...and my config class:\r\n\r\n    public class ServerConfig implements ServerApplicationConfig {\r\n        @Override\r\n        public Set&lt;ServerEndpointConfig&gt; getEndpointConfigs(Set&lt;Class&lt;? extends Endpoint&gt;&gt; endpointClasses) {\r\n            Set&lt;ServerEndpointConfig&gt; results = new HashSet&lt;&gt;();\r\n\r\n            for (Class endpointClass : endpointClasses) {\r\n                if (endpointClass.equals(ChatEndpoint.class)) {\r\n                    ServerEndpointConfig serverEndpointConfig = ServerEndpointConfig.Builder.create(endpointClass, &quot;/chat&quot;).build();\r\n                    results.add(serverEndpointConfig);\r\n                }\r\n            }\r\n            return results;\r\n        }\r\n\r\n        @Override\r\n        public Set&lt;Class&lt;?&gt;&gt; getAnnotatedEndpointClasses(Set&lt;Class&lt;?&gt;&gt; endpointClasses) {\r\n            return Collections.emptySet();\r\n        }\r\n    }\r\n\r\nNow as you can see I&#39;ve taken the programmatic and not the annotation way to do this. I know using the annotation way of deployment, I can specify path parameters, which I then receive in onMessage from my client. So how does this work with the a programmatic endpoint deployment?","title":"Java EE Websocket programmatic Endpoint how to use Pathparams?","body":"<p>I'm fairly new to Java EE, so don't be to harsh with me, if what I'm asking doesn't make sense to you. I followed some tutorial for implementing the websocket api, essentially creating two classes. First a endpoint class looking like this:</p>\n\n<pre><code>public class ChatEndpoint extends Endpoint {\n    private static final ConcurrentLinkedQueue&lt;Session&gt; peers = new ConcurrentLinkedQueue&lt;&gt;();\n    private static final Logger LOGGER = Logger.getLogger(ChatEndpoint.class.getName());\n\n    @Override\n    public void onOpen(Session session, EndpointConfig endpointConfig) {\n        LOGGER.log(Level.INFO, \"New session opened\");\n        peers.add(session);\n\n        session.addMessageHandler(new MessageHandler.Whole&lt;String&gt;() {\n            @Override\n            public void onMessage(String message) {\n                LOGGER.log(Level.INFO, String.format(\"Received message: %s\", message));\n                try {\n                    broadcastMessage(message, session);\n                } catch (IOException e) {\n                LOGGER.log(Level.SEVERE, null, e);\n                }\n            }\n        });\n    }\n\n    @Override\n    public void onClose(Session session, CloseReason closeReason) {\n        LOGGER.log(Level.INFO, String.format(\"Session closed with reason %s\", closeReason.getReasonPhrase()));\n    }\n\n    public void broadcastMessage(String message, Session session) throws IOException {\n        for (Session peer : peers) {\n            peer.getBasicRemote().sendText(message);\n        }\n    }\n}\n</code></pre>\n\n<p>...and my config class:</p>\n\n<pre><code>public class ServerConfig implements ServerApplicationConfig {\n    @Override\n    public Set&lt;ServerEndpointConfig&gt; getEndpointConfigs(Set&lt;Class&lt;? extends Endpoint&gt;&gt; endpointClasses) {\n        Set&lt;ServerEndpointConfig&gt; results = new HashSet&lt;&gt;();\n\n        for (Class endpointClass : endpointClasses) {\n            if (endpointClass.equals(ChatEndpoint.class)) {\n                ServerEndpointConfig serverEndpointConfig = ServerEndpointConfig.Builder.create(endpointClass, \"/chat\").build();\n                results.add(serverEndpointConfig);\n            }\n        }\n        return results;\n    }\n\n    @Override\n    public Set&lt;Class&lt;?&gt;&gt; getAnnotatedEndpointClasses(Set&lt;Class&lt;?&gt;&gt; endpointClasses) {\n        return Collections.emptySet();\n    }\n}\n</code></pre>\n\n<p>Now as you can see I've taken the programmatic and not the annotation way to do this. I know using the annotation way of deployment, I can specify path parameters, which I then receive in onMessage from my client. So how does this work with the a programmatic endpoint deployment?</p>\n"},{"tags":["java","android","android-layout","onclicklistener"],"comments":[{"owner":{"account_id":4115246,"reputation":439,"user_id":3376990,"accept_rate":50,"display_name":"Kdaydin"},"score":1,"creation_date":1636480470,"post_id":69902452,"comment_id":123566719,"body_markdown":"The animation actually doesn&#39;t change the view&#39;s position. It just moves them visually. You should use ObjectAnimator instead.","body":"The animation actually doesn&#39;t change the view&#39;s position. It just moves them visually. You should use ObjectAnimator instead."},{"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"score":0,"creation_date":1636492573,"post_id":69902452,"comment_id":123571070,"body_markdown":"Object Animator did the trick!","body":"Object Animator did the trick!"}],"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636478553,"creation_date":1636478553,"question_id":69902452,"body_markdown":"I have a linearLayout with some cardviews. When the Activity is created, these cardViews get an onClickListern. This Activity has a button that can shrink said linearLayout. However, once shrunk the location of the cardViews no longer match where you interact with it. For example, if you have a cardView on the middle, left side of the screen. Than shrink the linearLayout. You have to tap where the cardView would be, as if the linearLayout wasn&#39;t shrunk. Trying to tap where the actual cardView is, does nothing. How do I reposition the the location and size of the onClickListner to match the new location of the cardViews? I&#39;m not against changing my approach on how to resize the linearLayout.\r\n\r\nBefore Shrinking:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAfter shrinking:\r\n\r\n[![enter image description here][2]][2] \r\n\r\n\r\nzoom_in.xml\r\n---\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:fillAfter = &quot;true&quot;&gt;\r\n    \r\n    &lt;scale\r\n        xmlns:android = &quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:duration = &quot;1000&quot;\r\n        android:fromXScale=&quot;1&quot;\r\n        android:fromYScale = &quot;1&quot;\r\n        android:pivotX = &quot;50%&quot;\r\n        android:pivotY = &quot;50%&quot;\r\n        android:toXScale = &quot;2&quot;\r\n        android:toYScale = &quot;2&quot;/&gt;\r\n    \r\n    &lt;/set&gt;\r\n\r\nzoom_out.xml\r\n---\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:fillAfter = &quot;true&quot;&gt;\r\n    \r\n    &lt;scale\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:duration = &quot;2500&quot;\r\n        android:fromXScale = &quot;1&quot;\r\n        android:fromYScale = &quot;1&quot;\r\n        android:pivotX = &quot;50%&quot;\r\n        android:pivotY = &quot;50%&quot;\r\n        android:toXScale = &quot;.2&quot;\r\n        android:toYScale = &quot;.2&quot; /&gt;\r\n    \r\n    &lt;/set&gt;\r\n\r\nTreeActivity.java\r\n---\r\n\r\n \r\n\r\n       public class TaxaTreeViewActivity extends AppCompatActivity {\r\n        \r\n        private TaxonomyNode taxonomyTree = TaxonomyNodeUtil.getInstance().getTaxonomyTree();\r\n            private BaseTreeAdapter adapter;\r\n            private Button zoomInButton, zoomOutButton;\r\n            private Animation zoomInAnim, zoomOutAnim;\r\n        ...\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_tree_view);\r\n            ...\r\n        \r\n        adapter = new BaseTreeAdapter&lt;NodeViewHolder&gt;(this, R.layout.node) {...\r\n            //Tree stuff}\r\n        \r\n        zoomInAnim = AnimationUtils.loadAnimation(this, R.anim.zoom_in);\r\n        zoomOutAnim = AnimationUtils.loadAnimation(this, R.anim.zoom_out);\r\n        \r\n        zoomInButton = findViewById(R.id.treeZoomInButton);\r\n        zoomOutButton = findViewById(R.id.treeZoomOutButton);\r\n        \r\n        zoomOutButton.setOnClickListener(v -&gt; {treeView.startAnimation(zoomOutAnim)});\r\n        zoomInButton.setOnClickListener(v -&gt; {treeView.startAnimation(zoomInAnim);});\r\n\r\nactivity_tree_view.xml\r\n---\r\n\r\n   \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout \r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n            xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:id=&quot;@+id/zoom_linear_layout&quot;\r\n            tools:context=&quot;.TaxaTreeViewActivity&quot;&gt;\r\n    \r\n    \r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toStartOf=&quot;@+id/treeZoomOutButton&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n    \r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/treeviewContainer&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n                &lt;de.blox.treeview.TreeView\r\n                    android:id=&quot;@+id/treeview&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;&gt;&lt;/de.blox.treeview.TreeView&gt;\r\n            &lt;/LinearLayout&gt;\r\n    \r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/treeZoomInButton&quot;\r\n            android:layout_width=&quot;90dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;8dp&quot;\r\n            android:layout_marginBottom=&quot;8dp&quot;\r\n            android:src=&quot;@drawable/ic_zoom_in&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/treeZoomOutButton&quot;\r\n            android:layout_width=&quot;90dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginEnd=&quot;8dp&quot;\r\n            android:layout_marginBottom=&quot;8dp&quot;\r\n            android:src=&quot;@drawable/ic_zoom_out&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/62CMd.jpg\r\n  [2]: https://i.stack.imgur.com/UUlTV.jpg","title":"Resizing linearlayout container doesn&#39;t update onClickListner position of views contained within","body":"<p>I have a linearLayout with some cardviews. When the Activity is created, these cardViews get an onClickListern. This Activity has a button that can shrink said linearLayout. However, once shrunk the location of the cardViews no longer match where you interact with it. For example, if you have a cardView on the middle, left side of the screen. Than shrink the linearLayout. You have to tap where the cardView would be, as if the linearLayout wasn't shrunk. Trying to tap where the actual cardView is, does nothing. How do I reposition the the location and size of the onClickListner to match the new location of the cardViews? I'm not against changing my approach on how to resize the linearLayout.</p>\n<p>Before Shrinking:</p>\n<p><a href=\"https://i.stack.imgur.com/62CMd.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/62CMd.jpg\" alt=\"enter image description here\" /></a></p>\n<p>After shrinking:</p>\n<p><a href=\"https://i.stack.imgur.com/UUlTV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UUlTV.jpg\" alt=\"enter image description here\" /></a></p>\n<h2>zoom_in.xml</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:fillAfter = &quot;true&quot;&gt;\n\n&lt;scale\n    xmlns:android = &quot;http://schemas.android.com/apk/res/android&quot;\n    android:duration = &quot;1000&quot;\n    android:fromXScale=&quot;1&quot;\n    android:fromYScale = &quot;1&quot;\n    android:pivotX = &quot;50%&quot;\n    android:pivotY = &quot;50%&quot;\n    android:toXScale = &quot;2&quot;\n    android:toYScale = &quot;2&quot;/&gt;\n\n&lt;/set&gt;\n</code></pre>\n<h2>zoom_out.xml</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;set xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:fillAfter = &quot;true&quot;&gt;\n\n&lt;scale\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:duration = &quot;2500&quot;\n    android:fromXScale = &quot;1&quot;\n    android:fromYScale = &quot;1&quot;\n    android:pivotX = &quot;50%&quot;\n    android:pivotY = &quot;50%&quot;\n    android:toXScale = &quot;.2&quot;\n    android:toYScale = &quot;.2&quot; /&gt;\n\n&lt;/set&gt;\n</code></pre>\n<h2>TreeActivity.java</h2>\n<pre><code>   public class TaxaTreeViewActivity extends AppCompatActivity {\n    \n    private TaxonomyNode taxonomyTree = TaxonomyNodeUtil.getInstance().getTaxonomyTree();\n        private BaseTreeAdapter adapter;\n        private Button zoomInButton, zoomOutButton;\n        private Animation zoomInAnim, zoomOutAnim;\n    ...\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_tree_view);\n        ...\n    \n    adapter = new BaseTreeAdapter&lt;NodeViewHolder&gt;(this, R.layout.node) {...\n        //Tree stuff}\n    \n    zoomInAnim = AnimationUtils.loadAnimation(this, R.anim.zoom_in);\n    zoomOutAnim = AnimationUtils.loadAnimation(this, R.anim.zoom_out);\n    \n    zoomInButton = findViewById(R.id.treeZoomInButton);\n    zoomOutButton = findViewById(R.id.treeZoomOutButton);\n    \n    zoomOutButton.setOnClickListener(v -&gt; {treeView.startAnimation(zoomOutAnim)});\n    zoomInButton.setOnClickListener(v -&gt; {treeView.startAnimation(zoomInAnim);});\n</code></pre>\n<h2>activity_tree_view.xml</h2>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;androidx.constraintlayout.widget.ConstraintLayout \n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:id=&quot;@+id/zoom_linear_layout&quot;\n        tools:context=&quot;.TaxaTreeViewActivity&quot;&gt;\n\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@+id/treeZoomOutButton&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;LinearLayout\n            android:id=&quot;@+id/treeviewContainer&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n\n            &lt;de.blox.treeview.TreeView\n                android:id=&quot;@+id/treeview&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;&gt;&lt;/de.blox.treeview.TreeView&gt;\n        &lt;/LinearLayout&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/treeZoomInButton&quot;\n        android:layout_width=&quot;90dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginBottom=&quot;8dp&quot;\n        android:src=&quot;@drawable/ic_zoom_in&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/treeZoomOutButton&quot;\n        android:layout_width=&quot;90dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:layout_marginBottom=&quot;8dp&quot;\n        android:src=&quot;@drawable/ic_zoom_out&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","android","executable"],"owner":{"account_id":16447516,"reputation":135,"user_id":11881850,"display_name":"kpwn Apps"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636478529,"creation_date":1636478529,"question_id":69902449,"body_markdown":"I have JRE made for Android. I am trying to execute `/data/local/tmp/j/java` but that gives\r\nfollowing error:\r\n\r\n    Error occurred during initialization of VM Unable to load native library:\r\n\r\nThe other files for java are at: `/data/local/tmp/java`. \r\n\r\nI have executed following commands: \r\n\r\n    export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/data/local/tmp/java/lib/jli\r\n    export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/data/local/tmp/java/lib\r\n    export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/data/local/tmp/java/lib/server\r\n    export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/data/local/tmp/java\r\n\r\nBut the same error as above is still showing. The reason why i have moved java executable to `/data/local/tmp/j/java` is because on Android you can only execute and include `lib[name].so` files in `jniLibs/abi` so i am unable to move `bin, lib` folders to `/jniLibs/abi`.\r\n\r\nI would be very grateful if someone could help me out with this as i am working for days to get this completed. ","title":"Error occurred during initialization of VM Unable to load native library:","body":"<p>I have JRE made for Android. I am trying to execute <code>/data/local/tmp/j/java</code> but that gives\nfollowing error:</p>\n<pre><code>Error occurred during initialization of VM Unable to load native library:\n</code></pre>\n<p>The other files for java are at: <code>/data/local/tmp/java</code>.</p>\n<p>I have executed following commands:</p>\n<pre><code>export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/data/local/tmp/java/lib/jli\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/data/local/tmp/java/lib\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/data/local/tmp/java/lib/server\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/data/local/tmp/java\n</code></pre>\n<p>But the same error as above is still showing. The reason why i have moved java executable to <code>/data/local/tmp/j/java</code> is because on Android you can only execute and include <code>lib[name].so</code> files in <code>jniLibs/abi</code> so i am unable to move <code>bin, lib</code> folders to <code>/jniLibs/abi</code>.</p>\n<p>I would be very grateful if someone could help me out with this as i am working for days to get this completed.</p>\n"},{"tags":["java","datetimeformatter","java-17"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1636478369,"post_id":69902203,"comment_id":123565849,"body_markdown":"What output are you getting from `LocalDate.of(2021, Month.SEPTEMBER, 26).format(formatter)` on your Java 17? My guess is `26 Sept 2021`.","body":"What output are you getting from <code>LocalDate.of(2021, Month.SEPTEMBER, 26).format(formatter)</code> on your Java 17? My guess is <code>26 Sept 2021</code>."},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":1,"creation_date":1636478480,"post_id":69902203,"comment_id":123565892,"body_markdown":"Indeed, it is `26 Sept 2021`. I just tested with &quot;Temurin-17+35&quot; JDK.","body":"Indeed, it is <code>26 Sept 2021</code>. I just tested with &quot;Temurin-17+35&quot; JDK."},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":1,"creation_date":1636478522,"post_id":69902203,"comment_id":123565909,"body_markdown":"See https://stackoverflow.com/questions/69267710/septembers-short-form-sep-no-longer-parses-in-java-17-in-en-gb-locale","body":"See <a href=\"https://stackoverflow.com/questions/69267710/septembers-short-form-sep-no-longer-parses-in-java-17-in-en-gb-locale\" title=\"septembers short form sep no longer parses in java 17 in en gb locale\">stackoverflow.com/questions/69267710/&hellip;</a>"}],"owner":{"account_id":900001,"reputation":1915,"user_id":936379,"accept_rate":92,"display_name":"Dan MacBean"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1636478583,"answer_count":0,"score":2,"last_activity_date":1636478367,"creation_date":1636477470,"question_id":69902203,"body_markdown":"Upgrading my Java environment to Java 17 (oracle64-17.0.1) from Java 11 (openjdk64-11.0.2), running on MacOS, I got an unexpected date format parsing error. To test this I wrote a short java program which I then compiled and ran under each environment.\r\n\r\n    \r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.format.DateTimeParseException;\r\n    import java.util.List;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd MMM yyyy&quot;, Locale.UK);\r\n            for (String month : List.of(&quot;Jan&quot;, &quot;Feb&quot;, &quot;Mar&quot;, &quot;Apr&quot;, &quot;May&quot;, &quot;Jun&quot;, &quot;Jul&quot;, &quot;Aug&quot;, &quot;Sep&quot;, &quot;Oct&quot;, &quot;Nov&quot;, &quot;Dec&quot;)) {\r\n                String dateStr = &quot;26 &quot; + month + &quot; 2021&quot;;\r\n                try {\r\n                    LocalDate ld = LocalDate.parse(dateStr, formatter);\r\n                    System.out.println(dateStr + &quot; OK [&quot; + ld.toString() + &quot;]&quot;);\r\n                } catch (DateTimeParseException e) {\r\n                    System.out.println(dateStr + &quot; FAILED DateTimeParseException&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nThis is the output from running under both environments:\r\n\r\n    ~/work/jenv $jenv global openjdk64-11.0.2\r\n    ~/work/jenv $java -version\r\n    openjdk version &quot;11.0.2&quot; 2019-01-15\r\n    OpenJDK Runtime Environment 18.9 (build 11.0.2+9)\r\n    OpenJDK 64-Bit Server VM 18.9 (build 11.0.2+9, mixed mode)\r\n    ~/work/jenv $javac Main.java\r\n    ~/work/jenv $java Main\r\n    26 Jan 2021 OK [2021-01-26]\r\n    26 Feb 2021 OK [2021-02-26]\r\n    26 Mar 2021 OK [2021-03-26]\r\n    26 Apr 2021 OK [2021-04-26]\r\n    26 May 2021 OK [2021-05-26]\r\n    26 Jun 2021 OK [2021-06-26]\r\n    26 Jul 2021 OK [2021-07-26]\r\n    26 Aug 2021 OK [2021-08-26]\r\n    26 Sep 2021 OK [2021-09-26]\r\n    26 Oct 2021 OK [2021-10-26]\r\n    26 Nov 2021 OK [2021-11-26]\r\n    26 Dec 2021 OK [2021-12-26]\r\n    ~/work/jenv $jenv global oracle64-17.0.1\r\n    ~/work/jenv $java -version\r\n    java version &quot;17.0.1&quot; 2021-10-19 LTS\r\n    Java(TM) SE Runtime Environment (build 17.0.1+12-LTS-39)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 17.0.1+12-LTS-39, mixed mode, sharing)\r\n    ~/work/jenv $javac Main.java\r\n    ~/work/jenv $java Main\r\n    26 Jan 2021 OK [2021-01-26]\r\n    26 Feb 2021 OK [2021-02-26]\r\n    26 Mar 2021 OK [2021-03-26]\r\n    26 Apr 2021 OK [2021-04-26]\r\n    26 May 2021 OK [2021-05-26]\r\n    26 Jun 2021 OK [2021-06-26]\r\n    26 Jul 2021 OK [2021-07-26]\r\n    26 Aug 2021 OK [2021-08-26]\r\n    26 Sep 2021 FAILED DateTimeParseException\r\n    26 Oct 2021 OK [2021-10-26]\r\n    26 Nov 2021 OK [2021-11-26]\r\n    26 Dec 2021 OK [2021-12-26]\r\n\r\nThe exception message is as follows:\r\n\r\n    java.time.format.DateTimeParseException: Text &#39;26 Sep 2021&#39; could not be parsed at index 3\r\n\r\nI find it hard to believe there is a bug in the JDK, so am I missing something? Thanks in advance.","title":"DateTime parse problem using JDK 17 (oracle). Bug?","body":"<p>Upgrading my Java environment to Java 17 (oracle64-17.0.1) from Java 11 (openjdk64-11.0.2), running on MacOS, I got an unexpected date format parsing error. To test this I wrote a short java program which I then compiled and ran under each environment.</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.time.format.DateTimeParseException;\nimport java.util.List;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd MMM yyyy&quot;, Locale.UK);\n        for (String month : List.of(&quot;Jan&quot;, &quot;Feb&quot;, &quot;Mar&quot;, &quot;Apr&quot;, &quot;May&quot;, &quot;Jun&quot;, &quot;Jul&quot;, &quot;Aug&quot;, &quot;Sep&quot;, &quot;Oct&quot;, &quot;Nov&quot;, &quot;Dec&quot;)) {\n            String dateStr = &quot;26 &quot; + month + &quot; 2021&quot;;\n            try {\n                LocalDate ld = LocalDate.parse(dateStr, formatter);\n                System.out.println(dateStr + &quot; OK [&quot; + ld.toString() + &quot;]&quot;);\n            } catch (DateTimeParseException e) {\n                System.out.println(dateStr + &quot; FAILED DateTimeParseException&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>This is the output from running under both environments:</p>\n<pre><code>~/work/jenv $jenv global openjdk64-11.0.2\n~/work/jenv $java -version\nopenjdk version &quot;11.0.2&quot; 2019-01-15\nOpenJDK Runtime Environment 18.9 (build 11.0.2+9)\nOpenJDK 64-Bit Server VM 18.9 (build 11.0.2+9, mixed mode)\n~/work/jenv $javac Main.java\n~/work/jenv $java Main\n26 Jan 2021 OK [2021-01-26]\n26 Feb 2021 OK [2021-02-26]\n26 Mar 2021 OK [2021-03-26]\n26 Apr 2021 OK [2021-04-26]\n26 May 2021 OK [2021-05-26]\n26 Jun 2021 OK [2021-06-26]\n26 Jul 2021 OK [2021-07-26]\n26 Aug 2021 OK [2021-08-26]\n26 Sep 2021 OK [2021-09-26]\n26 Oct 2021 OK [2021-10-26]\n26 Nov 2021 OK [2021-11-26]\n26 Dec 2021 OK [2021-12-26]\n~/work/jenv $jenv global oracle64-17.0.1\n~/work/jenv $java -version\njava version &quot;17.0.1&quot; 2021-10-19 LTS\nJava(TM) SE Runtime Environment (build 17.0.1+12-LTS-39)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.1+12-LTS-39, mixed mode, sharing)\n~/work/jenv $javac Main.java\n~/work/jenv $java Main\n26 Jan 2021 OK [2021-01-26]\n26 Feb 2021 OK [2021-02-26]\n26 Mar 2021 OK [2021-03-26]\n26 Apr 2021 OK [2021-04-26]\n26 May 2021 OK [2021-05-26]\n26 Jun 2021 OK [2021-06-26]\n26 Jul 2021 OK [2021-07-26]\n26 Aug 2021 OK [2021-08-26]\n26 Sep 2021 FAILED DateTimeParseException\n26 Oct 2021 OK [2021-10-26]\n26 Nov 2021 OK [2021-11-26]\n26 Dec 2021 OK [2021-12-26]\n</code></pre>\n<p>The exception message is as follows:</p>\n<pre><code>java.time.format.DateTimeParseException: Text '26 Sep 2021' could not be parsed at index 3\n</code></pre>\n<p>I find it hard to believe there is a bug in the JDK, so am I missing something? Thanks in advance.</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1636470686,"post_id":69900362,"comment_id":123562427,"body_markdown":"Do your maps have always the same size and contain the same keyset and differ only in values?","body":"Do your maps have always the same size and contain the same keyset and differ only in values?"},{"owner":{"account_id":3341568,"reputation":9,"user_id":2807753,"display_name":"groogie13"},"score":0,"creation_date":1636470861,"post_id":69900362,"comment_id":123562511,"body_markdown":"No, they will differ in size, keysets and also the list of values.","body":"No, they will differ in size, keysets and also the list of values."}],"answers":[{"tags":[],"owner":{"account_id":1674999,"reputation":9423,"user_id":1540749,"accept_rate":90,"display_name":"josejuan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636471538,"creation_date":1636471538,"answer_id":69900778,"question_id":69900362,"body_markdown":"There are many ways to do the comparison (e.g. the order matter? if not, use `Set` instead `List`).\r\n\r\nOne way to compare _&quot;the corresponding index of different element&quot;_ is:\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; diffs = Streams.concat(xs.keySet().stream(), ys.keySet().stream())\r\n            .distinct()\r\n            .collect(toMap(k -&gt; k, k -&gt; {\r\n                List&lt;String&gt; x = xs.getOrDefault(k, emptyList());\r\n                List&lt;String&gt; y = ys.getOrDefault(k, emptyList());\r\n                return IntStream.range(0, Math.max(x.size(), y.size()))\r\n                        .mapToObj(i -&gt; i &lt; x.size() ? (i &lt; y.size() ? (x.get(i).equals(y.get(i)) ? &quot;=&quot;: &quot;&lt;&gt;&quot;): &quot;X&quot;) : &quot;Y&quot;)\r\n                        .collect(toList());\r\n            }));\r\n\r\nwhere you get `=` if the elements at index `i` are equals, `&lt;&gt;` if are different or `X` or `Y` if that index exists only on one set.\r\n\r\nFor example:\r\n\r\n    xs.put(&quot;Column1&quot;, Arrays.asList(&quot;one&quot;, &quot;xxx&quot;, &quot;four&quot;));\r\n    xs.put(&quot;Column2&quot;, Arrays.asList(&quot;one&quot;, &quot;two&quot;));\r\n    xs.put(&quot;Column3&quot;, Arrays.asList(&quot;cat&quot;));\r\n\r\n    ys.put(&quot;Column1&quot;, Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;four&quot;));\r\n    ys.put(&quot;Column2&quot;, Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;));\r\n    ys.put(&quot;Column4&quot;, Arrays.asList(&quot;apple&quot;));\r\n\r\nwith output\r\n\r\n    { Column1=[=, &lt;&gt;, =]\r\n    , Column2=[=, =, Y]\r\n    , Column3=[X]\r\n    , Column4=[Y]\r\n    }","title":"Compare two Maps&lt;String, List&lt;String&gt;&gt; and get map key + map value as differences","body":"<p>There are many ways to do the comparison (e.g. the order matter? if not, use <code>Set</code> instead <code>List</code>).</p>\n<p>One way to compare <em>&quot;the corresponding index of different element&quot;</em> is:</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; diffs = Streams.concat(xs.keySet().stream(), ys.keySet().stream())\n        .distinct()\n        .collect(toMap(k -&gt; k, k -&gt; {\n            List&lt;String&gt; x = xs.getOrDefault(k, emptyList());\n            List&lt;String&gt; y = ys.getOrDefault(k, emptyList());\n            return IntStream.range(0, Math.max(x.size(), y.size()))\n                    .mapToObj(i -&gt; i &lt; x.size() ? (i &lt; y.size() ? (x.get(i).equals(y.get(i)) ? &quot;=&quot;: &quot;&lt;&gt;&quot;): &quot;X&quot;) : &quot;Y&quot;)\n                    .collect(toList());\n        }));\n</code></pre>\n<p>where you get <code>=</code> if the elements at index <code>i</code> are equals, <code>&lt;&gt;</code> if are different or <code>X</code> or <code>Y</code> if that index exists only on one set.</p>\n<p>For example:</p>\n<pre><code>xs.put(&quot;Column1&quot;, Arrays.asList(&quot;one&quot;, &quot;xxx&quot;, &quot;four&quot;));\nxs.put(&quot;Column2&quot;, Arrays.asList(&quot;one&quot;, &quot;two&quot;));\nxs.put(&quot;Column3&quot;, Arrays.asList(&quot;cat&quot;));\n\nys.put(&quot;Column1&quot;, Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;four&quot;));\nys.put(&quot;Column2&quot;, Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;));\nys.put(&quot;Column4&quot;, Arrays.asList(&quot;apple&quot;));\n</code></pre>\n<p>with output</p>\n<pre><code>{ Column1=[=, &lt;&gt;, =]\n, Column2=[=, =, Y]\n, Column3=[X]\n, Column4=[Y]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636478083,"creation_date":1636477560,"answer_id":69902223,"question_id":69900362,"body_markdown":"Here is one approach.  Without knowing the nature of your data, it was important to at least mention border cases.\r\n-  First, your example implies you are doing positional differences.  So `&quot;one&quot;,&quot;two&quot;` would be different than `&quot;two&quot;,&quot;one&quot;` and thus flagged as `elements 0, 1` are different.\r\n-  The maps may have different keys.  This means that for any given key, the contents of the map missing the key are all different.\r\n-  The lists of corresponding keys may have different numbers of elements.  The first few could be the same. Any element missing and not just different is flagged.\r\n\r\nHere is the data\r\n```\r\nMap&lt;String, List&lt;String&gt;&gt; map1 = new TreeMap&lt;&gt;();\r\nMap&lt;String, List&lt;String&gt;&gt; map2 = new TreeMap&lt;&gt;();\r\n\r\nmap1.put(&quot;Column1&quot;, Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;four&quot;));\r\nmap1.put(&quot;Column2&quot;, Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;four&quot;));\r\nmap1.put(&quot;Column3&quot;, Arrays.asList(&quot;three&quot;, &quot;two&quot;));\r\nmap1.put(&quot;Column4&quot;, Arrays.asList(&quot;one&quot;,&quot;two&quot;,&quot;three&quot;));\r\nmap1.put(&quot;Column6&quot;, Arrays.asList(&quot;nine&quot;,&quot;ten&quot;));\r\n\t\r\nmap2.put(&quot;Column1&quot;, Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;));\r\nmap2.put(&quot;Column2&quot;, Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;,&quot;four&quot;,&quot;five&quot;));\r\nmap2.put(&quot;Column3&quot;, Arrays.asList(&quot;three&quot;));\r\nmap2.put(&quot;Column4&quot;, Arrays.asList(&quot;one&quot;, &quot;two&quot;,&quot;three&quot;));\r\nmap2.put(&quot;Column5&quot;, Arrays.asList(&quot;one&quot;, &quot;two&quot;,&quot;three&quot;));\r\n```\r\nNow create a set that contains all the keys of both maps. Sorting isn&#39;t required but makes it easier to compare to the data.\r\n```\r\nSortedSet&lt;String&gt;keySet = new TreeSet&lt;&gt;(map1.keySet());\t\r\nkeySet.addAll(map2.keySet());\r\n```\r\n- First, guard against nulls lists (for missing keys) by creating an empty list.\r\n- Iterate over the lists, comparing values for the same key.\r\n- if different, call helper method to obtain the indices where different\r\n- display the information.\r\n```\r\nfor (String key : keySet) {\r\n\tList&lt;String&gt;list1 = Objects.requireNonNullElse(map1.get(key), List.of());\r\n\tList&lt;String&gt;list2 = Objects.requireNonNullElse(map2.get(key), List.of());\r\n\tif (!list1.equals(list2)) {\r\n\t\tint[] diffs = getIndices(list1,list2);\r\n\t\tSystem.out.printf(&quot;Maps different at key &#39;%s&#39;, element(s) %s&quot;, key, diffs[0]);\r\n\t\tfor (int i = 1; i &lt; diffs.length; i++) {\r\n\t\t\tSystem.out.printf(&quot;, %s&quot;, diffs[i]);\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t}\r\n}\r\n```\r\nThe above prints\r\n```\r\nMaps different at key &#39;Column1&#39;, element(s) 2\r\nMaps different at key &#39;Column2&#39;, element(s) 2, 3, 4\r\nMaps different at key &#39;Column3&#39;, element(s) 1\r\nMaps different at key &#39;Column5&#39;, element(s) 0, 1, 2\r\nMaps different at key &#39;Column6&#39;, element(s) 0, 1\r\n\r\n```\r\nHelper method.\r\n- compute the min and max sizes for the lists\r\n- stream the indices for the max list.\r\n- if the index is within both lists bounds, do the comparison\r\n- if the comparison is different, pass the index.\r\n- if the index is beyond the bounds, pass it since it flags missing list items.\r\n- then return the array of indices\r\n```\r\npublic static &lt;T&gt; int[] getIndices(List&lt;T&gt; list1,\r\n\t\tList&lt;T&gt; list2) {\r\n\tint min = Math.min(list1.size(), list2.size());\r\n\tint max = Math.max(list1.size(), list2.size());\r\n\tint[] diffs = IntStream.range(0, max)\r\n\t\t\t.filter(i -&gt; i &gt;= min || !list1.get(i).equals(list2.get(i)))\r\n\t\t\t.toArray();\r\n    return diffs;\r\n}","title":"Compare two Maps&lt;String, List&lt;String&gt;&gt; and get map key + map value as differences","body":"<p>Here is one approach.  Without knowing the nature of your data, it was important to at least mention border cases.</p>\n<ul>\n<li>First, your example implies you are doing positional differences.  So <code>&quot;one&quot;,&quot;two&quot;</code> would be different than <code>&quot;two&quot;,&quot;one&quot;</code> and thus flagged as <code>elements 0, 1</code> are different.</li>\n<li>The maps may have different keys.  This means that for any given key, the contents of the map missing the key are all different.</li>\n<li>The lists of corresponding keys may have different numbers of elements.  The first few could be the same. Any element missing and not just different is flagged.</li>\n</ul>\n<p>Here is the data</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; map1 = new TreeMap&lt;&gt;();\nMap&lt;String, List&lt;String&gt;&gt; map2 = new TreeMap&lt;&gt;();\n\nmap1.put(&quot;Column1&quot;, Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;four&quot;));\nmap1.put(&quot;Column2&quot;, Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;four&quot;));\nmap1.put(&quot;Column3&quot;, Arrays.asList(&quot;three&quot;, &quot;two&quot;));\nmap1.put(&quot;Column4&quot;, Arrays.asList(&quot;one&quot;,&quot;two&quot;,&quot;three&quot;));\nmap1.put(&quot;Column6&quot;, Arrays.asList(&quot;nine&quot;,&quot;ten&quot;));\n    \nmap2.put(&quot;Column1&quot;, Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;));\nmap2.put(&quot;Column2&quot;, Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;,&quot;four&quot;,&quot;five&quot;));\nmap2.put(&quot;Column3&quot;, Arrays.asList(&quot;three&quot;));\nmap2.put(&quot;Column4&quot;, Arrays.asList(&quot;one&quot;, &quot;two&quot;,&quot;three&quot;));\nmap2.put(&quot;Column5&quot;, Arrays.asList(&quot;one&quot;, &quot;two&quot;,&quot;three&quot;));\n</code></pre>\n<p>Now create a set that contains all the keys of both maps. Sorting isn't required but makes it easier to compare to the data.</p>\n<pre><code>SortedSet&lt;String&gt;keySet = new TreeSet&lt;&gt;(map1.keySet()); \nkeySet.addAll(map2.keySet());\n</code></pre>\n<ul>\n<li>First, guard against nulls lists (for missing keys) by creating an empty list.</li>\n<li>Iterate over the lists, comparing values for the same key.</li>\n<li>if different, call helper method to obtain the indices where different</li>\n<li>display the information.</li>\n</ul>\n<pre><code>for (String key : keySet) {\n    List&lt;String&gt;list1 = Objects.requireNonNullElse(map1.get(key), List.of());\n    List&lt;String&gt;list2 = Objects.requireNonNullElse(map2.get(key), List.of());\n    if (!list1.equals(list2)) {\n        int[] diffs = getIndices(list1,list2);\n        System.out.printf(&quot;Maps different at key '%s', element(s) %s&quot;, key, diffs[0]);\n        for (int i = 1; i &lt; diffs.length; i++) {\n            System.out.printf(&quot;, %s&quot;, diffs[i]);\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n<p>The above prints</p>\n<pre><code>Maps different at key 'Column1', element(s) 2\nMaps different at key 'Column2', element(s) 2, 3, 4\nMaps different at key 'Column3', element(s) 1\nMaps different at key 'Column5', element(s) 0, 1, 2\nMaps different at key 'Column6', element(s) 0, 1\n\n</code></pre>\n<p>Helper method.</p>\n<ul>\n<li>compute the min and max sizes for the lists</li>\n<li>stream the indices for the max list.</li>\n<li>if the index is within both lists bounds, do the comparison</li>\n<li>if the comparison is different, pass the index.</li>\n<li>if the index is beyond the bounds, pass it since it flags missing list items.</li>\n<li>then return the array of indices</li>\n</ul>\n<pre><code>public static &lt;T&gt; int[] getIndices(List&lt;T&gt; list1,\n        List&lt;T&gt; list2) {\n    int min = Math.min(list1.size(), list2.size());\n    int max = Math.max(list1.size(), list2.size());\n    int[] diffs = IntStream.range(0, max)\n            .filter(i -&gt; i &gt;= min || !list1.get(i).equals(list2.get(i)))\n            .toArray();\n    return diffs;\n}\n</code></pre>\n"}],"owner":{"account_id":3341568,"reputation":9,"user_id":2807753,"display_name":"groogie13"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1613,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69902223,"answer_count":2,"score":0,"last_activity_date":1636478083,"creation_date":1636469878,"question_id":69900362,"body_markdown":"I have two Maps of type Map&lt;String, List&lt;String&gt;&gt;, which I need to compare and when I get different values in the List&lt;String&gt;, I need to retrieve those values with their corresponding Map key.The two maps look like this:\r\n\r\n        Map&lt;String, List&lt;String&gt;&gt; map1 = new TreeMap&lt;&gt;();\r\n        Map&lt;String, List&lt;String&gt;&gt; map2 = new TreeMap&lt;&gt;();\r\n\r\n        map1.put(&quot;Column1&quot;, Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;four&quot;));\r\n        map1.put(&quot;Column2&quot;, Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;four&quot;));\r\n\r\n        map2.put(&quot;Column1&quot;, Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;));\r\n        map2.put(&quot;Column2&quot;, Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;));\r\n\r\nAfter comparison, the result should be something like: &quot;Different value at Key 1, element 3. Different value at Key 2, element 3&quot;. How could I iterate through the two given maps so I can get to the corresponding index of different element? I tried creating a flatMap out of each Map, but then I lose the keySet for the different element between the lists.","title":"Compare two Maps&lt;String, List&lt;String&gt;&gt; and get map key + map value as differences","body":"<p>I have two Maps of type Map&lt;String, List&gt;, which I need to compare and when I get different values in the List, I need to retrieve those values with their corresponding Map key.The two maps look like this:</p>\n<pre><code>    Map&lt;String, List&lt;String&gt;&gt; map1 = new TreeMap&lt;&gt;();\n    Map&lt;String, List&lt;String&gt;&gt; map2 = new TreeMap&lt;&gt;();\n\n    map1.put(&quot;Column1&quot;, Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;four&quot;));\n    map1.put(&quot;Column2&quot;, Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;four&quot;));\n\n    map2.put(&quot;Column1&quot;, Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;));\n    map2.put(&quot;Column2&quot;, Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;));\n</code></pre>\n<p>After comparison, the result should be something like: &quot;Different value at Key 1, element 3. Different value at Key 2, element 3&quot;. How could I iterate through the two given maps so I can get to the corresponding index of different element? I tried creating a flatMap out of each Map, but then I lose the keySet for the different element between the lists.</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","hibernate-mapping"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1636474557,"post_id":69901481,"comment_id":123564305,"body_markdown":"Because your releations are declared as lazy. You can only load them lazy if you have a transaction and access the fields in the same transaction in which you fetched the entity initially. Take a look at https://stackoverflow.com/a/2991015/7082956","body":"Because your releations are declared as lazy. You can only load them lazy if you have a transaction and access the fields in the same transaction in which you fetched the entity initially. Take a look at <a href=\"https://stackoverflow.com/a/2991015/7082956\">stackoverflow.com/a/2991015/7082956</a>"},{"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"score":0,"creation_date":1636475570,"post_id":69901481,"comment_id":123564732,"body_markdown":"The EntityManager was closed by the time you did `usersList.get(0).getAddressesList()` and `usersList.get(0).getUserTypes()`. This may help you: https://vladmihalcea.com/the-best-way-to-handle-the-lazyinitializationexception/","body":"The EntityManager was closed by the time you did <code>usersList.get(0).getAddressesList()</code> and <code>usersList.get(0).getUserTypes()</code>. This may help you: <a href=\"https://vladmihalcea.com/the-best-way-to-handle-the-lazyinitializationexception/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3508935,"reputation":159,"user_id":2933780,"display_name":"galaxy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636478065,"creation_date":1636478065,"answer_id":69902348,"question_id":69901481,"body_markdown":"You&#39;re trying to access to a lazy-loaded object outside of the context of an open Hibernate session. To avoid this error you have some choices, two of them:\r\n\r\n**1. Using  FetchType.EAGER Strategy**\r\n\r\n```java\r\n  @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, mappedBy = &quot;user&quot;, orphanRemoval = true)\r\n  @JsonManagedReference\r\n  private Set&lt;Address&gt; addressesList = new HashSet&lt;&gt;();\r\n```\r\n\r\n**2. Using Join Fetching**\r\n\r\n```sql\r\n  SELECT u FROM User u JOIN FETCH u.adressesList\r\n```\r\n\r\n","title":"Why in the object retrieved by a JPA findAll() method I cannot access to the field mapped as relationship?","body":"<p>You're trying to access to a lazy-loaded object outside of the context of an open Hibernate session. To avoid this error you have some choices, two of them:</p>\n<p><strong>1. Using  FetchType.EAGER Strategy</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>  @OneToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL, mappedBy = &quot;user&quot;, orphanRemoval = true)\n  @JsonManagedReference\n  private Set&lt;Address&gt; addressesList = new HashSet&lt;&gt;();\n</code></pre>\n<p><strong>2. Using Join Fetching</strong></p>\n<pre class=\"lang-sql prettyprint-override\"><code>  SELECT u FROM User u JOIN FETCH u.adressesList\n</code></pre>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":908,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1636478065,"creation_date":1636474335,"question_id":69901481,"body_markdown":"I am working on a Spring Boot project using Spring Data JPA and I have the following problem trying to retrieve data.\r\n\r\nI have this **User** class mapping a **portal_user** DB table:\r\n\r\n    @Entity\r\n    @Table(name = &quot;portal_user&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class User implements Serializable {\r\n    \t \r\n    \tprivate static final long serialVersionUID = 5062673109048808267L;\r\n    \t\r\n    \t@Id\r\n    \t@Column(name = &quot;id&quot;)\r\n    \t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    \tprivate int id;\r\n    \t\r\n    \t@Column(name = &quot;first_name&quot;)\r\n    \tprivate String firstName;\r\n    \t\r\n    \t@Column(name = &quot;middle_name&quot;)\r\n    \tprivate String middleName;\r\n    \t\r\n    \t@Column(name = &quot;surname&quot;)\r\n    \tprivate String surname;\r\n    \t\r\n    \t@Column(name = &quot;sex&quot;)\r\n    \tprivate char sex;\r\n    \t\r\n    \t@Column(name = &quot;birthdate&quot;)\r\n    \tprivate Date birthdate;\r\n    \t\r\n    \t@Column(name = &quot;tex_code&quot;)\r\n    \tprivate String taxCode;\r\n    \t\r\n    \t@Column(name = &quot;e_mail&quot;)\r\n    \tprivate String eMail;\r\n    \t\r\n    \t@Column(name = &quot;contact_number&quot;)\r\n    \tprivate String contactNumber;\r\n    \t\r\n    \t@Temporal(TemporalType.DATE)\r\n    \t@Column(name = &quot;created_at&quot;)\r\n    \tprivate Date createdAt;\r\n    \t\r\n    \t@OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;user&quot;, orphanRemoval = true)\r\n    \t@JsonManagedReference\r\n    \tprivate Set&lt;Address&gt; addressesList = new HashSet&lt;&gt;();\r\n    \t\r\n    \t//@OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\r\n    \t//@JsonManagedReference\r\n    \t//private Set&lt;User_UserType&gt; userToUserTypeAssociation = new HashSet&lt;&gt;();\r\n    \t\r\n    \t@ManyToMany(cascade = { CascadeType.MERGE })\r\n        @JoinTable(\r\n            name = &quot;portal_user_user_type&quot;, \r\n            joinColumns = { @JoinColumn(name = &quot;portal_user_id_fk&quot;) }, \r\n            inverseJoinColumns = { @JoinColumn(name = &quot;user_type_id_fk&quot;) }\r\n        )\r\n        Set&lt;UserType&gt; userTypes;\r\n    \t\r\n    \r\n    \tpublic User() {\r\n    \t\tsuper();\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \r\n    \tpublic User(String firstName, String middleName, String surname, char sex, Date birthdate, String taxCode,\r\n    \t\t\tString eMail, String contactNumber, Date createdAt) {\r\n    \t\tsuper();\r\n    \t\tthis.firstName = firstName;\r\n    \t\tthis.middleName = middleName;\r\n    \t\tthis.surname = surname;\r\n    \t\tthis.sex = sex;\r\n    \t\tthis.birthdate = birthdate;\r\n    \t\tthis.taxCode = taxCode;\r\n    \t\tthis.eMail = eMail;\r\n    \t\tthis.contactNumber = contactNumber;\r\n    \t\tthis.createdAt = createdAt;\r\n    \t}\r\n    \r\n    }\r\n\r\nAs you can see into this entity class there are some relationship, for example this **@OnetoMany** relationship:\r\n\r\n\t@OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;user&quot;, orphanRemoval = true)\r\n\t@JsonManagedReference\r\n\tprivate Set&lt;Address&gt; addressesList = new HashSet&lt;&gt;();\r\n\r\nThis is my **Address** entity class mapping the **address** table on my DB:\r\n\r\n\t@Entity\r\n\t@Table(name = &quot;address&quot;)\r\n\t@Getter\r\n\t@Setter\r\n\t@NoArgsConstructor\r\n\t@AllArgsConstructor \r\n\tpublic class Address implements Serializable {\r\n\t\t \r\n\t\tprivate static final long serialVersionUID = 6956974379644960088L;\r\n\t\t\r\n\t\t@Id\r\n\t\t@Column(name = &quot;id&quot;)\r\n\t\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\t\tprivate int id;\r\n\t\t\r\n\t\t@Column(name = &quot;country&quot;)\r\n\t\tprivate String country;\r\n\t\t\r\n\t\t@Column(name = &quot;province&quot;)\r\n\t\tprivate String province;\r\n\t\t\r\n\t\t@Column(name = &quot;zip_code&quot;)\r\n\t\tprivate String zipCode;\r\n\t\t\r\n\t\t@Column(name = &quot;street&quot;)\r\n\t\tprivate String street;\r\n\t\t\r\n\t\t@Column(name = &quot;notes&quot;)\r\n\t\tprivate String notes;\r\n\t\t\r\n\t\t//@Column(name = &quot;fk_user_id&quot;)\r\n\t\t//private int fkUserId;\r\n\t\t\r\n\t\t@ManyToOne\r\n\t\t@EqualsAndHashCode.Exclude\t\t\t// Needed by Lombock in &quot;Many To One&quot; relathionship to avoid error\r\n\t\t@JoinColumn(name = &quot;fk_user_id&quot;, referencedColumnName = &quot;id&quot;)\r\n\t\t@JsonBackReference\r\n\t\tprivate User user;\r\n\r\n\t\tpublic Address(String country, String province, String zipCode, String street, String notes, User user) {\r\n\t\t\tsuper();\r\n\t\t\tthis.country = country;\r\n\t\t\tthis.province = province;\r\n\t\t\tthis.zipCode = zipCode;\r\n\t\t\tthis.street = street;\r\n\t\t\tthis.notes = notes;\r\n\t\t\tthis.user = user;\r\n\t\t}\r\n\r\n\r\n\t}\r\n\r\nI created this unit test method to test the retrieve of all the records into my **portal_user** table (and the information caming from the relationship):\r\n\r\n\t@Test\r\n\t@Order(2)\r\n\tpublic void RetrieveAllUsers() {\r\n\t\t\r\n\t\tList&lt;User&gt; usersList = this.userRepository.findAll();\r\n\t\tSystem.out.println(usersList.get(0).getAddressesList());\r\n\t\tSystem.out.println(usersList.get(0).getUserTypes());\r\n\t\tassertTrue(true);\r\n\t\t\r\n\t}\r\n\r\nThe **findAll()** method seems works and the list is retrieved but using the debugger I cannot see the value of the two field representing a relationship, this is what I am ontaining in the &quot;expression&quot; tab of the debugger.\r\n\r\n\tusersList\t(id=180)\t\r\n\t\t[0]\tUser  (id=193)\t\r\n\t\t\taddressesList\tPersistentSet  (id=199)\t\r\n\t\t\t\tError\tException occurred: com.sun.jdi.InvocationException: Exception occurred in target VM occurred invoking method..\t\r\n\t\t\tbirthdate\tTimestamp  (id=204)\t\r\n\t\t\tcontactNumber\t329123456&quot; (id=208)\t\r\n\t\t\tcreatedAt\tDate  (id=213)\t\r\n\t\t\teMail\txxx@gmail.com&quot; (id=215)\t\r\n\t\t\tfirstName\tLuca&quot; (id=216)\t\r\n\t\t\tid\t25\t\r\n\t\t\tmiddleName\tnull\t\r\n\t\t\tsex\tM\t\r\n\t\t\tsurname\tVerdi&quot; (id=217)\t\r\n\t\t\ttaxCode\tXXX&quot; (id=218)\t\r\n\t\t\tuserTypes\tPersistentSet  (id=220)\t\r\n\t\t\t\tError\tException occurred: com.sun.jdi.InvocationException: Exception occurred in target VM occurred invoking method..\t\r\n\t\t[1]\tUser  (id=196)\t\r\n\t\t[2]\tUser  (id=197)\t\r\n\tAdd new expression\t\t\r\n\r\nAs you can see, the value of the **addressesList** and of the **userTypes** fields representing my relationship is something like:\r\n\r\n    Error\tException occurred: com.sun.jdi.InvocationException: Exception occurred in target VM occurred invoking method..\t\r\n\r\nAs you can see in the previous unit test method code I then tried to access it by:\r\n\r\n    usersList.get(0).getAddressesList())\r\n\r\nbut when this code is performed I obtains this exception:\r\n\r\n\torg.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.easydefi.users.entity.User.addressesList, could not initialize proxy - no Session\r\n\t\tat org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:606)\r\n\t\tat org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)\r\n\t\tat org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:585)\r\n\t\tat org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:149)\r\n\t\tat org.hibernate.collection.internal.PersistentSet.toString(PersistentSet.java:327)\r\n\t\tat java.base/java.lang.String.valueOf(String.java:3365)\r\n\t\tat java.base/java.io.PrintStream.println(PrintStream.java:1047)\r\n\t\tat com.easydefi.users.tests.RepositoryTests.UserRepositoryTest.RetrieveAllUsers(UserRepositoryTest.java:86)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\t\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\r\n\t\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\t\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\t\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\t\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\t\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n\t\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\t\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:84)\r\n\t\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n\r\nWhat is the problem? What am I missing? How can i try to fix this issue?\r\n\r\n\r\n\r\n","title":"Why in the object retrieved by a JPA findAll() method I cannot access to the field mapped as relationship?","body":"<p>I am working on a Spring Boot project using Spring Data JPA and I have the following problem trying to retrieve data.</p>\n<p>I have this <strong>User</strong> class mapping a <strong>portal_user</strong> DB table:</p>\n<pre><code>@Entity\n@Table(name = &quot;portal_user&quot;)\n@Getter\n@Setter\npublic class User implements Serializable {\n     \n    private static final long serialVersionUID = 5062673109048808267L;\n    \n    @Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private int id;\n    \n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n    \n    @Column(name = &quot;middle_name&quot;)\n    private String middleName;\n    \n    @Column(name = &quot;surname&quot;)\n    private String surname;\n    \n    @Column(name = &quot;sex&quot;)\n    private char sex;\n    \n    @Column(name = &quot;birthdate&quot;)\n    private Date birthdate;\n    \n    @Column(name = &quot;tex_code&quot;)\n    private String taxCode;\n    \n    @Column(name = &quot;e_mail&quot;)\n    private String eMail;\n    \n    @Column(name = &quot;contact_number&quot;)\n    private String contactNumber;\n    \n    @Temporal(TemporalType.DATE)\n    @Column(name = &quot;created_at&quot;)\n    private Date createdAt;\n    \n    @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;user&quot;, orphanRemoval = true)\n    @JsonManagedReference\n    private Set&lt;Address&gt; addressesList = new HashSet&lt;&gt;();\n    \n    //@OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\n    //@JsonManagedReference\n    //private Set&lt;User_UserType&gt; userToUserTypeAssociation = new HashSet&lt;&gt;();\n    \n    @ManyToMany(cascade = { CascadeType.MERGE })\n    @JoinTable(\n        name = &quot;portal_user_user_type&quot;, \n        joinColumns = { @JoinColumn(name = &quot;portal_user_id_fk&quot;) }, \n        inverseJoinColumns = { @JoinColumn(name = &quot;user_type_id_fk&quot;) }\n    )\n    Set&lt;UserType&gt; userTypes;\n    \n\n    public User() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n\n    public User(String firstName, String middleName, String surname, char sex, Date birthdate, String taxCode,\n            String eMail, String contactNumber, Date createdAt) {\n        super();\n        this.firstName = firstName;\n        this.middleName = middleName;\n        this.surname = surname;\n        this.sex = sex;\n        this.birthdate = birthdate;\n        this.taxCode = taxCode;\n        this.eMail = eMail;\n        this.contactNumber = contactNumber;\n        this.createdAt = createdAt;\n    }\n\n}\n</code></pre>\n<p>As you can see into this entity class there are some relationship, for example this <strong>@OnetoMany</strong> relationship:</p>\n<pre><code>@OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;user&quot;, orphanRemoval = true)\n@JsonManagedReference\nprivate Set&lt;Address&gt; addressesList = new HashSet&lt;&gt;();\n</code></pre>\n<p>This is my <strong>Address</strong> entity class mapping the <strong>address</strong> table on my DB:</p>\n<pre><code>@Entity\n@Table(name = &quot;address&quot;)\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor \npublic class Address implements Serializable {\n     \n    private static final long serialVersionUID = 6956974379644960088L;\n    \n    @Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private int id;\n    \n    @Column(name = &quot;country&quot;)\n    private String country;\n    \n    @Column(name = &quot;province&quot;)\n    private String province;\n    \n    @Column(name = &quot;zip_code&quot;)\n    private String zipCode;\n    \n    @Column(name = &quot;street&quot;)\n    private String street;\n    \n    @Column(name = &quot;notes&quot;)\n    private String notes;\n    \n    //@Column(name = &quot;fk_user_id&quot;)\n    //private int fkUserId;\n    \n    @ManyToOne\n    @EqualsAndHashCode.Exclude          // Needed by Lombock in &quot;Many To One&quot; relathionship to avoid error\n    @JoinColumn(name = &quot;fk_user_id&quot;, referencedColumnName = &quot;id&quot;)\n    @JsonBackReference\n    private User user;\n\n    public Address(String country, String province, String zipCode, String street, String notes, User user) {\n        super();\n        this.country = country;\n        this.province = province;\n        this.zipCode = zipCode;\n        this.street = street;\n        this.notes = notes;\n        this.user = user;\n    }\n\n\n}\n</code></pre>\n<p>I created this unit test method to test the retrieve of all the records into my <strong>portal_user</strong> table (and the information caming from the relationship):</p>\n<pre><code>@Test\n@Order(2)\npublic void RetrieveAllUsers() {\n    \n    List&lt;User&gt; usersList = this.userRepository.findAll();\n    System.out.println(usersList.get(0).getAddressesList());\n    System.out.println(usersList.get(0).getUserTypes());\n    assertTrue(true);\n    \n}\n</code></pre>\n<p>The <strong>findAll()</strong> method seems works and the list is retrieved but using the debugger I cannot see the value of the two field representing a relationship, this is what I am ontaining in the &quot;expression&quot; tab of the debugger.</p>\n<pre><code>usersList   (id=180)    \n    [0] User  (id=193)  \n        addressesList   PersistentSet  (id=199) \n            Error   Exception occurred: com.sun.jdi.InvocationException: Exception occurred in target VM occurred invoking method.. \n        birthdate   Timestamp  (id=204) \n        contactNumber   329123456&quot; (id=208) \n        createdAt   Date  (id=213)  \n        eMail   xxx@gmail.com&quot; (id=215) \n        firstName   Luca&quot; (id=216)  \n        id  25  \n        middleName  null    \n        sex M   \n        surname Verdi&quot; (id=217) \n        taxCode XXX&quot; (id=218)   \n        userTypes   PersistentSet  (id=220) \n            Error   Exception occurred: com.sun.jdi.InvocationException: Exception occurred in target VM occurred invoking method.. \n    [1] User  (id=196)  \n    [2] User  (id=197)  \nAdd new expression      \n</code></pre>\n<p>As you can see, the value of the <strong>addressesList</strong> and of the <strong>userTypes</strong> fields representing my relationship is something like:</p>\n<pre><code>Error   Exception occurred: com.sun.jdi.InvocationException: Exception occurred in target VM occurred invoking method.. \n</code></pre>\n<p>As you can see in the previous unit test method code I then tried to access it by:</p>\n<pre><code>usersList.get(0).getAddressesList())\n</code></pre>\n<p>but when this code is performed I obtains this exception:</p>\n<pre><code>org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.easydefi.users.entity.User.addressesList, could not initialize proxy - no Session\n    at org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:606)\n    at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:218)\n    at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:585)\n    at org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:149)\n    at org.hibernate.collection.internal.PersistentSet.toString(PersistentSet.java:327)\n    at java.base/java.lang.String.valueOf(String.java:3365)\n    at java.base/java.io.PrintStream.println(PrintStream.java:1047)\n    at com.easydefi.users.tests.RepositoryTests.UserRepositoryTest.RetrieveAllUsers(UserRepositoryTest.java:86)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:84)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\n</code></pre>\n<p>What is the problem? What am I missing? How can i try to fix this issue?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":11834347,"reputation":12390,"user_id":9636037,"display_name":"Abhimanyu"},"score":0,"creation_date":1636137785,"post_id":69857836,"comment_id":123485564,"body_markdown":"The better option would be to learn the basics of Kotlin as it is the preferred language for Android development now. A lot of new blogs and tutorials will be in kotlin which would be difficult for you if you are trying using Java. And more over, there are kotlin specific things like Jetpack Compose.","body":"The better option would be to learn the basics of Kotlin as it is the preferred language for Android development now. A lot of new blogs and tutorials will be in kotlin which would be difficult for you if you are trying using Java. And more over, there are kotlin specific things like Jetpack Compose."},{"owner":{"account_id":11834347,"reputation":12390,"user_id":9636037,"display_name":"Abhimanyu"},"score":1,"creation_date":1636137902,"post_id":69857836,"comment_id":123485597,"body_markdown":"Start with kotlin basics and these concepts to understand the code - &quot;safe calls&quot; &amp; &quot;scope functions&quot;.","body":"Start with kotlin basics and these concepts to understand the code - &quot;safe calls&quot; &amp; &quot;scope functions&quot;."}],"answers":[{"tags":[],"owner":{"account_id":1202427,"reputation":1281,"user_id":3085617,"display_name":"SoftwareGuy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636478024,"creation_date":1636139453,"answer_id":69858162,"question_id":69857836,"body_markdown":"Here is the process on how to convert Kotlin code to Java code.\r\nhttps://www.geeksforgeeks.org/how-to-convert-kotlin-code-to-java-code-in-android-studio/\r\n\r\nBut I suggest you to learn Kotlin as it is faster and preferred for Android app development. \r\n","title":"Android unable to understand kotlin function","body":"<p>Here is the process on how to convert Kotlin code to Java code.\n<a href=\"https://www.geeksforgeeks.org/how-to-convert-kotlin-code-to-java-code-in-android-studio/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/how-to-convert-kotlin-code-to-java-code-in-android-studio/</a></p>\n<p>But I suggest you to learn Kotlin as it is faster and preferred for Android app development.</p>\n"},{"tags":[],"owner":{"account_id":12339881,"reputation":204,"user_id":9003483,"display_name":"Sartaj Roshan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636210319,"creation_date":1636210319,"answer_id":69865045,"question_id":69857836,"body_markdown":"```\r\n    private File getOutputDirectory() {\r\n        File mediaDir = null;\r\n        if (getExternalMediaDirs().size &gt; 0) {\r\n            mediaDir = new File(getExternalMediaDirs()[0], getResources().getString(R.string.app_name));\r\n            mediaDir.mkdirs();\r\n        }\r\n        \r\n        return if (mediaDir != null &amp;&amp; mediaDir.exists())\r\n         mediaDir\r\n        else \r\n        filesDir\r\n        \r\n    }\r\n```","title":"Android unable to understand kotlin function","body":"<pre><code>    private File getOutputDirectory() {\n        File mediaDir = null;\n        if (getExternalMediaDirs().size &gt; 0) {\n            mediaDir = new File(getExternalMediaDirs()[0], getResources().getString(R.string.app_name));\n            mediaDir.mkdirs();\n        }\n        \n        return if (mediaDir != null &amp;&amp; mediaDir.exists())\n         mediaDir\n        else \n        filesDir\n        \n    }\n</code></pre>\n"}],"owner":{"account_id":16671590,"reputation":460,"user_id":12048879,"display_name":"Remus Case"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1636478024,"creation_date":1636137480,"question_id":69857836,"body_markdown":"I am not very well versed with Kotlin and I am preferring Java over Kotlin while learning Android. But I am stuck at a piece of code which is as follows:\r\n```\r\nprivate fun getOutputDirectory(): File {\r\n       val mediaDir = externalMediaDirs.firstOrNull()?.let {\r\n           File(it, resources.getString(R.string.app_name)).apply { mkdirs() } }\r\n       return if (mediaDir != null &amp;&amp; mediaDir.exists())\r\n           mediaDir else filesDir\r\n}\r\n```\r\nThe following function is called in onCreate method as `var outputDirectory: File = getOutputDirectory();`\r\n\r\nCan you please help me convert the code into Java and in understanding it?\r\nThank you.","title":"Android unable to understand kotlin function","body":"<p>I am not very well versed with Kotlin and I am preferring Java over Kotlin while learning Android. But I am stuck at a piece of code which is as follows:</p>\n<pre><code>private fun getOutputDirectory(): File {\n       val mediaDir = externalMediaDirs.firstOrNull()?.let {\n           File(it, resources.getString(R.string.app_name)).apply { mkdirs() } }\n       return if (mediaDir != null &amp;&amp; mediaDir.exists())\n           mediaDir else filesDir\n}\n</code></pre>\n<p>The following function is called in onCreate method as <code>var outputDirectory: File = getOutputDirectory();</code></p>\n<p>Can you please help me convert the code into Java and in understanding it?\nThank you.</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1636472018,"post_id":69900840,"comment_id":123563077,"body_markdown":"With &quot;same size&quot; do you mean &quot;same dimensions&quot;? Why use recursion at all if you&#39;re dealing with only 2 levels? A simple loop for the 2nd level would suffice: `if(m1.length!=m2.length) {return false;} for(int i = 0; i &lt; m1.length; i++) { if(m1[i].length != m2[i].length) { return false; }} return true;`","body":"With &quot;same size&quot; do you mean &quot;same dimensions&quot;? Why use recursion at all if you&#39;re dealing with only 2 levels? A simple loop for the 2nd level would suffice: <code>if(m1.length!=m2.length) {return false;} for(int i = 0; i &lt; m1.length; i++) { if(m1[i].length != m2[i].length) { return false; }} return true;</code>"},{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1636472102,"post_id":69900840,"comment_id":123563128,"body_markdown":"Note that in the `else` block, you are doing a recursive call but you ignore the return value of the `mismasFilas` method.","body":"Note that in the <code>else</code> block, you are doing a recursive call but you ignore the return value of the <code>mismasFilas</code> method."}],"answers":[{"tags":[],"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636477458,"creation_date":1636477040,"answer_id":69902102,"question_id":69900840,"body_markdown":"If you want to check if the 2-dimensional `arrays` are rectangular matrices and that both have the same dimensions, you can do:\r\n\r\n    public static boolean isRectangle2DArray(int[][] array) {\r\n        return Arrays.stream(array).mapToInt(row -&gt; row.length).distinct().count() == 1;\r\n    }\r\n    \r\n    public static boolean sameDimensions(int[][] m1, int[][] m2) {\r\n        return isRectangle2DArray(m1) &amp;&amp; isRectangle2DArray(m2) \r\n                &amp;&amp; m1.length == m2.length &amp;&amp; m1[0].length == m2[0].length;\r\n    }\r\n\r\nIf you don&#39;t want to check if the 2-dimensional `arrays` are rectangular you can do:\r\n\r\n    public static boolean sameDimensions(int[][] m1, int[][] m2) {\r\n        if (m1.length != m2.length) {\r\n            return false;\r\n        }\r\n        for (int i = 0; i &lt; m1.length; i++) {\r\n            if (m1[i].length != m2[i].length) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\nIf you can use `stream` you can also do:\r\n\r\n    public static boolean sameDimensions(int[][] m1, int[][] m2) {\r\n        return m1.length == m2.length &amp;&amp; \r\n                IntStream.range(0, m1.length)\r\n                        .allMatch(i -&gt; m1[i].length == m2[i].length);\r\n    }\r\n\r\nThen:\r\n\r\n    int[][] m1 = {{1, 2, 3}, {4, 5, 6}};\r\n    \r\n    int[][] m2 = {{7, 8, 9}, {10, 11, 12}};\r\n    \r\n    int[][] m3 = {{7, 8}, {9, 10}, {11, 12}};\r\n\r\n    System.out.println(&quot;(m1, m2): &quot; + sameDimensions(m1, m2));\r\n        \r\n    System.out.println(&quot;(m1, m3): &quot; + sameDimensions(m1, m3));\r\n\r\nOutput:\r\n\r\n    (m1, m2): true\r\n    (m1, m3): false","title":"How to know if two matrices have the same size [Java]","body":"<p>If you want to check if the 2-dimensional <code>arrays</code> are rectangular matrices and that both have the same dimensions, you can do:</p>\n<pre><code>public static boolean isRectangle2DArray(int[][] array) {\n    return Arrays.stream(array).mapToInt(row -&gt; row.length).distinct().count() == 1;\n}\n\npublic static boolean sameDimensions(int[][] m1, int[][] m2) {\n    return isRectangle2DArray(m1) &amp;&amp; isRectangle2DArray(m2) \n            &amp;&amp; m1.length == m2.length &amp;&amp; m1[0].length == m2[0].length;\n}\n</code></pre>\n<p>If you don't want to check if the 2-dimensional <code>arrays</code> are rectangular you can do:</p>\n<pre><code>public static boolean sameDimensions(int[][] m1, int[][] m2) {\n    if (m1.length != m2.length) {\n        return false;\n    }\n    for (int i = 0; i &lt; m1.length; i++) {\n        if (m1[i].length != m2[i].length) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n<p>If you can use <code>stream</code> you can also do:</p>\n<pre><code>public static boolean sameDimensions(int[][] m1, int[][] m2) {\n    return m1.length == m2.length &amp;&amp; \n            IntStream.range(0, m1.length)\n                    .allMatch(i -&gt; m1[i].length == m2[i].length);\n}\n</code></pre>\n<p>Then:</p>\n<pre><code>int[][] m1 = {{1, 2, 3}, {4, 5, 6}};\n\nint[][] m2 = {{7, 8, 9}, {10, 11, 12}};\n\nint[][] m3 = {{7, 8}, {9, 10}, {11, 12}};\n\nSystem.out.println(&quot;(m1, m2): &quot; + sameDimensions(m1, m2));\n    \nSystem.out.println(&quot;(m1, m3): &quot; + sameDimensions(m1, m3));\n</code></pre>\n<p>Output:</p>\n<pre><code>(m1, m2): true\n(m1, m3): false\n</code></pre>\n"}],"owner":{"account_id":10470935,"reputation":1,"user_id":7718984,"display_name":"FunMoonicorn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636477458,"creation_date":1636471736,"question_id":69900840,"body_markdown":"I&#39;m a new programmer that just started learning recursive programming. I&#39;m trying to compare to matrices&#39; sizes recursively. \r\n\r\n    public static boolean mismasFilas(int[][] m1, int[][] m2, int fila) {\r\n        boolean sol = true;\r\n        int k = 0, h = 0;\r\n        if (fila &gt;= 0) {\r\n            if (m1[fila].length != m2[fila].length) {\r\n                \r\n                return false;\r\n            } else {\r\n                mismasFilas(m1, m2, fila - 1);\r\n            }\r\n        }\r\n        return sol;\r\n    }\r\n\r\nIt&#39;s working so far good but that `return false;` statement is not working as intended, it&#39;s not exiting the method. What am I doing wrong? Thanks for your help.","title":"How to know if two matrices have the same size [Java]","body":"<p>I'm a new programmer that just started learning recursive programming. I'm trying to compare to matrices' sizes recursively.</p>\n<pre><code>public static boolean mismasFilas(int[][] m1, int[][] m2, int fila) {\n    boolean sol = true;\n    int k = 0, h = 0;\n    if (fila &gt;= 0) {\n        if (m1[fila].length != m2[fila].length) {\n            \n            return false;\n        } else {\n            mismasFilas(m1, m2, fila - 1);\n        }\n    }\n    return sol;\n}\n</code></pre>\n<p>It's working so far good but that <code>return false;</code> statement is not working as intended, it's not exiting the method. What am I doing wrong? Thanks for your help.</p>\n"},{"tags":["java","javafx","datepicker","date-range"],"answers":[{"tags":[],"owner":{"account_id":7990930,"reputation":4132,"user_id":6028807,"display_name":"Miss Chanandler Bong"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1583578825,"creation_date":1583578825,"answer_id":60576845,"question_id":60571764,"body_markdown":"If you check `DatePickerContent` class, you can find that each time a new `DateCell` is created, an `EventHandler` of type `MOUSE_CLICKED` is added to it. This handler will call `selectDayCell(DateCell)` when the user clicks on a cell. `selectDayCell(DateCell)` sets the new date value and hides the `DatePicker`:\r\n```java\r\nprotected void createDayCells() {\r\n    final EventHandler&lt;MouseEvent&gt; dayCellActionHandler = ev -&gt; {\r\n        if (ev.getButton() != MouseButton.PRIMARY) {\r\n            return;\r\n        }\r\n        DateCell dayCell = (DateCell)ev.getSource();\r\n        selectDayCell(dayCell);\r\n        lastFocusedDayCell = dayCell;\r\n    };\r\n    for (int row = 0; row &lt; 6; row++) {\r\n        for (int col = 0; col &lt; daysPerWeek; col++) {\r\n            DateCell dayCell = createDayCell();\r\n            dayCell.addEventHandler(MouseEvent.MOUSE_CLICKED, dayCellActionHandler);\r\n            dayCells.add(dayCell);\r\n        }\r\n    }\r\n    dayCellDates = new LocalDate[6 * daysPerWeek];\r\n}\r\n\r\npublic void selectDayCell(DateCell dateCell) {\r\n    datePicker.setValue(dayCellDate(dateCell));\r\n    datePicker.hide();\r\n}\r\n```\r\nIf you&#39;re using Java 9 or newer, you can extend `DatePickerContent` class and override the `selectDayCell(DateCell)` method to not hide the `DatePicker` after a cell is selected:\r\n```java\r\npublic void selectDayCell(DateCell dateCell) {\r\n    datePicker.setValue(dayCellDate(dateCell));\r\n}\r\n```\r\nUnfortunately, in Java 8, `DatePickerContent` has a package-private constructor so you can&#39;t extend from it. As a workaround, you can add another `EventHandler` on mouse click that will show the `DatePicker` again after a cell is clicked:\r\n\r\n```java\r\nEventHandler&lt;MouseEvent&gt; mouseClickedEventHandler = clickEvent -&gt; {\r\n    if (clickEvent.getButton() == MouseButton.PRIMARY) {\r\n        datePicker.show();\r\n    }\r\n    clickEvent.consume();\r\n};\r\n```\r\nIn your cell factory:\r\n```java\r\n@Override\r\npublic void updateItem(LocalDate item, boolean empty) {\r\n    super.updateItem(item, empty);\r\n    //...\r\n    if (item != null &amp;&amp; !empty) {\r\n        //...\r\n        addEventHandler(MouseEvent.MOUSE_CLICKED, mouseClickedEventHandler);\r\n    } else {\r\n        //...\r\n        removeEventHandler(MouseEvent.MOUSE_CLICKED, mouseClickedEventHandler);\r\n    }\r\n}\r\n```","title":"Select multiple dates with DatePicker","body":"<p>If you check <code>DatePickerContent</code> class, you can find that each time a new <code>DateCell</code> is created, an <code>EventHandler</code> of type <code>MOUSE_CLICKED</code> is added to it. This handler will call <code>selectDayCell(DateCell)</code> when the user clicks on a cell. <code>selectDayCell(DateCell)</code> sets the new date value and hides the <code>DatePicker</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>protected void createDayCells() {\n    final EventHandler&lt;MouseEvent&gt; dayCellActionHandler = ev -&gt; {\n        if (ev.getButton() != MouseButton.PRIMARY) {\n            return;\n        }\n        DateCell dayCell = (DateCell)ev.getSource();\n        selectDayCell(dayCell);\n        lastFocusedDayCell = dayCell;\n    };\n    for (int row = 0; row &lt; 6; row++) {\n        for (int col = 0; col &lt; daysPerWeek; col++) {\n            DateCell dayCell = createDayCell();\n            dayCell.addEventHandler(MouseEvent.MOUSE_CLICKED, dayCellActionHandler);\n            dayCells.add(dayCell);\n        }\n    }\n    dayCellDates = new LocalDate[6 * daysPerWeek];\n}\n\npublic void selectDayCell(DateCell dateCell) {\n    datePicker.setValue(dayCellDate(dateCell));\n    datePicker.hide();\n}\n</code></pre>\n\n<p>If you're using Java 9 or newer, you can extend <code>DatePickerContent</code> class and override the <code>selectDayCell(DateCell)</code> method to not hide the <code>DatePicker</code> after a cell is selected:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void selectDayCell(DateCell dateCell) {\n    datePicker.setValue(dayCellDate(dateCell));\n}\n</code></pre>\n\n<p>Unfortunately, in Java 8, <code>DatePickerContent</code> has a package-private constructor so you can't extend from it. As a workaround, you can add another <code>EventHandler</code> on mouse click that will show the <code>DatePicker</code> again after a cell is clicked:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>EventHandler&lt;MouseEvent&gt; mouseClickedEventHandler = clickEvent -&gt; {\n    if (clickEvent.getButton() == MouseButton.PRIMARY) {\n        datePicker.show();\n    }\n    clickEvent.consume();\n};\n</code></pre>\n\n<p>In your cell factory:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void updateItem(LocalDate item, boolean empty) {\n    super.updateItem(item, empty);\n    //...\n    if (item != null &amp;&amp; !empty) {\n        //...\n        addEventHandler(MouseEvent.MOUSE_CLICKED, mouseClickedEventHandler);\n    } else {\n        //...\n        removeEventHandler(MouseEvent.MOUSE_CLICKED, mouseClickedEventHandler);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636477401,"creation_date":1583846272,"answer_id":60618476,"question_id":60571764,"body_markdown":"Using Miss Chanandler Bong&#39;s answer, I was able to create this for JavaFX8 :\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n   \r\n    public class MultiDatePicker\r\n    {\r\n    \r\n        private static final DateTimeFormatter DATE_FORMAT = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n        private final ObservableSet&lt;LocalDate&gt; selectedDates;\r\n        private final DatePicker datePicker;\r\n    \r\n        public MultiDatePicker()\r\n        {\r\n            this.selectedDates = FXCollections.observableSet(new TreeSet&lt;&gt;());\r\n            this.datePicker = new DatePicker();\r\n            setUpDatePicker();\r\n        }\r\n    \r\n      \r\n        public ObservableSet&lt;LocalDate&gt; getSelectedDates()\r\n        {\r\n            return this.selectedDates;\r\n        }\r\n    \r\n        public DatePicker getDatePicker()\r\n        {\r\n            return this.datePicker;\r\n        }\r\n    \r\n        private void setUpDatePicker()\r\n        {\r\n            this.datePicker.setConverter(new StringConverter&lt;LocalDate&gt;()\r\n            {\r\n                @Override\r\n                public String toString(LocalDate date)\r\n                {\r\n                    return (date == null) ? &quot;&quot; : DATE_FORMAT.format(date);\r\n                }\r\n    \r\n                @Override\r\n                public LocalDate fromString(String string)\r\n                {\r\n                    return ((string == null) || string.isEmpty()) ? null : LocalDate.parse(string, DATE_FORMAT);\r\n                }\r\n            });\r\n    \r\n            EventHandler&lt;MouseEvent&gt; mouseClickedEventHandler = (MouseEvent clickEvent) -&gt;\r\n            {\r\n                if (clickEvent.getButton() == MouseButton.PRIMARY)\r\n                {\r\n                    if (!this.selectedDates.contains(this.datePicker.getValue()))\r\n                    {\r\n                        this.selectedDates.add(datePicker.getValue());\r\n    \r\n                    } else\r\n                    {\r\n                        this.selectedDates.remove(this.datePicker.getValue());\r\n    \r\n                        this.datePicker.setValue(getClosestDateInTree(new TreeSet&lt;&gt;(this.selectedDates), this.datePicker.getValue()));\r\n    \r\n                    }\r\n    \r\n                }\r\n                this.datePicker.show();\r\n                clickEvent.consume();\r\n            };\r\n    \r\n            this.datePicker.setDayCellFactory((DatePicker param) -&gt; new DateCell()\r\n            {\r\n                @Override\r\n                public void updateItem(LocalDate item, boolean empty)\r\n                {\r\n                    super.updateItem(item, empty);\r\n    \r\n                    //...\r\n                    if (item != null &amp;&amp; !empty)\r\n                    {\r\n                        //...\r\n                        addEventHandler(MouseEvent.MOUSE_CLICKED, mouseClickedEventHandler);\r\n                    } else\r\n                    {\r\n                        //...\r\n                        removeEventHandler(MouseEvent.MOUSE_CLICKED, mouseClickedEventHandler);\r\n                    }\r\n    \r\n                    if (selectedDates.contains(item))\r\n                    {\r\n    \r\n                        setStyle(&quot;-fx-background-color: rgba(3, 169, 244, 0.7);&quot;);\r\n    \r\n                    } else\r\n                    {\r\n                        setStyle(null);\r\n    \r\n                    }\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n        private static LocalDate getClosestDateInTree(TreeSet&lt;LocalDate&gt; dates, LocalDate date)\r\n        {\r\n            Long lower = null;\r\n            Long higher = null;\r\n    \r\n            if (dates.isEmpty())\r\n            {\r\n                return null;\r\n            }\r\n    \r\n            if (dates.size() == 1)\r\n            {\r\n                return dates.first();\r\n            }\r\n    \r\n            if (dates.lower(date) != null)\r\n            {\r\n                lower = Math.abs(DAYS.between(date, dates.lower(date)));\r\n            }\r\n            if (dates.higher(date) != null)\r\n            {\r\n                higher = Math.abs(DAYS.between(date, dates.higher(date)));\r\n            }\r\n    \r\n            if (lower == null)\r\n            {\r\n                return dates.higher(date);\r\n            } else if (higher == null)\r\n            {\r\n                return dates.lower(date);\r\n            } else if (lower &lt;= higher)\r\n            {\r\n                return dates.lower(date);\r\n            } else if (lower &gt; higher)\r\n            {\r\n                return dates.higher(date);\r\n            } else\r\n            {\r\n                return null;\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XOOoO.gif","title":"Select multiple dates with DatePicker","body":"<p>Using Miss Chanandler Bong's answer, I was able to create this for JavaFX8 :</p>\n<p><a href=\"https://i.stack.imgur.com/XOOoO.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XOOoO.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>public class MultiDatePicker\n{\n\n    private static final DateTimeFormatter DATE_FORMAT = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\n    private final ObservableSet&lt;LocalDate&gt; selectedDates;\n    private final DatePicker datePicker;\n\n    public MultiDatePicker()\n    {\n        this.selectedDates = FXCollections.observableSet(new TreeSet&lt;&gt;());\n        this.datePicker = new DatePicker();\n        setUpDatePicker();\n    }\n\n  \n    public ObservableSet&lt;LocalDate&gt; getSelectedDates()\n    {\n        return this.selectedDates;\n    }\n\n    public DatePicker getDatePicker()\n    {\n        return this.datePicker;\n    }\n\n    private void setUpDatePicker()\n    {\n        this.datePicker.setConverter(new StringConverter&lt;LocalDate&gt;()\n        {\n            @Override\n            public String toString(LocalDate date)\n            {\n                return (date == null) ? &quot;&quot; : DATE_FORMAT.format(date);\n            }\n\n            @Override\n            public LocalDate fromString(String string)\n            {\n                return ((string == null) || string.isEmpty()) ? null : LocalDate.parse(string, DATE_FORMAT);\n            }\n        });\n\n        EventHandler&lt;MouseEvent&gt; mouseClickedEventHandler = (MouseEvent clickEvent) -&gt;\n        {\n            if (clickEvent.getButton() == MouseButton.PRIMARY)\n            {\n                if (!this.selectedDates.contains(this.datePicker.getValue()))\n                {\n                    this.selectedDates.add(datePicker.getValue());\n\n                } else\n                {\n                    this.selectedDates.remove(this.datePicker.getValue());\n\n                    this.datePicker.setValue(getClosestDateInTree(new TreeSet&lt;&gt;(this.selectedDates), this.datePicker.getValue()));\n\n                }\n\n            }\n            this.datePicker.show();\n            clickEvent.consume();\n        };\n\n        this.datePicker.setDayCellFactory((DatePicker param) -&gt; new DateCell()\n        {\n            @Override\n            public void updateItem(LocalDate item, boolean empty)\n            {\n                super.updateItem(item, empty);\n\n                //...\n                if (item != null &amp;&amp; !empty)\n                {\n                    //...\n                    addEventHandler(MouseEvent.MOUSE_CLICKED, mouseClickedEventHandler);\n                } else\n                {\n                    //...\n                    removeEventHandler(MouseEvent.MOUSE_CLICKED, mouseClickedEventHandler);\n                }\n\n                if (selectedDates.contains(item))\n                {\n\n                    setStyle(&quot;-fx-background-color: rgba(3, 169, 244, 0.7);&quot;);\n\n                } else\n                {\n                    setStyle(null);\n\n                }\n            }\n        });\n\n    }\n\n    private static LocalDate getClosestDateInTree(TreeSet&lt;LocalDate&gt; dates, LocalDate date)\n    {\n        Long lower = null;\n        Long higher = null;\n\n        if (dates.isEmpty())\n        {\n            return null;\n        }\n\n        if (dates.size() == 1)\n        {\n            return dates.first();\n        }\n\n        if (dates.lower(date) != null)\n        {\n            lower = Math.abs(DAYS.between(date, dates.lower(date)));\n        }\n        if (dates.higher(date) != null)\n        {\n            higher = Math.abs(DAYS.between(date, dates.higher(date)));\n        }\n\n        if (lower == null)\n        {\n            return dates.higher(date);\n        } else if (higher == null)\n        {\n            return dates.lower(date);\n        } else if (lower &lt;= higher)\n        {\n            return dates.lower(date);\n        } else if (lower &gt; higher)\n        {\n            return dates.higher(date);\n        } else\n        {\n            return null;\n        }\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2881,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":60576845,"answer_count":2,"score":5,"last_activity_date":1636477401,"creation_date":1583529561,"question_id":60571764,"body_markdown":"I am trying to create a DatePicker that selects multiple dates.  I am able to select multiple dates but I would like to keep the DatePicker open while I select them.  Problem is, the DatePicker will close every time I select a date.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI don&#39;t want to use a private API. I was thinking of adding this:\r\n```java\r\ndatePicker.setOnHiding(event -&gt; {            \r\n    event.consume();\r\n});\r\n```\r\nBut it doesn&#39;t work.\r\n\r\nHere is my code:\r\n```java\r\npublic static DatePicker getDatePicker() {\r\n    ObservableList&lt;LocalDate&gt; selectedDates = FXCollections.observableArrayList();\r\n    String pattern = &quot;yyyy-MM-dd&quot;;\r\n    DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(pattern);\r\n    DatePicker datePicker = new DatePicker();\r\n    datePicker.setPromptText(pattern);\r\n    \r\n    datePicker.setConverter(new StringConverter&lt;LocalDate&gt;() {\r\n        @Override\r\n        public String toString(LocalDate date) {\r\n            return (date == null) ? &quot;&quot; : dateFormatter.format(date);\r\n        }\r\n    \r\n        @Override\r\n        public LocalDate fromString(String string) {\r\n            return ((string == null) || string.isEmpty()) ? null : LocalDate.parse(string, dateFormatter);\r\n        }\r\n    });\r\n\r\n    datePicker.setOnAction(event -&gt; {\r\n        selectedDates.add(datePicker.getValue());\r\n        event.consume();\r\n    });\r\n    \r\n    datePicker.setDayCellFactory((DatePicker param) -&gt; new DateCell() {\r\n        @Override\r\n        public void updateItem(LocalDate item, boolean empty) {\r\n            super.updateItem(item, empty);\r\n            boolean alreadySelected = selectedDates.contains(item);\r\n            setDisable(alreadySelected);\r\n            setStyle(alreadySelected ? &quot;-fx-background-color: #09a30f;&quot; : &quot;&quot;);\r\n        }\r\n    });\r\n    \r\n    return datePicker;\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/GGEJB.gif","title":"Select multiple dates with DatePicker","body":"<p>I am trying to create a DatePicker that selects multiple dates.  I am able to select multiple dates but I would like to keep the DatePicker open while I select them.  Problem is, the DatePicker will close every time I select a date.</p>\n\n<p><a href=\"https://i.stack.imgur.com/GGEJB.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GGEJB.gif\" alt=\"enter image description here\"></a></p>\n\n<p>I don't want to use a private API. I was thinking of adding this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>datePicker.setOnHiding(event -&gt; {            \n    event.consume();\n});\n</code></pre>\n\n<p>But it doesn't work.</p>\n\n<p>Here is my code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static DatePicker getDatePicker() {\n    ObservableList&lt;LocalDate&gt; selectedDates = FXCollections.observableArrayList();\n    String pattern = \"yyyy-MM-dd\";\n    DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(pattern);\n    DatePicker datePicker = new DatePicker();\n    datePicker.setPromptText(pattern);\n\n    datePicker.setConverter(new StringConverter&lt;LocalDate&gt;() {\n        @Override\n        public String toString(LocalDate date) {\n            return (date == null) ? \"\" : dateFormatter.format(date);\n        }\n\n        @Override\n        public LocalDate fromString(String string) {\n            return ((string == null) || string.isEmpty()) ? null : LocalDate.parse(string, dateFormatter);\n        }\n    });\n\n    datePicker.setOnAction(event -&gt; {\n        selectedDates.add(datePicker.getValue());\n        event.consume();\n    });\n\n    datePicker.setDayCellFactory((DatePicker param) -&gt; new DateCell() {\n        @Override\n        public void updateItem(LocalDate item, boolean empty) {\n            super.updateItem(item, empty);\n            boolean alreadySelected = selectedDates.contains(item);\n            setDisable(alreadySelected);\n            setStyle(alreadySelected ? \"-fx-background-color: #09a30f;\" : \"\");\n        }\n    });\n\n    return datePicker;\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":2,"creation_date":1636476209,"post_id":69901891,"comment_id":123565006,"body_markdown":"Currently you redeclare `sum` as `0` in each iteration. Just put `int sum = 0;` outside of the loop. And put the printing after the loop","body":"Currently you redeclare <code>sum</code> as <code>0</code> in each iteration. Just put <code>int sum = 0;</code> outside of the loop. And put the printing after the loop"}],"answers":[{"tags":[],"owner":{"display_name":"user6073886"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636476262,"creation_date":1636476262,"answer_id":69901940,"question_id":69901891,"body_markdown":"Your error is that you are only declaring your sum variable inside your loop and initializing it to 0 in every iteration.\r\n\r\nInitialize the sum variable before the loop and only print once your loop is done:\r\n\r\n    int sum = 0;\r\n    while (num &gt; 0) {\r\n\r\n        int last_digit = num % 10;\r\n        sum = sum + last_digit;\r\n        num = num / 10;\r\n    }\r\n    System.out.println(sum);","title":"I&#39;m trying to write a code that gets the sum of all digits in a number but it isn&#39;t working","body":"<p>Your error is that you are only declaring your sum variable inside your loop and initializing it to 0 in every iteration.</p>\n<p>Initialize the sum variable before the loop and only print once your loop is done:</p>\n<pre><code>int sum = 0;\nwhile (num &gt; 0) {\n\n    int last_digit = num % 10;\n    sum = sum + last_digit;\n    num = num / 10;\n}\nSystem.out.println(sum);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636476263,"creation_date":1636476263,"answer_id":69901942,"question_id":69901891,"body_markdown":"Move the definition of `sum` outside the loop:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    int sum = 0;\r\n    while (num &gt; 0) {\r\n        sum += num % 10;  // add last digit to sum\r\n        num = num / 10;   // remove last digit from input\r\n    }\r\n\r\n    System.out.println(sum);","title":"I&#39;m trying to write a code that gets the sum of all digits in a number but it isn&#39;t working","body":"<p>Move the definition of <code>sum</code> outside the loop:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int sum = 0;\nwhile (num &gt; 0) {\n    sum += num % 10;  // add last digit to sum\n    num = num / 10;   // remove last digit from input\n}\n\nSystem.out.println(sum);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17960802,"reputation":1,"user_id":13051823,"display_name":"Piyush Ladani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636477076,"creation_date":1636477076,"answer_id":69902109,"question_id":69901891,"body_markdown":"Try this:\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Random random1 = new Random();\r\n        int num = random1.nextInt(10000);\r\n        System.out.println(num);\r\n\r\n        int sum;\r\n        for(sum = 0; num &gt; 0; sum += num % 10, num /= 10);\r\n        System.out.println(sum);\r\n \r\n    }\r\n    ","title":"I&#39;m trying to write a code that gets the sum of all digits in a number but it isn&#39;t working","body":"<p>Try this:</p>\n<pre><code>public static void main(String[] args) {\n\n    Random random1 = new Random();\n    int num = random1.nextInt(10000);\n    System.out.println(num);\n\n    int sum;\n    for(sum = 0; num &gt; 0; sum += num % 10, num /= 10);\n    System.out.println(sum);\n\n}\n</code></pre>\n"}],"owner":{"account_id":23286627,"reputation":9,"user_id":17369365,"display_name":"eldoon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":69901940,"answer_count":3,"score":-3,"last_activity_date":1636477076,"creation_date":1636476081,"question_id":69901891,"body_markdown":"I am a beginner in Java and currently doing practice and came across this question. \r\n\r\nWrite a program that generates one random number. The range of the random \r\nnumber is 0 to 10000. Display the number and the sum of all the digits in the number\r\n\r\nThis is my code and I can&#39;t figure out why its not printing the sum. Please help!\r\n\r\n````\r\nimport java.util.Random;\r\n\r\npublic class test {\r\n    public static void main(String[] args) {\r\n\r\n        Random random1 = new Random();\r\n        int num = random1.nextInt(10000);\r\n        System.out.println(num);\r\n\r\n        while(num &gt; 0) {\r\n\r\n            int sum = 0;\r\n            int last_digit = num % 10;\r\n            sum  = sum + last_digit;\r\n            num = num / 10;\r\n\r\n        System.out.println(sum);\r\n\r\n        }    \r\n\r\n    }\r\n    \r\n}\r\n````","title":"I&#39;m trying to write a code that gets the sum of all digits in a number but it isn&#39;t working","body":"<p>I am a beginner in Java and currently doing practice and came across this question.</p>\n<p>Write a program that generates one random number. The range of the random\nnumber is 0 to 10000. Display the number and the sum of all the digits in the number</p>\n<p>This is my code and I can't figure out why its not printing the sum. Please help!</p>\n<pre><code>import java.util.Random;\n\npublic class test {\n    public static void main(String[] args) {\n\n        Random random1 = new Random();\n        int num = random1.nextInt(10000);\n        System.out.println(num);\n\n        while(num &gt; 0) {\n\n            int sum = 0;\n            int last_digit = num % 10;\n            sum  = sum + last_digit;\n            num = num / 10;\n\n        System.out.println(sum);\n\n        }    \n\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","time-complexity"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1636471046,"post_id":69900564,"comment_id":123562608,"body_markdown":"See https://stackoverflow.com/a/40642392/1531124 : &quot;There is nothing like time complexity of a program. We calculate time complexity for algorithms or, in the context of programming, for individual (atomic) functions.&quot;","body":"See <a href=\"https://stackoverflow.com/a/40642392/1531124\">stackoverflow.com/a/40642392/1531124</a> : &quot;There is nothing like time complexity of a program. We calculate time complexity for algorithms or, in the context of programming, for individual (atomic) functions.&quot;"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1636471142,"post_id":69900564,"comment_id":123562662,"body_markdown":"Alternatively: it is always a good exercise to turn to the **source code** of that library call. And then you can try to analyse that yourself, to get an idea what is going on. Plenty of such key library calls even state their Big-O characteristics somewhere in the corresponding javadoc.","body":"Alternatively: it is always a good exercise to turn to the <b>source code</b> of that library call. And then you can try to analyse that yourself, to get an idea what is going on. Plenty of such key library calls even state their Big-O characteristics somewhere in the corresponding javadoc."},{"owner":{"account_id":12817770,"reputation":27,"user_id":9273847,"display_name":"Binky"},"score":0,"creation_date":1636471800,"post_id":69900564,"comment_id":123562985,"body_markdown":"Thanks! Does that mean calculating the the complexity of this kind of algorithm is not a must especially in an interview?","body":"Thanks! Does that mean calculating the the complexity of this kind of algorithm is not a must especially in an interview?"}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636477031,"creation_date":1636472511,"answer_id":69901033,"question_id":69900564,"body_markdown":"As written in comments, this existing [answer][1] suggests:\r\n\r\n&gt; There is nothing like time complexity of a program. We calculate time complexity for algorithms or, in the context of programming, for individual (atomic) functions.\r\n\r\nBut to answer the implicit &quot;how to go about this in an interview?&quot;: \r\n\r\n- In the above example, understand that there are the explicit loops. If you focus on that, you can estimate how many times the inner loop body gets executed\r\n- From there, you could &quot;mentally&quot; inline that library call\r\n- Leading to: you would suggest to inspect the source code of the library methods to understand *its* runtime cost\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/40642392/1531124","title":"How to calculate the time complexity when you use an API method?","body":"<p>As written in comments, this existing <a href=\"https://stackoverflow.com/a/40642392/1531124\">answer</a> suggests:</p>\n<blockquote>\n<p>There is nothing like time complexity of a program. We calculate time complexity for algorithms or, in the context of programming, for individual (atomic) functions.</p>\n</blockquote>\n<p>But to answer the implicit &quot;how to go about this in an interview?&quot;:</p>\n<ul>\n<li>In the above example, understand that there are the explicit loops. If you focus on that, you can estimate how many times the inner loop body gets executed</li>\n<li>From there, you could &quot;mentally&quot; inline that library call</li>\n<li>Leading to: you would suggest to inspect the source code of the library methods to understand <em>its</em> runtime cost</li>\n</ul>\n"}],"owner":{"account_id":12817770,"reputation":27,"user_id":9273847,"display_name":"Binky"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69901033,"answer_count":1,"score":0,"last_activity_date":1636477031,"creation_date":1636470708,"question_id":69900564,"body_markdown":"I am learning how to calculate the time and space complexity recently. I know how to calculate the basic one. However, when it involves some pre-built method, I got confused. For example, the code below uses the indexOf() method in the String class, how do I calculate? Thanks!\r\n\r\n    class Solution {\r\n        public String longestCommonPrefix(String[] strs) {\r\n            String prefix = strs[0];\r\n            for(int i = 1; i &lt; strs.length; i ++){\r\n                while(strs[i].indexOf(prefix) != 0){\r\n                    prefix = prefix.substring(0,prefix.length()-1);\r\n                }\r\n            }return prefix;\r\n        }\r\n    }","title":"How to calculate the time complexity when you use an API method?","body":"<p>I am learning how to calculate the time and space complexity recently. I know how to calculate the basic one. However, when it involves some pre-built method, I got confused. For example, the code below uses the indexOf() method in the String class, how do I calculate? Thanks!</p>\n<pre><code>class Solution {\n    public String longestCommonPrefix(String[] strs) {\n        String prefix = strs[0];\n        for(int i = 1; i &lt; strs.length; i ++){\n            while(strs[i].indexOf(prefix) != 0){\n                prefix = prefix.substring(0,prefix.length()-1);\n            }\n        }return prefix;\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1636477244,"post_id":69902050,"comment_id":123565415,"body_markdown":"Maintain &quot;a `List&lt;Shape&gt;` and let your implementation of `paintComponent()` iterate through the list to render the shapes;&quot; examples are cited [here](https://stackoverflow.com/a/27792312/230513) and [here](https://stackoverflow.com/a/11944233/230513).","body":"Maintain &quot;a <code>List&lt;Shape&gt;</code> and let your implementation of <code>paintComponent()</code> iterate through the list to render the shapes;&quot; examples are cited <a href=\"https://stackoverflow.com/a/27792312/230513\">here</a> and <a href=\"https://stackoverflow.com/a/11944233/230513\">here</a>."},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1636482224,"post_id":69902050,"comment_id":123567338,"body_markdown":"Do you custom painting on a JPanel by overriding `paintComponent()`, If you only want to draw one shape have `paintComponent()` paint it or skip it , controlled by a boolean flag.  Clicking the button should change the flag to `true` and call `repaint()`. For more info see:  [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html)","body":"Do you custom painting on a JPanel by overriding <code>paintComponent()</code>, If you only want to draw one shape have <code>paintComponent()</code> paint it or skip it , controlled by a boolean flag.  Clicking the button should change the flag to <code>true</code> and call <code>repaint()</code>. For more info see:  <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a>"}],"owner":{"account_id":19631572,"reputation":7,"user_id":14369777,"display_name":"I_was_made_for_java_you_baby"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636476752,"creation_date":1636476752,"question_id":69902050,"body_markdown":"I&#39;m trying to make it so that after clicking on the button, a figure is added to the canvas.\r\nBut I can&#39;t correctly implement the listener method in the OvalDrawTool class.\r\n\r\n```\r\npackage com.company;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class TestFrame extends JFrame{\r\n    public final OvalDrawTool odt = new OvalDrawTool();\r\n\r\n    public static void main(String[] args){\r\n        new TestFrame().start();\r\n    }\r\n\r\n    public void start(){\r\n        setLayout(new BorderLayout());\r\n\r\n        JPanel buttonsPanel = new JPanel();\r\n        JButton buttonOval = odt.getButtonOval();\r\n        buttonsPanel.add(buttonOval);\r\n\r\n        add(buttonsPanel, BorderLayout.NORTH);\r\n        setSize(500,500);\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setVisible(true);\r\n    }\r\n\r\n}\r\n```\r\nI do not understand how should I create a Graphics object and pass it in actionPerformed method\r\n\r\n```\r\npackage com.company;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\npublic class OvalDrawTool implements ActionListener{\r\n    public JButton getButtonOval() {\r\n        JButton buttonOval = new JButton();\r\n\r\n        buttonOval.setPreferredSize(new Dimension(100, 50));\r\n        buttonOval.setText(&quot;Oval&quot;);\r\n        buttonOval.addActionListener(this);\r\n        return buttonOval;\r\n    }\r\n\r\n    public void paintOval(Graphics g) {\r\n        g.setColor(Color.green);\r\n        g.fillOval(100, 100, 50, 50);\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        paintOval();\r\n    }\r\n}\r\n```\r\nI moved the figure drawing method into a separate class since I want to add more other shapes.","title":"How to properly call a shape drawing method in an ActionListener","body":"<p>I'm trying to make it so that after clicking on the button, a figure is added to the canvas.\nBut I can't correctly implement the listener method in the OvalDrawTool class.</p>\n<pre><code>package com.company;\n\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class TestFrame extends JFrame{\n    public final OvalDrawTool odt = new OvalDrawTool();\n\n    public static void main(String[] args){\n        new TestFrame().start();\n    }\n\n    public void start(){\n        setLayout(new BorderLayout());\n\n        JPanel buttonsPanel = new JPanel();\n        JButton buttonOval = odt.getButtonOval();\n        buttonsPanel.add(buttonOval);\n\n        add(buttonsPanel, BorderLayout.NORTH);\n        setSize(500,500);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setVisible(true);\n    }\n\n}\n</code></pre>\n<p>I do not understand how should I create a Graphics object and pass it in actionPerformed method</p>\n<pre><code>package com.company;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class OvalDrawTool implements ActionListener{\n    public JButton getButtonOval() {\n        JButton buttonOval = new JButton();\n\n        buttonOval.setPreferredSize(new Dimension(100, 50));\n        buttonOval.setText(&quot;Oval&quot;);\n        buttonOval.addActionListener(this);\n        return buttonOval;\n    }\n\n    public void paintOval(Graphics g) {\n        g.setColor(Color.green);\n        g.fillOval(100, 100, 50, 50);\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        paintOval();\n    }\n}\n</code></pre>\n<p>I moved the figure drawing method into a separate class since I want to add more other shapes.</p>\n"},{"tags":["java","command-line","java-11","java-module"],"comments":[{"owner":{"account_id":17111522,"reputation":77,"user_id":16038501,"display_name":"user16038501"},"score":0,"creation_date":1636476584,"post_id":69901675,"comment_id":123565164,"body_markdown":"Yes, sorry, I corrected the question.","body":"Yes, sorry, I corrected the question."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1636478912,"post_id":69901675,"comment_id":123566063,"body_markdown":"But are you sure about the details of the training question? If it is the other way round, B uses A, it’s clear that A must become an automatic module to satisfy a `requires A;` directive in `B`’s declaration. The scenario of A being non-modular but using other modular code, is what we have every day when running old software on newer JDKs, as the old software is non-modular but the JDK classes are modular.","body":"But are you sure about the details of the training question? If it is the other way round, B uses A, it’s clear that A must become an automatic module to satisfy a <code>requires A;</code> directive in <code>B</code>’s declaration. The scenario of A being non-modular but using other modular code, is what we have every day when running old software on newer JDKs, as the old software is non-modular but the JDK classes are modular."}],"owner":{"account_id":17111522,"reputation":77,"user_id":16038501,"display_name":"user16038501"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636476717,"creation_date":1636475185,"question_id":69901675,"body_markdown":"I am preparing for a Java 11 certification exam and I still do not fully understand the new Java modules system: A training question gives a situation like the following:\r\nIn my app I have 2 jars, say `A.jar` and `B.jar`, where `A.jar` uses `B.jar`, but `B.jar` does not use `A.jar`.\r\nFurther, `B.jar` is modularized, while `A.jar` is not.\r\n\r\nNow it sais, that if I try to run it like this:\r\n\r\n    java -classpath A.jar --module-path B.jar com.AMainClass\r\n\r\nwith a main class from A.jar, then it will fail to run - but why? For what I understood, when I put a non-modularized jar on the classpath, it becomes part of the &quot;unnamed module&quot;, which should be able to see all the modules on the module path. So shouldn&#180;t I be able to see the required dependencies from B.jar, when I run the main class from A.jar? Where is my misunderstanding?\r\n\r\nIt further sais, that it will work, if I put both jars on the module path and run the module instead of running the class:\r\n\r\n    java --module-path A.jar;B.jar --module A/com.AMainClass\r\n\r\nNow `A.jar`, being on the module path, will become an automatic module and will also see the other module - ok, this is fine. But what is the difference between running a module and running a class? Why doesn&#180;t it work when I try to run the class (as above) and what changes, when I run the module?","title":"CLI command in Java 11: Running a class vs running a module","body":"<p>I am preparing for a Java 11 certification exam and I still do not fully understand the new Java modules system: A training question gives a situation like the following:\nIn my app I have 2 jars, say <code>A.jar</code> and <code>B.jar</code>, where <code>A.jar</code> uses <code>B.jar</code>, but <code>B.jar</code> does not use <code>A.jar</code>.\nFurther, <code>B.jar</code> is modularized, while <code>A.jar</code> is not.</p>\n<p>Now it sais, that if I try to run it like this:</p>\n<pre><code>java -classpath A.jar --module-path B.jar com.AMainClass\n</code></pre>\n<p>with a main class from A.jar, then it will fail to run - but why? For what I understood, when I put a non-modularized jar on the classpath, it becomes part of the &quot;unnamed module&quot;, which should be able to see all the modules on the module path. So shouldn´t I be able to see the required dependencies from B.jar, when I run the main class from A.jar? Where is my misunderstanding?</p>\n<p>It further sais, that it will work, if I put both jars on the module path and run the module instead of running the class:</p>\n<pre><code>java --module-path A.jar;B.jar --module A/com.AMainClass\n</code></pre>\n<p>Now <code>A.jar</code>, being on the module path, will become an automatic module and will also see the other module - ok, this is fine. But what is the difference between running a module and running a class? Why doesn´t it work when I try to run the class (as above) and what changes, when I run the module?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":5,"creation_date":1520432646,"post_id":49153632,"comment_id":85312832,"body_markdown":"`@ConfigurationProperties` comes way below `@Conditional...` Annotations in the component scan chain.  Hence I don&#39;t think it is possible. All the `@Conditional` annotations like `@Condition`, `@ConditionalOnProperty` and `@ConditionalOnExpression` are executed before `@ConfigurationProperties`","body":"<code>@ConfigurationProperties</code> comes way below <code>@Conditional...</code> Annotations in the component scan chain.  Hence I don&#39;t think it is possible. All the <code>@Conditional</code> annotations like <code>@Condition</code>, <code>@ConditionalOnProperty</code> and <code>@ConditionalOnExpression</code> are executed before <code>@ConfigurationProperties</code>"},{"owner":{"account_id":401852,"reputation":3650,"user_id":768656,"accept_rate":96,"display_name":"Benjamin Maurer"},"score":1,"creation_date":1549958726,"post_id":49153632,"comment_id":96081891,"body_markdown":"Can&#39;t you use both? Create the FooProperties as before, but add a static constant with the default value and reference that in the &quot;havingValue&quot; propertie of ConditionalOnProperty","body":"Can&#39;t you use both? Create the FooProperties as before, but add a static constant with the default value and reference that in the &quot;havingValue&quot; propertie of ConditionalOnProperty"},{"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"score":1,"creation_date":1600454562,"post_id":49153632,"comment_id":113104195,"body_markdown":"Have you ever found answer for your question ?","body":"Have you ever found answer for your question ?"}],"answers":[{"tags":[],"owner":{"account_id":2835804,"reputation":11,"user_id":2436453,"display_name":"JJdev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551828719,"creation_date":1551761078,"answer_id":54995558,"question_id":49153632,"body_markdown":"It might not be as sexy but a potential solution could be to Autowire your Configuration into a SomeInterfaceConfiguration that creates provides the service implementation based on the FooProperties.\r\n\r\ni.e.\r\n\r\n    @Configuration\r\n    public class SomeInterfaceConfiguration {\r\n        \r\n        @Bean\r\n        @Autowired\r\n        public SomeInterface someInterface(FooProperties fooProperties){\r\n            if(&quot;a&quot;.equals(fooProperties.getBar()){\r\n                return SomeInterfaceImplementationA();\r\n            } else {\r\n                return SomeInterfaceImplementationB();\r\n            }\r\n        }\r\n    }\r\n\r\nAnother option is to use profiles but it is different to your desired solution.\r\ni.e. Have a default implementation.\r\n\r\n    @Component\r\n    public class ImplementationA \r\n\r\n    @Profile(&quot;b&quot;)\r\n    @Primary\r\n    @Component\r\n    public class ImplementationB","title":"Spring Boot bean conditional on @ConfigurationProperties value","body":"<p>It might not be as sexy but a potential solution could be to Autowire your Configuration into a SomeInterfaceConfiguration that creates provides the service implementation based on the FooProperties.</p>\n\n<p>i.e.</p>\n\n<pre><code>@Configuration\npublic class SomeInterfaceConfiguration {\n\n    @Bean\n    @Autowired\n    public SomeInterface someInterface(FooProperties fooProperties){\n        if(\"a\".equals(fooProperties.getBar()){\n            return SomeInterfaceImplementationA();\n        } else {\n            return SomeInterfaceImplementationB();\n        }\n    }\n}\n</code></pre>\n\n<p>Another option is to use profiles but it is different to your desired solution.\ni.e. Have a default implementation.</p>\n\n<pre><code>@Component\npublic class ImplementationA \n\n@Profile(\"b\")\n@Primary\n@Component\npublic class ImplementationB\n</code></pre>\n"},{"tags":[],"owner":{"account_id":211037,"reputation":1635,"user_id":462982,"accept_rate":62,"display_name":"user462982"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636476514,"creation_date":1636476514,"answer_id":69901997,"question_id":49153632,"body_markdown":"As proposed [here][1], you could create the ConfigurationProperties object manually in your @Conditional like this:\r\n\r\n    import org.springframework.boot.context.properties.bind.Binder\r\n    ...\r\n    YourConfigurationPropertiesClass config = Binder.get(context.getEnvironment())\r\n    .bind(&quot;your.properties.prefix&quot;, YourConfigurationPropertiesClass.class).orElse(null);\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/2282","title":"Spring Boot bean conditional on @ConfigurationProperties value","body":"<p>As proposed <a href=\"https://github.com/spring-projects/spring-boot/issues/2282\" rel=\"nofollow noreferrer\">here</a>, you could create the ConfigurationProperties object manually in your @Conditional like this:</p>\n<pre><code>import org.springframework.boot.context.properties.bind.Binder\n...\nYourConfigurationPropertiesClass config = Binder.get(context.getEnvironment())\n.bind(&quot;your.properties.prefix&quot;, YourConfigurationPropertiesClass.class).orElse(null);\n</code></pre>\n"}],"owner":{"account_id":171033,"reputation":1119,"user_id":398174,"accept_rate":75,"display_name":"P44T"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10091,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"answer_count":2,"score":30,"last_activity_date":1636476514,"creation_date":1520430889,"question_id":49153632,"body_markdown":"Spring Boot gives us typed configuration objects using the `@ConfigurationProperties` annotation. One of the advantages is getting property name completion in the IDE for free when using the Spring Boot annotation processor. Another would be: validation.\r\n\r\nNow, I&#39;d like to make a bean conditional on the value of a property. Actually, I have two implementations of an interface and this property tells me which one should be used. I could implement it like this:\r\n\r\n**ImplementationA.java**\r\n\r\n    @Component\r\n    @ConditionalOnProperty(name = &quot;foo.bar&quot;, havingValue = &quot;a&quot;)\r\n    public class ImplementationA implements SomeInterface { ... }\r\n\r\n**ImplementationB.java**\r\n\r\n    @Component\r\n    @ConditionalOnProperty(name = &quot;foo.bar&quot;, havingValue = &quot;b&quot;)\r\n    public class ImplementationB implements SomeInterface { ... }\r\n\r\n**application.yml**\r\n\r\n    foo:\r\n      bar: &quot;a&quot;\r\n\r\nHowever, I&#39;d then lose the advantage of typed configuration. So I&#39;d like to declare this property in a `@ConfigurationProperties` object:\r\n\r\n**FooProperties.java**\r\n\r\n    @ConfigurationProperties(prefix = &quot;foo&quot;)\r\n    public class FooProperties {\r\n\r\n        private String bar;\r\n\r\n\r\n        public String getBar() { ... }\r\n\r\n        public void setBar(String bar) { ... }\r\n    }\r\n\r\nThis would still work, but when I declare a default value for `bar` in this class, it would obviously not be picked up by `@ConditionalOnProperty` as this annotation operates against the `Environment` directly (as designed). So perhaps it&#39;d be best not to mix these concepts.\r\n\r\n## So the question is... ##\r\nWould there be a way to have a conditional bean based on a value in a `@ConfigurationProperties` object? Preferable using some `@Conditional` annotation and without creating a `@Configuration` bean, as that would mean boilerplate code.","title":"Spring Boot bean conditional on @ConfigurationProperties value","body":"<p>Spring Boot gives us typed configuration objects using the <code>@ConfigurationProperties</code> annotation. One of the advantages is getting property name completion in the IDE for free when using the Spring Boot annotation processor. Another would be: validation.</p>\n\n<p>Now, I'd like to make a bean conditional on the value of a property. Actually, I have two implementations of an interface and this property tells me which one should be used. I could implement it like this:</p>\n\n<p><strong>ImplementationA.java</strong></p>\n\n<pre><code>@Component\n@ConditionalOnProperty(name = \"foo.bar\", havingValue = \"a\")\npublic class ImplementationA implements SomeInterface { ... }\n</code></pre>\n\n<p><strong>ImplementationB.java</strong></p>\n\n<pre><code>@Component\n@ConditionalOnProperty(name = \"foo.bar\", havingValue = \"b\")\npublic class ImplementationB implements SomeInterface { ... }\n</code></pre>\n\n<p><strong>application.yml</strong></p>\n\n<pre><code>foo:\n  bar: \"a\"\n</code></pre>\n\n<p>However, I'd then lose the advantage of typed configuration. So I'd like to declare this property in a <code>@ConfigurationProperties</code> object:</p>\n\n<p><strong>FooProperties.java</strong></p>\n\n<pre><code>@ConfigurationProperties(prefix = \"foo\")\npublic class FooProperties {\n\n    private String bar;\n\n\n    public String getBar() { ... }\n\n    public void setBar(String bar) { ... }\n}\n</code></pre>\n\n<p>This would still work, but when I declare a default value for <code>bar</code> in this class, it would obviously not be picked up by <code>@ConditionalOnProperty</code> as this annotation operates against the <code>Environment</code> directly (as designed). So perhaps it'd be best not to mix these concepts.</p>\n\n<h2>So the question is...</h2>\n\n<p>Would there be a way to have a conditional bean based on a value in a <code>@ConfigurationProperties</code> object? Preferable using some <code>@Conditional</code> annotation and without creating a <code>@Configuration</code> bean, as that would mean boilerplate code.</p>\n"},{"tags":["java","http","post","get","request"],"comments":[{"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"score":0,"creation_date":1636457137,"post_id":69897167,"comment_id":123556546,"body_markdown":"Is using a framework such as Spring out of the question? There is no need to reinvent the wheel by implementing everything from 0.","body":"Is using a framework such as Spring out of the question? There is no need to reinvent the wheel by implementing everything from 0."},{"owner":{"account_id":22304523,"reputation":1,"user_id":16529364,"display_name":"aiso"},"score":0,"creation_date":1636457547,"post_id":69897167,"comment_id":123556690,"body_markdown":"I&#39;ve actually thought to upgrade to project to Spring, but I&#39;m new to that and asked this question only for educational purpose.\nSince sending out HTTP GET requests with Java is really simple I&#39;d like to learn the &quot;raw&quot; way to solve this problem before diving in a framework.","body":"I&#39;ve actually thought to upgrade to project to Spring, but I&#39;m new to that and asked this question only for educational purpose. Since sending out HTTP GET requests with Java is really simple I&#39;d like to learn the &quot;raw&quot; way to solve this problem before diving in a framework."}],"answers":[{"tags":[],"owner":{"account_id":14587195,"reputation":413,"user_id":10535574,"display_name":"RAZAFINARIVO Hanania"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636476247,"creation_date":1636476247,"answer_id":69901934,"question_id":69897167,"body_markdown":"You can&#39;t perform that using package `java.net.http` because you need to create an http server not an http client. To achieve that, you need `HttpServer` which is found in package `com.sun.net.httpserver`.\r\n\r\nThe first thing is to create a new instance of HttpServer :\r\n\r\n    final int port = 3000;//You can change with your port number you need\r\n    final HttpServer httpServer = HttpServer.create(new InetSocketAddress(port), 0);\r\n    System.out.println(&quot;Listening port : &quot; + port);\r\n\r\nThen, configure an http context. The first parameter accepts the route you defines and the second parameter accepts the http handler in which you can extract all your data that you need to store in your database.\r\n\r\n    httpServer.createContext(&quot;/test/demo.php&quot;, buildHttpHandler());//buildHttpHandler is to create\r\n\r\nWhat contains the function `buildHttpHandler()`? :\r\n\r\nEach time where route `/test/demo.php` is called, the content of arrow function is called. Here, we attempt only to create a simple page html and serves it to the http client. But before responding http client, we need to extract all data you need (ip, request type and parameters).\r\n\r\n    return httpExchange -&gt; {\r\n        final String html = &quot;&lt;!DOCTYPE html&gt;\\n&quot; +\r\n                &quot;&lt;html&gt;\\n&quot; +\r\n                &quot;   &lt;head&gt;\\n&quot; +\r\n                &quot;      &lt;title&gt;Page&lt;/title&gt;\\n&quot; +\r\n                &quot;      &lt;meta charset=&#39;utf-8&#39;/&gt;\\n&quot; +\r\n                &quot;   &lt;/head&gt;\\n&quot; +\r\n                &quot;   &lt;body&gt;Ok&lt;/body&gt;\\n&quot; +\r\n                &quot;&lt;/html&gt;&quot;;\r\n\r\n        //Function to create\r\n        extractData(httpExchange);\r\n\r\n        httpExchange.getResponseHeaders().set(&quot;Content-Type&quot;, &quot;text/html; charset=utf-8&quot;);\r\n        httpExchange.sendResponseHeaders(200, html.length());\r\n\r\n        final OutputStream outputStream = httpExchange.getResponseBody();\r\n        outputStream.write(html.getBytes(StandardCharsets.UTF_8));\r\n        outputStream.close();\r\n    };\r\n\r\n\r\nWhat contains `extractData()` function?\r\n\r\nIn this function we will extract the data you need.\r\n\r\n    final String ip = getClientIp(httpExchange);\r\n    System.out.println(&quot;IP : &quot; + ip);\r\n\r\n    final String requestType = httpExchange.getRequestMethod();\r\n    System.out.println(&quot;Request type : &quot; + requestType);\r\n\r\n    final Map&lt;String, String&gt; parameters = extractParameters(httpExchange);\r\n    displayParameters(parameters);\r\n\r\nExtracting ip client is more complicated because sometime client uses proxy that&#39;s why we create a dedicated function `getClientIp()` to extract the ip.\r\n\r\nIn this function, we attempt to extract firstly proxy ip. If not found, we extract standard ip from remote :\r\n\r\n    final String ip = getProxyIp(httpExchange);\r\n    return ip == null ? httpExchange.getRemoteAddress().getAddress().getHostAddress() : ip;\r\n\r\nTo extract proxy ip, we create another function `getProxyIp()`. It attempts to extract the ip provided from `x-forwarded-for` request header.\r\n\r\n    final List&lt;String&gt; ips = httpExchange.getRequestHeaders().get(&quot;x-forwarded-for&quot;);\r\n    return ips == null ? null : ips.get(ips.size() - 1);\r\n\r\nI don&#39;t know what do you mean with extrapolating fields but you can store all data in a Map variable. The key will be the name of parameter and the value will be the value of parameter. But this is complicated also because we need to parse the string value from `name1=value1&amp;name2=value2`. So, we create a new function `extractParameters()`. It contains :\r\n\r\n    final String query = httpExchange.getRequestURI().getQuery();\r\n    final Map&lt;String, String&gt; parameters = new HashMap&lt;&gt;();\r\n    if (query != null) {\r\n        final String[] firstParts = query.split(&quot;&amp;&quot;);\r\n        for (final String firstPart : firstParts) {\r\n            final String[] secondParts = firstPart.split(&quot;=&quot;);\r\n            final String name = secondParts[0];\r\n            final String value = secondParts.length &gt; 1 ? secondParts[1] : null;\r\n            parameters.put(name, value);\r\n        }\r\n    }\r\n\r\n    return parameters;\r\n\r\nYou notice maybe what is `displayParameters()` content. It just attempts to display, parameters retrieved from `extractParameters()`.\r\n\r\n    for (final Map.Entry&lt;String, String&gt; parameter : parameters.entrySet()) {\r\n        System.out.println(&quot;Parameter key : &quot; + parameter.getKey());\r\n        System.out.println(&quot;Parameter value : &quot; + parameter.getValue());\r\n    }\r\n\r\nAnd finally don&#39;t forget to start the http server :\r\n\r\n    httpServer.start();\r\n\r\n\r\nYou can check for a full code here https://gist.github.com/razafinarivohanania/24fe0986ea5868097404f2a758131823\r\n\r\nWhen you test it, you can get something like :\r\n\r\n    IP : 127.0.0.1\r\n    Request type : GET\r\n    Parameter key : name2\r\n    Parameter value : value2\r\n    Parameter key : name1\r\n    Parameter value : value1","title":"How to collect HTTP requests","body":"<p>You can't perform that using package <code>java.net.http</code> because you need to create an http server not an http client. To achieve that, you need <code>HttpServer</code> which is found in package <code>com.sun.net.httpserver</code>.</p>\n<p>The first thing is to create a new instance of HttpServer :</p>\n<pre><code>final int port = 3000;//You can change with your port number you need\nfinal HttpServer httpServer = HttpServer.create(new InetSocketAddress(port), 0);\nSystem.out.println(&quot;Listening port : &quot; + port);\n</code></pre>\n<p>Then, configure an http context. The first parameter accepts the route you defines and the second parameter accepts the http handler in which you can extract all your data that you need to store in your database.</p>\n<pre><code>httpServer.createContext(&quot;/test/demo.php&quot;, buildHttpHandler());//buildHttpHandler is to create\n</code></pre>\n<p>What contains the function <code>buildHttpHandler()</code>? :</p>\n<p>Each time where route <code>/test/demo.php</code> is called, the content of arrow function is called. Here, we attempt only to create a simple page html and serves it to the http client. But before responding http client, we need to extract all data you need (ip, request type and parameters).</p>\n<pre><code>return httpExchange -&gt; {\n    final String html = &quot;&lt;!DOCTYPE html&gt;\\n&quot; +\n            &quot;&lt;html&gt;\\n&quot; +\n            &quot;   &lt;head&gt;\\n&quot; +\n            &quot;      &lt;title&gt;Page&lt;/title&gt;\\n&quot; +\n            &quot;      &lt;meta charset='utf-8'/&gt;\\n&quot; +\n            &quot;   &lt;/head&gt;\\n&quot; +\n            &quot;   &lt;body&gt;Ok&lt;/body&gt;\\n&quot; +\n            &quot;&lt;/html&gt;&quot;;\n\n    //Function to create\n    extractData(httpExchange);\n\n    httpExchange.getResponseHeaders().set(&quot;Content-Type&quot;, &quot;text/html; charset=utf-8&quot;);\n    httpExchange.sendResponseHeaders(200, html.length());\n\n    final OutputStream outputStream = httpExchange.getResponseBody();\n    outputStream.write(html.getBytes(StandardCharsets.UTF_8));\n    outputStream.close();\n};\n</code></pre>\n<p>What contains <code>extractData()</code> function?</p>\n<p>In this function we will extract the data you need.</p>\n<pre><code>final String ip = getClientIp(httpExchange);\nSystem.out.println(&quot;IP : &quot; + ip);\n\nfinal String requestType = httpExchange.getRequestMethod();\nSystem.out.println(&quot;Request type : &quot; + requestType);\n\nfinal Map&lt;String, String&gt; parameters = extractParameters(httpExchange);\ndisplayParameters(parameters);\n</code></pre>\n<p>Extracting ip client is more complicated because sometime client uses proxy that's why we create a dedicated function <code>getClientIp()</code> to extract the ip.</p>\n<p>In this function, we attempt to extract firstly proxy ip. If not found, we extract standard ip from remote :</p>\n<pre><code>final String ip = getProxyIp(httpExchange);\nreturn ip == null ? httpExchange.getRemoteAddress().getAddress().getHostAddress() : ip;\n</code></pre>\n<p>To extract proxy ip, we create another function <code>getProxyIp()</code>. It attempts to extract the ip provided from <code>x-forwarded-for</code> request header.</p>\n<pre><code>final List&lt;String&gt; ips = httpExchange.getRequestHeaders().get(&quot;x-forwarded-for&quot;);\nreturn ips == null ? null : ips.get(ips.size() - 1);\n</code></pre>\n<p>I don't know what do you mean with extrapolating fields but you can store all data in a Map variable. The key will be the name of parameter and the value will be the value of parameter. But this is complicated also because we need to parse the string value from <code>name1=value1&amp;name2=value2</code>. So, we create a new function <code>extractParameters()</code>. It contains :</p>\n<pre><code>final String query = httpExchange.getRequestURI().getQuery();\nfinal Map&lt;String, String&gt; parameters = new HashMap&lt;&gt;();\nif (query != null) {\n    final String[] firstParts = query.split(&quot;&amp;&quot;);\n    for (final String firstPart : firstParts) {\n        final String[] secondParts = firstPart.split(&quot;=&quot;);\n        final String name = secondParts[0];\n        final String value = secondParts.length &gt; 1 ? secondParts[1] : null;\n        parameters.put(name, value);\n    }\n}\n\nreturn parameters;\n</code></pre>\n<p>You notice maybe what is <code>displayParameters()</code> content. It just attempts to display, parameters retrieved from <code>extractParameters()</code>.</p>\n<pre><code>for (final Map.Entry&lt;String, String&gt; parameter : parameters.entrySet()) {\n    System.out.println(&quot;Parameter key : &quot; + parameter.getKey());\n    System.out.println(&quot;Parameter value : &quot; + parameter.getValue());\n}\n</code></pre>\n<p>And finally don't forget to start the http server :</p>\n<pre><code>httpServer.start();\n</code></pre>\n<p>You can check for a full code here <a href=\"https://gist.github.com/razafinarivohanania/24fe0986ea5868097404f2a758131823\" rel=\"nofollow noreferrer\">https://gist.github.com/razafinarivohanania/24fe0986ea5868097404f2a758131823</a></p>\n<p>When you test it, you can get something like :</p>\n<pre><code>IP : 127.0.0.1\nRequest type : GET\nParameter key : name2\nParameter value : value2\nParameter key : name1\nParameter value : value1\n</code></pre>\n"}],"owner":{"account_id":22304523,"reputation":1,"user_id":16529364,"display_name":"aiso"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636476247,"creation_date":1636456576,"question_id":69897167,"body_markdown":"I need to populate a database with the fields of the HTTP requests based on if the sender IP is valid or not.\r\nFor example if someone make a GET request on my IP with that:\r\n\r\n    /test/demo.php?name1=value1&amp;name2=value2 \r\n\r\nHow can I receive it so I can handle it and perform actions like:\r\n\r\n- Get the ip of the sender (And validate it - just confronting it with a list -)\r\n- Recognize the type of the Request\r\n- Extrapolate the fields (value1 and value2) and save them in variables\r\n\r\nI&#39;m using java.net.http package\r\n","title":"How to collect HTTP requests","body":"<p>I need to populate a database with the fields of the HTTP requests based on if the sender IP is valid or not.\nFor example if someone make a GET request on my IP with that:</p>\n<pre><code>/test/demo.php?name1=value1&amp;name2=value2 \n</code></pre>\n<p>How can I receive it so I can handle it and perform actions like:</p>\n<ul>\n<li>Get the ip of the sender (And validate it - just confronting it with a list -)</li>\n<li>Recognize the type of the Request</li>\n<li>Extrapolate the fields (value1 and value2) and save them in variables</li>\n</ul>\n<p>I'm using java.net.http package</p>\n"},{"tags":["java","multithreading","file","chat","serversocket"],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636458568,"creation_date":1636458568,"answer_id":69897605,"question_id":69897395,"body_markdown":"&gt;  In that case how can i make the server differentiate between file and text in the following program? Or can i make it like &quot;file jony c://abc.txt&quot; to send abc.txt file to jony?\r\n\r\nFrom a **usability** point of view it makes sense to make the `send file` command a separate command in your chat API. Therefore, the idea with adding a different command to do it with a descriptive name like `file` makes sense.\r\n\r\nIf we are to talk about the implementation of the API, then this is a standard problem with a standard solution. \r\n\r\nHere is the [code][1], which explains how to send the file over a socket.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9520911/java-sending-and-receiving-file-byte-over-sockets","title":"Java Socket Multi user chat app with both message (text) and file transfer","body":"<blockquote>\n<p>In that case how can i make the server differentiate between file and text in the following program? Or can i make it like &quot;file jony c://abc.txt&quot; to send abc.txt file to jony?</p>\n</blockquote>\n<p>From a <strong>usability</strong> point of view it makes sense to make the <code>send file</code> command a separate command in your chat API. Therefore, the idea with adding a different command to do it with a descriptive name like <code>file</code> makes sense.</p>\n<p>If we are to talk about the implementation of the API, then this is a standard problem with a standard solution.</p>\n<p>Here is the <a href=\"https://stackoverflow.com/questions/9520911/java-sending-and-receiving-file-byte-over-sockets\">code</a>, which explains how to send the file over a socket.</p>\n"}],"owner":{"account_id":14504217,"reputation":1,"user_id":10476434,"display_name":"Alvy Feroz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636475975,"creation_date":1636457598,"question_id":69897395,"body_markdown":"I am new to java. I am learning socket and thread programing by making a chat application where message sent from the client will be received by the server and the server will sent it to another client.\r\n\r\n\r\nThe server works like this. The 1st word of the string is the command and rest are arguments. \r\n\r\ncommand to message\r\nExample: msg jony Hi!\r\n\r\nThis will send Hi! to client name jony. //\r\n\r\nlogin tom tom123 // will login to tom using username &quot;tom&quot; and password &quot;tom123&quot;\r\n\r\n\r\nNow I want to add file transfer. So one client can send file to another client. As far as I know I need to use DataInputStream for it. In that case how can i make the server differentiate between file and text in the following program? Or can i make it like &quot;file jony c://abc.txt&quot; to send abc.txt file to jony?\r\n\r\nEdited: Looks like handleFile is called but then its nothing. (It works if hangle file is called at the start like handfleFile();\r\n\r\nWhat am I doing wrong :(\r\n\r\nHere is part of my Server code. \r\n\r\n\r\n```\r\n    private void handleClientSocket() throws IOException, InterruptedException, SQLException {\r\n//        InputStream inputStream = clientSocket.getInputStream();\r\n//        this.outputStream = clientSocket.getOutputStream();\r\n//        DataInputStream inputStream = new DataInputStream(clientSocket.getInputStream());\r\n        this.outputStream = new DataOutputStream(clientSocket.getOutputStream());\r\n        this.inputStream = new DataInputStream(clientSocket.getInputStream());\r\n\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\r\n        String line;\r\n        Connect(); //Connects to databse\r\n//        handleFile();\r\n        while ( (line = reader.readLine()) != null) {\r\n            String[] tokens = StringUtils.split(line);\r\n            if (tokens != null &amp;&amp; tokens.length &gt; 0) {\r\n                String cmd = tokens[0];\r\n                if (&quot;quit&quot;.equalsIgnoreCase(cmd) || &quot;logoff&quot;.equalsIgnoreCase(cmd)) {\r\n                    handleLogOff();\r\n                    break;\r\n                } else if (&quot;login&quot;.equalsIgnoreCase(cmd)) {\r\n                    handleLogin(outputStream, tokens);\r\n                } else if (&quot;msg&quot;.equalsIgnoreCase(cmd)) {\r\n                    String[] tokenMsg = StringUtils.split(line, null, 3);\r\n                    handleMessage(tokenMsg);\r\n                } else if (&quot;join&quot;.equalsIgnoreCase(cmd)) {\r\n                    handleJoin(tokens);\r\n                } else if (&quot;leave&quot;.equalsIgnoreCase(cmd)) {\r\n                    handleLeave(tokens);\r\n                } else if (&quot;signup&quot;.equalsIgnoreCase(cmd)) {\r\n                    handleSignUp(tokens);\r\n                } else if (&quot;create&quot;.equalsIgnoreCase(cmd)) {\r\n                    handleCreateGroup(tokens);\r\n                } else if (&quot;sendFile&quot;.equalsIgnoreCase(cmd)) {\r\n//                    inputStream.close();\r\n                    handleFile();\r\n                }\r\n\r\n                else {\r\n                    String msg = &quot;Unknown command: &quot; + cmd + &quot;\\n&quot;;\r\n                    outputStream.write(msg.getBytes());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private void handleFile (){\r\n        System.out.println(&quot;File handler called&quot;);\r\n        try {\r\n            System.out.println(&quot;File handler called&quot;);\r\n//            DataInputStream input = new DataInputStream(clientSocket.getInputStream());\r\n            DataInputStream inputStream = new DataInputStream(clientSocket.getInputStream());\r\n            int fileNameLength = inputStream.readInt();\r\n            System.out.println(fileNameLength);\r\n            if (fileNameLength &gt; 0) {\r\n                byte[] fileNameBytes = new byte[fileNameLength];\r\n                inputStream.readFully(fileNameBytes, 0, fileNameBytes.length);\r\n                String fileName = new String(fileNameBytes);\r\n                System.out.println(fileName);\r\n                int fileContentLength = inputStream.readInt();\r\n                System.out.println(fileContentLength);\r\n                if (fileContentLength &gt; 0) {\r\n                    byte[] fileContentBytes = new byte[fileContentLength];\r\n                    inputStream.readFully(fileContentBytes, 0, fileContentBytes.length);\r\n                    System.out.println(fileContentBytes);\r\n\r\n//                    File fileToDownload = new File(fileName);\r\n                    FileOutputStream fileOutputStream = new FileOutputStream(&quot;D:\\\\bbb.txt&quot;);\r\n                    fileOutputStream.write(fileContentBytes);\r\n                    fileOutputStream.close();\r\n                }\r\n            }\r\n\r\n```\r\n\r\nHere is client code:\r\n\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n//        final File[] fileToSend = new File[1];\r\n//        fileToSend[0] = &quot;C:\\\\Users\\\\alvyi\\\\Downloads&quot;;\r\n        File file = new File(&quot;D:\\\\aaa.txt&quot;);\r\n\r\n        try {\r\n            Socket socket = new Socket(&quot;localhost&quot;, 6000);\r\n            DataInputStream inputStream = new DataInputStream(socket.getInputStream());\r\n\r\n            DataOutputStream dataOutputStream = new DataOutputStream(socket.getOutputStream());\r\n        while(true){\r\n            System.out.println(&quot;In the Loop&quot;);\r\n\r\n            dataOutputStream.write(&quot;login alvy alvy\\n&quot;.getBytes(StandardCharsets.UTF_8));\r\n            dataOutputStream.write(&quot;sendFile\\n&quot;.getBytes(StandardCharsets.UTF_8));\r\n\r\n            FileInputStream fileInputStream = new FileInputStream(file.getAbsolutePath());\r\n            String fileName = file.getName();\r\n            // Convert the name of the file into an array of bytes to be sent to the server.\r\n            byte[] fileNameBytes = fileName.getBytes();\r\n            // Create a byte array the size of the file so don&#39;t send too little or too much data to the server.\r\n            byte[] fileBytes = new byte[(int)file.length()];\r\n            // Put the contents of the file into the array of bytes to be sent so these bytes can be sent to the server.\r\n            fileInputStream.read(fileBytes);\r\n            // Send the length of the name of the file so server knows when to stop reading.\r\n            dataOutputStream.writeInt(50);\r\n            dataOutputStream.writeInt(fileNameBytes.length);\r\n            // Send the file name.\r\n            dataOutputStream.write(fileNameBytes);\r\n            // Send the length of the byte array so the server knows when to stop reading.\r\n            dataOutputStream.writeInt(fileBytes.length);\r\n            // Send the actual file.\r\n            dataOutputStream.write(fileBytes);\r\n\r\n\r\n\r\n            String echoString = scanner.nextLine();\r\n        }\r\n    //        System.out.println(inputStream.readLine());\r\n\r\n     //       outputStream.write(&quot;sendFile&quot;.getBytes());\r\n\r\n\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n","title":"Java Socket Multi user chat app with both message (text) and file transfer","body":"<p>I am new to java. I am learning socket and thread programing by making a chat application where message sent from the client will be received by the server and the server will sent it to another client.</p>\n<p>The server works like this. The 1st word of the string is the command and rest are arguments.</p>\n<p>command to message\nExample: msg jony Hi!</p>\n<p>This will send Hi! to client name jony. //</p>\n<p>login tom tom123 // will login to tom using username &quot;tom&quot; and password &quot;tom123&quot;</p>\n<p>Now I want to add file transfer. So one client can send file to another client. As far as I know I need to use DataInputStream for it. In that case how can i make the server differentiate between file and text in the following program? Or can i make it like &quot;file jony c://abc.txt&quot; to send abc.txt file to jony?</p>\n<p>Edited: Looks like handleFile is called but then its nothing. (It works if hangle file is called at the start like handfleFile();</p>\n<p>What am I doing wrong :(</p>\n<p>Here is part of my Server code.</p>\n<pre><code>    private void handleClientSocket() throws IOException, InterruptedException, SQLException {\n//        InputStream inputStream = clientSocket.getInputStream();\n//        this.outputStream = clientSocket.getOutputStream();\n//        DataInputStream inputStream = new DataInputStream(clientSocket.getInputStream());\n        this.outputStream = new DataOutputStream(clientSocket.getOutputStream());\n        this.inputStream = new DataInputStream(clientSocket.getInputStream());\n\n        BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\n        String line;\n        Connect(); //Connects to databse\n//        handleFile();\n        while ( (line = reader.readLine()) != null) {\n            String[] tokens = StringUtils.split(line);\n            if (tokens != null &amp;&amp; tokens.length &gt; 0) {\n                String cmd = tokens[0];\n                if (&quot;quit&quot;.equalsIgnoreCase(cmd) || &quot;logoff&quot;.equalsIgnoreCase(cmd)) {\n                    handleLogOff();\n                    break;\n                } else if (&quot;login&quot;.equalsIgnoreCase(cmd)) {\n                    handleLogin(outputStream, tokens);\n                } else if (&quot;msg&quot;.equalsIgnoreCase(cmd)) {\n                    String[] tokenMsg = StringUtils.split(line, null, 3);\n                    handleMessage(tokenMsg);\n                } else if (&quot;join&quot;.equalsIgnoreCase(cmd)) {\n                    handleJoin(tokens);\n                } else if (&quot;leave&quot;.equalsIgnoreCase(cmd)) {\n                    handleLeave(tokens);\n                } else if (&quot;signup&quot;.equalsIgnoreCase(cmd)) {\n                    handleSignUp(tokens);\n                } else if (&quot;create&quot;.equalsIgnoreCase(cmd)) {\n                    handleCreateGroup(tokens);\n                } else if (&quot;sendFile&quot;.equalsIgnoreCase(cmd)) {\n//                    inputStream.close();\n                    handleFile();\n                }\n\n                else {\n                    String msg = &quot;Unknown command: &quot; + cmd + &quot;\\n&quot;;\n                    outputStream.write(msg.getBytes());\n                }\n            }\n        }\n    }\n\n    private void handleFile (){\n        System.out.println(&quot;File handler called&quot;);\n        try {\n            System.out.println(&quot;File handler called&quot;);\n//            DataInputStream input = new DataInputStream(clientSocket.getInputStream());\n            DataInputStream inputStream = new DataInputStream(clientSocket.getInputStream());\n            int fileNameLength = inputStream.readInt();\n            System.out.println(fileNameLength);\n            if (fileNameLength &gt; 0) {\n                byte[] fileNameBytes = new byte[fileNameLength];\n                inputStream.readFully(fileNameBytes, 0, fileNameBytes.length);\n                String fileName = new String(fileNameBytes);\n                System.out.println(fileName);\n                int fileContentLength = inputStream.readInt();\n                System.out.println(fileContentLength);\n                if (fileContentLength &gt; 0) {\n                    byte[] fileContentBytes = new byte[fileContentLength];\n                    inputStream.readFully(fileContentBytes, 0, fileContentBytes.length);\n                    System.out.println(fileContentBytes);\n\n//                    File fileToDownload = new File(fileName);\n                    FileOutputStream fileOutputStream = new FileOutputStream(&quot;D:\\\\bbb.txt&quot;);\n                    fileOutputStream.write(fileContentBytes);\n                    fileOutputStream.close();\n                }\n            }\n\n</code></pre>\n<p>Here is client code:</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n//        final File[] fileToSend = new File[1];\n//        fileToSend[0] = &quot;C:\\\\Users\\\\alvyi\\\\Downloads&quot;;\n        File file = new File(&quot;D:\\\\aaa.txt&quot;);\n\n        try {\n            Socket socket = new Socket(&quot;localhost&quot;, 6000);\n            DataInputStream inputStream = new DataInputStream(socket.getInputStream());\n\n            DataOutputStream dataOutputStream = new DataOutputStream(socket.getOutputStream());\n        while(true){\n            System.out.println(&quot;In the Loop&quot;);\n\n            dataOutputStream.write(&quot;login alvy alvy\\n&quot;.getBytes(StandardCharsets.UTF_8));\n            dataOutputStream.write(&quot;sendFile\\n&quot;.getBytes(StandardCharsets.UTF_8));\n\n            FileInputStream fileInputStream = new FileInputStream(file.getAbsolutePath());\n            String fileName = file.getName();\n            // Convert the name of the file into an array of bytes to be sent to the server.\n            byte[] fileNameBytes = fileName.getBytes();\n            // Create a byte array the size of the file so don't send too little or too much data to the server.\n            byte[] fileBytes = new byte[(int)file.length()];\n            // Put the contents of the file into the array of bytes to be sent so these bytes can be sent to the server.\n            fileInputStream.read(fileBytes);\n            // Send the length of the name of the file so server knows when to stop reading.\n            dataOutputStream.writeInt(50);\n            dataOutputStream.writeInt(fileNameBytes.length);\n            // Send the file name.\n            dataOutputStream.write(fileNameBytes);\n            // Send the length of the byte array so the server knows when to stop reading.\n            dataOutputStream.writeInt(fileBytes.length);\n            // Send the actual file.\n            dataOutputStream.write(fileBytes);\n\n\n\n            String echoString = scanner.nextLine();\n        }\n    //        System.out.println(inputStream.readLine());\n\n     //       outputStream.write(&quot;sendFile&quot;.getBytes());\n\n\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n\n\n    }\n}\n\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8126,"page":1866,"page_size":100}
