{"items":[{"tags":["java","spring","gradle","intellij-idea","web-applications"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670857120,"post_id":74772970,"comment_id":131963934,"body_markdown":"Have you added the correct dependency? Also `@Repository` is not needed with spring-data","body":"Have you added the correct dependency? Also <code>@Repository</code> is not needed with spring-data"}],"owner":{"account_id":25437046,"reputation":11,"user_id":19240613,"display_name":"Meshack Mutunga"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670856906,"creation_date":1670856906,"question_id":74772970,"body_markdown":"Am trying to import CrudRepository into my interface, but i keep getting the error &quot;No libraries found for &#39;org.springframework.data.repository.CrudRepository&#39;&quot;\r\n\r\n\r\nIts a gradle project and am doing it on Intellij 2022.1 Ultimate\r\n\r\nThe repository is:\r\n\r\n```\r\npackage co2103.hw2.repo;\r\nimport co2103.hw2.model.Reimbursement;\r\nimport org.springframework.data.repository.CrudRepository;\r\n\r\n\r\n@Repository\r\npublic interface ReimbursementRepository extends CrudRepository &lt;Reimbursement, Long&gt; {\r\n    \r\n}\r\n\r\n```\r\n and the Java class is\r\n\r\n```\r\npackage co2103.hw2.model;\r\n\r\nimport javax.persistence.*;\r\n@Entity\r\npublic class Reimbursement{\r\n    @Id\r\n    @GeneratedValue\r\n    private int id;\r\n    private int amount;\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public int getAmount() {\r\n        return amount;\r\n    }\r\n\r\n    public void setAmount(int amount) {\r\n        this.amount = amount;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Reimbursement{&quot; +\r\n                &quot;id=&quot; + id +\r\n                &quot;, amount=&quot; + amount +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n```\r\n\r\nWorth noting that in the the import statement \r\n```\r\nimport org.springframework.data.repository.CrudRepository;\r\n```\r\n\r\nthe data component is highlighted as an error with the hovertext &quot;Cannot resolve symbol &#39;data&#39;&quot;\r\n\r\nI tried solutions in [this link](https://stackoverflow.com/questions/42396706/crudrepository-cannot-be-resolved-to-a-type) but it seems not to work\r\n\r\nI have also noticed that most of the soutions onlie are for mavel projects","title":"No libraries found for &#39;org.springframework.data.repository.CrudRepository&#39; error when trying to import CrudRepository","body":"<p>Am trying to import CrudRepository into my interface, but i keep getting the error &quot;No libraries found for 'org.springframework.data.repository.CrudRepository'&quot;</p>\n<p>Its a gradle project and am doing it on Intellij 2022.1 Ultimate</p>\n<p>The repository is:</p>\n<pre><code>package co2103.hw2.repo;\nimport co2103.hw2.model.Reimbursement;\nimport org.springframework.data.repository.CrudRepository;\n\n\n@Repository\npublic interface ReimbursementRepository extends CrudRepository &lt;Reimbursement, Long&gt; {\n    \n}\n\n</code></pre>\n<p>and the Java class is</p>\n<pre><code>package co2103.hw2.model;\n\nimport javax.persistence.*;\n@Entity\npublic class Reimbursement{\n    @Id\n    @GeneratedValue\n    private int id;\n    private int amount;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public int getAmount() {\n        return amount;\n    }\n\n    public void setAmount(int amount) {\n        this.amount = amount;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Reimbursement{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, amount=&quot; + amount +\n                '}';\n    }\n}\n\n</code></pre>\n<p>Worth noting that in the the import statement</p>\n<pre><code>import org.springframework.data.repository.CrudRepository;\n</code></pre>\n<p>the data component is highlighted as an error with the hovertext &quot;Cannot resolve symbol 'data'&quot;</p>\n<p>I tried solutions in <a href=\"https://stackoverflow.com/questions/42396706/crudrepository-cannot-be-resolved-to-a-type\">this link</a> but it seems not to work</p>\n<p>I have also noticed that most of the soutions onlie are for mavel projects</p>\n"},{"tags":["java","log4j","log4j2","jnlp"],"answers":[{"tags":[],"owner":{"account_id":14801365,"reputation":376,"user_id":15322661,"display_name":"Rustam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670690396,"creation_date":1670690396,"answer_id":74754777,"question_id":74729665,"body_markdown":"I am not familiar with JNLP, but according to your stacktrace, program cannot find. In Log4j2 package `org.apache.log4j`\twas changed to `org.apache.logging.log4j`. As a result it is not available.  \r\n 1. One of easiest solutions in your case - to use Log4j 1.x bridge (Here is [Migration guide][1])\r\n 2. If you want to use current version add to `&lt;argument&gt;` param to use log4j2 impl  (by default it is uses `org.apache.commons.logging.impl.LogFactoryImpl` configured for log4j 1.x)\r\n`org.apache.commons.logging.LogFactory=org.apache.logging.log4j.jcl.LogFactoryImpl`\r\n\r\n\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/migration.html\r\n ","title":"log4j2 in JNLP results Classnotfoundexception","body":"<p>I am not familiar with JNLP, but according to your stacktrace, program cannot find. In Log4j2 package <code>org.apache.log4j</code>    was changed to <code>org.apache.logging.log4j</code>. As a result it is not available.</p>\n<ol>\n<li>One of easiest solutions in your case - to use Log4j 1.x bridge (Here is <a href=\"https://logging.apache.org/log4j/2.x/manual/migration.html\" rel=\"nofollow noreferrer\">Migration guide</a>)</li>\n<li>If you want to use current version add to <code>&lt;argument&gt;</code> param to use log4j2 impl  (by default it is uses <code>org.apache.commons.logging.impl.LogFactoryImpl</code> configured for log4j 1.x)\n<code>org.apache.commons.logging.LogFactory=org.apache.logging.log4j.jcl.LogFactoryImpl</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4093045,"reputation":237,"user_id":3360565,"accept_rate":45,"display_name":"Nayan Sonthalia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670856707,"creation_date":1670856707,"answer_id":74772942,"question_id":74729665,"body_markdown":"we have found the solution. in our case there were two issues\r\n\r\n 1. the jar signing was not proper. the jars have manifest files under the meta-inf folder. the value of this folder was corrupted. we manually edited the file and preserved the original values for everything except the SHA keys and then resigned these jar.\r\n 2. in the log4j2-api jar there is a log4j-character.properties file which was getting corrupted while signing the jar using ant script. after the signing we replaced this file in the jar with the copy of the file saved from before the signing.\r\n\r\nabove to steps resolved our issue. i know what i wrote above might not make much sense to someone. happy to provide screen grabs in case on demand someone comes across this issue.","title":"log4j2 in JNLP results Classnotfoundexception","body":"<p>we have found the solution. in our case there were two issues</p>\n<ol>\n<li>the jar signing was not proper. the jars have manifest files under the meta-inf folder. the value of this folder was corrupted. we manually edited the file and preserved the original values for everything except the SHA keys and then resigned these jar.</li>\n<li>in the log4j2-api jar there is a log4j-character.properties file which was getting corrupted while signing the jar using ant script. after the signing we replaced this file in the jar with the copy of the file saved from before the signing.</li>\n</ol>\n<p>above to steps resolved our issue. i know what i wrote above might not make much sense to someone. happy to provide screen grabs in case on demand someone comes across this issue.</p>\n"}],"owner":{"account_id":4093045,"reputation":237,"user_id":3360565,"accept_rate":45,"display_name":"Nayan Sonthalia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670856707,"creation_date":1670499226,"question_id":74729665,"body_markdown":"we have an old desktop application which was running on log4j. this application gets deployed using JNLP on the users system and then is connecting to server at our end. we are in the process of upgrading the application to log4j2. we have upgraded the server side code and it works fine. for the JNLP side of code, though we have done all the changes and deployed the application properly we are ending up with an exception which we dont seem to find the cause off. any help here is appreciated..\r\n\r\nthe exception is as listed below..\r\n\r\n    java.lang.ClassNotFoundException: org.apache.log4j.Logger\r\n    at java.net.URLClassLoader.findClass(Unknown Source)\r\n    at com.sun.jnlp.JNLPClassLoader.findClass(Unknown Source)\r\n    at java.lang.ClassLoader.loadClass(Unknown Source)\r\n    at java.lang.ClassLoader.loadClass(Unknown Source)\r\n    at java.lang.Class.getDeclaredConstructors0(Native Method)\r\n    at java.lang.Class.privateGetDeclaredConstructors(Unknown Source)\r\n    at java.lang.Class.getConstructor0(Unknown Source)\r\n    at java.lang.Class.getConstructor(Unknown Source)\r\n    at org.apache.commons.logging.impl.LogFactoryImpl.getLogConstructor(LogFactoryImpl.java:429)\r\n    at org.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:525)\r\n    at org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:272)\r\n    at org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:246)\r\n    at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:395)\r\n    at com.abcxyz.core.log.Logger.&lt;clinit&gt;(Logger.java:150)\r\n    at com.abcxyz.core.log.DefaultLog4jHelper.&lt;init&gt;(DefaultLog4jHelper.java:91)\r\n    at com.abcxyz.core.log.DefaultLog4jHelper.initLogger(DefaultLog4jHelper.java:44)\r\n    at com.abcxyz.ui.main.CMS.&lt;clinit&gt;(CMS.java:115)\r\n    at com.abcxyz.ui.main.InitializeCMS.main(InitializeCMS.java:40)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    at java.lang.reflect.Method.invoke(Unknown Source)\r\n    at com.sun.javaws.Launcher.executeApplication(Unknown Source)\r\n    at com.sun.javaws.Launcher.executeMainClass(Unknown Source)\r\n    at com.sun.javaws.Launcher.doLaunchApp(Unknown Source)\r\n    at com.sun.javaws.Launcher.run(Unknown Source)\r\n    at java.lang.Thread.run(Unknown Source)\r\n\r\n\r\nthe exception point to a class file in the log4j-1.2.17.jar (our old jar). i am sure i dont have the old jar anywhere in the code or any part of the code referring the the old jarfile.\r\n[![enter image description here][1]][1]\r\n\r\n\r\npasted below is the sysArgs section of the JNLP where i am referring to the new properties file\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JWlVP.png\r\n  [2]: https://i.stack.imgur.com/33V1s.png","title":"log4j2 in JNLP results Classnotfoundexception","body":"<p>we have an old desktop application which was running on log4j. this application gets deployed using JNLP on the users system and then is connecting to server at our end. we are in the process of upgrading the application to log4j2. we have upgraded the server side code and it works fine. for the JNLP side of code, though we have done all the changes and deployed the application properly we are ending up with an exception which we dont seem to find the cause off. any help here is appreciated..</p>\n<p>the exception is as listed below..</p>\n<pre><code>java.lang.ClassNotFoundException: org.apache.log4j.Logger\nat java.net.URLClassLoader.findClass(Unknown Source)\nat com.sun.jnlp.JNLPClassLoader.findClass(Unknown Source)\nat java.lang.ClassLoader.loadClass(Unknown Source)\nat java.lang.ClassLoader.loadClass(Unknown Source)\nat java.lang.Class.getDeclaredConstructors0(Native Method)\nat java.lang.Class.privateGetDeclaredConstructors(Unknown Source)\nat java.lang.Class.getConstructor0(Unknown Source)\nat java.lang.Class.getConstructor(Unknown Source)\nat org.apache.commons.logging.impl.LogFactoryImpl.getLogConstructor(LogFactoryImpl.java:429)\nat org.apache.commons.logging.impl.LogFactoryImpl.newInstance(LogFactoryImpl.java:525)\nat org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:272)\nat org.apache.commons.logging.impl.LogFactoryImpl.getInstance(LogFactoryImpl.java:246)\nat org.apache.commons.logging.LogFactory.getLog(LogFactory.java:395)\nat com.abcxyz.core.log.Logger.&lt;clinit&gt;(Logger.java:150)\nat com.abcxyz.core.log.DefaultLog4jHelper.&lt;init&gt;(DefaultLog4jHelper.java:91)\nat com.abcxyz.core.log.DefaultLog4jHelper.initLogger(DefaultLog4jHelper.java:44)\nat com.abcxyz.ui.main.CMS.&lt;clinit&gt;(CMS.java:115)\nat com.abcxyz.ui.main.InitializeCMS.main(InitializeCMS.java:40)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat com.sun.javaws.Launcher.executeApplication(Unknown Source)\nat com.sun.javaws.Launcher.executeMainClass(Unknown Source)\nat com.sun.javaws.Launcher.doLaunchApp(Unknown Source)\nat com.sun.javaws.Launcher.run(Unknown Source)\nat java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p>the exception point to a class file in the log4j-1.2.17.jar (our old jar). i am sure i dont have the old jar anywhere in the code or any part of the code referring the the old jarfile.\n<a href=\"https://i.stack.imgur.com/JWlVP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JWlVP.png\" alt=\"enter image description here\" /></a></p>\n<p>pasted below is the sysArgs section of the JNLP where i am referring to the new properties file\n<a href=\"https://i.stack.imgur.com/33V1s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/33V1s.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","windows","window","screenshot","capture"],"comments":[{"owner":{"account_id":8627776,"reputation":593,"user_id":6460453,"display_name":"K.Nikita"},"score":0,"creation_date":1670853663,"post_id":74767926,"comment_id":131962579,"body_markdown":"Plese provide screenshots","body":"Plese provide screenshots"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1670856712,"post_id":74767926,"comment_id":131963803,"body_markdown":"Check out [Screen Image](https://tips4java.wordpress.com/2008/10/13/screen-image/). It doesn&#39;t take pixels from the screen. Instead is paints a component to an image.","body":"Check out <a href=\"https://tips4java.wordpress.com/2008/10/13/screen-image/\" rel=\"nofollow noreferrer\">Screen Image</a>. It doesn&#39;t take pixels from the screen. Instead is paints a component to an image."}],"owner":{"account_id":24546324,"reputation":1,"user_id":18456123,"display_name":"Hussin Tsouli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670856628,"creation_date":1670830542,"question_id":74767926,"body_markdown":"i just try to take screenshot of a specific software every amount of time i found a way to take screenshot for active window but i need to take it for specific windows altough is not active .\r\n\r\n\r\n\r\nthanks in advance \r\n\r\ni tried this but as i told  is take full screenshot:\r\n\r\n\r\n\r\n```\r\nBufferedImage image = new Robot().createScreenCapture(new Rectangle(Toolkit.getDefaultToolkit().getScreenSize()));\r\nImageIO.write(image, &quot;png&quot;, new File(&quot;C:\\\\Users\\\\Public\\\\Documents\\\\tessdata\\\\Full_Image.png&quot;));\r\n```\r\n","title":"how i can take screenshot of specific Other software window in java?","body":"<p>i just try to take screenshot of a specific software every amount of time i found a way to take screenshot for active window but i need to take it for specific windows altough is not active .</p>\n<p>thanks in advance</p>\n<p>i tried this but as i told  is take full screenshot:</p>\n<pre><code>BufferedImage image = new Robot().createScreenCapture(new Rectangle(Toolkit.getDefaultToolkit().getScreenSize()));\nImageIO.write(image, &quot;png&quot;, new File(&quot;C:\\\\Users\\\\Public\\\\Documents\\\\tessdata\\\\Full_Image.png&quot;));\n</code></pre>\n"},{"tags":["java","asynchronous","server"],"owner":{"account_id":7518124,"reputation":21,"user_id":5710911,"display_name":"Carte"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670856532,"creation_date":1670856532,"question_id":74772893,"body_markdown":"Having trouble &#39;delaying&#39; the response of server, which is passed to client side.\r\n\r\nWhat I&#39;m trying to do is, just make an echoing, asynchronous, Non-blocking server with NIO package.\r\nThen, I want to manually delay the response sent to Client, to confirm that this server handles multiple response, while not blocked by any of its clients, delays observable by naked eyes.\r\n\r\nThe main server code is : \r\n\r\n```java\r\npackage AsyncServer;\r\nimport java.io.IOException;\r\nimport java.net.InetSocketAddress;\r\nimport java.nio.channels.*;\r\nimport AsyncServer.AsyncHandler.*;\r\n\r\npublic class AsyncServer {\r\n    int port = 40000;\r\n    public AsyncServer () {}\r\n    public AsyncServer(int port) {this.port = port;}\r\n    protected void start()\r\n    {\r\n        System.out.println(&quot;Async Server running at port &quot;+this.port);\r\n        try {\r\n            AsynchronousServerSocketChannel server = AsynchronousServerSocketChannel.open();\r\n            server.bind(new InetSocketAddress(this.port));\r\n            AcceptCompletionHandler ach = new AcceptCompletionHandler(server);\r\n            server.accept(null, ach);\r\n            System.in.read();\r\n        }\r\n        catch (IOException e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npackage AsyncServer.AsyncHandler;\r\n\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.channels.AsynchronousServerSocketChannel;\r\nimport java.nio.channels.AsynchronousSocketChannel;\r\nimport java.nio.channels.CompletionHandler;\r\n\r\npublic class AcceptCompletionHandler implements CompletionHandler&lt;AsynchronousSocketChannel, Void&gt; {\r\n    private final AsynchronousServerSocketChannel ssc;\r\n    public AcceptCompletionHandler(AsynchronousServerSocketChannel in_ssc) {\r\n        this.ssc = in_ssc;\r\n    }\r\n    @Override\r\n    public void completed (AsynchronousSocketChannel sc, Void attachment) {\r\n\r\n        /* \r\n        This context was used in attempt to delay response sent to async client.\r\n        Does not work properly, only delaying server console output\r\n        try {\r\n            int amount = (int) (Math.random() * 20);\r\n            Thread.sleep(amount*1000);\r\n            System.out.println(&quot;slept for &quot;+amount);\r\n        }\r\n        catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        */\r\n        ssc.accept(null, this);\r\n        System.out.println(&quot;Connection Established&quot;);\r\n        ByteBuffer buffer = ByteBuffer.allocate(512);\r\n        ReadCompletionHandler rch = new ReadCompletionHandler(sc, buffer);\r\n        sc.read(buffer, null, rch);\r\n        //System.out.println(&quot;Received &quot;+buffer.toString());\r\n    }\r\n\r\n    @Override\r\n    public void failed (Throwable T, Void attachment){\r\n        T.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npackage AsyncServer.AsyncHandler;\r\n\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.channels.AsynchronousSocketChannel;\r\nimport java.nio.channels.CompletionHandler;\r\nimport java.nio.charset.*;\r\n\r\npublic class ReadCompletionHandler implements CompletionHandler&lt;Integer, Void&gt; {\r\n        private final AsynchronousSocketChannel sc;\r\n        private final ByteBuffer buffer;\r\n\r\n    ReadCompletionHandler (AsynchronousSocketChannel in_sc, ByteBuffer in_buffer) {\r\n        this.sc = in_sc;\r\n        this.buffer = in_buffer;\r\n    }\r\n\r\n    @Override\r\n    public void completed (Integer bytes, Void attachment) {\r\n\r\n        WriteCompletionHandler wch = new WriteCompletionHandler(this.sc);\r\n\r\n        this.buffer.flip();\r\n        this.sc.write(this.buffer, null, wch);\r\n        Charset charset = Charset.forName(&quot;UTF-8&quot;);\r\n        String outputStr = new String(this.buffer.array()).trim();\r\n        System.out.println(&quot;Writing &quot;+outputStr+&quot; into return buffer&quot;);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void failed (Throwable T, Void attachment) {\r\n        T.printStackTrace();\r\n    }\r\n}\r\n\r\n```\r\n\r\n```java\r\npackage AsyncServer.AsyncHandler;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.channels.AsynchronousSocketChannel;\r\nimport java.nio.channels.CompletionHandler;\r\n\r\npublic class WriteCompletionHandler implements CompletionHandler&lt;Integer, Void&gt; {\r\n    private final AsynchronousSocketChannel sc;\r\n\r\n    WriteCompletionHandler (AsynchronousSocketChannel in_sc) {\r\n        this.sc = in_sc;\r\n    }\r\n\r\n    @Override\r\n    public void completed (Integer bytes, Void attachment) {\r\n        try {\r\n            sc.close();\r\n            System.out.println(&quot;Socket closed&quot;);\r\n        }\r\n        catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void failed (Throwable T, Void attachment) {\r\n        T.printStackTrace();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.net.InetSocketAddress;\r\nimport java.net.SocketAddress;\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.channels.AsynchronousSocketChannel;\r\nimport java.util.concurrent.ExecutionException;\r\nimport java.util.concurrent.Future;\r\n\r\npublic class AsyncClient {\r\n\r\n    private String ip = &quot;localhost&quot;;\r\n    private int port = 40000;\r\n    private String payload = &quot;00209999997778222223&quot;;\r\n    AsyncClient(String in_ip, int in_port, String in_payload)\r\n    {\r\n        this.ip = in_ip;\r\n        this.port = in_port;\r\n        this.payload = in_payload;\r\n    }\r\n    AsyncClient() {}\r\n    void start()\r\n    {\r\n        try {\r\n            AsynchronousSocketChannel sc = AsynchronousSocketChannel.open();\r\n            SocketAddress serverAddr = new InetSocketAddress(this.ip, this.port);\r\n            Future&lt;Void&gt; res = sc.connect(serverAddr);\r\n            System.out.println(&quot;Will connect to remote&quot;);\r\n\r\n            res.get();\r\n            System.out.println(&quot;Connection Established&quot;);\r\n\r\n            String outStr = this.payload;\r\n            ByteBuffer buffer = ByteBuffer.wrap(outStr.getBytes());\r\n            Future&lt;Integer&gt; sender = sc.write(buffer);\r\n            sender.get();\r\n\r\n            buffer.flip();\r\n            Future&lt;Integer&gt; receiver = sc.read(buffer);\r\n            System.out.println(&quot;Received : &quot;+new String(buffer.array()).trim());\r\n            receiver.get();\r\n            buffer.clear();\r\n\r\n        }\r\n        catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        catch (ExecutionException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nClient Code components are also available in [here](https://github.com/Lment/Java-test-hub/tree/master/src/AsyncServer).\r\n\r\n\r\nSo this code calls on Custom completionHandler three times.\r\n\r\nControl flow goes to AcceptCompletionHandler -&gt; ReadCompletionHandler -&gt; WriteCompletionHandler, when each accept, read, write is called.\r\n\r\nAs I mentioned earlier, what I wanted to achieve was delaying whole asynchronous receive-response stream of each client thread. By running Client code on multiple threads, Say, some delays 11s, other delay less than 10s, my bare eye could catch this asynchronous operation.\r\n\r\nHowever, If I run multiple threads of AsyncClient, It appears that no delay happens. Almost Instantly, the response arrives at client side. However, delays are really delaying console output of server side. [Like this one.](https://i.stack.imgur.com/7onZj.png) Sorry for missing timestamps!\r\n\r\nI added semaphore acquire&amp;release to server object itself, wrap delay syntax with semaphore acquire&amp;release. It seems that asyncSocketStream passes their work to any other Idle thread if it meets delay. So I wrapped whole server in ExecutorService package, limiting maximum thread to one. Still, the client gets its reponse right away, and meaningless waiting of server console output happens...\r\n\r\nPlease enlighten me if I&#39;m doing what is very bad, since I&#39;m new to Async socket programming.","title":"Is there any way to delay Async NIO server response in Java?","body":"<p>Having trouble 'delaying' the response of server, which is passed to client side.</p>\n<p>What I'm trying to do is, just make an echoing, asynchronous, Non-blocking server with NIO package.\nThen, I want to manually delay the response sent to Client, to confirm that this server handles multiple response, while not blocked by any of its clients, delays observable by naked eyes.</p>\n<p>The main server code is :</p>\n<pre class=\"lang-java prettyprint-override\"><code>package AsyncServer;\nimport java.io.IOException;\nimport java.net.InetSocketAddress;\nimport java.nio.channels.*;\nimport AsyncServer.AsyncHandler.*;\n\npublic class AsyncServer {\n    int port = 40000;\n    public AsyncServer () {}\n    public AsyncServer(int port) {this.port = port;}\n    protected void start()\n    {\n        System.out.println(&quot;Async Server running at port &quot;+this.port);\n        try {\n            AsynchronousServerSocketChannel server = AsynchronousServerSocketChannel.open();\n            server.bind(new InetSocketAddress(this.port));\n            AcceptCompletionHandler ach = new AcceptCompletionHandler(server);\n            server.accept(null, ach);\n            System.in.read();\n        }\n        catch (IOException e)\n        {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package AsyncServer.AsyncHandler;\n\nimport java.nio.ByteBuffer;\nimport java.nio.channels.AsynchronousServerSocketChannel;\nimport java.nio.channels.AsynchronousSocketChannel;\nimport java.nio.channels.CompletionHandler;\n\npublic class AcceptCompletionHandler implements CompletionHandler&lt;AsynchronousSocketChannel, Void&gt; {\n    private final AsynchronousServerSocketChannel ssc;\n    public AcceptCompletionHandler(AsynchronousServerSocketChannel in_ssc) {\n        this.ssc = in_ssc;\n    }\n    @Override\n    public void completed (AsynchronousSocketChannel sc, Void attachment) {\n\n        /* \n        This context was used in attempt to delay response sent to async client.\n        Does not work properly, only delaying server console output\n        try {\n            int amount = (int) (Math.random() * 20);\n            Thread.sleep(amount*1000);\n            System.out.println(&quot;slept for &quot;+amount);\n        }\n        catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        */\n        ssc.accept(null, this);\n        System.out.println(&quot;Connection Established&quot;);\n        ByteBuffer buffer = ByteBuffer.allocate(512);\n        ReadCompletionHandler rch = new ReadCompletionHandler(sc, buffer);\n        sc.read(buffer, null, rch);\n        //System.out.println(&quot;Received &quot;+buffer.toString());\n    }\n\n    @Override\n    public void failed (Throwable T, Void attachment){\n        T.printStackTrace();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package AsyncServer.AsyncHandler;\n\nimport java.nio.ByteBuffer;\nimport java.nio.channels.AsynchronousSocketChannel;\nimport java.nio.channels.CompletionHandler;\nimport java.nio.charset.*;\n\npublic class ReadCompletionHandler implements CompletionHandler&lt;Integer, Void&gt; {\n        private final AsynchronousSocketChannel sc;\n        private final ByteBuffer buffer;\n\n    ReadCompletionHandler (AsynchronousSocketChannel in_sc, ByteBuffer in_buffer) {\n        this.sc = in_sc;\n        this.buffer = in_buffer;\n    }\n\n    @Override\n    public void completed (Integer bytes, Void attachment) {\n\n        WriteCompletionHandler wch = new WriteCompletionHandler(this.sc);\n\n        this.buffer.flip();\n        this.sc.write(this.buffer, null, wch);\n        Charset charset = Charset.forName(&quot;UTF-8&quot;);\n        String outputStr = new String(this.buffer.array()).trim();\n        System.out.println(&quot;Writing &quot;+outputStr+&quot; into return buffer&quot;);\n\n    }\n\n    @Override\n    public void failed (Throwable T, Void attachment) {\n        T.printStackTrace();\n    }\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package AsyncServer.AsyncHandler;\n\nimport java.io.IOException;\nimport java.nio.ByteBuffer;\nimport java.nio.channels.AsynchronousSocketChannel;\nimport java.nio.channels.CompletionHandler;\n\npublic class WriteCompletionHandler implements CompletionHandler&lt;Integer, Void&gt; {\n    private final AsynchronousSocketChannel sc;\n\n    WriteCompletionHandler (AsynchronousSocketChannel in_sc) {\n        this.sc = in_sc;\n    }\n\n    @Override\n    public void completed (Integer bytes, Void attachment) {\n        try {\n            sc.close();\n            System.out.println(&quot;Socket closed&quot;);\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public void failed (Throwable T, Void attachment) {\n        T.printStackTrace();\n    }\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.net.InetSocketAddress;\nimport java.net.SocketAddress;\nimport java.nio.ByteBuffer;\nimport java.nio.channels.AsynchronousSocketChannel;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.Future;\n\npublic class AsyncClient {\n\n    private String ip = &quot;localhost&quot;;\n    private int port = 40000;\n    private String payload = &quot;00209999997778222223&quot;;\n    AsyncClient(String in_ip, int in_port, String in_payload)\n    {\n        this.ip = in_ip;\n        this.port = in_port;\n        this.payload = in_payload;\n    }\n    AsyncClient() {}\n    void start()\n    {\n        try {\n            AsynchronousSocketChannel sc = AsynchronousSocketChannel.open();\n            SocketAddress serverAddr = new InetSocketAddress(this.ip, this.port);\n            Future&lt;Void&gt; res = sc.connect(serverAddr);\n            System.out.println(&quot;Will connect to remote&quot;);\n\n            res.get();\n            System.out.println(&quot;Connection Established&quot;);\n\n            String outStr = this.payload;\n            ByteBuffer buffer = ByteBuffer.wrap(outStr.getBytes());\n            Future&lt;Integer&gt; sender = sc.write(buffer);\n            sender.get();\n\n            buffer.flip();\n            Future&lt;Integer&gt; receiver = sc.read(buffer);\n            System.out.println(&quot;Received : &quot;+new String(buffer.array()).trim());\n            receiver.get();\n            buffer.clear();\n\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n        }\n        catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        catch (ExecutionException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Client Code components are also available in <a href=\"https://github.com/Lment/Java-test-hub/tree/master/src/AsyncServer\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>So this code calls on Custom completionHandler three times.</p>\n<p>Control flow goes to AcceptCompletionHandler -&gt; ReadCompletionHandler -&gt; WriteCompletionHandler, when each accept, read, write is called.</p>\n<p>As I mentioned earlier, what I wanted to achieve was delaying whole asynchronous receive-response stream of each client thread. By running Client code on multiple threads, Say, some delays 11s, other delay less than 10s, my bare eye could catch this asynchronous operation.</p>\n<p>However, If I run multiple threads of AsyncClient, It appears that no delay happens. Almost Instantly, the response arrives at client side. However, delays are really delaying console output of server side. <a href=\"https://i.stack.imgur.com/7onZj.png\" rel=\"nofollow noreferrer\">Like this one.</a> Sorry for missing timestamps!</p>\n<p>I added semaphore acquire&amp;release to server object itself, wrap delay syntax with semaphore acquire&amp;release. It seems that asyncSocketStream passes their work to any other Idle thread if it meets delay. So I wrapped whole server in ExecutorService package, limiting maximum thread to one. Still, the client gets its reponse right away, and meaningless waiting of server console output happens...</p>\n<p>Please enlighten me if I'm doing what is very bad, since I'm new to Async socket programming.</p>\n"},{"tags":["java","spring","marklogic","polish"],"answers":[{"tags":[],"owner":{"account_id":4013257,"reputation":2118,"user_id":3306099,"display_name":"rjrudin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670856479,"creation_date":1670855174,"answer_id":74772577,"question_id":74769475,"body_markdown":"You can get snippets with highlighting via the Java API via code like this:\r\n\r\n    QueryManager mgr = client.newQueryManager();\r\n    SearchHandle handle = mgr.search(mgr.newStructuredQueryBuilder().term(&quot;quick&quot;), new SearchHandle());\r\n    for (MatchDocumentSummary matchResult : handle.getMatchResults()) {\r\n        for (MatchLocation matchLocation : matchResult.getMatchLocations()) {\r\n            for (MatchSnippet snippet : matchLocation.getSnippets()) {\r\n                System.out.println(snippet.getText());\r\n                System.out.println(snippet.isHighlighted());\r\n            }\r\n        }\r\n    }\r\n\r\nCustom dictionaries are covered at https://docs.marklogic.com/guide/search-dev/custom-dictionaries. I believe that once you&#39;ve created a dictionary, you&#39;ll want to modify the Language setting on your database to use the new dictionary (I have not tried that before, but that appears to be the expected approach). \r\n\r\nAs for a Polish dictionary - there&#39;s a link to a repository of dictionaries at https://developer.marklogic.com/code/dictionaries-and-thesauri/, but there&#39;s not a Polish dictionary there. Building a complete dictionary would of course be a significant effort, though it sounds like if you&#39;re mostly interested in stemming on certain keywords, you could build a custom dictionary containing just those keywords and their stems. \r\n","title":"How to extend search query from java to Marklogic to get highlights?","body":"<p>You can get snippets with highlighting via the Java API via code like this:</p>\n<pre><code>QueryManager mgr = client.newQueryManager();\nSearchHandle handle = mgr.search(mgr.newStructuredQueryBuilder().term(&quot;quick&quot;), new SearchHandle());\nfor (MatchDocumentSummary matchResult : handle.getMatchResults()) {\n    for (MatchLocation matchLocation : matchResult.getMatchLocations()) {\n        for (MatchSnippet snippet : matchLocation.getSnippets()) {\n            System.out.println(snippet.getText());\n            System.out.println(snippet.isHighlighted());\n        }\n    }\n}\n</code></pre>\n<p>Custom dictionaries are covered at <a href=\"https://docs.marklogic.com/guide/search-dev/custom-dictionaries\" rel=\"nofollow noreferrer\">https://docs.marklogic.com/guide/search-dev/custom-dictionaries</a>. I believe that once you've created a dictionary, you'll want to modify the Language setting on your database to use the new dictionary (I have not tried that before, but that appears to be the expected approach).</p>\n<p>As for a Polish dictionary - there's a link to a repository of dictionaries at <a href=\"https://developer.marklogic.com/code/dictionaries-and-thesauri/\" rel=\"nofollow noreferrer\">https://developer.marklogic.com/code/dictionaries-and-thesauri/</a>, but there's not a Polish dictionary there. Building a complete dictionary would of course be a significant effort, though it sounds like if you're mostly interested in stemming on certain keywords, you could build a custom dictionary containing just those keywords and their stems.</p>\n"}],"owner":{"account_id":17564829,"reputation":11,"user_id":12741921,"display_name":"Marcin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670856479,"creation_date":1670839726,"question_id":74769475,"body_markdown":"I need to extend REST API in java with Spring reaching to Marklogic database. I already have functionality using StructuredQueryBuilder and the search method from DocumentManagerImpl (package com.marklogic.client.impl), but the client expects highlighting fragments of answers matching the searched phrases in Polish language, including derivatives from the stems (there may be several keywords by which we search, but with the condition of joint occurrence in the result).\r\n\r\n1. How to extend the search query to Marklogic in the simplest way and using the Java API from Marklogic to obtain additional information about the location of the searched phrases in the returned objects in one query to the database?\r\n2. Should I put a custom dictionary for stemming in Marklogic? Are there any sources recommended by Marklogic where I can get dictionaries?","title":"How to extend search query from java to Marklogic to get highlights?","body":"<p>I need to extend REST API in java with Spring reaching to Marklogic database. I already have functionality using StructuredQueryBuilder and the search method from DocumentManagerImpl (package com.marklogic.client.impl), but the client expects highlighting fragments of answers matching the searched phrases in Polish language, including derivatives from the stems (there may be several keywords by which we search, but with the condition of joint occurrence in the result).</p>\n<ol>\n<li>How to extend the search query to Marklogic in the simplest way and using the Java API from Marklogic to obtain additional information about the location of the searched phrases in the returned objects in one query to the database?</li>\n<li>Should I put a custom dictionary for stemming in Marklogic? Are there any sources recommended by Marklogic where I can get dictionaries?</li>\n</ol>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1670854956,"post_id":74771958,"comment_id":131963075,"body_markdown":"I think for this task it would be a good option to use Spring Boot for this. A connected database in the background offers many easy options for managing text.","body":"I think for this task it would be a good option to use Spring Boot for this. A connected database in the background offers many easy options for managing text."},{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1670855164,"post_id":74771958,"comment_id":131963149,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":27228981,"reputation":49,"user_id":20757012,"display_name":"Cineczeq"},"score":0,"creation_date":1670855276,"post_id":74771958,"comment_id":131963203,"body_markdown":"I added Main method.","body":"I added Main method."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1670868009,"post_id":74771958,"comment_id":131967903,"body_markdown":"*Mostly* strings. In your program parse the dates into `LocalDate` objects. You can always format them into `dd/MM/yyyy` format when presenting them to the user. And in your persistent storage — your text file — use ISO 8601 format, that is `yyyy-MM-dd`, so that it’s independent of what users want to see.","body":"<i>Mostly</i> strings. In your program parse the dates into <code>LocalDate</code> objects. You can always format them into <code>dd&#47;MM&#47;yyyy</code> format when presenting them to the user. And in your persistent storage — your text file — use ISO 8601 format, that is <code>yyyy-MM-dd</code>, so that it’s independent of what users want to see."}],"answers":[{"tags":[],"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670856461,"creation_date":1670856461,"answer_id":74772880,"question_id":74771958,"body_markdown":"When your program does start, your first step must always be reading whole text file into memory, line by line. Visit [this page][1] how you can achive it. Use your timestamp as key for the HashMap.\r\n\r\nOne advantage of HashMap is, you can easily check of occurences or add some data at the end. And if you want just update an existing entry, use the same key and the content will be overwritten.\r\n\r\nAfter this, [the next page][2] demonstrate how to write the content back to your text file.\r\n\r\nPlease note: As I wrote in comment section the use of Spring Boot is a better option for your task.\r\n\r\n \r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/reading-text-file-into-java-hashmap/?ref=rp\r\n  [2]: https://www.geeksforgeeks.org/write-hashmap-to-a-text-file-in-java/","title":"Saving multiple input data in one .txt file. Is it possible to overwrite and get data from specific line?","body":"<p>When your program does start, your first step must always be reading whole text file into memory, line by line. Visit <a href=\"https://www.geeksforgeeks.org/reading-text-file-into-java-hashmap/?ref=rp\" rel=\"nofollow noreferrer\">this page</a> how you can achive it. Use your timestamp as key for the HashMap.</p>\n<p>One advantage of HashMap is, you can easily check of occurences or add some data at the end. And if you want just update an existing entry, use the same key and the content will be overwritten.</p>\n<p>After this, <a href=\"https://www.geeksforgeeks.org/write-hashmap-to-a-text-file-in-java/\" rel=\"nofollow noreferrer\">the next page</a> demonstrate how to write the content back to your text file.</p>\n<p>Please note: As I wrote in comment section the use of Spring Boot is a better option for your task.</p>\n"}],"owner":{"account_id":27228981,"reputation":49,"user_id":20757012,"display_name":"Cineczeq"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670856461,"creation_date":1670852331,"question_id":74771958,"body_markdown":"Code first: \r\n\r\n```\r\nimport java.io.*;\r\nimport java.util.Scanner;\r\n\r\npublic class Test {\r\n    public String date;\r\n    public String fridge1;\r\n    public String fridge2;\r\n    public String info;\r\n    static final int lineNumber = 0;\r\n\r\n    public Test(String date, String fridge1, String fridge2, String info) {\r\n        this.date = date;\r\n        this.fridge1 = fridge1;\r\n        this.fridge2 = fridge2;\r\n        this.info = info;\r\n    }\r\n\r\n    public String getDate() {\r\n        return date;\r\n    }\r\n\r\n    public void setDate(String date) {\r\n        this.date = date;\r\n    }\r\n\r\n    public String getFridge1() {\r\n        return fridge1;\r\n    }\r\n\r\n    public void setFridge1(String fridge1) {\r\n        this.fridge1 = fridge1;\r\n    }\r\n\r\n    public String getFridge2() {\r\n        return fridge2;\r\n    }\r\n\r\n    public void setFridge2(String fridge2) {\r\n        this.fridge2 = fridge2;\r\n    }\r\n\r\n    public String getInfo() {\r\n        return info;\r\n    }\r\n\r\n    public void setInfo(String info) {\r\n        this.info = info;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return\r\n        date + &quot;\\n&quot; +\r\n            fridge1 + &quot;\\n&quot; +\r\n            fridge2 + &quot;\\n&quot; +\r\n            info + &quot;\\n&quot;;\r\n    }\r\n\r\n    public void saveData() {\r\n        File file = new File(&quot;text.txt&quot;);\r\n        boolean checker = true;\r\n\r\n        try (Scanner scanner = new Scanner(file)) {\r\n            while (scanner.hasNextLine()) {\r\n                String line = scanner.nextLine();\r\n                if (line.contains(date)) {\r\n                    checker = false;\r\n                    break;\r\n                }\r\n            }\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        if (checker) {\r\n            try (FileOutputStream fos = new FileOutputStream(&quot;text.txt&quot;, true)) {\r\n                fos.write(toString().getBytes());\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        } else {\r\n            ...\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n```\r\n\r\nimport java.io.IOException;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws IOException {\r\n// Test test = new Test(&quot;19/02/1992&quot;, &quot;10&quot;, &quot;9&quot;, &quot;ok&quot;);\r\n// test.saveData();\r\n Test test2 = new Test(&quot;19/02/1900&quot;, &quot;8&quot;, &quot;4&quot;, &quot;not ok&quot;);\r\n        test2.saveData();\r\n\r\n    }\r\n}\r\n```\r\n\r\nI want to do program in Java to get some inputs and date, mostly Strings. I just create a methods to write all data in one .txt file, one data - 1 line. If there is already existing date program is not writing new data. Finally, I would like to overwrite data. If I put the same date in, I would like to overwrite existing date to new one. So in my mind if I have in .txt file this data:\r\n\r\nline1 17/05/16 line2 blabla line3 blabla line4 blabla\r\n\r\nand I will put in Main this:\r\n\r\n```\r\nTest test2 = new Test(&quot;17/05/16&quot;, &quot;8&quot;, &quot;4&quot;, &quot;not ok&quot;);\r\n       test2.saveData();\r\n```\r\nit should find where is 17/05/16 and then replace lines 2-4 like this.\r\n\r\nline1 17/05/16\r\nline2 8\r\nline3 4\r\nline4 not ok\r\n\r\nIt is possible? Then how to find out all data in reverse way? In mean when I would like to check my data from specific date ex. 17/05/16?\r\n\r\nAs you can see I just stuck in moment when I have to search where is my data. I can&#39;t find good methods.","title":"Saving multiple input data in one .txt file. Is it possible to overwrite and get data from specific line?","body":"<p>Code first:</p>\n<pre><code>import java.io.*;\nimport java.util.Scanner;\n\npublic class Test {\n    public String date;\n    public String fridge1;\n    public String fridge2;\n    public String info;\n    static final int lineNumber = 0;\n\n    public Test(String date, String fridge1, String fridge2, String info) {\n        this.date = date;\n        this.fridge1 = fridge1;\n        this.fridge2 = fridge2;\n        this.info = info;\n    }\n\n    public String getDate() {\n        return date;\n    }\n\n    public void setDate(String date) {\n        this.date = date;\n    }\n\n    public String getFridge1() {\n        return fridge1;\n    }\n\n    public void setFridge1(String fridge1) {\n        this.fridge1 = fridge1;\n    }\n\n    public String getFridge2() {\n        return fridge2;\n    }\n\n    public void setFridge2(String fridge2) {\n        this.fridge2 = fridge2;\n    }\n\n    public String getInfo() {\n        return info;\n    }\n\n    public void setInfo(String info) {\n        this.info = info;\n    }\n\n    @Override\n    public String toString() {\n        return\n        date + &quot;\\n&quot; +\n            fridge1 + &quot;\\n&quot; +\n            fridge2 + &quot;\\n&quot; +\n            info + &quot;\\n&quot;;\n    }\n\n    public void saveData() {\n        File file = new File(&quot;text.txt&quot;);\n        boolean checker = true;\n\n        try (Scanner scanner = new Scanner(file)) {\n            while (scanner.hasNextLine()) {\n                String line = scanner.nextLine();\n                if (line.contains(date)) {\n                    checker = false;\n                    break;\n                }\n            }\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n\n        if (checker) {\n            try (FileOutputStream fos = new FileOutputStream(&quot;text.txt&quot;, true)) {\n                fos.write(toString().getBytes());\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        } else {\n            ...\n        }\n    }\n}\n\n</code></pre>\n<pre><code>\nimport java.io.IOException;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n// Test test = new Test(&quot;19/02/1992&quot;, &quot;10&quot;, &quot;9&quot;, &quot;ok&quot;);\n// test.saveData();\n Test test2 = new Test(&quot;19/02/1900&quot;, &quot;8&quot;, &quot;4&quot;, &quot;not ok&quot;);\n        test2.saveData();\n\n    }\n}\n</code></pre>\n<p>I want to do program in Java to get some inputs and date, mostly Strings. I just create a methods to write all data in one .txt file, one data - 1 line. If there is already existing date program is not writing new data. Finally, I would like to overwrite data. If I put the same date in, I would like to overwrite existing date to new one. So in my mind if I have in .txt file this data:</p>\n<p>line1 17/05/16 line2 blabla line3 blabla line4 blabla</p>\n<p>and I will put in Main this:</p>\n<pre><code>Test test2 = new Test(&quot;17/05/16&quot;, &quot;8&quot;, &quot;4&quot;, &quot;not ok&quot;);\n       test2.saveData();\n</code></pre>\n<p>it should find where is 17/05/16 and then replace lines 2-4 like this.</p>\n<p>line1 17/05/16\nline2 8\nline3 4\nline4 not ok</p>\n<p>It is possible? Then how to find out all data in reverse way? In mean when I would like to check my data from specific date ex. 17/05/16?</p>\n<p>As you can see I just stuck in moment when I have to search where is my data. I can't find good methods.</p>\n"},{"tags":["java","selenium","cucumber"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670869655,"post_id":74772748,"comment_id":131968453,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27204556,"reputation":1,"user_id":20736321,"display_name":"Lakshmi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670855874,"creation_date":1670855874,"question_id":74772748,"body_markdown":"I need to verify the column values in a webtable whether it is greater than a specific value in all the pages \r\n\r\nI need a Java method to create step definition method in cucumber BDD ","title":"How to verify column in a webtable whether it contains value greater than specified value in all the pages using Java selenium","body":"<p>I need to verify the column values in a webtable whether it is greater than a specific value in all the pages</p>\n<p>I need a Java method to create step definition method in cucumber BDD</p>\n"},{"tags":["javascript","java","axios"],"owner":{"account_id":13455996,"reputation":11,"user_id":9709558,"display_name":"Azael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670855396,"creation_date":1670855396,"question_id":74772627,"body_markdown":"In the Front End we send an id via axios post to the backend to get a (png or pdf) as a  bytearray. Then I would  send the (png or pdf) back via the response. The problem is that I need the (png or pdf) as a file for filepond in js on my frontend.\r\nBut i didnt find a suitable way to cast my bytearray into a file.\r\n\r\nI tried: \r\n\r\n**1. MimeType + Blob**\r\n\r\nBackend (Java):\r\n\r\n     String contenType = URLConnection.guessContentTypeFromStream(new ByteArrayInputStream(byteArray));\r\n     MediaType mimeType=MediaType.parseMediaType(contenType);\r\n     responseContainer = new ResponseContainer(&quot;100&quot;, &quot;s3 fileDownload was ok&quot;, null, true, byteArray);\r\n                return ResponseEntity.ok().contentType(mimeType).body(responseContainer);\r\nFrontend (JS):\r\n\r\n    ///let bytes=new Uint8Array(response.byteArray.length)\r\n    for(let i=0;i&lt;bytes.length;i++){\r\n       bytes[i]=response.byteArray[i];\r\n    }\r\n    let blob=new Blob([bytes],{type: response.mimeType})\r\n    let f1=new File([blob],attarray[x].filename,{type: response.mimeType})\r\n    this.$refs.pond.addFile(f1);\r\nThe byteArray coudn&#39;t be reconstructed correctly(Uint or for loop or direct, therefor the image/pdf was unusable.\r\n\r\n**2. BufferedImage**\r\n\r\nBackend (Java):\r\n\r\n    ByteArrayInputStream bis = new ByteArrayInputStream(byteArray);\r\n    BufferedImage bufferedImage = ImageIO.read(bis);\r\n    ImageIO.write(bufferedImage, contenType, new File(&quot;test.png&quot;));\r\n    File outfile=new File(&quot;test.jpg&quot;);\r\n    ImageIO.write(bufferedImage,contenType,outfile);\r\n\r\nI don&#39;t think that it&#39;s usable because we need a path for test.png and it wouldn&#39;t be feasible to get a path to the backend from frontend.\r\n\r\n**3. HTTP/Header/Content-Disposition**\r\nAccording to https://github.com/eligrey/FileSaver.js/wiki/Saving-a-remote-file#using-http-header\r\n\r\nIt seems that there should be a simple solution for this problem but I am not able to find it, so I am asking for your help.Thanks in advance.\r\n\r\nI am using Vue3, Spring, JavaScript, Java, Axios, FilePond\r\n        ","title":"Cast a (png/pdf)bytearray to a file js/java","body":"<p>In the Front End we send an id via axios post to the backend to get a (png or pdf) as a  bytearray. Then I would  send the (png or pdf) back via the response. The problem is that I need the (png or pdf) as a file for filepond in js on my frontend.\nBut i didnt find a suitable way to cast my bytearray into a file.</p>\n<p>I tried:</p>\n<p><strong>1. MimeType + Blob</strong></p>\n<p>Backend (Java):</p>\n<pre><code> String contenType = URLConnection.guessContentTypeFromStream(new ByteArrayInputStream(byteArray));\n MediaType mimeType=MediaType.parseMediaType(contenType);\n responseContainer = new ResponseContainer(&quot;100&quot;, &quot;s3 fileDownload was ok&quot;, null, true, byteArray);\n            return ResponseEntity.ok().contentType(mimeType).body(responseContainer);\n</code></pre>\n<p>Frontend (JS):</p>\n<pre><code>///let bytes=new Uint8Array(response.byteArray.length)\nfor(let i=0;i&lt;bytes.length;i++){\n   bytes[i]=response.byteArray[i];\n}\nlet blob=new Blob([bytes],{type: response.mimeType})\nlet f1=new File([blob],attarray[x].filename,{type: response.mimeType})\nthis.$refs.pond.addFile(f1);\n</code></pre>\n<p>The byteArray coudn't be reconstructed correctly(Uint or for loop or direct, therefor the image/pdf was unusable.</p>\n<p><strong>2. BufferedImage</strong></p>\n<p>Backend (Java):</p>\n<pre><code>ByteArrayInputStream bis = new ByteArrayInputStream(byteArray);\nBufferedImage bufferedImage = ImageIO.read(bis);\nImageIO.write(bufferedImage, contenType, new File(&quot;test.png&quot;));\nFile outfile=new File(&quot;test.jpg&quot;);\nImageIO.write(bufferedImage,contenType,outfile);\n</code></pre>\n<p>I don't think that it's usable because we need a path for test.png and it wouldn't be feasible to get a path to the backend from frontend.</p>\n<p><strong>3. HTTP/Header/Content-Disposition</strong>\nAccording to <a href=\"https://github.com/eligrey/FileSaver.js/wiki/Saving-a-remote-file#using-http-header\" rel=\"nofollow noreferrer\">https://github.com/eligrey/FileSaver.js/wiki/Saving-a-remote-file#using-http-header</a></p>\n<p>It seems that there should be a simple solution for this problem but I am not able to find it, so I am asking for your help.Thanks in advance.</p>\n<p>I am using Vue3, Spring, JavaScript, Java, Axios, FilePond</p>\n"},{"tags":["java","c#","asp.net","concurrency","ado.net"],"comments":[{"owner":{"account_id":3506277,"reputation":1022,"user_id":2931762,"display_name":"PrfctByDsgn"},"score":0,"creation_date":1671102592,"post_id":74772616,"comment_id":132027670,"body_markdown":"You need to include the version column into your select ... so when you select id and name from my_table you also select version ... that is the &quot;current_version&quot; for your update","body":"You need to include the version column into your select ... so when you select id and name from my_table you also select version ... that is the &quot;current_version&quot; for your update"}],"owner":{"account_id":24494158,"reputation":3,"user_id":18410740,"display_name":"Jamiethered2000"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670855353,"creation_date":1670855353,"question_id":74772616,"body_markdown":"This is the table \r\n\r\n    CREATE TABLE my_table (\r\n    id INT PRIMARY KEY,\r\n    name VARCHAR(255),\r\n    version ROWVERSION\r\n)\r\n\r\nThis is when update\r\n  \r\n\r\n      UPDATE table_name\r\n    SET col1 = val1, col2 = val2, ...\r\n    WHERE id = some_id AND version = current_version\r\n\r\nhow do I get current_version to compare with version on line 3?\r\n\r\nAnd I try to implemnt optismitc locking with above example, am i doing it right?\r\n\r\n     string query = &quot;UPDATE PRODUCT SET stockQuantity =stockQuantity - @value Where ID =@id  AND RowVersion = RowVersion&quot;;","title":"Can someone explain how do I get current ROWVERSION when using Optimistic locking?","body":"<p>This is the table</p>\n<pre><code>CREATE TABLE my_table (\nid INT PRIMARY KEY,\nname VARCHAR(255),\nversion ROWVERSION\n</code></pre>\n<p>)</p>\n<p>This is when update</p>\n<pre><code>  UPDATE table_name\nSET col1 = val1, col2 = val2, ...\nWHERE id = some_id AND version = current_version\n</code></pre>\n<p>how do I get current_version to compare with version on line 3?</p>\n<p>And I try to implemnt optismitc locking with above example, am i doing it right?</p>\n<pre><code> string query = &quot;UPDATE PRODUCT SET stockQuantity =stockQuantity - @value Where ID =@id  AND RowVersion = RowVersion&quot;;\n</code></pre>\n"},{"tags":["java","gson","ndjson"],"comments":[{"owner":{"account_id":14781952,"reputation":120,"user_id":10675247,"display_name":"Philippe Fery"},"score":0,"creation_date":1670844282,"post_id":74770235,"comment_id":131959479,"body_markdown":"Hi! Your JSON is not wellformed. Your &quot;profile&quot; objects are not comma separated. Add a comma between each of them. Furthermore, you must put all your JSON between [ and ] to represent an array of profile objects. Once done, your JSON is wellformed and you will be able to deserialize it in an array/list of profile objects","body":"Hi! Your JSON is not wellformed. Your &quot;profile&quot; objects are not comma separated. Add a comma between each of them. Furthermore, you must put all your JSON between [ and ] to represent an array of profile objects. Once done, your JSON is wellformed and you will be able to deserialize it in an array/list of profile objects"},{"owner":{"account_id":26952186,"reputation":25,"user_id":20521221,"display_name":"Dragon"},"score":0,"creation_date":1670844899,"post_id":74770235,"comment_id":131959666,"body_markdown":"@PhilippeFery I am sorry it must be disturbed while typing here otherwise the file is properly formatted. Kindly ignore this.","body":"@PhilippeFery I am sorry it must be disturbed while typing here otherwise the file is properly formatted. Kindly ignore this."}],"answers":[{"tags":[],"owner":{"account_id":22196305,"reputation":317,"user_id":16437679,"display_name":"Eatsam ul haq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670855063,"creation_date":1670855063,"answer_id":74772552,"question_id":74770235,"body_markdown":"You can use `reader.peek()` method and apply loop on your code such that you need to make list of `CustomerDTO` and keep on adding object in it like:\r\n\r\n```\r\nList&lt;CustomerFeedDTO&gt; customerFeedDTOs = new ArrayList&lt;CustomerFeedDTO&gt;();\r\nGson gson = new Gson();\r\nJsonReader reader = new JsonReader(new FileReader(&quot;customer.json&quot;));\r\n// Required\r\nreader.setLenient(true);\r\nwhile (reader.peek() != JsonToken.END_DOCUMENT) {\r\n    CustomerFeedDTO customerFeedDTO = gson.fromJson(reader, CustomerFeedDTO.class);\r\n    customerFeedDTOs.add(customerFeedDTO);\r\n}\r\n```\r\n`Note that` reader also has a `hasNext()` method but that gives Exception when you reach at the end of the document. For further details about this, refer to https://stackoverflow.com/a/52250761/16437679","title":"Mapping multiple ndJson records with Gson","body":"<p>You can use <code>reader.peek()</code> method and apply loop on your code such that you need to make list of <code>CustomerDTO</code> and keep on adding object in it like:</p>\n<pre><code>List&lt;CustomerFeedDTO&gt; customerFeedDTOs = new ArrayList&lt;CustomerFeedDTO&gt;();\nGson gson = new Gson();\nJsonReader reader = new JsonReader(new FileReader(&quot;customer.json&quot;));\n// Required\nreader.setLenient(true);\nwhile (reader.peek() != JsonToken.END_DOCUMENT) {\n    CustomerFeedDTO customerFeedDTO = gson.fromJson(reader, CustomerFeedDTO.class);\n    customerFeedDTOs.add(customerFeedDTO);\n}\n</code></pre>\n<p><code>Note that</code> reader also has a <code>hasNext()</code> method but that gives Exception when you reach at the end of the document. For further details about this, refer to <a href=\"https://stackoverflow.com/a/52250761/16437679\">https://stackoverflow.com/a/52250761/16437679</a></p>\n"}],"owner":{"account_id":26952186,"reputation":25,"user_id":20521221,"display_name":"Dragon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74772552,"answer_count":1,"score":0,"last_activity_date":1670855063,"creation_date":1670843434,"question_id":74770235,"body_markdown":"----------\r\n\r\n\r\nI want to map multiple records in `ndJson` with my DTO class. Following is my `ndJson` file:\r\n\r\n```\r\n// Record # 1 (This line is not included in the file and is only for clarification)\r\n{\r\n &quot;profile&quot;:{\r\n      &quot;salutation&quot;:&quot;Mr&quot;,\r\n      &quot;title&quot;:null,\r\n      &quot;company&quot;:null\r\n   }, \r\n   &quot;phone&quot;:{\r\n      &quot;home_phone&quot;:null\r\n   },\r\n   &quot;addresses&quot;:[\r\n      {\r\n         &quot;address_id&quot;:&quot;1&quot;,\r\n         &quot;title&quot;:&quot;&quot;,\r\n         &quot;company&quot;:null,\r\n         &quot;salutation&quot;:null,\r\n         &quot;first_name&quot;:&quot;Veronica&quot;,\r\n         &quot;last_name&quot;:&quot;Costello&quot;,\r\n         &quot;second_name&quot;:null\r\n      }\r\n   ],\r\n   &quot;orders&quot;:{\r\n      &quot;placed_orders_count&quot;:2,\r\n      &quot;0&quot;:{\r\n         &quot;order_id&quot;:&quot;000000001&quot;,\r\n         &quot;order_date&quot;:&quot;2019-03-27 14:25:03&quot;\r\n      },\r\n      &quot;1&quot;:{\r\n         &quot;order_id&quot;:&quot;000000002&quot;,\r\n         &quot;order_date&quot;:&quot;2019-03-27 14:25:03&quot;\r\n      }\r\n   },\r\n   &quot;customs&quot;:[\r\n      \r\n   ]\r\n}\r\n\r\n// Record # 2 (This line is not included in the file and is only for clarification)\r\n{\r\n    &quot;profile&quot;:{\r\n      &quot;salutation&quot;:null,\r\n      &quot;title&quot;:null,\r\n      &quot;company&quot;:null,\r\n      &quot;job_title&quot;:null\r\n   },\r\n   &quot;phone&quot;:{\r\n      &quot;home_phone&quot;:null,\r\n      &quot;business_phone&quot;:null,\r\n      &quot;mobile_phone&quot;:null,\r\n      &quot;fax_number&quot;:null\r\n   },\r\n   &quot;addresses&quot;:[\r\n      {\r\n         &quot;address_id&quot;:&quot;2&quot;,\r\n         &quot;title&quot;:&quot;&quot;\r\n      }\r\n   ],\r\n   &quot;orders&quot;:{\r\n      &quot;placed_orders_count&quot;:0\r\n   },\r\n   &quot;customs&quot;:[\r\n      \r\n   ]\r\n}\r\n\r\n//Similarly the file has a lot of records\r\n```\r\nI want to map all the records but only able to map first record.\r\n\r\n\r\nI have asked a similar question at https://stackoverflow.com/questions/74734605/how-to-read-ndjson-file-in-java but **I am not able to map all records** with the accepted solution. Below is my code:\r\n\r\n\r\n```\r\nGson gson = new Gson();\r\nJsonReader reader = new JsonReader(new FileReader(&quot;customer.json&quot;));\r\nCustomerFeedDTO customerFeedDTO = gson.fromJson(reader, CustomerFeedDTO.class);\r\n```\r\nAnd Customer DTO class is:\r\n\r\n\r\n```\r\nprivate Map&lt;String, ?&gt; profile;\r\nprivate Map&lt;String, ?&gt; phone;\r\nprivate ArrayList&lt;?&gt; addresses;\r\nprivate Map&lt;String, ?&gt; orders;\r\nprivate ArrayList&lt;?&gt; customs;\r\n\r\n// Getters and setter\r\n```\r\nBut I am only getting the first record with this code.\r\n**How can I map all the records** into `CustomerDTO` object?","title":"Mapping multiple ndJson records with Gson","body":"<hr />\n<p>I want to map multiple records in <code>ndJson</code> with my DTO class. Following is my <code>ndJson</code> file:</p>\n<pre><code>// Record # 1 (This line is not included in the file and is only for clarification)\n{\n &quot;profile&quot;:{\n      &quot;salutation&quot;:&quot;Mr&quot;,\n      &quot;title&quot;:null,\n      &quot;company&quot;:null\n   }, \n   &quot;phone&quot;:{\n      &quot;home_phone&quot;:null\n   },\n   &quot;addresses&quot;:[\n      {\n         &quot;address_id&quot;:&quot;1&quot;,\n         &quot;title&quot;:&quot;&quot;,\n         &quot;company&quot;:null,\n         &quot;salutation&quot;:null,\n         &quot;first_name&quot;:&quot;Veronica&quot;,\n         &quot;last_name&quot;:&quot;Costello&quot;,\n         &quot;second_name&quot;:null\n      }\n   ],\n   &quot;orders&quot;:{\n      &quot;placed_orders_count&quot;:2,\n      &quot;0&quot;:{\n         &quot;order_id&quot;:&quot;000000001&quot;,\n         &quot;order_date&quot;:&quot;2019-03-27 14:25:03&quot;\n      },\n      &quot;1&quot;:{\n         &quot;order_id&quot;:&quot;000000002&quot;,\n         &quot;order_date&quot;:&quot;2019-03-27 14:25:03&quot;\n      }\n   },\n   &quot;customs&quot;:[\n      \n   ]\n}\n\n// Record # 2 (This line is not included in the file and is only for clarification)\n{\n    &quot;profile&quot;:{\n      &quot;salutation&quot;:null,\n      &quot;title&quot;:null,\n      &quot;company&quot;:null,\n      &quot;job_title&quot;:null\n   },\n   &quot;phone&quot;:{\n      &quot;home_phone&quot;:null,\n      &quot;business_phone&quot;:null,\n      &quot;mobile_phone&quot;:null,\n      &quot;fax_number&quot;:null\n   },\n   &quot;addresses&quot;:[\n      {\n         &quot;address_id&quot;:&quot;2&quot;,\n         &quot;title&quot;:&quot;&quot;\n      }\n   ],\n   &quot;orders&quot;:{\n      &quot;placed_orders_count&quot;:0\n   },\n   &quot;customs&quot;:[\n      \n   ]\n}\n\n//Similarly the file has a lot of records\n</code></pre>\n<p>I want to map all the records but only able to map first record.</p>\n<p>I have asked a similar question at <a href=\"https://stackoverflow.com/questions/74734605/how-to-read-ndjson-file-in-java\">How to Read ndJSON file in Java</a> but <strong>I am not able to map all records</strong> with the accepted solution. Below is my code:</p>\n<pre><code>Gson gson = new Gson();\nJsonReader reader = new JsonReader(new FileReader(&quot;customer.json&quot;));\nCustomerFeedDTO customerFeedDTO = gson.fromJson(reader, CustomerFeedDTO.class);\n</code></pre>\n<p>And Customer DTO class is:</p>\n<pre><code>private Map&lt;String, ?&gt; profile;\nprivate Map&lt;String, ?&gt; phone;\nprivate ArrayList&lt;?&gt; addresses;\nprivate Map&lt;String, ?&gt; orders;\nprivate ArrayList&lt;?&gt; customs;\n\n// Getters and setter\n</code></pre>\n<p>But I am only getting the first record with this code.\n<strong>How can I map all the records</strong> into <code>CustomerDTO</code> object?</p>\n"},{"tags":["java","class","methods"],"comments":[{"owner":{"account_id":325434,"reputation":25037,"user_id":646619,"accept_rate":90,"display_name":"Colonel Thirty Two"},"score":2,"creation_date":1439323161,"post_id":31950764,"comment_id":51811076,"body_markdown":"It means it returns a `ProcessorClass` instance. There&#39;s nothing wrong with a method on a class returning an instance of the same class.","body":"It means it returns a <code>ProcessorClass</code> instance. There&#39;s nothing wrong with a method on a class returning an instance of the same class."}],"answers":[{"tags":[],"owner":{"account_id":4427390,"reputation":5224,"user_id":3605497,"display_name":"Tripp Kinetics"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1670854625,"creation_date":1439323312,"answer_id":31950914,"question_id":31950764,"body_markdown":"Check this example, which is an implementation of the Singleton pattern:\r\n\r\n    public class Ploop\r\n    {\r\n        private final int x;\r\n        private static Ploop instance = null;\r\n\r\n        public int getX()\r\n        {\r\n            return x;\r\n        }\r\n\r\n        public static Ploop getInstance()\r\n        {\r\n            if(instance == null) instance = new Ploop();\r\n            return instance;\r\n        }\r\n\r\n        private Ploop()\r\n        {\r\n            x = 0;\r\n        }\r\n    }\r\n\r\nIn this case, the `getInstance()` function is the only way to get a new `Ploop` object.  If the constructor were `public`, then there would be two ways, `new Ploop()` and `Ploop.getInstance()`.\r\n\r\nBecause the `getInstance()` only instantiates `Ploop` once, there can only ever be one instance of `Ploop`.  (Barring unusual ways of instantiating an object, like through reflection...)\r\n\r\nAnother way to make use of this pattern is to allow a class to use the Builder pattern to instantiate itself in phases.\r\n\r\nDoes this make anything clearer?","title":"Java - class name in method declaration where the return type should be","body":"<p>Check this example, which is an implementation of the Singleton pattern:</p>\n<pre><code>public class Ploop\n{\n    private final int x;\n    private static Ploop instance = null;\n\n    public int getX()\n    {\n        return x;\n    }\n\n    public static Ploop getInstance()\n    {\n        if(instance == null) instance = new Ploop();\n        return instance;\n    }\n\n    private Ploop()\n    {\n        x = 0;\n    }\n}\n</code></pre>\n<p>In this case, the <code>getInstance()</code> function is the only way to get a new <code>Ploop</code> object.  If the constructor were <code>public</code>, then there would be two ways, <code>new Ploop()</code> and <code>Ploop.getInstance()</code>.</p>\n<p>Because the <code>getInstance()</code> only instantiates <code>Ploop</code> once, there can only ever be one instance of <code>Ploop</code>.  (Barring unusual ways of instantiating an object, like through reflection...)</p>\n<p>Another way to make use of this pattern is to allow a class to use the Builder pattern to instantiate itself in phases.</p>\n<p>Does this make anything clearer?</p>\n"},{"tags":[],"owner":{"account_id":18533793,"reputation":21,"user_id":13503934,"display_name":"Bhavya Tripathi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591087785,"creation_date":1591086049,"answer_id":62147746,"question_id":31950764,"body_markdown":"When a method uses a class name as its return type, the class of the type of the returned object must be either a subclass of, or the exact class of, the return type.\r\n\r\nSuppose that you have a class hierarchy in which ImaginaryNumber is a subclass of java.lang.Number, which is in turn a subclass of Object, as illustrated below.\r\n\r\n                            Object\r\n                              |\r\n                            Number\r\n                              |\r\n                         ImaginaryNumber\r\n\r\n\r\nNow suppose that you have a method declared to return a Number:\r\n```\r\npublic Number returnANumber() {\r\n    ...\r\n}\r\n```\r\n\r\nThe returnANumber method can return an ImaginaryNumber but not an Object. ImaginaryNumber is a Number because it&#39;s a subclass of Number. However, an Object is not necessarily a Number — it could be a String or another type.\r\n\r\nYou can override a method and define it to return a subclass of the original method, like this:\r\n```\r\npublic ImaginaryNumber returnANumber() {\r\n    ...\r\n}\r\n```\r\n\r\nThis technique, called covariant return type, means that the return type is allowed to vary in the same direction as the subclass.\r\n\r\n\r\n","title":"Java - class name in method declaration where the return type should be","body":"<p>When a method uses a class name as its return type, the class of the type of the returned object must be either a subclass of, or the exact class of, the return type.</p>\n\n<p>Suppose that you have a class hierarchy in which ImaginaryNumber is a subclass of java.lang.Number, which is in turn a subclass of Object, as illustrated below.</p>\n\n<pre><code>                        Object\n                          |\n                        Number\n                          |\n                     ImaginaryNumber\n</code></pre>\n\n<p>Now suppose that you have a method declared to return a Number:</p>\n\n<pre><code>public Number returnANumber() {\n    ...\n}\n</code></pre>\n\n<p>The returnANumber method can return an ImaginaryNumber but not an Object. ImaginaryNumber is a Number because it's a subclass of Number. However, an Object is not necessarily a Number — it could be a String or another type.</p>\n\n<p>You can override a method and define it to return a subclass of the original method, like this:</p>\n\n<pre><code>public ImaginaryNumber returnANumber() {\n    ...\n}\n</code></pre>\n\n<p>This technique, called covariant return type, means that the return type is allowed to vary in the same direction as the subclass.</p>\n"},{"tags":[],"owner":{"account_id":15365191,"reputation":19,"user_id":11084943,"display_name":"Sandeep Agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597213967,"creation_date":1597213967,"answer_id":63371053,"question_id":31950764,"body_markdown":"Essentially, a return type can be anything, if a method returns something. You can return the instance of the same class where the method is defined.\r\n\r\n`ProcessorClass` here is a return type. You are returning an instance of the class.\r\n\r\nEg.\r\n```\r\nclass ProcessorClass {\r\n public ProcessorClass someMethod() {\r\n  return new ProcessorClass();\r\n }\r\n}\r\n```\r\n\r\nHere the method is returning the same type as the class.\r\n\r\n```\r\nclass XYZ {\r\n pubic ProcessorClass anotherMethod() {\r\n  return new ProcessorClass();\r\n }\r\n}\r\n```\r\n\r\nHere the method is returning the above class type. ","title":"Java - class name in method declaration where the return type should be","body":"<p>Essentially, a return type can be anything, if a method returns something. You can return the instance of the same class where the method is defined.</p>\n<p><code>ProcessorClass</code> here is a return type. You are returning an instance of the class.</p>\n<p>Eg.</p>\n<pre><code>class ProcessorClass {\n public ProcessorClass someMethod() {\n  return new ProcessorClass();\n }\n}\n</code></pre>\n<p>Here the method is returning the same type as the class.</p>\n<pre><code>class XYZ {\n pubic ProcessorClass anotherMethod() {\n  return new ProcessorClass();\n }\n}\n</code></pre>\n<p>Here the method is returning the above class type.</p>\n"}],"owner":{"account_id":6774220,"reputation":69,"user_id":5216581,"display_name":"Angela"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8488,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":3,"score":4,"last_activity_date":1670854625,"creation_date":1439322817,"question_id":31950764,"body_markdown":"I am working on some code where there is a method that looks like this:\r\n\r\n        public static ProcessorClass getProcessor(String x, int y) {\r\n         return(var);\r\n        }\r\n\r\nFrom what I remember the way this is written the &quot;ProcessorClass&quot; is a return type but what does that mean. The &quot;ProcessorClass&quot; is the class that the method is currently in. I am confused in what this means.","title":"Java - class name in method declaration where the return type should be","body":"<p>I am working on some code where there is a method that looks like this:</p>\n\n<pre><code>    public static ProcessorClass getProcessor(String x, int y) {\n     return(var);\n    }\n</code></pre>\n\n<p>From what I remember the way this is written the \"ProcessorClass\" is a return type but what does that mean. The \"ProcessorClass\" is the class that the method is currently in. I am confused in what this means.</p>\n"},{"tags":["java","machine-learning","data-science","image-classification"],"comments":[{"owner":{"account_id":27171016,"reputation":350,"user_id":20707682,"display_name":"Chris Miller"},"score":1,"creation_date":1670788150,"post_id":74760126,"comment_id":131949136,"body_markdown":"You didn&#39;t provide any context as to the dataset and how your model was trained. The classes suggest the model is trained on specific fruit and features found in the fruit, but it&#39;s not trained to determine &quot;is_fruit, is_not_fruit&quot;. You probably need to inference the image against an object classifier model so it knows what fruit is, then pass the image frame to your existing model if the image is in fact fruit.","body":"You didn&#39;t provide any context as to the dataset and how your model was trained. The classes suggest the model is trained on specific fruit and features found in the fruit, but it&#39;s not trained to determine &quot;is_fruit, is_not_fruit&quot;. You probably need to inference the image against an object classifier model so it knows what fruit is, then pass the image frame to your existing model if the image is in fact fruit."},{"owner":{"account_id":2721434,"reputation":3172,"user_id":2347649,"accept_rate":50,"display_name":"Julia Meshcheryakova"},"score":0,"creation_date":1670854834,"post_id":74760126,"comment_id":131963027,"body_markdown":"Differentiate between the classification logic and the UI-related code. Your question was about classification itself, not smth related to display - I cut irrelevant code from the question. But the remaining method is also a subject for refactoring. Isolate the classification code from the controls and edit the post to include only the classification-related method. It&#39;s best coding practices and shall pay off. Good luck!","body":"Differentiate between the classification logic and the UI-related code. Your question was about classification itself, not smth related to display - I cut irrelevant code from the question. But the remaining method is also a subject for refactoring. Isolate the classification code from the controls and edit the post to include only the classification-related method. It&#39;s best coding practices and shall pay off. Good luck!"}],"answers":[{"tags":[],"owner":{"account_id":2721434,"reputation":3172,"user_id":2347649,"accept_rate":50,"display_name":"Julia Meshcheryakova"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670854052,"creation_date":1670854052,"answer_id":74772313,"question_id":74760126,"body_markdown":"Your problem splits into 2 different problems:\r\n1) **Binary classification**: if the image depicts a fruit. Results: fruit/not fruit\r\n2) **Multi-class classification**: which fruit is it? \r\n\r\nCurrently, you solve only a 2nd part. But there is no class &#39;not fruit at all&#39;.  You can have N+1 class: N fruits and 1 not-a-fruit image class. But then it is going to be imbalanced which is a complication. Therefore, I suggest 2-step approach.","title":"Custom objects classifier always returns one of classes even if the picture belongs to none of them","body":"<p>Your problem splits into 2 different problems:</p>\n<ol>\n<li><strong>Binary classification</strong>: if the image depicts a fruit. Results: fruit/not fruit</li>\n<li><strong>Multi-class classification</strong>: which fruit is it?</li>\n</ol>\n<p>Currently, you solve only a 2nd part. But there is no class 'not fruit at all'.  You can have N+1 class: N fruits and 1 not-a-fruit image class. But then it is going to be imbalanced which is a complication. Therefore, I suggest 2-step approach.</p>\n"}],"owner":{"account_id":21417211,"reputation":1,"user_id":15776263,"display_name":"Lousy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670854564,"creation_date":1670755498,"question_id":74760126,"body_markdown":"My fruit detection app shows fruit results even though the user uploads a picture that is not a fruit. Is it possible to display a &quot;no plant detected&quot; message?\r\n\r\nMy code:\r\n\r\n```\r\nprivate void classifyImage(Bitmap image) {\r\n    try {\r\n        FruitDisease model = FruitDisease.newInstance(getApplicationContext());\r\n\r\n        TensorBuffer inputFeature = TensorBuffer.createFixedSize(new int[]{1, 224, 224, 3}, DataType.FLOAT32);\r\n        ByteBuffer byteBuffer = ByteBuffer.allocateDirect(4 * imageSize * imageSize * 3);\r\n        byteBuffer.order(ByteOrder.nativeOrder());\r\n\r\n        int[] intValue = new int[imageSize * imageSize];\r\n        image.getPixels(intValue, 0, image.getWidth(), 0, 0, image.getWidth(), image.getHeight());\r\n\r\n        int pixel = 0;\r\n        for (int i = 0; i &lt; imageSize; i++) {\r\n            for (int j = 0; j &lt; imageSize; j++) {\r\n                int val = intValue[pixel++];\r\n                byteBuffer.putFloat(((val &gt;&gt; 16) &amp; 0xFF) * (1.f / 255.f));\r\n                byteBuffer.putFloat(((val &gt;&gt; 8) &amp; 0xFF) * (1.f / 255.f));\r\n                byteBuffer.putFloat((val &amp; 0xFF) * (1.f / 255.f));\r\n            }\r\n        }\r\n        inputFeature.loadBuffer(byteBuffer);\r\n\r\n        FruitDisease.Outputs outputs = model.process(inputFeature);\r\n        TensorBuffer outputFeature0 = outputs.getOutputFeature0AsTensorBuffer();\r\n\r\n        float[] confidences = outputFeature0.getFloatArray();\r\n        int maxPos = 0;\r\n        float maxConfidence = 0;\r\n        for (int i = 0; i &lt; confidences.length; i++) {\r\n            if (confidences[i] &gt; maxConfidence) {\r\n                maxConfidence = confidences[i];\r\n                maxPos = i;\r\n            }\r\n        }\r\n\r\n        String[] classes = {&quot;Watermelon Healthy&quot;, &quot;Watermelon Blossom End Rot&quot;, &quot;Watermelon Anthracnose&quot;,\r\n                &quot;Mango Healthy&quot;, &quot;Mango Bacterial Canker&quot;, &quot;Mango Anthracnose&quot;,\r\n                &quot;Orange Scab&quot;, &quot;Orange Healthy&quot;,\r\n                &quot;Orange Bacterial Citrus Canker&quot;, &quot;Banana Healthy&quot;, &quot;Banana Crown Rot&quot;,\r\n                &quot;Banana Anthracnose&quot;, &quot;Apple Scab&quot;, &quot;Apple Healthy&quot;, &quot;Apple Black Rot Canker&quot;};\r\n\r\n        result.setText(classes[maxPos]);\r\n        String s = &quot;&quot;;\r\n        int i;\r\n        for (i = 0; i &lt; classes.length; i++) {\r\n            s += String.format(&quot;%s: %.1f%%\\n&quot;, classes[i], confidences[i] * 100);\r\n            confidence.setText(s);\r\n            confidence.setVisibility(View.VISIBLE);\r\n        }\r\n```","title":"Custom objects classifier always returns one of classes even if the picture belongs to none of them","body":"<p>My fruit detection app shows fruit results even though the user uploads a picture that is not a fruit. Is it possible to display a &quot;no plant detected&quot; message?</p>\n<p>My code:</p>\n<pre><code>private void classifyImage(Bitmap image) {\n    try {\n        FruitDisease model = FruitDisease.newInstance(getApplicationContext());\n\n        TensorBuffer inputFeature = TensorBuffer.createFixedSize(new int[]{1, 224, 224, 3}, DataType.FLOAT32);\n        ByteBuffer byteBuffer = ByteBuffer.allocateDirect(4 * imageSize * imageSize * 3);\n        byteBuffer.order(ByteOrder.nativeOrder());\n\n        int[] intValue = new int[imageSize * imageSize];\n        image.getPixels(intValue, 0, image.getWidth(), 0, 0, image.getWidth(), image.getHeight());\n\n        int pixel = 0;\n        for (int i = 0; i &lt; imageSize; i++) {\n            for (int j = 0; j &lt; imageSize; j++) {\n                int val = intValue[pixel++];\n                byteBuffer.putFloat(((val &gt;&gt; 16) &amp; 0xFF) * (1.f / 255.f));\n                byteBuffer.putFloat(((val &gt;&gt; 8) &amp; 0xFF) * (1.f / 255.f));\n                byteBuffer.putFloat((val &amp; 0xFF) * (1.f / 255.f));\n            }\n        }\n        inputFeature.loadBuffer(byteBuffer);\n\n        FruitDisease.Outputs outputs = model.process(inputFeature);\n        TensorBuffer outputFeature0 = outputs.getOutputFeature0AsTensorBuffer();\n\n        float[] confidences = outputFeature0.getFloatArray();\n        int maxPos = 0;\n        float maxConfidence = 0;\n        for (int i = 0; i &lt; confidences.length; i++) {\n            if (confidences[i] &gt; maxConfidence) {\n                maxConfidence = confidences[i];\n                maxPos = i;\n            }\n        }\n\n        String[] classes = {&quot;Watermelon Healthy&quot;, &quot;Watermelon Blossom End Rot&quot;, &quot;Watermelon Anthracnose&quot;,\n                &quot;Mango Healthy&quot;, &quot;Mango Bacterial Canker&quot;, &quot;Mango Anthracnose&quot;,\n                &quot;Orange Scab&quot;, &quot;Orange Healthy&quot;,\n                &quot;Orange Bacterial Citrus Canker&quot;, &quot;Banana Healthy&quot;, &quot;Banana Crown Rot&quot;,\n                &quot;Banana Anthracnose&quot;, &quot;Apple Scab&quot;, &quot;Apple Healthy&quot;, &quot;Apple Black Rot Canker&quot;};\n\n        result.setText(classes[maxPos]);\n        String s = &quot;&quot;;\n        int i;\n        for (i = 0; i &lt; classes.length; i++) {\n            s += String.format(&quot;%s: %.1f%%\\n&quot;, classes[i], confidences[i] * 100);\n            confidence.setText(s);\n            confidence.setVisibility(View.VISIBLE);\n        }\n</code></pre>\n"},{"tags":["java","android","exoplayer"],"answers":[{"tags":[],"owner":{"account_id":4716677,"reputation":580,"user_id":3815660,"display_name":"Yurii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670854340,"creation_date":1670854340,"answer_id":74772383,"question_id":74768095,"body_markdown":"maybe this code will helps you:\r\n\r\n```\r\nprivate HttpDataSource.Factory buildHttpDataSourceFactory() {\r\n        Map&lt;String, String&gt; settings = new HashMap();\r\n        settings.put(&quot;Referer&quot;, &quot;my_referer_value&quot;);\r\n        return new DefaultHttpDataSource.Factory()\r\n                .setUserAgent(Util.getUserAgent(getContext(), &quot;your agent&quot;))\r\n                .setDefaultRequestProperties(settings)\r\n                .setAllowCrossProtocolRedirects(true);\r\n    }\r\n```","title":"Add referer header in Exoplayer2 Android","body":"<p>maybe this code will helps you:</p>\n<pre><code>private HttpDataSource.Factory buildHttpDataSourceFactory() {\n        Map&lt;String, String&gt; settings = new HashMap();\n        settings.put(&quot;Referer&quot;, &quot;my_referer_value&quot;);\n        return new DefaultHttpDataSource.Factory()\n                .setUserAgent(Util.getUserAgent(getContext(), &quot;your agent&quot;))\n                .setDefaultRequestProperties(settings)\n                .setAllowCrossProtocolRedirects(true);\n    }\n</code></pre>\n"}],"owner":{"account_id":27226208,"reputation":1,"user_id":20754680,"display_name":"Kikay Jaya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":426,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670854340,"creation_date":1670831663,"question_id":74768095,"body_markdown":"I need s small change in my exoplayer app to play m3u8 url with referer. Since i  new in java programming, i still confused how to add the header. Here is part of my code . Thanks in advance\r\n\r\n```\r\n private DataSource.Factory buildDataSourceFactory(boolean useBandwidthMeter) {\r\n        return buildDataSourceFactory(useBandwidthMeter ? BANDWIDTH_METER : null);\r\n    }\r\n\r\n    public DataSource.Factory buildDataSourceFactory(DefaultBandwidthMeter bandwidthMeter) {\r\n        return new DefaultDataSourceFactory(requireActivity(), bandwidthMeter,\r\n                buildHttpDataSourceFactory(bandwidthMeter));\r\n    }\r\n\r\n    public HttpDataSource.Factory buildHttpDataSourceFactory(DefaultBandwidthMeter bandwidthMeter) {\r\n        return new DefaultHttpDataSourceFactory(isUserAgent ? userAgentName : Util.getUserAgent(requireActivity(), &quot;ExoPlayerDemo&quot;), bandwidthMeter);\r\n\r\n    }\r\n\r\n\r\n```\r\n\r\n\r\nI have tried this but give some red line error\r\n\r\n\r\n```\r\n\r\n    public HttpDataSource.Factory buildHttpDataSourceFactory(DefaultBandwidthMeter bandwidthMeter) {\r\n        return new DefaultHttpDataSourceFactory(isUserAgent ? userAgentName : Util.getUserAgent(requireActivity(), &quot;ExoPlayerDemo&quot;), bandwidthMeter).getDefaultRequestProperties().set(&quot;referer&quot;,&quot;myrefererer&quot;);\r\n\r\n    }\r\n```\r\n","title":"Add referer header in Exoplayer2 Android","body":"<p>I need s small change in my exoplayer app to play m3u8 url with referer. Since i  new in java programming, i still confused how to add the header. Here is part of my code . Thanks in advance</p>\n<pre><code> private DataSource.Factory buildDataSourceFactory(boolean useBandwidthMeter) {\n        return buildDataSourceFactory(useBandwidthMeter ? BANDWIDTH_METER : null);\n    }\n\n    public DataSource.Factory buildDataSourceFactory(DefaultBandwidthMeter bandwidthMeter) {\n        return new DefaultDataSourceFactory(requireActivity(), bandwidthMeter,\n                buildHttpDataSourceFactory(bandwidthMeter));\n    }\n\n    public HttpDataSource.Factory buildHttpDataSourceFactory(DefaultBandwidthMeter bandwidthMeter) {\n        return new DefaultHttpDataSourceFactory(isUserAgent ? userAgentName : Util.getUserAgent(requireActivity(), &quot;ExoPlayerDemo&quot;), bandwidthMeter);\n\n    }\n\n\n</code></pre>\n<p>I have tried this but give some red line error</p>\n<pre><code>\n    public HttpDataSource.Factory buildHttpDataSourceFactory(DefaultBandwidthMeter bandwidthMeter) {\n        return new DefaultHttpDataSourceFactory(isUserAgent ? userAgentName : Util.getUserAgent(requireActivity(), &quot;ExoPlayerDemo&quot;), bandwidthMeter).getDefaultRequestProperties().set(&quot;referer&quot;,&quot;myrefererer&quot;);\n\n    }\n</code></pre>\n"},{"tags":["java","jpa","one-to-many","many-to-one"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1670794404,"post_id":74764576,"comment_id":131950371,"body_markdown":"So you are saying that it is possible for a category to NOT have a supplier?   OK then, just remove the @NotNull (and also remove the “NOT NULL” from the database column).","body":"So you are saying that it is possible for a category to NOT have a supplier?   OK then, just remove the @NotNull (and also remove the “NOT NULL” from the database column)."},{"owner":{"account_id":26783736,"reputation":71,"user_id":20378222,"display_name":"F&#225;bio Pires"},"score":0,"creation_date":1670794882,"post_id":74764576,"comment_id":131950459,"body_markdown":"Can I also remove the class variable suppplier?","body":"Can I also remove the class variable suppplier?"},{"owner":{"account_id":26783736,"reputation":71,"user_id":20378222,"display_name":"F&#225;bio Pires"},"score":0,"creation_date":1670794928,"post_id":74764576,"comment_id":131950464,"body_markdown":"I have a form to create a new Category and in that form I don&#39;t want to have a field for the Supplier","body":"I have a form to create a new Category and in that form I don&#39;t want to have a field for the Supplier"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1670795349,"post_id":74764576,"comment_id":131950554,"body_markdown":"Once you remove the @NotNull, then there is no reason for it to be populated (and therefore it is OK for it to not appear on a form).","body":"Once you remove the @NotNull, then there is no reason for it to be populated (and therefore it is OK for it to not appear on a form)."},{"owner":{"account_id":26783736,"reputation":71,"user_id":20378222,"display_name":"F&#225;bio Pires"},"score":0,"creation_date":1670796042,"post_id":74764576,"comment_id":131950671,"body_markdown":"But since I don&#39;t want that my Category table to have a supplier column isn&#39;t it better to remove the  class variable?","body":"But since I don&#39;t want that my Category table to have a supplier column isn&#39;t it better to remove the  class variable?"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1670797611,"post_id":74764576,"comment_id":131950925,"body_markdown":"Is it valid for a category to ever have a supplier ?  If so, then category should have a supplier column.  If not, then why did you have a supplier column there in the first place?","body":"Is it valid for a category to ever have a supplier ?  If so, then category should have a supplier column.  If not, then why did you have a supplier column there in the first place?"},{"owner":{"account_id":26783736,"reputation":71,"user_id":20378222,"display_name":"F&#225;bio Pires"},"score":0,"creation_date":1670797928,"post_id":74764576,"comment_id":131950984,"body_markdown":"I added the supplier column because I fought it was mandatory because of @OneToMany tag in Supplier.java","body":"I added the supplier column because I fought it was mandatory because of @OneToMany tag in Supplier.java"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1670798278,"post_id":74764576,"comment_id":131951053,"body_markdown":"Ah, so sounds like you aree actually after a ManyToMany relationship - basically a separate table connecting suppliers to categories.  Of course, this implicitly allows each category to have multiple suppliers, so your application will have to restrict that if that’s not what you want. Implement that either by the @ManyToMany annotation, or create the joining “SupplierCatwgories” table+class yourself (that has ManyToOne to both  Supplier and Category)","body":"Ah, so sounds like you aree actually after a ManyToMany relationship - basically a separate table connecting suppliers to categories.  Of course, this implicitly allows each category to have multiple suppliers, so your application will have to restrict that if that’s not what you want. Implement that either by the @ManyToMany annotation, or create the joining “SupplierCatwgories” table+class yourself (that has ManyToOne to both  Supplier and Category)"},{"owner":{"account_id":26783736,"reputation":71,"user_id":20378222,"display_name":"F&#225;bio Pires"},"score":0,"creation_date":1670799254,"post_id":74764576,"comment_id":131951211,"body_markdown":"can you show an example?","body":"can you show an example?"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1670800572,"post_id":74764576,"comment_id":131951435,"body_markdown":"Something like https://stackoverflow.com/a/72106024/681444","body":"Something like <a href=\"https://stackoverflow.com/a/72106024/681444\">stackoverflow.com/a/72106024/681444</a>"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1670867417,"post_id":74764576,"comment_id":131967708,"body_markdown":"OneToMany can use a join table too, see https://en.wikibooks.org/wiki/Java_Persistence/OneToMany#Example_of_a_OneToMany_using_a_JoinTable_database . Your provider then can put in the constraints on the join table to enforce uniqueness so that one category only has one supplier if that is required. Otherwise, it is the same as a ManyToMany","body":"OneToMany can use a join table too, see <a href=\"https://en.wikibooks.org/wiki/Java_Persistence/OneToMany#Example_of_a_OneToMany_using_a_JoinTable_database\" rel=\"nofollow noreferrer\">en.wikibooks.org/wiki/Java_Persistence/&hellip;</a> . Your provider then can put in the constraints on the join table to enforce uniqueness so that one category only has one supplier if that is required. Otherwise, it is the same as a ManyToMany"}],"owner":{"account_id":26783736,"reputation":71,"user_id":20378222,"display_name":"F&#225;bio Pires"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670853719,"creation_date":1670793280,"question_id":74764576,"body_markdown":"I am developing an application with JPA and I came across a small problem.\r\n\r\nI have this two entities Category and Supplier.\r\n\r\nA Supplier must have at least one category so I used the @OneToMany tag.\r\n\r\n```\r\n@Entity\r\npublic class Supplier extends AbstractEntity {\r\n    @NotEmpty\r\n    private String name;\r\n    @NotEmpty\r\n    private String address;\r\n\r\n   @OneToMany(mappedBy = &quot;supplier&quot;)\r\n   private List&lt;Category&gt; categories = new LinkedList&lt;&gt;();\r\n\r\n\r\n    public String getName() {\r\n        return this.name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getAddress() {\r\n        return this.address;\r\n    }\r\n\r\n    public void setAddress(String address) {\r\n        this.address = address;\r\n    }\r\n\r\n\r\n   public List&lt;Category&gt; getCategories() {\r\n        return categories;\r\n    }\r\n\r\n    public void setCategories(List&lt;Category&gt; categories) {\r\n        this.categories = categories;\r\n    }\r\n\r\n    //TO DO : Add verification to ensure that a Supplier has at least a supplied category\r\n    //TO DO : add a method do add a category to supplied categories\r\n}\r\n```\r\nOn the other end since I used the @OneToMany tag in the Supplier entity I ended up using the @ManyToOne tag in Category entity.\r\n\r\n```\r\n@Entity\r\npublic class Category extends AbstractEntity{\r\n    @NotBlank\r\n    private String description;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;supplier_id&quot;)\r\n    @NotNull\r\n    @JsonIgnoreProperties({&quot;categories&quot;})\r\n    private Supplier supplier;\r\n\r\n    public String getDescription() {\r\n        return this.description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n}\r\n```\r\nBut this creates a little problem.\r\n\r\nAnytime that I want to create a new Category I need to provide a Supplier to it, which is not the intended behavior.\r\n\r\n\r\n\r\nHow can I get around this? Can I remove the @ManyToOne tag in Category?","title":"JPA - Does @OneToMany demand @ManyToOne?","body":"<p>I am developing an application with JPA and I came across a small problem.</p>\n<p>I have this two entities Category and Supplier.</p>\n<p>A Supplier must have at least one category so I used the @OneToMany tag.</p>\n<pre><code>@Entity\npublic class Supplier extends AbstractEntity {\n    @NotEmpty\n    private String name;\n    @NotEmpty\n    private String address;\n\n   @OneToMany(mappedBy = &quot;supplier&quot;)\n   private List&lt;Category&gt; categories = new LinkedList&lt;&gt;();\n\n\n    public String getName() {\n        return this.name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getAddress() {\n        return this.address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n\n   public List&lt;Category&gt; getCategories() {\n        return categories;\n    }\n\n    public void setCategories(List&lt;Category&gt; categories) {\n        this.categories = categories;\n    }\n\n    //TO DO : Add verification to ensure that a Supplier has at least a supplied category\n    //TO DO : add a method do add a category to supplied categories\n}\n</code></pre>\n<p>On the other end since I used the @OneToMany tag in the Supplier entity I ended up using the @ManyToOne tag in Category entity.</p>\n<pre><code>@Entity\npublic class Category extends AbstractEntity{\n    @NotBlank\n    private String description;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;supplier_id&quot;)\n    @NotNull\n    @JsonIgnoreProperties({&quot;categories&quot;})\n    private Supplier supplier;\n\n    public String getDescription() {\n        return this.description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n}\n</code></pre>\n<p>But this creates a little problem.</p>\n<p>Anytime that I want to create a new Category I need to provide a Supplier to it, which is not the intended behavior.</p>\n<p>How can I get around this? Can I remove the @ManyToOne tag in Category?</p>\n"},{"tags":["java","react-native","variables"],"owner":{"account_id":22754117,"reputation":135,"user_id":16913824,"display_name":"VictoriaStudios"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670853585,"creation_date":1670853585,"question_id":74772209,"body_markdown":"I&#39;m trying to run\r\n\r\n    npx react-native run-android\r\n\r\nI used to have a wrong version of Java installed, but this was now rectified to JDK11. I however, I still get the following error:\r\n\r\n    The supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Java\\jdk-19\\bin\\java.exe\r\n\r\nI don&#39;t understand why it keeps going to an old, uninstalled path. I already installed JDK11 and changed my variables:\r\n\r\n    echo %JAVA_HOME%\r\n    C:\\Program Files\\Eclipse Adoptium\\jdk-11.0.17.8-hotspot\r\n\r\nIs there anything else I have to do in order for the script to see the new JDK location?","title":"Why is Java_Home not updating for react-native?","body":"<p>I'm trying to run</p>\n<pre><code>npx react-native run-android\n</code></pre>\n<p>I used to have a wrong version of Java installed, but this was now rectified to JDK11. I however, I still get the following error:</p>\n<pre><code>The supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Java\\jdk-19\\bin\\java.exe\n</code></pre>\n<p>I don't understand why it keeps going to an old, uninstalled path. I already installed JDK11 and changed my variables:</p>\n<pre><code>echo %JAVA_HOME%\nC:\\Program Files\\Eclipse Adoptium\\jdk-11.0.17.8-hotspot\n</code></pre>\n<p>Is there anything else I have to do in order for the script to see the new JDK location?</p>\n"},{"tags":["java","spring-boot","spring-security","saml","getvalue"],"owner":{"account_id":27229236,"reputation":1,"user_id":20757234,"display_name":"Gustavo Rutiquewiski EY"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670853440,"creation_date":1670853293,"question_id":74772156,"body_markdown":"I&#39;m trying to implement SAML SSO on my project but there&#39;s a weird problem, the method getValue() is not working, it just says &quot;Cannot resolve method &#39;getValue()&#39;&quot;. Right on credential.getNameID().getValue() the getValue gets red and it shows that message, I&#39;ve searched everywhere but found no answer\r\n\r\n`\r\n```\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.security.saml.SAMLCredential;\r\nimport org.springframework.security.saml.userdetails.SAMLUserDetailsService;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@Service\r\npublic class SAMLUserDetailsServiceImpl implements SAMLUserDetailsService {\r\n\r\n    // Logger\r\n    private static final Logger LOG = LoggerFactory.getLogger(SAMLUserDetailsServiceImpl.class);\r\n\r\n    public Object loadUserBySAML(SAMLCredential credential)\r\n            throws UsernameNotFoundException {\r\n\r\n        // The method is supposed to identify local account of user referenced by\r\n        // data in the SAML assertion and return UserDetails object describing the user.\r\n\r\n        //PROBLEM RIGHT HERE\r\n        String userID = credential.getNameID().getValue();\r\n\r\n        LOG.info(userID + &quot; is logged in&quot;);\r\n        List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;GrantedAuthority&gt;();\r\n        GrantedAuthority authority = new SimpleGrantedAuthority(&quot;ROLE_USER&quot;);\r\n        authorities.add(authority);\r\n\r\n        // In a real scenario, this implementation has to locate user in a arbitrary\r\n        // dataStore based on information present in the SAMLCredential and\r\n        // returns such a date in a form of application specific UserDetails object.\r\n        return new User(userID, &quot;&lt;abc123&gt;&quot;, true, true, true, true, authorities);\r\n    }\r\n\r\n}\r\n```\r\n`\r\n\r\nThere&#39;s no much to try","title":"getValue not working on SAMLUserDetailsServiceImpl","body":"<p>I'm trying to implement SAML SSO on my project but there's a weird problem, the method getValue() is not working, it just says &quot;Cannot resolve method 'getValue()'&quot;. Right on credential.getNameID().getValue() the getValue gets red and it shows that message, I've searched everywhere but found no answer</p>\n<p>`</p>\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.security.saml.SAMLCredential;\nimport org.springframework.security.saml.userdetails.SAMLUserDetailsService;\nimport org.springframework.stereotype.Service;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Service\npublic class SAMLUserDetailsServiceImpl implements SAMLUserDetailsService {\n\n    // Logger\n    private static final Logger LOG = LoggerFactory.getLogger(SAMLUserDetailsServiceImpl.class);\n\n    public Object loadUserBySAML(SAMLCredential credential)\n            throws UsernameNotFoundException {\n\n        // The method is supposed to identify local account of user referenced by\n        // data in the SAML assertion and return UserDetails object describing the user.\n\n        //PROBLEM RIGHT HERE\n        String userID = credential.getNameID().getValue();\n\n        LOG.info(userID + &quot; is logged in&quot;);\n        List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;GrantedAuthority&gt;();\n        GrantedAuthority authority = new SimpleGrantedAuthority(&quot;ROLE_USER&quot;);\n        authorities.add(authority);\n\n        // In a real scenario, this implementation has to locate user in a arbitrary\n        // dataStore based on information present in the SAMLCredential and\n        // returns such a date in a form of application specific UserDetails object.\n        return new User(userID, &quot;&lt;abc123&gt;&quot;, true, true, true, true, authorities);\n    }\n\n}\n</code></pre>\n<p>`</p>\n<p>There's no much to try</p>\n"},{"tags":["java","selenium","selenium-webdriver","while-loop"],"owner":{"account_id":26379924,"reputation":13,"user_id":20033328,"display_name":"nDrew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670853346,"creation_date":1670853264,"question_id":74772145,"body_markdown":"I would like to page through a table until the last page, then click on the last row. I tried with a try/catch block, but it waits too long time for clicking the last row. It does not find the next-button on the last page, so the &quot;catch&quot; works.\r\n\r\nI would like to find a better solution, which first paginates through until the last page is found, then immediately click on its last element.\r\n\r\n    while (true) {\r\n        try {\r\n            nextButton.click();\r\n        } catch (Exception e) {\r\n            clickLastRow();\r\n            break;\r\n        }\r\n    }\r\n\r\n","title":"get last row in multi-page table","body":"<p>I would like to page through a table until the last page, then click on the last row. I tried with a try/catch block, but it waits too long time for clicking the last row. It does not find the next-button on the last page, so the &quot;catch&quot; works.</p>\n<p>I would like to find a better solution, which first paginates through until the last page is found, then immediately click on its last element.</p>\n<pre><code>while (true) {\n    try {\n        nextButton.click();\n    } catch (Exception e) {\n        clickLastRow();\n        break;\n    }\n}\n</code></pre>\n"},{"tags":["java","jvm","inlining"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":3,"creation_date":1556625899,"post_id":55920520,"comment_id":98494789,"body_markdown":"It doesn&#39;t looks like you have any luck without some run-time code generation.","body":"It doesn&#39;t looks like you have any luck without some run-time code generation."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1556626276,"post_id":55920520,"comment_id":98495010,"body_markdown":"There is a fundamental misconception. Nothing in the specification guarantees that. The specification *allows* to produce the same implementation class, but in fact, it explicitly says that the same lambda expression *may* result in different implementation classes.","body":"There is a fundamental misconception. Nothing in the specification guarantees that. The specification <i>allows</i> to produce the same implementation class, but in fact, it explicitly says that the same lambda expression <i>may</i> result in different implementation classes."},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1556626352,"post_id":55920520,"comment_id":98495043,"body_markdown":"I doubt it will help  `BiConsumer` still remain mega-morphic.","body":"I doubt it will help  <code>BiConsumer</code> still remain mega-morphic."},{"owner":{"account_id":6357629,"reputation":1740,"user_id":4934324,"accept_rate":50,"display_name":"roookeee"},"score":0,"creation_date":1556626498,"post_id":55920520,"comment_id":98495121,"body_markdown":"@Holger I was under the impression section 15.27.4 is guaranteeing this as it says:\n\n`Objects produced by different lambda expressions need not belong to different classes (if the bodies are identical, for example).`\n\nhttps://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.27.4","body":"@Holger I was under the impression section 15.27.4 is guaranteeing this as it says:  <code>Objects produced by different lambda expressions need not belong to different classes (if the bodies are identical, for example).</code>  <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.27.4\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se8/html/&hellip;</a>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1556626743,"post_id":55920520,"comment_id":98495259,"body_markdown":"“*Objects produced by different lambda expressions need not belong to different classes*” says that it is allowed for different lambda expression to result in the same class (which does not happen in the reference implementation today). Right the next point says “*Every object produced by evaluation need not belong to the same class (captured local variables might be inlined, for example).*” which is exactly about your scenario. The same lambda expression *may* get evaluated to instances of different classes (which also does not happen in the reference implementation today).","body":"“<i>Objects produced by different lambda expressions need not belong to different classes</i>” says that it is allowed for different lambda expression to result in the same class (which does not happen in the reference implementation today). Right the next point says “<i>Every object produced by evaluation need not belong to the same class (captured local variables might be inlined, for example).</i>” which is exactly about your scenario. The same lambda expression <i>may</i> get evaluated to instances of different classes (which also does not happen in the reference implementation today)."},{"owner":{"account_id":6357629,"reputation":1740,"user_id":4934324,"accept_rate":50,"display_name":"roookeee"},"score":0,"creation_date":1556626889,"post_id":55920520,"comment_id":98495338,"body_markdown":"I see, thanks for clarifying. Though I still need to find a workaround for the current implementation :)","body":"I see, thanks for clarifying. Though I still need to find a workaround for the current implementation :)"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1556627086,"post_id":55920520,"comment_id":98495452,"body_markdown":"@talex each `BiFunction` instance captures exactly one `BiConsumer` instance, always ending up at the same implementation. If you generate a distinct class for every `BiFunction` instance, it would be a perfect monomorphic behavior. But I don’t think that this should be necessary, as the JVM may inline the function code through more than one invocation level into different specialized versions. The key point is the captured `BiConsumer` instance here. Perhaps, specifying `-XX:+TrustFinalNonStaticFields` can make a difference here.","body":"@talex each <code>BiFunction</code> instance captures exactly one <code>BiConsumer</code> instance, always ending up at the same implementation. If you generate a distinct class for every <code>BiFunction</code> instance, it would be a perfect monomorphic behavior. But I don’t think that this should be necessary, as the JVM may inline the function code through more than one invocation level into different specialized versions. The key point is the captured <code>BiConsumer</code> instance here. Perhaps, specifying <code>-XX:+TrustFinalNonStaticFields</code> can make a difference here."},{"owner":{"account_id":6357629,"reputation":1740,"user_id":4934324,"accept_rate":50,"display_name":"roookeee"},"score":0,"creation_date":1556628513,"post_id":55920520,"comment_id":98496244,"body_markdown":"I added `-XX:+TrustFinalNonStaticFields` to my JMH benchmark and it did not make any difference what so ever","body":"I added <code>-XX:+TrustFinalNonStaticFields</code> to my JMH benchmark and it did not make any difference what so ever"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1556628877,"post_id":55920520,"comment_id":98496479,"body_markdown":"It would be helpful to know the precise setup, test code and Java version. For JDK&#160;8, raising `-XX:MaxInlineLevel=` (the default is `9`) may have a positive impact, especially with APIs like the Stream API where a lot of adaptation steps are made.","body":"It would be helpful to know the precise setup, test code and Java version. For JDK 8, raising <code>-XX:MaxInlineLevel=</code> (the default is <code>9</code>) may have a positive impact, especially with APIs like the Stream API where a lot of adaptation steps are made."},{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1556628880,"post_id":55920520,"comment_id":98496483,"body_markdown":"Do you want to generate a new class each time `weave` is called? You can&#39;t do this with a lambda expression, but you may simulate a creation of a new lambda manually with `MethodHandles` and `LambdaMetafactory`.","body":"Do you want to generate a new class each time <code>weave</code> is called? You can&#39;t do this with a lambda expression, but you may simulate a creation of a new lambda manually with <code>MethodHandles</code> and <code>LambdaMetafactory</code>."},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1556629526,"post_id":55920520,"comment_id":98496889,"body_markdown":"@Holger Even if you achieve desired effect you will have multiple implementation of `BiFunction` so JIT won&#39;t be able to inline them since you call them thru interface.","body":"@Holger Even if you achieve desired effect you will have multiple implementation of <code>BiFunction</code> so JIT won&#39;t be able to inline them since you call them thru interface."},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1556629570,"post_id":55920520,"comment_id":98496920,"body_markdown":"@apangin Are you sure that JIT is able to inline implementation generated by `LambdaMetafactory`?","body":"@apangin Are you sure that JIT is able to inline implementation generated by <code>LambdaMetafactory</code>?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1556630269,"post_id":55920520,"comment_id":98497310,"body_markdown":"@talex the JIT is better than that. If a particular caller always ends up at the same implementation, it may get optimized, even when other callers of the same interface method may end up at other implementations. The notion of “caller” depends on `-XX:MaxInlineLevel` here; it doesn’t have to be the direct caller. The implementation returned by `LambdaMetafactory` is not special in that regard, it’s just one level in a call chain.","body":"@talex the JIT is better than that. If a particular caller always ends up at the same implementation, it may get optimized, even when other callers of the same interface method may end up at other implementations. The notion of “caller” depends on <code>-XX:MaxInlineLevel</code> here; it doesn’t have to be the direct caller. The implementation returned by <code>LambdaMetafactory</code> is not special in that regard, it’s just one level in a call chain."},{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":1,"creation_date":1556638492,"post_id":55920520,"comment_id":98502279,"body_markdown":"@talex Yes, JIT is able to inline a method call, no matter how the class of this method is generated. Actually, static lambda expressions are instantiated using the very same `LambdaMetafactory`.","body":"@talex Yes, JIT is able to inline a method call, no matter how the class of this method is generated. Actually, static lambda expressions are instantiated using the very same <code>LambdaMetafactory</code>."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1556630904,"creation_date":1556630904,"answer_id":55922000,"question_id":55920520,"body_markdown":"In the current implementation, the caching of generated classes (or even instances for the non capturing lambda expressions), is a property of the [`invokedynamic`][indy] instruction which will reuse the result of the bootstrapping done on the first execution.\r\n\r\nThe bootstrap method itself, hosted in the [`LambdaMetafactory`][LMF] class will generate a new class each time it is invoked. So when you use this factory directly, you’ll get a new class on each invocation, under the current implementation.\r\n\r\n    public &lt;In, Out, A&gt; BiFunction&lt;In, Out, Out&gt; weave(\r\n         Function&lt;? super In, A&gt; getter,\r\n         BiConsumer&lt;? super Out, ? super A&gt; consumer) {\r\n\r\n        MethodHandles.Lookup l = MethodHandles.lookup();\r\n        try {\r\n            MethodHandle target = l.findStatic(l.lookupClass(), &quot;weaveLambdaBody&quot;,\r\n                MethodType.methodType(Object.class, Function.class, BiConsumer.class,\r\n                    Object.class, Object.class));\r\n            MethodType t = target.type().dropParameterTypes(0, 2);\r\n            return (BiFunction&lt;In, Out, Out&gt;)LambdaMetafactory.metafactory(l, &quot;apply&quot;,\r\n                target.type().dropParameterTypes(2, 4).changeReturnType(BiFunction.class),\r\n                t, target, t) .getTarget().invokeExact(getter, consumer);\r\n        }\r\n        catch(RuntimeException | Error e) {\r\n            throw e;\r\n        }\r\n        catch(Throwable t) {\r\n            throw new IllegalStateException(t);\r\n        }\r\n    }\r\n    private static &lt;In, Out, A&gt; Out weaveLambdaBody(\r\n        Function&lt;? super In, A&gt; getter,\r\n        BiConsumer&lt;? super Out, ? super A&gt; consumer,\r\n        In in, Out out) {\r\n\r\n        consumer.accept(out, getter.apply(in));\r\n        return out;\r\n    }\r\nFirst, you have to desugar the lambda body into a method. The captured values come first in its parameter list, followed by the parameters of the functional interface type. The [`LambdaMetafactory`][LMF] has an exhaustive documentation about its usage.\r\n\r\nWhile I kept the type parameters for documentation purposes, it should be clear that you lose the compile-time safety here, with such an operation.\r\n\r\n[indy]: https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-6.html#jvms-6.5.invokedynamic\r\n[LMF]: https://docs.oracle.com/javase/8/docs/api/?java/lang/invoke/LambdaMetafactory.html\r\n","title":"How to force a new instantiation of a lambda-definition","body":"<p>In the current implementation, the caching of generated classes (or even instances for the non capturing lambda expressions), is a property of the <a href=\"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-6.html#jvms-6.5.invokedynamic\" rel=\"nofollow noreferrer\"><code>invokedynamic</code></a> instruction which will reuse the result of the bootstrapping done on the first execution.</p>\n\n<p>The bootstrap method itself, hosted in the <a href=\"https://docs.oracle.com/javase/8/docs/api/?java/lang/invoke/LambdaMetafactory.html\" rel=\"nofollow noreferrer\"><code>LambdaMetafactory</code></a> class will generate a new class each time it is invoked. So when you use this factory directly, you’ll get a new class on each invocation, under the current implementation.</p>\n\n<pre><code>public &lt;In, Out, A&gt; BiFunction&lt;In, Out, Out&gt; weave(\n     Function&lt;? super In, A&gt; getter,\n     BiConsumer&lt;? super Out, ? super A&gt; consumer) {\n\n    MethodHandles.Lookup l = MethodHandles.lookup();\n    try {\n        MethodHandle target = l.findStatic(l.lookupClass(), \"weaveLambdaBody\",\n            MethodType.methodType(Object.class, Function.class, BiConsumer.class,\n                Object.class, Object.class));\n        MethodType t = target.type().dropParameterTypes(0, 2);\n        return (BiFunction&lt;In, Out, Out&gt;)LambdaMetafactory.metafactory(l, \"apply\",\n            target.type().dropParameterTypes(2, 4).changeReturnType(BiFunction.class),\n            t, target, t) .getTarget().invokeExact(getter, consumer);\n    }\n    catch(RuntimeException | Error e) {\n        throw e;\n    }\n    catch(Throwable t) {\n        throw new IllegalStateException(t);\n    }\n}\nprivate static &lt;In, Out, A&gt; Out weaveLambdaBody(\n    Function&lt;? super In, A&gt; getter,\n    BiConsumer&lt;? super Out, ? super A&gt; consumer,\n    In in, Out out) {\n\n    consumer.accept(out, getter.apply(in));\n    return out;\n}\n</code></pre>\n\n<p>First, you have to desugar the lambda body into a method. The captured values come first in its parameter list, followed by the parameters of the functional interface type. The <a href=\"https://docs.oracle.com/javase/8/docs/api/?java/lang/invoke/LambdaMetafactory.html\" rel=\"nofollow noreferrer\"><code>LambdaMetafactory</code></a> has an exhaustive documentation about its usage.</p>\n\n<p>While I kept the type parameters for documentation purposes, it should be clear that you lose the compile-time safety here, with such an operation.</p>\n"}],"owner":{"account_id":6357629,"reputation":1740,"user_id":4934324,"accept_rate":50,"display_name":"roookeee"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":55922000,"answer_count":1,"score":5,"last_activity_date":1670853256,"creation_date":1556625643,"question_id":55920520,"body_markdown":"The Java-Spec guarantees that a given lambda-definition, e.g. `() -&gt; &quot;Hello World&quot;`, is compiled/converted to exactly one implementation class (every definition, not every occurence that &quot;looks&quot; the same).\r\n\r\nIs there any way I can force the java-compiler/jvm to generate a new lambda-definition instead of sharing a common one? I am currently implementing a library that weaves multiple function parts into a BiFunction which suffers from mega-morphic call-sites because of the guarantees given by the java-spec (**EDIT: I stand corrected: the Java-Spec does not guarantee a single shared class - the current reference implementation does this though**):\r\n\r\n \r\n\r\n            public &lt;In, Out, A&gt; BiFunction&lt;In, Out, Out&gt; weave(\r\n                 Function&lt;? super In, A&gt; getter,\r\n                 BiConsumer&lt;? super Out, ? super A&gt; consumer\r\n            ) {\r\n                return (in, out) -&gt; {\r\n                    consumer.accept(out, getter.apply(in));\r\n                    return out;\r\n                };\r\n            }\r\n\r\nEvery lambda generated through this code shares the same lambda-definition and is thus mostly uninlineable / unoptimizeable.","title":"How to force a new instantiation of a lambda-definition","body":"<p>The Java-Spec guarantees that a given lambda-definition, e.g. <code>() -&gt; &quot;Hello World&quot;</code>, is compiled/converted to exactly one implementation class (every definition, not every occurence that &quot;looks&quot; the same).</p>\n<p>Is there any way I can force the java-compiler/jvm to generate a new lambda-definition instead of sharing a common one? I am currently implementing a library that weaves multiple function parts into a BiFunction which suffers from mega-morphic call-sites because of the guarantees given by the java-spec (<strong>EDIT: I stand corrected: the Java-Spec does not guarantee a single shared class - the current reference implementation does this though</strong>):</p>\n<pre><code>        public &lt;In, Out, A&gt; BiFunction&lt;In, Out, Out&gt; weave(\n             Function&lt;? super In, A&gt; getter,\n             BiConsumer&lt;? super Out, ? super A&gt; consumer\n        ) {\n            return (in, out) -&gt; {\n                consumer.accept(out, getter.apply(in));\n                return out;\n            };\n        }\n</code></pre>\n<p>Every lambda generated through this code shares the same lambda-definition and is thus mostly uninlineable / unoptimizeable.</p>\n"},{"tags":["java","maven"],"answers":[{"tags":[],"owner":{"account_id":1908192,"reputation":853,"user_id":1722628,"display_name":"Pierre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670853139,"creation_date":1670774833,"answer_id":74762363,"question_id":74762020,"body_markdown":"I found an answer reading the source code of Plexus Archiver at [AbstractArchiver.java][1]\r\n```\r\n&lt;plugin&gt;\r\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.4.2&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n                &lt;mainClass&gt;MyLittleLaucher&lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n        &lt;/archive&gt;\r\n        &lt;descriptorRefs&gt;\r\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n        &lt;/descriptorRefs&gt;\r\n        &lt;archiverConfig&gt;\r\n            &lt;duplicateBehavior&gt;add&lt;/duplicateBehavior&gt;\r\n        &lt;/archiverConfig&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nIt is important to use version 3.4.2 because the default version is buggy (2.2-beta5), and then you can use `&lt;duplicateBehavior&gt;add&lt;/duplicateBehavior&gt;` to force the files to overwrite. It now works perfectly.\r\n\r\n  [1]: https://github.com/sonatype/plexus-archiver/blob/b174ef5d935c94fe58da2b48913fde1f2b972a97/src/main/java/org/codehaus/plexus/archiver/AbstractArchiver.java","title":"Overriding java library classes with maven assembly plugin","body":"<p>I found an answer reading the source code of Plexus Archiver at <a href=\"https://github.com/sonatype/plexus-archiver/blob/b174ef5d935c94fe58da2b48913fde1f2b972a97/src/main/java/org/codehaus/plexus/archiver/AbstractArchiver.java\" rel=\"nofollow noreferrer\">AbstractArchiver.java</a></p>\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.4.2&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;archive&gt;\n            &lt;manifest&gt;\n                &lt;mainClass&gt;MyLittleLaucher&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n        &lt;/archive&gt;\n        &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n        &lt;/descriptorRefs&gt;\n        &lt;archiverConfig&gt;\n            &lt;duplicateBehavior&gt;add&lt;/duplicateBehavior&gt;\n        &lt;/archiverConfig&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>It is important to use version 3.4.2 because the default version is buggy (2.2-beta5), and then you can use <code>&lt;duplicateBehavior&gt;add&lt;/duplicateBehavior&gt;</code> to force the files to overwrite. It now works perfectly.</p>\n"}],"owner":{"account_id":1908192,"reputation":853,"user_id":1722628,"display_name":"Pierre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670853139,"creation_date":1670772072,"question_id":74762020,"body_markdown":"I&#39;m trying to extend an existing, closed-source product, by decompiling and rewriting some feature to fit my need (basically, a dark mode, to spare my eyes).\r\n\r\nIt works all fine when I launch from the IDE, because the IDE can make my own classes, with the same names and everything, override the ones in the jars I depend on with maven, probably by ordering the classpath correctly.\r\n\r\nNow I&#39;d like to make it self runnable to not have to use IntelliJ each time to launch my little hack, but the assembly:single maven task seems to refuse to add my classes over the exploded dependencies, with the following: `already added, skipping`.\r\n\r\nHow can I reverse this order, or allow overwriting, without having to decompile each and every class and ditch the original jar ?","title":"Overriding java library classes with maven assembly plugin","body":"<p>I'm trying to extend an existing, closed-source product, by decompiling and rewriting some feature to fit my need (basically, a dark mode, to spare my eyes).</p>\n<p>It works all fine when I launch from the IDE, because the IDE can make my own classes, with the same names and everything, override the ones in the jars I depend on with maven, probably by ordering the classpath correctly.</p>\n<p>Now I'd like to make it self runnable to not have to use IntelliJ each time to launch my little hack, but the assembly:single maven task seems to refuse to add my classes over the exploded dependencies, with the following: <code>already added, skipping</code>.</p>\n<p>How can I reverse this order, or allow overwriting, without having to decompile each and every class and ditch the original jar ?</p>\n"},{"tags":["java","xml","jackson","pojo","xmlmapper"],"owner":{"account_id":16906384,"reputation":1,"user_id":12226625,"display_name":"Keremenci"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670852936,"creation_date":1670852936,"question_id":74772078,"body_markdown":"I have to write a message handler that will process incoming XML messages and pass them on to another module as JSON representations. There are a relatively high of possible messages and I would rather use a single POJO for my purpose. Here is an example XML message.\r\n\r\n```\r\n&lt;Message name=&quot;GenericMsg&quot;&gt;\r\n    &lt;StartTime&gt;533798131&lt;/StartTime&gt; &lt;!-- Unix Timestamp --&gt;\r\n\r\n                .\r\n                .\r\n    &lt;!-- Some other fields --&gt;\r\n                .\r\n    &lt;NumberOfItems&gt;2&lt;/NumberOfItems&gt;\r\n    &lt;List&gt;\r\n        &lt;ListItem&gt;\r\n            &lt;Speed&gt;100&lt;/Speed&gt;\r\n            &lt;Location&gt;\r\n                &lt;lat&gt;38.165748&lt;/lat&gt;\r\n                &lt;lon&gt;37.125363&lt;/lon&gt;\r\n                &lt;alt&gt;800&lt;/alt&gt;\r\n            &lt;/Location&gt;\r\n        &lt;/ListItem&gt;\r\n        &lt;ListItem&gt;\r\n            &lt;Speed&gt;120&lt;/Speed&gt;\r\n            &lt;Location&gt;\r\n                &lt;lat&gt;39.123748&lt;/lat&gt;\r\n                &lt;lon&gt;41.312645&lt;/lon&gt;\r\n                &lt;alt&gt;850&lt;/alt&gt;\r\n            &lt;/Location&gt;\r\n        &lt;/ListItem&gt;\r\n    &lt;/List&gt;\r\n&lt;/Message&gt;\r\n```\r\nAnd my POJO\r\n\r\n```\r\npublic class MsgRepr {\r\n    private Map&lt;String, Object&gt; details = new LinkedHashMap&lt;&gt;();\r\n\r\n    public Object get(String key) {\r\n        return this.details.get(key);\r\n    }\r\n\r\n    @JsonAnyGetter\r\n    public Map&lt;String, Object&gt; getDetails() {\r\n        return this.details;\r\n    }\r\n    @JsonAnySetter\r\n    public void setDetails(String key, Object value) {\r\n        this.details.put(key,value);\r\n    }\r\n}\r\n```\r\n\r\n\r\nThis gets converted to the following JSON:\r\n\r\n```\r\n{\r\n  &quot;name&quot; : &quot;GenericMsg&quot;,\r\n  &quot;NumberOfItems&quot; : &quot;2&quot;,\r\n  &quot;StartTime&quot; : &quot;533798131&quot;\r\n  &quot;List&quot; : {\r\n    &quot;ListItem&quot; :\r\n    [\r\n      {\r\n        &quot;Speed&quot; : &quot;100&quot;,\r\n        &quot;Location&quot; : {\r\n          &quot;lat&quot; : &quot;38.165748&quot;,\r\n          &quot;lon&quot; : &quot;37.125363&quot;,\r\n          &quot;alt&quot; : &quot;800&quot;\r\n        }\r\n      },\r\n      {\r\n        &quot;Speed&quot; : &quot;150&quot;,\r\n        &quot;Location&quot; : {\r\n          &quot;lat&quot; : &quot;48.564866&quot;,\r\n          &quot;lon&quot; : &quot;35.18795&quot;,\r\n          &quot;alt&quot; : &quot;850&quot;\r\n        }\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nI tried the `defaultUseWrapper=false` option with no avail. Also, omitting the List/ListItem duality results in only the last element being present.\r\n\r\nI know that this can be done by writing a seperate POJO for each message, but I would rather avoid doing that. Is there an alternative XML representation or an alternative approach I can use to correctly convert the json to something similar to the following format?\r\n\r\n```\r\n{\r\n  &quot;name&quot; : &quot;GenericMsg&quot;,\r\n  &quot;NumberOfItems&quot; : &quot;2&quot;,\r\n  &quot;StartTime&quot; : &quot;533798131&quot;\r\n  &quot;List&quot; :\r\n  [\r\n    {\r\n      &quot;Speed&quot; : &quot;100&quot;,\r\n      &quot;Location&quot; : {\r\n        &quot;lat&quot; : &quot;38.165748&quot;,\r\n        &quot;lon&quot; : &quot;37.125363&quot;,\r\n        &quot;alt&quot; : &quot;800&quot;\r\n      }\r\n    },\r\n    {\r\n      &quot;Speed&quot; : &quot;150&quot;,\r\n      &quot;Location&quot; : {\r\n        &quot;lat&quot; : &quot;48.564866&quot;,\r\n        &quot;lon&quot; : &quot;35.18795&quot;,\r\n        &quot;alt&quot; : &quot;850&quot;\r\n      }\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nJackson version 2.13.0\r\n","title":"Jackson handling XML arrays with dynamic fields using the hashmap approach","body":"<p>I have to write a message handler that will process incoming XML messages and pass them on to another module as JSON representations. There are a relatively high of possible messages and I would rather use a single POJO for my purpose. Here is an example XML message.</p>\n<pre><code>&lt;Message name=&quot;GenericMsg&quot;&gt;\n    &lt;StartTime&gt;533798131&lt;/StartTime&gt; &lt;!-- Unix Timestamp --&gt;\n\n                .\n                .\n    &lt;!-- Some other fields --&gt;\n                .\n    &lt;NumberOfItems&gt;2&lt;/NumberOfItems&gt;\n    &lt;List&gt;\n        &lt;ListItem&gt;\n            &lt;Speed&gt;100&lt;/Speed&gt;\n            &lt;Location&gt;\n                &lt;lat&gt;38.165748&lt;/lat&gt;\n                &lt;lon&gt;37.125363&lt;/lon&gt;\n                &lt;alt&gt;800&lt;/alt&gt;\n            &lt;/Location&gt;\n        &lt;/ListItem&gt;\n        &lt;ListItem&gt;\n            &lt;Speed&gt;120&lt;/Speed&gt;\n            &lt;Location&gt;\n                &lt;lat&gt;39.123748&lt;/lat&gt;\n                &lt;lon&gt;41.312645&lt;/lon&gt;\n                &lt;alt&gt;850&lt;/alt&gt;\n            &lt;/Location&gt;\n        &lt;/ListItem&gt;\n    &lt;/List&gt;\n&lt;/Message&gt;\n</code></pre>\n<p>And my POJO</p>\n<pre><code>public class MsgRepr {\n    private Map&lt;String, Object&gt; details = new LinkedHashMap&lt;&gt;();\n\n    public Object get(String key) {\n        return this.details.get(key);\n    }\n\n    @JsonAnyGetter\n    public Map&lt;String, Object&gt; getDetails() {\n        return this.details;\n    }\n    @JsonAnySetter\n    public void setDetails(String key, Object value) {\n        this.details.put(key,value);\n    }\n}\n</code></pre>\n<p>This gets converted to the following JSON:</p>\n<pre><code>{\n  &quot;name&quot; : &quot;GenericMsg&quot;,\n  &quot;NumberOfItems&quot; : &quot;2&quot;,\n  &quot;StartTime&quot; : &quot;533798131&quot;\n  &quot;List&quot; : {\n    &quot;ListItem&quot; :\n    [\n      {\n        &quot;Speed&quot; : &quot;100&quot;,\n        &quot;Location&quot; : {\n          &quot;lat&quot; : &quot;38.165748&quot;,\n          &quot;lon&quot; : &quot;37.125363&quot;,\n          &quot;alt&quot; : &quot;800&quot;\n        }\n      },\n      {\n        &quot;Speed&quot; : &quot;150&quot;,\n        &quot;Location&quot; : {\n          &quot;lat&quot; : &quot;48.564866&quot;,\n          &quot;lon&quot; : &quot;35.18795&quot;,\n          &quot;alt&quot; : &quot;850&quot;\n        }\n      }\n    ]\n  }\n}\n</code></pre>\n<p>I tried the <code>defaultUseWrapper=false</code> option with no avail. Also, omitting the List/ListItem duality results in only the last element being present.</p>\n<p>I know that this can be done by writing a seperate POJO for each message, but I would rather avoid doing that. Is there an alternative XML representation or an alternative approach I can use to correctly convert the json to something similar to the following format?</p>\n<pre><code>{\n  &quot;name&quot; : &quot;GenericMsg&quot;,\n  &quot;NumberOfItems&quot; : &quot;2&quot;,\n  &quot;StartTime&quot; : &quot;533798131&quot;\n  &quot;List&quot; :\n  [\n    {\n      &quot;Speed&quot; : &quot;100&quot;,\n      &quot;Location&quot; : {\n        &quot;lat&quot; : &quot;38.165748&quot;,\n        &quot;lon&quot; : &quot;37.125363&quot;,\n        &quot;alt&quot; : &quot;800&quot;\n      }\n    },\n    {\n      &quot;Speed&quot; : &quot;150&quot;,\n      &quot;Location&quot; : {\n        &quot;lat&quot; : &quot;48.564866&quot;,\n        &quot;lon&quot; : &quot;35.18795&quot;,\n        &quot;alt&quot; : &quot;850&quot;\n      }\n    }\n  ]\n}\n</code></pre>\n<p>Jackson version 2.13.0</p>\n"},{"tags":["java","spring-boot","scheduled-tasks"],"answers":[{"tags":[],"owner":{"account_id":5459362,"reputation":565,"user_id":4341933,"accept_rate":100,"display_name":"Alexander Mladzhov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670852740,"creation_date":1670852740,"answer_id":74772035,"question_id":74770269,"body_markdown":"Spring v3.2.2 has added String parameters to the original 3 long parameters to handle this. `fixedDelayString`, `fixedRateString` and `initialDelayString` are now available too.\r\n\r\n    @Scheduled(fixedDelayString = &quot;${my.fixed.delay.prop}&quot;)\r\n    public void doSomethingWithA() {\r\n   \r\n    }","title":"Scheduling task with parameters in Java and Springboot","body":"<p>Spring v3.2.2 has added String parameters to the original 3 long parameters to handle this. <code>fixedDelayString</code>, <code>fixedRateString</code> and <code>initialDelayString</code> are now available too.</p>\n<pre><code>@Scheduled(fixedDelayString = &quot;${my.fixed.delay.prop}&quot;)\npublic void doSomethingWithA() {\n\n}\n</code></pre>\n"}],"owner":{"account_id":22627015,"reputation":11,"user_id":16804967,"display_name":"user16804967"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74772035,"answer_count":1,"score":0,"last_activity_date":1670852740,"creation_date":1670843607,"question_id":74770269,"body_markdown":"I have a method `doSomething(a, x)` which I want to schedule x hours in advance. I have tried multiple setups but all seem to fail. Could anybody tell me a service structure or springboot feature which could accomplish this while also being testable?\r\n\r\n\r\n\r\nThis is my current setup in java and springboot which is failing because the fixedDelay is not constant as I don&#39;t want my tests to be delayed for x hours.\r\n\r\nThe desired result of this code would be:\r\na is printed after x hours\r\n\r\nThe service:\r\n\r\n```\r\n@Service\r\npublic class SomeService{\r\n\r\n    public void doSomething(int a, long x) {\r\n        SchedulerService scheduler = new SchedulerService(a, x, this);\r\n        scheduler.doSomethingWithA();\r\n    }\r\n\r\n    public void doSomethingWithA(int a) {\r\n        System.out.println(a);\r\n    }\r\n\r\n}\r\n```\r\nThe scheduler:\r\n\r\n```\r\n@AllArgsConstructor\r\npublic class SchedulerService {\r\n\r\n    private int a;\r\n    private final long x;\r\n\r\n    private transient SomeService someService;\r\n\r\n    @Scheduled(fixedDelay = x)\r\n    public void doSomethingWithA() {\r\n        someService.doSomethingWithA(a);\r\n    }\r\n\r\n}\r\n\r\n```\r\nOf course the actual service is far more complex with database access etc. and the x hours is actually 10 years, but I think you get the idea.\r\n\r\nAny help would be greatly appreciated\r\n","title":"Scheduling task with parameters in Java and Springboot","body":"<p>I have a method <code>doSomething(a, x)</code> which I want to schedule x hours in advance. I have tried multiple setups but all seem to fail. Could anybody tell me a service structure or springboot feature which could accomplish this while also being testable?</p>\n<p>This is my current setup in java and springboot which is failing because the fixedDelay is not constant as I don't want my tests to be delayed for x hours.</p>\n<p>The desired result of this code would be:\na is printed after x hours</p>\n<p>The service:</p>\n<pre><code>@Service\npublic class SomeService{\n\n    public void doSomething(int a, long x) {\n        SchedulerService scheduler = new SchedulerService(a, x, this);\n        scheduler.doSomethingWithA();\n    }\n\n    public void doSomethingWithA(int a) {\n        System.out.println(a);\n    }\n\n}\n</code></pre>\n<p>The scheduler:</p>\n<pre><code>@AllArgsConstructor\npublic class SchedulerService {\n\n    private int a;\n    private final long x;\n\n    private transient SomeService someService;\n\n    @Scheduled(fixedDelay = x)\n    public void doSomethingWithA() {\n        someService.doSomethingWithA(a);\n    }\n\n}\n\n</code></pre>\n<p>Of course the actual service is far more complex with database access etc. and the x hours is actually 10 years, but I think you get the idea.</p>\n<p>Any help would be greatly appreciated</p>\n"},{"tags":["java","spring","spring-boot","maven","maven-bom"],"comments":[{"owner":{"account_id":5653578,"reputation":3281,"user_id":4473386,"accept_rate":80,"display_name":"Dmytro Chasovskyi"},"score":0,"creation_date":1669384823,"post_id":74573861,"comment_id":131635951,"body_markdown":"It looks like I can change packaging from `jar` to `pom`: https://www.baeldung.com/spring-maven-bom\n\nHow do I work with `pom` afterward? As far as I see, change of packaging doesn&#39;t help much.","body":"It looks like I can change packaging from <code>jar</code> to <code>pom</code>: <a href=\"https://www.baeldung.com/spring-maven-bom\" rel=\"nofollow noreferrer\">baeldung.com/spring-maven-bom</a>  How do I work with <code>pom</code> afterward? As far as I see, change of packaging doesn&#39;t help much."}],"answers":[{"tags":[],"owner":{"account_id":14608568,"reputation":625,"user_id":10550655,"display_name":"Michael Katt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669389387,"creation_date":1669389387,"answer_id":74574779,"question_id":74573861,"body_markdown":"Importing the BOM via _dependencyManagement_ and scope _import_ copies their _dependencyManagement_ configuration  into your current _dependencyManagement_, as you would have written these _dependencyManagement_ configuration.\r\n\r\nThe section _dependencyManagement_ should only be used within POM of packaging _pom_. The resulting _pom_ artefact could be used as parent of other POM.\r\n\r\nTherefore you should not use BOM without parent.\r\n\r\nHave a closer look at https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html","title":"How to use Spring Boot BOM, instead of parent?","body":"<p>Importing the BOM via <em>dependencyManagement</em> and scope <em>import</em> copies their <em>dependencyManagement</em> configuration  into your current <em>dependencyManagement</em>, as you would have written these <em>dependencyManagement</em> configuration.</p>\n<p>The section <em>dependencyManagement</em> should only be used within POM of packaging <em>pom</em>. The resulting <em>pom</em> artefact could be used as parent of other POM.</p>\n<p>Therefore you should not use BOM without parent.</p>\n<p>Have a closer look at <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html</a></p>\n"},{"tags":[],"owner":{"account_id":5653578,"reputation":3281,"user_id":4473386,"accept_rate":80,"display_name":"Dmytro Chasovskyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670852147,"creation_date":1670852147,"answer_id":74771927,"question_id":74573861,"body_markdown":"The issue I had, was related to a misconfiguration in `pom.xml`\r\n\r\nInstead of \r\n```\r\n&lt;sourceDirectory&gt;${project.basedir}&lt;/sourceDirectory&gt;\r\n```\r\n\r\nI have to use\r\n```\r\n&lt;sourceDirectory&gt;${project.basedir}/src/main&lt;/sourceDirectory&gt;\r\n```\r\n\r\nThis said, it is possible to package differently from `pom` packaging, so I can use `jar` or other alternatives.","title":"How to use Spring Boot BOM, instead of parent?","body":"<p>The issue I had, was related to a misconfiguration in <code>pom.xml</code></p>\n<p>Instead of</p>\n<pre><code>&lt;sourceDirectory&gt;${project.basedir}&lt;/sourceDirectory&gt;\n</code></pre>\n<p>I have to use</p>\n<pre><code>&lt;sourceDirectory&gt;${project.basedir}/src/main&lt;/sourceDirectory&gt;\n</code></pre>\n<p>This said, it is possible to package differently from <code>pom</code> packaging, so I can use <code>jar</code> or other alternatives.</p>\n"}],"owner":{"account_id":5653578,"reputation":3281,"user_id":4473386,"accept_rate":80,"display_name":"Dmytro Chasovskyi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1601,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74771927,"answer_count":2,"score":0,"last_activity_date":1670852147,"creation_date":1669384439,"question_id":74573861,"body_markdown":"I need to use `BOM`s in my project, so simplify the task of managing dependencies. This is the requirement, I cannot pivot at this stage.\r\n\r\nI removed parent spring-boot and added AWS, Spring Boot and Junit5 as `BOM`s. The issue is, even though I have them, dependencies aren&#39;t downloaded correctly. Am I missing some plugins or I am doing something else wrong?\r\n\r\nI have tried:\r\n\r\n - Run code without BOMs\r\n - Research BOM usage\r\n - Run project with parent of Spring Boot\r\n - Research similar projects on GitHub\r\n\r\nAll of the above worked correctly. The issues I am getting after adding BOMs are:\r\n\r\n```\r\npackage org.junit.jupiter.api does not exist\r\npackage org.mockito does not exist\r\ncannot find symbol\r\n[ERROR]   symbol: class ExtendWith\r\n```\r\n\r\n\r\nMy pom.xml file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;bom-experiments&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;junit-jupiter.version&gt;5.7.2&lt;/junit-jupiter.version&gt;\r\n        &lt;aws-sdk.version&gt;2.18.16&lt;/aws-sdk.version&gt;\r\n        &lt;mockito-inline.version&gt;4.8.0&lt;/mockito-inline.version&gt;\r\n        &lt;org.springframework.boot.version&gt;2.7.5&lt;/org.springframework.boot.version&gt;\r\n        &lt;org.springframework.version&gt;5.3.24&lt;/org.springframework.version&gt;\r\n\r\n        &lt;lombok.version&gt;1.18.24&lt;/lombok.version&gt;\r\n        &lt;maven-compiler-plugin.version&gt;3.10.1&lt;/maven-compiler-plugin.version&gt;\r\n        &lt;maven-surefire-plugin.version&gt;3.0.0-M7&lt;/maven-surefire-plugin.version&gt;\r\n        &lt;junit-jupiter-params.version&gt;${junit-jupiter.version}&lt;/junit-jupiter-params.version&gt;\r\n        &lt;kubernetes-maven-plugin.version&gt;1.9.0&lt;/kubernetes-maven-plugin.version&gt;\r\n\r\n        &lt;!-- Plugins --&gt;\r\n        &lt;mockito.version&gt;4.9.0&lt;/mockito.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-framework-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.springframework.boot.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n                &lt;artifactId&gt;bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${aws-sdk.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockito-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${mockito.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Secret managers --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;secretsmanager&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ssm&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sts&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;!-- Lombok --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Testing --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;bom-experiments&lt;/finalName&gt;\r\n        &lt;sourceDirectory&gt;${project.basedir}&lt;/sourceDirectory&gt;\r\n        &lt;testSourceDirectory&gt;${project.basedir}/src/test&lt;/testSourceDirectory&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${org.springframework.boot.version}&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nAm I understanding BOM concept wrong? Why are there no dependencies, even though they are declared in pom.xml? How can I run this code without parent but with BOM?","title":"How to use Spring Boot BOM, instead of parent?","body":"<p>I need to use <code>BOM</code>s in my project, so simplify the task of managing dependencies. This is the requirement, I cannot pivot at this stage.</p>\n<p>I removed parent spring-boot and added AWS, Spring Boot and Junit5 as <code>BOM</code>s. The issue is, even though I have them, dependencies aren't downloaded correctly. Am I missing some plugins or I am doing something else wrong?</p>\n<p>I have tried:</p>\n<ul>\n<li>Run code without BOMs</li>\n<li>Research BOM usage</li>\n<li>Run project with parent of Spring Boot</li>\n<li>Research similar projects on GitHub</li>\n</ul>\n<p>All of the above worked correctly. The issues I am getting after adding BOMs are:</p>\n<pre><code>package org.junit.jupiter.api does not exist\npackage org.mockito does not exist\ncannot find symbol\n[ERROR]   symbol: class ExtendWith\n</code></pre>\n<p>My pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;bom-experiments&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit-jupiter.version&gt;5.7.2&lt;/junit-jupiter.version&gt;\n        &lt;aws-sdk.version&gt;2.18.16&lt;/aws-sdk.version&gt;\n        &lt;mockito-inline.version&gt;4.8.0&lt;/mockito-inline.version&gt;\n        &lt;org.springframework.boot.version&gt;2.7.5&lt;/org.springframework.boot.version&gt;\n        &lt;org.springframework.version&gt;5.3.24&lt;/org.springframework.version&gt;\n\n        &lt;lombok.version&gt;1.18.24&lt;/lombok.version&gt;\n        &lt;maven-compiler-plugin.version&gt;3.10.1&lt;/maven-compiler-plugin.version&gt;\n        &lt;maven-surefire-plugin.version&gt;3.0.0-M7&lt;/maven-surefire-plugin.version&gt;\n        &lt;junit-jupiter-params.version&gt;${junit-jupiter.version}&lt;/junit-jupiter-params.version&gt;\n        &lt;kubernetes-maven-plugin.version&gt;1.9.0&lt;/kubernetes-maven-plugin.version&gt;\n\n        &lt;!-- Plugins --&gt;\n        &lt;mockito.version&gt;4.9.0&lt;/mockito.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-framework-bom&lt;/artifactId&gt;\n                &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${org.springframework.boot.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n                &lt;artifactId&gt;bom&lt;/artifactId&gt;\n                &lt;version&gt;${aws-sdk.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.junit&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\n                &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n                &lt;artifactId&gt;mockito-bom&lt;/artifactId&gt;\n                &lt;version&gt;${mockito.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Secret managers --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;secretsmanager&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;ssm&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;sts&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- Lombok --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Testing --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;bom-experiments&lt;/finalName&gt;\n        &lt;sourceDirectory&gt;${project.basedir}&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;${project.basedir}/src/test&lt;/testSourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${org.springframework.boot.version}&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Am I understanding BOM concept wrong? Why are there no dependencies, even though they are declared in pom.xml? How can I run this code without parent but with BOM?</p>\n"},{"tags":["java","android","android-studio","native"],"comments":[{"owner":{"account_id":12292022,"reputation":849,"user_id":8968956,"display_name":"trinadh thatakula"},"score":0,"creation_date":1656476193,"post_id":72795652,"comment_id":128578851,"body_markdown":"try using check self permission for `MANAGE_EXTERNAL_STORAGE` it should return `PackageManager.PERMISSION_GRANTED` I am not completely sure though","body":"try using check self permission for <code>MANAGE_EXTERNAL_STORAGE</code> it should return <code>PackageManager.PERMISSION_GRANTED</code> I am not completely sure though"},{"owner":{"account_id":17236264,"reputation":15,"user_id":12479666,"display_name":"Oky Prasetya"},"score":0,"creation_date":1656477682,"post_id":72795652,"comment_id":128579119,"body_markdown":"i did, but it was not trigger the &quot;All Files Acces&quot; permission","body":"i did, but it was not trigger the &quot;All Files Acces&quot; permission"}],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656482593,"creation_date":1656482593,"answer_id":72796483,"question_id":72795652,"body_markdown":"create new dummy 0-bytes file in root of internal memory and then remove it. if both operations success then you have access. when you won&#39;t have access then your code will `throw Exception` (on create-file step), which you can `try{ }catch(Exception e)` (preventing app crash)\r\n\r\npath for internal/external/shared can be obtained from [`Environment`](https://developer.android.com/reference/android/os/Environment) class, I would try at first [`getExternalStorageDirectory`](https://developer.android.com/reference/android/os/Environment#getExternalStorageDirectory())","title":"how to know whether the app currently has the &#39;All Files Access&#39; permission or not. Android 11","body":"<p>create new dummy 0-bytes file in root of internal memory and then remove it. if both operations success then you have access. when you won't have access then your code will <code>throw Exception</code> (on create-file step), which you can <code>try{ }catch(Exception e)</code> (preventing app crash)</p>\n<p>path for internal/external/shared can be obtained from <a href=\"https://developer.android.com/reference/android/os/Environment\" rel=\"nofollow noreferrer\"><code>Environment</code></a> class, I would try at first <a href=\"https://developer.android.com/reference/android/os/Environment#getExternalStorageDirectory()\" rel=\"nofollow noreferrer\"><code>getExternalStorageDirectory</code></a></p>\n"},{"tags":[],"owner":{"account_id":8736099,"reputation":1905,"user_id":6534707,"display_name":"Bhoomika Patel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656491883,"creation_date":1656491510,"answer_id":72798217,"question_id":72795652,"body_markdown":"declare this permission in your `manifest.xml`:\r\n\r\n \r\n\r\n       &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\nfor asking `MANAGE_EXTERNAL_STORAGE`:\r\n\r\n          try {\r\n               Intent intent = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\r\n               intent.setData(Uri.parse(String.format(&quot;package:%s&quot;, getApplicationContext().getPackageName())));\r\n               startActivityForResult(intent, 2296);\r\n              \r\n           } catch (Exception e) {\r\n\r\n             Intent intent = new Intent();\r\n             intent.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\r\n             startActivityForResult(intent, 2296);\r\n           }\r\n\r\nget your result in `onActivityResult`\r\n\r\n       @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            if (requestCode == 2296) {\r\n                if (SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n                    if (Environment.isExternalStorageManager()) {\r\n                        // perform action when allow permission success\r\n                       \r\n                    } else {\r\n                        Toast.makeText(this, &quot;Allow permission for storage access!&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\nso, basically you can check permission is granted or not in Android11 like this;\r\n\r\n    if (SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n       if (Environment.isExternalStorageManager()) {\r\n          // Permission Granted\r\n       }\r\n    }","title":"how to know whether the app currently has the &#39;All Files Access&#39; permission or not. Android 11","body":"<p>declare this permission in your <code>manifest.xml</code>:</p>\n<pre><code>   &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n<p>for asking <code>MANAGE_EXTERNAL_STORAGE</code>:</p>\n<pre><code>      try {\n           Intent intent = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\n           intent.setData(Uri.parse(String.format(&quot;package:%s&quot;, getApplicationContext().getPackageName())));\n           startActivityForResult(intent, 2296);\n          \n       } catch (Exception e) {\n\n         Intent intent = new Intent();\n         intent.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\n         startActivityForResult(intent, 2296);\n       }\n</code></pre>\n<p>get your result in <code>onActivityResult</code></p>\n<pre><code>   @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == 2296) {\n            if (SDK_INT &gt;= Build.VERSION_CODES.R) {\n                if (Environment.isExternalStorageManager()) {\n                    // perform action when allow permission success\n                   \n                } else {\n                    Toast.makeText(this, &quot;Allow permission for storage access!&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n        }\n    }\n</code></pre>\n<p>so, basically you can check permission is granted or not in Android11 like this;</p>\n<pre><code>if (SDK_INT &gt;= Build.VERSION_CODES.R) {\n   if (Environment.isExternalStorageManager()) {\n      // Permission Granted\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2200301,"reputation":1114,"user_id":1944848,"accept_rate":38,"display_name":"JayTee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670852144,"creation_date":1670852144,"answer_id":74771925,"question_id":72795652,"body_markdown":"I do it that way:\r\n\r\n     public static boolean hasAllFilesAccess(Context context) {\r\n\r\n        AppOpsManager appOpsManager = (AppOpsManager) context.getSystemService(Context.APP_OPS_SERVICE);\r\n\r\n        try {\r\n            ApplicationInfo app  = context.getPackageManager().getApplicationInfo(context.getPackageName(), 0);\r\n            return appOpsManager.unsafeCheckOpNoThrow(&quot;android:manage_external_storage&quot;,app.uid, context.getPackageName()) == AppOpsManager.MODE_ALLOWED;\r\n\r\n        } catch (PackageManager.NameNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n        catch (NoSuchMethodError e)\r\n        {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n\r\nSeems there is a better way now though:\r\n\r\n \r\n[Environment.isExternalStorageManager()][1]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/os/Environment#isExternalStorageManager()","title":"how to know whether the app currently has the &#39;All Files Access&#39; permission or not. Android 11","body":"<p>I do it that way:</p>\n<pre><code> public static boolean hasAllFilesAccess(Context context) {\n\n    AppOpsManager appOpsManager = (AppOpsManager) context.getSystemService(Context.APP_OPS_SERVICE);\n\n    try {\n        ApplicationInfo app  = context.getPackageManager().getApplicationInfo(context.getPackageName(), 0);\n        return appOpsManager.unsafeCheckOpNoThrow(&quot;android:manage_external_storage&quot;,app.uid, context.getPackageName()) == AppOpsManager.MODE_ALLOWED;\n\n    } catch (PackageManager.NameNotFoundException e) {\n        e.printStackTrace();\n    }\n    catch (NoSuchMethodError e)\n    {\n        return true;\n    }\n\n    return false;\n}\n</code></pre>\n<p>Seems there is a better way now though:</p>\n<p><a href=\"https://developer.android.com/reference/android/os/Environment#isExternalStorageManager()\" rel=\"nofollow noreferrer\">Environment.isExternalStorageManager()</a></p>\n"}],"owner":{"account_id":17236264,"reputation":15,"user_id":12479666,"display_name":"Oky Prasetya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1023,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72798217,"answer_count":3,"score":1,"last_activity_date":1670852144,"creation_date":1656475152,"question_id":72795652,"body_markdown":"but how to validate if the app currently has the &#39;All Files Access&#39; permission or not. i use this method to ask permission.\r\n\r\n    Intent intent = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\r\n                intent.addCategory(&quot;android.intent.category.DEFAULT&quot;);\r\n                intent.setData(Uri.parse(String.format(&quot;package:%s&quot;,this.getPackageName())));\r\n                startActivityForResult(intent, 2296);\r\n\r\nPlease help me to fix this :(","title":"how to know whether the app currently has the &#39;All Files Access&#39; permission or not. Android 11","body":"<p>but how to validate if the app currently has the 'All Files Access' permission or not. i use this method to ask permission.</p>\n<pre><code>Intent intent = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\n            intent.addCategory(&quot;android.intent.category.DEFAULT&quot;);\n            intent.setData(Uri.parse(String.format(&quot;package:%s&quot;,this.getPackageName())));\n            startActivityForResult(intent, 2296);\n</code></pre>\n<p>Please help me to fix this :(</p>\n"},{"tags":["java","android","gradle"],"comments":[{"owner":{"account_id":21584472,"reputation":690,"user_id":15915172,"display_name":"Rakesh Saini"},"score":1,"creation_date":1634530379,"post_id":69610634,"comment_id":123040084,"body_markdown":"As i seen in error you still not accepted licences. Accept them from terminal first. Using -&gt; # In Windows \nC:\\Android\\SDK\\tools\\bin --- Run #then\nsdkmanager --licenses","body":"As i seen in error you still not accepted licences. Accept them from terminal first. Using -&gt; # In Windows  C:\\Android\\SDK\\tools\\bin --- Run #then sdkmanager --licenses"},{"owner":{"account_id":11661693,"reputation":31,"user_id":8539769,"display_name":"Sakib Reza"},"score":1,"creation_date":1634531427,"post_id":69610634,"comment_id":123040246,"body_markdown":"After running sdkmanager --licenses command, this error is showing -\n```\nD:\\android\\sdk\\tools\\bin&gt;sdkmanager --licenses\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema\n        at com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156) ...................\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582) ................\n\n```","body":"After running sdkmanager --licenses command, this error is showing - ``` D:\\android\\sdk\\tools\\bin&gt;sdkmanager --licenses Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlSchema         at com.android.repository.api.SchemaModule$SchemaModuleVersion.&zwnj;&#8203;&lt;init&gt;(SchemaModule.&zwnj;&#8203;java:156) ................... Caused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema         at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(B&zwnj;&#8203;uiltinClassLoader.ja&zwnj;&#8203;va:582) ................  ```"},{"owner":{"account_id":21584472,"reputation":690,"user_id":15915172,"display_name":"Rakesh Saini"},"score":0,"creation_date":1634531627,"post_id":69610634,"comment_id":123040277,"body_markdown":"First go to the directory by entering -&gt; &quot;C:\\Android\\SDK\\tools\\bin --- Run&quot;  then run -&gt; &quot;sdkmanager --licenses &quot;","body":"First go to the directory by entering -&gt; &quot;C:\\Android\\SDK\\tools\\bin --- Run&quot;  then run -&gt; &quot;sdkmanager --licenses &quot;"},{"owner":{"account_id":21530600,"reputation":2687,"user_id":15870118,"display_name":"JustinW"},"score":0,"creation_date":1634537450,"post_id":69610634,"comment_id":123041365,"body_markdown":"@SakibReza Use JDK 1.8 (Or simply JDK 8) for Android. Replace the JDK in your PATH variable or your gradle.properties file with a JDK 8.","body":"@SakibReza Use JDK 1.8 (Or simply JDK 8) for Android. Replace the JDK in your PATH variable or your gradle.properties file with a JDK 8."}],"owner":{"account_id":11661693,"reputation":31,"user_id":8539769,"display_name":"Sakib Reza"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3500,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1670852013,"creation_date":1634529681,"question_id":69610634,"body_markdown":"I am trying to build an android project, but it is showing the following errors:\r\n\r\n\r\n&gt; Caused by: java.lang.RuntimeException: org.gradle.api.internal.provider.MissingValueException: Cannot query the value of this provider because it has no value available.\r\n&gt; \r\n&gt; Caused by: org.gradle.api.internal.provider.MissingValueException: Cannot query the value of this provider because it has no value available.\r\n&gt; \r\n&gt; Caused by: com.android.builder.errors.EvalIssueException: Failed to install the following Android SDK packages as some licences have not been accepted.\r\n\r\nI am using Android version 2020.3.1 (Arctic Fox) and Gradle version 6.8.3. Can someone please suggest to me what should I do to solve it?","title":"java.lang.RuntimeException: org.gradle.api.internal.provider.MissingValueException","body":"<p>I am trying to build an android project, but it is showing the following errors:</p>\n<blockquote>\n<p>Caused by: java.lang.RuntimeException: org.gradle.api.internal.provider.MissingValueException: Cannot query the value of this provider because it has no value available.</p>\n<p>Caused by: org.gradle.api.internal.provider.MissingValueException: Cannot query the value of this provider because it has no value available.</p>\n<p>Caused by: com.android.builder.errors.EvalIssueException: Failed to install the following Android SDK packages as some licences have not been accepted.</p>\n</blockquote>\n<p>I am using Android version 2020.3.1 (Arctic Fox) and Gradle version 6.8.3. Can someone please suggest to me what should I do to solve it?</p>\n"},{"tags":["java","tomcat","keycloak","openid-connect","polymer-1.0"],"owner":{"account_id":2705630,"reputation":1,"user_id":2335296,"display_name":"user2335296"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670851424,"creation_date":1670851223,"question_id":74771753,"body_markdown":"I have been trying to read through existing information about this topic. I even installed KeyCloak server locally, configured the realm, the client and used Postman to send some requests to KeyCloak, and received some json response.\r\nMy problem is that - unless I misunderstand something - none of the descriptions seem to fit my goals.\r\nOur application already has user management and we rely on user identity and roles / access rights configured in the system. The backend runs inside Tomcat and we run a Polymer 1.0 / Javascript frontend to call the REST services of our backend. I cannot get rid of user management as our DB is highly dependant on user to object assignment when deciding the scope of the objects for which the particular user is responsible.\r\nAll we need is an extension of our system by the possibility of foreign authentications (like social logins) in the future.\r\n\r\nWe have now explicit login that delivers a session cookie, Servlet filters to check the presence of this cookie, etc. In the server we use the login token / user identity in each REST call to filter the results from the DB to those available to the particular user.\r\nWhat I need is a flow like:\r\n- in the fronted we check if we have active session (existing code)\r\n- if not we redirected the user so far to our own login page, logged in, created the session cookie on server and then returned it. On client side we saved this and added to every REST request as authoriation token.\r\nNow with OIDC I&#39;d like to insert a new unprotected query that checks if OIDC is configured. If not, we keep the old solution. If yes, I&#39;d like to get redirected to KeyCloak login, and - and this is the most important for me - I&#39;d like to get back the user identity (or some role that we associate administratively to the user - using which I could identify one of our configured users.\r\n\r\nI tried experimenting with the Tomcat solution but that simply blindly hides the authentication procedure and merely allows or blocks REST access to the backend resources. This is not enough for me, I need some kind of user identity which I can use in the server side.\r\n\r\nAlso a javascript solution only provides communication between frontend and keycloak, but we need the backend to know who has logged in.\r\n\r\nI think this topic and all the used lingo is too complicated for me. Could anyone give me some easy advice how to solve this with best practices?\r\n\r\nThank you very much\r\n","title":"Adding OAuth / OIDC features using KeyCloak to existing application with java backend (run inside Tomcat) and Polymer (javascript) frontend","body":"<p>I have been trying to read through existing information about this topic. I even installed KeyCloak server locally, configured the realm, the client and used Postman to send some requests to KeyCloak, and received some json response.\nMy problem is that - unless I misunderstand something - none of the descriptions seem to fit my goals.\nOur application already has user management and we rely on user identity and roles / access rights configured in the system. The backend runs inside Tomcat and we run a Polymer 1.0 / Javascript frontend to call the REST services of our backend. I cannot get rid of user management as our DB is highly dependant on user to object assignment when deciding the scope of the objects for which the particular user is responsible.\nAll we need is an extension of our system by the possibility of foreign authentications (like social logins) in the future.</p>\n<p>We have now explicit login that delivers a session cookie, Servlet filters to check the presence of this cookie, etc. In the server we use the login token / user identity in each REST call to filter the results from the DB to those available to the particular user.\nWhat I need is a flow like:</p>\n<ul>\n<li>in the fronted we check if we have active session (existing code)</li>\n<li>if not we redirected the user so far to our own login page, logged in, created the session cookie on server and then returned it. On client side we saved this and added to every REST request as authoriation token.\nNow with OIDC I'd like to insert a new unprotected query that checks if OIDC is configured. If not, we keep the old solution. If yes, I'd like to get redirected to KeyCloak login, and - and this is the most important for me - I'd like to get back the user identity (or some role that we associate administratively to the user - using which I could identify one of our configured users.</li>\n</ul>\n<p>I tried experimenting with the Tomcat solution but that simply blindly hides the authentication procedure and merely allows or blocks REST access to the backend resources. This is not enough for me, I need some kind of user identity which I can use in the server side.</p>\n<p>Also a javascript solution only provides communication between frontend and keycloak, but we need the backend to know who has logged in.</p>\n<p>I think this topic and all the used lingo is too complicated for me. Could anyone give me some easy advice how to solve this with best practices?</p>\n<p>Thank you very much</p>\n"},{"tags":["java","sql","amazon-web-services","jdbc","amazon-redshift"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1670584258,"post_id":74742246,"comment_id":131913025,"body_markdown":"Your second version is prone to SQL injection and for that reason should be avoided.  The first version is the canonical way to do this AFAIK; I have no idea why it is so slow.","body":"Your second version is prone to SQL injection and for that reason should be avoided.  The first version is the canonical way to do this AFAIK; I have no idea why it is so slow."},{"owner":{"account_id":5793336,"reputation":807,"user_id":4569963,"accept_rate":73,"display_name":"pacman"},"score":0,"creation_date":1670585358,"post_id":74742246,"comment_id":131913333,"body_markdown":"@TimBiegeleisen I&#39;m aware that second snapshot is unsafe, but somehow it works fast while the firs takes ages - a few seconds vs 30 minutes.","body":"@TimBiegeleisen I&#39;m aware that second snapshot is unsafe, but somehow it works fast while the firs takes ages - a few seconds vs 30 minutes."},{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":0,"creation_date":1670588089,"post_id":74742246,"comment_id":131914095,"body_markdown":"Do you have auto-commit enabled? If yes, disable and try with an explicit transaction.","body":"Do you have auto-commit enabled? If yes, disable and try with an explicit transaction."},{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":0,"creation_date":1670588166,"post_id":74742246,"comment_id":131914130,"body_markdown":"Other than that, single-row inserts in Redshift tend to have poor performance compared to Postgres, because the storage engines are different. When uploading to Redshift you typically store a file on S3 and use the COPY command -- although iirc there were some changes announced at the most recent re:invent that may have improved performance.","body":"Other than that, single-row inserts in Redshift tend to have poor performance compared to Postgres, because the storage engines are different. When uploading to Redshift you typically store a file on S3 and use the COPY command -- although iirc there were some changes announced at the most recent re:invent that may have improved performance."},{"owner":{"account_id":5793336,"reputation":807,"user_id":4569963,"accept_rate":73,"display_name":"pacman"},"score":0,"creation_date":1670589310,"post_id":74742246,"comment_id":131914491,"body_markdown":"@kdgregory thanks for the comments, I do have auto-commit disabled. I have just found that adding `reWriteBatchedInserts=true;reWriteBatchedInsertsSize=1024` to JDBC url reduces write time from 30 minutes to 40 seconds but in Postgres it is like 1-2 seconds. Regarding S3 sink - I know about it, but now I am limited to use jdbc.","body":"@kdgregory thanks for the comments, I do have auto-commit disabled. I have just found that adding <code>reWriteBatchedInserts=true;reWriteBatchedInsertsSize=1024</code> to JDBC url reduces write time from 30 minutes to 40 seconds but in Postgres it is like 1-2 seconds. Regarding S3 sink - I know about it, but now I am limited to use jdbc."},{"owner":{"account_id":5793336,"reputation":807,"user_id":4569963,"accept_rate":73,"display_name":"pacman"},"score":0,"creation_date":1670589337,"post_id":74742246,"comment_id":131914501,"body_markdown":"at least now I know that batching may be forced somehow in Redshift","body":"at least now I know that batching may be forced somehow in Redshift"},{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":0,"creation_date":1670590397,"post_id":74742246,"comment_id":131914864,"body_markdown":"I didn&#39;t know about those parameters. I recommend bumping the second one to 8192 or even larger.","body":"I didn&#39;t know about those parameters. I recommend bumping the second one to 8192 or even larger."},{"owner":{"account_id":5793336,"reputation":807,"user_id":4569963,"accept_rate":73,"display_name":"pacman"},"score":0,"creation_date":1670590723,"post_id":74742246,"comment_id":131914959,"body_markdown":"@kdgregory already tried - it didn&#39;t improve insertion time a lot","body":"@kdgregory already tried - it didn&#39;t improve insertion time a lot"}],"answers":[{"tags":[],"owner":{"account_id":18332449,"reputation":9380,"user_id":13350652,"display_name":"Bill Weiner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670603231,"creation_date":1670603231,"answer_id":74745774,"question_id":74742246,"body_markdown":"Inserting single rows multiple times is never a good plan on a columnar database.  Postgres is row-based and Redshift is column-based.  \r\n\r\nEach INSERT on Postgres just makes another row but on Redshift each insert requires that the column data is read, one element is added, and then the column written back.  While Redshift doesn&#39;t work on the entire column, just the last 1MB block, it has to read this block for each INSERT.  \r\n\r\nAlso since Redshift is clustered and the data for your table is distributed around the cluster, each subsequent INSERT is accessing a different block on a different slice of the table.  All these INSERTs that are accessing single slices of the cluster are serialized by the single-threaded nature of your code so each access to a single slice has to complete before the next INSERT can be issued.  \r\n\r\nYou second code adds lots of rows of data into a single INSERT statement which is compiled and the data is sent to all slices of the database where only data for each slice is stored and rest discarded.  This uses the parallelism of Redshift and only has to open the 1MB block on each slice once.  However, there are still performance and scalability issues with this approach (common to approach #1 but not as bad).  All the data is being sent through the query compiler and then on to every slice.  This can slow down compile time and waste network bandwidth.  All the data has to flow through the leader node which is responsible for many database functions and doing this for large amounts of data can lead to significant cluster wide performance issues.  The amount of data you can insert in this manner is limited by the size (in characters) of the max query length (16MB).  There is more but I&#39;ll stop there.  While this approach is better, from Redshift&#39;s point of view, it is far from ideal.\r\n\r\nBottom line - Postgres is a single instance (scale-up), row-based, OLTP database designed for single row inserts and Redshift is a clustered (scale-out), column-based, OLAP database designed for parallel bulk inserts.  The COPY command causes each compute node in Redshift to connect to S3 to read component files of the input data.  This allows for parallel actions by the Redshift cluster, independent network access to S3, and parallel processing of the read data.  (If you really want your code to run fast make it multi-threaded and write your S3 files in parallel then issue a COPY command to Redshift.)","title":"Redshift JDBC batch insert works slow for multiple rows","body":"<p>Inserting single rows multiple times is never a good plan on a columnar database.  Postgres is row-based and Redshift is column-based.</p>\n<p>Each INSERT on Postgres just makes another row but on Redshift each insert requires that the column data is read, one element is added, and then the column written back.  While Redshift doesn't work on the entire column, just the last 1MB block, it has to read this block for each INSERT.</p>\n<p>Also since Redshift is clustered and the data for your table is distributed around the cluster, each subsequent INSERT is accessing a different block on a different slice of the table.  All these INSERTs that are accessing single slices of the cluster are serialized by the single-threaded nature of your code so each access to a single slice has to complete before the next INSERT can be issued.</p>\n<p>You second code adds lots of rows of data into a single INSERT statement which is compiled and the data is sent to all slices of the database where only data for each slice is stored and rest discarded.  This uses the parallelism of Redshift and only has to open the 1MB block on each slice once.  However, there are still performance and scalability issues with this approach (common to approach #1 but not as bad).  All the data is being sent through the query compiler and then on to every slice.  This can slow down compile time and waste network bandwidth.  All the data has to flow through the leader node which is responsible for many database functions and doing this for large amounts of data can lead to significant cluster wide performance issues.  The amount of data you can insert in this manner is limited by the size (in characters) of the max query length (16MB).  There is more but I'll stop there.  While this approach is better, from Redshift's point of view, it is far from ideal.</p>\n<p>Bottom line - Postgres is a single instance (scale-up), row-based, OLTP database designed for single row inserts and Redshift is a clustered (scale-out), column-based, OLAP database designed for parallel bulk inserts.  The COPY command causes each compute node in Redshift to connect to S3 to read component files of the input data.  This allows for parallel actions by the Redshift cluster, independent network access to S3, and parallel processing of the read data.  (If you really want your code to run fast make it multi-threaded and write your S3 files in parallel then issue a COPY command to Redshift.)</p>\n"}],"owner":{"account_id":5793336,"reputation":807,"user_id":4569963,"accept_rate":73,"display_name":"pacman"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":708,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74745774,"answer_count":1,"score":1,"last_activity_date":1670851255,"creation_date":1670583961,"question_id":74742246,"body_markdown":"I have Java code for inserting into Redshift like this:\r\n```\r\nString query = &quot;INSERT INTO table (id, name, value) VALUES (?, ?, ?)&quot;;\r\nPreparedStatement ps = connection.prepareStatement(query);            \r\nfor (Record record : records) {\r\n    ps.setInt(1, record.id);\r\n    ps.setString(2, record.name);\r\n    ps.setInt(3, record.value);\r\n    ps.addBatch();\r\n}\r\nps.executeBatch();\r\n```\r\n`records` contains a few thousands items. I tried to run this code with Postgres - it inserted all of them almost instantly while with Redshift it takes 10+ minutes. After that I rewrote it to the next code:\r\n\r\n```\r\nString query = &quot;INSERT INTO table (id, name, value) VALUES &quot;;\r\nfor (Record record : records) {\r\n    query += &quot;(&quot; + record.id + &quot;,&#39;&quot; + record.name + &quot;&#39;,&quot; + record.value + &quot;),&quot;;\r\n}\r\nquery = query.substring(1, query.length() - 1);\r\nPreparedStatement ps = connection.prepareStatement(query);\r\nps.executeUpdate();\r\n```\r\n\r\nAnd this fixed performance. This code works fine for both Redshift and Postgres. My question is next - what&#39;s wrong with the first code snapshot and how I can fix it? (I assume that first code snapshot for Redshift simply ignores batching.)","title":"Redshift JDBC batch insert works slow for multiple rows","body":"<p>I have Java code for inserting into Redshift like this:</p>\n<pre><code>String query = &quot;INSERT INTO table (id, name, value) VALUES (?, ?, ?)&quot;;\nPreparedStatement ps = connection.prepareStatement(query);            \nfor (Record record : records) {\n    ps.setInt(1, record.id);\n    ps.setString(2, record.name);\n    ps.setInt(3, record.value);\n    ps.addBatch();\n}\nps.executeBatch();\n</code></pre>\n<p><code>records</code> contains a few thousands items. I tried to run this code with Postgres - it inserted all of them almost instantly while with Redshift it takes 10+ minutes. After that I rewrote it to the next code:</p>\n<pre><code>String query = &quot;INSERT INTO table (id, name, value) VALUES &quot;;\nfor (Record record : records) {\n    query += &quot;(&quot; + record.id + &quot;,'&quot; + record.name + &quot;',&quot; + record.value + &quot;),&quot;;\n}\nquery = query.substring(1, query.length() - 1);\nPreparedStatement ps = connection.prepareStatement(query);\nps.executeUpdate();\n</code></pre>\n<p>And this fixed performance. This code works fine for both Redshift and Postgres. My question is next - what's wrong with the first code snapshot and how I can fix it? (I assume that first code snapshot for Redshift simply ignores batching.)</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":4172428,"reputation":2097,"user_id":3419894,"display_name":"JonK"},"score":3,"creation_date":1480608654,"post_id":40915324,"comment_id":69042845,"body_markdown":"`if ( array[number+1]%2==0)` -&gt; don&#39;t you want to be checking `index` instead?","body":"<code>if ( array[number+1]%2==0)</code> -&gt; don&#39;t you want to be checking <code>index</code> instead?"},{"owner":{"account_id":5546231,"reputation":4303,"user_id":4400820,"accept_rate":89,"display_name":"D. Ben Knoble"},"score":0,"creation_date":1480608797,"post_id":40915324,"comment_id":69042930,"body_markdown":"Can you be more explicit about how it&#39;s &quot;not working&quot;? Have you tried stepping through in a debugger and looking for the problem there? It becomes fairly apparent that you are testing the wrong value.","body":"Can you be more explicit about how it&#39;s &quot;not working&quot;? Have you tried stepping through in a debugger and looking for the problem there? It becomes fairly apparent that you are testing the wrong value."}],"answers":[{"tags":[],"owner":{"account_id":5667881,"reputation":4161,"user_id":4483548,"display_name":"BretC"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1480608686,"creation_date":1480608686,"answer_id":40915360,"question_id":40915324,"body_markdown":"You can just change your for loop and get rid of the inner IF...\r\n\r\n    for( int index = 0; index &lt; array.length; index += 2) {\r\n        System.out.println(array[index]);\r\n    }","title":"How to print out even-numbered indexes for arrays in Java?","body":"<p>You can just change your for loop and get rid of the inner IF...</p>\n\n<pre><code>for( int index = 0; index &lt; array.length; index += 2) {\n    System.out.println(array[index]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8598286,"reputation":11087,"user_id":6440704,"display_name":"Anton Balaniuc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480609581,"creation_date":1480609581,"answer_id":40915616,"question_id":40915324,"body_markdown":"Just absolutely same thing using java 8 `Stream` API \r\n\r\n     Integer[] ints = {0,1,2,3,4,5,6,7,8,9};\r\n     IntStream.range(0, ints.length).filter(i -&gt;  i % 2 == 0).forEach(i -&gt; System.out.println(ints[i]));","title":"How to print out even-numbered indexes for arrays in Java?","body":"<p>Just absolutely same thing using java 8 <code>Stream</code> API </p>\n\n<pre><code> Integer[] ints = {0,1,2,3,4,5,6,7,8,9};\n IntStream.range(0, ints.length).filter(i -&gt;  i % 2 == 0).forEach(i -&gt; System.out.println(ints[i]));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8088668,"reputation":41,"user_id":6095353,"display_name":"Noah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480609911,"creation_date":1480609911,"answer_id":40915748,"question_id":40915324,"body_markdown":"I assume this would be sufficient\r\n\r\n    \r\n    // For loop to search array\r\n    for (int i = 0; i &lt; array.length; i++) {\r\n\r\n      // If to validate that the index is divisible by 2\r\n      if (i % 2 == 0) {\r\n      System.out.print(array[i]);\r\n      }\r\n    }","title":"How to print out even-numbered indexes for arrays in Java?","body":"<p>I assume this would be sufficient</p>\n\n<pre><code>// For loop to search array\nfor (int i = 0; i &lt; array.length; i++) {\n\n  // If to validate that the index is divisible by 2\n  if (i % 2 == 0) {\n  System.out.print(array[i]);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9762418,"reputation":87,"user_id":7237110,"accept_rate":100,"display_name":"theredfox24"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480612276,"creation_date":1480612276,"answer_id":40916493,"question_id":40915324,"body_markdown":"This is what I did and it works:also I am not printing out index[0] because technically its not even thats why I started the for loop at 2. Your post did help me a lot. I also thank everyone else as well that took the time to post an answer.\r\n\r\n    \r\n    import java.util.Scanner;\r\n\r\n\r\n\r\n    public class Arrayevenindex \r\n    {\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tint number;  // variable that will represent how many elements the user wants the array to have\r\n\t\t\r\n\t\t\r\n\t\tScanner key = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.println(&quot; How many elements would you like your array to have&quot;);\r\n\t\tnumber = key.nextInt();\r\n\t\tint [] array = new int [number];\r\n\t\t\r\n\t\t\r\n\t// let the user enter the values of the array.\t\r\n\tfor ( int index = 0; index &lt; number; index ++) \r\n    {\r\n     System.out.print(&quot; Value&quot; + (index+1) + &quot; :&quot;);\r\n     array[index] = key.nextInt();\r\n\t \r\n\r\n     \r\n    }\r\n\t// Print out the even indexes \r\n\tSystem.out.println(&quot;/nI am now going to print out the even indexes&quot;);\r\n\tfor ( int index = 2; index &lt; array.length; index +=2) \r\n    {\r\n\t\t\r\n\t\tSystem.out.print(array[index] + &quot; &quot;);\r\n\t \r\n\r\n     \r\n    }\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n}\r\n\r\n\r\n","title":"How to print out even-numbered indexes for arrays in Java?","body":"<p>This is what I did and it works:also I am not printing out index[0] because technically its not even thats why I started the for loop at 2. Your post did help me a lot. I also thank everyone else as well that took the time to post an answer.</p>\n\n<pre><code>import java.util.Scanner;\n\n\n\npublic class Arrayevenindex \n{\npublic static void main(String[] args)\n{\n    int number;  // variable that will represent how many elements the user wants the array to have\n\n\n    Scanner key = new Scanner(System.in);\n\n    System.out.println(\" How many elements would you like your array to have\");\n    number = key.nextInt();\n    int [] array = new int [number];\n\n\n// let the user enter the values of the array.  \nfor ( int index = 0; index &lt; number; index ++) \n{\n System.out.print(\" Value\" + (index+1) + \" :\");\n array[index] = key.nextInt();\n\n\n\n}\n// Print out the even indexes \nSystem.out.println(\"/nI am now going to print out the even indexes\");\nfor ( int index = 2; index &lt; array.length; index +=2) \n{\n\n    System.out.print(array[index] + \" \");\n\n\n\n}\n\n    }\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"account_id":9762418,"reputation":87,"user_id":7237110,"accept_rate":100,"display_name":"theredfox24"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15237,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":40915360,"answer_count":4,"score":1,"last_activity_date":1670851241,"creation_date":1480608560,"question_id":40915324,"body_markdown":"I&#39;m supposed to write a program using for loops that print out the even indexes of my array. For example, if I create an array that has 10 numbers, it will have indexes from 0-9 so in that case I would print out the numbers at index 2, 4, 6 and 8. This is what I wrote so far but it doesn&#39;t work. Please note that I am not trying to print out the even numbers of the array. All I want are the even indexes.\r\n\r\nExample I enter the following array: `3,7,5,5,5,7,7,9,9,3`\r\n\r\nProgram output:\r\n\r\n    5 // (the number at index 2)\r\n    5 // (the number at index 4)\r\n    7 // (the number at index 6)\r\n    9 // (the number at index 8)\r\n\r\nMy Code:\r\n\r\n    public class Arrayevenindex \r\n    {\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tint number; // variable that will represent how many elements the user wants the array to have\r\n    \r\n    \t\tScanner key = new Scanner(System.in);\r\n    \r\n    \t\tSystem.out.println(&quot; How many elements would you like your array to have&quot;);\r\n    \t\tnumber = key.nextInt();\r\n    \t\tint [] array = new int [number];\r\n    \r\n    \t\t// let the user enter the values of the array.  \r\n    \t\tfor (int index = 0; index &lt; number; index ++) \r\n    \t\t{\r\n    \t\t\tSystem.out.print(&quot; Value&quot; + (index+1) + &quot; :&quot;);\r\n    \t\t\tarray[index] = key.nextInt();\r\n    \t\t}\r\n    \t\t// Print out the even indexes \r\n    \t\tSystem.out.println(&quot;/nI am now going to print out the even indexes&quot;);\r\n    \t\tfor (int index = 0; index &lt; array.length; index ++) \r\n    \t\t{\r\n    \t\t\tif (array[number+1]%2==0)\r\n    \t\t\t\tSystem.out.print(array[number]);\r\n    \t\t}\r\n    \t}\r\n    }","title":"How to print out even-numbered indexes for arrays in Java?","body":"<p>I'm supposed to write a program using for loops that print out the even indexes of my array. For example, if I create an array that has 10 numbers, it will have indexes from 0-9 so in that case I would print out the numbers at index 2, 4, 6 and 8. This is what I wrote so far but it doesn't work. Please note that I am not trying to print out the even numbers of the array. All I want are the even indexes.</p>\n\n<p>Example I enter the following array: <code>3,7,5,5,5,7,7,9,9,3</code></p>\n\n<p>Program output:</p>\n\n<pre><code>5 // (the number at index 2)\n5 // (the number at index 4)\n7 // (the number at index 6)\n9 // (the number at index 8)\n</code></pre>\n\n<p>My Code:</p>\n\n<pre><code>public class Arrayevenindex \n{\n    public static void main(String[] args)\n    {\n        int number; // variable that will represent how many elements the user wants the array to have\n\n        Scanner key = new Scanner(System.in);\n\n        System.out.println(\" How many elements would you like your array to have\");\n        number = key.nextInt();\n        int [] array = new int [number];\n\n        // let the user enter the values of the array.  \n        for (int index = 0; index &lt; number; index ++) \n        {\n            System.out.print(\" Value\" + (index+1) + \" :\");\n            array[index] = key.nextInt();\n        }\n        // Print out the even indexes \n        System.out.println(\"/nI am now going to print out the even indexes\");\n        for (int index = 0; index &lt; array.length; index ++) \n        {\n            if (array[number+1]%2==0)\n                System.out.print(array[number]);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","interpolation"],"comments":[{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1670757708,"post_id":74760288,"comment_id":131942886,"body_markdown":"Please edit your question to explain in detail what your `split`method should do. Your description does not explain the criterion for calculating the index `split` should return. Are you maybe trying to implement binary search?","body":"Please edit your question to explain in detail what your <code>split</code>method should do. Your description does not explain the criterion for calculating the index <code>split</code> should return. Are you maybe trying to implement binary search?"},{"owner":{"account_id":27217972,"reputation":7,"user_id":20747717,"display_name":"Valerij"},"score":0,"creation_date":1670758529,"post_id":74760288,"comment_id":131943009,"body_markdown":"Hey, I edited my question.  The split method should find the Index where to split -&gt; that is the difference between binary search and interpolation search","body":"Hey, I edited my question.  The split method should find the Index where to split -&gt; that is the difference between binary search and interpolation search"},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1670759688,"post_id":74760288,"comment_id":131943213,"body_markdown":"@Valerij You already wrote that &quot;the split method should find the index where to split&quot;. That description does not explain how to calculate that index.","body":"@Valerij You already wrote that &quot;the split method should find the index where to split&quot;. That description does not explain how to calculate that index."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670768098,"creation_date":1670767395,"answer_id":74761459,"question_id":74760288,"body_markdown":"Apart from the [comment](https://stackoverflow.com/questions/74760288/the-output-of-my-interpolation-search-is-wrong-why#comment131943208_74760288), by @user16320675, to your question, your initialization is wrong.\r\n\r\nThe first [command-line] argument is the value of `wantedValue`. The remaining [command-line] arguments are the elements of `array`.\r\n\r\nAlso, `leftBoundary` should be 0 (zero) and not 1 (one) since you probably want to search the whole array.\r\n\r\nConsider the following code:\r\n```java\r\npublic class Search {\r\n\r\n    private static int split(int[] haystack, int needle, int left, int right) {\r\n        if (haystack[right] == haystack[left]) {\r\n            return left;\r\n        }\r\n        else {\r\n            return (int) (left + ((double) (needle - haystack[left]) / (haystack[right] - haystack[left])) * (right - left));\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int[] array = new int[args.length - 1];\r\n        int leftBoundary = 0;\r\n        int rightBoundary = array.length - 1;\r\n        int wantedValue = Integer.parseInt(args[0]);\r\n        for (int i = 1; i &lt; args.length; i++) {\r\n            array[i - 1] = Integer.parseInt(args[i]);\r\n        }\r\n        int splitAtIndex = split(array, wantedValue, leftBoundary, rightBoundary);\r\n        System.out.println(splitAtIndex);\r\n    }\r\n}\r\n```\r\nI removed the `import` statement since `Scanner` is not used. I also removed method `search` since it is never called.\r\n\r\nIf I run the above code using your example [command-line] arguments, i.e.\r\n```none\r\n4 1 2 3 4 5 6\r\n```\r\nthen method `search` returns 3 &amp;mdash; which is the index of the searched-for element in the array since 4 is the searched-for value and the array contains the numbers 1 to 6 (inclusive).\r\n\r\nOf-course, the array being searched must be sorted.\r\n\r\nNote that if the searched-for value is smaller than the first array element, i.e. the element at index 0 (zero), method `search` will return -1 (minus one) and if the searched-for value is greater than the last element in the array, method `search` will return the array length. Hence you can determine whether the searched-for value is not found in the array.\r\n\r\nIf the [command-line] arguments are:\r\n```none\r\n4 1 2 3 5 6\r\n```\r\nthen method `search` returns 2. Note that the searched-for value, i.e. 4, is **not** in the array.\r\n\r\nIt is probably also a good idea to check the parameters of method `search`, i.e. that `right` should **not** be less than `left` and that `haystack` contains at least one element.\r\n","title":"the output of my Interpolation search is wrong, why?","body":"<p>Apart from the <a href=\"https://stackoverflow.com/questions/74760288/the-output-of-my-interpolation-search-is-wrong-why#comment131943208_74760288\">comment</a>, by @user16320675, to your question, your initialization is wrong.</p>\n<p>The first [command-line] argument is the value of <code>wantedValue</code>. The remaining [command-line] arguments are the elements of <code>array</code>.</p>\n<p>Also, <code>leftBoundary</code> should be 0 (zero) and not 1 (one) since you probably want to search the whole array.</p>\n<p>Consider the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Search {\n\n    private static int split(int[] haystack, int needle, int left, int right) {\n        if (haystack[right] == haystack[left]) {\n            return left;\n        }\n        else {\n            return (int) (left + ((double) (needle - haystack[left]) / (haystack[right] - haystack[left])) * (right - left));\n        }\n    }\n\n    public static void main(String[] args) {\n        int[] array = new int[args.length - 1];\n        int leftBoundary = 0;\n        int rightBoundary = array.length - 1;\n        int wantedValue = Integer.parseInt(args[0]);\n        for (int i = 1; i &lt; args.length; i++) {\n            array[i - 1] = Integer.parseInt(args[i]);\n        }\n        int splitAtIndex = split(array, wantedValue, leftBoundary, rightBoundary);\n        System.out.println(splitAtIndex);\n    }\n}\n</code></pre>\n<p>I removed the <code>import</code> statement since <code>Scanner</code> is not used. I also removed method <code>search</code> since it is never called.</p>\n<p>If I run the above code using your example [command-line] arguments, i.e.</p>\n<pre class=\"lang-none prettyprint-override\"><code>4 1 2 3 4 5 6\n</code></pre>\n<p>then method <code>search</code> returns 3 — which is the index of the searched-for element in the array since 4 is the searched-for value and the array contains the numbers 1 to 6 (inclusive).</p>\n<p>Of-course, the array being searched must be sorted.</p>\n<p>Note that if the searched-for value is smaller than the first array element, i.e. the element at index 0 (zero), method <code>search</code> will return -1 (minus one) and if the searched-for value is greater than the last element in the array, method <code>search</code> will return the array length. Hence you can determine whether the searched-for value is not found in the array.</p>\n<p>If the [command-line] arguments are:</p>\n<pre class=\"lang-none prettyprint-override\"><code>4 1 2 3 5 6\n</code></pre>\n<p>then method <code>search</code> returns 2. Note that the searched-for value, i.e. 4, is <strong>not</strong> in the array.</p>\n<p>It is probably also a good idea to check the parameters of method <code>search</code>, i.e. that <code>right</code> should <strong>not</strong> be less than <code>left</code> and that <code>haystack</code> contains at least one element.</p>\n"}],"owner":{"account_id":27217972,"reputation":7,"user_id":20747717,"display_name":"Valerij"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74761459,"answer_count":1,"score":0,"last_activity_date":1670851208,"creation_date":1670757017,"question_id":74760288,"body_markdown":"I have to write a Program which is called &quot;Interpolation search&quot;. I came so far but now I am stuck and can&#180;t find the error in my code.\r\nThe method split() makes a problem. This method should give me the index to split. I just typed the formula in this method. Now the big problem is, I every time get 1 as an output which is always the &quot;leftBoundary&quot;. For example, I write in my terminal java Search 4 1 2 3 4 5 6 then I get every time 1. Why? what is wrong?\r\n\r\nedit: \r\nI was asked to explain what the split method does in Detail:\r\nThis method uses the formula (look at added picture) to determine where to split the (sorted) array and returns the corresponding index.\r\nIn the picture: v = wantedValue, l = leftBoundary, r = rightBoundary\r\n[enter image description here][1]\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Search {\r\n\r\n    // This method uses the formula (look at added picture) to determine where to split the (sorted) array and returns the corresponding index.\r\n    private static int split(int[] haystack, int needle, int left, int right) {\r\n        if(haystack[right] == haystack[left]) {\r\n            return left;\r\n        }else {\r\n        needle = left + ((needle - haystack[left]) / (haystack[right] - haystack[left])) * (right - left);\r\n        return needle;\r\n        }\r\n    }\r\n    private static int search(int[] haystack, int needle) {\r\n\r\n        return -1;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int[] array = new int[args.length];\r\n        int leftBoundary = 1;\r\n        int rightBoundary = array.length - 1;\r\n        int wantedValue = Integer.parseInt(args[0]);\r\n\r\n\r\n        for(int i = 1; i &lt; args.length; i++) {\r\n           array[i] = Integer.parseInt(args[i]);\r\n        }\r\n\r\n         int splitAtIndex = split(array, wantedValue, leftBoundary, rightBoundary);\r\n         System.out.println(splitAtIndex);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI tried to debug but with no success and also searched  here on stackoverflow. Many have question to interpolation search, but the answers are complex and unfortunately do not explain the exact problem I have\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0Qmlb.jpg","title":"the output of my Interpolation search is wrong, why?","body":"<p>I have to write a Program which is called &quot;Interpolation search&quot;. I came so far but now I am stuck and can´t find the error in my code.\nThe method split() makes a problem. This method should give me the index to split. I just typed the formula in this method. Now the big problem is, I every time get 1 as an output which is always the &quot;leftBoundary&quot;. For example, I write in my terminal java Search 4 1 2 3 4 5 6 then I get every time 1. Why? what is wrong?</p>\n<p>edit:\nI was asked to explain what the split method does in Detail:\nThis method uses the formula (look at added picture) to determine where to split the (sorted) array and returns the corresponding index.\nIn the picture: v = wantedValue, l = leftBoundary, r = rightBoundary\n<a href=\"https://i.stack.imgur.com/0Qmlb.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>import java.util.Scanner;\n\npublic class Search {\n\n    // This method uses the formula (look at added picture) to determine where to split the (sorted) array and returns the corresponding index.\n    private static int split(int[] haystack, int needle, int left, int right) {\n        if(haystack[right] == haystack[left]) {\n            return left;\n        }else {\n        needle = left + ((needle - haystack[left]) / (haystack[right] - haystack[left])) * (right - left);\n        return needle;\n        }\n    }\n    private static int search(int[] haystack, int needle) {\n\n        return -1;\n    }\n\n    public static void main(String[] args) {\n\n        int[] array = new int[args.length];\n        int leftBoundary = 1;\n        int rightBoundary = array.length - 1;\n        int wantedValue = Integer.parseInt(args[0]);\n\n\n        for(int i = 1; i &lt; args.length; i++) {\n           array[i] = Integer.parseInt(args[i]);\n        }\n\n         int splitAtIndex = split(array, wantedValue, leftBoundary, rightBoundary);\n         System.out.println(splitAtIndex);\n    }\n}\n</code></pre>\n<p>I tried to debug but with no success and also searched  here on stackoverflow. Many have question to interpolation search, but the answers are complex and unfortunately do not explain the exact problem I have</p>\n"},{"tags":["java","jar","gps"],"answers":[{"tags":[],"owner":{"account_id":5218681,"reputation":1200,"user_id":4172762,"accept_rate":44,"display_name":"Sireesh Vattikuti"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1425148340,"creation_date":1425148340,"answer_id":28785310,"question_id":28785141,"body_markdown":"use this command to check the jar is running or not.  \r\n    \r\n    ps aux | grep java\r\n\r\neg:\r\n\r\nsys_name 7526 60.1  2.6 4474364 104092 pts/4  Sl+  23:57   0:09 java -jar start.jar","title":"How to know if a jar file is already running?","body":"<p>use this command to check the jar is running or not.  </p>\n\n<pre><code>ps aux | grep java\n</code></pre>\n\n<p>eg:</p>\n\n<p>sys_name 7526 60.1  2.6 4474364 104092 pts/4  Sl+  23:57   0:09 java -jar start.jar</p>\n"},{"tags":[],"owner":{"account_id":3244224,"reputation":973,"user_id":2736316,"display_name":"DMP"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1425149393,"creation_date":1425149393,"answer_id":28785476,"question_id":28785141,"body_markdown":"You can us `ps` and `grep` on a *nix system as described above. For windows you can do:\n\n    tasklist /v /FI &quot;IMAGENAME eq java.exe&quot;\nThis will get you a list of all the Java programs running. I don&#39;t think you can get much closer on Windows.","title":"How to know if a jar file is already running?","body":"<p>You can us <code>ps</code> and <code>grep</code> on a *nix system as described above. For windows you can do:</p>\n\n<pre><code>tasklist /v /FI \"IMAGENAME eq java.exe\"\n</code></pre>\n\n<p>This will get you a list of all the Java programs running. I don't think you can get much closer on Windows.</p>\n"},{"tags":[],"owner":{"account_id":25472112,"reputation":1,"user_id":19270121,"display_name":"MaximoC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654550894,"creation_date":1654342951,"answer_id":72499455,"question_id":28785141,"body_markdown":"To test this, pick a `.exe` file you see running in Task Manager and test out the `cmd` line.\r\n\r\nIf you see the following output :\r\n\r\n&gt; No tasks are running which match the specified criteria\r\n\r\nThat means there is no task running equal to `java.exe`.","title":"How to know if a jar file is already running?","body":"<p>To test this, pick a <code>.exe</code> file you see running in Task Manager and test out the <code>cmd</code> line.</p>\n<p>If you see the following output :</p>\n<blockquote>\n<p>No tasks are running which match the specified criteria</p>\n</blockquote>\n<p>That means there is no task running equal to <code>java.exe</code>.</p>\n"},{"tags":[],"owner":{"account_id":26495771,"reputation":11,"user_id":20133559,"display_name":"Orlando Macias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670850953,"creation_date":1670850400,"answer_id":74771554,"question_id":28785141,"body_markdown":"Use the following command:\r\n\r\n\r\n    ps aux | grep java","title":"How to know if a jar file is already running?","body":"<p>Use the following command:</p>\n<pre><code>ps aux | grep java\n</code></pre>\n"}],"owner":{"account_id":5642029,"reputation":386,"user_id":4465541,"accept_rate":40,"display_name":"crAlexander"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23683,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":4,"score":11,"last_activity_date":1670850953,"creation_date":1425147256,"question_id":28785141,"body_markdown":"After a research in google i found good answers like:\r\n\r\n1)using **jps** or **jps -l** to get the jars running under JVM\r\n\r\nOK with this answer but if the user has not java installed at all and i run my jar using for example a .bat file and a folder with java JRE.\r\n\r\nAlso gps function is experimental and only JDK contais it and not JRE.\r\n\r\n2)https://stackoverflow.com/questions/20168332/check-if-jar-running-from-shell\r\n\r\nI need a solution for this on windows platform.Although a platform indepedent solution is always prefferable.\r\n\r\nSomething more about jps(**cause it is Platform Independent**) I will appreciate an answer where you provide me a good solution with **jps** function.\r\n","title":"How to know if a jar file is already running?","body":"<p>After a research in google i found good answers like:</p>\n\n<p>1)using <strong>jps</strong> or <strong>jps -l</strong> to get the jars running under JVM</p>\n\n<p>OK with this answer but if the user has not java installed at all and i run my jar using for example a .bat file and a folder with java JRE.</p>\n\n<p>Also gps function is experimental and only JDK contais it and not JRE.</p>\n\n<p>2)<a href=\"https://stackoverflow.com/questions/20168332/check-if-jar-running-from-shell\">Check if jar running from shell</a></p>\n\n<p>I need a solution for this on windows platform.Although a platform indepedent solution is always prefferable.</p>\n\n<p>Something more about jps(<strong>cause it is Platform Independent</strong>) I will appreciate an answer where you provide me a good solution with <strong>jps</strong> function.</p>\n"},{"tags":["java","tomcat","server","tomcat9","tomcat-manager"],"owner":{"account_id":2684968,"reputation":5561,"user_id":2319542,"accept_rate":82,"display_name":"Sash_KP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670850812,"creation_date":1670850812,"question_id":74771642,"body_markdown":"I have multiple services defined in server.xml and below is the one which i need to restart(stop and start again) using tomcat manager application/api. \r\n\r\n        &lt;Service name=&quot;myService&quot;&gt;\r\n        &lt;Executor name=&quot;myExecutorPool&quot; namePrefix=&quot;my-http-pool&quot;\r\n            maxThreads=&quot;10&quot; minSpareThreads=&quot;1&quot;/&gt;\r\n        &lt;Connector\r\n             port=&quot;8701&quot; protocol=&quot;org.apache.coyote.http11.Http11Nio2Protocol&quot; SSLEnabled=&quot;true&quot;\r\n             executor=&quot;myExecutorPool&quot;\r\n             maxSavePostSize=&quot;-1&quot;\r\n             scheme=&quot;https&quot; secure=&quot;true&quot;\r\n             enableLookups=&quot;false&quot; disableUploadTimeout=&quot;true&quot;\r\n             acceptCount=&quot;100&quot;\r\n             sslEnabledProtocols=&quot;${sslEnabledProtocolsMediumSecurity}&quot; server=&quot; &quot;\r\n             allowUnsafeLegacyRenegotiation=&quot;false&quot;\r\n             clientAuth=&quot;want&quot;\r\n             bindOnInit=&quot;false&quot;\r\n             URIEncoding=&quot;UTF-8&quot;\r\n             useBodyEncodingForURI=&quot;true&quot;\r\n             keystoreType=&quot;PKCS11&quot;\r\n             keyAlias=&quot;server&quot;\r\n             trustManagerClassName=&quot;com.example.com.myproj.cert.RestTrustManager&quot;\r\n             sendReasonPhrase=&quot;true&quot;\r\n             sslImplementationName=&quot;com.example.com.myproj.cert.MyProjImplementation&quot;\r\n             ciphers=&quot;${tls.ciphers}&quot;\r\n         /&gt;\r\n        &lt;Engine name=&quot;myEngine&quot; defaultHost=&quot;localhost&quot;&gt;\r\n          &lt;Valve className=&quot;org.apache.catalina.valves.MethodsValve&quot; methodsSupported=&quot;GET,POST,PUT,DELETE,HEAD&quot; /&gt;\r\n          &lt;Host name=&quot;localhost&quot;  appBase=&quot;mywebapp&quot;\r\n                unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;\r\n                xmlValidation=&quot;false&quot; xmlNamespaceAware=&quot;false&quot;&gt;\r\n                &lt;Context path=&quot;&quot; docBase=&quot;../webapps/ROOT&quot; &gt;\r\n                  &lt;Valve className=&quot;org.apache.catalina.valves.RedirectValve&quot; sendToApp=&quot;/myapp/&quot; /&gt;\r\n                &lt;/Context&gt;\r\n          &lt;/Host&gt;\r\n        &lt;/Engine&gt;\r\n      &lt;/Service&gt;\r\n\r\nWhen i do `curl -username:password http://localhost:8080/manager/text/list` , i don&#39;t see this above service listed. It means i assume that, this service is not running as a separate service but contained inside appserver. \r\n\r\nSo i won&#39;t be able to do something like `http://localhost:8080/manager/text/reload?path=/myService`. \r\n\r\nCan you please help here, how do i stop/start (restart) this particular service using tomcat manager app? \r\n\r\nIf JMX can be used here, can you please provide any links/resources for the same mentioning how to do that?\r\n","title":"Stopping and starting a service present in server.xml using tomcat manager application/api (Single tomcat instance)","body":"<p>I have multiple services defined in server.xml and below is the one which i need to restart(stop and start again) using tomcat manager application/api.</p>\n<pre><code>    &lt;Service name=&quot;myService&quot;&gt;\n    &lt;Executor name=&quot;myExecutorPool&quot; namePrefix=&quot;my-http-pool&quot;\n        maxThreads=&quot;10&quot; minSpareThreads=&quot;1&quot;/&gt;\n    &lt;Connector\n         port=&quot;8701&quot; protocol=&quot;org.apache.coyote.http11.Http11Nio2Protocol&quot; SSLEnabled=&quot;true&quot;\n         executor=&quot;myExecutorPool&quot;\n         maxSavePostSize=&quot;-1&quot;\n         scheme=&quot;https&quot; secure=&quot;true&quot;\n         enableLookups=&quot;false&quot; disableUploadTimeout=&quot;true&quot;\n         acceptCount=&quot;100&quot;\n         sslEnabledProtocols=&quot;${sslEnabledProtocolsMediumSecurity}&quot; server=&quot; &quot;\n         allowUnsafeLegacyRenegotiation=&quot;false&quot;\n         clientAuth=&quot;want&quot;\n         bindOnInit=&quot;false&quot;\n         URIEncoding=&quot;UTF-8&quot;\n         useBodyEncodingForURI=&quot;true&quot;\n         keystoreType=&quot;PKCS11&quot;\n         keyAlias=&quot;server&quot;\n         trustManagerClassName=&quot;com.example.com.myproj.cert.RestTrustManager&quot;\n         sendReasonPhrase=&quot;true&quot;\n         sslImplementationName=&quot;com.example.com.myproj.cert.MyProjImplementation&quot;\n         ciphers=&quot;${tls.ciphers}&quot;\n     /&gt;\n    &lt;Engine name=&quot;myEngine&quot; defaultHost=&quot;localhost&quot;&gt;\n      &lt;Valve className=&quot;org.apache.catalina.valves.MethodsValve&quot; methodsSupported=&quot;GET,POST,PUT,DELETE,HEAD&quot; /&gt;\n      &lt;Host name=&quot;localhost&quot;  appBase=&quot;mywebapp&quot;\n            unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;\n            xmlValidation=&quot;false&quot; xmlNamespaceAware=&quot;false&quot;&gt;\n            &lt;Context path=&quot;&quot; docBase=&quot;../webapps/ROOT&quot; &gt;\n              &lt;Valve className=&quot;org.apache.catalina.valves.RedirectValve&quot; sendToApp=&quot;/myapp/&quot; /&gt;\n            &lt;/Context&gt;\n      &lt;/Host&gt;\n    &lt;/Engine&gt;\n  &lt;/Service&gt;\n</code></pre>\n<p>When i do <code>curl -username:password http://localhost:8080/manager/text/list</code> , i don't see this above service listed. It means i assume that, this service is not running as a separate service but contained inside appserver.</p>\n<p>So i won't be able to do something like <code>http://localhost:8080/manager/text/reload?path=/myService</code>.</p>\n<p>Can you please help here, how do i stop/start (restart) this particular service using tomcat manager app?</p>\n<p>If JMX can be used here, can you please provide any links/resources for the same mentioning how to do that?</p>\n"},{"tags":["java","spring-boot","maven"],"owner":{"account_id":3847031,"reputation":584,"user_id":3188225,"display_name":"umunBeing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670850477,"creation_date":1670850477,"question_id":74771576,"body_markdown":"I have a Springboot multi-module maven project. \r\n\r\nNow I want to move one of the applications(module) to its own folder/project.\r\n\r\nSo far, \r\n\r\n1. I created a new folder with its POM.xml\r\n2. Copied my intended module to it, and made it a child module of the project&#39;s pom.\r\n3. In my original project I ran `mvn package` to create jars of all the modules.\r\n4. Copied these jars to a folder (./repo) inside the new project.\r\n\r\nBut now, I am unable to import dependencies from these JARs.\r\n\r\nI have added this to the new project&#39;s POM\r\n\r\n```\r\n&lt;repositories&gt;\r\n  &lt;repository&gt;\r\n    &lt;id&gt;data-local&lt;/id&gt;\r\n    &lt;name&gt;data&lt;/name&gt;\r\n    &lt;url&gt;file://${project.basedir}/repo&lt;/url&gt;\r\n  &lt;/repository&gt;\r\n&lt;/repositories&gt;\r\n```","title":"How to move one of the maven multi-module projects to its own directory?","body":"<p>I have a Springboot multi-module maven project.</p>\n<p>Now I want to move one of the applications(module) to its own folder/project.</p>\n<p>So far,</p>\n<ol>\n<li>I created a new folder with its POM.xml</li>\n<li>Copied my intended module to it, and made it a child module of the project's pom.</li>\n<li>In my original project I ran <code>mvn package</code> to create jars of all the modules.</li>\n<li>Copied these jars to a folder (./repo) inside the new project.</li>\n</ol>\n<p>But now, I am unable to import dependencies from these JARs.</p>\n<p>I have added this to the new project's POM</p>\n<pre><code>&lt;repositories&gt;\n  &lt;repository&gt;\n    &lt;id&gt;data-local&lt;/id&gt;\n    &lt;name&gt;data&lt;/name&gt;\n    &lt;url&gt;file://${project.basedir}/repo&lt;/url&gt;\n  &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1670773177,"post_id":74762064,"comment_id":131945830,"body_markdown":"you need to edit your question and post a [mcve] including errors.","body":"you need to edit your question and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> including errors."}],"answers":[{"tags":[],"owner":{"account_id":27220217,"reputation":11,"user_id":20749626,"display_name":"h3y"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670850300,"creation_date":1670783039,"answer_id":74763395,"question_id":74762064,"body_markdown":"Make sure to review the documentation for [`HashMap`][0], the code snippets you included show that you aren&#39;t using the correct methods to retrieve key-mapped values. \r\n\r\nFrom your original code snippet, you are invoking Map.getClass().getName() to set your manufacturerPriceCode.\r\n\r\n```\r\nfor (ItemPriceCode ipcs : itemPriceCodes) {\r\n    ipcs.setManufacturerPriceCode(ipcToMFPNameMap.getClass().getName());\r\n}\r\n```\r\n\r\n[`getName`][1] is a method of the Java [`Class`][2] API. Invoking it returns the name of the Class entity.\r\n\r\nExamples: \r\n\r\n`String.class.getName()` returns &quot;java.lang.String&quot;\r\n\r\n`byte.class.getName()` returns &quot;byte&quot; \r\n\r\nThis causes your manufacturerPriceCode to be set to &quot;java.util.HashMap&quot;.\r\n\r\nIn your second snippet, you changed your code to:\r\n\r\n```\r\nfor (ItemPriceCode ipcs : itemPriceCodes) {\r\n    String manufacturePriceCode =ipcToMFPNameMap.get(priceCode).getName();\r\n    ipcs.setManufacturerPriceCode(manufacturePriceCode);\r\n}\r\n```\r\n\r\nThis will create a compile time error due to `ipcToMFPNameMap.get(priceCode).getName();` as `getName()` is invalid here.\r\n\r\nTo return key-mapped values in HashMap, simply use `get()`.\r\n\r\n```\r\nfor (ItemPriceCode ipcs : itemPriceCodes) \r\n    ipcs.setManufacturerPriceCode(ipcToMFPNameMap.get(icps)); \r\n```\r\n\r\n\r\n[0]: https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\r\n\r\n[1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getName--\r\n\r\n[2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html","title":"How to get particular field value from map object using java","body":"<p>Make sure to review the documentation for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\" rel=\"nofollow noreferrer\"><code>HashMap</code></a>, the code snippets you included show that you aren't using the correct methods to retrieve key-mapped values.</p>\n<p>From your original code snippet, you are invoking Map.getClass().getName() to set your manufacturerPriceCode.</p>\n<pre><code>for (ItemPriceCode ipcs : itemPriceCodes) {\n    ipcs.setManufacturerPriceCode(ipcToMFPNameMap.getClass().getName());\n}\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getName--\" rel=\"nofollow noreferrer\"><code>getName</code></a> is a method of the Java <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html\" rel=\"nofollow noreferrer\"><code>Class</code></a> API. Invoking it returns the name of the Class entity.</p>\n<p>Examples:</p>\n<p><code>String.class.getName()</code> returns &quot;java.lang.String&quot;</p>\n<p><code>byte.class.getName()</code> returns &quot;byte&quot;</p>\n<p>This causes your manufacturerPriceCode to be set to &quot;java.util.HashMap&quot;.</p>\n<p>In your second snippet, you changed your code to:</p>\n<pre><code>for (ItemPriceCode ipcs : itemPriceCodes) {\n    String manufacturePriceCode =ipcToMFPNameMap.get(priceCode).getName();\n    ipcs.setManufacturerPriceCode(manufacturePriceCode);\n}\n</code></pre>\n<p>This will create a compile time error due to <code>ipcToMFPNameMap.get(priceCode).getName();</code> as <code>getName()</code> is invalid here.</p>\n<p>To return key-mapped values in HashMap, simply use <code>get()</code>.</p>\n<pre><code>for (ItemPriceCode ipcs : itemPriceCodes) \n    ipcs.setManufacturerPriceCode(ipcToMFPNameMap.get(icps)); \n</code></pre>\n"}],"owner":{"display_name":"user20714961"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670850300,"creation_date":1670772511,"question_id":74762064,"body_markdown":"I have a map object and it contains manufacture Price code as a string value. When I try to get manufacture price code value from map object, it gives me &quot;java.util.HashMap&quot;, but I want it to give me manufacture price code value. For your reference, I posted the code I tried for this issue\r\n\r\n```java\r\nprivate Item getItemManufacturerPriceCodes(Item item) {\r\n    List&lt;ItemPriceCode&gt; itemPriceCodes = item.getItemPriceCodes();\r\n    List&lt;String&gt; priceCodeList = new ArrayList&lt;String&gt;();\r\n    for (ItemPriceCode ipc : itemPriceCodes) {\r\n        //get the string value from the list\r\n        priceCodeList.add(ipc.getPriceCode());\r\n    }\r\n    //pass this string value in query\r\n    List&lt;ManufacturerPriceCodes&gt;mpc = manufacturerPriceCodesRepository.\r\n             findByManufacturerIDAndPriceCodeInAndRecordDeleted(item.getManufacturerID(),priceCodeList,NOT_DELETED);\r\n      \r\n    //Convert list to map\r\n    Map&lt;String, ManufacturerPriceCodes&gt; ipcToMFPNameMap = mpc.stream().collect(\r\n            Collectors.toMap(ManufacturerPriceCodes :: getPriceCode,Function.identity()));// Object\r\n\r\n     for (ItemPriceCode ipcs : itemPriceCodes) {\r\n         ipcs.setManufacturerPriceCode(ipcToMFPNameMap.getClass().getName());\r\n     }\r\n     item.getItemPriceCodes()\r\n             .removeIf(ipcs -&gt; DELETED.equals(ipcs.getRecordDeleted()));\r\n     return item;      \r\n}\r\n```\r\n\r\nI get this type of result.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/ePnOG.png)](https://i.stack.imgur.com/ePnOG.png)\r\n\r\nI want this type of result\r\n\r\n[![enter image description here](https://i.stack.imgur.com/2ltET.png)](https://i.stack.imgur.com/2ltET.png)\r\n\r\nI get an error at this point\r\n\r\n```\r\nfor (ItemPriceCode ipcs : itemPriceCodes) {\r\n    String manufacturePriceCode =ipcToMFPNameMap.get(priceCode).getName();\r\n    ipcs.setManufacturerPriceCode(manufacturePriceCode);\r\n}\r\n```\r\n\r\nHow to get manufacture Price code from my map object, `ipcToMFPNameMa`?","title":"How to get particular field value from map object using java","body":"<p>I have a map object and it contains manufacture Price code as a string value. When I try to get manufacture price code value from map object, it gives me &quot;java.util.HashMap&quot;, but I want it to give me manufacture price code value. For your reference, I posted the code I tried for this issue</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Item getItemManufacturerPriceCodes(Item item) {\n    List&lt;ItemPriceCode&gt; itemPriceCodes = item.getItemPriceCodes();\n    List&lt;String&gt; priceCodeList = new ArrayList&lt;String&gt;();\n    for (ItemPriceCode ipc : itemPriceCodes) {\n        //get the string value from the list\n        priceCodeList.add(ipc.getPriceCode());\n    }\n    //pass this string value in query\n    List&lt;ManufacturerPriceCodes&gt;mpc = manufacturerPriceCodesRepository.\n             findByManufacturerIDAndPriceCodeInAndRecordDeleted(item.getManufacturerID(),priceCodeList,NOT_DELETED);\n      \n    //Convert list to map\n    Map&lt;String, ManufacturerPriceCodes&gt; ipcToMFPNameMap = mpc.stream().collect(\n            Collectors.toMap(ManufacturerPriceCodes :: getPriceCode,Function.identity()));// Object\n\n     for (ItemPriceCode ipcs : itemPriceCodes) {\n         ipcs.setManufacturerPriceCode(ipcToMFPNameMap.getClass().getName());\n     }\n     item.getItemPriceCodes()\n             .removeIf(ipcs -&gt; DELETED.equals(ipcs.getRecordDeleted()));\n     return item;      \n}\n</code></pre>\n<p>I get this type of result.</p>\n<p><a href=\"https://i.stack.imgur.com/ePnOG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ePnOG.png\" alt=\"enter image description here\" /></a></p>\n<p>I want this type of result</p>\n<p><a href=\"https://i.stack.imgur.com/2ltET.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2ltET.png\" alt=\"enter image description here\" /></a></p>\n<p>I get an error at this point</p>\n<pre><code>for (ItemPriceCode ipcs : itemPriceCodes) {\n    String manufacturePriceCode =ipcToMFPNameMap.get(priceCode).getName();\n    ipcs.setManufacturerPriceCode(manufacturePriceCode);\n}\n</code></pre>\n<p>How to get manufacture Price code from my map object, <code>ipcToMFPNameMa</code>?</p>\n"},{"tags":["java","android-studio","android-mediaplayer"],"owner":{"account_id":22988416,"reputation":30,"user_id":17114274,"display_name":"Nicolas Pellerin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670850069,"creation_date":1670850069,"question_id":74771504,"body_markdown":"I am not able to play a sound when it is the first time I pass it through the else if. If I remove the condition, there is not change at all. The code here works fine\r\n```         if (punchPlayerSound != null)\r\n                punchPlayerSound.start();\r\n\r\n        }\r\n        else if (dodgeCPUSound != null) {\r\n            dodgeCPUSound.start();\r\n        }\r\n```\r\nFor the set, only the fourth sound won&#39;t play the first time even if it value is not null\r\n```\r\n    public void setSounds(MediaPlayer dodgePlayerSound, MediaPlayer punchPlayerSound, MediaPlayer dodgeCPUSound, MediaPlayer punchCPUSound) {\r\n        this.dodgePlayerSound = dodgePlayerSound;\r\n        this.punchPlayerSound = punchPlayerSound;\r\n        this.dodgeCPUSound = dodgeCPUSound;\r\n        this.punchCPUSound = punchCPUSound;\r\n    }\r\n```","title":"Sound mediaPlayer not playing first time android studio","body":"<p>I am not able to play a sound when it is the first time I pass it through the else if. If I remove the condition, there is not change at all. The code here works fine</p>\n<pre><code>                punchPlayerSound.start();\n\n        }\n        else if (dodgeCPUSound != null) {\n            dodgeCPUSound.start();\n        }\n</code></pre>\n<p>For the set, only the fourth sound won't play the first time even if it value is not null</p>\n<pre><code>    public void setSounds(MediaPlayer dodgePlayerSound, MediaPlayer punchPlayerSound, MediaPlayer dodgeCPUSound, MediaPlayer punchCPUSound) {\n        this.dodgePlayerSound = dodgePlayerSound;\n        this.punchPlayerSound = punchPlayerSound;\n        this.dodgeCPUSound = dodgeCPUSound;\n        this.punchCPUSound = punchCPUSound;\n    }\n</code></pre>\n"},{"tags":["java","spring","cassandra","record","java-17"],"owner":{"account_id":12547942,"reputation":139,"user_id":9130606,"display_name":"Dmytro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1670849599,"creation_date":1670840024,"question_id":74769529,"body_markdown":"[![enter image description here](https://i.stack.imgur.com/5yPwR.png)](https://i.stack.imgur.com/5yPwR.png)\r\n\r\nI know that final class cannot be used for Hibernate Entity, but can it be used for cassandra?\r\n\r\n```java\r\n@Table(&quot;custom_table&quot;)\r\npublic record MyTable(\r\n  @PrimaryKey @Column(&quot;id&quot;) String id, \r\n  @Column(&quot;options&quot;) Options options) {\r\n\r\n}\r\n```\r\n","title":"Can I use Java 17 record with Cassandra table?","body":"<p><a href=\"https://i.stack.imgur.com/5yPwR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5yPwR.png\" alt=\"enter image description here\" /></a></p>\n<p>I know that final class cannot be used for Hibernate Entity, but can it be used for cassandra?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Table(&quot;custom_table&quot;)\npublic record MyTable(\n  @PrimaryKey @Column(&quot;id&quot;) String id, \n  @Column(&quot;options&quot;) Options options) {\n\n}\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670849546,"post_id":74771337,"comment_id":131961148,"body_markdown":"You rely on each thread to finish their job before increasing the count, but what if the thread takes a bit longer to finish before the next one starts? By then the count might not have increased. Create a constructor for `SingleTasking` and pass the count there. Or better yet, pass the range for the thread to calculate. That way you reduce the amount of code","body":"You rely on each thread to finish their job before increasing the count, but what if the thread takes a bit longer to finish before the next one starts? By then the count might not have increased. Create a constructor for <code>SingleTasking</code> and pass the count there. Or better yet, pass the range for the thread to calculate. That way you reduce the amount of code"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670850130,"post_id":74771337,"comment_id":131961343,"body_markdown":"And to ensure that each thread is finished, use `thread1.join();` for each one you create","body":"And to ensure that each thread is finished, use <code>thread1.join();</code> for each one you create"},{"owner":{"account_id":24385254,"reputation":1,"user_id":18316137,"display_name":"DEEPANSHU KUNAL"},"score":0,"creation_date":1670850491,"post_id":74771337,"comment_id":131961436,"body_markdown":"Hey @XtremeBaumer  thanks for your help but I have a doubt that isn&#39;t it the thread job to increase the count? or is it like that when one thread is started then JVM donot look for it to complete it just go to execute the next statements?","body":"Hey @XtremeBaumer  thanks for your help but I have a doubt that isn&#39;t it the thread job to increase the count? or is it like that when one thread is started then JVM donot look for it to complete it just go to execute the next statements?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670850612,"post_id":74771337,"comment_id":131961472,"body_markdown":"The main thread and every other thread you create are running separate from each other. You can add some `System.out.println()` statements in you main method and you will see that the main threads just starts the next threads. I mean how else would you run multiple threads at the same time, when the main thread has to wait for each sub thread to finish? Doesn&#39;t really make sense","body":"The main thread and every other thread you create are running separate from each other. You can add some <code>System.out.println()</code> statements in you main method and you will see that the main threads just starts the next threads. I mean how else would you run multiple threads at the same time, when the main thread has to wait for each sub thread to finish? Doesn&#39;t really make sense"},{"owner":{"account_id":24385254,"reputation":1,"user_id":18316137,"display_name":"DEEPANSHU KUNAL"},"score":0,"creation_date":1670850751,"post_id":74771337,"comment_id":131961510,"body_markdown":"@XtremeBaumer And if that is the case then why didnot the stop() method work before starting the next thread. When I am stopping the thread before starting the next thread then the result donot show even wrong sum.","body":"@XtremeBaumer And if that is the case then why didnot the stop() method work before starting the next thread. When I am stopping the thread before starting the next thread then the result donot show even wrong sum."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670850839,"post_id":74771337,"comment_id":131961549,"body_markdown":"`Deprecated.  This method is inherently unsafe. Stopping a thread withThread.stop causes it to unlock all of the monitors that ithas locked (as a natural consequence of the unchecked ThreadDeath exception propagating up the stack). Ifany of the objects previously protected by these monitors were inan inconsistent state, the damaged objects become visible toother threads, potentially resulting in arbitrary behavior. Manyuses of stop should be replaced by code that simplymodifies some variable to indicate that the target thread shouldstop running.`","body":"<code>Deprecated.  This method is inherently unsafe. Stopping a thread withThread.stop causes it to unlock all of the monitors that ithas locked (as a natural consequence of the unchecked ThreadDeath exception propagating up the stack). Ifany of the objects previously protected by these monitors were inan inconsistent state, the damaged objects become visible toother threads, potentially resulting in arbitrary behavior. Manyuses of stop should be replaced by code that simplymodifies some variable to indicate that the target thread shouldstop running.</code>"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670850845,"post_id":74771337,"comment_id":131961551,"body_markdown":"`The target thread should check this variableregularly, and return from its run method in an orderly fashionif the variable indicates that it is to stop running. If thetarget thread waits for long periods (on a condition variable,for example), the interrupt method should be used tointerrupt the wait.For more information, see Whyare Thread.stop, Thread.suspend and Thread.resume Deprecated?`","body":"<code>The target thread should check this variableregularly, and return from its run method in an orderly fashionif the variable indicates that it is to stop running. If thetarget thread waits for long periods (on a condition variable,for example), the interrupt method should be used tointerrupt the wait.For more information, see Whyare Thread.stop, Thread.suspend and Thread.resume Deprecated?</code>"}],"owner":{"account_id":24385254,"reputation":1,"user_id":18316137,"display_name":"DEEPANSHU KUNAL"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670849385,"creation_date":1670849230,"question_id":74771337,"body_markdown":"I want to perform a single-task(finding sum of 1st 100 positive integers) using multiple threads in java. That&#39;s why I&#39;m using a single run() method. I&#39;ve seen multiple sites which shows single-tasking using multithreading by using only single run method(they put the task in same run() method), but I found that it will only only do same task multiple times everytime a new thread is started. That is why I&#39;m using a static variable count.\r\nThe task is divided into 3 sub-tasks-  \r\n1) sum 1 to 50(will be performed by thread1 object)\r\n2) sum 51 to 75(will be performed by thread2 object)\r\n3) sum 76 to 100(will be performed by thread1 object)\r\nSo this is the code which I wrote.\r\n\r\n```\r\n//In this single tasking will be done using multiple thread\r\npublic class SingleTasking extends Thread {\r\n    static int count=0;\r\n    static int sum=0;                                  //global variable to store total sum\r\n    //private static long startTime = System.currentTimeMillis();\r\n    public void run(){\r\n        if(count==0) {\r\n\t    //System.out.println(getName());\r\n\t    sum+=sum1to50();\r\n\t    count++;\r\n\t    //currentThread().stop();\r\n\t}\r\n\telse if(count==1) {\r\n\t    //System.out.println(getName());\r\n\t    sum+=sum51to75();\r\n\t    count++;\r\n\t    //currentThread().stop();\r\n\t}\r\n\telse {\r\n\t    //System.out.println(Thread.currentThread().getName()); \r\n\t    sum+=sum76to100();\r\n\t    System.out.println(&quot;Sum of 1st 100 integers:&quot;+sum);\r\n\t    count++;\r\n\t}\r\n    }\r\n    int sum1to50() {               //1st part of the task\r\n        int sum=0;                      //local variable to store sum 1 to 50\r\n\tfor(int i=1;i&lt;=50;i++)\r\n\t    sum+=i;\r\n\treturn sum;\r\n    }\r\n    int sum51to75() {\t\t\t   //2nd part of the task\r\n\tint sum=0;\t\t\t//local variable to store sum 51 to 75\r\n\tfor(int i=51;i&lt;=75;i++)\r\n\t    sum+=i;\r\n\treturn sum;\r\n    }\r\n    int sum76to100() {\t   \t\t   //3rd part of the task\r\n\tint sum=0;\t\t\t//local variable to store sum 76 to 100\r\n\tfor(int i=76;i&lt;=100;i++)\r\n\t    sum+=i;\r\n\treturn sum;\r\n    }\r\n    public static void main(String args[]){\r\n        System.out.println(&quot;Task is to find sum of first 100 integers.&quot;);\r\n    \tSystem.out.println(&quot;1st thread will find sum of 1-50.&quot;);\r\n    \tSystem.out.println(&quot;2nd thread will find sum of 51-75.&quot;);\r\n    \tSystem.out.println(&quot;3rd thread will find sum of 76-100.&quot;);\r\n    \tSingleTasking thread1=new SingleTasking();    \r\n    \tSingleTasking thread2=new SingleTasking();    \r\n    \tSingleTasking thread3=new SingleTasking();    \r\n    \t//thread1.setPriority(9);\r\n    \t//thread2.setPriority(5);\r\n    \t//thread3.setPriority(1);\r\n    \tthread1.start();\r\n       \t//thread1.stop();\r\n    \tthread2.start();\r\n    \t//thread2.stop();\r\n       \tthread3.start();\r\n       \t//System.out.println(&quot;Sum of 1st 100 integers:&quot;+sum);\r\n       \t//You can&#39;t print sum here as no priority is set to threads \r\n       \t//and therefore it can print any value of static variable sum\r\n       \t//like 0,sum1to50, sum1to75, sum 76to100 depending on \r\n       \t//default main thread execution order.\r\n    \t//Below are the statements to calculate sum\r\n       \t//long endTime = System.currentTimeMillis();\r\n        //System.out.println(&quot;It took &quot; + (endTime - startTime) + &quot; milliseconds&quot;);\r\n    }\r\n}\r\n```\r\n\r\nalthough the output is what I needed most of the times, but sometimes it differs too.\r\n\r\nI tried many things(commented in the code) like giving priority to threads, sleeping threads, stopping them but nothing works.\r\n\r\nCan you explain me why it not working properly?\r\nIt would be helpful if you  give me a better solution.\r\nI do not want to threads run in a particular order but what I want is a single thread will perform a single sub-task(i.e. call any of the sum1to50(), sum51to75(),sum76to100() methods).\r\n","title":"Multi-threading(Maybe Threads not running at my will.)","body":"<p>I want to perform a single-task(finding sum of 1st 100 positive integers) using multiple threads in java. That's why I'm using a single run() method. I've seen multiple sites which shows single-tasking using multithreading by using only single run method(they put the task in same run() method), but I found that it will only only do same task multiple times everytime a new thread is started. That is why I'm using a static variable count.\nThe task is divided into 3 sub-tasks-</p>\n<ol>\n<li>sum 1 to 50(will be performed by thread1 object)</li>\n<li>sum 51 to 75(will be performed by thread2 object)</li>\n<li>sum 76 to 100(will be performed by thread1 object)\nSo this is the code which I wrote.</li>\n</ol>\n<pre><code>//In this single tasking will be done using multiple thread\npublic class SingleTasking extends Thread {\n    static int count=0;\n    static int sum=0;                                  //global variable to store total sum\n    //private static long startTime = System.currentTimeMillis();\n    public void run(){\n        if(count==0) {\n        //System.out.println(getName());\n        sum+=sum1to50();\n        count++;\n        //currentThread().stop();\n    }\n    else if(count==1) {\n        //System.out.println(getName());\n        sum+=sum51to75();\n        count++;\n        //currentThread().stop();\n    }\n    else {\n        //System.out.println(Thread.currentThread().getName()); \n        sum+=sum76to100();\n        System.out.println(&quot;Sum of 1st 100 integers:&quot;+sum);\n        count++;\n    }\n    }\n    int sum1to50() {               //1st part of the task\n        int sum=0;                      //local variable to store sum 1 to 50\n    for(int i=1;i&lt;=50;i++)\n        sum+=i;\n    return sum;\n    }\n    int sum51to75() {              //2nd part of the task\n    int sum=0;          //local variable to store sum 51 to 75\n    for(int i=51;i&lt;=75;i++)\n        sum+=i;\n    return sum;\n    }\n    int sum76to100() {             //3rd part of the task\n    int sum=0;          //local variable to store sum 76 to 100\n    for(int i=76;i&lt;=100;i++)\n        sum+=i;\n    return sum;\n    }\n    public static void main(String args[]){\n        System.out.println(&quot;Task is to find sum of first 100 integers.&quot;);\n        System.out.println(&quot;1st thread will find sum of 1-50.&quot;);\n        System.out.println(&quot;2nd thread will find sum of 51-75.&quot;);\n        System.out.println(&quot;3rd thread will find sum of 76-100.&quot;);\n        SingleTasking thread1=new SingleTasking();    \n        SingleTasking thread2=new SingleTasking();    \n        SingleTasking thread3=new SingleTasking();    \n        //thread1.setPriority(9);\n        //thread2.setPriority(5);\n        //thread3.setPriority(1);\n        thread1.start();\n        //thread1.stop();\n        thread2.start();\n        //thread2.stop();\n        thread3.start();\n        //System.out.println(&quot;Sum of 1st 100 integers:&quot;+sum);\n        //You can't print sum here as no priority is set to threads \n        //and therefore it can print any value of static variable sum\n        //like 0,sum1to50, sum1to75, sum 76to100 depending on \n        //default main thread execution order.\n        //Below are the statements to calculate sum\n        //long endTime = System.currentTimeMillis();\n        //System.out.println(&quot;It took &quot; + (endTime - startTime) + &quot; milliseconds&quot;);\n    }\n}\n</code></pre>\n<p>although the output is what I needed most of the times, but sometimes it differs too.</p>\n<p>I tried many things(commented in the code) like giving priority to threads, sleeping threads, stopping them but nothing works.</p>\n<p>Can you explain me why it not working properly?\nIt would be helpful if you  give me a better solution.\nI do not want to threads run in a particular order but what I want is a single thread will perform a single sub-task(i.e. call any of the sum1to50(), sum51to75(),sum76to100() methods).</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":2228996,"reputation":15977,"user_id":1967100,"accept_rate":78,"display_name":"cahen"},"score":1,"creation_date":1488205286,"post_id":42488035,"comment_id":72115668,"body_markdown":"try right-clicking the pom.xml -&gt; Maven -&gt; Reimport. Did it help?","body":"try right-clicking the pom.xml -&gt; Maven -&gt; Reimport. Did it help?"},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1488205534,"post_id":42488035,"comment_id":72115855,"body_markdown":"What Maven version do you use for importing? See if [this answer](http://stackoverflow.com/a/42427510/104891) helps to resolve the problem.","body":"What Maven version do you use for importing? See if <a href=\"http://stackoverflow.com/a/42427510/104891\">this answer</a> helps to resolve the problem."},{"owner":{"account_id":2883526,"reputation":2320,"user_id":3439993,"accept_rate":33,"display_name":"Deltharis"},"score":0,"creation_date":1488205746,"post_id":42488035,"comment_id":72116041,"body_markdown":"Do you have any unchecked profiles?","body":"Do you have any unchecked profiles?"},{"owner":{"account_id":4181786,"reputation":617,"user_id":3426603,"accept_rate":38,"display_name":"user3426603"},"score":0,"creation_date":1488206294,"post_id":42488035,"comment_id":72116425,"body_markdown":"I use Maven (3.3.9) \nI tried pom.xml -&gt; Maven -&gt; Reimport, but it does not help!","body":"I use Maven (3.3.9)  I tried pom.xml -&gt; Maven -&gt; Reimport, but it does not help!"},{"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1488207510,"post_id":42488035,"comment_id":72117248,"body_markdown":"Which &quot;User settings file:&quot; is being used in IntelliJ - same one as per command line (`M2_HOME`) ??","body":"Which &quot;User settings file:&quot; is being used in IntelliJ - same one as per command line (<code>M2_HOME</code>) ??"},{"owner":{"account_id":6498978,"reputation":720,"user_id":5030518,"display_name":"Kevin Caravaggio"},"score":0,"creation_date":1495247692,"post_id":42488035,"comment_id":75186215,"body_markdown":"Hello, I have the same problem with an enterprise application. I will fix it soon and share my solution here.","body":"Hello, I have the same problem with an enterprise application. I will fix it soon and share my solution here."},{"owner":{"account_id":2821471,"reputation":378,"user_id":2624779,"display_name":"Sumit Kushwaha"},"score":1,"creation_date":1497248603,"post_id":42488035,"comment_id":75978764,"body_markdown":"After reimporting I just restarted my client and found that this has been resolved. I made sure that it is not happening due to some conflicts by conflicting dependencies by generating dependency tree using &quot;mvn dependency:tree -Dverbos&quot; before though.","body":"After reimporting I just restarted my client and found that this has been resolved. I made sure that it is not happening due to some conflicts by conflicting dependencies by generating dependency tree using &quot;mvn dependency:tree -Dverbos&quot; before though."},{"owner":{"account_id":3149743,"reputation":665,"user_id":2663412,"accept_rate":56,"display_name":"elgolondrino"},"score":0,"creation_date":1506020719,"post_id":42488035,"comment_id":79663100,"body_markdown":"Can you show your `pom.xml`?","body":"Can you show your <code>pom.xml</code>?"},{"owner":{"account_id":3149743,"reputation":665,"user_id":2663412,"accept_rate":56,"display_name":"elgolondrino"},"score":0,"creation_date":1506020750,"post_id":42488035,"comment_id":79663114,"body_markdown":"Perhaps it&#39;s to do with `Dependency Management`?","body":"Perhaps it&#39;s to do with <code>Dependency Management</code>?"},{"owner":{"account_id":356977,"reputation":1003,"user_id":696839,"accept_rate":71,"display_name":"mwalter"},"score":2,"creation_date":1508320902,"post_id":42488035,"comment_id":80562071,"body_markdown":"After restarting IntelliJ the issue was gone. I&#39;m using IntelliJ 2017.2.5.","body":"After restarting IntelliJ the issue was gone. I&#39;m using IntelliJ 2017.2.5."}],"answers":[{"tags":[],"owner":{"account_id":3169753,"reputation":764,"user_id":2679033,"display_name":"Rajitha Bhanuka"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1615963310,"creation_date":1564141130,"answer_id":57219313,"question_id":42488035,"body_markdown":"Re imported and restart(Invalidate Caches / Restart) the IntelliJ. that was working\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jswru.png","title":"IntelliJ IDEA does not recognise maven dependencies (omitted for conflict with ...)","body":"<p>Re imported and restart(Invalidate Caches / Restart) the IntelliJ. that was working</p>\n<p><a href=\"https://i.stack.imgur.com/jswru.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jswru.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":109465,"reputation":7286,"user_id":290036,"accept_rate":89,"display_name":"Horatiu Jeflea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575473325,"creation_date":1575473325,"answer_id":59179420,"question_id":42488035,"body_markdown":"Had the same issue.\r\n\r\nInstead of \r\n   \r\n    File &gt; Open\r\n\r\n used \r\n\r\n    File &gt; New &gt; Import from Existing Sources\r\n\r\n and it worked","title":"IntelliJ IDEA does not recognise maven dependencies (omitted for conflict with ...)","body":"<p>Had the same issue.</p>\n\n<p>Instead of </p>\n\n<pre><code>File &gt; Open\n</code></pre>\n\n<p>used </p>\n\n<pre><code>File &gt; New &gt; Import from Existing Sources\n</code></pre>\n\n<p>and it worked</p>\n"},{"tags":[],"owner":{"account_id":16235390,"reputation":11,"user_id":11722978,"display_name":"sarathezil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588063438,"creation_date":1588063438,"answer_id":61476093,"question_id":42488035,"body_markdown":"You can do File-&gt; Invalidate Caches/Restart... The errors will be gone after IntelliJ restarts.","title":"IntelliJ IDEA does not recognise maven dependencies (omitted for conflict with ...)","body":"<p>You can do File-> Invalidate Caches/Restart... The errors will be gone after IntelliJ restarts.</p>\n"},{"tags":[],"owner":{"account_id":17058145,"reputation":31,"user_id":12342189,"display_name":"Seadrill"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593596504,"creation_date":1593596504,"answer_id":62673996,"question_id":42488035,"body_markdown":"Just rebooting IntelliJ did the trick for me. Simple but effective.","title":"IntelliJ IDEA does not recognise maven dependencies (omitted for conflict with ...)","body":"<p>Just rebooting IntelliJ did the trick for me. Simple but effective.</p>\n"},{"tags":[],"owner":{"account_id":6778544,"reputation":1,"user_id":5219658,"display_name":"cajo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607101818,"creation_date":1607101818,"answer_id":65147756,"question_id":42488035,"body_markdown":"I had the same issue with an old project of mine which was developed with Eclipse. I had to go to switch to an older version of maven and not the build-in version from intelliJ. *settings &gt; maven &gt; change maven home directory*","title":"IntelliJ IDEA does not recognise maven dependencies (omitted for conflict with ...)","body":"<p>I had the same issue with an old project of mine which was developed with Eclipse. I had to go to switch to an older version of maven and not the build-in version from intelliJ. <em>settings &gt; maven &gt; change maven home directory</em></p>\n"},{"tags":[],"owner":{"account_id":11594140,"reputation":41,"user_id":8493371,"display_name":"Sunil N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670849329,"creation_date":1670849329,"answer_id":74771358,"question_id":42488035,"body_markdown":"Check if the jar is downloaded in m2 folder , if it is downloaded and its not showing in intellij then add the same maven dependency in module where you are trying to use the classes in the jar.","title":"IntelliJ IDEA does not recognise maven dependencies (omitted for conflict with ...)","body":"<p>Check if the jar is downloaded in m2 folder , if it is downloaded and its not showing in intellij then add the same maven dependency in module where you are trying to use the classes in the jar.</p>\n"}],"owner":{"account_id":4181786,"reputation":617,"user_id":3426603,"accept_rate":38,"display_name":"user3426603"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18390,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"answer_count":6,"score":13,"last_activity_date":1670849329,"creation_date":1488205209,"question_id":42488035,"body_markdown":"I loaded a Maven project in IntelliJ IDEA, when I run &#39;mvn clean package&#39; in the terminal, it works fine, but IntelliJ IDEA can not debug or build it and in the UI, maven project tab, shows the following (red line on dependencies):\r\n\r\nomitted for conflict with STH\r\n\r\n[![enter image description here][1]][1]\r\n  [1]: https://i.stack.imgur.com/aHys6.png\r\n\r\nHow should I fix it?","title":"IntelliJ IDEA does not recognise maven dependencies (omitted for conflict with ...)","body":"<p>I loaded a Maven project in IntelliJ IDEA, when I run 'mvn clean package' in the terminal, it works fine, but IntelliJ IDEA can not debug or build it and in the UI, maven project tab, shows the following (red line on dependencies):</p>\n\n<p>omitted for conflict with STH</p>\n\n<p><a href=\"https://i.stack.imgur.com/aHys6.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/aHys6.png\" alt=\"enter image description here\"></a>\nHow should I fix it?</p>\n"},{"tags":["java","algorithm","find","element","binary-search"],"comments":[{"owner":{"account_id":27039690,"reputation":61,"user_id":20594686,"display_name":"Novaordo"},"score":1,"creation_date":1670080800,"post_id":74667974,"comment_id":131792172,"body_markdown":"Are we to assume that the list is in some sort of order (biggest to smallest or smallest to biggest)? The reason why I am asking is because if the list is not in any order, then the quickest way to find an element would be to simply search for it from the start to the end of the array.","body":"Are we to assume that the list is in some sort of order (biggest to smallest or smallest to biggest)? The reason why I am asking is because if the list is not in any order, then the quickest way to find an element would be to simply search for it from the start to the end of the array."},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1670081238,"post_id":74667974,"comment_id":131792277,"body_markdown":"`Arrays.asList(ints).contains(k)` should do the trick, but I suppose you&#39;re not allowed to use built-in functions like that?","body":"<code>Arrays.asList(ints).contains(k)</code> should do the trick, but I suppose you&#39;re not allowed to use built-in functions like that?"},{"owner":{"account_id":27133039,"reputation":21,"user_id":20674971,"display_name":"Unknown kind Panda"},"score":0,"creation_date":1670090529,"post_id":74667974,"comment_id":131794305,"body_markdown":"- The items are integers arranged in ascending order \n- The array can contain up to 1 million items                                - The array is never null                                         \n- My method should do this : \nExemple : \nint[] ints = {-9, 14, 37, 102};\nexists(ints, 102) //returns true\nexists(ints, 36) //returns false","body":"- The items are integers arranged in ascending order  - The array can contain up to 1 million items                                - The array is never null                                          - My method should do this :  Exemple :  int[] ints = {-9, 14, 37, 102}; exists(ints, 102) //returns true exists(ints, 36) //returns false"},{"owner":{"account_id":27133039,"reputation":21,"user_id":20674971,"display_name":"Unknown kind Panda"},"score":0,"creation_date":1670092830,"post_id":74667974,"comment_id":131794808,"body_markdown":"Thank you for your answers, do you mean something like this ?  : static boolean exists(int[] ints, int k){return Arrays.asList(ints).contains(k); }","body":"Thank you for your answers, do you mean something like this ?  : static boolean exists(int[] ints, int k){return Arrays.asList(ints).contains(k); }"}],"answers":[{"tags":[],"owner":{"account_id":27123034,"reputation":1993,"user_id":20666497,"display_name":"Albina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670167882,"creation_date":1670081184,"answer_id":74668042,"question_id":74667974,"body_markdown":"I suppose you are trying to implement **Binary search** in the second solution.\r\n\r\nIf so, please check [this answer][1]. Your input array must be sorted in non-decreasing order, because Binary Search works only with sorted input data. For example, you can simply type `Arrays.sort(arr);` and then pass your array into `exists()` method. But the overall time&amp;space complexities will be `O(n log n)`.\r\n\r\n**Fixed some bugs** in your implementation:\r\n\r\n    public static boolean exists(int[] ints, int k) {\r\n        int first = 0;\r\n        int last = ints.length - 1;\r\n        while (first &lt;= last) {\r\n            int mid = first + (last - first) / 2; // to avoid integer overflow in extremely large arrays\r\n            if (ints[mid] &lt; k) {\r\n                first = mid + 1;\r\n            } else if (ints[mid] == k) {\r\n                return true;\r\n            } else {\r\n                last = mid - 1;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/249404/20666497","title":"Find an element in a list/array (a big list)","body":"<p>I suppose you are trying to implement <strong>Binary search</strong> in the second solution.</p>\n<p>If so, please check <a href=\"https://stackoverflow.com/a/249404/20666497\">this answer</a>. Your input array must be sorted in non-decreasing order, because Binary Search works only with sorted input data. For example, you can simply type <code>Arrays.sort(arr);</code> and then pass your array into <code>exists()</code> method. But the overall time&amp;space complexities will be <code>O(n log n)</code>.</p>\n<p><strong>Fixed some bugs</strong> in your implementation:</p>\n<pre><code>public static boolean exists(int[] ints, int k) {\n    int first = 0;\n    int last = ints.length - 1;\n    while (first &lt;= last) {\n        int mid = first + (last - first) / 2; // to avoid integer overflow in extremely large arrays\n        if (ints[mid] &lt; k) {\n            first = mid + 1;\n        } else if (ints[mid] == k) {\n            return true;\n        } else {\n            last = mid - 1;\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27133039,"reputation":21,"user_id":20674971,"display_name":"Unknown kind Panda"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670849185,"creation_date":1670849185,"answer_id":74771327,"question_id":74667974,"body_markdown":"Finally I&#39;ve found the solution to my problem !!!!!\r\n\r\nHere it is :\r\n\r\n------------------ \r\n\r\n    import java.util.Arrays;\r\n    \r\n    class A{\r\n        static boolean exists(int[] ints, int k){\r\n             boolean res = false;\r\n             int index = Arrays.binarySearch(ints, k);\r\n             if (index&lt;0){\r\n                 res = false;\r\n             }else{\r\n                 res = true;\r\n             }\r\n             return res;\r\n          }\r\n    }","title":"Find an element in a list/array (a big list)","body":"<p>Finally I've found the solution to my problem !!!!!</p>\n<p>Here it is :</p>\n<hr />\n<pre><code>import java.util.Arrays;\n\nclass A{\n    static boolean exists(int[] ints, int k){\n         boolean res = false;\n         int index = Arrays.binarySearch(ints, k);\n         if (index&lt;0){\n             res = false;\n         }else{\n             res = true;\n         }\n         return res;\n      }\n}\n</code></pre>\n"}],"owner":{"account_id":27133039,"reputation":21,"user_id":20674971,"display_name":"Unknown kind Panda"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74771327,"answer_count":2,"score":-1,"last_activity_date":1670849185,"creation_date":1670080527,"question_id":74667974,"body_markdown":"I&#39;m actually doing an easy CodinGame --&gt; I have to find if an element exists in a list.\r\n\r\nI&#39;ve tested a first solution, it was working but it wasn&#39;t really optimized (according to the machine).\r\n\r\nSo I&#39;ve tried another solution but :\r\nWhen I test my code for this 2nd solution, it returns the right answers but when I&#39;m submitting my code, it tells me that my solution is completely wrong (it doesn&#39;t work if the list is empty, and also if the list is huge, ...).\r\n\r\n\r\nPlease can you help me ? \r\n\r\n\r\n\r\n-------\r\nHere is my first naive solution : \r\n-------\r\n\r\n```\r\npublic static boolean check(int[] ints, int k) {\r\n        boolean res = false;\r\n    \r\n        for(int i : ints){\r\n            if(i == k){\r\n                res = true;\r\n                break;\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n\r\n```\r\n\r\n------\r\nHere is the code of my 2nd solution that is supposed to be optimized: \r\n-----\r\n```\r\nstatic boolean exists(int [] ints, int k){\r\n        boolean res = false;\r\n        int first = 0;\r\n        int last = ints.length;\r\n        int mid = (first + last)/2;\r\n        while(first &lt;= last){\r\n            if( ints[mid] &lt; k){\r\n                first = mid +1;\r\n            }else if (ints[mid] == k){\r\n                res = true; \r\n                break;\r\n            }else{\r\n                last = mid -1;\r\n            }\r\n         mid = (first + last)/2;\r\n         }\r\n         if(first &gt; last){\r\n            res = false;\r\n         }\r\n         return res;\r\n     }\r\n```\r\n","title":"Find an element in a list/array (a big list)","body":"<p>I'm actually doing an easy CodinGame --&gt; I have to find if an element exists in a list.</p>\n<p>I've tested a first solution, it was working but it wasn't really optimized (according to the machine).</p>\n<p>So I've tried another solution but :\nWhen I test my code for this 2nd solution, it returns the right answers but when I'm submitting my code, it tells me that my solution is completely wrong (it doesn't work if the list is empty, and also if the list is huge, ...).</p>\n<p>Please can you help me ?</p>\n<hr />\n<h2>Here is my first naive solution :</h2>\n<pre><code>public static boolean check(int[] ints, int k) {\n        boolean res = false;\n    \n        for(int i : ints){\n            if(i == k){\n                res = true;\n                break;\n            }\n        }\n        return res;\n    }\n\n</code></pre>\n<hr />\n<h2>Here is the code of my 2nd solution that is supposed to be optimized:</h2>\n<pre><code>static boolean exists(int [] ints, int k){\n        boolean res = false;\n        int first = 0;\n        int last = ints.length;\n        int mid = (first + last)/2;\n        while(first &lt;= last){\n            if( ints[mid] &lt; k){\n                first = mid +1;\n            }else if (ints[mid] == k){\n                res = true; \n                break;\n            }else{\n                last = mid -1;\n            }\n         mid = (first + last)/2;\n         }\n         if(first &gt; last){\n            res = false;\n         }\n         return res;\n     }\n</code></pre>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1409380070,"post_id":25579459,"comment_id":39951678,"body_markdown":"It looks like you have launched tomcat from a non-privileged account and it cannot write to the log directory.  This is not a programming problem ... and therefore it is off topic.","body":"It looks like you have launched tomcat from a non-privileged account and it cannot write to the log directory.  This is not a programming problem ... and therefore it is off topic."},{"owner":{"account_id":2329344,"reputation":309,"user_id":2043129,"display_name":"Anand Maheshwari"},"score":0,"creation_date":1409382689,"post_id":25579459,"comment_id":39952140,"body_markdown":"But i installed in my Personal PC with Install as Administrative option. Still access is denied. Any way to solve???","body":"But i installed in my Personal PC with Install as Administrative option. Still access is denied. Any way to solve???"},{"owner":{"account_id":167824,"reputation":21098,"user_id":1439305,"accept_rate":81,"display_name":"Audrius Meškauskas"},"score":1,"creation_date":1409384340,"post_id":25579459,"comment_id":39952490,"body_markdown":"You have probably once launched Tomcat from the privileged account and it created a log file that its default, non privileged account cannot longer modify. Server Fault community may tell more.","body":"You have probably once launched Tomcat from the privileged account and it created a log file that its default, non privileged account cannot longer modify. Server Fault community may tell more."}],"answers":[{"tags":[],"owner":{"account_id":6796693,"reputation":221,"user_id":5231669,"display_name":"sidcreative"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1439703297,"creation_date":1439703297,"answer_id":32032166,"question_id":25579459,"body_markdown":"It seems that your current user is not having rights on the tomcat folder.\r\n\r\nI also faced the same problem and solved it by giving rights to the logged in user on the tomcat folder.\r\n\r\nFor your case :\r\n\r\nGo to &gt;&gt;&quot;C:\\Program Files\\Apache Software Foundation\\Tomcat      7.0&quot; folder\r\nRight Click&gt;&gt;Properties&gt;&gt;security Tab\r\n\r\nprovide required rights to currently logged in user.","title":"Got Apache Tomcat error that access denied on this file localhost_access_log.2014-08-30.txt?","body":"<p>It seems that your current user is not having rights on the tomcat folder.</p>\n\n<p>I also faced the same problem and solved it by giving rights to the logged in user on the tomcat folder.</p>\n\n<p>For your case :</p>\n\n<p>Go to >>\"C:\\Program Files\\Apache Software Foundation\\Tomcat      7.0\" folder\nRight Click>>Properties>>security Tab</p>\n\n<p>provide required rights to currently logged in user.</p>\n"},{"tags":[],"owner":{"account_id":8938406,"reputation":415,"user_id":6668435,"accept_rate":50,"display_name":"Vikas Kalapur"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1563116693,"creation_date":1499189981,"answer_id":44911600,"question_id":25579459,"body_markdown":"![1]][1] ```Open Tomcat C:\\Program Files\\Apache Software Foundation &lt;br&gt;(Right Click on Tomcat 8.5 ( as per Your Version)&lt;br&gt;\r\n→Properties &lt;br&gt;\r\n→Select Security Tab &lt;br&gt;\r\n→Edit &lt;br&gt; →Select Your System &lt;br&gt; →Check or Allow all the Boxes &lt;br&gt;\r\n→Click on Apply &lt;br&gt;\r\n→Restart Program ```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/khBua.jpg","title":"Got Apache Tomcat error that access denied on this file localhost_access_log.2014-08-30.txt?","body":"<p><img src=\"https://i.stack.imgur.com/khBua.jpg\" alt=\"1]\"> <code>Open Tomcat C:\\Program Files\\Apache Software Foundation &lt;br&gt;(Right Click on Tomcat 8.5 ( as per Your Version)&lt;br&gt;\n→Properties &lt;br&gt;\n→Select Security Tab &lt;br&gt;\n→Edit &lt;br&gt; →Select Your System &lt;br&gt; →Check or Allow all the Boxes &lt;br&gt;\n→Click on Apply &lt;br&gt;\n→Restart Program</code></p>\n"},{"tags":[],"owner":{"account_id":4457805,"reputation":158,"user_id":3627515,"display_name":"leonidos79"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553078711,"creation_date":1553078711,"answer_id":55258890,"question_id":25579459,"body_markdown":"Alternatively, you may decide to instruct embedded Tomcat instance to keep its log files in a different location, and outside Windows&#39;s native &quot;Program Files&quot; directory. Especially when it comes to latest Windows versions, it is not a good practice to write or keep any file with variable content (i.e. the file that is created or written to at runtime) in program files directory.\r\n\r\nSearch for TOMCAT_HOME/conf/server.xml for &quot;AccessLogValve&quot;, and specify alternative directory for log files as demonstrated below:\r\n\r\n    &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot;\r\n           directory=&quot;c:\\work\\tomcat\\logs&quot;\r\n           prefix=&quot;localhost_access_log.&quot; suffix=&quot;.log&quot; pattern=&quot;common&quot;/&gt;\r\n\r\nThe key attribute here is &quot;directory&quot;.","title":"Got Apache Tomcat error that access denied on this file localhost_access_log.2014-08-30.txt?","body":"<p>Alternatively, you may decide to instruct embedded Tomcat instance to keep its log files in a different location, and outside Windows's native \"Program Files\" directory. Especially when it comes to latest Windows versions, it is not a good practice to write or keep any file with variable content (i.e. the file that is created or written to at runtime) in program files directory.</p>\n\n<p>Search for TOMCAT_HOME/conf/server.xml for \"AccessLogValve\", and specify alternative directory for log files as demonstrated below:</p>\n\n<pre><code>&lt;Valve className=\"org.apache.catalina.valves.AccessLogValve\"\n       directory=\"c:\\work\\tomcat\\logs\"\n       prefix=\"localhost_access_log.\" suffix=\".log\" pattern=\"common\"/&gt;\n</code></pre>\n\n<p>The key attribute here is \"directory\".</p>\n"},{"tags":[],"owner":{"account_id":27228542,"reputation":1,"user_id":20756641,"display_name":"Jayesh Prajapati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670848215,"creation_date":1670848215,"answer_id":74771127,"question_id":25579459,"body_markdown":"If you are facing this issue while starting tomcat from with-in IDE like Eclipse then you need to check if security is enabled under server detail - \r\n\r\nRefer below screenshot\r\n\r\n[Eclipse IDE Tomcat Server Enable Security][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7I5lH.png","title":"Got Apache Tomcat error that access denied on this file localhost_access_log.2014-08-30.txt?","body":"<p>If you are facing this issue while starting tomcat from with-in IDE like Eclipse then you need to check if security is enabled under server detail -</p>\n<p>Refer below screenshot</p>\n<p><a href=\"https://i.stack.imgur.com/7I5lH.png\" rel=\"nofollow noreferrer\">Eclipse IDE Tomcat Server Enable Security</a></p>\n"}],"owner":{"account_id":2329344,"reputation":309,"user_id":2043129,"display_name":"Anand Maheshwari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57220,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"closed_date":1670851685,"answer_count":4,"score":18,"last_activity_date":1670848488,"creation_date":1409377675,"question_id":25579459,"body_markdown":"I installed Tomcat on Windows 7 OS. I just installed Tomcat and made it available in eclipse. When i run any simple application on server it will say 404: page not found and in console it will print the error message like this.\r\n\r\n    SEVERE: Failed to open access log file [C:\\Program Files\\Apache Software           Foundation\\Tomcat 7.0\\logs\\localhost_access_log.2014-08-30.txt]\r\n    java.io.FileNotFoundException: C:\\Program Files\\Apache Software Foundation\\Tomcat      7.0\\logs\\localhost_access_log.2014-08-30.txt (Access is denied)\r\n    at java.io.FileOutputStream.open(Native Method)\r\n    at java.io.FileOutputStream.&lt;init&gt;(Unknown Source)\r\n\tat org.apache.catalina.valves.AccessLogValve.open(AccessLogValve.java:1117)\r\n\tat org.apache.catalina.valves.AccessLogValve.startInternal(AccessLogValve.java:1224)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\tat org.apache.catalina.core.StandardPipeline.startInternal(StandardPipeline.java:185)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1137)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:800)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\r\n\tat java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\r\n\tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n\tat java.lang.Thread.run(Unknown Source)\r\n\r\nI cannot understand what the things is happen is this??? Please help me.","title":"Got Apache Tomcat error that access denied on this file localhost_access_log.2014-08-30.txt?","body":"<p>I installed Tomcat on Windows 7 OS. I just installed Tomcat and made it available in eclipse. When i run any simple application on server it will say 404: page not found and in console it will print the error message like this.</p>\n<pre><code>SEVERE: Failed to open access log file [C:\\Program Files\\Apache Software           Foundation\\Tomcat 7.0\\logs\\localhost_access_log.2014-08-30.txt]\njava.io.FileNotFoundException: C:\\Program Files\\Apache Software Foundation\\Tomcat      7.0\\logs\\localhost_access_log.2014-08-30.txt (Access is denied)\nat java.io.FileOutputStream.open(Native Method)\nat java.io.FileOutputStream.&lt;init&gt;(Unknown Source)\nat org.apache.catalina.valves.AccessLogValve.open(AccessLogValve.java:1117)\nat org.apache.catalina.valves.AccessLogValve.startInternal(AccessLogValve.java:1224)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\nat org.apache.catalina.core.StandardPipeline.startInternal(StandardPipeline.java:185)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1137)\nat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:800)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\nat java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\nat java.util.concurrent.FutureTask.run(Unknown Source)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\nat java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p>I cannot understand what the things is happen is this??? Please help me.</p>\n"},{"tags":["java","spring-boot","kotlin","spring-boot-test"],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670848475,"creation_date":1670848161,"answer_id":74771117,"question_id":74769567,"body_markdown":"To achieve the same as `@SpringBootApplication(nameGenerator = FullyQualifiedAnnotationBeanNameGenerator::class)` in a (isolated configuration) test, we can:\r\n- declare an &quot;internal&quot; `@Configuration` class (which will skip/replace spring boot application loading... to &quot;add/modify&quot; (loaded) spring boot application, use `@TestConfiguration` (internal class)).\r\n- use `@ComponentScan` on that, which:\r\n   - takes a `nameGenerator:Class&lt;...&gt;` parameter (, which exactly is &quot;aliased&quot; by `@SpringBootApplication`).\r\n   - if omit, it falls back to &quot;current package&quot;, but if we use `basePackageClasses`, we can cherry pick our components. (But please *note* it is (as in `@SpringBootApplication`) package- not class-wise!)\r\n\r\n\r\nA sample test:\r\n```lang-kotlin\r\npackage com\r\n\r\nimport org.junit.jupiter.api.Assertions\r\nimport org.junit.jupiter.api.Test\r\nimport org.springframework.beans.factory.annotation.Autowired\r\nimport org.springframework.boot.test.context.SpringBootTest\r\nimport org.springframework.context.annotation.ComponentScan\r\nimport org.springframework.context.annotation.Configuration\r\nimport org.springframework.context.annotation.FullyQualifiedAnnotationBeanNameGenerator\r\n\r\n@SpringBootTest\r\nclass DemoApplicationTests {\r\n    @Configuration // only this will be used for this test class!\r\n    @ComponentScan(\r\n      nameGenerator = FullyQualifiedAnnotationBeanNameGenerator::class,\r\n      basePackageClasses = [com.foo.ConflictName::class, com.bar.ConflictName::class]\r\n    )\r\n    // empty/customize:\r\n    internal class IsolatedTestConfig \r\n\r\n    @Autowired(required = false)\r\n    var springBootApp: org.springframework.boot.SpringApplication? = null\r\n\r\n    @Autowired(required = false)\r\n    var compFoo: com.foo.ConflictName? = null\r\n\r\n    @Autowired(required = false)\r\n    var compBar: com.bar.ConflictName? = null\r\n\r\n    @Test\r\n    fun testNamingAndIsolation() {\r\n        Assertions.assertNull(springBootApp) // !\r\n        Assertions.assertNotNull(compFoo)\r\n        Assertions.assertNotNull(compBar)\r\n    }\r\n}\r\n```","title":"how to specify nameGenerator in SpringBootTest?","body":"<p>To achieve the same as <code>@SpringBootApplication(nameGenerator = FullyQualifiedAnnotationBeanNameGenerator::class)</code> in a (isolated configuration) test, we can:</p>\n<ul>\n<li>declare an &quot;internal&quot; <code>@Configuration</code> class (which will skip/replace spring boot application loading... to &quot;add/modify&quot; (loaded) spring boot application, use <code>@TestConfiguration</code> (internal class)).</li>\n<li>use <code>@ComponentScan</code> on that, which:\n<ul>\n<li>takes a <code>nameGenerator:Class&lt;...&gt;</code> parameter (, which exactly is &quot;aliased&quot; by <code>@SpringBootApplication</code>).</li>\n<li>if omit, it falls back to &quot;current package&quot;, but if we use <code>basePackageClasses</code>, we can cherry pick our components. (But please <em>note</em> it is (as in <code>@SpringBootApplication</code>) package- not class-wise!)</li>\n</ul>\n</li>\n</ul>\n<p>A sample test:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package com\n\nimport org.junit.jupiter.api.Assertions\nimport org.junit.jupiter.api.Test\nimport org.springframework.beans.factory.annotation.Autowired\nimport org.springframework.boot.test.context.SpringBootTest\nimport org.springframework.context.annotation.ComponentScan\nimport org.springframework.context.annotation.Configuration\nimport org.springframework.context.annotation.FullyQualifiedAnnotationBeanNameGenerator\n\n@SpringBootTest\nclass DemoApplicationTests {\n    @Configuration // only this will be used for this test class!\n    @ComponentScan(\n      nameGenerator = FullyQualifiedAnnotationBeanNameGenerator::class,\n      basePackageClasses = [com.foo.ConflictName::class, com.bar.ConflictName::class]\n    )\n    // empty/customize:\n    internal class IsolatedTestConfig \n\n    @Autowired(required = false)\n    var springBootApp: org.springframework.boot.SpringApplication? = null\n\n    @Autowired(required = false)\n    var compFoo: com.foo.ConflictName? = null\n\n    @Autowired(required = false)\n    var compBar: com.bar.ConflictName? = null\n\n    @Test\n    fun testNamingAndIsolation() {\n        Assertions.assertNull(springBootApp) // !\n        Assertions.assertNotNull(compFoo)\n        Assertions.assertNotNull(compBar)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8598286,"reputation":11087,"user_id":6440704,"display_name":"Anton Balaniuc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74771117,"answer_count":1,"score":2,"last_activity_date":1670848475,"creation_date":1670840196,"question_id":74769567,"body_markdown":"I am trying to run `@SpringBootTest` with a subset of classes. There are 2 beans with conflicting names among these classes. \r\n\r\n```\r\n@SpringBootTest(\r\n    classes = [BarService::class, ConflictName::class, com.foo.ConflictName::class, FooService::class]\r\n)\r\nclass DemoApplicationTests\r\n```\r\nThe test fails with `BeanDefinitionOverrideException`\r\n```\r\nCaused by: org.springframework.beans.factory.support.BeanDefinitionOverrideException: \r\nInvalid bean definition with name &#39;conflictName&#39; defined in null:\r\nCannot register bean definition [Generic bean: class [com.foo.ConflictName]; scope=singleton; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodNames=null; destroyMethodNames=null] \r\nfor bean &#39;conflictName&#39; since there is already [Generic bean: class [com.bar.ConflictName]; scope=singleton; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodNames=null; destroyMethodNames=null] bound.\r\n```\r\nHowever, if the test is running for the whole application, without specifying the concrete classes \r\n```\r\n@SpringBootTest\r\nclass DemoApplicationTests\r\n```\r\nthe execution is successful. \r\n\r\nThe question is how to specify `nameGenerator` in `SpringBootTest` similar to `@SpringBootApplication(nameGenerator = FullyQualifiedAnnotationBeanNameGenerator::class)`?\r\n\r\nthe complete code example: \r\n```\r\npackage com.bar\r\n\r\nimport org.springframework.stereotype.Service\r\n\r\n@Service\r\nclass BarService(private val conflictName: ConflictName)\r\n========================================================\r\npackage com.bar\r\n\r\nimport org.springframework.stereotype.Component\r\n\r\n@Component\r\nclass ConflictName\r\n========================================================\r\npackage com.foo\r\n\r\nimport org.springframework.stereotype.Component\r\n\r\n@Component\r\nclass ConflictName\r\n========================================================\r\npackage com.foo\r\n\r\nimport org.springframework.stereotype.Service\r\n\r\n@Service\r\nclass FooService(private val conflictName: ConflictName)\r\n========================================================\r\npackage com\r\n\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication\r\nimport org.springframework.boot.runApplication\r\nimport org.springframework.context.annotation.FullyQualifiedAnnotationBeanNameGenerator\r\n\r\n@SpringBootApplication(nameGenerator = FullyQualifiedAnnotationBeanNameGenerator::class)\r\nclass DemoApplication\r\n\r\nfun main(args: Array&lt;String&gt;) {\r\n    runApplication&lt;DemoApplication&gt;(*args)\r\n}\r\n```","title":"how to specify nameGenerator in SpringBootTest?","body":"<p>I am trying to run <code>@SpringBootTest</code> with a subset of classes. There are 2 beans with conflicting names among these classes.</p>\n<pre><code>@SpringBootTest(\n    classes = [BarService::class, ConflictName::class, com.foo.ConflictName::class, FooService::class]\n)\nclass DemoApplicationTests\n</code></pre>\n<p>The test fails with <code>BeanDefinitionOverrideException</code></p>\n<pre><code>Caused by: org.springframework.beans.factory.support.BeanDefinitionOverrideException: \nInvalid bean definition with name 'conflictName' defined in null:\nCannot register bean definition [Generic bean: class [com.foo.ConflictName]; scope=singleton; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodNames=null; destroyMethodNames=null] \nfor bean 'conflictName' since there is already [Generic bean: class [com.bar.ConflictName]; scope=singleton; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodNames=null; destroyMethodNames=null] bound.\n</code></pre>\n<p>However, if the test is running for the whole application, without specifying the concrete classes</p>\n<pre><code>@SpringBootTest\nclass DemoApplicationTests\n</code></pre>\n<p>the execution is successful.</p>\n<p>The question is how to specify <code>nameGenerator</code> in <code>SpringBootTest</code> similar to <code>@SpringBootApplication(nameGenerator = FullyQualifiedAnnotationBeanNameGenerator::class)</code>?</p>\n<p>the complete code example:</p>\n<pre><code>package com.bar\n\nimport org.springframework.stereotype.Service\n\n@Service\nclass BarService(private val conflictName: ConflictName)\n========================================================\npackage com.bar\n\nimport org.springframework.stereotype.Component\n\n@Component\nclass ConflictName\n========================================================\npackage com.foo\n\nimport org.springframework.stereotype.Component\n\n@Component\nclass ConflictName\n========================================================\npackage com.foo\n\nimport org.springframework.stereotype.Service\n\n@Service\nclass FooService(private val conflictName: ConflictName)\n========================================================\npackage com\n\nimport org.springframework.boot.autoconfigure.SpringBootApplication\nimport org.springframework.boot.runApplication\nimport org.springframework.context.annotation.FullyQualifiedAnnotationBeanNameGenerator\n\n@SpringBootApplication(nameGenerator = FullyQualifiedAnnotationBeanNameGenerator::class)\nclass DemoApplication\n\nfun main(args: Array&lt;String&gt;) {\n    runApplication&lt;DemoApplication&gt;(*args)\n}\n</code></pre>\n"},{"tags":["java","recursion","java-stream","flatten"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1670780921,"post_id":74761736,"comment_id":131947634,"body_markdown":"Just calling flatMap does nothing.  You need to use the Stream that flatMap returns.","body":"Just calling flatMap does nothing.  You need to use the Stream that flatMap returns."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1670833204,"post_id":74761736,"comment_id":131956169,"body_markdown":"Just remove the `throws Exception`","body":"Just remove the <code>throws Exception</code>"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670848411,"creation_date":1670775939,"answer_id":74762512,"question_id":74761736,"body_markdown":"There are two main issues:\r\n\r\n* Type `Exception` is a *checked exception*. The problem is that none of the built-in JDK functions declares to throw a *checked exception*, which imposes restriction on their implementations. Therefore, the simplest solution would be to remove throws clause, that would allow to invoke `flatten()` recursively from the stream without any complaints.\r\n\r\n* The second problem stems from the need to coerce the elements to the `Integer` type. I would advise providing `Class&lt;T&gt;` as an argument it would make the solution both clean an versatile. Or alternatively, return type can be changed to `Object[]` (*chose the option which is more suitable depending on your needs*).\r\n\r\nLet&#39;s start with a simple implementation that returns array of type `Object[]`. In order to implement flattening logic I&#39;ve used Java 16 [`mapMulti()`][mapMulti] since it&#39;s more suitable when you need to incorporate imperative logic into the stream.\r\n\r\n    public static Object[] flatten(Object[] inputArray) {\r\n        \r\n        return Arrays.stream(inputArray)\r\n            .mapMulti((element, consumer) -&gt; {\r\n                if (element instanceof Object[] arr) for (var next: flatten(arr)) consumer.accept(next);\r\n                else consumer.accept(element);\r\n            })\r\n            .toArray();\r\n    }\r\n\r\nIf we switch to generic implementation, the return type needs to be changed to a `List&lt;T&gt;` (or `Collection&lt;T&gt;`), otherwise we run into a problem of creating a generic array. Generics and array do not play well together and it highly advisable to favor Collections over arrays, hence I&#39;ll go with `List&lt;T&gt;` as a return type.\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; flatten(Object[] inputArray, Class&lt;T&gt; tClass) {\r\n        \r\n        return Arrays.stream(inputArray)\r\n            .&lt;T&gt;mapMulti((element, consumer) -&gt; {\r\n                if (element instanceof Object[] arr) for (var next: flatten(arr, tClass)) consumer.accept(next);\r\n                else consumer.accept(tClass.cast(element));\r\n            })\r\n            .toList();\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        Object[] array = { 1, 2, new Object[]{ 3, 4, new Object[]{ 5 }, 6, 7 }, 8, 9, 10 };\r\n    \r\n        System.out.println(Arrays.toString(flatten(array)));\r\n    \r\n        Object[] string = { &quot;A&quot;, &quot;B&quot;, new Object[]{ &quot;C&quot;, &quot;D&quot;, new Object[]{ &quot;E&quot; }, &quot;F&quot;, &quot;G&quot; }, &quot;H&quot;, &quot;I&quot;, &quot;J&quot; };\r\n        \r\n        List&lt;String&gt; flattenedString = flatten(string, String.class);\r\n    \r\n        System.out.println(flattenedString);\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\n[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\r\n[A, B, C, D, E, F, G, H, I, J]\r\n```\r\n\r\n## Update\r\n\r\nHere&#39;s another way to solve this problem using `Stream.flatMap()`, built upon [*this answer by @Holger*][holger&#39;s answer].\r\n\r\nFor that, we can split the logic into two parts: a helper-method that performs recursive flattening and a method that generates the result of the required type.\r\n\r\nAnd, well, since it&#39;s another solution I&#39;ve decided to change the resulting type to `T[]` (in case if you really need an array as a result). There&#39;s no clean and easy way to create a generic array which should be exposed to the outside context (in this case, creating `Object[]` and casting to `T[]` would result in `ClassCastException`). To address this issue, we can employ the Reflection API to allocate the array in memory via `Array.newInstance()` and then type cast it.\r\n\r\n    public static &lt;T&gt; T[] flatten(Object[] inputArray, Class&lt;T&gt; tClass) {\r\n        \r\n        return flattenAsStream(inputArray, tClass)\r\n            .toArray(n -&gt; (T[]) Array.newInstance(tClass, n));\r\n    }\r\n    \r\n    public static &lt;T&gt; Stream&lt;T&gt; flattenAsStream(Object[] inputArray, Class&lt;T&gt; tClass) {\r\n        \r\n        return Arrays.stream(inputArray)\r\n            .flatMap(e -&gt; e instanceof Object[] arr ?\r\n                flattenAsStream(arr, tClass) : Stream.of(tClass.cast(e))\r\n            );\r\n    }\r\n\r\n\r\n\r\n   [mapMulti]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)\r\n\r\n   [holger&#39;s answer]: https://stackoverflow.com/a/44909768/2711488","title":"Unhandled checked Exception while flattening an Array of Objects recursively using Streams in Java 8","body":"<p>There are two main issues:</p>\n<ul>\n<li><p>Type <code>Exception</code> is a <em>checked exception</em>. The problem is that none of the built-in JDK functions declares to throw a <em>checked exception</em>, which imposes restriction on their implementations. Therefore, the simplest solution would be to remove throws clause, that would allow to invoke <code>flatten()</code> recursively from the stream without any complaints.</p>\n</li>\n<li><p>The second problem stems from the need to coerce the elements to the <code>Integer</code> type. I would advise providing <code>Class&lt;T&gt;</code> as an argument it would make the solution both clean an versatile. Or alternatively, return type can be changed to <code>Object[]</code> (<em>chose the option which is more suitable depending on your needs</em>).</p>\n</li>\n</ul>\n<p>Let's start with a simple implementation that returns array of type <code>Object[]</code>. In order to implement flattening logic I've used Java 16 <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\"><code>mapMulti()</code></a> since it's more suitable when you need to incorporate imperative logic into the stream.</p>\n<pre><code>public static Object[] flatten(Object[] inputArray) {\n    \n    return Arrays.stream(inputArray)\n        .mapMulti((element, consumer) -&gt; {\n            if (element instanceof Object[] arr) for (var next: flatten(arr)) consumer.accept(next);\n            else consumer.accept(element);\n        })\n        .toArray();\n}\n</code></pre>\n<p>If we switch to generic implementation, the return type needs to be changed to a <code>List&lt;T&gt;</code> (or <code>Collection&lt;T&gt;</code>), otherwise we run into a problem of creating a generic array. Generics and array do not play well together and it highly advisable to favor Collections over arrays, hence I'll go with <code>List&lt;T&gt;</code> as a return type.</p>\n<pre><code>public static &lt;T&gt; List&lt;T&gt; flatten(Object[] inputArray, Class&lt;T&gt; tClass) {\n    \n    return Arrays.stream(inputArray)\n        .&lt;T&gt;mapMulti((element, consumer) -&gt; {\n            if (element instanceof Object[] arr) for (var next: flatten(arr, tClass)) consumer.accept(next);\n            else consumer.accept(tClass.cast(element));\n        })\n        .toList();\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    Object[] array = { 1, 2, new Object[]{ 3, 4, new Object[]{ 5 }, 6, 7 }, 8, 9, 10 };\n\n    System.out.println(Arrays.toString(flatten(array)));\n\n    Object[] string = { &quot;A&quot;, &quot;B&quot;, new Object[]{ &quot;C&quot;, &quot;D&quot;, new Object[]{ &quot;E&quot; }, &quot;F&quot;, &quot;G&quot; }, &quot;H&quot;, &quot;I&quot;, &quot;J&quot; };\n    \n    List&lt;String&gt; flattenedString = flatten(string, String.class);\n\n    System.out.println(flattenedString);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n[A, B, C, D, E, F, G, H, I, J]\n</code></pre>\n<h2>Update</h2>\n<p>Here's another way to solve this problem using <code>Stream.flatMap()</code>, built upon <a href=\"https://stackoverflow.com/a/44909768/2711488\"><em>this answer by @Holger</em></a>.</p>\n<p>For that, we can split the logic into two parts: a helper-method that performs recursive flattening and a method that generates the result of the required type.</p>\n<p>And, well, since it's another solution I've decided to change the resulting type to <code>T[]</code> (in case if you really need an array as a result). There's no clean and easy way to create a generic array which should be exposed to the outside context (in this case, creating <code>Object[]</code> and casting to <code>T[]</code> would result in <code>ClassCastException</code>). To address this issue, we can employ the Reflection API to allocate the array in memory via <code>Array.newInstance()</code> and then type cast it.</p>\n<pre><code>public static &lt;T&gt; T[] flatten(Object[] inputArray, Class&lt;T&gt; tClass) {\n    \n    return flattenAsStream(inputArray, tClass)\n        .toArray(n -&gt; (T[]) Array.newInstance(tClass, n));\n}\n\npublic static &lt;T&gt; Stream&lt;T&gt; flattenAsStream(Object[] inputArray, Class&lt;T&gt; tClass) {\n    \n    return Arrays.stream(inputArray)\n        .flatMap(e -&gt; e instanceof Object[] arr ?\n            flattenAsStream(arr, tClass) : Stream.of(tClass.cast(e))\n        );\n}\n</code></pre>\n"}],"owner":{"account_id":27208045,"reputation":1,"user_id":20739301,"display_name":"vibhanshu jha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670848411,"creation_date":1670769633,"question_id":74761736,"body_markdown":"I am trying to flatten an array of Objects recursively.\r\n\r\nFor Example\r\n\r\n*Input:*\r\n\r\n```\r\nObject[] array = { 1, 2, new Object[]{ 3, 4, new Object[]{ 5 }, 6, 7 }, 8, 9, 10 };\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\n[1,2,3,4,5,6,7,8,9,10]\r\n```\r\n\r\n\r\nWhile making the recursive call, I am getting a compilation:\r\n```\r\nunreported exception java.lang.Exception; must be caught or declared to be thrown\r\n```\r\n\r\nHow can I fix it?\r\n\r\n*My code:*\r\n\r\n    public static Integer[] flatten(Object[] inputArray) throws Exception {\r\n        \r\n        //Convert inputArray to stream of object\r\n        Stream&lt;Object&gt; stream = Arrays.stream(inputArray);\r\n        //Recursively using flat map flatten the array by mapping each element to a stream\r\n        stream.flatMap(o -&gt; o instanceof Object[] ? flatten((Object[])o) : Stream.of(o));\r\n        Integer[] flattenedArray = stream.toArray(Integer[]::new);\r\n        return flattenedArray;\r\n    }","title":"Unhandled checked Exception while flattening an Array of Objects recursively using Streams in Java 8","body":"<p>I am trying to flatten an array of Objects recursively.</p>\n<p>For Example</p>\n<p><em>Input:</em></p>\n<pre><code>Object[] array = { 1, 2, new Object[]{ 3, 4, new Object[]{ 5 }, 6, 7 }, 8, 9, 10 };\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[1,2,3,4,5,6,7,8,9,10]\n</code></pre>\n<p>While making the recursive call, I am getting a compilation:</p>\n<pre><code>unreported exception java.lang.Exception; must be caught or declared to be thrown\n</code></pre>\n<p>How can I fix it?</p>\n<p><em>My code:</em></p>\n<pre><code>public static Integer[] flatten(Object[] inputArray) throws Exception {\n    \n    //Convert inputArray to stream of object\n    Stream&lt;Object&gt; stream = Arrays.stream(inputArray);\n    //Recursively using flat map flatten the array by mapping each element to a stream\n    stream.flatMap(o -&gt; o instanceof Object[] ? flatten((Object[])o) : Stream.of(o));\n    Integer[] flattenedArray = stream.toArray(Integer[]::new);\n    return flattenedArray;\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","postman"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1670379234,"post_id":74700931,"comment_id":131861714,"body_markdown":"Please add screenshot of request in postman.","body":"Please add screenshot of request in postman."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1670848310,"post_id":74700931,"comment_id":131960728,"body_markdown":"ECONNREFUSED means that the TCP/IP connection wasn&#39;t accepted, which means you can easily ignore any headers, because the problem happens way before they are found. What&#39;s the output of `netstat -tlpn` on your machine (that&#39;s on Linux, no idea how to get that on Windows). Where is the server running that you&#39;re trying to connect to? What happens when you contact `http://127.0.0.1:8080` in your browser?","body":"ECONNREFUSED means that the TCP/IP connection wasn&#39;t accepted, which means you can easily ignore any headers, because the problem happens way before they are found. What&#39;s the output of <code>netstat -tlpn</code> on your machine (that&#39;s on Linux, no idea how to get that on Windows). Where is the server running that you&#39;re trying to connect to? What happens when you contact <code>http:&#47;&#47;127.0.0.1:8080</code> in your browser?"},{"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"score":0,"creation_date":1670849304,"post_id":74700931,"comment_id":131961058,"body_markdown":"if you are on *nix based system, please check if your server is indeed running using `lsof -i :8080` command and check process id, kill if you want to restart it again","body":"if you are on *nix based system, please check if your server is indeed running using <code>lsof -i :8080</code> command and check process id, kill if you want to restart it again"}],"owner":{"account_id":27163423,"reputation":1,"user_id":20701260,"display_name":"lenae"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1549,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670848232,"creation_date":1670322581,"question_id":74700931,"body_markdown":"I&#39;m working on a small project and I have to send a post request in postman, but I continue to get to connect, ECONNREFUSED 127.0.0.1:8080 error occurred.\r\n\r\nI&#39;ve already checked that I&#39;m using the correct port and changed a few proxy setting to try and fix the problem, but nothing seems to work. When I run the project on IntelliJ, I have no errors, so I really don&#39;t know how to solve the problem.\r\n\r\n```\r\nError: connect ECONNREFUSED 127.0.0.1:8080\r\nRequest Headers\r\nContent-Type: application/json\r\nUser-Agent: PostmanRuntime/7.29.2\r\nAccept: */*\r\nCache-Control: no-cache\r\nPostman-Token: 6ea87f2c-511f-4124-a1ac-3c7d29fb6c81\r\nHost: localhost:8080\r\nAccept-Encoding: gzip, deflate, br\r\nConnection: keep-alive\r\n```","title":"Error: connect ECONNREFUSED 127.0.0.1:8080 || POSTMAN","body":"<p>I'm working on a small project and I have to send a post request in postman, but I continue to get to connect, ECONNREFUSED 127.0.0.1:8080 error occurred.</p>\n<p>I've already checked that I'm using the correct port and changed a few proxy setting to try and fix the problem, but nothing seems to work. When I run the project on IntelliJ, I have no errors, so I really don't know how to solve the problem.</p>\n<pre><code>Error: connect ECONNREFUSED 127.0.0.1:8080\nRequest Headers\nContent-Type: application/json\nUser-Agent: PostmanRuntime/7.29.2\nAccept: */*\nCache-Control: no-cache\nPostman-Token: 6ea87f2c-511f-4124-a1ac-3c7d29fb6c81\nHost: localhost:8080\nAccept-Encoding: gzip, deflate, br\nConnection: keep-alive\n</code></pre>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":5309582,"reputation":802,"user_id":4236391,"display_name":"Jaydip Rakholiya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1536181615,"creation_date":1536181615,"answer_id":52193389,"question_id":52193177,"body_markdown":"Possible duplicate of - https://stackoverflow.com/questions/37010891/how-to-map-a-nested-value-to-a-property-using-jackson-annotations\r\n\r\n    String id;\r\n    \r\n    @JsonProperty(&quot;ID&quot;)\r\n    private void unpackNameFromNestedObject(Map&lt;String, String&gt; id) {\r\n        this.id= id.get(&quot;uniqueID&quot;);\r\n    }","title":"How to get property not only from root level","body":"<p>Possible duplicate of - <a href=\"https://stackoverflow.com/questions/37010891/how-to-map-a-nested-value-to-a-property-using-jackson-annotations\">How to map a nested value to a property using Jackson annotations?</a></p>\n\n<pre><code>String id;\n\n@JsonProperty(\"ID\")\nprivate void unpackNameFromNestedObject(Map&lt;String, String&gt; id) {\n    this.id= id.get(\"uniqueID\");\n}\n</code></pre>\n"}],"owner":{"account_id":13346356,"reputation":57,"user_id":9632967,"display_name":"Oleg Zdanevich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1670848233,"accepted_answer_id":52193389,"answer_count":1,"score":1,"last_activity_date":1670848217,"creation_date":1536180476,"question_id":52193177,"body_markdown":"I have some troubles with parsing JSON using Jackson library\r\n\r\n```json\r\n{\r\n\t&quot;userName&quot;: &quot;blablabla@gmail.com&quot;,\r\n\t\t&quot;ID&quot;: {\r\n\t\t\t&quot;uniqueID&quot;: &quot;1234567&quot;\r\n\t\t}\r\n}\r\n```\r\n\r\nThis is the part of the JSON, and my model is:\r\n\r\n```java\r\npublic class UserIdAndMail {\r\n\t@JsonProperty(&quot;uniqueID&quot;)\r\n\tprivate String id;\r\n\r\n\t\r\n\t@JsonProperty(&quot;userName&quot;)\r\n\tprivate String mail;\r\n\r\n\tpublic UserIdAndMail(String id, String mail) {\r\n\t\tthis.id = id;\r\n\t\tthis.mail = mail;\r\n\t}\r\n\r\n\tpublic UserIdAndMail() {}\r\n\r\n\tpublic String getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(String id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getMail() {\r\n\t\treturn mail;\r\n\t}\r\n\r\n\tpublic void setMail(String mail) {\r\n\t\tthis.mail = mail;\r\n\t}\r\n}\r\n```\r\n\r\n`&#39;uniqueID&#39;` becomes `null` value when I try to parse the JSON to object. I have no idea how to get this field without creating an additional class `&quot;ID&quot;`. Can there be a simpler solution to this task?\r\n\t","title":"How to get property not only from root level","body":"<p>I have some troubles with parsing JSON using Jackson library</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;userName&quot;: &quot;blablabla@gmail.com&quot;,\n        &quot;ID&quot;: {\n            &quot;uniqueID&quot;: &quot;1234567&quot;\n        }\n}\n</code></pre>\n<p>This is the part of the JSON, and my model is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UserIdAndMail {\n    @JsonProperty(&quot;uniqueID&quot;)\n    private String id;\n\n    \n    @JsonProperty(&quot;userName&quot;)\n    private String mail;\n\n    public UserIdAndMail(String id, String mail) {\n        this.id = id;\n        this.mail = mail;\n    }\n\n    public UserIdAndMail() {}\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getMail() {\n        return mail;\n    }\n\n    public void setMail(String mail) {\n        this.mail = mail;\n    }\n}\n</code></pre>\n<p><code>'uniqueID'</code> becomes <code>null</code> value when I try to parse the JSON to object. I have no idea how to get this field without creating an additional class <code>&quot;ID&quot;</code>. Can there be a simpler solution to this task?</p>\n"},{"tags":["java","selenium","google-chrome","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":1,"creation_date":1670849344,"post_id":74771036,"comment_id":131961076,"body_markdown":"The error says &#39;Invalid Selector Exception: Compound class names nor permitted&#39;, it is related to the locator you&#39;ve used, post the code you&#39;ve tried.","body":"The error says &#39;Invalid Selector Exception: Compound class names nor permitted&#39;, it is related to the locator you&#39;ve used, post the code you&#39;ve tried."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1670850646,"post_id":74771036,"comment_id":131961486,"body_markdown":"While you write &quot;Chromedriver version : 108.0.5359.71&quot; the output shows that you are using &quot;Chromedriver version : 107.0.5304.62&quot;. But this is just a warning and most probably not the root cause of your problem.","body":"While you write &quot;Chromedriver version : 108.0.5359.71&quot; the output shows that you are using &quot;Chromedriver version : 107.0.5304.62&quot;. But this is just a warning and most probably not the root cause of your problem."}],"owner":{"account_id":20251640,"reputation":11,"user_id":14852573,"display_name":"ozge uysal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1670850659,"answer_count":0,"score":1,"last_activity_date":1670847712,"creation_date":1670847712,"question_id":74771036,"body_markdown":"I&#39;m using selenium, chromedriver. I got this error when I started my Test\r\n\r\nChromeDriver was started successfully.\r\n[1670846258.729][WARNING]: This version of ChromeDriver has not been tested with Chrome version 108.\r\n\r\nAnd I also got &quot;Compound class names not permitted&quot; error.\r\n\r\nWhat could be the problem?\r\n\r\nchrome version : 108.0.5359.99 \r\nChromedriver version : 108.0.5359.71\r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/xfgCR.png)\r\n\r\n\r\n\r\nI even updated my dependencies to latest version.\r\n\r\n[enter image description here](https://i.stack.imgur.com/ZqgQI.png)","title":"&quot;This version of ChromeDriver has not been tested with Chrome version 108&quot; error with Selenium ChromeDriver","body":"<p>I'm using selenium, chromedriver. I got this error when I started my Test</p>\n<p>ChromeDriver was started successfully.\n[1670846258.729][WARNING]: This version of ChromeDriver has not been tested with Chrome version 108.</p>\n<p>And I also got &quot;Compound class names not permitted&quot; error.</p>\n<p>What could be the problem?</p>\n<p>chrome version : 108.0.5359.99\nChromedriver version : 108.0.5359.71</p>\n<p><a href=\"https://i.stack.imgur.com/xfgCR.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I even updated my dependencies to latest version.</p>\n<p><a href=\"https://i.stack.imgur.com/ZqgQI.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","localdate"],"comments":[{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1621544130,"post_id":67627649,"comment_id":119535754,"body_markdown":"what time is &quot;myBeanObject&quot;?","body":"what time is &quot;myBeanObject&quot;?"},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1621544462,"post_id":67627649,"comment_id":119535871,"body_markdown":"Simply remove `m.setdateFormat(new SimpledateFormat(&quot;yyyy-MM-dd&quot;));`. Anyway, `LocalDate` belongs to the modern date-time API and it needs to be formatted using `DateTimeFomatter`, if required. The default format of `LocalDate#toString()` is `yyyy-MM-dd`.","body":"Simply remove <code>m.setdateFormat(new SimpledateFormat(&quot;yyyy-MM-dd&quot;));</code>. Anyway, <code>LocalDate</code> belongs to the modern date-time API and it needs to be formatted using <code>DateTimeFomatter</code>, if required. The default format of <code>LocalDate#toString()</code> is <code>yyyy-MM-dd</code>."}],"answers":[{"tags":[],"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1621544250,"creation_date":1621544250,"answer_id":67627841,"question_id":67627649,"body_markdown":"Try to add this dependency: \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThen setup your `ObjectMapper` as follows: \r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.registerModule(new JavaTimeModule());\r\n    mapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);","title":"Jackson ObjectMapper serializing local date into a long string","body":"<p>Try to add this dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n    &lt;version&gt;2.8.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then setup your <code>ObjectMapper</code> as follows:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.registerModule(new JavaTimeModule());\nmapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114741,"reputation":212,"user_id":301573,"display_name":"LoBo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670847611,"creation_date":1670783598,"answer_id":74763461,"question_id":67627649,"body_markdown":"If you don&#39;t want to add additional dependencies to your project, you can create a module for `ObjectMapper` yourself. Here is an example:\r\n\r\n    package com.yourexample.serialization\r\n        \r\n    import com.fasterxml.jackson.core.JsonGenerator;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.core.Version;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.SerializerProvider;\r\n    import com.fasterxml.jackson.databind.module.SimpleModule;\r\n    import com.fasterxml.jackson.databind.ser.std.StdSerializer;\r\n    import java.io.IOException;\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    import org.junit.Assert;\r\n    import org.junit.Test;\r\n    \r\n    public class NoDependenciesTest {\r\n    \t@Test\r\n    \tpublic void testSerialization() throws JsonProcessingException {\r\n    \t\tTestUser user = new TestUser(&quot;John Doe&quot;, LocalDate.of(2022, 12, 11));\r\n    \t\tString json = writeToJson(user);\r\n    \t\tAssert.assertEquals(&quot;{\\&quot;name\\&quot;:\\&quot;John Doe\\&quot;,\\&quot;birthDate\\&quot;:\\&quot;2022-12-11\\&quot;}&quot;, json);\r\n    \t}\r\n    \r\n    \tpublic static String writeToJson(Object object) throws JsonProcessingException {\r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \t\tSimpleModule module = new SimpleModule(&quot;LocalDateSerializer&quot;, new Version(1, 0, 0, null, null, null));\r\n    \t\tmodule.addSerializer(LocalDate.class, new LocalDateSerializer());\r\n    \t\tmapper.registerModule(module);\r\n    \t\treturn mapper.writeValueAsString(object);\r\n    \t}\r\n    \r\n    \tprivate static class LocalDateSerializer extends StdSerializer&lt;LocalDate&gt; {\r\n    \t\tprivate static final long serialVersionUID = -1203520161919841191L;\r\n    \r\n    \t\tprotected LocalDateSerializer() {\r\n    \t\t\tsuper(LocalDate.class);\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void serialize(LocalDate date, JsonGenerator generator, SerializerProvider serializerProvider)\r\n    \t\t\t\tthrows IOException {\r\n    \t\t\tif (date != null) {\r\n    \t\t\t\tgenerator.writeString(date.format(DateTimeFormatter.ISO_LOCAL_DATE));\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static class TestUser {\r\n    \t\tprivate String name;\r\n    \t\tprivate java.time.LocalDate birthDate;\r\n    \r\n    \t\tpublic TestUser(String name, java.time.LocalDate birthDate) {\r\n    \t\t\tthis.name = name;\r\n    \t\t\tthis.birthDate = birthDate;\r\n    \t\t}\r\n    \r\n    \t\tpublic String getName() {\r\n    \t\t\treturn name;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setName(String name) {\r\n    \t\t\tthis.name = name;\r\n    \t\t}\r\n    \r\n    \t\tpublic java.time.LocalDate getBirthDate() {\r\n    \t\t\treturn birthDate;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setBirthDate(java.time.LocalDate birthDate) {\r\n    \t\t\tthis.birthDate = birthDate;\r\n    \t\t}\r\n    \t}\r\n    }\r\n","title":"Jackson ObjectMapper serializing local date into a long string","body":"<p>If you don't want to add additional dependencies to your project, you can create a module for <code>ObjectMapper</code> yourself. Here is an example:</p>\n<pre><code>package com.yourexample.serialization\n    \nimport com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.core.Version;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializerProvider;\nimport com.fasterxml.jackson.databind.module.SimpleModule;\nimport com.fasterxml.jackson.databind.ser.std.StdSerializer;\nimport java.io.IOException;\nimport java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport org.junit.Assert;\nimport org.junit.Test;\n\npublic class NoDependenciesTest {\n    @Test\n    public void testSerialization() throws JsonProcessingException {\n        TestUser user = new TestUser(&quot;John Doe&quot;, LocalDate.of(2022, 12, 11));\n        String json = writeToJson(user);\n        Assert.assertEquals(&quot;{\\&quot;name\\&quot;:\\&quot;John Doe\\&quot;,\\&quot;birthDate\\&quot;:\\&quot;2022-12-11\\&quot;}&quot;, json);\n    }\n\n    public static String writeToJson(Object object) throws JsonProcessingException {\n        ObjectMapper mapper = new ObjectMapper();\n        SimpleModule module = new SimpleModule(&quot;LocalDateSerializer&quot;, new Version(1, 0, 0, null, null, null));\n        module.addSerializer(LocalDate.class, new LocalDateSerializer());\n        mapper.registerModule(module);\n        return mapper.writeValueAsString(object);\n    }\n\n    private static class LocalDateSerializer extends StdSerializer&lt;LocalDate&gt; {\n        private static final long serialVersionUID = -1203520161919841191L;\n\n        protected LocalDateSerializer() {\n            super(LocalDate.class);\n        }\n\n        @Override\n        public void serialize(LocalDate date, JsonGenerator generator, SerializerProvider serializerProvider)\n                throws IOException {\n            if (date != null) {\n                generator.writeString(date.format(DateTimeFormatter.ISO_LOCAL_DATE));\n            }\n        }\n    }\n\n    private static class TestUser {\n        private String name;\n        private java.time.LocalDate birthDate;\n\n        public TestUser(String name, java.time.LocalDate birthDate) {\n            this.name = name;\n            this.birthDate = birthDate;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n\n        public java.time.LocalDate getBirthDate() {\n            return birthDate;\n        }\n\n        public void setBirthDate(java.time.LocalDate birthDate) {\n            this.birthDate = birthDate;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2578695,"reputation":2676,"user_id":2235839,"accept_rate":67,"display_name":"A Nice Guy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4364,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1670847611,"creation_date":1621543292,"question_id":67627649,"body_markdown":"I am trying to serialize my myBeanObject using jackson Objectmapper.\r\nThis is what I have:\r\n\r\n    Objectmapper m= new Objectmapper()\r\n    m.setdateFormat(new SimpledateFormat(&quot;yyyy-MM-dd&quot;)); \r\n    String json = m.writeValueAsString(myBeanObject);\r\n\r\nProblem is a LocalDate variable in my bean is getting serialised into a long String, something like {&quot;year&quot;:1970,&quot;month&quot;:&quot;JANUARY&quot;...}\r\n\r\nI want  the LocalDate to become simple like &quot;1970-01-01&quot;\r\n\r\nCan someone please help? ","title":"Jackson ObjectMapper serializing local date into a long string","body":"<p>I am trying to serialize my myBeanObject using jackson Objectmapper.\nThis is what I have:</p>\n<pre><code>Objectmapper m= new Objectmapper()\nm.setdateFormat(new SimpledateFormat(&quot;yyyy-MM-dd&quot;)); \nString json = m.writeValueAsString(myBeanObject);\n</code></pre>\n<p>Problem is a LocalDate variable in my bean is getting serialised into a long String, something like {&quot;year&quot;:1970,&quot;month&quot;:&quot;JANUARY&quot;...}</p>\n<p>I want  the LocalDate to become simple like &quot;1970-01-01&quot;</p>\n<p>Can someone please help?</p>\n"},{"tags":["java","java-ee-6"],"owner":{"account_id":11155940,"reputation":75,"user_id":8187659,"display_name":"slema imen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670847097,"creation_date":1670846722,"question_id":74770855,"body_markdown":"I&#39;m trying to read variables from json.properties and web.xml using the @Resource.In the same time i need to inject the class into another services:\r\nthis my class :\r\n\r\n    @Named\r\n    @ApplicationScoped\r\n    public class TestServiceImpl implements ITestService {\r\n\r\n \r\n\r\n    @Resource(name = &quot;smsEndpoint&quot;)\r\n    private String smsEndpoint;\r\n\r\n    @Resource(name = &quot;smsUsername&quot;)\r\n    private String smsUsername;\r\n\r\n    @Resource(name = &quot;smsPassword&quot;)\r\n    private String smsPassword;\r\n\r\n    @Override\r\n    public void sendSMS(SMS sms) throws IOException {}\r\n    }\r\n\r\n\r\nand this an example to inject this class into this service:\r\n \r\n\r\n     @Inject \r\n     private ITestService smsService; \r\n\r\n\r\nbut I can&#39; succeded to read this variable from the files, I got this exception :\r\nCaused by: javax.naming.NameNotFoundException: java:comp/env/smsEndpoint\r\n\r\nAny idea which annotation i need to put for my service that can read the ressource and also can be injected?Thanks in advance.\r\n","title":"How read a resource in a @ApplicationScoped Service?","body":"<p>I'm trying to read variables from json.properties and web.xml using the @Resource.In the same time i need to inject the class into another services:\nthis my class :</p>\n<pre><code>@Named\n@ApplicationScoped\npublic class TestServiceImpl implements ITestService {\n\n\n\n@Resource(name = &quot;smsEndpoint&quot;)\nprivate String smsEndpoint;\n\n@Resource(name = &quot;smsUsername&quot;)\nprivate String smsUsername;\n\n@Resource(name = &quot;smsPassword&quot;)\nprivate String smsPassword;\n\n@Override\npublic void sendSMS(SMS sms) throws IOException {}\n}\n</code></pre>\n<p>and this an example to inject this class into this service:</p>\n<pre><code> @Inject \n private ITestService smsService; \n</code></pre>\n<p>but I can' succeded to read this variable from the files, I got this exception :\nCaused by: javax.naming.NameNotFoundException: java:comp/env/smsEndpoint</p>\n<p>Any idea which annotation i need to put for my service that can read the ressource and also can be injected?Thanks in advance.</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":5122294,"reputation":11550,"user_id":4105457,"display_name":"Flown"},"score":2,"creation_date":1509605056,"post_id":47069125,"comment_id":81086054,"body_markdown":"Do you know what lambda expressions are?","body":"Do you know what lambda expressions are?"},{"owner":{"account_id":11440512,"reputation":2403,"user_id":8386274,"display_name":"chand mohd"},"score":0,"creation_date":1509605333,"post_id":47069125,"comment_id":81086174,"body_markdown":"yeah @flown i know the basic of lamda and while learning i got these doubt .","body":"yeah @flown i know the basic of lamda and while learning i got these doubt ."},{"owner":{"account_id":5122294,"reputation":11550,"user_id":4105457,"display_name":"Flown"},"score":1,"creation_date":1509605467,"post_id":47069125,"comment_id":81086238,"body_markdown":"Basically lambda expressions are single abstract method interfaces. So, which interface would you implement to do your task? Or are you trying to use the `Stream` API?","body":"Basically lambda expressions are single abstract method interfaces. So, which interface would you implement to do your task? Or are you trying to use the <code>Stream</code> API?"},{"owner":{"account_id":11440512,"reputation":2403,"user_id":8386274,"display_name":"chand mohd"},"score":0,"creation_date":1509606150,"post_id":47069125,"comment_id":81086576,"body_markdown":"@Flown i&#39;m not dealing with interface right now  yes i&#39;m trying to use stream API. and i&#39;m trying to re factor above piece of code by lamda expression but i&#39;m not getting how to do so i asked","body":"@Flown i&#39;m not dealing with interface right now  yes i&#39;m trying to use stream API. and i&#39;m trying to re factor above piece of code by lamda expression but i&#39;m not getting how to do so i asked"}],"answers":[{"tags":[],"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509605850,"creation_date":1509605298,"answer_id":47069204,"question_id":47069125,"body_markdown":"You *could* write:\r\n\r\n    Arrays.asList(book1, book2, ...).forEach(b -&gt; listOfBooks.add(b));\r\n\r\nOr shorter using a method reference instead of a lambda:\r\n\r\n    Arrays.asList(book1, book2, ...).forEach(listOfBooks::add);\r\n\r\nBut that&#39;s not really better than writing:\r\n\r\n    listOfBooks.addAll(Arrays.asList(book1, book2, ...));","title":"Lambda expression to add object into list","body":"<p>You <em>could</em> write:</p>\n\n<pre><code>Arrays.asList(book1, book2, ...).forEach(b -&gt; listOfBooks.add(b));\n</code></pre>\n\n<p>Or shorter using a method reference instead of a lambda:</p>\n\n<pre><code>Arrays.asList(book1, book2, ...).forEach(listOfBooks::add);\n</code></pre>\n\n<p>But that's not really better than writing:</p>\n\n<pre><code>listOfBooks.addAll(Arrays.asList(book1, book2, ...));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5122294,"reputation":11550,"user_id":4105457,"display_name":"Flown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1509606492,"creation_date":1509606492,"answer_id":47069489,"question_id":47069125,"body_markdown":"The `Stream` API is using lambda expression, but are not part of it.\r\n\r\n    public static List&lt;Books&gt; listOfBooks = new ArrayList&lt;&gt;();\r\n    public static void addProduct() {\r\n      String[] languages = {&quot;java&quot;, &quot;c&quot;, &quot;c++&quot;, &quot;javascript&quot;, &quot;Sql&quot;};\r\n      String[] authors = {&quot;games&quot;, &quot;dennis&quot;, &quot;Bjarne&quot;, &quot;Brendan&quot;, &quot;Donald&quot;};\r\n      double[] prices = {200.56d, 300.56d, 250.56d, 209.56d, 249.56d};\r\n      listOfBooks = IntStream.range(0, languages.length)\r\n                            .mapToObj(i -&gt; new Books(languages[i], authors[i], prices[i]))\r\n                            .collect(Collectors.toList());\r\n      // Alternatively:\r\n      /* IntStream.range(0, languages.length)\r\n              .mapToObj(i -&gt; new Books(languages[i], authors[i], prices[i]))\r\n              .forEach(listOfBooks::add);\r\n      */\r\n    }","title":"Lambda expression to add object into list","body":"<p>The <code>Stream</code> API is using lambda expression, but are not part of it.</p>\n\n<pre><code>public static List&lt;Books&gt; listOfBooks = new ArrayList&lt;&gt;();\npublic static void addProduct() {\n  String[] languages = {\"java\", \"c\", \"c++\", \"javascript\", \"Sql\"};\n  String[] authors = {\"games\", \"dennis\", \"Bjarne\", \"Brendan\", \"Donald\"};\n  double[] prices = {200.56d, 300.56d, 250.56d, 209.56d, 249.56d};\n  listOfBooks = IntStream.range(0, languages.length)\n                        .mapToObj(i -&gt; new Books(languages[i], authors[i], prices[i]))\n                        .collect(Collectors.toList());\n  // Alternatively:\n  /* IntStream.range(0, languages.length)\n          .mapToObj(i -&gt; new Books(languages[i], authors[i], prices[i]))\n          .forEach(listOfBooks::add);\n  */\n}\n</code></pre>\n"}],"owner":{"account_id":11440512,"reputation":2403,"user_id":8386274,"display_name":"chand mohd"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":47069489,"answer_count":2,"score":0,"last_activity_date":1670846963,"creation_date":1509604978,"question_id":47069125,"body_markdown":"there is a List&lt;Books&gt; and i want to create books object and add all the book object into this List&lt;Books&gt;. here I did with normal approach like this\t.\r\n\r\n    public static List&lt;Books&gt; listOfBooks = new ArrayList&lt;&gt;();\r\n    public static void addProduct() {\r\n    \t\tBooks book1 = new Books(&quot;java&quot;, &quot;games&quot;, 200.56);\r\n    \t\tBooks book2 = new Books(&quot;c&quot;, &quot;dennis&quot;, 300.56);\r\n    \t\tBooks book3 = new Books(&quot;c++&quot;, &quot;Bjarne&quot;, 250.56);\r\n    \t\tBooks book4 = new Books(&quot;javaScript&quot;, &quot;Brendan&quot;, 209.56);\r\n    \t\tBooks book5 = new Books(&quot;Sql&quot;, &quot;Donald&quot;, 249.56);\r\n    \t\tlistOfBooks.add(book1);\r\n    \t\tlistOfBooks.add(book2);\r\n    \t\tlistOfBooks.add(book3);\r\n    \t\tlistOfBooks.add(book4);\r\n    \t\tlistOfBooks.add(book5);\r\n    \t}\r\n\r\nI want the same operation by using lambda expression but i do not know how to do it. please help me out?\r\n","title":"Lambda expression to add object into list","body":"<p>there is a List and i want to create books object and add all the book object into this List. here I did with normal approach like this   .</p>\n<pre><code>public static List&lt;Books&gt; listOfBooks = new ArrayList&lt;&gt;();\npublic static void addProduct() {\n        Books book1 = new Books(&quot;java&quot;, &quot;games&quot;, 200.56);\n        Books book2 = new Books(&quot;c&quot;, &quot;dennis&quot;, 300.56);\n        Books book3 = new Books(&quot;c++&quot;, &quot;Bjarne&quot;, 250.56);\n        Books book4 = new Books(&quot;javaScript&quot;, &quot;Brendan&quot;, 209.56);\n        Books book5 = new Books(&quot;Sql&quot;, &quot;Donald&quot;, 249.56);\n        listOfBooks.add(book1);\n        listOfBooks.add(book2);\n        listOfBooks.add(book3);\n        listOfBooks.add(book4);\n        listOfBooks.add(book5);\n    }\n</code></pre>\n<p>I want the same operation by using lambda expression but i do not know how to do it. please help me out?</p>\n"},{"tags":["java","oop","encapsulation"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1670844074,"post_id":74770321,"comment_id":131959403,"body_markdown":"Your code is not syntactically valid. Usually that&#39;s not a big issue if the code is purely for demonstrating some general structure, but the fact that you define two arguments to the `add` method with the same name as the fields make this very suspicious. What did you *intend* the `add` method to do: take two arguments and add them together or return the sum of the two fields? In either way, I&#39;d not describe this as &quot;encapsulated&quot;.","body":"Your code is not syntactically valid. Usually that&#39;s not a big issue if the code is purely for demonstrating some general structure, but the fact that you define two arguments to the <code>add</code> method with the same name as the fields make this very suspicious. What did you <i>intend</i> the <code>add</code> method to do: take two arguments and add them together or return the sum of the two fields? In either way, I&#39;d not describe this as &quot;encapsulated&quot;."},{"owner":{"account_id":16377321,"reputation":1,"user_id":12238218,"display_name":"akshay lonkar"},"score":0,"creation_date":1670844640,"post_id":74770321,"comment_id":131959582,"body_markdown":"Thanks for the quick response @JoachimSauer. I have modified the class. Can you please answer the question now. I am seeking the reason behind why we cannot say it as encapsulated class.","body":"Thanks for the quick response @JoachimSauer. I have modified the class. Can you please answer the question now. I am seeking the reason behind why we cannot say it as encapsulated class."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1670844728,"post_id":74770321,"comment_id":131959615,"body_markdown":"I don&#39;t think your first sentence is correct. What you&#39;re describing is more generally object-oriented programming. Encapsulation is restricting access to something (usually internal state). No access is restricted in your sample code: everything (most importantly the fields, i.e. the state of the object) is fully (publicly) accessible to any other code.","body":"I don&#39;t think your first sentence is correct. What you&#39;re describing is more generally object-oriented programming. Encapsulation is restricting access to something (usually internal state). No access is restricted in your sample code: everything (most importantly the fields, i.e. the state of the object) is fully (publicly) accessible to any other code."},{"owner":{"account_id":1455702,"reputation":15662,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1670860056,"post_id":74770321,"comment_id":131965138,"body_markdown":"Does this answer your question? [What are the differences between information hiding and encapsulation?](https://stackoverflow.com/questions/13913174/what-are-the-differences-between-information-hiding-and-encapsulation)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13913174/what-are-the-differences-between-information-hiding-and-encapsulation\">What are the differences between information hiding and encapsulation?</a>"},{"owner":{"account_id":16377321,"reputation":1,"user_id":12238218,"display_name":"akshay lonkar"},"score":1,"creation_date":1670865043,"post_id":74770321,"comment_id":131966923,"body_markdown":"Hi @jaco0646, even the link you shared answered my question. Thanks","body":"Hi @jaco0646, even the link you shared answered my question. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670845541,"creation_date":1670845541,"answer_id":74770634,"question_id":74770321,"body_markdown":"Yes, or no. Depending on how one defines &quot;encapsulation&quot;.\r\n\r\nGiven the phrasing of your question, I assume you are working with [the definition of encapsulation from Wikipedia][1], which (as of now) reads\r\n\r\n&gt; In object-oriented programming (OOP), encapsulation refers to the bundling of data with the methods that operate on those data, or the restricting of direct access to some of an object&#39;s components.\r\n\r\nI disagree with this definition. Or more precisely, I think it unnecessarily distinguishes &quot;encapsulation&quot; and &quot;data hiding&quot; which is not in line with how I see the term &quot;encapsulation&quot; used in day-to-day conversations. In fact even the [Wikipedia talk page][2] mentions this problem of the definition (with no apparent counter-voices).\r\n\r\nSo if you follow that Wikipedia definition, then yes, your code uses encapsulation (&quot;an encapsulated class&quot; is not a phrase I&#39;ve ever heard anyone use this way, I&#39;d avoid it).\r\n\r\nIf you follow the school of thought that information hiding and encapsulation are synonymous (or at least very tightly bound together) then your code is not using encapsulation.\r\n\r\nSee this paragraph from [the Wikipedia article on Information Hiding][3]:\r\n\r\n&gt; The term *encapsulation* is often used interchangeably with information hiding. Not all agree on the distinctions between the two, though; one may think of information hiding as being the principle and encapsulation being the technique.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Encapsulation_(computer_programming)\r\n  [2]: https://en.wikipedia.org/wiki/Talk:Encapsulation_(computer_programming)#Encapsulation_is_information_hiding\r\n  [3]: https://en.wikipedia.org/wiki/Information_hiding","title":"Can we say a class with all public member variables and all public methods as encapsulated class?","body":"<p>Yes, or no. Depending on how one defines &quot;encapsulation&quot;.</p>\n<p>Given the phrasing of your question, I assume you are working with <a href=\"https://en.wikipedia.org/wiki/Encapsulation_(computer_programming)\" rel=\"nofollow noreferrer\">the definition of encapsulation from Wikipedia</a>, which (as of now) reads</p>\n<blockquote>\n<p>In object-oriented programming (OOP), encapsulation refers to the bundling of data with the methods that operate on those data, or the restricting of direct access to some of an object's components.</p>\n</blockquote>\n<p>I disagree with this definition. Or more precisely, I think it unnecessarily distinguishes &quot;encapsulation&quot; and &quot;data hiding&quot; which is not in line with how I see the term &quot;encapsulation&quot; used in day-to-day conversations. In fact even the <a href=\"https://en.wikipedia.org/wiki/Talk:Encapsulation_(computer_programming)#Encapsulation_is_information_hiding\" rel=\"nofollow noreferrer\">Wikipedia talk page</a> mentions this problem of the definition (with no apparent counter-voices).</p>\n<p>So if you follow that Wikipedia definition, then yes, your code uses encapsulation (&quot;an encapsulated class&quot; is not a phrase I've ever heard anyone use this way, I'd avoid it).</p>\n<p>If you follow the school of thought that information hiding and encapsulation are synonymous (or at least very tightly bound together) then your code is not using encapsulation.</p>\n<p>See this paragraph from <a href=\"https://en.wikipedia.org/wiki/Information_hiding\" rel=\"nofollow noreferrer\">the Wikipedia article on Information Hiding</a>:</p>\n<blockquote>\n<p>The term <em>encapsulation</em> is often used interchangeably with information hiding. Not all agree on the distinctions between the two, though; one may think of information hiding as being the principle and encapsulation being the technique.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11358207,"reputation":1,"user_id":16328314,"display_name":"Luiz Eduardo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670846817,"creation_date":1670846761,"answer_id":74770863,"question_id":74770321,"body_markdown":"The meaning of Encapsulation, is to make sure that &quot;sensitive&quot; data is hidden from users\r\n\r\nto make your class encapsulated you need\r\n\r\n - Declare class variables/attributes as private\r\n - provide public get and set methods to access and update the value of a private variable\r\n\r\nyour class has public data, that is, it is not protected (encapsulated) and therefore can be accessed and modified by everyone\r\nI recommend this reading for a better understanding of encapsulation \r\n\r\n[java_encapsulation][1]\r\n\r\n\r\n  [1]: https://www.w3schools.com/java/java_encapsulation.asp","title":"Can we say a class with all public member variables and all public methods as encapsulated class?","body":"<p>The meaning of Encapsulation, is to make sure that &quot;sensitive&quot; data is hidden from users</p>\n<p>to make your class encapsulated you need</p>\n<ul>\n<li>Declare class variables/attributes as private</li>\n<li>provide public get and set methods to access and update the value of a private variable</li>\n</ul>\n<p>your class has public data, that is, it is not protected (encapsulated) and therefore can be accessed and modified by everyone\nI recommend this reading for a better understanding of encapsulation</p>\n<p><a href=\"https://www.w3schools.com/java/java_encapsulation.asp\" rel=\"nofollow noreferrer\">java_encapsulation</a></p>\n"}],"owner":{"account_id":16377321,"reputation":1,"user_id":12238218,"display_name":"akshay lonkar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670846817,"creation_date":1670843929,"question_id":74770321,"body_markdown":"By definition, encapsulation in Java is a process of wrapping code and data together into a single unit. But if a class has 2 member variables and a method and both the variables and method has public access modifier, can we say that class as encapsulated class? \r\n\r\nFor example, can we say below class is encapsulated or not\r\n\r\n```\r\npublic class AddNumbers {\r\n\r\n     public int a;\r\n     public int b;\r\n\r\n     public void add(){\r\n          System.out.println(a+b);\r\n     }\r\n}\r\n```","title":"Can we say a class with all public member variables and all public methods as encapsulated class?","body":"<p>By definition, encapsulation in Java is a process of wrapping code and data together into a single unit. But if a class has 2 member variables and a method and both the variables and method has public access modifier, can we say that class as encapsulated class?</p>\n<p>For example, can we say below class is encapsulated or not</p>\n<pre><code>public class AddNumbers {\n\n     public int a;\n     public int b;\n\n     public void add(){\n          System.out.println(a+b);\n     }\n}\n</code></pre>\n"},{"tags":["java","postgresql","jdbc","ddl"],"comments":[{"owner":{"account_id":2840364,"reputation":2021,"user_id":2440114,"display_name":"Rajeev Bera"},"score":0,"creation_date":1373874983,"post_id":17648861,"comment_id":25701750,"body_markdown":"@CraigRinger I have deleted that link ,thats for correcting me","body":"@CraigRinger I have deleted that link ,thats for correcting me"}],"answers":[{"tags":[],"owner":{"account_id":171331,"reputation":310904,"user_id":398670,"accept_rate":73,"display_name":"Craig Ringer"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1670846726,"creation_date":1373873789,"answer_id":17648989,"question_id":17648861,"body_markdown":"It isn&#39;t supported by the server, so even if it seems to work in the client side JDBC driver I don&#39;t recommend it:\r\n\r\n    regress=&gt; PREPARE CREATE TABLE test ( id serial primary key );\r\n    ERROR:  syntax error at or near &quot;CREATE&quot;\r\n    LINE 1: PREPARE CREATE TABLE test ( id serial primary key );\r\n                    ^\r\n\r\nThere&#39;s no advantage to doing so anyway since you cannot *parameterize* them, so you can&#39;t write:\r\n\r\n    CREATE TABLE ? ( ? text, ...)\r\n\r\nand then specify the placeholder values as query parameters to the `Statement`.\r\n\r\nIn PostgreSQL only *planned* statements may be prepared and parameterised server-side. Currently that means `INSERT`, `UPDATE`, `DELETE` and `SELECT`.\r\n\r\nYou&#39;ll need to do your own string interpolation and safe quoting according to PostgreSQL&#39;s [lexical structure rules](http://www.postgresql.org/docs/current/static/sql-syntax-lexical.html) - which are pretty much those of the SQL spec. Wrap all identifiers in `&quot;double quotes&quot;` and double any literal double quotes, eg `&quot;these are literal &quot;&quot;double quotes&quot;&quot;&quot;` for the table name `these are literal &quot;double quotes&quot;`.\r\n\r\nThe very fact that you want to do this suggests that you probably have design issues in your schema and might need to re-think how you&#39;re going about things. Maybe post a more detailed question on dba.stackexchange.com that explains what you want to achieve with this and why?","title":"Can we use DDL Commands in a prepared statement (PostgreSQL)?","body":"<p>It isn't supported by the server, so even if it seems to work in the client side JDBC driver I don't recommend it:</p>\n<pre><code>regress=&gt; PREPARE CREATE TABLE test ( id serial primary key );\nERROR:  syntax error at or near &quot;CREATE&quot;\nLINE 1: PREPARE CREATE TABLE test ( id serial primary key );\n                ^\n</code></pre>\n<p>There's no advantage to doing so anyway since you cannot <em>parameterize</em> them, so you can't write:</p>\n<pre><code>CREATE TABLE ? ( ? text, ...)\n</code></pre>\n<p>and then specify the placeholder values as query parameters to the <code>Statement</code>.</p>\n<p>In PostgreSQL only <em>planned</em> statements may be prepared and parameterised server-side. Currently that means <code>INSERT</code>, <code>UPDATE</code>, <code>DELETE</code> and <code>SELECT</code>.</p>\n<p>You'll need to do your own string interpolation and safe quoting according to PostgreSQL's <a href=\"http://www.postgresql.org/docs/current/static/sql-syntax-lexical.html\" rel=\"nofollow noreferrer\">lexical structure rules</a> - which are pretty much those of the SQL spec. Wrap all identifiers in <code>&quot;double quotes&quot;</code> and double any literal double quotes, eg <code>&quot;these are literal &quot;&quot;double quotes&quot;&quot;&quot;</code> for the table name <code>these are literal &quot;double quotes&quot;</code>.</p>\n<p>The very fact that you want to do this suggests that you probably have design issues in your schema and might need to re-think how you're going about things. Maybe post a more detailed question on dba.stackexchange.com that explains what you want to achieve with this and why?</p>\n"},{"tags":[],"owner":{"account_id":64084,"reputation":32129,"user_id":189361,"accept_rate":100,"display_name":"Michael Dillon"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1472242557,"creation_date":1472241991,"answer_id":39173959,"question_id":17648861,"body_markdown":"Yes you can, if you use EXECUTE and wrap it in a FUNCTION. The function call allows you to pass parameters, and inside the FUNCTION you use string manipulation to modify the DDL statement. Finally, the use of EXECUTE in the FUNCTION makes it so. Here is a simple example of a parameterized CREATE SEQUENCE statement...\r\n\r\n    DROP FUNCTION sf.start_mc(integer);\r\n    \r\n    CREATE FUNCTION sf.start_mc(thefirst integer) RETURNS void AS $$\r\n    BEGIN\r\n        EXECUTE format(&#39;CREATE SEQUENCE sf.mastercase START %s&#39;,thefirst);\r\n    END;\r\n    \r\n    $$ LANGUAGE plpgsql;\r\n\r\nWe use the string function &quot;format&quot; to manipulate the statement and include the parameter that was passed to the function. Of course, your SQL looks rather unusual, particularly if you include the CREATE FUNCTION  before you call it. This example comes from a data migration job that I recently did. After CREATEing the function we used it like this:\r\n\r\n    DROP SEQUENCE sf.mastercase;\r\n\r\n    -- the following uses the above function to set the starting value of a new sequence based on the last used\r\n    -- in the widget table\r\n    select sf.start_mc((select substring(&quot;widgetId&quot;,4)::integer + 1 from widgets\r\n    where &quot;widgetId&quot; like &#39;MC-%&#39;\r\n    order by &quot;widgetId&quot; desc\r\n    limit 1));\r\n\r\nNote that the outer SELECT doesn&#39;t select anything, it just makes a place to do the function call. The number that is passed as a parameter comes from the inner SELECT which is wrapped in parentheses. A simpler call would be\r\n\r\n    select sf.start_mc(42);\r\n\r\nYou can wrap anything in a CREATEd FUNCTION. But this does mean that you are stuck with PostgreSQL and that you need to integrate your DB schema, and schema changes, into your development process as a first class citizen.\r\n\r\n","title":"Can we use DDL Commands in a prepared statement (PostgreSQL)?","body":"<p>Yes you can, if you use EXECUTE and wrap it in a FUNCTION. The function call allows you to pass parameters, and inside the FUNCTION you use string manipulation to modify the DDL statement. Finally, the use of EXECUTE in the FUNCTION makes it so. Here is a simple example of a parameterized CREATE SEQUENCE statement...</p>\n\n<pre><code>DROP FUNCTION sf.start_mc(integer);\n\nCREATE FUNCTION sf.start_mc(thefirst integer) RETURNS void AS $$\nBEGIN\n    EXECUTE format('CREATE SEQUENCE sf.mastercase START %s',thefirst);\nEND;\n\n$$ LANGUAGE plpgsql;\n</code></pre>\n\n<p>We use the string function \"format\" to manipulate the statement and include the parameter that was passed to the function. Of course, your SQL looks rather unusual, particularly if you include the CREATE FUNCTION  before you call it. This example comes from a data migration job that I recently did. After CREATEing the function we used it like this:</p>\n\n<pre><code>DROP SEQUENCE sf.mastercase;\n\n-- the following uses the above function to set the starting value of a new sequence based on the last used\n-- in the widget table\nselect sf.start_mc((select substring(\"widgetId\",4)::integer + 1 from widgets\nwhere \"widgetId\" like 'MC-%'\norder by \"widgetId\" desc\nlimit 1));\n</code></pre>\n\n<p>Note that the outer SELECT doesn't select anything, it just makes a place to do the function call. The number that is passed as a parameter comes from the inner SELECT which is wrapped in parentheses. A simpler call would be</p>\n\n<pre><code>select sf.start_mc(42);\n</code></pre>\n\n<p>You can wrap anything in a CREATEd FUNCTION. But this does mean that you are stuck with PostgreSQL and that you need to integrate your DB schema, and schema changes, into your development process as a first class citizen.</p>\n"},{"tags":[],"owner":{"display_name":"user11995521"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1595458909,"creation_date":1595458909,"answer_id":63044380,"question_id":17648861,"body_markdown":"There should not be any need to use prepared statements unless you are using user input from the outside world.\r\n\r\nUsually with DDL statements, a User does not and SHOULD NOT know anything about the internal DB Schema or model.\r\n\r\nAs long as data is being transferred over a secure network, I do not really see any benefit to preparing statements","title":"Can we use DDL Commands in a prepared statement (PostgreSQL)?","body":"<p>There should not be any need to use prepared statements unless you are using user input from the outside world.</p>\n<p>Usually with DDL statements, a User does not and SHOULD NOT know anything about the internal DB Schema or model.</p>\n<p>As long as data is being transferred over a secure network, I do not really see any benefit to preparing statements</p>\n"}],"owner":{"account_id":3020447,"reputation":4330,"user_id":2561626,"accept_rate":74,"display_name":"09Q71AO534"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6745,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":39173959,"answer_count":3,"score":7,"last_activity_date":1670846726,"creation_date":1373873346,"question_id":17648861,"body_markdown":"`DDL` commands follow: \r\n\r\n\r\n`CREATE TABLE` —  creates a table with the column names the user provides.\r\n\r\n`DROP TABLE` —  deletes all rows and removes the table definition from the database. \r\n\r\n`ALTER TABLE` —  adds or removes a column from a table.\r\n\r\nI need few examples if there is a possibility of using these Commands in PostgreSQL and Java?\r\n\r\n\tpublic boolean create(Employee employee) {\r\n\r\n\t\ttry {\r\n\r\n\t\t\tcallableStatement = openConnection().prepareCall(&quot;{call insert_employee(?,?,?)}&quot;);\r\n\t\t\tcallableStatement.setInt(1, employee.getEid());\r\n\t\t\tcallableStatement.setString(2, employee.getEname());\r\n\t\t\tcallableStatement.setInt(3, employee.getSid());\t\t\r\n\r\n\t\t\ti = callableStatement.execute();\r\n\r\n\t\t\tcallableStatement.close();\r\n\r\n\t\t\tcloseConnection();\r\n\r\n\r\n\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn i;\r\n\r\n\t}\r\n\r\nis there any chance of using DDL CREATE command in such type? using prepared statements?","title":"Can we use DDL Commands in a prepared statement (PostgreSQL)?","body":"<p><code>DDL</code> commands follow: </p>\n\n<p><code>CREATE TABLE</code> —  creates a table with the column names the user provides.</p>\n\n<p><code>DROP TABLE</code> —  deletes all rows and removes the table definition from the database. </p>\n\n<p><code>ALTER TABLE</code> —  adds or removes a column from a table.</p>\n\n<p>I need few examples if there is a possibility of using these Commands in PostgreSQL and Java?</p>\n\n<pre><code>public boolean create(Employee employee) {\n\n    try {\n\n        callableStatement = openConnection().prepareCall(\"{call insert_employee(?,?,?)}\");\n        callableStatement.setInt(1, employee.getEid());\n        callableStatement.setString(2, employee.getEname());\n        callableStatement.setInt(3, employee.getSid());     \n\n        i = callableStatement.execute();\n\n        callableStatement.close();\n\n        closeConnection();\n\n\n\n    } catch (SQLException e) {\n        e.printStackTrace();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return i;\n\n}\n</code></pre>\n\n<p>is there any chance of using DDL CREATE command in such type? using prepared statements?</p>\n"},{"tags":["java","exception","methods","calculator"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1663418289,"post_id":73754902,"comment_id":130237690,"body_markdown":"Thrown exception are not returned... but thrown (they do not &quot;count&quot; to the return type of a method). Thus, since the method does not normally return anything, its return type should be `void`.","body":"Thrown exception are not returned... but thrown (they do not &quot;count&quot; to the return type of a method). Thus, since the method does not normally return anything, its return type should be <code>void</code>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1663418515,"post_id":73754902,"comment_id":130237736,"body_markdown":"A remark: method `throwExceptionForNullArray(...)` is declared with a paramter of type `int[]`, but called with no parameter. We need to pass an `int[]` on the calling side to this method.","body":"A remark: method <code>throwExceptionForNullArray(...)</code> is declared with a paramter of type <code>int[]</code>, but called with no parameter. We need to pass an <code>int[]</code> on the calling side to this method."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1663418657,"post_id":73754902,"comment_id":130237764,"body_markdown":"Aside from your question: message in `IllegalArgumentException(&quot;Empty array is not allowed&quot;)` is not valid. The `null` represents that there was *no* array provided (`null` was used *instead of any array*), not that provided array was empty (like `int[] emptyArray = {};`). Difference is like getting empty box and not getting a box at all.","body":"Aside from your question: message in <code>IllegalArgumentException(&quot;Empty array is not allowed&quot;)</code> is not valid. The <code>null</code> represents that there was <i>no</i> array provided (<code>null</code> was used <i>instead of any array</i>), not that provided array was empty (like <code>int[] emptyArray = {};</code>). Difference is like getting empty box and not getting a box at all."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663421359,"creation_date":1663418887,"answer_id":73754973,"question_id":73754902,"body_markdown":"&gt; What is the return type of a Java exception?\r\n\r\nThat&#39;s like asking: &quot;What is the colour of ennui?&quot; - the question doesn&#39;t make sense.\r\n\r\nLet me put it differently. Imagine this hypothetical method:\r\n\r\n```java\r\npublic int hello() {\r\n  while (true) {\r\n    // just loop forever and ever and ever.\r\n  }\r\n}\r\n```\r\n\r\nThe above will... actually compile. Try it!\r\n\r\nThat&#39;s a bit odd - this method is declared to return an int, and yet, the method _contains no `return` statement at all_. And yet this compiles fine. That&#39;s because it is a bit wonky in how it &#39;works&#39;. It never actually exits, so there&#39;s no violation of the rules here. A return type of `int` means: _If_ this method returns normally, it _must_ do so by returning an `int` value.\r\n\r\nNote, _if_ it returns normally. There is no rule stating that all methods must necessarily always return normally, or that it could ever even return normally. The above method cannot return normally, for example.\r\n\r\nA &quot;normal&quot; return occurs when your method hits a `return` statement, or just gets to the closing brace.\r\n\r\nA throw statement is an abnormal condition. A method that exits by way of throwing __does not return anything__. It got out by throwing. That doesn&#39;t mean it &quot;returned&quot; the exception. It means it &quot;threw&quot; the exception.\r\n\r\nA method that cannot possibly return normally (and if all ways through the method end in a `throw` statement, it cannot possibly return normally) can pick whatever it wants for a return type. It just won&#39;t matter. Anything will do. For a method whose stated purpose is:\r\n\r\n* If the inputs are valid, do absolutely nothing\r\n* Otherwise, throw an exception highlighting what&#39;s invalid about the input\r\n\r\nThe usual return type is `void`. So, do that:\r\n\r\n\r\n```java\r\npublic void checkInput(int[] integers) {\r\n    if (integers == null) {\r\n        throw new NullPointerException(&quot;integers&quot;);\r\n    }\r\n}\r\n```\r\n\r\nA few notes:\r\n\r\n* Your message was dead wrong. `null` does not mean &quot;empty&quot;, a very important distinction. `new int[0]` is an empty array. `null` is a null pointer. Don&#39;t conflate the two. It&#39;s possible to have a method that doesn&#39;t like an input of an empty array. In that case, the correct act to take is something like:\r\n\r\n```java\r\nif (integers.length == 0) throw new IllegalArgumentException(&quot;Empty &#39;integers&#39; array not allowed&quot;);\r\n```\r\n\r\nIt&#39;s more appropriate to use NullPointerException for params being null when as a precondition they aren&#39;t supposed to be.\r\n\r\n* If you&#39;re dereferencing the parameter, there&#39;s really no need to do this. The JVM itself will throw the NPE for you and even name it assuming you&#39;re using a modern JVM. You dereference `integers` (`for (int i : integers)` will do that), so you can remove it all and get the same result, namely: Calling that method with `null` will throw an NPE whose message includes the text &#39;integers&#39;.\r\n * Naming a method &#39;throwExceptionFor&#39; is a bit too on the nose, it describes too much how it works and not enough what it is supposed to do. `checkInput` describes the why/what instead of the how, that&#39;s usually the better way to name methods.","title":"What is the return type of a Java exception?","body":"<blockquote>\n<p>What is the return type of a Java exception?</p>\n</blockquote>\n<p>That's like asking: &quot;What is the colour of ennui?&quot; - the question doesn't make sense.</p>\n<p>Let me put it differently. Imagine this hypothetical method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int hello() {\n  while (true) {\n    // just loop forever and ever and ever.\n  }\n}\n</code></pre>\n<p>The above will... actually compile. Try it!</p>\n<p>That's a bit odd - this method is declared to return an int, and yet, the method <em>contains no <code>return</code> statement at all</em>. And yet this compiles fine. That's because it is a bit wonky in how it 'works'. It never actually exits, so there's no violation of the rules here. A return type of <code>int</code> means: <em>If</em> this method returns normally, it <em>must</em> do so by returning an <code>int</code> value.</p>\n<p>Note, <em>if</em> it returns normally. There is no rule stating that all methods must necessarily always return normally, or that it could ever even return normally. The above method cannot return normally, for example.</p>\n<p>A &quot;normal&quot; return occurs when your method hits a <code>return</code> statement, or just gets to the closing brace.</p>\n<p>A throw statement is an abnormal condition. A method that exits by way of throwing <strong>does not return anything</strong>. It got out by throwing. That doesn't mean it &quot;returned&quot; the exception. It means it &quot;threw&quot; the exception.</p>\n<p>A method that cannot possibly return normally (and if all ways through the method end in a <code>throw</code> statement, it cannot possibly return normally) can pick whatever it wants for a return type. It just won't matter. Anything will do. For a method whose stated purpose is:</p>\n<ul>\n<li>If the inputs are valid, do absolutely nothing</li>\n<li>Otherwise, throw an exception highlighting what's invalid about the input</li>\n</ul>\n<p>The usual return type is <code>void</code>. So, do that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void checkInput(int[] integers) {\n    if (integers == null) {\n        throw new NullPointerException(&quot;integers&quot;);\n    }\n}\n</code></pre>\n<p>A few notes:</p>\n<ul>\n<li>Your message was dead wrong. <code>null</code> does not mean &quot;empty&quot;, a very important distinction. <code>new int[0]</code> is an empty array. <code>null</code> is a null pointer. Don't conflate the two. It's possible to have a method that doesn't like an input of an empty array. In that case, the correct act to take is something like:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>if (integers.length == 0) throw new IllegalArgumentException(&quot;Empty 'integers' array not allowed&quot;);\n</code></pre>\n<p>It's more appropriate to use NullPointerException for params being null when as a precondition they aren't supposed to be.</p>\n<ul>\n<li>If you're dereferencing the parameter, there's really no need to do this. The JVM itself will throw the NPE for you and even name it assuming you're using a modern JVM. You dereference <code>integers</code> (<code>for (int i : integers)</code> will do that), so you can remove it all and get the same result, namely: Calling that method with <code>null</code> will throw an NPE whose message includes the text 'integers'.</li>\n<li>Naming a method 'throwExceptionFor' is a bit too on the nose, it describes too much how it works and not enough what it is supposed to do. <code>checkInput</code> describes the why/what instead of the how, that's usually the better way to name methods.</li>\n</ul>\n"}],"owner":{"account_id":18056490,"reputation":35,"user_id":19832072,"display_name":"santa_cloudy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73754973,"answer_count":1,"score":-1,"last_activity_date":1670846585,"creation_date":1663418165,"question_id":73754902,"body_markdown":"I&#39;m writing a Calculator exercise that takes an array of int for addition, subtraction, division and multiplication. I need to check in every method that the array is not null. Instead of repeating myself, can I write the throwException method once and then just call it in my method?\r\ne.g. for addition\r\n\r\n```\r\npublic int addAll(int[] integers) {\r\n    throwExceptionForNullArray();\r\n    int sumOfAllIntegers = 0;\r\n    for (int integer : integers) {\r\n        sumOfAllIntegers += integer;\r\n    }\r\n    return  sumOfAllIntegers;\r\n}\r\n\r\npublic throwExceptionForNullArray (int[] integers){\r\n    if (integers == null){\r\n        throw new IllegalArgumentException(&quot;Empty array is not allowed&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nBut Java requires a return type in a method, do you have any ideas that can make the throwExceptionForNullArray method work? What should be the return type?\r\nThank you","title":"What is the return type of a Java exception?","body":"<p>I'm writing a Calculator exercise that takes an array of int for addition, subtraction, division and multiplication. I need to check in every method that the array is not null. Instead of repeating myself, can I write the throwException method once and then just call it in my method?\ne.g. for addition</p>\n<pre><code>public int addAll(int[] integers) {\n    throwExceptionForNullArray();\n    int sumOfAllIntegers = 0;\n    for (int integer : integers) {\n        sumOfAllIntegers += integer;\n    }\n    return  sumOfAllIntegers;\n}\n\npublic throwExceptionForNullArray (int[] integers){\n    if (integers == null){\n        throw new IllegalArgumentException(&quot;Empty array is not allowed&quot;);\n    }\n}\n\n</code></pre>\n<p>But Java requires a return type in a method, do you have any ideas that can make the throwExceptionForNullArray method work? What should be the return type?\nThank you</p>\n"},{"tags":["java","datetime","jackson"],"comments":[{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1670839861,"post_id":74769401,"comment_id":131958082,"body_markdown":"Does this answer your question? [Spring Data JPA - ZonedDateTime format for json serialization](https://stackoverflow.com/questions/31627992/spring-data-jpa-zoneddatetime-format-for-json-serialization)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/31627992/spring-data-jpa-zoneddatetime-format-for-json-serialization\">Spring Data JPA - ZonedDateTime format for json serialization</a>"},{"owner":{"account_id":88022,"reputation":26116,"user_id":243755,"accept_rate":60,"display_name":"zjffdu"},"score":0,"creation_date":1670846085,"post_id":74769401,"comment_id":131960018,"body_markdown":"It seems it is the same as my above example code, the above assert statement still fails.","body":"It seems it is the same as my above example code, the above assert statement still fails."}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670840036,"creation_date":1670840036,"answer_id":74769534,"question_id":74769401,"body_markdown":"You don&#39;t need to customize ObjectMapper. Try to add this annotation above your property:\r\n\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;)\r\n    ZonedDateTime myDate\r\n\r\nFor more details look at this question and the accepted answer: [Spring Data JPA - ZonedDateTime format for json serialization][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31627992/spring-data-jpa-zoneddatetime-format-for-json-serialization","title":"Unable to serialize/deserialize ZonedDateTime correctly using jackson","body":"<p>You don't need to customize ObjectMapper. Try to add this annotation above your property:</p>\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd'T'HH:mm:ss.SSSZ&quot;)\nZonedDateTime myDate\n</code></pre>\n<p>For more details look at this question and the accepted answer: <a href=\"https://stackoverflow.com/questions/31627992/spring-data-jpa-zoneddatetime-format-for-json-serialization\">Spring Data JPA - ZonedDateTime format for json serialization</a></p>\n"},{"tags":[],"owner":{"account_id":88022,"reputation":26116,"user_id":243755,"accept_rate":60,"display_name":"zjffdu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670846572,"creation_date":1670846572,"answer_id":74770821,"question_id":74769401,"body_markdown":"Sorry folks, it seems my fault. I should specify the zoneId when creating ZonedDateTime.\r\n\r\nThe following code pass:\r\n\r\n    ZonedDateTime dateTime = ZonedDateTime.now(ZoneId.of(&quot;UTC&quot;));\r\n    String json = mapper.writeValueAsString(dateTime);\r\n    LOGGER.info(&quot;ZonedDateTime json: &quot; + json);\r\n\r\n    ZonedDateTime dateTime2 = mapper.readValue(json, ZonedDateTime.class);\r\n    assertEquals(dateTime, dateTime2);","title":"Unable to serialize/deserialize ZonedDateTime correctly using jackson","body":"<p>Sorry folks, it seems my fault. I should specify the zoneId when creating ZonedDateTime.</p>\n<p>The following code pass:</p>\n<pre><code>ZonedDateTime dateTime = ZonedDateTime.now(ZoneId.of(&quot;UTC&quot;));\nString json = mapper.writeValueAsString(dateTime);\nLOGGER.info(&quot;ZonedDateTime json: &quot; + json);\n\nZonedDateTime dateTime2 = mapper.readValue(json, ZonedDateTime.class);\nassertEquals(dateTime, dateTime2);\n</code></pre>\n"}],"owner":{"account_id":88022,"reputation":26116,"user_id":243755,"accept_rate":60,"display_name":"zjffdu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1305,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670846572,"creation_date":1670839380,"question_id":74769401,"body_markdown":"I&#39;d like to serialize/deserialize ZonedDateTime in my spring boot app, so I need to customise the ObjectMapper. But when I deserialize it back, I can not get the ZonedDateTime correctly.  \r\n\r\nHere&#39;s my sample code:\r\n\r\n    ObjectMapper mapper = new ObjectMapper()\r\n        .enable(MapperFeature.DEFAULT_VIEW_INCLUSION)\r\n        .enable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES)\r\n        .disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS)\r\n        .findAndRegisterModules();\r\n\r\n    ZonedDateTime dateTime = ZonedDateTime.now();\r\n    String json = mapper.writeValueAsString(dateTime);\r\n    LOGGER.info(&quot;ZonedDateTime json: &quot; + json);\r\n\r\n    ZonedDateTime dateTime2 = mapper.readValue(json, ZonedDateTime.class);\r\n    assertEquals(dateTime, dateTime2);\r\n\r\nThis test fails with following:\r\n\r\n    org.opentest4j.AssertionFailedError: \r\n    Expected :2022-12-12T18:00:48.711+08:00[Asia/Shanghai]\r\n    Actual   :2022-12-12T10:00:48.711Z[UTC]","title":"Unable to serialize/deserialize ZonedDateTime correctly using jackson","body":"<p>I'd like to serialize/deserialize ZonedDateTime in my spring boot app, so I need to customise the ObjectMapper. But when I deserialize it back, I can not get the ZonedDateTime correctly.</p>\n<p>Here's my sample code:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper()\n    .enable(MapperFeature.DEFAULT_VIEW_INCLUSION)\n    .enable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES)\n    .disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS)\n    .findAndRegisterModules();\n\nZonedDateTime dateTime = ZonedDateTime.now();\nString json = mapper.writeValueAsString(dateTime);\nLOGGER.info(&quot;ZonedDateTime json: &quot; + json);\n\nZonedDateTime dateTime2 = mapper.readValue(json, ZonedDateTime.class);\nassertEquals(dateTime, dateTime2);\n</code></pre>\n<p>This test fails with following:</p>\n<pre><code>org.opentest4j.AssertionFailedError: \nExpected :2022-12-12T18:00:48.711+08:00[Asia/Shanghai]\nActual   :2022-12-12T10:00:48.711Z[UTC]\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670846922,"post_id":74770818,"comment_id":131960266,"body_markdown":"`@EnableJpaRepositories(basePackages = {&quot;com.cav.controllers.repository&quot;})` and probably remove your XML file","body":"<code>@EnableJpaRepositories(basePackages = {&quot;com.cav.controllers.repository&quot;})</code> and probably remove your XML file"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1670848694,"post_id":74770818,"comment_id":131960876,"body_markdown":"The XML isn&#39;t loaded and thus useless. You don&#39;t need `@EnableJpaRepositories` with Spring Boot if you adhere to the recommended package structure. Please add the full stacktrace to your question instead of the snippet.","body":"The XML isn&#39;t loaded and thus useless. You don&#39;t need <code>@EnableJpaRepositories</code> with Spring Boot if you adhere to the recommended package structure. Please add the full stacktrace to your question instead of the snippet."},{"owner":{"account_id":26684852,"reputation":5,"user_id":20294326,"display_name":"Tony"},"score":0,"creation_date":1670849984,"post_id":74770818,"comment_id":131961300,"body_markdown":"Thank you for the replies. The controllers-servlet.xml is loaded. This is SpringMVC, and its so I have a form addUser, which is mapped to addUser, and it calls the controller AddController and the method addUser. The servlet.xml does the mapping.\nI have to do more research on Spring MVC with repos. There is something I am missing","body":"Thank you for the replies. The controllers-servlet.xml is loaded. This is SpringMVC, and its so I have a form addUser, which is mapped to addUser, and it calls the controller AddController and the method addUser. The servlet.xml does the mapping. I have to do more research on Spring MVC with repos. There is something I am missing"}],"owner":{"account_id":26684852,"reputation":5,"user_id":20294326,"display_name":"Tony"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670846542,"creation_date":1670846542,"question_id":74770818,"body_markdown":"I am getting the following error running my application.\r\nNo qualifying bean of type &#39;com.cav.controllers.repository.UserRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate\r\n\r\n\r\nI have a repository interface\r\n``` \r\npackage com.cav.controllers.repository;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\nimport com.cav.models.User;\r\n\r\npublic interface UserRepository extends JpaRepository&lt;User, String&gt;{\r\n\r\n}\r\n``` \r\nAnd a simple controller \r\n```\r\n@Controller\r\npublic class AddController {\r\n\t\r\n\t@Autowired\r\n\tUserRepository userRepository;\r\n\t\r\n\t\r\n\t@RequestMapping(&quot;/addUser&quot;)\r\n\tpublic ModelAndView addUser(HttpServletRequest req, HttpServletResponse resp) {\r\n\t\tSystem.out.println(&quot;Running method addUser&quot;);\r\n\t\tString param1 = req.getParameter(&quot;t1&quot;);\r\n\t\tString param2 = req.getParameter(&quot;t2&quot;);\r\n\t\tString param3 = req.getParameter(&quot;t3&quot;);\r\n\t\t\r\n\t\tModelAndView mv = new ModelAndView();\r\n\t\tUser user = new User(param1,param2,param3);\r\n\t\tuserRepository.save(user);\r\n\t\t//userService.saveUser(user);\r\n\t\tmv.setViewName(&quot;displayUser.jsp&quot;);\r\n\t\tmv.addObject(&quot;userID&quot;, param1);\r\n\t\tmv.addObject(&quot;fname&quot;, param2);\r\n\t\tmv.addObject(&quot;sname&quot;, param3);\r\n\t\treturn mv;\r\n\t}\r\n}\r\n```\r\nMy main app\r\n```\r\npackage com.cav;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n@SpringBootApplication\r\npublic class WebBankMvcApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(WebBankMvcApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\nMy controllers-servlet.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:ctx=&quot;http://www.springframework.org/schema/context&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \r\n\thttp://www.springframework.org/schema/beans/spring-beans-2.5.xsd\r\n\thttp://www.springframework.org/schema/mvc\r\n\thttp://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\r\n\thttp://www.springframework.org/schema/context\r\n\thttp://www.springframework.org/schema/context/spring-context-2.5.xsd &quot;&gt;\r\n\t\r\n\t\r\n\t&lt;ctx:annotation-config&gt;&lt;/ctx:annotation-config&gt;\r\n\t&lt;ctx:component-scan base-package=&quot;com.cav.controllers&quot;&gt;&lt;/ctx:component-scan&gt;\r\n&lt;/beans&gt;\r\n```\r\n\r\nI cant see what is wrong my repository is in the path \r\n```\r\npackage com.cav.controllers.repository\r\n```\r\nSo it should be able to see the jparepository and autowire it.\r\n\r\n","title":"Getting error No qualifying bean of type &#39;com.cav.controllers.repository.UserRepository&#39; SpringMVC","body":"<p>I am getting the following error running my application.\nNo qualifying bean of type 'com.cav.controllers.repository.UserRepository' available: expected at least 1 bean which qualifies as autowire candidate</p>\n<p>I have a repository interface</p>\n<pre><code>package com.cav.controllers.repository;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport com.cav.models.User;\n\npublic interface UserRepository extends JpaRepository&lt;User, String&gt;{\n\n}\n</code></pre>\n<p>And a simple controller</p>\n<pre><code>@Controller\npublic class AddController {\n    \n    @Autowired\n    UserRepository userRepository;\n    \n    \n    @RequestMapping(&quot;/addUser&quot;)\n    public ModelAndView addUser(HttpServletRequest req, HttpServletResponse resp) {\n        System.out.println(&quot;Running method addUser&quot;);\n        String param1 = req.getParameter(&quot;t1&quot;);\n        String param2 = req.getParameter(&quot;t2&quot;);\n        String param3 = req.getParameter(&quot;t3&quot;);\n        \n        ModelAndView mv = new ModelAndView();\n        User user = new User(param1,param2,param3);\n        userRepository.save(user);\n        //userService.saveUser(user);\n        mv.setViewName(&quot;displayUser.jsp&quot;);\n        mv.addObject(&quot;userID&quot;, param1);\n        mv.addObject(&quot;fname&quot;, param2);\n        mv.addObject(&quot;sname&quot;, param3);\n        return mv;\n    }\n}\n</code></pre>\n<p>My main app</p>\n<pre><code>package com.cav;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n@SpringBootApplication\npublic class WebBankMvcApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(WebBankMvcApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p>My controllers-servlet.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:ctx=&quot;http://www.springframework.org/schema/context&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \n    http://www.springframework.org/schema/beans/spring-beans-2.5.xsd\n    http://www.springframework.org/schema/mvc\n    http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\n    http://www.springframework.org/schema/context\n    http://www.springframework.org/schema/context/spring-context-2.5.xsd &quot;&gt;\n    \n    \n    &lt;ctx:annotation-config&gt;&lt;/ctx:annotation-config&gt;\n    &lt;ctx:component-scan base-package=&quot;com.cav.controllers&quot;&gt;&lt;/ctx:component-scan&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>I cant see what is wrong my repository is in the path</p>\n<pre><code>package com.cav.controllers.repository\n</code></pre>\n<p>So it should be able to see the jparepository and autowire it.</p>\n"},{"tags":["java","maven","jaxb2","xjc","maven-jaxb2-plugin"],"answers":[{"tags":[],"owner":{"account_id":11541191,"reputation":593,"user_id":8456816,"display_name":"Sunil Singhal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503313919,"creation_date":1503313919,"answer_id":45795634,"question_id":45795362,"body_markdown":"`wsimport`, `wsdl2java`, `maven-jaxb2` are meant for generating Proxy classes out of the Descriptor file.\r\nSince you are getting Unauthorized (401), it could be either due to wrong creds or may be you are not sending credentials et all in a request.\r\n\r\n\r\nFor Basic Auth, refer [another stackoverflow question here](https://stackoverflow.com/questions/7071366/java-web-service-client-basic-authentication)\r\n\r\nAlso, if you can post your exact code here where you configure the Creds, it will be helpful in identifying the cause","title":"Generate java classes from a wsdl url with basic authentication","body":"<p><code>wsimport</code>, <code>wsdl2java</code>, <code>maven-jaxb2</code> are meant for generating Proxy classes out of the Descriptor file.\nSince you are getting Unauthorized (401), it could be either due to wrong creds or may be you are not sending credentials et all in a request.</p>\n\n<p>For Basic Auth, refer <a href=\"https://stackoverflow.com/questions/7071366/java-web-service-client-basic-authentication\">another stackoverflow question here</a></p>\n\n<p>Also, if you can post your exact code here where you configure the Creds, it will be helpful in identifying the cause</p>\n"},{"tags":[],"owner":{"account_id":4378231,"reputation":1516,"user_id":3570659,"display_name":"Eirini Graonidou"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1503835230,"creation_date":1503835230,"answer_id":45904723,"question_id":45795362,"body_markdown":"I haven&#39;t found any way of solving this. I ended up downloading the `.wsdl` and the needed `.xsd` files and edited them (changed the import URL&#39;s) properly.\r\n\r\n**Note**: For people that have the same issue, i would recommend the [jaxws:wsimport][1] plugin, that supports an `xauthFile` option for the configuration of the basic authentication.\r\n\r\n\r\n  [1]: http://www.mojohaus.org/jaxws-maven-plugin/wsimport-mojo.html","title":"Generate java classes from a wsdl url with basic authentication","body":"<p>I haven't found any way of solving this. I ended up downloading the <code>.wsdl</code> and the needed <code>.xsd</code> files and edited them (changed the import URL's) properly.</p>\n\n<p><strong>Note</strong>: For people that have the same issue, i would recommend the <a href=\"http://www.mojohaus.org/jaxws-maven-plugin/wsimport-mojo.html\" rel=\"nofollow noreferrer\">jaxws:wsimport</a> plugin, that supports an <code>xauthFile</code> option for the configuration of the basic authentication.</p>\n"},{"tags":[],"owner":{"account_id":2419198,"reputation":827,"user_id":2112715,"display_name":"Prabah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670846518,"creation_date":1670846518,"answer_id":74770813,"question_id":45795362,"body_markdown":"It took a while for me to understand what is there inside `xauthfile`.\r\nAn `xauthfile` is nothing but, URL with basic authentication credentials.\r\n\r\n\r\n&gt; https://username:pass@url:port/&lt;wsdl&gt;","title":"Generate java classes from a wsdl url with basic authentication","body":"<p>It took a while for me to understand what is there inside <code>xauthfile</code>.\nAn <code>xauthfile</code> is nothing but, URL with basic authentication credentials.</p>\n<blockquote>\n<p>https://username:pass@url:port/</p>\n</blockquote>\n"}],"owner":{"account_id":4378231,"reputation":1516,"user_id":3570659,"display_name":"Eirini Graonidou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4884,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1670846518,"creation_date":1503313008,"question_id":45795362,"body_markdown":"I am trying to generate the java classes from a WSLD file, that uses basic authentication.\r\n\r\nAlthough there are many plugins out there, I have to use the following one: `org.jvnet.jaxb2.maven2:maven-jaxb2-plugin` \r\n\r\nWith `wsimport` or `wsdl2java` i have found the way to configure the basic authentication parameters. Using the `maven-jaxb2-plugin` i had no luck.\r\n\r\nMy configuration follows:\r\n\r\n           &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.13.2&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;packageName&gt;com.mycompany&lt;/packageName&gt;\r\n\t\t\t\t\t\t\t&lt;sourceType&gt;wsdl&lt;/sourceType&gt;\r\n\t\t\t\t\t\t\t&lt;specVersion&gt;2.2&lt;/specVersion&gt;\r\n\t\t\t\t\t\t\t&lt;schemas&gt;\r\n\t\t\t\t\t\t\t\t&lt;schema&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;url&gt;https://some-url?wsdl&lt;/url&gt;\r\n\t\t\t\t\t\t\t\t&lt;/schema&gt;\r\n\t\t\t\t\t\t\t&lt;/schemas&gt;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;target/generated-sources/xjb&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t\t&lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\r\n\t\t\t\t\t\t\t&lt;useActiveProxyAsHttpproxy&gt;true&lt;/useActiveProxyAsHttpproxy&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\r\nAs expected, the build fails with the following message:\r\n\r\n    Caused by: java.io.IOException: Server returned HTTP response code: 401 for URL: https://some-url?wsdl\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1840)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1441)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:254)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLEntityManager.setupCurrentEntity(XMLEntityManager.java:647)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLVersionDetector.determineDocVersion(XMLVersionDetector.java:189)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:812)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:777)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\r\n\tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1213)\r\n\tat com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.getSchemaDocument(XSDHandler.java:2275)\r\n\t... 36 more\r\n\r\n\r\nAny ideas about the basic authentication configuration? Thank&#39;s in advance!\r\n\r\n*Note: &lt;url&gt;https://username:pass@some-url?wsdl&lt;/url&gt;, i still get an IOException because of the unauthorized request.*","title":"Generate java classes from a wsdl url with basic authentication","body":"<p>I am trying to generate the java classes from a WSLD file, that uses basic authentication.</p>\n\n<p>Although there are many plugins out there, I have to use the following one: <code>org.jvnet.jaxb2.maven2:maven-jaxb2-plugin</code> </p>\n\n<p>With <code>wsimport</code> or <code>wsdl2java</code> i have found the way to configure the basic authentication parameters. Using the <code>maven-jaxb2-plugin</code> i had no luck.</p>\n\n<p>My configuration follows:</p>\n\n<pre><code>       &lt;plugin&gt;\n            &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.13.2&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;packageName&gt;com.mycompany&lt;/packageName&gt;\n                        &lt;sourceType&gt;wsdl&lt;/sourceType&gt;\n                        &lt;specVersion&gt;2.2&lt;/specVersion&gt;\n                        &lt;schemas&gt;\n                            &lt;schema&gt;\n                                &lt;url&gt;https://some-url?wsdl&lt;/url&gt;\n                            &lt;/schema&gt;\n                        &lt;/schemas&gt;\n\n                        &lt;outputDirectory&gt;target/generated-sources/xjb&lt;/outputDirectory&gt;\n                        &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\n                        &lt;useActiveProxyAsHttpproxy&gt;true&lt;/useActiveProxyAsHttpproxy&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>As expected, the build fails with the following message:</p>\n\n<pre><code>Caused by: java.io.IOException: Server returned HTTP response code: 401 for URL: https://some-url?wsdl\nat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1840)\nat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1441)\nat sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:254)\nat com.sun.org.apache.xerces.internal.impl.XMLEntityManager.setupCurrentEntity(XMLEntityManager.java:647)\nat com.sun.org.apache.xerces.internal.impl.XMLVersionDetector.determineDocVersion(XMLVersionDetector.java:189)\nat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:812)\nat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:777)\nat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\nat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1213)\nat com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.getSchemaDocument(XSDHandler.java:2275)\n... 36 more\n</code></pre>\n\n<p>Any ideas about the basic authentication configuration? Thank's in advance!</p>\n\n<p><em>Note: <a href=\"https://username:pass@some-url?wsdl\" rel=\"nofollow noreferrer\">https://username:pass@some-url?wsdl</a>, i still get an IOException because of the unauthorized request.</em></p>\n"},{"tags":["java","sql-server"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1670842288,"post_id":74769461,"comment_id":131958816,"body_markdown":"Can you run the two queries after each other, store both results in Java and calculate the percentage there? Or is it mandatory to get the result directly via SQL?","body":"Can you run the two queries after each other, store both results in Java and calculate the percentage there? Or is it mandatory to get the result directly via SQL?"},{"owner":{"account_id":21390269,"reputation":23,"user_id":15754469,"display_name":"Ahmed"},"score":0,"creation_date":1670843285,"post_id":74769461,"comment_id":131959129,"body_markdown":"@deHaar it would be fine if I could store them in java and make the calculation there, I tired doing that by making a second query statement in a couple of different ways but it says the result set is closed.","body":"@deHaar it would be fine if I could store them in java and make the calculation there, I tired doing that by making a second query statement in a couple of different ways but it says the result set is closed."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1670845014,"post_id":74769461,"comment_id":131959691,"body_markdown":"Ok, that seems to be a different problem… If the `ResultSet` is closed already, you have closed it or it was automatically closed. Do you use a `try` statement? Please [edit] your question and include the relevant Java code.","body":"Ok, that seems to be a different problem… If the <code>ResultSet</code> is closed already, you have closed it or it was automatically closed. Do you use a <code>try</code> statement? Please <a href=\"https://stackoverflow.com/posts/74769461/edit\">edit</a> your question and include the relevant Java code."}],"answers":[{"tags":[],"owner":{"account_id":26909890,"reputation":1,"user_id":20485646,"display_name":"zhongbao.yang"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670840820,"creation_date":1670840808,"answer_id":74769682,"question_id":74769461,"body_markdown":"you can try sql\r\n```sql\r\nselect sum(state)/count(state) \r\nfrom tasks where p_id = 2 \r\n```","title":"calculate percentange from data of two rows with different select conditions","body":"<p>you can try sql</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select sum(state)/count(state) \nfrom tasks where p_id = 2 \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2312068,"reputation":90341,"user_id":2029983,"display_name":"Thom A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670846409,"creation_date":1670845684,"answer_id":74770666,"question_id":74769461,"body_markdown":"Conditional aggregation would be the simplest method here. You could do this with a `SUM` divided by a `COUNT`:\r\n```sql\r\nSELECT SUM(CASE state WHEN 0 THEN 1. ELSE 0. END) / NULLIF(COUNT(state),0)\r\nFROM dbo.YourTable\r\nWHERE p_id = 2;\r\n```\r\nThe `NULLIF` is there to avoid divide by zero errors.\r\n\r\nHowever, `AVG` might actually be an easier solution:\r\n```sql\r\nSELECT AVG(CASE state WHEN 0 THEN 1. ELSE 0. END)\r\nFROM dbo.YourTable\r\nWHERE p_id = 2;\r\n```\r\n","title":"calculate percentange from data of two rows with different select conditions","body":"<p>Conditional aggregation would be the simplest method here. You could do this with a <code>SUM</code> divided by a <code>COUNT</code>:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT SUM(CASE state WHEN 0 THEN 1. ELSE 0. END) / NULLIF(COUNT(state),0)\nFROM dbo.YourTable\nWHERE p_id = 2;\n</code></pre>\n<p>The <code>NULLIF</code> is there to avoid divide by zero errors.</p>\n<p>However, <code>AVG</code> might actually be an easier solution:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT AVG(CASE state WHEN 0 THEN 1. ELSE 0. END)\nFROM dbo.YourTable\nWHERE p_id = 2;\n</code></pre>\n"}],"owner":{"account_id":21390269,"reputation":23,"user_id":15754469,"display_name":"Ahmed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74770666,"answer_count":2,"score":0,"last_activity_date":1670846409,"creation_date":1670839658,"question_id":74769461,"body_markdown":"I have a table that shows the state of tasks of a project, when the task is finished the state = 1 when the task is not finished the state = 0 by default \r\n```sql\r\ncreate tasks(\r\n  id int primary key identitiy(1, 1),\r\n  p_id int references projects(id),\r\n  emp_id int references users(id),\r\n  state int default (0)\r\n)\r\n```\r\nI&#39;m trying to calculate the percentage of completed tasks by dividing the `select count(state) from tasks where p_id = 2` over `select count(state) from tasks where p_id = 2 AND state = 0` and multiplying the result by 100 but I can&#39;t get the query to work.\r\n\r\nI tried a number of solutions I found but I couldn&#39;t find a question that had the same conditions on the select statements.\r\n\r\nI&#39;m trying to get the result into a java program through JDBC and tried to include `allowMultiQueries=true` to the connectionURL or use two different query statements and nesting the ResultSets but nothing worked so far\r\n\r\n(Edit) this is the method I&#39;m working with in java, when I run it with `p_id = 2` it throws the exception `The result set is closed`\r\n\r\n    public void projectProgress()throws SQLException, ClassNotFoundException{\r\n        SqlConnection DB = new SqlConnection(); \r\n        int id = Integer.parseInt(PMprogressFrame.Pnum.getText());\r\n        String sql = &quot;select count(state) as finishedTasks from tasks where P_id = &quot;+id+&quot; AND state = 1&quot;;\r\n        String sql2 = &quot;select count(state) as totalTasks from tasks where p_id = 2&quot;;\r\n        \r\n        ResultSet result = DB.st.executeQuery(sql);\r\n        ResultSet result2 = DB.st.executeQuery(sql2);\r\n        while(result.next()){\r\n            while(result2.next()){\r\n\r\n            float var1 = result.getFloat(&quot;finishedTasks&quot;);\r\n            float var2 = result.getFloat(&quot;totalTasks&quot;);\r\n            float p = (var1/var2)*100;\r\n            PMprogressFrame.progress.setText(p+&quot;%&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nand this is my connection method:\r\n\r\n    public class SqlConnection {\r\n    \r\n        Connection conn;\r\n        Statement st;\r\n        ResultSet rs;\r\n    \r\n        public SqlConnection() throws SQLException, ClassNotFoundException{\r\n            Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n            String connectionUrl = &quot;jdbc:sqlserver://MEMENTOMORI:1433;databaseName=PMS;user=sa;password=12345;encrypt=false;allowMultiQueries=true&quot;;  \r\n             conn = DriverManager.getConnection(connectionUrl);\r\n            st = conn.createStatement();\r\n        \r\n        }\r\n\r\n","title":"calculate percentange from data of two rows with different select conditions","body":"<p>I have a table that shows the state of tasks of a project, when the task is finished the state = 1 when the task is not finished the state = 0 by default</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create tasks(\n  id int primary key identitiy(1, 1),\n  p_id int references projects(id),\n  emp_id int references users(id),\n  state int default (0)\n)\n</code></pre>\n<p>I'm trying to calculate the percentage of completed tasks by dividing the <code>select count(state) from tasks where p_id = 2</code> over <code>select count(state) from tasks where p_id = 2 AND state = 0</code> and multiplying the result by 100 but I can't get the query to work.</p>\n<p>I tried a number of solutions I found but I couldn't find a question that had the same conditions on the select statements.</p>\n<p>I'm trying to get the result into a java program through JDBC and tried to include <code>allowMultiQueries=true</code> to the connectionURL or use two different query statements and nesting the ResultSets but nothing worked so far</p>\n<p>(Edit) this is the method I'm working with in java, when I run it with <code>p_id = 2</code> it throws the exception <code>The result set is closed</code></p>\n<pre><code>public void projectProgress()throws SQLException, ClassNotFoundException{\n    SqlConnection DB = new SqlConnection(); \n    int id = Integer.parseInt(PMprogressFrame.Pnum.getText());\n    String sql = &quot;select count(state) as finishedTasks from tasks where P_id = &quot;+id+&quot; AND state = 1&quot;;\n    String sql2 = &quot;select count(state) as totalTasks from tasks where p_id = 2&quot;;\n    \n    ResultSet result = DB.st.executeQuery(sql);\n    ResultSet result2 = DB.st.executeQuery(sql2);\n    while(result.next()){\n        while(result2.next()){\n\n        float var1 = result.getFloat(&quot;finishedTasks&quot;);\n        float var2 = result.getFloat(&quot;totalTasks&quot;);\n        float p = (var1/var2)*100;\n        PMprogressFrame.progress.setText(p+&quot;%&quot;);\n        }\n    }\n}\n</code></pre>\n<p>and this is my connection method:</p>\n<pre><code>public class SqlConnection {\n\n    Connection conn;\n    Statement st;\n    ResultSet rs;\n\n    public SqlConnection() throws SQLException, ClassNotFoundException{\n        Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\n        String connectionUrl = &quot;jdbc:sqlserver://MEMENTOMORI:1433;databaseName=PMS;user=sa;password=12345;encrypt=false;allowMultiQueries=true&quot;;  \n         conn = DriverManager.getConnection(connectionUrl);\n        st = conn.createStatement();\n    \n    }\n</code></pre>\n"},{"tags":["java","spring","hibernate","caching","redisson"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1670846519,"post_id":74770742,"comment_id":131960159,"body_markdown":"you can&#39;t. HBN uses `org.hibernate.cache.spi.entry.StandardCacheEntryImpl#subclass` field to validate consistency.","body":"you can&#39;t. HBN uses <code>org.hibernate.cache.spi.entry.StandardCacheEntryImpl#subclas&zwnj;&#8203;s</code> field to validate consistency."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670846570,"post_id":74770742,"comment_id":131960169,"body_markdown":"You can use the full class name to get the class and on class you can call `.getSimpleName()`","body":"You can use the full class name to get the class and on class you can call <code>.getSimpleName()</code>"},{"owner":{"account_id":26434968,"reputation":45,"user_id":20080481,"display_name":"User01"},"score":0,"creation_date":1670851708,"post_id":74770742,"comment_id":131961877,"body_markdown":"@AndreyB.Panfilov do you recommend an alternative solution, how can I read cached items without the error java.lang.IllegalArgumentException: Unknown entity , one solution would be to have a distinct cache region for each sub-project, but that will imply having to write code to evict other regions on cache content update to ensure data consistency.","body":"@AndreyB.Panfilov do you recommend an alternative solution, how can I read cached items without the error java.lang.IllegalArgumentException: Unknown entity , one solution would be to have a distinct cache region for each sub-project, but that will imply having to write code to evict other regions on cache content update to ensure data consistency."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1670852865,"post_id":74770742,"comment_id":131962283,"body_markdown":"The solution is pretty simple: share models across all projects involved.","body":"The solution is pretty simple: share models across all projects involved."}],"owner":{"account_id":26434968,"reputation":45,"user_id":20080481,"display_name":"User01"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670846087,"creation_date":1670846087,"question_id":74770742,"body_markdown":"I&#39;m working on Java Spring project where we use Hibernate second level cache, Redisson is our cache region provider, by accessing a cache values by the following:\r\n\r\n    Collection&lt;Object&gt; mylist=redissonClient.getMapCache(&quot;regionName&quot;).readAllValues();\r\nand the output is something like this:\r\n\r\n    [read-write Item(CacheEntry(com.example.test.entities.myEntity))]\r\n\r\nHow can I change the fully qualified class name &quot;com.example.test.entities.myEntity&quot; to be just captured as myEntity.\r\n\r\nI need to unify the name because I have different sub-projects accessing the same cache and same classes and the fully qualified name for the same class differs from sub-project to another.","title":"dealing with Hibernate second level cache","body":"<p>I'm working on Java Spring project where we use Hibernate second level cache, Redisson is our cache region provider, by accessing a cache values by the following:</p>\n<pre><code>Collection&lt;Object&gt; mylist=redissonClient.getMapCache(&quot;regionName&quot;).readAllValues();\n</code></pre>\n<p>and the output is something like this:</p>\n<pre><code>[read-write Item(CacheEntry(com.example.test.entities.myEntity))]\n</code></pre>\n<p>How can I change the fully qualified class name &quot;com.example.test.entities.myEntity&quot; to be just captured as myEntity.</p>\n<p>I need to unify the name because I have different sub-projects accessing the same cache and same classes and the fully qualified name for the same class differs from sub-project to another.</p>\n"},{"tags":["java","spring","exception","logging","exceptionhandler"],"answers":[{"tags":[],"owner":{"account_id":8075036,"reputation":77,"user_id":6086395,"display_name":"Ihor0k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670845854,"creation_date":1670845854,"answer_id":74770694,"question_id":74770226,"body_markdown":"You can use Spring AOP to measure execution time and catch exceptions.\r\n[Here](https://medium.com/@mailshine/spring-boot-measure-execution-time-using-spring-aop-and-aspectj-4590d7bd6bb2) is an example. It only measures time. But you can add a try-catch there similar to what you had in your old code.\r\n\r\nIf you still want to use an `ExceptionHandler`, then you can create `class TimeMeasuredException extends RuntimeException` with `executionTime` field. And then do\r\n```\r\nInstant start = Instant.now();\r\ntry {\r\n  point.proceed();\r\n} catch (Exception ex) {\r\n  Instant end = Instant.now();\r\n  Duration executionTime = Duration.between(start, end);\r\n  throw new TimeMeasuredException(executionTime, ex);\r\n}\r\n```\r\nYour `ExceptionHandler` should either catch `TimeMeasuredException` or you can catch `Exception` and then check it with `instanceof`.","title":"How to log execution time with ExceptionHandler","body":"<p>You can use Spring AOP to measure execution time and catch exceptions.\n<a href=\"https://medium.com/@mailshine/spring-boot-measure-execution-time-using-spring-aop-and-aspectj-4590d7bd6bb2\" rel=\"nofollow noreferrer\">Here</a> is an example. It only measures time. But you can add a try-catch there similar to what you had in your old code.</p>\n<p>If you still want to use an <code>ExceptionHandler</code>, then you can create <code>class TimeMeasuredException extends RuntimeException</code> with <code>executionTime</code> field. And then do</p>\n<pre><code>Instant start = Instant.now();\ntry {\n  point.proceed();\n} catch (Exception ex) {\n  Instant end = Instant.now();\n  Duration executionTime = Duration.between(start, end);\n  throw new TimeMeasuredException(executionTime, ex);\n}\n</code></pre>\n<p>Your <code>ExceptionHandler</code> should either catch <code>TimeMeasuredException</code> or you can catch <code>Exception</code> and then check it with <code>instanceof</code>.</p>\n"}],"owner":{"account_id":27227630,"reputation":13,"user_id":20755887,"display_name":"Marco Florio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74770694,"answer_count":1,"score":1,"last_activity_date":1670845854,"creation_date":1670843378,"question_id":74770226,"body_markdown":"I am trying to refactor my application and now i also want to use an ExceptionHandler.\r\nTherefore I already implemented some Methods like\r\n\r\n\r\n```\r\n@org.springframework.web.bind.annotation.ExceptionHandler(Exception.class)\r\npublic final ResponseEntity&lt;SomeClass&gt; handleException(Exception e) {\r\n// do something\r\n}\r\n```\r\n\r\nNow I want to log the execution time of the calling method also when the ExeptionHandler method is called.\r\nIn my old code I did it like this:\r\n\r\n\r\n```\r\npublic void doSomething() {\r\n    Instant start = Instant.now();\r\n    \r\n    try {\r\n        // do some fancy code stuff\r\n    } catch (Exception e) {\r\n        logTime(Duration.between(start, Instant.now()).toMillis());\r\n    }\r\n} \r\n```\r\n\r\nHas anybody an idea of how to get the information of the startTime passed in the ExceptionHandler method? Or is there maybe a much better way to get the information?\r\n\r\nI already had a look in the Exception object structure if I could maybe find some of the needed information.","title":"How to log execution time with ExceptionHandler","body":"<p>I am trying to refactor my application and now i also want to use an ExceptionHandler.\nTherefore I already implemented some Methods like</p>\n<pre><code>@org.springframework.web.bind.annotation.ExceptionHandler(Exception.class)\npublic final ResponseEntity&lt;SomeClass&gt; handleException(Exception e) {\n// do something\n}\n</code></pre>\n<p>Now I want to log the execution time of the calling method also when the ExeptionHandler method is called.\nIn my old code I did it like this:</p>\n<pre><code>public void doSomething() {\n    Instant start = Instant.now();\n    \n    try {\n        // do some fancy code stuff\n    } catch (Exception e) {\n        logTime(Duration.between(start, Instant.now()).toMillis());\n    }\n} \n</code></pre>\n<p>Has anybody an idea of how to get the information of the startTime passed in the ExceptionHandler method? Or is there maybe a much better way to get the information?</p>\n<p>I already had a look in the Exception object structure if I could maybe find some of the needed information.</p>\n"},{"tags":["java","android","datetime","simpledateformat"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1471986340,"post_id":10725246,"comment_id":65568736,"body_markdown":"Your example text up top is 21st which is a Monday not a Tuesday. Different from the example code.","body":"Your example text up top is 21st which is a Monday not a Tuesday. Different from the example code."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1337804764,"creation_date":1337795662,"answer_id":10725303,"question_id":10725246,"body_markdown":"The format string you provided for *parsing* doesn&#39;t correspond with the text format you&#39;ve actually got. You need to parse first, then format. It looks like you want:\r\n\r\n    SimpleDateFormat inputFormat = new SimpleDateFormat(\r\n        &quot;EEE MMM dd HH:mm:ss &#39;GMT&#39; yyyy&quot;, Locale.US);\r\n    inputFormat.setTimeZone(TimeZone.getTimeZone(&quot;Etc/UTC&quot;));\r\n\r\n    SimpleDateFormat outputFormat = new SimpleDateFormat(&quot;MMM dd, yyyy h:mm a&quot;);\r\n    // Adjust locale and zone appropriately\r\n\r\n    Date date = inputFormat.parse(inputText);\r\n    String outputText = outputFormat.format(date);\r\n\r\nEDIT: Here&#39;s the same code in the form of a short but complete program, with your sample input:\r\n\r\n    import java.util.*;\r\n    import java.text.*;\r\n    \r\n    public class Test {\r\n        public static void main(String[] args) throws ParseException {\r\n            String inputText = &quot;Tue May 21 14:32:00 GMT 2012&quot;;\r\n            SimpleDateFormat inputFormat = new SimpleDateFormat\r\n                (&quot;EEE MMM dd HH:mm:ss &#39;GMT&#39; yyyy&quot;, Locale.US);\r\n            inputFormat.setTimeZone(TimeZone.getTimeZone(&quot;Etc/UTC&quot;));\r\n            \r\n            SimpleDateFormat outputFormat =\r\n                new SimpleDateFormat(&quot;MMM dd, yyyy h:mm a&quot;);\r\n            // Adjust locale and zone appropriately\r\n            Date date = inputFormat.parse(inputText);\r\n            String outputText = outputFormat.format(date);\r\n            System.out.println(outputText);\r\n        }\r\n    }\r\n\r\nCan you compile and run *that exact code*?","title":"Java/Android - Convert a GMT time string to local time","body":"<p>The format string you provided for <em>parsing</em> doesn't correspond with the text format you've actually got. You need to parse first, then format. It looks like you want:</p>\n\n<pre><code>SimpleDateFormat inputFormat = new SimpleDateFormat(\n    \"EEE MMM dd HH:mm:ss 'GMT' yyyy\", Locale.US);\ninputFormat.setTimeZone(TimeZone.getTimeZone(\"Etc/UTC\"));\n\nSimpleDateFormat outputFormat = new SimpleDateFormat(\"MMM dd, yyyy h:mm a\");\n// Adjust locale and zone appropriately\n\nDate date = inputFormat.parse(inputText);\nString outputText = outputFormat.format(date);\n</code></pre>\n\n<p>EDIT: Here's the same code in the form of a short but complete program, with your sample input:</p>\n\n<pre><code>import java.util.*;\nimport java.text.*;\n\npublic class Test {\n    public static void main(String[] args) throws ParseException {\n        String inputText = \"Tue May 21 14:32:00 GMT 2012\";\n        SimpleDateFormat inputFormat = new SimpleDateFormat\n            (\"EEE MMM dd HH:mm:ss 'GMT' yyyy\", Locale.US);\n        inputFormat.setTimeZone(TimeZone.getTimeZone(\"Etc/UTC\"));\n\n        SimpleDateFormat outputFormat =\n            new SimpleDateFormat(\"MMM dd, yyyy h:mm a\");\n        // Adjust locale and zone appropriately\n        Date date = inputFormat.parse(inputText);\n        String outputText = outputFormat.format(date);\n        System.out.println(outputText);\n    }\n}\n</code></pre>\n\n<p>Can you compile and run <em>that exact code</em>?</p>\n"},{"tags":[],"owner":{"account_id":136194,"reputation":2562,"user_id":339545,"display_name":"LINEMAN78"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1337796301,"creation_date":1337796301,"answer_id":10725458,"question_id":10725246,"body_markdown":"The formatter you use to parse must be defined to the format you expect. Here is an example that works for the values you provided however you may need to change it depending on how some edge cases act for the input:\r\n\r\n    String date = &quot;Tue May 21 14:32:00 GMT 2012&quot;;\r\n    DateFormat inputFormat = new SimpleDateFormat(&quot;EE MMM dd HH:mm:ss zz yyy&quot;);\r\n    Date d = inputFormat.parse(date);\r\n    DateFormat outputFormat = new SimpleDateFormat(&quot;MMM dd, yyy h:mm a zz&quot;);\r\n    System.out.println(outputFormat.format(d));","title":"Java/Android - Convert a GMT time string to local time","body":"<p>The formatter you use to parse must be defined to the format you expect. Here is an example that works for the values you provided however you may need to change it depending on how some edge cases act for the input:</p>\n\n<pre><code>String date = \"Tue May 21 14:32:00 GMT 2012\";\nDateFormat inputFormat = new SimpleDateFormat(\"EE MMM dd HH:mm:ss zz yyy\");\nDate d = inputFormat.parse(date);\nDateFormat outputFormat = new SimpleDateFormat(\"MMM dd, yyy h:mm a zz\");\nSystem.out.println(outputFormat.format(d));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":366221,"reputation":471,"user_id":711626,"display_name":"GHz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1337802874,"creation_date":1337802874,"answer_id":10726910,"question_id":10725246,"body_markdown":"The method SimpleDateFormat.parse throws a parse exception.\r\n\r\nThe exception you&#39;re getting is telling you this...\r\n\r\n&gt; The exception is &quot;unreported exception java.text.ParseException; **must be caught or declared to be thrown.**&quot;\r\n\r\nWrap the line that does the parsing with try-catch and you should be golden..\r\n\r\n    Date d=null;\r\n    try{\r\n        d = inputFormat.parse(date);\r\n    catch(ParseException e){\r\n       // handle the error here....\r\n    }\r\n\r\nR","title":"Java/Android - Convert a GMT time string to local time","body":"<p>The method SimpleDateFormat.parse throws a parse exception.</p>\n\n<p>The exception you're getting is telling you this...</p>\n\n<blockquote>\n  <p>The exception is \"unreported exception java.text.ParseException; <strong>must be caught or declared to be thrown.</strong>\"</p>\n</blockquote>\n\n<p>Wrap the line that does the parsing with try-catch and you should be golden..</p>\n\n<pre><code>Date d=null;\ntry{\n    d = inputFormat.parse(date);\ncatch(ParseException e){\n   // handle the error here....\n}\n</code></pre>\n\n<p>R</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1471987264,"creation_date":1471987264,"answer_id":39110875,"question_id":10725246,"body_markdown":"You are using troublesome old date-time classes now supplanted by the java.time classes.\r\n\r\n# Wrong input data\r\n\r\nYour first example string is incorrect, as the 21st is a Monday not a Tuesday. The second example string with 22nd is correct, and used in my example code below.\r\n\r\n# Using java.time\r\n\r\nAvoid using this kind of format for textual representations of date-time values. In particular, never use the 3-4 letter abbreviation such as `EST` or `IST` seen in this kind of format, as they are not true time zones, not standardized, and not even unique(!). Specify a [proper time zone name](https://en.wikipedia.org/wiki/List_of_tz_zones_by_name). In this particular case, java.time is able to translate that as `GMT` as [UTC][1], but other values may fail.\r\n\r\n    String input = &quot;Tue May 22 14:52:00 GMT 2012&quot;;\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern ( &quot;EEE MMM dd HH:mm:ss z uuuu&quot; ).withLocale ( Locale.US );\r\n    ZonedDateTime zdt = ZonedDateTime.parse ( input , f );\r\n\r\n    System.out.println ( &quot;zdt: &quot; + zdt );\r\n\r\nDump to console. The `toString` method generates a String in standard [ISO 8601][2] format, extended by appending the name of the zone in brackets. These standard formats are a much better choice for when you need to serialize date-time values to text.\r\n\r\n    System.out.println ( &quot;zdt: &quot; + zdt );\r\n\r\n&gt;zdt: 2012-05-22T14:52Z[GMT]\r\n\r\n# Generate String\r\n\r\nYou can generate a String to represent this value in any format you desire. Generally best to let java.time localize automatically using a [`Locale`][3] and [`DateTimeFormatter`][4].\r\n\r\nYour desired format uses a medium-length style for the date portion but a short-length style for the time-of-day portion. Fortunately the `DateTimeFormatter` allows you to localize each portion separately, as seen here where we pass a pair of [`FormatStyle`][5] objects.\r\n\r\n    Locale l = Locale.US;  // Or Locale.CANADA_FRENCH, or Locale.ITALY, etc.\r\n    DateTimeFormatter fOutput = DateTimeFormatter.ofLocalizedDateTime ( FormatStyle.MEDIUM , FormatStyle.SHORT ).withLocale ( l );\r\n    String output = zdt.format ( fOutput );\r\n\r\nDump to console.\r\n\r\n    System.out.println ( &quot;zdt: &quot; + zdt + &quot; | output: &quot; + output );\r\n\r\n&gt;zdt: 2012-05-22T14:52Z[GMT] | output: May 22, 2012 2:52 PM\r\n\r\n# About java.time\r\n\r\nThe [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the old troublesome date-time classes such as `java.util.Date`, `.Calendar`, &amp; `java.text.SimpleDateFormat`. \r\n\r\nThe [Joda-Time](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to java.time.\r\n\r\nTo learn more, see the [Oracle Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations.\r\n\r\nMuch of the java.time functionality is back-ported to Java 6 &amp; 7 in [ThreeTen-Backport](http://www.threeten.org/threetenbp/) and further adapted to [Android](https://en.wikipedia.org/wiki/Android_(operating_system)) in [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP) (see [*How to use…*](https://stackoverflow.com/q/38922754/642706)).\r\n\r\nThe [ThreeTen-Extra](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as `Interval`, `YearWeek`, `YearQuarter`, and more.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/time/format/FormatStyle.html","title":"Java/Android - Convert a GMT time string to local time","body":"<p>You are using troublesome old date-time classes now supplanted by the java.time classes.</p>\n\n<h1>Wrong input data</h1>\n\n<p>Your first example string is incorrect, as the 21st is a Monday not a Tuesday. The second example string with 22nd is correct, and used in my example code below.</p>\n\n<h1>Using java.time</h1>\n\n<p>Avoid using this kind of format for textual representations of date-time values. In particular, never use the 3-4 letter abbreviation such as <code>EST</code> or <code>IST</code> seen in this kind of format, as they are not true time zones, not standardized, and not even unique(!). Specify a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_zones_by_name\" rel=\"nofollow noreferrer\">proper time zone name</a>. In this particular case, java.time is able to translate that as <code>GMT</code> as <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"nofollow noreferrer\">UTC</a>, but other values may fail.</p>\n\n<pre><code>String input = \"Tue May 22 14:52:00 GMT 2012\";\nDateTimeFormatter f = DateTimeFormatter.ofPattern ( \"EEE MMM dd HH:mm:ss z uuuu\" ).withLocale ( Locale.US );\nZonedDateTime zdt = ZonedDateTime.parse ( input , f );\n\nSystem.out.println ( \"zdt: \" + zdt );\n</code></pre>\n\n<p>Dump to console. The <code>toString</code> method generates a String in standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format, extended by appending the name of the zone in brackets. These standard formats are a much better choice for when you need to serialize date-time values to text.</p>\n\n<pre><code>System.out.println ( \"zdt: \" + zdt );\n</code></pre>\n\n<blockquote>\n  <p>zdt: 2012-05-22T14:52Z[GMT]</p>\n</blockquote>\n\n<h1>Generate String</h1>\n\n<p>You can generate a String to represent this value in any format you desire. Generally best to let java.time localize automatically using a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html\" rel=\"nofollow noreferrer\"><code>Locale</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter</code></a>.</p>\n\n<p>Your desired format uses a medium-length style for the date portion but a short-length style for the time-of-day portion. Fortunately the <code>DateTimeFormatter</code> allows you to localize each portion separately, as seen here where we pass a pair of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/FormatStyle.html\" rel=\"nofollow noreferrer\"><code>FormatStyle</code></a> objects.</p>\n\n<pre><code>Locale l = Locale.US;  // Or Locale.CANADA_FRENCH, or Locale.ITALY, etc.\nDateTimeFormatter fOutput = DateTimeFormatter.ofLocalizedDateTime ( FormatStyle.MEDIUM , FormatStyle.SHORT ).withLocale ( l );\nString output = zdt.format ( fOutput );\n</code></pre>\n\n<p>Dump to console.</p>\n\n<pre><code>System.out.println ( \"zdt: \" + zdt + \" | output: \" + output );\n</code></pre>\n\n<blockquote>\n  <p>zdt: 2012-05-22T14:52Z[GMT] | output: May 22, 2012 2:52 PM</p>\n</blockquote>\n\n<h1>About java.time</h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> framework is built into Java 8 and later. These classes supplant the old troublesome date-time classes such as <code>java.util.Date</code>, <code>.Calendar</code>, &amp; <code>java.text.SimpleDateFormat</code>. </p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to java.time.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Oracle Tutorial</a>. And search Stack Overflow for many examples and explanations.</p>\n\n<p>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen-Backport</a> and further adapted to <a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\">Android</a> in <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a> (see <a href=\"https://stackoverflow.com/q/38922754/642706\"><em>How to use…</em></a>).</p>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\">ThreeTen-Extra</a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <code>Interval</code>, <code>YearWeek</code>, <code>YearQuarter</code>, and more.</p>\n"},{"tags":[],"owner":{"account_id":7489615,"reputation":123,"user_id":5691796,"display_name":"Jalal Jan Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670845690,"creation_date":1670845690,"answer_id":74770669,"question_id":10725246,"body_markdown":"    const val DATE_HYPHEN_FORMAT = &quot;yyyy-MM-dd&quot;\r\n    const val DATE_MMM_DD_YYYY_FORMAT = &quot;MMM dd, yyyy&quot;\r\n    const val DATE_MMMM_DD_YYYY_FORMAT = &quot;MMMM dd, yyyy&quot;\r\n    \r\n    const val FULL_DAY_NAME_FORMAT = &quot;EEEE&quot;\r\n    const val DATE_EEE_DD_MMMM_YYYY_FORMAT = &quot;EEE dd, MMMM yyyy&quot;\r\n    const val DATE_EEEE_DD_MMMM_YYYY_FORMAT = &quot;EEEE dd, MMMM yyyy&quot;\r\n    \r\n    const val DATETIME_24_FORMAT = &quot;dd-MM-yyyy&#39;T&#39;HH:mm:ss&quot;\r\n    \r\n    const val DATETIME_24_YMD_FORMAT = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;\r\n    const val DATE_WITH_MONTH_NAME_MMM_DY_FORMAT = DateFormat.MEDIUM\r\n    const val DATE_WITH_MONTH_FULL_NAME_MMMM_DY_FORMAT = DateFormat.LONG\r\n    \r\n    const val TIME_24H_FORMAT = &quot;HH:mm:ss&quot;\r\n    const val TIME_FORMAT_AM_PM = &quot;hh:mm aa&quot;\r\n    const val TIME_24H_FORMATWithoutSS = &quot;HH:mm&quot;\r\n    \r\n    enum class TimeZoneTo {\r\n        NONE, UTC, LOCAL\r\n    }\r\n    \r\n    \r\n    fun changeFormat(\r\n        dateTime: String,\r\n        fromFormat: Int = DATE_WITH_MONTH_NAME_MMM_DY_FORMAT,\r\n        toFormat: String = DATETIME_24_FORMAT,\r\n        convertIn: TimeZoneTo = TimeZoneTo.NONE,\r\n        needOnlyTime: Boolean = false\r\n    ): String {\r\n        try {\r\n            val parser = DateFormat.getDateInstance(fromFormat)\r\n            val finalDateTime = trimDateTime(dateTime)\r\n    \r\n            val date = parser.parse(finalDateTime)\r\n            val sdf = SimpleDateFormat(toFormat)\r\n    \r\n            return format(\r\n                date = date!!, formatter = sdf, convertIn = convertIn, needOnlyTime = needOnlyTime\r\n            )\r\n        } catch (e: AssertionError) {\r\n            e.printStackTrace()\r\n        } catch (e: Exception) {\r\n            e.printStackTrace()\r\n        }\r\n    \r\n        return dateTime // Return Same DateTime - only iff unable to change format\r\n    }\r\n    \r\n    \r\n    \r\n    fun changeFormat(\r\n        dateTime: String,\r\n        fromFormat: String = DATETIME_24_FORMAT,\r\n        toFormat: Int = DATE_WITH_MONTH_NAME_MMM_DY_FORMAT,\r\n        convertIn: TimeZoneTo = TimeZoneTo.NONE,\r\n        needOnlyTime: Boolean = false\r\n    ): String {\r\n        try {\r\n            val sfdInput = SimpleDateFormat(fromFormat, Locale.ROOT)\r\n            val finalDateTime = trimDateTime(dateTime)\r\n    \r\n            val date: Date = sfdInput.parse(finalDateTime)!!\r\n            val outputFormatter = DateFormat.getDateInstance(toFormat)\r\n    \r\n            return format(\r\n                date = date,\r\n                formatter = outputFormatter,\r\n                convertIn = convertIn,\r\n                needOnlyTime = needOnlyTime\r\n            )\r\n        } catch (e: AssertionError) {\r\n            e.printStackTrace()\r\n        } catch (e: Exception) {\r\n            e.printStackTrace()\r\n        }\r\n    \r\n        return dateTime // Return Same DateTime - only iff unable to change format\r\n    }\r\n    \r\n    fun changeFormat(\r\n        dateTime: String,\r\n        fromFormat: String = DATETIME_24_FORMAT,\r\n        toFormat: String = DATE_HYPHEN_FORMAT,\r\n        convertInTimeZone: TimeZoneTo = TimeZoneTo.NONE,\r\n        needOnlyTime: Boolean = false\r\n    ): String {\r\n        try {\r\n            val sfdInput = SimpleDateFormat(fromFormat, Locale.ROOT)\r\n    \r\n            val finalDateTime = trimDateTime(dateTime)\r\n    \r\n            val date: Date = sfdInput.parse(finalDateTime)!!\r\n            val sdfOutput = SimpleDateFormat(toFormat)\r\n    \r\n            return format(\r\n                date = date,\r\n                formatter = sdfOutput,\r\n                convertIn = convertInTimeZone,\r\n                needOnlyTime = needOnlyTime\r\n            )\r\n        } catch (e: AssertionError) {\r\n            e.printStackTrace()\r\n        } catch (e: Exception) {\r\n            e.printStackTrace()\r\n        }\r\n    \r\n        return dateTime // Return Same DateTime - only iff unable to change format\r\n    }\r\n    \r\n    \r\n    // Format Given Date as per specified timeZone\r\n    private fun format(\r\n        date: Date,\r\n        formatter: DateFormat,\r\n        convertIn: TimeZoneTo,\r\n        needOnlyTime: Boolean\r\n    ): String {\r\n        return when (convertIn) {\r\n            TimeZoneTo.LOCAL -&gt; {\r\n                val zone = TimeZone.getTimeZone(Calendar.getInstance().timeZone.id)\r\n                val newDate = Date(date.time + zone.getOffset(date.time))\r\n                formatter.timeZone = zone\r\n    \r\n                val result = formatter.format(newDate)\r\n                if (needOnlyTime) return result.substringAfter(&#39;T&#39;)\r\n                else result\r\n            }\r\n            TimeZoneTo.UTC -&gt; {\r\n                formatter.timeZone = TimeZone.getTimeZone(&quot;UTC&quot;)\r\n                val result = formatter.format(date)\r\n    \r\n                if (needOnlyTime) return result.substringAfter(&#39;T&#39;)\r\n                else result\r\n            }\r\n            else -&gt; {\r\n                val result = formatter.format(date)\r\n                if (needOnlyTime) return result.substringAfter(&#39;T&#39;)\r\n                else result\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nI&#39;ve created 3 overloaded methods namely **changeFormat(...)** with following params;\r\n\r\n 1. **dateTime** (String -&gt; date or time or dateTime)\r\n 2. **fromFormat** (String/Int -&gt; Current format of dateTime) - optional (i.e. if not provided default will be used)\r\n 3. **toFormat** (String/Int -&gt; New format for dateTime) - optional (i.e. if not provided default will be used)\r\n 4. **convertInTimeZone** (Enum -&gt; Convert in specified TimeZone)\r\n 5. **needOnlyTime** (Boolean -&gt; Will return only converted Time if **true** else converted **dateTime**\r\n\r\nHopefully, this may help someone in future.","title":"Java/Android - Convert a GMT time string to local time","body":"<pre><code>const val DATE_HYPHEN_FORMAT = &quot;yyyy-MM-dd&quot;\nconst val DATE_MMM_DD_YYYY_FORMAT = &quot;MMM dd, yyyy&quot;\nconst val DATE_MMMM_DD_YYYY_FORMAT = &quot;MMMM dd, yyyy&quot;\n\nconst val FULL_DAY_NAME_FORMAT = &quot;EEEE&quot;\nconst val DATE_EEE_DD_MMMM_YYYY_FORMAT = &quot;EEE dd, MMMM yyyy&quot;\nconst val DATE_EEEE_DD_MMMM_YYYY_FORMAT = &quot;EEEE dd, MMMM yyyy&quot;\n\nconst val DATETIME_24_FORMAT = &quot;dd-MM-yyyy'T'HH:mm:ss&quot;\n\nconst val DATETIME_24_YMD_FORMAT = &quot;yyyy-MM-dd'T'HH:mm:ss&quot;\nconst val DATE_WITH_MONTH_NAME_MMM_DY_FORMAT = DateFormat.MEDIUM\nconst val DATE_WITH_MONTH_FULL_NAME_MMMM_DY_FORMAT = DateFormat.LONG\n\nconst val TIME_24H_FORMAT = &quot;HH:mm:ss&quot;\nconst val TIME_FORMAT_AM_PM = &quot;hh:mm aa&quot;\nconst val TIME_24H_FORMATWithoutSS = &quot;HH:mm&quot;\n\nenum class TimeZoneTo {\n    NONE, UTC, LOCAL\n}\n\n\nfun changeFormat(\n    dateTime: String,\n    fromFormat: Int = DATE_WITH_MONTH_NAME_MMM_DY_FORMAT,\n    toFormat: String = DATETIME_24_FORMAT,\n    convertIn: TimeZoneTo = TimeZoneTo.NONE,\n    needOnlyTime: Boolean = false\n): String {\n    try {\n        val parser = DateFormat.getDateInstance(fromFormat)\n        val finalDateTime = trimDateTime(dateTime)\n\n        val date = parser.parse(finalDateTime)\n        val sdf = SimpleDateFormat(toFormat)\n\n        return format(\n            date = date!!, formatter = sdf, convertIn = convertIn, needOnlyTime = needOnlyTime\n        )\n    } catch (e: AssertionError) {\n        e.printStackTrace()\n    } catch (e: Exception) {\n        e.printStackTrace()\n    }\n\n    return dateTime // Return Same DateTime - only iff unable to change format\n}\n\n\n\nfun changeFormat(\n    dateTime: String,\n    fromFormat: String = DATETIME_24_FORMAT,\n    toFormat: Int = DATE_WITH_MONTH_NAME_MMM_DY_FORMAT,\n    convertIn: TimeZoneTo = TimeZoneTo.NONE,\n    needOnlyTime: Boolean = false\n): String {\n    try {\n        val sfdInput = SimpleDateFormat(fromFormat, Locale.ROOT)\n        val finalDateTime = trimDateTime(dateTime)\n\n        val date: Date = sfdInput.parse(finalDateTime)!!\n        val outputFormatter = DateFormat.getDateInstance(toFormat)\n\n        return format(\n            date = date,\n            formatter = outputFormatter,\n            convertIn = convertIn,\n            needOnlyTime = needOnlyTime\n        )\n    } catch (e: AssertionError) {\n        e.printStackTrace()\n    } catch (e: Exception) {\n        e.printStackTrace()\n    }\n\n    return dateTime // Return Same DateTime - only iff unable to change format\n}\n\nfun changeFormat(\n    dateTime: String,\n    fromFormat: String = DATETIME_24_FORMAT,\n    toFormat: String = DATE_HYPHEN_FORMAT,\n    convertInTimeZone: TimeZoneTo = TimeZoneTo.NONE,\n    needOnlyTime: Boolean = false\n): String {\n    try {\n        val sfdInput = SimpleDateFormat(fromFormat, Locale.ROOT)\n\n        val finalDateTime = trimDateTime(dateTime)\n\n        val date: Date = sfdInput.parse(finalDateTime)!!\n        val sdfOutput = SimpleDateFormat(toFormat)\n\n        return format(\n            date = date,\n            formatter = sdfOutput,\n            convertIn = convertInTimeZone,\n            needOnlyTime = needOnlyTime\n        )\n    } catch (e: AssertionError) {\n        e.printStackTrace()\n    } catch (e: Exception) {\n        e.printStackTrace()\n    }\n\n    return dateTime // Return Same DateTime - only iff unable to change format\n}\n\n\n// Format Given Date as per specified timeZone\nprivate fun format(\n    date: Date,\n    formatter: DateFormat,\n    convertIn: TimeZoneTo,\n    needOnlyTime: Boolean\n): String {\n    return when (convertIn) {\n        TimeZoneTo.LOCAL -&gt; {\n            val zone = TimeZone.getTimeZone(Calendar.getInstance().timeZone.id)\n            val newDate = Date(date.time + zone.getOffset(date.time))\n            formatter.timeZone = zone\n\n            val result = formatter.format(newDate)\n            if (needOnlyTime) return result.substringAfter('T')\n            else result\n        }\n        TimeZoneTo.UTC -&gt; {\n            formatter.timeZone = TimeZone.getTimeZone(&quot;UTC&quot;)\n            val result = formatter.format(date)\n\n            if (needOnlyTime) return result.substringAfter('T')\n            else result\n        }\n        else -&gt; {\n            val result = formatter.format(date)\n            if (needOnlyTime) return result.substringAfter('T')\n            else result\n        }\n    }\n}\n</code></pre>\n<p>I've created 3 overloaded methods namely <strong>changeFormat(...)</strong> with following params;</p>\n<ol>\n<li><strong>dateTime</strong> (String -&gt; date or time or dateTime)</li>\n<li><strong>fromFormat</strong> (String/Int -&gt; Current format of dateTime) - optional (i.e. if not provided default will be used)</li>\n<li><strong>toFormat</strong> (String/Int -&gt; New format for dateTime) - optional (i.e. if not provided default will be used)</li>\n<li><strong>convertInTimeZone</strong> (Enum -&gt; Convert in specified TimeZone)</li>\n<li><strong>needOnlyTime</strong> (Boolean -&gt; Will return only converted Time if <strong>true</strong> else converted <strong>dateTime</strong></li>\n</ol>\n<p>Hopefully, this may help someone in future.</p>\n"}],"owner":{"account_id":1066536,"reputation":1089,"user_id":1066956,"accept_rate":85,"display_name":"Manto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25757,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":10725303,"answer_count":5,"score":14,"last_activity_date":1670845690,"creation_date":1337795380,"question_id":10725246,"body_markdown":"Ok, so I have a string, say &quot;Tue May 21 14:32:00 GMT 2012&quot; I want to convert this string to local time in the format May 21, 2012 2:32 pm. I tried SimpleDateFormat(&quot;MM dd, yyyy hh:mm a&quot;).parse(), but it threw an exception. So what should I do?\r\n\r\nThe exception is &quot;unreported exception java.text.ParseException; must be caught or declared to be thrown.&quot;\r\n\r\nin the line `Date date = inputFormat.parse(inputText);`\r\n\r\nThe code I ran on TextMate:\r\n\r\n    public class test{\r\n\t    public static void main(String arg[]) {\r\n\t\t    String inputText = &quot;Tue May 22 14:52:00 GMT 2012&quot;;\r\n\t\t    SimpleDateFormat inputFormat = new SimpleDateFormat(\r\n\t\t\t    &quot;EEE MMM dd HH:mm:ss &#39;GMT&#39; yyyy&quot;, Locale.US);\r\n\t\t    inputFormat.setTimeZone(TimeZone.getTimeZone(&quot;Etc/UTC&quot;));\r\n\t\t    SimpleDateFormat out = new SimpleDateFormat(&quot;MMM dd, yyyy h:mm a&quot;);\r\n\t\t    Date date = inputFormat.parse(inputText);\r\n\t\t    String output = out.format(date);\r\n\t\t   System.out.println(output);\r\n\t    }\r\n    }","title":"Java/Android - Convert a GMT time string to local time","body":"<p>Ok, so I have a string, say \"Tue May 21 14:32:00 GMT 2012\" I want to convert this string to local time in the format May 21, 2012 2:32 pm. I tried SimpleDateFormat(\"MM dd, yyyy hh:mm a\").parse(), but it threw an exception. So what should I do?</p>\n\n<p>The exception is \"unreported exception java.text.ParseException; must be caught or declared to be thrown.\"</p>\n\n<p>in the line <code>Date date = inputFormat.parse(inputText);</code></p>\n\n<p>The code I ran on TextMate:</p>\n\n<pre><code>public class test{\n    public static void main(String arg[]) {\n        String inputText = \"Tue May 22 14:52:00 GMT 2012\";\n        SimpleDateFormat inputFormat = new SimpleDateFormat(\n            \"EEE MMM dd HH:mm:ss 'GMT' yyyy\", Locale.US);\n        inputFormat.setTimeZone(TimeZone.getTimeZone(\"Etc/UTC\"));\n        SimpleDateFormat out = new SimpleDateFormat(\"MMM dd, yyyy h:mm a\");\n        Date date = inputFormat.parse(inputText);\n        String output = out.format(date);\n       System.out.println(output);\n    }\n}\n</code></pre>\n"},{"tags":["java","jboss","scheduler","jmx"],"owner":{"account_id":20150426,"reputation":1,"user_id":14777862,"display_name":"Riyas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670845472,"creation_date":1670845472,"question_id":74770620,"body_markdown":"How to find the value for SchedulePeriod?\r\n\r\n\r\n\r\n\r\n\r\nFile name: Scheduler-service.xml\r\n\r\n\r\n```\r\n&lt;mbean code=&quot;com.jps.svc.WebServiceClient&quot;\r\n           name=&quot;com.jps.svc:service=WebServiceClient&quot;&gt;\r\n    &lt;/mbean&gt;\r\n    &lt;mbean code=&quot;org.jboss.varia.scheduler.Scheduler&quot;\r\n           name=&quot;com.jps.svc:service=WebServiceClientScheduler&quot;&gt;\r\n\t\t   \r\n&lt;attribute name=&quot;StartAtStartup&quot;&gt;true&lt;/attribute&gt;\r\n\r\n&lt;attribute name=&quot;SchedulableClass&quot;&gt;com.jps.svc.WebServiceClient&lt;/attribute&gt;\r\n\r\n&lt;attribute name=&quot;InitialStartDate&quot;&gt;NOW&lt;/attribute&gt;\r\n\r\n&lt;attribute name=&quot;SchedulePeriod&quot;&gt;${ws.scheduler.time}&lt;/attribute&gt;\r\n\r\n &lt;attribute name=&quot;InitialRepetitions&quot;&gt;-1&lt;/attribute&gt;\r\n        &lt;depends&gt;com.jps.svc:service=WebApiCapService&lt;/depends&gt;\r\n    &lt;/mbean&gt;\r\n&lt;/server&gt;\r\n```\r\n\r\n","title":"Scheduler Service of JBoss","body":"<p>How to find the value for SchedulePeriod?</p>\n<p>File name: Scheduler-service.xml</p>\n<pre><code>&lt;mbean code=&quot;com.jps.svc.WebServiceClient&quot;\n           name=&quot;com.jps.svc:service=WebServiceClient&quot;&gt;\n    &lt;/mbean&gt;\n    &lt;mbean code=&quot;org.jboss.varia.scheduler.Scheduler&quot;\n           name=&quot;com.jps.svc:service=WebServiceClientScheduler&quot;&gt;\n           \n&lt;attribute name=&quot;StartAtStartup&quot;&gt;true&lt;/attribute&gt;\n\n&lt;attribute name=&quot;SchedulableClass&quot;&gt;com.jps.svc.WebServiceClient&lt;/attribute&gt;\n\n&lt;attribute name=&quot;InitialStartDate&quot;&gt;NOW&lt;/attribute&gt;\n\n&lt;attribute name=&quot;SchedulePeriod&quot;&gt;${ws.scheduler.time}&lt;/attribute&gt;\n\n &lt;attribute name=&quot;InitialRepetitions&quot;&gt;-1&lt;/attribute&gt;\n        &lt;depends&gt;com.jps.svc:service=WebApiCapService&lt;/depends&gt;\n    &lt;/mbean&gt;\n&lt;/server&gt;\n</code></pre>\n"},{"tags":["java","byte-order-mark","apache-commons-io"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670695991,"post_id":74755409,"comment_id":131934877,"body_markdown":"You&#39;re using the wrong BOM class then. The correct behaviour is just to ignore an absent BOM","body":"You&#39;re using the wrong BOM class then. The correct behaviour is just to ignore an absent BOM"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670696406,"post_id":74755409,"comment_id":131934965,"body_markdown":"See my answer [here](https://stackoverflow.com/questions/74560439/how-to-resolve-csvtobean-header-issue-with-zero-width-no-break-space-character/74601141#74601141) for the correct class to use","body":"See my answer <a href=\"https://stackoverflow.com/questions/74560439/how-to-resolve-csvtobean-header-issue-with-zero-width-no-break-space-character/74601141#74601141\">here</a> for the correct class to use"},{"owner":{"account_id":13654322,"reputation":3,"user_id":9851303,"display_name":"TheMessik"},"score":0,"creation_date":1670828876,"post_id":74755409,"comment_id":131955178,"body_markdown":"@g00se I&#39;m using the Apache Commons IO BOMInputStream (should&#39;ve specified this in the original post).","body":"@g00se I&#39;m using the Apache Commons IO BOMInputStream (should&#39;ve specified this in the original post)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670838288,"post_id":74755409,"comment_id":131957634,"body_markdown":"Well, maybe.... don&#39;t","body":"Well, maybe.... don&#39;t"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670845466,"creation_date":1670845466,"answer_id":74770619,"question_id":74755409,"body_markdown":"Not wishing my last comment to imply there&#39;s something wrong with Commons `BOMInputStream` (since I couldn&#39;t believe they&#39;d be incompetent enough to fail to read the stream properly in the *absence* of a BOM) I decided to test it. As I expected, it&#39;s perfectly capable of reading the file with or without BOM:\r\n\r\nSource:\r\n\r\n    package com.technojeeves.opencsvbeans;\r\n    \r\n    import com.opencsv.bean.CsvToBeanBuilder;\r\n    import org.apache.commons.io.input.BOMInputStream;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.List;\r\n    import java.io.IOException;\r\n    import java.io.Reader;\r\n    import java.io.InputStreamReader;\r\n    \r\n    public class App {\r\n        public static void main(String[] args) {\r\n            try {\r\n                System.out.println(new App().read(Path.of(args[0])));\r\n            } catch (Throwable t) {\r\n                t.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public List&lt;Pojo&gt; read(Path path) throws IOException {\r\n            try (Reader reader = new InputStreamReader(new BOMInputStream(Files.newInputStream(path)),\r\n                    StandardCharsets.UTF_8)) {\r\n                return new CsvToBeanBuilder(reader).withType(Pojo.class).build().parse();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nData files contents:\r\n\r\n    goose@t410:/tmp/opencsvbeans$ xxd pojo.csv\r\n    00000000: 706f 696e 742c 6e61 6d65 0a31 2c67 6f6f  point,name.1,goo\r\n    00000010: 7365 0a32 2c64 7563 6b0a                 se.2,duck.\r\n    goose@t410:/tmp/opencsvbeans$ xxd pojo-bom.csv\r\n    00000000: efbb bf70 6f69 6e74 2c6e 616d 650a 312c  ...point,name.1,\r\n    00000010: 676f 6f73 650a 322c 6475 636b 0a         goose.2,duck.\r\n\r\n\r\nRun and output:\r\n\r\n    goose@t410:/tmp/opencsvbeans$ mvnt exec:java -Dexec.args=pojo-bom.csv\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] -------------&lt; com.technojeeves.opencsvbeans:opencsvbeans &gt;-------------\r\n    [INFO] Building opencsvbeans 1.0-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- exec-maven-plugin:1.4.0:java (default-cli) @ opencsvbeans ---\r\n    [name=goose,point=1, name=duck,point=2]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  1.189 s\r\n    [INFO] Finished at: 2022-12-12T11:31:02Z\r\n    [INFO] ------------------------------------------------------------------------\r\n    goose@t410:/tmp/opencsvbeans$ mvnt exec:java -Dexec.args=pojo.csv\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] -------------&lt; com.technojeeves.opencsvbeans:opencsvbeans &gt;-------------\r\n    [INFO] Building opencsvbeans 1.0-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- exec-maven-plugin:1.4.0:java (default-cli) @ opencsvbeans ---\r\n    [name=goose,point=1, name=duck,point=2]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  1.245 s\r\n    [INFO] Finished at: 2022-12-12T11:31:11Z\r\n    [INFO] ------------------------------------------------------------------------\r\n    goose@t410:/tmp/opencsvbeans$ \r\n\r\n\r\n\r\n","title":"BOMInputStream needs to be wrapped in another BOMInputStream to work","body":"<p>Not wishing my last comment to imply there's something wrong with Commons <code>BOMInputStream</code> (since I couldn't believe they'd be incompetent enough to fail to read the stream properly in the <em>absence</em> of a BOM) I decided to test it. As I expected, it's perfectly capable of reading the file with or without BOM:</p>\n<p>Source:</p>\n<pre><code>package com.technojeeves.opencsvbeans;\n\nimport com.opencsv.bean.CsvToBeanBuilder;\nimport org.apache.commons.io.input.BOMInputStream;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.charset.StandardCharsets;\nimport java.util.List;\nimport java.io.IOException;\nimport java.io.Reader;\nimport java.io.InputStreamReader;\n\npublic class App {\n    public static void main(String[] args) {\n        try {\n            System.out.println(new App().read(Path.of(args[0])));\n        } catch (Throwable t) {\n            t.printStackTrace();\n        }\n    }\n\n    public List&lt;Pojo&gt; read(Path path) throws IOException {\n        try (Reader reader = new InputStreamReader(new BOMInputStream(Files.newInputStream(path)),\n                StandardCharsets.UTF_8)) {\n            return new CsvToBeanBuilder(reader).withType(Pojo.class).build().parse();\n        }\n    }\n\n}\n</code></pre>\n<p>Data files contents:</p>\n<pre><code>goose@t410:/tmp/opencsvbeans$ xxd pojo.csv\n00000000: 706f 696e 742c 6e61 6d65 0a31 2c67 6f6f  point,name.1,goo\n00000010: 7365 0a32 2c64 7563 6b0a                 se.2,duck.\ngoose@t410:/tmp/opencsvbeans$ xxd pojo-bom.csv\n00000000: efbb bf70 6f69 6e74 2c6e 616d 650a 312c  ...point,name.1,\n00000010: 676f 6f73 650a 322c 6475 636b 0a         goose.2,duck.\n</code></pre>\n<p>Run and output:</p>\n<pre><code>goose@t410:/tmp/opencsvbeans$ mvnt exec:java -Dexec.args=pojo-bom.csv\n[INFO] Scanning for projects...\n[INFO] \n[INFO] -------------&lt; com.technojeeves.opencsvbeans:opencsvbeans &gt;-------------\n[INFO] Building opencsvbeans 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- exec-maven-plugin:1.4.0:java (default-cli) @ opencsvbeans ---\n[name=goose,point=1, name=duck,point=2]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.189 s\n[INFO] Finished at: 2022-12-12T11:31:02Z\n[INFO] ------------------------------------------------------------------------\ngoose@t410:/tmp/opencsvbeans$ mvnt exec:java -Dexec.args=pojo.csv\n[INFO] Scanning for projects...\n[INFO] \n[INFO] -------------&lt; com.technojeeves.opencsvbeans:opencsvbeans &gt;-------------\n[INFO] Building opencsvbeans 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- exec-maven-plugin:1.4.0:java (default-cli) @ opencsvbeans ---\n[name=goose,point=1, name=duck,point=2]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.245 s\n[INFO] Finished at: 2022-12-12T11:31:11Z\n[INFO] ------------------------------------------------------------------------\ngoose@t410:/tmp/opencsvbeans$ \n</code></pre>\n"}],"owner":{"account_id":13654322,"reputation":3,"user_id":9851303,"display_name":"TheMessik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74770619,"answer_count":1,"score":0,"last_activity_date":1670845466,"creation_date":1670695605,"question_id":74755409,"body_markdown":"Pretty much what the title says. I&#39;m writing code that needs to be able to work both with BOM&#39;ed and non-BOM&#39;ed files. Different parsing options need to be implemented, for now I&#39;m implementing support for parsing CSV files.\r\n\r\nCode below is a rough idea of what I&#39;m working with. If need be, I can provide a minimum working example.\r\n\r\n```java\r\nclass LocalFileAccess {\r\n\r\n// ...\r\n\r\n    // Opens an input stream to the file based on the path passed in constructor. \r\n    // Part of a larger interface, can&#39;t change the signature.\r\n    @Override\r\n    public InputStream getInputStream() throws FileNotFoundException {\r\n        File file = new File(this.path);\r\n\r\n        if (!file.isAbsolute()) {\r\n            file = getFile(this.base, this.path);\r\n        }\r\n\r\n        return new FileInputStream(file);\r\n    }\r\n\r\n    public void foo() {\r\n        try (BOMInputStream inputStream = new BOMInputStream(this.getInputStream())) {\r\n            Iterator&lt;String[]&gt; iterator = new CSVReaderBuilder(new InputStreamReader(inputStream, StandardCharsets.UTF_8).build().iterator();\r\n\r\n            String[] header = iterator.next(); // &lt;- first value is prepended by BOM\r\n        } catch (...) { ... }\r\n    }\r\n```\r\n\r\nLater in the codebase, when parsing through the values gotten from the Iterator, the first value in the header is prepended with the BOM, which causes my tests to fail. The hacky way is to check for this manually, but I&#39;d rather keep my code clean. \r\n\r\nWrapping the return value of ``getInputStream()`` in ``new BOMInputStream()`` fixes it. However, replacing ``new BOMInputStream(this.getInputStream())`` in the try-with-resources with just ``this.getInputStream()`` breaks it again: the BOM gets through. \r\n\r\nI&#39;ve tried different variations of wrapping only the return value of ``getInputStream`` in a BOMInputStream, wrapping only the InputStream in try-with-resources in a BOMInputStream, to no avail. The only solution seems to be wrapping return value of ``getInputStream`` in the try-with-resources in a BOMInputStream and I don&#39;t understand why. \r\n\r\nWhy do I need to wrap the input stream in a BOMInputStream twice?\r\n\r\nEdit: to clarify: I&#39;m using the Apache Commons IO BOMInputStream.","title":"BOMInputStream needs to be wrapped in another BOMInputStream to work","body":"<p>Pretty much what the title says. I'm writing code that needs to be able to work both with BOM'ed and non-BOM'ed files. Different parsing options need to be implemented, for now I'm implementing support for parsing CSV files.</p>\n<p>Code below is a rough idea of what I'm working with. If need be, I can provide a minimum working example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class LocalFileAccess {\n\n// ...\n\n    // Opens an input stream to the file based on the path passed in constructor. \n    // Part of a larger interface, can't change the signature.\n    @Override\n    public InputStream getInputStream() throws FileNotFoundException {\n        File file = new File(this.path);\n\n        if (!file.isAbsolute()) {\n            file = getFile(this.base, this.path);\n        }\n\n        return new FileInputStream(file);\n    }\n\n    public void foo() {\n        try (BOMInputStream inputStream = new BOMInputStream(this.getInputStream())) {\n            Iterator&lt;String[]&gt; iterator = new CSVReaderBuilder(new InputStreamReader(inputStream, StandardCharsets.UTF_8).build().iterator();\n\n            String[] header = iterator.next(); // &lt;- first value is prepended by BOM\n        } catch (...) { ... }\n    }\n</code></pre>\n<p>Later in the codebase, when parsing through the values gotten from the Iterator, the first value in the header is prepended with the BOM, which causes my tests to fail. The hacky way is to check for this manually, but I'd rather keep my code clean.</p>\n<p>Wrapping the return value of <code>getInputStream()</code> in <code>new BOMInputStream()</code> fixes it. However, replacing <code>new BOMInputStream(this.getInputStream())</code> in the try-with-resources with just <code>this.getInputStream()</code> breaks it again: the BOM gets through.</p>\n<p>I've tried different variations of wrapping only the return value of <code>getInputStream</code> in a BOMInputStream, wrapping only the InputStream in try-with-resources in a BOMInputStream, to no avail. The only solution seems to be wrapping return value of <code>getInputStream</code> in the try-with-resources in a BOMInputStream and I don't understand why.</p>\n<p>Why do I need to wrap the input stream in a BOMInputStream twice?</p>\n<p>Edit: to clarify: I'm using the Apache Commons IO BOMInputStream.</p>\n"},{"tags":["java","java-stream","illegalstateexception"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1670760724,"post_id":74760226,"comment_id":131943393,"body_markdown":"Stream is intended to be used like `Stream.of(1,2,3).peek(System.out::println).forEach(System.out::println);`, the intermediate `Stream`s are NOT intended to be assigned to variables! Also be aware of the note stated in the [documentation](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/Stream.html#peek(java.util.function.Consumer)) of `peek()`: &quot;This method exists mainly to support debugging, ... In cases where the stream implementation is able to optimize away the production of some or all the elements ( ... ), the action will not be invoked for those elements.&quot;","body":"Stream is intended to be used like <code>Stream.of(1,2,3).peek(System.out::println).forEach(System.ou&zwnj;&#8203;t::println);</code>, the intermediate <code>Stream</code>s are NOT intended to be assigned to variables! Also be aware of the note stated in the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/Stream.html#peek(java.util.function.Consumer)\" rel=\"nofollow noreferrer\">documentation</a> of <code>peek()</code>: &quot;This method exists mainly to support debugging, ... In cases where the stream implementation is able to optimize away the production of some or all the elements ( ... ), the action will not be invoked for those elements.&quot;"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1670770774,"post_id":74760226,"comment_id":131945289,"body_markdown":"@user16320675 The behavior described in the Question is **not** related to `peek` specifically.","body":"@user16320675 The behavior described in the Question is <b>not</b> related to <code>peek</code> specifically."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1670777522,"post_id":74760226,"comment_id":131946873,"body_markdown":"Weak title. Rewrite to summarize your specific technical issue.","body":"Weak title. Rewrite to summarize your specific technical issue."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670845368,"creation_date":1670756806,"answer_id":74760268,"question_id":74760226,"body_markdown":"`peek` is an ***intermediate operation***, which means it performs an action and produces a **new** Stream. But you&#39;re reusing the same Stream, therefore getting an `IllegalStateException`.\r\n\r\nHere&#39;s a quote, from the [`Stream`&#39;s Javadoc][javadocStream] :\r\n\r\n&gt; A stream should be operated on (**invoking an intermediate or terminal stream operation**) **only once**. This rules out, for example, &quot;forked&quot; streams, where the same source feeds two or more pipelines, or multiple traversals of the same stream. A stream implementation may throw `IllegalStateException` if it detects that the stream is being reused. However, since some stream operations may return their receiver rather than a new stream object, it may not be possible to detect reuse in all cases. \r\n\r\n&lt;sup&gt;Amphesys added&lt;/sup&gt;\r\n\r\n***Note:** as *@Holger* has pointed out documentation states (see the quote above) that in some cases intermediate stream operation might return the received stream (representing the previous stage) instead of generating a new one.*\r\n\r\nIf you write the code like this, it would work as intended:\r\n\r\n```\r\nStream&lt;Integer&gt; ints = Stream.of(1, 2, 3);\r\n    \r\nStream&lt;Integer&gt; ints1 = ints.peek(System.out::println);\r\n    \r\nints1.forEach(System.out::println);\r\n```\r\n\r\nWhich is basically a verbose equivalent of the chain:\r\n\r\n```\r\nStream.of(1, 2, 3)                 // ints\r\n    .peek(System.out::println)     // ints1\r\n    .forEach(System.out::println);\r\n```\r\n\r\nYour understanding that a Stream would be galvanized into action only if it has a *terminal operation* is correct. And the stream you&#39;ve presented in the code has a terminal operation.\r\n\r\n\r\nBut it&#39;s worth to note that the exception occurs not while executing the stream, but while **preparing** the pipeline. I.e. when the Stream instance is being initialized.\r\n\r\nThere&#39;s an internal class `AbstractPipeline` which we as users of the API not interacting directly, it&#39;s purpose defined as follows:\r\n\r\n&gt; Abstract base class for &quot;pipeline&quot; classes, which are the core\r\n&gt;  * implementations of the Stream interface and its primitive\r\n&gt; specializations.\r\n&gt; \r\n&gt;  * Manages construction and evaluation of stream pipelines\r\n\r\nHere&#39;s a piece of code from this class (***[link to the source][source]***):\r\n\r\n    AbstractPipeline(AbstractPipeline&lt;?, E_IN, ?&gt; previousStage, int opFlags) {\r\n        if (previousStage.linkedOrConsumed)    // &lt;- Note\r\n            throw new IllegalStateException(MSG_STREAM_LINKED);\r\n        previousStage.linkedOrConsumed = true; // &lt;- Note\r\n        previousStage.nextStage = this;\r\n        \r\n        this.previousStage = previousStage;\r\n        this.sourceOrOpFlags = opFlags &amp; StreamOpFlag.OP_MASK;\r\n        this.combinedFlags = StreamOpFlag.combineOpFlags(opFlags, previousStage.combinedFlags);\r\n        this.sourceStage = previousStage.sourceStage;\r\n        if (opIsStateful())\r\n            sourceStage.sourceAnyStateful = true;\r\n        this.depth = previousStage.depth + 1;\r\n    }\r\n\r\nIn this implementation, each operation is represented as a stage. And stages are linked with each other. While constructing the next stage a link to next stage should be provided and `boolean` property `linkedOrConsumed` of the previous stage is being to `true`. If the previous stage has been already linked (*which has happened in your code*) the constructor throws an exception.\r\n\r\nFor that reason, even the following code, which lacks terminal operation, would trigger an `IllegalStateException` (JDK 17, HotSpot JVM). It would take place during the preparation of the `Stream` object (***not** while executing the pipeline*).\r\n\r\n```\r\nStream&lt;Integer&gt; ints = Stream.of(1, 2, 3);\r\n\r\nints.map(i -&gt; i * i);\r\nints.takeWhile(i -&gt; i % 2 != 0); // exception would be thrown while initializing this stage\r\n```\r\n\r\n***Note:** this information is an implementation detail, and proved purely as explanation of the behavior OP has encountered. And the code snippet with a Stream with no terminal operation certainly is not guaranteed to behave this way (for instance, some implementation might simply discard it). The bottom line here is that a Stream should be consumed only once.*\r\n\r\n\r\n\r\n   [javadocStream]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html\r\n\r\n   [source]: https://github.com/JetBrains/jdk8u_jdk/blob/master/src/share/classes/java/util/stream/AbstractPipeline.java#L201","title":"Understanding problem regarding operated streams in Java","body":"<p><code>peek</code> is an <em><strong>intermediate operation</strong></em>, which means it performs an action and produces a <strong>new</strong> Stream. But you're reusing the same Stream, therefore getting an <code>IllegalStateException</code>.</p>\n<p>Here's a quote, from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\"><code>Stream</code>'s Javadoc</a> :</p>\n<blockquote>\n<p>A stream should be operated on (<strong>invoking an intermediate or terminal stream operation</strong>) <strong>only once</strong>. This rules out, for example, &quot;forked&quot; streams, where the same source feeds two or more pipelines, or multiple traversals of the same stream. A stream implementation may throw <code>IllegalStateException</code> if it detects that the stream is being reused. However, since some stream operations may return their receiver rather than a new stream object, it may not be possible to detect reuse in all cases.</p>\n</blockquote>\n<p><sup>Amphesys added</sup></p>\n<p><em><strong>Note:</strong> as <em>@Holger</em> has pointed out documentation states (see the quote above) that in some cases intermediate stream operation might return the received stream (representing the previous stage) instead of generating a new one.</em></p>\n<p>If you write the code like this, it would work as intended:</p>\n<pre><code>Stream&lt;Integer&gt; ints = Stream.of(1, 2, 3);\n    \nStream&lt;Integer&gt; ints1 = ints.peek(System.out::println);\n    \nints1.forEach(System.out::println);\n</code></pre>\n<p>Which is basically a verbose equivalent of the chain:</p>\n<pre><code>Stream.of(1, 2, 3)                 // ints\n    .peek(System.out::println)     // ints1\n    .forEach(System.out::println);\n</code></pre>\n<p>Your understanding that a Stream would be galvanized into action only if it has a <em>terminal operation</em> is correct. And the stream you've presented in the code has a terminal operation.</p>\n<p>But it's worth to note that the exception occurs not while executing the stream, but while <strong>preparing</strong> the pipeline. I.e. when the Stream instance is being initialized.</p>\n<p>There's an internal class <code>AbstractPipeline</code> which we as users of the API not interacting directly, it's purpose defined as follows:</p>\n<blockquote>\n<p>Abstract base class for &quot;pipeline&quot; classes, which are the core</p>\n<ul>\n<li><p>implementations of the Stream interface and its primitive\nspecializations.</p>\n</li>\n<li><p>Manages construction and evaluation of stream pipelines</p>\n</li>\n</ul>\n</blockquote>\n<p>Here's a piece of code from this class (<em><strong><a href=\"https://github.com/JetBrains/jdk8u_jdk/blob/master/src/share/classes/java/util/stream/AbstractPipeline.java#L201\" rel=\"nofollow noreferrer\">link to the source</a></strong></em>):</p>\n<pre><code>AbstractPipeline(AbstractPipeline&lt;?, E_IN, ?&gt; previousStage, int opFlags) {\n    if (previousStage.linkedOrConsumed)    // &lt;- Note\n        throw new IllegalStateException(MSG_STREAM_LINKED);\n    previousStage.linkedOrConsumed = true; // &lt;- Note\n    previousStage.nextStage = this;\n    \n    this.previousStage = previousStage;\n    this.sourceOrOpFlags = opFlags &amp; StreamOpFlag.OP_MASK;\n    this.combinedFlags = StreamOpFlag.combineOpFlags(opFlags, previousStage.combinedFlags);\n    this.sourceStage = previousStage.sourceStage;\n    if (opIsStateful())\n        sourceStage.sourceAnyStateful = true;\n    this.depth = previousStage.depth + 1;\n}\n</code></pre>\n<p>In this implementation, each operation is represented as a stage. And stages are linked with each other. While constructing the next stage a link to next stage should be provided and <code>boolean</code> property <code>linkedOrConsumed</code> of the previous stage is being to <code>true</code>. If the previous stage has been already linked (<em>which has happened in your code</em>) the constructor throws an exception.</p>\n<p>For that reason, even the following code, which lacks terminal operation, would trigger an <code>IllegalStateException</code> (JDK 17, HotSpot JVM). It would take place during the preparation of the <code>Stream</code> object (<em><strong>not</strong> while executing the pipeline</em>).</p>\n<pre><code>Stream&lt;Integer&gt; ints = Stream.of(1, 2, 3);\n\nints.map(i -&gt; i * i);\nints.takeWhile(i -&gt; i % 2 != 0); // exception would be thrown while initializing this stage\n</code></pre>\n<p><em><strong>Note:</strong> this information is an implementation detail, and proved purely as explanation of the behavior OP has encountered. And the code snippet with a Stream with no terminal operation certainly is not guaranteed to behave this way (for instance, some implementation might simply discard it). The bottom line here is that a Stream should be consumed only once.</em></p>\n"}],"owner":{"account_id":2838423,"reputation":4567,"user_id":2438518,"accept_rate":53,"display_name":"mrbela"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74760268,"answer_count":1,"score":1,"last_activity_date":1670845368,"creation_date":1670756401,"question_id":74760226,"body_markdown":"Let&#39;s say we have the following code\r\n\r\n\tStream&lt;Integer&gt; ints = Stream.of(1, 2, 3);\r\n\t\t\r\n\tints.peek(System.out::println);\r\n\t\t\r\n\tints.forEach(System.out::println);\r\n\r\nand I run it, I&#39;ll get an exception:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalStateException:\r\nstream has already been operated upon or closed\r\n```\r\n\r\nBut why?\r\n\r\n`peek` is an intermediate operation, so I thought, that it won&#39;t run/start the stream itself? Only `forEach` does this, so why has the stream already been operated when reaching `forEach`?\r\n\r\nI also thought, that the `peek` method would be discarded, because it returns a new `Stream` that I do not consider. Like in\r\n\r\n    String str = &quot;hello world&quot;;\r\n    str.toUppercase();\r\n    str.charAt(0); // &lt;-- h not H","title":"Understanding problem regarding operated streams in Java","body":"<p>Let's say we have the following code</p>\n<pre><code>Stream&lt;Integer&gt; ints = Stream.of(1, 2, 3);\n    \nints.peek(System.out::println);\n    \nints.forEach(System.out::println);\n</code></pre>\n<p>and I run it, I'll get an exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalStateException:\nstream has already been operated upon or closed\n</code></pre>\n<p>But why?</p>\n<p><code>peek</code> is an intermediate operation, so I thought, that it won't run/start the stream itself? Only <code>forEach</code> does this, so why has the stream already been operated when reaching <code>forEach</code>?</p>\n<p>I also thought, that the <code>peek</code> method would be discarded, because it returns a new <code>Stream</code> that I do not consider. Like in</p>\n<pre><code>String str = &quot;hello world&quot;;\nstr.toUppercase();\nstr.charAt(0); // &lt;-- h not H\n</code></pre>\n"},{"tags":["java","minecraft","java-17","minecraft-fabric"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1670849702,"post_id":74756330,"comment_id":131961204,"body_markdown":"You are calling `getMethod` on `classInfo.loadClass()`, so you have to use `classInfo.loadClass().getMethods()` for verification, not `classInfo.getMethods()`","body":"You are calling <code>getMethod</code> on <code>classInfo.loadClass()</code>, so you have to use <code>classInfo.loadClass().getMethods()</code> for verification, not <code>classInfo.getMethods()</code>"},{"owner":{"account_id":14722783,"reputation":474,"user_id":15342452,"display_name":"WhatTheClown"},"score":0,"creation_date":1670871366,"post_id":74756330,"comment_id":131968993,"body_markdown":"I did that and it&#39;s same thing: `[public static void com.stupidrepo.mydirectory.yayay.test.tick(net.minecraft.client.MinecraftClient), ...]`","body":"I did that and it&#39;s same thing: <code>[public static void com.stupidrepo.mydirectory.yayay.test.tick(net.minecraft.cli&zwnj;&#8203;ent.MinecraftClient)&zwnj;&#8203;, ...]</code>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1670921288,"post_id":74756330,"comment_id":131978883,"body_markdown":"So does `MinecraftClient.class` refer to the same class? Does `MinecraftClient.class.getName()` evaluate to the same qualified name `&quot;net.minecraft.client.MinecraftClient&quot;`? And even if so, what does a comparison like `classInfo.loadClass().getMethods()[0].getParameterTypes()[0] == MinecraftClient.class` get you? (If the names match but the classes are considered different, it would indicate an issue of different class loaders)","body":"So does <code>MinecraftClient.class</code> refer to the same class? Does <code>MinecraftClient.class.getName()</code> evaluate to the same qualified name <code>&quot;net.minecraft.client.MinecraftClient&quot;</code>? And even if so, what does a comparison like <code>classInfo.loadClass().getMethods()[0].getParameterTypes()[0] == MinecraftClient.class</code> get you? (If the names match but the classes are considered different, it would indicate an issue of different class loaders)"}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1670845317,"creation_date":1670707556,"answer_id":74756643,"question_id":74756330,"body_markdown":"The method `tick` is not static. But, when you are invoking method, you are not giving instance (but null), so it try to run the method as static. Such as It&#39;s not static, it failed.\r\n\r\nTo fix it, you can:\r\n1) Set your method as static, for example:\r\n```java\r\npackage com.stupidrepo.mydirectory.yayay;\r\n\r\npublic class test {\r\n    public static void tick(MinecraftClient client) {\r\n        System.out.println(client.player.getName());\r\n    }\r\n}\r\n```\r\n2) Create a new instance like that:\r\n```java\r\ntry {\r\n   Class&lt;?&gt; clzz = classInfo.loadClass(); // get class\r\n   Object obj = clzz.getConstructor().newInstance(); // create instance\r\n   clzz.getMethod(&quot;tick&quot;, MinecraftClient.class).invoke(obj, client); // get and call method\r\n} catch (Exception e) {\r\n   e.printStackTrace();\r\n}\r\n```","title":"java.lang.NoSuchMethodException error but method does exist","body":"<p>The method <code>tick</code> is not static. But, when you are invoking method, you are not giving instance (but null), so it try to run the method as static. Such as It's not static, it failed.</p>\n<p>To fix it, you can:</p>\n<ol>\n<li>Set your method as static, for example:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package com.stupidrepo.mydirectory.yayay;\n\npublic class test {\n    public static void tick(MinecraftClient client) {\n        System.out.println(client.player.getName());\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Create a new instance like that:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n   Class&lt;?&gt; clzz = classInfo.loadClass(); // get class\n   Object obj = clzz.getConstructor().newInstance(); // create instance\n   clzz.getMethod(&quot;tick&quot;, MinecraftClient.class).invoke(obj, client); // get and call method\n} catch (Exception e) {\n   e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":14722783,"reputation":474,"user_id":15342452,"display_name":"WhatTheClown"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1670845317,"creation_date":1670704288,"question_id":74756330,"body_markdown":"I know there is, like, over 5 questions that ask this but mine is different. I am trying to get all classes in a package and run the tick function. Here is what one of my classes look like:\r\n\r\n```\r\npackage com.stupidrepo.mydirectory.yayay;\r\n\r\npublic class test {\r\n    public void tick(MinecraftClient client) {\r\n        System.out.println(client.player.getName());\r\n    }\r\n}\r\n\r\n```\r\nHere is how I am attempting to call this function:\r\n\r\n```\r\n    ScanResult scanResult = new ClassGraph().acceptPackages(&quot;com.stupidrepo.mydirectory.yayay&quot;).enableClassInfo().scan();\r\n\r\n    private void doIt(MinecraftClient client) {\r\n        scanResult.getAllClasses().forEach((classInfo -&gt; {\r\n//            System.out.println(classInfo.getName());\r\n\r\n            try {\r\n                classInfo.loadClass().getMethod(&quot;tick&quot;, MinecraftClient.class).invoke(null, client);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }));\r\n    }\r\n```\r\nWhen I call the doIt function, it keeps giving me the `java.lang.NoSuchMethodException` error. When I print `classInfo.getMethods();`, it shows me `[public void com.stupidrepo.mydirectory.yayay.test.tick(net.minecraft.client.MinecraftClient)]`.\r\n\r\nSo the method is there but java says it isn&#39;t. Please help! (By the way the code is for a Fabric MC mod)","title":"java.lang.NoSuchMethodException error but method does exist","body":"<p>I know there is, like, over 5 questions that ask this but mine is different. I am trying to get all classes in a package and run the tick function. Here is what one of my classes look like:</p>\n<pre><code>package com.stupidrepo.mydirectory.yayay;\n\npublic class test {\n    public void tick(MinecraftClient client) {\n        System.out.println(client.player.getName());\n    }\n}\n\n</code></pre>\n<p>Here is how I am attempting to call this function:</p>\n<pre><code>    ScanResult scanResult = new ClassGraph().acceptPackages(&quot;com.stupidrepo.mydirectory.yayay&quot;).enableClassInfo().scan();\n\n    private void doIt(MinecraftClient client) {\n        scanResult.getAllClasses().forEach((classInfo -&gt; {\n//            System.out.println(classInfo.getName());\n\n            try {\n                classInfo.loadClass().getMethod(&quot;tick&quot;, MinecraftClient.class).invoke(null, client);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }));\n    }\n</code></pre>\n<p>When I call the doIt function, it keeps giving me the <code>java.lang.NoSuchMethodException</code> error. When I print <code>classInfo.getMethods();</code>, it shows me <code>[public void com.stupidrepo.mydirectory.yayay.test.tick(net.minecraft.client.MinecraftClient)]</code>.</p>\n<p>So the method is there but java says it isn't. Please help! (By the way the code is for a Fabric MC mod)</p>\n"},{"tags":["java","intellij-idea","lambda"],"answers":[{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1550489595,"creation_date":1550489595,"answer_id":54746354,"question_id":54746310,"body_markdown":"You just need a function that converts `Screen` to `double`:\r\n\r\n    screenList.sort(Comparator.comparingDouble(screen -&gt; screen.getBounds().getMinX()));","title":"Refactor lambda expression to use Comparator.comparingDouble","body":"<p>You just need a function that converts <code>Screen</code> to <code>double</code>:</p>\n\n<pre><code>screenList.sort(Comparator.comparingDouble(screen -&gt; screen.getBounds().getMinX()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14879298,"reputation":1234,"user_id":10744483,"display_name":"Olga Klisho"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550566686,"creation_date":1550566686,"answer_id":54762269,"question_id":54746310,"body_markdown":"In Intellij IDEA you just need to call quick fix at **compare** (pressing Alt+Enter) and click Enter at suggestion *replace with Comparator.comparing double*, IDEA will do the replacement automatically.\r\n\r\n    screenList.sort((screenA, screenB) -&gt; Double.com&lt;ALTENTER_HERE&gt;pare(\r\n                screenA.getBounds().getMinX(), screenB.getBounds().getMinX()));\r\n\r\ncode will be replaced with:\r\n\r\n     screenList.sort(Comparator.comparingDouble(screenA -&gt; screenA.getBounds().getMinX()));","title":"Refactor lambda expression to use Comparator.comparingDouble","body":"<p>In Intellij IDEA you just need to call quick fix at <strong>compare</strong> (pressing Alt+Enter) and click Enter at suggestion <em>replace with Comparator.comparing double</em>, IDEA will do the replacement automatically.</p>\n\n<pre><code>screenList.sort((screenA, screenB) -&gt; Double.com&lt;ALTENTER_HERE&gt;pare(\n            screenA.getBounds().getMinX(), screenB.getBounds().getMinX()));\n</code></pre>\n\n<p>code will be replaced with:</p>\n\n<pre><code> screenList.sort(Comparator.comparingDouble(screenA -&gt; screenA.getBounds().getMinX()));\n</code></pre>\n"}],"owner":{"account_id":9612278,"reputation":41,"user_id":7136254,"display_name":"F. Zi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":54746354,"answer_count":2,"score":0,"last_activity_date":1670844987,"creation_date":1550489465,"question_id":54746310,"body_markdown":"I have a the following lambda expression. My IDE (Intellij idea) tells me it should be replaced with `Comparator.comparingDouble` but I cannot find a way to do it.\r\n\r\n````\r\nList&lt;javafx.stage.Screen&gt; screenList = screens;\r\n\r\nscreenList.sort((screenA, screenB) -&gt; Double.compare(\r\n               screenA.getBounds().getMinX(), screenB.getBounds().getMinX()));\r\n\r\n````\r\n\r\nIs there a way to accomplish this with \r\n````\r\nscreenList.sort(Comparator.comparingDouble(...));\r\n````\r\nor is this a false annotation from Intellij? Thank you in advance for your help!\r\n\r\n","title":"Refactor lambda expression to use Comparator.comparingDouble","body":"<p>I have a the following lambda expression. My IDE (Intellij idea) tells me it should be replaced with <code>Comparator.comparingDouble</code> but I cannot find a way to do it.</p>\n<pre><code>List&lt;javafx.stage.Screen&gt; screenList = screens;\n\nscreenList.sort((screenA, screenB) -&gt; Double.compare(\n               screenA.getBounds().getMinX(), screenB.getBounds().getMinX()));\n\n</code></pre>\n<p>Is there a way to accomplish this with</p>\n<pre><code>screenList.sort(Comparator.comparingDouble(...));\n</code></pre>\n<p>or is this a false annotation from Intellij? Thank you in advance for your help!</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","ssh"],"comments":[{"owner":{"account_id":2270349,"reputation":1219,"user_id":1997949,"accept_rate":83,"display_name":"Michael"},"score":0,"creation_date":1585680513,"post_id":60932567,"comment_id":107846187,"body_markdown":"Just to make things clear, you want your Spring Boot application to SSH into a remote host and read a file from there?","body":"Just to make things clear, you want your Spring Boot application to SSH into a remote host and read a file from there?"},{"owner":{"account_id":10923307,"reputation":321,"user_id":8028778,"display_name":"Kasun Palihakkara"},"score":0,"creation_date":1585721114,"post_id":60932567,"comment_id":107857750,"body_markdown":"yes. exactly.  is is possible?","body":"yes. exactly.  is is possible?"},{"owner":{"account_id":2270349,"reputation":1219,"user_id":1997949,"accept_rate":83,"display_name":"Michael"},"score":0,"creation_date":1585837216,"post_id":60932567,"comment_id":107908426,"body_markdown":"Why won&#39;t you just use a fileserver on that location and use a GET request?","body":"Why won&#39;t you just use a fileserver on that location and use a GET request?"}],"answers":[{"tags":[],"owner":{"account_id":17234894,"reputation":63,"user_id":12478580,"display_name":"JesVan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670844556,"creation_date":1670844556,"answer_id":74770445,"question_id":60932567,"body_markdown":"Yes, it is possible.\r\n\r\nThere is a library called JSch - Java Secure Channel (http://www.jcraft.com/jsch/).\r\n\r\nThis is how you connect to remote host:\r\n\r\n    private static final String REMOTE_HOST = &quot;0.0.0.0&quot;;\r\n    private static final String USERNAME = &quot;&quot;;\r\n    private static final String PASSWORD = &quot;&quot;;\r\n    private static final int REMOTE_PORT = 22;\r\n    private static final int SESSION_TIMEOUT = 10000;\r\n    private static final int CHANNEL_TIMEOUT = 5000;\r\n\r\n    private void readFile() {\r\n        String remoteFile = &quot;/your/path/file.txt&quot;;\r\n        Session jschSession = null;\r\n\r\n        try {\r\n            JSch jsch = new JSch();\r\n\r\n            jschSession = jsch.getSession(USERNAME, REMOTE_HOST, REMOTE_PORT);\r\n\r\n            jschSession.setPassword(PASSWORD);\r\n            jschSession.connect(SESSION_TIMEOUT);\r\n\r\n            Channel sftp = jschSession.openChannel(&quot;sftp&quot;);\r\n            sftp.connect(CHANNEL_TIMEOUT);\r\n            ChannelSftp channelSftp = (ChannelSftp) sftp;\r\n\r\n            InputStream stream = channelSftp.get(remoteFile);\r\n            \r\n            //Parsing your file or etc. here\r\n\r\n            channelSftp.exit();\r\n\r\n        } catch (JSchException | SftpException e) {\r\n\r\n            e.printStackTrace();\r\n\r\n        } finally {\r\n            if (jschSession != null) {\r\n                jschSession.disconnect();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\nAs for how to set credentials from application.properties, you can use annotation:\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;mail&quot;)\r\n    public class ConfigProperties {\r\n        \r\n        private String hostName;\r\n        private int port;\r\n        private String from;\r\n    \r\n        // standard getters and setters\r\n    }\r\n\r\nExample in your application.properties:\r\n\r\n    mail.hostname=host@mail.com\r\n    mail.port=9000\r\n    mail.from=mailer@mail.com\r\n\r\nFurther explanation can be found here: https://www.baeldung.com/configuration-properties-in-spring-boot.\r\n\r\nI hope it helps.","title":"SSH to remote server and read Files in Springboot","body":"<p>Yes, it is possible.</p>\n<p>There is a library called JSch - Java Secure Channel (<a href=\"http://www.jcraft.com/jsch/\" rel=\"nofollow noreferrer\">http://www.jcraft.com/jsch/</a>).</p>\n<p>This is how you connect to remote host:</p>\n<pre><code>private static final String REMOTE_HOST = &quot;0.0.0.0&quot;;\nprivate static final String USERNAME = &quot;&quot;;\nprivate static final String PASSWORD = &quot;&quot;;\nprivate static final int REMOTE_PORT = 22;\nprivate static final int SESSION_TIMEOUT = 10000;\nprivate static final int CHANNEL_TIMEOUT = 5000;\n\nprivate void readFile() {\n    String remoteFile = &quot;/your/path/file.txt&quot;;\n    Session jschSession = null;\n\n    try {\n        JSch jsch = new JSch();\n\n        jschSession = jsch.getSession(USERNAME, REMOTE_HOST, REMOTE_PORT);\n\n        jschSession.setPassword(PASSWORD);\n        jschSession.connect(SESSION_TIMEOUT);\n\n        Channel sftp = jschSession.openChannel(&quot;sftp&quot;);\n        sftp.connect(CHANNEL_TIMEOUT);\n        ChannelSftp channelSftp = (ChannelSftp) sftp;\n\n        InputStream stream = channelSftp.get(remoteFile);\n        \n        //Parsing your file or etc. here\n\n        channelSftp.exit();\n\n    } catch (JSchException | SftpException e) {\n\n        e.printStackTrace();\n\n    } finally {\n        if (jschSession != null) {\n            jschSession.disconnect();\n        }\n    }\n}\n</code></pre>\n<p>As for how to set credentials from application.properties, you can use annotation:</p>\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = &quot;mail&quot;)\npublic class ConfigProperties {\n    \n    private String hostName;\n    private int port;\n    private String from;\n\n    // standard getters and setters\n}\n</code></pre>\n<p>Example in your application.properties:</p>\n<pre><code>mail.hostname=host@mail.com\nmail.port=9000\nmail.from=mailer@mail.com\n</code></pre>\n<p>Further explanation can be found here: <a href=\"https://www.baeldung.com/configuration-properties-in-spring-boot\" rel=\"nofollow noreferrer\">https://www.baeldung.com/configuration-properties-in-spring-boot</a>.</p>\n<p>I hope it helps.</p>\n"}],"owner":{"account_id":10923307,"reputation":321,"user_id":8028778,"display_name":"Kasun Palihakkara"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1052,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670844556,"creation_date":1585577956,"question_id":60932567,"body_markdown":"I just need to know whether below scenario is possible or not in Spring boot?\r\n\r\nAssume I need to ssh to server and do operations in a specific directory in springboot. For example I just need to read file in Home directory in server 192.xxx.xxx.xxx in spring boot application. If this is possible how to set server credential(loging user,password) in application.properties.\r\n\r\nNeed you kind attention. Any help will be highly appreciated.\r\n\r\nThank You.","title":"SSH to remote server and read Files in Springboot","body":"<p>I just need to know whether below scenario is possible or not in Spring boot?</p>\n\n<p>Assume I need to ssh to server and do operations in a specific directory in springboot. For example I just need to read file in Home directory in server 192.xxx.xxx.xxx in spring boot application. If this is possible how to set server credential(loging user,password) in application.properties.</p>\n\n<p>Need you kind attention. Any help will be highly appreciated.</p>\n\n<p>Thank You.</p>\n"},{"tags":["java","selenium","google-chrome","selenium-chromedriver","page-factory"],"answers":[{"tags":[],"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670844415,"creation_date":1670844415,"answer_id":74770417,"question_id":74770010,"body_markdown":"Using selenium 4.7.1 and JDK 11:\r\n```\r\n       &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.7.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n```\r\npublic class Google {\r\n    private WebDriver driver;\r\n    @FindBy(name = &quot;q&quot;)\r\n    private WebElement searchField;\r\n    \r\n    public Google(WebDriver driver){\r\n        this.driver = driver;\r\n        PageFactory.initElements(driver, this);\r\n    }\r\n\r\n    public  void searchFor(String text){\r\n        searchField.sendKeys(text);\r\n        searchField.sendKeys(Keys.ENTER);\r\n    }\r\n\r\n    public void navigateTo(){\r\n        driver.get(&quot;https://google.com&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        WebDriverManager.chromedriver().setup();\r\n        WebDriver chrome = new ChromeDriver();\r\n        Google google = new Google(chrome);\r\n        google.navigateTo();\r\n        google.searchFor(&quot;Selenium&quot;);\r\n\r\n    }\r\n}\r\n```\r\nEverything works as expected.\r\n\r\nCorrect this line:\r\n```\r\nPageFactory.initElements(this.driver, this);\r\n```","title":"Version update to SELNEIUM 4.7.0 throwing NoSuchMethod Exception for Pagefactory","body":"<p>Using selenium 4.7.1 and JDK 11:</p>\n<pre><code>       &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<pre><code>public class Google {\n    private WebDriver driver;\n    @FindBy(name = &quot;q&quot;)\n    private WebElement searchField;\n    \n    public Google(WebDriver driver){\n        this.driver = driver;\n        PageFactory.initElements(driver, this);\n    }\n\n    public  void searchFor(String text){\n        searchField.sendKeys(text);\n        searchField.sendKeys(Keys.ENTER);\n    }\n\n    public void navigateTo(){\n        driver.get(&quot;https://google.com&quot;);\n    }\n\n    public static void main(String[] args) {\n        WebDriverManager.chromedriver().setup();\n        WebDriver chrome = new ChromeDriver();\n        Google google = new Google(chrome);\n        google.navigateTo();\n        google.searchFor(&quot;Selenium&quot;);\n\n    }\n}\n</code></pre>\n<p>Everything works as expected.</p>\n<p>Correct this line:</p>\n<pre><code>PageFactory.initElements(this.driver, this);\n</code></pre>\n"}],"owner":{"account_id":26888691,"reputation":11,"user_id":20467824,"display_name":"Muhammad Abu Bakar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74770417,"answer_count":1,"score":0,"last_activity_date":1670844415,"creation_date":1670842367,"question_id":74770010,"body_markdown":"I&#39;m changing my selenium porject from 3.141 to 4.7.0 but i&#39;m seeing NoSuchElementException on PageFactory Initialization.\r\n\r\n```Dependency\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.7.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\n```Place of error\r\npublic WebElementsLogin(WebDriver driver) {\r\n\t\tthis.driver = driver;\r\n\t\tPageFactory.initElements(this.driver, this);\r\n\t}\r\n```\r\n\r\n```Exception\r\njava.lang.NoSuchMethodError: &#39;void org.openqa.selenium.support.PageFactory.initElements(org.openqa.selenium.SearchContext, java.lang.Object)&#39;\r\n","title":"Version update to SELNEIUM 4.7.0 throwing NoSuchMethod Exception for Pagefactory","body":"<p>I'm changing my selenium porject from 3.141 to 4.7.0 but i'm seeing NoSuchElementException on PageFactory Initialization.</p>\n<pre><code>        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<pre><code>public WebElementsLogin(WebDriver driver) {\n        this.driver = driver;\n        PageFactory.initElements(this.driver, this);\n    }\n</code></pre>\n<pre><code>java.lang.NoSuchMethodError: 'void org.openqa.selenium.support.PageFactory.initElements(org.openqa.selenium.SearchContext, java.lang.Object)'\n</code></pre>\n"},{"tags":["java","mockito","junit4","junit5"],"comments":[{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":2,"creation_date":1550780533,"post_id":54815602,"comment_id":96407568,"body_markdown":"Please explain your question instead of only including a link; and please do not post a picture of code, but include the code as text in your question.","body":"Please explain your question instead of only including a link; and please do not post a picture of code, but include the code as text in your question."},{"owner":{"account_id":15071962,"reputation":211,"user_id":10877141,"display_name":"ygbgames"},"score":0,"creation_date":1550780948,"post_id":54815602,"comment_id":96407766,"body_markdown":"Add code snippet and statement which you are trying to mock","body":"Add code snippet and statement which you are trying to mock"},{"owner":{"account_id":15382374,"reputation":11,"user_id":11097457,"display_name":"Bala Murugan"},"score":0,"creation_date":1550781307,"post_id":54815602,"comment_id":96407902,"body_markdown":"@Jesper  code added","body":"@Jesper  code added"},{"owner":{"account_id":15382374,"reputation":11,"user_id":11097457,"display_name":"Bala Murugan"},"score":0,"creation_date":1550781336,"post_id":54815602,"comment_id":96407916,"body_markdown":"@ygbgames code added","body":"@ygbgames code added"}],"answers":[{"tags":[],"owner":{"account_id":7313625,"reputation":6030,"user_id":5572007,"display_name":"amseager"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550782736,"creation_date":1550781543,"answer_id":54815842,"question_id":54815602,"body_markdown":"Aside from discussing the purpose of doing this - practically you need to extract consumers from forEach() to separate methods (with the default modifier at least), and in your test class you should use Mockito.spy() functionality to mock them. \r\n\r\n(If you haven&#39;t yet familiar with the spying principle - it&#39;s like a partial mocking of the testing object. The good article about it: https://www.baeldung.com/mockito-spy).\r\n\r\nHow it actually can be:\r\n\r\n1. Your main class (let it be called &quot;TestApp&quot;):\r\n```\r\npublic class TestApp {\r\n\r\n    public void someRealMethod() {\r\n        List&lt;String&gt; items = new ArrayList&lt;&gt;();\r\n        items.add(&quot;A&quot;);\r\n        items.add(&quot;B&quot;);\r\n        items.add(&quot;C&quot;);\r\n        items.add(&quot;D&quot;);\r\n        items.add(&quot;E&quot;);\r\n\r\n        items.forEach(lambdaForMocking());\r\n        items.forEach(anotherLambdaForMocking());\r\n    }\r\n\r\n    Consumer&lt;String&gt; lambdaForMocking() {\r\n        return item -&gt; System.out.println(item);\r\n    }\r\n\r\n    Consumer&lt;String&gt; anotherLambdaForMocking() {\r\n        return item -&gt; {\r\n            if (&quot;C&quot;.equals(item)) {\r\n                System.out.println(item);\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n2. Your test class:\r\n```\r\npublic class TestAppTest {\r\n\r\n    @Test\r\n    public void lambdaMockingTest() {\r\n        TestApp testApp = new TestApp();\r\n        TestApp spy = Mockito.spy(testApp);\r\n\r\n        Mockito.when(spy.lambdaForMocking()).thenReturn(item -&gt; {});\r\n        Mockito.when(spy.anotherLambdaForMocking()).thenReturn(item -&gt; {});\r\n\r\n        spy.someRealMethod();\r\n\r\n        //Asserts...\r\n    }\r\n}\r\n```\r\nIn &quot;thenReturn&quot; parts you can define any consumers that you want (I left them empty, for example).","title":"How to Mock the Lambda expression using Mockito","body":"<p>Aside from discussing the purpose of doing this - practically you need to extract consumers from forEach() to separate methods (with the default modifier at least), and in your test class you should use Mockito.spy() functionality to mock them. </p>\n\n<p>(If you haven't yet familiar with the spying principle - it's like a partial mocking of the testing object. The good article about it: <a href=\"https://www.baeldung.com/mockito-spy\" rel=\"nofollow noreferrer\">https://www.baeldung.com/mockito-spy</a>).</p>\n\n<p>How it actually can be:</p>\n\n<ol>\n<li>Your main class (let it be called \"TestApp\"):</li>\n</ol>\n\n<pre><code>public class TestApp {\n\n    public void someRealMethod() {\n        List&lt;String&gt; items = new ArrayList&lt;&gt;();\n        items.add(\"A\");\n        items.add(\"B\");\n        items.add(\"C\");\n        items.add(\"D\");\n        items.add(\"E\");\n\n        items.forEach(lambdaForMocking());\n        items.forEach(anotherLambdaForMocking());\n    }\n\n    Consumer&lt;String&gt; lambdaForMocking() {\n        return item -&gt; System.out.println(item);\n    }\n\n    Consumer&lt;String&gt; anotherLambdaForMocking() {\n        return item -&gt; {\n            if (\"C\".equals(item)) {\n                System.out.println(item);\n            }\n        };\n    }\n}\n</code></pre>\n\n<ol start=\"2\">\n<li>Your test class:</li>\n</ol>\n\n<pre><code>public class TestAppTest {\n\n    @Test\n    public void lambdaMockingTest() {\n        TestApp testApp = new TestApp();\n        TestApp spy = Mockito.spy(testApp);\n\n        Mockito.when(spy.lambdaForMocking()).thenReturn(item -&gt; {});\n        Mockito.when(spy.anotherLambdaForMocking()).thenReturn(item -&gt; {});\n\n        spy.someRealMethod();\n\n        //Asserts...\n    }\n}\n</code></pre>\n\n<p>In \"thenReturn\" parts you can define any consumers that you want (I left them empty, for example).</p>\n"}],"owner":{"account_id":15382374,"reputation":11,"user_id":11097457,"display_name":"Bala Murugan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1948,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670844346,"creation_date":1550780440,"question_id":54815602,"body_markdown":"How to Mock the Lambda expression using Mockito\r\n\r\n    List&lt;String&gt; items = new ArrayList&lt;&gt;();\r\n\titems.add(&quot;A&quot;);\r\n\titems.add(&quot;B&quot;);\r\n\titems.add(&quot;C&quot;);\r\n\titems.add(&quot;D&quot;);\r\n\titems.add(&quot;E&quot;);\r\n\r\nlambda\r\n\r\n\titems.forEach(item-&gt;System.out.println(item));\r\n\t\r\n\titems.forEach(item-&gt;{if(&quot;C&quot;.equals(item)){System.out.println(item);}});","title":"How to Mock the Lambda expression using Mockito","body":"<p>How to Mock the Lambda expression using Mockito</p>\n<pre><code>List&lt;String&gt; items = new ArrayList&lt;&gt;();\nitems.add(&quot;A&quot;);\nitems.add(&quot;B&quot;);\nitems.add(&quot;C&quot;);\nitems.add(&quot;D&quot;);\nitems.add(&quot;E&quot;);\n</code></pre>\n<p>lambda</p>\n<pre><code>items.forEach(item-&gt;System.out.println(item));\n\nitems.forEach(item-&gt;{if(&quot;C&quot;.equals(item)){System.out.println(item);}});\n</code></pre>\n"},{"tags":["java","selenium-webdriver","testing","automated-tests","data-driven-tests"],"owner":{"account_id":15167351,"reputation":1,"user_id":10944489,"display_name":"Subhadeep Debnath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670843625,"creation_date":1670843625,"question_id":74770272,"body_markdown":"I was trying to build a framework where credentials of various users will come from an excel file.\r\nThe user will login to the application and perform some actions and then logout. After that another user will do the same, that is login, perform some actions and logout.\r\nI was able to do only onle time and not multipe time. Please can anyone solve this.\r\n\r\nRegards\r\nBelow is my code\r\n\r\n\r\n```\r\npackage testCases;\r\n\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.JavascriptExecutor;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport utilities.Constants;\r\nimport utilities.ExcelUtils;\r\nimport java.io.IOException;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class WebInteractions {\r\n\t\r\n\t//creating object of ExcelUtils class\r\n\tstatic ExcelUtils excelUtils = new ExcelUtils();\r\n\t\r\n\t//using the Constants class values for excel file path\r\n\tstatic String excelFilePath = Constants.Path_TestData + Constants.File_TestData;\r\n\r\n\tpublic static void main(String args[]) throws IOException {\r\n\t\t//set the Chrome Driver path\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Apps\\\\Eclipse\\\\Selenium\\\\chromedriver.exe&quot;);\r\n\t\t\r\n\t\t//Creating an object of ChromeDriver\r\n\t\tWebDriver driver = new ChromeDriver();\r\n\t\t\r\n\t\t//launching the specified URL\r\n\t\tdriver.get(&quot;https://dev2-merchant-admin.canpaydebit.com/&quot;);\r\n\t\t\r\n\t\t//Identify the WebElements for the student registration form\r\n\t\tWebElement Username = driver.findElement(By.xpath(&quot;//input[@placeholder=&#39;Email&#39;]&quot;));\r\n\t\tWebElement Password = driver.findElement(By.xpath(&quot;//input[@placeholder=&#39;Password&#39;]&quot;));\r\n\t\tWebElement Login = driver.findElement(By.xpath(&quot;//button[@type=&#39;button&#39;]&quot;));\r\n\t\t\r\n\t\t//calling the ExcelUtils class method to initialise the workbook and sheet\r\n\t\texcelUtils.setExcelFile(excelFilePath, &quot;Sheet1&quot;);\r\n\r\n\t\t//iterate over all the row to print the data present in each cell.\r\n\t\t\tfor (int i = 1; i &lt;= excelUtils.getRowCountInSheet(); i++)\r\n\t\t\t\t{\r\n\t\t\t\t\t\r\n\t\t\t\t\t//Enter the values read from Excel in Username, Password\r\n\t\t\t\t\tUsername.sendKeys(excelUtils.getCellData(i, 0));\r\n\t\t\t\t\tPassword.sendKeys(excelUtils.getCellData(i, 1));\r\n\t\t\t\t\t\r\n\t\t\t\t\t//Click on submit button\r\n\t\t\t\t\tLogin.click();\r\n\t\t\t\t\tdriver.manage().timeouts().implicitlyWait(2000, TimeUnit.SECONDS);\r\n\t\t\t\t\t\r\n\t\t\t\t\t//Clicking on Logout button\r\n\t\t\t\t\tdriver.findElement(By.xpath(&quot;//a[@class=&#39;d-block accordion-toggle collapsed&#39;]&quot;)).click();\r\n\t\t\t\t\tdriver.findElement(By.xpath(&quot;//p[normalize-space()=&#39;Logout&#39;]&quot;)).click();\r\n\r\n\t\t\t\t}\r\n\t\t\r\n\r\n\t\t\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\nI tried the above code. I&#39;m expecting that one user logs in, perform some action, then logs out, then another user logs in, perform some actions and then logout, and like these all others users. The email and password will be coming from the Excel file.","title":"Login Logout with different users whose credentials will come from an Excel file one after another using Selenium","body":"<p>I was trying to build a framework where credentials of various users will come from an excel file.\nThe user will login to the application and perform some actions and then logout. After that another user will do the same, that is login, perform some actions and logout.\nI was able to do only onle time and not multipe time. Please can anyone solve this.</p>\n<p>Regards\nBelow is my code</p>\n<pre><code>package testCases;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.JavascriptExecutor;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport utilities.Constants;\nimport utilities.ExcelUtils;\nimport java.io.IOException;\nimport java.util.concurrent.TimeUnit;\n\npublic class WebInteractions {\n    \n    //creating object of ExcelUtils class\n    static ExcelUtils excelUtils = new ExcelUtils();\n    \n    //using the Constants class values for excel file path\n    static String excelFilePath = Constants.Path_TestData + Constants.File_TestData;\n\n    public static void main(String args[]) throws IOException {\n        //set the Chrome Driver path\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Apps\\\\Eclipse\\\\Selenium\\\\chromedriver.exe&quot;);\n        \n        //Creating an object of ChromeDriver\n        WebDriver driver = new ChromeDriver();\n        \n        //launching the specified URL\n        driver.get(&quot;https://dev2-merchant-admin.canpaydebit.com/&quot;);\n        \n        //Identify the WebElements for the student registration form\n        WebElement Username = driver.findElement(By.xpath(&quot;//input[@placeholder='Email']&quot;));\n        WebElement Password = driver.findElement(By.xpath(&quot;//input[@placeholder='Password']&quot;));\n        WebElement Login = driver.findElement(By.xpath(&quot;//button[@type='button']&quot;));\n        \n        //calling the ExcelUtils class method to initialise the workbook and sheet\n        excelUtils.setExcelFile(excelFilePath, &quot;Sheet1&quot;);\n\n        //iterate over all the row to print the data present in each cell.\n            for (int i = 1; i &lt;= excelUtils.getRowCountInSheet(); i++)\n                {\n                    \n                    //Enter the values read from Excel in Username, Password\n                    Username.sendKeys(excelUtils.getCellData(i, 0));\n                    Password.sendKeys(excelUtils.getCellData(i, 1));\n                    \n                    //Click on submit button\n                    Login.click();\n                    driver.manage().timeouts().implicitlyWait(2000, TimeUnit.SECONDS);\n                    \n                    //Clicking on Logout button\n                    driver.findElement(By.xpath(&quot;//a[@class='d-block accordion-toggle collapsed']&quot;)).click();\n                    driver.findElement(By.xpath(&quot;//p[normalize-space()='Logout']&quot;)).click();\n\n                }\n        \n\n        \n    }\n}\n\n</code></pre>\n<p>I tried the above code. I'm expecting that one user logs in, perform some action, then logs out, then another user logs in, perform some actions and then logout, and like these all others users. The email and password will be coming from the Excel file.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":4962911,"reputation":1972,"user_id":3993371,"accept_rate":81,"display_name":"Anindya Dutta"},"score":0,"creation_date":1657866819,"post_id":72989737,"comment_id":128916102,"body_markdown":"As the documentation says, &quot;This pattern is intended for searching for things that look like they might be phone numbers in arbitrary text, not for validating whether something is in fact a phone number. It will miss many things that are legitimate phone numbers.&quot;","body":"As the documentation says, &quot;This pattern is intended for searching for things that look like they might be phone numbers in arbitrary text, not for validating whether something is in fact a phone number. It will miss many things that are legitimate phone numbers.&quot;"},{"owner":{"account_id":4962911,"reputation":1972,"user_id":3993371,"accept_rate":81,"display_name":"Anindya Dutta"},"score":0,"creation_date":1657867014,"post_id":72989737,"comment_id":128916149,"body_markdown":"PhoneNumberUtils. isGlobalPhoneNumber might be a better API.","body":"PhoneNumberUtils. isGlobalPhoneNumber might be a better API."}],"answers":[{"tags":[],"owner":{"account_id":23365040,"reputation":802,"user_id":17436751,"display_name":"Sayooj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670843484,"creation_date":1657869407,"answer_id":72990327,"question_id":72989737,"body_markdown":"To validate a 10 digit Mobile number, here is a working code. Hope this works for you too.\r\n\r\n    String number = binding.editNumber.getText().toString();\r\n    // isPhoneValid = isValidMobileNo(number);\r\n    if (isValidMobileNo(number)) {\r\n            isPhoneValid = true;\r\n    else {\r\n            Log.d(&quot;Result: &quot;,&quot;Not Valid&quot;);\r\n            isPhoneValid = false;\r\n            valid = false;\r\n    }\r\n\r\n    private boolean isValidMobileNo(String str) {\r\n        Pattern pattern = Pattern.compile(&quot;(0/91)?[6-9][0-9]{9}&quot;);\r\n        Matcher match = pattern.matcher(str);\r\n        return (match.find() &amp;&amp; match.group().equals(str));\r\n    }\r\n\r\nTest Sample can be seen [here][1], an error message set to the EditText can be seen in this example.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eugHF.png","title":"Validate valid phone number entry","body":"<p>To validate a 10 digit Mobile number, here is a working code. Hope this works for you too.</p>\n<pre><code>String number = binding.editNumber.getText().toString();\n// isPhoneValid = isValidMobileNo(number);\nif (isValidMobileNo(number)) {\n        isPhoneValid = true;\nelse {\n        Log.d(&quot;Result: &quot;,&quot;Not Valid&quot;);\n        isPhoneValid = false;\n        valid = false;\n}\n\nprivate boolean isValidMobileNo(String str) {\n    Pattern pattern = Pattern.compile(&quot;(0/91)?[6-9][0-9]{9}&quot;);\n    Matcher match = pattern.matcher(str);\n    return (match.find() &amp;&amp; match.group().equals(str));\n}\n</code></pre>\n<p>Test Sample can be seen <a href=\"https://i.stack.imgur.com/eugHF.png\" rel=\"nofollow noreferrer\">here</a>, an error message set to the EditText can be seen in this example.</p>\n"}],"owner":{"account_id":5382002,"reputation":11475,"user_id":4286992,"accept_rate":56,"display_name":"Kapil Rajput"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1670843484,"creation_date":1657865675,"question_id":72989737,"body_markdown":"I want to figure out invalid phone numbers entered in edittext before hitting the OTP api. Invalid phone numbers pattern may looks like these patterns **+91-0000000000 / +91-0000000011 / +91-1234567890** ...and so on.  Already added a check to validate invalid phone number but it didn&#39;t helps in detecting invalid patterns of phone numbers which can&#39;t exist.\r\n\r\n    private boolean isValidMobile(String phone) {\r\n    return android.util.Patterns.PHONE.matcher(phone).matches();    \r\n    }\r\n\r\nAnyone please suggest how to handle these numbers before hitting the OTP api. Thanks in advance.","title":"Validate valid phone number entry","body":"<p>I want to figure out invalid phone numbers entered in edittext before hitting the OTP api. Invalid phone numbers pattern may looks like these patterns <strong>+91-0000000000 / +91-0000000011 / +91-1234567890</strong> ...and so on.  Already added a check to validate invalid phone number but it didn't helps in detecting invalid patterns of phone numbers which can't exist.</p>\n<pre><code>private boolean isValidMobile(String phone) {\nreturn android.util.Patterns.PHONE.matcher(phone).matches();    \n}\n</code></pre>\n<p>Anyone please suggest how to handle these numbers before hitting the OTP api. Thanks in advance.</p>\n"},{"tags":["java","java-stream","intersection","anymatch"],"comments":[{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1670599549,"post_id":74745030,"comment_id":131917842,"body_markdown":"***But how do I make sure to compare to every item in the List houseNumbers?*** - Use `filter` instead of `anyMatch` .","body":"<b><i>But how do I make sure to compare to every item in the List houseNumbers?</i></b> - Use <code>filter</code> instead of <code>anyMatch</code> ."},{"owner":{"account_id":5635704,"reputation":3288,"user_id":4461271,"accept_rate":0,"display_name":"midi"},"score":0,"creation_date":1670599729,"post_id":74745030,"comment_id":131917913,"body_markdown":"With filter it is still complaining about the Predicate. locations.stream().filter(\nlocation -&gt; \n housenumbers.stream().anyMatch(location.address.number)\n)","body":"With filter it is still complaining about the Predicate. locations.stream().filter( location -&gt;   housenumbers.stream().anyMatch(location.address.number) )"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1670599739,"post_id":74745030,"comment_id":131917919,"body_markdown":"When posting questions, please put in minimal code to demonstrate the issue.  That includes all classes and data structures required with input and expected output.  It should be in the form of a [mre].  And you should also take the [tour].","body":"When posting questions, please put in minimal code to demonstrate the issue.  That includes all classes and data structures required with input and expected output.  It should be in the form of a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.  And you should also take the <a href=\"https://stackoverflow.com/tour\">tour</a>."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670600774,"creation_date":1670599825,"answer_id":74745150,"question_id":74745030,"body_markdown":"Dump the data from the `houseNumbers` into a `HashSet` a then in the stream check the house number of each `Location` against the Set.\r\n\r\nFor that, you would need to apply:\r\n\r\n* `filter()` operation to discard the locations, which has a house number that is not present in the list;\r\n* `toList()` as a terminal operation to collect the result into a list (or `collect()` with `Collectors.toList()` specified as an argument if you&#39;re using JDK 15 or earlier).\r\n\r\n```\r\nList&lt;String&gt; houseNumbers = // initializing the list\r\nSet&lt;String&gt; numbers = new HashSet&lt;&gt;(houseNumbers);\r\n\r\nList&lt;Location&gt; locations = // initializing the list\r\n    \r\nList&lt;Location&gt; filteredLocations = locations.stream()\r\n    .filter(location -&gt; numbers.contains(location.getAddress().getNumber()))\r\n    .toList(); // for Java 16+ or collect(Collectors.toList())\r\n```\r\n\r\n***Sidenote:** in Java, we use access modifiers to encapsulate the data properly withing the class. And getter methods serve a mean of accessing the data. Don&#39;t keep the fields `public` (or package-private). If you&#39;re doing a lot of JavaScript you might be accustomed to this `location.address.number`, but in Java it&#39;s not appropriate.","title":"How to obtain an Intersection of a List of complex custom Objects and a List of its String attributes and in Java using Stream API","body":"<p>Dump the data from the <code>houseNumbers</code> into a <code>HashSet</code> a then in the stream check the house number of each <code>Location</code> against the Set.</p>\n<p>For that, you would need to apply:</p>\n<ul>\n<li><code>filter()</code> operation to discard the locations, which has a house number that is not present in the list;</li>\n<li><code>toList()</code> as a terminal operation to collect the result into a list (or <code>collect()</code> with <code>Collectors.toList()</code> specified as an argument if you're using JDK 15 or earlier).</li>\n</ul>\n<pre><code>List&lt;String&gt; houseNumbers = // initializing the list\nSet&lt;String&gt; numbers = new HashSet&lt;&gt;(houseNumbers);\n\nList&lt;Location&gt; locations = // initializing the list\n    \nList&lt;Location&gt; filteredLocations = locations.stream()\n    .filter(location -&gt; numbers.contains(location.getAddress().getNumber()))\n    .toList(); // for Java 16+ or collect(Collectors.toList())\n</code></pre>\n<p>*<strong>Sidenote:</strong> in Java, we use access modifiers to encapsulate the data properly withing the class. And getter methods serve a mean of accessing the data. Don't keep the fields <code>public</code> (or package-private). If you're doing a lot of JavaScript you might be accustomed to this <code>location.address.number</code>, but in Java it's not appropriate.</p>\n"}],"owner":{"account_id":5635704,"reputation":3288,"user_id":4461271,"accept_rate":0,"display_name":"midi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74745150,"answer_count":1,"score":-1,"last_activity_date":1670843480,"creation_date":1670599176,"question_id":74745030,"body_markdown":"Here&#39;s my domain classes `Location` and `Address`:\r\n\r\n    public class Location {\r\n        GPS gps;\r\n        Address address;\r\n        // etc.\r\n    }\r\n\r\n    public class Address {\r\n        String street;\r\n        String number;\r\n        // etc.\r\n    }\r\n\r\nLet&#39;s say I have a List of `String`&#39;s \r\n\r\n    List&lt;String&gt; houseNumbers\r\n\r\nand a List of `Locations` \r\n\r\n    List&lt;Location&gt; locations\r\n\r\nNow, I want to have only those `Location`s where the `Location.address.number` matches with any of the `String`s in the `houseNumbers` list.\r\n\r\nI&#39;ve the following, which produces a compilation error: *&quot;expecting a \r\n`Predicate &lt;? super java.lang.String&gt;` instead of a String&quot;*.\r\n\r\n*My attempt:*\r\n\r\n```\r\nList&lt;Location&gt; filteredLocations = locations.stream()\r\n    .anyMatch(location -&gt; \r\n        housenumbers.stream().anyMatch(location.address.number)\r\n    );\r\n```\r\n\r\nBut how do I make sure to compare to every item in the `houseNumbers` List?\r\n\r\nThe following snippet did the trick:\r\n\r\n    List&lt;Location&gt; filteredLocations = \r\n     locations.stream().filter(\r\n       location -&gt; housenumbers.contains(location.address.number)\r\n    ).collect(Collectors.toList());\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to obtain an Intersection of a List of complex custom Objects and a List of its String attributes and in Java using Stream API","body":"<p>Here's my domain classes <code>Location</code> and <code>Address</code>:</p>\n<pre><code>public class Location {\n    GPS gps;\n    Address address;\n    // etc.\n}\n\npublic class Address {\n    String street;\n    String number;\n    // etc.\n}\n</code></pre>\n<p>Let's say I have a List of <code>String</code>'s</p>\n<pre><code>List&lt;String&gt; houseNumbers\n</code></pre>\n<p>and a List of <code>Locations</code></p>\n<pre><code>List&lt;Location&gt; locations\n</code></pre>\n<p>Now, I want to have only those <code>Location</code>s where the <code>Location.address.number</code> matches with any of the <code>String</code>s in the <code>houseNumbers</code> list.</p>\n<p>I've the following, which produces a compilation error: <em>&quot;expecting a\n<code>Predicate &lt;? super java.lang.String&gt;</code> instead of a String&quot;</em>.</p>\n<p><em>My attempt:</em></p>\n<pre><code>List&lt;Location&gt; filteredLocations = locations.stream()\n    .anyMatch(location -&gt; \n        housenumbers.stream().anyMatch(location.address.number)\n    );\n</code></pre>\n<p>But how do I make sure to compare to every item in the <code>houseNumbers</code> List?</p>\n<p>The following snippet did the trick:</p>\n<pre><code>List&lt;Location&gt; filteredLocations = \n locations.stream().filter(\n   location -&gt; housenumbers.contains(location.address.number)\n).collect(Collectors.toList());\n</code></pre>\n"},{"tags":["java","iframe","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":2649349,"reputation":5377,"user_id":2291424,"accept_rate":100,"display_name":"Mark Rowlands"},"score":0,"creation_date":1410171387,"post_id":25721263,"comment_id":40211504,"body_markdown":"I don&#39;t use `className` all that often for finding elements but I&#39;m pretty sure that it can&#39;t include any white=space in the parameter. Did you try using `cssSlector` instead? `driver.findElement(By.CssSelector(&quot;cke_wysiwyg_frame.cke_reset&quot;));`","body":"I don&#39;t use <code>className</code> all that often for finding elements but I&#39;m pretty sure that it can&#39;t include any white=space in the parameter. Did you try using <code>cssSlector</code> instead? <code>driver.findElement(By.CssSelector(&quot;cke_wysiwyg_frame.cke_res&zwnj;&#8203;et&quot;));</code>"}],"answers":[{"tags":[],"owner":{"account_id":2825207,"reputation":151,"user_id":2427995,"display_name":"mfsi_krushnas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1460986526,"creation_date":1410174419,"answer_id":25722877,"question_id":25721263,"body_markdown":"You cant select an iFrame using class.Check the webdriver documentation using : - \r\n\r\nhttps://selenium.googlecode.com/git/docs/api/java/org/openqa/selenium/WebDriver.TargetLocator.html\r\n\r\n1. You can switch to iFrame by &#39;Name&#39;/&#39;id&#39; attribute.\r\n\r\n        driver.switchTo().frame(&quot;frame1&quot;);\r\n\r\n2. You can switch by frame index.\r\n\r\n        driver.switchTo().frame(driver.findElements(By.tagName(&quot;iframe&quot;).get(0));\r\n\r\n\r\nNow you have to check in the whole page how many iFrames are present ?? If its say : 3, use the 3rd iFrame always.\r\n\r\n    driver.switchTo().frame(driver.findElements(By.tagName(&quot;iframe&quot;).get(3));\r\n\r\nI hope it helps.","title":"Can&#39;t select an Iframe in selenium webdriver","body":"<p>You cant select an iFrame using class.Check the webdriver documentation using : - </p>\n\n<p><a href=\"https://selenium.googlecode.com/git/docs/api/java/org/openqa/selenium/WebDriver.TargetLocator.html\" rel=\"nofollow\">https://selenium.googlecode.com/git/docs/api/java/org/openqa/selenium/WebDriver.TargetLocator.html</a></p>\n\n<ol>\n<li><p>You can switch to iFrame by 'Name'/'id' attribute.</p>\n\n<pre><code>driver.switchTo().frame(\"frame1\");\n</code></pre></li>\n<li><p>You can switch by frame index.</p>\n\n<pre><code>driver.switchTo().frame(driver.findElements(By.tagName(\"iframe\").get(0));\n</code></pre></li>\n</ol>\n\n<p>Now you have to check in the whole page how many iFrames are present ?? If its say : 3, use the 3rd iFrame always.</p>\n\n<pre><code>driver.switchTo().frame(driver.findElements(By.tagName(\"iframe\").get(3));\n</code></pre>\n\n<p>I hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":2825207,"reputation":151,"user_id":2427995,"display_name":"mfsi_krushnas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1410182594,"creation_date":1410182594,"answer_id":25725292,"question_id":25721263,"body_markdown":"Yes, there was a mistake..Ok you can do one thing..Manually count how many iframe are there in the page, if its 3rd one whre you want to switch.\r\n\r\nDirectly specify the int value as doc says, \r\n\r\n    driver.switchTo().frame(index)\r\n\r\nSo your code can become something like this : -\r\n\r\n    driver.switchTo().frame(3);\r\n\r\nAnd dont forget to get back to default Content.\r\n\r\n    driver.switchTo().defaultContent();\r\n\r\nPlease let me know if that works or not.","title":"Can&#39;t select an Iframe in selenium webdriver","body":"<p>Yes, there was a mistake..Ok you can do one thing..Manually count how many iframe are there in the page, if its 3rd one whre you want to switch.</p>\n\n<p>Directly specify the int value as doc says, </p>\n\n<pre><code>driver.switchTo().frame(index)\n</code></pre>\n\n<p>So your code can become something like this : -</p>\n\n<pre><code>driver.switchTo().frame(3);\n</code></pre>\n\n<p>And dont forget to get back to default Content.</p>\n\n<pre><code>driver.switchTo().defaultContent();\n</code></pre>\n\n<p>Please let me know if that works or not.</p>\n"},{"tags":[],"owner":{"account_id":4869518,"reputation":683,"user_id":3926533,"accept_rate":88,"display_name":"Ali Hamadi"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1460986538,"creation_date":1410529973,"answer_id":25809942,"question_id":25721263,"body_markdown":"the problem was solved by finding the iFrame by xpath \r\n\r\n \r\n\r\n    driver.switchTo().defaultContent();\r\n    driver.switchTo().frame( driver.findElement( By.xpath( iframeXpath ) ) );\r\n\r\nand then return to the top window:\r\n\r\n     driver.switchTo().defaultContent();","title":"Can&#39;t select an Iframe in selenium webdriver","body":"<p>the problem was solved by finding the iFrame by xpath </p>\n\n<pre><code>driver.switchTo().defaultContent();\ndriver.switchTo().frame( driver.findElement( By.xpath( iframeXpath ) ) );\n</code></pre>\n\n<p>and then return to the top window:</p>\n\n<pre><code> driver.switchTo().defaultContent();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4722999,"reputation":593,"user_id":3820418,"display_name":"Jlearner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670843340,"creation_date":1670843340,"answer_id":74770220,"question_id":25721263,"body_markdown":"We can also get an element using locator to that iframe then switch to iframe using that element. more info [here][1] \r\n\r\n    // Store the web element\r\n    const iframe = driver.findElement(By.css(&#39;#modal &gt; iframe&#39;));\r\n    \r\n    // Switch to the frame\r\n    await driver.switchTo().frame(iframe);\r\n\r\n\r\n  [1]: https://www.selenium.dev/documentation/webdriver/interactions/frames/#using-a-webelement","title":"Can&#39;t select an Iframe in selenium webdriver","body":"<p>We can also get an element using locator to that iframe then switch to iframe using that element. more info <a href=\"https://www.selenium.dev/documentation/webdriver/interactions/frames/#using-a-webelement\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>// Store the web element\nconst iframe = driver.findElement(By.css('#modal &gt; iframe'));\n\n// Switch to the frame\nawait driver.switchTo().frame(iframe);\n</code></pre>\n"}],"owner":{"account_id":4869518,"reputation":683,"user_id":3926533,"accept_rate":88,"display_name":"Ali Hamadi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27912,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":25809942,"answer_count":4,"score":6,"last_activity_date":1670843340,"creation_date":1410169033,"question_id":25721263,"body_markdown":"I am trying to select an `Iframe` by a class name but it&#39;s not working , I am trying with `tagName` it works but then when I tried to type within the element in the `Iframe` I couldn&#39;t, could you please help me here is my code:\r\n\r\n    webDriver driver.switchTo().frame( driver.findElement( By.className( &quot;cke_wysiwyg_frame cke_reset&quot; ) ) );\r\n    driver.findElement( By.xpath( &quot;//body[contains(text(),&#39;type here&#39;)]&quot; ) ).sendKeys( &quot;Testing&quot; );\r\n\r\nAnd here is the HTML in my webpage:\r\n\r\n    &lt;div id=&quot;cke_534_contents&quot; class=&quot;cke_contents cke_reset&quot; role=&quot;presentation&quot; style=&quot;height: 75px;&quot;&gt;\r\n       &lt;span id=&quot;cke_586&quot; class=&quot;cke_voice_label&quot;&gt;Press ALT 0 for help&lt;/span&gt;\r\n       &lt;iframe class=&quot;cke_wysiwyg_frame cke_reset&quot; frameborder=&quot;0&quot; src=&quot;&quot; style=&quot;width: 100%; height: 100%;&quot; aria-describedby=&quot;cke_586&quot; tabindex=&quot;0&quot; allowtransparency=&quot;true&quot;&gt;\r\n          &lt;!DOCTYPE html&gt;\r\n          &lt;html lang=&quot;en-gb&quot; dir=&quot;ltr&quot;&gt;\r\n             &lt;head&gt;\r\n             &lt;body class=&quot;cke_editable cke_editable_themed cke_contents_ltr cke_show_borders&quot; contenteditable=&quot;true&quot; spellcheck=&quot;true&quot;&gt;\r\n                type here\r\n             &lt;/body&gt;\r\n          &lt;/html&gt;\r\n       &lt;/iframe&gt;\r\n    &lt;/div&gt;","title":"Can&#39;t select an Iframe in selenium webdriver","body":"<p>I am trying to select an <code>Iframe</code> by a class name but it's not working , I am trying with <code>tagName</code> it works but then when I tried to type within the element in the <code>Iframe</code> I couldn't, could you please help me here is my code:</p>\n\n<pre><code>webDriver driver.switchTo().frame( driver.findElement( By.className( \"cke_wysiwyg_frame cke_reset\" ) ) );\ndriver.findElement( By.xpath( \"//body[contains(text(),'type here')]\" ) ).sendKeys( \"Testing\" );\n</code></pre>\n\n<p>And here is the HTML in my webpage:</p>\n\n<pre><code>&lt;div id=\"cke_534_contents\" class=\"cke_contents cke_reset\" role=\"presentation\" style=\"height: 75px;\"&gt;\n   &lt;span id=\"cke_586\" class=\"cke_voice_label\"&gt;Press ALT 0 for help&lt;/span&gt;\n   &lt;iframe class=\"cke_wysiwyg_frame cke_reset\" frameborder=\"0\" src=\"\" style=\"width: 100%; height: 100%;\" aria-describedby=\"cke_586\" tabindex=\"0\" allowtransparency=\"true\"&gt;\n      &lt;!DOCTYPE html&gt;\n      &lt;html lang=\"en-gb\" dir=\"ltr\"&gt;\n         &lt;head&gt;\n         &lt;body class=\"cke_editable cke_editable_themed cke_contents_ltr cke_show_borders\" contenteditable=\"true\" spellcheck=\"true\"&gt;\n            type here\n         &lt;/body&gt;\n      &lt;/html&gt;\n   &lt;/iframe&gt;\n&lt;/div&gt;\n</code></pre>\n"},{"tags":["java","keycloak","quarkus"],"comments":[{"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"score":0,"creation_date":1670843571,"post_id":74764462,"comment_id":131959218,"body_markdown":"Hi, I&#39;ve tested https://github.com/sberyozkin/quarkus-quickstarts/tree/main/security-keycloak-authorization-quickstart, and I can see with `curl` that a user name is returned. Please make sure Keycloak is configured to return a username - I did not have to use any specific configuration though. Re the policy enforcer - not sure why you are seeing it as the quickstart this tutorial is based upon works - please don&#39;t forget to import a keycloak realm","body":"Hi, I&#39;ve tested <a href=\"https://github.com/sberyozkin/quarkus-quickstarts/tree/main/security-keycloak-authorization-quickstart\" rel=\"nofollow noreferrer\">github.com/sberyozkin/quarkus-quickstarts/tree/main/&hellip;</a>, and I can see with <code>curl</code> that a user name is returned. Please make sure Keycloak is configured to return a username - I did not have to use any specific configuration though. Re the policy enforcer - not sure why you are seeing it as the quickstart this tutorial is based upon works - please don&#39;t forget to import a keycloak realm"},{"owner":{"account_id":15053267,"reputation":71,"user_id":10864375,"display_name":"Bram Breda"},"score":0,"creation_date":1670844530,"post_id":74764462,"comment_id":131959555,"body_markdown":"The problem is that I need to use a specific realm, so I can&#39;t use the one of the tutorial. I am more looking at what kind of settings I need to change within keycloak to get the ID or the username.","body":"The problem is that I need to use a specific realm, so I can&#39;t use the one of the tutorial. I am more looking at what kind of settings I need to change within keycloak to get the ID or the username."},{"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"score":0,"creation_date":1670846158,"post_id":74764462,"comment_id":131960044,"body_markdown":"I see, perhaps the simplest way forward is to import the demo realm, check how a user such as `alice` is configured compared to how users are configured in your realm and align as needed. FYI, Keycloak typically uses `preferred_username` claim to pass the user name in the token so check in the demo realm if `preferred_username` is explicitly allowed etc. And likewise, as far as the policy enforcement is concerned - note you should only use the policy enforcer if you intend to use Keycloak to have authorization decisions as opposed to the local RBAC","body":"I see, perhaps the simplest way forward is to import the demo realm, check how a user such as <code>alice</code> is configured compared to how users are configured in your realm and align as needed. FYI, Keycloak typically uses <code>preferred_username</code> claim to pass the user name in the token so check in the demo realm if <code>preferred_username</code> is explicitly allowed etc. And likewise, as far as the policy enforcement is concerned - note you should only use the policy enforcer if you intend to use Keycloak to have authorization decisions as opposed to the local RBAC"}],"owner":{"account_id":15053267,"reputation":71,"user_id":10864375,"display_name":"Bram Breda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670843321,"creation_date":1670792245,"question_id":74764462,"body_markdown":"I&#39;m running a quarkus setup with keycloak. To start of I am trying to implement the [tutorial][1] into my code. I have to note here that i didn&#39;t copy the realm that is used. The reason for this is that we received a realm from our tutors.\r\n\r\nThis is the code I am trying to implement. The problem with is that it doesn&#39;t return the user. \r\n\r\n``` lang-java\r\n@Path(&quot;/api/users&quot;)\r\npublic class UserResource {\r\n    @Inject\r\n    SecurityIdentity identity;\r\n\r\n    @GET\r\n    @Path(&quot;/me&quot;)\r\n    @NoCache\r\n    public User me() {\r\n        return new User(identity);\r\n    }\r\n\r\n    public static class User {\r\n        private final String userName;\r\n\r\n        User(SecurityIdentity identity) {\r\n            this.userName = identity.getPrincipal().getName();\r\n        }\r\n\r\n        public String getUserName() {\r\n            return userName;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen I enabled policy enforcer, I wasn&#39;t even able to login, all request became 403 or 401.\r\n\r\n    quarkus.keycloak.policy-enforcer.enable=true\r\n\r\nHow can we solve this issue?\r\n\r\nAnother question would be if it is possible to retrieve some sort of userId from keycloak? \r\n\r\n  [1]: https://quarkus.io/guides/security-keycloak-authorization","title":"How can i retrieve the username form the keycloak user?","body":"<p>I'm running a quarkus setup with keycloak. To start of I am trying to implement the <a href=\"https://quarkus.io/guides/security-keycloak-authorization\" rel=\"nofollow noreferrer\">tutorial</a> into my code. I have to note here that i didn't copy the realm that is used. The reason for this is that we received a realm from our tutors.</p>\n<p>This is the code I am trying to implement. The problem with is that it doesn't return the user.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;/api/users&quot;)\npublic class UserResource {\n    @Inject\n    SecurityIdentity identity;\n\n    @GET\n    @Path(&quot;/me&quot;)\n    @NoCache\n    public User me() {\n        return new User(identity);\n    }\n\n    public static class User {\n        private final String userName;\n\n        User(SecurityIdentity identity) {\n            this.userName = identity.getPrincipal().getName();\n        }\n\n        public String getUserName() {\n            return userName;\n        }\n    }\n}\n</code></pre>\n<p>When I enabled policy enforcer, I wasn't even able to login, all request became 403 or 401.</p>\n<pre><code>quarkus.keycloak.policy-enforcer.enable=true\n</code></pre>\n<p>How can we solve this issue?</p>\n<p>Another question would be if it is possible to retrieve some sort of userId from keycloak?</p>\n"},{"tags":["java","maven","protege","osgi-bundle","apache-felix"],"owner":{"account_id":19395325,"reputation":2019,"user_id":14183155,"display_name":"Vivere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670843199,"creation_date":1670843199,"question_id":74770188,"body_markdown":"Context: I&#39;m building a [PROTEGE][1] plugin and I am having trouble with bundling the jar. When starting protege, this is the log that I am getting:\r\n\r\n```\r\n[FelixStartLevel] ERROR FrameworkSlf4jLogger    Error starting file:&lt;someName&gt;-1.0.jar\r\norg.osgi.framework.BundleException: Unable to resolve &lt;someName&gt;[28](R 28.0): missing requirement [&lt;someName&gt;[28](R 28.0)] osgi.wiring.package; (osgi.wiring.package=org.neo4j.cypherdsl.core) Unresolved requirements: [[&lt;someName&gt;[28](R 28.0)] osgi.wiring.package; (osgi.wiring.package=org.neo4j.cypherdsl.core)]\r\n\tat org.apache.felix.framework.Felix.resolveBundleRevision(Felix.java:4111) ~[org.apache.felix.main.jar:na]\r\n\tat org.apache.felix.framework.Felix.startBundle(Felix.java:2117) ~[org.apache.felix.main.jar:na]\r\n\tat org.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1371) ~[org.apache.felix.main.jar:na]\r\n\tat org.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStartLevelImpl.java:308) [org.apache.felix.main.jar:na]\r\n\tat java.lang.Thread.run(Thread.java:745) [na:1.8.0_121]\r\n```\r\n\r\nI have a dependency on the `org.neo4j.cypherdsl.core` package in my POM, but I am not sure how to correctly include it into the jar such that I won&#39;t get the error above. My current POM file (relevant bits):\r\n\r\n```xml\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;edu.stanford.protege&lt;/groupId&gt;\r\n            &lt;artifactId&gt;protege-editor-owl&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;neo4j-cypher-dsl&lt;/artifactId&gt;\r\n            &lt;version&gt;2022.8.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;!-- Use resource filtering to replace references to the artifactId in the plugin.xml file --&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.5&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.1&lt;/version&gt;\r\n                &lt;extensions&gt;true&lt;/extensions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;instructions&gt;\r\n                        &lt;Bundle-Activator&gt;org.protege.editor.owl.ProtegeOWL&lt;/Bundle-Activator&gt;\r\n                        &lt;Bundle-SymbolicName&gt;${project.artifactId};singleton:=true&lt;/Bundle-SymbolicName&gt;\r\n                        &lt;Bundle-Vendor&gt;edu.stanford.protege.&lt;someName&gt;&lt;/Bundle-Vendor&gt;\r\n                        &lt;Bundle-ClassPath&gt;.&lt;/Bundle-ClassPath&gt;\r\n                        &lt;Export-Package&gt;\r\n                            edu.stanford.protege.&lt;someName&gt;.*\r\n                        &lt;/Export-Package&gt;\r\n                        &lt;Import-Package&gt;\r\n                            org.protege.editor.owl.*;version=&quot;5.0.0&quot;, &lt;!-- equivalent to [5.0.0,infinity) --&gt;\r\n                            org.neo4j.cypherdsl.core,\r\n                            *\r\n                        &lt;/Import-Package&gt;\r\n                        &lt;Include-Resource&gt;{maven-resources}&lt;/Include-Resource&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;bundle-manifest&lt;/id&gt;\r\n                                &lt;phase&gt;install&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;manifest&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/instructions&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nMy understanding was that if I include the package name in the `&lt;Import-Package&gt;` node, then it would work. However, I did not manage to solve the error.\r\n\r\n  [1]: https://protege.stanford.edu/","title":"How to configure POM to resolve osgi.wiring.package missing requirements issues","body":"<p>Context: I'm building a <a href=\"https://protege.stanford.edu/\" rel=\"nofollow noreferrer\">PROTEGE</a> plugin and I am having trouble with bundling the jar. When starting protege, this is the log that I am getting:</p>\n<pre><code>[FelixStartLevel] ERROR FrameworkSlf4jLogger    Error starting file:&lt;someName&gt;-1.0.jar\norg.osgi.framework.BundleException: Unable to resolve &lt;someName&gt;[28](R 28.0): missing requirement [&lt;someName&gt;[28](R 28.0)] osgi.wiring.package; (osgi.wiring.package=org.neo4j.cypherdsl.core) Unresolved requirements: [[&lt;someName&gt;[28](R 28.0)] osgi.wiring.package; (osgi.wiring.package=org.neo4j.cypherdsl.core)]\n    at org.apache.felix.framework.Felix.resolveBundleRevision(Felix.java:4111) ~[org.apache.felix.main.jar:na]\n    at org.apache.felix.framework.Felix.startBundle(Felix.java:2117) ~[org.apache.felix.main.jar:na]\n    at org.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1371) ~[org.apache.felix.main.jar:na]\n    at org.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStartLevelImpl.java:308) [org.apache.felix.main.jar:na]\n    at java.lang.Thread.run(Thread.java:745) [na:1.8.0_121]\n</code></pre>\n<p>I have a dependency on the <code>org.neo4j.cypherdsl.core</code> package in my POM, but I am not sure how to correctly include it into the jar such that I won't get the error above. My current POM file (relevant bits):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;edu.stanford.protege&lt;/groupId&gt;\n            &lt;artifactId&gt;protege-editor-owl&lt;/artifactId&gt;\n            &lt;version&gt;5.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\n            &lt;artifactId&gt;neo4j-cypher-dsl&lt;/artifactId&gt;\n            &lt;version&gt;2022.8.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;!-- Use resource filtering to replace references to the artifactId in the plugin.xml file --&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.1&lt;/version&gt;\n                &lt;extensions&gt;true&lt;/extensions&gt;\n                &lt;configuration&gt;\n                    &lt;instructions&gt;\n                        &lt;Bundle-Activator&gt;org.protege.editor.owl.ProtegeOWL&lt;/Bundle-Activator&gt;\n                        &lt;Bundle-SymbolicName&gt;${project.artifactId};singleton:=true&lt;/Bundle-SymbolicName&gt;\n                        &lt;Bundle-Vendor&gt;edu.stanford.protege.&lt;someName&gt;&lt;/Bundle-Vendor&gt;\n                        &lt;Bundle-ClassPath&gt;.&lt;/Bundle-ClassPath&gt;\n                        &lt;Export-Package&gt;\n                            edu.stanford.protege.&lt;someName&gt;.*\n                        &lt;/Export-Package&gt;\n                        &lt;Import-Package&gt;\n                            org.protege.editor.owl.*;version=&quot;5.0.0&quot;, &lt;!-- equivalent to [5.0.0,infinity) --&gt;\n                            org.neo4j.cypherdsl.core,\n                            *\n                        &lt;/Import-Package&gt;\n                        &lt;Include-Resource&gt;{maven-resources}&lt;/Include-Resource&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;bundle-manifest&lt;/id&gt;\n                                &lt;phase&gt;install&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;manifest&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/instructions&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>My understanding was that if I include the package name in the <code>&lt;Import-Package&gt;</code> node, then it would work. However, I did not manage to solve the error.</p>\n"},{"tags":["java","spring","spring-boot","enums","spring-data-jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670839802,"post_id":74769428,"comment_id":131958063,"body_markdown":"`org.hibernate.query.spi.QueryParameterBindingValidator` is not part of spring, but of hibernate. And hibernate requires an `@Enumerated(EnumType.STRING)` on the field","body":"<code>org.hibernate.query.spi.QueryParameterBindingValidator</code> is not part of spring, but of hibernate. And hibernate requires an <code>@Enumerated(EnumType.STRING)</code> on the field"},{"owner":{"account_id":13033187,"reputation":115,"user_id":9418969,"display_name":"okariotis"},"score":0,"creation_date":1670843029,"post_id":74769428,"comment_id":131959054,"body_markdown":"You are right, I mispoke by saying it&#39;s Spring&#39;s. Also, my enum field is already annotated with @Enumerated(EnumType.STRING), and I am debugging this in a freshly created database (mysql) so it is indeed a varchar column - Sorry I forgot to mention it!","body":"You are right, I mispoke by saying it&#39;s Spring&#39;s. Also, my enum field is already annotated with @Enumerated(EnumType.STRING), and I am debugging this in a freshly created database (mysql) so it is indeed a varchar column - Sorry I forgot to mention it!"}],"owner":{"account_id":13033187,"reputation":115,"user_id":9418969,"display_name":"okariotis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670842946,"creation_date":1670839503,"question_id":74769428,"body_markdown":"I am using **Spring Boot** (2.7.3) and **Sipios&#39; library for Spring Search** for JPA Entities (https://github.com/sipios/spring-search).\r\n\r\nI am trying make a search based on one of my class&#39;s enum fields, but receive the following error:  \r\n**_InvalidDataAccessApiUsageException: Parameter value [FIRST] did not match expected type [*.MY_ENUM (n/a)];_**\r\n\r\nTo make it clear through an **example**, let&#39;s say I have an entity-class &quot;**_MyClass_**&quot; which has a field &quot;_**MY_ENUM enumField**_&quot;, and _MY_ENUM_ has the values _(&#39;FIRST&#39;, &#39;SECOND&#39;, &#39;THIRD&#39;)_.  \r\nI am trying to query for all _MyClass_ entries that have the value &#39;_FIRST_&#39; in their _enumField_.  \r\nThe *enumField* is annotated with **@Enumerated(EnumType.STRING)**.\r\n\r\n\r\nFor those familiar with the specific library, my HTTP request is: **_localhost:8080/controller/search?search=enumField:FIRST_**.  \r\nI have also tried putting the _FIRST_ query param in single &amp; double quotes but the result was the same. \r\n\r\n**I have traced the problem** to Hibernate&#39;s _org.hibernate.query.spi.QueryParameterBindingValidator_, method _isValidBindValue()_.  \r\nMethod _isValidBindValue()_ checks whether value &quot;**_FIRST_**&quot; is of **_MY_ENUM_** type.\r\n\r\nMore specifically, the line that effectively causes the exception is _expectedType.isInstance(value)_, where _expectedType_ is &quot;_class MY_ENUM_&quot; and _value_ is &quot;_FIRST_&quot;, which evaluates to _**false**_ and thus the error message - values checked via Intellij&#39;s debugger.\r\n\r\nI have tried it with versions **0.2.3 &amp; 0.2.4** of sipios/spring-search.  \r\nI saw that version 0.2.3 should support querying enums but I couldn&#39;t find any relative examples on how to do it, so it may be possible I have misunderstood how to use _spring-search_, but **I would expect Spring Boot to recognise the &quot;*FIRST*&quot; string as an instance of *MY_ENUM* type**.","title":"Sipios&#39; Spring Boot JPA Search - Querying Enum","body":"<p>I am using <strong>Spring Boot</strong> (2.7.3) and <strong>Sipios' library for Spring Search</strong> for JPA Entities (<a href=\"https://github.com/sipios/spring-search\" rel=\"nofollow noreferrer\">https://github.com/sipios/spring-search</a>).</p>\n<p>I am trying make a search based on one of my class's enum fields, but receive the following error:<br />\n<strong><em>InvalidDataAccessApiUsageException: Parameter value [FIRST] did not match expected type [*.MY_ENUM (n/a)];</em></strong></p>\n<p>To make it clear through an <strong>example</strong>, let's say I have an entity-class &quot;<strong><em>MyClass</em></strong>&quot; which has a field &quot;<em><strong>MY_ENUM enumField</strong></em>&quot;, and <em>MY_ENUM</em> has the values <em>('FIRST', 'SECOND', 'THIRD')</em>.<br />\nI am trying to query for all <em>MyClass</em> entries that have the value '<em>FIRST</em>' in their <em>enumField</em>.<br />\nThe <em>enumField</em> is annotated with <strong>@Enumerated(EnumType.STRING)</strong>.</p>\n<p>For those familiar with the specific library, my HTTP request is: <strong><em>localhost:8080/controller/search?search=enumField:FIRST</em></strong>.<br />\nI have also tried putting the <em>FIRST</em> query param in single &amp; double quotes but the result was the same.</p>\n<p><strong>I have traced the problem</strong> to Hibernate's <em>org.hibernate.query.spi.QueryParameterBindingValidator</em>, method <em>isValidBindValue()</em>.<br />\nMethod <em>isValidBindValue()</em> checks whether value &quot;<strong><em>FIRST</em></strong>&quot; is of <strong><em>MY_ENUM</em></strong> type.</p>\n<p>More specifically, the line that effectively causes the exception is <em>expectedType.isInstance(value)</em>, where <em>expectedType</em> is &quot;<em>class MY_ENUM</em>&quot; and <em>value</em> is &quot;<em>FIRST</em>&quot;, which evaluates to <em><strong>false</strong></em> and thus the error message - values checked via Intellij's debugger.</p>\n<p>I have tried it with versions <strong>0.2.3 &amp; 0.2.4</strong> of sipios/spring-search.<br />\nI saw that version 0.2.3 should support querying enums but I couldn't find any relative examples on how to do it, so it may be possible I have misunderstood how to use <em>spring-search</em>, but <strong>I would expect Spring Boot to recognise the &quot;<em>FIRST</em>&quot; string as an instance of <em>MY_ENUM</em> type</strong>.</p>\n"},{"tags":["java","exception","ioexception"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670842389,"post_id":74769977,"comment_id":131958854,"body_markdown":"Probably because `@author  unascribed` thought it would fit there better","body":"Probably because <code>@author  unascribed</code> thought it would fit there better"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1670842522,"post_id":74769977,"comment_id":131958893,"body_markdown":"_Exception and all its subclasses are defined under java.lang package_ ehh .. no, please check the doc :)","body":"<i>Exception and all its subclasses are defined under java.lang package</i> ehh .. no, please check the doc :)"}],"answers":[{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670842452,"creation_date":1670842452,"answer_id":74770032,"question_id":74769977,"body_markdown":"A package is *not* a boundary for where classes can subclass/implement other classes or interfaces. They&#39;re merely a means to organize code that belongs together to the same &quot;general region&quot;.\r\n\r\nThe `java.lang` package does not know about everything in the world, so it&#39;s find to have exceptions elsewhere, also in your private `com.example.acme` package. And naturally, they&#39;d inherit/implement the subclasses/interfaces from elsewhere, be it `java.lang`, or any other package.","title":"What is the package under which IOException is defined in Java?","body":"<p>A package is <em>not</em> a boundary for where classes can subclass/implement other classes or interfaces. They're merely a means to organize code that belongs together to the same &quot;general region&quot;.</p>\n<p>The <code>java.lang</code> package does not know about everything in the world, so it's find to have exceptions elsewhere, also in your private <code>com.example.acme</code> package. And naturally, they'd inherit/implement the subclasses/interfaces from elsewhere, be it <code>java.lang</code>, or any other package.</p>\n"}],"owner":{"account_id":14685632,"reputation":19,"user_id":10950812,"display_name":"Mithra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1670842452,"creation_date":1670842176,"question_id":74769977,"body_markdown":"Exception and all its subclasses are defined under java.lang package.\r\nBut when the exception message for IOException is printed, unlike other exceptions, it says java.io.IOException rather than java.lang.IOException.\r\n\r\nWhy so?","title":"What is the package under which IOException is defined in Java?","body":"<p>Exception and all its subclasses are defined under java.lang package.\nBut when the exception message for IOException is printed, unlike other exceptions, it says java.io.IOException rather than java.lang.IOException.</p>\n<p>Why so?</p>\n"},{"tags":["java","spring","spring-boot","docker","docker-compose"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1670843215,"post_id":74769476,"comment_id":131959110,"body_markdown":"I think of Swarm as more of a cluster-based container engine than a password store.","body":"I think of Swarm as more of a cluster-based container engine than a password store."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670843220,"post_id":74769476,"comment_id":131959112,"body_markdown":"Does anybody else have never encrypt passwords, etc. in the docker-compose.yml and application.properties.yml files?","body":"Does anybody else have never encrypt passwords, etc. in the docker-compose.yml and application.properties.yml files?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670843313,"post_id":74769476,"comment_id":131959133,"body_markdown":"@DavidMaze Thanks for reply. Actually my purpose it to encrypt passwords in docker-compose.yml and application.properties.yml files rather than storing. So, is it a proper choice for my situation? Or what would you suggest?","body":"@DavidMaze Thanks for reply. Actually my purpose it to encrypt passwords in docker-compose.yml and application.properties.yml files rather than storing. So, is it a proper choice for my situation? Or what would you suggest?"},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1670844248,"post_id":74769476,"comment_id":131959469,"body_markdown":"If you have multiple hosts and you have a specific reason to not use Kubernetes then you could consider it.","body":"If you have multiple hosts and you have a specific reason to not use Kubernetes then you could consider it."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670844668,"post_id":74769476,"comment_id":131959593,"body_markdown":"I don&#39;t have neither Kubernetes nor multiple host. My purpose is only hiding secrets used in docker-compose.yml and application.properties.yml files on **PRODUCTION** environment. While sharing code with customer, I want to hide passwords on these files and let the customer to run the app by using a private key or any specific command.","body":"I don&#39;t have neither Kubernetes nor multiple host. My purpose is only hiding secrets used in docker-compose.yml and application.properties.yml files on <b>PRODUCTION</b> environment. While sharing code with customer, I want to hide passwords on these files and let the customer to run the app by using a private key or any specific command."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670845337,"post_id":74769476,"comment_id":131959794,"body_markdown":"In this case, should I use something like Jasypt? But it does not work properly giving error. Any idea?","body":"In this case, should I use something like Jasypt? But it does not work properly giving error. Any idea?"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670842346,"creation_date":1670839731,"question_id":74769476,"body_markdown":"In a Spring Boot app, I am just trying to encrypt passwords used in the `docker-compose.yml` and `application.properties.yml` files. But I am not sure if `Docker Swarm` is a proper option for me because I share the app with the customer who will run the app via the commands that I provide (e.g. docker-compose using Dockerfile in the project).\r\n\r\nSo, my questions are:\r\n\r\n**1.** Is `Docker Swarm` is a proper option for me to encrypt password in `docker-compose.yml` and `application.properties.yml` files?\r\n\r\n**2.** How can I encrypt the passwords, can you basically explain some steps? ","title":"Docker Swarm to encrypt password in application.properties as docker-compose?","body":"<p>In a Spring Boot app, I am just trying to encrypt passwords used in the <code>docker-compose.yml</code> and <code>application.properties.yml</code> files. But I am not sure if <code>Docker Swarm</code> is a proper option for me because I share the app with the customer who will run the app via the commands that I provide (e.g. docker-compose using Dockerfile in the project).</p>\n<p>So, my questions are:</p>\n<p><strong>1.</strong> Is <code>Docker Swarm</code> is a proper option for me to encrypt password in <code>docker-compose.yml</code> and <code>application.properties.yml</code> files?</p>\n<p><strong>2.</strong> How can I encrypt the passwords, can you basically explain some steps?</p>\n"},{"tags":["java","memory"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1670842414,"post_id":74769998,"comment_id":131958861,"body_markdown":"This feels like an [XY problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem): what are you actually trying to do?","body":"This feels like an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>: what are you actually trying to do?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1670848029,"post_id":74769998,"comment_id":131960632,"body_markdown":"In addition to the very important XY problem that Andy mentioned, there&#39;s also the problem that &quot;Java memory barrier&quot; and &quot;CPU level&quot; don&#39;t mix: Java is explicitly designed to *shield* you from all the nitty-gritty CPU-level details. Which means you don&#39;t *need* to know them but also can&#39;t directly interact with them from Java.","body":"In addition to the very important XY problem that Andy mentioned, there&#39;s also the problem that &quot;Java memory barrier&quot; and &quot;CPU level&quot; don&#39;t mix: Java is explicitly designed to <i>shield</i> you from all the nitty-gritty CPU-level details. Which means you don&#39;t <i>need</i> to know them but also can&#39;t directly interact with them from Java."}],"owner":{"account_id":6871197,"reputation":456,"user_id":5281466,"accept_rate":62,"display_name":"Matrix12"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670842295,"creation_date":1670842295,"question_id":74769998,"body_markdown":"I am wondering about the mechanism for Memory Barrier on the CPU level, not compile level. Is it possible in Java? The `synchronized` keyword introduces a memory barrier and different to consider like happens-before, etc. \r\nw\r\n\r\n","title":"Java Memory barrier on CPU level","body":"<p>I am wondering about the mechanism for Memory Barrier on the CPU level, not compile level. Is it possible in Java? The <code>synchronized</code> keyword introduces a memory barrier and different to consider like happens-before, etc.\nw</p>\n"},{"tags":["java","indexing","solr","lucene","solrcloud"],"comments":[{"owner":{"account_id":4469374,"reputation":8528,"user_id":3636071,"accept_rate":100,"display_name":"Abhijit Bashetti"},"score":0,"creation_date":1669980055,"post_id":74654678,"comment_id":131771424,"body_markdown":"If similarity model is changes then it may impact your search output","body":"If similarity model is changes then it may impact your search output"},{"owner":{"account_id":9923005,"reputation":21,"user_id":7345536,"display_name":"green blueday"},"score":0,"creation_date":1669980890,"post_id":74654678,"comment_id":131771721,"body_markdown":"I can see in the solr document similarity model has changed from default to BM25Similarity","body":"I can see in the solr document similarity model has changed from default to BM25Similarity"},{"owner":{"account_id":4469374,"reputation":8528,"user_id":3636071,"accept_rate":100,"display_name":"Abhijit Bashetti"},"score":0,"creation_date":1669981160,"post_id":74654678,"comment_id":131771810,"body_markdown":"yes...I have seen this in Elasticsearch as well where they have changes the default similarity model to BM25 and it has a different scoring formula than earlier TF/IDF ....hence you are facing this different search outputs","body":"yes...I have seen this in Elasticsearch as well where they have changes the default similarity model to BM25 and it has a different scoring formula than earlier TF/IDF ....hence you are facing this different search outputs"},{"owner":{"account_id":9923005,"reputation":21,"user_id":7345536,"display_name":"green blueday"},"score":0,"creation_date":1669984403,"post_id":74654678,"comment_id":131772858,"body_markdown":"but from document they have removed the default similarity class itself since 6 ? solr 5 response is the correct and desired response and I wanted to implement that in solr 8 too","body":"but from document they have removed the default similarity class itself since 6 ? solr 5 response is the correct and desired response and I wanted to implement that in solr 8 too"},{"owner":{"account_id":4469374,"reputation":8528,"user_id":3636071,"accept_rate":100,"display_name":"Abhijit Bashetti"},"score":0,"creation_date":1669984542,"post_id":74654678,"comment_id":131772903,"body_markdown":"check if you write your own custom similarity class and use in the schema.xml of solr","body":"check if you write your own custom similarity class and use in the schema.xml of solr"},{"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"score":1,"creation_date":1669984914,"post_id":74654678,"comment_id":131773023,"body_markdown":"A change of similarity model would only affect the scores calculated, not the number of entries returned. There might be a difference in how your date string gets tokenized, but generally: if you want to index a birth date, either use a date field with iso format, or if you want to keep this format, use a keyword tokenized field instead to avoid having it be split into `1989`, `01` and `01`.","body":"A change of similarity model would only affect the scores calculated, not the number of entries returned. There might be a difference in how your date string gets tokenized, but generally: if you want to index a birth date, either use a date field with iso format, or if you want to keep this format, use a keyword tokenized field instead to avoid having it be split into <code>1989</code>, <code>01</code> and <code>01</code>."},{"owner":{"account_id":9923005,"reputation":21,"user_id":7345536,"display_name":"green blueday"},"score":0,"creation_date":1670223839,"post_id":74654678,"comment_id":131817446,"body_markdown":"In solr 5 I was using solr.StandardTokenizerFactory and when I search with qf I was able to get the correct set of response, but with the same tokeniser I have to add &quot;&quot; to get the same result. \n\nin solr 5 : fq=birth_date:1989/01/01 \nin solr 8 : fq=birth_date:&quot;1989/01/01&quot;","body":"In solr 5 I was using solr.StandardTokenizerFactory and when I search with qf I was able to get the correct set of response, but with the same tokeniser I have to add &quot;&quot; to get the same result.   in solr 5 : fq=birth_date:1989/01/01  in solr 8 : fq=birth_date:&quot;1989/01/01&quot;"}],"answers":[{"tags":[],"owner":{"account_id":9923005,"reputation":21,"user_id":7345536,"display_name":"green blueday"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670842204,"creation_date":1670842204,"answer_id":74769982,"question_id":74654678,"body_markdown":"After debugging the input query saw that in solr5 the query searched was performing filter \r\n\r\n    &quot;parsed_filter_queries&quot;: [\r\n      &quot;PhraseQuery(birth_date:\\&quot;1989 01 01\\&quot;)&quot;\r\n    ]\r\n\r\nBut in solr 8 it was searching as \r\n\r\n&quot;parsed_filter_queries&quot;:[&quot;birth_date:1989 birth_date:01 birth_date:01&quot;]\r\n\r\nonly after adding double quotes in the fq it changed to phrase query\r\n\r\n**Another workaround was to use** \r\n\r\n    &lt;fieldtype name=&quot;birth_date&quot; class=&quot;solr.TextField&quot; sortMissingLast=&quot;true&quot; omitNorms=&quot;true&quot;&gt;\r\n       &lt;analyzer type=&quot;index&quot;&gt;\r\n          &lt;tokenizer class=&quot;solr.KeywordTokenizerFactory&quot; /&gt;\r\n          &lt;filter class=&quot;solr.PatternReplaceFilterFactory&quot; pattern=&quot;([^0-9])&quot; replacement=&quot;&quot; replace=&quot;all&quot; /&gt;\r\n       &lt;/analyzer&gt;\r\n       &lt;analyzer type=&quot;query&quot;&gt;\r\n          &lt;tokenizer class=&quot;solr.KeywordTokenizerFactory&quot; /&gt;\r\n          &lt;filter class=&quot;solr.PatternReplaceFilterFactory&quot; pattern=&quot;([^0-9])&quot; replacement=&quot;&quot; replace=&quot;all&quot; /&gt;\r\n       &lt;/analyzer&gt;\r\n    &lt;/fieldtype&gt;\r\n\r\n\r\nwhere the query eliminates all special character except numbers \r\n","title":"Search result difference for the same Tokenizers from solr 5 to 8","body":"<p>After debugging the input query saw that in solr5 the query searched was performing filter</p>\n<pre><code>&quot;parsed_filter_queries&quot;: [\n  &quot;PhraseQuery(birth_date:\\&quot;1989 01 01\\&quot;)&quot;\n]\n</code></pre>\n<p>But in solr 8 it was searching as</p>\n<p>&quot;parsed_filter_queries&quot;:[&quot;birth_date:1989 birth_date:01 birth_date:01&quot;]</p>\n<p>only after adding double quotes in the fq it changed to phrase query</p>\n<p><strong>Another workaround was to use</strong></p>\n<pre><code>&lt;fieldtype name=&quot;birth_date&quot; class=&quot;solr.TextField&quot; sortMissingLast=&quot;true&quot; omitNorms=&quot;true&quot;&gt;\n   &lt;analyzer type=&quot;index&quot;&gt;\n      &lt;tokenizer class=&quot;solr.KeywordTokenizerFactory&quot; /&gt;\n      &lt;filter class=&quot;solr.PatternReplaceFilterFactory&quot; pattern=&quot;([^0-9])&quot; replacement=&quot;&quot; replace=&quot;all&quot; /&gt;\n   &lt;/analyzer&gt;\n   &lt;analyzer type=&quot;query&quot;&gt;\n      &lt;tokenizer class=&quot;solr.KeywordTokenizerFactory&quot; /&gt;\n      &lt;filter class=&quot;solr.PatternReplaceFilterFactory&quot; pattern=&quot;([^0-9])&quot; replacement=&quot;&quot; replace=&quot;all&quot; /&gt;\n   &lt;/analyzer&gt;\n&lt;/fieldtype&gt;\n</code></pre>\n<p>where the query eliminates all special character except numbers</p>\n"}],"owner":{"account_id":9923005,"reputation":21,"user_id":7345536,"display_name":"green blueday"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74769982,"answer_count":1,"score":0,"last_activity_date":1670842204,"creation_date":1669978768,"question_id":74654678,"body_markdown":"I have indexed records which contains a filed called birth-date , its not a stored field and also not a date field , it is a text field (solr.TextField) , with a &quot;standard Tokenizers&quot; . In solr 5 when I did a search query\r\n\r\n`q=*:*&amp;fq=birth_date:1989/01/01 `\r\n\r\nI got filtered 33 odd records but when I am doing the same in solr 8 (with the same property ) ,I get more than 6000 results .\r\n\r\nBelow is the schema of the field\r\n\r\n\r\n```\r\n&lt;fieldtype name=&#39;birth_date&#39; class=&#39;solr.TextField&#39; sortMissingLast=&#39;true&#39; omitNorms=&#39;true&#39;\\&gt;\r\n   &lt;analyzer\\&gt;\r\n      &lt;tokenizer class=&#39;solr.StandardTokenizerFactory&#39;/\\&gt;\r\n   &lt;/analyzer\\&gt;\r\n&lt;/fieldtype\\&gt;\r\n\r\n&lt;field name=&#39;birth_date&#39; type=&#39;birth_date&#39; indexed=&#39;true&#39; stored=&#39;false&#39; multiValued=&#39;false&#39; required=&#39;false&#39;/\\&gt;\r\n\r\n```\r\n\r\nFrom solr 5 to 8 I don&#39;t see any change in solr.StandardTokenizerFactory but I did notice default &quot;similarity&quot; has changed , wanted to know why the search not giving same output\r\n\r\ntied to hit `q=*:*&amp;fq=birth_date:1989/01/01 ` , we should get same number of response in solr 5 and solr 8 ","title":"Search result difference for the same Tokenizers from solr 5 to 8","body":"<p>I have indexed records which contains a filed called birth-date , its not a stored field and also not a date field , it is a text field (solr.TextField) , with a &quot;standard Tokenizers&quot; . In solr 5 when I did a search query</p>\n<p><code>q=*:*&amp;fq=birth_date:1989/01/01 </code></p>\n<p>I got filtered 33 odd records but when I am doing the same in solr 8 (with the same property ) ,I get more than 6000 results .</p>\n<p>Below is the schema of the field</p>\n<pre><code>&lt;fieldtype name='birth_date' class='solr.TextField' sortMissingLast='true' omitNorms='true'\\&gt;\n   &lt;analyzer\\&gt;\n      &lt;tokenizer class='solr.StandardTokenizerFactory'/\\&gt;\n   &lt;/analyzer\\&gt;\n&lt;/fieldtype\\&gt;\n\n&lt;field name='birth_date' type='birth_date' indexed='true' stored='false' multiValued='false' required='false'/\\&gt;\n\n</code></pre>\n<p>From solr 5 to 8 I don't see any change in solr.StandardTokenizerFactory but I did notice default &quot;similarity&quot; has changed , wanted to know why the search not giving same output</p>\n<p>tied to hit <code>q=*:*&amp;fq=birth_date:1989/01/01 </code> , we should get same number of response in solr 5 and solr 8</p>\n"},{"tags":["java","ssl"],"answers":[{"tags":[],"owner":{"account_id":1972810,"reputation":393,"user_id":1771330,"accept_rate":38,"display_name":"Shivaji_Vidhale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635237552,"creation_date":1635237552,"answer_id":69719963,"question_id":65094260,"body_markdown":"You have `ssl.clientAuth` set to `need`. If that is the case, you will have to provide the ZK client config data via a config file using `bin/zkCli.sh -client-configuration client.conf -server localhost:2281` And have the client cert data (truststore/keystore) mentioned along with the server certs to trust in `client.conf`. You can even have the `CLIENT_JVMARGS` set as environment variable as explained in this [ZooKeeper SSL Guide][1]\r\n\r\nA quick way to test connectivity to ZK over TLS would be to `disable` `ssl.clientAuth` on the server side and run a 4 letter word command such as `srvr`, `stat`, or `mntr` with `nc` as: \r\n\r\n`echo mntr | nc --ssl localhost:2281`\r\n\r\nThis will tell you if TLS is setup correctly on the server side and you can connect to the `securePort`. \r\n\r\n\r\n  [1]: https://cwiki.apache.org/confluence/display/ZOOKEEPER/ZooKeeper+SSL+User+Guide","title":"zkCli.sh connect to server on SSL port 2281","body":"<p>You have <code>ssl.clientAuth</code> set to <code>need</code>. If that is the case, you will have to provide the ZK client config data via a config file using <code>bin/zkCli.sh -client-configuration client.conf -server localhost:2281</code> And have the client cert data (truststore/keystore) mentioned along with the server certs to trust in <code>client.conf</code>. You can even have the <code>CLIENT_JVMARGS</code> set as environment variable as explained in this <a href=\"https://cwiki.apache.org/confluence/display/ZOOKEEPER/ZooKeeper+SSL+User+Guide\" rel=\"nofollow noreferrer\">ZooKeeper SSL Guide</a></p>\n<p>A quick way to test connectivity to ZK over TLS would be to <code>disable</code> <code>ssl.clientAuth</code> on the server side and run a 4 letter word command such as <code>srvr</code>, <code>stat</code>, or <code>mntr</code> with <code>nc</code> as:</p>\n<p><code>echo mntr | nc --ssl localhost:2281</code></p>\n<p>This will tell you if TLS is setup correctly on the server side and you can connect to the <code>securePort</code>.</p>\n"},{"tags":[],"owner":{"account_id":27227633,"reputation":1,"user_id":20755889,"display_name":"user20755889"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670841915,"creation_date":1670841915,"answer_id":74769918,"question_id":65094260,"body_markdown":"you dont have to disable ssl.clientAuth\r\nthis command still works (note remove &quot;:&quot;)\r\n`echo mntr | nc --ssl localhost 2281` \r\n`echo ruok | nc --ssl localhost 2281` returns imok too.\r\n\r\n`/etc/zookeeper/secrets/cert.pem`. -- this line seems suspicious. generally you need a jks file form with both cert and key pem entries. seems like you only provide cert.pem and is this a combo file with both cert.pem and key.pem? anyway what worked for me is adding my cert.pem and key.pem to java keystore with a password and using it.\r\nfor ex: Step1 is to generate a pkcs12 and then generate a jks file from this \r\n\r\n    sudo openssl pkcs12 -export -in ${LOCATION_URL}/${CERTS_FOLDER}/cert.pem -inkey ${LOCATION_URL}/${KEYS_FOLDER}/key.pem -name serverpkcs12 -password pass:password &gt; serverpkcs12.p12`\r\n\r\n    keytool -importkeystore -srckeystore serverpkcs12.p12 -srcstoretype pkcs12 -destkeystore zkkeystore.jks -srcstorepass password -deststorepass password`\r\n    move zkkeystore.jks to /tmp\r\n    ssl.quorum.keyStore.location=/tmp/zkkeystore.jks\r\n    ssl.quorum.keyStore.password=password\r\n    ssl.keyStore.location=/tmp/zkkeystore.jks\r\n    ssl.keyStore.password=password\r\n\r\none more suggestion just set the host verification to false \r\non the client side and test it. once it starts working then enable it.\r\n\r\n","title":"zkCli.sh connect to server on SSL port 2281","body":"<p>you dont have to disable ssl.clientAuth\nthis command still works (note remove &quot;:&quot;)\n<code>echo mntr | nc --ssl localhost 2281</code>\n<code>echo ruok | nc --ssl localhost 2281</code> returns imok too.</p>\n<p><code>/etc/zookeeper/secrets/cert.pem</code>. -- this line seems suspicious. generally you need a jks file form with both cert and key pem entries. seems like you only provide cert.pem and is this a combo file with both cert.pem and key.pem? anyway what worked for me is adding my cert.pem and key.pem to java keystore with a password and using it.\nfor ex: Step1 is to generate a pkcs12 and then generate a jks file from this</p>\n<pre><code>sudo openssl pkcs12 -export -in ${LOCATION_URL}/${CERTS_FOLDER}/cert.pem -inkey ${LOCATION_URL}/${KEYS_FOLDER}/key.pem -name serverpkcs12 -password pass:password &gt; serverpkcs12.p12`\n\nkeytool -importkeystore -srckeystore serverpkcs12.p12 -srcstoretype pkcs12 -destkeystore zkkeystore.jks -srcstorepass password -deststorepass password`\nmove zkkeystore.jks to /tmp\nssl.quorum.keyStore.location=/tmp/zkkeystore.jks\nssl.quorum.keyStore.password=password\nssl.keyStore.location=/tmp/zkkeystore.jks\nssl.keyStore.password=password\n</code></pre>\n<p>one more suggestion just set the host verification to false\non the client side and test it. once it starts working then enable it.</p>\n"}],"owner":{"account_id":20105644,"reputation":11,"user_id":14743240,"display_name":"Anoop Negi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2027,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1670841915,"creation_date":1606839260,"question_id":65094260,"body_markdown":"We are facing issue in connecting to Zookeeper server on port(secureport) 2281,\r\ntrying with\r\nzkCli.sh -server localhost:2281\r\nhow to connect to zk over SSL\r\n```\r\n      at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262) [zookeeper-3.6.1.jar:3.6.1]\r\n2020-12-01T15:59:48.672+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:2281.\r\n2020-12-01T15:59:48.672+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)\r\n2020-12-01T15:59:48.673+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:55104, server: localhost/127.0.0.1:2281\r\n2020-12-01T15:59:48.675+0000 [myid:localhost:2281] - WARN  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1272] - Session 0x0 for sever localhost/127.0.0.1:2281, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.\r\norg.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x0, likely server has closed socket\r\n        at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75) ~[zookeeper-3.6.1.jar:3.6.1]\r\n        at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348) ~[zookeeper-3.6.1.jar:3.6.1]\r\n        at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262) [zookeeper-3.6.1.jar:3.6.1]\r\n2020-12-01T15:59:50.562+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:2281.\r\n2020-12-01T15:59:50.562+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)\r\n2020-12-01T15:59:50.563+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:55118, server: localhost/127.0.0.1:2281\r\n2020-12-01T15:59:50.565+0000 [myid:localhost:2281] - WARN  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1272] - Session 0x0 for sever localhost/127.0.0.1:2281, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.\r\norg.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x0, likely server has closed socket\r\n        at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75) ~[zookeeper-3.6.1.jar:3.6.1]\r\n        at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348) ~[zookeeper-3.6.1.jar:3.6.1]\r\n        at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262) [zookeeper-3.6.1.jar:3.6.1]\r\n2020-12-01T15:59:52.068+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:2281.\r\n2020-12-01T15:59:52.068+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)\r\n2020-12-01T15:59:52.069+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:55140, server: localhost/127.0.0.1:2281\r\n2020-12-01T15:59:52.071+0000 [myid:localhost:2281] - WARN  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1272] - Session 0x0 for sever localhost/127.0.0.1:2281, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.\r\norg.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x0, likely server has closed socket\r\n        at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75) ~[zookeeper-3.6.1.jar:3.6.1]\r\n        at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348) ~[zookeeper-3.6.1.jar:3.6.1]\r\n        at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262) [zookeeper-3.6.1.jar:3.6.1]\r\n```\r\n\r\nserver configuration\r\n```\r\n  authProvider.loadableX509=com.mom.generic.conn.authentication.AuthenticationLoader\r\n  ssl.authProvider=loadableX509\r\n  serverCnxnFactory=org.apache.zookeeper.server.NettyServerCnxnFactory\r\n  sslQuorumReloadCertFiles=true\r\n  secureClientPort=2281\r\n  sslQuorum=false\r\n  portUnification=true\r\n  ssl.quorum.clientAuth=need\r\n  ssl.quorum.hostnameVerification=true\r\n  ssl.quorum.keyStore.location=/etc/zookeeper/secrets/cert.pem\r\n  ssl.quorum.trustStore.location=/run/zookeeper/secrets/tlsca/cacertpem\r\n  ssl.trustStore.location=/run/zookeeper/secrets/client_ca/clientca.pem\r\n  ssl.keyStore.location=/etc/zookeeper/secrets/cert.pem\r\n  ssl.clientAuth=need\r\n```\r\n\r\nwould need help on this.","title":"zkCli.sh connect to server on SSL port 2281","body":"<p>We are facing issue in connecting to Zookeeper server on port(secureport) 2281,\ntrying with\nzkCli.sh -server localhost:2281\nhow to connect to zk over SSL</p>\n<pre><code>      at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262) [zookeeper-3.6.1.jar:3.6.1]\n2020-12-01T15:59:48.672+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:2281.\n2020-12-01T15:59:48.672+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)\n2020-12-01T15:59:48.673+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:55104, server: localhost/127.0.0.1:2281\n2020-12-01T15:59:48.675+0000 [myid:localhost:2281] - WARN  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1272] - Session 0x0 for sever localhost/127.0.0.1:2281, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.\norg.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x0, likely server has closed socket\n        at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75) ~[zookeeper-3.6.1.jar:3.6.1]\n        at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348) ~[zookeeper-3.6.1.jar:3.6.1]\n        at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262) [zookeeper-3.6.1.jar:3.6.1]\n2020-12-01T15:59:50.562+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:2281.\n2020-12-01T15:59:50.562+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)\n2020-12-01T15:59:50.563+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:55118, server: localhost/127.0.0.1:2281\n2020-12-01T15:59:50.565+0000 [myid:localhost:2281] - WARN  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1272] - Session 0x0 for sever localhost/127.0.0.1:2281, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.\norg.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x0, likely server has closed socket\n        at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75) ~[zookeeper-3.6.1.jar:3.6.1]\n        at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348) ~[zookeeper-3.6.1.jar:3.6.1]\n        at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262) [zookeeper-3.6.1.jar:3.6.1]\n2020-12-01T15:59:52.068+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:2281.\n2020-12-01T15:59:52.068+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)\n2020-12-01T15:59:52.069+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:55140, server: localhost/127.0.0.1:2281\n2020-12-01T15:59:52.071+0000 [myid:localhost:2281] - WARN  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1272] - Session 0x0 for sever localhost/127.0.0.1:2281, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.\norg.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x0, likely server has closed socket\n        at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75) ~[zookeeper-3.6.1.jar:3.6.1]\n        at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348) ~[zookeeper-3.6.1.jar:3.6.1]\n        at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262) [zookeeper-3.6.1.jar:3.6.1]\n</code></pre>\n<p>server configuration</p>\n<pre><code>  authProvider.loadableX509=com.mom.generic.conn.authentication.AuthenticationLoader\n  ssl.authProvider=loadableX509\n  serverCnxnFactory=org.apache.zookeeper.server.NettyServerCnxnFactory\n  sslQuorumReloadCertFiles=true\n  secureClientPort=2281\n  sslQuorum=false\n  portUnification=true\n  ssl.quorum.clientAuth=need\n  ssl.quorum.hostnameVerification=true\n  ssl.quorum.keyStore.location=/etc/zookeeper/secrets/cert.pem\n  ssl.quorum.trustStore.location=/run/zookeeper/secrets/tlsca/cacertpem\n  ssl.trustStore.location=/run/zookeeper/secrets/client_ca/clientca.pem\n  ssl.keyStore.location=/etc/zookeeper/secrets/cert.pem\n  ssl.clientAuth=need\n</code></pre>\n<p>would need help on this.</p>\n"},{"tags":["java","graphql","graphql-java"],"owner":{"account_id":27227159,"reputation":11,"user_id":20755487,"display_name":"Terence"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670841535,"creation_date":1670841535,"question_id":74769844,"body_markdown":"I will like to limit the maximum size of the Upload scalar parameter by using schema directives but it does not work. See my code below:\r\n\r\n```\r\ndirective @Size(min : Int = 0, max : Int = 1, message : String = &quot;graphql.validation.Size.message&quot;) on ARGUMENT_DEFINITION | INPUT_FIELD_DEFINITION\r\n\r\ndirective @Max(value : Int = 1048576, message : String = &quot;graphql.validation.Max.message&quot;) on SCALAR\r\n\r\nscalar Upload @Max\r\n\r\ntype Mutation {\r\n    uploadFile(files: [Upload!] @Size(max : 1)): boolean\r\n}\r\n```\r\n\r\nLooking forward to receiving help from everyone.","title":"Graphql Java upload scalar maximum size","body":"<p>I will like to limit the maximum size of the Upload scalar parameter by using schema directives but it does not work. See my code below:</p>\n<pre><code>directive @Size(min : Int = 0, max : Int = 1, message : String = &quot;graphql.validation.Size.message&quot;) on ARGUMENT_DEFINITION | INPUT_FIELD_DEFINITION\n\ndirective @Max(value : Int = 1048576, message : String = &quot;graphql.validation.Max.message&quot;) on SCALAR\n\nscalar Upload @Max\n\ntype Mutation {\n    uploadFile(files: [Upload!] @Size(max : 1)): boolean\n}\n</code></pre>\n<p>Looking forward to receiving help from everyone.</p>\n"},{"tags":["javascript","java","zk","zul"],"answers":[{"tags":[],"owner":{"account_id":12839224,"reputation":431,"user_id":9287770,"display_name":"MDuchemin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670841224,"creation_date":1670841224,"answer_id":74769764,"question_id":74614636,"body_markdown":"There are a few approaches you can consider depending on your full requirement.\r\n\r\n#1 The page located inside of the iframe and the outer page may communicate directly, using the window postMessage API:\r\nhttps://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage\r\n\r\nThis require a bit of setting up, but allows the page located in the iframe to post an event to the parent page. The event has a data field, which you can use to transfer data.\r\nThe parent page can subscribe to such event, and read the event data.\r\n\r\nWith this method, you don&#39;t actually need to write stuff to the session at server-side, since this communication happen fully at client-side.\r\nThis is good if the server doesn&#39;t care about knowing the value. \r\n\r\n#2 saving the object in session from the inner page, using it from the outer page\r\nYou are already setting the session attribute in the native session:\r\n\r\n    HttpSession session = (HttpSession)(Executions.getCurrent()).getDesktop().getSession().getNativeSession();\r\n    session.setAttribute(&quot;key&quot;,&quot;testing&quot;);\r\n\r\nNote that session attributes are Java-side only. They are not automatically returned to the client as cookies.\r\nYou can add a cookie with the same value to your response, if you want to handle this by cookies:\r\nhttps://www.zkoss.org/wiki/ZK_Developer%27s_Reference/UI_Patterns/Communication/Inter-Application_Communication#Use_Cookie\r\n\r\nHowever, this is a bit overkill because ZK is a communication framework and you can already pass the value to the outer zul page in a number of ways.\r\n\r\nFirst, you can just execute arbitrary JS on the page using the Clients#evalJavascript method.\r\n\r\nhttps://www.zkoss.org/wiki/ZK_Developer&#39;s_Reference/UI_Patterns/Useful_Java_Utilities#evalJavaScript\r\n\r\nWith that, you can just build a JS call containing your value retrieved at server side, and execute it in client. Should look like this:\r\n\r\n    String myValue = ... //retrieve your server-side value;\r\n    Clients.evalJavascript(&quot;myClientSideFunction(&#39;&quot;+myValue+&quot;&#39;)&quot;); //executed in an execution of the zul page.\r\n\r\nBut you can also use that value as a client-attribute, pass it as a component value, etc.\r\n\r\nThere are a lot of arbitrary things you can do to pass that value back to the client, all with pros and cons.\r\nFor example, if you want to put that value back into a textbox, you can simply use the textbox#setValue method. It really depends on what you are looking to achieve.","title":"Connection between Java and Javascript through ZK framework","body":"<p>There are a few approaches you can consider depending on your full requirement.</p>\n<p>#1 The page located inside of the iframe and the outer page may communicate directly, using the window postMessage API:\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage</a></p>\n<p>This require a bit of setting up, but allows the page located in the iframe to post an event to the parent page. The event has a data field, which you can use to transfer data.\nThe parent page can subscribe to such event, and read the event data.</p>\n<p>With this method, you don't actually need to write stuff to the session at server-side, since this communication happen fully at client-side.\nThis is good if the server doesn't care about knowing the value.</p>\n<p>#2 saving the object in session from the inner page, using it from the outer page\nYou are already setting the session attribute in the native session:</p>\n<pre><code>HttpSession session = (HttpSession)(Executions.getCurrent()).getDesktop().getSession().getNativeSession();\nsession.setAttribute(&quot;key&quot;,&quot;testing&quot;);\n</code></pre>\n<p>Note that session attributes are Java-side only. They are not automatically returned to the client as cookies.\nYou can add a cookie with the same value to your response, if you want to handle this by cookies:\n<a href=\"https://www.zkoss.org/wiki/ZK_Developer%27s_Reference/UI_Patterns/Communication/Inter-Application_Communication#Use_Cookie\" rel=\"nofollow noreferrer\">https://www.zkoss.org/wiki/ZK_Developer%27s_Reference/UI_Patterns/Communication/Inter-Application_Communication#Use_Cookie</a></p>\n<p>However, this is a bit overkill because ZK is a communication framework and you can already pass the value to the outer zul page in a number of ways.</p>\n<p>First, you can just execute arbitrary JS on the page using the Clients#evalJavascript method.</p>\n<p><a href=\"https://www.zkoss.org/wiki/ZK_Developer%27s_Reference/UI_Patterns/Useful_Java_Utilities#evalJavaScript\" rel=\"nofollow noreferrer\">https://www.zkoss.org/wiki/ZK_Developer's_Reference/UI_Patterns/Useful_Java_Utilities#evalJavaScript</a></p>\n<p>With that, you can just build a JS call containing your value retrieved at server side, and execute it in client. Should look like this:</p>\n<pre><code>String myValue = ... //retrieve your server-side value;\nClients.evalJavascript(&quot;myClientSideFunction('&quot;+myValue+&quot;')&quot;); //executed in an execution of the zul page.\n</code></pre>\n<p>But you can also use that value as a client-attribute, pass it as a component value, etc.</p>\n<p>There are a lot of arbitrary things you can do to pass that value back to the client, all with pros and cons.\nFor example, if you want to put that value back into a textbox, you can simply use the textbox#setValue method. It really depends on what you are looking to achieve.</p>\n"}],"owner":{"account_id":7995312,"reputation":306,"user_id":6031830,"display_name":"Nissus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74769764,"answer_count":1,"score":0,"last_activity_date":1670841224,"creation_date":1669727537,"question_id":74614636,"body_markdown":"I have been facing an issue with the communication between java and javascript through zk framework in a iframe. \r\nIn simple words, I want to save a string in the current session and access it (or even overwrite it) in javascript.\r\n\r\nmy java lines:\r\n\r\n    HttpSession session = (HttpSession)(Executions.getCurrent()).getDesktop().getSession().getNativeSession();\r\n    session.setAttribute(&quot;key&quot;,&quot;testing&quot;);\r\n\r\n\r\nmy zul lines:\r\n\r\n    &lt;iframe id = &quot;change_option&quot; src=&quot;select_one_option.html&quot; scrolling=&quot;no&quot; width=&quot;700px&quot; height=&quot;400px&quot; &gt; &lt;/iframe&gt;\r\n\r\nmy javascript lines in the html file:\r\n\r\n    var session= /SESS\\w*ID=([^;]+)/i.test(document.cookie) ? RegExp.$1 : false;  //finds the correct session id + desktop name?\r\n    session = session.substring(0, session.indexOf(&#39;.&#39;)); //removes desktop name and keeps just the session id in a string \r\n\r\n    //another try\r\n    console.log(&quot;Saved: &quot; + sessionStorage.getItem(&quot;key&quot;)); //returns &quot;Saved: null&quot; \r\n    \r\n    //another try \r\n    var username = &#39;&lt;%= Session[&quot;key&quot;] =%&gt;&#39;\r\n    console.log ( &quot; Variable is : &quot; + username) //returns  &quot;&lt;%= Session[&quot;key&quot;] %&quot;\r\n\r\n\r\nSince the html file is big I thought it would be better to do it through iframe and not try to rewrite inside the zul file. Any suggestion is highly appreciated.","title":"Connection between Java and Javascript through ZK framework","body":"<p>I have been facing an issue with the communication between java and javascript through zk framework in a iframe.\nIn simple words, I want to save a string in the current session and access it (or even overwrite it) in javascript.</p>\n<p>my java lines:</p>\n<pre><code>HttpSession session = (HttpSession)(Executions.getCurrent()).getDesktop().getSession().getNativeSession();\nsession.setAttribute(&quot;key&quot;,&quot;testing&quot;);\n</code></pre>\n<p>my zul lines:</p>\n<pre><code>&lt;iframe id = &quot;change_option&quot; src=&quot;select_one_option.html&quot; scrolling=&quot;no&quot; width=&quot;700px&quot; height=&quot;400px&quot; &gt; &lt;/iframe&gt;\n</code></pre>\n<p>my javascript lines in the html file:</p>\n<pre><code>var session= /SESS\\w*ID=([^;]+)/i.test(document.cookie) ? RegExp.$1 : false;  //finds the correct session id + desktop name?\nsession = session.substring(0, session.indexOf('.')); //removes desktop name and keeps just the session id in a string \n\n//another try\nconsole.log(&quot;Saved: &quot; + sessionStorage.getItem(&quot;key&quot;)); //returns &quot;Saved: null&quot; \n\n//another try \nvar username = '&lt;%= Session[&quot;key&quot;] =%&gt;'\nconsole.log ( &quot; Variable is : &quot; + username) //returns  &quot;&lt;%= Session[&quot;key&quot;] %&quot;\n</code></pre>\n<p>Since the html file is big I thought it would be better to do it through iframe and not try to rewrite inside the zul file. Any suggestion is highly appreciated.</p>\n"},{"tags":["java","spring-boot","gradle","configuration","spring-logback"],"answers":[{"tags":[],"owner":{"account_id":442405,"reputation":2504,"user_id":833009,"accept_rate":50,"display_name":"jvwilge"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670839566,"creation_date":1670839566,"answer_id":74769438,"question_id":74744223,"body_markdown":"I think you should use `logging.config` instead of `logback.configurationFile`. \r\n\r\nhttps://docs.spring.io/spring-boot/docs/2.7.6/reference/html/features.html#features.logging.custom-log-configuration\r\n\r\n\r\nThis one got me in trouble too once, but I was lucky to receive an error message: https://github.com/spring-projects/spring-boot/issues/4969","title":"How to set path to logback configuration file in spring bootRun task in gradle","body":"<p>I think you should use <code>logging.config</code> instead of <code>logback.configurationFile</code>.</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/2.7.6/reference/html/features.html#features.logging.custom-log-configuration\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.7.6/reference/html/features.html#features.logging.custom-log-configuration</a></p>\n<p>This one got me in trouble too once, but I was lucky to receive an error message: <a href=\"https://github.com/spring-projects/spring-boot/issues/4969\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/4969</a></p>\n"}],"owner":{"account_id":12296207,"reputation":1838,"user_id":8971773,"accept_rate":25,"display_name":"Kira Resari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74769438,"answer_count":1,"score":0,"last_activity_date":1670839566,"creation_date":1670594842,"question_id":74744223,"body_markdown":"I am currently trying to restructure my Spring Boot project so that all the configuration files are no longer bundled in the jar. However, I still want the bootRun task to make use of them.\r\n\r\nFor the `application.properties`, I was able to do that quite easily by pulling it out of the `src/resources` folder and onto the surface of the project (for now) and adding this to the `build.gradle`:\r\n\r\n```\r\ntasks.named(&quot;bootRun&quot;) {\r\n\tsystemProperty &quot;spring.config.location&quot;, &quot;file:$projectDir/&quot;\r\n\tmainClass = &quot;my.project.MyMainClass&quot;\r\n}\r\n```\r\n\r\nFor the logback configuration, I was trying the same thing, so:\r\n\r\n```\r\ntasks.named(&quot;bootRun&quot;) {\r\n\tsystemProperty &quot;spring.config.location&quot;, &quot;file:$projectDir/&quot;\r\n\tsystemProperty &quot;logback.configurationFile&quot;, &quot;file:$projectDir/&quot;\r\n\tmainClass = &quot;my.project.MyMainClass&quot;\r\n}\r\n```\r\n...however, that did not work at all. Now instead of the logback configuration that I configured I just get the default configuration.\r\n\r\nWhat am I doing wrong here? Based on what I&#39;ve managed to find, this should work. My `logback-spring.xml` is located directly next to the `application.properties`.\r\n\r\nVariations which I&#39;ve also tried to the same end:\r\n```\r\n\tsystemProperty &quot;logback.configurationFile&quot;, &quot;file:$projectDir/logback-spring.xml&quot;\r\n\tsystemProperty &quot;logback.configurationFile&quot;, &quot;$projectDir/logback-spring.xml&quot;\r\n\tsystemProperty &quot;logback.configurationFile&quot;, &quot;C:/projects/myProject/logback-spring.xml&quot;\r\n\tsystemProperty &quot;logback.configurationFile&quot;, &quot;file:C:/projects/myProject/logback-spring.xml&quot;\r\n```\r\n\r\n----\r\n\r\n**Update:**\r\n\r\nI have now debugged it a bit and arrived at this, which I feel even more should work, but doesn&#39;t:\r\n\r\n```\r\ntasks.named(&quot;bootRun&quot;) {\r\n\tprintln &quot;Hi, I&#39;m BootRun!&quot;\r\n\tSystem.setProperty(&quot;spring.config.location&quot;, &quot;file:$projectDir/&quot;)\r\n\tprintln &quot;System Property spring.config.location is: &quot; + System.getProperty(&#39;spring.config.location&#39;)\r\n\tSystem.setProperty(&quot;Logback.configurationFile&quot;, &quot;$projectDir\\\\logback-spring.xml&quot;)\r\n\tprintln &quot;System Property Logback.configurationFile is: &quot; + System.getProperty(&#39;Logback.configurationFile&#39;)\r\n\tmainClass = &quot;myProject.MyMainClass&quot;\r\n}\r\n```\r\n\r\nThis gives me this output at the beginning of each build, way before Spring starts up:\r\n\r\n```\r\n&gt; Configure project :\r\n$0.1.0-SNAPSHOT$\r\nHi, I&#39;m BootRun!\r\nSystem Property spring.config.location is: file:C:\\projects\\myProject/\r\nSystem Property Logback.configurationFile is: C:\\projects\\myProject\\logback-spring.xml\r\n\r\n&gt; Task :createVersionFile\r\ncreateVersionFile called. Path C:\\projects\\myProject\\src\\main\\java\\myProject\r\n\r\n&gt; Task :compileJava\r\n&gt; Task :processResources NO-SOURCE\r\n&gt; Task :classes\r\n\r\n&gt; Task :bootRun\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v2.7.4)\r\n[...}\r\n```\r\n\r\nIt feels like this should work to me, because the path to the `logback-spring.xml`. But could it maybe be an issue because it&#39;s run as part of a different task? That would feel weird because those are system variables...","title":"How to set path to logback configuration file in spring bootRun task in gradle","body":"<p>I am currently trying to restructure my Spring Boot project so that all the configuration files are no longer bundled in the jar. However, I still want the bootRun task to make use of them.</p>\n<p>For the <code>application.properties</code>, I was able to do that quite easily by pulling it out of the <code>src/resources</code> folder and onto the surface of the project (for now) and adding this to the <code>build.gradle</code>:</p>\n<pre><code>tasks.named(&quot;bootRun&quot;) {\n    systemProperty &quot;spring.config.location&quot;, &quot;file:$projectDir/&quot;\n    mainClass = &quot;my.project.MyMainClass&quot;\n}\n</code></pre>\n<p>For the logback configuration, I was trying the same thing, so:</p>\n<pre><code>tasks.named(&quot;bootRun&quot;) {\n    systemProperty &quot;spring.config.location&quot;, &quot;file:$projectDir/&quot;\n    systemProperty &quot;logback.configurationFile&quot;, &quot;file:$projectDir/&quot;\n    mainClass = &quot;my.project.MyMainClass&quot;\n}\n</code></pre>\n<p>...however, that did not work at all. Now instead of the logback configuration that I configured I just get the default configuration.</p>\n<p>What am I doing wrong here? Based on what I've managed to find, this should work. My <code>logback-spring.xml</code> is located directly next to the <code>application.properties</code>.</p>\n<p>Variations which I've also tried to the same end:</p>\n<pre><code>    systemProperty &quot;logback.configurationFile&quot;, &quot;file:$projectDir/logback-spring.xml&quot;\n    systemProperty &quot;logback.configurationFile&quot;, &quot;$projectDir/logback-spring.xml&quot;\n    systemProperty &quot;logback.configurationFile&quot;, &quot;C:/projects/myProject/logback-spring.xml&quot;\n    systemProperty &quot;logback.configurationFile&quot;, &quot;file:C:/projects/myProject/logback-spring.xml&quot;\n</code></pre>\n<hr />\n<p><strong>Update:</strong></p>\n<p>I have now debugged it a bit and arrived at this, which I feel even more should work, but doesn't:</p>\n<pre><code>tasks.named(&quot;bootRun&quot;) {\n    println &quot;Hi, I'm BootRun!&quot;\n    System.setProperty(&quot;spring.config.location&quot;, &quot;file:$projectDir/&quot;)\n    println &quot;System Property spring.config.location is: &quot; + System.getProperty('spring.config.location')\n    System.setProperty(&quot;Logback.configurationFile&quot;, &quot;$projectDir\\\\logback-spring.xml&quot;)\n    println &quot;System Property Logback.configurationFile is: &quot; + System.getProperty('Logback.configurationFile')\n    mainClass = &quot;myProject.MyMainClass&quot;\n}\n</code></pre>\n<p>This gives me this output at the beginning of each build, way before Spring starts up:</p>\n<pre><code>&gt; Configure project :\n$0.1.0-SNAPSHOT$\nHi, I'm BootRun!\nSystem Property spring.config.location is: file:C:\\projects\\myProject/\nSystem Property Logback.configurationFile is: C:\\projects\\myProject\\logback-spring.xml\n\n&gt; Task :createVersionFile\ncreateVersionFile called. Path C:\\projects\\myProject\\src\\main\\java\\myProject\n\n&gt; Task :compileJava\n&gt; Task :processResources NO-SOURCE\n&gt; Task :classes\n\n&gt; Task :bootRun\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.7.4)\n[...}\n</code></pre>\n<p>It feels like this should work to me, because the path to the <code>logback-spring.xml</code>. But could it maybe be an issue because it's run as part of a different task? That would feel weird because those are system variables...</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"score":6,"creation_date":1377241964,"post_id":18396927,"comment_id":27019438,"body_markdown":"Firstly it&#39;s not called redefining it&#39;s called overriding","body":"Firstly it&#39;s not called redefining it&#39;s called overriding"},{"owner":{"account_id":1292873,"reputation":3582,"user_id":1244610,"display_name":"Matthias"},"score":3,"creation_date":1377241967,"post_id":18396927,"comment_id":27019442,"body_markdown":"But the default implementation does not return the adress of the object. It returns the class name and the hashCode of that object. From the documentation of java.lang.Object: &#39;getClass().getName() + &#39;@&#39; + Integer.toHexString(hashCode())&#39;","body":"But the default implementation does not return the adress of the object. It returns the class name and the hashCode of that object. From the documentation of java.lang.Object: &#39;getClass().getName() + &#39;@&#39; + Integer.toHexString(hashCode())&#39;"},{"owner":{"account_id":1859171,"reputation":3557,"user_id":1684123,"accept_rate":48,"display_name":"Kifsif"},"score":0,"creation_date":1377242561,"post_id":18396927,"comment_id":27019724,"body_markdown":"Well, yes. But the hash code is the address. Look at the documentation for Object hashCode: This is typically implemented by converting the internal address of the object into an integer, but this implementation technique is not required by the JavaTM programming language. So, the hash code is just the same hex number representing the address. But its converted into decimal.","body":"Well, yes. But the hash code is the address. Look at the documentation for Object hashCode: This is typically implemented by converting the internal address of the object into an integer, but this implementation technique is not required by the JavaTM programming language. So, the hash code is just the same hex number representing the address. But its converted into decimal."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1377243084,"post_id":18396927,"comment_id":27019960,"body_markdown":"Well, no. It *can* be the address, but there is no guaranteee. You were therefore never able to print the address reliably in the first place, regardless of whether or not you overrode `toString().` But I don&#39;t see any requirement here to actually get the address at all, just the original result of `toString(),` which is available via `super.toString()`, despite your unspecified &#39;failure&#39;. Your actual question remains unclear.","body":"Well, no. It <i>can</i> be the address, but there is no guaranteee. You were therefore never able to print the address reliably in the first place, regardless of whether or not you overrode <code>toString().</code> But I don&#39;t see any requirement here to actually get the address at all, just the original result of <code>toString(),</code> which is available via <code>super.toString()</code>, despite your unspecified &#39;failure&#39;. Your actual question remains unclear."},{"owner":{"account_id":1859171,"reputation":3557,"user_id":1684123,"accept_rate":48,"display_name":"Kifsif"},"score":0,"creation_date":1377243253,"post_id":18396927,"comment_id":27020033,"body_markdown":"Why not. It is the address. At a given time it is the address represented as int. As we are are talking about more or less static environment, the address will not change. I mean, that in such a simple program, the garbage collector didn&#39;t touch the heap. So, why is it not the address in this case?","body":"Why not. It is the address. At a given time it is the address represented as int. As we are are talking about more or less static environment, the address will not change. I mean, that in such a simple program, the garbage collector didn&#39;t touch the heap. So, why is it not the address in this case?"},{"owner":{"account_id":50723,"reputation":3791,"user_id":151344,"accept_rate":60,"display_name":"Alderath"},"score":3,"creation_date":1377254376,"post_id":18396927,"comment_id":27025768,"body_markdown":"@Kifsif  Saying `It is the address` is plain wrong. It **may be** the address (and in most cases, but not all, it probably is).\nIe, if you rely on `hashCode()` for getting the address of objects it may work in some cases, but in other cases it may fail.\nEg, it&#39;d be possible according to the specs that some JVM keeps a completely random number as hashcode stored for each object. In reality, this probably wouldn&#39;t be the case, since it would entail unecessary storage overhead.\nAnyways, in Java you typically shouldn&#39;t be concerned with at what memory addresses objects are located. Java is not C.","body":"@Kifsif  Saying <code>It is the address</code> is plain wrong. It <b>may be</b> the address (and in most cases, but not all, it probably is). Ie, if you rely on <code>hashCode()</code> for getting the address of objects it may work in some cases, but in other cases it may fail. Eg, it&#39;d be possible according to the specs that some JVM keeps a completely random number as hashcode stored for each object. In reality, this probably wouldn&#39;t be the case, since it would entail unecessary storage overhead. Anyways, in Java you typically shouldn&#39;t be concerned with at what memory addresses objects are located. Java is not C."},{"owner":{"account_id":481416,"reputation":355314,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":0,"creation_date":1445846257,"post_id":18396927,"comment_id":54477548,"body_markdown":"To get addresses, use Unsafe: http://stackoverflow.com/questions/1961146/memory-address-of-variables-in-java","body":"To get addresses, use Unsafe: <a href=\"http://stackoverflow.com/questions/1961146/memory-address-of-variables-in-java\" title=\"memory address of variables in java\">stackoverflow.com/questions/1961146/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377242370,"creation_date":1377242068,"answer_id":18397006,"question_id":18396927,"body_markdown":"You can call super() method to execute the corresponding superclass method.\r\n\r\n    class Employee{\r\n    ...\r\n        public String toString(){\r\n             String s = super.toString();\r\n            return getClass().getName() + &quot;[name = &quot; + name + \r\n                &quot;, salary=&quot; + salary + &quot;, hireDay=&quot; + hireDay + &quot;]&quot; + s;\r\n        }\r\n\r\ntoString() in Object class is as follows\r\n\r\n    public String toString() {\r\n        return getClass().getName() + &quot;@&quot; + Integer.toHexString(hashCode());\r\n    }","title":"How to print the address of an object if you have redefined toString method","body":"<p>You can call super() method to execute the corresponding superclass method.</p>\n\n<pre><code>class Employee{\n...\n    public String toString(){\n         String s = super.toString();\n        return getClass().getName() + \"[name = \" + name + \n            \", salary=\" + salary + \", hireDay=\" + hireDay + \"]\" + s;\n    }\n</code></pre>\n\n<p>toString() in Object class is as follows</p>\n\n<pre><code>public String toString() {\n    return getClass().getName() + \"@\" + Integer.toHexString(hashCode());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1377242100,"creation_date":1377242100,"answer_id":18397017,"question_id":18396927,"body_markdown":"Here is an in-depth answer about overriding equals and hashcode\r\n\r\nhttps://stackoverflow.com/questions/27581/overriding-equals-and-hashcode-in-java\r\n\r\nThe key point being\r\nThe relation between the two methods is:\r\n\r\nWhenever a.equals(b), then a.hashCode() must be same as b.hashCode().","title":"How to print the address of an object if you have redefined toString method","body":"<p>Here is an in-depth answer about overriding equals and hashcode</p>\n\n<p><a href=\"https://stackoverflow.com/questions/27581/overriding-equals-and-hashcode-in-java\">What issues should be considered when overriding equals and hashCode in Java?</a></p>\n\n<p>The key point being\nThe relation between the two methods is:</p>\n\n<p>Whenever a.equals(b), then a.hashCode() must be same as b.hashCode().</p>\n"},{"tags":[],"owner":{"account_id":938015,"reputation":21321,"user_id":966590,"accept_rate":100,"display_name":"Andrew Logvinov"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1377242101,"creation_date":1377242101,"answer_id":18397019,"question_id":18396927,"body_markdown":"If you want to achieve sort-of default `toString()` behavior, you can make use of `System.identityHashCode()` method. Default `toString()` will then look like this:\r\n\r\n    public String toString(Object o) {\r\n        return o.getClass().getName() + &quot;@&quot; + \r\n               Integer.toHexString(System.identityHashCode(o));\r\n    }","title":"How to print the address of an object if you have redefined toString method","body":"<p>If you want to achieve sort-of default <code>toString()</code> behavior, you can make use of <code>System.identityHashCode()</code> method. Default <code>toString()</code> will then look like this:</p>\n\n<pre><code>public String toString(Object o) {\n    return o.getClass().getName() + \"@\" + \n           Integer.toHexString(System.identityHashCode(o));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1766006,"reputation":1705,"user_id":1611881,"display_name":"Alexey Odintsov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1377242276,"creation_date":1377242276,"answer_id":18397066,"question_id":18396927,"body_markdown":"You may create another method inside your Employee class to use super toString method.\r\n\r\nSee example:\r\n\r\n\tpublic class Employee {\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;MyToStringMethod&quot;;\r\n\t\t}\r\n\r\n\t\tpublic String superToString() {\r\n\t\t\treturn super.toString();\r\n\t\t}\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tEmployee b = new Employee();\r\n\t\t\tSystem.out.println(b);\r\n\t\t\tSystem.out.println(b.superToString());\r\n\t\t}\r\n\t}\r\n\r\nor combine both in one method:\r\n\r\n\tpublic class Employee {\r\n\t\tpublic String toString() {\r\n\t\t\treturn super.toString() + &quot; MyToStringMethod&quot;;\r\n\t\t}\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tEmployee b = new Employee();\r\n\t\t\tSystem.out.println(b);\r\n\t\t}\r\n\t}","title":"How to print the address of an object if you have redefined toString method","body":"<p>You may create another method inside your Employee class to use super toString method.</p>\n\n<p>See example:</p>\n\n<pre><code>public class Employee {\n    public String toString() {\n        return \"MyToStringMethod\";\n    }\n\n    public String superToString() {\n        return super.toString();\n    }\n\n    public static void main(String[] args) {\n        Employee b = new Employee();\n        System.out.println(b);\n        System.out.println(b.superToString());\n    }\n}\n</code></pre>\n\n<p>or combine both in one method:</p>\n\n<pre><code>public class Employee {\n    public String toString() {\n        return super.toString() + \" MyToStringMethod\";\n    }\n\n    public static void main(String[] args) {\n        Employee b = new Employee();\n        System.out.println(b);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":89,"is_accepted":true,"score":89,"last_activity_date":1670839520,"creation_date":1377242322,"answer_id":18397076,"question_id":18396927,"body_markdown":"Strictly speaking, you can&#39;t print the address of an object in pure Java.  The number that looks like an object address in the String produced by `Object.toString()` is the object&#39;s &quot;identity hashcode&quot;.  It may or may not be related to the object&#39;s current address:\r\n\r\n  - The specs *do not say* how the identity hashcode number is calculated.  It is deliberately left unspecified.\r\n\r\n  - Since the number is a hashcode, it *cannot* change.  So even though it is (typically) related to an object address, that will be the object&#39;s address *at the time when the hashcode was first accessed*.  This could be different to its current address, and it *will* be different if the GC has moved the object since the first time the object&#39;s identity hashcode was observed.\r\n\r\n  - On a 64bit JVM (with a large enough heap size / not using compressed oops) addresses won&#39;t fit into an identity hashcode number which is returned as an `int`.\r\n\r\nAnyhow, the way to get this number is to call [`System.identityHashCode(obj)`][1].\r\n\r\n-------------------------\r\n\r\nIf you really want an object&#39;s *current* address, you can get it using JNI and a native method (and some abstraction breaking), or by using methods in the `Unsafe` class (see https://stackoverflow.com/questions/7060215).  But beware that both of these approaches are non-portable.  Also, the object addresses that they give you are liable to &quot;break&quot; when the GC moves the object which renders them problematic for many (probably most) potential use-cases.\r\n\r\n-------------------------\r\n\r\nFor the doubters, this is what the Java 10 javadocs say on the &quot;hashcode != address&quot; point:\r\n\r\n&gt;  &quot;(The hashCode **may or may not** be implemented as **some function of** an object&#39;s memory address **at some point in time**.)&quot;\r\n\r\nEmphasis added.  Indeed, with recent JVMs, the default algorithm does NOT derive the hashCode from a memory address at all.  It has been that way since at least Java 7. \r\n\r\nYou can confirm this by including `-XX:+PrintFlagsFinal ` in the command line options to find out what the `hashcode` flag defaults to, and then looking at the OpenJDK source code to see what it means.  (The code is in the &quot;vm/runtime/synchronizer.cpp&quot; file in some versions, but YMMV.)\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/System.html#identityHashCode-java.lang.Object-","title":"How to print the address of an object if you have redefined toString method","body":"<p>Strictly speaking, you can't print the address of an object in pure Java.  The number that looks like an object address in the String produced by <code>Object.toString()</code> is the object's &quot;identity hashcode&quot;.  It may or may not be related to the object's current address:</p>\n<ul>\n<li><p>The specs <em>do not say</em> how the identity hashcode number is calculated.  It is deliberately left unspecified.</p>\n</li>\n<li><p>Since the number is a hashcode, it <em>cannot</em> change.  So even though it is (typically) related to an object address, that will be the object's address <em>at the time when the hashcode was first accessed</em>.  This could be different to its current address, and it <em>will</em> be different if the GC has moved the object since the first time the object's identity hashcode was observed.</p>\n</li>\n<li><p>On a 64bit JVM (with a large enough heap size / not using compressed oops) addresses won't fit into an identity hashcode number which is returned as an <code>int</code>.</p>\n</li>\n</ul>\n<p>Anyhow, the way to get this number is to call <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/System.html#identityHashCode-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>System.identityHashCode(obj)</code></a>.</p>\n<hr />\n<p>If you really want an object's <em>current</em> address, you can get it using JNI and a native method (and some abstraction breaking), or by using methods in the <code>Unsafe</code> class (see <a href=\"https://stackoverflow.com/questions/7060215\">How can I get the memory location of a object in java?</a>).  But beware that both of these approaches are non-portable.  Also, the object addresses that they give you are liable to &quot;break&quot; when the GC moves the object which renders them problematic for many (probably most) potential use-cases.</p>\n<hr />\n<p>For the doubters, this is what the Java 10 javadocs say on the &quot;hashcode != address&quot; point:</p>\n<blockquote>\n<p>&quot;(The hashCode <strong>may or may not</strong> be implemented as <strong>some function of</strong> an object's memory address <strong>at some point in time</strong>.)&quot;</p>\n</blockquote>\n<p>Emphasis added.  Indeed, with recent JVMs, the default algorithm does NOT derive the hashCode from a memory address at all.  It has been that way since at least Java 7.</p>\n<p>You can confirm this by including <code>-XX:+PrintFlagsFinal </code> in the command line options to find out what the <code>hashcode</code> flag defaults to, and then looking at the OpenJDK source code to see what it means.  (The code is in the &quot;vm/runtime/synchronizer.cpp&quot; file in some versions, but YMMV.)</p>\n"}],"owner":{"account_id":1859171,"reputation":3557,"user_id":1684123,"accept_rate":48,"display_name":"Kifsif"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88575,"favorite_count":0,"down_vote_count":1,"up_vote_count":54,"accepted_answer_id":18397076,"answer_count":5,"score":53,"last_activity_date":1670839520,"creation_date":1377241729,"question_id":18396927,"body_markdown":"I&#39;m a newbie to Java. Now I&#39;m studying equals and == and redefinition of equals and toString.\r\n\r\nI would like to use both the toString method that I have redefied and the default method that is inherited from the Object class.\r\n\r\nI failed to use that super modificator to reach that method.\r\n\r\nThis is for educational purposes only. What I would like to get is more clear if you will have a look at the comments in my code.\r\n\r\nCould you help me here?\r\n\r\n\r\nMy code is:\r\n\r\n    public class EqualTest{\r\n    \tpublic static void main(String[] args){\t\r\n    \t\tEmployee alice1 = new Employee(&quot;Alice Adams&quot;, 75000, 1987, 12, 15);\r\n                //System.out.super.println(alice1);\r\n\r\n    \t\tEmployee alice2 = alice1;\r\n                //System.out.super.println(alice2);\r\n\r\n    \t\tEmployee alice3 = new Employee(&quot;Alice Adams&quot;, 75000, 1987, 12, 15);\r\n                //System.out.super.println(alice3);\r\n\r\n    \t\tSystem.out.println(&quot;alice1==alice2: &quot; + (alice1==alice2));\r\n    \t\tSystem.out.println(&quot;alice1 == alice3: &quot; + (alice1==alice3));\r\n    \t\tSystem.out.println(&quot;alice1.equals(alice3): &quot; + alice1.equals(alice3));\r\n    \t}\r\n    }\r\n    \r\n    class Employee{\r\n    ...\r\n    \tpublic String toString(){\r\n    \t\treturn getClass().getName() + &quot;[name = &quot; + name + \r\n    \t\t\t&quot;, salary=&quot; + salary + &quot;, hireDay=&quot; + hireDay + &quot;]&quot;;\r\n    \t}\r\n    \r\n    }","title":"How to print the address of an object if you have redefined toString method","body":"<p>I'm a newbie to Java. Now I'm studying equals and == and redefinition of equals and toString.</p>\n\n<p>I would like to use both the toString method that I have redefied and the default method that is inherited from the Object class.</p>\n\n<p>I failed to use that super modificator to reach that method.</p>\n\n<p>This is for educational purposes only. What I would like to get is more clear if you will have a look at the comments in my code.</p>\n\n<p>Could you help me here?</p>\n\n<p>My code is:</p>\n\n<pre><code>public class EqualTest{\n    public static void main(String[] args){ \n        Employee alice1 = new Employee(\"Alice Adams\", 75000, 1987, 12, 15);\n            //System.out.super.println(alice1);\n\n        Employee alice2 = alice1;\n            //System.out.super.println(alice2);\n\n        Employee alice3 = new Employee(\"Alice Adams\", 75000, 1987, 12, 15);\n            //System.out.super.println(alice3);\n\n        System.out.println(\"alice1==alice2: \" + (alice1==alice2));\n        System.out.println(\"alice1 == alice3: \" + (alice1==alice3));\n        System.out.println(\"alice1.equals(alice3): \" + alice1.equals(alice3));\n    }\n}\n\nclass Employee{\n...\n    public String toString(){\n        return getClass().getName() + \"[name = \" + name + \n            \", salary=\" + salary + \", hireDay=\" + hireDay + \"]\";\n    }\n\n}\n</code></pre>\n"},{"tags":["java","charts","apache-poi","export-to-excel"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1432914787,"post_id":30532612,"comment_id":49141471,"body_markdown":"Have you thought about submitting a patch to Apache POI to add in this missing functionality to the XSSF and SS chart methods? See [here for details on patches](http://poi.apache.org/guidelines.html)","body":"Have you thought about submitting a patch to Apache POI to add in this missing functionality to the XSSF and SS chart methods? See <a href=\"http://poi.apache.org/guidelines.html\" rel=\"nofollow noreferrer\">here for details on patches</a>"},{"owner":{"account_id":3078994,"reputation":101,"user_id":2607674,"display_name":"jk2607674"},"score":0,"creation_date":1454518973,"post_id":30532612,"comment_id":58083438,"body_markdown":"I submitted a patch to Apache POI months ago but it has not been acted on.  See [the patch in Bugzilla](https://bz.apache.org/bugzilla/show_bug.cgi?id=57989).","body":"I submitted a patch to Apache POI months ago but it has not been acted on.  See <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=57989\" rel=\"nofollow noreferrer\">the patch in Bugzilla</a>."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1456089519,"post_id":30532612,"comment_id":58772966,"body_markdown":"Patch now committed in POI, so you can now add an answer referencing [your contribution](https://poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/XSSFChart.html#setTitle%28java.lang.String%29) :)","body":"Patch now committed in POI, so you can now add an answer referencing <a href=\"https://poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/XSSFChart.html#setTitle%28java.lang.String%29\" rel=\"nofollow noreferrer\">your contribution</a> :)"}],"answers":[{"tags":[],"owner":{"account_id":10620565,"reputation":3742,"user_id":7821823,"display_name":"Mario Varchmin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628865872,"creation_date":1618820050,"answer_id":67158268,"question_id":30532612,"body_markdown":"Before this question remains unanswered for six years, here is the answer:\r\n\r\nYou can use the `XSSFChart.setTitleText(String title)` method.\r\n\r\nExample:\r\n```java\r\nimport java.io.FileOutputStream;\r\n\r\nimport org.apache.poi.ss.usermodel.Sheet;\r\nimport org.apache.poi.ss.usermodel.Workbook;\r\nimport org.apache.poi.xddf.usermodel.chart.ChartTypes;\r\nimport org.apache.poi.xddf.usermodel.chart.XDDFChartData;\r\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSource;\r\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSourcesFactory;\r\nimport org.apache.poi.xddf.usermodel.chart.XDDFNumericalDataSource;\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\nimport org.apache.poi.xssf.usermodel.XSSFChart;\r\nimport org.apache.poi.xssf.usermodel.XSSFDrawing;\r\n\r\npublic class Chart {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        try (Workbook wb = new XSSFWorkbook(); FileOutputStream fileOut = new FileOutputStream(&quot;chart.xlsx&quot;);) {\r\n\t\t\tSheet sheet = wb.createSheet(&quot;Sheet1&quot;);\r\n\r\n\t\t\tXSSFDrawing drawing = (XSSFDrawing)sheet.createDrawingPatriarch();\r\n\t\t\tXSSFChart chart = drawing.createChart(drawing.createAnchor(0, 0, 0, 0, 0, 0, 12, 12));\r\n\t\r\n\t\t\t\r\n\t\t\t// ---------------------&gt;     Here we set the title\r\n\t\t\tchart.setTitleText(&quot;My chart title&quot;);\r\n\t\t\t// &lt;---------------------\r\n\r\n\t\t\t\r\n            XDDFDataSource&lt;String&gt; cat = XDDFDataSourcesFactory.fromArray(new String[]{&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;});\r\n            XDDFNumericalDataSource&lt;Double&gt; val = XDDFDataSourcesFactory.fromArray(new Double[]{1d, 2d, 3d, 4d});\r\n\r\n            XDDFChartData data = chart.createData(ChartTypes.PIE, null, null);\r\n            data.setVaryColors(true);\r\n            XDDFChartData.Series series = data.addSeries(cat, val);\r\n            series.setTitle(&quot;Series&quot;, null);\r\n            chart.plot(data);\r\n\r\n\t\t\twb.write(fileOut);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n    }\r\n}\r\n```\r\n\r\nI understand that `XSSFChart.setTitleText(&quot;My chart title&quot;)` was not available, when this question was asked.","title":"Apache POI set Excel chart title","body":"<p>Before this question remains unanswered for six years, here is the answer:</p>\n<p>You can use the <code>XSSFChart.setTitleText(String title)</code> method.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.FileOutputStream;\n\nimport org.apache.poi.ss.usermodel.Sheet;\nimport org.apache.poi.ss.usermodel.Workbook;\nimport org.apache.poi.xddf.usermodel.chart.ChartTypes;\nimport org.apache.poi.xddf.usermodel.chart.XDDFChartData;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSource;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSourcesFactory;\nimport org.apache.poi.xddf.usermodel.chart.XDDFNumericalDataSource;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.apache.poi.xssf.usermodel.XSSFChart;\nimport org.apache.poi.xssf.usermodel.XSSFDrawing;\n\npublic class Chart {\n\n    public static void main(String[] args) throws Exception {\n        try (Workbook wb = new XSSFWorkbook(); FileOutputStream fileOut = new FileOutputStream(&quot;chart.xlsx&quot;);) {\n            Sheet sheet = wb.createSheet(&quot;Sheet1&quot;);\n\n            XSSFDrawing drawing = (XSSFDrawing)sheet.createDrawingPatriarch();\n            XSSFChart chart = drawing.createChart(drawing.createAnchor(0, 0, 0, 0, 0, 0, 12, 12));\n    \n            \n            // ---------------------&gt;     Here we set the title\n            chart.setTitleText(&quot;My chart title&quot;);\n            // &lt;---------------------\n\n            \n            XDDFDataSource&lt;String&gt; cat = XDDFDataSourcesFactory.fromArray(new String[]{&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;});\n            XDDFNumericalDataSource&lt;Double&gt; val = XDDFDataSourcesFactory.fromArray(new Double[]{1d, 2d, 3d, 4d});\n\n            XDDFChartData data = chart.createData(ChartTypes.PIE, null, null);\n            data.setVaryColors(true);\n            XDDFChartData.Series series = data.addSeries(cat, val);\n            series.setTitle(&quot;Series&quot;, null);\n            chart.plot(data);\n\n            wb.write(fileOut);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I understand that <code>XSSFChart.setTitleText(&quot;My chart title&quot;)</code> was not available, when this question was asked.</p>\n"},{"tags":[],"owner":{"account_id":41653,"reputation":1487,"user_id":121139,"accept_rate":20,"display_name":"Fred Campos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670839388,"creation_date":1670839388,"answer_id":74769405,"question_id":30532612,"body_markdown":"Using Apache Poi 3.7 (itself an older version), this works fine:\r\n\r\n    XSSFChart xchart = (XSSFChart) chart;\r\n    xchart.setTitleText(&quot;Your title&quot;);","title":"Apache POI set Excel chart title","body":"<p>Using Apache Poi 3.7 (itself an older version), this works fine:</p>\n<pre><code>XSSFChart xchart = (XSSFChart) chart;\nxchart.setTitleText(&quot;Your title&quot;);\n</code></pre>\n"}],"owner":{"account_id":3078994,"reputation":101,"user_id":2607674,"display_name":"jk2607674"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4274,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1670839388,"creation_date":1432910915,"question_id":30532612,"body_markdown":"I&#39;m creating an Excel workbook from scratch. One of the sheets contains a chart, and I want to set the chart title.\r\n\r\nApache POI has a setChartTitle method on HSSFChart, but neither XSSFChart nor the format-agnostic Chart have methods to set the chart title. Since I need to create .xlsx files this is a problem for me.\r\n\r\nAfter much poking around in POI code and OOXML specifications I managed to come up with this code for setting the title on a newly created Chart:\r\n\r\n        if (chart instanceof XSSFChart) {\r\n            XSSFChart xchart = (XSSFChart) chart;\r\n            CTChart ctChart = xchart.getCTChart();\r\n            CTTitle title = ctChart.addNewTitle();\r\n            CTTx tx = title.addNewTx();\r\n            CTTextBody rich = tx.addNewRich();\r\n            rich.addNewBodyPr();  // body properties must exist, but can be empty\r\n            CTTextParagraph para = rich.addNewP();\r\n            CTRegularTextRun r = para.addNewR();\r\n            r.setT(&quot;My chart title&quot;);\r\n        }\r\n\r\nThis seems to work - I can load the resulting file in Excel 2013 and the chart is there with the correct title.\r\n\r\nIs there an easier way to do this? What gotchas would I need to look out for when changing a chart title in a workbook created in Excel?\r\n\r\n","title":"Apache POI set Excel chart title","body":"<p>I'm creating an Excel workbook from scratch. One of the sheets contains a chart, and I want to set the chart title.</p>\n\n<p>Apache POI has a setChartTitle method on HSSFChart, but neither XSSFChart nor the format-agnostic Chart have methods to set the chart title. Since I need to create .xlsx files this is a problem for me.</p>\n\n<p>After much poking around in POI code and OOXML specifications I managed to come up with this code for setting the title on a newly created Chart:</p>\n\n<pre><code>    if (chart instanceof XSSFChart) {\n        XSSFChart xchart = (XSSFChart) chart;\n        CTChart ctChart = xchart.getCTChart();\n        CTTitle title = ctChart.addNewTitle();\n        CTTx tx = title.addNewTx();\n        CTTextBody rich = tx.addNewRich();\n        rich.addNewBodyPr();  // body properties must exist, but can be empty\n        CTTextParagraph para = rich.addNewP();\n        CTRegularTextRun r = para.addNewR();\n        r.setT(\"My chart title\");\n    }\n</code></pre>\n\n<p>This seems to work - I can load the resulting file in Excel 2013 and the chart is there with the correct title.</p>\n\n<p>Is there an easier way to do this? What gotchas would I need to look out for when changing a chart title in a workbook created in Excel?</p>\n"},{"tags":["java","spring-boot","jms","ibm-mq"],"comments":[{"owner":{"account_id":895964,"reputation":15035,"user_id":933250,"accept_rate":77,"display_name":"Shashi"},"score":0,"creation_date":1670423834,"post_id":74717452,"comment_id":131873501,"body_markdown":"You may want to look at adding length of the data in block before the start of the block, so that you know much to read. Something like [headerLen][header data][payloadlen][payload data][attachmentlen][attachment]","body":"You may want to look at adding length of the data in block before the start of the block, so that you know much to read. Something like [headerLen][header data][payloadlen][payload data][attachmentlen][attachment]"}],"answers":[{"tags":[],"owner":{"account_id":1535582,"reputation":7172,"user_id":1431734,"display_name":"Roger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670633147,"creation_date":1670633147,"answer_id":74749532,"question_id":74717452,"body_markdown":"I think someone gave you some incorrect information regarding MQRFH2 messages.\r\n\r\nIf your application is a JMS application, then you are totally on the wrong path.\r\n\r\nIBM MQ treats a JMS message as an MQRFH2 message. So, when you send a JMS application, you do not create an MQRFH2 message.  IBM MQ does it automatically for you.\r\n\r\nSecondly, you talk about XML messages but nowhere in your code do I see anything about XML or CDATA.  If you want to send binary data as part of your XML message, then CDATA must be used.\r\n\r\nIf you want properties for the message, then you need to put them in the &quot;usr&quot; folder for JMS application. If you want to use a different folder then you need to use a regular Java application (non-JMS) and of course, then build an MQRFH2 header.","title":"Sending and Receiving SWIFT-messages with JMS","body":"<p>I think someone gave you some incorrect information regarding MQRFH2 messages.</p>\n<p>If your application is a JMS application, then you are totally on the wrong path.</p>\n<p>IBM MQ treats a JMS message as an MQRFH2 message. So, when you send a JMS application, you do not create an MQRFH2 message.  IBM MQ does it automatically for you.</p>\n<p>Secondly, you talk about XML messages but nowhere in your code do I see anything about XML or CDATA.  If you want to send binary data as part of your XML message, then CDATA must be used.</p>\n<p>If you want properties for the message, then you need to put them in the &quot;usr&quot; folder for JMS application. If you want to use a different folder then you need to use a regular Java application (non-JMS) and of course, then build an MQRFH2 header.</p>\n"}],"owner":{"account_id":19271279,"reputation":1,"user_id":14085144,"display_name":"the_villian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670839254,"creation_date":1670419726,"question_id":74717452,"body_markdown":"I am trying currently to send and receive messages on SWIFT FileAct. The current implementation is based on JMS. The requirement is, that I need to send an xml-message as payload, an XML-header that according to the information I got is supposed to be an RFH2-header and possible attachment-files (hence FileAct).\r\n\r\nI have a working connection to the Queue-manager and am able to send and read general text- or byte-messages. The problem is, that the format does not seem to be correct, in terms of the RFH2-header and the payload (and later possible attachments). \r\nSo when I read the message (that I can send myselve) I am just working on a stream of bytes. The problem is, how to say, when what part of the message is what (header/payload/attachments), since its just a stream of bytes. \r\n\r\n\r\nI can add some blocks of code. And two screenshots from the console when the operations are done. Maybe you can see something, that I am missing?\r\n\r\n\r\n```\r\npublic void sendAByteMessage(JmsConnectionFactory connectionFactory, Destination destination) {\r\n  String ifCobaString = &quot;IF_COBA&quot;;\r\n  String filename;\r\n  FileInputStream inStream;\r\n  BytesMessage bytesMessage;\r\n  int bytesRead;\r\n  int bytesTotalSize = 0;\r\n  byte[] buf1 = new byte[64];\r\n\r\n    // write RFH2-Header\r\n    MQRFH2 mqrfh2 = new MQRFH2();\r\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n    mqrfh2.setEncoding(CMQC.MQENC_NATIVE);\r\n    mqrfh2.setCodedCharSetId(CMQC.MQCCSI_INHERIT);\r\n    mqrfh2.setFormat(CMQC.MQFMT_NONE);\r\n    mqrfh2.setFlags(0);\r\n    mqrfh2.setNameValueCCSID(1208);\r\n\r\n    mqrfh2.setFieldValue(ifCobaString, &quot;OriginatorApplication&quot;, &quot;data&quot;);\r\n    mqrfh2.setFieldValue(ifCobaString, &quot;Requestor&quot;, &quot;ou=data,o=data,o=swift&quot;);\r\n    mqrfh2.setFieldValue(ifCobaString, &quot;Responder&quot;, &quot;ou=data,o=data,o=swift&quot;);\r\n    mqrfh2.setFieldValue(ifCobaString, &quot;Service&quot;, &quot;swift.data&quot;);\r\n    mqrfh2.setFieldValue(ifCobaString, &quot;RequestType&quot;, &quot;data&quot;);\r\n    mqrfh2.setFieldValue(ifCobaString, &quot;Compression&quot;, &quot;Zip&quot;);\r\n    mqrfh2.setFieldValue(ifCobaString, &quot;FileName&quot;, &quot;data.zip&quot;);\r\n    mqrfh2.setFieldValue(ifCobaString, &quot;FileReference&quot;, &quot;data.zip&quot;);\r\n\r\n    mqrfh2.write(new DataOutputStream(out), CMQC.MQENC_NATIVE, 819);\r\n\r\n    byte[] bytesHeader = out.toByteArray();\r\n\r\n    // set the input file to be send\r\n    filename = &quot;/opt/mq/TC.SB13.0015484631.zip&quot;; // just a random file that I am trying to send over the message\r\n    inStream = new FileInputStream(filename);\r\n\r\n    JMSContext producerContext = connectionFactory.createContext();\r\n    JMSProducer producer = producerContext.createProducer();\r\n    bytesMessage = producerContext.createBytesMessage();\r\n\r\n    // add RHF2-header to the message\r\n    bytesMessage.writeBytes(bytesHeader);\r\n\r\n    // add payload to the message\r\n    while ((bytesRead = inStream.read(buf1)) != -1) {\r\n      bytesMessage.writeBytes(buf1, 0, bytesRead);\r\n      bytesTotalSize += bytesRead;\r\n      System.out.println(&quot;Writing &quot; + bytesRead + &quot; bytes into message..&quot;);\r\n    }\r\n\r\n    System.out.println(&quot;Finished writing &quot; + bytesTotalSize + &quot; bytes into message!&quot;);\r\n\r\n    producer.send(destination, bytesMessage);\r\n    producerContext.close();\r\n    inStream.close();\r\n\r\n}\r\n```\r\n\r\n\r\nAnd this is the code for reading it. The FileOutputStream also creates the WRITE.zip-file successfully, but then we don’t have any information about the header. Its kind of lost-in-translation.\r\n\r\nI am not sure if we need to for example first read x bytes that are the header and then the rest what is the file. But then I am confused because here we use the entire length of the message for the file, as there is nothing additional for the header. It’s a bit confusing..\r\n\r\n```\r\n\r\n// The message is sent as a Message object, so we must determine its type\r\nif (message instanceof TextMessage) {\r\n  System.out.println(&quot;-- reading TEXT-message..&quot;);\r\n  TextMessage textMessage = (TextMessage) message;\r\n\r\n  try {\r\n    System.out.println(&quot;-- MyMessageListener received message with payload: &quot; + textMessage.getText());\r\n  } catch (JMSException jmse) {\r\n    System.out.println(&quot;JMS Exception in MyMessageListener class (TextMessage)!&quot;);\r\n    System.out.println(jmse.getLinkedException());\r\n  }\r\n\r\n} else if (message instanceof BytesMessage) {\r\n  System.out.println(&quot;-- reading BYTE-message..&quot;);\r\n  BytesMessage bytesMessage = (BytesMessage) message;\r\n\r\n  try {\r\n    int textLength = (int) bytesMessage.getBodyLength();\r\n    byte[] textBytes = new byte[textLength];\r\n    bytesMessage.readBytes(textBytes, textLength);\r\n\r\n    // Save file\r\n    FileOutputStream fos = new FileOutputStream(&quot;/opt/mq/WRITE.zip&quot;);\r\n    fos.write(textBytes);\r\n    fos.close();\r\n\r\n    // Show content of file\r\n    String content = new String(textBytes);\r\n    System.out.println(content);\r\n\r\n```","title":"Sending and Receiving SWIFT-messages with JMS","body":"<p>I am trying currently to send and receive messages on SWIFT FileAct. The current implementation is based on JMS. The requirement is, that I need to send an xml-message as payload, an XML-header that according to the information I got is supposed to be an RFH2-header and possible attachment-files (hence FileAct).</p>\n<p>I have a working connection to the Queue-manager and am able to send and read general text- or byte-messages. The problem is, that the format does not seem to be correct, in terms of the RFH2-header and the payload (and later possible attachments).\nSo when I read the message (that I can send myselve) I am just working on a stream of bytes. The problem is, how to say, when what part of the message is what (header/payload/attachments), since its just a stream of bytes.</p>\n<p>I can add some blocks of code. And two screenshots from the console when the operations are done. Maybe you can see something, that I am missing?</p>\n<pre><code>public void sendAByteMessage(JmsConnectionFactory connectionFactory, Destination destination) {\n  String ifCobaString = &quot;IF_COBA&quot;;\n  String filename;\n  FileInputStream inStream;\n  BytesMessage bytesMessage;\n  int bytesRead;\n  int bytesTotalSize = 0;\n  byte[] buf1 = new byte[64];\n\n    // write RFH2-Header\n    MQRFH2 mqrfh2 = new MQRFH2();\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\n    mqrfh2.setEncoding(CMQC.MQENC_NATIVE);\n    mqrfh2.setCodedCharSetId(CMQC.MQCCSI_INHERIT);\n    mqrfh2.setFormat(CMQC.MQFMT_NONE);\n    mqrfh2.setFlags(0);\n    mqrfh2.setNameValueCCSID(1208);\n\n    mqrfh2.setFieldValue(ifCobaString, &quot;OriginatorApplication&quot;, &quot;data&quot;);\n    mqrfh2.setFieldValue(ifCobaString, &quot;Requestor&quot;, &quot;ou=data,o=data,o=swift&quot;);\n    mqrfh2.setFieldValue(ifCobaString, &quot;Responder&quot;, &quot;ou=data,o=data,o=swift&quot;);\n    mqrfh2.setFieldValue(ifCobaString, &quot;Service&quot;, &quot;swift.data&quot;);\n    mqrfh2.setFieldValue(ifCobaString, &quot;RequestType&quot;, &quot;data&quot;);\n    mqrfh2.setFieldValue(ifCobaString, &quot;Compression&quot;, &quot;Zip&quot;);\n    mqrfh2.setFieldValue(ifCobaString, &quot;FileName&quot;, &quot;data.zip&quot;);\n    mqrfh2.setFieldValue(ifCobaString, &quot;FileReference&quot;, &quot;data.zip&quot;);\n\n    mqrfh2.write(new DataOutputStream(out), CMQC.MQENC_NATIVE, 819);\n\n    byte[] bytesHeader = out.toByteArray();\n\n    // set the input file to be send\n    filename = &quot;/opt/mq/TC.SB13.0015484631.zip&quot;; // just a random file that I am trying to send over the message\n    inStream = new FileInputStream(filename);\n\n    JMSContext producerContext = connectionFactory.createContext();\n    JMSProducer producer = producerContext.createProducer();\n    bytesMessage = producerContext.createBytesMessage();\n\n    // add RHF2-header to the message\n    bytesMessage.writeBytes(bytesHeader);\n\n    // add payload to the message\n    while ((bytesRead = inStream.read(buf1)) != -1) {\n      bytesMessage.writeBytes(buf1, 0, bytesRead);\n      bytesTotalSize += bytesRead;\n      System.out.println(&quot;Writing &quot; + bytesRead + &quot; bytes into message..&quot;);\n    }\n\n    System.out.println(&quot;Finished writing &quot; + bytesTotalSize + &quot; bytes into message!&quot;);\n\n    producer.send(destination, bytesMessage);\n    producerContext.close();\n    inStream.close();\n\n}\n</code></pre>\n<p>And this is the code for reading it. The FileOutputStream also creates the WRITE.zip-file successfully, but then we don’t have any information about the header. Its kind of lost-in-translation.</p>\n<p>I am not sure if we need to for example first read x bytes that are the header and then the rest what is the file. But then I am confused because here we use the entire length of the message for the file, as there is nothing additional for the header. It’s a bit confusing..</p>\n<pre><code>\n// The message is sent as a Message object, so we must determine its type\nif (message instanceof TextMessage) {\n  System.out.println(&quot;-- reading TEXT-message..&quot;);\n  TextMessage textMessage = (TextMessage) message;\n\n  try {\n    System.out.println(&quot;-- MyMessageListener received message with payload: &quot; + textMessage.getText());\n  } catch (JMSException jmse) {\n    System.out.println(&quot;JMS Exception in MyMessageListener class (TextMessage)!&quot;);\n    System.out.println(jmse.getLinkedException());\n  }\n\n} else if (message instanceof BytesMessage) {\n  System.out.println(&quot;-- reading BYTE-message..&quot;);\n  BytesMessage bytesMessage = (BytesMessage) message;\n\n  try {\n    int textLength = (int) bytesMessage.getBodyLength();\n    byte[] textBytes = new byte[textLength];\n    bytesMessage.readBytes(textBytes, textLength);\n\n    // Save file\n    FileOutputStream fos = new FileOutputStream(&quot;/opt/mq/WRITE.zip&quot;);\n    fos.write(textBytes);\n    fos.close();\n\n    // Show content of file\n    String content = new String(textBytes);\n    System.out.println(content);\n\n</code></pre>\n"},{"tags":["java","windows","winapi","active-directory","wmi"],"comments":[{"owner":{"account_id":2513,"reputation":98324,"user_id":3501,"accept_rate":30,"display_name":"Anders"},"score":0,"creation_date":1670843353,"post_id":74769313,"comment_id":131959143,"body_markdown":"WMIC != WMI, Either way, polling is bad...","body":"WMIC != WMI, Either way, polling is bad..."},{"owner":{"account_id":20968521,"reputation":308,"user_id":15406157,"display_name":"Igor_M"},"score":0,"creation_date":1670933285,"post_id":74769313,"comment_id":131983088,"body_markdown":"@Anders, my application is running on CentOS. There is standart wmic. I use it to get logon events. The question is there any other way to get it without using wmic?","body":"@Anders, my application is running on CentOS. There is standart wmic. I use it to get logon events. The question is there any other way to get it without using wmic?"}],"owner":{"account_id":20968521,"reputation":308,"user_id":15406157,"display_name":"Igor_M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670838838,"creation_date":1670838838,"question_id":74769313,"body_markdown":"Nowdays my application uses WMIC to poll logon events from remote machine. With WMI i use query like\r\n\r\n```-U user%password //myHost &#39;--delimiter=&quot;|&quot;&#39; &quot;SELECT eventCode,eventType,timeGenerated,User,InsertionStrings,Message FROM win32_NTLogEvent WHERE Logfile=&#39;Security&#39; AND NOT Message LIKE &#39;%$%&#39; AND (eventCode=&#39;4624&#39;) AND timeGenerated &gt; &#39;20221124190047.000000-000&#39;&quot;```\r\n\r\nSo server receives query, read `win32_NTLogEvent` object, opens file &#39;Security&#39;, read from it events with code 4624 (which is logon) filter according `timeGenerated` and return me events. \r\n\r\nIs there any way to get such information without using WMI?","title":"Way to get logon events from remote Windows server without using WMI","body":"<p>Nowdays my application uses WMIC to poll logon events from remote machine. With WMI i use query like</p>\n<p><code>-U user%password //myHost '--delimiter=&quot;|&quot;' &quot;SELECT eventCode,eventType,timeGenerated,User,InsertionStrings,Message FROM win32_NTLogEvent WHERE Logfile='Security' AND NOT Message LIKE '%$%' AND (eventCode='4624') AND timeGenerated &gt; '20221124190047.000000-000'&quot;</code></p>\n<p>So server receives query, read <code>win32_NTLogEvent</code> object, opens file 'Security', read from it events with code 4624 (which is logon) filter according <code>timeGenerated</code> and return me events.</p>\n<p>Is there any way to get such information without using WMI?</p>\n"},{"tags":["java","git","eclipse","github","egit"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1670842060,"post_id":74769292,"comment_id":131958741,"body_markdown":"This should be described on GitHub for all Git clients. I cannot find the term OTP (or &quot;one-time password&quot;?) in the GitHub documentation. Please link to the documentation of what you talking about. Be aware that the authentication for your GitHub account and a Git repository are two different things at GitHub. For personal access token see https://stackoverflow.com/a/68802292/6505250 - for one-time password don&#39;t tick _Store in Secure Store_.","body":"This should be described on GitHub for all Git clients. I cannot find the term OTP (or &quot;one-time password&quot;?) in the GitHub documentation. Please link to the documentation of what you talking about. Be aware that the authentication for your GitHub account and a Git repository are two different things at GitHub. For personal access token see <a href=\"https://stackoverflow.com/a/68802292/6505250\">stackoverflow.com/a/68802292/6505250</a> - for one-time password don&#39;t tick <i>Store in Secure Store</i>."}],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670838712,"creation_date":1670838712,"question_id":74769292,"body_markdown":"I am using Eclipse IDE 2022-12, Windows 10 x64.\r\n\r\nEgit Eclipse IDE 2022-12: How to log in GitHub accout with 2 steps (OTP)?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OEtFs.png","title":"Egit Eclipse IDE 2022-12: How to log in GitHub accout with 2 steps (OTP)?","body":"<p>I am using Eclipse IDE 2022-12, Windows 10 x64.</p>\n<p>Egit Eclipse IDE 2022-12: How to log in GitHub accout with 2 steps (OTP)?</p>\n<p><a href=\"https://i.stack.imgur.com/OEtFs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OEtFs.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","sql","sql-server"],"comments":[{"owner":{"account_id":2679531,"reputation":2832,"user_id":2315162,"accept_rate":81,"display_name":"sinclair"},"score":3,"creation_date":1670835775,"post_id":74768720,"comment_id":131956900,"body_markdown":"`try (Connection connection` defines a local variable, therefore your class variable `connection` is empty.","body":"<code>try (Connection connection</code> defines a local variable, therefore your class variable <code>connection</code> is empty."},{"owner":{"account_id":9628370,"reputation":3463,"user_id":7147233,"accept_rate":78,"display_name":"WhatsThePoint"},"score":2,"creation_date":1670836097,"post_id":74768720,"comment_id":131956986,"body_markdown":"Have a look [at this](https://www.postgresqltutorial.com/postgresql-jdbc/insert/) it covers using prepared statements for sql inserts in java to help prevent SQL Injection, it does mention PostgreSQL but the code is the same for SQL Server","body":"Have a look <a href=\"https://www.postgresqltutorial.com/postgresql-jdbc/insert/\" rel=\"nofollow noreferrer\">at this</a> it covers using prepared statements for sql inserts in java to help prevent SQL Injection, it does mention PostgreSQL but the code is the same for SQL Server"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1670836209,"post_id":74768720,"comment_id":131957025,"body_markdown":"Not very efficient to loop through all the players to count them: you can just do `SELECT COUNT(1) FROM PlayerMAP`. Also, it&#39;s a very bad idea to build an SQL statement when you can just use a `PreparedStatement` with parameters.","body":"Not very efficient to loop through all the players to count them: you can just do <code>SELECT COUNT(1) FROM PlayerMAP</code>. Also, it&#39;s a very bad idea to build an SQL statement when you can just use a <code>PreparedStatement</code> with parameters."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1670836451,"post_id":74768720,"comment_id":131957081,"body_markdown":"In fact, you don&#39;t even need the number of players: you just need to know if one exists.","body":"In fact, you don&#39;t even need the number of players: you just need to know if one exists."}],"answers":[{"tags":[],"owner":{"account_id":14781952,"reputation":120,"user_id":10675247,"display_name":"Philippe Fery"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670838708,"creation_date":1670838708,"answer_id":74769290,"question_id":74768720,"body_markdown":"I see several potential issues :\r\n1.\tIf you already have 1 or more players inserted in your table `PlayerMap`, `count`  will always be greater than 0. So, only players already in db will be added to your `allPlayers` list\r\n2.\t`ResultSet result = select.executeQuery(&quot; SELECT * FROM PlayerMAP&quot;);` there is an extra space before the `SELECT` keyword\r\n3.\tIf the field `id` is the primary key of table `PlayerMAP` (as I guess), player with id &quot;P1&quot; will not be added in database if one with that id already exists\r\n4.\tYou don’t need 2 try-catch block. One is enough. Furthermore, you should catch specific exception(s) thrown and not the generic `Exception`. Here, you should catch an `SQLException` instead.\r\n5.\tDid you try to add `System.out.println` (or debug points) before an after adding a new player ? It will ensure you that the SQL insert has been executed\r\n6.\tIf SQL insert is executed, is your database in autocommit mode ? If not, you should try to call `connection.commit()`\r\n7.\tAnd, finally, don’t forget to close your connection after insertion\r\n\r\n\t\ttry (Connection connection = DriverManager.getConnection(connectionURL)) {\r\n\t\t\tSystem.out.println(&quot;Connected to the Server.&quot;);\r\n\r\n\t\t\tStatement select = connection.createStatement();\r\n\t\t\tResultSet resultSet = select.executeQuery(&quot;SELECT * FROM PlayerMAP&quot;);\r\n\t\t\tint count = 0;\r\n\t\t\twhile (resultSet.next()) {\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t\tif (count &gt; 0) {\r\n\t\t\t\tResultSet result = select.executeQuery(&quot;SELECT * FROM PlayerMAP&quot;);//Remove extra space\r\n\t\t\t\twhile (result.next()) {\r\n\t\t\t\t\tPlayer player = new Player(result.getString(&quot;id&quot;), result.getString(&quot;firstName&quot;),\r\n\t\t\t\t\t\t\tresult.getString(&quot;lastName&quot;), result.getInt(&quot;age&quot;), result.getString(&quot;nationality&quot;),\r\n\t\t\t\t\t\t\tresult.getString(&quot;position&quot;), result.getInt(&quot;marketValue&quot;));\r\n\t\t\t\t\tallPlayers.add(player);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;in&quot;);//Add System.out (or debug point) to see if your code is executed \r\n\t\t\t\tString insert_string = &quot;INSERT INTO PlayerMAP(id, firstName, lastName, age, nationality, position, marketValue) VALUES (&#39;P1&#39;,&#39;Dan&#39;,&#39;Mic&#39;,18,&#39;Romania&#39;,&#39;Forward&#39;,1250)&quot;;\r\n\t\t\t\tStatement insert = connection.createStatement();\r\n\t\t\t\tinsert.executeUpdate(insert_string);\r\n\t\t\t\tconnection.commit();//Commit your insert\r\n\t\t\t\tPlayer player = new Player(&quot;P1&quot;, &quot;Dan&quot;, &quot;Mic&quot;, 18, &quot;Romania&quot;, &quot;Forward&quot;, 1250);\r\n\t\t\t\tallPlayers.add(player);\r\n\t\t\t\tSystem.out.println(&quot;out: &quot; + allPlayers.size()); //Add System.out (or debug point) to see if your code is executed \r\n\t\t\t}\r\n\t\t\tconnection.close();//Close your connection\r\n\t\t} catch (SQLException e) {//Catche SQLException instead of Exception\r\n\t\t\tSystem.out.println(&quot;I am not connected to the Server&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t\tif (connection != null)\r\n\t\t\t\tconnection.close();//Close the connection if exception occurs\r\n\t\t}\r\n\t}\r\n\r\n","title":"Why is my add method, not adding values into my sql database from java?","body":"<p>I see several potential issues :</p>\n<ol>\n<li><p>If you already have 1 or more players inserted in your table <code>PlayerMap</code>, <code>count</code>  will always be greater than 0. So, only players already in db will be added to your <code>allPlayers</code> list</p>\n</li>\n<li><p><code>ResultSet result = select.executeQuery(&quot; SELECT * FROM PlayerMAP&quot;);</code> there is an extra space before the <code>SELECT</code> keyword</p>\n</li>\n<li><p>If the field <code>id</code> is the primary key of table <code>PlayerMAP</code> (as I guess), player with id &quot;P1&quot; will not be added in database if one with that id already exists</p>\n</li>\n<li><p>You don’t need 2 try-catch block. One is enough. Furthermore, you should catch specific exception(s) thrown and not the generic <code>Exception</code>. Here, you should catch an <code>SQLException</code> instead.</p>\n</li>\n<li><p>Did you try to add <code>System.out.println</code> (or debug points) before an after adding a new player ? It will ensure you that the SQL insert has been executed</p>\n</li>\n<li><p>If SQL insert is executed, is your database in autocommit mode ? If not, you should try to call <code>connection.commit()</code></p>\n</li>\n<li><p>And, finally, don’t forget to close your connection after insertion</p>\n<pre><code>try (Connection connection = DriverManager.getConnection(connectionURL)) {\n    System.out.println(&quot;Connected to the Server.&quot;);\n\n    Statement select = connection.createStatement();\n    ResultSet resultSet = select.executeQuery(&quot;SELECT * FROM PlayerMAP&quot;);\n    int count = 0;\n    while (resultSet.next()) {\n        count++;\n    }\n    if (count &gt; 0) {\n        ResultSet result = select.executeQuery(&quot;SELECT * FROM PlayerMAP&quot;);//Remove extra space\n        while (result.next()) {\n            Player player = new Player(result.getString(&quot;id&quot;), result.getString(&quot;firstName&quot;),\n                    result.getString(&quot;lastName&quot;), result.getInt(&quot;age&quot;), result.getString(&quot;nationality&quot;),\n                    result.getString(&quot;position&quot;), result.getInt(&quot;marketValue&quot;));\n            allPlayers.add(player);\n        }\n    } else {\n        System.out.println(&quot;in&quot;);//Add System.out (or debug point) to see if your code is executed \n        String insert_string = &quot;INSERT INTO PlayerMAP(id, firstName, lastName, age, nationality, position, marketValue) VALUES ('P1','Dan','Mic',18,'Romania','Forward',1250)&quot;;\n        Statement insert = connection.createStatement();\n        insert.executeUpdate(insert_string);\n        connection.commit();//Commit your insert\n        Player player = new Player(&quot;P1&quot;, &quot;Dan&quot;, &quot;Mic&quot;, 18, &quot;Romania&quot;, &quot;Forward&quot;, 1250);\n        allPlayers.add(player);\n        System.out.println(&quot;out: &quot; + allPlayers.size()); //Add System.out (or debug point) to see if your code is executed \n    }\n    connection.close();//Close your connection\n} catch (SQLException e) {//Catche SQLException instead of Exception\n    System.out.println(&quot;I am not connected to the Server&quot;);\n    e.printStackTrace();\n    if (connection != null)\n        connection.close();//Close the connection if exception occurs\n}\n</code></pre>\n<p>}</p>\n</li>\n</ol>\n"}],"owner":{"account_id":24687737,"reputation":11,"user_id":18580700,"display_name":"Muntean Tudor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1670838708,"creation_date":1670835509,"question_id":74768720,"body_markdown":"So, I have to add a player into a list, and in the same time, to add it to my SQL Server database, but the add in the table is not happening, even though the add in the list is fine.\r\n\r\n```\r\npublic class PlayerRepositoryJDBC {\r\n\r\n    private Connection connection;\r\n    private ArrayList&lt;Player&gt; allPlayers = new ArrayList&lt;&gt;();\r\n\r\n\r\n    public ArrayList&lt;Player&gt; getAllPlayers() {\r\n        return allPlayers;\r\n    }\r\n\r\n    public void setAllPlayers(ArrayList&lt;Player&gt; allPlayers) {\r\n        this.allPlayers = allPlayers;\r\n    }\r\n\r\n    public PlayerRepositoryJDBC() throws SQLException {\r\n        String connectionURL = &quot;jdbc:sqlserver://localhost:52448;databaseName=MAP;user=user1;password=1234;encrypt=true;trustServerCertificate=true&quot;;\r\n        try {\r\n            System.out.print(&quot;Connecting to the server......&quot;);\r\n            try (Connection connection = DriverManager.getConnection(connectionURL)) {\r\n                System.out.println(&quot;Connected to the Server.&quot;);\r\n\r\n                Statement select = connection.createStatement();\r\n                ResultSet resultSet = select.executeQuery(&quot;SELECT * FROM PlayerMAP&quot;);\r\n                int count = 0;\r\n                while (resultSet.next()) {\r\n                    count++;\r\n                }\r\n                if (count &gt; 0) {\r\n                    ResultSet result = select.executeQuery(&quot; SELECT * FROM PlayerMAP&quot;);\r\n                    while (result.next()) {\r\n                        Player player = new Player\r\n                                (result.getString(&quot;id&quot;), result.getString(&quot;firstName&quot;), result.getString(&quot;lastName&quot;), result.getInt(&quot;age&quot;), result.getString(&quot;nationality&quot;), result.getString(&quot;position&quot;), result.getInt(&quot;marketValue&quot;));\r\n                        allPlayers.add(player);\r\n                    }\r\n                } else {\r\n                    String insert_string = &quot;INSERT INTO PlayerMAP(id, firstName, lastName, age, nationality, position, marketValue) VALUES (&#39;P1&#39;,&#39;Dan&#39;,&#39;Mic&#39;,18,&#39;Romania&#39;,&#39;Forward&#39;,1250)&quot;;\r\n                    Statement insert = connection.createStatement();\r\n                    insert.executeUpdate(insert_string);\r\n                    Player player=new Player(&quot;P1&quot;,&quot;Dan&quot;,&quot;Mic&quot;,18,&quot;Romania&quot;,&quot;Forward&quot;,1250);\r\n                    allPlayers.add(player);\r\n                }\r\n                //System.out.println(allPlayers.size());\r\n\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;I am not connected to the Server&quot;);\r\n                e.printStackTrace();\r\n            }\r\n\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public void add(Player entity) throws SQLException {\r\n        allPlayers.add(entity);\r\n        String id=entity.getId();\r\n        String firstName=entity.getFirstName();\r\n        String lastName=entity.getLastName();\r\n        int age = entity.getAge();\r\n        String nationality= entity.getNationality();\r\n        String position=entity.getPosition();\r\n        int marketValue=entity.getMarketValue();\r\n        String insert_string = &quot;INSERT INTO PlayerMAP(id, firstName, lastName, age, nationality, position, marketValue) VALUES (&#39;&quot;+id+&quot;&#39;, &#39;&quot;+firstName+&quot;&#39;, &#39;&quot;+lastName+&quot;&#39;, &#39;&quot;+age+&quot;&#39;, &#39;&quot;+nationality+&quot;&#39;, &#39;&quot;+position+&quot;&#39;, &#39;&quot;+marketValue+&quot;&#39;)&quot;;\r\n\r\n        Statement insert = this.connection.createStatement();\r\n        insert.executeUpdate(insert_string);\r\n\r\n    }\r\n```\r\n\r\nThat&#39;s the code...\r\nSo I am expecting from my program to add an object of type Player, in my list `allPlayers`, and it should also add in my database in the table PlayerMAP. But there are no changes in my table PlayerMAP, when I check the SSMS.","title":"Why is my add method, not adding values into my sql database from java?","body":"<p>So, I have to add a player into a list, and in the same time, to add it to my SQL Server database, but the add in the table is not happening, even though the add in the list is fine.</p>\n<pre><code>public class PlayerRepositoryJDBC {\n\n    private Connection connection;\n    private ArrayList&lt;Player&gt; allPlayers = new ArrayList&lt;&gt;();\n\n\n    public ArrayList&lt;Player&gt; getAllPlayers() {\n        return allPlayers;\n    }\n\n    public void setAllPlayers(ArrayList&lt;Player&gt; allPlayers) {\n        this.allPlayers = allPlayers;\n    }\n\n    public PlayerRepositoryJDBC() throws SQLException {\n        String connectionURL = &quot;jdbc:sqlserver://localhost:52448;databaseName=MAP;user=user1;password=1234;encrypt=true;trustServerCertificate=true&quot;;\n        try {\n            System.out.print(&quot;Connecting to the server......&quot;);\n            try (Connection connection = DriverManager.getConnection(connectionURL)) {\n                System.out.println(&quot;Connected to the Server.&quot;);\n\n                Statement select = connection.createStatement();\n                ResultSet resultSet = select.executeQuery(&quot;SELECT * FROM PlayerMAP&quot;);\n                int count = 0;\n                while (resultSet.next()) {\n                    count++;\n                }\n                if (count &gt; 0) {\n                    ResultSet result = select.executeQuery(&quot; SELECT * FROM PlayerMAP&quot;);\n                    while (result.next()) {\n                        Player player = new Player\n                                (result.getString(&quot;id&quot;), result.getString(&quot;firstName&quot;), result.getString(&quot;lastName&quot;), result.getInt(&quot;age&quot;), result.getString(&quot;nationality&quot;), result.getString(&quot;position&quot;), result.getInt(&quot;marketValue&quot;));\n                        allPlayers.add(player);\n                    }\n                } else {\n                    String insert_string = &quot;INSERT INTO PlayerMAP(id, firstName, lastName, age, nationality, position, marketValue) VALUES ('P1','Dan','Mic',18,'Romania','Forward',1250)&quot;;\n                    Statement insert = connection.createStatement();\n                    insert.executeUpdate(insert_string);\n                    Player player=new Player(&quot;P1&quot;,&quot;Dan&quot;,&quot;Mic&quot;,18,&quot;Romania&quot;,&quot;Forward&quot;,1250);\n                    allPlayers.add(player);\n                }\n                //System.out.println(allPlayers.size());\n\n            } catch (Exception e) {\n                System.out.println(&quot;I am not connected to the Server&quot;);\n                e.printStackTrace();\n            }\n\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public void add(Player entity) throws SQLException {\n        allPlayers.add(entity);\n        String id=entity.getId();\n        String firstName=entity.getFirstName();\n        String lastName=entity.getLastName();\n        int age = entity.getAge();\n        String nationality= entity.getNationality();\n        String position=entity.getPosition();\n        int marketValue=entity.getMarketValue();\n        String insert_string = &quot;INSERT INTO PlayerMAP(id, firstName, lastName, age, nationality, position, marketValue) VALUES ('&quot;+id+&quot;', '&quot;+firstName+&quot;', '&quot;+lastName+&quot;', '&quot;+age+&quot;', '&quot;+nationality+&quot;', '&quot;+position+&quot;', '&quot;+marketValue+&quot;')&quot;;\n\n        Statement insert = this.connection.createStatement();\n        insert.executeUpdate(insert_string);\n\n    }\n</code></pre>\n<p>That's the code...\nSo I am expecting from my program to add an object of type Player, in my list <code>allPlayers</code>, and it should also add in my database in the table PlayerMAP. But there are no changes in my table PlayerMAP, when I check the SSMS.</p>\n"},{"tags":["java","jackson"],"owner":{"account_id":11218816,"reputation":725,"user_id":8230537,"accept_rate":100,"display_name":"Rollsbean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670838556,"creation_date":1670838556,"question_id":74769267,"body_markdown":"There are two Java beans `Child` and `Parent`, enum `TypeEnum`\r\n\r\n```java\r\n@JsonTypeInfo(\r\n        use = JsonTypeInfo.Id.NAME,\r\n        property = &quot;type&quot;,\r\n        visible = true,\r\n        defaultImpl = Parent.class)\r\n@JsonSubTypes({\r\n        @JsonSubTypes.Type(value = Child.class, name = &quot;CHILD&quot;)\r\n})\r\npublic class Parent {\r\n   protected String type;\r\n\r\n   public getType() {...}\r\n   public setType(){...}\r\n}\r\n```\r\n\r\n```java\r\npublic class Child extends Parent {\r\n}\r\n```\r\n\r\n```java\r\npublic TypeEnum {\r\n\r\n  PARENT(1),\r\n\r\n  CHILD(2);\r\n\r\n  private int code;\r\n\r\n  TypeEnum(int code) {\r\n        code = code;\r\n  }\r\n}\r\n```\r\n\r\nWhen deserializing, if type is `&quot;PARENT&quot;` then convert it to bean `Parent`, if type is `&quot;CHILD&quot;` convert it to bean `CHILD`\r\n```json\r\n{\r\n  &quot;type&quot;: &quot;PARENT&quot;;\r\n}\r\n````\r\n\r\nwhile, the type value is 1 and 2 in previously data as below, current type value is TypeEnum#code.\r\n\r\n```json\r\n{\r\n  &quot;type&quot;: 1;\r\n}\r\n```\r\n\r\n```json\r\n{\r\n  &quot;type&quot;: 2;\r\n}\r\n```\r\n\r\nI want to deserialize these two scenarios using custom resolver as below, so whether `&quot;type&quot;: 1` or `&quot;type&quot;: &quot;PARENT&quot;` will be deserialized `PARENT`, but how to implement custom resolver, any idea?\r\n\r\n\r\n```\r\n@JsonTypeInfo(\r\n        use = JsonTypeInfo.Id.NAME,\r\n        property = &quot;type&quot;,\r\n        visible = true,\r\n        defaultImpl = Parent.class)\r\n@JsonSubTypes({\r\n        @JsonSubTypes.Type(value = Child.class, name = &quot;CHILD&quot;)\r\n})\r\n@JsonTypeIdResolver(CustomResolver.class)\r\n@JsonDeserialize(using = CustomSerializer.class)\r\npublic class Parent {...}\r\n```","title":"Jackson how to deserialize json using custom resolver with @JsonTypeInfo","body":"<p>There are two Java beans <code>Child</code> and <code>Parent</code>, enum <code>TypeEnum</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonTypeInfo(\n        use = JsonTypeInfo.Id.NAME,\n        property = &quot;type&quot;,\n        visible = true,\n        defaultImpl = Parent.class)\n@JsonSubTypes({\n        @JsonSubTypes.Type(value = Child.class, name = &quot;CHILD&quot;)\n})\npublic class Parent {\n   protected String type;\n\n   public getType() {...}\n   public setType(){...}\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Child extends Parent {\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public TypeEnum {\n\n  PARENT(1),\n\n  CHILD(2);\n\n  private int code;\n\n  TypeEnum(int code) {\n        code = code;\n  }\n}\n</code></pre>\n<p>When deserializing, if type is <code>&quot;PARENT&quot;</code> then convert it to bean <code>Parent</code>, if type is <code>&quot;CHILD&quot;</code> convert it to bean <code>CHILD</code></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;type&quot;: &quot;PARENT&quot;;\n}\n</code></pre>\n<p>while, the type value is 1 and 2 in previously data as below, current type value is TypeEnum#code.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;type&quot;: 1;\n}\n</code></pre>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;type&quot;: 2;\n}\n</code></pre>\n<p>I want to deserialize these two scenarios using custom resolver as below, so whether <code>&quot;type&quot;: 1</code> or <code>&quot;type&quot;: &quot;PARENT&quot;</code> will be deserialized <code>PARENT</code>, but how to implement custom resolver, any idea?</p>\n<pre><code>@JsonTypeInfo(\n        use = JsonTypeInfo.Id.NAME,\n        property = &quot;type&quot;,\n        visible = true,\n        defaultImpl = Parent.class)\n@JsonSubTypes({\n        @JsonSubTypes.Type(value = Child.class, name = &quot;CHILD&quot;)\n})\n@JsonTypeIdResolver(CustomResolver.class)\n@JsonDeserialize(using = CustomSerializer.class)\npublic class Parent {...}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670234462,"post_id":74638903,"comment_id":131820684,"body_markdown":"How did you create the table? Identity ID creation is a database operation and not performed by hibernate","body":"How did you create the table? Identity ID creation is a database operation and not performed by hibernate"},{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1670234540,"post_id":74638903,"comment_id":131820711,"body_markdown":"What database engine do you use ? (Mysql, Postgres...)","body":"What database engine do you use ? (Mysql, Postgres...)"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670234600,"post_id":74638903,"comment_id":131820737,"body_markdown":"[Identity cache](https://www.sqlshack.com/learn-to-avoid-an-identity-jump-issue-identity_cache-with-the-help-of-trace-command-t272/) could be the issue","body":"<a href=\"https://www.sqlshack.com/learn-to-avoid-an-identity-jump-issue-identity_cache-with-the-help-of-trace-command-t272/\" rel=\"nofollow noreferrer\">Identity cache</a> could be the issue"},{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1670234648,"post_id":74638903,"comment_id":131820759,"body_markdown":"If it&#39;s important to you to manage sequence you can use Strategy = GenerationType.AUTO. A specific table will be create to manage sequence.","body":"If it&#39;s important to you to manage sequence you can use Strategy = GenerationType.AUTO. A specific table will be create to manage sequence."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670234823,"post_id":74638903,"comment_id":131820815,"body_markdown":"@Mr_Thorynque `AUTO - either identity column, sequence or table depending on the underlying DB`. If sequence is desired, it should be specified explicitly with `@GeneratedValue(strategy=GenerationType.AUTO, generator=&quot;my_seq_gen&quot;) @SequenceGenerator(name=&quot;my_seq_gen&quot;, sequenceName=&quot;ENTITY_SEQ&quot;)`","body":"@Mr_Thorynque <code>AUTO - either identity column, sequence or table depending on the underlying DB</code>. If sequence is desired, it should be specified explicitly with <code>@GeneratedValue(strategy=GenerationType.AUTO, generator=&quot;my_seq_gen&quot;) @SequenceGenerator(name=&quot;my_seq_gen&quot;, sequenceName=&quot;ENTITY_SEQ&quot;)</code>"},{"owner":{"account_id":4484503,"reputation":16656,"user_id":3879847,"accept_rate":72,"display_name":"Ranjithkumar"},"score":0,"creation_date":1670234861,"post_id":74638903,"comment_id":131820824,"body_markdown":"@Mr_Thorynque I am using Oracle database.","body":"@Mr_Thorynque I am using Oracle database."},{"owner":{"account_id":4484503,"reputation":16656,"user_id":3879847,"accept_rate":72,"display_name":"Ranjithkumar"},"score":0,"creation_date":1670235265,"post_id":74638903,"comment_id":131820957,"body_markdown":"@XtremeBaumer I am using @ Table annotation. Table will create automatically when I launch the springboot application. I don&#39;t know it created by spring or hibernate. I&#39;m new to spring development","body":"@XtremeBaumer I am using @ Table annotation. Table will create automatically when I launch the springboot application. I don&#39;t know it created by spring or hibernate. I&#39;m new to spring development"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":3,"creation_date":1670235863,"post_id":74638903,"comment_id":131821151,"body_markdown":"Never let hibernate generate tables for you. It is bound to cause problems because you don&#39;t have full control. You should drop that table and recreate it manually with `(START WITH 1 INCREMENT BY 1 CYCLE CACHE 0)`","body":"Never let hibernate generate tables for you. It is bound to cause problems because you don&#39;t have full control. You should drop that table and recreate it manually with <code>(START WITH 1 INCREMENT BY 1 CYCLE CACHE 0)</code>"},{"owner":{"account_id":4484503,"reputation":16656,"user_id":3879847,"accept_rate":72,"display_name":"Ranjithkumar"},"score":0,"creation_date":1670236247,"post_id":74638903,"comment_id":131821271,"body_markdown":"@XtremeBaumer I don&#39;t know where I need to use this. I will do research for this. Thanks for your inputs.","body":"@XtremeBaumer I don&#39;t know where I need to use this. I will do research for this. Thanks for your inputs."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":2,"creation_date":1670236574,"post_id":74638903,"comment_id":131821370,"body_markdown":"with a create table statement. maybe this is correct page: https://docs.oracle.com/en/database/other-databases/nosql-database/21.1/sqlreferencefornosql/identity-column.html","body":"with a create table statement. maybe this is correct page: <a href=\"https://docs.oracle.com/en/database/other-databases/nosql-database/21.1/sqlreferencefornosql/identity-column.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/database/other-databases/nosql-database/2&zwnj;&#8203;1.1/&hellip;</a>"},{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1670236961,"post_id":74638903,"comment_id":131821480,"body_markdown":"Oracle manage id with sequence so may be that a Identity cache issue https://docs.oracle.com/cd/E11882_01/server.112/e41084/statements_6015.htm#SQLRF01314 by default cache size is 20","body":"Oracle manage id with sequence so may be that a Identity cache issue <a href=\"https://docs.oracle.com/cd/E11882_01/server.112/e41084/statements_6015.htm#SQLRF01314\" rel=\"nofollow noreferrer\">docs.oracle.com/cd/E11882_01/server.112/e41084/&hellip;</a> by default cache size is 20"},{"owner":{"account_id":4484503,"reputation":16656,"user_id":3879847,"accept_rate":72,"display_name":"Ranjithkumar"},"score":0,"creation_date":1670237255,"post_id":74638903,"comment_id":131821569,"body_markdown":"@Mr_Thorynque this is I want :) I try to figure out why it&#39;s increasing by 20. You got it. Thanks XtremeBaumer, for giving me valuable information.","body":"@Mr_Thorynque this is I want :) I try to figure out why it&#39;s increasing by 20. You got it. Thanks XtremeBaumer, for giving me valuable information."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670246575,"post_id":74638903,"comment_id":131824767,"body_markdown":"It increases because the first time you run the application, it allocates IDs 1 through 20. Since you don&#39;t fully use them and the application perhaps doesn&#39;t properly close its connection, oracle still has them allocated. Then you establish a new connection which allocates the next 20 IDs. This goes on and on. To fix this, you have to manually create the sequence with `NOCACHE` flag","body":"It increases because the first time you run the application, it allocates IDs 1 through 20. Since you don&#39;t fully use them and the application perhaps doesn&#39;t properly close its connection, oracle still has them allocated. Then you establish a new connection which allocates the next 20 IDs. This goes on and on. To fix this, you have to manually create the sequence with <code>NOCACHE</code> flag"},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1670250583,"post_id":74638903,"comment_id":131826294,"body_markdown":"I strongly agree with @XtremeBaumer, do not let hibernate build your tables for you.  You can use what hibernate generates as a template, but it is bad idea in the long run.  The problems start to occur once your database is in production and you need to make changes to your database.  Hibernate will just change the database as needed and all data can be lost.  In general there are two database migration tools in java:  [Flyway and Liquibase](https://www.baeldung.com/liquibase-vs-flyway).","body":"I strongly agree with @XtremeBaumer, do not let hibernate build your tables for you.  You can use what hibernate generates as a template, but it is bad idea in the long run.  The problems start to occur once your database is in production and you need to make changes to your database.  Hibernate will just change the database as needed and all data can be lost.  In general there are two database migration tools in java:  <a href=\"https://www.baeldung.com/liquibase-vs-flyway\" rel=\"nofollow noreferrer\">Flyway and Liquibase</a>."},{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1670293997,"post_id":74638903,"comment_id":131837976,"body_markdown":"Please try allocationSize so that it won&#39;t get cached\n@Id\n  @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;my_entity_seq&quot;)\n  @SequenceGenerator(name = &quot;my_entity_seq&quot;, sequenceName = &quot;my_entity_seq&quot;, allocationSize = 1)\n  private Long id;","body":"Please try allocationSize so that it won&#39;t get cached @Id   @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;my_entity_seq&quot;)   @SequenceGenerator(name = &quot;my_entity_seq&quot;, sequenceName = &quot;my_entity_seq&quot;, allocationSize = 1)   private Long id;"}],"answers":[{"tags":[],"owner":{"account_id":3298176,"reputation":7136,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670658341,"creation_date":1670509698,"answer_id":74731806,"question_id":74638903,"body_markdown":"It is related to Hi/Lo algorithm that Hibernate uses for incrementing the sequence value. Read more in this example: https://www.baeldung.com/hi-lo-algorithm-hibernate.\r\n\r\nThis is an optimization used by Hibernate, which consumes some values from the DB sequence into a pool (Java runtime) and uses them while executing appropriate `INSERT` statements on the table. If this optimization is turned off and set `allocationSize=1`, then the desired behavior (no gaps in ids) is possible (with a certain precision, not always), but for the price of making two requests to DB for each `INSERT`.\r\n\r\nExamples give the idea of what is going on in the upper level of abstraction.\r\n(Internal implementation is more complex, but here we don&#39;t care)\r\n\r\n**Scenario:** user makes 21 inserts during some period of time\r\n\r\n**Example 1 (current behavior `allocationSize=20`)**\r\n\r\n       #1 insert: // first cycle \r\n       - need next MY_SEQ value, but MY_SEQ_PREFETCH_POOL is empty\r\n       - select 20 values from MY_SEQ into MY_SEQ_PREFETCH_POOL   // call DB\r\n       - take it from MY_SEQ_PREFETCH_POOL &gt;&gt; remaining=20-1\r\n       - execute INSERT                                           // call DB\r\n    \r\n       #2-#20 insert:\r\n       - need next MY_SEQ value, \r\n       - take it from MY_SEQ_PREFETCH_POOL &gt;&gt; remaining=20-i\r\n       - execute INSERT                                           // call DB\r\n     \r\n       #21 insert: // new cycle \r\n       - need next MY_SEQ value, but MY_SEQ_PREFETCH_POOL is empty\r\n       - select 20 values from MY_SEQ into MY_SEQ_PREFETCH_POOL   // call DB\r\n       - take it from MY_SEQ_PREFETCH_POOL &gt;&gt; remaining=19\r\n       - execute INSERT                                           // call DB\r\n\r\n**Example 2 (current behavior `allocationSize=1`)**\r\n\r\n       #1-21 insert:\r\n       - need next MY_SEQ value, but MY_SEQ_PREFETCH_POOL is empty\r\n       - select 1 value from MY_SEQ into MY_SEQ_PREFETCH_POOL     // call DB\r\n       - take it from MY_SEQ_PREFETCH_POOL &gt;&gt; remaining=0\r\n       - execute INSERT                                           // call DB\r\n\r\n\r\n**Example#1**: total calls to DB is **23**\\\r\n**Example#2**: total calls to DB is **42**\r\n\r\nManual declaration of the sequence in the database will not help in this case, because, for instance in this statement\\\r\n\r\n`CREATE SEQUENCE ABC START WITH 1 INCREMENT BY 1 CYCLE NOCACHE;`\r\n\r\nwe control only &quot;cache&quot; used in the DB internal runtime, which is not visible to Hibernate. It affects sequence gaps in situations when DB stopped and started again, and this is not the case.\r\n\r\nWhen Hibernate consumes values from the sequence it implies that the state of the sequence is changed on DB side. We may treat it as hotel rooms booking: a company (Hibernate) booked 20 rooms for a conference in a hotel (DB), but only 2 participants arrived. Then 18 rooms will stay empty and cannot be used by other guests. In this case the &quot;booking period&quot; is forever.\r\n\r\n\r\nMore details on how to configure Hibernate work with sequences is here:\r\nhttps://ntsim.uk/posts/how-to-use-hibernate-identifier-sequence-generators-properly\r\n\r\nHere is a short answer for older version of Hibernate. Still it has relevant ideas:\r\nhttps://stackoverflow.com/a/5346701/2774914\r\n\r\n","title":"Hibernate GenerationType.IDENTITY not generating sequence ids","body":"<p>It is related to Hi/Lo algorithm that Hibernate uses for incrementing the sequence value. Read more in this example: <a href=\"https://www.baeldung.com/hi-lo-algorithm-hibernate\" rel=\"nofollow noreferrer\">https://www.baeldung.com/hi-lo-algorithm-hibernate</a>.</p>\n<p>This is an optimization used by Hibernate, which consumes some values from the DB sequence into a pool (Java runtime) and uses them while executing appropriate <code>INSERT</code> statements on the table. If this optimization is turned off and set <code>allocationSize=1</code>, then the desired behavior (no gaps in ids) is possible (with a certain precision, not always), but for the price of making two requests to DB for each <code>INSERT</code>.</p>\n<p>Examples give the idea of what is going on in the upper level of abstraction.\n(Internal implementation is more complex, but here we don't care)</p>\n<p><strong>Scenario:</strong> user makes 21 inserts during some period of time</p>\n<p><strong>Example 1 (current behavior <code>allocationSize=20</code>)</strong></p>\n<pre><code>   #1 insert: // first cycle \n   - need next MY_SEQ value, but MY_SEQ_PREFETCH_POOL is empty\n   - select 20 values from MY_SEQ into MY_SEQ_PREFETCH_POOL   // call DB\n   - take it from MY_SEQ_PREFETCH_POOL &gt;&gt; remaining=20-1\n   - execute INSERT                                           // call DB\n\n   #2-#20 insert:\n   - need next MY_SEQ value, \n   - take it from MY_SEQ_PREFETCH_POOL &gt;&gt; remaining=20-i\n   - execute INSERT                                           // call DB\n \n   #21 insert: // new cycle \n   - need next MY_SEQ value, but MY_SEQ_PREFETCH_POOL is empty\n   - select 20 values from MY_SEQ into MY_SEQ_PREFETCH_POOL   // call DB\n   - take it from MY_SEQ_PREFETCH_POOL &gt;&gt; remaining=19\n   - execute INSERT                                           // call DB\n</code></pre>\n<p><strong>Example 2 (current behavior <code>allocationSize=1</code>)</strong></p>\n<pre><code>   #1-21 insert:\n   - need next MY_SEQ value, but MY_SEQ_PREFETCH_POOL is empty\n   - select 1 value from MY_SEQ into MY_SEQ_PREFETCH_POOL     // call DB\n   - take it from MY_SEQ_PREFETCH_POOL &gt;&gt; remaining=0\n   - execute INSERT                                           // call DB\n</code></pre>\n<p><strong>Example#1</strong>: total calls to DB is <strong>23</strong><br />\n<strong>Example#2</strong>: total calls to DB is <strong>42</strong></p>\n<p>Manual declaration of the sequence in the database will not help in this case, because, for instance in this statement\\</p>\n<p><code>CREATE SEQUENCE ABC START WITH 1 INCREMENT BY 1 CYCLE NOCACHE;</code></p>\n<p>we control only &quot;cache&quot; used in the DB internal runtime, which is not visible to Hibernate. It affects sequence gaps in situations when DB stopped and started again, and this is not the case.</p>\n<p>When Hibernate consumes values from the sequence it implies that the state of the sequence is changed on DB side. We may treat it as hotel rooms booking: a company (Hibernate) booked 20 rooms for a conference in a hotel (DB), but only 2 participants arrived. Then 18 rooms will stay empty and cannot be used by other guests. In this case the &quot;booking period&quot; is forever.</p>\n<p>More details on how to configure Hibernate work with sequences is here:\n<a href=\"https://ntsim.uk/posts/how-to-use-hibernate-identifier-sequence-generators-properly\" rel=\"nofollow noreferrer\">https://ntsim.uk/posts/how-to-use-hibernate-identifier-sequence-generators-properly</a></p>\n<p>Here is a short answer for older version of Hibernate. Still it has relevant ideas:\n<a href=\"https://stackoverflow.com/a/5346701/2774914\">https://stackoverflow.com/a/5346701/2774914</a></p>\n"},{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670702475,"creation_date":1670628321,"answer_id":74749153,"question_id":74638903,"body_markdown":"Although I think the question comments already provide all the information necessary to understand the problem, please, let me try explain some things and try fixing some inaccuracies.\r\n\r\nAccording to your source code you are using the `IDENTITY` id generation strategy:\r\n\r\n```java\r\n@Id\r\n@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n@Column(unique = true, nullable = false)\r\nprivate Long id;\r\n```\r\n\r\nYou are using an Oracle database and this is a very relevant information for the question.\r\n\r\nSupport for `IDENTITY` columns was introduced in Oracle 12c, probably Release 1, and in Hibernate version - I would say [5.1](https://hibernate.atlassian.net/browse/HHH-9983) although [here in SO](https://stackoverflow.com/questions/57767571/how-do-i-use-oracle-12c-automatic-identity-generation-with-hibernate-spring-and) is indicated that you need at least - 5.3.\r\n\r\nEither way, `IDENTITY` columns in Oracle are supported by the use of database `SEQUENCE`s: i.e., for every `IDENTITY` column a corresponding sequence is created. As you can read in the [Oracle documentation](https://docs.oracle.com/en/database/oracle/oracle-database/18/sqlrf/CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6) this explain why, among others, all the options for creating sequences can be applied to the `IDENTITY` column definition, like min and max ranges, cache size, etc.\r\n\r\nBy default a sequence in Oracle has a cache size of `20` as indicated in a tiny note in the [aforementioned Oracle documentation](https://docs.oracle.com/en/database/oracle/oracle-database/18/sqlrf/CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6):\r\n\r\n&gt; **Note:** When you create an identity column, Oracle recommends that you \r\n&gt; specify the `CACHE` clause with a value higher than the default of `20` to \r\n&gt; enhance performance.\r\n\r\nAnd this default cache size is the reason that explains why you are obtaining this non consecutive numbers in your `id` values.\r\n\r\nThis behavior is not exclusive to Hibernate: please, just issue a simple JDBC insert statement or SQL commands with any suitable tool and you will experiment the same.\r\n\r\nTo solve the issue create your table indicating `NOCACHE` for your IDENTITY column:\r\n\r\n```sql\r\nCREATE TABLE your_table (\r\n  id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY NOCACHE,\r\n  --...\r\n)\r\n```\r\n\r\nNote you need to use [`NOCACHE`](https://docs.oracle.com/en/database/oracle/oracle-database/18/sqlrf/CREATE-SEQUENCE.html#GUID-E9C78A8C-615A-4757-B2A8-5E6EFB130571) and not `CACHE 0` as indicated in the question comments and now in a previous version of other answers, which is an error because the value for the [`CACHE` option](https://docs.oracle.com/en/database/oracle/oracle-database/18/sqlrf/CREATE-SEQUENCE.html#GUID-E9C78A8C-615A-4757-B2A8-5E6EFB130571) should be at least `2`.\r\n\r\nProbably you could modify your column without recreating the whole table as well:\r\n\r\n```sql\r\nALTER TABLE your_table MODIFY (ID GENERATED BY DEFAULT ON NULL AS IDENTITY NOCACHE);\r\n``` \r\n\r\nHaving said all that, please, be aware that in fact the [cache mechanism](https://docs.oracle.com/cd/B28359_01/server.111/b28310/views002.htm#ADMIN11801) is an optimization and not a drawback: in the end, and this is just my opinion, those ids are only non natural assigned IDs and, in a general use case, the cache benefits outweigh the drawbacks.\r\n\r\nPlease, consider read [this great article](https://oracle-base.com/articles/12c/identity-columns-in-oracle-12cr1) about `IDENTITY` columns in Oracle. \r\n\r\nThe provided answer related to the use of the `hilo` optimizer could be right but it requires explicitly using the optimizer in your `id` field declaration which seems not to be the case.","title":"Hibernate GenerationType.IDENTITY not generating sequence ids","body":"<p>Although I think the question comments already provide all the information necessary to understand the problem, please, let me try explain some things and try fixing some inaccuracies.</p>\n<p>According to your source code you are using the <code>IDENTITY</code> id generation strategy:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(unique = true, nullable = false)\nprivate Long id;\n</code></pre>\n<p>You are using an Oracle database and this is a very relevant information for the question.</p>\n<p>Support for <code>IDENTITY</code> columns was introduced in Oracle 12c, probably Release 1, and in Hibernate version - I would say <a href=\"https://hibernate.atlassian.net/browse/HHH-9983\" rel=\"nofollow noreferrer\">5.1</a> although <a href=\"https://stackoverflow.com/questions/57767571/how-do-i-use-oracle-12c-automatic-identity-generation-with-hibernate-spring-and\">here in SO</a> is indicated that you need at least - 5.3.</p>\n<p>Either way, <code>IDENTITY</code> columns in Oracle are supported by the use of database <code>SEQUENCE</code>s: i.e., for every <code>IDENTITY</code> column a corresponding sequence is created. As you can read in the <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/18/sqlrf/CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6\" rel=\"nofollow noreferrer\">Oracle documentation</a> this explain why, among others, all the options for creating sequences can be applied to the <code>IDENTITY</code> column definition, like min and max ranges, cache size, etc.</p>\n<p>By default a sequence in Oracle has a cache size of <code>20</code> as indicated in a tiny note in the <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/18/sqlrf/CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6\" rel=\"nofollow noreferrer\">aforementioned Oracle documentation</a>:</p>\n<blockquote>\n<p><strong>Note:</strong> When you create an identity column, Oracle recommends that you\nspecify the <code>CACHE</code> clause with a value higher than the default of <code>20</code> to\nenhance performance.</p>\n</blockquote>\n<p>And this default cache size is the reason that explains why you are obtaining this non consecutive numbers in your <code>id</code> values.</p>\n<p>This behavior is not exclusive to Hibernate: please, just issue a simple JDBC insert statement or SQL commands with any suitable tool and you will experiment the same.</p>\n<p>To solve the issue create your table indicating <code>NOCACHE</code> for your IDENTITY column:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE your_table (\n  id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY NOCACHE,\n  --...\n)\n</code></pre>\n<p>Note you need to use <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/18/sqlrf/CREATE-SEQUENCE.html#GUID-E9C78A8C-615A-4757-B2A8-5E6EFB130571\" rel=\"nofollow noreferrer\"><code>NOCACHE</code></a> and not <code>CACHE 0</code> as indicated in the question comments and now in a previous version of other answers, which is an error because the value for the <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/18/sqlrf/CREATE-SEQUENCE.html#GUID-E9C78A8C-615A-4757-B2A8-5E6EFB130571\" rel=\"nofollow noreferrer\"><code>CACHE</code> option</a> should be at least <code>2</code>.</p>\n<p>Probably you could modify your column without recreating the whole table as well:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>ALTER TABLE your_table MODIFY (ID GENERATED BY DEFAULT ON NULL AS IDENTITY NOCACHE);\n</code></pre>\n<p>Having said all that, please, be aware that in fact the <a href=\"https://docs.oracle.com/cd/B28359_01/server.111/b28310/views002.htm#ADMIN11801\" rel=\"nofollow noreferrer\">cache mechanism</a> is an optimization and not a drawback: in the end, and this is just my opinion, those ids are only non natural assigned IDs and, in a general use case, the cache benefits outweigh the drawbacks.</p>\n<p>Please, consider read <a href=\"https://oracle-base.com/articles/12c/identity-columns-in-oracle-12cr1\" rel=\"nofollow noreferrer\">this great article</a> about <code>IDENTITY</code> columns in Oracle.</p>\n<p>The provided answer related to the use of the <code>hilo</code> optimizer could be right but it requires explicitly using the optimizer in your <code>id</code> field declaration which seems not to be the case.</p>\n"}],"owner":{"account_id":4484503,"reputation":16656,"user_id":3879847,"accept_rate":72,"display_name":"Ranjithkumar"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2294,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74749153,"answer_count":2,"score":3,"last_activity_date":1670838384,"creation_date":1669883327,"question_id":74638903,"body_markdown":"In my springboot application, I noticed one strange issue when inserting new rows. \r\n\r\n\r\nMy ids are generated by sequence, but after I restart the application it starts from 21. \r\n\r\n**Example:** \r\n\r\nFirst launch, I insert 3 rows - ids generated by sequence 1,2,3\r\n\r\nAfter restart second launch, I insert 3 rows ids generated from 21.  So ids are 21,22 ... \r\n\r\nEvery restart It increased to 20. - **This increasing pattern always 20**  \r\n\r\n**Refer my database table (1,2 after restart 21)**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**My JPA entity**\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(unique = true, nullable = false)\r\n    private Long id;\r\n\r\nI tried some stackoverflow solutions, it&#39;s not working \r\n\r\nI tried this, not working\r\n\r\n    spring.jpa.properties.hibernate.id.new_generator_mappings=false\r\n\r\n\r\n\r\nI want to insert rows by sequence like 1,2,3,4. Not like this 1,2,21,22, How to resolve this problem?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fsI3N.png","title":"Hibernate GenerationType.IDENTITY not generating sequence ids","body":"<p>In my springboot application, I noticed one strange issue when inserting new rows.</p>\n<p>My ids are generated by sequence, but after I restart the application it starts from 21.</p>\n<p><strong>Example:</strong></p>\n<p>First launch, I insert 3 rows - ids generated by sequence 1,2,3</p>\n<p>After restart second launch, I insert 3 rows ids generated from 21.  So ids are 21,22 ...</p>\n<p>Every restart It increased to 20. - <strong>This increasing pattern always 20</strong></p>\n<p><strong>Refer my database table (1,2 after restart 21)</strong></p>\n<p><a href=\"https://i.stack.imgur.com/fsI3N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fsI3N.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>My JPA entity</strong></p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(unique = true, nullable = false)\nprivate Long id;\n</code></pre>\n<p>I tried some stackoverflow solutions, it's not working</p>\n<p>I tried this, not working</p>\n<pre><code>spring.jpa.properties.hibernate.id.new_generator_mappings=false\n</code></pre>\n<p>I want to insert rows by sequence like 1,2,3,4. Not like this 1,2,21,22, How to resolve this problem?</p>\n"},{"tags":["java","parallel-processing","java-stream","completable-future"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":5,"creation_date":1670835481,"post_id":74768680,"comment_id":131956813,"body_markdown":"A stream instance can only be used once. This supplier returns the same stream instance each time `get` is called. Typically, suppliers should return a new instance on each invocation.","body":"A stream instance can only be used once. This supplier returns the same stream instance each time <code>get</code> is called. Typically, suppliers should return a new instance on each invocation."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1670835505,"post_id":74768680,"comment_id":131956822,"body_markdown":"What do you mean by &quot;stream of stream&quot;? And at which line in your code do you get that error message? Please edit your question and add the complete stack trace of the exception.","body":"What do you mean by &quot;stream of stream&quot;? And at which line in your code do you get that error message? Please edit your question and add the complete stack trace of the exception."},{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1670840054,"post_id":74768680,"comment_id":131958133,"body_markdown":"You can check [this answer](https://stackoverflow.com/a/67040099/10819573) to learn more about how to use a `Supplier` of `Stream`.","body":"You can check <a href=\"https://stackoverflow.com/a/67040099/10819573\">this answer</a> to learn more about how to use a <code>Supplier</code> of <code>Stream</code>."},{"owner":{"account_id":7811986,"reputation":71,"user_id":5907914,"display_name":"Neo Jou"},"score":0,"creation_date":1670847965,"post_id":74768680,"comment_id":131960616,"body_markdown":"Since a stream instance can only be used once, we can modified the code as below:  `List&lt;String&gt; slist = s.collect(Collectors.toList());\n        System.out.println(slist.size());\n\n        Stream&lt;String&gt; s1 = slist.stream();\n        Supplier&lt;Stream&lt;String&gt;&gt; streamSupplier = () -&gt; s1;\n\n        final AtomicInteger counter = new AtomicInteger();\n        streamSupplier.get().parallel()`\n...","body":"Since a stream instance can only be used once, we can modified the code as below:  <code>List&lt;String&gt; slist = s.collect(Collectors.toList());         System.out.println(slist.size());          Stream&lt;String&gt; s1 = slist.stream();         Supplier&lt;Stream&lt;String&gt;&gt; streamSupplier = () -&gt; s1;          final AtomicInteger counter = new AtomicInteger();         streamSupplier.get().parallel()</code> ..."},{"owner":{"account_id":15801712,"reputation":1294,"user_id":11402025,"display_name":"Tanu"},"score":0,"creation_date":1670896898,"post_id":74768680,"comment_id":131974721,"body_markdown":"@NeoJou this is giving me an error as well.","body":"@NeoJou this is giving me an error as well."},{"owner":{"account_id":15801712,"reputation":1294,"user_id":11402025,"display_name":"Tanu"},"score":0,"creation_date":1670911973,"post_id":74768680,"comment_id":131976671,"body_markdown":"@ArvindKumarAvinash I am using the supplier stream in the example above, the issue I am facing is that I am working with an already created stream. Thanks","body":"@ArvindKumarAvinash I am using the supplier stream in the example above, the issue I am facing is that I am working with an already created stream. Thanks"},{"owner":{"account_id":7811986,"reputation":71,"user_id":5907914,"display_name":"Neo Jou"},"score":0,"creation_date":1671032668,"post_id":74768680,"comment_id":132010794,"body_markdown":"@Tanu Since Stream&lt;String&gt; s is the parameter of the test, is it possible that the Steam&lt;String&gt; s is already consumed before entering to run in this test function? I did a simple test problem at https://github.com/neojou/java_on_macOS/blob/main/SupplierExample/src/Main.java and it runs well here. FYI.","body":"@Tanu Since Stream&lt;String&gt; s is the parameter of the test, is it possible that the Steam&lt;String&gt; s is already consumed before entering to run in this test function? I did a simple test problem at <a href=\"https://github.com/neojou/java_on_macOS/blob/main/SupplierExample/src/Main.java\" rel=\"nofollow noreferrer\">github.com/neojou/java_on_macOS/blob/main/SupplierExample/sr&zwnj;&#8203;c/&hellip;</a> and it runs well here. FYI."}],"answers":[{"tags":[],"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670838230,"creation_date":1670838230,"answer_id":74769206,"question_id":74768680,"body_markdown":"Not really sure what you are trying to achieve with this one, but a stream can only be used once. Quoting from the [documentation][1]:\r\n\r\n&gt; A stream should be operated on (invoking an intermediate or terminal stream operation) only once. This rules out, for example, &quot;forked&quot; streams, where the same source feeds two or more pipelines, or multiple traversals of the same stream. A stream implementation may throw IllegalStateException if it detects that the stream is being reused. However, since some stream operations may return their receiver rather than a new stream object, it may not be possible to detect reuse in all cases.\r\n\r\nI think that you want to have a re-usable stream, so in this case I would suggest you pass in the original collection instead of the `Stream` of this collection dataset.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html","title":"Creating Supplier stream of Stream","body":"<p>Not really sure what you are trying to achieve with this one, but a stream can only be used once. Quoting from the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>A stream should be operated on (invoking an intermediate or terminal stream operation) only once. This rules out, for example, &quot;forked&quot; streams, where the same source feeds two or more pipelines, or multiple traversals of the same stream. A stream implementation may throw IllegalStateException if it detects that the stream is being reused. However, since some stream operations may return their receiver rather than a new stream object, it may not be possible to detect reuse in all cases.</p>\n</blockquote>\n<p>I think that you want to have a re-usable stream, so in this case I would suggest you pass in the original collection instead of the <code>Stream</code> of this collection dataset.</p>\n"}],"owner":{"account_id":15801712,"reputation":1294,"user_id":11402025,"display_name":"Tanu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1670844124,"answer_count":1,"score":1,"last_activity_date":1670838230,"creation_date":1670835256,"question_id":74768680,"body_markdown":"I am creating a Supplier Stream of String and working on the same.\r\n\r\n\r\n```java\r\npublic void test(Stream&lt;String&gt; s) {\r\n    Supplier&lt;Stream&lt;String&gt;&gt; streamSupplier = () -&gt; s;\r\n\r\n    System.out.println(streamSupplier.get().count());\r\n\r\n    streamSupplier.get().parallel()\r\n        .collect(Collectors.groupingBy(it -&gt; counter.getAndIncrement() / 2))\r\n        .values()\r\n        .stream()\r\n        .forEach(input -&gt; {\r\n            System.out.println(&quot;input &quot; + input);\r\n        });\r\n```\r\n\r\nI am getting an error &quot;stream has already been operated upon or closed&quot; when I try to work with the stream. How can I resolve this. Thank you.","title":"Creating Supplier stream of Stream","body":"<p>I am creating a Supplier Stream of String and working on the same.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void test(Stream&lt;String&gt; s) {\n    Supplier&lt;Stream&lt;String&gt;&gt; streamSupplier = () -&gt; s;\n\n    System.out.println(streamSupplier.get().count());\n\n    streamSupplier.get().parallel()\n        .collect(Collectors.groupingBy(it -&gt; counter.getAndIncrement() / 2))\n        .values()\n        .stream()\n        .forEach(input -&gt; {\n            System.out.println(&quot;input &quot; + input);\n        });\n</code></pre>\n<p>I am getting an error &quot;stream has already been operated upon or closed&quot; when I try to work with the stream. How can I resolve this. Thank you.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":4,"creation_date":1670836923,"post_id":74768933,"comment_id":131957221,"body_markdown":"First `a + a` is calculated, that&#39;s 2. Then `a -= 2` is calculated, the result is -1. The actual calculation is not `a - a + a` but `a - (a + a)`, which is the same as `a - a - a`.","body":"First <code>a + a</code> is calculated, that&#39;s 2. Then <code>a -= 2</code> is calculated, the result is -1. The actual calculation is not <code>a - a + a</code> but <code>a - (a + a)</code>, which is the same as <code>a - a - a</code>."}],"answers":[{"tags":[],"owner":{"account_id":26249192,"reputation":190,"user_id":19922257,"display_name":"OuterSoda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670836902,"creation_date":1670836902,"answer_id":74768956,"question_id":74768933,"body_markdown":"Order of operations - in the first one, a + a is calculated then that is subtracted from a. In the second one, the subtraction of a from a is done, then the addition (left to right).","title":"How does this calculation a -= a + a works? (int a = 1) The result of the execution is -1, not 1","body":"<p>Order of operations - in the first one, a + a is calculated then that is subtracted from a. In the second one, the subtraction of a from a is done, then the addition (left to right).</p>\n"},{"tags":[],"owner":{"account_id":8198,"reputation":176773,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1670836985,"creation_date":1670836985,"answer_id":74768970,"question_id":74768933,"body_markdown":"`-=` has lower precedence than `+`, so the order of operations is:\r\n\r\n```\r\na -= (a + a);\r\na -= (1 + 1);\r\na -= 2;\r\n```\r\n\r\nOn the other hand, `-` has the same precedence as `+`, and is left-associative, so the order of operations here is:\r\n\r\n```\r\na = ((a - a) + a);\r\na = ((1 - 1) + 1);\r\na = (   0    + 1);\r\na = 1;\r\n```","title":"How does this calculation a -= a + a works? (int a = 1) The result of the execution is -1, not 1","body":"<p><code>-=</code> has lower precedence than <code>+</code>, so the order of operations is:</p>\n<pre><code>a -= (a + a);\na -= (1 + 1);\na -= 2;\n</code></pre>\n<p>On the other hand, <code>-</code> has the same precedence as <code>+</code>, and is left-associative, so the order of operations here is:</p>\n<pre><code>a = ((a - a) + a);\na = ((1 - 1) + 1);\na = (   0    + 1);\na = 1;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1670837190,"creation_date":1670837190,"answer_id":74769003,"question_id":74768933,"body_markdown":"The Java Language Specification [writes](https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.26.2):\r\n\r\n&gt; A compound assignment expression of the form `E1 op= E2` is equivalent to `E1 = (T) ((E1) op (E2))`, where `T` is the type of `E1`, except that `E1` is evaluated only once. \r\n\r\nThat is, the expression\r\n\r\n```\r\na -= a + a\r\n```\r\n\r\nis equivalent to\r\n\r\n```\r\na = (int) ((a) - (a + a))\r\n```\r\n\r\nwhich evaluates like\r\n\r\n```\r\na = (1) - (1 + 1)\r\n```","title":"How does this calculation a -= a + a works? (int a = 1) The result of the execution is -1, not 1","body":"<p>The Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.26.2\" rel=\"noreferrer\">writes</a>:</p>\n<blockquote>\n<p>A compound assignment expression of the form <code>E1 op= E2</code> is equivalent to <code>E1 = (T) ((E1) op (E2))</code>, where <code>T</code> is the type of <code>E1</code>, except that <code>E1</code> is evaluated only once.</p>\n</blockquote>\n<p>That is, the expression</p>\n<pre><code>a -= a + a\n</code></pre>\n<p>is equivalent to</p>\n<pre><code>a = (int) ((a) - (a + a))\n</code></pre>\n<p>which evaluates like</p>\n<pre><code>a = (1) - (1 + 1)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15156524,"reputation":70,"user_id":10937125,"display_name":"m.18"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670838128,"creation_date":1670838128,"answer_id":74769185,"question_id":74768933,"body_markdown":"It makes sense that the answer is -1 since a -= a+a means you are setting the variable a to the value of a-(a+a). Since a is initialized as 1, a-(a+a)=1-(1+1)=1-2=-1.","title":"How does this calculation a -= a + a works? (int a = 1) The result of the execution is -1, not 1","body":"<p>It makes sense that the answer is -1 since a -= a+a means you are setting the variable a to the value of a-(a+a). Since a is initialized as 1, a-(a+a)=1-(1+1)=1-2=-1.</p>\n"}],"owner":{"account_id":14267350,"reputation":27,"user_id":10306008,"display_name":"WinsenTjhang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":74769003,"answer_count":4,"score":-4,"last_activity_date":1670838128,"creation_date":1670836758,"question_id":74768933,"body_markdown":"```\r\nint a = 1;\r\n\r\na -= a + a;\r\n```\r\n\r\nThe above code result is -1, which I am expecting it to be 1.\r\n\r\nBut the below code actually get me 1\r\n```\r\na = a - a + a\r\n```\r\nAren&#39;t they supposed to be the same? How the first code get to -1?\r\n\r\n\r\nI tried to look at mathematical order of operation of addition and subtraction, which I thought I would have misunderstanding on how they works. But it looks like I am correct by doing left to right operation on the calculation.","title":"How does this calculation a -= a + a works? (int a = 1) The result of the execution is -1, not 1","body":"<pre><code>int a = 1;\n\na -= a + a;\n</code></pre>\n<p>The above code result is -1, which I am expecting it to be 1.</p>\n<p>But the below code actually get me 1</p>\n<pre><code>a = a - a + a\n</code></pre>\n<p>Aren't they supposed to be the same? How the first code get to -1?</p>\n<p>I tried to look at mathematical order of operation of addition and subtraction, which I thought I would have misunderstanding on how they works. But it looks like I am correct by doing left to right operation on the calculation.</p>\n"},{"tags":["java","arrays","multidimensional-array","arraylist"],"answers":[{"tags":[],"owner":{"account_id":10455291,"reputation":1835,"user_id":7707631,"display_name":"Stefan Warminski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670837487,"creation_date":1670831704,"answer_id":74768106,"question_id":74767868,"body_markdown":"You try to find an already added `idConso` with `ord.contains(Order[0] == idConso) &amp;&amp; Order[0] == idConso` but this don&#39;t work.\r\n\r\nSome lines above you set `Order [ 0 ] = idConso` so `Order[0] == idConso` will always be `true`.\r\nBut `ord` holds `int[]` so `ord.contains(/*Order[0] == idConso*/ true)` will always be `false`. So `&amp;&amp; Order[0] == idConso` will never be executed (even this part would always be `true`).\r\n\r\nYou have to iterate over all added orders and check the ID.\r\nIf you found the ID you have to increase the corresponding `nbrConso` but not add the order again (you do so even you find the entry).\r\nWith a `for`-loop it may look like\r\n```\r\n// flag if idConso was found in ord\r\nboolean containe = false;\r\nfor (int[] added : ord) {\r\n    if (added[0] == idConso) {\r\n        // found it\r\n        System.out.println(&quot;containe &quot;);\r\n        added[1] += nbrConso;\r\n        // set the flag\r\n        containe = true;\r\n        // no need to check next entries in ord\r\n        break;\r\n    }\r\n}\r\n// add only if not found\r\nif (!containe) {\r\n    ord.add(Order);\r\n    System.out.println(&quot;added&quot;);\r\n}\r\n```\r\nEDIT: due to your comment I ran the code and got two problems:\r\n\r\n1. I don&#39;t understand your intension of\r\n```\r\nInteger[] OrderLine = new Integer[ord.size()];\r\nOrderLine = ord.toArray(OrderLine);\r\n```\r\nbut I get an exception here.\r\nBecause `OrderLine` is never used I removed these lines.\r\n\r\n2. `Order` is declared outside the loop so even for the second order you operate on this object.\r\nYou also add this object to `ord` so by modify `Order` you also modify the list&#39;s value.\r\nYou have to move `int[] Order = new int[2];` into the loop to always have a new object (e. g. just before setting the values `Order[0] = idConso;` and `Order[1] = nbrConso;`)","title":"How to check if an ArrayList of 1D Arrays (EX : int [ ] order = new int [2] ) has a value in index 0 of the 1D array, if so update index 1","body":"<p>You try to find an already added <code>idConso</code> with <code>ord.contains(Order[0] == idConso) &amp;&amp; Order[0] == idConso</code> but this don't work.</p>\n<p>Some lines above you set <code>Order [ 0 ] = idConso</code> so <code>Order[0] == idConso</code> will always be <code>true</code>.\nBut <code>ord</code> holds <code>int[]</code> so <code>ord.contains(/*Order[0] == idConso*/ true)</code> will always be <code>false</code>. So <code>&amp;&amp; Order[0] == idConso</code> will never be executed (even this part would always be <code>true</code>).</p>\n<p>You have to iterate over all added orders and check the ID.\nIf you found the ID you have to increase the corresponding <code>nbrConso</code> but not add the order again (you do so even you find the entry).\nWith a <code>for</code>-loop it may look like</p>\n<pre><code>// flag if idConso was found in ord\nboolean containe = false;\nfor (int[] added : ord) {\n    if (added[0] == idConso) {\n        // found it\n        System.out.println(&quot;containe &quot;);\n        added[1] += nbrConso;\n        // set the flag\n        containe = true;\n        // no need to check next entries in ord\n        break;\n    }\n}\n// add only if not found\nif (!containe) {\n    ord.add(Order);\n    System.out.println(&quot;added&quot;);\n}\n</code></pre>\n<p>EDIT: due to your comment I ran the code and got two problems:</p>\n<ol>\n<li>I don't understand your intension of</li>\n</ol>\n<pre><code>Integer[] OrderLine = new Integer[ord.size()];\nOrderLine = ord.toArray(OrderLine);\n</code></pre>\n<p>but I get an exception here.\nBecause <code>OrderLine</code> is never used I removed these lines.</p>\n<ol start=\"2\">\n<li><code>Order</code> is declared outside the loop so even for the second order you operate on this object.\nYou also add this object to <code>ord</code> so by modify <code>Order</code> you also modify the list's value.\nYou have to move <code>int[] Order = new int[2];</code> into the loop to always have a new object (e. g. just before setting the values <code>Order[0] = idConso;</code> and <code>Order[1] = nbrConso;</code>)</li>\n</ol>\n"}],"owner":{"account_id":23120197,"reputation":23,"user_id":17226834,"display_name":"Faisal BENTOUHAMI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74768106,"answer_count":1,"score":0,"last_activity_date":1670837979,"creation_date":1670830146,"question_id":74767868,"body_markdown":"I&#39;m a student in my 1st year, and I need to check if an arrayList of 1D array has a value in index 0, if so I need to keep that value of index 0, and update its value of order [0,1].\r\nSo I first created my 1D array as\r\n```java\r\nint [] Order = new int [2];\r\n```\r\n\r\nis a getOrder() method.\r\nAsking the user (Server in this case) to add integers (id of product) and second time to add number of how many products.\r\n\r\nand add : Order = {idConso, nbrConso}\r\n\r\nThen I call the method from my main(), and passing an arrayList (ord) as a parameter to store the Orders.\r\n\r\nBut, when I print the ord (arrayList of 1D Order array), I shouldn&#39;t have the same idConso twice in it.\r\n\r\nThis means I need to find a way to check if the idConso (id of the product) is already in ord (arrayList) and if so, I need to check if the arrayList has already idConso and keep it, but add the nbrConso (numnbre of orders of that product).\r\n\r\n```java\r\npackage testes;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.Scanner;\r\n\r\npublic class test_EX_24V1 {\r\n\r\n\tfinal static String NAMES[] = \r\n\t\t{\r\n\t\t\t\t&quot;Spa reine 25 &quot;,&quot;Bru plate 50&quot;,&quot;Bru p&#233;t 50&quot;,&quot;Pepsi&quot;,&quot;Spa orange&quot;,\r\n\t\t\t\t&quot;Schweppes Tonic&quot;,&quot;Schweppes Agr&quot;,&quot;Ice Tea&quot;,&quot;Ice Tea P&#234;che&quot;,&quot;Jus d&#39;orange Looza&quot;, &quot;C&#233;c&#233;mel&quot;, \r\n\t\t\t\t&quot;Red Bull&quot;,&quot;Petit Expresso&quot;,&quot;Grand Expresso&quot;,&quot;Caf&#233; d&#233;caf&#233;in&#233; &quot;,&quot;Lait Russe &quot;,&quot;Th&#233; et infusions&quot;,\r\n\t\t\t\t&quot;Irish Coffee &quot;,&quot;French Coffee &quot;,&quot;Cappuccino&quot;,&quot;C&#233;c&#233;mel chaud&quot;,&quot;Passione Italiano&quot;,&quot;Amour Intense&quot;,\r\n\t\t\t\t&quot;Rhumba Caliente &quot;,&quot;Irish Kisses &quot;,&quot;Cuv&#233;e Trolls 25&quot;,&quot;Cuvee Trolls 50&quot;,&quot;Ambrasse-Temps 25&quot;,&quot;Ambrasse-Temps 50 &quot;,\r\n\t\t\t\t&quot;Brasse-Temps Cerises 25&quot;,&quot;Brasse-Temps Cerises 50&quot;,&quot;La Blanche Ste Waudru 25&quot;,&quot;Blanche Ste Waudru 50&quot;,\r\n\t\t\t\t&quot;Brasse-Temps citr 25&quot;,&quot;Brasse-Temps citr 50&quot;,&quot;Spaghetti Bolo &quot;,&quot;Tagl Carbonara&quot;,&quot;Penne poulet baslc &quot;,\r\n\t\t\t\t&quot;Tagl American&quot;,&quot;Tagl saum&quot;\r\n\t\t};\r\n\r\n\tpublic static String getUserIntOrSpecificInputV2(String msg, String expectedAnsw, int min, int max) \r\n{\r\n\r\n\t\tint intInput = 0;\r\n\t\tString strAnsw = &quot;&quot;;\r\n\t\tScanner sc= new Scanner (System.in);\r\n\t\tdo {\r\n\r\n\t\t\tSystem.out.println(msg);\r\n\r\n\t\t\tif (sc.hasNextInt()==true) {   //si saisie d’un entier\r\n\t\t\t\tintInput = sc.nextInt();//r&#233;cup&#233;ration de la saisie au format entier\r\n\t\t\t\tif (intInput &gt;= min &amp;&amp; intInput &lt;= max) {\r\n\t\t\t\t\treturn Integer.toString(intInput);\r\n\r\n\t\t\t\t}else {\r\n\t\t\t\t\tSystem.out.println(&quot;La saisie doit &#234;tre comprise entre &quot; + min +  &quot; et &quot; + max);\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {  //si saisie d&#39;un texte par l’utilisateur\r\n\t\t\t\tstrAnsw = sc.next(); //r&#233;cup&#233;ration de la saisie au format chaine\r\n\r\n\t\t\t\tif (strAnsw.length() == 1 &amp;&amp; expectedAnsw.toUpperCase().contains(strAnsw.toUpperCase())){\r\n\t\t\t\t\treturn strAnsw.toUpperCase();\r\n\r\n\t\t\t\t}else {\r\n\t\t\t\t\tSystem.out.println (&quot;Erreur de saisie : caract&#232;res autoris&#233;s &quot; +  expectedAnsw );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} while (true);\r\n\r\n\t}//end getUserIntOrSpecificInputV2\r\n\r\n\tpublic static boolean checkTable( int[] table, int numberCheck ) {\r\n\r\n\t\tint i = 0;\r\n\r\n\t\twhile (i &lt; table.length) {\r\n\r\n\t\t\tif (table[i] == numberCheck) {\r\n\r\n\t\t\t\treturn true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\ti++;\r\n\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\r\n\t}//fin check Table\r\n\r\n\t@SuppressWarnings(&quot;unlikely-arg-type&quot;)\r\n\tpublic static void getOrder ( ArrayList&lt;int[]&gt; ord ) {\r\n\t\t//variables\r\n\t\tString UserInput;\r\n\t\tint idConso = 0, nbrConso = 0;\r\n\t\tint [] Order = new int [2];\r\n\r\n\t\t//instructions\r\n\t\t\r\n\t\tUserInput = getUserIntOrSpecificInputV2(&quot;Entrez le N&#176; de consommable &quot;\r\n\t\t\t\t+ &quot;ou Q(Quitter) &quot;, &quot;Q&quot;, 1, NAMES.length);\r\n\r\n\t\tdo {\t\r\n\t\t\t\r\n\t\t\tif ( UserInput.equalsIgnoreCase( &quot;Q&quot; ) ) // fin de programme\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println( &quot;Fin de Programme, Au Revoir&quot; );\r\n\t\t\t\tSystem.exit( -1 );\r\n\t\t\t}\r\n\t\t\telse \r\n\t\t\t{\r\n\t\t\t\tidConso = Integer.parseInt ( UserInput );\r\n\t\t\t}\r\n\r\n\t\t\tUserInput = getUserIntOrSpecificInputV2(&quot;Nombre de consommations pour &quot; + NAMES [ idConso -1 ] +&quot; ? /A(Annuler) /Q (Quitter)&quot;, &quot;AQ&quot;, 1, 5000);\r\n\r\n\t\t\tif ( UserInput.equalsIgnoreCase(&quot;Q&quot;) )\r\n\t\t\t{ //fermer l&#39;application\r\n\t\t\t\tSystem.out.println( &quot;Fin de Programme, Au Revoir&quot; );\r\n\t\t\t\tSystem.exit(-1);\t\t\t\r\n\t\t\t}\r\n\t\t\telse if ( UserInput.equalsIgnoreCase(&quot;A&quot;) )\r\n\t\t\t{ \r\n\t\t\t\t//DO NOTHING !\r\n\t\t\t} \r\n\t\t\tnbrConso = Integer.parseInt ( UserInput );\r\n\t\t\t\r\n\t\t\tOrder [ 0 ] = idConso ;\r\n\t\t\tOrder [ 1 ] = nbrConso ;\r\n\t\t\t\r\n//\t\t\tSystem.out.println(&quot;isCondo = &quot; + idConso + &quot; ,et nbrConso = &quot; + nbrConso);\r\n//\t\t\tSystem.out.println(&quot;taille de arrayList ord = &quot; + ord.size());\r\n\r\n\t\t\tif (ord.isEmpty()) \r\n\t\t\t{\t\t\r\n\t\t\t\tSystem.out.println(&quot;YES ITS EMPTY&quot;);\r\n\t\t\t\tord.add(Order);\r\n\t\t\t\tSystem.out.println(&quot;added&quot;);\r\n\t\t\t}\r\n\r\n\t\t\telse \r\n\t\t\t{\r\n\t\t\t\tInteger [] OrderLine = new Integer [ord.size()];\r\n\t\t\t\tOrderLine = ord.toArray(OrderLine);\r\n\t\t\t\t\r\n\t\t\t\tif (ord.contains(Order[0] == idConso) &amp;&amp; Order[0] == idConso) {\r\n\t\t\t\t\tSystem.out.println(&quot;containe &quot;);\r\n\t\t\t\t\tOrder[1] += nbrConso; \r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tord.add(Order);\r\n\t\t\t\tSystem.out.println(&quot;added&quot;);\r\n\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tUserInput = getUserIntOrSpecificInputV2(&quot;Entrez le N&#176; de consommable ou Q(Quitter) V (Valider le ticket) &quot;, &quot;QV&quot;,1, NAMES.length);\r\n\r\n\t\t} while (!UserInput.equalsIgnoreCase(&quot;V&quot;));\r\n\r\n\t\t\r\n\t\t\r\n\t\tfor ( int[] is : ord )\r\n\t\t{\r\n\t\t\t\r\n\t\t\tSystem.out.print(Arrays.toString(is));\r\n\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(&quot;Nombre de consommation : &quot; + ord.size());\r\n\t\t\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\t//variables \r\n\t\tArrayList &lt;int [] &gt; order = new ArrayList&lt;int[]&gt;();\r\n\r\n\t\tgetOrder(order);\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\n","title":"How to check if an ArrayList of 1D Arrays (EX : int [ ] order = new int [2] ) has a value in index 0 of the 1D array, if so update index 1","body":"<p>I'm a student in my 1st year, and I need to check if an arrayList of 1D array has a value in index 0, if so I need to keep that value of index 0, and update its value of order [0,1].\nSo I first created my 1D array as</p>\n<pre class=\"lang-java prettyprint-override\"><code>int [] Order = new int [2];\n</code></pre>\n<p>is a getOrder() method.\nAsking the user (Server in this case) to add integers (id of product) and second time to add number of how many products.</p>\n<p>and add : Order = {idConso, nbrConso}</p>\n<p>Then I call the method from my main(), and passing an arrayList (ord) as a parameter to store the Orders.</p>\n<p>But, when I print the ord (arrayList of 1D Order array), I shouldn't have the same idConso twice in it.</p>\n<p>This means I need to find a way to check if the idConso (id of the product) is already in ord (arrayList) and if so, I need to check if the arrayList has already idConso and keep it, but add the nbrConso (numnbre of orders of that product).</p>\n<pre class=\"lang-java prettyprint-override\"><code>package testes;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class test_EX_24V1 {\n\n    final static String NAMES[] = \n        {\n                &quot;Spa reine 25 &quot;,&quot;Bru plate 50&quot;,&quot;Bru pét 50&quot;,&quot;Pepsi&quot;,&quot;Spa orange&quot;,\n                &quot;Schweppes Tonic&quot;,&quot;Schweppes Agr&quot;,&quot;Ice Tea&quot;,&quot;Ice Tea Pêche&quot;,&quot;Jus d'orange Looza&quot;, &quot;Cécémel&quot;, \n                &quot;Red Bull&quot;,&quot;Petit Expresso&quot;,&quot;Grand Expresso&quot;,&quot;Café décaféiné &quot;,&quot;Lait Russe &quot;,&quot;Thé et infusions&quot;,\n                &quot;Irish Coffee &quot;,&quot;French Coffee &quot;,&quot;Cappuccino&quot;,&quot;Cécémel chaud&quot;,&quot;Passione Italiano&quot;,&quot;Amour Intense&quot;,\n                &quot;Rhumba Caliente &quot;,&quot;Irish Kisses &quot;,&quot;Cuvée Trolls 25&quot;,&quot;Cuvee Trolls 50&quot;,&quot;Ambrasse-Temps 25&quot;,&quot;Ambrasse-Temps 50 &quot;,\n                &quot;Brasse-Temps Cerises 25&quot;,&quot;Brasse-Temps Cerises 50&quot;,&quot;La Blanche Ste Waudru 25&quot;,&quot;Blanche Ste Waudru 50&quot;,\n                &quot;Brasse-Temps citr 25&quot;,&quot;Brasse-Temps citr 50&quot;,&quot;Spaghetti Bolo &quot;,&quot;Tagl Carbonara&quot;,&quot;Penne poulet baslc &quot;,\n                &quot;Tagl American&quot;,&quot;Tagl saum&quot;\n        };\n\n    public static String getUserIntOrSpecificInputV2(String msg, String expectedAnsw, int min, int max) \n{\n\n        int intInput = 0;\n        String strAnsw = &quot;&quot;;\n        Scanner sc= new Scanner (System.in);\n        do {\n\n            System.out.println(msg);\n\n            if (sc.hasNextInt()==true) {   //si saisie d’un entier\n                intInput = sc.nextInt();//récupération de la saisie au format entier\n                if (intInput &gt;= min &amp;&amp; intInput &lt;= max) {\n                    return Integer.toString(intInput);\n\n                }else {\n                    System.out.println(&quot;La saisie doit être comprise entre &quot; + min +  &quot; et &quot; + max);\n                }\n\n            } else {  //si saisie d'un texte par l’utilisateur\n                strAnsw = sc.next(); //récupération de la saisie au format chaine\n\n                if (strAnsw.length() == 1 &amp;&amp; expectedAnsw.toUpperCase().contains(strAnsw.toUpperCase())){\n                    return strAnsw.toUpperCase();\n\n                }else {\n                    System.out.println (&quot;Erreur de saisie : caractères autorisés &quot; +  expectedAnsw );\n                }\n            }\n        } while (true);\n\n    }//end getUserIntOrSpecificInputV2\n\n    public static boolean checkTable( int[] table, int numberCheck ) {\n\n        int i = 0;\n\n        while (i &lt; table.length) {\n\n            if (table[i] == numberCheck) {\n\n                return true;\n\n            }\n\n            i++;\n\n        }\n\n        return false;\n\n    }//fin check Table\n\n    @SuppressWarnings(&quot;unlikely-arg-type&quot;)\n    public static void getOrder ( ArrayList&lt;int[]&gt; ord ) {\n        //variables\n        String UserInput;\n        int idConso = 0, nbrConso = 0;\n        int [] Order = new int [2];\n\n        //instructions\n        \n        UserInput = getUserIntOrSpecificInputV2(&quot;Entrez le N° de consommable &quot;\n                + &quot;ou Q(Quitter) &quot;, &quot;Q&quot;, 1, NAMES.length);\n\n        do {    \n            \n            if ( UserInput.equalsIgnoreCase( &quot;Q&quot; ) ) // fin de programme\n            {\n                System.out.println( &quot;Fin de Programme, Au Revoir&quot; );\n                System.exit( -1 );\n            }\n            else \n            {\n                idConso = Integer.parseInt ( UserInput );\n            }\n\n            UserInput = getUserIntOrSpecificInputV2(&quot;Nombre de consommations pour &quot; + NAMES [ idConso -1 ] +&quot; ? /A(Annuler) /Q (Quitter)&quot;, &quot;AQ&quot;, 1, 5000);\n\n            if ( UserInput.equalsIgnoreCase(&quot;Q&quot;) )\n            { //fermer l'application\n                System.out.println( &quot;Fin de Programme, Au Revoir&quot; );\n                System.exit(-1);            \n            }\n            else if ( UserInput.equalsIgnoreCase(&quot;A&quot;) )\n            { \n                //DO NOTHING !\n            } \n            nbrConso = Integer.parseInt ( UserInput );\n            \n            Order [ 0 ] = idConso ;\n            Order [ 1 ] = nbrConso ;\n            \n//          System.out.println(&quot;isCondo = &quot; + idConso + &quot; ,et nbrConso = &quot; + nbrConso);\n//          System.out.println(&quot;taille de arrayList ord = &quot; + ord.size());\n\n            if (ord.isEmpty()) \n            {       \n                System.out.println(&quot;YES ITS EMPTY&quot;);\n                ord.add(Order);\n                System.out.println(&quot;added&quot;);\n            }\n\n            else \n            {\n                Integer [] OrderLine = new Integer [ord.size()];\n                OrderLine = ord.toArray(OrderLine);\n                \n                if (ord.contains(Order[0] == idConso) &amp;&amp; Order[0] == idConso) {\n                    System.out.println(&quot;containe &quot;);\n                    Order[1] += nbrConso; \n                }\n                \n                ord.add(Order);\n                System.out.println(&quot;added&quot;);\n\n            }\n            \n            UserInput = getUserIntOrSpecificInputV2(&quot;Entrez le N° de consommable ou Q(Quitter) V (Valider le ticket) &quot;, &quot;QV&quot;,1, NAMES.length);\n\n        } while (!UserInput.equalsIgnoreCase(&quot;V&quot;));\n\n        \n        \n        for ( int[] is : ord )\n        {\n            \n            System.out.print(Arrays.toString(is));\n\n        }\n        System.out.println();\n        System.out.println(&quot;Nombre de consommation : &quot; + ord.size());\n        \n    }\n    public static void main(String[] args) {\n        //variables \n        ArrayList &lt;int [] &gt; order = new ArrayList&lt;int[]&gt;();\n\n        getOrder(order);\n        \n    }\n\n}\n</code></pre>\n"},{"tags":["java","activemq-artemis"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1669996572,"post_id":74651735,"comment_id":131777121,"body_markdown":"How do you extract the string?","body":"How do you extract the string?"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1669997793,"post_id":74651735,"comment_id":131777591,"body_markdown":"Is everything running in the same JVM or do you have separate JVMs for Karaf and ActiveMQ Artemis? In what JVM is the OOME happening?","body":"Is everything running in the same JVM or do you have separate JVMs for Karaf and ActiveMQ Artemis? In what JVM is the OOME happening?"},{"owner":{"account_id":63767,"reputation":1635,"user_id":188587,"accept_rate":44,"display_name":"djb"},"score":0,"creation_date":1670052635,"post_id":74651735,"comment_id":131787247,"body_markdown":"Hi Justin, they are started in separate JVMs, but inside the same docker container, using supervisord.  I know it fails in those lines because of debug statements. So the OOME happens in Karaf, technically, while trying to load the String in memory.  Simon - the error happens before the extraction, which I just do with String.substring/indexOf.","body":"Hi Justin, they are started in separate JVMs, but inside the same docker container, using supervisord.  I know it fails in those lines because of debug statements. So the OOME happens in Karaf, technically, while trying to load the String in memory.  Simon - the error happens before the extraction, which I just do with String.substring/indexOf."},{"owner":{"account_id":63767,"reputation":1635,"user_id":188587,"accept_rate":44,"display_name":"djb"},"score":0,"creation_date":1670140067,"post_id":74651735,"comment_id":131801009,"body_markdown":"I&#39;ve upped the Karaf Xmx from 1024mb to 2048mb. Will see if that helps.","body":"I&#39;ve upped the Karaf Xmx from 1024mb to 2048mb. Will see if that helps."},{"owner":{"account_id":63767,"reputation":1635,"user_id":188587,"accept_rate":44,"display_name":"djb"},"score":0,"creation_date":1670225944,"post_id":74651735,"comment_id":131817937,"body_markdown":"Success.  Karaf needed more RAM.","body":"Success.  Karaf needed more RAM."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1670261171,"post_id":74651735,"comment_id":131830385,"body_markdown":"To be clear, given that the OOME is happening in Karaf (where the client is presumably running) which is running in a separate JVM from ActiveMQ Artemis the memory configuration of ActiveMQ Artemis is not relevant.","body":"To be clear, given that the OOME is happening in Karaf (where the client is presumably running) which is running in a separate JVM from ActiveMQ Artemis the memory configuration of ActiveMQ Artemis is not relevant."},{"owner":{"account_id":63767,"reputation":1635,"user_id":188587,"accept_rate":44,"display_name":"djb"},"score":0,"creation_date":1670397611,"post_id":74651735,"comment_id":131864609,"body_markdown":"Correct, thanks, I realised that, hence upping Karaf, and leaving AMQ as is.","body":"Correct, thanks, I realised that, hence upping Karaf, and leaving AMQ as is."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1670690976,"post_id":74651735,"comment_id":131933839,"body_markdown":"Since you&#39;ve solved this problem you should add an answer and mark it as correct to help any other users who run into this problem in the future.","body":"Since you&#39;ve solved this problem you should add an answer and mark it as correct to help any other users who run into this problem in the future."}],"answers":[{"tags":[],"owner":{"account_id":63767,"reputation":1635,"user_id":188587,"accept_rate":44,"display_name":"djb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670837879,"creation_date":1670837879,"answer_id":74769138,"question_id":74651735,"body_markdown":"The issue was fixed by increasing the RAM available to Karaf, under /bin/setenv \r\n\r\n    export JAVA_MAX_MEM=2048M \r\n","title":"Parsing XML string in Java without OOM error","body":"<p>The issue was fixed by increasing the RAM available to Karaf, under /bin/setenv</p>\n<pre><code>export JAVA_MAX_MEM=2048M \n</code></pre>\n"}],"owner":{"account_id":63767,"reputation":1635,"user_id":188587,"accept_rate":44,"display_name":"djb"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74769138,"answer_count":1,"score":0,"last_activity_date":1670837879,"creation_date":1669962894,"question_id":74651735,"body_markdown":"I&#39;m using Karaf and ActiveMQ Artemis in Docker, and one of my routes gets an XML string on a message queue, and I need to extract an element. But I&#39;m getting `java.lang.OutOfMemoryError: Java heap space`\r\n\r\nI&#39;ve narrowed the issue down to one of these lines.  \r\n\r\n```java\r\npublic void process(Exchange exchange) throws Exception {\r\n    Object[] args = exchange.getIn().getBody(Object[].class);\r\n    JmsMessage message = (JmsMessage)args[0];\r\n    String s = message.getBody(String.class);\r\n    ...\r\n}\r\n```\r\nI&#39;m wondering what my options are to get around this error.  \r\nLooking at the `free -m` output inside my container,\r\n\r\n    # free -m\r\n                  total        used        free      shared  buff/cache   available\r\n    Mem:          23948       11579         498        1316       11870       10690\r\n    Swap:          6143         240        5903\r\n\r\n\r\nThere&#39;s 10GB of RAM available plus 6GB in swap.  The Artemis queue has `&lt;max-size-bytes&gt;-1&lt;/max-size-bytes&gt;` and no `&lt;global-max-size&gt;` set.  So there&#39;s no explicit limit.  Possibly, this leads to a max of `-Xmx / 2`, according to the comments in the `broker.xml` file.  It looks like the default is -Xmx2G so this would mean 1GB max.  Note that the message is nowhere near that size.  It&#39;s just 5MB of binary files saved in XML using Base64 for the binary.\r\n\r\nSo I will look into starting the AMQ with higher `Xmx`, but otherwise, is there any option in Java to deal with parsing the `String`, (or `JMSMessage`) in such a way that it doesn&#39;t overflow the heap?\r\n\r\ni.e. like streaming it, or buffering it, instead of loading the entire String into memory?","title":"Parsing XML string in Java without OOM error","body":"<p>I'm using Karaf and ActiveMQ Artemis in Docker, and one of my routes gets an XML string on a message queue, and I need to extract an element. But I'm getting <code>java.lang.OutOfMemoryError: Java heap space</code></p>\n<p>I've narrowed the issue down to one of these lines.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void process(Exchange exchange) throws Exception {\n    Object[] args = exchange.getIn().getBody(Object[].class);\n    JmsMessage message = (JmsMessage)args[0];\n    String s = message.getBody(String.class);\n    ...\n}\n</code></pre>\n<p>I'm wondering what my options are to get around this error.<br />\nLooking at the <code>free -m</code> output inside my container,</p>\n<pre><code># free -m\n              total        used        free      shared  buff/cache   available\nMem:          23948       11579         498        1316       11870       10690\nSwap:          6143         240        5903\n</code></pre>\n<p>There's 10GB of RAM available plus 6GB in swap.  The Artemis queue has <code>&lt;max-size-bytes&gt;-1&lt;/max-size-bytes&gt;</code> and no <code>&lt;global-max-size&gt;</code> set.  So there's no explicit limit.  Possibly, this leads to a max of <code>-Xmx / 2</code>, according to the comments in the <code>broker.xml</code> file.  It looks like the default is -Xmx2G so this would mean 1GB max.  Note that the message is nowhere near that size.  It's just 5MB of binary files saved in XML using Base64 for the binary.</p>\n<p>So I will look into starting the AMQ with higher <code>Xmx</code>, but otherwise, is there any option in Java to deal with parsing the <code>String</code>, (or <code>JMSMessage</code>) in such a way that it doesn't overflow the heap?</p>\n<p>i.e. like streaming it, or buffering it, instead of loading the entire String into memory?</p>\n"},{"tags":["java","html"],"owner":{"account_id":27187956,"reputation":1,"user_id":20722171,"display_name":"cruzzy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670837874,"creation_date":1670837634,"question_id":74769095,"body_markdown":"This is my HTML page where there will be multiple rows depending on how many data will be in JSON file. The first problem I have is that I have problem with listing down all the color options that can be found in the JSON file. For now it only display only 1 value which is according to the fruit. I do not know what code I should include in the doPost method in Java\r\n\r\n```\r\n\r\n  &lt;form id=&quot;config_form&quot; action=&quot;iLoveFruits&quot; method=&quot;Post&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n    &lt;table&gt;\r\n    &lt;c:forEach items=&quot;${fruits}&quot; var=&quot;fruit&quot; varStatus=&quot;count&quot;&gt;\r\n    &lt;tbody&gt;\r\n    &lt;tr&gt;\r\n      &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;fruit&quot; id=&quot;fruit&quot; value=&quot;${fruit.type}&quot;&gt;&lt;/td&gt;\r\n      &lt;td&gt;\r\n        &lt;select name=&quot;color&quot;&gt;&lt;option id=&quot;color&quot;&gt;${color}&lt;/option&gt;&lt;/select&gt;\r\n      &lt;/td&gt;\r\n      &lt;input type=&quot;file&quot; id=&quot;image&quot; name=&quot;image&quot; var=&quot;image&quot; accept=&quot;.img,.IMG&quot;/&gt;\r\n      &lt;label for=&quot;image&quot;&gt;Upload&lt;/label&gt;\r\n    &lt;/tr&gt;\r\n    &lt;/tbody&gt;\r\n   &lt;button type=&quot;submit&quot; id=&quot;submitBtn&quot;&gt;Submit&lt;/button&gt;\r\n  &lt;/form&gt;\r\n```\r\n\r\nThis is the codes under my doPost method where the file will be uploaded upon pressing the submit button. The issue I am facing is if there is 2 rows for example, whichever &quot;Upload&quot; button I click, it will display the file name under the first row. For example, I want to upload a image for the 3 row of the HTML page, after uploading the image, the name of the file will be shown in the first rather than the third. I do not know how to solve thi s please assist me \r\n\r\n\r\n```\r\n\r\n for (FileItem uploadItem : uploadItems) {\r\n   if (uploadItem.isFormField()) {\r\n     String fieldName = uploadItem.getFieldName();\r\n     if(fieldName.equals(&quot;fruit&quot;))\r\n       {\r\n         String fruit = uploadItem.getString();\r\n         newOutput.put(&quot;fruit&quot;,fruit);\r\n       }\r\n         else if(fieldName.equals(&quot;color&quot;))\r\n       {\r\n         String color = uploadItem.getString();\r\n         newOutput.put(&quot;color&quot;,color);\r\n           if (cert.toLowerCase().endsWith(&quot;.img&quot;)) {\r\n             File temp = new File(file_dir + File.separator + color);\r\n             uploadItem.write(temp);\r\n           }    \r\n       }\r\n     }\r\n   }\r\n\r\n\r\n```\r\n\r\n\r\nI am trying to get the filename in the textbox according to the row that I am changing","title":"Page can&#39;t capture data","body":"<p>This is my HTML page where there will be multiple rows depending on how many data will be in JSON file. The first problem I have is that I have problem with listing down all the color options that can be found in the JSON file. For now it only display only 1 value which is according to the fruit. I do not know what code I should include in the doPost method in Java</p>\n<pre><code>\n  &lt;form id=&quot;config_form&quot; action=&quot;iLoveFruits&quot; method=&quot;Post&quot; enctype=&quot;multipart/form-data&quot;&gt;\n    &lt;table&gt;\n    &lt;c:forEach items=&quot;${fruits}&quot; var=&quot;fruit&quot; varStatus=&quot;count&quot;&gt;\n    &lt;tbody&gt;\n    &lt;tr&gt;\n      &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;fruit&quot; id=&quot;fruit&quot; value=&quot;${fruit.type}&quot;&gt;&lt;/td&gt;\n      &lt;td&gt;\n        &lt;select name=&quot;color&quot;&gt;&lt;option id=&quot;color&quot;&gt;${color}&lt;/option&gt;&lt;/select&gt;\n      &lt;/td&gt;\n      &lt;input type=&quot;file&quot; id=&quot;image&quot; name=&quot;image&quot; var=&quot;image&quot; accept=&quot;.img,.IMG&quot;/&gt;\n      &lt;label for=&quot;image&quot;&gt;Upload&lt;/label&gt;\n    &lt;/tr&gt;\n    &lt;/tbody&gt;\n   &lt;button type=&quot;submit&quot; id=&quot;submitBtn&quot;&gt;Submit&lt;/button&gt;\n  &lt;/form&gt;\n</code></pre>\n<p>This is the codes under my doPost method where the file will be uploaded upon pressing the submit button. The issue I am facing is if there is 2 rows for example, whichever &quot;Upload&quot; button I click, it will display the file name under the first row. For example, I want to upload a image for the 3 row of the HTML page, after uploading the image, the name of the file will be shown in the first rather than the third. I do not know how to solve thi s please assist me</p>\n<pre><code>\n for (FileItem uploadItem : uploadItems) {\n   if (uploadItem.isFormField()) {\n     String fieldName = uploadItem.getFieldName();\n     if(fieldName.equals(&quot;fruit&quot;))\n       {\n         String fruit = uploadItem.getString();\n         newOutput.put(&quot;fruit&quot;,fruit);\n       }\n         else if(fieldName.equals(&quot;color&quot;))\n       {\n         String color = uploadItem.getString();\n         newOutput.put(&quot;color&quot;,color);\n           if (cert.toLowerCase().endsWith(&quot;.img&quot;)) {\n             File temp = new File(file_dir + File.separator + color);\n             uploadItem.write(temp);\n           }    \n       }\n     }\n   }\n\n\n</code></pre>\n<p>I am trying to get the filename in the textbox according to the row that I am changing</p>\n"},{"tags":["java","java-io"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670836686,"post_id":74768883,"comment_id":131957151,"body_markdown":"Please precise: &quot;performance&quot;/use case/assumptions/circumstances/&quot;benchmark&quot;... otherwise your question appears &quot;too broad&quot; (to me)","body":"Please precise: &quot;performance&quot;/use case/assumptions/circumstances/&quot;benchmark&quot;... otherwise your question appears &quot;too broad&quot; (to me)"},{"owner":{"account_id":6871197,"reputation":456,"user_id":5281466,"accept_rate":62,"display_name":"Matrix12"},"score":0,"creation_date":1670837873,"post_id":74768883,"comment_id":131957501,"body_markdown":"I have an application where I have to handle multiple concurrent requests with a non-blocking approach, using a low number of threads as possible.","body":"I have an application where I have to handle multiple concurrent requests with a non-blocking approach, using a low number of threads as possible."},{"owner":{"account_id":1704969,"reputation":318,"user_id":1564218,"accept_rate":57,"display_name":"brgr"},"score":1,"creation_date":1670839276,"post_id":74768883,"comment_id":131957915,"body_markdown":"Have a look at [this](https://stackoverflow.com/q/25099640/1564218) question, to understand the terms, especially &quot;async&quot;, better. This should also clarify where/how you can make performance improvements and when not.","body":"Have a look at <a href=\"https://stackoverflow.com/q/25099640/1564218\">this</a> question, to understand the terms, especially &quot;async&quot;, better. This should also clarify where/how you can make performance improvements and when not."}],"owner":{"account_id":6871197,"reputation":456,"user_id":5281466,"accept_rate":62,"display_name":"Matrix12"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670837212,"creation_date":1670836471,"question_id":74768883,"body_markdown":"I am wondering about the performance using ServerSocketChannel and  AsynchronousServerSocketChannel. In theory, AsynchronousServerSocketChannel should be faster. Do you know which option is better from a performance perspective? ","title":"AsynchronousServerSocketChannel vs ServerSocketChannel performance","body":"<p>I am wondering about the performance using ServerSocketChannel and  AsynchronousServerSocketChannel. In theory, AsynchronousServerSocketChannel should be faster. Do you know which option is better from a performance perspective?</p>\n"},{"tags":["java","sql","spring","postgresql","spring-boot"],"comments":[{"owner":{"account_id":10940745,"reputation":128,"user_id":8040692,"display_name":"Omeerfk"},"score":0,"creation_date":1670396418,"post_id":74712794,"comment_id":131864352,"body_markdown":"change (?2 is null or country=?2) with (country is null or country=?2)","body":"change (?2 is null or country=?2) with (country is null or country=?2)"},{"owner":{"account_id":27030718,"reputation":1,"user_id":20587127,"display_name":"Sunil Tiwari"},"score":0,"creation_date":1670397544,"post_id":74712794,"comment_id":131864594,"body_markdown":"`(country is null or country=?2)` returning only record with `null` values","body":"<code>(country is null or country=?2)</code> returning only record with <code>null</code> values"}],"answers":[{"tags":[],"owner":{"account_id":8361884,"reputation":24,"user_id":6279883,"display_name":"Parinda Amin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670397204,"creation_date":1670397204,"answer_id":74712950,"question_id":74712794,"body_markdown":"    You can use Case when Condition \r\n    \r\n    select \r\n        case when \r\n            ea.country is null then \r\n                (select ea.* from employee ea where ids in (?1))\r\n            when \r\n           ea.country = ?2 then \r\n                (select ea.* from employee ea where ids in (?1) and country =?2 )\r\n          end\r\n    from employee ea\t  ","title":"Select Query not working in NULL parameters JPA","body":"<pre><code>You can use Case when Condition \n\nselect \n    case when \n        ea.country is null then \n            (select ea.* from employee ea where ids in (?1))\n        when \n       ea.country = ?2 then \n            (select ea.* from employee ea where ids in (?1) and country =?2 )\n      end\nfrom employee ea      \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7718592,"reputation":119,"user_id":5845487,"display_name":"Hassan Golshani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670406660,"creation_date":1670406660,"answer_id":74714656,"question_id":74712794,"body_markdown":"Why you want use native query?\r\nThis code works for me.\r\n\r\n    @Query(&quot;select p from Person p where p.id in (?1) and (?2 is null or p.country = ?2)&quot;)\r\n    List&lt;Person&gt; find(List&lt;Long&gt; ids, String country);\r\n","title":"Select Query not working in NULL parameters JPA","body":"<p>Why you want use native query?\nThis code works for me.</p>\n<pre><code>@Query(&quot;select p from Person p where p.id in (?1) and (?2 is null or p.country = ?2)&quot;)\nList&lt;Person&gt; find(List&lt;Long&gt; ids, String country);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22357746,"reputation":61,"user_id":16574713,"display_name":"liu_bin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670461952,"creation_date":1670461952,"answer_id":74724499,"question_id":74712794,"body_markdown":"[this is spring-data use @query and spel](https://spring.io/blog/2014/07/15/spel-support-in-spring-data-jpa-query-definitions)\r\n&gt;The latest Spring Data JPA M1 release of the Evans release train eases this pain by adding support\r\n\r\nor\r\n\r\nyou can use `EntityManager`","title":"Select Query not working in NULL parameters JPA","body":"<p><a href=\"https://spring.io/blog/2014/07/15/spel-support-in-spring-data-jpa-query-definitions\" rel=\"nofollow noreferrer\">this is spring-data use @query and spel</a></p>\n<blockquote>\n<p>The latest Spring Data JPA M1 release of the Evans release train eases this pain by adding support</p>\n</blockquote>\n<p>or</p>\n<p>you can use <code>EntityManager</code></p>\n"}],"owner":{"account_id":27030718,"reputation":1,"user_id":20587127,"display_name":"Sunil Tiwari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":521,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1670837056,"creation_date":1670396229,"question_id":74712794,"body_markdown":"I am using `spring-data-jpa` here is my query \r\n\r\n\r\n```\r\n@Query(value = &quot;select ea.* from employee ea where ids in (?1) and (?2 is null or country=?2) &quot;, nativeQuery = true)\r\nPage&lt;Employee&gt; findByds(List&lt;UUID&gt; ids,String country ,Pageable pageable );\r\n```\r\n\r\nI want to get list of employee by matching country only when parameter `country` is not null else I want to get all records in `iDs`\r\n\r\n\r\nSQL Query is not working in case of null country parameter. I want my query to be like \r\n\r\n1. When country is null `select ea.* from employee ea where ids in (?1)`\r\n\r\n2. When country is not null `select ea.* from employee ea where ids in (?1) and country =?2`  \r\n","title":"Select Query not working in NULL parameters JPA","body":"<p>I am using <code>spring-data-jpa</code> here is my query</p>\n<pre><code>@Query(value = &quot;select ea.* from employee ea where ids in (?1) and (?2 is null or country=?2) &quot;, nativeQuery = true)\nPage&lt;Employee&gt; findByds(List&lt;UUID&gt; ids,String country ,Pageable pageable );\n</code></pre>\n<p>I want to get list of employee by matching country only when parameter <code>country</code> is not null else I want to get all records in <code>iDs</code></p>\n<p>SQL Query is not working in case of null country parameter. I want my query to be like</p>\n<ol>\n<li><p>When country is null <code>select ea.* from employee ea where ids in (?1)</code></p>\n</li>\n<li><p>When country is not null <code>select ea.* from employee ea where ids in (?1) and country =?2</code></p>\n</li>\n</ol>\n"},{"tags":["java","maven","tomcat","liferay","maven-deploy-plugin"],"answers":[{"tags":[],"owner":{"account_id":7363499,"reputation":27092,"user_id":5606016,"accept_rate":88,"display_name":"A_Di-Matteo"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1472736939,"creation_date":1472734593,"answer_id":39272160,"question_id":39272046,"body_markdown":"The error is not about `dependencyManagement` but rather `distributionManagement`\r\n&gt; Deployment failed: repository eleme\r\nnt was not specified in the POM inside `distributionManagement` element or in `-DaltDeploymentRepository=id::layout::url` parameter \r\n\r\nThe alternative (if you don&#39;t want to place it in your `pom.xml` file) is also provided by using the [`altDeploymentRepository`](http://maven.apache.org/plugins/maven-deploy-plugin/deploy-mojo.html#altDeploymentRepository) option:\r\n&gt; Specifies an alternative repository to which the project artifacts should be deployed ( other than those specified in `&lt;distributionManagement&gt;` ). \r\nFormat: `id::layout::url`\r\n\r\nThe first element, the `id`, must have a matching with a `server` defined in your `settings.xml` file (where you specify the credentials to use for the specific server).\r\n\r\nThe layour and the url are then specific to the target repository.\r\n\r\nYou can then invoke the command as:\r\n\r\n    mvn deploy -DaltDeploymentRepository=test:Maven2:http://somewhere:someport\r\n\r\nWhere `test` is the id of a [server](https://maven.apache.org/settings.html#Servers) element in your [Maven settings](https://maven.apache.org/settings.html)\r\n\r\n\t&lt;servers&gt;\r\n\t\t&lt;server&gt;\r\n\t\t  &lt;id&gt;test&lt;/id&gt;\r\n\t\t  &lt;username&gt;my_login&lt;/username&gt;\r\n\t\t  &lt;password&gt;my_password&lt;/password&gt;\r\n\t\t&lt;/server&gt;\r\n\t&lt;/servers&gt;\r\n\r\n------------------------------\r\n\r\n**Update**  \r\nBased on latest clarifications (via comments and edits), here some important points:\r\n\r\n- The Maven `deploy` [phase](https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html) is meant for \r\n      &gt; done in the build environment, copies the final package to the remote repository for sharing with other developers and projects.\r\n- Hence, in your case you don&#39;t need to use the `deploy` phase nor the `maven-deploy-plugin`.\r\n- Since Tomcat is the target server, you then need to use the [`tomcat7-maven-plugin`](http://tomcat.apache.org/maven-plugin-2.0/tomcat7-maven-plugin/)\r\n\r\nHere are few instructions:\r\n\r\n**Configure your `pom.xml`**   \r\nAdd to your `pom.xml` the following:\r\n\r\n    &lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;url&gt;http://localhost:8080/manager/text&lt;/url&gt;\r\n\t\t\t&lt;server&gt;tomcat8&lt;/server&gt;\r\n\t\t\t&lt;path&gt;/${project.build.finalName}&lt;/path&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n\r\n**Configure your `settings.xml`**   \r\nAdd to your Maven `settings.xml` the following in the `servers` section:\r\n\r\n\t&lt;server&gt;\r\n\t\t&lt;username&gt;maven&lt;/username&gt;\r\n\t\t&lt;password&gt;maven&lt;/password&gt;\r\n\t\t&lt;id&gt;tomcat8&lt;/id&gt;\r\n\t&lt;/server&gt;\r\n\r\nNote the matching `tomcat8` id between the settings and the plugin `configuration` above, `server` element.\r\n\r\n**Configure Tomcat for deploy**   \r\nIn the tomcat `conf` folder, configure the `tomcat-users.xml` file:\r\n\r\n\t  &lt;role rolename=&quot;manager-script&quot;/&gt;\r\n\t  &lt;user username=&quot;maven&quot; password=&quot;maven&quot; roles=&quot;manager-gui,manager-script&quot;/&gt;\r\n\r\nnote the credentials matching with what we actually specified in the Maven settings.\r\n\r\n\r\n**Try it**   \r\nThen from the command line you can finally invoke:\r\n\r\n    mvn tomcat7:deploy\r\n\r\nIf you don&#39;t want to configure `settings.xml` nor `pom.xml`, you then need to pass several parameters via command line as following:\r\n\r\n    mvn org.apache.tomcat.maven:tomcat7-maven-plugin:2.2:deploy \\ \r\n          -Durl=http://localhost:8080/manager/text \\\r\n          -Dusername=maven -Dpassword=maven\r\n\r\nNote: `\\` and newlines added for readibility\r\n\r\nCheck full list of options on the official documentation of its [`deploy`](http://tomcat.apache.org/maven-plugin-2.0/tomcat7-maven-plugin/deploy-mojo.html) goal.","title":"Disable distributionManagement in Maven POM","body":"<p>The error is not about <code>dependencyManagement</code> but rather <code>distributionManagement</code></p>\n\n<blockquote>\n  <p>Deployment failed: repository eleme\n  nt was not specified in the POM inside <code>distributionManagement</code> element or in <code>-DaltDeploymentRepository=id::layout::url</code> parameter </p>\n</blockquote>\n\n<p>The alternative (if you don't want to place it in your <code>pom.xml</code> file) is also provided by using the <a href=\"http://maven.apache.org/plugins/maven-deploy-plugin/deploy-mojo.html#altDeploymentRepository\" rel=\"noreferrer\"><code>altDeploymentRepository</code></a> option:</p>\n\n<blockquote>\n  <p>Specifies an alternative repository to which the project artifacts should be deployed ( other than those specified in <code>&lt;distributionManagement&gt;</code> ). \n  Format: <code>id::layout::url</code></p>\n</blockquote>\n\n<p>The first element, the <code>id</code>, must have a matching with a <code>server</code> defined in your <code>settings.xml</code> file (where you specify the credentials to use for the specific server).</p>\n\n<p>The layour and the url are then specific to the target repository.</p>\n\n<p>You can then invoke the command as:</p>\n\n<pre><code>mvn deploy -DaltDeploymentRepository=test:Maven2:http://somewhere:someport\n</code></pre>\n\n<p>Where <code>test</code> is the id of a <a href=\"https://maven.apache.org/settings.html#Servers\" rel=\"noreferrer\">server</a> element in your <a href=\"https://maven.apache.org/settings.html\" rel=\"noreferrer\">Maven settings</a></p>\n\n<pre><code>&lt;servers&gt;\n    &lt;server&gt;\n      &lt;id&gt;test&lt;/id&gt;\n      &lt;username&gt;my_login&lt;/username&gt;\n      &lt;password&gt;my_password&lt;/password&gt;\n    &lt;/server&gt;\n&lt;/servers&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>Update</strong><br>\nBased on latest clarifications (via comments and edits), here some important points:</p>\n\n<ul>\n<li>The Maven <code>deploy</code> <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html\" rel=\"noreferrer\">phase</a> is meant for \n\n<blockquote>\n  <p>done in the build environment, copies the final package to the remote repository for sharing with other developers and projects.</p>\n</blockquote></li>\n<li>Hence, in your case you don't need to use the <code>deploy</code> phase nor the <code>maven-deploy-plugin</code>.</li>\n<li>Since Tomcat is the target server, you then need to use the <a href=\"http://tomcat.apache.org/maven-plugin-2.0/tomcat7-maven-plugin/\" rel=\"noreferrer\"><code>tomcat7-maven-plugin</code></a></li>\n</ul>\n\n<p>Here are few instructions:</p>\n\n<p><strong>Configure your <code>pom.xml</code></strong><br>\nAdd to your <code>pom.xml</code> the following:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.2&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;url&gt;http://localhost:8080/manager/text&lt;/url&gt;\n        &lt;server&gt;tomcat8&lt;/server&gt;\n        &lt;path&gt;/${project.build.finalName}&lt;/path&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p><strong>Configure your <code>settings.xml</code></strong><br>\nAdd to your Maven <code>settings.xml</code> the following in the <code>servers</code> section:</p>\n\n<pre><code>&lt;server&gt;\n    &lt;username&gt;maven&lt;/username&gt;\n    &lt;password&gt;maven&lt;/password&gt;\n    &lt;id&gt;tomcat8&lt;/id&gt;\n&lt;/server&gt;\n</code></pre>\n\n<p>Note the matching <code>tomcat8</code> id between the settings and the plugin <code>configuration</code> above, <code>server</code> element.</p>\n\n<p><strong>Configure Tomcat for deploy</strong><br>\nIn the tomcat <code>conf</code> folder, configure the <code>tomcat-users.xml</code> file:</p>\n\n<pre><code>  &lt;role rolename=\"manager-script\"/&gt;\n  &lt;user username=\"maven\" password=\"maven\" roles=\"manager-gui,manager-script\"/&gt;\n</code></pre>\n\n<p>note the credentials matching with what we actually specified in the Maven settings.</p>\n\n<p><strong>Try it</strong><br>\nThen from the command line you can finally invoke:</p>\n\n<pre><code>mvn tomcat7:deploy\n</code></pre>\n\n<p>If you don't want to configure <code>settings.xml</code> nor <code>pom.xml</code>, you then need to pass several parameters via command line as following:</p>\n\n<pre><code>mvn org.apache.tomcat.maven:tomcat7-maven-plugin:2.2:deploy \\ \n      -Durl=http://localhost:8080/manager/text \\\n      -Dusername=maven -Dpassword=maven\n</code></pre>\n\n<p>Note: <code>\\</code> and newlines added for readibility</p>\n\n<p>Check full list of options on the official documentation of its <a href=\"http://tomcat.apache.org/maven-plugin-2.0/tomcat7-maven-plugin/deploy-mojo.html\" rel=\"noreferrer\"><code>deploy</code></a> goal.</p>\n"},{"tags":[],"owner":{"account_id":347517,"reputation":5454,"user_id":681671,"accept_rate":59,"display_name":"Dojo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670836835,"creation_date":1670836835,"answer_id":74768943,"question_id":39272046,"body_markdown":"@A_Di-Matteo&#39;s answer is correct for deploying to tomcat. But if you came here looking for how to deploy to a Maven repo without putting repo URLs in pom.xml then here&#39;s your answer:\r\n\r\n```\r\nmvn deploy -DskipTests -DaltDeploymentRepository=myrepoid::default::https://maven.example.org/repository/maven-releases\r\n```\r\n\r\nInstead of `altDeploymentRepository`, you could also use `altReleaseDeploymentRepository` or `altSnapshotDeploymentRepository`\r\n\r\nMore details in docs: https://maven.apache.org/plugins/maven-deploy-plugin/deploy-mojo.html\r\n","title":"Disable distributionManagement in Maven POM","body":"<p>@A_Di-Matteo's answer is correct for deploying to tomcat. But if you came here looking for how to deploy to a Maven repo without putting repo URLs in pom.xml then here's your answer:</p>\n<pre><code>mvn deploy -DskipTests -DaltDeploymentRepository=myrepoid::default::https://maven.example.org/repository/maven-releases\n</code></pre>\n<p>Instead of <code>altDeploymentRepository</code>, you could also use <code>altReleaseDeploymentRepository</code> or <code>altSnapshotDeploymentRepository</code></p>\n<p>More details in docs: <a href=\"https://maven.apache.org/plugins/maven-deploy-plugin/deploy-mojo.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-deploy-plugin/deploy-mojo.html</a></p>\n"}],"owner":{"account_id":2564776,"reputation":4503,"user_id":2225151,"accept_rate":42,"display_name":"Clay Banks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8951,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":39272160,"answer_count":2,"score":3,"last_activity_date":1670836835,"creation_date":1472734243,"question_id":39272046,"body_markdown":"I am trying to run a `mvn deploy` goal with maven on my Liferay portlet but am getting the following error\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.8.\r\n    2:deploy (default-deploy) on project MyPortlet: Deployment failed: repository eleme\r\n    nt was not specified in the POM inside distributionManagement element or in -Dal\r\n    tDeploymentRepository=id::layout::url parameter -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal o\r\n    rg.apache.maven.plugins:maven-deploy-plugin:2.8.2:deploy (default-deploy) on pro\r\n    ject RiskID: Deployment failed: repository element was not specified in the POM\r\n    inside distributionManagement element or in -DaltDeploymentRepository=id::layout\r\n\r\nI understand this error will return if you don&#39;t include the `&lt;distributionManagement /&gt;` tag in the pom.xml, however I don&#39;t wish to package this to a remote location and would like to instead deploy to my local tomcat instance; can this be configured?\r\n","title":"Disable distributionManagement in Maven POM","body":"<p>I am trying to run a <code>mvn deploy</code> goal with maven on my Liferay portlet but am getting the following error</p>\n\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.8.\n2:deploy (default-deploy) on project MyPortlet: Deployment failed: repository eleme\nnt was not specified in the POM inside distributionManagement element or in -Dal\ntDeploymentRepository=id::layout::url parameter -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal o\nrg.apache.maven.plugins:maven-deploy-plugin:2.8.2:deploy (default-deploy) on pro\nject RiskID: Deployment failed: repository element was not specified in the POM\ninside distributionManagement element or in -DaltDeploymentRepository=id::layout\n</code></pre>\n\n<p>I understand this error will return if you don't include the <code>&lt;distributionManagement /&gt;</code> tag in the pom.xml, however I don't wish to package this to a remote location and would like to instead deploy to my local tomcat instance; can this be configured?</p>\n"},{"tags":["java","soap","cxf"],"answers":[{"tags":[],"owner":{"account_id":7728304,"reputation":3488,"user_id":5852281,"display_name":"cdan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550624839,"creation_date":1550424310,"answer_id":54735750,"question_id":54713754,"body_markdown":"To customize the SOAP response, you can implement either one of these:\r\n\r\n- [JAX-WS handler](http://cxf.apache.org/docs/jax-ws-configuration.html);\r\n- [CXF interceptor](http://cxf.apache.org/docs/interceptors.html) (extend AbstractSoapInterceptor);\r\n- Servlet Filter.\r\n\r\n--EDIT 2019-02-20--\r\n\r\nAccording to Javadoc (and SOAP spec), the faultcode must be in the form &quot;prefix:localname&quot; where &quot;prefix&quot; is the prefix of a declared XML namespace in your XML, or you can have no prefix - that you want - if it is declared as the default namespace, e.g. with `xmlns=&quot;my-custom-faultcode-namespace-uri&quot;` somewhere, e.g. in the soap:Envelope element. So one way - not sure it&#39;s the easiest but it is SOAP standard compliant - consists to:\r\n\r\n1) Make up your own custom namespace for this faultcode\r\n\r\n2) Try changing the QName with empty string as namespace prefix:\r\n \r\n```\r\nQName faultCode = new QName(&quot;my-custom-faultcode-namespace-uri&quot;, &quot;11111&quot;, &quot;&quot;);\r\n```\r\n\r\nIf this is not enough (I would be surprised it is that simple), you may have force CXF to use your custom namespace as the default (without prefix). According to [this post](http://cxf.547215.n5.nabble.com/How-to-customize-namespaces-position-and-prefix-in-CXF-response-td3423069.html), to customize namespaces and prefixes on the soap enveloppe in CXF, you change the Map in the jaxws &#39;soap.env.ns.map&#39; property.\r\n","title":"Customization soap response","body":"<p>To customize the SOAP response, you can implement either one of these:</p>\n\n<ul>\n<li><a href=\"http://cxf.apache.org/docs/jax-ws-configuration.html\" rel=\"nofollow noreferrer\">JAX-WS handler</a>;</li>\n<li><a href=\"http://cxf.apache.org/docs/interceptors.html\" rel=\"nofollow noreferrer\">CXF interceptor</a> (extend AbstractSoapInterceptor);</li>\n<li>Servlet Filter.</li>\n</ul>\n\n<p>--EDIT 2019-02-20--</p>\n\n<p>According to Javadoc (and SOAP spec), the faultcode must be in the form \"prefix:localname\" where \"prefix\" is the prefix of a declared XML namespace in your XML, or you can have no prefix - that you want - if it is declared as the default namespace, e.g. with <code>xmlns=\"my-custom-faultcode-namespace-uri\"</code> somewhere, e.g. in the soap:Envelope element. So one way - not sure it's the easiest but it is SOAP standard compliant - consists to:</p>\n\n<p>1) Make up your own custom namespace for this faultcode</p>\n\n<p>2) Try changing the QName with empty string as namespace prefix:</p>\n\n<pre><code>QName faultCode = new QName(\"my-custom-faultcode-namespace-uri\", \"11111\", \"\");\n</code></pre>\n\n<p>If this is not enough (I would be surprised it is that simple), you may have force CXF to use your custom namespace as the default (without prefix). According to <a href=\"http://cxf.547215.n5.nabble.com/How-to-customize-namespaces-position-and-prefix-in-CXF-response-td3423069.html\" rel=\"nofollow noreferrer\">this post</a>, to customize namespaces and prefixes on the soap enveloppe in CXF, you change the Map in the jaxws 'soap.env.ns.map' property.</p>\n"},{"tags":[],"owner":{"account_id":16299228,"reputation":93,"user_id":11770752,"display_name":"anjey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605683908,"creation_date":1605683908,"answer_id":64888648,"question_id":54713754,"body_markdown":"I was looking for the exactly same thing since migrating an old system to behave exactly the same.\r\n\r\nI came up with the following Solution.\r\n\r\n\r\n```Java\r\nclass SoapFaultEndpointInterceptor extends EndpointInterceptorAdapter\r\n{\r\n    private static final Pattern SOAP_CODE_FAULT_SPLITTER = Pattern.compile(&quot;:&quot;);\r\n\r\n\r\n    @Override\r\n    public boolean handleFault(MessageContext messageContext, Object endpoint) throws Exception\r\n    {\r\n        SaajSoapMessage soapResponse = (SaajSoapMessage) messageContext.getResponse();\r\n        modifySoapFaultCode(soapResponse);\r\n\r\n        return super.handleFault(messageContext, endpoint);\r\n    }\r\n\r\n    private void modifySoapFaultCode(SaajSoapMessage soapResponse)\r\n    {\r\n        try {\r\n            SOAPMessage soapMessage = soapResponse.getSaajMessage();\r\n            SOAPBody body = soapMessage.getSOAPBody();\r\n            SOAPFault soapFault = body.getFault();\r\n\r\n            modifyFaultCodeIfPresent(soapFault);\r\n        } catch (SOAPException e) {\r\n            throw new SoapModifiyingException(&quot;Modifying faultcode did not work properly.&quot;, e);\r\n        }\r\n    }\r\n\r\n    private void modifyFaultCodeIfPresent(SOAPFault fault)\r\n    {\r\n        if (fault != null) {\r\n            String newFaultCode = cleanFaultCode(fault.getFaultCode());\r\n            fault.setFaultCode(newFaultCode);\r\n        }\r\n    }\r\n\r\n    private String cleanFaultCode(String oldFaultCode)\r\n    {\r\n        String[] cleanFaultCode = SOAP_CODE_FAULT_SPLITTER.split(oldFaultCode);\r\n        Assert.isTrue(cleanFaultCode.length == 2, &quot;No proper faultcode provided!&quot;);\r\n\r\n        return cleanFaultCode[1].trim();\r\n    }\r\n\r\n```\r\n\r\n\r\nAnd by adding `SoapFaultEndpointInterceptor` to your Interceptor, it should work.\r\n\r\n```Java\r\n@EnableWs\r\n@Configuration\r\npublic class SoapServerConfig extends WsConfigurerAdapter\r\n{\r\n    @Override\r\n    public void addInterceptors(List&lt;EndpointInterceptor&gt; interceptors)\r\n    {\r\n        interceptors.add(new SoapFaultEndpointInterceptor());\r\n    }\r\n}\r\n```","title":"Customization soap response","body":"<p>I was looking for the exactly same thing since migrating an old system to behave exactly the same.</p>\n<p>I came up with the following Solution.</p>\n<pre><code>class SoapFaultEndpointInterceptor extends EndpointInterceptorAdapter\n{\n    private static final Pattern SOAP_CODE_FAULT_SPLITTER = Pattern.compile(&quot;:&quot;);\n\n\n    @Override\n    public boolean handleFault(MessageContext messageContext, Object endpoint) throws Exception\n    {\n        SaajSoapMessage soapResponse = (SaajSoapMessage) messageContext.getResponse();\n        modifySoapFaultCode(soapResponse);\n\n        return super.handleFault(messageContext, endpoint);\n    }\n\n    private void modifySoapFaultCode(SaajSoapMessage soapResponse)\n    {\n        try {\n            SOAPMessage soapMessage = soapResponse.getSaajMessage();\n            SOAPBody body = soapMessage.getSOAPBody();\n            SOAPFault soapFault = body.getFault();\n\n            modifyFaultCodeIfPresent(soapFault);\n        } catch (SOAPException e) {\n            throw new SoapModifiyingException(&quot;Modifying faultcode did not work properly.&quot;, e);\n        }\n    }\n\n    private void modifyFaultCodeIfPresent(SOAPFault fault)\n    {\n        if (fault != null) {\n            String newFaultCode = cleanFaultCode(fault.getFaultCode());\n            fault.setFaultCode(newFaultCode);\n        }\n    }\n\n    private String cleanFaultCode(String oldFaultCode)\n    {\n        String[] cleanFaultCode = SOAP_CODE_FAULT_SPLITTER.split(oldFaultCode);\n        Assert.isTrue(cleanFaultCode.length == 2, &quot;No proper faultcode provided!&quot;);\n\n        return cleanFaultCode[1].trim();\n    }\n\n</code></pre>\n<p>And by adding <code>SoapFaultEndpointInterceptor</code> to your Interceptor, it should work.</p>\n<pre><code>@EnableWs\n@Configuration\npublic class SoapServerConfig extends WsConfigurerAdapter\n{\n    @Override\n    public void addInterceptors(List&lt;EndpointInterceptor&gt; interceptors)\n    {\n        interceptors.add(new SoapFaultEndpointInterceptor());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10500278,"reputation":140,"user_id":7739193,"display_name":"rbaha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1545,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1670836617,"creation_date":1550249502,"question_id":54713754,"body_markdown":"i am working on web services project with Apache CXF.\r\nI wan&#39;t to handle exception and customize response:\r\n \r\n    public class FaultInterceptor extends\r\n    AbstractSoapInterceptor {\r\n\r\n\tpublic FaultInterceptor() {\r\n\t\tsuper(Phase.MARSHAL);\r\n    }\r\n    public void handleMessage(SoapMessage soapMessage) throws Fault {\r\n    Fault fault = (Fault) soapMessage.getContent(Exception.class);\r\n    QName faultCode = new QName(&quot;11111&quot;);\r\n    fault.setFaultCode(faultCode);\r\n\r\nSo here is what i get in the response:\r\n\r\n    &lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n    &lt;soap:Body&gt;\r\n      &lt;soap:Fault&gt;\r\n         &lt;faultcode&gt;soap:11111&lt;/faultcode&gt;\r\n         &lt;faultstring&gt;Message&lt;/faultstring&gt;\r\n      &lt;/soap:Fault&gt;\r\n     &lt;/soap:Body&gt;\r\n   &lt;/soap:Envelope&gt;\r\n\r\nHow can i remove the text &quot;soap:&quot; and let only 11111?\r\n\r\nPlease help me and thanks in advance\r\n\r\n","title":"Customization soap response","body":"<p>i am working on web services project with Apache CXF.\nI wan't to handle exception and customize response:</p>\n\n<pre><code>public class FaultInterceptor extends\nAbstractSoapInterceptor {\n\npublic FaultInterceptor() {\n    super(Phase.MARSHAL);\n}\npublic void handleMessage(SoapMessage soapMessage) throws Fault {\nFault fault = (Fault) soapMessage.getContent(Exception.class);\nQName faultCode = new QName(\"11111\");\nfault.setFaultCode(faultCode);\n</code></pre>\n\n<p>So here is what i get in the response:</p>\n\n<pre><code>&lt;soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n&lt;soap:Body&gt;\n  &lt;soap:Fault&gt;\n     &lt;faultcode&gt;soap:11111&lt;/faultcode&gt;\n     &lt;faultstring&gt;Message&lt;/faultstring&gt;\n  &lt;/soap:Fault&gt;\n &lt;/soap:Body&gt;\n</code></pre>\n\n<p></p>\n\n<p>How can i remove the text \"soap:\" and let only 11111?</p>\n\n<p>Please help me and thanks in advance</p>\n"},{"tags":["java","vaadin","vaadin-flow"],"answers":[{"tags":[],"owner":{"account_id":113115,"reputation":2308,"user_id":298103,"accept_rate":91,"display_name":"Rolf"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670836609,"creation_date":1670836609,"answer_id":74768907,"question_id":74761221,"body_markdown":"The CSS looks correct and `addThemeName()` seems to be used correctly too, so I would expect that to work.\r\n\r\nYou could try a couple of things:\r\n\r\n1. Use the DOM inspector in the browser&#39;s devtools to check that the theme attribute is applied to the correct `vaadin-grid` element.\r\n\r\n2. The entire solution could be simplified a bit since `vaadin-grid-cell-content` is not inside the grid&#39;s shadow DOM. Try this instead:\r\n\r\n`grid.addClassName(&quot;custom-grid-theme&quot;);`\r\n\r\nand in your global stylesheet (that is *not* imported with `themeFor`):\r\n\r\n    vaadin-grid.custom-grid-theme vaadin-grid-cell-content {\r\n      padding: var(--lumo-space-xl);\r\n    }","title":"Vaadin: how do I style a specific Grid?","body":"<p>The CSS looks correct and <code>addThemeName()</code> seems to be used correctly too, so I would expect that to work.</p>\n<p>You could try a couple of things:</p>\n<ol>\n<li><p>Use the DOM inspector in the browser's devtools to check that the theme attribute is applied to the correct <code>vaadin-grid</code> element.</p>\n</li>\n<li><p>The entire solution could be simplified a bit since <code>vaadin-grid-cell-content</code> is not inside the grid's shadow DOM. Try this instead:</p>\n</li>\n</ol>\n<p><code>grid.addClassName(&quot;custom-grid-theme&quot;);</code></p>\n<p>and in your global stylesheet (that is <em>not</em> imported with <code>themeFor</code>):</p>\n<pre><code>vaadin-grid.custom-grid-theme vaadin-grid-cell-content {\n  padding: var(--lumo-space-xl);\n}\n</code></pre>\n"}],"owner":{"account_id":633896,"reputation":3552,"user_id":399637,"accept_rate":90,"display_name":"res1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74768907,"answer_count":1,"score":0,"last_activity_date":1670836609,"creation_date":1670765227,"question_id":74761221,"body_markdown":"I have a view with a Grid and I have a style for grid&#39;s cells:\r\n\r\n```\r\n[part~=&quot;cell&quot;] ::slotted(vaadin-grid-cell-content) {\r\n    padding: var(--lumo-space-xl);\r\n}\r\n```\r\n\r\nIf I apply this style in via `@CssImport` like\r\n```\r\n@CssImport(value = &quot;./styles/example.css&quot;, themeFor = &quot;vaadin-grid&quot;)\r\n```\r\n\r\nit works but this will apply to all Vaadin Grids, that it not what I want.\r\nIf I don&#39;t specify `themeFor` this will not apply.\r\n\r\nI want to apply this style just to the grid in the view where the grid is defined.\r\n\r\nI tried using a theme like:\r\n```\r\n:host([theme~=&quot;custom-grid-theme&quot;]) [part~=&quot;cell&quot;] ::slotted(vaadin-grid-cell-content) {\r\n    padding: var(--lumo-space-xl);\r\n}\r\n\r\n```\r\n\r\nand then on the grid\r\n```\r\ngrid.addThemeName(&quot;custom-grid-theme&quot;);\r\n```\r\n\r\nbut it doesn&#39;t work.\r\n\r\nI tried too:\r\n```\r\ngrid.getElement().setAttribute(&quot;theme&quot;, &quot;custom-grid-theme&quot;);\r\n```\r\nthis doesn&#39;t work too and it removes any GridVariant I applied.\r\n\r\nI am using Vaadin 14.\r\n\r\nThanks for the help.\r\n","title":"Vaadin: how do I style a specific Grid?","body":"<p>I have a view with a Grid and I have a style for grid's cells:</p>\n<pre><code>[part~=&quot;cell&quot;] ::slotted(vaadin-grid-cell-content) {\n    padding: var(--lumo-space-xl);\n}\n</code></pre>\n<p>If I apply this style in via <code>@CssImport</code> like</p>\n<pre><code>@CssImport(value = &quot;./styles/example.css&quot;, themeFor = &quot;vaadin-grid&quot;)\n</code></pre>\n<p>it works but this will apply to all Vaadin Grids, that it not what I want.\nIf I don't specify <code>themeFor</code> this will not apply.</p>\n<p>I want to apply this style just to the grid in the view where the grid is defined.</p>\n<p>I tried using a theme like:</p>\n<pre><code>:host([theme~=&quot;custom-grid-theme&quot;]) [part~=&quot;cell&quot;] ::slotted(vaadin-grid-cell-content) {\n    padding: var(--lumo-space-xl);\n}\n\n</code></pre>\n<p>and then on the grid</p>\n<pre><code>grid.addThemeName(&quot;custom-grid-theme&quot;);\n</code></pre>\n<p>but it doesn't work.</p>\n<p>I tried too:</p>\n<pre><code>grid.getElement().setAttribute(&quot;theme&quot;, &quot;custom-grid-theme&quot;);\n</code></pre>\n<p>this doesn't work too and it removes any GridVariant I applied.</p>\n<p>I am using Vaadin 14.</p>\n<p>Thanks for the help.</p>\n"},{"tags":["java","spring","maven","sdk","pom.xml"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1670837121,"post_id":74768897,"comment_id":131957273,"body_markdown":"Either add excludes to your dependency in the application, or mark the dependency in your SDK as optional. The latter forces you to manually include them in every application that needs it though.","body":"Either add excludes to your dependency in the application, or mark the dependency in your SDK as optional. The latter forces you to manually include them in every application that needs it though."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1670837123,"post_id":74768897,"comment_id":131957274,"body_markdown":"If they aren&#39;t required make them optional or provided. That way they don&#39;t leak into the client using it.","body":"If they aren&#39;t required make them optional or provided. That way they don&#39;t leak into the client using it."}],"owner":{"account_id":17044620,"reputation":50,"user_id":12331751,"display_name":"Dr Drake Ramoray"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1670836552,"creation_date":1670836552,"question_id":74768897,"body_markdown":"I have created a sdk which acts a library to generate api testcases .\r\nWhenever I add my java-sdk dependency in the pom.xml file of the client application, those dependencies which are not in the client&#39;s application and used by java-sdk to add support for but are not used internally get imported along .\r\n\r\nFor eg: my java-sdk uses ApacheClient, so it contains the ApacheClient dependency for intercepting. But if the client is not using this dependency, it should not appear in the application classpath but it does.\r\n\r\nI have created a multi-module project to upload at maven central , the module where all other module acts as dependency looks like -\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;java-sdk&lt;/artifactId&gt;\r\n        &lt;groupId&gt;io.keploy&lt;/groupId&gt;\r\n        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;keploy-sdk&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;keploy-sdk&lt;/name&gt;\r\n    &lt;description&gt;Client Java SDK for Keploy&lt;/description&gt;\r\n    &lt;url&gt;https://github.com/keploy/java-sdk&lt;/url&gt;\r\n  \r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.keploy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.keploy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.keploy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;integration&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.keploy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;models&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.keploy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;common&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-netty-shaded&lt;/artifactId&gt;\r\n            &lt;version&gt;1.49.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\r\n            &lt;version&gt;1.49.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\r\n            &lt;version&gt;1.49.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt; &lt;!-- necessary for Java 9+ --&gt;\r\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n            &lt;artifactId&gt;annotations-api&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.53&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\r\n            &lt;version&gt;3.21.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n            &lt;version&gt;4.10.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;byte-buddy&lt;/artifactId&gt;\r\n            &lt;version&gt;1.12.14&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;byte-buddy-agent&lt;/artifactId&gt;\r\n            &lt;version&gt;1.12.14&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.4&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\nFooter\r\n```","title":"Unused dependencies should not be imported in application classpath","body":"<p>I have created a sdk which acts a library to generate api testcases .\nWhenever I add my java-sdk dependency in the pom.xml file of the client application, those dependencies which are not in the client's application and used by java-sdk to add support for but are not used internally get imported along .</p>\n<p>For eg: my java-sdk uses ApacheClient, so it contains the ApacheClient dependency for intercepting. But if the client is not using this dependency, it should not appear in the application classpath but it does.</p>\n<p>I have created a multi-module project to upload at maven central , the module where all other module acts as dependency looks like -</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;java-sdk&lt;/artifactId&gt;\n        &lt;groupId&gt;io.keploy&lt;/groupId&gt;\n        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;keploy-sdk&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;keploy-sdk&lt;/name&gt;\n    &lt;description&gt;Client Java SDK for Keploy&lt;/description&gt;\n    &lt;url&gt;https://github.com/keploy/java-sdk&lt;/url&gt;\n  \n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.keploy&lt;/groupId&gt;\n            &lt;artifactId&gt;core&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.keploy&lt;/groupId&gt;\n            &lt;artifactId&gt;api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.keploy&lt;/groupId&gt;\n            &lt;artifactId&gt;integration&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.keploy&lt;/groupId&gt;\n            &lt;artifactId&gt;models&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.keploy&lt;/groupId&gt;\n            &lt;artifactId&gt;common&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-netty-shaded&lt;/artifactId&gt;\n            &lt;version&gt;1.49.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\n            &lt;version&gt;1.49.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\n            &lt;version&gt;1.49.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt; &lt;!-- necessary for Java 9+ --&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;annotations-api&lt;/artifactId&gt;\n            &lt;version&gt;6.0.53&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n            &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\n            &lt;version&gt;3.21.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n            &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n            &lt;version&gt;4.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\n            &lt;artifactId&gt;byte-buddy&lt;/artifactId&gt;\n            &lt;version&gt;1.12.14&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\n            &lt;artifactId&gt;byte-buddy-agent&lt;/artifactId&gt;\n            &lt;version&gt;1.12.14&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\nFooter\n</code></pre>\n"},{"tags":["java","prometheus","metrics","dropwizard","codahale-metrics"],"answers":[{"tags":[],"owner":{"account_id":27224286,"reputation":9,"user_id":20753018,"display_name":"ZhenHong Fan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670835842,"creation_date":1670835842,"answer_id":74768774,"question_id":74768175,"body_markdown":"    import io.micrometer.core.instrument.* \r\n\r\n    /**\r\n     * Avoid weak reference recycling\r\n     */\r\n    private final static AtomicLong ALONG = new AtomicLong(0);\r\n\r\n    public void execute(ShardingContext shardingContext) {\r\n      Gauge.builder(&quot;gaugeName&quot;,\r\n        ALONG, (t) -&gt; {\r\n          // ... ... get result\r\n          return 1;\r\n        }).register(Metrics.globalRegistry);\r\n    }\r\n\r\n\r\n","title":"How to configure sending Dropwizard metrics to Prometheus?","body":"<pre><code>import io.micrometer.core.instrument.* \n\n/**\n * Avoid weak reference recycling\n */\nprivate final static AtomicLong ALONG = new AtomicLong(0);\n\npublic void execute(ShardingContext shardingContext) {\n  Gauge.builder(&quot;gaugeName&quot;,\n    ALONG, (t) -&gt; {\n      // ... ... get result\n      return 1;\n    }).register(Metrics.globalRegistry);\n}\n</code></pre>\n"}],"owner":{"account_id":23087624,"reputation":25,"user_id":17198927,"display_name":"userdr725"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670835842,"creation_date":1670832208,"question_id":74768175,"body_markdown":"I am calculating dropwizard metrics and I am using the &quot;meter&quot; metric of DW to calculate how many number of times in a second a particular API was hit. and I want to send this &quot;rate metrics&quot; calculated by DW to Prometheus.\r\n\r\nI know DW stores these metrics values in java heap memory. How do I send them to Prometheus? Also, I do not want to make use of the &quot;Pushgateway&quot; since it isn&#39;t a batch job. \r\n","title":"How to configure sending Dropwizard metrics to Prometheus?","body":"<p>I am calculating dropwizard metrics and I am using the &quot;meter&quot; metric of DW to calculate how many number of times in a second a particular API was hit. and I want to send this &quot;rate metrics&quot; calculated by DW to Prometheus.</p>\n<p>I know DW stores these metrics values in java heap memory. How do I send them to Prometheus? Also, I do not want to make use of the &quot;Pushgateway&quot; since it isn't a batch job.</p>\n"},{"tags":["java","telegram","telegram-bot","mailing"],"owner":{"account_id":24206243,"reputation":21,"user_id":18163407,"display_name":"Khasan Nishanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1670835668,"creation_date":1670835098,"question_id":74768650,"body_markdown":"I have a problem trying to send a message through the command. The fact is that the message comes only to me\r\nMethod:\r\n```\r\n        else if(text.startsWith(&quot;/add&quot;)){\r\n          \r\n           sendMessage.setText(message.getText());\r\n            sendMessage.setParseMode(&quot;Markdown&quot;);\r\n                for (Customer customer : Database.customerList) {\r\n                    System.out.println(customer);\r\n                     Long id = customer.getId();\r\n                    sendMessage.setChatId(String.valueOf(id));\r\n                }\r\n\r\n            ComponentContainer.MY_TELEGRAM_BOT.sendMsg(sendMessage);\r\n        }\r\n```\r\n\r\n\r\n\r\nI&#39;m trying to send a message to all users through the processing of all id through the database, as a result, the message comes only to me","title":"How to send a message through telegram bot? [There is a solution, but something is wrong]","body":"<p>I have a problem trying to send a message through the command. The fact is that the message comes only to me\nMethod:</p>\n<pre><code>        else if(text.startsWith(&quot;/add&quot;)){\n          \n           sendMessage.setText(message.getText());\n            sendMessage.setParseMode(&quot;Markdown&quot;);\n                for (Customer customer : Database.customerList) {\n                    System.out.println(customer);\n                     Long id = customer.getId();\n                    sendMessage.setChatId(String.valueOf(id));\n                }\n\n            ComponentContainer.MY_TELEGRAM_BOT.sendMsg(sendMessage);\n        }\n</code></pre>\n<p>I'm trying to send a message to all users through the processing of all id through the database, as a result, the message comes only to me</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9177,"page":815,"page_size":100}
