{"items":[{"tags":["java","oop"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1684265397,"post_id":76266474,"comment_id":134492456,"body_markdown":"Seems like a silly question to me. What insight does the interview hope to gain by asking this? Would `int[] x = { 0 };` count? An array is an object...","body":"Seems like a silly question to me. What insight does the interview hope to gain by asking this? Would <code>int[] x = { 0 };</code> count? An array is an object..."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684265486,"post_id":76266474,"comment_id":134492478,"body_markdown":"Welcome to Stack Overflow! See the \n[How to Ask page](https://stackoverflow.com/help/how-to-ask) for help clarifying this question. Include the desired behavior, a specific problem or error and the shortest code necessary to \nreproduce the issue. Also share what you already investigated on this topic.","body":"Welcome to Stack Overflow! See the  <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask page</a> for help clarifying this question. Include the desired behavior, a specific problem or error and the shortest code necessary to  reproduce the issue. Also share what you already investigated on this topic."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1684265509,"post_id":76266474,"comment_id":134492483,"body_markdown":"`Double df = 3.14159` would also do it","body":"<code>Double df = 3.14159</code> would also do it"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":1,"creation_date":1684265742,"post_id":76266474,"comment_id":134492525,"body_markdown":"As a gentle nudge, btw: I found the linked duplicate by googling the exact text of this question&#39;s subject line. It was the top result.","body":"As a gentle nudge, btw: I found the linked duplicate by googling the exact text of this question&#39;s subject line. It was the top result."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1684338907,"post_id":76266474,"comment_id":134504831,"body_markdown":"`&quot;x = &quot; + Math.random()`","body":"<code>&quot;x = &quot; + Math.random()</code>"}],"owner":{"account_id":28615158,"reputation":1,"user_id":21909335,"display_name":"Rohan Singh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684265583,"answer_count":0,"score":0,"last_activity_date":1684265333,"creation_date":1684265333,"question_id":76266474,"body_markdown":"(I was asked this in my interview)\r\n\r\nI said yes but when he asked  to do it I wasnt able to ","title":"Can we create an object without using the new keyword in java?","body":"<p>(I was asked this in my interview)</p>\n<p>I said yes but when he asked  to do it I wasnt able to</p>\n"},{"tags":["java","apache-kafka","spring-kafka","apache-kafka-streams"],"owner":{"account_id":14247880,"reputation":21,"user_id":10292343,"display_name":"Radik Gimadiev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684265212,"creation_date":1684243131,"question_id":76263499,"body_markdown":"I have an application with\r\n1. Spring Kafka listener, listening to topic1\r\n2. Class with defined KafkaStreams instance, with own application.id app-id-1, listening to topic2, producing messages to topic2-inner. app-id-1 was implement by KafkaStreams DSL\r\ntopic1, topic2 and topic2-inner has only 1 partition.\r\nEverything worked well.\r\n\r\nI need implement new KafkaStreams instance with localStore and Punctuator, so I implemented it by Processor API. I create new Topology() etc., set another application.id app-id-2.\r\nThis new streams instance must listen topic1 in parallel with first Kafka listener.\r\nBut this new streams instance does not receive messages from topic1, but listener does.\r\nIn logs I see, that new KafkaStreams app-id-2 does not receive assignment from broker.\r\nIs this my configuration mistake, or Kafka broker error?\r\nHow I should configurate new streams application?\r\nAny help appreciated)\r\n\r\nSpringBoot 2.7.3\r\njava 17\r\nKakfa streams 3.1.0\r\n\r\napplication.yaml:\r\n\r\n```\r\n  kafka:\r\n    bootstrap-servers: &#39;kafka1, kafka2&#39;\r\n    listener:\r\n      concurrency: 3\r\n    consumer:\r\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n      value-deserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n      isolation-level: read_committed\r\n      properties:\r\n        partition.assignment.strategy: org.apache.kafka.clients.consumer.StickyAssignor\r\n    streams:\r\n      application-id: app-id-1\r\n      properties:\r\n        bootstrap.servers: &#39;kafka1, kafka2&#39;\r\n        commit.interval.ms: 100\r\n        metrics.recording.level: TRACE\r\n        auto.offset.reset: latest\r\n```\r\n\r\n\r\n\r\nListener:\r\n\r\n```\r\n    @KafkaListener(topics = &quot;topic1&quot;, groupId = &quot;group1&quot;, autoStartup = &quot;true&quot;)\r\n    public void receive(@Payload String message,\r\n                                  @Header(KafkaHeaders.RECEIVED_TIMESTAMP) String messageTimestamp,\r\n                                  @Header(KafkaHeaders.RECEIVED_TOPIC) String topic) {\r\n        log.info(&quot;Listener start message processing&quot;);\r\n}\r\n```\r\n\r\nKafkaStreams instance app-id-1:\r\n\r\n\r\n```\r\nprivate final StreamsBuilder streamsBuilder;\r\nprivate final KafkaStreamsConfiguration configuration;\r\nprivate final UncaughtExceptionHandler exceptionHandler;\r\n\r\n    @PostConstruct\r\n    private void startStream() {\r\n        streamsBuilder.stream(&quot;topic2&quot;, Consumed.with(Serdes.String(), Serdes.String()))\r\n                .peek(($, message) -&gt; log(message))               \r\n                .to(&quot;topic2-inner&quot;, Produced.with(Serdes.String(), Serdes.String()));\r\n        KafkaStreams streams = new KafkaStreams(streamsBuilder.build(), configuration.asProperties());\r\n        streams.setUncaughtExceptionHandler(exceptionHandler);\r\n        streams.start();\r\n    }\r\n```\r\n\r\nKafkaStreams instance app-id-2:\r\n\r\nProcessor\r\n```\r\n  public LastPriceProcessor(String stateStoreName, Duration duration, ObjectMapper objectMapper) {\r\n    this.stateStoreName = stateStoreName;\r\n    this.pauseDuration = duration;\r\n    this.objectMapper = objectMapper;\r\n  }\r\n\r\n  @Override\r\n  public void init(ProcessorContext&lt;String, PriceStore&gt; context) {\r\n    log.info(&quot;Processor initiated&quot;);\r\n    super.init(context);\r\n    keyValueStore = context().getStateStore(stateStoreName);\r\n    Punctuator punctuator = new Punctuator((org.apache.kafka.streams.processor.ProcessorContext) context(),\r\n        keyValueStore);\r\n    context().schedule(pauseDuration, PunctuationType.WALL_CLOCK_TIME, punctuator);\r\n  }\r\n\r\n  @Override\r\n  public void process(Record&lt;String, String&gt; record) {\r\n    log.info(&quot;LastPriceProcessor start process&quot;);\r\n}\r\n\r\n```\r\n\r\nStream starting service:\r\n\r\n```\r\nprivate final KafkaStreamsConfiguration configuration;\r\nprivate final KafkaStreamsProperties kafkaStreamsProperties;\r\n\r\n\r\n\r\n  @PostConstruct\r\n  private void startStream() {\r\nTopology topology = new Topology();\r\n\r\n    KeyValueBytesStoreSupplier storeSupplier = Stores.inMemoryKeyValueStore(PRICE_STORE);\r\n    Serializer&lt;PriceStore&gt; priceStoreSerializer = new PriceStoreSerializer(objectMapper);\r\n    Deserializer&lt;PriceStore&gt; priceStoreDeserializer = new PriceStoreSerializer(objectMapper);\r\n    StoreBuilder&lt;KeyValueStore&lt;String, PriceStore&gt;&gt; storeBuilder = Stores.keyValueStoreBuilder(storeSupplier,\r\n        Serdes.String(), Serdes.serdeFrom(priceStoreSerializer, priceStoreDeserializer));\r\n\r\n    String destinationTopic = &quot;topic4&quot;;\r\n\r\n    topology.addSource(&quot;price-source&quot;,\r\n        Serdes.String().deserializer(),\r\n        Serdes.String().deserializer(),\r\n        &quot;topic1&quot;)\r\n        .addProcessor(&quot;processor-name&quot;,\r\n            () -&gt; new Processor(&quot;store-name&quot;, kafkaStreamsProperties, objectMapper),\r\n            &quot;price-source&quot;)\r\n        .addStateStore(storeBuilder, &quot;processor-name&quot;)\r\n        .addSink(&quot;sink-name&quot;, destinationTopic, Serdes.String().serializer(), priceStoreSerializer, &quot;processor-name&quot;);\r\n\r\n    StreamsConfig streamsConfig = new StreamsConfig(getProperties());\r\n    KafkaStreams kafkaStreams = new KafkaStreams(topology, streamsConfig);\r\n    kafkaStreams.start();\r\n}\r\n\r\n  private Properties getProperties() {\r\n    Properties properties = configuration.asProperties();\r\n    properties.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;app-id-2&quot;);\r\n    return properties;\r\n  }\r\n```","title":"Kafka streams listener does not receive assignment, but spring KafkaListener does","body":"<p>I have an application with</p>\n<ol>\n<li>Spring Kafka listener, listening to topic1</li>\n<li>Class with defined KafkaStreams instance, with own application.id app-id-1, listening to topic2, producing messages to topic2-inner. app-id-1 was implement by KafkaStreams DSL\ntopic1, topic2 and topic2-inner has only 1 partition.\nEverything worked well.</li>\n</ol>\n<p>I need implement new KafkaStreams instance with localStore and Punctuator, so I implemented it by Processor API. I create new Topology() etc., set another application.id app-id-2.\nThis new streams instance must listen topic1 in parallel with first Kafka listener.\nBut this new streams instance does not receive messages from topic1, but listener does.\nIn logs I see, that new KafkaStreams app-id-2 does not receive assignment from broker.\nIs this my configuration mistake, or Kafka broker error?\nHow I should configurate new streams application?\nAny help appreciated)</p>\n<p>SpringBoot 2.7.3\njava 17\nKakfa streams 3.1.0</p>\n<p>application.yaml:</p>\n<pre><code>  kafka:\n    bootstrap-servers: 'kafka1, kafka2'\n    listener:\n      concurrency: 3\n    consumer:\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\n      value-deserializer: org.apache.kafka.common.serialization.StringDeserializer\n      isolation-level: read_committed\n      properties:\n        partition.assignment.strategy: org.apache.kafka.clients.consumer.StickyAssignor\n    streams:\n      application-id: app-id-1\n      properties:\n        bootstrap.servers: 'kafka1, kafka2'\n        commit.interval.ms: 100\n        metrics.recording.level: TRACE\n        auto.offset.reset: latest\n</code></pre>\n<p>Listener:</p>\n<pre><code>    @KafkaListener(topics = &quot;topic1&quot;, groupId = &quot;group1&quot;, autoStartup = &quot;true&quot;)\n    public void receive(@Payload String message,\n                                  @Header(KafkaHeaders.RECEIVED_TIMESTAMP) String messageTimestamp,\n                                  @Header(KafkaHeaders.RECEIVED_TOPIC) String topic) {\n        log.info(&quot;Listener start message processing&quot;);\n}\n</code></pre>\n<p>KafkaStreams instance app-id-1:</p>\n<pre><code>private final StreamsBuilder streamsBuilder;\nprivate final KafkaStreamsConfiguration configuration;\nprivate final UncaughtExceptionHandler exceptionHandler;\n\n    @PostConstruct\n    private void startStream() {\n        streamsBuilder.stream(&quot;topic2&quot;, Consumed.with(Serdes.String(), Serdes.String()))\n                .peek(($, message) -&gt; log(message))               \n                .to(&quot;topic2-inner&quot;, Produced.with(Serdes.String(), Serdes.String()));\n        KafkaStreams streams = new KafkaStreams(streamsBuilder.build(), configuration.asProperties());\n        streams.setUncaughtExceptionHandler(exceptionHandler);\n        streams.start();\n    }\n</code></pre>\n<p>KafkaStreams instance app-id-2:</p>\n<p>Processor</p>\n<pre><code>  public LastPriceProcessor(String stateStoreName, Duration duration, ObjectMapper objectMapper) {\n    this.stateStoreName = stateStoreName;\n    this.pauseDuration = duration;\n    this.objectMapper = objectMapper;\n  }\n\n  @Override\n  public void init(ProcessorContext&lt;String, PriceStore&gt; context) {\n    log.info(&quot;Processor initiated&quot;);\n    super.init(context);\n    keyValueStore = context().getStateStore(stateStoreName);\n    Punctuator punctuator = new Punctuator((org.apache.kafka.streams.processor.ProcessorContext) context(),\n        keyValueStore);\n    context().schedule(pauseDuration, PunctuationType.WALL_CLOCK_TIME, punctuator);\n  }\n\n  @Override\n  public void process(Record&lt;String, String&gt; record) {\n    log.info(&quot;LastPriceProcessor start process&quot;);\n}\n\n</code></pre>\n<p>Stream starting service:</p>\n<pre><code>private final KafkaStreamsConfiguration configuration;\nprivate final KafkaStreamsProperties kafkaStreamsProperties;\n\n\n\n  @PostConstruct\n  private void startStream() {\nTopology topology = new Topology();\n\n    KeyValueBytesStoreSupplier storeSupplier = Stores.inMemoryKeyValueStore(PRICE_STORE);\n    Serializer&lt;PriceStore&gt; priceStoreSerializer = new PriceStoreSerializer(objectMapper);\n    Deserializer&lt;PriceStore&gt; priceStoreDeserializer = new PriceStoreSerializer(objectMapper);\n    StoreBuilder&lt;KeyValueStore&lt;String, PriceStore&gt;&gt; storeBuilder = Stores.keyValueStoreBuilder(storeSupplier,\n        Serdes.String(), Serdes.serdeFrom(priceStoreSerializer, priceStoreDeserializer));\n\n    String destinationTopic = &quot;topic4&quot;;\n\n    topology.addSource(&quot;price-source&quot;,\n        Serdes.String().deserializer(),\n        Serdes.String().deserializer(),\n        &quot;topic1&quot;)\n        .addProcessor(&quot;processor-name&quot;,\n            () -&gt; new Processor(&quot;store-name&quot;, kafkaStreamsProperties, objectMapper),\n            &quot;price-source&quot;)\n        .addStateStore(storeBuilder, &quot;processor-name&quot;)\n        .addSink(&quot;sink-name&quot;, destinationTopic, Serdes.String().serializer(), priceStoreSerializer, &quot;processor-name&quot;);\n\n    StreamsConfig streamsConfig = new StreamsConfig(getProperties());\n    KafkaStreams kafkaStreams = new KafkaStreams(topology, streamsConfig);\n    kafkaStreams.start();\n}\n\n  private Properties getProperties() {\n    Properties properties = configuration.asProperties();\n    properties.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;app-id-2&quot;);\n    return properties;\n  }\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1684270648,"post_id":76266434,"comment_id":134493328,"body_markdown":"This seems to be a &quot;problem&quot; with your IDE, not your application. What IDE are you using?","body":"This seems to be a &quot;problem&quot; with your IDE, not your application. What IDE are you using?"},{"owner":{"account_id":19326678,"reputation":33,"user_id":14129168,"display_name":"Wulfen"},"score":0,"creation_date":1684270946,"post_id":76266434,"comment_id":134493387,"body_markdown":"I am using Eclipse IDE for Java Developers 2023-03 which I got from https://www.eclipse.org/downloads/packages/installer","body":"I am using Eclipse IDE for Java Developers 2023-03 which I got from <a href=\"https://www.eclipse.org/downloads/packages/installer\" rel=\"nofollow noreferrer\">eclipse.org/downloads/packages/installer</a>"},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1684271196,"post_id":76266434,"comment_id":134493429,"body_markdown":"Ok. nothing wrong with it, but Spring has a &quot;special&quot; flavor of it, called [Spring Tools Suite](https://spring.io/tools). It&#39;s just a reskin of Eclipse, really. Additionally, you could try the [suggestions from the docs](https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.hotswapping).","body":"Ok. nothing wrong with it, but Spring has a &quot;special&quot; flavor of it, called <a href=\"https://spring.io/tools\" rel=\"nofollow noreferrer\">Spring Tools Suite</a>. It&#39;s just a reskin of Eclipse, really. Additionally, you could try the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.hotswapping\" rel=\"nofollow noreferrer\">suggestions from the docs</a>."}],"owner":{"account_id":19326678,"reputation":33,"user_id":14129168,"display_name":"Wulfen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684264919,"creation_date":1684264919,"question_id":76266434,"body_markdown":"For an university assignment, I am supposed to encode a certain string using SHA-256. The file to edit is called ServerApplication.java, and it originally has this code: \r\n\r\n \r\n\r\n        package com.snhu.sslserver;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    \r\n    \r\n    @SpringBootApplication\r\n    public class ServerApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(ServerApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n    \r\n    @RestController\r\n    class ServerController{\r\n    //FIXME:  Add hash function to return the checksum value for the data string that should contain your name.    \r\n        @RequestMapping(&quot;/hash&quot;)\r\n        public String myHash(){\r\n        \tString data = &quot;Hello Joe Smith!&quot;;\r\n           \r\n            return &quot;&lt;p&gt;data:&quot;+data;\r\n        }\r\n    }\r\n\r\nUpon running the application I can then access https:/localhost:8443/hash and I will see the following output:\r\n\r\n    data: Hello Joe Smith!\r\n\r\nIf I edit the code above on String data = &quot;Hello My Name!&quot; Instead of Joe Smith, and rerun the application, and refresh localhost, it still says Hello Joe Smith! I have tried using different browsers to test and my changes are not saved.\r\n\r\nCould I get some help please? Let me know if additional code is needed, there are some Maven dependencies and the Spring framework.","title":"Java Spring application does not reflect updated code changes","body":"<p>For an university assignment, I am supposed to encode a certain string using SHA-256. The file to edit is called ServerApplication.java, and it originally has this code:</p>\n<pre><code>    package com.snhu.sslserver;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n\n\n@SpringBootApplication\npublic class ServerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ServerApplication.class, args);\n    }\n\n}\n\n@RestController\nclass ServerController{\n//FIXME:  Add hash function to return the checksum value for the data string that should contain your name.    \n    @RequestMapping(&quot;/hash&quot;)\n    public String myHash(){\n        String data = &quot;Hello Joe Smith!&quot;;\n       \n        return &quot;&lt;p&gt;data:&quot;+data;\n    }\n}\n</code></pre>\n<p>Upon running the application I can then access https:/localhost:8443/hash and I will see the following output:</p>\n<pre><code>data: Hello Joe Smith!\n</code></pre>\n<p>If I edit the code above on String data = &quot;Hello My Name!&quot; Instead of Joe Smith, and rerun the application, and refresh localhost, it still says Hello Joe Smith! I have tried using different browsers to test and my changes are not saved.</p>\n<p>Could I get some help please? Let me know if additional code is needed, there are some Maven dependencies and the Spring framework.</p>\n"},{"tags":["java","apache-nifi"],"owner":{"account_id":28614852,"reputation":11,"user_id":21909087,"display_name":"Galzo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684264875,"creation_date":1684262561,"question_id":76266182,"body_markdown":"I got the Nifi extracted to /opt/nifi/nifi-current\r\nand start it with /bin/nifi.sh start\r\n\r\nThe log as below:\r\n\r\n```\r\nStarting NiFi service\r\n\r\nJava home: /home/dev/.sdkman/candidates/java/current\r\nNiFi home: /opt/nifi/nifi-current\r\n\r\nBootstrap Config File: /opt/nifi/nifi-current/conf/bootstrap.conf\r\n\r\nException in thread &quot;main&quot; java.io.IOException: /opt/nifi/nifi-current could not be created\r\n\tat org.apache.nifi.util.file.FileUtils.ensureDirectoryExistAndCanAccess(FileUtils.java:85)\r\n\tat org.apache.nifi.bootstrap.RunNiFi.getBootstrapFile(RunNiFi.java:453)\r\n\tat org.apache.nifi.bootstrap.RunNiFi.getStatusFile(RunNiFi.java:464)\r\n\tat org.apache.nifi.bootstrap.RunNiFi.loadProperties(RunNiFi.java:477)\r\n\tat org.apache.nifi.bootstrap.RunNiFi.getCurrentPort(RunNiFi.java:583)\r\n\tat org.apache.nifi.bootstrap.RunNiFi.start(RunNiFi.java:1118)\r\n\tat org.apache.nifi.bootstrap.RunNiFi.main(RunNiFi.java:294)\r\n```\r\n\r\nCheck RunNifi show that it check for /opt/nifi/nifi-current path with this piece of code:\r\n\r\n```\r\n   protected File getBootstrapFile(final Logger logger, String directory, String defaultDirectory, String fileName) throws IOException {\r\n\r\n        final File confDir = bootstrapConfigFile.getParentFile();\r\n        final File nifiHome = confDir.getParentFile();\r\n\r\n        String confFileDir = System.getProperty(directory);\r\n\r\n        final File fileDir;\r\n\r\n        if (confFileDir != null) {\r\n            fileDir = new File(confFileDir.trim());\r\n        } else {\r\n            fileDir = new File(nifiHome, defaultDirectory);\r\n        }\r\n\r\n        FileUtils.ensureDirectoryExistAndCanAccess(fileDir);\r\n        final File statusFile = new File(fileDir, fileName);\r\n        logger.debug(&quot;Status File: {}&quot;, statusFile);\r\n        return statusFile;\r\n    }\r\n```\r\n\r\n```\r\n    public static void ensureDirectoryExistAndCanAccess(final File dir) throws IOException {\r\n        if (dir.exists() &amp;&amp; !dir.isDirectory()) {\r\n            throw new IOException(dir.getAbsolutePath() + &quot; is not a directory&quot;);\r\n        } else if (!dir.exists()) {\r\n            final boolean made = dir.mkdirs();\r\n            if (!made) {\r\n                throw new IOException(dir.getAbsolutePath() + &quot; could not be created&quot;);\r\n            }\r\n        }\r\n        if (!(dir.canRead() &amp;&amp; dir.canWrite())) {\r\n            throw new IOException(dir.getAbsolutePath() + &quot; directory does not have read/write privilege&quot;);\r\n        }\r\n    }\r\n```\r\n\r\nBut this seem wrong as:\r\n\r\n- the folder is exist but the logic still jump into the throw case\r\n\r\n\r\n- permission is ok (I change owner and permissions of the folder)\r\n\r\nWhat I could do further to resolve this ? \r\n\r\n- Tried to start Nifi with nifi.sh start\r\n- Set all the owner and permission","title":"Apache Nifi - Cannot start Nifi due to /opt/nifi/nifi-current cound not be created","body":"<p>I got the Nifi extracted to /opt/nifi/nifi-current\nand start it with /bin/nifi.sh start</p>\n<p>The log as below:</p>\n<pre><code>Starting NiFi service\n\nJava home: /home/dev/.sdkman/candidates/java/current\nNiFi home: /opt/nifi/nifi-current\n\nBootstrap Config File: /opt/nifi/nifi-current/conf/bootstrap.conf\n\nException in thread &quot;main&quot; java.io.IOException: /opt/nifi/nifi-current could not be created\n    at org.apache.nifi.util.file.FileUtils.ensureDirectoryExistAndCanAccess(FileUtils.java:85)\n    at org.apache.nifi.bootstrap.RunNiFi.getBootstrapFile(RunNiFi.java:453)\n    at org.apache.nifi.bootstrap.RunNiFi.getStatusFile(RunNiFi.java:464)\n    at org.apache.nifi.bootstrap.RunNiFi.loadProperties(RunNiFi.java:477)\n    at org.apache.nifi.bootstrap.RunNiFi.getCurrentPort(RunNiFi.java:583)\n    at org.apache.nifi.bootstrap.RunNiFi.start(RunNiFi.java:1118)\n    at org.apache.nifi.bootstrap.RunNiFi.main(RunNiFi.java:294)\n</code></pre>\n<p>Check RunNifi show that it check for /opt/nifi/nifi-current path with this piece of code:</p>\n<pre><code>   protected File getBootstrapFile(final Logger logger, String directory, String defaultDirectory, String fileName) throws IOException {\n\n        final File confDir = bootstrapConfigFile.getParentFile();\n        final File nifiHome = confDir.getParentFile();\n\n        String confFileDir = System.getProperty(directory);\n\n        final File fileDir;\n\n        if (confFileDir != null) {\n            fileDir = new File(confFileDir.trim());\n        } else {\n            fileDir = new File(nifiHome, defaultDirectory);\n        }\n\n        FileUtils.ensureDirectoryExistAndCanAccess(fileDir);\n        final File statusFile = new File(fileDir, fileName);\n        logger.debug(&quot;Status File: {}&quot;, statusFile);\n        return statusFile;\n    }\n</code></pre>\n<pre><code>    public static void ensureDirectoryExistAndCanAccess(final File dir) throws IOException {\n        if (dir.exists() &amp;&amp; !dir.isDirectory()) {\n            throw new IOException(dir.getAbsolutePath() + &quot; is not a directory&quot;);\n        } else if (!dir.exists()) {\n            final boolean made = dir.mkdirs();\n            if (!made) {\n                throw new IOException(dir.getAbsolutePath() + &quot; could not be created&quot;);\n            }\n        }\n        if (!(dir.canRead() &amp;&amp; dir.canWrite())) {\n            throw new IOException(dir.getAbsolutePath() + &quot; directory does not have read/write privilege&quot;);\n        }\n    }\n</code></pre>\n<p>But this seem wrong as:</p>\n<ul>\n<li><p>the folder is exist but the logic still jump into the throw case</p>\n</li>\n<li><p>permission is ok (I change owner and permissions of the folder)</p>\n</li>\n</ul>\n<p>What I could do further to resolve this ?</p>\n<ul>\n<li>Tried to start Nifi with nifi.sh start</li>\n<li>Set all the owner and permission</li>\n</ul>\n"},{"tags":["java","android","ios","flutter","pdf"],"answers":[{"tags":[],"owner":{"account_id":14624945,"reputation":1,"user_id":10562571,"display_name":"Кемал Каландаров"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684264845,"creation_date":1684264845,"answer_id":76266424,"question_id":76265974,"body_markdown":"I&#39;m not sure just guessing may be this will help:\r\n\r\n 1. Open the provider_paths.xml file located at android/app/src/main/res/xml/provider_paths.xml.\r\n 2. Replace the existing content with the following code:\r\n\r\n        &lt;paths&gt;\r\n          &lt;external-path\r\n            name=&quot;external_files&quot;\r\n            path=&quot;.&quot; /&gt;\r\n         &lt;cache-path\r\n            name=&quot;cache_files&quot;\r\n            path=&quot;.&quot; /&gt;\r\n        &lt;/paths&gt;\r\n 3. In your AndroidManifest.xml, update the android.support.FILE_PROVIDER_PATHS metadata value\r\nto use:\r\n\r\n    @xml/provider_paths\r\n\r\n    instead of:\r\n\r\n    @xml/path_provider:\r\n\r\n 4. Update the savePdfFile method in your CreaterPdf class as follows:\r\n\r\n    final output = await getApplicationDocumentsDirectory();","title":"Why does flutter crash when I try to open a previously created pdf?","body":"<p>I'm not sure just guessing may be this will help:</p>\n<ol>\n<li><p>Open the provider_paths.xml file located at android/app/src/main/res/xml/provider_paths.xml.</p>\n</li>\n<li><p>Replace the existing content with the following code:</p>\n<pre><code>&lt;paths&gt;\n  &lt;external-path\n    name=&quot;external_files&quot;\n    path=&quot;.&quot; /&gt;\n &lt;cache-path\n    name=&quot;cache_files&quot;\n    path=&quot;.&quot; /&gt;\n&lt;/paths&gt;\n</code></pre>\n</li>\n<li><p>In your AndroidManifest.xml, update the android.support.FILE_PROVIDER_PATHS metadata value\nto use:</p>\n<p>@xml/provider_paths</p>\n<p>instead of:</p>\n<p>@xml/path_provider:</p>\n</li>\n<li><p>Update the savePdfFile method in your CreaterPdf class as follows:</p>\n<p>final output = await getApplicationDocumentsDirectory();</p>\n</li>\n</ol>\n"}],"owner":{"account_id":26291989,"reputation":1,"user_id":21908786,"display_name":"InPivko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684264845,"creation_date":1684260547,"question_id":76265974,"body_markdown":"I&#39;m trying to make an application to create a PDF. Using 3 libraries on `flutter`: `pdf 3.10.3`, `path_provider 2.0.15`, `open_document 1.0.6+2`. The code will be just below. The bottom line is that everything works fine on iOS, but it&#39;s different with android: when you click the button the app just crashes, and the console has this output:\r\n\r\n```\r\nD/EGL_emulation(32619): app_time_stats: avg=4177.76ms min=631.96ms max=7723.56ms \r\n\r\n    count=2\r\n    D/DART/NATIVE(32619): onMethodCall openDocument\r\n    E/AndroidRuntime(32619): FATAL EXCEPTION: Thread-4\r\n    E/AndroidRuntime(32619): Process: com.example.testingv2, PID: 32619\r\n    E/AndroidRuntime(32619): java.lang.IllegalArgumentException: Couldn&#39;t find meta-data for provider with authority com.example.testingv2.fileprovider\r\n    E/AndroidRuntime(32619): \tat androidx.core.content.FileProvider.getFileProviderPathsMetaData(FileProvider.java:664)\r\n    E/AndroidRuntime(32619): \tat androidx.core.content.FileProvider.parsePathStrategy(FileProvider.java:695)\r\n    E/AndroidRuntime(32619): \tat androidx.core.content.FileProvider.getPathStrategy(FileProvider.java:645)\r\n    E/AndroidRuntime(32619): \tat androidx.core.content.FileProvider.getUriForFile(FileProvider.java:449)\r\n    E/AndroidRuntime(32619): \tat com.fsconceicao.open_document.OpenDocument.openDocument$open_document_debug(OpenDocument.kt:37)\r\n    E/AndroidRuntime(32619): \tat com.fsconceicao.open_document.OpenDocumentImpl.onMethodCall$lambda-5(OpenDocumentImpl.kt:55)\r\n    E/AndroidRuntime(32619): \tat com.fsconceicao.open_document.OpenDocumentImpl.$r8$lambda$dC68NxXnNWsal4uI2taad3gzBJ8(Unknown Source:0)\r\n    E/AndroidRuntime(32619): \tat com.fsconceicao.open_document.OpenDocumentImpl$$ExternalSyntheticLambda4.run(Unknown Source:6)\r\n    E/AndroidRuntime(32619): \tat java.lang.Thread.run(Thread.java:1012)\r\n    I/Process (32619): Sending signal. PID: 32619 SIG: 9\r\n    Lost connection to device.\r\n```\r\nAs I understood, all problems come from the ISP. I, according to the documentation from `open_document 1.0.6+2` did everything exactly as described there (just copied and pasted). In the folder `android/app/src/main/AndroidManifest.xml`.\r\n\r\nManifest code: \r\n\r\n```\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;application\r\n            android:label=&quot;testingv2&quot;\r\n            android:name=&quot;${applicationName}&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;&gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:launchMode=&quot;singleTop&quot;\r\n                android:theme=&quot;@style/LaunchTheme&quot;\r\n                android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|smallestScreenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode&quot;\r\n                android:hardwareAccelerated=&quot;true&quot;\r\n                android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\r\n                &lt;!-- Specifies an Android theme to apply to this Activity as soon as\r\n                     the Android process has started. This theme is visible to the user\r\n                     while the Flutter UI initializes. After that, this theme continues\r\n                     to determine the Window background behind the Flutter UI. --&gt;\r\n                &lt;meta-data\r\n                  android:name=&quot;io.flutter.embedding.android.NormalTheme&quot;\r\n                  android:resource=&quot;@style/NormalTheme&quot;\r\n                  /&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            &lt;!-- Don&#39;t delete the meta-data below.\r\n                 This is used by the Flutter tool to generate GeneratedPluginRegistrant.java --&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;flutterEmbedding&quot;\r\n                android:value=&quot;2&quot; /&gt;\r\n            &lt;provider\r\n                android:name=&quot;androidx.core.content.FileProvider&quot;\r\n                android:authorities=&quot;com.example.testingv2.fileprovider&quot;\r\n                android:exported=&quot;false&quot;\r\n                android:grantUriPermissions=&quot;true&quot;&gt;\r\n                &lt;meta-data\r\n                    android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                    android:resource=&quot;@xml/provider_paths&quot; /&gt;\r\n            &lt;/provider&gt;\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n```\r\n\r\nI created a folder and a file inside (`android/app/src/main/res/xml/provider_paths.xml`) and just threw in everything from the documentation without changing anything (maybe I should):\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n     &lt;paths&gt;\r\n       &lt;external-path\r\n         name=&quot;external_files&quot;\r\n         path=&quot;.&quot; /&gt;\r\n     &lt;/paths&gt;\r\n```\r\n\r\nHere is the application code itself:\r\n\r\n`main.dart`:\r\n\r\n```\r\nimport &#39;package:flutter/material.dart&#39;;\r\n    import &#39;package:pdf/widgets.dart&#39; as pw;\r\n    import &#39;package:pdf/pdf.dart&#39;;\r\n    import &#39;package:flutter/services.dart&#39; show ByteData, rootBundle;\r\n    import &#39;dart:io&#39;;\r\n    import &#39;package:path_provider/path_provider.dart&#39;;\r\n    import &#39;package:printing/printing.dart&#39;;\r\n    \r\n    import &#39;creat/create.dart&#39;;\r\n    \r\n    void main() =&gt; runApp(MyApp());\r\n    \r\n    class MyApp extends StatelessWidget {\r\n      final CreaterPdf service = CreaterPdf();\r\n      @override\r\n      Widget build(BuildContext context) {\r\n        return MaterialApp(\r\n          home: Scaffold(\r\n            appBar: AppBar(\r\n              title: Text(&#39;demka&#39;),\r\n            ),\r\n            body: Center(\r\n              child: Row(\r\n                children: [\r\n                  TextButton(\r\n                    onPressed: () async {\r\n                      final data = await service.generatePDF();\r\n                      service.savePdfFile(&#39;fileName&#39;, data);\r\n                    },\r\n                    child: Text(&#39;demka&#39;),\r\n                  )\r\n                ],\r\n              ),\r\n            ),\r\n          ),\r\n        );\r\n      }\r\n    }\r\n```\r\n\r\n`create.dart`:\r\n\r\n```\r\nimport &#39;dart:io&#39;;\r\n    import &#39;package:flutter/services.dart&#39;;\r\n    import &#39;package:open_document/open_document.dart&#39;;\r\n    import &#39;package:path_provider/path_provider.dart&#39;;\r\n    import &#39;package:pdf/pdf.dart&#39;;\r\n    import &#39;package:pdf/widgets.dart&#39; as pw;\r\n    \r\n    class CreaterPdf {\r\n      Future&lt;Uint8List&gt; generatePDF() async {\r\n        final pdf = pw.Document(); \r\n        final ttf = await rootBundle\r\n            .load(&quot;assets/fonts/Roboto-Bold.ttf&quot;); \r\n        final font = pw.Font.ttf(ttf);\r\n        final page = pw.Page(\r\n          pageFormat: PdfPageFormat.a4,\r\n          build: (pw.Context context) {\r\n            return pw.Column(\r\n              crossAxisAlignment: pw.CrossAxisAlignment.end,\r\n              children: &lt;pw.Widget&gt;[\r\n                pw.Text(\r\n                  &quot;Кому-то короче:&quot;,\r\n                  style: pw.TextStyle(fontSize: 14, font: font),\r\n                ),\r\n                pw.Text(&#39;Пупкин Олег Букин&#39;,\r\n                    style: pw.TextStyle(fontSize: 14, font: font)),\r\n                pw.SizedBox(height: 50),\r\n                pw.Center(\r\n                    child: pw.Text(&quot;мир&quot;,\r\n                        style: pw.TextStyle(fontSize: 30, font: font))),\r\n                pw.SizedBox(height: 50),\r\n                pw.Text(&quot;пока&quot;, style: pw.TextStyle(fontSize: 20, font: font)),\r\n              ],\r\n            );\r\n          },\r\n        );\r\n        pdf.addPage(page); \r\n        final bytes = await pdf.save();\r\n        final directory = await getApplicationDocumentsDirectory();\r\n        final file = File(&quot;${directory.path}/example.pdf&quot;);\r\n        await file.writeAsBytes(bytes);\r\n        return pdf.save();\r\n      }\r\n    \r\n      Future&lt;void&gt; savePdfFile(String fileName, Uint8List byteList) async {\r\n        final output = await getTemporaryDirectory();\r\n        var filePath = &quot;${output.path}/$fileName.pdf&quot;;\r\n        final file = File(filePath);\r\n        await file.writeAsBytes(byteList);\r\n        await OpenDocument.openDocument(filePath: filePath);\r\n      }\r\n    }\r\n```\r\n\r\nOn iOS, when you press the button, it goes like this:\r\n[when pressing a button on iOS](https://i.stack.imgur.com/6ytE4.png)\r\n\r\nIn `andriod studio`:\r\n\r\n[android studio](https://i.stack.imgur.com/zGlAA.png)\r\n\r\nThe crash happens when I try to open a previously created pdf, but it does not find it and the crash follows (again, as I understand it). But how to solve it?\r\n\r\nI changed the line in the manifest, but it didn&#39;t help. What I want to get: When I click on the button, as on iOS, the created pdf will open in the application (as shown in the screenshot), and then it would be simply possible to save or send (as on iOS) this PDF","title":"Why does flutter crash when I try to open a previously created pdf?","body":"<p>I'm trying to make an application to create a PDF. Using 3 libraries on <code>flutter</code>: <code>pdf 3.10.3</code>, <code>path_provider 2.0.15</code>, <code>open_document 1.0.6+2</code>. The code will be just below. The bottom line is that everything works fine on iOS, but it's different with android: when you click the button the app just crashes, and the console has this output:</p>\n<pre><code>D/EGL_emulation(32619): app_time_stats: avg=4177.76ms min=631.96ms max=7723.56ms \n\n    count=2\n    D/DART/NATIVE(32619): onMethodCall openDocument\n    E/AndroidRuntime(32619): FATAL EXCEPTION: Thread-4\n    E/AndroidRuntime(32619): Process: com.example.testingv2, PID: 32619\n    E/AndroidRuntime(32619): java.lang.IllegalArgumentException: Couldn't find meta-data for provider with authority com.example.testingv2.fileprovider\n    E/AndroidRuntime(32619):    at androidx.core.content.FileProvider.getFileProviderPathsMetaData(FileProvider.java:664)\n    E/AndroidRuntime(32619):    at androidx.core.content.FileProvider.parsePathStrategy(FileProvider.java:695)\n    E/AndroidRuntime(32619):    at androidx.core.content.FileProvider.getPathStrategy(FileProvider.java:645)\n    E/AndroidRuntime(32619):    at androidx.core.content.FileProvider.getUriForFile(FileProvider.java:449)\n    E/AndroidRuntime(32619):    at com.fsconceicao.open_document.OpenDocument.openDocument$open_document_debug(OpenDocument.kt:37)\n    E/AndroidRuntime(32619):    at com.fsconceicao.open_document.OpenDocumentImpl.onMethodCall$lambda-5(OpenDocumentImpl.kt:55)\n    E/AndroidRuntime(32619):    at com.fsconceicao.open_document.OpenDocumentImpl.$r8$lambda$dC68NxXnNWsal4uI2taad3gzBJ8(Unknown Source:0)\n    E/AndroidRuntime(32619):    at com.fsconceicao.open_document.OpenDocumentImpl$$ExternalSyntheticLambda4.run(Unknown Source:6)\n    E/AndroidRuntime(32619):    at java.lang.Thread.run(Thread.java:1012)\n    I/Process (32619): Sending signal. PID: 32619 SIG: 9\n    Lost connection to device.\n</code></pre>\n<p>As I understood, all problems come from the ISP. I, according to the documentation from <code>open_document 1.0.6+2</code> did everything exactly as described there (just copied and pasted). In the folder <code>android/app/src/main/AndroidManifest.xml</code>.</p>\n<p>Manifest code:</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n        &lt;application\n            android:label=&quot;testingv2&quot;\n            android:name=&quot;${applicationName}&quot;\n            android:icon=&quot;@mipmap/ic_launcher&quot;&gt;\n            &lt;activity\n                android:name=&quot;.MainActivity&quot;\n                android:exported=&quot;true&quot;\n                android:launchMode=&quot;singleTop&quot;\n                android:theme=&quot;@style/LaunchTheme&quot;\n                android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|smallestScreenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode&quot;\n                android:hardwareAccelerated=&quot;true&quot;\n                android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\n                &lt;!-- Specifies an Android theme to apply to this Activity as soon as\n                     the Android process has started. This theme is visible to the user\n                     while the Flutter UI initializes. After that, this theme continues\n                     to determine the Window background behind the Flutter UI. --&gt;\n                &lt;meta-data\n                  android:name=&quot;io.flutter.embedding.android.NormalTheme&quot;\n                  android:resource=&quot;@style/NormalTheme&quot;\n                  /&gt;\n                &lt;intent-filter&gt;\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n                &lt;/intent-filter&gt;\n            &lt;/activity&gt;\n            &lt;!-- Don't delete the meta-data below.\n                 This is used by the Flutter tool to generate GeneratedPluginRegistrant.java --&gt;\n            &lt;meta-data\n                android:name=&quot;flutterEmbedding&quot;\n                android:value=&quot;2&quot; /&gt;\n            &lt;provider\n                android:name=&quot;androidx.core.content.FileProvider&quot;\n                android:authorities=&quot;com.example.testingv2.fileprovider&quot;\n                android:exported=&quot;false&quot;\n                android:grantUriPermissions=&quot;true&quot;&gt;\n                &lt;meta-data\n                    android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                    android:resource=&quot;@xml/provider_paths&quot; /&gt;\n            &lt;/provider&gt;\n        &lt;/application&gt;\n    &lt;/manifest&gt;\n</code></pre>\n<p>I created a folder and a file inside (<code>android/app/src/main/res/xml/provider_paths.xml</code>) and just threw in everything from the documentation without changing anything (maybe I should):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n     &lt;paths&gt;\n       &lt;external-path\n         name=&quot;external_files&quot;\n         path=&quot;.&quot; /&gt;\n     &lt;/paths&gt;\n</code></pre>\n<p>Here is the application code itself:</p>\n<p><code>main.dart</code>:</p>\n<pre><code>import 'package:flutter/material.dart';\n    import 'package:pdf/widgets.dart' as pw;\n    import 'package:pdf/pdf.dart';\n    import 'package:flutter/services.dart' show ByteData, rootBundle;\n    import 'dart:io';\n    import 'package:path_provider/path_provider.dart';\n    import 'package:printing/printing.dart';\n    \n    import 'creat/create.dart';\n    \n    void main() =&gt; runApp(MyApp());\n    \n    class MyApp extends StatelessWidget {\n      final CreaterPdf service = CreaterPdf();\n      @override\n      Widget build(BuildContext context) {\n        return MaterialApp(\n          home: Scaffold(\n            appBar: AppBar(\n              title: Text('demka'),\n            ),\n            body: Center(\n              child: Row(\n                children: [\n                  TextButton(\n                    onPressed: () async {\n                      final data = await service.generatePDF();\n                      service.savePdfFile('fileName', data);\n                    },\n                    child: Text('demka'),\n                  )\n                ],\n              ),\n            ),\n          ),\n        );\n      }\n    }\n</code></pre>\n<p><code>create.dart</code>:</p>\n<pre><code>import 'dart:io';\n    import 'package:flutter/services.dart';\n    import 'package:open_document/open_document.dart';\n    import 'package:path_provider/path_provider.dart';\n    import 'package:pdf/pdf.dart';\n    import 'package:pdf/widgets.dart' as pw;\n    \n    class CreaterPdf {\n      Future&lt;Uint8List&gt; generatePDF() async {\n        final pdf = pw.Document(); \n        final ttf = await rootBundle\n            .load(&quot;assets/fonts/Roboto-Bold.ttf&quot;); \n        final font = pw.Font.ttf(ttf);\n        final page = pw.Page(\n          pageFormat: PdfPageFormat.a4,\n          build: (pw.Context context) {\n            return pw.Column(\n              crossAxisAlignment: pw.CrossAxisAlignment.end,\n              children: &lt;pw.Widget&gt;[\n                pw.Text(\n                  &quot;Кому-то короче:&quot;,\n                  style: pw.TextStyle(fontSize: 14, font: font),\n                ),\n                pw.Text('Пупкин Олег Букин',\n                    style: pw.TextStyle(fontSize: 14, font: font)),\n                pw.SizedBox(height: 50),\n                pw.Center(\n                    child: pw.Text(&quot;мир&quot;,\n                        style: pw.TextStyle(fontSize: 30, font: font))),\n                pw.SizedBox(height: 50),\n                pw.Text(&quot;пока&quot;, style: pw.TextStyle(fontSize: 20, font: font)),\n              ],\n            );\n          },\n        );\n        pdf.addPage(page); \n        final bytes = await pdf.save();\n        final directory = await getApplicationDocumentsDirectory();\n        final file = File(&quot;${directory.path}/example.pdf&quot;);\n        await file.writeAsBytes(bytes);\n        return pdf.save();\n      }\n    \n      Future&lt;void&gt; savePdfFile(String fileName, Uint8List byteList) async {\n        final output = await getTemporaryDirectory();\n        var filePath = &quot;${output.path}/$fileName.pdf&quot;;\n        final file = File(filePath);\n        await file.writeAsBytes(byteList);\n        await OpenDocument.openDocument(filePath: filePath);\n      }\n    }\n</code></pre>\n<p>On iOS, when you press the button, it goes like this:\n<a href=\"https://i.stack.imgur.com/6ytE4.png\" rel=\"nofollow noreferrer\">when pressing a button on iOS</a></p>\n<p>In <code>andriod studio</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/zGlAA.png\" rel=\"nofollow noreferrer\">android studio</a></p>\n<p>The crash happens when I try to open a previously created pdf, but it does not find it and the crash follows (again, as I understand it). But how to solve it?</p>\n<p>I changed the line in the manifest, but it didn't help. What I want to get: When I click on the button, as on iOS, the created pdf will open in the application (as shown in the screenshot), and then it would be simply possible to save or send (as on iOS) this PDF</p>\n"},{"tags":["java","maven","mule","mulesoft","mule4"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684263665,"post_id":76265745,"comment_id":134492145,"body_markdown":"Please share your pom.","body":"Please share your pom."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684264691,"creation_date":1684264691,"answer_id":76266411,"question_id":76265745,"body_markdown":"The error indicates that it is related to using Java 20. Downgrade to Java 8 or [change the source level][1] to Java 8 in the pom.\r\n\r\n``` lang-xml\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n```\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html","title":"Error Publishing Mule JSON Logger to Anypoint Exchange","body":"<p>The error indicates that it is related to using Java 20. Downgrade to Java 8 or <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\" rel=\"nofollow noreferrer\">change the source level</a> to Java 8 in the pom.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n</code></pre>\n"}],"owner":{"account_id":6117163,"reputation":51,"user_id":4771802,"display_name":"Andy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76266411,"answer_count":1,"score":-1,"last_activity_date":1684264691,"creation_date":1684258459,"question_id":76265745,"body_markdown":"I am trying to publish the Mule JSON Logger to my Anypoint Exchange based from the following repo - https://github.com/mulesoft-consulting/json-logger\r\n\r\nWhen the execute the deploy-to-exchange.sh script with the ORG ID provided I keep getting Java Build Failures with a huge stack trace.\r\n\r\n```\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n[WARNING] diagnostic: warning: Supported source version &#39;RELEASE_8&#39; from annotation processor &#39;org.mule.runtime.ast.internal.extension.loader.ASTExtensionResourcesGeneratorAnnotationProcessor&#39; less than -source &#39;20&#39;\r\n[INFO] diagnostic: Note: Starting Resources generator for Extensions\r\n[ERROR] error on execute: use -X to have details \r\n[DEBUG] \r\njava.lang.RuntimeException: java.lang.ExceptionInInitializerError\r\n    at com.sun.tools.javac.api.JavacTaskImpl.invocationHelper (JavacTaskImpl.java:168)\r\n    at com.sun.tools.javac.api.JavacTaskImpl.doCall (JavacTaskImpl.java:100)\r\n    at com.sun.tools.javac.api.JavacTaskImpl.call (JavacTaskImpl.java:94)\r\n    at org.bsc.maven.plugin.processor.AbstractAnnotationProcessorMojo.executeWithExceptionsHandled (AbstractAnnotationProcessorMojo.java:778)\r\n    at org.bsc.maven.plugin.processor.AbstractAnnotationProcessorMojo.execute (AbstractAnnotationProcessorMojo.java:429)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\r\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:827)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:272)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:195)\r\n    at jdk.internal.reflect.DirectMethodHandleAccessor.invoke ..........\r\n```\r\n\r\nI have JDK 20 installed on my machine but I was getting the same error even with JDK 8 which I had earlier. Any ideas what could be causing this issue?","title":"Error Publishing Mule JSON Logger to Anypoint Exchange","body":"<p>I am trying to publish the Mule JSON Logger to my Anypoint Exchange based from the following repo - <a href=\"https://github.com/mulesoft-consulting/json-logger\" rel=\"nofollow noreferrer\">https://github.com/mulesoft-consulting/json-logger</a></p>\n<p>When the execute the deploy-to-exchange.sh script with the ORG ID provided I keep getting Java Build Failures with a huge stack trace.</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n[WARNING] diagnostic: warning: Supported source version 'RELEASE_8' from annotation processor 'org.mule.runtime.ast.internal.extension.loader.ASTExtensionResourcesGeneratorAnnotationProcessor' less than -source '20'\n[INFO] diagnostic: Note: Starting Resources generator for Extensions\n[ERROR] error on execute: use -X to have details \n[DEBUG] \njava.lang.RuntimeException: java.lang.ExceptionInInitializerError\n    at com.sun.tools.javac.api.JavacTaskImpl.invocationHelper (JavacTaskImpl.java:168)\n    at com.sun.tools.javac.api.JavacTaskImpl.doCall (JavacTaskImpl.java:100)\n    at com.sun.tools.javac.api.JavacTaskImpl.call (JavacTaskImpl.java:94)\n    at org.bsc.maven.plugin.processor.AbstractAnnotationProcessorMojo.executeWithExceptionsHandled (AbstractAnnotationProcessorMojo.java:778)\n    at org.bsc.maven.plugin.processor.AbstractAnnotationProcessorMojo.execute (AbstractAnnotationProcessorMojo.java:429)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:342)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:330)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:175)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:76)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:163)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:160)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:827)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:272)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:195)\n    at jdk.internal.reflect.DirectMethodHandleAccessor.invoke ..........\n</code></pre>\n<p>I have JDK 20 installed on my machine but I was getting the same error even with JDK 8 which I had earlier. Any ideas what could be causing this issue?</p>\n"},{"tags":["java","google-cloud-functions","dependencies","google-play-integrity-api"],"comments":[{"owner":{"account_id":24326192,"reputation":1039,"user_id":18265702,"display_name":"Sandeep Vokkareni"},"score":1,"creation_date":1684223832,"post_id":76259630,"comment_id":134482279,"body_markdown":"Can you try deploying your code locally and check whether it is deploying successfully or not? Also to complete all the missing parts of the build.gradle you must include `com.google.oauth-client:google-oauth-client:1.32.1` under dependencies part.","body":"Can you try deploying your code locally and check whether it is deploying successfully or not? Also to complete all the missing parts of the build.gradle you must include <code>com.google.oauth-client:google-oauth-client:1.32.1</code> under dependencies part."}],"owner":{"account_id":1835474,"reputation":4777,"user_id":1665964,"accept_rate":33,"display_name":"Tapa Save"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684264674,"creation_date":1684214987,"question_id":76259630,"body_markdown":"I&#39;m trying to run a next code on Google Cloud Functions platform:\r\n\r\nGradle:\r\n\r\n    apply plugin: &#39;java&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    configurations {\r\n        invoker\r\n    }\r\n    \r\n    java {\r\n        sourceCompatibility = JavaVersion.VERSION_17\r\n        targetCompatibility = JavaVersion.VERSION_17\r\n    }\r\n    \r\n    dependencies {\r\n        compileOnly &#39;com.google.cloud.functions:functions-framework-api:1.0.4&#39;\r\n        invoker &#39;com.google.cloud.functions.invoker:java-function-invoker:1.2.1&#39;\r\n        implementation &#39;com.google.cloud:google-cloud-storage:2.1.1&#39;\r\n        implementation &#39;com.google.code.gson:gson:2.10.1&#39;\r\n        implementation &#39;com.google.apis:google-api-services-playintegrity:v1-rev20230105-2.0.0&#39;\r\n    }\r\n    \r\n    tasks.register(&quot;runFunctionGetMetadata&quot;, JavaExec) {\r\n        main = &#39;com.google.cloud.functions.invoker.runner.Invoker&#39;\r\n        classpath(configurations.invoker)\r\n        inputs.files(configurations.runtimeClasspath, sourceSets.main.output)\r\n        args(&#39;--target&#39;, &#39;com.k.backend.GetMetadata&#39;, &#39;--port&#39;, 8081)\r\n        doFirst {\r\n            args(&#39;--classpath&#39;, files(configurations.runtimeClasspath, sourceSets.main.output).asPath)\r\n        }\r\n    }\r\n\r\nJava:\r\n\r\n    package com.k.backend;\r\n    \r\n    import com.google.api.client.googleapis.services.GoogleClientRequestInitializer;\r\n    import com.google.api.client.http.HttpRequestInitializer;\r\n    import com.google.api.client.http.HttpTransport;\r\n    import com.google.api.client.http.javanet.NetHttpTransport;\r\n    import com.google.api.client.json.JsonFactory;\r\n    import com.google.api.client.json.jackson2.JacksonFactory;\r\n    import com.google.api.services.playintegrity.v1.PlayIntegrity;\r\n    import com.google.api.services.playintegrity.v1.PlayIntegrityRequestInitializer;\r\n    import com.google.api.services.playintegrity.v1.model.DecodeIntegrityTokenRequest;\r\n    import com.google.api.services.playintegrity.v1.model.DecodeIntegrityTokenResponse;\r\n    import com.google.auth.http.HttpCredentialsAdapter;\r\n    import com.google.auth.oauth2.GoogleCredentials;\r\n    import com.google.cloud.functions.HttpFunction;\r\n    import com.google.cloud.functions.HttpRequest;\r\n    import com.google.cloud.functions.HttpResponse;\r\n    import com.google.gson.Gson;\r\n    import com.google.gson.JsonArray;\r\n    import com.google.gson.JsonObject;\r\n    \r\n    import java.io.BufferedWriter;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.util.Optional;\r\n    \r\n    public class GetMetadata implements HttpFunction {\r\n    \r\n        @Override\r\n        public void service(HttpRequest request, HttpResponse response) throws IOException {\r\n            JsonObject object = new JsonObject();\r\n            object.addProperty(&quot;calc1&quot;, calc(arg + 1)); // arg is just random string\r\n            object.addProperty(&quot;calc2&quot;, calc(arg));\r\n            String result = new Gson().toJson(object);\r\n            response.setContentType(&quot;application/json&quot;);\r\n            BufferedWriter writer = response.getWriter();\r\n            writer.write(result);\r\n        }\r\n    \r\n        private String calc(String integrityToken) {\r\n            try {\r\n                DecodeIntegrityTokenRequest requestObj = new DecodeIntegrityTokenRequest();\r\n                requestObj.setIntegrityToken(integrityToken);\r\n    \r\n                GoogleCredentials credentials = GoogleCredentials.fromStream(new FileInputStream(&quot;../client_secret.json&quot;));\r\n                HttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(credentials);\r\n    \r\n                HttpTransport HTTP_TRANSPORT = new NetHttpTransport();\r\n                JsonFactory JSON_FACTORY = new JacksonFactory();\r\n                GoogleClientRequestInitializer initialiser = new PlayIntegrityRequestInitializer();\r\n    \r\n                PlayIntegrity.Builder playIntegrity = new PlayIntegrity.Builder(HTTP_TRANSPORT, JSON_FACTORY, requestInitializer).setApplicationName(&quot;AppName&quot;)\r\n                        .setGoogleClientRequestInitializer(initialiser);\r\n                PlayIntegrity play = playIntegrity.build();\r\n    \r\n                DecodeIntegrityTokenResponse response = play.v1().decodeIntegrityToken(&quot;com.k&quot;, requestObj).execute();\r\n                return someActionOnResponse(response);\r\n            } catch (Exception exception) {\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\nOnce I&#39;m trying to deploy my code to Goole Cloud Functions backend I get error:\r\n\r\n    ERROR: (gcloud.functions.deploy) OperationError: code=3, message=Build failed with status: FAILURE and message: ...k.backend.GetMetadata\r\n    [INFO] 11 errors \r\n    [INFO] -------------------------------------------------------------\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  3.054 s\r\n    [INFO] Finished at: 2023-05-16T05:03:52Z\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project backend: Compilation failure: Compilation failure: \r\n    [ERROR] /workspace/src/main/java/com/k/backend/GetMetadata.java:[9,48] package com.google.api.services.playintegrity.v1 does not exist\r\n    [ERROR] /workspace/src/main/java/com/k/backend/GetMetadata.java:[10,48] package com.google.api.services.playintegrity.v1 does not exist\r\n    [ERROR] /workspace/src/main/java/com/k/backend/GetMetadata.java:[11,54] package com.google.api.services.playintegrity.v1.model does not exist\r\n    [ERROR] /workspace/src/main/java/com/k/backend/GetMetadata.java:[12,54] package com.google.api.services.playintegrity.v1.model does not exist\r\n    [ERROR] /workspace/src/main/java/com/k/backend/GetMetadata.java:[78,9] cannot find symbol\r\n    [ERROR]   symbol:   class DecodeIntegrityTokenRequest\r\n    [ERROR]   location: class com.k.backend.GetMetadata\r\n    ....\r\n\r\nWhat is wrong with my code? Thanks in advance :)\r\n\r\n\r\nUpdate: sorry, my bad, I forgot add dependencies to POM file:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n      &lt;artifactId&gt;google-api-services-playintegrity&lt;/artifactId&gt;\r\n      &lt;version&gt;v1-rev20230105-2.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nNow it working fine, thanks!","title":"Issue with run Google Play Intergity code on Google Cloud Functions","body":"<p>I'm trying to run a next code on Google Cloud Functions platform:</p>\n<p>Gradle:</p>\n<pre><code>apply plugin: 'java'\n\nrepositories {\n    mavenCentral()\n}\n\nconfigurations {\n    invoker\n}\n\njava {\n    sourceCompatibility = JavaVersion.VERSION_17\n    targetCompatibility = JavaVersion.VERSION_17\n}\n\ndependencies {\n    compileOnly 'com.google.cloud.functions:functions-framework-api:1.0.4'\n    invoker 'com.google.cloud.functions.invoker:java-function-invoker:1.2.1'\n    implementation 'com.google.cloud:google-cloud-storage:2.1.1'\n    implementation 'com.google.code.gson:gson:2.10.1'\n    implementation 'com.google.apis:google-api-services-playintegrity:v1-rev20230105-2.0.0'\n}\n\ntasks.register(&quot;runFunctionGetMetadata&quot;, JavaExec) {\n    main = 'com.google.cloud.functions.invoker.runner.Invoker'\n    classpath(configurations.invoker)\n    inputs.files(configurations.runtimeClasspath, sourceSets.main.output)\n    args('--target', 'com.k.backend.GetMetadata', '--port', 8081)\n    doFirst {\n        args('--classpath', files(configurations.runtimeClasspath, sourceSets.main.output).asPath)\n    }\n}\n</code></pre>\n<p>Java:</p>\n<pre><code>package com.k.backend;\n\nimport com.google.api.client.googleapis.services.GoogleClientRequestInitializer;\nimport com.google.api.client.http.HttpRequestInitializer;\nimport com.google.api.client.http.HttpTransport;\nimport com.google.api.client.http.javanet.NetHttpTransport;\nimport com.google.api.client.json.JsonFactory;\nimport com.google.api.client.json.jackson2.JacksonFactory;\nimport com.google.api.services.playintegrity.v1.PlayIntegrity;\nimport com.google.api.services.playintegrity.v1.PlayIntegrityRequestInitializer;\nimport com.google.api.services.playintegrity.v1.model.DecodeIntegrityTokenRequest;\nimport com.google.api.services.playintegrity.v1.model.DecodeIntegrityTokenResponse;\nimport com.google.auth.http.HttpCredentialsAdapter;\nimport com.google.auth.oauth2.GoogleCredentials;\nimport com.google.cloud.functions.HttpFunction;\nimport com.google.cloud.functions.HttpRequest;\nimport com.google.cloud.functions.HttpResponse;\nimport com.google.gson.Gson;\nimport com.google.gson.JsonArray;\nimport com.google.gson.JsonObject;\n\nimport java.io.BufferedWriter;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.util.Optional;\n\npublic class GetMetadata implements HttpFunction {\n\n    @Override\n    public void service(HttpRequest request, HttpResponse response) throws IOException {\n        JsonObject object = new JsonObject();\n        object.addProperty(&quot;calc1&quot;, calc(arg + 1)); // arg is just random string\n        object.addProperty(&quot;calc2&quot;, calc(arg));\n        String result = new Gson().toJson(object);\n        response.setContentType(&quot;application/json&quot;);\n        BufferedWriter writer = response.getWriter();\n        writer.write(result);\n    }\n\n    private String calc(String integrityToken) {\n        try {\n            DecodeIntegrityTokenRequest requestObj = new DecodeIntegrityTokenRequest();\n            requestObj.setIntegrityToken(integrityToken);\n\n            GoogleCredentials credentials = GoogleCredentials.fromStream(new FileInputStream(&quot;../client_secret.json&quot;));\n            HttpRequestInitializer requestInitializer = new HttpCredentialsAdapter(credentials);\n\n            HttpTransport HTTP_TRANSPORT = new NetHttpTransport();\n            JsonFactory JSON_FACTORY = new JacksonFactory();\n            GoogleClientRequestInitializer initialiser = new PlayIntegrityRequestInitializer();\n\n            PlayIntegrity.Builder playIntegrity = new PlayIntegrity.Builder(HTTP_TRANSPORT, JSON_FACTORY, requestInitializer).setApplicationName(&quot;AppName&quot;)\n                    .setGoogleClientRequestInitializer(initialiser);\n            PlayIntegrity play = playIntegrity.build();\n\n            DecodeIntegrityTokenResponse response = play.v1().decodeIntegrityToken(&quot;com.k&quot;, requestObj).execute();\n            return someActionOnResponse(response);\n        } catch (Exception exception) {\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>Once I'm trying to deploy my code to Goole Cloud Functions backend I get error:</p>\n<pre><code>ERROR: (gcloud.functions.deploy) OperationError: code=3, message=Build failed with status: FAILURE and message: ...k.backend.GetMetadata\n[INFO] 11 errors \n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  3.054 s\n[INFO] Finished at: 2023-05-16T05:03:52Z\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project backend: Compilation failure: Compilation failure: \n[ERROR] /workspace/src/main/java/com/k/backend/GetMetadata.java:[9,48] package com.google.api.services.playintegrity.v1 does not exist\n[ERROR] /workspace/src/main/java/com/k/backend/GetMetadata.java:[10,48] package com.google.api.services.playintegrity.v1 does not exist\n[ERROR] /workspace/src/main/java/com/k/backend/GetMetadata.java:[11,54] package com.google.api.services.playintegrity.v1.model does not exist\n[ERROR] /workspace/src/main/java/com/k/backend/GetMetadata.java:[12,54] package com.google.api.services.playintegrity.v1.model does not exist\n[ERROR] /workspace/src/main/java/com/k/backend/GetMetadata.java:[78,9] cannot find symbol\n[ERROR]   symbol:   class DecodeIntegrityTokenRequest\n[ERROR]   location: class com.k.backend.GetMetadata\n....\n</code></pre>\n<p>What is wrong with my code? Thanks in advance :)</p>\n<p>Update: sorry, my bad, I forgot add dependencies to POM file:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n  &lt;artifactId&gt;google-api-services-playintegrity&lt;/artifactId&gt;\n  &lt;version&gt;v1-rev20230105-2.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Now it working fine, thanks!</p>\n"},{"tags":["java","spring","maven","tomcat"],"owner":{"account_id":28580050,"reputation":1,"user_id":21881134,"display_name":"Victor Miranda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684264584,"creation_date":1684261520,"question_id":76266077,"body_markdown":"I&#39;m trying to run a legacy project from the company&#39;s years and I&#39;m stuck. This http link is in another project folder how do I address it? or how do i solve this? all the settings for the project to run are in a .properties file\r\n\r\n    `java.io.FileNotFoundException: http://127.0.0.1:8080/services/InternalService\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1890)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1492)\r\n    \tat neumann.utility.HTTPMessageSender.sendHTTPMessage(HTTPMessageSender.java:73)\r\n    \tat neumann.gameserver.games.services.externalcommunications.ExtBalancerSender.getBalancerStatusSavedData(ExtBalancerSender.java:106)\r\n    \tat neumann.gameserver.games.services.GamesTrafficLight.getGameServerData(GamesTrafficLight.java:220)\r\n    \tat neumann.gameserver.games.services.GamesTrafficLight.updateEnabledGameList(GamesTrafficLight.java:201)\r\n    \tat neumann.gameserver.games.services.GamesTrafficLight.init(GamesTrafficLight.java:122)\r\n    \tat neumann.gameserver.games.services.GamesTrafficLight.&lt;init&gt;(GamesTrafficLight.java:88)\r\n    \tat neumann.gameserver.games.services.GamesTrafficLight.getInstance(GamesTrafficLight.java:138)\r\n    \tat neumann.gameserver.games.GamesMain.main(GamesMain.java:89)\r\n    Exception in thread &quot;main&quot; neumann.exception.AppException: [GameTrafficLight.getGameServerData] Unable to get Server data from balancer\r\n    \tat neumann.gameserver.games.services.GamesTrafficLight.getGameServerData(GamesTrafficLight.java:222)\r\n    \tat neumann.gameserver.games.services.GamesTrafficLight.updateEnabledGameList(GamesTrafficLight.java:201)\r\n    \tat neumann.gameserver.games.services.GamesTrafficLight.init(GamesTrafficLight.java:122)\r\n    \tat neumann.gameserver.games.services.GamesTrafficLight.&lt;init&gt;(GamesTrafficLight.java:88)\r\n    \tat neumann.gameserver.games.services.GamesTrafficLight.getInstance(GamesTrafficLight.java:138)\r\n    \tat neumann.gameserver.games.GamesMain.main(GamesMain.java:89)\r\n\r\n`\r\n\r\n\r\n\r\nand here is the .properties file\r\n\r\n\r\n\r\n\r\n    app_name=[GS-WS] \r\n    \r\n    email_address0=system.c@egaming.net\r\n    \r\n    smtp_address0=mail.egaming.net\r\n    \r\n    #server_socket_host=10.10.30.12\r\n    server_socket_host=127.0.0.1\r\n    \r\n    server_socket_port=40001:websocketconn\r\n    \r\n    server_running_mode=live\r\n    \r\n    server_logger_name=webapp;applogger;systemmonitor;flashlogger;admintool;1011;1012;1013;1019;1035;1038;1048;1049;1051;1054;1055;1057;1058;1059;2006;4001;4002;4003;5001;5002;5006;9005;9007\r\n    \r\n    server_logger_path=/var/log/services/gs/casinows/\r\n    \r\n    games_list_enabled_game = 1011:100~1012:100~1013:100~1019:100~1035:100~1038:100~1048:100~1049:100~1051:100~1054:100~1055:100~1057:100~1058:100~1059:100~2006:100~4001:100~4002:100~4003:100~5001:100~5002:100~5006:100~6001:100~9003:100~9005:100~9007\r\n    \r\n    \r\n    system_currency = 1\r\n    \r\n    games_cashier_jurisdiction_level = nation\r\n    \r\n    games_initial_cashier = 1\r\n    \r\n    server_database_pool_name=BoneCP:pool:pool_slave\r\n    \r\n    \r\n    #cache_server_data=cache_server_data~192.168.0.1:60001~10~pool\r\n    \r\n    \r\n    \r\n    #balancer_server_data=balancer_server_data~192.168.0.1:60002~10~pool\r\n    \r\n    server_group_type = 1\r\n    \r\n    \r\n    admin_tool_trafficlight = false\r\n    \r\n    internal_service_path =\r\n    login_server_data = http://127.0.0.1:8080/services/InternalService\r\n    \r\n    \r\n    internal_service_url = http://127.0.0.1:8080/services/InternalService\r\n    \r\n    \r\n    \r\n    #cache_system = redis:127.0.0.1:8080\r\n    cache_system = memory\r\n    \r\n    \r\n    \r\n    enable_ping_service =  true\r\n\r\n`\r\n\r\nwhat can i be doing to resolve this?\r\n","title":"How do I address the link folder that returns in the log?","body":"<p>I'm trying to run a legacy project from the company's years and I'm stuck. This http link is in another project folder how do I address it? or how do i solve this? all the settings for the project to run are in a .properties file</p>\n<pre><code>`java.io.FileNotFoundException: http://127.0.0.1:8080/services/InternalService\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1890)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1492)\n    at neumann.utility.HTTPMessageSender.sendHTTPMessage(HTTPMessageSender.java:73)\n    at neumann.gameserver.games.services.externalcommunications.ExtBalancerSender.getBalancerStatusSavedData(ExtBalancerSender.java:106)\n    at neumann.gameserver.games.services.GamesTrafficLight.getGameServerData(GamesTrafficLight.java:220)\n    at neumann.gameserver.games.services.GamesTrafficLight.updateEnabledGameList(GamesTrafficLight.java:201)\n    at neumann.gameserver.games.services.GamesTrafficLight.init(GamesTrafficLight.java:122)\n    at neumann.gameserver.games.services.GamesTrafficLight.&lt;init&gt;(GamesTrafficLight.java:88)\n    at neumann.gameserver.games.services.GamesTrafficLight.getInstance(GamesTrafficLight.java:138)\n    at neumann.gameserver.games.GamesMain.main(GamesMain.java:89)\nException in thread &quot;main&quot; neumann.exception.AppException: [GameTrafficLight.getGameServerData] Unable to get Server data from balancer\n    at neumann.gameserver.games.services.GamesTrafficLight.getGameServerData(GamesTrafficLight.java:222)\n    at neumann.gameserver.games.services.GamesTrafficLight.updateEnabledGameList(GamesTrafficLight.java:201)\n    at neumann.gameserver.games.services.GamesTrafficLight.init(GamesTrafficLight.java:122)\n    at neumann.gameserver.games.services.GamesTrafficLight.&lt;init&gt;(GamesTrafficLight.java:88)\n    at neumann.gameserver.games.services.GamesTrafficLight.getInstance(GamesTrafficLight.java:138)\n    at neumann.gameserver.games.GamesMain.main(GamesMain.java:89)\n</code></pre>\n<p>`</p>\n<p>and here is the .properties file</p>\n<pre><code>app_name=[GS-WS] \n\nemail_address0=system.c@egaming.net\n\nsmtp_address0=mail.egaming.net\n\n#server_socket_host=10.10.30.12\nserver_socket_host=127.0.0.1\n\nserver_socket_port=40001:websocketconn\n\nserver_running_mode=live\n\nserver_logger_name=webapp;applogger;systemmonitor;flashlogger;admintool;1011;1012;1013;1019;1035;1038;1048;1049;1051;1054;1055;1057;1058;1059;2006;4001;4002;4003;5001;5002;5006;9005;9007\n\nserver_logger_path=/var/log/services/gs/casinows/\n\ngames_list_enabled_game = 1011:100~1012:100~1013:100~1019:100~1035:100~1038:100~1048:100~1049:100~1051:100~1054:100~1055:100~1057:100~1058:100~1059:100~2006:100~4001:100~4002:100~4003:100~5001:100~5002:100~5006:100~6001:100~9003:100~9005:100~9007\n\n\nsystem_currency = 1\n\ngames_cashier_jurisdiction_level = nation\n\ngames_initial_cashier = 1\n\nserver_database_pool_name=BoneCP:pool:pool_slave\n\n\n#cache_server_data=cache_server_data~192.168.0.1:60001~10~pool\n\n\n\n#balancer_server_data=balancer_server_data~192.168.0.1:60002~10~pool\n\nserver_group_type = 1\n\n\nadmin_tool_trafficlight = false\n\ninternal_service_path =\nlogin_server_data = http://127.0.0.1:8080/services/InternalService\n\n\ninternal_service_url = http://127.0.0.1:8080/services/InternalService\n\n\n\n#cache_system = redis:127.0.0.1:8080\ncache_system = memory\n\n\n\nenable_ping_service =  true\n</code></pre>\n<p>`</p>\n<p>what can i be doing to resolve this?</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684264334,"creation_date":1684263177,"question_id":76266250,"body_markdown":"I&#39;m following  [this guide][1] on serving static resources with Spring.\r\n\r\nI have this configuration class:\r\n\r\n```\r\n@Configuration\r\npublic class Config implements WebMvcConfigurer  {\r\n \r\n\r\n    @Override\r\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n       registry.addResourceHandler(&quot;/files/**&quot;)\r\n            .addResourceLocations(&quot;file:/home/username/springfiles&quot;);\r\n    }\r\n}\r\n```\r\n\r\nthe `/home/username/springfiles` contains:\r\n\r\n```\r\ntest.txt\r\npic.jpg\r\n```\r\n\r\nI try to access each at \r\n\r\n```\r\nhttp://localhost:8082/files/test.txt\r\n```\r\n```\r\nhttp://localhost:8082/files/pic.jpg\r\n```\r\n\r\nand\r\n\r\n```\r\nhttp://localhost:8082/test.txt\r\n```\r\n```\r\nhttp://localhost:8082/pic.jpg\r\n```\r\n\r\nHowever I get \r\n```\r\nWhitelabel Error Page\r\n```\r\nerror.\r\n\r\nWhat am I doing wrong?\r\n\r\nI need my application to be able to save files (images and audio) in `/home/username/springfiles` (as I&#39;ve read it&#39;s better practice as opposed to saving in a database as blobs), and retrieve those files (but only to verified users).\r\n\r\n  [1]: https://www.baeldung.com/spring-mvc-static-resources","title":"Spring serve static resource with addResourceHandlers: doesn&#39;t load file from /home/username/ folder: Whitelabel Error Page","body":"<p>I'm following  <a href=\"https://www.baeldung.com/spring-mvc-static-resources\" rel=\"nofollow noreferrer\">this guide</a> on serving static resources with Spring.</p>\n<p>I have this configuration class:</p>\n<pre><code>@Configuration\npublic class Config implements WebMvcConfigurer  {\n \n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n       registry.addResourceHandler(&quot;/files/**&quot;)\n            .addResourceLocations(&quot;file:/home/username/springfiles&quot;);\n    }\n}\n</code></pre>\n<p>the <code>/home/username/springfiles</code> contains:</p>\n<pre><code>test.txt\npic.jpg\n</code></pre>\n<p>I try to access each at</p>\n<pre><code>http://localhost:8082/files/test.txt\n</code></pre>\n<pre><code>http://localhost:8082/files/pic.jpg\n</code></pre>\n<p>and</p>\n<pre><code>http://localhost:8082/test.txt\n</code></pre>\n<pre><code>http://localhost:8082/pic.jpg\n</code></pre>\n<p>However I get</p>\n<pre><code>Whitelabel Error Page\n</code></pre>\n<p>error.</p>\n<p>What am I doing wrong?</p>\n<p>I need my application to be able to save files (images and audio) in <code>/home/username/springfiles</code> (as I've read it's better practice as opposed to saving in a database as blobs), and retrieve those files (but only to verified users).</p>\n"},{"tags":["java","visual-studio-code","lint"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":5,"creation_date":1636280782,"post_id":69871531,"comment_id":123509934,"body_markdown":"The easiest way to get rid of that warning is by removing any _unused_ import statement.","body":"The easiest way to get rid of that warning is by removing any <i>unused</i> import statement."},{"owner":{"account_id":4099822,"reputation":1256,"user_id":3365667,"display_name":"Roslan Amir"},"score":1,"creation_date":1636292927,"post_id":69871531,"comment_id":123512465,"body_markdown":"I don&#39;t know about VSCode but in IntelliJ/AndroidStudio and Eclipse it&#39;s one combination of keystroke will remove unused imports. I use VSCode for Golang and at every save, all unused imports are removed.","body":"I don&#39;t know about VSCode but in IntelliJ/AndroidStudio and Eclipse it&#39;s one combination of keystroke will remove unused imports. I use VSCode for Golang and at every save, all unused imports are removed."},{"owner":{"account_id":6649964,"reputation":3130,"user_id":5132509,"accept_rate":48,"display_name":"Regis May"},"score":0,"creation_date":1636296031,"post_id":69871531,"comment_id":123513278,"body_markdown":"@RoslanAmir Automatic removal does not happen in VSCode. At least not by default. And I&#39;m not aware of such a functionality: Would be great if it existed, so if someone knows about such kind of features, please tell. I couldn&#39;t find anything like that in the documentation of the VSCode extension.","body":"@RoslanAmir Automatic removal does not happen in VSCode. At least not by default. And I&#39;m not aware of such a functionality: Would be great if it existed, so if someone knows about such kind of features, please tell. I couldn&#39;t find anything like that in the documentation of the VSCode extension."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1684051252,"post_id":69871531,"comment_id":134457776,"body_markdown":"@RegisMay - See https://stackoverflow.com/questions/73104111","body":"@RegisMay - See <a href=\"https://stackoverflow.com/questions/73104111\">stackoverflow.com/questions/73104111</a>"}],"answers":[{"tags":[],"owner":{"account_id":6649964,"reputation":3130,"user_id":5132509,"accept_rate":48,"display_name":"Regis May"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1638349041,"creation_date":1638349041,"answer_id":70181406,"question_id":69871531,"body_markdown":"I finally figured it out. It seems that you need to configure this on project level.\r\n\r\nFor ignoring all unused imports edit the file `.settings/org.eclipse.jdt.core.prefs` and add the following line:\r\n\r\n`org.eclipse.jdt.core.compiler.problem.unusedImport=ignore`","title":"How to disable warnings for unused imports in Java in Visual Studio Code?","body":"<p>I finally figured it out. It seems that you need to configure this on project level.</p>\n<p>For ignoring all unused imports edit the file <code>.settings/org.eclipse.jdt.core.prefs</code> and add the following line:</p>\n<p><code>org.eclipse.jdt.core.compiler.problem.unusedImport=ignore</code></p>\n"},{"tags":[],"owner":{"account_id":22783060,"reputation":25,"user_id":16938680,"display_name":"skull"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684263923,"creation_date":1683824732,"answer_id":76230040,"question_id":69871531,"body_markdown":"It could have been the VSCode setting. Go to the \r\n.vscode -&gt; settings.json\r\nand set;\r\n\r\n    {\r\n        &quot;java.compile.nullAnalysis.mode&quot;: &quot;disabled&quot;\r\n    }","title":"How to disable warnings for unused imports in Java in Visual Studio Code?","body":"<p>It could have been the VSCode setting. Go to the\n.vscode -&gt; settings.json\nand set;</p>\n<pre><code>{\n    &quot;java.compile.nullAnalysis.mode&quot;: &quot;disabled&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":6649964,"reputation":3130,"user_id":5132509,"accept_rate":48,"display_name":"Regis May"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3142,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70181406,"answer_count":2,"score":3,"last_activity_date":1684263923,"creation_date":1636280304,"question_id":69871531,"body_markdown":"I&#39;m using the standard extension &quot;Language Support for Java(TM) by Red Hat&quot;. How can I disable warnings for unused imports for Java projects in Visual Studio Code?\r\n\r\nMaybe someone knows this and can help, because despite some extensive Google searches I can&#39;t find sufficient information on this. For other languages yes, but not for Java.\r\n","title":"How to disable warnings for unused imports in Java in Visual Studio Code?","body":"<p>I'm using the standard extension &quot;Language Support for Java(TM) by Red Hat&quot;. How can I disable warnings for unused imports for Java projects in Visual Studio Code?</p>\n<p>Maybe someone knows this and can help, because despite some extensive Google searches I can't find sufficient information on this. For other languages yes, but not for Java.</p>\n"},{"tags":["java","spring","dependency-injection","configuration","autowired"],"owner":{"account_id":28212129,"reputation":94,"user_id":21564193,"display_name":"sh-at-cs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684263499,"creation_date":1684263499,"question_id":76266280,"body_markdown":"## Question\r\n\r\nLet&#39;s say that I have a class that takes a lot of constructor parameters which are mostly things that I want to be configurable through the application&#39;s non-hardcoded configuration (e.g. `application.yml` in Spring Boot):\r\n\r\n```java\r\npublic class WantThisConfigured {\r\n    public WantThisConfigured(String configValue1, Integer configValue2, ... many more ...) {\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\nNow I have several Spring Components that need to use instances of this class and importantly, it should be possible to have a different configuration for it in each Component - pseudocode:\r\n\r\n\r\n```java\r\npublic class ComponentThatNeedsToUseIt1 {\r\n    @ConfigureItSomehow(for use in component 1)\r\n    private WantThisConfigured wantThisConfigured;\r\n    ...\r\n}\r\n\r\npublic class ComponentThatNeedsToUseIt2 {\r\n    @ConfigureItSomehow(for use in component 2)\r\n    private WantThisConfigured wantThisConfigured;\r\n    ...\r\n}\r\n\r\n...\r\n```\r\n\r\nWhat would be the least repetitious way to achieve this?\r\n\r\n## Possible approaches I have considered\r\n\r\n### Repetitious option 1: Separate Bean classes for each case, configuration via lots of `@Value` annotations\r\n\r\nThis is probably the simplest option: Just create a new `@Bean`-annotated class for each possible usage of the class and configure it via `@Value` annotations, then have these Beans autowired into the classes that need them by type. You can see how this gets repetitious fast for a large number of configuration values, as I&#39;ll need a lot of Beans that all look the same except for different sections in their `@Value` annotations, e.g. `@Value(&quot;component1.wantthisconfigured.value1&quot;)`, `@Value(&quot;component1.wantthisconfigured.value2&quot;)`, ... for the first component, then `@Value(&quot;component2.wantthisconfigured.value1&quot;)`, `@Value(&quot;component2.wantthisconfigured.value2&quot;)`, ... for the second, and so on.\r\n\r\nThis can be made less repetitious by subclassing so that the `@Value` annotations and their associated variables are the only things that need to be repeated within each class, but still.\r\n\r\n### Repetitious option 2: Separate Beans wired by name, configuration via lots of `@Value` annotations\r\n\r\nVariation on option 1 except we wire Beans in by name instead of by type, so we can get away with just having different methods that produce them for the different cases instead of separate classes. Otherwise the amount of repetition is about the same.\r\n\r\n### Less repetitious option: `@ConfigurationProperties` on subclasses\r\n\r\nI guess what could work would be to define a class that holds all the configuration values named as they should appear in the config, then create subclasses of that class and annotate each with `@ConfigurationProperties(&quot;componentN.wantthisconfigured&quot;)` so that no `@Value` annotations are necessary. When I tried this, there were several issues that make life harder, such as `@ConfigurationProperties` either working via getters and setters (=&gt; need another mechanism to actually instantiate the `WantThisConfigured` instance on demand) or via `@ConstructorBinding` which, AFAICT, needs a constructor in the derived class so again there is repeated boilerplate. There would also always be the remaining repetitious aspect in needing all those different subclasses for each component, plus I&#39;m not sure how idiomatic this is, considering one has to first enable configuration properties globally to make this work at all, SpEL won&#39;t work with this, etc.\r\n\r\n### Impossible option: &quot;Indirect parametrization&quot; (e.g. via `@Value` constructing POJO)\r\n\r\nWhat I&#39;d really want, but don&#39;t think is possible in Spring, would be something that allows me to annotate the variables holding the `WantThisConfigured` instances in the classes where they are used and only determine which config prefix to load their configs from there, e.g.:\r\n\r\n```java\r\npublic class ComponentThatNeedsToUseIt1 {\r\n    @ValuesFrom(&quot;component1.wantthisconfigured&quot;);\r\n    private WantThisConfigured wantThisConfigured;\r\n    ...\r\n}\r\n```\r\n\r\nI thought one workaround to make this work might have been to try and make `@Value` deserialize into a POJO that holds all the config options and takes care of providing an instance of `WantThisConfigured`, but as the answers to the question https://stackoverflow.com/q/65365181/21564193 explain, this isn&#39;t possible.\r\n\r\n## Related questions\r\n\r\n- https://stackoverflow.com/q/56764728/21564193 is effectively the same question, except its author seems fine with some repetition. If I were to implement [its accepted answer](https://stackoverflow.com/a/56764989/21564193) in the scenario described above, I&#39;d have to repeat all the configuration parameters for both `@ConfigurationProperties`-annotated methods, which is exactly what I&#39;m trying to avoid.\r\n- The same for https://stackoverflow.com/q/62641093/21564193 where you can actually see the repetition I&#39;m trying to avoid in the accepted answer.\r\n- https://stackoverflow.com/q/26542150/21564193 is also similar, except its author wants to have the parts of the configuration to use depend on the *Application Context* (a term with a clear definition in Spring, different from &quot;context&quot; in the general sense in which I use it here). \r\n","title":"DRYly configuring &quot;the same&quot; class differently in different user classes in Spring","body":"<h2>Question</h2>\n<p>Let's say that I have a class that takes a lot of constructor parameters which are mostly things that I want to be configurable through the application's non-hardcoded configuration (e.g. <code>application.yml</code> in Spring Boot):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class WantThisConfigured {\n    public WantThisConfigured(String configValue1, Integer configValue2, ... many more ...) {\n        ...\n    }\n}\n</code></pre>\n<p>Now I have several Spring Components that need to use instances of this class and importantly, it should be possible to have a different configuration for it in each Component - pseudocode:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ComponentThatNeedsToUseIt1 {\n    @ConfigureItSomehow(for use in component 1)\n    private WantThisConfigured wantThisConfigured;\n    ...\n}\n\npublic class ComponentThatNeedsToUseIt2 {\n    @ConfigureItSomehow(for use in component 2)\n    private WantThisConfigured wantThisConfigured;\n    ...\n}\n\n...\n</code></pre>\n<p>What would be the least repetitious way to achieve this?</p>\n<h2>Possible approaches I have considered</h2>\n<h3>Repetitious option 1: Separate Bean classes for each case, configuration via lots of <code>@Value</code> annotations</h3>\n<p>This is probably the simplest option: Just create a new <code>@Bean</code>-annotated class for each possible usage of the class and configure it via <code>@Value</code> annotations, then have these Beans autowired into the classes that need them by type. You can see how this gets repetitious fast for a large number of configuration values, as I'll need a lot of Beans that all look the same except for different sections in their <code>@Value</code> annotations, e.g. <code>@Value(&quot;component1.wantthisconfigured.value1&quot;)</code>, <code>@Value(&quot;component1.wantthisconfigured.value2&quot;)</code>, ... for the first component, then <code>@Value(&quot;component2.wantthisconfigured.value1&quot;)</code>, <code>@Value(&quot;component2.wantthisconfigured.value2&quot;)</code>, ... for the second, and so on.</p>\n<p>This can be made less repetitious by subclassing so that the <code>@Value</code> annotations and their associated variables are the only things that need to be repeated within each class, but still.</p>\n<h3>Repetitious option 2: Separate Beans wired by name, configuration via lots of <code>@Value</code> annotations</h3>\n<p>Variation on option 1 except we wire Beans in by name instead of by type, so we can get away with just having different methods that produce them for the different cases instead of separate classes. Otherwise the amount of repetition is about the same.</p>\n<h3>Less repetitious option: <code>@ConfigurationProperties</code> on subclasses</h3>\n<p>I guess what could work would be to define a class that holds all the configuration values named as they should appear in the config, then create subclasses of that class and annotate each with <code>@ConfigurationProperties(&quot;componentN.wantthisconfigured&quot;)</code> so that no <code>@Value</code> annotations are necessary. When I tried this, there were several issues that make life harder, such as <code>@ConfigurationProperties</code> either working via getters and setters (=&gt; need another mechanism to actually instantiate the <code>WantThisConfigured</code> instance on demand) or via <code>@ConstructorBinding</code> which, AFAICT, needs a constructor in the derived class so again there is repeated boilerplate. There would also always be the remaining repetitious aspect in needing all those different subclasses for each component, plus I'm not sure how idiomatic this is, considering one has to first enable configuration properties globally to make this work at all, SpEL won't work with this, etc.</p>\n<h3>Impossible option: &quot;Indirect parametrization&quot; (e.g. via <code>@Value</code> constructing POJO)</h3>\n<p>What I'd really want, but don't think is possible in Spring, would be something that allows me to annotate the variables holding the <code>WantThisConfigured</code> instances in the classes where they are used and only determine which config prefix to load their configs from there, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ComponentThatNeedsToUseIt1 {\n    @ValuesFrom(&quot;component1.wantthisconfigured&quot;);\n    private WantThisConfigured wantThisConfigured;\n    ...\n}\n</code></pre>\n<p>I thought one workaround to make this work might have been to try and make <code>@Value</code> deserialize into a POJO that holds all the config options and takes care of providing an instance of <code>WantThisConfigured</code>, but as the answers to the question <a href=\"https://stackoverflow.com/q/65365181/21564193\">Spring possibility to @Value on a Pojo / object</a> explain, this isn't possible.</p>\n<h2>Related questions</h2>\n<ul>\n<li><a href=\"https://stackoverflow.com/q/56764728/21564193\">How to declare multiple object with same class but using different properties in spring boot</a> is effectively the same question, except its author seems fine with some repetition. If I were to implement <a href=\"https://stackoverflow.com/a/56764989/21564193\">its accepted answer</a> in the scenario described above, I'd have to repeat all the configuration parameters for both <code>@ConfigurationProperties</code>-annotated methods, which is exactly what I'm trying to avoid.</li>\n<li>The same for <a href=\"https://stackoverflow.com/q/62641093/21564193\">Autowire 2 instances of the same class in Spring</a> where you can actually see the repetition I'm trying to avoid in the accepted answer.</li>\n<li><a href=\"https://stackoverflow.com/q/26542150/21564193\">Load same class with different set of properties</a> is also similar, except its author wants to have the parts of the configuration to use depend on the <em>Application Context</em> (a term with a clear definition in Spring, different from &quot;context&quot; in the general sense in which I use it here).</li>\n</ul>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","selenium-ide"],"owner":{"account_id":28607198,"reputation":11,"user_id":21902910,"display_name":"darwisht277"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684263330,"creation_date":1684221748,"question_id":76260318,"body_markdown":"There&#39;s &quot;textarea&quot; on &quot;Dashboard&quot; JFrame &amp; &quot;main&quot; java class, need to read data from dashboard textarea into Java Class and do some tasks\r\n\r\n\r\n\r\n1- get data from textarea (links).&lt;br&gt;\r\n2- open it by default browser.&lt;br&gt;\r\n3- wait element to be clickable and click.&lt;br&gt;\r\n4- Thread.sleep with try &amp; catch.&lt;br&gt;\r\n5- wait element to be clickable and click (again).&lt;br&gt;\r\n6- Sync and update the table data faster and accurately.\r\n\r\n\r\n```\r\nJTextArea textarea = new JTextArea();\r\n        textarea.setBackground(Color.WHITE);\r\n        textarea.setFont(new Font(&quot;SansSerif&quot;, Font.PLAIN, 12));\r\n        textarea.setBounds(0, 0, 250, 284);\r\n        textarea.setBorder(null);\r\n\r\n        JScrollPane scrollPane = new JScrollPane(textarea);\r\n        scrollPane.setBounds(44, 69, 250, 284);\r\n\r\n        JScrollBar scrollBar = new JScrollBar(JScrollBar.VERTICAL);\r\n        scrollBar.setBounds(277, 69, 17, 284);\r\n        scrollPane.setVerticalScrollBar(scrollBar);\r\n\r\n        contentPane.add(scrollPane);\r\n\t\t\r\n\t\tJButton start = new JButton(&quot;S T A R T&quot;);\r\n\t\tstart.addActionListener(new ActionListener() {\r\n\t\t    public void actionPerformed(ActionEvent e) {\r\n\t\t    \t\r\n\t\t    String text = textarea.getText();\r\n\r\n\t\t    \tString[] lines = text.split(&quot;\\\\r?\\\\n&quot;);\r\n\r\n\t\t    \tfor (int i = 0; i &lt; lines.length; i += 5) {\r\n\t\t    \t    List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\t\t    \t    \r\n\t\t    \t    for (int j = i; j &lt; Math.min(i + 5, lines.length); j++) {\r\n\t\t    \t        list.add(lines[j]);\r\n\t\t    \t    }\r\n\r\n\t\t    \t    String value1 = (list.size() &gt; 0) ? list.get(0) : &quot;&quot;;\r\n\t\t    \t    String value2 = (list.size() &gt; 1) ? list.get(1) : &quot;&quot;;\r\n\t\t    \t    String value3 = (list.size() &gt; 2) ? list.get(2) : &quot;&quot;;\r\n\t\t    \t    String value4 = (list.size() &gt; 3) ? list.get(3) : &quot;&quot;;\r\n\t\t    \t    String value5 = (list.size() &gt; 4) ? list.get(4) : &quot;&quot;;\r\n\r\n\t\t    \t    v1.setText(value1);\r\n\t\t    \t    v2.setText(value2);\r\n\t\t    \t    v3.setText(value3);\r\n\t\t    \t    v4.setText(value4);\r\n\t\t    \t    v5.setText(value5);\r\n\t\t    \t    \r\n\t\t    \t}\r\n\t\t    \t\r\n\t\t    }\r\n\t\t});\r\n\t\tstart.setBackground(Color.BLACK);\r\n\t\tstart.setForeground(Color.WHITE);\r\n\t\tstart.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tstart.setBorder(new LineBorder(Color.WHITE, 1, true));\r\n\t\tstart.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\r\n\t\tstart.setFocusPainted(false);\r\n\t\tstart.setContentAreaFilled(false);\r\n\t\tstart.setOpaque(true);\r\n\t\tstart.setBounds(44, 364, 120, 40);\r\n\t\tcontentPane.add(start);\r\n\t\t\r\n\t\tJButton stop = new JButton(&quot;S T O P&quot;);\r\n\t\tstop.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n\t\tstop.setBackground(Color.BLACK);\r\n\t\tstop.setForeground(Color.WHITE);\r\n\t\tstop.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tstop.setFocusPainted(false);\r\n\t\tstop.setContentAreaFilled(false);\r\n\t\tstop.setOpaque(true);\r\n\t\tstop.setBorder(new LineBorder(Color.WHITE, 1, true));\r\n\t\tstop.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\r\n\t\tstop.setBounds(174, 364, 120, 40);\r\n\t\tcontentPane.add(stop);\r\n\t\t\r\n\t\tJButton reset = new JButton(&quot;R E S E T&quot;);\r\n\t\treset.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\r\n\t\t\t\tString textArea = textarea.getText();\r\n\t\t\t\tif(textArea.isBlank() || textArea.isEmpty()) {\r\n\t\t\t\t\tassert false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttextarea.setText(&quot;&quot;);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n\t\treset.setBorder(new LineBorder(Color.WHITE, 1, true));\r\n\t\treset.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\r\n\t\treset.setFocusPainted(false);\r\n\t\treset.setContentAreaFilled(false);\r\n\t\treset.setOpaque(true);\r\n\t\treset.setBackground(Color.BLACK);\r\n\t\treset.setForeground(Color.WHITE);\r\n\t\treset.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\treset.setBounds(44, 415, 250, 40);\r\n\t\tcontentPane.add(reset);\r\n\t\t\r\n\t\tJPanel table = new JPanel();\r\n\t\ttable.setBorder(new LineBorder(Color.GRAY, 2, true));\r\n\t\ttable.setBackground(Color.BLACK);\r\n\t\ttable.setBounds(307, 69, 350, 386);\r\n\t\tcontentPane.add(table);\r\n\t\ttable.setLayout(null);\r\n\t\t\r\n\t\tJPanel x = new JPanel();\r\n\t\tx.setBackground(Color.GRAY);\r\n\t\tx.setBounds(175, 0, 2, 386);\r\n\t\ttable.add(x);\r\n\t\t\r\n\t\tJPanel xxx = new JPanel();\r\n\t\txxx.setBackground(Color.GRAY);\r\n\t\txxx.setBounds(0, 64, 350, 2);\r\n\t\ttable.add(xxx);\r\n\t\t\r\n\t\tJPanel xxxx = new JPanel();\r\n\t\txxxx.setBackground(Color.GRAY);\r\n\t\txxxx.setBounds(0, 128, 350, 2);\r\n\t\ttable.add(xxxx);\r\n\t\t\r\n\t\tJPanel xxxxx = new JPanel();\r\n\t\txxxxx.setBackground(Color.GRAY);\r\n\t\txxxxx.setBounds(0, 192, 350, 2);\r\n\t\ttable.add(xxxxx);\r\n\t\t\r\n\t\tJPanel xxxxxx = new JPanel();\r\n\t\txxxxxx.setBackground(Color.GRAY);\r\n\t\txxxxxx.setBounds(0, 256, 350, 2);\r\n\t\ttable.add(xxxxxx);\r\n\t\t\r\n\t\tJPanel xxxxxxx = new JPanel();\r\n\t\txxxxxxx.setBackground(Color.GRAY);\r\n\t\txxxxxxx.setBounds(0, 320, 350, 2);\r\n\t\ttable.add(xxxxxxx);\r\n\t\t\r\n\t\tJLabel line = new JLabel(&quot;L I N E&quot;);\r\n\t\tline.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tline.setForeground(Color.LIGHT_GRAY);\r\n\t\tline.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tline.setBounds(0, 0, 175, 64);\r\n\t\ttable.add(line);\r\n\t\t\r\n\t\tJLabel x1 = new JLabel(&quot;&quot;);\r\n\t\tx1.setLabelFor(line);\r\n\t\tx1.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 12));\r\n\t\tx1.setForeground(Color.LIGHT_GRAY);\r\n\t\tx1.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tx1.setBounds(0, 64, 175, 64);\r\n\t\ttable.add(x1);\r\n\t\t\r\n\t\tJLabel x2 = new JLabel(&quot;&quot;);\r\n\t\tx2.setLabelFor(line);\r\n\t\tx2.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tx2.setForeground(Color.LIGHT_GRAY);\r\n\t\tx2.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tx2.setBounds(0, 128, 175, 64);\r\n\t\ttable.add(x2);\r\n\t\t\r\n\t\tJLabel x3 = new JLabel(&quot;&quot;);\r\n\t\tx3.setLabelFor(line);\r\n\t\tx3.setForeground(Color.LIGHT_GRAY);\r\n\t\tx3.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tx3.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tx3.setBounds(0, 192, 175, 64);\r\n\t\ttable.add(x3);\r\n\t\t\r\n\t\tJLabel x4 = new JLabel(&quot;&quot;);\r\n\t\tx4.setLabelFor(line);\r\n\t\tx4.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tx4.setForeground(Color.LIGHT_GRAY);\r\n\t\tx4.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tx4.setBounds(0, 256, 175, 64);\r\n\t\ttable.add(x4);\r\n\t\t\r\n\t\tJLabel x5 = new JLabel(&quot;&quot;);\r\n\t\tx5.setLabelFor(line);\r\n\t\tx5.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tx5.setForeground(Color.LIGHT_GRAY);\r\n\t\tx5.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tx5.setBounds(0, 320, 175, 64);\r\n\t\ttable.add(x5);\r\n\t\t\r\n\t\tJLabel link = new JLabel(&quot;L I N K&quot;);\r\n\t\tlink.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tlink.setForeground(Color.LIGHT_GRAY);\r\n\t\tlink.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tlink.setBounds(175, 0, 175, 64);\r\n\t\ttable.add(link);\r\n\t\t\r\n\t\tJLabel v1 = new JLabel(&quot;&quot;);\r\n\t\tv1.setLabelFor(link);\r\n\t\tv1.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tv1.setForeground(Color.LIGHT_GRAY);\r\n\t\tv1.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tv1.setBounds(175, 64, 175, 64);\r\n\t\ttable.add(v1);\r\n\t\t\r\n\t\tJLabel v2 = new JLabel(&quot;&quot;);\r\n\t\tv2.setLabelFor(link);\r\n\t\tv2.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tv2.setForeground(Color.LIGHT_GRAY);\r\n\t\tv2.setHorizontalAlignment(SwingConstants.RIGHT);\r\n\t\tv2.setBounds(175, 128, 175, 64);\r\n\t\ttable.add(v2);\r\n\t\t\r\n\t\tJLabel v3 = new JLabel(&quot;&quot;);\r\n\t\tv3.setLabelFor(link);\r\n\t\tv3.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tv3.setForeground(Color.LIGHT_GRAY);\r\n\t\tv3.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tv3.setBounds(175, 192, 175, 64);\r\n\t\ttable.add(v3);\r\n\t\t\r\n\t\tJLabel v4 = new JLabel(&quot;&quot;);\r\n\t\tv4.setLabelFor(link);\r\n\t\tv4.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tv4.setForeground(Color.LIGHT_GRAY);\r\n\t\tv4.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tv4.setBounds(175, 256, 175, 64);\r\n\t\ttable.add(v4);\r\n\t\t\r\n\t\tJLabel v5 = new JLabel(&quot;&quot;);\r\n\t\tv5.setLabelFor(link);\r\n\t\tv5.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\r\n\t\tv5.setForeground(Color.LIGHT_GRAY);\r\n\t\tv5.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tv5.setBounds(175, 320, 175, 64);\r\n\t\ttable.add(v5);\r\n```\r\n\r\n```\r\npublic class main {\r\n}\r\n\r\n```","title":"How to read data from JFrame on Java Class?","body":"<p>There's &quot;textarea&quot; on &quot;Dashboard&quot; JFrame &amp; &quot;main&quot; java class, need to read data from dashboard textarea into Java Class and do some tasks</p>\n<p>1- get data from textarea (links).<br>\n2- open it by default browser.<br>\n3- wait element to be clickable and click.<br>\n4- Thread.sleep with try &amp; catch.<br>\n5- wait element to be clickable and click (again).<br>\n6- Sync and update the table data faster and accurately.</p>\n<pre><code>JTextArea textarea = new JTextArea();\n        textarea.setBackground(Color.WHITE);\n        textarea.setFont(new Font(&quot;SansSerif&quot;, Font.PLAIN, 12));\n        textarea.setBounds(0, 0, 250, 284);\n        textarea.setBorder(null);\n\n        JScrollPane scrollPane = new JScrollPane(textarea);\n        scrollPane.setBounds(44, 69, 250, 284);\n\n        JScrollBar scrollBar = new JScrollBar(JScrollBar.VERTICAL);\n        scrollBar.setBounds(277, 69, 17, 284);\n        scrollPane.setVerticalScrollBar(scrollBar);\n\n        contentPane.add(scrollPane);\n        \n        JButton start = new JButton(&quot;S T A R T&quot;);\n        start.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                \n            String text = textarea.getText();\n\n                String[] lines = text.split(&quot;\\\\r?\\\\n&quot;);\n\n                for (int i = 0; i &lt; lines.length; i += 5) {\n                    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n                    \n                    for (int j = i; j &lt; Math.min(i + 5, lines.length); j++) {\n                        list.add(lines[j]);\n                    }\n\n                    String value1 = (list.size() &gt; 0) ? list.get(0) : &quot;&quot;;\n                    String value2 = (list.size() &gt; 1) ? list.get(1) : &quot;&quot;;\n                    String value3 = (list.size() &gt; 2) ? list.get(2) : &quot;&quot;;\n                    String value4 = (list.size() &gt; 3) ? list.get(3) : &quot;&quot;;\n                    String value5 = (list.size() &gt; 4) ? list.get(4) : &quot;&quot;;\n\n                    v1.setText(value1);\n                    v2.setText(value2);\n                    v3.setText(value3);\n                    v4.setText(value4);\n                    v5.setText(value5);\n                    \n                }\n                \n            }\n        });\n        start.setBackground(Color.BLACK);\n        start.setForeground(Color.WHITE);\n        start.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        start.setBorder(new LineBorder(Color.WHITE, 1, true));\n        start.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\n        start.setFocusPainted(false);\n        start.setContentAreaFilled(false);\n        start.setOpaque(true);\n        start.setBounds(44, 364, 120, 40);\n        contentPane.add(start);\n        \n        JButton stop = new JButton(&quot;S T O P&quot;);\n        stop.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                \n            }\n        });\n        stop.setBackground(Color.BLACK);\n        stop.setForeground(Color.WHITE);\n        stop.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        stop.setFocusPainted(false);\n        stop.setContentAreaFilled(false);\n        stop.setOpaque(true);\n        stop.setBorder(new LineBorder(Color.WHITE, 1, true));\n        stop.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\n        stop.setBounds(174, 364, 120, 40);\n        contentPane.add(stop);\n        \n        JButton reset = new JButton(&quot;R E S E T&quot;);\n        reset.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                \n                String textArea = textarea.getText();\n                if(textArea.isBlank() || textArea.isEmpty()) {\n                    assert false;\n                } else {\n                    textarea.setText(&quot;&quot;);\n                }\n                \n            }\n        });\n        reset.setBorder(new LineBorder(Color.WHITE, 1, true));\n        reset.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\n        reset.setFocusPainted(false);\n        reset.setContentAreaFilled(false);\n        reset.setOpaque(true);\n        reset.setBackground(Color.BLACK);\n        reset.setForeground(Color.WHITE);\n        reset.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        reset.setBounds(44, 415, 250, 40);\n        contentPane.add(reset);\n        \n        JPanel table = new JPanel();\n        table.setBorder(new LineBorder(Color.GRAY, 2, true));\n        table.setBackground(Color.BLACK);\n        table.setBounds(307, 69, 350, 386);\n        contentPane.add(table);\n        table.setLayout(null);\n        \n        JPanel x = new JPanel();\n        x.setBackground(Color.GRAY);\n        x.setBounds(175, 0, 2, 386);\n        table.add(x);\n        \n        JPanel xxx = new JPanel();\n        xxx.setBackground(Color.GRAY);\n        xxx.setBounds(0, 64, 350, 2);\n        table.add(xxx);\n        \n        JPanel xxxx = new JPanel();\n        xxxx.setBackground(Color.GRAY);\n        xxxx.setBounds(0, 128, 350, 2);\n        table.add(xxxx);\n        \n        JPanel xxxxx = new JPanel();\n        xxxxx.setBackground(Color.GRAY);\n        xxxxx.setBounds(0, 192, 350, 2);\n        table.add(xxxxx);\n        \n        JPanel xxxxxx = new JPanel();\n        xxxxxx.setBackground(Color.GRAY);\n        xxxxxx.setBounds(0, 256, 350, 2);\n        table.add(xxxxxx);\n        \n        JPanel xxxxxxx = new JPanel();\n        xxxxxxx.setBackground(Color.GRAY);\n        xxxxxxx.setBounds(0, 320, 350, 2);\n        table.add(xxxxxxx);\n        \n        JLabel line = new JLabel(&quot;L I N E&quot;);\n        line.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        line.setForeground(Color.LIGHT_GRAY);\n        line.setHorizontalAlignment(SwingConstants.CENTER);\n        line.setBounds(0, 0, 175, 64);\n        table.add(line);\n        \n        JLabel x1 = new JLabel(&quot;&quot;);\n        x1.setLabelFor(line);\n        x1.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 12));\n        x1.setForeground(Color.LIGHT_GRAY);\n        x1.setHorizontalAlignment(SwingConstants.CENTER);\n        x1.setBounds(0, 64, 175, 64);\n        table.add(x1);\n        \n        JLabel x2 = new JLabel(&quot;&quot;);\n        x2.setLabelFor(line);\n        x2.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        x2.setForeground(Color.LIGHT_GRAY);\n        x2.setHorizontalAlignment(SwingConstants.CENTER);\n        x2.setBounds(0, 128, 175, 64);\n        table.add(x2);\n        \n        JLabel x3 = new JLabel(&quot;&quot;);\n        x3.setLabelFor(line);\n        x3.setForeground(Color.LIGHT_GRAY);\n        x3.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        x3.setHorizontalAlignment(SwingConstants.CENTER);\n        x3.setBounds(0, 192, 175, 64);\n        table.add(x3);\n        \n        JLabel x4 = new JLabel(&quot;&quot;);\n        x4.setLabelFor(line);\n        x4.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        x4.setForeground(Color.LIGHT_GRAY);\n        x4.setHorizontalAlignment(SwingConstants.CENTER);\n        x4.setBounds(0, 256, 175, 64);\n        table.add(x4);\n        \n        JLabel x5 = new JLabel(&quot;&quot;);\n        x5.setLabelFor(line);\n        x5.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        x5.setForeground(Color.LIGHT_GRAY);\n        x5.setHorizontalAlignment(SwingConstants.CENTER);\n        x5.setBounds(0, 320, 175, 64);\n        table.add(x5);\n        \n        JLabel link = new JLabel(&quot;L I N K&quot;);\n        link.setHorizontalAlignment(SwingConstants.CENTER);\n        link.setForeground(Color.LIGHT_GRAY);\n        link.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        link.setBounds(175, 0, 175, 64);\n        table.add(link);\n        \n        JLabel v1 = new JLabel(&quot;&quot;);\n        v1.setLabelFor(link);\n        v1.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        v1.setForeground(Color.LIGHT_GRAY);\n        v1.setHorizontalAlignment(SwingConstants.CENTER);\n        v1.setBounds(175, 64, 175, 64);\n        table.add(v1);\n        \n        JLabel v2 = new JLabel(&quot;&quot;);\n        v2.setLabelFor(link);\n        v2.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        v2.setForeground(Color.LIGHT_GRAY);\n        v2.setHorizontalAlignment(SwingConstants.RIGHT);\n        v2.setBounds(175, 128, 175, 64);\n        table.add(v2);\n        \n        JLabel v3 = new JLabel(&quot;&quot;);\n        v3.setLabelFor(link);\n        v3.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        v3.setForeground(Color.LIGHT_GRAY);\n        v3.setHorizontalAlignment(SwingConstants.CENTER);\n        v3.setBounds(175, 192, 175, 64);\n        table.add(v3);\n        \n        JLabel v4 = new JLabel(&quot;&quot;);\n        v4.setLabelFor(link);\n        v4.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        v4.setForeground(Color.LIGHT_GRAY);\n        v4.setHorizontalAlignment(SwingConstants.CENTER);\n        v4.setBounds(175, 256, 175, 64);\n        table.add(v4);\n        \n        JLabel v5 = new JLabel(&quot;&quot;);\n        v5.setLabelFor(link);\n        v5.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 11));\n        v5.setForeground(Color.LIGHT_GRAY);\n        v5.setHorizontalAlignment(SwingConstants.CENTER);\n        v5.setBounds(175, 320, 175, 64);\n        table.add(v5);\n</code></pre>\n<pre><code>public class main {\n}\n\n</code></pre>\n"},{"tags":["java","android","ios","flutter","kotlin"],"comments":[{"owner":{"account_id":19664084,"reputation":1054,"user_id":14394936,"display_name":"BabC"},"score":1,"creation_date":1629128444,"post_id":68805428,"comment_id":121599434,"body_markdown":"I suggest you to select the latest langage/version (like kotlin over java for android). So you won&#39;t have any trouble during your process. But as you said it&#39;s not important for you, until you have to inject some code in each native part.","body":"I suggest you to select the latest langage/version (like kotlin over java for android). So you won&#39;t have any trouble during your process. But as you said it&#39;s not important for you, until you have to inject some code in each native part."}],"answers":[{"tags":[],"owner":{"account_id":22481751,"reputation":31,"user_id":16680739,"display_name":"Aman Kumar Sinha"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1629128938,"creation_date":1629128938,"answer_id":68805794,"question_id":68805428,"body_markdown":"Depends on whether your app will be requiring access to Android or iOS Platform API. In most cases, there are plugins available at [pub.dev][1] for many of the APIs. But in case there is no plugin available for the API you need(rare cases), you will need to write platform specific code ([refer platform integration docs][2]) in the language you selected at beginning.\r\n\r\nIn most cases, selecting the language won&#39;t matter but it is recommended to use Kotlin for Android and Swift for iOS.\r\n\r\n\r\n  [1]: https://pub.dev\r\n  [2]: https://flutter.dev/docs/development/platform-integration/platform-channels","title":"How important selecting android language while creating a new flutter project?","body":"<p>Depends on whether your app will be requiring access to Android or iOS Platform API. In most cases, there are plugins available at <a href=\"https://pub.dev\" rel=\"nofollow noreferrer\">pub.dev</a> for many of the APIs. But in case there is no plugin available for the API you need(rare cases), you will need to write platform specific code (<a href=\"https://flutter.dev/docs/development/platform-integration/platform-channels\" rel=\"nofollow noreferrer\">refer platform integration docs</a>) in the language you selected at beginning.</p>\n<p>In most cases, selecting the language won't matter but it is recommended to use Kotlin for Android and Swift for iOS.</p>\n"},{"tags":[],"owner":{"account_id":17975311,"reputation":232,"user_id":13063054,"display_name":"Aniket kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629267751,"creation_date":1629267751,"answer_id":68827432,"question_id":68805428,"body_markdown":"Although for now you won&#39;t be coding in those native languages and most probably there is a good chance that all the platform related APIs you may need to integrate in future might be available in form of flutter plugin, but assuming at some point in future you might plan to scale your project further, then at some point you might have to deal with the native code for some specific feature.\r\n\r\nSo IMO it is a good practice to choose the programming language for native code wisely. I will recommend to always choose Kotlin for android because google follows Kotlin first approach along with that kotlin is a modern language and it has lots of advantages over java.\r\n\r\nFor ios Swift is recommended language due to similar reasons as kotlin.","title":"How important selecting android language while creating a new flutter project?","body":"<p>Although for now you won't be coding in those native languages and most probably there is a good chance that all the platform related APIs you may need to integrate in future might be available in form of flutter plugin, but assuming at some point in future you might plan to scale your project further, then at some point you might have to deal with the native code for some specific feature.</p>\n<p>So IMO it is a good practice to choose the programming language for native code wisely. I will recommend to always choose Kotlin for android because google follows Kotlin first approach along with that kotlin is a modern language and it has lots of advantages over java.</p>\n<p>For ios Swift is recommended language due to similar reasons as kotlin.</p>\n"},{"tags":[],"owner":{"account_id":16954121,"reputation":138,"user_id":12262956,"display_name":"Muhammad Afzal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1684263130,"creation_date":1684263130,"answer_id":76266243,"question_id":68805428,"body_markdown":"Normally, it doesn&#39;t matter whether you choose Kotlin or Java for Android, Swift, or Objective-C for iOS because you won&#39;t need these languages in Flutter app development unless you want to add platform-specific features.\r\n\r\nFor example, suppose you are working on a Flutter app and you need to add a specific functionality called &#39;XYZ.&#39; But Flutter doesn&#39;t support that functionality. Normally, this won&#39;t be the case because Flutter provides built-in libraries or plugins to solve most problems. However, let&#39;s assume that the specific functionality is not supported in Flutter but is available in Kotlin and Swift.\r\n\r\nIn such cases, you would implement that specific functionality using Java or Kotlin for the Android app and Swift or Objective-C for the iOS app.\r\n\r\nSo, in those particular scenarios, you should have knowledge of either Java or Kotlin, and either Swift or Objective-C.\r\n\r\nIf you are familiar with Java, choose Java. If you are familiar with Kotlin, choose Kotlin. And if you are not familiar with any of these languages, then for Android, select Kotlin, and for iOS, select Swift. Kotlin is a modern and recommended language for Android app development by Google, while Swift is recommended over Objective-C by Apple.\r\n\r\nThe language you choose will be used to generate the code for both the Android and iOS apps, which I will demonstrate at the end of this video","title":"How important selecting android language while creating a new flutter project?","body":"<p>Normally, it doesn't matter whether you choose Kotlin or Java for Android, Swift, or Objective-C for iOS because you won't need these languages in Flutter app development unless you want to add platform-specific features.</p>\n<p>For example, suppose you are working on a Flutter app and you need to add a specific functionality called 'XYZ.' But Flutter doesn't support that functionality. Normally, this won't be the case because Flutter provides built-in libraries or plugins to solve most problems. However, let's assume that the specific functionality is not supported in Flutter but is available in Kotlin and Swift.</p>\n<p>In such cases, you would implement that specific functionality using Java or Kotlin for the Android app and Swift or Objective-C for the iOS app.</p>\n<p>So, in those particular scenarios, you should have knowledge of either Java or Kotlin, and either Swift or Objective-C.</p>\n<p>If you are familiar with Java, choose Java. If you are familiar with Kotlin, choose Kotlin. And if you are not familiar with any of these languages, then for Android, select Kotlin, and for iOS, select Swift. Kotlin is a modern and recommended language for Android app development by Google, while Swift is recommended over Objective-C by Apple.</p>\n<p>The language you choose will be used to generate the code for both the Android and iOS apps, which I will demonstrate at the end of this video</p>\n"}],"owner":{"account_id":19487248,"reputation":207,"user_id":14256324,"display_name":"Ertuğrul &#199;akıcı"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1921,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1684263130,"creation_date":1629127431,"question_id":68805428,"body_markdown":"When I create a flutter app with the android studio I see the options for selecting the specified language for both android and IOS. I do not know how to code with these languages so, I won&#39;t code with them. Therefore, I thought selecting one of them is not important for me, isn&#39;t it? ","title":"How important selecting android language while creating a new flutter project?","body":"<p>When I create a flutter app with the android studio I see the options for selecting the specified language for both android and IOS. I do not know how to code with these languages so, I won't code with them. Therefore, I thought selecting one of them is not important for me, isn't it?</p>\n"},{"tags":["java","mysql","hibernate","blob"],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495456934,"creation_date":1495456934,"answer_id":44113152,"question_id":44112940,"body_markdown":"The equivalent mapping type for Blob in Java for MySQL is `byte[]`. You should use the corresponding dialect in Hibernate and annotate a property something like\r\n\r\n  \r\n\r\n    @Lob\r\n    @Column(name = &quot;data&quot;, columnDefinition = &quot;blob&quot;, length = 16777215)\r\n    public byte[] getData() {\r\n      return this.data;\r\n    }\r\n\r\n","title":"How to save this image to MySQL database using HIbernate as BLOB?","body":"<p>The equivalent mapping type for Blob in Java for MySQL is <code>byte[]</code>. You should use the corresponding dialect in Hibernate and annotate a property something like</p>\n\n<pre><code>@Lob\n@Column(name = \"data\", columnDefinition = \"blob\", length = 16777215)\npublic byte[] getData() {\n  return this.data;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10344652,"reputation":192,"user_id":7629986,"accept_rate":40,"display_name":"Harshad_Kenjale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495458132,"creation_date":1495458132,"answer_id":44113601,"question_id":44112940,"body_markdown":"This is a demo example please go through it and ask if any problem u have \r\n\r\nhttps://github.com/loiane/hibernate-image-example\r\n\r\nexplanation of above example:\r\n\r\nhttps://dzone.com/articles/how-load-or-save-image-using\r\n","title":"How to save this image to MySQL database using HIbernate as BLOB?","body":"<p>This is a demo example please go through it and ask if any problem u have </p>\n\n<p><a href=\"https://github.com/loiane/hibernate-image-example\" rel=\"nofollow noreferrer\">https://github.com/loiane/hibernate-image-example</a></p>\n\n<p>explanation of above example:</p>\n\n<p><a href=\"https://dzone.com/articles/how-load-or-save-image-using\" rel=\"nofollow noreferrer\">https://dzone.com/articles/how-load-or-save-image-using</a></p>\n"}],"owner":{"account_id":10951822,"reputation":145,"user_id":8048032,"accept_rate":8,"display_name":"user8048032"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1017,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1684263104,"creation_date":1495456286,"question_id":44112940,"body_markdown":"How can I save this uploaded image to MySQL database using Hibernate?  Do I need to convert this image to byte array or is there any other way to do this?\r\n\r\n    try {\r\n        // parses the request&#39;s content to extract file data\r\n        List formItems = upload.parseRequest(request);\r\n        Iterator iter = formItems.iterator();\r\n\r\n        // iterates over form&#39;s fields\r\n        while (iter.hasNext()) {\r\n            FileItem item = (FileItem) iter.next();\r\n            // processes only fields that are not form fields\r\n            if (!item.isFormField()) {\r\n                String fileName = new File(item.getName()).getName();\r\n                String filePath = uploadPath + File.separator + fileName;\r\n                File storeFile = new File(filePath);\r\n\r\n                System.out.println(&quot;Image file name is :&quot; + fileName);\r\n\r\n                // saves the file on disk\r\n                item.write(storeFile);\r\n\r\n            }\r\n        }\r\n    }\r\n","title":"How to save this image to MySQL database using HIbernate as BLOB?","body":"<p>How can I save this uploaded image to MySQL database using Hibernate?  Do I need to convert this image to byte array or is there any other way to do this?</p>\n<pre><code>try {\n    // parses the request's content to extract file data\n    List formItems = upload.parseRequest(request);\n    Iterator iter = formItems.iterator();\n\n    // iterates over form's fields\n    while (iter.hasNext()) {\n        FileItem item = (FileItem) iter.next();\n        // processes only fields that are not form fields\n        if (!item.isFormField()) {\n            String fileName = new File(item.getName()).getName();\n            String filePath = uploadPath + File.separator + fileName;\n            File storeFile = new File(filePath);\n\n            System.out.println(&quot;Image file name is :&quot; + fileName);\n\n            // saves the file on disk\n            item.write(storeFile);\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","cassandra","spring-data","spring-data-cassandra"],"owner":{"account_id":18770885,"reputation":772,"user_id":13687718,"display_name":"mang4521"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684262651,"creation_date":1684262651,"question_id":76266189,"body_markdown":"I have a Spring Cassandra entity class as follows:\r\n\r\n```\r\n@Builder\r\n@Table(value = &quot;#{@environment.getProperty(&#39;my.table.name&#39;)}&quot;)\r\npublic class UserEntity {\r\n  @PrimaryKeyColumn(name = &quot;id&quot;, ordinal = 0, type = PrimaryKeyType.PARTITIONED)\r\n    private String id;\r\n  // Other fields defined\r\n}\r\n```\r\n\r\nThis is my configuration\r\n```\r\nmy.table.name: User\r\n```\r\n\r\nHere, &quot;my.table.name&quot; is being passed from my config [equivalent to a @Value] file using SpEL support. This works as expected.\r\n\r\nNow, the problem is with my Repository class.\r\n\r\n```\r\n@Repository\r\npublic interface UserRepository extends ReactiveCassandraRepository&lt;UserEntity, String&gt; {\r\n    @Query(&quot;UPDATE User SET count = count + 1 WHERE id = ?0&quot;)\r\n    Flux&lt;UserEntity&gt; incrementCount(String id);\r\n}\r\n```\r\n\r\nHere I am unable to find an expression [SpEL] to replace the table name &quot;User&quot; in @Query with a variable [a configuration such as @Value]. Is there a possibility to get this done?","title":"Spring Data and Cassandra @Query with variable table names","body":"<p>I have a Spring Cassandra entity class as follows:</p>\n<pre><code>@Builder\n@Table(value = &quot;#{@environment.getProperty('my.table.name')}&quot;)\npublic class UserEntity {\n  @PrimaryKeyColumn(name = &quot;id&quot;, ordinal = 0, type = PrimaryKeyType.PARTITIONED)\n    private String id;\n  // Other fields defined\n}\n</code></pre>\n<p>This is my configuration</p>\n<pre><code>my.table.name: User\n</code></pre>\n<p>Here, &quot;my.table.name&quot; is being passed from my config [equivalent to a @Value] file using SpEL support. This works as expected.</p>\n<p>Now, the problem is with my Repository class.</p>\n<pre><code>@Repository\npublic interface UserRepository extends ReactiveCassandraRepository&lt;UserEntity, String&gt; {\n    @Query(&quot;UPDATE User SET count = count + 1 WHERE id = ?0&quot;)\n    Flux&lt;UserEntity&gt; incrementCount(String id);\n}\n</code></pre>\n<p>Here I am unable to find an expression [SpEL] to replace the table name &quot;User&quot; in @Query with a variable [a configuration such as @Value]. Is there a possibility to get this done?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1684194001,"post_id":76258378,"comment_id":134478766,"body_markdown":"Spring is not JPA, and will change the naming formats used by Hibernate by default so that camel case gets translated to snake format - there are numerous questions on it, but what works for JPA (which would default to a column &#39;ATTRB&#39; or &#39;attrb&#39; because dbs are generally case insensitive, works to be &#39;attr_b&#39; in spring.  In your code, what is the &quot;attrBValue&quot; that you are passing to the setAttrB method? You are printing the existing DB attrB value, but not the one you are setting it to - could it be null?","body":"Spring is not JPA, and will change the naming formats used by Hibernate by default so that camel case gets translated to snake format - there are numerous questions on it, but what works for JPA (which would default to a column &#39;ATTRB&#39; or &#39;attrb&#39; because dbs are generally case insensitive, works to be &#39;attr_b&#39; in spring.  In your code, what is the &quot;attrBValue&quot; that you are passing to the setAttrB method? You are printing the existing DB attrB value, but not the one you are setting it to - could it be null?"},{"owner":{"account_id":3546793,"reputation":1587,"user_id":2962555,"accept_rate":44,"display_name":"Laodao"},"score":0,"creation_date":1684195527,"post_id":76258378,"comment_id":134478900,"body_markdown":"@Chris, thanks for answering the name convention concern. For the printing value, I didn&#39;t have a new value for it. As you can see, I load the entity from db and only update the attrA (not attrB) and then want to save it back to db. To summarize, only the attrA&#39;s value needs to be changed. I expect the rest column value stay the same.","body":"@Chris, thanks for answering the name convention concern. For the printing value, I didn&#39;t have a new value for it. As you can see, I load the entity from db and only update the attrA (not attrB) and then want to save it back to db. To summarize, only the attrA&#39;s value needs to be changed. I expect the rest column value stay the same."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1684245842,"post_id":76258378,"comment_id":134487746,"body_markdown":"It will be something you haven&#39;t shown, as what you&#39;ve outlined as happening isn&#39;t normal for what you have. What is your save method doing exactly? Does this happen for all instances or just on this field in one entity in one situation?","body":"It will be something you haven&#39;t shown, as what you&#39;ve outlined as happening isn&#39;t normal for what you have. What is your save method doing exactly? Does this happen for all instances or just on this field in one entity in one situation?"},{"owner":{"account_id":3546793,"reputation":1587,"user_id":2962555,"accept_rate":44,"display_name":"Laodao"},"score":0,"creation_date":1684249641,"post_id":76258378,"comment_id":134488837,"body_markdown":"The save method is being used by some other callers, I believe. I also edit my post including the save() method.","body":"The save method is being used by some other callers, I believe. I also edit my post including the save() method."},{"owner":{"account_id":3546793,"reputation":1587,"user_id":2962555,"accept_rate":44,"display_name":"Laodao"},"score":0,"creation_date":1684262390,"post_id":76258378,"comment_id":134491927,"body_markdown":"@Chris, you are right. Some folks recently added PrePersist and PreUpdate in the Entity file, which overwrites the attrB. Please make your comment to be an answer. I will accept it. Thanks again for your help.","body":"@Chris, you are right. Some folks recently added PrePersist and PreUpdate in the Entity file, which overwrites the attrB. Please make your comment to be an answer. I will accept it. Thanks again for your help."}],"answers":[{"tags":[],"owner":{"account_id":3546793,"reputation":1587,"user_id":2962555,"accept_rate":44,"display_name":"Laodao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684262309,"creation_date":1684262309,"answer_id":76266165,"question_id":76258378,"body_markdown":"The issue was found. Some other folks recently added @preUpdate and @prePersist methods in the Entity file, which overwrites attrB. ","title":"why I got an exception complaining that I have a null value of the attribute (which is not as I printed out in code)","body":"<p>The issue was found. Some other folks recently added @preUpdate and @prePersist methods in the Entity file, which overwrites attrB.</p>\n"}],"owner":{"account_id":3546793,"reputation":1587,"user_id":2962555,"accept_rate":44,"display_name":"Laodao"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684262309,"creation_date":1684191162,"question_id":76258378,"body_markdown":"I have a code for updating a db table record - load the entity from the db and then set attribute A and save it back to the db (attrB should stay the same value as before). However, I keep getting an exception as below: \r\n\r\n```ConstraintViolationImpl{interpolatedMessage=&#39;must not be null&#39;, propertyPath=attrB, rootBeanClass=class ......```\r\n\r\nBelow is my entity file and code\r\n\r\nEntity file: \r\n\r\n    @Getter\r\n    @Setter\r\n    @SuperBuilder\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;myEntity&quot;)\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    public class BaseMyEntity extends BaseEntity {\r\n    \t@NotNull\r\n    \tprivate String attrA;\r\n    \r\n    \t@NotNull\r\n    \tprivate UUID attrC;\r\n    \r\n        ......\r\n    }\r\n\r\nand base entity file is \r\n\r\n    public class BaseEntity {\r\n    \t@Id\r\n    \tprivate UUID id;\r\n    \r\n    \t@NotNull\r\n    \tprotected UUID attrB;\r\n    \r\n        ......\r\n    }\r\n\r\nAnd the update code is \r\n\r\n        @Transactional\r\n    \tpublic boolean updateAttrB(UUID attrBValue) {\r\n    \t\tOptional&lt;T&gt; entityOptional = getRepository().findById(id);\r\n    \t\tT entity = entityOptional.get();\r\n            entity.setAttrA(attrBValue);  // change A&#39;s value, keep B same\r\n    \t\tSystem.out.printlin(&quot;attrB: &quot; + entity.getAttrB());  // print out and see\r\n    \t\t\r\n    \t\tsave(entity);\r\n\r\n    \t\treturn true;\r\n    \t}\r\n\r\n        protected T save(T entity) {\r\n    \t\treturn getRepository().saveAndFlush(entity);\r\n    \t}\r\n\r\nAs you can see from the code, I try to see the attrB value. It did has an UUID value printed out, which is the value existed in the db.\r\n\r\nMoreover, please note the attrB field in the entity file should corresponds to a column called attr_b in the table. The code was there from day one. It is still mystery for me to find out how does attr_b map to attrB without specify any annotation. Not sure if it is related. But thought worth to mention. \r\n\r\nPlease help. Thanks in advance. ","title":"why I got an exception complaining that I have a null value of the attribute (which is not as I printed out in code)","body":"<p>I have a code for updating a db table record - load the entity from the db and then set attribute A and save it back to the db (attrB should stay the same value as before). However, I keep getting an exception as below:</p>\n<p><code>ConstraintViolationImpl{interpolatedMessage='must not be null', propertyPath=attrB, rootBeanClass=class ......</code></p>\n<p>Below is my entity file and code</p>\n<p>Entity file:</p>\n<pre><code>@Getter\n@Setter\n@SuperBuilder\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;myEntity&quot;)\n@Inheritance(strategy = InheritanceType.JOINED)\npublic class BaseMyEntity extends BaseEntity {\n    @NotNull\n    private String attrA;\n\n    @NotNull\n    private UUID attrC;\n\n    ......\n}\n</code></pre>\n<p>and base entity file is</p>\n<pre><code>public class BaseEntity {\n    @Id\n    private UUID id;\n\n    @NotNull\n    protected UUID attrB;\n\n    ......\n}\n</code></pre>\n<p>And the update code is</p>\n<pre><code>    @Transactional\n    public boolean updateAttrB(UUID attrBValue) {\n        Optional&lt;T&gt; entityOptional = getRepository().findById(id);\n        T entity = entityOptional.get();\n        entity.setAttrA(attrBValue);  // change A's value, keep B same\n        System.out.printlin(&quot;attrB: &quot; + entity.getAttrB());  // print out and see\n        \n        save(entity);\n\n        return true;\n    }\n\n    protected T save(T entity) {\n        return getRepository().saveAndFlush(entity);\n    }\n</code></pre>\n<p>As you can see from the code, I try to see the attrB value. It did has an UUID value printed out, which is the value existed in the db.</p>\n<p>Moreover, please note the attrB field in the entity file should corresponds to a column called attr_b in the table. The code was there from day one. It is still mystery for me to find out how does attr_b map to attrB without specify any annotation. Not sure if it is related. But thought worth to mention.</p>\n<p>Please help. Thanks in advance.</p>\n"},{"tags":["java","eclipse","javafx","installation","efxclipse"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1684261884,"post_id":76265957,"comment_id":134491813,"body_markdown":"I would start by uninstalling the plugin and reinstalling it. It that doesn&#39;t work, I would uninstall Eclipse and reinstall Eclipse and the plugin.","body":"I would start by uninstalling the plugin and reinstalling it. It that doesn&#39;t work, I would uninstall Eclipse and reinstall Eclipse and the plugin."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1684262017,"post_id":76265957,"comment_id":134491854,"body_markdown":"It&#39;s been a while since I switched from Eclipse to IntelliJ. I remember an error like this (though I can&#39;t be sure if it&#39;s exactly the same). I think I resolved it by selecting a very minimal part of E(fx)clipse, which included the basic plugins etc.","body":"It&#39;s been a while since I switched from Eclipse to IntelliJ. I remember an error like this (though I can&#39;t be sure if it&#39;s exactly the same). I think I resolved it by selecting a very minimal part of E(fx)clipse, which included the basic plugins etc."}],"owner":{"account_id":19519702,"reputation":19,"user_id":14281861,"display_name":"Saynov Dias"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684261056,"creation_date":1684260387,"question_id":76265957,"body_markdown":"Calculating requirements and dependencies takes very long time and got this [strange request to login][2]  \r\nAnd during installing time this comes\r\n[Install error][1]  \r\nFull text:\r\n`An error occurred while collecting items to be installed\r\nsession context was:(profile=C__Users_Диас_Desktop_JAVA_eclipse, phase=org.eclipse.equinox.internal.p2.engine.phases.Collect, operand=, action=).\r\nResult of processing steps.    \r\nOK\r\nOK\r\nOK\r\nPublic key not found for -9147676190077153272.\r\nOK\r\nResult of processing steps.\r\nOK\r\nOK\r\nOK\r\nPublic key not found for -9147676190077153272.\r\nOK `\r\n\r\nMy eclipse version:   \r\nVersion: 2021-06 (4.20.0)  \r\nBuild id: 20210612-2011\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XBFQK.png\r\n  [2]: https://i.stack.imgur.com/KC2GI.png\r\n\r\n\r\nDoes someone have same problem ?\r\nWhat I can do?","title":"Error while installing e(fx)clipse plugin","body":"<p>Calculating requirements and dependencies takes very long time and got this <a href=\"https://i.stack.imgur.com/KC2GI.png\" rel=\"nofollow noreferrer\">strange request to login</a><br />\nAnd during installing time this comes\n<a href=\"https://i.stack.imgur.com/XBFQK.png\" rel=\"nofollow noreferrer\">Install error</a><br />\nFull text:\n<code>An error occurred while collecting items to be installed session context was:(profile=C__Users_Диас_Desktop_JAVA_eclipse, phase=org.eclipse.equinox.internal.p2.engine.phases.Collect, operand=, action=). Result of processing steps.     OK OK OK Public key not found for -9147676190077153272. OK Result of processing steps. OK OK OK Public key not found for -9147676190077153272. OK </code></p>\n<p>My eclipse version:<br />\nVersion: 2021-06 (4.20.0)<br />\nBuild id: 20210612-2011</p>\n<p>Does someone have same problem ?\nWhat I can do?</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1684256932,"post_id":76265356,"comment_id":134490753,"body_markdown":"Just change the package of the main class to be a root of all other packages. Like com.example. This will help Spring to auto-configure.","body":"Just change the package of the main class to be a root of all other packages. Like com.example. This will help Spring to auto-configure."}],"answers":[{"tags":[],"owner":{"account_id":7888329,"reputation":58,"user_id":5959501,"display_name":"Lucas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684260764,"creation_date":1684260764,"answer_id":76266001,"question_id":76265356,"body_markdown":"Please remove trailing slash from url in postman\r\n\r\n&gt; Currently, an endpoint registered in controller matches by default the defined path with trailing slash – for example, @GetMapping(“/some/greeting”) will match both /some/greeting and /some/greeting/ paths. In Spring Boot 3 this will no longer be supported by default due to security concerns. The previous behavior can be activated with appropriate configuration, although it is recommended to adjust the web application to use the new approach. \r\n\r\nhttps://github.com/spring-projects/spring-framework/issues/28552","title":"404 error for post request using springboot","body":"<p>Please remove trailing slash from url in postman</p>\n<blockquote>\n<p>Currently, an endpoint registered in controller matches by default the defined path with trailing slash – for example, @GetMapping(“/some/greeting”) will match both /some/greeting and /some/greeting/ paths. In Spring Boot 3 this will no longer be supported by default due to security concerns. The previous behavior can be activated with appropriate configuration, although it is recommended to adjust the web application to use the new approach.</p>\n</blockquote>\n<p><a href=\"https://github.com/spring-projects/spring-framework/issues/28552\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/28552</a></p>\n"}],"owner":{"account_id":23126238,"reputation":63,"user_id":17231999,"display_name":"Sahil Sahu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684260840,"creation_date":1684255000,"question_id":76265356,"body_markdown":"I am getting a 404 error for the following post request. This is the first API I am making using spring-boot. Is there something I am missing? What&#39;s going wrong?\r\n\r\nThis is how I am calling the request from postman:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMain file\r\n\r\n```\r\n\r\n@SpringBootApplication\r\n@EntityScan(basePackages = { &quot;com.example.entities.*&quot; })\r\n@EnableAutoConfiguration\r\npublic class BloggingAppApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(BloggingAppApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nController file. It just has one function for adding a user. \r\n```\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/users&quot;)\r\npublic class UserController {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    //POST: create user\r\n    @PostMapping(&quot;/&quot;)\r\n    public ResponseEntity&lt;UserDto&gt; createUser(@RequestBody UserDto userDto){\r\n        UserDto createdUser = this.userService.createUser(userDto);\r\n        return new ResponseEntity&lt;&gt;(createdUser, HttpStatus.CREATED);\r\n    }\r\n\r\n    //GET: get user\r\n\r\n    //PUT: update user\r\n\r\n    //DELETE: delete user\r\n}\r\n```\r\nService \r\n\r\n```\r\n\r\n@Service\r\npublic class UserServiceImp implements UserService {\r\n\r\n    private UserRepo userRepo;\r\n    @Override\r\n    public UserDto createUser(UserDto userDto) {\r\n        User user = this.dtoToUser(userDto);\r\n        User savedUser = this.userRepo.save(user);\r\n\r\n        return this.userToDto(savedUser);\r\n    }\r\n}\r\n\r\n```\r\n\r\nUser Repo\r\n```\r\n\r\npublic interface UserRepo extends JpaRepository&lt;User, Integer&gt; {\r\n}\r\n\r\n```\r\n\r\nLogs\r\n\r\n```\r\n9:58:05 pm: Executing &#39;:BloggingAppApplication.main()&#39;...\r\n\r\n&gt; Task :compileJava\r\n&gt; Task :processResources UP-TO-DATE\r\n&gt; Task :classes\r\n\r\n&gt; Task :BloggingAppApplication.main()\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.0.6)\r\n\r\n2023-05-16T21:58:07.212+05:30  INFO 87851 --- [  restartedMain] c.e.blogging.app.BloggingAppApplication  : Starting BloggingAppApplication using Java 17.0.1 with PID 87851 (/Users/sahilsahu/Springboot-Projects/BloggingApp/build/classes/java/main started by sahilsahu in /Users/sahilsahu/Springboot-Projects/BloggingApp)\r\n2023-05-16T21:58:07.217+05:30  INFO 87851 --- [  restartedMain] c.e.blogging.app.BloggingAppApplication  : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-05-16T21:58:07.293+05:30  INFO 87851 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n2023-05-16T21:58:07.293+05:30  INFO 87851 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n2023-05-16T21:58:08.033+05:30  INFO 87851 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-05-16T21:58:08.063+05:30  INFO 87851 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 0 JPA repository interfaces.\r\n2023-05-16T21:58:08.926+05:30  INFO 87851 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-05-16T21:58:08.940+05:30  INFO 87851 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-05-16T21:58:08.941+05:30  INFO 87851 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\r\n2023-05-16T21:58:09.021+05:30  INFO 87851 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-05-16T21:58:09.024+05:30  INFO 87851 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1728 ms\r\n2023-05-16T21:58:09.233+05:30  INFO 87851 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-05-16T21:58:09.290+05:30  INFO 87851 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\r\n2023-05-16T21:58:09.623+05:30  INFO 87851 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-05-16T21:58:10.008+05:30  INFO 87851 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@8a123ef\r\n2023-05-16T21:58:10.010+05:30  INFO 87851 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-05-16T21:58:10.059+05:30  INFO 87851 --- [  restartedMain] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\r\n2023-05-16T21:58:10.084+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2c90ea34) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@39b5bd89)\r\n2023-05-16T21:58:10.084+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2f5c3b05) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@267cd5c2)\r\n2023-05-16T21:58:10.085+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@d965a73) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@195bf7bd)\r\n2023-05-16T21:58:10.085+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@57917380) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@17837e75)\r\n2023-05-16T21:58:10.085+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2879fb34) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6ed91799)\r\n2023-05-16T21:58:10.085+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@328874b1) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3ef4c443)\r\n2023-05-16T21:58:10.085+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@593328f2) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7f708992)\r\n2023-05-16T21:58:10.085+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@eac4731) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@16624c7b)\r\n2023-05-16T21:58:10.086+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@565682fd) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2d11adbc)\r\n2023-05-16T21:58:10.436+05:30  INFO 87851 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2023-05-16T21:58:10.448+05:30  INFO 87851 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-05-16T21:58:10.495+05:30  WARN 87851 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2023-05-16T21:58:10.945+05:30  INFO 87851 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\n2023-05-16T21:58:10.981+05:30  INFO 87851 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2023-05-16T21:58:10.993+05:30  INFO 87851 --- [  restartedMain] c.e.blogging.app.BloggingAppApplication  : Started BloggingAppApplication in 4.207 seconds (process running for 4.709)\r\n2023-05-16T21:58:16.081+05:30  INFO 87851 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2023-05-16T21:58:16.081+05:30  INFO 87851 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2023-05-16T21:58:16.083+05:30  INFO 87851 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xPWyG.png","title":"404 error for post request using springboot","body":"<p>I am getting a 404 error for the following post request. This is the first API I am making using spring-boot. Is there something I am missing? What's going wrong?</p>\n<p>This is how I am calling the request from postman:</p>\n<p><a href=\"https://i.stack.imgur.com/xPWyG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xPWyG.png\" alt=\"enter image description here\" /></a></p>\n<p>Main file</p>\n<pre><code>\n@SpringBootApplication\n@EntityScan(basePackages = { &quot;com.example.entities.*&quot; })\n@EnableAutoConfiguration\npublic class BloggingAppApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(BloggingAppApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p>Controller file. It just has one function for adding a user.</p>\n<pre><code>\n@RestController\n@RequestMapping(&quot;/api/users&quot;)\npublic class UserController {\n\n    @Autowired\n    private UserService userService;\n\n    //POST: create user\n    @PostMapping(&quot;/&quot;)\n    public ResponseEntity&lt;UserDto&gt; createUser(@RequestBody UserDto userDto){\n        UserDto createdUser = this.userService.createUser(userDto);\n        return new ResponseEntity&lt;&gt;(createdUser, HttpStatus.CREATED);\n    }\n\n    //GET: get user\n\n    //PUT: update user\n\n    //DELETE: delete user\n}\n</code></pre>\n<p>Service</p>\n<pre><code>\n@Service\npublic class UserServiceImp implements UserService {\n\n    private UserRepo userRepo;\n    @Override\n    public UserDto createUser(UserDto userDto) {\n        User user = this.dtoToUser(userDto);\n        User savedUser = this.userRepo.save(user);\n\n        return this.userToDto(savedUser);\n    }\n}\n\n</code></pre>\n<p>User Repo</p>\n<pre><code>\npublic interface UserRepo extends JpaRepository&lt;User, Integer&gt; {\n}\n\n</code></pre>\n<p>Logs</p>\n<pre><code>9:58:05 pm: Executing ':BloggingAppApplication.main()'...\n\n&gt; Task :compileJava\n&gt; Task :processResources UP-TO-DATE\n&gt; Task :classes\n\n&gt; Task :BloggingAppApplication.main()\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.6)\n\n2023-05-16T21:58:07.212+05:30  INFO 87851 --- [  restartedMain] c.e.blogging.app.BloggingAppApplication  : Starting BloggingAppApplication using Java 17.0.1 with PID 87851 (/Users/sahilsahu/Springboot-Projects/BloggingApp/build/classes/java/main started by sahilsahu in /Users/sahilsahu/Springboot-Projects/BloggingApp)\n2023-05-16T21:58:07.217+05:30  INFO 87851 --- [  restartedMain] c.e.blogging.app.BloggingAppApplication  : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-05-16T21:58:07.293+05:30  INFO 87851 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2023-05-16T21:58:07.293+05:30  INFO 87851 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2023-05-16T21:58:08.033+05:30  INFO 87851 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-05-16T21:58:08.063+05:30  INFO 87851 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 0 JPA repository interfaces.\n2023-05-16T21:58:08.926+05:30  INFO 87851 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-05-16T21:58:08.940+05:30  INFO 87851 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-05-16T21:58:08.941+05:30  INFO 87851 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\n2023-05-16T21:58:09.021+05:30  INFO 87851 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-05-16T21:58:09.024+05:30  INFO 87851 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1728 ms\n2023-05-16T21:58:09.233+05:30  INFO 87851 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-05-16T21:58:09.290+05:30  INFO 87851 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\n2023-05-16T21:58:09.623+05:30  INFO 87851 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-05-16T21:58:10.008+05:30  INFO 87851 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@8a123ef\n2023-05-16T21:58:10.010+05:30  INFO 87851 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-05-16T21:58:10.059+05:30  INFO 87851 --- [  restartedMain] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\n2023-05-16T21:58:10.084+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(12, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2c90ea34) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@39b5bd89)\n2023-05-16T21:58:10.084+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(-9, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@2f5c3b05) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@267cd5c2)\n2023-05-16T21:58:10.085+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(-3, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@d965a73) replaced previous registration(org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@195bf7bd)\n2023-05-16T21:58:10.085+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(4003, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@57917380) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@17837e75)\n2023-05-16T21:58:10.085+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(4001, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2879fb34) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@6ed91799)\n2023-05-16T21:58:10.085+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(4002, org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@328874b1) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@3ef4c443)\n2023-05-16T21:58:10.085+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(2004, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@593328f2) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@7f708992)\n2023-05-16T21:58:10.085+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(2005, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@eac4731) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@16624c7b)\n2023-05-16T21:58:10.086+05:30 DEBUG 87851 --- [  restartedMain] o.h.t.d.sql.spi.DdlTypeRegistry          : addDescriptor(2011, org.hibernate.type.descriptor.sql.internal.CapacityDependentDdlType@565682fd) replaced previous registration(org.hibernate.type.descriptor.sql.internal.DdlTypeImpl@2d11adbc)\n2023-05-16T21:58:10.436+05:30  INFO 87851 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-05-16T21:58:10.448+05:30  INFO 87851 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-05-16T21:58:10.495+05:30  WARN 87851 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-05-16T21:58:10.945+05:30  INFO 87851 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\n2023-05-16T21:58:10.981+05:30  INFO 87851 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2023-05-16T21:58:10.993+05:30  INFO 87851 --- [  restartedMain] c.e.blogging.app.BloggingAppApplication  : Started BloggingAppApplication in 4.207 seconds (process running for 4.709)\n2023-05-16T21:58:16.081+05:30  INFO 87851 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2023-05-16T21:58:16.081+05:30  INFO 87851 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-05-16T21:58:16.083+05:30  INFO 87851 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":8553517,"reputation":15,"user_id":6409801,"display_name":"Nikhil Mollay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684260661,"creation_date":1684260661,"question_id":76265991,"body_markdown":"I have a strange issue which has made me completely run out of ideas. I have a config class which fetches stuff like:\r\n```\r\n@Configuration\r\n@ConfigurationProperties(prefix = &quot;n-config&quot;)\r\n@Getter\r\n@Setter\r\npublic class Config {\r\n  ...\r\n}\r\n```\r\nI have different settings.yml and different profile specific ones settings-{profile}.yml. These files are imported in the application.yml and the other profile specific ones, which is application-dev.yml and application-stage.yml.\r\n\r\nThe strange thing is the Config class is properly loaded in the stage profile and the application-stage.yml is something like this\r\n\r\n```\r\nspring:\r\n  config:\r\n    import: optional:classpath:conf/settings.yml, optional:classpath:conf/settings-staging.yml\r\n```\r\nThis works and imports everything properly and my class has all the attributes from the settings.yml file.\r\n\r\nNow application.yml is something like :\r\n```\r\nspring:\r\n  application:\r\n    name: Some app\r\n  devtools:\r\n    restart:\r\n      enabled: false\r\n  graphql:\r\n    schema:\r\n      ...\r\n  datasource:\r\n    ...\r\n    hikari:\r\n      ...\r\n  jpa:\r\n    ...\r\n  config:\r\n    import: classpath:conf/notification-settings.yml\r\n```\r\nThis doesn&#39;t import the file and all the attributes inside the Config class but the stage ones work.\r\n\r\nI have another for dev which looks like this\r\n```\r\nspring:\r\n  config:\r\n    import: classpath:conf/settings.yml, optional:classpath:conf/settings-dev.yml\r\n  devtools:\r\n    ...\r\n  datasource:\r\n    ...\r\n    jpa:\r\n      ...\r\n```\r\nand this doesn&#39;t load anything into the Config class. I have tried everything but I can&#39;t make any sense of it.\r\nI have checked the path. I have switched names. I tried the path in local and put it in application-stage and that worked. Everything works in the stage one but not in application.yml and application-dev.yml ","title":"Import in applications.yml not loading the file in spring.config.import","body":"<p>I have a strange issue which has made me completely run out of ideas. I have a config class which fetches stuff like:</p>\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = &quot;n-config&quot;)\n@Getter\n@Setter\npublic class Config {\n  ...\n}\n</code></pre>\n<p>I have different settings.yml and different profile specific ones settings-{profile}.yml. These files are imported in the application.yml and the other profile specific ones, which is application-dev.yml and application-stage.yml.</p>\n<p>The strange thing is the Config class is properly loaded in the stage profile and the application-stage.yml is something like this</p>\n<pre><code>spring:\n  config:\n    import: optional:classpath:conf/settings.yml, optional:classpath:conf/settings-staging.yml\n</code></pre>\n<p>This works and imports everything properly and my class has all the attributes from the settings.yml file.</p>\n<p>Now application.yml is something like :</p>\n<pre><code>spring:\n  application:\n    name: Some app\n  devtools:\n    restart:\n      enabled: false\n  graphql:\n    schema:\n      ...\n  datasource:\n    ...\n    hikari:\n      ...\n  jpa:\n    ...\n  config:\n    import: classpath:conf/notification-settings.yml\n</code></pre>\n<p>This doesn't import the file and all the attributes inside the Config class but the stage ones work.</p>\n<p>I have another for dev which looks like this</p>\n<pre><code>spring:\n  config:\n    import: classpath:conf/settings.yml, optional:classpath:conf/settings-dev.yml\n  devtools:\n    ...\n  datasource:\n    ...\n    jpa:\n      ...\n</code></pre>\n<p>and this doesn't load anything into the Config class. I have tried everything but I can't make any sense of it.\nI have checked the path. I have switched names. I tried the path in local and put it in application-stage and that worked. Everything works in the stage one but not in application.yml and application-dev.yml</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","repository"],"answers":[{"tags":[],"owner":{"account_id":27960485,"reputation":185,"user_id":21352393,"display_name":"MarcelMM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684260387,"creation_date":1684260387,"answer_id":76265958,"question_id":76265832,"body_markdown":"You are mixing jpa query with native query.\r\nIn your case you should:\r\n\r\nNative query:\r\n\r\n    @Query(value = &quot;SELECT IS_ACTIVE FROM T_MYTABLE WHERE ID = ?1&quot;, nativeQuery = true)\r\n\r\nJPQL:\r\n\r\n    @Query(&quot;SELECT isActive FROM MyClass WHERE id= ?1&quot;)\r\n   \r\n","title":"Spring JPA query for checking boolean property","body":"<p>You are mixing jpa query with native query.\nIn your case you should:</p>\n<p>Native query:</p>\n<pre><code>@Query(value = &quot;SELECT IS_ACTIVE FROM T_MYTABLE WHERE ID = ?1&quot;, nativeQuery = true)\n</code></pre>\n<p>JPQL:</p>\n<pre><code>@Query(&quot;SELECT isActive FROM MyClass WHERE id= ?1&quot;)\n</code></pre>\n"}],"owner":{"account_id":12249909,"reputation":125,"user_id":13121591,"display_name":"user13121591"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76265958,"answer_count":1,"score":0,"last_activity_date":1684260387,"creation_date":1684259243,"question_id":76265832,"body_markdown":"Suppose i have the following entity:\r\n\r\n    @Entity\r\n    public class MyClass {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n\r\n        private Boolean isActive;\r\n    }\r\n\r\nI want to check if an object &quot;MyClass&quot; isActive this is what i have done:\r\n\r\n    public interface MyClassRepository extends Repository&lt;MyClass, Long&gt; {\r\n        @Query(&quot;SELECT IS_ACTIVE FROM T_MYTABLE WHERE ID = ?1&quot;)\r\n        public Boolean isActive(Long id);\r\n    }\r\n\r\nHowever i get the following error\r\n\r\n    org.springframework.orm.jpa.JpaSystemException: Specified result type [java.lang.Boolean] did not match Query selection type [com.myapp.MyClass] - multiple selections: use Tuple or array\r\n\r\nWhat is the correct why to implement this?","title":"Spring JPA query for checking boolean property","body":"<p>Suppose i have the following entity:</p>\n<pre><code>@Entity\npublic class MyClass {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    private Boolean isActive;\n}\n</code></pre>\n<p>I want to check if an object &quot;MyClass&quot; isActive this is what i have done:</p>\n<pre><code>public interface MyClassRepository extends Repository&lt;MyClass, Long&gt; {\n    @Query(&quot;SELECT IS_ACTIVE FROM T_MYTABLE WHERE ID = ?1&quot;)\n    public Boolean isActive(Long id);\n}\n</code></pre>\n<p>However i get the following error</p>\n<pre><code>org.springframework.orm.jpa.JpaSystemException: Specified result type [java.lang.Boolean] did not match Query selection type [com.myapp.MyClass] - multiple selections: use Tuple or array\n</code></pre>\n<p>What is the correct why to implement this?</p>\n"},{"tags":["java","postgresql","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":2,"creation_date":1684255918,"post_id":76265281,"comment_id":134490529,"body_markdown":"The import should be org.springframework.transaction.annotation.Transactional.","body":"The import should be org.springframework.transaction.annotation.Transactional."},{"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"score":0,"creation_date":1684257719,"post_id":76265281,"comment_id":134490945,"body_markdown":"@Mar-Z no, that did not work. Same result.","body":"@Mar-Z no, that did not work. Same result."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1684258399,"post_id":76265281,"comment_id":134491081,"body_markdown":"@EnableTransactionManagement annotation is present in configuration? Or equivalent like spring-boot-starter-data-jpa dependency.","body":"@EnableTransactionManagement annotation is present in configuration? Or equivalent like spring-boot-starter-data-jpa dependency."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684259061,"post_id":76265281,"comment_id":134491200,"body_markdown":"A dumbed down code which doesn&#39;t show the actual issue, we love that here on stack overflow. If it doesn&#39;t work with the Spring `@Transactional` either this code isn&#39;t a fair representation of what you are trying to achieve. Maybe your class or method is `final`, it isn&#39;t `public` or you are creating a new instance of the repository yourself. Or you are calling this method from the same class instead of externally calling it. To be short there is far too little information here to help you. We need calling code, configuration and your full stacktrace and actual code (obfuscated is fine).","body":"A dumbed down code which doesn&#39;t show the actual issue, we love that here on stack overflow. If it doesn&#39;t work with the Spring <code>@Transactional</code> either this code isn&#39;t a fair representation of what you are trying to achieve. Maybe your class or method is <code>final</code>, it isn&#39;t <code>public</code> or you are creating a new instance of the repository yourself. Or you are calling this method from the same class instead of externally calling it. To be short there is far too little information here to help you. We need calling code, configuration and your full stacktrace and actual code (obfuscated is fine)."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684259229,"post_id":76265281,"comment_id":134491227,"body_markdown":"In additional some version of the Spring and Spring Boot would be good to know as well, as it depends on the version (ideally some dependency management of your maven or gradle build).","body":"In additional some version of the Spring and Spring Boot would be good to know as well, as it depends on the version (ideally some dependency management of your maven or gradle build)."},{"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"score":0,"creation_date":1684259723,"post_id":76265281,"comment_id":134491336,"body_markdown":"@M.Deinum I don&#39;t know why you say my dumbed down is not representative. If absolutely is I believe. If you copy and past all my code and set of a simple java app and database tables in postGres and it rolls back the way I am attempting, then you have demonstrated there is something different about your environment than mine. Otherwise I guess you are ASSUMING it will work in your environment. I gave the detailed information to see of other people get the same or different results. I think that is worthwhile.","body":"@M.Deinum I don&#39;t know why you say my dumbed down is not representative. If absolutely is I believe. If you copy and past all my code and set of a simple java app and database tables in postGres and it rolls back the way I am attempting, then you have demonstrated there is something different about your environment than mine. Otherwise I guess you are ASSUMING it will work in your environment. I gave the detailed information to see of other people get the same or different results. I think that is worthwhile."},{"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"score":0,"creation_date":1684259831,"post_id":76265281,"comment_id":134491358,"body_markdown":"@M.Deinum I wasn&#39;t saying it didn&#39;t work with the Spring annotation, I said it gets the same results as the javax Transactional. Also, class and method are public. No final either","body":"@M.Deinum I wasn&#39;t saying it didn&#39;t work with the Spring annotation, I said it gets the same results as the javax Transactional. Also, class and method are public. No final either"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684261296,"post_id":76265281,"comment_id":134491688,"body_markdown":"You clearly stated in the comments that you have the same result, it didn&#39;t work. Also there is far too little code here for a working sample. As stated how are you calling this, what is your configuration like and what versions are you using. You also haven&#39;t shown a stack trace which holds crucial information. So with what little you posted here it is impossible to determine what is different or wrong in your setup.","body":"You clearly stated in the comments that you have the same result, it didn&#39;t work. Also there is far too little code here for a working sample. As stated how are you calling this, what is your configuration like and what versions are you using. You also haven&#39;t shown a stack trace which holds crucial information. So with what little you posted here it is impossible to determine what is different or wrong in your setup."},{"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"score":0,"creation_date":1684263958,"post_id":76265281,"comment_id":134492198,"body_markdown":"@M.Deinum well, I got it to work in another project that may have different spring dependencies, so you made me think it through that it could be something with the various differences between the two projects, including one is java 8 and the other 11...","body":"@M.Deinum well, I got it to work in another project that may have different spring dependencies, so you made me think it through that it could be something with the various differences between the two projects, including one is java 8 and the other 11..."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684305406,"post_id":76265281,"comment_id":134496948,"body_markdown":"The java version shouldn&#39;t matter. The spring version could as older ones don&#39;t support the `javax.transaction.Transactional` howver you stated that it doesn&#39;t work with the Spring `@Transactional` either. could you include your calling code for the repository and if possible the stacktrace for the error you get? The latter generally contains valuable information.","body":"The java version shouldn&#39;t matter. The spring version could as older ones don&#39;t support the <code>javax.transaction.Transactional</code> howver you stated that it doesn&#39;t work with the Spring <code>@Transactional</code> either. could you include your calling code for the repository and if possible the stacktrace for the error you get? The latter generally contains valuable information."}],"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684260278,"creation_date":1684254424,"question_id":76265281,"body_markdown":"I have a SpringBoot rest application using jdbcTemplate and postGres database. There is a certain endpoint that is supposed to be executed as an atomic transaction, or else rolled back. I am not getting the rollback to work as I had intended. I can&#39;t show the actual code, but I have a very simple example that fails the same way (below).\r\n\r\nHere is the issue:  since this is set up as a transaction, I would have expected the first update in the Orders table to rollback (since the 2nd updated failed with exception), but it doesn&#39;t (PersonID remains null). \r\n\r\nThis example is VERY contrived, but it exactly replicates my issue. I simply need for the transaction to rollback the 1st update command. \r\n\r\nI would rather the solution continue to use annotation-based transaction boundaries, rather than setting up the transaction in JDBC or similar in the java code. I would be grateful for any ideas. Thanks.\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.jdbc.core.JdbcTemplate;\r\n    import org.springframework.stereotype.Repository;\r\n    import javax.transaction.Transactional;\r\n\r\n    @Repository\r\n    public class DeletionRepository {\r\n\r\n    @Autowired\r\n    protected JdbcTemplate jdbcTemplate;\r\n\r\n    @Transactional(rollbackOn = Exception.class)\r\n    public int deleteWithCascade() {\r\n        int status = 0;\r\n\r\n        // this succeeds as expected because the PersonId field is nullable\r\n        status = jdbcTemplate.update(&quot;UPDATE Orders SET PersonId = NULL WHERE OrderID = 123&quot;);\r\n\r\n        // this throws an integrity constraint violation because the PersonId field is NOT NULL\r\n        status = jdbcTemplate.update(&quot;UPDATE Reservations SET PersonId = NULL WHERE ReservationID = 123&quot;);\r\n\r\n        // we never get here due to above exception\r\n        status = jdbcTemplate.update(&quot;DELETE FROM Persons WHERE PersonID = &#39;ABC123&quot;);\r\n        return status\r\n    }\r\n\r\n\r\nThe exception is:\r\n\r\n    [UPDATE Reservations SET PersonId = NULL WHERE ReservationID = 123]; ERROR: null value in column \\&quot;personid\\&quot; violates not-null constraint\\n  Detail: Failing row contains (123, hotel room, null).; nested exception is org.postgresql.util.PSQLException: ERROR: null value in column \\&quot;personid\\&quot; violates not-null constraint\\n  Detail: Failing row contains (123, hotel room, null).&quot;\r\n\r\nHere are the SQL commands for the test data the above example is using:\r\n\r\n    CREATE TABLE Persons (personID varchar(45) NOT NULL, LastName varchar(255) NOT NULL, FirstName varchar(255), Age int, PRIMARY KEY (personID));\r\n    INSERT INTO Persons (personID, LastName, FirstName, Age) values (&#39;ABC123&#39;, &#39;Jones&#39;, &#39;Janet&#39;, 35)\r\n\r\n    CREATE TABLE Orders (  OrderID int NOT NULL, OrderNumber int NOT NULL, PersonID varchar(45), PRIMARY KEY (OrderID), FOREIGN KEY (PersonID) REFERENCES Persons(PersonID));\r\n    INSERT INTO Orders (OrderID, OrderNumber, PersonID) values (123, 456, &#39;ABC123&#39;)\r\n\r\n    CREATE TABLE Reservations (  ReservationID int NOT NULL, ReservationDetail varchar(255), PersonID varchar(45) NOT NULL, PRIMARY KEY (ReservationID), FOREIGN KEY (PersonID) REFERENCES Persons(PersonID));\r\n    INSERT INTO Reservations (ReservationID, ReservationDetail, PersonID) values (123, &#39;hotel room&#39;, &#39;ABC123&#39;)\r\n\r\nUpdate: based on initial feedback, I also tried below. It still did not roll back\r\n\r\n    import  org.springframework.transaction.annotation.Transactional;\r\n\r\n    @Repository\r\n    public class DeletionRepository {\r\n\r\n    @Autowired\r\n    protected JdbcTemplate jdbcTemplate;\r\n\r\n     @Transactional(rollbackFor = Exception.class)\r\n    public int deleteWithCascade() {\r\n        int status = 0;\r\n","title":"Javax-based Transactional Does NOT Rollback As Intended","body":"<p>I have a SpringBoot rest application using jdbcTemplate and postGres database. There is a certain endpoint that is supposed to be executed as an atomic transaction, or else rolled back. I am not getting the rollback to work as I had intended. I can't show the actual code, but I have a very simple example that fails the same way (below).</p>\n<p>Here is the issue:  since this is set up as a transaction, I would have expected the first update in the Orders table to rollback (since the 2nd updated failed with exception), but it doesn't (PersonID remains null).</p>\n<p>This example is VERY contrived, but it exactly replicates my issue. I simply need for the transaction to rollback the 1st update command.</p>\n<p>I would rather the solution continue to use annotation-based transaction boundaries, rather than setting up the transaction in JDBC or similar in the java code. I would be grateful for any ideas. Thanks.</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.stereotype.Repository;\nimport javax.transaction.Transactional;\n\n@Repository\npublic class DeletionRepository {\n\n@Autowired\nprotected JdbcTemplate jdbcTemplate;\n\n@Transactional(rollbackOn = Exception.class)\npublic int deleteWithCascade() {\n    int status = 0;\n\n    // this succeeds as expected because the PersonId field is nullable\n    status = jdbcTemplate.update(&quot;UPDATE Orders SET PersonId = NULL WHERE OrderID = 123&quot;);\n\n    // this throws an integrity constraint violation because the PersonId field is NOT NULL\n    status = jdbcTemplate.update(&quot;UPDATE Reservations SET PersonId = NULL WHERE ReservationID = 123&quot;);\n\n    // we never get here due to above exception\n    status = jdbcTemplate.update(&quot;DELETE FROM Persons WHERE PersonID = 'ABC123&quot;);\n    return status\n}\n</code></pre>\n<p>The exception is:</p>\n<pre><code>[UPDATE Reservations SET PersonId = NULL WHERE ReservationID = 123]; ERROR: null value in column \\&quot;personid\\&quot; violates not-null constraint\\n  Detail: Failing row contains (123, hotel room, null).; nested exception is org.postgresql.util.PSQLException: ERROR: null value in column \\&quot;personid\\&quot; violates not-null constraint\\n  Detail: Failing row contains (123, hotel room, null).&quot;\n</code></pre>\n<p>Here are the SQL commands for the test data the above example is using:</p>\n<pre><code>CREATE TABLE Persons (personID varchar(45) NOT NULL, LastName varchar(255) NOT NULL, FirstName varchar(255), Age int, PRIMARY KEY (personID));\nINSERT INTO Persons (personID, LastName, FirstName, Age) values ('ABC123', 'Jones', 'Janet', 35)\n\nCREATE TABLE Orders (  OrderID int NOT NULL, OrderNumber int NOT NULL, PersonID varchar(45), PRIMARY KEY (OrderID), FOREIGN KEY (PersonID) REFERENCES Persons(PersonID));\nINSERT INTO Orders (OrderID, OrderNumber, PersonID) values (123, 456, 'ABC123')\n\nCREATE TABLE Reservations (  ReservationID int NOT NULL, ReservationDetail varchar(255), PersonID varchar(45) NOT NULL, PRIMARY KEY (ReservationID), FOREIGN KEY (PersonID) REFERENCES Persons(PersonID));\nINSERT INTO Reservations (ReservationID, ReservationDetail, PersonID) values (123, 'hotel room', 'ABC123')\n</code></pre>\n<p>Update: based on initial feedback, I also tried below. It still did not roll back</p>\n<pre><code>import  org.springframework.transaction.annotation.Transactional;\n\n@Repository\npublic class DeletionRepository {\n\n@Autowired\nprotected JdbcTemplate jdbcTemplate;\n\n @Transactional(rollbackFor = Exception.class)\npublic int deleteWithCascade() {\n    int status = 0;\n</code></pre>\n"},{"tags":["java","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":1541492,"reputation":2288,"user_id":1436031,"display_name":"Andrew Nguonly"},"score":0,"creation_date":1522511799,"post_id":49579110,"comment_id":86186992,"body_markdown":"There isn&#39;t a way to do this natively in Apache Beam. You may be able to manipulate or query the input source in a specific way to only select the first X number of elements. What input source are you reading from?","body":"There isn&#39;t a way to do this natively in Apache Beam. You may be able to manipulate or query the input source in a specific way to only select the first X number of elements. What input source are you reading from?"},{"owner":{"account_id":5148441,"reputation":699,"user_id":4123678,"accept_rate":100,"display_name":"shockawave123"},"score":0,"creation_date":1522512820,"post_id":49579110,"comment_id":86187380,"body_markdown":"Originally the input is the result of a query from a BigQuery Table. Then it goes through a few steps of processing and further filtration  before getting to the step where I need only the first million. However, I can’t put a limit on the query.","body":"Originally the input is the result of a query from a BigQuery Table. Then it goes through a few steps of processing and further filtration  before getting to the step where I need only the first million. However, I can’t put a limit on the query."},{"owner":{"account_id":1541492,"reputation":2288,"user_id":1436031,"display_name":"Andrew Nguonly"},"score":0,"creation_date":1522534149,"post_id":49579110,"comment_id":86193370,"body_markdown":"Maybe you could use the [Top](https://beam.apache.org/documentation/sdks/javadoc/2.4.0/org/apache/beam/sdk/transforms/Top.html) transform?","body":"Maybe you could use the <a href=\"https://beam.apache.org/documentation/sdks/javadoc/2.4.0/org/apache/beam/sdk/transforms/Top.html\" rel=\"nofollow noreferrer\">Top</a> transform?"}],"answers":[{"tags":[],"owner":{"account_id":5666430,"reputation":8004,"user_id":4482491,"display_name":"dsesto"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1523263234,"creation_date":1523263234,"answer_id":49728787,"question_id":49579110,"body_markdown":"As explained by @Andrew in his comments, maybe you can use the `Top` transform in Apache Beam (for [Java][1] or for [Python][2]). Specifically, the `Top.of()` function returns a *PTransform* with a *PCollection*, ordered by a comparator transform.\r\n\r\n[Here][3] you can find a simple example of use:\r\n\r\n    PCollection&lt;Student&gt; students = ...;\r\n    PCollection&lt;List&lt;Student&gt;&gt; top10Students = students.apply(Top.of(10, new CompareStudentsByAvgGrade()));\r\n\r\nAnd [here][4] another example using the Apache Beam Python SDK, which works around the fact that a single element is returned in the *PCollection*.\r\n\r\n\r\n  [1]: https://beam.apache.org/documentation/sdks/javadoc/2.4.0/org/apache/beam/sdk/transforms/Top.html\r\n  [2]: https://beam.apache.org/documentation/sdks/pydoc/2.4.0/apache_beam.transforms.combiners.html?highlight=top#apache_beam.transforms.combiners.Top.Of\r\n  [3]: https://beam.apache.org/documentation/sdks/javadoc/2.4.0/org/apache/beam/sdk/transforms/Top.html#of-int-ComparatorT-\r\n  [4]: https://stackoverflow.com/a/40370679/4482491","title":"Dataflow/ApacheBeam Limit input to the first X amount?","body":"<p>As explained by @Andrew in his comments, maybe you can use the <code>Top</code> transform in Apache Beam (for <a href=\"https://beam.apache.org/documentation/sdks/javadoc/2.4.0/org/apache/beam/sdk/transforms/Top.html\" rel=\"nofollow noreferrer\">Java</a> or for <a href=\"https://beam.apache.org/documentation/sdks/pydoc/2.4.0/apache_beam.transforms.combiners.html?highlight=top#apache_beam.transforms.combiners.Top.Of\" rel=\"nofollow noreferrer\">Python</a>). Specifically, the <code>Top.of()</code> function returns a <em>PTransform</em> with a <em>PCollection</em>, ordered by a comparator transform.</p>\n\n<p><a href=\"https://beam.apache.org/documentation/sdks/javadoc/2.4.0/org/apache/beam/sdk/transforms/Top.html#of-int-ComparatorT-\" rel=\"nofollow noreferrer\">Here</a> you can find a simple example of use:</p>\n\n<pre><code>PCollection&lt;Student&gt; students = ...;\nPCollection&lt;List&lt;Student&gt;&gt; top10Students = students.apply(Top.of(10, new CompareStudentsByAvgGrade()));\n</code></pre>\n\n<p>And <a href=\"https://stackoverflow.com/a/40370679/4482491\">here</a> another example using the Apache Beam Python SDK, which works around the fact that a single element is returned in the <em>PCollection</em>.</p>\n"},{"tags":[],"owner":{"account_id":1029904,"reputation":4128,"user_id":1100654,"accept_rate":40,"display_name":"countunique"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616637722,"creation_date":1616637722,"answer_id":66792026,"question_id":49579110,"body_markdown":"For a random sample of X elements, you can use the built-in Sample transform (for [Python](https://beam.apache.org/releases/pydoc/2.28.0/apache_beam.transforms.combiners.html#apache_beam.transforms.combiners.Sample) or [Java](https://beam.apache.org/releases/javadoc/2.6.0/org/apache/beam/sdk/transforms/Sample.html)).\r\n\r\nHere is an example that shows how to sample 10 elements from an example input of 100 elements:\r\n```\r\nimport apache_beam as beam\r\nfrom apache_beam.transforms.combiners import Sample\r\n\r\nwith beam.Pipeline(runner=&#39;DirectRunner&#39;) as p:\r\n    input = p | beam.Create(range(100))\r\n    output = input | Sample.FixedSizeGlobally(10)\r\n    output | beam.io.WriteToText(&#39;output&#39;)\r\n```\r\n","title":"Dataflow/ApacheBeam Limit input to the first X amount?","body":"<p>For a random sample of X elements, you can use the built-in Sample transform (for <a href=\"https://beam.apache.org/releases/pydoc/2.28.0/apache_beam.transforms.combiners.html#apache_beam.transforms.combiners.Sample\" rel=\"nofollow noreferrer\">Python</a> or <a href=\"https://beam.apache.org/releases/javadoc/2.6.0/org/apache/beam/sdk/transforms/Sample.html\" rel=\"nofollow noreferrer\">Java</a>).</p>\n<p>Here is an example that shows how to sample 10 elements from an example input of 100 elements:</p>\n<pre><code>import apache_beam as beam\nfrom apache_beam.transforms.combiners import Sample\n\nwith beam.Pipeline(runner='DirectRunner') as p:\n    input = p | beam.Create(range(100))\n    output = input | Sample.FixedSizeGlobally(10)\n    output | beam.io.WriteToText('output')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2336026,"reputation":1551,"user_id":2048353,"accept_rate":62,"display_name":"happyhuman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684260042,"creation_date":1684260042,"answer_id":76265924,"question_id":49579110,"body_markdown":"If you don&#39;t care about the order and just want a sample of N items, then I think you should be able to use `beam.combiners.Sample.FixedSizeGlobally` as described here: https://beam.apache.org/documentation/transforms/python/aggregation/sample/","title":"Dataflow/ApacheBeam Limit input to the first X amount?","body":"<p>If you don't care about the order and just want a sample of N items, then I think you should be able to use <code>beam.combiners.Sample.FixedSizeGlobally</code> as described here: <a href=\"https://beam.apache.org/documentation/transforms/python/aggregation/sample/\" rel=\"nofollow noreferrer\">https://beam.apache.org/documentation/transforms/python/aggregation/sample/</a></p>\n"}],"owner":{"account_id":5148441,"reputation":699,"user_id":4123678,"accept_rate":100,"display_name":"shockawave123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2329,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1684260042,"creation_date":1522432626,"question_id":49579110,"body_markdown":"I have a bounded PCollection but i only want to get the first X amount of inputs and discard the rest. Is there a way to do this using Dataflow 2.X/ApacheBeam?","title":"Dataflow/ApacheBeam Limit input to the first X amount?","body":"<p>I have a bounded PCollection but i only want to get the first X amount of inputs and discard the rest. Is there a way to do this using Dataflow 2.X/ApacheBeam?</p>\n"},{"tags":["java","spring","spring-boot","cookies","samesite"],"answers":[{"tags":[],"owner":{"account_id":1442180,"reputation":3180,"user_id":3295987,"accept_rate":64,"display_name":"Hemant Patel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1600351285,"creation_date":1600351285,"answer_id":63939775,"question_id":63939078,"body_markdown":"I was in same situation earlier. Since there is nothing like `SameSite` in `javax.servlet.http.Cookie` class so it&#39;s not possible to add that.\r\n\r\n**Part 1:** So what I did is wrote a filter which intercepts the required third party request only.\r\n\r\n    public class CustomFilter implements Filter {\r\n    \r\n        private static final String THIRD_PARTY_URI = &quot;/third/party/uri&quot;;\r\n    \r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\r\n            HttpServletRequest request = (HttpServletRequest) req;\r\n            HttpServletResponse response = (HttpServletResponse) res;\r\n            if(THIRD_PARTY_URI.equals(request.getRequestURI())) {\r\n                chain.doFilter(request, new CustomHttpServletResponseWrapper(response));\r\n            } else {\r\n                chain.doFilter(request, response);\r\n            }\r\n        }\r\n    enter code here\r\n        // ... init destroy methods here\r\n        \r\n    }\r\n \r\n**Part 2:** Cookies are sent as `Set-Cookie` response header. So this `CustomHttpServletResponseWrapper` overrides the `addCookie` method and check, if it is the required cookie (`JSESSIONID`), instead of adding it to cookie, it adds directly to response header `Set-Cookie` with `SameSite=None` attribute.\r\n\r\n    public class CustomHttpServletResponseWrapper extends HttpServletResponseWrapper {\r\n\r\n        public CustomHttpServletResponseWrapper(HttpServletResponse response) {\r\n            super(response);\r\n        }\r\n\r\n        @Override\r\n        public void addCookie(Cookie cookie) {\r\n            if (&quot;JSESSIONID&quot;.equals(cookie.getName())) {\r\n                super.addHeader(&quot;Set-Cookie&quot;, getCookieValue(cookie));\r\n            } else {\r\n                super.addCookie(cookie);\r\n            }\r\n        }\r\n\r\n        private String getCookieValue(Cookie cookie) {\r\n\r\n            StringBuilder builder = new StringBuilder();\r\n            builder.append(cookie.getName()).append(&#39;=&#39;).append(cookie.getValue());\r\n            builder.append(&quot;;Path=&quot;).append(cookie.getPath());\r\n            if (cookie.isHttpOnly()) {\r\n                builder.append(&quot;;HttpOnly&quot;);\r\n            }\r\n            if (cookie.getSecure()) {\r\n                builder.append(&quot;;Secure&quot;);\r\n            }\r\n            // here you can append other attributes like domain / max-age etc.\r\n            builder.append(&quot;;SameSite=None&quot;);\r\n            return builder.toString();\r\n        }\r\n    }","title":"How to set SameSite and Secure attribute to JSESSIONID cookie","body":"<p>I was in same situation earlier. Since there is nothing like <code>SameSite</code> in <code>javax.servlet.http.Cookie</code> class so it's not possible to add that.</p>\n<p><strong>Part 1:</strong> So what I did is wrote a filter which intercepts the required third party request only.</p>\n<pre><code>public class CustomFilter implements Filter {\n\n    private static final String THIRD_PARTY_URI = &quot;/third/party/uri&quot;;\n\n\n    @Override\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException {\n        HttpServletRequest request = (HttpServletRequest) req;\n        HttpServletResponse response = (HttpServletResponse) res;\n        if(THIRD_PARTY_URI.equals(request.getRequestURI())) {\n            chain.doFilter(request, new CustomHttpServletResponseWrapper(response));\n        } else {\n            chain.doFilter(request, response);\n        }\n    }\nenter code here\n    // ... init destroy methods here\n    \n}\n</code></pre>\n<p><strong>Part 2:</strong> Cookies are sent as <code>Set-Cookie</code> response header. So this <code>CustomHttpServletResponseWrapper</code> overrides the <code>addCookie</code> method and check, if it is the required cookie (<code>JSESSIONID</code>), instead of adding it to cookie, it adds directly to response header <code>Set-Cookie</code> with <code>SameSite=None</code> attribute.</p>\n<pre><code>public class CustomHttpServletResponseWrapper extends HttpServletResponseWrapper {\n\n    public CustomHttpServletResponseWrapper(HttpServletResponse response) {\n        super(response);\n    }\n\n    @Override\n    public void addCookie(Cookie cookie) {\n        if (&quot;JSESSIONID&quot;.equals(cookie.getName())) {\n            super.addHeader(&quot;Set-Cookie&quot;, getCookieValue(cookie));\n        } else {\n            super.addCookie(cookie);\n        }\n    }\n\n    private String getCookieValue(Cookie cookie) {\n\n        StringBuilder builder = new StringBuilder();\n        builder.append(cookie.getName()).append('=').append(cookie.getValue());\n        builder.append(&quot;;Path=&quot;).append(cookie.getPath());\n        if (cookie.isHttpOnly()) {\n            builder.append(&quot;;HttpOnly&quot;);\n        }\n        if (cookie.getSecure()) {\n            builder.append(&quot;;Secure&quot;);\n        }\n        // here you can append other attributes like domain / max-age etc.\n        builder.append(&quot;;SameSite=None&quot;);\n        return builder.toString();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5582102,"reputation":1071,"user_id":4423695,"display_name":"ThilankaD"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1625588214,"creation_date":1603813779,"answer_id":64558083,"question_id":63939078,"body_markdown":"---\r\n***UPDATE** on 06/07/2021 - Added correct `Path` attribute with new sameSite attributes to avoid session cookie duplication with `GenericFilterBean` approach.*\r\n\r\n---\r\nI was able to come up with my own solution for this.\r\n\r\nI have two kinds of applications which run on Spring boot which has different Spring security configurations and they needed different solutions to fix this. \r\n\r\n**CASE 1: No user authentication**\r\n\r\n**Solution 1**\r\n\r\nIn here you might have created an endpoint for the 3rd party response, in your application. You are safe until you access httpSession in a controller method. If you are accessing session in different controller method then send a temporary redirect request to there like follows.\r\n\r\n    @Controller\r\n    public class ThirdPartyResponseController{\r\n\r\n    @RequestMapping(value=3rd_party_response_URL, method=RequestMethod.POST)\r\n    public void thirdPartyresponse(HttpServletRequest request, HttpServletResponse httpServletResponse){\r\n        // your logic\r\n        // and you can set any data as an session attribute which you want to access over the 2nd controller \r\n        request.getSession().setAttribute(&lt;data&gt;)\r\n        try {\r\n            httpServletResponse.sendRedirect(&lt;redirect_URL&gt;);\r\n        } catch (IOException e) {\r\n            // handle error\r\n        }\r\n    }\r\n\r\n    @RequestMapping(value=redirect_URL, method=RequestMethod.GET)\r\n    public String thirdPartyresponse(HttpServletRequest request,  HttpServletResponse httpServletResponse, Model model,  RedirectAttributes redirectAttributes, HttpSession session){\r\n        // your logic\r\n            return &lt;to_view&gt;;\r\n        }\r\n    }\r\n\r\nStill, you need to allow the 3rd_party_response_url in your security configuration. \r\n\r\n**Solution 2**\r\n\r\nYou can try the same `GenericFilterBean` approach described below.\r\n\r\n**Case 2: Users need to be authenticated/sign in**\r\n\r\nIn a Spring Web application where you have configured most of your security rules either through [HttpSecurity][1] or [WebSecurity][2], check this solution. \r\n\r\nSample security config which I have tested the solution:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.\r\n              ......\r\n              ..antMatchers(&lt;3rd_party_response_URL&gt;).permitAll();\r\n              .....\r\n              ..csrf().ignoringAntMatchers(&lt;3rd_party_response_URL&gt;);\r\n        }\r\n    }\r\n\r\nThe Important points which I want to highlight in this configuration are you should allow the 3rd party response URL from Spring Security and CSRF protection(if it&#39;s enabled).\r\n\r\nThen we need to create a HttpServletRequest Filter by extending [GenericFilterBean][3] class ([Filter][4] class did not work for me) and setting the `SameSite` Attributes to the `JSESSIONID` cookie by intercepting each `HttpServletRequest` and setting the response headers.\r\n\r\n    import org.apache.commons.lang3.StringUtils;\r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.web.filter.GenericFilterBean;\r\n    \r\n    import javax.servlet.FilterChain;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.ServletRequest;\r\n    import javax.servlet.ServletResponse;\r\n    import javax.servlet.http.Cookie;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.io.IOException;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public class SessionCookieFilter extends GenericFilterBean {\r\n    \r\n        private final List&lt;String&gt; PATHS_TO_IGNORE_SETTING_SAMESITE = Arrays.asList(&quot;resources&quot;, &lt;add other paths you want to exclude&gt;);\r\n        private final String SESSION_COOKIE_NAME = &quot;JSESSIONID&quot;;\r\n        private final String SESSION_PATH_ATTRIBUTE = &quot;;Path=&quot;;\r\n        private final String ROOT_CONTEXT = &quot;/&quot;;\r\n        private final String SAME_SITE_ATTRIBUTE_VALUES = &quot;;HttpOnly;Secure;SameSite=None&quot;;\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n            HttpServletRequest req = (HttpServletRequest) request;\r\n            HttpServletResponse resp = (HttpServletResponse) response;\r\n            String requestUrl = req.getRequestURL().toString();\r\n            boolean isResourceRequest = requestUrl != null ? StringUtils.isNoneBlank(PATHS_TO_IGNORE_SETTING_SAMESITE.stream().filter(s -&gt; requestUrl.contains(s)).findFirst().orElse(null)) : null;\r\n            if (!isResourceRequest) {\r\n                Cookie[] cookies = ((HttpServletRequest) request).getCookies();\r\n                if (cookies != null &amp;&amp; cookies.length &gt; 0) {\r\n                    List&lt;Cookie&gt; cookieList = Arrays.asList(cookies);\r\n                    Cookie sessionCookie = cookieList.stream().filter(cookie -&gt; SESSION_COOKIE_NAME.equals(cookie.getName())).findFirst().orElse(null);\r\n                    if (sessionCookie != null) {\r\n                        String contextPath = request.getServletContext() != null &amp;&amp; StringUtils.isNotBlank(request.getServletContext().getContextPath()) ? request.getServletContext().getContextPath() : ROOT_CONTEXT;\r\n                        resp.setHeader(HttpHeaders.SET_COOKIE, sessionCookie.getName() + &quot;=&quot; + sessionCookie.getValue() + SESSION_PATH_ATTRIBUTE + contextPath + SAME_SITE_ATTRIBUTE_VALUES);\r\n                    }\r\n                }\r\n            }\r\n            chain.doFilter(request, response);\r\n        }\r\n    }\r\n\r\nThen add this filter to the Spring Security filter chain by \r\n\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n            http.\r\n               ....\r\n               .addFilterAfter(new SessionCookieFilter(), BasicAuthenticationFilter.class);\r\n    }\r\n\r\nin order to determine where you need to place the new filter in Spring’s security filter chain, you can [debug](https://docs.spring.io/spring-security/site/docs/4.0.x/apidocs/org/springframework/security/config/annotation/web/configuration/EnableWebSecurity.html#debug--) the Spring security filter chain easily and identify a proper location in the filter chain. Apart from the `BasicAuthenticationFilter`, after the [SecurityContextPersistanceFilter](https://docs.spring.io/spring-security/site/docs/3.2.8.RELEASE/apidocs/org/springframework/security/web/context/SecurityContextPersistenceFilter.html) would be an another ideal place.\r\n\r\nThis `SameSite` cookie attribute will not support some [old browser versions][5] and in that case, check the browser and avoid setting `SameSite` in incompatible clients.\r\n\r\n   \r\n\r\n    private static final String _I_PHONE_IOS_12 = &quot;iPhone OS 12_&quot;;\r\n        private static final String _I_PAD_IOS_12 = &quot;iPad; CPU OS 12_&quot;;\r\n        private static final String _MAC_OS_10_14 = &quot; OS X 10_14_&quot;;\r\n        private static final String _VERSION = &quot;Version/&quot;;\r\n        private static final String _SAFARI = &quot;Safari&quot;;\r\n        private static final String _EMBED_SAFARI = &quot;(KHTML, like Gecko)&quot;;\r\n        private static final String _CHROME = &quot;Chrome/&quot;;\r\n        private static final String _CHROMIUM = &quot;Chromium/&quot;;\r\n        private static final String _UC_BROWSER = &quot;UCBrowser/&quot;;\r\n        private static final String _ANDROID = &quot;Android&quot;;\r\n    \r\n        /*\r\n         * checks SameSite=None;Secure incompatible Browsers\r\n         * https://www.chromium.org/updates/same-site/incompatible-clients\r\n         */\r\n        public static boolean isSameSiteInCompatibleClient(HttpServletRequest request) {\r\n            String userAgent = request.getHeader(&quot;user-agent&quot;);\r\n            if (StringUtils.isNotBlank(userAgent)) {\r\n                boolean isIos12 = isIos12(userAgent), isMacOs1014 = isMacOs1014(userAgent), isChromeChromium51To66 = isChromeChromium51To66(userAgent), isUcBrowser = isUcBrowser(userAgent);\r\n                //TODO : Added for testing purpose. remove before Prod release.\r\n                LOG.info(&quot;*********************************************************************************&quot;);\r\n                LOG.info(&quot;is iOS 12 = {}, is MacOs 10.14 = {}, is Chrome 51-66 = {}, is Android UC Browser = {}&quot;, isIos12, isMacOs1014, isChromeChromium51To66, isUcBrowser);\r\n                LOG.info(&quot;*********************************************************************************&quot;);\r\n                return isIos12 || isMacOs1014 || isChromeChromium51To66 || isUcBrowser;\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        private static boolean isIos12(String userAgent) {\r\n            return StringUtils.contains(userAgent, _I_PHONE_IOS_12) || StringUtils.contains(userAgent, _I_PAD_IOS_12);\r\n        }\r\n    \r\n        private static boolean isMacOs1014(String userAgent) {\r\n            return StringUtils.contains(userAgent, _MAC_OS_10_14)\r\n                &amp;&amp; ((StringUtils.contains(userAgent, _VERSION) &amp;&amp; StringUtils.contains(userAgent, _SAFARI))  //Safari on MacOS 10.14\r\n                || StringUtils.contains(userAgent, _EMBED_SAFARI)); // Embedded browser on MacOS 10.14\r\n        }\r\n    \r\n        private static boolean isChromeChromium51To66(String userAgent) {\r\n            boolean isChrome = StringUtils.contains(userAgent, _CHROME), isChromium = StringUtils.contains(userAgent, _CHROMIUM);\r\n            if (isChrome || isChromium) {\r\n                int version = isChrome ? Integer.valueOf(StringUtils.substringAfter(userAgent, _CHROME).substring(0, 2))\r\n                    : Integer.valueOf(StringUtils.substringAfter(userAgent, _CHROMIUM).substring(0, 2));\r\n                return ((version &gt;= 51) &amp;&amp; (version &lt;= 66));    //Chrome or Chromium V51-66\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        private static boolean isUcBrowser(String userAgent) {\r\n            if (StringUtils.contains(userAgent, _UC_BROWSER) &amp;&amp; StringUtils.contains(userAgent, _ANDROID)) {\r\n                String[] version = StringUtils.splitByWholeSeparator(StringUtils.substringAfter(userAgent, _UC_BROWSER).substring(0, 7), &quot;.&quot;);\r\n                int major = Integer.valueOf(version[0]), minor = Integer.valueOf(version[1]), build = Integer.valueOf(version[2]);\r\n                return ((major != 0) &amp;&amp; ((major &lt; 12) || (major == 12 &amp;&amp; (minor &lt; 13)) || (major == 12 &amp;&amp; minor == 13 &amp;&amp; (build &lt; 2)))); //UC browser below v12.13.2 in android\r\n            }\r\n            return false;\r\n        }\r\n\r\nAdd above check in SessionCookieFilter like follows, \r\n\r\n    if (!isResourceRequest &amp;&amp; !UserAgentUtils.isSameSiteInCompatibleClient(req)) {\r\n\r\nThis filter won&#39;t work in localhost environments as it requires a Secured(HTTPS) connection to set `Secure` cookie attribute.\r\n\r\nFor a detailed explanation read this [blog post][6].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/builders/HttpSecurity.html\r\n  [2]: https://docs.spring.io/spring-security/site/docs/4.2.15.RELEASE/apidocs/org/springframework/security/config/annotation/web/builders/WebSecurity.html\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/filter/GenericFilterBean.html\r\n  [4]: https://docs.oracle.com/javaee/7/api/javax/servlet/Filter.html?is-external=true\r\n  [5]: https://www.chromium.org/updates/same-site/incompatible-clients\r\n  [6]: https://thilankadeshan.wordpress.com/2020/11/09/jsession-new-samesite-cookie-policy-in-google-chrome-and-spring/","title":"How to set SameSite and Secure attribute to JSESSIONID cookie","body":"<hr />\n<p><em><strong>UPDATE</strong> on 06/07/2021 - Added correct <code>Path</code> attribute with new sameSite attributes to avoid session cookie duplication with <code>GenericFilterBean</code> approach.</em></p>\n<hr />\n<p>I was able to come up with my own solution for this.</p>\n<p>I have two kinds of applications which run on Spring boot which has different Spring security configurations and they needed different solutions to fix this.</p>\n<p><strong>CASE 1: No user authentication</strong></p>\n<p><strong>Solution 1</strong></p>\n<p>In here you might have created an endpoint for the 3rd party response, in your application. You are safe until you access httpSession in a controller method. If you are accessing session in different controller method then send a temporary redirect request to there like follows.</p>\n<pre><code>@Controller\npublic class ThirdPartyResponseController{\n\n@RequestMapping(value=3rd_party_response_URL, method=RequestMethod.POST)\npublic void thirdPartyresponse(HttpServletRequest request, HttpServletResponse httpServletResponse){\n    // your logic\n    // and you can set any data as an session attribute which you want to access over the 2nd controller \n    request.getSession().setAttribute(&lt;data&gt;)\n    try {\n        httpServletResponse.sendRedirect(&lt;redirect_URL&gt;);\n    } catch (IOException e) {\n        // handle error\n    }\n}\n\n@RequestMapping(value=redirect_URL, method=RequestMethod.GET)\npublic String thirdPartyresponse(HttpServletRequest request,  HttpServletResponse httpServletResponse, Model model,  RedirectAttributes redirectAttributes, HttpSession session){\n    // your logic\n        return &lt;to_view&gt;;\n    }\n}\n</code></pre>\n<p>Still, you need to allow the 3rd_party_response_url in your security configuration.</p>\n<p><strong>Solution 2</strong></p>\n<p>You can try the same <code>GenericFilterBean</code> approach described below.</p>\n<p><strong>Case 2: Users need to be authenticated/sign in</strong></p>\n<p>In a Spring Web application where you have configured most of your security rules either through <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/builders/HttpSecurity.html\" rel=\"noreferrer\">HttpSecurity</a> or <a href=\"https://docs.spring.io/spring-security/site/docs/4.2.15.RELEASE/apidocs/org/springframework/security/config/annotation/web/builders/WebSecurity.html\" rel=\"noreferrer\">WebSecurity</a>, check this solution.</p>\n<p>Sample security config which I have tested the solution:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.\n          ......\n          ..antMatchers(&lt;3rd_party_response_URL&gt;).permitAll();\n          .....\n          ..csrf().ignoringAntMatchers(&lt;3rd_party_response_URL&gt;);\n    }\n}\n</code></pre>\n<p>The Important points which I want to highlight in this configuration are you should allow the 3rd party response URL from Spring Security and CSRF protection(if it's enabled).</p>\n<p>Then we need to create a HttpServletRequest Filter by extending <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/filter/GenericFilterBean.html\" rel=\"noreferrer\">GenericFilterBean</a> class (<a href=\"https://docs.oracle.com/javaee/7/api/javax/servlet/Filter.html?is-external=true\" rel=\"noreferrer\">Filter</a> class did not work for me) and setting the <code>SameSite</code> Attributes to the <code>JSESSIONID</code> cookie by intercepting each <code>HttpServletRequest</code> and setting the response headers.</p>\n<pre><code>import org.apache.commons.lang3.StringUtils;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.web.filter.GenericFilterBean;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletRequest;\nimport javax.servlet.ServletResponse;\nimport javax.servlet.http.Cookie;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class SessionCookieFilter extends GenericFilterBean {\n\n    private final List&lt;String&gt; PATHS_TO_IGNORE_SETTING_SAMESITE = Arrays.asList(&quot;resources&quot;, &lt;add other paths you want to exclude&gt;);\n    private final String SESSION_COOKIE_NAME = &quot;JSESSIONID&quot;;\n    private final String SESSION_PATH_ATTRIBUTE = &quot;;Path=&quot;;\n    private final String ROOT_CONTEXT = &quot;/&quot;;\n    private final String SAME_SITE_ATTRIBUTE_VALUES = &quot;;HttpOnly;Secure;SameSite=None&quot;;\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n        HttpServletRequest req = (HttpServletRequest) request;\n        HttpServletResponse resp = (HttpServletResponse) response;\n        String requestUrl = req.getRequestURL().toString();\n        boolean isResourceRequest = requestUrl != null ? StringUtils.isNoneBlank(PATHS_TO_IGNORE_SETTING_SAMESITE.stream().filter(s -&gt; requestUrl.contains(s)).findFirst().orElse(null)) : null;\n        if (!isResourceRequest) {\n            Cookie[] cookies = ((HttpServletRequest) request).getCookies();\n            if (cookies != null &amp;&amp; cookies.length &gt; 0) {\n                List&lt;Cookie&gt; cookieList = Arrays.asList(cookies);\n                Cookie sessionCookie = cookieList.stream().filter(cookie -&gt; SESSION_COOKIE_NAME.equals(cookie.getName())).findFirst().orElse(null);\n                if (sessionCookie != null) {\n                    String contextPath = request.getServletContext() != null &amp;&amp; StringUtils.isNotBlank(request.getServletContext().getContextPath()) ? request.getServletContext().getContextPath() : ROOT_CONTEXT;\n                    resp.setHeader(HttpHeaders.SET_COOKIE, sessionCookie.getName() + &quot;=&quot; + sessionCookie.getValue() + SESSION_PATH_ATTRIBUTE + contextPath + SAME_SITE_ATTRIBUTE_VALUES);\n                }\n            }\n        }\n        chain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>Then add this filter to the Spring Security filter chain by</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n        http.\n           ....\n           .addFilterAfter(new SessionCookieFilter(), BasicAuthenticationFilter.class);\n}\n</code></pre>\n<p>in order to determine where you need to place the new filter in Spring’s security filter chain, you can <a href=\"https://docs.spring.io/spring-security/site/docs/4.0.x/apidocs/org/springframework/security/config/annotation/web/configuration/EnableWebSecurity.html#debug--\" rel=\"noreferrer\">debug</a> the Spring security filter chain easily and identify a proper location in the filter chain. Apart from the <code>BasicAuthenticationFilter</code>, after the <a href=\"https://docs.spring.io/spring-security/site/docs/3.2.8.RELEASE/apidocs/org/springframework/security/web/context/SecurityContextPersistenceFilter.html\" rel=\"noreferrer\">SecurityContextPersistanceFilter</a> would be an another ideal place.</p>\n<p>This <code>SameSite</code> cookie attribute will not support some <a href=\"https://www.chromium.org/updates/same-site/incompatible-clients\" rel=\"noreferrer\">old browser versions</a> and in that case, check the browser and avoid setting <code>SameSite</code> in incompatible clients.</p>\n<pre><code>private static final String _I_PHONE_IOS_12 = &quot;iPhone OS 12_&quot;;\n    private static final String _I_PAD_IOS_12 = &quot;iPad; CPU OS 12_&quot;;\n    private static final String _MAC_OS_10_14 = &quot; OS X 10_14_&quot;;\n    private static final String _VERSION = &quot;Version/&quot;;\n    private static final String _SAFARI = &quot;Safari&quot;;\n    private static final String _EMBED_SAFARI = &quot;(KHTML, like Gecko)&quot;;\n    private static final String _CHROME = &quot;Chrome/&quot;;\n    private static final String _CHROMIUM = &quot;Chromium/&quot;;\n    private static final String _UC_BROWSER = &quot;UCBrowser/&quot;;\n    private static final String _ANDROID = &quot;Android&quot;;\n\n    /*\n     * checks SameSite=None;Secure incompatible Browsers\n     * https://www.chromium.org/updates/same-site/incompatible-clients\n     */\n    public static boolean isSameSiteInCompatibleClient(HttpServletRequest request) {\n        String userAgent = request.getHeader(&quot;user-agent&quot;);\n        if (StringUtils.isNotBlank(userAgent)) {\n            boolean isIos12 = isIos12(userAgent), isMacOs1014 = isMacOs1014(userAgent), isChromeChromium51To66 = isChromeChromium51To66(userAgent), isUcBrowser = isUcBrowser(userAgent);\n            //TODO : Added for testing purpose. remove before Prod release.\n            LOG.info(&quot;*********************************************************************************&quot;);\n            LOG.info(&quot;is iOS 12 = {}, is MacOs 10.14 = {}, is Chrome 51-66 = {}, is Android UC Browser = {}&quot;, isIos12, isMacOs1014, isChromeChromium51To66, isUcBrowser);\n            LOG.info(&quot;*********************************************************************************&quot;);\n            return isIos12 || isMacOs1014 || isChromeChromium51To66 || isUcBrowser;\n        }\n        return false;\n    }\n\n    private static boolean isIos12(String userAgent) {\n        return StringUtils.contains(userAgent, _I_PHONE_IOS_12) || StringUtils.contains(userAgent, _I_PAD_IOS_12);\n    }\n\n    private static boolean isMacOs1014(String userAgent) {\n        return StringUtils.contains(userAgent, _MAC_OS_10_14)\n            &amp;&amp; ((StringUtils.contains(userAgent, _VERSION) &amp;&amp; StringUtils.contains(userAgent, _SAFARI))  //Safari on MacOS 10.14\n            || StringUtils.contains(userAgent, _EMBED_SAFARI)); // Embedded browser on MacOS 10.14\n    }\n\n    private static boolean isChromeChromium51To66(String userAgent) {\n        boolean isChrome = StringUtils.contains(userAgent, _CHROME), isChromium = StringUtils.contains(userAgent, _CHROMIUM);\n        if (isChrome || isChromium) {\n            int version = isChrome ? Integer.valueOf(StringUtils.substringAfter(userAgent, _CHROME).substring(0, 2))\n                : Integer.valueOf(StringUtils.substringAfter(userAgent, _CHROMIUM).substring(0, 2));\n            return ((version &gt;= 51) &amp;&amp; (version &lt;= 66));    //Chrome or Chromium V51-66\n        }\n        return false;\n    }\n\n    private static boolean isUcBrowser(String userAgent) {\n        if (StringUtils.contains(userAgent, _UC_BROWSER) &amp;&amp; StringUtils.contains(userAgent, _ANDROID)) {\n            String[] version = StringUtils.splitByWholeSeparator(StringUtils.substringAfter(userAgent, _UC_BROWSER).substring(0, 7), &quot;.&quot;);\n            int major = Integer.valueOf(version[0]), minor = Integer.valueOf(version[1]), build = Integer.valueOf(version[2]);\n            return ((major != 0) &amp;&amp; ((major &lt; 12) || (major == 12 &amp;&amp; (minor &lt; 13)) || (major == 12 &amp;&amp; minor == 13 &amp;&amp; (build &lt; 2)))); //UC browser below v12.13.2 in android\n        }\n        return false;\n    }\n</code></pre>\n<p>Add above check in SessionCookieFilter like follows,</p>\n<pre><code>if (!isResourceRequest &amp;&amp; !UserAgentUtils.isSameSiteInCompatibleClient(req)) {\n</code></pre>\n<p>This filter won't work in localhost environments as it requires a Secured(HTTPS) connection to set <code>Secure</code> cookie attribute.</p>\n<p>For a detailed explanation read this <a href=\"https://thilankadeshan.wordpress.com/2020/11/09/jsession-new-samesite-cookie-policy-in-google-chrome-and-spring/\" rel=\"noreferrer\">blog post</a>.</p>\n"},{"tags":[],"owner":{"account_id":6734,"reputation":3954,"user_id":11451,"accept_rate":82,"display_name":"Kristof Neirynck"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645030234,"creation_date":1645029224,"answer_id":71145687,"question_id":63939078,"body_markdown":"As mentioned in this answer:\r\nhttps://stackoverflow.com/questions/42998367/same-site-flag-for-session-cookie-in-spring-security\r\n\r\n\t@Configuration\r\n\tpublic static class WebConfig implements WebMvcConfigurer {\r\n\t\t@Bean\r\n\t\tpublic TomcatContextCustomizer sameSiteCookiesConfig() {\r\n\t\t\treturn context -&gt; {\r\n\t\t\t\tfinal Rfc6265CookieProcessor cookieProcessor = new Rfc6265CookieProcessor();\r\n\t\t\t\tcookieProcessor.setSameSiteCookies(SameSiteCookies.NONE.getValue());\r\n\t\t\t\tcontext.setCookieProcessor(cookieProcessor);\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\nbut this seems even simpler\r\n\r\n\t@Configuration\r\n\tpublic static class WebConfig implements WebMvcConfigurer {\r\n\t\t@Bean\r\n\t\tpublic CookieSameSiteSupplier cookieSameSiteSupplier(){\r\n\t\t\treturn CookieSameSiteSupplier.ofNone();\r\n\t\t}\r\n\t}\r\n\r\nOr ... even simpler, spring boot since 2.6.0 supports setting it in application.properties.\r\n\r\n[Spring documentation about SameSite Cookies][1]\r\n\r\n    server.servlet.session.cookie.same-site = none\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.6.0/reference/html/web.html#web.servlet.embedded-container.customizing.samesite","title":"How to set SameSite and Secure attribute to JSESSIONID cookie","body":"<p>As mentioned in this answer:\n<a href=\"https://stackoverflow.com/questions/42998367/same-site-flag-for-session-cookie-in-spring-security\">Same-Site flag for session cookie in Spring Security</a></p>\n<pre><code>@Configuration\npublic static class WebConfig implements WebMvcConfigurer {\n    @Bean\n    public TomcatContextCustomizer sameSiteCookiesConfig() {\n        return context -&gt; {\n            final Rfc6265CookieProcessor cookieProcessor = new Rfc6265CookieProcessor();\n            cookieProcessor.setSameSiteCookies(SameSiteCookies.NONE.getValue());\n            context.setCookieProcessor(cookieProcessor);\n        };\n    }\n}\n</code></pre>\n<p>but this seems even simpler</p>\n<pre><code>@Configuration\npublic static class WebConfig implements WebMvcConfigurer {\n    @Bean\n    public CookieSameSiteSupplier cookieSameSiteSupplier(){\n        return CookieSameSiteSupplier.ofNone();\n    }\n}\n</code></pre>\n<p>Or ... even simpler, spring boot since 2.6.0 supports setting it in application.properties.</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/2.6.0/reference/html/web.html#web.servlet.embedded-container.customizing.samesite\" rel=\"nofollow noreferrer\">Spring documentation about SameSite Cookies</a></p>\n<pre><code>server.servlet.session.cookie.same-site = none\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14676735,"reputation":139,"user_id":10599548,"display_name":"GioPoe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684259852,"creation_date":1684259852,"answer_id":76265901,"question_id":63939078,"body_markdown":"Adding to this chain for future devs, depending on the spring version, modifying the configuration via code (as seen in other replies) might only be modifying the embedded tomcat server. If your project is deployed in an existing Tomcat server, adding Samesite to JSessionid would be doable through context.xml. Although, there are several ways to set a context so check this reference to identify your scenario. \r\nhttps://octopus.com/blog/defining-tomcat-context-paths","title":"How to set SameSite and Secure attribute to JSESSIONID cookie","body":"<p>Adding to this chain for future devs, depending on the spring version, modifying the configuration via code (as seen in other replies) might only be modifying the embedded tomcat server. If your project is deployed in an existing Tomcat server, adding Samesite to JSessionid would be doable through context.xml. Although, there are several ways to set a context so check this reference to identify your scenario.\n<a href=\"https://octopus.com/blog/defining-tomcat-context-paths\" rel=\"nofollow noreferrer\">https://octopus.com/blog/defining-tomcat-context-paths</a></p>\n"}],"owner":{"account_id":5582102,"reputation":1071,"user_id":4423695,"display_name":"ThilankaD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39346,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":64558083,"answer_count":4,"score":14,"last_activity_date":1684259852,"creation_date":1600349168,"question_id":63939078,"body_markdown":"I have a Spring Boot Web Application (Spring boot version 2.0.3.RELEASE) and running in an Apache Tomcat 8.5.5 server.\r\n\r\nWith the recent security policy which has imposed by Google Chrome (Rolled out since 80.0), it is requested to apply the new `SameSite` attribute to make the Cross-site cookie access in a more secure way instead of the CSRF. As I have done nothing related that and Chrome has set default value `SameSite=Lax` for the first-party cookies, one of my third-party service integration is failing due to the reason that chrome is restricting access of cross-site cookies when `SameSite=Lax` and if the third party response is coming from a `POST` request (O*nce the procedure completes third-party service redirect to our site with a `POST` request*). in there Tomcat unable to find the session so it appends a new `JSESSIONID` (with a new session and the previous session was killed) at the end of the URL. So Spring rejects the URL as it contains a semicolon which was introduced by the new `JSESSIONID` append.\r\n\r\nSo I need to change the `JSESSIONID` cookie attributes(`SameSite=None; Secure`) and tried it in several ways including WebFilters.I have seen the same question and answers in Stackoverflow and tried most of them but ended up in nowhere.\r\n\r\ncan someone come up with a solution to change those headers in Spring Boot, please?","title":"How to set SameSite and Secure attribute to JSESSIONID cookie","body":"<p>I have a Spring Boot Web Application (Spring boot version 2.0.3.RELEASE) and running in an Apache Tomcat 8.5.5 server.</p>\n<p>With the recent security policy which has imposed by Google Chrome (Rolled out since 80.0), it is requested to apply the new <code>SameSite</code> attribute to make the Cross-site cookie access in a more secure way instead of the CSRF. As I have done nothing related that and Chrome has set default value <code>SameSite=Lax</code> for the first-party cookies, one of my third-party service integration is failing due to the reason that chrome is restricting access of cross-site cookies when <code>SameSite=Lax</code> and if the third party response is coming from a <code>POST</code> request (O<em>nce the procedure completes third-party service redirect to our site with a <code>POST</code> request</em>). in there Tomcat unable to find the session so it appends a new <code>JSESSIONID</code> (with a new session and the previous session was killed) at the end of the URL. So Spring rejects the URL as it contains a semicolon which was introduced by the new <code>JSESSIONID</code> append.</p>\n<p>So I need to change the <code>JSESSIONID</code> cookie attributes(<code>SameSite=None; Secure</code>) and tried it in several ways including WebFilters.I have seen the same question and answers in Stackoverflow and tried most of them but ended up in nowhere.</p>\n<p>can someone come up with a solution to change those headers in Spring Boot, please?</p>\n"},{"tags":["java","vert.x"],"comments":[{"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"score":0,"creation_date":1684317801,"post_id":76265896,"comment_id":134499683,"body_markdown":"There&#39;s no other solution, the template handler is built to look for a template named after the relative http path","body":"There&#39;s no other solution, the template handler is built to look for a template named after the relative http path"}],"owner":{"account_id":23696452,"reputation":195,"user_id":17720111,"display_name":"Qori"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684259812,"creation_date":1684259812,"question_id":76265896,"body_markdown":"Given code below that handle GET request to `/article/:id`. If i make request to `/article/1` VertX would look for template file in `article/1.hbs` instead of `article.hbs`.\r\n\r\n```java\r\nTemplateEngine engine = HandlebarsTemplateEngine.create();\r\nTemplateHandler handler = TemplateHandler.create(engine);\r\n\r\nrouter.get(&quot;/article/:id&quot;).handler(handler);\r\n```\r\n\r\nHow do i reuse `article.hbs` with dynamic url without manually calling `engine.render()`?\r\n\r\nThis is my current solution by manually calling `engine.render()`\r\n\r\n```java\r\n    Handler&lt;RoutingContext&gt; render(String template) {\r\n\r\n        return (ctx) -&gt; {\r\n            engine.render(ctx.data(), &quot;templates/&quot; + template, res -&gt; {\r\n                if (res.succeeded()) {\r\n                    ctx.response().end(res.result());\r\n                } else {\r\n                    ctx.fail(res.cause());\r\n                }\r\n            });\r\n        };\r\n    }\r\n```\r\n\r\nis there any solution more elegant? like express&#39; `res.render()`?","title":"How to use VertX web template with dynamic url?","body":"<p>Given code below that handle GET request to <code>/article/:id</code>. If i make request to <code>/article/1</code> VertX would look for template file in <code>article/1.hbs</code> instead of <code>article.hbs</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>TemplateEngine engine = HandlebarsTemplateEngine.create();\nTemplateHandler handler = TemplateHandler.create(engine);\n\nrouter.get(&quot;/article/:id&quot;).handler(handler);\n</code></pre>\n<p>How do i reuse <code>article.hbs</code> with dynamic url without manually calling <code>engine.render()</code>?</p>\n<p>This is my current solution by manually calling <code>engine.render()</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    Handler&lt;RoutingContext&gt; render(String template) {\n\n        return (ctx) -&gt; {\n            engine.render(ctx.data(), &quot;templates/&quot; + template, res -&gt; {\n                if (res.succeeded()) {\n                    ctx.response().end(res.result());\n                } else {\n                    ctx.fail(res.cause());\n                }\n            });\n        };\n    }\n</code></pre>\n<p>is there any solution more elegant? like express' <code>res.render()</code>?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1683572040,"post_id":76203526,"comment_id":134384157,"body_markdown":"Using `echo %PATH%` and `where java` inside CMD window should tell you enough to work out what is wrong with your PATH setup. Make sure it does not contain oracle javapath or other JRE before your preferred JRE","body":"Using <code>echo %PATH%</code> and <code>where java</code> inside CMD window should tell you enough to work out what is wrong with your PATH setup. Make sure it does not contain oracle javapath or other JRE before your preferred JRE"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1683572090,"post_id":76203526,"comment_id":134384170,"body_markdown":"Is java on your path? I think you can do something like `set PATH=c:\\\\Program\\ Files\\\\Java\\\\JDK-20\\\\Java\\\\bin:%PATH%`","body":"Is java on your path? I think you can do something like <code>set PATH=c:\\\\Program\\ Files\\\\Java\\\\JDK-20\\\\Java\\\\bin:%PATH%</code>"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1683572173,"post_id":76203526,"comment_id":134384194,"body_markdown":"Is c:\\dev where you are trying to run your program from?","body":"Is c:\\dev where you are trying to run your program from?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1683572663,"post_id":76203526,"comment_id":134384301,"body_markdown":"* I think you can do something like set PATH=...*c:\\\\Program\\ Files\\\\Java\\\\JDK-20\\\\Java\\\\bin:%PATH% – \nmatt\n8 mins ago","body":"* I think you can do something like set PATH=...*c:\\\\Program\\ Files\\\\Java\\\\JDK-20\\\\Java\\\\bin:%PATH% –  matt 8 mins ago"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1683572703,"post_id":76203526,"comment_id":134384305,"body_markdown":"`c:\\Program files\\Java\\JDK-20\\Java\\bin` Are you sure about that? On my machine, `java.exe` is in this folder: `C:\\Program Files\\Java\\jdk-20\\bin`. I suggest that you post a screen capture of your _File Explorer_ showing the location of file `java.exe` See here: https://imgur.com/5M7pcom","body":"<code>c:\\Program files\\Java\\JDK-20\\Java\\bin</code> Are you sure about that? On my machine, <code>java.exe</code> is in this folder: <code>C:\\Program Files\\Java\\jdk-20\\bin</code>. I suggest that you post a screen capture of your <i>File Explorer</i> showing the location of file <code>java.exe</code> See here: <a href=\"https://imgur.com/5M7pcom\" rel=\"nofollow noreferrer\">imgur.com/5M7pcom</a>"},{"owner":{"account_id":931519,"reputation":2174,"user_id":961331,"accept_rate":88,"display_name":"DontPanic"},"score":0,"creation_date":1683731754,"post_id":76203526,"comment_id":134412498,"body_markdown":"I have posted the requested screen shot to my question,","body":"I have posted the requested screen shot to my question,"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1683781174,"post_id":76203526,"comment_id":134419707,"body_markdown":"I don&#39;t know what [environment variable] `JAVA_PATH` is. I don&#39;t think Java recognizes that variable. Open a command prompt window and enter the command `echo %PATH%` and see if folder `C:\\Program Files\\Java\\jdk-20\\bin` appears in the command output. If it doesn&#39;t, then you need to add it. How you add it depends on which Windows version you have. Do you have Windows 11? Also, which JDK did you install? Is it Oracle&#39;s?","body":"I don&#39;t know what [environment variable] <code>JAVA_PATH</code> is. I don&#39;t think Java recognizes that variable. Open a command prompt window and enter the command <code>echo %PATH%</code> and see if folder <code>C:\\Program Files\\Java\\jdk-20\\bin</code> appears in the command output. If it doesn&#39;t, then you need to add it. How you add it depends on which Windows version you have. Do you have Windows 11? Also, which JDK did you install? Is it Oracle&#39;s?"},{"owner":{"account_id":931519,"reputation":2174,"user_id":961331,"accept_rate":88,"display_name":"DontPanic"},"score":0,"creation_date":1684260126,"post_id":76203526,"comment_id":134491425,"body_markdown":"I have added screen shot of my PATH setting and YES, java.exe is on that path. I am trying to run &quot;java.exe  -version&quot; from different places. Should work, no? I am running Windows 10.","body":"I have added screen shot of my PATH setting and YES, java.exe is on that path. I am trying to run &quot;java.exe  -version&quot; from different places. Should work, no? I am running Windows 10."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683571897,"creation_date":1683571897,"answer_id":76203536,"question_id":76203526,"body_markdown":"You need to add `%JAVA_HOME%\\bin` to the PATH variable so the operating system can find the `java.exe` executable.\r\n","title":"How to run Java from command line?","body":"<p>You need to add <code>%JAVA_HOME%\\bin</code> to the PATH variable so the operating system can find the <code>java.exe</code> executable.</p>\n"}],"owner":{"account_id":931519,"reputation":2174,"user_id":961331,"accept_rate":88,"display_name":"DontPanic"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1684259535,"creation_date":1683571816,"question_id":76203526,"body_markdown":"I am trying to run java from the command line but having no luck. I have the Java JDK installed in  \r\n\r\n    c:\\Program files\\Java\\JDK-20\\  \r\nwith java.exe in  \r\n\r\n    c:\\Program files\\Java\\JDK-20\\Java\\bin\r\n\r\n\r\n\r\nand have put the above directory in my PATH. \r\nI have also set environment variables  \r\n\r\n      JAVA_HOME=c:\\Program Files\\Java\\JDK-20  \r\n      JAVA_PATH=c:\\Program Files\\Java\\JDK-20\\bin\\java.exe\r\n\r\n \r\n If I run &quot;java.exe -version&quot; from the above dir it appears to work OK: I get a dump of java info  \r\n  \r\n    java version &quot;20&quot; 2023-03-21\r\n    Java(TM) SE Runtime Environment (build 20+36-2344)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 20+36-2344, mixed mode, sharing)  \r\n\r\n  If I try to run that command from any other directory, I get the error  \r\n\r\n    Error: missing &#39;server&#39; JVM at &#39;c:\\dev\\bin\\server\\jvm.dll  \r\n    Please install or use the  JRE or JDK that contains these missing components  \r\n\r\n  **I&#39;m confused. What am I doing wrong?**\r\n\r\nBelow is an image of my JDK/bin directory and PATH:\r\n [![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IwmCv.jpg\r\n  [2]: https://i.stack.imgur.com/PP6YD.png","title":"How to run Java from command line?","body":"<p>I am trying to run java from the command line but having no luck. I have the Java JDK installed in</p>\n<pre><code>c:\\Program files\\Java\\JDK-20\\  \n</code></pre>\n<p>with java.exe in</p>\n<pre><code>c:\\Program files\\Java\\JDK-20\\Java\\bin\n</code></pre>\n<p>and have put the above directory in my PATH.\nI have also set environment variables</p>\n<pre><code>  JAVA_HOME=c:\\Program Files\\Java\\JDK-20  \n  JAVA_PATH=c:\\Program Files\\Java\\JDK-20\\bin\\java.exe\n</code></pre>\n<p>If I run &quot;java.exe -version&quot; from the above dir it appears to work OK: I get a dump of java info</p>\n<pre><code>java version &quot;20&quot; 2023-03-21\nJava(TM) SE Runtime Environment (build 20+36-2344)\nJava HotSpot(TM) 64-Bit Server VM (build 20+36-2344, mixed mode, sharing)  \n</code></pre>\n<p>If I try to run that command from any other directory, I get the error</p>\n<pre><code>Error: missing 'server' JVM at 'c:\\dev\\bin\\server\\jvm.dll  \nPlease install or use the  JRE or JDK that contains these missing components  \n</code></pre>\n<p><strong>I'm confused. What am I doing wrong?</strong></p>\n<p>Below is an image of my JDK/bin directory and PATH:\n<a href=\"https://i.stack.imgur.com/IwmCv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IwmCv.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/PP6YD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PP6YD.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":1,"creation_date":1676078044,"post_id":75407765,"comment_id":133071639,"body_markdown":"What are your dependencies? Did you read the migration guide? https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide","body":"What are your dependencies? Did you read the migration guide? <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a>"},{"owner":{"account_id":27750725,"reputation":81,"user_id":21185196,"display_name":"Davis"},"score":0,"creation_date":1676547139,"post_id":75407765,"comment_id":133160725,"body_markdown":"&lt;parent&gt;\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n\t&lt;/parent&gt;","body":"&lt;parent&gt; \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; \t\t&lt;version&gt;3.0.2&lt;/version&gt; \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt; \t&lt;/parent&gt;"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":1,"creation_date":1676550828,"post_id":75407765,"comment_id":133161797,"body_markdown":"This is not all dependencies, this a parent. Also, you need to provide your conf and the code throwing that if you expect an answer. Edit your question.","body":"This is not all dependencies, this a parent. Also, you need to provide your conf and the code throwing that if you expect an answer. Edit your question."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1677483763,"post_id":75407765,"comment_id":133339352,"body_markdown":"Looks like spring-security-oauth2-client version is not Spring Boot 3 compatible  - directly or via spring-boot-starter-oauth2-client. Needs to be v6. If you post your entire pom file we can investigate.","body":"Looks like spring-security-oauth2-client version is not Spring Boot 3 compatible  - directly or via spring-boot-starter-oauth2-client. Needs to be v6. If you post your entire pom file we can investigate."}],"answers":[{"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1681977712,"creation_date":1677480609,"answer_id":75577453,"question_id":75407765,"body_markdown":"You have made a major version jump, from `spring-boot` 2.X to `spring-boot` 3.X - you *must* expect that there will be incompatible changes. Now this offending method has changed the return value, [check the source][1]. I think the problem is clear - in JVM bytecode you have a versions of the method with different signatures than you expect (Note, that for JVM [return type is a part of the invoke instruction and is a part of signature][2]):\r\n\r\n1. You have different `spring-web` JARs during your compilation and runtime. It can happen, there is even a concept in CS called [dependencies hell][3]. Because this return types change is incompatible so your code shouldn&#39;t even compile, but still you was able to do so. You need to ensure that your compilation classpath has the same `spring-web` jar as runtime classpath.\r\n\r\n2. You have code that is already compiled with old `spring-web` verison, and now you are launching a jar providing a classpath with newer version of `spring-web`. It is unlikely, but still, worth mentioning.\r\n\r\nFinally, there are [some good articles][4] that illustrate the problem that you encountered. Consider taking a look.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/blob/main/spring-web/src/main/java/org/springframework/http/client/ClientHttpResponse.java\r\n  [2]: https://stackoverflow.com/questions/1134054/changing-return-type-of-method-gives-java-lang-nosuchmethoderror\r\n  [3]: https://en.wikipedia.org/wiki/Dependency_hell\r\n  [4]: https://web.archive.org/web/20210418055531/http://thegordian.blogspot.com/2014/12/when-you-change-method-return-type.html","title":"java.lang.NoSuchMethodError: &#39;org.springframework.http.HttpStatus org.springframework.http.client.ClientHttpResponse.getStatusCode()&#39;","body":"<p>You have made a major version jump, from <code>spring-boot</code> 2.X to <code>spring-boot</code> 3.X - you <em>must</em> expect that there will be incompatible changes. Now this offending method has changed the return value, <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-web/src/main/java/org/springframework/http/client/ClientHttpResponse.java\" rel=\"nofollow noreferrer\">check the source</a>. I think the problem is clear - in JVM bytecode you have a versions of the method with different signatures than you expect (Note, that for JVM <a href=\"https://stackoverflow.com/questions/1134054/changing-return-type-of-method-gives-java-lang-nosuchmethoderror\">return type is a part of the invoke instruction and is a part of signature</a>):</p>\n<ol>\n<li><p>You have different <code>spring-web</code> JARs during your compilation and runtime. It can happen, there is even a concept in CS called <a href=\"https://en.wikipedia.org/wiki/Dependency_hell\" rel=\"nofollow noreferrer\">dependencies hell</a>. Because this return types change is incompatible so your code shouldn't even compile, but still you was able to do so. You need to ensure that your compilation classpath has the same <code>spring-web</code> jar as runtime classpath.</p>\n</li>\n<li><p>You have code that is already compiled with old <code>spring-web</code> verison, and now you are launching a jar providing a classpath with newer version of <code>spring-web</code>. It is unlikely, but still, worth mentioning.</p>\n</li>\n</ol>\n<p>Finally, there are <a href=\"https://web.archive.org/web/20210418055531/http://thegordian.blogspot.com/2014/12/when-you-change-method-return-type.html\" rel=\"nofollow noreferrer\">some good articles</a> that illustrate the problem that you encountered. Consider taking a look.</p>\n"},{"tags":[],"owner":{"account_id":9466837,"reputation":161,"user_id":7038893,"display_name":"David G."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681977227,"creation_date":1681977227,"answer_id":76061731,"question_id":75407765,"body_markdown":"I was in the same situation, and needed code that could work with both Spring Boot 2 and 3.\r\nIf that&#39;s your case, the simplest solution is to use instead the (now deprecated) method [getStatusCodeValue()][1] this will work the same in spring-web from 4.x to 6.x (it returns an int value instead of a String, but you should be able to manage that).\r\n\r\nMind you, there have been lots of other incompatible changes (a ton more than there were between spring-web 4.x and 5.x) so you might still encounter problems...\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ResponseEntity.html#getStatusCodeValue()","title":"java.lang.NoSuchMethodError: &#39;org.springframework.http.HttpStatus org.springframework.http.client.ClientHttpResponse.getStatusCode()&#39;","body":"<p>I was in the same situation, and needed code that could work with both Spring Boot 2 and 3.\nIf that's your case, the simplest solution is to use instead the (now deprecated) method <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/ResponseEntity.html#getStatusCodeValue()\" rel=\"nofollow noreferrer\">getStatusCodeValue()</a> this will work the same in spring-web from 4.x to 6.x (it returns an int value instead of a String, but you should be able to manage that).</p>\n<p>Mind you, there have been lots of other incompatible changes (a ton more than there were between spring-web 4.x and 5.x) so you might still encounter problems...</p>\n"}],"owner":{"account_id":27750725,"reputation":81,"user_id":21185196,"display_name":"Davis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10925,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"closed_date":1684259326,"answer_count":2,"score":8,"last_activity_date":1684259184,"creation_date":1676011782,"question_id":75407765,"body_markdown":"I have updated spring boot version from 2.7.5 to 3.0.2 . I have updated Jakarta too . Only when trying to fatch url it is getting following error:\r\n```\r\njava.lang.NoSuchMethodError: &#39;org.springframework.http.HttpStatus org.springframework.http.client.ClientHttpResponse.getStatusCode()&#39;\r\nat org.springframework.security.oauth2.client.http.OAuth2ErrorHandler.hasError(OAuth2ErrorHandler.java:76) \\~\\[spring-security-oauth2-2.0.17.RELEASE.jar:na\\]\r\nat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:904) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\r\nat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:864) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\r\nat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:804) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\r\nat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:665) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\r\nat com.mbusa.gm.repository.OneApiRepository.getVehicleFromSWT(OneApiRepository.java:178) \\~\\[classes/:na\\]\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \\~\\[na:na\\]\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) \\~\\[na:na\\]\r\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) \\~\\[na:na\\]\r\nat java.base/java.lang.reflect.Method.invoke(Method.java:568) \\~\\[na:na\\]\r\nat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) \\~\\[spring-aop-6.0.4.jar:6.0.4\\]\r\nat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) \\~\\[spring-aop-6.0.4.jar:6.0.4\\]\r\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) \\~\\[spring-aop-6.0.4.jar:6.0.4\\]\r\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752) \\~\\[spring-aop-6.0.4.jar:6.0.4\\]\r\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) \\~\\[spring-tx-6.0.4.jar:6.0.4\\]\r\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) \\~\\[spring-aop-6.0.4.jar:6.0.4\\]\r\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752) \\~\\[spring-aop-6.0.4.jar:6.0.4\\]\r\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) \\~\\[spring-aop-6.0.4.jar:6.0.4\\]\r\nat com.mbusa.gm.repository.OneApiRepository$$SpringCGLIB$$0.getVehicleFromSWT(\\&lt;generated\\&gt;) \\~\\[classes/:na\\]\r\nat com.mbusa.gm.service.GreyMarketService.addVehicleExport(GreyMarketService.java:47) \\~\\[classes/:na\\]\r\nat com.mbusa.gm.controller.GreyMarketController.addVehicleExport(GreyMarketController.java:98) \\~\\[classes/:na\\]\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \\~\\[na:na\\]\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) \\~\\[na:na\\]\r\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) \\~\\[na:na\\]\r\nat java.base/java.lang.reflect.Method.invoke(Method.java:568) \\~\\[na:na\\]\r\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\r\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\r\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\r\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\r\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\r\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\r\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\r\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\r\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\r\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\r\nat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731) \\~\\[tomcat-embed-core-10.1.5.jar:6.0\\]\r\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\r\nat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) \\~\\[tomcat-embed-core-10.1.5.jar:6.0\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) \\~\\[tomcat-embed-websocket-10.1.5.jar:10.1.5\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\r\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\r\nat java.base/java.lang.Thread.run(Thread.java:833) \\~\\[na:na\\]\r\n```\r\nWhat should i update or change for this error?","title":"java.lang.NoSuchMethodError: &#39;org.springframework.http.HttpStatus org.springframework.http.client.ClientHttpResponse.getStatusCode()&#39;","body":"<p>I have updated spring boot version from 2.7.5 to 3.0.2 . I have updated Jakarta too . Only when trying to fatch url it is getting following error:</p>\n<pre><code>java.lang.NoSuchMethodError: 'org.springframework.http.HttpStatus org.springframework.http.client.ClientHttpResponse.getStatusCode()'\nat org.springframework.security.oauth2.client.http.OAuth2ErrorHandler.hasError(OAuth2ErrorHandler.java:76) \\~\\[spring-security-oauth2-2.0.17.RELEASE.jar:na\\]\nat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:904) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\nat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:864) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\nat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:804) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\nat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:665) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\nat com.mbusa.gm.repository.OneApiRepository.getVehicleFromSWT(OneApiRepository.java:178) \\~\\[classes/:na\\]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \\~\\[na:na\\]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) \\~\\[na:na\\]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) \\~\\[na:na\\]\nat java.base/java.lang.reflect.Method.invoke(Method.java:568) \\~\\[na:na\\]\nat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) \\~\\[spring-aop-6.0.4.jar:6.0.4\\]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) \\~\\[spring-aop-6.0.4.jar:6.0.4\\]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) \\~\\[spring-aop-6.0.4.jar:6.0.4\\]\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752) \\~\\[spring-aop-6.0.4.jar:6.0.4\\]\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) \\~\\[spring-tx-6.0.4.jar:6.0.4\\]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) \\~\\[spring-aop-6.0.4.jar:6.0.4\\]\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752) \\~\\[spring-aop-6.0.4.jar:6.0.4\\]\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) \\~\\[spring-aop-6.0.4.jar:6.0.4\\]\nat com.mbusa.gm.repository.OneApiRepository$$SpringCGLIB$$0.getVehicleFromSWT(\\&lt;generated\\&gt;) \\~\\[classes/:na\\]\nat com.mbusa.gm.service.GreyMarketService.addVehicleExport(GreyMarketService.java:47) \\~\\[classes/:na\\]\nat com.mbusa.gm.controller.GreyMarketController.addVehicleExport(GreyMarketController.java:98) \\~\\[classes/:na\\]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) \\~\\[na:na\\]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) \\~\\[na:na\\]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) \\~\\[na:na\\]\nat java.base/java.lang.reflect.Method.invoke(Method.java:568) \\~\\[na:na\\]\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\nat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731) \\~\\[tomcat-embed-core-10.1.5.jar:6.0\\]\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) \\~\\[spring-webmvc-6.0.4.jar:6.0.4\\]\nat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) \\~\\[tomcat-embed-core-10.1.5.jar:6.0\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) \\~\\[tomcat-embed-websocket-10.1.5.jar:10.1.5\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) \\~\\[spring-web-6.0.4.jar:6.0.4\\]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) \\~\\[tomcat-embed-core-10.1.5.jar:10.1.5\\]\nat java.base/java.lang.Thread.run(Thread.java:833) \\~\\[na:na\\]\n</code></pre>\n<p>What should i update or change for this error?</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-dataflow","beam"],"answers":[{"tags":[],"owner":{"account_id":25604480,"reputation":1167,"user_id":19378826,"display_name":"Nestor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684259044,"creation_date":1684259044,"answer_id":76265814,"question_id":76262718,"body_markdown":"I looked upon the same [inquiry][1] and the solution uses the Dofn interface, It is mentioned that it is within the [Dofn Process Element][2] method.&#160;\r\n\r\n\r\n[1]: https://stackoverflow.com/a/60872140/19378826\r\n[2]: https://beam.apache.org/releases/javadoc/2.2.0/org/apache/beam/sdk/transforms/DoFn.ProcessElement.html","title":"How to cancel a GCP Dataflow job programmingly using Beam and just the job ID","body":"<p>I looked upon the same <a href=\"https://stackoverflow.com/a/60872140/19378826\">inquiry</a> and the solution uses the Dofn interface, It is mentioned that it is within the <a href=\"https://beam.apache.org/releases/javadoc/2.2.0/org/apache/beam/sdk/transforms/DoFn.ProcessElement.html\" rel=\"nofollow noreferrer\">Dofn Process Element</a> method. </p>\n"}],"owner":{"account_id":11565609,"reputation":799,"user_id":8473984,"display_name":"ZZZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684259044,"creation_date":1684237891,"question_id":76262718,"body_markdown":"We have a GCP Dataflow project which requires us to cancel a running Dataflow job.\r\n\r\nAll we have at the time of cancellation is the Job ID. \r\n\r\nFrom other posts on Stackoverflow, I learned we can cancel a job using something like this:\r\n\r\n    PipelineResult pipelineResult = pipeline.run();\r\n    result.cancel();\r\n\r\nHowever, we don&#39;t store the pipelineResult when we create it.\r\n\r\nThe PipelineResult is just a DataflowPipelineJob. I am wondering if there are any ways I can retrieve a DataflowPipelineJob using its job and cancel it. Something like:\r\n\r\n    DataflowPipelineJob job = &lt;Get DataflowPipelineJob using Job ID&gt;;\r\n    job.cancel();\r\n\r\n\r\n\r\n","title":"How to cancel a GCP Dataflow job programmingly using Beam and just the job ID","body":"<p>We have a GCP Dataflow project which requires us to cancel a running Dataflow job.</p>\n<p>All we have at the time of cancellation is the Job ID.</p>\n<p>From other posts on Stackoverflow, I learned we can cancel a job using something like this:</p>\n<pre><code>PipelineResult pipelineResult = pipeline.run();\nresult.cancel();\n</code></pre>\n<p>However, we don't store the pipelineResult when we create it.</p>\n<p>The PipelineResult is just a DataflowPipelineJob. I am wondering if there are any ways I can retrieve a DataflowPipelineJob using its job and cancel it. Something like:</p>\n<pre><code>DataflowPipelineJob job = &lt;Get DataflowPipelineJob using Job ID&gt;;\njob.cancel();\n</code></pre>\n"},{"tags":["java","paint","graphics2d"],"comments":[{"owner":{"account_id":21329059,"reputation":43,"user_id":15701076,"display_name":"Elia123456"},"score":0,"creation_date":1684258000,"post_id":76265604,"comment_id":134491006,"body_markdown":"I fixed it but by separating the loops. One loop for filling the sections, and another loop for entering the text. I appreciate if someone can help me fix it using 1 loop.\n\nAdded the split loop to the code above","body":"I fixed it but by separating the loops. One loop for filling the sections, and another loop for entering the text. I appreciate if someone can help me fix it using 1 loop.  Added the split loop to the code above"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1684258121,"post_id":76265604,"comment_id":134491027,"body_markdown":"basically code was drawing colors in one direction and number in the other, so arcs after half are overdrawing the numbers (basically the iteration that would come next on second image) - if you use `-sin` for label (`... centerY - labelRadius * Math.sin( ...`) it should work","body":"basically code was drawing colors in one direction and number in the other, so arcs after half are overdrawing the numbers (basically the iteration that would come next on second image) - if you use <code>-sin</code> for label (<code>... centerY - labelRadius * Math.sin( ...</code>) it should work"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1684258514,"post_id":76265604,"comment_id":134491108,"body_markdown":"from [documentation](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Graphics.html#fillArc(int,int,int,int,int,int)) of `fillArc`: &quot;Angles are interpreted such that 0 degrees is at the 3 o&#39;clock position. A positive value indicates a **counter-clockwise** rotation...&quot; (emphasis mine) but positive y is *downwards*","body":"from <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/Graphics.html#fillArc(int,int,int,int,int,int)\" rel=\"nofollow noreferrer\">documentation</a> of <code>fillArc</code>: &quot;Angles are interpreted such that 0 degrees is at the 3 o&#39;clock position. A positive value indicates a <b>counter-clockwise</b> rotation...&quot; (emphasis mine) but positive y is <i>downwards</i>"}],"owner":{"account_id":21329059,"reputation":43,"user_id":15701076,"display_name":"Elia123456"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684258696,"creation_date":1684257066,"question_id":76265604,"body_markdown":"I want to draw a circle, then divide it into 24 equal sections, with different colors. Then add the corresponding number to each section (1 to 24)\r\n\r\nI&#39;m facing an issue having all the numbers displayed, where only 13 until 24 are visible as seen here\r\n[![13 to 24 numbers][1]][1]\r\n\r\n\r\nHowever if I change my condition to traverse only 12 numbers, they will be displayed but the section won&#39;t be filled as seen here\r\n\r\n[![1 to 12 without section color][2]][2]\r\n\r\nHere&#39;s my code:\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    public class DividedCircleWithColorsAndNumbersExample extends JFrame {\r\n        private final Color[] segmentColors = {\r\n                Color.RED, Color.GREEN, Color.BLUE, Color.YELLOW, Color.ORANGE, Color.CYAN,\r\n                Color.MAGENTA, Color.PINK, Color.LIGHT_GRAY, Color.DARK_GRAY, Color.GRAY,\r\n                Color.BLACK, Color.CYAN, Color.RED, Color.GREEN, Color.BLUE, Color.YELLOW,\r\n                Color.ORANGE, Color.CYAN, Color.MAGENTA, Color.PINK, Color.LIGHT_GRAY,\r\n                Color.DARK_GRAY, Color.GRAY, Color.BLACK\r\n        };\r\n    \r\n        public DividedCircleWithColorsAndNumbersExample() {\r\n            setTitle(&quot;Divided Circle with Colors and Numbers Example&quot;);\r\n            setSize(400, 400);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            setLocationRelativeTo(null);\r\n            setVisible(true);\r\n        }\r\n    \r\n        @Override\r\n        public void paint(Graphics g) {\r\n            super.paint(g);\r\n    \r\n            Graphics2D g2d = (Graphics2D) g;\r\n    \r\n            int centerX = getWidth() / 2;\r\n            int centerY = getHeight() / 2;\r\n            int radius = 150;\r\n    \r\n            int x = centerX - radius;\r\n            int y = centerY - radius;\r\n            int diameter = 2 * radius;\r\n    \r\n            double angle = 2 * Math.PI / 24; // Angle between each segment\r\n    \r\n            for (int i = 0; i &lt; 24; i++) {\r\n                g2d.setColor(segmentColors[i]);\r\n                int startAngle = (int) Math.toDegrees(i * angle);\r\n                int arcAngle = (int) Math.toDegrees(angle);\r\n                g2d.fillArc(x, y, diameter, diameter, startAngle, arcAngle);\r\n    \r\n                g2d.setColor(Color.WHITE);\r\n                Font font = new Font(&quot;Arial&quot;, Font.BOLD, 16);\r\n                g2d.setFont(font);\r\n    \r\n                int labelRadius = radius - 30;\r\n                int labelX = (int) (centerX + labelRadius * Math.cos(i * angle + angle / 2));\r\n                int labelY = (int) (centerY + labelRadius * Math.sin(i * angle + angle / 2));\r\n                drawCenteredString(g2d, String.valueOf(i + 1), labelX, labelY);\r\n            }\r\n        }\r\n    \r\n        private void drawCenteredString(Graphics2D g2d, String text, int x, int y) {\r\n            FontMetrics fm = g2d.getFontMetrics();\r\n            int textWidth = fm.stringWidth(text);\r\n            int textHeight = fm.getHeight();\r\n            g2d.drawString(text, x - textWidth / 2, y + textHeight / 4);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(() -&gt; {\r\n                new DividedCircleWithColorsAndNumbersExample();\r\n            });\r\n        }\r\n    }\r\n\r\nI can&#39;t figure out the problem\r\n\r\n**Update: If I split the section filling and setting the text into 2 separate loops it works**\r\n[![Split][3]][3]\r\n\r\nThe code will be\r\n\r\n    \r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    public class DividedCircleWithColorsAndNumbersExample extends JFrame {\r\n    \r\n        private final Color[] segmentColors = {\r\n            Color.RED, Color.GREEN, Color.BLUE, Color.YELLOW, Color.ORANGE, Color.CYAN,\r\n            Color.MAGENTA, Color.PINK, Color.LIGHT_GRAY, Color.DARK_GRAY, Color.GRAY,\r\n            Color.BLACK, Color.WHITE, Color.RED, Color.GREEN, Color.BLUE, Color.YELLOW,\r\n            Color.ORANGE, Color.CYAN, Color.MAGENTA, Color.PINK, Color.LIGHT_GRAY,\r\n            Color.DARK_GRAY, Color.GRAY, Color.BLACK\r\n        };\r\n    \r\n        public DividedCircleWithColorsAndNumbersExample() {\r\n            setTitle(&quot;Divided Circle with Colors and Numbers Example&quot;);\r\n            setSize(400, 400);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            setLocationRelativeTo(null);\r\n    //        setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n            setVisible(true);\r\n        }\r\n    \r\n        @Override\r\n        public void paint(Graphics g) {\r\n            super.paint(g);\r\n    \r\n            Graphics2D g2d = (Graphics2D) g;\r\n    \r\n            int centerX = getWidth() / 2;\r\n            int centerY = getHeight() / 2;\r\n            int radius = 150;\r\n    \r\n            int x = centerX - radius;\r\n            int y = centerY - radius;\r\n            int diameter = 2 * radius;\r\n    \r\n            double angle = 2 * Math.PI / 24; // Angle between each segment\r\n    \r\n            for (int i = 0; i &lt; 24; i++) {\r\n                g2d.setColor(segmentColors[i]);\r\n                int startAngle = (int) Math.toDegrees(i * angle);\r\n                int arcAngle = (int) Math.toDegrees(angle);\r\n                g2d.fillArc(x, y, diameter, diameter, startAngle, arcAngle);\r\n    \r\n            }\r\n    \r\n            for (int i = 0; i &lt; 24; i++) {\r\n    \r\n                g2d.setColor(Color.black);\r\n                Font font = new Font(&quot;Arial&quot;, Font.BOLD, 16);\r\n                g2d.setFont(font);\r\n    \r\n                int labelRadius = radius - 30;\r\n                int labelX = (int) (centerX + labelRadius * Math.cos(i * angle + angle / 2));\r\n                int labelY = (int) (centerY + labelRadius * Math.sin(i * angle + angle / 2));\r\n                drawCenteredString(g2d, String.valueOf(i + 1), labelX, labelY);\r\n            }\r\n        }\r\n    \r\n        private void drawCenteredString(Graphics2D g2d, String text, int x, int y) {\r\n            FontMetrics fm = g2d.getFontMetrics();\r\n            int textWidth = fm.stringWidth(text);\r\n            int textHeight = fm.getHeight();\r\n            g2d.drawString(text, x - textWidth / 2, y + textHeight / 4);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(() -&gt; {\r\n                new DividedCircleWithColorsAndNumbersExample();\r\n            });\r\n        }\r\n    }\r\n\r\nIt seems that the section filling is overlapping the numbering\r\n\r\n**Update by taking into consideration the comment here&#39;s the updated code**\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    \r\n    public class DividedCircleWithColorsAndNumbersExample extends JFrame {\r\n        private final Color[] segmentColors = {\r\n                Color.RED, Color.GREEN, Color.BLUE, Color.YELLOW, Color.ORANGE, Color.CYAN,\r\n                Color.MAGENTA, Color.PINK, Color.LIGHT_GRAY, Color.DARK_GRAY, Color.GRAY,\r\n                Color.BLACK, Color.WHITE, Color.RED, Color.GREEN, Color.BLUE, Color.YELLOW,\r\n                Color.ORANGE, Color.CYAN, Color.MAGENTA, Color.PINK, Color.LIGHT_GRAY,\r\n                Color.DARK_GRAY, Color.GRAY, Color.BLACK\r\n        };\r\n    \r\n        public DividedCircleWithColorsAndNumbersExample() {\r\n            setTitle(&quot;Divided Circle with Colors and Numbers Example&quot;);\r\n            setSize(400, 400);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            setLocationRelativeTo(null);\r\n    //        setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n            setVisible(true);\r\n        }\r\n    \r\n        @Override\r\n        public void paint(Graphics g) {\r\n            super.paint(g);\r\n    \r\n            Graphics2D g2d = (Graphics2D) g;\r\n    \r\n            int centerX = getWidth() / 2;\r\n            int centerY = getHeight() / 2;\r\n            int radius = 150;\r\n    \r\n            int x = centerX - radius;\r\n            int y = centerY - radius;\r\n            int diameter = 2 * radius;\r\n    \r\n            double angle = 2 * Math.PI / 24; // Angle between each segment\r\n    \r\n            for (int i = 0; i &lt; 24; i++) {\r\n                g2d.setColor(segmentColors[i]);\r\n                int startAngle = (int) Math.toDegrees(i * angle);\r\n                int arcAngle = (int) Math.toDegrees(angle);\r\n                g2d.fillArc(x, y, diameter, diameter, startAngle, arcAngle);\r\n    \r\n                g2d.setColor(Color.black);\r\n                Font font = new Font(&quot;Arial&quot;, Font.BOLD, 16);\r\n                g2d.setFont(font);\r\n    \r\n                int labelRadius = radius - 30;\r\n                int labelX = (int) (centerX + labelRadius * Math.cos(i * angle + angle / 2));\r\n                int labelY = (int) (centerY + labelRadius * Math.sin(i * angle + angle / 2) * (-1));\r\n                drawCenteredString(g2d, String.valueOf(i + 1), labelX, labelY);\r\n            }\r\n        }\r\n    \r\n        private void drawCenteredString(Graphics2D g2d, String text, int x, int y) {\r\n            FontMetrics fm = g2d.getFontMetrics();\r\n            int textWidth = fm.stringWidth(text);\r\n            int textHeight = fm.getHeight();\r\n            g2d.drawString(text, x - textWidth / 2, y + textHeight / 4);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(() -&gt; {\r\n                new DividedCircleWithColorsAndNumbersExample();\r\n            });\r\n        }\r\n    }\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yyb5m.png\r\n  [2]: https://i.stack.imgur.com/qeR2T.png\r\n  [3]: https://i.stack.imgur.com/bKa7W.png\r\n  [4]: https://i.stack.imgur.com/pM1xN.png\r\n","title":"Value not displayed in circle section","body":"<p>I want to draw a circle, then divide it into 24 equal sections, with different colors. Then add the corresponding number to each section (1 to 24)</p>\n<p>I'm facing an issue having all the numbers displayed, where only 13 until 24 are visible as seen here\n<a href=\"https://i.stack.imgur.com/yyb5m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yyb5m.png\" alt=\"13 to 24 numbers\" /></a></p>\n<p>However if I change my condition to traverse only 12 numbers, they will be displayed but the section won't be filled as seen here</p>\n<p><a href=\"https://i.stack.imgur.com/qeR2T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qeR2T.png\" alt=\"1 to 12 without section color\" /></a></p>\n<p>Here's my code:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class DividedCircleWithColorsAndNumbersExample extends JFrame {\n    private final Color[] segmentColors = {\n            Color.RED, Color.GREEN, Color.BLUE, Color.YELLOW, Color.ORANGE, Color.CYAN,\n            Color.MAGENTA, Color.PINK, Color.LIGHT_GRAY, Color.DARK_GRAY, Color.GRAY,\n            Color.BLACK, Color.CYAN, Color.RED, Color.GREEN, Color.BLUE, Color.YELLOW,\n            Color.ORANGE, Color.CYAN, Color.MAGENTA, Color.PINK, Color.LIGHT_GRAY,\n            Color.DARK_GRAY, Color.GRAY, Color.BLACK\n    };\n\n    public DividedCircleWithColorsAndNumbersExample() {\n        setTitle(&quot;Divided Circle with Colors and Numbers Example&quot;);\n        setSize(400, 400);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setLocationRelativeTo(null);\n        setVisible(true);\n    }\n\n    @Override\n    public void paint(Graphics g) {\n        super.paint(g);\n\n        Graphics2D g2d = (Graphics2D) g;\n\n        int centerX = getWidth() / 2;\n        int centerY = getHeight() / 2;\n        int radius = 150;\n\n        int x = centerX - radius;\n        int y = centerY - radius;\n        int diameter = 2 * radius;\n\n        double angle = 2 * Math.PI / 24; // Angle between each segment\n\n        for (int i = 0; i &lt; 24; i++) {\n            g2d.setColor(segmentColors[i]);\n            int startAngle = (int) Math.toDegrees(i * angle);\n            int arcAngle = (int) Math.toDegrees(angle);\n            g2d.fillArc(x, y, diameter, diameter, startAngle, arcAngle);\n\n            g2d.setColor(Color.WHITE);\n            Font font = new Font(&quot;Arial&quot;, Font.BOLD, 16);\n            g2d.setFont(font);\n\n            int labelRadius = radius - 30;\n            int labelX = (int) (centerX + labelRadius * Math.cos(i * angle + angle / 2));\n            int labelY = (int) (centerY + labelRadius * Math.sin(i * angle + angle / 2));\n            drawCenteredString(g2d, String.valueOf(i + 1), labelX, labelY);\n        }\n    }\n\n    private void drawCenteredString(Graphics2D g2d, String text, int x, int y) {\n        FontMetrics fm = g2d.getFontMetrics();\n        int textWidth = fm.stringWidth(text);\n        int textHeight = fm.getHeight();\n        g2d.drawString(text, x - textWidth / 2, y + textHeight / 4);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            new DividedCircleWithColorsAndNumbersExample();\n        });\n    }\n}\n</code></pre>\n<p>I can't figure out the problem</p>\n<p><strong>Update: If I split the section filling and setting the text into 2 separate loops it works</strong>\n<a href=\"https://i.stack.imgur.com/bKa7W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bKa7W.png\" alt=\"Split\" /></a></p>\n<p>The code will be</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class DividedCircleWithColorsAndNumbersExample extends JFrame {\n\n    private final Color[] segmentColors = {\n        Color.RED, Color.GREEN, Color.BLUE, Color.YELLOW, Color.ORANGE, Color.CYAN,\n        Color.MAGENTA, Color.PINK, Color.LIGHT_GRAY, Color.DARK_GRAY, Color.GRAY,\n        Color.BLACK, Color.WHITE, Color.RED, Color.GREEN, Color.BLUE, Color.YELLOW,\n        Color.ORANGE, Color.CYAN, Color.MAGENTA, Color.PINK, Color.LIGHT_GRAY,\n        Color.DARK_GRAY, Color.GRAY, Color.BLACK\n    };\n\n    public DividedCircleWithColorsAndNumbersExample() {\n        setTitle(&quot;Divided Circle with Colors and Numbers Example&quot;);\n        setSize(400, 400);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setLocationRelativeTo(null);\n//        setExtendedState(JFrame.MAXIMIZED_BOTH);\n        setVisible(true);\n    }\n\n    @Override\n    public void paint(Graphics g) {\n        super.paint(g);\n\n        Graphics2D g2d = (Graphics2D) g;\n\n        int centerX = getWidth() / 2;\n        int centerY = getHeight() / 2;\n        int radius = 150;\n\n        int x = centerX - radius;\n        int y = centerY - radius;\n        int diameter = 2 * radius;\n\n        double angle = 2 * Math.PI / 24; // Angle between each segment\n\n        for (int i = 0; i &lt; 24; i++) {\n            g2d.setColor(segmentColors[i]);\n            int startAngle = (int) Math.toDegrees(i * angle);\n            int arcAngle = (int) Math.toDegrees(angle);\n            g2d.fillArc(x, y, diameter, diameter, startAngle, arcAngle);\n\n        }\n\n        for (int i = 0; i &lt; 24; i++) {\n\n            g2d.setColor(Color.black);\n            Font font = new Font(&quot;Arial&quot;, Font.BOLD, 16);\n            g2d.setFont(font);\n\n            int labelRadius = radius - 30;\n            int labelX = (int) (centerX + labelRadius * Math.cos(i * angle + angle / 2));\n            int labelY = (int) (centerY + labelRadius * Math.sin(i * angle + angle / 2));\n            drawCenteredString(g2d, String.valueOf(i + 1), labelX, labelY);\n        }\n    }\n\n    private void drawCenteredString(Graphics2D g2d, String text, int x, int y) {\n        FontMetrics fm = g2d.getFontMetrics();\n        int textWidth = fm.stringWidth(text);\n        int textHeight = fm.getHeight();\n        g2d.drawString(text, x - textWidth / 2, y + textHeight / 4);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            new DividedCircleWithColorsAndNumbersExample();\n        });\n    }\n}\n</code></pre>\n<p>It seems that the section filling is overlapping the numbering</p>\n<p><strong>Update by taking into consideration the comment here's the updated code</strong></p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class DividedCircleWithColorsAndNumbersExample extends JFrame {\n    private final Color[] segmentColors = {\n            Color.RED, Color.GREEN, Color.BLUE, Color.YELLOW, Color.ORANGE, Color.CYAN,\n            Color.MAGENTA, Color.PINK, Color.LIGHT_GRAY, Color.DARK_GRAY, Color.GRAY,\n            Color.BLACK, Color.WHITE, Color.RED, Color.GREEN, Color.BLUE, Color.YELLOW,\n            Color.ORANGE, Color.CYAN, Color.MAGENTA, Color.PINK, Color.LIGHT_GRAY,\n            Color.DARK_GRAY, Color.GRAY, Color.BLACK\n    };\n\n    public DividedCircleWithColorsAndNumbersExample() {\n        setTitle(&quot;Divided Circle with Colors and Numbers Example&quot;);\n        setSize(400, 400);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setLocationRelativeTo(null);\n//        setExtendedState(JFrame.MAXIMIZED_BOTH);\n        setVisible(true);\n    }\n\n    @Override\n    public void paint(Graphics g) {\n        super.paint(g);\n\n        Graphics2D g2d = (Graphics2D) g;\n\n        int centerX = getWidth() / 2;\n        int centerY = getHeight() / 2;\n        int radius = 150;\n\n        int x = centerX - radius;\n        int y = centerY - radius;\n        int diameter = 2 * radius;\n\n        double angle = 2 * Math.PI / 24; // Angle between each segment\n\n        for (int i = 0; i &lt; 24; i++) {\n            g2d.setColor(segmentColors[i]);\n            int startAngle = (int) Math.toDegrees(i * angle);\n            int arcAngle = (int) Math.toDegrees(angle);\n            g2d.fillArc(x, y, diameter, diameter, startAngle, arcAngle);\n\n            g2d.setColor(Color.black);\n            Font font = new Font(&quot;Arial&quot;, Font.BOLD, 16);\n            g2d.setFont(font);\n\n            int labelRadius = radius - 30;\n            int labelX = (int) (centerX + labelRadius * Math.cos(i * angle + angle / 2));\n            int labelY = (int) (centerY + labelRadius * Math.sin(i * angle + angle / 2) * (-1));\n            drawCenteredString(g2d, String.valueOf(i + 1), labelX, labelY);\n        }\n    }\n\n    private void drawCenteredString(Graphics2D g2d, String text, int x, int y) {\n        FontMetrics fm = g2d.getFontMetrics();\n        int textWidth = fm.stringWidth(text);\n        int textHeight = fm.getHeight();\n        g2d.drawString(text, x - textWidth / 2, y + textHeight / 4);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            new DividedCircleWithColorsAndNumbersExample();\n        });\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/pM1xN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pM1xN.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":12558590,"reputation":131,"user_id":9137427,"display_name":"Franco Rolando"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1629851005,"creation_date":1629851005,"answer_id":68915429,"question_id":68912971,"body_markdown":"I was using the:\r\nES server : &quot;https://cluster:port&quot;\r\nand that was my fault\r\nTo correct that I used \r\nES Server: &quot;cluster:port&quot;\r\nand added usingSsl() method\r\n\r\n`final ClientConfiguration clientConfiguration = ClientConfiguration.builder()  \r\n            .connectedTo(&quot;ES server&quot;)\r\n            .withBasicAuth(&quot;user&quot;, &quot;password&quot;).build();\r\n`","title":"Spring boot with elastic fail while index exists","body":"<p>I was using the:\nES server : &quot;https://cluster:port&quot;\nand that was my fault\nTo correct that I used\nES Server: &quot;cluster:port&quot;\nand added usingSsl() method</p>\n<p><code>final ClientConfiguration clientConfiguration = ClientConfiguration.builder()   .connectedTo(&quot;ES server&quot;) .withBasicAuth(&quot;user&quot;, &quot;password&quot;).build(); </code></p>\n"}],"owner":{"account_id":12558590,"reputation":131,"user_id":9137427,"display_name":"Franco Rolando"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1402,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68915429,"answer_count":1,"score":2,"last_activity_date":1684258599,"creation_date":1629832715,"question_id":68912971,"body_markdown":"I&#39;m trying to connect a Spring boot application with ElasticSearch, but I get the next error:\r\n\r\nConstructor threw exception; nested exception is org.springframework.data.elasticsearch.ElasticsearchException: Error while for indexExists request: org.elasticsearch.action.admin.indices.get.GetIndexRequest\r\n\r\nConfiguration class\r\n\r\n    @Configuration\r\n    @EnableElasticsearchRepositories(basePackages = &quot;com.repository&quot;)\r\n    public class ESConfig extends AbstractElasticsearchConfiguration {\r\n    \r\n        @Override\r\n        @Bean\r\n        public RestHighLevelClient elasticsearchClient() {\r\n    \r\n            final ClientConfiguration clientConfiguration = ClientConfiguration.builder()  \r\n                .connectedTo(&quot;ElasticSearch Server&quot;)\r\n                .withBasicAuth(&quot;user&quot;, &quot;password&quot;).build();\r\n    \r\n            return RestClients.create(clientConfiguration).rest();                         \r\n        }\r\n    \r\n    }\r\n\r\nEntity :\r\n\r\n    @Document(indexName = &quot;flight&quot;)\r\n    public class FlightPositionES {\r\n    \r\n        @Id\r\n        private Long id;\r\n        private String ident;\r\n        private String airGround;\r\n        private Double altitude;\r\n        private Integer clock;\r\n        private String flightId;\r\n        private Double groundSpeed;\r\n        private Double heading;\r\n        private GeoPoint location;\r\n        private String aircraftRegistration;\r\n    }\r\n\r\nRepository:\r\n\r\n    public interface IFlightPositionESRepository extends ElasticsearchCrudRepository&lt;FlightPositionES, Long&gt; {\r\n    \r\n    }","title":"Spring boot with elastic fail while index exists","body":"<p>I'm trying to connect a Spring boot application with ElasticSearch, but I get the next error:</p>\n<p>Constructor threw exception; nested exception is org.springframework.data.elasticsearch.ElasticsearchException: Error while for indexExists request: org.elasticsearch.action.admin.indices.get.GetIndexRequest</p>\n<p>Configuration class</p>\n<pre><code>@Configuration\n@EnableElasticsearchRepositories(basePackages = &quot;com.repository&quot;)\npublic class ESConfig extends AbstractElasticsearchConfiguration {\n\n    @Override\n    @Bean\n    public RestHighLevelClient elasticsearchClient() {\n\n        final ClientConfiguration clientConfiguration = ClientConfiguration.builder()  \n            .connectedTo(&quot;ElasticSearch Server&quot;)\n            .withBasicAuth(&quot;user&quot;, &quot;password&quot;).build();\n\n        return RestClients.create(clientConfiguration).rest();                         \n    }\n\n}\n</code></pre>\n<p>Entity :</p>\n<pre><code>@Document(indexName = &quot;flight&quot;)\npublic class FlightPositionES {\n\n    @Id\n    private Long id;\n    private String ident;\n    private String airGround;\n    private Double altitude;\n    private Integer clock;\n    private String flightId;\n    private Double groundSpeed;\n    private Double heading;\n    private GeoPoint location;\n    private String aircraftRegistration;\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>public interface IFlightPositionESRepository extends ElasticsearchCrudRepository&lt;FlightPositionES, Long&gt; {\n\n}\n</code></pre>\n"},{"tags":["java","apache-camel","quarkus"],"comments":[{"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"score":0,"creation_date":1684171991,"post_id":76256246,"comment_id":134475181,"body_markdown":"The root cause is probably the injected CamelContext which seems to be an empty one (with no route at all). Put a breakpoint an examine the contents of `camelContext` variable","body":"The root cause is probably the injected CamelContext which seems to be an empty one (with no route at all). Put a breakpoint an examine the contents of <code>camelContext</code> variable"},{"owner":{"account_id":3615835,"reputation":1759,"user_id":3015723,"accept_rate":100,"display_name":"Snappawapa"},"score":0,"creation_date":1684178761,"post_id":76256246,"comment_id":134476560,"body_markdown":"After a bit  of debugging, I have found what looks like a fully fleshed out Camel Context with the routes I would expect","body":"After a bit  of debugging, I have found what looks like a fully fleshed out Camel Context with the routes I would expect"},{"owner":{"account_id":3615835,"reputation":1759,"user_id":3015723,"accept_rate":100,"display_name":"Snappawapa"},"score":0,"creation_date":1684245095,"post_id":76256246,"comment_id":134487521,"body_markdown":"Realized that it works, but only once. Updated the question","body":"Realized that it works, but only once. Updated the question"},{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":0,"creation_date":1684255301,"post_id":76256246,"comment_id":134490376,"body_markdown":"See the IMPORTANT note at: https://camel.apache.org/manual/advice-with.html#_enabling_advice_during_testing","body":"See the IMPORTANT note at: <a href=\"https://camel.apache.org/manual/advice-with.html#_enabling_advice_during_testing\" rel=\"nofollow noreferrer\">camel.apache.org/manual/&hellip;</a>"},{"owner":{"account_id":3615835,"reputation":1759,"user_id":3015723,"accept_rate":100,"display_name":"Snappawapa"},"score":1,"creation_date":1684255643,"post_id":76256246,"comment_id":134490475,"body_markdown":"I have seen that, but was honestly unsure of the applicability in Quarkus, esp. since `@AdviceWith` doesn&#39;t seem present.","body":"I have seen that, but was honestly unsure of the applicability in Quarkus, esp. since <code>@AdviceWith</code> doesn&#39;t seem present."}],"owner":{"account_id":3615835,"reputation":1759,"user_id":3015723,"accept_rate":100,"display_name":"Snappawapa"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684258565,"creation_date":1684169119,"question_id":76256246,"body_markdown":"I have the following route:\r\n\r\n```java\r\nfrom(&quot;direct:someRoute&quot;)\r\n.id(&quot;someRoute&quot;)\r\n.log(...)\r\n.to(&quot;sql-stored:someProcedure(BIGINT ${exchangeProperty.someVal})&quot;)\r\n.id(&quot;someCall&quot;)\r\n.log(...)\r\n.end()\r\n```\r\n\r\nI am attempting to replace the `someCall` REST call with canned data for tests.\r\n\r\nI have setup my tests as such:\r\n\r\n```java\r\n@QuarkusTest\r\npublic Class Tests{\r\n\r\n    @Inject\r\n    CamelContext camelContext\r\n\r\n    @BeforeEach\r\n    public void setup(){\r\n        AdviceWith.adviceWith(\r\n            this.camelContext,\r\n            &quot;someRoute&quot;,\r\n            a -&gt; {\r\n                a.weaveById(&quot;someCall&quot;)\r\n                    .replace()\r\n                    .setBody()\r\n                    .constant(&quot;{}&quot;)\r\n            }\r\n        );\r\n    }\r\n\r\n    @Test\r\n    public void testOne(){\r\n        //...\r\n    }\r\n    @Test\r\n    public void testTwo(){\r\n        //...\r\n    }\r\n}\r\n```\r\n\r\nHowever, when I run the tests, I get the following errors:\r\n\r\n - First test error: \r\n   - `Cannot advice route as route with id: someRoute does not exists`\r\n - Second test error:\r\n   - `There are no outputs with matches: someCall in the route: &lt;routeToString, oddly with no mention of the someCall route, or even an sql route&gt;`\r\n\r\nSeem like strange errors to me, looking through the logs and the route is definitely being picked up, and even stranger that the `someCall` reference isn&#39;t in the toString...\r\n\r\n## Update\r\n\r\nJust realized that this occurrs in tests _after_ the first one. It seems that my issue is related to the face that this is in an `@BeforeEach`... Should I rework to only be called once, or is there a way to reset the camel context before re-applying the mock?\r\n\r\n## Update 2\r\n\r\nTried calling `context.stop()` and `context.start()` at the beginning of the tests, but got an error saying it is unsupported.\r\n\r\nTrying with `CamelQuarkusTestSupport` ended up with the first test working out, but every additional test having an empty `CamelQuarkus` with no routes...","title":"Camel/Quarkus - AdviceWith can&#39;t find route by id","body":"<p>I have the following route:</p>\n<pre class=\"lang-java prettyprint-override\"><code>from(&quot;direct:someRoute&quot;)\n.id(&quot;someRoute&quot;)\n.log(...)\n.to(&quot;sql-stored:someProcedure(BIGINT ${exchangeProperty.someVal})&quot;)\n.id(&quot;someCall&quot;)\n.log(...)\n.end()\n</code></pre>\n<p>I am attempting to replace the <code>someCall</code> REST call with canned data for tests.</p>\n<p>I have setup my tests as such:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@QuarkusTest\npublic Class Tests{\n\n    @Inject\n    CamelContext camelContext\n\n    @BeforeEach\n    public void setup(){\n        AdviceWith.adviceWith(\n            this.camelContext,\n            &quot;someRoute&quot;,\n            a -&gt; {\n                a.weaveById(&quot;someCall&quot;)\n                    .replace()\n                    .setBody()\n                    .constant(&quot;{}&quot;)\n            }\n        );\n    }\n\n    @Test\n    public void testOne(){\n        //...\n    }\n    @Test\n    public void testTwo(){\n        //...\n    }\n}\n</code></pre>\n<p>However, when I run the tests, I get the following errors:</p>\n<ul>\n<li>First test error:\n<ul>\n<li><code>Cannot advice route as route with id: someRoute does not exists</code></li>\n</ul>\n</li>\n<li>Second test error:\n<ul>\n<li><code>There are no outputs with matches: someCall in the route: &lt;routeToString, oddly with no mention of the someCall route, or even an sql route&gt;</code></li>\n</ul>\n</li>\n</ul>\n<p>Seem like strange errors to me, looking through the logs and the route is definitely being picked up, and even stranger that the <code>someCall</code> reference isn't in the toString...</p>\n<h2>Update</h2>\n<p>Just realized that this occurrs in tests <em>after</em> the first one. It seems that my issue is related to the face that this is in an <code>@BeforeEach</code>... Should I rework to only be called once, or is there a way to reset the camel context before re-applying the mock?</p>\n<h2>Update 2</h2>\n<p>Tried calling <code>context.stop()</code> and <code>context.start()</code> at the beginning of the tests, but got an error saying it is unsupported.</p>\n<p>Trying with <code>CamelQuarkusTestSupport</code> ended up with the first test working out, but every additional test having an empty <code>CamelQuarkus</code> with no routes...</p>\n"},{"tags":["java","spring","spring-cloud-contract"],"answers":[{"tags":[],"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1525609474,"creation_date":1525609474,"answer_id":50199662,"question_id":50191885,"body_markdown":"If you check the documentation (https://cloud.spring.io/spring-cloud-static/spring-cloud-contract/1.2.4.RELEASE/spring-cloud-contract-maven-plugin/generateTests-mojo.html) you&#39;ll see that you can do a number of things. `-DskipTests`, `-Dspring.cloud.contract.verifier.skip=true`. Always read the documentation.","title":"How to skip the test generation maven goal with Spring Cloud Contract Verifier?","body":"<p>If you check the documentation (<a href=\"https://cloud.spring.io/spring-cloud-static/spring-cloud-contract/1.2.4.RELEASE/spring-cloud-contract-maven-plugin/generateTests-mojo.html\" rel=\"nofollow noreferrer\">https://cloud.spring.io/spring-cloud-static/spring-cloud-contract/1.2.4.RELEASE/spring-cloud-contract-maven-plugin/generateTests-mojo.html</a>) you'll see that you can do a number of things. <code>-DskipTests</code>, <code>-Dspring.cloud.contract.verifier.skip=true</code>. Always read the documentation.</p>\n"},{"tags":[],"owner":{"account_id":8886178,"reputation":499,"user_id":6634372,"display_name":"KarthikaSrinivasan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684258350,"creation_date":1684258350,"answer_id":76265734,"question_id":50191885,"body_markdown":"If you want to skip contract tests use `&lt;skipTests&gt;true&lt;/skipTests&gt;` in your cloud contract plugin. This will create stubs and skipTests will skip running contracts","title":"How to skip the test generation maven goal with Spring Cloud Contract Verifier?","body":"<p>If you want to skip contract tests use <code>&lt;skipTests&gt;true&lt;/skipTests&gt;</code> in your cloud contract plugin. This will create stubs and skipTests will skip running contracts</p>\n"}],"owner":{"account_id":989178,"reputation":3110,"user_id":1042273,"accept_rate":85,"display_name":"Tarek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50199662,"answer_count":2,"score":0,"last_activity_date":1684258350,"creation_date":1525539180,"question_id":50191885,"body_markdown":"I want to test a service Consumer that uses FeignClient to call another service, Producer, that I have. In order to stub the service called, I&#39;m using spring-cloud-contract-verifier for the producer and spring-cloud-contract-stub-runner on the consumer.\r\n\r\nMy problem is that I already have written integration tests for the producer, so I&#39;d just like to generate the stubs and skip the tests generation. Using the spring-cloud-contract-maven-plugin, I&#39;ve tried to set up only the goals I need, but it&#39;s still trying to run the tests anyway. I suspect I&#39;m not setting it up correctly...\r\n\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-contract-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring-cloud-contract.version}&lt;/version&gt;\r\n        &lt;extensions&gt;true&lt;/extensions&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;convert&lt;/goal&gt;\r\n                    &lt;goal&gt;generateStubs&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;basePackageForTests&gt;com.example&lt;/basePackageForTests&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nwhen I run mvn clean install, it&#39;s still expecting a TestBase. How can I skip this goal?","title":"How to skip the test generation maven goal with Spring Cloud Contract Verifier?","body":"<p>I want to test a service Consumer that uses FeignClient to call another service, Producer, that I have. In order to stub the service called, I'm using spring-cloud-contract-verifier for the producer and spring-cloud-contract-stub-runner on the consumer.</p>\n\n<p>My problem is that I already have written integration tests for the producer, so I'd just like to generate the stubs and skip the tests generation. Using the spring-cloud-contract-maven-plugin, I've tried to set up only the goals I need, but it's still trying to run the tests anyway. I suspect I'm not setting it up correctly...</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-contract-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${spring-cloud-contract.version}&lt;/version&gt;\n    &lt;extensions&gt;true&lt;/extensions&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;convert&lt;/goal&gt;\n                &lt;goal&gt;generateStubs&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;basePackageForTests&gt;com.example&lt;/basePackageForTests&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>when I run mvn clean install, it's still expecting a TestBase. How can I skip this goal?</p>\n"},{"tags":["java","string","algorithm","hash"],"comments":[{"owner":{"account_id":11209,"reputation":25528,"user_id":21499,"accept_rate":56,"display_name":"Dr. Hans-Peter St&#246;rr"},"score":1,"creation_date":1274280631,"post_id":299304,"comment_id":2911348,"body_markdown":"Compare also http://stackoverflow.com/questions/1835976/what-is-a-sensible-prime-for-hashcode-calculation - I think 31 is a bad choice if you write your own hashCode functions.","body":"Compare also <a href=\"http://stackoverflow.com/questions/1835976/what-is-a-sensible-prime-for-hashcode-calculation\" title=\"what is a sensible prime for hashcode calculation\">stackoverflow.com/questions/1835976/&hellip;</a> - I think 31 is a bad choice if you write your own hashCode functions."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":16,"creation_date":1499905967,"post_id":299304,"comment_id":77112291,"body_markdown":"If it was 29, or 37, or even 97, you would be asking &#39;why not 31?&#39;","body":"If it was 29, or 37, or even 97, you would be asking &#39;why not 31?&#39;"},{"owner":{"account_id":1708076,"reputation":325,"user_id":1566735,"display_name":"Dushyant Sabharwal"},"score":3,"creation_date":1504616938,"post_id":299304,"comment_id":79071125,"body_markdown":"@EJP it is important to know the reason behind the choice of a no. unless the number is outcome of a black magic trick.","body":"@EJP it is important to know the reason behind the choice of a no. unless the number is outcome of a black magic trick."},{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":0,"creation_date":1570094231,"post_id":299304,"comment_id":102808123,"body_markdown":"There is a blog post by @peter-lawrey about it here: https://vanilla-java.github.io/2018/08/12/Why-do-I-think-Stringhash-Code-is-poor.html and here: https://vanilla-java.github.io/2018/08/15/Looking-at-randomness-and-performance-for-hash-codes.html","body":"There is a blog post by @peter-lawrey about it here: <a href=\"https://vanilla-java.github.io/2018/08/12/Why-do-I-think-Stringhash-Code-is-poor.html\" rel=\"nofollow noreferrer\">vanilla-java.github.io/2018/08/12/&hellip;</a> and here: <a href=\"https://vanilla-java.github.io/2018/08/15/Looking-at-randomness-and-performance-for-hash-codes.html\" rel=\"nofollow noreferrer\">vanilla-java.github.io/2018/08/15/&hellip;</a>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1578888770,"post_id":299304,"comment_id":105572819,"body_markdown":"@DushyantSabharwal My point is that it could have *been* 29 or 37 or 97, or 41, or many other values, without making much practical difference. We were using 37 in 1976.","body":"@DushyantSabharwal My point is that it could have <i>been</i> 29 or 37 or 97, or 41, or many other values, without making much practical difference. We were using 37 in 1976."}],"answers":[{"tags":[],"owner":{"account_id":2241,"reputation":44197,"user_id":3093,"accept_rate":83,"display_name":"Dave L."},"down_vote_count":4,"up_vote_count":7,"is_accepted":false,"score":3,"last_activity_date":1227027483,"creation_date":1227027483,"answer_id":299369,"question_id":299304,"body_markdown":"I&#39;m not sure, but I would guess they tested some sample of prime numbers and found that 31 gave the best distribution over some sample of possible Strings.","title":"Why does Java&#39;s hashCode() in String use 31 as a multiplier?","body":"<p>I'm not sure, but I would guess they tested some sample of prime numbers and found that 31 gave the best distribution over some sample of possible Strings.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":1,"up_vote_count":62,"is_accepted":false,"score":61,"last_activity_date":1260279782,"creation_date":1227027705,"answer_id":299385,"question_id":299304,"body_markdown":"On (mostly) old processors, multiplying by 31 can be relatively cheap. On an ARM, for instance, it is only one instruction:\r\n\r\n    RSB       r1, r0, r0, ASL #5    ; r1 := - r0 + (r0&lt;&lt;5)\r\n\r\nMost other processors would require a separate shift and subtract instruction. However, if your multiplier is slow this is still a win. Modern processors tend to have fast multipliers so it doesn&#39;t make much difference, so long as 32 goes on the correct side.\r\n\r\nIt&#39;s not a great hash algorithm, but it&#39;s good enough and better than the 1.0 code (and very much better than the 1.0 spec!).","title":"Why does Java&#39;s hashCode() in String use 31 as a multiplier?","body":"<p>On (mostly) old processors, multiplying by 31 can be relatively cheap. On an ARM, for instance, it is only one instruction:</p>\n\n<pre><code>RSB       r1, r0, r0, ASL #5    ; r1 := - r0 + (r0&lt;&lt;5)\n</code></pre>\n\n<p>Most other processors would require a separate shift and subtract instruction. However, if your multiplier is slow this is still a win. Modern processors tend to have fast multipliers so it doesn't make much difference, so long as 32 goes on the correct side.</p>\n\n<p>It's not a great hash algorithm, but it's good enough and better than the 1.0 code (and very much better than the 1.0 spec!).</p>\n"},{"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"down_vote_count":4,"up_vote_count":479,"is_accepted":true,"score":475,"last_activity_date":1684258347,"creation_date":1227034404,"answer_id":299748,"question_id":299304,"body_markdown":"According to Joshua Bloch&#39;s [Effective Java, Second Edition][1] (a book that can&#39;t be recommended enough, and which I bought thanks to continual mentions on Stack Overflow):\r\n\r\n&gt;The value 31 was chosen because it is an odd prime. If it were even and the multiplication overflowed, information would be lost, as multiplication by 2 is equivalent to shifting. The advantage of using a prime is less clear, but it is traditional. A nice property of 31 is that the multiplication can be replaced by a shift and a subtraction for better performance: `31 * i == (i &lt;&lt; 5) - i`. Modern VMs do this sort of optimization automatically.\r\n\r\n*(from Chapter 3, Item 9: Always override `hashCode` when you override `equals`, page 48)*\r\n\r\n\r\n  [1]: http://www.amazon.com/Effective-Java-2nd-Joshua-Bloch/dp/0321356683/ref=sr_1_1?ie=UTF8&amp;s=books&amp;qid=1227034282&amp;sr=1-1","title":"Why does Java&#39;s hashCode() in String use 31 as a multiplier?","body":"<p>According to Joshua Bloch's <a href=\"https://rads.stackoverflow.com/amzn/click/com/0321356683\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">Effective Java, Second Edition</a> (a book that can't be recommended enough, and which I bought thanks to continual mentions on Stack Overflow):</p>\n<blockquote>\n<p>The value 31 was chosen because it is an odd prime. If it were even and the multiplication overflowed, information would be lost, as multiplication by 2 is equivalent to shifting. The advantage of using a prime is less clear, but it is traditional. A nice property of 31 is that the multiplication can be replaced by a shift and a subtraction for better performance: <code>31 * i == (i &lt;&lt; 5) - i</code>. Modern VMs do this sort of optimization automatically.</p>\n</blockquote>\n<p><em>(from Chapter 3, Item 9: Always override <code>hashCode</code> when you override <code>equals</code>, page 48)</em></p>\n"},{"tags":[],"owner":{"account_id":17330,"reputation":3120,"user_id":38696,"accept_rate":66,"display_name":"JohnZaj"},"down_vote_count":1,"up_vote_count":98,"is_accepted":false,"score":97,"last_activity_date":1599944726,"creation_date":1227041788,"answer_id":300111,"question_id":299304,"body_markdown":"Goodrich and Tamassia computed from over 50,000 English words (formed as the union of the word lists provided in two variants of Unix) that using the constants 31, 33, 37, 39, and 41 will produce fewer than 7 collisions in each case. This may be the reason that so many Java implementations choose such constants. \r\n\r\nSee section 9.2 Hash Tables (page 522) of [Data Structures and Algorithms in Java][2].\r\n\r\n\r\n  [2]: https://enos.itcollege.ee/~jpoial/algorithms/GT/Data%20Structures%20and%20Algorithms%20in%20Java%20Fourth%20Edition.pdf","title":"Why does Java&#39;s hashCode() in String use 31 as a multiplier?","body":"<p>Goodrich and Tamassia computed from over 50,000 English words (formed as the union of the word lists provided in two variants of Unix) that using the constants 31, 33, 37, 39, and 41 will produce fewer than 7 collisions in each case. This may be the reason that so many Java implementations choose such constants.</p>\n<p>See section 9.2 Hash Tables (page 522) of <a href=\"https://enos.itcollege.ee/%7Ejpoial/algorithms/GT/Data%20Structures%20and%20Algorithms%20in%20Java%20Fourth%20Edition.pdf\" rel=\"noreferrer\">Data Structures and Algorithms in Java</a>.</p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1242756657,"creation_date":1242756657,"answer_id":884257,"question_id":299304,"body_markdown":"By multiplying, bits are shifted to the left. This uses more of the available space of hash codes, reducing collisions.\r\n\r\nBy not using a power of two, the lower-order, rightmost bits are populated as well, to be mixed with the next piece of data going into the hash.\r\n\r\nThe expression `n * 31` is equivalent to `(n &lt;&lt; 5) - n`.","title":"Why does Java&#39;s hashCode() in String use 31 as a multiplier?","body":"<p>By multiplying, bits are shifted to the left. This uses more of the available space of hash codes, reducing collisions.</p>\n\n<p>By not using a power of two, the lower-order, rightmost bits are populated as well, to be mixed with the next piece of data going into the hash.</p>\n\n<p>The expression <code>n * 31</code> is equivalent to <code>(n &lt;&lt; 5) - n</code>.</p>\n"},{"tags":[],"owner":{"account_id":129609,"reputation":3070,"user_id":328304,"display_name":"Jason"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1272495512,"creation_date":1272494353,"answer_id":2733601,"question_id":299304,"body_markdown":"Bloch doesn&#39;t quite go into this, but the rationale I&#39;ve always heard/believed is that this is basic algebra.  Hashes boil down to multiplication and modulus operations, which means that you never want to use numbers with common factors if you can help it.  In other words, relatively prime numbers provide an even distribution of answers.\r\n\r\nThe numbers that make up using a hash are typically:\r\n\r\n - modulus of the data type you put it into\r\n   (2^32 or 2^64)\r\n - modulus of the bucket count in your hashtable (varies.  In java used to be prime, now 2^n)\r\n - multiply or shift by a magic number in your mixing function\r\n - The input value\r\n\r\nYou really only get to control a couple of these values, so a little extra care is due.","title":"Why does Java&#39;s hashCode() in String use 31 as a multiplier?","body":"<p>Bloch doesn't quite go into this, but the rationale I've always heard/believed is that this is basic algebra.  Hashes boil down to multiplication and modulus operations, which means that you never want to use numbers with common factors if you can help it.  In other words, relatively prime numbers provide an even distribution of answers.</p>\n\n<p>The numbers that make up using a hash are typically:</p>\n\n<ul>\n<li>modulus of the data type you put it into\n(2^32 or 2^64)</li>\n<li>modulus of the bucket count in your hashtable (varies.  In java used to be prime, now 2^n)</li>\n<li>multiply or shift by a magic number in your mixing function</li>\n<li>The input value</li>\n</ul>\n\n<p>You really only get to control a couple of these values, so a little extra care is due.</p>\n"},{"tags":[],"owner":{"account_id":346719,"reputation":1817,"user_id":680410,"accept_rate":100,"display_name":"hrr"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1502267594,"creation_date":1311795464,"answer_id":6850231,"question_id":299304,"body_markdown":"Actually, 37 would work pretty well!  z := 37 * x can be computed as `y := x + 8 * x; z := x + 4 * y`.  Both steps correspond to one LEA x86 instructions, so this is extremely fast.  \r\n\r\nIn fact, multiplication with the even-larger prime **73** could be done at the same speed by setting `y := x + 8 * x; z := x + 8 * y`.\r\n\r\nUsing 73 or 37 (instead of 31) might be better, because it leads to _denser code_:  The two LEA instructions only take 6 bytes vs. the 7 bytes for move+shift+subtract for the multiplication by 31.  One possible caveat is that the 3-argument LEA instructions used here became slower on Intel&#39;s Sandy bridge architecture, with an increased latency of 3 cycles.\r\n\r\nMoreover, [73](http://bigbangtheory.wikia.com/wiki/73) is Sheldon Cooper&#39;s favorite number.","title":"Why does Java&#39;s hashCode() in String use 31 as a multiplier?","body":"<p>Actually, 37 would work pretty well!  z := 37 * x can be computed as <code>y := x + 8 * x; z := x + 4 * y</code>.  Both steps correspond to one LEA x86 instructions, so this is extremely fast.  </p>\n\n<p>In fact, multiplication with the even-larger prime <strong>73</strong> could be done at the same speed by setting <code>y := x + 8 * x; z := x + 8 * y</code>.</p>\n\n<p>Using 73 or 37 (instead of 31) might be better, because it leads to <em>denser code</em>:  The two LEA instructions only take 6 bytes vs. the 7 bytes for move+shift+subtract for the multiplication by 31.  One possible caveat is that the 3-argument LEA instructions used here became slower on Intel's Sandy bridge architecture, with an increased latency of 3 cycles.</p>\n\n<p>Moreover, <a href=\"http://bigbangtheory.wikia.com/wiki/73\" rel=\"noreferrer\">73</a> is Sheldon Cooper's favorite number.</p>\n"},{"tags":[],"owner":{"account_id":36890,"reputation":4474,"user_id":105344,"accept_rate":75,"display_name":"TheJuice"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1323271638,"creation_date":1323271638,"answer_id":8417835,"question_id":299304,"body_markdown":"Neil Coffey [explains][1] why 31 is used under *Ironing out the bias*.\r\n\r\nBasically using 31 gives you a more even set-bit probability distribution for the hash function.\r\n\r\n\r\n  [1]: http://www.javamex.com/tutorials/collections/hash_function_technical_2.shtml","title":"Why does Java&#39;s hashCode() in String use 31 as a multiplier?","body":"<p>Neil Coffey <a href=\"http://www.javamex.com/tutorials/collections/hash_function_technical_2.shtml\" rel=\"noreferrer\">explains</a> why 31 is used under <em>Ironing out the bias</em>.</p>\n\n<p>Basically using 31 gives you a more even set-bit probability distribution for the hash function.</p>\n"},{"tags":[],"owner":{"account_id":3232410,"reputation":3637,"user_id":2727750,"display_name":"David Ongaro"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1548526789,"creation_date":1455065186,"answer_id":35304979,"question_id":299304,"body_markdown":"You can read Bloch&#39;s original reasoning under &quot;Comments&quot; in http://bugs.java.com/bugdatabase/view_bug.do?bug_id=4045622. He investigated the performance of different hash functions in regards to the resulting &quot;average chain size&quot; in a hash table. `P(31)` was one of the common functions during that time which he found in K&amp;R&#39;s book (but even Kernighan and Ritchie couldn&#39;t remember where it came from). In the end he basically had to choose one and so he took `P(31)` since it seemed to perform well enough. Even though `P(33)` was not really worse and multiplication by 33 is equally fast to calculate (just a shift by 5 and an addition), he opted for 31 since 33 is not a prime:\r\n\r\n&gt; Of the remaining\r\nfour, I&#39;d probably select P(31), as it&#39;s the cheapest to calculate on a RISC\r\nmachine (because 31 is the difference of two powers of two).  P(33) is\r\nsimilarly cheap to calculate, but it&#39;s performance is marginally worse, and\r\n33 is composite, which makes me a bit nervous.\r\n\r\nSo the reasoning was not as rational as many of the answers here seem to imply. But we&#39;re all good in coming up with rational reasons after gut decisions (and even Bloch might be prone to that).\r\n","title":"Why does Java&#39;s hashCode() in String use 31 as a multiplier?","body":"<p>You can read Bloch's original reasoning under \"Comments\" in <a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=4045622\" rel=\"noreferrer\">http://bugs.java.com/bugdatabase/view_bug.do?bug_id=4045622</a>. He investigated the performance of different hash functions in regards to the resulting \"average chain size\" in a hash table. <code>P(31)</code> was one of the common functions during that time which he found in K&amp;R's book (but even Kernighan and Ritchie couldn't remember where it came from). In the end he basically had to choose one and so he took <code>P(31)</code> since it seemed to perform well enough. Even though <code>P(33)</code> was not really worse and multiplication by 33 is equally fast to calculate (just a shift by 5 and an addition), he opted for 31 since 33 is not a prime:</p>\n\n<blockquote>\n  <p>Of the remaining\n  four, I'd probably select P(31), as it's the cheapest to calculate on a RISC\n  machine (because 31 is the difference of two powers of two).  P(33) is\n  similarly cheap to calculate, but it's performance is marginally worse, and\n  33 is composite, which makes me a bit nervous.</p>\n</blockquote>\n\n<p>So the reasoning was not as rational as many of the answers here seem to imply. But we're all good in coming up with rational reasons after gut decisions (and even Bloch might be prone to that).</p>\n"},{"tags":[],"owner":{"account_id":66439,"reputation":23650,"user_id":194894,"accept_rate":94,"display_name":"Flow"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1515950821,"creation_date":1497302223,"answer_id":44508855,"question_id":299304,"body_markdown":"From [JDK-4045622][1], where Joshua Bloch describes the reasons why that particular (new) `String.hashCode()` implementation was chosen\r\n\r\n&gt; The table below summarizes the performance of the various hash\r\n&gt; functions described above, for three data sets:\r\n&gt; \r\n&gt; 1) All of the words and phrases with entries in Merriam-Webster&#39;s\r\n&gt;        2nd Int&#39;l Unabridged Dictionary (311,141 strings, avg length 10 chars).\r\n&gt;\r\n&gt;  2) All of the strings in /bin/*, /usr/bin/*, /usr/lib/*, /usr/ucb/*\r\n&gt;        and /usr/openwin/bin/*  (66,304 strings, avg length 21 characters).\r\n&gt; \r\n&gt;  3) A list of URLs gathered by a web-crawler that ran for several\r\n&gt;        hours last night (28,372 strings, avg length 49 characters).\r\n&gt; \r\n&gt; The performance metric shown in the table is the &quot;average chain size&quot;\r\n&gt; over all elements in the hash table (i.e., the expected value of the\r\n&gt; number of key compares to look up an element).\r\n&gt; \r\n&gt;     \t\t\t                Webster&#39;s\tCode Strings\tURLs\r\n&gt;     \t\t\t                ---------   ------------\t----\r\n&gt;     Current Java Fn.\t        1.2509\t\t1.2738  \t    13.2560\r\n&gt;     P(37)    [Java]\t\t    1.2508\t\t1.2481  \t\t1.2454\r\n&gt;     P(65599) [Aho et al]\t    1.2490\t\t1.2510  \t\t1.2450\r\n&gt;     P(31)\t   [K+R]\t        1.2500\t\t1.2488  \t\t1.2425\r\n&gt;     P(33)    [Torek]\t        1.2500\t\t1.2500  \t\t1.2453\r\n&gt;     Vo&#39;s Fn\t\t\t        1.2487\t\t1.2471  \t\t1.2462\r\n&gt;     WAIS Fn\t\t        \t1.2497\t\t1.2519  \t\t1.2452\r\n&gt;     Weinberger&#39;s Fn(MatPak)   6.5169\t\t7.2142  \t    30.6864\r\n&gt;     Weinberger&#39;s Fn(24)    \t1.3222\t\t1.2791  \t\t1.9732\r\n&gt;     Weinberger&#39;s Fn(28)\t    1.2530\t\t1.2506  \t\t1.2439\r\n&gt; \r\n&gt; Looking at this table, it&#39;s clear that all of the functions except for\r\n&gt; the current Java function and the two broken versions of Weinberger&#39;s\r\n&gt; function offer excellent, nearly indistinguishable performance.  I\r\n&gt; strongly conjecture that this performance is essentially the\r\n&gt; &quot;theoretical ideal&quot;, which is what you&#39;d get if you used a true random\r\n&gt; number generator in place of a hash function.\r\n&gt; \r\n&gt; I&#39;d rule out the WAIS function as its specification contains pages of random numbers, and its performance is no better than any of the\r\n&gt; far simpler functions.  Any of the remaining six functions seem like\r\n&gt; excellent choices, but we have to pick one.  I suppose I&#39;d rule out\r\n&gt; Vo&#39;s variant and Weinberger&#39;s function because of their added\r\n&gt; complexity, albeit minor.  Of the remaining four, I&#39;d probably select\r\n&gt; P(31), as it&#39;s the cheapest to calculate on a RISC machine (because 31\r\n&gt; is the difference of two powers of two).  P(33) is similarly cheap to\r\n&gt; calculate, but it&#39;s performance is marginally worse, and 33 is\r\n&gt; composite, which makes me a bit nervous.\r\n&gt; \r\n&gt; Josh\r\n\r\n\r\n  [1]: http://bugs.java.com/bugdatabase/view_bug.do?bug_id=4045622","title":"Why does Java&#39;s hashCode() in String use 31 as a multiplier?","body":"<p>From <a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=4045622\" rel=\"noreferrer\">JDK-4045622</a>, where Joshua Bloch describes the reasons why that particular (new) <code>String.hashCode()</code> implementation was chosen</p>\n\n<blockquote>\n  <p>The table below summarizes the performance of the various hash\n  functions described above, for three data sets:</p>\n  \n  <p>1) All of the words and phrases with entries in Merriam-Webster's\n         2nd Int'l Unabridged Dictionary (311,141 strings, avg length 10 chars).</p>\n  \n  <p>2) All of the strings in /bin/<em>, /usr/bin/</em>, /usr/lib/<em>, /usr/ucb/</em>\n         and /usr/openwin/bin/*  (66,304 strings, avg length 21 characters).</p>\n  \n  <p>3) A list of URLs gathered by a web-crawler that ran for several\n         hours last night (28,372 strings, avg length 49 characters).</p>\n  \n  <p>The performance metric shown in the table is the \"average chain size\"\n  over all elements in the hash table (i.e., the expected value of the\n  number of key compares to look up an element).</p>\n\n<pre><code>                          Webster's   Code Strings    URLs\n                          ---------   ------------    ----\nCurrent Java Fn.          1.2509      1.2738          13.2560\nP(37)    [Java]           1.2508      1.2481          1.2454\nP(65599) [Aho et al]      1.2490      1.2510          1.2450\nP(31)    [K+R]            1.2500      1.2488          1.2425\nP(33)    [Torek]          1.2500      1.2500          1.2453\nVo's Fn                   1.2487      1.2471          1.2462\nWAIS Fn                   1.2497      1.2519          1.2452\nWeinberger's Fn(MatPak)   6.5169      7.2142          30.6864\nWeinberger's Fn(24)       1.3222      1.2791          1.9732\nWeinberger's Fn(28)       1.2530      1.2506          1.2439\n</code></pre>\n  \n  <p>Looking at this table, it's clear that all of the functions except for\n  the current Java function and the two broken versions of Weinberger's\n  function offer excellent, nearly indistinguishable performance.  I\n  strongly conjecture that this performance is essentially the\n  \"theoretical ideal\", which is what you'd get if you used a true random\n  number generator in place of a hash function.</p>\n  \n  <p>I'd rule out the WAIS function as its specification contains pages of random numbers, and its performance is no better than any of the\n  far simpler functions.  Any of the remaining six functions seem like\n  excellent choices, but we have to pick one.  I suppose I'd rule out\n  Vo's variant and Weinberger's function because of their added\n  complexity, albeit minor.  Of the remaining four, I'd probably select\n  P(31), as it's the cheapest to calculate on a RISC machine (because 31\n  is the difference of two powers of two).  P(33) is similarly cheap to\n  calculate, but it's performance is marginally worse, and 33 is\n  composite, which makes me a bit nervous.</p>\n  \n  <p>Josh</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1564406388,"creation_date":1550455422,"answer_id":54739533,"question_id":299304,"body_markdown":"In latest version of JDK, 31 is still used. https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html#hashCode()\r\n\r\n\r\nThe purpose of hash string is\r\n\r\n- unique (Let see operator `^` in hashcode calculation document, it help unique)\r\n- cheap cost for calculating\r\n\r\n31 is max value can put in 8 bit (= 1 byte) register, is largest prime number can put in 1 byte register, is odd number.\r\n\r\nMultiply 31 is &lt;&lt;5 then subtract itself, therefore need cheap resources.\r\n","title":"Why does Java&#39;s hashCode() in String use 31 as a multiplier?","body":"<p>In latest version of JDK, 31 is still used. <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html#hashCode()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html#hashCode()</a></p>\n\n<p>The purpose of hash string is</p>\n\n<ul>\n<li>unique (Let see operator <code>^</code> in hashcode calculation document, it help unique)</li>\n<li>cheap cost for calculating</li>\n</ul>\n\n<p>31 is max value can put in 8 bit (= 1 byte) register, is largest prime number can put in 1 byte register, is odd number.</p>\n\n<p>Multiply 31 is &lt;&lt;5 then subtract itself, therefore need cheap resources.</p>\n"},{"tags":[],"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1639942747,"creation_date":1563473106,"answer_id":57100339,"question_id":299304,"body_markdown":"**Java String hashCode() and 31**\r\n\r\nThis is because 31 has a nice property – it&#39;s multiplication can be replaced by a bitwise shift which is faster than the standard multiplication:\r\n\r\n```\r\n31 * i == (i &lt;&lt; 5) - i\r\n```","title":"Why does Java&#39;s hashCode() in String use 31 as a multiplier?","body":"<p><strong>Java String hashCode() and 31</strong></p>\n<p>This is because 31 has a nice property – it's multiplication can be replaced by a bitwise shift which is faster than the standard multiplication:</p>\n<pre><code>31 * i == (i &lt;&lt; 5) - i\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5501958,"reputation":103,"user_id":4415649,"display_name":"Altan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592957030,"creation_date":1592956478,"answer_id":62545515,"question_id":299304,"body_markdown":"A big expectation from hash functions is that their result&#39;s uniform randomness survives an operation such as `hash(x) % N` where N is an arbitrary number (and in many cases, a power of two), one reason being that such operations are used commonly in hash tables for determining slots. Using prime number multipliers when computing the hash decreases the probability that your multiplier and the N share divisors, which would make the result of the operation less uniformly random.\r\n\r\nOthers have pointed out the nice property that multiplication by 31 can be done by a multiplication and a subtraction. I just want to point out that there is a mathematical term for such primes: [Mersenne Prime][1]\r\n\r\nAll mersenne primes are one less than a power of two so we can write them as:\r\n\r\n    p = 2^n - 1\r\n\r\nMultiplying x by p:\r\n\r\n    x * p = x * (2^n - 1) = x * 2^n - x = (x &lt;&lt; n) - x\r\n\r\nShifts (SAL/SHL) and subtractions (SUB) are generally faster than multiplications (MUL) on many machines. See [instruction tables from Agner Fog][2]\r\n\r\nThat&#39;s why GCC seems to optimize multiplications by mersenne primes by replacing them with shifts and subs, [see here][3].\r\n\r\nHowever, in my opinion, such a small prime is a bad choice for a hash function. With a relatively good hash function, you would expect to have randomness at the higher bits of the hash. However, with the Java hash function, there is almost no randomness at the higher bits with shorter strings (and still highly questionable randomness at the lower bits). This makes it more difficult to build efficient hash tables. See [this nice trick you couldn&#39;t do with the Java hash function][4].\r\n\r\nSome answers mention that they believe it is good that 31 fits into a byte. This is actually useless since:\r\n\r\n(1) We execute shifts instead of multiplications, so the size of the multiplier does not matter.\r\n\r\n(2) As far as I know, there is no specific x86 instruction to multiply an 8 byte value with a 1 byte value so you would have needed to convert &quot;31&quot; to a 8 byte value anyway even if you were multiplying. See [here][5], you multiply entire 64bit registers.\r\n\r\n(And 127 is actually the largest mersenne prime that could fit in a byte.)\r\n\r\nDoes a smaller value increase randomness in the middle-lower bits? Maybe, but it also seems to greatly increase the possible collisions :).\r\n\r\nOne could list many different issues but they generally boil down to two core principles not being fulfilled well: [Confusion and Diffusion][6]\r\n\r\nBut is it fast? Probably, since it doesn&#39;t do much. However, if performance is really the focus here, one character per loop is quite inefficient. Why not do 4 characters at a time (8 bytes) per loop iteration for longer strings, [like this][7]?  Well, that would be difficult to do with the current definition of hash where you need to multiply every character individually (please tell me if there is a bit hack to solve this :D).\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Mersenne_prime\r\n  [2]: https://www.agner.org/optimize/instruction_tables.pdf\r\n  [3]: https://godbolt.org/z/jpeZEB\r\n  [4]: https://lemire.me/blog/2016/06/27/a-fast-alternative-to-the-modulo-reduction/\r\n  [5]: https://godbolt.org/z/HqArTp\r\n  [6]: https://en.wikipedia.org/wiki/Confusion_and_diffusion\r\n  [7]: https://godbolt.org/z/b2TKFs","title":"Why does Java&#39;s hashCode() in String use 31 as a multiplier?","body":"<p>A big expectation from hash functions is that their result's uniform randomness survives an operation such as <code>hash(x) % N</code> where N is an arbitrary number (and in many cases, a power of two), one reason being that such operations are used commonly in hash tables for determining slots. Using prime number multipliers when computing the hash decreases the probability that your multiplier and the N share divisors, which would make the result of the operation less uniformly random.</p>\n<p>Others have pointed out the nice property that multiplication by 31 can be done by a multiplication and a subtraction. I just want to point out that there is a mathematical term for such primes: <a href=\"https://en.wikipedia.org/wiki/Mersenne_prime\" rel=\"nofollow noreferrer\">Mersenne Prime</a></p>\n<p>All mersenne primes are one less than a power of two so we can write them as:</p>\n<pre><code>p = 2^n - 1\n</code></pre>\n<p>Multiplying x by p:</p>\n<pre><code>x * p = x * (2^n - 1) = x * 2^n - x = (x &lt;&lt; n) - x\n</code></pre>\n<p>Shifts (SAL/SHL) and subtractions (SUB) are generally faster than multiplications (MUL) on many machines. See <a href=\"https://www.agner.org/optimize/instruction_tables.pdf\" rel=\"nofollow noreferrer\">instruction tables from Agner Fog</a></p>\n<p>That's why GCC seems to optimize multiplications by mersenne primes by replacing them with shifts and subs, <a href=\"https://godbolt.org/z/jpeZEB\" rel=\"nofollow noreferrer\">see here</a>.</p>\n<p>However, in my opinion, such a small prime is a bad choice for a hash function. With a relatively good hash function, you would expect to have randomness at the higher bits of the hash. However, with the Java hash function, there is almost no randomness at the higher bits with shorter strings (and still highly questionable randomness at the lower bits). This makes it more difficult to build efficient hash tables. See <a href=\"https://lemire.me/blog/2016/06/27/a-fast-alternative-to-the-modulo-reduction/\" rel=\"nofollow noreferrer\">this nice trick you couldn't do with the Java hash function</a>.</p>\n<p>Some answers mention that they believe it is good that 31 fits into a byte. This is actually useless since:</p>\n<p>(1) We execute shifts instead of multiplications, so the size of the multiplier does not matter.</p>\n<p>(2) As far as I know, there is no specific x86 instruction to multiply an 8 byte value with a 1 byte value so you would have needed to convert &quot;31&quot; to a 8 byte value anyway even if you were multiplying. See <a href=\"https://godbolt.org/z/HqArTp\" rel=\"nofollow noreferrer\">here</a>, you multiply entire 64bit registers.</p>\n<p>(And 127 is actually the largest mersenne prime that could fit in a byte.)</p>\n<p>Does a smaller value increase randomness in the middle-lower bits? Maybe, but it also seems to greatly increase the possible collisions :).</p>\n<p>One could list many different issues but they generally boil down to two core principles not being fulfilled well: <a href=\"https://en.wikipedia.org/wiki/Confusion_and_diffusion\" rel=\"nofollow noreferrer\">Confusion and Diffusion</a></p>\n<p>But is it fast? Probably, since it doesn't do much. However, if performance is really the focus here, one character per loop is quite inefficient. Why not do 4 characters at a time (8 bytes) per loop iteration for longer strings, <a href=\"https://godbolt.org/z/b2TKFs\" rel=\"nofollow noreferrer\">like this</a>?  Well, that would be difficult to do with the current definition of hash where you need to multiply every character individually (please tell me if there is a bit hack to solve this :D).</p>\n"}],"owner":{"account_id":994,"reputation":8800,"user_id":1318,"accept_rate":100,"display_name":"jacobko"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181679,"favorite_count":0,"down_vote_count":1,"up_vote_count":579,"accepted_answer_id":299748,"answer_count":13,"score":578,"last_activity_date":1684258347,"creation_date":1227026383,"question_id":299304,"body_markdown":"Per the Java documentation, the [hash code][1] for a `String` object is computed as:\r\n\r\n&gt;     s[0]*31^(n-1) + s[1]*31^(n-2) + ... + s[n-1]\r\n&gt; using &lt;code&gt;int&lt;/code&gt; arithmetic, where &lt;code&gt;s[i]&lt;/code&gt; is the\r\n &lt;i&gt;i&lt;/i&gt;th character of the string, &lt;code&gt;n&lt;/code&gt; is the length of\r\n the string, and &lt;code&gt;^&lt;/code&gt; indicates exponentiation.\r\n\r\nWhy is 31 used as a multiplier?\r\n\r\nI understand that the multiplier should be a relatively large prime number. So why not 29, or 37, or even 97?\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/String.html#hashCode()","title":"Why does Java&#39;s hashCode() in String use 31 as a multiplier?","body":"<p>Per the Java documentation, the <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/String.html#hashCode()\" rel=\"noreferrer\">hash code</a> for a <code>String</code> object is computed as:</p>\n\n<blockquote>\n<pre><code>s[0]*31^(n-1) + s[1]*31^(n-2) + ... + s[n-1]\n</code></pre>\n  \n  <p>using <code>int</code> arithmetic, where <code>s[i]</code> is the\n   <i>i</i>th character of the string, <code>n</code> is the length of\n   the string, and <code>^</code> indicates exponentiation.</p>\n</blockquote>\n\n<p>Why is 31 used as a multiplier?</p>\n\n<p>I understand that the multiplier should be a relatively large prime number. So why not 29, or 37, or even 97?</p>\n"},{"tags":["java","android","android-studio","gradle","qr-code"],"comments":[{"owner":{"account_id":260152,"reputation":39795,"user_id":543539,"accept_rate":82,"display_name":"Egor"},"score":2,"creation_date":1684257986,"post_id":76265670,"comment_id":134491003,"body_markdown":"Have you added Jitpack to your list of repositories, as described in the setup instructions? https://github.com/androidmads/QRGenerator#how-to-import-the-library","body":"Have you added Jitpack to your list of repositories, as described in the setup instructions? <a href=\"https://github.com/androidmads/QRGenerator#how-to-import-the-library\" rel=\"nofollow noreferrer\">github.com/androidmads/QRGenerator#how-to-import-the-library</a>"},{"owner":{"account_id":17554756,"reputation":51,"user_id":12734445,"display_name":"Andrei"},"score":0,"creation_date":1684259633,"post_id":76265670,"comment_id":134491316,"body_markdown":"It did not work to add Jitpack in allprojects as reccomended but to add it to root settings.gradle, here: dependencyResolutionManagement","body":"It did not work to add Jitpack in allprojects as reccomended but to add it to root settings.gradle, here: dependencyResolutionManagement"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1684265154,"post_id":76265670,"comment_id":134492405,"body_markdown":"Having the repositories in settings.gradle is the new project layout used by AS for new projects. Originally everything was located in build.gradle.","body":"Having the repositories in settings.gradle is the new project layout used by AS for new projects. Originally everything was located in build.gradle."}],"owner":{"account_id":17554756,"reputation":51,"user_id":12734445,"display_name":"Andrei"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684257744,"creation_date":1684257744,"question_id":76265670,"body_markdown":"I am new to Android and I am trying to create a QR code but when I add the library in gradle I get: **Failed to resolve: com.github.androidmads:QRGenerator:1.0.3**\r\n\r\nThe project has just been created but I could not find any solution to make it work. What could be the solution for this?\r\n\r\nThe code in my grade is:\r\n\r\n        plugins {\r\n        id &#39;com.android.application&#39;\r\n    }\r\n    \r\n    ext {\r\n        qrgeneratorVersion = qrgeneratorVersion\r\n    }\r\n    android {\r\n        namespace &#39;com.example.androidqrpayment&#39;\r\n        compileSdk 33\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.androidqrpayment&quot;\r\n            minSdk 24\r\n            targetSdk 33\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n        buildFeatures {\r\n            viewBinding true\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n        implementation &#39;androidx.navigation:navigation-fragment:2.5.2&#39;\r\n        implementation &#39;androidx.navigation:navigation-ui:2.5.2&#39;\r\n        implementation &#39;com.github.androidmads:QRGenerator:1.0.3&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    \r\n    }\r\n\r\n","title":"Failed to resolve: com.github.androidmads:QRGenerator:1.0.3","body":"<p>I am new to Android and I am trying to create a QR code but when I add the library in gradle I get: <strong>Failed to resolve: com.github.androidmads:QRGenerator:1.0.3</strong></p>\n<p>The project has just been created but I could not find any solution to make it work. What could be the solution for this?</p>\n<p>The code in my grade is:</p>\n<pre><code>    plugins {\n    id 'com.android.application'\n}\n\next {\n    qrgeneratorVersion = qrgeneratorVersion\n}\nandroid {\n    namespace 'com.example.androidqrpayment'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.androidqrpayment&quot;\n        minSdk 24\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    buildFeatures {\n        viewBinding true\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    implementation 'androidx.navigation:navigation-fragment:2.5.2'\n    implementation 'androidx.navigation:navigation-ui:2.5.2'\n    implementation 'com.github.androidmads:QRGenerator:1.0.3'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n\n}\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":2,"creation_date":1684193289,"post_id":76258473,"comment_id":134478677,"body_markdown":"Please include the full stack trace.","body":"Please include the full stack trace."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1684194179,"post_id":76258473,"comment_id":134478780,"body_markdown":"Because: &quot;Could not initialize class io.jsonwebtoken.impl.crypto.RsaSignatureValidator&quot;.   The static initialization of the class failed; i.e. it threw an exception that wasn&#39;t caught.  Look for &gt;that&lt; stacktrace.","body":"Because: &quot;Could not initialize class io.jsonwebtoken.impl.crypto.RsaSignatureValidator&quot;.   The static initialization of the class failed; i.e. it threw an exception that wasn&#39;t caught.  Look for &gt;that&lt; stacktrace."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1684228804,"post_id":76258473,"comment_id":134483497,"body_markdown":"Check [this](https://stackoverflow.com/questions/49334095/error-during-digital-signature-verification-nosuchfielderror-id-ta-ecdsa-sha-1) out","body":"Check <a href=\"https://stackoverflow.com/questions/49334095/error-during-digital-signature-verification-nosuchfielderror-id-ta-ecdsa-sha-1\">this</a> out"}],"answers":[{"tags":[],"owner":{"account_id":17654983,"reputation":115,"user_id":12814777,"display_name":"dataman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684257133,"creation_date":1684257133,"answer_id":76265609,"question_id":76258473,"body_markdown":"The fix for Spring 3 was to update one of the bouncyCastle jars in the pom from bcprov-jdk15on to bcprov-jdk18on (which is for Java 1.8+)","title":"Why is NoClassDefFoundError thrown when class appears to be in classpath?","body":"<p>The fix for Spring 3 was to update one of the bouncyCastle jars in the pom from bcprov-jdk15on to bcprov-jdk18on (which is for Java 1.8+)</p>\n"}],"owner":{"account_id":17654983,"reputation":115,"user_id":12814777,"display_name":"dataman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":76265609,"answer_count":1,"score":0,"last_activity_date":1684257133,"creation_date":1684192703,"question_id":76258473,"body_markdown":"I migrated a webservice from Spring boot 2 to 3, and now I get a NoClassDefFoundError when the code in DefaultSignatureValidatorFactory tries to create a RsaSignatureValidator object.  \r\n\r\nI see the RsaSignatureValidator class in the jar file and I can open the code for that class by cmd-clicking the class from the calling class in Intellij debugger.  \r\n\r\nThe same code locates the class just fine in the springboot 2 version.\r\n\r\nHow can I determine why that NoClassDefFoundError is being thrown?\r\n\r\nThe code does not even get into the constructor but throws a java.lang.NoClassDefFoundError: Could not initialize class io.jsonwebtoken.impl.crypto.RsaSignatureValidator\r\n\r\nEDIT: Here is the stacktrace when I get the first exception where I believe the static initialization failed:\r\n\r\n    java.lang.NoSuchFieldError: id_TA_ECDSA_SHA_1\r\n    \tat org.bouncycastle.jce.provider.asymmetric.ECMappings.&lt;init&gt;(Unknown Source)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\r\n    \tat java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347)\r\n    \tat java.base/java.lang.Class.newInstance(Class.java:645)\r\n    \tat org.bouncycastle.jce.provider.BouncyCastleProvider.loadAlgorithms(Unknown Source)\r\n    \tat org.bouncycastle.jce.provider.BouncyCastleProvider.setup(Unknown Source)\r\n    \tat org.bouncycastle.jce.provider.BouncyCastleProvider.access$000(Unknown Source)\r\n    \tat org.bouncycastle.jce.provider.BouncyCastleProvider$1.run(Unknown Source)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\r\n    \tat org.bouncycastle.jce.provider.BouncyCastleProvider.&lt;init&gt;(Unknown Source)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\r\n    \tat java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347)\r\n    \tat java.base/java.lang.Class.newInstance(Class.java:645)\r\n    \tat io.jsonwebtoken.lang.Classes.newInstance(Classes.java:156)\r\n    \tat io.jsonwebtoken.lang.RuntimeEnvironment.enableBouncyCastleIfPossible(RuntimeEnvironment.java:53)\r\n    \tat io.jsonwebtoken.lang.RuntimeEnvironment.&lt;clinit&gt;(RuntimeEnvironment.java:62)\r\n    \tat io.jsonwebtoken.impl.crypto.RsaProvider.&lt;clinit&gt;(RsaProvider.java:59)\r\n    \tat io.jsonwebtoken.impl.crypto.DefaultSignatureValidatorFactory.createSignatureValidator(DefaultSignatureValidatorFactory.java:43)\r\n    \tat io.jsonwebtoken.impl.crypto.DefaultJwtSignatureValidator.&lt;init&gt;(DefaultJwtSignatureValidator.java:50)\r\n    \tat io.jsonwebtoken.impl.crypto.DefaultJwtSignatureValidator.&lt;init&gt;(DefaultJwtSignatureValidator.java:39)\r\n    \tat io.jsonwebtoken.impl.DefaultJwtParser.createSignatureValidator(DefaultJwtParser.java:541)\r\n    \tat io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:402)\r\n    \tat io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:550)\r\n    \tat io.jsonwebtoken.impl.ImmutableJwtParser.parse(ImmutableJwtParser.java:153)\r\n    \tat com.okta.jwt.impl.jjwt.TokenVerifierSupport.decode(TokenVerifierSupport.java:81)\r\n    \tat com.okta.jwt.impl.jjwt.JjwtAccessTokenVerifier.decode(JjwtAccessTokenVerifier.java:56)\r\n    \tat io.onq.service.security.AuthTokenUtil.getClaimsFromOktaToken(AuthTokenUtil.java:108)\r\n    \tat io.onq.service.security.AuthTokenUtil.getFromAuthProviderToken(AuthTokenUtil.java:125)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\r\n    \tat org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:49)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\r\n    \tat org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\r\n    \tat io.onq.service.security.AuthTokenUtil$$SpringCGLIB$$0.getFromAuthProviderToken(&lt;generated&gt;)\r\n    \tat io.onq.web.filter.UserAuthenticationTokenFilter.doFilterInternal(UserAuthenticationTokenFilter.java:61)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\r\n    \tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n","title":"Why is NoClassDefFoundError thrown when class appears to be in classpath?","body":"<p>I migrated a webservice from Spring boot 2 to 3, and now I get a NoClassDefFoundError when the code in DefaultSignatureValidatorFactory tries to create a RsaSignatureValidator object.</p>\n<p>I see the RsaSignatureValidator class in the jar file and I can open the code for that class by cmd-clicking the class from the calling class in Intellij debugger.</p>\n<p>The same code locates the class just fine in the springboot 2 version.</p>\n<p>How can I determine why that NoClassDefFoundError is being thrown?</p>\n<p>The code does not even get into the constructor but throws a java.lang.NoClassDefFoundError: Could not initialize class io.jsonwebtoken.impl.crypto.RsaSignatureValidator</p>\n<p>EDIT: Here is the stacktrace when I get the first exception where I believe the static initialization failed:</p>\n<pre><code>java.lang.NoSuchFieldError: id_TA_ECDSA_SHA_1\n    at org.bouncycastle.jce.provider.asymmetric.ECMappings.&lt;init&gt;(Unknown Source)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\n    at java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347)\n    at java.base/java.lang.Class.newInstance(Class.java:645)\n    at org.bouncycastle.jce.provider.BouncyCastleProvider.loadAlgorithms(Unknown Source)\n    at org.bouncycastle.jce.provider.BouncyCastleProvider.setup(Unknown Source)\n    at org.bouncycastle.jce.provider.BouncyCastleProvider.access$000(Unknown Source)\n    at org.bouncycastle.jce.provider.BouncyCastleProvider$1.run(Unknown Source)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\n    at org.bouncycastle.jce.provider.BouncyCastleProvider.&lt;init&gt;(Unknown Source)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\n    at java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347)\n    at java.base/java.lang.Class.newInstance(Class.java:645)\n    at io.jsonwebtoken.lang.Classes.newInstance(Classes.java:156)\n    at io.jsonwebtoken.lang.RuntimeEnvironment.enableBouncyCastleIfPossible(RuntimeEnvironment.java:53)\n    at io.jsonwebtoken.lang.RuntimeEnvironment.&lt;clinit&gt;(RuntimeEnvironment.java:62)\n    at io.jsonwebtoken.impl.crypto.RsaProvider.&lt;clinit&gt;(RsaProvider.java:59)\n    at io.jsonwebtoken.impl.crypto.DefaultSignatureValidatorFactory.createSignatureValidator(DefaultSignatureValidatorFactory.java:43)\n    at io.jsonwebtoken.impl.crypto.DefaultJwtSignatureValidator.&lt;init&gt;(DefaultJwtSignatureValidator.java:50)\n    at io.jsonwebtoken.impl.crypto.DefaultJwtSignatureValidator.&lt;init&gt;(DefaultJwtSignatureValidator.java:39)\n    at io.jsonwebtoken.impl.DefaultJwtParser.createSignatureValidator(DefaultJwtParser.java:541)\n    at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:402)\n    at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:550)\n    at io.jsonwebtoken.impl.ImmutableJwtParser.parse(ImmutableJwtParser.java:153)\n    at com.okta.jwt.impl.jjwt.TokenVerifierSupport.decode(TokenVerifierSupport.java:81)\n    at com.okta.jwt.impl.jjwt.JjwtAccessTokenVerifier.decode(JjwtAccessTokenVerifier.java:56)\n    at io.onq.service.security.AuthTokenUtil.getClaimsFromOktaToken(AuthTokenUtil.java:108)\n    at io.onq.service.security.AuthTokenUtil.getFromAuthProviderToken(AuthTokenUtil.java:125)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\n    at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:49)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\n    at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n    at io.onq.service.security.AuthTokenUtil$$SpringCGLIB$$0.getFromAuthProviderToken(&lt;generated&gt;)\n    at io.onq.web.filter.UserAuthenticationTokenFilter.doFilterInternal(UserAuthenticationTokenFilter.java:61)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","security"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1684256943,"creation_date":1684256304,"answer_id":76265519,"question_id":76261787,"body_markdown":"First, what you did is not quite adapted to authorities mapping: there are authentication (and authorities) converters for that. I have written a tutorial for configuring a quite universal authorities mapper [there][1]. It is compatible with Keycloak roles defined at realm level (those you found in `realm_access.roles` claim) as well as client level (`resource-access.{client-id}.roles` claims).\r\n\r\nEnriching the security SpEL DSL is actually a bit tricky (I had to copy a Spring protected class to get it working) and should be used when needing more than **R**ole **B**ased **A**ccess **C**ontrol. I have [another tutorial][2] for that, but it is quite adherent to my libs and starters (the previous one I linked is not).\r\n\r\nHere is a sample expression handler configuration:\r\n```java\r\n@Bean\r\nstatic MethodSecurityExpressionHandler methodSecurityExpressionHandler() {\r\n\treturn new C4MethodSecurityExpressionHandler(ProxiesMethodSecurityExpressionRoot::new);\r\n}\r\n```\r\nWith this expression root:\r\n```java\r\nstatic final class ProxiesMethodSecurityExpressionRoot extends C4MethodSecurityExpressionRoot {\r\n\r\n\tpublic boolean is(String preferredUsername) {\r\n\t\treturn Objects.equals(preferredUsername, getAuthentication().getName());\r\n\t}\r\n\r\n\tpublic Proxy onBehalfOf(String proxiedUsername) {\r\n\t\treturn get(ProxiesAuthentication.class).map(a -&gt; a.getProxyFor(proxiedUsername))\r\n\t\t\t\t.orElse(new Proxy(proxiedUsername, getAuthentication().getName(), List.of()));\r\n\t}\r\n\r\n\tpublic boolean isNice() {\r\n\t\treturn hasAnyAuthority(&quot;NICE&quot;, &quot;SUPER_COOL&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nAnd here is the code I had to copy from Spring Security:\r\n```java\r\n@RequiredArgsConstructor\r\npublic class C4MethodSecurityExpressionHandler extends DefaultMethodSecurityExpressionHandler {\r\n    private final Supplier&lt;C4MethodSecurityExpressionRoot&gt; expressionRootSupplier;\r\n\r\n    /**\r\n     * Creates the root object for expression evaluation.\r\n     */\r\n    @Override\r\n    protected MethodSecurityExpressionOperations createSecurityExpressionRoot(Authentication authentication,\r\n            MethodInvocation invocation) {\r\n        return createSecurityExpressionRoot(() -&gt; authentication, invocation);\r\n    }\r\n\r\n    @Override\r\n    public EvaluationContext createEvaluationContext(Supplier&lt;Authentication&gt; authentication, MethodInvocation mi) {\r\n        var root = createSecurityExpressionRoot(authentication, mi);\r\n        var ctx = new C4MethodSecurityEvaluationContext(root, mi, getParameterNameDiscoverer());\r\n        ctx.setBeanResolver(getBeanResolver());\r\n        return ctx;\r\n    }\r\n\r\n    private MethodSecurityExpressionOperations createSecurityExpressionRoot(Supplier&lt;Authentication&gt; authentication,\r\n            MethodInvocation invocation) {\r\n        final var root = expressionRootSupplier.get();\r\n        root.setThis(invocation.getThis());\r\n        root.setPermissionEvaluator(getPermissionEvaluator());\r\n        root.setTrustResolver(getTrustResolver());\r\n        root.setRoleHierarchy(getRoleHierarchy());\r\n        root.setDefaultRolePrefix(getDefaultRolePrefix());\r\n        return root;\r\n    }\r\n\r\n    static class C4MethodSecurityEvaluationContext extends MethodBasedEvaluationContext {\r\n\r\n        C4MethodSecurityEvaluationContext(MethodSecurityExpressionOperations root, MethodInvocation mi,\r\n                ParameterNameDiscoverer parameterNameDiscoverer) {\r\n            super(root, getSpecificMethod(mi), mi.getArguments(), parameterNameDiscoverer);\r\n        }\r\n\r\n        private static Method getSpecificMethod(MethodInvocation mi) {\r\n            return AopUtils.getMostSpecificMethod(mi.getMethod(), AopProxyUtils.ultimateTargetClass(mi.getThis()));\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n```java\r\npublic class C4MethodSecurityExpressionRoot extends SecurityExpressionRoot implements MethodSecurityExpressionOperations {\r\n\r\n\tprivate Object filterObject;\r\n\tprivate Object returnObject;\r\n\tprivate Object target;\r\n\r\n\tpublic C4MethodSecurityExpressionRoot() {\r\n\t\tsuper(SecurityContextHolder.getContext().getAuthentication());\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\tprotected &lt;T extends Authentication&gt; Optional&lt;T&gt; get(Class&lt;T&gt; expectedAuthType) {\r\n\t\treturn Optional.ofNullable(getAuthentication()).map(a -&gt; a.getClass().isAssignableFrom(expectedAuthType) ? (T) a : null).flatMap(Optional::ofNullable);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void setFilterObject(Object filterObject) {\r\n\t\tthis.filterObject = filterObject;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object getFilterObject() {\r\n\t\treturn filterObject;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void setReturnObject(Object returnObject) {\r\n\t\tthis.returnObject = returnObject;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object getReturnObject() {\r\n\t\treturn returnObject;\r\n\t}\r\n\r\n\tpublic void setThis(Object target) {\r\n\t\tthis.target = target;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object getThis() {\r\n\t\treturn target;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/servlet-resource-server\r\n  [2]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_specialized_oauthentication","title":"Implementing Custom Expression Handling with Spring Security 6","body":"<p>First, what you did is not quite adapted to authorities mapping: there are authentication (and authorities) converters for that. I have written a tutorial for configuring a quite universal authorities mapper <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/servlet-resource-server\" rel=\"nofollow noreferrer\">there</a>. It is compatible with Keycloak roles defined at realm level (those you found in <code>realm_access.roles</code> claim) as well as client level (<code>resource-access.{client-id}.roles</code> claims).</p>\n<p>Enriching the security SpEL DSL is actually a bit tricky (I had to copy a Spring protected class to get it working) and should be used when needing more than <strong>R</strong>ole <strong>B</strong>ased <strong>A</strong>ccess <strong>C</strong>ontrol. I have <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_specialized_oauthentication\" rel=\"nofollow noreferrer\">another tutorial</a> for that, but it is quite adherent to my libs and starters (the previous one I linked is not).</p>\n<p>Here is a sample expression handler configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nstatic MethodSecurityExpressionHandler methodSecurityExpressionHandler() {\n    return new C4MethodSecurityExpressionHandler(ProxiesMethodSecurityExpressionRoot::new);\n}\n</code></pre>\n<p>With this expression root:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static final class ProxiesMethodSecurityExpressionRoot extends C4MethodSecurityExpressionRoot {\n\n    public boolean is(String preferredUsername) {\n        return Objects.equals(preferredUsername, getAuthentication().getName());\n    }\n\n    public Proxy onBehalfOf(String proxiedUsername) {\n        return get(ProxiesAuthentication.class).map(a -&gt; a.getProxyFor(proxiedUsername))\n                .orElse(new Proxy(proxiedUsername, getAuthentication().getName(), List.of()));\n    }\n\n    public boolean isNice() {\n        return hasAnyAuthority(&quot;NICE&quot;, &quot;SUPER_COOL&quot;);\n    }\n}\n</code></pre>\n<p>And here is the code I had to copy from Spring Security:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\npublic class C4MethodSecurityExpressionHandler extends DefaultMethodSecurityExpressionHandler {\n    private final Supplier&lt;C4MethodSecurityExpressionRoot&gt; expressionRootSupplier;\n\n    /**\n     * Creates the root object for expression evaluation.\n     */\n    @Override\n    protected MethodSecurityExpressionOperations createSecurityExpressionRoot(Authentication authentication,\n            MethodInvocation invocation) {\n        return createSecurityExpressionRoot(() -&gt; authentication, invocation);\n    }\n\n    @Override\n    public EvaluationContext createEvaluationContext(Supplier&lt;Authentication&gt; authentication, MethodInvocation mi) {\n        var root = createSecurityExpressionRoot(authentication, mi);\n        var ctx = new C4MethodSecurityEvaluationContext(root, mi, getParameterNameDiscoverer());\n        ctx.setBeanResolver(getBeanResolver());\n        return ctx;\n    }\n\n    private MethodSecurityExpressionOperations createSecurityExpressionRoot(Supplier&lt;Authentication&gt; authentication,\n            MethodInvocation invocation) {\n        final var root = expressionRootSupplier.get();\n        root.setThis(invocation.getThis());\n        root.setPermissionEvaluator(getPermissionEvaluator());\n        root.setTrustResolver(getTrustResolver());\n        root.setRoleHierarchy(getRoleHierarchy());\n        root.setDefaultRolePrefix(getDefaultRolePrefix());\n        return root;\n    }\n\n    static class C4MethodSecurityEvaluationContext extends MethodBasedEvaluationContext {\n\n        C4MethodSecurityEvaluationContext(MethodSecurityExpressionOperations root, MethodInvocation mi,\n                ParameterNameDiscoverer parameterNameDiscoverer) {\n            super(root, getSpecificMethod(mi), mi.getArguments(), parameterNameDiscoverer);\n        }\n\n        private static Method getSpecificMethod(MethodInvocation mi) {\n            return AopUtils.getMostSpecificMethod(mi.getMethod(), AopProxyUtils.ultimateTargetClass(mi.getThis()));\n        }\n\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class C4MethodSecurityExpressionRoot extends SecurityExpressionRoot implements MethodSecurityExpressionOperations {\n\n    private Object filterObject;\n    private Object returnObject;\n    private Object target;\n\n    public C4MethodSecurityExpressionRoot() {\n        super(SecurityContextHolder.getContext().getAuthentication());\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    protected &lt;T extends Authentication&gt; Optional&lt;T&gt; get(Class&lt;T&gt; expectedAuthType) {\n        return Optional.ofNullable(getAuthentication()).map(a -&gt; a.getClass().isAssignableFrom(expectedAuthType) ? (T) a : null).flatMap(Optional::ofNullable);\n    }\n\n    @Override\n    public void setFilterObject(Object filterObject) {\n        this.filterObject = filterObject;\n    }\n\n    @Override\n    public Object getFilterObject() {\n        return filterObject;\n    }\n\n    @Override\n    public void setReturnObject(Object returnObject) {\n        this.returnObject = returnObject;\n    }\n\n    @Override\n    public Object getReturnObject() {\n        return returnObject;\n    }\n\n    public void setThis(Object target) {\n        this.target = target;\n    }\n\n    @Override\n    public Object getThis() {\n        return target;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":253423,"reputation":295,"user_id":532115,"display_name":"ghallas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1135,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76265519,"answer_count":1,"score":2,"last_activity_date":1684256943,"creation_date":1684231572,"question_id":76261787,"body_markdown":"In my Java Spring Boot 3 application, I want to use Spring Security with `@PreAuthorize` / `@PostAuthorize`. For some reason, the Keycloak-generated tokens I receive do not have Roles under `Authorities` as Spring expects them, but under a `&quot;realm_access&quot;` attribute.  \r\nSo, I decided to go ahead and implement a custom Expession handler, following pretty much what I found in https://docs.spring.io/spring-security/reference/servlet/authorization/method-security.html#customizing-expression-handling \r\n\r\nSo, some code  \r\n**Expression Root**\r\n\r\n```\r\npublic class CustomMethodSecurityExpressionRoot\r\n        extends SecurityExpressionRoot implements MethodSecurityExpressionOperations {\r\n\r\n    public CustomMethodSecurityExpressionRoot(Authentication authentication) {\r\n        super(authentication);\r\n    }\r\n\r\n    public boolean hasRealmRole(String role) {\r\n        var principal = ((OAuth2AuthenticatedPrincipal)this.getPrincipal());\r\n        if (principal == null) {\r\n            return false;\r\n        }\r\n\r\n        var realmAccess = (JSONObject)principal.getAttribute(&quot;realm_access&quot;);\r\n        if (realmAccess == null) {\r\n            return false;\r\n        }\r\n\r\n        var roles = (JSONArray)realmAccess.get(&quot;roles&quot;);\r\n        if (roles == null || roles.isEmpty()) {\r\n            return false;\r\n        }\r\n\r\n        return roles.stream().anyMatch(x -&gt; x.equals(role));\r\n    }\r\n\r\n    @Override\r\n    public void setFilterObject(Object filterObject) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public Object getFilterObject() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public void setReturnObject(Object returnObject) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public Object getReturnObject() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public Object getThis() {\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\n**Expression Handler**\r\n```\r\npublic class CustomMethodSecurityExpressionHandler extends DefaultMethodSecurityExpressionHandler {\r\n    private AuthenticationTrustResolver trustResolver = new AuthenticationTrustResolverImpl();\r\n\r\n    @Override\r\n    protected MethodSecurityExpressionOperations createSecurityExpressionRoot(\r\n            Authentication authentication, MethodInvocation invocation) {\r\n        CustomMethodSecurityExpressionRoot root =\r\n                new CustomMethodSecurityExpressionRoot(authentication);\r\n        root.setPermissionEvaluator(getPermissionEvaluator());\r\n        root.setTrustResolver(this.trustResolver);\r\n        root.setRoleHierarchy(getRoleHierarchy());\r\n        return root;\r\n    }\r\n}\r\n```\r\n\r\n**Security Config**\r\n```\r\n@Configuration\r\n@EnableMethodSecurity\r\npublic class SecurityConfig {\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n            .authorizeHttpRequests(auth -&gt; auth\r\n                    .requestMatchers(&quot;/health/**&quot;).permitAll()\r\n                    .requestMatchers(&quot;/swagger-ui/**&quot;).permitAll()\r\n                    .requestMatchers(&quot;/swagger/**&quot;).permitAll()\r\n                    .requestMatchers(&quot;/v3/api-docs/**&quot;).permitAll()\r\n                    // Cloud config related endpoint\r\n                    .requestMatchers(&quot;/configuration/**&quot;).permitAll()\r\n                    .anyRequest().authenticated()\r\n            )\r\n            .oauth2ResourceServer(OAuth2ResourceServerConfigurer::opaqueToken);\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\n**Controller**\r\n```\r\n    @PreAuthorize(&quot;hasRealmRole(&#39;FOOBAR&#39;)&quot;)\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Asset&gt; getAsset(@UUIDConstraint @PathVariable(&quot;id&quot;) String id) {\r\n    ...\r\n```\r\n\r\nand finally, the **Beans** based on the Spring reference added above\r\n\r\n```\r\n@Configuration\r\npublic class BaseConfig {\r\n    @Bean\r\n    public RoleHierarchy roleHierarchy() {\r\n        return new RoleHierarchyImpl();\r\n    }\r\n\r\n    @Bean\r\n    static MethodSecurityExpressionHandler methodSecurityExpressionHandler(RoleHierarchy roleHierarchy) {\r\n        var handler = new CustomMethodSecurityExpressionHandler();\r\n        handler.setRoleHierarchy(roleHierarchy);\r\n        return handler;\r\n    }\r\n}\r\n```\r\n\r\nNow, when I am sending a request to the `/GET` endpoint, I get the following error:\r\n\r\n```\r\njava.lang.IllegalArgumentException: Failed to evaluate expression &#39;hasRealmRole(&#39;FOOBAR&#39;)&#39;  \r\n...  \r\nCaused by: org.springframework.expression.spel.SpelEvaluationException: EL1004E: Method call: Method hasRealmRole(java.lang.String) cannot be found on type org.springframework.security.access.expression.method.MethodSecurityExpressionRoot\r\n```\r\n\r\nAny idea why my `CustomMethodSecurityExpressionRoot` is not properly registered?\r\n","title":"Implementing Custom Expression Handling with Spring Security 6","body":"<p>In my Java Spring Boot 3 application, I want to use Spring Security with <code>@PreAuthorize</code> / <code>@PostAuthorize</code>. For some reason, the Keycloak-generated tokens I receive do not have Roles under <code>Authorities</code> as Spring expects them, but under a <code>&quot;realm_access&quot;</code> attribute.<br />\nSo, I decided to go ahead and implement a custom Expession handler, following pretty much what I found in <a href=\"https://docs.spring.io/spring-security/reference/servlet/authorization/method-security.html#customizing-expression-handling\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/authorization/method-security.html#customizing-expression-handling</a></p>\n<p>So, some code<br />\n<strong>Expression Root</strong></p>\n<pre><code>public class CustomMethodSecurityExpressionRoot\n        extends SecurityExpressionRoot implements MethodSecurityExpressionOperations {\n\n    public CustomMethodSecurityExpressionRoot(Authentication authentication) {\n        super(authentication);\n    }\n\n    public boolean hasRealmRole(String role) {\n        var principal = ((OAuth2AuthenticatedPrincipal)this.getPrincipal());\n        if (principal == null) {\n            return false;\n        }\n\n        var realmAccess = (JSONObject)principal.getAttribute(&quot;realm_access&quot;);\n        if (realmAccess == null) {\n            return false;\n        }\n\n        var roles = (JSONArray)realmAccess.get(&quot;roles&quot;);\n        if (roles == null || roles.isEmpty()) {\n            return false;\n        }\n\n        return roles.stream().anyMatch(x -&gt; x.equals(role));\n    }\n\n    @Override\n    public void setFilterObject(Object filterObject) {\n\n    }\n\n    @Override\n    public Object getFilterObject() {\n        return null;\n    }\n\n    @Override\n    public void setReturnObject(Object returnObject) {\n\n    }\n\n    @Override\n    public Object getReturnObject() {\n        return null;\n    }\n\n    @Override\n    public Object getThis() {\n        return null;\n    }\n}\n</code></pre>\n<p><strong>Expression Handler</strong></p>\n<pre><code>public class CustomMethodSecurityExpressionHandler extends DefaultMethodSecurityExpressionHandler {\n    private AuthenticationTrustResolver trustResolver = new AuthenticationTrustResolverImpl();\n\n    @Override\n    protected MethodSecurityExpressionOperations createSecurityExpressionRoot(\n            Authentication authentication, MethodInvocation invocation) {\n        CustomMethodSecurityExpressionRoot root =\n                new CustomMethodSecurityExpressionRoot(authentication);\n        root.setPermissionEvaluator(getPermissionEvaluator());\n        root.setTrustResolver(this.trustResolver);\n        root.setRoleHierarchy(getRoleHierarchy());\n        return root;\n    }\n}\n</code></pre>\n<p><strong>Security Config</strong></p>\n<pre><code>@Configuration\n@EnableMethodSecurity\npublic class SecurityConfig {\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n            .authorizeHttpRequests(auth -&gt; auth\n                    .requestMatchers(&quot;/health/**&quot;).permitAll()\n                    .requestMatchers(&quot;/swagger-ui/**&quot;).permitAll()\n                    .requestMatchers(&quot;/swagger/**&quot;).permitAll()\n                    .requestMatchers(&quot;/v3/api-docs/**&quot;).permitAll()\n                    // Cloud config related endpoint\n                    .requestMatchers(&quot;/configuration/**&quot;).permitAll()\n                    .anyRequest().authenticated()\n            )\n            .oauth2ResourceServer(OAuth2ResourceServerConfigurer::opaqueToken);\n        return http.build();\n    }\n}\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>    @PreAuthorize(&quot;hasRealmRole('FOOBAR')&quot;)\n    @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;Asset&gt; getAsset(@UUIDConstraint @PathVariable(&quot;id&quot;) String id) {\n    ...\n</code></pre>\n<p>and finally, the <strong>Beans</strong> based on the Spring reference added above</p>\n<pre><code>@Configuration\npublic class BaseConfig {\n    @Bean\n    public RoleHierarchy roleHierarchy() {\n        return new RoleHierarchyImpl();\n    }\n\n    @Bean\n    static MethodSecurityExpressionHandler methodSecurityExpressionHandler(RoleHierarchy roleHierarchy) {\n        var handler = new CustomMethodSecurityExpressionHandler();\n        handler.setRoleHierarchy(roleHierarchy);\n        return handler;\n    }\n}\n</code></pre>\n<p>Now, when I am sending a request to the <code>/GET</code> endpoint, I get the following error:</p>\n<pre><code>java.lang.IllegalArgumentException: Failed to evaluate expression 'hasRealmRole('FOOBAR')'  \n...  \nCaused by: org.springframework.expression.spel.SpelEvaluationException: EL1004E: Method call: Method hasRealmRole(java.lang.String) cannot be found on type org.springframework.security.access.expression.method.MethodSecurityExpressionRoot\n</code></pre>\n<p>Any idea why my <code>CustomMethodSecurityExpressionRoot</code> is not properly registered?</p>\n"},{"tags":["java","amazon-sqs","spring-cloud-aws"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1684259694,"post_id":76265548,"comment_id":134491331,"body_markdown":"Have you tried to do it without Spring?  I&#39;ve scaled to many threads reading from a single SQS queue and can get very good throughput.","body":"Have you tried to do it without Spring?  I&#39;ve scaled to many threads reading from a single SQS queue and can get very good throughput."},{"owner":{"account_id":964191,"reputation":119,"user_id":987940,"display_name":"la00"},"score":0,"creation_date":1684310800,"post_id":76265548,"comment_id":134498045,"body_markdown":"Was trying to avoid doing custom code, but probably will have to do it for performance reasons. Reading https://docs.awspring.io/spring-cloud-aws/docs/3.0.0-SNAPSHOT/reference/html/index.html#default-polling-behavior doesn&#39;t help as I don&#39;t see how batches are handled.","body":"Was trying to avoid doing custom code, but probably will have to do it for performance reasons. Reading <a href=\"https://docs.awspring.io/spring-cloud-aws/docs/3.0.0-SNAPSHOT/reference/html/index.html#default-polling-behavior\" rel=\"nofollow noreferrer\">docs.awspring.io/spring-cloud-aws/docs/3.0.0-SNAPSHOT/refere&zwnj;&#8203;nce/&hellip;</a> doesn&#39;t help as I don&#39;t see how batches are handled."},{"owner":{"account_id":126088,"reputation":225,"user_id":1353245,"display_name":"Suresh"},"score":0,"creation_date":1695738547,"post_id":76265548,"comment_id":136062796,"body_markdown":"Hi @la00, was your task cpu bound or IO bound? If it is IO bound, why can&#39;t you set the maxConcurrentMessages to a higher limit like 100 as most of the threads will be waiting for the response like how tomcat does?","body":"Hi @la00, was your task cpu bound or IO bound? If it is IO bound, why can&#39;t you set the maxConcurrentMessages to a higher limit like 100 as most of the threads will be waiting for the response like how tomcat does?"},{"owner":{"account_id":964191,"reputation":119,"user_id":987940,"display_name":"la00"},"score":0,"creation_date":1695828625,"post_id":76265548,"comment_id":136076968,"body_markdown":"It was IO, but still with all configs it was slow. I wrote some complex code where I have only 1 thread polling, but if there&#39;s many messages I scale to a limit number of threads. I would expect the lib to work like this, but It think they have a coordinator thread that poll and distribute to others, but was not fast enough for me.","body":"It was IO, but still with all configs it was slow. I wrote some complex code where I have only 1 thread polling, but if there&#39;s many messages I scale to a limit number of threads. I would expect the lib to work like this, but It think they have a coordinator thread that poll and distribute to others, but was not fast enough for me."}],"owner":{"account_id":964191,"reputation":119,"user_id":987940,"display_name":"la00"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":632,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684256531,"creation_date":1684256531,"question_id":76265548,"body_markdown":"Trying to consume from SQS as fast and reliable as possible using the [@SqsListener][1] annotation. \r\n\r\nHere is my code:\r\n\r\n```java\r\n@SqsListener(value = &quot;${sqs-url}&quot;, maxConcurrentMessages = &quot;${maxConcurrentMessages:30}&quot;, \r\nmaxMessagesPerPoll = &quot;${maxMessagesPerPoll:15}&quot;, pollTimeoutSeconds = &quot;${pollTimeoutSeconds:5}&quot;)\r\n    public void listenEvent(List&lt;Message&lt;String&gt;&gt; messages, BatchAcknowledgement ack) {\r\n        var successfullyProcessed = new HashSet&lt;&gt;();\r\n        // https://docs.awspring.io/spring-cloud-aws/docs/3.0.0/reference/html/index.html#batchacknowledgement\r\n\r\n        messages.forEach(message -&gt; {\r\n            try {\r\n                // ... my logic ....\r\n\r\n                successfullyProcessed.add(message);\r\n            } catch (Exception e) {\r\n                log.error(&quot;Failed message={}&quot;, message, e);\r\n            }\r\n        });\r\n        ack.acknowledge(successfullyProcessed);\r\n        log.info(&quot;Acknowledged {} messages&quot;, successfullyProcessed.size());\r\n    }\r\n```\r\n\r\nextra config for manual acknowledge:\r\n\r\n```java \r\n        //...\r\n        // https://docs.awspring.io/spring-cloud-aws/docs/3.0.0/reference/html/index.html#acknowledging-messages\r\n        factory.configure(options -&gt; options\r\n                .maxDelayBetweenPolls(Duration.ofSeconds(5))\r\n                .acknowledgementMode(AcknowledgementMode.MANUAL) \r\n                .acknowledgementInterval(Duration.ofSeconds(5))\r\n                .acknowledgementThreshold(10)\r\n                .acknowledgementOrdering(AcknowledgementOrdering.PARALLEL));\r\n```\r\n\r\nI believe maxConcurrentMessages is the number of threads to run in parallel, but not sure. If it is, Then don&#39;t want to have that number to high as I have limited CPU. Problem is that maxMessagesPerPoll cannot be higher than maxConcurrentMessages and therefore I cannot do polls for 100 messages using 8 threads. How can I make this efficient using low maxConcurrentMessages?\r\n\r\n\r\n  [1]: https://docs.awspring.io/spring-cloud-aws/docs/3.0.0-SNAPSHOT/reference/html/index.html#sqslistener-annotation","title":"Scale @SqsListener from spring-cloud-aws 3.0.0","body":"<p>Trying to consume from SQS as fast and reliable as possible using the <a href=\"https://docs.awspring.io/spring-cloud-aws/docs/3.0.0-SNAPSHOT/reference/html/index.html#sqslistener-annotation\" rel=\"nofollow noreferrer\">@SqsListener</a> annotation.</p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SqsListener(value = &quot;${sqs-url}&quot;, maxConcurrentMessages = &quot;${maxConcurrentMessages:30}&quot;, \nmaxMessagesPerPoll = &quot;${maxMessagesPerPoll:15}&quot;, pollTimeoutSeconds = &quot;${pollTimeoutSeconds:5}&quot;)\n    public void listenEvent(List&lt;Message&lt;String&gt;&gt; messages, BatchAcknowledgement ack) {\n        var successfullyProcessed = new HashSet&lt;&gt;();\n        // https://docs.awspring.io/spring-cloud-aws/docs/3.0.0/reference/html/index.html#batchacknowledgement\n\n        messages.forEach(message -&gt; {\n            try {\n                // ... my logic ....\n\n                successfullyProcessed.add(message);\n            } catch (Exception e) {\n                log.error(&quot;Failed message={}&quot;, message, e);\n            }\n        });\n        ack.acknowledge(successfullyProcessed);\n        log.info(&quot;Acknowledged {} messages&quot;, successfullyProcessed.size());\n    }\n</code></pre>\n<p>extra config for manual acknowledge:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        //...\n        // https://docs.awspring.io/spring-cloud-aws/docs/3.0.0/reference/html/index.html#acknowledging-messages\n        factory.configure(options -&gt; options\n                .maxDelayBetweenPolls(Duration.ofSeconds(5))\n                .acknowledgementMode(AcknowledgementMode.MANUAL) \n                .acknowledgementInterval(Duration.ofSeconds(5))\n                .acknowledgementThreshold(10)\n                .acknowledgementOrdering(AcknowledgementOrdering.PARALLEL));\n</code></pre>\n<p>I believe maxConcurrentMessages is the number of threads to run in parallel, but not sure. If it is, Then don't want to have that number to high as I have limited CPU. Problem is that maxMessagesPerPoll cannot be higher than maxConcurrentMessages and therefore I cannot do polls for 100 messages using 8 threads. How can I make this efficient using low maxConcurrentMessages?</p>\n"},{"tags":["java","button","javafx","tableview"],"answers":[{"tags":[],"owner":{"account_id":348041,"reputation":48805,"user_id":682495,"accept_rate":77,"display_name":"Uluk Biy"},"down_vote_count":0,"up_vote_count":67,"is_accepted":true,"score":67,"last_activity_date":1498126388,"creation_date":1428405088,"answer_id":29490190,"question_id":29489366,"body_markdown":"To be able to render the column, `TableColumn` needs cellValueFactory. But the &quot;action&quot; column does not exist in underlying data model. In this case, I just give some dummy value to cellValueFactory and move on:\r\n\r\n    public class JustDoIt extends Application {\r\n    \r\n        private final TableView&lt;Person&gt; table = new TableView&lt;&gt;();\r\n        private final ObservableList&lt;Person&gt; data\r\n                = FXCollections.observableArrayList(\r\n                        new Person(&quot;Jacob&quot;, &quot;Smith&quot;),\r\n                        new Person(&quot;Isabella&quot;, &quot;Johnson&quot;),\r\n                        new Person(&quot;Ethan&quot;, &quot;Williams&quot;),\r\n                        new Person(&quot;Emma&quot;, &quot;Jones&quot;),\r\n                        new Person(&quot;Michael&quot;, &quot;Brown&quot;)\r\n                );\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            stage.setWidth(450);\r\n            stage.setHeight(500);\r\n    \r\n            TableColumn firstNameCol = new TableColumn(&quot;First Name&quot;);\r\n            firstNameCol.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;firstName&quot;));\r\n    \r\n            TableColumn lastNameCol = new TableColumn(&quot;Last Name&quot;);\r\n            lastNameCol.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;lastName&quot;));\r\n    \r\n            TableColumn actionCol = new TableColumn(&quot;Action&quot;);\r\n            actionCol.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;DUMMY&quot;));\r\n    \r\n            Callback&lt;TableColumn&lt;Person, String&gt;, TableCell&lt;Person, String&gt;&gt; cellFactory\r\n                    = //\r\n                    new Callback&lt;TableColumn&lt;Person, String&gt;, TableCell&lt;Person, String&gt;&gt;() {\r\n                @Override\r\n                public TableCell call(final TableColumn&lt;Person, String&gt; param) {\r\n                    final TableCell&lt;Person, String&gt; cell = new TableCell&lt;Person, String&gt;() {\r\n    \r\n                        final Button btn = new Button(&quot;Just Do It&quot;);\r\n    \r\n                        @Override\r\n                        public void updateItem(String item, boolean empty) {\r\n                            super.updateItem(item, empty);\r\n                            if (empty) {\r\n                                setGraphic(null);\r\n                                setText(null);\r\n                            } else {\r\n                                btn.setOnAction(event -&gt; {\r\n                                    Person person = getTableView().getItems().get(getIndex());\r\n                                    System.out.println(person.getFirstName()\r\n                                            + &quot;   &quot; + person.getLastName());\r\n                                });\r\n                                setGraphic(btn);\r\n                                setText(null);\r\n                            }\r\n                        }\r\n                    };\r\n                    return cell;\r\n                }\r\n            };\r\n    \r\n            actionCol.setCellFactory(cellFactory);\r\n    \r\n            table.setItems(data);\r\n            table.getColumns().addAll(firstNameCol, lastNameCol, actionCol);\r\n    \r\n            Scene scene = new Scene(new Group());\r\n    \r\n            ((Group) scene.getRoot()).getChildren().addAll(table);\r\n    \r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static class Person {\r\n    \r\n            private final SimpleStringProperty firstName;\r\n            private final SimpleStringProperty lastName;\r\n    \r\n            private Person(String fName, String lName) {\r\n                this.firstName = new SimpleStringProperty(fName);\r\n                this.lastName = new SimpleStringProperty(lName);\r\n            }\r\n    \r\n            public String getFirstName() {\r\n                return firstName.get();\r\n            }\r\n    \r\n            public void setFirstName(String fName) {\r\n                firstName.set(fName);\r\n            }\r\n    \r\n            public String getLastName() {\r\n                return lastName.get();\r\n            }\r\n    \r\n            public void setLastName(String fName) {\r\n                lastName.set(fName);\r\n            }\r\n    \r\n        }\r\n    }","title":"How to add button in JavaFX table view","body":"<p>To be able to render the column, <code>TableColumn</code> needs cellValueFactory. But the \"action\" column does not exist in underlying data model. In this case, I just give some dummy value to cellValueFactory and move on:</p>\n\n<pre><code>public class JustDoIt extends Application {\n\n    private final TableView&lt;Person&gt; table = new TableView&lt;&gt;();\n    private final ObservableList&lt;Person&gt; data\n            = FXCollections.observableArrayList(\n                    new Person(\"Jacob\", \"Smith\"),\n                    new Person(\"Isabella\", \"Johnson\"),\n                    new Person(\"Ethan\", \"Williams\"),\n                    new Person(\"Emma\", \"Jones\"),\n                    new Person(\"Michael\", \"Brown\")\n            );\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage stage) {\n        stage.setWidth(450);\n        stage.setHeight(500);\n\n        TableColumn firstNameCol = new TableColumn(\"First Name\");\n        firstNameCol.setCellValueFactory(new PropertyValueFactory&lt;&gt;(\"firstName\"));\n\n        TableColumn lastNameCol = new TableColumn(\"Last Name\");\n        lastNameCol.setCellValueFactory(new PropertyValueFactory&lt;&gt;(\"lastName\"));\n\n        TableColumn actionCol = new TableColumn(\"Action\");\n        actionCol.setCellValueFactory(new PropertyValueFactory&lt;&gt;(\"DUMMY\"));\n\n        Callback&lt;TableColumn&lt;Person, String&gt;, TableCell&lt;Person, String&gt;&gt; cellFactory\n                = //\n                new Callback&lt;TableColumn&lt;Person, String&gt;, TableCell&lt;Person, String&gt;&gt;() {\n            @Override\n            public TableCell call(final TableColumn&lt;Person, String&gt; param) {\n                final TableCell&lt;Person, String&gt; cell = new TableCell&lt;Person, String&gt;() {\n\n                    final Button btn = new Button(\"Just Do It\");\n\n                    @Override\n                    public void updateItem(String item, boolean empty) {\n                        super.updateItem(item, empty);\n                        if (empty) {\n                            setGraphic(null);\n                            setText(null);\n                        } else {\n                            btn.setOnAction(event -&gt; {\n                                Person person = getTableView().getItems().get(getIndex());\n                                System.out.println(person.getFirstName()\n                                        + \"   \" + person.getLastName());\n                            });\n                            setGraphic(btn);\n                            setText(null);\n                        }\n                    }\n                };\n                return cell;\n            }\n        };\n\n        actionCol.setCellFactory(cellFactory);\n\n        table.setItems(data);\n        table.getColumns().addAll(firstNameCol, lastNameCol, actionCol);\n\n        Scene scene = new Scene(new Group());\n\n        ((Group) scene.getRoot()).getChildren().addAll(table);\n\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static class Person {\n\n        private final SimpleStringProperty firstName;\n        private final SimpleStringProperty lastName;\n\n        private Person(String fName, String lName) {\n            this.firstName = new SimpleStringProperty(fName);\n            this.lastName = new SimpleStringProperty(lName);\n        }\n\n        public String getFirstName() {\n            return firstName.get();\n        }\n\n        public void setFirstName(String fName) {\n            firstName.set(fName);\n        }\n\n        public String getLastName() {\n            return lastName.get();\n        }\n\n        public void setLastName(String fName) {\n            lastName.set(fName);\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3260364,"reputation":1649,"user_id":2746057,"display_name":"Darrel K."},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1684256448,"creation_date":1519984808,"answer_id":49066796,"question_id":29489366,"body_markdown":"Here is my example using awesome Java 8 Functionality and extending TableCell class.\r\n\r\nLet me give a quick explanation of what I am doing:\r\nI created a ActionButtonTableCell class that extends TableCell. And then you can use java 8 lamda functions to create an Action for the button.\r\n\t\r\n\timport java.util.function.Function;\r\n\timport javafx.event.ActionEvent;\r\n\timport javafx.scene.control.Button;\r\n\timport javafx.scene.control.TableCell;\r\n\timport javafx.scene.control.TableColumn;\r\n\timport javafx.util.Callback;\r\n\t\r\n    public class ActionButtonTableCell&lt;S&gt; extends TableCell&lt;S, Button&gt; {\r\n\r\n\t\tprivate final Button actionButton;\r\n\r\n\t\tpublic ActionButtonTableCell(String label, Function&lt; S, S&gt; function) {\r\n\t\t\tthis.getStyleClass().add(&quot;action-button-table-cell&quot;);\r\n\r\n\t\t\tthis.actionButton = new Button(label);\r\n\t\t\tthis.actionButton.setOnAction((ActionEvent e) -&gt; {\r\n\t\t\t\tfunction.apply(getCurrentItem());\r\n\t\t\t});\r\n\t\t\tthis.actionButton.setMaxWidth(Double.MAX_VALUE);\r\n\t\t}\r\n\r\n\t\tpublic S getCurrentItem() {\r\n\t\t\treturn (S) getTableView().getItems().get(getIndex());\r\n\t\t}\r\n\r\n\t\tpublic static &lt;S&gt; Callback&lt;TableColumn&lt;S, Button&gt;, TableCell&lt;S, Button&gt;&gt; forTableColumn(String label, Function&lt; S, S&gt; function) {\r\n\t\t\treturn param -&gt; new ActionButtonTableCell&lt;&gt;(label, function);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void updateItem(Button item, boolean empty) {\r\n\t\t\tsuper.updateItem(item, empty);\r\n\r\n\t\t\tif (empty) {\r\n\t\t\t\tsetGraphic(null);\r\n\t\t\t} else {\t\t\t\t\r\n\t\t\t\tsetGraphic(actionButton);\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n\r\nThe implementation is then as simple as this, This is a sample button to remove the item from the table:\r\n\r\n    column.setCellFactory(ActionButtonTableCell.&lt;Person&gt;forTableColumn(&quot;Remove&quot;, (Person p) -&gt; {\r\n\t\ttable.getItems().remove(p);\r\n\t\treturn p;\r\n\t}));\r\n\r\n**Update based on comments**:\r\nWhile the approach of using a Button within a TableCell goes against recommended design principles, it can still be used in certain situations if the drawbacks mentioned below are not significant concerns for your use case:\r\n\r\n1. Violation of Separation of Concerns: Mixing UI controls with data representation classes can make the code less modular and harder to maintain.\r\n\r\n2. Limited Flexibility: Embedding a Button directly within a TableCell limits the customization options for the button and the cell itself, making it difficult to implement complex interactions or customize styling.\r\n\r\n3. Inefficient Memory Usage: Each TableCell instance with a Button consumes additional memory, which can be problematic for large TableViews with many rows.\r\n\r\n4. UI Control Focus: Placing a Button within a TableCell may shift the focus from the underlying data to the UI control, potentially affecting the user experience.\r\n\r\nConsidering these drawbacks, it is generally recommended to follow the recommended design principles and separate the concerns of data representation and UI controls. However, if these drawbacks are not significant for your specific use case and you prefer the simplicity of the original approach, you can proceed with it.\r\n\t","title":"How to add button in JavaFX table view","body":"<p>Here is my example using awesome Java 8 Functionality and extending TableCell class.</p>\n<p>Let me give a quick explanation of what I am doing:\nI created a ActionButtonTableCell class that extends TableCell. And then you can use java 8 lamda functions to create an Action for the button.</p>\n<pre><code>import java.util.function.Function;\nimport javafx.event.ActionEvent;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TableCell;\nimport javafx.scene.control.TableColumn;\nimport javafx.util.Callback;\n\npublic class ActionButtonTableCell&lt;S&gt; extends TableCell&lt;S, Button&gt; {\n\n    private final Button actionButton;\n\n    public ActionButtonTableCell(String label, Function&lt; S, S&gt; function) {\n        this.getStyleClass().add(&quot;action-button-table-cell&quot;);\n\n        this.actionButton = new Button(label);\n        this.actionButton.setOnAction((ActionEvent e) -&gt; {\n            function.apply(getCurrentItem());\n        });\n        this.actionButton.setMaxWidth(Double.MAX_VALUE);\n    }\n\n    public S getCurrentItem() {\n        return (S) getTableView().getItems().get(getIndex());\n    }\n\n    public static &lt;S&gt; Callback&lt;TableColumn&lt;S, Button&gt;, TableCell&lt;S, Button&gt;&gt; forTableColumn(String label, Function&lt; S, S&gt; function) {\n        return param -&gt; new ActionButtonTableCell&lt;&gt;(label, function);\n    }\n\n    @Override\n    public void updateItem(Button item, boolean empty) {\n        super.updateItem(item, empty);\n\n        if (empty) {\n            setGraphic(null);\n        } else {                \n            setGraphic(actionButton);\n        }\n    }\n}\n</code></pre>\n<p>The implementation is then as simple as this, This is a sample button to remove the item from the table:</p>\n<pre><code>column.setCellFactory(ActionButtonTableCell.&lt;Person&gt;forTableColumn(&quot;Remove&quot;, (Person p) -&gt; {\n    table.getItems().remove(p);\n    return p;\n}));\n</code></pre>\n<p><strong>Update based on comments</strong>:\nWhile the approach of using a Button within a TableCell goes against recommended design principles, it can still be used in certain situations if the drawbacks mentioned below are not significant concerns for your use case:</p>\n<ol>\n<li><p>Violation of Separation of Concerns: Mixing UI controls with data representation classes can make the code less modular and harder to maintain.</p>\n</li>\n<li><p>Limited Flexibility: Embedding a Button directly within a TableCell limits the customization options for the button and the cell itself, making it difficult to implement complex interactions or customize styling.</p>\n</li>\n<li><p>Inefficient Memory Usage: Each TableCell instance with a Button consumes additional memory, which can be problematic for large TableViews with many rows.</p>\n</li>\n<li><p>UI Control Focus: Placing a Button within a TableCell may shift the focus from the underlying data to the UI control, potentially affecting the user experience.</p>\n</li>\n</ol>\n<p>Considering these drawbacks, it is generally recommended to follow the recommended design principles and separate the concerns of data representation and UI controls. However, if these drawbacks are not significant for your specific use case and you prefer the simplicity of the original approach, you can proceed with it.</p>\n"}],"owner":{"account_id":1897772,"reputation":4354,"user_id":1714329,"accept_rate":83,"display_name":"botenvouwer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51519,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":29490190,"answer_count":2,"score":35,"last_activity_date":1684256448,"creation_date":1428402423,"question_id":29489366,"body_markdown":"I have searched at Google and Stackoverflow for this and I just don&#39;t get the given examples. Can someone please explain it to me. \r\n\r\nI want to add a button to the last column of a table view and when it gets clicked it should trigger a listener and pass the object of the buttons row. I just do not get the following example from *[gist.github.com][1]*:\r\n\r\nThis is my full current code:\r\n\r\n    public class SchermdeelWerkplaats extends BorderPane{\r\n        \r\n        //ATD moeder klasse met alle collecties etc.\r\n        private ATD $;\r\n        \r\n        TableView tabel = new TableView();\r\n        Button nieuwTaak = new Button(&quot;Nieuwe taak inboeken&quot;);\r\n        final ObservableList&lt;Task&gt; data = FXCollections.observableArrayList();\r\n        \r\n        public SchermdeelWerkplaats(ATD a) {\r\n            \r\n            $ = a;\r\n            \r\n            data.addAll($.agenda);\r\n            \r\n            tabel.setEditable(false);\r\n            tabel.setPlaceholder(new Label(&quot;Geen taken&quot;));\r\n            \r\n            TableColumn c1 = new TableColumn(&quot;datum&quot;);\r\n            c1.setMinWidth(200);\r\n            TableColumn c2 = new TableColumn(&quot;type&quot;);\r\n            c2.setMinWidth(100);\r\n            TableColumn c3 = new TableColumn(&quot;uren&quot;);\r\n            c3.setMinWidth(100);\r\n            TableColumn c4 = new TableColumn(&quot;klaar&quot;);\r\n            c4.setMinWidth(200);\r\n            TableColumn c5 = new TableColumn(&quot;Werknemer&quot;);\r\n            c5.setMinWidth(100);\r\n            TableColumn c6= new TableColumn(&quot;Auto&quot;);\r\n            c6.setMinWidth(400);\r\n            TableColumn c7= new TableColumn(&quot;Actie&quot;);\r\n            c7.setMinWidth(400);\r\n            \r\n            TableColumn col_action = new TableColumn&lt;&gt;(&quot;Action&quot;);\r\n            \r\n            col_action.setCellValueFactory(\r\n                    new Callback&lt;TableColumn.CellDataFeatures&lt;Task, Boolean&gt;, \r\n                    ObservableValue&lt;Boolean&gt;&gt;() {\r\n     \r\n                @Override\r\n                public ObservableValue&lt;Boolean&gt; call(TableColumn.CellDataFeatures&lt;Task, Boolean&gt; p) {\r\n                    return new SimpleBooleanProperty(p.getValue() != null);\r\n                }\r\n            });\r\n            \r\n            col_action.setCellFactory(\r\n                new Callback&lt;TableColumn&lt;Task, Task&gt;, TableCell&lt;Task, Task&gt;&gt;() {\r\n    \r\n                    @Override\r\n                    public TableCell&lt;Task, Task&gt; call(TableColumn&lt;Task, Task&gt; p) {\r\n                        return new ButtonCell();\r\n                    }\r\n                }\r\n            );\r\n            \r\n            c1.setCellValueFactory(\r\n                new PropertyValueFactory&lt;Task,Date&gt;(&quot;date&quot;)\r\n            );\r\n            c2.setCellValueFactory(\r\n                new PropertyValueFactory&lt;Task,Task.TaskType&gt;(&quot;type&quot;)\r\n            );\r\n            c3.setCellValueFactory(\r\n                new PropertyValueFactory&lt;Task,Double&gt;(&quot;hours&quot;)\r\n            );\r\n            c4.setCellValueFactory(\r\n                new PropertyValueFactory&lt;Task,Boolean&gt;(&quot;done&quot;)\r\n            );\r\n            c5.setCellValueFactory(\r\n                new PropertyValueFactory&lt;Task,Employee&gt;(&quot;employee&quot;)\r\n            );\r\n            c6.setCellValueFactory(\r\n                new PropertyValueFactory&lt;Task,Car&gt;(&quot;car&quot;)\r\n            );\r\n            \r\n            tabel.getColumns().addAll(c1, c2, c3, c4, c5, c6, c7);\r\n            tabel.setItems(data);\r\n            \r\n            setCenter(tabel);\r\n            setBottom(nieuwTaak);\r\n            \r\n        }\r\n        \r\n        //letterlijk van internet geplukt en datatype aangepast\r\n        private class ButtonCell extends TableCell&lt;Task, Task&gt; {\r\n    \r\n    \r\n            private Button cellButton;\r\n    \r\n            ButtonCell(){\r\n                  cellButton = new Button(&quot;jjhjhjh&quot;);\r\n                cellButton.setOnAction(new EventHandler&lt;ActionEvent&gt;(){\r\n    \r\n                    @Override\r\n                    public void handle(ActionEvent t) {\r\n                        // do something when button clicked\r\n                        Task record = getItem();\r\n                        // do something with record....\r\n                    }\r\n                });\r\n            }\r\n    \r\n            //Display button if the row is not empty\r\n            @Override\r\n            protected void updateItem(Task record, boolean empty) {\r\n                super.updateItem(record, empty);\r\n                if(!empty){\r\n                    cellButton.setText(&quot;Something with &quot;+record);\r\n                    setGraphic(cellButton);\r\n                } else {\r\n                    setGraphic(null);\r\n                }\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\nNow the part where I have to create a `ButtonCell extends TableCell` is understandable. But how to assign this to the column?\r\n\r\nI understand this:\r\n    \r\n\r\n    c1.setCellValueFactory(\r\n            new PropertyValueFactory&lt;Task,Date&gt;(&quot;date&quot;)\r\n        );\r\n\r\nBut not this:\r\n\r\n               TableColumn col_action = new TableColumn&lt;&gt;(&quot;Action&quot;);\r\n                \r\n                col_action.setCellValueFactory(\r\n                        new Callback&lt;TableColumn.CellDataFeatures&lt;Task, Boolean&gt;, \r\n                        ObservableValue&lt;Boolean&gt;&gt;() {\r\n         \r\n                    @Override\r\n                    public ObservableValue&lt;Boolean&gt; call(TableColumn.CellDataFeatures&lt;Task, Boolean&gt; p) {\r\n                        return new SimpleBooleanProperty(p.getValue() != null);\r\n                    }\r\n                });\r\n                \r\n                col_action.setCellFactory(\r\n                    new Callback&lt;TableColumn&lt;Task, Task&gt;, TableCell&lt;Task, Task&gt;&gt;() {\r\n        \r\n                        @Override\r\n                        public TableCell&lt;Task, Task&gt; call(TableColumn&lt;Task, Task&gt; p) {\r\n                            return new ButtonCell();\r\n                        }\r\n                    }\r\n                );\r\n\r\n  [1]: https://gist.github.com/jewelsea/3081826","title":"How to add button in JavaFX table view","body":"<p>I have searched at Google and Stackoverflow for this and I just don't get the given examples. Can someone please explain it to me. </p>\n\n<p>I want to add a button to the last column of a table view and when it gets clicked it should trigger a listener and pass the object of the buttons row. I just do not get the following example from <em><a href=\"https://gist.github.com/jewelsea/3081826\">gist.github.com</a></em>:</p>\n\n<p>This is my full current code:</p>\n\n<pre><code>public class SchermdeelWerkplaats extends BorderPane{\n\n    //ATD moeder klasse met alle collecties etc.\n    private ATD $;\n\n    TableView tabel = new TableView();\n    Button nieuwTaak = new Button(\"Nieuwe taak inboeken\");\n    final ObservableList&lt;Task&gt; data = FXCollections.observableArrayList();\n\n    public SchermdeelWerkplaats(ATD a) {\n\n        $ = a;\n\n        data.addAll($.agenda);\n\n        tabel.setEditable(false);\n        tabel.setPlaceholder(new Label(\"Geen taken\"));\n\n        TableColumn c1 = new TableColumn(\"datum\");\n        c1.setMinWidth(200);\n        TableColumn c2 = new TableColumn(\"type\");\n        c2.setMinWidth(100);\n        TableColumn c3 = new TableColumn(\"uren\");\n        c3.setMinWidth(100);\n        TableColumn c4 = new TableColumn(\"klaar\");\n        c4.setMinWidth(200);\n        TableColumn c5 = new TableColumn(\"Werknemer\");\n        c5.setMinWidth(100);\n        TableColumn c6= new TableColumn(\"Auto\");\n        c6.setMinWidth(400);\n        TableColumn c7= new TableColumn(\"Actie\");\n        c7.setMinWidth(400);\n\n        TableColumn col_action = new TableColumn&lt;&gt;(\"Action\");\n\n        col_action.setCellValueFactory(\n                new Callback&lt;TableColumn.CellDataFeatures&lt;Task, Boolean&gt;, \n                ObservableValue&lt;Boolean&gt;&gt;() {\n\n            @Override\n            public ObservableValue&lt;Boolean&gt; call(TableColumn.CellDataFeatures&lt;Task, Boolean&gt; p) {\n                return new SimpleBooleanProperty(p.getValue() != null);\n            }\n        });\n\n        col_action.setCellFactory(\n            new Callback&lt;TableColumn&lt;Task, Task&gt;, TableCell&lt;Task, Task&gt;&gt;() {\n\n                @Override\n                public TableCell&lt;Task, Task&gt; call(TableColumn&lt;Task, Task&gt; p) {\n                    return new ButtonCell();\n                }\n            }\n        );\n\n        c1.setCellValueFactory(\n            new PropertyValueFactory&lt;Task,Date&gt;(\"date\")\n        );\n        c2.setCellValueFactory(\n            new PropertyValueFactory&lt;Task,Task.TaskType&gt;(\"type\")\n        );\n        c3.setCellValueFactory(\n            new PropertyValueFactory&lt;Task,Double&gt;(\"hours\")\n        );\n        c4.setCellValueFactory(\n            new PropertyValueFactory&lt;Task,Boolean&gt;(\"done\")\n        );\n        c5.setCellValueFactory(\n            new PropertyValueFactory&lt;Task,Employee&gt;(\"employee\")\n        );\n        c6.setCellValueFactory(\n            new PropertyValueFactory&lt;Task,Car&gt;(\"car\")\n        );\n\n        tabel.getColumns().addAll(c1, c2, c3, c4, c5, c6, c7);\n        tabel.setItems(data);\n\n        setCenter(tabel);\n        setBottom(nieuwTaak);\n\n    }\n\n    //letterlijk van internet geplukt en datatype aangepast\n    private class ButtonCell extends TableCell&lt;Task, Task&gt; {\n\n\n        private Button cellButton;\n\n        ButtonCell(){\n              cellButton = new Button(\"jjhjhjh\");\n            cellButton.setOnAction(new EventHandler&lt;ActionEvent&gt;(){\n\n                @Override\n                public void handle(ActionEvent t) {\n                    // do something when button clicked\n                    Task record = getItem();\n                    // do something with record....\n                }\n            });\n        }\n\n        //Display button if the row is not empty\n        @Override\n        protected void updateItem(Task record, boolean empty) {\n            super.updateItem(record, empty);\n            if(!empty){\n                cellButton.setText(\"Something with \"+record);\n                setGraphic(cellButton);\n            } else {\n                setGraphic(null);\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p>Now the part where I have to create a <code>ButtonCell extends TableCell</code> is understandable. But how to assign this to the column?</p>\n\n<p>I understand this:</p>\n\n<pre><code>c1.setCellValueFactory(\n        new PropertyValueFactory&lt;Task,Date&gt;(\"date\")\n    );\n</code></pre>\n\n<p>But not this:</p>\n\n<pre><code>           TableColumn col_action = new TableColumn&lt;&gt;(\"Action\");\n\n            col_action.setCellValueFactory(\n                    new Callback&lt;TableColumn.CellDataFeatures&lt;Task, Boolean&gt;, \n                    ObservableValue&lt;Boolean&gt;&gt;() {\n\n                @Override\n                public ObservableValue&lt;Boolean&gt; call(TableColumn.CellDataFeatures&lt;Task, Boolean&gt; p) {\n                    return new SimpleBooleanProperty(p.getValue() != null);\n                }\n            });\n\n            col_action.setCellFactory(\n                new Callback&lt;TableColumn&lt;Task, Task&gt;, TableCell&lt;Task, Task&gt;&gt;() {\n\n                    @Override\n                    public TableCell&lt;Task, Task&gt; call(TableColumn&lt;Task, Task&gt; p) {\n                        return new ButtonCell();\n                    }\n                }\n            );\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1684085756,"post_id":76248808,"comment_id":134461719,"body_markdown":"Looks like you are confusing `cellFactory` and `cellValueFactory`. Also, don’t use raw types.","body":"Looks like you are confusing <code>cellFactory</code> and <code>cellValueFactory</code>. Also, don’t use raw types."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1684099215,"post_id":76248808,"comment_id":134463390,"body_markdown":"This is something that’s usually necessary in web UIs, but in a desktop UI, a much better design is to have *one* delete button which is not in the table at all.  When the user presses that button, the selected rows in the table are deleted.  You can even enable the button based on the selection: `deleteButton.disableProperty().bind(table.getSelectionModel().selectedItemProperty().isNull())`","body":"This is something that’s usually necessary in web UIs, but in a desktop UI, a much better design is to have <i>one</i> delete button which is not in the table at all.  When the user presses that button, the selected rows in the table are deleted.  You can even enable the button based on the selection: <code>deleteButton.disableProperty().bind(table.getSelectionModel(&zwnj;&#8203;).selectedItemProper&zwnj;&#8203;ty().isNull())</code>"}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1684164344,"creation_date":1684086701,"answer_id":76248931,"question_id":76248808,"body_markdown":"There are a number of issues with your code. The primary problem is that you seem to be confusing the `cellFactory` (which is used to generate cells to display in the table column) with the `cellValueFactory` (which is used to provide the value that is displayed by the cells). In this case, the cell doesn&#39;t really need a value (it only relies on the value for the entire row), so you don&#39;t need a `cellValueFactory` (though you could use one to return the value for the row). \r\n\r\nYou should also never use raw types (such as `TableView` and `TableColumn`) without type parameters.\r\n\r\nSince your action implementations never use the value they return, it seems to make more sense to use a `Consumer&lt;S&gt;` to represent them, instead of a `Function&lt;S,S&gt;` which seems to arbitrarily return the value passed as a parameter.\r\n\r\nAnd finally, the types for `TableView`, `TableColumn`, `TableCell`, etc., should be types of *data*, not types of UI control. So you should never have, e.g., `TableCell&lt;S, Button&gt;`. `Button` is not a data type.\r\n\r\nYour table cell implementation can look like\r\n\r\n    public class ActionButtonTableCell&lt;S, T&gt; extends TableCell&lt;S, T&gt; {\r\n        private final Button actionButton;\r\n    \r\n        public ActionButtonTableCell(String label, Consumer&lt;S&gt; function) {\r\n            this.getStyleClass().add(&quot;action-button-table-cell&quot;);\r\n            this.actionButton = new Button(label);\r\n            this.actionButton.setOnAction(e -&gt; function.accept(getCurrentItem());\r\n            this.actionButton.setMaxWidth(Double.MAX_VALUE);\r\n        }\r\n        public S getCurrentItem() {\r\n            // No need for a cast here:\r\n            return getTableView().getItems().get(getIndex());\r\n        }\r\n    \r\n        public static &lt;S, T&gt; Callback&lt;TableColumn&lt;S, T&gt;, TableCell&lt;S, T&gt;&gt; forTableColumn(String label, Consumer&lt;S&gt; function) {\r\n            return param -&gt; new ActionButtonTableCell&lt;&gt;(label, function);\r\n        }\r\n        @Override\r\n        public void updateItem(T item, boolean empty) {\r\n            super.updateItem(item, empty);\r\n            if (empty) {\r\n                setGraphic(null);\r\n            } else {\r\n                setGraphic(actionButton);\r\n            }\r\n        }\r\n    }\r\n\r\nAnd now your application code should be something like\r\n\r\n        TableView&lt;Customer&gt; tableView = new TableView&lt;&gt;();\r\n        // ...\r\n        TableColumn&lt;Customer, Void&gt; viewCol = new TableColumn&lt;&gt;(&quot;&quot;);\r\n        TableColumn deleteCol&lt;Customer, Void&gt; = new TableColumn&lt;&gt;(&quot;&quot;);\r\n\r\n        // ...\r\n\r\n        // note setCellFactory, not setCellValueFactory:\r\n        viewCol.setCellFactory(ActionButtonTableCell.&lt;Customer, Void&gt;forTableColumn(&quot;View/Edit&quot;, c -&gt; \r\n            new CustomerEditView(stage, user, c.getCustomerId())));\r\n        deleteCol.setCellFactory(ActionButtonTableCell.&lt;Customer, Void&gt;forTableColumn(&quot;Delete&quot;, c -&gt; {\r\n            Alert confirm = new Alert(Alert.AlertType.CONFIRMATION, &quot;Are you sure you want to delete this customer?&quot;);\r\n            confirm.show();\r\n            JDBC.deleteCustomer(c.getCustomerId());\r\n            new CustomerList(stage, user);\r\n        }));\r\n\r\n---\r\n\r\nGenerally, you might consider other user experience options here. As mentioned in a comment on the original post, a better approach might be to have a single edit button and a single delete button outside of the table which just operates on the selected item.\r\n\r\nI would definitely suggest not having a column for every action if you have multiple actions to perform. Just for the sake of demonstrating the other approach I alluded to above (the cell value factory returning the value for the row), here is an example of an action-based table column which uses that approach and supports multiple actions (buttons) in the same column. This is written in more of a fluid-API style:\r\n\r\n    import javafx.beans.property.SimpleObjectProperty;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.TableCell;\r\n    import javafx.scene.control.TableColumn;\r\n    import javafx.scene.layout.HBox;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.function.Consumer;\r\n    \r\n    public class ActionColumn&lt;S&gt; {\r\n    \r\n        private final List&lt;Action&lt;S&gt;&gt; actions = new ArrayList&lt;&gt;();\r\n        private String title ;\r\n    \r\n        private ActionColumn() {}\r\n    \r\n        public static &lt;S&gt; ActionColumn&lt;S&gt; forType(Class&lt;S&gt; type) {\r\n            return new ActionColumn&lt;&gt;();\r\n        }\r\n    \r\n        public ActionColumn&lt;S&gt; withTitle(String title) {\r\n            this.title = title ;\r\n            return this;\r\n        }\r\n    \r\n        public ActionColumn&lt;S&gt; withAction(String name, Consumer&lt;S&gt; action) {\r\n            actions.add(new Action&lt;&gt;(name, action));\r\n            return this;\r\n        }\r\n    \r\n    \r\n        public TableColumn&lt;S, ?&gt; build() {\r\n            TableColumn&lt;S, S&gt; column = new TableColumn&lt;&gt;(title);\r\n            column.setCellValueFactory(data -&gt; new SimpleObjectProperty&lt;&gt;(data.getValue()));\r\n            column.setCellFactory(tc -&gt; new ActionColumnCell&lt;&gt;(actions));\r\n            return column;\r\n        }\r\n    \r\n        private record Action&lt;S&gt;(String name, Consumer&lt;S&gt; action) {}\r\n    \r\n        private static class ActionColumnCell&lt;S&gt; extends TableCell&lt;S, S&gt; {\r\n            private final HBox buttons ;\r\n            private ActionColumnCell(List&lt;Action&lt;S&gt;&gt; actions) {\r\n                buttons = new HBox(2);\r\n                actions.stream()\r\n                        .map(this::createButton)\r\n                        .forEach(buttons.getChildren()::add);\r\n            }\r\n    \r\n            private Button createButton(Action&lt;S&gt; action) {\r\n                Button button = new Button(action.name());\r\n                button.setOnAction(e -&gt; action.action().accept(getItem()));\r\n                return button;\r\n            }\r\n    \r\n            @Override\r\n            protected void updateItem(S item, boolean empty) {\r\n                super.updateItem(item, empty);\r\n                setGraphic(empty ? null : buttons);\r\n            }\r\n        }\r\n    }\r\n\r\nUsage is something like:\r\n\r\n    TableColumn&lt;Item, ?&gt; actionColumn = ActionColumn.forType(Item.class)\r\n        .withTitle(&quot;Action&quot;)\r\n        .withAction(&quot;Edit&quot;, this::editItem)\r\n        .withAction(&quot;Delete&quot;, table.getItems()::remove)\r\n        .build();\r\n\r\nHere is a complete working example:\r\n\r\n    import javafx.application.Application;\r\n    import javafx.beans.property.SimpleStringProperty;\r\n    import javafx.beans.property.StringProperty;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.*;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class HelloApplication extends Application {\r\n        @Override\r\n        public void start(Stage stage) {\r\n            ObservableList&lt;Item&gt; items = FXCollections.observableArrayList();\r\n            for (int i = 1 ; i &lt;= 20 ; i++) items.add(new Item(&quot;Item &quot;+i));\r\n            TableView&lt;Item&gt; table = new TableView&lt;&gt;(items);\r\n    \r\n            TableColumn&lt;Item, String&gt; itemColumn = new TableColumn&lt;&gt;(&quot;Item&quot;);\r\n            itemColumn.setCellValueFactory(data -&gt; data.getValue().nameProperty());\r\n            table.getColumns().add(itemColumn);\r\n    \r\n    \r\n            table.getColumns().add(\r\n                    ActionColumn.forType(Item.class).withTitle(&quot;Action&quot;)\r\n                            .withAction(&quot;Edit&quot;, this::editItem)\r\n                            .withAction(&quot;Delete&quot;, items::remove)\r\n                            .build()\r\n            );\r\n    \r\n            BorderPane root = new BorderPane(table);\r\n            Scene scene = new Scene(root);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        private void editItem(Item item) {\r\n            new TextInputDialog(item.getName()).showAndWait()\r\n                .ifPresent(item::setName);\r\n        }\r\n    \r\n        public static class Item {\r\n            private final StringProperty name = new SimpleStringProperty();\r\n    \r\n            public String getName() {\r\n                return name.get();\r\n            }\r\n    \r\n            public StringProperty nameProperty() {\r\n                return name;\r\n            }\r\n    \r\n            public void setName(String name) {\r\n                this.name.set(name);\r\n            }\r\n    \r\n            public Item(String name) {\r\n                setName(name);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }","title":"How do I add a button into a JFX TableView?","body":"<p>There are a number of issues with your code. The primary problem is that you seem to be confusing the <code>cellFactory</code> (which is used to generate cells to display in the table column) with the <code>cellValueFactory</code> (which is used to provide the value that is displayed by the cells). In this case, the cell doesn't really need a value (it only relies on the value for the entire row), so you don't need a <code>cellValueFactory</code> (though you could use one to return the value for the row).</p>\n<p>You should also never use raw types (such as <code>TableView</code> and <code>TableColumn</code>) without type parameters.</p>\n<p>Since your action implementations never use the value they return, it seems to make more sense to use a <code>Consumer&lt;S&gt;</code> to represent them, instead of a <code>Function&lt;S,S&gt;</code> which seems to arbitrarily return the value passed as a parameter.</p>\n<p>And finally, the types for <code>TableView</code>, <code>TableColumn</code>, <code>TableCell</code>, etc., should be types of <em>data</em>, not types of UI control. So you should never have, e.g., <code>TableCell&lt;S, Button&gt;</code>. <code>Button</code> is not a data type.</p>\n<p>Your table cell implementation can look like</p>\n<pre><code>public class ActionButtonTableCell&lt;S, T&gt; extends TableCell&lt;S, T&gt; {\n    private final Button actionButton;\n\n    public ActionButtonTableCell(String label, Consumer&lt;S&gt; function) {\n        this.getStyleClass().add(&quot;action-button-table-cell&quot;);\n        this.actionButton = new Button(label);\n        this.actionButton.setOnAction(e -&gt; function.accept(getCurrentItem());\n        this.actionButton.setMaxWidth(Double.MAX_VALUE);\n    }\n    public S getCurrentItem() {\n        // No need for a cast here:\n        return getTableView().getItems().get(getIndex());\n    }\n\n    public static &lt;S, T&gt; Callback&lt;TableColumn&lt;S, T&gt;, TableCell&lt;S, T&gt;&gt; forTableColumn(String label, Consumer&lt;S&gt; function) {\n        return param -&gt; new ActionButtonTableCell&lt;&gt;(label, function);\n    }\n    @Override\n    public void updateItem(T item, boolean empty) {\n        super.updateItem(item, empty);\n        if (empty) {\n            setGraphic(null);\n        } else {\n            setGraphic(actionButton);\n        }\n    }\n}\n</code></pre>\n<p>And now your application code should be something like</p>\n<pre><code>    TableView&lt;Customer&gt; tableView = new TableView&lt;&gt;();\n    // ...\n    TableColumn&lt;Customer, Void&gt; viewCol = new TableColumn&lt;&gt;(&quot;&quot;);\n    TableColumn deleteCol&lt;Customer, Void&gt; = new TableColumn&lt;&gt;(&quot;&quot;);\n\n    // ...\n\n    // note setCellFactory, not setCellValueFactory:\n    viewCol.setCellFactory(ActionButtonTableCell.&lt;Customer, Void&gt;forTableColumn(&quot;View/Edit&quot;, c -&gt; \n        new CustomerEditView(stage, user, c.getCustomerId())));\n    deleteCol.setCellFactory(ActionButtonTableCell.&lt;Customer, Void&gt;forTableColumn(&quot;Delete&quot;, c -&gt; {\n        Alert confirm = new Alert(Alert.AlertType.CONFIRMATION, &quot;Are you sure you want to delete this customer?&quot;);\n        confirm.show();\n        JDBC.deleteCustomer(c.getCustomerId());\n        new CustomerList(stage, user);\n    }));\n</code></pre>\n<hr />\n<p>Generally, you might consider other user experience options here. As mentioned in a comment on the original post, a better approach might be to have a single edit button and a single delete button outside of the table which just operates on the selected item.</p>\n<p>I would definitely suggest not having a column for every action if you have multiple actions to perform. Just for the sake of demonstrating the other approach I alluded to above (the cell value factory returning the value for the row), here is an example of an action-based table column which uses that approach and supports multiple actions (buttons) in the same column. This is written in more of a fluid-API style:</p>\n<pre><code>import javafx.beans.property.SimpleObjectProperty;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TableCell;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.layout.HBox;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.function.Consumer;\n\npublic class ActionColumn&lt;S&gt; {\n\n    private final List&lt;Action&lt;S&gt;&gt; actions = new ArrayList&lt;&gt;();\n    private String title ;\n\n    private ActionColumn() {}\n\n    public static &lt;S&gt; ActionColumn&lt;S&gt; forType(Class&lt;S&gt; type) {\n        return new ActionColumn&lt;&gt;();\n    }\n\n    public ActionColumn&lt;S&gt; withTitle(String title) {\n        this.title = title ;\n        return this;\n    }\n\n    public ActionColumn&lt;S&gt; withAction(String name, Consumer&lt;S&gt; action) {\n        actions.add(new Action&lt;&gt;(name, action));\n        return this;\n    }\n\n\n    public TableColumn&lt;S, ?&gt; build() {\n        TableColumn&lt;S, S&gt; column = new TableColumn&lt;&gt;(title);\n        column.setCellValueFactory(data -&gt; new SimpleObjectProperty&lt;&gt;(data.getValue()));\n        column.setCellFactory(tc -&gt; new ActionColumnCell&lt;&gt;(actions));\n        return column;\n    }\n\n    private record Action&lt;S&gt;(String name, Consumer&lt;S&gt; action) {}\n\n    private static class ActionColumnCell&lt;S&gt; extends TableCell&lt;S, S&gt; {\n        private final HBox buttons ;\n        private ActionColumnCell(List&lt;Action&lt;S&gt;&gt; actions) {\n            buttons = new HBox(2);\n            actions.stream()\n                    .map(this::createButton)\n                    .forEach(buttons.getChildren()::add);\n        }\n\n        private Button createButton(Action&lt;S&gt; action) {\n            Button button = new Button(action.name());\n            button.setOnAction(e -&gt; action.action().accept(getItem()));\n            return button;\n        }\n\n        @Override\n        protected void updateItem(S item, boolean empty) {\n            super.updateItem(item, empty);\n            setGraphic(empty ? null : buttons);\n        }\n    }\n}\n</code></pre>\n<p>Usage is something like:</p>\n<pre><code>TableColumn&lt;Item, ?&gt; actionColumn = ActionColumn.forType(Item.class)\n    .withTitle(&quot;Action&quot;)\n    .withAction(&quot;Edit&quot;, this::editItem)\n    .withAction(&quot;Delete&quot;, table.getItems()::remove)\n    .build();\n</code></pre>\n<p>Here is a complete working example:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.beans.property.StringProperty;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) {\n        ObservableList&lt;Item&gt; items = FXCollections.observableArrayList();\n        for (int i = 1 ; i &lt;= 20 ; i++) items.add(new Item(&quot;Item &quot;+i));\n        TableView&lt;Item&gt; table = new TableView&lt;&gt;(items);\n\n        TableColumn&lt;Item, String&gt; itemColumn = new TableColumn&lt;&gt;(&quot;Item&quot;);\n        itemColumn.setCellValueFactory(data -&gt; data.getValue().nameProperty());\n        table.getColumns().add(itemColumn);\n\n\n        table.getColumns().add(\n                ActionColumn.forType(Item.class).withTitle(&quot;Action&quot;)\n                        .withAction(&quot;Edit&quot;, this::editItem)\n                        .withAction(&quot;Delete&quot;, items::remove)\n                        .build()\n        );\n\n        BorderPane root = new BorderPane(table);\n        Scene scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    private void editItem(Item item) {\n        new TextInputDialog(item.getName()).showAndWait()\n            .ifPresent(item::setName);\n    }\n\n    public static class Item {\n        private final StringProperty name = new SimpleStringProperty();\n\n        public String getName() {\n            return name.get();\n        }\n\n        public StringProperty nameProperty() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name.set(name);\n        }\n\n        public Item(String name) {\n            setName(name);\n        }\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28540418,"reputation":3,"user_id":21846562,"display_name":"Gray"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76248931,"answer_count":1,"score":0,"last_activity_date":1684256367,"creation_date":1684085036,"question_id":76248808,"body_markdown":"I am trying to add a button into a GUI app in JFX for dealing with a database of customers and appointments. I want to put two buttons in each row of the table that will open other views when clocked.\r\n\r\n\r\n\r\nBelow is what I currently have (which does not work). The compiler doesn&#39;t complain about this code but I get the following `ClassCastException` at runtime (which did not seem to be an issue in the place I saw `ActionButtonTableCell` originally used for a case analogous to this one; https://stackoverflow.com/questions/29489366/how-to-add-button-in-javafx-table-view). \r\n\r\nHere is the stack trace:\r\n\r\n    Exception in thread &quot;JavaFX Application Thread&quot; java.lang.ClassCastException: class javafx.scene.control.TableColumn$CellDataFeatures cannot be cast to class javafx.scene.control.TableColumn (javafx.scene.control.TableColumn$CellDataFeatures and javafx.scene.control.TableColumn are in module javafx.controls of loader &#39;app&#39;)\r\n    \tat javafx.controls/javafx.scene.control.TableColumn.getCellObservableValue(TableColumn.java:593)\r\n    \tat javafx.controls/javafx.scene.control.TableColumn.getCellObservableValue(TableColumn.java:578)\r\n    \tat javafx.controls/javafx.scene.control.TableCell.updateItem(TableCell.java:646)\r\n    \tat javafx.controls/javafx.scene.control.TableCell.indexChanged(TableCell.java:469)\r\n    \tat javafx.controls/javafx.scene.control.IndexedCell.updateIndex(IndexedCell.java:120)\r\n    \tat javafx.controls/javafx.scene.control.skin.TableSkinUtils.resizeColumnToFitContent(TableSkinUtils.java:119)\r\n    \tat javafx.controls/javafx.scene.control.skin.TableSkinUtils.resizeColumnToFitContent(TableSkinUtils.java:86)\r\n    \tat javafx.controls/javafx.scene.control.skin.TableColumnHeader.doColumnAutoSize(TableColumnHeader.java:573)\r\n    \tat javafx.controls/javafx.scene.control.skin.TableColumnHeader.updateScene(TableColumnHeader.java:516)\r\n    \tat javafx.controls/javafx.scene.control.skin.TableColumnHeader.lambda$new$0(TableColumnHeader.java:159)\r\n    \tat javafx.controls/com.sun.javafx.scene.control.LambdaMultiplePropertyChangeListenerHandler.lambda$new$1(LambdaMultiplePropertyChangeListenerHandler.java:49)\r\n    \tat javafx.base/javafx.beans.value.WeakChangeListener.changed(WeakChangeListener.java:86)\r\n    \tat javafx.base/com.sun.javafx.binding.ExpressionHelper$SingleChange.fireValueChangedEvent(ExpressionHelper.java:181)\r\n    \tat javafx.base/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:80)\r\n    \tat javafx.base/javafx.beans.property.ReadOnlyObjectPropertyBase.fireValueChangedEvent(ReadOnlyObjectPropertyBase.java:74)\r\n    \tat javafx.base/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:102)\r\n    \tat javafx.graphics/javafx.scene.Node$ReadOnlyObjectWrapperManualFire.fireSuperValueChangedEvent(Node.java:1054)\r\n    \tat javafx.graphics/javafx.scene.Node.invalidatedScenes(Node.java:1114)\r\n    \tat javafx.graphics/javafx.scene.Node.setScenes(Node.java:1152)\r\n    \tat javafx.graphics/javafx.scene.Parent$2.onChanged(Parent.java:369)\r\n    \tat javafx.base/com.sun.javafx.collections.TrackableObservableList.lambda$new$0(TrackableObservableList.java:45)\r\n    \tat javafx.base/com.sun.javafx.collections.ListListenerHelper$Generic.fireValueChangedEvent(ListListenerHelper.java:329)\r\n    \tat javafx.base/com.sun.javafx.collections.ListListenerHelper.fireValueChangedEvent(ListListenerHelper.java:73)\r\n    \tat javafx.base/javafx.collections.ObservableListBase.fireChange(ObservableListBase.java:233)\r\n    \tat javafx.base/javafx.collections.ListChangeBuilder.commit(ListChangeBuilder.java:482)\r\n    \tat javafx.base/javafx.collections.ListChangeBuilder.endChange(ListChangeBuilder.java:541)\r\n    \tat javafx.base/javafx.collections.ObservableListBase.endChange(ObservableListBase.java:205)\r\n    \tat javafx.base/javafx.collections.ModifiableObservableListBase.setAll(ModifiableObservableListBase.java:90)\r\n    \tat javafx.base/com.sun.javafx.collections.VetoableListDecorator.setAll(VetoableListDecorator.java:116)\r\n    \tat javafx.controls/javafx.scene.control.skin.NestedTableColumnHeader.updateContent(NestedTableColumnHeader.java:578)\r\n    \tat javafx.controls/javafx.scene.control.skin.NestedTableColumnHeader.updateTableColumnHeaders(NestedTableColumnHeader.java:504)\r\n    \tat javafx.controls/javafx.scene.control.skin.NestedTableColumnHeader.checkState(NestedTableColumnHeader.java:638)\r\n    \tat javafx.controls/javafx.scene.control.skin.NestedTableColumnHeader.computePrefHeight(NestedTableColumnHeader.java:345)\r\n    \tat javafx.graphics/javafx.scene.Parent.prefHeight(Parent.java:1031)\r\n    \tat javafx.graphics/javafx.scene.layout.Region.prefHeight(Region.java:1559)\r\n    \tat javafx.controls/javafx.scene.control.skin.TableHeaderRow.computePrefHeight(TableHeaderRow.java:376)\r\n    \tat javafx.controls/javafx.scene.control.skin.TableHeaderRow.computeMinHeight(TableHeaderRow.java:369)\r\n    \tat javafx.graphics/javafx.scene.Parent.minHeight(Parent.java:1059)\r\n    \tat javafx.graphics/javafx.scene.layout.Region.minHeight(Region.java:1525)\r\n    \tat javafx.controls/javafx.scene.control.SkinBase.computeMinHeight(SkinBase.java:311)\r\n    \tat javafx.controls/javafx.scene.control.Control.computeMinHeight(Control.java:512)\r\n    \tat javafx.graphics/javafx.scene.Parent.minHeight(Parent.java:1059)\r\n    \tat javafx.graphics/javafx.scene.layout.Region.minHeight(Region.java:1525)\r\n    \tat javafx.graphics/javafx.scene.layout.Region.computeChildPrefAreaHeight(Region.java:1980)\r\n    \tat javafx.graphics/javafx.scene.layout.GridPane.computePrefHeights(GridPane.java:1436)\r\n    \tat javafx.graphics/javafx.scene.layout.GridPane.computePrefHeight(GridPane.java:1265)\r\n    \tat javafx.graphics/javafx.scene.Parent.prefHeight(Parent.java:1031)\r\n    \tat javafx.graphics/javafx.scene.layout.Region.prefHeight(Region.java:1559)\r\n    \tat javafx.graphics/javafx.scene.Scene.getPreferredHeight(Scene.java:1811)\r\n    \tat javafx.graphics/javafx.scene.Scene.resizeRootToPreferredSize(Scene.java:1776)\r\n    \tat javafx.graphics/javafx.scene.Scene.preferredSize(Scene.java:1747)\r\n    \tat javafx.graphics/javafx.scene.Scene$2.preferredSize(Scene.java:393)\r\n    \tat javafx.graphics/com.sun.javafx.scene.SceneHelper.preferredSize(SceneHelper.java:66)\r\n    \tat javafx.graphics/javafx.stage.Window$SceneModel.invalidated(Window.java:814)\r\n    \tat javafx.base/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:112)\r\n    \tat javafx.base/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)\r\n    \tat javafx.graphics/javafx.stage.Window.setScene(Window.java:770)\r\n    \tat javafx.graphics/javafx.stage.Stage.setScene(Stage.java:266)\r\n    \tat app.jfx.CustomerList.&lt;init&gt;(CustomerList.java:79)\r\n    \tat app.jfx.CustomerList.&lt;init&gt;(CustomerList.java:19)\r\n    \tat app.jfx.LoggedInView$1.handle(LoggedInView.java:44)\r\n    \tat app.jfx.LoggedInView$1.handle(LoggedInView.java:41)\r\n    \tat javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n    \tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\r\n    \tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n    \tat javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n    \tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n    \tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n    \tat javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n    \tat javafx.base/javafx.event.Event.fireEvent(Event.java:198)\r\n    \tat javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8879)\r\n    \tat javafx.controls/javafx.scene.control.Button.fire(Button.java:200)\r\n    \tat javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:206)\r\n    \tat javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n    \tat javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\r\n    \tat javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n    \tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\r\n    \tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n    \tat javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n    \tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n    \tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n    \tat javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n    \tat javafx.base/javafx.event.Event.fireEvent(Event.java:198)\r\n    \tat javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3851)\r\n    \tat javafx.graphics/javafx.scene.Scene$MouseHandler.access$1200(Scene.java:3579)\r\n    \tat javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1849)\r\n    \tat javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2588)\r\n    \tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:397)\r\n    \tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n    \tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:434)\r\n    \tat javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:390)\r\n    \tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:433)\r\n    \tat javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:556)\r\n    \tat javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:942)\r\n    \tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n    \tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n\r\nI just want the buttons to display as part of the table, but the exception results in the entire table (apart from the column headers) failing to display any data. \r\n\r\n`Customer` class looks like this (`Model` is an application-specific class that just reduces code duplication for several properties that have the same name across other classes):\r\n\r\n```\r\npublic class Customer extends Model {\r\n    //primary key    \r\n    private int customerId;\r\n    //customer data\r\n    private String customerName; \r\n    private String address;    \r\n    private String postalCode;\r\n    private String phone;\r\n    //foreign key to FirstLevelDivision\r\n    private int divisionId;\r\n    \r\n    //all-arg constructor\r\n\r\n    //getters and setters\r\n}\r\n```\r\n\r\nThe button is meant to be added with `ActionButtonTableCell`, which looks like this:\r\n```\r\npackage app.jfx;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ButtonBase;\r\nimport javafx.scene.control.TableCell;\r\nimport javafx.scene.control.TableColumn;\r\nimport javafx.util.Callback;\r\nimport java.util.function.Function;\r\n\r\npublic class ActionButtonTableCell&lt;S&gt; extends TableCell&lt;S, Button&gt; {\r\n    private final Button actionButton;\r\n\r\n    public ActionButtonTableCell(String label, Function&lt; S, S&gt; function) {\r\n        this.getStyleClass().add(&quot;action-button-table-cell&quot;);\r\n        this.actionButton = new Button(label);\r\n        this.actionButton.setOnAction((ActionEvent e) -&gt; {\r\n            function.apply(getCurrentItem());        });\r\n            this.actionButton.setMaxWidth(Double.MAX_VALUE);\r\n        }\r\n    public S getCurrentItem() {\r\n        return (S) getTableView().getItems().get(getIndex());\r\n    }\r\n\r\n    public static &lt;S&gt; Callback&lt;TableColumn&lt;S, Button&gt;, TableCell&lt;S, Button&gt;&gt; forTableColumn(String label, Function&lt; S, S&gt; function) {\r\n        return param -&gt; new ActionButtonTableCell&lt;&gt;(label, function);\r\n    }\r\n    @Override\r\n    public void updateItem(Button item, boolean empty) {\r\n        super.updateItem(item, empty);\r\n        if (empty) {\r\n            setGraphic(null);\r\n        } else {\r\n            setGraphic(actionButton);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIt appears in `CustomerList`, which looks like this:\r\n```\r\npackage app.jfx;\r\nimport app.JDBC;\r\nimport app.model.*;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.*;\r\nimport javafx.scene.control.cell.PropertyValueFactory;\r\nimport javafx.scene.layout.GridPane;import javafx.stage.Stage;\r\nimport javafx.util.Callback;\r\nimport java.util.List;\r\nimport java.util.function.Function;\r\n\r\npublic class CustomerList extends Scene {\r\n    private User user;\r\n    public CustomerList(Stage stage) {\r\n        this(stage, null, new GridPane());\r\n    }    public CustomerList(Stage stage, User user) {\r\n        this(stage, user, new GridPane());\r\n    }\r\n    private CustomerList(Stage stage, User user, GridPane gridPane) {\r\n        super(gridPane);\r\n        Label label = new Label(&quot;Customer Records&quot;);\r\n        TableView tableView = new TableView();\r\n        Button back = new Button(&quot;Back&quot;);\r\n        back.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n            @Override\r\n            public void handle(ActionEvent actionEvent) {\r\n                new LoggedInView(stage, user);\r\n            }\r\n        });\r\n        gridPane.add(label, 0, 0);\r\n        gridPane.add(tableView, 0, 1);\r\n        gridPane.add(back, 0, 2);\r\n        List&lt;Customer&gt; customers = JDBC.getCustomers();\r\n        customers.forEach( customer -&gt; tableView.getItems().add(customer));\r\n\r\n        //define columns\r\n        TableColumn&lt;Customer, Integer&gt; customerId = new TableColumn&lt;&gt;(&quot;Customer ID&quot;);\r\n        TableColumn&lt;Customer, String&gt; customerName = new TableColumn&lt;&gt;(&quot;Customer Name&quot;);\r\n        TableColumn&lt;Customer, String&gt; address = new TableColumn&lt;&gt;(&quot;Address&quot;);\r\n        TableColumn&lt;Customer, String&gt; postalCode = new TableColumn&lt;&gt;(&quot;Postal Code&quot;);\r\n        TableColumn&lt;Customer, String&gt; phone = new TableColumn&lt;&gt;(&quot;Phone&quot;);\r\n        TableColumn&lt;Customer, Integer&gt; divisionId = new TableColumn&lt;&gt;(&quot;Division ID&quot;);\r\n        TableColumn viewCol = new TableColumn(&quot;&quot;);\r\n        TableColumn deleteCol = new TableColumn(&quot;&quot;);\r\n\r\n        //set cell values\r\n        customerId.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;customerId&quot;));\r\n        customerName.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;customerName&quot;));\r\n        address.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;address&quot;));\r\n        postalCode.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;postalCode&quot;));\r\n        phone.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;phone&quot;));\r\n        divisionId.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;divisionId&quot;));\r\n        viewCol.setCellValueFactory(ActionButtonTableCell.&lt;Customer&gt;forTableColumn(&quot;View/Edit&quot;, (Customer c) -&gt; {\r\n            new CustomerEditView(stage, user, c.getCustomerId());\r\n            return c;\r\n        }));\r\n        deleteCol.setCellValueFactory(ActionButtonTableCell.&lt;Customer&gt;forTableColumn(&quot;Delete&quot;, (Customer c) -&gt; {\r\n            Alert confirm = new Alert(Alert.AlertType.CONFIRMATION, &quot;Are you sure you want to delete this customer?&quot;);\r\n            confirm.show();\r\n            JDBC.deleteCustomer(c.getCustomerId());\r\n            new CustomerList(stage, user);\r\n            return c;        }));\r\n\r\n        //render table\r\n        tableView.getColumns().add(customerId);\r\n        tableView.getColumns().add(customerName);\r\n        tableView.getColumns().add(address);\r\n        tableView.getColumns().add(postalCode);\r\n        tableView.getColumns().add(phone);\r\n        tableView.getColumns().add(divisionId);\r\n        tableView.getColumns().add(viewCol);\r\n        tableView.getColumns().add(deleteCol);\r\n        stage.setScene(this);    }}\r\n```\r\n\r\n\r\nAdding in `deleteCol` is where the breaking started, yielding the exception above. If I specify `viewCol` and `deleteCol` as `TableColumn&lt;Customer, Button&gt;`, the compiler warns that `setCellValueFactory` requires a `Callback&lt;CellDataFeatures&lt;Customer, Button&gt;, ObservableValue&lt;Button&gt;&gt;` and I&#39;ve provided a `Callback&lt;TableColumn&lt;Customer, Button&gt;, TableCell&lt;Customer, Button&gt;` instead (but not if the types for `TableColumn` are not specified). Altering the return type of the `ActionButtonTableCell` method used breaks the `@Override`. What can I do to make this cast work (or make it unnecessary)? Is there another way to add the buttons in?","title":"How do I add a button into a JFX TableView?","body":"<p>I am trying to add a button into a GUI app in JFX for dealing with a database of customers and appointments. I want to put two buttons in each row of the table that will open other views when clocked.</p>\n<p>Below is what I currently have (which does not work). The compiler doesn't complain about this code but I get the following <code>ClassCastException</code> at runtime (which did not seem to be an issue in the place I saw <code>ActionButtonTableCell</code> originally used for a case analogous to this one; <a href=\"https://stackoverflow.com/questions/29489366/how-to-add-button-in-javafx-table-view\">How to add button in JavaFX table view</a>).</p>\n<p>Here is the stack trace:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.ClassCastException: class javafx.scene.control.TableColumn$CellDataFeatures cannot be cast to class javafx.scene.control.TableColumn (javafx.scene.control.TableColumn$CellDataFeatures and javafx.scene.control.TableColumn are in module javafx.controls of loader 'app')\n    at javafx.controls/javafx.scene.control.TableColumn.getCellObservableValue(TableColumn.java:593)\n    at javafx.controls/javafx.scene.control.TableColumn.getCellObservableValue(TableColumn.java:578)\n    at javafx.controls/javafx.scene.control.TableCell.updateItem(TableCell.java:646)\n    at javafx.controls/javafx.scene.control.TableCell.indexChanged(TableCell.java:469)\n    at javafx.controls/javafx.scene.control.IndexedCell.updateIndex(IndexedCell.java:120)\n    at javafx.controls/javafx.scene.control.skin.TableSkinUtils.resizeColumnToFitContent(TableSkinUtils.java:119)\n    at javafx.controls/javafx.scene.control.skin.TableSkinUtils.resizeColumnToFitContent(TableSkinUtils.java:86)\n    at javafx.controls/javafx.scene.control.skin.TableColumnHeader.doColumnAutoSize(TableColumnHeader.java:573)\n    at javafx.controls/javafx.scene.control.skin.TableColumnHeader.updateScene(TableColumnHeader.java:516)\n    at javafx.controls/javafx.scene.control.skin.TableColumnHeader.lambda$new$0(TableColumnHeader.java:159)\n    at javafx.controls/com.sun.javafx.scene.control.LambdaMultiplePropertyChangeListenerHandler.lambda$new$1(LambdaMultiplePropertyChangeListenerHandler.java:49)\n    at javafx.base/javafx.beans.value.WeakChangeListener.changed(WeakChangeListener.java:86)\n    at javafx.base/com.sun.javafx.binding.ExpressionHelper$SingleChange.fireValueChangedEvent(ExpressionHelper.java:181)\n    at javafx.base/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:80)\n    at javafx.base/javafx.beans.property.ReadOnlyObjectPropertyBase.fireValueChangedEvent(ReadOnlyObjectPropertyBase.java:74)\n    at javafx.base/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:102)\n    at javafx.graphics/javafx.scene.Node$ReadOnlyObjectWrapperManualFire.fireSuperValueChangedEvent(Node.java:1054)\n    at javafx.graphics/javafx.scene.Node.invalidatedScenes(Node.java:1114)\n    at javafx.graphics/javafx.scene.Node.setScenes(Node.java:1152)\n    at javafx.graphics/javafx.scene.Parent$2.onChanged(Parent.java:369)\n    at javafx.base/com.sun.javafx.collections.TrackableObservableList.lambda$new$0(TrackableObservableList.java:45)\n    at javafx.base/com.sun.javafx.collections.ListListenerHelper$Generic.fireValueChangedEvent(ListListenerHelper.java:329)\n    at javafx.base/com.sun.javafx.collections.ListListenerHelper.fireValueChangedEvent(ListListenerHelper.java:73)\n    at javafx.base/javafx.collections.ObservableListBase.fireChange(ObservableListBase.java:233)\n    at javafx.base/javafx.collections.ListChangeBuilder.commit(ListChangeBuilder.java:482)\n    at javafx.base/javafx.collections.ListChangeBuilder.endChange(ListChangeBuilder.java:541)\n    at javafx.base/javafx.collections.ObservableListBase.endChange(ObservableListBase.java:205)\n    at javafx.base/javafx.collections.ModifiableObservableListBase.setAll(ModifiableObservableListBase.java:90)\n    at javafx.base/com.sun.javafx.collections.VetoableListDecorator.setAll(VetoableListDecorator.java:116)\n    at javafx.controls/javafx.scene.control.skin.NestedTableColumnHeader.updateContent(NestedTableColumnHeader.java:578)\n    at javafx.controls/javafx.scene.control.skin.NestedTableColumnHeader.updateTableColumnHeaders(NestedTableColumnHeader.java:504)\n    at javafx.controls/javafx.scene.control.skin.NestedTableColumnHeader.checkState(NestedTableColumnHeader.java:638)\n    at javafx.controls/javafx.scene.control.skin.NestedTableColumnHeader.computePrefHeight(NestedTableColumnHeader.java:345)\n    at javafx.graphics/javafx.scene.Parent.prefHeight(Parent.java:1031)\n    at javafx.graphics/javafx.scene.layout.Region.prefHeight(Region.java:1559)\n    at javafx.controls/javafx.scene.control.skin.TableHeaderRow.computePrefHeight(TableHeaderRow.java:376)\n    at javafx.controls/javafx.scene.control.skin.TableHeaderRow.computeMinHeight(TableHeaderRow.java:369)\n    at javafx.graphics/javafx.scene.Parent.minHeight(Parent.java:1059)\n    at javafx.graphics/javafx.scene.layout.Region.minHeight(Region.java:1525)\n    at javafx.controls/javafx.scene.control.SkinBase.computeMinHeight(SkinBase.java:311)\n    at javafx.controls/javafx.scene.control.Control.computeMinHeight(Control.java:512)\n    at javafx.graphics/javafx.scene.Parent.minHeight(Parent.java:1059)\n    at javafx.graphics/javafx.scene.layout.Region.minHeight(Region.java:1525)\n    at javafx.graphics/javafx.scene.layout.Region.computeChildPrefAreaHeight(Region.java:1980)\n    at javafx.graphics/javafx.scene.layout.GridPane.computePrefHeights(GridPane.java:1436)\n    at javafx.graphics/javafx.scene.layout.GridPane.computePrefHeight(GridPane.java:1265)\n    at javafx.graphics/javafx.scene.Parent.prefHeight(Parent.java:1031)\n    at javafx.graphics/javafx.scene.layout.Region.prefHeight(Region.java:1559)\n    at javafx.graphics/javafx.scene.Scene.getPreferredHeight(Scene.java:1811)\n    at javafx.graphics/javafx.scene.Scene.resizeRootToPreferredSize(Scene.java:1776)\n    at javafx.graphics/javafx.scene.Scene.preferredSize(Scene.java:1747)\n    at javafx.graphics/javafx.scene.Scene$2.preferredSize(Scene.java:393)\n    at javafx.graphics/com.sun.javafx.scene.SceneHelper.preferredSize(SceneHelper.java:66)\n    at javafx.graphics/javafx.stage.Window$SceneModel.invalidated(Window.java:814)\n    at javafx.base/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:112)\n    at javafx.base/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)\n    at javafx.graphics/javafx.stage.Window.setScene(Window.java:770)\n    at javafx.graphics/javafx.stage.Stage.setScene(Stage.java:266)\n    at app.jfx.CustomerList.&lt;init&gt;(CustomerList.java:79)\n    at app.jfx.CustomerList.&lt;init&gt;(CustomerList.java:19)\n    at app.jfx.LoggedInView$1.handle(LoggedInView.java:44)\n    at app.jfx.LoggedInView$1.handle(LoggedInView.java:41)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8879)\n    at javafx.controls/javafx.scene.control.Button.fire(Button.java:200)\n    at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:206)\n    at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3851)\n    at javafx.graphics/javafx.scene.Scene$MouseHandler.access$1200(Scene.java:3579)\n    at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1849)\n    at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2588)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:397)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:434)\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:390)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:433)\n    at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:556)\n    at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:942)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>I just want the buttons to display as part of the table, but the exception results in the entire table (apart from the column headers) failing to display any data.</p>\n<p><code>Customer</code> class looks like this (<code>Model</code> is an application-specific class that just reduces code duplication for several properties that have the same name across other classes):</p>\n<pre><code>public class Customer extends Model {\n    //primary key    \n    private int customerId;\n    //customer data\n    private String customerName; \n    private String address;    \n    private String postalCode;\n    private String phone;\n    //foreign key to FirstLevelDivision\n    private int divisionId;\n    \n    //all-arg constructor\n\n    //getters and setters\n}\n</code></pre>\n<p>The button is meant to be added with <code>ActionButtonTableCell</code>, which looks like this:</p>\n<pre><code>package app.jfx;\nimport javafx.event.ActionEvent;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ButtonBase;\nimport javafx.scene.control.TableCell;\nimport javafx.scene.control.TableColumn;\nimport javafx.util.Callback;\nimport java.util.function.Function;\n\npublic class ActionButtonTableCell&lt;S&gt; extends TableCell&lt;S, Button&gt; {\n    private final Button actionButton;\n\n    public ActionButtonTableCell(String label, Function&lt; S, S&gt; function) {\n        this.getStyleClass().add(&quot;action-button-table-cell&quot;);\n        this.actionButton = new Button(label);\n        this.actionButton.setOnAction((ActionEvent e) -&gt; {\n            function.apply(getCurrentItem());        });\n            this.actionButton.setMaxWidth(Double.MAX_VALUE);\n        }\n    public S getCurrentItem() {\n        return (S) getTableView().getItems().get(getIndex());\n    }\n\n    public static &lt;S&gt; Callback&lt;TableColumn&lt;S, Button&gt;, TableCell&lt;S, Button&gt;&gt; forTableColumn(String label, Function&lt; S, S&gt; function) {\n        return param -&gt; new ActionButtonTableCell&lt;&gt;(label, function);\n    }\n    @Override\n    public void updateItem(Button item, boolean empty) {\n        super.updateItem(item, empty);\n        if (empty) {\n            setGraphic(null);\n        } else {\n            setGraphic(actionButton);\n        }\n    }\n}\n</code></pre>\n<p>It appears in <code>CustomerList</code>, which looks like this:</p>\n<pre><code>package app.jfx;\nimport app.JDBC;\nimport app.model.*;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport javafx.scene.layout.GridPane;import javafx.stage.Stage;\nimport javafx.util.Callback;\nimport java.util.List;\nimport java.util.function.Function;\n\npublic class CustomerList extends Scene {\n    private User user;\n    public CustomerList(Stage stage) {\n        this(stage, null, new GridPane());\n    }    public CustomerList(Stage stage, User user) {\n        this(stage, user, new GridPane());\n    }\n    private CustomerList(Stage stage, User user, GridPane gridPane) {\n        super(gridPane);\n        Label label = new Label(&quot;Customer Records&quot;);\n        TableView tableView = new TableView();\n        Button back = new Button(&quot;Back&quot;);\n        back.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent actionEvent) {\n                new LoggedInView(stage, user);\n            }\n        });\n        gridPane.add(label, 0, 0);\n        gridPane.add(tableView, 0, 1);\n        gridPane.add(back, 0, 2);\n        List&lt;Customer&gt; customers = JDBC.getCustomers();\n        customers.forEach( customer -&gt; tableView.getItems().add(customer));\n\n        //define columns\n        TableColumn&lt;Customer, Integer&gt; customerId = new TableColumn&lt;&gt;(&quot;Customer ID&quot;);\n        TableColumn&lt;Customer, String&gt; customerName = new TableColumn&lt;&gt;(&quot;Customer Name&quot;);\n        TableColumn&lt;Customer, String&gt; address = new TableColumn&lt;&gt;(&quot;Address&quot;);\n        TableColumn&lt;Customer, String&gt; postalCode = new TableColumn&lt;&gt;(&quot;Postal Code&quot;);\n        TableColumn&lt;Customer, String&gt; phone = new TableColumn&lt;&gt;(&quot;Phone&quot;);\n        TableColumn&lt;Customer, Integer&gt; divisionId = new TableColumn&lt;&gt;(&quot;Division ID&quot;);\n        TableColumn viewCol = new TableColumn(&quot;&quot;);\n        TableColumn deleteCol = new TableColumn(&quot;&quot;);\n\n        //set cell values\n        customerId.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;customerId&quot;));\n        customerName.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;customerName&quot;));\n        address.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;address&quot;));\n        postalCode.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;postalCode&quot;));\n        phone.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;phone&quot;));\n        divisionId.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;divisionId&quot;));\n        viewCol.setCellValueFactory(ActionButtonTableCell.&lt;Customer&gt;forTableColumn(&quot;View/Edit&quot;, (Customer c) -&gt; {\n            new CustomerEditView(stage, user, c.getCustomerId());\n            return c;\n        }));\n        deleteCol.setCellValueFactory(ActionButtonTableCell.&lt;Customer&gt;forTableColumn(&quot;Delete&quot;, (Customer c) -&gt; {\n            Alert confirm = new Alert(Alert.AlertType.CONFIRMATION, &quot;Are you sure you want to delete this customer?&quot;);\n            confirm.show();\n            JDBC.deleteCustomer(c.getCustomerId());\n            new CustomerList(stage, user);\n            return c;        }));\n\n        //render table\n        tableView.getColumns().add(customerId);\n        tableView.getColumns().add(customerName);\n        tableView.getColumns().add(address);\n        tableView.getColumns().add(postalCode);\n        tableView.getColumns().add(phone);\n        tableView.getColumns().add(divisionId);\n        tableView.getColumns().add(viewCol);\n        tableView.getColumns().add(deleteCol);\n        stage.setScene(this);    }}\n</code></pre>\n<p>Adding in <code>deleteCol</code> is where the breaking started, yielding the exception above. If I specify <code>viewCol</code> and <code>deleteCol</code> as <code>TableColumn&lt;Customer, Button&gt;</code>, the compiler warns that <code>setCellValueFactory</code> requires a <code>Callback&lt;CellDataFeatures&lt;Customer, Button&gt;, ObservableValue&lt;Button&gt;&gt;</code> and I've provided a <code>Callback&lt;TableColumn&lt;Customer, Button&gt;, TableCell&lt;Customer, Button&gt;</code> instead (but not if the types for <code>TableColumn</code> are not specified). Altering the return type of the <code>ActionButtonTableCell</code> method used breaks the <code>@Override</code>. What can I do to make this cast work (or make it unnecessary)? Is there another way to add the buttons in?</p>\n"},{"tags":["java","multithreading","concurrency"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1684252037,"post_id":76264714,"comment_id":134489552,"body_markdown":"You have a data race, which is a common issue when working on concurrent threads. **Concurrency is hard**.","body":"You have a data race, which is a common issue when working on concurrent threads. <b>Concurrency is hard</b>."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":2,"creation_date":1684252430,"post_id":76264714,"comment_id":134489644,"body_markdown":"Re, &quot;...what&#39;s even happening.&quot; You&#39;d have to look at the source code for `ArrayList` to know what&#39;s _really_ happening. But why not start with one of those examples where two threads increment a counter variable, and some of the increments get lost? An `ArrayList` basically is an array with a counter variable that tells where to `add` the next item.","body":"Re, &quot;...what&#39;s even happening.&quot; You&#39;d have to look at the source code for <code>ArrayList</code> to know what&#39;s <i>really</i> happening. But why not start with one of those examples where two threads increment a counter variable, and some of the increments get lost? An <code>ArrayList</code> basically is an array with a counter variable that tells where to <code>add</code> the next item."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":1,"creation_date":1684254840,"post_id":76264714,"comment_id":134490267,"body_markdown":"Even looking at source won&#39;t clarify all of it, because in the absence of synchronization different optimizations like reordering of instructions are allowed.","body":"Even looking at source won&#39;t clarify all of it, because in the absence of synchronization different optimizations like reordering of instructions are allowed."}],"answers":[{"tags":[],"owner":{"account_id":540420,"reputation":6131,"user_id":908621,"accept_rate":61,"display_name":"fishinear"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684255384,"creation_date":1684252661,"answer_id":76265015,"question_id":76264714,"body_markdown":"`ArrayList` is not thread-safe. If two threads try to call `add()` at the same time, anything might happen. \r\nFrom the [Arraylist documentation][1]:\r\n\r\n&gt; **Note that this implementation is not synchronized.** If multiple threads\r\n&gt; access an ArrayList instance concurrently, and at least one of the\r\n&gt; threads modifies the list structurally, it must be synchronized\r\n&gt; externally.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html","title":"Lost list element in a concurrency program","body":"<p><code>ArrayList</code> is not thread-safe. If two threads try to call <code>add()</code> at the same time, anything might happen.\nFrom the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">Arraylist documentation</a>:</p>\n<blockquote>\n<p><strong>Note that this implementation is not synchronized.</strong> If multiple threads\naccess an ArrayList instance concurrently, and at least one of the\nthreads modifies the list structurally, it must be synchronized\nexternally.</p>\n</blockquote>\n"}],"owner":{"account_id":5461170,"reputation":101,"user_id":4343242,"display_name":"CDO"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684255464,"answer_count":1,"score":0,"last_activity_date":1684255384,"creation_date":1684250468,"question_id":76264714,"body_markdown":"This is a task from the book *Head First Java*, where the reader is asked to find out what happens in the following code block:\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\npublic class TwoThreadsWriting {\r\n    public static void main(String[] args) {\r\n        ExecutorService threadPool = Executors.newFixedThreadPool(2);\r\n        Data data = new Data();\r\n        threadPool.execute(()-&gt; addLetterToData(&#39;a&#39;, data));\r\n        threadPool.execute(()-&gt; addLetterToData(&#39;A&#39;, data));\r\n        threadPool.shutdown();\r\n    }\r\n\r\n    private static void addLetterToData(char letter, Data data) {\r\n        for(int i = 0; i &lt; 26; i++){\r\n            data.addLetter(letter++);\r\n            try {\r\n                Thread.sleep(50);\r\n            } catch (InterruptedException ignored) {}\r\n        }\r\n        System.out.println(Thread.currentThread().getName() + data.getLetters());\r\n        System.out.println(Thread.currentThread().getName() + &quot; size: &quot; + data.getLetters().size());\r\n    }\r\n}\r\nclass Data {\r\n    private final List&lt;String&gt; letters = new ArrayList&lt;&gt;();\r\n    public List&lt;String&gt; getLetters() {return letters;}\r\n    public void addLetter(char letter){\r\n        letters.add(String.valueOf(letter));\r\n    }\r\n}\r\n```\r\n\r\nI expected that the output lists contain 52 characters like this\r\n\r\n```\r\n[&#39;a&#39;, &#39;A&#39;, &#39;b&#39;, &#39;B&#39;, ...]\r\n```\r\n\r\nBut sometimes the number of elements is less than 52 and some characters are missing in `letters`, like here for example (`&#39;K&#39;` is missing):\r\n\r\n```\r\npool-1-thread-2[A, a, B, b, c, C, d, D, e, E, f, F, G, g, H, h, i, I, J, j, k, L, l, m, M, N, n, O, o, p, P, q, Q, r, R, s, S, t, T, u, U, V, v, w, W, X, x, y, Y, Z, z]\r\n\r\npool-1-thread-1[A, a, B, b, c, C, d, D, e, E, f, F, G, g, H, h, i, I, J, j, k, L, l, m, M, N, n, O, o, p, P, q, Q, r, R, s, S, t, T, u, U, V, v, w, W, X, x, y, Y, Z, z]\r\n\r\npool-1-thread-2 size: 51\r\npool-1-thread-1 size: 51\r\n```\r\n\r\nI do not understand why this happens. I tried debugging it by printing the value of the local variable `letter` of `addLetter` but it only shows me that the `&#39;K&#39;` was actually added.\r\n\r\nI do know that this all happens solely due to using the non-thread-safe `ArrayList` or `addLetter` not being declared as `synchronized`, but I want to understand what&#39;s even happening here in the first place.","title":"Lost list element in a concurrency program","body":"<p>This is a task from the book <em>Head First Java</em>, where the reader is asked to find out what happens in the following code block:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\npublic class TwoThreadsWriting {\n    public static void main(String[] args) {\n        ExecutorService threadPool = Executors.newFixedThreadPool(2);\n        Data data = new Data();\n        threadPool.execute(()-&gt; addLetterToData('a', data));\n        threadPool.execute(()-&gt; addLetterToData('A', data));\n        threadPool.shutdown();\n    }\n\n    private static void addLetterToData(char letter, Data data) {\n        for(int i = 0; i &lt; 26; i++){\n            data.addLetter(letter++);\n            try {\n                Thread.sleep(50);\n            } catch (InterruptedException ignored) {}\n        }\n        System.out.println(Thread.currentThread().getName() + data.getLetters());\n        System.out.println(Thread.currentThread().getName() + &quot; size: &quot; + data.getLetters().size());\n    }\n}\nclass Data {\n    private final List&lt;String&gt; letters = new ArrayList&lt;&gt;();\n    public List&lt;String&gt; getLetters() {return letters;}\n    public void addLetter(char letter){\n        letters.add(String.valueOf(letter));\n    }\n}\n</code></pre>\n<p>I expected that the output lists contain 52 characters like this</p>\n<pre><code>['a', 'A', 'b', 'B', ...]\n</code></pre>\n<p>But sometimes the number of elements is less than 52 and some characters are missing in <code>letters</code>, like here for example (<code>'K'</code> is missing):</p>\n<pre><code>pool-1-thread-2[A, a, B, b, c, C, d, D, e, E, f, F, G, g, H, h, i, I, J, j, k, L, l, m, M, N, n, O, o, p, P, q, Q, r, R, s, S, t, T, u, U, V, v, w, W, X, x, y, Y, Z, z]\n\npool-1-thread-1[A, a, B, b, c, C, d, D, e, E, f, F, G, g, H, h, i, I, J, j, k, L, l, m, M, N, n, O, o, p, P, q, Q, r, R, s, S, t, T, u, U, V, v, w, W, X, x, y, Y, Z, z]\n\npool-1-thread-2 size: 51\npool-1-thread-1 size: 51\n</code></pre>\n<p>I do not understand why this happens. I tried debugging it by printing the value of the local variable <code>letter</code> of <code>addLetter</code> but it only shows me that the <code>'K'</code> was actually added.</p>\n<p>I do know that this all happens solely due to using the non-thread-safe <code>ArrayList</code> or <code>addLetter</code> not being declared as <code>synchronized</code>, but I want to understand what's even happening here in the first place.</p>\n"},{"tags":["java","docker","7zip"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684248104,"post_id":76264296,"comment_id":134488397,"body_markdown":"Does it work when execute the same command from the command line? What is the output of `cmd.split(&quot;\\\\s+&quot;)`?","body":"Does it work when execute the same command from the command line? What is the output of <code>cmd.split(&quot;\\\\s+&quot;)</code>?"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684248115,"post_id":76264296,"comment_id":134488406,"body_markdown":"Use [code format](https://stackoverflow.com/editing-help#code) for logs, not quote format. Quote is for human text, not logs and other pre formatted text. Quote breaks the existing format of the log, makes it very hard to read and gets in the way of trying to copy text for investigation.","body":"Use <a href=\"https://stackoverflow.com/editing-help#code\">code format</a> for logs, not quote format. Quote is for human text, not logs and other pre formatted text. Quote breaks the existing format of the log, makes it very hard to read and gets in the way of trying to copy text for investigation."},{"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"score":1,"creation_date":1684249588,"post_id":76264296,"comment_id":134488819,"body_markdown":"Just FYI: You don&#39;t need to use external tools to create ZIP files in Java. It comes with classes for handling ZIP files. See for example https://www.baeldung.com/java-compress-and-uncompress","body":"Just FYI: You don&#39;t need to use external tools to create ZIP files in Java. It comes with classes for handling ZIP files. See for example <a href=\"https://www.baeldung.com/java-compress-and-uncompress\" rel=\"nofollow noreferrer\">baeldung.com/java-compress-and-uncompress</a>"},{"owner":{"account_id":22555920,"reputation":3,"user_id":16744310,"display_name":"GouthamRio"},"score":0,"creation_date":1684249915,"post_id":76264296,"comment_id":134488915,"body_markdown":"@aled the `cmd.split(&quot;\\\\s+&quot;)` output will be as follows `ProcessBuilder processBuilder = new ProcessBuilder(&quot;7za&quot;, &quot;a&quot;, &quot;-ptest123&quot;, &quot;/data01/cfm/encrypted/test.7z&quot;, &quot;/data01/cfm/files/test.txt&quot;);`","body":"@aled the <code>cmd.split(&quot;\\\\s+&quot;)</code> output will be as follows <code>ProcessBuilder processBuilder = new ProcessBuilder(&quot;7za&quot;, &quot;a&quot;, &quot;-ptest123&quot;, &quot;&#47;data01&#47;cfm&#47;encrypted&#47;test.7z&quot;, &quot;&#47;data01&#47;cfm&#47;files&#47;test.txt&quot;);</code>"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684250127,"post_id":76264296,"comment_id":134488980,"body_markdown":"Does it work when you execute the same command from the command line?","body":"Does it work when you execute the same command from the command line?"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1684250209,"post_id":76264296,"comment_id":134489008,"body_markdown":"@RoToRa 7zip files are not supported by the ZIP functionality in Java.","body":"@RoToRa 7zip files are not supported by the ZIP functionality in Java."},{"owner":{"account_id":22555920,"reputation":3,"user_id":16744310,"display_name":"GouthamRio"},"score":1,"creation_date":1684250253,"post_id":76264296,"comment_id":134489023,"body_markdown":"@RoToRa yes but in don&#39;t think so it can compress with password protect. i have tried compressing using zip classes and then encryption it with aes256 algo. but after that when i try to open that archive in 7zip windows app its not opening properly, i have a specific use case where i need to compress with password through program and sent it to users where they will decompress in there windows machine using 7zip application.","body":"@RoToRa yes but in don&#39;t think so it can compress with password protect. i have tried compressing using zip classes and then encryption it with aes256 algo. but after that when i try to open that archive in 7zip windows app its not opening properly, i have a specific use case where i need to compress with password through program and sent it to users where they will decompress in there windows machine using 7zip application."},{"owner":{"account_id":22555920,"reputation":3,"user_id":16744310,"display_name":"GouthamRio"},"score":0,"creation_date":1684251054,"post_id":76264296,"comment_id":134489274,"body_markdown":"@aled i tested in cmd line during docker build and add the output in the body, please check. since its a ecs fargate container i dont have full control over to connect and run the cmd. so i ran it during docker build","body":"@aled i tested in cmd line during docker build and add the output in the body, please check. since its a ecs fargate container i dont have full control over to connect and run the cmd. so i ran it during docker build"},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1684251896,"post_id":76264296,"comment_id":134489518,"body_markdown":"Strictly speaking, unless you add `processBuilder.redirectErrorStream(true);` you haven&#39;t shown the error log, just standard output. The error log might - or not - tell you what happened.","body":"Strictly speaking, unless you add <code>processBuilder.redirectErrorStream(true);</code> you haven&#39;t shown the error log, just standard output. The error log might - or not - tell you what happened."},{"owner":{"account_id":22555920,"reputation":3,"user_id":16744310,"display_name":"GouthamRio"},"score":0,"creation_date":1684255526,"post_id":76264296,"comment_id":134490438,"body_markdown":"@DuncG i have added processBuilder.redirectErrorStream(true); updated the code and error log above. i still dont know why its trying to open test.7z as archive.","body":"@DuncG i have added processBuilder.redirectErrorStream(true); updated the code and error log above. i still dont know why its trying to open test.7z as archive."},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1684255543,"post_id":76264296,"comment_id":134490445,"body_markdown":"&quot;Operation is not permitted&quot; is a very specific error. Look at your file permissions.","body":"&quot;Operation is not permitted&quot; is a very specific error. Look at your file permissions."},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1684255603,"post_id":76264296,"comment_id":134490464,"body_markdown":"(You might also think of making Java run `strace -f -o /path/to/log.strace -s 2048 7z ...` and comparing `log.strace` generated that way with the `log.strace` you get from running the same command with no JVM involved; if the JVM really _is_ doing something different, like injecting whitespace or special characters in the environment, or setting you up with a materially different set of environment variables, or whatever else... you&#39;ll be able to see it there).","body":"(You might also think of making Java run <code>strace -f -o &#47;path&#47;to&#47;log.strace -s 2048 7z ...</code> and comparing <code>log.strace</code> generated that way with the <code>log.strace</code> you get from running the same command with no JVM involved; if the JVM really <i>is</i> doing something different, like injecting whitespace or special characters in the environment, or setting you up with a materially different set of environment variables, or whatever else... you&#39;ll be able to see it there)."},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1684257772,"post_id":76264296,"comment_id":134490957,"body_markdown":"You might also verify read before the call: `System.out.println(&quot;size=&quot;+Files.readAllBytes(Path.of(&quot;/data/app/encrypted/test.7z&quot;)).length);`","body":"You might also verify read before the call: <code>System.out.println(&quot;size=&quot;+Files.readAllBytes(Path.of(&quot;&#47;data&zwnj;&#8203;&#47;app&#47;encrypted&#47;test.&zwnj;&#8203;7z&quot;)).length);</code>"}],"owner":{"account_id":22555920,"reputation":3,"user_id":16744310,"display_name":"GouthamRio"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684255336,"creation_date":1684247823,"question_id":76264296,"body_markdown":"I have a Docker container where the base image is Corretto 17. I have also installed p7zip in the image using &#39;yum install -y p7zip&#39;. Additionally, I created a user, switched to that user, and copied my Spring Boot JAR file to the Docker image. Currently, I&#39;m running this Docker container in an AWS ECS Fargate cluster, and I&#39;m encountering an issue when trying to execute the &#39;7za&#39; command line using Process Builder.\r\n\r\nBelow is the cmd I&#39;m trying to run.\r\n\r\n\r\n```\r\n7za a -ptest123 /data/app/encrypted/test.7z /data/app/files/test.txt\r\n```\r\n\r\nBut when I run the above cmd the 7za is trying to open the archive test.7z which is not supposed to. It should create the archive with the file test.txt. Below is the error log.\r\n\r\n```\r\n2023-05-16T10:28:08.440-06:00&#160;&#160;&#160; 7-Zip (a) [64] 16.02 : Copyright (c) 1999-2016 Igor Pavlov : 2016-05-21\r\n2023-05-16T10:28:08.440-06:00&#160;&#160;&#160; p7zip Version 16.02 (locale=C.UTF-8,Utf16=on,HugeFiles=on,64 bits,2 CPUs Intel(R) Xeon(R) CPU E5-2666 v3 @ 2.90GHz (306F2),ASM,AES-NI)\r\n2023-05-16T10:28:08.440-06:00&#160;&#160;&#160; Open archive: /data/app/encrypted/test.7z\r\n2023-05-16T10:28:08.440-06:00&#160;&#160;&#160; ERROR: /data/app/encrypted/test.7z\r\n2023-05-16T10:28:08.440-06:00&#160;&#160;&#160; /data/app/encrypted/test.7z\r\n2023-05-16T10:28:08.440-06:00&#160;&#160;&#160; Open ERROR: Can not open the file as [7z] archive\r\n2023-05-16T10:28:08.440-06:00&#160;&#160;&#160; ERRORS:\r\n2023-05-16T10:28:08.440-06:00&#160;&#160;&#160; Is not archive\r\n2023-05-16T10:28:08.440-06:00&#160;&#160;&#160; System ERROR:\r\n2023-05-16T10:28:08.440-06:00&#160;&#160;&#160; Operation not permitted\r\n2023-05-16T10:28:08.440-06:00&#160;&#160;&#160; Exit Code: 2\r\n```\r\n\r\nbelow is the code im using\r\n\r\n\r\n```\r\n\tprivate static synchronized void linuxCmd(String cmd) {\r\n        try {\r\n            // Create a ProcessBuilder for the command\r\n            ProcessBuilder processBuilder = new ProcessBuilder(cmd.split(&quot;\\\\s+&quot;));\r\n\r\n            // Merge error stream with output stream\r\n            processBuilder.redirectErrorStream(true);\r\n\r\n            // Start the process\r\n            Process process = processBuilder.start();\r\n\r\n            // Read the output of the process\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n            String line;\r\n            StringBuilder output = new StringBuilder();\r\n            while ((line = reader.readLine()) != null) {\r\n                output.append(line).append(&quot;\\n&quot;);\r\n            }\r\n\r\n            // Wait for the process to finish\r\n            int exitCode = process.waitFor();\r\n\r\n            // Print the output and exit code\r\n            System.out.println(&quot;Output:\\n&quot; + output.toString());\r\n            System.out.println(&quot;Exit Code: &quot; + exitCode);\r\n        } catch (IOException | InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\ni will be calling the above method with the 7za cmd i provided earlier\r\n\r\nI have tried the same from docker file. i have created file written the same cmd in docker file and executed it while building the image. it worked properly. \r\n\r\n```\r\nStep 16/19 : RUN 7za a -ptest123 /data/app/encrypted/test.7z /data/app/files/test.txt\r\n ---&gt; Running in 44786d829af4\r\n\r\n7-Zip (a) [64] 16.02 : Copyright (c) 1999-2016 Igor Pavlov : 2016-05-21\r\np7zip Version 16.02 (locale=C.UTF-8,Utf16=on,HugeFiles=on,64 bits,2 CPUs AMD PRO A8-8600B R6, 10 Compute Cores 4C+6G     (660F01),ASM,AES-NI)\r\n\r\nScanning the drive:\r\n1 file, 15457 bytes (16 KiB)\r\n\r\nCreating archive: /data/app/encrypted/test.7z\r\n\r\nItems to compress: 1\r\n\r\n\r\nFiles read from disk: 1\r\nArchive size: 2690 bytes (3 KiB)\r\nEverything is Ok\r\nRemoving intermediate container 44786d829af4\r\n ---&gt; 10ab11bb503c\r\n\r\n```\r\n","title":"7za command line from java process builder","body":"<p>I have a Docker container where the base image is Corretto 17. I have also installed p7zip in the image using 'yum install -y p7zip'. Additionally, I created a user, switched to that user, and copied my Spring Boot JAR file to the Docker image. Currently, I'm running this Docker container in an AWS ECS Fargate cluster, and I'm encountering an issue when trying to execute the '7za' command line using Process Builder.</p>\n<p>Below is the cmd I'm trying to run.</p>\n<pre><code>7za a -ptest123 /data/app/encrypted/test.7z /data/app/files/test.txt\n</code></pre>\n<p>But when I run the above cmd the 7za is trying to open the archive test.7z which is not supposed to. It should create the archive with the file test.txt. Below is the error log.</p>\n<pre><code>2023-05-16T10:28:08.440-06:00    7-Zip (a) [64] 16.02 : Copyright (c) 1999-2016 Igor Pavlov : 2016-05-21\n2023-05-16T10:28:08.440-06:00    p7zip Version 16.02 (locale=C.UTF-8,Utf16=on,HugeFiles=on,64 bits,2 CPUs Intel(R) Xeon(R) CPU E5-2666 v3 @ 2.90GHz (306F2),ASM,AES-NI)\n2023-05-16T10:28:08.440-06:00    Open archive: /data/app/encrypted/test.7z\n2023-05-16T10:28:08.440-06:00    ERROR: /data/app/encrypted/test.7z\n2023-05-16T10:28:08.440-06:00    /data/app/encrypted/test.7z\n2023-05-16T10:28:08.440-06:00    Open ERROR: Can not open the file as [7z] archive\n2023-05-16T10:28:08.440-06:00    ERRORS:\n2023-05-16T10:28:08.440-06:00    Is not archive\n2023-05-16T10:28:08.440-06:00    System ERROR:\n2023-05-16T10:28:08.440-06:00    Operation not permitted\n2023-05-16T10:28:08.440-06:00    Exit Code: 2\n</code></pre>\n<p>below is the code im using</p>\n<pre><code>    private static synchronized void linuxCmd(String cmd) {\n        try {\n            // Create a ProcessBuilder for the command\n            ProcessBuilder processBuilder = new ProcessBuilder(cmd.split(&quot;\\\\s+&quot;));\n\n            // Merge error stream with output stream\n            processBuilder.redirectErrorStream(true);\n\n            // Start the process\n            Process process = processBuilder.start();\n\n            // Read the output of the process\n            BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n            String line;\n            StringBuilder output = new StringBuilder();\n            while ((line = reader.readLine()) != null) {\n                output.append(line).append(&quot;\\n&quot;);\n            }\n\n            // Wait for the process to finish\n            int exitCode = process.waitFor();\n\n            // Print the output and exit code\n            System.out.println(&quot;Output:\\n&quot; + output.toString());\n            System.out.println(&quot;Exit Code: &quot; + exitCode);\n        } catch (IOException | InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>i will be calling the above method with the 7za cmd i provided earlier</p>\n<p>I have tried the same from docker file. i have created file written the same cmd in docker file and executed it while building the image. it worked properly.</p>\n<pre><code>Step 16/19 : RUN 7za a -ptest123 /data/app/encrypted/test.7z /data/app/files/test.txt\n ---&gt; Running in 44786d829af4\n\n7-Zip (a) [64] 16.02 : Copyright (c) 1999-2016 Igor Pavlov : 2016-05-21\np7zip Version 16.02 (locale=C.UTF-8,Utf16=on,HugeFiles=on,64 bits,2 CPUs AMD PRO A8-8600B R6, 10 Compute Cores 4C+6G     (660F01),ASM,AES-NI)\n\nScanning the drive:\n1 file, 15457 bytes (16 KiB)\n\nCreating archive: /data/app/encrypted/test.7z\n\nItems to compress: 1\n\n\nFiles read from disk: 1\nArchive size: 2690 bytes (3 KiB)\nEverything is Ok\nRemoving intermediate container 44786d829af4\n ---&gt; 10ab11bb503c\n\n</code></pre>\n"},{"tags":["java","intellij-idea","makefile","filenotfoundexception"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1684253929,"post_id":76264755,"comment_id":134490065,"body_markdown":"fyi it&#39;s not necessary to use ugly doubled backslashes Forward slashes work fine in file paths for any OS","body":"fyi it&#39;s not necessary to use ugly doubled backslashes Forward slashes work fine in file paths for any OS"},{"owner":{"account_id":28538177,"reputation":7,"user_id":21844603,"display_name":"BuchuleSidondi"},"score":0,"creation_date":1689311739,"post_id":76264755,"comment_id":135198237,"body_markdown":"what difference does it make, a slash is a slash","body":"what difference does it make, a slash is a slash"}],"answers":[{"tags":[],"owner":{"account_id":27801719,"reputation":1,"user_id":21226054,"display_name":"Prit "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684254839,"creation_date":1684252637,"answer_id":76265008,"question_id":76264755,"body_markdown":"Of course this is run time error; at compile time it can not go and check whether the file located at right place or not. You hard coded that file path in code instead of that some other person put some variable also that value enter run time and it go for reading that file. At compile time compiler only checks for a syntax error. ","title":"Run Time Error or Compile Time error FileNotFoundException","body":"<p>Of course this is run time error; at compile time it can not go and check whether the file located at right place or not. You hard coded that file path in code instead of that some other person put some variable also that value enter run time and it go for reading that file. At compile time compiler only checks for a syntax error.</p>\n"}],"owner":{"account_id":28538177,"reputation":7,"user_id":21844603,"display_name":"BuchuleSidondi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1684302507,"answer_count":1,"score":0,"last_activity_date":1684254839,"creation_date":1684250682,"question_id":76264755,"body_markdown":"[enter image description here](https://i.stack.imgur.com/AKlH9.png)\r\n\r\n\r\n\r\n\r\nMy markers say my code doesn&#39;t compile because the file path is obviously not correct if I run the project on another computer. Let&#39;s forget about the solution, I know what it is.\r\n\r\nIs this true ? Is this error a run time or compile time error and does the code compile or not\r\n\r\nException in thread &quot;main&quot; java.io.FileNotFoundException: C:\\path\\to\\hamlet.xml (The system cannot find the path specified)","title":"Run Time Error or Compile Time error FileNotFoundException","body":"<p><a href=\"https://i.stack.imgur.com/AKlH9.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>My markers say my code doesn't compile because the file path is obviously not correct if I run the project on another computer. Let's forget about the solution, I know what it is.</p>\n<p>Is this true ? Is this error a run time or compile time error and does the code compile or not</p>\n<p>Exception in thread &quot;main&quot; java.io.FileNotFoundException: C:\\path\\to\\hamlet.xml (The system cannot find the path specified)</p>\n"},{"tags":["java","spring","spring-boot","google-chrome"],"answers":[{"tags":[],"owner":{"account_id":2783463,"reputation":390,"user_id":2395495,"accept_rate":100,"display_name":"Mimerr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684254175,"creation_date":1684254175,"answer_id":76265249,"question_id":76105743,"body_markdown":"In case anyone ends up here with something similar. Turns out that there is a big difference in the way Chrome and Firefox handle cookies by default. And Spring backend also defaults to match Chrome. Specifically, the same site policy for Chrome is Lax. Spring defaults to Lax. Firefox defaults to None.\r\n\r\nIn the end my problem was our Spring configuration nulled the same site policy, so it was allowing browsers to handle things and this is why Firefox was not causing a 302 when the request from the 3rd party site came through.\r\n\r\nSetting spring to None; Secure allows both browsers to function the same. Specifically in regards to the session cookie, which was being lost on Chrome.","title":"Spring Boot endpoint gets interupted with 302 unexpectedly after multiple requests on Chrome","body":"<p>In case anyone ends up here with something similar. Turns out that there is a big difference in the way Chrome and Firefox handle cookies by default. And Spring backend also defaults to match Chrome. Specifically, the same site policy for Chrome is Lax. Spring defaults to Lax. Firefox defaults to None.</p>\n<p>In the end my problem was our Spring configuration nulled the same site policy, so it was allowing browsers to handle things and this is why Firefox was not causing a 302 when the request from the 3rd party site came through.</p>\n<p>Setting spring to None; Secure allows both browsers to function the same. Specifically in regards to the session cookie, which was being lost on Chrome.</p>\n"}],"owner":{"account_id":2783463,"reputation":390,"user_id":2395495,"accept_rate":100,"display_name":"Mimerr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76265249,"answer_count":1,"score":0,"last_activity_date":1684254175,"creation_date":1682460094,"question_id":76105743,"body_markdown":"Apologies for the long read but I really don&#39;t know how to ask for help on this and have exhausted everything else I can think of. So if anyone can give me any clues or paths forward I would be very appreciative. \r\n\r\nWe have a Java Spring backend (Spring Boot 2.4.13 currently.) It started as an MVC project so we have some controllers that return ModelAndView objects but we&#39;re moving to a fully rest API situation with a vue frontend.\r\n\r\nThe situation is, we have a 3rd party vendor (LS) that we are trying to integrate with our system. LS has a Single Sign On (SSO) process for logins. The exchange is pretty simple, on their site there is an SSO button the user clicks. They send us a POST request with a string token at a URL we provide. Then they expect us to send a form over POST back to a URL they provide. And now the user will be logged into LS with the information we send over with the form.\r\n\r\nOur solution was to create an endpoint at /sso that accepts a POST request (the URL we provide them.) This endpoint is relatively simple, it stores their token in a session variable and directs the user with ModelAndView to a jsp where the form is auto filled and auto submitted to do the POST back and log the user into LS. There is a separate GET endpoint we use to get the user data to auto fill the form.\r\n\r\nIf the user is not logged into our system yet, they get directed to our login page and have to go through the process all over again.\r\n\r\nSo, this all works perfectly fine. If the user is using Firefox browser. You can log in and out of LS using the SSO button over and over or even let your session completely expire, login on our site and then go do the SSO button on LS and it will log you in fine every time as far as I can tell.\r\n\r\nHowever, on Chrome (and Edge and presumably any chromium browser) it works fine at first. You can log in with the SSO button as expected. You can even logout and back in some before the issue occurs. Or you can just wait a few minutes. But it consistently happens after a few minutes. Clicking the SSO button after those first few minutes instead will send the POST request and our server will respond with a 302 and direct the user to our home page (still logged in.) This happens every time after that until browser cache is cleared.\r\n\r\nThe POST request from LS has no-cache, no-store, max-age=0, must-revalidate as its cache-control header. I have tried adding this to the response of our POST controller method as well. Thinking it has to be some kind of weird Chrome browser cache issue. None of that helped.\r\n\r\nAfter doing some more tests I realized when the 302 starts, the call never actually makes it into our controller endpoint. Nothing in there gets triggered at all. I also tried making a servlet filter that just logs the status codes of every call coming into our server and I never see a 302 occur.\r\n\r\nWe don&#39;t have any kind of manually created 302 responses in our entire project either.\r\n\r\nThe location in the 302 response header has an extension to the login URL that is errorKey=rs.home.loginRequired. I tracked this down to a bean in our web security configuration. It is our LoginUrlAuthenticationEntryPoint. So I&#39;m guessing Chrome for some reason makes our server think the user is not logged in, but they are. It just ends up on our home page.\r\n\r\nI&#39;m at a complete loss here. The fact that it works on Firefox but not on Chrome AND it works on Chrome at first but doesn&#39;t after a while, makes me think it is some kind of cache issue specific to the browser but I tried all the cache related things I could think of... and since it seems like our server is sending the user to the home page under the 302&#39;s location of a login required redirect makes me wonder if there is some session saving problem, but since the user is still logged in, it doesn&#39;t seem to be a problem there either.\r\n\r\nAny ideas, even if just to point me at a new path to start down would be greatly appreciated!\r\n\r\n","title":"Spring Boot endpoint gets interupted with 302 unexpectedly after multiple requests on Chrome","body":"<p>Apologies for the long read but I really don't know how to ask for help on this and have exhausted everything else I can think of. So if anyone can give me any clues or paths forward I would be very appreciative.</p>\n<p>We have a Java Spring backend (Spring Boot 2.4.13 currently.) It started as an MVC project so we have some controllers that return ModelAndView objects but we're moving to a fully rest API situation with a vue frontend.</p>\n<p>The situation is, we have a 3rd party vendor (LS) that we are trying to integrate with our system. LS has a Single Sign On (SSO) process for logins. The exchange is pretty simple, on their site there is an SSO button the user clicks. They send us a POST request with a string token at a URL we provide. Then they expect us to send a form over POST back to a URL they provide. And now the user will be logged into LS with the information we send over with the form.</p>\n<p>Our solution was to create an endpoint at /sso that accepts a POST request (the URL we provide them.) This endpoint is relatively simple, it stores their token in a session variable and directs the user with ModelAndView to a jsp where the form is auto filled and auto submitted to do the POST back and log the user into LS. There is a separate GET endpoint we use to get the user data to auto fill the form.</p>\n<p>If the user is not logged into our system yet, they get directed to our login page and have to go through the process all over again.</p>\n<p>So, this all works perfectly fine. If the user is using Firefox browser. You can log in and out of LS using the SSO button over and over or even let your session completely expire, login on our site and then go do the SSO button on LS and it will log you in fine every time as far as I can tell.</p>\n<p>However, on Chrome (and Edge and presumably any chromium browser) it works fine at first. You can log in with the SSO button as expected. You can even logout and back in some before the issue occurs. Or you can just wait a few minutes. But it consistently happens after a few minutes. Clicking the SSO button after those first few minutes instead will send the POST request and our server will respond with a 302 and direct the user to our home page (still logged in.) This happens every time after that until browser cache is cleared.</p>\n<p>The POST request from LS has no-cache, no-store, max-age=0, must-revalidate as its cache-control header. I have tried adding this to the response of our POST controller method as well. Thinking it has to be some kind of weird Chrome browser cache issue. None of that helped.</p>\n<p>After doing some more tests I realized when the 302 starts, the call never actually makes it into our controller endpoint. Nothing in there gets triggered at all. I also tried making a servlet filter that just logs the status codes of every call coming into our server and I never see a 302 occur.</p>\n<p>We don't have any kind of manually created 302 responses in our entire project either.</p>\n<p>The location in the 302 response header has an extension to the login URL that is errorKey=rs.home.loginRequired. I tracked this down to a bean in our web security configuration. It is our LoginUrlAuthenticationEntryPoint. So I'm guessing Chrome for some reason makes our server think the user is not logged in, but they are. It just ends up on our home page.</p>\n<p>I'm at a complete loss here. The fact that it works on Firefox but not on Chrome AND it works on Chrome at first but doesn't after a while, makes me think it is some kind of cache issue specific to the browser but I tried all the cache related things I could think of... and since it seems like our server is sending the user to the home page under the 302's location of a login required redirect makes me wonder if there is some session saving problem, but since the user is still logged in, it doesn't seem to be a problem there either.</p>\n<p>Any ideas, even if just to point me at a new path to start down would be greatly appreciated!</p>\n"},{"tags":["java","spring","security","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684258651,"post_id":76265087,"comment_id":134491130,"body_markdown":"Yes you can, should you probably not as it is insecure as ****.","body":"Yes you can, should you probably not as it is insecure as ****."}],"owner":{"account_id":27453363,"reputation":21,"user_id":20945210,"display_name":"Igor Bukur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684253599,"creation_date":1684253111,"question_id":76265087,"body_markdown":"In spring security for manage urls and authorities used SecuirtyFilterChain. How to manage autority linked with url from request. Something like: request: localhost:8080/authority/1(this is id authority in db)?method=Post?url=/producst/add\r\nto generate in SecurityFilterChain somethins like this:\r\n.requestMatchers(HttpMethod.POST, &quot;/producst/add&quot;).hasAuthority(&quot;ADMIN&quot;)\r\n\r\nMaybe need to make custom SecurityFilterChain?\r\n\r\nSomeone know it&#39;s possible to make? Becouse i don&#39;t know for what make autorities saved in db if you can&#39;t manage out of app this new authorities to link in app.\r\n\r\nDon&#39;t know how to normal make my question for google search.\r\n","title":"Spring Security, how to manage SpringSecurityChain from url request?","body":"<p>In spring security for manage urls and authorities used SecuirtyFilterChain. How to manage autority linked with url from request. Something like: request: localhost:8080/authority/1(this is id authority in db)?method=Post?url=/producst/add\nto generate in SecurityFilterChain somethins like this:\n.requestMatchers(HttpMethod.POST, &quot;/producst/add&quot;).hasAuthority(&quot;ADMIN&quot;)</p>\n<p>Maybe need to make custom SecurityFilterChain?</p>\n<p>Someone know it's possible to make? Becouse i don't know for what make autorities saved in db if you can't manage out of app this new authorities to link in app.</p>\n<p>Don't know how to normal make my question for google search.</p>\n"},{"tags":["java","macos","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1684174413,"post_id":76256907,"comment_id":134475702,"body_markdown":"show the content of `maven.config` file here?","body":"show the content of <code>maven.config</code> file here?"},{"owner":{"account_id":11628650,"reputation":463,"user_id":9184839,"accept_rate":77,"display_name":"Aravind S"},"score":0,"creation_date":1684174894,"post_id":76256907,"comment_id":134475790,"body_markdown":"Added just now.","body":"Added just now."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684175193,"post_id":76256907,"comment_id":134475851,"body_markdown":"Use [code format](https://stackoverflow.com/editing-help#code) for logs, not quote format. Quote is for human text, not logs and other pre formatted text. Quote breaks the existing format of the log, makes it very hard to read and gets in the way of trying to copy text for investigation.","body":"Use <a href=\"https://stackoverflow.com/editing-help#code\">code format</a> for logs, not quote format. Quote is for human text, not logs and other pre formatted text. Quote breaks the existing format of the log, makes it very hard to read and gets in the way of trying to copy text for investigation."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1684175918,"post_id":76256907,"comment_id":134476002,"body_markdown":"That&#39;s not the content of the `maven.config` file... Why using `env.JAVA_HOME` in your toolchains.xml file that does not make sense.. it&#39;s easier to use only `JAVA_HOME` via `sdkmain.io` or alike instead of indirecting via toolchains.xml ...?","body":"That&#39;s not the content of the <code>maven.config</code> file... Why using <code>env.JAVA_HOME</code> in your toolchains.xml file that does not make sense.. it&#39;s easier to use only <code>JAVA_HOME</code> via <code>sdkmain.io</code> or alike instead of indirecting via toolchains.xml ...?"},{"owner":{"account_id":11628650,"reputation":463,"user_id":9184839,"accept_rate":77,"display_name":"Aravind S"},"score":0,"creation_date":1684177254,"post_id":76256907,"comment_id":134476265,"body_markdown":"I am not sure. I am still trying to get the entire picture here. I have never come across the file like toolchains.xml so far. Is it okay if I gave the actual Java path itself?","body":"I am not sure. I am still trying to get the entire picture here. I have never come across the file like toolchains.xml so far. Is it okay if I gave the actual Java path itself?"}],"answers":[{"tags":[],"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684253402,"creation_date":1684253402,"answer_id":76265146,"question_id":76256907,"body_markdown":"From https://maven.apache.org/docs/3.9.2/release-notes.html\r\n\r\nStarting from Maven 3.9.x - Each line in `.mvn/maven.config` is now interpreted as a single argument.\r\n\r\nSo your `.mvn/maven.config` should be like:\r\n\r\n\r\n```\r\n-am\r\n-gt\r\ntoolchains.xml\r\n```","title":"Maven : Unable to parse maven.config file options: Unrecognized option: -am -gt toolchains.xml","body":"<p>From <a href=\"https://maven.apache.org/docs/3.9.2/release-notes.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/docs/3.9.2/release-notes.html</a></p>\n<p>Starting from Maven 3.9.x - Each line in <code>.mvn/maven.config</code> is now interpreted as a single argument.</p>\n<p>So your <code>.mvn/maven.config</code> should be like:</p>\n<pre><code>-am\n-gt\ntoolchains.xml\n</code></pre>\n"}],"owner":{"account_id":11628650,"reputation":463,"user_id":9184839,"accept_rate":77,"display_name":"Aravind S"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":818,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684253402,"creation_date":1684174333,"question_id":76256907,"body_markdown":"I have been trying to execute basic Maven command after importing project into intellij on Mac.\r\nI am not trying to run the project. When I try to run the command : mvn --version I get this message with a huge list of options. Not sure, what is causing this behaviour. \r\n\r\n    aravind.s@A2141-TI13169-B recopp % mvn --version\r\n    Unable to parse maven.config file options: Unrecognized option: -am -gt toolchains.xml\r\n\r\n    usage: mvn [options] [&lt;goal(s)&gt;] [&lt;phase(s)&gt;]\r\n\r\nContents of the maven config file just contains this : \r\n\r\n-am -gt toolchains.xml\r\n\r\nAnd toolchains.xml contains this : \r\n\r\n    &lt;toolchains&gt;\r\n        &lt;toolchain&gt;\r\n            &lt;type&gt;jdk&lt;/type&gt;\r\n            &lt;provides&gt;\r\n                &lt;version&gt;1.8&lt;/version&gt;\r\n            &lt;/provides&gt;\r\n            &lt;configuration&gt;\r\n                &lt;!-- set the env JAVA_HOME to jdk8 before mvn package  --&gt;\r\n                &lt;jdkHome&gt;${env.JAVA_HOME}&lt;/jdkHome&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/toolchain&gt;\r\n        &lt;toolchain&gt;\r\n            &lt;type&gt;jdk&lt;/type&gt;\r\n            &lt;provides&gt;\r\n                &lt;version&gt;11&lt;/version&gt;\r\n            &lt;/provides&gt;\r\n            &lt;configuration&gt;\r\n                &lt;!-- set the env JAVA_HOME to jdk11 before mvn package  --&gt;\r\n                &lt;jdkHome&gt;${env.JAVA_HOME}&lt;/jdkHome&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/toolchain&gt;\r\n    &lt;/toolchains&gt;\r\n\r\n\r\nand java version is 1.8.\r\n    \r\nWill be glad to receive any inputs regarding this. Thanks in advance.\r\n","title":"Maven : Unable to parse maven.config file options: Unrecognized option: -am -gt toolchains.xml","body":"<p>I have been trying to execute basic Maven command after importing project into intellij on Mac.\nI am not trying to run the project. When I try to run the command : mvn --version I get this message with a huge list of options. Not sure, what is causing this behaviour.</p>\n<pre><code>aravind.s@A2141-TI13169-B recopp % mvn --version\nUnable to parse maven.config file options: Unrecognized option: -am -gt toolchains.xml\n\nusage: mvn [options] [&lt;goal(s)&gt;] [&lt;phase(s)&gt;]\n</code></pre>\n<p>Contents of the maven config file just contains this :</p>\n<p>-am -gt toolchains.xml</p>\n<p>And toolchains.xml contains this :</p>\n<pre><code>&lt;toolchains&gt;\n    &lt;toolchain&gt;\n        &lt;type&gt;jdk&lt;/type&gt;\n        &lt;provides&gt;\n            &lt;version&gt;1.8&lt;/version&gt;\n        &lt;/provides&gt;\n        &lt;configuration&gt;\n            &lt;!-- set the env JAVA_HOME to jdk8 before mvn package  --&gt;\n            &lt;jdkHome&gt;${env.JAVA_HOME}&lt;/jdkHome&gt;\n        &lt;/configuration&gt;\n    &lt;/toolchain&gt;\n    &lt;toolchain&gt;\n        &lt;type&gt;jdk&lt;/type&gt;\n        &lt;provides&gt;\n            &lt;version&gt;11&lt;/version&gt;\n        &lt;/provides&gt;\n        &lt;configuration&gt;\n            &lt;!-- set the env JAVA_HOME to jdk11 before mvn package  --&gt;\n            &lt;jdkHome&gt;${env.JAVA_HOME}&lt;/jdkHome&gt;\n        &lt;/configuration&gt;\n    &lt;/toolchain&gt;\n&lt;/toolchains&gt;\n</code></pre>\n<p>and java version is 1.8.</p>\n<p>Will be glad to receive any inputs regarding this. Thanks in advance.</p>\n"},{"tags":["java","maven","visual-studio-code","javafx","jar"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1654721902,"creation_date":1654720468,"answer_id":72551908,"question_id":72551590,"body_markdown":"You are adding the module path of the jdk, not the JavaFX sdk.  \r\n\r\nDownload the JavaFX sdk or modules from openjfx.io and place the lib directory from that on your module path instead of the jdk (which is there automatically). \r\n\r\nOr use a distribution like liberica “full jdk” that includes JavaFX modules.","title":"Module javafx.controls not found error in VS Code","body":"<p>You are adding the module path of the jdk, not the JavaFX sdk.</p>\n<p>Download the JavaFX sdk or modules from openjfx.io and place the lib directory from that on your module path instead of the jdk (which is there automatically).</p>\n<p>Or use a distribution like liberica “full jdk” that includes JavaFX modules.</p>\n"}],"owner":{"account_id":7409253,"reputation":435,"user_id":5637176,"display_name":"Giorgos Kavalieratos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1349,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72551908,"answer_count":1,"score":1,"last_activity_date":1684253332,"creation_date":1654718682,"question_id":72551590,"body_markdown":"I have spent half a day trying to find a working solution for this, but either I&#39;m doing everything wrong, or nothing is working for me. I&#39;m new to Java and JavaFX specifically.\r\n\r\nI&#39;m using VSCode on Windows, and having installed the &quot;Extension Pack for Java&quot; and &quot;Maven for Java&quot; extensions, I created a project using JAVAFX archetype as a build method.\r\n\r\nA sample project is generated and I run it without problems, even without adding a &quot;launch.json&quot; with &quot;VMargs&quot; etc.\r\n\r\nMy problem is when I run `mvn package` to make a jar file. \r\n\r\nTrying to run the jar file like any other file does nothing. \r\nThen I tried to add the path for the JavaFX sdk and the modules by running:\r\n\r\n    java --module-path &#39;C:\\Program Files\\Eclipse Adoptium\\jdk-11.0.15.10-hotspot\\lib&#39; --add-modules=javafx.controls,javafx.fxml -jar .\\test.jar\r\nthat gives me the error:\r\n&gt;Error occurred during initialization of boot layer\\\r\n&gt;java.lang.module.FindException: Module javafx.controls not found\r\n\r\nI didn&#39;t put any code because I didn&#39;t change anything from the auto-generated code from VSCode. If you want it, I can paste it though.\r\n\r\nAny help is appreciated. Thanks","title":"Module javafx.controls not found error in VS Code","body":"<p>I have spent half a day trying to find a working solution for this, but either I'm doing everything wrong, or nothing is working for me. I'm new to Java and JavaFX specifically.</p>\n<p>I'm using VSCode on Windows, and having installed the &quot;Extension Pack for Java&quot; and &quot;Maven for Java&quot; extensions, I created a project using JAVAFX archetype as a build method.</p>\n<p>A sample project is generated and I run it without problems, even without adding a &quot;launch.json&quot; with &quot;VMargs&quot; etc.</p>\n<p>My problem is when I run <code>mvn package</code> to make a jar file.</p>\n<p>Trying to run the jar file like any other file does nothing.\nThen I tried to add the path for the JavaFX sdk and the modules by running:</p>\n<pre><code>java --module-path 'C:\\Program Files\\Eclipse Adoptium\\jdk-11.0.15.10-hotspot\\lib' --add-modules=javafx.controls,javafx.fxml -jar .\\test.jar\n</code></pre>\n<p>that gives me the error:</p>\n<blockquote>\n<p>Error occurred during initialization of boot layer<br />\njava.lang.module.FindException: Module javafx.controls not found</p>\n</blockquote>\n<p>I didn't put any code because I didn't change anything from the auto-generated code from VSCode. If you want it, I can paste it though.</p>\n<p>Any help is appreciated. Thanks</p>\n"},{"tags":["java","logic","system"],"owner":{"account_id":28613907,"reputation":1,"user_id":21908339,"display_name":"Oumar B Bengaly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684253277,"creation_date":1684253277,"question_id":76265111,"body_markdown":"I have recently encountered a problem while implementing a learning system where I need to determine the activity of different courses based on student submissions. I have written code to calculate this, but I am getting incorrect results that do not meet the specific requirements of the task.\r\n\r\nHere&#39;s an overview of the situation :\r\n\r\n```\r\nI have a list of course names: [&quot;RIP&quot;, &quot;Java&quot;, &quot;AppMob&quot;, &quot;BDD&quot;]\r\nI have a list of students with their grades for each course:\r\nstudents = [\r\n{id: 1, points: [8, 7, 7, 5]},\r\n{id: 1, points: [7, 6, 9, 7]},\r\n{id: 1, points: [6, 5, 5, 0]},\r\n{id: 2, points: [8, 0, 8, 6]},\r\n{id: 2, points: [7, 0, 0, 0]},\r\n{id: 2, points: [9, 0, 0, 5]}\r\n]\r\n```\r\n\r\n\r\nAccording to the task, the activity of a course is determined by the number of non-zero submissions from students. I need to find the course with the highest level of activity and the course with the lowest level of activity.\r\n\r\nHowever, the code I have written so far does not seem to meet these requirements. It returns incorrect results where multiple courses are included in both the &quot;highest activity&quot; and &quot;lowest activity&quot; category. For example, the course &quot;RIP&quot; is listed as having both high activity and low activity.\r\n\r\nHere&#39;s the code I used to calculate the course activity:\r\n   \r\n```\r\n public static class Activity {\r\n        public static String getHighestActivityCourse() {\r\n            int[] courseSubmissions = new int[courseNames.length];\r\n            int highestSubmissions = 0;\r\n\r\n            for (Etudiant etudiant : students) {\r\n                int[] points = etudiant.getPoints();\r\n                for (int i = 0; i &lt; points.length; i++) {\r\n                    if (points[i] &gt; 0) {\r\n                        courseSubmissions[i]++;\r\n                        if (courseSubmissions[i] &gt; highestSubmissions) {\r\n                            highestSubmissions = courseSubmissions[i];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            List&lt;String&gt; highestActivityCourses = new ArrayList&lt;&gt;();\r\n            for (int i = 0; i &lt; courseSubmissions.length; i++) {\r\n                if (courseSubmissions[i] == highestSubmissions) {\r\n                    highestActivityCourses.add(courseNames[i]);\r\n                }\r\n            }\r\n\r\n            if (highestActivityCourses.isEmpty()) {\r\n                return &quot;n/a&quot;;\r\n            } else {\r\n                return String.join(&quot;, &quot;, highestActivityCourses);\r\n            }\r\n        }\r\n\r\n        public static String getLowestActivityCourse() {\r\n            String highestActivityCourses = getHighestActivityCourse();\r\n            List&lt;String&gt; lowestActivityCourses = new ArrayList&lt;&gt;();\r\n\r\n            if (highestActivityCourses.equals(&quot;n/a&quot;)) {\r\n                return &quot;n/a&quot;;\r\n            }\r\n\r\n            Set&lt;String&gt; highestActivityCourseSet = new HashSet&lt;&gt;(Arrays.asList(highestActivityCourses.split(&quot;, &quot;)));\r\n\r\n            for (String courseName : courseNames) {\r\n                if (!highestActivityCourseSet.contains(courseName)) {\r\n                    lowestActivityCourses.add(courseName);\r\n                }\r\n            }\r\n\r\n            if (lowestActivityCourses.isEmpty()) {\r\n                return &quot;n/a&quot;;\r\n            }\r\n\r\n            return String.join(&quot;, &quot;, lowestActivityCourses);\r\n        }\r\n    }\r\n\r\n```\r\nI am aware that there is a problem in my calculation logic, but I am unable to resolve it correctly. I believe it has to do with how I count the student submissions and determine the highest level of activity.\r\n\r\nI would like to ask for your assistance in understanding this issue and finding a proper solution. If you have any suggestions or modifications to improve my code, I am open to all ideas.\r\n\r\nThank you in advance for your valuable help!\r\n\r\nBest regards\r\n\r\n\r\nI tried implementing a code to calculate the activity of courses based on student submissions. I expected the code to correctly determine the course with the highest activity level and the course with the lowest activity level, considering the number of non-zero submissions for each course.\r\n\r\nHowever, the results I obtained were not as expected. The code returned incorrect outcomes where multiple courses were listed in both the &quot;highest activity&quot; and &quot;lowest activity&quot; categories. This contradicts the requirements, as each course should only be included in one category.\r\n\r\nI attempted to modify the logic for calculating activity by considering the number of non-zero submissions for each course. Unfortunately, my attempts did not yield the desired results.\r\n\r\nI am now seeking guidance and assistance from the community to understand the issue and find a suitable solution.\r\n","title":"Issue with Calculating Course Activity in a Learning System","body":"<p>I have recently encountered a problem while implementing a learning system where I need to determine the activity of different courses based on student submissions. I have written code to calculate this, but I am getting incorrect results that do not meet the specific requirements of the task.</p>\n<p>Here's an overview of the situation :</p>\n<pre><code>I have a list of course names: [&quot;RIP&quot;, &quot;Java&quot;, &quot;AppMob&quot;, &quot;BDD&quot;]\nI have a list of students with their grades for each course:\nstudents = [\n{id: 1, points: [8, 7, 7, 5]},\n{id: 1, points: [7, 6, 9, 7]},\n{id: 1, points: [6, 5, 5, 0]},\n{id: 2, points: [8, 0, 8, 6]},\n{id: 2, points: [7, 0, 0, 0]},\n{id: 2, points: [9, 0, 0, 5]}\n]\n</code></pre>\n<p>According to the task, the activity of a course is determined by the number of non-zero submissions from students. I need to find the course with the highest level of activity and the course with the lowest level of activity.</p>\n<p>However, the code I have written so far does not seem to meet these requirements. It returns incorrect results where multiple courses are included in both the &quot;highest activity&quot; and &quot;lowest activity&quot; category. For example, the course &quot;RIP&quot; is listed as having both high activity and low activity.</p>\n<p>Here's the code I used to calculate the course activity:</p>\n<pre><code> public static class Activity {\n        public static String getHighestActivityCourse() {\n            int[] courseSubmissions = new int[courseNames.length];\n            int highestSubmissions = 0;\n\n            for (Etudiant etudiant : students) {\n                int[] points = etudiant.getPoints();\n                for (int i = 0; i &lt; points.length; i++) {\n                    if (points[i] &gt; 0) {\n                        courseSubmissions[i]++;\n                        if (courseSubmissions[i] &gt; highestSubmissions) {\n                            highestSubmissions = courseSubmissions[i];\n                        }\n                    }\n                }\n            }\n\n            List&lt;String&gt; highestActivityCourses = new ArrayList&lt;&gt;();\n            for (int i = 0; i &lt; courseSubmissions.length; i++) {\n                if (courseSubmissions[i] == highestSubmissions) {\n                    highestActivityCourses.add(courseNames[i]);\n                }\n            }\n\n            if (highestActivityCourses.isEmpty()) {\n                return &quot;n/a&quot;;\n            } else {\n                return String.join(&quot;, &quot;, highestActivityCourses);\n            }\n        }\n\n        public static String getLowestActivityCourse() {\n            String highestActivityCourses = getHighestActivityCourse();\n            List&lt;String&gt; lowestActivityCourses = new ArrayList&lt;&gt;();\n\n            if (highestActivityCourses.equals(&quot;n/a&quot;)) {\n                return &quot;n/a&quot;;\n            }\n\n            Set&lt;String&gt; highestActivityCourseSet = new HashSet&lt;&gt;(Arrays.asList(highestActivityCourses.split(&quot;, &quot;)));\n\n            for (String courseName : courseNames) {\n                if (!highestActivityCourseSet.contains(courseName)) {\n                    lowestActivityCourses.add(courseName);\n                }\n            }\n\n            if (lowestActivityCourses.isEmpty()) {\n                return &quot;n/a&quot;;\n            }\n\n            return String.join(&quot;, &quot;, lowestActivityCourses);\n        }\n    }\n\n</code></pre>\n<p>I am aware that there is a problem in my calculation logic, but I am unable to resolve it correctly. I believe it has to do with how I count the student submissions and determine the highest level of activity.</p>\n<p>I would like to ask for your assistance in understanding this issue and finding a proper solution. If you have any suggestions or modifications to improve my code, I am open to all ideas.</p>\n<p>Thank you in advance for your valuable help!</p>\n<p>Best regards</p>\n<p>I tried implementing a code to calculate the activity of courses based on student submissions. I expected the code to correctly determine the course with the highest activity level and the course with the lowest activity level, considering the number of non-zero submissions for each course.</p>\n<p>However, the results I obtained were not as expected. The code returned incorrect outcomes where multiple courses were listed in both the &quot;highest activity&quot; and &quot;lowest activity&quot; categories. This contradicts the requirements, as each course should only be included in one category.</p>\n<p>I attempted to modify the logic for calculating activity by considering the number of non-zero submissions for each course. Unfortunately, my attempts did not yield the desired results.</p>\n<p>I am now seeking guidance and assistance from the community to understand the issue and find a suitable solution.</p>\n"},{"tags":["java","node.js","http","sockets","server"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1645984056,"post_id":71285989,"comment_id":126007134,"body_markdown":"The `http` module, as one might be able to guess from its name, implements HTTP: when it receives a request _in HTTP format_, it processes the request by passing to code (in your case using `express`) which generates a response _in HTTP format_. Your Java code is not sending an HTTP request. See [wikipedia](https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol).","body":"The <code>http</code> module, as one might be able to guess from its name, implements HTTP: when it receives a request <i>in HTTP format</i>, it processes the request by passing to code (in your case using <code>express</code>) which generates a response <i>in HTTP format</i>. Your Java code is not sending an HTTP request. See <a href=\"https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol\" rel=\"nofollow noreferrer\">wikipedia</a>."}],"owner":{"account_id":14989006,"reputation":175,"user_id":10820760,"display_name":"ludicrous"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":451,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684253186,"creation_date":1645975260,"question_id":71285989,"body_markdown":"I&#39;m trying to connect to my server (which runs `nodejs` with `sockets.io`) from my Java client. I want it to detect whenever the client reaches the server and print something to the console.\r\n\r\nAfter the connection is successful, 2nd step would be to the client to be able to send a string to the server via sockets. \r\n\r\nI run the JAVA code but the server is not detecting the client connection and I don&#39;t understand why is that happening and I can&#39;t find good resources for sockets communication with nodejs.\r\n\r\nserver-side code:\r\n\r\n    var app = require(&#39;express&#39;)();\r\n    var server = require(&#39;http&#39;).Server(app);\r\n    var io = require(&#39;socket.io&#39;)(server);\r\n    \r\n    server.listen(65432, () =&gt; {\r\n            console.log(&#39;listening on *:65432&#39;);\r\n    });\r\n    \r\n    app.get(&#39;/&#39;, function(req, res) {\r\n            res.send(&#39;connection successfull&#39;);\r\n    });\r\n    \r\n    \r\n    io.on(&#39;connection&#39;, function(socket) {\r\n            socket.on(&#39;send coordinates&#39;, function(data){\r\n                    console.log(&#39;a user connected&#39;);\r\n            });\r\n    });\r\n    \r\n    console.log(&#39;listening to port&#39;);\r\n\r\n\r\nClient side code:\r\n\r\n\r\n    public static void main(String[] args) {\r\n        Socket socket = null;\r\n        OutputStreamWriter osw;\r\n        String str = &quot;Hello World&quot;;\r\n        try {\r\n            socket = new Socket(**[serverIP]**, 65432);\r\n            osw =new OutputStreamWriter(socket.getOutputStream(), &quot;UTF-8&quot;);\r\n            osw.write(str, 0, str.length());\r\n        } catch (IOException e) {\r\n            System.err.print(e);\r\n        } finally {\r\n            try {\r\n                socket.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n","title":"Connect node.js and java through sockets","body":"<p>I'm trying to connect to my server (which runs <code>nodejs</code> with <code>sockets.io</code>) from my Java client. I want it to detect whenever the client reaches the server and print something to the console.</p>\n<p>After the connection is successful, 2nd step would be to the client to be able to send a string to the server via sockets.</p>\n<p>I run the JAVA code but the server is not detecting the client connection and I don't understand why is that happening and I can't find good resources for sockets communication with nodejs.</p>\n<p>server-side code:</p>\n<pre><code>var app = require('express')();\nvar server = require('http').Server(app);\nvar io = require('socket.io')(server);\n\nserver.listen(65432, () =&gt; {\n        console.log('listening on *:65432');\n});\n\napp.get('/', function(req, res) {\n        res.send('connection successfull');\n});\n\n\nio.on('connection', function(socket) {\n        socket.on('send coordinates', function(data){\n                console.log('a user connected');\n        });\n});\n\nconsole.log('listening to port');\n</code></pre>\n<p>Client side code:</p>\n<pre><code>public static void main(String[] args) {\n    Socket socket = null;\n    OutputStreamWriter osw;\n    String str = &quot;Hello World&quot;;\n    try {\n        socket = new Socket(**[serverIP]**, 65432);\n        osw =new OutputStreamWriter(socket.getOutputStream(), &quot;UTF-8&quot;);\n        osw.write(str, 0, str.length());\n    } catch (IOException e) {\n        System.err.print(e);\n    } finally {\n        try {\n            socket.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hadoop","google-cloud-dataflow","apache-beam","parquet"],"owner":{"account_id":1189646,"reputation":1123,"user_id":1162792,"accept_rate":56,"display_name":"Rodrigo.C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684252959,"creation_date":1684252959,"question_id":76265072,"body_markdown":"I&#39;m trying to extend Google&#39;s Dataflow template to move data from BQ to parquet files on Cloud Storage, and I&#39;m blocked trying to control parquet file sizes.\r\nhttps://cloud.google.com/dataflow/docs/guides/templates/provided/bigquery-to-parquet\r\n\r\nI&#39;m running the pipeline locally using Direct runner, and it works fine but I&#39;m not able to control the size of the parquet files. The main target is to ensure a file size of 1GB that is the recommended size.\r\n\r\nSome facts and tests I did:\r\n\r\n- I can control the number of shards using .withNumShards(xxx) that impact directly on the amount of files generated in the output folder, because this is related to the parallelism in the pipeline, if I set 1 shard I have only 1 file with all the data, if I set 5 shards I get 5 parquet files, and if I use the default the amount of parquet files will depend on how many shards are assigned to the pipeline.\r\n\r\n- There&#39;s a .withRowGroupSize() configuration but it&#39;s only to modify how data is stored in the parquet file, it doesn&#39;t impact on the final size directly.\r\n\r\n- I found a FixedWindows configuration, but it&#39;s a time-based configuration, so it&#39;s not deterministic for the file size.\r\n\r\n- I also was trying to use the page size configuration, but it&#39;s not directly available in the version I&#39;m using (Apache beam 2.46.0, including all the sdk and runners dependencies)\r\n\r\nI&#39;m running out of ideas, and couldn&#39;t find information related to this issue.  So I would like to understand if this is a common practice considering there&#39;s a recommended file size for Parquet, and if someone can provide more info about how to achieve this.\r\n\r\nA short version of the code (not completed, but it&#39;s basically based on the template mentioned above)\r\n```\r\n        TypedRead&lt;GenericRecord&gt; readFromBQ =\r\n            BigQueryIO.read(SchemaAndRecord::getRecord)\r\n                .from(options.getTableRef())\r\n                .withTemplateCompatibility()\r\n                .withMethod(Method.DIRECT_READ)\r\n                .withCoder(AvroCoder.of(schema));\r\n\r\n        /*\r\n         * Steps: 1) Read records from BigQuery via BigQueryIO.\r\n         *        2) Write records to Google Cloud Storage in Parquet format.\r\n         */\r\n        pipeline\r\n            /*\r\n             * Step 1: Read records via BigQueryIO using supplied schema as a PCollection of\r\n             *         {@link GenericRecord}.\r\n             */\r\n            .apply(&quot;ReadFromBigQuery&quot;, readFromBQ)\r\n            /*\r\n             * Step 2: Write records to Google Cloud Storage as one or more Parquet files\r\n             *         via {@link ParquetIO}.\r\n             */\r\n            .apply(\r\n                &quot;WriteToParquet&quot;,\r\n                FileIO.&lt;GenericRecord&gt;write()\r\n                    .via(\r\n                        ParquetIO.sink(schema))\r\n                    .to(&quot;/my/path/to/local/bucket&quot;)\r\n//                    .withNumShards(1)\r\n                    .withSuffix(FILE_SUFFIX));\r\n\r\n        // Execute the pipeline and return the result.\r\n        return pipeline.run();\r\n```\r\n\r\nThanks","title":"Specify parquet file size when using Apache Beam","body":"<p>I'm trying to extend Google's Dataflow template to move data from BQ to parquet files on Cloud Storage, and I'm blocked trying to control parquet file sizes.\n<a href=\"https://cloud.google.com/dataflow/docs/guides/templates/provided/bigquery-to-parquet\" rel=\"nofollow noreferrer\">https://cloud.google.com/dataflow/docs/guides/templates/provided/bigquery-to-parquet</a></p>\n<p>I'm running the pipeline locally using Direct runner, and it works fine but I'm not able to control the size of the parquet files. The main target is to ensure a file size of 1GB that is the recommended size.</p>\n<p>Some facts and tests I did:</p>\n<ul>\n<li><p>I can control the number of shards using .withNumShards(xxx) that impact directly on the amount of files generated in the output folder, because this is related to the parallelism in the pipeline, if I set 1 shard I have only 1 file with all the data, if I set 5 shards I get 5 parquet files, and if I use the default the amount of parquet files will depend on how many shards are assigned to the pipeline.</p>\n</li>\n<li><p>There's a .withRowGroupSize() configuration but it's only to modify how data is stored in the parquet file, it doesn't impact on the final size directly.</p>\n</li>\n<li><p>I found a FixedWindows configuration, but it's a time-based configuration, so it's not deterministic for the file size.</p>\n</li>\n<li><p>I also was trying to use the page size configuration, but it's not directly available in the version I'm using (Apache beam 2.46.0, including all the sdk and runners dependencies)</p>\n</li>\n</ul>\n<p>I'm running out of ideas, and couldn't find information related to this issue.  So I would like to understand if this is a common practice considering there's a recommended file size for Parquet, and if someone can provide more info about how to achieve this.</p>\n<p>A short version of the code (not completed, but it's basically based on the template mentioned above)</p>\n<pre><code>        TypedRead&lt;GenericRecord&gt; readFromBQ =\n            BigQueryIO.read(SchemaAndRecord::getRecord)\n                .from(options.getTableRef())\n                .withTemplateCompatibility()\n                .withMethod(Method.DIRECT_READ)\n                .withCoder(AvroCoder.of(schema));\n\n        /*\n         * Steps: 1) Read records from BigQuery via BigQueryIO.\n         *        2) Write records to Google Cloud Storage in Parquet format.\n         */\n        pipeline\n            /*\n             * Step 1: Read records via BigQueryIO using supplied schema as a PCollection of\n             *         {@link GenericRecord}.\n             */\n            .apply(&quot;ReadFromBigQuery&quot;, readFromBQ)\n            /*\n             * Step 2: Write records to Google Cloud Storage as one or more Parquet files\n             *         via {@link ParquetIO}.\n             */\n            .apply(\n                &quot;WriteToParquet&quot;,\n                FileIO.&lt;GenericRecord&gt;write()\n                    .via(\n                        ParquetIO.sink(schema))\n                    .to(&quot;/my/path/to/local/bucket&quot;)\n//                    .withNumShards(1)\n                    .withSuffix(FILE_SUFFIX));\n\n        // Execute the pipeline and return the result.\n        return pipeline.run();\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","date-format","json-patch"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1684252252,"post_id":76264929,"comment_id":134489600,"body_markdown":"What is `patch`? What JSON libraries are you using? Please provide a minimal reproducible example as explained in the help center page: http://stackoverflow.com/help/minimal-reproducible-example","body":"What is <code>patch</code>? What JSON libraries are you using? Please provide a minimal reproducible example as explained in the help center page: <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1684252256,"post_id":76264929,"comment_id":134489601,"body_markdown":"Where exactly is the &quot;output&quot; coming from? Is it possible that you&#39;re actually seeing the result of calling `toString()` on a `java.util.Date`? (In which case it&#39;s got nothing to do with the patch.)","body":"Where exactly is the &quot;output&quot; coming from? Is it possible that you&#39;re actually seeing the result of calling <code>toString()</code> on a <code>java.util.Date</code>? (In which case it&#39;s got nothing to do with the patch.)"},{"owner":{"account_id":10244422,"reputation":599,"user_id":7560684,"display_name":"VKP"},"score":0,"creation_date":1684252899,"post_id":76264929,"comment_id":134489787,"body_markdown":"The formatted date i am seeing on patched object.  I can see the formatted date when i am calling toString on that Object.","body":"The formatted date i am seeing on patched object.  I can see the formatted date when i am calling toString on that Object."},{"owner":{"account_id":10244422,"reputation":599,"user_id":7560684,"display_name":"VKP"},"score":0,"creation_date":1684253112,"post_id":76264929,"comment_id":134489844,"body_markdown":"In another way to explain , say i am applying same date on patch like [\n{\n    &quot;op&quot;: &quot;replace&quot;,\n    &quot;path&quot;: &quot;/expirationDate&quot;,\n    &quot;value&quot;: &quot;2022-05-15T02:59:59&quot;\n}\n] So the existing and new object have same value . But if i call \n   existingObject.equals(newpatchedObjt)   should say its same . But in this case because of the Date format difference its saying the objects are not equal.","body":"In another way to explain , say i am applying same date on patch like [ {     &quot;op&quot;: &quot;replace&quot;,     &quot;path&quot;: &quot;/expirationDate&quot;,     &quot;value&quot;: &quot;2022-05-15T02:59:59&quot; } ] So the existing and new object have same value . But if i call     existingObject.equals(newpatchedObjt)   should say its same . But in this case because of the Date format difference its saying the objects are not equal."}],"owner":{"account_id":10244422,"reputation":599,"user_id":7560684,"display_name":"VKP"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684252900,"creation_date":1684251846,"question_id":76264929,"body_markdown":"I am using json patch 1.13 version to apply patch on my json payload .\r\n\r\nThis is the POM Entry using for json patch \r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.github.java-json-tools&lt;/groupId&gt;\r\n      &lt;artifactId&gt;json-patch&lt;/artifactId&gt;\r\n      &lt;version&gt;1.13&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nThe existing payload have value like \r\n\r\n    {\r\n     &quot;expirationDate&quot;: &quot;2022-05-15T01:59:59&quot;\r\n    }\r\n\r\nI am applying the patch with below patch operation, . This is to update the value with new date . \r\n\r\n    [\r\n    {\r\n        &quot;op&quot;: &quot;replace&quot;,\r\n        &quot;path&quot;: &quot;/expirationDate&quot;,\r\n        &quot;value&quot;: &quot;2023-05-15T02:59:59&quot;\r\n    }\r\n    ]\r\n\r\nBut after applying the patch the new object have differently formatted Date value like \r\n    \r\n    Java code\r\n    JsonNode patched = patch.apply(objectMapper.convertValue(targetCustomer, JsonNode.class));\r\n    return objectMapper.treeToValue(patched, Customer.class);\r\n\r\n    Output\r\n    expirationDate=Mon May 15 01:59:59 EDT 2023\r\n\r\n    Expected Output\r\n    expirationDate: &quot;2023-05-15T01:59:59&quot;\r\n\r\n    Any reason its changing the format or how i can fix this.\r\n\r\n\r\n\r\n","title":"Why json-patch changing the Date format","body":"<p>I am using json patch 1.13 version to apply patch on my json payload .</p>\n<p>This is the POM Entry using for json patch</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.github.java-json-tools&lt;/groupId&gt;\n  &lt;artifactId&gt;json-patch&lt;/artifactId&gt;\n  &lt;version&gt;1.13&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The existing payload have value like</p>\n<pre><code>{\n &quot;expirationDate&quot;: &quot;2022-05-15T01:59:59&quot;\n}\n</code></pre>\n<p>I am applying the patch with below patch operation, . This is to update the value with new date .</p>\n<pre><code>[\n{\n    &quot;op&quot;: &quot;replace&quot;,\n    &quot;path&quot;: &quot;/expirationDate&quot;,\n    &quot;value&quot;: &quot;2023-05-15T02:59:59&quot;\n}\n]\n</code></pre>\n<p>But after applying the patch the new object have differently formatted Date value like</p>\n<pre><code>Java code\nJsonNode patched = patch.apply(objectMapper.convertValue(targetCustomer, JsonNode.class));\nreturn objectMapper.treeToValue(patched, Customer.class);\n\nOutput\nexpirationDate=Mon May 15 01:59:59 EDT 2023\n\nExpected Output\nexpirationDate: &quot;2023-05-15T01:59:59&quot;\n\nAny reason its changing the format or how i can fix this.\n</code></pre>\n"},{"tags":["java","mysql","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":17629753,"reputation":89,"user_id":12794090,"display_name":"Martin Kršek"},"score":0,"creation_date":1684251104,"post_id":76264632,"comment_id":134489291,"body_markdown":"Can You try to use org.hibernate.dialect.MySQL8Dialect if You use MySQL8, or other version according with Your MySQL version. \nCan You show us logs? Also, can You add @EnableAutoConfiguration if it is missing in configurations?","body":"Can You try to use org.hibernate.dialect.MySQL8Dialect if You use MySQL8, or other version according with Your MySQL version.  Can You show us logs? Also, can You add @EnableAutoConfiguration if it is missing in configurations?"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1684251541,"post_id":76264632,"comment_id":134489400,"body_markdown":"Please add this property: spring.jpa.generate-ddl=true","body":"Please add this property: spring.jpa.generate-ddl=true"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1684251758,"post_id":76264632,"comment_id":134489472,"body_markdown":"And add packages to be scanned for entities: @EntityScan(basePackages = &quot;com.example.entities&quot;). This is necessary because your main application class is in a different package.","body":"And add packages to be scanned for entities: @EntityScan(basePackages = &quot;com.example.entities&quot;). This is necessary because your main application class is in a different package."},{"owner":{"account_id":23126238,"reputation":63,"user_id":17231999,"display_name":"Sahil Sahu"},"score":0,"creation_date":1684253432,"post_id":76264632,"comment_id":134489922,"body_markdown":"thanks @Mar-Z those suggestions worked","body":"thanks @Mar-Z those suggestions worked"},{"owner":{"account_id":23126238,"reputation":63,"user_id":17231999,"display_name":"Sahil Sahu"},"score":0,"creation_date":1684255036,"post_id":76264632,"comment_id":134490311,"body_markdown":"@Mar-Z could you check this out too? \nhttps://stackoverflow.com/questions/76265356/404-error-for-post-request-using-springboot","body":"@Mar-Z could you check this out too?  <a href=\"https://stackoverflow.com/questions/76265356/404-error-for-post-request-using-springboot\" title=\"404 error for post request using springboot\">stackoverflow.com/questions/76265356/&hellip;</a>"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1684256464,"post_id":76264632,"comment_id":134490654,"body_markdown":"You have similar problem with base packages for JPA repositories. Add EnableJPARepositories annotation.","body":"You have similar problem with base packages for JPA repositories. Add EnableJPARepositories annotation."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1684256553,"post_id":76264632,"comment_id":134490672,"body_markdown":"It would be easier just to change the package of main class to com.example","body":"It would be easier just to change the package of main class to com.example"}],"answers":[{"tags":[],"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684251883,"creation_date":1684251883,"answer_id":76264931,"question_id":76264632,"body_markdown":"As your entity package is different than spring boot main class, you will have to specify the package in `@EntityScan`\r\n\r\n    @EntityScan(&quot;com.example.entities.*&quot;)","title":"@Entity table isn&#39;t getting generate in mysql","body":"<p>As your entity package is different than spring boot main class, you will have to specify the package in <code>@EntityScan</code></p>\n<pre><code>@EntityScan(&quot;com.example.entities.*&quot;)\n</code></pre>\n"}],"owner":{"account_id":23126238,"reputation":63,"user_id":17231999,"display_name":"Sahil Sahu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76264931,"answer_count":1,"score":0,"last_activity_date":1684251883,"creation_date":1684249874,"question_id":76264632,"body_markdown":"After running the project, shouldnt the user table be generated automatically in my database? I am refreshing it after running the server as well, but the user table isn&#39;t showing up in mysql.\r\n\r\napplication.properties\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3306/BloggingApp\r\nspring.datasource.username=root\r\nspring.datasource.password=\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\r\nspring.jpa.hibernate.ddl-auto = create\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\nlogging.level.org.hibernate.SQL=debug\r\nlogging.level.org.hibernate.type.descriptor.sql=trace\r\n```\r\n\r\nUser class\r\n```\r\npackage com.example.entities;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private int id;\r\n\r\n    private String name;\r\n    private String email;\r\n    private String password;\r\n    private String about;\r\n}\r\n```\r\nMain\r\n```\r\npackage com.example.blogging.app;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.AutoConfiguration;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\r\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\r\n\r\n@SpringBootApplication\r\n@EnableConfigurationProperties\r\n@EntityScan\r\npublic class BloggingAppApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(BloggingAppApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nProject structure:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vwvAu.png","title":"@Entity table isn&#39;t getting generate in mysql","body":"<p>After running the project, shouldnt the user table be generated automatically in my database? I am refreshing it after running the server as well, but the user table isn't showing up in mysql.</p>\n<p>application.properties</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/BloggingApp\nspring.datasource.username=root\nspring.datasource.password=\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\nspring.jpa.hibernate.ddl-auto = create\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nlogging.level.org.hibernate.SQL=debug\nlogging.level.org.hibernate.type.descriptor.sql=trace\n</code></pre>\n<p>User class</p>\n<pre><code>package com.example.entities;\n\nimport jakarta.persistence.*;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\n@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@Table(name = &quot;users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n\n    private String name;\n    private String email;\n    private String password;\n    private String about;\n}\n</code></pre>\n<p>Main</p>\n<pre><code>package com.example.blogging.app;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.AutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\n\n@SpringBootApplication\n@EnableConfigurationProperties\n@EntityScan\npublic class BloggingAppApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(BloggingAppApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/vwvAu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vwvAu.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","list","hashmap"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1684253558,"post_id":76264844,"comment_id":134489951,"body_markdown":"*that sort a HashMap by a rand number* How do you sort *by* a random number?","body":"<i>that sort a HashMap by a rand number</i> How do you sort <i>by</i> a random number?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1684254993,"post_id":76264844,"comment_id":134490302,"body_markdown":"Rewrite your Question to ask for exactly what you want, with example inputs and outputs.  “a &quot;simple way&quot;” to do *what* exactly?","body":"Rewrite your Question to ask for exactly what you want, with example inputs and outputs.  “a &quot;simple way&quot;” to do <i>what</i> exactly?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1684255066,"post_id":76264844,"comment_id":134490321,"body_markdown":"You seem to be working too hard. Learn about `NavigableMap`/`SortedMap` such as `TreeMap`, and in Java 21+, `SequencedMap` ([JEP 431](https://openjdk.org/jeps/431)).","body":"You seem to be working too hard. Learn about <code>NavigableMap</code>/<code>SortedMap</code> such as <code>TreeMap</code>, and in Java 21+, <code>SequencedMap</code> (<a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\">JEP 431</a>)."}],"owner":{"account_id":27958469,"reputation":1,"user_id":21350818,"display_name":"servidor ocaloka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684251334,"creation_date":1684251334,"question_id":76264844,"body_markdown":"So I&#39;m new in Java and I have a method that sort a HashMap by a rand number (big to small) and i want to pass the Players from the Hash in a List and use this sorted List to iterate with an order.\r\n\r\nThis is the method that gives a sorted Hash\r\n\r\n```\r\n    private void triarOrdre(PlayerOffline currentPlayer, HashMap&lt;String, Integer&gt; playerDiceMap) {\r\n\r\n        if (currentPlayer.getPrimeraTirada() == 0) {\r\n            currentPlayer.setPrimeraTirada(rollDice());\r\n            playerDiceMap.put(currentPlayer.getName(), rollValue);\r\n            currentPlayer.setaTiratPrimeraTirada(true);\r\n        }\r\n\r\n        List&lt;Map.Entry&lt;String, Integer&gt;&gt; sortedEntries = new ArrayList&lt;&gt;(playerDiceMap.entrySet());\r\n\r\n        Collections.sort(sortedEntries, new Comparator&lt;Map.Entry&lt;String, Integer&gt;&gt;() {\r\n            @Override\r\n            public int compare(Map.Entry&lt;String, Integer&gt; entry1, Map.Entry&lt;String, Integer&gt; entry2) {\r\n                return entry2.getValue().compareTo(entry1.getValue());\r\n            }\r\n        });\r\n\r\n        Log.e(&quot;Sorted Player Dice Map:&quot;, &quot;Player - Dice Value&quot;);\r\n        for (Map.Entry&lt;String, Integer&gt; entry : sortedEntries) {\r\n            String playerName = entry.getKey();\r\n            rollValue = entry.getValue();\r\n            Log.e(&quot;Sorted Player Dice Map:&quot;,currentPlayer.getColor()+&quot; &quot;+ playerName + &quot; - &quot; + rollValue);\r\n        }\r\n\r\n\r\n    }\r\n\r\n```\r\nAnd this is the onClickListener where i want to iterate with the sorted list\r\n\r\n```\r\n        iv_dau.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                PlayerOffline currentPlayer = playersIntent.get(currentPlayerIndex);\r\n\r\n                if (!currentPlayer.isaTiratPrimeraTirada()) {\r\n                    triarOrdre(currentPlayer, playerDiceMap); // Triar ordre\r\n                    currentPlayerIndex = (currentPlayerIndex + 1) % playersIntent.size();\r\n                    return; // Skip moving the piece in the current turn\r\n                }\r\n\r\n                movePiece(currentPlayer); // Move the piece in UI\r\n\r\n\r\n                currentPlayerIndex = (currentPlayerIndex + 1) % playersIntent.size();\r\n            }\r\n        });\r\n```\r\n\r\nHow can i do this in a &quot;simple way&quot;? Im getting so confused and trying no sense things.\r\n\r\nThanks!\r\n\r\nI been trying a bunch of diferents ways to do it and im not seeing how","title":"Retrive the value of sorted array in java and iterate in it","body":"<p>So I'm new in Java and I have a method that sort a HashMap by a rand number (big to small) and i want to pass the Players from the Hash in a List and use this sorted List to iterate with an order.</p>\n<p>This is the method that gives a sorted Hash</p>\n<pre><code>    private void triarOrdre(PlayerOffline currentPlayer, HashMap&lt;String, Integer&gt; playerDiceMap) {\n\n        if (currentPlayer.getPrimeraTirada() == 0) {\n            currentPlayer.setPrimeraTirada(rollDice());\n            playerDiceMap.put(currentPlayer.getName(), rollValue);\n            currentPlayer.setaTiratPrimeraTirada(true);\n        }\n\n        List&lt;Map.Entry&lt;String, Integer&gt;&gt; sortedEntries = new ArrayList&lt;&gt;(playerDiceMap.entrySet());\n\n        Collections.sort(sortedEntries, new Comparator&lt;Map.Entry&lt;String, Integer&gt;&gt;() {\n            @Override\n            public int compare(Map.Entry&lt;String, Integer&gt; entry1, Map.Entry&lt;String, Integer&gt; entry2) {\n                return entry2.getValue().compareTo(entry1.getValue());\n            }\n        });\n\n        Log.e(&quot;Sorted Player Dice Map:&quot;, &quot;Player - Dice Value&quot;);\n        for (Map.Entry&lt;String, Integer&gt; entry : sortedEntries) {\n            String playerName = entry.getKey();\n            rollValue = entry.getValue();\n            Log.e(&quot;Sorted Player Dice Map:&quot;,currentPlayer.getColor()+&quot; &quot;+ playerName + &quot; - &quot; + rollValue);\n        }\n\n\n    }\n\n</code></pre>\n<p>And this is the onClickListener where i want to iterate with the sorted list</p>\n<pre><code>        iv_dau.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                PlayerOffline currentPlayer = playersIntent.get(currentPlayerIndex);\n\n                if (!currentPlayer.isaTiratPrimeraTirada()) {\n                    triarOrdre(currentPlayer, playerDiceMap); // Triar ordre\n                    currentPlayerIndex = (currentPlayerIndex + 1) % playersIntent.size();\n                    return; // Skip moving the piece in the current turn\n                }\n\n                movePiece(currentPlayer); // Move the piece in UI\n\n\n                currentPlayerIndex = (currentPlayerIndex + 1) % playersIntent.size();\n            }\n        });\n</code></pre>\n<p>How can i do this in a &quot;simple way&quot;? Im getting so confused and trying no sense things.</p>\n<p>Thanks!</p>\n<p>I been trying a bunch of diferents ways to do it and im not seeing how</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6456424,"reputation":426,"user_id":5001659,"display_name":"Zach Pedigo"},"score":0,"creation_date":1684419743,"post_id":76264764,"comment_id":134517351,"body_markdown":"I&#39;ve tried adding a listener to each element, but none of them have been acting like a listener is even there. I&#39;m beginning to think that these buttons don&#39;t handle the enter key at all","body":"I&#39;ve tried adding a listener to each element, but none of them have been acting like a listener is even there. I&#39;m beginning to think that these buttons don&#39;t handle the enter key at all"}],"owner":{"account_id":6456424,"reputation":426,"user_id":5001659,"display_name":"Zach Pedigo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684251063,"creation_date":1684250733,"question_id":76264764,"body_markdown":"I have a CheckboxTableViewer. This table contains some checkboxes, however they are technically &quot;TableItem&quot; elements. I am trying to add an enter key listener to each element because they do not natively handle the enter key. However, after adding a listener to each element, when I hit the enter key the event is not getting triggered.\r\n\r\nHere is the private method where I set the event on each element in the CheckboxTableViewer:\r\n\r\n    private static void configureCheckboxListeners(CheckboxTableViewer resourcesTableViewer,\r\n            List&lt;Resource&gt; resources)\r\n    {\r\n        for (Resource resource : resources)\r\n        {\r\n            for (TableItem item : resourcesTableViewer.getTable().getItems())\r\n            {\r\n                item.addListener(SWT.Traverse, e -&gt; {\r\n                    if (e.detail == SWT.TRAVERSE_RETURN)\r\n                    {\r\n                        e.doit = false;\r\n                        item.setChecked(!item.getChecked());\r\n                        item.notifyListeners(SWT.Selection, null);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\nI am aware that this is not the best way to iterate through the list, but I am not worried about that right now, I know that this hits each element in the list properly. Is there another way to hit this enter key event?\r\n\r\nAny help at all is much appreciated!\r\n\r\nI tried to add a listener to each TableItem element in the list of items in the CheckboxTableViewer. I expected these enter key events to get hit as I tab through each checkbox and hit enter on them. However, this did not happen. In fact, none of the enter key events are being triggered. I use this exact same selection event to set listeners for the enter key on Button controls in the same Composite however it just doesn&#39;t seem to work for the CheckboxTableViewer.","title":"Enter key listener on TableItem inside CheckboxTableViewer not being triggered by enter key","body":"<p>I have a CheckboxTableViewer. This table contains some checkboxes, however they are technically &quot;TableItem&quot; elements. I am trying to add an enter key listener to each element because they do not natively handle the enter key. However, after adding a listener to each element, when I hit the enter key the event is not getting triggered.</p>\n<p>Here is the private method where I set the event on each element in the CheckboxTableViewer:</p>\n<pre><code>private static void configureCheckboxListeners(CheckboxTableViewer resourcesTableViewer,\n        List&lt;Resource&gt; resources)\n{\n    for (Resource resource : resources)\n    {\n        for (TableItem item : resourcesTableViewer.getTable().getItems())\n        {\n            item.addListener(SWT.Traverse, e -&gt; {\n                if (e.detail == SWT.TRAVERSE_RETURN)\n                {\n                    e.doit = false;\n                    item.setChecked(!item.getChecked());\n                    item.notifyListeners(SWT.Selection, null);\n                }\n            });\n        }\n    }\n}\n</code></pre>\n<p>I am aware that this is not the best way to iterate through the list, but I am not worried about that right now, I know that this hits each element in the list properly. Is there another way to hit this enter key event?</p>\n<p>Any help at all is much appreciated!</p>\n<p>I tried to add a listener to each TableItem element in the list of items in the CheckboxTableViewer. I expected these enter key events to get hit as I tab through each checkbox and hit enter on them. However, this did not happen. In fact, none of the enter key events are being triggered. I use this exact same selection event to set listeners for the enter key on Button controls in the same Composite however it just doesn't seem to work for the CheckboxTableViewer.</p>\n"},{"tags":["java","arraylist","hashmap"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1684248992,"post_id":76264447,"comment_id":134488655,"body_markdown":"Please share a reproductible code. [edit] and add classes and a main so we can try it. Also share the output, that&#39;s always better than words","body":"Please share a reproductible code. <a href=\"https://stackoverflow.com/posts/76264447/edit\">edit</a> and add classes and a main so we can try it. Also share the output, that&#39;s always better than words"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1684249175,"post_id":76264447,"comment_id":134488707,"body_markdown":"I&#39;d also *strongly* recommend that you start following Java naming conventions - at the moment, the convention violations are really, really distracting, at least to me. (I&#39;d focus on providing a [mcve] - both complete *and* minimal are important. I suspect your complete example doesn&#39;t need to be any longer than the incomplete example you&#39;ve provided so far...)","body":"I&#39;d also <i>strongly</i> recommend that you start following Java naming conventions - at the moment, the convention violations are really, really distracting, at least to me. (I&#39;d focus on providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - both complete <i>and</i> minimal are important. I suspect your complete example doesn&#39;t need to be any longer than the incomplete example you&#39;ve provided so far...)"}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684250887,"creation_date":1684249699,"answer_id":76264603,"question_id":76264447,"body_markdown":"#### Problem\r\n\r\nThe issue is that you add a person to its gender list, no matter the year, then use this list of the person&#39;s year, so every year ends up pointing to the same and unique genderlist\r\n\r\n    Males.add(entry.getValue());\r\n    AccBirthDateMale.put(entry.getValue().getYearOfBirth(), Males);\r\n\r\n---\r\n\r\n#### Fix\r\n\r\nYou add the outer mapping directly at initialisation of the resulting map\r\n\r\nIterate directly over the values of the map, then you gendered map per year, and add the mapping if it&#39;s missing, add the person to its year, and finally year\r\n\r\n    Map&lt;Gender, Map&lt;Integer, List&lt;Person&gt;&gt;&gt; result = Map.of(Gender.M, accBirthDateMale, Gender.F, accBirthDateFemale);\r\n\r\n    for (Person person : allCustomers.values()) {\r\n        switch (person.getGender()) {\r\n            case M:\r\n                if(!accBirthDateMale.containsKey(person.getYearOfBirth())){\r\n                    accBirthDateMale.put(person.getYearOfBirth(), new ArrayList&lt;&gt;());\r\n                }\r\n                accBirthDateMale.get(person.getYearOfBirth()).add(person);\r\n                break;\r\n            case F:\r\n                if(!accBirthDateFemale.containsKey(person.getYearOfBirth())){\r\n                    accBirthDateFemale.put(person.getYearOfBirth(), new ArrayList&lt;&gt;());\r\n                }\r\n                accBirthDateFemale.get(person.getYearOfBirth()).add(person);\r\n                break;\r\n        }\r\n    }\r\n    result.put(Gender.M, accBirthDateMale);\r\n    result.put(Gender.F, accBirthDateFemale);\r\n\r\n----\r\n\r\n#### Improve\r\n\r\nThe previous code is quite verbose, and map offers nice methods to handle the missing-key case (`computeIfAbsent`)\r\n\r\n    public static Map&lt;Gender, Map&lt;Integer, List&lt;Person&gt;&gt;&gt; personsByGenderAndYearOfBirth() {\r\n        Map&lt;Gender, Map&lt;Integer, List&lt;Person&gt;&gt;&gt; result = Map.of(Gender.M, new HashMap&lt;&gt;(), Gender.F, new HashMap&lt;&gt;());\r\n        for(Collection&lt;? extends Person&gt; people : List.of(allCustomers.values(), allEmployees.values())){\r\n            for (Person person : people) {\r\n                result.get(person.getGender()).computeIfAbsent(person.getYearOfBirth(), k -&gt; new ArrayList&lt;&gt;()).add(person);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n#### Improve bis\r\n\r\nUsing `Streams`\r\n\r\n    public static Map&lt;Gender, Map&lt;Integer, List&lt;Person&gt;&gt;&gt; personsByGenderAndYearOfBirthBis() {\r\n        return Stream.of(allCustomers.values(), allEmployees.values())\r\n                .flatMap(Collection::stream)\r\n                .collect(Collectors.groupingBy(Person::getGender, Collectors.groupingBy(Person::getYearOfBirth, Collectors.toList())));\r\n    }\r\n","title":"whty is my hashmap adding duplicate details","body":"<h4>Problem</h4>\n<p>The issue is that you add a person to its gender list, no matter the year, then use this list of the person's year, so every year ends up pointing to the same and unique genderlist</p>\n<pre><code>Males.add(entry.getValue());\nAccBirthDateMale.put(entry.getValue().getYearOfBirth(), Males);\n</code></pre>\n<hr />\n<h4>Fix</h4>\n<p>You add the outer mapping directly at initialisation of the resulting map</p>\n<p>Iterate directly over the values of the map, then you gendered map per year, and add the mapping if it's missing, add the person to its year, and finally year</p>\n<pre><code>Map&lt;Gender, Map&lt;Integer, List&lt;Person&gt;&gt;&gt; result = Map.of(Gender.M, accBirthDateMale, Gender.F, accBirthDateFemale);\n\nfor (Person person : allCustomers.values()) {\n    switch (person.getGender()) {\n        case M:\n            if(!accBirthDateMale.containsKey(person.getYearOfBirth())){\n                accBirthDateMale.put(person.getYearOfBirth(), new ArrayList&lt;&gt;());\n            }\n            accBirthDateMale.get(person.getYearOfBirth()).add(person);\n            break;\n        case F:\n            if(!accBirthDateFemale.containsKey(person.getYearOfBirth())){\n                accBirthDateFemale.put(person.getYearOfBirth(), new ArrayList&lt;&gt;());\n            }\n            accBirthDateFemale.get(person.getYearOfBirth()).add(person);\n            break;\n    }\n}\nresult.put(Gender.M, accBirthDateMale);\nresult.put(Gender.F, accBirthDateFemale);\n</code></pre>\n<hr />\n<h4>Improve</h4>\n<p>The previous code is quite verbose, and map offers nice methods to handle the missing-key case (<code>computeIfAbsent</code>)</p>\n<pre><code>public static Map&lt;Gender, Map&lt;Integer, List&lt;Person&gt;&gt;&gt; personsByGenderAndYearOfBirth() {\n    Map&lt;Gender, Map&lt;Integer, List&lt;Person&gt;&gt;&gt; result = Map.of(Gender.M, new HashMap&lt;&gt;(), Gender.F, new HashMap&lt;&gt;());\n    for(Collection&lt;? extends Person&gt; people : List.of(allCustomers.values(), allEmployees.values())){\n        for (Person person : people) {\n            result.get(person.getGender()).computeIfAbsent(person.getYearOfBirth(), k -&gt; new ArrayList&lt;&gt;()).add(person);\n        }\n    }\n    return result;\n}\n</code></pre>\n<h4>Improve bis</h4>\n<p>Using <code>Streams</code></p>\n<pre><code>public static Map&lt;Gender, Map&lt;Integer, List&lt;Person&gt;&gt;&gt; personsByGenderAndYearOfBirthBis() {\n    return Stream.of(allCustomers.values(), allEmployees.values())\n            .flatMap(Collection::stream)\n            .collect(Collectors.groupingBy(Person::getGender, Collectors.groupingBy(Person::getYearOfBirth, Collectors.toList())));\n}\n</code></pre>\n"}],"owner":{"account_id":27451940,"reputation":11,"user_id":20944030,"display_name":"hsn saed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76264603,"answer_count":1,"score":-2,"last_activity_date":1684250887,"creation_date":1684248751,"question_id":76264447,"body_markdown":"I have this block of code.\r\n\r\nI need to return  hashmap that has the gender as key,and another hashmaap  value the second hash map has yearofbirth as key and arraylist of all people with that saame yearofbear in it .\r\n\r\nwrote this code but when i print it prints duplicates of the same customer and employees\r\n\r\n```java\r\npublic HashMap&lt;Gender, HashMap &lt;Integer, ArrayList&lt;Person&gt;&gt;&gt; personsByGenderAndYearOfBirth() {\r\n\tArrayList&lt;Person&gt; Males=new ArrayList&lt;Person&gt;();\r\n\tArrayList&lt;Person&gt; Females=new ArrayList&lt;Person&gt;();\r\n\tHashMap&lt;Integer,ArrayList&lt;Person&gt;&gt; AccBirthDateMale=new HashMap&lt;&gt;();\r\n\tHashMap&lt;Integer,ArrayList&lt;Person&gt;&gt; AccBirthDateFemale=new HashMap&lt;&gt;();\r\n\tHashMap&lt;Gender, HashMap&lt;Integer,ArrayList&lt;Person&gt;&gt;&gt; AccGender=new HashMap&lt;&gt;();\r\n\tfor(HashMap.Entry&lt;String, Customer&gt; entry : allCustomers.entrySet())\r\n\t{\r\n\t\t{\r\n\t\t\tswitch(entry.getValue().getGender())\r\n\t\t\t{\r\n\t\t\tcase M:\r\n\t\t\t\tMales.add(entry.getValue());\r\n\t\t\t\tAccBirthDateMale.put(entry.getValue().getYearOfBirth(),Males);\r\n\t\t\t\tbreak;\r\n\t\t\tcase F:\r\n\r\n\t\t\t\tFemales.add(entry.getValue());\r\n\t\t\t\tAccBirthDateFemale.put(entry.getValue().getYearOfBirth(),Females);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tAccGender.put(Gender.F, AccBirthDateFemale);\r\n\tAccGender.put(Gender.M, AccBirthDateMale);\r\n\tfor(HashMap.Entry&lt;String, Employee&gt; entry : allEmployees.entrySet())\r\n\t{\r\n\t\tswitch(entry.getValue().getGender())\r\n\t\t{\r\n\t\t\tcase M:\r\n\t\t\t\tMales.add(entry.getValue());\r\n\t\t\t\tAccBirthDateMale.put(entry.getValue().getYearOfBirth(),Males);\r\n\t\t\t\tbreak;\r\n\t\t\tcase F:\r\n\t\t\t\tFemales.add(entry.getValue());\r\n\t\t\t\tAccBirthDateFemale.put(entry.getValue().getYearOfBirth(),Females);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tAccGender.put(Gender.F, AccBirthDateFemale);\r\n\tAccGender.put(Gender.M, AccBirthDateMale);\r\n\tSystem.out.println(AccBirthDateMale.toString());\r\n\tSystem.out.println(AccGender.toString());\r\n\treturn AccGender;\r\n}\r\n```","title":"whty is my hashmap adding duplicate details","body":"<p>I have this block of code.</p>\n<p>I need to return  hashmap that has the gender as key,and another hashmaap  value the second hash map has yearofbirth as key and arraylist of all people with that saame yearofbear in it .</p>\n<p>wrote this code but when i print it prints duplicates of the same customer and employees</p>\n<pre class=\"lang-java prettyprint-override\"><code>public HashMap&lt;Gender, HashMap &lt;Integer, ArrayList&lt;Person&gt;&gt;&gt; personsByGenderAndYearOfBirth() {\n    ArrayList&lt;Person&gt; Males=new ArrayList&lt;Person&gt;();\n    ArrayList&lt;Person&gt; Females=new ArrayList&lt;Person&gt;();\n    HashMap&lt;Integer,ArrayList&lt;Person&gt;&gt; AccBirthDateMale=new HashMap&lt;&gt;();\n    HashMap&lt;Integer,ArrayList&lt;Person&gt;&gt; AccBirthDateFemale=new HashMap&lt;&gt;();\n    HashMap&lt;Gender, HashMap&lt;Integer,ArrayList&lt;Person&gt;&gt;&gt; AccGender=new HashMap&lt;&gt;();\n    for(HashMap.Entry&lt;String, Customer&gt; entry : allCustomers.entrySet())\n    {\n        {\n            switch(entry.getValue().getGender())\n            {\n            case M:\n                Males.add(entry.getValue());\n                AccBirthDateMale.put(entry.getValue().getYearOfBirth(),Males);\n                break;\n            case F:\n\n                Females.add(entry.getValue());\n                AccBirthDateFemale.put(entry.getValue().getYearOfBirth(),Females);\n                break;\n            }\n        }\n    }\n    AccGender.put(Gender.F, AccBirthDateFemale);\n    AccGender.put(Gender.M, AccBirthDateMale);\n    for(HashMap.Entry&lt;String, Employee&gt; entry : allEmployees.entrySet())\n    {\n        switch(entry.getValue().getGender())\n        {\n            case M:\n                Males.add(entry.getValue());\n                AccBirthDateMale.put(entry.getValue().getYearOfBirth(),Males);\n                break;\n            case F:\n                Females.add(entry.getValue());\n                AccBirthDateFemale.put(entry.getValue().getYearOfBirth(),Females);\n                break;\n        }\n    }\n    AccGender.put(Gender.F, AccBirthDateFemale);\n    AccGender.put(Gender.M, AccBirthDateMale);\n    System.out.println(AccBirthDateMale.toString());\n    System.out.println(AccGender.toString());\n    return AccGender;\n}\n</code></pre>\n"},{"tags":["java","web-services","jaxb","jax-ws"],"answers":[{"tags":[],"owner":{"account_id":1181871,"reputation":403,"user_id":1156638,"display_name":"Andy Hebert"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1386274217,"creation_date":1360122095,"answer_id":14721084,"question_id":14700562,"body_markdown":"You&#39;ll need to do 2 things.  \r\n\r\n 1. xmlns in your root: `&lt;requestOptions xmlns=\\&quot;http://www.company.com/ns\\&quot;&gt;`. This reaches back to your XSD.\r\n 2. Since it sounds like RequestData is not a @XmlRootElement you will have to unmarshall it wrapping it in a JAXBElement\r\n\r\nIllustrated here:\r\n\r\n    public class Test\r\n    {\r\n      static String randomXml =\r\n          &quot;&lt;divisionRequestHeader xmlns=\\&quot;http://www.company.com/ns/\\&quot;&gt;&quot;\r\n            + &quot;&lt;id&gt;fake id&lt;/id&gt;&quot;\r\n            + &quot;&lt;CoName&gt;My Co Name&lt;/CoName&gt;&quot; + &quot;&lt;User&gt;&quot;\r\n            + &quot;&lt;Type&gt;EXTERNAL&lt;/Type&gt;&quot; + &quot;&lt;Value&gt;me&lt;/Value&gt;&quot; + &quot;&lt;/User&gt;&quot;\r\n            + &quot;&lt;Count&gt;100&lt;/Count&gt;&quot;\r\n            + &quot;&lt;Requestor&gt;My App Requesting&lt;/Requestor&gt;&quot;\r\n            + &quot;&lt;/divisionRequestHeader&gt;&quot;;\r\n\r\n      public static void main(String[] args) throws Exception\r\n      {\r\n        JAXBContext context = JAXBContext.newInstance(DivisionRequestHeader.class);\r\n        Unmarshaller unmarshaller = context.createUnmarshaller();\r\n        Source source = new StreamSource(new StringReader(randomXml));\r\n\r\n        JAXBElement&lt;DivisionRequestHeader&gt; jaxbElement = unmarshaller.unmarshal(source,\r\n                DivisionRequestHeader.class);\r\n        DivisionRequestHeader header = jaxbElement.getValue();\r\n\r\n        System.out.println(header.toString());\r\n      }\r\n    }\r\n\r\nOutput with jaxb toString plugin:\r\n \r\n    com.company.ns.DivisionRequestHeader@620c620c[id=fake id, coName=My Co Name,\r\n        user=com.company.ns.User@79e479e4[type=EXTERNAL, value=me], count=100,\r\n        requestor=My App Requesting]\r\n\r\n\r\n","title":"Java-WS: is it possible to use raw XML for one argument and still use JAXB objects for the rest?","body":"<p>You'll need to do 2 things.  </p>\n\n<ol>\n<li>xmlns in your root: <code>&lt;requestOptions xmlns=\\\"http://www.company.com/ns\\\"&gt;</code>. This reaches back to your XSD.</li>\n<li>Since it sounds like RequestData is not a @XmlRootElement you will have to unmarshall it wrapping it in a JAXBElement</li>\n</ol>\n\n<p>Illustrated here:</p>\n\n<pre><code>public class Test\n{\n  static String randomXml =\n      \"&lt;divisionRequestHeader xmlns=\\\"http://www.company.com/ns/\\\"&gt;\"\n        + \"&lt;id&gt;fake id&lt;/id&gt;\"\n        + \"&lt;CoName&gt;My Co Name&lt;/CoName&gt;\" + \"&lt;User&gt;\"\n        + \"&lt;Type&gt;EXTERNAL&lt;/Type&gt;\" + \"&lt;Value&gt;me&lt;/Value&gt;\" + \"&lt;/User&gt;\"\n        + \"&lt;Count&gt;100&lt;/Count&gt;\"\n        + \"&lt;Requestor&gt;My App Requesting&lt;/Requestor&gt;\"\n        + \"&lt;/divisionRequestHeader&gt;\";\n\n  public static void main(String[] args) throws Exception\n  {\n    JAXBContext context = JAXBContext.newInstance(DivisionRequestHeader.class);\n    Unmarshaller unmarshaller = context.createUnmarshaller();\n    Source source = new StreamSource(new StringReader(randomXml));\n\n    JAXBElement&lt;DivisionRequestHeader&gt; jaxbElement = unmarshaller.unmarshal(source,\n            DivisionRequestHeader.class);\n    DivisionRequestHeader header = jaxbElement.getValue();\n\n    System.out.println(header.toString());\n  }\n}\n</code></pre>\n\n<p>Output with jaxb toString plugin:</p>\n\n<pre><code>com.company.ns.DivisionRequestHeader@620c620c[id=fake id, coName=My Co Name,\n    user=com.company.ns.User@79e479e4[type=EXTERNAL, value=me], count=100,\n    requestor=My App Requesting]\n</code></pre>\n"}],"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1142,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":14721084,"answer_count":1,"score":-1,"last_activity_date":1684250753,"creation_date":1360040913,"question_id":14700562,"body_markdown":"I&#39;m writing a Java webservice client that will be running on WebSphere. I created a new &quot;Web Service Client&quot; project in RAD Developer, gave it my WSDL, specified &quot;Top down Java Bean&quot;, and it autogenerated a bunch of files.\r\n\r\nOne of the operations is &quot;GetAddressData&quot;. RAD Developer auto-generated &quot;GetAddressData.java&quot; and &quot;GetAddressDataResonse.java&quot;, both annotated with &quot;XmlRootElement&quot;.\r\n\r\nOne of the arguments in &quot;GetAddressData&quot; is &quot;RequestData&quot;, a simple object consisting of four strings: worfklow, module, username, and id. RAD Developer generated a &quot;RequestData.java&quot; for me too.\r\n\r\nIs there any way that I can substitute raw XML for the JAXB &quot;RequestData&quot; object, instead of packing and unpacking the record a field at a time?\r\n\r\nI tried something like this:\r\n\r\n    private static String theXml =   \r\n        &quot;&lt;requestOptions&gt;\\n&quot; +  \r\n        &quot;  &lt;WorkflowName&gt;unmarshalTestWorkflow&lt;/WorkflowName&gt;\\n&quot; +  \r\n        &quot;  &lt;ModuleName&gt;unmarshalTestModule&lt;/ModuleName&gt;\\n&quot; +  \r\n        &quot;  &lt;UserName&gt;unmarshalTestName&lt;/UserName&gt;\\n&quot; +  \r\n        &quot;  &lt;TransactionId&gt;0099&lt;/TransactionId&gt;\\n&quot; +  \r\n        &quot;&lt;/requestOptions&gt;\\n&quot;;  \r\n  \r\n    private RequestOptions mkRequestOptions () throws Exception {  \r\n        JAXBContext context = JAXBContext.newInstance(RequestOptions.class);  \r\n        Unmarshaller unmarshaller = context.createUnmarshaller();  \r\n        Object obj = unmarshaller.unmarshal(new StringReader (theXml));  \r\n        RequestOptions requestOptions = (RequestOptions)obj;\r\n        ...\r\n\r\nBut I keep getting:\r\n\r\n    error: Unexpected element &quot;requestOptions&quot;. Expected elements are &quot;&quot;.\r\n","title":"Java-WS: is it possible to use raw XML for one argument and still use JAXB objects for the rest?","body":"<p>I'm writing a Java webservice client that will be running on WebSphere. I created a new &quot;Web Service Client&quot; project in RAD Developer, gave it my WSDL, specified &quot;Top down Java Bean&quot;, and it autogenerated a bunch of files.</p>\n<p>One of the operations is &quot;GetAddressData&quot;. RAD Developer auto-generated &quot;GetAddressData.java&quot; and &quot;GetAddressDataResonse.java&quot;, both annotated with &quot;XmlRootElement&quot;.</p>\n<p>One of the arguments in &quot;GetAddressData&quot; is &quot;RequestData&quot;, a simple object consisting of four strings: worfklow, module, username, and id. RAD Developer generated a &quot;RequestData.java&quot; for me too.</p>\n<p>Is there any way that I can substitute raw XML for the JAXB &quot;RequestData&quot; object, instead of packing and unpacking the record a field at a time?</p>\n<p>I tried something like this:</p>\n<pre><code>private static String theXml =   \n    &quot;&lt;requestOptions&gt;\\n&quot; +  \n    &quot;  &lt;WorkflowName&gt;unmarshalTestWorkflow&lt;/WorkflowName&gt;\\n&quot; +  \n    &quot;  &lt;ModuleName&gt;unmarshalTestModule&lt;/ModuleName&gt;\\n&quot; +  \n    &quot;  &lt;UserName&gt;unmarshalTestName&lt;/UserName&gt;\\n&quot; +  \n    &quot;  &lt;TransactionId&gt;0099&lt;/TransactionId&gt;\\n&quot; +  \n    &quot;&lt;/requestOptions&gt;\\n&quot;;  \n\nprivate RequestOptions mkRequestOptions () throws Exception {  \n    JAXBContext context = JAXBContext.newInstance(RequestOptions.class);  \n    Unmarshaller unmarshaller = context.createUnmarshaller();  \n    Object obj = unmarshaller.unmarshal(new StringReader (theXml));  \n    RequestOptions requestOptions = (RequestOptions)obj;\n    ...\n</code></pre>\n<p>But I keep getting:</p>\n<pre><code>error: Unexpected element &quot;requestOptions&quot;. Expected elements are &quot;&quot;.\n</code></pre>\n"},{"tags":["java","pdf","pkcs#11","iaik-jce","sunpkcs11"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1684139897,"post_id":76250205,"comment_id":134467589,"body_markdown":"Can you share an example file signed with your code for analysis?","body":"Can you share an example file signed with your code for analysis?"},{"owner":{"account_id":8116165,"reputation":63,"user_id":6114605,"display_name":"tulak.hord"},"score":0,"creation_date":1684220656,"post_id":76250205,"comment_id":134481593,"body_markdown":"here is the link with valid and invalid signed pdf: https://drive.google.com/drive/folders/1GaOb-_o6jUGGsxRKopydUaLa5wFch75Z?usp=sharing","body":"here is the link with valid and invalid signed pdf: <a href=\"https://drive.google.com/drive/folders/1GaOb-_o6jUGGsxRKopydUaLa5wFch75Z?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/drive/folders/&hellip;</a>"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1684243919,"post_id":76250205,"comment_id":134487161,"body_markdown":"Could it be that you misnamed the files? Adobe Acrobat shows `validSignature_oldMethod.pdf` as having invalid signatures while it shows `invalidSignature_newMethod.pdf` as having mathematically valid signatures.","body":"Could it be that you misnamed the files? Adobe Acrobat shows <code>validSignature_oldMethod.pdf</code> as having invalid signatures while it shows <code>invalidSignature_newMethod.pdf</code> as having mathematically valid signatures."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1684246562,"post_id":76250205,"comment_id":134487951,"body_markdown":"You use the mechanism `PKCS11Constants.CKM_SHA256_RSA_PKCS`. But that mechanism does calculate the hash of the data, wrap it in a `DigestInfo` structure, apply PKCS#1 1.5 padding, and encrypt. As far as I understand your code, though, you already have calculated the hash and wrapped it in a `DigestInfo` structure and only want PKCS#1 1.5 padding and encryption to be applied. Thus, you may want to use the mechanism `PKCS11Constants.CKM_RSA_PKCS` instead.","body":"You use the mechanism <code>PKCS11Constants.CKM_SHA256_RSA_PKCS</code>. But that mechanism does calculate the hash of the data, wrap it in a <code>DigestInfo</code> structure, apply PKCS#1 1.5 padding, and encrypt. As far as I understand your code, though, you already have calculated the hash and wrapped it in a <code>DigestInfo</code> structure and only want PKCS#1 1.5 padding and encryption to be applied. Thus, you may want to use the mechanism <code>PKCS11Constants.CKM_RSA_PKCS</code> instead."},{"owner":{"account_id":8116165,"reputation":63,"user_id":6114605,"display_name":"tulak.hord"},"score":0,"creation_date":1684249501,"post_id":76250205,"comment_id":134488795,"body_markdown":"Yes, looked like I misnamed the file. Just tried with mechanism PKCS11Constants.CKM_RSA_PKCS and the signature is coming out to be valid. Thanks very much !","body":"Yes, looked like I misnamed the file. Just tried with mechanism PKCS11Constants.CKM_RSA_PKCS and the signature is coming out to be valid. Thanks very much !"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1684250535,"post_id":76250205,"comment_id":134489110,"body_markdown":"Ok, I&#39;ll make that an actual answer, not a mere comment.","body":"Ok, I&#39;ll make that an actual answer, not a mere comment."},{"owner":{"account_id":8116165,"reputation":63,"user_id":6114605,"display_name":"tulak.hord"},"score":0,"creation_date":1684598244,"post_id":76250205,"comment_id":134541938,"body_markdown":"Out of curiosity, Given a pdf document, is there any way on how to check why the document got corrupted?\n\nI am implementing a digital signature validation tool like adobe has Signature Validation Status but it just says the document is alerted or corrupted since the signature was applied. How to debug the same, like there could be multiple reasons: \n\n- Mismatch in digital signature algorithm used\n- Alteration in the document\n- Integrity of signature container","body":"Out of curiosity, Given a pdf document, is there any way on how to check why the document got corrupted?  I am implementing a digital signature validation tool like adobe has Signature Validation Status but it just says the document is alerted or corrupted since the signature was applied. How to debug the same, like there could be multiple reasons:   - Mismatch in digital signature algorithm used - Alteration in the document - Integrity of signature container"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1684703931,"post_id":76250205,"comment_id":134551860,"body_markdown":"Well, there are some issues you can identify. E.g. if the signer certificate public key is a RSA key but the claimed signature algorithm is ECDSA, you can try to validate the signature assuming the signature algorithm is actually based on RSA. Or if the hash value calculated with the claimed signature hash algorithm does not validate, you can try using hash values calculated with other algorithms. But seriously, does it really make sense to try and identify such reasons for signature validation failures? You still don&#39;t know whether they are caused by a bug or by some manipulation.","body":"Well, there are some issues you can identify. E.g. if the signer certificate public key is a RSA key but the claimed signature algorithm is ECDSA, you can try to validate the signature assuming the signature algorithm is actually based on RSA. Or if the hash value calculated with the claimed signature hash algorithm does not validate, you can try using hash values calculated with other algorithms. But seriously, does it really make sense to try and identify such reasons for signature validation failures? You still don&#39;t know whether they are caused by a bug or by some manipulation."},{"owner":{"account_id":8116165,"reputation":63,"user_id":6114605,"display_name":"tulak.hord"},"score":0,"creation_date":1684830565,"post_id":76250205,"comment_id":134570573,"body_markdown":"Yes, that&#39;s what it doesn&#39;t make sense. It could be because of anything, how to go about making a digital signature validation tool? Any documentation to follow or anything as such.","body":"Yes, that&#39;s what it doesn&#39;t make sense. It could be because of anything, how to go about making a digital signature validation tool? Any documentation to follow or anything as such."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1684880317,"post_id":76250205,"comment_id":134581606,"body_markdown":"Well, usually digital signature validation tools only determine whether they consider a signature valid or not and don&#39;t try to guess the cause in the latter case. Also validation itself depends on the validation policy to be applied. For qualified signatures in the EU, for example, ETSI EN 319 102-1 describes in detail how to validate.","body":"Well, usually digital signature validation tools only determine whether they consider a signature valid or not and don&#39;t try to guess the cause in the latter case. Also validation itself depends on the validation policy to be applied. For qualified signatures in the EU, for example, ETSI EN 319 102-1 describes in detail how to validate."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684250669,"creation_date":1684250669,"answer_id":76264751,"question_id":76250205,"body_markdown":"You use the mechanism `PKCS11Constants.CKM_SHA256_RSA_PKCS`. But that mechanism does calculate the hash of the data, wrap it in a `DigestInfo` structure, apply PKCS#1 1.5 padding, and encrypt.\r\n\r\nAs far as I understand your code, though, you already have calculated the hash and wrapped it in a `DigestInfo` structure. So you only want PKCS#1 1.5 padding and encryption to be applied.\r\n\r\nThus, you may want to use the mechanism `PKCS11Constants.CKM_RSA_PKCS` instead.","title":"Document altered/corrupted while attaching IAIK PKCS11 signing Hash","body":"<p>You use the mechanism <code>PKCS11Constants.CKM_SHA256_RSA_PKCS</code>. But that mechanism does calculate the hash of the data, wrap it in a <code>DigestInfo</code> structure, apply PKCS#1 1.5 padding, and encrypt.</p>\n<p>As far as I understand your code, though, you already have calculated the hash and wrapped it in a <code>DigestInfo</code> structure. So you only want PKCS#1 1.5 padding and encryption to be applied.</p>\n<p>Thus, you may want to use the mechanism <code>PKCS11Constants.CKM_RSA_PKCS</code> instead.</p>\n"}],"owner":{"account_id":8116165,"reputation":63,"user_id":6114605,"display_name":"tulak.hord"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76264751,"answer_count":1,"score":1,"last_activity_date":1684250669,"creation_date":1684110120,"question_id":76250205,"body_markdown":"I have a base64 encoded message digest (signing bytes of a pdf), which I want to sign and return PKCS7. Previously, I was using SUNPKCS11 and was able to attach the same to the pdf.\r\n\r\nI have started using IAIK PKCS11 Wrapper. Below is the process, I have a IAIKPKCS11ContentSigner defined like: \r\n\r\n    public class IAIKPKCS11ContentSigner implements ContentSigner {\r\n       private final Session session;\r\n       private final RSAPrivateKey privateKey;\r\n       private final ByteArrayOutputStream outputStream;\r\n\r\n       public IAIKPKCS11ContentSigner(Session session, RSAPrivateKey privateKey) {\r\n         this.session = session;\r\n         this.privateKey = privateKey;\r\n         this.outputStream = new ByteArrayOutputStream();\r\n       }\r\n\r\n       @Override\r\n       public byte[] getSignature() {\r\n         try {\r\n           AlgorithmIdentifier sha256Aid = new DefaultDigestAlgorithmIdentifierFinder().find(&quot;SHA-256&quot;);\r\n           DigestInfo digestInfo = new DigestInfo(sha256Aid, this.outputStream.toByteArray());\r\n           byte[] encodedDigestInfo = digestInfo.getEncoded();\r\n           Mechanism signingMechanism = Mechanism.get(PKCS11Constants.CKM_SHA256_RSA_PKCS);\r\n           session.signInit(signingMechanism, privateKey);\r\n           return session.sign(encodedDigestInfo);\r\n           } catch (Exception e) {\r\n            throw new RuntimeException(&quot;Error&quot;, e);\r\n           }\r\n       }\r\n\r\n       @Override\r\n       public org.bouncycastle.asn1.x509.AlgorithmIdentifier getAlgorithmIdentifier() {\r\n          return new org.bouncycastle.asn1.x509.AlgorithmIdentifier(\r\n                org.bouncycastle.asn1.pkcs.PKCSObjectIdentifiers.sha256WithRSAEncryption);\r\n       }\r\n\r\n       @Override\r\n       public OutputStream getOutputStream() {\r\n          return outputStream;\r\n       }\r\n    }\r\n\r\n\r\nand now I am signing the hash like: \r\n\r\n    //already initialize session and extracted RSAPrivateKey\r\n    //taking current session (iaik.pkcs.pkcs11) and RSAPrivateKey\r\n    IAIKPKCS11ContentSigner signer = new IAIKPKCS11ContentSigner(session, pk); \r\n\r\n    OutputStream outputStream = signer.getOutputStream();\r\n    outputStream.write(hash); //writing the hash of the document to sign \r\n\r\n    byte[] signature = signer.getSignature(); //fetching signature from the content signer\r\n    ContentInfo contentInfo = new ContentInfo(ContentInfo.DATA_OID, null);\r\n    X509Certificate[] certificates; //certificate for the key above;\r\n    AlgorithmId[] digestAlgorithmIds; // SHA-256 \r\n    SignerInfo si; //creating signer info using cert attributes and signed content signature;\r\n    SignerInfo[] signerInfos = {si};\r\n    PKCS7 p7 = new PKCS7(digestAlgorithmIds, contentInfo, certificates, signerInfos);\r\n    ByteArrayOutputStream bytes = new ByteArrayOutputStream();\r\n    p7.encodeSignedData(bytes);\r\n    output = bytes.toByteArray();\r\n\r\n\r\nBut while attaching this pkcs7 as deferred signature on a pdf, getting document has been altered or corrupted. Is this the right approach to sign? Any pointers if I am doing anything wrong here?  ","title":"Document altered/corrupted while attaching IAIK PKCS11 signing Hash","body":"<p>I have a base64 encoded message digest (signing bytes of a pdf), which I want to sign and return PKCS7. Previously, I was using SUNPKCS11 and was able to attach the same to the pdf.</p>\n<p>I have started using IAIK PKCS11 Wrapper. Below is the process, I have a IAIKPKCS11ContentSigner defined like:</p>\n<pre><code>public class IAIKPKCS11ContentSigner implements ContentSigner {\n   private final Session session;\n   private final RSAPrivateKey privateKey;\n   private final ByteArrayOutputStream outputStream;\n\n   public IAIKPKCS11ContentSigner(Session session, RSAPrivateKey privateKey) {\n     this.session = session;\n     this.privateKey = privateKey;\n     this.outputStream = new ByteArrayOutputStream();\n   }\n\n   @Override\n   public byte[] getSignature() {\n     try {\n       AlgorithmIdentifier sha256Aid = new DefaultDigestAlgorithmIdentifierFinder().find(&quot;SHA-256&quot;);\n       DigestInfo digestInfo = new DigestInfo(sha256Aid, this.outputStream.toByteArray());\n       byte[] encodedDigestInfo = digestInfo.getEncoded();\n       Mechanism signingMechanism = Mechanism.get(PKCS11Constants.CKM_SHA256_RSA_PKCS);\n       session.signInit(signingMechanism, privateKey);\n       return session.sign(encodedDigestInfo);\n       } catch (Exception e) {\n        throw new RuntimeException(&quot;Error&quot;, e);\n       }\n   }\n\n   @Override\n   public org.bouncycastle.asn1.x509.AlgorithmIdentifier getAlgorithmIdentifier() {\n      return new org.bouncycastle.asn1.x509.AlgorithmIdentifier(\n            org.bouncycastle.asn1.pkcs.PKCSObjectIdentifiers.sha256WithRSAEncryption);\n   }\n\n   @Override\n   public OutputStream getOutputStream() {\n      return outputStream;\n   }\n}\n</code></pre>\n<p>and now I am signing the hash like:</p>\n<pre><code>//already initialize session and extracted RSAPrivateKey\n//taking current session (iaik.pkcs.pkcs11) and RSAPrivateKey\nIAIKPKCS11ContentSigner signer = new IAIKPKCS11ContentSigner(session, pk); \n\nOutputStream outputStream = signer.getOutputStream();\noutputStream.write(hash); //writing the hash of the document to sign \n\nbyte[] signature = signer.getSignature(); //fetching signature from the content signer\nContentInfo contentInfo = new ContentInfo(ContentInfo.DATA_OID, null);\nX509Certificate[] certificates; //certificate for the key above;\nAlgorithmId[] digestAlgorithmIds; // SHA-256 \nSignerInfo si; //creating signer info using cert attributes and signed content signature;\nSignerInfo[] signerInfos = {si};\nPKCS7 p7 = new PKCS7(digestAlgorithmIds, contentInfo, certificates, signerInfos);\nByteArrayOutputStream bytes = new ByteArrayOutputStream();\np7.encodeSignedData(bytes);\noutput = bytes.toByteArray();\n</code></pre>\n<p>But while attaching this pkcs7 as deferred signature on a pdf, getting document has been altered or corrupted. Is this the right approach to sign? Any pointers if I am doing anything wrong here?</p>\n"},{"tags":["java","spring","mybatis"],"answers":[{"tags":[],"owner":{"account_id":20903700,"reputation":75,"user_id":20091628,"display_name":"Montana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684250577,"creation_date":1684250577,"answer_id":76264737,"question_id":76264062,"body_markdown":"\r\nDuring debugging i have found, that into `ScheduledTaskService` field `scheduledTaskRepository` injecting `org.apache.ibatis.binding.MapperProxy` with mapperInterface `ru.test.app.common.scheduling.repository.ScheduledTaskRepository`\r\n\r\nSo, problem was solved by moving child interface that annotated with `@Mapper` to the another package (ru.test.app.common.scheduling.repository.impl), and by adding annotation `@MapperScan(&quot;ru.test.app.common.scheduling.repository.impl&quot;)` \r\nto Application.class.\r\n","title":"How to use mybatis mapper as common repository for different modules","body":"<p>During debugging i have found, that into <code>ScheduledTaskService</code> field <code>scheduledTaskRepository</code> injecting <code>org.apache.ibatis.binding.MapperProxy</code> with mapperInterface <code>ru.test.app.common.scheduling.repository.ScheduledTaskRepository</code></p>\n<p>So, problem was solved by moving child interface that annotated with <code>@Mapper</code> to the another package (ru.test.app.common.scheduling.repository.impl), and by adding annotation <code>@MapperScan(&quot;ru.test.app.common.scheduling.repository.impl&quot;)</code>\nto Application.class.</p>\n"}],"owner":{"account_id":20903700,"reputation":75,"user_id":20091628,"display_name":"Montana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76264737,"answer_count":1,"score":1,"last_activity_date":1684250577,"creation_date":1684246336,"question_id":76264062,"body_markdown":"I want to create a common module, which i will use in different modules.\r\nMost of modules are using mybatis, and some modules are using Spring Data with Hibernate.\r\n\r\nI have an idea to create a common interface and default implementation for Mybatis.\r\n\r\nSo im trying to create common interface \r\n\r\n    public interface ScheduledTaskRepository {\r\n    \r\n        List&lt;ScheduledTask&gt; getTasksByStateAndType( ScheduledTaskState state, ScheduledTaskType type, int maxRunCount );\r\n    \r\n        void create( ScheduledTask task );\r\n    \r\n        void update( ScheduledTask task );\r\n    \r\n        List&lt;ScheduledTask&gt; getTasksForReset( ScheduledTaskState state, ScheduledTaskType type, int runCount );\r\n    \r\n        void resetTask( long id );\r\n    \r\n        ScheduledTask get( long id );\r\n    \r\n    }\r\n\r\nand it&#39;s mybatis implementation\r\n\r\n    @Mapper\r\n    @ConditionalOnBean(MybatisAutoConfiguration.class)\r\n    public interface MybatisScheduledTaskRepository extends ScheduledTaskRepository {\r\n    \r\n        @Override\r\n        @Select(&quot;SELECT * FROM scheduled_tasks WHERE state = #{state} AND type = #{type} AND run_count &lt; #{maxRunCount}&quot;)\r\n        List&lt;ScheduledTask&gt; getTasksByStateAndType( @Param(&quot;state&quot;) ScheduledTaskState state,\r\n                                                    @Param(&quot;type&quot;) ScheduledTaskType type,\r\n                                                    @Param(&quot;maxRunCount&quot;) int maxRunCount );\r\n    \r\n        @Override\r\n        @Insert(&quot;INSERT INTO scheduled_tasks (creation_time, last_run, state, run_count, type, obj_id) &quot; +\r\n            &quot;VALUES (#{creationTime}, #{lastRun}, #{state}, #{runCount}, #{type}, #{objId})&quot;)\r\n        void create( ScheduledTask task );\r\n    \r\n        @Override\r\n        @Update(&quot;UPDATE scheduled_tasks SET creation_time = #{creationTime}, last_run = #{lastRun}, state = #{state}, &quot; +\r\n            &quot;run_count = #{runCount}, type = #{type}, obj_id = #{objId} WHERE id = #{id}&quot;)\r\n        void update( ScheduledTask task );\r\n    \r\n        @Override\r\n        @Select(&quot;SELECT * FROM scheduled_tasks WHERE state = #{state} AND type = #{type} AND run_count &gt;= #{runCount}&quot;)\r\n        List&lt;ScheduledTask&gt; getTasksForReset( @Param(&quot;state&quot;) ScheduledTaskState state,\r\n                                              @Param(&quot;type&quot;) ScheduledTaskType type,\r\n                                              @Param(&quot;runCount&quot;) int runCount );\r\n    \r\n        @Override\r\n        @Update(&quot;UPDATE scheduled_tasks SET run_count = 0 where id = #{id}&quot;)\r\n        void resetTask( @Param(&quot;id&quot;) long id );\r\n    \r\n        @Override\r\n        @Select(&quot;SELECT * FROM scheduled_tasks WHERE od = #{id}&quot;)\r\n        ScheduledTask get( @Param(&quot;id&quot;) long id );\r\n    }\r\n\r\nThen i create service in the common module for working with mapper\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class ScheduledTaskService {\r\n    \r\n        private final ScheduledTaskRepository scheduledTaskRepository;\r\n    \r\n        public void create( ScheduledTask scheduledTask ) {\r\n            scheduledTaskRepository.create( scheduledTask );\r\n        }\r\n    \r\n        public void create( ScheduledTaskType scheduledTaskType, Long objId ) {\r\n            ScheduledTask scheduledTask = new ScheduledTask();\r\n            scheduledTask.setCreationTime( LocalDateTime.now() )\r\n                .setState( ScheduledTaskState.AWAIT )\r\n                .setType( scheduledTaskType )\r\n                .setObjId( objId )\r\n                .setRunCount( 0 );\r\n            scheduledTaskRepository.create( scheduledTask );\r\n        }\r\n    \r\n        public void resetTasksTryCount( ScheduledTaskType type, int runCount ) {\r\n            List&lt;ScheduledTask&gt; tasksToReset = scheduledTaskRepository.getTasksForReset( ScheduledTaskState.AWAIT, type, runCount );\r\n            tasksToReset.forEach( task -&gt; {\r\n                task.setRunCount( 0 );\r\n                update( task );\r\n            } );\r\n        }\r\n    \r\n        public void resetTaskTryCount( long id ) {\r\n            scheduledTaskRepository.resetTask( id );\r\n        }\r\n    \r\n        public void update( ScheduledTask scheduledTask ) {\r\n            scheduledTaskRepository.update( scheduledTask );\r\n        }\r\n    \r\n        public List&lt;ScheduledTask&gt; getTasksByStateAndType( ScheduledTaskState state, ScheduledTaskType type, int maxRunCount ) {\r\n            return scheduledTaskRepository.getTasksByStateAndType( state, type, maxRunCount );\r\n        }\r\n    \r\n        public ScheduledTask get( long id ) {\r\n            return scheduledTaskRepository.get( id );\r\n        }\r\n\r\nThis is my build.gradle of common module\r\n\r\n    dependencies {\r\n        implementation project(&#39;:common-modules:general&#39;)\r\n    \r\n        compileOnly &#39;org.mybatis.spring.boot:mybatis-spring-boot-starter:2.1.3&#39;\r\n        compileOnly &#39;org.projectlombok:lombok&#39;\r\n    \r\n        api &quot;io.springfox:springfox-swagger2:${swagger_version}&quot;\r\n    \r\n        annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    \r\n    }\r\n\r\nspring.factories in common module\r\n\r\n    org.springframework.boot.autoconfigure.EnableAutoConfiguration=\\\r\n      ru.test.app.common.scheduling.CommonScheduling\r\n\r\nAnd the problem is that when i include common module as dependency of another module and trying to run test, where im calling service, i get the exception\r\n\r\n        Invalid bound statement (not found): ru.test.app.common.scheduling.repository.ScheduledTaskRepository.getTasksByStateAndType\r\n    org.apache.ibatis.binding.BindingException: Invalid bound statement (not found): ru.test.app.common.scheduling.repository.ScheduledTaskRepository.getTasksByStateAndType\r\n    \tat org.apache.ibatis.binding.MapperMethod$SqlCommand.&lt;init&gt;(MapperMethod.java:235)\r\n    \tat org.apache.ibatis.binding.MapperMethod.&lt;init&gt;(MapperMethod.java:53)\r\n    \tat org.apache.ibatis.binding.MapperProxy.lambda$cachedMapperMethod$0(MapperProxy.java:98)\r\n    \tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705)\r\n    \tat org.apache.ibatis.binding.MapperProxy.cachedMapperMethod(MapperProxy.java:97)\r\n    \tat org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:92)\r\n    \tat com.sun.proxy.$Proxy193.getTasksByStateAndType(Unknown Source)\r\n    \tat ru.test.app.common.scheduling.service.ScheduledTaskService.getTasksByStateAndType(ScheduledTaskService.java:50)\r\n    \tat ru.test.app.common.scheduling.processor.AbstractTaskProcessor.getPendingTasks(AbstractTaskProcessor.java:28)\r\n    \tat ru.test.app.egron.sheduling.processor.SendStatusUpdateEventProcessor.prepareTasks(SendStatusUpdateEventProcessor.java:27)\r\n    \tat ru.test.app.common.scheduling.processor.AbstractListTaskProcessor.process(AbstractListTaskProcessor.java:25)\r\n    \tat ru.test.app.egron.scheduling.SendMortgageStatusUpdateEventProcessorTest.testProcess(SendMortgageStatusUpdateEventProcessorTest.java:32)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:686)\r\n    \tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:212)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:208)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:71)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n    \tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n    \tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n    \tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n    \tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n    \tat com.sun.proxy.$Proxy5.stop(Unknown Source)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:133)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)","title":"How to use mybatis mapper as common repository for different modules","body":"<p>I want to create a common module, which i will use in different modules.\nMost of modules are using mybatis, and some modules are using Spring Data with Hibernate.</p>\n<p>I have an idea to create a common interface and default implementation for Mybatis.</p>\n<p>So im trying to create common interface</p>\n<pre><code>public interface ScheduledTaskRepository {\n\n    List&lt;ScheduledTask&gt; getTasksByStateAndType( ScheduledTaskState state, ScheduledTaskType type, int maxRunCount );\n\n    void create( ScheduledTask task );\n\n    void update( ScheduledTask task );\n\n    List&lt;ScheduledTask&gt; getTasksForReset( ScheduledTaskState state, ScheduledTaskType type, int runCount );\n\n    void resetTask( long id );\n\n    ScheduledTask get( long id );\n\n}\n</code></pre>\n<p>and it's mybatis implementation</p>\n<pre><code>@Mapper\n@ConditionalOnBean(MybatisAutoConfiguration.class)\npublic interface MybatisScheduledTaskRepository extends ScheduledTaskRepository {\n\n    @Override\n    @Select(&quot;SELECT * FROM scheduled_tasks WHERE state = #{state} AND type = #{type} AND run_count &lt; #{maxRunCount}&quot;)\n    List&lt;ScheduledTask&gt; getTasksByStateAndType( @Param(&quot;state&quot;) ScheduledTaskState state,\n                                                @Param(&quot;type&quot;) ScheduledTaskType type,\n                                                @Param(&quot;maxRunCount&quot;) int maxRunCount );\n\n    @Override\n    @Insert(&quot;INSERT INTO scheduled_tasks (creation_time, last_run, state, run_count, type, obj_id) &quot; +\n        &quot;VALUES (#{creationTime}, #{lastRun}, #{state}, #{runCount}, #{type}, #{objId})&quot;)\n    void create( ScheduledTask task );\n\n    @Override\n    @Update(&quot;UPDATE scheduled_tasks SET creation_time = #{creationTime}, last_run = #{lastRun}, state = #{state}, &quot; +\n        &quot;run_count = #{runCount}, type = #{type}, obj_id = #{objId} WHERE id = #{id}&quot;)\n    void update( ScheduledTask task );\n\n    @Override\n    @Select(&quot;SELECT * FROM scheduled_tasks WHERE state = #{state} AND type = #{type} AND run_count &gt;= #{runCount}&quot;)\n    List&lt;ScheduledTask&gt; getTasksForReset( @Param(&quot;state&quot;) ScheduledTaskState state,\n                                          @Param(&quot;type&quot;) ScheduledTaskType type,\n                                          @Param(&quot;runCount&quot;) int runCount );\n\n    @Override\n    @Update(&quot;UPDATE scheduled_tasks SET run_count = 0 where id = #{id}&quot;)\n    void resetTask( @Param(&quot;id&quot;) long id );\n\n    @Override\n    @Select(&quot;SELECT * FROM scheduled_tasks WHERE od = #{id}&quot;)\n    ScheduledTask get( @Param(&quot;id&quot;) long id );\n}\n</code></pre>\n<p>Then i create service in the common module for working with mapper</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class ScheduledTaskService {\n\n    private final ScheduledTaskRepository scheduledTaskRepository;\n\n    public void create( ScheduledTask scheduledTask ) {\n        scheduledTaskRepository.create( scheduledTask );\n    }\n\n    public void create( ScheduledTaskType scheduledTaskType, Long objId ) {\n        ScheduledTask scheduledTask = new ScheduledTask();\n        scheduledTask.setCreationTime( LocalDateTime.now() )\n            .setState( ScheduledTaskState.AWAIT )\n            .setType( scheduledTaskType )\n            .setObjId( objId )\n            .setRunCount( 0 );\n        scheduledTaskRepository.create( scheduledTask );\n    }\n\n    public void resetTasksTryCount( ScheduledTaskType type, int runCount ) {\n        List&lt;ScheduledTask&gt; tasksToReset = scheduledTaskRepository.getTasksForReset( ScheduledTaskState.AWAIT, type, runCount );\n        tasksToReset.forEach( task -&gt; {\n            task.setRunCount( 0 );\n            update( task );\n        } );\n    }\n\n    public void resetTaskTryCount( long id ) {\n        scheduledTaskRepository.resetTask( id );\n    }\n\n    public void update( ScheduledTask scheduledTask ) {\n        scheduledTaskRepository.update( scheduledTask );\n    }\n\n    public List&lt;ScheduledTask&gt; getTasksByStateAndType( ScheduledTaskState state, ScheduledTaskType type, int maxRunCount ) {\n        return scheduledTaskRepository.getTasksByStateAndType( state, type, maxRunCount );\n    }\n\n    public ScheduledTask get( long id ) {\n        return scheduledTaskRepository.get( id );\n    }\n</code></pre>\n<p>This is my build.gradle of common module</p>\n<pre><code>dependencies {\n    implementation project(':common-modules:general')\n\n    compileOnly 'org.mybatis.spring.boot:mybatis-spring-boot-starter:2.1.3'\n    compileOnly 'org.projectlombok:lombok'\n\n    api &quot;io.springfox:springfox-swagger2:${swagger_version}&quot;\n\n    annotationProcessor 'org.projectlombok:lombok'\n\n}\n</code></pre>\n<p>spring.factories in common module</p>\n<pre><code>org.springframework.boot.autoconfigure.EnableAutoConfiguration=\\\n  ru.test.app.common.scheduling.CommonScheduling\n</code></pre>\n<p>And the problem is that when i include common module as dependency of another module and trying to run test, where im calling service, i get the exception</p>\n<pre><code>    Invalid bound statement (not found): ru.test.app.common.scheduling.repository.ScheduledTaskRepository.getTasksByStateAndType\norg.apache.ibatis.binding.BindingException: Invalid bound statement (not found): ru.test.app.common.scheduling.repository.ScheduledTaskRepository.getTasksByStateAndType\n    at org.apache.ibatis.binding.MapperMethod$SqlCommand.&lt;init&gt;(MapperMethod.java:235)\n    at org.apache.ibatis.binding.MapperMethod.&lt;init&gt;(MapperMethod.java:53)\n    at org.apache.ibatis.binding.MapperProxy.lambda$cachedMapperMethod$0(MapperProxy.java:98)\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705)\n    at org.apache.ibatis.binding.MapperProxy.cachedMapperMethod(MapperProxy.java:97)\n    at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:92)\n    at com.sun.proxy.$Proxy193.getTasksByStateAndType(Unknown Source)\n    at ru.test.app.common.scheduling.service.ScheduledTaskService.getTasksByStateAndType(ScheduledTaskService.java:50)\n    at ru.test.app.common.scheduling.processor.AbstractTaskProcessor.getPendingTasks(AbstractTaskProcessor.java:28)\n    at ru.test.app.egron.sheduling.processor.SendStatusUpdateEventProcessor.prepareTasks(SendStatusUpdateEventProcessor.java:27)\n    at ru.test.app.common.scheduling.processor.AbstractListTaskProcessor.process(AbstractListTaskProcessor.java:25)\n    at ru.test.app.egron.scheduling.SendMortgageStatusUpdateEventProcessorTest.testProcess(SendMortgageStatusUpdateEventProcessorTest.java:32)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:686)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:212)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:208)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:71)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy5.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:133)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\n    at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n"},{"tags":["java","android","tabs","fragment"],"answers":[{"tags":[],"owner":{"account_id":3396576,"reputation":987,"user_id":2850044,"accept_rate":56,"display_name":"Vinay Jayaram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574751174,"creation_date":1574750283,"answer_id":59045057,"question_id":59044965,"body_markdown":"You should call API&#39;s inside the fragment probably in **setUserVisibleHint** method in android \r\n\r\n    boolean _areLecturesLoaded = false;\r\n    \r\n    @Override\r\n     public void setUserVisibleHint(boolean isVisibleToUser) {\r\n         super.setUserVisibleHint(isVisibleToUser);\r\n         if (isVisibleToUser &amp;&amp; !_areLecturesLoaded ) {\r\n          loadYourRetrofitData(); //Load your data here  \r\n          _areLecturesLoaded = true;\r\n         }\r\n     }\r\n\r\n","title":"Calling API when swiping tabs","body":"<p>You should call API's inside the fragment probably in <strong>setUserVisibleHint</strong> method in android </p>\n\n<pre><code>boolean _areLecturesLoaded = false;\n\n@Override\n public void setUserVisibleHint(boolean isVisibleToUser) {\n     super.setUserVisibleHint(isVisibleToUser);\n     if (isVisibleToUser &amp;&amp; !_areLecturesLoaded ) {\n      loadYourRetrofitData(); //Load your data here  \n      _areLecturesLoaded = true;\n     }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4869796,"reputation":5586,"user_id":3926727,"accept_rate":100,"display_name":"Rasel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574750951,"creation_date":1574750379,"answer_id":59045081,"question_id":59044965,"body_markdown":"Use this method in your fragment to get visibility state of fragment and then call your api thre.\r\n\r\n    @Override \r\n    boolean getUserVisibleHint() {\r\n        super.getUserVisibleHint()\r\n        boolean isVisibleToUser=super.getUserVisibleHint()\r\n        if(isVisibleToUser){\r\n            //call api here\r\n        }\r\n        return isVisibleToUser\r\n    }","title":"Calling API when swiping tabs","body":"<p>Use this method in your fragment to get visibility state of fragment and then call your api thre.</p>\n\n<pre><code>@Override \nboolean getUserVisibleHint() {\n    super.getUserVisibleHint()\n    boolean isVisibleToUser=super.getUserVisibleHint()\n    if(isVisibleToUser){\n        //call api here\n    }\n    return isVisibleToUser\n}\n</code></pre>\n"}],"owner":{"account_id":16100418,"reputation":221,"user_id":11621341,"display_name":"rav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1708,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1684250328,"creation_date":1574749748,"question_id":59044965,"body_markdown":"I have a tab layout with 3 tabs.Each one of the tabs need to display some data from API calling (I&#39;m using Retrofit).\r\n\r\nSo , I have the main activity when user opens that activity I fetch the data for the first tab then display the view \r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            context = this;\r\n    \r\n            if (Application.isConnected()) {\r\n                getTrips();\r\n    \r\n            } else {\r\n                Toast.makeText(this , &quot;No internet Connection&quot; , Toast.LENGTH_LONG).show();\r\n                setContentView(R.layout.no_internet_connection);\r\n            }\r\n       }\r\n\r\nSo in the success of the API call I inflate the view as below \r\n\r\n \r\n\r\n       public void inflatingView () {\r\n    \r\n            setContentView(R.layout.activity_mytrip);\r\n            context = this;\r\n    \r\n            tvTitle = findViewById(R.id.tv_title);\r\n            tabLayout = findViewById(R.id.tablayout);\r\n            tvTitle.setText(&quot;Trips&quot;);\r\n            tabLayout.addTab(tabLayout.newTab().setText(&quot;My Trips&quot;));\r\n            tabLayout.addTab(tabLayout.newTab().setText(&quot;Unclosed Trips&quot;));\r\n            tabLayout.addTab(tabLayout.newTab().setText(&quot;UnApproved Trips&quot;));\r\n    \r\n    \r\n            viewPager = findViewById(R.id.viewpager);\r\n            myTripAdapter = new MyTripAdapter(getSupportFragmentManager(),tabLayout.getTabCount());\r\n            viewPager.setAdapter(myTripAdapter);\r\n            viewPager.setOffscreenPageLimit(3);\r\n    \r\n    \r\n            tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\r\n                @Override\r\n                public void onTabSelected(TabLayout.Tab tab) {\r\n    \r\n                    switch (tabLayout.getSelectedTabPosition()) { \r\n    \r\n                        case 0 :\r\n                            Log.d(&quot;test&quot; , &quot;first tab&quot;);\r\n                            break;\r\n                        case 1 :\r\n                            Log.d(&quot;test&quot; , &quot;Second tab&quot;);\r\n                            getTab2Data();\r\n                            break;\r\n                        case 2 :\r\n                            Log.d(&quot;test&quot; , &quot;Third tab&quot;);\r\n                            break;\r\n                    }\r\n    \r\n                    viewPager.setCurrentItem(tabLayout.getSelectedTabPosition());\r\n                }\r\n    \r\n                @Override\r\n                public void onTabUnselected(TabLayout.Tab tab) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onTabReselected(TabLayout.Tab tab) {\r\n                    \r\n                }\r\n            });\r\n    \r\n            viewPager.addOnPageChangeListener(new TabLayout.TabLayoutOnPageChangeListener(tabLayout));\r\n    \r\n        }\r\n\r\n\r\nSo , The data for first fragment in first tab is obtained , My problem is with fragment 2 and 3.I only want to call the API when user swiping. As you see above I tried to detect when user swipe to second tab then I call method to fetch data but unfortunately it&#39;s now working.\r\n\r\nDo you have any idea on how to do this?","title":"Calling API when swiping tabs","body":"<p>I have a tab layout with 3 tabs.Each one of the tabs need to display some data from API calling (I'm using Retrofit).</p>\n\n<p>So , I have the main activity when user opens that activity I fetch the data for the first tab then display the view </p>\n\n<pre><code>    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        context = this;\n\n        if (Application.isConnected()) {\n            getTrips();\n\n        } else {\n            Toast.makeText(this , \"No internet Connection\" , Toast.LENGTH_LONG).show();\n            setContentView(R.layout.no_internet_connection);\n        }\n   }\n</code></pre>\n\n<p>So in the success of the API call I inflate the view as below </p>\n\n<pre><code>   public void inflatingView () {\n\n        setContentView(R.layout.activity_mytrip);\n        context = this;\n\n        tvTitle = findViewById(R.id.tv_title);\n        tabLayout = findViewById(R.id.tablayout);\n        tvTitle.setText(\"Trips\");\n        tabLayout.addTab(tabLayout.newTab().setText(\"My Trips\"));\n        tabLayout.addTab(tabLayout.newTab().setText(\"Unclosed Trips\"));\n        tabLayout.addTab(tabLayout.newTab().setText(\"UnApproved Trips\"));\n\n\n        viewPager = findViewById(R.id.viewpager);\n        myTripAdapter = new MyTripAdapter(getSupportFragmentManager(),tabLayout.getTabCount());\n        viewPager.setAdapter(myTripAdapter);\n        viewPager.setOffscreenPageLimit(3);\n\n\n        tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\n            @Override\n            public void onTabSelected(TabLayout.Tab tab) {\n\n                switch (tabLayout.getSelectedTabPosition()) { \n\n                    case 0 :\n                        Log.d(\"test\" , \"first tab\");\n                        break;\n                    case 1 :\n                        Log.d(\"test\" , \"Second tab\");\n                        getTab2Data();\n                        break;\n                    case 2 :\n                        Log.d(\"test\" , \"Third tab\");\n                        break;\n                }\n\n                viewPager.setCurrentItem(tabLayout.getSelectedTabPosition());\n            }\n\n            @Override\n            public void onTabUnselected(TabLayout.Tab tab) {\n\n            }\n\n            @Override\n            public void onTabReselected(TabLayout.Tab tab) {\n\n            }\n        });\n\n        viewPager.addOnPageChangeListener(new TabLayout.TabLayoutOnPageChangeListener(tabLayout));\n\n    }\n</code></pre>\n\n<p>So , The data for first fragment in first tab is obtained , My problem is with fragment 2 and 3.I only want to call the API when user swiping. As you see above I tried to detect when user swipe to second tab then I call method to fetch data but unfortunately it's now working.</p>\n\n<p>Do you have any idea on how to do this?</p>\n"},{"tags":["java","ssl","jenkins","certificate","cacerts"],"answers":[{"tags":[],"owner":{"account_id":4221608,"reputation":43,"user_id":3456260,"display_name":"Hanuman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684250235,"creation_date":1684250235,"answer_id":76264677,"question_id":76263992,"body_markdown":"You can create custom values yaml file, and provide the details that are different from values.yaml, use the custom  values yaml when applying your helm chart \r\n\r\n     javaOpts: &gt;\r\n        -Djavax.net.ssl.trustStore=/var/jenkins_keystore/keystore.jks\r\n        -Djavax.net.ssl.trustStorePassword=changeit\r\n        -Dcom.sun.jndi.ldap.object.disableEndpointIdentification=true \r\n        -Dcom.sun.jndi.ldapURLParsing=&quot;legacy&quot;","title":"Jenkins Helm container and custom cacerts","body":"<p>You can create custom values yaml file, and provide the details that are different from values.yaml, use the custom  values yaml when applying your helm chart</p>\n<pre><code> javaOpts: &gt;\n    -Djavax.net.ssl.trustStore=/var/jenkins_keystore/keystore.jks\n    -Djavax.net.ssl.trustStorePassword=changeit\n    -Dcom.sun.jndi.ldap.object.disableEndpointIdentification=true \n    -Dcom.sun.jndi.ldapURLParsing=&quot;legacy&quot;\n</code></pre>\n"}],"owner":{"account_id":5931149,"reputation":137,"user_id":4665536,"accept_rate":60,"display_name":"John Fisher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684250235,"creation_date":1684245910,"question_id":76263992,"body_markdown":"\r\nOur company injects self-signed SSL certificates. Therefore, we need a custom cacerts file in Java applications to make connections out to the internet. Otherwise, we get certificate authority errors.\r\n\r\nWe are attempting to install Jenkins on our local Kubernetes cluster using the Jenkins Helm chart (https://artifacthub.io/packages/helm/jenkinsci/jenkins), which comes with it&#39;s own Java VM. When Jenkins starts up, it is reaching out to the updats.jenkins.io, and failing with an error of:\r\n\r\n```\r\nUnable to retrieve JSON from https://updates.jenkins.io/update-center.json?version=2.387.1:\r\nPKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException:\r\nunable to find valid certification path to requested target\r\n```\r\n\r\nI&#39;m guessing that replacing the cacerts file in the included Java VM will fix the problem, but I&#39;m not sure how to do it. How do you modify files on Docker image that are referenced by a Helm chart?\r\n\r\nAny ideas out there?\r\n","title":"Jenkins Helm container and custom cacerts","body":"<p>Our company injects self-signed SSL certificates. Therefore, we need a custom cacerts file in Java applications to make connections out to the internet. Otherwise, we get certificate authority errors.</p>\n<p>We are attempting to install Jenkins on our local Kubernetes cluster using the Jenkins Helm chart (<a href=\"https://artifacthub.io/packages/helm/jenkinsci/jenkins\" rel=\"nofollow noreferrer\">https://artifacthub.io/packages/helm/jenkinsci/jenkins</a>), which comes with it's own Java VM. When Jenkins starts up, it is reaching out to the updats.jenkins.io, and failing with an error of:</p>\n<pre><code>Unable to retrieve JSON from https://updates.jenkins.io/update-center.json?version=2.387.1:\nPKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException:\nunable to find valid certification path to requested target\n</code></pre>\n<p>I'm guessing that replacing the cacerts file in the included Java VM will fix the problem, but I'm not sure how to do it. How do you modify files on Docker image that are referenced by a Helm chart?</p>\n<p>Any ideas out there?</p>\n"},{"tags":["java","cdi","quarkus","custom-scope"],"comments":[{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":0,"creation_date":1684228213,"post_id":76261145,"comment_id":134483333,"body_markdown":"I&#39;m not sure you need the `CustomScopeBuildItem`, registering the context should be enough. What I&#39;m sure you _do_ need is to call the `done()` method on the `ContextConfigurator` -- without that, your custom context will not be registered.","body":"I&#39;m not sure you need the <code>CustomScopeBuildItem</code>, registering the context should be enough. What I&#39;m sure you <i>do</i> need is to call the <code>done()</code> method on the <code>ContextConfigurator</code> -- without that, your custom context will not be registered."},{"owner":{"account_id":6963528,"reputation":6523,"user_id":5342297,"display_name":"Siliarus"},"score":1,"creation_date":1684228923,"post_id":76261145,"comment_id":134483528,"body_markdown":"What you are doing seems correct in terms of context registration. If you try to retrieve a `Bean` object and query it for the scope, which scope are you seeing? I.e. try something like this: `Arc.container().instance(AtomicLong.class).getBean().getScope();`\nAlso, have you checked if your Quarkus extensions is invoked and registration methods (`registerContext` and `customScope`) are called during build?","body":"What you are doing seems correct in terms of context registration. If you try to retrieve a <code>Bean</code> object and query it for the scope, which scope are you seeing? I.e. try something like this: <code>Arc.container().instance(AtomicLong.class).getBean().getScop&zwnj;&#8203;e();</code> Also, have you checked if your Quarkus extensions is invoked and registration methods (<code>registerContext</code> and <code>customScope</code>) are called during build?"},{"owner":{"account_id":6963528,"reputation":6523,"user_id":5342297,"display_name":"Siliarus"},"score":0,"creation_date":1684229064,"post_id":76261145,"comment_id":134483564,"body_markdown":"The `CustomScopeBuildItem` allows the newly added context annotation to be recognized as bean defining annotation so it&#39;s better to have it there. Good point about calling `done()` though!","body":"The <code>CustomScopeBuildItem</code> allows the newly added context annotation to be recognized as bean defining annotation so it&#39;s better to have it there. Good point about calling <code>done()</code> though!"},{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":1,"creation_date":1684229626,"post_id":76261145,"comment_id":134483688,"body_markdown":"OK, both my suggestions above are wrong. I believe ArC internally wouldn&#39;t need a second declaration of custom scope, registering custom context should be enough, but there are other parts of Quarkus that do require the `CustomScopeBuildItem` to be produced. So certainly keep that. Also calling `done()` doesn&#39;t seem to be necessary, as Quarkus will do that automatically (in `ArcProcessor.registerBeans()`). So the issue must be somewhere else.","body":"OK, both my suggestions above are wrong. I believe ArC internally wouldn&#39;t need a second declaration of custom scope, registering custom context should be enough, but there are other parts of Quarkus that do require the <code>CustomScopeBuildItem</code> to be produced. So certainly keep that. Also calling <code>done()</code> doesn&#39;t seem to be necessary, as Quarkus will do that automatically (in <code>ArcProcessor.registerBeans()</code>). So the issue must be somewhere else."},{"owner":{"account_id":3580881,"reputation":5050,"user_id":2989136,"accept_rate":79,"display_name":"Herr Derb"},"score":0,"creation_date":1684230105,"post_id":76261145,"comment_id":134483803,"body_markdown":"I just gave it a try with `Arc.container().instance(AtomicLong.class).getBean().getScope();` It actually says it is TenantScoped, which would be correct. But still my context implementation is not getting called. No stop on breakpoints or log point hits. As said, it does work with `QuarkusUnitTest` which makes the whole thing more wierd.","body":"I just gave it a try with <code>Arc.container().instance(AtomicLong.class).getBean().getScop&zwnj;&#8203;e();</code> It actually says it is TenantScoped, which would be correct. But still my context implementation is not getting called. No stop on breakpoints or log point hits. As said, it does work with <code>QuarkusUnitTest</code> which makes the whole thing more wierd."},{"owner":{"account_id":6963528,"reputation":6523,"user_id":5342297,"display_name":"Siliarus"},"score":1,"creation_date":1684231423,"post_id":76261145,"comment_id":134484109,"body_markdown":"That would indicate the scope gets registered correctly. We might need a small GH reproducer project to be able to look into your impl and what happens there.","body":"That would indicate the scope gets registered correctly. We might need a small GH reproducer project to be able to look into your impl and what happens there."},{"owner":{"account_id":3580881,"reputation":5050,"user_id":2989136,"accept_rate":79,"display_name":"Herr Derb"},"score":0,"creation_date":1684247028,"post_id":76261145,"comment_id":134488106,"body_markdown":"I&#39;ve build a reproducer and while doing that figured out, that it is a problem when producing a `AtomicLong` bean. Switching the type to a custom type makes the whole thing working as expected. So I think it is an issue/behaviour of the CDI with certain types. Does that ring any bell?","body":"I&#39;ve build a reproducer and while doing that figured out, that it is a problem when producing a <code>AtomicLong</code> bean. Switching the type to a custom type makes the whole thing working as expected. So I think it is an issue/behaviour of the CDI with certain types. Does that ring any bell?"},{"owner":{"account_id":3580881,"reputation":5050,"user_id":2989136,"accept_rate":79,"display_name":"Herr Derb"},"score":0,"creation_date":1684249990,"post_id":76261145,"comment_id":134488942,"body_markdown":"@Siliarus I ended up opening an issue: https://github.com/quarkusio/quarkus/issues/33417","body":"@Siliarus I ended up opening an issue: <a href=\"https://github.com/quarkusio/quarkus/issues/33417\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/issues/33417</a>"}],"owner":{"account_id":3580881,"reputation":5050,"user_id":2989136,"accept_rate":79,"display_name":"Herr Derb"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684250070,"creation_date":1684227648,"question_id":76261145,"body_markdown":"I have a custom `@InjectableContext` which I register during my build step\r\n\r\n```\r\n    @BuildStep\r\n    ContextConfiguratorBuildItem registerContext(ContextRegistrationPhaseBuildItem contextRegistrationPhase) {\r\n        return new ContextConfiguratorBuildItem(\r\n            contextRegistrationPhase.getContext().configure(TenantScoped.class).normal().contextClass(TenantScopeContext.class));\r\n    }\r\n\r\n    @BuildStep\r\n    CustomScopeBuildItem customScope() {\r\n        return new CustomScopeBuildItem(TenantScoped.class);\r\n    }\r\n```\r\n\r\nThe annotation looks like this\r\n```\r\n@NormalScope\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ElementType.TYPE, ElementType.METHOD, ElementType.FIELD})\r\npublic @interface TenantScoped {}\r\n```\r\n\r\nWhen I run a `QuarkusUnitTest` in my deployment module, the context seems to work and is beeing applied. The get(..) methods of the injectable context implementation are called.\r\n\r\nWhen I add the extension to an actual application, it seems not to work anymore. With `@TenantScope` annotated beans are produced as regular `@ApplicationScoped`, with my custom injectable context completely skipped.\r\n\r\nMy test service looks like this:\r\n```\r\n@ApplicationScoped\r\npublic class Service {\r\n\r\n    @Inject\r\n    @Named(&quot;tenantLong&quot;)\r\n    AtomicLong tenantScopedString;\r\n\r\n    public void setLong(long number) {\r\n        tenantScopedString.set(number);\r\n    }\r\n\r\n    public long getLong() {\r\n        return tenantScopedString.get();\r\n    }\r\n\r\n    @TenantScoped\r\n    @Named(&quot;tenantLong&quot;)\r\n    @Produces\r\n    AtomicLong tenantLong() {\r\n        return new AtomicLong(-1);\r\n    }\r\n}\r\n```\r\n\r\nI had a look at the implementation of the `io.quarkus.narayana.jta.runtime.context.TransactionContext` which seems to be done exactly the same way. So apparently something must be wrong or missing with my implementation.\r\n\r\nIs there any obvious mistake or is there a detail somewhere else which I might have missed?\r\n\r\nEDIT\r\nThe issue is the bean type which I am using here. Somehow when using a type like `AtomicLong` it does skip the context implementation. Pobably know more soon: https://github.com/quarkusio/quarkus/issues/33417","title":"My custom &quot;cdi&quot; context is not getting applied/ called","body":"<p>I have a custom <code>@InjectableContext</code> which I register during my build step</p>\n<pre><code>    @BuildStep\n    ContextConfiguratorBuildItem registerContext(ContextRegistrationPhaseBuildItem contextRegistrationPhase) {\n        return new ContextConfiguratorBuildItem(\n            contextRegistrationPhase.getContext().configure(TenantScoped.class).normal().contextClass(TenantScopeContext.class));\n    }\n\n    @BuildStep\n    CustomScopeBuildItem customScope() {\n        return new CustomScopeBuildItem(TenantScoped.class);\n    }\n</code></pre>\n<p>The annotation looks like this</p>\n<pre><code>@NormalScope\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.TYPE, ElementType.METHOD, ElementType.FIELD})\npublic @interface TenantScoped {}\n</code></pre>\n<p>When I run a <code>QuarkusUnitTest</code> in my deployment module, the context seems to work and is beeing applied. The get(..) methods of the injectable context implementation are called.</p>\n<p>When I add the extension to an actual application, it seems not to work anymore. With <code>@TenantScope</code> annotated beans are produced as regular <code>@ApplicationScoped</code>, with my custom injectable context completely skipped.</p>\n<p>My test service looks like this:</p>\n<pre><code>@ApplicationScoped\npublic class Service {\n\n    @Inject\n    @Named(&quot;tenantLong&quot;)\n    AtomicLong tenantScopedString;\n\n    public void setLong(long number) {\n        tenantScopedString.set(number);\n    }\n\n    public long getLong() {\n        return tenantScopedString.get();\n    }\n\n    @TenantScoped\n    @Named(&quot;tenantLong&quot;)\n    @Produces\n    AtomicLong tenantLong() {\n        return new AtomicLong(-1);\n    }\n}\n</code></pre>\n<p>I had a look at the implementation of the <code>io.quarkus.narayana.jta.runtime.context.TransactionContext</code> which seems to be done exactly the same way. So apparently something must be wrong or missing with my implementation.</p>\n<p>Is there any obvious mistake or is there a detail somewhere else which I might have missed?</p>\n<p>EDIT\nThe issue is the bean type which I am using here. Somehow when using a type like <code>AtomicLong</code> it does skip the context implementation. Pobably know more soon: <a href=\"https://github.com/quarkusio/quarkus/issues/33417\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/issues/33417</a></p>\n"},{"tags":["java","spring","spring-boot","pageable"],"comments":[{"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"score":0,"creation_date":1684241943,"post_id":76263222,"comment_id":134486592,"body_markdown":"Did you try the solution mentioned here? https://stackoverflow.com/questions/33675349/spring-data-rest-max-page-size-does-not-seem-to-be-working","body":"Did you try the solution mentioned here? <a href=\"https://stackoverflow.com/questions/33675349/spring-data-rest-max-page-size-does-not-seem-to-be-working\" title=\"spring data rest max page size does not seem to be working\">stackoverflow.com/questions/33675349/&hellip;</a>"},{"owner":{"account_id":20962427,"reputation":25,"user_id":15401560,"display_name":"Vitaliy"},"score":0,"creation_date":1684244863,"post_id":76263222,"comment_id":134487448,"body_markdown":"@Joan, yes. It doesn&#39;t work. But thank you.","body":"@Joan, yes. It doesn&#39;t work. But thank you."}],"answers":[{"tags":[],"owner":{"account_id":20962427,"reputation":25,"user_id":15401560,"display_name":"Vitaliy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684250055,"creation_date":1684250055,"answer_id":76264651,"question_id":76263222,"body_markdown":"Thank you, guys. I&#39;ve found a solution. \r\nI had a config class with following code:\r\n\r\n    @Override\r\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\r\n        argumentResolvers.add(new SpecificationArgumentResolver(abstractApplicationContext));\r\n        argumentResolvers.add(new PageableHandlerMethodArgumentResolver());\r\n    }\r\n\r\nYou can see here \r\n\r\n&gt; PageableHandlerMethodArgumentResolver\r\n\r\nWhich I tried to change. I think it was a problem why my other configuration classes didn&#39;t work. \r\nAs I changed that code to: \r\n\r\n    @Override\r\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\r\n        argumentResolvers.add(new SpecificationArgumentResolver(abstractApplicationContext));\r\n        PageableHandlerMethodArgumentResolver pageableHandlerMethodArgumentResolver = new PageableHandlerMethodArgumentResolver();\r\n        pageableHandlerMethodArgumentResolver.setMaxPageSize(100_000);\r\n        argumentResolvers.add(pageableHandlerMethodArgumentResolver);\r\n    }\r\n\r\nNow everything works fine. Thanks again!","title":"How to change Pageable defaulte maxSize behaviour?","body":"<p>Thank you, guys. I've found a solution.\nI had a config class with following code:</p>\n<pre><code>@Override\npublic void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\n    argumentResolvers.add(new SpecificationArgumentResolver(abstractApplicationContext));\n    argumentResolvers.add(new PageableHandlerMethodArgumentResolver());\n}\n</code></pre>\n<p>You can see here</p>\n<blockquote>\n<p>PageableHandlerMethodArgumentResolver</p>\n</blockquote>\n<p>Which I tried to change. I think it was a problem why my other configuration classes didn't work.\nAs I changed that code to:</p>\n<pre><code>@Override\npublic void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\n    argumentResolvers.add(new SpecificationArgumentResolver(abstractApplicationContext));\n    PageableHandlerMethodArgumentResolver pageableHandlerMethodArgumentResolver = new PageableHandlerMethodArgumentResolver();\n    pageableHandlerMethodArgumentResolver.setMaxPageSize(100_000);\n    argumentResolvers.add(pageableHandlerMethodArgumentResolver);\n}\n</code></pre>\n<p>Now everything works fine. Thanks again!</p>\n"}],"owner":{"account_id":20962427,"reputation":25,"user_id":15401560,"display_name":"Vitaliy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684250055,"creation_date":1684241454,"question_id":76263222,"body_markdown":"everyone. I have a controller with Specification and Pageable parameters. If I need to return data form db in a usual way - everything works fine. I get my data by 20 size pages. Like this:\r\n  \r\n\r\n        ............\r\n        &quot;totalElements&quot;: 2612,\r\n        &quot;totalPages&quot;: 131,\r\n        &quot;last&quot;: false,\r\n        &quot;size&quot;: 20,\r\n        &quot;number&quot;: 0,\r\n\r\n\r\nBut also, I need to return all my elements. Acording to the example, if I get totalElements: 2612 - I want to get all 2612. \r\nAs I understant, Spring has default max-page-size = 2000. Because of it, If I have a query with size = 2612\r\n\r\n    http://localhost:7038/api/get-journal/2c9a508179b2933a0179b2be69fd0003?yearReg=2023&amp;page=0&amp;size=2612\r\n\r\nI get an answer : \r\n\r\n        &quot;totalElements&quot;: 2612,\r\n        &quot;totalPages&quot;: 2,\r\n        &quot;last&quot;: false,\r\n        &quot;size&quot;: 2000,\r\n\r\n\r\nYou can see, that instead of 2612, I have 2000 and two pages. \r\n\r\nSimilar problems didn&#39;t help me:\r\n\r\n    https://stackoverflow.com/questions/23751193/spring-data-jpa-limit-pagesize-how-to-set-to-maxsize\r\n\r\nI&#39;ve already tried to create ConfigClass or add into app.properties : `spring.data.web.pageable.max-page-size=10000\r\nor\r\nspring.data.web.pageable.max-page-size=10000`\r\n\r\nI use Spring Boot 2.3.3.\r\n\r\n**EDIT**\r\nI get a changed variable even in my rest controller: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XcASU.png","title":"How to change Pageable defaulte maxSize behaviour?","body":"<p>everyone. I have a controller with Specification and Pageable parameters. If I need to return data form db in a usual way - everything works fine. I get my data by 20 size pages. Like this:</p>\n<pre><code>    ............\n    &quot;totalElements&quot;: 2612,\n    &quot;totalPages&quot;: 131,\n    &quot;last&quot;: false,\n    &quot;size&quot;: 20,\n    &quot;number&quot;: 0,\n</code></pre>\n<p>But also, I need to return all my elements. Acording to the example, if I get totalElements: 2612 - I want to get all 2612.\nAs I understant, Spring has default max-page-size = 2000. Because of it, If I have a query with size = 2612</p>\n<pre><code>http://localhost:7038/api/get-journal/2c9a508179b2933a0179b2be69fd0003?yearReg=2023&amp;page=0&amp;size=2612\n</code></pre>\n<p>I get an answer :</p>\n<pre><code>    &quot;totalElements&quot;: 2612,\n    &quot;totalPages&quot;: 2,\n    &quot;last&quot;: false,\n    &quot;size&quot;: 2000,\n</code></pre>\n<p>You can see, that instead of 2612, I have 2000 and two pages.</p>\n<p>Similar problems didn't help me:</p>\n<pre><code>https://stackoverflow.com/questions/23751193/spring-data-jpa-limit-pagesize-how-to-set-to-maxsize\n</code></pre>\n<p>I've already tried to create ConfigClass or add into app.properties : <code>spring.data.web.pageable.max-page-size=10000 or spring.data.web.pageable.max-page-size=10000</code></p>\n<p>I use Spring Boot 2.3.3.</p>\n<p><strong>EDIT</strong>\nI get a changed variable even in my rest controller:</p>\n<p><a href=\"https://i.stack.imgur.com/XcASU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XcASU.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","multithreading","apache-camel"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1684249945,"post_id":76264627,"comment_id":134488925,"body_markdown":"I suppose you could use a `ThreadLocal`...","body":"I suppose you could use a <code>ThreadLocal</code>..."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1684250305,"post_id":76264627,"comment_id":134489035,"body_markdown":"“Since I can&#39;t fix the the &quot;thread-unsafety&quot; of myResource” — but you can. If nothing else, `synchronize` every method on your resource.","body":"“Since I can&#39;t fix the the &quot;thread-unsafety&quot; of myResource” — but you can. If nothing else, <code>synchronize</code> every method on your resource."},{"owner":{"account_id":8584769,"reputation":111,"user_id":6431293,"display_name":"Alef"},"score":0,"creation_date":1684251359,"post_id":76264627,"comment_id":134489355,"body_markdown":"@BasilBourque : well, if that&#39;s the only answer, I might as well just configure my app so that Camel-Jetty is restrict to use only a single thread, that should be roughly the same performance but with less risks of interlocking.","body":"@BasilBourque : well, if that&#39;s the only answer, I might as well just configure my app so that Camel-Jetty is restrict to use only a single thread, that should be roughly the same performance but with less risks of interlocking."},{"owner":{"account_id":8584769,"reputation":111,"user_id":6431293,"display_name":"Alef"},"score":0,"creation_date":1684251463,"post_id":76264627,"comment_id":134489379,"body_markdown":"@Jorn : Never heard of it until now, but it seems pretty useful. I&#39;m however not sure of how to access the threads used by Apache Camel, so I don&#39;t know where I could place one of those ThreadLocal variables.","body":"@Jorn : Never heard of it until now, but it seems pretty useful. I&#39;m however not sure of how to access the threads used by Apache Camel, so I don&#39;t know where I could place one of those ThreadLocal variables."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1684252418,"post_id":76264627,"comment_id":134489639,"body_markdown":"@Alef You don&#39;t have to manage that yourself, ThreadLocal will use the current thread automatically.","body":"@Alef You don&#39;t have to manage that yourself, ThreadLocal will use the current thread automatically."}],"owner":{"account_id":8584769,"reputation":111,"user_id":6431293,"display_name":"Alef"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684249851,"creation_date":1684249851,"question_id":76264627,"body_markdown":"I have a web service based on Camel that can be summarised like this in Java DSL :\r\n\r\n```\r\npublic class MyRoute extends RouteBuilder {\r\n\t\r\n\t@Override\r\n\tpublic void configure() throws Exception {\r\n\t\tMyResource myResource = new MyResource();\r\n\t\t\r\n\t\tfrom(&quot;jetty:...&quot;)\r\n\t\t\t.setHeader(&quot;myResource&quot;, constant(myResource))\r\n\t\t\t.bean(MyProcessor.class)\r\n\t\t;\r\n\t}\r\n}\r\n```\r\n\r\n\r\nThe data stored in `myResource` is necessary for the processing in the bean `MyProcessor`.\r\n\r\nThe initialisation of `myResource` can be quite long (few seconds), so I want to prepare it ahead of time when the app is starting, rather than initialising a throwaway copy at runtime every time there is a request on the service (aiming for milliseconds response times).\r\n\r\nThe code above worked fine when I was the only user of the service, but after doing some automated load testing, it appeared that some parts of `myResource` that are beyond my reach (external libraries) are not thread-safe.\r\n\r\nSince I can&#39;t fix the the &quot;thread-unsafety&quot; of `myResource`, I was hoping for a way to instantiate *N* distinct copies of `myResource`, so that each Camel-Jetty thread can use safely their own copy of `myResource`, but I didn&#39;t find any info on doing that in the documentation page about threads : https://camel.apache.org/manual/threading-model.html  \r\n\r\nHas anyone encountered and solved that issue before?\r\n\r\n","title":"Apache Camel : is there a way to reuse resources that aren&#39;t thread-safe in a threaded environment?","body":"<p>I have a web service based on Camel that can be summarised like this in Java DSL :</p>\n<pre><code>public class MyRoute extends RouteBuilder {\n    \n    @Override\n    public void configure() throws Exception {\n        MyResource myResource = new MyResource();\n        \n        from(&quot;jetty:...&quot;)\n            .setHeader(&quot;myResource&quot;, constant(myResource))\n            .bean(MyProcessor.class)\n        ;\n    }\n}\n</code></pre>\n<p>The data stored in <code>myResource</code> is necessary for the processing in the bean <code>MyProcessor</code>.</p>\n<p>The initialisation of <code>myResource</code> can be quite long (few seconds), so I want to prepare it ahead of time when the app is starting, rather than initialising a throwaway copy at runtime every time there is a request on the service (aiming for milliseconds response times).</p>\n<p>The code above worked fine when I was the only user of the service, but after doing some automated load testing, it appeared that some parts of <code>myResource</code> that are beyond my reach (external libraries) are not thread-safe.</p>\n<p>Since I can't fix the the &quot;thread-unsafety&quot; of <code>myResource</code>, I was hoping for a way to instantiate <em>N</em> distinct copies of <code>myResource</code>, so that each Camel-Jetty thread can use safely their own copy of <code>myResource</code>, but I didn't find any info on doing that in the documentation page about threads : <a href=\"https://camel.apache.org/manual/threading-model.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/manual/threading-model.html</a></p>\n<p>Has anyone encountered and solved that issue before?</p>\n"},{"tags":["java","equals","hashcode","equality","auto-value"],"comments":[{"owner":{"display_name":"user5182794"},"score":1,"creation_date":1530141806,"post_id":51072644,"comment_id":89135033,"body_markdown":"Im pretty sure 10^6+3 is a prime, which makes it less likely for a hash collision to happen than a composite number.","body":"Im pretty sure 10^6+3 is a prime, which makes it less likely for a hash collision to happen than a composite number."},{"owner":{"account_id":2434272,"reputation":696,"user_id":2124562,"display_name":"tune5ths"},"score":2,"creation_date":1530142562,"post_id":51072644,"comment_id":89135182,"body_markdown":"A prime number is needed to avoid hash collisions as @AJC mentions.  My guess is someone might have decided to &quot;use the 1st prime number over a million&quot; for possibly arbitrary reasons.  It would be interesting to know if there is a deeper reason.","body":"A prime number is needed to avoid hash collisions as @AJC mentions.  My guess is someone might have decided to &quot;use the 1st prime number over a million&quot; for possibly arbitrary reasons.  It would be interesting to know if there is a deeper reason."},{"owner":{"account_id":3335571,"reputation":3834,"user_id":2809294,"accept_rate":56,"display_name":"ARK"},"score":0,"creation_date":1530143159,"post_id":51072644,"comment_id":89135300,"body_markdown":"yeah, that seems like a googly thing to do..","body":"yeah, that seems like a googly thing to do.."},{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1684166723,"post_id":51072644,"comment_id":134474001,"body_markdown":"Note that Java&#39;s [`Object.hash`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Objects.html#hashCode(java.lang.Object)), [`Arrays.hashCode`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#hashCode(java.lang.Object%5B%5D)) and [`List.hashCode`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#hashCode()) all use the same implementation with 31 as their prime number.  If that&#39;s what Java is using, I suspect there&#39;s no benefit to 1000003 instead of 31.","body":"Note that Java&#39;s <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Objects.html#hashCode(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>Object.hash</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#hashCode(java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\"><code>Arrays.hashCode</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#hashCode()\" rel=\"nofollow noreferrer\"><code>List.hashCode</code></a> all use the same implementation with 31 as their prime number.  If that&#39;s what Java is using, I suspect there&#39;s no benefit to 1000003 instead of 31."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1684166824,"post_id":51072644,"comment_id":134474035,"body_markdown":"@M.Justin: &quot;why was this chosen&quot; questions are notoriously hard to do on SO, because they tend to not have &quot;correct&quot; answers unless the designers themselves show up. My suggestion is to contact the authors of the code directly and ask if anyone can remember the specific reasons for choosing that number.","body":"@M.Justin: &quot;why was this chosen&quot; questions are notoriously hard to do on SO, because they tend to not have &quot;correct&quot; answers unless the designers themselves show up. My suggestion is to contact the authors of the code directly and ask if anyone can remember the specific reasons for choosing that number."},{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1684167360,"post_id":51072644,"comment_id":134474161,"body_markdown":"@JoachimSauer Fair enough.  One thing that&#39;s not always apparent as a Stack Overflow curator is whether a question should be reopened because its close reason is invalid, or whether it should remain closed because although its close reason is invalid, it is still not a good fit for the site for other reasons.  I don&#39;t think Stack Overflow currently has a good solution to this problem, since people don&#39;t want to waste their time reopening and reclosing a question closed for the wrong reason.  Though maybe that&#39;s actually implemented now: https://meta.stackexchange.com/a/382937/308327.","body":"@JoachimSauer Fair enough.  One thing that&#39;s not always apparent as a Stack Overflow curator is whether a question should be reopened because its close reason is invalid, or whether it should remain closed because although its close reason is invalid, it is still not a good fit for the site for other reasons.  I don&#39;t think Stack Overflow currently has a good solution to this problem, since people don&#39;t want to waste their time reopening and reclosing a question closed for the wrong reason.  Though maybe that&#39;s actually implemented now: <a href=\"https://meta.stackexchange.com/a/382937/308327\">meta.stackexchange.com/a/382937/308327</a>."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1684167588,"post_id":51072644,"comment_id":134474217,"body_markdown":"True, I&#39;ve run into this issue myself a few times and usually simply stop interacting with the question ;-) Unrelated, I was curious if the history of autovalue gives a hint as to the answer of this question, but it seems that all public history of this project already contained that magic constant: https://github.com/google/auto/commit/d67532c38d7fb39906b2ee7de6567e6c2620ca2e","body":"True, I&#39;ve run into this issue myself a few times and usually simply stop interacting with the question ;-) Unrelated, I was curious if the history of autovalue gives a hint as to the answer of this question, but it seems that all public history of this project already contained that magic constant: <a href=\"https://github.com/google/auto/commit/d67532c38d7fb39906b2ee7de6567e6c2620ca2e\" rel=\"nofollow noreferrer\">github.com/google/auto/commit/&hellip;</a>"},{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1684167664,"post_id":51072644,"comment_id":134474230,"body_markdown":"@JoachimSauer Yep, that&#39;s where my personal investigations stalled out as well.  &quot;An initial import of @autovalue&quot;","body":"@JoachimSauer Yep, that&#39;s where my personal investigations stalled out as well.  &quot;An initial import of @autovalue&quot;"},{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":1,"creation_date":1684174830,"post_id":51072644,"comment_id":134475771,"body_markdown":"@JoachimSauer Your advice has been followed, authors have been asked, and an explanation has been given: https://github.com/google/auto/discussions/1516.  Kevin Bourrillion: &quot;use a hash calculation that was found by [another person] to perform far better than `*31+`&quot;; &quot;[…] I don&#39;t remember the details […] shift things over a golden-ratio fraction of the way. […] I guess I also thought it should be a nice simple number to the human eye. […] the idea of making it bigger was just to eat up all those initial zeros more quickly and get the bits to come back around and interfere with each other.&quot;","body":"@JoachimSauer Your advice has been followed, authors have been asked, and an explanation has been given: <a href=\"https://github.com/google/auto/discussions/1516\" rel=\"nofollow noreferrer\">github.com/google/auto/discussions/1516</a>.  Kevin Bourrillion: &quot;use a hash calculation that was found by [another person] to perform far better than <code>*31+</code>&quot;; &quot;[…] I don&#39;t remember the details […] shift things over a golden-ratio fraction of the way. […] I guess I also thought it should be a nice simple number to the human eye. […] the idea of making it bigger was just to eat up all those initial zeros more quickly and get the bits to come back around and interfere with each other.&quot;"},{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1684174861,"post_id":51072644,"comment_id":134475782,"body_markdown":"@JoachimSauer Which means that in addition to not being a duplicate, this question now has a concrete answer that can be given.  Which I&#39;d say argues much more strongly for reopening the question.","body":"@JoachimSauer Which means that in addition to not being a duplicate, this question now has a concrete answer that can be given.  Which I&#39;d say argues much more strongly for reopening the question."},{"owner":{"account_id":540420,"reputation":6131,"user_id":908621,"accept_rate":61,"display_name":"fishinear"},"score":0,"creation_date":1684235697,"post_id":51072644,"comment_id":134485036,"body_markdown":"Just a guess: when using 31 as multiplier, the number pairs (0, 31) and (1, 0) produce the same hash code. By using a prime number that is larger than the typical numbers that are hashed, there is less chance of such a conflict.","body":"Just a guess: when using 31 as multiplier, the number pairs (0, 31) and (1, 0) produce the same hash code. By using a prime number that is larger than the typical numbers that are hashed, there is less chance of such a conflict."}],"answers":[{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684249809,"creation_date":1684249809,"answer_id":76264617,"question_id":51072644,"body_markdown":"According to [an internal Google commit](https://github.com/google/auto/discussions/1516#discussioncomment-5907729), 1000003 was chosen because a former Google employee found it to perform better than 31:\r\n\r\n&gt; use a hash calculation that was found by [another person] to perform far better than `*31+`\r\n\r\nWhen asked about this, AutoValue developer Kevin Bourrillion [explained reasons the number might have been chosen](https://github.com/google/auto/discussions/1516#discussioncomment-5907978):\r\n\r\n&gt; Although I don&#39;t remember the details.... it is kind of exactly like me to shift things over a golden-ratio fraction of the way. Though that might argue for a multiplier of 898,459, so I guess I also thought it should be a nice simple number to the human eye.\r\n&gt;\r\n&gt; But yeah, the idea of making it bigger was just to eat up all those initial zeros more quickly and get the bits to come back around and interfere with each other.\r\n\r\nHe also pointed out that a larger number reduces the chance of a hash collision in real-world scenarios:\r\n\r\n&gt; Also: (using `Integers` for simplicity) with `List.of(a, b)` and `List.of(c, d)` you get a collision if `b - d` happens to be 31 times `c - a`. And it&#39;s just a little easier to imagine real-world circumstances where that might happen to be true than it is with a much larger multiplier. No exact science here, though. `Object.hashCode` is never exactly going to be a high-quality hash function in any case.","title":"Why @AutoValue annotation uses the specific integer 1000003 for calculating hash code?","body":"<p>According to <a href=\"https://github.com/google/auto/discussions/1516#discussioncomment-5907729\" rel=\"nofollow noreferrer\">an internal Google commit</a>, 1000003 was chosen because a former Google employee found it to perform better than 31:</p>\n<blockquote>\n<p>use a hash calculation that was found by [another person] to perform far better than <code>*31+</code></p>\n</blockquote>\n<p>When asked about this, AutoValue developer Kevin Bourrillion <a href=\"https://github.com/google/auto/discussions/1516#discussioncomment-5907978\" rel=\"nofollow noreferrer\">explained reasons the number might have been chosen</a>:</p>\n<blockquote>\n<p>Although I don't remember the details.... it is kind of exactly like me to shift things over a golden-ratio fraction of the way. Though that might argue for a multiplier of 898,459, so I guess I also thought it should be a nice simple number to the human eye.</p>\n<p>But yeah, the idea of making it bigger was just to eat up all those initial zeros more quickly and get the bits to come back around and interfere with each other.</p>\n</blockquote>\n<p>He also pointed out that a larger number reduces the chance of a hash collision in real-world scenarios:</p>\n<blockquote>\n<p>Also: (using <code>Integers</code> for simplicity) with <code>List.of(a, b)</code> and <code>List.of(c, d)</code> you get a collision if <code>b - d</code> happens to be 31 times <code>c - a</code>. And it's just a little easier to imagine real-world circumstances where that might happen to be true than it is with a much larger multiplier. No exact science here, though. <code>Object.hashCode</code> is never exactly going to be a high-quality hash function in any case.</p>\n</blockquote>\n"}],"owner":{"account_id":3335571,"reputation":3834,"user_id":2809294,"accept_rate":56,"display_name":"ARK"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1684249809,"creation_date":1530141298,"question_id":51072644,"body_markdown":"Java hash code generation code often uses prime numbers in its calculations.  There are good reasons for this, as explained in https://stackoverflow.com/questions/3613102/why-use-a-prime-number-in-hashcode and elsewhere.\r\n\r\nFor example, [AutoValue](https://github.com/google/auto/tree/main/value) will generate the following hash code for a given value class:\r\n\r\n```lang-java\r\n@Override\r\npublic int hashCode() {\r\n  int h = 1;\r\n  h *= 1000003;\r\n  h ^= this.firstName.hashCode();\r\n  h *= 1000003;\r\n  h ^= this.lastName.hashCode();\r\n  h *= 1000003;\r\n  h ^= this.age;\r\n  return h;\r\n}\r\n```\r\n\r\nWhat is the reason behind AutoValue using the specific integer `1000003` instead of some other prime number? If I use IntelliJ to create an overridden `hashCode` method, it uses integer `31`.  Is there some logical and mathematical reasoning behind using the integer `1000003` to calculate hash codes, rather than some other prime number?  A Google search did not give me any answer to this.\r\n\r\nIts curious to know what the authors were thinking.\r\n","title":"Why @AutoValue annotation uses the specific integer 1000003 for calculating hash code?","body":"<p>Java hash code generation code often uses prime numbers in its calculations.  There are good reasons for this, as explained in <a href=\"https://stackoverflow.com/questions/3613102/why-use-a-prime-number-in-hashcode\">Why use a prime number in hashCode?</a> and elsewhere.</p>\n<p>For example, <a href=\"https://github.com/google/auto/tree/main/value\" rel=\"nofollow noreferrer\">AutoValue</a> will generate the following hash code for a given value class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic int hashCode() {\n  int h = 1;\n  h *= 1000003;\n  h ^= this.firstName.hashCode();\n  h *= 1000003;\n  h ^= this.lastName.hashCode();\n  h *= 1000003;\n  h ^= this.age;\n  return h;\n}\n</code></pre>\n<p>What is the reason behind AutoValue using the specific integer <code>1000003</code> instead of some other prime number? If I use IntelliJ to create an overridden <code>hashCode</code> method, it uses integer <code>31</code>.  Is there some logical and mathematical reasoning behind using the integer <code>1000003</code> to calculate hash codes, rather than some other prime number?  A Google search did not give me any answer to this.</p>\n<p>Its curious to know what the authors were thinking.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1684237979,"post_id":76262175,"comment_id":134485523,"body_markdown":"I just wonder why you want to do this; specifically why you want to wait for a tab to be selected to load its content. This might create a poor UX as there will potentially be slight pauses before the UI appears after the user changes tabs. Why not just load the content for all the tabs immediately?","body":"I just wonder why you want to do this; specifically why you want to wait for a tab to be selected to load its content. This might create a poor UX as there will potentially be slight pauses before the UI appears after the user changes tabs. Why not just load the content for all the tabs immediately?"},{"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"score":0,"creation_date":1684239475,"post_id":76262175,"comment_id":134485920,"body_markdown":"The idea is good. I just don&#39;t understand now how can I switch to another Scene if I have it in another fxml file without loading it?","body":"The idea is good. I just don&#39;t understand now how can I switch to another Scene if I have it in another fxml file without loading it?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1684243481,"post_id":76262175,"comment_id":134487052,"body_markdown":"If you mean you have the content of each tab in a different FXML file, just use [`&lt;fx:include&gt;`](https://openjfx.io/javadoc/20/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#include_elements). I don&#39;t really know what you mean by &quot;switch to another Scene&quot; in this context.","body":"If you mean you have the content of each tab in a different FXML file, just use <a href=\"https://openjfx.io/javadoc/20/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#include_elements\" rel=\"nofollow noreferrer\"><code>&lt;fx:include&gt;</code></a>. I don&#39;t really know what you mean by &quot;switch to another Scene&quot; in this context."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1684244146,"post_id":76262175,"comment_id":134487226,"body_markdown":"Is this what you are trying to do? https://stackoverflow.com/q/39164050/2189127","body":"Is this what you are trying to do? <a href=\"https://stackoverflow.com/q/39164050/2189127\">stackoverflow.com/q/39164050/2189127</a>"}],"answers":[{"tags":[],"owner":{"account_id":28588403,"reputation":31,"user_id":21888185,"display_name":"Mukul Jahagirdar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684236315,"creation_date":1684236315,"answer_id":76262473,"question_id":76262175,"body_markdown":"If you want to navigate and load another FXML on clicking on specific TabPane, you need to use the `setOnSelectionChanged` event handler for the desired tab. \r\n\r\n    public class ABC extends Application {\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        try {\r\n            TabPane tabPane = new TabPane();\r\n\r\n            Tab tab1 = new Tab(&quot;Tab 1&quot;);\r\n            tab1.setOnSelectionChanged(event -&gt; {\r\n                if (tab1.isSelected()) {\r\n                    loadFXML(&quot;file_1.fxml&quot;, tab1);\r\n                }\r\n            });\r\n\r\n            Tab tab2 = new Tab(&quot;Tab 2&quot;);\r\n            tab2.setOnSelectionChanged(event -&gt; {\r\n                if (tab2.isSelected()) {\r\n                    loadFXML(&quot;file_2.fxml&quot;, tab2);\r\n                }\r\n            });\r\n\r\n            tabPane.getTabs().addAll(tab1, tab2);\r\n\r\n            Scene scene = new Scene(tabPane, 400, 300);\r\n            primaryStage.setScene(scene);\r\n            primaryStage.show();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void loadFXML(String fxmlPath, Tab tab) {\r\n        try {\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(fxmlPath));\r\n            AnchorPane root = loader.load();\r\n\r\n            tab.setContent(root);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"How to make transition between tabs in JavaFX TabPane?","body":"<p>If you want to navigate and load another FXML on clicking on specific TabPane, you need to use the <code>setOnSelectionChanged</code> event handler for the desired tab.</p>\n<pre><code>public class ABC extends Application {\n\n@Override\npublic void start(Stage primaryStage) {\n    try {\n        TabPane tabPane = new TabPane();\n\n        Tab tab1 = new Tab(&quot;Tab 1&quot;);\n        tab1.setOnSelectionChanged(event -&gt; {\n            if (tab1.isSelected()) {\n                loadFXML(&quot;file_1.fxml&quot;, tab1);\n            }\n        });\n\n        Tab tab2 = new Tab(&quot;Tab 2&quot;);\n        tab2.setOnSelectionChanged(event -&gt; {\n            if (tab2.isSelected()) {\n                loadFXML(&quot;file_2.fxml&quot;, tab2);\n            }\n        });\n\n        tabPane.getTabs().addAll(tab1, tab2);\n\n        Scene scene = new Scene(tabPane, 400, 300);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\nprivate void loadFXML(String fxmlPath, Tab tab) {\n    try {\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(fxmlPath));\n        AnchorPane root = loader.load();\n\n        tab.setContent(root);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1684252421,"answer_count":1,"score":-1,"last_activity_date":1684249802,"creation_date":1684234293,"question_id":76262175,"body_markdown":"I have a TabPane with two Tabs and I want to load another FXML when I click on one Tab\r\n\r\n\r\n```\r\n&lt;TabPane fx:id=&quot;tabPaneGet&quot; layoutY=&quot;-7.0&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;560.0&quot; tabClosingPolicy=&quot;UNAVAILABLE&quot;&gt;\r\n              &lt;tabs&gt;\r\n                &lt;Tab disable=&quot;true&quot; text=&quot;Получить сообщение из очереди&quot;&gt;\r\n                  &lt;content&gt;\r\n                    &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;180.0&quot; prefWidth=&quot;200.0&quot; /&gt;\r\n                  &lt;/content&gt;\r\n                &lt;/Tab&gt;\r\n                &lt;Tab text=&quot;Отправить сообщение в очередь&quot; fx:id=&quot;tabPaneSendMessage&quot;&gt;\r\n                  &lt;content&gt;\r\n                    &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;180.0&quot; prefWidth=&quot;200.0&quot; /&gt;\r\n                  &lt;/content&gt;\r\n                &lt;/Tab&gt;\r\n              &lt;/tabs&gt;\r\n            &lt;/TabPane&gt;\r\n```\r\n\r\nClass start Application\r\n\r\n    public class TestFrame extends Application {\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        FXMLLoader loader = new FXMLLoader();\r\n        URL xmlUrl = getClass().getResource(&quot;/Test.fxml&quot;);\r\n        loader.setLocation(xmlUrl);\r\n        Parent root = loader.load();\r\n        stage.setTitle(&quot;Title&quot;);\r\n        stage.setScene(new Scene(root));\r\n        stage.show();\r\n    }\r\n}\r\n\r\n\r\nMaybe something needs to be added to the controller? And if so, where and what?","title":"How to make transition between tabs in JavaFX TabPane?","body":"<p>I have a TabPane with two Tabs and I want to load another FXML when I click on one Tab</p>\n<pre><code>&lt;TabPane fx:id=&quot;tabPaneGet&quot; layoutY=&quot;-7.0&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;560.0&quot; tabClosingPolicy=&quot;UNAVAILABLE&quot;&gt;\n              &lt;tabs&gt;\n                &lt;Tab disable=&quot;true&quot; text=&quot;Получить сообщение из очереди&quot;&gt;\n                  &lt;content&gt;\n                    &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;180.0&quot; prefWidth=&quot;200.0&quot; /&gt;\n                  &lt;/content&gt;\n                &lt;/Tab&gt;\n                &lt;Tab text=&quot;Отправить сообщение в очередь&quot; fx:id=&quot;tabPaneSendMessage&quot;&gt;\n                  &lt;content&gt;\n                    &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;180.0&quot; prefWidth=&quot;200.0&quot; /&gt;\n                  &lt;/content&gt;\n                &lt;/Tab&gt;\n              &lt;/tabs&gt;\n            &lt;/TabPane&gt;\n</code></pre>\n<p>Class start Application</p>\n<pre><code>public class TestFrame extends Application {\npublic static void main(String[] args) {\n    launch(args);\n}\n\n@Override\npublic void start(Stage stage) throws Exception {\n    FXMLLoader loader = new FXMLLoader();\n    URL xmlUrl = getClass().getResource(&quot;/Test.fxml&quot;);\n    loader.setLocation(xmlUrl);\n    Parent root = loader.load();\n    stage.setTitle(&quot;Title&quot;);\n    stage.setScene(new Scene(root));\n    stage.show();\n}\n</code></pre>\n<p>}</p>\n<p>Maybe something needs to be added to the controller? And if so, where and what?</p>\n"},{"tags":["java","list","sorting","hashmap","comparator"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1647627400,"post_id":71531257,"comment_id":126426864,"body_markdown":"What do you mean with `dynamically sort` ? You want sort once you have read and in memory `averagesMap` or you want have all sorted right after reading the JSON ?","body":"What do you mean with <code>dynamically sort</code> ? You want sort once you have read and in memory <code>averagesMap</code> or you want have all sorted right after reading the JSON ?"},{"owner":{"account_id":12110857,"reputation":257,"user_id":13320976,"display_name":"dinesh alwis"},"score":0,"creation_date":1647627768,"post_id":71531257,"comment_id":126426980,"body_markdown":"@PeterMmm JSON is just the way I used to display the data. value for `name` is dynamic, but its common for all the lists, which means all the lists got the same name values. So i want to sort each list for `name` field.","body":"@PeterMmm JSON is just the way I used to display the data. value for <code>name</code> is dynamic, but its common for all the lists, which means all the lists got the same name values. So i want to sort each list for <code>name</code> field."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647711756,"creation_date":1647629903,"answer_id":71531980,"question_id":71531257,"body_markdown":"To achieve that, first you need to establish the desired order. So that it will be encapsulated in a variable and passed as a parameter at runtime to the method that will take care of sorting. With that, sorting order will be dynamic, dependent on the provided argument.\r\n\r\nIn the code below, a `List` is being used for that purpose. Sorting is based on the indexes that each `name` occupies in the `sortingRule` list.\r\n\r\nThe next step is to create `Comparator` based on it. I&#39;m using a condition `sortingRule.contains(score.name())` as precaution for the cases like typo, etc. when `name` doesn&#39;t appear in the `sortingRule`. With that, all such objects will be placed at the end of a sorted list.\r\n\r\n     Comparator&lt;ScoreAverage&gt; dynamicComparator =\r\n                Comparator.comparingInt(score -&gt; sortingRule.contains(score.name()) ?\r\n                                        sortingRule.indexOf(score.name()) : \r\n                                        sortingRule.size());\r\n\r\nIf we drop the condition comparator boils down to\r\n\r\n    Comparator.comparingInt(score -&gt; sortingRule.indexOf(score.name()));\r\n\r\nWith that, all unidentified objects (if any) will be grouped at the beginning of a sorted list.\r\n\r\nAnd finally, we need to sort every value in a map with this comparator.\r\n\r\n**Iterative implementation** (*note: defensive copy of every list is meant to preserve the source intact*).\r\n\r\n    public static Map&lt;String, List&lt;ScoreAverage&gt;&gt; sortByRule(Map&lt;String, List&lt;ScoreAverage&gt;&gt; averagesMap,\r\n                                                             List&lt;String&gt; sortingRule) {\r\n        Comparator&lt;ScoreAverage&gt; dynamicComparator =\r\n                Comparator.comparingInt(score -&gt; sortingRule.contains(score.name()) ?\r\n                        sortingRule.indexOf(score.name()) :\r\n                        sortingRule.size());\r\n\r\n        Map&lt;String, List&lt;ScoreAverage&gt;&gt; result = new HashMap&lt;&gt;();\r\n        for (Map.Entry&lt;String, List&lt;ScoreAverage&gt;&gt; entry: averagesMap.entrySet()) {\r\n            List&lt;ScoreAverage&gt; copy = new ArrayList&lt;&gt;(entry.getValue());\r\n            copy.sort(dynamicComparator);\r\n            result.put(entry.getKey(), copy);\r\n        }\r\n        return result;\r\n    }\r\n\r\n**Stream based implementation** (*note: lists in the source map will not get modified, each entry will be replaced with a new one*).\r\n\r\n    public static Map&lt;String, List&lt;ScoreAverage&gt;&gt; sortByRule(Map&lt;String, List&lt;ScoreAverage&gt;&gt; averagesMap,\r\n                                                List&lt;String&gt; sortingRule) {\r\n\r\n         Comparator&lt;ScoreAverage&gt; dynamicComparator =\r\n                Comparator.comparingInt(score -&gt; sortingRule.contains(score.name()) ?\r\n                                        sortingRule.indexOf(score.name()) : \r\n                                        sortingRule.size());\r\n\r\n        return averagesMap.entrySet().stream()\r\n                .map(entry -&gt; Map.entry(entry.getKey(),\r\n                        entry.getValue().stream()\r\n                        .sorted(dynamicComparator)\r\n                        .collect(Collectors.toList())))\r\n                .collect(Collectors.toMap(Map.Entry::getKey,Map.Entry::getValue));\r\n    }\r\n\r\n**main()**\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String, List&lt;ScoreAverage&gt;&gt; averagesMap =\r\n                Map.of(&quot;A&quot;, List.of(new ScoreAverage(4.0, &quot;Accounting&quot;),\r\n                                        new ScoreAverage(4.0, &quot;company-wide&quot;),\r\n                                        new ScoreAverage(4.0, &quot;Engineering&quot;)),\r\n                       &quot;B&quot;, List.of(new ScoreAverage(3.0, &quot;Engineering&quot;),\r\n                                        new ScoreAverage(3.0, &quot;company-wide&quot;),\r\n                                        new ScoreAverage(3.0, &quot;Accounting&quot;)),\r\n                       &quot;C&quot;, List.of(new ScoreAverage(2.0, &quot;company-wide&quot;),\r\n                                        new ScoreAverage(2.0, &quot;Engineering&quot;),\r\n                                        new ScoreAverage(2.0, &quot;Accounting&quot;)),\r\n                       &quot;specialAverages&quot;, List.of(new ScoreAverage(2.5, &quot;Engineering&quot;),\r\n                                        new ScoreAverage(2.5, &quot;company-wide&quot;),\r\n                                        new ScoreAverage(2.5, &quot;Accounting&quot;)));\r\n\r\n        List&lt;String&gt; sortingRule = List.of(&quot;company-wide&quot;, &quot;Engineering&quot;, &quot;Accounting&quot;);\r\n\r\n        sortByRule(averagesMap, sortingRule).forEach((k, v) -&gt; System.out.println(k + &quot; : &quot; + v));\r\n    }\r\n**Output**\r\n```\r\nA : [ScoreAverage[average=4.0, name=company-wide], ScoreAverage[average=4.0, name=Engineering], ScoreAverage[average=4.0, name=Accounting]]\r\nB : [ScoreAverage[average=3.0, name=company-wide], ScoreAverage[average=3.0, name=Engineering], ScoreAverage[average=3.0, name=Accounting]]\r\nC : [ScoreAverage[average=2.0, name=company-wide], ScoreAverage[average=2.0, name=Engineering], ScoreAverage[average=2.0, name=Accounting]]\r\nspecialAverages : [ScoreAverage[average=2.5, name=company-wide], ScoreAverage[average=2.5, name=Engineering], ScoreAverage[average=2.5, name=Accounting]]\r\n```\r\n______________________________________________\r\n**Update**\r\n\r\nIt&#39;s also possible to combine the *sorting rule* encapsulated in a list and `Comparator` that will responsible for sorting elements that are not present in the *sorting rule*. Both *sorting rule* and a comparator will be provided dynamically at runtime.\r\n\r\nFor that, the method signature has to be changed (the third parameter needs to be added):\r\n\r\n    public static Map&lt;String, List&lt;ScoreAverage&gt;&gt; sortByRule(Map&lt;String, List&lt;ScoreAverage&gt;&gt; averagesMap,\r\n                                                             List&lt;String&gt; sortingRule,\r\n                                                             Comparator&lt;ScoreAverage&gt; downstreamComparator)\r\n\r\nAnd the comparator will look like that:\r\n\r\n    Comparator&lt;ScoreAverage&gt; dynamicComparator =\r\n                    Comparator.&lt;ScoreAverage&gt;comparingInt(score -&gt; sortingRule.contains(score.name()) ?\r\n                                                sortingRule.indexOf(score.name()) :\r\n                                                sortingRule.size())\r\n                                    .thenComparing(downstreamComparator);\r\n\r\nIt will group all objects with names *contained* in the `sortingRule` at the beginning of the resulting list, the rest part will be sorted in accordance with the `downstreamComparator`.\r\n\r\nMethod call in the main will look like that:\r\n```\r\nsortByRule(averagesMap, sortingRule, Comparator.comparing(ScoreAverage::name))\r\n                .forEach((k, v) -&gt; System.out.println(k + &quot; : &quot; + v));\r\n```\r\nIf you apply these changes with and provide a `sortingRule` containing only one string `&quot;company-wide&quot;` you&#39;ll this **output**:\r\n```\r\nA : [ScoreAverage[average=4.0, name=company-wide], ScoreAverage[average=4.0, name=Accounting], ScoreAverage[average=4.0, name=Engineering]]\r\nB : [ScoreAverage[average=3.0, name=company-wide], ScoreAverage[average=3.0, name=Accounting], ScoreAverage[average=3.0, name=Engineering]]\r\nC : [ScoreAverage[average=2.0, name=company-wide], ScoreAverage[average=2.0, name=Accounting], ScoreAverage[average=2.0, name=Engineering]]\r\nspecialAverages : [ScoreAverage[average=2.5, name=company-wide], ScoreAverage[average=2.5, name=Accounting], ScoreAverage[average=2.5, name=Engineering]]\r\n```","title":"Sorting a List dynamically using attributes provided at Runetime","body":"<p>To achieve that, first you need to establish the desired order. So that it will be encapsulated in a variable and passed as a parameter at runtime to the method that will take care of sorting. With that, sorting order will be dynamic, dependent on the provided argument.</p>\n<p>In the code below, a <code>List</code> is being used for that purpose. Sorting is based on the indexes that each <code>name</code> occupies in the <code>sortingRule</code> list.</p>\n<p>The next step is to create <code>Comparator</code> based on it. I'm using a condition <code>sortingRule.contains(score.name())</code> as precaution for the cases like typo, etc. when <code>name</code> doesn't appear in the <code>sortingRule</code>. With that, all such objects will be placed at the end of a sorted list.</p>\n<pre><code> Comparator&lt;ScoreAverage&gt; dynamicComparator =\n            Comparator.comparingInt(score -&gt; sortingRule.contains(score.name()) ?\n                                    sortingRule.indexOf(score.name()) : \n                                    sortingRule.size());\n</code></pre>\n<p>If we drop the condition comparator boils down to</p>\n<pre><code>Comparator.comparingInt(score -&gt; sortingRule.indexOf(score.name()));\n</code></pre>\n<p>With that, all unidentified objects (if any) will be grouped at the beginning of a sorted list.</p>\n<p>And finally, we need to sort every value in a map with this comparator.</p>\n<p><strong>Iterative implementation</strong> (<em>note: defensive copy of every list is meant to preserve the source intact</em>).</p>\n<pre><code>public static Map&lt;String, List&lt;ScoreAverage&gt;&gt; sortByRule(Map&lt;String, List&lt;ScoreAverage&gt;&gt; averagesMap,\n                                                         List&lt;String&gt; sortingRule) {\n    Comparator&lt;ScoreAverage&gt; dynamicComparator =\n            Comparator.comparingInt(score -&gt; sortingRule.contains(score.name()) ?\n                    sortingRule.indexOf(score.name()) :\n                    sortingRule.size());\n\n    Map&lt;String, List&lt;ScoreAverage&gt;&gt; result = new HashMap&lt;&gt;();\n    for (Map.Entry&lt;String, List&lt;ScoreAverage&gt;&gt; entry: averagesMap.entrySet()) {\n        List&lt;ScoreAverage&gt; copy = new ArrayList&lt;&gt;(entry.getValue());\n        copy.sort(dynamicComparator);\n        result.put(entry.getKey(), copy);\n    }\n    return result;\n}\n</code></pre>\n<p><strong>Stream based implementation</strong> (<em>note: lists in the source map will not get modified, each entry will be replaced with a new one</em>).</p>\n<pre><code>public static Map&lt;String, List&lt;ScoreAverage&gt;&gt; sortByRule(Map&lt;String, List&lt;ScoreAverage&gt;&gt; averagesMap,\n                                            List&lt;String&gt; sortingRule) {\n\n     Comparator&lt;ScoreAverage&gt; dynamicComparator =\n            Comparator.comparingInt(score -&gt; sortingRule.contains(score.name()) ?\n                                    sortingRule.indexOf(score.name()) : \n                                    sortingRule.size());\n\n    return averagesMap.entrySet().stream()\n            .map(entry -&gt; Map.entry(entry.getKey(),\n                    entry.getValue().stream()\n                    .sorted(dynamicComparator)\n                    .collect(Collectors.toList())))\n            .collect(Collectors.toMap(Map.Entry::getKey,Map.Entry::getValue));\n}\n</code></pre>\n<p><strong>main()</strong></p>\n<pre><code>public static void main(String[] args) {\n    Map&lt;String, List&lt;ScoreAverage&gt;&gt; averagesMap =\n            Map.of(&quot;A&quot;, List.of(new ScoreAverage(4.0, &quot;Accounting&quot;),\n                                    new ScoreAverage(4.0, &quot;company-wide&quot;),\n                                    new ScoreAverage(4.0, &quot;Engineering&quot;)),\n                   &quot;B&quot;, List.of(new ScoreAverage(3.0, &quot;Engineering&quot;),\n                                    new ScoreAverage(3.0, &quot;company-wide&quot;),\n                                    new ScoreAverage(3.0, &quot;Accounting&quot;)),\n                   &quot;C&quot;, List.of(new ScoreAverage(2.0, &quot;company-wide&quot;),\n                                    new ScoreAverage(2.0, &quot;Engineering&quot;),\n                                    new ScoreAverage(2.0, &quot;Accounting&quot;)),\n                   &quot;specialAverages&quot;, List.of(new ScoreAverage(2.5, &quot;Engineering&quot;),\n                                    new ScoreAverage(2.5, &quot;company-wide&quot;),\n                                    new ScoreAverage(2.5, &quot;Accounting&quot;)));\n\n    List&lt;String&gt; sortingRule = List.of(&quot;company-wide&quot;, &quot;Engineering&quot;, &quot;Accounting&quot;);\n\n    sortByRule(averagesMap, sortingRule).forEach((k, v) -&gt; System.out.println(k + &quot; : &quot; + v));\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>A : [ScoreAverage[average=4.0, name=company-wide], ScoreAverage[average=4.0, name=Engineering], ScoreAverage[average=4.0, name=Accounting]]\nB : [ScoreAverage[average=3.0, name=company-wide], ScoreAverage[average=3.0, name=Engineering], ScoreAverage[average=3.0, name=Accounting]]\nC : [ScoreAverage[average=2.0, name=company-wide], ScoreAverage[average=2.0, name=Engineering], ScoreAverage[average=2.0, name=Accounting]]\nspecialAverages : [ScoreAverage[average=2.5, name=company-wide], ScoreAverage[average=2.5, name=Engineering], ScoreAverage[average=2.5, name=Accounting]]\n</code></pre>\n<hr />\n<p><strong>Update</strong></p>\n<p>It's also possible to combine the <em>sorting rule</em> encapsulated in a list and <code>Comparator</code> that will responsible for sorting elements that are not present in the <em>sorting rule</em>. Both <em>sorting rule</em> and a comparator will be provided dynamically at runtime.</p>\n<p>For that, the method signature has to be changed (the third parameter needs to be added):</p>\n<pre><code>public static Map&lt;String, List&lt;ScoreAverage&gt;&gt; sortByRule(Map&lt;String, List&lt;ScoreAverage&gt;&gt; averagesMap,\n                                                         List&lt;String&gt; sortingRule,\n                                                         Comparator&lt;ScoreAverage&gt; downstreamComparator)\n</code></pre>\n<p>And the comparator will look like that:</p>\n<pre><code>Comparator&lt;ScoreAverage&gt; dynamicComparator =\n                Comparator.&lt;ScoreAverage&gt;comparingInt(score -&gt; sortingRule.contains(score.name()) ?\n                                            sortingRule.indexOf(score.name()) :\n                                            sortingRule.size())\n                                .thenComparing(downstreamComparator);\n</code></pre>\n<p>It will group all objects with names <em>contained</em> in the <code>sortingRule</code> at the beginning of the resulting list, the rest part will be sorted in accordance with the <code>downstreamComparator</code>.</p>\n<p>Method call in the main will look like that:</p>\n<pre><code>sortByRule(averagesMap, sortingRule, Comparator.comparing(ScoreAverage::name))\n                .forEach((k, v) -&gt; System.out.println(k + &quot; : &quot; + v));\n</code></pre>\n<p>If you apply these changes with and provide a <code>sortingRule</code> containing only one string <code>&quot;company-wide&quot;</code> you'll this <strong>output</strong>:</p>\n<pre><code>A : [ScoreAverage[average=4.0, name=company-wide], ScoreAverage[average=4.0, name=Accounting], ScoreAverage[average=4.0, name=Engineering]]\nB : [ScoreAverage[average=3.0, name=company-wide], ScoreAverage[average=3.0, name=Accounting], ScoreAverage[average=3.0, name=Engineering]]\nC : [ScoreAverage[average=2.0, name=company-wide], ScoreAverage[average=2.0, name=Accounting], ScoreAverage[average=2.0, name=Engineering]]\nspecialAverages : [ScoreAverage[average=2.5, name=company-wide], ScoreAverage[average=2.5, name=Accounting], ScoreAverage[average=2.5, name=Engineering]]\n</code></pre>\n"}],"owner":{"account_id":12110857,"reputation":257,"user_id":13320976,"display_name":"dinesh alwis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71531980,"answer_count":1,"score":2,"last_activity_date":1684249746,"creation_date":1647626031,"question_id":71531257,"body_markdown":"There&#39;s a Map with keys of type `String` as the and values represented by a list of objects as follows: \r\n\r\n    Map&lt;String, List&lt;ScoreAverage&gt;&gt; averagesMap\r\n\r\n`ScoreAverage` **record**:\r\n\r\n    public record ScoreAverage(\r\n        @JsonProperty(&quot;average&quot;) double average,\r\n        @JsonProperty(&quot;name&quot;) String name\r\n    ) {}\r\n\r\nThe **map** holds data as follows : \r\n\r\n    {\r\n     &quot;averagesMap&quot;:{\r\n      &quot;A&quot;:[\r\n         {\r\n            &quot;average&quot;:4.0,\r\n            &quot;name&quot;:&quot;Accounting&quot;\r\n         },\r\n         {\r\n            &quot;average&quot;:4.0,\r\n            &quot;name&quot;:&quot;company-wide&quot;\r\n         },\r\n         {\r\n            &quot;average&quot;:4.0,\r\n            &quot;name&quot;:&quot;Engineering&quot;\r\n         }\r\n      ],\r\n      &quot;B&quot;:[\r\n         {\r\n            &quot;average&quot;:3.0,\r\n            &quot;name&quot;:&quot;Engineering&quot;\r\n         },\r\n         {\r\n            &quot;average&quot;:3.0,\r\n            &quot;name&quot;:&quot;company-wide&quot;\r\n         },\r\n         {\r\n            &quot;average&quot;:3.0,\r\n            &quot;name&quot;:&quot;Accounting&quot;\r\n         }\r\n      ],\r\n      &quot;C&quot;:[\r\n         {\r\n            &quot;average&quot;:2.0,\r\n            &quot;name&quot;:&quot;company-wide&quot;\r\n         },\r\n         {\r\n            &quot;average&quot;:2.0,\r\n            &quot;name&quot;:&quot;Engineering&quot;\r\n         },\r\n         {\r\n            &quot;average&quot;:2.0,\r\n            &quot;en&quot;:&quot;Accounting&quot;\r\n         }\r\n      ],\r\n      &quot;specialAverages&quot;:[\r\n         {\r\n            &quot;average&quot;:2.5,\r\n            &quot;name&quot;:&quot;Engineering&quot;\r\n         },\r\n         {\r\n            &quot;average&quot;:2.5,\r\n            &quot;name&quot;:&quot;company-wide&quot;\r\n         },\r\n         {\r\n            &quot;average&quot;:2.5,\r\n            &quot;name&quot;:&quot;Accounting&quot;\r\n         }\r\n       ]\r\n      }\r\n    }\r\n\r\nWhat I want to achieve is to sort dynamically each list of objects in a map using the `name` attribute in the order specified at runtime, for instance: \r\n\r\n    1st item of list -&gt; company-wide\r\n    2nd item of list -&gt; Engineering\r\n    3rd item of list -&gt; Accounting\r\n\r\nWhat would be the easiest way of doing this?","title":"Sorting a List dynamically using attributes provided at Runetime","body":"<p>There's a Map with keys of type <code>String</code> as the and values represented by a list of objects as follows:</p>\n<pre><code>Map&lt;String, List&lt;ScoreAverage&gt;&gt; averagesMap\n</code></pre>\n<p><code>ScoreAverage</code> <strong>record</strong>:</p>\n<pre><code>public record ScoreAverage(\n    @JsonProperty(&quot;average&quot;) double average,\n    @JsonProperty(&quot;name&quot;) String name\n) {}\n</code></pre>\n<p>The <strong>map</strong> holds data as follows :</p>\n<pre><code>{\n &quot;averagesMap&quot;:{\n  &quot;A&quot;:[\n     {\n        &quot;average&quot;:4.0,\n        &quot;name&quot;:&quot;Accounting&quot;\n     },\n     {\n        &quot;average&quot;:4.0,\n        &quot;name&quot;:&quot;company-wide&quot;\n     },\n     {\n        &quot;average&quot;:4.0,\n        &quot;name&quot;:&quot;Engineering&quot;\n     }\n  ],\n  &quot;B&quot;:[\n     {\n        &quot;average&quot;:3.0,\n        &quot;name&quot;:&quot;Engineering&quot;\n     },\n     {\n        &quot;average&quot;:3.0,\n        &quot;name&quot;:&quot;company-wide&quot;\n     },\n     {\n        &quot;average&quot;:3.0,\n        &quot;name&quot;:&quot;Accounting&quot;\n     }\n  ],\n  &quot;C&quot;:[\n     {\n        &quot;average&quot;:2.0,\n        &quot;name&quot;:&quot;company-wide&quot;\n     },\n     {\n        &quot;average&quot;:2.0,\n        &quot;name&quot;:&quot;Engineering&quot;\n     },\n     {\n        &quot;average&quot;:2.0,\n        &quot;en&quot;:&quot;Accounting&quot;\n     }\n  ],\n  &quot;specialAverages&quot;:[\n     {\n        &quot;average&quot;:2.5,\n        &quot;name&quot;:&quot;Engineering&quot;\n     },\n     {\n        &quot;average&quot;:2.5,\n        &quot;name&quot;:&quot;company-wide&quot;\n     },\n     {\n        &quot;average&quot;:2.5,\n        &quot;name&quot;:&quot;Accounting&quot;\n     }\n   ]\n  }\n}\n</code></pre>\n<p>What I want to achieve is to sort dynamically each list of objects in a map using the <code>name</code> attribute in the order specified at runtime, for instance:</p>\n<pre><code>1st item of list -&gt; company-wide\n2nd item of list -&gt; Engineering\n3rd item of list -&gt; Accounting\n</code></pre>\n<p>What would be the easiest way of doing this?</p>\n"},{"tags":["java","file","io","data-conversion","fileoutputstream"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1684248024,"post_id":76264159,"comment_id":134488379,"body_markdown":"How did you create the `FileOutputStream`?","body":"How did you create the <code>FileOutputStream</code>?"}],"answers":[{"tags":[],"owner":{"account_id":921799,"reputation":74,"user_id":953367,"accept_rate":25,"display_name":"Eddy"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1684247599,"creation_date":1684247599,"answer_id":76264262,"question_id":76264159,"body_markdown":"A FileOutputSteam takes either a File as an argument or a filename (which will be converted to a file by the constructor).\r\n\r\nIf you have a reference to the file, file.exists() should return true, see kotlin code example below:\r\n\r\n        fun main(args: Array&lt;String&gt;) {\r\n            val file = File.createTempFile(&quot;foo&quot;,&quot;.txt&quot;)\r\n            val fos = FileOutputStream(file)\r\n            fos.write(1)\r\n\r\n            println(&quot;assert tmpfile exists: ${file.exists()}&quot;)\r\n        }","title":"How do I turn a FileOutputStream to a File (Java)?","body":"<p>A FileOutputSteam takes either a File as an argument or a filename (which will be converted to a file by the constructor).</p>\n<p>If you have a reference to the file, file.exists() should return true, see kotlin code example below:</p>\n<pre><code>    fun main(args: Array&lt;String&gt;) {\n        val file = File.createTempFile(&quot;foo&quot;,&quot;.txt&quot;)\n        val fos = FileOutputStream(file)\n        fos.write(1)\n\n        println(&quot;assert tmpfile exists: ${file.exists()}&quot;)\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28613150,"reputation":1,"user_id":21907736,"display_name":"sa3khan"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1684247742,"creation_date":1684247742,"answer_id":76264280,"question_id":76264159,"body_markdown":"You can instantiate the OutputStream using a Path object.\r\nHere&#39;s a couple of ways\r\n \r\nUsing Files:\r\n\r\n    Path path = Paths.get(&quot;/a/b/c&quot;);\r\n    try(OutputStream os = Files.newOutputStream(path)) {\r\n      Files.exists(path);\r\n    }\r\n\r\nUsing FileOutputStream:\r\n\r\n    Path path = Paths.get(&quot;/a/b/c&quot;);\r\n    try(FileOutputStream fos = new FileOutputStream(path.toFile())) {\r\n      path.toFile().exists();\r\n    }\r\n\r\n","title":"How do I turn a FileOutputStream to a File (Java)?","body":"<p>You can instantiate the OutputStream using a Path object.\nHere's a couple of ways</p>\n<p>Using Files:</p>\n<pre><code>Path path = Paths.get(&quot;/a/b/c&quot;);\ntry(OutputStream os = Files.newOutputStream(path)) {\n  Files.exists(path);\n}\n</code></pre>\n<p>Using FileOutputStream:</p>\n<pre><code>Path path = Paths.get(&quot;/a/b/c&quot;);\ntry(FileOutputStream fos = new FileOutputStream(path.toFile())) {\n  path.toFile().exists();\n}\n</code></pre>\n"}],"owner":{"account_id":28379904,"reputation":1,"user_id":21707349,"display_name":"Mac.exe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684248023,"answer_count":2,"score":0,"last_activity_date":1684249188,"creation_date":1684246921,"question_id":76264159,"body_markdown":"I create a file using a `FileOutputStream()`, and after creating it I want to check if that file exists.\r\n\r\nI have tried to see if there is something like `File.exists()` for it, I also looked at [get file name from fileoutputstream][1] but that solves how to get the filename, which is not my question. So I need a way to turn the `FileOutputStream()` to a `File()`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4930111/get-file-name-from-fileoutputstream","title":"How do I turn a FileOutputStream to a File (Java)?","body":"<p>I create a file using a <code>FileOutputStream()</code>, and after creating it I want to check if that file exists.</p>\n<p>I have tried to see if there is something like <code>File.exists()</code> for it, I also looked at <a href=\"https://stackoverflow.com/questions/4930111/get-file-name-from-fileoutputstream\">get file name from fileoutputstream</a> but that solves how to get the filename, which is not my question. So I need a way to turn the <code>FileOutputStream()</code> to a <code>File()</code>.</p>\n"},{"tags":["java","apache-kafka","snappy"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1683756735,"post_id":76222734,"comment_id":134417410,"body_markdown":"`apt-get install snappy-java` see [also](https://github.com/xerial/snappy-java)","body":"<code>apt-get install snappy-java</code> see <a href=\"https://github.com/xerial/snappy-java\" rel=\"nofollow noreferrer\">also</a>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1683812722,"post_id":76222734,"comment_id":134426276,"body_markdown":"snapd is a daemon for a package manager, not a serialization library, or have anything to do Snappy... Your Maven dependency is not &quot;native libraries&quot;, only Java classes, which require C modules to be installed on the OS","body":"snapd is a daemon for a package manager, not a serialization library, or have anything to do Snappy... Your Maven dependency is not &quot;native libraries&quot;, only Java classes, which require C modules to be installed on the OS"},{"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1683871217,"post_id":76222734,"comment_id":134435676,"body_markdown":"@ElliottFrisch thank you for the comment. I tried ```apt-get install snappy-java``` and it is giving me &quot;package not found&quot;","body":"@ElliottFrisch thank you for the comment. I tried <code>apt-get install snappy-java</code> and it is giving me &quot;package not found&quot;"},{"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1683871276,"post_id":76222734,"comment_id":134435682,"body_markdown":"@OneCricketeer thank you for the comment, which C modules please? I tried ```sudo apt-get install gcc zlib1g-dev build-essential``` still no luck","body":"@OneCricketeer thank you for the comment, which C modules please? I tried <code>sudo apt-get install gcc zlib1g-dev build-essential</code> still no luck"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1683895567,"post_id":76222734,"comment_id":134440656,"body_markdown":"`libsnappy-dev`, I believe https://packages.ubuntu.com/focal/libsnappy-dev","body":"<code>libsnappy-dev</code>, I believe <a href=\"https://packages.ubuntu.com/focal/libsnappy-dev\" rel=\"nofollow noreferrer\">packages.ubuntu.com/focal/libsnappy-dev</a>"},{"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1684225794,"post_id":76222734,"comment_id":134482741,"body_markdown":"hey @OneCricketeer, the ```libsnappy-dev``` seems to work. Would you like to put it as an answer? I will upvote+accept","body":"hey @OneCricketeer, the <code>libsnappy-dev</code> seems to work. Would you like to put it as an answer? I will upvote+accept"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684249121,"creation_date":1684249121,"answer_id":76264508,"question_id":76222734,"body_markdown":"&gt;  I do have Snappy installed.\r\n\r\n[Snap / snapd](https://ubuntu.com/core/services/guide/snaps-intro) is not the same as [Snappy](https://google.github.io/snappy/) .\r\n\r\nYou should install the latter with [`libsnappy-dev`](https://packages.ubuntu.com/focal/libsnappy-dev), as that is the native libraries that the error is referring to. The Java dependency requires those. \r\n\r\nIf you don&#39;t need Snap applications, then you can *uninstall* snapd","title":"Caused by: org.xerial.snappy.SnappyError: [FAILED_TO_LOAD_NATIVE_LIBRARY] no native library is found for os.name=Linux and os.arch=x86_64","body":"<blockquote>\n<p>I do have Snappy installed.</p>\n</blockquote>\n<p><a href=\"https://ubuntu.com/core/services/guide/snaps-intro\" rel=\"nofollow noreferrer\">Snap / snapd</a> is not the same as <a href=\"https://google.github.io/snappy/\" rel=\"nofollow noreferrer\">Snappy</a> .</p>\n<p>You should install the latter with <a href=\"https://packages.ubuntu.com/focal/libsnappy-dev\" rel=\"nofollow noreferrer\"><code>libsnappy-dev</code></a>, as that is the native libraries that the error is referring to. The Java dependency requires those.</p>\n<p>If you don't need Snap applications, then you can <em>uninstall</em> snapd</p>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":591,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76264508,"answer_count":1,"score":0,"last_activity_date":1684249121,"creation_date":1683754947,"question_id":76222734,"body_markdown":"*What I would like to achieve:*\r\n\r\nRun a kafka consumer with native / aot / graalvm\r\n\r\n*Issue:*\r\n\r\nWhen running the application, I am facing this 100% reproducible issue:\r\n\r\n```\r\nCaused by: org.apache.kafka.common.KafkaException: Received exception when fetching the next record from my-topic-1. If needed, please seek past the record to continue consumption.\r\n\tat org.apache.kafka.clients.consumer.internals.Fetcher$CompletedFetch.fetchRecords(Fetcher.java:1676)\r\n\tat org.apache.kafka.clients.consumer.internals.Fetcher$CompletedFetch.access$1900(Fetcher.java:1497)\r\n\tat org.apache.kafka.clients.consumer.internals.Fetcher.fetchRecords(Fetcher.java:717)\r\n\tat org.apache.kafka.clients.consumer.internals.Fetcher.collectFetch(Fetcher.java:683)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.pollForFetches(KafkaConsumer.java:1314)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1243)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1216)\r\n\tat reactor.kafka.receiver.internals.ConsumerEventLoop$PollEvent.run(ConsumerEventLoop.java:357)\r\n\tat reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68)\r\n\tat reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28)\r\n\tat java.base@17.0.7/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base@17.0.7/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n\tat java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base@17.0.7/java.lang.Thread.run(Thread.java:833)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:775)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.core.posix.thread.PosixPlatformThreads.pthreadStartRoutine(PosixPlatformThreads.java:203)\r\nCaused by: org.apache.kafka.common.KafkaException: org.xerial.snappy.SnappyError: [FAILED_TO_LOAD_NATIVE_LIBRARY] no native library is found for os.name=Linux and os.arch=x86_64\r\n\tat org.apache.kafka.common.compress.SnappyFactory.wrapForInput(SnappyFactory.java:46)\r\n\tat org.apache.kafka.common.record.CompressionType$3.wrapForInput(CompressionType.java:94)\r\n\tat org.apache.kafka.common.record.DefaultRecordBatch.recordInputStream(DefaultRecordBatch.java:276)\r\n\tat org.apache.kafka.common.record.DefaultRecordBatch.compressedIterator(DefaultRecordBatch.java:280)\r\n\tat org.apache.kafka.common.record.DefaultRecordBatch.streamingIterator(DefaultRecordBatch.java:364)\r\n\tat org.apache.kafka.clients.consumer.internals.Fetcher$CompletedFetch.nextFetchedRecord(Fetcher.java:1619)\r\n\tat org.apache.kafka.clients.consumer.internals.Fetcher$CompletedFetch.fetchRecords(Fetcher.java:1656)\r\n\t... 16 common frames omitted\r\nCaused by: org.xerial.snappy.SnappyError: [FAILED_TO_LOAD_NATIVE_LIBRARY] no native library is found for os.name=Linux and os.arch=x86_64\r\n\tat org.xerial.snappy.SnappyLoader.findNativeLibrary(SnappyLoader.java:343)\r\n\tat org.xerial.snappy.SnappyLoader.loadNativeLibrary(SnappyLoader.java:177)\r\n\tat org.xerial.snappy.SnappyLoader.loadSnappyApi(SnappyLoader.java:155)\r\n\tat org.xerial.snappy.Snappy.init(Snappy.java:70)\r\n\tat org.xerial.snappy.Snappy.&lt;clinit&gt;(Snappy.java:47)\r\n\tat org.xerial.snappy.SnappyInputStream.readFully(SnappyInputStream.java:145)\r\n\tat org.xerial.snappy.SnappyInputStream.readHeader(SnappyInputStream.java:99)\r\n\tat org.xerial.snappy.SnappyInputStream.&lt;init&gt;(SnappyInputStream.java:59)\r\n\tat org.apache.kafka.common.compress.SnappyFactory.wrapForInput(SnappyFactory.java:44)\r\n\t... 22 common frames omitted\r\n\r\n```\r\n\r\n*What I tried:*\r\n\r\nIn my dependencies, I do have the most recent Snappy:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.xerial.snappy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;snappy-java&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nOn my machine, Ubuntu, I do have Snappy installed.\r\n\r\n```\r\nroot@dlp:~# apt -y install snapd\r\nroot@dlp:~# systemctl  enable snapd.service snapd.socket\r\nroot@dlp:~# source /etc/profile.d/apps-bin-path.sh\r\n```\r\n\r\n*Question:*\r\n\r\nHow to fix this exception?","title":"Caused by: org.xerial.snappy.SnappyError: [FAILED_TO_LOAD_NATIVE_LIBRARY] no native library is found for os.name=Linux and os.arch=x86_64","body":"<p><em>What I would like to achieve:</em></p>\n<p>Run a kafka consumer with native / aot / graalvm</p>\n<p><em>Issue:</em></p>\n<p>When running the application, I am facing this 100% reproducible issue:</p>\n<pre><code>Caused by: org.apache.kafka.common.KafkaException: Received exception when fetching the next record from my-topic-1. If needed, please seek past the record to continue consumption.\n    at org.apache.kafka.clients.consumer.internals.Fetcher$CompletedFetch.fetchRecords(Fetcher.java:1676)\n    at org.apache.kafka.clients.consumer.internals.Fetcher$CompletedFetch.access$1900(Fetcher.java:1497)\n    at org.apache.kafka.clients.consumer.internals.Fetcher.fetchRecords(Fetcher.java:717)\n    at org.apache.kafka.clients.consumer.internals.Fetcher.collectFetch(Fetcher.java:683)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.pollForFetches(KafkaConsumer.java:1314)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1243)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1216)\n    at reactor.kafka.receiver.internals.ConsumerEventLoop$PollEvent.run(ConsumerEventLoop.java:357)\n    at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68)\n    at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28)\n    at java.base@17.0.7/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base@17.0.7/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n    at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base@17.0.7/java.lang.Thread.run(Thread.java:833)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:775)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.core.posix.thread.PosixPlatformThreads.pthreadStartRoutine(PosixPlatformThreads.java:203)\nCaused by: org.apache.kafka.common.KafkaException: org.xerial.snappy.SnappyError: [FAILED_TO_LOAD_NATIVE_LIBRARY] no native library is found for os.name=Linux and os.arch=x86_64\n    at org.apache.kafka.common.compress.SnappyFactory.wrapForInput(SnappyFactory.java:46)\n    at org.apache.kafka.common.record.CompressionType$3.wrapForInput(CompressionType.java:94)\n    at org.apache.kafka.common.record.DefaultRecordBatch.recordInputStream(DefaultRecordBatch.java:276)\n    at org.apache.kafka.common.record.DefaultRecordBatch.compressedIterator(DefaultRecordBatch.java:280)\n    at org.apache.kafka.common.record.DefaultRecordBatch.streamingIterator(DefaultRecordBatch.java:364)\n    at org.apache.kafka.clients.consumer.internals.Fetcher$CompletedFetch.nextFetchedRecord(Fetcher.java:1619)\n    at org.apache.kafka.clients.consumer.internals.Fetcher$CompletedFetch.fetchRecords(Fetcher.java:1656)\n    ... 16 common frames omitted\nCaused by: org.xerial.snappy.SnappyError: [FAILED_TO_LOAD_NATIVE_LIBRARY] no native library is found for os.name=Linux and os.arch=x86_64\n    at org.xerial.snappy.SnappyLoader.findNativeLibrary(SnappyLoader.java:343)\n    at org.xerial.snappy.SnappyLoader.loadNativeLibrary(SnappyLoader.java:177)\n    at org.xerial.snappy.SnappyLoader.loadSnappyApi(SnappyLoader.java:155)\n    at org.xerial.snappy.Snappy.init(Snappy.java:70)\n    at org.xerial.snappy.Snappy.&lt;clinit&gt;(Snappy.java:47)\n    at org.xerial.snappy.SnappyInputStream.readFully(SnappyInputStream.java:145)\n    at org.xerial.snappy.SnappyInputStream.readHeader(SnappyInputStream.java:99)\n    at org.xerial.snappy.SnappyInputStream.&lt;init&gt;(SnappyInputStream.java:59)\n    at org.apache.kafka.common.compress.SnappyFactory.wrapForInput(SnappyFactory.java:44)\n    ... 22 common frames omitted\n\n</code></pre>\n<p><em>What I tried:</em></p>\n<p>In my dependencies, I do have the most recent Snappy:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.xerial.snappy&lt;/groupId&gt;\n            &lt;artifactId&gt;snappy-java&lt;/artifactId&gt;\n            &lt;version&gt;1.1.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>On my machine, Ubuntu, I do have Snappy installed.</p>\n<pre><code>root@dlp:~# apt -y install snapd\nroot@dlp:~# systemctl  enable snapd.service snapd.socket\nroot@dlp:~# source /etc/profile.d/apps-bin-path.sh\n</code></pre>\n<p><em>Question:</em></p>\n<p>How to fix this exception?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":25326110,"reputation":64,"user_id":19146740,"display_name":"katyRosale"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652896924,"creation_date":1652894309,"answer_id":72293444,"question_id":72293036,"body_markdown":"Did you set constructor with lomboak?\r\n\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor? \r\n\r\nCheck other column constrain like `nullable =false`\r\n\r\n","title":"org.hibernate.PropertyValueException: not-null property references a null or transient value while using Spring Boot","body":"<p>Did you set constructor with lomboak?</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor? \n</code></pre>\n<p>Check other column constrain like <code>nullable =false</code></p>\n"},{"tags":[],"owner":{"account_id":16063939,"reputation":1,"user_id":11594128,"display_name":"Courage Oghogho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669350750,"creation_date":1669350750,"answer_id":74568382,"question_id":72293036,"body_markdown":"Find a way to initialize the String firstName attribute. You actually enforced a not null contrail but may not have sent the value before attempting to persist.\r\n\r\nSo, when u create the object for the Employee class, make sure u set a value for the first name before u save it to the database.\r\n","title":"org.hibernate.PropertyValueException: not-null property references a null or transient value while using Spring Boot","body":"<p>Find a way to initialize the String firstName attribute. You actually enforced a not null contrail but may not have sent the value before attempting to persist.</p>\n<p>So, when u create the object for the Employee class, make sure u set a value for the first name before u save it to the database.</p>\n"},{"tags":[],"owner":{"account_id":28057400,"reputation":31,"user_id":21432214,"display_name":"nyaugenya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684248767,"creation_date":1684248767,"answer_id":76264449,"question_id":72293036,"body_markdown":"remove the @Column and it will work","title":"org.hibernate.PropertyValueException: not-null property references a null or transient value while using Spring Boot","body":"<p>remove the @Column and it will work</p>\n"}],"owner":{"account_id":11521080,"reputation":39,"user_id":8442830,"display_name":"Deep Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1306,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1684248767,"creation_date":1652892226,"question_id":72293036,"body_markdown":"I am getting this error while inserting data into table using Spring boot framework via POSTMAN RESTAPI:\r\n\r\n&gt; `org.hibernate.PropertyValueException`: not-null property references a null or transient value: `com.example.demo.model.Employee.firstName`\r\n\r\n\r\nThis is my Employee Entity class:\r\n\r\n```java\r\n@Data\r\n@Entity\r\n@Table(name=&quot;employees&quot;)\r\n\r\npublic class Employee {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    @Column(name = &quot;first_name&quot;, nullable = false)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;email&quot;)\r\n    private String email;\r\n}\r\n```\r\n","title":"org.hibernate.PropertyValueException: not-null property references a null or transient value while using Spring Boot","body":"<p>I am getting this error while inserting data into table using Spring boot framework via POSTMAN RESTAPI:</p>\n<blockquote>\n<p><code>org.hibernate.PropertyValueException</code>: not-null property references a null or transient value: <code>com.example.demo.model.Employee.firstName</code></p>\n</blockquote>\n<p>This is my Employee Entity class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Entity\n@Table(name=&quot;employees&quot;)\n\npublic class Employee {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @Column(name = &quot;first_name&quot;, nullable = false)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    @Column(name = &quot;email&quot;)\n    private String email;\n}\n</code></pre>\n"},{"tags":["java","xml","freemarker"],"comments":[{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":0,"creation_date":1684239784,"post_id":76260000,"comment_id":134486005,"body_markdown":"That&#39;s how it&#39;s done though. So does anything return a non-empty set of nodes? Like does `${BODY.InventoryBalanceData.AvailableQty}` print `10.0000`?","body":"That&#39;s how it&#39;s done though. So does anything return a non-empty set of nodes? Like does <code>${BODY.InventoryBalanceData.AvailableQty}</code> print <code>10.0000</code>?"}],"owner":{"account_id":25419777,"reputation":1,"user_id":19239252,"display_name":"Abhishek Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684248759,"creation_date":1684219050,"question_id":76260000,"body_markdown":"I have an XML file which looks like below.\r\n\r\n```\r\n&lt;GetInventoryBalance\r\n\txmlns=&quot;http://collab.safeway.com/it/architecture/info/default.aspx&quot;&gt;\r\n\t&lt;InventoryBalanceData&gt;\r\n\t\t&lt;AvailableQty&gt;10.0000&lt;/AvailableQty&gt;\r\n\t\t&lt;AllocatedQty&gt;57.0000&lt;/AllocatedQty&gt;\r\n\t&lt;/InventoryBalanceData&gt;\r\n&lt;/GetInventoryBalance&gt;\r\n```\r\n\r\nIn the xml file, the tag **AllocatedQty** can either be there or not. How to check if this tag exists in the file? \r\n\r\nI have tried to use this, but to no avail:\r\n\r\n```\r\n&lt;#if BODY.InventoryBalanceData.AllocatedQty?has_content&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\n","title":"how to check if a particular xml tag is present or not in ftl file","body":"<p>I have an XML file which looks like below.</p>\n<pre><code>&lt;GetInventoryBalance\n    xmlns=&quot;http://collab.safeway.com/it/architecture/info/default.aspx&quot;&gt;\n    &lt;InventoryBalanceData&gt;\n        &lt;AvailableQty&gt;10.0000&lt;/AvailableQty&gt;\n        &lt;AllocatedQty&gt;57.0000&lt;/AllocatedQty&gt;\n    &lt;/InventoryBalanceData&gt;\n&lt;/GetInventoryBalance&gt;\n</code></pre>\n<p>In the xml file, the tag <strong>AllocatedQty</strong> can either be there or not. How to check if this tag exists in the file?</p>\n<p>I have tried to use this, but to no avail:</p>\n<pre><code>&lt;#if BODY.InventoryBalanceData.AllocatedQty?has_content&gt;\n</code></pre>\n"},{"tags":["java","nested-loops"],"comments":[{"owner":{"account_id":371575,"reputation":13174,"user_id":720176,"accept_rate":75,"display_name":"Amit"},"score":0,"creation_date":1425015839,"post_id":28758232,"comment_id":45797164,"body_markdown":"Welcome to Stackoverflow Gui, this looks like a homework question. To learn programming you need to trace these errors by debugging your code. http://stackoverflow.com/help/how-to-ask","body":"Welcome to Stackoverflow Gui, this looks like a homework question. To learn programming you need to trace these errors by debugging your code. <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}],"answers":[{"tags":[],"owner":{"account_id":9,"reputation":220293,"user_id":13,"accept_rate":100,"display_name":"C. K. Young"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425015501,"creation_date":1425015501,"answer_id":28758266,"question_id":28758232,"body_markdown":"You didn&#39;t reset the value of `cols` in the outer loop. So the second time through the outer loop, the inner loop never gets run at all. Also consider using a `for` loop:\r\n\r\n    for (int rows = 0; rows &lt; numRows; ++rows) {\r\n        // ...\r\n        for (int cols = 0; cols &lt; numCols; ++cols) {\r\n            // ...\r\n        }\r\n    }","title":"Nested loops: Print seats in java","body":"<p>You didn't reset the value of <code>cols</code> in the outer loop. So the second time through the outer loop, the inner loop never gets run at all. Also consider using a <code>for</code> loop:</p>\n\n<pre><code>for (int rows = 0; rows &lt; numRows; ++rows) {\n    // ...\n    for (int cols = 0; cols &lt; numCols; ++cols) {\n        // ...\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1557703,"reputation":192,"user_id":1448296,"accept_rate":80,"display_name":"Parasu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1425015581,"creation_date":1425015581,"answer_id":28758282,"question_id":28758232,"body_markdown":"add a line `cols = 1;` just after `rows++;`","title":"Nested loops: Print seats in java","body":"<p>add a line <code>cols = 1;</code> just after <code>rows++;</code></p>\n"},{"tags":[],"owner":{"account_id":2437657,"reputation":225,"user_id":2127125,"accept_rate":71,"display_name":"TSKSwamy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511245751,"creation_date":1425015920,"answer_id":28758349,"question_id":28758232,"body_markdown":"Just change the position of `cols = 1;` \r\n\r\n    public static void main(final String[] args){\r\n            int numRows = 2;\r\n    \t\tint numCols = 3;\r\n    \t\tint rows = 0;\r\n    \t\t\r\n    \t\t  \r\n    \t\twhile (rows &lt; numRows) {\r\n    \r\n    \t\t\trows++;\r\n    \t\t\tint cols = 1;\r\n    \t\t\tchar col = &#39;A&#39;;\r\n    \r\n    \t\t\twhile (cols &lt;= numCols) {\r\n    \t\t\t\tSystem.out.print(&quot;&quot; + rows + col + &quot; &quot;);\r\n    \t\t\t\tcol++;\r\n    \t\t\t\tcols++;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot; &quot;);\r\n    }","title":"Nested loops: Print seats in java","body":"<p>Just change the position of <code>cols = 1;</code> </p>\n\n<pre><code>public static void main(final String[] args){\n        int numRows = 2;\n        int numCols = 3;\n        int rows = 0;\n\n\n        while (rows &lt; numRows) {\n\n            rows++;\n            int cols = 1;\n            char col = 'A';\n\n            while (cols &lt;= numCols) {\n                System.out.print(\"\" + rows + col + \" \");\n                col++;\n                cols++;\n            }\n        }\n        System.out.println(\" \");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2311406,"reputation":36,"user_id":2802828,"display_name":"lomsansnom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425016108,"creation_date":1425016108,"answer_id":28758390,"question_id":28758232,"body_markdown":"On the first iteration, when it goes over the inner while, you update the value of &quot;cols&quot;.\r\nSo when this while is done, cols = 3.\r\n\r\nThen on the second iteration, you still have cols=3 which is &gt; numCols so it doesn&#39;t execute the while loop.\r\n\r\n\r\n\r\nAs said Parasu just add &quot;cols = 1;&quot; before the inner loop and it&#39;ll works.\r\n\r\n","title":"Nested loops: Print seats in java","body":"<p>On the first iteration, when it goes over the inner while, you update the value of \"cols\".\nSo when this while is done, cols = 3.</p>\n\n<p>Then on the second iteration, you still have cols=3 which is > numCols so it doesn't execute the while loop.</p>\n\n<p>As said Parasu just add \"cols = 1;\" before the inner loop and it'll works.</p>\n"},{"tags":[],"owner":{"account_id":9301547,"reputation":1,"user_id":8606142,"display_name":"jam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506233833,"creation_date":1506233833,"answer_id":46387188,"question_id":28758232,"body_markdown":"This uses a for loop\r\n\r\n    public class NestedLoops {\r\n    public static void main (String [] args) {\r\n  \r\n\r\n        int numRows = 2;\r\n          int numCols = 3;\r\n    \r\n         \r\n          int i = 0;\r\n          int j = 0;\r\n          char rows;\r\n          char columns;\r\n          \r\n          rows = &#39;1&#39;;\r\n          for (i = 0; i &lt; numRows; ++i) {\r\n             columns = &#39;A&#39;;\r\n             for (j = 0; j &lt; numCols; ++j) {\r\n                System.out.print(&quot;&quot; + rows + columns + &quot; &quot;);\r\n                columns++;\r\n             }\r\n             rows++;\r\n          }\r\n         \r\n    \r\n          System.out.println(&quot;&quot;);\r\n    \r\n          return;\r\n       }\r\n    }","title":"Nested loops: Print seats in java","body":"<p>This uses a for loop</p>\n\n<pre><code>public class NestedLoops {\npublic static void main (String [] args) {\n\n\n    int numRows = 2;\n      int numCols = 3;\n\n\n      int i = 0;\n      int j = 0;\n      char rows;\n      char columns;\n\n      rows = '1';\n      for (i = 0; i &lt; numRows; ++i) {\n         columns = 'A';\n         for (j = 0; j &lt; numCols; ++j) {\n            System.out.print(\"\" + rows + columns + \" \");\n            columns++;\n         }\n         rows++;\n      }\n\n\n      System.out.println(\"\");\n\n      return;\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12056332,"reputation":3,"user_id":8817044,"display_name":"Cosmopus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511243822,"creation_date":1511243822,"answer_id":47406148,"question_id":28758232,"body_markdown":"    public class NestedLoops_2 {\r\n           public static void main (String [] args) {\r\n              int numRows = 2;\r\n              int numCols = 5;\r\n                  \r\n    for (int i = 1; i &lt;= numRows; i++){ \r\n              char abc = &#39;A&#39;;\r\n              for (int j = 1; j &lt;= numCols; ++j) {\r\n              System.out.print(&quot;&quot; + i + abc + &quot; &quot;);\r\n              ++abc;     \r\n              }\r\n        }\r\n              System.out.println(&quot;&quot;);\r\n              return;\r\n           }\r\n        }","title":"Nested loops: Print seats in java","body":"<pre><code>public class NestedLoops_2 {\n       public static void main (String [] args) {\n          int numRows = 2;\n          int numCols = 5;\n\nfor (int i = 1; i &lt;= numRows; i++){ \n          char abc = 'A';\n          for (int j = 1; j &lt;= numCols; ++j) {\n          System.out.print(\"\" + i + abc + \" \");\n          ++abc;     \n          }\n    }\n          System.out.println(\"\");\n          return;\n       }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12296349,"reputation":31,"user_id":8971882,"display_name":"user8971882"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511244238,"creation_date":1511244238,"answer_id":47406239,"question_id":28758232,"body_markdown":"You have to just make a small change in your code. After the inner while loop but just inside the outer while loop write cols=1;... because the next time when the loop reaches the same inner while loop cols have to again start at 1 and not at some other value .","title":"Nested loops: Print seats in java","body":"<p>You have to just make a small change in your code. After the inner while loop but just inside the outer while loop write cols=1;... because the next time when the loop reaches the same inner while loop cols have to again start at 1 and not at some other value .</p>\n"},{"tags":[],"owner":{"account_id":16396450,"reputation":189,"user_id":11843839,"display_name":"RobertB922"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569341467,"creation_date":1569340939,"answer_id":58084218,"question_id":28758232,"body_markdown":"I know this is late, but I am going through this same challenge in zybooks. My initial code is a little different and the answers above were a little off from what the IDE was testing for. So I decided to copy and paste my code in case anyone needs a little help with this challenge.\r\n\r\n    import java.util.Scanner;\r\n    public class NestedLoops {\r\n       public static void main (String [] args) {\r\n          Scanner scnr = new Scanner(System.in);\r\n          int numRows;\r\n          int numColumns;\r\n          int currentRow;\r\n          int currentColumn;\r\n          char currentColumnLetter;\r\n\r\n      numRows = scnr.nextInt(); // user input for how many rows\r\n      numColumns = scnr.nextInt(); // user input for many columns\r\n\r\n      /* Your solution goes here  */ \r\n      currentRow = 0; // Must be intialized to 0 or a &quot;2&quot; will print before &quot;1&quot;\r\n     while (currentRow &lt; numRows) { // Intialized the loop\r\n        currentRow++; // increments the currentRow\r\n        currentColumnLetter = &#39;A&#39;; // Sets the first column to char &#39;A&#39;\r\n        currentColumn = 1; // Define to intialize inner loop\r\n        while (currentColumn &lt;= numColumns) { // Will initial for any positive input 1 +\r\n           System.out.print(currentRow); // Asked specifically for 2 printouts\r\n           System.out.print(currentColumnLetter + &quot; &quot;); // 2nd printout with space at end.\r\n           currentColumnLetter++; // increments the Letter\r\n           currentColumn++; // increments the column\r\n        }\r\n     }\r\n           \r\n\r\n      System.out.println(&quot;&quot;);\r\n       }\r\n    }\r\n\r\nI hope this helps anyone needing a little help with this assignment.","title":"Nested loops: Print seats in java","body":"<p>I know this is late, but I am going through this same challenge in zybooks. My initial code is a little different and the answers above were a little off from what the IDE was testing for. So I decided to copy and paste my code in case anyone needs a little help with this challenge.</p>\n\n<pre><code>import java.util.Scanner;\npublic class NestedLoops {\n   public static void main (String [] args) {\n      Scanner scnr = new Scanner(System.in);\n      int numRows;\n      int numColumns;\n      int currentRow;\n      int currentColumn;\n      char currentColumnLetter;\n\n  numRows = scnr.nextInt(); // user input for how many rows\n  numColumns = scnr.nextInt(); // user input for many columns\n\n  /* Your solution goes here  */ \n  currentRow = 0; // Must be intialized to 0 or a \"2\" will print before \"1\"\n while (currentRow &lt; numRows) { // Intialized the loop\n    currentRow++; // increments the currentRow\n    currentColumnLetter = 'A'; // Sets the first column to char 'A'\n    currentColumn = 1; // Define to intialize inner loop\n    while (currentColumn &lt;= numColumns) { // Will initial for any positive input 1 +\n       System.out.print(currentRow); // Asked specifically for 2 printouts\n       System.out.print(currentColumnLetter + \" \"); // 2nd printout with space at end.\n       currentColumnLetter++; // increments the Letter\n       currentColumn++; // increments the column\n    }\n }\n\n\n  System.out.println(\"\");\n   }\n}\n</code></pre>\n\n<p>I hope this helps anyone needing a little help with this assignment.</p>\n"},{"tags":[],"owner":{"account_id":13876788,"reputation":41,"user_id":10018241,"display_name":"TimRCM"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1583682985,"creation_date":1583682985,"answer_id":60589256,"question_id":28758232,"body_markdown":"Here&#39;s what I came up with for this particular ZyBooks challenge (I used my own iterables instead of their pre-defined ones out of habit):\r\n\r\n        import java.util.Scanner;\r\n        public class NestedLoops {\r\n        public static void main (String [] args) {\r\n          Scanner scnr = new Scanner(System.in);\r\n          int numRows;\r\n          int numColumns;\r\n          int currentRow;\r\n          int currentColumn;\r\n          char currentColumnLetter;\r\n    \r\n          numRows = scnr.nextInt();\r\n          numColumns = scnr.nextInt();\r\n    \r\n          for (int i = 1; i &lt;= numRows; i++) {\r\n             \r\n             currentColumnLetter = &#39;A&#39;;\r\n             \r\n             for (int x = 1; x &lt;= numColumns; x++) {\r\n                System.out.print(i);\r\n                System.out.print(currentColumnLetter + &quot; &quot;);\r\n                currentColumnLetter++;\r\n             }\r\n             \r\n          }\r\n    \r\n          System.out.println(&quot;&quot;);\r\n       }\r\n    }","title":"Nested loops: Print seats in java","body":"<p>Here's what I came up with for this particular ZyBooks challenge (I used my own iterables instead of their pre-defined ones out of habit):</p>\n\n<pre><code>    import java.util.Scanner;\n    public class NestedLoops {\n    public static void main (String [] args) {\n      Scanner scnr = new Scanner(System.in);\n      int numRows;\n      int numColumns;\n      int currentRow;\n      int currentColumn;\n      char currentColumnLetter;\n\n      numRows = scnr.nextInt();\n      numColumns = scnr.nextInt();\n\n      for (int i = 1; i &lt;= numRows; i++) {\n\n         currentColumnLetter = 'A';\n\n         for (int x = 1; x &lt;= numColumns; x++) {\n            System.out.print(i);\n            System.out.print(currentColumnLetter + \" \");\n            currentColumnLetter++;\n         }\n\n      }\n\n      System.out.println(\"\");\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12034015,"reputation":53,"user_id":8803251,"display_name":"Alex K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601268650,"creation_date":1601268650,"answer_id":64096114,"question_id":28758232,"body_markdown":"    import java.util.Scanner;\r\n    public class NestedLoops {\r\n       public static void main (String [] args) {\r\n          Scanner scnr = new Scanner(System.in);\r\n          int numRows;\r\n          int numColumns;\r\n          int currentRow;\r\n          int currentColumn;\r\n          char currentColumnLetter; //not needed\r\n    \r\n          numRows = scnr.nextInt();\r\n          numColumns = scnr.nextInt();\r\n          String currentColumnL;\r\n          char[] alphabet = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;.toCharArray();\r\n          for(currentRow = 1; currentRow &lt;= numRows; currentRow = currentRow + 1) {\r\n             for(currentColumn = 1; currentColumn &lt;= numColumns; currentColumn = currentColumn + 1) {\r\n                currentColumnL = Character.toString(alphabet[currentColumn-1]);\r\n                System.out.print(&quot;&quot; + currentRow + currentColumnL + &quot; &quot;);\r\n       }\r\n    }\r\n    \r\n          System.out.println(&quot;&quot;);\r\n       }\r\n    }\r\n\r\nThis is my solution to 4.7.2: Nested loops: Print seats, I did not use char currentColumnLetter","title":"Nested loops: Print seats in java","body":"<pre><code>import java.util.Scanner;\npublic class NestedLoops {\n   public static void main (String [] args) {\n      Scanner scnr = new Scanner(System.in);\n      int numRows;\n      int numColumns;\n      int currentRow;\n      int currentColumn;\n      char currentColumnLetter; //not needed\n\n      numRows = scnr.nextInt();\n      numColumns = scnr.nextInt();\n      String currentColumnL;\n      char[] alphabet = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;.toCharArray();\n      for(currentRow = 1; currentRow &lt;= numRows; currentRow = currentRow + 1) {\n         for(currentColumn = 1; currentColumn &lt;= numColumns; currentColumn = currentColumn + 1) {\n            currentColumnL = Character.toString(alphabet[currentColumn-1]);\n            System.out.print(&quot;&quot; + currentRow + currentColumnL + &quot; &quot;);\n   }\n}\n\n      System.out.println(&quot;&quot;);\n   }\n}\n</code></pre>\n<p>This is my solution to 4.7.2: Nested loops: Print seats, I did not use char currentColumnLetter</p>\n"},{"tags":[],"owner":{"account_id":23073850,"reputation":17,"user_id":17187089,"display_name":"Justin Simon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636592219,"creation_date":1636592219,"answer_id":69922025,"question_id":28758232,"body_markdown":"This was my solution. This one was really tough!\r\n\r\nOne thing to point out, you cannot print the string and the char within the same print statement. I&#39;m not sure why but it will not run if you do. \r\n\r\n    import java.util.Scanner;\r\n    public class NestedLoops {\r\n       public static void main (String [] args) {\r\n          Scanner scnr = new Scanner(System.in);\r\n          int numRows;\r\n          int numColumns;\r\n          int currentRow;\r\n          int currentColumn;\r\n          char currentColumnLetter;\r\n    \r\n          numRows = scnr.nextInt();\r\n          numColumns = scnr.nextInt();\r\n       \r\n          \r\n          for(currentRow = 1; currentRow &lt;= numRows; currentRow++){\r\n             // Set the starting column letter\r\n             currentColumnLetter = &#39;A&#39;;\r\n             \r\n             \r\n             for(currentColumn = 0; currentColumn &lt; numColumns; currentColumn++){\r\n                System.out.print(currentRow);\r\n                System.out.print(currentColumnLetter + &quot; &quot;);\r\n                \r\n                \r\n                currentColumnLetter++;\r\n             }\r\n          }\r\n    \r\n          System.out.println(&quot;&quot;);\r\n       }\r\n    }\r\n\r\n","title":"Nested loops: Print seats in java","body":"<p>This was my solution. This one was really tough!</p>\n<p>One thing to point out, you cannot print the string and the char within the same print statement. I'm not sure why but it will not run if you do.</p>\n<pre><code>import java.util.Scanner;\npublic class NestedLoops {\n   public static void main (String [] args) {\n      Scanner scnr = new Scanner(System.in);\n      int numRows;\n      int numColumns;\n      int currentRow;\n      int currentColumn;\n      char currentColumnLetter;\n\n      numRows = scnr.nextInt();\n      numColumns = scnr.nextInt();\n   \n      \n      for(currentRow = 1; currentRow &lt;= numRows; currentRow++){\n         // Set the starting column letter\n         currentColumnLetter = 'A';\n         \n         \n         for(currentColumn = 0; currentColumn &lt; numColumns; currentColumn++){\n            System.out.print(currentRow);\n            System.out.print(currentColumnLetter + &quot; &quot;);\n            \n            \n            currentColumnLetter++;\n         }\n      }\n\n      System.out.println(&quot;&quot;);\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25961251,"reputation":1,"user_id":19677842,"display_name":"TitansB5trd BG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678636563,"creation_date":1678636563,"answer_id":75714367,"question_id":28758232,"body_markdown":"This is the answer I came up with using C++ in my class:\r\n\r\n    #include &lt;iostream&gt;\r\n    using namespace std;\r\n    \r\n    int main() {\r\n      int numRows;\r\n      int numColumns;\r\n      int currentRow;\r\n      int currentColumn;\r\n      char currentColumnLetter;\r\n    \r\n      cin &gt;&gt; numRows;\r\n      cin &gt;&gt; numColumns;\r\n      for (currentRow = 1; currentRow &lt;= numRows; currentRow++) {\r\n    \r\n         currentColumnLetter = &#39;A&#39;;\r\n    \r\n        for (currentColumn = 1; currentColumn &lt;= numColumns; currentColumn++) {\r\n            cout &lt;&lt; currentRow;\r\n            cout &lt;&lt; currentColumnLetter &lt;&lt; &quot; &quot;;\r\n            currentColumnLetter++;\r\n         }\r\n      }\r\n    \r\n      cout &lt;&lt; endl;\r\n    \r\n      return 0;\r\n    }\r\n\r\nI hope it helps someone","title":"Nested loops: Print seats in java","body":"<p>This is the answer I came up with using C++ in my class:</p>\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main() {\n  int numRows;\n  int numColumns;\n  int currentRow;\n  int currentColumn;\n  char currentColumnLetter;\n\n  cin &gt;&gt; numRows;\n  cin &gt;&gt; numColumns;\n  for (currentRow = 1; currentRow &lt;= numRows; currentRow++) {\n\n     currentColumnLetter = 'A';\n\n    for (currentColumn = 1; currentColumn &lt;= numColumns; currentColumn++) {\n        cout &lt;&lt; currentRow;\n        cout &lt;&lt; currentColumnLetter &lt;&lt; &quot; &quot;;\n        currentColumnLetter++;\n     }\n  }\n\n  cout &lt;&lt; endl;\n\n  return 0;\n}\n</code></pre>\n<p>I hope it helps someone</p>\n"},{"tags":[],"owner":{"account_id":28609407,"reputation":1,"user_id":21904665,"display_name":"LASGrams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684248633,"creation_date":1684207080,"answer_id":76259182,"question_id":28758232,"body_markdown":"Passed all test in ZyBooks\r\n```java\r\nnumRows = scnr.nextInt();\r\nnumColumns = scnr.nextInt();\r\n\r\nfor (currentRow=1; currentRow&lt;=numRows; currentRow++) {\r\n    currentColumnLetter=&#39;A&#39;;\r\n    for (currentColumn=0; currentColumn&lt;numColumns; currentColumn++) {\r\n        System.out.print(currentRow);\r\n        System.out.print(currentColumnLetter+(&quot; &quot;));\r\n        currentColumnLetter++;\r\n    }\r\n}\r\n```","title":"Nested loops: Print seats in java","body":"<p>Passed all test in ZyBooks</p>\n<pre class=\"lang-java prettyprint-override\"><code>numRows = scnr.nextInt();\nnumColumns = scnr.nextInt();\n\nfor (currentRow=1; currentRow&lt;=numRows; currentRow++) {\n    currentColumnLetter='A';\n    for (currentColumn=0; currentColumn&lt;numColumns; currentColumn++) {\n        System.out.print(currentRow);\n        System.out.print(currentColumnLetter+(&quot; &quot;));\n        currentColumnLetter++;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5811533,"reputation":41,"user_id":4582419,"display_name":"Gui"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81245,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":28758282,"answer_count":13,"score":2,"last_activity_date":1684248633,"creation_date":1425015310,"question_id":28758232,"body_markdown":"Given numRows and numCols, print a list of all seats in a theater. Rows are numbered, columns lettered, as in 1A or 3E. Print a space after each seat, including after the last. Use separate print statements to print the row and column. Ex: numRows = 2 and numCols = 3 prints:\r\n1A 1B 1C 2A 2B 2C \r\n\r\nMy code&#39;s like:\r\n    \r\n    public static void main(String[] args) {\r\n\t\tint numRows = 2;\r\n\t\tint numCols = 3;\r\n\t\tint rows = 0;\r\n\t\tint cols = 1;\r\n\t\tchar col;\r\n\t\t\r\n\t\twhile (rows &lt; numRows) {\r\n\t\t\t\r\n\t\t\trows++;\r\n\t\t\t\r\n\t\t\tcol=&#39;A&#39;;\r\n\t\t\t\r\n\t\t\twhile (cols &lt;= numCols) {\r\n\t\t\t\tSystem.out.print(&quot;&quot; + rows + col + &quot; &quot;);\r\n\t\t\t\tcol++;\r\n\t\t\t\tcols++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tSystem.out.println(&quot; &quot;);\r\n\t\t\r\n\t\treturn;\r\n\r\n\t}\r\n\r\n    }\r\n\r\nAnd my output&#39;s like:\r\n \r\n    1A 1B 1C \r\nI tried to make it like:\r\n \r\n    1A 1B 1C 2A 2B 2C\r\nWhy my loop stop at 1?","title":"Nested loops: Print seats in java","body":"<p>Given numRows and numCols, print a list of all seats in a theater. Rows are numbered, columns lettered, as in 1A or 3E. Print a space after each seat, including after the last. Use separate print statements to print the row and column. Ex: numRows = 2 and numCols = 3 prints:\n1A 1B 1C 2A 2B 2C </p>\n\n<p>My code's like:</p>\n\n<pre><code>public static void main(String[] args) {\n    int numRows = 2;\n    int numCols = 3;\n    int rows = 0;\n    int cols = 1;\n    char col;\n\n    while (rows &lt; numRows) {\n\n        rows++;\n\n        col='A';\n\n        while (cols &lt;= numCols) {\n            System.out.print(\"\" + rows + col + \" \");\n            col++;\n            cols++;\n        }\n\n    }\n    System.out.println(\" \");\n\n    return;\n\n}\n\n}\n</code></pre>\n\n<p>And my output's like:</p>\n\n<pre><code>1A 1B 1C \n</code></pre>\n\n<p>I tried to make it like:</p>\n\n<pre><code>1A 1B 1C 2A 2B 2C\n</code></pre>\n\n<p>Why my loop stop at 1?</p>\n"},{"tags":["java","node.js","json","express"],"comments":[{"owner":{"account_id":3597514,"reputation":117145,"user_id":3001761,"display_name":"jonrsharpe"},"score":3,"creation_date":1684073496,"post_id":76247894,"comment_id":134460187,"body_markdown":"That&#39;s showing you an array of ten objects, which is what you expected. Did you try accessing their contents, or otherwise _using_ the data?","body":"That&#39;s showing you an array of ten objects, which is what you expected. Did you try accessing their contents, or otherwise <i>using</i> the data?"},{"owner":{"account_id":25939401,"reputation":107,"user_id":19659146,"display_name":"Peter Till"},"score":0,"creation_date":1684075312,"post_id":76247894,"comment_id":134460428,"body_markdown":"It seems like the issue is with how the JSON array of blocks is being parsed on the Node.js server. Instead of an array of objects, it&#39;s being parsed as an array of arrays. Could you try to modify the Java program to generate a JSON object for each block, rather than a JSON array?","body":"It seems like the issue is with how the JSON array of blocks is being parsed on the Node.js server. Instead of an array of objects, it&#39;s being parsed as an array of arrays. Could you try to modify the Java program to generate a JSON object for each block, rather than a JSON array?"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1684088943,"post_id":76247894,"comment_id":134462145,"body_markdown":"You claim &quot;[the array] doesn&#39;t even contain ten fields&quot; … but I count ten elements in the array shown by you. Try `console.log(JSON.stringify(req.body))` to serialize to JSON to a string again. `[Object object]` (but not `[Object]`) is how Objects are rendered in JavaScript by default.","body":"You claim &quot;[the array] doesn&#39;t even contain ten fields&quot; … but I count ten elements in the array shown by you. Try <code>console.log(JSON.stringify(req.body))</code> to serialize to JSON to a string again. <code>[Object object]</code> (but not <code>[Object]</code>) is how Objects are rendered in JavaScript by default."},{"owner":{"account_id":4390047,"reputation":161,"user_id":3578776,"accept_rate":20,"display_name":"grizzo"},"score":0,"creation_date":1684221291,"post_id":76247894,"comment_id":134481718,"body_markdown":"@jonrsharpe I tried to save the request&#39;s body into a file to be fed to another node program but what I get is one line of [object] [Object]. So I&#39;m not getting the results I was expecting to say the least.","body":"@jonrsharpe I tried to save the request&#39;s body into a file to be fed to another node program but what I get is one line of [object] [Object]. So I&#39;m not getting the results I was expecting to say the least."},{"owner":{"account_id":4390047,"reputation":161,"user_id":3578776,"accept_rate":20,"display_name":"grizzo"},"score":1,"creation_date":1684221373,"post_id":76247894,"comment_id":134481740,"body_markdown":"@PeterTill I think I could but then I&#39;d have to reconstruct the original JSON file into the Express server. Considering the scope of my project I&#39;m not even sure that it&#39;d be worth the hassle but I&#39;ll take a look into it.","body":"@PeterTill I think I could but then I&#39;d have to reconstruct the original JSON file into the Express server. Considering the scope of my project I&#39;m not even sure that it&#39;d be worth the hassle but I&#39;ll take a look into it."},{"owner":{"account_id":4390047,"reputation":161,"user_id":3578776,"accept_rate":20,"display_name":"grizzo"},"score":0,"creation_date":1684221641,"post_id":76247894,"comment_id":134481792,"body_markdown":"@knittl that was the solution. Thanks a lot and have a good day!","body":"@knittl that was the solution. Thanks a lot and have a good day!"}],"answers":[{"tags":[],"owner":{"account_id":4390047,"reputation":161,"user_id":3578776,"accept_rate":20,"display_name":"grizzo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684248468,"creation_date":1684221606,"answer_id":76260303,"question_id":76247894,"body_markdown":"As suggested by knittl the solution is to use the `JSON.stringify(req.body)`\r\ninstruction to be able to handle the JSON in its original form. ","title":"Express server reads JSON body incorrectly","body":"<p>As suggested by knittl the solution is to use the <code>JSON.stringify(req.body)</code>\ninstruction to be able to handle the JSON in its original form.</p>\n"}],"owner":{"account_id":4390047,"reputation":161,"user_id":3578776,"accept_rate":20,"display_name":"grizzo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1684248468,"creation_date":1684073299,"question_id":76247894,"body_markdown":"Hi I&#39;m trying to send a JSON file from a Java program to an Express server running on Node.js.\r\n\r\nThis is the Java method that&#39;s sending the JSON to the server:\r\n\r\n```\r\npublic static void sendToSolver(String file) throws MalformedURLException {\r\ntry {\r\nURL url = new URL(&quot;http://address/&quot;);\r\nHttpURLConnection con = (HttpURLConnection) url.openConnection();\r\ncon.setRequestMethod(&quot;POST&quot;);\r\ncon.setDoOutput(true);\r\ncon.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\ncon.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\ncon.setDoOutput(true);\r\ntry(OutputStream os = con.getOutputStream()) {\r\nbyte[] input = file.getBytes(&quot;utf-8&quot;);\r\nos.write(input, 0, input.length);\r\n}\r\nSystem.out.println(con.getResponseCode() + &quot; &quot; + con.getResponseMessage());\r\ncon.disconnect();\r\n} catch (MalformedURLException e) {\r\nthrow new RuntimeException(e);\r\n\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```\r\n\r\nAnd this is the JSON that I&#39;m sending to the server that is being generated with the JACKSon library. Copying it into a JSON validator yields no issues.\r\n\r\n```\r\n[ {\r\n  &quot;name&quot; : &quot;Game&quot;,\r\n  &quot;blocks&quot; : [ {\r\n    &quot;shape&quot; : [ 2, 2 ],\r\n    &quot;position&quot; : [ 0, 1 ]\r\n  }, {\r\n    &quot;shape&quot; : [ 2, 1 ],\r\n    &quot;position&quot; : [ 0, 0 ]\r\n  }, {\r\n    &quot;shape&quot; : [ 2, 1 ],\r\n    &quot;position&quot; : [ 0, 3 ]\r\n  }, {\r\n    &quot;shape&quot; : [ 2, 1 ],\r\n    &quot;position&quot; : [ 2, 0 ]\r\n  }, {\r\n    &quot;shape&quot; : [ 2, 1 ],\r\n    &quot;position&quot; : [ 2, 3 ]\r\n  }, {\r\n    &quot;shape&quot; : [ 1, 1 ],\r\n    &quot;position&quot; : [ 2, 1 ]\r\n  }, {\r\n    &quot;shape&quot; : [ 1, 1 ],\r\n    &quot;position&quot; : [ 2, 2 ]\r\n  }, {\r\n    &quot;shape&quot; : [ 1, 1 ],\r\n    &quot;position&quot; : [ 3, 1 ]\r\n  }, {\r\n    &quot;shape&quot; : [ 1, 1 ],\r\n    &quot;position&quot; : [ 3, 2 ]\r\n  }, {\r\n    &quot;shape&quot; : [ 1, 2 ],\r\n    &quot;position&quot; : [ 4, 1 ]\r\n  } ]\r\n} ]\r\n```\r\n\r\nAnd, finally, this is the simple express server that I&#39;m using to receive this JSON:\r\n\r\n```\r\nconst express = require(&#39;express&#39;)\r\nconst app = express()\r\n\r\napp.use(express.json());\r\nconst port = 80\r\n\r\napp.post(&#39;/&#39;, (req, res) =\\&gt; {\r\nconsole.log(req.body);\r\nres.send(&#39;Data received&#39;);\r\n});\r\n\r\n```\r\nSo when I try to send the JSON from the Java program I receive back a 200 response but the content of the request&#39;s body that gets printed from Node.js looks like this\r\n\r\n```\r\n[\r\n  {\r\n    name: &#39;Game&#39;,\r\n    blocks: [\r\n      [Object], [Object],\r\n      [Object], [Object],\r\n      [Object], [Object],\r\n      [Object], [Object],\r\n      [Object], [Object]\r\n    ]\r\n  }\r\n]\r\n```\r\n\r\nSo the *name* field is being read without a problem, but then the following array is completely botched and it doesn&#39;t even contain ten fields like the original JSON.\r\n\r\nI don&#39;t really understand how this happens as the JSON clearly gets sent but I can&#39;t see whether this issue is caused by the Java program or if that&#39;s an issue caused by express/Node.","title":"Express server reads JSON body incorrectly","body":"<p>Hi I'm trying to send a JSON file from a Java program to an Express server running on Node.js.</p>\n<p>This is the Java method that's sending the JSON to the server:</p>\n<pre><code>public static void sendToSolver(String file) throws MalformedURLException {\ntry {\nURL url = new URL(&quot;http://address/&quot;);\nHttpURLConnection con = (HttpURLConnection) url.openConnection();\ncon.setRequestMethod(&quot;POST&quot;);\ncon.setDoOutput(true);\ncon.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\ncon.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\ncon.setDoOutput(true);\ntry(OutputStream os = con.getOutputStream()) {\nbyte[] input = file.getBytes(&quot;utf-8&quot;);\nos.write(input, 0, input.length);\n}\nSystem.out.println(con.getResponseCode() + &quot; &quot; + con.getResponseMessage());\ncon.disconnect();\n} catch (MalformedURLException e) {\nthrow new RuntimeException(e);\n\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>And this is the JSON that I'm sending to the server that is being generated with the JACKSon library. Copying it into a JSON validator yields no issues.</p>\n<pre><code>[ {\n  &quot;name&quot; : &quot;Game&quot;,\n  &quot;blocks&quot; : [ {\n    &quot;shape&quot; : [ 2, 2 ],\n    &quot;position&quot; : [ 0, 1 ]\n  }, {\n    &quot;shape&quot; : [ 2, 1 ],\n    &quot;position&quot; : [ 0, 0 ]\n  }, {\n    &quot;shape&quot; : [ 2, 1 ],\n    &quot;position&quot; : [ 0, 3 ]\n  }, {\n    &quot;shape&quot; : [ 2, 1 ],\n    &quot;position&quot; : [ 2, 0 ]\n  }, {\n    &quot;shape&quot; : [ 2, 1 ],\n    &quot;position&quot; : [ 2, 3 ]\n  }, {\n    &quot;shape&quot; : [ 1, 1 ],\n    &quot;position&quot; : [ 2, 1 ]\n  }, {\n    &quot;shape&quot; : [ 1, 1 ],\n    &quot;position&quot; : [ 2, 2 ]\n  }, {\n    &quot;shape&quot; : [ 1, 1 ],\n    &quot;position&quot; : [ 3, 1 ]\n  }, {\n    &quot;shape&quot; : [ 1, 1 ],\n    &quot;position&quot; : [ 3, 2 ]\n  }, {\n    &quot;shape&quot; : [ 1, 2 ],\n    &quot;position&quot; : [ 4, 1 ]\n  } ]\n} ]\n</code></pre>\n<p>And, finally, this is the simple express server that I'm using to receive this JSON:</p>\n<pre><code>const express = require('express')\nconst app = express()\n\napp.use(express.json());\nconst port = 80\n\napp.post('/', (req, res) =\\&gt; {\nconsole.log(req.body);\nres.send('Data received');\n});\n\n</code></pre>\n<p>So when I try to send the JSON from the Java program I receive back a 200 response but the content of the request's body that gets printed from Node.js looks like this</p>\n<pre><code>[\n  {\n    name: 'Game',\n    blocks: [\n      [Object], [Object],\n      [Object], [Object],\n      [Object], [Object],\n      [Object], [Object],\n      [Object], [Object]\n    ]\n  }\n]\n</code></pre>\n<p>So the <em>name</em> field is being read without a problem, but then the following array is completely botched and it doesn't even contain ten fields like the original JSON.</p>\n<p>I don't really understand how this happens as the JSON clearly gets sent but I can't see whether this issue is caused by the Java program or if that's an issue caused by express/Node.</p>\n"},{"tags":["java","gradle","npm","gitlab","snyk"],"owner":{"account_id":12256919,"reputation":11,"user_id":8945732,"display_name":"Mike J."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684248011,"creation_date":1528285640,"question_id":50719656,"body_markdown":"I am trying to integrate Snyk into my GitLab CI pipeline. I install it with npm, authenticate with my personal token and run `snyk test`. I get the following error which prevents me from getting the results:\r\n\r\n        Testing /builds/User/pipeline...\r\n    Downloading https://services.gradle.org/distributions/gradle-4.5-all.zip\r\n    ................................................................................\r\n    \r\n    Unzipping /root/.gradle/wrapper/dists/gradle-4.5-all/cg9lyzfg3iwv6fa00os9gcgj4/gradle-4.5-all.zip to /root/.gradle/wrapper/dists/gradle-4.5-all/cg9lyzfg3iwv6fa00os9gcgj4\r\n    Set executable permissions for: /root/.gradle/wrapper/dists/gradle-4.5-all/cg9lyzfg3iwv6fa00os9gcgj4/gradle-4.5/bin/gradle\r\n    \r\n    \r\n    ERROR: Job failed: exit code 1","title":"Permission error when using Snyk for gradle wrapper in GitLab","body":"<p>I am trying to integrate Snyk into my GitLab CI pipeline. I install it with npm, authenticate with my personal token and run <code>snyk test</code>. I get the following error which prevents me from getting the results:</p>\n\n<pre><code>    Testing /builds/User/pipeline...\nDownloading https://services.gradle.org/distributions/gradle-4.5-all.zip\n................................................................................\n\nUnzipping /root/.gradle/wrapper/dists/gradle-4.5-all/cg9lyzfg3iwv6fa00os9gcgj4/gradle-4.5-all.zip to /root/.gradle/wrapper/dists/gradle-4.5-all/cg9lyzfg3iwv6fa00os9gcgj4\nSet executable permissions for: /root/.gradle/wrapper/dists/gradle-4.5-all/cg9lyzfg3iwv6fa00os9gcgj4/gradle-4.5/bin/gradle\n\n\nERROR: Job failed: exit code 1\n</code></pre>\n"},{"tags":["java","spring","authentication"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1684246263,"post_id":76263991,"comment_id":134487867,"body_markdown":"Sounds like your production application has multiple threads to handle requests, while your local dev version doesn&#39;t.","body":"Sounds like your production application has multiple threads to handle requests, while your local dev version doesn&#39;t."},{"owner":{"account_id":13909549,"reputation":37,"user_id":10043100,"display_name":"mihu"},"score":0,"creation_date":1684247873,"post_id":76263991,"comment_id":134488344,"body_markdown":"tbh I think the same but my techlead insists that the reason behind it is different, so I want to find out what are the other possible causes","body":"tbh I think the same but my techlead insists that the reason behind it is different, so I want to find out what are the other possible causes"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684258174,"post_id":76263991,"comment_id":134491035,"body_markdown":"2 request with same data, 1 is always first. You are checking at the same moment both think user doesn&#39;t exist, both try to create a new one, only one will succeed. The checks aren&#39;t fool proof and will fail in just this scenario and is what you encounter. Instead of checking, catch the duplicate key exception and handle that.","body":"2 request with same data, 1 is always first. You are checking at the same moment both think user doesn&#39;t exist, both try to create a new one, only one will succeed. The checks aren&#39;t fool proof and will fail in just this scenario and is what you encounter. Instead of checking, catch the duplicate key exception and handle that."}],"answers":[{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684247120,"creation_date":1684247120,"answer_id":76264189,"question_id":76263991,"body_markdown":"You told us nothing about your production environment. But that&#39;s okay, we can just presume that it is another one of those extremely complex java web application servers with a deep stack full of layers of... stuff.  \r\n\r\nIn such scenarios you have to always be concerned with concurrency. \r\n\r\nYou cannot just execute statements assuming that no other statement will happen to execute between them, you cannot execute event handlers in a certain order and assume that their side-effects will be applied on the server in the same order, etc.   Quite often, you cannot even assume that data which was just written by one event handler is visible by another.\r\n\r\nIn your scenario your complex stack is probably caching the database writes somewhere, perhaps on a per-thread basis, perhaps on a per-process basis. You may have thousands of threads, dozens of processes, and each time a request comes in it probably gets processed by one of them at random. So, your two attempts to add a user may be executed in any random order, and in largely disparate data spaces.\r\n\r\nTo avoid this, various special constructs must be utilized for performing any work which involves writing to a database (and some that involve reading) for guaranteeing that it will be performed atomically, and for guaranteeing the consistency of the data across request handlers. For example, database transactions. Other constructs that might be available to you depend on your specific stack.","title":"Difference between production and test environment in behavior of a method","body":"<p>You told us nothing about your production environment. But that's okay, we can just presume that it is another one of those extremely complex java web application servers with a deep stack full of layers of... stuff.</p>\n<p>In such scenarios you have to always be concerned with concurrency.</p>\n<p>You cannot just execute statements assuming that no other statement will happen to execute between them, you cannot execute event handlers in a certain order and assume that their side-effects will be applied on the server in the same order, etc.   Quite often, you cannot even assume that data which was just written by one event handler is visible by another.</p>\n<p>In your scenario your complex stack is probably caching the database writes somewhere, perhaps on a per-thread basis, perhaps on a per-process basis. You may have thousands of threads, dozens of processes, and each time a request comes in it probably gets processed by one of them at random. So, your two attempts to add a user may be executed in any random order, and in largely disparate data spaces.</p>\n<p>To avoid this, various special constructs must be utilized for performing any work which involves writing to a database (and some that involve reading) for guaranteeing that it will be performed atomically, and for guaranteeing the consistency of the data across request handlers. For example, database transactions. Other constructs that might be available to you depend on your specific stack.</p>\n"}],"owner":{"account_id":13909549,"reputation":37,"user_id":10043100,"display_name":"mihu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684247977,"creation_date":1684245908,"question_id":76263991,"body_markdown":"Ive got strange problem. There is a given method that saves user to the database or updates when a given user exists. There is double request (almost simultaneously) with the same user (I cant change that). \r\nIn a local environment this piece of code works as expected when given user doesn&#39;t exists a new User is created and then second request with same data goes without problem (findByIamNumberAndUpdate -&gt; userRepository::save). User is found in database and updated (as expected). However in a production environment the second try with the same user leads to problems  . Application behaves as if the first user wasn`t created and I get *duplicate key value violates unique constrain exception*. There is attempt to create two users. \r\nAny help appreciated :) \r\n```\r\n@Transactional\r\npublic Buyer upsertUser(User user) {\r\n\t\tString userEmail = StringUtils.deleteWhitespace(user.getUsername().toLowerCase());\r\n\t\treturn findByIamNumberAndUpdate(user, userEmail)\r\n\t\t\t\t.or(() -&gt; findByEmailAndUpdate(user, userEmail))\r\n\t\t\t\t.map(userRepository::save)\r\n\t\t\t\t.orElseGet(() -&gt; newUser(user, userEmail));\r\n\t}```\r\n","title":"Difference between production and test environment in behavior of a method","body":"<p>Ive got strange problem. There is a given method that saves user to the database or updates when a given user exists. There is double request (almost simultaneously) with the same user (I cant change that).\nIn a local environment this piece of code works as expected when given user doesn't exists a new User is created and then second request with same data goes without problem (findByIamNumberAndUpdate -&gt; userRepository::save). User is found in database and updated (as expected). However in a production environment the second try with the same user leads to problems  . Application behaves as if the first user wasn`t created and I get <em>duplicate key value violates unique constrain exception</em>. There is attempt to create two users.\nAny help appreciated :)</p>\n<pre><code>@Transactional\npublic Buyer upsertUser(User user) {\n        String userEmail = StringUtils.deleteWhitespace(user.getUsername().toLowerCase());\n        return findByIamNumberAndUpdate(user, userEmail)\n                .or(() -&gt; findByEmailAndUpdate(user, userEmail))\n                .map(userRepository::save)\n                .orElseGet(() -&gt; newUser(user, userEmail));\n    }```\n</code></pre>\n"},{"tags":["java","jwt","quarkus","github-api","smallrye"],"comments":[{"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"score":0,"creation_date":1684320010,"post_id":76262978,"comment_id":134500151,"body_markdown":"Can you please check with an independent tool the private key can indeed be read from `privateKey.pem` ? If it is GitHub, it might be an `EdDsa` key, in which case you&#39;d need to customize the algorithm (see https://quarkus.io/guides/security-jwt-build#smallrye-jwt-builder-configuration) or in the code with `Jwt.issuer(...).jws().algorithm(...)`. Note, `issuedAt` is not needed unless you&#39;d like to be precise about some time in the past, etc - it will be added automatically. Issuer, expiry. can also be configured (see the page I linked to earlier)","body":"Can you please check with an independent tool the private key can indeed be read from <code>privateKey.pem</code> ? If it is GitHub, it might be an <code>EdDsa</code> key, in which case you&#39;d need to customize the algorithm (see <a href=\"https://quarkus.io/guides/security-jwt-build#smallrye-jwt-builder-configuration\" rel=\"nofollow noreferrer\">quarkus.io/guides/&hellip;</a>) or in the code with <code>Jwt.issuer(...).jws().algorithm(...)</code>. Note, <code>issuedAt</code> is not needed unless you&#39;d like to be precise about some time in the past, etc - it will be added automatically. Issuer, expiry. can also be configured (see the page I linked to earlier)"},{"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"score":0,"creation_date":1684320291,"post_id":76262978,"comment_id":134500204,"body_markdown":"If you&#39;d like you can generate a test key pair and open a quarkus issue or discussion and I can have a look why the key can not be loaded. Or explain how can I get the same type of private key and I can try it...","body":"If you&#39;d like you can generate a test key pair and open a quarkus issue or discussion and I can have a look why the key can not be loaded. Or explain how can I get the same type of private key and I can try it..."},{"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"score":0,"creation_date":1684320790,"post_id":76262978,"comment_id":134500295,"body_markdown":"By the way do you have the PEM file starting immediately with `-----BEGIN PRIVATE KEY-----` or does it have some text starting with `Bag Attributes` ? If it has `Bag Attributes` - remove it and it should work - and I&#39;ll fix it on our side to make sure `Bag Attributes` are not interfering","body":"By the way do you have the PEM file starting immediately with <code>-----BEGIN PRIVATE KEY-----</code> or does it have some text starting with <code>Bag Attributes</code> ? If it has <code>Bag Attributes</code> - remove it and it should work - and I&#39;ll fix it on our side to make sure <code>Bag Attributes</code> are not interfering"},{"owner":{"account_id":28006918,"reputation":1,"user_id":21390162,"display_name":"ceid1987"},"score":1,"creation_date":1684324054,"post_id":76262978,"comment_id":134500986,"body_markdown":"@SergeyBeryozkin Hi, thank you for your help. I found out that the issue was that the privateKey.pem downloaded from my GitHub app was in PKCS1 format not PKCS8, meaning the header and footer looked like this `BEGIN RSA PRIVATE KEY` instead of `BEGIN PRIVATE KEY` which is why I was getting the error.","body":"@SergeyBeryozkin Hi, thank you for your help. I found out that the issue was that the privateKey.pem downloaded from my GitHub app was in PKCS1 format not PKCS8, meaning the header and footer looked like this <code>BEGIN RSA PRIVATE KEY</code> instead of <code>BEGIN PRIVATE KEY</code> which is why I was getting the error."},{"owner":{"account_id":28006918,"reputation":1,"user_id":21390162,"display_name":"ceid1987"},"score":0,"creation_date":1684324189,"post_id":76262978,"comment_id":134501020,"body_markdown":"However I still have an issue with actually authenticating with my GitHub app. I have successfully verified the JWT signature but I am still getting bad credentials on my api request so I will probably open a quarkus discussion for that. Unfortunately there is limited documentation for working with github apps.","body":"However I still have an issue with actually authenticating with my GitHub app. I have successfully verified the JWT signature but I am still getting bad credentials on my api request so I will probably open a quarkus discussion for that. Unfortunately there is limited documentation for working with github apps."},{"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"score":0,"creation_date":1684328322,"post_id":76262978,"comment_id":134501969,"body_markdown":"Sure, I opened https://github.com/smallrye/smallrye-jwt/issues/701 (`BEGIN RSA PRIVATE KEY` should really work), and yeah please open a discussion, looks like you might need to add a few claims into a token, if the signature is sound then the only other cause is that the token is missing some required claims expected by GitHub","body":"Sure, I opened <a href=\"https://github.com/smallrye/smallrye-jwt/issues/701\" rel=\"nofollow noreferrer\">github.com/smallrye/smallrye-jwt/issues/701</a> (<code>BEGIN RSA PRIVATE KEY</code> should really work), and yeah please open a discussion, looks like you might need to add a few claims into a token, if the signature is sound then the only other cause is that the token is missing some required claims expected by GitHub"},{"owner":{"account_id":28006918,"reputation":1,"user_id":21390162,"display_name":"ceid1987"},"score":0,"creation_date":1684334645,"post_id":76262978,"comment_id":134503660,"body_markdown":"Hi again, no need to open the discussion anymore. The problem I encountered was actually more related to how GitHub authentication works. I was trying to access contents of repos by authenticating as a GitHub app, which is not possible. The only way to access repos and their contents is to authenticate as a GitHub app installation.","body":"Hi again, no need to open the discussion anymore. The problem I encountered was actually more related to how GitHub authentication works. I was trying to access contents of repos by authenticating as a GitHub app, which is not possible. The only way to access repos and their contents is to authenticate as a GitHub app installation."},{"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"score":0,"creation_date":1684339674,"post_id":76262978,"comment_id":134504997,"body_markdown":"Sounds good. Sure. By the way, you may want to try to authenticate users via GitHub to Quarkus with `quarkus-oidc` and authorization code flow and `quarkus.oidc.provider=github` and then use Resteasy Reactive client to access Github repositories - Quarkus will take of propagating the code flow access token itself. If it can be of interest then please open a new discussion, cheers","body":"Sounds good. Sure. By the way, you may want to try to authenticate users via GitHub to Quarkus with <code>quarkus-oidc</code> and authorization code flow and <code>quarkus.oidc.provider=github</code> and then use Resteasy Reactive client to access Github repositories - Quarkus will take of propagating the code flow access token itself. If it can be of interest then please open a new discussion, cheers"}],"owner":{"account_id":28006918,"reputation":1,"user_id":21390162,"display_name":"ceid1987"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684247631,"creation_date":1684239643,"question_id":76262978,"body_markdown":"I am trying to create an endpoint on my Quarkus API to collect data from different github repos in my GitHub Organization. (GitHub Enterprise)\r\n\r\n\r\nI want to do so by authenticating to a GitHub app installed in my organization. I am following the guide on [quarkus.io](https://quarkus.io/guides/security-jwt).\r\n\r\nI have the app&#39;s `privateKey.pem` file stored in the `resources` folder of my project, where I have also set up the path to the file in `application.properties` like so:\r\n```\r\nsmallrye.jwt.sign.key.location=privateKey.pem\r\n```\r\nThe method to generate the JWT looks like this:\r\n## `TokenManager.java`\r\n```\r\n// imports\r\n\r\n@RequestScoped\r\npublic class TokenManager {\r\n\r\n  public String getJwt() {\r\n    return Jwt\r\n      .issuer(&quot;https://github.com/apps/appname&quot;)\r\n      .issuedAt(Instant.now())\r\n      .expiresAt(Instant.now().plusMillis(600000))\r\n      .sign();\r\n  }\r\n}\r\n```\r\nThe resulting string is used in the authorization header param of my api requests. \r\n\r\n### The error \r\n\r\nEven though my editor doesn&#39;t seem to recognize the property `smallrye.jwt.sign.key.location` it is actually passing but the underlying error that I&#39;m getting is \r\n```\r\nERROR [org.jbo.res.rea.com.cor.AbstractResteasyReactiveContext] (executor-thread-0) Request failed: io.smallrye.jwt.build.JwtSignatureException: SRJWT05009:\r\nat ....\r\nat ....\r\nCaused by: java.lang.IllegalArgumentException: SRJWT05028: Signing key can not be created from the loaded content\r\n```\r\n\r\nI am not sure what is causing this, and if my initial configuration is correct to begin with so any help would be appreciated.","title":"Unable to generate and sign a JWT for GitHub app authentification with Quarkus &amp; Smallrye jwt","body":"<p>I am trying to create an endpoint on my Quarkus API to collect data from different github repos in my GitHub Organization. (GitHub Enterprise)</p>\n<p>I want to do so by authenticating to a GitHub app installed in my organization. I am following the guide on <a href=\"https://quarkus.io/guides/security-jwt\" rel=\"nofollow noreferrer\">quarkus.io</a>.</p>\n<p>I have the app's <code>privateKey.pem</code> file stored in the <code>resources</code> folder of my project, where I have also set up the path to the file in <code>application.properties</code> like so:</p>\n<pre><code>smallrye.jwt.sign.key.location=privateKey.pem\n</code></pre>\n<p>The method to generate the JWT looks like this:</p>\n<h2><code>TokenManager.java</code></h2>\n<pre><code>// imports\n\n@RequestScoped\npublic class TokenManager {\n\n  public String getJwt() {\n    return Jwt\n      .issuer(&quot;https://github.com/apps/appname&quot;)\n      .issuedAt(Instant.now())\n      .expiresAt(Instant.now().plusMillis(600000))\n      .sign();\n  }\n}\n</code></pre>\n<p>The resulting string is used in the authorization header param of my api requests.</p>\n<h3>The error</h3>\n<p>Even though my editor doesn't seem to recognize the property <code>smallrye.jwt.sign.key.location</code> it is actually passing but the underlying error that I'm getting is</p>\n<pre><code>ERROR [org.jbo.res.rea.com.cor.AbstractResteasyReactiveContext] (executor-thread-0) Request failed: io.smallrye.jwt.build.JwtSignatureException: SRJWT05009:\nat ....\nat ....\nCaused by: java.lang.IllegalArgumentException: SRJWT05028: Signing key can not be created from the loaded content\n</code></pre>\n<p>I am not sure what is causing this, and if my initial configuration is correct to begin with so any help would be appreciated.</p>\n"},{"tags":["java","android","android-volley","response","jsonobjectrequest"],"answers":[{"tags":[],"owner":{"account_id":28314653,"reputation":43,"user_id":21651403,"display_name":"phishing_phil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684247514,"creation_date":1684152749,"answer_id":76253950,"question_id":76176694,"body_markdown":"I fixed it by myself.&lt;p&gt; \r\nThe flaw was the async behavior of Volley. I set it by creating a **new Intent** and recalling the main activity `onResponse()`.","title":"JSONObject Request does not get called frequently Android","body":"<p>I fixed it by myself.<p>\nThe flaw was the async behavior of Volley. I set it by creating a <strong>new Intent</strong> and recalling the main activity <code>onResponse()</code>.</p>\n"}],"owner":{"account_id":28314653,"reputation":43,"user_id":21651403,"display_name":"phishing_phil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1684247514,"creation_date":1683227963,"question_id":76176694,"body_markdown":"I have a JSONObjectRequest that wont get called everytime. So there will be no response. I also have another JSONObjectRequest that will always be called. Sometimes i change the code in the MainActivity and it will be called again and then not. The backend works just fine. Currently this is how the method looks like: \r\n\r\n    public void getPictureOfAllIngredients( final GetAllResponseListener callback){\r\n        RequestQueue queue = Volley.newRequestQueue(context);\r\n        String url =&quot;&quot;;\r\n\r\n        JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(url,\r\n                new Response.Listener&lt;JSONObject&gt;() {\r\n                    @Override\r\n                    public void onResponse(JSONObject response) {\r\n                        try {\r\n                            String status = response.getString(&quot;status&quot;);\r\n                            String message = response.getString(&quot;message&quot;);\r\n                            if(status.equals(&quot;success&quot;)){\r\n                                callback.onResponse(response.toString());\r\n                            }else{\r\n\r\n                            }\r\n                        } catch (JSONException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                Toast.makeText(context, error.toString(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n        queue.add(jsonObjectRequest);\r\n    }\r\n\r\nThis is how the method looks that calls it: \r\n\r\n    public void initDataIngredients() throws IOException {\r\n\r\n        data = (ArrayList&lt;IngredientEntity&gt;) ObjectSerializer.deserialize(sharedPreferences.getString(&quot;ingredients&quot;, null));\r\n\r\n        if( data == null  || data.size() == 0\r\n        ){\r\n            ingredientService.getPictureOfAllIngredients(new IngredientService.GetAllResponseListener() {\r\n                @Override\r\n                public void onError(String Message) {\r\n                    String x = Message;\r\n                }\r\n\r\n                @Override\r\n                public void onResponse(String Message) {\r\n                    mapper= new RecipeMapper();\r\n                    data = mapper.parseIngredientDatabaseEntityToRegularEntity(Message);\r\n                    try {\r\n                        editor.putString(&quot;ingredients&quot;, ObjectSerializer.serialize(data)).apply();\r\n                    } catch (IOException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            });\r\n            data = (ArrayList&lt;IngredientEntity&gt;) ObjectSerializer.deserialize(sharedPreferences.getString(&quot;ingredients&quot;, null));\r\n        }\r\n\r\n    }\r\n\r\nAnd this is how the method looks that always gets called:\r\n\r\n    public void getAllRecipes( final GetAllResponseListener callback){\r\n        RequestQueue queue = Volley.newRequestQueue(context);\r\n        String url =&quot;&quot;;\r\n\r\n        JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(url,\r\n                new Response.Listener&lt;JSONObject&gt;() {\r\n                    @Override\r\n                    public void onResponse(JSONObject response) {\r\n                        try {\r\n                            String status = response.getString(&quot;status&quot;);\r\n                            String message = response.getString(&quot;message&quot;);\r\n                            if(status.equals(&quot;success&quot;)){\r\n                                callback.onResponse(response.toString());\r\n                            }else{\r\n\r\n                            }\r\n                        } catch (JSONException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                Toast.makeText(context, error.toString(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n        queue.add(jsonObjectRequest);\r\n    }\r\n\r\nAnd this is how the method looks that calls the working request:\r\n\r\n      public void initDataRecipes(){\r\n\r\n        ArrayList&lt;RecipeEntity&gt; array = new ArrayList&lt;RecipeEntity&gt;();\r\n        //if(sharedPreferences.getString(&quot;recipes&quot;,null) == null) {\r\n            ingredientService.getAllRecipes(new IngredientService.GetAllResponseListener() {\r\n                @Override\r\n                public void onError(String Message) {\r\n\r\n                }\r\n\r\n                @Override\r\n                public void onResponse(String Message) {\r\n                    mapper= new RecipeMapper();\r\n                    recipes = mapper.parseRecipeDatabaseEntityToRegularEntity(Message);\r\n\r\n\r\n\r\n\r\n                    try {\r\n                        editor.putString(&quot;ingredients&quot;, ObjectSerializer.serialize(data)).apply();\r\n                    } catch (IOException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            });\r\n\r\nJ just cant figure out why one gets called an the other one not. I also looked up in the debugger where it goes and it just jumps the responses both. Any help will be much appreciated.\r\n\r\n\r\n***EDIT***\r\n\r\nI figured out the service gets only called when the onCreate method is called two times. So when i navigate out of the main page and navigate back into it, the service will be called. Any guesses??","title":"JSONObject Request does not get called frequently Android","body":"<p>I have a JSONObjectRequest that wont get called everytime. So there will be no response. I also have another JSONObjectRequest that will always be called. Sometimes i change the code in the MainActivity and it will be called again and then not. The backend works just fine. Currently this is how the method looks like:</p>\n<pre><code>public void getPictureOfAllIngredients( final GetAllResponseListener callback){\n    RequestQueue queue = Volley.newRequestQueue(context);\n    String url =&quot;&quot;;\n\n    JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(url,\n            new Response.Listener&lt;JSONObject&gt;() {\n                @Override\n                public void onResponse(JSONObject response) {\n                    try {\n                        String status = response.getString(&quot;status&quot;);\n                        String message = response.getString(&quot;message&quot;);\n                        if(status.equals(&quot;success&quot;)){\n                            callback.onResponse(response.toString());\n                        }else{\n\n                        }\n                    } catch (JSONException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }, new Response.ErrorListener() {\n        @Override\n        public void onErrorResponse(VolleyError error) {\n            Toast.makeText(context, error.toString(), Toast.LENGTH_SHORT).show();\n        }\n    });\n    queue.add(jsonObjectRequest);\n}\n</code></pre>\n<p>This is how the method looks that calls it:</p>\n<pre><code>public void initDataIngredients() throws IOException {\n\n    data = (ArrayList&lt;IngredientEntity&gt;) ObjectSerializer.deserialize(sharedPreferences.getString(&quot;ingredients&quot;, null));\n\n    if( data == null  || data.size() == 0\n    ){\n        ingredientService.getPictureOfAllIngredients(new IngredientService.GetAllResponseListener() {\n            @Override\n            public void onError(String Message) {\n                String x = Message;\n            }\n\n            @Override\n            public void onResponse(String Message) {\n                mapper= new RecipeMapper();\n                data = mapper.parseIngredientDatabaseEntityToRegularEntity(Message);\n                try {\n                    editor.putString(&quot;ingredients&quot;, ObjectSerializer.serialize(data)).apply();\n                } catch (IOException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        });\n        data = (ArrayList&lt;IngredientEntity&gt;) ObjectSerializer.deserialize(sharedPreferences.getString(&quot;ingredients&quot;, null));\n    }\n\n}\n</code></pre>\n<p>And this is how the method looks that always gets called:</p>\n<pre><code>public void getAllRecipes( final GetAllResponseListener callback){\n    RequestQueue queue = Volley.newRequestQueue(context);\n    String url =&quot;&quot;;\n\n    JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(url,\n            new Response.Listener&lt;JSONObject&gt;() {\n                @Override\n                public void onResponse(JSONObject response) {\n                    try {\n                        String status = response.getString(&quot;status&quot;);\n                        String message = response.getString(&quot;message&quot;);\n                        if(status.equals(&quot;success&quot;)){\n                            callback.onResponse(response.toString());\n                        }else{\n\n                        }\n                    } catch (JSONException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }, new Response.ErrorListener() {\n        @Override\n        public void onErrorResponse(VolleyError error) {\n            Toast.makeText(context, error.toString(), Toast.LENGTH_SHORT).show();\n        }\n    });\n    queue.add(jsonObjectRequest);\n}\n</code></pre>\n<p>And this is how the method looks that calls the working request:</p>\n<pre><code>  public void initDataRecipes(){\n\n    ArrayList&lt;RecipeEntity&gt; array = new ArrayList&lt;RecipeEntity&gt;();\n    //if(sharedPreferences.getString(&quot;recipes&quot;,null) == null) {\n        ingredientService.getAllRecipes(new IngredientService.GetAllResponseListener() {\n            @Override\n            public void onError(String Message) {\n\n            }\n\n            @Override\n            public void onResponse(String Message) {\n                mapper= new RecipeMapper();\n                recipes = mapper.parseRecipeDatabaseEntityToRegularEntity(Message);\n\n\n\n\n                try {\n                    editor.putString(&quot;ingredients&quot;, ObjectSerializer.serialize(data)).apply();\n                } catch (IOException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        });\n</code></pre>\n<p>J just cant figure out why one gets called an the other one not. I also looked up in the debugger where it goes and it just jumps the responses both. Any help will be much appreciated.</p>\n<p><em><strong>EDIT</strong></em></p>\n<p>I figured out the service gets only called when the onCreate method is called two times. So when i navigate out of the main page and navigate back into it, the service will be called. Any guesses??</p>\n"},{"tags":["java","android","printing"],"comments":[{"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"score":0,"creation_date":1684122875,"post_id":76250649,"comment_id":134465167,"body_markdown":"Can you please add some code which you tried?","body":"Can you please add some code which you tried?"},{"owner":{"account_id":28602192,"reputation":1,"user_id":21898879,"display_name":"user21898879"},"score":0,"creation_date":1684125813,"post_id":76250649,"comment_id":134465385,"body_markdown":"I implemented the common code to implement the printservice and printdiscovery code and register them in the manifest. I couldn&#39;t attach it because I don&#39;t know what code is controlling the issue.","body":"I implemented the common code to implement the printservice and printdiscovery code and register them in the manifest. I couldn&#39;t attach it because I don&#39;t know what code is controlling the issue."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684181506,"post_id":76250649,"comment_id":134477103,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":28602192,"reputation":1,"user_id":21898879,"display_name":"user21898879"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684247476,"creation_date":1684204545,"answer_id":76259026,"question_id":76250649,"body_markdown":"I solved it If you add `android:permission=&quot;android.permission.START_PRINT_SERVICE_CONFIG_ACTIVITY&quot;` and set the exported property as `true` to the activity registered as addPrintersActivity in the printservice-related xml file in AndroidManifest&#39;s service, you can add printing from Android&#39;s default print service normally.","title":"Unable to add printer to application using PrintService in Android","body":"<p>I solved it If you add <code>android:permission=&quot;android.permission.START_PRINT_SERVICE_CONFIG_ACTIVITY&quot;</code> and set the exported property as <code>true</code> to the activity registered as addPrintersActivity in the printservice-related xml file in AndroidManifest's service, you can add printing from Android's default print service normally.</p>\n"}],"owner":{"account_id":28602192,"reputation":1,"user_id":21898879,"display_name":"user21898879"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684247476,"creation_date":1684119957,"question_id":76250649,"body_markdown":"img_link : https://imgur.com/a/v53gyfk\r\n\r\nI configure an application that supports PrintService, but it says Unable to add a printer to the application output with a picture. What values ​​do I need to modify to make it appear as Add Printer?\r\n\r\n\r\nI can print normally using PrintService and referencing developer.android.com didn&#39;t solve my problem.","title":"Unable to add printer to application using PrintService in Android","body":"<p>img_link : <a href=\"https://imgur.com/a/v53gyfk\" rel=\"nofollow noreferrer\">https://imgur.com/a/v53gyfk</a></p>\n<p>I configure an application that supports PrintService, but it says Unable to add a printer to the application output with a picture. What values ​​do I need to modify to make it appear as Add Printer?</p>\n<p>I can print normally using PrintService and referencing developer.android.com didn't solve my problem.</p>\n"},{"tags":["java","spring","unit-testing","private","access-modifiers"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":4,"creation_date":1383136815,"post_id":19682293,"comment_id":29233421,"body_markdown":"If your testing framework can inject mocks in private fields, then go private. Otherwise, go package-protected. It doesn&#39;t matter much anyway, unless you fear that junior developers access package-protected fields from another class of the same package.","body":"If your testing framework can inject mocks in private fields, then go private. Otherwise, go package-protected. It doesn&#39;t matter much anyway, unless you fear that junior developers access package-protected fields from another class of the same package."}],"answers":[{"tags":[],"owner":{"account_id":137963,"reputation":1295,"user_id":2053415,"display_name":"Simon Verhoeven"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1383136903,"creation_date":1383136903,"answer_id":19682558,"question_id":19682293,"body_markdown":"The first case also allows you to inject mocks depending on the framework. For example using the `@InjectMocks` annotation of Mockito. You also have `ReflectionTestUtils.setField` in Spring test, ...\r\n\r\nI&#39;m personally not too fond of modifying classes too much for testing purposes, so I would go for the first case. But at the end of the day this mostly depends on your preferred test framework.","title":"Spring @Autowired fields - which access modifier, private or package-private?","body":"<p>The first case also allows you to inject mocks depending on the framework. For example using the <code>@InjectMocks</code> annotation of Mockito. You also have <code>ReflectionTestUtils.setField</code> in Spring test, ...</p>\n\n<p>I'm personally not too fond of modifying classes too much for testing purposes, so I would go for the first case. But at the end of the day this mostly depends on your preferred test framework.</p>\n"},{"tags":[],"owner":{"account_id":209421,"reputation":1299,"user_id":2681568,"accept_rate":100,"display_name":"trf"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1383136988,"creation_date":1383136988,"answer_id":19682586,"question_id":19682293,"body_markdown":"I generally prefer having the field private and using setter injection:\r\n\r\n    public class MyClass {\r\n    \r\n        private MyService myService;\r\n\r\n        @Autowired\r\n        public void setMyService(MyService myService) {\r\n            this.myService = myService;\r\n        }\r\n    }   \r\n\r\nallowing the service to be @Autowired, but set with a mocked instance for unit testing.","title":"Spring @Autowired fields - which access modifier, private or package-private?","body":"<p>I generally prefer having the field private and using setter injection:</p>\n\n<pre><code>public class MyClass {\n\n    private MyService myService;\n\n    @Autowired\n    public void setMyService(MyService myService) {\n        this.myService = myService;\n    }\n}   \n</code></pre>\n\n<p>allowing the service to be @Autowired, but set with a mocked instance for unit testing.</p>\n"},{"tags":[],"owner":{"account_id":1712852,"reputation":10572,"user_id":1570523,"display_name":"Debojit Saikia"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1684247439,"creation_date":1383137089,"answer_id":19682621,"question_id":19682293,"body_markdown":"&gt; So both cases work fine, but which is more recommended, particularly with regards to testing?\r\n\r\nI think the properties should be `private`:\r\n\r\n    @Autowired\r\n    private MyService myService;\r\n\r\nAs it is always good to have getter methods to provide access to the properties instead of allowing other classes to have direct access to them. \r\n\r\nAnd for testing purposes, injection of `mocks` of `private properties` will work the same way as that of `package-private` properties.\r\n\r\nFor example, with `Mockito`, you can inject a mock of `private MyService` into `MyClass` as this:\r\n```java\r\npublic class MyClassTest {\r\n    @Mock\r\n    MyService service;\r\n    \r\n    @InjectMocks\r\n    MyClass serv = new MyClass();\r\n    \r\n    @Before\r\n    public void init() {\r\n        MockitoAnnotations.initMocks(this);\r\n    }\r\n}\r\n```","title":"Spring @Autowired fields - which access modifier, private or package-private?","body":"<blockquote>\n<p>So both cases work fine, but which is more recommended, particularly with regards to testing?</p>\n</blockquote>\n<p>I think the properties should be <code>private</code>:</p>\n<pre><code>@Autowired\nprivate MyService myService;\n</code></pre>\n<p>As it is always good to have getter methods to provide access to the properties instead of allowing other classes to have direct access to them.</p>\n<p>And for testing purposes, injection of <code>mocks</code> of <code>private properties</code> will work the same way as that of <code>package-private</code> properties.</p>\n<p>For example, with <code>Mockito</code>, you can inject a mock of <code>private MyService</code> into <code>MyClass</code> as this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClassTest {\n    @Mock\n    MyService service;\n    \n    @InjectMocks\n    MyClass serv = new MyClass();\n    \n    @Before\n    public void init() {\n        MockitoAnnotations.initMocks(this);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1581697300,"creation_date":1519376380,"answer_id":48944334,"question_id":19682293,"body_markdown":"I would generally NOT use @Autowired for private fields or methods. @Autowired means, somebody from outside will set this field. &quot;Private&quot; on the other hand means nobody except this class is allowed to use it.\r\n\r\nMixing @Autowired and private can theoretically cause problems, if the JIT compiler somehow optimizes this code. It can be a Java Memory Model concurrency related problem, which will be production-only and impossible-to-reproduce.\r\n\r\nI would make the Autowired fields at least package visible. As free bonus it will allow to write unit tests without tricks and workarounds.\r\n\r\n**UPDATE:** Additionally I would declare such fields as `volatile` to avoid Java Memory Model related visibility conflicts. Spring developers do some tricks to make autowired fields work without explicitly synchronizing the access, but I am not sure these tricks are working smoothly in any JVM on any hardware.","title":"Spring @Autowired fields - which access modifier, private or package-private?","body":"<p>I would generally NOT use @Autowired for private fields or methods. @Autowired means, somebody from outside will set this field. \"Private\" on the other hand means nobody except this class is allowed to use it.</p>\n\n<p>Mixing @Autowired and private can theoretically cause problems, if the JIT compiler somehow optimizes this code. It can be a Java Memory Model concurrency related problem, which will be production-only and impossible-to-reproduce.</p>\n\n<p>I would make the Autowired fields at least package visible. As free bonus it will allow to write unit tests without tricks and workarounds.</p>\n\n<p><strong>UPDATE:</strong> Additionally I would declare such fields as <code>volatile</code> to avoid Java Memory Model related visibility conflicts. Spring developers do some tricks to make autowired fields work without explicitly synchronizing the access, but I am not sure these tricks are working smoothly in any JVM on any hardware.</p>\n"},{"tags":[],"owner":{"account_id":12160582,"reputation":36,"user_id":8878249,"display_name":"Jean-Michel Bernard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531385530,"creation_date":1531385530,"answer_id":51301193,"question_id":19682293,"body_markdown":"&lt;br&gt;\r\nI would rather use private on @Autowired fields, for a few reasons:\r\n\r\n - I use these fields for dependency injection, generally in service classes, to use other service classes. In that case I want to keep those fields to the current class.\r\n - Also, extending this class can lead to different logic, so maybe another implementation of the @Autowired fields is needed, hence the private instead of package-private.\r\n - Furthermore, when refactoring, it helps to see when such a field is not used anymore, as package-private fields don&#39;t show a warning when unused (assuming your IDE is Eclipse - I actually don&#39;t know for other IDEs).","title":"Spring @Autowired fields - which access modifier, private or package-private?","body":"<p><br>\nI would rather use private on @Autowired fields, for a few reasons:</p>\n\n<ul>\n<li>I use these fields for dependency injection, generally in service classes, to use other service classes. In that case I want to keep those fields to the current class.</li>\n<li>Also, extending this class can lead to different logic, so maybe another implementation of the @Autowired fields is needed, hence the private instead of package-private.</li>\n<li>Furthermore, when refactoring, it helps to see when such a field is not used anymore, as package-private fields don't show a warning when unused (assuming your IDE is Eclipse - I actually don't know for other IDEs).</li>\n</ul>\n"}],"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29340,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"accepted_answer_id":19682558,"answer_count":5,"score":23,"last_activity_date":1684247439,"creation_date":1383136199,"question_id":19682293,"body_markdown":"Let&#39;s say that we use the `@Autowired` annotation over various fields in a class, and that we didn&#39;t write setters or constructors that can also set the fields.\r\n\r\nQuestion - what should the access modifier be, `private` or `package-private` (i.e. none) ?\r\n\r\nFor example: \r\n\r\n    public class MyClass {\r\n        @Autowired\r\n        private MyService myService;\r\n    }\r\n\r\nvs\r\n\r\n    public class MyClass {\r\n        @Autowired\r\n        MyService myService;\r\n    }\r\n\r\nIn the first case (`private` fields) Spring uses reflection to wire up the field, even if it doesn&#39;t have a setter.\r\n\r\nThe second case (`package-private` fields) allows us to be able to access those fields (for example, to set up mocks) if we need to extend the class for testing purposes.\r\n\r\nSo both cases work fine, but which is more recommended, particularly with regards to testing?\r\n","title":"Spring @Autowired fields - which access modifier, private or package-private?","body":"<p>Let's say that we use the <code>@Autowired</code> annotation over various fields in a class, and that we didn't write setters or constructors that can also set the fields.</p>\n\n<p>Question - what should the access modifier be, <code>private</code> or <code>package-private</code> (i.e. none) ?</p>\n\n<p>For example: </p>\n\n<pre><code>public class MyClass {\n    @Autowired\n    private MyService myService;\n}\n</code></pre>\n\n<p>vs</p>\n\n<pre><code>public class MyClass {\n    @Autowired\n    MyService myService;\n}\n</code></pre>\n\n<p>In the first case (<code>private</code> fields) Spring uses reflection to wire up the field, even if it doesn't have a setter.</p>\n\n<p>The second case (<code>package-private</code> fields) allows us to be able to access those fields (for example, to set up mocks) if we need to extend the class for testing purposes.</p>\n\n<p>So both cases work fine, but which is more recommended, particularly with regards to testing?</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":250937,"reputation":23604,"user_id":527968,"display_name":"Liviu T."},"score":0,"creation_date":1331591208,"post_id":9675666,"comment_id":12291653,"body_markdown":"Try and think of places to call the method from","body":"Try and think of places to call the method from"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1331591220,"post_id":9675666,"comment_id":12291657,"body_markdown":"Not sure if that is the question, but because it is static, you can call it on an instance (`myClassInstance.xMethod()`) or on the class itself (`MyClass.xMethod()`)...","body":"Not sure if that is the question, but because it is static, you can call it on an instance (<code>myClassInstance.xMethod()</code>) or on the class itself (<code>MyClass.xMethod()</code>)..."},{"owner":{"account_id":51914,"reputation":67901,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"score":5,"creation_date":1331591220,"post_id":9675666,"comment_id":12291658,"body_markdown":"Since this is a beginners homework question, I assume your prof is quite wrong. Because, there is only one correct way of invoking it.","body":"Since this is a beginners homework question, I assume your prof is quite wrong. Because, there is only one correct way of invoking it."},{"owner":{"account_id":335015,"reputation":2948,"user_id":661841,"accept_rate":80,"display_name":"RestingRobot"},"score":0,"creation_date":1331591250,"post_id":9675666,"comment_id":12291670,"body_markdown":"Stack overflow isn&#39;t really here to do your homework...best to try googling and/or reading texts on the matter.","body":"Stack overflow isn&#39;t really here to do your homework...best to try googling and/or reading texts on the matter."},{"owner":{"account_id":3108,"reputation":10370,"user_id":4411,"accept_rate":87,"display_name":"Jagger"},"score":1,"creation_date":1331591265,"post_id":9675666,"comment_id":12291676,"body_markdown":"Give the context. This method could be for example invoked with `MyClass.xMethod(myarray)` or `MyClass instance = new MyClass(); instance.xMethod(myarray)`.","body":"Give the context. This method could be for example invoked with <code>MyClass.xMethod(myarray)</code> or <code>MyClass instance = new MyClass(); instance.xMethod(myarray)</code>."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1331591281,"post_id":9675666,"comment_id":12291680,"body_markdown":"@RyanAmos considering the question, I doubt this is the answer ;-)","body":"@RyanAmos considering the question, I doubt this is the answer ;-)"},{"owner":{"account_id":1028420,"reputation":18799,"user_id":1037210,"accept_rate":100,"display_name":"Lion"},"score":0,"creation_date":1331591646,"post_id":9675666,"comment_id":12291775,"body_markdown":"Forget your confusion and believe only in reality. It&#39;s a wasting of your priceless time.","body":"Forget your confusion and believe only in reality. It&#39;s a wasting of your priceless time."},{"owner":{"account_id":117745,"reputation":5429,"user_id":308219,"display_name":"Michael Konietzka"},"score":2,"creation_date":1331592510,"post_id":9675666,"comment_id":12292017,"body_markdown":"Please give a feedback what your teacher expected. In the Answers section you see man professionals a little bit lost with your homework. Even Jon Skeet is not answering.","body":"Please give a feedback what your teacher expected. In the Answers section you see man professionals a little bit lost with your homework. Even Jon Skeet is not answering."},{"owner":{"account_id":284195,"reputation":5422,"user_id":582136,"accept_rate":100,"display_name":"Ryan Amos"},"score":0,"creation_date":1331592655,"post_id":9675666,"comment_id":12292059,"body_markdown":"@MichaelKonietzka If Jon Skeet can&#39;t help us, no one can :/","body":"@MichaelKonietzka If Jon Skeet can&#39;t help us, no one can :/"}],"answers":[{"tags":[],"owner":{"account_id":24377,"reputation":818003,"user_id":61974,"display_name":"Mark Byers"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1331591192,"creation_date":1331591192,"answer_id":9675684,"question_id":9675666,"body_markdown":"You could invoke it either by calling it on a class, or via an instance of that class.\r\n\r\n    Foo.xMethod(a);\r\n\r\nor:\r\n\r\n\r\n    Foo foo = new Foo();\r\n    foo.xMethod(a);\r\n\r\nThe first approach is prefered, but the second one will compile and run. But be aware that it is often considered a design flaw in the language that the second approach is allowed.","title":"What different methods exist for invoking xMethod?","body":"<p>You could invoke it either by calling it on a class, or via an instance of that class.</p>\n\n<pre><code>Foo.xMethod(a);\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>Foo foo = new Foo();\nfoo.xMethod(a);\n</code></pre>\n\n<p>The first approach is prefered, but the second one will compile and run. But be aware that it is often considered a design flaw in the language that the second approach is allowed.</p>\n"},{"tags":[],"owner":{"account_id":51914,"reputation":67901,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1331591336,"creation_date":1331591336,"answer_id":9675707,"question_id":9675666,"body_markdown":"There is only **one valid way** to do this:\r\n\r\n    YourClass.xMethod(myDoubleArray);\r\n\r\nBut, you can write non-totally-correct Java:\r\n\r\n    YourClass instance = new YourClass();\r\n    instance.xMethod(myDoubleArray);\r\n\r\nThis will work, but is considered as wrong. The Java compiler will even complain about it. Because a there is no need of invoking a static method by creating an instance of the class. Static means that the method is instance independent. Invoking it through an instance is pointless and confusing.\r\n\r\nLater on, you will see that there is a second correct way of doing it, ie &quot;reflection&quot;. But that is an advanced topic, so I assume you are not supposed to know this already.","title":"What different methods exist for invoking xMethod?","body":"<p>There is only <strong>one valid way</strong> to do this:</p>\n\n<pre><code>YourClass.xMethod(myDoubleArray);\n</code></pre>\n\n<p>But, you can write non-totally-correct Java:</p>\n\n<pre><code>YourClass instance = new YourClass();\ninstance.xMethod(myDoubleArray);\n</code></pre>\n\n<p>This will work, but is considered as wrong. The Java compiler will even complain about it. Because a there is no need of invoking a static method by creating an instance of the class. Static means that the method is instance independent. Invoking it through an instance is pointless and confusing.</p>\n\n<p>Later on, you will see that there is a second correct way of doing it, ie \"reflection\". But that is an advanced topic, so I assume you are not supposed to know this already.</p>\n"},{"tags":[],"owner":{"account_id":284195,"reputation":5422,"user_id":582136,"accept_rate":100,"display_name":"Ryan Amos"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1331591444,"creation_date":1331591444,"answer_id":9675729,"question_id":9675666,"body_markdown":"For kicks, show your professor this:\r\n\r\n    XClass.class.getMethod(&quot;xMethod&quot;, a.getClass()).invoke(null, a);\r\n\r\nThen tell them the two answers are\r\n\r\n    XClass.xMethod(a);\r\n    //and\r\n    xObject.xMethod(a); //this is bad practice","title":"What different methods exist for invoking xMethod?","body":"<p>For kicks, show your professor this:</p>\n\n<pre><code>XClass.class.getMethod(\"xMethod\", a.getClass()).invoke(null, a);\n</code></pre>\n\n<p>Then tell them the two answers are</p>\n\n<pre><code>XClass.xMethod(a);\n//and\nxObject.xMethod(a); //this is bad practice\n</code></pre>\n"},{"tags":[],"owner":{"account_id":463619,"reputation":2009,"user_id":866631,"accept_rate":51,"display_name":"dsynkd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1331591496,"creation_date":1331591496,"answer_id":9675735,"question_id":9675666,"body_markdown":"static methods are not bound to the construction of the class.\r\nThe method above can be called either by constructing the class or just by using the namespace:\r\n\r\n    Classname myclass = new Classname();\r\n    myclass.xMethod(myarray);\r\nor you could just do:\r\n\r\n    Classname.xMethod(myarray);\r\nas you see, you don&#39;t have to construct the class in order to use the method. On the other hands, the static method can&#39;t access non-static members of the class.\r\nI guess that&#39;s what the question meant by 2 different ways...\r\n\r\n","title":"What different methods exist for invoking xMethod?","body":"<p>static methods are not bound to the construction of the class.\nThe method above can be called either by constructing the class or just by using the namespace:</p>\n\n<pre><code>Classname myclass = new Classname();\nmyclass.xMethod(myarray);\n</code></pre>\n\n<p>or you could just do:</p>\n\n<pre><code>Classname.xMethod(myarray);\n</code></pre>\n\n<p>as you see, you don't have to construct the class in order to use the method. On the other hands, the static method can't access non-static members of the class.\nI guess that's what the question meant by 2 different ways...</p>\n"},{"tags":[],"owner":{"account_id":980255,"reputation":2416,"user_id":1000159,"accept_rate":84,"display_name":"dann.dev"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1331592708,"creation_date":1331591815,"answer_id":9675782,"question_id":9675666,"body_markdown":"If this is for a first time java class, my guess is he is looking for these 2 cases:\r\n\r\n    //the one you have, using a precreated array\r\n    double[] myArray = {1.1, 2.2, 3.3}\r\n    xMethod(myarray);\r\n\r\n    //and putting it all together\r\n    xMethod(new double[]{1.1, 2.2, 3.3});\r\n\r\nBasically illustrating you can make an array to pass, or simply create one in the call.\r\n\r\nJust a guess though\r\n","title":"What different methods exist for invoking xMethod?","body":"<p>If this is for a first time java class, my guess is he is looking for these 2 cases:</p>\n\n<pre><code>//the one you have, using a precreated array\ndouble[] myArray = {1.1, 2.2, 3.3}\nxMethod(myarray);\n\n//and putting it all together\nxMethod(new double[]{1.1, 2.2, 3.3});\n</code></pre>\n\n<p>Basically illustrating you can make an array to pass, or simply create one in the call.</p>\n\n<p>Just a guess though</p>\n"}],"owner":{"account_id":1012542,"reputation":1346,"user_id":1024786,"accept_rate":76,"display_name":"Eric Smith"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1253,"favorite_count":0,"down_vote_count":2,"up_vote_count":7,"accepted_answer_id":9675782,"answer_count":5,"score":5,"last_activity_date":1684247422,"creation_date":1331591064,"question_id":9675666,"body_markdown":"I know this is simple, but I don&#39;t really understand the homework-question: \r\n\r\n &gt; Assume the signature of the method xMethod is as follows.\r\n &gt; Explain two different ways to invoke xMethod:\r\n &gt;\r\n &gt;     public static void xMethod(double[] a)\r\n\r\nI thought to invoke a method you just do:\r\n\r\n &gt;     xMethod(myarray);\r\n\r\nWhat could it mean by asking two different ways?","title":"What different methods exist for invoking xMethod?","body":"<p>I know this is simple, but I don't really understand the homework-question:</p>\n<blockquote>\n<p>Assume the signature of the method xMethod is as follows.\nExplain two different ways to invoke xMethod:</p>\n<pre><code>public static void xMethod(double[] a)\n</code></pre>\n</blockquote>\n<p>I thought to invoke a method you just do:</p>\n<blockquote>\n<pre><code>xMethod(myarray);\n</code></pre>\n</blockquote>\n<p>What could it mean by asking two different ways?</p>\n"},{"tags":["java","spring","csv","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620305565,"creation_date":1620305565,"answer_id":67418547,"question_id":67417875,"body_markdown":"You don&#39;t need a flow job for that, a simple job is enough. Here is a quick example:\r\n\r\n```\r\nimport java.util.Arrays;\r\n\r\nimport org.springframework.batch.core.Job;\r\nimport org.springframework.batch.core.JobParameters;\r\nimport org.springframework.batch.core.Step;\r\nimport org.springframework.batch.core.StepContribution;\r\nimport org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;\r\nimport org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\r\nimport org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\r\nimport org.springframework.batch.core.launch.JobLauncher;\r\nimport org.springframework.batch.core.scope.context.ChunkContext;\r\nimport org.springframework.batch.core.step.tasklet.Tasklet;\r\nimport org.springframework.batch.item.support.ListItemReader;\r\nimport org.springframework.batch.repeat.RepeatStatus;\r\nimport org.springframework.context.ApplicationContext;\r\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\n@EnableBatchProcessing\r\npublic class MyJobConfiguration {\r\n\r\n    @Bean\r\n    public Step validationStep(StepBuilderFactory stepBuilderFactory) {\r\n        return stepBuilderFactory.get(&quot;validationStep&quot;)\r\n                .tasklet(new Tasklet() {\r\n                    @Override\r\n                    public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception {\r\n                        if(!isValid()) {\r\n                            throw new Exception(&quot;Invalid file&quot;);\r\n                        }\r\n                        return RepeatStatus.FINISHED;\r\n                    }\r\n\r\n                    private boolean isValid() {\r\n                        // TODO implement validation logic\r\n                        return false;\r\n                    }\r\n                })\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public Step readAndWriteCsvFile(StepBuilderFactory stepBuilderFactory) {\r\n        return stepBuilderFactory.get(&quot;readAndWriteCsvFile&quot;)\r\n                .&lt;Integer, Integer&gt;chunk(2)\r\n                .reader(new ListItemReader&lt;&gt;(Arrays.asList(1, 2, 3, 4)))\r\n                .writer(items -&gt; items.forEach(System.out::println))\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public Job job(JobBuilderFactory jobBuilderFactory, StepBuilderFactory stepBuilderFactory) {\r\n        return jobBuilderFactory.get(&quot;job&quot;)\r\n                .start(validationStep(stepBuilderFactory))\r\n                .next(readAndWriteCsvFile(stepBuilderFactory))\r\n                .build();\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        ApplicationContext context = new AnnotationConfigApplicationContext(MyJobConfiguration.class);\r\n        JobLauncher jobLauncher = context.getBean(JobLauncher.class);\r\n        Job job = context.getBean(Job.class);\r\n        jobLauncher.run(job, new JobParameters());\r\n    }\r\n\r\n}\r\n```\r\n\r\nIn this example, if the `validationStep` fails, the next step is will not be executed.","title":"Spring Batch avoid launch Reader and Writer before tasklet","body":"<p>You don't need a flow job for that, a simple job is enough. Here is a quick example:</p>\n<pre><code>import java.util.Arrays;\n\nimport org.springframework.batch.core.Job;\nimport org.springframework.batch.core.JobParameters;\nimport org.springframework.batch.core.Step;\nimport org.springframework.batch.core.StepContribution;\nimport org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;\nimport org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\nimport org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\nimport org.springframework.batch.core.launch.JobLauncher;\nimport org.springframework.batch.core.scope.context.ChunkContext;\nimport org.springframework.batch.core.step.tasklet.Tasklet;\nimport org.springframework.batch.item.support.ListItemReader;\nimport org.springframework.batch.repeat.RepeatStatus;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@EnableBatchProcessing\npublic class MyJobConfiguration {\n\n    @Bean\n    public Step validationStep(StepBuilderFactory stepBuilderFactory) {\n        return stepBuilderFactory.get(&quot;validationStep&quot;)\n                .tasklet(new Tasklet() {\n                    @Override\n                    public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception {\n                        if(!isValid()) {\n                            throw new Exception(&quot;Invalid file&quot;);\n                        }\n                        return RepeatStatus.FINISHED;\n                    }\n\n                    private boolean isValid() {\n                        // TODO implement validation logic\n                        return false;\n                    }\n                })\n                .build();\n    }\n\n    @Bean\n    public Step readAndWriteCsvFile(StepBuilderFactory stepBuilderFactory) {\n        return stepBuilderFactory.get(&quot;readAndWriteCsvFile&quot;)\n                .&lt;Integer, Integer&gt;chunk(2)\n                .reader(new ListItemReader&lt;&gt;(Arrays.asList(1, 2, 3, 4)))\n                .writer(items -&gt; items.forEach(System.out::println))\n                .build();\n    }\n\n    @Bean\n    public Job job(JobBuilderFactory jobBuilderFactory, StepBuilderFactory stepBuilderFactory) {\n        return jobBuilderFactory.get(&quot;job&quot;)\n                .start(validationStep(stepBuilderFactory))\n                .next(readAndWriteCsvFile(stepBuilderFactory))\n                .build();\n    }\n\n    public static void main(String[] args) throws Exception {\n        ApplicationContext context = new AnnotationConfigApplicationContext(MyJobConfiguration.class);\n        JobLauncher jobLauncher = context.getBean(JobLauncher.class);\n        Job job = context.getBean(Job.class);\n        jobLauncher.run(job, new JobParameters());\n    }\n\n}\n</code></pre>\n<p>In this example, if the <code>validationStep</code> fails, the next step is will not be executed.</p>\n"},{"tags":[],"owner":{"account_id":15150204,"reputation":65,"user_id":10932725,"display_name":"Houssem MAAMRIA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1620339355,"creation_date":1620339355,"answer_id":67426608,"question_id":67417875,"body_markdown":"I solved my problem, i changed the bean `FlatFileItemReader` method inside the Job class configuration with the annotation `@StepScope`, now this bean has only loads when I need it also should avoid declaring the FlatFileItemReader bean out of scope of the job","title":"Spring Batch avoid launch Reader and Writer before tasklet","body":"<p>I solved my problem, i changed the bean <code>FlatFileItemReader</code> method inside the Job class configuration with the annotation <code>@StepScope</code>, now this bean has only loads when I need it also should avoid declaring the FlatFileItemReader bean out of scope of the job</p>\n"},{"tags":[],"owner":{"account_id":10963216,"reputation":31,"user_id":8055812,"display_name":"Diego Guedes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684247122,"creation_date":1684247122,"answer_id":76264190,"question_id":67417875,"body_markdown":"I had a similar problem. I had 2 step with 2 different `read`. The `read` always ran first than the `process`. Then I used `@Step` annotation in both `read` and it worked. ","title":"Spring Batch avoid launch Reader and Writer before tasklet","body":"<p>I had a similar problem. I had 2 step with 2 different <code>read</code>. The <code>read</code> always ran first than the <code>process</code>. Then I used <code>@Step</code> annotation in both <code>read</code> and it worked.</p>\n"}],"owner":{"account_id":15150204,"reputation":65,"user_id":10932725,"display_name":"Houssem MAAMRIA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67426608,"answer_count":3,"score":0,"last_activity_date":1684247122,"creation_date":1620303138,"question_id":67417875,"body_markdown":"I&#39;m working with spring batch and have a job with two steps the first step (tasklet) validation the header CSV and the second step reads an CSV file and Write to another CSV file like this:\r\n\r\n\r\n    @Bean\r\n    public ClassifierCompositeItemWriter&lt;POJO&gt; classifierCompositeItemWriter() throws Exception {\r\n        Classifier&lt;POJO, ItemWriter&lt;? super POJO&gt;&gt; classifier = new ClassiItemWriter(ClassiItemWriter.itemWriter());\r\n        return new ClassifierCompositeItemWriterBuilder&lt;POJO&gt;()\r\n                .classifier(classifier)\r\n                .build();\r\n    }\r\n\r\n\r\n\r\n    @Bean\r\n    public Step readAndWriteCsvFile() throws Exception {\r\n        return stepBuilderFactory.get(&quot;readAndWriteCsvFile&quot;)\r\n                .&lt;POJO, POJO&gt;chunk(10000)\r\n                .reader(ClassitemReader.itemReader())\r\n                .processor(processor())\r\n                .writer(classifierCompositeItemWriter())\r\n                .build();\r\n    }\r\n\r\n\r\n\r\n\r\nI used a FlatFileItemReader (in ClassitemReader) and a FlatFileItemWriter (in ClassiItemWriter), before reading CSV. I checked if the header of CSV file is correct via tasklet like this :\r\n\r\n\r\n    @Bean\r\n    public Step fileValidatorStep() {\r\n        return stepBuilderFactory\r\n                .get(&quot;fileValidatorStep&quot;)\r\n                .tasklet(fileValidator)\r\n                .build();\r\n    }\r\n\r\nAnd if so I process the transformation from CSV file recieved to another file CSV. \r\n\r\nin the `jobBuilderFactory` i check if ExistStatus comes from tasklet `fileValidatorStep` is &quot;COMPLETED&quot; to forward the process to `readAndWriteCsvFile()`, if not &quot;COMPLETED&quot; and tasklet `fileValidatorStep` return ExistStatus &quot;ERROR&quot; the job end and exit processing.\r\n\r\n\r\n\r\n    @Bean\r\n    public Job job() throws Exception {\r\n        return jobBuilderFactory.get(&quot;job&quot;)\r\n                .incrementer(new RunIdIncrementer())\r\n                .start(fileValidatorStep()).on(&quot;ERROR&quot;).end()\r\n                .next(fileValidatorStep()).on(&quot;COMPLETED&quot;).to(readAndWriteCsvFile())\r\n                .end().build();\r\n    }\r\n\r\n\r\n\r\nThe problem is that when I launch my Job the Bean `readAndWriteCsvFile` runs first of the tasklet, that means the standard Bean of reader and writer of spring batch always loaded in life cycle before i can validation the header and check the ExistStatus, the reader is still working and reades the file and puts data in another file without check because is loading Bean during launch of Job before all tasklet.\r\n\r\n\r\nHow i can launch `readAndWriteCsvFile` methode after `fileValidatorStep` ?","title":"Spring Batch avoid launch Reader and Writer before tasklet","body":"<p>I'm working with spring batch and have a job with two steps the first step (tasklet) validation the header CSV and the second step reads an CSV file and Write to another CSV file like this:</p>\n<pre><code>@Bean\npublic ClassifierCompositeItemWriter&lt;POJO&gt; classifierCompositeItemWriter() throws Exception {\n    Classifier&lt;POJO, ItemWriter&lt;? super POJO&gt;&gt; classifier = new ClassiItemWriter(ClassiItemWriter.itemWriter());\n    return new ClassifierCompositeItemWriterBuilder&lt;POJO&gt;()\n            .classifier(classifier)\n            .build();\n}\n\n\n\n@Bean\npublic Step readAndWriteCsvFile() throws Exception {\n    return stepBuilderFactory.get(&quot;readAndWriteCsvFile&quot;)\n            .&lt;POJO, POJO&gt;chunk(10000)\n            .reader(ClassitemReader.itemReader())\n            .processor(processor())\n            .writer(classifierCompositeItemWriter())\n            .build();\n}\n</code></pre>\n<p>I used a FlatFileItemReader (in ClassitemReader) and a FlatFileItemWriter (in ClassiItemWriter), before reading CSV. I checked if the header of CSV file is correct via tasklet like this :</p>\n<pre><code>@Bean\npublic Step fileValidatorStep() {\n    return stepBuilderFactory\n            .get(&quot;fileValidatorStep&quot;)\n            .tasklet(fileValidator)\n            .build();\n}\n</code></pre>\n<p>And if so I process the transformation from CSV file recieved to another file CSV.</p>\n<p>in the <code>jobBuilderFactory</code> i check if ExistStatus comes from tasklet <code>fileValidatorStep</code> is &quot;COMPLETED&quot; to forward the process to <code>readAndWriteCsvFile()</code>, if not &quot;COMPLETED&quot; and tasklet <code>fileValidatorStep</code> return ExistStatus &quot;ERROR&quot; the job end and exit processing.</p>\n<pre><code>@Bean\npublic Job job() throws Exception {\n    return jobBuilderFactory.get(&quot;job&quot;)\n            .incrementer(new RunIdIncrementer())\n            .start(fileValidatorStep()).on(&quot;ERROR&quot;).end()\n            .next(fileValidatorStep()).on(&quot;COMPLETED&quot;).to(readAndWriteCsvFile())\n            .end().build();\n}\n</code></pre>\n<p>The problem is that when I launch my Job the Bean <code>readAndWriteCsvFile</code> runs first of the tasklet, that means the standard Bean of reader and writer of spring batch always loaded in life cycle before i can validation the header and check the ExistStatus, the reader is still working and reades the file and puts data in another file without check because is loading Bean during launch of Job before all tasklet.</p>\n<p>How i can launch <code>readAndWriteCsvFile</code> methode after <code>fileValidatorStep</code> ?</p>\n"},{"tags":["java","algorithm","comparator","priority-queue","max-heap"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1683561434,"post_id":76202133,"comment_id":134381830,"body_markdown":"I assume that the `PriorityQueue` does not account for changing order, and it does not necessarily sort all elements, just the head is guaranteed to be the *least* element. When adding zero, it is compared to the head and the Comparator returns zero (equals) so no more elements need to be compared","body":"I assume that the <code>PriorityQueue</code> does not account for changing order, and it does not necessarily sort all elements, just the head is guaranteed to be the <i>least</i> element. When adding zero, it is compared to the head and the Comparator returns zero (equals) so no more elements need to be compared"},{"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"score":0,"creation_date":1683561765,"post_id":76202133,"comment_id":134381901,"body_markdown":"@user16320675 Yes you maybe correct.","body":"@user16320675 Yes you maybe correct."},{"owner":{"account_id":19973475,"reputation":103,"user_id":14775762,"display_name":"Stanislav Volodarskiy"},"score":0,"creation_date":1683585412,"post_id":76202133,"comment_id":134386467,"body_markdown":"First accumulate freqs. Then sift them through PQ.","body":"First accumulate freqs. Then sift them through PQ."},{"owner":{"account_id":22848,"reputation":131588,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":0,"creation_date":1683587022,"post_id":76202133,"comment_id":134386634,"body_markdown":"It&#39;s completely unclear what you&#39;re trying to do here. If all you want is the top k from an array, you&#39;ve gone about it in a very convoluted way. You&#39;re modifying the values stored in `freqMap` and using them to do comparisons in your `PriorityQueue` comparator. That&#39;s not going to work because `PriorityQueue` expects the relationships among the items in its backing array to be static: it doesn&#39;t automatically re-adjust every time you change the value of something in `freqMap`.","body":"It&#39;s completely unclear what you&#39;re trying to do here. If all you want is the top k from an array, you&#39;ve gone about it in a very convoluted way. You&#39;re modifying the values stored in <code>freqMap</code> and using them to do comparisons in your <code>PriorityQueue</code> comparator. That&#39;s not going to work because <code>PriorityQueue</code> expects the relationships among the items in its backing array to be static: it doesn&#39;t automatically re-adjust every time you change the value of something in <code>freqMap</code>."}],"answers":[{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1684247037,"creation_date":1683567932,"answer_id":76203040,"question_id":76202133,"body_markdown":"If the priority of an item is going to change on the fly, you need to remove the item from the queue and add it back, so that the `PriorityQueue` will reflect the change.\r\n\r\n    private void add(int num) {\r\n        freqMap.put(num, freqMap.getOrDefault(num, 0) + 1);\r\n        priorityQueue.remove(num);\r\n        priorityQueue.add(num);\r\n    }\r\n\r\nA more efficient way to approach it would be to calculate all the statistics for the priorities in advance, and then populate the priority queue. But you are also altering the priorities with each item you remove from the queue, so while this won&#39;t in your case, it would work in a similar case where the priorities are static.\r\n\r\n    // accumulate the statistics\r\n    var freqMap = new HashMap&lt;Integer, Integer&gt;();\r\n    for (int num : nums) freqMap.merge(num, 1, Math::addExact);\r\n\r\n    // let&#39;s not refer to the mutable map on the fly\r\n    record PriorityInteger(int value, int priority)\r\n            implements Comparable&lt;PriorityInteger&gt; {\r\n        @Override\r\n        public int compareTo(PriorityInteger that) {\r\n            if (this.priority != that.priority) {\r\n                // sort highest priority values first\r\n                return Integer.compare(that.priority, this.priority);\r\n            }\r\n            // for values of equal priority, sort in ascending order\r\n            return Integer.compare(this.value, that.value);\r\n        }\r\n    }\r\n\r\n    // create and populate the priority queue\r\n    var pq = new PriorityQueue&lt;PriorityInteger&gt;();\r\n    freqMap.entrySet().stream()\r\n        .map(e -&gt; new PriorityInteger(e.getKey(), e.getValue()))\r\n        .forEach(pq::add);\r\n\r\n    // pull out the values and display them\r\n    while (!pq.isEmpty()) System.out.println(pq.poll().value());\r\n\r\n### Example\r\n\r\nFor a given set of data\r\n\r\n    int[] nums = { 1, 1, 2, 2, 2, 2, 3, 3, 3, 4, 6, 6 }\r\n\r\nWith four 2s they are they highest priority. Three 3s come next. At two apiece, the 1s and 6s are level pegging. The 4 is the lowest priority, with only a single entry.\r\n\r\n### Output\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    2\r\n    3\r\n    1\r\n    6\r\n    4\r\n\r\n","title":"java - Max heap property not obeyed by PriorityQueue","body":"<p>If the priority of an item is going to change on the fly, you need to remove the item from the queue and add it back, so that the <code>PriorityQueue</code> will reflect the change.</p>\n<pre><code>private void add(int num) {\n    freqMap.put(num, freqMap.getOrDefault(num, 0) + 1);\n    priorityQueue.remove(num);\n    priorityQueue.add(num);\n}\n</code></pre>\n<p>A more efficient way to approach it would be to calculate all the statistics for the priorities in advance, and then populate the priority queue. But you are also altering the priorities with each item you remove from the queue, so while this won't in your case, it would work in a similar case where the priorities are static.</p>\n<pre><code>// accumulate the statistics\nvar freqMap = new HashMap&lt;Integer, Integer&gt;();\nfor (int num : nums) freqMap.merge(num, 1, Math::addExact);\n\n// let's not refer to the mutable map on the fly\nrecord PriorityInteger(int value, int priority)\n        implements Comparable&lt;PriorityInteger&gt; {\n    @Override\n    public int compareTo(PriorityInteger that) {\n        if (this.priority != that.priority) {\n            // sort highest priority values first\n            return Integer.compare(that.priority, this.priority);\n        }\n        // for values of equal priority, sort in ascending order\n        return Integer.compare(this.value, that.value);\n    }\n}\n\n// create and populate the priority queue\nvar pq = new PriorityQueue&lt;PriorityInteger&gt;();\nfreqMap.entrySet().stream()\n    .map(e -&gt; new PriorityInteger(e.getKey(), e.getValue()))\n    .forEach(pq::add);\n\n// pull out the values and display them\nwhile (!pq.isEmpty()) System.out.println(pq.poll().value());\n</code></pre>\n<h3>Example</h3>\n<p>For a given set of data</p>\n<pre><code>int[] nums = { 1, 1, 2, 2, 2, 2, 3, 3, 3, 4, 6, 6 }\n</code></pre>\n<p>With four 2s they are they highest priority. Three 3s come next. At two apiece, the 1s and 6s are level pegging. The 4 is the lowest priority, with only a single entry.</p>\n<h3>Output</h3>\n<pre class=\"lang-none prettyprint-override\"><code>2\n3\n1\n6\n4\n</code></pre>\n"}],"owner":{"account_id":9610071,"reputation":2910,"user_id":7134737,"accept_rate":45,"display_name":"ng.newbie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76203040,"answer_count":1,"score":0,"last_activity_date":1684247037,"creation_date":1683560459,"question_id":76202133,"body_markdown":"I was trying out the problem [Top K Frequent Elements][1] and I am not asking for how its implemented but what is going wrong in my implementation.\r\n\r\nMy implementation idea:\r\n\r\n 1. Declare a `HashMap` to count the frequency of each number.\r\n 2. Declare a max heap with a `PriorityQueue` to keep track of the most frequent K elements.\r\n 3. Add elements to the `HashMap`. \r\n 4. Use a custom `Comparator` in the `PriorityQueue` so that it sorts its elements on the basis of the frequency from the `HashMap`.\r\n\r\nMy code is as follows:\r\n\r\n    public class TopKFrequentElements {\r\n        private final HashMap&lt;Integer, Integer&gt; freqMap = new HashMap&lt;&gt;();\r\n        private final PriorityQueue&lt;Integer&gt; priorityQueue = new PriorityQueue&lt;&gt;(\r\n                (a, b) -&gt; {\r\n    \r\n                    System.out.printf(&quot;a = %d b = %d, Freq(%d) = %d Freq(%d) = %d, Freq(%d).compareTo(Freq(%d)) = %d\\n&quot;, a, b,\r\n                            a, freqMap.get(a), b, freqMap.get(b), b, a, freqMap.get(b).compareTo(freqMap.get(a)));\r\n    \r\n                    return freqMap.get(b).compareTo(freqMap.get(a));\r\n    \r\n                }\r\n        );\r\n    \r\n        private void add(int num) {\r\n            freqMap.put(num, freqMap.getOrDefault(num, 0) + 1);\r\n            System.out.println(&quot;num = &quot; + num);\r\n            priorityQueue.add(num);\r\n            System.out.println(&quot;--------------&quot;);\r\n        }\r\n    \r\n        private int[] getK(int k) {\r\n            int[] res = new int[k];\r\n    \r\n            int ct = 0;\r\n    \r\n            while (ct &lt; k) {\r\n                res[ct] = priorityQueue.peek();\r\n                freqMap.put(res[ct], freqMap.get(res[ct]) - 1);\r\n                priorityQueue.poll();\r\n    \r\n                while (!priorityQueue.isEmpty() &amp;&amp;\r\n                        priorityQueue.peek()==res[ct]) {\r\n                    freqMap.put(res[ct], freqMap.get(res[ct]) - 1);\r\n                    priorityQueue.poll();\r\n                }\r\n    \r\n                ct++;\r\n            }\r\n            return res;\r\n        }\r\n    \r\n        public int[] topKFrequent(int[] nums, int k) {\r\n    \r\n            for (int num : nums) {\r\n                add(num);\r\n            }\r\n            return getK(k);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            TopKFrequentElements elements = new TopKFrequentElements();\r\n    \r\n            System.out.println(Arrays.toString(\r\n                    elements.topKFrequent(new int[]{3,0,1,0}, 1))\r\n            );\r\n        }\r\n    }\r\n\r\nThe code works as expected for all test cases expect this really interesting one:\r\n\r\n - `{3,0,1,0} k = 1`\r\n\r\nHere the output is `[3]` where it should be `[0]`.\r\n\r\nI don&#39;t understand why this is happening, when the last `0` is added, then the `Comparator` of the `PriorityQueue` should preserve the invariant. But it does not.\r\n\r\nDigging deeper I printed out when the Comparator is called and **I see that it is not comparing with all the elements.** Which I am unable to understand why.\r\n\r\n    num = 3\r\n    --------------\r\n    num = 0\r\n    a = 0 b = 3, Freq(0) = 1 Freq(3) = 1, Freq(3).compareTo(Freq(0)) = 0\r\n    --------------\r\n    num = 1\r\n    a = 1 b = 3, Freq(1) = 1 Freq(3) = 1, Freq(3).compareTo(Freq(1)) = 0\r\n    --------------\r\n    num = 0\r\n    a = 0 b = 0, Freq(0) = 2 Freq(0) = 2, Freq(0).compareTo(Freq(0)) = 0\r\n\r\nAs you can see the last addition for `0` is just calling the `Comparator` once when it should check with other values according to my intuition. \r\n\r\n**Where are the calls for `3` and `1` ?**\r\n\r\nWhat am I doing wrong? **I also cannot replicate this problem for any other example.**\r\n\r\nWhat have I missed about the `PriorityQueue` implementation?\r\n\r\n  [1]: https://leetcode.com/problems/top-k-frequent-elements/description/\r\n","title":"java - Max heap property not obeyed by PriorityQueue","body":"<p>I was trying out the problem <a href=\"https://leetcode.com/problems/top-k-frequent-elements/description/\" rel=\"nofollow noreferrer\">Top K Frequent Elements</a> and I am not asking for how its implemented but what is going wrong in my implementation.</p>\n<p>My implementation idea:</p>\n<ol>\n<li>Declare a <code>HashMap</code> to count the frequency of each number.</li>\n<li>Declare a max heap with a <code>PriorityQueue</code> to keep track of the most frequent K elements.</li>\n<li>Add elements to the <code>HashMap</code>.</li>\n<li>Use a custom <code>Comparator</code> in the <code>PriorityQueue</code> so that it sorts its elements on the basis of the frequency from the <code>HashMap</code>.</li>\n</ol>\n<p>My code is as follows:</p>\n<pre><code>public class TopKFrequentElements {\n    private final HashMap&lt;Integer, Integer&gt; freqMap = new HashMap&lt;&gt;();\n    private final PriorityQueue&lt;Integer&gt; priorityQueue = new PriorityQueue&lt;&gt;(\n            (a, b) -&gt; {\n\n                System.out.printf(&quot;a = %d b = %d, Freq(%d) = %d Freq(%d) = %d, Freq(%d).compareTo(Freq(%d)) = %d\\n&quot;, a, b,\n                        a, freqMap.get(a), b, freqMap.get(b), b, a, freqMap.get(b).compareTo(freqMap.get(a)));\n\n                return freqMap.get(b).compareTo(freqMap.get(a));\n\n            }\n    );\n\n    private void add(int num) {\n        freqMap.put(num, freqMap.getOrDefault(num, 0) + 1);\n        System.out.println(&quot;num = &quot; + num);\n        priorityQueue.add(num);\n        System.out.println(&quot;--------------&quot;);\n    }\n\n    private int[] getK(int k) {\n        int[] res = new int[k];\n\n        int ct = 0;\n\n        while (ct &lt; k) {\n            res[ct] = priorityQueue.peek();\n            freqMap.put(res[ct], freqMap.get(res[ct]) - 1);\n            priorityQueue.poll();\n\n            while (!priorityQueue.isEmpty() &amp;&amp;\n                    priorityQueue.peek()==res[ct]) {\n                freqMap.put(res[ct], freqMap.get(res[ct]) - 1);\n                priorityQueue.poll();\n            }\n\n            ct++;\n        }\n        return res;\n    }\n\n    public int[] topKFrequent(int[] nums, int k) {\n\n        for (int num : nums) {\n            add(num);\n        }\n        return getK(k);\n    }\n\n    public static void main(String[] args) {\n        TopKFrequentElements elements = new TopKFrequentElements();\n\n        System.out.println(Arrays.toString(\n                elements.topKFrequent(new int[]{3,0,1,0}, 1))\n        );\n    }\n}\n</code></pre>\n<p>The code works as expected for all test cases expect this really interesting one:</p>\n<ul>\n<li><code>{3,0,1,0} k = 1</code></li>\n</ul>\n<p>Here the output is <code>[3]</code> where it should be <code>[0]</code>.</p>\n<p>I don't understand why this is happening, when the last <code>0</code> is added, then the <code>Comparator</code> of the <code>PriorityQueue</code> should preserve the invariant. But it does not.</p>\n<p>Digging deeper I printed out when the Comparator is called and <strong>I see that it is not comparing with all the elements.</strong> Which I am unable to understand why.</p>\n<pre><code>num = 3\n--------------\nnum = 0\na = 0 b = 3, Freq(0) = 1 Freq(3) = 1, Freq(3).compareTo(Freq(0)) = 0\n--------------\nnum = 1\na = 1 b = 3, Freq(1) = 1 Freq(3) = 1, Freq(3).compareTo(Freq(1)) = 0\n--------------\nnum = 0\na = 0 b = 0, Freq(0) = 2 Freq(0) = 2, Freq(0).compareTo(Freq(0)) = 0\n</code></pre>\n<p>As you can see the last addition for <code>0</code> is just calling the <code>Comparator</code> once when it should check with other values according to my intuition.</p>\n<p><strong>Where are the calls for <code>3</code> and <code>1</code> ?</strong></p>\n<p>What am I doing wrong? <strong>I also cannot replicate this problem for any other example.</strong></p>\n<p>What have I missed about the <code>PriorityQueue</code> implementation?</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","jpql"],"comments":[{"owner":{"account_id":5500680,"reputation":5767,"user_id":4370109,"display_name":"Brian Tompsett - 汤莱恩"},"score":0,"creation_date":1684271667,"post_id":76263751,"comment_id":134493513,"body_markdown":"Does this answer your question? [Spring Data JPA inheritance in repositories](https://stackoverflow.com/questions/43350397/spring-data-jpa-inheritance-in-repositories)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/43350397/spring-data-jpa-inheritance-in-repositories\">Spring Data JPA inheritance in repositories</a>"}],"answers":[{"tags":[],"owner":{"account_id":19650393,"reputation":1,"user_id":14384364,"display_name":"ManuInDenWolken"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684246904,"creation_date":1684246904,"answer_id":76264157,"question_id":76263751,"body_markdown":"If I grasp it right, then that&#39;s a problem of the types defined for your repository - if you want to persist different types (even if they are derived from a mutual super type), you have to create different repositories for different types. While deserializing, the JPA implementation uses reflective processes on the repository for type conversion - type conversion that&#39;s not capable of recognizing sub types. \r\n\r\nSee [this answer] for further information on a similar problem.\r\n\r\n\r\n  [this answer]: https://stackoverflow.com/a/43351269/14384364","title":"JPA Inheritance Won&#39;t Map Lowest-Level Polymorphic Entity","body":"<p>If I grasp it right, then that's a problem of the types defined for your repository - if you want to persist different types (even if they are derived from a mutual super type), you have to create different repositories for different types. While deserializing, the JPA implementation uses reflective processes on the repository for type conversion - type conversion that's not capable of recognizing sub types.</p>\n<p>See <a href=\"https://stackoverflow.com/a/43351269/14384364\">this answer</a> for further information on a similar problem.</p>\n"}],"owner":{"account_id":28612752,"reputation":1,"user_id":21907411,"display_name":"Ghostdreamer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684246904,"creation_date":1684244494,"question_id":76263751,"body_markdown":"I am trying to work with JPA inheritance in a tree structure in Java.\r\n\r\nI have a concrete entity (`Product`) that has two concrete children (`ProductA`, `ProductB`)\r\n \r\nProduct has a `Set&lt;Products&gt;` (parents) , meant to contain any combination of `ProductA` and `ProductB`\r\n\r\nProduct has a `Set&lt;Products&gt;` (children), meant to contain any combination of `ProductA` and `ProductB`\r\n\r\n`ProductA` and `ProductB` have the inherited children/parents, and some other properties.\r\n\r\n```\r\n@Entity\r\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n@DiscriminatorColumn(name=&quot;product_type&quot;, discriminatorType = DiscriminatorType.STRING)\r\n@Table(name = &quot;PRODUCT&quot;)\r\nclass Product //CANNOT be an interface, abstract, or static\r\n{\r\n    @Id\r\n    UUID id;\r\n\r\n    @Column(name = &quot;product_type&quot;, insertable = false, updatable = false)\r\n    String productType;\r\n\r\n    @ManyToMany\r\n    @JsonManagedReference(&quot;product_children&quot;)\r\n    Set&lt;Product&gt; children;\r\n\r\n    @ManyToMany\r\n    @JsonBackReference(&quot;product_children&quot;)\r\n    Set&lt;Product&gt; parents;\r\n}\r\n\r\n@Entity\r\nclass ProductA extends Product\r\n{\r\n    String prodAProperty;\r\n}\r\n\r\n@Entity\r\nclass ProductB extends Product\r\n{\r\n    String prodBProperty;\r\n}\r\n\r\n```\r\nThis is all working fine in-code, and things are moving along well. They serialize, deserialize, and go into the DB without an issue, pivot tables are created, everything is saved correctly. \r\n\r\nThe trouble comes in when taking them back out. \r\nLet&#39;s say, we have the following:\r\n\r\n```\r\nrootProduct (ProductA)\r\n    parents: null\r\n    prodAProp: I am product A\r\n    children: \r\n        child01 (ProductA)\r\n            prodAProp: I am product A\r\n            parents:\r\n                rootProduct\r\n            children: \r\n                child 03 (ProductB)\r\n                    prodBProp: I am product B\r\n                    parents:\r\n                        child01 (ProductA)\r\n                    children: null\r\n        child02 (ProductB)\r\n            childBProp: I am productB\r\n            parents:\r\n                rootProduct\r\n            children: null\r\n```\r\n\r\nWhen using the following:\r\n\r\n```\r\n@Repository\r\npublic interface ProductRepository\r\n        extends JpaRepository&lt;Product, UUID&gt; {\r\n\r\n}\r\n```\r\n\r\nAnd running the following:\r\n```\r\nProductRepository repo;\r\nProduct theProduct = repo.findById(&quot;UUID goes here&quot;);\r\n```\r\n\r\nWhat I end up with:\r\n```\r\nrootProduct (ProductA)\r\n    parents: null\r\n    prodAProp: I am product A\r\n    children: \r\n        child01 (ProductA)\r\n            prodAProp: I am product A\r\n            parents:\r\n                rootProduct\r\n            children: \r\n                child 03 (Product)\r\n                    parents:\r\n                        child01 (ProductA)\r\n                    children: null\r\n        child02 (ProductB)\r\n            childBProp: I am productB\r\n            parents:\r\n                rootProduct\r\n            children: null\r\n```\r\n\r\nThe difference is subtle, but the child-of-child (or any deeper down the tree) is not being cast into the sub-class, instead it is being set as base class. It also cannot be down-cast:\r\n`(ProductB) child03` gives the error: `Cannot convert Product into ProductB`\r\n\r\nI have tried various inheritance strategies, such as:\r\n\r\n```\r\n@MappedSuperclass\r\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\n@Inheritance(strategy = InheritanceType.JOINED)\r\n```\r\n\r\nwith various discriminator types\r\n\r\nThank you for your time in advance!","title":"JPA Inheritance Won&#39;t Map Lowest-Level Polymorphic Entity","body":"<p>I am trying to work with JPA inheritance in a tree structure in Java.</p>\n<p>I have a concrete entity (<code>Product</code>) that has two concrete children (<code>ProductA</code>, <code>ProductB</code>)</p>\n<p>Product has a <code>Set&lt;Products&gt;</code> (parents) , meant to contain any combination of <code>ProductA</code> and <code>ProductB</code></p>\n<p>Product has a <code>Set&lt;Products&gt;</code> (children), meant to contain any combination of <code>ProductA</code> and <code>ProductB</code></p>\n<p><code>ProductA</code> and <code>ProductB</code> have the inherited children/parents, and some other properties.</p>\n<pre><code>@Entity\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(name=&quot;product_type&quot;, discriminatorType = DiscriminatorType.STRING)\n@Table(name = &quot;PRODUCT&quot;)\nclass Product //CANNOT be an interface, abstract, or static\n{\n    @Id\n    UUID id;\n\n    @Column(name = &quot;product_type&quot;, insertable = false, updatable = false)\n    String productType;\n\n    @ManyToMany\n    @JsonManagedReference(&quot;product_children&quot;)\n    Set&lt;Product&gt; children;\n\n    @ManyToMany\n    @JsonBackReference(&quot;product_children&quot;)\n    Set&lt;Product&gt; parents;\n}\n\n@Entity\nclass ProductA extends Product\n{\n    String prodAProperty;\n}\n\n@Entity\nclass ProductB extends Product\n{\n    String prodBProperty;\n}\n\n</code></pre>\n<p>This is all working fine in-code, and things are moving along well. They serialize, deserialize, and go into the DB without an issue, pivot tables are created, everything is saved correctly.</p>\n<p>The trouble comes in when taking them back out.\nLet's say, we have the following:</p>\n<pre><code>rootProduct (ProductA)\n    parents: null\n    prodAProp: I am product A\n    children: \n        child01 (ProductA)\n            prodAProp: I am product A\n            parents:\n                rootProduct\n            children: \n                child 03 (ProductB)\n                    prodBProp: I am product B\n                    parents:\n                        child01 (ProductA)\n                    children: null\n        child02 (ProductB)\n            childBProp: I am productB\n            parents:\n                rootProduct\n            children: null\n</code></pre>\n<p>When using the following:</p>\n<pre><code>@Repository\npublic interface ProductRepository\n        extends JpaRepository&lt;Product, UUID&gt; {\n\n}\n</code></pre>\n<p>And running the following:</p>\n<pre><code>ProductRepository repo;\nProduct theProduct = repo.findById(&quot;UUID goes here&quot;);\n</code></pre>\n<p>What I end up with:</p>\n<pre><code>rootProduct (ProductA)\n    parents: null\n    prodAProp: I am product A\n    children: \n        child01 (ProductA)\n            prodAProp: I am product A\n            parents:\n                rootProduct\n            children: \n                child 03 (Product)\n                    parents:\n                        child01 (ProductA)\n                    children: null\n        child02 (ProductB)\n            childBProp: I am productB\n            parents:\n                rootProduct\n            children: null\n</code></pre>\n<p>The difference is subtle, but the child-of-child (or any deeper down the tree) is not being cast into the sub-class, instead it is being set as base class. It also cannot be down-cast:\n<code>(ProductB) child03</code> gives the error: <code>Cannot convert Product into ProductB</code></p>\n<p>I have tried various inheritance strategies, such as:</p>\n<pre><code>@MappedSuperclass\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\n@Inheritance(strategy = InheritanceType.JOINED)\n</code></pre>\n<p>with various discriminator types</p>\n<p>Thank you for your time in advance!</p>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":0,"creation_date":1673362425,"post_id":75071714,"comment_id":132478504,"body_markdown":"https://www.baeldung.com/jackson-deserialization this should have some techniques that will help.","body":"<a href=\"https://www.baeldung.com/jackson-deserialization\" rel=\"nofollow noreferrer\">baeldung.com/jackson-deserialization</a> this should have some techniques that will help."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1673365597,"post_id":75071714,"comment_id":132479696,"body_markdown":"Why not use `private Integer houseNumber;`, If &quot;NO NUMBER&quot;, do not set any value to houseNumber;","body":"Why not use <code>private Integer houseNumber;</code>, If &quot;NO NUMBER&quot;, do not set any value to houseNumber;"}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673364326,"creation_date":1673364326,"answer_id":75072147,"question_id":75071714,"body_markdown":"You could try with a custom deserializer on the field:\r\n\r\n     @JsonDeserialize(using = HouseNoDeserializer.class)\r\n     private int houseNumber;\r\n\r\nThe deserializer could look like this:\r\n\r\n     class HouseNoDeserializer extends JsonDeserializer&lt;Integer&gt; {\r\n\t\t@Override\r\n\t\tpublic Integer deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\r\n            //read the value as a string since you don&#39;t know whether it is a number or a string\r\n\t\t\tString v = p.readValueAs(String.class);\r\n\t\t\ttry {\r\n                //try to parse the string to an integer, if not return 0 as required (it is a non-numeric string)\r\n\t\t\t\treturn Integer.parseInt(v);\r\n\t\t\t} catch(NumberFormatException nfe) {\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nHowever, I&#39;d change `houseNumber` to take `String` anyways because right now you can&#39;t support numbers such as &quot;1/c&quot;, &quot;123a&quot;, etc. which are common at least in some countries.\r\n\r\nYou could then do without a custom deserializer and simply add some logic to the setter or apply it after parsing the json, i.e. replace &quot;NO NUMBER&quot; with another value as needed.","title":"How to convert string values to 0 with Jackson?","body":"<p>You could try with a custom deserializer on the field:</p>\n<pre><code> @JsonDeserialize(using = HouseNoDeserializer.class)\n private int houseNumber;\n</code></pre>\n<p>The deserializer could look like this:</p>\n<pre><code> class HouseNoDeserializer extends JsonDeserializer&lt;Integer&gt; {\n    @Override\n    public Integer deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n        //read the value as a string since you don't know whether it is a number or a string\n        String v = p.readValueAs(String.class);\n        try {\n            //try to parse the string to an integer, if not return 0 as required (it is a non-numeric string)\n            return Integer.parseInt(v);\n        } catch(NumberFormatException nfe) {\n            return 0;\n        }\n    }\n}\n</code></pre>\n<p>However, I'd change <code>houseNumber</code> to take <code>String</code> anyways because right now you can't support numbers such as &quot;1/c&quot;, &quot;123a&quot;, etc. which are common at least in some countries.</p>\n<p>You could then do without a custom deserializer and simply add some logic to the setter or apply it after parsing the json, i.e. replace &quot;NO NUMBER&quot; with another value as needed.</p>\n"},{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684246724,"creation_date":1673374227,"answer_id":75074156,"question_id":75071714,"body_markdown":"The simplest solution is to add setter method which takes `String` value.\r\n```java\r\nclass Address {\r\n\r\n\tprivate String street;\r\n\tprivate int houseNumber;\r\n\tprivate String district;\r\n\tprivate String city;\r\n\tprivate String state;\r\n\tprivate String zipCode;\r\n\r\n\tpublic void setHouseNumber(String value) {\r\n\t\tthis.houseNumber = 0;\r\n\t}\r\n}\r\n```\r\n\r\nOther option, you can provide custom `com.fasterxml.jackson.databind.deser.DeserializationProblemHandler` and handle all these kind of business values generally for all `POJO` classes:\r\n```java\r\nimport com.fasterxml.jackson.databind.DeserializationContext;\r\nimport com.fasterxml.jackson.databind.SerializationFeature;\r\nimport com.fasterxml.jackson.databind.deser.DeserializationProblemHandler;\r\nimport com.fasterxml.jackson.databind.json.JsonMapper;\r\nimport com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class HandleErrorsApp {\r\n\tprivate final static JsonMapper JSON_MAPPER = JsonMapper.builder()\r\n\t\t\t.enable(SerializationFeature.INDENT_OUTPUT)\r\n\t\t\t.addModule(new JavaTimeModule())\r\n\t\t\t.addHandler(new ProjectDeserializationProblemHandler())\r\n\t\t\t.build();\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tvar json = &quot;{\\&quot;houseNumber\\&quot;:\\&quot;NO_ADDRESS\\&quot;}&quot;;\r\n\t\tvar address = JSON_MAPPER.readValue(json, Address.class);\r\n\t\tSystem.out.println(address);\r\n\t}\r\n}\r\n\r\nclass ProjectDeserializationProblemHandler extends DeserializationProblemHandler {\r\n\t@Override\r\n\tpublic Object handleWeirdStringValue(DeserializationContext ctxt, Class&lt;?&gt; targetType, String valueToConvert, String failureMsg) throws IOException {\r\n\t\tif (targetType == int.class &amp;&amp; valueToConvert.equals(&quot;NO_ADDRESS&quot;)) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\treturn super.handleWeirdStringValue(ctxt, targetType, valueToConvert, failureMsg);\r\n\t}\r\n}\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\nclass Address {\r\n\r\n\tprivate int houseNumber;\r\n}\r\n```\r\n\r\nOr you can provide custom `com.fasterxml.jackson.databind.util.StdConverter` implementation which has a little bit simpler interface than `JsonDeserializer`:\r\n```java\r\nimport com.fasterxml.jackson.databind.SerializationFeature;\r\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\r\nimport com.fasterxml.jackson.databind.json.JsonMapper;\r\nimport com.fasterxml.jackson.databind.util.StdConverter;\r\nimport com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport org.apache.commons.lang3.math.NumberUtils;\r\n\r\npublic class HandleErrorsApp {\r\n\tprivate final static JsonMapper JSON_MAPPER = JsonMapper.builder()\r\n\t\t\t.enable(SerializationFeature.INDENT_OUTPUT)\r\n\t\t\t.addModule(new JavaTimeModule())\r\n\t\t\t.build();\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tvar json = &quot;{\\&quot;houseNumber\\&quot;:\\&quot;NO_ADDRESS\\&quot;}&quot;;\r\n\t\tvar address = JSON_MAPPER.readValue(json, Address.class);\r\n\t\tSystem.out.println(address);\r\n\t}\r\n}\r\n\r\nclass StringIntConverter extends StdConverter&lt;String, Integer&gt; {\r\n\r\n\t@Override\r\n\tpublic Integer convert(String value) {\r\n\t\treturn NumberUtils.toInt(value, 0);\r\n\t}\r\n}\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\nclass Address {\r\n\r\n\t@JsonDeserialize(converter = StringIntConverter.class)\r\n\tprivate int houseNumber;\r\n}\r\n```\r\n\r\nIn both cases program prints:\r\n```logs\r\nAddress(houseNumber=0)\r\n```","title":"How to convert string values to 0 with Jackson?","body":"<p>The simplest solution is to add setter method which takes <code>String</code> value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Address {\n\n    private String street;\n    private int houseNumber;\n    private String district;\n    private String city;\n    private String state;\n    private String zipCode;\n\n    public void setHouseNumber(String value) {\n        this.houseNumber = 0;\n    }\n}\n</code></pre>\n<p>Other option, you can provide custom <code>com.fasterxml.jackson.databind.deser.DeserializationProblemHandler</code> and handle all these kind of business values generally for all <code>POJO</code> classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.SerializationFeature;\nimport com.fasterxml.jackson.databind.deser.DeserializationProblemHandler;\nimport com.fasterxml.jackson.databind.json.JsonMapper;\nimport com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport java.io.IOException;\n\npublic class HandleErrorsApp {\n    private final static JsonMapper JSON_MAPPER = JsonMapper.builder()\n            .enable(SerializationFeature.INDENT_OUTPUT)\n            .addModule(new JavaTimeModule())\n            .addHandler(new ProjectDeserializationProblemHandler())\n            .build();\n\n    public static void main(String[] args) throws Exception {\n        var json = &quot;{\\&quot;houseNumber\\&quot;:\\&quot;NO_ADDRESS\\&quot;}&quot;;\n        var address = JSON_MAPPER.readValue(json, Address.class);\n        System.out.println(address);\n    }\n}\n\nclass ProjectDeserializationProblemHandler extends DeserializationProblemHandler {\n    @Override\n    public Object handleWeirdStringValue(DeserializationContext ctxt, Class&lt;?&gt; targetType, String valueToConvert, String failureMsg) throws IOException {\n        if (targetType == int.class &amp;&amp; valueToConvert.equals(&quot;NO_ADDRESS&quot;)) {\n            return 0;\n        }\n        return super.handleWeirdStringValue(ctxt, targetType, valueToConvert, failureMsg);\n    }\n}\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\nclass Address {\n\n    private int houseNumber;\n}\n</code></pre>\n<p>Or you can provide custom <code>com.fasterxml.jackson.databind.util.StdConverter</code> implementation which has a little bit simpler interface than <code>JsonDeserializer</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.databind.SerializationFeature;\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\nimport com.fasterxml.jackson.databind.json.JsonMapper;\nimport com.fasterxml.jackson.databind.util.StdConverter;\nimport com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.apache.commons.lang3.math.NumberUtils;\n\npublic class HandleErrorsApp {\n    private final static JsonMapper JSON_MAPPER = JsonMapper.builder()\n            .enable(SerializationFeature.INDENT_OUTPUT)\n            .addModule(new JavaTimeModule())\n            .build();\n\n    public static void main(String[] args) throws Exception {\n        var json = &quot;{\\&quot;houseNumber\\&quot;:\\&quot;NO_ADDRESS\\&quot;}&quot;;\n        var address = JSON_MAPPER.readValue(json, Address.class);\n        System.out.println(address);\n    }\n}\n\nclass StringIntConverter extends StdConverter&lt;String, Integer&gt; {\n\n    @Override\n    public Integer convert(String value) {\n        return NumberUtils.toInt(value, 0);\n    }\n}\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\nclass Address {\n\n    @JsonDeserialize(converter = StringIntConverter.class)\n    private int houseNumber;\n}\n</code></pre>\n<p>In both cases program prints:</p>\n<pre><code>Address(houseNumber=0)\n</code></pre>\n"}],"owner":{"account_id":15486800,"reputation":2157,"user_id":12044155,"display_name":"Allan Juan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684246724,"creation_date":1673362225,"question_id":75071714,"body_markdown":"I&#39;m fetching addresses from an external API. This is the class representing the addresses:\r\n\r\n```\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\npublic class Address implements Serializable {\r\n    private static final long serialVersionUID = -7134571546367230214L;\r\n\r\n    private String street;\r\n    private int houseNumber;\r\n    private String district;\r\n    private String city;\r\n    private String state;\r\n    private String zipCode;\r\n}\r\n```\r\n\r\nHowever, when the given address doesn&#39;t have a houseNumber, the API will return a string such as `&quot;NO NUMBER&quot;` on the `houseNumber` field, causing Jackson to throw a deserialization error, since it was expecting an integer number and got a string.\r\n\r\nHow can I tell Jackson to convert `houseNumber` to `0` when it finds a string value?","title":"How to convert string values to 0 with Jackson?","body":"<p>I'm fetching addresses from an external API. This is the class representing the addresses:</p>\n<pre><code>@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class Address implements Serializable {\n    private static final long serialVersionUID = -7134571546367230214L;\n\n    private String street;\n    private int houseNumber;\n    private String district;\n    private String city;\n    private String state;\n    private String zipCode;\n}\n</code></pre>\n<p>However, when the given address doesn't have a houseNumber, the API will return a string such as <code>&quot;NO NUMBER&quot;</code> on the <code>houseNumber</code> field, causing Jackson to throw a deserialization error, since it was expecting an integer number and got a string.</p>\n<p>How can I tell Jackson to convert <code>houseNumber</code> to <code>0</code> when it finds a string value?</p>\n"},{"tags":["java","windows","winapi","mouse-cursor"],"answers":[{"tags":[],"owner":{"account_id":152400,"reputation":240428,"user_id":366904,"accept_rate":82,"display_name":"Cody Gray - on strike"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1504454977,"creation_date":1504454617,"answer_id":46025313,"question_id":46014692,"body_markdown":"You can set any size cursor you want using the [`SetSystemCursor` API](https://msdn.microsoft.com/en-us/library/windows/desktop/ms648395.aspx). You are not limited to the `SM_CXCURSOR`/`SM_CYCURSOR` metrics (cf. [`GetSystemMetrics` function](https://msdn.microsoft.com/en-us/library/windows/desktop/ms724385.aspx))&amp;mdash;those just tell you the system&#39;s *default* cursor size, which is typically 32&amp;times;32 (or 48&amp;times;48 on high-DPI systems). I know for a fact that this works as far back as Windows XP; I&#39;m pretty sure it works further back than that.\r\n\r\nThe key lies in how you load the cursor resource. As you probably already know, you need an `HCURSOR` object to pass to `SetSystemCursor`. This is a handle-to-cursor, in Windows API speak. The obvious way to load a cursor is by calling the [`LoadCursor` API function](https://msdn.microsoft.com/en-us/library/windows/desktop/ms648391.aspx), but that is a *very* old function, introduced with 16-bit Windows and it *is* limited to loading cursors of size `SM_CXCURSOR`&amp;times;`SM_CYCURSOR`. So you don&#39;t want that&lt;sup&gt;†&lt;/sup&gt;; you want to call [`LoadImage`](https://msdn.microsoft.com/en-us/library/windows/desktop/ms648045.aspx), which as the documentation indicates is the modern replacement function. It takes an enumerated integer parameter indicating which type of image to load: `IMAGE_BITMAP` (0), `IMAGE_ICON` (1), `IMAGE_CURSOR` (2), or `IMAGE_ENHMETAFILE` (3). Obviously, `IMAGE_CURSOR` is what you want to use here.\r\n\r\nYou can either load from a cursor resource embedded into your application&#39;s binary (as a Win32 resource), or you can load from a \\*.CUR/\\*.ANI file from the disk. To do the latter, pass the `LR_LOADFROMFILE` flag to the `LoadImage` function.\r\n\r\nI don&#39;t know Java, so I can&#39;t translate this to Java with whatever syntax is required there to make native Windows API calls, but here is the code in C:\r\n\r\n&lt;!-- language-all: lang-c --&gt;\r\n\r\n     // Load from a CUR file, at C:\\LargeCursor.cur, with a size of 64x64 pixels\r\n    HCURSOR hCursor = (HCURSOR)LoadImage(NULL,\r\n                                         &quot;C:\\\\LargeCursor.cur&quot;),\r\n                                         IMAGE_CURSOR,\r\n                                         64, 64,\r\n                                         LR_DEFAULTCOLOR | LR_LOADFROMFILE);\r\n    assert(hCursor != NULL);  // verify that load was successful\r\n    BOOL result = SetSystemCursor(hCursor, OCR_NORMAL);\r\n    assert(result != FALSE);  // verify that the change was successful\r\n\r\n&lt;!-- --&gt;\r\n\r\n    // Load from an embedded resource, IDC_CURSOR, with a size of 64x64 pixels\r\n    HCURSOR hCursor = (HCURSOR)LoadImage(GetModuleHandle(NULL),\r\n                                         IDC_CURSOR),\r\n                                         IMAGE_CURSOR,\r\n                                         64, 64,\r\n                                         LR_DEFAULTCOLOR);\r\n    assert(hCursor != NULL);  // verify that load was successful\r\n    BOOL result = SetSystemCursor(hCursor, OCR_NORMAL);\r\n    assert(result != FALSE);  // verify that the change was successful\r\n\r\nNote that the `SetSystemCursor` requires one of the `OCR_*` constants to identify *which* system cursor type to change. These aren&#39;t included by default when you include `Windows.h`; you have to define `OEMRESOURCE` *before* including `Windows.h`. I&#39;m assuming, though, that with Java, you&#39;re just defining the constants yourself as enumerated values. In that case, they&#39;re all available in [the MSDN documentation for `SetSystemCursor`](https://msdn.microsoft.com/en-us/library/windows/desktop/ms648395.aspx). For example, `OCR_NORMAL` is `32512`.\r\n\r\nNotice, though, that what we&#39;re doing here is loading a new cursor (i.e., image) of the desired size, and then setting that. That works fine. What you can&#39;t easily do is just expand the size of the *existing* cursor glyph. To do that, you&#39;d have to retrieve the current cursor glyph, draw it onto a bitmap, scale that bitmap to the desired size, convert that bitmap to an `HCURSOR`, and then set *that* `HCURSOR` using `SetSystemCursor`. And, naturally, the problem with that is Windows cursor glyphs are just bitmaps, so they&#39;re not infinitely scalable. You will start losing resolution quickly, so this is not recommended. If you need a large-size cursor, you will need to provide your own image.\r\n\r\nBy &quot;CursorFX&quot;, I believe you&#39;re thinking of AniFX (by the same fellow, Attila Kovrig, who wrote IcoFX). This is a cursor image editor and would be a great way to create the \\*.CUR/\\*.ANI file(s) you need. But you could just as easily use some other piece of software designed for creating cursors; there are myriad to choose from.\r\n\r\n__  \r\n&lt;sub&gt;&lt;sup&gt;†&lt;/sup&gt; Not that you wanted that function with `SetSystemCursor` *anyway*, since `SetSystemCursor` destroys the specified cursor by calling `DestroyCursor`. You would need to do `LoadCursor` and then `CopyCursor` before calling `SetSystemCursor`. This is all spelled out in the documentation for `SetSystemCursor`, but as I said, you don&#39;t need to worry about this anymore because you just use `LoadImage` (without the `LR_SHARED` flag).&lt;/sub&gt;","title":"Windows cursor size bigger than maximum available","body":"<p>You can set any size cursor you want using the <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms648395.aspx\" rel=\"noreferrer\"><code>SetSystemCursor</code> API</a>. You are not limited to the <code>SM_CXCURSOR</code>/<code>SM_CYCURSOR</code> metrics (cf. <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms724385.aspx\" rel=\"noreferrer\"><code>GetSystemMetrics</code> function</a>)&mdash;those just tell you the system's <em>default</em> cursor size, which is typically 32&times;32 (or 48&times;48 on high-DPI systems). I know for a fact that this works as far back as Windows XP; I'm pretty sure it works further back than that.</p>\n\n<p>The key lies in how you load the cursor resource. As you probably already know, you need an <code>HCURSOR</code> object to pass to <code>SetSystemCursor</code>. This is a handle-to-cursor, in Windows API speak. The obvious way to load a cursor is by calling the <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms648391.aspx\" rel=\"noreferrer\"><code>LoadCursor</code> API function</a>, but that is a <em>very</em> old function, introduced with 16-bit Windows and it <em>is</em> limited to loading cursors of size <code>SM_CXCURSOR</code>&times;<code>SM_CYCURSOR</code>. So you don't want that<sup>†</sup>; you want to call <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms648045.aspx\" rel=\"noreferrer\"><code>LoadImage</code></a>, which as the documentation indicates is the modern replacement function. It takes an enumerated integer parameter indicating which type of image to load: <code>IMAGE_BITMAP</code> (0), <code>IMAGE_ICON</code> (1), <code>IMAGE_CURSOR</code> (2), or <code>IMAGE_ENHMETAFILE</code> (3). Obviously, <code>IMAGE_CURSOR</code> is what you want to use here.</p>\n\n<p>You can either load from a cursor resource embedded into your application's binary (as a Win32 resource), or you can load from a *.CUR/*.ANI file from the disk. To do the latter, pass the <code>LR_LOADFROMFILE</code> flag to the <code>LoadImage</code> function.</p>\n\n<p>I don't know Java, so I can't translate this to Java with whatever syntax is required there to make native Windows API calls, but here is the code in C:</p>\n\n\n\n<pre class=\"lang-c prettyprint-override\"><code> // Load from a CUR file, at C:\\LargeCursor.cur, with a size of 64x64 pixels\nHCURSOR hCursor = (HCURSOR)LoadImage(NULL,\n                                     \"C:\\\\LargeCursor.cur\"),\n                                     IMAGE_CURSOR,\n                                     64, 64,\n                                     LR_DEFAULTCOLOR | LR_LOADFROMFILE);\nassert(hCursor != NULL);  // verify that load was successful\nBOOL result = SetSystemCursor(hCursor, OCR_NORMAL);\nassert(result != FALSE);  // verify that the change was successful\n</code></pre>\n\n\n\n<pre class=\"lang-c prettyprint-override\"><code>// Load from an embedded resource, IDC_CURSOR, with a size of 64x64 pixels\nHCURSOR hCursor = (HCURSOR)LoadImage(GetModuleHandle(NULL),\n                                     IDC_CURSOR),\n                                     IMAGE_CURSOR,\n                                     64, 64,\n                                     LR_DEFAULTCOLOR);\nassert(hCursor != NULL);  // verify that load was successful\nBOOL result = SetSystemCursor(hCursor, OCR_NORMAL);\nassert(result != FALSE);  // verify that the change was successful\n</code></pre>\n\n<p>Note that the <code>SetSystemCursor</code> requires one of the <code>OCR_*</code> constants to identify <em>which</em> system cursor type to change. These aren't included by default when you include <code>Windows.h</code>; you have to define <code>OEMRESOURCE</code> <em>before</em> including <code>Windows.h</code>. I'm assuming, though, that with Java, you're just defining the constants yourself as enumerated values. In that case, they're all available in <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms648395.aspx\" rel=\"noreferrer\">the MSDN documentation for <code>SetSystemCursor</code></a>. For example, <code>OCR_NORMAL</code> is <code>32512</code>.</p>\n\n<p>Notice, though, that what we're doing here is loading a new cursor (i.e., image) of the desired size, and then setting that. That works fine. What you can't easily do is just expand the size of the <em>existing</em> cursor glyph. To do that, you'd have to retrieve the current cursor glyph, draw it onto a bitmap, scale that bitmap to the desired size, convert that bitmap to an <code>HCURSOR</code>, and then set <em>that</em> <code>HCURSOR</code> using <code>SetSystemCursor</code>. And, naturally, the problem with that is Windows cursor glyphs are just bitmaps, so they're not infinitely scalable. You will start losing resolution quickly, so this is not recommended. If you need a large-size cursor, you will need to provide your own image.</p>\n\n<p>By \"CursorFX\", I believe you're thinking of AniFX (by the same fellow, Attila Kovrig, who wrote IcoFX). This is a cursor image editor and would be a great way to create the *.CUR/*.ANI file(s) you need. But you could just as easily use some other piece of software designed for creating cursors; there are myriad to choose from.</p>\n\n<p>__<br>\n<sub><sup>†</sup> Not that you wanted that function with <code>SetSystemCursor</code> <em>anyway</em>, since <code>SetSystemCursor</code> destroys the specified cursor by calling <code>DestroyCursor</code>. You would need to do <code>LoadCursor</code> and then <code>CopyCursor</code> before calling <code>SetSystemCursor</code>. This is all spelled out in the documentation for <code>SetSystemCursor</code>, but as I said, you don't need to worry about this anymore because you just use <code>LoadImage</code> (without the <code>LR_SHARED</code> flag).</sub></p>\n"}],"owner":{"account_id":7286018,"reputation":41,"user_id":5554062,"display_name":"Robert Kawecki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2008,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1684246583,"creation_date":1504361898,"question_id":46014692,"body_markdown":"I&#39;m working with an application where one of the options which I have to develop is to change Windows 10 cursor size. In my case it its important to change cursor size for the whole windows, not only for a specific java application window. Currently I&#39;m able to change size of specific cursor type by modifying Windows registry attributes under HKEY_CURRENT_USER &amp;rarr; Control Panel &amp;rarr; Cursors directory.\r\n\r\nUnfortunately, I need to set cursor size bigger than 32x32px.\r\nSomewhere I&#39;ve found a solution where there was a possibility to cover existing mouse cursor by a bitmap and just follow the position of a cursor, but I don&#39;t know how to start with the implementation.\r\nI searched on the Internet and I&#39;ve found some applications that allow user to modify size of cursor for whole Windows 10&amp;mdash;for example, this was CursorFX.\r\n\r\nDo you know how to increase cursor size programmatically?","title":"Windows cursor size bigger than maximum available","body":"<p>I'm working with an application where one of the options which I have to develop is to change Windows 10 cursor size. In my case it its important to change cursor size for the whole windows, not only for a specific java application window. Currently I'm able to change size of specific cursor type by modifying Windows registry attributes under HKEY_CURRENT_USER &rarr; Control Panel &rarr; Cursors directory.</p>\n\n<p>Unfortunately, I need to set cursor size bigger than 32x32px.\nSomewhere I've found a solution where there was a possibility to cover existing mouse cursor by a bitmap and just follow the position of a cursor, but I don't know how to start with the implementation.\nI searched on the Internet and I've found some applications that allow user to modify size of cursor for whole Windows 10&mdash;for example, this was CursorFX.</p>\n\n<p>Do you know how to increase cursor size programmatically?</p>\n"},{"tags":["java","android","flutter","visual-studio-code"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1665725525,"post_id":74061644,"comment_id":130769798,"body_markdown":"Have you tried using java11 or higher jdk?","body":"Have you tried using java11 or higher jdk?"},{"owner":{"account_id":23443697,"reputation":99,"user_id":17500827,"display_name":"cueless"},"score":0,"creation_date":1665752288,"post_id":74061644,"comment_id":130777326,"body_markdown":"Yes, the thing is that the error message show that im using version 1.8, but when I check my version with ./gradlew --version in my android folder it says: JVM: 11.0.16. So its very strange it says that im currently using version 1.8.","body":"Yes, the thing is that the error message show that im using version 1.8, but when I check my version with ./gradlew --version in my android folder it says: JVM: 11.0.16. So its very strange it says that im currently using version 1.8."}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665728209,"creation_date":1665728209,"answer_id":74065069,"question_id":74061644,"body_markdown":"vscode does not support older versions of jdk in some functions, switch to a higher version. \r\n\r\nIt is recommended to use jdk17, which can be downloaded from the **Configure Java Runtime** page.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fGTFV.png","title":"flutter error in android build.gradle , Could not run phased build action","body":"<p>vscode does not support older versions of jdk in some functions, switch to a higher version.</p>\n<p>It is recommended to use jdk17, which can be downloaded from the <strong>Configure Java Runtime</strong> page.</p>\n<p><a href=\"https://i.stack.imgur.com/fGTFV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fGTFV.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":23443697,"reputation":99,"user_id":17500827,"display_name":"cueless"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665880190,"creation_date":1665880190,"answer_id":74083891,"question_id":74061644,"body_markdown":"This bug resolved itself when I moved location of the flutter  project. I guess something that a restart or flutter clean couldn’t reach got rebuilt when you move the location of the project. (Moved it to another folder) ","title":"flutter error in android build.gradle , Could not run phased build action","body":"<p>This bug resolved itself when I moved location of the flutter  project. I guess something that a restart or flutter clean couldn’t reach got rebuilt when you move the location of the project. (Moved it to another folder)</p>\n"}],"owner":{"account_id":23443697,"reputation":99,"user_id":17500827,"display_name":"cueless"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74083891,"answer_count":2,"score":0,"last_activity_date":1684246557,"creation_date":1665694170,"question_id":74061644,"body_markdown":"I get an error in my android&gt;build.gradle file.\r\n\r\nThe build.gradle file:\r\n\r\n    buildscript {\r\n        ext.kotlin_version = &#39;1.6.10&#39;\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n    \r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:7.1.2&#39;\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n            classpath &#39;com.google.gms:google-services:4.3.13&#39;\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n    }\r\n    \r\n    rootProject.buildDir = &#39;../build&#39;\r\n    subprojects {\r\n        project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\r\n    }\r\n    subprojects {\r\n        project.evaluationDependsOn(&#39;:app&#39;)\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\n\r\nThe error message:\r\n\r\n    Could not run phased build action using connection to Gradle distribution &#39;https://services.gradle.org/distributions/gradle-7.4-all.zip&#39;.\r\n    org.gradle.api.ProjectConfigurationException: A problem occurred configuring root project &#39;android&#39;.\r\n    A problem occurred configuring root project &#39;android&#39;.\r\n    A problem occurred evaluating root project &#39;android&#39;.\r\n    A problem occurred configuring project &#39;:app&#39;.\r\n    A problem occurred evaluating project &#39;:app&#39;.\r\n    Failed to apply plugin &#39;com.android.internal.application&#39;.\r\n    Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8.\r\n\r\n\r\n***Update: When checking my Java version:***\r\n\r\n    $ ./gradlew --version\r\n    \r\n    ------------------------------------------------------------\r\n    Gradle 7.4\r\n    ------------------------------------------------------------\r\n    \r\n    Build time:   2022-02-08 09:58:38 UTC\r\n    Revision:     f0d9291c04b90b59445041eaa75b2ee744162586\r\n    \r\n    Kotlin:       1.5.31\r\n    Groovy:       3.0.9\r\n    Ant:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\n    JVM:          11.0.16 (Oracle Corporation 11.0.16+11-LTS-199)\r\n    OS:           Windows 11 10.0 amd64\r\n\r\n\r\n\r\nThe error is marked at the first line on buildscript.\r\nAny idea what this is? It says that my java version is wrong but it have worked all the time and in all my other app it still works. Very strange to me.\r\nI use VScode if that makes any difference.\r\n","title":"flutter error in android build.gradle , Could not run phased build action","body":"<p>I get an error in my android&gt;build.gradle file.</p>\n<p>The build.gradle file:</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.6.10'\n    repositories {\n        google()\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.1.2'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n        classpath 'com.google.gms:google-services:4.3.13'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\n}\nsubprojects {\n    project.evaluationDependsOn(':app')\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>The error message:</p>\n<pre><code>Could not run phased build action using connection to Gradle distribution 'https://services.gradle.org/distributions/gradle-7.4-all.zip'.\norg.gradle.api.ProjectConfigurationException: A problem occurred configuring root project 'android'.\nA problem occurred configuring root project 'android'.\nA problem occurred evaluating root project 'android'.\nA problem occurred configuring project ':app'.\nA problem occurred evaluating project ':app'.\nFailed to apply plugin 'com.android.internal.application'.\nAndroid Gradle plugin requires Java 11 to run. You are currently using Java 1.8.\n</code></pre>\n<p><em><strong>Update: When checking my Java version:</strong></em></p>\n<pre><code>$ ./gradlew --version\n\n------------------------------------------------------------\nGradle 7.4\n------------------------------------------------------------\n\nBuild time:   2022-02-08 09:58:38 UTC\nRevision:     f0d9291c04b90b59445041eaa75b2ee744162586\n\nKotlin:       1.5.31\nGroovy:       3.0.9\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          11.0.16 (Oracle Corporation 11.0.16+11-LTS-199)\nOS:           Windows 11 10.0 amd64\n</code></pre>\n<p>The error is marked at the first line on buildscript.\nAny idea what this is? It says that my java version is wrong but it have worked all the time and in all my other app it still works. Very strange to me.\nI use VScode if that makes any difference.</p>\n"},{"tags":["java","ssl","ssl-certificate","sonicmq"],"owner":{"account_id":2359561,"reputation":668,"user_id":2066586,"accept_rate":40,"display_name":"ZooS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1041,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684246324,"creation_date":1465371983,"question_id":37696313,"body_markdown":"I am having trouble connecting to a SonicMQ broker from my Java application.\r\n\r\nthis is my client code:\r\n\r\n    System.out.println(&quot;Connection setup started&quot;);\r\n    System.setProperty(&quot;javax.net.ssl.keyStoreType&quot;, &quot;PKCS12&quot;);\r\n    System.setProperty(&quot;javax.net.ssl.keyStore&quot;, keyStoreFile.getAbsolutePath());\r\n    System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;,&quot;changeit&quot;);\r\n\r\n    ConnectionFactory connectionFactory = new progress.message.jclient.ConnectionFactory(args[0]);\r\n    Connection connection = connectionFactory.createConnection(args[1], args[2]);\r\n\r\nOn the last line i get &quot;No trusted CA certificate is specified.&quot; notification and\r\n\r\n    javax.jms.JMSException: Unable to register trusted CA certificate(s) or trust decider to verify the broker certificate\r\n\tat progress.message.jimpl.JMSExceptionUtil.createJMSException(JMSExceptionUtil.java:42)\r\n\tat progress.message.jimpl.Connection.&lt;init&gt;(Connection.java:755)\r\n\tat progress.message.jclient.ConnectionFactory.createConnection(ConnectionFactory.java:2055)\r\n\tat hr.aduro.translatorclient.TranslatorClient.main(TranslatorClient.java:80)\r\n    Caused by: [4020] progress.message.net.ESocketConfigException: Unable to register trusted CA certificate(s) or trust decider to verify the broker certificate\r\n\tat progress.message.net.ssl.ProgressSslSocket.&lt;init&gt;(ProgressSslSocket.java:89)\r\n\tat progress.message.net.ssl.ProgressSslSocket.&lt;init&gt;(ProgressSslSocket.java:163)\r\n\tat progress.message.net.ssl.ProgressSslSocketFactory.createProgressSocket(ProgressSslSocketFactory.java:240)\r\n\tat progress.message.net.ProgressSocketFactory.createProgressSocket(ProgressSocketFactory.java:179)\r\n\tat progress.message.zclient.Connection.openSocket(Connection.java:3640)\r\n\tat progress.message.zclient.Connection.connectWithRecoveryOpt(Connection.java:752)\r\n\tat progress.message.zclient.ReconnectHelper.connectAndChaseSingleFailoverRedirect(ReconnectHelper.java:534)\r\n\tat progress.message.zclient.Connection.connect(Connection.java:1503)\r\n\tat progress.message.jimpl.Connection.&lt;init&gt;(Connection.java:536)\r\n\t... 2 more\r\n\r\n**NOTE:** `keyStoreFile` is a p12 file in `resources` folder and contains a public certificate and private key pair\r\n\r\nThis puzzles me and I lost a whole day on this problem and still no resolution. I am aware that as soon as I state that my host uses SSL by passing the url as `ssl://some-ip-address:port` the connection factory will try and look for the CAs. The problem is I don&#39;t know where to specify what CA I am using.","title":"SonicMQ SSL client connection","body":"<p>I am having trouble connecting to a SonicMQ broker from my Java application.</p>\n\n<p>this is my client code:</p>\n\n<pre><code>System.out.println(\"Connection setup started\");\nSystem.setProperty(\"javax.net.ssl.keyStoreType\", \"PKCS12\");\nSystem.setProperty(\"javax.net.ssl.keyStore\", keyStoreFile.getAbsolutePath());\nSystem.setProperty(\"javax.net.ssl.keyStorePassword\",\"changeit\");\n\nConnectionFactory connectionFactory = new progress.message.jclient.ConnectionFactory(args[0]);\nConnection connection = connectionFactory.createConnection(args[1], args[2]);\n</code></pre>\n\n<p>On the last line i get \"No trusted CA certificate is specified.\" notification and</p>\n\n<pre><code>javax.jms.JMSException: Unable to register trusted CA certificate(s) or trust decider to verify the broker certificate\nat progress.message.jimpl.JMSExceptionUtil.createJMSException(JMSExceptionUtil.java:42)\nat progress.message.jimpl.Connection.&lt;init&gt;(Connection.java:755)\nat progress.message.jclient.ConnectionFactory.createConnection(ConnectionFactory.java:2055)\nat hr.aduro.translatorclient.TranslatorClient.main(TranslatorClient.java:80)\nCaused by: [4020] progress.message.net.ESocketConfigException: Unable to register trusted CA certificate(s) or trust decider to verify the broker certificate\nat progress.message.net.ssl.ProgressSslSocket.&lt;init&gt;(ProgressSslSocket.java:89)\nat progress.message.net.ssl.ProgressSslSocket.&lt;init&gt;(ProgressSslSocket.java:163)\nat progress.message.net.ssl.ProgressSslSocketFactory.createProgressSocket(ProgressSslSocketFactory.java:240)\nat progress.message.net.ProgressSocketFactory.createProgressSocket(ProgressSocketFactory.java:179)\nat progress.message.zclient.Connection.openSocket(Connection.java:3640)\nat progress.message.zclient.Connection.connectWithRecoveryOpt(Connection.java:752)\nat progress.message.zclient.ReconnectHelper.connectAndChaseSingleFailoverRedirect(ReconnectHelper.java:534)\nat progress.message.zclient.Connection.connect(Connection.java:1503)\nat progress.message.jimpl.Connection.&lt;init&gt;(Connection.java:536)\n... 2 more\n</code></pre>\n\n<p><strong>NOTE:</strong> <code>keyStoreFile</code> is a p12 file in <code>resources</code> folder and contains a public certificate and private key pair</p>\n\n<p>This puzzles me and I lost a whole day on this problem and still no resolution. I am aware that as soon as I state that my host uses SSL by passing the url as <code>ssl://some-ip-address:port</code> the connection factory will try and look for the CAs. The problem is I don't know where to specify what CA I am using.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":15920976,"reputation":31,"user_id":11487992,"display_name":"alireza rayani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684245913,"creation_date":1684245913,"answer_id":76263993,"question_id":76263426,"body_markdown":"You can achieve this in two scenarios. By using a custom **JsonDeserializer** class provided by Jackson or utilizing a setter method.\r\n\r\nIn the first scenario:\r\n\r\n1. Create an EmployeeDTO model class with the necessary fields:\r\n\r\n```java\r\n    public class EmployeeDTO {\r\n    private int id;\r\n    private String name;\r\n    private String empType;\r\n    // Getters and setters \r\n}\r\n```\r\n2. Implement a custom **deserializer** that maps the JSON values to the desired representation:\r\n```java\r\npublic class EmployeeTypeDeserializer extends JsonDeserializer&lt;String&gt; {\r\n    @Override\r\n    public String deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\r\n        String empType = jsonParser.getValueAsString();\r\n        if (&quot;SENIOR&quot;.equals(empType)) {\r\n            return &quot;C-9&quot;;\r\n        } else if (&quot;JUNIOR&quot;.equals(empType)) {\r\n            return &quot;C-10&quot;;\r\n        }\r\n        return empType;\r\n    }\r\n}\r\n```\r\n3. Annotate the empType property in the EmployeeDTO class with **@JsonDeserialize** to specify the usage of the custom deserializer:\r\n\r\n```java\r\n@JsonDeserialize(using = EmployeeTypeDeserializer.class)\r\nprivate String empType;\r\n```\r\n\r\nAlternatively, you can achieve the desired mapping by using a setter method:\r\n\r\n```java\r\npublic void setEmpType(String empType) {\r\n    System.out.println(&quot;Setter method called&quot;);\r\n    if (empType.equals(&quot;SENIOR&quot;)) {\r\n        this.empType = &quot;C-9&quot;;\r\n    } else if (empType.equals(&quot;JUNIOR&quot;)) {\r\n        this.empType = &quot;C-10&quot;;\r\n    } else {\r\n        // Handle the case when empType is not the desired type\r\n        // You can choose to throw an exception or set the empType to null or an empty string\r\n        // throw new IllegalArgumentException(&quot;Invalid empType&quot;);\r\n        // this.empType = null;\r\n        this.empType = &quot;&quot;;\r\n    }\r\n}\r\n```\r\nDepending on your business logic, you can decide how to handle the case when empType does not match the desired types, whether by throwing an exception or setting it to null.\r\n\r\nYou can even set the empType in the service layer.","title":"How to save a value in table&#39;s column based on the value sent in httprequest?","body":"<p>You can achieve this in two scenarios. By using a custom <strong>JsonDeserializer</strong> class provided by Jackson or utilizing a setter method.</p>\n<p>In the first scenario:</p>\n<ol>\n<li>Create an EmployeeDTO model class with the necessary fields:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>    public class EmployeeDTO {\n    private int id;\n    private String name;\n    private String empType;\n    // Getters and setters \n}\n</code></pre>\n<ol start=\"2\">\n<li>Implement a custom <strong>deserializer</strong> that maps the JSON values to the desired representation:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class EmployeeTypeDeserializer extends JsonDeserializer&lt;String&gt; {\n    @Override\n    public String deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\n        String empType = jsonParser.getValueAsString();\n        if (&quot;SENIOR&quot;.equals(empType)) {\n            return &quot;C-9&quot;;\n        } else if (&quot;JUNIOR&quot;.equals(empType)) {\n            return &quot;C-10&quot;;\n        }\n        return empType;\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>Annotate the empType property in the EmployeeDTO class with <strong>@JsonDeserialize</strong> to specify the usage of the custom deserializer:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonDeserialize(using = EmployeeTypeDeserializer.class)\nprivate String empType;\n</code></pre>\n<p>Alternatively, you can achieve the desired mapping by using a setter method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void setEmpType(String empType) {\n    System.out.println(&quot;Setter method called&quot;);\n    if (empType.equals(&quot;SENIOR&quot;)) {\n        this.empType = &quot;C-9&quot;;\n    } else if (empType.equals(&quot;JUNIOR&quot;)) {\n        this.empType = &quot;C-10&quot;;\n    } else {\n        // Handle the case when empType is not the desired type\n        // You can choose to throw an exception or set the empType to null or an empty string\n        // throw new IllegalArgumentException(&quot;Invalid empType&quot;);\n        // this.empType = null;\n        this.empType = &quot;&quot;;\n    }\n}\n</code></pre>\n<p>Depending on your business logic, you can decide how to handle the case when empType does not match the desired types, whether by throwing an exception or setting it to null.</p>\n<p>You can even set the empType in the service layer.</p>\n"}],"owner":{"account_id":13160542,"reputation":197,"user_id":9506183,"display_name":"vishnu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684245913,"creation_date":1684242690,"question_id":76263426,"body_markdown":"I&#39;m using a spring boot application. From postman I send the JSON\r\n\r\n```\r\n{  \r\n   &quot;id&quot;:2, \r\n    &quot;name&quot;: &quot;Niki&quot; ,\r\n    &quot;empType&quot;:&quot;SENIOR&quot;\r\n}   \r\n```\r\n\r\nNow if the empType in the request is &quot;SENIOR&quot; then I have to save &quot;C-9&quot; in the employee type column, If it is &quot;JUNIOR&quot; then I should  save &quot;C-10&quot; in the employee type column.Please let me know how to do it?","title":"How to save a value in table&#39;s column based on the value sent in httprequest?","body":"<p>I'm using a spring boot application. From postman I send the JSON</p>\n<pre><code>{  \n   &quot;id&quot;:2, \n    &quot;name&quot;: &quot;Niki&quot; ,\n    &quot;empType&quot;:&quot;SENIOR&quot;\n}   \n</code></pre>\n<p>Now if the empType in the request is &quot;SENIOR&quot; then I have to save &quot;C-9&quot; in the employee type column, If it is &quot;JUNIOR&quot; then I should  save &quot;C-10&quot; in the employee type column.Please let me know how to do it?</p>\n"},{"tags":["java","c++"],"answers":[{"tags":[],"owner":{"account_id":7621,"reputation":9153,"user_id":13285,"display_name":"zmf"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1234369846,"creation_date":1234369846,"answer_id":537621,"question_id":537595,"body_markdown":" Video games still use C++. One example that comes to mind is the Torque engine which can be used for iphone and xbox game development. \r\n","title":"Which sector of software industry uses C++?","body":"<p>Video games still use C++. One example that comes to mind is the Torque engine which can be used for iphone and xbox game development. </p>\n"},{"tags":[],"owner":{"account_id":24253,"reputation":18312,"user_id":61574,"accept_rate":100,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1234370379,"creation_date":1234369932,"answer_id":537629,"question_id":537595,"body_markdown":"Keywords: Banking (financial institutions), games\r\n\r\nOh, and also particle physicists and other scientists using the (in)famous [ROOT][1] framework.\r\n\r\nAnd check out [this list][2] of C++ based applications.\r\n\r\n\r\n  [1]: http://root.cern.ch/\r\n  [2]: http://www.research.att.com/~bs/applications.html","title":"Which sector of software industry uses C++?","body":"<p>Keywords: Banking (financial institutions), games</p>\n\n<p>Oh, and also particle physicists and other scientists using the (in)famous <a href=\"http://root.cern.ch/\" rel=\"nofollow noreferrer\">ROOT</a> framework.</p>\n\n<p>And check out <a href=\"http://www.research.att.com/~bs/applications.html\" rel=\"nofollow noreferrer\">this list</a> of C++ based applications.</p>\n"},{"tags":[],"owner":{"account_id":24455,"reputation":11454,"user_id":62186,"accept_rate":73,"display_name":"Chris Holmes"},"down_vote_count":1,"up_vote_count":56,"is_accepted":true,"score":55,"last_activity_date":1234369964,"creation_date":1234369964,"answer_id":537635,"question_id":537595,"body_markdown":"Best advice I ever got as an undergraduate was from my languages professor, who told me (paraphrasing here): &quot;Don&#39;t memorize languages; don&#39;t marry yourself to a language. They&#39;re just tools. They all do the same basic things. Instead of learning a specific language, learn the foundations of good software development. Then you&#39;ll be able to take any language and be successful with it.&quot; \r\n\r\nI feared learning new languages before he told me that. Afterwords, I took his advice to heart and it&#39;s made all the difference. Languages are just tools in your toolbox. If you can program and write good software in one language, you can do it in another. \r\n\r\n","title":"Which sector of software industry uses C++?","body":"<p>Best advice I ever got as an undergraduate was from my languages professor, who told me (paraphrasing here): \"Don't memorize languages; don't marry yourself to a language. They're just tools. They all do the same basic things. Instead of learning a specific language, learn the foundations of good software development. Then you'll be able to take any language and be successful with it.\" </p>\n\n<p>I feared learning new languages before he told me that. Afterwords, I took his advice to heart and it's made all the difference. Languages are just tools in your toolbox. If you can program and write good software in one language, you can do it in another. </p>\n"},{"tags":[],"owner":{"account_id":6405,"reputation":20204,"user_id":10755,"accept_rate":56,"display_name":"Tim"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1234369976,"creation_date":1234369976,"answer_id":537636,"question_id":537595,"body_markdown":"C++ is not even close to being dead.  \r\n\r\nMy experience:\r\n\r\nBloomberg, Reuters, and all their bank/trading clients who want low latency market data feeds use C++. (Fidelity, JPMorgan, BNP, Citibank, etc.)\r\n\r\nThe defense industry uses C++. (among other languages - Java is also popular)\r\n\r\nThese industries also use java and other languages, but C++ is hard to beat.  Note also that there is a HUGE existing C++ code base that will take a long time to go away (if ever)\r\n\r\nIt is not hard to know and use them both.  Don&#39;t worry too much about a particular language.  That is not the real crux of developing software.","title":"Which sector of software industry uses C++?","body":"<p>C++ is not even close to being dead.  </p>\n\n<p>My experience:</p>\n\n<p>Bloomberg, Reuters, and all their bank/trading clients who want low latency market data feeds use C++. (Fidelity, JPMorgan, BNP, Citibank, etc.)</p>\n\n<p>The defense industry uses C++. (among other languages - Java is also popular)</p>\n\n<p>These industries also use java and other languages, but C++ is hard to beat.  Note also that there is a HUGE existing C++ code base that will take a long time to go away (if ever)</p>\n\n<p>It is not hard to know and use them both.  Don't worry too much about a particular language.  That is not the real crux of developing software.</p>\n"},{"tags":[],"owner":{"account_id":17620,"reputation":657,"user_id":39623,"accept_rate":100,"display_name":"chrism1"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1234369988,"creation_date":1234369988,"answer_id":537638,"question_id":537595,"body_markdown":"C++ is still used extensively for performance intensive tasks. For example, I do a lot of work with video compression and decompression - it&#39;s all C++. Partly because we need the performance, and partly because all the 3rd party libraries which need to use are C++ so it&#39;s easier to integrate with them if we&#39;re using the same language.","title":"Which sector of software industry uses C++?","body":"<p>C++ is still used extensively for performance intensive tasks. For example, I do a lot of work with video compression and decompression - it's all C++. Partly because we need the performance, and partly because all the 3rd party libraries which need to use are C++ so it's easier to integrate with them if we're using the same language.</p>\n"},{"tags":[],"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1234370002,"creation_date":1234370002,"answer_id":537641,"question_id":537595,"body_markdown":"Many defense contractors, especially when dealing with hardware, use C++\r\n\r\nMany makers of advanced medical equipment (e.g., MRIs) use C++.\r\n\r\nI say learn both if you can. It&#39;s good to have the C++ foundation even if you end up in a sandboxed language like C++/C#. Too many people don&#39;t understand the basics.\r\n\r\nNote that different cities have a majority of jobs in a specific language. Go to the craigslist job boards for the city you think you&#39;d end up in and see what they seek. For example, Pittsburgh is a C# town whereas New York is more balanced. ","title":"Which sector of software industry uses C++?","body":"<p>Many defense contractors, especially when dealing with hardware, use C++</p>\n\n<p>Many makers of advanced medical equipment (e.g., MRIs) use C++.</p>\n\n<p>I say learn both if you can. It's good to have the C++ foundation even if you end up in a sandboxed language like C++/C#. Too many people don't understand the basics.</p>\n\n<p>Note that different cities have a majority of jobs in a specific language. Go to the craigslist job boards for the city you think you'd end up in and see what they seek. For example, Pittsburgh is a C# town whereas New York is more balanced. </p>\n"},{"tags":[],"owner":{"account_id":16116,"reputation":34592,"user_id":34796,"accept_rate":87,"display_name":"Dave Swersky"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1255724989,"creation_date":1234370036,"answer_id":537643,"question_id":537595,"body_markdown":"A brief off-the-top-of-my-head listing of projects that use C++:\r\n\r\n*  Device driver development\r\n*  Games\r\n*  Advanced engines (audio, image processing, etc)\r\n*  Telecom\r\n*  Embedded software (devices and such)","title":"Which sector of software industry uses C++?","body":"<p>A brief off-the-top-of-my-head listing of projects that use C++:</p>\n\n<ul>\n<li>Device driver development</li>\n<li>Games</li>\n<li>Advanced engines (audio, image processing, etc)</li>\n<li>Telecom</li>\n<li>Embedded software (devices and such)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16316,"reputation":162735,"user_id":35364,"accept_rate":72,"display_name":"hasen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1234370075,"creation_date":1234370075,"answer_id":537646,"question_id":537595,"body_markdown":"Your university didn&#39;t have any Java based courses? That&#39;s odd!!\r\n\r\nYou should learn not just C++ and Java, but should be exposed to several languages and paradigms","title":"Which sector of software industry uses C++?","body":"<p>Your university didn't have any Java based courses? That's odd!!</p>\n\n<p>You should learn not just C++ and Java, but should be exposed to several languages and paradigms</p>\n"},{"tags":[],"owner":{"account_id":2159,"reputation":36387,"user_id":2974,"accept_rate":100,"display_name":"Rob Wells"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1234400170,"creation_date":1234370223,"answer_id":537668,"question_id":537595,"body_markdown":"Some site calling itself Google reckons it uses C++ extensively. Thank God they don&#39;t need performance to index the few websites out there.\r\n\r\nIf this Interweb thingy takes off, they&#39;ll be in real trouble though. (-:\r\n\r\nSeriously though, apart from the current change of channel (reversion?) to C and Perl, the previous four projects were all C++.\r\n\r\n  1. a large scale departure control system for several of the world&#39;s major airlines (30,000 10MB log files per day)\r\n  1. a flight training simulator and ground based software proving platform for a new military aircraft\r\n  1. a large scale framework for an existing air-traffic control simulator that was used to incorporate the new Aeronautical Telecommunications Network (ATN)\r\n  1. an advanced radar processing and display system for an on-route air traffic control centre\r\n\r\nAll really interesing.","title":"Which sector of software industry uses C++?","body":"<p>Some site calling itself Google reckons it uses C++ extensively. Thank God they don't need performance to index the few websites out there.</p>\n\n<p>If this Interweb thingy takes off, they'll be in real trouble though. (-:</p>\n\n<p>Seriously though, apart from the current change of channel (reversion?) to C and Perl, the previous four projects were all C++.</p>\n\n<ol>\n<li>a large scale departure control system for several of the world's major airlines (30,000 10MB log files per day)</li>\n<li>a flight training simulator and ground based software proving platform for a new military aircraft</li>\n<li>a large scale framework for an existing air-traffic control simulator that was used to incorporate the new Aeronautical Telecommunications Network (ATN)</li>\n<li>an advanced radar processing and display system for an on-route air traffic control centre</li>\n</ol>\n\n<p>All really interesing.</p>\n"},{"tags":[],"owner":{"account_id":4187,"reputation":53594,"user_id":6210,"accept_rate":50,"display_name":"MSN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1234371020,"creation_date":1234371020,"answer_id":537731,"question_id":537595,"body_markdown":"Java is great until you have to start caring about the details it abstracts away. Most people don&#39;t need to do that.","title":"Which sector of software industry uses C++?","body":"<p>Java is great until you have to start caring about the details it abstracts away. Most people don't need to do that.</p>\n"},{"tags":[],"owner":{"account_id":17618,"reputation":7285,"user_id":39615,"accept_rate":93,"display_name":"chappar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1234371966,"creation_date":1234371966,"answer_id":537808,"question_id":537595,"body_markdown":"C++ is heavily used in embedded systems. \r\nIt is being used in UI development. For eg. famous QT framework is written in C++. \r\n\r\nUltimately it depends on what you want to do. If you want to work in embedded systems, better learn C/C++.","title":"Which sector of software industry uses C++?","body":"<p>C++ is heavily used in embedded systems. \nIt is being used in UI development. For eg. famous QT framework is written in C++. </p>\n\n<p>Ultimately it depends on what you want to do. If you want to work in embedded systems, better learn C/C++.</p>\n"},{"tags":[],"owner":{"account_id":940,"reputation":761,"user_id":1236,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1234372016,"creation_date":1234372016,"answer_id":537813,"question_id":537595,"body_markdown":"C++ is still used extensively in engineering applications, such as high-end CAD/CAM systems.\r\n\r\nI think the death of *native code* is much exaggerated. Even Microsoft has backed away from making C++ all about .NET in Visual Studio 2008. It seems to be actively improving its native C++ development tools again as well as making interop with the managed world more easy.\r\n","title":"Which sector of software industry uses C++?","body":"<p>C++ is still used extensively in engineering applications, such as high-end CAD/CAM systems.</p>\n\n<p>I think the death of <em>native code</em> is much exaggerated. Even Microsoft has backed away from making C++ all about .NET in Visual Studio 2008. It seems to be actively improving its native C++ development tools again as well as making interop with the managed world more easy.</p>\n"},{"tags":[],"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1234373242,"creation_date":1234373242,"answer_id":537869,"question_id":537595,"body_markdown":"My advice is to master whichever language you enjoy more.  I know C++ and Java well, and have used both professionally.  However, I would never accept another C++ job because I find C++ tedious and mind-numbing.  I rather invest my time mastering more interesting languages.","title":"Which sector of software industry uses C++?","body":"<p>My advice is to master whichever language you enjoy more.  I know C++ and Java well, and have used both professionally.  However, I would never accept another C++ job because I find C++ tedious and mind-numbing.  I rather invest my time mastering more interesting languages.</p>\n"},{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1234373486,"creation_date":1234373486,"answer_id":537886,"question_id":537595,"body_markdown":"I tend to agree with your cousin.  Java definitely is used in more enterprise applications (think things that a bank or insurance company would need), while C++ is used in more &quot;niche&quot; markets.  I also agree with you that Java is easier to learn and master than C++.  No shame or offense in admitting that.\r\n\r\nWe use both where I work, writing embedded software in C++, but communicating with it from GUI apps written in Java.  There&#39;s definitely plenty of room in the software industry for both (and many more) languages.","title":"Which sector of software industry uses C++?","body":"<p>I tend to agree with your cousin.  Java definitely is used in more enterprise applications (think things that a bank or insurance company would need), while C++ is used in more \"niche\" markets.  I also agree with you that Java is easier to learn and master than C++.  No shame or offense in admitting that.</p>\n\n<p>We use both where I work, writing embedded software in C++, but communicating with it from GUI apps written in Java.  There's definitely plenty of room in the software industry for both (and many more) languages.</p>\n"},{"tags":[],"owner":{"account_id":402,"reputation":23979,"user_id":510,"display_name":"Evan Shaw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1234378680,"creation_date":1234378680,"answer_id":538243,"question_id":537595,"body_markdown":"I use C and C++ regularly at my job where I work on embedded devices. We&#39;re not talking super low level stuff, here, either. I do mid-level and UI work. Think Qt, Gtk+, Windows Mobile SDK, etc.","title":"Which sector of software industry uses C++?","body":"<p>I use C and C++ regularly at my job where I work on embedded devices. We're not talking super low level stuff, here, either. I do mid-level and UI work. Think Qt, Gtk+, Windows Mobile SDK, etc.</p>\n"},{"tags":[],"owner":{"account_id":1085,"reputation":28143,"user_id":1441,"accept_rate":100,"display_name":"crashmstr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1234379806,"creation_date":1234379806,"answer_id":538315,"question_id":537595,"body_markdown":"I&#39;ve been writing in C++ primarily for internal and external desktop applications within manufacturing and telecom companies for a long time, and only worked full time with Java for about 1 year out of 16.\r\n\r\nJava never seemed to take over the desktop like they were predicting back in the mid 90s when it first came out, and now C++ seems to have more competition from .net and AJAX/web applications.\r\n\r\nI can&#39;t really speak for it&#39;s use in back end systems, but I have seen more of it there than I&#39;ve seen C++, so it depends of what kind of programming you are talking about (e.g. user facing vs. internal systems).","title":"Which sector of software industry uses C++?","body":"<p>I've been writing in C++ primarily for internal and external desktop applications within manufacturing and telecom companies for a long time, and only worked full time with Java for about 1 year out of 16.</p>\n\n<p>Java never seemed to take over the desktop like they were predicting back in the mid 90s when it first came out, and now C++ seems to have more competition from .net and AJAX/web applications.</p>\n\n<p>I can't really speak for it's use in back end systems, but I have seen more of it there than I've seen C++, so it depends of what kind of programming you are talking about (e.g. user facing vs. internal systems).</p>\n"},{"tags":[],"owner":{"account_id":5508,"reputation":24410,"user_id":8899,"accept_rate":100,"display_name":"Nemanja Trifunovic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1234381239,"creation_date":1234381239,"answer_id":538436,"question_id":537595,"body_markdown":"C++ is heavily used by ISVs. Think Microsoft, Adobe, Oracle, Sun, Symantec...","title":"Which sector of software industry uses C++?","body":"<p>C++ is heavily used by ISVs. Think Microsoft, Adobe, Oracle, Sun, Symantec...</p>\n"},{"tags":[],"owner":{"account_id":19304,"reputation":1673,"user_id":45144,"accept_rate":62,"display_name":"Calyth"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1234402564,"creation_date":1234381968,"answer_id":538480,"question_id":537595,"body_markdown":"C++ is not anywhere close to being dead, and as suggested by others, don&#39;t marry yourself to a language.\r\nIf you&#39;re learning C++ in terms of job prospects, I&#39;d rather suggest you pick up a representative of a programming paradigm.\r\n\r\n - C - Imperative programming\r\n - C++/Java/Obj-C - OOP\r\n - Lisp/Haskell/Scheme - Functional Programming\r\n\r\nGetting adjusted to the paradigms is usually harder than picking up the language itself. Hope others would chime in for other suggestions.","title":"Which sector of software industry uses C++?","body":"<p>C++ is not anywhere close to being dead, and as suggested by others, don't marry yourself to a language.\nIf you're learning C++ in terms of job prospects, I'd rather suggest you pick up a representative of a programming paradigm.</p>\n\n<ul>\n<li>C - Imperative programming</li>\n<li>C++/Java/Obj-C - OOP</li>\n<li>Lisp/Haskell/Scheme - Functional Programming</li>\n</ul>\n\n<p>Getting adjusted to the paradigms is usually harder than picking up the language itself. Hope others would chime in for other suggestions.</p>\n"},{"tags":[],"owner":{"account_id":7974,"reputation":154422,"user_id":14069,"accept_rate":72,"display_name":"oz10"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1234400460,"creation_date":1234400460,"answer_id":539584,"question_id":537595,"body_markdown":"My advice, learn C#. These days almost 50% of the job listings were Java and almost the other 50% were C#, there were only a few listing C++. \r\n\r\nThat said, the people using C++ know why they are using it and probably have good use cases for it... meaning you would really learn how to use the language at the highest levels... meanwhile companies slogging out business logic applications in Java/C# will probably not teach you as much about programming as quickly. \r\n\r\nIf you do decide to take a C++ job, make sure the shop uses the STL effectively and that they are using Boost. Not looking at using Boost/STL, but actually using it. ","title":"Which sector of software industry uses C++?","body":"<p>My advice, learn C#. These days almost 50% of the job listings were Java and almost the other 50% were C#, there were only a few listing C++. </p>\n\n<p>That said, the people using C++ know why they are using it and probably have good use cases for it... meaning you would really learn how to use the language at the highest levels... meanwhile companies slogging out business logic applications in Java/C# will probably not teach you as much about programming as quickly. </p>\n\n<p>If you do decide to take a C++ job, make sure the shop uses the STL effectively and that they are using Boost. Not looking at using Boost/STL, but actually using it. </p>\n"},{"tags":[],"owner":{"account_id":17952,"reputation":19411,"user_id":40744,"accept_rate":77,"display_name":"Steve Rowe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1234400607,"creation_date":1234400607,"answer_id":539589,"question_id":537595,"body_markdown":"Most packaged software is still written in C++.  That means games, office applications, graphics and video editors, and operating systems.  In fact, if you think of the software you use every day that isn&#39;t online, chances are it is written in C++ (or C or objective-C).  It&#39;s not written in Java, Python, Ruby, Perl, etc.  While packaged software is becoming less prevalent, it&#39;s still used a whole lot and isn&#39;t going away anytime soon.\r\n\r\nOperating systems, whether embedded or for the desktop are almost exclusively written in some C language.  Attempts have been made to write them in Java or C#, but none of those have worked out.  All of your drivers are written in some C variant as well.  I don&#39;t see this changing any time soon.","title":"Which sector of software industry uses C++?","body":"<p>Most packaged software is still written in C++.  That means games, office applications, graphics and video editors, and operating systems.  In fact, if you think of the software you use every day that isn't online, chances are it is written in C++ (or C or objective-C).  It's not written in Java, Python, Ruby, Perl, etc.  While packaged software is becoming less prevalent, it's still used a whole lot and isn't going away anytime soon.</p>\n\n<p>Operating systems, whether embedded or for the desktop are almost exclusively written in some C language.  Attempts have been made to write them in Java or C#, but none of those have worked out.  All of your drivers are written in some C variant as well.  I don't see this changing any time soon.</p>\n"},{"tags":[],"owner":{"account_id":20571,"reputation":2850,"user_id":49294,"accept_rate":72,"display_name":"Carter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1234401589,"creation_date":1234400965,"answer_id":539599,"question_id":537595,"body_markdown":"I had to scroll all the way to the bottom to finally see a post mentioning video games.  C and C++ are huge in that industry.  \r\n\r\nAs far as the &quot;What should I learn question.&quot;  That&#39;s pretty open ended, you want to learn as much as possible.  So yes, you should learn both of them.  As a few people have said, C# is a good one too.  You should also learn Python, Ruby, or PHP and some web frameworks (Rails, Symfony, Django, ASP.Net).  Web apps are pretty big these days.\r\n\r\nIf your bubble consists of only C++ you aren&#39;t going to be very marketable.\r\n\r\n&lt;b&gt;EDIT:&lt;/b&gt; Oops, I guess games were mentioned a lot more than I initially saw in here.  My bad.","title":"Which sector of software industry uses C++?","body":"<p>I had to scroll all the way to the bottom to finally see a post mentioning video games.  C and C++ are huge in that industry.  </p>\n\n<p>As far as the \"What should I learn question.\"  That's pretty open ended, you want to learn as much as possible.  So yes, you should learn both of them.  As a few people have said, C# is a good one too.  You should also learn Python, Ruby, or PHP and some web frameworks (Rails, Symfony, Django, ASP.Net).  Web apps are pretty big these days.</p>\n\n<p>If your bubble consists of only C++ you aren't going to be very marketable.</p>\n\n<p><b>EDIT:</b> Oops, I guess games were mentioned a lot more than I initially saw in here.  My bad.</p>\n"},{"tags":[],"owner":{"account_id":23705,"reputation":1277,"user_id":59597,"accept_rate":86,"display_name":"Sungwon Jeong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1234401298,"creation_date":1234401298,"answer_id":539611,"question_id":537595,"body_markdown":"Game industry looks like go with **C++** forever.","title":"Which sector of software industry uses C++?","body":"<p>Game industry looks like go with <strong>C++</strong> forever.</p>\n"},{"tags":[],"owner":{"account_id":876869,"reputation":23,"user_id":63785,"display_name":"Signal9"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1234401871,"creation_date":1234401871,"answer_id":539626,"question_id":537595,"body_markdown":"Well I suggest learning more than a couple languages.  I work in the communications industry and yes we use C++, however a lot of projects we are working on are in Java as well.\r\n\r\nI suggest you learn:\r\n\r\n1) C++ / C\r\n2) Java\r\n3) Erlang or Haskel\r\n4) Ruby\r\n\r\nThis will help you understand concepts that exist in one language but not in another.  Also helps with marketability.\r\n\r\nTake a look at the [tiobe programming index][1] and you will get a feel for languages on the rise.\r\n\r\n\r\n  [1]: http://www.tiobe.com/index.php/content/paperinfo/tpci/index.html","title":"Which sector of software industry uses C++?","body":"<p>Well I suggest learning more than a couple languages.  I work in the communications industry and yes we use C++, however a lot of projects we are working on are in Java as well.</p>\n\n<p>I suggest you learn:</p>\n\n<p>1) C++ / C\n2) Java\n3) Erlang or Haskel\n4) Ruby</p>\n\n<p>This will help you understand concepts that exist in one language but not in another.  Also helps with marketability.</p>\n\n<p>Take a look at the <a href=\"http://www.tiobe.com/index.php/content/paperinfo/tpci/index.html\" rel=\"nofollow noreferrer\">tiobe programming index</a> and you will get a feel for languages on the rise.</p>\n"},{"tags":[],"owner":{"account_id":6873,"reputation":21489,"user_id":11698,"accept_rate":100,"display_name":"Richard Corden"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1234449450,"creation_date":1234449450,"answer_id":541530,"question_id":537595,"body_markdown":"Bjarne Stroustrup has a list of [companies/applications][1] written in C++.\r\n\r\n\r\n\r\n  [1]: http://www.research.att.com/~bs/applications.html\r\n","title":"Which sector of software industry uses C++?","body":"<p>Bjarne Stroustrup has a list of <a href=\"http://www.research.att.com/~bs/applications.html\" rel=\"nofollow noreferrer\">companies/applications</a> written in C++.</p>\n"},{"tags":[],"owner":{"account_id":33111,"reputation":3762,"user_id":92407,"accept_rate":93,"display_name":"Dr. Watson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1255725671,"creation_date":1255725671,"answer_id":1580282,"question_id":537595,"body_markdown":"In my career I&#39;ve developed C++ for:\r\n\r\n - Server applications (Securities industry)\r\n - Embedded software (Wireless telecoms)\r\n - Desktop application software (Wireless telecoms)\r\n\r\nI&#39;ve also seen a lot of adverts for C++ developers in the defense industry.  There is work out there for C++ developers, not as much as there has been in the past, but still plenty of work.\r\n\r\nThough I say it wouldn&#39;t hurt to learn Java, it is a good skill to have under your belt.","title":"Which sector of software industry uses C++?","body":"<p>In my career I've developed C++ for:</p>\n\n<ul>\n<li>Server applications (Securities industry)</li>\n<li>Embedded software (Wireless telecoms)</li>\n<li>Desktop application software (Wireless telecoms)</li>\n</ul>\n\n<p>I've also seen a lot of adverts for C++ developers in the defense industry.  There is work out there for C++ developers, not as much as there has been in the past, but still plenty of work.</p>\n\n<p>Though I say it wouldn't hurt to learn Java, it is a good skill to have under your belt.</p>\n"}],"owner":{"display_name":"user59988"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91767,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"closed_date":1304312348,"accepted_answer_id":537635,"answer_count":25,"score":10,"last_activity_date":1684245890,"creation_date":1234369578,"question_id":537595,"body_markdown":"Like most people, I learnt C++ after C. I learnt C++ because it was one of those languages which fetched jobs. I am still studying (doing masters) though. One of my cousins has been working as a developer for around 12 years.\r\n\r\nHe advises me to learn Java so that I can land up in a good job. He says only few sectors like tele communications use C++ and almost all the enterprise software is developed in Java. I am working as a student technician in my university. The job involves Windows programming in C++. I learnt core Java. I do not know any of those [Struts][1], [Hibernate][2] or whatever is out there.\r\n\r\nTo be on the safer side, I am planning to master both. But I think Java is an ocean, though it&#39;s easier to program in Java than C++ (this is my opinion. C++ lovers don&#39;t kill me). \r\n\r\nWhat do you geeks and professionals out there advise me. Do you think I should learn both of them. Which sectors of the software industry use C++? \r\n\r\n  [1]: http://en.wikipedia.org/wiki/Apache_Struts\r\n  [2]: http://en.wikipedia.org/wiki/Hibernate_%28Java%29\r\n","title":"Which sector of software industry uses C++?","body":"<p>Like most people, I learnt C++ after C. I learnt C++ because it was one of those languages which fetched jobs. I am still studying (doing masters) though. One of my cousins has been working as a developer for around 12 years.</p>\n\n<p>He advises me to learn Java so that I can land up in a good job. He says only few sectors like tele communications use C++ and almost all the enterprise software is developed in Java. I am working as a student technician in my university. The job involves Windows programming in C++. I learnt core Java. I do not know any of those <a href=\"http://en.wikipedia.org/wiki/Apache_Struts\" rel=\"nofollow noreferrer\">Struts</a>, <a href=\"http://en.wikipedia.org/wiki/Hibernate_%28Java%29\" rel=\"nofollow noreferrer\">Hibernate</a> or whatever is out there.</p>\n\n<p>To be on the safer side, I am planning to master both. But I think Java is an ocean, though it's easier to program in Java than C++ (this is my opinion. C++ lovers don't kill me). </p>\n\n<p>What do you geeks and professionals out there advise me. Do you think I should learn both of them. Which sectors of the software industry use C++? </p>\n"},{"tags":["java","gradle","allure"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684239475,"post_id":76262866,"comment_id":134485919,"body_markdown":"Please use text instead of images. See https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question for more details on the reason.","body":"Please use text instead of images. See <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\" title=\"why not upload images of code errors when asking a question\">meta.stackoverflow.com/questions/285551/&hellip;</a> for more details on the reason."},{"owner":{"account_id":14631339,"reputation":1976,"user_id":10567003,"display_name":"TheSociety"},"score":0,"creation_date":1684240970,"post_id":76262866,"comment_id":134486346,"body_markdown":"Updated the text instead of image, thank you for sharing the guideline.","body":"Updated the text instead of image, thank you for sharing the guideline."},{"owner":{"account_id":5723125,"reputation":65,"user_id":4520970,"accept_rate":67,"display_name":"Vikram"},"score":0,"creation_date":1695888151,"post_id":76262866,"comment_id":136084607,"body_markdown":"@TheSociety I am also facing the same issue. Did you get a solution for the above issue?","body":"@TheSociety I am also facing the same issue. Did you get a solution for the above issue?"}],"owner":{"account_id":14631339,"reputation":1976,"user_id":10567003,"display_name":"TheSociety"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684245823,"creation_date":1684238922,"question_id":76262866,"body_markdown":"I am trying to generate Allure Report in a gradle based project. Please help me to understand the root cause of this error.\r\n\r\nHere is the main code snippets from the build.gradle\r\n\r\n```\r\nplugins {\r\n    id &#39;io.qameta.allure&#39; version &#39;2.8.1&#39;\r\n    }\r\n\r\ndef allureVersion = &#39;2.14.0&#39;\r\n\r\nrepositories {\r\n    // Use Maven Central for resolving dependencies.\r\n    mavenCentral()\r\n}\r\n\r\nallure {\r\n    version = allureVersion\r\n    autoconfigure = false\r\n    aspectjweaver = true\r\n}\r\n \r\n/* Module specific dependencies */\r\ndependencies {\r\n    //Junit5\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter:5.7.2&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.7.2&#39;\r\n    // Allure\r\n    implementation &#39;io.qameta.allure:allure-junit5:2.14.0&#39;\r\n    runtimeOnly &#39;org.aspectj:aspectjweaver:1.9.7&#39;\r\n```\r\n\r\nGradle Version - 7.3.3, Using SDK - Amazon Corretto Version 17 (Java)\r\n\r\nI have tried different version of allure report and plug in. But could not understand what is causing this issue.\r\n\r\nBelow error comes in Intellij\r\n\r\n     Exception is:\r\n    org.gradle.api.plugins.UnknownPluginException: Plugin [id: &#39;io.qameta.allure&#39;, version: &#39;2.8.1&#39;] was not found in any of the following sources:\r\n    \r\n    - Gradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace)\r\n    - Plugin Repositories (could not resolve plugin artifact &#39;io.qameta.allure:io.qameta.allure.gradle.plugin:2.8.1&#39;)\r\n      Searched in the following repositories:\r\n        Gradle Central Plugin Repository\r\n        Google\r\n        MavenRepo","title":"Plugin [id: &#39;io.qameta.allure&#39;, version: &#39;2.8.1&#39;] was not found in any of the following sources: while generating Allure Report","body":"<p>I am trying to generate Allure Report in a gradle based project. Please help me to understand the root cause of this error.</p>\n<p>Here is the main code snippets from the build.gradle</p>\n<pre><code>plugins {\n    id 'io.qameta.allure' version '2.8.1'\n    }\n\ndef allureVersion = '2.14.0'\n\nrepositories {\n    // Use Maven Central for resolving dependencies.\n    mavenCentral()\n}\n\nallure {\n    version = allureVersion\n    autoconfigure = false\n    aspectjweaver = true\n}\n \n/* Module specific dependencies */\ndependencies {\n    //Junit5\n    testImplementation 'org.junit.jupiter:junit-jupiter:5.7.2'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.2'\n    // Allure\n    implementation 'io.qameta.allure:allure-junit5:2.14.0'\n    runtimeOnly 'org.aspectj:aspectjweaver:1.9.7'\n</code></pre>\n<p>Gradle Version - 7.3.3, Using SDK - Amazon Corretto Version 17 (Java)</p>\n<p>I have tried different version of allure report and plug in. But could not understand what is causing this issue.</p>\n<p>Below error comes in Intellij</p>\n<pre><code> Exception is:\norg.gradle.api.plugins.UnknownPluginException: Plugin [id: 'io.qameta.allure', version: '2.8.1'] was not found in any of the following sources:\n\n- Gradle Core Plugins (plugin is not in 'org.gradle' namespace)\n- Plugin Repositories (could not resolve plugin artifact 'io.qameta.allure:io.qameta.allure.gradle.plugin:2.8.1')\n  Searched in the following repositories:\n    Gradle Central Plugin Repository\n    Google\n    MavenRepo\n</code></pre>\n"},{"tags":["java","spring","spring-boot","serialization","jackson"],"comments":[{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1684247824,"post_id":76263635,"comment_id":134488336,"body_markdown":"See these questions: [How globally ignore Null Fields with restesy response?](https://stackoverflow.com/questions/54926701/how-globally-ignore-null-fields-with-restesy-response/54926911#54926911), [Jackson serialize null or empty object](https://stackoverflow.com/questions/57921579/jackson-serialize-null-or-empty-object/57921867#57921867)","body":"See these questions: <a href=\"https://stackoverflow.com/questions/54926701/how-globally-ignore-null-fields-with-restesy-response/54926911#54926911\">How globally ignore Null Fields with restesy response?</a>, <a href=\"https://stackoverflow.com/questions/57921579/jackson-serialize-null-or-empty-object/57921867#57921867\">Jackson serialize null or empty object</a>"}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684245778,"creation_date":1684245778,"answer_id":76263979,"question_id":76263635,"body_markdown":"You can configure the mapper like this:\r\n\r\n    mapper.setSerializationInclusion(Include.NON_NULL);","title":"How to ignore fields that are null when serializing in spring boot with jackson?","body":"<p>You can configure the mapper like this:</p>\n<pre><code>mapper.setSerializationInclusion(Include.NON_NULL);\n</code></pre>\n"}],"owner":{"account_id":15906218,"reputation":83,"user_id":11477360,"display_name":"Hassan Raza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":474,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684245778,"creation_date":1684243867,"question_id":76263635,"body_markdown":"So, I have a json object which I need to de-serialize to a POJO, make some changes to its fields then send that POJO through a controller to the front end. The json that I receive as a response to that controller has a lot of fields that are null as they did not exist in the json that was deserialized. I want the jackson library to not include any fields that have a null value. \r\n\r\nThe challenge I am facing is that I cannot add that @JsonInclude annotation to the Object class that I am trying to deserialize as the model class has been imported from a library and therefore the file is a readonly file. Is there a different way of configuring the default jackson settings for the project to not include these null values? Is there a default object mapper that can be configured?","title":"How to ignore fields that are null when serializing in spring boot with jackson?","body":"<p>So, I have a json object which I need to de-serialize to a POJO, make some changes to its fields then send that POJO through a controller to the front end. The json that I receive as a response to that controller has a lot of fields that are null as they did not exist in the json that was deserialized. I want the jackson library to not include any fields that have a null value.</p>\n<p>The challenge I am facing is that I cannot add that @JsonInclude annotation to the Object class that I am trying to deserialize as the model class has been imported from a library and therefore the file is a readonly file. Is there a different way of configuring the default jackson settings for the project to not include these null values? Is there a default object mapper that can be configured?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1684244368,"post_id":76263692,"comment_id":134487303,"body_markdown":"Not really sure what you are asking here.","body":"Not really sure what you are asking here."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1684244491,"post_id":76263692,"comment_id":134487345,"body_markdown":"Note that there is no &quot;next&quot; _function_ in your code, only a &quot;next&quot; reference/variable.","body":"Note that there is no &quot;next&quot; <i>function</i> in your code, only a &quot;next&quot; reference/variable."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1684245324,"post_id":76263692,"comment_id":134487587,"body_markdown":"Why don&#39;t you just do: `public String toString() {return value + &quot;,&quot; + next;}`?","body":"Why don&#39;t you just do: <code>public String toString() {return value + &quot;,&quot; + next;}</code>?"}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684245601,"creation_date":1684245128,"answer_id":76263853,"question_id":76263692,"body_markdown":"Why does &quot;wrong method&quot; produce `D,null,C,B,A`? That&#39;s because  `value + &quot;,&quot; + next` will cause `toString()` to be called on `next` if it isn&#39;t null. So `toString()`will be recursively called before printing.\r\n\r\nWhat happens is basically this (indentation indicates call hierarchy/call stack):\r\n\r\n- `System.out.print(a);` calls `a.toString()`\r\n  - `a.toString()` tries to produce the string `value + &quot;,&quot; + next` which calls `b.toString()` (since `a.next == b`)\r\n    - `b.toString()` tries to produce the string `value + &quot;,&quot; + next` which calls `c.toString()` (since `b.next == c`)\r\n      - `c.toString()` tries to produce the string `value + &quot;,&quot; + next` which calls `d.toString()` (since `c.next == d`)\r\n        - `d.toString()` tries to produce the string `value + &quot;,&quot; + next`. Since `d.next` is `null` this produces and prints `&quot;D,null&quot;`.\r\n      - the call to `d.toString()` returns `&quot;&quot;` so now `c.toString()` produces and prints `&quot;C,&quot;`\r\n    - the call to `c.toString()` returns `&quot;&quot;` so now `b.toString()` produces and prints `&quot;B,&quot;`\r\n  - the call to `b.toString()` returns `&quot;&quot;` so now `a.toString()` produces and prints `&quot;A,&quot;`\r\n\r\nAs you can see, `&quot;D,null&quot;`, `&quot;C,&quot;`, `&quot;B,&quot;` and `&quot;A,&quot;` are printed in that order and without any newline characters so the output will be `&quot;D,nullC,B,A&quot;`\r\n\r\n\r\nIf you want to produce `&quot;A,B,C,D,null&quot;` you need to use the following:\r\n\r\n    public String toString() { return value + &quot;,&quot; + next; }\r\n\r\nUsing the same call hierarchy as above here&#39;s what will happen:\r\n\r\n- Recursive calls down to `d.toString()` which returns `&quot;D,null&quot;`.\r\n- `c.toString()` now uses that return value for &quot;next&quot;, so `value + &quot;,&quot; + next` now results in `&quot;C&quot; + &quot;,&quot; + &quot;D,null&quot;` = `&quot;C,D,null&quot;`.\r\n  - the same happens for `a.toString()` and `b.toString()` to the end result will be `&quot;A&quot; + &quot;,&quot; + (&quot;B&quot; + &quot;,&quot; + (&quot;C&quot; + &quot;,&quot; + (&quot;D&quot; + &quot;,&quot; + null)))` = `&quot;A,B,C,D,null&quot;` (each parenthesis represents a nested call to `toString()`).","title":"Java - Next function","body":"<p>Why does &quot;wrong method&quot; produce <code>D,null,C,B,A</code>? That's because  <code>value + &quot;,&quot; + next</code> will cause <code>toString()</code> to be called on <code>next</code> if it isn't null. So <code>toString()</code>will be recursively called before printing.</p>\n<p>What happens is basically this (indentation indicates call hierarchy/call stack):</p>\n<ul>\n<li><code>System.out.print(a);</code> calls <code>a.toString()</code>\n<ul>\n<li><code>a.toString()</code> tries to produce the string <code>value + &quot;,&quot; + next</code> which calls <code>b.toString()</code> (since <code>a.next == b</code>)\n<ul>\n<li><code>b.toString()</code> tries to produce the string <code>value + &quot;,&quot; + next</code> which calls <code>c.toString()</code> (since <code>b.next == c</code>)\n<ul>\n<li><code>c.toString()</code> tries to produce the string <code>value + &quot;,&quot; + next</code> which calls <code>d.toString()</code> (since <code>c.next == d</code>)\n<ul>\n<li><code>d.toString()</code> tries to produce the string <code>value + &quot;,&quot; + next</code>. Since <code>d.next</code> is <code>null</code> this produces and prints <code>&quot;D,null&quot;</code>.</li>\n</ul>\n</li>\n<li>the call to <code>d.toString()</code> returns <code>&quot;&quot;</code> so now <code>c.toString()</code> produces and prints <code>&quot;C,&quot;</code></li>\n</ul>\n</li>\n<li>the call to <code>c.toString()</code> returns <code>&quot;&quot;</code> so now <code>b.toString()</code> produces and prints <code>&quot;B,&quot;</code></li>\n</ul>\n</li>\n<li>the call to <code>b.toString()</code> returns <code>&quot;&quot;</code> so now <code>a.toString()</code> produces and prints <code>&quot;A,&quot;</code></li>\n</ul>\n</li>\n</ul>\n<p>As you can see, <code>&quot;D,null&quot;</code>, <code>&quot;C,&quot;</code>, <code>&quot;B,&quot;</code> and <code>&quot;A,&quot;</code> are printed in that order and without any newline characters so the output will be <code>&quot;D,nullC,B,A&quot;</code></p>\n<p>If you want to produce <code>&quot;A,B,C,D,null&quot;</code> you need to use the following:</p>\n<pre><code>public String toString() { return value + &quot;,&quot; + next; }\n</code></pre>\n<p>Using the same call hierarchy as above here's what will happen:</p>\n<ul>\n<li>Recursive calls down to <code>d.toString()</code> which returns <code>&quot;D,null&quot;</code>.</li>\n<li><code>c.toString()</code> now uses that return value for &quot;next&quot;, so <code>value + &quot;,&quot; + next</code> now results in <code>&quot;C&quot; + &quot;,&quot; + &quot;D,null&quot;</code> = <code>&quot;C,D,null&quot;</code>.\n<ul>\n<li>the same happens for <code>a.toString()</code> and <code>b.toString()</code> to the end result will be <code>&quot;A&quot; + &quot;,&quot; + (&quot;B&quot; + &quot;,&quot; + (&quot;C&quot; + &quot;,&quot; + (&quot;D&quot; + &quot;,&quot; + null)))</code> = <code>&quot;A,B,C,D,null&quot;</code> (each parenthesis represents a nested call to <code>toString()</code>).</li>\n</ul>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684245551,"creation_date":1684245551,"answer_id":76263942,"question_id":76263692,"body_markdown":"In the first method, the line \r\n\r\n    System.out.print(value + &quot;,&quot; + next);\r\n\r\neffectively translates to\r\n\r\n    System.out.print(value + &quot;,&quot; + next.toString());\r\n\r\nHence, `next.toString()` is called first to determine what should be passed to `System.out.print()`. Hence, the call order is actually as follows:\r\n\r\n    System.out.print(d.value + &quot;,&quot; + null);\r\n    System.out.print(c.value + &quot;,&quot; + d.toString());\r\n    System.out.print(b.value + &quot;,&quot; + c.toString());\r\n    System.out.print(a.value + &quot;,&quot; + b.toString());\r\n\r\nFurthermore, given that you always `return &quot;&quot;`, `next.toString()` always evaluates to an empty string:\r\n\r\n    System.out.print(d.value + &quot;,&quot; + null);\r\n    System.out.print(c.value + &quot;,&quot;);\r\n    System.out.print(b.value + &quot;,&quot;);\r\n    System.out.print(a.value + &quot;,&quot;);\r\n\r\nSome general best practices that I would recommend you to follow: \r\n1. `toString()` should do one thing and one thing only: Create a string representation of the object and `return` that. If anyone calls your `toString()` that&#39;s what they expect. Anything else is unexpected and may catch a caller of your class by surprise.\r\n2. Use a debugger (by placing a so-called breakpoint in your code). The debugger allows you to inspect the current state of all variables and it allows you to step through your code one instruction at a time. This allows you to understand what your program is actually doing.","title":"Java - Next function","body":"<p>In the first method, the line</p>\n<pre><code>System.out.print(value + &quot;,&quot; + next);\n</code></pre>\n<p>effectively translates to</p>\n<pre><code>System.out.print(value + &quot;,&quot; + next.toString());\n</code></pre>\n<p>Hence, <code>next.toString()</code> is called first to determine what should be passed to <code>System.out.print()</code>. Hence, the call order is actually as follows:</p>\n<pre><code>System.out.print(d.value + &quot;,&quot; + null);\nSystem.out.print(c.value + &quot;,&quot; + d.toString());\nSystem.out.print(b.value + &quot;,&quot; + c.toString());\nSystem.out.print(a.value + &quot;,&quot; + b.toString());\n</code></pre>\n<p>Furthermore, given that you always <code>return &quot;&quot;</code>, <code>next.toString()</code> always evaluates to an empty string:</p>\n<pre><code>System.out.print(d.value + &quot;,&quot; + null);\nSystem.out.print(c.value + &quot;,&quot;);\nSystem.out.print(b.value + &quot;,&quot;);\nSystem.out.print(a.value + &quot;,&quot;);\n</code></pre>\n<p>Some general best practices that I would recommend you to follow:</p>\n<ol>\n<li><code>toString()</code> should do one thing and one thing only: Create a string representation of the object and <code>return</code> that. If anyone calls your <code>toString()</code> that's what they expect. Anything else is unexpected and may catch a caller of your class by surprise.</li>\n<li>Use a debugger (by placing a so-called breakpoint in your code). The debugger allows you to inspect the current state of all variables and it allows you to step through your code one instruction at a time. This allows you to understand what your program is actually doing.</li>\n</ol>\n"}],"owner":{"account_id":28612701,"reputation":1,"user_id":21907372,"display_name":"user21907372"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684245601,"creation_date":1684244175,"question_id":76263692,"body_markdown":"everyone. I&#39;m new to java and I have a quick question regarding the next function in the linked list. Here is my code:\r\n\r\n//Wrong Method\r\n\r\n        public class Class {\r\n        public static void main(String [] args) { \r\n        Node a = new Node (&quot;A&quot;); \r\n        Node b = new Node (&quot;B&quot;); \r\n        Node c = new Node (&quot;C&quot;); \r\n        Node d = new Node (&quot;D&quot;);\r\n        a.next = b; b.next = c; c.next = d;\r\n        System.out.print(a);\r\n    }\r\n    }\r\n    \r\n    class Node {\r\n    String value;\r\n    Node next;\r\n    \r\n    public Node (String value) {this.value = value;}\r\n    public String toString() {System.out.print(value + &quot;,&quot; + next); return &quot;&quot;;}\r\n    }\r\n\r\n//Output is: D,nullC,B,A,\r\n\r\nI have try the following methods and the output is same (A,B,C,D,null) which is correct:\r\n\r\n//Method 1\r\n\r\n```\r\n public class Class {\r\n    public static void main(String [] args) { \r\n    Node a = new Node (&quot;A&quot;); \r\n    Node b = new Node (&quot;B&quot;); \r\n    Node c = new Node (&quot;C&quot;); \r\n    Node d = new Node (&quot;D&quot;);\r\n    a.next = b; b.next = c; c.next = d;\r\n    System.out.print(a);\r\n}\r\n}\r\n\r\nclass Node {\r\nString value;\r\nNode next;\r\n\r\npublic Node (String value) {this.value = value; System.out.print(value + &quot;,&quot;);}\r\npublic String toString() {return next + &quot;&quot;;}\r\n}\r\n```\r\n\r\n//Method 2:\r\n\r\n```\r\npublic class Class {\r\n    public static void main(String [] args) { \r\n    Node a = new Node (&quot;A&quot;); \r\n    Node b = new Node (&quot;B&quot;); \r\n    Node c = new Node (&quot;C&quot;); \r\n    Node d = new Node (&quot;D&quot;);\r\n    a.next = b; b.next = c; c.next = d;\r\n    System.out.print(a);\r\n}\r\n}\r\n\r\nclass Node {\r\nString value;\r\nNode next;\r\n\r\npublic Node (String value) {this.value = value;}\r\npublic String toString() {System.out.print(value + &quot;,&quot;); return next + &quot;&quot;;}\r\n}\r\n\r\npublic String toString() {return value + &quot;,&quot; + next + &quot;&quot;;}\r\n```\r\n\r\nSo I&#39;m confused why the very first method is wrong? System.out.print(value + &quot;,&quot;) works fine with (return next + &quot;&quot;;) in Method 1 &amp; 2. So I&#39;m thinking System.out.print() has no conflict with return. Yet System.out.print(value + &quot;,&quot; + next) is wrong. Thanks a lot for answering my question. Have a wonderful week!","title":"Java - Next function","body":"<p>everyone. I'm new to java and I have a quick question regarding the next function in the linked list. Here is my code:</p>\n<p>//Wrong Method</p>\n<pre><code>    public class Class {\n    public static void main(String [] args) { \n    Node a = new Node (&quot;A&quot;); \n    Node b = new Node (&quot;B&quot;); \n    Node c = new Node (&quot;C&quot;); \n    Node d = new Node (&quot;D&quot;);\n    a.next = b; b.next = c; c.next = d;\n    System.out.print(a);\n}\n}\n\nclass Node {\nString value;\nNode next;\n\npublic Node (String value) {this.value = value;}\npublic String toString() {System.out.print(value + &quot;,&quot; + next); return &quot;&quot;;}\n}\n</code></pre>\n<p>//Output is: D,nullC,B,A,</p>\n<p>I have try the following methods and the output is same (A,B,C,D,null) which is correct:</p>\n<p>//Method 1</p>\n<pre><code> public class Class {\n    public static void main(String [] args) { \n    Node a = new Node (&quot;A&quot;); \n    Node b = new Node (&quot;B&quot;); \n    Node c = new Node (&quot;C&quot;); \n    Node d = new Node (&quot;D&quot;);\n    a.next = b; b.next = c; c.next = d;\n    System.out.print(a);\n}\n}\n\nclass Node {\nString value;\nNode next;\n\npublic Node (String value) {this.value = value; System.out.print(value + &quot;,&quot;);}\npublic String toString() {return next + &quot;&quot;;}\n}\n</code></pre>\n<p>//Method 2:</p>\n<pre><code>public class Class {\n    public static void main(String [] args) { \n    Node a = new Node (&quot;A&quot;); \n    Node b = new Node (&quot;B&quot;); \n    Node c = new Node (&quot;C&quot;); \n    Node d = new Node (&quot;D&quot;);\n    a.next = b; b.next = c; c.next = d;\n    System.out.print(a);\n}\n}\n\nclass Node {\nString value;\nNode next;\n\npublic Node (String value) {this.value = value;}\npublic String toString() {System.out.print(value + &quot;,&quot;); return next + &quot;&quot;;}\n}\n\npublic String toString() {return value + &quot;,&quot; + next + &quot;&quot;;}\n</code></pre>\n<p>So I'm confused why the very first method is wrong? System.out.print(value + &quot;,&quot;) works fine with (return next + &quot;&quot;;) in Method 1 &amp; 2. So I'm thinking System.out.print() has no conflict with return. Yet System.out.print(value + &quot;,&quot; + next) is wrong. Thanks a lot for answering my question. Have a wonderful week!</p>\n"},{"tags":["java","maven","spring-boot"],"comments":[{"owner":{"account_id":3957272,"reputation":506,"user_id":3265362,"display_name":"nader.h"},"score":0,"creation_date":1561027999,"post_id":56684165,"comment_id":99934448,"body_markdown":"you need to add the wrapper script to your project. you can follow http://bennet-schulz.com/2018/04/12/quicktip-use-a-maven-wrapper/ to generate your mvnw using a plugin.","body":"you need to add the wrapper script to your project. you can follow <a href=\"http://bennet-schulz.com/2018/04/12/quicktip-use-a-maven-wrapper/\" rel=\"nofollow noreferrer\">bennet-schulz.com/2018/04/12/quicktip-use-a-maven-wrapper</a> to generate your mvnw using a plugin."}],"answers":[{"tags":[],"owner":{"account_id":1184419,"reputation":497,"user_id":1158695,"accept_rate":12,"display_name":"Nandan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1561028784,"creation_date":1561028784,"answer_id":56684652,"question_id":56684165,"body_markdown":"Resolved it using taraki-maven-plugin, as mentioned here -https://howtoprogram.xyz/2016/09/11/maven-wrapper-example/\r\n\r\n    project_location&gt;mvn -N io.takari:maven:wrapper","title":"&#39;mvnw&#39; is not recognized as an internal or external command","body":"<p>Resolved it using taraki-maven-plugin, as mentioned here -<a href=\"https://howtoprogram.xyz/2016/09/11/maven-wrapper-example/\" rel=\"nofollow noreferrer\">https://howtoprogram.xyz/2016/09/11/maven-wrapper-example/</a></p>\n\n<pre><code>project_location&gt;mvn -N io.takari:maven:wrapper\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24710620,"reputation":11,"user_id":18600864,"display_name":"Mish Mish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651646967,"creation_date":1651646967,"answer_id":72108930,"question_id":56684165,"body_markdown":"I encountered the same problem for windows.\r\n\r\n 1. go to control panel, go to system, select advanced system settings on right.\r\n   \r\n 2. select advanced tab, click environment variables\r\n\r\n   \r\n\r\n 3. now in system variables path add the path to your maven, &lt;MavenHome&gt;/bin folder.\r\n\r\nafter editing it to include use\r\n\r\n    mvn -version\r\n\r\n","title":"&#39;mvnw&#39; is not recognized as an internal or external command","body":"<p>I encountered the same problem for windows.</p>\n<ol>\n<li><p>go to control panel, go to system, select advanced system settings on right.</p>\n</li>\n<li><p>select advanced tab, click environment variables</p>\n</li>\n<li><p>now in system variables path add the path to your maven, /bin folder.</p>\n</li>\n</ol>\n<p>after editing it to include use</p>\n<pre><code>mvn -version\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27868606,"reputation":11,"user_id":21279630,"display_name":"Evans Mbithi"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1677236031,"creation_date":1677236031,"answer_id":75555670,"question_id":56684165,"body_markdown":"Make sure the current directory you are working on has mvnw or mvnw.cmd files.\r\n","title":"&#39;mvnw&#39; is not recognized as an internal or external command","body":"<p>Make sure the current directory you are working on has mvnw or mvnw.cmd files.</p>\n"},{"tags":[],"owner":{"account_id":13324144,"reputation":41,"user_id":9617647,"display_name":"Kartikey Singh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1684245330,"creation_date":1684245266,"answer_id":76263881,"question_id":56684165,"body_markdown":"This issue plagued me for days, but the resolution was just too simple.\r\nIF you&#39;re using Windows like me and the project folder has a **mvnw** file, instead of\r\n\r\n    project_root&gt; mvnw\r\nyou need to type\r\n\r\n    project_root&gt; .\\mvnw\r\nHope this helps.","title":"&#39;mvnw&#39; is not recognized as an internal or external command","body":"<p>This issue plagued me for days, but the resolution was just too simple.\nIF you're using Windows like me and the project folder has a <strong>mvnw</strong> file, instead of</p>\n<pre><code>project_root&gt; mvnw\n</code></pre>\n<p>you need to type</p>\n<pre><code>project_root&gt; .\\mvnw\n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":1184419,"reputation":497,"user_id":1158695,"accept_rate":12,"display_name":"Nandan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24086,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":4,"score":1,"last_activity_date":1684245330,"creation_date":1561026990,"question_id":56684165,"body_markdown":"I am getting the following, while running &#39;mvnw&#39; command.\r\nHow to add maven wrapper to a project?\r\n\r\n&gt; project_root&gt;mvnw\r\n\r\n&#39;mvnw&#39; is not recognized as an internal or external command,\r\noperable program or batch file.&#39;","title":"&#39;mvnw&#39; is not recognized as an internal or external command","body":"<p>I am getting the following, while running 'mvnw' command.\nHow to add maven wrapper to a project?</p>\n\n<blockquote>\n  <p>project_root>mvnw</p>\n</blockquote>\n\n<p>'mvnw' is not recognized as an internal or external command,\noperable program or batch file.'</p>\n"},{"tags":["java","android","kotlin","broadcastreceiver","zegocloud"],"comments":[{"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"score":1,"creation_date":1684253188,"post_id":76263882,"comment_id":134489865,"body_markdown":"I believe a push notification service like Firebase Cloud Messaging is required for that","body":"I believe a push notification service like Firebase Cloud Messaging is required for that"},{"owner":{"account_id":27753665,"reputation":283,"user_id":21187638,"display_name":"Mahmoud Nabil"},"score":1,"creation_date":1684257701,"post_id":76263882,"comment_id":134490941,"body_markdown":"Thank you, I&#39;ll try this and leave a code sample.","body":"Thank you, I&#39;ll try this and leave a code sample."},{"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"score":0,"creation_date":1684259413,"post_id":76263882,"comment_id":134491258,"body_markdown":"Don&#39;t they have a working example in their repos? I have no experience with this sort of apps, may be worth a check https://github.com/ZEGOCLOUD","body":"Don&#39;t they have a working example in their repos? I have no experience with this sort of apps, may be worth a check <a href=\"https://github.com/ZEGOCLOUD\" rel=\"nofollow noreferrer\">github.com/ZEGOCLOUD</a>"},{"owner":{"account_id":27753665,"reputation":283,"user_id":21187638,"display_name":"Mahmoud Nabil"},"score":0,"creation_date":1684271364,"post_id":76263882,"comment_id":134493455,"body_markdown":"I&#39;m already checking their examples, and they have a CallBackgroundService which i think is enough for that, but nothing has changed.","body":"I&#39;m already checking their examples, and they have a CallBackgroundService which i think is enough for that, but nothing has changed."}],"owner":{"account_id":27753665,"reputation":283,"user_id":21187638,"display_name":"Mahmoud Nabil"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684245266,"creation_date":1684245266,"question_id":76263882,"body_markdown":"I&#39;m trying to use ZegoCloud to add audio &amp; video call features, and it&#39;s working fine while the sender and receiver are in the same activity (Chat Activity). But, when the receiver is on another activity, the app in background or the app is closed, the incoming call is never detected and the incoming call activity is never shown. Below is the android manifest with incoming call service.\r\n\r\nThank you..\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-sdk tools:overrideLibrary=&quot;com.appeaser.imagetransitionlibrary&quot; /&gt;\r\n\r\n    &lt;uses-feature\r\n        android:name=&quot;android.hardware.camera&quot;\r\n        android:required=&quot;false&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_CONTACTS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_MEDIA_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_AUDIO&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VIDEO&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_OWN_CALLS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ANSWER_PHONE_CALLS&quot; /&gt; &lt;!-- Gal --&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt; &lt;!-- For Android 12 and above devices, the following permission is also required. --&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\r\n\r\n    &lt;uses-feature\r\n        android:glEsVersion=&quot;0x00020000&quot;\r\n        android:required=&quot;true&quot; /&gt;\r\n    &lt;uses-feature\r\n        android:name=&quot;android.hardware.camera.front&quot;\r\n        android:required=&quot;false&quot; /&gt;\r\n    &lt;uses-feature\r\n        android:name=&quot;android.hardware.camera.flash&quot;\r\n        android:required=&quot;false&quot; /&gt; &lt;!-- W --&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:name=&quot;.MyApp&quot;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:requestLegacyExternalStorage=&quot;true&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.gal.ImageEditActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:theme=&quot;@style/AppThemeBack&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.activities.ProfileManageActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.activities.ChatActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt; &lt;!--  --&gt;\r\n        &lt;activity\r\n            android:name=&quot;.contactLibrary.core.ContactPickerActivity&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;false&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.myCont.multiPickerC.MultiContactPickerActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.myCont.MyContActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n\r\n        &lt;profileable android:shell=&quot;true&quot; /&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.zegInvi.callwithinvitation.call.IncomingCallDialog&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:launchMode=&quot;singleTop&quot;\r\n            android:theme=&quot;@style/dialogActivityTheme&quot; /&gt;\r\n\r\n        &lt;service\r\n            android:name=&quot;.zegInvi.callwithinvitation.call.CallBackgroundService&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.zegInvi.callwithinvitation.call.CallingActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.zegInvi.callwithinvitation.call.CallWaitingActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.zegInvi.callwithinvitation.HomeActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity android:name=&quot;.zegInvi.V&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```","title":"How to detect incoming video call from from ZegoCloud when app is closed or when chat activity is destroyed?","body":"<p>I'm trying to use ZegoCloud to add audio &amp; video call features, and it's working fine while the sender and receiver are in the same activity (Chat Activity). But, when the receiver is on another activity, the app in background or the app is closed, the incoming call is never detected and the incoming call activity is never shown. Below is the android manifest with incoming call service.</p>\n<p>Thank you..</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-sdk tools:overrideLibrary=&quot;com.appeaser.imagetransitionlibrary&quot; /&gt;\n\n    &lt;uses-feature\n        android:name=&quot;android.hardware.camera&quot;\n        android:required=&quot;false&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_CONTACTS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_MEDIA_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_AUDIO&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VIDEO&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_OWN_CALLS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ANSWER_PHONE_CALLS&quot; /&gt; &lt;!-- Gal --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt; &lt;!-- For Android 12 and above devices, the following permission is also required. --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\n\n    &lt;uses-feature\n        android:glEsVersion=&quot;0x00020000&quot;\n        android:required=&quot;true&quot; /&gt;\n    &lt;uses-feature\n        android:name=&quot;android.hardware.camera.front&quot;\n        android:required=&quot;false&quot; /&gt;\n    &lt;uses-feature\n        android:name=&quot;android.hardware.camera.flash&quot;\n        android:required=&quot;false&quot; /&gt; &lt;!-- W --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n\n    &lt;application\n        android:name=&quot;.MyApp&quot;\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:requestLegacyExternalStorage=&quot;true&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n        &lt;activity\n            android:name=&quot;.gal.ImageEditActivity&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;\n            android:theme=&quot;@style/AppThemeBack&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;.activities.ProfileManageActivity&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.activities.ChatActivity&quot;\n            android:exported=&quot;false&quot; /&gt; &lt;!--  --&gt;\n        &lt;activity\n            android:name=&quot;.contactLibrary.core.ContactPickerActivity&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;false&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;.myCont.multiPickerC.MultiContactPickerActivity&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.myCont.MyContActivity&quot;\n            android:exported=&quot;false&quot; /&gt;\n\n        &lt;profileable android:shell=&quot;true&quot; /&gt;\n\n        &lt;activity\n            android:name=&quot;.zegInvi.callwithinvitation.call.IncomingCallDialog&quot;\n            android:exported=&quot;false&quot;\n            android:launchMode=&quot;singleTop&quot;\n            android:theme=&quot;@style/dialogActivityTheme&quot; /&gt;\n\n        &lt;service\n            android:name=&quot;.zegInvi.callwithinvitation.call.CallBackgroundService&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;false&quot; /&gt;\n\n        &lt;activity\n            android:name=&quot;.zegInvi.callwithinvitation.call.CallingActivity&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.zegInvi.callwithinvitation.call.CallWaitingActivity&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.zegInvi.callwithinvitation.HomeActivity&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity android:name=&quot;.zegInvi.V&quot;\n            android:exported=&quot;false&quot; /&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","docker","ubuntu"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1647901899,"post_id":71562007,"comment_id":126483794,"body_markdown":"You shouldn&#39;t use `-Xmx` if using Java 11+. Instead, set the `--memory` of the container, and the JVM will resize accordingly","body":"You shouldn&#39;t use <code>-Xmx</code> if using Java 11+. Instead, set the <code>--memory</code> of the container, and the JVM will resize accordingly"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1647904029,"post_id":71562007,"comment_id":126484256,"body_markdown":"Thread stacks aren&#39;t in the heap, so increasing the heap limit makes no difference. (If it did, you would need over 200G of survivor space, probably 250G total.)","body":"Thread stacks aren&#39;t in the heap, so increasing the heap limit makes no difference. (If it did, you would need over 200G of survivor space, probably 250G total.)"}],"answers":[{"tags":[],"owner":{"account_id":6377538,"reputation":829,"user_id":4948006,"accept_rate":100,"display_name":"A M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684245179,"creation_date":1684245179,"answer_id":76263870,"question_id":71562007,"body_markdown":"In docker compose yml file, you can modify the memory limit of a container. \r\nYou could try to increase that limit, in your image configuration section, as follows:\r\n\r\n      ...\r\n        deploy:\r\n          resources:\r\n            limits:\r\n              memory: &lt;memory size&gt;\r\n\r\n \r\nMore info [here](https://docs.docker.com/config/containers/resource_constraints/#limit-a-containers-access-to-memory)","title":"os::commit_memory failed; error=Not enough space (errno=12)","body":"<p>In docker compose yml file, you can modify the memory limit of a container.\nYou could try to increase that limit, in your image configuration section, as follows:</p>\n<pre><code>  ...\n    deploy:\n      resources:\n        limits:\n          memory: &lt;memory size&gt;\n</code></pre>\n<p>More info <a href=\"https://docs.docker.com/config/containers/resource_constraints/#limit-a-containers-access-to-memory\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":18430625,"reputation":125,"user_id":13425875,"display_name":"devesh joshi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7789,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1684245179,"creation_date":1647885255,"question_id":71562007,"body_markdown":"I have a spring boot application running on ubuntu 20 ec2 machine where I am creating around 200000 threads to write data into kafka. However it is failing repeatedly with the following error\r\n\r\n    [138.470s][warning][os,thread] Attempt to protect stack guard pages failed (0x00007f828d055000-0x00007f828d059000).\r\n    [138.470s][warning][os,thread] Attempt to deallocate stack guard pages failed.\r\n    OpenJDK 64-Bit Server VM warning: [138.472s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 1024k, guardsize: 0k, detached.\r\n    INFO: os::commit_memory(0x00007f828cf54000, 16384, 0) failed; error=&#39;Not enough space&#39; (errno=12)\r\n    #\r\n    # There is insufficient memory for the Java Runtime Environment to continue.\r\n    # Native memory allocation (mmap) failed to map 16384 bytes for committing reserved memory.\r\n\r\nI have tried increasing memory of my ec2 instance to 64 gb which have been of no use. I am using docker stats and htop to monitor the memory footprint of the process and when it touches around 10 gb it fails with the given error.\r\n\r\nI have also tried increasing the heap size and max memory for the process.\r\n\r\n    docker run --rm --name test -e JAVA_OPTS=-Xmx64g -v /workspace/logs/test:/logs -t test:master\r\n\r\nBelow is my code\r\n\r\n        final int LIMIT = 200000;\r\n        ExecutorService executorService = Executors.newFixedThreadPool(LIMIT);\r\n        final CountDownLatch latch = new CountDownLatch(LIMIT);\r\n        for (int i = 1; i &lt;= LIMIT; i++) {\r\n            final int counter = i;\r\n            executorService.execute(() -&gt; {\r\n                try {\r\n                    kafkaTemplate.send(&quot;rf-data&quot;, Integer.toString(123), &quot;asdsadsd&quot;);\r\n                    kafkaTemplate.send(&quot;rf-data&quot;, Integer.toString(123), &quot;zczxczxczxc&quot;);\r\n                    latch.countDown();\r\n                } catch (Exception e) {\r\n                    logger.error(&quot;Error sending data: &quot;, e);\r\n                }\r\n            });\r\n        }\r\n        try {\r\n            latch.await();\r\n        } catch (InterruptedException e) {\r\n            logger.error(&quot;error ltach&quot;, e);\r\n        }","title":"os::commit_memory failed; error=Not enough space (errno=12)","body":"<p>I have a spring boot application running on ubuntu 20 ec2 machine where I am creating around 200000 threads to write data into kafka. However it is failing repeatedly with the following error</p>\n<pre><code>[138.470s][warning][os,thread] Attempt to protect stack guard pages failed (0x00007f828d055000-0x00007f828d059000).\n[138.470s][warning][os,thread] Attempt to deallocate stack guard pages failed.\nOpenJDK 64-Bit Server VM warning: [138.472s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 1024k, guardsize: 0k, detached.\nINFO: os::commit_memory(0x00007f828cf54000, 16384, 0) failed; error='Not enough space' (errno=12)\n#\n# There is insufficient memory for the Java Runtime Environment to continue.\n# Native memory allocation (mmap) failed to map 16384 bytes for committing reserved memory.\n</code></pre>\n<p>I have tried increasing memory of my ec2 instance to 64 gb which have been of no use. I am using docker stats and htop to monitor the memory footprint of the process and when it touches around 10 gb it fails with the given error.</p>\n<p>I have also tried increasing the heap size and max memory for the process.</p>\n<pre><code>docker run --rm --name test -e JAVA_OPTS=-Xmx64g -v /workspace/logs/test:/logs -t test:master\n</code></pre>\n<p>Below is my code</p>\n<pre><code>    final int LIMIT = 200000;\n    ExecutorService executorService = Executors.newFixedThreadPool(LIMIT);\n    final CountDownLatch latch = new CountDownLatch(LIMIT);\n    for (int i = 1; i &lt;= LIMIT; i++) {\n        final int counter = i;\n        executorService.execute(() -&gt; {\n            try {\n                kafkaTemplate.send(&quot;rf-data&quot;, Integer.toString(123), &quot;asdsadsd&quot;);\n                kafkaTemplate.send(&quot;rf-data&quot;, Integer.toString(123), &quot;zczxczxczxc&quot;);\n                latch.countDown();\n            } catch (Exception e) {\n                logger.error(&quot;Error sending data: &quot;, e);\n            }\n        });\n    }\n    try {\n        latch.await();\n    } catch (InterruptedException e) {\n        logger.error(&quot;error ltach&quot;, e);\n    }\n</code></pre>\n"},{"tags":["java","regex","performance","split"],"comments":[{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1684087693,"post_id":76247049,"comment_id":134461975,"body_markdown":"Its better to not to speculate on performance, and only look at specific issues if they appear, remembering that different JDK implementations can dramatically change some tasks anyway.  `String.split()` does have a shortcut implementation for certain simple one or two character inputs, otherwise it delegates to regex. So for many apps there isn&#39;t a difference, and for other apps you may well not be able to tell the difference.","body":"Its better to not to speculate on performance, and only look at specific issues if they appear, remembering that different JDK implementations can dramatically change some tasks anyway.  <code>String.split()</code> does have a shortcut implementation for certain simple one or two character inputs, otherwise it delegates to regex. So for many apps there isn&#39;t a difference, and for other apps you may well not be able to tell the difference."}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1684061865,"creation_date":1684061865,"answer_id":76247108,"question_id":76247049,"body_markdown":"Using a split approach _might_ typically be the more efficient approach.  We can split the input into components and then check each one to see if it be an long integer.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String path = &quot;/good/312321312/bad/3213122131&quot;;\r\n    String[] parts = path.split(&quot;/&quot;);\r\n    List&lt;Long&gt; nums = new ArrayList&lt;&gt;();\r\n    for (String part : parts) {\r\n        try {\r\n            long num = Long.parseLong(part);\r\n            nums.add(num);\r\n        }\r\n        catch (NumberFormatException nfe) {\r\n        }\r\n    }\r\n\r\n    System.out.println(&quot;Found nums: &quot; + nums);\r\n\r\nThis prints:\r\n\r\n    Found nums: [312321312, 3213122131]\r\n\r\nAny solution which only uses base string functions might outperform the cost of invoking a regex engine.","title":"Performance wise is better to use a split or a matching regex to extract subtext from a string?","body":"<p>Using a split approach <em>might</em> typically be the more efficient approach.  We can split the input into components and then check each one to see if it be an long integer.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String path = &quot;/good/312321312/bad/3213122131&quot;;\nString[] parts = path.split(&quot;/&quot;);\nList&lt;Long&gt; nums = new ArrayList&lt;&gt;();\nfor (String part : parts) {\n    try {\n        long num = Long.parseLong(part);\n        nums.add(num);\n    }\n    catch (NumberFormatException nfe) {\n    }\n}\n\nSystem.out.println(&quot;Found nums: &quot; + nums);\n</code></pre>\n<p>This prints:</p>\n<pre><code>Found nums: [312321312, 3213122131]\n</code></pre>\n<p>Any solution which only uses base string functions might outperform the cost of invoking a regex engine.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684244975,"creation_date":1684244975,"answer_id":76263833,"question_id":76247049,"body_markdown":"Since creating a new string implies copying all characters, the implicit `substring` operations of `split` are the most expensive aspect here. Creating an array, to hold all the strings, adds to it, but is minuscule compared to the string creations. Still, we can avoid both.\r\n\r\n```java\r\nstatic final Pattern NUMBER = Pattern.compile(&quot;\\\\d+&quot;);\r\n```\r\n```java\r\npublic static void main(String[] args) {\r\n    String s = &quot;/good/312321312/bad/3213122131&quot;;\r\n\r\n    long first = -1, second = -1;\r\n    Matcher m = NUMBER.matcher(s);\r\n    if(m.find()) {\r\n        first = Long.parseLong(s, m.start(), m.end(), 10);\r\n        if(m.find()) {\r\n            second = Long.parseLong(s, m.start(), m.end(), 10);\r\n        }\r\n    }\r\n\r\n    System.out.println(first + &quot;\\t&quot; + second);\r\n}\r\n```\r\nor\r\n```java\r\npublic static void main(String[] args) {\r\n    String s = &quot;/good/312321312/bad/3213122131&quot;;\r\n\r\n    LongStream.Builder b = LongStream.builder();\r\n    Matcher m = NUMBER.matcher(s);\r\n    while(m.find()) b.add(Long.parseLong(s, m.start(), m.end(), 10));\r\n\r\n    long[] result = b.build().toArray();\r\n\r\n    System.out.println(Arrays.toString(result));\r\n}\r\n```\r\n\r\nWhen performance matters, it’s important to keep and reuse compiled `Pattern` instances instead of using convenience methods like [`String.split`] which throw away the `Pattern` instance after the operation.\r\n\r\nObviously, this only matters if the code is executed more than once. But when the code is executed only once, its performance wouldn’t matter anyway.\r\n\r\nThe [`Long.parseLong`] method that allows to skip the `substring` operation exists since Java&#160;9. But even when you use `Long.parseLong(m.group())` here, you avoid creating strings for the non-numerical parts and retain the temporary strings as short as possible, which is optimizer-friendly.\r\n\r\n[`String.split`]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#split(java.lang.String)\r\n[`Long.parseLong`]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Long.html#parseLong(java.lang.CharSequence,int,int,int)","title":"Performance wise is better to use a split or a matching regex to extract subtext from a string?","body":"<p>Since creating a new string implies copying all characters, the implicit <code>substring</code> operations of <code>split</code> are the most expensive aspect here. Creating an array, to hold all the strings, adds to it, but is minuscule compared to the string creations. Still, we can avoid both.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static final Pattern NUMBER = Pattern.compile(&quot;\\\\d+&quot;);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    String s = &quot;/good/312321312/bad/3213122131&quot;;\n\n    long first = -1, second = -1;\n    Matcher m = NUMBER.matcher(s);\n    if(m.find()) {\n        first = Long.parseLong(s, m.start(), m.end(), 10);\n        if(m.find()) {\n            second = Long.parseLong(s, m.start(), m.end(), 10);\n        }\n    }\n\n    System.out.println(first + &quot;\\t&quot; + second);\n}\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    String s = &quot;/good/312321312/bad/3213122131&quot;;\n\n    LongStream.Builder b = LongStream.builder();\n    Matcher m = NUMBER.matcher(s);\n    while(m.find()) b.add(Long.parseLong(s, m.start(), m.end(), 10));\n\n    long[] result = b.build().toArray();\n\n    System.out.println(Arrays.toString(result));\n}\n</code></pre>\n<p>When performance matters, it’s important to keep and reuse compiled <code>Pattern</code> instances instead of using convenience methods like <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\"><code>String.split</code></a> which throw away the <code>Pattern</code> instance after the operation.</p>\n<p>Obviously, this only matters if the code is executed more than once. But when the code is executed only once, its performance wouldn’t matter anyway.</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Long.html#parseLong(java.lang.CharSequence,int,int,int)\" rel=\"nofollow noreferrer\"><code>Long.parseLong</code></a> method that allows to skip the <code>substring</code> operation exists since Java 9. But even when you use <code>Long.parseLong(m.group())</code> here, you avoid creating strings for the non-numerical parts and retain the temporary strings as short as possible, which is optimizer-friendly.</p>\n"}],"owner":{"account_id":15473116,"reputation":76,"user_id":14473479,"display_name":"gutey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":76247108,"answer_count":2,"score":2,"last_activity_date":1684244975,"creation_date":1684061222,"question_id":76247049,"body_markdown":"I have a string like this:\r\n\r\n    /good/312321312/bad/3213122131\r\n\r\nI have to extract the two sets of digits from there.\r\nI thought about two solutions: either using the `split()` or simply writing a regex to match the digits.\r\nWhat would be the better solution performance wise?\r\nIf you have any other suggestion please tell me so.","title":"Performance wise is better to use a split or a matching regex to extract subtext from a string?","body":"<p>I have a string like this:</p>\n<pre><code>/good/312321312/bad/3213122131\n</code></pre>\n<p>I have to extract the two sets of digits from there.\nI thought about two solutions: either using the <code>split()</code> or simply writing a regex to match the digits.\nWhat would be the better solution performance wise?\nIf you have any other suggestion please tell me so.</p>\n"},{"tags":["java","xslt","saxon","xslt-3.0"],"comments":[{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1684233140,"post_id":76261883,"comment_id":134484471,"body_markdown":"It is not clear what you are trying to achieve and how it fails. If you show the details of one particular attempt and how it failed exactly it might become clearer. In general, I don&#39;t see why you would want to use a DOMSource with Saxon and s9api to process or create XSLT; XSLT is XML so you can load it with the `doc` XPath function and you can output it like any other XML, with `xsl:output method=&quot;xml&quot;`, perhaps needing to set up a namespace alias to have no collision between the `xsl` prefix used for your XSLT code and then prefix used for your (XSLT) result elements.","body":"It is not clear what you are trying to achieve and how it fails. If you show the details of one particular attempt and how it failed exactly it might become clearer. In general, I don&#39;t see why you would want to use a DOMSource with Saxon and s9api to process or create XSLT; XSLT is XML so you can load it with the <code>doc</code> XPath function and you can output it like any other XML, with <code>xsl:output method=&quot;xml&quot;</code>, perhaps needing to set up a namespace alias to have no collision between the <code>xsl</code> prefix used for your XSLT code and then prefix used for your (XSLT) result elements."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684233440,"post_id":76261883,"comment_id":134484535,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1684234317,"post_id":76261883,"comment_id":134484755,"body_markdown":"As for not finding documentation, see https://www.saxonica.com/html/documentation11/extensibility/extension-functions-J/ and https://www.saxonica.com/html/documentation11/extensibility/extension-functions-J/ext-simple-J.html and https://www.saxonica.com/html/documentation11/extensibility/extension-functions-J/ext-full-J.html for the documentation.","body":"As for not finding documentation, see <a href=\"https://www.saxonica.com/html/documentation11/extensibility/extension-functions-J/\" rel=\"nofollow noreferrer\">saxonica.com/html/documentation11/extensibility/&hellip;</a> and <a href=\"https://www.saxonica.com/html/documentation11/extensibility/extension-functions-J/ext-simple-J.html\" rel=\"nofollow noreferrer\">saxonica.com/html/documentation11/extensibility/&hellip;</a> and <a href=\"https://www.saxonica.com/html/documentation11/extensibility/extension-functions-J/ext-full-J.html\" rel=\"nofollow noreferrer\">saxonica.com/html/documentation11/extensibility/&hellip;</a> for the documentation."}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684244926,"creation_date":1684244926,"answer_id":76263825,"question_id":76261883,"body_markdown":"The comments address some of your subsidiary questions and describe ways you could improve your post. As to your headline question:\r\n\r\n&gt; How to pass a List of objects or a DOMSource as a parameter from java\r\n&gt; to xslt using Saxon 11.4 and Saxon9api?\r\n\r\nThe `XsltTransformer` class has a method `setParameter`, while `Xslt30Transformer` has `setParameters`; what they have in common is that you pass the values of the parameters as instances of `XdmValue`.\r\n\r\nIf you want to pass a list of strings as a parameter, convert each string to an `XdmAtomicValue` by calling `new XdmAtomicValue(str)`, then call `new XdmValue(Iterable&lt;? extends XdmItem&gt;)` or new `XdmValue(Iterator&lt;? extends XdmItem&gt;)` to convert the list of `XdmAtomicValue` objects into an `XdmValue` representing the sequence.  \r\n\r\nIf you want to pass a DOM tree as a parameter (and I wouldn&#39;t normally recommend it, because using Saxon&#39;s native tree model is much faster), calling `DocumentBuilder.wrap(doc)` on the DOM `Document` node gives you an `XdmNode`, which is a subtype of `XdmValue`.\r\n\r\n\r\n","title":"How to pass a List of objects or a DOMSource as a parameter from java to xslt using Saxon 11.4 and Saxon9api?","body":"<p>The comments address some of your subsidiary questions and describe ways you could improve your post. As to your headline question:</p>\n<blockquote>\n<p>How to pass a List of objects or a DOMSource as a parameter from java\nto xslt using Saxon 11.4 and Saxon9api?</p>\n</blockquote>\n<p>The <code>XsltTransformer</code> class has a method <code>setParameter</code>, while <code>Xslt30Transformer</code> has <code>setParameters</code>; what they have in common is that you pass the values of the parameters as instances of <code>XdmValue</code>.</p>\n<p>If you want to pass a list of strings as a parameter, convert each string to an <code>XdmAtomicValue</code> by calling <code>new XdmAtomicValue(str)</code>, then call <code>new XdmValue(Iterable&lt;? extends XdmItem&gt;)</code> or new <code>XdmValue(Iterator&lt;? extends XdmItem&gt;)</code> to convert the list of <code>XdmAtomicValue</code> objects into an <code>XdmValue</code> representing the sequence.</p>\n<p>If you want to pass a DOM tree as a parameter (and I wouldn't normally recommend it, because using Saxon's native tree model is much faster), calling <code>DocumentBuilder.wrap(doc)</code> on the DOM <code>Document</code> node gives you an <code>XdmNode</code>, which is a subtype of <code>XdmValue</code>.</p>\n"}],"owner":{"account_id":27966513,"reputation":3,"user_id":21357243,"display_name":"Iheb RIAHI"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684244926,"creation_date":1684232208,"question_id":76261883,"body_markdown":"I want to pass a list of objects from java to xslt using saxon9api or pass the DOMSource if possible. \r\n\r\nWhat i&#39;m looking for is to generate an xslt by the xslt itself, i want to pass the list of nodes which they already have their childs...etc and i already have the java classes needed, i&#39;m stuck to pass the list&lt;Object&gt; and loop it in xslt  \r\n\r\nI have tried implementing ExtensionFunction but it&#39;s not working for me, didn&#39;t found any useful tutorial nor a documentation","title":"How to pass a List of objects or a DOMSource as a parameter from java to xslt using Saxon 11.4 and Saxon9api?","body":"<p>I want to pass a list of objects from java to xslt using saxon9api or pass the DOMSource if possible.</p>\n<p>What i'm looking for is to generate an xslt by the xslt itself, i want to pass the list of nodes which they already have their childs...etc and i already have the java classes needed, i'm stuck to pass the list and loop it in xslt</p>\n<p>I have tried implementing ExtensionFunction but it's not working for me, didn't found any useful tutorial nor a documentation</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3597514,"reputation":117145,"user_id":3001761,"display_name":"jonrsharpe"},"score":2,"creation_date":1684244384,"post_id":76263715,"comment_id":134487309,"body_markdown":"`may.milkCow()`?","body":"<code>may.milkCow()</code>?"}],"owner":{"account_id":28612894,"reputation":1,"user_id":21907523,"display_name":"Andy Garcia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684244515,"answer_count":0,"score":0,"last_activity_date":1684244360,"creation_date":1684244282,"question_id":76263715,"body_markdown":"```\r\npublic class Cow{\r\n    \r\n    public static void main(String[] args) {\r\n        Cow may = new Cow(&quot;Corny&quot;, &quot;moo&quot;);\r\n        milkCow();\r\n\t\tSystem.out.println(may.getNumMilkings());\r\n\t}\r\n    \r\n    private String type;\r\n    private String sound;\r\n    private int numMilkings;\r\n    \r\n    public Cow(String t, String s){\r\n        type = t;\r\n        sound = s;\r\n        numMilkings = 0;\r\n    }\r\n    \r\n    public String getSound(){\r\n        return sound;\r\n    }\r\n    \r\n    public String getType(){\r\n        return type;\r\n    }\r\n    public void milkCow(){\r\n        numMilkings++;\r\n    }\r\n    public int getNumMilkings(){\r\n        return numMilkings;\r\n    }\r\n}\r\n```\r\nThere is a problem with me calling milkCow() in the main method. I wanted to use milkCow() to increase the value of numMilkings by 1.","title":"Error: non-static method milkCow() cannot be referenced from a static context","body":"<pre><code>public class Cow{\n    \n    public static void main(String[] args) {\n        Cow may = new Cow(&quot;Corny&quot;, &quot;moo&quot;);\n        milkCow();\n        System.out.println(may.getNumMilkings());\n    }\n    \n    private String type;\n    private String sound;\n    private int numMilkings;\n    \n    public Cow(String t, String s){\n        type = t;\n        sound = s;\n        numMilkings = 0;\n    }\n    \n    public String getSound(){\n        return sound;\n    }\n    \n    public String getType(){\n        return type;\n    }\n    public void milkCow(){\n        numMilkings++;\n    }\n    public int getNumMilkings(){\n        return numMilkings;\n    }\n}\n</code></pre>\n<p>There is a problem with me calling milkCow() in the main method. I wanted to use milkCow() to increase the value of numMilkings by 1.</p>\n"},{"tags":["java",".net"],"answers":[{"tags":[],"owner":{"account_id":28301,"reputation":243450,"user_id":75525,"accept_rate":98,"display_name":"Fenton"},"down_vote_count":3,"up_vote_count":47,"is_accepted":false,"score":44,"last_activity_date":1248076773,"creation_date":1248076773,"answer_id":1152214,"question_id":1152194,"body_markdown":"It&#39;s different, rather than easier.\r\n\r\nThe reason the Java jobs are listed against frameworks is becuase Java has tons of frameworks and design patterns ready to be used to make things easier to maintain. The design patterns and frameworks are starting to appear more in .NET now too, so expect to see jobs changing to look more like those Java jobs.\r\n\r\nThere are just as many patterns and practices in both worlds - but they are more established in the Java community (the Java employer will push them onto you, you will find yourself pushing your .NET employer).\r\n\r\nLargely, Java vs .NET is syntax. Do either (do both!). But be aware of the patterns and frameworks as they&#39;ll really help you to write better code.","title":".Net vs Java Jobs","body":"<p>It's different, rather than easier.</p>\n\n<p>The reason the Java jobs are listed against frameworks is becuase Java has tons of frameworks and design patterns ready to be used to make things easier to maintain. The design patterns and frameworks are starting to appear more in .NET now too, so expect to see jobs changing to look more like those Java jobs.</p>\n\n<p>There are just as many patterns and practices in both worlds - but they are more established in the Java community (the Java employer will push them onto you, you will find yourself pushing your .NET employer).</p>\n\n<p>Largely, Java vs .NET is syntax. Do either (do both!). But be aware of the patterns and frameworks as they'll really help you to write better code.</p>\n"},{"tags":[],"owner":{"account_id":27080,"reputation":62662,"user_id":71059,"accept_rate":95,"display_name":"AakashM"},"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1248076918,"creation_date":1248076918,"answer_id":1152221,"question_id":1152194,"body_markdown":"Let&#39;s line up the technologies you mention (and some you don&#39;t). This will necessarily be somewhat imprecise so will be a nitpickers paradise :)\r\n\r\n&lt;pre&gt;\r\n    .NET           Java        The overall encompassing technology\r\n    ASP            Struts      A Web development framework\r\n                   JSF\r\n    (.NET BCL?)    Spring      An application development framework\r\n                   EJB\r\n    SQL Server     an RDBMS    A database\r\n    (VS)           Eclipse     An IDE\r\n&lt;/pre&gt;\r\n\r\nCSS, Javascript, AJAX, REST are all technologies common to both stacks.\r\n\r\nThe technology concepts you have to learn are the same whatever stack you choose - it&#39;s just the names are different. The .NET ones will all be &#39;Microsoft Blah Blah Blah&#39;, whereas the Java ones will all have funky cool names...\r\n\r\n\r\n","title":".Net vs Java Jobs","body":"<p>Let's line up the technologies you mention (and some you don't). This will necessarily be somewhat imprecise so will be a nitpickers paradise :)</p>\n\n<pre>\n    .NET           Java        The overall encompassing technology\n    ASP            Struts      A Web development framework\n                   JSF\n    (.NET BCL?)    Spring      An application development framework\n                   EJB\n    SQL Server     an RDBMS    A database\n    (VS)           Eclipse     An IDE\n</pre>\n\n<p>CSS, Javascript, AJAX, REST are all technologies common to both stacks.</p>\n\n<p>The technology concepts you have to learn are the same whatever stack you choose - it's just the names are different. The .NET ones will all be 'Microsoft Blah Blah Blah', whereas the Java ones will all have funky cool names...</p>\n"},{"tags":[],"owner":{"account_id":42317,"reputation":3593,"user_id":123248,"accept_rate":86,"display_name":"William Pietri"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1248076963,"creation_date":1248076963,"answer_id":1152222,"question_id":1152194,"body_markdown":"In talking with my .Net pals, it seems like getting started on something pretty standard is easier, because most people do things the Microsoft way. Java&#39;s large number of choices means you have to pick libraries and toolkits at many different levels. The upside for Java is that when the official or common way doesn&#39;t suit you, there are a lot more options available.\r\n\r\nIn practice, I don&#39;t think it makes much difference. Any single Java shop will generally settle on one particular thing. E.g., Struts or Spring or JSF, not all three. Hibernate or Ibatis or pure JDBC, not all three. So I think there&#39;s about the same amount of stuff to learn, in that whether you&#39;re using a Java stack or a .Net one, you&#39;re still solving roughly similar problems.\r\n\r\n","title":".Net vs Java Jobs","body":"<p>In talking with my .Net pals, it seems like getting started on something pretty standard is easier, because most people do things the Microsoft way. Java's large number of choices means you have to pick libraries and toolkits at many different levels. The upside for Java is that when the official or common way doesn't suit you, there are a lot more options available.</p>\n\n<p>In practice, I don't think it makes much difference. Any single Java shop will generally settle on one particular thing. E.g., Struts or Spring or JSF, not all three. Hibernate or Ibatis or pure JDBC, not all three. So I think there's about the same amount of stuff to learn, in that whether you're using a Java stack or a .Net one, you're still solving roughly similar problems.</p>\n"},{"tags":[],"owner":{"account_id":14684,"reputation":62911,"user_id":30453,"accept_rate":82,"display_name":"IAdapter"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1248079482,"creation_date":1248077161,"answer_id":1152231,"question_id":1152194,"body_markdown":"Yes, with Java you have web frameworks like JSF, Struts, Struts2, Wicket, SpringMVC, Stripes, Tepestry, Facelets .. just to name a few. **Every company is using different frameworks**, so if you change job you will learn new frameworks. And its only web framework, what about persistance ? JDBC, Hibernate, JDO, iBatis. Who can name 5 mocking frameworks for Java? Who have used 5 different application servers? What about databases? Ive even used Informix and Teradata. I think all .NET is using Sql Server and its easier to learn one database well.","title":".Net vs Java Jobs","body":"<p>Yes, with Java you have web frameworks like JSF, Struts, Struts2, Wicket, SpringMVC, Stripes, Tepestry, Facelets .. just to name a few. <strong>Every company is using different frameworks</strong>, so if you change job you will learn new frameworks. And its only web framework, what about persistance ? JDBC, Hibernate, JDO, iBatis. Who can name 5 mocking frameworks for Java? Who have used 5 different application servers? What about databases? Ive even used Informix and Teradata. I think all .NET is using Sql Server and its easier to learn one database well.</p>\n"},{"tags":[],"owner":{"account_id":20095,"reputation":505,"user_id":47637,"accept_rate":57,"display_name":"Bruce Li"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1248077618,"creation_date":1248077618,"answer_id":1152255,"question_id":1152194,"body_markdown":"In Java world, you develop with technologies from many communities, in .NET world, you only work on technologies from Microsoft. In my opinion Java developers are more free in terms of choices of technologies, but sometimes it also brings you problems. :)","title":".Net vs Java Jobs","body":"<p>In Java world, you develop with technologies from many communities, in .NET world, you only work on technologies from Microsoft. In my opinion Java developers are more free in terms of choices of technologies, but sometimes it also brings you problems. :)</p>\n"},{"tags":[],"owner":{"account_id":42258,"reputation":3338,"user_id":123070,"accept_rate":75,"display_name":"Bogdan_Ch"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1248077752,"creation_date":1248077752,"answer_id":1152270,"question_id":1152194,"body_markdown":"Please don&#39;t forget about the following .NET technologies: Win.Forms, Silverlight, WCF, WPF, WWF... There are still a lot of learning in .NET outside of web development. It is not easy to be a **senior** .NET developer, at least not much easier then Java. However, IMHO it is easier to start in .NET when you have no past development experience.","title":".Net vs Java Jobs","body":"<p>Please don't forget about the following .NET technologies: Win.Forms, Silverlight, WCF, WPF, WWF... There are still a lot of learning in .NET outside of web development. It is not easy to be a <strong>senior</strong> .NET developer, at least not much easier then Java. However, IMHO it is easier to start in .NET when you have no past development experience.</p>\n"},{"tags":[],"owner":{"account_id":54287,"reputation":22865,"user_id":162381,"accept_rate":73,"display_name":"Martin Ongtangco"},"down_vote_count":1,"up_vote_count":34,"is_accepted":false,"score":33,"last_activity_date":1279005957,"creation_date":1279005957,"answer_id":3234975,"question_id":1152194,"body_markdown":"I&#39;m a C# developer, believe me, there are more choices in Java than in .Net. The obvious advantage in .Net, though, is that in any job you land uses the same IDE (Visual Studio) and (in most cases) uses the latest .Net framework (except for maintaining legacy apps). There may be some subtle differences in different employers such as them using Enterprise Libraries, MVC versus Forms, WPF, etc.; But if you&#39;re a seasoned C# developer, you can adapt easily depending on your fundamentals.\r\n\r\nSome developers in my field who did not learn any other programming languages tend to be lazy and simply drag-n-drop objects to accomplish tasks 80% of the time (some of them even believe that object-oriented programming is simply code with objects). If you are familiar in C++ or any C based language, you will definitely have the upper hand but that is not a requirement.\r\n\r\nI&#39;d suggest learn the best programming practices, never put all your eggs in one basket (even though god did that to us men), and be open to other languages other than C#. If you learn one C-based language, learning other major languages won&#39;t be as hard rather than starting with VB.Net.\r\n\r\nEither way, both of them are well paying jobs and you won&#39;t regret if you choose either one.\r\n\r\nmy 2 cents.","title":".Net vs Java Jobs","body":"<p>I'm a C# developer, believe me, there are more choices in Java than in .Net. The obvious advantage in .Net, though, is that in any job you land uses the same IDE (Visual Studio) and (in most cases) uses the latest .Net framework (except for maintaining legacy apps). There may be some subtle differences in different employers such as them using Enterprise Libraries, MVC versus Forms, WPF, etc.; But if you're a seasoned C# developer, you can adapt easily depending on your fundamentals.</p>\n\n<p>Some developers in my field who did not learn any other programming languages tend to be lazy and simply drag-n-drop objects to accomplish tasks 80% of the time (some of them even believe that object-oriented programming is simply code with objects). If you are familiar in C++ or any C based language, you will definitely have the upper hand but that is not a requirement.</p>\n\n<p>I'd suggest learn the best programming practices, never put all your eggs in one basket (even though god did that to us men), and be open to other languages other than C#. If you learn one C-based language, learning other major languages won't be as hard rather than starting with VB.Net.</p>\n\n<p>Either way, both of them are well paying jobs and you won't regret if you choose either one.</p>\n\n<p>my 2 cents.</p>\n"},{"tags":[],"owner":{"account_id":192595,"reputation":621,"user_id":433817,"display_name":"taj"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1287765775,"creation_date":1287765775,"answer_id":3999019,"question_id":1152194,"body_markdown":"Something else important to consider is that you can get &quot;branded&quot; as a .NET or Java developer midway into your career.  At that point, it becomes more difficult to switch, since (understandably) you have less experience in the one you didn&#39;t choose.  Thus far, I have been alternating, but that comes with its own set of problems where you have gaps in experience with new libraries/frameworks on each side.\r\n\r\nAny other thoughts on the pros/cons of developing Java vs. .NET? For instance, what types of companies, cultures, pay, etc?\r\n\r\nFor me, it seems like .NET tends to be in more established companies whereas Java is used by a lot of startups (given the low cost entry and open source libraries available). The pay is comparable, but .NET seems a little higher.  Java development might be a little more fun given that you get to play with new frameworks more often and aren&#39;t as restricted to specific paradigms.","title":".Net vs Java Jobs","body":"<p>Something else important to consider is that you can get \"branded\" as a .NET or Java developer midway into your career.  At that point, it becomes more difficult to switch, since (understandably) you have less experience in the one you didn't choose.  Thus far, I have been alternating, but that comes with its own set of problems where you have gaps in experience with new libraries/frameworks on each side.</p>\n\n<p>Any other thoughts on the pros/cons of developing Java vs. .NET? For instance, what types of companies, cultures, pay, etc?</p>\n\n<p>For me, it seems like .NET tends to be in more established companies whereas Java is used by a lot of startups (given the low cost entry and open source libraries available). The pay is comparable, but .NET seems a little higher.  Java development might be a little more fun given that you get to play with new frameworks more often and aren't as restricted to specific paradigms.</p>\n"},{"tags":[],"owner":{"account_id":1323782,"reputation":1,"user_id":1269057,"display_name":"Sam"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1351455327,"creation_date":1331730441,"answer_id":9702598,"question_id":1152194,"body_markdown":"Java itself has more fields coming into it; I mean, Java developers have now more opportunities than any other technologies in the market. They are being hired at attractive compensations to develop different java-based applications, software and games etc. It will continue to be increased in future as well. Just stick with JAVA :)","title":".Net vs Java Jobs","body":"<p>Java itself has more fields coming into it; I mean, Java developers have now more opportunities than any other technologies in the market. They are being hired at attractive compensations to develop different java-based applications, software and games etc. It will continue to be increased in future as well. Just stick with JAVA :)</p>\n"}],"owner":{"display_name":"java_developer_2"},"comment_count":0,"delete_vote_count":3,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91633,"favorite_count":0,"down_vote_count":2,"up_vote_count":38,"closed_date":1383313071,"answer_count":9,"score":36,"last_activity_date":1684244314,"creation_date":1248076313,"question_id":1152194,"body_markdown":"When I do a job search for a .Net developer it&#39;s all mostly the same stuff .Net, ASP, SQL Server, CSS, Javascript, AJAX, and maybe C#. Whereas with Java you may have to have Java, Sturts, Spring, JSF, EJB, a RDMB, Eclipse RCP, CSS, Javascript, AJAX, Rest, any number of specific Java APIs. Is it easier to be a .Net developer since the technologies are so focused? Or does it just seem that way?","title":".Net vs Java Jobs","body":"<p>When I do a job search for a .Net developer it's all mostly the same stuff .Net, ASP, SQL Server, CSS, Javascript, AJAX, and maybe C#. Whereas with Java you may have to have Java, Sturts, Spring, JSF, EJB, a RDMB, Eclipse RCP, CSS, Javascript, AJAX, Rest, any number of specific Java APIs. Is it easier to be a .Net developer since the technologies are so focused? Or does it just seem that way?</p>\n"},{"tags":["java","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1684224973,"post_id":76260725,"comment_id":134482544,"body_markdown":"To understand better, do you want to combine the result of two queries?","body":"To understand better, do you want to combine the result of two queries?"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1684244302,"post_id":76260725,"comment_id":134487281,"body_markdown":"The solution is to nest the second query into the `onDataChange` for the first one, and then nest the writing of the CSV into the `onDataChange` of the first query. If you can&#39;t get that work, edit your question to [show us where you got stuck](http://stackoverflow.com/help/mcve).","body":"The solution is to nest the second query into the <code>onDataChange</code> for the first one, and then nest the writing of the CSV into the <code>onDataChange</code> of the first query. If you can&#39;t get that work, edit your question to <a href=\"http://stackoverflow.com/help/mcve\">show us where you got stuck</a>."},{"owner":{"account_id":27329849,"reputation":15,"user_id":20842166,"display_name":"steeveKA1"},"score":0,"creation_date":1684246984,"post_id":76260725,"comment_id":134488086,"body_markdown":"@FrankvanPuffelen thank you. That did the trick for me. It seems to work now. You saved my day. But one question still remains: Now i have the two queries combined, and maybe in future its possible that the data is growing bigger and bigger. How do i know that performance is still enough that user experience keeps good? Is there a way to test how long it needs to execute the queries and creating and filling the file with the received data?","body":"@FrankvanPuffelen thank you. That did the trick for me. It seems to work now. You saved my day. But one question still remains: Now i have the two queries combined, and maybe in future its possible that the data is growing bigger and bigger. How do i know that performance is still enough that user experience keeps good? Is there a way to test how long it needs to execute the queries and creating and filling the file with the received data?"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1684251356,"post_id":76260725,"comment_id":134489352,"body_markdown":"Usually you can get pretty far with running the data loading operations in parallel and keeping something like a counter to determine how many of them are still pending. But there&#39;s no single idiomatic answer, and it all depends on the exact use-case and the rest of your implementation.","body":"Usually you can get pretty far with running the data loading operations in parallel and keeping something like a counter to determine how many of them are still pending. But there&#39;s no single idiomatic answer, and it all depends on the exact use-case and the rest of your implementation."}],"owner":{"account_id":27329849,"reputation":15,"user_id":20842166,"display_name":"steeveKA1"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684244224,"creation_date":1684224789,"question_id":76260725,"body_markdown":"i have stored the Data for my application in Firebase RealtimeDatabase. Now im facing a big problem by retrieving and writing the data to a csv file. \r\nMy Database consists of two child nodes: The Model **Color** with different attributes like yellow, green, red.... and the child **Times** with different times. Both as String values represented. \r\n\r\nFor getting the data i have two queries. Everything works fine. But now i discovered that Firebase Queries work asynchron. And the only way to get the data written to the CSV File seems to be inside the onDataChange method from the EventListener. \r\n\r\nI tried with interface but this does not solve the problem. (Like described here: \r\n[Link to stackoverflow][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/47847694/how-to-return-datasnapshot-value-as-a-result-of-a-method/47853774\r\n\r\nI cant get the values from Firebase to be stored outside of the onDataChange method. I dont know how to split the buffered writer. At the moment its only possible for me to have one buffered writer and all the append.line stuff inside one of the queries. But this is not a solution. i need all data from both queries written to the file.\r\n\r\nDoes anybody know how to solve such a problem? (Im using java code)\r\n","title":"Firebase RealtimeDatabase getting two Values for CSV File","body":"<p>i have stored the Data for my application in Firebase RealtimeDatabase. Now im facing a big problem by retrieving and writing the data to a csv file.\nMy Database consists of two child nodes: The Model <strong>Color</strong> with different attributes like yellow, green, red.... and the child <strong>Times</strong> with different times. Both as String values represented.</p>\n<p>For getting the data i have two queries. Everything works fine. But now i discovered that Firebase Queries work asynchron. And the only way to get the data written to the CSV File seems to be inside the onDataChange method from the EventListener.</p>\n<p>I tried with interface but this does not solve the problem. (Like described here:\n<a href=\"https://stackoverflow.com/questions/47847694/how-to-return-datasnapshot-value-as-a-result-of-a-method/47853774\">Link to stackoverflow</a></p>\n<p>I cant get the values from Firebase to be stored outside of the onDataChange method. I dont know how to split the buffered writer. At the moment its only possible for me to have one buffered writer and all the append.line stuff inside one of the queries. But this is not a solution. i need all data from both queries written to the file.</p>\n<p>Does anybody know how to solve such a problem? (Im using java code)</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684001096,"creation_date":1683868510,"answer_id":76233315,"question_id":76232981,"body_markdown":"You should add a Webdriver wait condition to wait for Visiblity of the element  which is why you are getting not element is not interactable exception \r\n\r\ntry below in your code\r\n```\r\nWebDriver driver = new ChromeDriver();\r\ndriver.get(&quot;https://www.spicejet.com/&quot;);\r\nWebElement addon = driver.findElement(By.xpath(&quot;//div[text()=\\&quot;Add-ons\\&quot;]&quot;));\r\nActions actions = new Actions(driver);\r\nactions.moveToElement(addon).perform();\r\nWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(20));\r\nWebElement zeroCancellation = wait.until(ExpectedConditions.visibilityOfElementLocated(\r\n    By.xpath(&quot;//div[text()=\\&quot;Zero Cancellation\\&quot;]&quot;)));\r\nzeroCancellation.click();\r\n```","title":"Element not interactable exception found in selenium","body":"<p>You should add a Webdriver wait condition to wait for Visiblity of the element  which is why you are getting not element is not interactable exception</p>\n<p>try below in your code</p>\n<pre><code>WebDriver driver = new ChromeDriver();\ndriver.get(&quot;https://www.spicejet.com/&quot;);\nWebElement addon = driver.findElement(By.xpath(&quot;//div[text()=\\&quot;Add-ons\\&quot;]&quot;));\nActions actions = new Actions(driver);\nactions.moveToElement(addon).perform();\nWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(20));\nWebElement zeroCancellation = wait.until(ExpectedConditions.visibilityOfElementLocated(\n    By.xpath(&quot;//div[text()=\\&quot;Zero Cancellation\\&quot;]&quot;)));\nzeroCancellation.click();\n</code></pre>\n"}],"owner":{"account_id":11684365,"reputation":1,"user_id":8554845,"display_name":"Vijay Sonkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1684243710,"creation_date":1683863181,"question_id":76232981,"body_markdown":"![](https://i.stack.imgur.com/Ogawg.jpg)\r\n\r\nI want to click on `Zero Cancellation` in Addons Tab at the top after the mouse hover. But it shows element is not interactable.. Please help me to solve this.\r\nURL - https://www.spicejet.com/","title":"Element not interactable exception found in selenium","body":"<p><img src=\"https://i.stack.imgur.com/Ogawg.jpg\" alt=\"\" /></p>\n<p>I want to click on <code>Zero Cancellation</code> in Addons Tab at the top after the mouse hover. But it shows element is not interactable.. Please help me to solve this.\nURL - <a href=\"https://www.spicejet.com/\" rel=\"nofollow noreferrer\">https://www.spicejet.com/</a></p>\n"},{"tags":["java","appium","pageobjects"],"answers":[{"tags":[],"owner":{"account_id":17048003,"reputation":358,"user_id":12334353,"display_name":"cdub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684243626,"creation_date":1684243626,"answer_id":76263597,"question_id":75290215,"body_markdown":"After over a month of no answer I am pretty sure that my WebElement function is the only way I can do what I want\r\n\r\n```java\r\nprivate WebElement dynamicElement(String locator) {\r\n        if (driver.getClass() == AndroidDriver.class) {\r\n            return driver.findElement(AppiumBy.xpath(\r\n                        String.format(&quot;//android.widget.TextView[@text=&#39;%s&#39;]&quot;, locator)));\r\n        } \r\n        else {\r\n            return driver.findElement(AppiumBy.iOSClassChain(\r\n                        String.format(&quot;**/XCUIElementTypeStaticText[`label == \\&quot;%s\\&quot;`]&quot;, locator)));\r\n        }\r\n    }\r\n\r\n```","title":"How can I pass a variable to the element found using Appium @FindBy","body":"<p>After over a month of no answer I am pretty sure that my WebElement function is the only way I can do what I want</p>\n<pre class=\"lang-java prettyprint-override\"><code>private WebElement dynamicElement(String locator) {\n        if (driver.getClass() == AndroidDriver.class) {\n            return driver.findElement(AppiumBy.xpath(\n                        String.format(&quot;//android.widget.TextView[@text='%s']&quot;, locator)));\n        } \n        else {\n            return driver.findElement(AppiumBy.iOSClassChain(\n                        String.format(&quot;**/XCUIElementTypeStaticText[`label == \\&quot;%s\\&quot;`]&quot;, locator)));\n        }\n    }\n\n</code></pre>\n"}],"owner":{"account_id":17048003,"reputation":358,"user_id":12334353,"display_name":"cdub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76263597,"answer_count":1,"score":0,"last_activity_date":1684243626,"creation_date":1675113216,"question_id":75290215,"body_markdown":"Is there a way to dynamically set the xpath or id used by Appium @FindBy() so I dont have to create a dozen individual WebElements?\r\n\r\nI am using the Page Object Model to automate a mobile app. I use to just create a method that would find an element based on a string I would pass it but now I am trying to use annotations to get my elemetents. \r\n\r\nEstinally I am hoping there is a way to basically do this\r\n\r\n```java\r\nclass Page{\r\n    AppiumDriver driver;\r\n    \r\n    public Page(AppiumDriver driver){\r\n        this.driver = driver\r\n        PageFactory.initElements(new AppiumFieldDecorator(driver), this)\r\n    }\r\n    \r\n    @iOSXCUITFindBy(xpath = &quot;//*[@text=&#39;&quot;+option+&quot;&#39;]&quot;)\r\n    @AndroindFindBy(xpath = &quot;//*[@text=&#39;&quot;+option+&quot;&#39;]&quot;)\r\n    private WebElement dynamicOption(option)\r\n\r\n\r\n    public void selectOption(String option){\r\n        dynamicOption(option).click()\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Test\r\npublic void testAThing(){\r\n    Page page = new Page(driver);\r\n    page.selectOption(&quot;New&quot;);\r\n}\r\n```\r\nI understand that the syntax probably doesn&#39;t make sense but this is the general idea of what I want to do\r\n\r\nI used to do something like this but I want to know if there is a way with annotations\r\n```java\r\nprivate WebElement dynamicOption(String option){\r\n    return driver.findElement(By.xpath(&quot;//*[@text=&#39;&quot;+option+&quot;&#39;]&quot;));\r\n}\r\n```\r\n","title":"How can I pass a variable to the element found using Appium @FindBy","body":"<p>Is there a way to dynamically set the xpath or id used by Appium @FindBy() so I dont have to create a dozen individual WebElements?</p>\n<p>I am using the Page Object Model to automate a mobile app. I use to just create a method that would find an element based on a string I would pass it but now I am trying to use annotations to get my elemetents.</p>\n<p>Estinally I am hoping there is a way to basically do this</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Page{\n    AppiumDriver driver;\n    \n    public Page(AppiumDriver driver){\n        this.driver = driver\n        PageFactory.initElements(new AppiumFieldDecorator(driver), this)\n    }\n    \n    @iOSXCUITFindBy(xpath = &quot;//*[@text='&quot;+option+&quot;']&quot;)\n    @AndroindFindBy(xpath = &quot;//*[@text='&quot;+option+&quot;']&quot;)\n    private WebElement dynamicOption(option)\n\n\n    public void selectOption(String option){\n        dynamicOption(option).click()\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void testAThing(){\n    Page page = new Page(driver);\n    page.selectOption(&quot;New&quot;);\n}\n</code></pre>\n<p>I understand that the syntax probably doesn't make sense but this is the general idea of what I want to do</p>\n<p>I used to do something like this but I want to know if there is a way with annotations</p>\n<pre class=\"lang-java prettyprint-override\"><code>private WebElement dynamicOption(String option){\n    return driver.findElement(By.xpath(&quot;//*[@text='&quot;+option+&quot;']&quot;));\n}\n</code></pre>\n"},{"tags":["java","maven","unit-testing","testing","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1684238194,"post_id":76262714,"comment_id":134485574,"body_markdown":"*&quot;I have no idea why the gridPane variable is null after initializing.&quot;* It&#39;s not initialized though. The `gridPane` is annotated `@FXML`, which indicates that it is instantiated by the `FXMLLoader` when the FXML file is loaded and then injected into the controller. Instead of instantiating the controller directly (which I don&#39;t think you are doing in your application code), load the FXML and retrieve the controller from the `FXMLLoader`.","body":"<i>&quot;I have no idea why the gridPane variable is null after initializing.&quot;</i> It&#39;s not initialized though. The <code>gridPane</code> is annotated <code>@FXML</code>, which indicates that it is instantiated by the <code>FXMLLoader</code> when the FXML file is loaded and then injected into the controller. Instead of instantiating the controller directly (which I don&#39;t think you are doing in your application code), load the FXML and retrieve the controller from the <code>FXMLLoader</code>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1684243806,"post_id":76262714,"comment_id":134487127,"body_markdown":"You should also consider exactly what it is you want to unit test. If you properly separate out the game logic from the UI, then you can unit test the game logic without the UI or the controller at all. You seem to have done a lot of this anyway. Can&#39;t you just instantiate `GameState` in your test class and then test it out? For the most part, everything else in the controller is just invoking JavaFX library code, which is tested by the JavaFX developers, not by your unit test.","body":"You should also consider exactly what it is you want to unit test. If you properly separate out the game logic from the UI, then you can unit test the game logic without the UI or the controller at all. You seem to have done a lot of this anyway. Can&#39;t you just instantiate <code>GameState</code> in your test class and then test it out? For the most part, everything else in the controller is just invoking JavaFX library code, which is tested by the JavaFX developers, not by your unit test."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":2,"creation_date":1684246895,"post_id":76262714,"comment_id":134488061,"body_markdown":"I am not sure the following code makes any sense. Methods annotated with `@FXML` are usually handlers. `@FXML\n    public GridPane getGridPane() {\n        return gridPane;\n    }`","body":"I am not sure the following code makes any sense. Methods annotated with <code>@FXML</code> are usually handlers. <code>@FXML     public GridPane getGridPane() {         return gridPane;     }</code>"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":2,"creation_date":1684247113,"post_id":76262714,"comment_id":134488136,"body_markdown":"You should probably be using something like [`TestFX`](https://github.com/TestFX/TestFX) for `JavaFX` `GUI` testing.","body":"You should probably be using something like <a href=\"https://github.com/TestFX/TestFX\" rel=\"nofollow noreferrer\"><code>TestFX</code></a> for <code>JavaFX</code> <code>GUI</code> testing."}],"owner":{"account_id":28510629,"reputation":1,"user_id":21820675,"display_name":"per0ken"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684243584,"creation_date":1684237834,"question_id":76262714,"body_markdown":"My problem is that mvn test command returns with this error: \r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;javafx.scene.layout.GridPane.setGridLinesVisible(boolean)&quot; because &quot;this.gridPane&quot; is null\r\n\tat stickgame.Controller.GameController.initialize(GameController.java:55)\r\n    at\r\nGameLogicTest.setUp(GameLogicTest.java:24)\r\n\r\nHowever, if I run the application it works perfectly. I have no idea why the gridPane variable is null after initializing in the tests.\r\nThe rest of the test methods would return with 0, they are would work. Any thoughts?\r\n\r\n\r\n```\r\npublic class GameLogicTest {\r\n    private GameController gameController;\r\n    private GridPane gridPane = new GridPane();\r\n    private GameState gameState;\r\n\r\n\r\n    @BeforeEach\r\n    public void setUp() {\r\n        gameController = new GameController();\r\n        gameController.initialize();\r\n        gridPane = gameController.getGridPane();\r\n        gridPane.setGridLinesVisible(true);\r\n        gameState = gameController.getGameState();\r\n    }\r\n}\r\n```\r\n---\r\n```\r\npublic class GameController {\r\n\r\n    private GameState gameState;\r\n\r\n    /**\r\n     * Variable to earn the GridPane from the StickGame.fxml file.\r\n     */\r\n    @FXML\r\n    private GridPane gridPane;\r\n\r\n    private static final int lineWidth = 100;\r\n    private static final int lineThickness = 6;\r\n\r\n    @FXML\r\n    public GridPane getGridPane() {\r\n        return gridPane;\r\n    }\r\n\r\n    public GameState getGameState() {\r\n        return gameState;\r\n    }\r\n\r\n    public void initialize() {\r\n        gameState = new GameState();\r\n\r\n        gridPane.setGridLinesVisible(false);\r\n        final int gridHeight = 200;\r\n        final int gridWidth = 200;\r\n        gridPane.setPrefSize(gridHeight, gridWidth);\r\n\r\n\r\n        for (int row = 0; row &lt; GameState.BOARD_SIZE; row++) {\r\n            for (int col = 0; col &lt; GameState.BOARD_SIZE; col++) {\r\n                createVerticalLine(row, col);\r\n                createHorizontalLine(row, col);\r\n            }\r\n        }\r\n\r\n        for (int row = 0; row &lt; GameState.BOARD_SIZE; row++) {\r\n            int col = GameState.BOARD_SIZE;\r\n            createHorizontalLine(row, col);\r\n        }\r\n\r\n        for (int col = 0; col &lt; GameState.BOARD_SIZE; col++) {\r\n            int row = GameState.BOARD_SIZE;\r\n            createVerticalLine(row, col);\r\n        }\r\n        Logger.info(&quot;Grid created of lines&quot;);\r\n    }\r\n...\r\n\r\npublic void createHorizontalLine(final int row, final int col) {\r\n        Line line = new Line(0, 0, lineWidth, 0);\r\n        line.setStrokeWidth(lineThickness);\r\n        line.setOnMouseClicked(this::handleLineClick);\r\n        gridPane.add(line, row * 2 + 1, col * 2);\r\n    }\r\n\r\n    public void createVerticalLine(final int row, final int col) {\r\n        Line line = new Line(0, 0, 0, lineWidth);\r\n        line.setStrokeWidth(lineThickness);\r\n        line.setOnMouseClicked(this::handleLineClick);\r\n        gridPane.add(line, row * 2, col * 2 + 1);\r\n    }\r\n```\r\n","title":"MVN test return with errors because of initializing game board","body":"<p>My problem is that mvn test command returns with this error:</p>\n<p>java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.layout.GridPane.setGridLinesVisible(boolean)&quot; because &quot;this.gridPane&quot; is null\nat stickgame.Controller.GameController.initialize(GameController.java:55)\nat\nGameLogicTest.setUp(GameLogicTest.java:24)</p>\n<p>However, if I run the application it works perfectly. I have no idea why the gridPane variable is null after initializing in the tests.\nThe rest of the test methods would return with 0, they are would work. Any thoughts?</p>\n<pre><code>public class GameLogicTest {\n    private GameController gameController;\n    private GridPane gridPane = new GridPane();\n    private GameState gameState;\n\n\n    @BeforeEach\n    public void setUp() {\n        gameController = new GameController();\n        gameController.initialize();\n        gridPane = gameController.getGridPane();\n        gridPane.setGridLinesVisible(true);\n        gameState = gameController.getGameState();\n    }\n}\n</code></pre>\n<hr />\n<pre><code>public class GameController {\n\n    private GameState gameState;\n\n    /**\n     * Variable to earn the GridPane from the StickGame.fxml file.\n     */\n    @FXML\n    private GridPane gridPane;\n\n    private static final int lineWidth = 100;\n    private static final int lineThickness = 6;\n\n    @FXML\n    public GridPane getGridPane() {\n        return gridPane;\n    }\n\n    public GameState getGameState() {\n        return gameState;\n    }\n\n    public void initialize() {\n        gameState = new GameState();\n\n        gridPane.setGridLinesVisible(false);\n        final int gridHeight = 200;\n        final int gridWidth = 200;\n        gridPane.setPrefSize(gridHeight, gridWidth);\n\n\n        for (int row = 0; row &lt; GameState.BOARD_SIZE; row++) {\n            for (int col = 0; col &lt; GameState.BOARD_SIZE; col++) {\n                createVerticalLine(row, col);\n                createHorizontalLine(row, col);\n            }\n        }\n\n        for (int row = 0; row &lt; GameState.BOARD_SIZE; row++) {\n            int col = GameState.BOARD_SIZE;\n            createHorizontalLine(row, col);\n        }\n\n        for (int col = 0; col &lt; GameState.BOARD_SIZE; col++) {\n            int row = GameState.BOARD_SIZE;\n            createVerticalLine(row, col);\n        }\n        Logger.info(&quot;Grid created of lines&quot;);\n    }\n...\n\npublic void createHorizontalLine(final int row, final int col) {\n        Line line = new Line(0, 0, lineWidth, 0);\n        line.setStrokeWidth(lineThickness);\n        line.setOnMouseClicked(this::handleLineClick);\n        gridPane.add(line, row * 2 + 1, col * 2);\n    }\n\n    public void createVerticalLine(final int row, final int col) {\n        Line line = new Line(0, 0, 0, lineWidth);\n        line.setStrokeWidth(lineThickness);\n        line.setOnMouseClicked(this::handleLineClick);\n        gridPane.add(line, row * 2, col * 2 + 1);\n    }\n</code></pre>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9562,"page":430,"page_size":100}
