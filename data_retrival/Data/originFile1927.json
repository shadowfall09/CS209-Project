{"items":[{"tags":["java","precision","bigdecimal"],"comments":[{"owner":{"account_id":1136217,"reputation":14336,"user_id":1121249,"accept_rate":86,"display_name":"rkosegi"},"score":0,"creation_date":1634723492,"post_id":69643721,"comment_id":123099670,"body_markdown":"just rearrange equation as you are loosing precision with rounding `c.divide(b).multiply(a) ==&gt; 300.0`","body":"just rearrange equation as you are loosing precision with rounding <code>c.divide(b).multiply(a) ==&gt; 300.0</code>"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1634728659,"post_id":69643721,"comment_id":123101721,"body_markdown":"Or you can find and use one of the BigRational classes on github.","body":"Or you can find and use one of the BigRational classes on github."}],"answers":[{"tags":[],"owner":{"account_id":8005552,"reputation":628,"user_id":6426446,"accept_rate":78,"display_name":"bramhaag"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634725665,"creation_date":1634725304,"answer_id":69644223,"question_id":69643721,"body_markdown":"You can use the [MathContext][1] parameter in the `divide` method for this.\r\n\r\nFor example, `a.divide(b, MathContext.DECIMAL128).multiply(c);` will give you the precision you need (with an error of magnitude `1e-32`). If you do not want to lose any precision, you can use `MathContext.UNLIMITED`, but this will result in a non-terminating decimal expansion.\r\n\r\nIn your case specifically, you can also try to rewrite the equation to prevent any rounding from happening: `a / b * c = c / b * a`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/MathContext.html","title":"How to properly calculate rational by using BigDecimal","body":"<p>You can use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/MathContext.html\" rel=\"nofollow noreferrer\">MathContext</a> parameter in the <code>divide</code> method for this.</p>\n<p>For example, <code>a.divide(b, MathContext.DECIMAL128).multiply(c);</code> will give you the precision you need (with an error of magnitude <code>1e-32</code>). If you do not want to lose any precision, you can use <code>MathContext.UNLIMITED</code>, but this will result in a non-terminating decimal expansion.</p>\n<p>In your case specifically, you can also try to rewrite the equation to prevent any rounding from happening: <code>a / b * c = c / b * a</code>.</p>\n"}],"owner":{"account_id":13478640,"reputation":33,"user_id":9724673,"display_name":"mimichaelckc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":69644223,"answer_count":1,"score":2,"last_activity_date":1634725665,"creation_date":1634722979,"question_id":69643721,"body_markdown":"How can I get the correct answer when I need to use BigDecimal without losing precision.\r\n```\r\nBigDecimal a = new BigDecimal(0.5);\r\nBigDecimal b = new BigDecimal(30);\r\nBigDecimal c = new BigDecimal(18000);\r\n\r\na.divide(b).multiply(c);\r\n```\r\nHow could I get the exact 300 in this case?\r\n\r\nThanks!\r\n","title":"How to properly calculate rational by using BigDecimal","body":"<p>How can I get the correct answer when I need to use BigDecimal without losing precision.</p>\n<pre><code>BigDecimal a = new BigDecimal(0.5);\nBigDecimal b = new BigDecimal(30);\nBigDecimal c = new BigDecimal(18000);\n\na.divide(b).multiply(c);\n</code></pre>\n<p>How could I get the exact 300 in this case?</p>\n<p>Thanks!</p>\n"},{"tags":["java","or-tools"],"answers":[{"tags":[],"owner":{"account_id":7517199,"reputation":8382,"user_id":5710233,"display_name":"Mizux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634652325,"creation_date":1634652325,"answer_id":69632343,"question_id":69614300,"body_markdown":"note AddDisjunction take index not node so basically your code :\r\n```java\r\n    //No penalty in case multi-trip visit is skipped when not required\r\n    for(int i = 1; i &lt;= data.multiTrips - 1; i++) {\r\n        int fromNode = manager.indexToNode(i);\r\n        routing.addDisjunction(new long[] { fromNode }, 0);\r\n    }\r\n```\r\nis wrong you need the opposite\r\n```java\r\n    //No penalty in case multi-trip visit is skipped when not required\r\n    for(int i = 1; i &lt;= data.multiTrips - 1; i++) {\r\n        int fromIndex = manager.nodeToIndex(i);\r\n        routing.addDisjunction(new long[] { fromIndex }, 0);\r\n    }\r\n```","title":"OR tools CVRP reload using single vehicle","body":"<p>note AddDisjunction take index not node so basically your code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    //No penalty in case multi-trip visit is skipped when not required\n    for(int i = 1; i &lt;= data.multiTrips - 1; i++) {\n        int fromNode = manager.indexToNode(i);\n        routing.addDisjunction(new long[] { fromNode }, 0);\n    }\n</code></pre>\n<p>is wrong you need the opposite</p>\n<pre class=\"lang-java prettyprint-override\"><code>    //No penalty in case multi-trip visit is skipped when not required\n    for(int i = 1; i &lt;= data.multiTrips - 1; i++) {\n        int fromIndex = manager.nodeToIndex(i);\n        routing.addDisjunction(new long[] { fromIndex }, 0);\n    }\n</code></pre>\n"}],"owner":{"account_id":376881,"reputation":2025,"user_id":728630,"accept_rate":53,"display_name":"user728630"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1634725642,"creation_date":1634551869,"question_id":69614300,"body_markdown":"Following the python examples [here][1]\r\n\r\nI am trying to build the same feature in java which is - load the stuff and deliver to customers and if the next demand is more than the left over capacity then go to depot and reload. All this is happening without any time constraints, however there is only 1 vehicle in my case. The problem is that the solution is null for many cases.\r\n\r\nFor example: demand: `[0, -30, -30, -30, 17, 17, 18, 18, 18, 18]` with a vehicle capacity of 30 results into null. However, the same demand with different vehicle capacity works fine like `-18`, `36`, `48`, `96`.\r\n\r\nThe first demand is 0 coz that&#39;s the start location. \r\n\r\nHere is the code that I am using:\r\n\r\n```java\r\nfinal OrDataModel data = buildDataModel();\r\n\r\nRoutingIndexManager manager = new RoutingIndexManager(data.distanceMatrix.length, data.vehicleNumber, data.depot);\r\n\r\nRoutingModel routing = new RoutingModel(manager);\r\n\r\nfinal int transitCallbackIndex =\r\nrouting.registerTransitCallback((long fromIndex, long toIndex) -&gt; {\r\n  int fromNode = manager.indexToNode(fromIndex);\r\n  int toNode = manager.indexToNode(toIndex);\r\n  return data.distanceMatrix[fromNode][toNode];\r\n});\r\n\r\nrouting.setArcCostEvaluatorOfAllVehicles(transitCallbackIndex);\r\nrouting.addDimension(transitCallbackIndex, 0, 1000000, true, &quot;Distance&quot;);\r\nRoutingDimension distanceDimension = routing.getDimensionOrDie(&quot;Distance&quot;);\r\ndistanceDimension.setGlobalSpanCostCoefficient(100);\r\n\r\nfinal int demandCallbackIndex = routing.registerUnaryTransitCallback(\r\n  (long fromIndex) -&gt; {\r\n  // Convert from routing variable Index to user NodeIndex.\r\n  int fromNode = manager.indexToNode(fromIndex);\r\n  return data.demands[fromNode];\r\n});\r\n\r\nrouting.addDimension(demandCallbackIndex, data.vehicleCapacity, data.vehicleCapacity, true, &quot;Capacity&quot;);\r\nRoutingDimension capacityDimension = routing.getDimensionOrDie(&quot;Capacity&quot;);\r\n\r\n//No penalty in case multi-trip visit is skipped when not required\r\nfor(int i = 1; i &lt;= data.multiTrips - 1; i++) {\r\n  int fromNode = manager.indexToNode(i);\r\n  routing.addDisjunction(new long[] { fromNode }, 0);\r\n}\r\n\r\n// Setting first solution heuristic.\r\nRoutingSearchParameters searchParameters =\r\n  main.defaultRoutingSearchParameters()\r\n  .toBuilder()\r\n  .setFirstSolutionStrategy(FirstSolutionStrategy.Value.PATH_CHEAPEST_ARC)\r\n  .setLocalSearchMetaheuristic(LocalSearchMetaheuristic.Value.GUIDED_LOCAL_SEARCH)\r\n  .setTimeLimit(Duration.newBuilder().setSeconds(1).build())\r\n  .build();\r\n\r\n// Solve the problem.\r\nAssignment solution = routing.solveWithParameters(searchParameters);\r\n\r\nif(solution != null) {\r\n   printSolution(data, routing, manager, solution);\r\n} else {\r\n  System.out.print(&quot;no results&quot;);\r\n}\r\n```\r\n\r\n    private static OrDataModel buildDataModel() {\r\n        \r\n        List&lt;Long&gt; volumes = new ArrayList&lt;&gt;();\r\n        List&lt;double[]&gt; locations = new ArrayList&lt;&gt;();\r\n        readCsvFile(volumes, locations);\r\n        \r\n        double totalVolume = LCollectionUtils.sumDoubleProperty(volumes, volume -&gt; volume);\r\n        \r\n        int maxCapacity = 30;\r\n        \r\n        int multiTrips = calculateMultiTrips(totalVolume, maxCapacity);\r\n        \r\n        List&lt;double[]&gt; multiTripLocations = new ArrayList&lt;&gt;();\r\n        for(int i = 0; i &lt; multiTrips; i++) {\r\n            multiTripLocations.add(new double[] { 24.3653, 54.7136 });\r\n        }\r\n        \r\n        List&lt;double[]&gt; allLocations = new ArrayList&lt;double[]&gt;(multiTripLocations);\r\n        allLocations.addAll(locations);\r\n        double[][] matrix = new double[allLocations.size()][];\r\n        matrix = allLocations.toArray(matrix);\r\n        \r\n        long[][] distanceMatrix = buildDistanceMatrix(matrix, multiTrips);\r\n        long[][] timeMatrix = buildTimeMatrix(matrix, multiTrips);\r\n        long[] demands = fillDemands(multiTrips, matrix.length, volumes, maxCapacity);\r\n        \r\n        long[][] timeWindows = fillTimeWindow(allLocations.size(), multiTrips);\r\n        \r\n        return OrDataModel.from(matrix, distanceMatrix, timeMatrix, demands, allLocations.size(), multiTrips, maxCapacity, timeWindows, totalVolume);\r\n    }\r\n    \r\n    private static long[] fillDemands(int minimumMultiTrips, int numberOfLocations, List&lt;Long&gt; allVolumes, long vehicleCapacity) {\r\n        \r\n        long[] demands = new long[numberOfLocations];\r\n        \r\n        //first demand is at depot so 0\r\n        demands[0] = 0;\r\n        \r\n        int index;\r\n        for(index = 1; index &lt; minimumMultiTrips; index++) {\r\n            demands[index] = (long)-vehicleCapacity;\r\n        }\r\n        \r\n        for(int j = 0; j &lt; allVolumes.size(); j++) {\r\n            demands[index] = allVolumes.get(j);\r\n            index++;\r\n        }\r\n        \r\n        return demands;\r\n    }\r\n    \r\n    \r\n    private static int calculateMultiTrips(double totalVolume, int capacity) {\r\n        double remainder = totalVolume % capacity;\r\n        double quotient = totalVolume / capacity;\r\n        double multiTrip = remainder == 0 ? quotient : quotient + 1;\r\n        return (int)multiTrip;\r\n    }\r\n\r\n    private static long[][] buildDistanceMatrix(double[][] locations, int minimumMultiTrips) {\r\n\r\n        long[][] distanceData = new long[locations.length][locations.length];\r\n\r\n        for (int i = 0; i &lt; locations.length; i++) {\r\n            \r\n            LatLng fromLatLng = new LatLng().lat(locations[i][0]).lng(locations[i][1]);\r\n\r\n            for (int j = 0; j &lt; locations.length; j++) {\r\n\r\n                if (i == j) {\r\n                    distanceData[i][j] = 0;\r\n                }\r\n                \r\n                else if(i &lt; minimumMultiTrips &amp;&amp; j &lt; minimumMultiTrips) {\r\n                    distanceData[i][j] = 100000;\r\n                }\r\n                \r\n                else {\r\n                    LatLng toLatLng = new LatLng().lat(locations[j][0]).lng(locations[j][1]);\r\n                    LatLngQueryDataFetcher distanceFetcher = new HaversineDistanceFetcher(30, 1.25);\r\n                    sh.locus.pjp.server.model.distance.TimeDistancePair response = distanceFetcher.fetch(fromLatLng, toLatLng);\r\n                    distanceData[i][j] = response.getDistance();\r\n                }\r\n            }\r\n        }\r\n\r\n        return distanceData;\r\n    }\r\n\r\nThe code is simple. Reading demand, lat and long from a csv file. Hardcoded the homebase location for this sample. Built the distance and time matrix but only using distance matrix. What possibly am I missing?\r\n\r\n  [1]: https://github.com/google/or-tools/blob/master/ortools/constraint_solver/samples/cvrp_reload.py","title":"OR tools CVRP reload using single vehicle","body":"<p>Following the python examples <a href=\"https://github.com/google/or-tools/blob/master/ortools/constraint_solver/samples/cvrp_reload.py\" rel=\"nofollow noreferrer\">here</a></p>\n<p>I am trying to build the same feature in java which is - load the stuff and deliver to customers and if the next demand is more than the left over capacity then go to depot and reload. All this is happening without any time constraints, however there is only 1 vehicle in my case. The problem is that the solution is null for many cases.</p>\n<p>For example: demand: <code>[0, -30, -30, -30, 17, 17, 18, 18, 18, 18]</code> with a vehicle capacity of 30 results into null. However, the same demand with different vehicle capacity works fine like <code>-18</code>, <code>36</code>, <code>48</code>, <code>96</code>.</p>\n<p>The first demand is 0 coz that's the start location.</p>\n<p>Here is the code that I am using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final OrDataModel data = buildDataModel();\n\nRoutingIndexManager manager = new RoutingIndexManager(data.distanceMatrix.length, data.vehicleNumber, data.depot);\n\nRoutingModel routing = new RoutingModel(manager);\n\nfinal int transitCallbackIndex =\nrouting.registerTransitCallback((long fromIndex, long toIndex) -&gt; {\n  int fromNode = manager.indexToNode(fromIndex);\n  int toNode = manager.indexToNode(toIndex);\n  return data.distanceMatrix[fromNode][toNode];\n});\n\nrouting.setArcCostEvaluatorOfAllVehicles(transitCallbackIndex);\nrouting.addDimension(transitCallbackIndex, 0, 1000000, true, &quot;Distance&quot;);\nRoutingDimension distanceDimension = routing.getDimensionOrDie(&quot;Distance&quot;);\ndistanceDimension.setGlobalSpanCostCoefficient(100);\n\nfinal int demandCallbackIndex = routing.registerUnaryTransitCallback(\n  (long fromIndex) -&gt; {\n  // Convert from routing variable Index to user NodeIndex.\n  int fromNode = manager.indexToNode(fromIndex);\n  return data.demands[fromNode];\n});\n\nrouting.addDimension(demandCallbackIndex, data.vehicleCapacity, data.vehicleCapacity, true, &quot;Capacity&quot;);\nRoutingDimension capacityDimension = routing.getDimensionOrDie(&quot;Capacity&quot;);\n\n//No penalty in case multi-trip visit is skipped when not required\nfor(int i = 1; i &lt;= data.multiTrips - 1; i++) {\n  int fromNode = manager.indexToNode(i);\n  routing.addDisjunction(new long[] { fromNode }, 0);\n}\n\n// Setting first solution heuristic.\nRoutingSearchParameters searchParameters =\n  main.defaultRoutingSearchParameters()\n  .toBuilder()\n  .setFirstSolutionStrategy(FirstSolutionStrategy.Value.PATH_CHEAPEST_ARC)\n  .setLocalSearchMetaheuristic(LocalSearchMetaheuristic.Value.GUIDED_LOCAL_SEARCH)\n  .setTimeLimit(Duration.newBuilder().setSeconds(1).build())\n  .build();\n\n// Solve the problem.\nAssignment solution = routing.solveWithParameters(searchParameters);\n\nif(solution != null) {\n   printSolution(data, routing, manager, solution);\n} else {\n  System.out.print(&quot;no results&quot;);\n}\n</code></pre>\n<pre><code>private static OrDataModel buildDataModel() {\n    \n    List&lt;Long&gt; volumes = new ArrayList&lt;&gt;();\n    List&lt;double[]&gt; locations = new ArrayList&lt;&gt;();\n    readCsvFile(volumes, locations);\n    \n    double totalVolume = LCollectionUtils.sumDoubleProperty(volumes, volume -&gt; volume);\n    \n    int maxCapacity = 30;\n    \n    int multiTrips = calculateMultiTrips(totalVolume, maxCapacity);\n    \n    List&lt;double[]&gt; multiTripLocations = new ArrayList&lt;&gt;();\n    for(int i = 0; i &lt; multiTrips; i++) {\n        multiTripLocations.add(new double[] { 24.3653, 54.7136 });\n    }\n    \n    List&lt;double[]&gt; allLocations = new ArrayList&lt;double[]&gt;(multiTripLocations);\n    allLocations.addAll(locations);\n    double[][] matrix = new double[allLocations.size()][];\n    matrix = allLocations.toArray(matrix);\n    \n    long[][] distanceMatrix = buildDistanceMatrix(matrix, multiTrips);\n    long[][] timeMatrix = buildTimeMatrix(matrix, multiTrips);\n    long[] demands = fillDemands(multiTrips, matrix.length, volumes, maxCapacity);\n    \n    long[][] timeWindows = fillTimeWindow(allLocations.size(), multiTrips);\n    \n    return OrDataModel.from(matrix, distanceMatrix, timeMatrix, demands, allLocations.size(), multiTrips, maxCapacity, timeWindows, totalVolume);\n}\n\nprivate static long[] fillDemands(int minimumMultiTrips, int numberOfLocations, List&lt;Long&gt; allVolumes, long vehicleCapacity) {\n    \n    long[] demands = new long[numberOfLocations];\n    \n    //first demand is at depot so 0\n    demands[0] = 0;\n    \n    int index;\n    for(index = 1; index &lt; minimumMultiTrips; index++) {\n        demands[index] = (long)-vehicleCapacity;\n    }\n    \n    for(int j = 0; j &lt; allVolumes.size(); j++) {\n        demands[index] = allVolumes.get(j);\n        index++;\n    }\n    \n    return demands;\n}\n\n\nprivate static int calculateMultiTrips(double totalVolume, int capacity) {\n    double remainder = totalVolume % capacity;\n    double quotient = totalVolume / capacity;\n    double multiTrip = remainder == 0 ? quotient : quotient + 1;\n    return (int)multiTrip;\n}\n\nprivate static long[][] buildDistanceMatrix(double[][] locations, int minimumMultiTrips) {\n\n    long[][] distanceData = new long[locations.length][locations.length];\n\n    for (int i = 0; i &lt; locations.length; i++) {\n        \n        LatLng fromLatLng = new LatLng().lat(locations[i][0]).lng(locations[i][1]);\n\n        for (int j = 0; j &lt; locations.length; j++) {\n\n            if (i == j) {\n                distanceData[i][j] = 0;\n            }\n            \n            else if(i &lt; minimumMultiTrips &amp;&amp; j &lt; minimumMultiTrips) {\n                distanceData[i][j] = 100000;\n            }\n            \n            else {\n                LatLng toLatLng = new LatLng().lat(locations[j][0]).lng(locations[j][1]);\n                LatLngQueryDataFetcher distanceFetcher = new HaversineDistanceFetcher(30, 1.25);\n                sh.locus.pjp.server.model.distance.TimeDistancePair response = distanceFetcher.fetch(fromLatLng, toLatLng);\n                distanceData[i][j] = response.getDistance();\n            }\n        }\n    }\n\n    return distanceData;\n}\n</code></pre>\n<p>The code is simple. Reading demand, lat and long from a csv file. Hardcoded the homebase location for this sample. Built the distance and time matrix but only using distance matrix. What possibly am I missing?</p>\n"},{"tags":["java","asynchronous","concurrency","completable-future"],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634725242,"creation_date":1634725242,"answer_id":69644206,"question_id":69591166,"body_markdown":"```\r\n    CompletableFuture&lt;?&gt;[] responses = requests.stream()\r\n            .map(request -&gt; client.sendAsync(request, HttpResponse.BodyHandlers.ofString())\r\n                    .thenApply(HttpResponse::body)\r\n                    .exceptionally(e -&gt; &quot;Error: &quot; + e.getMessage())\r\n                    .thenAccept(llll::add))\r\n            .toArray(CompletableFuture&lt;?&gt;[]::new);\r\n```\r\n\r\nThis block of code takes all of your `HttpRequest` objects, calls `sendAsync()` on them, and then gives each of them some tasks to do after completing their respective call. Those tasks are the `thenApply()`, `exceptionally()`, and `thenAccept()`.\r\n\r\nThe issue comes when you call these 2 lines.\r\n\r\n```\r\nCompletableFuture.allOf(responses).join();\r\n\r\nllll.stream().forEach(System.out::println);\r\n```\r\n\r\nThe `join()` does exactly what you would expect - block the thread and wait for all the requests to finish and receive their responses. More specifically, the `join()` will not let the code continue until each of the `HttpRequest` objects has at least reached the `client.sendAsync()` line.\r\n\r\nHowever, that&#39;s exactly the problem - the code hasn&#39;t had a chance to ***go past*** `client.sendAsync`, which means that it may or may not have enough time to be added to your list `llll`. Remember, being added to that list is one of the tasks we gave each `HttpResponse` object, but depending on how things run, it may or may not be fast enough to add the response to `llll` before we print the contents of `llll`.\r\n\r\nThis is why your solution is inconsistent - you have a [race condition][1]. If you wish to avoid your race condition, you must use the `collect(Collectors.toList())` function to store all of your responses into `llll`, and then you must replace your `CompletableFurure.allOf().join()` with individual calls to `join()` as part of a `CompletionStage`. Here is an example.\r\n\r\n```\r\nimport java.net.http.HttpClient;\r\nimport java.net.http.HttpResponse;\r\nimport java.net.http.HttpRequest;\r\nimport java.net.URI;\r\nimport java.time.Duration;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.concurrent.CompletableFuture;\r\nimport java.util.concurrent.CompletionException;\r\nimport java.util.concurrent.ExecutionException;\r\nimport java.util.stream.Collectors;\r\n\r\nclass HelloWorld {\r\n\r\n   private static void concurrentCalls(List&lt;String&gt; paths) {\r\n      var client = HttpClient.newHttpClient();\r\n   \r\n      List&lt;HttpRequest&gt; requests = paths.stream()\r\n               .map(URI::create)\r\n               .map(uri -&gt; HttpRequest.newBuilder(uri).GET().timeout(Duration.ofSeconds(20)).build())\r\n               .collect(Collectors.toList());\r\n   \r\n      List&lt;CompletableFuture&lt;HttpResponse&lt;String&gt;&gt;&gt; inProgressResponses = requests.stream()\r\n               .map(request -&gt; client.sendAsync(request, HttpResponse.BodyHandlers.ofString()))\r\n               .collect(Collectors.toList());\r\n               \r\n      List&lt;String&gt; completedResponses = inProgressResponses.stream()\r\n            .map(response -&gt; response\r\n                  .thenApply(HttpResponse::body)\r\n                  .exceptionally(e -&gt; &quot;Error: &quot; + e.getMessage())\r\n                  .join())\r\n            .collect(Collectors.toList())\r\n            ;\r\n      \r\n      completedResponses.stream().forEach(System.out::println);\r\n      \r\n   }\r\n\r\n   public static void main(String[] args) {\r\n      List&lt;String&gt; listOfUrls = new ArrayList&lt;&gt;();\r\n      listOfUrls.add(&quot;https://postman-echo.com/get?foo1=bar1&amp;foo2=bar2&quot;);\r\n      listOfUrls.add(&quot;https://postman-echo.com/response-headers?foo1=bar1&amp;foo2=bar2&quot;);\r\n      concurrentCalls(listOfUrls);\r\n   }\r\n\r\n}\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Race_condition#Example","title":"Issue with CompletableFuture - does not wait for all URLs to be called","body":"<pre><code>    CompletableFuture&lt;?&gt;[] responses = requests.stream()\n            .map(request -&gt; client.sendAsync(request, HttpResponse.BodyHandlers.ofString())\n                    .thenApply(HttpResponse::body)\n                    .exceptionally(e -&gt; &quot;Error: &quot; + e.getMessage())\n                    .thenAccept(llll::add))\n            .toArray(CompletableFuture&lt;?&gt;[]::new);\n</code></pre>\n<p>This block of code takes all of your <code>HttpRequest</code> objects, calls <code>sendAsync()</code> on them, and then gives each of them some tasks to do after completing their respective call. Those tasks are the <code>thenApply()</code>, <code>exceptionally()</code>, and <code>thenAccept()</code>.</p>\n<p>The issue comes when you call these 2 lines.</p>\n<pre><code>CompletableFuture.allOf(responses).join();\n\nllll.stream().forEach(System.out::println);\n</code></pre>\n<p>The <code>join()</code> does exactly what you would expect - block the thread and wait for all the requests to finish and receive their responses. More specifically, the <code>join()</code> will not let the code continue until each of the <code>HttpRequest</code> objects has at least reached the <code>client.sendAsync()</code> line.</p>\n<p>However, that's exactly the problem - the code hasn't had a chance to <em><strong>go past</strong></em> <code>client.sendAsync</code>, which means that it may or may not have enough time to be added to your list <code>llll</code>. Remember, being added to that list is one of the tasks we gave each <code>HttpResponse</code> object, but depending on how things run, it may or may not be fast enough to add the response to <code>llll</code> before we print the contents of <code>llll</code>.</p>\n<p>This is why your solution is inconsistent - you have a <a href=\"https://en.wikipedia.org/wiki/Race_condition#Example\" rel=\"nofollow noreferrer\">race condition</a>. If you wish to avoid your race condition, you must use the <code>collect(Collectors.toList())</code> function to store all of your responses into <code>llll</code>, and then you must replace your <code>CompletableFurure.allOf().join()</code> with individual calls to <code>join()</code> as part of a <code>CompletionStage</code>. Here is an example.</p>\n<pre><code>import java.net.http.HttpClient;\nimport java.net.http.HttpResponse;\nimport java.net.http.HttpRequest;\nimport java.net.URI;\nimport java.time.Duration;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.CompletionException;\nimport java.util.concurrent.ExecutionException;\nimport java.util.stream.Collectors;\n\nclass HelloWorld {\n\n   private static void concurrentCalls(List&lt;String&gt; paths) {\n      var client = HttpClient.newHttpClient();\n   \n      List&lt;HttpRequest&gt; requests = paths.stream()\n               .map(URI::create)\n               .map(uri -&gt; HttpRequest.newBuilder(uri).GET().timeout(Duration.ofSeconds(20)).build())\n               .collect(Collectors.toList());\n   \n      List&lt;CompletableFuture&lt;HttpResponse&lt;String&gt;&gt;&gt; inProgressResponses = requests.stream()\n               .map(request -&gt; client.sendAsync(request, HttpResponse.BodyHandlers.ofString()))\n               .collect(Collectors.toList());\n               \n      List&lt;String&gt; completedResponses = inProgressResponses.stream()\n            .map(response -&gt; response\n                  .thenApply(HttpResponse::body)\n                  .exceptionally(e -&gt; &quot;Error: &quot; + e.getMessage())\n                  .join())\n            .collect(Collectors.toList())\n            ;\n      \n      completedResponses.stream().forEach(System.out::println);\n      \n   }\n\n   public static void main(String[] args) {\n      List&lt;String&gt; listOfUrls = new ArrayList&lt;&gt;();\n      listOfUrls.add(&quot;https://postman-echo.com/get?foo1=bar1&amp;foo2=bar2&quot;);\n      listOfUrls.add(&quot;https://postman-echo.com/response-headers?foo1=bar1&amp;foo2=bar2&quot;);\n      concurrentCalls(listOfUrls);\n   }\n\n}\n</code></pre>\n"}],"owner":{"account_id":23046551,"reputation":29,"user_id":17164037,"display_name":"Ionutz Asaftei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":903,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1634725242,"creation_date":1634336306,"question_id":69591166,"body_markdown":"Regarding concurrent async calls, the problem i have is that, after consecutive runs, the code does not wait until both of calls are finished and with a response included. Sometimes is executing both, sometimes only one of the URLs\r\n\r\nWhat i am looking to achieve is:\r\n\r\na) to make CompletableFutures to wait until all responses are received\r\n\r\nb) to extract in a List&lt;HttpResponse&gt; all the responses of provided calls\r\n\r\nc) to be able to categorize them by a key-value pair (ex: request1, request2, request3WithInvalidData etc) and after completion to iterate over the List&lt;HttpResponse&gt; and extract what response and data per each request (statusCode, body etc) and to further make assertions.\r\n\r\nIf anybody can help me, it would be highly appreciated ! I&#39;m new to multithreading and it&#39;s hard to grasp. A little help and explanation of solution would help me a lot !\r\n\r\n\r\nThank you ! (below is my code)\r\n\r\n    class HelloWorld {\r\n\r\n    private static void concurrentCalls(List&lt;String&gt; paths) {\r\n        var client = HttpClient.newHttpClient();\r\n\r\n        List&lt;HttpRequest&gt; requests = paths.stream()\r\n                .map(URI::create)\r\n                .map(uri -&gt; HttpRequest.newBuilder(uri).GET().timeout(Duration.ofSeconds(20)).build())\r\n                .collect(Collectors.toList());\r\n\r\n        List&lt;String&gt; llll = new ArrayList&lt;&gt;();\r\n\r\n        CompletableFuture&lt;?&gt;[] responses = requests.stream()\r\n                .map(request -&gt; client.sendAsync(request, HttpResponse.BodyHandlers.ofString())\r\n                        .thenApply(HttpResponse::body)\r\n                        .exceptionally(e -&gt; &quot;Error: &quot; + e.getMessage())\r\n                        .thenAccept(llll::add))\r\n                .toArray(CompletableFuture&lt;?&gt;[]::new);\r\n\r\n       \r\n        CompletableFuture.allOf(responses).join();\r\n\r\n        llll.stream().forEach(System.out::println);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; listOfUrls = new ArrayList&lt;&gt;();\r\n        listOfUrls.add(&quot;https://postman-echo.com/get?foo1=bar1&amp;foo2=bar2&quot;);\r\n        listOfUrls.add(&quot;https://postman-echo.com/response-headers?foo1=bar1&amp;foo2=bar2&quot;);\r\n        concurrentCalls(listOfUrls);\r\n    }\r\n","title":"Issue with CompletableFuture - does not wait for all URLs to be called","body":"<p>Regarding concurrent async calls, the problem i have is that, after consecutive runs, the code does not wait until both of calls are finished and with a response included. Sometimes is executing both, sometimes only one of the URLs</p>\n<p>What i am looking to achieve is:</p>\n<p>a) to make CompletableFutures to wait until all responses are received</p>\n<p>b) to extract in a List all the responses of provided calls</p>\n<p>c) to be able to categorize them by a key-value pair (ex: request1, request2, request3WithInvalidData etc) and after completion to iterate over the List and extract what response and data per each request (statusCode, body etc) and to further make assertions.</p>\n<p>If anybody can help me, it would be highly appreciated ! I'm new to multithreading and it's hard to grasp. A little help and explanation of solution would help me a lot !</p>\n<p>Thank you ! (below is my code)</p>\n<pre><code>class HelloWorld {\n\nprivate static void concurrentCalls(List&lt;String&gt; paths) {\n    var client = HttpClient.newHttpClient();\n\n    List&lt;HttpRequest&gt; requests = paths.stream()\n            .map(URI::create)\n            .map(uri -&gt; HttpRequest.newBuilder(uri).GET().timeout(Duration.ofSeconds(20)).build())\n            .collect(Collectors.toList());\n\n    List&lt;String&gt; llll = new ArrayList&lt;&gt;();\n\n    CompletableFuture&lt;?&gt;[] responses = requests.stream()\n            .map(request -&gt; client.sendAsync(request, HttpResponse.BodyHandlers.ofString())\n                    .thenApply(HttpResponse::body)\n                    .exceptionally(e -&gt; &quot;Error: &quot; + e.getMessage())\n                    .thenAccept(llll::add))\n            .toArray(CompletableFuture&lt;?&gt;[]::new);\n\n   \n    CompletableFuture.allOf(responses).join();\n\n    llll.stream().forEach(System.out::println);\n}\n\npublic static void main(String[] args) {\n    List&lt;String&gt; listOfUrls = new ArrayList&lt;&gt;();\n    listOfUrls.add(&quot;https://postman-echo.com/get?foo1=bar1&amp;foo2=bar2&quot;);\n    listOfUrls.add(&quot;https://postman-echo.com/response-headers?foo1=bar1&amp;foo2=bar2&quot;);\n    concurrentCalls(listOfUrls);\n}\n</code></pre>\n"},{"tags":["java","file","url"],"comments":[{"owner":{"account_id":250544,"reputation":7921,"user_id":527333,"accept_rate":60,"display_name":"btiernay"},"score":2,"creation_date":1323694857,"post_id":8474694,"comment_id":10481907,"body_markdown":"Shouldn&#39;t you be prefixing the file path with file:// ?","body":"Shouldn&#39;t you be prefixing the file path with file:// ?"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1323695009,"post_id":8474694,"comment_id":10481944,"body_markdown":"It thinks the `C:` its the protocol.  BTW: You can&#39;t use plain \\ you need \\\\ or `/`","body":"It thinks the <code>C:</code> its the protocol.  BTW: You can&#39;t use plain \\ you need \\\\ or <code>&#47;</code>"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1323695560,"post_id":8474694,"comment_id":10482094,"body_markdown":"And again you are posting uncompilable code snippets!  What is it about &quot;`String imageUrl = &quot;C:\\Users\\MyUser\\image.jpg&quot;;` will not compile&quot;, do you *not* understand?!?","body":"And again you are posting uncompilable code snippets!  What is it about &quot;<code>String imageUrl = &quot;C:\\Users\\MyUser\\image.jpg&quot;;</code> will not compile&quot;, do you <i>not</i> understand?!?"}],"answers":[{"tags":[],"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1323694869,"creation_date":1323694869,"answer_id":8474715,"question_id":8474694,"body_markdown":"Try with\r\n\r\n    String imageUrl = &quot;file:///C:/Users/MyUser/image.jpg&quot;;\r\n\r\n","title":"Java URL: Unknown Protocol &quot;C&quot;","body":"<p>Try with</p>\n\n<pre><code>String imageUrl = \"file:///C:/Users/MyUser/image.jpg\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30922,"reputation":8920,"user_id":84619,"accept_rate":100,"display_name":"Andy"},"down_vote_count":0,"up_vote_count":99,"is_accepted":true,"score":99,"last_activity_date":1323695459,"creation_date":1323694893,"answer_id":8474725,"question_id":8474694,"body_markdown":"You need to turn the path to the image.jpg file into a [file:// URL][1], like this:\r\n\r\n    String imageUrl = &quot;file:///C:/Users/MyUser/image.jpg&quot;;\r\n\r\nOtherwise it interprets the C as the URL protocol.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/File_URI_scheme","title":"Java URL: Unknown Protocol &quot;C&quot;","body":"<p>You need to turn the path to the image.jpg file into a <a href=\"http://en.wikipedia.org/wiki/File_URI_scheme\" rel=\"noreferrer\">file:// URL</a>, like this:</p>\n\n<pre><code>String imageUrl = \"file:///C:/Users/MyUser/image.jpg\";\n</code></pre>\n\n<p>Otherwise it interprets the C as the URL protocol.</p>\n"},{"tags":[],"owner":{"account_id":1091259,"reputation":3399,"user_id":1085861,"display_name":"korifey"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1323694905,"creation_date":1323694905,"answer_id":8474730,"question_id":8474694,"body_markdown":"Try this\r\n\r\n    try {\r\n        String imageUrl = &quot;file:///C:/Users/MyUser/image.jpg&quot;;\r\n        Jpeg image = new Jpeg(new URL(imageUrl));\r\n    } catch(Exception exc) {\r\n        System.out.println(exc.getMessage());\r\n    }","title":"Java URL: Unknown Protocol &quot;C&quot;","body":"<p>Try this</p>\n\n<pre><code>try {\n    String imageUrl = \"file:///C:/Users/MyUser/image.jpg\";\n    Jpeg image = new Jpeg(new URL(imageUrl));\n} catch(Exception exc) {\n    System.out.println(exc.getMessage());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15309472,"reputation":1,"user_id":11045195,"display_name":"Nunes"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1551671738,"creation_date":1551655118,"answer_id":54974790,"question_id":8474694,"body_markdown":"Searching the file with its directory and adding in the image to assign to the ImageView\r\n    \r\n    File file = new File(&quot;F:/a.jpg&quot;);\r\n    Image image = new Image(arquivo.toURI().toString()); //here is magic happens\r\n    imageView.setImage(image);\r\n\r\n","title":"Java URL: Unknown Protocol &quot;C&quot;","body":"<p>Searching the file with its directory and adding in the image to assign to the ImageView</p>\n\n<pre><code>File file = new File(\"F:/a.jpg\");\nImage image = new Image(arquivo.toURI().toString()); //here is magic happens\nimageView.setImage(image);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19114960,"reputation":508,"user_id":14438633,"display_name":"Gilad Dahan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634725145,"creation_date":1634725145,"answer_id":69644182,"question_id":8474694,"body_markdown":"In my case the issue was that I was having &quot;%&quot; in my file name. Once I changed it, the file was loaded successfully. So I guess special characters are not allowed in file names, at least in windows.","title":"Java URL: Unknown Protocol &quot;C&quot;","body":"<p>In my case the issue was that I was having &quot;%&quot; in my file name. Once I changed it, the file was loaded successfully. So I guess special characters are not allowed in file names, at least in windows.</p>\n"}],"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64151,"favorite_count":0,"down_vote_count":1,"up_vote_count":30,"accepted_answer_id":8474725,"answer_count":5,"score":29,"last_activity_date":1634725145,"creation_date":1323694763,"question_id":8474694,"body_markdown":"I know there are *similar* questions to this one on SO (like [this](https://stackoverflow.com/questions/7243550/unknown-protocol-c-jdom-a-saxbuilder) one), however, after reading through the list of &quot;Questions with similar titles&quot;, I still feel strongly that this is unique.\r\n\r\nI am working with the [iText](http://itextpdf.com/) library to generate PDFs from inside a Swing application. iText&#39;s `Jpeg` class requires a [`URL`](http://docs.oracle.com/javase/6/docs/api/java/net/URL.html) in its constructor to locate an image/jpg that you want to add to the PDF file.\r\n\r\nWhen I set this `URL` to the absolute file path of my JPG file, I get a `MalformedURLException` claiming **unknown protocol: c** (&quot;c&quot; being the `C:\\` drive on my local disk).\r\n\r\nIs there any hack/circumvention to this, or do I *have* to host this JPG somewhere and have the `URL` find it over the net?  Here is the code that is failing:\r\n\r\n    try {\r\n        String imageUrl = &quot;C:\\Users\\MyUser\\image.jpg&quot;;\r\n        Jpeg image = new Jpeg(new URL(imageUrl));\r\n    } catch(Exception exc) {\r\n        System.out.println(exc.getMessage());\r\n    }\r\n\r\n**Please note:** The `URL` does properly escape the string (thus &quot;\\&quot; are converted to &quot;\\ \\&quot;, etc.).\r\n\r\nThanks in advance!","title":"Java URL: Unknown Protocol &quot;C&quot;","body":"<p>I know there are <em>similar</em> questions to this one on SO (like <a href=\"https://stackoverflow.com/questions/7243550/unknown-protocol-c-jdom-a-saxbuilder\">this</a> one), however, after reading through the list of \"Questions with similar titles\", I still feel strongly that this is unique.</p>\n\n<p>I am working with the <a href=\"http://itextpdf.com/\" rel=\"noreferrer\">iText</a> library to generate PDFs from inside a Swing application. iText's <code>Jpeg</code> class requires a <a href=\"http://docs.oracle.com/javase/6/docs/api/java/net/URL.html\" rel=\"noreferrer\"><code>URL</code></a> in its constructor to locate an image/jpg that you want to add to the PDF file.</p>\n\n<p>When I set this <code>URL</code> to the absolute file path of my JPG file, I get a <code>MalformedURLException</code> claiming <strong>unknown protocol: c</strong> (\"c\" being the <code>C:\\</code> drive on my local disk).</p>\n\n<p>Is there any hack/circumvention to this, or do I <em>have</em> to host this JPG somewhere and have the <code>URL</code> find it over the net?  Here is the code that is failing:</p>\n\n<pre><code>try {\n    String imageUrl = \"C:\\Users\\MyUser\\image.jpg\";\n    Jpeg image = new Jpeg(new URL(imageUrl));\n} catch(Exception exc) {\n    System.out.println(exc.getMessage());\n}\n</code></pre>\n\n<p><strong>Please note:</strong> The <code>URL</code> does properly escape the string (thus \"\\\" are converted to \"\\ \\\", etc.).</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":1148924,"reputation":839,"user_id":1131057,"accept_rate":75,"display_name":"crig"},"score":0,"creation_date":1627315556,"post_id":68532948,"comment_id":121117842,"body_markdown":"Your post does not really say what the problem you are trying to solve is. Are you receiving an error?   It looks like you are missing the Id member in your MyEntity class.","body":"Your post does not really say what the problem you are trying to solve is. Are you receiving an error?   It looks like you are missing the Id member in your MyEntity class."},{"owner":{"account_id":1431000,"reputation":158,"user_id":1353431,"accept_rate":100,"display_name":"Arun"},"score":0,"creation_date":1627371087,"post_id":68532948,"comment_id":121131085,"body_markdown":"Hi @crig, I have added more detail in the post. I am trying to improve performance using batch but it seems like it&#39;s not working and I am also not getting any error,","body":"Hi @crig, I have added more detail in the post. I am trying to improve performance using batch but it seems like it&#39;s not working and I am also not getting any error,"}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627374432,"creation_date":1627374432,"answer_id":68541409,"question_id":68532948,"body_markdown":"Just because you see the queries in the database logs does not mean that batching does not work. JDBC batching is a protocol level optimization and is dependent on the driver support. A JDBC driver may implement this by issuing individual statements. The optimization usually comes from reusing the same server handle though and sending values in batches. The gain might be too small for 1000 elements though. You should consult your driver vendor about this if you do not see any improvements. You are not showing what kind of queries are logged though, are you sure that no other statements are executed in between the update statements?","title":"Spring boot hibernate/jpa batch update not working","body":"<p>Just because you see the queries in the database logs does not mean that batching does not work. JDBC batching is a protocol level optimization and is dependent on the driver support. A JDBC driver may implement this by issuing individual statements. The optimization usually comes from reusing the same server handle though and sending values in batches. The gain might be too small for 1000 elements though. You should consult your driver vendor about this if you do not see any improvements. You are not showing what kind of queries are logged though, are you sure that no other statements are executed in between the update statements?</p>\n"},{"tags":[],"owner":{"account_id":6470949,"reputation":382,"user_id":5011127,"accept_rate":0,"display_name":"jpl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634724751,"creation_date":1634724751,"answer_id":69644109,"question_id":68532948,"body_markdown":"Hibernate disables insert batching at the JDBC level transparently if you use an identity identifier generator.\r\n\r\n&gt; https://docs.jboss.org/hibernate/core/4.3/devguide/en-US/html_single/#batch","title":"Spring boot hibernate/jpa batch update not working","body":"<p>Hibernate disables insert batching at the JDBC level transparently if you use an identity identifier generator.</p>\n<blockquote>\n<p><a href=\"https://docs.jboss.org/hibernate/core/4.3/devguide/en-US/html_single/#batch\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/core/4.3/devguide/en-US/html_single/#batch</a></p>\n</blockquote>\n"}],"owner":{"account_id":1431000,"reputation":158,"user_id":1353431,"accept_rate":100,"display_name":"Arun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634724751,"creation_date":1627314750,"question_id":68532948,"body_markdown":"**application property**\r\n\r\n    spring.datasource.url=jdbc:as400://localhost/\r\n    \r\n    spring.jpa.properties.hibernate.jdbc.batch_size = 30\r\n    spring.jpa.properties.hibernate.order_updates = true\r\n    spring.jpa.properties.hibernate.batch_versioned_data = true\r\n\r\n**Entity -**\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @Entity(name = &quot;entity&quot;)\r\n    public class MyEntity {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;ID&quot;, nullable = false);\r\n    \r\n       @ManyToOne\r\n       @JoinColumn(name = &quot;HDR_ID&quot;, referencedColumnName = &quot;HDR_ID&quot;)\r\n       @JsonIgnore\r\n       private Header header;\r\n    \r\n       @ManyToOne\r\n       @JoinColumn(name = &quot;STS_ID&quot;, referencedColumnName = &quot;STS_ID&quot;)\r\n       private Status status;\r\n    }\r\n\r\n**Service -**\r\n\r\n    this.myRepository.saveAll(MyEntitylist);\r\n\r\nGradle -\r\n\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-elasticsearch&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\r\n\r\nI am using Spring boot 2.3.5.RELEASE. \r\nI am trying to update bulk records using hibernate batch but it seems like it&#39;s not working. I am not getting any errors, Records are updating in DB without any problem but there is no performance improvement. Actually, I could not find any difference with or without Hibernate batch process. I checked with logs and their query is logging for every single record, for example, if I try to save 1000 records then there will be 1000 update queries in logs.\r\n\r\nI am expecting fewer update queries after batch, depends on batch size and it should take comparatively less time than without batch queries.\r\n\r\n\r\n\r\nIs there any configuration issue in my code?\r\nIs there any option like reWriteBatchedInserts for jdbc:as400  to show a multi-row insert query?","title":"Spring boot hibernate/jpa batch update not working","body":"<p><strong>application property</strong></p>\n<pre><code>spring.datasource.url=jdbc:as400://localhost/\n\nspring.jpa.properties.hibernate.jdbc.batch_size = 30\nspring.jpa.properties.hibernate.order_updates = true\nspring.jpa.properties.hibernate.batch_versioned_data = true\n</code></pre>\n<p><strong>Entity -</strong></p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Entity(name = &quot;entity&quot;)\npublic class MyEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;ID&quot;, nullable = false);\n\n   @ManyToOne\n   @JoinColumn(name = &quot;HDR_ID&quot;, referencedColumnName = &quot;HDR_ID&quot;)\n   @JsonIgnore\n   private Header header;\n\n   @ManyToOne\n   @JoinColumn(name = &quot;STS_ID&quot;, referencedColumnName = &quot;STS_ID&quot;)\n   private Status status;\n}\n</code></pre>\n<p><strong>Service -</strong></p>\n<pre><code>this.myRepository.saveAll(MyEntitylist);\n</code></pre>\n<p>Gradle -</p>\n<pre><code>    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-data-elasticsearch'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n</code></pre>\n<p>I am using Spring boot 2.3.5.RELEASE.\nI am trying to update bulk records using hibernate batch but it seems like it's not working. I am not getting any errors, Records are updating in DB without any problem but there is no performance improvement. Actually, I could not find any difference with or without Hibernate batch process. I checked with logs and their query is logging for every single record, for example, if I try to save 1000 records then there will be 1000 update queries in logs.</p>\n<p>I am expecting fewer update queries after batch, depends on batch size and it should take comparatively less time than without batch queries.</p>\n<p>Is there any configuration issue in my code?\nIs there any option like reWriteBatchedInserts for jdbc:as400  to show a multi-row insert query?</p>\n"},{"tags":["java","sql","spring","postgresql","spring-mvc"],"comments":[{"owner":{"display_name":"user9841721"},"score":1,"creation_date":1634722570,"post_id":69643566,"comment_id":123099261,"body_markdown":"you can use `&quot;Banana, Apple, Orange&quot;.split(&quot;,&quot;)` so you get an array of those 3 strings and then you can do a `.trim()` to each String to remove spaces","body":"you can use <code>&quot;Banana, Apple, Orange&quot;.split(&quot;,&quot;)</code> so you get an array of those 3 strings and then you can do a <code>.trim()</code> to each String to remove spaces"},{"owner":{"account_id":23088986,"reputation":11,"user_id":17200118,"display_name":"Daniel Ford"},"score":0,"creation_date":1634722740,"post_id":69643566,"comment_id":123099335,"body_markdown":"But my setFruit is String, I get an error when I try to do this: inputParameters.setFruit(fruits.split(&quot;,&quot;); `fruits` object contain the `&quot;Banana, Apple, Orange&quot;`","body":"But my setFruit is String, I get an error when I try to do this: inputParameters.setFruit(fruits.split(&quot;,&quot;); <code>fruits</code> object contain the <code>&quot;Banana, Apple, Orange&quot;</code>"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1634723172,"post_id":69643566,"comment_id":123099512,"body_markdown":"What type does `inputParameters.getFruit()` actually return?","body":"What type does <code>inputParameters.getFruit()</code> actually return?"},{"owner":{"account_id":23088986,"reputation":11,"user_id":17200118,"display_name":"Daniel Ford"},"score":0,"creation_date":1634723333,"post_id":69643566,"comment_id":123099590,"body_markdown":"`inputParameters.getFruit()` returns a String. What I am trying to achieve is that my SQL query above should accept the 3 data &#39;Banana&#39;, Apple&#39;, &#39;Orange&#39; rather than it being only one String","body":"<code>inputParameters.getFruit()</code> returns a String. What I am trying to achieve is that my SQL query above should accept the 3 data &#39;Banana&#39;, Apple&#39;, &#39;Orange&#39; rather than it being only one String"},{"owner":{"display_name":"user9841721"},"score":0,"creation_date":1634727813,"post_id":69643566,"comment_id":123101413,"body_markdown":"with the data you get from the split ( `String[]`) you have to do a String template if that&#39;s what you wish, you have each fruit on 0,1, 2 indexes","body":"with the data you get from the split ( <code>String[]</code>) you have to do a String template if that&#39;s what you wish, you have each fruit on 0,1, 2 indexes"}],"answers":[{"tags":[],"owner":{"account_id":9735990,"reputation":168,"user_id":7219217,"display_name":"gantoin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634724471,"creation_date":1634723338,"answer_id":69643811,"question_id":69643566,"body_markdown":"I think this could help you :&#160;\r\n\r\n```java\r\nString oneStringFruit = &quot;Banana, Apple, Orange&quot;;\r\nStringBuilder sql = new StringBuilder(&quot;SELECT * FROM fruit f where f.name IN (&quot;);\r\nString[] fruits = oneStringFruit.split(&quot;,&quot;);\r\n\r\nSet.of(fruits).forEach(fruit -&gt; sql.append(&quot;&#39;&quot;).append(fruit.trim()).append(&quot;&#39;, &quot;));\r\nsql.replace(sql.lastIndexOf(&quot;,&quot;), sql.lastIndexOf(&quot;,&quot;) + 1, &quot;)&quot;);\r\nSystem.out.println(sql);\r\n```\r\n\r\nEnjoy!","title":"Convert a String to pass multiple values in SQL WHERE IN clause in Java","body":"<p>I think this could help you : </p>\n<pre class=\"lang-java prettyprint-override\"><code>String oneStringFruit = &quot;Banana, Apple, Orange&quot;;\nStringBuilder sql = new StringBuilder(&quot;SELECT * FROM fruit f where f.name IN (&quot;);\nString[] fruits = oneStringFruit.split(&quot;,&quot;);\n\nSet.of(fruits).forEach(fruit -&gt; sql.append(&quot;'&quot;).append(fruit.trim()).append(&quot;', &quot;));\nsql.replace(sql.lastIndexOf(&quot;,&quot;), sql.lastIndexOf(&quot;,&quot;) + 1, &quot;)&quot;);\nSystem.out.println(sql);\n</code></pre>\n<p>Enjoy!</p>\n"},{"tags":[],"owner":{"account_id":17588583,"reputation":611,"user_id":12760895,"display_name":"cogitoergosum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634723936,"creation_date":1634723936,"answer_id":69643928,"question_id":69643566,"body_markdown":"The simplest way to do this is passing the whole `&quot;Banana, Apple, Orange&quot;` string to postgres and letting postgres explode the string via string_to_array and unnest():\r\n\r\n    StringBuilder sql = new StringBuilder(\r\n    &quot;SELECT * FROM fruit f where &quot;);\r\n\r\n    if (!inputParameters.getFruit().isEmpty()) {\r\n      sql.append(&quot;f.name IN (SELECT UNNEST(string_to_array(:fruit, &#39;, &#39;)) &quot;);\r\n      parameterSource.addValue(&quot;fruit&quot;, inputParameters.getFruit());\r\n      ) \r\n    }\r\n\r\n`string_to_array` will explode the `:fruit` string into an array, and `UNNEST` will transform that array into a recordset suitable for IN","title":"Convert a String to pass multiple values in SQL WHERE IN clause in Java","body":"<p>The simplest way to do this is passing the whole <code>&quot;Banana, Apple, Orange&quot;</code> string to postgres and letting postgres explode the string via string_to_array and unnest():</p>\n<pre><code>StringBuilder sql = new StringBuilder(\n&quot;SELECT * FROM fruit f where &quot;);\n\nif (!inputParameters.getFruit().isEmpty()) {\n  sql.append(&quot;f.name IN (SELECT UNNEST(string_to_array(:fruit, ', ')) &quot;);\n  parameterSource.addValue(&quot;fruit&quot;, inputParameters.getFruit());\n  ) \n}\n</code></pre>\n<p><code>string_to_array</code> will explode the <code>:fruit</code> string into an array, and <code>UNNEST</code> will transform that array into a recordset suitable for IN</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634724136,"creation_date":1634724136,"answer_id":69643969,"question_id":69643566,"body_markdown":"In SQL, string literals need to be enclosed in single quote characters. Hence you want to replace `:fruit` (in the text of your SQL query) with the following\r\n```none\r\n&#39;Banana&#39;,&#39;Apple&#39;,&#39;Orange&#39;\r\n```\r\nIn other words you don&#39;t need to split the string that is returned by method `getFruit`, you just need to change it a little. The following code does that.\r\n```java\r\nString fruit = &quot;Banana, Apple, Orange&quot;; // value returned from method `getFruit`\r\nString sql = &quot;SELECT * FROM fruit f where f.name IN (:fruit)&quot;;\r\nSystem.out.println(sql.replaceFirst(&quot;:fruit&quot;, fruit.replaceAll(&quot;([A-Z][a-z]+)&quot;, &quot;&#39;$1&#39;&quot;)));\r\n```\r\nRunning the above code produces the following:\r\n```none\r\nSELECT * FROM fruit f where f.name IN (&#39;Banana&#39;, &#39;Apple&#39;, &#39;Orange&#39;)\r\n```\r\n","title":"Convert a String to pass multiple values in SQL WHERE IN clause in Java","body":"<p>In SQL, string literals need to be enclosed in single quote characters. Hence you want to replace <code>:fruit</code> (in the text of your SQL query) with the following</p>\n<pre class=\"lang-none prettyprint-override\"><code>'Banana','Apple','Orange'\n</code></pre>\n<p>In other words you don't need to split the string that is returned by method <code>getFruit</code>, you just need to change it a little. The following code does that.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String fruit = &quot;Banana, Apple, Orange&quot;; // value returned from method `getFruit`\nString sql = &quot;SELECT * FROM fruit f where f.name IN (:fruit)&quot;;\nSystem.out.println(sql.replaceFirst(&quot;:fruit&quot;, fruit.replaceAll(&quot;([A-Z][a-z]+)&quot;, &quot;'$1'&quot;)));\n</code></pre>\n<p>Running the above code produces the following:</p>\n<pre class=\"lang-none prettyprint-override\"><code>SELECT * FROM fruit f where f.name IN ('Banana', 'Apple', 'Orange')\n</code></pre>\n"}],"owner":{"account_id":23088986,"reputation":11,"user_id":17200118,"display_name":"Daniel Ford"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1239,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1634724471,"creation_date":1634722366,"question_id":69643566,"body_markdown":"I have a String parameter ```fruit``` which should accept comma separated string for example: ```&quot;Banana, Apple, Orange&quot;```. How do I split this String into 3 data like ```&quot;Banana&quot;, &quot;Apple&quot;, &quot;Orange&quot;``` so it can be passed to my SQL below:\r\n\r\n```\r\nStringBuilder sql = new StringBuilder(\r\n&quot;SELECT * FROM fruit f where &quot;);\r\n\r\n if (!inputParameters.getFruit().isEmpty()) {\r\n   sql.append(&quot;f.name IN (:fruit) &quot;);\r\n   parameterSource.addValue(&quot;fruit&quot;, inputParameters.getFruit());\r\n ) \r\n}\r\n```\r\n\r\nHere, I want to pass the value of ```getFruit``` in the ```SQL IN``` clause which is already converted into 3 data: ```&quot;Banana&quot;, &quot;Apple&quot;, &quot;Orange&quot;``` rather than only 1 String data ```&quot;Banana, Apple, Orange&quot;```","title":"Convert a String to pass multiple values in SQL WHERE IN clause in Java","body":"<p>I have a String parameter <code>fruit</code> which should accept comma separated string for example: <code>&quot;Banana, Apple, Orange&quot;</code>. How do I split this String into 3 data like <code>&quot;Banana&quot;, &quot;Apple&quot;, &quot;Orange&quot;</code> so it can be passed to my SQL below:</p>\n<pre><code>StringBuilder sql = new StringBuilder(\n&quot;SELECT * FROM fruit f where &quot;);\n\n if (!inputParameters.getFruit().isEmpty()) {\n   sql.append(&quot;f.name IN (:fruit) &quot;);\n   parameterSource.addValue(&quot;fruit&quot;, inputParameters.getFruit());\n ) \n}\n</code></pre>\n<p>Here, I want to pass the value of <code>getFruit</code> in the <code>SQL IN</code> clause which is already converted into 3 data: <code>&quot;Banana&quot;, &quot;Apple&quot;, &quot;Orange&quot;</code> rather than only 1 String data <code>&quot;Banana, Apple, Orange&quot;</code></p>\n"},{"tags":["java","relative-path"],"comments":[{"owner":{"account_id":88922,"reputation":28816,"user_id":245679,"accept_rate":99,"display_name":"MD Sayem Ahmed"},"score":0,"creation_date":1378198470,"post_id":18587939,"comment_id":27353547,"body_markdown":"Your program should ask for the path as input from the user. There&#39;s no way you can cover all possible paths. Or, you can create a config file, where you/user will provide the path to the process, and then read it in your program.","body":"Your program should ask for the path as input from the user. There&#39;s no way you can cover all possible paths. Or, you can create a config file, where you/user will provide the path to the process, and then read it in your program."},{"owner":{"account_id":202467,"reputation":9985,"user_id":449553,"accept_rate":54,"display_name":"msangel"},"score":0,"creation_date":1378198532,"post_id":18587939,"comment_id":27353581,"body_markdown":"Does &#39;Cognity&#39; folder has relative path to this java program itself?","body":"Does &#39;Cognity&#39; folder has relative path to this java program itself?"},{"owner":{"account_id":976596,"reputation":3543,"user_id":997555,"accept_rate":52,"display_name":"maress"},"score":0,"creation_date":1378198627,"post_id":18587939,"comment_id":27353633,"body_markdown":"You can check forcing a requirement for system path to the application","body":"You can check forcing a requirement for system path to the application"},{"owner":{"account_id":2978244,"reputation":1562,"user_id":2528840,"accept_rate":92,"display_name":"Schadenfreude"},"score":0,"creation_date":1378199659,"post_id":18587939,"comment_id":27354221,"body_markdown":"Cognity is a repository, it&#39;s usual path is either C:\\Cognity, D:\\Cognity, E:\\Cognity, etc. you get the drift - usually only the directory could be different, the rest of the path stays the same.","body":"Cognity is a repository, it&#39;s usual path is either C:\\Cognity, D:\\Cognity, E:\\Cognity, etc. you get the drift - usually only the directory could be different, the rest of the path stays the same."}],"answers":[{"tags":[],"owner":{"account_id":226324,"reputation":3864,"user_id":487305,"accept_rate":74,"display_name":"sara"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634724382,"creation_date":1378198526,"answer_id":18587975,"question_id":18587939,"body_markdown":"Call `System.getProperty(&quot;user.dir&quot;);` to get your current dir, and concat the relative path to the result.\r\n\r\ne.g.\r\n\r\n    String path = System.getProperty(&quot;user.dir&quot;);\r\n    path += relativePath;\r\n\r\n**EDIT:**\r\n\r\nClarification:\r\n\r\nFor example:\r\nThe program you want to run is always located two folders backwards, and then at Temp dir.\r\n\r\nSo the relative path is `..\\\\..\\Temp\\prog.exe.`\r\n\r\nLet&#39;s say that in one computer you have your program located at `C:\\Users\\user\\Documents\\Program`, so this is the working directory.\r\n\r\nSo:\r\n\r\n    String path = System.getProperty(&quot;user.dir&quot;); //returns the working directory\r\n    String relativePath = &quot;\\\\ ..\\\\..\\\\Temp&quot;; //no matter what is the first path, this is the relative location to the current dir\r\n    path += relativePath;\r\n    //in this example, path now equals C:\\Users\\user\\Documents\\Program\\..\\..\\Temp\\prog.exe = C:\\Users\\user\\Temp\\prog.exe\r\n    Process p = Runtime.getRuntime().exec(command.toString(), null, new File(path));\r\n","title":"Relative file path in java","body":"<p>Call <code>System.getProperty(&quot;user.dir&quot;);</code> to get your current dir, and concat the relative path to the result.</p>\n<p>e.g.</p>\n<pre><code>String path = System.getProperty(&quot;user.dir&quot;);\npath += relativePath;\n</code></pre>\n<p><strong>EDIT:</strong></p>\n<p>Clarification:</p>\n<p>For example:\nThe program you want to run is always located two folders backwards, and then at Temp dir.</p>\n<p>So the relative path is <code>..\\\\..\\Temp\\prog.exe.</code></p>\n<p>Let's say that in one computer you have your program located at <code>C:\\Users\\user\\Documents\\Program</code>, so this is the working directory.</p>\n<p>So:</p>\n<pre><code>String path = System.getProperty(&quot;user.dir&quot;); //returns the working directory\nString relativePath = &quot;\\\\ ..\\\\..\\\\Temp&quot;; //no matter what is the first path, this is the relative location to the current dir\npath += relativePath;\n//in this example, path now equals C:\\Users\\user\\Documents\\Program\\..\\..\\Temp\\prog.exe = C:\\Users\\user\\Temp\\prog.exe\nProcess p = Runtime.getRuntime().exec(command.toString(), null, new File(path));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3091735,"reputation":851,"user_id":2617699,"accept_rate":71,"display_name":"JavaDM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378198560,"creation_date":1378198560,"answer_id":18587991,"question_id":18587939,"body_markdown":"You could use a config-File to set the absolute-path or you create that directory in a relative path to the jar-file.","title":"Relative file path in java","body":"<p>You could use a config-File to set the absolute-path or you create that directory in a relative path to the jar-file.</p>\n"},{"tags":[],"owner":{"account_id":3103686,"reputation":96,"user_id":2627110,"display_name":"mickfagan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1378208200,"creation_date":1378200588,"answer_id":18588723,"question_id":18587939,"body_markdown":"As `System.getProperty(&quot;user.dir&quot;));` returns the directory from which the JVM was launched you still can&#39;t guarantee whether you&#39;re in C:\\ or D:\\\r\nMy advice would be to pass the *Cognity* location in as a -D commandline argument and use it like this:\r\n\r\n`Process p = Runtime.getRuntime().exec(command.toString(), null, new   File(System.getProperty(&quot;cognity.dir&quot;)));`\r\n\r\n","title":"Relative file path in java","body":"<p>As <code>System.getProperty(\"user.dir\"));</code> returns the directory from which the JVM was launched you still can't guarantee whether you're in C:\\ or D:\\\nMy advice would be to pass the <em>Cognity</em> location in as a -D commandline argument and use it like this:</p>\n\n<p><code>Process p = Runtime.getRuntime().exec(command.toString(), null, new   File(System.getProperty(\"cognity.dir\")));</code></p>\n"}],"owner":{"account_id":2978244,"reputation":1562,"user_id":2528840,"accept_rate":92,"display_name":"Schadenfreude"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9544,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":18588723,"answer_count":3,"score":3,"last_activity_date":1634724382,"creation_date":1378198397,"question_id":18587939,"body_markdown":"I have this code:\r\n\r\n     Process p = Runtime.getRuntime().exec(command.toString(), null, \r\n                                              new File(&quot;D:\\\\Cognity&quot;));\r\nBut the thing is the Cognity directory is not always in D:\\\\, it could be in C:\\ etc. So my question is if there is **a way to give it a relative path so I don&#39;t have to change this code depending on the PC that uses the program?**\r\n\r\n","title":"Relative file path in java","body":"<p>I have this code:</p>\n\n<pre><code> Process p = Runtime.getRuntime().exec(command.toString(), null, \n                                          new File(\"D:\\\\Cognity\"));\n</code></pre>\n\n<p>But the thing is the Cognity directory is not always in D:\\, it could be in C:\\ etc. So my question is if there is <strong>a way to give it a relative path so I don't have to change this code depending on the PC that uses the program?</strong></p>\n"},{"tags":["java","xml","xpath"],"comments":[{"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"score":0,"creation_date":1467584841,"post_id":38173348,"comment_id":63777002,"body_markdown":"Angel, welcome to Stack Overflow.  You&#39;ve been here a few months, and asked 9 questions, but have yet to [**accept**](http://meta.stackoverflow.com/q/5234/234215) or [**upvote**](http://stackoverflow.com/help/why-vote) any answers.  Please read the linked pages and consider accepting and/or upvoting answers that have helped you.   Thanks.","body":"Angel, welcome to Stack Overflow.  You&#39;ve been here a few months, and asked 9 questions, but have yet to <a href=\"http://meta.stackoverflow.com/q/5234/234215\"><b>accept</b></a> or <a href=\"http://stackoverflow.com/help/why-vote\"><b>upvote</b></a> any answers.  Please read the linked pages and consider accepting and/or upvoting answers that have helped you.   Thanks."}],"answers":[{"tags":[],"owner":{"account_id":109492,"reputation":107225,"user_id":290085,"display_name":"kjhughes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467578503,"creation_date":1467577384,"answer_id":38174002,"question_id":38173348,"body_markdown":"Realize that a colon (`:`) [***should***][1] only be used in an element or attribute name if part of namespace prefix:\r\n\r\n&gt; **Note**:\r\n&gt; \r\n&gt; The Namespaces in XML Recommendation [\\[XML Names\\]][2] assigns a meaning to\r\n&gt; names containing colon characters. Therefore, authors should not use\r\n&gt; the colon in XML names except for namespace purposes, but XML\r\n&gt; processors must accept the colon as a name character.\r\n\r\n\r\nSo,\r\n\r\n    /root/row/ELEMENT1/@at:it\r\n\r\nwill work to select `&quot;true&quot;` *provided that you change your XML by defining the `at` namespace prefix in your XML (preferable)*,\r\n\r\n    &lt;root xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n          xmlns:at=&quot;http://example.com/at&quot;&gt;\r\n      &lt;row&gt;\r\n        &lt;ELEMENT1 at:it=&quot;true&quot;&gt;W&lt;/ELEMENT1&gt;------\r\n        &lt;ELEMENT2&gt;IN&lt;/ELEMENT2&gt;\r\n        &lt;ELEMENT3&gt;RP&lt;/ELEMENT3&gt;\r\n        &lt;ELEMENT4&gt;KKK&lt;/ELEMENT4&gt;\r\n      &lt;/row&gt;\r\n      &lt;row&gt;\r\n        &lt;ELEMENT1 ac&#243;n=&#39;sys&#39;&gt;2&lt;/ELEMENT1&gt;------\r\n        &lt;ELEMENT2&gt;ARQ&lt;/ELEMENT2&gt;\r\n        &lt;ELEMENT3&gt;MR&lt;/ELEMENT3&gt;\r\n        &lt;ELEMENT4&gt;AC&lt;/ELEMENT4&gt;\r\n      &lt;/row&gt;\r\n      &lt;row&gt;\r\n         &lt;ELEMENT1&gt;3&lt;/ELEMENT1&gt;\r\n        &lt;ELEMENT2&gt;I&lt;/ELEMENT2&gt;\r\n        &lt;ELEMENT3 at:it=&quot;true&quot; &gt;RP&lt;/ELEMENT3&gt;------\r\n        &lt;ELEMENT4&gt;KKK&lt;/ELEMENT4&gt;\r\n      &lt;/row&gt;\r\n      &lt;row&gt;\r\n        &lt;ELEMENT1&gt;1&lt;/ELEMENT1&gt;\r\n        &lt;ELEMENT2&gt;CC&lt;/ELEMENT2&gt;\r\n        &lt;ELEMENT3&gt;XX&lt;/ELEMENT3&gt;\r\n        &lt;ELEMENT4 el&#233;ct=&#39;false&#39; &gt;I&lt;/ELEMENT4&gt;------\r\n      &lt;/row&gt;\r\n      &lt;row&gt;\r\n         &lt;ELEMENT1&gt;12&lt;/ELEMENT1&gt;\r\n        &lt;ELEMENT2 at:it=&quot;true&quot; &gt;IN&lt;/ELEMENT2&gt;------\r\n        &lt;ELEMENT3&gt;3&lt;/ELEMENT3&gt;\r\n        &lt;ELEMENT4&gt;&lt;/ELEMENT4&gt;\r\n      &lt;/row&gt;\r\n    &lt;/root&gt;\r\n\r\nor instruct your XML processor to ignore XML namespaces (***not*** a best practice).\r\n\r\nThe next two cases are fine:\r\n\r\n    /root/row/ELEMENT1/@ac&#243;n\r\n\r\nwill select `&quot;sys&quot;` without problem provided your XPath processor supports UTF-8 encoding (and it should).\r\n\r\n\r\n    /root/row/ELEMENT4/@el&#233;ct\r\n\r\nwill select `&quot;false&quot;` similarly.\r\n\r\n\r\n  [1]: https://www.w3.org/TR/REC-xml/#sec-common-syn\r\n  [2]: https://www.w3.org/TR/REC-xml/#xml-names","title":"XPath to access an attribute value with a name that has special characters","body":"<p>Realize that a colon (<code>:</code>) <a href=\"https://www.w3.org/TR/REC-xml/#sec-common-syn\" rel=\"nofollow\"><strong><em>should</em></strong></a> only be used in an element or attribute name if part of namespace prefix:</p>\n\n<blockquote>\n  <p><strong>Note</strong>:</p>\n  \n  <p>The Namespaces in XML Recommendation <a href=\"https://www.w3.org/TR/REC-xml/#xml-names\" rel=\"nofollow\">[XML Names]</a> assigns a meaning to\n  names containing colon characters. Therefore, authors should not use\n  the colon in XML names except for namespace purposes, but XML\n  processors must accept the colon as a name character.</p>\n</blockquote>\n\n<p>So,</p>\n\n<pre><code>/root/row/ELEMENT1/@at:it\n</code></pre>\n\n<p>will work to select <code>\"true\"</code> <em>provided that you change your XML by defining the <code>at</code> namespace prefix in your XML (preferable)</em>,</p>\n\n<pre><code>&lt;root xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n      xmlns:at=\"http://example.com/at\"&gt;\n  &lt;row&gt;\n    &lt;ELEMENT1 at:it=\"true\"&gt;W&lt;/ELEMENT1&gt;------\n    &lt;ELEMENT2&gt;IN&lt;/ELEMENT2&gt;\n    &lt;ELEMENT3&gt;RP&lt;/ELEMENT3&gt;\n    &lt;ELEMENT4&gt;KKK&lt;/ELEMENT4&gt;\n  &lt;/row&gt;\n  &lt;row&gt;\n    &lt;ELEMENT1 acón='sys'&gt;2&lt;/ELEMENT1&gt;------\n    &lt;ELEMENT2&gt;ARQ&lt;/ELEMENT2&gt;\n    &lt;ELEMENT3&gt;MR&lt;/ELEMENT3&gt;\n    &lt;ELEMENT4&gt;AC&lt;/ELEMENT4&gt;\n  &lt;/row&gt;\n  &lt;row&gt;\n     &lt;ELEMENT1&gt;3&lt;/ELEMENT1&gt;\n    &lt;ELEMENT2&gt;I&lt;/ELEMENT2&gt;\n    &lt;ELEMENT3 at:it=\"true\" &gt;RP&lt;/ELEMENT3&gt;------\n    &lt;ELEMENT4&gt;KKK&lt;/ELEMENT4&gt;\n  &lt;/row&gt;\n  &lt;row&gt;\n    &lt;ELEMENT1&gt;1&lt;/ELEMENT1&gt;\n    &lt;ELEMENT2&gt;CC&lt;/ELEMENT2&gt;\n    &lt;ELEMENT3&gt;XX&lt;/ELEMENT3&gt;\n    &lt;ELEMENT4 eléct='false' &gt;I&lt;/ELEMENT4&gt;------\n  &lt;/row&gt;\n  &lt;row&gt;\n     &lt;ELEMENT1&gt;12&lt;/ELEMENT1&gt;\n    &lt;ELEMENT2 at:it=\"true\" &gt;IN&lt;/ELEMENT2&gt;------\n    &lt;ELEMENT3&gt;3&lt;/ELEMENT3&gt;\n    &lt;ELEMENT4&gt;&lt;/ELEMENT4&gt;\n  &lt;/row&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>or instruct your XML processor to ignore XML namespaces (<strong><em>not</em></strong> a best practice).</p>\n\n<p>The next two cases are fine:</p>\n\n<pre><code>/root/row/ELEMENT1/@acón\n</code></pre>\n\n<p>will select <code>\"sys\"</code> without problem provided your XPath processor supports UTF-8 encoding (and it should).</p>\n\n<pre><code>/root/row/ELEMENT4/@eléct\n</code></pre>\n\n<p>will select <code>\"false\"</code> similarly.</p>\n"},{"tags":[],"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467577653,"creation_date":1467577653,"answer_id":38174038,"question_id":38173348,"body_markdown":"I tried it with Java 6 and had no problems to access attributes with accents. The colon is a special case, because it is used to denote element/attribute names with namespace prefixes. The XML doesn&#39;t use namespaces otherwise there were a namespace declaration for prefix `at`. \r\n\r\nThe XML parser has a switch to treat colons as part of the name but the XPath engine is always namespace aware. But with a little trick it is also possible:\r\n\r\n    File xmlFile = new File(&quot;in.xml&quot;);\r\n    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n    // Parse without namespaces. Otherwise parsing leads to an error \r\n    // because there is no namespace declaration for prefix &#39;at&#39;.\r\n    factory.setNamespaceAware(false);\r\n    DocumentBuilder builder = factory.newDocumentBuilder();\r\n    Document doc = builder.parse(xmlFile);\r\n\r\n    XPathFactory xPathfactory = XPathFactory.newInstance();\r\n    XPath xpath = xPathfactory.newXPath();\r\n    \r\n    XPathExpression expr1 = xpath.compile(&quot;/root/row/ELEMENT1/@ac&#243;n&quot;);\r\n    //XPathExpression expr2 = xpath.compile(&quot;/root/row/ELEMENT1/@at:it&quot;);  Doesn&#39;t work!\r\n    XPathExpression expr2 = xpath.compile(&quot;/root/row/ELEMENT1/@*[name() = &#39;at:it&#39;]&quot;);\r\n    XPathExpression expr3 = xpath.compile(&quot;/root/row/ELEMENT4/@el&#233;ct&quot;);\r\n\r\n    System.out.println((String) expr1.evaluate(doc, XPathConstants.STRING));\r\n    System.out.println((String) expr2.evaluate(doc, XPathConstants.STRING));\r\n    System.out.println((String) expr3.evaluate(doc, XPathConstants.STRING));\r\n\r\n\r\nThe output is:\r\n\r\n    sys\r\n    true\r\n    false","title":"XPath to access an attribute value with a name that has special characters","body":"<p>I tried it with Java 6 and had no problems to access attributes with accents. The colon is a special case, because it is used to denote element/attribute names with namespace prefixes. The XML doesn't use namespaces otherwise there were a namespace declaration for prefix <code>at</code>. </p>\n\n<p>The XML parser has a switch to treat colons as part of the name but the XPath engine is always namespace aware. But with a little trick it is also possible:</p>\n\n<pre><code>File xmlFile = new File(\"in.xml\");\nDocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n// Parse without namespaces. Otherwise parsing leads to an error \n// because there is no namespace declaration for prefix 'at'.\nfactory.setNamespaceAware(false);\nDocumentBuilder builder = factory.newDocumentBuilder();\nDocument doc = builder.parse(xmlFile);\n\nXPathFactory xPathfactory = XPathFactory.newInstance();\nXPath xpath = xPathfactory.newXPath();\n\nXPathExpression expr1 = xpath.compile(\"/root/row/ELEMENT1/@acón\");\n//XPathExpression expr2 = xpath.compile(\"/root/row/ELEMENT1/@at:it\");  Doesn't work!\nXPathExpression expr2 = xpath.compile(\"/root/row/ELEMENT1/@*[name() = 'at:it']\");\nXPathExpression expr3 = xpath.compile(\"/root/row/ELEMENT4/@eléct\");\n\nSystem.out.println((String) expr1.evaluate(doc, XPathConstants.STRING));\nSystem.out.println((String) expr2.evaluate(doc, XPathConstants.STRING));\nSystem.out.println((String) expr3.evaluate(doc, XPathConstants.STRING));\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>sys\ntrue\nfalse\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15990918,"reputation":1,"user_id":11540144,"display_name":"Sofia smile"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634724169,"creation_date":1634724169,"answer_id":69643980,"question_id":38173348,"body_markdown":"1. first get the attributes from your nodes and then check their name.\r\n2. Something like:\r\n ` XPath xpath = XPathFactory.newInstance().newXPath();\r\n      NodeList nodes = (NodeList) xpath.evaluate(filteringExpression, xmlDocument,                         XPathConstants.NODESET);`\r\n    \r\n\r\n3. Then iterate through nodes and for each node get its attribute:\r\n       ` Node node = nodes.item(idx);\r\n        NamedNodeMap nl = node.getAttributes();`\r\n4. Then iterate through attributes and if the name matches ,get its value:\r\n       ` Attr attr = (Attr) nl.item(i);\r\n        if(attr.getName().equals(...))\r\n        String attributeValue = attr.getValue();`\r\n","title":"XPath to access an attribute value with a name that has special characters","body":"<ol>\n<li><p>first get the attributes from your nodes and then check their name.</p>\n</li>\n<li><p>Something like:\n<code> XPath xpath = XPathFactory.newInstance().newXPath(); NodeList nodes = (NodeList) xpath.evaluate(filteringExpression, xmlDocument,                         XPathConstants.NODESET);</code></p>\n</li>\n<li><p>Then iterate through nodes and for each node get its attribute:\n<code> Node node = nodes.item(idx); NamedNodeMap nl = node.getAttributes();</code></p>\n</li>\n<li><p>Then iterate through attributes and if the name matches ,get its value:\n<code> Attr attr = (Attr) nl.item(i); if(attr.getName().equals(...)) String attributeValue = attr.getValue();</code></p>\n</li>\n</ol>\n"}],"owner":{"account_id":8185157,"reputation":69,"user_id":6161189,"accept_rate":0,"display_name":"Angel Picallo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1896,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1634724169,"creation_date":1467572391,"question_id":38173348,"body_markdown":"I&#39;m trying to access to attribute value, but the attribute name has special characters, for example:\r\n\r\n    &lt;root xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n      &lt;row&gt;\r\n        &lt;ELEMENT1 at:it=&quot;true&quot;&gt;W&lt;/ELEMENT1&gt;------\r\n        &lt;ELEMENT2&gt;IN&lt;/ELEMENT2&gt;\r\n        &lt;ELEMENT3&gt;RP&lt;/ELEMENT3&gt;\r\n        &lt;ELEMENT4&gt;KKK&lt;/ELEMENT4&gt;\r\n      &lt;/row&gt;\r\n      &lt;row&gt;\r\n        &lt;ELEMENT1 ac&#243;n=&#39;sys&#39;&gt;2&lt;/ELEMENT1&gt;------\r\n        &lt;ELEMENT2&gt;ARQ&lt;/ELEMENT2&gt;\r\n        &lt;ELEMENT3&gt;MR&lt;/ELEMENT3&gt;\r\n        &lt;ELEMENT4&gt;AC&lt;/ELEMENT4&gt;\r\n      &lt;/row&gt;\r\n      &lt;row&gt;\r\n         &lt;ELEMENT1&gt;3&lt;/ELEMENT1&gt;\r\n        &lt;ELEMENT2&gt;I&lt;/ELEMENT2&gt;\r\n        &lt;ELEMENT3 at:it=&quot;true&quot; &gt;RP&lt;/ELEMENT3&gt;------\r\n        &lt;ELEMENT4&gt;KKK&lt;/ELEMENT4&gt;\r\n      &lt;/row&gt;\r\n      &lt;row&gt;\r\n        &lt;ELEMENT1&gt;1&lt;/ELEMENT1&gt;\r\n        &lt;ELEMENT2&gt;CC&lt;/ELEMENT2&gt;\r\n        &lt;ELEMENT3&gt;XX&lt;/ELEMENT3&gt;\r\n        &lt;ELEMENT4 el&#233;ct=&#39;false&#39; &gt;I&lt;/ELEMENT4&gt;------\r\n      &lt;/row&gt;\r\n      &lt;row&gt;\r\n         &lt;ELEMENT1&gt;12&lt;/ELEMENT1&gt;\r\n        &lt;ELEMENT2 at:it=&quot;true&quot; &gt;IN&lt;/ELEMENT2&gt;------\r\n        &lt;ELEMENT3&gt;3&lt;/ELEMENT3&gt;\r\n        &lt;ELEMENT4&gt;&lt;/ELEMENT4&gt;\r\n      &lt;/row&gt;\r\n    &lt;/root&gt;\r\n\r\nif I change the names of the attributes and remove them special characters, I can access them:\r\n\r\n    at:it ------&gt; atit\r\n    Ac&#243;n ------&gt; Acon\r\n    el&#233;ctr ------&gt; elect\r\n\r\nbut attribute names with special characters I can not access them with XPath query expression.\r\n\r\nHow I can access an XML file to values of attributes with names that have special characters?\r\n\r\nTo transform the XML file to DOM I used Java6, javax.xml.*, org.w3c.dom.*\r\n","title":"XPath to access an attribute value with a name that has special characters","body":"<p>I'm trying to access to attribute value, but the attribute name has special characters, for example:</p>\n\n<pre><code>&lt;root xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n  &lt;row&gt;\n    &lt;ELEMENT1 at:it=\"true\"&gt;W&lt;/ELEMENT1&gt;------\n    &lt;ELEMENT2&gt;IN&lt;/ELEMENT2&gt;\n    &lt;ELEMENT3&gt;RP&lt;/ELEMENT3&gt;\n    &lt;ELEMENT4&gt;KKK&lt;/ELEMENT4&gt;\n  &lt;/row&gt;\n  &lt;row&gt;\n    &lt;ELEMENT1 acón='sys'&gt;2&lt;/ELEMENT1&gt;------\n    &lt;ELEMENT2&gt;ARQ&lt;/ELEMENT2&gt;\n    &lt;ELEMENT3&gt;MR&lt;/ELEMENT3&gt;\n    &lt;ELEMENT4&gt;AC&lt;/ELEMENT4&gt;\n  &lt;/row&gt;\n  &lt;row&gt;\n     &lt;ELEMENT1&gt;3&lt;/ELEMENT1&gt;\n    &lt;ELEMENT2&gt;I&lt;/ELEMENT2&gt;\n    &lt;ELEMENT3 at:it=\"true\" &gt;RP&lt;/ELEMENT3&gt;------\n    &lt;ELEMENT4&gt;KKK&lt;/ELEMENT4&gt;\n  &lt;/row&gt;\n  &lt;row&gt;\n    &lt;ELEMENT1&gt;1&lt;/ELEMENT1&gt;\n    &lt;ELEMENT2&gt;CC&lt;/ELEMENT2&gt;\n    &lt;ELEMENT3&gt;XX&lt;/ELEMENT3&gt;\n    &lt;ELEMENT4 eléct='false' &gt;I&lt;/ELEMENT4&gt;------\n  &lt;/row&gt;\n  &lt;row&gt;\n     &lt;ELEMENT1&gt;12&lt;/ELEMENT1&gt;\n    &lt;ELEMENT2 at:it=\"true\" &gt;IN&lt;/ELEMENT2&gt;------\n    &lt;ELEMENT3&gt;3&lt;/ELEMENT3&gt;\n    &lt;ELEMENT4&gt;&lt;/ELEMENT4&gt;\n  &lt;/row&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>if I change the names of the attributes and remove them special characters, I can access them:</p>\n\n<pre><code>at:it ------&gt; atit\nAcón ------&gt; Acon\neléctr ------&gt; elect\n</code></pre>\n\n<p>but attribute names with special characters I can not access them with XPath query expression.</p>\n\n<p>How I can access an XML file to values of attributes with names that have special characters?</p>\n\n<p>To transform the XML file to DOM I used Java6, javax.xml.<em>, org.w3c.dom.</em></p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-grid","remotewebdriver"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1593181126,"creation_date":1593178856,"answer_id":62596057,"question_id":62595459,"body_markdown":"This error message...\r\n\r\n\tException in thread &quot;main&quot; org.openqa.selenium.InvalidArgumentException: Attempting to upload file &#39;C:\\daten\\test2.xml&#39; which does not exist.\r\n\r\n...implies that the desired file doesn&#39;t exist on the client machine.\r\n\r\n\r\n----------\r\n\r\n\r\nLocal file detector\r\n-------------------\r\nThe [Local File Detector](https://www.selenium.dev/documentation/en/remote_webdriver/remote_webdriver_client/#local-file-detector) allows the transfer of files from the client machine to the remote server. In case a test needs to upload a file to a web application, a remote [WebDriver](https://stackoverflow.com/questions/48079120/what-is-the-difference-between-chromedriver-and-webdriver-in-selenium/48080871#48080871) can automatically transfer the file from the local machine to the remote web server during runtime. This allows the file to be uploaded from the remote machine running the test. It is not enabled by default and can be enabled as follows:\r\n\r\n- _Java_:\r\n\r\n\t  driver.setFileDetector(new LocalFileDetector());\r\n\r\n- _Python_:\r\n\r\n\t  from selenium.webdriver.remote.file_detector import LocalFileDetector\r\n\r\n\t  driver.file_detector = LocalFileDetector()\r\n\r\n- _C#_:\r\n\r\n\t  var allowsDetection = this.driver as IAllowsFileDetection;\r\n\t  if (allowsDetection != null)\r\n\t  {\r\n\t     allowsDetection.FileDetector = new LocalFileDetector();\r\n\t  }\r\n\r\n- _Ruby_:\r\n\r\n\t  @driver.file_detector = lambda do |args|\r\n\t    # args =&gt; [&quot;/path/to/file&quot;]\r\n\t    str = args.first.to_s\r\n\t    str if File.exist?(str)\r\n\t  end\r\n\r\n- _JavaScript_:\r\n\r\n\t  var remote = require(&#39;selenium-webdriver/remote&#39;);\r\n\t  driver.setFileDetector(new remote.FileDetector); \r\n\r\n- _Kotlin_:\r\n\r\n\t  driver.fileDetector = LocalFileDetector()\r\n\r\n\r\n----------\r\n\r\n\r\n\t  \r\nThis usecase\r\n------------\r\nIf you are running your tests on [Selenium Grid](https://stackoverflow.com/questions/59647961/what-is-the-exact-purpose-of-selenium-grid/59648301#59648301) then you need to let your remote driver know that the file that needs to be uploaded is residing on the local machine and not on remote machine. In those cases, to upload a file from the client machine to the remote server, _WebDriver_ can automatically transfer the file from the local machine to the remote web server during runtime you can use the following code block:\r\n\r\n\tWebElement addFile = driver.findElement(By.xpath(&quot;//input[@type=&#39;file&#39;]&quot;));\r\n\t((RemoteWebElement)addFile).setFileDetector(new LocalFileDetector());\r\n\taddFile.sendKeys(&quot;C:\\\\daten\\\\test2.xml&quot;);\r\n\r\n\r\n----------\r\n\r\n\r\nOutro\r\n-----\r\n[Selecting and uploading files while running your tests on Selenium Grid](https://muthutechno.wordpress.com/2014/07/09/uploading-files-in-selenium-webdriver/)","title":"How to upload a file by transfering the file from the local machine to the remote web server using Selenium Grid","body":"<p>This error message...</p>\n<pre><code>Exception in thread &quot;main&quot; org.openqa.selenium.InvalidArgumentException: Attempting to upload file 'C:\\daten\\test2.xml' which does not exist.\n</code></pre>\n<p>...implies that the desired file doesn't exist on the client machine.</p>\n<hr />\n<h2>Local file detector</h2>\n<p>The <a href=\"https://www.selenium.dev/documentation/en/remote_webdriver/remote_webdriver_client/#local-file-detector\" rel=\"noreferrer\">Local File Detector</a> allows the transfer of files from the client machine to the remote server. In case a test needs to upload a file to a web application, a remote <a href=\"https://stackoverflow.com/questions/48079120/what-is-the-difference-between-chromedriver-and-webdriver-in-selenium/48080871#48080871\">WebDriver</a> can automatically transfer the file from the local machine to the remote web server during runtime. This allows the file to be uploaded from the remote machine running the test. It is not enabled by default and can be enabled as follows:</p>\n<ul>\n<li><p><em>Java</em>:</p>\n<pre><code>driver.setFileDetector(new LocalFileDetector());\n</code></pre>\n</li>\n<li><p><em>Python</em>:</p>\n<pre><code>from selenium.webdriver.remote.file_detector import LocalFileDetector\n\ndriver.file_detector = LocalFileDetector()\n</code></pre>\n</li>\n<li><p><em>C#</em>:</p>\n<pre><code>var allowsDetection = this.driver as IAllowsFileDetection;\nif (allowsDetection != null)\n{\n   allowsDetection.FileDetector = new LocalFileDetector();\n}\n</code></pre>\n</li>\n<li><p><em>Ruby</em>:</p>\n<pre><code>@driver.file_detector = lambda do |args|\n  # args =&gt; [&quot;/path/to/file&quot;]\n  str = args.first.to_s\n  str if File.exist?(str)\nend\n</code></pre>\n</li>\n<li><p><em>JavaScript</em>:</p>\n<pre><code>var remote = require('selenium-webdriver/remote');\ndriver.setFileDetector(new remote.FileDetector); \n</code></pre>\n</li>\n<li><p><em>Kotlin</em>:</p>\n<pre><code>driver.fileDetector = LocalFileDetector()\n</code></pre>\n</li>\n</ul>\n<hr />\n<h2>This usecase</h2>\n<p>If you are running your tests on <a href=\"https://stackoverflow.com/questions/59647961/what-is-the-exact-purpose-of-selenium-grid/59648301#59648301\">Selenium Grid</a> then you need to let your remote driver know that the file that needs to be uploaded is residing on the local machine and not on remote machine. In those cases, to upload a file from the client machine to the remote server, <em>WebDriver</em> can automatically transfer the file from the local machine to the remote web server during runtime you can use the following code block:</p>\n<pre><code>WebElement addFile = driver.findElement(By.xpath(&quot;//input[@type='file']&quot;));\n((RemoteWebElement)addFile).setFileDetector(new LocalFileDetector());\naddFile.sendKeys(&quot;C:\\\\daten\\\\test2.xml&quot;);\n</code></pre>\n<hr />\n<h2>Outro</h2>\n<p><a href=\"https://muthutechno.wordpress.com/2014/07/09/uploading-files-in-selenium-webdriver/\" rel=\"noreferrer\">Selecting and uploading files while running your tests on Selenium Grid</a></p>\n"},{"tags":[],"owner":{"account_id":3624100,"reputation":370,"user_id":3022175,"display_name":"PeterOeClausen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631697197,"creation_date":1631697197,"answer_id":69190228,"question_id":62595459,"body_markdown":"Thank you @DebanjanB for helping me finding the solution - I&#39;ve upvoted your response, and this is another answer to state it indeed works.\r\n\r\n**My problem:**\r\n\r\nLocally, I was running Selenium tests against a locally running Selenium server (running `selenium-server-4.0.0-beta-4.jar` file), and I was using `chromedriver.exe` file too.\r\n\r\nMy tests (written in TypeScript) that uploaded files using:\r\n\r\n```nodejs\r\nawait (\r\n  await driver.findElement(By.xpath(&quot;//form//input[@id=&#39;upload-input&#39;]&quot;))\r\n).sendKeys(join(__dirname, &quot;testfile.txt&quot;));\r\n```\r\n\r\nRan without problems locally. But in our DevOps pipeline, running Docker using the `selenium/standalone-chrome` image, it was like the driver couldn&#39;t find the file:\r\n\r\n```\r\nInvalidArgumentError: invalid argument: File not found: /home/vsts/work/1/s/selenium/tests/flows/testfile.txt\r\n```\r\n\r\nEven though we had confirmed that the file was indeed found in the correct folder by running:\r\n\r\n```sh\r\n&gt; pwd\r\n/home/vsts/work/1/s\r\n&gt; find . -name testfile.txt\r\n./selenium/tests/flows/testfile.txt\r\n```\r\n\r\nMeaning the file was indeed located at `/home/vsts/work/1/s/selenium/tests/flows/testfile.txt`.\r\n\r\nMy team and I Googled and searched why this was and found @DebanjanB&#39;s answer.\r\n\r\nWhat we didn&#39;t realize was that the `selenium/standalone-chrome` Docker image is running a Selenium Grid server, which is &quot;remote&quot; rather than &quot;local&quot;. And so the driver can&#39;t find the file when running &quot;remote&quot;.\r\n\r\n**The solution**\r\n\r\nWe added \r\n```nodejs\r\ndriver.setFileDetector(new FileDetector());\r\n```\r\n\r\nBefore\r\n```nodejs\r\nawait (\r\n  await driver.findElement(By.xpath(&quot;//form//input[@id=&#39;upload-input&#39;]&quot;))\r\n).sendKeys(join(__dirname, &quot;testfile.txt&quot;));\r\n```\r\n\r\nAnd now our tests pass when running against the docker container in our pipeline too!\r\n\r\nFrom Selenium&#39;s documentation:\r\n\r\n&gt; The Local File Detector allows the transfer of files from the client machine to the remote server. For example, if a test needs to upload a file to a web application, a remote WebDriver can automatically transfer the file from the local machine to the remote web server during runtime. This allows the file to be uploaded from the remote machine running the test.\r\n\r\nSource: https://www.selenium.dev/documentation/webdriver/remote_webdriver/#local-file-detector\r\n\r\nI hope this will help someone struggling with the same problem :-)","title":"How to upload a file by transfering the file from the local machine to the remote web server using Selenium Grid","body":"<p>Thank you @DebanjanB for helping me finding the solution - I've upvoted your response, and this is another answer to state it indeed works.</p>\n<p><strong>My problem:</strong></p>\n<p>Locally, I was running Selenium tests against a locally running Selenium server (running <code>selenium-server-4.0.0-beta-4.jar</code> file), and I was using <code>chromedriver.exe</code> file too.</p>\n<p>My tests (written in TypeScript) that uploaded files using:</p>\n<pre class=\"lang-js prettyprint-override\"><code>await (\n  await driver.findElement(By.xpath(&quot;//form//input[@id='upload-input']&quot;))\n).sendKeys(join(__dirname, &quot;testfile.txt&quot;));\n</code></pre>\n<p>Ran without problems locally. But in our DevOps pipeline, running Docker using the <code>selenium/standalone-chrome</code> image, it was like the driver couldn't find the file:</p>\n<pre><code>InvalidArgumentError: invalid argument: File not found: /home/vsts/work/1/s/selenium/tests/flows/testfile.txt\n</code></pre>\n<p>Even though we had confirmed that the file was indeed found in the correct folder by running:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>&gt; pwd\n/home/vsts/work/1/s\n&gt; find . -name testfile.txt\n./selenium/tests/flows/testfile.txt\n</code></pre>\n<p>Meaning the file was indeed located at <code>/home/vsts/work/1/s/selenium/tests/flows/testfile.txt</code>.</p>\n<p>My team and I Googled and searched why this was and found @DebanjanB's answer.</p>\n<p>What we didn't realize was that the <code>selenium/standalone-chrome</code> Docker image is running a Selenium Grid server, which is &quot;remote&quot; rather than &quot;local&quot;. And so the driver can't find the file when running &quot;remote&quot;.</p>\n<p><strong>The solution</strong></p>\n<p>We added</p>\n<pre class=\"lang-js prettyprint-override\"><code>driver.setFileDetector(new FileDetector());\n</code></pre>\n<p>Before</p>\n<pre class=\"lang-js prettyprint-override\"><code>await (\n  await driver.findElement(By.xpath(&quot;//form//input[@id='upload-input']&quot;))\n).sendKeys(join(__dirname, &quot;testfile.txt&quot;));\n</code></pre>\n<p>And now our tests pass when running against the docker container in our pipeline too!</p>\n<p>From Selenium's documentation:</p>\n<blockquote>\n<p>The Local File Detector allows the transfer of files from the client machine to the remote server. For example, if a test needs to upload a file to a web application, a remote WebDriver can automatically transfer the file from the local machine to the remote web server during runtime. This allows the file to be uploaded from the remote machine running the test.</p>\n</blockquote>\n<p>Source: <a href=\"https://www.selenium.dev/documentation/webdriver/remote_webdriver/#local-file-detector\" rel=\"nofollow noreferrer\">https://www.selenium.dev/documentation/webdriver/remote_webdriver/#local-file-detector</a></p>\n<p>I hope this will help someone struggling with the same problem :-)</p>\n"}],"owner":{"account_id":18938607,"reputation":53,"user_id":13819162,"display_name":"Andreas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10582,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":62596057,"answer_count":2,"score":5,"last_activity_date":1634724152,"creation_date":1593177018,"question_id":62595459,"body_markdown":"File Upload with a Selenium Grid:\r\n\r\n**Code**\r\n``` \r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\nimport java.util.concurrent.TimeUnit;\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.remote.DesiredCapabilities;\r\nimport org.openqa.selenium.remote.LocalFileDetector;\r\nimport org.openqa.selenium.remote.RemoteWebDriver;\r\n\r\npublic class Main \r\n{\r\n    \r\n    public static void main(String[] args) throws MalformedURLException\r\n    {\r\n          DesiredCapabilities capabilities = DesiredCapabilities.internetExplorer();\r\n          capabilities.setBrowserName(&quot;internet explorer&quot;);\r\n    \r\n          RemoteWebDriver driver = new RemoteWebDriver(new URL(&quot;http://URL:4444/wd/hub&quot;), capabilities);\r\n          driver.setFileDetector(new LocalFileDetector());\r\n          driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\r\n    \r\n          driver.get(&quot;https://url.de/index.xhtml&quot;);\r\n          driver.findElement(By.xpath(&quot;//*[@id=&#39;form:sdsupload&#39;]/span&quot;)).click();\r\n        \r\n          WebElement addFile = driver.findElement(By.xpath(&quot;//input[@type=&#39;file&#39;]&quot;));\r\n          ((RemoteWebElement) addFile ).setFileDetector(new LocalFileDetector());\r\n          addFile.sendKeys(&quot;C:\\\\daten\\\\test\\\\test2.xml&quot;);\r\n    }\r\n}\r\n``` \r\n\r\n**Exception**\r\n``` \r\nJun 26, 2020 3:47:43 PM org.openqa.selenium.remote.ProtocolHandshake createSession\r\nINFORMATION: Detected dialect: W3C\r\nException in thread &quot;main&quot; org.openqa.selenium.InvalidArgumentException: Attempting to upload file &#39;C:\\daten\\test\\test2.xml&#39; which does not exist.\r\nBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\nSystem info: host: &#39;xxx&#39;, ip: &#39;xxx&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_171&#39;\r\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\r\nCapabilities {acceptInsecureCerts: false, browserName: internet explorer, browserVersion: 11, javascriptEnabled: true, pageLoadStrategy: normal, platform: WINDOWS, platformName: WINDOWS, proxy: Proxy(), se:ieOptions: {browserAttachTimeout: 0, elementScrollBehavior: 0, enablePersistentHover: true, ie.browserCommandLineSwitches: , ie.ensureCleanSession: false, ie.fileUploadDialogTimeout: 3000, ie.forceCreateProcessApi: false, ignoreProtectedModeSettings: false, ignoreZoomSetting: false, initialBrowserUrl: http://localhost:5494/, nativeEvents: true, requireWindowFocus: false}, setWindowRect: true, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, webdriver.remote.sessionid: ae053a22-c088-402e-8de1-f25...}\r\nSession ID: ae053a22-c088-402e-8de1-f25c4398ccbf\r\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\r\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\r\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\r\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\r\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\r\n    at org.openqa.selenium.remote.RemoteWebElement.execute(RemoteWebElement.java:285)\r\n    at org.openqa.selenium.remote.RemoteWebElement.sendKeys(RemoteWebElement.java:106)\r\n    at de.xxx.xxx.keywords.Main.main(Main.java:41)\r\n``` \r\n\r\nThe file exists on the local node, but not on the remote node. If the file is on the remote node, it works great. The File exists on local node, but not on remote node: https://i.stack.imgur.com/f31Wb.png\r\n\r\n**I read this:**\r\n- https://www.selenium.dev/documentation/en/remote_webdriver/remote_webdriver_client/\r\n- https://www.lambdatest.com/blog/how-to-download-upload-files-using-selenium-with-java/\r\n\r\nHow can I pass a file to the remote node? \r\n\r\n**Edit**\r\n\r\nThe same Error with Firefox, IE and Edge Chromium\r\n\r\nFirefox:\r\n``` \r\nException in thread &quot;main&quot; org.openqa.selenium.InvalidArgumentException: File not found: C:\\daten\\test\\test3.xml\r\nBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\nSystem info: host: &#39;xxx&#39;, ip: &#39;xxx&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_171&#39;\r\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\r\nCapabilities {acceptInsecureCerts: true, browserName: firefox, browserVersion: 60.5.0, javascriptEnabled: true, moz:accessibilityChecks: false, moz:geckodriverVersion: 0.25.0, moz:headless: false, moz:processID: 624, moz:profile: C:\\Users\\username\\Ap..., moz:useNonSpecCompliantPointerOrigin: false, moz:webdriverClick: true, pageLoadStrategy: normal, platform: XP, platformName: XP, platformVersion: 10.0, rotatable: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, webdriver.remote.sessionid: 8801c61e-6d61-488b-8f86-c0a...}\r\nSession ID: 8801c61e-6d61-488b-8f86-c0a1fb2f2df8\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\r\n\tat org.openqa.selenium.remote.RemoteWebElement.execute(RemoteWebElement.java:285)\r\n\tat org.openqa.selenium.remote.RemoteWebElement.sendKeys(RemoteWebElement.java:106)\r\n\tat de.xxx.xxx.keywords.Main.main(Main.java:52)\r\n``` \r\n\r\nWhen I copy the file to the remote client it works great again :(\r\n\r\nDebug:\r\n[Debug with Firefox][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NLnSw.png","title":"How to upload a file by transfering the file from the local machine to the remote web server using Selenium Grid","body":"<p>File Upload with a Selenium Grid:</p>\n<p><strong>Code</strong></p>\n<pre><code>import java.net.MalformedURLException;\nimport java.net.URL;\nimport java.util.concurrent.TimeUnit;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.remote.DesiredCapabilities;\nimport org.openqa.selenium.remote.LocalFileDetector;\nimport org.openqa.selenium.remote.RemoteWebDriver;\n\npublic class Main \n{\n    \n    public static void main(String[] args) throws MalformedURLException\n    {\n          DesiredCapabilities capabilities = DesiredCapabilities.internetExplorer();\n          capabilities.setBrowserName(&quot;internet explorer&quot;);\n    \n          RemoteWebDriver driver = new RemoteWebDriver(new URL(&quot;http://URL:4444/wd/hub&quot;), capabilities);\n          driver.setFileDetector(new LocalFileDetector());\n          driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);\n    \n          driver.get(&quot;https://url.de/index.xhtml&quot;);\n          driver.findElement(By.xpath(&quot;//*[@id='form:sdsupload']/span&quot;)).click();\n        \n          WebElement addFile = driver.findElement(By.xpath(&quot;//input[@type='file']&quot;));\n          ((RemoteWebElement) addFile ).setFileDetector(new LocalFileDetector());\n          addFile.sendKeys(&quot;C:\\\\daten\\\\test\\\\test2.xml&quot;);\n    }\n}\n</code></pre>\n<p><strong>Exception</strong></p>\n<pre><code>Jun 26, 2020 3:47:43 PM org.openqa.selenium.remote.ProtocolHandshake createSession\nINFORMATION: Detected dialect: W3C\nException in thread &quot;main&quot; org.openqa.selenium.InvalidArgumentException: Attempting to upload file 'C:\\daten\\test\\test2.xml' which does not exist.\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: host: 'xxx', ip: 'xxx', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_171'\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\nCapabilities {acceptInsecureCerts: false, browserName: internet explorer, browserVersion: 11, javascriptEnabled: true, pageLoadStrategy: normal, platform: WINDOWS, platformName: WINDOWS, proxy: Proxy(), se:ieOptions: {browserAttachTimeout: 0, elementScrollBehavior: 0, enablePersistentHover: true, ie.browserCommandLineSwitches: , ie.ensureCleanSession: false, ie.fileUploadDialogTimeout: 3000, ie.forceCreateProcessApi: false, ignoreProtectedModeSettings: false, ignoreZoomSetting: false, initialBrowserUrl: http://localhost:5494/, nativeEvents: true, requireWindowFocus: false}, setWindowRect: true, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, webdriver.remote.sessionid: ae053a22-c088-402e-8de1-f25...}\nSession ID: ae053a22-c088-402e-8de1-f25c4398ccbf\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\n    at org.openqa.selenium.remote.RemoteWebElement.execute(RemoteWebElement.java:285)\n    at org.openqa.selenium.remote.RemoteWebElement.sendKeys(RemoteWebElement.java:106)\n    at de.xxx.xxx.keywords.Main.main(Main.java:41)\n</code></pre>\n<p>The file exists on the local node, but not on the remote node. If the file is on the remote node, it works great. The File exists on local node, but not on remote node: <a href=\"https://i.stack.imgur.com/f31Wb.png\" rel=\"noreferrer\">https://i.stack.imgur.com/f31Wb.png</a></p>\n<p><strong>I read this:</strong></p>\n<ul>\n<li><a href=\"https://www.selenium.dev/documentation/en/remote_webdriver/remote_webdriver_client/\" rel=\"noreferrer\">https://www.selenium.dev/documentation/en/remote_webdriver/remote_webdriver_client/</a></li>\n<li><a href=\"https://www.lambdatest.com/blog/how-to-download-upload-files-using-selenium-with-java/\" rel=\"noreferrer\">https://www.lambdatest.com/blog/how-to-download-upload-files-using-selenium-with-java/</a></li>\n</ul>\n<p>How can I pass a file to the remote node?</p>\n<p><strong>Edit</strong></p>\n<p>The same Error with Firefox, IE and Edge Chromium</p>\n<p>Firefox:</p>\n<pre><code>Exception in thread &quot;main&quot; org.openqa.selenium.InvalidArgumentException: File not found: C:\\daten\\test\\test3.xml\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: host: 'xxx', ip: 'xxx', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_171'\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\nCapabilities {acceptInsecureCerts: true, browserName: firefox, browserVersion: 60.5.0, javascriptEnabled: true, moz:accessibilityChecks: false, moz:geckodriverVersion: 0.25.0, moz:headless: false, moz:processID: 624, moz:profile: C:\\Users\\username\\Ap..., moz:useNonSpecCompliantPointerOrigin: false, moz:webdriverClick: true, pageLoadStrategy: normal, platform: XP, platformName: XP, platformVersion: 10.0, rotatable: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, webdriver.remote.sessionid: 8801c61e-6d61-488b-8f86-c0a...}\nSession ID: 8801c61e-6d61-488b-8f86-c0a1fb2f2df8\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\n    at org.openqa.selenium.remote.RemoteWebElement.execute(RemoteWebElement.java:285)\n    at org.openqa.selenium.remote.RemoteWebElement.sendKeys(RemoteWebElement.java:106)\n    at de.xxx.xxx.keywords.Main.main(Main.java:52)\n</code></pre>\n<p>When I copy the file to the remote client it works great again :(</p>\n<p>Debug:\n<a href=\"https://i.stack.imgur.com/NLnSw.png\" rel=\"noreferrer\">Debug with Firefox</a></p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":12400527,"reputation":425,"user_id":9038008,"display_name":"Shikhar Chaudhary"},"score":0,"creation_date":1609216126,"post_id":65486942,"comment_id":115778739,"body_markdown":"what is the content type for the POST API?\nAlso, what is the structure of your customer class?","body":"what is the content type for the POST API? Also, what is the structure of your customer class?"},{"owner":{"account_id":15723245,"reputation":99,"user_id":11345613,"display_name":"ashil"},"score":0,"creation_date":1609216517,"post_id":65486942,"comment_id":115778805,"body_markdown":"I have added the model above.Content type of POST api is &quot; MediaType.APPLICATION_JSON &quot;","body":"I have added the model above.Content type of POST api is &quot; MediaType.APPLICATION_JSON &quot;"}],"answers":[{"tags":[],"owner":{"account_id":9451216,"reputation":301,"user_id":7028016,"display_name":"Zack"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634723762,"creation_date":1609215050,"answer_id":65487191,"question_id":65486942,"body_markdown":"You need to mock the `save()` method on your repository as well. Returning `null` from the `Optional.map()` method will return an empty Optional, which will cause the `orElseThrow()` to execute its supplier.\r\n\r\nSee [Optional.map][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#map-java.util.function.Function-","title":"my unit test case is failing for the PUT api controller in spring boot","body":"<p>You need to mock the <code>save()</code> method on your repository as well. Returning <code>null</code> from the <code>Optional.map()</code> method will return an empty Optional, which will cause the <code>orElseThrow()</code> to execute its supplier.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\">Optional.map</a>.</p>\n"}],"owner":{"account_id":15723245,"reputation":99,"user_id":11345613,"display_name":"ashil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65487191,"answer_count":1,"score":0,"last_activity_date":1634723762,"creation_date":1609212170,"question_id":65486942,"body_markdown":"i have created a Basic CRUD api.i have written test cases for all the api&#39;s ,Every test cases works fine but not PUT. It always gives me Resource Not Found Error.\r\n\r\n**model**\r\n\r\n    package com.example.crudrestapi.model;\r\n    \r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.Id;\r\n    \r\n    @Data\r\n    @Entity\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Customer {\r\n    \r\n        @Id\r\n        @GeneratedValue private Long id;\r\n        private String name;\r\n        private String address;\r\n        private String phoneNumber;\r\n        private String gstin;\r\n        private float outstandingBalance;\r\n    }\r\n\r\n\r\n**Test**\r\n\r\n    @ExtendWith(SpringExtension.class)\r\n    @WebMvcTest(CrudController.class)\r\n    class CrudControllerTest {\r\n    \r\n        @Autowired\r\n        MockMvc mockMvc;\r\n    \r\n        @MockBean\r\n        CustomerRepo customerRepo;\r\n        \r\n        @Test\r\n        void putApiTest() throws Exception {\r\n\r\n            Customer customer = Customer.builder().build();\r\n            given(customerRepo.findById(Long.parseLong(&quot;1&quot;))).willReturn(Optional.of(customer));\r\n\r\n            mockMvc.perform(put(&quot;/customers/{customerId}&quot;, 1)\r\n                    .content(&quot;{ \\&quot;name\\&quot; : \\&quot;test\\&quot;, \\&quot;address\\&quot; : \\&quot;test\\&quot; }&quot;)\r\n                    .contentType(MediaType.APPLICATION_JSON))\r\n                    .andExpect(status().isOk());\r\n        }\r\n\r\n**controller**\r\n  \r\n\r\n    @PutMapping(&quot;customers/{customerId}&quot;)\r\n        public Customer updateCustomer(@RequestBody Customer newCustomer, @PathVariable Long customerId) throws ResourceNotFoundException {\r\n    \r\n            return customerRepo.findById(customerId)\r\n                    .map(customer -&gt; {\r\n                        if (newCustomer.getName() != null)\r\n                            customer.setName(newCustomer.getName());\r\n                        if (newCustomer.getGstin() != null)\r\n                            customer.setGstin(newCustomer.getGstin());\r\n                        if (newCustomer.getPhoneNumber() != null)\r\n                            customer.setPhoneNumber(newCustomer.getPhoneNumber());\r\n                        if (newCustomer.getAddress() != null)\r\n                            customer.setAddress(newCustomer.getAddress());\r\n                        if (newCustomer.getOutstandingBalance() != 0.0f)\r\n                            customer.setOutstandingBalance(newCustomer.getOutstandingBalance());\r\n                        return customerRepo.save(customer);\r\n                    }).orElseThrow( () -&gt;new ResourceNotFoundException());\r\n    \r\n        }\r\n\r\n\r\n\r\n **Error i&#39;m Getting**\r\n\r\n    2020-12-29 08:36:04.789  INFO 2564 --- [           main] c.e.c.controller.CrudControllerTest      : Starting CrudControllerTest using Java 11.0.9 on Acer-Aspire7 with PID 2564 (started by Ashil in C:\\Users\\Ashil\\Documents\\Java+SpringBoot\\crudRestApi)\r\n    2020-12-29 08:36:04.792  INFO 2564 --- [           main] c.e.c.controller.CrudControllerTest      : No active profile set, falling back to default profiles: default\r\n    2020-12-29 08:36:06.607  INFO 2564 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;applicationTaskExecutor&#39;\r\n    2020-12-29 08:36:07.103  INFO 2564 --- [           main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet &#39;&#39;\r\n    2020-12-29 08:36:07.103  INFO 2564 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet &#39;&#39;\r\n    2020-12-29 08:36:07.106  INFO 2564 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 3 ms\r\n    2020-12-29 08:36:07.155  INFO 2564 --- [           main] c.e.c.controller.CrudControllerTest      : Started CrudControllerTest in 2.943 seconds (JVM running for 5.294)\r\n    \r\n    MockHttpServletRequest:\r\n          HTTP Method = PUT\r\n          Request URI = /customers/1\r\n           Parameters = {}\r\n              Headers = [Content-Type:&quot;application/json;charset=UTF-8&quot;, Content-Length:&quot;39&quot;]\r\n                 Body = { &quot;name&quot; : &quot;test&quot;, &quot;address&quot; : &quot;test&quot; }\r\n        Session Attrs = {}\r\n    \r\n    Handler:\r\n                 Type = com.example.crudrestapi.controller.CrudController\r\n               Method = com.example.crudrestapi.controller.CrudController#updateCustomer(Customer, Long)\r\n    \r\n    Async:\r\n        Async started = false\r\n         Async result = null\r\n    \r\n    Resolved Exception:\r\n                 Type = java.lang.IllegalStateException\r\n    \r\n    ModelAndView:\r\n            View name = null\r\n                 View = null\r\n                Model = null\r\n    \r\n    FlashMap:\r\n           Attributes = null\r\n    \r\n    MockHttpServletResponse:\r\n               Status = 404\r\n        Error message = null\r\n              Headers = [Content-Type:&quot;text/plain;charset=UTF-8&quot;, Content-Length:&quot;18&quot;]\r\n         Content type = text/plain;charset=UTF-8\r\n                 Body = Resource Not Found\r\n        Forwarded URL = null\r\n       Redirected URL = null\r\n              Cookies = []\r\n    \r\n    java.lang.AssertionError: Status expected:&lt;200&gt; but was:&lt;404&gt;\r\n    Expected :200\r\n    Actual   :404\r\n    &lt;Click to see difference&gt;\r\n    \r\n    \r\n    \tat org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)\r\n    \tat org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)\r\n    \tat org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:627)\r\n    \tat org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:196)\r\n    \tat com.example.crudrestapi.controller.CrudControllerTest.putApiTest(CrudControllerTest.java:85)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\r\n    \tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53)\r\n    \r\n    2020-12-29 08:36:07.506  INFO 2564 --- [extShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService &#39;applicationTaskExecutor&#39;\r\n    \r\n    Process finished with exit code -1\r\n\r\ni don&#39;t understand why i get **404**.The Object is not created by the builder..??\r\n\r\nShould i specify the **id** in the builder..??\r\n","title":"my unit test case is failing for the PUT api controller in spring boot","body":"<p>i have created a Basic CRUD api.i have written test cases for all the api's ,Every test cases works fine but not PUT. It always gives me Resource Not Found Error.</p>\n<p><strong>model</strong></p>\n<pre><code>package com.example.crudrestapi.model;\n\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\n\n@Data\n@Entity\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Customer {\n\n    @Id\n    @GeneratedValue private Long id;\n    private String name;\n    private String address;\n    private String phoneNumber;\n    private String gstin;\n    private float outstandingBalance;\n}\n</code></pre>\n<p><strong>Test</strong></p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@WebMvcTest(CrudController.class)\nclass CrudControllerTest {\n\n    @Autowired\n    MockMvc mockMvc;\n\n    @MockBean\n    CustomerRepo customerRepo;\n    \n    @Test\n    void putApiTest() throws Exception {\n\n        Customer customer = Customer.builder().build();\n        given(customerRepo.findById(Long.parseLong(&quot;1&quot;))).willReturn(Optional.of(customer));\n\n        mockMvc.perform(put(&quot;/customers/{customerId}&quot;, 1)\n                .content(&quot;{ \\&quot;name\\&quot; : \\&quot;test\\&quot;, \\&quot;address\\&quot; : \\&quot;test\\&quot; }&quot;)\n                .contentType(MediaType.APPLICATION_JSON))\n                .andExpect(status().isOk());\n    }\n</code></pre>\n<p><strong>controller</strong></p>\n<pre><code>@PutMapping(&quot;customers/{customerId}&quot;)\n    public Customer updateCustomer(@RequestBody Customer newCustomer, @PathVariable Long customerId) throws ResourceNotFoundException {\n\n        return customerRepo.findById(customerId)\n                .map(customer -&gt; {\n                    if (newCustomer.getName() != null)\n                        customer.setName(newCustomer.getName());\n                    if (newCustomer.getGstin() != null)\n                        customer.setGstin(newCustomer.getGstin());\n                    if (newCustomer.getPhoneNumber() != null)\n                        customer.setPhoneNumber(newCustomer.getPhoneNumber());\n                    if (newCustomer.getAddress() != null)\n                        customer.setAddress(newCustomer.getAddress());\n                    if (newCustomer.getOutstandingBalance() != 0.0f)\n                        customer.setOutstandingBalance(newCustomer.getOutstandingBalance());\n                    return customerRepo.save(customer);\n                }).orElseThrow( () -&gt;new ResourceNotFoundException());\n\n    }\n</code></pre>\n<p><strong>Error i'm Getting</strong></p>\n<pre><code>2020-12-29 08:36:04.789  INFO 2564 --- [           main] c.e.c.controller.CrudControllerTest      : Starting CrudControllerTest using Java 11.0.9 on Acer-Aspire7 with PID 2564 (started by Ashil in C:\\Users\\Ashil\\Documents\\Java+SpringBoot\\crudRestApi)\n2020-12-29 08:36:04.792  INFO 2564 --- [           main] c.e.c.controller.CrudControllerTest      : No active profile set, falling back to default profiles: default\n2020-12-29 08:36:06.607  INFO 2564 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'\n2020-12-29 08:36:07.103  INFO 2564 --- [           main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''\n2020-12-29 08:36:07.103  INFO 2564 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''\n2020-12-29 08:36:07.106  INFO 2564 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 3 ms\n2020-12-29 08:36:07.155  INFO 2564 --- [           main] c.e.c.controller.CrudControllerTest      : Started CrudControllerTest in 2.943 seconds (JVM running for 5.294)\n\nMockHttpServletRequest:\n      HTTP Method = PUT\n      Request URI = /customers/1\n       Parameters = {}\n          Headers = [Content-Type:&quot;application/json;charset=UTF-8&quot;, Content-Length:&quot;39&quot;]\n             Body = { &quot;name&quot; : &quot;test&quot;, &quot;address&quot; : &quot;test&quot; }\n    Session Attrs = {}\n\nHandler:\n             Type = com.example.crudrestapi.controller.CrudController\n           Method = com.example.crudrestapi.controller.CrudController#updateCustomer(Customer, Long)\n\nAsync:\n    Async started = false\n     Async result = null\n\nResolved Exception:\n             Type = java.lang.IllegalStateException\n\nModelAndView:\n        View name = null\n             View = null\n            Model = null\n\nFlashMap:\n       Attributes = null\n\nMockHttpServletResponse:\n           Status = 404\n    Error message = null\n          Headers = [Content-Type:&quot;text/plain;charset=UTF-8&quot;, Content-Length:&quot;18&quot;]\n     Content type = text/plain;charset=UTF-8\n             Body = Resource Not Found\n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n\njava.lang.AssertionError: Status expected:&lt;200&gt; but was:&lt;404&gt;\nExpected :200\nActual   :404\n&lt;Click to see difference&gt;\n\n\n    at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)\n    at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)\n    at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:627)\n    at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:196)\n    at com.example.crudrestapi.controller.CrudControllerTest.putApiTest(CrudControllerTest.java:85)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53)\n\n2020-12-29 08:36:07.506  INFO 2564 --- [extShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'\n\nProcess finished with exit code -1\n</code></pre>\n<p>i don't understand why i get <strong>404</strong>.The Object is not created by the builder..??</p>\n<p>Should i specify the <strong>id</strong> in the builder..??</p>\n"},{"tags":["java","spring-boot","postconstruct"],"answers":[{"tags":[],"owner":{"account_id":4754242,"reputation":883,"user_id":3843392,"display_name":"jumb0jet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634720260,"creation_date":1634720260,"answer_id":69643096,"question_id":69642970,"body_markdown":"The `@PostConstruct` annotation is used on a method that needs to be executed after dependency injection is done to perform any initialization.\r\nThis method will be invoked by a framework, only if a framework controls the creation of an object.\r\n\r\nSince you instantiate `Banana` manually -  you also have to call it manually.","title":"How to call PostConstruct method when creating an object with new keyword","body":"<p>The <code>@PostConstruct</code> annotation is used on a method that needs to be executed after dependency injection is done to perform any initialization.\nThis method will be invoked by a framework, only if a framework controls the creation of an object.</p>\n<p>Since you instantiate <code>Banana</code> manually -  you also have to call it manually.</p>\n"},{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1634720665,"creation_date":1634720665,"answer_id":69643191,"question_id":69642970,"body_markdown":"All the annotations honored by spring (`@PostConstruct`, `@PreDestroy`, `@Autowired` and many others) are applicable when the object is created by spring itself.\r\nIn this case spring can analyze the class, handle the annotations, etc.\r\n\r\nWhen you instantiate by yourself (`new Banana()`) - spring doesn&#39;t even know that your object exists and hence can&#39;t call any of its method, so you&#39;re forced doing it by yourself.\r\nSo yes, in this case you will have to call the method annotated with `@PostConstruct` manually, which means that the `@PostConstruct` annotation is pretty useless can can be omitted at all.","title":"How to call PostConstruct method when creating an object with new keyword","body":"<p>All the annotations honored by spring (<code>@PostConstruct</code>, <code>@PreDestroy</code>, <code>@Autowired</code> and many others) are applicable when the object is created by spring itself.\nIn this case spring can analyze the class, handle the annotations, etc.</p>\n<p>When you instantiate by yourself (<code>new Banana()</code>) - spring doesn't even know that your object exists and hence can't call any of its method, so you're forced doing it by yourself.\nSo yes, in this case you will have to call the method annotated with <code>@PostConstruct</code> manually, which means that the <code>@PostConstruct</code> annotation is pretty useless can can be omitted at all.</p>\n"}],"owner":{"account_id":23088254,"reputation":3,"user_id":17199460,"display_name":"dexprs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69643191,"answer_count":2,"score":0,"last_activity_date":1634723706,"creation_date":1634719816,"question_id":69642970,"body_markdown":"I have a class `Banana` which has a `@PostConstruct` method that I want to run after the class object is created. I am creating the object of this class using these calls \r\n```java\r\nCat cat = new Cat();\r\nBanana b = new Banana(cat);\r\n```\r\nSo from the logs I understand that this `@PostConstruct` method is not being called when the `Banana` object is being created. I think the way I have implemented is not the correct usage. Can someone guide me how do I correctly implement this as this is my first task on Java project with Spring Boot. I need that setup code to run after `Banana` object is created, so is there any other way apart from `@PostConstruct`\r\n\r\n```java\r\n@Slf4j\r\npublic class Banana {\r\n    public Banana(Cat cat) {\r\n        this.cat = cat;\r\n    }\r\n    private Cat cat;\r\n\r\n    @PostConstruct\r\n    public void setup() {\r\n        // some code\r\n    }\r\n\r\n    public void execute() {\r\n        // some code\r\n    }\r\n}\r\n```","title":"How to call PostConstruct method when creating an object with new keyword","body":"<p>I have a class <code>Banana</code> which has a <code>@PostConstruct</code> method that I want to run after the class object is created. I am creating the object of this class using these calls</p>\n<pre class=\"lang-java prettyprint-override\"><code>Cat cat = new Cat();\nBanana b = new Banana(cat);\n</code></pre>\n<p>So from the logs I understand that this <code>@PostConstruct</code> method is not being called when the <code>Banana</code> object is being created. I think the way I have implemented is not the correct usage. Can someone guide me how do I correctly implement this as this is my first task on Java project with Spring Boot. I need that setup code to run after <code>Banana</code> object is created, so is there any other way apart from <code>@PostConstruct</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\npublic class Banana {\n    public Banana(Cat cat) {\n        this.cat = cat;\n    }\n    private Cat cat;\n\n    @PostConstruct\n    public void setup() {\n        // some code\n    }\n\n    public void execute() {\n        // some code\n    }\n}\n</code></pre>\n"},{"tags":["java","mongodb","mongotemplate"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1634717544,"post_id":69642377,"comment_id":123097088,"body_markdown":"Can you print `bson.toJson()` result and add it to your question by [edit] it ?","body":"Can you print <code>bson.toJson()</code> result and add it to your question by <a href=\"https://stackoverflow.com/posts/69642377/edit\">edit</a> it ?"},{"owner":{"account_id":22838330,"reputation":33,"user_id":16985777,"display_name":"zhu mo"},"score":0,"creation_date":1634719143,"post_id":69642377,"comment_id":123097792,"body_markdown":"mongoSql like this: db.knowledge_resource_copy1.find(\n{_id:ObjectId(&quot;61517de29946587296c7c375&quot;)},\n\n)\n\n.forEach(\n\tfunction(item){\n\t\tdb.knowledge_resource_copy1.update(\n\t\t{_id:item._id},\n\t\t{$set:{description:item.description.substr(0,4)+&quot;h3&quot;}}\n\t\t)\n\t}\n\t\n);","body":"mongoSql like this: db.knowledge_resource_copy1.find( {_id:ObjectId(&quot;61517de29946587296c7c375&quot;)},  )  .forEach( \tfunction(item){ \t\tdb.knowledge_resource_copy1.update( \t\t{_id:item._id}, \t\t{$set:{description:item.description.substr(0,4)+&quot;h3&quot;}} \t\t) \t} \t );"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1634720194,"post_id":69642377,"comment_id":123098269,"body_markdown":"Are you sure `db` is well define ? Also, it seem to have an error because there is missing an argument like this: `fun([json}, )`","body":"Are you sure <code>db</code> is well define ? Also, it seem to have an error because there is missing an argument like this: <code>fun([json}, )</code>"},{"owner":{"account_id":22838330,"reputation":33,"user_id":16985777,"display_name":"zhu mo"},"score":0,"creation_date":1634722404,"post_id":69642377,"comment_id":123099192,"body_markdown":"this can run ok :System.out.println(MongoUtils.MONGO_TEMPLATE.getDb());","body":"this can run ok :System.out.println(MongoUtils.MONGO_TEMPLATE.getDb());"},{"owner":{"account_id":22838330,"reputation":33,"user_id":16985777,"display_name":"zhu mo"},"score":0,"creation_date":1634722495,"post_id":69642377,"comment_id":123099227,"body_markdown":"The js sql also can run ok in navicat","body":"The js sql also can run ok in navicat"},{"owner":{"account_id":22838330,"reputation":33,"user_id":16985777,"display_name":"zhu mo"},"score":0,"creation_date":1634723775,"post_id":69642377,"comment_id":123099787,"body_markdown":"or is there any way to use mongoTemplate to update data, the js sql like this: db.knowledge_resource_copy1.update(\n\t\t{_id:item._id},\n\t\t{$set:{description:item.description.substr(0,5)+&quot;h3&quot;}}\n\t\t)","body":"or is there any way to use mongoTemplate to update data, the js sql like this: db.knowledge_resource_copy1.update( \t\t{_id:item._id}, \t\t{$set:{description:item.description.substr(0,5)+&quot;h3&quot;}} \t\t)"}],"owner":{"account_id":22838330,"reputation":33,"user_id":16985777,"display_name":"zhu mo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634723396,"creation_date":1634716973,"question_id":69642377,"body_markdown":"I&#39;m trying to run JS code for MongoDB like this :\r\n\r\n```java\r\nString mongoSql = &quot;db.knowledge_resource_copy1.find({_id:ObjectId(\\&quot;61517de29946587296c7c375\\&quot;)}, ).forEach(function(item){\r\n\tdb.knowledge_resource_copy1.update({_id:item._id}, {$set:{description:item.description.substr(0,5)+\\&quot;h3\\&quot;}} )\r\n});&quot;;\r\nBasicDBObject bson = new BasicDBObject();\r\nbson.put(&quot;$eval&quot;, mongoSql);\r\nMongoUtils.MONGO_TEMPLATE.executeCommand(bson.toJson());\r\n```\r\n\r\nBut I got this error :\r\n\r\n    com.mongodb.MongoCommandException: Command failed with error 13 (Unauthorized): &#39;not authorized.\r\n\r\n\r\nHow to solve this?\r\n\r\n","title":"mongoTemplate executeCommand error : not authorized","body":"<p>I'm trying to run JS code for MongoDB like this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>String mongoSql = &quot;db.knowledge_resource_copy1.find({_id:ObjectId(\\&quot;61517de29946587296c7c375\\&quot;)}, ).forEach(function(item){\n    db.knowledge_resource_copy1.update({_id:item._id}, {$set:{description:item.description.substr(0,5)+\\&quot;h3\\&quot;}} )\n});&quot;;\nBasicDBObject bson = new BasicDBObject();\nbson.put(&quot;$eval&quot;, mongoSql);\nMongoUtils.MONGO_TEMPLATE.executeCommand(bson.toJson());\n</code></pre>\n<p>But I got this error :</p>\n<pre><code>com.mongodb.MongoCommandException: Command failed with error 13 (Unauthorized): 'not authorized.\n</code></pre>\n<p>How to solve this?</p>\n"},{"tags":["java","spring","spring-boot","tomcat"],"comments":[{"owner":{"account_id":9073858,"reputation":2807,"user_id":6756090,"display_name":"slauth"},"score":1,"creation_date":1634720175,"post_id":69642973,"comment_id":123098254,"body_markdown":"Not answering your question, but when using Spring Boot, instead of directly defining dependencies you&#39;d normally use so called &quot;starters&quot; that pull in all required dependencies with supported and tested versions. It&#39;s `spring-boot-starter-thymeleaf` in case of Thymeleaf.","body":"Not answering your question, but when using Spring Boot, instead of directly defining dependencies you&#39;d normally use so called &quot;starters&quot; that pull in all required dependencies with supported and tested versions. It&#39;s <code>spring-boot-starter-thymeleaf</code> in case of Thymeleaf."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1634720181,"post_id":69642973,"comment_id":123098259,"body_markdown":"You are comparing a very basic javascript functionality (lodash) to an entire ecosystem of frameworks in java (spring). Yes, learning and understanding spring takes months, that is how it is. It is like trying to learn react based on the imports: ain&#39;t gonna work / be fun.","body":"You are comparing a very basic javascript functionality (lodash) to an entire ecosystem of frameworks in java (spring). Yes, learning and understanding spring takes months, that is how it is. It is like trying to learn react based on the imports: ain&#39;t gonna work / be fun."},{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1634720279,"post_id":69642973,"comment_id":123098309,"body_markdown":"*Any solution to this?* ... the short answer is no in my opinion. Welcome to the J-jungle :D","body":"<i>Any solution to this?</i> ... the short answer is no in my opinion. Welcome to the J-jungle :D"}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634721219,"creation_date":1634721219,"answer_id":69643314,"question_id":69642973,"body_markdown":"Yeah, this is a kind of weird question indeed.\r\nAll-in all I think its a matter of time that takes to migrate from one ecosystem to another. Also I believe, probably you&#39;ve picked a bad example. \r\n\r\nHow about something more simple (and yes, lodash conceptually is very simple):\r\nWhat about, say, logging:\r\n\r\nso you import a logging library (say you&#39;re using slf4j with loback/log4j2 whatever -- pretty common these days)\r\nthen in the import you do:\r\n\r\n~~~\r\nimport org.slf4j.Logger;\r\n~~~\r\nYou see the package slf4j - and have a documentation in google just like with lodash\r\nThen you use the logger and that&#39;s easy.\r\n\r\nNow with spring its way more complicated because there is nothing I&#39;m aware so &quot;powerful&quot; and &quot;complex&quot; at the same time the java script parlance. So it provides plethora of APIs and classes, it takes quite a while to grasp its concepts. But in general when you see `import org.springframework` something - you can google for springframework and you&#39;ll get to the documentation. The documentation is huge though, but again, its another story.\r\n","title":"How to know what a Java artifact is exactly used for?","body":"<p>Yeah, this is a kind of weird question indeed.\nAll-in all I think its a matter of time that takes to migrate from one ecosystem to another. Also I believe, probably you've picked a bad example.</p>\n<p>How about something more simple (and yes, lodash conceptually is very simple):\nWhat about, say, logging:</p>\n<p>so you import a logging library (say you're using slf4j with loback/log4j2 whatever -- pretty common these days)\nthen in the import you do:</p>\n<pre><code>import org.slf4j.Logger;\n</code></pre>\n<p>You see the package slf4j - and have a documentation in google just like with lodash\nThen you use the logger and that's easy.</p>\n<p>Now with spring its way more complicated because there is nothing I'm aware so &quot;powerful&quot; and &quot;complex&quot; at the same time the java script parlance. So it provides plethora of APIs and classes, it takes quite a while to grasp its concepts. But in general when you see <code>import org.springframework</code> something - you can google for springframework and you'll get to the documentation. The documentation is huge though, but again, its another story.</p>\n"},{"tags":[],"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634723223,"creation_date":1634723223,"answer_id":69643781,"question_id":69642973,"body_markdown":"It&#39;s not a complete answer, but this might help:\r\n\r\nIt&#39;s a best practice for libraries to use a unique prefix for class packages, e.g. &#39;org.thymeleaf&#39; for thymeleaf.jar, &#39;org.thymeleaf.spring5&#39; for thymeleaf-spring5.jar.\r\n\r\nYou can lookup which class belongs to which jar (if they are in the central maven repository) via https://search.maven.org/, e.g. using the full class name `fc:org.thymeleaf.spring5.SpringTemplateEngine` or the simple class name `c:SpringTemplateEngine`.\r\n\r\nUnfortunately search.maven.org does not show the list of all classes or packages in a jar, you actually have to either download them or find a javadoc page on the library&#39;s own website.\r\n\r\nIIRC, bintray was better at this, but unfortunately, JFrog stopped that free service.\r\n","title":"How to know what a Java artifact is exactly used for?","body":"<p>It's not a complete answer, but this might help:</p>\n<p>It's a best practice for libraries to use a unique prefix for class packages, e.g. 'org.thymeleaf' for thymeleaf.jar, 'org.thymeleaf.spring5' for thymeleaf-spring5.jar.</p>\n<p>You can lookup which class belongs to which jar (if they are in the central maven repository) via <a href=\"https://search.maven.org/\" rel=\"nofollow noreferrer\">https://search.maven.org/</a>, e.g. using the full class name <code>fc:org.thymeleaf.spring5.SpringTemplateEngine</code> or the simple class name <code>c:SpringTemplateEngine</code>.</p>\n<p>Unfortunately search.maven.org does not show the list of all classes or packages in a jar, you actually have to either download them or find a javadoc page on the library's own website.</p>\n<p>IIRC, bintray was better at this, but unfortunately, JFrog stopped that free service.</p>\n"}],"owner":{"account_id":2595877,"reputation":3223,"user_id":2249582,"accept_rate":68,"display_name":"Radioreve"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1634723223,"creation_date":1634719821,"question_id":69642973,"body_markdown":"This may sound as a weird question but here it goes. I&#39;m learning java coming from node, and although I&#39;m getting fairly comfortable with the syntax/language/ecosystem, I still find it **very difficult** to know what a given package is exactly used for, in terms of code. For example\r\n\r\n**Node.js**\r\n\r\n`&quot;lodash: 4.0.0&quot;` -&gt; `import _ from lodash` -&gt; `_.shuffle()` \r\n\r\nEasy to see what lodash is used for and besides, googling lodash directs you straight to the documentation website.\r\n\r\n**Java**\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n      &lt;artifactId&gt;thymeleaf-spring5&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.12.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nLooking at the code gives you stuff like : \r\n\r\n    import org.thymeleaf.spring5.SpringTemplateEngine;\r\n    import org.springframework.context.MessageSource;\r\n\r\nMeaning you have to understand Spring design to understand what this package will be used for. How about a google search ? It&#39;s even worse! Only a list of all the package versions. What and how it is exactly used for, on the other hand, is not listed at all ! \r\n\r\nIt makes mastering what package is needed for somewhat painful for me. \r\n\r\nAny solution to this?","title":"How to know what a Java artifact is exactly used for?","body":"<p>This may sound as a weird question but here it goes. I'm learning java coming from node, and although I'm getting fairly comfortable with the syntax/language/ecosystem, I still find it <strong>very difficult</strong> to know what a given package is exactly used for, in terms of code. For example</p>\n<p><strong>Node.js</strong></p>\n<p><code>&quot;lodash: 4.0.0&quot;</code> -&gt; <code>import _ from lodash</code> -&gt; <code>_.shuffle()</code></p>\n<p>Easy to see what lodash is used for and besides, googling lodash directs you straight to the documentation website.</p>\n<p><strong>Java</strong></p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n  &lt;artifactId&gt;thymeleaf-spring5&lt;/artifactId&gt;\n  &lt;version&gt;3.0.12.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Looking at the code gives you stuff like :</p>\n<pre><code>import org.thymeleaf.spring5.SpringTemplateEngine;\nimport org.springframework.context.MessageSource;\n</code></pre>\n<p>Meaning you have to understand Spring design to understand what this package will be used for. How about a google search ? It's even worse! Only a list of all the package versions. What and how it is exactly used for, on the other hand, is not listed at all !</p>\n<p>It makes mastering what package is needed for somewhat painful for me.</p>\n<p>Any solution to this?</p>\n"},{"tags":["java","spring","spring-boot","unit-testing","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":4754242,"reputation":883,"user_id":3843392,"display_name":"jumb0jet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634723191,"creation_date":1634723191,"answer_id":69643778,"question_id":69634994,"body_markdown":"According to the [Spring Boot Reference][1]:\r\n\r\nIf you use a [test annotation to test a more specific slice of your application][2], you should avoid adding configuration settings that are specific to a particular area on the [main method’s application class][3]. \r\n\r\nThe underlying component scan configuration of `@SpringBootApplication` defines exclude filters that are used to make sure slicing works as expected. If you are using an explicit `@ComponentScan` directive on your `@SpringBootApplication`-annotated class, be aware that those filters will be disabled. If you are using slicing, you should define them again.\r\n\r\nSo in your case consider to move annotations like `@EnableCaching`, `@EnableAsync` to a separate class.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.testing.spring-boot-applications.detecting-configuration\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.testing.spring-boot-applications.autoconfigured-tests\r\n  [3]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.testing.spring-boot-applications.user-configuration-and-slicing","title":"@DataJpaTest - loads configuration from @SpringBootApplication class","body":"<p>According to the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.testing.spring-boot-applications.detecting-configuration\" rel=\"nofollow noreferrer\">Spring Boot Reference</a>:</p>\n<p>If you use a <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.testing.spring-boot-applications.autoconfigured-tests\" rel=\"nofollow noreferrer\">test annotation to test a more specific slice of your application</a>, you should avoid adding configuration settings that are specific to a particular area on the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.testing.spring-boot-applications.user-configuration-and-slicing\" rel=\"nofollow noreferrer\">main method’s application class</a>.</p>\n<p>The underlying component scan configuration of <code>@SpringBootApplication</code> defines exclude filters that are used to make sure slicing works as expected. If you are using an explicit <code>@ComponentScan</code> directive on your <code>@SpringBootApplication</code>-annotated class, be aware that those filters will be disabled. If you are using slicing, you should define them again.</p>\n<p>So in your case consider to move annotations like <code>@EnableCaching</code>, <code>@EnableAsync</code> to a separate class.</p>\n"}],"owner":{"account_id":372117,"reputation":2909,"user_id":1486762,"accept_rate":47,"display_name":"Bilbo Baggins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634723191,"creation_date":1634662926,"question_id":69634994,"body_markdown":"I am confused a bit,based on this [documentation][1], I should be only putting this annotation `@DataJpaTest` and it will configure my application context to be only for JPA repositories and that too for an in-memory database. Now the problem is in my application I have a Main class which is annotated with `@SpringBootApplication` and it is loading rest of the configuration for Web interceptor and many other things from there. In fact it is trying to load the bootstrap.properties file too.\r\n\r\nIn my understanding it should NOT be using this configuration.\r\n \r\n\r\nBelow is my test code and main class.\r\n\r\n    @OpenAPIDefinition(info = @Info(title = &quot;Test API&quot;, version = &quot;0.1.10-SNAPSHOT&quot;, description = &quot;Test API&quot;, contact = @Contact(name = &quot;My Team&quot;, email = &quot;sample@mycompany.com&quot;)), servers = {\r\n    \t\t@Server(description = &quot;Current Stage Server url&quot;, url = &quot;https://mycompany.com/testapics&quot;),\r\n    \t\t@Server(description = &quot;Stable Stage Server url&quot;, url = &quot;https://mycompany.com/testapi&quot;) })\r\n    @SpringBootApplication(scanBasePackages = { &quot;com.mycompany.utility&quot;, &quot;com.mycompany.sample.users&quot;,\r\n    \t\t&quot;com.mycompany.sample.utility&quot;, &quot;com.mycompany.another.sample.interceptor&quot;,\r\n    \t\t&quot;com.mycompany.sample.security.vulnerableinput&quot;, &quot;com.mycompany.sample.security.nocache.filter&quot;,\r\n    \t\t&quot;com.mycompany.sample.security.common&quot;, &quot;com.mycompany.sample.security.csrf&quot;,\r\n    \t\t&quot;com.mycompany.sample.security.nocache&quot; })\r\n    @EnableCaching\r\n    @EnableAsync\r\n    public class SampleApiApplication implements WebMvcConfigurer {\r\n\r\nThe main class has a bunch of other bean configurations in it. (Omitting those for clarity).\r\n\r\nBelow is my test class.\r\n\r\n    @DataJpaTest\r\n    public class UsersRepositoryTest {\r\n    \r\n        @Autowired\r\n        private UsersRepository usersRepository;\r\n    \r\n        @Test\r\n        public void test_usersRepository_findByEmplId() {\r\n            List&lt;User&gt; users = getUsersData();\r\n            UsersRepository.saveAll(users);\r\n            for (User user : users) {\r\n                Assert.assertTrue(user.getId() != null);\r\n            }\r\n        }\r\n    \r\n        private List&lt;User&gt; getUsersData() {\r\n            List&lt;User&gt; userList = new ArrayList&lt;&gt;();\r\n            User user = new User();\r\n            user.setEmpId(&quot;XYZ_001&quot;);\r\n            user.setUserUUID(UUID.randomUUID().toString());\r\n            userList.add(user);\r\n            return userList;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/orm/jpa/DataJpaTest.html","title":"@DataJpaTest - loads configuration from @SpringBootApplication class","body":"<p>I am confused a bit,based on this <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/orm/jpa/DataJpaTest.html\" rel=\"nofollow noreferrer\">documentation</a>, I should be only putting this annotation <code>@DataJpaTest</code> and it will configure my application context to be only for JPA repositories and that too for an in-memory database. Now the problem is in my application I have a Main class which is annotated with <code>@SpringBootApplication</code> and it is loading rest of the configuration for Web interceptor and many other things from there. In fact it is trying to load the bootstrap.properties file too.</p>\n<p>In my understanding it should NOT be using this configuration.</p>\n<p>Below is my test code and main class.</p>\n<pre><code>@OpenAPIDefinition(info = @Info(title = &quot;Test API&quot;, version = &quot;0.1.10-SNAPSHOT&quot;, description = &quot;Test API&quot;, contact = @Contact(name = &quot;My Team&quot;, email = &quot;sample@mycompany.com&quot;)), servers = {\n        @Server(description = &quot;Current Stage Server url&quot;, url = &quot;https://mycompany.com/testapics&quot;),\n        @Server(description = &quot;Stable Stage Server url&quot;, url = &quot;https://mycompany.com/testapi&quot;) })\n@SpringBootApplication(scanBasePackages = { &quot;com.mycompany.utility&quot;, &quot;com.mycompany.sample.users&quot;,\n        &quot;com.mycompany.sample.utility&quot;, &quot;com.mycompany.another.sample.interceptor&quot;,\n        &quot;com.mycompany.sample.security.vulnerableinput&quot;, &quot;com.mycompany.sample.security.nocache.filter&quot;,\n        &quot;com.mycompany.sample.security.common&quot;, &quot;com.mycompany.sample.security.csrf&quot;,\n        &quot;com.mycompany.sample.security.nocache&quot; })\n@EnableCaching\n@EnableAsync\npublic class SampleApiApplication implements WebMvcConfigurer {\n</code></pre>\n<p>The main class has a bunch of other bean configurations in it. (Omitting those for clarity).</p>\n<p>Below is my test class.</p>\n<pre><code>@DataJpaTest\npublic class UsersRepositoryTest {\n\n    @Autowired\n    private UsersRepository usersRepository;\n\n    @Test\n    public void test_usersRepository_findByEmplId() {\n        List&lt;User&gt; users = getUsersData();\n        UsersRepository.saveAll(users);\n        for (User user : users) {\n            Assert.assertTrue(user.getId() != null);\n        }\n    }\n\n    private List&lt;User&gt; getUsersData() {\n        List&lt;User&gt; userList = new ArrayList&lt;&gt;();\n        User user = new User();\n        user.setEmpId(&quot;XYZ_001&quot;);\n        user.setUserUUID(UUID.randomUUID().toString());\n        userList.add(user);\n        return userList;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","gaussian","noise","gauss"],"answers":[{"tags":[],"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634723021,"creation_date":1634723021,"answer_id":69643733,"question_id":69643180,"body_markdown":"You are creating a 3*3 Gauss template `w`, but you are using only the center element `w[1][1]` instead of computing a weighted combination of the 9 pixels around your current position.\r\n\r\nThis effectively multiplies all pixel values with a constant value `w[1][1]`, which has a value below 1, producing just a darker version of the original image.","title":"java remove gaussian noise","body":"<p>You are creating a 3*3 Gauss template <code>w</code>, but you are using only the center element <code>w[1][1]</code> instead of computing a weighted combination of the 9 pixels around your current position.</p>\n<p>This effectively multiplies all pixel values with a constant value <code>w[1][1]</code>, which has a value below 1, producing just a darker version of the original image.</p>\n"}],"owner":{"account_id":21408028,"reputation":121,"user_id":15768868,"display_name":"rulila52"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1634723021,"creation_date":1634720623,"question_id":69643180,"body_markdown":"I am trying to write a program that would remove noise from an image with a Gaussian filter. I am trying to write the following code:\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        File file = new File(&quot;src/main/resources/123.jpg&quot;);\r\n        BufferedImage source;\r\n\r\n        try {\r\n            source = ImageIO.read(file);\r\n            BufferedImage result = new BufferedImage(source.getWidth(), source.getHeight(), source.getType());\r\n\r\n            int n = 3;\r\n            double[][] w = new double[n][n];\r\n            genGaussTemplate(w, n, 0.5);\r\n            for (int i = 1; i &lt; source.getWidth() - 1; i++) {\r\n                for (int j = 1; j &lt; source.getHeight() - 1; j++) {\r\n\r\n                    // Получаем цвет текущего пикселя\r\n                    Color color = new Color(source.getRGB(i, j));\r\n\r\n                    // Получаем каналы этого цвета\r\n                    int blue = color.getBlue();\r\n                    int red = color.getRed();\r\n                    int green = color.getGreen();\r\n\r\n                    red = (int) ((float) red * w[1][1]);\r\n                    green = (int) ((float) green * w[1][1]);\r\n                    blue = (int) ((float) blue * w[1][1]);\r\n\r\n                    //  Cоздаем новый цвет\r\n                    Color newColor = new Color(red, green, blue);\r\n\r\n                    // И устанавливаем этот цвет в текущий пиксель результирующего изображения\r\n                    result.setRGB(i, j, newColor.getRGB());\r\n                }\r\n            }\r\n            // Сохраняем результат в новый файл\r\n            File output = new File(&quot;src/main/resources/output/321.jpg&quot;);\r\n            ImageIO.write(result, &quot;jpg&quot;, output);\r\n        }\r\n        catch (IOException e) {\r\n            System.out.println(&quot;Произошла ошибка - &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n    static void genGaussTemplate(double[][] window, int ksize, double sigma) {\r\n        final double pi = 3.1415926;\r\n        int center = ksize / 2;\r\n        double x2, y2;\r\n        double sum = 0;\r\n        for (int i = 0; i &lt; ksize; i++) {\r\n            x2 = Math.pow(i - center, 2);\r\n            for (int j = 0; j &lt; ksize; j++) {\r\n                y2 = Math.pow(j - center, 2);\r\n                double g = Math.exp(-(x2 + y2) / (2 * sigma * sigma));\r\n                g /= 2 * pi * sigma * sigma;\r\n                sum += g;\r\n                window[i][j] =g;\r\n            }\r\n        }\r\n        for (int i = 0; i &lt; ksize; i++) {\r\n            for (int j = 0; j &lt; ksize; j++) {\r\n                window[i][j] /=sum;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nBut instead of removing noise i&#39;m getting darkening the image. What&#39;s i do wrong?\r\n\r\n[![before][1]][1]\r\n\r\n\r\n[![after][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Blb7v.jpg\r\n  [2]: https://i.stack.imgur.com/SjcYJ.png\r\n\r\nGaussian noise is statistical noise having a probability density equal to the probability density of a normal distribution, also known as Gaussian. In other words, the values that such noise can take have a Gaussian distribution. Named after Karl Gauss.\r\n\r\nA special case is white Gaussian noise, then the values at any given time are independent and equally distributed random variables (which means that together they do not correlate). When testing and modeling communication channels, Gaussian noise is used as additive white noise to generate additive white Gaussian noise.\r\n\r\nIn telecommunications, communication channels can be affected by broadband Gaussian noise coming from various natural sources, such as thermal vibrations of atoms in conductors (thermal noise or Johnson-Nyquist noise), shot noise, blackbody radiation from the earth or other warm objects, and from celestial sources such as the Sun","title":"java remove gaussian noise","body":"<p>I am trying to write a program that would remove noise from an image with a Gaussian filter. I am trying to write the following code:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        File file = new File(&quot;src/main/resources/123.jpg&quot;);\n        BufferedImage source;\n\n        try {\n            source = ImageIO.read(file);\n            BufferedImage result = new BufferedImage(source.getWidth(), source.getHeight(), source.getType());\n\n            int n = 3;\n            double[][] w = new double[n][n];\n            genGaussTemplate(w, n, 0.5);\n            for (int i = 1; i &lt; source.getWidth() - 1; i++) {\n                for (int j = 1; j &lt; source.getHeight() - 1; j++) {\n\n                    // Получаем цвет текущего пикселя\n                    Color color = new Color(source.getRGB(i, j));\n\n                    // Получаем каналы этого цвета\n                    int blue = color.getBlue();\n                    int red = color.getRed();\n                    int green = color.getGreen();\n\n                    red = (int) ((float) red * w[1][1]);\n                    green = (int) ((float) green * w[1][1]);\n                    blue = (int) ((float) blue * w[1][1]);\n\n                    //  Cоздаем новый цвет\n                    Color newColor = new Color(red, green, blue);\n\n                    // И устанавливаем этот цвет в текущий пиксель результирующего изображения\n                    result.setRGB(i, j, newColor.getRGB());\n                }\n            }\n            // Сохраняем результат в новый файл\n            File output = new File(&quot;src/main/resources/output/321.jpg&quot;);\n            ImageIO.write(result, &quot;jpg&quot;, output);\n        }\n        catch (IOException e) {\n            System.out.println(&quot;Произошла ошибка - &quot; + e.getMessage());\n        }\n    }\n\n    static void genGaussTemplate(double[][] window, int ksize, double sigma) {\n        final double pi = 3.1415926;\n        int center = ksize / 2;\n        double x2, y2;\n        double sum = 0;\n        for (int i = 0; i &lt; ksize; i++) {\n            x2 = Math.pow(i - center, 2);\n            for (int j = 0; j &lt; ksize; j++) {\n                y2 = Math.pow(j - center, 2);\n                double g = Math.exp(-(x2 + y2) / (2 * sigma * sigma));\n                g /= 2 * pi * sigma * sigma;\n                sum += g;\n                window[i][j] =g;\n            }\n        }\n        for (int i = 0; i &lt; ksize; i++) {\n            for (int j = 0; j &lt; ksize; j++) {\n                window[i][j] /=sum;\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>But instead of removing noise i'm getting darkening the image. What's i do wrong?</p>\n<p><a href=\"https://i.stack.imgur.com/Blb7v.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Blb7v.jpg\" alt=\"before\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/SjcYJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SjcYJ.png\" alt=\"after\" /></a></p>\n<p>Gaussian noise is statistical noise having a probability density equal to the probability density of a normal distribution, also known as Gaussian. In other words, the values that such noise can take have a Gaussian distribution. Named after Karl Gauss.</p>\n<p>A special case is white Gaussian noise, then the values at any given time are independent and equally distributed random variables (which means that together they do not correlate). When testing and modeling communication channels, Gaussian noise is used as additive white noise to generate additive white Gaussian noise.</p>\n<p>In telecommunications, communication channels can be affected by broadband Gaussian noise coming from various natural sources, such as thermal vibrations of atoms in conductors (thermal noise or Johnson-Nyquist noise), shot noise, blackbody radiation from the earth or other warm objects, and from celestial sources such as the Sun</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":2,"creation_date":1626875992,"post_id":68470784,"comment_id":121009062,"body_markdown":"The link you provided states that an anonymous class is a class *that has no name.*  None of your examples use non-named classes.","body":"The link you provided states that an anonymous class is a class <i>that has no name.</i>  None of your examples use non-named classes."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1626875995,"post_id":68470784,"comment_id":121009063,"body_markdown":"It really _is_ a class - a subclass of the named class; and it&#39;s _also_ an instantiation of this anonymous subclass. It is an anonumous class because it really has no name. It is not an instance of InnerClass, but an instance of an anonymous class _derived from_ InnerClass.","body":"It really <i>is</i> a class - a subclass of the named class; and it&#39;s <i>also</i> an instantiation of this anonymous subclass. It is an anonumous class because it really has no name. It is not an instance of InnerClass, but an instance of an anonymous class <i>derived from</i> InnerClass."},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":2,"creation_date":1626876042,"post_id":68470784,"comment_id":121009088,"body_markdown":"What is `InnerClass` supposed to refer to in the first example? Anonymous classes have to have a parent. You can do `Object foo = new Object() { ... }` if you want the parent to be `Object`, but every class has to have a parent, even anonymous ones.","body":"What is <code>InnerClass</code> supposed to refer to in the first example? Anonymous classes have to have a parent. You can do <code>Object foo = new Object() { ... }</code> if you want the parent to be <code>Object</code>, but every class has to have a parent, even anonymous ones."},{"owner":{"account_id":13047412,"reputation":2792,"user_id":9428851,"display_name":"Victor Gubin"},"score":0,"creation_date":1626876067,"post_id":68470784,"comment_id":121009097,"body_markdown":"In fact no difference at all. For all from the above javac compiler will crate additional class file. I.e. something like OuterClass#InnerClass.class  Everything else, including anonym classes and lambdas - are syntax sugar.","body":"In fact no difference at all. For all from the above javac compiler will crate additional class file. I.e. something like OuterClass#InnerClass.class  Everything else, including anonym classes and lambdas - are syntax sugar."},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1626876194,"post_id":68470784,"comment_id":121009157,"body_markdown":"Your third example is the only one that looks like the anonymous class Pizza example in the link you provided.  Look very carefully at that code.","body":"Your third example is the only one that looks like the anonymous class Pizza example in the link you provided.  Look very carefully at that code."},{"owner":{"display_name":"user16148657"},"score":0,"creation_date":1626876235,"post_id":68470784,"comment_id":121009174,"body_markdown":"@SilvioMayolo - The first example is what I am confused about. If we are calling this an anonymous CLASS, why does it need a parent at all?","body":"@SilvioMayolo - The first example is what I am confused about. If we are calling this an anonymous CLASS, why does it need a parent at all?"},{"owner":{"display_name":"user16148657"},"score":0,"creation_date":1626876284,"post_id":68470784,"comment_id":121009201,"body_markdown":"@RobertHarvey - is the second example not an example of an anon class?","body":"@RobertHarvey - is the second example not an example of an anon class?"},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1626876304,"post_id":68470784,"comment_id":121009210,"body_markdown":"It&#39;s a class. Every class has a parent. The &quot;anonymous&quot; part doesn&#39;t come into play at that point. &quot;Anonymous&quot; means you don&#39;t give the class a name, but every class has a parent, even anonymous ones.","body":"It&#39;s a class. Every class has a parent. The &quot;anonymous&quot; part doesn&#39;t come into play at that point. &quot;Anonymous&quot; means you don&#39;t give the class a name, but every class has a parent, even anonymous ones."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1626876433,"post_id":68470784,"comment_id":121009270,"body_markdown":"Related: https://stackoverflow.com/a/21557857","body":"Related: <a href=\"https://stackoverflow.com/a/21557857\">stackoverflow.com/a/21557857</a>"},{"owner":{"display_name":"user16148657"},"score":1,"creation_date":1626876445,"post_id":68470784,"comment_id":121009275,"body_markdown":"@SilvioMayolo, ah ok so anon classes are merely children of their parent class without name, that makes sense. I guess I dont really see the point of using this though.","body":"@SilvioMayolo, ah ok so anon classes are merely children of their parent class without name, that makes sense. I guess I dont really see the point of using this though."},{"owner":{"account_id":10595663,"reputation":4835,"user_id":7804477,"display_name":"Gautham M"},"score":0,"creation_date":1626876545,"post_id":68470784,"comment_id":121009319,"body_markdown":"@madmaxx01 The official [doc](https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html) provides more details and might make the concept more clear","body":"@madmaxx01 The official <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html\" rel=\"nofollow noreferrer\">doc</a> provides more details and might make the concept more clear"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1626876590,"post_id":68470784,"comment_id":121009345,"body_markdown":"&quot;I guess I dont really see the point of using this though&quot; it is useful for instance in swing applications where we often use something along `component.add*SomeListenerType*(new TypeOfListener(){ void listeningMethod(){ usually unique code for that specific listener } });`. Here we don&#39;t want to reuse `usually unique code for that specific listener` anywhere else so we don&#39;t really need to create class for it.","body":"&quot;I guess I dont really see the point of using this though&quot; it is useful for instance in swing applications where we often use something along <code>component.add*SomeListenerType*(new TypeOfListener(){ void listeningMethod(){ usually unique code for that specific listener } });</code>. Here we don&#39;t want to reuse <code>usually unique code for that specific listener</code> anywhere else so we don&#39;t really need to create class for it."},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":3,"creation_date":1626876620,"post_id":68470784,"comment_id":121009356,"body_markdown":"Yeah, you&#39;ve got the right idea. It can be very useful for implemented interfaces like `Listener`-type things. Often, you want an event listener with a specific behavior, but you only need that behavior in one place. It just saves you the trouble of making a named class that you&#39;re going to only use once ever.","body":"Yeah, you&#39;ve got the right idea. It can be very useful for implemented interfaces like <code>Listener</code>-type things. Often, you want an event listener with a specific behavior, but you only need that behavior in one place. It just saves you the trouble of making a named class that you&#39;re going to only use once ever."},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1626876640,"post_id":68470784,"comment_id":121009365,"body_markdown":"@Pshemo Hah, great minds, I suppose :P","body":"@Pshemo Hah, great minds, I suppose :P"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1626876723,"post_id":68470784,"comment_id":121009420,"body_markdown":"@SilvioMayolo &quot;Every class has a parent&quot; -- nitpick: every class except Object ;-)","body":"@SilvioMayolo &quot;Every class has a parent&quot; -- nitpick: every class except Object ;-)"},{"owner":{"display_name":"user16148657"},"score":0,"creation_date":1626876773,"post_id":68470784,"comment_id":121009440,"body_markdown":"@SilvioMayolo so its kind of the same as saying `class Parent{}` and then `class Child extends Parent{}` but you&#39;re only using this instantiation one time so why bother naming it?","body":"@SilvioMayolo so its kind of the same as saying <code>class Parent{}</code> and then <code>class Child extends Parent{}</code> but you&#39;re only using this instantiation one time so why bother naming it?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1626876858,"post_id":68470784,"comment_id":121009477,"body_markdown":"Please consider to rework your question. People shouldnt be forced to read through 20 comments to understand what you are asking for. Start by making sure the title (anonymous classes) fits your actual question (inner classes).","body":"Please consider to rework your question. People shouldnt be forced to read through 20 comments to understand what you are asking for. Start by making sure the title (anonymous classes) fits your actual question (inner classes)."},{"owner":{"display_name":"user16148657"},"score":0,"creation_date":1626877413,"post_id":68470784,"comment_id":121009788,"body_markdown":"The bigger question now is why am I allowed to write the same methods with different implementations from the parent class the anon class extends from w/o having to use @Override?","body":"The bigger question now is why am I allowed to write the same methods with different implementations from the parent class the anon class extends from w/o having to use @Override?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1626878071,"post_id":68470784,"comment_id":121010090,"body_markdown":"`@Override` annotation isn&#39;t mandatory to actually override a method. That annotation was added in Java 1.5 and overriding was available since Java 1.0. Purpose of `@Override` annotation is to let compiler inform us about failed attempt to override a method (like when we didn&#39;t provide correct name of method or parameter types). More info: [When do you use Java&#39;s @Override annotation and why?](https://stackoverflow.com/q/94361)","body":"<code>@Override</code> annotation isn&#39;t mandatory to actually override a method. That annotation was added in Java 1.5 and overriding was available since Java 1.0. Purpose of <code>@Override</code> annotation is to let compiler inform us about failed attempt to override a method (like when we didn&#39;t provide correct name of method or parameter types). More info: <a href=\"https://stackoverflow.com/q/94361\">When do you use Java&#39;s @Override annotation and why?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1626876635,"creation_date":1626876635,"answer_id":68471067,"question_id":68470784,"body_markdown":"Two points about that what you&#39;re doing there with `InnerClass innerClass = new InnerClass() {};`\r\n\r\nFirst you&#39;re using the class `InnerClass` as a template that you extend by another anonymous class, instantiate that and save that reference to the variable `innerClass`.\r\nSo `InnerClass` has to be defined.\r\nAnd because there is no available named class definition for the object named `innerclass`, this is why it&#39;s anonymous.\r\n\r\nSecond, your comment `//DO SOMETHING` in there is wrong. The only thing you can do in there is to override already existing methods. Yes, you can also add new methods, but you cannot call the from the outside directly.\r\n`InnerClass` could be a normal class, an abstract class, or an interface.\r\n\r\nDefining `class InnerClass {}` inside another class would be a nested class. The way you do it it is dependent on the state of the `OuterClass`.\r\nThis could also be static, i.e. decoupled from any instance that `Outerclass` and its generica parameters would have.\r\n\r\nYour third example is a normal (additional) class definition inside a file. But because Java Language Specification defines that there can not be two top-level public classes in one file, this second class definition cannot be public. Because JLS also states that the one top-level public class inside a file has to have the same name as the file it&#39;s defined in.\r\n\r\nAnd to answer your last question, in reference to what I said about &#39;not being able to acces other methods&#39;: In your last example you explicitly define the method `innerClassMethod()` in a names class, and so it can be accessed.","title":"Do anonymous classes always have to exist elsewhere?","body":"<p>Two points about that what you're doing there with <code>InnerClass innerClass = new InnerClass() {};</code></p>\n<p>First you're using the class <code>InnerClass</code> as a template that you extend by another anonymous class, instantiate that and save that reference to the variable <code>innerClass</code>.\nSo <code>InnerClass</code> has to be defined.\nAnd because there is no available named class definition for the object named <code>innerclass</code>, this is why it's anonymous.</p>\n<p>Second, your comment <code>//DO SOMETHING</code> in there is wrong. The only thing you can do in there is to override already existing methods. Yes, you can also add new methods, but you cannot call the from the outside directly.\n<code>InnerClass</code> could be a normal class, an abstract class, or an interface.</p>\n<p>Defining <code>class InnerClass {}</code> inside another class would be a nested class. The way you do it it is dependent on the state of the <code>OuterClass</code>.\nThis could also be static, i.e. decoupled from any instance that <code>Outerclass</code> and its generica parameters would have.</p>\n<p>Your third example is a normal (additional) class definition inside a file. But because Java Language Specification defines that there can not be two top-level public classes in one file, this second class definition cannot be public. Because JLS also states that the one top-level public class inside a file has to have the same name as the file it's defined in.</p>\n<p>And to answer your last question, in reference to what I said about 'not being able to acces other methods': In your last example you explicitly define the method <code>innerClassMethod()</code> in a names class, and so it can be accessed.</p>\n"},{"tags":[],"owner":{"account_id":17066586,"reputation":4526,"user_id":12348584,"display_name":"H3AR7B3A7"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634722848,"creation_date":1626876939,"answer_id":68471164,"question_id":68470784,"body_markdown":"- Everywhere you have written &#39;DO SOMETHING&#39; you are actually creating a new class that inherits from whatever type is behind the &#39;new&#39; Keyword...\r\n\r\n- This temporary class has no name of its own, hence anonymous.\r\n\r\n- It ends with ; because it is actually just a parameter of the outer class.\r\n\r\n- As Silvio pointed out in the comments all classes extend some class, even if it just the Object class.\r\n\r\nYou can&#39;t do this:\r\n\r\n```java\r\nclass OuterClass {\r\n\r\n    InnerClass innerClass = new InnerClass() {\r\n        //DO SOMETHING\r\n    };\r\n}\r\n```\r\nBecause InnerClass does not exist yet to inherit from.","title":"Do anonymous classes always have to exist elsewhere?","body":"<ul>\n<li><p>Everywhere you have written 'DO SOMETHING' you are actually creating a new class that inherits from whatever type is behind the 'new' Keyword...</p>\n</li>\n<li><p>This temporary class has no name of its own, hence anonymous.</p>\n</li>\n<li><p>It ends with ; because it is actually just a parameter of the outer class.</p>\n</li>\n<li><p>As Silvio pointed out in the comments all classes extend some class, even if it just the Object class.</p>\n</li>\n</ul>\n<p>You can't do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class OuterClass {\n\n    InnerClass innerClass = new InnerClass() {\n        //DO SOMETHING\n    };\n}\n</code></pre>\n<p>Because InnerClass does not exist yet to inherit from.</p>\n"}],"owner":{"display_name":"user16148657"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":68471067,"answer_count":2,"score":1,"last_activity_date":1634722848,"creation_date":1626875638,"question_id":68470784,"body_markdown":"I&#39;ve been trying to understand the difference between nested, local, anonymous classes and I&#39;m confused about a few things, but mostly why you cannot do this:\r\n\r\n    class OuterClass {\r\n \r\n        InnerClass innerClass = new InnerClass() {\r\n            //DO SOMETHING\r\n        };\r\n    }\r\n\r\nw/o doing this...\r\n\r\n    class OuterClass {\r\n        class InnerClass {\r\n        }\r\n    \r\n        InnerClass innerClass = new InnerClass() {\r\n            //DO SOMETHING\r\n        };\r\n    }\r\n\r\nor this...\r\n\r\n     class OuterClass {\r\n           \r\n            InnerClass innerClass = new InnerClass() {\r\n                //DO SOMETHING\r\n            };\r\n     }\r\n    \r\n     class InnerClass {\r\n     }\r\n\r\nHow is this at all different from this really?\r\n\r\n    class OuterClass {\r\n               \r\n                InnerClass innerClass = new InnerClass();\r\n                innerClass.innerClassMethod(); \r\n\r\n         }\r\n        \r\n         class InnerClass {\r\n             public void innerClassMethod() {\r\n             }\r\n         }\r\n\r\nAnd why is it called anonymous? I dont understand that. Reading this link [here](https://beginnersbook.com/2013/05/inner-class/) I understand the logistical differences (i.e. no name, only 1 instantiation, only accessible where defined, etc. But it&#39;s really not a class so why is it called a class? It&#39;s actually, from what I can see an instantiation of a class. I see you can have other methods as well from the class it is derived from, but how are you allowed to have completely different methods than the base class w/o having to use @Override? ","title":"Do anonymous classes always have to exist elsewhere?","body":"<p>I've been trying to understand the difference between nested, local, anonymous classes and I'm confused about a few things, but mostly why you cannot do this:</p>\n<pre><code>class OuterClass {\n\n    InnerClass innerClass = new InnerClass() {\n        //DO SOMETHING\n    };\n}\n</code></pre>\n<p>w/o doing this...</p>\n<pre><code>class OuterClass {\n    class InnerClass {\n    }\n\n    InnerClass innerClass = new InnerClass() {\n        //DO SOMETHING\n    };\n}\n</code></pre>\n<p>or this...</p>\n<pre><code> class OuterClass {\n       \n        InnerClass innerClass = new InnerClass() {\n            //DO SOMETHING\n        };\n }\n\n class InnerClass {\n }\n</code></pre>\n<p>How is this at all different from this really?</p>\n<pre><code>class OuterClass {\n           \n            InnerClass innerClass = new InnerClass();\n            innerClass.innerClassMethod(); \n\n     }\n    \n     class InnerClass {\n         public void innerClassMethod() {\n         }\n     }\n</code></pre>\n<p>And why is it called anonymous? I dont understand that. Reading this link <a href=\"https://beginnersbook.com/2013/05/inner-class/\" rel=\"nofollow noreferrer\">here</a> I understand the logistical differences (i.e. no name, only 1 instantiation, only accessible where defined, etc. But it's really not a class so why is it called a class? It's actually, from what I can see an instantiation of a class. I see you can have other methods as well from the class it is derived from, but how are you allowed to have completely different methods than the base class w/o having to use @Override?</p>\n"},{"tags":["java","android","application-design"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1634630311,"post_id":69626974,"comment_id":123069601,"body_markdown":"As an aside - these are *methods* that happen to have a void return type. There&#39;s no such thing as &quot;a void&quot;. (And I don&#39;t think in this case the return type of the method is particularly relevant to the question.)","body":"As an aside - these are <i>methods</i> that happen to have a void return type. There&#39;s no such thing as &quot;a void&quot;. (And I don&#39;t think in this case the return type of the method is particularly relevant to the question.)"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1634631939,"post_id":69626974,"comment_id":123070224,"body_markdown":"You&#39;re going to need to the code in blink to check for a condition and stop. I also think you need to start blink asynchronously so it doesn&#39;t consume the api.","body":"You&#39;re going to need to the code in blink to check for a condition and stop. I also think you need to start blink asynchronously so it doesn&#39;t consume the api."},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1634632661,"post_id":69626974,"comment_id":123070542,"body_markdown":"When you say “forever loop”, I hope you don’t mean an empty loop repeatedly checking (s as is bad practice, chewing up the CPU). Instead, you could create a `java.util.Timer` - see https://stackoverflow.com/questions/9053383/creating-a-repeating-timer-reminder-in-java/9053469 to control the blink-on and blink-off;  To stop, simply call its  `cancel` method.","body":"When you say “forever loop”, I hope you don’t mean an empty loop repeatedly checking (s as is bad practice, chewing up the CPU). Instead, you could create a <code>java.util.Timer</code> - see <a href=\"https://stackoverflow.com/questions/9053383/creating-a-repeating-timer-reminder-in-java/9053469\" title=\"creating a repeating timer reminder in java\">stackoverflow.com/questions/9053383/&hellip;</a> to control the blink-on and blink-off;  To stop, simply call its  <code>cancel</code> method."},{"owner":{"account_id":23076592,"reputation":1,"user_id":17189461,"display_name":"Malay Patra"},"score":0,"creation_date":1634635407,"post_id":69626974,"comment_id":123071682,"body_markdown":"How to impliment this cancel method","body":"How to impliment this cancel method"}],"answers":[{"tags":[],"owner":{"account_id":8320356,"reputation":258,"user_id":6252285,"display_name":"Kęstutis Ramulionis"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1634631885,"creation_date":1634631732,"answer_id":69627367,"question_id":69626974,"body_markdown":"    volatile bool condition = false;\r\n    public void _blink()\r\n    {\r\n        if (condition == true) return;\r\n    }\r\n    public void _stop()\r\n    {\r\n        condition = true;\r\n    }","title":"Stopping a running void in java","body":"<pre><code>volatile bool condition = false;\npublic void _blink()\n{\n    if (condition == true) return;\n}\npublic void _stop()\n{\n    condition = true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":137890,"reputation":8718,"user_id":995052,"accept_rate":56,"display_name":"Kris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634631868,"creation_date":1634631868,"answer_id":69627413,"question_id":69626974,"body_markdown":"You can solve it with a flag variable itself right ?\r\nSee below:\r\n\r\n    public class MainActivity extends Activity \r\n    {\r\n        \r\n        TextView tv1;\r\n        Button btn;\r\n        private boolean isBlinking=false;\r\n        \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState)\r\n        {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.main);\r\n        @Override\r\n        public void onClick(View _view) {\r\n          _blink();\r\n    }\r\n    \r\n        @Override\r\n        public void onClick(View _view) {\r\n          _stop();\r\n    } \r\n    \r\n    public void _blink(){\r\n      this.isBlinking = true;\r\n      while(this.isBlinking){...}\r\n    //here is my code which I want to perform as a forever loop\r\n    \r\n    \r\n    }\r\n    \r\n    public void _stop(){\r\n      this.isBlinking = false;\r\n    \r\n      //here I want the code which will stop the running method blink()\r\n    \r\n    }\r\n\r\nThis works, if the activity runs as a thread (I&#39;m not an Android guy :-) ). Otherwise, you have to run the _blink() in a thread and check the flag inside the loop of thread.","title":"Stopping a running void in java","body":"<p>You can solve it with a flag variable itself right ?\nSee below:</p>\n<pre><code>public class MainActivity extends Activity \n{\n    \n    TextView tv1;\n    Button btn;\n    private boolean isBlinking=false;\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n    @Override\n    public void onClick(View _view) {\n      _blink();\n}\n\n    @Override\n    public void onClick(View _view) {\n      _stop();\n} \n\npublic void _blink(){\n  this.isBlinking = true;\n  while(this.isBlinking){...}\n//here is my code which I want to perform as a forever loop\n\n\n}\n\npublic void _stop(){\n  this.isBlinking = false;\n\n  //here I want the code which will stop the running method blink()\n\n}\n</code></pre>\n<p>This works, if the activity runs as a thread (I'm not an Android guy :-) ). Otherwise, you have to run the _blink() in a thread and check the flag inside the loop of thread.</p>\n"}],"owner":{"account_id":23076592,"reputation":1,"user_id":17189461,"display_name":"Malay Patra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634722751,"creation_date":1634630015,"question_id":69626974,"body_markdown":"What&#39;s the way to stop a running method in Java?\r\n\r\nI have a method called `main` in my `MainActivity.java` file and also I have two methods into it. They are blink() [which is a forever loop] and stop() . after a button(id=btn1) clicked I call the method blink() and I have an another button (id=btn2), on clicking on this button It will call the method stop(). Now I want that when ever i click on the button(btn2) the running method blink() will be stopped exactly on that moment. \r\n\r\nWhat I actually need is - \r\n\r\n    public class MainActivity extends Activity {\r\n    \tTextView tv1;\r\n    \tButton btn;\r\n    \t\r\n    \t@Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.main);\r\n\r\n    \t    @Override\r\n    \t    public void onClick(View _view) {\r\n                _blink();\r\n            }\r\n    \r\n    \t    @Override\r\n    \t    public void onClick(View _view) {\r\n                _stop();\r\n            } \r\n    \r\n            public void _blink() {\r\n                // Here is my code which I want to perform as a forever loop\r\n            }\r\n    \r\n            public void _stop() {\r\n                //here I want the code which will stop the running method blink()\r\n            }\r\n        }\r\n    }","title":"Stopping a running void in java","body":"<p>What's the way to stop a running method in Java?</p>\n<p>I have a method called <code>main</code> in my <code>MainActivity.java</code> file and also I have two methods into it. They are blink() [which is a forever loop] and stop() . after a button(id=btn1) clicked I call the method blink() and I have an another button (id=btn2), on clicking on this button It will call the method stop(). Now I want that when ever i click on the button(btn2) the running method blink() will be stopped exactly on that moment.</p>\n<p>What I actually need is -</p>\n<pre><code>public class MainActivity extends Activity {\n    TextView tv1;\n    Button btn;\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n\n        @Override\n        public void onClick(View _view) {\n            _blink();\n        }\n\n        @Override\n        public void onClick(View _view) {\n            _stop();\n        } \n\n        public void _blink() {\n            // Here is my code which I want to perform as a forever loop\n        }\n\n        public void _stop() {\n            //here I want the code which will stop the running method blink()\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","gradle"],"answers":[{"tags":[],"owner":{"account_id":20553557,"reputation":41,"user_id":15085693,"display_name":"Abhishek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634678955,"creation_date":1634678955,"answer_id":69637857,"question_id":69636307,"body_markdown":"You could possibly turn off your internet on your PC before opening this project. There would be a prompt asking you to run the project offline, if you click Yes, it might throw an error saying dependencies not found and that could be the time when you could change the target versions.\r\n\r\nBut nevertheless, the size of the old gradle versions will be just around 100 mb which should have a huge impact on your storage.","title":"Change gradle version on projects before sync on projects from github","body":"<p>You could possibly turn off your internet on your PC before opening this project. There would be a prompt asking you to run the project offline, if you click Yes, it might throw an error saying dependencies not found and that could be the time when you could change the target versions.</p>\n<p>But nevertheless, the size of the old gradle versions will be just around 100 mb which should have a huge impact on your storage.</p>\n"},{"tags":[],"owner":{"account_id":21684711,"reputation":122,"user_id":16000346,"display_name":"Tarique Anowar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634686281,"creation_date":1634686281,"answer_id":69638674,"question_id":69636307,"body_markdown":"If you want to run that project you need to download that particular gradle build. If you try otherwise it will be waste of your time. Trust me I&#39;ve tried. ","title":"Change gradle version on projects before sync on projects from github","body":"<p>If you want to run that project you need to download that particular gradle build. If you try otherwise it will be waste of your time. Trust me I've tried.</p>\n"},{"tags":[],"owner":{"account_id":132271,"reputation":1079,"user_id":1564125,"display_name":"Felipe Duarte"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634686450,"creation_date":1634686450,"answer_id":69638690,"question_id":69636307,"body_markdown":"What you tried to change is the Android Gradle plugin not Gradle executable itself. To change Gradle&#39;s version you need to open file `gradle/wrapper/gradle-wrapper.properties` and then change to the version you expect there. Be aware that there&#39;s a relation between the Android Gradle plugin and Gradle versions so they might not play nice together, that&#39;s why Google did this: https://developer.android.com/studio/releases/gradle-plugin#versioning-update","title":"Change gradle version on projects before sync on projects from github","body":"<p>What you tried to change is the Android Gradle plugin not Gradle executable itself. To change Gradle's version you need to open file <code>gradle/wrapper/gradle-wrapper.properties</code> and then change to the version you expect there. Be aware that there's a relation between the Android Gradle plugin and Gradle versions so they might not play nice together, that's why Google did this: <a href=\"https://developer.android.com/studio/releases/gradle-plugin#versioning-update\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/releases/gradle-plugin#versioning-update</a></p>\n"},{"tags":[],"owner":{"account_id":22653134,"reputation":680,"user_id":16827453,"display_name":"Polymath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634722061,"creation_date":1634720188,"answer_id":69643074,"question_id":69636307,"body_markdown":"While using\r\nAndroid Studio Arctic Fox 2020.3.1 Patch 1 \r\n\r\n\r\nI have faced this problem while trying to use the Codelabs from github. I waited for 45 minutes once and still it didn&#39;t finish rebuilding the project. It was impossible to work that way. \r\n\r\nWhat I did to use the project was create an empty project and copy:\r\n\r\n    layout/*.xml\r\n    navigation/*.xml\r\n    menu/*.xml\r\n    &#39;package&#39;/*.kt\r\n\r\nAnd the .kt Kotlin or java files to the corresponding locations in the fresh project.\r\n\r\n - Now change the package information in all the .kt files to point to your package.\r\n\r\n - Add dependencies in the project level and module level build gradle files\r\n\r\n - Remove unused import from the .kt files\r\n\r\n - Set viewBinding, dataBinding in the module level build gradle if needed\r\n\r\n - Finally check the manifest in the downloaded project file to see any changes need to be done.\r\n\r\nNow you will be able to successfully build the project and run it. Correct errors if you encounter them. \r\n\r\nThis is a better way to learn by doing than just copying the project and waiting endlessly.\r\n\r\nI did all the &#39;codelabs&#39; from \r\nhttps://developer.android.com/courses/kotlin-android-fundamentals/toc\r\n\r\nusing this method. I could never open a project downloaded from the github directly.\r\n\r\n\r\n\r\n","title":"Change gradle version on projects before sync on projects from github","body":"<p>While using\nAndroid Studio Arctic Fox 2020.3.1 Patch 1</p>\n<p>I have faced this problem while trying to use the Codelabs from github. I waited for 45 minutes once and still it didn't finish rebuilding the project. It was impossible to work that way.</p>\n<p>What I did to use the project was create an empty project and copy:</p>\n<pre><code>layout/*.xml\nnavigation/*.xml\nmenu/*.xml\n'package'/*.kt\n</code></pre>\n<p>And the .kt Kotlin or java files to the corresponding locations in the fresh project.</p>\n<ul>\n<li><p>Now change the package information in all the .kt files to point to your package.</p>\n</li>\n<li><p>Add dependencies in the project level and module level build gradle files</p>\n</li>\n<li><p>Remove unused import from the .kt files</p>\n</li>\n<li><p>Set viewBinding, dataBinding in the module level build gradle if needed</p>\n</li>\n<li><p>Finally check the manifest in the downloaded project file to see any changes need to be done.</p>\n</li>\n</ul>\n<p>Now you will be able to successfully build the project and run it. Correct errors if you encounter them.</p>\n<p>This is a better way to learn by doing than just copying the project and waiting endlessly.</p>\n<p>I did all the 'codelabs' from\n<a href=\"https://developer.android.com/courses/kotlin-android-fundamentals/toc\" rel=\"nofollow noreferrer\">https://developer.android.com/courses/kotlin-android-fundamentals/toc</a></p>\n<p>using this method. I could never open a project downloaded from the github directly.</p>\n"}],"owner":{"account_id":9843029,"reputation":1738,"user_id":7291498,"accept_rate":44,"display_name":"Rifat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1634722061,"creation_date":1634669715,"question_id":69636307,"body_markdown":"While checking out my own projects or others projects from github, android studio first tries to download gradle version mentioned in that project. However downloading so many versions of gradle takes up space, time and I dont want so many versions of them. But I can not find a way to change the gradle version and sync project with newer gradle version. I tried editing the build.gradle file with classpath of newer gradle but that did not work. What can I do to sync projects without downloading an older version of gradle? \r\nI understand the possibility of not working or syncing project properly with another gradle version but is this possible?\r\n\r\nBelow image shows, classpath changed and tried to resync but still downloaded older gradle version mentioned in the file while syncing, so kept as is.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XxhMU.png","title":"Change gradle version on projects before sync on projects from github","body":"<p>While checking out my own projects or others projects from github, android studio first tries to download gradle version mentioned in that project. However downloading so many versions of gradle takes up space, time and I dont want so many versions of them. But I can not find a way to change the gradle version and sync project with newer gradle version. I tried editing the build.gradle file with classpath of newer gradle but that did not work. What can I do to sync projects without downloading an older version of gradle?\nI understand the possibility of not working or syncing project properly with another gradle version but is this possible?</p>\n<p>Below image shows, classpath changed and tried to resync but still downloaded older gradle version mentioned in the file while syncing, so kept as is.</p>\n<p><a href=\"https://i.stack.imgur.com/XxhMU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XxhMU.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","dialog","indexoutofboundsexception"],"comments":[{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1634656917,"post_id":69633281,"comment_id":123081467,"body_markdown":"`java.lang.IndexOutOfBoundsException: Index: 6, Size: 0` it&#39;s pretty self explainatory: the list is empty and the code is trying to access index `6`","body":"<code>java.lang.IndexOutOfBoundsException: Index: 6, Size: 0</code> it&#39;s pretty self explainatory: the list is empty and the code is trying to access index <code>6</code>"},{"owner":{"account_id":22378635,"reputation":11,"user_id":16592547,"display_name":"rholmes97"},"score":0,"creation_date":1634657304,"post_id":69633281,"comment_id":123081675,"body_markdown":"No, I understand what the error is saying. What I don&#39;t understand is why the list is empty when calling the method from my dialog but isn&#39;t empty if I call it in my main activity.","body":"No, I understand what the error is saying. What I don&#39;t understand is why the list is empty when calling the method from my dialog but isn&#39;t empty if I call it in my main activity."},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1634657728,"post_id":69633281,"comment_id":123081902,"body_markdown":"In your `yes()` function, how do you get the `position` variable. I&#39;m sure it works for the first time though. You need to make sure to update/get the variable correctly.","body":"In your <code>yes()</code> function, how do you get the <code>position</code> variable. I&#39;m sure it works for the first time though. You need to make sure to update/get the variable correctly."},{"owner":{"account_id":1301014,"reputation":8110,"user_id":1250929,"accept_rate":72,"display_name":"Kristy Welsh"},"score":0,"creation_date":1634657979,"post_id":69633281,"comment_id":123082039,"body_markdown":"Yes, where are you calling deleteItemRow?  Can we see that code?","body":"Yes, where are you calling deleteItemRow?  Can we see that code?"},{"owner":{"account_id":22378635,"reputation":11,"user_id":16592547,"display_name":"rholmes97"},"score":0,"creation_date":1634658607,"post_id":69633281,"comment_id":123082292,"body_markdown":"@Darkman I get the position using the recycler view position. So the 4th item will be position = 3. I then pass that to the dialog using a bundle. At this point the position is correct because I&#39;ve used system outs to check. There&#39;s also a system out in the yes function which tells me that it&#39;s correct at that point too. The issue seems to be my ArrayList is empty if I use the ```deleteItemRow``` function in my dialog instead of my main activity but I can&#39;t figure out why.","body":"@Darkman I get the position using the recycler view position. So the 4th item will be position = 3. I then pass that to the dialog using a bundle. At this point the position is correct because I&#39;ve used system outs to check. There&#39;s also a system out in the yes function which tells me that it&#39;s correct at that point too. The issue seems to be my ArrayList is empty if I use the <code>deleteItemRow</code> function in my dialog instead of my main activity but I can&#39;t figure out why."},{"owner":{"account_id":22378635,"reputation":11,"user_id":16592547,"display_name":"rholmes97"},"score":0,"creation_date":1634658729,"post_id":69633281,"comment_id":123082337,"body_markdown":"@KristyWelsh It&#39;s called in my dialog using ```mainActivity.deleteItemRow(position)``` in the ```yes()``` function (It&#39;s already in the body of the question).","body":"@KristyWelsh It&#39;s called in my dialog using <code>mainActivity.deleteItemRow(position)</code> in the <code>yes()</code> function (It&#39;s already in the body of the question)."},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1634658958,"post_id":69633281,"comment_id":123082429,"body_markdown":"Print the `allStock` size. I&#39;m sure this was the problem.","body":"Print the <code>allStock</code> size. I&#39;m sure this was the problem."}],"answers":[{"tags":[],"owner":{"account_id":22378635,"reputation":11,"user_id":16592547,"display_name":"rholmes97"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634721953,"creation_date":1634665973,"answer_id":69635580,"question_id":69633281,"body_markdown":"I managed to &#39;fix&#39; this by making my DBHandler, ArrayList, Adapter and Button static. However this creates memory leaks so I&#39;m going to find another way round it. Thanks for the replies though.\r\n\r\nEdit: I just had to change ```mainActivity = new MainActivity();``` to ```mainActivity = ((MainActivity)getActivity());``` in my Dialog. The ```arrayList``` was empty because it was creating a new mainActivity every time the dialog was opened.","title":"Why am I getting an IndexOutOfBoundsException error when calling an activity method from my dialog?","body":"<p>I managed to 'fix' this by making my DBHandler, ArrayList, Adapter and Button static. However this creates memory leaks so I'm going to find another way round it. Thanks for the replies though.</p>\n<p>Edit: I just had to change <code>mainActivity = new MainActivity();</code> to <code>mainActivity = ((MainActivity)getActivity());</code> in my Dialog. The <code>arrayList</code> was empty because it was creating a new mainActivity every time the dialog was opened.</p>\n"}],"owner":{"account_id":22378635,"reputation":11,"user_id":16592547,"display_name":"rholmes97"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1634897527,"accepted_answer_id":69635580,"answer_count":1,"score":-2,"last_activity_date":1634721953,"creation_date":1634655799,"question_id":69633281,"body_markdown":"I have a Recycler View full of items, when you long press on a row, a remove buttons appears to allow the user to delete the row - I managed to get that working correctly but I then wanted to add a bit of safety to it by adding a dialog which asks the user whether or not they want to delete the row. However when I call the method in my dialog I get an ```IndexOutOfBoundsException``` as below:\r\n```\r\n2021-10-19 15:52:06.774 16238-16238/com.example.it_stock E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.it_stock, PID: 16238\r\n    java.lang.IndexOutOfBoundsException: Index: 6, Size: 0\r\n        at java.util.ArrayList.get(ArrayList.java:411)\r\n        at com.example.it_stock.MainActivity.deleteItemRow(MainActivity.java:93)\r\n        at com.example.it_stock.ConfirmDeleteDialog.lambda$yes$1$ConfirmDeleteDialog(ConfirmDeleteDialog.java:48)\r\n        at com.example.it_stock.-$$Lambda$ConfirmDeleteDialog$VgpDlH3zTD1jVLwQl8Gp5RaCjYw.onClick(lambda)\r\n        at android.view.View.performClick(View.java:5637)\r\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)\r\n        at android.view.View$PerformClick.run(View.java:22433)\r\n        at android.os.Handler.handleCallback(Handler.java:751)\r\n        at android.os.Handler.dispatchMessage(Handler.java:95)\r\n        at android.os.Looper.loop(Looper.java:154)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6121)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)\r\n```\r\nI am using an interface to long click on the recycler view rows:\r\n```\r\npackage com.example.it_stock;\r\n\r\npublic interface StockViewInterface {\r\n    void onItemClick(int position);\r\n    void onLongItemClick(int position);\r\n}\r\n```\r\nThis is in my Adapter:\r\n```\r\n// Uses the StockViewInterface to implement click listeners. These can then be used in Main Activity.\r\n            stockView.setOnClickListener(v -&gt; {\r\n                stockViewInterface.onItemClick(getAdapterPosition());\r\n                notifyItemChanged(selectedPosition);\r\n                selectedPosition = RecyclerView.NO_POSITION;\r\n                notifyItemChanged(selectedPosition);\r\n            });\r\n\r\n            stockView.setOnLongClickListener(v -&gt; {\r\n                stockViewInterface.onLongItemClick(getAdapterPosition());\r\n                // Highlight row\r\n                notifyItemChanged(selectedPosition);\r\n                selectedPosition = getAdapterPosition();\r\n                notifyItemChanged(selectedPosition);\r\n                return true; // doesn&#39;t allow multiple rows to be selected. False would highlight multiple rows but the remove method only allows one deletion at a time for now.\r\n            });\r\n```\r\nThese are the long click and delete row methods in my Main Activity:\r\n```\r\n    // Long tap on a row in the Recycler View. Remove button becomes visible and once clicked opens the confirmation dialog.\r\n    @Override\r\n    public void onLongItemClick(int position) {\r\n        btnRemoveItem.setVisibility(View.VISIBLE);\r\n        btnRemoveItem.setOnClickListener(v -&gt; {\r\n            ConfirmDeleteDialog confirmDeleteDialog = new ConfirmDeleteDialog();\r\n            Bundle bundle = new Bundle();\r\n            bundle.putInt(&quot;position&quot;, position);\r\n            confirmDeleteDialog.setArguments(bundle);\r\n            confirmDeleteDialog.show((MainActivity.this).getSupportFragmentManager(),&quot;confirm&quot;);\r\n        });\r\n        System.out.println(position);\r\n    }\r\n\r\n    // Deletes row.\r\n    public void deleteItemRow(int position) {\r\n        String stock = allStock.get(position).getItem();\r\n        db.deleteStockItem(db.getStockItem(allStock.get(position).getID()));\r\n        allStock.remove(position);\r\n        stockAdapter.notifyItemRemoved(position);\r\n        stockAdapter.notifyDataSetChanged();\r\n        btnRemoveItem.setVisibility(View.INVISIBLE);\r\n        stockAdapter.selectedPosition = RecyclerView.NO_POSITION;\r\n        Toast.makeText(this, stock + &quot; successfully deleted!&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n```\r\nThe issue occurs in that ```deleteItemRow()``` method when I call it from my Dialog in the ```yes()``` method:\r\n```\r\npublic class ConfirmDeleteDialog extends DialogFragment {\r\n    private MainActivity mainActivity;\r\n    public static final String TAG = &quot;confirm&quot;;\r\n    int position;\r\n    Button no, yes;\r\n\r\n    @NonNull\r\n    @Override\r\n    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\r\n        LayoutInflater inflater = getActivity().getLayoutInflater();\r\n        View v = inflater.inflate(R.layout.dialog_confirm_delete, null);\r\n        Bundle bundle = getArguments();\r\n        position = bundle.getInt(&quot;position&quot;, position);\r\n        no = v.findViewById(R.id.btnNo);\r\n        yes = v.findViewById(R.id.btnYes);\r\n        mainActivity = new MainActivity();\r\n        System.out.println(position);\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\r\n        builder.setView(v);\r\n        no();\r\n        yes();\r\n        return builder.create();\r\n    }\r\n\r\n    private void no() {\r\n        no.setOnClickListener(v -&gt; {\r\n            dismiss();\r\n        });\r\n    }\r\n\r\n    private void yes() {\r\n        yes.setOnClickListener(v -&gt; {\r\n            mainActivity.deleteItemRow(position);\r\n            System.out.println(position);\r\n            dismiss();\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nAs mentioned at the start, the ```deleteItemRow()``` works correctly if I call it on the remove item button press if I do this:\r\n```\r\n@Override\r\n    public void onLongItemClick(int position) {\r\n        btnRemoveItem.setVisibility(View.VISIBLE);\r\n        btnRemoveItem.setOnClickListener(v -&gt; {\r\n            deleteItemRow(position);\r\n            \r\n        });\r\n        System.out.println(position);\r\n    }\r\n```\r\n\r\nI have used the ```System.out``` lines to makes sure ```position``` is correct.\r\n\r\nCan anyone help me understand why the list is empty when calling the method from my dialog but isn&#39;t empty if I call it in my main activity. And is there a way to fix this? Thanks in advance.\r\n\r\nEDIT: My ```allStock``` ArrayList is empty when the method is called from the dialog. This is how I get the ArrayList:\r\n```\r\nprivate DBHandlerStock db;\r\nprivate ArrayList&lt;Stock&gt; allStock = new ArrayList&lt;&gt;();\r\n\r\ndb = new DBHandlerStock(this);\r\nallStock = db.getAllStock();\r\n```","title":"Why am I getting an IndexOutOfBoundsException error when calling an activity method from my dialog?","body":"<p>I have a Recycler View full of items, when you long press on a row, a remove buttons appears to allow the user to delete the row - I managed to get that working correctly but I then wanted to add a bit of safety to it by adding a dialog which asks the user whether or not they want to delete the row. However when I call the method in my dialog I get an <code>IndexOutOfBoundsException</code> as below:</p>\n<pre><code>2021-10-19 15:52:06.774 16238-16238/com.example.it_stock E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.it_stock, PID: 16238\n    java.lang.IndexOutOfBoundsException: Index: 6, Size: 0\n        at java.util.ArrayList.get(ArrayList.java:411)\n        at com.example.it_stock.MainActivity.deleteItemRow(MainActivity.java:93)\n        at com.example.it_stock.ConfirmDeleteDialog.lambda$yes$1$ConfirmDeleteDialog(ConfirmDeleteDialog.java:48)\n        at com.example.it_stock.-$$Lambda$ConfirmDeleteDialog$VgpDlH3zTD1jVLwQl8Gp5RaCjYw.onClick(lambda)\n        at android.view.View.performClick(View.java:5637)\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)\n        at android.view.View$PerformClick.run(View.java:22433)\n        at android.os.Handler.handleCallback(Handler.java:751)\n        at android.os.Handler.dispatchMessage(Handler.java:95)\n        at android.os.Looper.loop(Looper.java:154)\n        at android.app.ActivityThread.main(ActivityThread.java:6121)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)\n</code></pre>\n<p>I am using an interface to long click on the recycler view rows:</p>\n<pre><code>package com.example.it_stock;\n\npublic interface StockViewInterface {\n    void onItemClick(int position);\n    void onLongItemClick(int position);\n}\n</code></pre>\n<p>This is in my Adapter:</p>\n<pre><code>// Uses the StockViewInterface to implement click listeners. These can then be used in Main Activity.\n            stockView.setOnClickListener(v -&gt; {\n                stockViewInterface.onItemClick(getAdapterPosition());\n                notifyItemChanged(selectedPosition);\n                selectedPosition = RecyclerView.NO_POSITION;\n                notifyItemChanged(selectedPosition);\n            });\n\n            stockView.setOnLongClickListener(v -&gt; {\n                stockViewInterface.onLongItemClick(getAdapterPosition());\n                // Highlight row\n                notifyItemChanged(selectedPosition);\n                selectedPosition = getAdapterPosition();\n                notifyItemChanged(selectedPosition);\n                return true; // doesn't allow multiple rows to be selected. False would highlight multiple rows but the remove method only allows one deletion at a time for now.\n            });\n</code></pre>\n<p>These are the long click and delete row methods in my Main Activity:</p>\n<pre><code>    // Long tap on a row in the Recycler View. Remove button becomes visible and once clicked opens the confirmation dialog.\n    @Override\n    public void onLongItemClick(int position) {\n        btnRemoveItem.setVisibility(View.VISIBLE);\n        btnRemoveItem.setOnClickListener(v -&gt; {\n            ConfirmDeleteDialog confirmDeleteDialog = new ConfirmDeleteDialog();\n            Bundle bundle = new Bundle();\n            bundle.putInt(&quot;position&quot;, position);\n            confirmDeleteDialog.setArguments(bundle);\n            confirmDeleteDialog.show((MainActivity.this).getSupportFragmentManager(),&quot;confirm&quot;);\n        });\n        System.out.println(position);\n    }\n\n    // Deletes row.\n    public void deleteItemRow(int position) {\n        String stock = allStock.get(position).getItem();\n        db.deleteStockItem(db.getStockItem(allStock.get(position).getID()));\n        allStock.remove(position);\n        stockAdapter.notifyItemRemoved(position);\n        stockAdapter.notifyDataSetChanged();\n        btnRemoveItem.setVisibility(View.INVISIBLE);\n        stockAdapter.selectedPosition = RecyclerView.NO_POSITION;\n        Toast.makeText(this, stock + &quot; successfully deleted!&quot;, Toast.LENGTH_SHORT).show();\n    }\n</code></pre>\n<p>The issue occurs in that <code>deleteItemRow()</code> method when I call it from my Dialog in the <code>yes()</code> method:</p>\n<pre><code>public class ConfirmDeleteDialog extends DialogFragment {\n    private MainActivity mainActivity;\n    public static final String TAG = &quot;confirm&quot;;\n    int position;\n    Button no, yes;\n\n    @NonNull\n    @Override\n    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n        LayoutInflater inflater = getActivity().getLayoutInflater();\n        View v = inflater.inflate(R.layout.dialog_confirm_delete, null);\n        Bundle bundle = getArguments();\n        position = bundle.getInt(&quot;position&quot;, position);\n        no = v.findViewById(R.id.btnNo);\n        yes = v.findViewById(R.id.btnYes);\n        mainActivity = new MainActivity();\n        System.out.println(position);\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n        builder.setView(v);\n        no();\n        yes();\n        return builder.create();\n    }\n\n    private void no() {\n        no.setOnClickListener(v -&gt; {\n            dismiss();\n        });\n    }\n\n    private void yes() {\n        yes.setOnClickListener(v -&gt; {\n            mainActivity.deleteItemRow(position);\n            System.out.println(position);\n            dismiss();\n        });\n    }\n}\n</code></pre>\n<p>As mentioned at the start, the <code>deleteItemRow()</code> works correctly if I call it on the remove item button press if I do this:</p>\n<pre><code>@Override\n    public void onLongItemClick(int position) {\n        btnRemoveItem.setVisibility(View.VISIBLE);\n        btnRemoveItem.setOnClickListener(v -&gt; {\n            deleteItemRow(position);\n            \n        });\n        System.out.println(position);\n    }\n</code></pre>\n<p>I have used the <code>System.out</code> lines to makes sure <code>position</code> is correct.</p>\n<p>Can anyone help me understand why the list is empty when calling the method from my dialog but isn't empty if I call it in my main activity. And is there a way to fix this? Thanks in advance.</p>\n<p>EDIT: My <code>allStock</code> ArrayList is empty when the method is called from the dialog. This is how I get the ArrayList:</p>\n<pre><code>private DBHandlerStock db;\nprivate ArrayList&lt;Stock&gt; allStock = new ArrayList&lt;&gt;();\n\ndb = new DBHandlerStock(this);\nallStock = db.getAllStock();\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":16960225,"reputation":11,"user_id":12267541,"display_name":"Samuel Darracq"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571906889,"creation_date":1571906889,"answer_id":58537605,"question_id":58537059,"body_markdown":"I have an option but there is probably more optimal, I did the best I could for now (beginner). You can with only one query do something like that :\r\n\r\n - $match:{_id:{$in:ids}} // Select all the elems matching any of id in ids\r\n - $project:{index:{$indexOfArray:[ids, &quot;$_id&quot;]} //add an index field showing you the position of each item into the ids array you are passing\r\n With those results you can retrieve which index never appear on results and so know they dont exist in your database. I know there must be simpler than that but that&#39;s all I have ^^ \r\n\r\n ","title":"Batch exists query in Spring MongoDB / exists for multiple ids","body":"<p>I have an option but there is probably more optimal, I did the best I could for now (beginner). You can with only one query do something like that :</p>\n\n<ul>\n<li>$match:{_id:{$in:ids}} // Select all the elems matching any of id in ids</li>\n<li>$project:{index:{$indexOfArray:[ids, \"$_id\"]} //add an index field showing you the position of each item into the ids array you are passing\nWith those results you can retrieve which index never appear on results and so know they dont exist in your database. I know there must be simpler than that but that's all I have ^^ </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5684060,"reputation":1093,"user_id":4494166,"accept_rate":0,"display_name":"Ravi Soni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609070547,"creation_date":1609070547,"answer_id":65465512,"question_id":58537059,"body_markdown":"just fetch the id field (ignore other fields) of every document and then in your application, check which exists or not.","title":"Batch exists query in Spring MongoDB / exists for multiple ids","body":"<p>just fetch the id field (ignore other fields) of every document and then in your application, check which exists or not.</p>\n"},{"tags":[],"owner":{"account_id":9706906,"reputation":3705,"user_id":7200088,"accept_rate":100,"display_name":"Michael Dz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634721755,"creation_date":1634721755,"answer_id":69643438,"question_id":58537059,"body_markdown":"I believe Ravi Soni&#39;s approach is the optimal approach and I&#39;m going to show how to achieve it:\r\n\r\n    List&lt;String&gt; ids = getIds();    \r\n    Query query = new Query(Criteria.where(&quot;_id&quot;).in(ids));\r\n    //Now we only request the _id field and leave all other fields blank\r\n    query.fields().include(&quot;_id&quot;);\r\n    List&lt;YourClass&gt; result = repository.findAll(query);\r\n    List&lt;String&gt; existingIds = result.stream().map(e -&gt; e.getId()).collect(Collectors.toList());\r\n\r\n","title":"Batch exists query in Spring MongoDB / exists for multiple ids","body":"<p>I believe Ravi Soni's approach is the optimal approach and I'm going to show how to achieve it:</p>\n<pre><code>List&lt;String&gt; ids = getIds();    \nQuery query = new Query(Criteria.where(&quot;_id&quot;).in(ids));\n//Now we only request the _id field and leave all other fields blank\nquery.fields().include(&quot;_id&quot;);\nList&lt;YourClass&gt; result = repository.findAll(query);\nList&lt;String&gt; existingIds = result.stream().map(e -&gt; e.getId()).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":9706906,"reputation":3705,"user_id":7200088,"accept_rate":100,"display_name":"Michael Dz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1345,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69643438,"answer_count":3,"score":3,"last_activity_date":1634721755,"creation_date":1571905047,"question_id":58537059,"body_markdown":"I have a list of thousands ids and based on these ids I want to determine which entities exist in my DB, because the list is big I can&#39;t afford sending thousands of queries synchronously, `BulkOperations` won&#39;t help me because it only supports insert,update and remove operations. I can&#39;t use `findAll(Query query..)` because each entity contains massive binary fields and from what I know Spring doesn&#39;t support lazy loading in MongoDB. \r\n\r\nWhat I want to achieve:\r\n\r\n    List&lt;String&gt; ids = getIds();\r\n    List&lt;Boolean&gt; existsList = repository.exists(ids);\r\n\r\n","title":"Batch exists query in Spring MongoDB / exists for multiple ids","body":"<p>I have a list of thousands ids and based on these ids I want to determine which entities exist in my DB, because the list is big I can't afford sending thousands of queries synchronously, <code>BulkOperations</code> won't help me because it only supports insert,update and remove operations. I can't use <code>findAll(Query query..)</code> because each entity contains massive binary fields and from what I know Spring doesn't support lazy loading in MongoDB. </p>\n\n<p>What I want to achieve:</p>\n\n<pre><code>List&lt;String&gt; ids = getIds();\nList&lt;Boolean&gt; existsList = repository.exists(ids);\n</code></pre>\n"},{"tags":["java","selenium","date"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1634715656,"post_id":69641932,"comment_id":123096309,"body_markdown":"You could try to use a `Wait` that explicitly waits until `ExpectedConditions.elementToBeClickable(WebElement element)`... Have you tried to `Wait` already?","body":"You could try to use a <code>Wait</code> that explicitly waits until <code>ExpectedConditions.elementToBeClickable(WebElement element)</code>... Have you tried to <code>Wait</code> already?"},{"owner":{"account_id":21772995,"reputation":17,"user_id":16075854,"display_name":"RaviS"},"score":0,"creation_date":1634717213,"post_id":69641932,"comment_id":123096953,"body_markdown":"Tried using wait and ExpectedConditions but getting timeout exception. Code that I updated was:  \t\tWebDriverWait wait = new WebDriverWait(driver, 10);\n\t\t\n\t\twait.until(ExpectedConditions.elementToBeClickable(driver.findElement(By.xpath(&quot;//div[@class=&#39;datepicker dropdown-menu&#39;][4]/div[@class=&#39;datepicker-days&#39;]/table[@class=&#39; table-condensed&#39;]/thead/tr[1]/th[3]&quot;))));\n\t\t\n\t\tdriver.findElement(By.xpath(&quot;//div[@class=&#39;datepicker dropdown-menu&#39;][4]/div[@class=&#39;datepicker-days&#39;]/table[@class=&#39; table-condensed&#39;]/thead/tr[1]/th[3]&quot;)).click();","body":"Tried using wait and ExpectedConditions but getting timeout exception. Code that I updated was:  \t\tWebDriverWait wait = new WebDriverWait(driver, 10); \t\t \t\twait.until(ExpectedConditions.elementToBeClickable(driver.&zwnj;&#8203;findElement(By.xpath&zwnj;&#8203;(&quot;//div[@class=&#39;date&zwnj;&#8203;picker dropdown-menu&#39;][4]/div[@class=&#39;datepicker-days&#39;]/table[@clas&zwnj;&#8203;s=&#39; table-condensed&#39;]/thead/tr[1]/th[3]&quot;)))); \t\t \t\tdriver.findElement(By.xpath(&quot;//div[@class=&#39;datepicker dropdown-menu&#39;][4]/div[@class=&#39;datepicker-days&#39;]/table[@clas&zwnj;&#8203;s=&#39; table-condensed&#39;]/thead/tr[1]/th[3]&quot;)).click();"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1634717691,"post_id":69641932,"comment_id":123097146,"body_markdown":"Have you tried a `Wait&lt;WebDriver&gt; wait = FluentWait&lt;WebDriver&gt;(driver)...` instead? You can apply a polling interval and some timeout.","body":"Have you tried a <code>Wait&lt;WebDriver&gt; wait = FluentWait&lt;WebDriver&gt;(driver)...</code> instead? You can apply a polling interval and some timeout."},{"owner":{"account_id":21772995,"reputation":17,"user_id":16075854,"display_name":"RaviS"},"score":0,"creation_date":1634718209,"post_id":69641932,"comment_id":123097387,"body_markdown":"Getting similar timeOut exception on using FluentWait","body":"Getting similar timeOut exception on using FluentWait"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1634718821,"post_id":69641932,"comment_id":123097664,"body_markdown":"OK, then it&#39;s some different issue. Looks like you are trying to select an item of a dropdown menu, which you could alternatively try to get using a `Select`. Have you tried that so far?","body":"OK, then it&#39;s some different issue. Looks like you are trying to select an item of a dropdown menu, which you could alternatively try to get using a <code>Select</code>. Have you tried that so far?"},{"owner":{"account_id":21772995,"reputation":17,"user_id":16075854,"display_name":"RaviS"},"score":0,"creation_date":1634719240,"post_id":69641932,"comment_id":123097838,"body_markdown":"Its not the dropdown menu but rather the date field. I&#39;m trying to select the date in the &quot;Date of Return&quot; field of the &quot;Flights&quot; page. For that, I&#39;m looking to navigate to a particular month (e.g. December 2021, January 2022 etc) by clicking on the &quot;&gt;&quot; button within the date field.","body":"Its not the dropdown menu but rather the date field. I&#39;m trying to select the date in the &quot;Date of Return&quot; field of the &quot;Flights&quot; page. For that, I&#39;m looking to navigate to a particular month (e.g. December 2021, January 2022 etc) by clicking on the &quot;&gt;&quot; button within the date field."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1634719332,"post_id":69641932,"comment_id":123097864,"body_markdown":"Could you post the particular html/css snippet and maybe an image of how it looks rendered?","body":"Could you post the particular html/css snippet and maybe an image of how it looks rendered?"},{"owner":{"account_id":21772995,"reputation":17,"user_id":16075854,"display_name":"RaviS"},"score":0,"creation_date":1634721869,"post_id":69641932,"comment_id":123098952,"body_markdown":"You can find the html code within the flight booking section of the http://www.mercurytravels.co.in website. Sharing across the snippet as requested::::&lt;div class=&quot;datepicker dropdown-menu&quot; style=&quot;display: block; top: 393.05px; left: 357.767px;&quot;&gt;\n\t&lt;div class=&quot;datepicker-days&quot; style=&quot;display: block;&quot;&gt;\n\t\t&lt;table class=&quot; table-condensed&quot;&gt;\n\t\t\t&lt;thead&gt;\n\t\t\t\t&lt;tr&gt;\n\t\t\t\t\t&lt;th class=&quot;prev&quot;&gt;‹&lt;/th&gt;\n\t\t\t\t\t&lt;th colspan=&quot;5&quot; class=&quot;switch&quot;&gt;November 2021&lt;/th&gt;\n\t\t\t\t\t&lt;th class=&quot;next&quot;&gt;›&lt;/th&gt;\n\t\t\t\t&lt;/tr&gt;\n\t\t\t\t&lt;tr&gt;","body":"You can find the html code within the flight booking section of the <a href=\"http://www.mercurytravels.co.in\" rel=\"nofollow noreferrer\">mercurytravels.co.in</a> website. Sharing across the snippet as requested::::&lt;div class=&quot;datepicker dropdown-menu&quot; style=&quot;display: block; top: 393.05px; left: 357.767px;&quot;&gt; \t&lt;div class=&quot;datepicker-days&quot; style=&quot;display: block;&quot;&gt; \t\t&lt;table class=&quot; table-condensed&quot;&gt; \t\t\t&lt;thead&gt; \t\t\t\t&lt;tr&gt; \t\t\t\t\t&lt;th class=&quot;prev&quot;&gt;‹&lt;/th&gt; \t\t\t\t\t&lt;th colspan=&quot;5&quot; class=&quot;switch&quot;&gt;November 2021&lt;/th&gt; \t\t\t\t\t&lt;th class=&quot;next&quot;&gt;›&lt;/th&gt; \t\t\t\t&lt;/tr&gt; \t\t\t\t&lt;tr&gt;"}],"answers":[{"tags":[],"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634721749,"creation_date":1634721749,"answer_id":69643435,"question_id":69641932,"body_markdown":"`org.openqa.selenium.ElementNotInteractableException` Indicates that a click could not be properly executed because the target element was obscured in some way. ElementNotInteractableException is Thrown to indicate that although an element is present on the DOM, it is not in a state that can be interacted with.\r\n\r\n**Using `Explicit` wait**:\r\n\r\n\t\tdriver.findElement(By.cssSelector(&quot;input[name=&#39;returnDate&#39;]&quot;)).click();\r\n\t\tWebElement next = (new WebDriverWait(driver, 30)).until(ExpectedConditions.elementToBeClickable(By.xpath(\r\n\t\t\t\t&quot;//div[@class=&#39;datepicker dropdown-menu&#39;][4]/div[@class=&#39;datepicker-days&#39;]/table[@class=&#39; table-condensed&#39;]/thead/tr[1]/th[3]&quot;)));\r\n\t\tnext.click();\r\n\r\n**Using `Actions`**:\r\n\r\n\t\tdriver.findElement(By.cssSelector(&quot;input[name=&#39;returnDate&#39;]&quot;)).click();\r\n\t\tWebElement next = (new WebDriverWait(driver, 30)).until(ExpectedConditions.elementToBeClickable(By.xpath(\r\n\t\t\t\t&quot;//div[@class=&#39;datepicker dropdown-menu&#39;][4]/div[@class=&#39;datepicker-days&#39;]/table[@class=&#39; table-condensed&#39;]/thead/tr[1]/th[3]&quot;)));\r\n\t\tActions action = new Actions(driver);\r\n\t\taction.moveToElement(next).click().build().perform();\r\n\r\n**Using `JavascriptExecutor`**:\r\n\r\n\t\tdriver.findElement(By.cssSelector(&quot;input[name=&#39;returnDate&#39;]&quot;)).click();\r\n\t\tWebElement next = (new WebDriverWait(driver, 30)).until(ExpectedConditions.elementToBeClickable(By.xpath(\r\n\t\t\t\t&quot;//div[@class=&#39;datepicker dropdown-menu&#39;][4]/div[@class=&#39;datepicker-days&#39;]/table[@class=&#39; table-condensed&#39;]/thead/tr[1]/th[3]&quot;)));\r\n\t\tJavascriptExecutor javascriptExecutor = (JavascriptExecutor) driver;\r\n\t\tjavascriptExecutor.executeScript(&quot;arguments[0].click();&quot;, next);","title":"Unable to identify and click on the &quot;Next&quot; button in date field","body":"<p><code>org.openqa.selenium.ElementNotInteractableException</code> Indicates that a click could not be properly executed because the target element was obscured in some way. ElementNotInteractableException is Thrown to indicate that although an element is present on the DOM, it is not in a state that can be interacted with.</p>\n<p><strong>Using <code>Explicit</code> wait</strong>:</p>\n<pre><code>    driver.findElement(By.cssSelector(&quot;input[name='returnDate']&quot;)).click();\n    WebElement next = (new WebDriverWait(driver, 30)).until(ExpectedConditions.elementToBeClickable(By.xpath(\n            &quot;//div[@class='datepicker dropdown-menu'][4]/div[@class='datepicker-days']/table[@class=' table-condensed']/thead/tr[1]/th[3]&quot;)));\n    next.click();\n</code></pre>\n<p><strong>Using <code>Actions</code></strong>:</p>\n<pre><code>    driver.findElement(By.cssSelector(&quot;input[name='returnDate']&quot;)).click();\n    WebElement next = (new WebDriverWait(driver, 30)).until(ExpectedConditions.elementToBeClickable(By.xpath(\n            &quot;//div[@class='datepicker dropdown-menu'][4]/div[@class='datepicker-days']/table[@class=' table-condensed']/thead/tr[1]/th[3]&quot;)));\n    Actions action = new Actions(driver);\n    action.moveToElement(next).click().build().perform();\n</code></pre>\n<p><strong>Using <code>JavascriptExecutor</code></strong>:</p>\n<pre><code>    driver.findElement(By.cssSelector(&quot;input[name='returnDate']&quot;)).click();\n    WebElement next = (new WebDriverWait(driver, 30)).until(ExpectedConditions.elementToBeClickable(By.xpath(\n            &quot;//div[@class='datepicker dropdown-menu'][4]/div[@class='datepicker-days']/table[@class=' table-condensed']/thead/tr[1]/th[3]&quot;)));\n    JavascriptExecutor javascriptExecutor = (JavascriptExecutor) driver;\n    javascriptExecutor.executeScript(&quot;arguments[0].click();&quot;, next);\n</code></pre>\n"}],"owner":{"account_id":21772995,"reputation":17,"user_id":16075854,"display_name":"RaviS"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1634721749,"creation_date":1634714854,"question_id":69641932,"body_markdown":"I am trying to automate the flight booking of http://www.mercurytravels.co.in using Selenium+java.\r\nThe issue that I am facing is that I&#39;m unable to click on the &quot;&gt;&quot; (next button) of the &quot;Date of Return&quot; date field in the Book Flights Online page.\r\n\r\nGetting error message that --&gt; Exception in thread &quot;main&quot; org.openqa.selenium.ElementNotInteractableException: element not interactable\r\n\r\nThe code that I&#39;ve written is:\r\n\t\t\t\r\n\t\tdriver.findElement(By.cssSelector(&quot;input[name=&#39;returnDate&#39;]&quot;)).click();\r\n\t\t\r\n        //Retrieving current year value\r\n\t\tString currentReturnMonthYear = driver.findElement(By.xpath(&quot;//div[@class=&#39;datepicker dropdown-menu&#39;][4]/div[@class=&#39;datepicker-days&#39;]/table[@class=&#39; table-condensed&#39;]/thead/tr[1]/th[2]&quot;)).getAttribute(&quot;innerHTML&quot;);\r\n\t\t\r\n\t\tdriver.findElement(By.xpath(&quot;//div[@class=&#39;datepicker dropdown-menu&#39;][4]/div[@class=&#39;datepicker-days&#39;]/table[@class=&#39; table-condensed&#39;]/thead/tr[1]/th[3]&quot;)).click();\r\n\t\r\n\r\nRequest any inputs on issue that I&#39;m facing?","title":"Unable to identify and click on the &quot;Next&quot; button in date field","body":"<p>I am trying to automate the flight booking of <a href=\"http://www.mercurytravels.co.in\" rel=\"nofollow noreferrer\">http://www.mercurytravels.co.in</a> using Selenium+java.\nThe issue that I am facing is that I'm unable to click on the &quot;&gt;&quot; (next button) of the &quot;Date of Return&quot; date field in the Book Flights Online page.</p>\n<p>Getting error message that --&gt; Exception in thread &quot;main&quot; org.openqa.selenium.ElementNotInteractableException: element not interactable</p>\n<p>The code that I've written is:</p>\n<pre><code>    driver.findElement(By.cssSelector(&quot;input[name='returnDate']&quot;)).click();\n    \n    //Retrieving current year value\n    String currentReturnMonthYear = driver.findElement(By.xpath(&quot;//div[@class='datepicker dropdown-menu'][4]/div[@class='datepicker-days']/table[@class=' table-condensed']/thead/tr[1]/th[2]&quot;)).getAttribute(&quot;innerHTML&quot;);\n    \n    driver.findElement(By.xpath(&quot;//div[@class='datepicker dropdown-menu'][4]/div[@class='datepicker-days']/table[@class=' table-condensed']/thead/tr[1]/th[3]&quot;)).click();\n</code></pre>\n<p>Request any inputs on issue that I'm facing?</p>\n"},{"tags":["java","json","jackson","jackson-databind","jackson-annotations"],"answers":[{"tags":[],"owner":{"account_id":8442315,"reputation":1,"user_id":17192894,"display_name":"Khaldoun bhy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634720682,"creation_date":1634720620,"answer_id":69643179,"question_id":69643094,"body_markdown":"Hello this a example to bind the json into the object \r\nhttps://www.tutorialspoint.com/jackson/jackson_data_binding.htm\r\n","title":"How to map unwrapped JSON field to wrapped object with Jackson?","body":"<p>Hello this a example to bind the json into the object\n<a href=\"https://www.tutorialspoint.com/jackson/jackson_data_binding.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/jackson/jackson_data_binding.htm</a></p>\n"},{"tags":[],"owner":{"account_id":4468601,"reputation":7627,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634721633,"creation_date":1634721313,"answer_id":69643338,"question_id":69643094,"body_markdown":"Just add `@JsonUnrapped` annotation over `Person person;` in your `Response` class. And by the way, classes in Java are defined by **class** not **Class**. Doesn&#39;t your code fails to compile? And you should add getters/setters to your classes if you haven&#39;t done already\r\n\r\n**Response** class:\r\n\r\n    public class Response {\r\n        @JsonUnwrapped\r\n        Person person;\r\n\r\n        public Person getPerson() {\r\n            return person;\r\n        }\r\n\r\n        public void setPerson(Person person) {\r\n            this.person = person;\r\n        }\r\n    }\r\n\r\n**Person** class:\r\n\r\n    public class Person {\r\n        String name;\r\n        String age;\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public String getAge() {\r\n            return age;\r\n        }\r\n\r\n        public void setAge(String age) {\r\n            this.age = age;\r\n        }\r\n    }\r\n\r\nAnd here is a small test code to verify it:\r\n\r\n        String json=&quot;{\\n&quot; +\r\n                &quot;  \\&quot;name\\&quot;: \\&quot;Joe\\&quot;,\\n&quot; +\r\n                &quot;  \\&quot;age\\&quot;: \\&quot;30\\&quot;\\n&quot; +\r\n                &quot;}&quot;;\r\n\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        \r\n        // convert JSON to Response\r\n        final Response response = mapper.readValue(json, Response.class);\r\n        System.out.println(response.getPerson().getName());\r\n        System.out.println(response.getPerson().getAge());\r\n\r\n        // convert Response to JSON string\r\n        final String s = mapper.writeValueAsString(response);\r\n        System.out.println(s);","title":"How to map unwrapped JSON field to wrapped object with Jackson?","body":"<p>Just add <code>@JsonUnrapped</code> annotation over <code>Person person;</code> in your <code>Response</code> class. And by the way, classes in Java are defined by <strong>class</strong> not <strong>Class</strong>. Doesn't your code fails to compile? And you should add getters/setters to your classes if you haven't done already</p>\n<p><strong>Response</strong> class:</p>\n<pre><code>public class Response {\n    @JsonUnwrapped\n    Person person;\n\n    public Person getPerson() {\n        return person;\n    }\n\n    public void setPerson(Person person) {\n        this.person = person;\n    }\n}\n</code></pre>\n<p><strong>Person</strong> class:</p>\n<pre><code>public class Person {\n    String name;\n    String age;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getAge() {\n        return age;\n    }\n\n    public void setAge(String age) {\n        this.age = age;\n    }\n}\n</code></pre>\n<p>And here is a small test code to verify it:</p>\n<pre><code>    String json=&quot;{\\n&quot; +\n            &quot;  \\&quot;name\\&quot;: \\&quot;Joe\\&quot;,\\n&quot; +\n            &quot;  \\&quot;age\\&quot;: \\&quot;30\\&quot;\\n&quot; +\n            &quot;}&quot;;\n\n    ObjectMapper mapper = new ObjectMapper();\n    \n    // convert JSON to Response\n    final Response response = mapper.readValue(json, Response.class);\n    System.out.println(response.getPerson().getName());\n    System.out.println(response.getPerson().getAge());\n\n    // convert Response to JSON string\n    final String s = mapper.writeValueAsString(response);\n    System.out.println(s);\n</code></pre>\n"}],"owner":{"account_id":20439299,"reputation":105,"user_id":14996394,"display_name":"Ajay Sabarish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1183,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69643338,"answer_count":2,"score":1,"last_activity_date":1634721633,"creation_date":1634720259,"question_id":69643094,"body_markdown":"I have a JSON of structure\r\n\r\n```\r\n{\r\n  &quot;name&quot;: &quot;...&quot;,\r\n  &quot;age&quot;: &quot;...&quot;\r\n}\r\n```\r\nI have to map this JSON to following class object\r\n\r\n```\r\nClass Response {\r\n  Person person;\r\n}\r\n\r\nClass Person {\r\n String name;\r\n String age;\r\n}\r\n```\r\n\r\nIs there any Jackson annotation that helps me do this without changing the JSON structure or modifying the class structure?","title":"How to map unwrapped JSON field to wrapped object with Jackson?","body":"<p>I have a JSON of structure</p>\n<pre><code>{\n  &quot;name&quot;: &quot;...&quot;,\n  &quot;age&quot;: &quot;...&quot;\n}\n</code></pre>\n<p>I have to map this JSON to following class object</p>\n<pre><code>Class Response {\n  Person person;\n}\n\nClass Person {\n String name;\n String age;\n}\n</code></pre>\n<p>Is there any Jackson annotation that helps me do this without changing the JSON structure or modifying the class structure?</p>\n"},{"tags":["java","mvn-repo"],"comments":[{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1634639687,"post_id":69629214,"comment_id":123073521,"body_markdown":"You say you have a &quot;repository&quot;, but [there are only 20 repos in total in there](https://mvnrepository.com/repos) and they are mostly owned by big companies. I suspect you don&#39;t mean &#39;repo&#39;, because you refer to a POM file and a POM file would belong to a specific artifact, not an entire repo. Can you clarify what you actually mean?","body":"You say you have a &quot;repository&quot;, but <a href=\"https://mvnrepository.com/repos\" rel=\"nofollow noreferrer\">there are only 20 repos in total in there</a> and they are mostly owned by big companies. I suspect you don&#39;t mean &#39;repo&#39;, because you refer to a POM file and a POM file would belong to a specific artifact, not an entire repo. Can you clarify what you actually mean?"},{"owner":{"account_id":12000421,"reputation":1,"user_id":8780546,"display_name":"Edea_Barby"},"score":0,"creation_date":1634651408,"post_id":69629214,"comment_id":123078777,"body_markdown":"Yes, I meant the artifact ;)","body":"Yes, I meant the artifact ;)"},{"owner":{"account_id":12000421,"reputation":1,"user_id":8780546,"display_name":"Edea_Barby"},"score":0,"creation_date":1634651665,"post_id":69629214,"comment_id":123078903,"body_markdown":"Is there a possibility to add something like\n&lt;description&gt;The maven project description&lt;/description&gt; in the pom file\nand then I will find this description as annotation in the artifact?","body":"Is there a possibility to add something like &lt;description&gt;The maven project description&lt;/description&gt; in the pom file and then I will find this description as annotation in the artifact?"},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1634653423,"post_id":69629214,"comment_id":123079766,"body_markdown":"Maven POM [has a &lt;description&gt; tag](https://maven.apache.org/pom.html). It does appear like this website will use that information (e.g. if you look at [this Spring project](https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-test), the description starts &quot;Starter for testing...&quot; and the same can be found [in their POM](https://repo1.maven.org/maven2/org/springframework/boot/spring-boot-starter-test/2.5.5/spring-boot-starter-test-2.5.5.pom)). I don&#39;t see any documentation on the website to that effect though. ... (1/2)","body":"Maven POM <a href=\"https://maven.apache.org/pom.html\" rel=\"nofollow noreferrer\">has a &lt;description&gt; tag</a>. It does appear like this website will use that information (e.g. if you look at <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-test\" rel=\"nofollow noreferrer\">this Spring project</a>, the description starts &quot;Starter for testing...&quot; and the same can be found <a href=\"https://repo1.maven.org/maven2/org/springframework/boot/spring-boot-starter-test/2.5.5/spring-boot-starter-test-2.5.5.pom\" rel=\"nofollow noreferrer\">in their POM</a>). I don&#39;t see any documentation on the website to that effect though. ... (1/2)"},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1634653509,"post_id":69629214,"comment_id":123079813,"body_markdown":"(2/2) The owner has his Twitter profile linked on the website, and there&#39;s an email address too. If you wanted a definitive answer, you could just ask him.","body":"(2/2) The owner has his Twitter profile linked on the website, and there&#39;s an email address too. If you wanted a definitive answer, you could just ask him."},{"owner":{"account_id":12000421,"reputation":1,"user_id":8780546,"display_name":"Edea_Barby"},"score":0,"creation_date":1634657386,"post_id":69629214,"comment_id":123081720,"body_markdown":"Thanks a lot @Michael :)","body":"Thanks a lot @Michael :)"}],"owner":{"account_id":12000421,"reputation":1,"user_id":8780546,"display_name":"Edea_Barby"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634721592,"creation_date":1634639322,"question_id":69629214,"body_markdown":"I have a public artifact in mvnrepository.com, and I need to add an important annotation like the date until I&#39;m gonna do the maintenance of it.\r\nIs there any way to add or change a description of the artifact itself? I&#39;m not an expert with Java but I guess there should be a way through the pom file, but I didn&#39;t find any way to do that.\r\n\r\nFor instance, for PHP I can add this info in the composer.json description and then this annotation will be added in Packagist.\r\n\r\nCould you please help me? I did a lot of research but I didn&#39;t find anything.\r\n\r\n\r\n\r\nThanks :)\r\n","title":"Mvn repository - changing description","body":"<p>I have a public artifact in mvnrepository.com, and I need to add an important annotation like the date until I'm gonna do the maintenance of it.\nIs there any way to add or change a description of the artifact itself? I'm not an expert with Java but I guess there should be a way through the pom file, but I didn't find any way to do that.</p>\n<p>For instance, for PHP I can add this info in the composer.json description and then this annotation will be added in Packagist.</p>\n<p>Could you please help me? I did a lot of research but I didn't find anything.</p>\n<p>Thanks :)</p>\n"},{"tags":["java","mongodb-java","mongodb-java-3.3.0","mongodb-java-3.8"],"comments":[{"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"score":0,"creation_date":1634722354,"post_id":69643309,"comment_id":123099169,"body_markdown":"I&#39;m not sure if it will fix your problem, but `Optional` is not designed to be a variable of a POJO. Optional is mostly used as a container around a nullable object returned by methods.","body":"I&#39;m not sure if it will fix your problem, but <code>Optional</code> is not designed to be a variable of a POJO. Optional is mostly used as a container around a nullable object returned by methods."},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1634733991,"post_id":69643309,"comment_id":123104057,"body_markdown":"You are right, I found this link for more details https://stackoverflow.com/questions/26327957/should-java-8-getters-return-optional-type/26328555#26328555","body":"You are right, I found this link for more details <a href=\"https://stackoverflow.com/questions/26327957/should-java-8-getters-return-optional-type/26328555#26328555\" title=\"should java 8 getters return optional type\">stackoverflow.com/questions/26327957/&hellip;</a>"}],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":576,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1634721199,"creation_date":1634721199,"question_id":69643309,"body_markdown":"I have register codec registry for POJOs as below\r\n\r\n    @Singleton\r\n    public record Repository(MongodbConfiguration mongodbConfiguration) implements IRepository {\r\n        @Override\r\n        public &lt;T&gt; MongoCollection&lt;T&gt; getCollection(String collectionName, Class&lt;T&gt; typeParameterClass) {\r\n            // create codec registry for POJOs\r\n            CodecRegistry pojoCodecRegistry = fromRegistries(MongoClientSettings.getDefaultCodecRegistry(),\r\n                    fromProviders(PojoCodecProvider.builder().automatic(true).build()));\r\n    \r\n            MongoClientSettings settings = MongoClientSettings.builder().addCommandListener(new MongoCommand()).build();\r\n    \r\n            MongoClient client = MongoClients.create(settings);\r\n    \r\n            return client\r\n                    .getDatabase(mongodbConfiguration.database())\r\n                    .withCodecRegistry(pojoCodecRegistry)\r\n                    .getCollection(collectionName, typeParameterClass);\r\n        }\r\n    }\r\n\r\nWhen I insert or find some record I get an exception as \r\n\r\n    Caused by: org.bson.codecs.configuration.CodecConfigurationException: Failed to decode &#39;CollectionOrProduct&#39;. Decoding &#39;collection&#39; errored with: Cannot find a public constructor for &#39;Optional&#39;.\r\n    \tat org.bson.codecs.pojo.PojoCodecImpl.decodePropertyModel(PojoCodecImpl.java:206)\r\n    \tat org.bson.codecs.pojo.PojoCodecImpl.decodeProperties(PojoCodecImpl.java:179)\r\n    \tat org.bson.codecs.pojo.PojoCodecImpl.decode(PojoCodecImpl.java:103)\r\n    \tat org.bson.codecs.pojo.PojoCodecImpl.decode(PojoCodecImpl.java:107)\r\n    \tat org.bson.codecs.pojo.LazyPropertyModelCodec.decode(LazyPropertyModelCodec.java:51)\r\n    \tat org.bson.codecs.DecoderContext.decodeWithChildContext(DecoderContext.java:96)\r\n    \tat org.bson.codecs.pojo.PojoCodecImpl.decodePropertyModel(PojoCodecImpl.java:200)\r\n\r\nI do have a public constructor\r\n\r\n    @Introspected\r\n    public class CollectionOrProduct {\r\n        private Optional&lt;List&lt;SelectOptionModel&gt;&gt; product;\r\n        private Optional&lt;List&lt;SelectOptionModel&gt;&gt; collection;\r\n    \r\n        public CollectionOrProduct() {\r\n        }\r\n    \r\n        public CollectionOrProduct(Optional&lt;List&lt;SelectOptionModel&gt;&gt; product, Optional&lt;List&lt;SelectOptionModel&gt;&gt; collection) {\r\n            this.product = product;\r\n            this.collection = collection;\r\n        }\r\n    }","title":"Cannot find a public constructor for &#39;Optional&#39; java mongodb driver","body":"<p>I have register codec registry for POJOs as below</p>\n<pre><code>@Singleton\npublic record Repository(MongodbConfiguration mongodbConfiguration) implements IRepository {\n    @Override\n    public &lt;T&gt; MongoCollection&lt;T&gt; getCollection(String collectionName, Class&lt;T&gt; typeParameterClass) {\n        // create codec registry for POJOs\n        CodecRegistry pojoCodecRegistry = fromRegistries(MongoClientSettings.getDefaultCodecRegistry(),\n                fromProviders(PojoCodecProvider.builder().automatic(true).build()));\n\n        MongoClientSettings settings = MongoClientSettings.builder().addCommandListener(new MongoCommand()).build();\n\n        MongoClient client = MongoClients.create(settings);\n\n        return client\n                .getDatabase(mongodbConfiguration.database())\n                .withCodecRegistry(pojoCodecRegistry)\n                .getCollection(collectionName, typeParameterClass);\n    }\n}\n</code></pre>\n<p>When I insert or find some record I get an exception as</p>\n<pre><code>Caused by: org.bson.codecs.configuration.CodecConfigurationException: Failed to decode 'CollectionOrProduct'. Decoding 'collection' errored with: Cannot find a public constructor for 'Optional'.\n    at org.bson.codecs.pojo.PojoCodecImpl.decodePropertyModel(PojoCodecImpl.java:206)\n    at org.bson.codecs.pojo.PojoCodecImpl.decodeProperties(PojoCodecImpl.java:179)\n    at org.bson.codecs.pojo.PojoCodecImpl.decode(PojoCodecImpl.java:103)\n    at org.bson.codecs.pojo.PojoCodecImpl.decode(PojoCodecImpl.java:107)\n    at org.bson.codecs.pojo.LazyPropertyModelCodec.decode(LazyPropertyModelCodec.java:51)\n    at org.bson.codecs.DecoderContext.decodeWithChildContext(DecoderContext.java:96)\n    at org.bson.codecs.pojo.PojoCodecImpl.decodePropertyModel(PojoCodecImpl.java:200)\n</code></pre>\n<p>I do have a public constructor</p>\n<pre><code>@Introspected\npublic class CollectionOrProduct {\n    private Optional&lt;List&lt;SelectOptionModel&gt;&gt; product;\n    private Optional&lt;List&lt;SelectOptionModel&gt;&gt; collection;\n\n    public CollectionOrProduct() {\n    }\n\n    public CollectionOrProduct(Optional&lt;List&lt;SelectOptionModel&gt;&gt; product, Optional&lt;List&lt;SelectOptionModel&gt;&gt; collection) {\n        this.product = product;\n        this.collection = collection;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","resttemplate"],"comments":[{"owner":{"account_id":1625750,"reputation":5627,"user_id":1501345,"accept_rate":60,"display_name":"Amit Kumar Lal"},"score":1,"creation_date":1540348513,"post_id":52960242,"comment_id":92827573,"body_markdown":"there is a similar question being asked https://stackoverflow.com/questions/45152484/how-to-set-respond-header-values-in-spring-boot-rest-service-method however I have checked and Found out they are using the same approach as you are.","body":"there is a similar question being asked <a href=\"https://stackoverflow.com/questions/45152484/how-to-set-respond-header-values-in-spring-boot-rest-service-method\" title=\"how to set respond header values in spring boot rest service method\">stackoverflow.com/questions/45152484/&hellip;</a> however I have checked and Found out they are using the same approach as you are."}],"answers":[{"tags":[],"owner":{"account_id":5126886,"reputation":20904,"user_id":4108590,"accept_rate":57,"display_name":"Ravindra Ranwala"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1540348730,"creation_date":1540348730,"answer_id":52960332,"question_id":52960242,"body_markdown":"You can create an interceptor which intercepts all the requests sent by the rest template and add the custom headers like so,\r\n\r\n    public class TokenAuthorizationInterceptor implements ClientHttpRequestInterceptor {\r\n    \t@Override\r\n    \tpublic ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution)\r\n    \t\t\tthrows IOException {\r\n    \t\trequest.getHeaders().add(&quot;ContentType&quot;, MediaType.APPLICATION_JSON);\r\n    \t\trequest.getHeaders().add(&quot;muh Header&quot;, &quot;muh value&quot;);\r\n    \t\treturn execution.execute(request, body);\r\n    \t}\r\n    \r\n    }\r\n\r\n    this.restTemplate = new RestTemplate();\r\n    this.restTemplate.getInterceptors().add(new TokenAuthorizationInterceptor());\r\n\r\nThis will work fine if you want to add the same custom headers to all your requests sent through this rest template. One advantage of this approach is you can set custom HTTP headers only in one single place, rather than doing it in everywhere you submit a request.\r\n\r\n","title":"Send custom headers RestTemplate","body":"<p>You can create an interceptor which intercepts all the requests sent by the rest template and add the custom headers like so,</p>\n\n<pre><code>public class TokenAuthorizationInterceptor implements ClientHttpRequestInterceptor {\n    @Override\n    public ClientHttpResponse intercept(HttpRequest request, byte[] body, ClientHttpRequestExecution execution)\n            throws IOException {\n        request.getHeaders().add(\"ContentType\", MediaType.APPLICATION_JSON);\n        request.getHeaders().add(\"muh Header\", \"muh value\");\n        return execution.execute(request, body);\n    }\n\n}\n\nthis.restTemplate = new RestTemplate();\nthis.restTemplate.getInterceptors().add(new TokenAuthorizationInterceptor());\n</code></pre>\n\n<p>This will work fine if you want to add the same custom headers to all your requests sent through this rest template. One advantage of this approach is you can set custom HTTP headers only in one single place, rather than doing it in everywhere you submit a request.</p>\n"},{"tags":[],"owner":{"account_id":1857056,"reputation":106,"user_id":1682393,"display_name":"Thina Garan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1540350853,"creation_date":1540350489,"answer_id":52960534,"question_id":52960242,"body_markdown":"I would go with something like this:\r\n\r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    public class WebController {\r\n    \tprivate static final String template = &quot;Hello, %s!&quot;;\r\n    \r\n    \t@RequestMapping(&quot;/greeting&quot;)\r\n    \tpublic ResponseEntity&lt;String&gt; greeting(@RequestParam(value=&quot;name&quot;, defaultValue=&quot;World&quot;) String name){\r\n    \t\tHttpHeaders headers = new HttpHeaders();\r\n    \t\theaders.setContentType(MediaType.APPLICATION_JSON);\r\n    \t\theaders.add(&quot;thisiskey&quot;, &quot;this is value&quot;);\r\n    \t\treturn new ResponseEntity&lt;&gt;(name, headers, HttpStatus.ACCEPTED);\r\n    \t}\r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GlGeb.png\r\n\r\n\r\nPoints to ponder :\r\n\r\n1. How often do you want to add a custom header and how often do they vary?\r\nIf it is only applicable to one or two, you may consider this option however if it is more then twice i would suggest to use a http interceptor.\r\n\r\n2. header.add(&quot;&quot;,&quot;&quot;) -&gt; which implements MultiValueMap&lt;K,V&gt; does not accept a header.add(&quot;mua key&quot;, &quot;...&quot;) -&gt; as there is a space in the key.","title":"Send custom headers RestTemplate","body":"<p>I would go with something like this:</p>\n\n<pre><code>import org.springframework.http.HttpHeaders;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class WebController {\n    private static final String template = \"Hello, %s!\";\n\n    @RequestMapping(\"/greeting\")\n    public ResponseEntity&lt;String&gt; greeting(@RequestParam(value=\"name\", defaultValue=\"World\") String name){\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        headers.add(\"thisiskey\", \"this is value\");\n        return new ResponseEntity&lt;&gt;(name, headers, HttpStatus.ACCEPTED);\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/GlGeb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GlGeb.png\" alt=\"enter image description here\"></a></p>\n\n<p>Points to ponder :</p>\n\n<ol>\n<li><p>How often do you want to add a custom header and how often do they vary?\nIf it is only applicable to one or two, you may consider this option however if it is more then twice i would suggest to use a http interceptor.</p></li>\n<li><p>header.add(\"\",\"\") -> which implements MultiValueMap does not accept a header.add(\"mua key\", \"...\") -> as there is a space in the key.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4646546,"reputation":808,"user_id":3764651,"accept_rate":100,"display_name":"chao_chang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540353216,"creation_date":1540353216,"answer_id":52960862,"question_id":52960242,"body_markdown":"The package you are using is wrong, in order to add headers when using Spring restTemplate, you should use `org.springframework.http.HttpHeaders.HttpHeaders` instead of `java.net.http.HttpHeaders`, the latter is what you are trying to use. \r\n\r\nHere is the code snippet that adds request headers.\r\n\r\n\r\n    // request resource\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.set(&quot;headerName&quot;, &quot;headerValue&quot;);\r\n    \r\n    HttpEntity entity = new HttpEntity(headers);\r\n    \r\n    ResponseEntity&lt;String&gt; response = restTemplate.exchange(&quot;some url&quot;, HttpMethod.GET, entity, String.class);\r\n\r\n","title":"Send custom headers RestTemplate","body":"<p>The package you are using is wrong, in order to add headers when using Spring restTemplate, you should use <code>org.springframework.http.HttpHeaders.HttpHeaders</code> instead of <code>java.net.http.HttpHeaders</code>, the latter is what you are trying to use. </p>\n\n<p>Here is the code snippet that adds request headers.</p>\n\n<pre><code>// request resource\nHttpHeaders headers = new HttpHeaders();\nheaders.set(\"headerName\", \"headerValue\");\n\nHttpEntity entity = new HttpEntity(headers);\n\nResponseEntity&lt;String&gt; response = restTemplate.exchange(\"some url\", HttpMethod.GET, entity, String.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12795274,"reputation":595,"user_id":9258519,"display_name":"Saad Joudi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634721140,"creation_date":1634721140,"answer_id":69643296,"question_id":52960242,"body_markdown":"Cleaner way to do so :\r\n\r\n        return ResponseEntity\r\n                .ok()\r\n                .header(&quot;key&quot;,&quot;value&quot;)\r\n                .contentType(-----)\r\n                .body(----------);\r\n    }","title":"Send custom headers RestTemplate","body":"<p>Cleaner way to do so :</p>\n<pre><code>    return ResponseEntity\n            .ok()\n            .header(&quot;key&quot;,&quot;value&quot;)\n            .contentType(-----)\n            .body(----------);\n}\n</code></pre>\n"}],"owner":{"account_id":1626837,"reputation":2279,"user_id":1502207,"accept_rate":100,"display_name":"Paul McLoughlin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2328,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":52960534,"answer_count":4,"score":1,"last_activity_date":1634721140,"creation_date":1540347831,"question_id":52960242,"body_markdown":"I am trying to set a custom header on my ``RestTemplate`` requests. I&#39;m using ``Spring Boot 2.0.6.RELEASE``\r\n\r\nI try setting them like so, inside of my public method\r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setContentType(MediaType.APPLICATION_JSON);\r\n    headers.add(&quot;muh Header&quot;, &quot;muh value&quot;);\r\n    \r\nEvery time I try and do this, it generates the following error\r\n\r\n``&#39;HttpHeaders(java.util.Map&lt;java.lang.String,java.util.List&lt;java.lang.String&gt;&gt;)&#39; has private access in &#39;java.net.http.``\r\n\r\nI understand the error message to mean that I&#39;m trying to instantiate a private class outside of the class where the private class is declared. \r\n\r\nSo what is the best course of action?","title":"Send custom headers RestTemplate","body":"<p>I am trying to set a custom header on my <code>RestTemplate</code> requests. I'm using <code>Spring Boot 2.0.6.RELEASE</code></p>\n\n<p>I try setting them like so, inside of my public method</p>\n\n<pre><code>HttpHeaders headers = new HttpHeaders();\nheaders.setContentType(MediaType.APPLICATION_JSON);\nheaders.add(\"muh Header\", \"muh value\");\n</code></pre>\n\n<p>Every time I try and do this, it generates the following error</p>\n\n<p><code>'HttpHeaders(java.util.Map&lt;java.lang.String,java.util.List&lt;java.lang.String&gt;&gt;)' has private access in 'java.net.http.</code></p>\n\n<p>I understand the error message to mean that I'm trying to instantiate a private class outside of the class where the private class is declared. </p>\n\n<p>So what is the best course of action?</p>\n"},{"tags":["java","asynchronous","quarkus","mutiny"],"answers":[{"tags":[],"owner":{"account_id":7091735,"reputation":2510,"user_id":5426703,"display_name":"Spyros K"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634720716,"creation_date":1619792087,"answer_id":67335461,"question_id":67335319,"body_markdown":"A [CompletionStage][1] is an interface that models a stage of a possibly asynchronous computation, that performs an action or computes a value when another CompletionStage completes. \r\n\r\nSo it can be the result of a synchronous or an asynchronous operation. \r\n\r\nThe `CompletableFuture` is a JRE class tha implements the `CompletionStage` interface. \r\n You can create and return a completed `CompletableFuture`, which implements the [CompletionStage][1] using the [CompletableFuture.completedFuture][2] static method. \r\n\r\n     return CompletableFuture.completedFuture(Response.status(Response.Status.BAD_REQUEST).build())\r\n\r\nThe result returned will be already completed with the response provided. \r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletionStage.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#completedFuture-U-","title":"How to return CompletionStage&lt;Response&gt; both synchronously and asynchronously in Quarkus?","body":"<p>A <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletionStage.html\" rel=\"nofollow noreferrer\">CompletionStage</a> is an interface that models a stage of a possibly asynchronous computation, that performs an action or computes a value when another CompletionStage completes.</p>\n<p>So it can be the result of a synchronous or an asynchronous operation.</p>\n<p>The <code>CompletableFuture</code> is a JRE class tha implements the <code>CompletionStage</code> interface.\nYou can create and return a completed <code>CompletableFuture</code>, which implements the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletionStage.html\" rel=\"nofollow noreferrer\">CompletionStage</a> using the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#completedFuture-U-\" rel=\"nofollow noreferrer\">CompletableFuture.completedFuture</a> static method.</p>\n<pre><code> return CompletableFuture.completedFuture(Response.status(Response.Status.BAD_REQUEST).build())\n</code></pre>\n<p>The result returned will be already completed with the response provided.</p>\n"},{"tags":[],"owner":{"account_id":17473036,"reputation":141,"user_id":12668485,"display_name":"jzimmerli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620203832,"creation_date":1620203832,"answer_id":67397821,"question_id":67335319,"body_markdown":"As you tagged this as mutiny. \r\nI assume the async function is a uni or a multy.\r\nIf you use restaesy-mutiny, you just can return the mutly/uni itself, as described in the guide: https://quarkus.io/guides/getting-started-reactive\r\n\r\n     @GET\r\n    @Path(&quot;{id}&quot;)\r\n    public Uni&lt;Response&gt; getSingle(Long id) {\r\n        return Fruit.findById(client, id)\r\n                .onItem().transform(fruit -&gt; fruit != null ? Response.ok(fruit) : Response.status(Status.NOT_FOUND))\r\n                .onItem().transform(ResponseBuilder::build);\r\n    }\r\n\r\nTo handle precondition, you can create an uni with the response itself. Something like:\r\n\r\n    Uni.createFrom()\r\n                .item(Response.status(Response.Status.BAD_REQUEST).build())\r\n\r\nBest is to check out Mutiny guides itself:\r\nhttps://smallrye.io/smallrye-mutiny/guides\r\nTo understand how to handle errors etc.","title":"How to return CompletionStage&lt;Response&gt; both synchronously and asynchronously in Quarkus?","body":"<p>As you tagged this as mutiny.\nI assume the async function is a uni or a multy.\nIf you use restaesy-mutiny, you just can return the mutly/uni itself, as described in the guide: <a href=\"https://quarkus.io/guides/getting-started-reactive\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/getting-started-reactive</a></p>\n<pre><code> @GET\n@Path(&quot;{id}&quot;)\npublic Uni&lt;Response&gt; getSingle(Long id) {\n    return Fruit.findById(client, id)\n            .onItem().transform(fruit -&gt; fruit != null ? Response.ok(fruit) : Response.status(Status.NOT_FOUND))\n            .onItem().transform(ResponseBuilder::build);\n}\n</code></pre>\n<p>To handle precondition, you can create an uni with the response itself. Something like:</p>\n<pre><code>Uni.createFrom()\n            .item(Response.status(Response.Status.BAD_REQUEST).build())\n</code></pre>\n<p>Best is to check out Mutiny guides itself:\n<a href=\"https://smallrye.io/smallrye-mutiny/guides\" rel=\"nofollow noreferrer\">https://smallrye.io/smallrye-mutiny/guides</a>\nTo understand how to handle errors etc.</p>\n"}],"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2877,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1634720716,"creation_date":1619791465,"question_id":67335319,"body_markdown":"I have endpoint, which can return both sync and async results\r\n\r\n    @POST\r\n    @Path(&quot;/create-account&quot;)\r\n    public CompletionStage&lt;Response&gt; createAccount(...) {\r\n\r\n       if (preconditions) {\r\n           return myAsyncFunction(...);\r\n       }\r\n       else {\r\n           // how to return error immediately???\r\n           return Response.status(Response.Status.BAD_REQUEST).build(); // incorrect return type\r\n       }\r\n\r\n    }\r\n\r\nHow to return something deliberately, i.e. sync?","title":"How to return CompletionStage&lt;Response&gt; both synchronously and asynchronously in Quarkus?","body":"<p>I have endpoint, which can return both sync and async results</p>\n<pre><code>@POST\n@Path(&quot;/create-account&quot;)\npublic CompletionStage&lt;Response&gt; createAccount(...) {\n\n   if (preconditions) {\n       return myAsyncFunction(...);\n   }\n   else {\n       // how to return error immediately???\n       return Response.status(Response.Status.BAD_REQUEST).build(); // incorrect return type\n   }\n\n}\n</code></pre>\n<p>How to return something deliberately, i.e. sync?</p>\n"},{"tags":["java","mp3","ubuntu-11.04","jmf","javasound"],"comments":[{"owner":{"account_id":145430,"reputation":5284,"user_id":355232,"accept_rate":62,"display_name":"sbrattla"},"score":0,"creation_date":1323122593,"post_id":8392241,"comment_id":10361074,"body_markdown":"Check out JavaZoom (Google it). It does not require you to install JMF, and will of course run wherever java runs.","body":"Check out JavaZoom (Google it). It does not require you to install JMF, and will of course run wherever java runs."},{"owner":{"account_id":1086839,"reputation":173,"user_id":1082359,"display_name":"Reem"},"score":0,"creation_date":1323136853,"post_id":8392241,"comment_id":10364077,"body_markdown":"thanks, I&#39;ll check about it ...","body":"thanks, I&#39;ll check about it ..."}],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1634720590,"creation_date":1323124668,"answer_id":8392893,"question_id":8392241,"body_markdown":"That is the link from which I downloaded the Jar some time ago, but it seems broken now.  It leads to a page with a long list of APIs for download, none of which are that archive.  :(\r\n\r\n----\r\nFortunately, I use it in various web start apps.  You can get it direct from my [share drive](https://drive.google.com/file/d/0B5B9wDXIGw9lRmpSbEUtenljd1k/view?usp=sharing&amp;resourcekey=0-miuzcGB8fsXn2EQh3sVolA). ","title":"Where can I download the mp3plugin.jar to play MP3s in Java code?","body":"<p>That is the link from which I downloaded the Jar some time ago, but it seems broken now.  It leads to a page with a long list of APIs for download, none of which are that archive.  :(</p>\n<hr />\n<p>Fortunately, I use it in various web start apps.  You can get it direct from my <a href=\"https://drive.google.com/file/d/0B5B9wDXIGw9lRmpSbEUtenljd1k/view?usp=sharing&amp;resourcekey=0-miuzcGB8fsXn2EQh3sVolA\" rel=\"nofollow noreferrer\">share drive</a>.</p>\n"}],"owner":{"account_id":1086839,"reputation":173,"user_id":1082359,"display_name":"Reem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19369,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":8392893,"answer_count":1,"score":17,"last_activity_date":1634720590,"creation_date":1323121107,"question_id":8392241,"body_markdown":"I need to Play a MP3 File in Java code under Linux environment (**Ubuntu 11.04**).\r\n\r\nI tried to download the **MP3plugin.jar** file from http://www.oracle.com/technetwork/java/javase/download-137625.html ,but I can&#39;t see it in the list.\r\n\r\nNote : &quot;I downloaded the sun Java Media Framework&quot;\r\n  ","title":"Where can I download the mp3plugin.jar to play MP3s in Java code?","body":"<p>I need to Play a MP3 File in Java code under Linux environment (<strong>Ubuntu 11.04</strong>).</p>\n\n<p>I tried to download the <strong>MP3plugin.jar</strong> file from <a href=\"http://www.oracle.com/technetwork/java/javase/download-137625.html\" rel=\"noreferrer\">http://www.oracle.com/technetwork/java/javase/download-137625.html</a> ,but I can't see it in the list.</p>\n\n<p>Note : \"I downloaded the sun Java Media Framework\"</p>\n"},{"tags":["java","ubuntu","jmf"],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634720553,"creation_date":1304499684,"answer_id":5881003,"question_id":5880850,"body_markdown":"It is not necessary to install JMF just to be able to play MP3 files.  Instead, add the &lt;a href=&quot;https://drive.google.com/file/d/0B5B9wDXIGw9lRmpSbEUtenljd1k/view?usp=sharing&amp;resourcekey=0-miuzcGB8fsXn2EQh3sVolA&quot;&gt;mp3plugin.jar&lt;/a&gt; to the application&#39;s run-time class-path and Java Sound will be able to load it.  (Yes, `mp3plugin.jar` is part of the JMF, but it is also usable separately.)","title":"How to let Java Media Framework mp3Plugin work on Ubuntu 11.04?","body":"<p>It is not necessary to install JMF just to be able to play MP3 files.  Instead, add the <a href=\"https://drive.google.com/file/d/0B5B9wDXIGw9lRmpSbEUtenljd1k/view?usp=sharing&resourcekey=0-miuzcGB8fsXn2EQh3sVolA\" rel=\"nofollow noreferrer\">mp3plugin.jar</a> to the application's run-time class-path and Java Sound will be able to load it.  (Yes, <code>mp3plugin.jar</code> is part of the JMF, but it is also usable separately.)</p>\n"},{"tags":[],"owner":{"account_id":776,"reputation":4705,"user_id":1009,"accept_rate":83,"display_name":"jassuncao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1304499686,"creation_date":1304499686,"answer_id":5881004,"question_id":5880850,"body_markdown":"Put the jar mp3plugin.jar that you can find in [here][1] in JAVA_HOME/lib/ext and run the following command:\r\n\r\n    java com.sun.media.codec.audio.mp3.JavaDecoder\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/download-137625.html","title":"How to let Java Media Framework mp3Plugin work on Ubuntu 11.04?","body":"<p>Put the jar mp3plugin.jar that you can find in <a href=\"http://www.oracle.com/technetwork/java/javase/download-137625.html\" rel=\"nofollow\">here</a> in JAVA_HOME/lib/ext and run the following command:</p>\n\n<pre><code>java com.sun.media.codec.audio.mp3.JavaDecoder\n</code></pre>\n"}],"owner":{"account_id":775730,"reputation":1,"user_id":737630,"display_name":"vincenzo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634720553,"creation_date":1304498881,"question_id":5880850,"body_markdown":"Hello i need to run my &quot;java mp3Player&quot; on ubuntu, my code uses JMF to play mp3 files! &lt;br&gt;Since i coded and tested in windows nothing goes wrong but now that i need my app works on ubuntu i can&#39;t install the JMF.&lt;br&gt; I used bentokit installer for the JMF but don&#39;t know what to do to install the mp3Plugin!&lt;br&gt; In other the jmf installer for linux does not have the file sound.jar but other release (windows and solaris) have it! somenone know why?&lt;br&gt; Thanks for the attention!","title":"How to let Java Media Framework mp3Plugin work on Ubuntu 11.04?","body":"<p>Hello i need to run my \"java mp3Player\" on ubuntu, my code uses JMF to play mp3 files! <br>Since i coded and tested in windows nothing goes wrong but now that i need my app works on ubuntu i can't install the JMF.<br> I used bentokit installer for the JMF but don't know what to do to install the mp3Plugin!<br> In other the jmf installer for linux does not have the file sound.jar but other release (windows and solaris) have it! somenone know why?<br> Thanks for the attention!</p>\n"},{"tags":["java","encoding","mp3","jmf","decoding"],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1634720531,"creation_date":1344904139,"answer_id":11944154,"question_id":11935545,"body_markdown":"The [mp3plugin.jar](https://drive.google.com/file/d/0B5B9wDXIGw9lRmpSbEUtenljd1k/view?usp=sharing&amp;resourcekey=0-miuzcGB8fsXn2EQh3sVolA) of JMF is an SPI for **decoding** MP3.  It does not provide an SPI for encoding.","title":"Java Media Framework MP3 plugin","body":"<p>The <a href=\"https://drive.google.com/file/d/0B5B9wDXIGw9lRmpSbEUtenljd1k/view?usp=sharing&amp;resourcekey=0-miuzcGB8fsXn2EQh3sVolA\" rel=\"nofollow noreferrer\">mp3plugin.jar</a> of JMF is an SPI for <strong>decoding</strong> MP3.  It does not provide an SPI for encoding.</p>\n"}],"owner":{"account_id":1523995,"reputation":391,"user_id":1422867,"accept_rate":44,"display_name":"yasserbn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1800,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1634720531,"creation_date":1344865430,"question_id":11935545,"body_markdown":"I am looking for a library that can encode/decode mp3 files. I want to write a program that can change the bit rate of mp3 files.\r\n\r\nDoes anyone know if the JMF MP3 plugin from Oracle do this job. Here is its link:\r\n[JMF MP3 plugin][1]\r\n\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/download-137625.html","title":"Java Media Framework MP3 plugin","body":"<p>I am looking for a library that can encode/decode mp3 files. I want to write a program that can change the bit rate of mp3 files.</p>\n\n<p>Does anyone know if the JMF MP3 plugin from Oracle do this job. Here is its link:\n<a href=\"http://www.oracle.com/technetwork/java/javase/download-137625.html\" rel=\"nofollow\">JMF MP3 plugin</a></p>\n"},{"tags":["java","swing","audio","applet"],"comments":[{"owner":{"account_id":40721,"reputation":357288,"user_id":118068,"display_name":"Marc B"},"score":6,"creation_date":1319061616,"post_id":7828708,"comment_id":9542847,"body_markdown":"Ooof. .au files are basically uncompressesd raw pcm (8bit/11khz, I think?) Definitely want to switch over to a lossy compressed format. They&#39;ll probably turn into 200kb mp3s or something.","body":"Ooof. .au files are basically uncompressesd raw pcm (8bit/11khz, I think?) Definitely want to switch over to a lossy compressed format. They&#39;ll probably turn into 200kb mp3s or something."}],"answers":[{"tags":[],"owner":{"account_id":271709,"reputation":8427,"user_id":562388,"accept_rate":100,"display_name":"alf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319061606,"creation_date":1319061606,"answer_id":7828741,"question_id":7828708,"body_markdown":"Check out any [download time calculator](http://www.t1shopper.com/tools/calculate/downloadcalculator.php) — it&#39;s more than a minute on a very good line. Sounds like extremely heavy.","title":"Applet size (15 megabytes) too heavy to load?","body":"<p>Check out any <a href=\"http://www.t1shopper.com/tools/calculate/downloadcalculator.php\" rel=\"nofollow\">download time calculator</a> — it's more than a minute on a very good line. Sounds like extremely heavy.</p>\n"},{"tags":[],"owner":{"account_id":944792,"reputation":1565,"user_id":972241,"accept_rate":100,"display_name":"xthexder"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1319062644,"creation_date":1319061617,"answer_id":7828746,"question_id":7828708,"body_markdown":"You could use [JLayer](http://www.javazoom.net/javalayer/javalayer.html) for using mp3&#39;s.\r\n\r\nOne option to lower your applet size is load the audio separately or stream it, that way you can at least have a loading bar/image while it&#39;s getting the music.","title":"Applet size (15 megabytes) too heavy to load?","body":"<p>You could use <a href=\"http://www.javazoom.net/javalayer/javalayer.html\" rel=\"nofollow\">JLayer</a> for using mp3's.</p>\n\n<p>One option to lower your applet size is load the audio separately or stream it, that way you can at least have a loading bar/image while it's getting the music.</p>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1634720511,"creation_date":1319062600,"answer_id":7828890,"question_id":7828708,"body_markdown":"&gt; Anybody has suggestion of how to use mp3 maybe instead ..\r\n\r\nAdd the [mp3plugin.jar](https://drive.google.com/file/d/0B5B9wDXIGw9lRmpSbEUtenljd1k/view?usp=sharing&amp;resourcekey=0-miuzcGB8fsXn2EQh3sVolA) of the JMF to the run-time class-path of the applet (in the archive element) and Java Sound will be able to open the MP3s as though they were a wav or au.\r\n\r\nThe MP3 plugin will not be able to parse some of the more modern MP3s that do non-standard things like including cover art in the MP3, but encode them using a standard MP3 format and it will handle them OK.\r\n\r\n---------------\r\n\r\n&gt; ..what did you mean to add the mp3plugin.jar to the run time class path of the applet (in the archive element)?\r\n\r\n    &lt;HTML&gt; \r\n    &lt;BODY&gt; \r\n    &lt;APPLET \r\n        archive=&quot;MyGame.jar,mp3plugin.jar&quot; \r\n        code=&quot;GUI.JPanelGameApplet&quot; \r\n        width=800 \r\n        height=580&gt;\r\n    &lt;/APPLET&gt; \r\n    &lt;/P&gt; \r\n    &lt;/BODY&gt; \r\n    &lt;/HTML&gt;\r\n\r\nNote that I also changed `Archive` to `archive` (just to keep things consistent) and \r\n\r\n    code=&quot;GUI/JPanelGameApplet.class&quot;\r\n\r\n(generally tolerated, but not correct) to \r\n\r\n    code=&quot;GUI.JPanelGameApplet&quot; \r\n\r\n(which presumes the applet is in the `GUI` package).  If the applet is **not** in the GUI package, the element should be written differently.\r\n\r\n--------------------------\r\n&gt; I&#39;ve downloaded the MP3 plugin in the exe format ..\r\n\r\nIgnore the EXE link and download the Zip! \r\n\r\n&gt; ..I installed it&quot; \r\n\r\nDon&#39;t bother to run/install the EXE (an EXE is no use to end users on Mac. or Unix/Linux). Just expand the Zip and add the Jar to the run-time class-path \r\n\r\n&gt; I&#39;ll definitely do that code changes in the HTML..\r\n\r\nThat will be &#39;problem solved&#39; (for the embedded applet).","title":"Applet size (15 megabytes) too heavy to load?","body":"<blockquote>\n<p>Anybody has suggestion of how to use mp3 maybe instead ..</p>\n</blockquote>\n<p>Add the <a href=\"https://drive.google.com/file/d/0B5B9wDXIGw9lRmpSbEUtenljd1k/view?usp=sharing&amp;resourcekey=0-miuzcGB8fsXn2EQh3sVolA\" rel=\"nofollow noreferrer\">mp3plugin.jar</a> of the JMF to the run-time class-path of the applet (in the archive element) and Java Sound will be able to open the MP3s as though they were a wav or au.</p>\n<p>The MP3 plugin will not be able to parse some of the more modern MP3s that do non-standard things like including cover art in the MP3, but encode them using a standard MP3 format and it will handle them OK.</p>\n<hr />\n<blockquote>\n<p>..what did you mean to add the mp3plugin.jar to the run time class path of the applet (in the archive element)?</p>\n</blockquote>\n<pre><code>&lt;HTML&gt; \n&lt;BODY&gt; \n&lt;APPLET \n    archive=&quot;MyGame.jar,mp3plugin.jar&quot; \n    code=&quot;GUI.JPanelGameApplet&quot; \n    width=800 \n    height=580&gt;\n&lt;/APPLET&gt; \n&lt;/P&gt; \n&lt;/BODY&gt; \n&lt;/HTML&gt;\n</code></pre>\n<p>Note that I also changed <code>Archive</code> to <code>archive</code> (just to keep things consistent) and</p>\n<pre><code>code=&quot;GUI/JPanelGameApplet.class&quot;\n</code></pre>\n<p>(generally tolerated, but not correct) to</p>\n<pre><code>code=&quot;GUI.JPanelGameApplet&quot; \n</code></pre>\n<p>(which presumes the applet is in the <code>GUI</code> package).  If the applet is <strong>not</strong> in the GUI package, the element should be written differently.</p>\n<hr />\n<blockquote>\n<p>I've downloaded the MP3 plugin in the exe format ..</p>\n</blockquote>\n<p>Ignore the EXE link and download the Zip!</p>\n<blockquote>\n<p>..I installed it&quot;</p>\n</blockquote>\n<p>Don't bother to run/install the EXE (an EXE is no use to end users on Mac. or Unix/Linux). Just expand the Zip and add the Jar to the run-time class-path</p>\n<blockquote>\n<p>I'll definitely do that code changes in the HTML..</p>\n</blockquote>\n<p>That will be 'problem solved' (for the embedded applet).</p>\n"}],"owner":{"account_id":937023,"reputation":5933,"user_id":965778,"accept_rate":70,"display_name":"JavaSa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1634720511,"creation_date":1319061435,"question_id":7828708,"body_markdown":"I would like to know whether 15 mega is quite heavy applet to load?  \r\nMy main problem are two sound files(.Au) that its weight is about 9 mega bytes.  \r\nAnybody has suggestion of how to use mp3 maybe instead or other ideas of reducing weight?  \r\nThanks\r\n\r\nRelevant code:\r\n\r\n \r\n\r\n       public class DJ \r\n        {\r\n        \r\n            private ArrayList&lt;Clip&gt; m_Records = new ArrayList&lt;Clip&gt;();\r\n            private int m_CurrentRecored = 0;\r\n            private Thread m_MusicThread = null;\r\n            private AppletContext m_AppletContext;\r\n            //java.net.URL m_CodeBase;\r\n            //AppletContext ac;\r\n        \r\n            public DJ() \r\n            {\r\n                try \r\n                {\r\n                    createClip(getClass().getResourceAsStream(&quot;/Music/train.mp3&quot;));\r\n                    createClip(getClass().getResourceAsStream(&quot;/Music/machine.mp3&quot;));\r\n                }\r\n                catch (Exception ex)\r\n                {\r\n                    Logger.getLogger(DJ.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n        \r\n            }\r\n        \r\n            private void createClip(java.io.InputStream i_SoundFileStream) throws Exception\r\n            {\r\n        \r\n                InputStream i = new AudioStream(i_SoundFileStream);\r\n        \r\n                AudioInputStream sound = AudioSystem.getAudioInputStream(i);\r\n                // load the sound into memory (a Clip)\r\n                DataLine.Info info = new DataLine.Info(Clip.class, sound.getFormat());\r\n                Clip clip = (Clip) AudioSystem.getLine(info);\r\n                clip.open(sound);\r\n                m_Records.add(clip);\r\n            }\r\n\r\n","title":"Applet size (15 megabytes) too heavy to load?","body":"<p>I would like to know whether 15 mega is quite heavy applet to load?<br>\nMy main problem are two sound files(.Au) that its weight is about 9 mega bytes.<br>\nAnybody has suggestion of how to use mp3 maybe instead or other ideas of reducing weight?<br>\nThanks</p>\n\n<p>Relevant code:</p>\n\n<pre><code>   public class DJ \n    {\n\n        private ArrayList&lt;Clip&gt; m_Records = new ArrayList&lt;Clip&gt;();\n        private int m_CurrentRecored = 0;\n        private Thread m_MusicThread = null;\n        private AppletContext m_AppletContext;\n        //java.net.URL m_CodeBase;\n        //AppletContext ac;\n\n        public DJ() \n        {\n            try \n            {\n                createClip(getClass().getResourceAsStream(\"/Music/train.mp3\"));\n                createClip(getClass().getResourceAsStream(\"/Music/machine.mp3\"));\n            }\n            catch (Exception ex)\n            {\n                Logger.getLogger(DJ.class.getName()).log(Level.SEVERE, null, ex);\n            }\n\n        }\n\n        private void createClip(java.io.InputStream i_SoundFileStream) throws Exception\n        {\n\n            InputStream i = new AudioStream(i_SoundFileStream);\n\n            AudioInputStream sound = AudioSystem.getAudioInputStream(i);\n            // load the sound into memory (a Clip)\n            DataLine.Info info = new DataLine.Info(Clip.class, sound.getFormat());\n            Clip clip = (Clip) AudioSystem.getLine(info);\n            clip.open(sound);\n            m_Records.add(clip);\n        }\n</code></pre>\n"},{"tags":["java","audio","mp3","javasound","jlayer"],"answers":[{"tags":[],"owner":{"account_id":269227,"reputation":18215,"user_id":558433,"accept_rate":72,"display_name":"Marcos Vasconcelos"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1302894590,"creation_date":1302894590,"answer_id":5681252,"question_id":5681213,"body_markdown":"You can&#39;t do that with the Default Player implementation.\r\n\r\nYou need to implement the stream classes and read data which those DataSourceLine classes.\r\nIt&#39;s a bit hard work, but it&#39;s possible. I did it 2 years ago, if I found my code I post it to you.","title":"pausing mp3 in java","body":"<p>You can't do that with the Default Player implementation.</p>\n\n<p>You need to implement the stream classes and read data which those DataSourceLine classes.\nIt's a bit hard work, but it's possible. I did it 2 years ago, if I found my code I post it to you.</p>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634720490,"creation_date":1302897274,"answer_id":5681697,"question_id":5681213,"body_markdown":"Standard Java Sound provides all the functionality stated in the question.  To add MP3 (decoding) support to Java Sound, add the &lt;a href=&quot;https://drive.google.com/file/d/0B5B9wDXIGw9lRmpSbEUtenljd1k/view?usp=sharing&amp;resourcekey=0-miuzcGB8fsXn2EQh3sVolA&quot;&gt;mp3plugin.jar&lt;/a&gt; (of the JMF) to the run-time class-path of the application.","title":"pausing mp3 in java","body":"<p>Standard Java Sound provides all the functionality stated in the question.  To add MP3 (decoding) support to Java Sound, add the <a href=\"https://drive.google.com/file/d/0B5B9wDXIGw9lRmpSbEUtenljd1k/view?usp=sharing&resourcekey=0-miuzcGB8fsXn2EQh3sVolA\" rel=\"nofollow noreferrer\">mp3plugin.jar</a> (of the JMF) to the run-time class-path of the application.</p>\n"}],"owner":{"account_id":365431,"reputation":4956,"user_id":2057091,"accept_rate":89,"display_name":"Aserre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1640,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":5681252,"answer_count":2,"score":3,"last_activity_date":1634720490,"creation_date":1302894282,"question_id":5681213,"body_markdown":"I&#39;m currently working on a project in which i need to play a background mp3 sound. I managed to do that using the Jlayer library and a piece of code found [here][1]\r\n\r\nHowever, I needed to add some more features to this code, such as loop playing and pause.  \r\nThe loop function was fairly easy to implement, but i&#39;ve spent hours looking for a way to pause and resume mp3 files.\r\n\r\nMy guess would have been to use the play(int frames) method in the Player class, using the getPosition() method and the mp3 total frame number, but i can&#39;t manage to get the total frame number.\r\n\r\nAny clue ? I just need this pause/resume method, so if you know one way different from this, feel free to post\r\n\r\ni&#39;ve also been trying some stuff with the BasicPlayer library (link [here][2]), but i always end up getting javax.sound.sampled.UnsupportedAudioFileException when trying to read any mp3 file\r\n\r\n\r\n  [1]: http://introcs.cs.princeton.edu/faq/mp3/mp3.html\r\n  [2]: http://www.javazoom.net/jlgui/sources.html","title":"pausing mp3 in java","body":"<p>I'm currently working on a project in which i need to play a background mp3 sound. I managed to do that using the Jlayer library and a piece of code found <a href=\"http://introcs.cs.princeton.edu/faq/mp3/mp3.html\" rel=\"nofollow\">here</a></p>\n\n<p>However, I needed to add some more features to this code, such as loop playing and pause.<br>\nThe loop function was fairly easy to implement, but i've spent hours looking for a way to pause and resume mp3 files.</p>\n\n<p>My guess would have been to use the play(int frames) method in the Player class, using the getPosition() method and the mp3 total frame number, but i can't manage to get the total frame number.</p>\n\n<p>Any clue ? I just need this pause/resume method, so if you know one way different from this, feel free to post</p>\n\n<p>i've also been trying some stuff with the BasicPlayer library (link <a href=\"http://www.javazoom.net/jlgui/sources.html\" rel=\"nofollow\">here</a>), but i always end up getting javax.sound.sampled.UnsupportedAudioFileException when trying to read any mp3 file</p>\n"},{"tags":["java","mp3","javasound","visualizer"],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634720454,"creation_date":1332107118,"answer_id":9762594,"question_id":9762421,"body_markdown":"&gt; However, the jdk.. \r\n\r\nIt is not the JDK that matters, but the JRE.\r\n\r\n&gt; ..can only load .wav files. ..\r\n\r\nIt can load (a subset of) the types returned by [`AudioSystem.getAudioFileTypes()`](http://docs.oracle.com/javase/7/docs/api/javax/sound/sampled/AudioSystem.html#getAudioFileTypes%28%29).  If you check the docs for [`AudioFileFormat.Type`](http://docs.oracle.com/javase/7/docs/api/javax/sound/sampled/AudioFileFormat.Type.html) in Java 7, you&#39;ll see a list of 5 types, but the ultimate check is what the JRE returns.\r\n\r\n&gt; .. So I&#39;m looking for a flexible addon that&#39;ll enable me to load .mp3.\r\n\r\nThe [`mp3plugin.jar`](https://drive.google.com/file/d/0B5B9wDXIGw9lRmpSbEUtenljd1k/view?usp=sharing&amp;resourcekey=0-miuzcGB8fsXn2EQh3sVolA) of the JMF can be added to the run-time class-path to add support for MP3 decoding to JavaSound.  \r\n\r\n&gt; Lemme know if you&#39;ve attempted music visualizers before.\r\n\r\n![Music Visualizer][1]\r\n\r\n[Yup](https://www.youtube.com/user/DrewTubeish/videos) ;)\r\n\r\n---\r\n\r\n&gt; I made this wonderful starry background and thought the stars should twinkle and glow based on the music. Do you think it&#39;s possible to detect the odd instrument that&#39;s playing? Like drums or strings? \r\n\r\nI recently broke my own player and am busy with other things, as such I&#39;m using WinAmp to play my favorite tracks and watching some of the (300+) visualizations WinAmp offers.  The reason I mention that is that my traces are of two types, &#39;oscilloscope&#39; style &amp; a &#39;Lissajous&#39; style.  Check the YouYube site linked above for examples of each.\r\n\r\nWinAmp OTOH offers a plethora of seemingly quite different styles, some of which are closely tied to the music visually, and others which are entirely unrelated (just pretty animations in their own right).  I figure the ones that have a linkage to the music (beyond representing the trace itself - like my software), are basing their graphics on the volume of the signal, which can then sometimes represent a beat.\r\n\r\nThe correct way to calculate the volume is to come up with a number in decibels (dB), but in my software I implemented a simpler algorithm to detect the RMS of each channel.  You can see those volume bars in a Rasputina Track.\r\n\r\n![Visualization with RMS levels][2]\r\n\r\nThey are not especially clear in (the lower left/right of) that image, but watch [the video](https://www.youtube.com/watch?v=TIHwTMKj9PU&amp;feature=plcp&amp;context=C4e1091eVDvjVQa1PpcFNcyNNUmyAUN0WoThOVaCR7bPczt1XQMnc=) &amp; I think you&#39;ll find they are easier to see &amp; offer a good basis for the &#39;pulsating stars&#39; type of effect you are after (a number to multiply a basic brightness by).  To get stars to twinkle differently according to frequency (e.g. bass - low, violins - high) you&#39;d need to look to something like spectrum analysis - a Fast Fourier Transform is one way to do that.\r\n\r\n  [1]: http://i.stack.imgur.com/ZYuI6.jpg\r\n  [2]: http://i.stack.imgur.com/c3eHt.jpg","title":"Best addon for reading data from .mp3 with JDK 1.6","body":"<blockquote>\n<p>However, the jdk..</p>\n</blockquote>\n<p>It is not the JDK that matters, but the JRE.</p>\n<blockquote>\n<p>..can only load .wav files. ..</p>\n</blockquote>\n<p>It can load (a subset of) the types returned by <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/sound/sampled/AudioSystem.html#getAudioFileTypes%28%29\" rel=\"nofollow noreferrer\"><code>AudioSystem.getAudioFileTypes()</code></a>.  If you check the docs for <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/sound/sampled/AudioFileFormat.Type.html\" rel=\"nofollow noreferrer\"><code>AudioFileFormat.Type</code></a> in Java 7, you'll see a list of 5 types, but the ultimate check is what the JRE returns.</p>\n<blockquote>\n<p>.. So I'm looking for a flexible addon that'll enable me to load .mp3.</p>\n</blockquote>\n<p>The <a href=\"https://drive.google.com/file/d/0B5B9wDXIGw9lRmpSbEUtenljd1k/view?usp=sharing&amp;resourcekey=0-miuzcGB8fsXn2EQh3sVolA\" rel=\"nofollow noreferrer\"><code>mp3plugin.jar</code></a> of the JMF can be added to the run-time class-path to add support for MP3 decoding to JavaSound.</p>\n<blockquote>\n<p>Lemme know if you've attempted music visualizers before.</p>\n</blockquote>\n<p><img src=\"https://i.stack.imgur.com/ZYuI6.jpg\" alt=\"Music Visualizer\" /></p>\n<p><a href=\"https://www.youtube.com/user/DrewTubeish/videos\" rel=\"nofollow noreferrer\">Yup</a> ;)</p>\n<hr />\n<blockquote>\n<p>I made this wonderful starry background and thought the stars should twinkle and glow based on the music. Do you think it's possible to detect the odd instrument that's playing? Like drums or strings?</p>\n</blockquote>\n<p>I recently broke my own player and am busy with other things, as such I'm using WinAmp to play my favorite tracks and watching some of the (300+) visualizations WinAmp offers.  The reason I mention that is that my traces are of two types, 'oscilloscope' style &amp; a 'Lissajous' style.  Check the YouYube site linked above for examples of each.</p>\n<p>WinAmp OTOH offers a plethora of seemingly quite different styles, some of which are closely tied to the music visually, and others which are entirely unrelated (just pretty animations in their own right).  I figure the ones that have a linkage to the music (beyond representing the trace itself - like my software), are basing their graphics on the volume of the signal, which can then sometimes represent a beat.</p>\n<p>The correct way to calculate the volume is to come up with a number in decibels (dB), but in my software I implemented a simpler algorithm to detect the RMS of each channel.  You can see those volume bars in a Rasputina Track.</p>\n<p><img src=\"https://i.stack.imgur.com/c3eHt.jpg\" alt=\"Visualization with RMS levels\" /></p>\n<p>They are not especially clear in (the lower left/right of) that image, but watch <a href=\"https://www.youtube.com/watch?v=TIHwTMKj9PU&amp;feature=plcp&amp;context=C4e1091eVDvjVQa1PpcFNcyNNUmyAUN0WoThOVaCR7bPczt1XQMnc=\" rel=\"nofollow noreferrer\">the video</a> &amp; I think you'll find they are easier to see &amp; offer a good basis for the 'pulsating stars' type of effect you are after (a number to multiply a basic brightness by).  To get stars to twinkle differently according to frequency (e.g. bass - low, violins - high) you'd need to look to something like spectrum analysis - a Fast Fourier Transform is one way to do that.</p>\n"},{"tags":[],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1332114743,"creation_date":1332114743,"answer_id":9763397,"question_id":9762421,"body_markdown":"Javazoom has a library for mp3 format.\r\n\r\nhttp://www.javazoom.net/javalayer/javalayer.html\r\n\r\nI&#39;ve not used it myself. But I know others have done so successfully.\r\n\r\nTools for extracting instruments from a mix HAS become a reality, but I don&#39;t know if they have been realized in Java. I&#39;m guessing it is possible but only with considerable effort and limited success at this point. One must contend with aspects of Java that make this sort of thing trickier than they might be in a &quot;C&quot; family language (lack of real-time guarantees: variance in garbage collection timing, thread switching).","title":"Best addon for reading data from .mp3 with JDK 1.6","body":"<p>Javazoom has a library for mp3 format.</p>\n\n<p><a href=\"http://www.javazoom.net/javalayer/javalayer.html\" rel=\"nofollow\">http://www.javazoom.net/javalayer/javalayer.html</a></p>\n\n<p>I've not used it myself. But I know others have done so successfully.</p>\n\n<p>Tools for extracting instruments from a mix HAS become a reality, but I don't know if they have been realized in Java. I'm guessing it is possible but only with considerable effort and limited success at this point. One must contend with aspects of Java that make this sort of thing trickier than they might be in a \"C\" family language (lack of real-time guarantees: variance in garbage collection timing, thread switching).</p>\n"}],"owner":{"account_id":1333437,"reputation":883,"user_id":1276759,"accept_rate":79,"display_name":"Perry Monschau"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":918,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"closed_date":1546083221,"accepted_answer_id":9762594,"answer_count":2,"score":3,"last_activity_date":1634720454,"creation_date":1332105911,"question_id":9762421,"body_markdown":"I&#39;m attempting to write a music visualizer. I&#39;ve looked into it and sound.sampled looks like a good library for reading the data. However, the jdk can only load .wav files. So I&#39;m looking for a flexible addon that&#39;ll enable me to load .mp3.\r\n\r\nThe classes I&#39;ll be using are here: \r\nhttp://uk.answers.yahoo.com/question/index?qid=20100125081723AAdnYzf\r\n\r\nP.S. Lemme know if you&#39;ve attempted music visualizers before.","title":"Best addon for reading data from .mp3 with JDK 1.6","body":"<p>I'm attempting to write a music visualizer. I've looked into it and sound.sampled looks like a good library for reading the data. However, the jdk can only load .wav files. So I'm looking for a flexible addon that'll enable me to load .mp3.</p>\n\n<p>The classes I'll be using are here: \n<a href=\"http://uk.answers.yahoo.com/question/index?qid=20100125081723AAdnYzf\" rel=\"nofollow\">http://uk.answers.yahoo.com/question/index?qid=20100125081723AAdnYzf</a></p>\n\n<p>P.S. Lemme know if you've attempted music visualizers before.</p>\n"},{"tags":["java","mp3"],"comments":[{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":1,"creation_date":1301245781,"post_id":5448511,"comment_id":6175752,"body_markdown":"This code works: http://stackoverflow.com/questions/3125934/lineunavailableexception-for-playing-mp3-with-java/3126243#3126243","body":"This code works: <a href=\"http://stackoverflow.com/questions/3125934/lineunavailableexception-for-playing-mp3-with-java/3126243#3126243\" title=\"lineunavailableexception for playing mp3 with java\">stackoverflow.com/questions/3125934/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634720381,"creation_date":1301222271,"answer_id":5448696,"question_id":5448511,"body_markdown":"If you can figure how to play a sound file using Java Sound (avoid Clip(1)), then it is possible to play MP3 files by adding the JMF based &lt;a href=&quot;https://drive.google.com/file/d/0B5B9wDXIGw9lRmpSbEUtenljd1k/view?usp=sharing&amp;resourcekey=0-miuzcGB8fsXn2EQh3sVolA&quot;&gt;mp3plugin.jar&lt;/a&gt; to the run-time class-path of the application.\r\n\r\n 1. Clip is fine for small sound samples, but is has a limit of just 2 seconds of 16 bit stereo, 44.1 KHz sound, on most Sun JREs.","title":"How to play mp3 with FMJ?","body":"<p>If you can figure how to play a sound file using Java Sound (avoid Clip(1)), then it is possible to play MP3 files by adding the JMF based <a href=\"https://drive.google.com/file/d/0B5B9wDXIGw9lRmpSbEUtenljd1k/view?usp=sharing&resourcekey=0-miuzcGB8fsXn2EQh3sVolA\" rel=\"nofollow noreferrer\">mp3plugin.jar</a> to the run-time class-path of the application.</p>\n<ol>\n<li>Clip is fine for small sound samples, but is has a limit of just 2 seconds of 16 bit stereo, 44.1 KHz sound, on most Sun JREs.</li>\n</ol>\n"}],"owner":{"account_id":730557,"reputation":11,"user_id":678796,"display_name":"SamySam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":810,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634720381,"creation_date":1301220262,"question_id":5448511,"body_markdown":"I read in the API, but still not found out how to play a mp3. \r\nI have not found any tutorials...\r\n\r\nCan someone tell me how to use FMJ ? Or give me some tutorial links?\r\n\r\nThank you","title":"How to play mp3 with FMJ?","body":"<p>I read in the API, but still not found out how to play a mp3. \nI have not found any tutorials...</p>\n\n<p>Can someone tell me how to use FMJ ? Or give me some tutorial links?</p>\n\n<p>Thank you</p>\n"},{"tags":["java","mp3","javasound"],"comments":[{"owner":{"account_id":417300,"reputation":218,"user_id":793215,"display_name":"Collecter"},"score":0,"creation_date":1311952193,"post_id":6875186,"comment_id":8180299,"body_markdown":"Did you actually add it to the build path? I know you need to in eclipse, and I imagine netbeans would be the same way.","body":"Did you actually add it to the build path? I know you need to in eclipse, and I imagine netbeans would be the same way."},{"owner":{"account_id":387064,"reputation":2640,"user_id":745191,"accept_rate":65,"display_name":"program-o-steve"},"score":0,"creation_date":1311952309,"post_id":6875186,"comment_id":8180330,"body_markdown":"@ Collecter I have just included the jar file in my project library .","body":"@ Collecter I have just included the jar file in my project library ."}],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634720352,"creation_date":1311953195,"answer_id":6875417,"question_id":6875186,"body_markdown":"It is not necessary to import a Service Provider Interface at compile time.  Simply add it to the run-time class-path and it will be able to play mp3&#39;s as well as its (default) wave/pcm/midi files.\r\n\r\nI use the [`mp3plugin.jar`](https://drive.google.com/file/d/0B5B9wDXIGw9lRmpSbEUtenljd1k/view?usp=sharing&amp;resourcekey=0-miuzcGB8fsXn2EQh3sVolA) this way for DukeBox, a little player for M3U style playlists, and it works just fine.  Note that it will add the ability to read MP3 format using JavaSound (`javax.sound.sampled`).  If you intend playing the MP3 using the JMF player (which is unnecessary, and I do not recommend), you&#39;ll need to add the main JMF jar at both compile &amp; run-time.\r\n\r\n----------------\r\nHere is an example &lt;a href=&quot;http://www.jsresources.org/examples/SimpleAudioPlayer.java.html&quot;&gt;code for playing sounds&lt;/a&gt; using JavaSound.  Don&#39;t be put off by the length of the code, most of that is comments and explanation.\r\n\r\nIt will compile without importing *any* of JMF.  If the `mp3plugin.jar` is on the *run-time* class-path, it should be capable of playing MP3s.\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/download-137625.html","title":"unable to import javax.media.*; (package does not exist) Why does it say so?","body":"<p>It is not necessary to import a Service Provider Interface at compile time.  Simply add it to the run-time class-path and it will be able to play mp3's as well as its (default) wave/pcm/midi files.</p>\n<p>I use the <a href=\"https://drive.google.com/file/d/0B5B9wDXIGw9lRmpSbEUtenljd1k/view?usp=sharing&amp;resourcekey=0-miuzcGB8fsXn2EQh3sVolA\" rel=\"nofollow noreferrer\"><code>mp3plugin.jar</code></a> this way for DukeBox, a little player for M3U style playlists, and it works just fine.  Note that it will add the ability to read MP3 format using JavaSound (<code>javax.sound.sampled</code>).  If you intend playing the MP3 using the JMF player (which is unnecessary, and I do not recommend), you'll need to add the main JMF jar at both compile &amp; run-time.</p>\n<hr />\n<p>Here is an example <a href=\"http://www.jsresources.org/examples/SimpleAudioPlayer.java.html\" rel=\"nofollow noreferrer\">code for playing sounds</a> using JavaSound.  Don't be put off by the length of the code, most of that is comments and explanation.</p>\n<p>It will compile without importing <em>any</em> of JMF.  If the <code>mp3plugin.jar</code> is on the <em>run-time</em> class-path, it should be capable of playing MP3s.</p>\n"},{"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1332264331,"creation_date":1332263762,"answer_id":9791696,"question_id":6875186,"body_markdown":"appears that it&#39;s not distributed by default with the JDK (at least 1.6 JDK).   javax.sound.sampled is though I guess.  Also see the other answer, but note that apparently using javax.sound for mp3&#39;s isn&#39;t always compatible with all mp3&#39;s see  https://stackoverflow.com/a/7040010/32453","title":"unable to import javax.media.*; (package does not exist) Why does it say so?","body":"<p>appears that it's not distributed by default with the JDK (at least 1.6 JDK).   javax.sound.sampled is though I guess.  Also see the other answer, but note that apparently using javax.sound for mp3's isn't always compatible with all mp3's see  <a href=\"https://stackoverflow.com/a/7040010/32453\">https://stackoverflow.com/a/7040010/32453</a></p>\n"}],"owner":{"account_id":387064,"reputation":2640,"user_id":745191,"accept_rate":65,"display_name":"program-o-steve"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13568,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":6875417,"answer_count":2,"score":0,"last_activity_date":1634720352,"creation_date":1311952101,"question_id":6875186,"body_markdown":"I have downloaded [JMF MP3 PLUGIN ][1] to play mp3 files. After downloading i place `mp3plugin.jar` into the project library of netbeans.\r\n\r\nThen i start the code with the line :\r\n `import javax.media.*; `\r\n\r\nBut there is an error corresponding to this statement which says package `javax.media` does not exist. Why do i get this error ? I have tried searching about it but haven&#39;t found the solution. Please help me in this.\r\nI have also placed `C:\\Program Files\\Java\\jdk1.7.0\\jre\\lib\\ext\\mp3plugin.jar` in the classpath variable.  \r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/download-137625.html","title":"unable to import javax.media.*; (package does not exist) Why does it say so?","body":"<p>I have downloaded <a href=\"http://www.oracle.com/technetwork/java/javase/download-137625.html\" rel=\"nofollow\">JMF MP3 PLUGIN </a> to play mp3 files. After downloading i place <code>mp3plugin.jar</code> into the project library of netbeans.</p>\n\n<p>Then i start the code with the line :\n <code>import javax.media.*;</code></p>\n\n<p>But there is an error corresponding to this statement which says package <code>javax.media</code> does not exist. Why do i get this error ? I have tried searching about it but haven't found the solution. Please help me in this.\nI have also placed <code>C:\\Program Files\\Java\\jdk1.7.0\\jre\\lib\\ext\\mp3plugin.jar</code> in the classpath variable.  </p>\n"},{"tags":["java","mp3","media-queries","javasound","pcm"],"comments":[{"owner":{"account_id":1336768,"reputation":4924,"user_id":1279334,"accept_rate":59,"display_name":"MikkoP"},"score":2,"creation_date":1347716292,"post_id":12437804,"comment_id":16723724,"body_markdown":"Tell us what you&#39;ve tried, what is the problem and what is the question.","body":"Tell us what you&#39;ve tried, what is the problem and what is the question."},{"owner":{"account_id":67082,"reputation":12759,"user_id":196480,"accept_rate":81,"display_name":"Tushar Ahirrao"},"score":0,"creation_date":1347716367,"post_id":12437804,"comment_id":16723739,"body_markdown":"@MikkoP I am searching for any Java library/API which will convert mp3 to PCM...","body":"@MikkoP I am searching for any Java library/API which will convert mp3 to PCM..."},{"owner":{"account_id":1777092,"reputation":68282,"user_id":1620671,"accept_rate":87,"display_name":"Philipp"},"score":0,"creation_date":1347716975,"post_id":12437804,"comment_id":16723860,"body_markdown":"This question where the OP tries the exact opposite might be interesting (as soon as there is a solution): http://stackoverflow.com/questions/12424659/flex-java-byte-to-mp3/12424832#12424832","body":"This question where the OP tries the exact opposite might be interesting (as soon as there is a solution): <a href=\"http://stackoverflow.com/questions/12424659/flex-java-byte-to-mp3/12424832#12424832\" title=\"flex java byte to mp3\">stackoverflow.com/questions/12424659/flex-java-byte-to-mp3/&hellip;</a>"},{"owner":{"account_id":1015060,"reputation":11794,"user_id":1026805,"accept_rate":86,"display_name":"Sri Harsha Chilakapati"},"score":0,"creation_date":1347717491,"post_id":12437804,"comment_id":16723959,"body_markdown":"Try this http://java2everyone.blogspot.in/2011/01/create-java-mp3-to-wav-converter.html","body":"Try this <a href=\"http://java2everyone.blogspot.in/2011/01/create-java-mp3-to-wav-converter.html\" rel=\"nofollow noreferrer\">java2everyone.blogspot.in/2011/01/&hellip;</a>"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1347749648,"post_id":12437804,"comment_id":16730845,"body_markdown":"@Philipp There has been a J2SE+JMF solution to this specific requirement since Java 1.3.","body":"@Philipp There has been a J2SE+JMF solution to this specific requirement since Java 1.3."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1347749781,"post_id":12437804,"comment_id":16730868,"body_markdown":"@Sri Maybe you should add JavaZoom as an answer.","body":"@Sri Maybe you should add JavaZoom as an answer."}],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1634720273,"creation_date":1347747164,"answer_id":12442889,"question_id":12437804,"body_markdown":"- Get the [`mp3plugin.jar`](https://drive.google.com/file/d/0B5B9wDXIGw9lRmpSbEUtenljd1k/view?usp=sharing&amp;resourcekey=0-miuzcGB8fsXn2EQh3sVolA) of the JMF.\r\n- Add it to the run-time class-path of the app. to provide a decoder SPI for MP3.\r\n- Get an [`AudioInputStream`](http://docs.oracle.com/javase/8/docs/api/javax/sound/sampled/AudioInputStream.html) for the MP3 from the [`AudioSystem`](http://docs.oracle.com/javase/8/docs/api/javax/sound/sampled/AudioSystem.html) of Java Sound.\r\n- Convert it to PCM using [`getAudioInputStream(AudioFormat,AudioInputStream)`](http://docs.oracle.com/javase/8/docs/api/javax/sound/sampled/AudioSystem.html#getAudioInputStream-javax.sound.sampled.AudioFormat-javax.sound.sampled.AudioInputStream-).","title":"Convert MP3 to PCM in Java","body":"<ul>\n<li>Get the <a href=\"https://drive.google.com/file/d/0B5B9wDXIGw9lRmpSbEUtenljd1k/view?usp=sharing&amp;resourcekey=0-miuzcGB8fsXn2EQh3sVolA\" rel=\"nofollow noreferrer\"><code>mp3plugin.jar</code></a> of the JMF.</li>\n<li>Add it to the run-time class-path of the app. to provide a decoder SPI for MP3.</li>\n<li>Get an <a href=\"http://docs.oracle.com/javase/8/docs/api/javax/sound/sampled/AudioInputStream.html\" rel=\"nofollow noreferrer\"><code>AudioInputStream</code></a> for the MP3 from the <a href=\"http://docs.oracle.com/javase/8/docs/api/javax/sound/sampled/AudioSystem.html\" rel=\"nofollow noreferrer\"><code>AudioSystem</code></a> of Java Sound.</li>\n<li>Convert it to PCM using <a href=\"http://docs.oracle.com/javase/8/docs/api/javax/sound/sampled/AudioSystem.html#getAudioInputStream-javax.sound.sampled.AudioFormat-javax.sound.sampled.AudioInputStream-\" rel=\"nofollow noreferrer\"><code>getAudioInputStream(AudioFormat,AudioInputStream)</code></a>.</li>\n</ul>\n"}],"owner":{"account_id":67082,"reputation":12759,"user_id":196480,"accept_rate":81,"display_name":"Tushar Ahirrao"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8615,"favorite_count":0,"down_vote_count":6,"up_vote_count":7,"accepted_answer_id":12442889,"answer_count":1,"score":1,"last_activity_date":1634720273,"creation_date":1347716033,"question_id":12437804,"body_markdown":"I want to convert MP3 file to PCM in Java. \r\n\r\nHow to do that?","title":"Convert MP3 to PCM in Java","body":"<p>I want to convert MP3 file to PCM in Java. </p>\n\n<p>How to do that?</p>\n"},{"tags":["java","url","audio","mp3","javasound"],"comments":[{"owner":{"account_id":1439522,"reputation":9489,"user_id":1360074,"accept_rate":85,"display_name":"Nikolay Kuznetsov"},"score":1,"creation_date":1355069245,"post_id":13789063,"comment_id":18963176,"body_markdown":"How it does not work? Exception or nothing happens? The constructor you use does not seem right.","body":"How it does not work? Exception or nothing happens? The constructor you use does not seem right."},{"owner":{"account_id":1421913,"reputation":11238,"user_id":1346369,"accept_rate":57,"display_name":"vels4j"},"score":1,"creation_date":1355069835,"post_id":13789063,"comment_id":18963346,"body_markdown":"How did you expect that url returns a sound file ?","body":"How did you expect that url returns a sound file ?"},{"owner":{"account_id":916011,"reputation":1878,"user_id":951467,"accept_rate":75,"display_name":"Marek"},"score":3,"creation_date":1355069944,"post_id":13789063,"comment_id":18963378,"body_markdown":"Actually, real URL is: http://www.howjsay.com/mp3/car.mp3","body":"Actually, real URL is: <a href=\"http://www.howjsay.com/mp3/car.mp3\" rel=\"nofollow noreferrer\">howjsay.com/mp3/car.mp3</a>"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1355071138,"post_id":13789063,"comment_id":18963675,"body_markdown":"`AudioStream`, `AudioPlayer`?  Not in J2SE 7 docs.  Is this for Android?","body":"<code>AudioStream</code>, <code>AudioPlayer</code>?  Not in J2SE 7 docs.  Is this for Android?"},{"owner":{"account_id":1439522,"reputation":9489,"user_id":1360074,"accept_rate":85,"display_name":"Nikolay Kuznetsov"},"score":0,"creation_date":1355071688,"post_id":13789063,"comment_id":18963798,"body_markdown":"@AndrewThompson, it is sun.audio . Is this outdated/deprecated?","body":"@AndrewThompson, it is sun.audio . Is this outdated/deprecated?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1355104466,"post_id":13789063,"comment_id":18971936,"body_markdown":"@NikolayKuznetsov  The compiler itself warns us not to use them.  Since 1.3 we have Java Sound (see my answer &amp; links).","body":"@NikolayKuznetsov  The compiler itself warns us not to use them.  Since 1.3 we have Java Sound (see my answer &amp; links)."}],"answers":[{"tags":[],"owner":{"account_id":1439522,"reputation":9489,"user_id":1360074,"accept_rate":85,"display_name":"Nikolay Kuznetsov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1355070661,"creation_date":1355070661,"answer_id":13789293,"question_id":13789063,"body_markdown":"If you don&#39;t care much about the site then you try to use Google Translate API\r\n\r\n    try{\r\n            String word=&quot;car&quot;;\r\n            word=java.net.URLEncoder.encode(word, &quot;UTF-8&quot;);\r\n            URL url = new URL(&quot;http://translate.google.com/translate_tts?ie=UTF-8&amp;tl=ja&amp;q=&quot;+word);\r\n            HttpURLConnection urlConn = (HttpURLConnection) url.openConnection();\r\n            urlConn.addRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/4.76&quot;);\r\n            InputStream audioSrc = urlConn.getInputStream();\r\n            DataInputStream read = new DataInputStream(audioSrc);\r\n            AudioStream as = new AudioStream(read);\r\n            AudioPlayer.player.start(as);\r\n            AudioPlayer.player.stop(as);\r\n    }\r\n\r\nWith help from here:\r\nhttps://stackoverflow.com/questions/13339421/java-download-text-to-speech-from-google-translate\r\n\r\nIf for every `word` the site guarantees to have mp3 file with link `howjsay.com/mp3/word.mp3` then you just need to change URL to\r\n\r\n`URL url = new URL(&quot;howjsay.com/mp3/&quot; + word + &quot;.mp3&quot;);`","title":"Get sound from a URL with Java","body":"<p>If you don't care much about the site then you try to use Google Translate API</p>\n\n<pre><code>try{\n        String word=\"car\";\n        word=java.net.URLEncoder.encode(word, \"UTF-8\");\n        URL url = new URL(\"http://translate.google.com/translate_tts?ie=UTF-8&amp;tl=ja&amp;q=\"+word);\n        HttpURLConnection urlConn = (HttpURLConnection) url.openConnection();\n        urlConn.addRequestProperty(\"User-Agent\", \"Mozilla/4.76\");\n        InputStream audioSrc = urlConn.getInputStream();\n        DataInputStream read = new DataInputStream(audioSrc);\n        AudioStream as = new AudioStream(read);\n        AudioPlayer.player.start(as);\n        AudioPlayer.player.stop(as);\n}\n</code></pre>\n\n<p>With help from here:\n<a href=\"https://stackoverflow.com/questions/13339421/java-download-text-to-speech-from-google-translate\">Java: download Text to Speech from Google Translate</a></p>\n\n<p>If for every <code>word</code> the site guarantees to have mp3 file with link <code>howjsay.com/mp3/word.mp3</code> then you just need to change URL to</p>\n\n<p><code>URL url = new URL(\"howjsay.com/mp3/\" + word + \".mp3\");</code></p>\n"},{"tags":[],"owner":{"account_id":916011,"reputation":1878,"user_id":951467,"accept_rate":75,"display_name":"Marek"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1355072315,"creation_date":1355072315,"answer_id":13789526,"question_id":13789063,"body_markdown":"Here you go \r\n\r\n    import javax.sound.sampled.*;\r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n    \r\n    public class HowJSay\r\n    {\r\n    public static void main(String[] args) {\r\n        AudioInputStream din = null;\r\n        try {\r\n            AudioInputStream in = AudioSystem.getAudioInputStream(new URL(&quot;http://www.howjsay.com/mp3/&quot;+ args[0] +&quot;.mp3&quot;));\r\n            AudioFormat baseFormat = in.getFormat();\r\n            AudioFormat decodedFormat = new AudioFormat(\r\n                    AudioFormat.Encoding.PCM_SIGNED,\r\n                    baseFormat.getSampleRate(), 16, baseFormat.getChannels(),\r\n                    baseFormat.getChannels() * 2, baseFormat.getSampleRate(),\r\n                    false);\r\n            din = AudioSystem.getAudioInputStream(decodedFormat, in);\r\n            DataLine.Info info = new DataLine.Info(SourceDataLine.class, decodedFormat);\r\n            SourceDataLine line = (SourceDataLine) AudioSystem.getLine(info);\r\n            if(line != null) {\r\n                line.open(decodedFormat);\r\n                byte[] data = new byte[4096];\r\n                // Start\r\n                line.start();\r\n\r\n                int nBytesRead;\r\n                while ((nBytesRead = din.read(data, 0, data.length)) != -1) {\r\n                    line.write(data, 0, nBytesRead);\r\n                }\r\n                // Stop\r\n                line.drain();\r\n                line.stop();\r\n                line.close();\r\n                din.close();\r\n            }\r\n\r\n        }\r\n        catch(Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        finally {\r\n            if(din != null) {\r\n                try { din.close(); } catch(IOException e) { }\r\n            }\r\n        }\r\n    }\r\n\r\n    }\r\n","title":"Get sound from a URL with Java","body":"<p>Here you go </p>\n\n<pre><code>import javax.sound.sampled.*;\nimport java.io.IOException;\nimport java.net.URL;\n\npublic class HowJSay\n{\npublic static void main(String[] args) {\n    AudioInputStream din = null;\n    try {\n        AudioInputStream in = AudioSystem.getAudioInputStream(new URL(\"http://www.howjsay.com/mp3/\"+ args[0] +\".mp3\"));\n        AudioFormat baseFormat = in.getFormat();\n        AudioFormat decodedFormat = new AudioFormat(\n                AudioFormat.Encoding.PCM_SIGNED,\n                baseFormat.getSampleRate(), 16, baseFormat.getChannels(),\n                baseFormat.getChannels() * 2, baseFormat.getSampleRate(),\n                false);\n        din = AudioSystem.getAudioInputStream(decodedFormat, in);\n        DataLine.Info info = new DataLine.Info(SourceDataLine.class, decodedFormat);\n        SourceDataLine line = (SourceDataLine) AudioSystem.getLine(info);\n        if(line != null) {\n            line.open(decodedFormat);\n            byte[] data = new byte[4096];\n            // Start\n            line.start();\n\n            int nBytesRead;\n            while ((nBytesRead = din.read(data, 0, data.length)) != -1) {\n                line.write(data, 0, nBytesRead);\n            }\n            // Stop\n            line.drain();\n            line.stop();\n            line.close();\n            din.close();\n        }\n\n    }\n    catch(Exception e) {\n        e.printStackTrace();\n    }\n    finally {\n        if(din != null) {\n            try { din.close(); } catch(IOException e) { }\n        }\n    }\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634720223,"creation_date":1355104389,"answer_id":13793955,"question_id":13789063,"body_markdown":"[Java Sound](https://stackoverflow.com/tags/javasound/info) can play short clips easily, but supports a limited number of formats out of the box.  The formats it supports by default are given by [`AudioSystem.getAudioFileTypes()`](http://docs.oracle.com/javase/7/docs/api/javax/sound/sampled/AudioSystem.html#getAudioFileTypes%28%29) &amp; that list will not include MP3.\r\n\r\nThe solution to the lack of support for MP3 is to add a decoder to the run-time class-path of the app.  Since Java Sound works on a Service Provider Interface, it only needs to be on the class-path to be useful.  An MP3 decoder can be found in [`mp3plugin.jar`](https://drive.google.com/file/d/0B5B9wDXIGw9lRmpSbEUtenljd1k/view?usp=sharing&amp;resourcekey=0-miuzcGB8fsXn2EQh3sVolA).\r\n\r\nAs to the code for playing the MP3, the short source on the info. page should suffice so long as the clips are short.  Viz.\r\n\r\n    import java.net.URL;\r\n    import javax.swing.*;\r\n    import javax.sound.sampled.*;\r\n    \r\n    public class LoopSound {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            URL url = new URL(\r\n                &quot;http://pscode.org/media/leftright.wav&quot;);\r\n            Clip clip = AudioSystem.getClip();\r\n            // getAudioInputStream() also accepts a File or InputStream\r\n            AudioInputStream ais = AudioSystem.\r\n                getAudioInputStream( url );\r\n            clip.open(ais);\r\n            clip.loop(Clip.LOOP_CONTINUOUSLY);\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    // A GUI element to prevent the Clip&#39;s daemon Thread\r\n                    // from terminating at the end of the main()\r\n                    JOptionPane.showMessageDialog(null, &quot;Close to exit!&quot;);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n","title":"Get sound from a URL with Java","body":"<p><a href=\"https://stackoverflow.com/tags/javasound/info\">Java Sound</a> can play short clips easily, but supports a limited number of formats out of the box.  The formats it supports by default are given by <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/sound/sampled/AudioSystem.html#getAudioFileTypes%28%29\" rel=\"nofollow noreferrer\"><code>AudioSystem.getAudioFileTypes()</code></a> &amp; that list will not include MP3.</p>\n<p>The solution to the lack of support for MP3 is to add a decoder to the run-time class-path of the app.  Since Java Sound works on a Service Provider Interface, it only needs to be on the class-path to be useful.  An MP3 decoder can be found in <a href=\"https://drive.google.com/file/d/0B5B9wDXIGw9lRmpSbEUtenljd1k/view?usp=sharing&amp;resourcekey=0-miuzcGB8fsXn2EQh3sVolA\" rel=\"nofollow noreferrer\"><code>mp3plugin.jar</code></a>.</p>\n<p>As to the code for playing the MP3, the short source on the info. page should suffice so long as the clips are short.  Viz.</p>\n<pre><code>import java.net.URL;\nimport javax.swing.*;\nimport javax.sound.sampled.*;\n\npublic class LoopSound {\n\n    public static void main(String[] args) throws Exception {\n        URL url = new URL(\n            &quot;http://pscode.org/media/leftright.wav&quot;);\n        Clip clip = AudioSystem.getClip();\n        // getAudioInputStream() also accepts a File or InputStream\n        AudioInputStream ais = AudioSystem.\n            getAudioInputStream( url );\n        clip.open(ais);\n        clip.loop(Clip.LOOP_CONTINUOUSLY);\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                // A GUI element to prevent the Clip's daemon Thread\n                // from terminating at the end of the main()\n                JOptionPane.showMessageDialog(null, &quot;Close to exit!&quot;);\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12468623,"reputation":1,"user_id":9077596,"display_name":"Xaethriux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512849549,"creation_date":1512849549,"answer_id":47732600,"question_id":13789063,"body_markdown":"If you&#39;re having issues with the code provided by Marek, make sure you&#39;re meeting this criteria:\r\n\r\n 1. Use a supported audio format, such as 16 bit .wav\r\n 2. Make sure that the URL you&#39;re using is actually playing audio automatically. \r\n\r\nIt isn&#39;t sufficient to simply reference the download page for an audio file. It has to be streaming the audio. YouTube URLs won&#39;t work, as they&#39;re videos. Audacity is a good approach to converting your audio file to a compatible 16 bit .wav file, and if you have your own domain / website, you can provide a direct link to the file from there.\r\n\r\n ","title":"Get sound from a URL with Java","body":"<p>If you're having issues with the code provided by Marek, make sure you're meeting this criteria:</p>\n\n<ol>\n<li>Use a supported audio format, such as 16 bit .wav</li>\n<li>Make sure that the URL you're using is actually playing audio automatically. </li>\n</ol>\n\n<p>It isn't sufficient to simply reference the download page for an audio file. It has to be streaming the audio. YouTube URLs won't work, as they're videos. Audacity is a good approach to converting your audio file to a compatible 16 bit .wav file, and if you have your own domain / website, you can provide a direct link to the file from there.</p>\n"}],"owner":{"account_id":1784182,"reputation":139,"user_id":1626057,"accept_rate":0,"display_name":"javando"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19302,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1634720223,"creation_date":1355068916,"question_id":13789063,"body_markdown":"I&#39;m learning english and I&#39;d like to develop a software to help me with the pronunciation.\r\n\r\nThere is a site called HowJSay, if you enter here: http://www.howjsay.com/index.php?word=car\r\nimmediatly you&#39;ll hear the pronunciation of the word car . I&#39;d like to develop a software in JAVA that could play this sound without necessity of enter in the site =]\r\n\r\nI tried this, but doesn&#39;t work =/\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\t\tURL url = new URL(&quot;http://www.howjsay.com/index.php?word=car&quot;);\r\n\t\turl.openConnection();\r\n\t\tAudioStream as = new AudioStream(url.openStream());\r\n\t\tAudioPlayer.player.start(as);\r\n\t\tAudioPlayer.player.stop(as);\r\n\t}\r\n\r\n Any Ideas? Please.","title":"Get sound from a URL with Java","body":"<p>I'm learning english and I'd like to develop a software to help me with the pronunciation.</p>\n\n<p>There is a site called HowJSay, if you enter here: <a href=\"http://www.howjsay.com/index.php?word=car\" rel=\"nofollow\">http://www.howjsay.com/index.php?word=car</a>\nimmediatly you'll hear the pronunciation of the word car . I'd like to develop a software in JAVA that could play this sound without necessity of enter in the site =]</p>\n\n<p>I tried this, but doesn't work =/</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    URL url = new URL(\"http://www.howjsay.com/index.php?word=car\");\n    url.openConnection();\n    AudioStream as = new AudioStream(url.openStream());\n    AudioPlayer.player.start(as);\n    AudioPlayer.player.stop(as);\n}\n</code></pre>\n\n<p>Any Ideas? Please.</p>\n"},{"tags":["java","spring","spring-boot","tomcat"],"answers":[{"tags":[],"owner":{"account_id":21317699,"reputation":49,"user_id":17046414,"display_name":"me at stackexchange"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634716510,"creation_date":1634716510,"answer_id":69642277,"question_id":69639841,"body_markdown":"I think your question is about sharing the data of one singleton Bean between different application containers deployed in the same webserver.\r\n\r\nThis is not possible for security reasons. Each deployed application has its own classloader and hence cannot easily access beans residing in the memory of the other containers.\r\n\r\nI suggest you add a microservice that is accessed by the different deployed applications and use that instead. It can easily be accessed via e.g OpenFeign as a client and almost looks like a bean with getters and setters if done right.\r\n\r\n\r\n\r\n   ","title":"How to register beans that can be shared by multiple WARs (Spring boot + Tomcat)","body":"<p>I think your question is about sharing the data of one singleton Bean between different application containers deployed in the same webserver.</p>\n<p>This is not possible for security reasons. Each deployed application has its own classloader and hence cannot easily access beans residing in the memory of the other containers.</p>\n<p>I suggest you add a microservice that is accessed by the different deployed applications and use that instead. It can easily be accessed via e.g OpenFeign as a client and almost looks like a bean with getters and setters if done right.</p>\n"},{"tags":[],"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634719746,"creation_date":1634719746,"answer_id":69642956,"question_id":69639841,"body_markdown":"There are several approaches to your problem, solving it on different levels.\r\n\r\n1. Create a **shared library** with required stuff and install it to Tomcat server. &quot;Install&quot; normally means to put assemled jars to `$CATALINA_HOME/lib` directory or similar. [Class Loader HOW-TO][1] can give you more details. Not sure how it works with shared  *instances* of classes, but it&#39;s definitely possible to share *classes* (factories, for example) and configurations through shared library. With shared configuration and factories you can at least produce identical beans (not necessary the *same*, but it seems enough for you case).\r\n\r\n2. Define a **JNDI resource** shared between all applications. Of course, this requires your class to be accessible by Tomcat, so you first have to go through option 1. This way you can have &quot;published&quot; *instance* of a class shared between all applications. Details can be found at [JNDI Resources HOW-TO][2]. With this approach you can inject published resource with `@Resource` annotation.\r\n\r\n3. Create a **microservice** (as one of other answers suggests) that can provide you data and features and access it from your application. This gives you maximum flexibility but also brings complexity requiring actual *communication* to the microservice.\r\n\r\n\r\nObviously, options 1 and 2 require direct access to the server configuration.\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-8.0-doc/class-loader-howto.html\r\n  [2]: https://tomcat.apache.org/tomcat-8.0-doc/jndi-resources-howto.html","title":"How to register beans that can be shared by multiple WARs (Spring boot + Tomcat)","body":"<p>There are several approaches to your problem, solving it on different levels.</p>\n<ol>\n<li><p>Create a <strong>shared library</strong> with required stuff and install it to Tomcat server. &quot;Install&quot; normally means to put assemled jars to <code>$CATALINA_HOME/lib</code> directory or similar. <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/class-loader-howto.html\" rel=\"nofollow noreferrer\">Class Loader HOW-TO</a> can give you more details. Not sure how it works with shared  <em>instances</em> of classes, but it's definitely possible to share <em>classes</em> (factories, for example) and configurations through shared library. With shared configuration and factories you can at least produce identical beans (not necessary the <em>same</em>, but it seems enough for you case).</p>\n</li>\n<li><p>Define a <strong>JNDI resource</strong> shared between all applications. Of course, this requires your class to be accessible by Tomcat, so you first have to go through option 1. This way you can have &quot;published&quot; <em>instance</em> of a class shared between all applications. Details can be found at <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/jndi-resources-howto.html\" rel=\"nofollow noreferrer\">JNDI Resources HOW-TO</a>. With this approach you can inject published resource with <code>@Resource</code> annotation.</p>\n</li>\n<li><p>Create a <strong>microservice</strong> (as one of other answers suggests) that can provide you data and features and access it from your application. This gives you maximum flexibility but also brings complexity requiring actual <em>communication</em> to the microservice.</p>\n</li>\n</ol>\n<p>Obviously, options 1 and 2 require direct access to the server configuration.</p>\n"}],"owner":{"account_id":23085873,"reputation":65,"user_id":17197401,"display_name":"sksm216"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":610,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1634719746,"creation_date":1634699006,"question_id":69639841,"body_markdown":"I am developing an application with Spring boot and deploying multiple WARs to an external tomcat.\r\nI want to register a shareable bean with these WARs when tomcat starts.\r\n\r\nI use: Java8, Spring boot(2.5.5) and Tomcat9\r\n\r\nBean I want to be shared by Apps:\r\n    \r\n    public class TestData {\r\n        private String username;\r\n        \r\n        public String getUsername() {\r\n            return username;\r\n        }\r\n        public void setUsername(String username) {\r\n            this.username = username;\r\n        }\r\n    }\r\n\r\nSampleApp(There are multiple apps that Autowire an instance of TestData in the same way):\r\n\r\n    @SpringBootApplication\r\n    @RestController\r\n    public class App extends SpringBootServletInitializer {\r\n        @Autowired\r\n        TestData testData;\r\n        \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(App.class, args);\r\n        }\r\n\r\n        @Override\r\n        protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n            return application.sources(App.class);\r\n        }\r\n\r\n        @RequestMapping(value = &quot;SampleApp1&quot;, method = RequestMethod.GET)\r\n        public String getUsername() {\r\n            return testData.getUsername();\r\n        }\r\n    }\r\n","title":"How to register beans that can be shared by multiple WARs (Spring boot + Tomcat)","body":"<p>I am developing an application with Spring boot and deploying multiple WARs to an external tomcat.\nI want to register a shareable bean with these WARs when tomcat starts.</p>\n<p>I use: Java8, Spring boot(2.5.5) and Tomcat9</p>\n<p>Bean I want to be shared by Apps:</p>\n<pre><code>public class TestData {\n    private String username;\n    \n    public String getUsername() {\n        return username;\n    }\n    public void setUsername(String username) {\n        this.username = username;\n    }\n}\n</code></pre>\n<p>SampleApp(There are multiple apps that Autowire an instance of TestData in the same way):</p>\n<pre><code>@SpringBootApplication\n@RestController\npublic class App extends SpringBootServletInitializer {\n    @Autowired\n    TestData testData;\n    \n    public static void main(String[] args) {\n        SpringApplication.run(App.class, args);\n    }\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(App.class);\n    }\n\n    @RequestMapping(value = &quot;SampleApp1&quot;, method = RequestMethod.GET)\n    public String getUsername() {\n        return testData.getUsername();\n    }\n}\n</code></pre>\n"},{"tags":["java","xml","maven","xsd","jaxb2-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":13894074,"reputation":123,"user_id":10031362,"display_name":"WorkingAccount"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634719721,"creation_date":1634719721,"answer_id":69642951,"question_id":69626026,"body_markdown":"Turns out the jaxb2-maven-plugin does not support the jakarta.xml.bind imports in its latest form.\r\n\r\nSo you can either downgrade to a dependency that still has the javax.xml.bind imports or you can switch to a forked version of the plugin that supports the new jaxb-API.\r\n\r\nForked Plugin Repo: https://github.com/evolvedbinary/mojohaus-jaxb-maven-plugin/","title":"jaxb2-maven-plugin ignores namespace when generating xsd - Two classes have the same XML type","body":"<p>Turns out the jaxb2-maven-plugin does not support the jakarta.xml.bind imports in its latest form.</p>\n<p>So you can either downgrade to a dependency that still has the javax.xml.bind imports or you can switch to a forked version of the plugin that supports the new jaxb-API.</p>\n<p>Forked Plugin Repo: <a href=\"https://github.com/evolvedbinary/mojohaus-jaxb-maven-plugin/\" rel=\"nofollow noreferrer\">https://github.com/evolvedbinary/mojohaus-jaxb-maven-plugin/</a></p>\n"}],"owner":{"account_id":13894074,"reputation":123,"user_id":10031362,"display_name":"WorkingAccount"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69642951,"answer_count":1,"score":0,"last_activity_date":1634719721,"creation_date":1634625008,"question_id":69626026,"body_markdown":"I am currently migrating a project from Java 8 to Java 11. The version change broke our XSD generation.\r\n\r\nWe are using the *org.codehaus.mojo:jaxb2-maven-plugin:2.5.0* to generate the XSD from JAXB annotated classes. But it seems to be ignoring the namespace defined for the different packages, as it prints the following error: \r\n\r\n```\r\nTwo classes have the same XML type name &quot;toyota&quot;. Use @XmlType.name and @XmlType.namespace to assign them different names.\r\n\tThis problem is related to the following location:\r\n\t\tat org.example.bus.Toyota(src\\main\\java\\org\\example\\bus\\Toyota.java:7).\r\n\tThis problem is related to the following location:\r\n\t\tAt org.example.car.Toyota(src\\main\\java\\org\\example\\car\\Toyota.java:7).\r\nError: two classes have the same XML type name &quot;toyota&quot;. Use @XmlType.name and @XmlType.namespace to assign them different names.\r\n  \tThis problem is related to the following location:\r\n  \t\tat org.example.bus.Toyota(src\\main\\java\\org\\example\\bus\\Toyota.java:7).\r\n  \tThis problem is related to the following location:\r\n  \t\tAt org.example.car.Toyota(src\\main\\java\\org\\example\\car\\Toyota.java:7).\r\nNote: Writing D:\\Work\\Projects\\Git\\xsd-generation-test\\schemas\\META-INF\\JAXB\\episode_schemagen.xjb\r\n```\r\n\r\nHas anyone had this problem and is able to provide me with a solution?\r\n\r\n---\r\n\r\nThe following example is a minimal configuration to repoduce the error:\r\n\r\npom.xml\r\n-------\r\n\r\n```\r\n&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;schemagen&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;schemagen&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;sources&gt;\r\n                        &lt;source&gt;src/main/java/org/example/car&lt;/source&gt;\r\n                        &lt;source&gt;src/main/java/org/example/bus&lt;/source&gt;\r\n                    &lt;/sources&gt;\r\n                    &lt;outputDirectory&gt;schemas&lt;/outputDirectory&gt;\r\n                    &lt;transformSchemas&gt;\r\n                        &lt;transformSchema&gt;\r\n                            &lt;uri&gt;https://car.example.org/&lt;/uri&gt;\r\n                            &lt;toFile&gt;car.xsd&lt;/toFile&gt;\r\n                        &lt;/transformSchema&gt;\r\n                        &lt;transformSchema&gt;\r\n                            &lt;uri&gt;https://bus.example.org/&lt;/uri&gt;\r\n                            &lt;toFile&gt;bus.xsd&lt;/toFile&gt;\r\n                        &lt;/transformSchema&gt;\r\n                    &lt;/transformSchemas&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\nClass in Package &quot;org.example.bus&quot;:\r\n-----------------------------------\r\n\r\n```\r\npackage org.example.bus;\r\n\r\nimport jakarta.xml.bind.annotation.XmlAccessType;\r\nimport jakarta.xml.bind.annotation.XmlAccessorType;\r\nimport jakarta.xml.bind.annotation.XmlType;\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;toyota&quot;, namespace = &quot;https://bus.example.org/&quot;)\r\npublic class Toyota {\r\n}\r\n```\r\n\r\nClass in Package &quot;org.example.car&quot;:\r\n-----------------------------------\r\n\r\n```\r\npackage org.example.car;\r\n\r\nimport jakarta.xml.bind.annotation.XmlAccessType;\r\nimport jakarta.xml.bind.annotation.XmlAccessorType;\r\nimport jakarta.xml.bind.annotation.XmlType;\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;toyota&quot;, namespace = &quot;https://car.example.org/&quot;)\r\npublic class Toyota {\r\n}\r\n\r\n```","title":"jaxb2-maven-plugin ignores namespace when generating xsd - Two classes have the same XML type","body":"<p>I am currently migrating a project from Java 8 to Java 11. The version change broke our XSD generation.</p>\n<p>We are using the <em>org.codehaus.mojo:jaxb2-maven-plugin:2.5.0</em> to generate the XSD from JAXB annotated classes. But it seems to be ignoring the namespace defined for the different packages, as it prints the following error:</p>\n<pre><code>Two classes have the same XML type name &quot;toyota&quot;. Use @XmlType.name and @XmlType.namespace to assign them different names.\n    This problem is related to the following location:\n        at org.example.bus.Toyota(src\\main\\java\\org\\example\\bus\\Toyota.java:7).\n    This problem is related to the following location:\n        At org.example.car.Toyota(src\\main\\java\\org\\example\\car\\Toyota.java:7).\nError: two classes have the same XML type name &quot;toyota&quot;. Use @XmlType.name and @XmlType.namespace to assign them different names.\n    This problem is related to the following location:\n        at org.example.bus.Toyota(src\\main\\java\\org\\example\\bus\\Toyota.java:7).\n    This problem is related to the following location:\n        At org.example.car.Toyota(src\\main\\java\\org\\example\\car\\Toyota.java:7).\nNote: Writing D:\\Work\\Projects\\Git\\xsd-generation-test\\schemas\\META-INF\\JAXB\\episode_schemagen.xjb\n</code></pre>\n<p>Has anyone had this problem and is able to provide me with a solution?</p>\n<hr />\n<p>The following example is a minimal configuration to repoduce the error:</p>\n<h2>pom.xml</h2>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;schemagen&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;schemagen&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;generate-resources&lt;/phase&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;sources&gt;\n                        &lt;source&gt;src/main/java/org/example/car&lt;/source&gt;\n                        &lt;source&gt;src/main/java/org/example/bus&lt;/source&gt;\n                    &lt;/sources&gt;\n                    &lt;outputDirectory&gt;schemas&lt;/outputDirectory&gt;\n                    &lt;transformSchemas&gt;\n                        &lt;transformSchema&gt;\n                            &lt;uri&gt;https://car.example.org/&lt;/uri&gt;\n                            &lt;toFile&gt;car.xsd&lt;/toFile&gt;\n                        &lt;/transformSchema&gt;\n                        &lt;transformSchema&gt;\n                            &lt;uri&gt;https://bus.example.org/&lt;/uri&gt;\n                            &lt;toFile&gt;bus.xsd&lt;/toFile&gt;\n                        &lt;/transformSchema&gt;\n                    &lt;/transformSchemas&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<h2>Class in Package &quot;org.example.bus&quot;:</h2>\n<pre><code>package org.example.bus;\n\nimport jakarta.xml.bind.annotation.XmlAccessType;\nimport jakarta.xml.bind.annotation.XmlAccessorType;\nimport jakarta.xml.bind.annotation.XmlType;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;toyota&quot;, namespace = &quot;https://bus.example.org/&quot;)\npublic class Toyota {\n}\n</code></pre>\n<h2>Class in Package &quot;org.example.car&quot;:</h2>\n<pre><code>package org.example.car;\n\nimport jakarta.xml.bind.annotation.XmlAccessType;\nimport jakarta.xml.bind.annotation.XmlAccessorType;\nimport jakarta.xml.bind.annotation.XmlType;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;toyota&quot;, namespace = &quot;https://car.example.org/&quot;)\npublic class Toyota {\n}\n\n</code></pre>\n"},{"tags":["java","spring","jpa","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":7619751,"reputation":6003,"user_id":5778099,"accept_rate":53,"display_name":"Nestor Milyaev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634719267,"creation_date":1634292374,"answer_id":69583090,"question_id":69582938,"body_markdown":"I don&#39;t think JPA can handle these complex conditions with brackets using out-of-the-box named queries. In addition, you&#39;re using the `like` clause, which named queries don&#39;t handle (those are for equality only). \r\n\r\nYour best shot is probably use something like \r\n\r\n    @Query(&quot;SELECT u FROM User u WHERE (u.name like : name or u.detail like : detail) and u.age = :age&quot;\r\n    Collection&lt;User&gt; findUsersByNameDetailAndAge(String name, String detail, int age);\r\n\r\nWorst case if that doesn&#39;t work you&#39;ll have to use a native query here. \r\n\r\nCheck out here https://www.baeldung.com/spring-data-jpa-query for more examples/explanation","title":"SpringData JPA &quot;AND&quot; and &quot;OR&quot; query not working as expected","body":"<p>I don't think JPA can handle these complex conditions with brackets using out-of-the-box named queries. In addition, you're using the <code>like</code> clause, which named queries don't handle (those are for equality only).</p>\n<p>Your best shot is probably use something like</p>\n<pre><code>@Query(&quot;SELECT u FROM User u WHERE (u.name like : name or u.detail like : detail) and u.age = :age&quot;\nCollection&lt;User&gt; findUsersByNameDetailAndAge(String name, String detail, int age);\n</code></pre>\n<p>Worst case if that doesn't work you'll have to use a native query here.</p>\n<p>Check out here <a href=\"https://www.baeldung.com/spring-data-jpa-query\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-query</a> for more examples/explanation</p>\n"}],"owner":{"account_id":1362594,"reputation":6622,"user_id":1299675,"accept_rate":69,"display_name":"Sam Su"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3367,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1634719267,"creation_date":1634291658,"question_id":69582938,"body_markdown":"Well keep it simple I want to build a query to make it equivalent to: \r\n\r\n```sql\r\nselect * from user where (name like ? or detail like ?) and age = ?\r\n```\r\n\r\nWhat I have tried so far:\r\n```\r\nPage&lt;Post&gt; findByNameOrDetailContainingAndAgeEquals(String query, int age, Pageable pageable);\r\n\r\nPage&lt;Post&gt; findByNameContainingOrDetailContainingAndAgeEquals(String query, String query, int age, Pageable pageable);\r\n```\r\nAll of these approaches failed. It seems that Spring split the query very wrong.\r\n\r\nI have checked all the examples in [https://github.com/spring-projects/spring-data-jpa/blob/main/src/test/java/org/springframework/data/jpa/repository/sample/UserRepository.java](https://github.com/spring-projects/spring-data-jpa/blob/main/src/test/java/org/springframework/data/jpa/repository/sample/UserRepository.java)\r\n but all of those examples are pretty simple (most queries even with just one simple condition).\r\n\r\n\r\nAll I have read this answer [How to combine multiple And and Or through method name](https://stackoverflow.com/a/35794304/1299675) and I agree with it. BUT, I don&#39;t think my scenario is complicated as the OP&#39;s, as you can see. Just &quot;AND&quot; and &quot;OR&quot; query condition combined which is quite easy in a SQL way but I just want make it by a JPA way.","title":"SpringData JPA &quot;AND&quot; and &quot;OR&quot; query not working as expected","body":"<p>Well keep it simple I want to build a query to make it equivalent to:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select * from user where (name like ? or detail like ?) and age = ?\n</code></pre>\n<p>What I have tried so far:</p>\n<pre><code>Page&lt;Post&gt; findByNameOrDetailContainingAndAgeEquals(String query, int age, Pageable pageable);\n\nPage&lt;Post&gt; findByNameContainingOrDetailContainingAndAgeEquals(String query, String query, int age, Pageable pageable);\n</code></pre>\n<p>All of these approaches failed. It seems that Spring split the query very wrong.</p>\n<p>I have checked all the examples in <a href=\"https://github.com/spring-projects/spring-data-jpa/blob/main/src/test/java/org/springframework/data/jpa/repository/sample/UserRepository.java\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-jpa/blob/main/src/test/java/org/springframework/data/jpa/repository/sample/UserRepository.java</a>\nbut all of those examples are pretty simple (most queries even with just one simple condition).</p>\n<p>All I have read this answer <a href=\"https://stackoverflow.com/a/35794304/1299675\">How to combine multiple And and Or through method name</a> and I agree with it. BUT, I don't think my scenario is complicated as the OP's, as you can see. Just &quot;AND&quot; and &quot;OR&quot; query condition combined which is quite easy in a SQL way but I just want make it by a JPA way.</p>\n"},{"tags":["java","spring","spring-boot","jdbc","localdate"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1634719290,"post_id":69642713,"comment_id":123097852,"body_markdown":"What exactly is the question? I&#39;d say the easiest way would be to use 2 operations: 1) update the &quot;old&quot; salary which is identified by a `null` end date and 2) insert the new salary. You _could_ use 2 upserts which would amount to an update and an insert but you&#39;d not gain much from this.","body":"What exactly is the question? I&#39;d say the easiest way would be to use 2 operations: 1) update the &quot;old&quot; salary which is identified by a <code>null</code> end date and 2) insert the new salary. You <i>could</i> use 2 upserts which would amount to an update and an insert but you&#39;d not gain much from this."},{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":1,"creation_date":1634719473,"post_id":69642713,"comment_id":123097924,"body_markdown":"do you mean &quot;call the insertSalary&quot; method by &quot;when a new salary is assigned&quot;? If yes, you can add a method called &quot;updateOldSalary&quot; to perform what @Thomas wrote. Better to perform the operations in a single transaction","body":"do you mean &quot;call the insertSalary&quot; method by &quot;when a new salary is assigned&quot;? If yes, you can add a method called &quot;updateOldSalary&quot; to perform what @Thomas wrote. Better to perform the operations in a single transaction"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1634719770,"post_id":69642713,"comment_id":123098064,"body_markdown":"Btw, why does your `save()` call `salary.setToDate(null);` on _every_ salary?","body":"Btw, why does your <code>save()</code> call <code>salary.setToDate(null);</code> on <i>every</i> salary?"},{"owner":{"account_id":23023481,"reputation":73,"user_id":17144150,"display_name":"Taulant Fazliu"},"score":0,"creation_date":1634721856,"post_id":69642713,"comment_id":123098945,"body_markdown":"The thing is i need to use that method to save and update, so i cant really do an update method, and i put that &#39;salary.setToDate(null)&#39; to assign the toDate to the new salary to null but i removed it since it wasnt doing anything","body":"The thing is i need to use that method to save and update, so i cant really do an update method, and i put that &#39;salary.setToDate(null)&#39; to assign the toDate to the new salary to null but i removed it since it wasnt doing anything"},{"owner":{"account_id":23023481,"reputation":73,"user_id":17144150,"display_name":"Taulant Fazliu"},"score":0,"creation_date":1634721950,"post_id":69642713,"comment_id":123098990,"body_markdown":"i have done an upsert to the insertSalary method but im not sure if ive done it right","body":"i have done an upsert to the insertSalary method but im not sure if ive done it right"}],"owner":{"account_id":23023481,"reputation":73,"user_id":17144150,"display_name":"Taulant Fazliu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634719223,"creation_date":1634718654,"question_id":69642713,"body_markdown":"I have `employees` and `salaries` tables.\r\n\r\nAn employee can have more than one salary, and how that happens is he has a salary with the id that tells which employee it is, the salary amount, the `fromDate` (date when salary is assigned) and `toDate` (date when the salary has expired and a new salary has been assigned).\r\n\r\nWhat I need is that when a new salary is assigned the `toDate` of the old salary is set to `LocalDate.now()` while the to date of the new salary is `null`.\r\n\r\n    public Employee save(Employee employee) {\r\n        String sql = &quot;Insert into employees(emp_no, birth_date,first_name, last_name, gender, hire_date) values (:empNo,:birthDate, :firstName, :lastName, cast(:gender as gender), :hireDate) &quot; +\r\n                &quot;on conflict (emp_no) do update set birth_date = :birthDate, first_name= :firstName, last_name= :lastName, gender= cast(:gender as gender), hire_date= :hireDate&quot;;\r\n        MapSqlParameterSource paramSource = new MapSqlParameterSource(&quot;empNo&quot;, employee.getEmpNo())\r\n                .addValue(&quot;birthDate&quot;, employee.getBirthDate())\r\n                .addValue(&quot;firstName&quot;, employee.getFirstName())\r\n                .addValue(&quot;lastName&quot;, employee.getLastName())\r\n                .addValue(&quot;gender&quot;, employee.getGender().toString())\r\n                .addValue(&quot;hireDate&quot;, employee.getHireDate());\r\n        namedParameterJdbcTemplate.update(sql, paramSource);\r\n        if (!employee.getSalaries().isEmpty()) {\r\n            for (Salary salary : employee.getSalaries()) {\r\n                insertSalary(employee.getEmpNo(), salary);\r\n                salary.setToDate(null);\r\n            }\r\n        }\r\n        return employee;\r\n    }\r\n\r\n    private void insertSalary(Long empNo, Salary salary) {\r\n        String sql = &quot;insert into salaries (emp_no, salary, from_date, to_date) values (:empNo, :salary, :fromDate, :toDate) on conflict (emp_no, from_date) do update set to_date = :toDate&quot;;\r\n        salary.setToDate(LocalDate.now());\r\n        MapSqlParameterSource parameterSource = new MapSqlParameterSource(&quot;salary&quot;, salary.getSalary())\r\n                .addValue(&quot;empNo&quot;, empNo)\r\n                .addValue(&quot;fromDate&quot;, salary.getFromDate())\r\n                .addValue(&quot;toDate&quot;, salary.getToDate());\r\n        namedParameterJdbcTemplate.update(sql, parameterSource);\r\n    }\r\n    \r\n\r\n     @Override\r\n        public Employee extractData(ResultSet rs) throws SQLException, DataAccessException {\r\n            Map&lt;Long, Employee&gt; employeeById = new HashMap&lt;&gt;();\r\n            Employee employee = new Employee();\r\n            while (rs.next()) {\r\n\r\n                Long empNo = rs.getLong(&quot;emp_no&quot;);\r\n                if (employeeById.isEmpty()) {\r\n                    employee = employeeById.get(empNo);\r\n                }\r\n                Long salary = rs.getLong(&quot;salary&quot;);\r\n                LocalDate fromDate = rs.getObject(&quot;from_date&quot;, LocalDate.class);\r\n                LocalDate toDate= rs.getObject(&quot;to_date&quot;, LocalDate.class);\r\n                Salary salary1 = new Salary(empNo, salary, fromDate, toDate);\r\n                if (employee == null) {\r\n                    employee = new Employee();\r\n                    employeeById.put(employee.getEmpNo(), employee);\r\n                }\r\n                employee.assignSalary(salary1);\r\n            }\r\n            Collection&lt;Employee&gt; employees = employeeById.values();\r\n            return employee;\r\n        }\r\n\r\n   ","title":"How to change dates for salary assignment java","body":"<p>I have <code>employees</code> and <code>salaries</code> tables.</p>\n<p>An employee can have more than one salary, and how that happens is he has a salary with the id that tells which employee it is, the salary amount, the <code>fromDate</code> (date when salary is assigned) and <code>toDate</code> (date when the salary has expired and a new salary has been assigned).</p>\n<p>What I need is that when a new salary is assigned the <code>toDate</code> of the old salary is set to <code>LocalDate.now()</code> while the to date of the new salary is <code>null</code>.</p>\n<pre><code>public Employee save(Employee employee) {\n    String sql = &quot;Insert into employees(emp_no, birth_date,first_name, last_name, gender, hire_date) values (:empNo,:birthDate, :firstName, :lastName, cast(:gender as gender), :hireDate) &quot; +\n            &quot;on conflict (emp_no) do update set birth_date = :birthDate, first_name= :firstName, last_name= :lastName, gender= cast(:gender as gender), hire_date= :hireDate&quot;;\n    MapSqlParameterSource paramSource = new MapSqlParameterSource(&quot;empNo&quot;, employee.getEmpNo())\n            .addValue(&quot;birthDate&quot;, employee.getBirthDate())\n            .addValue(&quot;firstName&quot;, employee.getFirstName())\n            .addValue(&quot;lastName&quot;, employee.getLastName())\n            .addValue(&quot;gender&quot;, employee.getGender().toString())\n            .addValue(&quot;hireDate&quot;, employee.getHireDate());\n    namedParameterJdbcTemplate.update(sql, paramSource);\n    if (!employee.getSalaries().isEmpty()) {\n        for (Salary salary : employee.getSalaries()) {\n            insertSalary(employee.getEmpNo(), salary);\n            salary.setToDate(null);\n        }\n    }\n    return employee;\n}\n\nprivate void insertSalary(Long empNo, Salary salary) {\n    String sql = &quot;insert into salaries (emp_no, salary, from_date, to_date) values (:empNo, :salary, :fromDate, :toDate) on conflict (emp_no, from_date) do update set to_date = :toDate&quot;;\n    salary.setToDate(LocalDate.now());\n    MapSqlParameterSource parameterSource = new MapSqlParameterSource(&quot;salary&quot;, salary.getSalary())\n            .addValue(&quot;empNo&quot;, empNo)\n            .addValue(&quot;fromDate&quot;, salary.getFromDate())\n            .addValue(&quot;toDate&quot;, salary.getToDate());\n    namedParameterJdbcTemplate.update(sql, parameterSource);\n}\n\n\n @Override\n    public Employee extractData(ResultSet rs) throws SQLException, DataAccessException {\n        Map&lt;Long, Employee&gt; employeeById = new HashMap&lt;&gt;();\n        Employee employee = new Employee();\n        while (rs.next()) {\n\n            Long empNo = rs.getLong(&quot;emp_no&quot;);\n            if (employeeById.isEmpty()) {\n                employee = employeeById.get(empNo);\n            }\n            Long salary = rs.getLong(&quot;salary&quot;);\n            LocalDate fromDate = rs.getObject(&quot;from_date&quot;, LocalDate.class);\n            LocalDate toDate= rs.getObject(&quot;to_date&quot;, LocalDate.class);\n            Salary salary1 = new Salary(empNo, salary, fromDate, toDate);\n            if (employee == null) {\n                employee = new Employee();\n                employeeById.put(employee.getEmpNo(), employee);\n            }\n            employee.assignSalary(salary1);\n        }\n        Collection&lt;Employee&gt; employees = employeeById.values();\n        return employee;\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","caching","ehcache"],"comments":[{"owner":{"account_id":14803792,"reputation":1246,"user_id":10691359,"display_name":"Pilpo"},"score":0,"creation_date":1634569738,"post_id":69618370,"comment_id":123054231,"body_markdown":"Did you tried https://jmeter.apache.org/ in order to do volumetric test?","body":"Did you tried <a href=\"https://jmeter.apache.org/\" rel=\"nofollow noreferrer\">jmeter.apache.org</a> in order to do volumetric test?"},{"owner":{"account_id":3895538,"reputation":517,"user_id":3224680,"accept_rate":50,"display_name":"r-developer"},"score":0,"creation_date":1634569911,"post_id":69618370,"comment_id":123054290,"body_markdown":"these tools are not available in client system, so I can not use them","body":"these tools are not available in client system, so I can not use them"},{"owner":{"account_id":3062336,"reputation":5575,"user_id":2594725,"accept_rate":12,"display_name":"cruftex"},"score":0,"creation_date":1634719267,"post_id":69618370,"comment_id":123097848,"body_markdown":"Maybe you can rephrase your question a bit toward &quot;how to determine the optimal cache size&quot; that might be more relevant for others. Stackoverflow isn&#39;t meant to solve a particular setup problem.","body":"Maybe you can rephrase your question a bit toward &quot;how to determine the optimal cache size&quot; that might be more relevant for others. Stackoverflow isn&#39;t meant to solve a particular setup problem."}],"answers":[{"tags":[],"owner":{"account_id":3062336,"reputation":5575,"user_id":2594725,"accept_rate":12,"display_name":"cruftex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634719176,"creation_date":1634719176,"answer_id":69642839,"question_id":69618370,"body_markdown":"Questions for &quot;best&quot; and &quot;perfect&quot; are difficult to answer, in general.\r\n\r\nThe optimal cache size depends on:\r\n\r\n- the data key space\r\n- its distribution\r\n- the response sizes \r\n- the cost and time to regenerate evicted data\r\n- SLAs, e.g. maximum user response times\r\n\r\nYour 30000 req/hour may go always to the same data point, so your cache would only need 5kb.\r\n\r\nHow much heap and off heap cache you configure, also depends on a trade offs between memory and CPU costs and response times.\r\n\r\nEven if your dev machine is not fast enough for handling production load, you can still test it with the same access sequences that you have in production. Maybe for one hour production load you need four hours in dev to test your setup.\r\n\r\nAnother possibility is to reduce your data key space for testing in dev. However it is important that you have a similar key distribution.\r\n\r\nSome practical advice:\r\nIf you are caching basically a REST response (you mentioned postman), caching inside the application might be not a good choice. Maybe use HTTP based caching between user and application\r\n\r\nFor optimum caching in production you will need to test and adapt, according what you see in production. Best you start with a bigger machine and bigger cache size in production, then lower the capacity according your hitrates, cost expectations and service levels.\r\n\r\n","title":"best config for ehcache3 with springboot 2.5.4","body":"<p>Questions for &quot;best&quot; and &quot;perfect&quot; are difficult to answer, in general.</p>\n<p>The optimal cache size depends on:</p>\n<ul>\n<li>the data key space</li>\n<li>its distribution</li>\n<li>the response sizes</li>\n<li>the cost and time to regenerate evicted data</li>\n<li>SLAs, e.g. maximum user response times</li>\n</ul>\n<p>Your 30000 req/hour may go always to the same data point, so your cache would only need 5kb.</p>\n<p>How much heap and off heap cache you configure, also depends on a trade offs between memory and CPU costs and response times.</p>\n<p>Even if your dev machine is not fast enough for handling production load, you can still test it with the same access sequences that you have in production. Maybe for one hour production load you need four hours in dev to test your setup.</p>\n<p>Another possibility is to reduce your data key space for testing in dev. However it is important that you have a similar key distribution.</p>\n<p>Some practical advice:\nIf you are caching basically a REST response (you mentioned postman), caching inside the application might be not a good choice. Maybe use HTTP based caching between user and application</p>\n<p>For optimum caching in production you will need to test and adapt, according what you see in production. Best you start with a bigger machine and bigger cache size in production, then lower the capacity according your hitrates, cost expectations and service levels.</p>\n"}],"owner":{"account_id":3895538,"reputation":517,"user_id":3224680,"accept_rate":50,"display_name":"r-developer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1634719176,"creation_date":1634569581,"question_id":69618370,"body_markdown":"I am going to use Ehcache with Springboot. I just wanted to know what will best configuration while working with high volume of requests.\r\n\r\nWe may receive more than 30000 req/hour while live. Though in Development we  cannot produce this scenario.\r\n\r\nCould you please help me how I can calculate the memory to create a best configuration which shall work perfectly in Prod.\r\n\r\nI checked the response size in Postman which is 3-5 kb in Dev, so I have kept the below configuration but not sure how well it will go. We have a memory size of 2GB (in prod we can get 4 GB). ttl is set as 1 hr.\r\n\r\n    &lt;heap&gt;5000&lt;/heap&gt;\r\n    &lt;offheap unit=&quot;MB&quot;&gt;100&lt;/offheap&gt;\r\n\r\nCould you please let me know if this will work or not with volume of requests I mentioned for live?","title":"best config for ehcache3 with springboot 2.5.4","body":"<p>I am going to use Ehcache with Springboot. I just wanted to know what will best configuration while working with high volume of requests.</p>\n<p>We may receive more than 30000 req/hour while live. Though in Development we  cannot produce this scenario.</p>\n<p>Could you please help me how I can calculate the memory to create a best configuration which shall work perfectly in Prod.</p>\n<p>I checked the response size in Postman which is 3-5 kb in Dev, so I have kept the below configuration but not sure how well it will go. We have a memory size of 2GB (in prod we can get 4 GB). ttl is set as 1 hr.</p>\n<pre><code>&lt;heap&gt;5000&lt;/heap&gt;\n&lt;offheap unit=&quot;MB&quot;&gt;100&lt;/offheap&gt;\n</code></pre>\n<p>Could you please let me know if this will work or not with volume of requests I mentioned for live?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","google-cloud-platform"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634718903,"creation_date":1634718903,"answer_id":69642769,"question_id":69642621,"body_markdown":"As I see in your code, you are using in the first part `addValueEventListener()`, which means that you are listening for real-time updates. That kind of listener [should be removed according to the life cycle of your activity][1]. Please also note, that the [onDestroy is not always called][2].\r\n\r\nHowever, when using `addListenerForSingleValueEvent()`, there is no need to remove any listener, because it only reads the data once.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/48861350/should-i-actually-remove-the-valueeventlistener/48862873\r\n  [2]: https://stackoverflow.com/questions/18361719/android-activity-ondestroy-is-not-always-called-and-if-called-only-part-of-the","title":"How do I remove this firebase listener in OnDestroy to reduce memory leaks?","body":"<p>As I see in your code, you are using in the first part <code>addValueEventListener()</code>, which means that you are listening for real-time updates. That kind of listener <a href=\"https://stackoverflow.com/questions/48861350/should-i-actually-remove-the-valueeventlistener/48862873\">should be removed according to the life cycle of your activity</a>. Please also note, that the <a href=\"https://stackoverflow.com/questions/18361719/android-activity-ondestroy-is-not-always-called-and-if-called-only-part-of-the\">onDestroy is not always called</a>.</p>\n<p>However, when using <code>addListenerForSingleValueEvent()</code>, there is no need to remove any listener, because it only reads the data once.</p>\n"}],"owner":{"account_id":21747853,"reputation":3,"user_id":16054223,"display_name":"ucchasharen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634718946,"creation_date":1634718265,"question_id":69642621,"body_markdown":"This is my product showing function. When I access this activity from another, the other activity gets destroyed maybe because of memory leaks. How do I fix this issue? How do I close the listeners? I want to destroy this is OnDestroy method because it might be causing a memory leak and also I&#39;ve read that it&#39;s a good practice to do so.\r\n\r\n    private void getProductDetails(String productID) {\r\n            DatabaseReference productsRef = FirebaseDatabase.getInstance().getReference().child(&quot;Products&quot;);\r\n            productsRef.child(productID).addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NotNull DataSnapshot dataSnapshot) {\r\n                    if (dataSnapshot.exists()){\r\n                        Products products = dataSnapshot.getValue(Products.class);\r\n                        productName.setText(products.getPname());\r\n                        productPrice.setText(products.getPrice());\r\n                        if (products.getInStock().equals(&quot;Yes&quot;)){\r\n                            inStock.setText(&quot;In Stock&quot;);\r\n                            inStock.setTextColor(ContextCompat.getColor(ProductDetailsActivity.this,R.color.primary));\r\n                        }else {\r\n                            inStock.setText(&quot;Not In Stock&quot;);\r\n                            inStock.setTextColor(ContextCompat.getColor(ProductDetailsActivity.this,R.color.red));\r\n                            addToCartBtn.setEnabled(false);\r\n                        }\r\n                        ifFreeDelivery = &quot;No&quot;;\r\n                        DatabaseReference mref;\r\n                        final String[] phone = new String[1];\r\n                        mref = FirebaseDatabase.getInstance().getReference(&quot;Values&quot;).child(&quot;deliveryCharge&quot;);\r\n                        mref.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                            @Override\r\n                            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                                phone[0] = dataSnapshot.getValue(String.class);\r\n                                deliveryCharge = Integer.parseInt(phone[0]);\r\n                                //do what you want with the likes\r\n                            }\r\n    \r\n                            @Override\r\n                            public void onCancelled(DatabaseError databaseError) {\r\n    \r\n                            }\r\n                        });\r\n\r\n    \r\n                        Products productsImg = dataSnapshot.getValue(Products.class);\r\n                        ArrayList&lt;String&gt; test = productsImg.getImage();\r\n                        DatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\r\n                        DatabaseReference myRef = rootRef.child(&quot;Products&quot;).child(products.getPid()).child(&quot;image&quot;);\r\n                        myRef.addChildEventListener(new ChildEventListener() {\r\n                            @Override\r\n                            public void onChildAdded(DataSnapshot dataSnapshot, String s) {\r\n                                //this will be called for every child in your list\r\n                                test.add(s);\r\n                            }\r\n    \r\n                            @Override\r\n                            public void onChildChanged(DataSnapshot dataSnapshot, String s) {\r\n                                //this will be called for every child changed in your list\r\n                            }\r\n    \r\n                            @Override\r\n                            public void onChildRemoved(DataSnapshot dataSnapshot) {\r\n    \r\n                            }\r\n    \r\n                            @Override\r\n                            public void onChildMoved(DataSnapshot dataSnapshot, String s) {\r\n    \r\n                            }\r\n    \r\n                            @Override\r\n                            public void onCancelled(DatabaseError databaseError) {\r\n    \r\n                            }\r\n    \r\n                        });\r\n                        ArrayList&lt;SlideModel&gt; images = new ArrayList&lt;&gt;();\r\n                        for(int i = 0; i &lt; test.size() ; i++) {\r\n                            images.add(new SlideModel(test.get(i),null));\r\n    \r\n                        }\r\n                        productImage.setImageList(images);\r\n                        productImgDownloadBtn.setOnClickListener(v -&gt; {\r\n                            for(int i = 0; i &lt; products.getPicCount() ; i++) {\r\n                                String url = test.get(i).replace(&quot; &quot;,&quot;&quot;);\r\n                                DownloadImage(url);\r\n    \r\n    \r\n    \r\n                            }\r\n                        });\r\n    \r\n    \r\n                        productDescription.setText(products.getDescription());\r\n                        productDetailsCopyBtn.setOnClickListener(new View.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(View view) {\r\n                                ClipboardManager clipboard = (ClipboardManager) getSystemService(Context.CLIPBOARD_SERVICE);\r\n                                ClipData clip = ClipData.newPlainText(&quot;Product description&quot;,products.getDescription());\r\n                                clipboard.setPrimaryClip(clip);\r\n                                Toast.makeText(ProductDetailsActivity.this, &quot;Product description copied..&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        });\r\n                        //Picasso.get().load(products.getImage().get(0)).into(productImage);\r\n                    }\r\n                }\r\n    \r\n    \r\n                @Override\r\n                public void onCancelled(@NonNull @NotNull DatabaseError databaseError) {\r\n    \r\n                }\r\n    \r\n            });\r\n            \r\n    \r\n        }","title":"How do I remove this firebase listener in OnDestroy to reduce memory leaks?","body":"<p>This is my product showing function. When I access this activity from another, the other activity gets destroyed maybe because of memory leaks. How do I fix this issue? How do I close the listeners? I want to destroy this is OnDestroy method because it might be causing a memory leak and also I've read that it's a good practice to do so.</p>\n<pre><code>private void getProductDetails(String productID) {\n        DatabaseReference productsRef = FirebaseDatabase.getInstance().getReference().child(&quot;Products&quot;);\n        productsRef.child(productID).addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NotNull DataSnapshot dataSnapshot) {\n                if (dataSnapshot.exists()){\n                    Products products = dataSnapshot.getValue(Products.class);\n                    productName.setText(products.getPname());\n                    productPrice.setText(products.getPrice());\n                    if (products.getInStock().equals(&quot;Yes&quot;)){\n                        inStock.setText(&quot;In Stock&quot;);\n                        inStock.setTextColor(ContextCompat.getColor(ProductDetailsActivity.this,R.color.primary));\n                    }else {\n                        inStock.setText(&quot;Not In Stock&quot;);\n                        inStock.setTextColor(ContextCompat.getColor(ProductDetailsActivity.this,R.color.red));\n                        addToCartBtn.setEnabled(false);\n                    }\n                    ifFreeDelivery = &quot;No&quot;;\n                    DatabaseReference mref;\n                    final String[] phone = new String[1];\n                    mref = FirebaseDatabase.getInstance().getReference(&quot;Values&quot;).child(&quot;deliveryCharge&quot;);\n                    mref.addListenerForSingleValueEvent(new ValueEventListener() {\n                        @Override\n                        public void onDataChange(DataSnapshot dataSnapshot) {\n                            phone[0] = dataSnapshot.getValue(String.class);\n                            deliveryCharge = Integer.parseInt(phone[0]);\n                            //do what you want with the likes\n                        }\n\n                        @Override\n                        public void onCancelled(DatabaseError databaseError) {\n\n                        }\n                    });\n\n\n                    Products productsImg = dataSnapshot.getValue(Products.class);\n                    ArrayList&lt;String&gt; test = productsImg.getImage();\n                    DatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\n                    DatabaseReference myRef = rootRef.child(&quot;Products&quot;).child(products.getPid()).child(&quot;image&quot;);\n                    myRef.addChildEventListener(new ChildEventListener() {\n                        @Override\n                        public void onChildAdded(DataSnapshot dataSnapshot, String s) {\n                            //this will be called for every child in your list\n                            test.add(s);\n                        }\n\n                        @Override\n                        public void onChildChanged(DataSnapshot dataSnapshot, String s) {\n                            //this will be called for every child changed in your list\n                        }\n\n                        @Override\n                        public void onChildRemoved(DataSnapshot dataSnapshot) {\n\n                        }\n\n                        @Override\n                        public void onChildMoved(DataSnapshot dataSnapshot, String s) {\n\n                        }\n\n                        @Override\n                        public void onCancelled(DatabaseError databaseError) {\n\n                        }\n\n                    });\n                    ArrayList&lt;SlideModel&gt; images = new ArrayList&lt;&gt;();\n                    for(int i = 0; i &lt; test.size() ; i++) {\n                        images.add(new SlideModel(test.get(i),null));\n\n                    }\n                    productImage.setImageList(images);\n                    productImgDownloadBtn.setOnClickListener(v -&gt; {\n                        for(int i = 0; i &lt; products.getPicCount() ; i++) {\n                            String url = test.get(i).replace(&quot; &quot;,&quot;&quot;);\n                            DownloadImage(url);\n\n\n\n                        }\n                    });\n\n\n                    productDescription.setText(products.getDescription());\n                    productDetailsCopyBtn.setOnClickListener(new View.OnClickListener() {\n                        @Override\n                        public void onClick(View view) {\n                            ClipboardManager clipboard = (ClipboardManager) getSystemService(Context.CLIPBOARD_SERVICE);\n                            ClipData clip = ClipData.newPlainText(&quot;Product description&quot;,products.getDescription());\n                            clipboard.setPrimaryClip(clip);\n                            Toast.makeText(ProductDetailsActivity.this, &quot;Product description copied..&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    });\n                    //Picasso.get().load(products.getImage().get(0)).into(productImage);\n                }\n            }\n\n\n            @Override\n            public void onCancelled(@NonNull @NotNull DatabaseError databaseError) {\n\n            }\n\n        });\n        \n\n    }\n</code></pre>\n"},{"tags":["java","rest"],"comments":[{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":0,"creation_date":1634709125,"post_id":69640918,"comment_id":123094243,"body_markdown":"For me yes it is duplicate, why do you want to have `systemId` at both path variable as well body? Why can&#39;t you use one?","body":"For me yes it is duplicate, why do you want to have <code>systemId</code> at both path variable as well body? Why can&#39;t you use one?"},{"owner":{"account_id":11888046,"reputation":170,"user_id":8699810,"display_name":"Waseel Ahmad Mufti"},"score":0,"creation_date":1634709468,"post_id":69640918,"comment_id":123094316,"body_markdown":"May be it is due to overriding body. please check your client side code may be there body is overriding.","body":"May be it is due to overriding body. please check your client side code may be there body is overriding."},{"owner":{"account_id":15428727,"reputation":156,"user_id":11130754,"display_name":"D. Mateescu"},"score":0,"creation_date":1634709521,"post_id":69640918,"comment_id":123094328,"body_markdown":"The path variable is required for the GET method. The `systemId` from the body is present because in the DTO we have it and it is mapped to the Response/RequestBody as well.","body":"The path variable is required for the GET method. The <code>systemId</code> from the body is present because in the DTO we have it and it is mapped to the Response/RequestBody as well."}],"answers":[{"tags":[],"owner":{"account_id":433419,"reputation":1293,"user_id":818722,"accept_rate":88,"display_name":"morsor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634709621,"creation_date":1634709621,"answer_id":69641009,"question_id":69640918,"body_markdown":"Normally, one doesn&#39;t POST to create a resource to a URL that points to a single resource. Your URL looks more correct for a GET, PUT or DELETE.\r\n\r\nWithout knowing your exact requirements, one could do:\r\n\r\n    POST body {&quot;systemId&quot;: 0, &quot;name&quot;: &quot;string&quot;} to /v1/systems or /v1/subsystems\r\n\r\nThe response could contain the created subsystem along with the new id.","title":"RESTful API with associations best practice","body":"<p>Normally, one doesn't POST to create a resource to a URL that points to a single resource. Your URL looks more correct for a GET, PUT or DELETE.</p>\n<p>Without knowing your exact requirements, one could do:</p>\n<pre><code>POST body {&quot;systemId&quot;: 0, &quot;name&quot;: &quot;string&quot;} to /v1/systems or /v1/subsystems\n</code></pre>\n<p>The response could contain the created subsystem along with the new id.</p>\n"},{"tags":[],"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634718777,"creation_date":1634718385,"answer_id":69642646,"question_id":69640918,"body_markdown":"The URI as a whole is an identifier for the resource not just the last part. Whether the URI itself follows some structural design or not is also dependent on your design decisions. On its own a URI like `.../systems/{systemId}/subsystems` does not necessarily state that it is part of a `systems` collection with a parent resource identified by the respective `systemId`. This only &quot;evolves&quot; if a client naturally explores URIs that in total span a tree where this relationship is build. Though, such relations are usually expressed with link relations like `up` to reference the parent resource and `item` for a specific item in a collection, `subsection` for a sub-part of a collection resource an so forth. See [Iana&#39;s link relation registry](https://www.iana.org/assignments/link-relations/link-relations.xhtml) whether there are link relations available that fits your need. If none of the available link-relations fit your needs you can either register new ones with Iana or make use of [Web linking relation extensions](https://datatracker.ietf.org/doc/html/rfc8288#section-2.1.2) where you can define private relations in your own namespace.\r\n\r\nIn regards to  adding the `systemId` in the body when you utilize a URI structure where the `systemId` is already used in the path to identify the parent resource, that information is then clearly redundant. But whether you want to include it still in the payload is your design choice. There is nothing wrong to include it or leave it out.\r\n\r\nUnfortunately the information on the `subsystems` resource is rather limited. The current payload given could potentially be reduced to the name itself as the `systemId` is given in the URI and the `id` of the subsystem resource may be auto-generated and not be defined by the client. As such, the payload would reduce to a single name. Here you could also avoid the creation of the subresource alltogether and model the name of the subsystem within the `system` entry itself by designing it as array of names. Here, instead of a sub-resource creation you could simply provide an update method for the system resource (via Patch) to add the name to that array. But again, it is your design. Whatever works for you is fine here.\r\n\r\nAs a rule of thumb whether to include such information in the payload or not  you can take the Web as example. I.e. if the ID should be part of the representation to present to the final user, put it in. If not, leave it out. Think of a product which you want to render on a page. Sometimes it may be helpful if the respective productId is present if you want to give the customer a unique way of addressing that particular product in case of reclamations or questions. As resource identifiers however shouldn&#39;t change if possible it might be more benefitial to expose a UUID as internal product identifier and carry the product identifier customers should use in an other field with it. A customer of us once had a merger and in that merger they basically joined products from two companies all with different identifiers in their databases. As a consequence they had to modify a lot of resource URIs eventhough the products (in their real form) didn&#39;t change at all. As such, certain customers where all of a sudden unable to access previously bookmarked product descriptions and so forth as no redirect were introduced unfortunately. This for sure is an extreme and rare situation, though it may occur, and if you&#39;d used a design that supports such a change by design the impact on the whole system would have been notably less dramatic.\r\n\r\nSo, long story short, it depends on your design whether the `systemId` is redundant information or whether you want to add that information to the payload or not or even avoid the subresource alltogether and instead carry the name within a listing of the parent system itself. There is neither a right nor wrong answer here.","title":"RESTful API with associations best practice","body":"<p>The URI as a whole is an identifier for the resource not just the last part. Whether the URI itself follows some structural design or not is also dependent on your design decisions. On its own a URI like <code>.../systems/{systemId}/subsystems</code> does not necessarily state that it is part of a <code>systems</code> collection with a parent resource identified by the respective <code>systemId</code>. This only &quot;evolves&quot; if a client naturally explores URIs that in total span a tree where this relationship is build. Though, such relations are usually expressed with link relations like <code>up</code> to reference the parent resource and <code>item</code> for a specific item in a collection, <code>subsection</code> for a sub-part of a collection resource an so forth. See <a href=\"https://www.iana.org/assignments/link-relations/link-relations.xhtml\" rel=\"nofollow noreferrer\">Iana's link relation registry</a> whether there are link relations available that fits your need. If none of the available link-relations fit your needs you can either register new ones with Iana or make use of <a href=\"https://datatracker.ietf.org/doc/html/rfc8288#section-2.1.2\" rel=\"nofollow noreferrer\">Web linking relation extensions</a> where you can define private relations in your own namespace.</p>\n<p>In regards to  adding the <code>systemId</code> in the body when you utilize a URI structure where the <code>systemId</code> is already used in the path to identify the parent resource, that information is then clearly redundant. But whether you want to include it still in the payload is your design choice. There is nothing wrong to include it or leave it out.</p>\n<p>Unfortunately the information on the <code>subsystems</code> resource is rather limited. The current payload given could potentially be reduced to the name itself as the <code>systemId</code> is given in the URI and the <code>id</code> of the subsystem resource may be auto-generated and not be defined by the client. As such, the payload would reduce to a single name. Here you could also avoid the creation of the subresource alltogether and model the name of the subsystem within the <code>system</code> entry itself by designing it as array of names. Here, instead of a sub-resource creation you could simply provide an update method for the system resource (via Patch) to add the name to that array. But again, it is your design. Whatever works for you is fine here.</p>\n<p>As a rule of thumb whether to include such information in the payload or not  you can take the Web as example. I.e. if the ID should be part of the representation to present to the final user, put it in. If not, leave it out. Think of a product which you want to render on a page. Sometimes it may be helpful if the respective productId is present if you want to give the customer a unique way of addressing that particular product in case of reclamations or questions. As resource identifiers however shouldn't change if possible it might be more benefitial to expose a UUID as internal product identifier and carry the product identifier customers should use in an other field with it. A customer of us once had a merger and in that merger they basically joined products from two companies all with different identifiers in their databases. As a consequence they had to modify a lot of resource URIs eventhough the products (in their real form) didn't change at all. As such, certain customers where all of a sudden unable to access previously bookmarked product descriptions and so forth as no redirect were introduced unfortunately. This for sure is an extreme and rare situation, though it may occur, and if you'd used a design that supports such a change by design the impact on the whole system would have been notably less dramatic.</p>\n<p>So, long story short, it depends on your design whether the <code>systemId</code> is redundant information or whether you want to add that information to the payload or not or even avoid the subresource alltogether and instead carry the name within a listing of the parent system itself. There is neither a right nor wrong answer here.</p>\n"}],"owner":{"account_id":15428727,"reputation":156,"user_id":11130754,"display_name":"D. Mateescu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69642646,"answer_count":2,"score":0,"last_activity_date":1634718777,"creation_date":1634709035,"question_id":69640918,"body_markdown":"We are implementing a RESTful API and we have POST request that looks like this `/v1/systems/{systemId}/subsystems` and the body looks like this \r\n`{&quot;id&quot;: 0,\r\n&quot;systemId&quot;: 0,\r\n&quot;name&quot;: &quot;string&quot;}`.\r\nIs this a duplication of the variables? It is good practice to have it like this?","title":"RESTful API with associations best practice","body":"<p>We are implementing a RESTful API and we have POST request that looks like this <code>/v1/systems/{systemId}/subsystems</code> and the body looks like this\n<code>{&quot;id&quot;: 0, &quot;systemId&quot;: 0, &quot;name&quot;: &quot;string&quot;}</code>.\nIs this a duplication of the variables? It is good practice to have it like this?</p>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":20231096,"reputation":344,"user_id":14837619,"display_name":"Yechiel babani"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1634718705,"creation_date":1634718705,"answer_id":69642724,"question_id":69636143,"body_markdown":"You are trying to access `Button` with `ImageView` object\r\n\r\nDo this instead \r\n\r\n    Button button = findViewById(R.id.btnElementInside_items_xml);\r\n\r\nOr you can change the element in your xml to `ImageView` instead of a `Button`","title":"Getting elements from another xml in MainActivity","body":"<p>You are trying to access <code>Button</code> with <code>ImageView</code> object</p>\n<p>Do this instead</p>\n<pre><code>Button button = findViewById(R.id.btnElementInside_items_xml);\n</code></pre>\n<p>Or you can change the element in your xml to <code>ImageView</code> instead of a <code>Button</code></p>\n"}],"owner":{"account_id":23043833,"reputation":7,"user_id":17161635,"display_name":"F&#225;bio Monteiro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1634726075,"accepted_answer_id":69642724,"answer_count":1,"score":-3,"last_activity_date":1634718705,"creation_date":1634668769,"question_id":69636143,"body_markdown":"In my MainActivity.class I have\r\n\r\n    ImageView button = (ImageView) findViewById(R.id.btnElementInside_items_xml);\r\n    button.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n            Toast.makeText(view.getContext(), &quot;Test&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    });\r\n\r\nI can&#39;t access this button in my MainActivity, just elements in activity_main.xml. How can I access elements from others .xml files?","title":"Getting elements from another xml in MainActivity","body":"<p>In my MainActivity.class I have</p>\n<pre><code>ImageView button = (ImageView) findViewById(R.id.btnElementInside_items_xml);\nbutton.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        Toast.makeText(view.getContext(), &quot;Test&quot;, Toast.LENGTH_SHORT).show();\n    }\n});\n</code></pre>\n<p>I can't access this button in my MainActivity, just elements in activity_main.xml. How can I access elements from others .xml files?</p>\n"},{"tags":["java","json","hashmap"],"comments":[{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":1,"creation_date":1634675643,"post_id":69637206,"comment_id":123088322,"body_markdown":"It is not quite clear: do you need to extract specifically `&quot;attempt&quot;` key without parsing JSON?  Or you need to convert the given string into some POJO, where value can be a `Map&lt;String, Object&gt;` containing nested maps?","body":"It is not quite clear: do you need to extract specifically <code>&quot;attempt&quot;</code> key without parsing JSON?  Or you need to convert the given string into some POJO, where value can be a <code>Map&lt;String, Object&gt;</code> containing nested maps?"},{"owner":{"account_id":12942153,"reputation":183,"user_id":9357607,"accept_rate":71,"display_name":"Billy"},"score":0,"creation_date":1634675761,"post_id":69637206,"comment_id":123088363,"body_markdown":"I need to specifically extract &quot;attempt&quot; from above string","body":"I need to specifically extract &quot;attempt&quot; from above string"}],"answers":[{"tags":[],"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634678137,"creation_date":1634677617,"answer_id":69637646,"question_id":69637206,"body_markdown":"Assuming the `String` structure doesn&#39;t change and `attempt` is the last field, you can work with the `String` without converting it to some POJO or `Map`:\r\n\r\n    public static String getAttempt(String json) {\r\n        return json.split(&quot;\\&quot;attempt\\&quot;:&quot;)[1].replaceAll(&quot;[^-?0-9]+&quot;, &quot;&quot;);\r\n    }\r\n\r\nThen you can do:\r\n\r\n    SString json = &quot;[{type=Callback, output=[{name=prompt, value=InputCode}], input=[{name=IDT1, value=}]}, {type=TextOutputCallback, output=[{name=message, value={\\&quot;current_type\\&quot;:\\&quot;Code\\&quot;,\\&quot;info\\&quot;:{\\&quot;some_key\\&quot;:\\&quot;cf2fc86a\\&quot;,\\&quot;some_type\\&quot;:\\&quot;Code\\&quot;,\\&quot;ph_no\\&quot;:\\&quot;111111111\\&quot;},\\&quot;attempt\\&quot;:2}}]}]&quot;;\r\n\r\n    String attempt = getAttempt(json);\r\n    \r\n    System.out.pritnln(attempt);\r\n\r\nOutput:\r\n\r\n    2\r\n","title":"Convert String into Key-Value Pair in Java","body":"<p>Assuming the <code>String</code> structure doesn't change and <code>attempt</code> is the last field, you can work with the <code>String</code> without converting it to some POJO or <code>Map</code>:</p>\n<pre><code>public static String getAttempt(String json) {\n    return json.split(&quot;\\&quot;attempt\\&quot;:&quot;)[1].replaceAll(&quot;[^-?0-9]+&quot;, &quot;&quot;);\n}\n</code></pre>\n<p>Then you can do:</p>\n<pre><code>SString json = &quot;[{type=Callback, output=[{name=prompt, value=InputCode}], input=[{name=IDT1, value=}]}, {type=TextOutputCallback, output=[{name=message, value={\\&quot;current_type\\&quot;:\\&quot;Code\\&quot;,\\&quot;info\\&quot;:{\\&quot;some_key\\&quot;:\\&quot;cf2fc86a\\&quot;,\\&quot;some_type\\&quot;:\\&quot;Code\\&quot;,\\&quot;ph_no\\&quot;:\\&quot;111111111\\&quot;},\\&quot;attempt\\&quot;:2}}]}]&quot;;\n\nString attempt = getAttempt(json);\n\nSystem.out.pritnln(attempt);\n</code></pre>\n<p>Output:</p>\n<pre><code>2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634678021,"creation_date":1634678021,"answer_id":69637717,"question_id":69637206,"body_markdown":"The map from the given input using a regular expression to match and parse some values.\r\n\r\nAssuming that valid keys are written as alphanumeric identifiers with optional underscore inside double quotes, and the values can be placed inside double quotes or as integer numbers, the following pattern may be implemented and used to build the map:\r\n```java\r\nPattern keyValue = Pattern.compile(&quot;(\\&quot;\\\\w+\\&quot;)\\\\s*:\\\\s*(\\&quot;[^\\&quot;]+\\&quot;|\\\\d+(.\\\\d+)?)&quot;);\r\nMap&lt;String, String&gt; map = keyValue.matcher(raw)\r\n    .results()\r\n    .collect(Collectors.toMap(\r\n        kv -&gt; kv.group(1).replace(&quot;\\&quot;&quot;, &quot;&quot;), // strip off double quotes\r\n        kv -&gt; kv.group(2).replace(&quot;\\&quot;&quot;, &quot;&quot;), // strip off double quotes\r\n        (v1, v2) -&gt; v1 // or join if needed String.join(&quot;;&quot;, v1, v2)\r\n    ));\r\n\r\nmap.forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\r\nSystem.out.println(&quot;\\n====\\nattempt=&quot; + map.get(&quot;attempt&quot;));\r\n```\r\nOutput:\r\n```\r\nph_no -&gt; 111111111\r\nsome_key -&gt; cf2fc86a\r\nsome_type -&gt; Code\r\nattempt -&gt; 2\r\ncurrent_type -&gt; Code\r\n\r\n====\r\nattempt=2\r\n```\r\n","title":"Convert String into Key-Value Pair in Java","body":"<p>The map from the given input using a regular expression to match and parse some values.</p>\n<p>Assuming that valid keys are written as alphanumeric identifiers with optional underscore inside double quotes, and the values can be placed inside double quotes or as integer numbers, the following pattern may be implemented and used to build the map:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern keyValue = Pattern.compile(&quot;(\\&quot;\\\\w+\\&quot;)\\\\s*:\\\\s*(\\&quot;[^\\&quot;]+\\&quot;|\\\\d+(.\\\\d+)?)&quot;);\nMap&lt;String, String&gt; map = keyValue.matcher(raw)\n    .results()\n    .collect(Collectors.toMap(\n        kv -&gt; kv.group(1).replace(&quot;\\&quot;&quot;, &quot;&quot;), // strip off double quotes\n        kv -&gt; kv.group(2).replace(&quot;\\&quot;&quot;, &quot;&quot;), // strip off double quotes\n        (v1, v2) -&gt; v1 // or join if needed String.join(&quot;;&quot;, v1, v2)\n    ));\n\nmap.forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\nSystem.out.println(&quot;\\n====\\nattempt=&quot; + map.get(&quot;attempt&quot;));\n</code></pre>\n<p>Output:</p>\n<pre><code>ph_no -&gt; 111111111\nsome_key -&gt; cf2fc86a\nsome_type -&gt; Code\nattempt -&gt; 2\ncurrent_type -&gt; Code\n\n====\nattempt=2\n</code></pre>\n"}],"owner":{"account_id":12942153,"reputation":183,"user_id":9357607,"accept_rate":71,"display_name":"Billy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634718668,"creation_date":1634674825,"question_id":69637206,"body_markdown":"I know I there is a way to split using delimeter but the string I have is similar to JSON.\r\n\r\nThis is the string\r\n\r\n    [{type=Callback, output=[{name=prompt, value=InputCode}], input=[{name=IDT1, value=}]}, {type=TextOutputCallback, output=[{name=message, value={&quot;current_type&quot;:&quot;Code&quot;,&quot;info&quot;:{&quot;some_key&quot;:&quot;cf2fc86a&quot;,&quot;some_type&quot;:&quot;Code&quot;,&quot;ph_no&quot;:&quot;111111111&quot;},&quot;attempt&quot;:2}}]}]\r\n\r\nNow I want to convert it in a way I can extract &quot;attempt&quot;. So, I want to do something like this\r\n\r\n    String attempt = map.get(&quot;attempt&quot;);\r\n\r\nThe problem is that this isn&#39;t a valid JSON cause most of values aren&#39;t in double quotes.\r\nWhat would be the best way to extract that?\r\n","title":"Convert String into Key-Value Pair in Java","body":"<p>I know I there is a way to split using delimeter but the string I have is similar to JSON.</p>\n<p>This is the string</p>\n<pre><code>[{type=Callback, output=[{name=prompt, value=InputCode}], input=[{name=IDT1, value=}]}, {type=TextOutputCallback, output=[{name=message, value={&quot;current_type&quot;:&quot;Code&quot;,&quot;info&quot;:{&quot;some_key&quot;:&quot;cf2fc86a&quot;,&quot;some_type&quot;:&quot;Code&quot;,&quot;ph_no&quot;:&quot;111111111&quot;},&quot;attempt&quot;:2}}]}]\n</code></pre>\n<p>Now I want to convert it in a way I can extract &quot;attempt&quot;. So, I want to do something like this</p>\n<pre><code>String attempt = map.get(&quot;attempt&quot;);\n</code></pre>\n<p>The problem is that this isn't a valid JSON cause most of values aren't in double quotes.\nWhat would be the best way to extract that?</p>\n"},{"tags":["java","spring","request","struts2","struts2-interceptors"],"answers":[{"tags":[],"owner":{"account_id":219120,"reputation":1047,"user_id":475829,"accept_rate":55,"display_name":"mmalmeida"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634718610,"creation_date":1634547357,"answer_id":69613277,"question_id":69570161,"body_markdown":"This is a similar question: [Struts 2 map type conversion][1]\r\n\r\nAnd the answer, which can be [found in struts2&#39; mailing list][2], is still valid.\r\n\r\nIn short - there is a limitation in struts2 to handle this type of map and a custom converter is needed.\r\n\r\n\r\n  [1]:https://stackoverflow.com/questions/12511771/struts-2-map-type-conversion\r\n  [2]: https://www.mail-archive.com/user@struts.apache.org/msg102477.html","title":"What is the correct request parameter for map proprerty inside an object in Struts Action?","body":"<p>This is a similar question: <a href=\"https://stackoverflow.com/questions/12511771/struts-2-map-type-conversion\">Struts 2 map type conversion</a></p>\n<p>And the answer, which can be <a href=\"https://www.mail-archive.com/user@struts.apache.org/msg102477.html\" rel=\"nofollow noreferrer\">found in struts2' mailing list</a>, is still valid.</p>\n<p>In short - there is a limitation in struts2 to handle this type of map and a custom converter is needed.</p>\n"}],"owner":{"account_id":219120,"reputation":1047,"user_id":475829,"accept_rate":55,"display_name":"mmalmeida"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69613277,"answer_count":1,"score":0,"last_activity_date":1634718610,"creation_date":1634212119,"question_id":69570161,"body_markdown":"Consider the following ```AnswerAction```:\r\n\r\n    public class AnswerAction extends CommonAction implements SessionAware {\r\n\r\n\t\tprivate CaseNumbering caseNumbering;\r\n        (...)\r\n    }\r\n\r\nAnd ```FormCaseNumbering```\r\n\r\n    public class FormCaseNumbering implements CaseNumbering {\r\n\r\n    private Duplicable innermostElement;\r\n\tMap&lt;Duplicable, Integer&gt; caseNumbersOfDuplicableFormElements = new HashMap&lt;&gt;();\r\n    (...)\r\n    }\r\n\r\nand ```DuplicableFormElement```\r\n\r\n    public class DuplicableFormElement implements Duplicable {\r\n\r\n\tprotected int id;\r\n\tprotected boolean duplicable;\r\n    }\r\n\r\nIn a Struts2 application where beans are injected via spring:\r\n\r\n    &lt;bean id=&quot;caseNumbering&quot; scope=&quot;prototype&quot;\r\n\t\tclass=&quot;model.FormCaseNumbering&quot;&gt;\r\n\t\t&lt;property name=&quot;innermostElement&quot; ref=&quot;duplicableFormElement&quot;&gt;&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\r\n    &lt;bean id=&quot;answerAction&quot;\tclass=&quot;actions.AnswerAction&quot; scope=&quot;prototype&quot; autowire=&quot;byName&quot;&gt;\r\n\t\t&lt;property name=&quot;caseNumbering&quot; ref=&quot;caseNumbering&quot;/&gt;\r\n\t&lt;/bean&gt;\r\n\r\n**Question:**\r\n\r\nHow can you send a request parameter that populates the action with a caseNumbering containing a Map element with key ```duplicableElement.id=6``` and value ```Integer=1``` ?\r\n\r\n**My attempts:**\r\n\r\nSince the ```caseNumbering``` element is being injected via spring, I have no problem populating ```innermostElement``` , eg this works:\r\n\r\n    (MockHttpServletRequest)request.setParameter(&quot;caseNumbering.innermostElement.id&quot;,&quot;9&quot;);\r\n\r\nHowever the following:\r\n\r\n    (MockHttpServletRequest)request.setParameter(&quot;caseNumbering.caseNumbersOfDuplicableFormElements[6]&quot;,&quot;1&quot;);\r\n\r\nwill fail with:\r\n\r\n&gt; Invalid field value for field &quot;caseNumbering.caseNumbersOfDuplicableFormElements[6]&quot;.\r\n\r\n\r\nI have also tried adding an AnswerAction-conversion.properties with the following, with no luck:\r\n\r\n    Key_caseNumbering.caseNumbersOfDuplicableFormElements=model.DuplicableFormElement\r\n    KeyProperty_caseNumbering.caseNumbersOfDuplicableFormElements=id\r\n    Element_caseNumbering.caseNumbersOfDuplicableFormElements=java.lang.Integer\r\n    CreateIfNull_caseNumbering.caseNumbersOfDuplicableFormElements=true\r\n\r\n\r\nIs this possible in Struts2 (without needing to create a custom converter)?","title":"What is the correct request parameter for map proprerty inside an object in Struts Action?","body":"<p>Consider the following <code>AnswerAction</code>:</p>\n<pre><code>public class AnswerAction extends CommonAction implements SessionAware {\n\n    private CaseNumbering caseNumbering;\n    (...)\n}\n</code></pre>\n<p>And <code>FormCaseNumbering</code></p>\n<pre><code>public class FormCaseNumbering implements CaseNumbering {\n\nprivate Duplicable innermostElement;\nMap&lt;Duplicable, Integer&gt; caseNumbersOfDuplicableFormElements = new HashMap&lt;&gt;();\n(...)\n}\n</code></pre>\n<p>and <code>DuplicableFormElement</code></p>\n<pre><code>public class DuplicableFormElement implements Duplicable {\n\nprotected int id;\nprotected boolean duplicable;\n}\n</code></pre>\n<p>In a Struts2 application where beans are injected via spring:</p>\n<pre><code>&lt;bean id=&quot;caseNumbering&quot; scope=&quot;prototype&quot;\n    class=&quot;model.FormCaseNumbering&quot;&gt;\n    &lt;property name=&quot;innermostElement&quot; ref=&quot;duplicableFormElement&quot;&gt;&lt;/property&gt;\n&lt;/bean&gt;\n\n\n&lt;bean id=&quot;answerAction&quot; class=&quot;actions.AnswerAction&quot; scope=&quot;prototype&quot; autowire=&quot;byName&quot;&gt;\n    &lt;property name=&quot;caseNumbering&quot; ref=&quot;caseNumbering&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p><strong>Question:</strong></p>\n<p>How can you send a request parameter that populates the action with a caseNumbering containing a Map element with key <code>duplicableElement.id=6</code> and value <code>Integer=1</code> ?</p>\n<p><strong>My attempts:</strong></p>\n<p>Since the <code>caseNumbering</code> element is being injected via spring, I have no problem populating <code>innermostElement</code> , eg this works:</p>\n<pre><code>(MockHttpServletRequest)request.setParameter(&quot;caseNumbering.innermostElement.id&quot;,&quot;9&quot;);\n</code></pre>\n<p>However the following:</p>\n<pre><code>(MockHttpServletRequest)request.setParameter(&quot;caseNumbering.caseNumbersOfDuplicableFormElements[6]&quot;,&quot;1&quot;);\n</code></pre>\n<p>will fail with:</p>\n<blockquote>\n<p>Invalid field value for field &quot;caseNumbering.caseNumbersOfDuplicableFormElements[6]&quot;.</p>\n</blockquote>\n<p>I have also tried adding an AnswerAction-conversion.properties with the following, with no luck:</p>\n<pre><code>Key_caseNumbering.caseNumbersOfDuplicableFormElements=model.DuplicableFormElement\nKeyProperty_caseNumbering.caseNumbersOfDuplicableFormElements=id\nElement_caseNumbering.caseNumbersOfDuplicableFormElements=java.lang.Integer\nCreateIfNull_caseNumbering.caseNumbersOfDuplicableFormElements=true\n</code></pre>\n<p>Is this possible in Struts2 (without needing to create a custom converter)?</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":435234,"reputation":8791,"user_id":821722,"accept_rate":86,"display_name":"thatidiotguy"},"score":1,"creation_date":1352835167,"post_id":13367404,"comment_id":18250536,"body_markdown":"This has code smell in my opinion. I would look to your code design.","body":"This has code smell in my opinion. I would look to your code design."},{"owner":{"account_id":137288,"reputation":4528,"user_id":341369,"accept_rate":91,"display_name":"tjg184"},"score":0,"creation_date":1352835246,"post_id":13367404,"comment_id":18250564,"body_markdown":"If you&#39;re doing this, I would look at caching method names.","body":"If you&#39;re doing this, I would look at caching method names."},{"owner":{"account_id":83479,"reputation":2229,"user_id":234037,"accept_rate":70,"display_name":"Seagull"},"score":0,"creation_date":1352835494,"post_id":13367404,"comment_id":18250648,"body_markdown":"@tjg184 There is a reflection caching utility class we use, which caches the method names, however I&#39;d have to extract the possible method name from the database value i.e in case of the value /cars[0]/make, I&#39;d have to extract &quot;cars&quot; from this (using String maniuplation) and pass it to the API, which would look for method names corresponding to &quot;cars&quot; like &quot;getCars&quot;","body":"@tjg184 There is a reflection caching utility class we use, which caches the method names, however I&#39;d have to extract the possible method name from the database value i.e in case of the value /cars[0]/make, I&#39;d have to extract &quot;cars&quot; from this (using String maniuplation) and pass it to the API, which would look for method names corresponding to &quot;cars&quot; like &quot;getCars&quot;"}],"answers":[{"tags":[],"owner":{"account_id":1331010,"reputation":925,"user_id":1274934,"display_name":"JimSan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1352835477,"creation_date":1352835477,"answer_id":13367519,"question_id":13367404,"body_markdown":"Yes, you are using reflection by the call getMethods.  If you are concerned about performance you could profile your code using a java profiler like [JIP][1]\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/jiprof/","title":"Is using Class.getMethods() a heavy operation in Java?","body":"<p>Yes, you are using reflection by the call getMethods.  If you are concerned about performance you could profile your code using a java profiler like <a href=\"http://sourceforge.net/projects/jiprof/\" rel=\"nofollow\">JIP</a></p>\n"},{"tags":[],"owner":{"account_id":1642943,"reputation":19407,"user_id":1515052,"accept_rate":90,"display_name":"Simulant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634718608,"creation_date":1634718608,"answer_id":69642700,"question_id":13367404,"body_markdown":"Yes, java reflection is used to look up the declared method and the lookup is already an expensive operation without invoking the method afterwards.\r\n\r\nHowever the OpenJDK (the default implementation of java) uses an internal cache, so subsequent lookups for declared methods on the same class are way faster.\r\n\r\nAny major framework for Object mapping (to database or JSON) uses reflection, so as long as your application does not deal with high frequency trading in sub-millisecond reaction time, you should be fine with using reflection here.","title":"Is using Class.getMethods() a heavy operation in Java?","body":"<p>Yes, java reflection is used to look up the declared method and the lookup is already an expensive operation without invoking the method afterwards.</p>\n<p>However the OpenJDK (the default implementation of java) uses an internal cache, so subsequent lookups for declared methods on the same class are way faster.</p>\n<p>Any major framework for Object mapping (to database or JSON) uses reflection, so as long as your application does not deal with high frequency trading in sub-millisecond reaction time, you should be fine with using reflection here.</p>\n"}],"owner":{"account_id":83479,"reputation":2229,"user_id":234037,"accept_rate":70,"display_name":"Seagull"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":576,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634718608,"creation_date":1352835047,"question_id":13367404,"body_markdown":"I have a question about the performance of the java &quot;Class&quot; API. I have a requirement where I have database values which could go like `/car` or `/cars[0]/make`. For each of those database values I have to see whether the particular class I am dealing with, has a setter method for `/car` like `setCar` ( or for `/cars[0]/make` a `setCars` method). Currently, I just iteratre through all the declared methods of the class (using `getMethods`) and then do some string checking to see using the method names match the database value. I do not invoke any method, when I do this. Although, this is using the `Method` API, it is really not doing any method invokation. Is this still a heavy operation in terms of java reflection? To paraphrase this, is this java reflection in use? ","title":"Is using Class.getMethods() a heavy operation in Java?","body":"<p>I have a question about the performance of the java \"Class\" API. I have a requirement where I have database values which could go like <code>/car</code> or <code>/cars[0]/make</code>. For each of those database values I have to see whether the particular class I am dealing with, has a setter method for <code>/car</code> like <code>setCar</code> ( or for <code>/cars[0]/make</code> a <code>setCars</code> method). Currently, I just iteratre through all the declared methods of the class (using <code>getMethods</code>) and then do some string checking to see using the method names match the database value. I do not invoke any method, when I do this. Although, this is using the <code>Method</code> API, it is really not doing any method invokation. Is this still a heavy operation in terms of java reflection? To paraphrase this, is this java reflection in use? </p>\n"},{"tags":["java","swing","awt"],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634718517,"creation_date":1634718517,"answer_id":69642680,"question_id":69642132,"body_markdown":"If you&#39;re not going to make is of anonymous classes for each button, then you should look at the `actionCommand` of the `ActionEvent`\r\n\r\n    public void actionPerformed(ActionEvent e) {\r\n        String textThere = display.getText(), textThereExtra = displayExtra.getText();\r\n        String additionalText = &quot;&quot;;\r\n\r\n        if (&quot;Enter&quot;.equalsIgnoreCase(e.getActionCommand())) {\r\n            System.out.println(textThereExtra);\r\n            System.out.println(textThere);\r\n            if (textThereExtra.equals(PINCODE)) {\r\n                Authorized();\r\n            } else {\r\n                Unauthorized();\r\n            }\r\n        } else if (&quot;Clear&quot;.equalsIgnoreCase(e.getActionCommand())) {\r\n            textThere = &quot;&quot;;\r\n            textThereExtra = &quot;&quot;;\r\n            display.setText(&quot;&quot;);\r\n            displayExtra.setText(&quot;&quot;);\r\n        } else {\r\n            for (int a = 0; a &lt; buttonList.size(); a++) {\r\n                if (e.getSource().equals(buttonList.get(a)) &amp;&amp; a != 11 &amp;&amp; a != 9) {\r\n                    additionalText = buttonList.get(a).getText();\r\n                }\r\n            }\r\n            display.setText(textThere.concat(&quot;*&quot;));\r\n            displayExtra.setText(textThereExtra.concat(additionalText));\r\n        }\r\n    }\r\n\r\n*nb: This is quick re-working of your code, which might not be 100% correct for your needs, but should be give you push in the right direction*","title":"How do you show the exact number of asterisk on the textfield to the numbers pressed and not add an additional asterisk when enter is pressed?","body":"<p>If you're not going to make is of anonymous classes for each button, then you should look at the <code>actionCommand</code> of the <code>ActionEvent</code></p>\n<pre><code>public void actionPerformed(ActionEvent e) {\n    String textThere = display.getText(), textThereExtra = displayExtra.getText();\n    String additionalText = &quot;&quot;;\n\n    if (&quot;Enter&quot;.equalsIgnoreCase(e.getActionCommand())) {\n        System.out.println(textThereExtra);\n        System.out.println(textThere);\n        if (textThereExtra.equals(PINCODE)) {\n            Authorized();\n        } else {\n            Unauthorized();\n        }\n    } else if (&quot;Clear&quot;.equalsIgnoreCase(e.getActionCommand())) {\n        textThere = &quot;&quot;;\n        textThereExtra = &quot;&quot;;\n        display.setText(&quot;&quot;);\n        displayExtra.setText(&quot;&quot;);\n    } else {\n        for (int a = 0; a &lt; buttonList.size(); a++) {\n            if (e.getSource().equals(buttonList.get(a)) &amp;&amp; a != 11 &amp;&amp; a != 9) {\n                additionalText = buttonList.get(a).getText();\n            }\n        }\n        display.setText(textThere.concat(&quot;*&quot;));\n        displayExtra.setText(textThereExtra.concat(additionalText));\n    }\n}\n</code></pre>\n<p><em>nb: This is quick re-working of your code, which might not be 100% correct for your needs, but should be give you push in the right direction</em></p>\n"}],"owner":{"account_id":23081596,"reputation":25,"user_id":17193793,"display_name":"eiriinjye"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69642680,"answer_count":1,"score":0,"last_activity_date":1634718517,"creation_date":1634715929,"question_id":69642132,"body_markdown":"My problem now is how do you show the exact number of asterisk on the textfield to how many numbers were pressed and not add an additional asterisk? Because it keeps on adding another asterisk on the textfield whenever I press the enter button. I have been trying where and what should I put to avoid adding an additional asterisk whenever I press the enter button\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Container;\r\n    import java.awt.Dimension;\r\n    import java.awt.GridLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.ArrayList;\r\n    import javax.swing.*;\r\n\r\n    public class Pincode extends JPanel implements ActionListener {\r\n    JLabel display, displayExtra;\r\n    JButton numButton;\r\n    JButton clr;\r\n    JButton etr;\r\n    String displayContent = &quot;&quot;;\r\n    String[] numPadContent = {&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;CLEAR&quot;, &quot;0&quot;, &quot;ENTER&quot;};\r\n    ArrayList&lt;JButton&gt; buttonList;\r\n    String PINCODE = &quot;061904&quot;;\r\n    JFrame f;\r\n    Pincode(Container pane) {\r\n        pane.setPreferredSize(new Dimension(320, 335));\r\n        display = new JLabel(displayContent);\r\n        displayExtra = new JLabel(displayContent);\r\n        display.setPreferredSize(new Dimension(320, 30));\r\n        display.setBorder(BorderFactory.createLoweredBevelBorder());\r\n        pane.add(display, BorderLayout.PAGE_START);\r\n        buttonList = new ArrayList&lt;JButton&gt;(12);\r\n        JPanel numberPanel = new JPanel();\r\n        numberPanel.setLayout(new GridLayout(4, 3, 0, 0));\r\n        numberPanel.setPreferredSize(new Dimension(320, 260));\r\n        for (int i = 0; i &lt; numPadContent.length; i++) {\r\n            numButton = new JButton(numPadContent[i]);\r\n            buttonList.add(numButton);\r\n        }\r\n        for (int n = 0; n &lt; buttonList.size(); n++) {\r\n            buttonList.get(n).addActionListener(this);\r\n            numberPanel.add(buttonList.get(n));\r\n        }\r\n        pane.add(numberPanel, BorderLayout.LINE_END);\r\n        clr = new JButton(&quot;Clear&quot;);\r\n        clr.setPreferredSize(new Dimension(160, 30));\r\n        clr.addActionListener(this);\r\n        etr = new JButton(&quot;Enter&quot;);\r\n        etr.setPreferredSize(new Dimension(160, 30));\r\n        etr.addActionListener(this);\r\n        pane.add(clr);\r\n        pane.add(etr);\r\n    }\r\n    public void Authorized(){\r\n        JOptionPane.showMessageDialog(f,&quot;You are authorized&quot;);\r\n    }\r\n    public void Unauthorized(){\r\n        JOptionPane.showMessageDialog(f,&quot;You are not authorized!!!&quot;);\r\n    }\r\n    public void actionPerformed(ActionEvent e) {\r\n        String textThere = display.getText(), textThereExtra = displayExtra.getText();\r\n        String additionalText = &quot;&quot;;\r\n        for (int a = 0; a &lt; buttonList.size(); a++) {\r\n            if (e.getSource().equals(buttonList.get(a)) &amp;&amp; a!=11 &amp;&amp; a!=9) {\r\n                additionalText = buttonList.get(a).getText();\r\n            }\r\n        }\r\n        int flag = 0;\r\n        if (e.getSource().equals(buttonList.get(9))) {\r\n            textThere = &quot;&quot;;\r\n            textThereExtra = &quot;&quot;;\r\n            flag = 1;\r\n        }\r\n        if(flag!=1) {\r\n            display.setText(textThere.concat(&quot;*&quot;));\r\n            displayExtra.setText(textThereExtra.concat(additionalText));\r\n        }\r\n        else\r\n        {\r\n            display.setText(textThere);\r\n            displayExtra.setText(textThereExtra);\r\n        }\r\n\r\n        if (e.getSource().equals(buttonList.get(11))) {\r\n            System.out.println(textThereExtra);\r\n            System.out.println(textThere);\r\n            if(textThereExtra.equals(PINCODE)) {\r\n                Authorized();\r\n            }\r\n            else {\r\n                Unauthorized();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        JFrame frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.getContentPane().add(new Pincode(frame));\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n    }\r\n    }\r\n\r\nPlease help me with my code. Thank you so much!","title":"How do you show the exact number of asterisk on the textfield to the numbers pressed and not add an additional asterisk when enter is pressed?","body":"<p>My problem now is how do you show the exact number of asterisk on the textfield to how many numbers were pressed and not add an additional asterisk? Because it keeps on adding another asterisk on the textfield whenever I press the enter button. I have been trying where and what should I put to avoid adding an additional asterisk whenever I press the enter button</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Container;\nimport java.awt.Dimension;\nimport java.awt.GridLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.ArrayList;\nimport javax.swing.*;\n\npublic class Pincode extends JPanel implements ActionListener {\nJLabel display, displayExtra;\nJButton numButton;\nJButton clr;\nJButton etr;\nString displayContent = &quot;&quot;;\nString[] numPadContent = {&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;CLEAR&quot;, &quot;0&quot;, &quot;ENTER&quot;};\nArrayList&lt;JButton&gt; buttonList;\nString PINCODE = &quot;061904&quot;;\nJFrame f;\nPincode(Container pane) {\n    pane.setPreferredSize(new Dimension(320, 335));\n    display = new JLabel(displayContent);\n    displayExtra = new JLabel(displayContent);\n    display.setPreferredSize(new Dimension(320, 30));\n    display.setBorder(BorderFactory.createLoweredBevelBorder());\n    pane.add(display, BorderLayout.PAGE_START);\n    buttonList = new ArrayList&lt;JButton&gt;(12);\n    JPanel numberPanel = new JPanel();\n    numberPanel.setLayout(new GridLayout(4, 3, 0, 0));\n    numberPanel.setPreferredSize(new Dimension(320, 260));\n    for (int i = 0; i &lt; numPadContent.length; i++) {\n        numButton = new JButton(numPadContent[i]);\n        buttonList.add(numButton);\n    }\n    for (int n = 0; n &lt; buttonList.size(); n++) {\n        buttonList.get(n).addActionListener(this);\n        numberPanel.add(buttonList.get(n));\n    }\n    pane.add(numberPanel, BorderLayout.LINE_END);\n    clr = new JButton(&quot;Clear&quot;);\n    clr.setPreferredSize(new Dimension(160, 30));\n    clr.addActionListener(this);\n    etr = new JButton(&quot;Enter&quot;);\n    etr.setPreferredSize(new Dimension(160, 30));\n    etr.addActionListener(this);\n    pane.add(clr);\n    pane.add(etr);\n}\npublic void Authorized(){\n    JOptionPane.showMessageDialog(f,&quot;You are authorized&quot;);\n}\npublic void Unauthorized(){\n    JOptionPane.showMessageDialog(f,&quot;You are not authorized!!!&quot;);\n}\npublic void actionPerformed(ActionEvent e) {\n    String textThere = display.getText(), textThereExtra = displayExtra.getText();\n    String additionalText = &quot;&quot;;\n    for (int a = 0; a &lt; buttonList.size(); a++) {\n        if (e.getSource().equals(buttonList.get(a)) &amp;&amp; a!=11 &amp;&amp; a!=9) {\n            additionalText = buttonList.get(a).getText();\n        }\n    }\n    int flag = 0;\n    if (e.getSource().equals(buttonList.get(9))) {\n        textThere = &quot;&quot;;\n        textThereExtra = &quot;&quot;;\n        flag = 1;\n    }\n    if(flag!=1) {\n        display.setText(textThere.concat(&quot;*&quot;));\n        displayExtra.setText(textThereExtra.concat(additionalText));\n    }\n    else\n    {\n        display.setText(textThere);\n        displayExtra.setText(textThereExtra);\n    }\n\n    if (e.getSource().equals(buttonList.get(11))) {\n        System.out.println(textThereExtra);\n        System.out.println(textThere);\n        if(textThereExtra.equals(PINCODE)) {\n            Authorized();\n        }\n        else {\n            Unauthorized();\n        }\n    }\n\n}\n\npublic static void main(String[] args) {\n    JFrame frame = new JFrame();\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.getContentPane().add(new Pincode(frame));\n    frame.pack();\n    frame.setVisible(true);\n}\n}\n</code></pre>\n<p>Please help me with my code. Thank you so much!</p>\n"},{"tags":["java","swing"],"answers":[{"tags":[],"owner":{"account_id":19582619,"reputation":1534,"user_id":14331334,"display_name":"QuantumMecha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634713284,"creation_date":1634713284,"answer_id":69641616,"question_id":69641368,"body_markdown":"Set the background to no color, i.e. null:\r\n```\r\ngetContentPane().setBackground(null);\r\n```","title":"How to set the background color of JFrame to its blank value?","body":"<p>Set the background to no color, i.e. null:</p>\n<pre><code>getContentPane().setBackground(null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634718413,"creation_date":1634713713,"answer_id":69641698,"question_id":69641368,"body_markdown":"&quot;_Everything I&#39;ve been able to find tells me how to change the value to a different color but not how to remove it._&quot; - This is because you shouldn&#39;t. Even the &quot;default&quot; background color is a color and I think you should not try to &quot;remove&quot; it in any way.\r\n\r\nYou can of course set the background color of the `JFrame` (or more specifically, the frame&#39;s content pane) back to its default value.\r\nFor this, you can use one of two approaches:\r\n\r\n**1. Simply save the default value before you modify it**\r\n\r\n```java\r\npublic class ColorFrame extends JFrame {\r\n    JButton red, green, blue, clear;\r\n    Color defaultColor;\r\n\r\n    ...\r\n\r\n    ActionListener yourListener = new ActionListener() {\r\n        public void actionPerformed (ActionEvent event) {\r\n            // save the frame background default value before changing it\r\n            defaultColor = getContentPane().getBackground();\r\n            // modify the color as needed and use the stored default later as needed\r\n```\r\n\r\n**2. Retrieve the default background color from the UIManager**\r\n\r\nEach swing component&#39;s default properties are stored in the `UIManager`, specific to each look and feel. Knowing this, you can easily retrieve these default values as needed:\r\n\r\n```java\r\nColor defaultColor = UIManager.getColor(&quot;Panel.background&quot;);\r\ngetContentPane().setBackground(defaultColor);\r\n```\r\n_____________\r\nSome additional considerations regarding your code:\r\n- Use [`Action`](https://docs.oracle.com/javase/tutorial/uiswing/misc/action.html)s or at least separate `ActionListener`s if you want different behavior for each button. Having a shared `ActionListener` which then checks from which component the action was fired from is not recommended.\r\n- Don&#39;t use `setSize()`. Instead, let the `LayoutManager` size the components and frame for you by calling `pack()` on the `JFrame` after adding all components.\r\n- Avoid extending `JFrame` if there is no need to. (I currently see no need to in your code, since you don&#39;t fundamentally change the default behaviour of the `JFrame`)","title":"How to set the background color of JFrame to its blank value?","body":"<p>&quot;<em>Everything I've been able to find tells me how to change the value to a different color but not how to remove it.</em>&quot; - This is because you shouldn't. Even the &quot;default&quot; background color is a color and I think you should not try to &quot;remove&quot; it in any way.</p>\n<p>You can of course set the background color of the <code>JFrame</code> (or more specifically, the frame's content pane) back to its default value.\nFor this, you can use one of two approaches:</p>\n<p><strong>1. Simply save the default value before you modify it</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ColorFrame extends JFrame {\n    JButton red, green, blue, clear;\n    Color defaultColor;\n\n    ...\n\n    ActionListener yourListener = new ActionListener() {\n        public void actionPerformed (ActionEvent event) {\n            // save the frame background default value before changing it\n            defaultColor = getContentPane().getBackground();\n            // modify the color as needed and use the stored default later as needed\n</code></pre>\n<p><strong>2. Retrieve the default background color from the UIManager</strong></p>\n<p>Each swing component's default properties are stored in the <code>UIManager</code>, specific to each look and feel. Knowing this, you can easily retrieve these default values as needed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Color defaultColor = UIManager.getColor(&quot;Panel.background&quot;);\ngetContentPane().setBackground(defaultColor);\n</code></pre>\n<hr />\n<p>Some additional considerations regarding your code:</p>\n<ul>\n<li>Use <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/action.html\" rel=\"nofollow noreferrer\"><code>Action</code></a>s or at least separate <code>ActionListener</code>s if you want different behavior for each button. Having a shared <code>ActionListener</code> which then checks from which component the action was fired from is not recommended.</li>\n<li>Don't use <code>setSize()</code>. Instead, let the <code>LayoutManager</code> size the components and frame for you by calling <code>pack()</code> on the <code>JFrame</code> after adding all components.</li>\n<li>Avoid extending <code>JFrame</code> if there is no need to. (I currently see no need to in your code, since you don't fundamentally change the default behaviour of the <code>JFrame</code>)</li>\n</ul>\n"}],"owner":{"account_id":23087375,"reputation":13,"user_id":17198715,"display_name":"RedLink29"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69641698,"answer_count":2,"score":1,"last_activity_date":1634718436,"creation_date":1634711965,"question_id":69641368,"body_markdown":"I want to use a &#39;Clear&#39; button to clear the background color of a `JFrame` after using a &#39;color&#39; button to add color to the background. Everything I&#39;ve been able to find tells me how to change the value to a different color but not how to remove it.\r\n\r\n```\r\nimport java.util.*;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\n\r\npublic class ColorFrame extends JFrame {\r\n\tJButton red, green, blue, clear;\r\n\t\r\n\tpublic ColorFrame() {\r\n\t\tsuper(&quot;ColorFrame&quot;);\r\n\t\t\r\n\t\tsetSize(322, 122);\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tFlowLayout flo = new FlowLayout(); \r\n\t\tsetLayout(flo);\r\n\t\tred = new JButton (&quot;Red&quot;);\r\n\t\tadd(red);\r\n\t\tgreen = new JButton (&quot;Green&quot;);\r\n\t\tadd(green);\r\n\t\tblue = new JButton(&quot;Blue&quot;);\r\n\t\tadd(blue);\r\n\t\tclear = new JButton(&quot;Clear&quot;);\r\n\t\tadd(clear);\r\n\t\r\n\t\tActionListener act = new ActionListener() {\r\n\t\t\tpublic void actionPerformed (ActionEvent event) {\r\n\t\t\t\tif(event.getSource() == red) {\r\n\t\t\t\t\tgetContentPane().setBackground(Color.RED);\r\n\t\t\t\t}\r\n\t\t\t\tif(event.getSource() == green) {\r\n\t\t\t\t\tgetContentPane().setBackground(Color.GREEN);\r\n\t\t\t\t}\r\n\t\t\t\tif(event.getSource() == blue) {\r\n\t\t\t\t\tgetContentPane().setBackground(Color.BLUE);\r\n\t\t\t\t}\t\r\n\t\t\t\tif(event.getSource() == clear) {\r\n\t\t\t\t\t//clear background color\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tred.addActionListener(act);\r\n\t\tgreen.addActionListener(act);\r\n\t\tblue.addActionListener(act);\r\n\t\tclear.addActionListener(act);\r\n\r\n\t\tsetVisible(true);\r\n\t}\r\n\tpublic static void main(String arguments[]) {\r\n\t\tnew ColorFrame();\r\n\t}\r\n}\r\n```\r\n","title":"How to set the background color of JFrame to its blank value?","body":"<p>I want to use a 'Clear' button to clear the background color of a <code>JFrame</code> after using a 'color' button to add color to the background. Everything I've been able to find tells me how to change the value to a different color but not how to remove it.</p>\n<pre><code>import java.util.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\npublic class ColorFrame extends JFrame {\n    JButton red, green, blue, clear;\n    \n    public ColorFrame() {\n        super(&quot;ColorFrame&quot;);\n        \n        setSize(322, 122);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        FlowLayout flo = new FlowLayout(); \n        setLayout(flo);\n        red = new JButton (&quot;Red&quot;);\n        add(red);\n        green = new JButton (&quot;Green&quot;);\n        add(green);\n        blue = new JButton(&quot;Blue&quot;);\n        add(blue);\n        clear = new JButton(&quot;Clear&quot;);\n        add(clear);\n    \n        ActionListener act = new ActionListener() {\n            public void actionPerformed (ActionEvent event) {\n                if(event.getSource() == red) {\n                    getContentPane().setBackground(Color.RED);\n                }\n                if(event.getSource() == green) {\n                    getContentPane().setBackground(Color.GREEN);\n                }\n                if(event.getSource() == blue) {\n                    getContentPane().setBackground(Color.BLUE);\n                }   \n                if(event.getSource() == clear) {\n                    //clear background color\n                }\n            }\n        };\n\n        red.addActionListener(act);\n        green.addActionListener(act);\n        blue.addActionListener(act);\n        clear.addActionListener(act);\n\n        setVisible(true);\n    }\n    public static void main(String arguments[]) {\n        new ColorFrame();\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":13475094,"reputation":1945,"user_id":9722336,"display_name":"gtxtreme"},"score":0,"creation_date":1634710735,"post_id":69640984,"comment_id":123094699,"body_markdown":"Please add some reproducible code","body":"Please add some reproducible code"},{"owner":{"account_id":11274294,"reputation":485,"user_id":8268759,"display_name":"Nitin Verma"},"score":0,"creation_date":1634713170,"post_id":69640984,"comment_id":123096282,"body_markdown":"what is movieVH.initial? is it a text view or image view or what? show your xml, a little bit of more code. If it is a text view then instead of setting background color, change text color.","body":"what is movieVH.initial? is it a text view or image view or what? show your xml, a little bit of more code. If it is a text view then instead of setting background color, change text color."}],"answers":[{"tags":[],"owner":{"account_id":20231096,"reputation":344,"user_id":14837619,"display_name":"Yechiel babani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634718270,"creation_date":1634718270,"answer_id":69642622,"question_id":69640984,"body_markdown":"You can import \r\n\r\n    import android.graphics.Color;\r\n    import java.util.Random;\r\n\r\nAnd then use \r\n\r\n    Random r = new Random();\r\n    datePicker.setBackgroundColor(new Color(r.nextInt(255), r.nextInt(255), r.nextInt(255)));","title":"Android random color for recyclerview textview","body":"<p>You can import</p>\n<pre><code>import android.graphics.Color;\nimport java.util.Random;\n</code></pre>\n<p>And then use</p>\n<pre><code>Random r = new Random();\ndatePicker.setBackgroundColor(new Color(r.nextInt(255), r.nextInt(255), r.nextInt(255)));\n</code></pre>\n"}],"owner":{"account_id":11293948,"reputation":1337,"user_id":8281996,"display_name":"Vishali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1634718270,"creation_date":1634709537,"question_id":69640984,"body_markdown":"     \r\n\r\n           Random rnd = new Random();\r\n               int currentStrokeColor = Color.argb(255, rnd.nextInt(256), rnd.nextInt(256), rnd.nextInt(256));\r\n\r\n                movieVH.initial.setBackgroundColor(currentStrokeColor);\r\n\r\nI am implementing recyclerview with textview and buttons and tried to give random colors for textview but it doesn&#39;t appearing","title":"Android random color for recyclerview textview","body":"<pre><code>       Random rnd = new Random();\n           int currentStrokeColor = Color.argb(255, rnd.nextInt(256), rnd.nextInt(256), rnd.nextInt(256));\n\n            movieVH.initial.setBackgroundColor(currentStrokeColor);\n</code></pre>\n<p>I am implementing recyclerview with textview and buttons and tried to give random colors for textview but it doesn't appearing</p>\n"},{"tags":["java","ssl"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1503571784,"post_id":45859482,"comment_id":78677009,"body_markdown":"You&#39;ve messed up your security.providers file.","body":"You&#39;ve messed up your security.providers file."},{"owner":{"account_id":3375783,"reputation":1620,"user_id":2833924,"accept_rate":56,"display_name":"siom"},"score":0,"creation_date":1503572031,"post_id":45859482,"comment_id":78677198,"body_markdown":"What JRE are you using? What does -Djavax.net.debug=all provide?","body":"What JRE are you using? What does -Djavax.net.debug=all provide?"},{"owner":{"account_id":1788336,"reputation":9155,"user_id":1629262,"accept_rate":77,"display_name":"doptimusprime"},"score":0,"creation_date":1503572498,"post_id":45859482,"comment_id":78677536,"body_markdown":"@siom Java(TM) SE Runtime Environment (build 1.8.0_144-b01)","body":"@siom Java(TM) SE Runtime Environment (build 1.8.0_144-b01)"}],"answers":[{"tags":[],"owner":{"account_id":1788336,"reputation":9155,"user_id":1629262,"accept_rate":77,"display_name":"doptimusprime"},"down_vote_count":5,"up_vote_count":0,"is_accepted":true,"score":-5,"last_activity_date":1634704724,"creation_date":1503575828,"answer_id":45861010,"question_id":45859482,"body_markdown":"I realized that I got exception because of:\r\n\r\n     @RunWith(PowerMockRunner.class)\r\n     @PrepareForTest({CloudWatchHelper.class})","title":"NoSuchAlgorithmException in SSLContext.getInstance","body":"<p>I realized that I got exception because of:</p>\n<pre><code> @RunWith(PowerMockRunner.class)\n @PrepareForTest({CloudWatchHelper.class})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2362617,"reputation":2331,"user_id":2068985,"accept_rate":86,"display_name":"Nat Dempkowski"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1537904472,"creation_date":1537904472,"answer_id":52505623,"question_id":45859482,"body_markdown":"Adding the following annotation to my test class fixed this issue for me:\r\n\r\n    @PowerMockIgnore({ &quot;javax.net.ssl.*&quot;, &quot;javax.security.*&quot; })\r\n","title":"NoSuchAlgorithmException in SSLContext.getInstance","body":"<p>Adding the following annotation to my test class fixed this issue for me:</p>\n\n<pre><code>@PowerMockIgnore({ \"javax.net.ssl.*\", \"javax.security.*\" })\n</code></pre>\n"}],"owner":{"account_id":1788336,"reputation":9155,"user_id":1629262,"accept_rate":77,"display_name":"doptimusprime"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6007,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":45861010,"answer_count":2,"score":5,"last_activity_date":1634717874,"creation_date":1503571318,"question_id":45859482,"body_markdown":"I am getting `NoSuchAlgorithmException` in the following code:\r\n\r\n\r\n     @RunWith(PowerMockRunner.class)\r\n     @PrepareForTest({CloudWatchHelper.class})\r\n     class MyTest {\r\n     ....\r\n     final SSLContext sslcontext = SSLContext.getInstance(&quot;TLS&quot;);\r\n     ...\r\n     }\r\n\r\nStack trace:\r\n\r\n    [junit] class configured for SSLContext: sun.security.ssl.SSLContextImpl$TLSContext not a SSLContext\r\n    [junit] java.security.NoSuchAlgorithmException: class configured for SSLContext: sun.security.ssl.SSLContextImpl$TLSContext not a SSLContext\r\n    [junit] \tat sun.security.jca.GetInstance.checkSuperClass(GetInstance.java:260)\r\n    [junit] \tat sun.security.jca.GetInstance.getInstance(GetInstance.java:237)\r\n    [junit] \tat sun.security.jca.GetInstance.getInstance(GetInstance.java:164)\r\n    [junit] \tat javax.net.ssl.SSLContext.getInstance(SSLContext.java:156)\r\n\r\nI want to know what is the reason behind `NoSuchAlgorithmException`.","title":"NoSuchAlgorithmException in SSLContext.getInstance","body":"<p>I am getting <code>NoSuchAlgorithmException</code> in the following code:</p>\n\n<pre><code> @RunWith(PowerMockRunner.class)\n @PrepareForTest({CloudWatchHelper.class})\n class MyTest {\n ....\n final SSLContext sslcontext = SSLContext.getInstance(\"TLS\");\n ...\n }\n</code></pre>\n\n<p>Stack trace:</p>\n\n<pre><code>[junit] class configured for SSLContext: sun.security.ssl.SSLContextImpl$TLSContext not a SSLContext\n[junit] java.security.NoSuchAlgorithmException: class configured for SSLContext: sun.security.ssl.SSLContextImpl$TLSContext not a SSLContext\n[junit]     at sun.security.jca.GetInstance.checkSuperClass(GetInstance.java:260)\n[junit]     at sun.security.jca.GetInstance.getInstance(GetInstance.java:237)\n[junit]     at sun.security.jca.GetInstance.getInstance(GetInstance.java:164)\n[junit]     at javax.net.ssl.SSLContext.getInstance(SSLContext.java:156)\n</code></pre>\n\n<p>I want to know what is the reason behind <code>NoSuchAlgorithmException</code>.</p>\n"},{"tags":["java","random","graph","probability","connectivity"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1634717273,"post_id":69642078,"comment_id":123096974,"body_markdown":"You might want to reread [ask] and give more focus to your question. In it&#39;s current state I would say you should start with a concept of how the graph woud be generated (what exactly are the random portions), how you would want to represent it and how connectivity would be determined (Is it the same value for a certain number of nodes? Do graphs need to converge? Are they connected if they cross each other?) . The language you&#39;re doing it in would be the last thing to decide on, just pick what you&#39;re most familiar with.","body":"You might want to reread <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and give more focus to your question. In it&#39;s current state I would say you should start with a concept of how the graph woud be generated (what exactly are the random portions), how you would want to represent it and how connectivity would be determined (Is it the same value for a certain number of nodes? Do graphs need to converge? Are they connected if they cross each other?) . The language you&#39;re doing it in would be the last thing to decide on, just pick what you&#39;re most familiar with."}],"answers":[{"tags":[],"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634717765,"creation_date":1634717765,"answer_id":69642521,"question_id":69642078,"body_markdown":"Have you tried implementing the random geometric graph pseudocode [on wikipedia](https://en.wikipedia.org/wiki/Random_geometric_graph) in Java?. It appears that authors of your figure have built several random (say, n=100; the source should have more details) graphs of `x` nodes in a unit square connected to all other nodes at distance `r` or less, for different values of `x` and `r`, and then plotted a line for each `r`. The most straightforward way to calculate `P[this is connected]` is to approximate it by `count_of_connected_with_these_parameters / count_of_disconnected_with_these_parameters`.\r\n\r\nSo my recommendation would be to:\r\n1. write a `generateRandomGeometricGraphInUnitSquare(int nPoints, float r)` that returns a random geometric `Graph` with the given settings. I would use `JGraphT` to simplify implementation, since it already has a `Graph` class you can use.\r\n2. build a loop that iterates through possible values of `x` and `r`, and for each combination of those values, performs `n` experiments to calculate the probability that a graph with those settings will be connected. If using `JGraphT`, you can know that just by calling [`isConnected`](https://jgrapht.org/javadoc/org.jgrapht.core/org/jgrapht/alg/connectivity/ConnectivityInspector.html#isConnected()) after passing your graph to a `ConnectivityInspector`. Output values that can be plotted using a spreadsheet or any other plotting mechanism of your choice.\r\n\r\nIn pseudocode, part 2 would look like:\r\n\r\n     for (float r = 0.05f; r &lt; 0.5f ; r += 0.1f) {\r\n         for (int x = 5; x &lt;= 100; x+= 5) {\r\n             // perform experiment\r\n             int connectedCount = 0;\r\n             for (int i = 0; i &lt; nRepetitions; i++) {\r\n                 if (isGraphConnected(generateRandomGeometricGraphInUnitSquare(x, r)) {\r\n                    connectedCount ++;\r\n                 }\r\n             }\r\n             // generate output\r\n             System.out.println(&quot;&quot; + r + &quot;, &quot; + x + &quot;, &quot; + (connectedCount*1.0/nRepetitions));\r\n         }\r\n     }\r\n\r\nIf you need more details, ask new, more focused questions. ","title":"Generate Geometric Random Graphs and check the connectivity","body":"<p>Have you tried implementing the random geometric graph pseudocode <a href=\"https://en.wikipedia.org/wiki/Random_geometric_graph\" rel=\"nofollow noreferrer\">on wikipedia</a> in Java?. It appears that authors of your figure have built several random (say, n=100; the source should have more details) graphs of <code>x</code> nodes in a unit square connected to all other nodes at distance <code>r</code> or less, for different values of <code>x</code> and <code>r</code>, and then plotted a line for each <code>r</code>. The most straightforward way to calculate <code>P[this is connected]</code> is to approximate it by <code>count_of_connected_with_these_parameters / count_of_disconnected_with_these_parameters</code>.</p>\n<p>So my recommendation would be to:</p>\n<ol>\n<li>write a <code>generateRandomGeometricGraphInUnitSquare(int nPoints, float r)</code> that returns a random geometric <code>Graph</code> with the given settings. I would use <code>JGraphT</code> to simplify implementation, since it already has a <code>Graph</code> class you can use.</li>\n<li>build a loop that iterates through possible values of <code>x</code> and <code>r</code>, and for each combination of those values, performs <code>n</code> experiments to calculate the probability that a graph with those settings will be connected. If using <code>JGraphT</code>, you can know that just by calling <a href=\"https://jgrapht.org/javadoc/org.jgrapht.core/org/jgrapht/alg/connectivity/ConnectivityInspector.html#isConnected()\" rel=\"nofollow noreferrer\"><code>isConnected</code></a> after passing your graph to a <code>ConnectivityInspector</code>. Output values that can be plotted using a spreadsheet or any other plotting mechanism of your choice.</li>\n</ol>\n<p>In pseudocode, part 2 would look like:</p>\n<pre><code> for (float r = 0.05f; r &lt; 0.5f ; r += 0.1f) {\n     for (int x = 5; x &lt;= 100; x+= 5) {\n         // perform experiment\n         int connectedCount = 0;\n         for (int i = 0; i &lt; nRepetitions; i++) {\n             if (isGraphConnected(generateRandomGeometricGraphInUnitSquare(x, r)) {\n                connectedCount ++;\n             }\n         }\n         // generate output\n         System.out.println(&quot;&quot; + r + &quot;, &quot; + x + &quot;, &quot; + (connectedCount*1.0/nRepetitions));\n     }\n }\n</code></pre>\n<p>If you need more details, ask new, more focused questions.</p>\n"}],"owner":{"account_id":8354005,"reputation":59,"user_id":6275037,"accept_rate":50,"display_name":"Arwa Moath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1634717765,"creation_date":1634715635,"question_id":69642078,"body_markdown":"I want to re-generate the graph below which consists of several nodes (say 1000) that&#39;s connected\r\nthe program will do the random graph then check if its connected or not \r\nthen I want to generate a connectivity graph for all the graphs done before and were connected with respect to the value r  \r\nlike in the picture below\r\n\r\n[![different values of r][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/O21Pv.png\r\n\r\nI would like to use java programming language or python whatever easies, but I dont know how to start and what to do","title":"Generate Geometric Random Graphs and check the connectivity","body":"<p>I want to re-generate the graph below which consists of several nodes (say 1000) that's connected\nthe program will do the random graph then check if its connected or not\nthen I want to generate a connectivity graph for all the graphs done before and were connected with respect to the value r<br />\nlike in the picture below</p>\n<p><a href=\"https://i.stack.imgur.com/O21Pv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O21Pv.png\" alt=\"different values of r\" /></a></p>\n<p>I would like to use java programming language or python whatever easies, but I dont know how to start and what to do</p>\n"},{"tags":["java","macos","swing","jframe"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1359200120,"post_id":14536445,"comment_id":20273143,"body_markdown":"Take a look at `JFrame#setExtendedState`, passing it `JFrame#ICONIFIED`, which should &quot;minimize&quot; the frame, allowing it to be automatically restored by the OS","body":"Take a look at <code>JFrame#setExtendedState</code>, passing it <code>JFrame#ICONIFIED</code>, which should &quot;minimize&quot; the frame, allowing it to be automatically restored by the OS"},{"owner":{"account_id":1022746,"reputation":657,"user_id":1032691,"accept_rate":54,"display_name":"mythbu"},"score":0,"creation_date":1359200725,"post_id":14536445,"comment_id":20273275,"body_markdown":"This brings the frame only in the dock. That means: the dock contains then the icon of the program and the small program window.","body":"This brings the frame only in the dock. That means: the dock contains then the icon of the program and the small program window."},{"owner":{"account_id":1054151,"reputation":24498,"user_id":1057230,"accept_rate":100,"display_name":"nIcE cOw"},"score":0,"creation_date":1359205637,"post_id":14536445,"comment_id":20274383,"body_markdown":"AFAIK, when you use `setVisible(false)` in Windows, all the icons related to that running `JFrame` also get lost, as seen in this [answer](http://stackoverflow.com/a/9374398/1057230). This [thread](http://stackoverflow.com/q/7461477/1057230), does provide some help on the said thingy.","body":"AFAIK, when you use <code>setVisible(false)</code> in Windows, all the icons related to that running <code>JFrame</code> also get lost, as seen in this <a href=\"http://stackoverflow.com/a/9374398/1057230\">answer</a>. This <a href=\"http://stackoverflow.com/q/7461477/1057230\">thread</a>, does provide some help on the said thingy."}],"answers":[{"tags":[],"owner":{"account_id":2259314,"reputation":11225,"user_id":1989769,"accept_rate":45,"display_name":"Sergiy Medvynskyy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1359221380,"creation_date":1359221380,"answer_id":14539552,"question_id":14536445,"body_markdown":"Here is a little sample, how to hide/open window in the tray.\r\n\r\n\r\n    import java.awt.Image;\r\n    import java.awt.SystemTray;\r\n    import java.awt.Toolkit;\r\n    import java.awt.TrayIcon;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.WindowAdapter;\r\n    import java.awt.event.WindowEvent;\r\n    \r\n    import javax.swing.JFrame;\r\n    \r\n    public class Test {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tfinal JFrame frm = new JFrame(&quot;Test&quot;);\r\n    \t\tImage im = Toolkit.getDefaultToolkit().getImage(&quot;c:\\\\icons\\\\icon1.png&quot;);\r\n    \t\tfinal TrayIcon tri = new TrayIcon(im);\r\n    \t\ttri.addActionListener(new ActionListener() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\tfrm.setVisible(true);\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tSystemTray.getSystemTray().remove(tri);\r\n    \t\t\t\t} catch (Exception ex) {\r\n    \t\t\t\t\tex.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tfrm.addWindowListener(new WindowAdapter() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void windowClosing(WindowEvent e) {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tSystemTray.getSystemTray().add(tri);\r\n    \t\t\t\t} catch (Exception ex) {\r\n    \t\t\t\t\tex.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t\tfrm.setVisible(false);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tfrm.setSize(100, 100);\r\n    \t\tfrm.setVisible(true);\r\n    \t}\r\n    }\r\n\r\n","title":"Hide a JFrame and display it again through a click on the dock icon","body":"<p>Here is a little sample, how to hide/open window in the tray.</p>\n\n<pre><code>import java.awt.Image;\nimport java.awt.SystemTray;\nimport java.awt.Toolkit;\nimport java.awt.TrayIcon;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\n\nimport javax.swing.JFrame;\n\npublic class Test {\n\n    public static void main(String[] args) throws Exception {\n        final JFrame frm = new JFrame(\"Test\");\n        Image im = Toolkit.getDefaultToolkit().getImage(\"c:\\\\icons\\\\icon1.png\");\n        final TrayIcon tri = new TrayIcon(im);\n        tri.addActionListener(new ActionListener() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                frm.setVisible(true);\n                try {\n                    SystemTray.getSystemTray().remove(tri);\n                } catch (Exception ex) {\n                    ex.printStackTrace();\n                }\n            }\n        });\n        frm.addWindowListener(new WindowAdapter() {\n            @Override\n            public void windowClosing(WindowEvent e) {\n                try {\n                    SystemTray.getSystemTray().add(tri);\n                } catch (Exception ex) {\n                    ex.printStackTrace();\n                }\n                frm.setVisible(false);\n            }\n        });\n        frm.setSize(100, 100);\n        frm.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12448976,"reputation":351,"user_id":9064287,"display_name":"nhaggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634717400,"creation_date":1634717400,"answer_id":69642453,"question_id":14536445,"body_markdown":"Use the `com.apple.eawt` or `java.awt.Desktop` packages to listen to Events that occur when the application is closed, hidden or reactivated.\r\n\r\nParticularly `com.apple.eawt.AppReOpenedEvent` is cast when the Dock Icon is clicked. When you handle the event with `com.apple.eawt.AppReOpenedListener`, set the frame visible again:\r\n\r\n    @Override\r\n\tpublic void appReOpened(AppReOpenedEvent arg0) {\r\n\t\tinvalidate(); // Suppose these are optional, but make sure the layout is up to date\r\n\t\tpack();\r\n\t\tvalidate();\r\n\t\tsetVisible(true);\r\n\t}","title":"Hide a JFrame and display it again through a click on the dock icon","body":"<p>Use the <code>com.apple.eawt</code> or <code>java.awt.Desktop</code> packages to listen to Events that occur when the application is closed, hidden or reactivated.</p>\n<p>Particularly <code>com.apple.eawt.AppReOpenedEvent</code> is cast when the Dock Icon is clicked. When you handle the event with <code>com.apple.eawt.AppReOpenedListener</code>, set the frame visible again:</p>\n<pre><code>@Override\npublic void appReOpened(AppReOpenedEvent arg0) {\n    invalidate(); // Suppose these are optional, but make sure the layout is up to date\n    pack();\n    validate();\n    setVisible(true);\n}\n</code></pre>\n"}],"owner":{"account_id":1022746,"reputation":657,"user_id":1032691,"accept_rate":54,"display_name":"mythbu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2304,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1634717400,"creation_date":1359199421,"question_id":14536445,"body_markdown":"My application has a JFrame and checks every `x` seconds if something changed. So I would like to hide my JFrame via `setVisible(false)` on a click on the close button and redisplay it when the icon in the dock (I&#39;m using Mac OS, but it should work the same way with the Windows task bar) is clicked. You know: many applications do this temporary hiding.\r\n\r\nHave you got any ideas how to do this? How to listen on these click events?","title":"Hide a JFrame and display it again through a click on the dock icon","body":"<p>My application has a JFrame and checks every <code>x</code> seconds if something changed. So I would like to hide my JFrame via <code>setVisible(false)</code> on a click on the close button and redisplay it when the icon in the dock (I'm using Mac OS, but it should work the same way with the Windows task bar) is clicked. You know: many applications do this temporary hiding.</p>\n\n<p>Have you got any ideas how to do this? How to listen on these click events?</p>\n"},{"tags":["java","oracle","intellij-idea","ojdbc"],"comments":[{"owner":{"account_id":5854892,"reputation":3571,"user_id":4612499,"display_name":"Jean de Lavarene"},"score":0,"creation_date":1634719056,"post_id":69642427,"comment_id":123097755,"body_markdown":"Can you tell us more about the database? Is it a common database to all users (Eclipse and IntelliJ)? Or is it a local development database? XE? Which version?","body":"Can you tell us more about the database? Is it a common database to all users (Eclipse and IntelliJ)? Or is it a local development database? XE? Which version?"},{"owner":{"account_id":1923662,"reputation":191,"user_id":1734599,"accept_rate":100,"display_name":"omniflash"},"score":0,"creation_date":1634721473,"post_id":69642427,"comment_id":123098790,"body_markdown":"It is a common DB for all developers, its an Oracle EE, 12.2.0.1.0.","body":"It is a common DB for all developers, its an Oracle EE, 12.2.0.1.0."},{"owner":{"account_id":17644245,"reputation":1368,"user_id":12806294,"display_name":"Yuri Win"},"score":0,"creation_date":1634733141,"post_id":69642427,"comment_id":123103660,"body_markdown":"do you use Database Tools and SQL plugin to connect to database or it is performed from Java code?","body":"do you use Database Tools and SQL plugin to connect to database or it is performed from Java code?"},{"owner":{"account_id":5854892,"reputation":3571,"user_id":4612499,"display_name":"Jean de Lavarene"},"score":0,"creation_date":1634736806,"post_id":69642427,"comment_id":123105460,"body_markdown":"You mentioned that the db calls appear to be faster on Eclipse, are these calls SQL calls or connection creation?","body":"You mentioned that the db calls appear to be faster on Eclipse, are these calls SQL calls or connection creation?"},{"owner":{"account_id":1923662,"reputation":191,"user_id":1734599,"accept_rate":100,"display_name":"omniflash"},"score":0,"creation_date":1634811365,"post_id":69642427,"comment_id":123128769,"body_markdown":"Yuri: The calls are performed from Java, the connection is estabilished through a jndi utility, but its basicly just passing the connection string (same for everyone)\nJean: these are sql calls","body":"Yuri: The calls are performed from Java, the connection is estabilished through a jndi utility, but its basicly just passing the connection string (same for everyone) Jean: these are sql calls"}],"owner":{"account_id":1923662,"reputation":191,"user_id":1734599,"accept_rate":100,"display_name":"omniflash"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634717278,"creation_date":1634717278,"question_id":69642427,"body_markdown":"I have a strange behaviour happening in one of our projects and I wonder if anyone encountered anything similar. It is a legacy Java project and we are using ojdbc6.jar to connect to an Oracle DB. Locally we are using a Tomcat 6 app server.\r\nWhen using IntelliJ IDE the db connection fails in some cases (specially where higher number or more complicated queries are run), with\r\n \r\n\r\n    ORA-12516, TNS:listener could not find available handler with matching protocol stack\r\n\r\nThe strange thing is, that Eclipse users never have the mentioned problem. (For some reason, their db calls seem much faster too)\r\nWe are using an IBM Websphere JDK because of production reasons, its a 64 bit 1.8 jdk.\r\nThe issue happens more often when running debug, but also happens while running normally.\r\nI looked up this error and tried the following things:\r\n- monitored the number of processes oracle is running, but we have a limit of 400 and it never went above 300\r\n- tried changing locally to ojdbc7 and ojdbc8: 7 produces the same issues, 8 throws a could not establish connection with Network Adapter error at the same situation\r\n- tried changing the jdk-s under tomcat: no effect\r\n- tried all kinds of memory settings for tomcat and for intellij, no effect\r\n\r\nIt&#39;s a pretty annoying issue and I dont understand, why this does not happen with Eclipse.\r\n\r\nThank you for your advice in advance!","title":"ORA-12516 Issue with ojdbc in Intellij","body":"<p>I have a strange behaviour happening in one of our projects and I wonder if anyone encountered anything similar. It is a legacy Java project and we are using ojdbc6.jar to connect to an Oracle DB. Locally we are using a Tomcat 6 app server.\nWhen using IntelliJ IDE the db connection fails in some cases (specially where higher number or more complicated queries are run), with</p>\n<pre><code>ORA-12516, TNS:listener could not find available handler with matching protocol stack\n</code></pre>\n<p>The strange thing is, that Eclipse users never have the mentioned problem. (For some reason, their db calls seem much faster too)\nWe are using an IBM Websphere JDK because of production reasons, its a 64 bit 1.8 jdk.\nThe issue happens more often when running debug, but also happens while running normally.\nI looked up this error and tried the following things:</p>\n<ul>\n<li>monitored the number of processes oracle is running, but we have a limit of 400 and it never went above 300</li>\n<li>tried changing locally to ojdbc7 and ojdbc8: 7 produces the same issues, 8 throws a could not establish connection with Network Adapter error at the same situation</li>\n<li>tried changing the jdk-s under tomcat: no effect</li>\n<li>tried all kinds of memory settings for tomcat and for intellij, no effect</li>\n</ul>\n<p>It's a pretty annoying issue and I dont understand, why this does not happen with Eclipse.</p>\n<p>Thank you for your advice in advance!</p>\n"},{"tags":["java","spring-boot","caching","hazelcast","spring-cache"],"comments":[{"owner":{"account_id":3985860,"reputation":456,"user_id":4408813,"display_name":"abstractnature"},"score":0,"creation_date":1634593481,"post_id":69622790,"comment_id":123062246,"body_markdown":"Why you want to put the items in the cache, if you are fanning out to a Kafka queue, any specific use case?","body":"Why you want to put the items in the cache, if you are fanning out to a Kafka queue, any specific use case?"},{"owner":{"account_id":2736414,"reputation":1142,"user_id":2359010,"accept_rate":91,"display_name":"Arlo Guthrie"},"score":0,"creation_date":1634624980,"post_id":69622790,"comment_id":123067648,"body_markdown":"Ingestion maintains a session state for business decisions, based on user configuration.  User configuration is maintained through a REST interface.   I don&#39;t want to perform a REST call for every ingested message.  The REST interface will only be called if no cached value exists for the user / application key.  But a user can change configuration mid-session, and I need to update the cache with that value.","body":"Ingestion maintains a session state for business decisions, based on user configuration.  User configuration is maintained through a REST interface.   I don&#39;t want to perform a REST call for every ingested message.  The REST interface will only be called if no cached value exists for the user / application key.  But a user can change configuration mid-session, and I need to update the cache with that value."}],"answers":[{"tags":[],"owner":{"account_id":3985860,"reputation":456,"user_id":4408813,"display_name":"abstractnature"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634593452,"creation_date":1634593452,"answer_id":69622882,"question_id":69622790,"body_markdown":"`@CachePut` always lets the method execute. It is generally used if you want your cache to be updated with the result of the method execution.\r\nExample: When you want to update a stale data which is cached, instead of blowing the cache completely.\r\n\r\n`@Cacheable` will be executed only once for the given cachekey and subsequent requests won&#39;t execute the method, until the cache expires or gets flushed.\r\n\r\nThis is based upon your design decision. Its not an anti pattern. Spring Data JPA also uses interface repositories with Annotations, this does not mean, there is no need to create the &quot;Fake&quot; interface even.\r\n\r\nIts a way to capture the annotation (Annotation Processing).\r\n","title":"Distributed Cache Across Microservice Domains","body":"<p><code>@CachePut</code> always lets the method execute. It is generally used if you want your cache to be updated with the result of the method execution.\nExample: When you want to update a stale data which is cached, instead of blowing the cache completely.</p>\n<p><code>@Cacheable</code> will be executed only once for the given cachekey and subsequent requests won't execute the method, until the cache expires or gets flushed.</p>\n<p>This is based upon your design decision. Its not an anti pattern. Spring Data JPA also uses interface repositories with Annotations, this does not mean, there is no need to create the &quot;Fake&quot; interface even.</p>\n<p>Its a way to capture the annotation (Annotation Processing).</p>\n"},{"tags":[],"owner":{"account_id":3062336,"reputation":5575,"user_id":2594725,"accept_rate":12,"display_name":"cruftex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634716905,"creation_date":1634716376,"answer_id":69642241,"question_id":69622790,"body_markdown":"Of course it is an anti pattern since it breaks the service boundaries, data hiding in particular.\r\n\r\nWhen the user data is updated, you want to update the service clients that have a cached version of your user data. A better design would send an event &quot;User data changes&quot; and let service clients subscribe to it.\r\n\r\nWith a distributed cache you introduce possible points of failure, latency and configuration options for consistency, which are not simple.","title":"Distributed Cache Across Microservice Domains","body":"<p>Of course it is an anti pattern since it breaks the service boundaries, data hiding in particular.</p>\n<p>When the user data is updated, you want to update the service clients that have a cached version of your user data. A better design would send an event &quot;User data changes&quot; and let service clients subscribe to it.</p>\n<p>With a distributed cache you introduce possible points of failure, latency and configuration options for consistency, which are not simple.</p>\n"}],"owner":{"account_id":2736414,"reputation":1142,"user_id":2359010,"accept_rate":91,"display_name":"Arlo Guthrie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":982,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69642241,"answer_count":2,"score":0,"last_activity_date":1634716905,"creation_date":1634592797,"question_id":69622790,"body_markdown":"Is managing @CachePut in a different microservice from @Cacheable in a distributed cache environment an anti-pattern?\r\n\r\nI&#39;m working on spring boot microservices that are split across two domain categories: data ingestion and UI.  The ingestion is separated from the UI services so that bursts of data will not impact response times.  Once the data is ingested, we fan it out on kafka to a persistence service for storage and a session service for real-time determinations such as user notifications.  \r\n\r\nTo ensure that I can keep up with the ingestion rate, I want to cache the user notification configuration in my ingestion pipeline after the initial REST lookup.  But if a user updates their configuration in the UI (e.g. increase / decrease warning threshold, turn off warnings, change to digest), I want the cache refreshed with that update. Because I will be auto-scaling these services to meet demand, I plan to use distributed cache.  \r\n\r\nDoes splitting @CachePut and @Cacheable across two different microservices in a distributed cache configuration constitute an anti-pattern?  Would sending the objects across kafka constitute a better alternative?\r\n\r\nMy gut tells me to avoid splitting the cache management across microservices like this because I can imagine someone changing the cache keys in one service and forgetting to change them in the second.   On the other hand, sending them across kafka to a consumer in the session service would look ugly, something like this:\r\n\r\n\r\n    @CachePut(value = &quot;config&quot;, key = &quot;new SimpleKey(#config.userId, #config.applicationId)&quot;)\r\n    public UserApplicationConfig fakeSave(UserApplicationConfig config) {\r\n      // not actually saving anything, just need somewhere to put my CachePut annotation\r\n      return config;\r\n    }\r\n\r\n","title":"Distributed Cache Across Microservice Domains","body":"<p>Is managing @CachePut in a different microservice from @Cacheable in a distributed cache environment an anti-pattern?</p>\n<p>I'm working on spring boot microservices that are split across two domain categories: data ingestion and UI.  The ingestion is separated from the UI services so that bursts of data will not impact response times.  Once the data is ingested, we fan it out on kafka to a persistence service for storage and a session service for real-time determinations such as user notifications.</p>\n<p>To ensure that I can keep up with the ingestion rate, I want to cache the user notification configuration in my ingestion pipeline after the initial REST lookup.  But if a user updates their configuration in the UI (e.g. increase / decrease warning threshold, turn off warnings, change to digest), I want the cache refreshed with that update. Because I will be auto-scaling these services to meet demand, I plan to use distributed cache.</p>\n<p>Does splitting @CachePut and @Cacheable across two different microservices in a distributed cache configuration constitute an anti-pattern?  Would sending the objects across kafka constitute a better alternative?</p>\n<p>My gut tells me to avoid splitting the cache management across microservices like this because I can imagine someone changing the cache keys in one service and forgetting to change them in the second.   On the other hand, sending them across kafka to a consumer in the session service would look ugly, something like this:</p>\n<pre><code>@CachePut(value = &quot;config&quot;, key = &quot;new SimpleKey(#config.userId, #config.applicationId)&quot;)\npublic UserApplicationConfig fakeSave(UserApplicationConfig config) {\n  // not actually saving anything, just need somewhere to put my CachePut annotation\n  return config;\n}\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":13753711,"reputation":676,"user_id":9925191,"display_name":"Rose"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634716900,"creation_date":1634716900,"answer_id":69642360,"question_id":69640983,"body_markdown":"Try this,\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Zc05A.png\r\n\r\nwhere 23 is profileId","title":"java.lang.IllegalStateException: Required identifier property not found for class com.domain.Profile! - Mongo, SpringBoot","body":"<p>Try this,</p>\n<p><a href=\"https://i.stack.imgur.com/Zc05A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zc05A.png\" alt=\"enter image description here\" /></a></p>\n<p>where 23 is profileId</p>\n"}],"owner":{"account_id":4418961,"reputation":1927,"user_id":9347049,"display_name":"user9347049"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634716900,"creation_date":1634709535,"question_id":69640983,"body_markdown":"I am using SpringBoot with Mongo in my project.\r\n\r\nI have a `Profile` model that looks like this.\r\n\r\n    @Data\r\n    @Document\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Profile {\r\n        private String birthDate;\r\n        private Stirng city;\r\n        private String country;  \r\n    }\r\n\r\nI can add it to Mongo via postman but when I try to `delete` it from Mongo by `Id` I am getting following error.\r\n\r\n\r\n    java.lang.IllegalStateException: Required identifier property not found for class com.domain.Profile!\r\n\r\n   \r\nThis is deleteById method.\r\n\r\n     @DeleteMapping(value = &quot;/{profileId}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public ResponseEntity&lt;String&gt; deleteById(@PathVariable String profileId) {\r\n            if (profileRepository.existsById(profileId)) {\r\n                profileRepository.deleteById(profileId);\r\n                return new ResponseEntity&lt;&gt;(&quot;Profile properly deleted.&quot;,HttpStatus.OK);\r\n            } else {\r\n                return new ResponseEntity&lt;&gt;(&quot;Profile not found.&quot;, HttpStatus.NOT_FOUND);\r\n            }\r\n        }\r\n\r\nI use `Postman` like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aAZNi.png\r\n\r\nWhat am I missing here?","title":"java.lang.IllegalStateException: Required identifier property not found for class com.domain.Profile! - Mongo, SpringBoot","body":"<p>I am using SpringBoot with Mongo in my project.</p>\n<p>I have a <code>Profile</code> model that looks like this.</p>\n<pre><code>@Data\n@Document\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Profile {\n    private String birthDate;\n    private Stirng city;\n    private String country;  \n}\n</code></pre>\n<p>I can add it to Mongo via postman but when I try to <code>delete</code> it from Mongo by <code>Id</code> I am getting following error.</p>\n<pre><code>java.lang.IllegalStateException: Required identifier property not found for class com.domain.Profile!\n</code></pre>\n<p>This is deleteById method.</p>\n<pre><code> @DeleteMapping(value = &quot;/{profileId}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;String&gt; deleteById(@PathVariable String profileId) {\n        if (profileRepository.existsById(profileId)) {\n            profileRepository.deleteById(profileId);\n            return new ResponseEntity&lt;&gt;(&quot;Profile properly deleted.&quot;,HttpStatus.OK);\n        } else {\n            return new ResponseEntity&lt;&gt;(&quot;Profile not found.&quot;, HttpStatus.NOT_FOUND);\n        }\n    }\n</code></pre>\n<p>I use <code>Postman</code> like this:</p>\n<p><a href=\"https://i.stack.imgur.com/aAZNi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aAZNi.png\" alt=\"enter image description here\" /></a></p>\n<p>What am I missing here?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7900776,"reputation":3946,"user_id":5967872,"display_name":"KYL3R"},"score":1,"creation_date":1634716912,"post_id":69642243,"comment_id":123096824,"body_markdown":"Does this answer your question? [How to parse JSON in Java](https://stackoverflow.com/questions/2591098/how-to-parse-json-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2591098/how-to-parse-json-in-java\">How to parse JSON in Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634716767,"creation_date":1634716767,"answer_id":69642327,"question_id":69642243,"body_markdown":"    String variable = keyVal[0];\r\n    String value = keyVal[1];\r\n    Math c = new Math();\r\n    c.variable = value;\r\n\r\nI think you mean:\r\n\r\n    String variable = keyVal[0];\r\n    String value = keyVal[1];\r\n    Math c = new Math();\r\n    if(variable.equals(&quot;x&quot;) {\r\n        c.x = value\r\n    }\r\n    if(variable.equals(&quot;y&quot;) {\r\n        c.y = value\r\n    }\r\n\r\nYou need to do some kind of case distinction, it&#39;s not possible to take a String and use it to dynamically determine which field to write to (ok with Reflection it is possible but that would be even more complicated).","title":"How do i assign my Class variable from a String/build Object from String","body":"<pre><code>String variable = keyVal[0];\nString value = keyVal[1];\nMath c = new Math();\nc.variable = value;\n</code></pre>\n<p>I think you mean:</p>\n<pre><code>String variable = keyVal[0];\nString value = keyVal[1];\nMath c = new Math();\nif(variable.equals(&quot;x&quot;) {\n    c.x = value\n}\nif(variable.equals(&quot;y&quot;) {\n    c.y = value\n}\n</code></pre>\n<p>You need to do some kind of case distinction, it's not possible to take a String and use it to dynamically determine which field to write to (ok with Reflection it is possible but that would be even more complicated).</p>\n"}],"owner":{"account_id":21239151,"reputation":166,"user_id":15622915,"display_name":"Lucas.Feichtinger"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1634880742,"accepted_answer_id":69642327,"answer_count":1,"score":-3,"last_activity_date":1634716767,"creation_date":1634716398,"question_id":69642243,"body_markdown":"I have a Class that needs to be return a Object built from a String and im not sure whats best to use for my situation. \r\n\r\nmy string comes in as JSONString and i am splittig it to get key value pairs that look like this.\r\n`variable = &quot;x&quot;`\r\n`value = 60%`\r\n\r\n\r\n```\r\npublic class Math {\r\n    public String x = &quot;&quot;;\r\n    public String y = &quot;&quot;;\r\n```\r\nSolution 1: this is working but im not able to cast it into class.\r\n```\r\nString variable = keyVal[0];\r\nString value = keyVal[1];\r\nMap m = new HashMap();\r\nm.put(variable, value);\r\n```\r\nSolution 2: I need to reference to Math.x via the `variables` value but thats not working\r\n```\r\nString variable = keyVal[0];\r\nString value = keyVal[1];\r\nMath c = new Math();\r\nc.variable = value;\r\n```","title":"How do i assign my Class variable from a String/build Object from String","body":"<p>I have a Class that needs to be return a Object built from a String and im not sure whats best to use for my situation.</p>\n<p>my string comes in as JSONString and i am splittig it to get key value pairs that look like this.\n<code>variable = &quot;x&quot;</code>\n<code>value = 60%</code></p>\n<pre><code>public class Math {\n    public String x = &quot;&quot;;\n    public String y = &quot;&quot;;\n</code></pre>\n<p>Solution 1: this is working but im not able to cast it into class.</p>\n<pre><code>String variable = keyVal[0];\nString value = keyVal[1];\nMap m = new HashMap();\nm.put(variable, value);\n</code></pre>\n<p>Solution 2: I need to reference to Math.x via the <code>variables</code> value but thats not working</p>\n<pre><code>String variable = keyVal[0];\nString value = keyVal[1];\nMath c = new Math();\nc.variable = value;\n</code></pre>\n"},{"tags":["java","mysql","spring","hibernate","collation"],"comments":[{"owner":{"account_id":3005107,"reputation":1796,"user_id":2549778,"display_name":"Jacob"},"score":1,"creation_date":1533257158,"post_id":51663898,"comment_id":90291209,"body_markdown":"What&#39;s your connection string? You should specify the charset there","body":"What&#39;s your connection string? You should specify the charset there"},{"owner":{"account_id":398985,"reputation":129,"user_id":764030,"accept_rate":100,"display_name":"j6mes"},"score":0,"creation_date":1533257206,"post_id":51663898,"comment_id":90291213,"body_markdown":"I&#39;d set it in the hibernate config:         &lt;property name=&quot;hibernate.connection.CharSet&quot;&gt;utf8&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.characterEncoding&quot;&gt;utf8&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.useUnicode&quot;&gt;true&lt;/property&gt;","body":"I&#39;d set it in the hibernate config:         &lt;property name=&quot;hibernate.connection.CharSet&quot;&gt;utf8&lt;/property&gt;         &lt;property name=&quot;hibernate.connection.characterEncoding&quot;&gt;utf8&lt;/property&zwnj;&#8203;&gt;         &lt;property name=&quot;hibernate.connection.useUnicode&quot;&gt;true&lt;/property&gt;"},{"owner":{"account_id":3005107,"reputation":1796,"user_id":2549778,"display_name":"Jacob"},"score":2,"creation_date":1533257441,"post_id":51663898,"comment_id":90291263,"body_markdown":"Did you try append useUnicode and characterEncoding to connection.url property? I always set that in my previous project..","body":"Did you try append useUnicode and characterEncoding to connection.url property? I always set that in my previous project.."},{"owner":{"account_id":398985,"reputation":129,"user_id":764030,"accept_rate":100,"display_name":"j6mes"},"score":0,"creation_date":1533257443,"post_id":51663898,"comment_id":90291264,"body_markdown":"well. apparently that worked... :sigh:","body":"well. apparently that worked... :sigh:"},{"owner":{"account_id":398985,"reputation":129,"user_id":764030,"accept_rate":100,"display_name":"j6mes"},"score":0,"creation_date":1533257494,"post_id":51663898,"comment_id":90291279,"body_markdown":"Jacob, I added ?characterEncoding=utf-8 and that fixed it. Thanks for spotting it. I thought that you&#39;d only have to do one, not both.","body":"Jacob, I added ?characterEncoding=utf-8 and that fixed it. Thanks for spotting it. I thought that you&#39;d only have to do one, not both."}],"owner":{"account_id":398985,"reputation":129,"user_id":764030,"accept_rate":100,"display_name":"j6mes"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":361,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634716319,"creation_date":1533256948,"question_id":51663898,"body_markdown":"I have a simple spring/hibernate app which is backed by a MySQL DB.\r\n\r\nThe DB is character set `utf8mb4` and collation `utf8mb4_bin`. I have a lot of data that contains non-latin characters.\r\n\r\nI have a table of pages (id, pagename, text) where pagename is a unique index and I query this table using the Hibernate Criteria API:\r\n\r\n    Page result = session.createQuery(query.where(\r\n                    builder.equal(root.get(&quot;pagename&quot;), name)\r\n            ).select(root)).getSingleResult();\r\n\r\nFor some values, I have a `ResultNotFound` exception. Despite there being a record that matches. I can verify this by querying:\r\n\r\n    select count(*) from page where pagename=&quot;Tři_oříšky_pro_Popelku&quot;\r\n    1 row in set (0.01 sec)\r\n\r\nIf I compare the string in Java though looking up by the PK instead of this UK, the string comparison returns `true`\r\n\r\n    session.createSQLQuery(\r\n        &quot;select * from page p where p.id = :pid&quot;)\r\n        .addEntity(Page.class)\r\n        .setParameter(&quot;pid&quot;, 29752).list().get(0).getPageName().equals(name);\r\n\r\nAm I missing something really simple here? I&#39;ve tried playing with character set and encodings in the hibernate config file and am pretty stuck!\r\n\r\nI&#39;m using `org.hibernate:hibernate-java8:5.2.10.Final` and `mysql:mysql-connector-java:6.0.6`","title":"Hibernate MySQL UTF8 Lookup Issue with Foreign Characters","body":"<p>I have a simple spring/hibernate app which is backed by a MySQL DB.</p>\n\n<p>The DB is character set <code>utf8mb4</code> and collation <code>utf8mb4_bin</code>. I have a lot of data that contains non-latin characters.</p>\n\n<p>I have a table of pages (id, pagename, text) where pagename is a unique index and I query this table using the Hibernate Criteria API:</p>\n\n<pre><code>Page result = session.createQuery(query.where(\n                builder.equal(root.get(\"pagename\"), name)\n        ).select(root)).getSingleResult();\n</code></pre>\n\n<p>For some values, I have a <code>ResultNotFound</code> exception. Despite there being a record that matches. I can verify this by querying:</p>\n\n<pre><code>select count(*) from page where pagename=\"Tři_oříšky_pro_Popelku\"\n1 row in set (0.01 sec)\n</code></pre>\n\n<p>If I compare the string in Java though looking up by the PK instead of this UK, the string comparison returns <code>true</code></p>\n\n<pre><code>session.createSQLQuery(\n    \"select * from page p where p.id = :pid\")\n    .addEntity(Page.class)\n    .setParameter(\"pid\", 29752).list().get(0).getPageName().equals(name);\n</code></pre>\n\n<p>Am I missing something really simple here? I've tried playing with character set and encodings in the hibernate config file and am pretty stuck!</p>\n\n<p>I'm using <code>org.hibernate:hibernate-java8:5.2.10.Final</code> and <code>mysql:mysql-connector-java:6.0.6</code></p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1634579207,"post_id":69619969,"comment_id":123057798,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":8253425,"reputation":6057,"user_id":6207294,"display_name":"shb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634715985,"creation_date":1634715985,"answer_id":69642142,"question_id":69619969,"body_markdown":"The error log shows\r\n\r\n&gt;      android.database.sqlite.SQLiteException: no such column: display_nameASC\r\n\r\nHere `ASC` is for an ascending sort order. You need to put a space between the column name and `ASC`\r\n\r\n      String sort = ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME + &quot; ASC&quot;;\r\n\r\n","title":"&quot;[AppName] stopped working&quot; when I try to run my app on an AVD emulator","body":"<p>The error log shows</p>\n<blockquote>\n<pre><code> android.database.sqlite.SQLiteException: no such column: display_nameASC\n</code></pre>\n</blockquote>\n<p>Here <code>ASC</code> is for an ascending sort order. You need to put a space between the column name and <code>ASC</code></p>\n<pre><code>  String sort = ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME + &quot; ASC&quot;;\n</code></pre>\n"}],"owner":{"account_id":23070498,"reputation":53,"user_id":17184322,"display_name":"Andr&#233;_Almeida"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634715985,"creation_date":1634576874,"question_id":69619969,"body_markdown":"So I&#39;m working on an app and the first thing I did was make a contact list structure. This is the video I started with as a tutorial: https://www.youtube.com/watch?v=esDWSfBa-oc\r\n\r\nIt all went well until I got an error that could have only been fixed by changing `cursor.getColumnIndex()` to `cursor.getColumnIndexOrThrow()` as seen in the (MainActivity) code below:\r\n```\r\nprivate void getContactList() {\r\n        Uri uri = ContactsContract.Contacts.CONTENT_URI;\r\n\r\n        String sort = ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME+&quot;ASC&quot;;\r\n\r\n        Cursor cursor = getContentResolver().query(\r\n                uri, null, null, null, sort\r\n        );\r\n\r\n        if (cursor.getCount() &gt; 0){\r\n            while (cursor.moveToNext()){\r\n                String id = cursor.getString(cursor.getColumnIndexOrThrow(\r\n                        ContactsContract.Contacts._ID\r\n                ));\r\n                String name = cursor.getString(cursor.getColumnIndexOrThrow(\r\n                        ContactsContract.Contacts.DISPLAY_NAME\r\n                ));\r\n                Uri uriPhone = ContactsContract.CommonDataKinds.Phone.CONTENT_URI;\r\n                String selection = ContactsContract.CommonDataKinds.Phone.CONTACT_ID\r\n                        + &quot; =?&quot;;\r\n                Cursor phoneCursor = getContentResolver().query(\r\n                        uriPhone, null, selection,\r\n                        new String[]{id}, null\r\n                );\r\n                if (phoneCursor.moveToNext()){\r\n                    String number = phoneCursor.getString(phoneCursor.getColumnIndexOrThrow(\r\n                            ContactsContract.CommonDataKinds.Phone.NUMBER\r\n                    ));\r\n                    ContactModel model = new ContactModel();\r\n                    model.setName(name);\r\n                    model.setNumber(number);\r\n                    arrayList.add(model);\r\n                    phoneCursor.close();\r\n                }\r\n            }\r\n            cursor.close();\r\n        }\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        adapter = new MainAdapter(this,arrayList);\r\n        recyclerView.setAdapter(adapter);\r\n    }\r\n   ```\r\nIf I remove the &quot;OrThrow&quot; indications in `cursor.getColumnIndexOrThrow()`, it will give me an error with no visible fixes, telling me to ask for feedback online. Very strange considering I did everything exactly as in the video and any errors are either by some typo that I haven&#39;t found yet or from the app itself being somehow different, in terms of libraries or preset adjustments, which I&#39;m not sure at all.\r\n\r\nAfter having watched the full video and finishing the initial app structure, the app would just not open, and, after rewatching the video and thinking I had to decline contact access (which in fact wasn&#39;t the case, the video was just showing what happens if we refuse to allow access, because the contact access is obviously needed), it would work but it wouldn&#39;t show contacts, of course.\r\n\r\nError in the logcat:\r\n```\r\n2021-10-18 17:43:21.130 12998-12998/com.example.wolfix E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.wolfix, PID: 12998\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.wolfix/com.app.wolfix.MainActivity}: android.database.sqlite.SQLiteException: no such column: display_nameASC (code 1 SQLITE_ERROR): , while compiling: SELECT 0 AS last_time_contacted, phonetic_name, custom_ringtone, contacts_status_updates.status_ts AS contact_status_ts, pinned, photo_id, photo_file_id, contacts_status_updates.status_res_package AS contact_status_res_package, agg_presence.chat_capability AS contact_chat_capability, contacts_status_updates.status_icon AS contact_status_icon, display_name_alt, sort_key_alt, in_visible_group, starred, contacts_status_updates.status_label AS contact_status_label, phonebook_label, is_user_profile, has_phone_number, display_name_source, phonetic_name_style, send_to_voicemail, lookup, phonebook_label_alt, contact_last_updated_timestamp, photo_uri, phonebook_bucket, contacts_status_updates.status AS contact_status, display_name, sort_key, photo_thumb_uri, agg_presence.mode AS contact_presence, in_default_directory, 0 AS times_contacted, _id, name_raw_contact_id, phonebook_bucket_alt FROM view_contacts LEFT OUTER JOIN agg_presence ON (_id = agg_presence.presence_contact_id) LEFT OUTER JOIN status_updates contacts_status_updates ON (status_update_id=contacts_status_updates.status_update_data_id) WHERE ((1)) ORDER BY display_nameASC\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n     Caused by: android.database.sqlite.SQLiteException: no such column: display_nameASC (code 1 SQLITE_ERROR): , while compiling: SELECT 0 AS last_time_contacted, phonetic_name, custom_ringtone, contacts_status_updates.status_ts AS contact_status_ts, pinned, photo_id, photo_file_id, contacts_status_updates.status_res_package AS contact_status_res_package, agg_presence.chat_capability AS contact_chat_capability, contacts_status_updates.status_icon AS contact_status_icon, display_name_alt, sort_key_alt, in_visible_group, starred, contacts_status_updates.status_label AS contact_status_label, phonebook_label, is_user_profile, has_phone_number, display_name_source, phonetic_name_style, send_to_voicemail, lookup, phonebook_label_alt, contact_last_updated_timestamp, photo_uri, phonebook_bucket, contacts_status_updates.status AS contact_status, display_name, sort_key, photo_thumb_uri, agg_presence.mode AS contact_presence, in_default_directory, 0 AS times_contacted, _id, name_raw_contact_id, phonebook_bucket_alt FROM view_contacts LEFT OUTER JOIN agg_presence ON (_id = agg_presence.presence_contact_id) LEFT OUTER JOIN status_updates contacts_status_updates ON (status_update_id=contacts_status_updates.status_update_data_id) WHERE ((1)) ORDER BY display_nameASC\r\n        at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:186)\r\n        at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:142)\r\n        at android.content.ContentProviderProxy.query(ContentProviderNative.java:472)\r\n        at android.content.ContentResolver.query(ContentResolver.java:1183)\r\n        at android.content.ContentResolver.query(ContentResolver.java:1115)\r\n2021-10-18 17:43:21.130 12998-12998/com.example.wolfix E/AndroidRuntime:     at android.content.ContentResolver.query(ContentResolver.java:1071)\r\n        at com.app.wolfix.MainActivity.getContactList(MainActivity.java:52)\r\n        at com.app.wolfix.MainActivity.checkPermission(MainActivity.java:43)\r\n        at com.app.wolfix.MainActivity.onCreate(MainActivity.java:33)\r\n        at android.app.Activity.performCreate(Activity.java:8000)\r\n        at android.app.Activity.performCreate(Activity.java:7984)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3422)\r\n        \t... 11 more\r\n   ```\r\n\r\nI tried:\r\n - adding contacts in the emulator (couldn&#39;t find how, and when I tried connecting to my Google account, it still wouldn&#39;t let me have contact access);\r\n - adding contacts programmatically (not even that would work, probably having to do with the contact access as well);\r\n - revisiting the code, specially the aforementioned &quot;OrThrow&quot; incident part, to see if that had anything to do with it;\r\n - check if it the problem was in the emulator itself (couldn&#39;t take any conclusions).\r\n\r\nI still think the problem is in the emulator, I just don&#39;t know how to exactly fix it.\r\n\r\nI&#39;m not entirely new to the world of programming, I&#39;m just working on a school project and Android Studio, being the app I&#39;m using, is still something I&#39;m learning and adapting to.\r\n\r\nAny help would be appreciated, and even if the mistake is in the code or the emulated software, I hope you understand I&#39;m still not completely fond of it. In case more code is needed, I am able to do so, but, like I said, most of the code was taken from this video: https://www.youtube.com/watch?v=esDWSfBa-oc, so anything there is here, other than the aforementioned changes of course.\r\n\r\nThanks in advance!","title":"&quot;[AppName] stopped working&quot; when I try to run my app on an AVD emulator","body":"<p>So I'm working on an app and the first thing I did was make a contact list structure. This is the video I started with as a tutorial: <a href=\"https://www.youtube.com/watch?v=esDWSfBa-oc\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=esDWSfBa-oc</a></p>\n<p>It all went well until I got an error that could have only been fixed by changing <code>cursor.getColumnIndex()</code> to <code>cursor.getColumnIndexOrThrow()</code> as seen in the (MainActivity) code below:</p>\n<pre><code>private void getContactList() {\n        Uri uri = ContactsContract.Contacts.CONTENT_URI;\n\n        String sort = ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME+&quot;ASC&quot;;\n\n        Cursor cursor = getContentResolver().query(\n                uri, null, null, null, sort\n        );\n\n        if (cursor.getCount() &gt; 0){\n            while (cursor.moveToNext()){\n                String id = cursor.getString(cursor.getColumnIndexOrThrow(\n                        ContactsContract.Contacts._ID\n                ));\n                String name = cursor.getString(cursor.getColumnIndexOrThrow(\n                        ContactsContract.Contacts.DISPLAY_NAME\n                ));\n                Uri uriPhone = ContactsContract.CommonDataKinds.Phone.CONTENT_URI;\n                String selection = ContactsContract.CommonDataKinds.Phone.CONTACT_ID\n                        + &quot; =?&quot;;\n                Cursor phoneCursor = getContentResolver().query(\n                        uriPhone, null, selection,\n                        new String[]{id}, null\n                );\n                if (phoneCursor.moveToNext()){\n                    String number = phoneCursor.getString(phoneCursor.getColumnIndexOrThrow(\n                            ContactsContract.CommonDataKinds.Phone.NUMBER\n                    ));\n                    ContactModel model = new ContactModel();\n                    model.setName(name);\n                    model.setNumber(number);\n                    arrayList.add(model);\n                    phoneCursor.close();\n                }\n            }\n            cursor.close();\n        }\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n        adapter = new MainAdapter(this,arrayList);\n        recyclerView.setAdapter(adapter);\n    }\n</code></pre>\n<p>If I remove the &quot;OrThrow&quot; indications in <code>cursor.getColumnIndexOrThrow()</code>, it will give me an error with no visible fixes, telling me to ask for feedback online. Very strange considering I did everything exactly as in the video and any errors are either by some typo that I haven't found yet or from the app itself being somehow different, in terms of libraries or preset adjustments, which I'm not sure at all.</p>\n<p>After having watched the full video and finishing the initial app structure, the app would just not open, and, after rewatching the video and thinking I had to decline contact access (which in fact wasn't the case, the video was just showing what happens if we refuse to allow access, because the contact access is obviously needed), it would work but it wouldn't show contacts, of course.</p>\n<p>Error in the logcat:</p>\n<pre><code>2021-10-18 17:43:21.130 12998-12998/com.example.wolfix E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.wolfix, PID: 12998\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.wolfix/com.app.wolfix.MainActivity}: android.database.sqlite.SQLiteException: no such column: display_nameASC (code 1 SQLITE_ERROR): , while compiling: SELECT 0 AS last_time_contacted, phonetic_name, custom_ringtone, contacts_status_updates.status_ts AS contact_status_ts, pinned, photo_id, photo_file_id, contacts_status_updates.status_res_package AS contact_status_res_package, agg_presence.chat_capability AS contact_chat_capability, contacts_status_updates.status_icon AS contact_status_icon, display_name_alt, sort_key_alt, in_visible_group, starred, contacts_status_updates.status_label AS contact_status_label, phonebook_label, is_user_profile, has_phone_number, display_name_source, phonetic_name_style, send_to_voicemail, lookup, phonebook_label_alt, contact_last_updated_timestamp, photo_uri, phonebook_bucket, contacts_status_updates.status AS contact_status, display_name, sort_key, photo_thumb_uri, agg_presence.mode AS contact_presence, in_default_directory, 0 AS times_contacted, _id, name_raw_contact_id, phonebook_bucket_alt FROM view_contacts LEFT OUTER JOIN agg_presence ON (_id = agg_presence.presence_contact_id) LEFT OUTER JOIN status_updates contacts_status_updates ON (status_update_id=contacts_status_updates.status_update_data_id) WHERE ((1)) ORDER BY display_nameASC\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n     Caused by: android.database.sqlite.SQLiteException: no such column: display_nameASC (code 1 SQLITE_ERROR): , while compiling: SELECT 0 AS last_time_contacted, phonetic_name, custom_ringtone, contacts_status_updates.status_ts AS contact_status_ts, pinned, photo_id, photo_file_id, contacts_status_updates.status_res_package AS contact_status_res_package, agg_presence.chat_capability AS contact_chat_capability, contacts_status_updates.status_icon AS contact_status_icon, display_name_alt, sort_key_alt, in_visible_group, starred, contacts_status_updates.status_label AS contact_status_label, phonebook_label, is_user_profile, has_phone_number, display_name_source, phonetic_name_style, send_to_voicemail, lookup, phonebook_label_alt, contact_last_updated_timestamp, photo_uri, phonebook_bucket, contacts_status_updates.status AS contact_status, display_name, sort_key, photo_thumb_uri, agg_presence.mode AS contact_presence, in_default_directory, 0 AS times_contacted, _id, name_raw_contact_id, phonebook_bucket_alt FROM view_contacts LEFT OUTER JOIN agg_presence ON (_id = agg_presence.presence_contact_id) LEFT OUTER JOIN status_updates contacts_status_updates ON (status_update_id=contacts_status_updates.status_update_data_id) WHERE ((1)) ORDER BY display_nameASC\n        at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:186)\n        at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:142)\n        at android.content.ContentProviderProxy.query(ContentProviderNative.java:472)\n        at android.content.ContentResolver.query(ContentResolver.java:1183)\n        at android.content.ContentResolver.query(ContentResolver.java:1115)\n2021-10-18 17:43:21.130 12998-12998/com.example.wolfix E/AndroidRuntime:     at android.content.ContentResolver.query(ContentResolver.java:1071)\n        at com.app.wolfix.MainActivity.getContactList(MainActivity.java:52)\n        at com.app.wolfix.MainActivity.checkPermission(MainActivity.java:43)\n        at com.app.wolfix.MainActivity.onCreate(MainActivity.java:33)\n        at android.app.Activity.performCreate(Activity.java:8000)\n        at android.app.Activity.performCreate(Activity.java:7984)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3422)\n            ... 11 more\n</code></pre>\n<p>I tried:</p>\n<ul>\n<li>adding contacts in the emulator (couldn't find how, and when I tried connecting to my Google account, it still wouldn't let me have contact access);</li>\n<li>adding contacts programmatically (not even that would work, probably having to do with the contact access as well);</li>\n<li>revisiting the code, specially the aforementioned &quot;OrThrow&quot; incident part, to see if that had anything to do with it;</li>\n<li>check if it the problem was in the emulator itself (couldn't take any conclusions).</li>\n</ul>\n<p>I still think the problem is in the emulator, I just don't know how to exactly fix it.</p>\n<p>I'm not entirely new to the world of programming, I'm just working on a school project and Android Studio, being the app I'm using, is still something I'm learning and adapting to.</p>\n<p>Any help would be appreciated, and even if the mistake is in the code or the emulated software, I hope you understand I'm still not completely fond of it. In case more code is needed, I am able to do so, but, like I said, most of the code was taken from this video: <a href=\"https://www.youtube.com/watch?v=esDWSfBa-oc\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=esDWSfBa-oc</a>, so anything there is here, other than the aforementioned changes of course.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","serialization","deserialization","hazelcast"],"comments":[{"owner":{"account_id":383617,"reputation":1175,"user_id":739583,"display_name":"Nicolas"},"score":0,"creation_date":1634648920,"post_id":69631190,"comment_id":123077606,"body_markdown":"Why did your delete your previous question?","body":"Why did your delete your previous question?"},{"owner":{"account_id":17359208,"reputation":75,"user_id":12575898,"display_name":"luka_roves"},"score":0,"creation_date":1634649188,"post_id":69631190,"comment_id":123077731,"body_markdown":"I thought it would get no answers, this version is more understandable. Didn&#39;t want to duplicate stuff. I undeleted it if you have some input.","body":"I thought it would get no answers, this version is more understandable. Didn&#39;t want to duplicate stuff. I undeleted it if you have some input."},{"owner":{"account_id":383617,"reputation":1175,"user_id":739583,"display_name":"Nicolas"},"score":0,"creation_date":1634649478,"post_id":69631190,"comment_id":123077866,"body_markdown":"Don&#39;t delete questions, edit them. And now, you&#39;ve duplicates &#128517;","body":"Don&#39;t delete questions, edit them. And now, you&#39;ve duplicates 😅"},{"owner":{"account_id":17359208,"reputation":75,"user_id":12575898,"display_name":"luka_roves"},"score":0,"creation_date":1634649776,"post_id":69631190,"comment_id":123078004,"body_markdown":"I would have to edit the whole content, which is equal to recreating it. If I keep the old content and post an update, then it&#39;s just a confusing mess. I think this is a much more focused and narrowed down version. What&#39;s the best way to handle it now?","body":"I would have to edit the whole content, which is equal to recreating it. If I keep the old content and post an update, then it&#39;s just a confusing mess. I think this is a much more focused and narrowed down version. What&#39;s the best way to handle it now?"}],"answers":[{"tags":[],"owner":{"account_id":17359208,"reputation":75,"user_id":12575898,"display_name":"luka_roves"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634715664,"creation_date":1634715664,"answer_id":69642085,"question_id":69631190,"body_markdown":"Solved this by setting class loader for HazelcastClient:\r\n```\r\nClientConfig clientConfig = new ClientConfig();\r\nclientConfig.setClassLoader(TestService.class.getClassLoader());\r\n```\r\n\r\nI debugged Hazelcast code and noticed it&#39;s trying to use NarClassLoader to load the class. NarClassLoader comes from the Apache Nifi framework I am using. Nifi packages code into .nar files instead of .jar files.\r\n\r\nNo idea why it would try to use this class loader just for EntryExpiredListener. Other services are working meaning it&#39;s using a different class loader and loading the class successfully.","title":"Hazelcast class not found exception on EntryExpiredListener","body":"<p>Solved this by setting class loader for HazelcastClient:</p>\n<pre><code>ClientConfig clientConfig = new ClientConfig();\nclientConfig.setClassLoader(TestService.class.getClassLoader());\n</code></pre>\n<p>I debugged Hazelcast code and noticed it's trying to use NarClassLoader to load the class. NarClassLoader comes from the Apache Nifi framework I am using. Nifi packages code into .nar files instead of .jar files.</p>\n<p>No idea why it would try to use this class loader just for EntryExpiredListener. Other services are working meaning it's using a different class loader and loading the class successfully.</p>\n"}],"owner":{"account_id":17359208,"reputation":75,"user_id":12575898,"display_name":"luka_roves"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1025,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634715664,"creation_date":1634647934,"question_id":69631190,"body_markdown":"I am getting a serialization exception due to class not found when using an EntryExpiredListener.\r\n\r\nI created a test jar and narrowed the issue down.\r\n\r\nTest jar contains **TestService, CacheKey and CacheValue**.\r\nTestService inserts key type CacheKey and value type CacheValue to IMap.\r\nIt registers an EntryExpiryListener to listen for the expiry of the inserted entries.\r\n\r\nTestService code is simple:\r\n```\r\nhazelcastService.put(\r\n        new CacheKey(&quot;11&quot;, &quot;12345&quot;,  &quot;678910&quot;, 1624174140000L),\r\n        new CacheValue(new HashMap&lt;&gt;())); // ttl is set to 30 sec\r\n\r\nCollection&lt;HazelcastInstance&gt; instances = HazelcastClient.getAllHazelcastClients();\r\nOptional&lt;HazelcastInstance&gt; instance = instances.stream().findAny();\r\nif (!instance.isPresent()) {\r\n    throw new IllegalStateException(&quot;Can not find Hazelcast instance!&quot;);\r\n}\r\n// HazelcastInstance is created by framework component\r\nIMap&lt;CacheKey, CacheValue&gt; cacheMap = instance.get().getMap(cacheName);\r\n\r\ncacheMap.addEntryListener((EntryExpiredListener&lt;CacheKey, CacheValue&gt;) event -&gt; {\r\n    CacheKey key = event.getKey();\r\n    CacheValue val = event.getOldValue();\r\n}, true);\r\n```\r\n```\r\npublic class CacheKey implements Serializable {\r\n    private static final long serialVersionUID = 123412453256L;\r\n    private final String type;\r\n    private final String field1;\r\n    private final String field2;\r\n    private final long timestamp;\r\n\t\r\n\t// constructor, getters\r\n```\r\n```\r\npublic class CacheValue implements Serializable {\r\n    private static final long serialVersionUID = 658933453256L;\r\n    private final HashMap&lt;String, Object&gt; recordMap;\r\n\t\r\n\t// constructor, getters\r\n```\r\n\t\r\n**Issue**\r\n\r\n\r\nWhen entry expires, it throws serialization exception due to class not found exception for CacheKey.\r\n```\r\nMethod threw &#39;com.hazelcast.nio.serialization.HazelcastSerializationException&#39; exception. Cannot evaluate com.hazelcast.map.impl.DataAwareEntryEvent.toString()\r\n```\r\n```\r\n2021-10-19 16:41:13,921 ERROR [hz.client_1.event-4] c.h.c.impl.spi.ClientListenerService hz.client_1 [nifi] [4.2] hz.client_1.event-4 caught an exception while processing:com.hazelcast.client.impl.spi.impl.listener.ClientListenerServiceImpl$ClientEventProcessor@782e8844\r\ncom.hazelcast.nio.serialization.HazelcastSerializationException: java.lang.ClassNotFoundException: com.myapp.expirytest.CacheKey\r\n        at com.hazelcast.internal.serialization.impl.defaultserializers.JavaDefaultSerializers$JavaSerializer.read(JavaDefaultSerializers.java:90)\r\n        at com.hazelcast.internal.serialization.impl.defaultserializers.JavaDefaultSerializers$JavaSerializer.read(JavaDefaultSerializers.java:79)\r\n        at com.hazelcast.internal.serialization.impl.StreamSerializerAdapter.read(StreamSerializerAdapter.java:44)\r\n        at com.hazelcast.internal.serialization.impl.AbstractSerializationService.toObject(AbstractSerializationService.java:208)\r\n        at com.hazelcast.map.impl.DataAwareEntryEvent.getKey(DataAwareEntryEvent.java:74)\r\n        at com.ipfli.drs.nifi.processor.hzexpirytest.ExpiryTest.lambda$onScheduled$0(ExpiryTest.java:112)\r\n        at com.hazelcast.map.impl.MapListenerAdaptors.lambda$null$6(MapListenerAdaptors.java:93)\r\n        at com.hazelcast.map.impl.InternalMapListenerAdapter.onEvent(InternalMapListenerAdapter.java:56)\r\n        at com.hazelcast.map.impl.InternalMapListenerAdapter.onEvent(InternalMapListenerAdapter.java:35)\r\n        at com.hazelcast.client.impl.proxy.ClientMapProxy$AbstractClientMapEventHandler.handleEntryEvent(ClientMapProxy.java:2004)\r\n        at com.hazelcast.client.impl.proxy.ClientMapProxy$ClientMapEventHandler$1.handleEntryEvent(ClientMapProxy.java:1981)\r\n        at com.hazelcast.client.impl.protocol.codec.MapAddEntryListenerCodec$AbstractEventHandler.handle(MapAddEntryListenerCodec.java:164)\r\n        at com.hazelcast.client.impl.proxy.ClientMapProxy$ClientMapEventHandler.handle(ClientMapProxy.java:1989)\r\n        at com.hazelcast.client.impl.proxy.ClientMapProxy$ClientMapEventHandler.handle(ClientMapProxy.java:1971)\r\n        at com.hazelcast.client.impl.spi.impl.listener.ClientListenerServiceImpl.handleEventMessageOnCallingThread(ClientListenerServiceImpl.java:189)\r\n        at com.hazelcast.client.impl.spi.impl.listener.ClientListenerServiceImpl$ClientEventProcessor.run(ClientListenerServiceImpl.java:356)\r\n        at com.hazelcast.internal.util.executor.StripedExecutor$Worker.process(StripedExecutor.java:245)\r\n        at com.hazelcast.internal.util.executor.StripedExecutor$Worker.run(StripedExecutor.java:228)\r\nCaused by: java.lang.ClassNotFoundException: com.myapp.expirytest.CacheKey\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n        at com.hazelcast.internal.nio.ClassLoaderUtil.tryLoadClass(ClassLoaderUtil.java:289)\r\n        at com.hazelcast.internal.nio.ClassLoaderUtil.loadClass(ClassLoaderUtil.java:249)\r\n        at com.hazelcast.internal.nio.IOUtil$ClassLoaderAwareObjectInputStream.resolveClass(IOUtil.java:910)\r\n        at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1984)\r\n        at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1848)\r\n        at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2158)\r\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1665)\r\n        at java.io.ObjectInputStream.readObject(ObjectInputStream.java:501)\r\n        at java.io.ObjectInputStream.readObject(ObjectInputStream.java:459)\r\n        at com.hazelcast.internal.serialization.impl.defaultserializers.JavaDefaultSerializers$JavaSerializer.read(JavaDefaultSerializers.java:86)\r\n        ... 17 common frames omitted\r\n```\r\nTest jar is deployed to user-lib folder.\r\nI know CacheKey class is deployed server side properly because I use a different service to fetch it, it works without issues.\r\nDone many other tests. Only issue is with EntryExpiredListener.\r\n\r\nHazelcast server and JVM client are both running on my local machine, single node.\r\nHazelcast version 4.2.1\r\n\r\nSo everything is in the same jar and I know class is deployed server side.\r\nWhat am I missing?","title":"Hazelcast class not found exception on EntryExpiredListener","body":"<p>I am getting a serialization exception due to class not found when using an EntryExpiredListener.</p>\n<p>I created a test jar and narrowed the issue down.</p>\n<p>Test jar contains <strong>TestService, CacheKey and CacheValue</strong>.\nTestService inserts key type CacheKey and value type CacheValue to IMap.\nIt registers an EntryExpiryListener to listen for the expiry of the inserted entries.</p>\n<p>TestService code is simple:</p>\n<pre><code>hazelcastService.put(\n        new CacheKey(&quot;11&quot;, &quot;12345&quot;,  &quot;678910&quot;, 1624174140000L),\n        new CacheValue(new HashMap&lt;&gt;())); // ttl is set to 30 sec\n\nCollection&lt;HazelcastInstance&gt; instances = HazelcastClient.getAllHazelcastClients();\nOptional&lt;HazelcastInstance&gt; instance = instances.stream().findAny();\nif (!instance.isPresent()) {\n    throw new IllegalStateException(&quot;Can not find Hazelcast instance!&quot;);\n}\n// HazelcastInstance is created by framework component\nIMap&lt;CacheKey, CacheValue&gt; cacheMap = instance.get().getMap(cacheName);\n\ncacheMap.addEntryListener((EntryExpiredListener&lt;CacheKey, CacheValue&gt;) event -&gt; {\n    CacheKey key = event.getKey();\n    CacheValue val = event.getOldValue();\n}, true);\n</code></pre>\n<pre><code>public class CacheKey implements Serializable {\n    private static final long serialVersionUID = 123412453256L;\n    private final String type;\n    private final String field1;\n    private final String field2;\n    private final long timestamp;\n    \n    // constructor, getters\n</code></pre>\n<pre><code>public class CacheValue implements Serializable {\n    private static final long serialVersionUID = 658933453256L;\n    private final HashMap&lt;String, Object&gt; recordMap;\n    \n    // constructor, getters\n</code></pre>\n<p><strong>Issue</strong></p>\n<p>When entry expires, it throws serialization exception due to class not found exception for CacheKey.</p>\n<pre><code>Method threw 'com.hazelcast.nio.serialization.HazelcastSerializationException' exception. Cannot evaluate com.hazelcast.map.impl.DataAwareEntryEvent.toString()\n</code></pre>\n<pre><code>2021-10-19 16:41:13,921 ERROR [hz.client_1.event-4] c.h.c.impl.spi.ClientListenerService hz.client_1 [nifi] [4.2] hz.client_1.event-4 caught an exception while processing:com.hazelcast.client.impl.spi.impl.listener.ClientListenerServiceImpl$ClientEventProcessor@782e8844\ncom.hazelcast.nio.serialization.HazelcastSerializationException: java.lang.ClassNotFoundException: com.myapp.expirytest.CacheKey\n        at com.hazelcast.internal.serialization.impl.defaultserializers.JavaDefaultSerializers$JavaSerializer.read(JavaDefaultSerializers.java:90)\n        at com.hazelcast.internal.serialization.impl.defaultserializers.JavaDefaultSerializers$JavaSerializer.read(JavaDefaultSerializers.java:79)\n        at com.hazelcast.internal.serialization.impl.StreamSerializerAdapter.read(StreamSerializerAdapter.java:44)\n        at com.hazelcast.internal.serialization.impl.AbstractSerializationService.toObject(AbstractSerializationService.java:208)\n        at com.hazelcast.map.impl.DataAwareEntryEvent.getKey(DataAwareEntryEvent.java:74)\n        at com.ipfli.drs.nifi.processor.hzexpirytest.ExpiryTest.lambda$onScheduled$0(ExpiryTest.java:112)\n        at com.hazelcast.map.impl.MapListenerAdaptors.lambda$null$6(MapListenerAdaptors.java:93)\n        at com.hazelcast.map.impl.InternalMapListenerAdapter.onEvent(InternalMapListenerAdapter.java:56)\n        at com.hazelcast.map.impl.InternalMapListenerAdapter.onEvent(InternalMapListenerAdapter.java:35)\n        at com.hazelcast.client.impl.proxy.ClientMapProxy$AbstractClientMapEventHandler.handleEntryEvent(ClientMapProxy.java:2004)\n        at com.hazelcast.client.impl.proxy.ClientMapProxy$ClientMapEventHandler$1.handleEntryEvent(ClientMapProxy.java:1981)\n        at com.hazelcast.client.impl.protocol.codec.MapAddEntryListenerCodec$AbstractEventHandler.handle(MapAddEntryListenerCodec.java:164)\n        at com.hazelcast.client.impl.proxy.ClientMapProxy$ClientMapEventHandler.handle(ClientMapProxy.java:1989)\n        at com.hazelcast.client.impl.proxy.ClientMapProxy$ClientMapEventHandler.handle(ClientMapProxy.java:1971)\n        at com.hazelcast.client.impl.spi.impl.listener.ClientListenerServiceImpl.handleEventMessageOnCallingThread(ClientListenerServiceImpl.java:189)\n        at com.hazelcast.client.impl.spi.impl.listener.ClientListenerServiceImpl$ClientEventProcessor.run(ClientListenerServiceImpl.java:356)\n        at com.hazelcast.internal.util.executor.StripedExecutor$Worker.process(StripedExecutor.java:245)\n        at com.hazelcast.internal.util.executor.StripedExecutor$Worker.run(StripedExecutor.java:228)\nCaused by: java.lang.ClassNotFoundException: com.myapp.expirytest.CacheKey\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n        at com.hazelcast.internal.nio.ClassLoaderUtil.tryLoadClass(ClassLoaderUtil.java:289)\n        at com.hazelcast.internal.nio.ClassLoaderUtil.loadClass(ClassLoaderUtil.java:249)\n        at com.hazelcast.internal.nio.IOUtil$ClassLoaderAwareObjectInputStream.resolveClass(IOUtil.java:910)\n        at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1984)\n        at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1848)\n        at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2158)\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1665)\n        at java.io.ObjectInputStream.readObject(ObjectInputStream.java:501)\n        at java.io.ObjectInputStream.readObject(ObjectInputStream.java:459)\n        at com.hazelcast.internal.serialization.impl.defaultserializers.JavaDefaultSerializers$JavaSerializer.read(JavaDefaultSerializers.java:86)\n        ... 17 common frames omitted\n</code></pre>\n<p>Test jar is deployed to user-lib folder.\nI know CacheKey class is deployed server side properly because I use a different service to fetch it, it works without issues.\nDone many other tests. Only issue is with EntryExpiredListener.</p>\n<p>Hazelcast server and JVM client are both running on my local machine, single node.\nHazelcast version 4.2.1</p>\n<p>So everything is in the same jar and I know class is deployed server side.\nWhat am I missing?</p>\n"},{"tags":["java","bufferedimage"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1634716544,"post_id":69641992,"comment_id":123096661,"body_markdown":"It is not possible.  An animated GIF is a *sequence* of images.  But a `BufferedImage` represents a single image.","body":"It is not possible.  An animated GIF is a <i>sequence</i> of images.  But a <code>BufferedImage</code> represents a single image."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1634716804,"post_id":69641992,"comment_id":123096782,"body_markdown":"See also https://stackoverflow.com/questions/36054058 ... whose comments also say that it isn&#39;t possible to represent an animated GIF as a **single** `BufferedImage`.","body":"See also <a href=\"https://stackoverflow.com/questions/36054058\">stackoverflow.com/questions/36054058</a> ... whose comments also say that it isn&#39;t possible to represent an animated GIF as a <b>single</b> <code>BufferedImage</code>."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1634716867,"post_id":69641992,"comment_id":123096808,"body_markdown":"The dup link gives a practical solution.","body":"The dup link gives a practical solution."}],"owner":{"account_id":19562749,"reputation":55,"user_id":14315645,"display_name":"CORRIT_"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1634716695,"answer_count":0,"score":0,"last_activity_date":1634715206,"creation_date":1634715206,"question_id":69641992,"body_markdown":"So I was wondering how I could convert an Image (from java.awt.Image) to a BufferedImage without loosing the GIFS animation. Im working on a method which gets a `byte[]` (an Image as byte array) then I need to translate it to a `Image` (with a `ByteArrayInputStream`), resize it, and then return the newly resized image back as `byte[]`. The problem is `BufferedImage.getScaledInstace(...)` returns an `java.awt.Image`, but I need a `BufferedImage` to convert it back to a `byte[]`.\r\n\r\nMy code so far:\r\n\r\n    private byte[] resizeImage(byte[] bytes, String format, int size) throws IOException {\r\n        BufferedImage image = ImageIO.read(new ByteArrayInputStream(bytes));\r\n        double ratio = (double) image.getHeight() / (double) image.getWidth();\r\n        Image newImage = image.getScaledInstance(size, (int) (size * ratio), Image.SCALE_SMOOTH);\r\n        \r\n        // TODO: Convert into byte array\r\n        return null;\r\n    }\r\n\r\n","title":"How To Convert a Image to a BufferedImage without loosing a GIFs animation","body":"<p>So I was wondering how I could convert an Image (from java.awt.Image) to a BufferedImage without loosing the GIFS animation. Im working on a method which gets a <code>byte[]</code> (an Image as byte array) then I need to translate it to a <code>Image</code> (with a <code>ByteArrayInputStream</code>), resize it, and then return the newly resized image back as <code>byte[]</code>. The problem is <code>BufferedImage.getScaledInstace(...)</code> returns an <code>java.awt.Image</code>, but I need a <code>BufferedImage</code> to convert it back to a <code>byte[]</code>.</p>\n<p>My code so far:</p>\n<pre><code>private byte[] resizeImage(byte[] bytes, String format, int size) throws IOException {\n    BufferedImage image = ImageIO.read(new ByteArrayInputStream(bytes));\n    double ratio = (double) image.getHeight() / (double) image.getWidth();\n    Image newImage = image.getScaledInstance(size, (int) (size * ratio), Image.SCALE_SMOOTH);\n    \n    // TODO: Convert into byte array\n    return null;\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1634714275,"post_id":69641779,"comment_id":123095783,"body_markdown":"Are you sure that the strings are equal, e.g. do they contain non-printable characters in one of the maps?","body":"Are you sure that the strings are equal, e.g. do they contain non-printable characters in one of the maps?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1634714334,"post_id":69641779,"comment_id":123095808,"body_markdown":"Perhaps you would like to post a [mre].","body":"Perhaps you would like to post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":2,"creation_date":1634714370,"post_id":69641779,"comment_id":123095819,"body_markdown":"What if `SST=2` has a `2L` and the other one an integer? And what if `DNN=&quot;Internet&quot;` is just a `toString()` of two completely different types of objects? We wouldn&#39;t know. Please add a full description including the data types, etc.","body":"What if <code>SST=2</code> has a <code>2L</code> and the other one an integer? And what if <code>DNN=&quot;Internet&quot;</code> is just a <code>toString()</code> of two completely different types of objects? We wouldn&#39;t know. Please add a full description including the data types, etc."},{"owner":{"account_id":11629013,"reputation":315,"user_id":8517895,"accept_rate":50,"display_name":"divya"},"score":0,"creation_date":1634714370,"post_id":69641779,"comment_id":123095820,"body_markdown":"No they dont have any non-printable Chars. When I printed the hashCode() I got 2 diff ids for 2 maps. should it be same ?","body":"No they dont have any non-printable Chars. When I printed the hashCode() I got 2 diff ids for 2 maps. should it be same ?"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":2,"creation_date":1634714423,"post_id":69641779,"comment_id":123095832,"body_markdown":"Have you implemented Equals/Hashcode for the object that is inside your map.","body":"Have you implemented Equals/Hashcode for the object that is inside your map."},{"owner":{"account_id":11629013,"reputation":315,"user_id":8517895,"accept_rate":50,"display_name":"divya"},"score":0,"creation_date":1634714579,"post_id":69641779,"comment_id":123095891,"body_markdown":"I have not implemented any. I used java.util.Map method. The equals when I used for &lt;String,String&gt; it worked, but not for &lt;String, Object&gt;","body":"I have not implemented any. I used java.util.Map method. The equals when I used for &lt;String,String&gt; it worked, but not for &lt;String, Object&gt;"},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1634714840,"post_id":69641779,"comment_id":123095991,"body_markdown":"You have to debug your both maps in the debugger to compare their actual values types. Types must be the same. What confuses you is that those implementations _most likely_ have equivalent `toString` outcomes so you cannot distinguish them (just like @ernest_k mentioned). Additionally, your question heavily lacks the way you put entries to your maps, so no answers, only guesses.","body":"You have to debug your both maps in the debugger to compare their actual values types. Types must be the same. What confuses you is that those implementations <i>most likely</i> have equivalent <code>toString</code> outcomes so you cannot distinguish them (just like @ernest_k mentioned). Additionally, your question heavily lacks the way you put entries to your maps, so no answers, only guesses."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1634714840,"post_id":69641779,"comment_id":123095992,"body_markdown":"Is one of the 2s an `Integer` and one a `Long`?","body":"Is one of the 2s an <code>Integer</code> and one a <code>Long</code>?"},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1634714907,"post_id":69641779,"comment_id":123096022,"body_markdown":"If the strings or Integer are put to both maps of the same type, they are equal [online demo](https://ideone.com/znHLzV)","body":"If the strings or Integer are put to both maps of the same type, they are equal <a href=\"https://ideone.com/znHLzV\" rel=\"nofollow noreferrer\">online demo</a>"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1634714882,"creation_date":1634714513,"answer_id":69641875,"question_id":69641779,"body_markdown":"&gt; I need the output as true. What I need to use for it ?\r\n\r\nWell, equal maps.\r\n\r\nAccording to the [Javadoc for `Map.equals(Object)`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html#equals(java.lang.Object)):\r\n\r\n&gt; Returns true if the given object is also a map and the two maps represent the same mappings. More formally, two maps m1 and m2 represent the same mappings if `m1.entrySet().equals(m2.entrySet())`.\r\n\r\n`HashMap` has a correct `equals` implementation; so the conclusion you can draw is that the entry sets actually aren&#39;t equal.\r\n\r\nIt&#39;s easy for the string representation of a Java object to look the same as another (e.g. `&quot;0&quot;`, `Integer.valueOf(0)` and `Long.valueOf(0)` all print as `0`); it&#39;s also possible for Strings to contain non-printable characters, e.g. `&quot;0\\0&quot;` and `&quot;0&quot;` will print the same, but are not equal. And, of course, if you&#39;re using custom objects, you need to ensure that `equals` and `hashCode` are implemented correctly.\r\n\r\nCheck both keys and values in both sets, to see which one causes them not to be equal.\r\n\r\nFor example:\r\n\r\n```\r\nSet&lt;Map.Entry&lt;?, ?&gt;&gt; entrySet1 = new HashSet&lt;&gt;(map1.entrySet());\r\nentrySet1.removeAll(map2.entrySet());\r\nif (!entrySet1.isEmpty()) {\r\n  System.out.println(&quot;Entries only in map1: &quot; + entrySet1);\r\n}\r\n\r\nSet&lt;Map.Entry&lt;?, ?&gt;&gt; entrySet2 = new HashSet&lt;&gt;(map2.entrySet());\r\nentrySet2.removeAll(map1.entrySet());\r\nif (!entrySet2.isEmpty()) {\r\n  System.out.println(&quot;Entries only in map2: &quot; + entrySet2);\r\n}\r\n```","title":"Compare both keys and Values of two Maps containing &lt;String, Object&gt;","body":"<blockquote>\n<p>I need the output as true. What I need to use for it ?</p>\n</blockquote>\n<p>Well, equal maps.</p>\n<p>According to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">Javadoc for <code>Map.equals(Object)</code></a>:</p>\n<blockquote>\n<p>Returns true if the given object is also a map and the two maps represent the same mappings. More formally, two maps m1 and m2 represent the same mappings if <code>m1.entrySet().equals(m2.entrySet())</code>.</p>\n</blockquote>\n<p><code>HashMap</code> has a correct <code>equals</code> implementation; so the conclusion you can draw is that the entry sets actually aren't equal.</p>\n<p>It's easy for the string representation of a Java object to look the same as another (e.g. <code>&quot;0&quot;</code>, <code>Integer.valueOf(0)</code> and <code>Long.valueOf(0)</code> all print as <code>0</code>); it's also possible for Strings to contain non-printable characters, e.g. <code>&quot;0\\0&quot;</code> and <code>&quot;0&quot;</code> will print the same, but are not equal. And, of course, if you're using custom objects, you need to ensure that <code>equals</code> and <code>hashCode</code> are implemented correctly.</p>\n<p>Check both keys and values in both sets, to see which one causes them not to be equal.</p>\n<p>For example:</p>\n<pre><code>Set&lt;Map.Entry&lt;?, ?&gt;&gt; entrySet1 = new HashSet&lt;&gt;(map1.entrySet());\nentrySet1.removeAll(map2.entrySet());\nif (!entrySet1.isEmpty()) {\n  System.out.println(&quot;Entries only in map1: &quot; + entrySet1);\n}\n\nSet&lt;Map.Entry&lt;?, ?&gt;&gt; entrySet2 = new HashSet&lt;&gt;(map2.entrySet());\nentrySet2.removeAll(map1.entrySet());\nif (!entrySet2.isEmpty()) {\n  System.out.println(&quot;Entries only in map2: &quot; + entrySet2);\n}\n</code></pre>\n"}],"owner":{"account_id":11629013,"reputation":315,"user_id":8517895,"accept_rate":50,"display_name":"divya"},"comment_count":9,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"closed_date":1634714967,"answer_count":1,"score":-4,"last_activity_date":1634714882,"creation_date":1634714069,"question_id":69641779,"body_markdown":"I have 2 Maps, \r\n\r\n    Map&lt;String, Object&gt; map1 = new HashMap&lt;String, Object&gt;();\r\n    Map&lt;String, Object&gt; map2 = new HashMap&lt;String, Object&gt;(); \r\n    \r\n    map1 has {SD=&quot;BBBBBB&quot;, DNN=&quot;Internet&quot;, SST=2}\r\n    map2 has {SD=&quot;BBBBBB&quot;, DNN=&quot;Internet&quot;, SST=2}\r\n  \r\n\r\n    map1.equals(map2) =&gt; false\r\n\r\nI need the output as true. What I need to use for it ?\r\n\r\n","title":"Compare both keys and Values of two Maps containing &lt;String, Object&gt;","body":"<p>I have 2 Maps,</p>\n<pre><code>Map&lt;String, Object&gt; map1 = new HashMap&lt;String, Object&gt;();\nMap&lt;String, Object&gt; map2 = new HashMap&lt;String, Object&gt;(); \n\nmap1 has {SD=&quot;BBBBBB&quot;, DNN=&quot;Internet&quot;, SST=2}\nmap2 has {SD=&quot;BBBBBB&quot;, DNN=&quot;Internet&quot;, SST=2}\n\n\nmap1.equals(map2) =&gt; false\n</code></pre>\n<p>I need the output as true. What I need to use for it ?</p>\n"},{"tags":["java","active-directory","ldap"],"answers":[{"tags":[],"owner":{"account_id":6325956,"reputation":324,"user_id":4912431,"display_name":"DaviM"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1526071006,"creation_date":1526071006,"answer_id":50299924,"question_id":50296677,"body_markdown":"Since you asked for **hints** (not the answer) and I don&#39;t know which security framework you&#39;re using, I can at least give you one hint:\r\n\r\nSearch for `Spring Security Framework`. They have options so you can use LDAP, AD and other authentication types.\r\n\r\n\r\n","title":"How to authenticate from java/ldap wtih Windows Group Managed Service Account (GMSA)","body":"<p>Since you asked for <strong>hints</strong> (not the answer) and I don't know which security framework you're using, I can at least give you one hint:</p>\n\n<p>Search for <code>Spring Security Framework</code>. They have options so you can use LDAP, AD and other authentication types.</p>\n"},{"tags":[],"owner":{"account_id":23087747,"reputation":1,"user_id":17199027,"display_name":"Martin Jacobsen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634714864,"creation_date":1634714864,"answer_id":69641935,"question_id":50296677,"body_markdown":"We have had similar problems using the UnboundID LDAP SDK, as well as Spring LDAP, to do a LDAP bind to a gMSA. After a lot of trial and error I found a solution. A quick rundown of the solution: A .Net console application to extract the password and decrypt it, the writing it to the output to be able to read it from a Java application. Then using a DIGEST-MD5 bind we are able to bind to the gMSA user. More info about all of this can be found in this post: \r\n\r\nhttps://sourceforge.net/p/ldap-sdk/discussion/1001257/thread/bb0f55349f/","title":"How to authenticate from java/ldap wtih Windows Group Managed Service Account (GMSA)","body":"<p>We have had similar problems using the UnboundID LDAP SDK, as well as Spring LDAP, to do a LDAP bind to a gMSA. After a lot of trial and error I found a solution. A quick rundown of the solution: A .Net console application to extract the password and decrypt it, the writing it to the output to be able to read it from a Java application. Then using a DIGEST-MD5 bind we are able to bind to the gMSA user. More info about all of this can be found in this post:</p>\n<p><a href=\"https://sourceforge.net/p/ldap-sdk/discussion/1001257/thread/bb0f55349f/\" rel=\"nofollow noreferrer\">https://sourceforge.net/p/ldap-sdk/discussion/1001257/thread/bb0f55349f/</a></p>\n"}],"owner":{"account_id":1380999,"reputation":1065,"user_id":1313990,"accept_rate":22,"display_name":"Mike Cooper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1485,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634714864,"creation_date":1526056596,"question_id":50296677,"body_markdown":"We have a java application which currently uses a single Active Directory account (username + password) to do the following:\r\n- Run application as a Windows Service\r\n- Authenticate with SQL Server through jdbc\r\n- Query/scan AD using LDAP\r\n\r\nA customer is asking if we can support Group Managed Service Accounts (GMSA).  I can&#39;t seem to find any mention of how to do this here or other sites.  Can someone give me some hints on the last 2 items in the list?  Is the LDAP authentication just a matter of additional parameters being given?  Or a totally different method?\r\n\r\nWe are using unbound for LDAP access.\r\n","title":"How to authenticate from java/ldap wtih Windows Group Managed Service Account (GMSA)","body":"<p>We have a java application which currently uses a single Active Directory account (username + password) to do the following:\n- Run application as a Windows Service\n- Authenticate with SQL Server through jdbc\n- Query/scan AD using LDAP</p>\n\n<p>A customer is asking if we can support Group Managed Service Accounts (GMSA).  I can't seem to find any mention of how to do this here or other sites.  Can someone give me some hints on the last 2 items in the list?  Is the LDAP authentication just a matter of additional parameters being given?  Or a totally different method?</p>\n\n<p>We are using unbound for LDAP access.</p>\n"},{"tags":["java","swig"],"answers":[{"tags":[],"owner":{"account_id":1614759,"reputation":71,"user_id":1492764,"display_name":"William S Fulton"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1452988030,"creation_date":1452988030,"answer_id":34833455,"question_id":30272562,"body_markdown":"Below is a complete example including the typemaps for both ```boost::optional&lt;double&gt;``` and ```boost::optional&lt;std::string&gt;```.\r\n\r\n    %module example\r\n\r\n    %{\r\n    #include &lt;boost/optional.hpp&gt;\r\n    %}\r\n\r\n    namespace boost {\r\n      template&lt;typename T&gt; class optional {};\r\n    }\r\n\r\n    // boost::optional&lt;double&gt;\r\n    %typemap(jni) boost::optional&lt;double&gt; &quot;jobject&quot;\r\n    %typemap(jtype) boost::optional&lt;double&gt; &quot;Double&quot;\r\n    %typemap(jstype) boost::optional&lt;double&gt; &quot;Double&quot;\r\n    %typemap(in, noblock=1) boost::optional&lt;double&gt; {\r\n      if ($input) {\r\n        jclass sbufClass = JCALL1(GetObjectClass, jenv, $input);\r\n        jmethodID mid = JCALL3(GetMethodID, jenv, sbufClass, &quot;doubleValue&quot;, &quot;()D&quot;);\r\n        jdouble val = (jdouble)JCALL2(CallDoubleMethod, jenv, $input, mid);\r\n        if (JCALL0(ExceptionCheck, jenv)) return $null;\r\n        $1 = (double)val;\r\n      }\r\n    }\r\n    %typemap(out, noblock=1) boost::optional&lt;double&gt; {\r\n      jclass clazz = JCALL1(FindClass, jenv, &quot;java/lang/Double&quot;);\r\n      jmethodID mid = JCALL3(GetMethodID, jenv, clazz, &quot;&lt;init&gt;&quot;, &quot;(D)V&quot;);\r\n      jobject obj = $1 ? JCALL3(NewObject, jenv, clazz, mid, *$1) : 0;\r\n      $result = obj;\r\n    }\r\n    %typemap(javain) boost::optional&lt;double&gt; &quot;$javainput&quot;\r\n    %typemap(javaout) boost::optional&lt;double&gt; {\r\n        return $jnicall;\r\n      }\r\n\r\n    %template() boost::optional&lt;double&gt;;\r\n\r\n    // boost::optional&lt;std::string&gt;\r\n    %include &lt;std_string.i&gt;\r\n\r\n    %typemap(jni) boost::optional&lt;std::string&gt; &quot;jstring&quot;\r\n    %typemap(jtype) boost::optional&lt;std::string&gt; &quot;String&quot;\r\n    %typemap(jstype) boost::optional&lt;std::string&gt; &quot;String&quot;\r\n    %typemap(in) boost::optional&lt;std::string&gt; %{\r\n      if ($input) {\r\n        const char *pstr = (const char *)jenv-&gt;GetStringUTFChars($input, 0); \r\n        if (!pstr) return $null;\r\n        $1 = std::string(pstr);\r\n        jenv-&gt;ReleaseStringUTFChars($input, pstr);\r\n      }\r\n    %}\r\n    %typemap(out) boost::optional&lt;std::string&gt;\r\n    %{ $result = $1 ? jenv-&gt;NewStringUTF($1-&gt;c_str()) : 0; %}\r\n    %typemap(javain) boost::optional&lt;std::string&gt; &quot;$javainput&quot;\r\n    %typemap(javaout) boost::optional&lt;std::string&gt; {\r\n        return $jnicall;\r\n      }\r\n\r\n    %template() boost::optional&lt;std::string&gt;;\r\n\r\n    %inline %{\r\n    #include &lt;iostream&gt;\r\n      boost::optional&lt;double&gt; optional_double_test(boost::optional&lt;double&gt; x) { \r\n        if (x)\r\n          std::cout &lt;&lt; &quot;C++ &quot; &lt;&lt; *x &lt;&lt; std::endl;\r\n        else\r\n          std::cout &lt;&lt; &quot;C++ &quot; &lt;&lt; &quot;NULL&quot; &lt;&lt; std::endl;\r\n        return x;\r\n      }\r\n      boost::optional&lt;std::string&gt; optional_string_test(boost::optional&lt;std::string&gt; x) { \r\n        if (x)\r\n          std::cout &lt;&lt; &quot;C++ &quot; &lt;&lt; *x &lt;&lt; std::endl;\r\n        else\r\n          std::cout &lt;&lt; &quot;C++ &quot; &lt;&lt; &quot;NULL&quot; &lt;&lt; std::endl;\r\n        return x;\r\n      }\r\n    %}\r\n\r\nExample usage from java:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    System.out.println(&quot;java &quot; + example.optional_double_test(null));\r\n    System.out.println(&quot;java &quot; + example.optional_double_test(123.456));\r\n\r\n    System.out.println(&quot;java &quot; + example.optional_string_test(null));\r\n    System.out.println(&quot;java &quot; + example.optional_string_test(&quot;greetings&quot;));\r\n\r\n\r\n","title":"SWIG wrap boost::optional&lt;&gt; in Java","body":"<p>Below is a complete example including the typemaps for both <code>boost::optional&lt;double&gt;</code> and <code>boost::optional&lt;std::string&gt;</code>.</p>\n\n<pre><code>%module example\n\n%{\n#include &lt;boost/optional.hpp&gt;\n%}\n\nnamespace boost {\n  template&lt;typename T&gt; class optional {};\n}\n\n// boost::optional&lt;double&gt;\n%typemap(jni) boost::optional&lt;double&gt; \"jobject\"\n%typemap(jtype) boost::optional&lt;double&gt; \"Double\"\n%typemap(jstype) boost::optional&lt;double&gt; \"Double\"\n%typemap(in, noblock=1) boost::optional&lt;double&gt; {\n  if ($input) {\n    jclass sbufClass = JCALL1(GetObjectClass, jenv, $input);\n    jmethodID mid = JCALL3(GetMethodID, jenv, sbufClass, \"doubleValue\", \"()D\");\n    jdouble val = (jdouble)JCALL2(CallDoubleMethod, jenv, $input, mid);\n    if (JCALL0(ExceptionCheck, jenv)) return $null;\n    $1 = (double)val;\n  }\n}\n%typemap(out, noblock=1) boost::optional&lt;double&gt; {\n  jclass clazz = JCALL1(FindClass, jenv, \"java/lang/Double\");\n  jmethodID mid = JCALL3(GetMethodID, jenv, clazz, \"&lt;init&gt;\", \"(D)V\");\n  jobject obj = $1 ? JCALL3(NewObject, jenv, clazz, mid, *$1) : 0;\n  $result = obj;\n}\n%typemap(javain) boost::optional&lt;double&gt; \"$javainput\"\n%typemap(javaout) boost::optional&lt;double&gt; {\n    return $jnicall;\n  }\n\n%template() boost::optional&lt;double&gt;;\n\n// boost::optional&lt;std::string&gt;\n%include &lt;std_string.i&gt;\n\n%typemap(jni) boost::optional&lt;std::string&gt; \"jstring\"\n%typemap(jtype) boost::optional&lt;std::string&gt; \"String\"\n%typemap(jstype) boost::optional&lt;std::string&gt; \"String\"\n%typemap(in) boost::optional&lt;std::string&gt; %{\n  if ($input) {\n    const char *pstr = (const char *)jenv-&gt;GetStringUTFChars($input, 0); \n    if (!pstr) return $null;\n    $1 = std::string(pstr);\n    jenv-&gt;ReleaseStringUTFChars($input, pstr);\n  }\n%}\n%typemap(out) boost::optional&lt;std::string&gt;\n%{ $result = $1 ? jenv-&gt;NewStringUTF($1-&gt;c_str()) : 0; %}\n%typemap(javain) boost::optional&lt;std::string&gt; \"$javainput\"\n%typemap(javaout) boost::optional&lt;std::string&gt; {\n    return $jnicall;\n  }\n\n%template() boost::optional&lt;std::string&gt;;\n\n%inline %{\n#include &lt;iostream&gt;\n  boost::optional&lt;double&gt; optional_double_test(boost::optional&lt;double&gt; x) { \n    if (x)\n      std::cout &lt;&lt; \"C++ \" &lt;&lt; *x &lt;&lt; std::endl;\n    else\n      std::cout &lt;&lt; \"C++ \" &lt;&lt; \"NULL\" &lt;&lt; std::endl;\n    return x;\n  }\n  boost::optional&lt;std::string&gt; optional_string_test(boost::optional&lt;std::string&gt; x) { \n    if (x)\n      std::cout &lt;&lt; \"C++ \" &lt;&lt; *x &lt;&lt; std::endl;\n    else\n      std::cout &lt;&lt; \"C++ \" &lt;&lt; \"NULL\" &lt;&lt; std::endl;\n    return x;\n  }\n%}\n</code></pre>\n\n<p>Example usage from java:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(\"java \" + example.optional_double_test(null));\nSystem.out.println(\"java \" + example.optional_double_test(123.456));\n\nSystem.out.println(\"java \" + example.optional_string_test(null));\nSystem.out.println(\"java \" + example.optional_string_test(\"greetings\"));\n</code></pre>\n"}],"owner":{"account_id":2665129,"reputation":2351,"user_id":3605029,"accept_rate":55,"display_name":"sujithvm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":699,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1634714635,"creation_date":1431757780,"question_id":30272562,"body_markdown":"Is there a standard way to wrap boost::optional&lt;&gt; in Java as swig by default generates types `SWIGTYPE_p_boost__optionalT_double_t` and `SWIGTYPE_p_boost__optionalT_std__string_t` for `boost::optional&lt;double&gt; `and `boost::optional&lt;std::string&gt;` respectively ??\r\n\r\nFor python it can be done as mentioned in https://stackoverflow.com/questions/15912937/can-you-swig-a-boostoptional","title":"SWIG wrap boost::optional&lt;&gt; in Java","body":"<p>Is there a standard way to wrap boost::optional&lt;&gt; in Java as swig by default generates types <code>SWIGTYPE_p_boost__optionalT_double_t</code> and <code>SWIGTYPE_p_boost__optionalT_std__string_t</code> for <code>boost::optional&lt;double&gt; </code>and <code>boost::optional&lt;std::string&gt;</code> respectively ??</p>\n<p>For python it can be done as mentioned in <a href=\"https://stackoverflow.com/questions/15912937/can-you-swig-a-boostoptional\">Can you SWIG a boost::optional&lt;&gt;?</a></p>\n"},{"tags":["java","windows","swing","awt"],"comments":[{"owner":{"account_id":2259314,"reputation":11225,"user_id":1989769,"accept_rate":45,"display_name":"Sergiy Medvynskyy"},"score":3,"creation_date":1495103744,"post_id":44044316,"comment_id":75116044,"body_markdown":"Alt+TAB is intercepted by Windows, so you&#39;ll never get this key pair.","body":"Alt+TAB is intercepted by Windows, so you&#39;ll never get this key pair."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1495104640,"post_id":44044316,"comment_id":75116667,"body_markdown":"You shouldn&#39;t be looking for release of the [Alt] key, but checking the modifier state of the [Tab] key","body":"You shouldn&#39;t be looking for release of the [Alt] key, but checking the modifier state of the [Tab] key"},{"owner":{"account_id":559628,"reputation":116,"user_id":921898,"display_name":"ROBOKiTTY"},"score":0,"creation_date":1495134375,"post_id":44044316,"comment_id":75136857,"body_markdown":"@MadProgrammer That was one of the things I tried. As the top comment said, Windows is intercepting alt-tab, so a tab press while alt is held down is never sent to the dispatcher. I tested it with some more keys, and it seems Windows swallows most alt+key presses and fires an event for keycode KeyEvent.VK_UNDEFINED of ID KeyEvent.KEY_TYPED.","body":"@MadProgrammer That was one of the things I tried. As the top comment said, Windows is intercepting alt-tab, so a tab press while alt is held down is never sent to the dispatcher. I tested it with some more keys, and it seems Windows swallows most alt+key presses and fires an event for keycode KeyEvent.VK_UNDEFINED of ID KeyEvent.KEY_TYPED."},{"owner":{"account_id":559628,"reputation":116,"user_id":921898,"display_name":"ROBOKiTTY"},"score":0,"creation_date":1495135475,"post_id":44044316,"comment_id":75137434,"body_markdown":"So it seems the only way around it is to use a lower-level system hook like https://github.com/kristian/system-hook. I&#39;m not really keen on adding another dependency just to get this working, so I will have to reassess whether it&#39;s worthwhile to attempt replicating Windows behaviour in a platform-agnostic look &amp; feel.","body":"So it seems the only way around it is to use a lower-level system hook like <a href=\"https://github.com/kristian/system-hook\" rel=\"nofollow noreferrer\">github.com/kristian/system-hook</a>. I&#39;m not really keen on adding another dependency just to get this working, so I will have to reassess whether it&#39;s worthwhile to attempt replicating Windows behaviour in a platform-agnostic look &amp; feel."}],"answers":[{"tags":[],"owner":{"account_id":12448976,"reputation":351,"user_id":9064287,"display_name":"nhaggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634714512,"creation_date":1634714512,"answer_id":69641874,"question_id":44044316,"body_markdown":"Under macOS, there is the `com.apple.eawt.AppForegroundListener` which will tell you when the App is moved to background (which happens when the user presses CMD + TAB, which in turn corresponds to ALT + TAB under Windows). An `AppForegroundEvent` is fired when the App is moved to background (i.e. another App is active) or when it is moved to foreground again.\r\n\r\nI suppose under Windows there would be a similar package that allows to keep track of those events that are handled on OS basis.\r\n\r\n`com.apple.eawt` itself seems to be no longer available since Java 9, so have a look around the net to see more up-to-date implementations.\r\n\r\nIf your intention is to handle the ALT + TAB key in your application, you should implement `appMovedToBackground(AppForegroundEvent e)`, detect whether the app was moved to background by ALT + TAB or by clicking on another applications icon/window (guess that will be the hard part). Then put your application to foreground again and do whatever you intended to do with the ALT + TAB key-Event.","title":"KeyEventDispatcher doesn&#39;t catch tab when alt is pressed","body":"<p>Under macOS, there is the <code>com.apple.eawt.AppForegroundListener</code> which will tell you when the App is moved to background (which happens when the user presses CMD + TAB, which in turn corresponds to ALT + TAB under Windows). An <code>AppForegroundEvent</code> is fired when the App is moved to background (i.e. another App is active) or when it is moved to foreground again.</p>\n<p>I suppose under Windows there would be a similar package that allows to keep track of those events that are handled on OS basis.</p>\n<p><code>com.apple.eawt</code> itself seems to be no longer available since Java 9, so have a look around the net to see more up-to-date implementations.</p>\n<p>If your intention is to handle the ALT + TAB key in your application, you should implement <code>appMovedToBackground(AppForegroundEvent e)</code>, detect whether the app was moved to background by ALT + TAB or by clicking on another applications icon/window (guess that will be the hard part). Then put your application to foreground again and do whatever you intended to do with the ALT + TAB key-Event.</p>\n"}],"owner":{"account_id":559628,"reputation":116,"user_id":921898,"display_name":"ROBOKiTTY"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634714512,"creation_date":1495100850,"question_id":44044316,"body_markdown":"I started writing a custom KeyAdaptor so that releasing the alt key would fire an event highlighting the first item in the menu bar, to simulate how native Windows programs usually work. Then I noticed that when I alt-tab out and release alt, the program would lose focus and simultaneously highlight the menu item, which causes the defocused program to flash a notification.\r\n\r\nI found this behaviour annoying, so I tried to disable the alt release event when tab is pressed. I then found out that since tab is a focus traversal key, it&#39;s consumed by the focus system. So I read about KeyEventDispatcher, which pre-listens for key events, and switched to that. Now it does detect tab presses, but not when the alt key is down. Why does this happen, and how do I work around it?\r\n\r\n    private class KeyController implements KeyEventDispatcher {\r\n\t\t//true == pressed, false == not pressed\r\n\t\tprivate boolean[] keyStates = new boolean[256];\r\n\t\tprivate boolean ignoreNextAltRelease = false;\r\n\r\n\t\tprivate void keyReleased(KeyEvent e) {\r\n\t\t\tif (e.getKeyCode() == KeyEvent.VK_ALT) {\r\n\t\t\t\tif (!ignoreNextAltRelease) {\r\n\t\t\t\t\tSwingUtilities.invokeLater(new Runnable() {\r\n\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\tpublic void run() {\r\n\t\t\t\t\t\t\tmenuBar.getMenu(0).doClick();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tignoreNextAltRelease = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate void keyPressed(KeyEvent e) {\r\n\t\t\tif (e.getKeyCode() == KeyEvent.VK_TAB) {\r\n\t\t\t\tif (keyStates[KeyEvent.VK_ALT]) {\r\n\t\t\t\t\tignoreNextAltRelease = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic boolean dispatchKeyEvent(KeyEvent e) {\r\n\t\t\tif (e.getID() == KeyEvent.KEY_PRESSED) {\r\n\t\t\t\tkeyStates[e.getKeyCode()] = true;\r\n\t\t\t\tkeyPressed(e);\r\n\t\t\t}\r\n\t\t\telse if (e.getID() == KeyEvent.KEY_RELEASED) {\r\n\t\t\t\tkeyStates[e.getKeyCode()] = false;\r\n\t\t\t\tkeyReleased(e);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\nWhen I have alt pressed down and then press tab, the keyPressed method is never called on tab, but when tab is released, the keyReleased method is called on tab. When I release both keys simultaneously, the keyReleased method is called on both alt and tab.","title":"KeyEventDispatcher doesn&#39;t catch tab when alt is pressed","body":"<p>I started writing a custom KeyAdaptor so that releasing the alt key would fire an event highlighting the first item in the menu bar, to simulate how native Windows programs usually work. Then I noticed that when I alt-tab out and release alt, the program would lose focus and simultaneously highlight the menu item, which causes the defocused program to flash a notification.</p>\n\n<p>I found this behaviour annoying, so I tried to disable the alt release event when tab is pressed. I then found out that since tab is a focus traversal key, it's consumed by the focus system. So I read about KeyEventDispatcher, which pre-listens for key events, and switched to that. Now it does detect tab presses, but not when the alt key is down. Why does this happen, and how do I work around it?</p>\n\n<pre><code>private class KeyController implements KeyEventDispatcher {\n    //true == pressed, false == not pressed\n    private boolean[] keyStates = new boolean[256];\n    private boolean ignoreNextAltRelease = false;\n\n    private void keyReleased(KeyEvent e) {\n        if (e.getKeyCode() == KeyEvent.VK_ALT) {\n            if (!ignoreNextAltRelease) {\n                SwingUtilities.invokeLater(new Runnable() {\n                    @Override\n                    public void run() {\n                        menuBar.getMenu(0).doClick();\n                    }\n                });\n            }\n            ignoreNextAltRelease = false;\n        }\n    }\n\n    private void keyPressed(KeyEvent e) {\n        if (e.getKeyCode() == KeyEvent.VK_TAB) {\n            if (keyStates[KeyEvent.VK_ALT]) {\n                ignoreNextAltRelease = true;\n            }\n        }\n    }\n\n    @Override\n    public boolean dispatchKeyEvent(KeyEvent e) {\n        if (e.getID() == KeyEvent.KEY_PRESSED) {\n            keyStates[e.getKeyCode()] = true;\n            keyPressed(e);\n        }\n        else if (e.getID() == KeyEvent.KEY_RELEASED) {\n            keyStates[e.getKeyCode()] = false;\n            keyReleased(e);\n        }\n\n        return false;\n    }\n</code></pre>\n\n<p>When I have alt pressed down and then press tab, the keyPressed method is never called on tab, but when tab is released, the keyReleased method is called on tab. When I release both keys simultaneously, the keyReleased method is called on both alt and tab.</p>\n"},{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":23081596,"reputation":25,"user_id":17193793,"display_name":"eiriinjye"},"score":0,"creation_date":1634687577,"post_id":69634482,"comment_id":123090823,"body_markdown":"My problem now is how do you show the exact number of asterisk on the textfield to how many numbers were pressed and not add an additional asterisk? Because it keeps on adding another asterisk on the textfield whenever I press the enter button.","body":"My problem now is how do you show the exact number of asterisk on the textfield to how many numbers were pressed and not add an additional asterisk? Because it keeps on adding another asterisk on the textfield whenever I press the enter button."}],"answers":[{"tags":[],"owner":{"account_id":15910691,"reputation":1091,"user_id":11480721,"display_name":"Ausgefuchster"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634662648,"creation_date":1634662648,"answer_id":69634938,"question_id":69634482,"body_markdown":"You simply forgot to update the JLabel text for displayExtra.\r\nJust add `displayExtra.setText(textThereExtra);` in the else block where you ask if flag != 1 and you should be good to go!\r\n\r\n","title":"My problem is when I press the clear button, it just clears the textfield and not data of the previous numbers pressed","body":"<p>You simply forgot to update the JLabel text for displayExtra.\nJust add <code>displayExtra.setText(textThereExtra);</code> in the else block where you ask if flag != 1 and you should be good to go!</p>\n"}],"owner":{"account_id":23081596,"reputation":25,"user_id":17193793,"display_name":"eiriinjye"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69634938,"answer_count":1,"score":1,"last_activity_date":1634714507,"creation_date":1634660561,"question_id":69634482,"body_markdown":"\r\nThe task here is to make a Java program that is like a pincode process. I just have a problem with the process of clearing since when I press the clear button, it actually clears the textfield but when I press new numbers, the numbers I typed before even after pressing clear still shows up \r\n\r\n    enter code here\r\n    import java.awt.BorderLayout; \r\n    import java.awt.Container;\r\n    import java.awt.Dimension;\r\n    import java.awt.GridLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.ArrayList;\r\n    import javax.swing.*;\r\n    public class Pincode extends JPanel implements ActionListener {\r\n    JLabel display, displayExtra;\r\n    JButton numButton;\r\n    JButton clr;\r\n    JButton etr;\r\n    String displayContent = &quot;&quot;;\r\n    String[] numPadContent = {&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;CLEAR&quot;, &quot;0&quot;, &quot;ENTER&quot;};\r\n    ArrayList&lt;JButton&gt; buttonList;\r\n    String PASSWORD = &quot;061904&quot;;\r\n    Pincode(Container pane) {\r\n        pane.setPreferredSize(new Dimension(320, 335));\r\n        display = new JLabel(displayContent);\r\n        displayExtra = new JLabel(displayContent);\r\n        display.setPreferredSize(new Dimension(320, 25));\r\n        display.setBorder(BorderFactory.createLoweredBevelBorder());\r\n        pane.add(display, BorderLayout.PAGE_START);\r\n        buttonList = new ArrayList&lt;JButton&gt;(12);\r\n        JPanel numberPanel = new JPanel();\r\n        numberPanel.setLayout(new GridLayout(4, 3, 0, 0));\r\n        numberPanel.setPreferredSize(new Dimension(320, 260));\r\n        for (int i = 0; i &lt; numPadContent.length; i++) {\r\n            numButton = new JButton(numPadContent[i]);\r\n            buttonList.add(numButton);\r\n        }\r\n        for (int n = 0; n &lt; buttonList.size(); n++) {\r\n            buttonList.get(n).addActionListener(this);\r\n            numberPanel.add(buttonList.get(n));\r\n        }\r\n        pane.add(numberPanel, BorderLayout.LINE_END);\r\n        clr = new JButton(&quot;Clear&quot;);\r\n        clr.setPreferredSize(new Dimension(160, 30));\r\n        clr.addActionListener(this);\r\n        etr = new JButton(&quot;Enter&quot;);\r\n        etr.setPreferredSize(new Dimension(160, 30));\r\n        etr.addActionListener(this);\r\n        pane.add(clr);\r\n        pane.add(etr);\r\n    }\r\n    public void Authorized(){\r\n        JOptionPane.showMessageDialog(null,&quot;You are authorized&quot;);\r\n    }\r\n    public void Unauthorized(){\r\n        JOptionPane.showMessageDialog(null,&quot;You are not authorized!!!&quot;);\r\n    }\r\n    public void actionPerformed(ActionEvent e) {\r\n        String textThere = display.getText(), textThereExtra = displayExtra.getText();\r\n        String additionalText = &quot;&quot;;\r\n        for (int a = 0; a &lt; buttonList.size(); a++) {\r\n            if (e.getSource().equals(buttonList.get(a)) &amp;&amp; a!=11 &amp;&amp; a!=9) {\r\n                additionalText = buttonList.get(a).getText();\r\n            }\r\n        }\r\n        int flag = 0;\r\n        if (e.getSource().equals(buttonList.get(9))) {\r\n            textThere = &quot;&quot;;\r\n            textThereExtra = &quot;&quot;;\r\n            flag = 1;\r\n        }\r\n        if(flag != 1) {\r\n            display.setText(textThere.concat(&quot;*&quot;));\r\n            displayExtra.setText(textThereExtra.concat(additionalText));\r\n        }\r\n        else\r\n            display.setText(textThere);\r\n\r\n        if (e.getSource().equals(buttonList.get(11))) {\r\n            System.out.println(textThereExtra);\r\n            System.out.println(textThere);\r\n            if(textThereExtra.equals(PASSWORD)) {\r\n                Authorized();\r\n            }\r\n            else {\r\n                Unauthorized();\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        JFrame frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.getContentPane().add(new Pincode(frame));\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n    }\r\n    }\r\n\r\n\r\nPlease help me with my code. Thank you so much!","title":"My problem is when I press the clear button, it just clears the textfield and not data of the previous numbers pressed","body":"<p>The task here is to make a Java program that is like a pincode process. I just have a problem with the process of clearing since when I press the clear button, it actually clears the textfield but when I press new numbers, the numbers I typed before even after pressing clear still shows up</p>\n<pre><code>enter code here\nimport java.awt.BorderLayout; \nimport java.awt.Container;\nimport java.awt.Dimension;\nimport java.awt.GridLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.ArrayList;\nimport javax.swing.*;\npublic class Pincode extends JPanel implements ActionListener {\nJLabel display, displayExtra;\nJButton numButton;\nJButton clr;\nJButton etr;\nString displayContent = &quot;&quot;;\nString[] numPadContent = {&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;CLEAR&quot;, &quot;0&quot;, &quot;ENTER&quot;};\nArrayList&lt;JButton&gt; buttonList;\nString PASSWORD = &quot;061904&quot;;\nPincode(Container pane) {\n    pane.setPreferredSize(new Dimension(320, 335));\n    display = new JLabel(displayContent);\n    displayExtra = new JLabel(displayContent);\n    display.setPreferredSize(new Dimension(320, 25));\n    display.setBorder(BorderFactory.createLoweredBevelBorder());\n    pane.add(display, BorderLayout.PAGE_START);\n    buttonList = new ArrayList&lt;JButton&gt;(12);\n    JPanel numberPanel = new JPanel();\n    numberPanel.setLayout(new GridLayout(4, 3, 0, 0));\n    numberPanel.setPreferredSize(new Dimension(320, 260));\n    for (int i = 0; i &lt; numPadContent.length; i++) {\n        numButton = new JButton(numPadContent[i]);\n        buttonList.add(numButton);\n    }\n    for (int n = 0; n &lt; buttonList.size(); n++) {\n        buttonList.get(n).addActionListener(this);\n        numberPanel.add(buttonList.get(n));\n    }\n    pane.add(numberPanel, BorderLayout.LINE_END);\n    clr = new JButton(&quot;Clear&quot;);\n    clr.setPreferredSize(new Dimension(160, 30));\n    clr.addActionListener(this);\n    etr = new JButton(&quot;Enter&quot;);\n    etr.setPreferredSize(new Dimension(160, 30));\n    etr.addActionListener(this);\n    pane.add(clr);\n    pane.add(etr);\n}\npublic void Authorized(){\n    JOptionPane.showMessageDialog(null,&quot;You are authorized&quot;);\n}\npublic void Unauthorized(){\n    JOptionPane.showMessageDialog(null,&quot;You are not authorized!!!&quot;);\n}\npublic void actionPerformed(ActionEvent e) {\n    String textThere = display.getText(), textThereExtra = displayExtra.getText();\n    String additionalText = &quot;&quot;;\n    for (int a = 0; a &lt; buttonList.size(); a++) {\n        if (e.getSource().equals(buttonList.get(a)) &amp;&amp; a!=11 &amp;&amp; a!=9) {\n            additionalText = buttonList.get(a).getText();\n        }\n    }\n    int flag = 0;\n    if (e.getSource().equals(buttonList.get(9))) {\n        textThere = &quot;&quot;;\n        textThereExtra = &quot;&quot;;\n        flag = 1;\n    }\n    if(flag != 1) {\n        display.setText(textThere.concat(&quot;*&quot;));\n        displayExtra.setText(textThereExtra.concat(additionalText));\n    }\n    else\n        display.setText(textThere);\n\n    if (e.getSource().equals(buttonList.get(11))) {\n        System.out.println(textThereExtra);\n        System.out.println(textThere);\n        if(textThereExtra.equals(PASSWORD)) {\n            Authorized();\n        }\n        else {\n            Unauthorized();\n        }\n    }\n\n}\n\npublic static void main(String[] args) {\n    JFrame frame = new JFrame();\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.getContentPane().add(new Pincode(frame));\n    frame.pack();\n    frame.setVisible(true);\n}\n}\n</code></pre>\n<p>Please help me with my code. Thank you so much!</p>\n"},{"tags":["java","spring","docker"],"answers":[{"tags":[],"owner":{"account_id":4866881,"reputation":20471,"user_id":3924803,"display_name":"Hans Kilian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634714484,"creation_date":1634714484,"answer_id":69641868,"question_id":69641776,"body_markdown":"The IP address of the host is `host.docker.internal` on, AFAIK, all modern Docker installations.\r\n\r\nSo your datasource URL should be\r\n\r\n    url: jdbc:postgresql://host.docker.internal:5432/permisosdb\r\n\r\nIf that doesn&#39;t work, try\r\n\r\n    url: jdbc:postgresql://172.17.0.1:5432/permisosdb\r\n\r\n","title":"Cant connect dockerized springboot application to not dockerized postgres database (localhost)","body":"<p>The IP address of the host is <code>host.docker.internal</code> on, AFAIK, all modern Docker installations.</p>\n<p>So your datasource URL should be</p>\n<pre><code>url: jdbc:postgresql://host.docker.internal:5432/permisosdb\n</code></pre>\n<p>If that doesn't work, try</p>\n<pre><code>url: jdbc:postgresql://172.17.0.1:5432/permisosdb\n</code></pre>\n"}],"owner":{"account_id":10368273,"reputation":742,"user_id":10195307,"display_name":"BugsForBreakfast"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1634725644,"accepted_answer_id":69641868,"answer_count":1,"score":1,"last_activity_date":1634714484,"creation_date":1634714059,"question_id":69641776,"body_markdown":"Im getting the connection refused error, but in my eclipse it connects with no problem. I wonder if it is not possible to connect to a database that hasnt been dockerized also or if its possible what should I do?\r\n\r\nthise is my Dockerfile:\r\n\r\n    FROM openjdk:11\r\n    EXPOSE 8080\r\n    ADD target/permisos.jar permisos.jar\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/permisos.jar&quot;]\r\n\r\nthis is my application.yml file:\r\n\r\n    spring:\r\n      profiles:\r\n        active: local\r\n      jpa:\r\n        database: POSTGRESQL\r\n        show-sql: true\r\n        hibernate:\r\n          ddl-auto: none\r\n      datasource:\r\n        platform: postgres\r\n        url: jdbc:postgresql://localhost:5432/permisosdb\r\n        username: postgres\r\n        password: postgres\r\n        driverClassName: org.postgresql.Driver\r\n\r\n","title":"Cant connect dockerized springboot application to not dockerized postgres database (localhost)","body":"<p>Im getting the connection refused error, but in my eclipse it connects with no problem. I wonder if it is not possible to connect to a database that hasnt been dockerized also or if its possible what should I do?</p>\n<p>thise is my Dockerfile:</p>\n<pre><code>FROM openjdk:11\nEXPOSE 8080\nADD target/permisos.jar permisos.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/permisos.jar&quot;]\n</code></pre>\n<p>this is my application.yml file:</p>\n<pre><code>spring:\n  profiles:\n    active: local\n  jpa:\n    database: POSTGRESQL\n    show-sql: true\n    hibernate:\n      ddl-auto: none\n  datasource:\n    platform: postgres\n    url: jdbc:postgresql://localhost:5432/permisosdb\n    username: postgres\n    password: postgres\n    driverClassName: org.postgresql.Driver\n</code></pre>\n"},{"tags":["java","scala","grib"],"comments":[{"owner":{"account_id":17731057,"reputation":319,"user_id":12873652,"display_name":"Karzyfox"},"score":0,"creation_date":1634200256,"post_id":69556298,"comment_id":122962972,"body_markdown":"No one have any idea? I&#39;m stuck on my work project because of that issue :/","body":"No one have any idea? I&#39;m stuck on my work project because of that issue :/"},{"owner":{"account_id":17731057,"reputation":319,"user_id":12873652,"display_name":"Karzyfox"},"score":0,"creation_date":1634216370,"post_id":69556298,"comment_id":122969296,"body_markdown":"PS : I&#39;ve tried to use the `getValueAt()` and `interpolateValueAt()` using valid indexes but I still get the same exception","body":"PS : I&#39;ve tried to use the <code>getValueAt()</code> and <code>interpolateValueAt()</code> using valid indexes but I still get the same exception"}],"answers":[{"tags":[],"owner":{"account_id":17731057,"reputation":319,"user_id":12873652,"display_name":"Karzyfox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634714467,"creation_date":1634714467,"answer_id":69641864,"question_id":69556298,"body_markdown":"After some research with the dev of the Grib2Tools library, it turns out that the issue was coming from my GRIB file. The national forecast organization of my country, M&#233;t&#233;o France, add a bitmap on top of the data to indicate whether or not there&#39;s a value available at given coordinates. This feature wasn&#39;t supported by Grib2Tools, wich lead to data misunderstanding and errors at execution. This bitmap feature will be supported soon thanks to the dev.","title":"Accessing GRIB data using GRIB2Tools causes IndexOutOfBoundException","body":"<p>After some research with the dev of the Grib2Tools library, it turns out that the issue was coming from my GRIB file. The national forecast organization of my country, Météo France, add a bitmap on top of the data to indicate whether or not there's a value available at given coordinates. This feature wasn't supported by Grib2Tools, wich lead to data misunderstanding and errors at execution. This bitmap feature will be supported soon thanks to the dev.</p>\n"}],"owner":{"account_id":17731057,"reputation":319,"user_id":12873652,"display_name":"Karzyfox"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69641864,"answer_count":1,"score":0,"last_activity_date":1634714467,"creation_date":1634131069,"question_id":69556298,"body_markdown":"I&#39;m manipulating GRIB2 forecast files and I&#39;m having trouble using the [GRIB2Tools](https://github.com/philippphb/GRIB2Tools) library.\r\n\r\nI have an `Array[Byte]` representing the content of a GRIB2 dataset. Because I want to be able to get value at specific location, I wrote this variable&#39;s content to a file which I&#39;m then loading as an `InputStream` to use it with the `getValueAtLocation(id, lat, long)` and/or `interpolateValueAtLocation(id, lat, long)`. I can perfectly read the metadata of the file, but as soon as I call one of those 2 previous methods, I get an IndexOutOfBoundException.\r\n\r\nHere is the Scala code I use to write the GRIB2 bytes array (variable `bytes`) on a file and then load it as an InputStream:\r\n```scala\r\nval file: File = new File(&quot;my-data.grib&quot;)\r\nval temp = FileUtils.writeByteArrayToFile(file, bytes)\r\nval input = new FileInputStream(&quot;my-data.grib&quot;)\r\nval grib: RandomAccessGribFile = new RandomAccessGribFile(&quot;my-grib&quot;, &quot;my-data.grib&quot;)      \r\ngrib.importFromStream(input, 0)\r\n```\r\nAccording to the [README.md](https://github.com/philippphb/GRIB2Tools) I am doing it right, isn&#39;t it?\r\n\r\nThen I can easily get those metadata from the GRIB2 (using some code of the [GRIB2FileTest.java](https://github.com/philippphb/GRIB2Tools/blob/master/src/com/ph/grib2tools/test/GRIB2FileTest.java)):\r\n```\r\nBody format : GRIB2\r\nDate: 12.10.2021\r\nTime: 9:0.0\r\nGenerating centre: 85\r\nForecast time: 5\r\nParameter category: 0\r\nParameter number: 0\r\nCovered area:\r\n   from (latitude, longitude): 51.47, 348.0\r\n   to: (latitude, longitude): 37.5, 16.0\r\n```\r\nWhen calling `getValueAtLocation(id, lat, long)` and `interpolateValueAtLocation(id, lat, long)` with `id = 0` and `lat = 48` and `long = 2` (which seems to be ok when reading the metadata) I got this :\r\n```\r\njava.lang.IndexOutOfBoundsException\r\n\tat java.nio.Buffer.checkIndex(Buffer.java:551)\r\n\tat java.nio.HeapByteBuffer.getShort(HeapByteBuffer.java:327)\r\n\tat com.ph.grib2tools.grib2file.RandomAccessGribFile.interpolateValueAt(RandomAccessGribFile.java:196)\r\n\tat com.ph.grib2tools.grib2file.RandomAccessGribFile.interpolateValueAtLocation(RandomAccessGribFile.java:133)\r\n```\r\nThe faulting line seems to be this one in this file [RandomAccessGribFile.java:196](https://github.com/philippphb/GRIB2Tools/blob/231dda8262187a00c3f268d686b6989bcab600cb/src/com/ph/grib2tools/grib2file/RandomAccessGribFile.java#L196) :\r\n```java\r\nfloat val11 = sec5.calcValue(ByteBuffer.wrap(data).getShort((jidx1*gridDefinition.numberPointsLon+iidx1)*bytesperval));\r\n```\r\n\r\nAm I doing something wrong or is there an issue with the library source code or my GRIB file? The file comes from a national forecast agency and should be ok. I give you the structure of the GRIB2 file in the screenshot attached (from the Panoply software).\r\n\r\n![image](https://user-images.githubusercontent.com/69579602/137101562-65f3c63c-8c19-41b8-9dfa-f1c19d4b0feb.png)","title":"Accessing GRIB data using GRIB2Tools causes IndexOutOfBoundException","body":"<p>I'm manipulating GRIB2 forecast files and I'm having trouble using the <a href=\"https://github.com/philippphb/GRIB2Tools\" rel=\"nofollow noreferrer\">GRIB2Tools</a> library.</p>\n<p>I have an <code>Array[Byte]</code> representing the content of a GRIB2 dataset. Because I want to be able to get value at specific location, I wrote this variable's content to a file which I'm then loading as an <code>InputStream</code> to use it with the <code>getValueAtLocation(id, lat, long)</code> and/or <code>interpolateValueAtLocation(id, lat, long)</code>. I can perfectly read the metadata of the file, but as soon as I call one of those 2 previous methods, I get an IndexOutOfBoundException.</p>\n<p>Here is the Scala code I use to write the GRIB2 bytes array (variable <code>bytes</code>) on a file and then load it as an InputStream:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>val file: File = new File(&quot;my-data.grib&quot;)\nval temp = FileUtils.writeByteArrayToFile(file, bytes)\nval input = new FileInputStream(&quot;my-data.grib&quot;)\nval grib: RandomAccessGribFile = new RandomAccessGribFile(&quot;my-grib&quot;, &quot;my-data.grib&quot;)      \ngrib.importFromStream(input, 0)\n</code></pre>\n<p>According to the <a href=\"https://github.com/philippphb/GRIB2Tools\" rel=\"nofollow noreferrer\">README.md</a> I am doing it right, isn't it?</p>\n<p>Then I can easily get those metadata from the GRIB2 (using some code of the <a href=\"https://github.com/philippphb/GRIB2Tools/blob/master/src/com/ph/grib2tools/test/GRIB2FileTest.java\" rel=\"nofollow noreferrer\">GRIB2FileTest.java</a>):</p>\n<pre><code>Body format : GRIB2\nDate: 12.10.2021\nTime: 9:0.0\nGenerating centre: 85\nForecast time: 5\nParameter category: 0\nParameter number: 0\nCovered area:\n   from (latitude, longitude): 51.47, 348.0\n   to: (latitude, longitude): 37.5, 16.0\n</code></pre>\n<p>When calling <code>getValueAtLocation(id, lat, long)</code> and <code>interpolateValueAtLocation(id, lat, long)</code> with <code>id = 0</code> and <code>lat = 48</code> and <code>long = 2</code> (which seems to be ok when reading the metadata) I got this :</p>\n<pre><code>java.lang.IndexOutOfBoundsException\n    at java.nio.Buffer.checkIndex(Buffer.java:551)\n    at java.nio.HeapByteBuffer.getShort(HeapByteBuffer.java:327)\n    at com.ph.grib2tools.grib2file.RandomAccessGribFile.interpolateValueAt(RandomAccessGribFile.java:196)\n    at com.ph.grib2tools.grib2file.RandomAccessGribFile.interpolateValueAtLocation(RandomAccessGribFile.java:133)\n</code></pre>\n<p>The faulting line seems to be this one in this file <a href=\"https://github.com/philippphb/GRIB2Tools/blob/231dda8262187a00c3f268d686b6989bcab600cb/src/com/ph/grib2tools/grib2file/RandomAccessGribFile.java#L196\" rel=\"nofollow noreferrer\">RandomAccessGribFile.java:196</a> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>float val11 = sec5.calcValue(ByteBuffer.wrap(data).getShort((jidx1*gridDefinition.numberPointsLon+iidx1)*bytesperval));\n</code></pre>\n<p>Am I doing something wrong or is there an issue with the library source code or my GRIB file? The file comes from a national forecast agency and should be ok. I give you the structure of the GRIB2 file in the screenshot attached (from the Panoply software).</p>\n<p><img src=\"https://user-images.githubusercontent.com/69579602/137101562-65f3c63c-8c19-41b8-9dfa-f1c19d4b0feb.png\" alt=\"image\" /></p>\n"},{"tags":["java","cucumber-jvm","cucumber-junit","automation-testing"],"answers":[{"tags":[],"owner":{"account_id":9590587,"reputation":2429,"user_id":7121619,"display_name":"Marit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634714252,"creation_date":1634714252,"answer_id":69641815,"question_id":68890409,"body_markdown":"This Exception means that the number of capture groups in your step does not match the number of parameters defined in your step definition. \r\n\r\n\r\nIn your example, the step `@When(&quot;^(Coffee|Milk|Sugar|Chocolate) is (.*)$&quot;)` has 2 capture groups: `(Coffee|Milk|Sugar|Chocolate)` and `(.*)` and the step `@Then(&quot;^Inventory is successfully added\\\\.$&quot;)` has no capture groups.\r\nThe step definition `public void inventory_is_successfully_added(String Coffee, String milk, String sugar, String chocolate)` defines 4 parameters: `String Coffee`, `String milk`, `String sugar`, `String chocolate`.\r\n\r\nCucumber is throwing this exception, because it doesn&#39;t know which values to pass to the parameters.\r\n\r\nTo fix this:\r\n1. Implement the step where you add the amount of `(Coffee|Milk|Sugar|Chocolate)` if you haven&#39;t already (your example does not provide the implementation).\r\n2. Implement the step definition for inventory_is_successfully_added() so that the method does not take any parameters, and inside the method get the values provided for `coffee`, `milk`, etc from your test context.\r\n\r\n","title":"What is &quot;cucumber.runtime.CucumberException: Arity mismatch: Step Definition&quot; in java testing?","body":"<p>This Exception means that the number of capture groups in your step does not match the number of parameters defined in your step definition.</p>\n<p>In your example, the step <code>@When(&quot;^(Coffee|Milk|Sugar|Chocolate) is (.*)$&quot;)</code> has 2 capture groups: <code>(Coffee|Milk|Sugar|Chocolate)</code> and <code>(.*)</code> and the step <code>@Then(&quot;^Inventory is successfully added\\\\.$&quot;)</code> has no capture groups.\nThe step definition <code>public void inventory_is_successfully_added(String Coffee, String milk, String sugar, String chocolate)</code> defines 4 parameters: <code>String Coffee</code>, <code>String milk</code>, <code>String sugar</code>, <code>String chocolate</code>.</p>\n<p>Cucumber is throwing this exception, because it doesn't know which values to pass to the parameters.</p>\n<p>To fix this:</p>\n<ol>\n<li>Implement the step where you add the amount of <code>(Coffee|Milk|Sugar|Chocolate)</code> if you haven't already (your example does not provide the implementation).</li>\n<li>Implement the step definition for inventory_is_successfully_added() so that the method does not take any parameters, and inside the method get the values provided for <code>coffee</code>, <code>milk</code>, etc from your test context.</li>\n</ol>\n"}],"owner":{"account_id":22454611,"reputation":1,"user_id":16657459,"display_name":"aish007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634714290,"creation_date":1629711764,"question_id":68890409,"body_markdown":"I have written a code to test adding items into an inventory but i keep getting Arity mismatch error.\r\n\r\nMy code is as follows:\r\n\r\n    @When(&quot;^(Coffee|Milk|Sugar|Chocolate) is (.*)$&quot;)\r\n        @Then(&quot;^Inventory is successfully added\\\\.$&quot;)\r\n    \tpublic void inventory_is_successfully_added(String Coffee, String milk, String sugar, String chocolate) throws InventoryException {\r\n        \t\r\n    \t\tcoffeeMaker.addInventory(Coffee,milk,sugar,chocolate);\r\n    \t\tSystem.out.println(&quot;Inventory is successfully added.&quot;);\r\n    \t}\r\nand the corresponding Scenario written in feature file is this:\r\n   \r\n\r\n    Scenario: Add Inventory\r\n            When Coffee is 4\r\n    \t\tWhen Milk is 7 \r\n    \t\tWhen Sugar is 0\r\n    \t\tWhen Chocolate is 9\r\n    \t\tThen Inventory is successfully added.\r\n\r\nThis is the error I get:\r\n\r\n    cucumber.runtime.CucumberException: Arity mismatch: Step Definition &#39;edu.ncsu.csc326.coffeemaker.TestSteps.inventory_is_successfully_added(String,String,String,String) in file:/D:/newEclipse/Assign/build/classes/java/test/&#39; with pattern [^(Coffee|Milk|Sugar|Chocolate) is (.*)$] is declared with 4 parameters. However, the gherkin step has 2 arguments [Coffee, 4].\r\n\r\ncan someone please tell me what it means?\r\nTIA","title":"What is &quot;cucumber.runtime.CucumberException: Arity mismatch: Step Definition&quot; in java testing?","body":"<p>I have written a code to test adding items into an inventory but i keep getting Arity mismatch error.</p>\n<p>My code is as follows:</p>\n<pre><code>@When(&quot;^(Coffee|Milk|Sugar|Chocolate) is (.*)$&quot;)\n    @Then(&quot;^Inventory is successfully added\\\\.$&quot;)\n    public void inventory_is_successfully_added(String Coffee, String milk, String sugar, String chocolate) throws InventoryException {\n        \n        coffeeMaker.addInventory(Coffee,milk,sugar,chocolate);\n        System.out.println(&quot;Inventory is successfully added.&quot;);\n    }\n</code></pre>\n<p>and the corresponding Scenario written in feature file is this:</p>\n<pre><code>Scenario: Add Inventory\n        When Coffee is 4\n        When Milk is 7 \n        When Sugar is 0\n        When Chocolate is 9\n        Then Inventory is successfully added.\n</code></pre>\n<p>This is the error I get:</p>\n<pre><code>cucumber.runtime.CucumberException: Arity mismatch: Step Definition 'edu.ncsu.csc326.coffeemaker.TestSteps.inventory_is_successfully_added(String,String,String,String) in file:/D:/newEclipse/Assign/build/classes/java/test/' with pattern [^(Coffee|Milk|Sugar|Chocolate) is (.*)$] is declared with 4 parameters. However, the gherkin step has 2 arguments [Coffee, 4].\n</code></pre>\n<p>can someone please tell me what it means?\nTIA</p>\n"},{"tags":["java","android","kotlin","kotlin-coroutines"],"answers":[{"tags":[],"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634714054,"creation_date":1634713679,"answer_id":69641690,"question_id":69640270,"body_markdown":"You can create a `Result` object using reflection:\r\n\r\n```java\r\npublic void resume() throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {\r\n    var successMethod = Result.Companion.getClass().getDeclaredMethod(&quot;success&quot;, Object.class);\r\n    successMethod.setAccessible(true);\r\n\r\n    someSuspendFunctionContinuation.resumeWith(successMethod.invoke(Result.Companion, true));\r\n}\r\n```\r\n\r\nBut I think it is better to just create yourself a very small util in Kotlin for using it in Java:\r\n\r\n```kotlin\r\nfun &lt;T&gt; resumeContinuationWithSuccess(cont: Continuation&lt;T&gt;, value: T) {\r\n    cont.resumeWith(Result.success(value))\r\n}\r\n```\r\n\r\n```java\r\npublic void resume() {\r\n    SuspendUtils.resumeContinuationWithSuccess(someSuspendFunctionContinuation, true);\r\n}\r\n```\r\n","title":"How to resume a Kotlin Coroutine Continuation in Java","body":"<p>You can create a <code>Result</code> object using reflection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void resume() throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {\n    var successMethod = Result.Companion.getClass().getDeclaredMethod(&quot;success&quot;, Object.class);\n    successMethod.setAccessible(true);\n\n    someSuspendFunctionContinuation.resumeWith(successMethod.invoke(Result.Companion, true));\n}\n</code></pre>\n<p>But I think it is better to just create yourself a very small util in Kotlin for using it in Java:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun &lt;T&gt; resumeContinuationWithSuccess(cont: Continuation&lt;T&gt;, value: T) {\n    cont.resumeWith(Result.success(value))\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public void resume() {\n    SuspendUtils.resumeContinuationWithSuccess(someSuspendFunctionContinuation, true);\n}\n</code></pre>\n"}],"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2387,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69641690,"answer_count":1,"score":1,"last_activity_date":1634714054,"creation_date":1634703532,"question_id":69640270,"body_markdown":"I am adding Kotlin code to a Java project. I created a Kotlin suspend function with `suspendCancellableCoroutine`\r\n\r\n    suspend fun someSuspendFunction = suspendCancellableCoroutine&lt;Boolean&gt;{ continuation -&gt;\r\n         someJavaObject.someSuspendFunctionContinuation = continuation\r\n    }\r\n\r\nI need `someSuspendFunction` to resume by some logic done in `someJavaObject` so I declare a field in `someJavaObject` to store the continuation for later use.\r\n\r\n    CancellableContinuation&lt;Boolean&gt; someSuspendFunctionContinuation;\r\n\r\nHowever, when I want to resume it, I can&#39;t find a proper method to call. In Kotlin I can simply call `continuation.resume(true)`. I looked into the definition of `resume()` and found it called `resumeWith(Result.success(value))`. So I tried to write this in Java:\r\n\r\n    someSuspendFunctionContinuation.resumeWith(Result.Companion.success(true))\r\n\r\nwhich gives this error: `&#39;success(java.lang.Boolean)&#39; has private access in &#39;kotlin.Result.Companion&#39;`\r\n\r\nSo I tried to construct `Result` directly\r\n\r\n    someSuspendFunctionContinuation.resumeWith(new Result(true));\r\n\r\nThis gives me : `Expected 0 arguments but found 1`\r\n\r\nIs it possible to construct a `Result` with value to reusme a coroutine continuation in Java?","title":"How to resume a Kotlin Coroutine Continuation in Java","body":"<p>I am adding Kotlin code to a Java project. I created a Kotlin suspend function with <code>suspendCancellableCoroutine</code></p>\n<pre><code>suspend fun someSuspendFunction = suspendCancellableCoroutine&lt;Boolean&gt;{ continuation -&gt;\n     someJavaObject.someSuspendFunctionContinuation = continuation\n}\n</code></pre>\n<p>I need <code>someSuspendFunction</code> to resume by some logic done in <code>someJavaObject</code> so I declare a field in <code>someJavaObject</code> to store the continuation for later use.</p>\n<pre><code>CancellableContinuation&lt;Boolean&gt; someSuspendFunctionContinuation;\n</code></pre>\n<p>However, when I want to resume it, I can't find a proper method to call. In Kotlin I can simply call <code>continuation.resume(true)</code>. I looked into the definition of <code>resume()</code> and found it called <code>resumeWith(Result.success(value))</code>. So I tried to write this in Java:</p>\n<pre><code>someSuspendFunctionContinuation.resumeWith(Result.Companion.success(true))\n</code></pre>\n<p>which gives this error: <code>'success(java.lang.Boolean)' has private access in 'kotlin.Result.Companion'</code></p>\n<p>So I tried to construct <code>Result</code> directly</p>\n<pre><code>someSuspendFunctionContinuation.resumeWith(new Result(true));\n</code></pre>\n<p>This gives me : <code>Expected 0 arguments but found 1</code></p>\n<p>Is it possible to construct a <code>Result</code> with value to reusme a coroutine continuation in Java?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":51577,"reputation":54292,"user_id":154152,"display_name":"Noon Silk"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1286272021,"creation_date":1286272021,"answer_id":3862492,"question_id":3862479,"body_markdown":"...\r\n\r\n    [.]{1}\r\n\r\nor\r\n\r\n    [.]{2}\r\n\r\n?","title":"regular expression to match one or two dots","body":"<p>...</p>\n\n<pre><code>[.]{1}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>[.]{2}\n</code></pre>\n\n<p>?</p>\n"},{"tags":[],"owner":{"account_id":171537,"reputation":54798,"user_id":399037,"accept_rate":100,"display_name":"Sachin Shanbhag"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1286272057,"creation_date":1286272057,"answer_id":3862497,"question_id":3862479,"body_markdown":"[+*?.]\tMost special characters have no meaning inside the square brackets. This expression matches any of +, *, ? or the dot.","title":"regular expression to match one or two dots","body":"<p>[+*?.]  Most special characters have no meaning inside the square brackets. This expression matches any of +, *, ? or the dot.</p>\n"},{"tags":[],"owner":{"account_id":24712,"reputation":65595,"user_id":63034,"accept_rate":57,"display_name":"mikej"},"down_vote_count":1,"up_vote_count":96,"is_accepted":true,"score":95,"last_activity_date":1286272414,"creation_date":1286272068,"answer_id":3862499,"question_id":3862479,"body_markdown":". matches any character so needs escaping i.e. `\\.`, or `\\\\.` within a Java string (because `\\` itself has special meaning within Java strings.)\r\n\r\nYou can then use `\\.\\.` or `\\.{2}` to match exactly 2 dots.","title":"regular expression to match one or two dots","body":"<p>. matches any character so needs escaping i.e. <code>\\.</code>, or <code>\\\\.</code> within a Java string (because <code>\\</code> itself has special meaning within Java strings.)</p>\n\n<p>You can then use <code>\\.\\.</code> or <code>\\.{2}</code> to match exactly 2 dots.</p>\n"},{"tags":[],"owner":{"account_id":34563,"reputation":19814,"user_id":97754,"accept_rate":90,"display_name":"Margus"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1286275384,"creation_date":1286274912,"answer_id":3862826,"question_id":3862479,"body_markdown":"Use `String.Replace()` if you just want to replace the dots from string. Alternative would be to use `Pattern-Matcher` with `StringBuilder`, this gives you more flexibility as you can find groups that are between dots. If using the latter, i would recommend that you ignore empty entries with `&quot;\\\\.+&quot;`.\r\n\r\n\tpublic static int count(String str, String regex) {\r\n\t\tint i = 0;\r\n\t\tPattern p = Pattern.compile(regex);\r\n\t\tMatcher m = p.matcher(str);\r\n\t\twhile (m.find()) {\r\n\t\t\tm.group();\r\n\t\t\ti++;\r\n\t\t}\r\n\t\treturn i;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint i = 0, j = 0, k = 0;\r\n\t\tString str = &quot;-.-..-...-.-.--..-k....k...k..k.k-.-&quot;;\r\n\r\n\t\t// this will just remove dots\r\n\t\tSystem.out.println(str.replaceAll(&quot;\\\\.&quot;, &quot;&quot;));\r\n\t\t// this will just remove sequences of &quot;..&quot; dots\r\n\t\tSystem.out.println(str.replaceAll(&quot;\\\\.{2}&quot;, &quot;&quot;));\r\n\t\t// this will just remove sequences of dots, and gets\r\n\t\t// multiple of dots as 1\r\n\t\tSystem.out.println(str.replaceAll(&quot;\\\\.+&quot;, &quot;&quot;));\r\n\r\n\t\t/* for this to be more obvious, consider following */\r\n\t\tSystem.out.println(count(str, &quot;\\\\.&quot;));\r\n\t\tSystem.out.println(count(str, &quot;\\\\.{2}&quot;));\r\n\t\tSystem.out.println(count(str, &quot;\\\\.+&quot;));\r\n\t}\r\n\r\nThe output will be:\r\n\r\n    --------kkkkk--\r\n    -.--.-.-.---kk.kk.k-.-\r\n    --------kkkkk--\r\n    21\r\n    7\r\n    11","title":"regular expression to match one or two dots","body":"<p>Use <code>String.Replace()</code> if you just want to replace the dots from string. Alternative would be to use <code>Pattern-Matcher</code> with <code>StringBuilder</code>, this gives you more flexibility as you can find groups that are between dots. If using the latter, i would recommend that you ignore empty entries with <code>\"\\\\.+\"</code>.</p>\n\n<pre><code>public static int count(String str, String regex) {\n    int i = 0;\n    Pattern p = Pattern.compile(regex);\n    Matcher m = p.matcher(str);\n    while (m.find()) {\n        m.group();\n        i++;\n    }\n    return i;\n}\n\npublic static void main(String[] args) {\n    int i = 0, j = 0, k = 0;\n    String str = \"-.-..-...-.-.--..-k....k...k..k.k-.-\";\n\n    // this will just remove dots\n    System.out.println(str.replaceAll(\"\\\\.\", \"\"));\n    // this will just remove sequences of \"..\" dots\n    System.out.println(str.replaceAll(\"\\\\.{2}\", \"\"));\n    // this will just remove sequences of dots, and gets\n    // multiple of dots as 1\n    System.out.println(str.replaceAll(\"\\\\.+\", \"\"));\n\n    /* for this to be more obvious, consider following */\n    System.out.println(count(str, \"\\\\.\"));\n    System.out.println(count(str, \"\\\\.{2}\"));\n    System.out.println(count(str, \"\\\\.+\"));\n}\n</code></pre>\n\n<p>The output will be:</p>\n\n<pre><code>--------kkkkk--\n-.--.-.-.---kk.kk.k-.-\n--------kkkkk--\n21\n7\n11\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1366964,"reputation":482,"user_id":1303201,"accept_rate":75,"display_name":"fperez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1353028032,"creation_date":1353028032,"answer_id":13408936,"question_id":3862479,"body_markdown":"You should use contains not matches\r\n\r\n    if(nom.contains(&quot;.&quot;))\r\n\t    System.out.println(&quot;OK&quot;);\r\n\telse\r\n\t\tSystem.out.println(&quot;Bad&quot;);\r\n\r\n","title":"regular expression to match one or two dots","body":"<p>You should use contains not matches</p>\n\n<pre><code>if(nom.contains(\".\"))\n    System.out.println(\"OK\");\nelse\n    System.out.println(\"Bad\");\n</code></pre>\n"}],"owner":{"account_id":205874,"reputation":1191,"user_id":454848,"accept_rate":86,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160679,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"closed_date":1448999557,"accepted_answer_id":3862499,"answer_count":5,"score":50,"last_activity_date":1634713829,"creation_date":1286271910,"question_id":3862479,"body_markdown":"What is the regular expression for . and .. ?\r\n\r\n    if(key.matches(&quot;.&quot;)) {\r\n    \r\n    do something \r\n    \r\n    }\r\n\r\nThe matches accepts String which asks for regular expression. Now i need to remove all DOT&#39;s inside my MAP. ","title":"regular expression to match one or two dots","body":"<p>What is the regular expression for . and .. ?</p>\n\n<pre><code>if(key.matches(\".\")) {\n\ndo something \n\n}\n</code></pre>\n\n<p>The matches accepts String which asks for regular expression. Now i need to remove all DOT's inside my MAP. </p>\n"},{"tags":["java","android","xml","sqlite"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1634708998,"post_id":69640880,"comment_id":123094214,"body_markdown":"`db.insert` returns `the row ID of the newly inserted row, or -1 if an error occurred` so your `if (r != 0)` is incorrect.","body":"<code>db.insert</code> returns <code>the row ID of the newly inserted row, or -1 if an error occurred</code> so your <code>if (r != 0)</code> is incorrect."}],"answers":[{"tags":[],"owner":{"account_id":11274294,"reputation":485,"user_id":8268759,"display_name":"Nitin Verma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634713425,"creation_date":1634713425,"answer_id":69641656,"question_id":69640880,"body_markdown":"This is not an answer to your post. \r\n\r\nAny reason for not using Room library by google? It is very easy/simple and reduces all this biolderplate code related to sqlite helper and cursors. For my personal project I always use Room.\r\n\r\ncheck this codelab : [https://developer.android.com/codelabs/android-room-with-a-view-kotlin#0][1]\r\n\r\n\r\n  [1]: https://developer.android.com/codelabs/android-room-with-a-view-kotlin#0","title":"Insert data into SQlite databases in Android Studio while button click","body":"<p>This is not an answer to your post.</p>\n<p>Any reason for not using Room library by google? It is very easy/simple and reduces all this biolderplate code related to sqlite helper and cursors. For my personal project I always use Room.</p>\n<p>check this codelab : <a href=\"https://developer.android.com/codelabs/android-room-with-a-view-kotlin#0\" rel=\"nofollow noreferrer\">https://developer.android.com/codelabs/android-room-with-a-view-kotlin#0</a></p>\n"}],"owner":{"account_id":22555919,"reputation":1,"user_id":16744309,"display_name":"Atif Murtaza 2311"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":384,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1634713425,"creation_date":1634708797,"question_id":69640880,"body_markdown":"i am making a app which is inserted measurement detail of a customer .\r\nbut there is problem in my database and i dont know what ius this.when i am click on addbtn it show toast failed(data not insert)\r\ni tried all method but nothing is work .please help me out with this why the data is not inserted.\r\n\r\n\r\n&#39;&#39;&#39;\r\n\r\n    package com.example.customermanagement;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.database.sqlite.SQLiteDatabase;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.widget.Toast;\r\n    public class Add_Customer extends AppCompatActivity {\r\n    EditText et1,et2,et3,et4,et5,et6,et7,et8,et9,et10;\r\n    Button addbtn;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_add__customer);\r\n            MyHelper myhelper=new MyHelper(this);\r\n            addbtn=(Button)findViewById(R.id.addbtn);\r\n            addbtn.setOnClickListener(new View.OnClickListener() {\r\n               @Override\r\n               public void onClick(View view) {\r\n                   et1 =(EditText)findViewById(R.id.name);\r\n                   String customername=et1.getText().toString();\r\n                   //showtxt=(EditText) findViewById(R.id.others);\r\n                   //showtxt.setText(customername);\r\n                   et2 =(EditText)findViewById(R.id.phone);\r\n                   String phoneno=et2.getText().toString();\r\n                   et3 =(EditText)findViewById(R.id.lenght);\r\n                   String lenght=et3.getText().toString();\r\n                   et4 =(EditText)findViewById(R.id.teera);\r\n                   String teera=et4.getText().toString();\r\n                   et5 =(EditText)findViewById(R.id.bazu);\r\n                   String bazu=et5.getText().toString();\r\n                   et6 =(EditText)findViewById(R.id.chati);\r\n                   String chati=et6.getText().toString();\r\n                   et7 =(EditText)findViewById(R.id.qamar);\r\n                   String qamar=et7.getText().toString();\r\n                   et8 =(EditText)findViewById(R.id.shalwar);\r\n                   String shalwar=et8.getText().toString();\r\n                   et9 =(EditText)findViewById(R.id.paincha);\r\n                   String paincha=et9.getText().toString();\r\n                   et10 =(EditText)findViewById(R.id.others);\r\n                   String others=et10.getText().toString();\r\n                  // Toast.makeText(Add_Customer.this,lenght,Toast.LENGTH_SHORT).show();\r\n                   myhelper.getWritableDatabase();\r\n                   Boolean i= myhelper.insert_data(customername,phoneno,lenght,teera,bazu,chati,qamar,shalwar,paincha,&quot;7&quot;,&quot;7&quot;,&quot;7&quot;,&quot;7&quot;,&quot;7&quot;,&quot;7&quot;,&quot;9&quot;,&quot;9&quot;,others);\r\n                    if(i==true)\r\n                    {\r\n                        Toast.makeText(Add_Customer.this,&quot;succesfull enter&quot;,Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    else\r\n                    {\r\n                        Toast.makeText(Add_Customer.this,&quot;Fail&quot;,Toast.LENGTH_SHORT).show();\r\n    \r\n                    }\r\n               }\r\n           });\r\n    \r\n        }\r\n    }\r\n\r\n&#39;&#39;&#39;\r\nand there is the code of my database helper\r\n\r\n&#39;&#39;&#39;\r\n\r\n    package com.example.customermanagement;\r\n    \r\n    import android.content.ContentValues;\r\n    import android.content.Context;\r\n    import android.database.SQLException;\r\n    import android.database.sqlite.SQLiteDatabase;\r\n    import android.database.sqlite.SQLiteOpenHelper;\r\n    import android.icu.text.StringPrepParseException;\r\n    import android.widget.Toast;\r\n    \r\n    public class MyHelper extends SQLiteOpenHelper {\r\n        private static final String dbname=&quot;mydb&quot;;\r\n        private static final int version=1;\r\n        public MyHelper(Context context){\r\n            super(context,dbname,null,version);\r\n        }\r\n        @Override\r\n        public void onCreate(SQLiteDatabase sqLiteDatabase) {\r\n    \r\n            String sql=&quot;CREATE TABLE CUSTOMER ( _id INTEGER PRIMARY KEY AUTOINCREMENT , NAME TEXT , PHONENO TEXT , LENGHT TEXT , TEERA TEXT , BAZU TEXT , CHATI TEXT , QAMAR TEXT , SHALWAR TEXT , PAINCHA TEXT , GHEERA TEXT , FRONT TEXT , SIDE TEXT , HIP TEXT , BAN TEXT , COLLAR TEXT , ZIP TEXT , T_PAINCHA TEXT , OTHERS TEXT )&quot;;\r\n            sqLiteDatabase.execSQL(sql);\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\r\n            sqLiteDatabase.execSQL(&quot;drop table if exists CUSTOMER&quot;);\r\n            onCreate(sqLiteDatabase);\r\n    \r\n        }\r\n        public Boolean insert_data(String name1, String phoneno1,String lenght1,String teera1,String bazu1,String chati1,String qamar1,String shalwar1,String paincha1,String gheera1,String front1,String side1,String hip1,String ban1,String collar1,String zip1,String t_paincha1,String others1) {\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            ContentValues c = new ContentValues();\r\n                long r = 0;\r\n    \r\n                c.put(&quot;NAME&quot;, name1);\r\n                c.put(&quot;PHONENO&quot;, phoneno1);\r\n                c.put(&quot;LENGHT&quot;, lenght1);\r\n                c.put(&quot;TEERA&quot;, teera1);\r\n                c.put(&quot;BAZU&quot;, bazu1);\r\n                c.put(&quot;CHATI&quot;, chati1);\r\n                c.put(&quot;QAMAR&quot;, qamar1);\r\n                c.put(&quot;SHALWAR&quot;, shalwar1);\r\n                c.put(&quot;PAINCHA&quot;, paincha1);\r\n                c.put(&quot;GHEERA&quot;, gheera1);\r\n                c.put(&quot;FRONT&quot;, front1);\r\n                c.put(&quot;SIDE&quot;, side1);\r\n                c.put(&quot;HIP&quot;, hip1);\r\n                c.put(&quot;BAN&quot;, ban1);\r\n                c.put(&quot;COLLAR&quot;, collar1);\r\n                c.put(&quot;ZIP&quot;, zip1);\r\n                c.put(&quot;T_PAINCHA&quot;, t_paincha1);\r\n                c.put(&quot;OTHERS&quot;, others1);\r\n                 r = db.insert(&quot;CUSTOMER&quot;, null, c);\r\n    \r\n    \r\n           \r\n    \r\n                 if (r!=0)\r\n            {\r\n                return false;\r\n            }\r\n            else\r\n            {\r\n                return true;\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n&#39;&#39;&#39;\r\n","title":"Insert data into SQlite databases in Android Studio while button click","body":"<p>i am making a app which is inserted measurement detail of a customer .\nbut there is problem in my database and i dont know what ius this.when i am click on addbtn it show toast failed(data not insert)\ni tried all method but nothing is work .please help me out with this why the data is not inserted.</p>\n<p>'''</p>\n<pre><code>package com.example.customermanagement;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\npublic class Add_Customer extends AppCompatActivity {\nEditText et1,et2,et3,et4,et5,et6,et7,et8,et9,et10;\nButton addbtn;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_add__customer);\n        MyHelper myhelper=new MyHelper(this);\n        addbtn=(Button)findViewById(R.id.addbtn);\n        addbtn.setOnClickListener(new View.OnClickListener() {\n           @Override\n           public void onClick(View view) {\n               et1 =(EditText)findViewById(R.id.name);\n               String customername=et1.getText().toString();\n               //showtxt=(EditText) findViewById(R.id.others);\n               //showtxt.setText(customername);\n               et2 =(EditText)findViewById(R.id.phone);\n               String phoneno=et2.getText().toString();\n               et3 =(EditText)findViewById(R.id.lenght);\n               String lenght=et3.getText().toString();\n               et4 =(EditText)findViewById(R.id.teera);\n               String teera=et4.getText().toString();\n               et5 =(EditText)findViewById(R.id.bazu);\n               String bazu=et5.getText().toString();\n               et6 =(EditText)findViewById(R.id.chati);\n               String chati=et6.getText().toString();\n               et7 =(EditText)findViewById(R.id.qamar);\n               String qamar=et7.getText().toString();\n               et8 =(EditText)findViewById(R.id.shalwar);\n               String shalwar=et8.getText().toString();\n               et9 =(EditText)findViewById(R.id.paincha);\n               String paincha=et9.getText().toString();\n               et10 =(EditText)findViewById(R.id.others);\n               String others=et10.getText().toString();\n              // Toast.makeText(Add_Customer.this,lenght,Toast.LENGTH_SHORT).show();\n               myhelper.getWritableDatabase();\n               Boolean i= myhelper.insert_data(customername,phoneno,lenght,teera,bazu,chati,qamar,shalwar,paincha,&quot;7&quot;,&quot;7&quot;,&quot;7&quot;,&quot;7&quot;,&quot;7&quot;,&quot;7&quot;,&quot;9&quot;,&quot;9&quot;,others);\n                if(i==true)\n                {\n                    Toast.makeText(Add_Customer.this,&quot;succesfull enter&quot;,Toast.LENGTH_SHORT).show();\n                }\n                else\n                {\n                    Toast.makeText(Add_Customer.this,&quot;Fail&quot;,Toast.LENGTH_SHORT).show();\n\n                }\n           }\n       });\n\n    }\n}\n</code></pre>\n<p>'''\nand there is the code of my database helper</p>\n<p>'''</p>\n<pre><code>package com.example.customermanagement;\n\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.SQLException;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.icu.text.StringPrepParseException;\nimport android.widget.Toast;\n\npublic class MyHelper extends SQLiteOpenHelper {\n    private static final String dbname=&quot;mydb&quot;;\n    private static final int version=1;\n    public MyHelper(Context context){\n        super(context,dbname,null,version);\n    }\n    @Override\n    public void onCreate(SQLiteDatabase sqLiteDatabase) {\n\n        String sql=&quot;CREATE TABLE CUSTOMER ( _id INTEGER PRIMARY KEY AUTOINCREMENT , NAME TEXT , PHONENO TEXT , LENGHT TEXT , TEERA TEXT , BAZU TEXT , CHATI TEXT , QAMAR TEXT , SHALWAR TEXT , PAINCHA TEXT , GHEERA TEXT , FRONT TEXT , SIDE TEXT , HIP TEXT , BAN TEXT , COLLAR TEXT , ZIP TEXT , T_PAINCHA TEXT , OTHERS TEXT )&quot;;\n        sqLiteDatabase.execSQL(sql);\n    }\n\n\n    @Override\n    public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\n        sqLiteDatabase.execSQL(&quot;drop table if exists CUSTOMER&quot;);\n        onCreate(sqLiteDatabase);\n\n    }\n    public Boolean insert_data(String name1, String phoneno1,String lenght1,String teera1,String bazu1,String chati1,String qamar1,String shalwar1,String paincha1,String gheera1,String front1,String side1,String hip1,String ban1,String collar1,String zip1,String t_paincha1,String others1) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues c = new ContentValues();\n            long r = 0;\n\n            c.put(&quot;NAME&quot;, name1);\n            c.put(&quot;PHONENO&quot;, phoneno1);\n            c.put(&quot;LENGHT&quot;, lenght1);\n            c.put(&quot;TEERA&quot;, teera1);\n            c.put(&quot;BAZU&quot;, bazu1);\n            c.put(&quot;CHATI&quot;, chati1);\n            c.put(&quot;QAMAR&quot;, qamar1);\n            c.put(&quot;SHALWAR&quot;, shalwar1);\n            c.put(&quot;PAINCHA&quot;, paincha1);\n            c.put(&quot;GHEERA&quot;, gheera1);\n            c.put(&quot;FRONT&quot;, front1);\n            c.put(&quot;SIDE&quot;, side1);\n            c.put(&quot;HIP&quot;, hip1);\n            c.put(&quot;BAN&quot;, ban1);\n            c.put(&quot;COLLAR&quot;, collar1);\n            c.put(&quot;ZIP&quot;, zip1);\n            c.put(&quot;T_PAINCHA&quot;, t_paincha1);\n            c.put(&quot;OTHERS&quot;, others1);\n             r = db.insert(&quot;CUSTOMER&quot;, null, c);\n\n\n       \n\n             if (r!=0)\n        {\n            return false;\n        }\n        else\n        {\n            return true;\n        }\n\n    }\n}\n</code></pre>\n<p>'''</p>\n"},{"tags":["java","maven","openapi","swagger-2.0","openapi-generator"],"comments":[{"owner":{"account_id":295795,"reputation":5373,"user_id":600379,"display_name":"Dakshinamurthy Karra"},"score":0,"creation_date":1634709118,"post_id":69640787,"comment_id":123094241,"body_markdown":"Not very sure. But a guess: The ItemType definition has both `nullable: true` and a null value in the enum list. Looks superfluous. Try deleting the `null` value from the enum list and check.","body":"Not very sure. But a guess: The ItemType definition has both <code>nullable: true</code> and a null value in the enum list. Looks superfluous. Try deleting the <code>null</code> value from the enum list and check."},{"owner":{"account_id":322468,"reputation":1506,"user_id":641887,"accept_rate":68,"display_name":"user641887"},"score":0,"creation_date":1634709604,"post_id":69640787,"comment_id":123094350,"body_markdown":"if you look here https://swagger.io/docs/specification/data-models/enums/ both are required as per the specs. I did try removing null and nullable: true independently but no luck.","body":"if you look here <a href=\"https://swagger.io/docs/specification/data-models/enums/\" rel=\"nofollow noreferrer\">swagger.io/docs/specification/data-models/enums</a> both are required as per the specs. I did try removing null and nullable: true independently but no luck."},{"owner":{"account_id":10928690,"reputation":491,"user_id":8032605,"display_name":"Saranki Magenthirarajah"},"score":0,"creation_date":1634824646,"post_id":69640787,"comment_id":123134868,"body_markdown":"The issue seems to be persisted in schema model &quot;Item&quot;. This has been declared by never used. If you are using any swagger related dependencies can you check whether those versions support nullable enum? If not, try to upgrade them and check.","body":"The issue seems to be persisted in schema model &quot;Item&quot;. This has been declared by never used. If you are using any swagger related dependencies can you check whether those versions support nullable enum? If not, try to upgrade them and check."},{"owner":{"account_id":8383767,"reputation":782,"user_id":6294804,"accept_rate":92,"display_name":"Rajib Biswas"},"score":0,"creation_date":1645692997,"post_id":69640787,"comment_id":125941255,"body_markdown":"@user641887, did you get a solution for this yet? I am also facing exactly same issue.","body":"@user641887, did you get a solution for this yet? I am also facing exactly same issue."},{"owner":{"account_id":322468,"reputation":1506,"user_id":641887,"accept_rate":68,"display_name":"user641887"},"score":1,"creation_date":1645735594,"post_id":69640787,"comment_id":125957081,"body_markdown":"hey @RajibBiswas i feel the pain, I did not went that route, took a different approach to solve my problem or I should I say requirements changed for me. But I had raised this in another forum and got a reply. see this and I believe this should resolve your issue. let me know https://community.smartbear.com/t5/Swagger-Open-Source-Tools/Openapi-enum-null-values/m-p/227384/emcs_t/S2h8ZW1haWx8dG9waWNfc3Vic2NyaXB0aW9ufEtYNTkyUElSUFI0SFVVfDIyNzM4NHxTVUJTQ1JJUFRJT05TfGhL#M2235","body":"hey @RajibBiswas i feel the pain, I did not went that route, took a different approach to solve my problem or I should I say requirements changed for me. But I had raised this in another forum and got a reply. see this and I believe this should resolve your issue. let me know <a href=\"https://community.smartbear.com/t5/Swagger-Open-Source-Tools/Openapi-enum-null-values/m-p/227384/emcs_t/S2h8ZW1haWx8dG9waWNfc3Vic2NyaXB0aW9ufEtYNTkyUElSUFI0SFVVfDIyNzM4NHxTVUJTQ1JJUFRJT05TfGhL#M2235\" rel=\"nofollow noreferrer\">community.smartbear.com/t5/Swagger-Open-Source-Tools/&hellip;</a>"}],"owner":{"account_id":322468,"reputation":1506,"user_id":641887,"accept_rate":68,"display_name":"user641887"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4709,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1634713152,"creation_date":1634708069,"question_id":69640787,"body_markdown":"I am currently trying to have null values for Enum, as per the OpenAPI specs, this is possible. I am trying to follow the steps as given here \r\n\r\nhttps://swagger.io/docs/specification/data-models/enums/\r\n\r\nmy yaml implementation \r\n\r\n    openapi: 3.0.1\r\n    \r\n    info:\r\n      title: Test\r\n      description: Test API\r\n      contact:\r\n        name: a\r\n        url: http://www.google.com\r\n        email: user@test.com\r\n      version: &#39;1.0&#39;\r\n    \r\n    paths:\r\n      /v1/getItems:\r\n        summary: &#39;get items&#39;\r\n        description: &#39;get items&#39;\r\n        post:\r\n          summary: items get\r\n          operationId: getItems\r\n          x-grantTypeRequirement: &#39;client_credentials&#39;\r\n          tags:\r\n            - items\r\n         \r\n          responses:\r\n            200:\r\n              description: Success\r\n            \r\n    components:\r\n      schemas:\r\n        Item:\r\n          title: Order Item\r\n          type: object\r\n          description: &#39;The order item.&#39;\r\n          required:\r\n            - type\r\n          properties:\r\n            name:\r\n              type: string\r\n            type:\r\n              $ref: &#39;#/components/schemas/ItemType&#39;\r\n    \r\n        ItemType:\r\n          description: &#39;The Type of the Item&#39;\r\n          type: string\r\n          nullable: true\r\n          enum:\r\n            - &quot;PHYSICAL&quot;\r\n            - &quot;DIGITAL&quot;\r\n            - null      \r\n\r\nwhen I build and run mvn clean install with the changes \r\nnullable:true and enum: with value as null, as shown above I get the below exception \r\n\r\n    [DEBUG] debugging from property return: CodegenProperty{baseName=&#39;type&#39;, openApiType=&#39;ItemType&#39;, complexType=&#39;ItemType&#39;, getter=&#39;getType&#39;, setter=&#39;setType&#39;, description=&#39;null&#39;, datatype=&#39;ItemType&#39;, datatypeWithEnum=&#39;ItemType&#39;, dataFormat=&#39;null&#39;, name=&#39;type&#39;, min=&#39;null&#39;, max=&#39;null&#39;, defaultValue=&#39;null&#39;, defaultValueWithParam=&#39; = data.type;&#39;, baseType=&#39;ItemType&#39;, containerType=&#39;null&#39;, title=&#39;null&#39;, unescapedDescription=&#39;null&#39;, maxLength=null, minLength=null, pattern=&#39;null&#39;, example=&#39;null&#39;, jsonSchema=&#39;{\r\n      &quot;$ref&quot; : &quot;#/components/schemas/ItemType&quot;\r\n    }&#39;, minimum=&#39;null&#39;, maximum=&#39;null&#39;, exclusiveMinimum=false, exclusiveMaximum=false, hasMore=false, required=false, secondaryParam=false, hasMoreNonReadOnly=false, isPrimitiveType=false, isModel=false, isContainer=false, isString=false, isNumeric=false, isInteger=false, isLong=false, isNumber=false, isFloat=false, isDouble=false, isByteArray=false, isBinary=false, isFile=false, isBoolean=false, isDate=false, isDateTime=false, isUuid=false, isUri=false, isEmail=false, isFreeFormObject=false, isListContainer=false, isMapContainer=false, isEnum=false, isReadOnly=false, isWriteOnly=false, isNullable=true, isSelfReference=false, _enum=null, allowableValues={values=[PHYSICAL, DIGITAL, null]}, items=null, mostInnerItems=null, vendorExtensions={}, hasValidation=false, isInherited=false, discriminatorValue=&#39;null&#39;, nameInCamelCase=&#39;Type&#39;, enumName=&#39;null&#39;, maxItems=null, minItems=null, isXmlAttribute=false, xmlPrefix=&#39;null&#39;, xmlName=&#39;null&#39;, xmlNamespace=&#39;null&#39;, isXmlWrapped=false}\r\n    [ERROR]  unexpected error in Open-API generation\r\n    java.lang.RuntimeException: Could not process model &#39;Item&#39;.Please make sure that your schema is correct!\r\n        at org.openapitools.codegen.DefaultGenerator.generateModels (DefaultGenerator.java:472)\r\n        at org.openapitools.codegen.DefaultGenerator.generate (DefaultGenerator.java:923)\r\n        at org.openapitools.codegen.plugin.CodeGenMojo.execute (CodeGenMojo.java:727)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at com.soebes.maven.plugins.iterator.IteratorMojo.executeMojo (IteratorMojo.java:406)\r\n        at com.soebes.maven.plugins.iterator.IteratorMojo.handlePluginExecution (IteratorMojo.java:305)\r\n        at com.soebes.maven.plugins.iterator.IteratorMojo.execute (IteratorMojo.java:235)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:498)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: java.lang.NullPointerException\r\n        at org.openapitools.codegen.DefaultCodegen.updateCodegenPropertyEnum (DefaultCodegen.java:4304)\r\n        at org.openapitools.codegen.DefaultCodegen.postProcessModelsEnum (DefaultCodegen.java:385)\r\n        at org.openapitools.codegen.languages.SpringCodegen.postProcessModelsEnum (SpringCodegen.java:815)\r\n        at org.openapitools.codegen.languages.AbstractJavaCodegen.postProcessModels (AbstractJavaCodegen.java:999)\r\n        at org.openapitools.codegen.DefaultGenerator.processModels (DefaultGenerator.java:1233)\r\n        at org.openapitools.codegen.DefaultGenerator.generateModels (DefaultGenerator.java:467)\r\n        at org.openapitools.codegen.DefaultGenerator.generate (DefaultGenerator.java:923)\r\n        at org.openapitools.codegen.plugin.CodeGenMojo.execute (CodeGenMojo.java:727)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at com.soebes.maven.plugins.iterator.IteratorMojo.executeMojo (IteratorMojo.java:406)\r\n        at com.soebes.maven.plugins.iterator.IteratorMojo.handlePluginExecution (IteratorMojo.java:305)\r\n        at com.soebes.maven.plugins.iterator.IteratorMojo.execute (IteratorMojo.java:235)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:498)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    [ERROR]\r\n    java.lang.RuntimeException: Could not process model &#39;Item&#39;.Please make sure that your schema is correct!\r\n        at org.openapitools.codegen.DefaultGenerator.generateModels (DefaultGenerator.java:472)\r\n        at org.openapitools.codegen.DefaultGenerator.generate (DefaultGenerator.java:923)\r\n        at org.openapitools.codegen.plugin.CodeGenMojo.execute (CodeGenMojo.java:727)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at com.soebes.maven.plugins.iterator.IteratorMojo.executeMojo (IteratorMojo.java:406)\r\n        at com.soebes.maven.plugins.iterator.IteratorMojo.handlePluginExecution (IteratorMojo.java:305)\r\n        at com.soebes.maven.plugins.iterator.IteratorMojo.execute (IteratorMojo.java:235)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:498)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    Caused by: java.lang.NullPointerException\r\n        at org.openapitools.codegen.DefaultCodegen.updateCodegenPropertyEnum (DefaultCodegen.java:4304)\r\n        at org.openapitools.codegen.DefaultCodegen.postProcessModelsEnum (DefaultCodegen.java:385)\r\n        at org.openapitools.codegen.languages.SpringCodegen.postProcessModelsEnum (SpringCodegen.java:815)\r\n        at org.openapitools.codegen.languages.AbstractJavaCodegen.postProcessModels (AbstractJavaCodegen.java:999)\r\n        at org.openapitools.codegen.DefaultGenerator.processModels (DefaultGenerator.java:1233)\r\n        at org.openapitools.codegen.DefaultGenerator.generateModels (DefaultGenerator.java:467)\r\n        at org.openapitools.codegen.DefaultGenerator.generate (DefaultGenerator.java:923)\r\n        at org.openapitools.codegen.plugin.CodeGenMojo.execute (CodeGenMojo.java:727)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at com.soebes.maven.plugins.iterator.IteratorMojo.executeMojo (IteratorMojo.java:406)\r\n        at com.soebes.maven.plugins.iterator.IteratorMojo.handlePluginExecution (IteratorMojo.java:305)\r\n        at com.soebes.maven.plugins.iterator.IteratorMojo.execute (IteratorMojo.java:235)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke (Method.java:498)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n\r\n\r\nany thoughts on what could be causing this exception and what steps should I take to resolve/fix this issue?","title":"openapi Enum null values","body":"<p>I am currently trying to have null values for Enum, as per the OpenAPI specs, this is possible. I am trying to follow the steps as given here</p>\n<p><a href=\"https://swagger.io/docs/specification/data-models/enums/\" rel=\"nofollow noreferrer\">https://swagger.io/docs/specification/data-models/enums/</a></p>\n<p>my yaml implementation</p>\n<pre><code>openapi: 3.0.1\n\ninfo:\n  title: Test\n  description: Test API\n  contact:\n    name: a\n    url: http://www.google.com\n    email: user@test.com\n  version: '1.0'\n\npaths:\n  /v1/getItems:\n    summary: 'get items'\n    description: 'get items'\n    post:\n      summary: items get\n      operationId: getItems\n      x-grantTypeRequirement: 'client_credentials'\n      tags:\n        - items\n     \n      responses:\n        200:\n          description: Success\n        \ncomponents:\n  schemas:\n    Item:\n      title: Order Item\n      type: object\n      description: 'The order item.'\n      required:\n        - type\n      properties:\n        name:\n          type: string\n        type:\n          $ref: '#/components/schemas/ItemType'\n\n    ItemType:\n      description: 'The Type of the Item'\n      type: string\n      nullable: true\n      enum:\n        - &quot;PHYSICAL&quot;\n        - &quot;DIGITAL&quot;\n        - null      \n</code></pre>\n<p>when I build and run mvn clean install with the changes\nnullable:true and enum: with value as null, as shown above I get the below exception</p>\n<pre><code>[DEBUG] debugging from property return: CodegenProperty{baseName='type', openApiType='ItemType', complexType='ItemType', getter='getType', setter='setType', description='null', datatype='ItemType', datatypeWithEnum='ItemType', dataFormat='null', name='type', min='null', max='null', defaultValue='null', defaultValueWithParam=' = data.type;', baseType='ItemType', containerType='null', title='null', unescapedDescription='null', maxLength=null, minLength=null, pattern='null', example='null', jsonSchema='{\n  &quot;$ref&quot; : &quot;#/components/schemas/ItemType&quot;\n}', minimum='null', maximum='null', exclusiveMinimum=false, exclusiveMaximum=false, hasMore=false, required=false, secondaryParam=false, hasMoreNonReadOnly=false, isPrimitiveType=false, isModel=false, isContainer=false, isString=false, isNumeric=false, isInteger=false, isLong=false, isNumber=false, isFloat=false, isDouble=false, isByteArray=false, isBinary=false, isFile=false, isBoolean=false, isDate=false, isDateTime=false, isUuid=false, isUri=false, isEmail=false, isFreeFormObject=false, isListContainer=false, isMapContainer=false, isEnum=false, isReadOnly=false, isWriteOnly=false, isNullable=true, isSelfReference=false, _enum=null, allowableValues={values=[PHYSICAL, DIGITAL, null]}, items=null, mostInnerItems=null, vendorExtensions={}, hasValidation=false, isInherited=false, discriminatorValue='null', nameInCamelCase='Type', enumName='null', maxItems=null, minItems=null, isXmlAttribute=false, xmlPrefix='null', xmlName='null', xmlNamespace='null', isXmlWrapped=false}\n[ERROR]  unexpected error in Open-API generation\njava.lang.RuntimeException: Could not process model 'Item'.Please make sure that your schema is correct!\n    at org.openapitools.codegen.DefaultGenerator.generateModels (DefaultGenerator.java:472)\n    at org.openapitools.codegen.DefaultGenerator.generate (DefaultGenerator.java:923)\n    at org.openapitools.codegen.plugin.CodeGenMojo.execute (CodeGenMojo.java:727)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at com.soebes.maven.plugins.iterator.IteratorMojo.executeMojo (IteratorMojo.java:406)\n    at com.soebes.maven.plugins.iterator.IteratorMojo.handlePluginExecution (IteratorMojo.java:305)\n    at com.soebes.maven.plugins.iterator.IteratorMojo.execute (IteratorMojo.java:235)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: java.lang.NullPointerException\n    at org.openapitools.codegen.DefaultCodegen.updateCodegenPropertyEnum (DefaultCodegen.java:4304)\n    at org.openapitools.codegen.DefaultCodegen.postProcessModelsEnum (DefaultCodegen.java:385)\n    at org.openapitools.codegen.languages.SpringCodegen.postProcessModelsEnum (SpringCodegen.java:815)\n    at org.openapitools.codegen.languages.AbstractJavaCodegen.postProcessModels (AbstractJavaCodegen.java:999)\n    at org.openapitools.codegen.DefaultGenerator.processModels (DefaultGenerator.java:1233)\n    at org.openapitools.codegen.DefaultGenerator.generateModels (DefaultGenerator.java:467)\n    at org.openapitools.codegen.DefaultGenerator.generate (DefaultGenerator.java:923)\n    at org.openapitools.codegen.plugin.CodeGenMojo.execute (CodeGenMojo.java:727)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at com.soebes.maven.plugins.iterator.IteratorMojo.executeMojo (IteratorMojo.java:406)\n    at com.soebes.maven.plugins.iterator.IteratorMojo.handlePluginExecution (IteratorMojo.java:305)\n    at com.soebes.maven.plugins.iterator.IteratorMojo.execute (IteratorMojo.java:235)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n[ERROR]\njava.lang.RuntimeException: Could not process model 'Item'.Please make sure that your schema is correct!\n    at org.openapitools.codegen.DefaultGenerator.generateModels (DefaultGenerator.java:472)\n    at org.openapitools.codegen.DefaultGenerator.generate (DefaultGenerator.java:923)\n    at org.openapitools.codegen.plugin.CodeGenMojo.execute (CodeGenMojo.java:727)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at com.soebes.maven.plugins.iterator.IteratorMojo.executeMojo (IteratorMojo.java:406)\n    at com.soebes.maven.plugins.iterator.IteratorMojo.handlePluginExecution (IteratorMojo.java:305)\n    at com.soebes.maven.plugins.iterator.IteratorMojo.execute (IteratorMojo.java:235)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: java.lang.NullPointerException\n    at org.openapitools.codegen.DefaultCodegen.updateCodegenPropertyEnum (DefaultCodegen.java:4304)\n    at org.openapitools.codegen.DefaultCodegen.postProcessModelsEnum (DefaultCodegen.java:385)\n    at org.openapitools.codegen.languages.SpringCodegen.postProcessModelsEnum (SpringCodegen.java:815)\n    at org.openapitools.codegen.languages.AbstractJavaCodegen.postProcessModels (AbstractJavaCodegen.java:999)\n    at org.openapitools.codegen.DefaultGenerator.processModels (DefaultGenerator.java:1233)\n    at org.openapitools.codegen.DefaultGenerator.generateModels (DefaultGenerator.java:467)\n    at org.openapitools.codegen.DefaultGenerator.generate (DefaultGenerator.java:923)\n    at org.openapitools.codegen.plugin.CodeGenMojo.execute (CodeGenMojo.java:727)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at com.soebes.maven.plugins.iterator.IteratorMojo.executeMojo (IteratorMojo.java:406)\n    at com.soebes.maven.plugins.iterator.IteratorMojo.handlePluginExecution (IteratorMojo.java:305)\n    at com.soebes.maven.plugins.iterator.IteratorMojo.execute (IteratorMojo.java:235)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n</code></pre>\n<p>any thoughts on what could be causing this exception and what steps should I take to resolve/fix this issue?</p>\n"},{"tags":["java","selenium","selenium-webdriver","cucumber","cucumber-java"],"comments":[{"owner":{"account_id":21791742,"reputation":212,"user_id":16091860,"display_name":"croakPedlar"},"score":0,"creation_date":1634755984,"post_id":69640759,"comment_id":123113792,"body_markdown":"If one of these answers helped you, please select one.","body":"If one of these answers helped you, please select one."}],"answers":[{"tags":[],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634709140,"creation_date":1634709140,"answer_id":69640930,"question_id":69640759,"body_markdown":"method:\r\n\r\n\tpublic static void selectRadioButtonByValue(List&lt;WebElement&gt; radioButtons, String value) {\r\n\t\tfor (WebElement radioButton: radioButtons) {\r\n\t\t\tif (radioButton.getAttribute(&quot;value&quot;).toLowerCase().equals(value.toLowerCase())) {\r\n\t\t\t\tradioButton.click();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n \r\nusage:\r\n\r\n\tList&lt;WebElement&gt; radioButtons = driver.findElements(By.id(&quot;gender&quot;));\r\n\tselectRadioButtonByValue(radioButtons, &quot;male&quot;);\r\n\r\noptionaly with `WebDriver driver` as argument:\r\n\r\n\tpublic static void selectRadioButtonByValue(WebDriver driver, List&lt;WebElement&gt; radioButtons, String value) {\r\n\t\tfor (WebElement radioButton: radioButtons) {\r\n\t\t\tif (radioButton.getAttribute(&quot;value&quot;).toLowerCase().equals(value.toLowerCase())) {\r\n\t\t\t\tradioButton.click();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tselectRadioButtonByValue(driver, radioButtons, &quot;male&quot;);\r\n","title":"How do I click on radio button with dynamic input using selenium?","body":"<p>method:</p>\n<pre><code>public static void selectRadioButtonByValue(List&lt;WebElement&gt; radioButtons, String value) {\n    for (WebElement radioButton: radioButtons) {\n        if (radioButton.getAttribute(&quot;value&quot;).toLowerCase().equals(value.toLowerCase())) {\n            radioButton.click();\n            break;\n        }\n    }\n}\n</code></pre>\n<p>usage:</p>\n<pre><code>List&lt;WebElement&gt; radioButtons = driver.findElements(By.id(&quot;gender&quot;));\nselectRadioButtonByValue(radioButtons, &quot;male&quot;);\n</code></pre>\n<p>optionaly with <code>WebDriver driver</code> as argument:</p>\n<pre><code>public static void selectRadioButtonByValue(WebDriver driver, List&lt;WebElement&gt; radioButtons, String value) {\n    for (WebElement radioButton: radioButtons) {\n        if (radioButton.getAttribute(&quot;value&quot;).toLowerCase().equals(value.toLowerCase())) {\n            radioButton.click();\n            break;\n        }\n    }\n}\n\nselectRadioButtonByValue(driver, radioButtons, &quot;male&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21791742,"reputation":212,"user_id":16091860,"display_name":"croakPedlar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634713067,"creation_date":1634713067,"answer_id":69641561,"question_id":69640759,"body_markdown":"You&#39;ve got it, just write your code like this:\r\n\r\n    public void enter_gender_as(String gender) {\r\n    WebElement g = driver.findElement(By.cssSelector(&quot;input[value=(&quot; + gender + &quot;)]&quot;));\r\n    g.click();\r\n    }\r\nThen call it correctly:\r\n\r\n    enter_gender_as(&quot;Male&quot;);\r\n\r\nIf you wanna get fancy then you can put `if`s to check if the value isn&#39;t `Male` or `Female`. You can make `gender` `.toLowerCase()`. And you can add in an explicit wait, like an `ExpectedCondition` to wait for element to load. But this is the base functionality.\r\nHere&#39;s an example of what the &quot;fancy&quot; one would look like:\r\n\r\n    public void enter_gender_as(String gender) {\r\n    if(!gender.equalsIgnoreCase(&quot;Male&quot;) &amp;&amp; !gender.equalsIgnoreCase(&quot;Female&quot;)){\r\n    System.out.println(&quot;Not a valid value! Please enter Male or Female&quot;);\r\n    }\r\n    WebElement g = driver.findElement(By.cssSelector(&quot;input[value=(&quot; + gender.toLowerCase + &quot;)]&quot;));\r\n    new WebDriverWait(driver, [int for timeout]).until(ExpectedConditions.visibilityOf(g));\r\n\r\n    g.click();\r\n    }","title":"How do I click on radio button with dynamic input using selenium?","body":"<p>You've got it, just write your code like this:</p>\n<pre><code>public void enter_gender_as(String gender) {\nWebElement g = driver.findElement(By.cssSelector(&quot;input[value=(&quot; + gender + &quot;)]&quot;));\ng.click();\n}\n</code></pre>\n<p>Then call it correctly:</p>\n<pre><code>enter_gender_as(&quot;Male&quot;);\n</code></pre>\n<p>If you wanna get fancy then you can put <code>if</code>s to check if the value isn't <code>Male</code> or <code>Female</code>. You can make <code>gender</code> <code>.toLowerCase()</code>. And you can add in an explicit wait, like an <code>ExpectedCondition</code> to wait for element to load. But this is the base functionality.\nHere's an example of what the &quot;fancy&quot; one would look like:</p>\n<pre><code>public void enter_gender_as(String gender) {\nif(!gender.equalsIgnoreCase(&quot;Male&quot;) &amp;&amp; !gender.equalsIgnoreCase(&quot;Female&quot;)){\nSystem.out.println(&quot;Not a valid value! Please enter Male or Female&quot;);\n}\nWebElement g = driver.findElement(By.cssSelector(&quot;input[value=(&quot; + gender.toLowerCase + &quot;)]&quot;));\nnew WebDriverWait(driver, [int for timeout]).until(ExpectedConditions.visibilityOf(g));\n\ng.click();\n}\n</code></pre>\n"}],"owner":{"account_id":17643612,"reputation":11,"user_id":12805427,"display_name":"PRIYANKA M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1634713067,"creation_date":1634707807,"question_id":69640759,"body_markdown":"I want to be able to click on either &quot;Male&quot; or &quot;Female&quot; option by inputing the value through a parameter\r\n\r\n    public void enter_gender_as(String gender) {\r\n    \r\n           \r\n    WebElement g = driver.findElement(By.cssSelector(&quot;input[value=(gender)]&quot;));\r\n    g.click();\r\n    }\r\n\r\n[HTML snippet][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V95i8.png\r\n","title":"How do I click on radio button with dynamic input using selenium?","body":"<p>I want to be able to click on either &quot;Male&quot; or &quot;Female&quot; option by inputing the value through a parameter</p>\n<pre><code>public void enter_gender_as(String gender) {\n\n       \nWebElement g = driver.findElement(By.cssSelector(&quot;input[value=(gender)]&quot;));\ng.click();\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/V95i8.png\" rel=\"nofollow noreferrer\">HTML snippet</a></p>\n"},{"tags":["java","eclipse-rcp","nattable"],"answers":[{"tags":[],"owner":{"account_id":3538064,"reputation":4183,"user_id":2955861,"display_name":"Dirk Fauth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634712999,"creation_date":1634712999,"answer_id":69641546,"question_id":69641359,"body_markdown":"You should never touch a painter unless you know what you are doing.\r\n\r\nIf you want to change the height of the `ColumnHeaderLayer` programmatically while setting up the structure, you simply need to configure the `DataLayer` accordingly.\r\n\r\n    ILayer columnHeaderLayer = new ColumnHeaderLayer(\r\n        new DataLayer(columnHeaderDataProvider, DataLayer.DEFAULT_COLUMN_WIDTH, 25),\r\n        viewportLayer,\r\n        selectionLayer);\r\n","title":"Change height of the Column Header, not resize, in Nattable","body":"<p>You should never touch a painter unless you know what you are doing.</p>\n<p>If you want to change the height of the <code>ColumnHeaderLayer</code> programmatically while setting up the structure, you simply need to configure the <code>DataLayer</code> accordingly.</p>\n<pre><code>ILayer columnHeaderLayer = new ColumnHeaderLayer(\n    new DataLayer(columnHeaderDataProvider, DataLayer.DEFAULT_COLUMN_WIDTH, 25),\n    viewportLayer,\n    selectionLayer);\n</code></pre>\n"}],"owner":{"account_id":22581587,"reputation":7,"user_id":16766157,"display_name":"Ashray M V"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69641546,"answer_count":1,"score":0,"last_activity_date":1634712999,"creation_date":1634711912,"question_id":69641359,"body_markdown":"I want to increase the size of the column header cell so I have made a CustomCellPainter extending BeveledBorderDecorator class and I have assigned interiorBounds.height as 25 as shown below, but the content from the columnHeaderLayer was getting hidden behind the bodyLayer, just like image provided here https://stackoverflow.com/questions/44921750/changing-the-height-of-column-header-in-nattable.\r\n\r\n\r\n```\r\npublic void paintCell(ILayerCell cell, GC gc, Rectangle adjustedCellBounds, IConfigRegistry configRegistry) {\r\n\t        Rectangle interiorBounds = getWrappedPainterBounds(cell, gc,\r\n\t                adjustedCellBounds, configRegistry);\r\n\t        \r\n\t        interiorBounds.height = 25;\r\n\t        \r\n\t        super.paintCell(cell, gc, interiorBounds, configRegistry);\r\n```\r\nI want to change the height of column header cell and want it to reflect properly at the time of rendering. I would like to know what API to be used for this.","title":"Change height of the Column Header, not resize, in Nattable","body":"<p>I want to increase the size of the column header cell so I have made a CustomCellPainter extending BeveledBorderDecorator class and I have assigned interiorBounds.height as 25 as shown below, but the content from the columnHeaderLayer was getting hidden behind the bodyLayer, just like image provided here <a href=\"https://stackoverflow.com/questions/44921750/changing-the-height-of-column-header-in-nattable\">changing the height of column header in Nattable</a>.</p>\n<pre><code>public void paintCell(ILayerCell cell, GC gc, Rectangle adjustedCellBounds, IConfigRegistry configRegistry) {\n            Rectangle interiorBounds = getWrappedPainterBounds(cell, gc,\n                    adjustedCellBounds, configRegistry);\n            \n            interiorBounds.height = 25;\n            \n            super.paintCell(cell, gc, interiorBounds, configRegistry);\n</code></pre>\n<p>I want to change the height of column header cell and want it to reflect properly at the time of rendering. I would like to know what API to be used for this.</p>\n"},{"tags":["java","spring","inheritance","design-patterns","interface"],"comments":[{"owner":{"account_id":1455702,"reputation":15682,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1634654706,"post_id":69626164,"comment_id":123080399,"body_markdown":"I suggest posting your actual, working code for [code review](https://codereview.stackexchange.com).","body":"I suggest posting your actual, working code for <a href=\"https://codereview.stackexchange.com\">code review</a>."}],"answers":[{"tags":[],"owner":{"account_id":6957216,"reputation":66,"user_id":5337898,"display_name":"Victor Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634626730,"creation_date":1634626730,"answer_id":69626308,"question_id":69626164,"body_markdown":"I see here, that the duplicated code is a logging(or console printing).\r\nBut it is not clear in this example what are **aService** and **bService** do? May be they have a different logics inside? As I see they return the different result. \r\nBut if **A.class** and **B.class** are the implementation of one interface, and **aService** and **bService** are also implementations of one interface. It could be the one method. Maybe)\r\n\r\n\r\n","title":"Code Duplication: Should I use a separate method or Builder Pattern?","body":"<p>I see here, that the duplicated code is a logging(or console printing).\nBut it is not clear in this example what are <strong>aService</strong> and <strong>bService</strong> do? May be they have a different logics inside? As I see they return the different result.\nBut if <strong>A.class</strong> and <strong>B.class</strong> are the implementation of one interface, and <strong>aService</strong> and <strong>bService</strong> are also implementations of one interface. It could be the one method. Maybe)</p>\n"},{"tags":[],"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634631168,"creation_date":1634631168,"answer_id":69627231,"question_id":69626164,"body_markdown":"If `aaaaaService` and `bbbbbService` share a common interface, for example\r\n\r\n    interface PageService&lt;T&gt; {\r\n        Page&lt;T&gt; findAll();\r\n    }\r\n\r\nthen we can use a single method with type arguments.\r\n\r\n    private &lt;T&gt; MultipartFile export(Service&lt;T&gt; service) throws IOException {\r\n        // repeated code block I\r\n        final Page&lt;T&gt; page = service.findAll());\r\n        // repeated code block II\r\n    }\r\n\r\nWe can either declare this method as `public` or keep the previous methods as cover methods, which depends on whether you want clients to handle/access the underlying service and on whether you may change the interface or superclass indicated by `@Override`.\r\n\r\n    public MultipartFile exportAaaaa() throws IOException {\r\n        // assuming that &#39;aaaaaService&#39; is a class member\r\n        return export(aaaaaService);\r\n    }\r\n\r\n---\r\n\r\nIf there is no common interface, I&#39;d simply extract the common code blocks to separate methods.\r\n\r\n    private MultipartFile exportAaaaa() throws IOException {\r\n        prepareWorkbook(/* parameters */);\r\n        final Page&lt;T&gt; page = aaaaaService.findAll());\r\n        constructOutput(/* parameters */);\r\n    }\r\n\r\n    private /* return type */ prepareWorkbook(/* parameters */) {\r\n        // repeated code block I\r\n    }\r\n\r\n    private /* return type */ constructOutput(/* parameters */) {\r\n        // repeated code block II\r\n    }\r\n","title":"Code Duplication: Should I use a separate method or Builder Pattern?","body":"<p>If <code>aaaaaService</code> and <code>bbbbbService</code> share a common interface, for example</p>\n<pre><code>interface PageService&lt;T&gt; {\n    Page&lt;T&gt; findAll();\n}\n</code></pre>\n<p>then we can use a single method with type arguments.</p>\n<pre><code>private &lt;T&gt; MultipartFile export(Service&lt;T&gt; service) throws IOException {\n    // repeated code block I\n    final Page&lt;T&gt; page = service.findAll());\n    // repeated code block II\n}\n</code></pre>\n<p>We can either declare this method as <code>public</code> or keep the previous methods as cover methods, which depends on whether you want clients to handle/access the underlying service and on whether you may change the interface or superclass indicated by <code>@Override</code>.</p>\n<pre><code>public MultipartFile exportAaaaa() throws IOException {\n    // assuming that 'aaaaaService' is a class member\n    return export(aaaaaService);\n}\n</code></pre>\n<hr />\n<p>If there is no common interface, I'd simply extract the common code blocks to separate methods.</p>\n<pre><code>private MultipartFile exportAaaaa() throws IOException {\n    prepareWorkbook(/* parameters */);\n    final Page&lt;T&gt; page = aaaaaService.findAll());\n    constructOutput(/* parameters */);\n}\n\nprivate /* return type */ prepareWorkbook(/* parameters */) {\n    // repeated code block I\n}\n\nprivate /* return type */ constructOutput(/* parameters */) {\n    // repeated code block II\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5031827,"reputation":420,"user_id":5599966,"accept_rate":71,"display_name":"Mor Blau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634712218,"creation_date":1634631742,"answer_id":69627374,"question_id":69626164,"body_markdown":"It looks like the duplication in your code can be extracted pretty easily into separate methods:\r\n\r\n    private void doCodeBlockI() {\r\n        // repeated code block I\r\n        workbook = new XSSFWorkbook();\r\n        sheet = workbook.createSheet(TextBundleUtil.read(TITLE));\r\n        rowCount = new AtomicInteger(0);    \r\n    }    \r\n\r\n    private MultipartFile doCodeBlockII() {\r\n        // repeated code block II\r\n        outputFile = File.createTempFile(TextBundleUtil.read(TITLE), \r\n        EXTENSION);\r\n        try (FileOutputStream outputStream = new FileOutputStream(outputFile)) {\r\n            workbook.write(outputStream);\r\n        } catch (IOException e) {\r\n            LoggingUtils.error(&quot;Writing is failed &quot;, e);\r\n        }\r\n        final FileInputStream input = new FileInputStream(outputFile);\r\n    \r\n        final String fileName = TextBundleUtil.read(TITLE).concat(EXTENSION);\r\n        return new MockMultipartFile(fileName,\r\n                fileName, CONTENT_TYPE, IOUtils.toByteArray(input));\r\n    }    \r\n\r\n    @Override\r\n    public MultipartFile exportAaaaa() throws IOException {\r\n        doCodeBlockI();\r\n\r\n        // private block to this method\r\n        final Page&lt;Aaaaa&gt; page = aaaaaService.findAll();\r\n    \r\n        // ...\r\n\r\n        return doCodeBlockII();\r\n    }\r\n\r\n    @Override\r\n    public MultipartFile exportBbbbb() throws IOException {\r\n        doCodeBlockI();\r\n\r\n        // private block to this method\r\n        final Page&lt;Bbbbb&gt; page = bbbbbService.findByUuid(uuid);\r\n    \r\n        // ...\r\n\r\n        return doCodeBlockII();\r\n    }\r\n\r\nAnother way of achieving this goal would be to use an abstract class:\r\n\r\n    public abstract class Exporter {\r\n\r\n        public MultipartFile export() throws IOException {\r\n    \r\n            // repeated code block I\r\n            workbook = new XSSFWorkbook();\r\n            sheet = workbook.createSheet(TextBundleUtil.read(TITLE));\r\n            rowCount = new AtomicInteger(0);    \r\n            //\r\n    \r\n            // private block will be called inside the abstract method\r\n            doPrivateBlock();\r\n        \r\n            // repeated code block II\r\n            outputFile = File.createTempFile(TextBundleUtil.read(TITLE), EXTENSION);\r\n            try (FileOutputStream outputStream = new FileOutputStream(outputFile)) {\r\n                workbook.write(outputStream);\r\n            } catch (IOException e) {\r\n                LoggingUtils.error(&quot;Writing is failed &quot;, e);\r\n            }\r\n            final FileInputStream input = new FileInputStream(outputFile);\r\n    \r\n            final String fileName = TextBundleUtil.read(TITLE).concat(EXTENSION);\r\n            return new MockMultipartFile(fileName,\r\n                fileName, CONTENT_TYPE, IOUtils.toByteArray(input));\r\n            //\r\n        }\r\n\r\n        protected abstract void doPrivateBlock();\r\n    }\r\n\r\nThen extend it twice, implementing the `doPrivateBlock()` method:\r\n\r\n    public class AaaaaExporter extends Exporter {\r\n\r\n        AaaaaService aaaaaService; // need to instantiate this\r\n\r\n        public AaaaaExporter() {}\r\n\r\n        @Override\r\n        private void doPrivateBlock() {\r\n            // private block to this method\r\n            final Page&lt;Aaaaa&gt; page = aaaaaService.findAll());\r\n\r\n            // ...\r\n        }\r\n    }\r\n\r\n    public class BbbbbExporter extends Exporter {\r\n\r\n        BbbbbService bbbbbService; // need to instantiate this\r\n\r\n        public BbbbbExporter() {}\r\n\r\n        @Override\r\n        private void doPrivateBlock() {\r\n            // private block to this method\r\n                final Page&lt;Bbbbb&gt; page = bbbbbService.findByUuid(uuid));\r\n\r\n            // ...\r\n        }\r\n    }\r\n\r\nI&#39;ve ignored the shared fields that are being used in your code (e.g. `workbook`), you will need to either add them as arguments to the export(...) method or add them as fields to the `Exporter` class and instantiate them along with your class, it will depend on their scope which is not well-defined in your question.","title":"Code Duplication: Should I use a separate method or Builder Pattern?","body":"<p>It looks like the duplication in your code can be extracted pretty easily into separate methods:</p>\n<pre><code>private void doCodeBlockI() {\n    // repeated code block I\n    workbook = new XSSFWorkbook();\n    sheet = workbook.createSheet(TextBundleUtil.read(TITLE));\n    rowCount = new AtomicInteger(0);    \n}    \n\nprivate MultipartFile doCodeBlockII() {\n    // repeated code block II\n    outputFile = File.createTempFile(TextBundleUtil.read(TITLE), \n    EXTENSION);\n    try (FileOutputStream outputStream = new FileOutputStream(outputFile)) {\n        workbook.write(outputStream);\n    } catch (IOException e) {\n        LoggingUtils.error(&quot;Writing is failed &quot;, e);\n    }\n    final FileInputStream input = new FileInputStream(outputFile);\n\n    final String fileName = TextBundleUtil.read(TITLE).concat(EXTENSION);\n    return new MockMultipartFile(fileName,\n            fileName, CONTENT_TYPE, IOUtils.toByteArray(input));\n}    \n\n@Override\npublic MultipartFile exportAaaaa() throws IOException {\n    doCodeBlockI();\n\n    // private block to this method\n    final Page&lt;Aaaaa&gt; page = aaaaaService.findAll();\n\n    // ...\n\n    return doCodeBlockII();\n}\n\n@Override\npublic MultipartFile exportBbbbb() throws IOException {\n    doCodeBlockI();\n\n    // private block to this method\n    final Page&lt;Bbbbb&gt; page = bbbbbService.findByUuid(uuid);\n\n    // ...\n\n    return doCodeBlockII();\n}\n</code></pre>\n<p>Another way of achieving this goal would be to use an abstract class:</p>\n<pre><code>public abstract class Exporter {\n\n    public MultipartFile export() throws IOException {\n\n        // repeated code block I\n        workbook = new XSSFWorkbook();\n        sheet = workbook.createSheet(TextBundleUtil.read(TITLE));\n        rowCount = new AtomicInteger(0);    \n        //\n\n        // private block will be called inside the abstract method\n        doPrivateBlock();\n    \n        // repeated code block II\n        outputFile = File.createTempFile(TextBundleUtil.read(TITLE), EXTENSION);\n        try (FileOutputStream outputStream = new FileOutputStream(outputFile)) {\n            workbook.write(outputStream);\n        } catch (IOException e) {\n            LoggingUtils.error(&quot;Writing is failed &quot;, e);\n        }\n        final FileInputStream input = new FileInputStream(outputFile);\n\n        final String fileName = TextBundleUtil.read(TITLE).concat(EXTENSION);\n        return new MockMultipartFile(fileName,\n            fileName, CONTENT_TYPE, IOUtils.toByteArray(input));\n        //\n    }\n\n    protected abstract void doPrivateBlock();\n}\n</code></pre>\n<p>Then extend it twice, implementing the <code>doPrivateBlock()</code> method:</p>\n<pre><code>public class AaaaaExporter extends Exporter {\n\n    AaaaaService aaaaaService; // need to instantiate this\n\n    public AaaaaExporter() {}\n\n    @Override\n    private void doPrivateBlock() {\n        // private block to this method\n        final Page&lt;Aaaaa&gt; page = aaaaaService.findAll());\n\n        // ...\n    }\n}\n\npublic class BbbbbExporter extends Exporter {\n\n    BbbbbService bbbbbService; // need to instantiate this\n\n    public BbbbbExporter() {}\n\n    @Override\n    private void doPrivateBlock() {\n        // private block to this method\n            final Page&lt;Bbbbb&gt; page = bbbbbService.findByUuid(uuid));\n\n        // ...\n    }\n}\n</code></pre>\n<p>I've ignored the shared fields that are being used in your code (e.g. <code>workbook</code>), you will need to either add them as arguments to the export(...) method or add them as fields to the <code>Exporter</code> class and instantiate them along with your class, it will depend on their scope which is not well-defined in your question.</p>\n"}],"owner":{"display_name":"user17188729"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1634712218,"creation_date":1634625866,"question_id":69626164,"body_markdown":"I have the following 2 methods (some codes omitted for brevity) in my Java (Spring) app and I want to reduce duplicated blocks in these methods. At this point, after making some research, some people suggesting Builder Pattern, some of them another similar one Template Method. I also think that, I could simply create 2 separate methods and move each repeated code blocks to these methods. \r\n\r\nHowever, I have no experience about this issue and I would like to ask you first to follow the most proper ways. So, how should I reduce the code duplication in the following 2 methods? I also think to use inheritance, but I am really confused with finding a proper way.\r\n\r\n**Not:** I omitted my code and use a simple code for brevity:\r\n\r\n```\r\n@Override\r\npublic MultipartFile exportAaaaa() throws IOException {\r\n\r\n    // repeated code block I\r\n    workbook = new XSSFWorkbook();\r\n    sheet = workbook.createSheet(TextBundleUtil.read(TITLE));\r\n    rowCount = new AtomicInteger(0);    \r\n    //\r\n\r\n    // private block to this method\r\n    final Page&lt;Aaaaa&gt; page = aaaaaService.findAll());\r\n\r\n    // ...\r\n\r\n    // repeated code block II\r\n    outputFile = File.createTempFile(TextBundleUtil.read(TITLE), EXTENSION);\r\n    try (FileOutputStream outputStream = new FileOutputStream(outputFile)) {\r\n        workbook.write(outputStream);\r\n    } catch (IOException e) {\r\n        LoggingUtils.error(&quot;Writing is failed &quot;, e);\r\n    }\r\n    final FileInputStream input = new FileInputStream(outputFile);\r\n\r\n    final String fileName = TextBundleUtil.read(TITLE).concat(EXTENSION);\r\n    return new MockMultipartFile(fileName,\r\n            fileName, CONTENT_TYPE, IOUtils.toByteArray(input));\r\n    //\r\n}\r\n```\r\n\r\n\r\n```\r\n@Override\r\npublic MultipartFile exportBbbbb() throws IOException {\r\n\r\n    // repeated code block I\r\n    workbook = new XSSFWorkbook();\r\n    sheet = workbook.createSheet(TextBundleUtil.read(TITLE));\r\n    rowCount = new AtomicInteger(0);    \r\n    //\r\n\r\n    // private block to this method\r\n    final Page&lt;Bbbbb&gt; page = bbbbbService.findBy Uuid(uuid));\r\n\r\n    // ...\r\n\r\n    // repeated code block II\r\n    outputFile = File.createTempFile(TextBundleUtil.read(TITLE), EXTENSION);\r\n    try (FileOutputStream outputStream = new FileOutputStream(outputFile)) {\r\n        workbook.write(outputStream);\r\n    } catch (IOException e) {\r\n        LoggingUtils.error(&quot;Writing is failed &quot;, e);\r\n    }\r\n    final FileInputStream input = new FileInputStream(outputFile);\r\n\r\n    final String fileName = TextBundleUtil.read(TITLE).concat(EXTENSION);\r\n    return new MockMultipartFile(fileName,\r\n            fileName, CONTENT_TYPE, IOUtils.toByteArray(input));\r\n    //\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"Code Duplication: Should I use a separate method or Builder Pattern?","body":"<p>I have the following 2 methods (some codes omitted for brevity) in my Java (Spring) app and I want to reduce duplicated blocks in these methods. At this point, after making some research, some people suggesting Builder Pattern, some of them another similar one Template Method. I also think that, I could simply create 2 separate methods and move each repeated code blocks to these methods.</p>\n<p>However, I have no experience about this issue and I would like to ask you first to follow the most proper ways. So, how should I reduce the code duplication in the following 2 methods? I also think to use inheritance, but I am really confused with finding a proper way.</p>\n<p><strong>Not:</strong> I omitted my code and use a simple code for brevity:</p>\n<pre><code>@Override\npublic MultipartFile exportAaaaa() throws IOException {\n\n    // repeated code block I\n    workbook = new XSSFWorkbook();\n    sheet = workbook.createSheet(TextBundleUtil.read(TITLE));\n    rowCount = new AtomicInteger(0);    \n    //\n\n    // private block to this method\n    final Page&lt;Aaaaa&gt; page = aaaaaService.findAll());\n\n    // ...\n\n    // repeated code block II\n    outputFile = File.createTempFile(TextBundleUtil.read(TITLE), EXTENSION);\n    try (FileOutputStream outputStream = new FileOutputStream(outputFile)) {\n        workbook.write(outputStream);\n    } catch (IOException e) {\n        LoggingUtils.error(&quot;Writing is failed &quot;, e);\n    }\n    final FileInputStream input = new FileInputStream(outputFile);\n\n    final String fileName = TextBundleUtil.read(TITLE).concat(EXTENSION);\n    return new MockMultipartFile(fileName,\n            fileName, CONTENT_TYPE, IOUtils.toByteArray(input));\n    //\n}\n</code></pre>\n<pre><code>@Override\npublic MultipartFile exportBbbbb() throws IOException {\n\n    // repeated code block I\n    workbook = new XSSFWorkbook();\n    sheet = workbook.createSheet(TextBundleUtil.read(TITLE));\n    rowCount = new AtomicInteger(0);    \n    //\n\n    // private block to this method\n    final Page&lt;Bbbbb&gt; page = bbbbbService.findBy Uuid(uuid));\n\n    // ...\n\n    // repeated code block II\n    outputFile = File.createTempFile(TextBundleUtil.read(TITLE), EXTENSION);\n    try (FileOutputStream outputStream = new FileOutputStream(outputFile)) {\n        workbook.write(outputStream);\n    } catch (IOException e) {\n        LoggingUtils.error(&quot;Writing is failed &quot;, e);\n    }\n    final FileInputStream input = new FileInputStream(outputFile);\n\n    final String fileName = TextBundleUtil.read(TITLE).concat(EXTENSION);\n    return new MockMultipartFile(fileName,\n            fileName, CONTENT_TYPE, IOUtils.toByteArray(input));\n    //\n}\n</code></pre>\n"},{"tags":["java","kotlin","android-edittext"],"comments":[{"owner":{"account_id":16588730,"reputation":143,"user_id":12409160,"display_name":"Akram Baratov"},"score":0,"creation_date":1634717949,"post_id":69641401,"comment_id":123097268,"body_markdown":"getSelectionStart and getSelectionEnd return 0 because I&#39;m not selecting text in EditText.","body":"getSelectionStart and getSelectionEnd return 0 because I&#39;m not selecting text in EditText."},{"owner":{"account_id":5681081,"reputation":5785,"user_id":10082297,"display_name":"Henry Twist"},"score":0,"creation_date":1634727564,"post_id":69641401,"comment_id":123101310,"body_markdown":"According to the answer I&#39;ve linked, `getSelectionStart` returns the cursor position if no text is selected, is this not what you&#39;ve found?","body":"According to the answer I&#39;ve linked, <code>getSelectionStart</code> returns the cursor position if no text is selected, is this not what you&#39;ve found?"},{"owner":{"account_id":16588730,"reputation":143,"user_id":12409160,"display_name":"Akram Baratov"},"score":0,"creation_date":1634728166,"post_id":69641401,"comment_id":123101533,"body_markdown":"It returns 0 in any case :(","body":"It returns 0 in any case :("},{"owner":{"account_id":16588730,"reputation":143,"user_id":12409160,"display_name":"Akram Baratov"},"score":0,"creation_date":1634730460,"post_id":69641401,"comment_id":123102446,"body_markdown":"@HenryTwist Oops, update. It returns position when my cursor in the end, but I need position in other cases","body":"@HenryTwist Oops, update. It returns position when my cursor in the end, but I need position in other cases"},{"owner":{"account_id":5681081,"reputation":5785,"user_id":10082297,"display_name":"Henry Twist"},"score":0,"creation_date":1634748162,"post_id":69641401,"comment_id":123110729,"body_markdown":"Strange. Can you update your question with what you&#39;ve tried?","body":"Strange. Can you update your question with what you&#39;ve tried?"}],"owner":{"account_id":16588730,"reputation":143,"user_id":12409160,"display_name":"Akram Baratov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1634897316,"answer_count":0,"score":0,"last_activity_date":1634712164,"creation_date":1634712164,"question_id":69641401,"body_markdown":"Trying to get current cursor position in my editText in Android. Didn&#39;t find any solution. Simply can&#39;t get cursor position but can set position.\r\nNow trying to set cursor in `onTextChanged` function like below:\r\n```\r\nprivate var prevValue = &quot;&quot;\r\n\r\noverride fun beforeTextChanged(s: CharSequence?, start: Int, count: Int, after: Int) {\r\n        prevValue = s.toString()\r\n    }\r\n\r\noverride fun onTextChanged(s: CharSequence?, start: Int, before: Int, count: Int) {\r\n        if (count - before &gt; 1) {\r\n            val newPos= s!!.length- abs(start-prevValue.length) \r\n            // newPos is incorrect. How can I calculate current cursor position?\r\n            editText.setSelection(min(max(0,newPos),formattedValue.length))\r\n            //I want to set cursor on the position where user typed any symbol\r\n\r\n        }\r\n    }\r\n```\r\n\r\nAny advices or help?","title":"Getting current cursor position in EditText","body":"<p>Trying to get current cursor position in my editText in Android. Didn't find any solution. Simply can't get cursor position but can set position.\nNow trying to set cursor in <code>onTextChanged</code> function like below:</p>\n<pre><code>private var prevValue = &quot;&quot;\n\noverride fun beforeTextChanged(s: CharSequence?, start: Int, count: Int, after: Int) {\n        prevValue = s.toString()\n    }\n\noverride fun onTextChanged(s: CharSequence?, start: Int, before: Int, count: Int) {\n        if (count - before &gt; 1) {\n            val newPos= s!!.length- abs(start-prevValue.length) \n            // newPos is incorrect. How can I calculate current cursor position?\n            editText.setSelection(min(max(0,newPos),formattedValue.length))\n            //I want to set cursor on the position where user typed any symbol\n\n        }\n    }\n</code></pre>\n<p>Any advices or help?</p>\n"},{"tags":["java","html","htmlunit"],"answers":[{"tags":[],"owner":{"account_id":18633261,"reputation":1,"user_id":13580744,"display_name":"Alex Ivan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596965227,"creation_date":1596965227,"answer_id":63324661,"question_id":63324230,"body_markdown":"Try https://stackoverflow.com/questions/44867425/beautiful-soup-cant-find-tags \r\nIt explains that the backend JS is loaded async and your GET request cant acutally get the tag. Read more here.","title":"What is the &lt;cbn-root&gt; html element? And how to parser it by Java?","body":"<p>Try <a href=\"https://stackoverflow.com/questions/44867425/beautiful-soup-cant-find-tags\">Beautiful Soup Can&#39;t Find Tags</a>\nIt explains that the backend JS is loaded async and your GET request cant acutally get the tag. Read more here.</p>\n"},{"tags":[],"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1596976788,"creation_date":1596976788,"answer_id":63326449,"question_id":63324230,"body_markdown":"At least with the upcoming version 2.43.0 the tag gets replaced.\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String url = &quot;https://www.drpciv.ro/drpciv-booking/formular/23/exchangingForeignDriverLicence&quot;;\r\n\r\n        try (final WebClient webClient = new WebClient(BrowserVersion.FIREFOX)) {\r\n            webClient.getOptions().setThrowExceptionOnScriptError(false);\r\n\r\n            HtmlPage page = webClient.getPage(url);\r\n            System.out.println(&quot; ---- &quot;);\r\n            webClient.waitForBackgroundJavaScript(10_000);\r\n\r\n            System.out.println(&quot; ---- &quot;);\r\n            System.out.println(page.asXml());\r\n        }\r\n    }\r\n","title":"What is the &lt;cbn-root&gt; html element? And how to parser it by Java?","body":"<p>At least with the upcoming version 2.43.0 the tag gets replaced.</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    String url = &quot;https://www.drpciv.ro/drpciv-booking/formular/23/exchangingForeignDriverLicence&quot;;\n\n    try (final WebClient webClient = new WebClient(BrowserVersion.FIREFOX)) {\n        webClient.getOptions().setThrowExceptionOnScriptError(false);\n\n        HtmlPage page = webClient.getPage(url);\n        System.out.println(&quot; ---- &quot;);\n        webClient.waitForBackgroundJavaScript(10_000);\n\n        System.out.println(&quot; ---- &quot;);\n        System.out.println(page.asXml());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19258102,"reputation":3,"user_id":14074583,"display_name":"Aaron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63326449,"answer_count":2,"score":0,"last_activity_date":1634712136,"creation_date":1596962322,"question_id":63324230,"body_markdown":"I was trying to write a Java program to monitor if there are reserved spots becoming available on this website: https://www.drpciv.ro/drpciv-booking/formular/23/exchangingForeignDriverLicence\r\n\r\nBut when I view page source with Chrome or Edge, the body part show only `&lt;cbn-root&gt;&lt;/cbn-root&gt;`. But using Chrome&#39;s Inspect function I can see the complete body. When I try to get the content of the webpage in Java with HtmlUnit it gets only `&lt;cbn-root&gt;&lt;/cbn-root&gt;` and no real content either. \r\n\r\nTried to google `&lt;cbn-root&gt;`, but didn&#39;t see any useful information. \r\nWonder what the element &lt;cbn-root&gt; is and how to read the real content in Java in this case.\r\n\r\nThank you","title":"What is the &lt;cbn-root&gt; html element? And how to parser it by Java?","body":"<p>I was trying to write a Java program to monitor if there are reserved spots becoming available on this website: <a href=\"https://www.drpciv.ro/drpciv-booking/formular/23/exchangingForeignDriverLicence\" rel=\"nofollow noreferrer\">https://www.drpciv.ro/drpciv-booking/formular/23/exchangingForeignDriverLicence</a></p>\n<p>But when I view page source with Chrome or Edge, the body part show only <code>&lt;cbn-root&gt;&lt;/cbn-root&gt;</code>. But using Chrome's Inspect function I can see the complete body. When I try to get the content of the webpage in Java with HtmlUnit it gets only <code>&lt;cbn-root&gt;&lt;/cbn-root&gt;</code> and no real content either.</p>\n<p>Tried to google <code>&lt;cbn-root&gt;</code>, but didn't see any useful information.\nWonder what the element  is and how to read the real content in Java in this case.</p>\n<p>Thank you</p>\n"},{"tags":["java","random"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":3,"creation_date":1634584273,"post_id":69621321,"comment_id":123059499,"body_markdown":"`Math.random` returns a  `double` so therefore the overload of `Math.round` returning a `long` is used. And because your variables are smaller you get the error","body":"<code>Math.random</code> returns a  <code>double</code> so therefore the overload of <code>Math.round</code> returning a <code>long</code> is used. And because your variables are smaller you get the error"},{"owner":{"account_id":3131031,"reputation":24013,"user_id":2648811,"accept_rate":33,"display_name":"Green Cloak Guy"},"score":0,"creation_date":1634584409,"post_id":69621321,"comment_id":123059549,"body_markdown":"change `int A` and `int B` to `long A` and `long B` and you should be fine","body":"change <code>int A</code> and <code>int B</code> to <code>long A</code> and <code>long B</code> and you should be fine"},{"owner":{"account_id":22751206,"reputation":235,"user_id":16911341,"display_name":"Daisy Welham"},"score":0,"creation_date":1634584498,"post_id":69621321,"comment_id":123059579,"body_markdown":"I already tried replacing int A and int B with long A and long B, it didn&#39;t work because .substring() expects ints.","body":"I already tried replacing int A and int B with long A and long B, it didn&#39;t work because .substring() expects ints."},{"owner":{"account_id":22751206,"reputation":235,"user_id":16911341,"display_name":"Daisy Welham"},"score":0,"creation_date":1634584546,"post_id":69621321,"comment_id":123059590,"body_markdown":"I think I now understand what caused the problem. Thanks, UnholySheep! How do I fix it, though?","body":"I think I now understand what caused the problem. Thanks, UnholySheep! How do I fix it, though?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1634599630,"post_id":69621321,"comment_id":123063496,"body_markdown":"By the way, Java naming conventions say variable names should be lowercase, `a` &amp; `b`. More readable.","body":"By the way, Java naming conventions say variable names should be lowercase, <code>a</code> &amp; <code>b</code>. More readable."}],"answers":[{"tags":[],"owner":{"account_id":3985860,"reputation":456,"user_id":4408813,"display_name":"abstractnature"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634584696,"creation_date":1634584555,"answer_id":69621391,"question_id":69621321,"body_markdown":"Math.round() is returning long here, so you can type cast it by writing like this,\r\n\r\n    int A = (int) Math.round(62*Math.random());\r\n\r\nAnother way of doing this is (but inefficient)\r\n\r\n    int A = Long.valueOf(Math.round(62*Math.random())).intValue();\r\n\r\nRest you are doing it right. :)\r\n\r\nThis is kind of downcasting it (loss of information can happen), so you need to be sure that the number on the right side is within the range of int only.","title":"Trying to generate random text in Java - &quot;Type mismatch: cannot convert from long to int&quot;","body":"<p>Math.round() is returning long here, so you can type cast it by writing like this,</p>\n<pre><code>int A = (int) Math.round(62*Math.random());\n</code></pre>\n<p>Another way of doing this is (but inefficient)</p>\n<pre><code>int A = Long.valueOf(Math.round(62*Math.random())).intValue();\n</code></pre>\n<p>Rest you are doing it right. :)</p>\n<p>This is kind of downcasting it (loss of information can happen), so you need to be sure that the number on the right side is within the range of int only.</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634585094,"creation_date":1634585094,"answer_id":69621510,"question_id":69621321,"body_markdown":"Consider using class [java.util.Random][1] to generate random `int`s.\r\n```java\r\nString characters = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890&quot;;\r\njava.util.Random rand = new java.util.Random();\r\nfor (int i = 0; i &lt; 100; i++) {\r\n    int a = rand.nextInt(62);\r\n    int b = a + 1;\r\n    System.out.println(characters.substring(a,b));\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Random.html","title":"Trying to generate random text in Java - &quot;Type mismatch: cannot convert from long to int&quot;","body":"<p>Consider using class <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Random.html\" rel=\"nofollow noreferrer\">java.util.Random</a> to generate random <code>int</code>s.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String characters = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890&quot;;\njava.util.Random rand = new java.util.Random();\nfor (int i = 0; i &lt; 100; i++) {\n    int a = rand.nextInt(62);\n    int b = a + 1;\n    System.out.println(characters.substring(a,b));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634712011,"creation_date":1634600440,"answer_id":69623648,"question_id":69621321,"body_markdown":"# Mixing types impacts your results\r\n\r\nYou said:\r\n\r\n&gt;I&#39;m expecting my code to give me a random integer from 0 to 61\r\n\r\nYour expectation is incorrect. \r\n\r\nFirst you mix types in within these parentheses: `(62*Math.random())`. On the left is an `int`, as inferred by the compiler. (See the Java Language Specification [about literals][1].) On the right is a call to [`Math.random()`][2], which is documented as returning a `double`. What happens when you multiply an `int` by a `double` in Java? The result is a `double`. \r\n\r\nThen you pass that `double` value in your call to `Math.round`. [Study the Javadoc][3]. You will find *two* methods named `round`, each taking a different type of parameter. And **each returns a different type**. The method [`Math.round(double a)`][4] returns a `long`, while the other [`Math.round`][5] returns an `int`. \r\n\r\nYou would have avoided this trickery by **keeping your code utterly simple** rather than nesting operations within a line of code. You would incrementally declare each stage in the calculation, making you quite aware of the data type of each return value. Step-by-step results makes your debugging easier. And, as a bonus, simple code is more likely to be highly optimized by the compiler. \r\n\r\nAlso, you can call `Math.toIntExact` to convert a `long` to an `int` when you are sure the value will fit. This method throws an exception if the value overflows an `int`. So you will be alerted if your expectation of fitting proves incorrect.\r\n\r\nAlso, your code will be much easier to comprehend if you avoid [magic numbers][6]. Use well-named variables/[constants][7] instead. For example, I did not immediately understand your `62` multiplicand is the length of your pool of characters. And another point: Such a number should be [soft-coded][8] with a call to [`String#length`][9]. \r\n\r\nOne more problem: Your code breaks if the starting position on the pool happens to be the last character in the pool. Then adding one takes you past the end, resulting in a runtime error. So subtract one from your limit of `62`, to get `61`. Or in code below, `( POOL_OF_CHARACTERS.length() - 1 )`. \r\n\r\nPulling that all together, you may get code like this:\r\n\r\n```java\r\nfinal String POOL_OF_CHARACTERS = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890&quot;;\r\nfinal int DESIRED_LENGTH_OF_RESULTING_TEXT = 100;\r\nStringBuilder stringBuilder = new StringBuilder( &quot;&quot; );\r\nfor ( int i = 0 ; i &lt; DESIRED_LENGTH_OF_RESULTING_TEXT ; i++ )\r\n{\r\n    double randomProduct = ( ( POOL_OF_CHARACTERS.length() - 1 ) * Math.random() );\r\n    long intermediateResult = Math.round( randomProduct );\r\n    int startingPositionInPool = Math.toIntExact( intermediateResult ); // Throws an exception if the value overflows an int.\r\n    int endingPositionInPool = ( startingPositionInPool + 1 );\r\n    String piece = POOL_OF_CHARACTERS.substring( startingPositionInPool , endingPositionInPool );\r\n    stringBuilder.append( piece );\r\n}\r\nString randomString = stringBuilder.toString();\r\nSystem.out.println( &quot;randomString = &quot; + randomString );\r\n```\r\n \r\nWhen run.\r\n\r\n&gt;randomString = 7YqRnJ4TXzMo3nvoUkBRQYq5evOhBjo3I2Cc9fTWAfCFlGY5R4rlFjWqqwRqERkVylXI7le4VLs5nKBHlNuHb03qxFeebDBSsHab\r\n\r\nBy the way, I would replace `Math.random` with the more convenient [`ThreadLocalRandom#nextInt( int origin ,\r\n int bound )`][10]. Notice how that method is Half-Open, with the beginning being *inclusive* while the ending is *exclusive*. So we will not have a problem with going beyond the end of the pool. We do not need to subtract one. \r\n\r\n```java\r\nfinal String POOL_OF_CHARACTERS = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890&quot;;\r\nfinal int DESIRED_LENGTH_OF_RESULTING_TEXT = 100;\r\nStringBuilder stringBuilder = new StringBuilder( &quot;&quot; );\r\nfor ( int i = 0 ; i &lt; DESIRED_LENGTH_OF_RESULTING_TEXT ; i++ )\r\n{\r\n    int startingPositionInPool = ThreadLocalRandom.current().nextInt( 0 , POOL_OF_CHARACTERS.length() );  // Half-Open. The specified bound is exclusive.\r\n    int endingPositionInPool = ( startingPositionInPool + 1 );  \r\n    String piece = POOL_OF_CHARACTERS.substring( startingPositionInPool , endingPositionInPool );\r\n    stringBuilder.append( piece );\r\n}\r\nString randomString = stringBuilder.toString();\r\nSystem.out.println( &quot;randomString = &quot; + randomString );\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nBy the way, just for fun, here is an entirely different way to accomplish the same result. This approach uses [streams][11], and [code points][12]. (Not necessarily better though, in this case.)\r\n\r\n```java\r\nfinal long DESIRED_LENGTH_OF_RESULTING_TEXT = 100;\r\nint[] poolOfCodePoints = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890&quot;.codePoints().toArray();\r\nIntStream positions = new Random().ints( DESIRED_LENGTH_OF_RESULTING_TEXT , 0 , poolOfCodePoints.length );\r\nIntStream codePoints = positions.map( indexIntoCodePoints -&gt; poolOfCodePoints[ indexIntoCodePoints ] );\r\nStringBuilder stringBuilder = codePoints.collect( StringBuilder :: new , StringBuilder :: appendCodePoint , StringBuilder :: append );\r\nString randomText = stringBuilder.toString();\r\n```\r\n\r\nOr, shorter:\r\n\r\n```java\r\nfinal long DESIRED_LENGTH_OF_RESULTING_TEXT = 100;\r\nint[] poolOfCodePoints = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890&quot;.codePoints().toArray();\r\nString randomText =\r\n        new Random()\r\n                .ints( DESIRED_LENGTH_OF_RESULTING_TEXT , 0 , poolOfCodePoints.length )\r\n                .map( indexIntoCodePoints -&gt; poolOfCodePoints[ indexIntoCodePoints ] )\r\n                .collect( StringBuilder :: new , StringBuilder :: appendCodePoint , StringBuilder :: append )\r\n                .toString();\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-3.html#jls-3.10\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#random()\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#round(double)\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#round(float)\r\n  [6]: https://en.wikipedia.org/wiki/Magic_number_(programming)\r\n  [7]: https://en.wikipedia.org/wiki/Constant_(computer_programming)\r\n  [8]: https://en.wikipedia.org/wiki/Softcoding\r\n  [9]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#length()\r\n  [10]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadLocalRandom.html#nextInt(int,int)\r\n  [11]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html\r\n  [12]: https://en.wikipedia.org/wiki/Code_point","title":"Trying to generate random text in Java - &quot;Type mismatch: cannot convert from long to int&quot;","body":"<h1>Mixing types impacts your results</h1>\n<p>You said:</p>\n<blockquote>\n<p>I'm expecting my code to give me a random integer from 0 to 61</p>\n</blockquote>\n<p>Your expectation is incorrect.</p>\n<p>First you mix types in within these parentheses: <code>(62*Math.random())</code>. On the left is an <code>int</code>, as inferred by the compiler. (See the Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-3.html#jls-3.10\" rel=\"nofollow noreferrer\">about literals</a>.) On the right is a call to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#random()\" rel=\"nofollow noreferrer\"><code>Math.random()</code></a>, which is documented as returning a <code>double</code>. What happens when you multiply an <code>int</code> by a <code>double</code> in Java? The result is a <code>double</code>.</p>\n<p>Then you pass that <code>double</code> value in your call to <code>Math.round</code>. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html\" rel=\"nofollow noreferrer\">Study the Javadoc</a>. You will find <em>two</em> methods named <code>round</code>, each taking a different type of parameter. And <strong>each returns a different type</strong>. The method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#round(double)\" rel=\"nofollow noreferrer\"><code>Math.round(double a)</code></a> returns a <code>long</code>, while the other <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#round(float)\" rel=\"nofollow noreferrer\"><code>Math.round</code></a> returns an <code>int</code>.</p>\n<p>You would have avoided this trickery by <strong>keeping your code utterly simple</strong> rather than nesting operations within a line of code. You would incrementally declare each stage in the calculation, making you quite aware of the data type of each return value. Step-by-step results makes your debugging easier. And, as a bonus, simple code is more likely to be highly optimized by the compiler.</p>\n<p>Also, you can call <code>Math.toIntExact</code> to convert a <code>long</code> to an <code>int</code> when you are sure the value will fit. This method throws an exception if the value overflows an <code>int</code>. So you will be alerted if your expectation of fitting proves incorrect.</p>\n<p>Also, your code will be much easier to comprehend if you avoid <a href=\"https://en.wikipedia.org/wiki/Magic_number_(programming)\" rel=\"nofollow noreferrer\">magic numbers</a>. Use well-named variables/<a href=\"https://en.wikipedia.org/wiki/Constant_(computer_programming)\" rel=\"nofollow noreferrer\">constants</a> instead. For example, I did not immediately understand your <code>62</code> multiplicand is the length of your pool of characters. And another point: Such a number should be <a href=\"https://en.wikipedia.org/wiki/Softcoding\" rel=\"nofollow noreferrer\">soft-coded</a> with a call to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#length()\" rel=\"nofollow noreferrer\"><code>String#length</code></a>.</p>\n<p>One more problem: Your code breaks if the starting position on the pool happens to be the last character in the pool. Then adding one takes you past the end, resulting in a runtime error. So subtract one from your limit of <code>62</code>, to get <code>61</code>. Or in code below, <code>( POOL_OF_CHARACTERS.length() - 1 )</code>.</p>\n<p>Pulling that all together, you may get code like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String POOL_OF_CHARACTERS = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890&quot;;\nfinal int DESIRED_LENGTH_OF_RESULTING_TEXT = 100;\nStringBuilder stringBuilder = new StringBuilder( &quot;&quot; );\nfor ( int i = 0 ; i &lt; DESIRED_LENGTH_OF_RESULTING_TEXT ; i++ )\n{\n    double randomProduct = ( ( POOL_OF_CHARACTERS.length() - 1 ) * Math.random() );\n    long intermediateResult = Math.round( randomProduct );\n    int startingPositionInPool = Math.toIntExact( intermediateResult ); // Throws an exception if the value overflows an int.\n    int endingPositionInPool = ( startingPositionInPool + 1 );\n    String piece = POOL_OF_CHARACTERS.substring( startingPositionInPool , endingPositionInPool );\n    stringBuilder.append( piece );\n}\nString randomString = stringBuilder.toString();\nSystem.out.println( &quot;randomString = &quot; + randomString );\n</code></pre>\n<p>When run.</p>\n<blockquote>\n<p>randomString = 7YqRnJ4TXzMo3nvoUkBRQYq5evOhBjo3I2Cc9fTWAfCFlGY5R4rlFjWqqwRqERkVylXI7le4VLs5nKBHlNuHb03qxFeebDBSsHab</p>\n</blockquote>\n<p>By the way, I would replace <code>Math.random</code> with the more convenient <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadLocalRandom.html#nextInt(int,int)\" rel=\"nofollow noreferrer\"><code>ThreadLocalRandom#nextInt( int origin , int bound )</code></a>. Notice how that method is Half-Open, with the beginning being <em>inclusive</em> while the ending is <em>exclusive</em>. So we will not have a problem with going beyond the end of the pool. We do not need to subtract one.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String POOL_OF_CHARACTERS = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890&quot;;\nfinal int DESIRED_LENGTH_OF_RESULTING_TEXT = 100;\nStringBuilder stringBuilder = new StringBuilder( &quot;&quot; );\nfor ( int i = 0 ; i &lt; DESIRED_LENGTH_OF_RESULTING_TEXT ; i++ )\n{\n    int startingPositionInPool = ThreadLocalRandom.current().nextInt( 0 , POOL_OF_CHARACTERS.length() );  // Half-Open. The specified bound is exclusive.\n    int endingPositionInPool = ( startingPositionInPool + 1 );  \n    String piece = POOL_OF_CHARACTERS.substring( startingPositionInPool , endingPositionInPool );\n    stringBuilder.append( piece );\n}\nString randomString = stringBuilder.toString();\nSystem.out.println( &quot;randomString = &quot; + randomString );\n</code></pre>\n<hr />\n<p>By the way, just for fun, here is an entirely different way to accomplish the same result. This approach uses <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\">streams</a>, and <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code points</a>. (Not necessarily better though, in this case.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>final long DESIRED_LENGTH_OF_RESULTING_TEXT = 100;\nint[] poolOfCodePoints = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890&quot;.codePoints().toArray();\nIntStream positions = new Random().ints( DESIRED_LENGTH_OF_RESULTING_TEXT , 0 , poolOfCodePoints.length );\nIntStream codePoints = positions.map( indexIntoCodePoints -&gt; poolOfCodePoints[ indexIntoCodePoints ] );\nStringBuilder stringBuilder = codePoints.collect( StringBuilder :: new , StringBuilder :: appendCodePoint , StringBuilder :: append );\nString randomText = stringBuilder.toString();\n</code></pre>\n<p>Or, shorter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final long DESIRED_LENGTH_OF_RESULTING_TEXT = 100;\nint[] poolOfCodePoints = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890&quot;.codePoints().toArray();\nString randomText =\n        new Random()\n                .ints( DESIRED_LENGTH_OF_RESULTING_TEXT , 0 , poolOfCodePoints.length )\n                .map( indexIntoCodePoints -&gt; poolOfCodePoints[ indexIntoCodePoints ] )\n                .collect( StringBuilder :: new , StringBuilder :: appendCodePoint , StringBuilder :: append )\n                .toString();\n</code></pre>\n"}],"owner":{"account_id":22751206,"reputation":235,"user_id":16911341,"display_name":"Daisy Welham"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":69621391,"answer_count":3,"score":-2,"last_activity_date":1634712011,"creation_date":1634584166,"question_id":69621321,"body_markdown":"I&#39;m trying to generate 100 characters of random text in Java. Here is my code:\r\n\r\n    import java.lang.Math;\r\n\r\n    public class RandomTextGenerator {\r\n        public static void main(String[] args) {\r\n            String characters = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890&quot;;\r\n            for (int i = 0; i &lt; 100; i++) {\r\n            int a = Math.round(62*Math.random());\r\n            int b = a + 1;\r\n            System.out.println(characters.substring(a,b));\r\n        }\r\n    }\r\nI get the error &quot;Type mismatch: cannot convert from long to int&quot;.\r\n\r\nBut I don&#39;t understand this. I clearly declared `a` and `b` as `int`, not `long`. I&#39;m expecting my code to give me a random integer from 0 to 61 so it shouldn&#39;t automatically be a `long` because 0 and 61 are well within the range of integers.\r\n\r\nI am fairly new to Java so apologies if I&#39;m doing something obviously wrong. ","title":"Trying to generate random text in Java - &quot;Type mismatch: cannot convert from long to int&quot;","body":"<p>I'm trying to generate 100 characters of random text in Java. Here is my code:</p>\n<pre><code>import java.lang.Math;\n\npublic class RandomTextGenerator {\n    public static void main(String[] args) {\n        String characters = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890&quot;;\n        for (int i = 0; i &lt; 100; i++) {\n        int a = Math.round(62*Math.random());\n        int b = a + 1;\n        System.out.println(characters.substring(a,b));\n    }\n}\n</code></pre>\n<p>I get the error &quot;Type mismatch: cannot convert from long to int&quot;.</p>\n<p>But I don't understand this. I clearly declared <code>a</code> and <code>b</code> as <code>int</code>, not <code>long</code>. I'm expecting my code to give me a random integer from 0 to 61 so it shouldn't automatically be a <code>long</code> because 0 and 61 are well within the range of integers.</p>\n<p>I am fairly new to Java so apologies if I'm doing something obviously wrong.</p>\n"},{"tags":["java","android","android-studio","android-app-bundle"],"comments":[{"owner":{"account_id":15757277,"reputation":545,"user_id":11370078,"display_name":"Dominik Wuttke"},"score":0,"creation_date":1620817154,"post_id":67502235,"comment_id":119311608,"body_markdown":"The answer is already in the error message &quot;Cannot start &quot;jarsigner.exe&quot; process, please add it to the PATH&quot;. If you are using windows i would do a search in the java jdk folder, it was in the bin folder  8 years ago. https://stackoverflow.com/questions/12135699/where-is-jarsigner","body":"The answer is already in the error message &quot;Cannot start &quot;jarsigner.exe&quot; process, please add it to the PATH&quot;. If you are using windows i would do a search in the java jdk folder, it was in the bin folder  8 years ago. <a href=\"https://stackoverflow.com/questions/12135699/where-is-jarsigner\">stackoverflow.com/questions/12135699/where-is-jarsigner</a>"},{"owner":{"account_id":17497296,"reputation":315,"user_id":12688287,"display_name":"Junaid Khan"},"score":0,"creation_date":1620817493,"post_id":67502235,"comment_id":119311790,"body_markdown":"I have installed the JDk and jarsigner.exe is present but I am getting this error. It says Add it to the PATH. But its already present. Which path should I use, Currently, it is C:\\Program Files\\Java\\jdk-14.0.2\\bin","body":"I have installed the JDk and jarsigner.exe is present but I am getting this error. It says Add it to the PATH. But its already present. Which path should I use, Currently, it is C:\\Program Files\\Java\\jdk-14.0.2\\bin"},{"owner":{"account_id":15757277,"reputation":545,"user_id":11370078,"display_name":"Dominik Wuttke"},"score":1,"creation_date":1620817758,"post_id":67502235,"comment_id":119311913,"body_markdown":"Did you add the folder to your windows PATH variables? If you just did it you should restart your PC and see if the error is still present","body":"Did you add the folder to your windows PATH variables? If you just did it you should restart your PC and see if the error is still present"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1620817856,"post_id":67502235,"comment_id":119311967,"body_markdown":"The project seems a bit outdated, because `jarsigner` is no longer used for signing APK files. Instead `apksigner` from Android SDK is used. You can try to upgrade the gradle project and android-gradle plugin.","body":"The project seems a bit outdated, because <code>jarsigner</code> is no longer used for signing APK files. Instead <code>apksigner</code> from Android SDK is used. You can try to upgrade the gradle project and android-gradle plugin."}],"answers":[{"tags":[],"owner":{"account_id":4632061,"reputation":64,"user_id":3754321,"accept_rate":60,"display_name":"Igor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1621126122,"creation_date":1621126122,"answer_id":67552353,"question_id":67502235,"body_markdown":"Upgrade the gradle project and android-gradle plugin.","title":"Cannot start &quot;jarsigner.exe&quot; process in Windows","body":"<p>Upgrade the gradle project and android-gradle plugin.</p>\n"}],"owner":{"account_id":17497296,"reputation":315,"user_id":12688287,"display_name":"Junaid Khan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2808,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67552353,"answer_count":1,"score":0,"last_activity_date":1634711377,"creation_date":1620816856,"question_id":67502235,"body_markdown":"I am generating a release Android app bundle in Android Studio, but I am getting the following error:\r\n\r\n&gt; java.lang.RuntimeException: Cannot start &quot;jarsigner.exe&quot; process, please add it to the PATH\r\n  \r\nI have installed Java JDK and JRE and I am using Windows. Please see the error details in the screenshot:\r\n\r\n[![Error Image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2YW4F.png","title":"Cannot start &quot;jarsigner.exe&quot; process in Windows","body":"<p>I am generating a release Android app bundle in Android Studio, but I am getting the following error:</p>\n<blockquote>\n<p>java.lang.RuntimeException: Cannot start &quot;jarsigner.exe&quot; process, please add it to the PATH</p>\n</blockquote>\n<p>I have installed Java JDK and JRE and I am using Windows. Please see the error details in the screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/2YW4F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2YW4F.png\" alt=\"Error Image\" /></a></p>\n"},{"tags":["java","gradle","jmeter"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634667837,"creation_date":1634667837,"answer_id":69635958,"question_id":69635514,"body_markdown":"From https://www.blazemeter.com/blog/5-ways-launch-jmeter-test-without-using-jmeter-gui, you have the following statement:\r\n\r\n&gt;Have the required JMeter jars from **/lib** and especially **/lib/ext** folders of your JMeter installation in your project or module class path.\r\n\r\n\r\nIf it is not clear enough get [Apache JMeter Components &#187; 5.4.1][1] library in your [project classpath][2]\r\n\r\nAlso you made a mistake in copying and pasting this line:\r\n\r\n    JMeterUtils.loadJMeterProperties(&quot;src/test/java/com/tests/JMeterTests.java&quot;);\r\n\r\nit should point to [jmeter.properties][3] file, preferably the original one. \r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.jmeter/ApacheJMeter_components/5.4.1\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/environment/paths.html\r\n  [3]: https://github.com/apache/jmeter/blob/rel/v5.4.1/bin/jmeter.properties","title":"Conversion Error in JMeter through Java. What dependencies are missing?","body":"<p>From <a href=\"https://www.blazemeter.com/blog/5-ways-launch-jmeter-test-without-using-jmeter-gui\" rel=\"nofollow noreferrer\">https://www.blazemeter.com/blog/5-ways-launch-jmeter-test-without-using-jmeter-gui</a>, you have the following statement:</p>\n<blockquote>\n<p>Have the required JMeter jars from <strong>/lib</strong> and especially <strong>/lib/ext</strong> folders of your JMeter installation in your project or module class path.</p>\n</blockquote>\n<p>If it is not clear enough get <a href=\"https://mvnrepository.com/artifact/org.apache.jmeter/ApacheJMeter_components/5.4.1\" rel=\"nofollow noreferrer\">Apache JMeter Components » 5.4.1</a> library in your <a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/paths.html\" rel=\"nofollow noreferrer\">project classpath</a></p>\n<p>Also you made a mistake in copying and pasting this line:</p>\n<pre><code>JMeterUtils.loadJMeterProperties(&quot;src/test/java/com/tests/JMeterTests.java&quot;);\n</code></pre>\n<p>it should point to <a href=\"https://github.com/apache/jmeter/blob/rel/v5.4.1/bin/jmeter.properties\" rel=\"nofollow noreferrer\">jmeter.properties</a> file, preferably the original one.</p>\n"}],"owner":{"account_id":18970361,"reputation":175,"user_id":13843954,"display_name":"Andres Holguin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69635958,"answer_count":1,"score":0,"last_activity_date":1634711372,"creation_date":1634665632,"question_id":69635514,"body_markdown":"From https://www.blazemeter.com/blog/5-ways-launch-jmeter-test-without-using-jmeter-gui, I have this test file:\r\n    \r\n    public class JMeterTests {\r\n        StandardJMeterEngine jmeter;\r\n        HashTree testPlanTree;\r\n        \r\n        @BeforeEach\r\n        void init() throws Exception {\r\n            // JMeter Engine\r\n            jmeter = new StandardJMeterEngine();\r\n    \r\n            // Initialize Properties, logging, locale, etc.\r\n            JMeterUtils.loadJMeterProperties(&quot;src/test/java/com/tests/JMeterTests.java&quot;);\r\n            JMeterUtils.setJMeterHome(&quot;/usr/local/Cellar/jmeter/5.4.1&quot;);\r\n            JMeterUtils.initLocale();\r\n    \r\n            // Initialize JMeter SaveService\r\n            SaveService.loadProperties();\r\n    \r\n            // Load existing .jmx Test Plan\r\n            FileInputStream in = new FileInputStream(&quot;src/test/jmeter/my.jmx&quot;);\r\n            testPlanTree = SaveService.loadTree(in); // &lt;-- testPlanTree is null, did not load\r\n            in.close();\r\n        }\r\n    \r\n        @Test\r\n        void fromExistingJmx() throws MalformedURLException {\r\n            // Run JMeter Test\r\n            jmeter.configure(testPlanTree); // &lt;-- Fails since testPlanTree is null\r\n            jmeter.run();\r\n        }\r\n    }\r\n\r\nAs a result, I get this error:\r\n\r\n    ERROR   2021-10-19 13:29:31.301 [jmeter.s] (): Conversion error com.thoughtworks.xstream.converters.ConversionException: org.apache.jmeter.extractor.json.jsonpath.JSONPostProcessor : org.apache.jmeter.extractor.json.jsonpath.JSONPostProcessor\r\n    ---- Debugging information ----\r\n    message             : org.apache.jmeter.extractor.json.jsonpath.JSONPostProcessor\r\n    cause-exception     : com.thoughtworks.xstream.mapper.CannotResolveClassException\r\n    cause-message       : org.apache.jmeter.extractor.json.jsonpath.JSONPostProcessor\r\n    class               : org.apache.jorphan.collections.ListedHashTree\r\n    required-type       : org.apache.jorphan.collections.ListedHashTree\r\n    converter-type      : org.apache.jmeter.save.converters.HashTreeConverter\r\n    path                : /jmeterTestPlan/hashTree/hashTree/hashTree[4]/hashTree/JSONPostProcessor\r\n    line number         : 207\r\n\r\nI&#39;ve already confirmed my.jmx works in GUI mode.\r\n","title":"Conversion Error in JMeter through Java. What dependencies are missing?","body":"<p>From <a href=\"https://www.blazemeter.com/blog/5-ways-launch-jmeter-test-without-using-jmeter-gui\" rel=\"nofollow noreferrer\">https://www.blazemeter.com/blog/5-ways-launch-jmeter-test-without-using-jmeter-gui</a>, I have this test file:</p>\n<pre><code>public class JMeterTests {\n    StandardJMeterEngine jmeter;\n    HashTree testPlanTree;\n    \n    @BeforeEach\n    void init() throws Exception {\n        // JMeter Engine\n        jmeter = new StandardJMeterEngine();\n\n        // Initialize Properties, logging, locale, etc.\n        JMeterUtils.loadJMeterProperties(&quot;src/test/java/com/tests/JMeterTests.java&quot;);\n        JMeterUtils.setJMeterHome(&quot;/usr/local/Cellar/jmeter/5.4.1&quot;);\n        JMeterUtils.initLocale();\n\n        // Initialize JMeter SaveService\n        SaveService.loadProperties();\n\n        // Load existing .jmx Test Plan\n        FileInputStream in = new FileInputStream(&quot;src/test/jmeter/my.jmx&quot;);\n        testPlanTree = SaveService.loadTree(in); // &lt;-- testPlanTree is null, did not load\n        in.close();\n    }\n\n    @Test\n    void fromExistingJmx() throws MalformedURLException {\n        // Run JMeter Test\n        jmeter.configure(testPlanTree); // &lt;-- Fails since testPlanTree is null\n        jmeter.run();\n    }\n}\n</code></pre>\n<p>As a result, I get this error:</p>\n<pre><code>ERROR   2021-10-19 13:29:31.301 [jmeter.s] (): Conversion error com.thoughtworks.xstream.converters.ConversionException: org.apache.jmeter.extractor.json.jsonpath.JSONPostProcessor : org.apache.jmeter.extractor.json.jsonpath.JSONPostProcessor\n---- Debugging information ----\nmessage             : org.apache.jmeter.extractor.json.jsonpath.JSONPostProcessor\ncause-exception     : com.thoughtworks.xstream.mapper.CannotResolveClassException\ncause-message       : org.apache.jmeter.extractor.json.jsonpath.JSONPostProcessor\nclass               : org.apache.jorphan.collections.ListedHashTree\nrequired-type       : org.apache.jorphan.collections.ListedHashTree\nconverter-type      : org.apache.jmeter.save.converters.HashTreeConverter\npath                : /jmeterTestPlan/hashTree/hashTree/hashTree[4]/hashTree/JSONPostProcessor\nline number         : 207\n</code></pre>\n<p>I've already confirmed my.jmx works in GUI mode.</p>\n"},{"tags":["java","eclipse","bufferedreader"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":4,"creation_date":1634686878,"post_id":69638551,"comment_id":123090713,"body_markdown":"Note that the path `/park_mp1/src/park/DATA/Data1.txt` will only work within eclipse because the minute you compile and export the src file no longer exists. Consider loading the file [as a resource](https://stackoverflow.com/questions/15749192/how-do-i-load-a-file-from-resource-folder) or using a relative path.","body":"Note that the path <code>&#47;park_mp1&#47;src&#47;park&#47;DATA&#47;Data1.txt</code> will only work within eclipse because the minute you compile and export the src file no longer exists. Consider loading the file <a href=\"https://stackoverflow.com/questions/15749192/how-do-i-load-a-file-from-resource-folder\">as a resource</a> or using a relative path."}],"answers":[{"tags":[],"owner":{"account_id":7611247,"reputation":174,"user_id":5772008,"display_name":"Kushal Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634690486,"creation_date":1634690486,"answer_id":69639048,"question_id":69638551,"body_markdown":"Easy way:\r\n\r\n-- In Eclipse, I had to change the line to:\r\n\r\n    FileReader in = new FileReader(&quot;src/park/DATA/Data1.txt&quot;);\r\n\r\nWhy this works? Because IDE&#39;s accept either the full-path starting from the root, e.g. &quot;*/Users/xyz/abc/park_mp1/DATA/Data1.txt*&quot; **or** for the programmer&#39;s ease of use, relative path. Every IDE can define how it wants to make life easy for you. Some IDE&#39;s can also accept what you had written. What they do is in the back, they are just replacing it with the full path.\r\n\r\nWhere it does not work? Go to Terminal, and do it using the Terminal. Do `javac FileModifier.java`, then `java FileModifier` Use the same line which works for Eclipse:\r\n\r\n    FileReader in = new FileReader(&quot;src/park/DATA/Data1.txt&quot;);\r\n\r\nNow, this does not work, same error as you got previously.\r\nSo, in the end, FileReader just needs the Data1.txt file (while using the terminal, you would use `FileReader in = new FileReader(&quot;../DATA/Data1.txt&quot;);`, and you just have to provide it a path to get there. Now for eclipse, it says go like &quot;*src -&gt; park -&gt; ...*&quot; and Terminal asks to go like &quot;*.. -&gt; DATA -&gt; ...*&quot;\r\n\r\nWhy? Because Terminal knows that &quot;../&quot; means go-up a directory. Eclipse can implement the same thing, it just does not, due to some reasons which require further research.\r\n\r\n ","title":"Java: Trying to read text file imported in different package of the same project using BufferedReader? Getting no such file or directory error?","body":"<p>Easy way:</p>\n<p>-- In Eclipse, I had to change the line to:</p>\n<pre><code>FileReader in = new FileReader(&quot;src/park/DATA/Data1.txt&quot;);\n</code></pre>\n<p>Why this works? Because IDE's accept either the full-path starting from the root, e.g. &quot;<em>/Users/xyz/abc/park_mp1/DATA/Data1.txt</em>&quot; <strong>or</strong> for the programmer's ease of use, relative path. Every IDE can define how it wants to make life easy for you. Some IDE's can also accept what you had written. What they do is in the back, they are just replacing it with the full path.</p>\n<p>Where it does not work? Go to Terminal, and do it using the Terminal. Do <code>javac FileModifier.java</code>, then <code>java FileModifier</code> Use the same line which works for Eclipse:</p>\n<pre><code>FileReader in = new FileReader(&quot;src/park/DATA/Data1.txt&quot;);\n</code></pre>\n<p>Now, this does not work, same error as you got previously.\nSo, in the end, FileReader just needs the Data1.txt file (while using the terminal, you would use <code>FileReader in = new FileReader(&quot;../DATA/Data1.txt&quot;);</code>, and you just have to provide it a path to get there. Now for eclipse, it says go like &quot;<em>src -&gt; park -&gt; ...</em>&quot; and Terminal asks to go like &quot;<em>.. -&gt; DATA -&gt; ...</em>&quot;</p>\n<p>Why? Because Terminal knows that &quot;../&quot; means go-up a directory. Eclipse can implement the same thing, it just does not, due to some reasons which require further research.</p>\n"}],"owner":{"account_id":22816363,"reputation":1,"user_id":16966918,"display_name":"dylanpark01"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634711280,"creation_date":1634685087,"question_id":69638551,"body_markdown":"I&#39;m trying to pull data from a text file which is in my project but under a different package. This is the layout of the project: [Project Layout][1]\r\n\r\nWhen I use the path it returns an error, but when I call it via location it works correctly. I&#39;m using Eclipse. \r\n\r\nThis is the error message I get: [Error][2]\r\n\r\n    package park.FILEMOD;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    \r\n    public class FileModifier {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException{\r\n    \t\t\r\n    \t\tFileReader in = new FileReader(&quot;/park_mp1/src/park/DATA/Data1.txt&quot;);\r\n    \t    BufferedReader br = new BufferedReader(in);\r\n    \r\n    \t    String line;\r\n    \t    while ((line = br.readLine()) != null) {\r\n    \t        System.out.println(line);\r\n    \t    }\r\n    \t    in.close();\r\n    \r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Al6AT.png\r\n  [2]: https://i.stack.imgur.com/wCjAG.png","title":"Java: Trying to read text file imported in different package of the same project using BufferedReader? Getting no such file or directory error?","body":"<p>I'm trying to pull data from a text file which is in my project but under a different package. This is the layout of the project: <a href=\"https://i.stack.imgur.com/Al6AT.png\" rel=\"nofollow noreferrer\">Project Layout</a></p>\n<p>When I use the path it returns an error, but when I call it via location it works correctly. I'm using Eclipse.</p>\n<p>This is the error message I get: <a href=\"https://i.stack.imgur.com/wCjAG.png\" rel=\"nofollow noreferrer\">Error</a></p>\n<pre><code>package park.FILEMOD;\n\nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\n\npublic class FileModifier {\n\n    public static void main(String[] args) throws IOException{\n        \n        FileReader in = new FileReader(&quot;/park_mp1/src/park/DATA/Data1.txt&quot;);\n        BufferedReader br = new BufferedReader(in);\n\n        String line;\n        while ((line = br.readLine()) != null) {\n            System.out.println(line);\n        }\n        in.close();\n\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","unit-testing","mockito","spring-restcontroller"],"answers":[{"tags":[],"owner":{"account_id":22074613,"reputation":57,"user_id":16340746,"display_name":"Anton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634710217,"creation_date":1634710217,"answer_id":69641090,"question_id":69401557,"body_markdown":"Well, it was a problem with parsing Integer to Long in dao layer. I resolve it and test is done.","title":"During unit test of Restcontroller my Mocking class does not work","body":"<p>Well, it was a problem with parsing Integer to Long in dao layer. I resolve it and test is done.</p>\n"}],"owner":{"account_id":22074613,"reputation":57,"user_id":16340746,"display_name":"Anton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69641090,"answer_count":1,"score":0,"last_activity_date":1634710217,"creation_date":1633070493,"question_id":69401557,"body_markdown":"I need to test one method in RestController, with mock class. But java does not understand, then its mock class and try invoke it. However, such method with the same mock class works sucsesfuly.\r\nMy RestController:\r\n```\r\n@RestController\r\npublic class OrderController {\r\n\r\n    @Autowired\r\n    ServiceOrder serviceOrder;\r\n\r\n    @PreAuthorize(&quot;hasRole(&#39;ROLE_ADMIN&#39;)&quot;)\r\n    @RequestMapping(value = &quot;/orders&quot;, method= RequestMethod.POST, produces={&quot;application/json; charset=UTF-8&quot;})\r\n    public List&lt;Order&gt; sortOrders(@RequestParam(&quot;field&quot;) String field) {\r\n        return serviceOrder.sortOrders(field);\r\n\r\n    @PreAuthorize(&quot;hasRole(&#39;ROLE_ADMIN&#39;)&quot;)\r\n    @RequestMapping(value = &quot;/orders/completed/period&quot;, method= RequestMethod.POST, produces={&quot;application/json&quot;})\r\n    public long showCompletedOrdersInPer(\r\n            @RequestParam (value = &quot;start&quot;) String startDate,\r\n            @RequestParam (value = &quot;end&quot;) String endDate) {\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n        LocalDate start = LocalDate.parse(startDate, formatter);\r\n        LocalDate end = LocalDate.parse(endDate, formatter);\r\n        return serviceOrder.completedOrdersInPeriod(start, end);\r\n    }\r\n```\r\nWell, test for method sortOrders() is OK, but test for showCompletedOrdersInPer() is failed.\r\nMy test class:\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@ContextConfiguration(classes = {ControllersTestConfig.class})\r\n@WebAppConfiguration\r\npublic class OrderControllerTest {\r\n\r\n    @Autowired\r\n    private WebApplicationContext webApplicationContext;\r\n\r\n    @Autowired\r\n    OrderController orderController;\r\n\r\n    @Autowired\r\n    ServiceOrder serviceOrder;\r\n\r\n    private MockMvc mockMvc;\r\n    @BeforeEach\r\n    public void setup() {\r\n        this.mockMvc = MockMvcBuilders.webAppContextSetup(this.webApplicationContext).build();\r\n    }\r\n\r\n    // Test from method OrderController.sortOrders\r\n    // Description: we should get response.status OK\r\n    @Test\r\n    public void sortOrdersTest() throws Exception {\r\n        Mockito.when(serviceOrder.sortOrders(any())).thenReturn(null);\r\n        mockMvc.perform(MockMvcRequestBuilders.post(&quot;/orders?field=1&quot;)).andExpect(MockMvcResultMatchers.status().isOk());\r\n    }\r\n\r\n    // Test from method OrderController.showCompletedOrdersInPer\r\n    // Description: we should get response.status OK\r\n    @Test\r\n    public void showCompletedOrdersInPerTest() throws Exception {\r\n        Mockito.when(serviceOrder.completedOrdersInPeriod(any(), any())).thenReturn(1L);\r\n        mockMvc.perform(MockMvcRequestBuilders.post(&quot;/orders/completed/period?start=2020-01-01&amp;end=2022-01-01&quot;)).andExpect(MockMvcResultMatchers.status().isOk());\r\n    }\r\n```\r\nAnd this is configClass:\r\n```\r\npublic class ControllersTestConfig {\r\n\r\n    @Bean\r\n    public ServiceOrder serviceOrder() {\r\n        return Mockito.mock(ServiceOrder.class);\r\n    }\r\n    \r\n    @Bean\r\n    public OrderController orderController(){\r\n        return new OrderController();\r\n    }\r\n\r\n}\r\n```\r\nWhen i run sortOrdersTest(), test is ok, when i run showCompletedOrdersInPerTest(), i have \r\n```\r\nStatus expected:&lt;200&gt; but was:&lt;500&gt;\r\nExpected :200\r\nActual   :500\r\n```\r\nIf i run tests with debug, i see, then in sortOrders() mock works and serviceOrder.sortOrders(field) does not invoke, and in showCompletedOrdersInPer() mock does not work and java try invoke serviceOrder.completedOrdersInPeriod(start, end) and i have status 500.\r\nPlease, help me!","title":"During unit test of Restcontroller my Mocking class does not work","body":"<p>I need to test one method in RestController, with mock class. But java does not understand, then its mock class and try invoke it. However, such method with the same mock class works sucsesfuly.\nMy RestController:</p>\n<pre><code>@RestController\npublic class OrderController {\n\n    @Autowired\n    ServiceOrder serviceOrder;\n\n    @PreAuthorize(&quot;hasRole('ROLE_ADMIN')&quot;)\n    @RequestMapping(value = &quot;/orders&quot;, method= RequestMethod.POST, produces={&quot;application/json; charset=UTF-8&quot;})\n    public List&lt;Order&gt; sortOrders(@RequestParam(&quot;field&quot;) String field) {\n        return serviceOrder.sortOrders(field);\n\n    @PreAuthorize(&quot;hasRole('ROLE_ADMIN')&quot;)\n    @RequestMapping(value = &quot;/orders/completed/period&quot;, method= RequestMethod.POST, produces={&quot;application/json&quot;})\n    public long showCompletedOrdersInPer(\n            @RequestParam (value = &quot;start&quot;) String startDate,\n            @RequestParam (value = &quot;end&quot;) String endDate) {\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\n        LocalDate start = LocalDate.parse(startDate, formatter);\n        LocalDate end = LocalDate.parse(endDate, formatter);\n        return serviceOrder.completedOrdersInPeriod(start, end);\n    }\n</code></pre>\n<p>Well, test for method sortOrders() is OK, but test for showCompletedOrdersInPer() is failed.\nMy test class:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@ContextConfiguration(classes = {ControllersTestConfig.class})\n@WebAppConfiguration\npublic class OrderControllerTest {\n\n    @Autowired\n    private WebApplicationContext webApplicationContext;\n\n    @Autowired\n    OrderController orderController;\n\n    @Autowired\n    ServiceOrder serviceOrder;\n\n    private MockMvc mockMvc;\n    @BeforeEach\n    public void setup() {\n        this.mockMvc = MockMvcBuilders.webAppContextSetup(this.webApplicationContext).build();\n    }\n\n    // Test from method OrderController.sortOrders\n    // Description: we should get response.status OK\n    @Test\n    public void sortOrdersTest() throws Exception {\n        Mockito.when(serviceOrder.sortOrders(any())).thenReturn(null);\n        mockMvc.perform(MockMvcRequestBuilders.post(&quot;/orders?field=1&quot;)).andExpect(MockMvcResultMatchers.status().isOk());\n    }\n\n    // Test from method OrderController.showCompletedOrdersInPer\n    // Description: we should get response.status OK\n    @Test\n    public void showCompletedOrdersInPerTest() throws Exception {\n        Mockito.when(serviceOrder.completedOrdersInPeriod(any(), any())).thenReturn(1L);\n        mockMvc.perform(MockMvcRequestBuilders.post(&quot;/orders/completed/period?start=2020-01-01&amp;end=2022-01-01&quot;)).andExpect(MockMvcResultMatchers.status().isOk());\n    }\n</code></pre>\n<p>And this is configClass:</p>\n<pre><code>public class ControllersTestConfig {\n\n    @Bean\n    public ServiceOrder serviceOrder() {\n        return Mockito.mock(ServiceOrder.class);\n    }\n    \n    @Bean\n    public OrderController orderController(){\n        return new OrderController();\n    }\n\n}\n</code></pre>\n<p>When i run sortOrdersTest(), test is ok, when i run showCompletedOrdersInPerTest(), i have</p>\n<pre><code>Status expected:&lt;200&gt; but was:&lt;500&gt;\nExpected :200\nActual   :500\n</code></pre>\n<p>If i run tests with debug, i see, then in sortOrders() mock works and serviceOrder.sortOrders(field) does not invoke, and in showCompletedOrdersInPer() mock does not work and java try invoke serviceOrder.completedOrdersInPeriod(start, end) and i have status 500.\nPlease, help me!</p>\n"},{"tags":["java","xml","swagger","openapi"],"answers":[{"tags":[],"owner":{"account_id":8547682,"reputation":66,"user_id":6405716,"display_name":"Miche"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634710212,"creation_date":1634709797,"answer_id":69641027,"question_id":65817077,"body_markdown":"I recently came across the same requirement and I found a working solution for my Spring Boot application (although I think that this is just a workaround).\r\n\r\nVersions used:\r\n\r\n```\r\norg.springframework.boot:spring-boot-starter-web:2.5.5\r\norg.springdoc:springdoc-openapi-ui:1.5.11\r\n```\r\n\r\nIf you annotate your classes/fields like below, you should get the desired result.\r\n\r\n```java\r\n@XmlRootElement(name = &quot;something&quot;)\r\npublic class Something {\r\n\r\n  @XmlElementWrapper(name = &quot;list&quot;)\r\n  List&lt;Entry&gt; entries = new ArrayList&lt;&gt;();\r\n}\r\n\r\n@XmlRootElement(name = &quot;entry&quot;)\r\npublic class Entry {\r\n\r\n  @XmlAttribute\r\n  String value;\r\n}\r\n```\r\n\r\nThe important part here is `@XmlElementWrapper(name = &quot;list&quot;)` which contributes the wrapper element. `@XmlRootElement(name = &quot;entry&quot;)` is also necessary, otherwise the &quot;item element&quot; will not have the right name.\r\n\r\n---\r\n\r\n**Edit:**\r\nI just saw the mention of &quot;Try it out&quot;. If your API response is not properly converted (I assume the use of `com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.12.5`) rather than the Schema in the Swagger UI, you might need to add the Jackson annotations as well:\r\n\r\n```java\r\n@XmlRootElement(name = &quot;something&quot;)\r\npublic class Something {\r\n\r\n  @JacksonXmlElementWrapper(localName = &quot;list&quot;)\r\n  @JacksonXmlProperty(localName = &quot;entry&quot;)\r\n  @XmlElementWrapper(name = &quot;list&quot;)\r\n  List&lt;Entry&gt; entries = new ArrayList&lt;&gt;();\r\n}\r\n```","title":"OpenAPI annotation for Xml Wrapped","body":"<p>I recently came across the same requirement and I found a working solution for my Spring Boot application (although I think that this is just a workaround).</p>\n<p>Versions used:</p>\n<pre><code>org.springframework.boot:spring-boot-starter-web:2.5.5\norg.springdoc:springdoc-openapi-ui:1.5.11\n</code></pre>\n<p>If you annotate your classes/fields like below, you should get the desired result.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@XmlRootElement(name = &quot;something&quot;)\npublic class Something {\n\n  @XmlElementWrapper(name = &quot;list&quot;)\n  List&lt;Entry&gt; entries = new ArrayList&lt;&gt;();\n}\n\n@XmlRootElement(name = &quot;entry&quot;)\npublic class Entry {\n\n  @XmlAttribute\n  String value;\n}\n</code></pre>\n<p>The important part here is <code>@XmlElementWrapper(name = &quot;list&quot;)</code> which contributes the wrapper element. <code>@XmlRootElement(name = &quot;entry&quot;)</code> is also necessary, otherwise the &quot;item element&quot; will not have the right name.</p>\n<hr />\n<p><strong>Edit:</strong>\nI just saw the mention of &quot;Try it out&quot;. If your API response is not properly converted (I assume the use of <code>com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.12.5</code>) rather than the Schema in the Swagger UI, you might need to add the Jackson annotations as well:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@XmlRootElement(name = &quot;something&quot;)\npublic class Something {\n\n  @JacksonXmlElementWrapper(localName = &quot;list&quot;)\n  @JacksonXmlProperty(localName = &quot;entry&quot;)\n  @XmlElementWrapper(name = &quot;list&quot;)\n  List&lt;Entry&gt; entries = new ArrayList&lt;&gt;();\n}\n</code></pre>\n"}],"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":871,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634710212,"creation_date":1611174176,"question_id":65817077,"body_markdown":"Say I want to model this:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;something&gt;\r\n    &lt;list&gt;\r\n        &lt;entry value=&quot;bob&quot; /&gt;\r\n        &lt;entry value=&quot;foo&quot; /&gt;\r\n    &lt;/list&gt;\r\n&lt;/something&gt;\r\n```\r\n\r\nWith this kind of modeling (getters and what-not are generated with Lombok, but I left these details out for the purpose of conciseness):\r\n\r\n```java\r\n@XmlRootElement(name = &quot;something&quot;)\r\npublic class Something {\r\n\r\n  @ArraySchema(\r\n    arraySchema = @Schema(name = &quot;list&quot;),\r\n    schema = @Schema(implementation = Entry.class, name = &quot;entry&quot;)) // this obviously doesn&#39;t work\r\n  List&lt;Entry&gt; entries = new ArrayList&lt;&gt;();\r\n}\r\n\r\n\r\npublic class Entry {\r\n\r\n  @XmlAttribute\r\n  String value;\r\n}\r\n```\r\n\r\nMy usage of `@ArraySchema` is clearly wrong because this is what Swagger generates for me when I press `Try it out`:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;something&gt;\r\n\t&lt;entry value=&quot;string&quot;&gt;\r\n\t&lt;/entry&gt;\r\n&lt;/something&gt;\r\n```\r\n\r\nThe documentation mentions `xml/wrapped`, and so does [this SO answer](https://stackoverflow.com/questions/58008645/how-to-define-an-xml-array-of-objects-in-openapi?noredirect=1&amp;lq=1), but nowhere can I find the information about how to inject that kind of information **using the annotations**.","title":"OpenAPI annotation for Xml Wrapped","body":"<p>Say I want to model this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;something&gt;\n    &lt;list&gt;\n        &lt;entry value=&quot;bob&quot; /&gt;\n        &lt;entry value=&quot;foo&quot; /&gt;\n    &lt;/list&gt;\n&lt;/something&gt;\n</code></pre>\n<p>With this kind of modeling (getters and what-not are generated with Lombok, but I left these details out for the purpose of conciseness):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@XmlRootElement(name = &quot;something&quot;)\npublic class Something {\n\n  @ArraySchema(\n    arraySchema = @Schema(name = &quot;list&quot;),\n    schema = @Schema(implementation = Entry.class, name = &quot;entry&quot;)) // this obviously doesn't work\n  List&lt;Entry&gt; entries = new ArrayList&lt;&gt;();\n}\n\n\npublic class Entry {\n\n  @XmlAttribute\n  String value;\n}\n</code></pre>\n<p>My usage of <code>@ArraySchema</code> is clearly wrong because this is what Swagger generates for me when I press <code>Try it out</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;something&gt;\n    &lt;entry value=&quot;string&quot;&gt;\n    &lt;/entry&gt;\n&lt;/something&gt;\n</code></pre>\n<p>The documentation mentions <code>xml/wrapped</code>, and so does <a href=\"https://stackoverflow.com/questions/58008645/how-to-define-an-xml-array-of-objects-in-openapi?noredirect=1&amp;lq=1\">this SO answer</a>, but nowhere can I find the information about how to inject that kind of information <strong>using the annotations</strong>.</p>\n"},{"tags":["java","minecraft","minecraft-forge","file-not-found","filenotfounderror"],"comments":[{"owner":{"account_id":21530600,"reputation":2687,"user_id":15870118,"display_name":"JustinW"},"score":0,"creation_date":1634972676,"post_id":69638841,"comment_id":123175216,"body_markdown":"Hey, can you please tell me which version are you working upon?","body":"Hey, can you please tell me which version are you working upon?"}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634710048,"creation_date":1634710048,"answer_id":69641069,"question_id":69638841,"body_markdown":"The package &quot;*assets.myfirstmod*&quot; isn&#39;t necessary such as you are already in a ressource folder.\r\n\r\nThe texture should be on:\r\n\r\n    src/resources/textures/blocks/block_copper.png","title":"My texture file is not being found for my block, I had the same problem but with a json file for an item, I asked about that on here and it was fixed","body":"<p>The package &quot;<em>assets.myfirstmod</em>&quot; isn't necessary such as you are already in a ressource folder.</p>\n<p>The texture should be on:</p>\n<pre><code>src/resources/textures/blocks/block_copper.png\n</code></pre>\n"}],"owner":{"account_id":22941566,"reputation":35,"user_id":17074228,"display_name":"ThisTaken"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634710048,"creation_date":1634688137,"question_id":69638841,"body_markdown":"Pretty much I&#39;m making a minecraft mod on intellij (Eclipse doesnt work for me) and it couldnt find any json files or textures for an item I was making, someone told me to add a line of code to the gradle and it fixed. But now it cant find the texture of the block im now adding. Here is the tutorial I followed. https://www.youtube.com/watch?v=42z8_UDLmk4\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf anyone knows why, please tell me.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/A4NtN.png","title":"My texture file is not being found for my block, I had the same problem but with a json file for an item, I asked about that on here and it was fixed","body":"<p>Pretty much I'm making a minecraft mod on intellij (Eclipse doesnt work for me) and it couldnt find any json files or textures for an item I was making, someone told me to add a line of code to the gradle and it fixed. But now it cant find the texture of the block im now adding. Here is the tutorial I followed. <a href=\"https://www.youtube.com/watch?v=42z8_UDLmk4\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=42z8_UDLmk4</a></p>\n<p><a href=\"https://i.stack.imgur.com/A4NtN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A4NtN.png\" alt=\"enter image description here\" /></a></p>\n<p>If anyone knows why, please tell me.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3985860,"reputation":456,"user_id":4408813,"display_name":"abstractnature"},"score":0,"creation_date":1634593120,"post_id":69622794,"comment_id":123062158,"body_markdown":"Why you didnt make a bean of the Map&lt;&gt; object? How its gonna autowire without it?\nYou should try to look Factory design pattern. Let me know the reason, so I can post a detailed answer.","body":"Why you didnt make a bean of the Map&lt;&gt; object? How its gonna autowire without it? You should try to look Factory design pattern. Let me know the reason, so I can post a detailed answer."},{"owner":{"account_id":1625214,"reputation":179,"user_id":1500905,"accept_rate":38,"display_name":"Pallab"},"score":0,"creation_date":1634705685,"post_id":69622794,"comment_id":123093558,"body_markdown":"Map with custom object is autowired by the spring framework without creating a bean. Please see the following\nhttps://stackoverflow.com/questions/41025627/how-can-i-name-a-service-with-multiple-names-in-spring","body":"Map with custom object is autowired by the spring framework without creating a bean. Please see the following <a href=\"https://stackoverflow.com/questions/41025627/how-can-i-name-a-service-with-multiple-names-in-spring\" title=\"how can i name a service with multiple names in spring\">stackoverflow.com/questions/41025627/&hellip;</a>"},{"owner":{"account_id":2258060,"reputation":3689,"user_id":1988798,"accept_rate":83,"display_name":"Gaurav"},"score":0,"creation_date":1634711221,"post_id":69622794,"comment_id":123094812,"body_markdown":"I would rather go ahead with either Factory design pattern or create a DelegatingPolicyDetailsService that delegates to appropriate instance as per some internal logic. With this, your controller will get to remain oblivious to which service to invoke - a rather better design that to have a bit leadking logic in your controller. Please let me know if you would like a detailed answer on this.","body":"I would rather go ahead with either Factory design pattern or create a DelegatingPolicyDetailsService that delegates to appropriate instance as per some internal logic. With this, your controller will get to remain oblivious to which service to invoke - a rather better design that to have a bit leadking logic in your controller. Please let me know if you would like a detailed answer on this."},{"owner":{"account_id":1625214,"reputation":179,"user_id":1500905,"accept_rate":38,"display_name":"Pallab"},"score":0,"creation_date":1634737698,"post_id":69622794,"comment_id":123105953,"body_markdown":"Thanks for the help. I got the answer i needed.","body":"Thanks for the help. I got the answer i needed."}],"answers":[{"tags":[],"owner":{"account_id":4951627,"reputation":1332,"user_id":3985356,"accept_rate":74,"display_name":"CHANist"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634709793,"creation_date":1634694268,"answer_id":69639383,"question_id":69622794,"body_markdown":"Actually I think the solution can be done without holding a map. \r\nHere is a possible solution you can try. \r\n\r\n```java\r\n@Autowired\r\nApplicationContext applicationContext;\r\n\r\n@GetMapping(&quot;/display/{displayName}&quot;)\r\npublic String display(@PathVariable String displayName) {\r\n    \r\n    try {\r\n        PolicyDetailsService service = applicationContext.getBean(displayName, PolicyDetailsService.class);\r\n        service.display();\r\n    }catch(Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n    \r\n    return &quot;Display Succesfull&quot;;\r\n}\r\n```\r\n\r\nIn addition, I am wondering why you create a `PolicyDetailsServiceImpl` bean using `@Service` and another using `@Bean`, is it a typo? In case you would like to create one Singleton, I think you better remove the `@Service` in `PolicyDetailsServiceImpl` and add the name in `@Bean(name=xxx)`\r\n\r\n### Edit 1\r\nSorry, I missed the `@Autowired` injection in `@Bean`. Your code will return correctly. However I am wondering why you are doing it in this way. Why not writing the code as below?\r\n\r\n```java\r\npublic class PolicyDetailsServiceImpl implements PolicyDetailsService {\r\n\r\n    @Override\r\n    public void display() {\r\n        System.out.println(&quot;PolicyDetailsServiceImpl displayed&quot;);\r\n    }\r\n\r\n}\r\n\r\n@Bean(name = { &quot;PolicyDetailsServiceImpl&quot;, &quot;AGENCY-PLI&quot;, &quot;AGENCY-PMM&quot; })\r\npublic PolicyDetailsServiceImpl getPolicyDetailsServiceImpl() {\r\n    return new PolicyDetailsServiceImpl();\r\n}\r\n```\r\n\r\nNormally no one would do the code as you specified if you would like to create a singleton. This is way more complex, and does not easy to understand. Or could you specify any reasons why you would create code in this way? \r\n\r\n\r\n### Edit 2\r\nRegarding to your question, why it does not work for Map&lt;String, PolicyDetailsService&gt; using `@Autowired`. \r\n\r\nAs for Autowiring a `Map&lt;String, XXXXBean&gt;`, Spring will create a map with its beanId as key and beanInstance as value. \r\n\r\nIndeed Spring have the concept of **name** and **alias**. When you are specifying `@Bean(name = { &quot;AGENCY-PLI&quot;, &quot;AGENCY-PMM&quot; })`, the first name specified will be set as bean name, all remaining ones will be alias. And that is why you only get the first beanId as found in the Map key. \r\nAnd that is also the reason why you cannot specify `@Component` with multiple name, as it only support setting up of bean name, not alias. \r\n\r\nHope the info helps. \r\n\r\n\r\n\r\n\r\n","title":"Autowire Map with custom class and use aliases to get the correct object reference","body":"<p>Actually I think the solution can be done without holding a map.\nHere is a possible solution you can try.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nApplicationContext applicationContext;\n\n@GetMapping(&quot;/display/{displayName}&quot;)\npublic String display(@PathVariable String displayName) {\n    \n    try {\n        PolicyDetailsService service = applicationContext.getBean(displayName, PolicyDetailsService.class);\n        service.display();\n    }catch(Exception e) {\n        e.printStackTrace();\n    }\n    \n    return &quot;Display Succesfull&quot;;\n}\n</code></pre>\n<p>In addition, I am wondering why you create a <code>PolicyDetailsServiceImpl</code> bean using <code>@Service</code> and another using <code>@Bean</code>, is it a typo? In case you would like to create one Singleton, I think you better remove the <code>@Service</code> in <code>PolicyDetailsServiceImpl</code> and add the name in <code>@Bean(name=xxx)</code></p>\n<h3>Edit 1</h3>\n<p>Sorry, I missed the <code>@Autowired</code> injection in <code>@Bean</code>. Your code will return correctly. However I am wondering why you are doing it in this way. Why not writing the code as below?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PolicyDetailsServiceImpl implements PolicyDetailsService {\n\n    @Override\n    public void display() {\n        System.out.println(&quot;PolicyDetailsServiceImpl displayed&quot;);\n    }\n\n}\n\n@Bean(name = { &quot;PolicyDetailsServiceImpl&quot;, &quot;AGENCY-PLI&quot;, &quot;AGENCY-PMM&quot; })\npublic PolicyDetailsServiceImpl getPolicyDetailsServiceImpl() {\n    return new PolicyDetailsServiceImpl();\n}\n</code></pre>\n<p>Normally no one would do the code as you specified if you would like to create a singleton. This is way more complex, and does not easy to understand. Or could you specify any reasons why you would create code in this way?</p>\n<h3>Edit 2</h3>\n<p>Regarding to your question, why it does not work for Map&lt;String, PolicyDetailsService&gt; using <code>@Autowired</code>.</p>\n<p>As for Autowiring a <code>Map&lt;String, XXXXBean&gt;</code>, Spring will create a map with its beanId as key and beanInstance as value.</p>\n<p>Indeed Spring have the concept of <strong>name</strong> and <strong>alias</strong>. When you are specifying <code>@Bean(name = { &quot;AGENCY-PLI&quot;, &quot;AGENCY-PMM&quot; })</code>, the first name specified will be set as bean name, all remaining ones will be alias. And that is why you only get the first beanId as found in the Map key.\nAnd that is also the reason why you cannot specify <code>@Component</code> with multiple name, as it only support setting up of bean name, not alias.</p>\n<p>Hope the info helps.</p>\n"}],"owner":{"account_id":1625214,"reputation":179,"user_id":1500905,"accept_rate":38,"display_name":"Pallab"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":738,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69639383,"answer_count":1,"score":0,"last_activity_date":1634709793,"creation_date":1634592806,"question_id":69622794,"body_markdown":"I have the following code:\r\n\r\n    public interface PolicyDetailsService {\r\n    \tpublic void display();\r\n    }\r\n\r\nFollowing are the implementations\r\n\r\n    @Service(&quot;PolicyDetailsServiceImpl&quot;)\r\n    public class PolicyDetailsServiceImpl implements PolicyDetailsService {\r\n    \r\n    \t@Override\r\n    \tpublic void display() {\r\n    \t\tSystem.out.println(&quot;PolicyDetailsServiceImpl displayed&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\n    public class PreneedPolicyDetailsServiceImpl implements PolicyDetailsService {\r\n    \r\n    \t@Override\r\n    \tpublic void display() {\r\n    \t\tSystem.out.println(&quot;PreneedPolicyDetailsServiceImpl displayed&quot;);\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n    public class PreneedTrustPolicyDetailsServiceImpl implements PolicyDetailsService {\r\n    \r\n    \t@Override\r\n    \tpublic void display() {\r\n    \t\tSystem.out.println(&quot;PreneedTrustPolicyDetailsServiceImpl displayed&quot;);\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\nI am creating the objects by creating beans like the following,\r\n\r\n    @Bean(name = { &quot;AGENCY-PLI&quot;, &quot;AGENCY-PMM&quot; })\r\n    public PolicyDetailsServiceImpl getPolicyDetailsServiceImpl(\r\n    \t\t@Autowired PolicyDetailsServiceImpl policyDetailsServiceImpl) {\r\n    \r\n    \treturn policyDetailsServiceImpl;\r\n    }\r\n    \r\n    @Bean(name = { &quot;AFS-AFS&quot;, &quot;AFS-PMM&quot; })\r\n    public PreneedPolicyDetailsServiceImpl getPreneedPolicyDetailsServiceImpl() {\r\n    \treturn new PreneedPolicyDetailsServiceImpl();\r\n    }\r\n\r\n    @Bean({ &quot;AFS-PMT&quot; })\r\n    public PreneedTrustPolicyDetailsServiceImpl getPreneedTrustPolicyDetailsServiceImpl() {\r\n    \treturn new PreneedTrustPolicyDetailsServiceImpl();\r\n    }\r\n\r\nThe controller where i am using the services,\r\n\r\n    @Autowired\r\n    Map&lt;String, PolicyDetailsService&gt; policyDetails;\r\n    \r\n    @GetMapping(&quot;/display/{displayName}&quot;)\r\n    public String display(@PathVariable String displayName) {\r\n    \t\r\n    \ttry {\r\n    \t\tpolicyDetails.get(displayName).display();\r\n    \t}catch(Exception e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    \t\r\n    \treturn &quot;Display Succesfull&quot;;\r\n    }\r\n\r\nWhat i want to acheive:\r\nIf I pass either &quot;AGENCY-PLI&quot; or &quot;AGENCY-PMM&quot; in the REST service call, the map should return PolicyDetailsServiceImpl object.\r\nIt is currently working for &quot;AGENCY-PLI&quot;. On passing &quot;AGENCY-PMM&quot; i am getting NullPointerException as the map is not returing any object.\r\nMy understanding is, the &quot;AGENCY-PLI&quot; is acting as a primary name and the other names are aliases. So if i used it like the following,\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;AGENCY-PMM&quot;)\r\n    private PolicyDetailsService policyDetailsService;\r\n\r\nI would get the correct object reference.\r\nSo, my question: Is there a way i can get the object from the map on passing aliases. \r\n\r\n","title":"Autowire Map with custom class and use aliases to get the correct object reference","body":"<p>I have the following code:</p>\n<pre><code>public interface PolicyDetailsService {\n    public void display();\n}\n</code></pre>\n<p>Following are the implementations</p>\n<pre><code>@Service(&quot;PolicyDetailsServiceImpl&quot;)\npublic class PolicyDetailsServiceImpl implements PolicyDetailsService {\n\n    @Override\n    public void display() {\n        System.out.println(&quot;PolicyDetailsServiceImpl displayed&quot;);\n    }\n\n}\n\npublic class PreneedPolicyDetailsServiceImpl implements PolicyDetailsService {\n\n    @Override\n    public void display() {\n        System.out.println(&quot;PreneedPolicyDetailsServiceImpl displayed&quot;);\n        \n    }\n\n}\n\npublic class PreneedTrustPolicyDetailsServiceImpl implements PolicyDetailsService {\n\n    @Override\n    public void display() {\n        System.out.println(&quot;PreneedTrustPolicyDetailsServiceImpl displayed&quot;);\n        \n    }\n\n}\n</code></pre>\n<p>I am creating the objects by creating beans like the following,</p>\n<pre><code>@Bean(name = { &quot;AGENCY-PLI&quot;, &quot;AGENCY-PMM&quot; })\npublic PolicyDetailsServiceImpl getPolicyDetailsServiceImpl(\n        @Autowired PolicyDetailsServiceImpl policyDetailsServiceImpl) {\n\n    return policyDetailsServiceImpl;\n}\n\n@Bean(name = { &quot;AFS-AFS&quot;, &quot;AFS-PMM&quot; })\npublic PreneedPolicyDetailsServiceImpl getPreneedPolicyDetailsServiceImpl() {\n    return new PreneedPolicyDetailsServiceImpl();\n}\n\n@Bean({ &quot;AFS-PMT&quot; })\npublic PreneedTrustPolicyDetailsServiceImpl getPreneedTrustPolicyDetailsServiceImpl() {\n    return new PreneedTrustPolicyDetailsServiceImpl();\n}\n</code></pre>\n<p>The controller where i am using the services,</p>\n<pre><code>@Autowired\nMap&lt;String, PolicyDetailsService&gt; policyDetails;\n\n@GetMapping(&quot;/display/{displayName}&quot;)\npublic String display(@PathVariable String displayName) {\n    \n    try {\n        policyDetails.get(displayName).display();\n    }catch(Exception e) {\n        e.printStackTrace();\n    }\n    \n    return &quot;Display Succesfull&quot;;\n}\n</code></pre>\n<p>What i want to acheive:\nIf I pass either &quot;AGENCY-PLI&quot; or &quot;AGENCY-PMM&quot; in the REST service call, the map should return PolicyDetailsServiceImpl object.\nIt is currently working for &quot;AGENCY-PLI&quot;. On passing &quot;AGENCY-PMM&quot; i am getting NullPointerException as the map is not returing any object.\nMy understanding is, the &quot;AGENCY-PLI&quot; is acting as a primary name and the other names are aliases. So if i used it like the following,</p>\n<pre><code>@Autowired\n@Qualifier(&quot;AGENCY-PMM&quot;)\nprivate PolicyDetailsService policyDetailsService;\n</code></pre>\n<p>I would get the correct object reference.\nSo, my question: Is there a way i can get the object from the map on passing aliases.</p>\n"},{"tags":["java","exception","null"],"comments":[{"owner":{"account_id":4812242,"reputation":55062,"user_id":3885376,"accept_rate":64,"display_name":"ROMANIA_engineer"},"score":1,"creation_date":1460320958,"post_id":36535307,"comment_id":60674238,"body_markdown":"`void check(Object o) {\n    if (o == null) {\n        throw new IllegalArgumentException();\n    }\n}`\n?","body":"<code>void check(Object o) {     if (o == null) {         throw new IllegalArgumentException();     } }</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1460321170,"creation_date":1460320964,"answer_id":36535338,"question_id":36535307,"body_markdown":"you can be more generic like:\r\n\r\n    public void check(Object a) {\r\n       if (a == null) {\r\n          throw new IllegalArgumentException();\r\n       }\r\n    }","title":"create a method that check different object if null throw exception","body":"<p>you can be more generic like:</p>\n\n<pre><code>public void check(Object a) {\n   if (a == null) {\n      throw new IllegalArgumentException();\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23087189,"reputation":31,"user_id":17198551,"display_name":"Jobin John"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634709786,"creation_date":1634709786,"answer_id":69641025,"question_id":36535307,"body_markdown":"\tpublic static &lt;X extends Throwable, T&gt; T ifNullThrow(final T value, @NonNull final Supplier&lt;? extends X&gt; exceptionSupplier)\r\n\t\t\tthrows X {\r\n\t\tif (value != null) {\r\n\t\t\treturn value;\r\n\t\t}\r\n\t\tthrow exceptionSupplier.get();\r\n\t}\r\n","title":"create a method that check different object if null throw exception","body":"<pre><code>public static &lt;X extends Throwable, T&gt; T ifNullThrow(final T value, @NonNull final Supplier&lt;? extends X&gt; exceptionSupplier)\n        throws X {\n    if (value != null) {\n        return value;\n    }\n    throw exceptionSupplier.get();\n}\n</code></pre>\n"}],"owner":{"account_id":8220791,"reputation":1,"user_id":6185392,"display_name":"shelton"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":687,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1634709786,"creation_date":1460320811,"question_id":36535307,"body_markdown":"Let&#39;s say we have following code:\r\n\r\n    public void a(String a) {\r\n       if (a == null) {\r\n          throw new IllegalArgumentException();\r\n       }\r\n    }\r\n    \r\n    public void b(Queue&lt;Integer&gt; b) {\r\n       if (b == null) {\r\n          throw new IllegalArgumentException();\r\n       }\r\n    }\r\n\r\n    public void c(Stack&lt;Integer&gt; c) {\r\n       if (c == null) {\r\n          throw new IllegalArgumentException();\r\n       }\r\n    }\r\n\r\nIs it possible to write a method that do the throw new exception job \r\n? That is something like this:\r\n\r\n    public void a(String a) {\r\n       check(a);\r\n    }\r\n    \r\n    public void b(Queue&lt;Integer&gt; b) {\r\n       check(b);\r\n    }\r\n\r\n    public void c(Stack&lt;Integer&gt; c) {\r\n       check(c);\r\n    }\r\n\r\nNotice that their types of parameter is not the same.","title":"create a method that check different object if null throw exception","body":"<p>Let's say we have following code:</p>\n\n<pre><code>public void a(String a) {\n   if (a == null) {\n      throw new IllegalArgumentException();\n   }\n}\n\npublic void b(Queue&lt;Integer&gt; b) {\n   if (b == null) {\n      throw new IllegalArgumentException();\n   }\n}\n\npublic void c(Stack&lt;Integer&gt; c) {\n   if (c == null) {\n      throw new IllegalArgumentException();\n   }\n}\n</code></pre>\n\n<p>Is it possible to write a method that do the throw new exception job \n? That is something like this:</p>\n\n<pre><code>public void a(String a) {\n   check(a);\n}\n\npublic void b(Queue&lt;Integer&gt; b) {\n   check(b);\n}\n\npublic void c(Stack&lt;Integer&gt; c) {\n   check(c);\n}\n</code></pre>\n\n<p>Notice that their types of parameter is not the same.</p>\n"},{"tags":["java","rabbitmq","micronaut"],"answers":[{"tags":[],"owner":{"account_id":1864817,"reputation":1943,"user_id":1688639,"accept_rate":64,"display_name":"jokarl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634709680,"creation_date":1634709680,"answer_id":69641016,"question_id":69633172,"body_markdown":"Well this is fairly embarrassing.\r\n\r\nThe subscriber should not use try-with-resources, since the connection and the channel will be closed immediately at the end of the statement. Simply changed:\r\n\r\n```\r\ntry (final Connection connection = factory.newConnection(); final Channel channel = connection.createChannel()){\r\n    // Do stuff\r\n}\r\n\r\n```\r\ninto:\r\n```java\r\ntry {\r\n    final Connection connection = factory.newConnection();\r\n    final Channel channel = connection.createChannel();\r\n    // Do stuff\r\n}\r\n``` ","title":"RabbitMQ creating exchanges but not queues and no subscriber receives messages","body":"<p>Well this is fairly embarrassing.</p>\n<p>The subscriber should not use try-with-resources, since the connection and the channel will be closed immediately at the end of the statement. Simply changed:</p>\n<pre><code>try (final Connection connection = factory.newConnection(); final Channel channel = connection.createChannel()){\n    // Do stuff\n}\n\n</code></pre>\n<p>into:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    final Connection connection = factory.newConnection();\n    final Channel channel = connection.createChannel();\n    // Do stuff\n}\n</code></pre>\n"}],"owner":{"account_id":1864817,"reputation":1943,"user_id":1688639,"accept_rate":64,"display_name":"jokarl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":774,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1634709680,"creation_date":1634655366,"question_id":69633172,"body_markdown":"I&#39;m building a couple of microservices using Micronaut. A requirement on a service is that they must all produce events, but it is optional for any service to listen to events of other services. I want to build this so that locally you can plug in RabbitMQ, but when running in any environment you can use a PaaS broker.\r\n\r\nTo achieve this, I want to configure an exchange for each microservice. E.g. the product microservice will produce events to an exchange named `product_events`. This service also happens to listen to events from the payments service:\r\n\r\n```yaml\r\nbroker:\r\n  publish:\r\n    exchange: product_events\r\n  subscribe:\r\n    exchanges:\r\n      - payment_events\r\n```\r\n\r\nThe publisher publishes messages to its own exchange:\r\n```java\r\npublic void sendToTopic(final String routingKey, final String data) throws BrokerPublishException {\r\n    final String rabbitMqFormattedRoutingKey = routingKey.replaceAll(&quot;[^A-Za-z0-9 ]&quot;, &quot;.&quot;);\r\n    final ConnectionFactory factory = getConnectionFactory();\r\n    try (final Connection connection = factory.newConnection(); final Channel channel = connection.createChannel()) {\r\n        LOG.info(&quot;Publishing message on exchange &#39;{}&#39; using routing key &#39;{}&#39; with data: {}&quot;, exchange, rabbitMqFormattedRoutingKey, data);\r\n        channel.exchangeDeclare(exchange, BuiltinExchangeType.TOPIC, true);\r\n        channel.basicPublish(exchange, rabbitMqFormattedRoutingKey, null, data.getBytes(StandardCharsets.UTF_8));\r\n    } catch (final IOException | TimeoutException e) {\r\n        throw new BrokerPublishException(&quot;Failed to publish message&quot;, e);\r\n    }\r\n}\r\n```\r\n\r\nWhen I invoke the services controller, I can see that the message is produced and added to the exchange:\r\n```\r\nPublishing message on exchange &#39;product_events&#39; using routing key &#39;product.added with data: {&quot;aggregateId&quot;:&quot;product&quot;}\r\n```\r\n\r\nI then want the consumer to start at application startup:\r\n\r\n```java\r\n@Context // Eager start\r\n@ExecuteOn(TaskExecutors.MESSAGE_CONSUMER) // Decouple message consuming to executor\r\npublic class SubscriberService {\r\n\r\n    private final BrokerSubscriber subscriber;\r\n\r\n    public SubscriberService(final BrokerSubscriber subscriber) {\r\n        this.subscriber = subscriber;\r\n        start();\r\n    }\r\n\r\n    private void start() {\r\n        subscriber.receive();\r\n    }\r\n}\r\n```\r\nThe RabbitMQ implementation for subscribe looks like this:\r\n```java\r\npublic void receive() throws BrokerSubscribeException {\r\n    final ConnectionFactory factory = getConnectionFactory();\r\n    try (final Connection connection = factory.newConnection(); final Channel channel = connection.createChannel()){\r\n        for (final String exchange : exchanges) {\r\n            channel.exchangeDeclare(exchange, BuiltinExchangeType.TOPIC, true);\r\n            final String queueName = channel.queueDeclare(UUID.randomUUID().toString(), true, true, true, null).getQueue();\r\n            channel.queueBind(queueName, exchange, &quot;#&quot;);\r\n\r\n            LOG.info(&quot;Waiting for messages on exchange &#39;{}&#39;, with bound queue &#39;{}&#39;&quot;, exchange, queueName);\r\n\r\n            final DeliverCallback deliverCallback = (consumerTag, delivery) -&gt; {\r\n                final String message = new String(delivery.getBody(), &quot;UTF-8&quot;);\r\n                LOG.info(&quot;Received &#39;{}&#39; with message\\n:{}&quot;, delivery.getEnvelope().getRoutingKey(), message);\r\n            };\r\n            channel.basicConsume(queueName, true, deliverCallback, consumerTag -&gt; {});\r\n        }\r\n    } catch (final IOException | TimeoutException e) {\r\n        throw new BrokerSubscribeException(&quot;Failed when subscribing to messages&quot;, e);\r\n    }\r\n} \r\n```\r\n\r\nThe subscribe generates the following log message on startup:\r\n```\r\nWaiting for messages on exchange &#39;payment_events&#39;, with bound queue &#39;e60dc206-f757-49c7-8f3f-fee6b2f3d255&#39;\r\n```\r\n\r\nEverything starts correctly, I can see the exchanges created in the management console:\r\n[![enter image description here][1]][1]\r\n\r\nBut there are no queues in the console, and I can reuse the guid printed to the console and create that queue through the management console without any collisions or warnings. My services that should listen `#` on each others exchanges get no messages at all.\r\n\r\nI can create a queue through the management console and bind that to the exchange and get messages placed by the publisher, but I cannot get my services do this.\r\n\r\nSo in a nutshell:\r\n1. Application starts, subscriber creates exchanges and listens to `#`\r\n2. Product service gets operation to add new product\r\n3. Product service publishes message about added product to its own exchange\r\n4. Payment service listens to product services exchange and should log received messages\r\n5. Nothing happens\r\n\r\nIs there any issue that I create two connections to the same broker in the same Micronaut application?\r\n\r\nI really can&#39;t wrap my head around what I&#39;m doing wrong here.\r\n\r\n  [1]: https://i.stack.imgur.com/7TCm5.png","title":"RabbitMQ creating exchanges but not queues and no subscriber receives messages","body":"<p>I'm building a couple of microservices using Micronaut. A requirement on a service is that they must all produce events, but it is optional for any service to listen to events of other services. I want to build this so that locally you can plug in RabbitMQ, but when running in any environment you can use a PaaS broker.</p>\n<p>To achieve this, I want to configure an exchange for each microservice. E.g. the product microservice will produce events to an exchange named <code>product_events</code>. This service also happens to listen to events from the payments service:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>broker:\n  publish:\n    exchange: product_events\n  subscribe:\n    exchanges:\n      - payment_events\n</code></pre>\n<p>The publisher publishes messages to its own exchange:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void sendToTopic(final String routingKey, final String data) throws BrokerPublishException {\n    final String rabbitMqFormattedRoutingKey = routingKey.replaceAll(&quot;[^A-Za-z0-9 ]&quot;, &quot;.&quot;);\n    final ConnectionFactory factory = getConnectionFactory();\n    try (final Connection connection = factory.newConnection(); final Channel channel = connection.createChannel()) {\n        LOG.info(&quot;Publishing message on exchange '{}' using routing key '{}' with data: {}&quot;, exchange, rabbitMqFormattedRoutingKey, data);\n        channel.exchangeDeclare(exchange, BuiltinExchangeType.TOPIC, true);\n        channel.basicPublish(exchange, rabbitMqFormattedRoutingKey, null, data.getBytes(StandardCharsets.UTF_8));\n    } catch (final IOException | TimeoutException e) {\n        throw new BrokerPublishException(&quot;Failed to publish message&quot;, e);\n    }\n}\n</code></pre>\n<p>When I invoke the services controller, I can see that the message is produced and added to the exchange:</p>\n<pre><code>Publishing message on exchange 'product_events' using routing key 'product.added with data: {&quot;aggregateId&quot;:&quot;product&quot;}\n</code></pre>\n<p>I then want the consumer to start at application startup:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Context // Eager start\n@ExecuteOn(TaskExecutors.MESSAGE_CONSUMER) // Decouple message consuming to executor\npublic class SubscriberService {\n\n    private final BrokerSubscriber subscriber;\n\n    public SubscriberService(final BrokerSubscriber subscriber) {\n        this.subscriber = subscriber;\n        start();\n    }\n\n    private void start() {\n        subscriber.receive();\n    }\n}\n</code></pre>\n<p>The RabbitMQ implementation for subscribe looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void receive() throws BrokerSubscribeException {\n    final ConnectionFactory factory = getConnectionFactory();\n    try (final Connection connection = factory.newConnection(); final Channel channel = connection.createChannel()){\n        for (final String exchange : exchanges) {\n            channel.exchangeDeclare(exchange, BuiltinExchangeType.TOPIC, true);\n            final String queueName = channel.queueDeclare(UUID.randomUUID().toString(), true, true, true, null).getQueue();\n            channel.queueBind(queueName, exchange, &quot;#&quot;);\n\n            LOG.info(&quot;Waiting for messages on exchange '{}', with bound queue '{}'&quot;, exchange, queueName);\n\n            final DeliverCallback deliverCallback = (consumerTag, delivery) -&gt; {\n                final String message = new String(delivery.getBody(), &quot;UTF-8&quot;);\n                LOG.info(&quot;Received '{}' with message\\n:{}&quot;, delivery.getEnvelope().getRoutingKey(), message);\n            };\n            channel.basicConsume(queueName, true, deliverCallback, consumerTag -&gt; {});\n        }\n    } catch (final IOException | TimeoutException e) {\n        throw new BrokerSubscribeException(&quot;Failed when subscribing to messages&quot;, e);\n    }\n} \n</code></pre>\n<p>The subscribe generates the following log message on startup:</p>\n<pre><code>Waiting for messages on exchange 'payment_events', with bound queue 'e60dc206-f757-49c7-8f3f-fee6b2f3d255'\n</code></pre>\n<p>Everything starts correctly, I can see the exchanges created in the management console:\n<a href=\"https://i.stack.imgur.com/7TCm5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7TCm5.png\" alt=\"enter image description here\" /></a></p>\n<p>But there are no queues in the console, and I can reuse the guid printed to the console and create that queue through the management console without any collisions or warnings. My services that should listen <code>#</code> on each others exchanges get no messages at all.</p>\n<p>I can create a queue through the management console and bind that to the exchange and get messages placed by the publisher, but I cannot get my services do this.</p>\n<p>So in a nutshell:</p>\n<ol>\n<li>Application starts, subscriber creates exchanges and listens to <code>#</code></li>\n<li>Product service gets operation to add new product</li>\n<li>Product service publishes message about added product to its own exchange</li>\n<li>Payment service listens to product services exchange and should log received messages</li>\n<li>Nothing happens</li>\n</ol>\n<p>Is there any issue that I create two connections to the same broker in the same Micronaut application?</p>\n<p>I really can't wrap my head around what I'm doing wrong here.</p>\n"},{"tags":["java","spring-boot","reflection"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1634709851,"post_id":69641010,"comment_id":123094439,"body_markdown":"“ collision free” - nope. Collision _resistant_.","body":"“ collision free” - nope. Collision <i>resistant</i>."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1634709990,"post_id":69641010,"comment_id":123094481,"body_markdown":"`ObjectMapper` is reflection based. Reflection is the only way to dynamically process metadata at run time. But I would consider implementing an annotation processor that adds/implements an `identityHash` method based on annotations at _compile time_ - performance would be significantly better.","body":"<code>ObjectMapper</code> is reflection based. Reflection is the only way to dynamically process metadata at run time. But I would consider implementing an annotation processor that adds/implements an <code>identityHash</code> method based on annotations at <i>compile time</i> - performance would be significantly better."},{"owner":{"account_id":5123021,"reputation":1495,"user_id":4106030,"accept_rate":85,"display_name":"badera"},"score":0,"creation_date":1634710200,"post_id":69641010,"comment_id":123094541,"body_markdown":"The identity meant here is given by the data of the instance and not the signature of the class. This cannot happen at compile time.","body":"The identity meant here is given by the data of the instance and not the signature of the class. This cannot happen at compile time."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1634710259,"post_id":69641010,"comment_id":123094567,"body_markdown":"Yes it can. I don’t think you understand what an annotation processor is. Please do some reading before responding - see for example Lombok equals/hashCode/toString generation.","body":"Yes it can. I don’t think you understand what an annotation processor is. Please do some reading before responding - see for example Lombok equals/hashCode/toString generation."},{"owner":{"account_id":5123021,"reputation":1495,"user_id":4106030,"accept_rate":85,"display_name":"badera"},"score":0,"creation_date":1634711248,"post_id":69641010,"comment_id":123094819,"body_markdown":"OK, I misunderstood your comment. You mean generating an identiyHash method at compile time, which calculates the hash at run time then.","body":"OK, I misunderstood your comment. You mean generating an identiyHash method at compile time, which calculates the hash at run time then."}],"owner":{"account_id":5123021,"reputation":1495,"user_id":4106030,"accept_rate":85,"display_name":"badera"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634709622,"creation_date":1634709622,"question_id":69641010,"body_markdown":"To implement a caching mechanism in a SpringBoot application, I need to generate a collision free kind of identity fingerprint of objects of certain classes. This fingerprint shall not include all class attributes, because some of them need to be intentionally kept out from calculation because they do not describe the identity of the instance in point of view of the caching. As hashing algorithm, I selected sha-256. \r\n\r\nThe question, which concerns me, is not about the hashing algorithm itself but rather how to make sure that attributes, which are added later to the class (even in nested referenced classes) are not forgot to either intentionally include or exclude in the hash calculation.\r\nCurrently, in the first MVP approach, I added methods (`String identityHash() {...}`) to the related classes, which contains hardcoded attribute value concatenations, which are hashed then.\r\n\r\nHowever, I would rather like an Annotation based approach: Each attribute of the related classes shall have Annotations, which express, whether to include the attribute value in the hash calculation or not. \r\n\r\n```\r\npublic class MyEntity {\r\n\r\n    @IdentityHash(include=false)\r\n    String id\r\n\r\n    @IdentityHash(include=true)\r\n    String attribute1\r\n\r\n    @IdentityHash(include=true)\r\n    MySubEntity subEntity\r\n}\r\n\r\npublic class MySubEntity {\r\n\r\n    @IdentityHash(include=false)\r\n    String id\r\n\r\n    @IdentityHash(include=true)\r\n    Set&lt;String&gt; setOfValues\r\n}\r\n```\r\n \r\nRather than having `identityHash` methods on the classes, I could implement a Service, which calculates the corresponding hashes. But here I&#39;am not sure about which is the correct way to go. One option would be: use reflection (e.g. BeanUtils, PropertyUtils) to enumerate the attributes (recursively!), build the hash input by concatenating their value representatives (e.g. Sets need to be sorted first...)\r\nWould reflection be OK in such an use case?\r\nAre there other possibilities? I imagine something like ObjectMapper, which either builds a String (or byte[]) representation to calculate the hash then...","title":"Generate identity fingerprint of objects","body":"<p>To implement a caching mechanism in a SpringBoot application, I need to generate a collision free kind of identity fingerprint of objects of certain classes. This fingerprint shall not include all class attributes, because some of them need to be intentionally kept out from calculation because they do not describe the identity of the instance in point of view of the caching. As hashing algorithm, I selected sha-256.</p>\n<p>The question, which concerns me, is not about the hashing algorithm itself but rather how to make sure that attributes, which are added later to the class (even in nested referenced classes) are not forgot to either intentionally include or exclude in the hash calculation.\nCurrently, in the first MVP approach, I added methods (<code>String identityHash() {...}</code>) to the related classes, which contains hardcoded attribute value concatenations, which are hashed then.</p>\n<p>However, I would rather like an Annotation based approach: Each attribute of the related classes shall have Annotations, which express, whether to include the attribute value in the hash calculation or not.</p>\n<pre><code>public class MyEntity {\n\n    @IdentityHash(include=false)\n    String id\n\n    @IdentityHash(include=true)\n    String attribute1\n\n    @IdentityHash(include=true)\n    MySubEntity subEntity\n}\n\npublic class MySubEntity {\n\n    @IdentityHash(include=false)\n    String id\n\n    @IdentityHash(include=true)\n    Set&lt;String&gt; setOfValues\n}\n</code></pre>\n<p>Rather than having <code>identityHash</code> methods on the classes, I could implement a Service, which calculates the corresponding hashes. But here I'am not sure about which is the correct way to go. One option would be: use reflection (e.g. BeanUtils, PropertyUtils) to enumerate the attributes (recursively!), build the hash input by concatenating their value representatives (e.g. Sets need to be sorted first...)\nWould reflection be OK in such an use case?\nAre there other possibilities? I imagine something like ObjectMapper, which either builds a String (or byte[]) representation to calculate the hash then...</p>\n"},{"tags":["java","c#","android","xamarin","garbage-collection"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1461860417,"post_id":36920255,"comment_id":61402160,"body_markdown":"Why did you link to two discussions on MS .Net if you want to know about the Android garbage collector? Which are you asking about? [.net](https://msdn.microsoft.com/en-us/library/ms404247%28v=vs.110%29.aspx) or [android](http://developer.android.com/reference/java/lang/ref/WeakReference.html)? For Android, [How to Leak a Context](http://www.androiddesignpatterns.com/2013/01/inner-class-handler-memory-leak.html).","body":"Why did you link to two discussions on MS .Net if you want to know about the Android garbage collector? Which are you asking about? <a href=\"https://msdn.microsoft.com/en-us/library/ms404247%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">.net</a> or <a href=\"http://developer.android.com/reference/java/lang/ref/WeakReference.html\" rel=\"nofollow noreferrer\">android</a>? For Android, <a href=\"http://www.androiddesignpatterns.com/2013/01/inner-class-handler-memory-leak.html\" rel=\"nofollow noreferrer\">How to Leak a Context</a>."},{"owner":{"account_id":51797,"reputation":21706,"user_id":154766,"accept_rate":81,"display_name":"Asik"},"score":2,"creation_date":1461861211,"post_id":36920255,"comment_id":61402653,"body_markdown":"That article seems plainly incorrect to me, the .NET GC is always implemented as a tracing GC that doesn&#39;t leak cycles as far as I&#39;m aware.","body":"That article seems plainly incorrect to me, the .NET GC is always implemented as a tracing GC that doesn&#39;t leak cycles as far as I&#39;m aware."},{"owner":{"account_id":51094,"reputation":9008,"user_id":152578,"accept_rate":100,"display_name":"CPerkins"},"score":1,"creation_date":1461862760,"post_id":36920255,"comment_id":61403624,"body_markdown":"@Asik same with Java.   The article seems to assume GC based on reference count, which is not the case for Java or .NET.","body":"@Asik same with Java.   The article seems to assume GC based on reference count, which is not the case for Java or .NET."},{"owner":{"account_id":5692241,"reputation":3021,"user_id":4499942,"accept_rate":76,"display_name":"Student222"},"score":0,"creation_date":1461865478,"post_id":36920255,"comment_id":61405340,"body_markdown":"@ElliottFrisch, The reason that I link two dot Net discussions is because that article is from Xamarin, a Microsoft subsidiary, which enables us to use dot Net on Android and IOS.","body":"@ElliottFrisch, The reason that I link two dot Net discussions is because that article is from Xamarin, a Microsoft subsidiary, which enables us to use dot Net on Android and IOS."}],"answers":[{"tags":[],"owner":{"account_id":51094,"reputation":9008,"user_id":152578,"accept_rate":100,"display_name":"CPerkins"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461862655,"creation_date":1461862655,"answer_id":36921007,"question_id":36920255,"body_markdown":"I&#39;m not sure from your question what language or environment you care about, but in Java, there are no &quot;immortal objects&quot; of the kind you describe.   The Java garbage collection is not based on reference count: it&#39;s based on reachability from the root.  Since your two objects aren&#39;t referred to by anywhere else in the application, they&#39;re eligible for garbage collection.","title":"Does Immortal Object really exist?","body":"<p>I'm not sure from your question what language or environment you care about, but in Java, there are no \"immortal objects\" of the kind you describe.   The Java garbage collection is not based on reference count: it's based on reachability from the root.  Since your two objects aren't referred to by anywhere else in the application, they're eligible for garbage collection.</p>\n"},{"tags":[],"owner":{"account_id":4333085,"reputation":69231,"user_id":3538012,"accept_rate":40,"display_name":"Peter Duniho"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1461863476,"creation_date":1461863476,"answer_id":36921264,"question_id":36920255,"body_markdown":"Xamarin [is based on Mono][1], which is essentially a (now) independent implementation of .NET. And like .NET, it bases garbage collection on reachability, not reference counting or presence. (The same thing is true for the Java GC system, but since Xamarin isn&#39;t based on Java, that&#39;s not really the point.)\r\n\r\nTwo objects that reference each other, but are otherwise unreachable in the program, are eligible for garbage collection. There is no need to use weak references to address that scenario, as the objects will be collected as soon as both objects cannot be reached by a &quot;root&quot; reference.\r\n\r\nIn other words, the article you&#39;re looking at is plainly incorrect. In fact, using weak references can lead to other issues, as keeping objects alive becomes more complicated, making it easier to write bugs into one&#39;s code. It is surprising to me that such erroneous information would appear on the Xamarin web site itself.\r\n\r\n\r\n  [1]: https://developer.xamarin.com/guides/android/advanced_topics/garbage_collection/","title":"Does Immortal Object really exist?","body":"<p>Xamarin <a href=\"https://developer.xamarin.com/guides/android/advanced_topics/garbage_collection/\" rel=\"nofollow\">is based on Mono</a>, which is essentially a (now) independent implementation of .NET. And like .NET, it bases garbage collection on reachability, not reference counting or presence. (The same thing is true for the Java GC system, but since Xamarin isn't based on Java, that's not really the point.)</p>\n\n<p>Two objects that reference each other, but are otherwise unreachable in the program, are eligible for garbage collection. There is no need to use weak references to address that scenario, as the objects will be collected as soon as both objects cannot be reached by a \"root\" reference.</p>\n\n<p>In other words, the article you're looking at is plainly incorrect. In fact, using weak references can lead to other issues, as keeping objects alive becomes more complicated, making it easier to write bugs into one's code. It is surprising to me that such erroneous information would appear on the Xamarin web site itself.</p>\n"},{"tags":[],"owner":{"account_id":5692241,"reputation":3021,"user_id":4499942,"accept_rate":76,"display_name":"Student222"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1634708918,"creation_date":1462029791,"answer_id":36956674,"question_id":36920255,"body_markdown":"I did some researches and want to answer my own question. Below are some findings:\r\n\r\n - In both Java and C# world, circular reference is not a problem. GC\r\n   can handle that very well. Therefore, for Xamarin Android, that\r\n   article is irrelevant and misleading. However that article is listed under cross-platform... \r\n - In Obj-C or Swift world, they use reference counting. And circular\r\n   references will indeed cause memory leak. So in Xamarin.IOS we need to be\r\n   careful about that. **UPDATE:** Thanks to PeterDuniho&#39;s comment, to be accurate, for Xamarin.IOS, the managed world is governed by Mono, we need not worry about circles. But if two native objects strong reference each others, they will become immortal... &#128561;&#128561;&#128561;\r\n\r\nI think that&#39;s it. Link some references on this topic:\r\n\r\n - [Xamarin Evolve 2013: Advanced Memory Management on iOS and Android][1]\r\n - [Why doesn&#39;t Apple Swift adopt the memory management method of garbage collection like in Java?][2]\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=VJsmrTQWD2k\r\n  [2]: https://www.quora.com/Why-doesnt-Apple-Swift-adopt-the-memory-management-method-of-garbage-collection-like-Java-uses","title":"Does Immortal Object really exist?","body":"<p>I did some researches and want to answer my own question. Below are some findings:</p>\n<ul>\n<li>In both Java and C# world, circular reference is not a problem. GC\ncan handle that very well. Therefore, for Xamarin Android, that\narticle is irrelevant and misleading. However that article is listed under cross-platform...</li>\n<li>In Obj-C or Swift world, they use reference counting. And circular\nreferences will indeed cause memory leak. So in Xamarin.IOS we need to be\ncareful about that. <strong>UPDATE:</strong> Thanks to PeterDuniho's comment, to be accurate, for Xamarin.IOS, the managed world is governed by Mono, we need not worry about circles. But if two native objects strong reference each others, they will become immortal... 😱😱😱</li>\n</ul>\n<p>I think that's it. Link some references on this topic:</p>\n<ul>\n<li><a href=\"https://www.youtube.com/watch?v=VJsmrTQWD2k\" rel=\"nofollow noreferrer\">Xamarin Evolve 2013: Advanced Memory Management on iOS and Android</a></li>\n<li><a href=\"https://www.quora.com/Why-doesnt-Apple-Swift-adopt-the-memory-management-method-of-garbage-collection-like-Java-uses\" rel=\"nofollow noreferrer\">Why doesn't Apple Swift adopt the memory management method of garbage collection like in Java?</a></li>\n</ul>\n"}],"owner":{"account_id":5692241,"reputation":3021,"user_id":4499942,"accept_rate":76,"display_name":"Student222"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":416,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":36956674,"answer_count":3,"score":4,"last_activity_date":1634708918,"creation_date":1461860342,"question_id":36920255,"body_markdown":"In this article: [Xamarin - Use Weak References to Prevent Immortal Objects][1]\r\nIt says that if two objects strong reference each other, they will become imortal, meaning the GC cannot collect them, **even if the objects are no longer in use by the application.**\r\n\r\nHowever, in these 2 SO discussions: \r\n\r\n[Garbage collector and circular reference][2]\r\n\r\n[Circular References Cause Memory Leak?][3]\r\n\r\nIt seems that circular reference can be handled by GC, as long as the objects are no longer in use by the application.\r\n\r\nDo I misundersand anything? Does Java&#39;s GC behave differently on Android? I am really confused. \r\nAny comments are appriatiated. Thanks!\r\n\r\n\r\n  [1]: https://developer.xamarin.com/guides/cross-platform/deployment,_testing,_and_metrics/memory_perf_best_practices/#weakreferences\r\n  [2]: https://stackoverflow.com/questions/8840567/garbage-collector-and-circular-reference/8840596#8840596\r\n  [3]: https://stackoverflow.com/questions/400706/circular-references-cause-memory-leak/400727#400727","title":"Does Immortal Object really exist?","body":"<p>In this article: <a href=\"https://developer.xamarin.com/guides/cross-platform/deployment,_testing,_and_metrics/memory_perf_best_practices/#weakreferences\" rel=\"nofollow noreferrer\">Xamarin - Use Weak References to Prevent Immortal Objects</a>\nIt says that if two objects strong reference each other, they will become imortal, meaning the GC cannot collect them, <strong>even if the objects are no longer in use by the application.</strong></p>\n\n<p>However, in these 2 SO discussions: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/8840567/garbage-collector-and-circular-reference/8840596#8840596\">Garbage collector and circular reference</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/400706/circular-references-cause-memory-leak/400727#400727\">Circular References Cause Memory Leak?</a></p>\n\n<p>It seems that circular reference can be handled by GC, as long as the objects are no longer in use by the application.</p>\n\n<p>Do I misundersand anything? Does Java's GC behave differently on Android? I am really confused. \nAny comments are appriatiated. Thanks!</p>\n"},{"tags":["java","validation","timezone"],"answers":[{"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1398623090,"creation_date":1351278319,"answer_id":13092884,"question_id":13092865,"body_markdown":"You can get all supported ID using [getAvailableIDs()][1] \r\n\r\nThen loop the supportedID array and compare with your String.\r\n\r\nExample:\r\n\r\n    String[] validIDs = TimeZone.getAvailableIDs();\r\n    for (String str : validIDs) {\r\n          if (str != null &amp;&amp; str.equals(&quot;yourString&quot;)) {\r\n            System.out.println(&quot;Valid ID&quot;);\r\n          }\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html#getAvailableIDs%28%29\r\n\r\n","title":"TimeZone validation in Java","body":"<p>You can get all supported ID using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html#getAvailableIDs%28%29\" rel=\"noreferrer\">getAvailableIDs()</a> </p>\n\n<p>Then loop the supportedID array and compare with your String.</p>\n\n<p>Example:</p>\n\n<pre><code>String[] validIDs = TimeZone.getAvailableIDs();\nfor (String str : validIDs) {\n      if (str != null &amp;&amp; str.equals(\"yourString\")) {\n        System.out.println(\"Valid ID\");\n      }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611228219,"creation_date":1351278345,"answer_id":13092891,"question_id":13092865,"body_markdown":"If [`TimeZone.getAvailableIDs()`](http://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html#getAvailableIDs) contains ID in question, it&#39;s valid:\r\n\r\n    public boolean validTimeZone(String id) {\r\n        for (String tzId : TimeZone.getAvailableIDs()) {\r\n                if (tzId.equals(id))\r\n                    return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\nUnfortunately [`TimeZone.getTimeZone()`](http://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html#getTimeZone(java.lang.String)) method silently discards invalid IDs and returns GMT instead:\r\n\r\n&gt; ### Returns:\r\n&gt;\r\n&gt; the specified TimeZone, or the GMT zone if the given ID cannot be understood.","title":"TimeZone validation in Java","body":"<p>If <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html#getAvailableIDs\" rel=\"nofollow noreferrer\"><code>TimeZone.getAvailableIDs()</code></a> contains ID in question, it's valid:</p>\n<pre><code>public boolean validTimeZone(String id) {\n    for (String tzId : TimeZone.getAvailableIDs()) {\n            if (tzId.equals(id))\n                return true;\n    }\n    return false;\n}\n</code></pre>\n<p>Unfortunately <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html#getTimeZone(java.lang.String)\" rel=\"nofollow noreferrer\"><code>TimeZone.getTimeZone()</code></a> method silently discards invalid IDs and returns GMT instead:</p>\n<blockquote>\n<h3>Returns:</h3>\n<p>the specified TimeZone, or the GMT zone if the given ID cannot be understood.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":437352,"reputation":19077,"user_id":824987,"accept_rate":56,"display_name":"Amit Deshpande"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611228205,"creation_date":1351278349,"answer_id":13092894,"question_id":13092865,"body_markdown":"You can use `TimeZone.getAvailableIDs()` to get list of supported Id\r\n\r\n    for (String str : TimeZone.getAvailableIDs()) {\r\n\t    if (str.equals(&quot;UTC&quot;)) {\r\n            //found\r\n        }\r\n    }","title":"TimeZone validation in Java","body":"<p>You can use <code>TimeZone.getAvailableIDs()</code> to get list of supported Id</p>\n<pre><code>for (String str : TimeZone.getAvailableIDs()) {\n    if (str.equals(&quot;UTC&quot;)) {\n        //found\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2648998,"reputation":119,"user_id":2291150,"display_name":"nvolynets"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1375108824,"creation_date":1375108824,"answer_id":17926927,"question_id":13092865,"body_markdown":"I would like to propose the next workaround:\r\n\r\n    public static final String GMT_ID = &quot;GMT&quot;;\r\n    public static TimeZone getTimeZone(String ID) {\r\n        if (null == ID) {\r\n            return null;\r\n        }\r\n\r\n        TimeZone tz = TimeZone.getTimeZone(ID);\r\n        \r\n        // not nullable value - look at implementation of TimeZone.getTimeZone\r\n        String tzID = tz.getID();\r\n\r\n        // check if not fallback result \r\n        return GMT_ID.equals(tzID) &amp;&amp; !tzID.equals(ID) ? null : tz;\r\n    }\r\n\r\nAs result in case of invalid timezone ID or invalid just custom timezone you will receive **null**. Additionally you can introduce corresponding **null** value handler (use case dependent) - throw exception &amp; etc.","title":"TimeZone validation in Java","body":"<p>I would like to propose the next workaround:</p>\n\n<pre><code>public static final String GMT_ID = \"GMT\";\npublic static TimeZone getTimeZone(String ID) {\n    if (null == ID) {\n        return null;\n    }\n\n    TimeZone tz = TimeZone.getTimeZone(ID);\n\n    // not nullable value - look at implementation of TimeZone.getTimeZone\n    String tzID = tz.getID();\n\n    // check if not fallback result \n    return GMT_ID.equals(tzID) &amp;&amp; !tzID.equals(ID) ? null : tz;\n}\n</code></pre>\n\n<p>As result in case of invalid timezone ID or invalid just custom timezone you will receive <strong>null</strong>. Additionally you can introduce corresponding <strong>null</strong> value handler (use case dependent) - throw exception &amp; etc.</p>\n"},{"tags":[],"owner":{"account_id":3930604,"reputation":859,"user_id":3249355,"display_name":"Maciej Dzikowicki"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1580912944,"creation_date":1470057116,"answer_id":38699858,"question_id":13092865,"body_markdown":"You can write it in one line\r\n```\r\npublic boolean validTimeZone(String timezone) {\r\n    return Set.of(TimeZone.getAvailableIDs()).contains(timezone);\r\n}\r\n```\r\n\r\nAlternatively, you can make a static field for it\r\n```\r\nprivate static final Set&lt;String&gt; TIMEZONES = Set.of(TimeZone.getAvailableIDs())\r\n```\r\n\r\n```\r\npublic boolean validTimeZone(String timezone) {\r\n    return TIMEZONES.contains(timezone);\r\n}\r\n```","title":"TimeZone validation in Java","body":"<p>You can write it in one line</p>\n\n<pre><code>public boolean validTimeZone(String timezone) {\n    return Set.of(TimeZone.getAvailableIDs()).contains(timezone);\n}\n</code></pre>\n\n<p>Alternatively, you can make a static field for it</p>\n\n<pre><code>private static final Set&lt;String&gt; TIMEZONES = Set.of(TimeZone.getAvailableIDs())\n</code></pre>\n\n<pre><code>public boolean validTimeZone(String timezone) {\n    return TIMEZONES.contains(timezone);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4996224,"reputation":51,"user_id":4016734,"display_name":"jejare"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1470272318,"creation_date":1470272162,"answer_id":38755889,"question_id":13092865,"body_markdown":"\r\n\r\n    private boolean isValidTimeZone(final String timeZone) {\r\n        final String DEFAULT_GMT_TIMEZONE = &quot;GMT&quot;;\r\n        if (timeZone.equals(DEFAULT_GMT_TIMEZONE)) {\r\n            return true;\r\n        } else {\r\n            // if custom time zone is invalid,\r\n            // time zone id returned is always &quot;GMT&quot; by default\r\n            String id = TimeZone.getTimeZone(timeZone).getID();\r\n            if (!id.equals(DEFAULT_GMT_TIMEZONE)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    \r\nThe method returns true for the following:   \r\n\r\n    assertTrue(this.isValidTimeZone(&quot;JST&quot;));\r\n    assertTrue(this.isValidTimeZone(&quot;UTC&quot;));\r\n    assertTrue(this.isValidTimeZone(&quot;GMT&quot;));\r\n    // GMT+00:00\r\n    assertTrue(this.isValidTimeZone(&quot;GMT+0&quot;));\r\n    // GMT-00:00\r\n    assertTrue(this.isValidTimeZone(&quot;GMT-0&quot;));\r\n    // GMT+09:00\r\n    assertTrue(this.isValidTimeZone(&quot;GMT+9:00&quot;));\r\n    // GMT+10:30\r\n    assertTrue(this.isValidTimeZone(&quot;GMT+10:30&quot;));\r\n    // GMT-04:00\r\n    assertTrue(this.isValidTimeZone(&quot;GMT-0400&quot;));\r\n    // GMT+08:00\r\n    assertTrue(this.isValidTimeZone(&quot;GMT+8&quot;));\r\n    // GMT-13:00\r\n    assertTrue(this.isValidTimeZone(&quot;GMT-13&quot;));\r\n    // GMT-13:59\r\n    assertTrue(this.isValidTimeZone(&quot;GMT+13:59&quot;));\r\n    // NOTE: valid time zone IDs (see TimeZone.getAvailableIDs())\r\n    // GMT-08:00\r\n    assertTrue(this.isValidTimeZone(&quot;America/Los_Angeles&quot;));\r\n    // GMT+09:00\r\n    assertTrue(this.isValidTimeZone(&quot;Japan&quot;));\r\n    // GMT+01:00\r\n    assertTrue(this.isValidTimeZone(&quot;Europe/Berlin&quot;));\r\n    // GMT+04:00\r\n    assertTrue(this.isValidTimeZone(&quot;Europe/Moscow&quot;));\r\n    // GMT+08:00\r\n    assertTrue(this.isValidTimeZone(&quot;Asia/Singapore&quot;));\r\n\r\n...And false with the following timezones:\r\n\r\n    assertFalse(this.isValidTimeZone(&quot;JPY&quot;));\r\n    assertFalse(this.isValidTimeZone(&quot;USD&quot;));\r\n    assertFalse(this.isValidTimeZone(&quot;UTC+8&quot;));\r\n    assertFalse(this.isValidTimeZone(&quot;UTC+09:00&quot;));\r\n    assertFalse(this.isValidTimeZone(&quot;+09:00&quot;));\r\n    assertFalse(this.isValidTimeZone(&quot;-08:00&quot;));\r\n    assertFalse(this.isValidTimeZone(&quot;-1&quot;));\r\n    assertFalse(this.isValidTimeZone(&quot;GMT+10:-30&quot;));\r\n    // hours is 0-23 only\r\n    assertFalse(this.isValidTimeZone(&quot;GMT+24:00&quot;));\r\n    // minutes 00-59 only\r\n    assertFalse(this.isValidTimeZone(&quot;GMT+13:60&quot;));","title":"TimeZone validation in Java","body":"<pre><code>private boolean isValidTimeZone(final String timeZone) {\n    final String DEFAULT_GMT_TIMEZONE = \"GMT\";\n    if (timeZone.equals(DEFAULT_GMT_TIMEZONE)) {\n        return true;\n    } else {\n        // if custom time zone is invalid,\n        // time zone id returned is always \"GMT\" by default\n        String id = TimeZone.getTimeZone(timeZone).getID();\n        if (!id.equals(DEFAULT_GMT_TIMEZONE)) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n\n<p>The method returns true for the following:   </p>\n\n<pre><code>assertTrue(this.isValidTimeZone(\"JST\"));\nassertTrue(this.isValidTimeZone(\"UTC\"));\nassertTrue(this.isValidTimeZone(\"GMT\"));\n// GMT+00:00\nassertTrue(this.isValidTimeZone(\"GMT+0\"));\n// GMT-00:00\nassertTrue(this.isValidTimeZone(\"GMT-0\"));\n// GMT+09:00\nassertTrue(this.isValidTimeZone(\"GMT+9:00\"));\n// GMT+10:30\nassertTrue(this.isValidTimeZone(\"GMT+10:30\"));\n// GMT-04:00\nassertTrue(this.isValidTimeZone(\"GMT-0400\"));\n// GMT+08:00\nassertTrue(this.isValidTimeZone(\"GMT+8\"));\n// GMT-13:00\nassertTrue(this.isValidTimeZone(\"GMT-13\"));\n// GMT-13:59\nassertTrue(this.isValidTimeZone(\"GMT+13:59\"));\n// NOTE: valid time zone IDs (see TimeZone.getAvailableIDs())\n// GMT-08:00\nassertTrue(this.isValidTimeZone(\"America/Los_Angeles\"));\n// GMT+09:00\nassertTrue(this.isValidTimeZone(\"Japan\"));\n// GMT+01:00\nassertTrue(this.isValidTimeZone(\"Europe/Berlin\"));\n// GMT+04:00\nassertTrue(this.isValidTimeZone(\"Europe/Moscow\"));\n// GMT+08:00\nassertTrue(this.isValidTimeZone(\"Asia/Singapore\"));\n</code></pre>\n\n<p>...And false with the following timezones:</p>\n\n<pre><code>assertFalse(this.isValidTimeZone(\"JPY\"));\nassertFalse(this.isValidTimeZone(\"USD\"));\nassertFalse(this.isValidTimeZone(\"UTC+8\"));\nassertFalse(this.isValidTimeZone(\"UTC+09:00\"));\nassertFalse(this.isValidTimeZone(\"+09:00\"));\nassertFalse(this.isValidTimeZone(\"-08:00\"));\nassertFalse(this.isValidTimeZone(\"-1\"));\nassertFalse(this.isValidTimeZone(\"GMT+10:-30\"));\n// hours is 0-23 only\nassertFalse(this.isValidTimeZone(\"GMT+24:00\"));\n// minutes 00-59 only\nassertFalse(this.isValidTimeZone(\"GMT+13:60\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5230374,"reputation":1391,"user_id":4180937,"accept_rate":83,"display_name":"Minding"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1611228148,"creation_date":1480706986,"answer_id":40939623,"question_id":13092865,"body_markdown":"This is a more efficient solution, than looping through all possible IDs. It checks the output of `getTimeZone`.\r\n\r\n[Java Docs (TimeZone#getTimeZone):][1]\r\n&gt; Returns:\r\nthe specified TimeZone, or the **GMT** zone if the given ID cannot be understood.\r\n\r\nSo if the output is the GMT timezone the input is invalid, except if the input accually was &quot;GMT&quot;.\r\n\r\n\tpublic static boolean isValidTimeZone(@NonNull String timeZoneID) {\r\n\t\treturn (timeZoneID.equals(&quot;GMT&quot;) || !TimeZone.getTimeZone(timeZoneID).getID().equals(&quot;GMT&quot;));\r\n\t}\r\n\r\nOr if you want to use the valid timezone without calling `getTimeZone` twice:\r\n\r\n\tTimeZone timeZone = TimeZone.getTimeZone(timeZoneToCheck);\r\n\tif(timeZoneToCheck.equals(&quot;GMT&quot;) || !timeZone.getID().equals(&quot;GMT&quot;)) {\r\n\t\t// TODO Valid - use timeZone\r\n\t} else {\r\n\t\t// TODO Invalid - handle the invalid input\r\n\t}\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/TimeZone.html#getTimeZone-java.lang.String-","title":"TimeZone validation in Java","body":"<p>This is a more efficient solution, than looping through all possible IDs. It checks the output of <code>getTimeZone</code>.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/TimeZone.html#getTimeZone-java.lang.String-\" rel=\"nofollow noreferrer\">Java Docs (TimeZone#getTimeZone):</a></p>\n<blockquote>\n<p>Returns:\nthe specified TimeZone, or the <strong>GMT</strong> zone if the given ID cannot be understood.</p>\n</blockquote>\n<p>So if the output is the GMT timezone the input is invalid, except if the input accually was &quot;GMT&quot;.</p>\n<pre><code>public static boolean isValidTimeZone(@NonNull String timeZoneID) {\n    return (timeZoneID.equals(&quot;GMT&quot;) || !TimeZone.getTimeZone(timeZoneID).getID().equals(&quot;GMT&quot;));\n}\n</code></pre>\n<p>Or if you want to use the valid timezone without calling <code>getTimeZone</code> twice:</p>\n<pre><code>TimeZone timeZone = TimeZone.getTimeZone(timeZoneToCheck);\nif(timeZoneToCheck.equals(&quot;GMT&quot;) || !timeZone.getID().equals(&quot;GMT&quot;)) {\n    // TODO Valid - use timeZone\n} else {\n    // TODO Invalid - handle the invalid input\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":373021,"reputation":3724,"user_id":875806,"accept_rate":67,"display_name":"CoatedMoose"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1505792015,"creation_date":1505792015,"answer_id":46291351,"question_id":13092865,"body_markdown":"Since `TimeZone#getTimeZone(String id)` returns a default if the value is invalid (rather than returning an invalid time zone), if the reinterpreted value does not match the initial value, it wasn&#39;t valid.\r\n\r\n    private static boolean isValidTimeZone(@Nonnull String potentialTimeZone)\r\n    {\r\n        // If the input matches the re-interpreted value, then the time zone is valid.\r\n        return TimeZone.getTimeZone(potentialTimeZone).getID().equals(potentialTimeZone);\r\n    }","title":"TimeZone validation in Java","body":"<p>Since <code>TimeZone#getTimeZone(String id)</code> returns a default if the value is invalid (rather than returning an invalid time zone), if the reinterpreted value does not match the initial value, it wasn't valid.</p>\n\n<pre><code>private static boolean isValidTimeZone(@Nonnull String potentialTimeZone)\n{\n    // If the input matches the re-interpreted value, then the time zone is valid.\n    return TimeZone.getTimeZone(potentialTimeZone).getID().equals(potentialTimeZone);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11939237,"reputation":1048,"user_id":8736602,"display_name":"yali"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1634708610,"creation_date":1568312046,"answer_id":57912411,"question_id":13092865,"body_markdown":"# `java.time.ZoneId`\r\n\r\nIt&#39;s simple just use [`ZoneId.of(&quot;Asia/Kolkata&quot;)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZoneId.html#of(java.lang.String)).\r\n\r\n    try {\r\n        ZoneId.of(&quot;Asia/Kolkataa&quot;);\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\nif your insert invalid time zone it will throw exception \r\n\r\n    **java.time.zone.ZoneRulesException: Unknown time-zone ID: Asia/Kolkataa**","title":"TimeZone validation in Java","body":"<h1><code>java.time.ZoneId</code></h1>\n<p>It's simple just use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZoneId.html#of(java.lang.String)\" rel=\"noreferrer\"><code>ZoneId.of(&quot;Asia/Kolkata&quot;)</code></a>.</p>\n<pre><code>try {\n    ZoneId.of(&quot;Asia/Kolkataa&quot;);\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>if your insert invalid time zone it will throw exception</p>\n<pre><code>**java.time.zone.ZoneRulesException: Unknown time-zone ID: Asia/Kolkataa**\n</code></pre>\n"}],"owner":{"account_id":1974553,"reputation":615,"user_id":1772643,"accept_rate":39,"display_name":"user1772643"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23411,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":13092884,"answer_count":9,"score":16,"last_activity_date":1634708610,"creation_date":1351278245,"question_id":13092865,"body_markdown":"I have a string, I need to check whether it is a standard time zone identifier or not. I am not sure which method I need to use.\r\n\r\n    String timeZoneToCheck = &quot;UTC&quot;;\r\n\r\nI would like to check whether it represents a valid time zone or not.","title":"TimeZone validation in Java","body":"<p>I have a string, I need to check whether it is a standard time zone identifier or not. I am not sure which method I need to use.</p>\n\n<pre><code>String timeZoneToCheck = \"UTC\";\n</code></pre>\n\n<p>I would like to check whether it represents a valid time zone or not.</p>\n"},{"tags":["java","string","char"],"comments":[{"owner":{"account_id":2154822,"reputation":3613,"user_id":1910301,"accept_rate":73,"display_name":"Adarsh"},"score":4,"creation_date":1369981450,"post_id":16850937,"comment_id":24301244,"body_markdown":"how do you determine which par of it is to be converted ?","body":"how do you determine which par of it is to be converted ?"},{"owner":{"account_id":2136544,"reputation":24466,"user_id":1896169,"accept_rate":98,"display_name":"Justin"},"score":0,"creation_date":1369981489,"post_id":16850937,"comment_id":24301259,"body_markdown":"if you have a `char[] a`, then a `String str = new String(a)` would work. Then you could just take a substring.","body":"if you have a <code>char[] a</code>, then a <code>String str = new String(a)</code> would work. Then you could just take a substring."},{"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"score":0,"creation_date":1369981611,"post_id":16850937,"comment_id":24301299,"body_markdown":"This might be useful: http://docs.oracle.com/javase/6/docs/api/java/lang/StringBuilder.html","body":"This might be useful: <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/lang/StringBuilder.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":454024,"reputation":89,"user_id":851340,"accept_rate":12,"display_name":"Rahul Gupta"},"score":0,"creation_date":1621013224,"post_id":16850937,"comment_id":119376092,"body_markdown":"Read this **[Convert Char Array To String In Java](https://www.tutorialcup.com/java/convert-char-array-to-string-in-java.htm)**","body":"Read this <b><a href=\"https://www.tutorialcup.com/java/convert-char-array-to-string-in-java.htm\" rel=\"nofollow noreferrer\">Convert Char Array To String In Java</a></b>"}],"answers":[{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1369981524,"creation_date":1369981524,"answer_id":16850967,"question_id":16850937,"body_markdown":"Try the [`String(char[], int, int)` constructor][1]:\r\n\r\n    String s = new String(a, 2, 4);\r\n\r\nThat will construct a `String` from the characters of array `a` starting at offset 2 and a length of 4.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#String%28char%5B%5D,%20int,%20int%29","title":"Converting a part of a char array to string in java","body":"<p>Try the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#String%28char%5B%5D,%20int,%20int%29\" rel=\"noreferrer\"><code>String(char[], int, int)</code> constructor</a>:</p>\n\n<pre><code>String s = new String(a, 2, 4);\n</code></pre>\n\n<p>That will construct a <code>String</code> from the characters of array <code>a</code> starting at offset 2 and a length of 4.</p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1369981532,"creation_date":1369981532,"answer_id":16850969,"question_id":16850937,"body_markdown":"You want to create a String. How about looking at [the javadoc of String][1], find the constructors, and finding this one:\r\n\r\n&gt; String(char[] value, int offset, int count)\r\n&gt;\r\n&gt;  Allocates a new String that contains characters from a subarray of the character array argument.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/String.html","title":"Converting a part of a char array to string in java","body":"<p>You want to create a String. How about looking at <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html\">the javadoc of String</a>, find the constructors, and finding this one:</p>\n\n<blockquote>\n  <p>String(char[] value, int offset, int count)</p>\n  \n  <p>Allocates a new String that contains characters from a subarray of the character array argument.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2260432,"reputation":13453,"user_id":1990684,"accept_rate":60,"display_name":"DevZer0"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1369981795,"creation_date":1369981795,"answer_id":16851026,"question_id":16850937,"body_markdown":"If you want to convert the whole char array you should do\r\n\r\n`String s = new String(a);`\r\n","title":"Converting a part of a char array to string in java","body":"<p>If you want to convert the whole char array you should do</p>\n\n<p><code>String s = new String(a);</code></p>\n"},{"tags":[],"owner":{"account_id":431179,"reputation":704,"user_id":815077,"accept_rate":0,"display_name":"Dhananjay Joshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634708353,"creation_date":1369982477,"answer_id":16851210,"question_id":16850937,"body_markdown":"First I want to know that you want which part of char array\r\n\r\nthere are so many way to get part  of that array\r\n\r\nFirst     \r\n```java\r\nString s = new String(a);\r\n```\r\nSecond you can get part of array as mention below\r\n```java\r\npublic class Test2 {\r\n\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tchar[] a = {&#39;I&#39;, &#39; &#39;, &#39;m&#39;, &#39;i&#39;, &#39;s&#39;, &#39;s&#39;, &#39; &#39;, &#39;y&#39;, &#39;o&#39;, &#39;u&#39;, &#39;.&#39;};\r\n\t\tString s = new String(a);\r\n\t\tSystem.out.println(&quot;Whole Array :- &quot;+s);\r\n\t\tString[] array = s.split(&quot; &quot;);\r\n\t\tSystem.out.println(&quot;\\n Part Of Array&quot;);\r\n\t\tfor (String string : array) {\r\n\t\t\tSystem.out.println(string);\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n```","title":"Converting a part of a char array to string in java","body":"<p>First I want to know that you want which part of char array</p>\n<p>there are so many way to get part  of that array</p>\n<p>First</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = new String(a);\n</code></pre>\n<p>Second you can get part of array as mention below</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test2 {\n\n    \n    public static void main(String[] args) {\n        char[] a = {'I', ' ', 'm', 'i', 's', 's', ' ', 'y', 'o', 'u', '.'};\n        String s = new String(a);\n        System.out.println(&quot;Whole Array :- &quot;+s);\n        String[] array = s.split(&quot; &quot;);\n        System.out.println(&quot;\\n Part Of Array&quot;);\n        for (String string : array) {\n            System.out.println(string);\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":2839320,"reputation":51,"user_id":2439222,"display_name":"user2439222"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22431,"favorite_count":0,"down_vote_count":5,"up_vote_count":3,"closed_date":1370098971,"answer_count":4,"score":-2,"last_activity_date":1634708353,"creation_date":1369981364,"question_id":16850937,"body_markdown":"I have a character array:\r\n\r\n`char[] a = {&#39;I&#39;, &#39; &#39;, &#39;m&#39;, &#39;i&#39;, &#39;s&#39;, &#39;s&#39;, &#39; &#39;, &#39;y&#39;, &#39;o&#39;, &#39;u&#39;, &#39;.&#39;};`\r\n\r\nNow I want to convert a part of that character array(for example:&#39;m&#39;, &#39;i&#39;, &#39;s&#39;, &#39;s&#39;) to a string.\r\nHow can I do that?","title":"Converting a part of a char array to string in java","body":"<p>I have a character array:</p>\n\n<p><code>char[] a = {'I', ' ', 'm', 'i', 's', 's', ' ', 'y', 'o', 'u', '.'};</code></p>\n\n<p>Now I want to convert a part of that character array(for example:'m', 'i', 's', 's') to a string.\nHow can I do that?</p>\n"},{"tags":["java","android","android-layout","layout","android-edittext"],"comments":[{"owner":{"account_id":255095,"reputation":426,"user_id":534898,"display_name":"Sergey Galin"},"score":0,"creation_date":1392623368,"post_id":20811850,"comment_id":33028651,"body_markdown":"See this answer for the programmatic method: http://stackoverflow.com/a/21822662/534898","body":"See this answer for the programmatic method: <a href=\"http://stackoverflow.com/a/21822662/534898\">stackoverflow.com/a/21822662/534898</a>"},{"owner":{"account_id":5027108,"reputation":22471,"user_id":4101725,"display_name":"Michele d&#39;Amico"},"score":0,"creation_date":1460581397,"post_id":20811850,"comment_id":60815659,"body_markdown":"And this for xml way http://stackoverflow.com/a/29249724/4101725","body":"And this for xml way <a href=\"http://stackoverflow.com/a/29249724/4101725\">stackoverflow.com/a/29249724/4101725</a>"}],"answers":[{"tags":[],"owner":{"account_id":1226292,"reputation":6406,"user_id":1191766,"display_name":"Shyam"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1388214094,"creation_date":1388214094,"answer_id":20811970,"question_id":20811850,"body_markdown":"you need to use layer list for this  \r\n\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt;\r\n        &lt;!-- Border --&gt;\r\n        &lt;item&gt;\r\n            &lt;shape&gt;\r\n                &lt;solid android:color=&quot;#f000&quot;&gt;&lt;/solid&gt;\r\n            &lt;/shape&gt;\r\n        &lt;/item&gt;\r\n        &lt;!-- Body --&gt;\r\n        &lt;item android:left=&quot;2dip&quot;\r\n              android:bottom=&quot;2dp&quot;\r\n              android:right=&quot;2dp&quot;&gt;\r\n            &lt;shape&gt;\r\n                &lt;solid android:color=&quot;#ffafafaf&quot;&gt;&lt;/solid&gt;\r\n            &lt;/shape&gt; \r\n        &lt;/item&gt;\r\n    &lt;/layer-list&gt;","title":"how to remove border of edittext field","body":"<p>you need to use layer list for this  </p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layer-list xmlns:android=\"http://schemas.android.com/apk/res/android\" &gt;\n    &lt;!-- Border --&gt;\n    &lt;item&gt;\n        &lt;shape&gt;\n            &lt;solid android:color=\"#f000\"&gt;&lt;/solid&gt;\n        &lt;/shape&gt;\n    &lt;/item&gt;\n    &lt;!-- Body --&gt;\n    &lt;item android:left=\"2dip\"\n          android:bottom=\"2dp\"\n          android:right=\"2dp\"&gt;\n        &lt;shape&gt;\n            &lt;solid android:color=\"#ffafafaf\"&gt;&lt;/solid&gt;\n        &lt;/shape&gt; \n    &lt;/item&gt;\n&lt;/layer-list&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1265549,"reputation":1723,"user_id":1222926,"display_name":"SuN"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1388216411,"creation_date":1388214563,"answer_id":20812021,"question_id":20811850,"body_markdown":"You have two solution for this          \r\n\r\n 1. You can set shape on layout background and put two edit text in the layout.    \r\n\r\n 1. Currently you&#39;re using one shape for edit text round. You can use two\r\n    shapes; different ones that have upper border and other have bellow\r\n    border.\r\n\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:gravity=&quot;center&quot;\r\n    android:orientation=&quot;vertical&quot; &gt;\r\n\r\n    &lt;ImageButton\r\n        android:id=&quot;@+id/save&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;#00000000&quot;\r\n        android:clickable=&quot;false&quot; /&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@drawable/round_edittext&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:orientation=&quot;vertical&quot; &gt;\r\n\r\n        &lt;EditText\r\n            android:id=&quot;@+id/editText1&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginLeft=&quot;40sp&quot;\r\n            android:layout_marginRight=&quot;40sp&quot;\r\n            android:layout_marginTop=&quot;10sp&quot;\r\n            android:background=&quot;#00000000&quot;\r\n            android:drawablePadding=&quot;5dp&quot;\r\n            android:gravity=&quot;left&quot;\r\n            android:hint=&quot;Mobile Number&quot;\r\n            android:padding=&quot;5dp&quot;\r\n            android:paddingBottom=&quot;8sp&quot;\r\n            android:paddingTop=&quot;8sp&quot;\r\n            android:textSize=&quot;15dp&quot; &gt;\r\n        &lt;/EditText&gt;\r\n\r\n        &lt;EditText\r\n            android:id=&quot;@+id/editText2&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginLeft=&quot;40sp&quot;\r\n            android:layout_marginRight=&quot;40sp&quot;\r\n            android:background=&quot;#00000000&quot;\r\n            android:drawablePadding=&quot;5dp&quot;\r\n            android:gravity=&quot;left&quot;\r\n            android:hint=&quot;Pin Number&quot;\r\n            android:padding=&quot;5dp&quot;\r\n            android:paddingBottom=&quot;8sp&quot;\r\n            android:paddingTop=&quot;8sp&quot;\r\n            android:textSize=&quot;15dp&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/signin&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginLeft=&quot;40sp&quot;\r\n        android:layout_marginRight=&quot;40sp&quot;\r\n        android:layout_marginTop=&quot;10sp&quot;\r\n        android:clickable=&quot;true&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:text=&quot;Sign In&quot;\r\n        android:textColor=&quot;#ffffff&quot;\r\n        android:textSize=&quot;15dp&quot; /&gt;\r\n\r\n&lt;/LinearLayout&gt;","title":"how to remove border of edittext field","body":"<p>You have two solution for this          </p>\n\n<ol>\n<li><p>You can set shape on layout background and put two edit text in the layout.    </p></li>\n<li><p>Currently you're using one shape for edit text round. You can use two\nshapes; different ones that have upper border and other have bellow\nborder.</p></li>\n</ol>\n\n<p>\n</p>\n\n<pre><code>&lt;ImageButton\n    android:id=\"@+id/save\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"#00000000\"\n    android:clickable=\"false\" /&gt;\n\n&lt;LinearLayout\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"@drawable/round_edittext\"\n    android:gravity=\"center\"\n    android:orientation=\"vertical\" &gt;\n\n    &lt;EditText\n        android:id=\"@+id/editText1\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginLeft=\"40sp\"\n        android:layout_marginRight=\"40sp\"\n        android:layout_marginTop=\"10sp\"\n        android:background=\"#00000000\"\n        android:drawablePadding=\"5dp\"\n        android:gravity=\"left\"\n        android:hint=\"Mobile Number\"\n        android:padding=\"5dp\"\n        android:paddingBottom=\"8sp\"\n        android:paddingTop=\"8sp\"\n        android:textSize=\"15dp\" &gt;\n    &lt;/EditText&gt;\n\n    &lt;EditText\n        android:id=\"@+id/editText2\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginLeft=\"40sp\"\n        android:layout_marginRight=\"40sp\"\n        android:background=\"#00000000\"\n        android:drawablePadding=\"5dp\"\n        android:gravity=\"left\"\n        android:hint=\"Pin Number\"\n        android:padding=\"5dp\"\n        android:paddingBottom=\"8sp\"\n        android:paddingTop=\"8sp\"\n        android:textSize=\"15dp\" /&gt;\n&lt;/LinearLayout&gt;\n\n&lt;Button\n    android:id=\"@+id/signin\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginLeft=\"40sp\"\n    android:layout_marginRight=\"40sp\"\n    android:layout_marginTop=\"10sp\"\n    android:clickable=\"true\"\n    android:gravity=\"center\"\n    android:text=\"Sign In\"\n    android:textColor=\"#ffffff\"\n    android:textSize=\"15dp\" /&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":3111120,"reputation":738,"user_id":2632816,"accept_rate":67,"display_name":"The Ray of Hope"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1388215369,"creation_date":1388215369,"answer_id":20812108,"question_id":20811850,"body_markdown":"You can customise your edit text by using the following xml layout\r\n\r\nSave the following code asyourWishName.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;selector\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    \r\n    //You can change the color of the edit text here which removes the border line as well\r\n     &lt;item android:state_focused=&quot;true&quot; &gt;\r\n        &lt;shape android:shape=&quot;rectangle&quot;&gt;\r\n            &lt;gradient\r\n                android:startColor=&quot;#FFFFFF&quot;\r\n                android:endColor=&quot;#FFFFFF&quot;\r\n                android:angle=&quot;270&quot; /&gt;\r\n            &lt;stroke\r\n                android:width=&quot;3dp&quot;\r\n                android:color=&quot;#F8B334&quot; /&gt;\r\n            &lt;corners\r\n                android:radius=&quot;12dp&quot; /&gt; \r\n        &lt;/shape&gt;\r\n    &lt;/item&gt;  \r\n    &lt;item&gt;\r\n        &lt;shape android:shape=&quot;rectangle&quot;&gt;\r\n            &lt;gradient\r\n                android:startColor=&quot;#FFFFFF&quot;\r\n                android:endColor=&quot;#FFFFFF&quot;\r\n                android:angle=&quot;270&quot; /&gt;\r\n            &lt;stroke\r\n                android:width=&quot;0dp&quot;\r\n                android:color=&quot;#000000&quot; /&gt;\r\n            &lt;corners\r\n                android:radius=&quot;12dp&quot; /&gt; \r\n        &lt;/shape&gt;\r\n    &lt;/item&gt;\r\n    &lt;/selector&gt;\r\n\r\nIn EditText call the xml android:background=&quot;@drawable/yourWishName&quot;\r\n\r\nTo Align right Use android:gravity=&quot;right&quot;\r\n\r\nHope this helps","title":"how to remove border of edittext field","body":"<p>You can customise your edit text by using the following xml layout</p>\n\n<p>Save the following code asyourWishName.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;selector\nxmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n//You can change the color of the edit text here which removes the border line as well\n &lt;item android:state_focused=\"true\" &gt;\n    &lt;shape android:shape=\"rectangle\"&gt;\n        &lt;gradient\n            android:startColor=\"#FFFFFF\"\n            android:endColor=\"#FFFFFF\"\n            android:angle=\"270\" /&gt;\n        &lt;stroke\n            android:width=\"3dp\"\n            android:color=\"#F8B334\" /&gt;\n        &lt;corners\n            android:radius=\"12dp\" /&gt; \n    &lt;/shape&gt;\n&lt;/item&gt;  \n&lt;item&gt;\n    &lt;shape android:shape=\"rectangle\"&gt;\n        &lt;gradient\n            android:startColor=\"#FFFFFF\"\n            android:endColor=\"#FFFFFF\"\n            android:angle=\"270\" /&gt;\n        &lt;stroke\n            android:width=\"0dp\"\n            android:color=\"#000000\" /&gt;\n        &lt;corners\n            android:radius=\"12dp\" /&gt; \n    &lt;/shape&gt;\n&lt;/item&gt;\n&lt;/selector&gt;\n</code></pre>\n\n<p>In EditText call the xml android:background=\"@drawable/yourWishName\"</p>\n\n<p>To Align right Use android:gravity=\"right\"</p>\n\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":2198371,"reputation":5096,"user_id":1943464,"accept_rate":36,"display_name":"Hamad"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1388221297,"creation_date":1388221297,"answer_id":20812746,"question_id":20811850,"body_markdown":"use two drawables for your edittext.\r\n\r\nOne with padding top:\r\n\r\nround_edittext.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt;\r\n\r\n    &lt;solid android:color=&quot;#FFFFFF&quot; /&gt;\r\n\r\n    &lt;stroke\r\n        android:width=&quot;1dp&quot;\r\n        android:color=&quot;#9999&quot; /&gt;\r\n    &lt;!-- add this padding for top --&gt;\r\n    &lt;padding android:top=&quot;2dp&quot; /&gt;\r\n    &lt;corners\r\n        android:bottomLeftRadius=&quot;1dp&quot;\r\n        android:bottomRightRadius=&quot;1dp&quot;\r\n        android:topLeftRadius=&quot;1dp&quot;\r\n        android:topRightRadius=&quot;1dp&quot; /&gt;\r\n\r\n    &lt;/shape&gt;\r\n\r\nand Second without padding:\r\n\r\nround_edittext.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt;\r\n\r\n    &lt;solid android:color=&quot;#FFFFFF&quot; /&gt;\r\n\r\n    &lt;stroke\r\n        android:width=&quot;1dp&quot;\r\n        android:color=&quot;#9999&quot; /&gt;\r\n\r\n    &lt;corners\r\n        android:bottomLeftRadius=&quot;1dp&quot;\r\n        android:bottomRightRadius=&quot;1dp&quot;\r\n        android:topLeftRadius=&quot;1dp&quot;\r\n        android:topRightRadius=&quot;1dp&quot; /&gt;\r\n\r\n    &lt;/shape&gt;","title":"how to remove border of edittext field","body":"<p>use two drawables for your edittext.</p>\n\n<p>One with padding top:</p>\n\n<p>round_edittext.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;shape xmlns:android=\"http://schemas.android.com/apk/res/android\" &gt;\n\n&lt;solid android:color=\"#FFFFFF\" /&gt;\n\n&lt;stroke\n    android:width=\"1dp\"\n    android:color=\"#9999\" /&gt;\n&lt;!-- add this padding for top --&gt;\n&lt;padding android:top=\"2dp\" /&gt;\n&lt;corners\n    android:bottomLeftRadius=\"1dp\"\n    android:bottomRightRadius=\"1dp\"\n    android:topLeftRadius=\"1dp\"\n    android:topRightRadius=\"1dp\" /&gt;\n\n&lt;/shape&gt;\n</code></pre>\n\n<p>and Second without padding:</p>\n\n<p>round_edittext.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;shape xmlns:android=\"http://schemas.android.com/apk/res/android\" &gt;\n\n&lt;solid android:color=\"#FFFFFF\" /&gt;\n\n&lt;stroke\n    android:width=\"1dp\"\n    android:color=\"#9999\" /&gt;\n\n&lt;corners\n    android:bottomLeftRadius=\"1dp\"\n    android:bottomRightRadius=\"1dp\"\n    android:topLeftRadius=\"1dp\"\n    android:topRightRadius=\"1dp\" /&gt;\n\n&lt;/shape&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2840852,"reputation":1466,"user_id":2613848,"accept_rate":36,"display_name":"RaviPatidar"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1397228089,"creation_date":1397228089,"answer_id":23016010,"question_id":20811850,"body_markdown":"Use it, this is working for me\r\n\r\n\r\n    &lt;EditText  \r\n    android:layout_width=&quot;fill_parent&quot; \r\n    android:layout_height=&quot;wrap_content&quot; \r\n    android:hint=&quot;@string/hello&quot; \r\n    android:background=&quot;#00000000&quot;\r\n    /&gt;","title":"how to remove border of edittext field","body":"<p>Use it, this is working for me</p>\n\n<pre><code>&lt;EditText  \nandroid:layout_width=\"fill_parent\" \nandroid:layout_height=\"wrap_content\" \nandroid:hint=\"@string/hello\" \nandroid:background=\"#00000000\"\n/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6554659,"reputation":9388,"user_id":5067761,"accept_rate":67,"display_name":"Ahtisham"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1598841994,"creation_date":1596465888,"answer_id":63231603,"question_id":20811850,"body_markdown":"I did it by keeping the background transparent like this:\r\n\r\n    &lt;EditText\r\n        android:background=&quot;@android:color/transparent&quot;\r\n    /&gt;","title":"how to remove border of edittext field","body":"<p>I did it by keeping the background transparent like this:</p>\n<pre><code>&lt;EditText\n    android:background=&quot;@android:color/transparent&quot;\n/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22165740,"reputation":1230,"user_id":16411959,"display_name":"AI Shakil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634640047,"creation_date":1634640047,"answer_id":69629348,"question_id":20811850,"body_markdown":"use this::\r\n\r\n                  &lt;EditText\r\n                    android:layout_width=&quot;200dp&quot;\r\n                    android:layout_height=&quot;40dp&quot;\r\n                    android:layout_marginStart=&quot;16dp&quot;\r\n                    android:background=&quot;#00000000&quot;\r\n                    android:hint=&quot;Username&quot;\r\n                    /&gt;","title":"how to remove border of edittext field","body":"<p>use this::</p>\n<pre><code>              &lt;EditText\n                android:layout_width=&quot;200dp&quot;\n                android:layout_height=&quot;40dp&quot;\n                android:layout_marginStart=&quot;16dp&quot;\n                android:background=&quot;#00000000&quot;\n                android:hint=&quot;Username&quot;\n                /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8047963,"reputation":1160,"user_id":6067590,"display_name":"Akanshi Srivastava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634708324,"creation_date":1634708324,"answer_id":69640816,"question_id":20811850,"body_markdown":"There are two ways to go about this:\r\n\r\nOne is by adding a custom background to the editText using\r\n\r\n     android:background=&quot;@drawable/customBackground\r\n\r\nor by setting the background as transparent\r\n\r\n    android:background=&quot;@android:color/transparent&quot;\r\n\r\n\r\nI would suggest to use the first way if you want to further customize your view background instead of just removing it. Custom shape drawables are easy to create and apply to the view through XML or programatically.\r\n\r\n\r\n","title":"how to remove border of edittext field","body":"<p>There are two ways to go about this:</p>\n<p>One is by adding a custom background to the editText using</p>\n<pre><code> android:background=&quot;@drawable/customBackground\n</code></pre>\n<p>or by setting the background as transparent</p>\n<pre><code>android:background=&quot;@android:color/transparent&quot;\n</code></pre>\n<p>I would suggest to use the first way if you want to further customize your view background instead of just removing it. Custom shape drawables are easy to create and apply to the view through XML or programatically.</p>\n"}],"owner":{"account_id":3750726,"reputation":319,"user_id":3118276,"accept_rate":71,"display_name":"Android Learner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29910,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":8,"score":5,"last_activity_date":1634708324,"creation_date":1388212982,"question_id":20811850,"body_markdown":"I have created a login layout but in this layout edittext field border is overlap.\r\nI want to remove the `top border` of second edit text field. please guide me.\r\nhere is the link \r\n[screen](http://plus.google.com/photos/115585035204792909450/albums/5599113500585388033/5962172769461530962?banner=pwa&amp;authkey=CP3uq8zM2JH9LA&amp;pid=5962172769461530962&amp;oid=115585035204792909450/)\r\n\r\nI want to make layout exactly like this. Here is my `XML code`.\r\n\r\n \r\n\r\n   **round_edittext.xml:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt;\r\n    \r\n        &lt;solid android:color=&quot;#FFFFFF&quot; /&gt;\r\n    \r\n        &lt;stroke\r\n            android:width=&quot;1dp&quot;\r\n            android:color=&quot;#9999&quot; /&gt;\r\n    \r\n        &lt;corners\r\n            android:bottomLeftRadius=&quot;1dp&quot;\r\n            android:bottomRightRadius=&quot;1dp&quot;\r\n            android:topLeftRadius=&quot;1dp&quot;\r\n            android:topRightRadius=&quot;1dp&quot; /&gt;\r\n    \r\n    &lt;/shape&gt;\r\n    \r\n    \r\n**activity_mail.xml:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:orientation=&quot;vertical&quot; &gt;\r\n    \r\n        &lt;ImageButton\r\n            android:id=&quot;@+id/save&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;#00000000&quot;\r\n            android:clickable=&quot;false&quot;\r\n            android:src=&quot;@drawable/no_smslogo_text&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/editText1&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginLeft=&quot;40sp&quot;\r\n            android:layout_marginRight=&quot;40sp&quot;\r\n            android:layout_marginTop=&quot;10sp&quot;\r\n            android:background=&quot;@drawable/round_edittext&quot;\r\n            android:drawableLeft=&quot;@drawable/mobile_icon&quot;\r\n            android:drawablePadding=&quot;5dp&quot;\r\n            android:gravity=&quot;left&quot;\r\n            android:hint=&quot;Mobile Number&quot;\r\n            android:padding=&quot;5dp&quot;\r\n            android:paddingBottom=&quot;8sp&quot;\r\n            android:paddingTop=&quot;8sp&quot;\r\n            android:textSize=&quot;15dp&quot; &gt;\r\n        &lt;/EditText&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/editText2&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginLeft=&quot;40sp&quot;\r\n            android:layout_marginRight=&quot;40sp&quot;\r\n            android:background=&quot;@drawable/round_edittext&quot;\r\n            android:drawable=&quot;@drawable/pin_icon&quot;\r\n            android:drawableLeft=&quot;@drawable/mobile_icon&quot;\r\n            android:drawablePadding=&quot;5dp&quot;\r\n            android:gravity=&quot;left&quot;\r\n            android:hint=&quot;Pin Number&quot;\r\n            android:padding=&quot;5dp&quot;\r\n            android:paddingBottom=&quot;8sp&quot;\r\n            android:paddingTop=&quot;8sp&quot;\r\n            android:textSize=&quot;15dp&quot; /&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/signin&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginLeft=&quot;40sp&quot;\r\n            android:layout_marginRight=&quot;40sp&quot;\r\n            android:layout_marginTop=&quot;10sp&quot;\r\n            android:clickable=&quot;true&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;Sign In&quot;\r\n            android:textColor=&quot;#ffffff&quot;\r\n            android:textSize=&quot;15dp&quot; /&gt;\r\n    \r\n    &lt;/LinearLayout&gt;","title":"how to remove border of edittext field","body":"<p>I have created a login layout but in this layout edittext field border is overlap.\nI want to remove the <code>top border</code> of second edit text field. please guide me.\nhere is the link \n<a href=\"http://plus.google.com/photos/115585035204792909450/albums/5599113500585388033/5962172769461530962?banner=pwa&amp;authkey=CP3uq8zM2JH9LA&amp;pid=5962172769461530962&amp;oid=115585035204792909450/\" rel=\"nofollow\">screen</a></p>\n\n<p>I want to make layout exactly like this. Here is my <code>XML code</code>.</p>\n\n<p><strong>round_edittext.xml:</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;shape xmlns:android=\"http://schemas.android.com/apk/res/android\" &gt;\n\n    &lt;solid android:color=\"#FFFFFF\" /&gt;\n\n    &lt;stroke\n        android:width=\"1dp\"\n        android:color=\"#9999\" /&gt;\n\n    &lt;corners\n        android:bottomLeftRadius=\"1dp\"\n        android:bottomRightRadius=\"1dp\"\n        android:topLeftRadius=\"1dp\"\n        android:topRightRadius=\"1dp\" /&gt;\n\n&lt;/shape&gt;\n</code></pre>\n\n<p><strong>activity_mail.xml:</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:gravity=\"center\"\n    android:orientation=\"vertical\" &gt;\n\n    &lt;ImageButton\n        android:id=\"@+id/save\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"#00000000\"\n        android:clickable=\"false\"\n        android:src=\"@drawable/no_smslogo_text\" /&gt;\n\n    &lt;EditText\n        android:id=\"@+id/editText1\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginLeft=\"40sp\"\n        android:layout_marginRight=\"40sp\"\n        android:layout_marginTop=\"10sp\"\n        android:background=\"@drawable/round_edittext\"\n        android:drawableLeft=\"@drawable/mobile_icon\"\n        android:drawablePadding=\"5dp\"\n        android:gravity=\"left\"\n        android:hint=\"Mobile Number\"\n        android:padding=\"5dp\"\n        android:paddingBottom=\"8sp\"\n        android:paddingTop=\"8sp\"\n        android:textSize=\"15dp\" &gt;\n    &lt;/EditText&gt;\n\n    &lt;EditText\n        android:id=\"@+id/editText2\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginLeft=\"40sp\"\n        android:layout_marginRight=\"40sp\"\n        android:background=\"@drawable/round_edittext\"\n        android:drawable=\"@drawable/pin_icon\"\n        android:drawableLeft=\"@drawable/mobile_icon\"\n        android:drawablePadding=\"5dp\"\n        android:gravity=\"left\"\n        android:hint=\"Pin Number\"\n        android:padding=\"5dp\"\n        android:paddingBottom=\"8sp\"\n        android:paddingTop=\"8sp\"\n        android:textSize=\"15dp\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/signin\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginLeft=\"40sp\"\n        android:layout_marginRight=\"40sp\"\n        android:layout_marginTop=\"10sp\"\n        android:clickable=\"true\"\n        android:gravity=\"center\"\n        android:text=\"Sign In\"\n        android:textColor=\"#ffffff\"\n        android:textSize=\"15dp\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","model-view-controller","entity","dto"],"answers":[{"tags":[],"owner":{"account_id":5028064,"reputation":330,"user_id":4039231,"display_name":"Vallabh Vaidya"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1634699261,"creation_date":1634699261,"answer_id":69639867,"question_id":69639251,"body_markdown":"You should create a DTO class and map it to persistence class. Refer [this rule description][1] for the same. Reason specified is \r\n\r\n&gt;if a persistent object is used as an argument of a method annotated with @RequestMapping, it’s possible from a specially crafted user input, to change the content of unexpected fields into the database&lt;/i&gt;\r\n\r\nApart from this, using DTO we can omit some of the persistent object properties that we don&#39;t wish to be present/visible in presentation layer.\r\n\r\nYou can map DTO class to persistence entity in controller itself like below.\r\n \r\n````\r\n@RestController\r\n@RequestMapping(&quot;books&quot;)\r\npublic class BookController {\r\n    \r\n    @Autowired\r\n    BookRepository bookRepository;\r\n\r\n    @Autowired\r\n    ModelMapper modelMapper\r\n    \r\n    @PostMapping\r\n    public Book saveBook(@RequestBody BookDTO modelBook) {\r\n        Book book = this.modelMapper.map(modelBook, Book.class);\r\n        return bookRepository.save(book);\r\n    }\r\n}\r\n````\r\n\r\nModelMapper is a framework that does the DTO to Entity and vice versa mapping. Check [ModelMapper website][2].\r\n\r\nYou may refer [answer and comments][3] for more information about the same.\r\n  \r\n\r\n\r\n  [1]: https://rules.sonarsource.com/java/tag/spring/RSPEC-4684\r\n  [2]: http://modelmapper.org/\r\n  [3]: https://stackoverflow.com/questions/54233672/how-to-avoid-the-vulnerability-created-by-using-entities-at-a-requestmapping-met","title":"Should entity class be used as request body","body":"<p>You should create a DTO class and map it to persistence class. Refer <a href=\"https://rules.sonarsource.com/java/tag/spring/RSPEC-4684\" rel=\"noreferrer\">this rule description</a> for the same. Reason specified is</p>\n<blockquote>\n<p>if a persistent object is used as an argument of a method annotated with @RequestMapping, it’s possible from a specially crafted user input, to change the content of unexpected fields into the database</p>\n</blockquote>\n<p>Apart from this, using DTO we can omit some of the persistent object properties that we don't wish to be present/visible in presentation layer.</p>\n<p>You can map DTO class to persistence entity in controller itself like below.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;books&quot;)\npublic class BookController {\n    \n    @Autowired\n    BookRepository bookRepository;\n\n    @Autowired\n    ModelMapper modelMapper\n    \n    @PostMapping\n    public Book saveBook(@RequestBody BookDTO modelBook) {\n        Book book = this.modelMapper.map(modelBook, Book.class);\n        return bookRepository.save(book);\n    }\n}\n</code></pre>\n<p>ModelMapper is a framework that does the DTO to Entity and vice versa mapping. Check <a href=\"http://modelmapper.org/\" rel=\"noreferrer\">ModelMapper website</a>.</p>\n<p>You may refer <a href=\"https://stackoverflow.com/questions/54233672/how-to-avoid-the-vulnerability-created-by-using-entities-at-a-requestmapping-met\">answer and comments</a> for more information about the same.</p>\n"},{"tags":[],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1634701046,"creation_date":1634700393,"answer_id":69639975,"question_id":69639251,"body_markdown":"Yes, it is a really bad idea. \r\n\r\nAn entity represents persistent data maintained in a database and encapsulates enterprise-wide business rules. On the other hand, DTO is a dumb object - it just holds properties and has getters and setters, but no other logic of any significance. DTOs are used only to transfer data from one subsystem of an application to another.\r\n\r\nImagine having a new requirement to add a new many to many relationship:\r\n```java\r\n@Entity(name = &quot;BOOK&quot;)\r\npublic class Book{\r\n\r\n    @Id\r\n    @Column(name = &quot;book_id&quot;)\r\n    private Integer id;\r\n\r\n    @ManyToMany\r\n    Set&lt;Student&gt; likes;\r\n\r\n... \r\n} \r\n```\r\n\r\nSuch a change in database would also change the API.","title":"Should entity class be used as request body","body":"<p>Yes, it is a really bad idea.</p>\n<p>An entity represents persistent data maintained in a database and encapsulates enterprise-wide business rules. On the other hand, DTO is a dumb object - it just holds properties and has getters and setters, but no other logic of any significance. DTOs are used only to transfer data from one subsystem of an application to another.</p>\n<p>Imagine having a new requirement to add a new many to many relationship:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;BOOK&quot;)\npublic class Book{\n\n    @Id\n    @Column(name = &quot;book_id&quot;)\n    private Integer id;\n\n    @ManyToMany\n    Set&lt;Student&gt; likes;\n\n... \n} \n</code></pre>\n<p>Such a change in database would also change the API.</p>\n"}],"owner":{"account_id":11988367,"reputation":540,"user_id":8772274,"display_name":"Nahuel Giani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4153,"favorite_count":0,"down_vote_count":2,"up_vote_count":10,"closed_date":1634753856,"accepted_answer_id":69639867,"answer_count":2,"score":8,"last_activity_date":1634708302,"creation_date":1634692963,"question_id":69639251,"body_markdown":"Suppose I have to save an entity, in this case, Book. I have the next code:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;books&quot;)\r\n    public class BookController {\r\n        \r\n    \t@Inject\r\n    \tBookRepository bookRepository;\r\n    \t\r\n        @PostMapping\r\n        public Book saveBook(@RequestBody Book book) {\r\n            return bookRepository.save(book);\r\n        }\r\n    }\r\n\r\nMy entity Book is a persistence entity:\r\n\r\n    @Entity(name = &quot;BOOK&quot;)\r\n    public class Book{\r\n    \r\n    \t@Id\r\n    \t@Column(name = &quot;book_id&quot;)\r\n    \tprivate Integer id;\r\n    \r\n     \t@Column(name = &quot;title&quot;)\r\n        private String title;\r\n\r\n        (get/sets...)\r\n    }\r\n    \r\n\r\nThe question is: is a bad practice use my persistence entity in `@RequestBody` of the controller layer? Or should I create a book DTO and map it to my persistence class in a service layer? What is better and why?","title":"Should entity class be used as request body","body":"<p>Suppose I have to save an entity, in this case, Book. I have the next code:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;books&quot;)\npublic class BookController {\n    \n    @Inject\n    BookRepository bookRepository;\n    \n    @PostMapping\n    public Book saveBook(@RequestBody Book book) {\n        return bookRepository.save(book);\n    }\n}\n</code></pre>\n<p>My entity Book is a persistence entity:</p>\n<pre><code>@Entity(name = &quot;BOOK&quot;)\npublic class Book{\n\n    @Id\n    @Column(name = &quot;book_id&quot;)\n    private Integer id;\n\n    @Column(name = &quot;title&quot;)\n    private String title;\n\n    (get/sets...)\n}\n</code></pre>\n<p>The question is: is a bad practice use my persistence entity in <code>@RequestBody</code> of the controller layer? Or should I create a book DTO and map it to my persistence class in a service layer? What is better and why?</p>\n"},{"tags":["java","json","date","jsonschema"],"comments":[{"owner":{"account_id":1545561,"reputation":1363,"user_id":1439176,"accept_rate":86,"display_name":"S B"},"score":0,"creation_date":1491917637,"post_id":43347014,"comment_id":73758199,"body_markdown":"Please add your sample JSON","body":"Please add your sample JSON"},{"owner":{"account_id":8749951,"reputation":551,"user_id":6543599,"accept_rate":25,"display_name":"user6543599"},"score":0,"creation_date":1491917982,"post_id":43347014,"comment_id":73758489,"body_markdown":"Have updated it.","body":"Have updated it."}],"answers":[{"tags":[],"owner":{"account_id":8204546,"reputation":272,"user_id":6174733,"display_name":"Alekhya"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1491921506,"creation_date":1491916814,"answer_id":43347172,"question_id":43347014,"body_markdown":"add regex to json schema\r\nin schema use the following.\r\n\r\n\r\n    {\r\n       &quot;type&quot;: &quot;string&quot;,\r\n       &quot;pattern&quot;: &quot;^\\d{4}\\-(0?[1-9]|1[012])\\-(0?[1-9]|[12][0-9]|3[01])$&quot;\r\n    }\r\n      ","title":"JSON Schema to check date of YYYY-MM-DD","body":"<p>add regex to json schema\nin schema use the following.</p>\n\n<pre><code>{\n   \"type\": \"string\",\n   \"pattern\": \"^\\d{4}\\-(0?[1-9]|1[012])\\-(0?[1-9]|[12][0-9]|3[01])$\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1940866,"reputation":2722,"user_id":1747111,"accept_rate":62,"display_name":"Ram Babu"},"down_vote_count":1,"up_vote_count":49,"is_accepted":false,"score":48,"last_activity_date":1518009023,"creation_date":1518009023,"answer_id":48664720,"question_id":43347014,"body_markdown":"JSON Schema already have defined format for date, time, datetime, email, hostname, IP address. You can prefer this easier and recommended method rather than writing your own regex.\r\n\r\n    &quot;date&quot;: {\r\n      &quot;type&quot;: &quot;string&quot;,\r\n      &quot;format&quot;: &quot;date&quot;\r\n    }\r\n\r\n\r\nDate and time format names are derived from RFC 3339, section 5.6 [RFC3339].\r\n\r\nReference: http://json-schema.org/latest/json-schema-validation.html#rfc.section.7.3","title":"JSON Schema to check date of YYYY-MM-DD","body":"<p>JSON Schema already have defined format for date, time, datetime, email, hostname, IP address. You can prefer this easier and recommended method rather than writing your own regex.</p>\n\n<pre><code>\"date\": {\n  \"type\": \"string\",\n  \"format\": \"date\"\n}\n</code></pre>\n\n<p>Date and time format names are derived from RFC 3339, section 5.6 [RFC3339].</p>\n\n<p>Reference: <a href=\"http://json-schema.org/latest/json-schema-validation.html#rfc.section.7.3\" rel=\"noreferrer\">http://json-schema.org/latest/json-schema-validation.html#rfc.section.7.3</a></p>\n"},{"tags":[],"owner":{"account_id":19670115,"reputation":19,"user_id":14399533,"display_name":"SatishRao Darmakkolla"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1601973715,"creation_date":1601973715,"answer_id":64222248,"question_id":43347014,"body_markdown":"Use below solution ... it should work good for all dates in YYYY-MM-DD or YYYY/MM/DD format. It validated leap year and restricts dates in month of Feb as well.\r\n\r\n\r\n    {\r\n       &quot;type&quot;: &quot;string&quot;,\r\n       &quot;pattern&quot;: &quot;(((19|20)([2468][048]|[13579][26]|0[48])|2000)[/-]02[/-]29|((19|20)[0-9]{2}[/-](0[469]|11)[/-](0[1-9]|[12][0-9]|30)|(19|20)[0-9]{2}[/-](0[13578]|1[02])[/-](0[1-9]|[12][0-9]|3[01])|(19|20)[0-9]{2}[/-]02[/-](0[1-9]|1[0-9]|2[0-8])))&quot;\r\n    }\r\n\r\n","title":"JSON Schema to check date of YYYY-MM-DD","body":"<p>Use below solution ... it should work good for all dates in YYYY-MM-DD or YYYY/MM/DD format. It validated leap year and restricts dates in month of Feb as well.</p>\n<pre><code>{\n   &quot;type&quot;: &quot;string&quot;,\n   &quot;pattern&quot;: &quot;(((19|20)([2468][048]|[13579][26]|0[48])|2000)[/-]02[/-]29|((19|20)[0-9]{2}[/-](0[469]|11)[/-](0[1-9]|[12][0-9]|30)|(19|20)[0-9]{2}[/-](0[13578]|1[02])[/-](0[1-9]|[12][0-9]|3[01])|(19|20)[0-9]{2}[/-]02[/-](0[1-9]|1[0-9]|2[0-8])))&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627059462,"creation_date":1627059127,"answer_id":68502654,"question_id":43347014,"body_markdown":"It is probably easier to use [seconds since EPOCH][1] or the [Julian date][2]:\r\n\r\n    {&quot;type&quot;:&quot;number&quot;}\r\n\r\ninstead of a [regular expression][3] for an [ISO 8601 time stamp][4]:\r\n\r\n    {&quot;type&quot;:&quot;string&quot;,&quot;pattern&quot;:&quot;^(?:[1-9][0-9]{3}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[1-9][0-9](?:0[48]|[2468][048]|[13579][26])|(?:[2468][048]|[13579][26])00)-02-29)T(?:[01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](?:Z|[+-][01][0-9]:[0-5][0-9])$&quot;}\r\n\r\n*Note:* Maybe the non-capturing groups have to be removed. The implementation I have used for the test, accepts it. It probably depends on the implementation.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Unix_time\r\n  [2]: https://en.wikipedia.org/wiki/Julian_day\r\n  [3]: https://stackoverflow.com/a/28022901/402322\r\n  [4]: https://en.wikipedia.org/wiki/ISO_8601#Combined_date_and_time_representations","title":"JSON Schema to check date of YYYY-MM-DD","body":"<p>It is probably easier to use <a href=\"https://en.wikipedia.org/wiki/Unix_time\" rel=\"nofollow noreferrer\">seconds since EPOCH</a> or the <a href=\"https://en.wikipedia.org/wiki/Julian_day\" rel=\"nofollow noreferrer\">Julian date</a>:</p>\n<pre><code>{&quot;type&quot;:&quot;number&quot;}\n</code></pre>\n<p>instead of a <a href=\"https://stackoverflow.com/a/28022901/402322\">regular expression</a> for an <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Combined_date_and_time_representations\" rel=\"nofollow noreferrer\">ISO 8601 time stamp</a>:</p>\n<pre><code>{&quot;type&quot;:&quot;string&quot;,&quot;pattern&quot;:&quot;^(?:[1-9][0-9]{3}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[1-9][0-9](?:0[48]|[2468][048]|[13579][26])|(?:[2468][048]|[13579][26])00)-02-29)T(?:[01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](?:Z|[+-][01][0-9]:[0-5][0-9])$&quot;}\n</code></pre>\n<p><em>Note:</em> Maybe the non-capturing groups have to be removed. The implementation I have used for the test, accepts it. It probably depends on the implementation.</p>\n"},{"tags":[],"owner":{"account_id":3040688,"reputation":67,"user_id":2577802,"display_name":"medusasoftware"},"down_vote_count":3,"up_vote_count":7,"is_accepted":false,"score":4,"last_activity_date":1634707842,"creation_date":1634650445,"answer_id":69631838,"question_id":43347014,"body_markdown":"Use [built-in support](https://json-schema.org/understanding-json-schema/reference/string.html#dates-and-times) for date validation:\r\n\r\n    {&quot;type&quot;: &quot;string&quot;, &quot;format&quot;: &quot;date&quot;}","title":"JSON Schema to check date of YYYY-MM-DD","body":"<p>Use <a href=\"https://json-schema.org/understanding-json-schema/reference/string.html#dates-and-times\" rel=\"nofollow noreferrer\">built-in support</a> for date validation:</p>\n<pre><code>{&quot;type&quot;: &quot;string&quot;, &quot;format&quot;: &quot;date&quot;}\n</code></pre>\n"}],"owner":{"account_id":8749951,"reputation":551,"user_id":6543599,"accept_rate":25,"display_name":"user6543599"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63368,"favorite_count":0,"down_vote_count":1,"up_vote_count":38,"answer_count":5,"score":37,"last_activity_date":1634707842,"creation_date":1491916444,"question_id":43347014,"body_markdown":"Could someone tell me JSON Schema Validation for accepting date of `YYYY-MM-DD` format alone?\r\n\r\nMy sample JSON:\r\n\r\n    {&quot;data1&quot; : &quot;foo&quot;, &quot;date&quot; :&quot;2016-11-24&quot;}\r\n","title":"JSON Schema to check date of YYYY-MM-DD","body":"<p>Could someone tell me JSON Schema Validation for accepting date of <code>YYYY-MM-DD</code> format alone?</p>\n<p>My sample JSON:</p>\n<pre><code>{&quot;data1&quot; : &quot;foo&quot;, &quot;date&quot; :&quot;2016-11-24&quot;}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","azure-cosmosdb","spring-el"],"answers":[{"tags":[],"owner":{"account_id":22613317,"reputation":1314,"user_id":16793150,"display_name":"SauravDas-MT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634707607,"creation_date":1634707607,"answer_id":69640737,"question_id":69637798,"body_markdown":"Simple entities are defined in Cosmos DB as items. And we can do so by adding the **`@Container`** annotation and specifying properties related to the container, like container name, request units (RUs), time to live, auto scale and so on.\r\n\r\n - Annotation  `@Container(containerName=&quot;myContainer&quot;)`  specifies container name in Azure Cosmos DB.\r\n \r\n - And by default request units (RUs) assigned to newly created containers is 400. But we can change it to customize it according to our need.\r\n \r\n - Lastly, annotation `autoScale` field describes that container to be created with autoscale throughput when set to **`true`**. Check this [Microsoft Document](https://learn.microsoft.com/en-us/azure/cosmos-db/provision-throughput-autoscale) for more information on autoscale.\r\n\r\nIf you check [Creating Containers with autoscale throughput](https://learn.microsoft.com/en-us/java/api/overview/azure/spring-data-cosmos-readme?view=azure-java-stable#creating-containers-with-autoscale-throughput), you will find that you can achieve what you want using the following snippet-\r\n\r\n```java\r\n@Container(containerName = &quot;${dynamic.container.name}&quot;\r\n        , autoScale = true, ru = &quot;400&quot;)\r\npublic class FruitsContainer(){\r\n.....\r\n}\r\n```","title":"How to give boolean value in @Container in spring data cosmos?","body":"<p>Simple entities are defined in Cosmos DB as items. And we can do so by adding the <strong><code>@Container</code></strong> annotation and specifying properties related to the container, like container name, request units (RUs), time to live, auto scale and so on.</p>\n<ul>\n<li><p>Annotation  <code>@Container(containerName=&quot;myContainer&quot;)</code>  specifies container name in Azure Cosmos DB.</p>\n</li>\n<li><p>And by default request units (RUs) assigned to newly created containers is 400. But we can change it to customize it according to our need.</p>\n</li>\n<li><p>Lastly, annotation <code>autoScale</code> field describes that container to be created with autoscale throughput when set to <strong><code>true</code></strong>. Check this <a href=\"https://learn.microsoft.com/en-us/azure/cosmos-db/provision-throughput-autoscale\" rel=\"nofollow noreferrer\">Microsoft Document</a> for more information on autoscale.</p>\n</li>\n</ul>\n<p>If you check <a href=\"https://learn.microsoft.com/en-us/java/api/overview/azure/spring-data-cosmos-readme?view=azure-java-stable#creating-containers-with-autoscale-throughput\" rel=\"nofollow noreferrer\">Creating Containers with autoscale throughput</a>, you will find that you can achieve what you want using the following snippet-</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Container(containerName = &quot;${dynamic.container.name}&quot;\n        , autoScale = true, ru = &quot;400&quot;)\npublic class FruitsContainer(){\n.....\n}\n</code></pre>\n"}],"owner":{"account_id":7938311,"reputation":537,"user_id":6164682,"display_name":"sub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":624,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1634707607,"creation_date":1634678576,"question_id":69637798,"body_markdown":"In the below code, I am not able to set autoScale from the configuration property. I am getting errors as &quot;expected boolean but the string is supplied&quot;.\r\n\r\n    @Container(containerName = &quot;${dynamic.container.name}&quot;\r\n            , autoScale = &quot;${dynamic.container.autoScale}&quot;, ru = &quot;400&quot;)\r\n    public class FruitsContainer(){\r\n    .....\r\n    }\r\n\r\nKindly let me know how can I achieve this?","title":"How to give boolean value in @Container in spring data cosmos?","body":"<p>In the below code, I am not able to set autoScale from the configuration property. I am getting errors as &quot;expected boolean but the string is supplied&quot;.</p>\n<pre><code>@Container(containerName = &quot;${dynamic.container.name}&quot;\n        , autoScale = &quot;${dynamic.container.autoScale}&quot;, ru = &quot;400&quot;)\npublic class FruitsContainer(){\n.....\n}\n</code></pre>\n<p>Kindly let me know how can I achieve this?</p>\n"},{"tags":["java","android","pdf","mediastore","android-external-storage"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1634195573,"post_id":69566010,"comment_id":122961186,"body_markdown":"For Q+ use .RELATIVE_PATH instead of .DATA.","body":"For Q+ use .RELATIVE_PATH instead of .DATA."},{"owner":{"account_id":21910204,"reputation":68,"user_id":16194758,"display_name":"Asad Ullah"},"score":0,"creation_date":1634197738,"post_id":69566010,"comment_id":122961956,"body_markdown":"@blackapps  I tried that and it is not showing any documents in both Android 11 and lower versions","body":"@blackapps  I tried that and it is not showing any documents in both Android 11 and lower versions"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1634198298,"post_id":69566010,"comment_id":122962195,"body_markdown":"Show your adapted code. Those documents are created by your app?","body":"Show your adapted code. Those documents are created by your app?"},{"owner":{"account_id":4196468,"reputation":3437,"user_id":3437758,"accept_rate":83,"display_name":"Niklas P"},"score":0,"creation_date":1634290484,"post_id":69566010,"comment_id":122990119,"body_markdown":"Please start with what you do (app for android) and specify how you test it / on which (virtual) device and for which android version you develop. Thank you.","body":"Please start with what you do (app for android) and specify how you test it / on which (virtual) device and for which android version you develop. Thank you."}],"owner":{"account_id":21910204,"reputation":68,"user_id":16194758,"display_name":"Asad Ullah"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1634707547,"creation_date":1634193033,"question_id":69566010,"body_markdown":"I am trying to build a Pdf Scanner Android application for api level 21 and above, in the app I have an option to show and manage all the pdf files created by the application through the application.\r\nI want to fetch Pdf files from Documents/PDFScanner folder and show them in a fragment. So far I am getting empty array but I have Pdf files in the folder.\r\nI have tested the code on Android 11 and Android 8.1 devices.\r\nhere is my function to get pdf files\r\n\r\n\r\n\r\n    private void getPDFFilesFromDirecotry() {\r\n        Uri collection = null;\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n            collection = MediaStore.Files.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY);\r\n        } else {\r\n            collection = MediaStore.Files.getContentUri(&quot;external&quot;);\r\n        }\r\n\r\n        String[] projection = {MediaStore.Files.FileColumns._ID, MediaStore.Files.FileColumns.DISPLAY_NAME};\r\n\r\n        Cursor mediaCursor = applicationContext.getContentResolver().query(collection,\r\n                projection,\r\n                MediaStore.MediaColumns.DATA + &quot; LIKE?&quot;,\r\n                new String[]{Environment.DIRECTORY_DOCUMENTS + &quot;/PDFScanner&quot;},\r\n                null);\r\n\r\n        Log.e(&quot;TAG&quot;, &quot;Message: &quot; + mediaCursor.getCount());\r\n        if (mediaCursor == null || mediaCursor.getCount() &lt;= 0 || !mediaCursor.moveToFirst()) {\r\n            Log.e(&quot;tag&quot;,&quot;No data&quot;);\r\n            return;\r\n        }\r\n        String mimetype = MimeTypeMap.getSingleton().getMimeTypeFromExtension(&quot;pdf&quot;);\r\n        MediaScannerConnection.scanFile(applicationContext, new String[]{file.getPath()}, new String[]{mimetype}, null);\r\n\r\n        while (mediaCursor.moveToNext()) {\r\n            Log.e(&quot;TAG&quot;, &quot;Message: &quot;);\r\n            String path = mediaCursor.getString(mediaCursor.getColumnIndex(MediaStore.MediaColumns.BUCKET_DISPLAY_NAME));\r\n            Log.e(&quot;TAG&quot;, &quot;getPDFFilesFromDirectory Path: &quot; + path);\r\n            if (path != null) {\r\n                ivNoData.setVisibility(View.GONE);\r\n                file = new File(path);\r\n\r\n                String name = file.getName();\r\n                int position = name.lastIndexOf(&quot;.&quot;);\r\n                if (position &gt; 0 &amp;&amp; position &lt; name.length() - 1) {\r\n                    name = name.substring(0, position);\r\n                }\r\n                Date dateinMillis = new Date(file.lastModified());\r\n                @SuppressLint(&quot;SimpleDateFormat&quot;)\r\n                SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MMM-yy hh.mm a&quot;);\r\n                String date = dateFormat.format(dateinMillis);\r\n                String size = formatSize(file.length());\r\n\r\n                viewFilesArray.add(new ViewFilesModel(path, name, size, date));\r\n            }\r\n        }\r\n        mediaCursor.close();\r\n\r\n        Log.e(&quot;TAG&quot;, &quot;getPDFFilesFromDirectory: &quot; + viewFilesArray.size());\r\n        filesAdapter.notifyDataSetChanged();\r\n    }\r\n\r\n\r\nThanks for the help.","title":"Showing Pdf files from a specific folder, into a fragment","body":"<p>I am trying to build a Pdf Scanner Android application for api level 21 and above, in the app I have an option to show and manage all the pdf files created by the application through the application.\nI want to fetch Pdf files from Documents/PDFScanner folder and show them in a fragment. So far I am getting empty array but I have Pdf files in the folder.\nI have tested the code on Android 11 and Android 8.1 devices.\nhere is my function to get pdf files</p>\n<pre><code>private void getPDFFilesFromDirecotry() {\n    Uri collection = null;\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n        collection = MediaStore.Files.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY);\n    } else {\n        collection = MediaStore.Files.getContentUri(&quot;external&quot;);\n    }\n\n    String[] projection = {MediaStore.Files.FileColumns._ID, MediaStore.Files.FileColumns.DISPLAY_NAME};\n\n    Cursor mediaCursor = applicationContext.getContentResolver().query(collection,\n            projection,\n            MediaStore.MediaColumns.DATA + &quot; LIKE?&quot;,\n            new String[]{Environment.DIRECTORY_DOCUMENTS + &quot;/PDFScanner&quot;},\n            null);\n\n    Log.e(&quot;TAG&quot;, &quot;Message: &quot; + mediaCursor.getCount());\n    if (mediaCursor == null || mediaCursor.getCount() &lt;= 0 || !mediaCursor.moveToFirst()) {\n        Log.e(&quot;tag&quot;,&quot;No data&quot;);\n        return;\n    }\n    String mimetype = MimeTypeMap.getSingleton().getMimeTypeFromExtension(&quot;pdf&quot;);\n    MediaScannerConnection.scanFile(applicationContext, new String[]{file.getPath()}, new String[]{mimetype}, null);\n\n    while (mediaCursor.moveToNext()) {\n        Log.e(&quot;TAG&quot;, &quot;Message: &quot;);\n        String path = mediaCursor.getString(mediaCursor.getColumnIndex(MediaStore.MediaColumns.BUCKET_DISPLAY_NAME));\n        Log.e(&quot;TAG&quot;, &quot;getPDFFilesFromDirectory Path: &quot; + path);\n        if (path != null) {\n            ivNoData.setVisibility(View.GONE);\n            file = new File(path);\n\n            String name = file.getName();\n            int position = name.lastIndexOf(&quot;.&quot;);\n            if (position &gt; 0 &amp;&amp; position &lt; name.length() - 1) {\n                name = name.substring(0, position);\n            }\n            Date dateinMillis = new Date(file.lastModified());\n            @SuppressLint(&quot;SimpleDateFormat&quot;)\n            SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MMM-yy hh.mm a&quot;);\n            String date = dateFormat.format(dateinMillis);\n            String size = formatSize(file.length());\n\n            viewFilesArray.add(new ViewFilesModel(path, name, size, date));\n        }\n    }\n    mediaCursor.close();\n\n    Log.e(&quot;TAG&quot;, &quot;getPDFFilesFromDirectory: &quot; + viewFilesArray.size());\n    filesAdapter.notifyDataSetChanged();\n}\n</code></pre>\n<p>Thanks for the help.</p>\n"},{"tags":["java","automated-tests","rest-assured"],"comments":[{"owner":{"account_id":1249654,"reputation":159460,"user_id":1210329,"display_name":"geocodezip"},"score":0,"creation_date":1610412149,"post_id":65676481,"comment_id":116119616,"body_markdown":"perhaps you need to return a  stringified JSON object.","body":"perhaps you need to return a  stringified JSON object."},{"owner":{"account_id":13296527,"reputation":29,"user_id":9599369,"display_name":"Don Bosco Joseph"},"score":0,"creation_date":1610412781,"post_id":65676481,"comment_id":116119715,"body_markdown":"@geocodezip I am not having any issues with service response. I am having trouble at setting the request body as true/false","body":"@geocodezip I am not having any issues with service response. I am having trouble at setting the request body as true/false"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1610412792,"post_id":65676481,"comment_id":116119721,"body_markdown":"A solitary primitive is not valid json. It must either be a map or an array of maps. Try `.body(Map.of(&quot;value&quot;, true)`","body":"A solitary primitive is not valid json. It must either be a map or an array of maps. Try <code>.body(Map.of(&quot;value&quot;, true)</code>"},{"owner":{"account_id":18268879,"reputation":25,"user_id":13300032,"display_name":"Robert Kovalauskis"},"score":0,"creation_date":1634707440,"post_id":65676481,"comment_id":123095910,"body_markdown":"Maybe try providing &#39;true&#39; as a String instead of a Boolean?","body":"Maybe try providing &#39;true&#39; as a String instead of a Boolean?"},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1634709890,"post_id":65676481,"comment_id":123094455,"body_markdown":"Please take screenshot of postman request.","body":"Please take screenshot of postman request."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610445816,"creation_date":1610412870,"answer_id":65676597,"question_id":65676481,"body_markdown":"A solitary primitive is not valid json, which you have specified it is via `contentType(ContentType.JSON)`.\r\n\r\nThe body must either be an object/map or an array of objects/maps.\r\n\r\nTry\r\n    \r\n    .body(Map.of(&quot;value&quot;, true))","title":"How to send boolean as a json body in rest-assured","body":"<p>A solitary primitive is not valid json, which you have specified it is via <code>contentType(ContentType.JSON)</code>.</p>\n<p>The body must either be an object/map or an array of objects/maps.</p>\n<p>Try</p>\n<pre><code>.body(Map.of(&quot;value&quot;, true))\n</code></pre>\n"}],"owner":{"account_id":13296527,"reputation":29,"user_id":9599369,"display_name":"Don Bosco Joseph"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":886,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1634707440,"creation_date":1610411810,"question_id":65676481,"body_markdown":"I have a PUT service where the request body is either true or false. The service is working fine in Postman with Content-Type as application/json. But it is failing when I try the same with Rest-Assured and I am getting the error saying  &#39;A JSONObject text must begin with &#39;{&#39; &#39;\r\n\r\nbelow is my code:\r\n\r\n    RestAssured.given()\r\n                    .contentType(ContentType.JSON)\r\n                    .accept(ContentType.ANY)\r\n                    .body(true)\r\n                    .put(sUrl)\r\n                    .then().log().ifError()\r\n                    .statusCode(Matchers.greaterThanOrEqualTo(200))\r\n                    .statusCode(Matchers.lessThanOrEqualTo(299))\r\n                    .extract()\r\n                    .response();\r\n\r\nLet me know if you are aware of any solution for this.","title":"How to send boolean as a json body in rest-assured","body":"<p>I have a PUT service where the request body is either true or false. The service is working fine in Postman with Content-Type as application/json. But it is failing when I try the same with Rest-Assured and I am getting the error saying  'A JSONObject text must begin with '{' '</p>\n<p>below is my code:</p>\n<pre><code>RestAssured.given()\n                .contentType(ContentType.JSON)\n                .accept(ContentType.ANY)\n                .body(true)\n                .put(sUrl)\n                .then().log().ifError()\n                .statusCode(Matchers.greaterThanOrEqualTo(200))\n                .statusCode(Matchers.lessThanOrEqualTo(299))\n                .extract()\n                .response();\n</code></pre>\n<p>Let me know if you are aware of any solution for this.</p>\n"},{"tags":["java","android","json"],"answers":[{"tags":[],"owner":{"account_id":8613610,"reputation":379,"user_id":6451314,"display_name":"Jose Antonio Dominguez Garcia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634597587,"creation_date":1634597587,"answer_id":69623390,"question_id":69623278,"body_markdown":"With the Arrays.asList () utility method you can do what you want.\r\nNote only works with primitive data types.\r\n\r\n    List&lt;String&gt; list = Arrays.asList(fruits);\r\n\r\n;)","title":"Convert the list to String from JSON response","body":"<p>With the Arrays.asList () utility method you can do what you want.\nNote only works with primitive data types.</p>\n<pre><code>List&lt;String&gt; list = Arrays.asList(fruits);\n</code></pre>\n<p>;)</p>\n"},{"tags":[],"owner":{"account_id":16429226,"reputation":1519,"user_id":11868502,"display_name":"Saurabh Dhage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634616713,"creation_date":1634616713,"answer_id":69625020,"question_id":69623278,"body_markdown":"### Delete First and Last character using `StringBuffer`\r\n \r\n    String fruits = remoteMessage.getData().get(&quot;fruits&quot;); \r\n    StringBuffer sb=new StringBuffer(fruits);\r\n    sb.deleteCharAt(0);\r\n    sb.deleteCharAt(sb.length()-1);\r\n    fruits = sb.toString();\r\n\r\n\r\n### Output\r\n\r\n \r\n\r\n     &quot;California Apple&quot;, &quot;Mango&quot;, &quot;Mexico Original Banana&quot;\r\n\r\n","title":"Convert the list to String from JSON response","body":"<h3>Delete First and Last character using <code>StringBuffer</code></h3>\n<pre><code>String fruits = remoteMessage.getData().get(&quot;fruits&quot;); \nStringBuffer sb=new StringBuffer(fruits);\nsb.deleteCharAt(0);\nsb.deleteCharAt(sb.length()-1);\nfruits = sb.toString();\n</code></pre>\n<h3>Output</h3>\n<pre><code> &quot;California Apple&quot;, &quot;Mango&quot;, &quot;Mexico Original Banana&quot;\n</code></pre>\n"}],"owner":{"account_id":20553557,"reputation":41,"user_id":15085693,"display_name":"Abhishek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1634707223,"creation_date":1634596533,"question_id":69623278,"body_markdown":"I am getting a list from the json response that I want to convert to strings.\r\n\r\n    String fruits = remoteMessage.getData().get(&quot;fruits&quot;);\r\n\r\nThe above line gives me the following response,\r\n\r\n    [&quot;California Apple&quot;,&quot;Mango&quot;,&quot;Mexico Original Banana&quot;]\r\n\r\nNow, what I need is,\r\n\r\n    &quot;California Apple&quot;, &quot;Mango&quot;, &quot;Mexico Original Banana&quot;\r\n\r\nHow could this be achieved?","title":"Convert the list to String from JSON response","body":"<p>I am getting a list from the json response that I want to convert to strings.</p>\n<pre><code>String fruits = remoteMessage.getData().get(&quot;fruits&quot;);\n</code></pre>\n<p>The above line gives me the following response,</p>\n<pre><code>[&quot;California Apple&quot;,&quot;Mango&quot;,&quot;Mexico Original Banana&quot;]\n</code></pre>\n<p>Now, what I need is,</p>\n<pre><code>&quot;California Apple&quot;, &quot;Mango&quot;, &quot;Mexico Original Banana&quot;\n</code></pre>\n<p>How could this be achieved?</p>\n"},{"tags":["java","json","transform","jolt"],"answers":[{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634655750,"creation_date":1634655062,"answer_id":69633078,"question_id":69632121,"body_markdown":"You can use a **shift** transformation as below \r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: { //might be replaced with &quot;data&quot;\r\n        &quot;*&quot;: {\r\n          &quot;*&quot;: //might be replaced with &quot;items&quot;\r\n          { \r\n            &quot;@&quot;: &quot;&quot; \r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\nwhere the asterisks wildcards represent the array **data**, its indexes, and the array **items** respectively. The **&quot;@&quot;:&quot;&quot;** represents the **items** as array of objects with no key.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Bxo0j.jpg","title":"Jolt transform: extract nested array from an object","body":"<p>You can use a <strong>shift</strong> transformation as below</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: { //might be replaced with &quot;data&quot;\n        &quot;*&quot;: {\n          &quot;*&quot;: //might be replaced with &quot;items&quot;\n          { \n            &quot;@&quot;: &quot;&quot; \n          }\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>where the asterisks wildcards represent the array <strong>data</strong>, its indexes, and the array <strong>items</strong> respectively. The <strong>&quot;@&quot;:&quot;&quot;</strong> represents the <strong>items</strong> as array of objects with no key.</p>\n<p><a href=\"https://i.stack.imgur.com/Bxo0j.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Bxo0j.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":7985565,"reputation":35,"user_id":6025221,"display_name":"S R"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634661846,"creation_date":1634660651,"answer_id":69634499,"question_id":69632121,"body_markdown":"Alternative Spec: \r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;data&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;items&quot;: &quot;&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```","title":"Jolt transform: extract nested array from an object","body":"<p>Alternative Spec:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;data&quot;: {\n        &quot;*&quot;: {\n          &quot;items&quot;: &quot;&quot;\n        }\n      }\n    }\n  }\n]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20371271,"reputation":11,"user_id":14943428,"display_name":"Chhavi Jajoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634707040,"creation_date":1634670711,"answer_id":69636480,"question_id":69632121,"body_markdown":" \r\n\r\n   Here is the answer\r\n    \r\n    [{\r\n      &quot;operation&quot;: &quot;shift&quot;,\r\n      &quot;spec&quot;: {\r\n        &quot;data&quot;: {\r\n          &quot;0&quot;: {\r\n            &quot;*&quot;: &quot;&quot;\r\n          }\r\n        }\r\n      }\r\n    }]\r\n\r\n","title":"Jolt transform: extract nested array from an object","body":"<p>Here is the answer</p>\n<pre><code>[{\n  &quot;operation&quot;: &quot;shift&quot;,\n  &quot;spec&quot;: {\n    &quot;data&quot;: {\n      &quot;0&quot;: {\n        &quot;*&quot;: &quot;&quot;\n      }\n    }\n  }\n}]\n</code></pre>\n"}],"owner":{"account_id":7985565,"reputation":35,"user_id":6025221,"display_name":"S R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":737,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69633078,"answer_count":3,"score":0,"last_activity_date":1634707040,"creation_date":1634651482,"question_id":69632121,"body_markdown":"I have JSON Input as below\r\n```json\r\n{\r\n  &quot;data&quot;: [\r\n    {\r\n      &quot;items&quot;: [\r\n        {\r\n          &quot;item&quot;: &quot;R11&quot;,\r\n          &quot;code&quot;: &quot;8611A&quot;\r\n        },\r\n        {\r\n          &quot;item&quot;: &quot;R2&quot;,\r\n          &quot;code&quot;: &quot;8611B&quot;\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```\r\nI need to extract items array as below \r\n```json\r\n[\r\n  {\r\n    &quot;item&quot;: &quot;R11&quot;,\r\n    &quot;code&quot;: &quot;8611A&quot;\r\n  },\r\n  {\r\n    &quot;item&quot;: &quot;R2&quot;,\r\n    &quot;code&quot;: &quot;8611B&quot;\r\n  }\r\n]\r\n```\r\nPlease copy and paste the above INPUT and OUTPUT &lt;https://jolt-demo.appspot.com/#inception&gt;\r\nI have tested  ```[{&quot;operation&quot;:&quot;shift&quot;,&quot;spec&quot;:{&quot;data&quot;:{&quot;*&quot;:&quot;&quot;}}}]``` \r\nBut it returns ```{&quot;items&quot; : [ {...}, {...} ] }```","title":"Jolt transform: extract nested array from an object","body":"<p>I have JSON Input as below</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;data&quot;: [\n    {\n      &quot;items&quot;: [\n        {\n          &quot;item&quot;: &quot;R11&quot;,\n          &quot;code&quot;: &quot;8611A&quot;\n        },\n        {\n          &quot;item&quot;: &quot;R2&quot;,\n          &quot;code&quot;: &quot;8611B&quot;\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n<p>I need to extract items array as below</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;item&quot;: &quot;R11&quot;,\n    &quot;code&quot;: &quot;8611A&quot;\n  },\n  {\n    &quot;item&quot;: &quot;R2&quot;,\n    &quot;code&quot;: &quot;8611B&quot;\n  }\n]\n</code></pre>\n<p>Please copy and paste the above INPUT and OUTPUT <a href=\"https://jolt-demo.appspot.com/#inception\" rel=\"nofollow noreferrer\">https://jolt-demo.appspot.com/#inception</a>\nI have tested  <code>[{&quot;operation&quot;:&quot;shift&quot;,&quot;spec&quot;:{&quot;data&quot;:{&quot;*&quot;:&quot;&quot;}}}]</code>\nBut it returns <code>{&quot;items&quot; : [ {...}, {...} ] }</code></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8065,"page":1927,"page_size":100}
