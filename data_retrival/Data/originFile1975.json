{"items":[{"tags":["java","c++","graalvm","polyglot"],"comments":[{"owner":{"account_id":1093963,"reputation":3605,"user_id":1087978,"display_name":"Oleg Å elajev"},"score":0,"creation_date":1593466088,"post_id":62631226,"comment_id":110786752,"body_markdown":"I think c++ by default mangles the names, so the member search doesn&#39;t find it. Maybe you can try it with: `extern &quot;C&quot; int imprimemensaje() {`, but I don&#39;t know the right answer","body":"I think c++ by default mangles the names, so the member search doesn&#39;t find it. Maybe you can try it with: <code>extern &quot;C&quot; int imprimemensaje() {</code>, but I don&#39;t know the right answer"},{"owner":{"account_id":18257993,"reputation":115,"user_id":13291441,"display_name":"Antonio"},"score":0,"creation_date":1594950250,"post_id":62631226,"comment_id":111313004,"body_markdown":"It does&#39;t work, but thanks. I change the language for C and create and .o executable. Now I can read it from context in Java GraalVM.","body":"It does&#39;t work, but thanks. I change the language for C and create and .o executable. Now I can read it from context in Java GraalVM."}],"owner":{"account_id":18257993,"reputation":115,"user_id":13291441,"display_name":"Antonio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633351581,"creation_date":1593404870,"question_id":62631226,"body_markdown":"I&#39;m working with GraalVM coding in Java and C++ as polyglot code. I have this code to print in C++ with Java:\r\n\r\n**printMessage.cpp C++ code:**\r\n``` \r\n#include &lt;iostream&gt;\r\n\r\nint imprimemensaje(std::string s);\r\n\r\nint main() {\r\n    int imprimemensaje(std::string s);\r\n    std::cout &lt;&lt; &quot;Hello, C++ World!&quot; &lt;&lt; std::endl;\r\n    int a = imprimemensaje(&quot;Hola mundo c++&quot;);\r\n}\r\n\r\nint imprimemensaje(std::string s){\r\n    std::cout &lt;&lt; &quot;Mensaje desde c++ : &quot; &lt;&lt; s &lt;&lt; std::endl;\r\n    return 0;\r\n}\r\n```\r\n\r\nand this code in **Java to execute C++ object using execute():**\r\n``` \r\nFile file = new File(&quot;printMessage&quot;);\r\nSource source = Source.newBuilder(&quot;llvm&quot;, file).build();    \r\nValue cpart = context.eval(source);\r\ncpart.execute();\r\n```\r\n\r\nAnd print on screen this:\r\n\r\n*Hello, C++ World!\r\nMensaje desde c++ : Hola mundo c++*\r\n\r\nI need to call only **imprimemensaje()** function to send data from Java, I tried with *cpart.getMember(&quot;IDmember&quot;)* method, but it retrieves me a null value, also *cpart.getMemberKeys()* has no items on it. \r\n\r\nDoes anyone know why this happened or is there another way to send data to c++ object through Java? Thanks.","title":"Send data from Java to C++ Graalvm","body":"<p>I'm working with GraalVM coding in Java and C++ as polyglot code. I have this code to print in C++ with Java:</p>\n<p><strong>printMessage.cpp C++ code:</strong></p>\n<pre><code>#include &lt;iostream&gt;\n\nint imprimemensaje(std::string s);\n\nint main() {\n    int imprimemensaje(std::string s);\n    std::cout &lt;&lt; &quot;Hello, C++ World!&quot; &lt;&lt; std::endl;\n    int a = imprimemensaje(&quot;Hola mundo c++&quot;);\n}\n\nint imprimemensaje(std::string s){\n    std::cout &lt;&lt; &quot;Mensaje desde c++ : &quot; &lt;&lt; s &lt;&lt; std::endl;\n    return 0;\n}\n</code></pre>\n<p>and this code in <strong>Java to execute C++ object using execute():</strong></p>\n<pre><code>File file = new File(&quot;printMessage&quot;);\nSource source = Source.newBuilder(&quot;llvm&quot;, file).build();    \nValue cpart = context.eval(source);\ncpart.execute();\n</code></pre>\n<p>And print on screen this:</p>\n<p><em>Hello, C++ World!\nMensaje desde c++ : Hola mundo c++</em></p>\n<p>I need to call only <strong>imprimemensaje()</strong> function to send data from Java, I tried with <em>cpart.getMember(&quot;IDmember&quot;)</em> method, but it retrieves me a null value, also <em>cpart.getMemberKeys()</em> has no items on it.</p>\n<p>Does anyone know why this happened or is there another way to send data to c++ object through Java? Thanks.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1632695726,"post_id":69339417,"comment_id":122555521,"body_markdown":"Add a `getTypeDescription` method which converts the type to a human readable value.  Oh, and get rid of `static`, otherwise all your cards will have the same value","body":"Add a <code>getTypeDescription</code> method which converts the type to a human readable value.  Oh, and get rid of <code>static</code>, otherwise all your cards will have the same value"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1632704278,"post_id":69339417,"comment_id":122556735,"body_markdown":"Fix your formatting for code: Either indent by four spaces, or wrap in a pair of triple back-ticks.","body":"Fix your formatting for code: Either indent by four spaces, or wrap in a pair of triple back-ticks."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632704512,"creation_date":1632695994,"answer_id":69339509,"question_id":69339417,"body_markdown":"Drop `static`.  This is not how it should be used and isn&#39;t going to help you in this situation.  As it is, each `Card` would have the same value, no matter how you changed it.\r\n\r\nYou could add a `description` method, to convert the `char` to human readable `String`, for example\r\n\r\n    public class Card {\r\n\r\n        private char type;\r\n        private int number;\r\n\r\n        public char getType() {\r\n            return type;\r\n        }\r\n\r\n        public void setType(char type) {\r\n            this.type = type;\r\n        }\r\n\r\n        public int getNumber() {\r\n            return number;\r\n        }\r\n\r\n        public void setNumber(int number) {\r\n            this.number = number;\r\n        }\r\n        \r\n        public String getTypeDescription() {\r\n            switch (getType()) {\r\n                case &#39;c&#39;: return &quot;Clubs&quot;;\r\n                case &#39;h&#39;: return &quot;Hearts&quot;;\r\n                case &#39;d&#39;: return &quot;Dimonds&quot;;\r\n                case &#39;s&#39;: return &quot;Spads&quot;;\r\n            }\r\n            \r\n            return &quot;---&quot;;\r\n        }\r\n    }\r\n\r\n&gt; Why not just override `toString`\r\n\r\n&#128531;.  IMHO people jump on `toString` way too early and misuse it.  Now ask yourself, what happens if you also want to show the `suit` and `number` at different points (and not all the time)?  You can&#39;t modify `toString` to do this, and you&#39;ve constrained its use to a single use case.  So, instead, we provide the means for the developer to make better decisions about what they want, instead of forcing it on them.\r\n\r\nPersonally, `toString` is really, really useful for debugging.\r\n\r\nNow, if you really wanted to do something &quot;fancy&quot;, you could create a `Suit` `enum` with a customised `toString` method...\r\n\r\n    enum Suit {\r\n        CLUBS {\r\n            @Override\r\n            public String toString() {\r\n                return &quot;Clubs&quot;;\r\n            }\r\n        },\r\n        HEARTS {\r\n            @Override\r\n            public String toString() {\r\n                return &quot;Hearts&quot;;\r\n            }\r\n        },\r\n        DIAMONDS {\r\n            @Override\r\n            public String toString() {\r\n                return &quot;Diamonds&quot;;\r\n            }\r\n        }, SPADES {\r\n            @Override\r\n            public String toString() {\r\n                return &quot;Spades&quot;;\r\n            }\r\n        };\r\n    }\r\n\r\nThen just update the `Card` class to support it...\r\n\r\n    public class Card {\r\n\r\n        private Suit type;\r\n        private int number;\r\n\r\n        public Suit getType() {\r\n            return type;\r\n        }\r\n\r\n        public void setType(Suit type) {\r\n            this.type = type;\r\n        }\r\n\r\n        public int getNumber() {\r\n            return number;\r\n        }\r\n\r\n        public void setNumber(int number) {\r\n            this.number = number;\r\n        }\r\n    }\r\n\r\nAnd then you can just use it something like ...\r\n\r\n    Card card = new Card();\r\n    card.setType(Suit.CLUBS);\r\n\r\n    System.out.println(card.getType());\r\n\r\n&gt; But now you&#39;re overriding `toString`, I&#39;m confused\r\n\r\nYes, I don&#39;t blame you.  For every rule, there is an exception &#128521;\r\n\r\nIf you have a look at the JavaDocs for [`enum`](https://docs.oracle.com/javase/10/docs/api/java/lang/Enum.html#name()) it actually states:\r\n\r\n&gt; **Most programmers should use the toString() method in preference to this one, as the toString method may return a more user-friendly name**\r\n\r\nIn this particular case, you&#39;re very unlikely going to want to change what is returned from `toString`.  If you&#39;d prefer to return a emoji instead, then I&#39;d actually supply that via a seperate method, but that&#39;s me","title":"Java, change char to string","body":"<p>Drop <code>static</code>.  This is not how it should be used and isn't going to help you in this situation.  As it is, each <code>Card</code> would have the same value, no matter how you changed it.</p>\n<p>You could add a <code>description</code> method, to convert the <code>char</code> to human readable <code>String</code>, for example</p>\n<pre><code>public class Card {\n\n    private char type;\n    private int number;\n\n    public char getType() {\n        return type;\n    }\n\n    public void setType(char type) {\n        this.type = type;\n    }\n\n    public int getNumber() {\n        return number;\n    }\n\n    public void setNumber(int number) {\n        this.number = number;\n    }\n    \n    public String getTypeDescription() {\n        switch (getType()) {\n            case 'c': return &quot;Clubs&quot;;\n            case 'h': return &quot;Hearts&quot;;\n            case 'd': return &quot;Dimonds&quot;;\n            case 's': return &quot;Spads&quot;;\n        }\n        \n        return &quot;---&quot;;\n    }\n}\n</code></pre>\n<blockquote>\n<p>Why not just override <code>toString</code></p>\n</blockquote>\n<p>ðŸ˜“.  IMHO people jump on <code>toString</code> way too early and misuse it.  Now ask yourself, what happens if you also want to show the <code>suit</code> and <code>number</code> at different points (and not all the time)?  You can't modify <code>toString</code> to do this, and you've constrained its use to a single use case.  So, instead, we provide the means for the developer to make better decisions about what they want, instead of forcing it on them.</p>\n<p>Personally, <code>toString</code> is really, really useful for debugging.</p>\n<p>Now, if you really wanted to do something &quot;fancy&quot;, you could create a <code>Suit</code> <code>enum</code> with a customised <code>toString</code> method...</p>\n<pre><code>enum Suit {\n    CLUBS {\n        @Override\n        public String toString() {\n            return &quot;Clubs&quot;;\n        }\n    },\n    HEARTS {\n        @Override\n        public String toString() {\n            return &quot;Hearts&quot;;\n        }\n    },\n    DIAMONDS {\n        @Override\n        public String toString() {\n            return &quot;Diamonds&quot;;\n        }\n    }, SPADES {\n        @Override\n        public String toString() {\n            return &quot;Spades&quot;;\n        }\n    };\n}\n</code></pre>\n<p>Then just update the <code>Card</code> class to support it...</p>\n<pre><code>public class Card {\n\n    private Suit type;\n    private int number;\n\n    public Suit getType() {\n        return type;\n    }\n\n    public void setType(Suit type) {\n        this.type = type;\n    }\n\n    public int getNumber() {\n        return number;\n    }\n\n    public void setNumber(int number) {\n        this.number = number;\n    }\n}\n</code></pre>\n<p>And then you can just use it something like ...</p>\n<pre><code>Card card = new Card();\ncard.setType(Suit.CLUBS);\n\nSystem.out.println(card.getType());\n</code></pre>\n<blockquote>\n<p>But now you're overriding <code>toString</code>, I'm confused</p>\n</blockquote>\n<p>Yes, I don't blame you.  For every rule, there is an exception ðŸ˜‰</p>\n<p>If you have a look at the JavaDocs for <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/Enum.html#name()\" rel=\"nofollow noreferrer\"><code>enum</code></a> it actually states:</p>\n<blockquote>\n<p><strong>Most programmers should use the toString() method in preference to this one, as the toString method may return a more user-friendly name</strong></p>\n</blockquote>\n<p>In this particular case, you're very unlikely going to want to change what is returned from <code>toString</code>.  If you'd prefer to return a emoji instead, then I'd actually supply that via a seperate method, but that's me</p>\n"}],"owner":{"account_id":21508083,"reputation":1,"user_id":15851182,"display_name":"llillillill"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1633351379,"creation_date":1632695080,"question_id":69339417,"body_markdown":"```\r\nimport java.util.Random;\r\n\r\npublic class PickTwoCards {\r\n\r\n    final static int CardNumbers = 13;\r\n    final static char[] Types = {&#39;c&#39;,&#39;h&#39;,&#39;d&#39;,&#39;s&#39;};\r\n\r\n    public static void main(String args[]){\r\n        Card CardOne = ChooseCard();\r\n        System.out.println(&quot;*****Welcome to the House of Cards*****&quot;);\r\n        System.out.println(&quot;My card is the &quot;+CardOne.GetNumber()+&quot; of &quot;+CardOne.GetType());\r\n    \r\n        Card CardTwo = ChooseCard();\r\n        System.out.println(&quot;My card is the &quot;+CardTwo.GetNumber()+&quot; of &quot;+CardTwo.GetType());\r\n    }\r\n\r\n    public static Card ChooseCard(){\r\n        Card card = new Card();\r\n        card.SetType(RandomType());\r\n        card.SetNumber(RandomNumber());\r\n        return card;\r\n    }\r\n\r\n    public static char RandomType(){\r\n        int RandomTypeKeep = new Random().nextInt(Types.length);\r\n        char RandomType = Types[RandomTypeKeep];\r\n        return RandomType;\r\n    }\r\n\r\n    public static int RandomNumber(){\r\n        int RandomCardNumber = ((int)(Math.random()*100)%CardNumbers+1);\r\n        return RandomCardNumber;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class Card {\r\n\r\n    private static char type;\r\n    private static int number;\r\n\r\n    public static char GetType() {\r\n        return type;\r\n    }\r\n\r\n    public static void SetType(char type) {\r\n        Card.type = type;\r\n    }\r\n\r\n    public static int GetNumber() {\r\n        return number;\r\n    }\r\n\r\n    public static void SetNumber(int number) {\r\n        Card.number = number;\r\n    }\r\n}\r\n```\r\n\r\nThe result should be:\r\n\r\n```\r\n*****Welcome to the House of Cards*****.\r\nMy card is the 3 of Spade.\r\nMy card is the 2 of Diamond.\r\n```\r\n\r\nI do not know how to make my result value as a string like &quot;Diamond&quot;, not a &quot;d&quot;.","title":"Java, change char to string","body":"<pre><code>import java.util.Random;\n\npublic class PickTwoCards {\n\n    final static int CardNumbers = 13;\n    final static char[] Types = {'c','h','d','s'};\n\n    public static void main(String args[]){\n        Card CardOne = ChooseCard();\n        System.out.println(&quot;*****Welcome to the House of Cards*****&quot;);\n        System.out.println(&quot;My card is the &quot;+CardOne.GetNumber()+&quot; of &quot;+CardOne.GetType());\n    \n        Card CardTwo = ChooseCard();\n        System.out.println(&quot;My card is the &quot;+CardTwo.GetNumber()+&quot; of &quot;+CardTwo.GetType());\n    }\n\n    public static Card ChooseCard(){\n        Card card = new Card();\n        card.SetType(RandomType());\n        card.SetNumber(RandomNumber());\n        return card;\n    }\n\n    public static char RandomType(){\n        int RandomTypeKeep = new Random().nextInt(Types.length);\n        char RandomType = Types[RandomTypeKeep];\n        return RandomType;\n    }\n\n    public static int RandomNumber(){\n        int RandomCardNumber = ((int)(Math.random()*100)%CardNumbers+1);\n        return RandomCardNumber;\n    }\n}\n</code></pre>\n<pre><code>public class Card {\n\n    private static char type;\n    private static int number;\n\n    public static char GetType() {\n        return type;\n    }\n\n    public static void SetType(char type) {\n        Card.type = type;\n    }\n\n    public static int GetNumber() {\n        return number;\n    }\n\n    public static void SetNumber(int number) {\n        Card.number = number;\n    }\n}\n</code></pre>\n<p>The result should be:</p>\n<pre><code>*****Welcome to the House of Cards*****.\nMy card is the 3 of Spade.\nMy card is the 2 of Diamond.\n</code></pre>\n<p>I do not know how to make my result value as a string like &quot;Diamond&quot;, not a &quot;d&quot;.</p>\n"},{"tags":["java","eclipse","svn","tortoisesvn","subclipse"],"comments":[{"owner":{"account_id":43196,"reputation":5032,"user_id":126142,"accept_rate":100,"display_name":"lucrussell"},"score":0,"creation_date":1352302643,"post_id":13272594,"comment_id":18091967,"body_markdown":"Are there any commit hooks in your SVN repo which might be trying to validate the XML file mentioned (test.xml)? This looks like an XML parsing problem (e.g. missing quote in the XML file).","body":"Are there any commit hooks in your SVN repo which might be trying to validate the XML file mentioned (test.xml)? This looks like an XML parsing problem (e.g. missing quote in the XML file)."},{"owner":{"account_id":434034,"reputation":18496,"user_id":819732,"accept_rate":80,"display_name":"kasdega"},"score":0,"creation_date":1352304068,"post_id":13272594,"comment_id":18092730,"body_markdown":"you can replace test.xml with monkey.txt.  This same error happens with any file of any format that I try to add.  It isn&#39;t validating anything in test.xml.","body":"you can replace test.xml with monkey.txt.  This same error happens with any file of any format that I try to add.  It isn&#39;t validating anything in test.xml."}],"answers":[{"tags":[],"owner":{"account_id":2019684,"reputation":402,"user_id":1806171,"display_name":"Stinodotbe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1352302602,"creation_date":1352302602,"answer_id":13272955,"question_id":13272594,"body_markdown":"I had the same issue using Aptana. Mostly this fixes itself by doing a cleanup, then a refresh, and then a cleanup again","title":"SVN commit error when adding a file","body":"<p>I had the same issue using Aptana. Mostly this fixes itself by doing a cleanup, then a refresh, and then a cleanup again</p>\n"},{"tags":[],"owner":{"account_id":4738,"reputation":10369,"user_id":7267,"accept_rate":60,"display_name":"Mark Phippard"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1352386716,"creation_date":1352386716,"answer_id":13291490,"question_id":13272594,"body_markdown":"I cannot directly answer your problem, but here is some other info that will help:\r\n\r\n* Refresh/Cleanup fix very specific problems only.  Cleanup is mainly meant to be run when there is an unexpected crash in the middle of something like update/commit.  Cleanup will remove the locks on the working copy and complete any queued transactions.  Refresh is mainly an issue for GUI tools to force them to run svn status and refresh their icons.\r\n\r\n* Uninstall/reinstall is almost always pointless.  It is not like you have corrupt files.\r\n\r\n* A fresh checkout is sometimes useful to try, especially if doing so is not painful.\r\n\r\nYour error is happening during the HTTP conversation between the client and server.  PROPFIND is one of the low-level HTTP requests that the SVN client issues to the server.  I would look for proxy servers, firewalls, anti-virus (particularly the latter) that might be getting in the way of the HTTP conversation and corrupting the data.  That is what it sounds like here.  Something is corrupting the response to the PROPFIND request.  It could be a problem with the SVN Server, but I think that is unlikely.  I think it has to be something sitting between the client and server that is interfering with the conversation.","title":"SVN commit error when adding a file","body":"<p>I cannot directly answer your problem, but here is some other info that will help:</p>\n\n<ul>\n<li><p>Refresh/Cleanup fix very specific problems only.  Cleanup is mainly meant to be run when there is an unexpected crash in the middle of something like update/commit.  Cleanup will remove the locks on the working copy and complete any queued transactions.  Refresh is mainly an issue for GUI tools to force them to run svn status and refresh their icons.</p></li>\n<li><p>Uninstall/reinstall is almost always pointless.  It is not like you have corrupt files.</p></li>\n<li><p>A fresh checkout is sometimes useful to try, especially if doing so is not painful.</p></li>\n</ul>\n\n<p>Your error is happening during the HTTP conversation between the client and server.  PROPFIND is one of the low-level HTTP requests that the SVN client issues to the server.  I would look for proxy servers, firewalls, anti-virus (particularly the latter) that might be getting in the way of the HTTP conversation and corrupting the data.  That is what it sounds like here.  Something is corrupting the response to the PROPFIND request.  It could be a problem with the SVN Server, but I think that is unlikely.  I think it has to be something sitting between the client and server that is interfering with the conversation.</p>\n"},{"tags":[],"owner":{"account_id":2355496,"reputation":1,"user_id":2063382,"display_name":"Chacha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360639390,"creation_date":1360639390,"answer_id":14824875,"question_id":13272594,"body_markdown":"I had same problem. I tried to install SVN client on all 3 of my computers (vista, xp, windows 7), all has same problem. It did not have problem when I add commit from my own server (the SVN server is in the server). It did not have problem my friend try from his own computer. I tried to reboot router, disable anti virus, non worked. I tried to reinstall so many time both SVN server and my SVN client, still same problem. \r\n\r\nFinally, I changed from http to https, and it works fine.","title":"SVN commit error when adding a file","body":"<p>I had same problem. I tried to install SVN client on all 3 of my computers (vista, xp, windows 7), all has same problem. It did not have problem when I add commit from my own server (the SVN server is in the server). It did not have problem my friend try from his own computer. I tried to reboot router, disable anti virus, non worked. I tried to reinstall so many time both SVN server and my SVN client, still same problem. </p>\n\n<p>Finally, I changed from http to https, and it works fine.</p>\n"},{"tags":[],"owner":{"account_id":12378394,"reputation":178,"user_id":9025164,"display_name":"JussiV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550651149,"creation_date":1550651149,"answer_id":54781801,"question_id":13272594,"body_markdown":"I had the same issue when trying to add my project to SVN:\r\n\r\n    svn: E175002: Processing PROPFIND request response failed: Open quote is expected for attribute &quot;lang&quot; associated with an  element type  &quot;html&quot;. (/svn/trunk/Tools/Java/Epsd2Jira) \r\n\r\nThe root cause turned out to be proxying Eclipse traffic through a company internal web gateway. As the SVN is within the company intranet, changing Eclipse network settings to use direct connection fixed the issue and I was able to commit.","title":"SVN commit error when adding a file","body":"<p>I had the same issue when trying to add my project to SVN:</p>\n\n<pre><code>svn: E175002: Processing PROPFIND request response failed: Open quote is expected for attribute \"lang\" associated with an  element type  \"html\". (/svn/trunk/Tools/Java/Epsd2Jira) \n</code></pre>\n\n<p>The root cause turned out to be proxying Eclipse traffic through a company internal web gateway. As the SVN is within the company intranet, changing Eclipse network settings to use direct connection fixed the issue and I was able to commit.</p>\n"}],"owner":{"account_id":434034,"reputation":18496,"user_id":819732,"accept_rate":80,"display_name":"kasdega"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7430,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1633350982,"creation_date":1352301448,"question_id":13272594,"body_markdown":"A couple days ago, I started getting an error when attempting to add a file to our project that is checked into SVN.  Checking out and updating still works fine but if I try to add a file I get an error that makes no sense.\r\n\r\nI&#39;m using Eclipse 4.2 and the latest version of Subclipse but I also get the same error using TortoiseSVN 1.7.10.\r\n\r\nThe error I get is:\r\n\r\n        svn: E175002: Commit failed (details follow):\r\n        svn: E175002: Commit failed (details follow):\r\n    svn: E175002: Processing PROPFIND request response failed: Open quote is expected for attribute &quot;{1}&quot; associated with an  element type  &quot;language&quot;. (/svn/myproject/trunk/database/sql/2.11/test.xml) \r\n    svn: E175002: Processing PROPFIND request response failed: Open quote is expected for attribute &quot;{1}&quot; associated with an  element type  &quot;language&quot;. (/svn/myproject/!svn/wrk/2bc65adb-3a01-0010-a3f6-67fdfc8c148b/trunk/database/sql/2.11/test.xml) \r\n        svn: E175002: Commit failed (details follow):\r\n    svn: E175002: Processing PROPFIND request response failed: Open quote is expected for attribute &quot;{1}&quot; associated with an  element type  &quot;language&quot;. (/svn/myproject/trunk/database/sql/2.11/test.xml) \r\n    svn: E175002: Processing PROPFIND request response failed: Open quote is expected for attribute &quot;{1}&quot; associated with an  element type  &quot;language&quot;. (/svn/myproject/!svn/wrk/2bc65adb-3a01-0010-a3f6-67fdfc8c148b/trunk/database/sql/2.11/test.xml) \r\n\r\nThings I&#39;ve tried:\r\n\r\n - Cleanup and refresh with both Eclipse and Tortoise \r\n - Disconnect the project from the repository and reconnect it \r\n - Uninstalled and reinstalled Tortoise \r\n - Uninstalled and reinstalled Subclipse \r\n - Checked out the repository into another project and tried to add a file in the &#39;new&#39; project but I still get the same error in the &#39;new&#39; project.\r\n\r\n**UPDATE:** When I VPN into my office&#39;s private network and use the internal IP address for the SVN repository it works just fine.  Which seems to point to either the new internet provider I&#39;m using (Charter); or to AVG which I recently switched to.  I did try the &quot;disable AVG&quot; option in AVG but still I still get the same error.\r\n\r\nDoes anyone know what this error is and how to fix it?\r\n","title":"SVN commit error when adding a file","body":"<p>A couple days ago, I started getting an error when attempting to add a file to our project that is checked into SVN.  Checking out and updating still works fine but if I try to add a file I get an error that makes no sense.</p>\n\n<p>I'm using Eclipse 4.2 and the latest version of Subclipse but I also get the same error using TortoiseSVN 1.7.10.</p>\n\n<p>The error I get is:</p>\n\n<pre><code>    svn: E175002: Commit failed (details follow):\n    svn: E175002: Commit failed (details follow):\nsvn: E175002: Processing PROPFIND request response failed: Open quote is expected for attribute \"{1}\" associated with an  element type  \"language\". (/svn/myproject/trunk/database/sql/2.11/test.xml) \nsvn: E175002: Processing PROPFIND request response failed: Open quote is expected for attribute \"{1}\" associated with an  element type  \"language\". (/svn/myproject/!svn/wrk/2bc65adb-3a01-0010-a3f6-67fdfc8c148b/trunk/database/sql/2.11/test.xml) \n    svn: E175002: Commit failed (details follow):\nsvn: E175002: Processing PROPFIND request response failed: Open quote is expected for attribute \"{1}\" associated with an  element type  \"language\". (/svn/myproject/trunk/database/sql/2.11/test.xml) \nsvn: E175002: Processing PROPFIND request response failed: Open quote is expected for attribute \"{1}\" associated with an  element type  \"language\". (/svn/myproject/!svn/wrk/2bc65adb-3a01-0010-a3f6-67fdfc8c148b/trunk/database/sql/2.11/test.xml) \n</code></pre>\n\n<p>Things I've tried:</p>\n\n<ul>\n<li>Cleanup and refresh with both Eclipse and Tortoise </li>\n<li>Disconnect the project from the repository and reconnect it </li>\n<li>Uninstalled and reinstalled Tortoise </li>\n<li>Uninstalled and reinstalled Subclipse </li>\n<li>Checked out the repository into another project and tried to add a file in the 'new' project but I still get the same error in the 'new' project.</li>\n</ul>\n\n<p><strong>UPDATE:</strong> When I VPN into my office's private network and use the internal IP address for the SVN repository it works just fine.  Which seems to point to either the new internet provider I'm using (Charter); or to AVG which I recently switched to.  I did try the \"disable AVG\" option in AVG but still I still get the same error.</p>\n\n<p>Does anyone know what this error is and how to fix it?</p>\n"},{"tags":["java","android","rest","mobile"],"answers":[{"tags":[],"owner":{"account_id":1659832,"reputation":15646,"user_id":2147481,"accept_rate":82,"display_name":"Gokul Nath KP"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633350846,"creation_date":1633350846,"answer_id":69436072,"question_id":69436030,"body_markdown":"Maybe you can create an API which can provide details like if service is up or not.\n\nOn launch of your mobile app, in loading screen or splash screen, you can check if your service is up or not! \n\nBased on the the response, you can show respective screen on mobile. \n\nIf your new service also not responding, you can set timeout on mobile app to show generic error!","title":"How to send downtime message from services to use it in mobile app","body":"<p>Maybe you can create an API which can provide details like if service is up or not.</p>\n<p>On launch of your mobile app, in loading screen or splash screen, you can check if your service is up or not!</p>\n<p>Based on the the response, you can show respective screen on mobile.</p>\n<p>If your new service also not responding, you can set timeout on mobile app to show generic error!</p>\n"}],"owner":{"account_id":12304123,"reputation":14652,"user_id":8977696,"display_name":"Arvind Chourasiya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1633350846,"creation_date":1633350672,"question_id":69436030,"body_markdown":"I am developing services/api&#39;s which are being used in mobile application. Mobile app calling those services and binding the data.\r\n\r\nI want to write services in a way so that if donwtime/maintenance is going on mobile app should bind to a particular screen.\r\n\r\nHow can I develop this structure across the services, How can I do that? ","title":"How to send downtime message from services to use it in mobile app","body":"<p>I am developing services/api's which are being used in mobile application. Mobile app calling those services and binding the data.</p>\n<p>I want to write services in a way so that if donwtime/maintenance is going on mobile app should bind to a particular screen.</p>\n<p>How can I develop this structure across the services, How can I do that?</p>\n"},{"tags":["java","selenium","selenium-chromedriver"],"comments":[{"owner":{"account_id":2229513,"reputation":5172,"user_id":1967484,"display_name":"Deadron"},"score":0,"creation_date":1633351735,"post_id":69435787,"comment_id":122728881,"body_markdown":"What do you mean by &quot;Get a file&quot;?","body":"What do you mean by &quot;Get a file&quot;?"},{"owner":{"account_id":20325805,"reputation":117,"user_id":14909278,"display_name":"mousekip"},"score":0,"creation_date":1633358358,"post_id":69435787,"comment_id":122731921,"body_markdown":"@Deadron Well have some method, which returns it. Or some way to store it, either in a variable or as a file.","body":"@Deadron Well have some method, which returns it. Or some way to store it, either in a variable or as a file."}],"owner":{"account_id":20325805,"reputation":117,"user_id":14909278,"display_name":"mousekip"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633350686,"creation_date":1633349552,"question_id":69435787,"body_markdown":"I am logging in and navigating a website using Selenium. At a certain point, I need to get a file, which I found by opening the inspector, switching to the network tab and reloading the page. The name of the file is a xhr file called &quot;history&quot;. Below is a screenshot of the inspector.\r\n\r\n[![The inspector][1]][1]\r\n\r\nI have tried using the following code (driver is a ChromeDriver, with which I opened the web page I inspected):\r\n```\r\nJavascriptExecutor js = (JavascriptExecutor) driver;\r\nSystem.out.println(js.executeScript(&quot;return history&quot;));\r\n```\r\n\r\nHowever that returns\r\n```\r\n{back={}, forward={}, go={}, length=2, pushState={}, replaceState={}, scrollRestoration=auto, state=null}\r\n```\r\n\r\nIt would be nice to have a solution, which works with Selenium but it of course is not necessary.\r\n\r\n  [1]: https://i.stack.imgur.com/KSew7.png","title":"Getting a specific file from network activity","body":"<p>I am logging in and navigating a website using Selenium. At a certain point, I need to get a file, which I found by opening the inspector, switching to the network tab and reloading the page. The name of the file is a xhr file called &quot;history&quot;. Below is a screenshot of the inspector.</p>\n<p><a href=\"https://i.stack.imgur.com/KSew7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KSew7.png\" alt=\"The inspector\" /></a></p>\n<p>I have tried using the following code (driver is a ChromeDriver, with which I opened the web page I inspected):</p>\n<pre><code>JavascriptExecutor js = (JavascriptExecutor) driver;\nSystem.out.println(js.executeScript(&quot;return history&quot;));\n</code></pre>\n<p>However that returns</p>\n<pre><code>{back={}, forward={}, go={}, length=2, pushState={}, replaceState={}, scrollRestoration=auto, state=null}\n</code></pre>\n<p>It would be nice to have a solution, which works with Selenium but it of course is not necessary.</p>\n"},{"tags":["java","api"],"comments":[{"owner":{"account_id":21615206,"reputation":298,"user_id":15941120,"display_name":"Frevelman"},"score":0,"creation_date":1633340175,"post_id":69433759,"comment_id":122724387,"body_markdown":"https://stackoverflow.com/questions/22074192/extracting-json-fields-using-java I think your question was already answered on this thread","body":"<a href=\"https://stackoverflow.com/questions/22074192/extracting-json-fields-using-java\" title=\"extracting json fields using java\">stackoverflow.com/questions/22074192/&hellip;</a> I think your question was already answered on this thread"},{"owner":{"account_id":22936374,"reputation":1,"user_id":17069796,"display_name":"coding ninja"},"score":0,"creation_date":1633344893,"post_id":69433759,"comment_id":122726184,"body_markdown":"I had just checked that but in that the readurl method is not working and plus all that codes are generating errors.","body":"I had just checked that but in that the readurl method is not working and plus all that codes are generating errors."}],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633350583,"creation_date":1633350583,"answer_id":69436010,"question_id":69433759,"body_markdown":"What you see is [JSON][1]. That is a format very widely used to transfer data around.\r\nWhat you need is a [JSON Java Library][2]. It can be used to access fields of JSON objects and even turn them into Java Objects.\r\n\r\nHere is a small example with the library I referenced above:\r\n\r\n```java\r\nJSONObject jsonObject = new JSONObject(jsonString); // jsonString is what you recieve from your call to the API\r\n// It will be the same as accessing a HashMap [key1 -&gt; value1, key2 -&gt; value2...]\r\n\r\n// Now you can access whatever you need from this jsonObject like this:\r\n\r\nSystem.out.println(jsonObject.getString(&quot;activity&quot;)); \r\n```\r\n\r\nOf course you could use your code to do this, but why reinvent the wheel?\r\nJust import this library and you&#39;re good to go.\r\n\r\n\r\n  [1]: https://www.json.org/json-en.html\r\n  [2]: https://mvnrepository.com/artifact/org.json/json","title":"how to get custom data from API in Java","body":"<p>What you see is <a href=\"https://www.json.org/json-en.html\" rel=\"nofollow noreferrer\">JSON</a>. That is a format very widely used to transfer data around.\nWhat you need is a <a href=\"https://mvnrepository.com/artifact/org.json/json\" rel=\"nofollow noreferrer\">JSON Java Library</a>. It can be used to access fields of JSON objects and even turn them into Java Objects.</p>\n<p>Here is a small example with the library I referenced above:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JSONObject jsonObject = new JSONObject(jsonString); // jsonString is what you recieve from your call to the API\n// It will be the same as accessing a HashMap [key1 -&gt; value1, key2 -&gt; value2...]\n\n// Now you can access whatever you need from this jsonObject like this:\n\nSystem.out.println(jsonObject.getString(&quot;activity&quot;)); \n</code></pre>\n<p>Of course you could use your code to do this, but why reinvent the wheel?\nJust import this library and you're good to go.</p>\n"}],"owner":{"account_id":22936374,"reputation":1,"user_id":17069796,"display_name":"coding ninja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1633350583,"creation_date":1633339884,"question_id":69433759,"body_markdown":"Iam using this API -&gt; https://www.boredapi.com/api/activity\r\nSo Iam creating a program in Java but when i retrieve data from this above API\r\nlike this -&gt; \r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.InputStreamReader;\r\n    import java.net.URL;\r\n\r\n    public class apiTest {\r\n\r\n    public static void main(String[] args) {\r\n        \r\n    String ApiFRomData;\r\n    try {\r\n        URL url_name = new URL(&quot;https://www.boredapi.com/api/activity&quot;);\r\n\r\n        BufferedReader sc = new BufferedReader(new InputStreamReader(url_name.openStream()));\r\n\r\n        // reads public IPAddress\r\n        ApiFRomData = sc.readLine().trim();\r\n        \r\n        \r\n    } catch (Exception e) {\r\n        ApiFRomData = &quot;Cannot Execute Properly&quot;;\r\n        // return &quot;connection_issue&quot;;\r\n    }\r\n    // return &quot;nothinng&quot;;\r\n    System.out.println(ApiFRomData);\r\n    }\r\n    }\r\nI get this output in console -&gt;\r\n      \r\n     {\r\n\t  &quot;activity&quot;: &quot;Learn Express.js&quot;,\r\n\t   &quot;accessibility&quot;: 0.25,\r\n\t   &quot;type&quot;: &quot;education&quot;,\r\n\t   &quot;participants&quot;: 1,\r\n\t    &quot;price&quot;: 0.1,\r\n\t    &quot;link&quot;: &quot;https://expressjs.com/&quot;,\r\n\t   &quot;key&quot;: &quot;3943506&quot;\r\n       } \r\nbut i want a custom output for example...I only want the activity not that {}bracket or that other stuff price, type etc.\r\nI only want the particular custom output \r\nIn short how can I get only activity line in output.\r\n\r\nplease help me :)","title":"how to get custom data from API in Java","body":"<p>Iam using this API -&gt; <a href=\"https://www.boredapi.com/api/activity\" rel=\"nofollow noreferrer\">https://www.boredapi.com/api/activity</a>\nSo Iam creating a program in Java but when i retrieve data from this above API\nlike this -&gt;</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.net.URL;\n\npublic class apiTest {\n\npublic static void main(String[] args) {\n    \nString ApiFRomData;\ntry {\n    URL url_name = new URL(&quot;https://www.boredapi.com/api/activity&quot;);\n\n    BufferedReader sc = new BufferedReader(new InputStreamReader(url_name.openStream()));\n\n    // reads public IPAddress\n    ApiFRomData = sc.readLine().trim();\n    \n    \n} catch (Exception e) {\n    ApiFRomData = &quot;Cannot Execute Properly&quot;;\n    // return &quot;connection_issue&quot;;\n}\n// return &quot;nothinng&quot;;\nSystem.out.println(ApiFRomData);\n}\n}\n</code></pre>\n<p>I get this output in console -&gt;</p>\n<pre><code> {\n  &quot;activity&quot;: &quot;Learn Express.js&quot;,\n   &quot;accessibility&quot;: 0.25,\n   &quot;type&quot;: &quot;education&quot;,\n   &quot;participants&quot;: 1,\n    &quot;price&quot;: 0.1,\n    &quot;link&quot;: &quot;https://expressjs.com/&quot;,\n   &quot;key&quot;: &quot;3943506&quot;\n   } \n</code></pre>\n<p>but i want a custom output for example...I only want the activity not that {}bracket or that other stuff price, type etc.\nI only want the particular custom output\nIn short how can I get only activity line in output.</p>\n<p>please help me :)</p>\n"},{"tags":["java","amazon-web-services","spring-boot","nginx","amazon-elastic-beanstalk"],"answers":[{"tags":[],"owner":{"account_id":2761833,"reputation":2264,"user_id":2378567,"accept_rate":55,"display_name":"Hugo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633350399,"creation_date":1633350399,"answer_id":69435977,"question_id":69430585,"body_markdown":"Ultimately this just goes to show that sometimes you need to step away from the computer to actually figure something out.\r\n\r\nIn my CI, when I originally switched to using `.platform` from `.ebextensions`, I forgot to change that reference everywhere in the script. I was passing `.ebextensions` to `zip` even though the folder didn&#39;t exist, as opposed to `.platform`.","title":"AWS Elastic Beanstalk NGINX configuration not working","body":"<p>Ultimately this just goes to show that sometimes you need to step away from the computer to actually figure something out.</p>\n<p>In my CI, when I originally switched to using <code>.platform</code> from <code>.ebextensions</code>, I forgot to change that reference everywhere in the script. I was passing <code>.ebextensions</code> to <code>zip</code> even though the folder didn't exist, as opposed to <code>.platform</code>.</p>\n"}],"owner":{"account_id":2761833,"reputation":2264,"user_id":2378567,"accept_rate":55,"display_name":"Hugo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1074,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1633350399,"creation_date":1633317740,"question_id":69430585,"body_markdown":"I&#39;ve been through the AWS docs and pretty much every stackoverflow answer on this topic and they all pretty much say the same thing. To configure NGINX for a Java Elastic Beanstalk app you create a folder called `.platform` in the root of your repository that looks like this:\r\n\r\n```\r\n.platform/\r\n--| nginx/\r\n----| conf.d/\r\n------ my_custom_config.conf\r\n```\r\n\r\nAnd Elastic Beanstalk will put those files in `/etc/nginx/conf.d`.\r\n\r\nHowever, I&#39;m trying this and it&#39;s not doing anything. I just see `00_application.conf` and `healthd.conf` in that folder.\r\n\r\nI&#39;ve also tried using `.ebextensions` as opposed to `.platform` even though I knew that wouldn&#39;t work because I&#39;m running Amazon Linux 2.\r\n\r\nI tried making it look like this as well:\r\n\r\n```\r\n.platform/\r\n--| nginx/\r\n----| conf.d/\r\n------| elasticbeanstalk\r\n-------- my_custom_config.conf\r\n```\r\n\r\nThis didn&#39;t work either.\r\n\r\nIt occured to me that I was specifying my JAR file in `build/libs` as opposed to having the JAR file build to the root of my repo, so I tried copying the JAR file to the root and changing the `.elasticbeanstalk/config.yml` to point there instead, but this also did nothing.\r\n\r\nAt this point I&#39;m out of ideas.\r\n\r\nPlatform is Corretto 11 running on 64bit Amazon Linux 2/3.2.6.","title":"AWS Elastic Beanstalk NGINX configuration not working","body":"<p>I've been through the AWS docs and pretty much every stackoverflow answer on this topic and they all pretty much say the same thing. To configure NGINX for a Java Elastic Beanstalk app you create a folder called <code>.platform</code> in the root of your repository that looks like this:</p>\n<pre><code>.platform/\n--| nginx/\n----| conf.d/\n------ my_custom_config.conf\n</code></pre>\n<p>And Elastic Beanstalk will put those files in <code>/etc/nginx/conf.d</code>.</p>\n<p>However, I'm trying this and it's not doing anything. I just see <code>00_application.conf</code> and <code>healthd.conf</code> in that folder.</p>\n<p>I've also tried using <code>.ebextensions</code> as opposed to <code>.platform</code> even though I knew that wouldn't work because I'm running Amazon Linux 2.</p>\n<p>I tried making it look like this as well:</p>\n<pre><code>.platform/\n--| nginx/\n----| conf.d/\n------| elasticbeanstalk\n-------- my_custom_config.conf\n</code></pre>\n<p>This didn't work either.</p>\n<p>It occured to me that I was specifying my JAR file in <code>build/libs</code> as opposed to having the JAR file build to the root of my repo, so I tried copying the JAR file to the root and changing the <code>.elasticbeanstalk/config.yml</code> to point there instead, but this also did nothing.</p>\n<p>At this point I'm out of ideas.</p>\n<p>Platform is Corretto 11 running on 64bit Amazon Linux 2/3.2.6.</p>\n"},{"tags":["java","json","java-stream"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1558014836,"post_id":56170143,"comment_id":98967021,"body_markdown":"Maybe `jsonResponse.length()` should be `jsonResponse.length()-1`?","body":"Maybe <code>jsonResponse.length()</code> should be <code>jsonResponse.length()-1</code>?"},{"owner":{"account_id":12677422,"reputation":1037,"user_id":9212562,"display_name":"Madplay"},"score":0,"creation_date":1558015060,"post_id":56170143,"comment_id":98967167,"body_markdown":"The size of ```jsonResponse``` is 2, but I think the index is 1.","body":"The size of <code>jsonResponse</code> is 2, but I think the index is 1."},{"owner":{"account_id":6826648,"reputation":133,"user_id":5252179,"accept_rate":23,"display_name":"user5252179"},"score":0,"creation_date":1558016978,"post_id":56170143,"comment_id":98968340,"body_markdown":"This code would work only if I can get rid of the json exception- IntStream.range(0, jsonResponse.length()).mapToObj(JSONObject.class:: cast).filter(o -&gt;o.get(&quot;id&quot;).equals(&quot;123&quot;)).findFirst();  Json exception is showing as compile error which is not allowing me to run my code","body":"This code would work only if I can get rid of the json exception- IntStream.range(0, jsonResponse.length()).mapToObj(JSONObject.class:: cast).filter(o -&gt;o.get(&quot;id&quot;).equals(&quot;123&quot;)).findFirst();  Json exception is showing as compile error which is not allowing me to run my code"},{"owner":{"account_id":6826648,"reputation":133,"user_id":5252179,"accept_rate":23,"display_name":"user5252179"},"score":0,"creation_date":1558017914,"post_id":56170143,"comment_id":98968957,"body_markdown":"Finally was able to suppress json exception but now getting missing return type error :(  JSONObject jsonItem = IntStream.range(0, jsonResponse.length()-1).mapToObj(JSONObject.class:: cast).filter(o -&gt; {\n                try {\n                    return o.get(&quot;id&quot;).equals(&quot;123&quot;);\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                }   \n            }).findFirst();","body":"Finally was able to suppress json exception but now getting missing return type error :(  JSONObject jsonItem = IntStream.range(0, jsonResponse.length()-1).mapToObj(JSONObject.class:: cast).filter(o -&gt; {                 try {                     return o.get(&quot;id&quot;).equals(&quot;123&quot;);                 } catch (JSONException e) {                     e.printStackTrace();                 }                }).findFirst();"}],"answers":[{"tags":[],"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558014974,"creation_date":1558014974,"answer_id":56170264,"question_id":56170143,"body_markdown":"The simple solution will be create an object corresponding to Json string. Use Jackson framework to convert from Json string to Object. Each object will have fields like id,value and other parameters. Finally, you will get an array of your object. Now iterate each object and check to get the required value or you also use Java 8 lambda to find the desired value. Besides, if you want to create an object for your json string, follow the link.\r\n\r\nhttp://www.jsonschema2pojo.org/","title":"How can I query for a value based off of key in JSONArray using stream api","body":"<p>The simple solution will be create an object corresponding to Json string. Use Jackson framework to convert from Json string to Object. Each object will have fields like id,value and other parameters. Finally, you will get an array of your object. Now iterate each object and check to get the required value or you also use Java 8 lambda to find the desired value. Besides, if you want to create an object for your json string, follow the link.</p>\n\n<p><a href=\"http://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">http://www.jsonschema2pojo.org/</a></p>\n"},{"tags":[],"owner":{"account_id":18757401,"reputation":73,"user_id":13677070,"display_name":"BigHeadNelson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633350235,"creation_date":1633350235,"answer_id":69435940,"question_id":56170143,"body_markdown":"As mentioned in previous answer, It is always recommended to have a Java Object corresponding to JSON String instead of relying more on programmatic way to parse/read JSON values. Below may be a convoluted solution for the above problem. This is not a recommended solution, just more like a puzzle solving.\r\nAlso I think you have an additional comma \r\n````&quot;value&quot;: &quot;test&quot;```` ````,````\r\nwhich I have excluded below.\r\n\r\n````\r\n    public String getJsonNodeValue(String id) {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n        return Arrays.stream((&quot;[{\\&quot;id\\&quot;: \\&quot;123\\&quot;, \\&quot;value\\&quot;: \\&quot;test\\&quot; },{ \\&quot;id\\&quot;: \\&quot;223\\&quot;, \\&quot;value\\&quot;: \\&quot;test12\\&quot;}]&quot;\r\n                        .replace(&quot;[&quot;, &quot;&quot;)\r\n                        .replace(&quot;]&quot;, &quot;&quot;)\r\n                        .split(&quot;},&quot;)))\r\n                        .filter(node -&gt; {\r\n                            try {\r\n                                JsonNode jsonNode = objectMapper.readTree(node + &quot;}&quot;);\r\n                                return id.equalsIgnoreCase(jsonNode.get(&quot;id&quot;).asText());\r\n                            } catch (IOException e) {\r\n                                e.printStackTrace();\r\n                                return false;\r\n                            }\r\n                        }).findFirst().orElse(null);\r\n    }\r\n````","title":"How can I query for a value based off of key in JSONArray using stream api","body":"<p>As mentioned in previous answer, It is always recommended to have a Java Object corresponding to JSON String instead of relying more on programmatic way to parse/read JSON values. Below may be a convoluted solution for the above problem. This is not a recommended solution, just more like a puzzle solving.\nAlso I think you have an additional comma\n<code>&quot;value&quot;: &quot;test&quot;</code> <code>,</code>\nwhich I have excluded below.</p>\n<pre><code>    public String getJsonNodeValue(String id) {\n        ObjectMapper objectMapper = new ObjectMapper();\n\n        return Arrays.stream((&quot;[{\\&quot;id\\&quot;: \\&quot;123\\&quot;, \\&quot;value\\&quot;: \\&quot;test\\&quot; },{ \\&quot;id\\&quot;: \\&quot;223\\&quot;, \\&quot;value\\&quot;: \\&quot;test12\\&quot;}]&quot;\n                        .replace(&quot;[&quot;, &quot;&quot;)\n                        .replace(&quot;]&quot;, &quot;&quot;)\n                        .split(&quot;},&quot;)))\n                        .filter(node -&gt; {\n                            try {\n                                JsonNode jsonNode = objectMapper.readTree(node + &quot;}&quot;);\n                                return id.equalsIgnoreCase(jsonNode.get(&quot;id&quot;).asText());\n                            } catch (IOException e) {\n                                e.printStackTrace();\n                                return false;\n                            }\n                        }).findFirst().orElse(null);\n    }\n</code></pre>\n"}],"owner":{"account_id":6826648,"reputation":133,"user_id":5252179,"accept_rate":23,"display_name":"user5252179"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":330,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":2,"score":-4,"last_activity_date":1633350235,"creation_date":1558014580,"question_id":56170143,"body_markdown":"I have a json array with json objects having elements -id and values.Something like this:\r\n\r\n    [\r\n        {\r\n            &quot;id&quot;: &quot;123&quot;,\r\n            &quot;value&quot;: &quot;test&quot;,\r\n           \r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;223&quot;,\r\n            &quot;value&quot;: &quot;test12&quot;,\r\n          \r\n        }\r\n    ]\r\n\r\nI need to query the JSONArray and find the value where id = 123.\r\n\r\nI tried stream api but its giving me &quot;Unhandled exception : org.JSOn.JSonException &#39;.\r\n\r\n    JSONArray jsonResponse = new JSONArray(response.asString());   \r\n    List&lt;JSONObject&gt; jsonItems = IntStream.range(0, jsonResponse.length()).mapToObj(index -&gt; (JSONObject) jsonResponse.get(index)).collect(Collectors.toList());\r\n     jsonItems.forEach(arrayElm -&gt; arrayElm.get(&quot;id&quot;).equals(&quot;123&quot;));\r\n\r\n\r\n\r\nits giving JSOnexception at &#39;jsonResponse.get(index)&#39; and at  &#39;arrayElm.get(&quot;id&quot;)&#39;.","title":"How can I query for a value based off of key in JSONArray using stream api","body":"<p>I have a json array with json objects having elements -id and values.Something like this:</p>\n\n<pre><code>[\n    {\n        \"id\": \"123\",\n        \"value\": \"test\",\n\n    },\n    {\n        \"id\": \"223\",\n        \"value\": \"test12\",\n\n    }\n]\n</code></pre>\n\n<p>I need to query the JSONArray and find the value where id = 123.</p>\n\n<p>I tried stream api but its giving me \"Unhandled exception : org.JSOn.JSonException '.</p>\n\n<pre><code>JSONArray jsonResponse = new JSONArray(response.asString());   \nList&lt;JSONObject&gt; jsonItems = IntStream.range(0, jsonResponse.length()).mapToObj(index -&gt; (JSONObject) jsonResponse.get(index)).collect(Collectors.toList());\n jsonItems.forEach(arrayElm -&gt; arrayElm.get(\"id\").equals(\"123\"));\n</code></pre>\n\n<p>its giving JSOnexception at 'jsonResponse.get(index)' and at  'arrayElm.get(\"id\")'.</p>\n"},{"tags":["java","android","mysql","android-studio"],"answers":[{"tags":[],"owner":{"account_id":22522250,"reputation":76,"user_id":16715597,"display_name":"PrzemysÅ‚aw Åšwiat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633347524,"creation_date":1633347524,"answer_id":69435357,"question_id":69435286,"body_markdown":"If you want to just get sum of all ID values, then this would work:\r\n\r\n    SELECT SUM(id) FROM name_table","title":"Fetch all values from column in mysql table and sum the values in java","body":"<p>If you want to just get sum of all ID values, then this would work:</p>\n<pre><code>SELECT SUM(id) FROM name_table\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8646729,"reputation":275,"user_id":6473711,"display_name":"Avvappa Hegadyal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633349578,"creation_date":1633348882,"answer_id":69435664,"question_id":69435286,"body_markdown":"        int sum = 0;\r\n        while (res.next()) {\r\n        int i = res.getInt(1); or rs.getString(&quot;id &quot;); //using column name\r\n        sum = sum + i;\r\n        System.out.println(sum);\r\n     OR\r\n      String q= &quot;SELECT SUM(id) as totalSum FROM tableName&quot;;\r\n      PreparedStatement pst = connectio.prepareStatement(q);\r\n      ResultSet rs = pst.executeQuery();\r\n       if (rs.next()) {\r\n        sum = rs.getString(&quot;totalSum&quot;);\r\n       System.out.print(&quot;total sum&quot; + sum);\r\n        } else {\r\n      System.out.print(&quot;Query didn&#39;t return any results&quot;);\r\n      }","title":"Fetch all values from column in mysql table and sum the values in java","body":"<pre><code>    int sum = 0;\n    while (res.next()) {\n    int i = res.getInt(1); or rs.getString(&quot;id &quot;); //using column name\n    sum = sum + i;\n    System.out.println(sum);\n OR\n  String q= &quot;SELECT SUM(id) as totalSum FROM tableName&quot;;\n  PreparedStatement pst = connectio.prepareStatement(q);\n  ResultSet rs = pst.executeQuery();\n   if (rs.next()) {\n    sum = rs.getString(&quot;totalSum&quot;);\n   System.out.print(&quot;total sum&quot; + sum);\n    } else {\n  System.out.print(&quot;Query didn't return any results&quot;);\n  }\n</code></pre>\n"}],"owner":{"account_id":20804099,"reputation":147,"user_id":15279383,"display_name":"Sasmita"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69435357,"answer_count":2,"score":0,"last_activity_date":1633349578,"creation_date":1633347235,"question_id":69435286,"body_markdown":"    Name   Id\r\n    aa      1\r\n    bb      5\r\n\r\nI use this to fetch all values from id column\r\n\r\n    SELECT id FROM name_table;\r\n\r\nI want to sum the values in the id column. To be clear, I am making a financial application and want to add up all the money recorded in the msql database ","title":"Fetch all values from column in mysql table and sum the values in java","body":"<pre><code>Name   Id\naa      1\nbb      5\n</code></pre>\n<p>I use this to fetch all values from id column</p>\n<pre><code>SELECT id FROM name_table;\n</code></pre>\n<p>I want to sum the values in the id column. To be clear, I am making a financial application and want to add up all the money recorded in the msql database</p>\n"},{"tags":["java","android","kotlin","android-room"],"comments":[{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1633348130,"post_id":69435321,"comment_id":122727408,"body_markdown":"Is service  running in the same process?","body":"Is service  running in the same process?"},{"owner":{"account_id":1931992,"reputation":4921,"user_id":1741203,"accept_rate":57,"display_name":"Rajeev Kumar"},"score":0,"creation_date":1633348255,"post_id":69435321,"comment_id":122727469,"body_markdown":"yes, a foreground service is running in app","body":"yes, a foreground service is running in app"},{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1633348401,"post_id":69435321,"comment_id":122727541,"body_markdown":"you know that even if service is in the same app it may run in different process? also is `AppDatabase` a singleton?","body":"you know that even if service is in the same app it may run in different process? also is <code>AppDatabase</code> a singleton?"},{"owner":{"account_id":1931992,"reputation":4921,"user_id":1741203,"accept_rate":57,"display_name":"Rajeev Kumar"},"score":0,"creation_date":1633348650,"post_id":69435321,"comment_id":122727625,"body_markdown":"@Selvin please look at edit. I have added `DBHelper` class code. It is not singlton. I am creating new instance in every class/activity","body":"@Selvin please look at edit. I have added <code>DBHelper</code> class code. It is not singlton. I am creating new instance in every class/activity"},{"owner":{"account_id":353320,"reputation":6609,"user_id":690952,"display_name":"Selvin"},"score":0,"creation_date":1633349030,"post_id":69435321,"comment_id":122727764,"body_markdown":"please provide minimal example where `onChanged` is not working as it&#39;s working for me","body":"please provide minimal example where <code>onChanged</code> is not working as it&#39;s working for me"}],"owner":{"account_id":1931992,"reputation":4921,"user_id":1741203,"accept_rate":57,"display_name":"Rajeev Kumar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633349376,"creation_date":1633347377,"question_id":69435321,"body_markdown":"I am using `Room Database` in my app. I am binding a list with a table in db and looking for update this list in realtime when any changes (insert/update) occur in specific table of room database.\r\n\r\n**My Dao class**\r\n\r\n    @Dao\r\n    interface RecordsDao {\r\n    @Query(&quot;Select * from Records WHERE app_uuid = :appUUID&quot;)\r\n    fun getRecords(appUUID: String): List&lt;Records&gt;\r\n\r\n    @Insert\r\n    fun insertRecord(records: Records): Long\r\n\r\n    @Query(&quot;UPDATE Records SET detect_count = detect_count + 1 WHERE time_slot = :timeSlot and other_uuid = :otherUUID and app_uuid = :appUUID&quot;)\r\n    fun updateRecord(timeSlot: Int, appUUID: String, otherUUID: String)\r\n\r\n    @Query(&quot;Select * from Records WHERE app_uuid = :appUUID Order by detect_count desc&quot;)\r\n    fun getLiveRecords(appUUID: String): LiveData&lt;List&lt;Records&gt;&gt;\r\n}\r\n\r\n**Class for binding list**\r\n\r\n     dbHelper?.recordsDao()?.getLiveRecords(sharedPrefUtil?.getAppStringPrefByKey(R.string.key_uuid)!!)\r\n            ?.observe(this, object : Observer&lt;List&lt;Records&gt;&gt; {\r\n                override fun onChanged(t: List&lt;Records&gt;?) {\r\n                    Log.e(&quot;MyApp&quot;, &quot;Chaged fired&quot;);\r\n                }\r\n            })\r\n\r\n\r\n**DBhelper Class**\r\n\r\n    @Database(entities = arrayOf(Records :: class), version = 1)\r\n    abstract class DBHelper : RoomDatabase() {\r\n    abstract fun recordsDao(): RecordsDao\r\n    companion object {\r\n        fun getDBHelper(context: Context): DBHelper {\r\n            return Room.databaseBuilder(context, DBHelper::class.java, &quot;MyAppPackageName&quot;)\r\n                .allowMainThreadQueries().build()\r\n        }\r\n    }\r\n    }\r\n\r\n\r\n**Foreground service**\r\n\r\n    if (!dbHelper.recordsDao().isRecordExist(\r\n                                slot,\r\n                                sharedPrefUtil?.getAppStringPrefByKey(R.string.key_uuid)!!,\r\n                                entry\r\n                        )\r\n                ) {\r\n                    Log.e(&quot;MyApp&quot;, entry + &quot; record does not exist in db. INserting&quot;)\r\n                    val record = Records(\r\n                            0,\r\n                            slot,\r\n                            sharedPrefUtil?.getAppStringPrefByKey(R.string.key_uuid)!!,\r\n                            entry,\r\n                            1,\r\n                            currentDt\r\n                    )\r\n                    dbHelper.recordsDao().insertRecord(record)\r\n                } else {\r\n                    Log.e(&quot;MyApp&quot;, entry + &quot; record exist in db. UPdating&quot;)\r\n                    dbHelper.recordsDao().updateRecord(\r\n                            slot,\r\n                            sharedPrefUtil?.getAppStringPrefByKey(R.string.key_uuid)!!,\r\n                            entry\r\n                    )\r\n                }\r\n            }\r\n\r\nHere in in service i am updating/inserting records in table and listening for data changed in another class where i am binding list to table. Data insert/update successfully occurring but class that listen for changes in table does not get any response.\r\n\r\nwhat else i am missing ? Please suggest","title":"Android Room database not informing me for live data changes","body":"<p>I am using <code>Room Database</code> in my app. I am binding a list with a table in db and looking for update this list in realtime when any changes (insert/update) occur in specific table of room database.</p>\n<p><strong>My Dao class</strong></p>\n<pre><code>@Dao\ninterface RecordsDao {\n@Query(&quot;Select * from Records WHERE app_uuid = :appUUID&quot;)\nfun getRecords(appUUID: String): List&lt;Records&gt;\n\n@Insert\nfun insertRecord(records: Records): Long\n\n@Query(&quot;UPDATE Records SET detect_count = detect_count + 1 WHERE time_slot = :timeSlot and other_uuid = :otherUUID and app_uuid = :appUUID&quot;)\nfun updateRecord(timeSlot: Int, appUUID: String, otherUUID: String)\n\n@Query(&quot;Select * from Records WHERE app_uuid = :appUUID Order by detect_count desc&quot;)\nfun getLiveRecords(appUUID: String): LiveData&lt;List&lt;Records&gt;&gt;\n</code></pre>\n<p>}</p>\n<p><strong>Class for binding list</strong></p>\n<pre><code> dbHelper?.recordsDao()?.getLiveRecords(sharedPrefUtil?.getAppStringPrefByKey(R.string.key_uuid)!!)\n        ?.observe(this, object : Observer&lt;List&lt;Records&gt;&gt; {\n            override fun onChanged(t: List&lt;Records&gt;?) {\n                Log.e(&quot;MyApp&quot;, &quot;Chaged fired&quot;);\n            }\n        })\n</code></pre>\n<p><strong>DBhelper Class</strong></p>\n<pre><code>@Database(entities = arrayOf(Records :: class), version = 1)\nabstract class DBHelper : RoomDatabase() {\nabstract fun recordsDao(): RecordsDao\ncompanion object {\n    fun getDBHelper(context: Context): DBHelper {\n        return Room.databaseBuilder(context, DBHelper::class.java, &quot;MyAppPackageName&quot;)\n            .allowMainThreadQueries().build()\n    }\n}\n}\n</code></pre>\n<p><strong>Foreground service</strong></p>\n<pre><code>if (!dbHelper.recordsDao().isRecordExist(\n                            slot,\n                            sharedPrefUtil?.getAppStringPrefByKey(R.string.key_uuid)!!,\n                            entry\n                    )\n            ) {\n                Log.e(&quot;MyApp&quot;, entry + &quot; record does not exist in db. INserting&quot;)\n                val record = Records(\n                        0,\n                        slot,\n                        sharedPrefUtil?.getAppStringPrefByKey(R.string.key_uuid)!!,\n                        entry,\n                        1,\n                        currentDt\n                )\n                dbHelper.recordsDao().insertRecord(record)\n            } else {\n                Log.e(&quot;MyApp&quot;, entry + &quot; record exist in db. UPdating&quot;)\n                dbHelper.recordsDao().updateRecord(\n                        slot,\n                        sharedPrefUtil?.getAppStringPrefByKey(R.string.key_uuid)!!,\n                        entry\n                )\n            }\n        }\n</code></pre>\n<p>Here in in service i am updating/inserting records in table and listening for data changed in another class where i am binding list to table. Data insert/update successfully occurring but class that listen for changes in table does not get any response.</p>\n<p>what else i am missing ? Please suggest</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":5,"creation_date":1633344100,"post_id":69434614,"comment_id":122725866,"body_markdown":"Have you tried anything?","body":"Have you tried anything?"},{"owner":{"account_id":43373,"reputation":224943,"user_id":126769,"accept_rate":94,"display_name":"nos"},"score":0,"creation_date":1633344319,"post_id":69434614,"comment_id":122725956,"body_markdown":"Start with an empty string called `result`. Loop through each character in the `example` string. Check to see if the character is a number. If it is not a number, append the character to the `result`. If it is a number, run a new loop that appends that many spaces to `result`. That should be a start for atleast handling numbers from 0 to 9 that gets converted to spaces. Try to write some code, and come back with quuestions about that code.","body":"Start with an empty string called <code>result</code>. Loop through each character in the <code>example</code> string. Check to see if the character is a number. If it is not a number, append the character to the <code>result</code>. If it is a number, run a new loop that appends that many spaces to <code>result</code>. That should be a start for atleast handling numbers from 0 to 9 that gets converted to spaces. Try to write some code, and come back with quuestions about that code."},{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":0,"creation_date":1633344537,"post_id":69434614,"comment_id":122726052,"body_markdown":"Is ```A11A```  2 spaces or 11 spaces?","body":"Is <code>A11A</code>  2 spaces or 11 spaces?"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633345423,"creation_date":1633344544,"answer_id":69434716,"question_id":69434614,"body_markdown":"Using a pattern matcher approach:\r\n\r\n    String input = &quot;AA5DD2EE3MM&quot;;\r\n    Pattern pattern = Pattern.compile(&quot;\\\\d+&quot;);\r\n    Matcher m = pattern.matcher(input);\r\n    StringBuffer buffer = new StringBuffer();\r\n  \r\n    while (m.find()) {\r\n        m.appendReplacement(buffer,new String(new char[Integer.valueOf(m.group())]).replace(&quot;\\0&quot;, &quot; &quot;));\r\n    }\r\n    m.appendTail(buffer);\r\n    System.out.println(buffer.toString());  // AA     DD  EE   MM\r\n\r\nThe idea here is to iterate the string, pausing at each digit match.  We replace each digit with space replicated the same number of times as the digit.","title":"Replacing the number with the number of spaces","body":"<p>Using a pattern matcher approach:</p>\n<pre><code>String input = &quot;AA5DD2EE3MM&quot;;\nPattern pattern = Pattern.compile(&quot;\\\\d+&quot;);\nMatcher m = pattern.matcher(input);\nStringBuffer buffer = new StringBuffer();\n\nwhile (m.find()) {\n    m.appendReplacement(buffer,new String(new char[Integer.valueOf(m.group())]).replace(&quot;\\0&quot;, &quot; &quot;));\n}\nm.appendTail(buffer);\nSystem.out.println(buffer.toString());  // AA     DD  EE   MM\n</code></pre>\n<p>The idea here is to iterate the string, pausing at each digit match.  We replace each digit with space replicated the same number of times as the digit.</p>\n"},{"tags":[],"owner":{"account_id":20325805,"reputation":117,"user_id":14909278,"display_name":"mousekip"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633346175,"creation_date":1633344963,"answer_id":69434804,"question_id":69434614,"body_markdown":"You could also use this approach, which is simpler but also far less elegant:\r\n\r\n```java\r\nString example = &quot;a4aa&quot;;\r\nString newString = &quot;&quot;;\r\n\r\nfor (int i = 0; i &lt; example.length(); i++) {\r\n    if (Character.isDigit(example.charAt(i))) {\r\n\t    for (int a = 0; a &lt; Character.getNumericValue(example.charAt(i)); a++) {\r\n\t        newString += &quot; &quot;;\r\n\t\t}\r\n\t} else {\r\n\t\tnewString += example.charAt(i);\r\n\t}\r\n}\r\nSystem.out.println(newString);\r\n```","title":"Replacing the number with the number of spaces","body":"<p>You could also use this approach, which is simpler but also far less elegant:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String example = &quot;a4aa&quot;;\nString newString = &quot;&quot;;\n\nfor (int i = 0; i &lt; example.length(); i++) {\n    if (Character.isDigit(example.charAt(i))) {\n        for (int a = 0; a &lt; Character.getNumericValue(example.charAt(i)); a++) {\n            newString += &quot; &quot;;\n        }\n    } else {\n        newString += example.charAt(i);\n    }\n}\nSystem.out.println(newString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1633345502,"creation_date":1633345502,"answer_id":69434917,"question_id":69434614,"body_markdown":"Split your input at digit and non digit chars as a stream, map digits to the corsponding number of spaces using `String.repeat`, collect to string using `Collectors.joining()`:\r\n\r\n    String input  = &quot;AA5DD2EE3MM&quot;;\r\n    String regex  = &quot;(?&lt;=\\\\D)(?=\\\\d)|(?&lt;=\\\\d)(?=\\\\D)&quot;;\r\n    String result = Pattern.compile(regex)\r\n                            .splitAsStream(input)\r\n                            .map(s -&gt; s.matches(&quot;\\\\d+&quot;) ? &quot; &quot;.repeat(Integer.parseInt(s)) : s)\r\n                            .collect(Collectors.joining());","title":"Replacing the number with the number of spaces","body":"<p>Split your input at digit and non digit chars as a stream, map digits to the corsponding number of spaces using <code>String.repeat</code>, collect to string using <code>Collectors.joining()</code>:</p>\n<pre><code>String input  = &quot;AA5DD2EE3MM&quot;;\nString regex  = &quot;(?&lt;=\\\\D)(?=\\\\d)|(?&lt;=\\\\d)(?=\\\\D)&quot;;\nString result = Pattern.compile(regex)\n                        .splitAsStream(input)\n                        .map(s -&gt; s.matches(&quot;\\\\d+&quot;) ? &quot; &quot;.repeat(Integer.parseInt(s)) : s)\n                        .collect(Collectors.joining());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16132798,"reputation":51,"user_id":11790395,"display_name":"user11790395"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633346240,"creation_date":1633346240,"answer_id":69435087,"question_id":69434614,"body_markdown":"    public static String replaceDigitsWithSpaces(String input) {\r\n\t\tString result = &quot;&quot;;\r\n\t\tint len = input.length(), i =0;\r\n\t\t\r\n\t\twhile( i &lt; len) {\r\n\t\t\t\r\n\t\t\tif(Character.isLetter(input.charAt(i))) {\r\n\t\t\t\tresult += input.charAt(i);\r\n\t\t\t}else if(Character.isDigit(input.charAt(i))) {\r\n\t\t\t\t//generate number upto characters\r\n\t\t\t\tint k = 0, j = i;\r\n\t\t\t\tString temp = &quot;&quot;;\r\n\t\t\t\twhile(j &lt; len) {\r\n\t\t\t\t\tif(Character.isDigit(input.charAt(j))) {\r\n\t\t\t\t\t\ttemp += input.charAt(j);\r\n\t\t\t\t\t\tj++;\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tk = Integer.parseInt(temp);\r\n\t\t\t\twhile(k != 0) {\r\n\t\t\t\t\tresult+= &quot; &quot;;\r\n\t\t\t\t\tk--;\r\n\t\t\t\t}\r\n\t\t\t\ti = j;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\ti++;\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n    input:: &quot;AA23BB1C11C8&quot;&lt;br&gt;\r\n    output:: AA                       BB C           C        .","title":"Replacing the number with the number of spaces","body":"<pre><code>public static String replaceDigitsWithSpaces(String input) {\n    String result = &quot;&quot;;\n    int len = input.length(), i =0;\n    \n    while( i &lt; len) {\n        \n        if(Character.isLetter(input.charAt(i))) {\n            result += input.charAt(i);\n        }else if(Character.isDigit(input.charAt(i))) {\n            //generate number upto characters\n            int k = 0, j = i;\n            String temp = &quot;&quot;;\n            while(j &lt; len) {\n                if(Character.isDigit(input.charAt(j))) {\n                    temp += input.charAt(j);\n                    j++;\n                }else {\n                    break;\n                }\n            }\n            k = Integer.parseInt(temp);\n            while(k != 0) {\n                result+= &quot; &quot;;\n                k--;\n            }\n            i = j;\n            continue;\n        }\n        i++;\n    }\n    return result;\n}\n\ninput:: &quot;AA23BB1C11C8&quot;&lt;br&gt;\noutput:: AA                       BB C           C        .\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633349200,"creation_date":1633349200,"answer_id":69435726,"question_id":69434614,"body_markdown":"`StringBuilder` is more efficient for concatenation:\r\n```\r\n    public static String spaceIt(String s) {\r\n        StringBuilder sb = new StringBuilder();\r\n        for (int i = 0; i &lt; s.length(); i++) {\r\n            char c = s.charAt(i);\r\n            if (Character.isDigit(c)) {\r\n                for (int j = 0; j &lt; Character.digit(c, 10); j++) {\r\n                    sb.append(&#39; &#39;);\r\n                }\r\n            } else {\r\n                sb.append(c);\r\n            }\r\n        }\r\n        return sb.toString();\r\n    }\r\n```","title":"Replacing the number with the number of spaces","body":"<p><code>StringBuilder</code> is more efficient for concatenation:</p>\n<pre><code>    public static String spaceIt(String s) {\n        StringBuilder sb = new StringBuilder();\n        for (int i = 0; i &lt; s.length(); i++) {\n            char c = s.charAt(i);\n            if (Character.isDigit(c)) {\n                for (int j = 0; j &lt; Character.digit(c, 10); j++) {\n                    sb.append(' ');\n                }\n            } else {\n                sb.append(c);\n            }\n        }\n        return sb.toString();\n    }\n</code></pre>\n"}],"owner":{"account_id":17798225,"reputation":163,"user_id":12925625,"display_name":"dodododo97"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":600,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":69434917,"answer_count":5,"score":4,"last_activity_date":1633349200,"creation_date":1633344033,"question_id":69434614,"body_markdown":"I have a String:\r\n\r\n    String example = &quot;AA5DD2EE3MM&quot;;\r\nI want to replace the number with the number of spaces. Example:\r\n\r\n    String example = &quot;AA     DD  EE   MM&quot;\r\n\r\nIf the String would be \r\n\r\n    String anotherExample = &quot;a3ee&quot;\r\nIt should turn into:\r\n\r\n    String anotherExample = &quot;a   ee&quot;\r\n\r\nI want to do it for any string. Not only for the examples above.","title":"Replacing the number with the number of spaces","body":"<p>I have a String:</p>\n<pre><code>String example = &quot;AA5DD2EE3MM&quot;;\n</code></pre>\n<p>I want to replace the number with the number of spaces. Example:</p>\n<pre><code>String example = &quot;AA     DD  EE   MM&quot;\n</code></pre>\n<p>If the String would be</p>\n<pre><code>String anotherExample = &quot;a3ee&quot;\n</code></pre>\n<p>It should turn into:</p>\n<pre><code>String anotherExample = &quot;a   ee&quot;\n</code></pre>\n<p>I want to do it for any string. Not only for the examples above.</p>\n"},{"tags":["java","jpa","querydsl"],"comments":[{"owner":{"account_id":733809,"reputation":43147,"user_id":1211528,"accept_rate":57,"display_name":"plalx"},"score":0,"creation_date":1660652867,"post_id":60833916,"comment_id":129578077,"body_markdown":"Why not just 3 queries? Fetch users, fetchs user-permissions, fetch matched permissions, then join everything in memory. Way less data to transfer than having to return the same info on all rows for every individual permission?","body":"Why not just 3 queries? Fetch users, fetchs user-permissions, fetch matched permissions, then join everything in memory. Way less data to transfer than having to return the same info on all rows for every individual permission?"}],"answers":[{"tags":[],"owner":{"account_id":401852,"reputation":3650,"user_id":768656,"accept_rate":96,"display_name":"Benjamin Maurer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1633348335,"creation_date":1585075371,"answer_id":60837345,"question_id":60833916,"body_markdown":"OK, I finally figured it out. In this case you actually have to use a transformer, which makes sense, as you want to aggregate several rows.\r\n\r\nI&#39;ve had to dig through [QueryDsl&#39;s unit tests][1]. The static imports actually make it tricky if you&#39;re not using an IDE, but read it on Github like me. I almost had the Solution, but I used `Expressions.set()`, instead of `GroupBy.set()`:\r\n\r\n    EnumPath&lt;Permission&gt; perm = Expressions.enumPath(Permission.class, &quot;perm&quot;);\r\n\r\n    List&lt;UserDto&gt; users = new JPAQueryFactory(eM.getEntityManager())\r\n    \t\t\t\t.selectFrom(QUser.user)\r\n    \t\t\t\t.leftJoin(QUser.user.permissions, perm)\r\n    \t\t\t\t.transform(\r\n    \t\t\t\t\t\tgroupBy(QUser.user.id)\r\n    \t\t\t\t\t\t.list(Projections.constructor(UserDto.class,\r\n    \t\t\t\t\t\t\t\tQUser.user.id, QUser.user.username, Expressions.stringTemplate(&quot;&#39;&#39;&quot;), QUser.user.tenantId,\r\n    \t\t\t\t\t\t\t\tQUser.user.fullname, QUser.user.active, QUser.user.localeKey, GroupBy.set(perm))));\r\n\r\nAnd this is much nicer on the eye then the JPQL/Hibernate-ResultTransformer version.\r\n\r\n  [1]: https://github.com/querydsl/querydsl/blob/2bf234caf78549813a1e0f44d9c30ecc5ef734e3/querydsl-core/src/test/java/com/querydsl/core/group/GroupByListTest.java","title":"QueryDsl projection ElementCollection","body":"<p>OK, I finally figured it out. In this case you actually have to use a transformer, which makes sense, as you want to aggregate several rows.</p>\n<p>I've had to dig through <a href=\"https://github.com/querydsl/querydsl/blob/2bf234caf78549813a1e0f44d9c30ecc5ef734e3/querydsl-core/src/test/java/com/querydsl/core/group/GroupByListTest.java\" rel=\"nofollow noreferrer\">QueryDsl's unit tests</a>. The static imports actually make it tricky if you're not using an IDE, but read it on Github like me. I almost had the Solution, but I used <code>Expressions.set()</code>, instead of <code>GroupBy.set()</code>:</p>\n<pre><code>EnumPath&lt;Permission&gt; perm = Expressions.enumPath(Permission.class, &quot;perm&quot;);\n\nList&lt;UserDto&gt; users = new JPAQueryFactory(eM.getEntityManager())\n                .selectFrom(QUser.user)\n                .leftJoin(QUser.user.permissions, perm)\n                .transform(\n                        groupBy(QUser.user.id)\n                        .list(Projections.constructor(UserDto.class,\n                                QUser.user.id, QUser.user.username, Expressions.stringTemplate(&quot;''&quot;), QUser.user.tenantId,\n                                QUser.user.fullname, QUser.user.active, QUser.user.localeKey, GroupBy.set(perm))));\n</code></pre>\n<p>And this is much nicer on the eye then the JPQL/Hibernate-ResultTransformer version.</p>\n"},{"tags":[],"owner":{"account_id":9199458,"reputation":456,"user_id":10680989,"display_name":"Andrew.G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623784587,"creation_date":1623784587,"answer_id":67992228,"question_id":60833916,"body_markdown":"Here is a full example of using `.transform()` method.\r\n\r\n    import com.querydsl.core.ResultTransformer;\r\n    import com.querydsl.core.Tuple;\r\n    import com.querydsl.core.group.GroupBy;\r\n    import com.querydsl.core.types.Expression;\r\n    import com.querydsl.core.types.OrderSpecifier;\r\n    import com.querydsl.core.types.Predicate;\r\n    import com.querydsl.core.types.Projections;\r\n    import com.querydsl.jpa.impl.JPAQuery;\r\n    import lombok.AccessLevel;\r\n    import lombok.RequiredArgsConstructor;\r\n    import lombok.experimental.FieldDefaults;\r\n    import org.springframework.data.domain.Pageable;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import java.util.List;\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.PersistenceContext;\r\n    \r\n    @Repository\r\n    @FieldDefaults(level = AccessLevel.PRIVATE, makeFinal = true)\r\n    @RequiredArgsConstructor\r\n    public class MyDaoImpl implements MyDao {\r\n    \r\n      @PersistenceContext\r\n      EntityManager entityManager;\r\n    \r\n      @Override\r\n      public List&lt;Dto&gt; findAll(Pageable pageable, Predicate predicate, OrderSpecifier&lt;?&gt;[] sorting) {\r\n        return buildQuery()\r\n            .where(predicate)\r\n            .limit(pageable.getPageSize())\r\n            .offset(pageable.getOffset())\r\n            .orderBy(sorting)\r\n            .transform(buildDtoTransformer());\r\n      }\r\n    \r\n      private JPAQuery&lt;Tuple&gt; buildQuery() {\r\n        return new JPAQuery&lt;&gt;(entityManager)\r\n            .from(QEntity.entity)\r\n            .select(buildSelectExpressions());\r\n      }\r\n    \r\n      private ResultTransformer&lt;List&lt;Dto&gt;&gt; buildDtoTransformer() {\r\n        return GroupBy\r\n            .groupBy(QEntity.entity.id)\r\n            .list(Projections.constructor(Dto.class, buildSelectExpressions()));\r\n      }\r\n    \r\n      private Expression&lt;?&gt;[] buildSelectExpressions() {\r\n        return new Expression[] {\r\n            QEntity.entity.id,\r\n            QEntity.entity.mnemonic,\r\n            QEntity.entity.label,\r\n            QEntity.entity.lastUpdateDate,\r\n            QEntity.entity.status,\r\n            QEntity.entity.updatedBy,\r\n        };\r\n      }\r\n    }\r\n\r\n**Pros**\r\n- The same expression array for `.select()` and `.transform()` methods. It means is expressions can be in one place.\r\n\r\n**Cons**\r\n - No grouping. It means no nested collections.\r\n - Expressions order and DTO constructor params order should be the same.\r\n\r\n       new Expression[] {\r\n          QEntity.entity.id,\r\n          QEntity.entity.mnemonic,\r\n          QEntity.entity.label,\r\n          QEntity.entity.lastUpdateDate,\r\n          QEntity.entity.status,\r\n          QEntity.entity.updatedBy,\r\n       };\r\n\r\n       public class Dto {\r\n  \r\n          public Dto(Integer id,\r\n                    String mnemonic,\r\n                    String label,\r\n                    LocalDateTime lastUpdateDate,\r\n                    Boolean status,\r\n                    String updatedBy) {\r\n           this.id = id;\r\n           this.mnemonic = mnemonic;\r\n           this.label = label;\r\n           this.lastUpdateDate = lastUpdateDate;\r\n           this.status = status;\r\n           this.updatedBy = updatedBy;\r\n         }\r\n       }\r\n- Creation nested objects logic should be in a DTO constructor.\r\n\r\n**Conclusion**\r\n\r\nYou can use `.transform()` for single-level simple objects.\r\n\r\nIf you need extra actions (as a grouping to build hierarchical response structure), you should make your own mapper class. The mapper class will receive `Collection&lt;Tuple&gt;` and returns `List&lt;YourDto&gt;` or `Set&lt;YourDto&gt;`.","title":"QueryDsl projection ElementCollection","body":"<p>Here is a full example of using <code>.transform()</code> method.</p>\n<pre><code>import com.querydsl.core.ResultTransformer;\nimport com.querydsl.core.Tuple;\nimport com.querydsl.core.group.GroupBy;\nimport com.querydsl.core.types.Expression;\nimport com.querydsl.core.types.OrderSpecifier;\nimport com.querydsl.core.types.Predicate;\nimport com.querydsl.core.types.Projections;\nimport com.querydsl.jpa.impl.JPAQuery;\nimport lombok.AccessLevel;\nimport lombok.RequiredArgsConstructor;\nimport lombok.experimental.FieldDefaults;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.List;\nimport javax.persistence.EntityManager;\nimport javax.persistence.PersistenceContext;\n\n@Repository\n@FieldDefaults(level = AccessLevel.PRIVATE, makeFinal = true)\n@RequiredArgsConstructor\npublic class MyDaoImpl implements MyDao {\n\n  @PersistenceContext\n  EntityManager entityManager;\n\n  @Override\n  public List&lt;Dto&gt; findAll(Pageable pageable, Predicate predicate, OrderSpecifier&lt;?&gt;[] sorting) {\n    return buildQuery()\n        .where(predicate)\n        .limit(pageable.getPageSize())\n        .offset(pageable.getOffset())\n        .orderBy(sorting)\n        .transform(buildDtoTransformer());\n  }\n\n  private JPAQuery&lt;Tuple&gt; buildQuery() {\n    return new JPAQuery&lt;&gt;(entityManager)\n        .from(QEntity.entity)\n        .select(buildSelectExpressions());\n  }\n\n  private ResultTransformer&lt;List&lt;Dto&gt;&gt; buildDtoTransformer() {\n    return GroupBy\n        .groupBy(QEntity.entity.id)\n        .list(Projections.constructor(Dto.class, buildSelectExpressions()));\n  }\n\n  private Expression&lt;?&gt;[] buildSelectExpressions() {\n    return new Expression[] {\n        QEntity.entity.id,\n        QEntity.entity.mnemonic,\n        QEntity.entity.label,\n        QEntity.entity.lastUpdateDate,\n        QEntity.entity.status,\n        QEntity.entity.updatedBy,\n    };\n  }\n}\n</code></pre>\n<p><strong>Pros</strong></p>\n<ul>\n<li>The same expression array for <code>.select()</code> and <code>.transform()</code> methods. It means is expressions can be in one place.</li>\n</ul>\n<p><strong>Cons</strong></p>\n<ul>\n<li><p>No grouping. It means no nested collections.</p>\n</li>\n<li><p>Expressions order and DTO constructor params order should be the same.</p>\n<pre><code>new Expression[] {\n   QEntity.entity.id,\n   QEntity.entity.mnemonic,\n   QEntity.entity.label,\n   QEntity.entity.lastUpdateDate,\n   QEntity.entity.status,\n   QEntity.entity.updatedBy,\n};\n\npublic class Dto {\n\n   public Dto(Integer id,\n             String mnemonic,\n             String label,\n             LocalDateTime lastUpdateDate,\n             Boolean status,\n             String updatedBy) {\n    this.id = id;\n    this.mnemonic = mnemonic;\n    this.label = label;\n    this.lastUpdateDate = lastUpdateDate;\n    this.status = status;\n    this.updatedBy = updatedBy;\n  }\n}\n</code></pre>\n</li>\n<li><p>Creation nested objects logic should be in a DTO constructor.</p>\n</li>\n</ul>\n<p><strong>Conclusion</strong></p>\n<p>You can use <code>.transform()</code> for single-level simple objects.</p>\n<p>If you need extra actions (as a grouping to build hierarchical response structure), you should make your own mapper class. The mapper class will receive <code>Collection&lt;Tuple&gt;</code> and returns <code>List&lt;YourDto&gt;</code> or <code>Set&lt;YourDto&gt;</code>.</p>\n"}],"owner":{"account_id":401852,"reputation":3650,"user_id":768656,"accept_rate":96,"display_name":"Benjamin Maurer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12856,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":60837345,"answer_count":2,"score":3,"last_activity_date":1633348335,"creation_date":1585063050,"question_id":60833916,"body_markdown":"I&#39;m trying to figure out how to do a DTO projection of an Entity with a list of Enums (@ElementCollection). Unfortunately, the QueryDsl Documentation is lacking and here I only find results for version 3 which are **not** applicable for version 4.\r\n\r\n    @Entity\r\n    public class User {\r\n        private String username;\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n    \t@ElementCollection(targetClass = Permission.class)\r\n        private Set&lt;Permission&gt; permissions;\r\n    }\r\n\r\nAnd I&#39;d like a DTO with a set/list/array of either Permission-Enums or simply Strings (will be converted to JSON anyway). A simple constructor expression doesn&#39;t work:\r\n\r\n    List&lt;UserDto&gt; users = new JPAQueryFactory(eM).select(\r\n\t\t\t\tProjections.constructor(UserDto.class,\r\n\t\t\t\t\t\tQUser.user.username, QUser.user.permissions))\r\n\t\t\t\t.from(QUser.user)\r\n\t\t\t\t.fetch();\r\n\r\nGives me `org.hibernate.QueryException: not an entity`\r\n\r\nAll the examples with `.transform()` I&#39;ve seen use a groupBy and return a Map. I&#39;m generating these queries dynamically and I want a List of DTOs, not sometimes a List of DTO and sometimes a Map&lt;ID, DTO&gt;.\r\n\r\nEDIT:\r\n\r\nSomething like that if I were to write a native PostgreSQL query:\r\n\r\n    select id, username, array_remove(array_agg(up.permissions), null) as permissions\r\n    from users u\r\n    left join users_permissions up on up.uid = u.id\r\n    group by u.id;\r\n\r\nEDIT 2:\r\n\r\nI guess this is what I&#39;d have to do with JPQL? :puke:\r\n\r\n    List&lt;UserDto&gt; users = (List&lt;UserDto&gt;) eM.getEntityManager().createQuery(\r\n    \t\t\t\t&quot;SELECT u.id, u.username, u.tenantId, u.fullname, u.active, u.localeKey, perms &quot; +\r\n    \t\t\t\t\t\t&quot;FROM User u &quot; +\r\n    \t\t\t\t\t\t&quot;LEFT JOIN u.permissions perms&quot;)\r\n    \t\t\t\t.unwrap(org.hibernate.query.Query.class)\r\n    \t\t\t\t.setResultTransformer(\r\n    \t\t\t\t\t\tnew ResultTransformer() {\r\n    \t\t\t\t\t\t\tprivate Map&lt;Long, UserDto&gt; res = new HashMap&lt;&gt;();\r\n    \r\n    \t\t\t\t\t\t\t@Override\r\n    \t\t\t\t\t\t\tpublic Object transformTuple(Object[] tuple, String[] aliases) {\r\n    \t\t\t\t\t\t\t\tUserDto u = res.get(tuple[0]);\r\n    \t\t\t\t\t\t\t\tif (u == null) {\r\n    \t\t\t\t\t\t\t\t\tu = new UserDto((Long) tuple[0], (String) tuple[1], &quot;&quot;, (String) tuple[2], (String) tuple[3], (boolean) tuple[4], (String) tuple[5], EnumSet.of((Permission) tuple[6]));\r\n    \t\t\t\t\t\t\t\t\tres.put(u.getId(), u);\r\n    \t\t\t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\t\t\tu.getPermissions().add((Permission) tuple[6]);\r\n    \t\t\t\t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t\t\t\treturn null;\r\n    \t\t\t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t\t\t@Override\r\n    \t\t\t\t\t\t\tpublic List&lt;UserDto&gt; transformList(List tuples) {\r\n    \t\t\t\t\t\t\t\treturn new ArrayList&lt;&gt;(res.values());\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t})\r\n    \t\t\t\t.getResultList();","title":"QueryDsl projection ElementCollection","body":"<p>I'm trying to figure out how to do a DTO projection of an Entity with a list of Enums (@ElementCollection). Unfortunately, the QueryDsl Documentation is lacking and here I only find results for version 3 which are <strong>not</strong> applicable for version 4.</p>\n\n<pre><code>@Entity\npublic class User {\n    private String username;\n\n    @Enumerated(EnumType.STRING)\n    @ElementCollection(targetClass = Permission.class)\n    private Set&lt;Permission&gt; permissions;\n}\n</code></pre>\n\n<p>And I'd like a DTO with a set/list/array of either Permission-Enums or simply Strings (will be converted to JSON anyway). A simple constructor expression doesn't work:</p>\n\n<pre><code>List&lt;UserDto&gt; users = new JPAQueryFactory(eM).select(\n            Projections.constructor(UserDto.class,\n                    QUser.user.username, QUser.user.permissions))\n            .from(QUser.user)\n            .fetch();\n</code></pre>\n\n<p>Gives me <code>org.hibernate.QueryException: not an entity</code></p>\n\n<p>All the examples with <code>.transform()</code> I've seen use a groupBy and return a Map. I'm generating these queries dynamically and I want a List of DTOs, not sometimes a List of DTO and sometimes a Map.</p>\n\n<p>EDIT:</p>\n\n<p>Something like that if I were to write a native PostgreSQL query:</p>\n\n<pre><code>select id, username, array_remove(array_agg(up.permissions), null) as permissions\nfrom users u\nleft join users_permissions up on up.uid = u.id\ngroup by u.id;\n</code></pre>\n\n<p>EDIT 2:</p>\n\n<p>I guess this is what I'd have to do with JPQL? :puke:</p>\n\n<pre><code>List&lt;UserDto&gt; users = (List&lt;UserDto&gt;) eM.getEntityManager().createQuery(\n                \"SELECT u.id, u.username, u.tenantId, u.fullname, u.active, u.localeKey, perms \" +\n                        \"FROM User u \" +\n                        \"LEFT JOIN u.permissions perms\")\n                .unwrap(org.hibernate.query.Query.class)\n                .setResultTransformer(\n                        new ResultTransformer() {\n                            private Map&lt;Long, UserDto&gt; res = new HashMap&lt;&gt;();\n\n                            @Override\n                            public Object transformTuple(Object[] tuple, String[] aliases) {\n                                UserDto u = res.get(tuple[0]);\n                                if (u == null) {\n                                    u = new UserDto((Long) tuple[0], (String) tuple[1], \"\", (String) tuple[2], (String) tuple[3], (boolean) tuple[4], (String) tuple[5], EnumSet.of((Permission) tuple[6]));\n                                    res.put(u.getId(), u);\n                                } else {\n                                    u.getPermissions().add((Permission) tuple[6]);\n                                }\n\n                                return null;\n                            }\n\n                            @Override\n                            public List&lt;UserDto&gt; transformList(List tuples) {\n                                return new ArrayList&lt;&gt;(res.values());\n                            }\n                        })\n                .getResultList();\n</code></pre>\n"},{"tags":["java","netbeans","netbeans-6.9"],"answers":[{"tags":[],"owner":{"account_id":17639,"reputation":1390,"user_id":39669,"display_name":"OliCoder"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1633347912,"creation_date":1289377931,"answer_id":4142528,"question_id":4128256,"body_markdown":" - In the *Project* tab, right-click on the project and select *Properties*. In the *Library* category select *Java Platform JDK 1.6*.\r\n - Then, in the *Source* category select *Source/Binary Format JDK6*.\r\n - This assumes that you installed JDK 1.6 and NetBeans knows about\r\n   this.\r\n - JDK 1.6 must be known to NetBeans as a Java Platform.\r\n - From the menu select menu *Tools* &amp;rarr; *Java Platform Manager*.\r\n - If *JDK 1.6* is not in the list, you can add it there.\r\n\r\n\r\n\r\n\r\n","title":"Change JRE in a NetBeans project","body":"<ul>\n<li>In the <em>Project</em> tab, right-click on the project and select <em>Properties</em>. In the <em>Library</em> category select <em>Java Platform JDK 1.6</em>.</li>\n<li>Then, in the <em>Source</em> category select <em>Source/Binary Format JDK6</em>.</li>\n<li>This assumes that you installed JDK 1.6 and NetBeans knows about\nthis.</li>\n<li>JDK 1.6 must be known to NetBeans as a Java Platform.</li>\n<li>From the menu select menu <em>Tools</em> â†’ <em>Java Platform Manager</em>.</li>\n<li>If <em>JDK 1.6</em> is not in the list, you can add it there.</li>\n</ul>\n"},{"tags":[],"owner":{"display_name":"user1328876"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633348002,"creation_date":1508680638,"answer_id":46874883,"question_id":4128256,"body_markdown":"There is a bug in NetBeans 8.0.2\r\n\r\nWhen undertaking the steps in [OliBlogger&#39;s answer][1] in changing JRE or JDK for a project, NetBeans attempts to save the project with the new JDK (9 in this instance), but it goes into an infinite loop and eventually gives an OutOfMemoryError:\r\n\r\n[![Infinite loop while saving new project with new JDK][2]][2]\r\n\r\n[![OutOfMemoryError][3]][3]\r\n\r\n  [1]: https://stackoverflow.com/questions/4128256/change-jre-in-a-netbeans-project/4142528#4142528\r\n  [2]: https://i.stack.imgur.com/Ba98X.png\r\n  [3]: https://i.stack.imgur.com/P41pq.png\r\n\r\n\r\n\r\n","title":"Change JRE in a NetBeans project","body":"<p>There is a bug in NetBeans 8.0.2</p>\n<p>When undertaking the steps in <a href=\"https://stackoverflow.com/questions/4128256/change-jre-in-a-netbeans-project/4142528#4142528\">OliBlogger's answer</a> in changing JRE or JDK for a project, NetBeans attempts to save the project with the new JDK (9 in this instance), but it goes into an infinite loop and eventually gives an OutOfMemoryError:</p>\n<p><a href=\"https://i.stack.imgur.com/Ba98X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ba98X.png\" alt=\"Infinite loop while saving new project with new JDK\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/P41pq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P41pq.png\" alt=\"OutOfMemoryError\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2280476,"reputation":247,"user_id":2005683,"display_name":"Jovo Skorupan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633348153,"creation_date":1512553313,"answer_id":47671111,"question_id":4128256,"body_markdown":"In NetBeans 8.2,\r\n\r\n - right click the project, and select *Properties*\r\n - under the menu build/compile, select the Java platform from the drop down menu\r\n\r\n\r\n\r\n","title":"Change JRE in a NetBeans project","body":"<p>In NetBeans 8.2,</p>\n<ul>\n<li>right click the project, and select <em>Properties</em></li>\n<li>under the menu build/compile, select the Java platform from the drop down menu</li>\n</ul>\n"}],"owner":{"account_id":44095,"reputation":22674,"user_id":129195,"accept_rate":76,"display_name":"griegs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27112,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":4142528,"answer_count":3,"score":14,"last_activity_date":1633348153,"creation_date":1289251777,"question_id":4128256,"body_markdown":"I have a NetBeans project which is using the JRE 1.4 environment which means I can&#39;t use generics.\r\n\r\nHow can I change the project to use 1.6(?), so I can use generics?\r\n\r\n\r\n\r\n\r\n","title":"Change JRE in a NetBeans project","body":"<p>I have a NetBeans project which is using the JRE 1.4 environment which means I can't use generics.</p>\n<p>How can I change the project to use 1.6(?), so I can use generics?</p>\n"},{"tags":["java","xml","networking","java-io","jdom"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1574753133,"post_id":5242991,"comment_id":104332681,"body_markdown":"This code does not call `parseXml()` and therefore cannot possibly have produced this exception.","body":"This code does not call <code>parseXml()</code> and therefore cannot possibly have produced this exception."}],"answers":[{"tags":[],"owner":{"account_id":54377,"reputation":13404,"user_id":162684,"accept_rate":100,"display_name":"MarcoS"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1299658620,"creation_date":1299658620,"answer_id":5243007,"question_id":5242991,"body_markdown":"It may be a permissions-related issue: I had this problem in the past. Check that the user from which you run your java code has permissions to access the shared network drive.","title":"Connection Refused exception upon reading/parsing a shortcut file present in network drive","body":"<p>It may be a permissions-related issue: I had this problem in the past. Check that the user from which you run your java code has permissions to access the shared network drive.</p>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1299661459,"creation_date":1299661459,"answer_id":5243414,"question_id":5242991,"body_markdown":"The code in question can&#39;t really produce that error message.\r\n\r\nFirst of all, simply creating a `File` object does not do any checks, so please tell us what you acutally *do* with that `File`.\r\n\r\nSecond, you specify the path with the string literal `&quot;\\\\\\\\bady\\\\SShare\\\\mart.xml&quot;`. Due to the way string literals work in Java, this boils down to the string `\\\\bady\\SShare\\mart.xml`, however your exception message mentions `\\\\\\\\bady\\\\SShare\\\\mart.xml`, which is obviously a wrong path.\r\n\r\nSo please tell us how you really get that `File` object and what you do to it.","title":"Connection Refused exception upon reading/parsing a shortcut file present in network drive","body":"<p>The code in question can't really produce that error message.</p>\n\n<p>First of all, simply creating a <code>File</code> object does not do any checks, so please tell us what you acutally <em>do</em> with that <code>File</code>.</p>\n\n<p>Second, you specify the path with the string literal <code>\"\\\\\\\\bady\\\\SShare\\\\mart.xml\"</code>. Due to the way string literals work in Java, this boils down to the string <code>\\\\bady\\SShare\\mart.xml</code>, however your exception message mentions <code>\\\\\\\\bady\\\\SShare\\\\mart.xml</code>, which is obviously a wrong path.</p>\n\n<p>So please tell us how you really get that <code>File</code> object and what you do to it.</p>\n"},{"tags":[],"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633347894,"creation_date":1633347894,"answer_id":69435443,"question_id":5242991,"body_markdown":"I was doing `documentBuilder.parse(anExistingFile)`, the network error looks strange indeed because you read a file and do nothing network related, but the issue with the network is validation xml using **external dtd** (proxy issue in my case). Somewhere inside the parse method it will try to download the external dtd and it causes an network related error message.\r\n\r\nSo in case you do not care about the dtd validation and only want to read some xml values:\r\nhttps://stackoverflow.com/questions/155101/make-documentbuilder-parse-ignore-dtd-references\r\n\r\nOr fix your proxy / network issues.","title":"Connection Refused exception upon reading/parsing a shortcut file present in network drive","body":"<p>I was doing <code>documentBuilder.parse(anExistingFile)</code>, the network error looks strange indeed because you read a file and do nothing network related, but the issue with the network is validation xml using <strong>external dtd</strong> (proxy issue in my case). Somewhere inside the parse method it will try to download the external dtd and it causes an network related error message.</p>\n<p>So in case you do not care about the dtd validation and only want to read some xml values:\n<a href=\"https://stackoverflow.com/questions/155101/make-documentbuilder-parse-ignore-dtd-references\">Make DocumentBuilder.parse ignore DTD references</a></p>\n<p>Or fix your proxy / network issues.</p>\n"}],"owner":{"account_id":65096,"reputation":15637,"user_id":191797,"accept_rate":100,"display_name":"Piyush Mattoo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3156,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":5243414,"answer_count":3,"score":1,"last_activity_date":1633347894,"creation_date":1299658480,"question_id":5242991,"body_markdown":"&lt;pre&gt;\r\n     SAXBuilder builder = new SAXBuilder();\r\n     try {\r\n        File f = new File(&quot;\\\\\\\\bady\\\\SShare\\\\mart.xml&quot;);\r\n        System.out.println(f.exists());   // Returns False\r\n        System.out.println(f.length());   // Returns 0\r\n\r\n        Document document = builder.build(f);  //IOException at this point\r\n        Element root = document.getRootElement();\r\n        Element paragraph = root.getChild(&quot;mart_element&quot;);\r\n        String content = paragraph.getText();\r\n        System.out.println(&quot;content = &quot; + content);\r\n        } catch (JDOMException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n&lt;/pre&gt;    \r\n\r\n\r\nHere `mart.xml` is a shortcut present in `C:\\Param\\Bin` on a windows box. I get the following IOException:\r\n\r\n&lt;pre&gt;Exception in thread &quot;main&quot; java.net.ConnectException: Connection refused: connect\r\n        at java.net.PlainSocketImpl.socketConnect(Native Method)\r\n        at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:333)\r\n        at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:195)\r\n        at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:182)\r\n        at java.net.Socket.connect(Socket.java:524)\r\n        at java.net.Socket.connect(Socket.java:474)\r\n        at sun.net.NetworkClient.doConnect(NetworkClient.java:157)\r\n        at sun.net.NetworkClient.openServer(NetworkClient.java:118)\r\n        at sun.net.ftp.FtpClient.openServer(FtpClient.java:488)\r\n        at sun.net.ftp.FtpClient.openServer(FtpClient.java:475)\r\n        at sun.net.www.protocol.ftp.FtpURLConnection.connect(FtpURLConnection.java:270)\r\n        at sun.net.www.protocol.ftp.FtpURLConnection.getInputStream(FtpURLConnection.java:352)\r\n        at JDOMElementTextContent.parseXml(JDOMElementTextContent.java:36)\r\n        at JDOMElementTextContent.main(JDOMElementTextContent.java:47)&lt;/pre&gt;\r\n\r\nI tried to open Stream from URL using file: protocol but `URLConnection.getInputStream` throws the same connection refused exception.\r\n\r\nAny recommendations would be appreciated?","title":"Connection Refused exception upon reading/parsing a shortcut file present in network drive","body":"<pre>\n     SAXBuilder builder = new SAXBuilder();\n     try {\n        File f = new File(\"\\\\\\\\bady\\\\SShare\\\\mart.xml\");\n        System.out.println(f.exists());   // Returns False\n        System.out.println(f.length());   // Returns 0\n\n        Document document = builder.build(f);  //IOException at this point\n        Element root = document.getRootElement();\n        Element paragraph = root.getChild(\"mart_element\");\n        String content = paragraph.getText();\n        System.out.println(\"content = \" + content);\n        } catch (JDOMException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n</pre>    \n\n<p>Here <code>mart.xml</code> is a shortcut present in <code>C:\\Param\\Bin</code> on a windows box. I get the following IOException:</p>\n\n<pre>Exception in thread \"main\" java.net.ConnectException: Connection refused: connect\n        at java.net.PlainSocketImpl.socketConnect(Native Method)\n        at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:333)\n        at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:195)\n        at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:182)\n        at java.net.Socket.connect(Socket.java:524)\n        at java.net.Socket.connect(Socket.java:474)\n        at sun.net.NetworkClient.doConnect(NetworkClient.java:157)\n        at sun.net.NetworkClient.openServer(NetworkClient.java:118)\n        at sun.net.ftp.FtpClient.openServer(FtpClient.java:488)\n        at sun.net.ftp.FtpClient.openServer(FtpClient.java:475)\n        at sun.net.www.protocol.ftp.FtpURLConnection.connect(FtpURLConnection.java:270)\n        at sun.net.www.protocol.ftp.FtpURLConnection.getInputStream(FtpURLConnection.java:352)\n        at JDOMElementTextContent.parseXml(JDOMElementTextContent.java:36)\n        at JDOMElementTextContent.main(JDOMElementTextContent.java:47)</pre>\n\n<p>I tried to open Stream from URL using file: protocol but <code>URLConnection.getInputStream</code> throws the same connection refused exception.</p>\n\n<p>Any recommendations would be appreciated?</p>\n"},{"tags":["java","spring","design-patterns","enums","functional-programming"],"comments":[{"owner":{"account_id":1397403,"reputation":12323,"user_id":1326913,"accept_rate":89,"display_name":"á´‡ÊŸá´‡vá´€Ñ‚á´‡"},"score":3,"creation_date":1633339726,"post_id":69433465,"comment_id":122724195,"body_markdown":"Why don&#39;t you add the `verify` method to the enum?","body":"Why don&#39;t you add the <code>verify</code> method to the enum?"},{"owner":{"account_id":7481088,"reputation":196,"user_id":5685800,"display_name":"toootooo"},"score":0,"creation_date":1633340632,"post_id":69433465,"comment_id":122724577,"body_markdown":"I will not recommend the above approach as this will lead to an unmaintained and huge code in CurrencyType enum.","body":"I will not recommend the above approach as this will lead to an unmaintained and huge code in CurrencyType enum."}],"answers":[{"tags":[],"owner":{"account_id":7481088,"reputation":196,"user_id":5685800,"display_name":"toootooo"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1633340261,"creation_date":1633339287,"answer_id":69433649,"question_id":69433465,"body_markdown":"I suppose this could be implemented as follows:\r\n\r\n    interface Verifier {\r\n         boolean isMatched(CurrencyType type);\r\n         CurrencyType currency();\r\n         Challenge verify(Challenge challenge);\r\n    }\r\n\r\nAnd each concrete class will be used/matched for a particular currency.\r\n\r\n\r\n\r\n","title":"How to deal with multiple choices based on value (enum) using strategy or functional interfaces?","body":"<p>I suppose this could be implemented as follows:</p>\n<pre><code>interface Verifier {\n     boolean isMatched(CurrencyType type);\n     CurrencyType currency();\n     Challenge verify(Challenge challenge);\n}\n</code></pre>\n<p>And each concrete class will be used/matched for a particular currency.</p>\n"},{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633347485,"creation_date":1633343187,"answer_id":69434440,"question_id":69433465,"body_markdown":"I would suggest you create an interface as follows:\r\n```java\r\npublic interface MessageVerifier {\r\n     public CurrencyType handles();\r\n     public Challenge verifyMessage(Challenge challenge);\r\n}\r\n```\r\n\r\nThen for BTC you would have something like (you will have one implementation for each CurrencyType):\r\n```java\r\n@Component\r\npublic class BtcMessageVerifier implements MessageVerifier {\r\n     public CurrencyType handles() {\r\n         return CurrencyType.BTC;\r\n     }\r\n\r\n     public Challenge verifyMessage(Challenge challenge) {\r\n         // Your logic here\r\n     }\r\n}\r\n```\r\n\r\nYou can now inject the list of all `MessageVerifier`s in `ChallengeService` and rearrange it into a Map so that it is easier to use when needed.\r\n```java\r\n@Service\r\npublic ChallengeService {\r\n   \r\n   private Map&lt;CurrencyType, MessageVerifier&gt; messageVerifierPerCurrency;\r\n\r\n   @Autowired\r\n   public ChallengeService(List&lt;MessageVerifier&gt; messageVerifiers) {\r\n        this.messageVerifierPerCurrency = messageVerifiers.stream().collect(Collectors.toMap(MessageVerifier::handles, Function.identity()));\r\n   }  \r\n\r\n   public Challenge verifyMessage(final Challenge challenge) {\r\n       Challenge verifiedChallenge;\r\n       if (messageVerifierPerCurrency.containsKey(challenge.getCurrencyType())) {\r\n          verifiedChallenge = messageVerifierPerCurrency.get(challenge.getCurrencyType()).verifyMessage(challenge);\r\n       } else\r\n          throw new IllegalStateException(&quot;Unexpected value: &quot; + challenge.getCurrencyType());\r\n       }\r\n       return verifiedChallenge;\r\n    }\r\n\r\n}\r\n```","title":"How to deal with multiple choices based on value (enum) using strategy or functional interfaces?","body":"<p>I would suggest you create an interface as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MessageVerifier {\n     public CurrencyType handles();\n     public Challenge verifyMessage(Challenge challenge);\n}\n</code></pre>\n<p>Then for BTC you would have something like (you will have one implementation for each CurrencyType):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class BtcMessageVerifier implements MessageVerifier {\n     public CurrencyType handles() {\n         return CurrencyType.BTC;\n     }\n\n     public Challenge verifyMessage(Challenge challenge) {\n         // Your logic here\n     }\n}\n</code></pre>\n<p>You can now inject the list of all <code>MessageVerifier</code>s in <code>ChallengeService</code> and rearrange it into a Map so that it is easier to use when needed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic ChallengeService {\n   \n   private Map&lt;CurrencyType, MessageVerifier&gt; messageVerifierPerCurrency;\n\n   @Autowired\n   public ChallengeService(List&lt;MessageVerifier&gt; messageVerifiers) {\n        this.messageVerifierPerCurrency = messageVerifiers.stream().collect(Collectors.toMap(MessageVerifier::handles, Function.identity()));\n   }  \n\n   public Challenge verifyMessage(final Challenge challenge) {\n       Challenge verifiedChallenge;\n       if (messageVerifierPerCurrency.containsKey(challenge.getCurrencyType())) {\n          verifiedChallenge = messageVerifierPerCurrency.get(challenge.getCurrencyType()).verifyMessage(challenge);\n       } else\n          throw new IllegalStateException(&quot;Unexpected value: &quot; + challenge.getCurrencyType());\n       }\n       return verifiedChallenge;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":3931383,"reputation":1862,"user_id":4012392,"accept_rate":58,"display_name":"hc0re"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69434440,"answer_count":2,"score":2,"last_activity_date":1633347485,"creation_date":1633338304,"question_id":69433465,"body_markdown":"I am dealing with a case when I have an `enum`:\r\n\r\n    public enum CurrencyType {\r\n        BTC, ETH\r\n    }\r\n\r\nA pojo:\r\n\r\n    public class Challenge {\r\n        private final String walletAddress;\r\n        private final CurrencyType currencyType;\r\n        //getters, constructors, setters\r\n    }\r\n\r\nA service:\r\n\r\n    @Service\r\n    public ChallengeService {\r\n       public Challenge verifyMessage(final Challenge challenge) {\r\n               Challenge verifiedChallenge;\r\n           switch (challenge.getCurrencyType()) {\r\n               case BTC:\r\n                   verifiedChallenge = verifyBTCMessage(challenge);\r\n                   break;\r\n               case ETH:\r\n                   verifiedChallenge = verifyETHMessage(challenge);\r\n                   break;\r\n               default:\r\n                   throw new IllegalStateException(&quot;Unexpected value: &quot; + challenge.getCurrencyType());\r\n           }\r\n        return verifiedChallenge;\r\n        }\r\n    \r\n        private Challenge verifyBTCMessage(Challenge challenge) { //implementation here }\r\n\r\n        private Challenge verifyETHMessage(Challenge challenge) { //implementation here }\r\n\r\n    }\r\n\r\nCurrently the enum contains only 2 values, `ETH` and `BTC`, but some day the number of values in this enum can grow to 5, 10 or even more.\r\n\r\nAt this point I am thinking that my approach is wrong. I was looking at Strategy pattern, it looks nice, but it seems that at some point I won&#39;t be able to escape the whole *ifology* (or *switchology* to be exact here) to delegate the `Challenge` object to adequate methods based on the `CurrencyType` enum value.\r\n\r\nWhile reading about strategy pattern on refactoring guru, I have found this information (in the section of *cons* of the strategy pattern)\r\n\r\n    A lot of modern programming languages have functional type support that lets you implement different versions of an algorithm inside a set of anonymous functions.\r\n\r\nThis seems that this could be a better approach, but... I am in a beginner phase of learning functional programming, and to be completely honest - I don&#39;t know where to start. Or maybe the strategy pattern would be sufficient but I am missing some crucial thing about it? All I want to achieve is to get rid of the *switchology* if possible.\r\n\r\n","title":"How to deal with multiple choices based on value (enum) using strategy or functional interfaces?","body":"<p>I am dealing with a case when I have an <code>enum</code>:</p>\n<pre><code>public enum CurrencyType {\n    BTC, ETH\n}\n</code></pre>\n<p>A pojo:</p>\n<pre><code>public class Challenge {\n    private final String walletAddress;\n    private final CurrencyType currencyType;\n    //getters, constructors, setters\n}\n</code></pre>\n<p>A service:</p>\n<pre><code>@Service\npublic ChallengeService {\n   public Challenge verifyMessage(final Challenge challenge) {\n           Challenge verifiedChallenge;\n       switch (challenge.getCurrencyType()) {\n           case BTC:\n               verifiedChallenge = verifyBTCMessage(challenge);\n               break;\n           case ETH:\n               verifiedChallenge = verifyETHMessage(challenge);\n               break;\n           default:\n               throw new IllegalStateException(&quot;Unexpected value: &quot; + challenge.getCurrencyType());\n       }\n    return verifiedChallenge;\n    }\n\n    private Challenge verifyBTCMessage(Challenge challenge) { //implementation here }\n\n    private Challenge verifyETHMessage(Challenge challenge) { //implementation here }\n\n}\n</code></pre>\n<p>Currently the enum contains only 2 values, <code>ETH</code> and <code>BTC</code>, but some day the number of values in this enum can grow to 5, 10 or even more.</p>\n<p>At this point I am thinking that my approach is wrong. I was looking at Strategy pattern, it looks nice, but it seems that at some point I won't be able to escape the whole <em>ifology</em> (or <em>switchology</em> to be exact here) to delegate the <code>Challenge</code> object to adequate methods based on the <code>CurrencyType</code> enum value.</p>\n<p>While reading about strategy pattern on refactoring guru, I have found this information (in the section of <em>cons</em> of the strategy pattern)</p>\n<pre><code>A lot of modern programming languages have functional type support that lets you implement different versions of an algorithm inside a set of anonymous functions.\n</code></pre>\n<p>This seems that this could be a better approach, but... I am in a beginner phase of learning functional programming, and to be completely honest - I don't know where to start. Or maybe the strategy pattern would be sufficient but I am missing some crucial thing about it? All I want to achieve is to get rid of the <em>switchology</em> if possible.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1633348113,"post_id":69435345,"comment_id":122727399,"body_markdown":"That seems odd. `@SpringBootApplication` encapsulates `@Configuration`, `@EnableAutoConfiguration`, and `@ComponentScan` annotations with their default attributes. The default value for `@ComponentScan` means that all the sub packages on the package the `@ComponentScan` is used are scanned, so it should work without your own `@ComponentScan`. Is this all your code?","body":"That seems odd. <code>@SpringBootApplication</code> encapsulates <code>@Configuration</code>, <code>@EnableAutoConfiguration</code>, and <code>@ComponentScan</code> annotations with their default attributes. The default value for <code>@ComponentScan</code> means that all the sub packages on the package the <code>@ComponentScan</code> is used are scanned, so it should work without your own <code>@ComponentScan</code>. Is this all your code?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1633349957,"post_id":69435345,"comment_id":122728124,"body_markdown":"Adding `@ComponentScan` for a Spring Data JPA repository is useless as those aren&#39;t detected by regular component-scanning. (In fact the `@Repository` on the `AdminRepository` is useless it adds nothing). So I suspect that you changed something else as well (like adding some JPA configuration to your `application.properties` which fixed some JPA issue you had. Run the app with `--debug` to get get debug logging and the actual stacktrace of the underlying error instead of the analyzed one.","body":"Adding <code>@ComponentScan</code> for a Spring Data JPA repository is useless as those aren&#39;t detected by regular component-scanning. (In fact the <code>@Repository</code> on the <code>AdminRepository</code> is useless it adds nothing). So I suspect that you changed something else as well (like adding some JPA configuration to your <code>application.properties</code> which fixed some JPA issue you had. Run the app with <code>--debug</code> to get get debug logging and the actual stacktrace of the underlying error instead of the analyzed one."},{"owner":{"account_id":21476427,"reputation":179,"user_id":15824604,"display_name":"Java Programmer"},"score":0,"creation_date":1633350313,"post_id":69435345,"comment_id":122728252,"body_markdown":"@Jo&#227;oDias Yes, that&#39;s my code. I know that&#39;s odd. But it&#39;s happening.","body":"@Jo&#227;oDias Yes, that&#39;s my code. I know that&#39;s odd. But it&#39;s happening."},{"owner":{"account_id":21476427,"reputation":179,"user_id":15824604,"display_name":"Java Programmer"},"score":0,"creation_date":1633413689,"post_id":69435345,"comment_id":122745819,"body_markdown":"@M.Deinum, No I know what I did. In the same code with the same application.properties and maven dependencies, I removed ```@ComponentScan``` and it didn&#39;t work.","body":"@M.Deinum, No I know what I did. In the same code with the same application.properties and maven dependencies, I removed <code>@ComponentScan</code> and it didn&#39;t work."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1633413800,"post_id":69435345,"comment_id":122745849,"body_markdown":"Well it shouldn&#39;t so there must be something else, deliberate or accidental that is causing this. So either this isn&#39;t your actual code (mismatch in packages for instance) at least I still think you aren&#39;t showing the actual whole picture but the picture you think it is. As stated run with `--debug` to get the underlying stacktrace and cause of the repository not being detected.","body":"Well it shouldn&#39;t so there must be something else, deliberate or accidental that is causing this. So either this isn&#39;t your actual code (mismatch in packages for instance) at least I still think you aren&#39;t showing the actual whole picture but the picture you think it is. As stated run with <code>--debug</code> to get the underlying stacktrace and cause of the repository not being detected."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1633462222,"post_id":69435345,"comment_id":122765105,"body_markdown":"I am with @M.Deinum on this. There must be something else other than the code that you shared that is causing this behaviour.","body":"I am with @M.Deinum on this. There must be something else other than the code that you shared that is causing this behaviour."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1633527231,"post_id":69435345,"comment_id":122783281,"body_markdown":"What I suspect happens is that adding the component-scan actually hides the actual error by not instantiating parts of your application. So although it appears to be working I highly doubt that it is actually working.","body":"What I suspect happens is that adding the component-scan actually hides the actual error by not instantiating parts of your application. So although it appears to be working I highly doubt that it is actually working."}],"owner":{"account_id":21476427,"reputation":179,"user_id":15824604,"display_name":"Java Programmer"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633347481,"creation_date":1633347481,"question_id":69435345,"body_markdown":"I have been experimenting with spring boot since a while now, and I have noticed few strange things. Sometimes we have to include ```@ComponentScan``` in main class to solve the error which goes like ```try defining the bean of type package.name``` . \r\nFor eg. I created many sprint boot application without including ```@ComponentScan``` or any such annotation like ```@EnableJpaRepositories``` but recently I created one spring boot project which says ```Cannot find bean of type RepositoryName``` and when I used ```@ComponentScan``` , It worked. Why is that ? \r\nYou can see the code below: \r\n\r\nSpring Class:\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.ComponentScan;\r\n\r\n@ComponentScan(basePackages = {&quot;com.example.demo.repository&quot;})\r\n@SpringBootApplication\r\npublic class SampleApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SampleApplication.class, args);\r\n\t}\r\n\r\n\r\n}\r\n```\r\n\r\nEntity Class:\r\n```\r\npackage com.example.demo.entity;\r\n\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\n\r\nimport org.hibernate.annotations.GenericGenerator;\r\nimport org.springframework.data.annotation.Id;\r\n\r\nimport lombok.Data;\r\n\r\n@Entity(name = &quot;admin&quot;)\r\n@Data\r\npublic class Admin {\r\n\r\n    @Id\r\n    @GenericGenerator(name = &quot;admin_id_seq&quot; , strategy = &quot;increment&quot;)\r\n    @GeneratedValue(generator=&quot;admin_id_seq&quot;,strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    private String username;\r\n    private String password;\r\n    private String name;\r\n}\r\n```\r\n\r\nController\r\n```\r\npackage com.example.demo.controller;\r\n\r\nimport com.example.demo.dto.AdminRegisterDTO;\r\nimport com.example.demo.repository.AdminRepository;\r\nimport com.example.demo.service.AdminService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class AdminController {\r\n\r\n    @Autowired\r\n    private AdminService adminService;\r\n\r\n    @PostMapping(&quot;/login&quot;)\r\n    public AdminRegisterDTO registerAdmin(@RequestBody AdminRegisterDTO adminRegisterDTO){\r\n        return adminService.registerAdmin(adminRegisterDTO);\r\n    }\r\n}\r\n\r\n```\r\nService class\r\n```\r\npackage com.example.demo.service.impl;\r\n\r\nimport com.example.demo.dto.AdminRegisterDTO;\r\nimport com.example.demo.entity.Admin;\r\nimport com.example.demo.repository.AdminRepository;\r\nimport com.example.demo.service.AdminService;\r\nimport org.springframework.beans.BeanUtils;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class AdminServiceImpl implements AdminService {\r\n\r\n    @Autowired\r\n    private AdminRepository adminRepository;\r\n\r\n    @Override\r\n    public AdminRegisterDTO registerAdmin(AdminRegisterDTO adminRegisterDTO) {\r\n        Admin admin = new Admin();\r\n        BeanUtils.copyProperties(adminRegisterDTO,admin);\r\n        Admin savedAdmin = adminRepository.save(admin);\r\n        AdminRegisterDTO adminRegisterDTO1 = new AdminRegisterDTO();\r\n        BeanUtils.copyProperties(savedAdmin,adminRegisterDTO1);\r\n        return adminRegisterDTO1;\r\n    }\r\n}\r\n\r\n```\r\n\r\nRepository:\r\n\r\n```\r\npackage com.example.demo.repository;\r\n\r\nimport com.example.demo.entity.Admin;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface AdminRepository extends JpaRepository&lt;Admin, Long&gt; {\r\n}\r\n\r\n```\r\n\r\nIf I remove ```@ComponentScan``` I get the following error message:\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField adminRepository in com.example.demo.service.impl.AdminServiceImpl required a bean of type &#39;com.example.demo.repository.AdminRepository&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.example.demo.repository.AdminRepository&#39; in your configuration.\r\n\r\n\r\n```","title":"Why does spring boot behave abnormally sometimes ? - Cannot find Autowired class","body":"<p>I have been experimenting with spring boot since a while now, and I have noticed few strange things. Sometimes we have to include <code>@ComponentScan</code> in main class to solve the error which goes like <code>try defining the bean of type package.name</code> .\nFor eg. I created many sprint boot application without including <code>@ComponentScan</code> or any such annotation like <code>@EnableJpaRepositories</code> but recently I created one spring boot project which says <code>Cannot find bean of type RepositoryName</code> and when I used <code>@ComponentScan</code> , It worked. Why is that ?\nYou can see the code below:</p>\n<p>Spring Class:</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\n\n@ComponentScan(basePackages = {&quot;com.example.demo.repository&quot;})\n@SpringBootApplication\npublic class SampleApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SampleApplication.class, args);\n    }\n\n\n}\n</code></pre>\n<p>Entity Class:</p>\n<pre><code>package com.example.demo.entity;\n\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\n\nimport org.hibernate.annotations.GenericGenerator;\nimport org.springframework.data.annotation.Id;\n\nimport lombok.Data;\n\n@Entity(name = &quot;admin&quot;)\n@Data\npublic class Admin {\n\n    @Id\n    @GenericGenerator(name = &quot;admin_id_seq&quot; , strategy = &quot;increment&quot;)\n    @GeneratedValue(generator=&quot;admin_id_seq&quot;,strategy = GenerationType.AUTO)\n    private Long id;\n    private String username;\n    private String password;\n    private String name;\n}\n</code></pre>\n<p>Controller</p>\n<pre><code>package com.example.demo.controller;\n\nimport com.example.demo.dto.AdminRegisterDTO;\nimport com.example.demo.repository.AdminRepository;\nimport com.example.demo.service.AdminService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class AdminController {\n\n    @Autowired\n    private AdminService adminService;\n\n    @PostMapping(&quot;/login&quot;)\n    public AdminRegisterDTO registerAdmin(@RequestBody AdminRegisterDTO adminRegisterDTO){\n        return adminService.registerAdmin(adminRegisterDTO);\n    }\n}\n\n</code></pre>\n<p>Service class</p>\n<pre><code>package com.example.demo.service.impl;\n\nimport com.example.demo.dto.AdminRegisterDTO;\nimport com.example.demo.entity.Admin;\nimport com.example.demo.repository.AdminRepository;\nimport com.example.demo.service.AdminService;\nimport org.springframework.beans.BeanUtils;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class AdminServiceImpl implements AdminService {\n\n    @Autowired\n    private AdminRepository adminRepository;\n\n    @Override\n    public AdminRegisterDTO registerAdmin(AdminRegisterDTO adminRegisterDTO) {\n        Admin admin = new Admin();\n        BeanUtils.copyProperties(adminRegisterDTO,admin);\n        Admin savedAdmin = adminRepository.save(admin);\n        AdminRegisterDTO adminRegisterDTO1 = new AdminRegisterDTO();\n        BeanUtils.copyProperties(savedAdmin,adminRegisterDTO1);\n        return adminRegisterDTO1;\n    }\n}\n\n</code></pre>\n<p>Repository:</p>\n<pre><code>package com.example.demo.repository;\n\nimport com.example.demo.entity.Admin;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface AdminRepository extends JpaRepository&lt;Admin, Long&gt; {\n}\n\n</code></pre>\n<p>If I remove <code>@ComponentScan</code> I get the following error message:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField adminRepository in com.example.demo.service.impl.AdminServiceImpl required a bean of type 'com.example.demo.repository.AdminRepository' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'com.example.demo.repository.AdminRepository' in your configuration.\n\n\n</code></pre>\n"},{"tags":["java","json","gson"],"answers":[{"tags":[],"owner":{"account_id":210918,"reputation":632,"user_id":462794,"accept_rate":82,"display_name":"Bussiere"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633346701,"creation_date":1633346701,"answer_id":69435173,"question_id":69434722,"body_markdown":"I forgot to add :\r\n\r\n\t\twriter.flush(); //flush data to file   &lt;---\r\n        writer.close(); //close write  \r\n\r\nin my code as :\r\n\r\n    try{\r\n        //Writer writer = Files.newBufferedWriter(Paths.get(sFileName));\r\n    \t//gson.toJson(student, writer);\r\n    \t\t\tWriter writer = new FileWriter(sFileName);\r\n    \t\t\tgson.toJson(student, writer);\r\n    \t\t\twriter.flush(); //flush data to file   &lt;---\r\n                writer.close(); //close write  \r\n    \t\t} catch(IOException ex){\r\n    \t\t\tSystem.out.println (ex.toString());\r\n    \t\t\tSystem.out.println(&quot;Could not find file &quot; + sFileName);\r\n    \t\t}","title":"Empty json file when serialising with gson","body":"<p>I forgot to add :</p>\n<pre><code>    writer.flush(); //flush data to file   &lt;---\n    writer.close(); //close write  \n</code></pre>\n<p>in my code as :</p>\n<pre><code>try{\n    //Writer writer = Files.newBufferedWriter(Paths.get(sFileName));\n    //gson.toJson(student, writer);\n            Writer writer = new FileWriter(sFileName);\n            gson.toJson(student, writer);\n            writer.flush(); //flush data to file   &lt;---\n            writer.close(); //close write  \n        } catch(IOException ex){\n            System.out.println (ex.toString());\n            System.out.println(&quot;Could not find file &quot; + sFileName);\n        }\n</code></pre>\n"}],"owner":{"account_id":210918,"reputation":632,"user_id":462794,"accept_rate":82,"display_name":"Bussiere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":361,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1633346701,"creation_date":1633344582,"question_id":69434722,"body_markdown":"I would like to serialize a Student object into a student.json file,\r\nin my code it&#39;s student.\r\n\r\nThe main idea is that i create a json string , create a student from it then again make a json string but from the student object and finally serialize the student object to a json file.\r\n\r\nhere is my code :\r\n\r\n\r\n    import com.google.gson.Gson; \r\n    import com.google.gson.GsonBuilder;\r\n    import java.io.FileWriter;\r\n    import java.io.Writer; \r\n    import java.nio.file.Paths;\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    public class JaJson {\r\n    \r\n    \tpublic static void main(String args[]) {  \r\n    \t\tSystem.out.println(&quot;Hello&quot;);  \r\n    \t\tString jsonString = &quot;{\\&quot;name\\&quot;:\\&quot;Mahesh\\&quot;, \\&quot;age\\&quot;:21}&quot;; \r\n    \r\n    \t\tGsonBuilder builder = new GsonBuilder(); \r\n    \t\tbuilder.setPrettyPrinting(); \r\n    \r\n    \t\tGson gson = builder.create(); \r\n    \t\tStudent student = gson.fromJson(jsonString, Student.class);\r\n    \t\tSystem.out.println(&quot;student object&quot;);    \r\n    \t\tSystem.out.println(student);    \r\n    \r\n    \t\tjsonString = gson.toJson(student);\r\n    \t\tSystem.out.println(&quot;student string&quot;);  \r\n    \t\tSystem.out.println(jsonString); \r\n    \t\tString sFileName = &quot;student.json&quot;;\r\n    \t\ttry{\r\n        //Writer writer = Files.newBufferedWriter(Paths.get(sFileName));\r\n    \t//gson.toJson(student, writer);\r\n    \t\t\tWriter writer = new FileWriter(sFileName);\r\n    \t\t\tgson.toJson(student, writer);\r\n    \t\t} catch(IOException ex){\r\n    \t\t\tSystem.out.println (ex.toString());\r\n    \t\t\tSystem.out.println(&quot;Could not find file &quot; + sFileName);\r\n    \t\t}\r\n    \r\n    \t}  \r\n    \tpublic JaJson(){\r\n    \t\tSystem.out.println(&quot;what time is it ?&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\nhere is Student.java\r\n\r\n    public class Student { \r\n       private String name; \r\n       private int age; \r\n       public Student(){} \r\n       \r\n       public String getName() { \r\n          return name; \r\n       }\r\n       \r\n       public void setName(String name) { \r\n          this.name = name; \r\n       } \r\n       \r\n       public int getAge() { \r\n          return age; \r\n       }\r\n       \r\n       public void setAge(int age) { \r\n          this.age = age; \r\n       }\r\n       \r\n       public String toString() { \r\n          return &quot;Student [ name: &quot;+name+&quot;, age: &quot;+ age+ &quot; ]&quot;; \r\n       }  \r\n    }\r\n\r\nHere is the output of the program :\r\n\r\n&gt;     Hello\r\n&gt;     student object\r\n&gt;     Student [ name: Mahesh, age: 21 ]\r\n&gt;     student string\r\n&gt;     {\r\n&gt;       &quot;name&quot;: &quot;Mahesh&quot;,\r\n&gt;       &quot;age&quot;: 21\r\n&gt;     }\r\n\r\nBut it produces an empty student.json i don&#39;t understand ...\r\n\r\nAny idea what is missing ?\r\n\r\n\r\nregards\r\n","title":"Empty json file when serialising with gson","body":"<p>I would like to serialize a Student object into a student.json file,\nin my code it's student.</p>\n<p>The main idea is that i create a json string , create a student from it then again make a json string but from the student object and finally serialize the student object to a json file.</p>\n<p>here is my code :</p>\n<pre><code>import com.google.gson.Gson; \nimport com.google.gson.GsonBuilder;\nimport java.io.FileWriter;\nimport java.io.Writer; \nimport java.nio.file.Paths;\nimport java.io.IOException;\nimport java.nio.file.Files;\npublic class JaJson {\n\n    public static void main(String args[]) {  \n        System.out.println(&quot;Hello&quot;);  \n        String jsonString = &quot;{\\&quot;name\\&quot;:\\&quot;Mahesh\\&quot;, \\&quot;age\\&quot;:21}&quot;; \n\n        GsonBuilder builder = new GsonBuilder(); \n        builder.setPrettyPrinting(); \n\n        Gson gson = builder.create(); \n        Student student = gson.fromJson(jsonString, Student.class);\n        System.out.println(&quot;student object&quot;);    \n        System.out.println(student);    \n\n        jsonString = gson.toJson(student);\n        System.out.println(&quot;student string&quot;);  \n        System.out.println(jsonString); \n        String sFileName = &quot;student.json&quot;;\n        try{\n    //Writer writer = Files.newBufferedWriter(Paths.get(sFileName));\n    //gson.toJson(student, writer);\n            Writer writer = new FileWriter(sFileName);\n            gson.toJson(student, writer);\n        } catch(IOException ex){\n            System.out.println (ex.toString());\n            System.out.println(&quot;Could not find file &quot; + sFileName);\n        }\n\n    }  \n    public JaJson(){\n        System.out.println(&quot;what time is it ?&quot;);\n    }\n\n}\n</code></pre>\n<p>here is Student.java</p>\n<pre><code>public class Student { \n   private String name; \n   private int age; \n   public Student(){} \n   \n   public String getName() { \n      return name; \n   }\n   \n   public void setName(String name) { \n      this.name = name; \n   } \n   \n   public int getAge() { \n      return age; \n   }\n   \n   public void setAge(int age) { \n      this.age = age; \n   }\n   \n   public String toString() { \n      return &quot;Student [ name: &quot;+name+&quot;, age: &quot;+ age+ &quot; ]&quot;; \n   }  \n}\n</code></pre>\n<p>Here is the output of the program :</p>\n<blockquote>\n<pre><code>Hello\nstudent object\nStudent [ name: Mahesh, age: 21 ]\nstudent string\n{\n  &quot;name&quot;: &quot;Mahesh&quot;,\n  &quot;age&quot;: 21\n}\n</code></pre>\n</blockquote>\n<p>But it produces an empty student.json i don't understand ...</p>\n<p>Any idea what is missing ?</p>\n<p>regards</p>\n"},{"tags":["java","opengl"],"comments":[{"owner":{"account_id":9865997,"reputation":168,"user_id":7307451,"display_name":"Frank Weslien"},"score":0,"creation_date":1633345583,"post_id":69433015,"comment_id":122726451,"body_markdown":"So the stride should be 24 instead of 20? I&#39;m still getting strange behavior. When I create 2 particles the first one seems to behave as expected but the second one only travels along the x-axis and its `nbr_bounces` variable isn&#39;t getting updated.","body":"So the stride should be 24 instead of 20? I&#39;m still getting strange behavior. When I create 2 particles the first one seems to behave as expected but the second one only travels along the x-axis and its <code>nbr_bounces</code> variable isn&#39;t getting updated."},{"owner":{"account_id":9865997,"reputation":168,"user_id":7307451,"display_name":"Frank Weslien"},"score":0,"creation_date":1633347639,"post_id":69433015,"comment_id":122727214,"body_markdown":"For f sake... the goddamn library doesn&#39;t automatically pad the data for you so I had to do it myself. But now it works :)","body":"For f sake... the goddamn library doesn&#39;t automatically pad the data for you so I had to do it myself. But now it works :)"},{"owner":{"account_id":380209,"reputation":455523,"user_id":734069,"accept_rate":80,"display_name":"Nicol Bolas"},"score":1,"creation_date":1633354640,"post_id":69433015,"comment_id":122730155,"body_markdown":"@HampusWeslien: This code doesn&#39;t make sense. Vertex attributes are *not used* with Compute Shaders. At all. What you&#39;re using is an SSBO, which has absolutely nothing to do with `glVertexAttribPointer` calls. Your code &quot;works&quot; because you&#39;re binding that buffer as an SSBO, not because of any of your vertex setup.","body":"@HampusWeslien: This code doesn&#39;t make sense. Vertex attributes are <i>not used</i> with Compute Shaders. At all. What you&#39;re using is an SSBO, which has absolutely nothing to do with <code>glVertexAttribPointer</code> calls. Your code &quot;works&quot; because you&#39;re binding that buffer as an SSBO, not because of any of your vertex setup."}],"owner":{"account_id":9865997,"reputation":168,"user_id":7307451,"display_name":"Frank Weslien"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1633346471,"creation_date":1633336060,"question_id":69433015,"body_markdown":"I don&#39;t seem to be able to wrap my head around interleaving vertex attributes.\r\nI&#39;m trying to pass 3 attributes to my compute shader: position, velocity, and the number of times it has bounced off something. The code worked just fine before I added the `nbr_bounce` attribute. Now the data seems to not be aligned as I&#39;m imagining it. \r\n\r\nCreates the interleaved list of floats:\r\n\r\n    class ParticleSystem {\r\n        FloatList particleAttribList = new FloatList();\r\n        float[] particlesBuffer;\r\n        FloatBuffer fbParticles;\r\n        int numOfParticles;\r\n        ShaderProgram shaderProgram;\r\n        ComputeProgram computeProgram;\r\n      \r\n        ParticleSystem(int count) {\r\n      \r\n          numOfParticles = count;\r\n          for (int i=0; i&lt;count; i++) {\r\n            Particle p = new Particle();\r\n      \r\n            p.pos.x = random(-1, 1);\r\n            p.pos.y = random(-1, 1);\r\n            p.vel.x = 0.01;\r\n            p.vel.y = 0.01;\r\n      \r\n            particleAttribList.append(p.pos.x);\r\n            particleAttribList.append(p.pos.y);\r\n            particleAttribList.append(p.vel.x);\r\n            particleAttribList.append(p.vel.y);\r\n            particleAttribList.append(p.nbr_bounces);\r\n          }\r\n          \r\n          particlesBuffer = new float[particleAttribList.size()];\r\n          for (int i = 0; i&lt;particlesBuffer.length; i++) {\r\n            particlesBuffer[i] = particleAttribList.get(i);\r\n          }\r\n      \r\n          fbParticles = Buffers.newDirectFloatBuffer(particlesBuffer);\r\n          shaderProgram = new ShaderProgram(gl, &quot;vert.glsl&quot;, &quot;frag.glsl&quot;);\r\n          computeProgram = new ComputeProgram(gl, &quot;comp.glsl&quot;, fbParticles);\r\n        }\r\n\r\n\r\nPasses the list of floats to the Shader:\r\n\r\n      ComputeProgram(GL4 gl, String compute, FloatBuffer verticesFB) {\r\n        this.gl = gl;\r\n    \r\n        //Load and Compile the Compute Shader\r\n        int compute_shader = shaderHelper.createAndCompileShader(gl, GL4.GL_COMPUTE_SHADER, compute);\r\n    \r\n        compute_program = gl.glCreateProgram();\r\n        gl.glAttachShader(compute_program, compute_shader);\r\n        gl.glLinkProgram(compute_program);\r\n    \r\n        gl.glGenBuffers(1, vbo, 0);\r\n        gl.glBindBuffer(GL4.GL_ARRAY_BUFFER, vbo[0]);\r\n        gl.glBufferData(GL4.GL_ARRAY_BUFFER, verticesFB.limit()*4, verticesFB, GL4.GL_DYNAMIC_DRAW);\r\n        gl.glEnableVertexAttribArray(0);\r\n        gl.glEnableVertexAttribArray(1);\r\n        gl.glEnableVertexAttribArray(2);\r\n        // Since the Particle struct has 2 vec2 variables + 1 int, then the stride is 16 + 4 = 20\r\n        // position attribute (no offset)\r\n        gl.glVertexAttribPointer(0, 2, GL4.GL_FLOAT, false, 20, 0);\r\n        // velocity attribute (with (2*4)=8 offset)\r\n        gl.glVertexAttribPointer(1, 2, GL4.GL_FLOAT, false, 20, 8);\r\n        // nbr_bounces (with (2*4 + 2*4)=16 offset)\r\n        gl.glVertexAttribPointer(2, 1, GL4.GL_FLOAT, false, 20, 16);\r\n    \r\n        ssbo = vbo[0];\r\n        gl.glBindBufferBase(GL4.GL_SHADER_STORAGE_BUFFER, 0, ssbo);\r\n      }\r\n\r\n\r\nCompute Shader:\r\n\r\n    #version 430\r\n    \r\n    \r\n    struct Particle{\r\n    \tvec2 pos;\r\n    \tvec2 vel;\r\n    \tfloat nbr_bounces;\r\n    };\r\n    \r\n    layout(std430, binding = 0) buffer particlesBuffer\r\n    {\r\n    \tParticle particles[];\r\n    };\r\n    \r\n    layout(local_size_x = 1024, local_size_y = 1, local_size_z = 1) in;\r\n    \r\n    void main()\r\n    {\r\n    \tuint i = gl_GlobalInvocationID.x;\r\n    \r\n    \tvec2 tmpPos = particles[i].pos + particles[i].vel;\r\n    \r\n    \tif(abs(tmpPos.x) &gt;= 1.0){\r\n    \t\tparticles[i].vel.x = -1.0 * particles[i].vel.x;\r\n    \t\tparticles[i].nbr_bounces += 1.0;\r\n    \t}\r\n    \r\n    \tif(abs(tmpPos.y) &gt;= 1.0){\r\n    \t\tparticles[i].vel.y = -1.0 * particles[i].vel.y;\r\n    \t\tparticles[i].nbr_bounces += 1.0;\r\n    \t}\r\n    \r\n    \tparticles[i].pos += particles[i].vel;\r\n    }","title":"Understanding stride and offset when interleaving attributes in a vertex buffer","body":"<p>I don't seem to be able to wrap my head around interleaving vertex attributes.\nI'm trying to pass 3 attributes to my compute shader: position, velocity, and the number of times it has bounced off something. The code worked just fine before I added the <code>nbr_bounce</code> attribute. Now the data seems to not be aligned as I'm imagining it.</p>\n<p>Creates the interleaved list of floats:</p>\n<pre><code>class ParticleSystem {\n    FloatList particleAttribList = new FloatList();\n    float[] particlesBuffer;\n    FloatBuffer fbParticles;\n    int numOfParticles;\n    ShaderProgram shaderProgram;\n    ComputeProgram computeProgram;\n  \n    ParticleSystem(int count) {\n  \n      numOfParticles = count;\n      for (int i=0; i&lt;count; i++) {\n        Particle p = new Particle();\n  \n        p.pos.x = random(-1, 1);\n        p.pos.y = random(-1, 1);\n        p.vel.x = 0.01;\n        p.vel.y = 0.01;\n  \n        particleAttribList.append(p.pos.x);\n        particleAttribList.append(p.pos.y);\n        particleAttribList.append(p.vel.x);\n        particleAttribList.append(p.vel.y);\n        particleAttribList.append(p.nbr_bounces);\n      }\n      \n      particlesBuffer = new float[particleAttribList.size()];\n      for (int i = 0; i&lt;particlesBuffer.length; i++) {\n        particlesBuffer[i] = particleAttribList.get(i);\n      }\n  \n      fbParticles = Buffers.newDirectFloatBuffer(particlesBuffer);\n      shaderProgram = new ShaderProgram(gl, &quot;vert.glsl&quot;, &quot;frag.glsl&quot;);\n      computeProgram = new ComputeProgram(gl, &quot;comp.glsl&quot;, fbParticles);\n    }\n</code></pre>\n<p>Passes the list of floats to the Shader:</p>\n<pre><code>  ComputeProgram(GL4 gl, String compute, FloatBuffer verticesFB) {\n    this.gl = gl;\n\n    //Load and Compile the Compute Shader\n    int compute_shader = shaderHelper.createAndCompileShader(gl, GL4.GL_COMPUTE_SHADER, compute);\n\n    compute_program = gl.glCreateProgram();\n    gl.glAttachShader(compute_program, compute_shader);\n    gl.glLinkProgram(compute_program);\n\n    gl.glGenBuffers(1, vbo, 0);\n    gl.glBindBuffer(GL4.GL_ARRAY_BUFFER, vbo[0]);\n    gl.glBufferData(GL4.GL_ARRAY_BUFFER, verticesFB.limit()*4, verticesFB, GL4.GL_DYNAMIC_DRAW);\n    gl.glEnableVertexAttribArray(0);\n    gl.glEnableVertexAttribArray(1);\n    gl.glEnableVertexAttribArray(2);\n    // Since the Particle struct has 2 vec2 variables + 1 int, then the stride is 16 + 4 = 20\n    // position attribute (no offset)\n    gl.glVertexAttribPointer(0, 2, GL4.GL_FLOAT, false, 20, 0);\n    // velocity attribute (with (2*4)=8 offset)\n    gl.glVertexAttribPointer(1, 2, GL4.GL_FLOAT, false, 20, 8);\n    // nbr_bounces (with (2*4 + 2*4)=16 offset)\n    gl.glVertexAttribPointer(2, 1, GL4.GL_FLOAT, false, 20, 16);\n\n    ssbo = vbo[0];\n    gl.glBindBufferBase(GL4.GL_SHADER_STORAGE_BUFFER, 0, ssbo);\n  }\n</code></pre>\n<p>Compute Shader:</p>\n<pre><code>#version 430\n\n\nstruct Particle{\n    vec2 pos;\n    vec2 vel;\n    float nbr_bounces;\n};\n\nlayout(std430, binding = 0) buffer particlesBuffer\n{\n    Particle particles[];\n};\n\nlayout(local_size_x = 1024, local_size_y = 1, local_size_z = 1) in;\n\nvoid main()\n{\n    uint i = gl_GlobalInvocationID.x;\n\n    vec2 tmpPos = particles[i].pos + particles[i].vel;\n\n    if(abs(tmpPos.x) &gt;= 1.0){\n        particles[i].vel.x = -1.0 * particles[i].vel.x;\n        particles[i].nbr_bounces += 1.0;\n    }\n\n    if(abs(tmpPos.y) &gt;= 1.0){\n        particles[i].vel.y = -1.0 * particles[i].vel.y;\n        particles[i].nbr_bounces += 1.0;\n    }\n\n    particles[i].pos += particles[i].vel;\n}\n</code></pre>\n"},{"tags":["java","android","boolean"],"answers":[{"tags":[],"owner":{"account_id":2573,"reputation":24982,"user_id":3587,"accept_rate":74,"display_name":"Thomas L&#246;tzer"},"down_vote_count":0,"up_vote_count":71,"is_accepted":true,"score":71,"last_activity_date":1281451181,"creation_date":1281451181,"answer_id":3450134,"question_id":3450117,"body_markdown":"`bool` does not seem to exist, at least I can&#39;t find references to it.\r\n\r\n`boolean` is a primitive boolean type, *not* an object.\r\n\r\n`Boolean` is the wrapper object for a `boolean`.\r\n\r\n ","title":"Differences among various bool types?","body":"<p><code>bool</code> does not seem to exist, at least I can't find references to it.</p>\n\n<p><code>boolean</code> is a primitive boolean type, <em>not</em> an object.</p>\n\n<p><code>Boolean</code> is the wrapper object for a <code>boolean</code>.</p>\n"},{"tags":[],"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1281451370,"creation_date":1281451370,"answer_id":3450174,"question_id":3450117,"body_markdown":"`boolean` is a java primitive type. It only accepts `true` or `false` (which are declared constants in java).\r\n\r\n**Boolean** is a Serializable wrapper of `boolean` primitive type. From the JDK....\r\n\r\n&gt; The `Boolean` class wraps a value of\r\n&gt; the primitive type boolean in an\r\n&gt; object. An object of type Boolean\r\n&gt; contains a single field whose type is\r\n&gt; `boolean`.\r\n\r\n`bool` doesn&#39;t exist in java, but it does in Android as [`R.bool`][1].\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/R.bool.html","title":"Differences among various bool types?","body":"<p><code>boolean</code> is a java primitive type. It only accepts <code>true</code> or <code>false</code> (which are declared constants in java).</p>\n\n<p><strong>Boolean</strong> is a Serializable wrapper of <code>boolean</code> primitive type. From the JDK....</p>\n\n<blockquote>\n  <p>The <code>Boolean</code> class wraps a value of\n  the primitive type boolean in an\n  object. An object of type Boolean\n  contains a single field whose type is\n  <code>boolean</code>.</p>\n</blockquote>\n\n<p><code>bool</code> doesn't exist in java, but it does in Android as <a href=\"http://developer.android.com/reference/android/R.bool.html\" rel=\"noreferrer\"><code>R.bool</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":1652212,"reputation":4898,"user_id":1522554,"accept_rate":24,"display_name":"Maddy Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633346238,"creation_date":1633346238,"answer_id":69435086,"question_id":3450117,"body_markdown":"boolean is a primitive boolean type and occupies less memory.\r\nBoolean is the wrapper object for a boolean which introduced in JDK 1.5.\r\n\r\n 1. Suppose you have a service API which will execute a query and get the data from multiple tables.\r\n 2. After that this data is to be manipulated and converted into the json object.\r\n 3. During this conversion, it ight be possible that some boolean field may have &#39;NULL&#39; as value.\r\n 4. While receiving it as a response, you will definately parse it into an object.\r\n 5. This automatic conversion may fail if your conversion logic will try to parse Boolean &#39;NULL&#39; value into boolean primitive variable because boolean can&#39;t accept &#39;NULL&#39; values.\r\n","title":"Differences among various bool types?","body":"<p>boolean is a primitive boolean type and occupies less memory.\nBoolean is the wrapper object for a boolean which introduced in JDK 1.5.</p>\n<ol>\n<li>Suppose you have a service API which will execute a query and get the data from multiple tables.</li>\n<li>After that this data is to be manipulated and converted into the json object.</li>\n<li>During this conversion, it ight be possible that some boolean field may have 'NULL' as value.</li>\n<li>While receiving it as a response, you will definately parse it into an object.</li>\n<li>This automatic conversion may fail if your conversion logic will try to parse Boolean 'NULL' value into boolean primitive variable because boolean can't accept 'NULL' values.</li>\n</ol>\n"}],"owner":{"account_id":170878,"reputation":6606,"user_id":397901,"accept_rate":83,"display_name":"sajjoo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52742,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":3450134,"answer_count":3,"score":37,"last_activity_date":1633346238,"creation_date":1281451089,"question_id":3450117,"body_markdown":"What are the differences among bool, boolean and Boolean in Java/Android?","title":"Differences among various bool types?","body":"<p>What are the differences among bool, boolean and Boolean in Java/Android?</p>\n"},{"tags":["java","jms","listener","heap-memory","amazon-sqs"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1633355108,"post_id":69434935,"comment_id":122730367,"body_markdown":"What does this have to do with JMS? Are your clients using the JMS API to interact with SQS?","body":"What does this have to do with JMS? Are your clients using the JMS API to interact with SQS?"},{"owner":{"account_id":8993036,"reputation":17,"user_id":6704334,"display_name":"Abdul Renish"},"score":0,"creation_date":1633444187,"post_id":69434935,"comment_id":122758068,"body_markdown":"The sqs is listened by jms listener in the subscriber app.","body":"The sqs is listened by jms listener in the subscriber app."}],"owner":{"account_id":8993036,"reputation":17,"user_id":6704334,"display_name":"Abdul Renish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633345556,"creation_date":1633345556,"question_id":69434935,"body_markdown":"We have an external system that pushes data to SQS, and the consumer is another java service, that listens and created the requests, distributes the tasks, then acknowledges the SQS.\r\n\r\nBut a memory heap issue occurred a time, and from the logs, it is understood that the java consumer consumed multiple times the Queue, but all times throws a memory exception, and seems saved all later.\r\nSo the Q didn&#39;t get acknowledged, so data was available for the consumer. The db commits happened after a certain while only.\r\n\r\nThe strategy to avoid this kind of issue, what approach we can take?\r\nException Handling, SQS retry mechanism change, check exists kind of validation..?","title":"SQS Java Listener cluster nodes duplicate data created on a memory heap issue","body":"<p>We have an external system that pushes data to SQS, and the consumer is another java service, that listens and created the requests, distributes the tasks, then acknowledges the SQS.</p>\n<p>But a memory heap issue occurred a time, and from the logs, it is understood that the java consumer consumed multiple times the Queue, but all times throws a memory exception, and seems saved all later.\nSo the Q didn't get acknowledged, so data was available for the consumer. The db commits happened after a certain while only.</p>\n<p>The strategy to avoid this kind of issue, what approach we can take?\nException Handling, SQS retry mechanism change, check exists kind of validation..?</p>\n"},{"tags":["java","rest","jersey","zip"],"answers":[{"tags":[],"owner":{"account_id":18351980,"reputation":31,"user_id":13365939,"display_name":"Escanor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633345413,"creation_date":1633345413,"answer_id":69434905,"question_id":69410438,"body_markdown":"Ok so I solved it, apparently my request was getting a 404 for adding the query param in the path... `.path(&quot;download?delete=true&quot;)`","title":"Jersey Client download ZIP file and unpack efficiently","body":"<p>Ok so I solved it, apparently my request was getting a 404 for adding the query param in the path... <code>.path(&quot;download?delete=true&quot;)</code></p>\n"}],"owner":{"account_id":18351980,"reputation":31,"user_id":13365939,"display_name":"Escanor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69434905,"answer_count":1,"score":0,"last_activity_date":1633345413,"creation_date":1633112564,"question_id":69410438,"body_markdown":"So, I have a server application that returns ZIP files and I&#39;m working with huge files (&gt;=5GB). I am then using the jersey client to do a GET request from this application after which I want to basically extract the ZIP and save it as a folder. This is the client configuration:\r\n```\r\nClient client = ClientBuilder.newClient();\r\nclient.register(JacksonJaxbJsonProvider.class);\r\nclient.register(MultiPartFeature.class);\r\nreturn client;\r\n```\r\nAnd here&#39;s the code fetching the response from the server:\r\n```\r\nclient.target(subMediumResponseLocation).path(&quot;download?delete=true&quot;).request()\r\n                                           .get().readEntity(InputStream.class)\r\n```\r\nMy code then goes through a bunch of (unimportant for this question) steps and finally gets to the writing of data.\r\n```\r\ntry (ZipInputStream zis = new ZipInputStream(inputStream)) {\r\n   ZipEntry ze = zis.getNextEntry();\r\n   while(ze != null){\r\n     String fileName = ze.getName();\r\n     if(fileName.contains(&quot;.&quot;)) {\r\n       size += saveDataInDirectory(folder,zis,fileName);\r\n     }\r\n     is.closeEntry();\r\n     ze = zis.getNextEntry();\r\n  }\r\n  zis.closeEntry();\r\n} finally {\r\n  inputStream.close();\r\n}\r\n```\r\nNow the issue I&#39;m getting is that the ZipInputStream refuses to work. I can debug the application and see that there are bytes in the InputStream but when it get to the `while(ze != null)` check, it returns null on the first entry, resulting in an empty directory.\r\n\r\nI have also tried writing the InputStream from the client to a ByteArrayOutputStream using \r\nthe `transferTo` method, but I get a java heap space error saying the array length is too big (even though my heap space settings are Xmx=16gb and Xms=12gb). \r\n\r\nMy thoughts were that maybe since the InputStream is lazy loaded by `Jersey` using the `UrlConnector` directly, this doesn&#39;t react well with the `ZipInputStream`. Another possible issue is that I&#39;m not using a `ByteArrayInputStream` for the `ZipInputStream`.\r\n\r\nWhat would a proper solution for this be (keeping in mind the heap issues)?","title":"Jersey Client download ZIP file and unpack efficiently","body":"<p>So, I have a server application that returns ZIP files and I'm working with huge files (&gt;=5GB). I am then using the jersey client to do a GET request from this application after which I want to basically extract the ZIP and save it as a folder. This is the client configuration:</p>\n<pre><code>Client client = ClientBuilder.newClient();\nclient.register(JacksonJaxbJsonProvider.class);\nclient.register(MultiPartFeature.class);\nreturn client;\n</code></pre>\n<p>And here's the code fetching the response from the server:</p>\n<pre><code>client.target(subMediumResponseLocation).path(&quot;download?delete=true&quot;).request()\n                                           .get().readEntity(InputStream.class)\n</code></pre>\n<p>My code then goes through a bunch of (unimportant for this question) steps and finally gets to the writing of data.</p>\n<pre><code>try (ZipInputStream zis = new ZipInputStream(inputStream)) {\n   ZipEntry ze = zis.getNextEntry();\n   while(ze != null){\n     String fileName = ze.getName();\n     if(fileName.contains(&quot;.&quot;)) {\n       size += saveDataInDirectory(folder,zis,fileName);\n     }\n     is.closeEntry();\n     ze = zis.getNextEntry();\n  }\n  zis.closeEntry();\n} finally {\n  inputStream.close();\n}\n</code></pre>\n<p>Now the issue I'm getting is that the ZipInputStream refuses to work. I can debug the application and see that there are bytes in the InputStream but when it get to the <code>while(ze != null)</code> check, it returns null on the first entry, resulting in an empty directory.</p>\n<p>I have also tried writing the InputStream from the client to a ByteArrayOutputStream using\nthe <code>transferTo</code> method, but I get a java heap space error saying the array length is too big (even though my heap space settings are Xmx=16gb and Xms=12gb).</p>\n<p>My thoughts were that maybe since the InputStream is lazy loaded by <code>Jersey</code> using the <code>UrlConnector</code> directly, this doesn't react well with the <code>ZipInputStream</code>. Another possible issue is that I'm not using a <code>ByteArrayInputStream</code> for the <code>ZipInputStream</code>.</p>\n<p>What would a proper solution for this be (keeping in mind the heap issues)?</p>\n"},{"tags":["java","arrays","collections","java.util.scanner"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1633343457,"post_id":69434469,"comment_id":122725636,"body_markdown":"`numbers` is a `Scanner`. What is the `max` of a `Scanner`?","body":"<code>numbers</code> is a <code>Scanner</code>. What is the <code>max</code> of a <code>Scanner</code>?"},{"owner":{"account_id":10893801,"reputation":35,"user_id":9340964,"display_name":"A M"},"score":0,"creation_date":1633343552,"post_id":69434469,"comment_id":122725669,"body_markdown":"I am trying to get the max value from the input that ive entered in the arrays","body":"I am trying to get the max value from the input that ive entered in the arrays"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1633343602,"post_id":69434469,"comment_id":122725694,"body_markdown":"@AMalak then you need to do something with the arrays, not the scanner you used to read values from the input.","body":"@AMalak then you need to do something with the arrays, not the scanner you used to read values from the input."},{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":0,"creation_date":1633343672,"post_id":69434469,"comment_id":122725733,"body_markdown":"https://stackoverflow.com/questions/1484347/finding-the-max-min-value-in-an-array-of-primitives-using-java","body":"<a href=\"https://stackoverflow.com/questions/1484347/finding-the-max-min-value-in-an-array-of-primitives-using-java\" title=\"finding the max min value in an array of primitives using java\">stackoverflow.com/questions/1484347/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1633345349,"creation_date":1633343921,"answer_id":69434584,"question_id":69434469,"body_markdown":"```\r\nCollections.max(numbers)\r\n```\r\n\r\ndoesn&#39;t work because `numbers` is a `Scanner`. &quot;The max of a `Scanner`&quot; doesn&#39;t make sense: it doesn&#39;t have maximum or minimum values, it&#39;s a thing that just gives you one value at a time.\r\n\r\nYou need to do something with the arrays that you read values into.\r\n\r\nYou can&#39;t do `Collections.max(array)`, because `array` is an array, not a collection. You can make some arrays (those with reference-typed elements like `String[]`, `Object[]` etc) into collections using `Arrays.asList(...)`; but you can&#39;t do that with `array` because it&#39;s an `int[]`. Or rather, you _can_ do that with `array`, but you get a `List&lt;int[]&gt;`, which you can&#39;t pass to `Collections.max` either, because `int[]` doesn&#39;t have a natural ordering.\r\n\r\nWhat you can do instead is either:\r\n\r\n* Change the type of `array` from `int[]` to `Integer[]`: then `Collections.max(Arrays.asList(...))` will work;\r\n* Replace `int[] array` with `List&lt;Integer&gt; list`, and `add` instead of setting elements;\r\n* Use `IntStream.of(array).max().orElseThrow()` instead.","title":"Collections.max gives me an error in java, can anyone please Assist?","body":"<pre><code>Collections.max(numbers)\n</code></pre>\n<p>doesn't work because <code>numbers</code> is a <code>Scanner</code>. &quot;The max of a <code>Scanner</code>&quot; doesn't make sense: it doesn't have maximum or minimum values, it's a thing that just gives you one value at a time.</p>\n<p>You need to do something with the arrays that you read values into.</p>\n<p>You can't do <code>Collections.max(array)</code>, because <code>array</code> is an array, not a collection. You can make some arrays (those with reference-typed elements like <code>String[]</code>, <code>Object[]</code> etc) into collections using <code>Arrays.asList(...)</code>; but you can't do that with <code>array</code> because it's an <code>int[]</code>. Or rather, you <em>can</em> do that with <code>array</code>, but you get a <code>List&lt;int[]&gt;</code>, which you can't pass to <code>Collections.max</code> either, because <code>int[]</code> doesn't have a natural ordering.</p>\n<p>What you can do instead is either:</p>\n<ul>\n<li>Change the type of <code>array</code> from <code>int[]</code> to <code>Integer[]</code>: then <code>Collections.max(Arrays.asList(...))</code> will work;</li>\n<li>Replace <code>int[] array</code> with <code>List&lt;Integer&gt; list</code>, and <code>add</code> instead of setting elements;</li>\n<li>Use <code>IntStream.of(array).max().orElseThrow()</code> instead.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7767429,"reputation":674,"user_id":5878215,"display_name":"Zorglube"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633344140,"creation_date":1633344140,"answer_id":69434641,"question_id":69434469,"body_markdown":"Maybe \r\n\r\n\tpublic static void main(final String[] args) {\r\n\r\n\t\tfinal Scanner numbers = new Scanner(System.in);\r\n\t\tSystem.out.print(&quot;Enter the number of elements you want to store: &quot;);\r\n\t\t// reading the number of elements from the that we want to enter\r\n\t\tfinal Integer n = numbers.nextInt();\r\n\t\t// creates an array in the memory of length 10\r\n\t\tfinal List&lt;Integer&gt; array = new ArrayList&lt;&gt;(10);\r\n\t\tSystem.out.println(&quot;Enter the elements of the array: &quot;);\r\n\t\tfor (int i = 0; i &lt; n; i++) {\r\n\t\t\t// reading array elements from the user\r\n\t\t\tarray.set(i, numbers.nextInt());\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Array elements are: &quot;);\r\n\t\t// accessing array elements using the for loop\r\n\t\tfor (int i = 0; i &lt; n; i++) {\r\n\t\t\tSystem.out.println(array.get(i));\r\n\t\t}\r\n\r\n\t\tSystem.out.println(&quot;The max value is: &quot; + Collections.max(array));\r\n\t}","title":"Collections.max gives me an error in java, can anyone please Assist?","body":"<p>Maybe</p>\n<pre><code>public static void main(final String[] args) {\n\n    final Scanner numbers = new Scanner(System.in);\n    System.out.print(&quot;Enter the number of elements you want to store: &quot;);\n    // reading the number of elements from the that we want to enter\n    final Integer n = numbers.nextInt();\n    // creates an array in the memory of length 10\n    final List&lt;Integer&gt; array = new ArrayList&lt;&gt;(10);\n    System.out.println(&quot;Enter the elements of the array: &quot;);\n    for (int i = 0; i &lt; n; i++) {\n        // reading array elements from the user\n        array.set(i, numbers.nextInt());\n    }\n    System.out.println(&quot;Array elements are: &quot;);\n    // accessing array elements using the for loop\n    for (int i = 0; i &lt; n; i++) {\n        System.out.println(array.get(i));\n    }\n\n    System.out.println(&quot;The max value is: &quot; + Collections.max(array));\n}\n</code></pre>\n"}],"owner":{"account_id":10893801,"reputation":35,"user_id":9340964,"display_name":"A M"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633345349,"creation_date":1633343330,"question_id":69434469,"body_markdown":"here is the code:\r\n\r\n```\r\nimport java.util.Collections;\r\nimport java.util.Scanner;\r\n\r\npublic class task2 {\r\n  public static void main(String[] args) {\r\n\r\n    int n;\r\n    Scanner numbers = new Scanner(System.in);\r\n    System.out.print(&quot;Enter the number of elements you want to store: &quot;);\r\n    // reading the number of elements from the that we want to enter\r\n    n = numbers.nextInt();\r\n    // creates an array in the memory of length 10\r\n    int[] array = new int[10];\r\n    System.out.println(&quot;Enter the elements of the array: &quot;);\r\n    for (int i = 0; i &lt; n; i++) {\r\n      // reading array elements from the user\r\n      array[i] = numbers.nextInt();\r\n    }\r\n    System.out.println(&quot;Array elements are: &quot;);\r\n    // accessing array elements using the for loop\r\n    for (int i = 0; i &lt; n; i++) {\r\n      System.out.println(array[i]);\r\n    }\r\n\r\n    System.out.println(&quot;The max value is: &quot; + Collections.max(numbers));\r\n  }\r\n}\r\n```\r\n\r\nI am getting an error saying &quot;The method max(Collection&lt;? extends T&gt;) in the type Collections is not applicable for the arguments (Scanner)&quot;\r\n\r\nIf anyone could please help that would be great, please keep in mind that I am an absolute beginner in java, so please forgive me for for any silly mistakes that I&#39;ve made.","title":"Collections.max gives me an error in java, can anyone please Assist?","body":"<p>here is the code:</p>\n<pre><code>import java.util.Collections;\nimport java.util.Scanner;\n\npublic class task2 {\n  public static void main(String[] args) {\n\n    int n;\n    Scanner numbers = new Scanner(System.in);\n    System.out.print(&quot;Enter the number of elements you want to store: &quot;);\n    // reading the number of elements from the that we want to enter\n    n = numbers.nextInt();\n    // creates an array in the memory of length 10\n    int[] array = new int[10];\n    System.out.println(&quot;Enter the elements of the array: &quot;);\n    for (int i = 0; i &lt; n; i++) {\n      // reading array elements from the user\n      array[i] = numbers.nextInt();\n    }\n    System.out.println(&quot;Array elements are: &quot;);\n    // accessing array elements using the for loop\n    for (int i = 0; i &lt; n; i++) {\n      System.out.println(array[i]);\n    }\n\n    System.out.println(&quot;The max value is: &quot; + Collections.max(numbers));\n  }\n}\n</code></pre>\n<p>I am getting an error saying &quot;The method max(Collection&lt;? extends T&gt;) in the type Collections is not applicable for the arguments (Scanner)&quot;</p>\n<p>If anyone could please help that would be great, please keep in mind that I am an absolute beginner in java, so please forgive me for for any silly mistakes that I've made.</p>\n"},{"tags":["java","json","spring-boot","rest","postman"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1633345178,"creation_date":1633345178,"answer_id":69434854,"question_id":69434638,"body_markdown":"You will need to have a handler for the exception:\r\n```java\r\n@ControllerAdvice\r\n@Slf4j\r\npublic class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n    @ExceptionHandler(value = {IllegalArgumentException.class})\r\n    public ResponseEntity&lt;Object&gt; handleIllegalArgumentExceptions(Exception exception, WebRequest webRequest) {\r\n        HttpStatus errorCode = HttpStatus.INTERNAL_SERVER_ERROR;\r\n\r\n        return this.handleExceptionInternal(exception, new ErrorInfo(errorCode.value(), &quot;Id already exist, Cannot create record&quot;), new HttpHeaders(), errorCode, webRequest);\r\n    }\r\n}\r\n```\r\n\r\nAnd the model `ErrorInfo`:\r\n```java\r\npublic class ErrorInfo {\r\n    private final int code;\r\n    private final String description;\r\n}\r\n```\r\n\r\nFinally, you should definitely consider creating your own exception instead of using the generic `IllegalArgumentException`. You can create something more meaningful for your business case, such as `RecordAlreadyExistsException`.","title":"How to customize the internal server error message (error code : 500)","body":"<p>You will need to have a handler for the exception:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ControllerAdvice\n@Slf4j\npublic class GlobalExceptionHandler extends ResponseEntityExceptionHandler {\n\n    @ExceptionHandler(value = {IllegalArgumentException.class})\n    public ResponseEntity&lt;Object&gt; handleIllegalArgumentExceptions(Exception exception, WebRequest webRequest) {\n        HttpStatus errorCode = HttpStatus.INTERNAL_SERVER_ERROR;\n\n        return this.handleExceptionInternal(exception, new ErrorInfo(errorCode.value(), &quot;Id already exist, Cannot create record&quot;), new HttpHeaders(), errorCode, webRequest);\n    }\n}\n</code></pre>\n<p>And the model <code>ErrorInfo</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ErrorInfo {\n    private final int code;\n    private final String description;\n}\n</code></pre>\n<p>Finally, you should definitely consider creating your own exception instead of using the generic <code>IllegalArgumentException</code>. You can create something more meaningful for your business case, such as <code>RecordAlreadyExistsException</code>.</p>\n"}],"owner":{"account_id":12247989,"reputation":123,"user_id":8939178,"display_name":"Masoom Raza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2924,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69434854,"answer_count":1,"score":0,"last_activity_date":1633345178,"creation_date":1633344124,"question_id":69434638,"body_markdown":"Consider a scenario where I want to create a record in database with the already existing ID. By doing this, we get &quot;500-internal server error&quot;. But I want to customize the message returned to &quot;Id already exist, Cannot create record&quot;. Below is the my sample existing code: \r\nController class :\r\n```\r\n\t@PostMapping(value = &quot;/plans&quot;)\r\n\tpublic ResponseEntity&lt;ResponseSave&gt; savePostPlanDetails(\r\n\t\t\t@Valid @RequestBody(required = true) Plan plan) throws ParseException {\r\n\r\n\t\tString planId = plan.getPlanId();\r\n\r\n\t\tInteger createdId = planDataService.savePlan(plan, planId);\r\n\r\n\t\tServiceMessage serviceMessage = ServiceMessage.createCreatedServiceMessage();\r\n\t\treturn new ResponseEntity&lt;&gt;(ResponseSave.createResponseSave(serviceMessage, createdId), HttpStatus.CREATED);\r\n\t}\r\n```\r\nService class :\r\n```\r\npublic Integer savePlan(Plan plan, String planId) throws ParseException {\r\n\r\n\r\n\t\tPlanDao findResponse = planDataRepository.findByPlanId(planId);\r\n\r\n\t\tif (findResponse != null) {\r\n            //This line generate 500 error if create with already existing ID.\r\n\t\t\tthrow new IllegalArgumentException(PlanSearchEnum.RECORD_ALREADY_EXIST.getValue()); \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tPlanDao planDao1 = requestToResponseMapper.panToPlanDao(plan);\r\n\t\tPlanDao saveResponse = planDataRepository.save(planDao1);\r\n\t\treturn saveResponse.getInternalId();\r\n\r\n\t}\r\n```\r\nPostman Output : \r\n```\r\n{\r\n    &quot;message&quot;: {\r\n        &quot;code&quot;: &quot;500&quot;,\r\n        &quot;description&quot;: &quot;Unable to process request&quot;,\r\n        &quot;type&quot;: &quot;Internal Server Error&quot;\r\n    }\r\n}\r\n```\r\nAs in the above postman response, I want the description to be like : &quot;description&quot;: &quot;Id already exist, Cannot create record&quot; instead of the general message as show above. So how to do this ?","title":"How to customize the internal server error message (error code : 500)","body":"<p>Consider a scenario where I want to create a record in database with the already existing ID. By doing this, we get &quot;500-internal server error&quot;. But I want to customize the message returned to &quot;Id already exist, Cannot create record&quot;. Below is the my sample existing code:\nController class :</p>\n<pre><code>    @PostMapping(value = &quot;/plans&quot;)\n    public ResponseEntity&lt;ResponseSave&gt; savePostPlanDetails(\n            @Valid @RequestBody(required = true) Plan plan) throws ParseException {\n\n        String planId = plan.getPlanId();\n\n        Integer createdId = planDataService.savePlan(plan, planId);\n\n        ServiceMessage serviceMessage = ServiceMessage.createCreatedServiceMessage();\n        return new ResponseEntity&lt;&gt;(ResponseSave.createResponseSave(serviceMessage, createdId), HttpStatus.CREATED);\n    }\n</code></pre>\n<p>Service class :</p>\n<pre><code>public Integer savePlan(Plan plan, String planId) throws ParseException {\n\n\n        PlanDao findResponse = planDataRepository.findByPlanId(planId);\n\n        if (findResponse != null) {\n            //This line generate 500 error if create with already existing ID.\n            throw new IllegalArgumentException(PlanSearchEnum.RECORD_ALREADY_EXIST.getValue());                                                                                                 \n        }\n        \n        PlanDao planDao1 = requestToResponseMapper.panToPlanDao(plan);\n        PlanDao saveResponse = planDataRepository.save(planDao1);\n        return saveResponse.getInternalId();\n\n    }\n</code></pre>\n<p>Postman Output :</p>\n<pre><code>{\n    &quot;message&quot;: {\n        &quot;code&quot;: &quot;500&quot;,\n        &quot;description&quot;: &quot;Unable to process request&quot;,\n        &quot;type&quot;: &quot;Internal Server Error&quot;\n    }\n}\n</code></pre>\n<p>As in the above postman response, I want the description to be like : &quot;description&quot;: &quot;Id already exist, Cannot create record&quot; instead of the general message as show above. So how to do this ?</p>\n"},{"tags":["java","maven","maven-plugin","mojo"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1515610950,"post_id":48191377,"comment_id":83369402,"body_markdown":"Can you explain what you are trying to accomplish? Or which problem are you trying to solve?","body":"Can you explain what you are trying to accomplish? Or which problem are you trying to solve?"},{"owner":{"account_id":11180394,"reputation":85,"user_id":8204618,"display_name":"cheeghi"},"score":0,"creation_date":1515657893,"post_id":48191377,"comment_id":83385462,"body_markdown":"I&#39;m developing a plugin which manages the build and the deployment of a java application on a wildfly server(through widlfly-maven-plugin). At some point I need to call the widlfly-maven-plugin in order to start the server, but I also need to pass all the configuration properties to it.","body":"I&#39;m developing a plugin which manages the build and the deployment of a java application on a wildfly server(through widlfly-maven-plugin). At some point I need to call the widlfly-maven-plugin in order to start the server, but I also need to pass all the configuration properties to it."}],"answers":[{"tags":[],"owner":{"account_id":5104642,"reputation":537,"user_id":4093110,"display_name":"Dragos Geornoiu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579159972,"creation_date":1579159972,"answer_id":59764842,"question_id":48191377,"body_markdown":"It might be an older question, but found myself in this situation recently and taught I&#39;d show how I created a new plugin where which wraps another plugin.\r\n\r\nI&#39;ve ended up using the mojo-executor plugin ([https://github.com/TimMoore/mojo-executor][1]) . Even though it is not actively maintained, it does the job quite well. Here is an example of how I executed the html2pdf-maven-plugin ([https://bitbucket.org/prunge/html2pdf-maven-plugin/wiki/Home][2]) from my own maven plugin. \r\n\r\nThe generatePdf(...) method is called from the execute() method of your Mojo class. The getMvnPlugin(...) method is where I specified the plugin groupId and ArtifactId and the execution details. The getPluginConfiguration(...) method is where the plugin configuration is made, specifying the parameters of the html2pdf-maven-plugin.\r\n\r\n     private void generatePdf(File inputFilePath, String outputFile) {\r\n        String inputDirectory = inputFilePath.getParent();\r\n        String inputFileName = inputFilePath.getName();\r\n\r\n        try {\r\n            Plugin html2pdfPlugin = getMvnPlugin(outputFile, inputFile, inputFileName);\r\n\r\n            MojoExecutor.ExecutionEnvironment executionEnvironment = MojoExecutor.executionEnvironment(mavenProject, mavenSession, pluginManager);\r\n            MojoExecutor.executeMojo(html2pdfPlugin, &quot;html2pdf&quot;, getPluginConfiguration(outputFile, inputDirectory, inputFileName), executionEnvironment);\r\n        } catch (Exception ex) {\r\n            String errorMessage = String.format(&quot;Failed to generate PDF file [%s] from html file [%s].&quot;, outputFile, inputFile);\r\n            getLog().error(errorMessage, ex);\r\n        }\r\n    }\r\n\r\n    private Plugin getMvnPlugin(String outputFile, String inputDirectory, String inputFileName) {\r\n        Plugin plugin = new Plugin();\r\n\r\n        plugin.setGroupId(&quot;au.net.causal.maven.plugins&quot;);\r\n        plugin.setArtifactId(&quot;html2pdf-maven-plugin&quot;);\r\n        plugin.setVersion(&quot;2.0&quot;);\r\n\r\n        PluginExecution pluginExecution = new PluginExecution();\r\n        pluginExecution.setGoals(Collections.singletonList(&quot;html2pdf&quot;));\r\n        pluginExecution.setId(&quot;generate-pdf&quot;);\r\n        pluginExecution.setPhase(&quot;generate-resources&quot;);\r\n        plugin.setExecutions(Collections.singletonList(pluginExecution));\r\n\r\n        plugin.setConfiguration(getPluginConfiguration(outputFile, inputDirectory, inputFileName));\r\n\r\n        return plugin;\r\n    }\r\n\r\n    private Xpp3Dom getPluginConfiguration(String outputFile, String inputDirectory, String inputFileName) {\r\n        MojoExecutor.Element outputFileElement = new MojoExecutor.Element(&quot;outputFile&quot;, outputFile);\r\n\r\n        MojoExecutor.Element includeElement = new MojoExecutor.Element(&quot;include&quot;, &quot;**/&quot; + inputFileName);\r\n        MojoExecutor.Element includesElement = new MojoExecutor.Element(&quot;includes&quot;, includeElement);\r\n        MojoExecutor.Element directoryElement = new MojoExecutor.Element(&quot;directory&quot;, inputDirectory);\r\n        MojoExecutor.Element htmlFileSetElement = new MojoExecutor.Element(&quot;htmlFileSet&quot;, directoryElement, includesElement);\r\n        MojoExecutor.Element htmlFileSetsElement = new MojoExecutor.Element(&quot;htmlFileSets&quot;, htmlFileSetElement);\r\n\r\n        return MojoExecutor.configuration(outputFileElement, htmlFileSetsElement);\r\n    }\r\n\r\n\r\nThe mavenProject, mavenSession and pluginManager just have to be injected in the Mojo class using the org.apache.maven.plugins.annotations.Component.\r\n\r\n    @Component\r\n    private MavenProject mavenProject;\r\n\r\n    @Component\r\n    private MavenSession mavenSession;\r\n\r\n    @Component\r\n    private BuildPluginManager pluginManager;\r\n\r\n\r\n  [1]: https://github.com/TimMoore/mojo-executor\r\n  [2]: https://bitbucket.org/prunge/html2pdf-maven-plugin/wiki/Home","title":"Pass parameters to a maven mojo invoked programmatically","body":"<p>It might be an older question, but found myself in this situation recently and taught I'd show how I created a new plugin where which wraps another plugin.</p>\n\n<p>I've ended up using the mojo-executor plugin (<a href=\"https://github.com/TimMoore/mojo-executor\" rel=\"nofollow noreferrer\">https://github.com/TimMoore/mojo-executor</a>) . Even though it is not actively maintained, it does the job quite well. Here is an example of how I executed the html2pdf-maven-plugin (<a href=\"https://bitbucket.org/prunge/html2pdf-maven-plugin/wiki/Home\" rel=\"nofollow noreferrer\">https://bitbucket.org/prunge/html2pdf-maven-plugin/wiki/Home</a>) from my own maven plugin. </p>\n\n<p>The generatePdf(...) method is called from the execute() method of your Mojo class. The getMvnPlugin(...) method is where I specified the plugin groupId and ArtifactId and the execution details. The getPluginConfiguration(...) method is where the plugin configuration is made, specifying the parameters of the html2pdf-maven-plugin.</p>\n\n<pre><code> private void generatePdf(File inputFilePath, String outputFile) {\n    String inputDirectory = inputFilePath.getParent();\n    String inputFileName = inputFilePath.getName();\n\n    try {\n        Plugin html2pdfPlugin = getMvnPlugin(outputFile, inputFile, inputFileName);\n\n        MojoExecutor.ExecutionEnvironment executionEnvironment = MojoExecutor.executionEnvironment(mavenProject, mavenSession, pluginManager);\n        MojoExecutor.executeMojo(html2pdfPlugin, \"html2pdf\", getPluginConfiguration(outputFile, inputDirectory, inputFileName), executionEnvironment);\n    } catch (Exception ex) {\n        String errorMessage = String.format(\"Failed to generate PDF file [%s] from html file [%s].\", outputFile, inputFile);\n        getLog().error(errorMessage, ex);\n    }\n}\n\nprivate Plugin getMvnPlugin(String outputFile, String inputDirectory, String inputFileName) {\n    Plugin plugin = new Plugin();\n\n    plugin.setGroupId(\"au.net.causal.maven.plugins\");\n    plugin.setArtifactId(\"html2pdf-maven-plugin\");\n    plugin.setVersion(\"2.0\");\n\n    PluginExecution pluginExecution = new PluginExecution();\n    pluginExecution.setGoals(Collections.singletonList(\"html2pdf\"));\n    pluginExecution.setId(\"generate-pdf\");\n    pluginExecution.setPhase(\"generate-resources\");\n    plugin.setExecutions(Collections.singletonList(pluginExecution));\n\n    plugin.setConfiguration(getPluginConfiguration(outputFile, inputDirectory, inputFileName));\n\n    return plugin;\n}\n\nprivate Xpp3Dom getPluginConfiguration(String outputFile, String inputDirectory, String inputFileName) {\n    MojoExecutor.Element outputFileElement = new MojoExecutor.Element(\"outputFile\", outputFile);\n\n    MojoExecutor.Element includeElement = new MojoExecutor.Element(\"include\", \"**/\" + inputFileName);\n    MojoExecutor.Element includesElement = new MojoExecutor.Element(\"includes\", includeElement);\n    MojoExecutor.Element directoryElement = new MojoExecutor.Element(\"directory\", inputDirectory);\n    MojoExecutor.Element htmlFileSetElement = new MojoExecutor.Element(\"htmlFileSet\", directoryElement, includesElement);\n    MojoExecutor.Element htmlFileSetsElement = new MojoExecutor.Element(\"htmlFileSets\", htmlFileSetElement);\n\n    return MojoExecutor.configuration(outputFileElement, htmlFileSetsElement);\n}\n</code></pre>\n\n<p>The mavenProject, mavenSession and pluginManager just have to be injected in the Mojo class using the org.apache.maven.plugins.annotations.Component.</p>\n\n<pre><code>@Component\nprivate MavenProject mavenProject;\n\n@Component\nprivate MavenSession mavenSession;\n\n@Component\nprivate BuildPluginManager pluginManager;\n</code></pre>\n"}],"owner":{"account_id":11180394,"reputation":85,"user_id":8204618,"display_name":"cheeghi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1546,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1633344854,"creation_date":1515599954,"question_id":48191377,"body_markdown":"Here I have my Maven Mojo:\r\n\r\n    import org.apache.maven.plugin.AbstractMojo;\r\n    import org.apache.maven.plugin.MojoExecutionException;\r\n    import org.apache.maven.plugins.annotations.Mojo;\r\n    import org.apache.maven.shared.invoker.*;\r\n\r\n    import java.util.Collections;\r\n\r\n    @Mojo(name = &quot;run&quot;)\r\n    public class RunMojo extends AbstractMojo {\r\n\r\n        @Override\r\n        public void execute() throws MojoExecutionException {\r\n            InvocationRequest request = new DefaultInvocationRequest();\r\n            request.setGoals(Collections.singletonList(&quot;myplugin:mygoal&quot;));\r\n            \r\n            // need to set parameters to pass to the goal\r\n        \r\n            Invoker invoker = new DefaultInvoker();\r\n            try {\r\n                invoker.execute(request);\r\n            } catch (MavenInvocationException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nAnd I need to invoke a second Mojo passing some parameters as I do when defining the plugin inside the pom.xml, as follow.\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;myPlugin&lt;/artifactId&gt;\r\n                &lt;groupId&gt;myGroupId&lt;/groupId&gt;\r\n                &lt;version&gt;myVersion&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;param1&gt;value1&lt;/param1&gt;\r\n                    &lt;param2&gt;value2&lt;/param2&gt;\r\n                    &lt;param3&gt;value3&lt;/param3&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nAny solution?","title":"Pass parameters to a maven mojo invoked programmatically","body":"<p>Here I have my Maven Mojo:</p>\n<pre><code>import org.apache.maven.plugin.AbstractMojo;\nimport org.apache.maven.plugin.MojoExecutionException;\nimport org.apache.maven.plugins.annotations.Mojo;\nimport org.apache.maven.shared.invoker.*;\n\nimport java.util.Collections;\n\n@Mojo(name = &quot;run&quot;)\npublic class RunMojo extends AbstractMojo {\n\n    @Override\n    public void execute() throws MojoExecutionException {\n        InvocationRequest request = new DefaultInvocationRequest();\n        request.setGoals(Collections.singletonList(&quot;myplugin:mygoal&quot;));\n        \n        // need to set parameters to pass to the goal\n    \n        Invoker invoker = new DefaultInvoker();\n        try {\n            invoker.execute(request);\n        } catch (MavenInvocationException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>And I need to invoke a second Mojo passing some parameters as I do when defining the plugin inside the pom.xml, as follow.</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;myPlugin&lt;/artifactId&gt;\n            &lt;groupId&gt;myGroupId&lt;/groupId&gt;\n            &lt;version&gt;myVersion&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;param1&gt;value1&lt;/param1&gt;\n                &lt;param2&gt;value2&lt;/param2&gt;\n                &lt;param3&gt;value3&lt;/param3&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Any solution?</p>\n"},{"tags":["java","spring","spring-boot","wildfly"],"comments":[{"owner":{"account_id":2258060,"reputation":3689,"user_id":1988798,"accept_rate":83,"display_name":"Gaurav"},"score":0,"creation_date":1633344858,"post_id":69434443,"comment_id":122726171,"body_markdown":"If you can share the issues you are facing currently, I may be able to help a bit more ?","body":"If you can share the issues you are facing currently, I may be able to help a bit more ?"}],"answers":[{"tags":[],"owner":{"account_id":2258060,"reputation":3689,"user_id":1988798,"accept_rate":83,"display_name":"Gaurav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633344780,"creation_date":1633344780,"answer_id":69434766,"question_id":69434443,"body_markdown":"I think if you really want to do this, you will have to create two maven profiles, one for local where you add tomcat as dependendency and other where you create a jar.\r\n\r\nThat being said, I don&#39;t think it is wise idea to do so because your development and deployment environment will become different, there is a chance you will encounter issues only when you are deploying on wildfly. JBoss distributions are notorious for preferring their own bundled jars overs yours unless you override it with `jboss-deployment-structure.xml`","title":"How to develop springboot on local and deploy war on wildfly","body":"<p>I think if you really want to do this, you will have to create two maven profiles, one for local where you add tomcat as dependendency and other where you create a jar.</p>\n<p>That being said, I don't think it is wise idea to do so because your development and deployment environment will become different, there is a chance you will encounter issues only when you are deploying on wildfly. JBoss distributions are notorious for preferring their own bundled jars overs yours unless you override it with <code>jboss-deployment-structure.xml</code></p>\n"}],"owner":{"account_id":11467258,"reputation":1984,"user_id":8405122,"display_name":"Francesco Clementi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633344780,"creation_date":1633343194,"question_id":69434443,"body_markdown":"I&#39;m trying to develop a maven java EE rest application with angular client using spring boot as local development and finally generate a WAR file to be deployed on wildfly.\r\n\r\nI found a lot of documentation on how to generate a war package with springboot, but this configuration won&#39;t let me keep springboot on local for local development. \r\n\r\nHow can I keep spring boot for local development while generate a war package to be deployed on wildfly?","title":"How to develop springboot on local and deploy war on wildfly","body":"<p>I'm trying to develop a maven java EE rest application with angular client using spring boot as local development and finally generate a WAR file to be deployed on wildfly.</p>\n<p>I found a lot of documentation on how to generate a war package with springboot, but this configuration won't let me keep springboot on local for local development.</p>\n<p>How can I keep spring boot for local development while generate a war package to be deployed on wildfly?</p>\n"},{"tags":["java","string","date","split","date-formatting"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1633328448,"post_id":69431640,"comment_id":122720368,"body_markdown":"What have you tried so far? Which library are you using? Does the input really containg an ampersand (&amp;)?","body":"What have you tried so far? Which library are you using? Does the input really containg an ampersand (&amp;)?"},{"owner":{"account_id":16437243,"reputation":377,"user_id":11874530,"display_name":"Sugata Kar"},"score":0,"creation_date":1633328573,"post_id":69431640,"comment_id":122720396,"body_markdown":"@deHaar I am not using any external library. Yes, the input may contain &quot;&amp;&quot; if the date is a range or may not if it&#39;s only a single date.","body":"@deHaar I am not using any external library. Yes, the input may contain &quot;&amp;&quot; if the date is a range or may not if it&#39;s only a single date."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1633333344,"post_id":69431640,"comment_id":122721807,"body_markdown":"You are effectively asking two separate questions.  1) How to convert a date from one format to another, and 2) How to split a string into two parts separated by a given character.  Both can be answered separately.  Indeed both have separately been asked and answered many times before.","body":"You are effectively asking two separate questions.  1) How to convert a date from one format to another, and 2) How to split a string into two parts separated by a given character.  Both can be answered separately.  Indeed both have separately been asked and answered many times before."}],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1633333027,"creation_date":1633331124,"answer_id":69432068,"question_id":69431640,"body_markdown":"Two situations:\r\n---\r\n  1. a single date `String` is to be reformatted and\r\n  2. a single `String` containing two (or more?) concatenated dates separated by ampersand(s), too\r\n\r\nI would first define a `java.time.format.DateTimeFormatter` needed to create the desired output (I chose a class constant here):\r\n\r\n```lang-java\r\npublic static final DateTimeFormatter FORMATTER =\r\n                        DateTimeFormatter.ofPattern(&quot;MMMM dd,uuuu&quot;, Locale.ENGLISH);\r\n```\r\nMake sure you provide a `Locale` to the `DateTimeFormatter`, otherwise it will take the default locale, which might produce output in undesired formats and languages.\r\n\r\nThe first one is pretty straight-forward from Java 8 on when `java.time.LocalDate.parse(String s)` is used, because you only have to use a formatter you defined before in `LocalDate.format(DateTimeFormatter formatter)` (code example included below).\r\n\r\nThe second one needs more processing, I think you have to split the input, parse each date contained, reformat each one and concatenate the results to a single `String` using hyphons as separators.\r\n\r\nHandling the multi-date `String`:\r\n---\r\n```lang-java\r\npublic static String convertConcatDates(String concatenatedDates) {\r\n\t// split the input by ampersand first\r\n\tString[] splitInput = concatenatedDates.split(&quot;&amp;&quot;);\r\n\t// convert all / both of the dates to LocalDates in a list\r\n\tList&lt;LocalDate&gt; dates = Arrays.stream(splitInput)\r\n\t\t\t\t\t\t\t\t  .map(LocalDate::parse)\r\n\t\t\t\t\t\t\t\t  .collect(Collectors.toList());\r\n\t// create a list of each date&#39;s month and day of month\r\n\tList&lt;String&gt; daysAndMonths = new ArrayList&lt;String&gt;();\r\n\t// get each date as formatted String\r\n\tdates.forEach(date -&gt; daysAndMonths.add(date.format(FORMATTER)));\r\n\t// then concatenate the formatted Strings and return them as a single one\r\n\treturn String.join(&quot;-&quot;, daysAndMonths);\r\n}\r\n```\r\n\r\nExample `main` showing both reformattings:\r\n---\r\n```lang-java\r\npublic static void main(String[] args) throws IOException {\r\n\t/*\r\n\t *  (1) example for a single date String\r\n\t */\r\n\tString single = &quot;2021-08-30&quot;;\r\n\t// parse the date (no pattern needed if input is ISO standard)\r\n\tLocalDate singleLd = LocalDate.parse(single);\r\n\t// print the result in the desired format\r\n\tSystem.out.println(singleLd.format(FORMATTER));\r\n\t\r\n\t/*\r\n\t * (2) example for concatenated date Strings\r\n\t */\r\n\tString concat = &quot;2021-08-30&amp;2021-09-16&quot;;\r\n\t// call the method and print the result\r\n\tSystem.out.println(convertConcatDates(concat));\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```lang-none\r\nAugust 30,2021\r\nAugust 30,2021-September 16,2021\r\n```","title":"Convert Date in String type of one format to String type in another Date format","body":"<h2>Two situations:</h2>\n<ol>\n<li>a single date <code>String</code> is to be reformatted and</li>\n<li>a single <code>String</code> containing two (or more?) concatenated dates separated by ampersand(s), too</li>\n</ol>\n<p>I would first define a <code>java.time.format.DateTimeFormatter</code> needed to create the desired output (I chose a class constant here):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final DateTimeFormatter FORMATTER =\n                        DateTimeFormatter.ofPattern(&quot;MMMM dd,uuuu&quot;, Locale.ENGLISH);\n</code></pre>\n<p>Make sure you provide a <code>Locale</code> to the <code>DateTimeFormatter</code>, otherwise it will take the default locale, which might produce output in undesired formats and languages.</p>\n<p>The first one is pretty straight-forward from Java 8 on when <code>java.time.LocalDate.parse(String s)</code> is used, because you only have to use a formatter you defined before in <code>LocalDate.format(DateTimeFormatter formatter)</code> (code example included below).</p>\n<p>The second one needs more processing, I think you have to split the input, parse each date contained, reformat each one and concatenate the results to a single <code>String</code> using hyphons as separators.</p>\n<h2>Handling the multi-date <code>String</code>:</h2>\n<pre class=\"lang-java prettyprint-override\"><code>public static String convertConcatDates(String concatenatedDates) {\n    // split the input by ampersand first\n    String[] splitInput = concatenatedDates.split(&quot;&amp;&quot;);\n    // convert all / both of the dates to LocalDates in a list\n    List&lt;LocalDate&gt; dates = Arrays.stream(splitInput)\n                                  .map(LocalDate::parse)\n                                  .collect(Collectors.toList());\n    // create a list of each date's month and day of month\n    List&lt;String&gt; daysAndMonths = new ArrayList&lt;String&gt;();\n    // get each date as formatted String\n    dates.forEach(date -&gt; daysAndMonths.add(date.format(FORMATTER)));\n    // then concatenate the formatted Strings and return them as a single one\n    return String.join(&quot;-&quot;, daysAndMonths);\n}\n</code></pre>\n<h2>Example <code>main</code> showing both reformattings:</h2>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws IOException {\n    /*\n     *  (1) example for a single date String\n     */\n    String single = &quot;2021-08-30&quot;;\n    // parse the date (no pattern needed if input is ISO standard)\n    LocalDate singleLd = LocalDate.parse(single);\n    // print the result in the desired format\n    System.out.println(singleLd.format(FORMATTER));\n    \n    /*\n     * (2) example for concatenated date Strings\n     */\n    String concat = &quot;2021-08-30&amp;2021-09-16&quot;;\n    // call the method and print the result\n    System.out.println(convertConcatDates(concat));\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>August 30,2021\nAugust 30,2021-September 16,2021\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22514761,"reputation":1572,"user_id":16709163,"display_name":"ray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633336854,"creation_date":1633333968,"answer_id":69432600,"question_id":69431640,"body_markdown":"You can use `SimpleDateFormat` for this.\r\n\r\n```\r\npublic static String convertPattern(String dateString, String inPattern, String outPattern) {\r\n    SimpleDateFormat format = new SimpleDateFormat(inPattern);\r\n    try {\r\n        Date date = format.parse(dateString);\r\n        format.applyPattern(outPattern);\r\n        return format.format(date);\r\n\r\n    } catch (ParseException e) {\r\n        e.printStackTrace();\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nThis is how you can use this,\r\n\r\n```\r\nconvertDate(&quot;2021-10-03&quot;, &quot;yyyy-MM-dd&quot;, &quot;MMMM dd, yyyy&quot;);\r\n```\r\n\r\n### Update ###\r\nYou can do the same with `DateTimeFormatter` as well.\r\n\r\n```\r\npublic static String convertPattern(String dateString, String inPattern, String outPattern) {\r\n    DateTimeFormatter inFormat = DateTimeFormatter.ofPattern(inPattern);\r\n    DateTimeFormatter outFormat = DateTimeFormatter.ofPattern(outPattern);\r\n    LocalDate date = LocalDate.parse(dateString, inFormat);\r\n    return date.format(outFormat);\r\n}\r\n```","title":"Convert Date in String type of one format to String type in another Date format","body":"<p>You can use <code>SimpleDateFormat</code> for this.</p>\n<pre><code>public static String convertPattern(String dateString, String inPattern, String outPattern) {\n    SimpleDateFormat format = new SimpleDateFormat(inPattern);\n    try {\n        Date date = format.parse(dateString);\n        format.applyPattern(outPattern);\n        return format.format(date);\n\n    } catch (ParseException e) {\n        e.printStackTrace();\n        return null;\n    }\n}\n</code></pre>\n<p>This is how you can use this,</p>\n<pre><code>convertDate(&quot;2021-10-03&quot;, &quot;yyyy-MM-dd&quot;, &quot;MMMM dd, yyyy&quot;);\n</code></pre>\n<h3>Update</h3>\n<p>You can do the same with <code>DateTimeFormatter</code> as well.</p>\n<pre><code>public static String convertPattern(String dateString, String inPattern, String outPattern) {\n    DateTimeFormatter inFormat = DateTimeFormatter.ofPattern(inPattern);\n    DateTimeFormatter outFormat = DateTimeFormatter.ofPattern(outPattern);\n    LocalDate date = LocalDate.parse(dateString, inFormat);\n    return date.format(outFormat);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633335779,"creation_date":1633335779,"answer_id":69432961,"question_id":69431640,"body_markdown":"I worked on a similar project where I needed to be able to parse ANY String that possibly could be parsed to a Date. The solution was something like this: I created a property file that contained in a list all Date Formats that I wanted to support. Then when a String came I took the list of formats one by one trying to parse the incoming String until it worked or until I ran out of formats. The solution could be flexible where for different clients you could have a different list of formats and also, you could switch the order and thus control wether US or European formats can take precedence. The solution is described in more detail in this article: [Java 8 java.time package: parsing any string to date][1]  \r\n\r\n\r\n  [1]: https://www.linkedin.com/pulse/java-8-javatime-package-parsing-any-string-date-michael-gantman/","title":"Convert Date in String type of one format to String type in another Date format","body":"<p>I worked on a similar project where I needed to be able to parse ANY String that possibly could be parsed to a Date. The solution was something like this: I created a property file that contained in a list all Date Formats that I wanted to support. Then when a String came I took the list of formats one by one trying to parse the incoming String until it worked or until I ran out of formats. The solution could be flexible where for different clients you could have a different list of formats and also, you could switch the order and thus control wether US or European formats can take precedence. The solution is described in more detail in this article: <a href=\"https://www.linkedin.com/pulse/java-8-javatime-package-parsing-any-string-date-michael-gantman/\" rel=\"nofollow noreferrer\">Java 8 java.time package: parsing any string to date</a></p>\n"}],"owner":{"account_id":16437243,"reputation":377,"user_id":11874530,"display_name":"Sugata Kar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":477,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1633336166,"answer_count":3,"score":-1,"last_activity_date":1633344461,"creation_date":1633328357,"question_id":69431640,"body_markdown":"I have a use case where I need to change the date format in Java. The input date will be in the form of String and the output format required is also a String.\r\n\r\n*Input_Date can be in any of the form (yyyy-MM-dd):*\r\n\r\n - **2021-08-30&amp;2021-09-16**\r\n - **2021-08-30**\r\n\r\n*Output_Date would be:*\r\n\r\n - **August 30,2021-September 16, 2021**\r\n - **August 30,2021**\r\n\r\n","title":"Convert Date in String type of one format to String type in another Date format","body":"<p>I have a use case where I need to change the date format in Java. The input date will be in the form of String and the output format required is also a String.</p>\n<p><em>Input_Date can be in any of the form (yyyy-MM-dd):</em></p>\n<ul>\n<li><strong>2021-08-30&amp;2021-09-16</strong></li>\n<li><strong>2021-08-30</strong></li>\n</ul>\n<p><em>Output_Date would be:</em></p>\n<ul>\n<li><strong>August 30,2021-September 16, 2021</strong></li>\n<li><strong>August 30,2021</strong></li>\n</ul>\n"},{"tags":["java","java-7"],"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1508401870,"post_id":7728971,"comment_id":80598867,"body_markdown":"If I understand correct you can use @Safe varargs for constructors, for static methods, for final methods and since java-9 for private","body":"If I understand correct you can use @Safe varargs for constructors, for static methods, for final methods and since java-9 for private"}],"answers":[{"tags":[],"owner":{"account_id":5100,"reputation":29377,"user_id":8026,"accept_rate":63,"display_name":"MetroidFan2002"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1318349736,"creation_date":1318349736,"answer_id":7729193,"question_id":7728971,"body_markdown":"It is redundant, and you bring up an excellent point.  \r\n\r\nI think the real reason for the requirement of final or static was to force that the method could not be overridden, and thus a subclass couldn&#39;t tamper with data in a way that made the @SafeVarargs annotation useless on the definition of the method.\r\n\r\nBut, although it is redundant, it&#39;s not that bad of a decision - many a time, programmers will make every method private as much as possible, and then slowly open the class up as needed.  If this method is marked final when it is in private scope, then if the method has to be opened up, it can still have the @SafeVarargs annotation in place with only a change to the access level.  If the final is removed intentionally, you&#39;ll get the compile time error, but if you had it already, whoever removes the private access (which may not be yourself, in a team-based environment) won&#39;t be confused as to why removing the &quot;private&quot; modifier suddenly makes the code no longer compile.","title":"java @SafeVarargs why do private methods need to be final","body":"<p>It is redundant, and you bring up an excellent point.  </p>\n\n<p>I think the real reason for the requirement of final or static was to force that the method could not be overridden, and thus a subclass couldn't tamper with data in a way that made the @SafeVarargs annotation useless on the definition of the method.</p>\n\n<p>But, although it is redundant, it's not that bad of a decision - many a time, programmers will make every method private as much as possible, and then slowly open the class up as needed.  If this method is marked final when it is in private scope, then if the method has to be opened up, it can still have the @SafeVarargs annotation in place with only a change to the access level.  If the final is removed intentionally, you'll get the compile time error, but if you had it already, whoever removes the private access (which may not be yourself, in a team-based environment) won't be confused as to why removing the \"private\" modifier suddenly makes the code no longer compile.</p>\n"},{"tags":[],"owner":{"account_id":2979658,"reputation":4791,"user_id":2529921,"accept_rate":72,"display_name":"chiperortiz"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1481230034,"creation_date":1431373974,"answer_id":30176485,"question_id":7728971,"body_markdown":"This feature is part of Project Coin 2 and will be avalaible in Java 9 coming July 2017.\r\n\r\nIt&#39;s call Accepting @SafeVarargs on private methods.\r\n\r\n[Link.][1]\r\n\r\n\r\n  [1]: http://mail.openjdk.java.net/pipermail/coin-dev/2015-April/003487.html","title":"java @SafeVarargs why do private methods need to be final","body":"<p>This feature is part of Project Coin 2 and will be avalaible in Java 9 coming July 2017.</p>\n\n<p>It's call Accepting @SafeVarargs on private methods.</p>\n\n<p><a href=\"http://mail.openjdk.java.net/pipermail/coin-dev/2015-April/003487.html\" rel=\"noreferrer\">Link.</a></p>\n"},{"tags":[],"owner":{"account_id":2898103,"reputation":567,"user_id":2485429,"display_name":"user2485429"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633344178,"creation_date":1633344178,"answer_id":69434651,"question_id":7728971,"body_markdown":"From Java 9, You can apply @SafeVarargs to private methods also. Check [this][1] post to know where you can use @SafeVarargs from Java 9.\r\n\r\n\r\n  [1]: https://javaconceptoftheday.com/java-9-safevarargs-annotation-changes/","title":"java @SafeVarargs why do private methods need to be final","body":"<p>From Java 9, You can apply @SafeVarargs to private methods also. Check <a href=\"https://javaconceptoftheday.com/java-9-safevarargs-annotation-changes/\" rel=\"nofollow noreferrer\">this</a> post to know where you can use @SafeVarargs from Java 9.</p>\n"}],"owner":{"account_id":65763,"reputation":6257,"user_id":193315,"accept_rate":82,"display_name":"initialZero"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1923,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":7729193,"answer_count":3,"score":25,"last_activity_date":1633344178,"creation_date":1318348585,"question_id":7728971,"body_markdown":"I have a private method in an inner class which is private I would like to use the SafeVarargs annotation. However, I am required to either have a static or final method. Why does a private method need to be final as well? Isn&#39;t this redundant?","title":"java @SafeVarargs why do private methods need to be final","body":"<p>I have a private method in an inner class which is private I would like to use the SafeVarargs annotation. However, I am required to either have a static or final method. Why does a private method need to be final as well? Isn't this redundant?</p>\n"},{"tags":["java","android","kotlin","android-service"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1633344110,"post_id":69434444,"comment_id":122725871,"body_markdown":"&quot;I absolutely need to avoid the service running when the phone is not in active use&quot; -- since &quot;not in active use&quot; is not well-defined, I suspect that you are going to encounter problems here. Your definition of that might differ from what system-supplied options offer. Your closest matches are `WorkManager` and `JobScheduler`.","body":"&quot;I absolutely need to avoid the service running when the phone is not in active use&quot; -- since &quot;not in active use&quot; is not well-defined, I suspect that you are going to encounter problems here. Your definition of that might differ from what system-supplied options offer. Your closest matches are <code>WorkManager</code> and <code>JobScheduler</code>."}],"answers":[{"tags":[],"owner":{"account_id":11186765,"reputation":492,"user_id":8208808,"display_name":"MihaiBC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633344048,"creation_date":1633344048,"answer_id":69434618,"question_id":69434444,"body_markdown":"You need to create a broadcast receiver to listen to the intents sent by the system. Something like in the code below but adjusted to your solution \r\n\r\n    @Override\r\n    public void onReceive(final Context context, final Intent intent) {\r\n        if (intent.getAction().equals(Intent.ACTION_SCREEN_OFF)) {\r\n            // do whatever you need to do here\r\n        } else if (intent.getAction().equals(Intent.ACTION_SCREEN_ON)) {\r\n            // and do whatever you need to do here\r\n        }\r\n    }\r\n\r\nMore information about the Broadcast receivers can be found here: https://developer.android.com/guide/components/broadcasts\r\n\r\nI hope this will be a good starting point for you. ","title":"Run background service only when phone is in use","body":"<p>You need to create a broadcast receiver to listen to the intents sent by the system. Something like in the code below but adjusted to your solution</p>\n<pre><code>@Override\npublic void onReceive(final Context context, final Intent intent) {\n    if (intent.getAction().equals(Intent.ACTION_SCREEN_OFF)) {\n        // do whatever you need to do here\n    } else if (intent.getAction().equals(Intent.ACTION_SCREEN_ON)) {\n        // and do whatever you need to do here\n    }\n}\n</code></pre>\n<p>More information about the Broadcast receivers can be found here: <a href=\"https://developer.android.com/guide/components/broadcasts\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/broadcasts</a></p>\n<p>I hope this will be a good starting point for you.</p>\n"}],"owner":{"account_id":15291729,"reputation":9,"user_id":11033043,"display_name":"Nova Wittam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69434618,"answer_count":1,"score":0,"last_activity_date":1633344048,"creation_date":1633343211,"question_id":69434444,"body_markdown":"I&#39;m trying to make an android app that fires a background intent to &quot;ping&quot; a server with a post request about every 2 minutes (by default, interval is user-configurable).\r\n\r\nI *absolutely* need to avoid the service running when the phone is not in active use, and I need it to not defer the service like an AlarmManager would. If it tries to fire when the phone screen is off, I want it to silently fail.\r\n\r\nIs this possible, and if so what parts of the API do I need to look at to get started on it?\r\n\r\nPlease note, I do know the rules of asking a good question. The reason I&#39;m not listing what I tried is I don&#39;t know where to start.\r\n","title":"Run background service only when phone is in use","body":"<p>I'm trying to make an android app that fires a background intent to &quot;ping&quot; a server with a post request about every 2 minutes (by default, interval is user-configurable).</p>\n<p>I <em>absolutely</em> need to avoid the service running when the phone is not in active use, and I need it to not defer the service like an AlarmManager would. If it tries to fire when the phone screen is off, I want it to silently fail.</p>\n<p>Is this possible, and if so what parts of the API do I need to look at to get started on it?</p>\n<p>Please note, I do know the rules of asking a good question. The reason I'm not listing what I tried is I don't know where to start.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":22514761,"reputation":1572,"user_id":16709163,"display_name":"ray"},"score":1,"creation_date":1633320220,"post_id":69429887,"comment_id":122718971,"body_markdown":"I see you have exclude `WebMvcAutoConfiguration` class. Why did you do that?","body":"I see you have exclude <code>WebMvcAutoConfiguration</code> class. Why did you do that?"}],"answers":[{"tags":[],"owner":{"account_id":21621986,"reputation":110,"user_id":15946869,"display_name":"Sujit Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633343954,"creation_date":1633343954,"answer_id":69434595,"question_id":69429887,"body_markdown":"you should change path to value as shown below:\r\n\r\n    @RequestMapping(path = &quot;/addUser&quot;, method = RequestMethod.POST)\r\n    public String addUser(@RequestBody User user) {\r\n        userRepository.save(user);\r\n        return &quot;added user with id: &quot; + user.getId();\r\n    }\r\n\r\n     change to \r\n\r\n    @RequestMapping(value = &quot;/addUser&quot;, method = RequestMethod.POST)\r\n    public String addUser(@RequestBody User user) {\r\n        userRepository.save(user);\r\n        return &quot;added user with id: &quot; + user.getId();\r\n    }","title":"Getting exception that says no mapping, when I have the mapping","body":"<p>you should change path to value as shown below:</p>\n<pre><code>@RequestMapping(path = &quot;/addUser&quot;, method = RequestMethod.POST)\npublic String addUser(@RequestBody User user) {\n    userRepository.save(user);\n    return &quot;added user with id: &quot; + user.getId();\n}\n\n change to \n\n@RequestMapping(value = &quot;/addUser&quot;, method = RequestMethod.POST)\npublic String addUser(@RequestBody User user) {\n    userRepository.save(user);\n    return &quot;added user with id: &quot; + user.getId();\n}\n</code></pre>\n"}],"owner":{"account_id":22930969,"reputation":11,"user_id":17065264,"display_name":"cspurdue"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633343954,"creation_date":1633307729,"question_id":69429887,"body_markdown":"My application is running with an exception. When I try to post to localhost:8080/addUser I get the error that there is no mapping. However I have it in my `UserController.java`:\r\n\r\n```\r\n2021-10-03 20:28:04.852  INFO 9896 --- [ngodb.net:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server edumeet-shard-00-01.egesp.mongodb.net:27017\r\n\r\ncom.mongodb.MongoSocketReadException: Prematurely reached end of stream\r\n        at com.mongodb.internal.connection.SocketStream.read(SocketStream.java:112) ~[mongodb-driver-core-4.2.3.jar:na]\r\n        at com.mongodb.internal.connection.SocketStream.read(SocketStream.java:131) ~[mongodb-driver-core-4.2.3.jar:na]\r\n        at com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:647) ~[mongodb-driver-core-4.2.3.jar:na]\r\n        at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:512) ~[mongodb-driver-core-4.2.3.jar:na]\r\n        at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:355) ~[mongodb-driver-core-4.2.3.jar:na]\r\n        at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:279) ~[mongodb-driver-core-4.2.3.jar:na]\r\n        at com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:83) ~[mongodb-driver-core-4.2.3.jar:na]\r\n        at com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:33) ~[mongodb-driver-core-4.2.3.jar:na]\r\n        at com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:107) ~[mongodb-driver-core-4.2.3.jar:na]\r\n        at com.mongodb.internal.connection.InternalStreamConnectionInitializer.initialize(InternalStreamConnectionInitializer.java:62) ~[mongodb-driver-core-4.2.3.jar:na]\r\n        at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:144) ~[mongodb-driver-core-4.2.3.jar:na]\r\n        at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:188) ~[mongodb-driver-core-4.2.3.jar:na]\r\n        at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:144) ~[mongodb-driver-core-4.2.3.jar:na]\r\n        at java.base/java.lang.Thread.run(Thread.java:835) ~[na:na]\r\n\r\n2021-10-03 20:28:05.681  INFO 9896 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2021-10-03 20:28:05.692  INFO 9896 --- [  restartedMain] com.example.login.LoginApplication       : Started LoginApplication in 3.95 seconds (JVM running for 4.612)\r\n2021-10-03 20:28:17.960  INFO 9896 --- [nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2021-10-03 20:28:17.960  INFO 9896 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2021-10-03 20:28:17.996  INFO 9896 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 36 ms\r\n2021-10-03 20:28:18.025  WARN 9896 --- [nio-8080-exec-2] o.s.web.servlet.PageNotFound             : No mapping for POST /addUser\r\n2021-10-03 20:28:18.032  WARN 9896 --- [nio-8080-exec-2] o.s.web.servlet.PageNotFound             : No mapping for POST /error\r\n```\r\n\r\nUserController.java\r\n```java\r\npackage com.example.login.User;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\nimport org.springframework.web.bind.annotation.DeleteMapping;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestMethod;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@Controller\r\n@RestController\r\npublic class UserController {\r\n\r\n    private final UserRepository userRepository;\r\n\r\n    public UserController(UserRepository userRepository) {\r\n        this.userRepository = userRepository;\r\n    }\r\n\r\n    @RequestMapping(path = &quot;/addUser&quot;, method = RequestMethod.POST)\r\n    public String addUser(@RequestBody User user) {\r\n        userRepository.save(user);\r\n        return &quot;added user with id: &quot; + user.getId();\r\n    }\r\n    \r\n    @RequestMapping(path = &quot;/getAllUsers&quot;, method = RequestMethod.GET)\r\n    public List&lt;User&gt; getAllUsers() {\r\n        return userRepository.findAll();\r\n    }\r\n\r\n    @RequestMapping(path = &quot;/getAllUsers/{id}&quot;, method = RequestMethod.GET)\r\n    public Optional&lt;User&gt; getUser(@PathVariable String id) {\r\n        return userRepository.findById(id);\r\n    }\r\n    \r\n    @RequestMapping(path = &quot;/removeUser&quot;, method = RequestMethod.DELETE)\r\n    public String deleteUser(@PathVariable String id) {\r\n        userRepository.deleteById(id);\r\n        return &quot;removed user with id&quot; + id;\r\n    }\r\n}\r\n```\r\nLoginApplication.java\r\n```java\r\npackage com.example.login;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\nimport org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration;\r\n\r\n@SpringBootApplication\r\n@EnableAutoConfiguration(exclude = { DataSourceAutoConfiguration.class,WebMvcAutoConfiguration.class})\r\npublic class LoginApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(LoginApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n","title":"Getting exception that says no mapping, when I have the mapping","body":"<p>My application is running with an exception. When I try to post to localhost:8080/addUser I get the error that there is no mapping. However I have it in my <code>UserController.java</code>:</p>\n<pre><code>2021-10-03 20:28:04.852  INFO 9896 --- [ngodb.net:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server edumeet-shard-00-01.egesp.mongodb.net:27017\n\ncom.mongodb.MongoSocketReadException: Prematurely reached end of stream\n        at com.mongodb.internal.connection.SocketStream.read(SocketStream.java:112) ~[mongodb-driver-core-4.2.3.jar:na]\n        at com.mongodb.internal.connection.SocketStream.read(SocketStream.java:131) ~[mongodb-driver-core-4.2.3.jar:na]\n        at com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:647) ~[mongodb-driver-core-4.2.3.jar:na]\n        at com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:512) ~[mongodb-driver-core-4.2.3.jar:na]\n        at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:355) ~[mongodb-driver-core-4.2.3.jar:na]\n        at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:279) ~[mongodb-driver-core-4.2.3.jar:na]\n        at com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:83) ~[mongodb-driver-core-4.2.3.jar:na]\n        at com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:33) ~[mongodb-driver-core-4.2.3.jar:na]\n        at com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:107) ~[mongodb-driver-core-4.2.3.jar:na]\n        at com.mongodb.internal.connection.InternalStreamConnectionInitializer.initialize(InternalStreamConnectionInitializer.java:62) ~[mongodb-driver-core-4.2.3.jar:na]\n        at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:144) ~[mongodb-driver-core-4.2.3.jar:na]\n        at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:188) ~[mongodb-driver-core-4.2.3.jar:na]\n        at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:144) ~[mongodb-driver-core-4.2.3.jar:na]\n        at java.base/java.lang.Thread.run(Thread.java:835) ~[na:na]\n\n2021-10-03 20:28:05.681  INFO 9896 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2021-10-03 20:28:05.692  INFO 9896 --- [  restartedMain] com.example.login.LoginApplication       : Started LoginApplication in 3.95 seconds (JVM running for 4.612)\n2021-10-03 20:28:17.960  INFO 9896 --- [nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2021-10-03 20:28:17.960  INFO 9896 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2021-10-03 20:28:17.996  INFO 9896 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 36 ms\n2021-10-03 20:28:18.025  WARN 9896 --- [nio-8080-exec-2] o.s.web.servlet.PageNotFound             : No mapping for POST /addUser\n2021-10-03 20:28:18.032  WARN 9896 --- [nio-8080-exec-2] o.s.web.servlet.PageNotFound             : No mapping for POST /error\n</code></pre>\n<p>UserController.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.login.User;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\n\n@Controller\n@RestController\npublic class UserController {\n\n    private final UserRepository userRepository;\n\n    public UserController(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n\n    @RequestMapping(path = &quot;/addUser&quot;, method = RequestMethod.POST)\n    public String addUser(@RequestBody User user) {\n        userRepository.save(user);\n        return &quot;added user with id: &quot; + user.getId();\n    }\n    \n    @RequestMapping(path = &quot;/getAllUsers&quot;, method = RequestMethod.GET)\n    public List&lt;User&gt; getAllUsers() {\n        return userRepository.findAll();\n    }\n\n    @RequestMapping(path = &quot;/getAllUsers/{id}&quot;, method = RequestMethod.GET)\n    public Optional&lt;User&gt; getUser(@PathVariable String id) {\n        return userRepository.findById(id);\n    }\n    \n    @RequestMapping(path = &quot;/removeUser&quot;, method = RequestMethod.DELETE)\n    public String deleteUser(@PathVariable String id) {\n        userRepository.deleteById(id);\n        return &quot;removed user with id&quot; + id;\n    }\n}\n</code></pre>\n<p>LoginApplication.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.login;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\nimport org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration;\n\n@SpringBootApplication\n@EnableAutoConfiguration(exclude = { DataSourceAutoConfiguration.class,WebMvcAutoConfiguration.class})\npublic class LoginApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(LoginApplication.class, args);\n    }\n\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633343483,"creation_date":1633343483,"answer_id":69434501,"question_id":69434436,"body_markdown":"Use `String.join` instead of `format`\r\n\r\n    ArrayList&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\n    strings.add(&quot;a&quot;);\r\n    strings.add(&quot;b&quot;);\r\n    strings.add(&quot;c&quot;);\r\n    System.out.println(&quot;This list contains: &quot; + String.join(&quot;, &quot;, strings));","title":"How to print out all the elements in a list using Java string.format?","body":"<p>Use <code>String.join</code> instead of <code>format</code></p>\n<pre><code>ArrayList&lt;String&gt; strings = new ArrayList&lt;&gt;();\nstrings.add(&quot;a&quot;);\nstrings.add(&quot;b&quot;);\nstrings.add(&quot;c&quot;);\nSystem.out.println(&quot;This list contains: &quot; + String.join(&quot;, &quot;, strings));\n</code></pre>\n"}],"owner":{"account_id":20918518,"reputation":35,"user_id":15367668,"display_name":"Rey Cai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":636,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1633343744,"creation_date":1633343172,"question_id":69434436,"body_markdown":"In this question, I am trying to printout all the elements in an arraylist and combine it with a sentence, but i can only print one element in the list, it is either the first index or the last index. But the ideal result expected should be for example, list A = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;}, expect result: &quot;The list contains: a, b, c, d&quot;. \r\n\r\nBelow is what i have got so far:\r\n\r\n    public static void main(String[] args) {\r\n        ArrayList&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\n        strings.add(&quot;a&quot;);\r\n        strings.add(&quot;b&quot;);\r\n        strings.add(&quot;c&quot;);\r\n        String result = &quot;hello&quot;;\r\n        for (String s : strings) {\r\n            result = String.format(&quot;This list contains: %s&quot;, s);\r\n        }\r\n        System.out.println(result); //Expected: &quot;This list contains: a, b, c.&quot; But: &quot;This list contains: c&quot;.\r\n    }\r\nHow should i go about with this? Thank you. ","title":"How to print out all the elements in a list using Java string.format?","body":"<p>In this question, I am trying to printout all the elements in an arraylist and combine it with a sentence, but i can only print one element in the list, it is either the first index or the last index. But the ideal result expected should be for example, list A = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;}, expect result: &quot;The list contains: a, b, c, d&quot;.</p>\n<p>Below is what i have got so far:</p>\n<pre><code>public static void main(String[] args) {\n    ArrayList&lt;String&gt; strings = new ArrayList&lt;&gt;();\n    strings.add(&quot;a&quot;);\n    strings.add(&quot;b&quot;);\n    strings.add(&quot;c&quot;);\n    String result = &quot;hello&quot;;\n    for (String s : strings) {\n        result = String.format(&quot;This list contains: %s&quot;, s);\n    }\n    System.out.println(result); //Expected: &quot;This list contains: a, b, c.&quot; But: &quot;This list contains: c&quot;.\n}\n</code></pre>\n<p>How should i go about with this? Thank you.</p>\n"},{"tags":["java","spring","reactive","spring-webflux"],"comments":[{"owner":{"account_id":14097219,"reputation":1,"user_id":10183624,"display_name":"balaji"},"score":0,"creation_date":1533518743,"post_id":48553242,"comment_id":90361132,"body_markdown":"MyClientHttpResponseDecorator(response) - Argument is ClientHttpResponse and in the map you are getting CLientResponse. Is this working ?","body":"MyClientHttpResponseDecorator(response) - Argument is ClientHttpResponse and in the map you are getting CLientResponse. Is this working ?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1562668157,"post_id":48553242,"comment_id":100439696,"body_markdown":"Did you find any solution?","body":"Did you find any solution?"}],"answers":[{"tags":[],"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1523442850,"creation_date":1517475504,"answer_id":48558760,"question_id":48553242,"body_markdown":"Having a service send JSON with a `&quot;text/html&quot;` Content-Type is rather unusual.\r\n\r\nThere are two ways to deal with this:\r\n\r\n1. configure the Jackson decoder to decode  `&quot;text/html&quot;` content as well; look into the `WebClient.builder().exchangeStrategies(ExchangeStrategies)` setup method\r\n2. change the &quot;Content-Type&quot; response header on the fly\r\n\r\nHere&#39;s a proposal for the second solution:\r\n\r\n    WebClient client = WebClient.builder().filter((request, next) -&gt; next.exchange(request)\r\n    \t\t\t\t.map(response -&gt; {\r\n    \t\t\t\t\tMyClientHttpResponseDecorator decorated = new \r\n                            MyClientHttpResponseDecorator(response); \r\n    \t\t\t\t\treturn decorated;\r\n    \t\t\t\t})).build();\r\n\r\n    class MyClientHttpResponseDecorator extends ClientHttpResponseDecorator {\r\n    \r\n      private final HttpHeaders httpHeaders;\r\n    \r\n      public MyClientHttpResponseDecorator(ClientHttpResponse delegate) {\r\n        super(delegate);\r\n        this.httpHeaders = new HttpHeaders(this.getDelegate().getHeaders());\r\n        // mutate the content-type header when necessary\r\n      }\r\n\r\n      @Override\r\n\t  public HttpHeaders getHeaders() {\r\n\t    return this.httpHeaders;\r\n\t  }\r\n    }\r\n\r\nNote that you should only use that client in that context (for this host).\r\nI&#39;d strongly suggest to try and fix that strange content-type returned by the server, if you can.","title":"Reactive WebClient GET Request with text/html response","body":"<p>Having a service send JSON with a <code>\"text/html\"</code> Content-Type is rather unusual.</p>\n\n<p>There are two ways to deal with this:</p>\n\n<ol>\n<li>configure the Jackson decoder to decode  <code>\"text/html\"</code> content as well; look into the <code>WebClient.builder().exchangeStrategies(ExchangeStrategies)</code> setup method</li>\n<li>change the \"Content-Type\" response header on the fly</li>\n</ol>\n\n<p>Here's a proposal for the second solution:</p>\n\n<pre><code>WebClient client = WebClient.builder().filter((request, next) -&gt; next.exchange(request)\n                .map(response -&gt; {\n                    MyClientHttpResponseDecorator decorated = new \n                        MyClientHttpResponseDecorator(response); \n                    return decorated;\n                })).build();\n\nclass MyClientHttpResponseDecorator extends ClientHttpResponseDecorator {\n\n  private final HttpHeaders httpHeaders;\n\n  public MyClientHttpResponseDecorator(ClientHttpResponse delegate) {\n    super(delegate);\n    this.httpHeaders = new HttpHeaders(this.getDelegate().getHeaders());\n    // mutate the content-type header when necessary\n  }\n\n  @Override\n  public HttpHeaders getHeaders() {\n    return this.httpHeaders;\n  }\n}\n</code></pre>\n\n<p>Note that you should only use that client in that context (for this host).\nI'd strongly suggest to try and fix that strange content-type returned by the server, if you can.</p>\n"},{"tags":[],"owner":{"account_id":893749,"reputation":8510,"user_id":931511,"accept_rate":76,"display_name":"guilhebl"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1563221896,"creation_date":1563221896,"answer_id":57046640,"question_id":48553242,"body_markdown":"As mentioned in previous answer, you can use exchangeStrategies method,\r\n\r\nexample:\r\n\r\n                Flux&lt;SomeDTO&gt; response = WebClient.builder()\r\n                    .baseUrl(url)\r\n                    .exchangeStrategies(ExchangeStrategies.builder().codecs(this::acceptedCodecs).build())\r\n                    .build()\r\n                    .get()\r\n                    .uri(builder.toUriString(), 1L)\r\n                    .retrieve()\r\n                    .bodyToFlux( // .. business logic\r\n\r\n\r\n    private void acceptedCodecs(ClientCodecConfigurer clientCodecConfigurer) {\r\n        clientCodecConfigurer.customCodecs().encoder(new Jackson2JsonEncoder(new ObjectMapper(), TEXT_HTML));\r\n        clientCodecConfigurer.customCodecs().decoder(new Jackson2JsonDecoder(new ObjectMapper(), TEXT_HTML));\r\n    }\r\n\r\n","title":"Reactive WebClient GET Request with text/html response","body":"<p>As mentioned in previous answer, you can use exchangeStrategies method,</p>\n\n<p>example:</p>\n\n<pre><code>            Flux&lt;SomeDTO&gt; response = WebClient.builder()\n                .baseUrl(url)\n                .exchangeStrategies(ExchangeStrategies.builder().codecs(this::acceptedCodecs).build())\n                .build()\n                .get()\n                .uri(builder.toUriString(), 1L)\n                .retrieve()\n                .bodyToFlux( // .. business logic\n\n\nprivate void acceptedCodecs(ClientCodecConfigurer clientCodecConfigurer) {\n    clientCodecConfigurer.customCodecs().encoder(new Jackson2JsonEncoder(new ObjectMapper(), TEXT_HTML));\n    clientCodecConfigurer.customCodecs().decoder(new Jackson2JsonDecoder(new ObjectMapper(), TEXT_HTML));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22936890,"reputation":19,"user_id":17070241,"display_name":"David Arevalo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633343222,"creation_date":1633343222,"answer_id":69434447,"question_id":48553242,"body_markdown":"If you need to set the maxInMemorySize along with text/html response use:\r\n\r\n``` @Bean\r\n  WebClient invoicesWebClient() {\r\n    return WebClient.builder()\r\n        .exchangeStrategies(ExchangeStrategies.builder().codecs(this::acceptedCodecs).build())\r\n        .build();\r\n  }\r\n\r\n  private void acceptedCodecs(ClientCodecConfigurer clientCodecConfigurer) {\r\n    clientCodecConfigurer.defaultCodecs().maxInMemorySize(BUFFER_SIZE_16MB);\r\n    clientCodecConfigurer.customCodecs().registerWithDefaultConfig(new Jackson2JsonDecoder(new ObjectMapper(), TEXT_HTML));\r\n    clientCodecConfigurer.customCodecs().registerWithDefaultConfig(new Jackson2JsonEncoder(new ObjectMapper(), TEXT_HTML));\r\n  }","title":"Reactive WebClient GET Request with text/html response","body":"<p>If you need to set the maxInMemorySize along with text/html response use:</p>\n<pre><code>  WebClient invoicesWebClient() {\n    return WebClient.builder()\n        .exchangeStrategies(ExchangeStrategies.builder().codecs(this::acceptedCodecs).build())\n        .build();\n  }\n\n  private void acceptedCodecs(ClientCodecConfigurer clientCodecConfigurer) {\n    clientCodecConfigurer.defaultCodecs().maxInMemorySize(BUFFER_SIZE_16MB);\n    clientCodecConfigurer.customCodecs().registerWithDefaultConfig(new Jackson2JsonDecoder(new ObjectMapper(), TEXT_HTML));\n    clientCodecConfigurer.customCodecs().registerWithDefaultConfig(new Jackson2JsonEncoder(new ObjectMapper(), TEXT_HTML));\n  }\n</code></pre>\n"}],"owner":{"account_id":12852956,"reputation":93,"user_id":9297190,"display_name":"m13erok"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19309,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":48558760,"answer_count":3,"score":9,"last_activity_date":1633343222,"creation_date":1517442003,"question_id":48553242,"body_markdown":"Currently Iâ€™m having an issue with new Spring 5 WebClient and I need some help to sort it out.\nThe issue is:\n\n&gt; I request some url that returns json response with content type **text/html;charset=utf-8**.\n&gt;\n&gt; But unfortunately Iâ€™m still getting an exception:\n&gt; **org.springframework.web.reactive.function.UnsupportedMediaTypeException:\n&gt; Content type &#39;text/html;charset=utf-8&#39; not supported**. So I canâ€™t\n&gt; convert response to DTO.\n\nFor request I use following code:\n\n    Flux&lt;SomeDTO&gt; response = WebClient.create(&quot;https://someUrl&quot;)\n                    .get()\n                    .uri(&quot;/someUri&quot;).accept(MediaType.APPLICATION_JSON)\n                    .retrieve()\n                    .bodyToFlux(SomeDTO.class);\n    \n    response.subscribe(System.out::println);\n\nBtw, it really doesnâ€™t matter which type I point in accept header, always returning text/html. So how could I get my response converted eventually?","title":"Reactive WebClient GET Request with text/html response","body":"<p>Currently Iâ€™m having an issue with new Spring 5 WebClient and I need some help to sort it out.\nThe issue is:</p>\n<blockquote>\n<p>I request some url that returns json response with content type <strong>text/html;charset=utf-8</strong>.</p>\n<p>But unfortunately Iâ€™m still getting an exception:\n<strong>org.springframework.web.reactive.function.UnsupportedMediaTypeException:\nContent type 'text/html;charset=utf-8' not supported</strong>. So I canâ€™t\nconvert response to DTO.</p>\n</blockquote>\n<p>For request I use following code:</p>\n<pre><code>Flux&lt;SomeDTO&gt; response = WebClient.create(&quot;https://someUrl&quot;)\n                .get()\n                .uri(&quot;/someUri&quot;).accept(MediaType.APPLICATION_JSON)\n                .retrieve()\n                .bodyToFlux(SomeDTO.class);\n\nresponse.subscribe(System.out::println);\n</code></pre>\n<p>Btw, it really doesnâ€™t matter which type I point in accept header, always returning text/html. So how could I get my response converted eventually?</p>\n"},{"tags":["java","nullpointerexception","option-type"],"answers":[{"tags":[],"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1633343154,"creation_date":1633343154,"answer_id":69434430,"question_id":69434373,"body_markdown":"Use [map][1]\r\n\r\n```return Optional.ofNullable(model).map(Model::getSomeField).map(Field::getUserName).orElse(&quot;No name&quot;);```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html#map(java.util.function.Function)","title":"Optional ofNullable on nested reference to object","body":"<p>Use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Optional.html#map(java.util.function.Function)\" rel=\"nofollow noreferrer\">map</a></p>\n<p><code>return Optional.ofNullable(model).map(Model::getSomeField).map(Field::getUserName).orElse(&quot;No name&quot;);</code></p>\n"}],"owner":{"account_id":22013518,"reputation":59,"user_id":16283399,"display_name":"methodinvocation"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":740,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1633365207,"accepted_answer_id":69434430,"answer_count":1,"score":1,"last_activity_date":1633343154,"creation_date":1633342874,"question_id":69434373,"body_markdown":"I need to check if my reference to object return null, So I use Optional like below:\r\n\r\n```\r\nreturn Optional.ofNullable(model.getSomeField().getUserName()).orElse(&quot;No name&quot;);\r\n```\r\n\r\nand right now, Optional return me NullPointerException because I have a null on `model.getSomeField()`, how to check for all of the null&#39;s in the reference that is passed in the `Optional.ofNullable`? For example, if `model.getSomeField()` is null or `model.getSomeField().getUserName()` is null then i want to run `orElse` clause.\r\n\r\nThanks for any help","title":"Optional ofNullable on nested reference to object","body":"<p>I need to check if my reference to object return null, So I use Optional like below:</p>\n<pre><code>return Optional.ofNullable(model.getSomeField().getUserName()).orElse(&quot;No name&quot;);\n</code></pre>\n<p>and right now, Optional return me NullPointerException because I have a null on <code>model.getSomeField()</code>, how to check for all of the null's in the reference that is passed in the <code>Optional.ofNullable</code>? For example, if <code>model.getSomeField()</code> is null or <code>model.getSomeField().getUserName()</code> is null then i want to run <code>orElse</code> clause.</p>\n<p>Thanks for any help</p>\n"},{"tags":["java","scala","amazon-web-services","parquet"],"comments":[{"owner":{"account_id":1771356,"reputation":2558,"user_id":1616049,"accept_rate":62,"display_name":"V. Samma"},"score":0,"creation_date":1485521431,"post_id":41504095,"comment_id":70970594,"body_markdown":"As Parquet is not in a textual, human-readable format, I can understand why that doesn&#39;t work. Theoretically, you can use AWS EMR and Spark for that, but I have the same goal and I am having problems with the schema, because all the rows/files may not have all the values available in all columns and then Spark may read them in different types. And then writing to Parquet would write in different schemas and afterwards you could not read in multiple Parquet files together because their schemas do not match.","body":"As Parquet is not in a textual, human-readable format, I can understand why that doesn&#39;t work. Theoretically, you can use AWS EMR and Spark for that, but I have the same goal and I am having problems with the schema, because all the rows/files may not have all the values available in all columns and then Spark may read them in different types. And then writing to Parquet would write in different schemas and afterwards you could not read in multiple Parquet files together because their schemas do not match."},{"owner":{"account_id":1435141,"reputation":1079,"user_id":1356713,"accept_rate":11,"display_name":"oleber"},"score":0,"creation_date":1485535904,"post_id":41504095,"comment_id":70980390,"body_markdown":"I can understand the fact that it is a Binary file format, but does it needs to depend on Hadoop?\nAt the end we changed our requirements and the Parket is no longer needed (due to unrelated reasons). We could have gone with some standalone spark app for example (JAR of 100MB, passing the normal 50 MB AWS limit).","body":"I can understand the fact that it is a Binary file format, but does it needs to depend on Hadoop? At the end we changed our requirements and the Parket is no longer needed (due to unrelated reasons). We could have gone with some standalone spark app for example (JAR of 100MB, passing the normal 50 MB AWS limit)."},{"owner":{"account_id":1771356,"reputation":2558,"user_id":1616049,"accept_rate":62,"display_name":"V. Samma"},"score":0,"creation_date":1485696280,"post_id":41504095,"comment_id":71023445,"body_markdown":"Oh okay. What did you use instead?","body":"Oh okay. What did you use instead?"},{"owner":{"account_id":1435141,"reputation":1079,"user_id":1356713,"accept_rate":11,"display_name":"oleber"},"score":0,"creation_date":1485710244,"post_id":41504095,"comment_id":71027802,"body_markdown":"For now we use GZip JSON. When we define the final tool, we will decide the final format. There will be Batch Service, EC2 machines, EMR, ...","body":"For now we use GZip JSON. When we define the final tool, we will decide the final format. There will be Batch Service, EC2 machines, EMR, ..."},{"owner":{"account_id":1771356,"reputation":2558,"user_id":1616049,"accept_rate":62,"display_name":"V. Samma"},"score":0,"creation_date":1485792975,"post_id":41504095,"comment_id":71061328,"body_markdown":"I am using EMR, but with raw JSON, Spark read in ~330gb of data (4x c3.2xlarge instances) in about 17 mins and wrote it to Parquet in about 69 mins. Then reading this parquet took only a second. Probably because it didn&#39;t need to infer the schema anymore. Of course additional operations would take more time, but still Parquet seems the best option for me.","body":"I am using EMR, but with raw JSON, Spark read in ~330gb of data (4x c3.2xlarge instances) in about 17 mins and wrote it to Parquet in about 69 mins. Then reading this parquet took only a second. Probably because it didn&#39;t need to infer the schema anymore. Of course additional operations would take more time, but still Parquet seems the best option for me."}],"answers":[{"tags":[],"owner":{"account_id":547625,"reputation":586,"user_id":999748,"accept_rate":67,"display_name":"siberiancrane"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1538316871,"creation_date":1529667739,"answer_id":50987175,"question_id":41504095,"body_markdown":"If your input JSON files are not large (&lt; 64 MB, beyond which lambda is likely to hit memory caps) and either have simple data types or you are willing to flatten the structs, you might consider using [pyarrow][1], even though the route is slightly convoluted.\r\n\r\nIt involved using [Pandas][2]:\r\n\r\n    df = pd.read_json(file.json)\r\n\r\nfollowed by converting it into parquet file:\r\n\r\n    pq = pa.parquet.write_table(df, file.pq)\r\n\r\nAbove example does auto-inference of data-types. You can override it by using the argument `dtype` while loading JSON. It&#39;s only major shortcoming is that pyarrow only supports `string, bool, float, int, date, time, decimal, list, array`.\r\n\r\n[1]: https://arrow.apache.org/docs/python/\r\n[2]: https://pandas.pydata.org/\r\n\r\n**Update (a more generic solution)**:\r\n\r\nConsider using [json2parquet][3]. \r\n\r\nHowever, if the input data has nested dictionaries, it first needs to be flattened, i.e. convert:\r\n\r\n    {a: {b: {c: d}}} to {a.b.c: d}\r\n\r\nThen, this data needs to be ingested as pyarrow batch with json2parquet:\r\n\r\n    pa_batch = j2p.ingest_data(data)\r\n\r\nand now the batch can be loaded as PyArrow dataframe:\r\n\r\n    df = pa.Table.from_batches([pa_batch])\r\n\r\nand output in parquet file:\r\n\r\n    pq = pa.parquet.write_table(df, file.pq)\r\n\r\n\r\n[3]: https://github.com/andrewgross/json2parquet\r\n\r\n\r\n  ","title":"Creating a parquet file on AWS Lambda function","body":"<p>If your input JSON files are not large (&lt; 64 MB, beyond which lambda is likely to hit memory caps) and either have simple data types or you are willing to flatten the structs, you might consider using <a href=\"https://arrow.apache.org/docs/python/\" rel=\"nofollow noreferrer\">pyarrow</a>, even though the route is slightly convoluted.</p>\n\n<p>It involved using <a href=\"https://pandas.pydata.org/\" rel=\"nofollow noreferrer\">Pandas</a>:</p>\n\n<pre><code>df = pd.read_json(file.json)\n</code></pre>\n\n<p>followed by converting it into parquet file:</p>\n\n<pre><code>pq = pa.parquet.write_table(df, file.pq)\n</code></pre>\n\n<p>Above example does auto-inference of data-types. You can override it by using the argument <code>dtype</code> while loading JSON. It's only major shortcoming is that pyarrow only supports <code>string, bool, float, int, date, time, decimal, list, array</code>.</p>\n\n<p><strong>Update (a more generic solution)</strong>:</p>\n\n<p>Consider using <a href=\"https://github.com/andrewgross/json2parquet\" rel=\"nofollow noreferrer\">json2parquet</a>. </p>\n\n<p>However, if the input data has nested dictionaries, it first needs to be flattened, i.e. convert:</p>\n\n<pre><code>{a: {b: {c: d}}} to {a.b.c: d}\n</code></pre>\n\n<p>Then, this data needs to be ingested as pyarrow batch with json2parquet:</p>\n\n<pre><code>pa_batch = j2p.ingest_data(data)\n</code></pre>\n\n<p>and now the batch can be loaded as PyArrow dataframe:</p>\n\n<pre><code>df = pa.Table.from_batches([pa_batch])\n</code></pre>\n\n<p>and output in parquet file:</p>\n\n<pre><code>pq = pa.parquet.write_table(df, file.pq)\n</code></pre>\n"}],"owner":{"account_id":1435141,"reputation":1079,"user_id":1356713,"accept_rate":11,"display_name":"oleber"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15098,"favorite_count":0,"down_vote_count":2,"up_vote_count":14,"answer_count":1,"score":12,"last_activity_date":1633343153,"creation_date":1483699982,"question_id":41504095,"body_markdown":"I&#39;m receiving a set of (1 Mb) CSV/JSON files on S3 that I would like to convert to Parquet. I was expecting to be able of converting this files easily to Parquet using a Lambda function. \r\n\r\nAfter looking on Google I didn&#39;t found a solution to this without have some sort of Hadoop. \r\n\r\nSince this is a file conversion, I can&#39;t believe there is not an easy solution for this. Someone has some Java/Scala sample code to do this conversion?","title":"Creating a parquet file on AWS Lambda function","body":"<p>I'm receiving a set of (1 Mb) CSV/JSON files on S3 that I would like to convert to Parquet. I was expecting to be able of converting this files easily to Parquet using a Lambda function. </p>\n\n<p>After looking on Google I didn't found a solution to this without have some sort of Hadoop. </p>\n\n<p>Since this is a file conversion, I can't believe there is not an easy solution for this. Someone has some Java/Scala sample code to do this conversion?</p>\n"},{"tags":["java","server","minecraft"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1631976473,"post_id":69235653,"comment_id":122371422,"body_markdown":"`java.lang.UnsupportedOperationException: Not supported yet.` This to me looks like the sort of error you get when a developer hasn&#39;t actually finished the code.  Better check that no classes are throwing this error.","body":"<code>java.lang.UnsupportedOperationException: Not supported yet.</code> This to me looks like the sort of error you get when a developer hasn&#39;t actually finished the code.  Better check that no classes are throwing this error."},{"owner":{"account_id":22788966,"reputation":1,"user_id":16943615,"display_name":"DarkyyBoi"},"score":0,"creation_date":1631978086,"post_id":69235653,"comment_id":122371837,"body_markdown":"Would this be regarding code to the server files itself @markspace? The way the function files work are like scripts that are executed to run ingame commands, which these specific files did so perfectly fine beforehand. What I mean is that I&#39;m fairly sure my files (the ones in question above) are complete, so it must be an issue with something elsewhere that is not working well with what I am trying to do?","body":"Would this be regarding code to the server files itself @markspace? The way the function files work are like scripts that are executed to run ingame commands, which these specific files did so perfectly fine beforehand. What I mean is that I&#39;m fairly sure my files (the ones in question above) are complete, so it must be an issue with something elsewhere that is not working well with what I am trying to do?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1631986768,"post_id":69235653,"comment_id":122373989,"body_markdown":"If I&#39;m reading the stack trace right, it&#39;s at`net.minecraft.commands.ICommandListener$1.getBukkitSender`, specifically the ListenerWrapper class it uses.  So either that class, or one of the classes it invokes.  The stack trace also appears to be saying that the problem is in a Jar file &quot;git-Paper.jar&quot; with some version information attached.","body":"If I&#39;m reading the stack trace right, it&#39;s at<code>net.minecraft.commands.ICommandListener$1.getBukkitSender</code>, specifically the ListenerWrapper class it uses.  So either that class, or one of the classes it invokes.  The stack trace also appears to be saying that the problem is in a Jar file &quot;git-Paper.jar&quot; with some version information attached."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1631986890,"post_id":69235653,"comment_id":122374020,"body_markdown":"If it were me, I would put all the source files (that&#39;s the text, not the Jar files) on my hard drive and run this command and see what pops up: `find -name *.java -print0 | xargs -0 grep UnsupportedOperationException`","body":"If it were me, I would put all the source files (that&#39;s the text, not the Jar files) on my hard drive and run this command and see what pops up: <code>find -name *.java -print0 | xargs -0 grep UnsupportedOperationException</code>"},{"owner":{"account_id":22788966,"reputation":1,"user_id":16943615,"display_name":"DarkyyBoi"},"score":0,"creation_date":1631988768,"post_id":69235653,"comment_id":122374453,"body_markdown":"I&#39;ll see what I can do about that @markspace thanks for the tip, just an fyi (I have just updated the post) I have almost no understanding of java so any extra guidance you can hand over to me would be appreciated :) Ofc if you have any other ideas of potential causes I am open ears","body":"I&#39;ll see what I can do about that @markspace thanks for the tip, just an fyi (I have just updated the post) I have almost no understanding of java so any extra guidance you can hand over to me would be appreciated :) Ofc if you have any other ideas of potential causes I am open ears"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1631992075,"post_id":69235653,"comment_id":122375151,"body_markdown":"What you have now is 100% absolutely code that is still in development and not ready for release.  I&#39;d make sure you&#39;re using a &quot;stable&quot; release and not a development branch, then contact the authors and ask what they recommend.  If the authors are unavailable it&#39;s abandon ware and will never be ready for release without some serious development work.","body":"What you have now is 100% absolutely code that is still in development and not ready for release.  I&#39;d make sure you&#39;re using a &quot;stable&quot; release and not a development branch, then contact the authors and ask what they recommend.  If the authors are unavailable it&#39;s abandon ware and will never be ready for release without some serious development work."},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1632041927,"post_id":69235653,"comment_id":122382256,"body_markdown":"Yes, prefer stable version as dev. The dev team is already working, so I suggest you to open an issue on the [paper github](https://github.com/PaperMC/Paper) and see what is her answer","body":"Yes, prefer stable version as dev. The dev team is already working, so I suggest you to open an issue on the <a href=\"https://github.com/PaperMC/Paper\" rel=\"nofollow noreferrer\">paper github</a> and see what is her answer"},{"owner":{"account_id":22788966,"reputation":1,"user_id":16943615,"display_name":"DarkyyBoi"},"score":0,"creation_date":1632053986,"post_id":69235653,"comment_id":122384780,"body_markdown":"Looks like someone already opened an issue for this and I completely missed it when I looked, [here it is](https://github.com/PaperMC/Paper/issues/6496). Will use that issue from now on thanks everyone","body":"Looks like someone already opened an issue for this and I completely missed it when I looked, <a href=\"https://github.com/PaperMC/Paper/issues/6496\" rel=\"nofollow noreferrer\">here it is</a>. Will use that issue from now on thanks everyone"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1632577989,"post_id":69235653,"comment_id":122533555,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633342717,"creation_date":1633342717,"answer_id":69434345,"question_id":69235653,"body_markdown":"Firstly, you have to check if the option `settings.load-startup-plugin-commands` appear in your `paper.yml` file and is set to true.\r\n\r\nAlso it seems to be [Paper](https://github.com/PaperMC/Paper) issue that have [Pull](https://github.com/PaperMC/Paper/pull/6480) [Request](https://github.com/PaperMC/Paper/pull/6641) waiting for merge to fix it.\r\n\r\nSo I suggest you to wait until both are done, and download the latest Paper version sometimes to check if it&#39;s better now.","title":"Can anyone explain possible causes of these errors in the server console (for Minecraft)?","body":"<p>Firstly, you have to check if the option <code>settings.load-startup-plugin-commands</code> appear in your <code>paper.yml</code> file and is set to true.</p>\n<p>Also it seems to be <a href=\"https://github.com/PaperMC/Paper\" rel=\"nofollow noreferrer\">Paper</a> issue that have <a href=\"https://github.com/PaperMC/Paper/pull/6480\" rel=\"nofollow noreferrer\">Pull</a> <a href=\"https://github.com/PaperMC/Paper/pull/6641\" rel=\"nofollow noreferrer\">Request</a> waiting for merge to fix it.</p>\n<p>So I suggest you to wait until both are done, and download the latest Paper version sometimes to check if it's better now.</p>\n"}],"owner":{"account_id":22788966,"reputation":1,"user_id":16943615,"display_name":"DarkyyBoi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":459,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633342717,"creation_date":1631976212,"question_id":69235653,"body_markdown":"Reposting this from a Reddit post I made as I&#39;ve had no response and still have no idea. Would really appreciate some guidance.\r\n\r\nSummary: My test server has randomly decided to not load particular function files of my datapack that had previously worked before. The server console is saying it is &quot;Not Supported.&quot;\r\n-----------------\r\nIt&#39;s likely an issue with the paper.jar file, it&#39;s put a huge block on my pack development D:\r\nThe server console is throwing the same/similar errors when trying to load a handful of function files. An example is below. I cannot share the datapack atm (private and there are 8 individual function files affected, although built using the same method), but the different files all vary in command usage, some even using execute and some not. Most/all use the trigger command in some way and commenting those commands out in some doesn&#39;t fix the issue for every function.\r\n**Edit: I have very little understanding of Java so simpler explanations/extra pointers would be very appreciated**\r\n\r\nOther Details:\r\n- Function Permission Level is set to 3 in the server.properties file (default is usually 2)\r\n- Everything worked fine when I last worked on this, so there must be some update that has changed something I am oblivious to.\r\n- The (Test) server is running on 1.17.1 Paper\r\n- I&#39;ve had a look at similar issues, and had little luck. The only reasonable suggestion was the permission level of functions\r\n- Some functions are set to execute via an advancement, and then target the player using the @s selector which worked like a treat in the past. The datapack is to support multiple players\r\n\r\n```27.08 16:26:02 [Server] ERROR Failed to load function ragnarok_rp:schedules/10_tick\r\n27.08 16:26:02 [Server] INFO java.util.concurrent.CompletionException: java.lang.UnsupportedOperationException: Not supported yet.\r\n27.08 16:26:02 [Server] INFO at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:314) ~[?:?]\r\n27.08 16:26:02 [Server] INFO at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:319) ~[?:?]\r\n27.08 16:26:02 [Server] INFO at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1766) ~[?:?]\r\n27.08 16:26:02 [Server] INFO at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[?:?]\r\n27.08 16:26:02 [Server] INFO at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[?:?]\r\n27.08 16:26:02 [Server] INFO at java.lang.Thread.run(Thread.java:831) [?:?]\r\n27.08 16:26:02 [Server] INFO Caused by: java.lang.UnsupportedOperationException: Not supported yet.\r\n27.08 16:26:02 [Server] INFO at net.minecraft.commands.ICommandListener$1.getBukkitSender(ICommandListener.java:30) ~[patched_1.17.1.jar:git-Paper-&quot;08f746f&quot;]\r\n27.08 16:26:02 [Server] INFO at net.minecraft.commands.CommandListenerWrapper.getBukkitSender(CommandListenerWrapper.java:322) ~[patched_1.17.1.jar:git-Paper-&quot;08f746f&quot;]\r\n27.08 16:26:02 [Server] INFO at net.minecraft.commands.CommandDispatcher.lambda$new$0(CommandDispatcher.java:210) ~[patched_1.17.1.jar:git-Paper-&quot;08f746f&quot;]\r\n27.08 16:26:02 [Server] INFO at com.mojang.brigadier.tree.CommandNode.canUse(CommandNode.java:78) ~[patched_1.17.1.jar:git-Paper-&quot;08f746f&quot;]\r\n27.08 16:26:02 [Server] INFO at com.mojang.brigadier.CommandDispatcher.parseNodes(CommandDispatcher.java:358) ~[patched_1.17.1.jar:git-Paper-&quot;08f746f&quot;]\r\n27.08 16:26:02 [Server] INFO at com.mojang.brigadier.CommandDispatcher.parseNodes(CommandDispatcher.java:388) ~[patched_1.17.1.jar:git-Paper-&quot;08f746f&quot;]\r\n27.08 16:26:02 [Server] INFO at com.mojang.brigadier.CommandDispatcher.parseNodes(CommandDispatcher.java:388) ~[patched_1.17.1.jar:git-Paper-&quot;08f746f&quot;]\r\n27.08 16:26:02 [Server] INFO at com.mojang.brigadier.CommandDispatcher.parseNodes(CommandDispatcher.java:392) ~[patched_1.17.1.jar:git-Paper-&quot;08f746f&quot;]\r\n27.08 16:26:02 [Server] INFO at com.mojang.brigadier.CommandDispatcher.parseNodes(CommandDispatcher.java:392) ~[patched_1.17.1.jar:git-Paper-&quot;08f746f&quot;]\r\n27.08 16:26:02 [Server] INFO at com.mojang.brigadier.CommandDispatcher.parse(CommandDispatcher.java:348) ~[patched_1.17.1.jar:git-Paper-&quot;08f746f&quot;]\r\n27.08 16:26:02 [Server] INFO at net.minecraft.commands.CustomFunction.a(CustomFunction.java:61) ~[patched_1.17.1.jar:git-Paper-&quot;08f746f&quot;]\r\n27.08 16:26:02 [Server] INFO at net.minecraft.server.CustomFunctionManager.lambda$reload$3(CustomFunctionManager.java:86) ~[patched_1.17.1.jar:git-Paper-&quot;08f746f&quot;]\r\n27.08 16:26:02 [Server] INFO at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1764) ~[?:?]\r\n27.08 16:26:02 [Server] INFO ... 3 more```","title":"Can anyone explain possible causes of these errors in the server console (for Minecraft)?","body":"<p>Reposting this from a Reddit post I made as I've had no response and still have no idea. Would really appreciate some guidance.</p>\n<h2>Summary: My test server has randomly decided to not load particular function files of my datapack that had previously worked before. The server console is saying it is &quot;Not Supported.&quot;</h2>\n<p>It's likely an issue with the paper.jar file, it's put a huge block on my pack development D:\nThe server console is throwing the same/similar errors when trying to load a handful of function files. An example is below. I cannot share the datapack atm (private and there are 8 individual function files affected, although built using the same method), but the different files all vary in command usage, some even using execute and some not. Most/all use the trigger command in some way and commenting those commands out in some doesn't fix the issue for every function.\n<strong>Edit: I have very little understanding of Java so simpler explanations/extra pointers would be very appreciated</strong></p>\n<p>Other Details:</p>\n<ul>\n<li>Function Permission Level is set to 3 in the server.properties file (default is usually 2)</li>\n<li>Everything worked fine when I last worked on this, so there must be some update that has changed something I am oblivious to.</li>\n<li>The (Test) server is running on 1.17.1 Paper</li>\n<li>I've had a look at similar issues, and had little luck. The only reasonable suggestion was the permission level of functions</li>\n<li>Some functions are set to execute via an advancement, and then target the player using the @s selector which worked like a treat in the past. The datapack is to support multiple players</li>\n</ul>\n<pre><code>27.08 16:26:02 [Server] INFO java.util.concurrent.CompletionException: java.lang.UnsupportedOperationException: Not supported yet.\n27.08 16:26:02 [Server] INFO at java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:314) ~[?:?]\n27.08 16:26:02 [Server] INFO at java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:319) ~[?:?]\n27.08 16:26:02 [Server] INFO at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1766) ~[?:?]\n27.08 16:26:02 [Server] INFO at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[?:?]\n27.08 16:26:02 [Server] INFO at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[?:?]\n27.08 16:26:02 [Server] INFO at java.lang.Thread.run(Thread.java:831) [?:?]\n27.08 16:26:02 [Server] INFO Caused by: java.lang.UnsupportedOperationException: Not supported yet.\n27.08 16:26:02 [Server] INFO at net.minecraft.commands.ICommandListener$1.getBukkitSender(ICommandListener.java:30) ~[patched_1.17.1.jar:git-Paper-&quot;08f746f&quot;]\n27.08 16:26:02 [Server] INFO at net.minecraft.commands.CommandListenerWrapper.getBukkitSender(CommandListenerWrapper.java:322) ~[patched_1.17.1.jar:git-Paper-&quot;08f746f&quot;]\n27.08 16:26:02 [Server] INFO at net.minecraft.commands.CommandDispatcher.lambda$new$0(CommandDispatcher.java:210) ~[patched_1.17.1.jar:git-Paper-&quot;08f746f&quot;]\n27.08 16:26:02 [Server] INFO at com.mojang.brigadier.tree.CommandNode.canUse(CommandNode.java:78) ~[patched_1.17.1.jar:git-Paper-&quot;08f746f&quot;]\n27.08 16:26:02 [Server] INFO at com.mojang.brigadier.CommandDispatcher.parseNodes(CommandDispatcher.java:358) ~[patched_1.17.1.jar:git-Paper-&quot;08f746f&quot;]\n27.08 16:26:02 [Server] INFO at com.mojang.brigadier.CommandDispatcher.parseNodes(CommandDispatcher.java:388) ~[patched_1.17.1.jar:git-Paper-&quot;08f746f&quot;]\n27.08 16:26:02 [Server] INFO at com.mojang.brigadier.CommandDispatcher.parseNodes(CommandDispatcher.java:388) ~[patched_1.17.1.jar:git-Paper-&quot;08f746f&quot;]\n27.08 16:26:02 [Server] INFO at com.mojang.brigadier.CommandDispatcher.parseNodes(CommandDispatcher.java:392) ~[patched_1.17.1.jar:git-Paper-&quot;08f746f&quot;]\n27.08 16:26:02 [Server] INFO at com.mojang.brigadier.CommandDispatcher.parseNodes(CommandDispatcher.java:392) ~[patched_1.17.1.jar:git-Paper-&quot;08f746f&quot;]\n27.08 16:26:02 [Server] INFO at com.mojang.brigadier.CommandDispatcher.parse(CommandDispatcher.java:348) ~[patched_1.17.1.jar:git-Paper-&quot;08f746f&quot;]\n27.08 16:26:02 [Server] INFO at net.minecraft.commands.CustomFunction.a(CustomFunction.java:61) ~[patched_1.17.1.jar:git-Paper-&quot;08f746f&quot;]\n27.08 16:26:02 [Server] INFO at net.minecraft.server.CustomFunctionManager.lambda$reload$3(CustomFunctionManager.java:86) ~[patched_1.17.1.jar:git-Paper-&quot;08f746f&quot;]\n27.08 16:26:02 [Server] INFO at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1764) ~[?:?]\n27.08 16:26:02 [Server] INFO ... 3 more```\n</code></pre>\n"},{"tags":["java","android","retrofit"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633342674,"creation_date":1633342674,"answer_id":69434337,"question_id":69434137,"body_markdown":"&gt; If you&#39;re sending JSON with your multi upload then that should be\r\n&gt; another @Part, not a @Body. \r\n&gt; \r\n&gt; When you use @Multipart you are specifying that the body is a\r\n&gt; multipart request and so all that&#39;s available for contributing to that\r\n&gt; body is @Parts.\r\n\r\n\r\nLook into using @PartMap\r\n\r\n \r\n    \r\n    Map&lt;String, RequestBody&gt; map = new HashMap&lt;&gt;();\r\n\r\n    RequestBody userBody = RequestBody.create(\r\n                    okhttp3.MediaType.parse(&quot;application/json; charset=utf-8&quot;), \r\n                    userJsonString);\r\n\r\n\r\n    map.put(&quot;licenceFrontPicture&quot;, RequestBody body = RequestBody.create(MediaType.parse(&quot;text/plain&quot;), value);\r\n\r\n    map.put(&quot;userJSON&quot;, userBody);\r\n\r\n\r\n=== Call Endpoint\r\n    \r\n    @Multipart\r\n    @POST(&quot;drivers&quot;)\r\n    Call&lt;Response&gt; uploadMultiPart(@Path(&quot;id&quot;) int userId, @PartMap Map&lt;String, RequestBody&gt; params);\r\n   ","title":"how to send an object when using the mutlipart annotation in android retrofit","body":"<blockquote>\n<p>If you're sending JSON with your multi upload then that should be\nanother @Part, not a @Body.</p>\n<p>When you use @Multipart you are specifying that the body is a\nmultipart request and so all that's available for contributing to that\nbody is @Parts.</p>\n</blockquote>\n<p>Look into using @PartMap</p>\n<pre><code>Map&lt;String, RequestBody&gt; map = new HashMap&lt;&gt;();\n\nRequestBody userBody = RequestBody.create(\n                okhttp3.MediaType.parse(&quot;application/json; charset=utf-8&quot;), \n                userJsonString);\n\n\nmap.put(&quot;licenceFrontPicture&quot;, RequestBody body = RequestBody.create(MediaType.parse(&quot;text/plain&quot;), value);\n\nmap.put(&quot;userJSON&quot;, userBody);\n</code></pre>\n<p>=== Call Endpoint</p>\n<pre><code>@Multipart\n@POST(&quot;drivers&quot;)\nCall&lt;Response&gt; uploadMultiPart(@Path(&quot;id&quot;) int userId, @PartMap Map&lt;String, RequestBody&gt; params);\n</code></pre>\n"}],"owner":{"account_id":17310277,"reputation":31,"user_id":13436001,"display_name":"Mohamad Nidal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1633342674,"creation_date":1633341792,"question_id":69434137,"body_markdown":"i am trying to send a user object in a multipart request in android retrofit\r\n\r\n```\r\n@Multipart\r\n    @POST(&quot;drivers&quot;)\r\n    Call&lt;JSONObject&gt; addANewUser(\r\n            @Body User user,\r\n            @Part(&quot;licenceFrontPicture&quot;) RequestBody licenceFrontPicture,\r\n            @Part(&quot;licenceBackPicture&quot;) RequestBody licenceBackPicture,\r\n            @Part(&quot;idCardFrontPicture&quot;) RequestBody idCardFrontPicture,\r\n            @Part(&quot;idCardBackPicture&quot;) RequestBody idCardBackPicture\r\n    );\r\n ```\r\n\r\nbut i cant use the body annotation in this case \r\nso how to convert the user object to a type that i can send","title":"how to send an object when using the mutlipart annotation in android retrofit","body":"<p>i am trying to send a user object in a multipart request in android retrofit</p>\n<pre><code>@Multipart\n    @POST(&quot;drivers&quot;)\n    Call&lt;JSONObject&gt; addANewUser(\n            @Body User user,\n            @Part(&quot;licenceFrontPicture&quot;) RequestBody licenceFrontPicture,\n            @Part(&quot;licenceBackPicture&quot;) RequestBody licenceBackPicture,\n            @Part(&quot;idCardFrontPicture&quot;) RequestBody idCardFrontPicture,\n            @Part(&quot;idCardBackPicture&quot;) RequestBody idCardBackPicture\n    );\n</code></pre>\n<p>but i cant use the body annotation in this case\nso how to convert the user object to a type that i can send</p>\n"},{"tags":["java","threadpool","java-threads"],"answers":[{"tags":[],"owner":{"account_id":1630483,"reputation":4039,"user_id":1505146,"accept_rate":50,"display_name":"Tasos P."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633342228,"creation_date":1633342228,"answer_id":69434244,"question_id":69419093,"body_markdown":"You can manage to throttle the process by using a counting [Semaphore](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Semaphore.html).\r\n\r\nThe concept behind this is simple: You start with an initial value of 5_000 permits released on your semaphore; every time your code enqueues a new file, it will need one permit. When the semaphore runs out of permits, your code will wait (blocking call to [`semaphore.acquire()`](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Semaphore.html#acquire())) until permits are released again. Your existing code will have to [`release()`](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Semaphore.html#release(int)) permits every time it consumes the data accumulated.\r\n\r\nA simplistic implementation of the above concept would be:\r\n\r\n```lang-java\r\nclass FileDataManager {\r\n\r\n    private static final int BATCH_SIZE = 5_000;\r\n    private final Semaphore semaphore = new Semaphore(BATCH_SIZE);\r\n    private Map&lt;String, String&gt; data = new HashMap&lt;&gt;(BATCH_SIZE);\r\n\r\n    Runnable addFileMap(FileDataModel fileDataModel) {\r\n        try {\r\n            //Try to acquire a permit, or wait (blocking call) until a permit is available\r\n            semaphore.acquire();\r\n            return new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    //Process file...\r\n                    data.put(fileDataModel.toString(), fileDataModel.toString());\r\n                }\r\n            };\r\n        } catch (InterruptedException ex) {\r\n            Logger.getLogger(FileDataManager.class.getName()).log(Level.SEVERE, null, ex);\r\n            throw new RuntimeException(ex);\r\n        }\r\n\r\n    }\r\n\r\n    public int accumulatedFileCount() {\r\n        return data.size();\r\n    }\r\n\r\n    public void releasePermits() {\r\n        semaphore.release(BATCH_SIZE);\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe other thread monitoring the map would then:\r\n\r\n```lang-java\r\n//...\r\n            if (fileDataManager.accumulatedFileCount() &gt;= 5_000) {\r\n                // store data in RDBMS\r\n                fileDataManager.releasePermits();\r\n            }\r\n//...\r\n```","title":"Is there any way to pause and resume Files.walkFileTree in Java?","body":"<p>You can manage to throttle the process by using a counting <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Semaphore.html\" rel=\"nofollow noreferrer\">Semaphore</a>.</p>\n<p>The concept behind this is simple: You start with an initial value of 5_000 permits released on your semaphore; every time your code enqueues a new file, it will need one permit. When the semaphore runs out of permits, your code will wait (blocking call to <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Semaphore.html#acquire()\" rel=\"nofollow noreferrer\"><code>semaphore.acquire()</code></a>) until permits are released again. Your existing code will have to <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Semaphore.html#release(int)\" rel=\"nofollow noreferrer\"><code>release()</code></a> permits every time it consumes the data accumulated.</p>\n<p>A simplistic implementation of the above concept would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class FileDataManager {\n\n    private static final int BATCH_SIZE = 5_000;\n    private final Semaphore semaphore = new Semaphore(BATCH_SIZE);\n    private Map&lt;String, String&gt; data = new HashMap&lt;&gt;(BATCH_SIZE);\n\n    Runnable addFileMap(FileDataModel fileDataModel) {\n        try {\n            //Try to acquire a permit, or wait (blocking call) until a permit is available\n            semaphore.acquire();\n            return new Runnable() {\n                @Override\n                public void run() {\n                    //Process file...\n                    data.put(fileDataModel.toString(), fileDataModel.toString());\n                }\n            };\n        } catch (InterruptedException ex) {\n            Logger.getLogger(FileDataManager.class.getName()).log(Level.SEVERE, null, ex);\n            throw new RuntimeException(ex);\n        }\n\n    }\n\n    public int accumulatedFileCount() {\n        return data.size();\n    }\n\n    public void releasePermits() {\n        semaphore.release(BATCH_SIZE);\n    }\n\n}\n</code></pre>\n<p>The other thread monitoring the map would then:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//...\n            if (fileDataManager.accumulatedFileCount() &gt;= 5_000) {\n                // store data in RDBMS\n                fileDataManager.releasePermits();\n            }\n//...\n</code></pre>\n"}],"owner":{"account_id":5068712,"reputation":2406,"user_id":4068123,"display_name":"Michael Sims"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1633342228,"creation_date":1633198798,"question_id":69419093,"body_markdown":"This class walks a path, and for each file that it hits, it throws a thread into a ThreadPoolExecutor which collects the objects being given to it into a HashMap. I have another thread that monitors the HashMap and when that Map has 5,000 elements in it, it gets dumped to a MySQL database and then the records that were recorded are purged from the HashMap and everything continues like that.\r\n\r\nHowever, once the walker gets to where it has hit over 2 million files, the actual purging of the HashMap has lagged to where it&#39;s almost a million records behind so I would like to be able to pause the folder walking until the data dumps have caught up, then resume ... rinse repeat ... \r\n\r\nIs it possible to pause this class after it starts going? OR, is there any way to slow it down possibly?\r\n\r\n    public class WalkFilePaths implements Runnable{\r\n    \r\n    \tpublic WalkFilePaths(Path rootPath, ThreadPoolExecutor executor) {\r\n    \t\tthis.rootPath           = rootPath;\r\n    \t\tthis.executor           = executor;\r\n    \t}\r\n    \r\n    \tprivate        final Path               rootPath;\r\n    \tprivate static       ThreadPoolExecutor executor;\r\n    \tprivate static final FileDataManager    fileDataManager = new FileDataManager();\r\n    \r\n    \t@Override public void run() {\r\n    \t\ttry {\r\n    \t\t\tFolderWalker folderWalker = new FolderWalker();\r\n    \t\t\tFiles.walkFileTree(rootPath,folderWalker);\r\n    \t\t}\r\n    \t\tcatch (IOException e) {e.printStackTrace();}\r\n    \t}\r\n    \r\n    \tpublic static class FolderWalker extends SimpleFileVisitor&lt;Path&gt; {\r\n    \t\t@Override\r\n    \t\tpublic FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attrs) {\r\n    \t\t\treturn FileVisitResult.CONTINUE;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic FileVisitResult visitFile(Path path, BasicFileAttributes attrs) {\r\n    \t\t\tif(attrs.isRegularFile()) {\r\n    \t\t\t\texecutor.execute(fileDataManager.addFileMap(new FileDataModel(path.toFile(), attrs.creationTime().toInstant(), attrs.lastAccessTime().toInstant())));\r\n    \t\t\t}\r\n    \t\t\treturn FileVisitResult.CONTINUE;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic FileVisitResult postVisitDirectory(Path dir, IOException e) {\r\n    \t\t\treturn FileVisitResult.CONTINUE;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic FileVisitResult visitFileFailed(Path file, IOException exc) {\r\n    \t\t\treturn FileVisitResult.CONTINUE;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"Is there any way to pause and resume Files.walkFileTree in Java?","body":"<p>This class walks a path, and for each file that it hits, it throws a thread into a ThreadPoolExecutor which collects the objects being given to it into a HashMap. I have another thread that monitors the HashMap and when that Map has 5,000 elements in it, it gets dumped to a MySQL database and then the records that were recorded are purged from the HashMap and everything continues like that.</p>\n<p>However, once the walker gets to where it has hit over 2 million files, the actual purging of the HashMap has lagged to where it's almost a million records behind so I would like to be able to pause the folder walking until the data dumps have caught up, then resume ... rinse repeat ...</p>\n<p>Is it possible to pause this class after it starts going? OR, is there any way to slow it down possibly?</p>\n<pre><code>public class WalkFilePaths implements Runnable{\n\n    public WalkFilePaths(Path rootPath, ThreadPoolExecutor executor) {\n        this.rootPath           = rootPath;\n        this.executor           = executor;\n    }\n\n    private        final Path               rootPath;\n    private static       ThreadPoolExecutor executor;\n    private static final FileDataManager    fileDataManager = new FileDataManager();\n\n    @Override public void run() {\n        try {\n            FolderWalker folderWalker = new FolderWalker();\n            Files.walkFileTree(rootPath,folderWalker);\n        }\n        catch (IOException e) {e.printStackTrace();}\n    }\n\n    public static class FolderWalker extends SimpleFileVisitor&lt;Path&gt; {\n        @Override\n        public FileVisitResult preVisitDirectory(Path dir, BasicFileAttributes attrs) {\n            return FileVisitResult.CONTINUE;\n        }\n\n        @Override\n        public FileVisitResult visitFile(Path path, BasicFileAttributes attrs) {\n            if(attrs.isRegularFile()) {\n                executor.execute(fileDataManager.addFileMap(new FileDataModel(path.toFile(), attrs.creationTime().toInstant(), attrs.lastAccessTime().toInstant())));\n            }\n            return FileVisitResult.CONTINUE;\n        }\n\n        @Override\n        public FileVisitResult postVisitDirectory(Path dir, IOException e) {\n            return FileVisitResult.CONTINUE;\n        }\n\n        @Override\n        public FileVisitResult visitFileFailed(Path file, IOException exc) {\n            return FileVisitResult.CONTINUE;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","junit","mockito","pact"],"comments":[{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1633039006,"post_id":69395964,"comment_id":122662749,"body_markdown":"It looks like you&#39;re using an `ArgumentCaptor&lt;String&gt;` to try to capture a `SendEvent`. Is that right? Also, does your &quot;Failed to invoke provider method &#39;...&#39;&quot; have a &quot;Caused by: SomeOtherException&quot; further down in that trace that might point out where Mockito and your System-Under-Test are not cooperating?","body":"It looks like you&#39;re using an <code>ArgumentCaptor&lt;String&gt;</code> to try to capture a <code>SendEvent</code>. Is that right? Also, does your &quot;Failed to invoke provider method &#39;...&#39;&quot; have a &quot;Caused by: SomeOtherException&quot; further down in that trace that might point out where Mockito and your System-Under-Test are not cooperating?"},{"owner":{"account_id":6292030,"reputation":450,"user_id":4889363,"accept_rate":0,"display_name":"Asdf11"},"score":0,"creation_date":1633070839,"post_id":69395964,"comment_id":122666864,"body_markdown":"Thanks for your input. I changed it to the correct ```ArgumentCaptor```, since this already gives an IDE hint when used wrong. Also I added the full StackTrace, but its quite short, thats why Im asking here.","body":"Thanks for your input. I changed it to the correct <code>ArgumentCaptor</code>, since this already gives an IDE hint when used wrong. Also I added the full StackTrace, but its quite short, thats why Im asking here."}],"answers":[{"tags":[],"owner":{"account_id":6292030,"reputation":450,"user_id":4889363,"accept_rate":0,"display_name":"Asdf11"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633342106,"creation_date":1633342106,"answer_id":69434207,"question_id":69395964,"body_markdown":"I found out the solution:\r\n\r\n``` lang-java\r\n    @State(&quot;state&quot;)\r\n    @PactVerifyProvider(&quot;pactVerifyProvider&quot;)\r\n    public String pactEvent(){\r\n       manager.sendEvent(foo);\r\n       verify(client).send(captor.capture());\r\n}\r\n```\r\n\r\n```@State``` needed to refer to an empty method, so set an empty state independent of the `@PactVerifyProvider`.","title":"Mockito fails with Pact contract tests","body":"<p>I found out the solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @State(&quot;state&quot;)\n    @PactVerifyProvider(&quot;pactVerifyProvider&quot;)\n    public String pactEvent(){\n       manager.sendEvent(foo);\n       verify(client).send(captor.capture());\n}\n</code></pre>\n<p><code>@State</code> needed to refer to an empty method, so set an empty state independent of the <code>@PactVerifyProvider</code>.</p>\n"}],"owner":{"account_id":6292030,"reputation":450,"user_id":4889363,"accept_rate":0,"display_name":"Asdf11"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":621,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633342106,"creation_date":1633019996,"question_id":69395964,"body_markdown":"**Mockito ArgumentCaptor fails with JUnit5 Pact contract tests**\r\n\r\nI found out a weird behaviour when using Pact with Mockito (JUnit5):\r\n\r\nI&#39;d like to get the content of ```payload``` in ```Client.send(payload)``` of the Manager class in the tests:\r\n  \r\n``` lang-java\r\npublic void send(Event event){\r\n\r\n    var payload = new SendEvent(event);\r\n    client.send(payload);\r\n  }\r\n```\r\n\r\nSo in the tests normally we can check the ```Client.send(payload)``` call with, what works without any problems:\r\n\r\n\r\n``` lang-java\r\nmanager.sendEvent(foo);\r\nverify(client).send(payload);\r\n```\r\nAlthough using ```ArgumentCaptor``` to get the content results in following error:\r\n\r\n``` lang-java\r\n@Captor\r\nprivate ArgumentCaptor&lt;Event&gt; captor;\r\n\r\n@State(&quot;state&quot;)\r\n@PactVerifyProvider(&quot;pactVerifyProvider&quot;)\r\npublic String pactEvent(){\r\n   manager.sendEvent(foo);\r\n   verify(client).send(captor.capture());\r\n}\r\n\r\n\r\n=&gt; Verification Failed - Failed to invoke provider method &#39;...&#39;\r\n```\r\n\r\nDoes anyone know if this is a known problem? Basically it is not possible to grab content when using ```Pact```. The same code with only plain ```Mockito``` works without any flaws.\r\n\r\nFull Stacktrace:\r\n\r\n``` lang-java\r\n\r\n\r\nEvent\r\n\tgenerates a message which\r\n    Verification Failed - Failed to invoke provider method &#39;sendEvent&#39;\r\n\r\n...\r\n\r\n\r\njava.lang.AssertionError: Service - Generates message &#39;event&#39;  \r\nFailures:\r\n\r\n1) Event\r\n\r\n    1.1) Failed to invoke provider method &#39;sendEvent&#39;\r\n\r\n\tat au.com.dius.pact.provider.junit5.PactVerificationContext.verifyInteraction(PactVerificationContext.kt:63)\r\n\tat test.ContractTest.testTemplate(ProviderContractTest.java:80) -&gt; thats where &quot;context.verifyInteraction();&quot;&quot; is used\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\r\nProcess finished with exit code -1\r\n\r\n```\r\nSo it seems that the ArgumentCaptors cannot be used with Pact?\r\n\r\n\r\nEDIT: corrected ArgumentCaptor and added full stack trace","title":"Mockito fails with Pact contract tests","body":"<p><strong>Mockito ArgumentCaptor fails with JUnit5 Pact contract tests</strong></p>\n<p>I found out a weird behaviour when using Pact with Mockito (JUnit5):</p>\n<p>I'd like to get the content of <code>payload</code> in <code>Client.send(payload)</code> of the Manager class in the tests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void send(Event event){\n\n    var payload = new SendEvent(event);\n    client.send(payload);\n  }\n</code></pre>\n<p>So in the tests normally we can check the <code>Client.send(payload)</code> call with, what works without any problems:</p>\n<pre class=\"lang-java prettyprint-override\"><code>manager.sendEvent(foo);\nverify(client).send(payload);\n</code></pre>\n<p>Although using <code>ArgumentCaptor</code> to get the content results in following error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Captor\nprivate ArgumentCaptor&lt;Event&gt; captor;\n\n@State(&quot;state&quot;)\n@PactVerifyProvider(&quot;pactVerifyProvider&quot;)\npublic String pactEvent(){\n   manager.sendEvent(foo);\n   verify(client).send(captor.capture());\n}\n\n\n=&gt; Verification Failed - Failed to invoke provider method '...'\n</code></pre>\n<p>Does anyone know if this is a known problem? Basically it is not possible to grab content when using <code>Pact</code>. The same code with only plain <code>Mockito</code> works without any flaws.</p>\n<p>Full Stacktrace:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n\nEvent\n    generates a message which\n    Verification Failed - Failed to invoke provider method 'sendEvent'\n\n...\n\n\njava.lang.AssertionError: Service - Generates message 'event'  \nFailures:\n\n1) Event\n\n    1.1) Failed to invoke provider method 'sendEvent'\n\n    at au.com.dius.pact.provider.junit5.PactVerificationContext.verifyInteraction(PactVerificationContext.kt:63)\n    at test.ContractTest.testTemplate(ProviderContractTest.java:80) -&gt; thats where &quot;context.verifyInteraction();&quot;&quot; is used\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n\nProcess finished with exit code -1\n\n</code></pre>\n<p>So it seems that the ArgumentCaptors cannot be used with Pact?</p>\n<p>EDIT: corrected ArgumentCaptor and added full stack trace</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1633307338,"post_id":69429842,"comment_id":122717449,"body_markdown":"*the method requires me to return something* Normally, you do exactly what you said and throw the exception out of the method. Instead of using `try/catch`, just insert your `println` statement before the throw and let the exception escape. (Note that it&#39;s also polite to other developers, including future you, to use a message like `&quot;unknown direction &quot; + direction`.)","body":"<i>the method requires me to return something</i> Normally, you do exactly what you said and throw the exception out of the method. Instead of using <code>try&#47;catch</code>, just insert your <code>println</code> statement before the throw and let the exception escape. (Note that it&#39;s also polite to other developers, including future you, to use a message like <code>&quot;unknown direction &quot; + direction</code>.)"},{"owner":{"account_id":22924090,"reputation":13,"user_id":17059468,"display_name":"DanishPirate"},"score":0,"creation_date":1633307681,"post_id":69429842,"comment_id":122717489,"body_markdown":"That shuts down the program though, doesn&#39;t it? I want the user to try a different String if they get the error message without having to restart the program.","body":"That shuts down the program though, doesn&#39;t it? I want the user to try a different String if they get the error message without having to restart the program."},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1633308022,"post_id":69429842,"comment_id":122717539,"body_markdown":"You can catch the exception in the code that calls this; exceptions &quot;roll up&quot; the stack. It only terminates your program if you never catch it at all.","body":"You can catch the exception in the code that calls this; exceptions &quot;roll up&quot; the stack. It only terminates your program if you never catch it at all."}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633341743,"creation_date":1633307489,"answer_id":69429869,"question_id":69429842,"body_markdown":"I would go for `null`. Java does not guarantee that a given object is not null at a given point in time, so you actually need to do null-checks frequently if you really want to avoid NPEs at all costs.\r\n\r\nIf you definitely want to avoid `null`, then I would go with a new Enum value for Direction. Something like UNDEFINED or UNDETERMINED or UNKNOWN or INVALID.","title":"Want to print an error message in case of exception, but have to return a value from method","body":"<p>I would go for <code>null</code>. Java does not guarantee that a given object is not null at a given point in time, so you actually need to do null-checks frequently if you really want to avoid NPEs at all costs.</p>\n<p>If you definitely want to avoid <code>null</code>, then I would go with a new Enum value for Direction. Something like UNDEFINED or UNDETERMINED or UNKNOWN or INVALID.</p>\n"}],"owner":{"account_id":22924090,"reputation":13,"user_id":17059468,"display_name":"DanishPirate"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633341743,"creation_date":1633307085,"question_id":69429842,"body_markdown":"I have a method that receives a string and then returns an enum. I want to print an error message if the string matches none of the regexes. The only problem is that the method requires me to return something. I could return null, but that means I have to check for null once the enum has been returned. I was wondering if there was an easy and more conventional way to handle this? I want to catch the exception as I don&#39;t want the program to crash.\r\n\r\n```\r\npublic static Direction getDirection(String direction) {\r\n       try {\r\n           direction = direction.toLowerCase();\r\n           if (direction.matches(&quot;go\\s+[n]|go\\s+north|north|[n]&quot;)) {\r\n               return NORTH;\r\n           } else if (direction.matches(&quot;go\\s+[s]|go\\s+south|south|[s]&quot;)) {\r\n               return SOUTH;\r\n           } else if (direction.matches(&quot;go\\s+[w]|go\\s+west|west|[w]&quot;)) {\r\n               return WEST;\r\n           } else if (direction.matches(&quot;go\\s+[e]|go\\s+east|east|[e]&quot;)) {\r\n               return EAST;\r\n           } else {\r\n               throw new IllegalArgumentException();\r\n           }\r\n       }\r\n        catch (IllegalArgumentException unknownCommand) {\r\n            System.out.println(&quot;Unknown Command&quot;);\r\n        }\r\n    }\r\n    ```","title":"Want to print an error message in case of exception, but have to return a value from method","body":"<p>I have a method that receives a string and then returns an enum. I want to print an error message if the string matches none of the regexes. The only problem is that the method requires me to return something. I could return null, but that means I have to check for null once the enum has been returned. I was wondering if there was an easy and more conventional way to handle this? I want to catch the exception as I don't want the program to crash.</p>\n<pre><code>public static Direction getDirection(String direction) {\n       try {\n           direction = direction.toLowerCase();\n           if (direction.matches(&quot;go\\s+[n]|go\\s+north|north|[n]&quot;)) {\n               return NORTH;\n           } else if (direction.matches(&quot;go\\s+[s]|go\\s+south|south|[s]&quot;)) {\n               return SOUTH;\n           } else if (direction.matches(&quot;go\\s+[w]|go\\s+west|west|[w]&quot;)) {\n               return WEST;\n           } else if (direction.matches(&quot;go\\s+[e]|go\\s+east|east|[e]&quot;)) {\n               return EAST;\n           } else {\n               throw new IllegalArgumentException();\n           }\n       }\n        catch (IllegalArgumentException unknownCommand) {\n            System.out.println(&quot;Unknown Command&quot;);\n        }\n    }\n    ```\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","webautomation"],"comments":[{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1633327830,"post_id":69431495,"comment_id":122720230,"body_markdown":"It&#39;s getting stale at this point `UsefulFunctionUtils.listOfJobs(UsefulFunctionUtils.java:45)\n        at com.digicorp.testcases.TC_AddJobCategory.testAddJobCategory(TC_AddJobCategory.java:26)` which are those two lines ?","body":"It&#39;s getting stale at this point <code>UsefulFunctionUtils.listOfJobs(UsefulFunctionUtils.java:45)         at com.digicorp.testcases.TC_AddJobCategory.testAddJobCategory(&zwnj;&#8203;TC_AddJobCategory.ja&zwnj;&#8203;va:26)</code> which are those two lines ?"},{"owner":{"account_id":22636254,"reputation":327,"user_id":16813026,"display_name":"enthusiasticCoder"},"score":0,"creation_date":1633328425,"post_id":69431495,"comment_id":122720362,"body_markdown":"First one is this\n\n```jobs.add(OrangeHRMAddJobCategories.getListOfJobs().get(i).getText());\n```\n\nthe second one we can ignore because I called it uneccessarily, but the first one is the main problem.","body":"First one is this  <code>jobs.add(OrangeHRMAddJobCategories.getListOfJobs().get(i).ge&zwnj;&#8203;tText()); </code>  the second one we can ignore because I called it uneccessarily, but the first one is the main problem."}],"answers":[{"tags":[],"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633341486,"creation_date":1633329241,"answer_id":69431779,"question_id":69431495,"body_markdown":"&gt;    org.openqa.selenium.StaleElementReferenceException: stale element reference: element is not attached to the page document\r\n\r\nIndicates that a reference to an element is now &quot;stale&quot; --- the element no longer appears on the DOM of the page. The reason for this expectation is may be your `DOM` got updated or refreshed. For an example, after performing an action like `click()` your `DOM` may get updated or refreshed. In this time when you are trying to find an element on `DOM` you will experience this error. \r\n\r\nYou have to re-find that element in updated or refreshed `DOM`\r\n```\r\ntry{\r\n    jobs.add(OrangeHRMAddJobCategories.getListOfJobs().get(i).getText());\r\n   }catch(org.openqa.selenium.StaleElementReferenceException e){\r\n     new WebDriverWait(driver, 10).until(ExpectedConditions.visibilityOf(OrangeHRMAddJobCategories.getListOfJobs().get(i)));\r\n     jobs.add(OrangeHRMAddJobCategories.getListOfJobs().get(i).getText());\r\n   }\r\n\r\n```\r\n","title":"StaleElement exception error when asserting data in a table","body":"<blockquote>\n<p>org.openqa.selenium.StaleElementReferenceException: stale element reference: element is not attached to the page document</p>\n</blockquote>\n<p>Indicates that a reference to an element is now &quot;stale&quot; --- the element no longer appears on the DOM of the page. The reason for this expectation is may be your <code>DOM</code> got updated or refreshed. For an example, after performing an action like <code>click()</code> your <code>DOM</code> may get updated or refreshed. In this time when you are trying to find an element on <code>DOM</code> you will experience this error.</p>\n<p>You have to re-find that element in updated or refreshed <code>DOM</code></p>\n<pre><code>try{\n    jobs.add(OrangeHRMAddJobCategories.getListOfJobs().get(i).getText());\n   }catch(org.openqa.selenium.StaleElementReferenceException e){\n     new WebDriverWait(driver, 10).until(ExpectedConditions.visibilityOf(OrangeHRMAddJobCategories.getListOfJobs().get(i)));\n     jobs.add(OrangeHRMAddJobCategories.getListOfJobs().get(i).getText());\n   }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633330052,"creation_date":1633330052,"answer_id":69431901,"question_id":69431495,"body_markdown":"As per the convo with OP, it&#39;s getting stale at this point \r\n\r\n    jobs.add(OrangeHRMAddJobCategories.getListOfJobs().get(i).getText());\r\n\r\nIt could be because he is calling `getListOfJobs` which returns a List of WebElement. \r\nand when you call again, they are no longer available to `page dom`, cause you might have interacted with `web element/elements` in `first iteration`. There are few fixes, such as using `Explicit wait staleness` or r`edefining the elements again and again for next iteration.` \r\n\r\n**Fix 1 :**\r\n\r\n\r\n    private static List&lt;WebElement&gt; listOfJobs = driver.findElements(By.xpath((&quot;//*[@id=&#39;resultTable&#39;]//tbody/tr//a&quot;)));\r\n    \r\n    public static List&lt;WebElement&gt; getListOfJobs(int j) \r\n     {\r\n         try \r\n         {\r\n        \t List&lt;WebElement&gt; listOfJobs = driver.findElements(By.xpath(&quot;(//*[@id=&#39;resultTable&#39;]//tbody/tr//a)[&#39;&quot;+j+&quot;&#39;]&quot;));\r\n             return listOfJobs;\r\n         } \r\n         catch (Exception e) \r\n         {\r\n             e.printStackTrace();\r\n         }\r\n         return null;\r\n     }\r\n     \r\n     \r\n        @SuppressWarnings({ &quot;null&quot; })\r\n        public static List&lt;String&gt; listOfJobs()\r\n        {\r\n        \tint j = 1;\r\n            List&lt;String&gt; jobs = null;\r\n            for(int i=0; i &lt; listOfJobs.size(); i++)\r\n            {\r\n                jobs.add(OrangeHRMAddJobCategories.getListOfJobs(j).get(i).getText());\r\n                j++;\r\n            }\r\n            return jobs;\r\n        }","title":"StaleElement exception error when asserting data in a table","body":"<p>As per the convo with OP, it's getting stale at this point</p>\n<pre><code>jobs.add(OrangeHRMAddJobCategories.getListOfJobs().get(i).getText());\n</code></pre>\n<p>It could be because he is calling <code>getListOfJobs</code> which returns a List of WebElement.\nand when you call again, they are no longer available to <code>page dom</code>, cause you might have interacted with <code>web element/elements</code> in <code>first iteration</code>. There are few fixes, such as using <code>Explicit wait staleness</code> or r<code>edefining the elements again and again for next iteration.</code></p>\n<p><strong>Fix 1 :</strong></p>\n<pre><code>private static List&lt;WebElement&gt; listOfJobs = driver.findElements(By.xpath((&quot;//*[@id='resultTable']//tbody/tr//a&quot;)));\n\npublic static List&lt;WebElement&gt; getListOfJobs(int j) \n {\n     try \n     {\n         List&lt;WebElement&gt; listOfJobs = driver.findElements(By.xpath(&quot;(//*[@id='resultTable']//tbody/tr//a)['&quot;+j+&quot;']&quot;));\n         return listOfJobs;\n     } \n     catch (Exception e) \n     {\n         e.printStackTrace();\n     }\n     return null;\n }\n \n \n    @SuppressWarnings({ &quot;null&quot; })\n    public static List&lt;String&gt; listOfJobs()\n    {\n        int j = 1;\n        List&lt;String&gt; jobs = null;\n        for(int i=0; i &lt; listOfJobs.size(); i++)\n        {\n            jobs.add(OrangeHRMAddJobCategories.getListOfJobs(j).get(i).getText());\n            j++;\n        }\n        return jobs;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633339342,"creation_date":1633339342,"answer_id":69433659,"question_id":69431495,"body_markdown":"You are doing the operation before the element is loaded in the webpage, so please add the wait conditions and then do your operation.\r\n\r\n    By divCss = By.xpath((&quot;//*[@id=&#39;resultTable&#39;]//tbody/tr//a&quot;));\r\n    wait.until(ExpectedConditions.elementToBeClickable(divCss));\r\n    wait.until(ExpectedConditions.presenceOfAllElementsLocatedBy(divCss));","title":"StaleElement exception error when asserting data in a table","body":"<p>You are doing the operation before the element is loaded in the webpage, so please add the wait conditions and then do your operation.</p>\n<pre><code>By divCss = By.xpath((&quot;//*[@id='resultTable']//tbody/tr//a&quot;));\nwait.until(ExpectedConditions.elementToBeClickable(divCss));\nwait.until(ExpectedConditions.presenceOfAllElementsLocatedBy(divCss));\n</code></pre>\n"}],"owner":{"account_id":22636254,"reputation":327,"user_id":16813026,"display_name":"enthusiasticCoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69431779,"answer_count":3,"score":0,"last_activity_date":1633341486,"creation_date":1633327205,"question_id":69431495,"body_markdown":"I am trying to add data to a table and then asserting that data is added by collecting table data in a list but every time it throws me a StaleElement exception error, now I guess it is happening because the list is getting refreshed, so I am not sure how do I handle it.\r\n\r\nHere is my implementation\r\n\r\n```\r\n    private static List&lt;WebElement&gt; listOfJobs = \r\n    driver.findElements(By.xpath((&quot;//*[@id=&#39;resultTable&#39;]//tbody/tr//a&quot;)));\r\n\r\n    public static List&lt;WebElement&gt; getListOfJobs() \r\n    \t{\r\n    \t\ttry \r\n    \t\t{\r\n    \t\t\treturn listOfJobs;\r\n    \t\t} \r\n    \t\tcatch (Exception e) \r\n    \t\t{\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n\r\n    public static String generateName()\r\n    \t{\r\n    \t\tString AlphaNumericString = &quot;abcdefghijklmnopqrstuvxyz&quot;;\r\n    \t\tStringBuilder sb = new StringBuilder(9);\r\n    \r\n    \t\tfor (int i = 0; i &lt; 9; i++) \r\n    \t\t{\r\n    \t\t\tint index = (int)(AlphaNumericString.length() * Math.random());\r\n    \t\t\tsb.append(AlphaNumericString.charAt(index));\r\n    \t\t}\r\n    \t\treturn sb.toString()+&quot;digi&quot;;\r\n    \t}\r\n    \r\n    @SuppressWarnings({ &quot;null&quot; })\r\n    \tpublic static List&lt;String&gt; listOfJobs()\r\n    \t{\r\n    \t\tList&lt;String&gt; jobs = null;\r\n    \t\tfor(int i=0; i &lt; OrangeHRMAddJobCategories.getListOfJobs().size(); i++)\r\n    \t\t{\r\n    \t\t\tjobs.add(OrangeHRMAddJobCategories.getListOfJobs().get(i).getText());\r\n    \t\t}\r\n    \t\treturn jobs;\r\n    \t}\r\n\r\n    OrangeHRMAddJobCategories jobCategories = new OrangeHRMAddJobCategories();\r\n    \t\tjobCategories.clickJobTab().clickJobCategoires().clickAdd().setJobCategoryName(UsefulFunctionUtils.generateName()).saveJobCategory();\t\r\n\r\n    Assertions.assertThat(UsefulFunctionUtils.listOfJobs().contains(&quot;digi&quot;));\r\n```\r\n\r\nI feel that the listOfJobs should be reinjected somewhere but not sure where exactly do I put it because refreshing the page did not work.\r\n\r\nComplete stacktrace\r\n\r\n```\r\n\r\n    org.openqa.selenium.StaleElementReferenceException: stale element reference: element is not attached to the page document\r\n      (Session info: chrome=94.0.4606.61)\r\n    For documentation on this error, please visit: https://www.seleniumhq.org/exceptions/stale_element_reference.html\r\n    Build info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\n    System info: host: &#39;DESKTOP-R3JT7MO&#39;, ip: &#39;192.168.0.103&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;16.0.1&#39;\r\n    Driver info: org.openqa.selenium.chrome.ChromeDriver\r\n    Capabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 94.0.4606.61, chrome: {chromedriverVersion: 94.0.4606.61 (418b78f5838ed..., userDataDir: C:\\Users\\CHINMA~1\\AppData\\L...}, goog:chromeOptions: {debuggerAddress: localhost:62489}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: WINDOWS, platformName: WINDOWS, proxy: Proxy(), setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\r\n    Session ID: 8b68238ee73ae8190f250fa15fbb41f1\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n    \tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\r\n    \tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\r\n    \tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\r\n    \tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\r\n    \tat org.openqa.selenium.remote.RemoteWebElement.execute(RemoteWebElement.java:285)\r\n    \tat org.openqa.selenium.remote.RemoteWebElement.getText(RemoteWebElement.java:166)\r\n    \tat com.digicorp.utils.UsefulFunctionUtils.listOfJobs(UsefulFunctionUtils.java:45)\r\n    \tat com.digicorp.testcases.TC_AddJobCategory.testAddJobCategory(TC_AddJobCategory.java:26)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\r\n    \tat org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:598)\r\n    \tat org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\r\n    \tat org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\r\n    \tat org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\r\n    \tat org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\r\n    \tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\r\n    \tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.testng.TestRunner.privateRun(TestRunner.java:794)\r\n    \tat org.testng.TestRunner.run(TestRunner.java:596)\r\n    \tat org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\r\n    \tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\r\n    \tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\r\n    \tat org.testng.SuiteRunner.run(SuiteRunner.java:276)\r\n    \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n    \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n    \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\r\n    \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\r\n    \tat org.testng.TestNG.runSuites(TestNG.java:1063)\r\n    \tat org.testng.TestNG.run(TestNG.java:1031)\r\n    \tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n    \tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n    \tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n\r\n```\r\n\r\n","title":"StaleElement exception error when asserting data in a table","body":"<p>I am trying to add data to a table and then asserting that data is added by collecting table data in a list but every time it throws me a StaleElement exception error, now I guess it is happening because the list is getting refreshed, so I am not sure how do I handle it.</p>\n<p>Here is my implementation</p>\n<pre><code>    private static List&lt;WebElement&gt; listOfJobs = \n    driver.findElements(By.xpath((&quot;//*[@id='resultTable']//tbody/tr//a&quot;)));\n\n    public static List&lt;WebElement&gt; getListOfJobs() \n        {\n            try \n            {\n                return listOfJobs;\n            } \n            catch (Exception e) \n            {\n                e.printStackTrace();\n            }\n            return null;\n        }\n\n    public static String generateName()\n        {\n            String AlphaNumericString = &quot;abcdefghijklmnopqrstuvxyz&quot;;\n            StringBuilder sb = new StringBuilder(9);\n    \n            for (int i = 0; i &lt; 9; i++) \n            {\n                int index = (int)(AlphaNumericString.length() * Math.random());\n                sb.append(AlphaNumericString.charAt(index));\n            }\n            return sb.toString()+&quot;digi&quot;;\n        }\n    \n    @SuppressWarnings({ &quot;null&quot; })\n        public static List&lt;String&gt; listOfJobs()\n        {\n            List&lt;String&gt; jobs = null;\n            for(int i=0; i &lt; OrangeHRMAddJobCategories.getListOfJobs().size(); i++)\n            {\n                jobs.add(OrangeHRMAddJobCategories.getListOfJobs().get(i).getText());\n            }\n            return jobs;\n        }\n\n    OrangeHRMAddJobCategories jobCategories = new OrangeHRMAddJobCategories();\n            jobCategories.clickJobTab().clickJobCategoires().clickAdd().setJobCategoryName(UsefulFunctionUtils.generateName()).saveJobCategory();   \n\n    Assertions.assertThat(UsefulFunctionUtils.listOfJobs().contains(&quot;digi&quot;));\n</code></pre>\n<p>I feel that the listOfJobs should be reinjected somewhere but not sure where exactly do I put it because refreshing the page did not work.</p>\n<p>Complete stacktrace</p>\n<pre><code>\n    org.openqa.selenium.StaleElementReferenceException: stale element reference: element is not attached to the page document\n      (Session info: chrome=94.0.4606.61)\n    For documentation on this error, please visit: https://www.seleniumhq.org/exceptions/stale_element_reference.html\n    Build info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\n    System info: host: 'DESKTOP-R3JT7MO', ip: '192.168.0.103', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '16.0.1'\n    Driver info: org.openqa.selenium.chrome.ChromeDriver\n    Capabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 94.0.4606.61, chrome: {chromedriverVersion: 94.0.4606.61 (418b78f5838ed..., userDataDir: C:\\Users\\CHINMA~1\\AppData\\L...}, goog:chromeOptions: {debuggerAddress: localhost:62489}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: WINDOWS, platformName: WINDOWS, proxy: Proxy(), setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\n    Session ID: 8b68238ee73ae8190f250fa15fbb41f1\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:78)\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n        at org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\n        at org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\n        at org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\n        at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\n        at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\n        at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\n        at org.openqa.selenium.remote.RemoteWebElement.execute(RemoteWebElement.java:285)\n        at org.openqa.selenium.remote.RemoteWebElement.getText(RemoteWebElement.java:166)\n        at com.digicorp.utils.UsefulFunctionUtils.listOfJobs(UsefulFunctionUtils.java:45)\n        at com.digicorp.testcases.TC_AddJobCategory.testAddJobCategory(TC_AddJobCategory.java:26)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n        at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\n        at org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:598)\n        at org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\n        at org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\n        at org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\n        at org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\n        at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\n        at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n        at org.testng.TestRunner.privateRun(TestRunner.java:794)\n        at org.testng.TestRunner.run(TestRunner.java:596)\n        at org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\n        at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\n        at org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\n        at org.testng.SuiteRunner.run(SuiteRunner.java:276)\n        at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\n        at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\n        at org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\n        at org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\n        at org.testng.TestNG.runSuites(TestNG.java:1063)\n        at org.testng.TestNG.run(TestNG.java:1031)\n        at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\n        at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n        at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\n\n</code></pre>\n"},{"tags":["java","xml","templates","velocity","velocity-template-language"],"answers":[{"tags":[],"owner":{"account_id":4158688,"reputation":2520,"user_id":3409234,"display_name":"TanvirChowdhury"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633341452,"creation_date":1633341111,"answer_id":69433985,"question_id":69433770,"body_markdown":"First convert your XML into a DTO, and then  DTO into Json. You should split your architecture in more than just one layer. The data access layer will handle the WS call and the controller will know how to answer the REST call. Velocity is just a template engine, not a converting tool. You should check Jackson or Gson.\r\n\r\n","title":"Convert XML object to Json using velocity template","body":"<p>First convert your XML into a DTO, and then  DTO into Json. You should split your architecture in more than just one layer. The data access layer will handle the WS call and the controller will know how to answer the REST call. Velocity is just a template engine, not a converting tool. You should check Jackson or Gson.</p>\n"}],"owner":{"account_id":13315515,"reputation":377,"user_id":9865674,"display_name":"Amit Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633341452,"creation_date":1633339982,"question_id":69433770,"body_markdown":"I have a use-case where input data is in xml format. It contains multiple fields where we are interested in reading only few fields. \r\n\r\nBased on the different use-case, separate velocity templates would have to written to convert xml to json data. \r\n\r\nI could not find a better guide on how to write velocity template to convert XML to json. Can someone please help us how to write velocity for conversion from XML to JSON.\r\n\r\nThanks in advance!","title":"Convert XML object to Json using velocity template","body":"<p>I have a use-case where input data is in xml format. It contains multiple fields where we are interested in reading only few fields.</p>\n<p>Based on the different use-case, separate velocity templates would have to written to convert xml to json data.</p>\n<p>I could not find a better guide on how to write velocity template to convert XML to json. Can someone please help us how to write velocity for conversion from XML to JSON.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":14601909,"reputation":955,"user_id":10545973,"display_name":"Rick"},"score":0,"creation_date":1633284927,"post_id":69427098,"comment_id":122713564,"body_markdown":"The error log you pasted says Selenium can&#39;t find an element, and provides a link to find more details about it. What is your question?","body":"The error log you pasted says Selenium can&#39;t find an element, and provides a link to find more details about it. What is your question?"},{"owner":{"account_id":14980828,"reputation":1,"user_id":10814861,"display_name":"Sudheera Amarakoon"},"score":0,"creation_date":1633757636,"post_id":69427098,"comment_id":122850528,"body_markdown":"@Rick cannot run this one when i cliked &quot;Run&quot; button. to be honest this is my very first script for automation","body":"@Rick cannot run this one when i cliked &quot;Run&quot; button. to be honest this is my very first script for automation"}],"answers":[{"tags":[],"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633340793,"creation_date":1633340793,"answer_id":69433923,"question_id":69427098,"body_markdown":"NoSuchElementException : {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;*[name=&#39;uid&#39;]&quot;}\r\nPlease open the developer tools and verify that your xpath is right?\r\n\r\nif it is right, you are doing some operation on loading website. please add wait time.\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 20);\r\n    By divCss = By.xpath((&quot;//*[@id=&#39;resultTable&#39;]//tbody/tr//a&quot;));\r\n    wait.until(ExpectedConditions.elementToBeClickable(divCss));\r\n    wait.until(ExpectedConditions.presenceOfAllElementsLocatedBy(divCss));","title":"Selenium first script issues","body":"<p>NoSuchElementException : {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;*[name='uid']&quot;}\nPlease open the developer tools and verify that your xpath is right?</p>\n<p>if it is right, you are doing some operation on loading website. please add wait time.</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 20);\nBy divCss = By.xpath((&quot;//*[@id='resultTable']//tbody/tr//a&quot;));\nwait.until(ExpectedConditions.elementToBeClickable(divCss));\nwait.until(ExpectedConditions.presenceOfAllElementsLocatedBy(divCss));\n</code></pre>\n"}],"owner":{"account_id":14980828,"reputation":1,"user_id":10814861,"display_name":"Sudheera Amarakoon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633340793,"creation_date":1633280699,"question_id":69427098,"body_markdown":"can someone explain me what is this issues are\r\n\r\n[RemoteTestNG] detected TestNG version 7.4.0\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nStarting ChromeDriver 93.0.4577.63 (ff5c0da2ec0adeaed5550e6c7e98417dac77d98a-refs/branch-heads/4577@{#1135}) on port 44625\r\nOnly local connections are allowed.\r\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\nChromeDriver was started successfully.\r\nOct 03, 2021 7:39:31 PM org.openqa.selenium.remote.ProtocolHandshake createSession\r\nINFO: Detected dialect: W3C\r\nFAILED: test1\r\norg.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;*[name=&#39;uid&#39;]&quot;}\r\n  (Session info: chrome=93.0.4577.82)\r\nFor documentation on this error, please visit: https://www.seleniumhq.org/exceptions/no_such_element.html\r\nBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\nSystem info: host: &#39;DESKTOP-T9AC67A&#39;, ip: &#39;192.168.8.103&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 93.0.4577.82, chrome: {chromedriverVersion: 93.0.4577.63 (ff5c0da2ec0ad..., userDataDir: C:\\Users\\HP\\AppData\\Local\\T...}, goog:chromeOptions: {debuggerAddress: localhost:58962}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: WINDOWS, platformName: WINDOWS, proxy: Proxy(), setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\r\nSession ID: 6a5cd2f8473cf85881207039d4329872\r\n*** Element info: {Using=name, value=uid}\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:323)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.findElementByName(RemoteWebDriver.java:404)\r\n\tat org.openqa.selenium.By$ByName.findElement(By.java:284)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:315)\r\n\tat seleniumPackage.SeleniumTestClass.test1(SeleniumTestClass.java:31)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\r\n\tat org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:598)\r\n\tat org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\r\n\tat org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\r\n\tat org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\r\n\tat org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\r\n\tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:794)\r\n\tat org.testng.TestRunner.run(TestRunner.java:596)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:276)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1063)\r\n\tat org.testng.TestNG.run(TestNG.java:1031)\r\n\tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)","title":"Selenium first script issues","body":"<p>can someone explain me what is this issues are</p>\n<p>[RemoteTestNG] detected TestNG version 7.4.0\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See <a href=\"http://www.slf4j.org/codes.html#StaticLoggerBinder\" rel=\"nofollow noreferrer\">http://www.slf4j.org/codes.html#StaticLoggerBinder</a> for further details.\nStarting ChromeDriver 93.0.4577.63 (ff5c0da2ec0adeaed5550e6c7e98417dac77d98a-refs/branch-heads/4577@{#1135}) on port 44625\nOnly local connections are allowed.\nPlease see <a href=\"https://chromedriver.chromium.org/security-considerations\" rel=\"nofollow noreferrer\">https://chromedriver.chromium.org/security-considerations</a> for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\nOct 03, 2021 7:39:31 PM org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: W3C\nFAILED: test1\norg.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;css selector&quot;,&quot;selector&quot;:&quot;*[name='uid']&quot;}\n(Session info: chrome=93.0.4577.82)\nFor documentation on this error, please visit: <a href=\"https://www.seleniumhq.org/exceptions/no_such_element.html\" rel=\"nofollow noreferrer\">https://www.seleniumhq.org/exceptions/no_such_element.html</a>\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: host: 'DESKTOP-T9AC67A', ip: '192.168.8.103', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '17'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 93.0.4577.82, chrome: {chromedriverVersion: 93.0.4577.63 (ff5c0da2ec0ad..., userDataDir: C:\\Users\\HP\\AppData\\Local\\T...}, goog:chromeOptions: {debuggerAddress: localhost:58962}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: WINDOWS, platformName: WINDOWS, proxy: Proxy(), setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\nSession ID: 6a5cd2f8473cf85881207039d4329872\n*** Element info: {Using=name, value=uid}\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\nat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\nat org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\nat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\nat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\nat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\nat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\nat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\nat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:323)\nat org.openqa.selenium.remote.RemoteWebDriver.findElementByName(RemoteWebDriver.java:404)\nat org.openqa.selenium.By$ByName.findElement(By.java:284)\nat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:315)\nat seleniumPackage.SeleniumTestClass.test1(SeleniumTestClass.java:31)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\nat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\nat org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:598)\nat org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\nat org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\nat org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\nat org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\nat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\nat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.testng.TestRunner.privateRun(TestRunner.java:794)\nat org.testng.TestRunner.run(TestRunner.java:596)\nat org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\nat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\nat org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\nat org.testng.SuiteRunner.run(SuiteRunner.java:276)\nat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\nat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\nat org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\nat org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\nat org.testng.TestNG.runSuites(TestNG.java:1063)\nat org.testng.TestNG.run(TestNG.java:1031)\nat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\nat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\nat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)</p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1633340145,"post_id":69433738,"comment_id":122724376,"body_markdown":"Can you please also log the bind variables to see what&#39;s passed by hibernate: set org.hibernate.type.descriptor.sql.BasicBinder to trace","body":"Can you please also log the bind variables to see what&#39;s passed by hibernate: set org.hibernate.type.descriptor.sql.BasicBinder to trace"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1633346838,"post_id":69433738,"comment_id":122726885,"body_markdown":"I would say it&#39;s ?=1  and the parameters value is true","body":"I would say it&#39;s ?=1  and the parameters value is true"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1633346910,"post_id":69433738,"comment_id":122726912,"body_markdown":"And this comes from  Predicate base = cb.isTrue(cb.literal(true));","body":"And this comes from  Predicate base = cb.isTrue(cb.literal(true));"},{"owner":{"account_id":7507527,"reputation":75,"user_id":5703598,"display_name":"Niko"},"score":0,"creation_date":1633445742,"post_id":69433738,"comment_id":122758822,"body_markdown":"We have used the same query for other fields, but it isn&#39;t a problem for those. It is specific for this field it isn&#39;t working.","body":"We have used the same query for other fields, but it isn&#39;t a problem for those. It is specific for this field it isn&#39;t working."}],"owner":{"account_id":7507527,"reputation":75,"user_id":5703598,"display_name":"Niko"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":597,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1633340754,"creation_date":1633339771,"question_id":69433738,"body_markdown":"We have encountered weird behavior when using JPA Specification. So we wanted to do a where clause on a joined property, so that we only fetch items where a property of a joined item matches the filter. Running the generated query on a database by SQL works as expected, however in Spring JPA doesn&#39;t seem to execute the filtering.\r\n\r\n**Description**\r\n\r\n**Situation**: Having two entities with each 1 sub-entity saved in the database. Both have a property with different values. We want, through JPA specification, filter on the value of one of the sub-entities.\r\n\r\n**Expected Result**: The database only returns the entity for which the query on the property of the sub-entity matches.\r\n\r\n**Actual Result**: The database returns both entities, even the one where the value of the property doesn&#39;t match.\r\n\r\nHere is the code for this:\r\n\r\n**Entities**\r\n\r\n    @Entity\r\n    @Table(name=&quot;item&quot;)\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Data\r\n    public class ItemEntity implements Serializable {\r\n        @Id\r\n        @GeneratedValue(strategy= GenerationType.IDENTITY)\r\n        private Long id;\r\n        @Column(name = &quot;item_number&quot;)\r\n        private String itemNumber;\r\n        @Column(name = &quot;edition&quot;)\r\n        private String edition;\r\n        @OneToMany(cascade = CascadeType.ALL)\r\n        @JoinColumn(name=&quot;item_number&quot;,  referencedColumnName = &quot;item_number&quot;)\r\n        private List&lt;PlmItemInfoEntity&gt; plmItemInfoEntity;\r\n        @Enumerated(EnumType.STRING)\r\n        private ItemStatus status;\r\n        private String fsi;\r\n        private String sqa;\r\n        @Column(name = &quot;creation_date&quot;)\r\n        private Long creationDate;\r\n        @Column(name = &quot;modified_date&quot;)\r\n        private Long modifiedDate;\r\n        @Column(name = &quot;plm_refresh_date&quot;)\r\n        private Long plmRefreshDate;\r\n    \r\n        public PlmItemInfoEntity getLatestPlmInfoEntity() {\r\n            // TODO Clarify what the &quot;latest&quot; item is -- QAP-63\r\n            return plmItemInfoEntity.get(0);\r\n        }\r\n    \r\n        @PrePersist\r\n        void createdAt() {\r\n            this.creationDate = this.modifiedDate = ZonedDateTime.now().toEpochSecond();\r\n        }\r\n    \r\n        @PreUpdate\r\n        void updatedAt() {\r\n            this.modifiedDate = ZonedDateTime.now().toEpochSecond();\r\n        }\r\n    }\r\n\r\n\r\n    @Entity\r\n    @Immutable\r\n    @Table(name=&quot;plm_item_info&quot;)\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Data\r\n    public class PlmItemInfoEntity {\r\n        @Id\r\n        @GeneratedValue(strategy= GenerationType.IDENTITY)\r\n        private Long id;\r\n        @Column(name = &quot;item_number&quot;)\r\n        private String itemNumber;\r\n        @Column(name = &quot;item_name&quot;)\r\n        private String itemName;\r\n        private String edition;\r\n        @Enumerated(EnumType.STRING)\r\n        private PlmItemStatus status;\r\n        private Long date;\r\n    \r\n        @Column(name = &quot;creation_date&quot;)\r\n        private Long creationDate;\r\n        @PrePersist\r\n        void createdAt() {\r\n            this.creationDate  = ZonedDateTime.now().toEpochSecond();\r\n        }\r\n    }\r\n\r\n**Specification**\r\n\r\n    public class ItemSpecification extends AbstractSpecification&lt;ItemEntity&gt; {\r\n    \r\n        private ItemFilter filter;\r\n    \r\n        public ItemSpecification(ItemFilter filter) {\r\n            this.filter = filter;\r\n        }\r\n    \r\n        @Override\r\n        public Predicate toPredicate(Root&lt;ItemEntity&gt; root, CriteriaQuery&lt;?&gt; query,\r\n                CriteriaBuilder cb) {\r\n            query.distinct(true);\r\n            Predicate base = cb.isTrue(cb.literal(true));\r\n    \r\n            Join&lt;Object, Object&gt; plmItemInfoEntityJoin = root.join(&quot;plmItemInfoEntity&quot;, JoinType.INNER);\r\n    \r\n            final Subquery&lt;Number&gt; subquery = query.subquery(Number.class);\r\n            final Root&lt;PlmItemInfoEntity&gt; creationDateConstraint =\r\n                    subquery.from(PlmItemInfoEntity.class);\r\n            subquery.select(cb.max(creationDateConstraint.get(&quot;creationDate&quot;)));\r\n            subquery.groupBy(creationDateConstraint.get(&quot;creationDate&quot;),\r\n                    creationDateConstraint.get(&quot;itemNumber&quot;));\r\n    \r\n            base = cb.and(base, cb.in(root.get(&quot;plmRefreshDate&quot;)).value(subquery));\r\n        \r\n            base = cb.and(base, plmItemInfoEntityJoin.get(&quot;itemName&quot;).in(filter.getItemName()));\r\n        \r\n    \r\n            return base;\r\n        }\r\n    }\r\n\r\n**Filter Object**\r\n\r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class ItemFilter implements Serializable {\r\n    \r\n        private DatePair date;\r\n        private List&lt;String&gt; itemName = new ArrayList&lt;&gt;();\r\n    \r\n        public Optional&lt;DatePair&gt; getDate() {\r\n            return Optional.ofNullable(date);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**Entities after saved to database**\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**Filter**\r\n[![enter image description here][3]][3]\r\n\r\n**Jpa Sql Console Query**\r\n\r\n    2021-10-04 11:19:48.893 CID:DEBUG 15140 --- [           main] org.hibernate.SQL                        : \r\n        select\r\n            distinct itementity0_.id as id1_0_,\r\n            itementity0_.creation_date as creation2_0_,\r\n            itementity0_.edition as edition3_0_,\r\n            itementity0_.fsi as fsi4_0_,\r\n            itementity0_.item_number as item_num5_0_,\r\n            itementity0_.modified_date as modified6_0_,\r\n            itementity0_.plm_refresh_date as plm_refr7_0_,\r\n            itementity0_.sqa as sqa8_0_,\r\n            itementity0_.status as status9_0_ \r\n        from\r\n            item itementity0_ \r\n        inner join\r\n            plm_item_info plmiteminf1_ \r\n                on itementity0_.item_number=plmiteminf1_.item_number \r\n        where\r\n            ?=1 \r\n            and (\r\n                itementity0_.plm_refresh_date in (\r\n                    select\r\n                        max(plmiteminf2_.creation_date) \r\n                    from\r\n                        plm_item_info plmiteminf2_ \r\n                    group by\r\n                        plmiteminf2_.creation_date ,\r\n                        plmiteminf2_.item_number\r\n                )\r\n            ) \r\n            and (\r\n                plmiteminf1_.item_name in (\r\n                    ?\r\n                )\r\n            )\r\n    Hibernate: \r\n        select\r\n            distinct itementity0_.id as id1_0_,\r\n            itementity0_.creation_date as creation2_0_,\r\n            itementity0_.edition as edition3_0_,\r\n            itementity0_.fsi as fsi4_0_,\r\n            itementity0_.item_number as item_num5_0_,\r\n            itementity0_.modified_date as modified6_0_,\r\n            itementity0_.plm_refresh_date as plm_refr7_0_,\r\n            itementity0_.sqa as sqa8_0_,\r\n            itementity0_.status as status9_0_ \r\n        from\r\n            item itementity0_ \r\n        inner join\r\n            plm_item_info plmiteminf1_ \r\n                on itementity0_.item_number=plmiteminf1_.item_number \r\n        where\r\n            ?=1 \r\n            and (\r\n                itementity0_.plm_refresh_date in (\r\n                    select\r\n                        max(plmiteminf2_.creation_date) \r\n                    from\r\n                        plm_item_info plmiteminf2_ \r\n                    group by\r\n                        plmiteminf2_.creation_date ,\r\n                        plmiteminf2_.item_number\r\n                )\r\n            ) \r\n            and (\r\n                plmiteminf1_.item_name in (\r\n                    ?\r\n                )\r\n            )\r\n\r\n**Bind Variables**\r\n\r\n    2021-10-04 11:45:23.923 CID:TRACE 14328 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]\r\n    2021-10-04 11:45:23.925 CID:TRACE 14328 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [TOFIND]\r\n\r\n\r\n**Actual Result**\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n**Result when running the sql on staging database**\r\n\r\nThe data on staging:\r\n[![enter image description here][5]][5]\r\n\r\nThe result when running the query there:\r\n[![enter image description here][6]][6]\r\n\r\n\r\nSo as you can see, the query works on staging if you run it plainly, without JPA/Hibernate. So what is going on here? How do we fix this?\r\n\r\nMore info needed or questions, please let me know. We are stuck on this one.\r\n\r\nThanks in advance!\r\n\r\n  [1]: https://i.stack.imgur.com/XQMtp.png\r\n  [2]: https://i.stack.imgur.com/2PZBm.png\r\n  [3]: https://i.stack.imgur.com/TE3YV.png\r\n  [4]: https://i.stack.imgur.com/luC1w.png\r\n  [5]: https://i.stack.imgur.com/e6ngy.png\r\n  [6]: https://i.stack.imgur.com/pGEpB.png","title":"Jpa Specification IN Clause on joined property not working as expected","body":"<p>We have encountered weird behavior when using JPA Specification. So we wanted to do a where clause on a joined property, so that we only fetch items where a property of a joined item matches the filter. Running the generated query on a database by SQL works as expected, however in Spring JPA doesn't seem to execute the filtering.</p>\n<p><strong>Description</strong></p>\n<p><strong>Situation</strong>: Having two entities with each 1 sub-entity saved in the database. Both have a property with different values. We want, through JPA specification, filter on the value of one of the sub-entities.</p>\n<p><strong>Expected Result</strong>: The database only returns the entity for which the query on the property of the sub-entity matches.</p>\n<p><strong>Actual Result</strong>: The database returns both entities, even the one where the value of the property doesn't match.</p>\n<p>Here is the code for this:</p>\n<p><strong>Entities</strong></p>\n<pre><code>@Entity\n@Table(name=&quot;item&quot;)\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Data\npublic class ItemEntity implements Serializable {\n    @Id\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\n    private Long id;\n    @Column(name = &quot;item_number&quot;)\n    private String itemNumber;\n    @Column(name = &quot;edition&quot;)\n    private String edition;\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name=&quot;item_number&quot;,  referencedColumnName = &quot;item_number&quot;)\n    private List&lt;PlmItemInfoEntity&gt; plmItemInfoEntity;\n    @Enumerated(EnumType.STRING)\n    private ItemStatus status;\n    private String fsi;\n    private String sqa;\n    @Column(name = &quot;creation_date&quot;)\n    private Long creationDate;\n    @Column(name = &quot;modified_date&quot;)\n    private Long modifiedDate;\n    @Column(name = &quot;plm_refresh_date&quot;)\n    private Long plmRefreshDate;\n\n    public PlmItemInfoEntity getLatestPlmInfoEntity() {\n        // TODO Clarify what the &quot;latest&quot; item is -- QAP-63\n        return plmItemInfoEntity.get(0);\n    }\n\n    @PrePersist\n    void createdAt() {\n        this.creationDate = this.modifiedDate = ZonedDateTime.now().toEpochSecond();\n    }\n\n    @PreUpdate\n    void updatedAt() {\n        this.modifiedDate = ZonedDateTime.now().toEpochSecond();\n    }\n}\n\n\n@Entity\n@Immutable\n@Table(name=&quot;plm_item_info&quot;)\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\npublic class PlmItemInfoEntity {\n    @Id\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\n    private Long id;\n    @Column(name = &quot;item_number&quot;)\n    private String itemNumber;\n    @Column(name = &quot;item_name&quot;)\n    private String itemName;\n    private String edition;\n    @Enumerated(EnumType.STRING)\n    private PlmItemStatus status;\n    private Long date;\n\n    @Column(name = &quot;creation_date&quot;)\n    private Long creationDate;\n    @PrePersist\n    void createdAt() {\n        this.creationDate  = ZonedDateTime.now().toEpochSecond();\n    }\n}\n</code></pre>\n<p><strong>Specification</strong></p>\n<pre><code>public class ItemSpecification extends AbstractSpecification&lt;ItemEntity&gt; {\n\n    private ItemFilter filter;\n\n    public ItemSpecification(ItemFilter filter) {\n        this.filter = filter;\n    }\n\n    @Override\n    public Predicate toPredicate(Root&lt;ItemEntity&gt; root, CriteriaQuery&lt;?&gt; query,\n            CriteriaBuilder cb) {\n        query.distinct(true);\n        Predicate base = cb.isTrue(cb.literal(true));\n\n        Join&lt;Object, Object&gt; plmItemInfoEntityJoin = root.join(&quot;plmItemInfoEntity&quot;, JoinType.INNER);\n\n        final Subquery&lt;Number&gt; subquery = query.subquery(Number.class);\n        final Root&lt;PlmItemInfoEntity&gt; creationDateConstraint =\n                subquery.from(PlmItemInfoEntity.class);\n        subquery.select(cb.max(creationDateConstraint.get(&quot;creationDate&quot;)));\n        subquery.groupBy(creationDateConstraint.get(&quot;creationDate&quot;),\n                creationDateConstraint.get(&quot;itemNumber&quot;));\n\n        base = cb.and(base, cb.in(root.get(&quot;plmRefreshDate&quot;)).value(subquery));\n    \n        base = cb.and(base, plmItemInfoEntityJoin.get(&quot;itemName&quot;).in(filter.getItemName()));\n    \n\n        return base;\n    }\n}\n</code></pre>\n<p><strong>Filter Object</strong></p>\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ItemFilter implements Serializable {\n\n    private DatePair date;\n    private List&lt;String&gt; itemName = new ArrayList&lt;&gt;();\n\n    public Optional&lt;DatePair&gt; getDate() {\n        return Optional.ofNullable(date);\n    }\n\n}\n</code></pre>\n<p><strong>Entities after saved to database</strong>\n<a href=\"https://i.stack.imgur.com/XQMtp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XQMtp.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/2PZBm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2PZBm.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Filter</strong>\n<a href=\"https://i.stack.imgur.com/TE3YV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TE3YV.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Jpa Sql Console Query</strong></p>\n<pre><code>2021-10-04 11:19:48.893 CID:DEBUG 15140 --- [           main] org.hibernate.SQL                        : \n    select\n        distinct itementity0_.id as id1_0_,\n        itementity0_.creation_date as creation2_0_,\n        itementity0_.edition as edition3_0_,\n        itementity0_.fsi as fsi4_0_,\n        itementity0_.item_number as item_num5_0_,\n        itementity0_.modified_date as modified6_0_,\n        itementity0_.plm_refresh_date as plm_refr7_0_,\n        itementity0_.sqa as sqa8_0_,\n        itementity0_.status as status9_0_ \n    from\n        item itementity0_ \n    inner join\n        plm_item_info plmiteminf1_ \n            on itementity0_.item_number=plmiteminf1_.item_number \n    where\n        ?=1 \n        and (\n            itementity0_.plm_refresh_date in (\n                select\n                    max(plmiteminf2_.creation_date) \n                from\n                    plm_item_info plmiteminf2_ \n                group by\n                    plmiteminf2_.creation_date ,\n                    plmiteminf2_.item_number\n            )\n        ) \n        and (\n            plmiteminf1_.item_name in (\n                ?\n            )\n        )\nHibernate: \n    select\n        distinct itementity0_.id as id1_0_,\n        itementity0_.creation_date as creation2_0_,\n        itementity0_.edition as edition3_0_,\n        itementity0_.fsi as fsi4_0_,\n        itementity0_.item_number as item_num5_0_,\n        itementity0_.modified_date as modified6_0_,\n        itementity0_.plm_refresh_date as plm_refr7_0_,\n        itementity0_.sqa as sqa8_0_,\n        itementity0_.status as status9_0_ \n    from\n        item itementity0_ \n    inner join\n        plm_item_info plmiteminf1_ \n            on itementity0_.item_number=plmiteminf1_.item_number \n    where\n        ?=1 \n        and (\n            itementity0_.plm_refresh_date in (\n                select\n                    max(plmiteminf2_.creation_date) \n                from\n                    plm_item_info plmiteminf2_ \n                group by\n                    plmiteminf2_.creation_date ,\n                    plmiteminf2_.item_number\n            )\n        ) \n        and (\n            plmiteminf1_.item_name in (\n                ?\n            )\n        )\n</code></pre>\n<p><strong>Bind Variables</strong></p>\n<pre><code>2021-10-04 11:45:23.923 CID:TRACE 14328 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BOOLEAN] - [true]\n2021-10-04 11:45:23.925 CID:TRACE 14328 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [VARCHAR] - [TOFIND]\n</code></pre>\n<p><strong>Actual Result</strong></p>\n<p><a href=\"https://i.stack.imgur.com/luC1w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/luC1w.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Result when running the sql on staging database</strong></p>\n<p>The data on staging:\n<a href=\"https://i.stack.imgur.com/e6ngy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e6ngy.png\" alt=\"enter image description here\" /></a></p>\n<p>The result when running the query there:\n<a href=\"https://i.stack.imgur.com/pGEpB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pGEpB.png\" alt=\"enter image description here\" /></a></p>\n<p>So as you can see, the query works on staging if you run it plainly, without JPA/Hibernate. So what is going on here? How do we fix this?</p>\n<p>More info needed or questions, please let me know. We are stuck on this one.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","android","xml","android-seekbar"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":1,"creation_date":1630021314,"post_id":68889703,"comment_id":121848772,"body_markdown":"This can help you https://stackoverflow.com/questions/38232625/how-to-make-a-circular-seekbar-with-a-customizable-thumb","body":"This can help you <a href=\"https://stackoverflow.com/questions/38232625/how-to-make-a-circular-seekbar-with-a-customizable-thumb\" title=\"how to make a circular seekbar with a customizable thumb\">stackoverflow.com/questions/38232625/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"display_name":"user16752070"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633340683,"creation_date":1629907803,"answer_id":68926399,"question_id":68889703,"body_markdown":"You are using a seekbar.This only works for horizontal seeks.That orange thing is the thumbnail which you need.","title":"How to create a custom circular seekbar with custom thumb?","body":"<p>You are using a seekbar.This only works for horizontal seeks.That orange thing is the thumbnail which you need.</p>\n"}],"owner":{"account_id":18361596,"reputation":91,"user_id":13373575,"display_name":"MadMax"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1228,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633340683,"creation_date":1629708422,"question_id":68889703,"body_markdown":"Im trying to create a custom circular seekbar like this one:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI have the shape and the thumb xml done but the thumb isn&#39;t appearing when i put it in the layout xml.\r\n\r\n\r\nSeekbar background xml (lap_counter.xml): \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item&gt;\r\n        &lt;shape\r\n            android:shape=&quot;rectangle&quot;\r\n            android:thicknessRatio=&quot;16&quot;\r\n            android:useLevel=&quot;false&quot;&gt;\r\n            &lt;corners android:radius=&quot;500dp&quot; /&gt;\r\n            &lt;stroke\r\n                android:width=&quot;45dp&quot;\r\n                android:color=&quot;@color/blue_secondary&quot; /&gt;\r\n        &lt;/shape&gt;\r\n    &lt;/item&gt;\r\n&lt;/layer-list&gt;\r\n```\r\n\r\n[![enter image description here][2]][2]\r\n\r\nCustom thumb xml:\r\n\r\n```\r\n&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:color=&quot;@color/white&quot;&gt;\r\n    &lt;item&gt;\r\n        &lt;shape android:shape=&quot;oval&quot;&gt;\r\n            &lt;solid android:color=&quot;@color/white&quot;/&gt;\r\n            &lt;stroke android:color=&quot;@color/orange&quot; android:width=&quot;3dp&quot;/&gt;\r\n            &lt;size android:width=&quot;30dp&quot; android:height=&quot;30dp&quot;/&gt;\r\n        &lt;/shape&gt;\r\n    &lt;/item&gt;\r\n&lt;/layer-list&gt;\r\n\r\n```\r\n[![enter image description here][3]][3]\r\n\r\n\r\nBut when apply the custom xml this are the results:\r\n\r\n```\r\n&lt;androidx.appcompat.widget.AppCompatSeekBar\r\n                            android:id=&quot;@+id/sb_lap_counter&quot;\r\n                            android:layout_width=&quot;700dp&quot;\r\n                            android:layout_height=&quot;300dp&quot;\r\n                            android:layout_centerInParent=&quot;true&quot;\r\n                            android:progress=&quot;50&quot;\r\n                            android:background=&quot;@drawable/lap_counter&quot;\r\n                            android:thumb=&quot;@drawable/lap_counter_thumb&quot;\r\n                            tools:progress=&quot;50&quot; /&gt;\r\n```\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uArTH.png\r\n  [2]: https://i.stack.imgur.com/L3k0P.png\r\n  [3]: https://i.stack.imgur.com/VfBpw.png\r\n  [4]: https://i.stack.imgur.com/NmkPq.png\r\n\r\nI tried putting it in as a custom style in themes.xml but it doesn&#39;t work either.\r\nWhat am i doing wrong?","title":"How to create a custom circular seekbar with custom thumb?","body":"<p>Im trying to create a custom circular seekbar like this one:</p>\n<p><a href=\"https://i.stack.imgur.com/uArTH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uArTH.png\" alt=\"enter image description here\" /></a></p>\n<p>I have the shape and the thumb xml done but the thumb isn't appearing when i put it in the layout xml.</p>\n<p>Seekbar background xml (lap_counter.xml):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item&gt;\n        &lt;shape\n            android:shape=&quot;rectangle&quot;\n            android:thicknessRatio=&quot;16&quot;\n            android:useLevel=&quot;false&quot;&gt;\n            &lt;corners android:radius=&quot;500dp&quot; /&gt;\n            &lt;stroke\n                android:width=&quot;45dp&quot;\n                android:color=&quot;@color/blue_secondary&quot; /&gt;\n        &lt;/shape&gt;\n    &lt;/item&gt;\n&lt;/layer-list&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/L3k0P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L3k0P.png\" alt=\"enter image description here\" /></a></p>\n<p>Custom thumb xml:</p>\n<pre><code>&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:color=&quot;@color/white&quot;&gt;\n    &lt;item&gt;\n        &lt;shape android:shape=&quot;oval&quot;&gt;\n            &lt;solid android:color=&quot;@color/white&quot;/&gt;\n            &lt;stroke android:color=&quot;@color/orange&quot; android:width=&quot;3dp&quot;/&gt;\n            &lt;size android:width=&quot;30dp&quot; android:height=&quot;30dp&quot;/&gt;\n        &lt;/shape&gt;\n    &lt;/item&gt;\n&lt;/layer-list&gt;\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/VfBpw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VfBpw.png\" alt=\"enter image description here\" /></a></p>\n<p>But when apply the custom xml this are the results:</p>\n<pre><code>&lt;androidx.appcompat.widget.AppCompatSeekBar\n                            android:id=&quot;@+id/sb_lap_counter&quot;\n                            android:layout_width=&quot;700dp&quot;\n                            android:layout_height=&quot;300dp&quot;\n                            android:layout_centerInParent=&quot;true&quot;\n                            android:progress=&quot;50&quot;\n                            android:background=&quot;@drawable/lap_counter&quot;\n                            android:thumb=&quot;@drawable/lap_counter_thumb&quot;\n                            tools:progress=&quot;50&quot; /&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/NmkPq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NmkPq.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried putting it in as a custom style in themes.xml but it doesn't work either.\nWhat am i doing wrong?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":12365223,"reputation":1526,"user_id":9017620,"accept_rate":55,"display_name":"Vince VD"},"score":0,"creation_date":1566854540,"post_id":57664731,"comment_id":101778849,"body_markdown":"Why are the parameters for your methods save and restore a View ?","body":"Why are the parameters for your methods save and restore a View ?"},{"owner":{"account_id":12365223,"reputation":1526,"user_id":9017620,"accept_rate":55,"display_name":"Vince VD"},"score":0,"creation_date":1566857605,"post_id":57664731,"comment_id":101779805,"body_markdown":"Still not working?","body":"Still not working?"}],"answers":[{"tags":[],"owner":{"account_id":9010316,"reputation":645,"user_id":6715226,"display_name":"Muazzam A."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566854549,"creation_date":1566854549,"answer_id":57665103,"question_id":57664731,"body_markdown":"You have to Override the **onBackPressed** method in your Score activity and save the int **score** in the shared preferences.\r\n\r\nWhen you press the device back button the **onBackPressed** method will be called automatically and your latest Score will be saved in the shared preferences. \r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        SharedPreferences sharedPreferences = getApplicationContext().getSharedPreferences(&quot;MyPref&quot;, 0); // 0 - for private mode\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putInt(&quot;inte&quot;, value); // Storing integer\r\n        editor.apply(); // commit changes\r\n\r\n        super.onBackPressed();\r\n    }","title":"Saving int with sharedPreferenses when click on back","body":"<p>You have to Override the <strong>onBackPressed</strong> method in your Score activity and save the int <strong>score</strong> in the shared preferences.</p>\n\n<p>When you press the device back button the <strong>onBackPressed</strong> method will be called automatically and your latest Score will be saved in the shared preferences. </p>\n\n<pre><code>@Override\npublic void onBackPressed() {\n    SharedPreferences sharedPreferences = getApplicationContext().getSharedPreferences(\"MyPref\", 0); // 0 - for private mode\n    SharedPreferences.Editor editor = sharedPreferences.edit();\n    editor.putInt(\"inte\", value); // Storing integer\n    editor.apply(); // commit changes\n\n    super.onBackPressed();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12365223,"reputation":1526,"user_id":9017620,"accept_rate":55,"display_name":"Vince VD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566859126,"creation_date":1566855120,"answer_id":57665197,"question_id":57664731,"body_markdown":"Your save and restore methods have a parameter `View v` and i&#39;m not sure why.\r\n\r\n**Change it to an integer** \r\n\r\n    public void save(int value){\r\n        sharedPreferences = getApplicationContext().getSharedPreferences(&quot;MyPref&quot;, Context.MODE_PRIVATE); // 0 - for private mode\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putInt(&quot;inte&quot;, value); // Storing integer\r\n        editor.apply(); // commit changes\r\n    }\r\n\r\n    public int restore(){\r\n        sharedPreferences = getApplicationContext().getSharedPreferences(&quot;MyPref&quot;, Context.MODE_PRIVATE);\r\n        if (this.sharedPreferences.contains(&quot;inte&quot;)) {\r\n            okeh.setText(this.sharedPreferences.getInt(&quot;inte&quot;,value));\r\n        }\r\n        return sharedPreferences.getInt(&quot;inte&quot;, 0); //return 0 if no data found\r\n    }\r\n\r\n**Alt + Insert and select override method**\r\n   \r\n    @Override\r\n    public void onBackPressed() {\r\n        super.onBackPressed();\r\n        // Put your sharedpreferences here that saves the int.\r\n        save(value);\r\n    }\r\n\r\nAnd now you can call your `save method` on places where you want to save the int value.\r\n\r\nEDIT\r\n\r\n\r\n    plus.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                value++;\r\n                String scorestring=String.valueOf(value);\r\n                scoretext.setText(scorestring);\r\n                save(value);\r\n            }\r\n        });\r\n        minus.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                value--;\r\n                String scorestring=String.valueOf(value);\r\n                scoretext.setText(scorestring);\r\n                save(value);\r\n            }\r\n        });\r\n\r\n","title":"Saving int with sharedPreferenses when click on back","body":"<p>Your save and restore methods have a parameter <code>View v</code> and i'm not sure why.</p>\n\n<p><strong>Change it to an integer</strong> </p>\n\n<pre><code>public void save(int value){\n    sharedPreferences = getApplicationContext().getSharedPreferences(\"MyPref\", Context.MODE_PRIVATE); // 0 - for private mode\n    SharedPreferences.Editor editor = sharedPreferences.edit();\n    editor.putInt(\"inte\", value); // Storing integer\n    editor.apply(); // commit changes\n}\n\npublic int restore(){\n    sharedPreferences = getApplicationContext().getSharedPreferences(\"MyPref\", Context.MODE_PRIVATE);\n    if (this.sharedPreferences.contains(\"inte\")) {\n        okeh.setText(this.sharedPreferences.getInt(\"inte\",value));\n    }\n    return sharedPreferences.getInt(\"inte\", 0); //return 0 if no data found\n}\n</code></pre>\n\n<p><strong>Alt + Insert and select override method</strong></p>\n\n<pre><code>@Override\npublic void onBackPressed() {\n    super.onBackPressed();\n    // Put your sharedpreferences here that saves the int.\n    save(value);\n}\n</code></pre>\n\n<p>And now you can call your <code>save method</code> on places where you want to save the int value.</p>\n\n<p>EDIT</p>\n\n<pre><code>plus.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            value++;\n            String scorestring=String.valueOf(value);\n            scoretext.setText(scorestring);\n            save(value);\n        }\n    });\n    minus.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            value--;\n            String scorestring=String.valueOf(value);\n            scoretext.setText(scorestring);\n            save(value);\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":16059096,"reputation":125,"user_id":11590552,"display_name":"Yahya Chtaibi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1633340686,"answer_count":2,"score":-3,"last_activity_date":1633340631,"creation_date":1566852322,"question_id":57664731,"body_markdown":"i&#39;m (trying) to create a soccer goals calculator, with two activities, MainActivity and Score, but i&#39;d like to save int value that represent goals when clicking on back button, that what i tried:\r\n\r\n    public class Score extends Activity {\r\n    public Button plus;\r\n    public Button minus;\r\n    public TextView scoretext;\r\n    public int value;\r\n    public static final String mypreference = &quot;mypref&quot;;\r\n    SharedPreferences sharedpreferences;\r\n    public void save(View v){\r\n        SharedPreferences sharedPreferences = getApplicationContext().getSharedPreferences(&quot;MyPref&quot;, 0); // 0 - for private mode\r\n        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        editor.putInt(&quot;inte&quot;, value); // Storing integer\r\n        editor.apply(); // commit changes\r\n    }\r\n    public void restore(View v){\r\n        this.sharedpreferences = this.getSharedPreferences(&quot;myPerf&quot;,\r\n                Context.MODE_PRIVATE);\r\n\r\n        if (this.sharedpreferences.contains(&quot;inte&quot;)) {\r\n            okeh.setText(this.sharedpreferences.getInt(&quot;inte&quot;,value));\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_score);\r\n        plus = this.findViewById(R.id.plus);\r\n        scoretext=this.findViewById(R.id.scoretext);\r\n        minus=this.findViewById(R.id.minus);\r\n\r\n        plus.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                value++;\r\n                String scorestring=String.valueOf(value);\r\n                scoretext.setText(scorestring);\r\n            }\r\n        });\r\n        minus.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                value--;\r\n                String scorestring=String.valueOf(value);\r\n                scoretext.setText(scorestring);\r\n            }\r\n        });\r\n        sharedpreferences = this.getSharedPreferences(mypreference,\r\n                Context.MODE_PRIVATE);\r\n        if (sharedpreferences.contains(&quot;inte&quot;)) {\r\n            okeh.setText(sharedpreferences.getInt(&quot;inte&quot;, value));\r\n        }\r\n    }\r\n    }\r\n","title":"Saving int with sharedPreferenses when click on back","body":"<p>i'm (trying) to create a soccer goals calculator, with two activities, MainActivity and Score, but i'd like to save int value that represent goals when clicking on back button, that what i tried:</p>\n<pre><code>public class Score extends Activity {\npublic Button plus;\npublic Button minus;\npublic TextView scoretext;\npublic int value;\npublic static final String mypreference = &quot;mypref&quot;;\nSharedPreferences sharedpreferences;\npublic void save(View v){\n    SharedPreferences sharedPreferences = getApplicationContext().getSharedPreferences(&quot;MyPref&quot;, 0); // 0 - for private mode\n    SharedPreferences.Editor editor = sharedPreferences.edit();\n    editor.putInt(&quot;inte&quot;, value); // Storing integer\n    editor.apply(); // commit changes\n}\npublic void restore(View v){\n    this.sharedpreferences = this.getSharedPreferences(&quot;myPerf&quot;,\n            Context.MODE_PRIVATE);\n\n    if (this.sharedpreferences.contains(&quot;inte&quot;)) {\n        okeh.setText(this.sharedpreferences.getInt(&quot;inte&quot;,value));\n    }\n\n}\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_score);\n    plus = this.findViewById(R.id.plus);\n    scoretext=this.findViewById(R.id.scoretext);\n    minus=this.findViewById(R.id.minus);\n\n    plus.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            value++;\n            String scorestring=String.valueOf(value);\n            scoretext.setText(scorestring);\n        }\n    });\n    minus.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            value--;\n            String scorestring=String.valueOf(value);\n            scoretext.setText(scorestring);\n        }\n    });\n    sharedpreferences = this.getSharedPreferences(mypreference,\n            Context.MODE_PRIVATE);\n    if (sharedpreferences.contains(&quot;inte&quot;)) {\n        okeh.setText(sharedpreferences.getInt(&quot;inte&quot;, value));\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","eclipse","tomcat"],"comments":[{"owner":{"account_id":1700309,"reputation":1007,"user_id":1560584,"accept_rate":71,"display_name":"Balaji Krishnan"},"score":2,"creation_date":1458122336,"post_id":36032174,"comment_id":59713949,"body_markdown":"tried increasing the startup time?","body":"tried increasing the startup time?"},{"owner":{"account_id":4964280,"reputation":4147,"user_id":3994197,"accept_rate":38,"display_name":"Vishal Gajera"},"score":0,"creation_date":1458142835,"post_id":36032174,"comment_id":59729686,"body_markdown":"Looks like still not enough 120-Seconds for startup, can you increase it ? unless you wan&#39;t get any different error then time-out.","body":"Looks like still not enough 120-Seconds for startup, can you increase it ? unless you wan&#39;t get any different error then time-out."}],"answers":[{"tags":[],"owner":{"account_id":4964280,"reputation":4147,"user_id":3994197,"accept_rate":38,"display_name":"Vishal Gajera"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1458122345,"creation_date":1458122345,"answer_id":36032260,"question_id":36032174,"body_markdown":"&gt; please, increase tomcat&#39;s time-out seconds see below will help out how\r\n&gt; to increase it into eclipse,\r\n&gt; \r\n&gt; by-default tomcat&#39;s time-out seconds are : 45-seconds, we can manually\r\n&gt; increase it.\r\n\r\n**do as likewise,**\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/2DZmn.gif","title":"tomcat server not starting in eclipse","body":"<blockquote>\n  <p>please, increase tomcat's time-out seconds see below will help out how\n  to increase it into eclipse,</p>\n  \n  <p>by-default tomcat's time-out seconds are : 45-seconds, we can manually\n  increase it.</p>\n</blockquote>\n\n<p><strong>do as likewise,</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/2DZmn.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2DZmn.gif\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":4947688,"reputation":199,"user_id":3982636,"accept_rate":58,"display_name":"yog"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1292,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":36032260,"answer_count":1,"score":-2,"last_activity_date":1633340565,"creation_date":1458122126,"question_id":36032174,"body_markdown":"my tomcat server not starting with timeout 45seconds... getting following message\r\n\r\n    Mar 16, 2016 3:14:34 PM org.apache.tomcat.util.digester.SetPropertiesRule begin\r\n    WARNING: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property &#39;source&#39; to &#39;org.eclipse.jst.jee.server:PosDashboard&#39; did not find a matching property.\r\n    Mar 16, 2016 3:14:34 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Server version:        Apache Tomcat/7.0.68\r\n    Mar 16, 2016 3:14:34 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Server built:          Feb 8 2016 20:25:54 UTC\r\n    Mar 16, 2016 3:14:34 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Server number:         7.0.68.0\r\n    Mar 16, 2016 3:14:34 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: OS Name:               Windows 8.1\r\n    Mar 16, 2016 3:14:34 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: OS Version:            6.3\r\n    Mar 16, 2016 3:14:34 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Architecture:          x86\r\n    Mar 16, 2016 3:14:34 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Java Home:             C:\\Program Files (x86)\\Java\\jdk1.7.0_79\\jre\r\n    Mar 16, 2016 3:14:34 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: JVM Version:           1.7.0_79-b15\r\n    Mar 16, 2016 3:14:34 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: JVM Vendor:            Oracle Corporation\r\n    Mar 16, 2016 3:14:34 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: CATALINA_BASE:         H:\\Tomcat7.0\r\n    Mar 16, 2016 3:14:34 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: CATALINA_HOME:         H:\\Tomcat7.0\r\n    Mar 16, 2016 3:14:34 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Dcatalina.base=H:\\Tomcat7.0\r\n    Mar 16, 2016 3:14:34 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Dcatalina.home=H:\\Tomcat7.0\r\n    Mar 16, 2016 3:14:34 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Dwtp.deploy=H:\\Tomcat7.0\\wtpwebapps\r\n    Mar 16, 2016 3:14:34 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Djava.endorsed.dirs=H:\\Tomcat7.0\\endorsed\r\n    Mar 16, 2016 3:14:34 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Command line argument: -Dfile.encoding=Cp1252\r\n    Mar 16, 2016 3:14:34 PM org.apache.catalina.core.AprLifecycleListener lifecycleEvent\r\n    INFO: Loaded APR based Apache Tomcat Native library 1.2.5 using APR version 1.5.1.\r\n    Mar 16, 2016 3:14:34 PM org.apache.catalina.core.AprLifecycleListener lifecycleEvent\r\n    INFO: APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].\r\n\r\nI need help. Please give me some solution\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Lhrzt.png\r\n\r\nthis is an error.. hope u can view it","title":"tomcat server not starting in eclipse","body":"<p>my tomcat server not starting with timeout 45seconds... getting following message</p>\n<pre><code>Mar 16, 2016 3:14:34 PM org.apache.tomcat.util.digester.SetPropertiesRule begin\nWARNING: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property 'source' to 'org.eclipse.jst.jee.server:PosDashboard' did not find a matching property.\nMar 16, 2016 3:14:34 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Server version:        Apache Tomcat/7.0.68\nMar 16, 2016 3:14:34 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Server built:          Feb 8 2016 20:25:54 UTC\nMar 16, 2016 3:14:34 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Server number:         7.0.68.0\nMar 16, 2016 3:14:34 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: OS Name:               Windows 8.1\nMar 16, 2016 3:14:34 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: OS Version:            6.3\nMar 16, 2016 3:14:34 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Architecture:          x86\nMar 16, 2016 3:14:34 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Java Home:             C:\\Program Files (x86)\\Java\\jdk1.7.0_79\\jre\nMar 16, 2016 3:14:34 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: JVM Version:           1.7.0_79-b15\nMar 16, 2016 3:14:34 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: JVM Vendor:            Oracle Corporation\nMar 16, 2016 3:14:34 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: CATALINA_BASE:         H:\\Tomcat7.0\nMar 16, 2016 3:14:34 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: CATALINA_HOME:         H:\\Tomcat7.0\nMar 16, 2016 3:14:34 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: -Dcatalina.base=H:\\Tomcat7.0\nMar 16, 2016 3:14:34 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: -Dcatalina.home=H:\\Tomcat7.0\nMar 16, 2016 3:14:34 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: -Dwtp.deploy=H:\\Tomcat7.0\\wtpwebapps\nMar 16, 2016 3:14:34 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: -Djava.endorsed.dirs=H:\\Tomcat7.0\\endorsed\nMar 16, 2016 3:14:34 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Command line argument: -Dfile.encoding=Cp1252\nMar 16, 2016 3:14:34 PM org.apache.catalina.core.AprLifecycleListener lifecycleEvent\nINFO: Loaded APR based Apache Tomcat Native library 1.2.5 using APR version 1.5.1.\nMar 16, 2016 3:14:34 PM org.apache.catalina.core.AprLifecycleListener lifecycleEvent\nINFO: APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true].\n</code></pre>\n<p>I need help. Please give me some solution</p>\n<p><a href=\"https://i.stack.imgur.com/Lhrzt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lhrzt.png\" alt=\"enter image description here\" /></a></p>\n<p>this is an error.. hope u can view it</p>\n"},{"tags":["java","spring-boot","jvm","spring-boot-actuator"],"comments":[{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":0,"creation_date":1633361037,"post_id":69433750,"comment_id":122733248,"body_markdown":"These are two questions. Do you care about the JVM shutdown or Spring?","body":"These are two questions. Do you care about the JVM shutdown or Spring?"},{"owner":{"account_id":18591034,"reputation":1258,"user_id":13548254,"display_name":"user1354825"},"score":0,"creation_date":1633503278,"post_id":69433750,"comment_id":122773385,"body_markdown":"Both actually. More from Spring perspective..","body":"Both actually. More from Spring perspective.."}],"answers":[{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633340228,"creation_date":1633340228,"answer_id":69433820,"question_id":69433750,"body_markdown":"1 is generally true, but it can be changed.\r\n\r\nSpring doesn&#39;t use JVM mechanics to shutdown. It tell all beans that interested to stop. Usually beans gracefully stop treads they use, but nothing stopping you from creating bean that use `Thread.stop` to shutdown treads.","title":"JVM shutdown sequence and transaction management?","body":"<p>1 is generally true, but it can be changed.</p>\n<p>Spring doesn't use JVM mechanics to shutdown. It tell all beans that interested to stop. Usually beans gracefully stop treads they use, but nothing stopping you from creating bean that use <code>Thread.stop</code> to shutdown treads.</p>\n"}],"owner":{"account_id":18591034,"reputation":1258,"user_id":13548254,"display_name":"user1354825"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633340228,"creation_date":1633339836,"question_id":69433750,"body_markdown":"I was wondering about JVM Shutdown sequence. Is there a sequence to shutdown, or the program ends abruptly ? \r\nTo be more verbose, let&#39;s say there&#39;s a methodA() which has 500 lines of code.\r\nShutdown is initiated using the spring boot&#39;s shutdown actuator when 250th line is being executed.\r\nWhat happens here ?\r\nDoes\r\n1) JVM wait to complete the 500 lines of code and then proceed with shutdown, or\r\n2) JVM proceeds with termination on the 250th line of code itself and program ends abruplty?\r\n\r\nThanks !","title":"JVM shutdown sequence and transaction management?","body":"<p>I was wondering about JVM Shutdown sequence. Is there a sequence to shutdown, or the program ends abruptly ?\nTo be more verbose, let's say there's a methodA() which has 500 lines of code.\nShutdown is initiated using the spring boot's shutdown actuator when 250th line is being executed.\nWhat happens here ?\nDoes</p>\n<ol>\n<li>JVM wait to complete the 500 lines of code and then proceed with shutdown, or</li>\n<li>JVM proceeds with termination on the 250th line of code itself and program ends abruplty?</li>\n</ol>\n<p>Thanks !</p>\n"},{"tags":["java","testing","assertj"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":2,"creation_date":1632995157,"post_id":69389820,"comment_id":122645892,"body_markdown":"Still not used assertj but I would assume that `extracting` would only hold Object-s. So `assertThat((String)field).isNotEmpty()`.","body":"Still not used assertj but I would assume that <code>extracting</code> would only hold Object-s. So <code>assertThat((String)field).isNotEmpty()</code>."}],"answers":[{"tags":[],"owner":{"account_id":1407336,"reputation":6523,"user_id":1348834,"display_name":"Joel Costigliola"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1633339536,"creation_date":1633033718,"answer_id":69398488,"question_id":69389820,"body_markdown":"Joop Eggen suggestion is a good solution, extracting multiple values at once returns the list of extract values wrapped in a `ListAssert` object so that you can (List) chain assertions. The list is a list of object because there is no way to know what type the list will contain (id could be an Integer and name a String so you can&#39;t assume you will be given a list of string here).\r\n\r\nYou can try [`asIntanceOf`][1] to narrow the type as you know more than AssertJ in this case, ex:\r\n```java\r\nassertThat(user)\r\n  .extracting(&quot;name&quot;, &quot;id&quot;)\r\n  .asInstanceOf(InstanceOfAssertFactories.list(String.class))\r\n  .allSatisy(field -&gt; assertThat(field).isNotEmpty());\r\n``` \r\nWhether it is better than casting the field, I&#39;m not completely sure, I leave it to you to decide.\r\n\r\n\\- Edit -\r\n\r\nI tried your example and it worked fine with assertj core 3.21.0, this test is passing:\r\n```java\r\n@Test\r\nvoid test() {\r\n    User user = new User();\r\n    user.name = &quot;Joe&quot;;\r\n    user.id = &quot;123&quot;;\r\n    assertThat(user).extracting(&quot;name&quot;, &quot;id&quot;)\r\n                    .asInstanceOf(InstanceOfAssertFactories.list(String.class))\r\n                    .allSatisfy(field -&gt; assertThat(field).isNotEmpty());\r\n}\r\n```\r\nSo I guess this has to do with Kotlin.\r\n\r\n  [1]: https://assertj.github.io/doc/#assertj-core-3.13.0-asInstanceOf","title":"How to check that several fields of an object are not empty with AssertJ?","body":"<p>Joop Eggen suggestion is a good solution, extracting multiple values at once returns the list of extract values wrapped in a <code>ListAssert</code> object so that you can (List) chain assertions. The list is a list of object because there is no way to know what type the list will contain (id could be an Integer and name a String so you can't assume you will be given a list of string here).</p>\n<p>You can try <a href=\"https://assertj.github.io/doc/#assertj-core-3.13.0-asInstanceOf\" rel=\"nofollow noreferrer\"><code>asIntanceOf</code></a> to narrow the type as you know more than AssertJ in this case, ex:</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertThat(user)\n  .extracting(&quot;name&quot;, &quot;id&quot;)\n  .asInstanceOf(InstanceOfAssertFactories.list(String.class))\n  .allSatisy(field -&gt; assertThat(field).isNotEmpty());\n</code></pre>\n<p>Whether it is better than casting the field, I'm not completely sure, I leave it to you to decide.</p>\n<p>- Edit -</p>\n<p>I tried your example and it worked fine with assertj core 3.21.0, this test is passing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid test() {\n    User user = new User();\n    user.name = &quot;Joe&quot;;\n    user.id = &quot;123&quot;;\n    assertThat(user).extracting(&quot;name&quot;, &quot;id&quot;)\n                    .asInstanceOf(InstanceOfAssertFactories.list(String.class))\n                    .allSatisfy(field -&gt; assertThat(field).isNotEmpty());\n}\n</code></pre>\n<p>So I guess this has to do with Kotlin.</p>\n"}],"owner":{"account_id":4875268,"reputation":742,"user_id":6934058,"accept_rate":56,"display_name":"Vitali Plagov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2082,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633339536,"creation_date":1632994562,"question_id":69389820,"body_markdown":"I have a class with some fields:\r\n\r\n```java\r\nclass User {\r\n  String name;\r\n  String id;\r\n  // other fields\r\n}\r\n```\r\n\r\nI&#39;m getting a user from the service and want to assert that `name` and `id` fields are not empty. The object contains other fields, but those are not needed for this particular case. I tried to extract required fields and apply the `allSatisfy {}` function:\r\n\r\n```java\r\nUser user = service.getUser();\r\nassertThat(user)\r\n  .extracting(&quot;name&quot;, &quot;id&quot;) // extract only those fields that I need for now\r\n  .allSatisy { field -&gt; assertThat(field).isNotEmpty() } // this doesn&#39;t compile because `field` is not a String\r\n```\r\n\r\nAm I using the `extracting()` function wrong?\r\nOr is there other way of asserting multiple fields of an object at once instead of asserting each field separately?","title":"How to check that several fields of an object are not empty with AssertJ?","body":"<p>I have a class with some fields:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class User {\n  String name;\n  String id;\n  // other fields\n}\n</code></pre>\n<p>I'm getting a user from the service and want to assert that <code>name</code> and <code>id</code> fields are not empty. The object contains other fields, but those are not needed for this particular case. I tried to extract required fields and apply the <code>allSatisfy {}</code> function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>User user = service.getUser();\nassertThat(user)\n  .extracting(&quot;name&quot;, &quot;id&quot;) // extract only those fields that I need for now\n  .allSatisy { field -&gt; assertThat(field).isNotEmpty() } // this doesn't compile because `field` is not a String\n</code></pre>\n<p>Am I using the <code>extracting()</code> function wrong?\nOr is there other way of asserting multiple fields of an object at once instead of asserting each field separately?</p>\n"},{"tags":["java","ant"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1633338277,"post_id":69433410,"comment_id":122723567,"body_markdown":"*&quot;I&#39;m pretty a beginner in Ant&quot;* Then you should start by reading the documentation.","body":"<i>&quot;I&#39;m pretty a beginner in Ant&quot;</i> Then you should start by reading the documentation."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1633339589,"post_id":69433410,"comment_id":122724122,"body_markdown":"That&#39;s straightforward: it&#39;s either a fat jar (you ruled that out) or including the necessary jars in a (class)path element for the java task","body":"That&#39;s straightforward: it&#39;s either a fat jar (you ruled that out) or including the necessary jars in a (class)path element for the java task"}],"owner":{"account_id":4113538,"reputation":135,"user_id":3375778,"accept_rate":43,"display_name":"ToastMaster"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633339162,"creation_date":1633337989,"question_id":69433410,"body_markdown":"I&#39;ve recently come with the need to create for a Java project a build.xml file in which is meant to be run using the terminal.\r\n\r\nThe issue is that until now we&#39;ve used Eclipse as the utility to run the build.xml while depending on Eclipse UI to let the Ant package manager to create our jars, but not putting the external jars in each jar we create.\r\n\r\nThat way, the memory in which the jar libraries take(~40MB) isn&#39;t replicated to each Jar we make.\r\n\r\nI&#39;m pretty a beginner in Ant so what I&#39;m trying to do is create a build.xml in which take a folder of Jar libraries, and for the project which is a Jar library itself, create the Jar while knowing the libraries but not include them in the end Jar.\r\n\r\nI alternatively tried understanding how eclipse teels the build.xml for ant but the classpath of the project, how to access the jars and other configurations, so if there&#39;s a possibility for that then it will be much better.\r\n\r\nIf possible, it would be great to help with that.\r\nI&#39;ve tried of course seeing other questions on Stackoverflow but didn&#39;t saw something similar to this.\r\nIf there&#39;s one of course I&#39;ll be happy to see it :) \r\nThanks heads up! :) ","title":"Creating a JAR using Ant but not including external jars inside","body":"<p>I've recently come with the need to create for a Java project a build.xml file in which is meant to be run using the terminal.</p>\n<p>The issue is that until now we've used Eclipse as the utility to run the build.xml while depending on Eclipse UI to let the Ant package manager to create our jars, but not putting the external jars in each jar we create.</p>\n<p>That way, the memory in which the jar libraries take(~40MB) isn't replicated to each Jar we make.</p>\n<p>I'm pretty a beginner in Ant so what I'm trying to do is create a build.xml in which take a folder of Jar libraries, and for the project which is a Jar library itself, create the Jar while knowing the libraries but not include them in the end Jar.</p>\n<p>I alternatively tried understanding how eclipse teels the build.xml for ant but the classpath of the project, how to access the jars and other configurations, so if there's a possibility for that then it will be much better.</p>\n<p>If possible, it would be great to help with that.\nI've tried of course seeing other questions on Stackoverflow but didn't saw something similar to this.\nIf there's one of course I'll be happy to see it :)\nThanks heads up! :)</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":1477678,"reputation":2411,"user_id":1387701,"accept_rate":25,"display_name":"DMart"},"score":1,"creation_date":1631287236,"post_id":69132275,"comment_id":122189493,"body_markdown":"&quot;but it&#39;s not working&quot; -- What IS happening?","body":"&quot;but it&#39;s not working&quot; -- What IS happening?"}],"answers":[{"tags":[],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1631283861,"creation_date":1631281259,"answer_id":69133111,"question_id":69132275,"body_markdown":"To wait for some condition to be true you can use those two:\r\n\r\n    org.openqa.selenium.support.ui.WebDriverWait\r\n    org.openqa.selenium.support.ui.ExpectedConditions\r\n\r\n\r\nlike this:\r\n\r\n\tpublic static WebDriverWait waitSec(int sec) {\r\n\t\treturn new WebDriverWait(driver, sec);\r\n\t}\r\n\t\r\n\tpublic static WebElement clickableByXpath(String xpath, int sec) {\r\n\t\tWebElement element = waitSec(sec).until(ExpectedConditions.elementToBeClickable(By.xpath(xpath)));\r\n\t\treturn element;\r\n\t}\r\n\t\r\n\tpublic static WebElement clickableById(String id, int sec) {\r\n\t\tWebElement element = waitSec(sec).until(ExpectedConditions.elementToBeClickable(By.id(id)));\r\n\t\treturn element;\r\n\t}\r\n\r\nSee all expected conditions in https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html\r\n\r\nTo implement as listener you need second `WebDriver` instance listening on page where the first `WebDriver` instance operates. Not sure if it&#39;s possible.","title":"Select first row after table is populated","body":"<p>To wait for some condition to be true you can use those two:</p>\n<pre><code>org.openqa.selenium.support.ui.WebDriverWait\norg.openqa.selenium.support.ui.ExpectedConditions\n</code></pre>\n<p>like this:</p>\n<pre><code>public static WebDriverWait waitSec(int sec) {\n    return new WebDriverWait(driver, sec);\n}\n\npublic static WebElement clickableByXpath(String xpath, int sec) {\n    WebElement element = waitSec(sec).until(ExpectedConditions.elementToBeClickable(By.xpath(xpath)));\n    return element;\n}\n\npublic static WebElement clickableById(String id, int sec) {\n    WebElement element = waitSec(sec).until(ExpectedConditions.elementToBeClickable(By.id(id)));\n    return element;\n}\n</code></pre>\n<p>See all expected conditions in <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html\" rel=\"nofollow noreferrer\">https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html</a></p>\n<p>To implement as listener you need second <code>WebDriver</code> instance listening on page where the first <code>WebDriver</code> instance operates. Not sure if it's possible.</p>\n"},{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1631431562,"creation_date":1631431562,"answer_id":69149334,"question_id":69132275,"body_markdown":"Basically if you pay attention, you would see that this table is not build using `tr` and `td tags.` Basically it is a `div` with `attribute` `role=&quot;row&quot;`\r\n\r\nAlso, to answer this part \r\n\r\n    waits for table row to be displayed \r\n\r\nwe have 2 ways. \r\n\r\n1. Use `findElements` onto that particular web element. \r\n\r\n2. Use Explicit waits. \r\n\r\n**Code with Explicit waits :**\r\n\r\n\r\nThis xpath `//div[@role=&#39;row&#39;][@row-index=&#39;0&#39;]/div` matches `4 nodes in HTML DOM`. But since you&#39;ve mentioned that you wanna, `target and click` on `6673718`, using the mentioned xpath it would click on the `first element` and that represent the `6673718`\r\n\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 30);\r\n    wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@role=&#39;row&#39;][@row-index=&#39;0&#39;]/div&quot;))).click();\r\n\r\n\r\n**Code with FindElements :** \r\n\r\n\tWebDriverWait wait = new WebDriverWait(driver, 30);\r\n\tList&lt;WebElement&gt; listElems = driver.findElements(By.xpath(&quot;//div[@role=&#39;row&#39;][@row-index=&#39;0&#39;]/div&quot;));\r\n\tif (listElems.size() &gt; 0 ) {\r\n\t\twait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@role=&#39;row&#39;][@row-index=&#39;0&#39;]/div&quot;))).click();\r\n\t}\r\n\telse {\r\n\t\tSystem.out.println(&quot;Either element is not present, or it&#39;s not rendered properly&quot;);\r\n\t}\r\n\t      \r\n\r\n","title":"Select first row after table is populated","body":"<p>Basically if you pay attention, you would see that this table is not build using <code>tr</code> and <code>td tags.</code> Basically it is a <code>div</code> with <code>attribute</code> <code>role=&quot;row&quot;</code></p>\n<p>Also, to answer this part</p>\n<pre><code>waits for table row to be displayed \n</code></pre>\n<p>we have 2 ways.</p>\n<ol>\n<li><p>Use <code>findElements</code> onto that particular web element.</p>\n</li>\n<li><p>Use Explicit waits.</p>\n</li>\n</ol>\n<p><strong>Code with Explicit waits :</strong></p>\n<p>This xpath <code>//div[@role='row'][@row-index='0']/div</code> matches <code>4 nodes in HTML DOM</code>. But since you've mentioned that you wanna, <code>target and click</code> on <code>6673718</code>, using the mentioned xpath it would click on the <code>first element</code> and that represent the <code>6673718</code></p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 30);\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@role='row'][@row-index='0']/div&quot;))).click();\n</code></pre>\n<p><strong>Code with FindElements :</strong></p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 30);\nList&lt;WebElement&gt; listElems = driver.findElements(By.xpath(&quot;//div[@role='row'][@row-index='0']/div&quot;));\nif (listElems.size() &gt; 0 ) {\n    wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@role='row'][@row-index='0']/div&quot;))).click();\n}\nelse {\n    System.out.println(&quot;Either element is not present, or it's not rendered properly&quot;);\n}\n      \n</code></pre>\n"},{"tags":[],"owner":{"account_id":15817306,"reputation":376,"user_id":11412643,"display_name":"Rohit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633094823,"creation_date":1633094823,"answer_id":69406688,"question_id":69132275,"body_markdown":"Try the below code and it should work, here is how it works.\r\nWe have created our own expected condition here, which will check for class named ag-hidden to be missing from the element. every time it finds a value &quot;ag-hidden&quot; in the class it will return false and again check after 500 milliseconds until the method returns true for next 20 seconds. Here you can change the timeout as per your wish.\r\n\r\nYou can write the code to work on the first row of the table after this statement.\r\n\r\nYou can go through the following link to understand further about custom [expected condition][1]\r\n\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 20);\r\n    wait.until(new ExpectedCondition&lt;Boolean&gt;() {\r\n    public Boolean apply(WebDriver driver) {\r\n              WebElement table = driver.findElement(By.cssSelector(&quot;div.ag-overlay&quot;));\r\n              String classes = table.getAttribute(&quot;class&quot;);\r\n                    if(classes.contains(&quot;ag-hidden&quot;))\r\n                        return false;\r\n                    else\r\n                        return true;\r\n                }\r\n            });\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/how-to-add-custom-expectedconditions-for-selenium","title":"Select first row after table is populated","body":"<p>Try the below code and it should work, here is how it works.\nWe have created our own expected condition here, which will check for class named ag-hidden to be missing from the element. every time it finds a value &quot;ag-hidden&quot; in the class it will return false and again check after 500 milliseconds until the method returns true for next 20 seconds. Here you can change the timeout as per your wish.</p>\n<p>You can write the code to work on the first row of the table after this statement.</p>\n<p>You can go through the following link to understand further about custom <a href=\"https://www.tutorialspoint.com/how-to-add-custom-expectedconditions-for-selenium\" rel=\"nofollow noreferrer\">expected condition</a></p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 20);\nwait.until(new ExpectedCondition&lt;Boolean&gt;() {\npublic Boolean apply(WebDriver driver) {\n          WebElement table = driver.findElement(By.cssSelector(&quot;div.ag-overlay&quot;));\n          String classes = table.getAttribute(&quot;class&quot;);\n                if(classes.contains(&quot;ag-hidden&quot;))\n                    return false;\n                else\n                    return true;\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633339087,"creation_date":1633339087,"answer_id":69433607,"question_id":69132275,"body_markdown":"In table, we might have more td values in the webpage, always we should wait for the all the elements to be presented in the webpage. **presenceOfAllElementsLocatedBy**\r\n\r\n    By divCss = By.cssSelector(&quot;div:not(.ag-hidden) &gt; .ag-row-first&quot;);\r\n    wait.until(ExpectedConditions.elementToBeClickable(divCss));\r\n    wait.until(ExpectedConditions.presenceOfAllElementsLocatedBy(divCss));","title":"Select first row after table is populated","body":"<p>In table, we might have more td values in the webpage, always we should wait for the all the elements to be presented in the webpage. <strong>presenceOfAllElementsLocatedBy</strong></p>\n<pre><code>By divCss = By.cssSelector(&quot;div:not(.ag-hidden) &gt; .ag-row-first&quot;);\nwait.until(ExpectedConditions.elementToBeClickable(divCss));\nwait.until(ExpectedConditions.presenceOfAllElementsLocatedBy(divCss));\n</code></pre>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69149334,"answer_count":4,"score":0,"last_activity_date":1633339087,"creation_date":1631277282,"question_id":69132275,"body_markdown":"I have this Angular SPA app which is displaying table rows after search:\r\n\r\n\r\n    &lt;div class=&quot;ag-root-wrapper-body ag-layout-normal ag-focus-managed&quot; ref=&quot;rootWrapperBody&quot;&gt;&lt;div class=&quot;ag-tab-guard ag-tab-guard-top&quot; role=&quot;presentation&quot; tabindex=&quot;0&quot;&gt;&lt;/div&gt;\r\n                        &lt;!--AG-GRID-COMP--&gt;&lt;div class=&quot;ag-root ag-unselectable ag-layout-normal&quot; role=&quot;grid&quot; unselectable=&quot;on&quot; ref=&quot;gridPanel&quot; aria-rowcount=&quot;2&quot; aria-colcount=&quot;8&quot;&gt;\r\n            &lt;!--AG-HEADER-ROOT--&gt;&lt;div class=&quot;ag-header ag-focus-managed ag-pivot-off&quot; role=&quot;presentation&quot; ref=&quot;headerRoot&quot; unselectable=&quot;on&quot; style=&quot;height: 26px; min-height: 26px;&quot;&gt;\r\n                &lt;div class=&quot;ag-pinned-left-header ag-hidden&quot; ref=&quot;ePinnedLeftHeader&quot; role=&quot;presentation&quot; style=&quot;width: 0px; max-width: 0px; min-width: 0px;&quot;&gt;&lt;div class=&quot;ag-header-row ag-header-row-column&quot; role=&quot;row&quot; aria-rowindex=&quot;1&quot; style=&quot;top: 0px; height: 25px; width: 0px;&quot;&gt;&lt;/div&gt;&lt;/div&gt;\r\n                &lt;div class=&quot;ag-header-viewport&quot; ref=&quot;eHeaderViewport&quot; role=&quot;presentation&quot;&gt;\r\n                    &lt;div class=&quot;ag-header-container&quot; ref=&quot;eHeaderContainer&quot; role=&quot;rowgroup&quot; style=&quot;width: 800px; transform: translateX(0px);&quot;&gt;&lt;div class=&quot;ag-header-row ag-header-row-column&quot; role=&quot;row&quot; aria-rowindex=&quot;1&quot; style=&quot;top: 0px; height: 25px; width: 800px;&quot;&gt;&lt;div class=&quot;ag-header-cell ag-focus-managed ag-header-cell-sortable&quot; role=&quot;columnheader&quot; unselectable=&quot;on&quot; tabindex=&quot;-1&quot; aria-sort=&quot;none&quot; aria-colindex=&quot;1&quot; col-id=&quot;lookupCode&quot; style=&quot;width: 200px; left: 0px;&quot;&gt;\r\n                &lt;div ref=&quot;eResize&quot; class=&quot;ag-header-cell-resize ag-hidden&quot; role=&quot;presentation&quot;&gt;&lt;/div&gt;\r\n                &lt;!--AG-CHECKBOX--&gt;&lt;div role=&quot;presentation&quot; ref=&quot;cbSelectAll&quot; class=&quot;ag-header-select-all ag-labeled ag-label-align-right ag-checkbox ag-input-field ag-hidden&quot;&gt;\r\n                    &lt;div ref=&quot;eLabel&quot; class=&quot;ag-input-field-label ag-label ag-hidden ag-checkbox-label&quot;&gt;&lt;/div&gt;\r\n                    &lt;div ref=&quot;eWrapper&quot; class=&quot;ag-wrapper ag-input-wrapper ag-checkbox-input-wrapper&quot; role=&quot;presentation&quot;&gt;\r\n                        &lt;input ref=&quot;eInput&quot; class=&quot;ag-input-field-input ag-checkbox-input&quot; type=&quot;checkbox&quot; id=&quot;ag-306-input&quot; tabindex=&quot;-1&quot; aria-label=&quot;Press Space to toggle all rows selection (unchecked)&quot;&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n            &lt;div class=&quot;ag-cell-label-container ag-header-cell-sorted-none&quot;&gt;\r\n                \r\n                &lt;div ref=&quot;eLabel&quot; class=&quot;ag-header-cell-label&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot;&gt;\r\n                    &lt;span ref=&quot;eText&quot; class=&quot;ag-header-cell-text&quot; unselectable=&quot;on&quot;&gt;Serial Number&lt;/span&gt;\r\n                    &lt;span ref=&quot;eFilter&quot; class=&quot;ag-header-icon ag-header-label-icon ag-filter-icon ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;ag-icon ag-icon-filter&quot; unselectable=&quot;on&quot; role=&quot;presentation&quot;&gt;&lt;/span&gt;&lt;/span&gt;\r\n                    &lt;span ref=&quot;eSortOrder&quot; class=&quot;ag-header-icon ag-header-label-icon ag-sort-order ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;/span&gt;\r\n                    &lt;span ref=&quot;eSortAsc&quot; class=&quot;ag-header-icon ag-header-label-icon ag-sort-ascending-icon ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;i class=&quot;fas fa-arrow-circle-up&quot;&gt;&lt;/i&gt;&lt;/span&gt;\r\n                    &lt;span ref=&quot;eSortDesc&quot; class=&quot;ag-header-icon ag-header-label-icon ag-sort-descending-icon ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;i class=&quot;fas fa-arrow-circle-down&quot;&gt;&lt;/i&gt;&lt;/span&gt;\r\n                    &lt;span ref=&quot;eSortNone&quot; class=&quot;ag-header-icon ag-header-label-icon ag-sort-none-icon ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;ag-icon ag-icon-none&quot; unselectable=&quot;on&quot; role=&quot;presentation&quot;&gt;&lt;/span&gt;&lt;/span&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;ag-header-cell ag-focus-managed ag-header-cell-sortable&quot; role=&quot;columnheader&quot; unselectable=&quot;on&quot; tabindex=&quot;-1&quot; aria-sort=&quot;none&quot; aria-colindex=&quot;6&quot; col-id=&quot;materialName&quot; style=&quot;width: 200px; left: 200px;&quot;&gt;\r\n                &lt;div ref=&quot;eResize&quot; class=&quot;ag-header-cell-resize ag-hidden&quot; role=&quot;presentation&quot;&gt;&lt;/div&gt;\r\n                &lt;!--AG-CHECKBOX--&gt;&lt;div role=&quot;presentation&quot; ref=&quot;cbSelectAll&quot; class=&quot;ag-header-select-all ag-labeled ag-label-align-right ag-checkbox ag-input-field ag-hidden&quot;&gt;\r\n                    &lt;div ref=&quot;eLabel&quot; class=&quot;ag-input-field-label ag-label ag-hidden ag-checkbox-label&quot;&gt;&lt;/div&gt;\r\n                    &lt;div ref=&quot;eWrapper&quot; class=&quot;ag-wrapper ag-input-wrapper ag-checkbox-input-wrapper&quot; role=&quot;presentation&quot;&gt;\r\n                        &lt;input ref=&quot;eInput&quot; class=&quot;ag-input-field-input ag-checkbox-input&quot; type=&quot;checkbox&quot; id=&quot;ag-309-input&quot; tabindex=&quot;-1&quot; aria-label=&quot;Press Space to toggle all rows selection (unchecked)&quot;&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n            &lt;div class=&quot;ag-cell-label-container ag-header-cell-sorted-none&quot;&gt;\r\n                \r\n                &lt;div ref=&quot;eLabel&quot; class=&quot;ag-header-cell-label&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot;&gt;\r\n                    &lt;span ref=&quot;eText&quot; class=&quot;ag-header-cell-text&quot; unselectable=&quot;on&quot;&gt;Material&lt;/span&gt;\r\n                    &lt;span ref=&quot;eFilter&quot; class=&quot;ag-header-icon ag-header-label-icon ag-filter-icon ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;ag-icon ag-icon-filter&quot; unselectable=&quot;on&quot; role=&quot;presentation&quot;&gt;&lt;/span&gt;&lt;/span&gt;\r\n                    &lt;span ref=&quot;eSortOrder&quot; class=&quot;ag-header-icon ag-header-label-icon ag-sort-order ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;/span&gt;\r\n                    &lt;span ref=&quot;eSortAsc&quot; class=&quot;ag-header-icon ag-header-label-icon ag-sort-ascending-icon ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;i class=&quot;fas fa-arrow-circle-up&quot;&gt;&lt;/i&gt;&lt;/span&gt;\r\n                    &lt;span ref=&quot;eSortDesc&quot; class=&quot;ag-header-icon ag-header-label-icon ag-sort-descending-icon ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;i class=&quot;fas fa-arrow-circle-down&quot;&gt;&lt;/i&gt;&lt;/span&gt;\r\n                    &lt;span ref=&quot;eSortNone&quot; class=&quot;ag-header-icon ag-header-label-icon ag-sort-none-icon ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;ag-icon ag-icon-none&quot; unselectable=&quot;on&quot; role=&quot;presentation&quot;&gt;&lt;/span&gt;&lt;/span&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;ag-header-cell ag-focus-managed ag-header-cell-sortable&quot; role=&quot;columnheader&quot; unselectable=&quot;on&quot; tabindex=&quot;-1&quot; aria-sort=&quot;none&quot; aria-colindex=&quot;7&quot; col-id=&quot;lotLookupCode&quot; style=&quot;width: 200px; left: 400px;&quot;&gt;\r\n                &lt;div ref=&quot;eResize&quot; class=&quot;ag-header-cell-resize ag-hidden&quot; role=&quot;presentation&quot;&gt;&lt;/div&gt;\r\n                &lt;!--AG-CHECKBOX--&gt;&lt;div role=&quot;presentation&quot; ref=&quot;cbSelectAll&quot; class=&quot;ag-header-select-all ag-labeled ag-label-align-right ag-checkbox ag-input-field ag-hidden&quot;&gt;\r\n                    &lt;div ref=&quot;eLabel&quot; class=&quot;ag-input-field-label ag-label ag-hidden ag-checkbox-label&quot;&gt;&lt;/div&gt;\r\n                    &lt;div ref=&quot;eWrapper&quot; class=&quot;ag-wrapper ag-input-wrapper ag-checkbox-input-wrapper&quot; role=&quot;presentation&quot;&gt;\r\n                        &lt;input ref=&quot;eInput&quot; class=&quot;ag-input-field-input ag-checkbox-input&quot; type=&quot;checkbox&quot; id=&quot;ag-312-input&quot; tabindex=&quot;-1&quot; aria-label=&quot;Press Space to toggle all rows selection (unchecked)&quot;&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n            &lt;div class=&quot;ag-cell-label-container ag-header-cell-sorted-none&quot;&gt;\r\n                \r\n                &lt;div ref=&quot;eLabel&quot; class=&quot;ag-header-cell-label&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot;&gt;\r\n                    &lt;span ref=&quot;eText&quot; class=&quot;ag-header-cell-text&quot; unselectable=&quot;on&quot;&gt;Lot&lt;/span&gt;\r\n                    &lt;span ref=&quot;eFilter&quot; class=&quot;ag-header-icon ag-header-label-icon ag-filter-icon ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;ag-icon ag-icon-filter&quot; unselectable=&quot;on&quot; role=&quot;presentation&quot;&gt;&lt;/span&gt;&lt;/span&gt;\r\n                    &lt;span ref=&quot;eSortOrder&quot; class=&quot;ag-header-icon ag-header-label-icon ag-sort-order ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;/span&gt;\r\n                    &lt;span ref=&quot;eSortAsc&quot; class=&quot;ag-header-icon ag-header-label-icon ag-sort-ascending-icon ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;i class=&quot;fas fa-arrow-circle-up&quot;&gt;&lt;/i&gt;&lt;/span&gt;\r\n                    &lt;span ref=&quot;eSortDesc&quot; class=&quot;ag-header-icon ag-header-label-icon ag-sort-descending-icon ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;i class=&quot;fas fa-arrow-circle-down&quot;&gt;&lt;/i&gt;&lt;/span&gt;\r\n                    &lt;span ref=&quot;eSortNone&quot; class=&quot;ag-header-icon ag-header-label-icon ag-sort-none-icon ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;ag-icon ag-icon-none&quot; unselectable=&quot;on&quot; role=&quot;presentation&quot;&gt;&lt;/span&gt;&lt;/span&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;ag-header-cell ag-focus-managed ag-header-cell-sortable&quot; role=&quot;columnheader&quot; unselectable=&quot;on&quot; tabindex=&quot;-1&quot; aria-sort=&quot;none&quot; aria-colindex=&quot;8&quot; col-id=&quot;packagingName&quot; style=&quot;width: 200px; left: 600px;&quot;&gt;\r\n                &lt;div ref=&quot;eResize&quot; class=&quot;ag-header-cell-resize ag-hidden&quot; role=&quot;presentation&quot;&gt;&lt;/div&gt;\r\n                &lt;!--AG-CHECKBOX--&gt;&lt;div role=&quot;presentation&quot; ref=&quot;cbSelectAll&quot; class=&quot;ag-header-select-all ag-labeled ag-label-align-right ag-checkbox ag-input-field ag-hidden&quot;&gt;\r\n                    &lt;div ref=&quot;eLabel&quot; class=&quot;ag-input-field-label ag-label ag-hidden ag-checkbox-label&quot;&gt;&lt;/div&gt;\r\n                    &lt;div ref=&quot;eWrapper&quot; class=&quot;ag-wrapper ag-input-wrapper ag-checkbox-input-wrapper&quot; role=&quot;presentation&quot;&gt;\r\n                        &lt;input ref=&quot;eInput&quot; class=&quot;ag-input-field-input ag-checkbox-input&quot; type=&quot;checkbox&quot; id=&quot;ag-336-input&quot; tabindex=&quot;-1&quot; aria-label=&quot;Press Space to toggle all rows selection (unchecked)&quot;&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n            &lt;div class=&quot;ag-cell-label-container ag-header-cell-sorted-none&quot;&gt;\r\n                \r\n                &lt;div ref=&quot;eLabel&quot; class=&quot;ag-header-cell-label&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot;&gt;\r\n                    &lt;span ref=&quot;eText&quot; class=&quot;ag-header-cell-text&quot; unselectable=&quot;on&quot;&gt;Unit&lt;/span&gt;\r\n                    &lt;span ref=&quot;eFilter&quot; class=&quot;ag-header-icon ag-header-label-icon ag-filter-icon ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;ag-icon ag-icon-filter&quot; unselectable=&quot;on&quot; role=&quot;presentation&quot;&gt;&lt;/span&gt;&lt;/span&gt;\r\n                    &lt;span ref=&quot;eSortOrder&quot; class=&quot;ag-header-icon ag-header-label-icon ag-sort-order ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;/span&gt;\r\n                    &lt;span ref=&quot;eSortAsc&quot; class=&quot;ag-header-icon ag-header-label-icon ag-sort-ascending-icon ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;i class=&quot;fas fa-arrow-circle-up&quot;&gt;&lt;/i&gt;&lt;/span&gt;\r\n                    &lt;span ref=&quot;eSortDesc&quot; class=&quot;ag-header-icon ag-header-label-icon ag-sort-descending-icon ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;i class=&quot;fas fa-arrow-circle-down&quot;&gt;&lt;/i&gt;&lt;/span&gt;\r\n                    &lt;span ref=&quot;eSortNone&quot; class=&quot;ag-header-icon ag-header-label-icon ag-sort-none-icon ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;ag-icon ag-icon-none&quot; unselectable=&quot;on&quot; role=&quot;presentation&quot;&gt;&lt;/span&gt;&lt;/span&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;ag-pinned-right-header ag-hidden&quot; ref=&quot;ePinnedRightHeader&quot; role=&quot;presentation&quot; style=&quot;width: 0px; max-width: 0px; min-width: 0px;&quot;&gt;&lt;div class=&quot;ag-header-row ag-header-row-column&quot; role=&quot;row&quot; aria-rowindex=&quot;1&quot; style=&quot;top: 0px; height: 25px; width: 0px;&quot;&gt;&lt;/div&gt;&lt;/div&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;ag-floating-top&quot; ref=&quot;eTop&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot; style=&quot;min-height: 0px; height: 0px; display: none; overflow-y: hidden;&quot;&gt;\r\n                &lt;div class=&quot;ag-pinned-left-floating-top ag-hidden&quot; ref=&quot;eLeftTop&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot;&gt;&lt;/div&gt;\r\n                &lt;div class=&quot;ag-floating-top-viewport&quot; ref=&quot;eTopViewport&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot;&gt;\r\n                    &lt;div class=&quot;ag-floating-top-container&quot; ref=&quot;eTopContainer&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot; style=&quot;width: 800px; transform: translateX(0px);&quot;&gt;&lt;/div&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;ag-pinned-right-floating-top ag-hidden&quot; ref=&quot;eRightTop&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot;&gt;&lt;/div&gt;\r\n                &lt;div class=&quot;ag-floating-top-full-width-container ag-hidden&quot; ref=&quot;eTopFullWidthContainer&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot;&gt;&lt;/div&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;ag-body-viewport ag-layout-normal ag-row-no-animation&quot; ref=&quot;eBodyViewport&quot; role=&quot;presentation&quot;&gt;\r\n                &lt;div class=&quot;ag-pinned-left-cols-container ag-hidden&quot; ref=&quot;eLeftContainer&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot; style=&quot;height: 50px;&quot;&gt;&lt;div role=&quot;row&quot; row-index=&quot;0&quot; aria-rowindex=&quot;2&quot; row-id=&quot;2&quot; comp-id=&quot;342&quot; class=&quot;ag-row ag-row-focus ag-row-even ag-row-level-0 ag-row-position-absolute ag-row-first ag-row-last ag-row-selected&quot; aria-selected=&quot;true&quot; style=&quot;height: 50px; transform: translateY(0px); &quot; aria-label=&quot;Press SPACE to deselect this row.&quot;&gt;&lt;/div&gt;&lt;/div&gt;\r\n                &lt;div class=&quot;ag-center-cols-clipper&quot; ref=&quot;eCenterColsClipper&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot; style=&quot;height: 50px;&quot;&gt;\r\n                    &lt;div class=&quot;ag-center-cols-viewport&quot; ref=&quot;eCenterViewport&quot; role=&quot;presentation&quot; style=&quot;height: calc(100% + 0px);&quot;&gt;\r\n                        &lt;div class=&quot;ag-center-cols-container&quot; ref=&quot;eCenterContainer&quot; role=&quot;rowgroup&quot; unselectable=&quot;on&quot; style=&quot;width: 800px; height: 50px;&quot;&gt;&lt;div role=&quot;row&quot; row-index=&quot;0&quot; aria-rowindex=&quot;2&quot; row-id=&quot;2&quot; comp-id=&quot;342&quot; class=&quot;ag-row ag-row-focus ag-row-even ag-row-level-0 ag-row-position-absolute ag-row-first ag-row-last ag-row-selected&quot; aria-selected=&quot;true&quot; style=&quot;height: 50px; transform: translateY(0px); &quot; aria-label=&quot;Press SPACE to deselect this row.&quot;&gt;&lt;div tabindex=&quot;-1&quot; unselectable=&quot;on&quot; role=&quot;gridcell&quot; aria-colindex=&quot;1&quot; comp-id=&quot;343&quot; col-id=&quot;lookupCode&quot; class=&quot;ag-cell ag-cell-not-inline-editing ag-cell-auto-height ag-cell-value&quot; style=&quot;width: 200px; left: 0px;  &quot;&gt;6673718&lt;/div&gt;&lt;div tabindex=&quot;-1&quot; unselectable=&quot;on&quot; role=&quot;gridcell&quot; aria-colindex=&quot;6&quot; comp-id=&quot;344&quot; col-id=&quot;materialName&quot; class=&quot;ag-cell ag-cell-not-inline-editing ag-cell-auto-height ag-cell-value&quot; style=&quot;width: 200px; left: 200px;  &quot;&gt;Material_66737&lt;/div&gt;&lt;div tabindex=&quot;-1&quot; unselectable=&quot;on&quot; role=&quot;gridcell&quot; aria-colindex=&quot;7&quot; comp-id=&quot;345&quot; col-id=&quot;lotLookupCode&quot; class=&quot;ag-cell ag-cell-not-inline-editing ag-cell-auto-height ag-cell-value ag-cell-focus&quot; style=&quot;width: 200px; left: 400px;  &quot;&gt;Material_66737-GLot&lt;/div&gt;&lt;div tabindex=&quot;-1&quot; unselectable=&quot;on&quot; role=&quot;gridcell&quot; aria-colindex=&quot;8&quot; comp-id=&quot;346&quot; col-id=&quot;packagingName&quot; class=&quot;ag-cell ag-cell-not-inline-editing ag-cell-auto-height ag-cell-value&quot; style=&quot;width: 200px; left: 600px;  &quot;&gt;BOX&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;ag-pinned-right-cols-container ag-hidden&quot; ref=&quot;eRightContainer&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot; style=&quot;height: 50px;&quot;&gt;&lt;div role=&quot;row&quot; row-index=&quot;0&quot; aria-rowindex=&quot;2&quot; row-id=&quot;2&quot; comp-id=&quot;342&quot; class=&quot;ag-row ag-row-focus ag-row-even ag-row-level-0 ag-row-position-absolute ag-row-first ag-row-last ag-row-selected&quot; aria-selected=&quot;true&quot; style=&quot;height: 50px; transform: translateY(0px); &quot; aria-label=&quot;Press SPACE to deselect this row.&quot;&gt;&lt;/div&gt;&lt;/div&gt;\r\n                &lt;div class=&quot;ag-full-width-container&quot; ref=&quot;eFullWidthContainer&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot; style=&quot;height: 50px;&quot;&gt;&lt;/div&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;ag-floating-bottom&quot; ref=&quot;eBottom&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot; style=&quot;min-height: 0px; height: 0px; display: none; overflow-y: hidden;&quot;&gt;\r\n                &lt;div class=&quot;ag-pinned-left-floating-bottom ag-hidden&quot; ref=&quot;eLeftBottom&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot;&gt;&lt;/div&gt;\r\n                &lt;div class=&quot;ag-floating-bottom-viewport&quot; ref=&quot;eBottomViewport&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot;&gt;\r\n                    &lt;div class=&quot;ag-floating-bottom-container&quot; ref=&quot;eBottomContainer&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot; style=&quot;width: 800px; transform: translateX(0px);&quot;&gt;&lt;/div&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;ag-pinned-right-floating-bottom ag-hidden&quot; ref=&quot;eRightBottom&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot;&gt;&lt;/div&gt;\r\n                &lt;div class=&quot;ag-floating-bottom-full-width-container ag-hidden&quot; ref=&quot;eBottomFullWidthContainer&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot;&gt;&lt;/div&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;ag-body-horizontal-scroll&quot; ref=&quot;eHorizontalScrollBody&quot; aria-hidden=&quot;true&quot; style=&quot;height: 0px; max-height: 0px; min-height: 0px;&quot;&gt;\r\n                &lt;div class=&quot;ag-horizontal-left-spacer ag-scroller-corner&quot; ref=&quot;eHorizontalLeftSpacer&quot; style=&quot;width: 0px; max-width: 0px; min-width: 0px;&quot;&gt;&lt;/div&gt;\r\n                &lt;div class=&quot;ag-body-horizontal-scroll-viewport&quot; ref=&quot;eBodyHorizontalScrollViewport&quot; style=&quot;height: 0px; max-height: 0px; min-height: 0px;&quot;&gt;\r\n                    &lt;div class=&quot;ag-body-horizontal-scroll-container&quot; ref=&quot;eBodyHorizontalScrollContainer&quot; style=&quot;width: 800px; height: 0px; max-height: 0px; min-height: 0px;&quot;&gt;&lt;/div&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;ag-horizontal-right-spacer ag-scroller-corner&quot; ref=&quot;eHorizontalRightSpacer&quot; style=&quot;width: 0px; max-width: 0px; min-width: 0px;&quot;&gt;&lt;/div&gt;\r\n            &lt;/div&gt;\r\n            &lt;!--AG-OVERLAY-WRAPPER--&gt;&lt;div class=&quot;ag-overlay ag-hidden&quot; aria-hidden=&quot;true&quot; ref=&quot;overlayWrapper&quot;&gt;\r\n                &lt;div class=&quot;ag-overlay-panel&quot;&gt;\r\n                    &lt;div class=&quot;ag-overlay-wrapper ag-layout-normal ag-overlay-no-rows-wrapper&quot; ref=&quot;eOverlayWrapper&quot;&gt;&lt;/div&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n                        \r\n                    &lt;div class=&quot;ag-tab-guard ag-tab-guard-bottom&quot; role=&quot;presentation&quot; tabindex=&quot;0&quot;&gt;&lt;/div&gt;&lt;/div&gt;\r\n\r\n\r\nDo you know how I can implement a listener with Java and Selenium which waits for table row to be displayed and clicks in it? I tried something like this:\r\n\r\n    WebElement element = driver.findElement(By.cssSelector(&quot;div:not(.ag-hidden) &gt; .ag-row-first&quot;));\r\n    element.click();\r\n\r\nBut it&#39;s not working. Can you guide me for appropriate solution?","title":"Select first row after table is populated","body":"<p>I have this Angular SPA app which is displaying table rows after search:</p>\n<pre><code>&lt;div class=&quot;ag-root-wrapper-body ag-layout-normal ag-focus-managed&quot; ref=&quot;rootWrapperBody&quot;&gt;&lt;div class=&quot;ag-tab-guard ag-tab-guard-top&quot; role=&quot;presentation&quot; tabindex=&quot;0&quot;&gt;&lt;/div&gt;\n                    &lt;!--AG-GRID-COMP--&gt;&lt;div class=&quot;ag-root ag-unselectable ag-layout-normal&quot; role=&quot;grid&quot; unselectable=&quot;on&quot; ref=&quot;gridPanel&quot; aria-rowcount=&quot;2&quot; aria-colcount=&quot;8&quot;&gt;\n        &lt;!--AG-HEADER-ROOT--&gt;&lt;div class=&quot;ag-header ag-focus-managed ag-pivot-off&quot; role=&quot;presentation&quot; ref=&quot;headerRoot&quot; unselectable=&quot;on&quot; style=&quot;height: 26px; min-height: 26px;&quot;&gt;\n            &lt;div class=&quot;ag-pinned-left-header ag-hidden&quot; ref=&quot;ePinnedLeftHeader&quot; role=&quot;presentation&quot; style=&quot;width: 0px; max-width: 0px; min-width: 0px;&quot;&gt;&lt;div class=&quot;ag-header-row ag-header-row-column&quot; role=&quot;row&quot; aria-rowindex=&quot;1&quot; style=&quot;top: 0px; height: 25px; width: 0px;&quot;&gt;&lt;/div&gt;&lt;/div&gt;\n            &lt;div class=&quot;ag-header-viewport&quot; ref=&quot;eHeaderViewport&quot; role=&quot;presentation&quot;&gt;\n                &lt;div class=&quot;ag-header-container&quot; ref=&quot;eHeaderContainer&quot; role=&quot;rowgroup&quot; style=&quot;width: 800px; transform: translateX(0px);&quot;&gt;&lt;div class=&quot;ag-header-row ag-header-row-column&quot; role=&quot;row&quot; aria-rowindex=&quot;1&quot; style=&quot;top: 0px; height: 25px; width: 800px;&quot;&gt;&lt;div class=&quot;ag-header-cell ag-focus-managed ag-header-cell-sortable&quot; role=&quot;columnheader&quot; unselectable=&quot;on&quot; tabindex=&quot;-1&quot; aria-sort=&quot;none&quot; aria-colindex=&quot;1&quot; col-id=&quot;lookupCode&quot; style=&quot;width: 200px; left: 0px;&quot;&gt;\n            &lt;div ref=&quot;eResize&quot; class=&quot;ag-header-cell-resize ag-hidden&quot; role=&quot;presentation&quot;&gt;&lt;/div&gt;\n            &lt;!--AG-CHECKBOX--&gt;&lt;div role=&quot;presentation&quot; ref=&quot;cbSelectAll&quot; class=&quot;ag-header-select-all ag-labeled ag-label-align-right ag-checkbox ag-input-field ag-hidden&quot;&gt;\n                &lt;div ref=&quot;eLabel&quot; class=&quot;ag-input-field-label ag-label ag-hidden ag-checkbox-label&quot;&gt;&lt;/div&gt;\n                &lt;div ref=&quot;eWrapper&quot; class=&quot;ag-wrapper ag-input-wrapper ag-checkbox-input-wrapper&quot; role=&quot;presentation&quot;&gt;\n                    &lt;input ref=&quot;eInput&quot; class=&quot;ag-input-field-input ag-checkbox-input&quot; type=&quot;checkbox&quot; id=&quot;ag-306-input&quot; tabindex=&quot;-1&quot; aria-label=&quot;Press Space to toggle all rows selection (unchecked)&quot;&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;div class=&quot;ag-cell-label-container ag-header-cell-sorted-none&quot;&gt;\n            \n            &lt;div ref=&quot;eLabel&quot; class=&quot;ag-header-cell-label&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot;&gt;\n                &lt;span ref=&quot;eText&quot; class=&quot;ag-header-cell-text&quot; unselectable=&quot;on&quot;&gt;Serial Number&lt;/span&gt;\n                &lt;span ref=&quot;eFilter&quot; class=&quot;ag-header-icon ag-header-label-icon ag-filter-icon ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;ag-icon ag-icon-filter&quot; unselectable=&quot;on&quot; role=&quot;presentation&quot;&gt;&lt;/span&gt;&lt;/span&gt;\n                &lt;span ref=&quot;eSortOrder&quot; class=&quot;ag-header-icon ag-header-label-icon ag-sort-order ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;/span&gt;\n                &lt;span ref=&quot;eSortAsc&quot; class=&quot;ag-header-icon ag-header-label-icon ag-sort-ascending-icon ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;i class=&quot;fas fa-arrow-circle-up&quot;&gt;&lt;/i&gt;&lt;/span&gt;\n                &lt;span ref=&quot;eSortDesc&quot; class=&quot;ag-header-icon ag-header-label-icon ag-sort-descending-icon ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;i class=&quot;fas fa-arrow-circle-down&quot;&gt;&lt;/i&gt;&lt;/span&gt;\n                &lt;span ref=&quot;eSortNone&quot; class=&quot;ag-header-icon ag-header-label-icon ag-sort-none-icon ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;ag-icon ag-icon-none&quot; unselectable=&quot;on&quot; role=&quot;presentation&quot;&gt;&lt;/span&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;ag-header-cell ag-focus-managed ag-header-cell-sortable&quot; role=&quot;columnheader&quot; unselectable=&quot;on&quot; tabindex=&quot;-1&quot; aria-sort=&quot;none&quot; aria-colindex=&quot;6&quot; col-id=&quot;materialName&quot; style=&quot;width: 200px; left: 200px;&quot;&gt;\n            &lt;div ref=&quot;eResize&quot; class=&quot;ag-header-cell-resize ag-hidden&quot; role=&quot;presentation&quot;&gt;&lt;/div&gt;\n            &lt;!--AG-CHECKBOX--&gt;&lt;div role=&quot;presentation&quot; ref=&quot;cbSelectAll&quot; class=&quot;ag-header-select-all ag-labeled ag-label-align-right ag-checkbox ag-input-field ag-hidden&quot;&gt;\n                &lt;div ref=&quot;eLabel&quot; class=&quot;ag-input-field-label ag-label ag-hidden ag-checkbox-label&quot;&gt;&lt;/div&gt;\n                &lt;div ref=&quot;eWrapper&quot; class=&quot;ag-wrapper ag-input-wrapper ag-checkbox-input-wrapper&quot; role=&quot;presentation&quot;&gt;\n                    &lt;input ref=&quot;eInput&quot; class=&quot;ag-input-field-input ag-checkbox-input&quot; type=&quot;checkbox&quot; id=&quot;ag-309-input&quot; tabindex=&quot;-1&quot; aria-label=&quot;Press Space to toggle all rows selection (unchecked)&quot;&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;div class=&quot;ag-cell-label-container ag-header-cell-sorted-none&quot;&gt;\n            \n            &lt;div ref=&quot;eLabel&quot; class=&quot;ag-header-cell-label&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot;&gt;\n                &lt;span ref=&quot;eText&quot; class=&quot;ag-header-cell-text&quot; unselectable=&quot;on&quot;&gt;Material&lt;/span&gt;\n                &lt;span ref=&quot;eFilter&quot; class=&quot;ag-header-icon ag-header-label-icon ag-filter-icon ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;ag-icon ag-icon-filter&quot; unselectable=&quot;on&quot; role=&quot;presentation&quot;&gt;&lt;/span&gt;&lt;/span&gt;\n                &lt;span ref=&quot;eSortOrder&quot; class=&quot;ag-header-icon ag-header-label-icon ag-sort-order ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;/span&gt;\n                &lt;span ref=&quot;eSortAsc&quot; class=&quot;ag-header-icon ag-header-label-icon ag-sort-ascending-icon ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;i class=&quot;fas fa-arrow-circle-up&quot;&gt;&lt;/i&gt;&lt;/span&gt;\n                &lt;span ref=&quot;eSortDesc&quot; class=&quot;ag-header-icon ag-header-label-icon ag-sort-descending-icon ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;i class=&quot;fas fa-arrow-circle-down&quot;&gt;&lt;/i&gt;&lt;/span&gt;\n                &lt;span ref=&quot;eSortNone&quot; class=&quot;ag-header-icon ag-header-label-icon ag-sort-none-icon ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;ag-icon ag-icon-none&quot; unselectable=&quot;on&quot; role=&quot;presentation&quot;&gt;&lt;/span&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;ag-header-cell ag-focus-managed ag-header-cell-sortable&quot; role=&quot;columnheader&quot; unselectable=&quot;on&quot; tabindex=&quot;-1&quot; aria-sort=&quot;none&quot; aria-colindex=&quot;7&quot; col-id=&quot;lotLookupCode&quot; style=&quot;width: 200px; left: 400px;&quot;&gt;\n            &lt;div ref=&quot;eResize&quot; class=&quot;ag-header-cell-resize ag-hidden&quot; role=&quot;presentation&quot;&gt;&lt;/div&gt;\n            &lt;!--AG-CHECKBOX--&gt;&lt;div role=&quot;presentation&quot; ref=&quot;cbSelectAll&quot; class=&quot;ag-header-select-all ag-labeled ag-label-align-right ag-checkbox ag-input-field ag-hidden&quot;&gt;\n                &lt;div ref=&quot;eLabel&quot; class=&quot;ag-input-field-label ag-label ag-hidden ag-checkbox-label&quot;&gt;&lt;/div&gt;\n                &lt;div ref=&quot;eWrapper&quot; class=&quot;ag-wrapper ag-input-wrapper ag-checkbox-input-wrapper&quot; role=&quot;presentation&quot;&gt;\n                    &lt;input ref=&quot;eInput&quot; class=&quot;ag-input-field-input ag-checkbox-input&quot; type=&quot;checkbox&quot; id=&quot;ag-312-input&quot; tabindex=&quot;-1&quot; aria-label=&quot;Press Space to toggle all rows selection (unchecked)&quot;&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;div class=&quot;ag-cell-label-container ag-header-cell-sorted-none&quot;&gt;\n            \n            &lt;div ref=&quot;eLabel&quot; class=&quot;ag-header-cell-label&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot;&gt;\n                &lt;span ref=&quot;eText&quot; class=&quot;ag-header-cell-text&quot; unselectable=&quot;on&quot;&gt;Lot&lt;/span&gt;\n                &lt;span ref=&quot;eFilter&quot; class=&quot;ag-header-icon ag-header-label-icon ag-filter-icon ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;ag-icon ag-icon-filter&quot; unselectable=&quot;on&quot; role=&quot;presentation&quot;&gt;&lt;/span&gt;&lt;/span&gt;\n                &lt;span ref=&quot;eSortOrder&quot; class=&quot;ag-header-icon ag-header-label-icon ag-sort-order ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;/span&gt;\n                &lt;span ref=&quot;eSortAsc&quot; class=&quot;ag-header-icon ag-header-label-icon ag-sort-ascending-icon ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;i class=&quot;fas fa-arrow-circle-up&quot;&gt;&lt;/i&gt;&lt;/span&gt;\n                &lt;span ref=&quot;eSortDesc&quot; class=&quot;ag-header-icon ag-header-label-icon ag-sort-descending-icon ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;i class=&quot;fas fa-arrow-circle-down&quot;&gt;&lt;/i&gt;&lt;/span&gt;\n                &lt;span ref=&quot;eSortNone&quot; class=&quot;ag-header-icon ag-header-label-icon ag-sort-none-icon ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;ag-icon ag-icon-none&quot; unselectable=&quot;on&quot; role=&quot;presentation&quot;&gt;&lt;/span&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;ag-header-cell ag-focus-managed ag-header-cell-sortable&quot; role=&quot;columnheader&quot; unselectable=&quot;on&quot; tabindex=&quot;-1&quot; aria-sort=&quot;none&quot; aria-colindex=&quot;8&quot; col-id=&quot;packagingName&quot; style=&quot;width: 200px; left: 600px;&quot;&gt;\n            &lt;div ref=&quot;eResize&quot; class=&quot;ag-header-cell-resize ag-hidden&quot; role=&quot;presentation&quot;&gt;&lt;/div&gt;\n            &lt;!--AG-CHECKBOX--&gt;&lt;div role=&quot;presentation&quot; ref=&quot;cbSelectAll&quot; class=&quot;ag-header-select-all ag-labeled ag-label-align-right ag-checkbox ag-input-field ag-hidden&quot;&gt;\n                &lt;div ref=&quot;eLabel&quot; class=&quot;ag-input-field-label ag-label ag-hidden ag-checkbox-label&quot;&gt;&lt;/div&gt;\n                &lt;div ref=&quot;eWrapper&quot; class=&quot;ag-wrapper ag-input-wrapper ag-checkbox-input-wrapper&quot; role=&quot;presentation&quot;&gt;\n                    &lt;input ref=&quot;eInput&quot; class=&quot;ag-input-field-input ag-checkbox-input&quot; type=&quot;checkbox&quot; id=&quot;ag-336-input&quot; tabindex=&quot;-1&quot; aria-label=&quot;Press Space to toggle all rows selection (unchecked)&quot;&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;div class=&quot;ag-cell-label-container ag-header-cell-sorted-none&quot;&gt;\n            \n            &lt;div ref=&quot;eLabel&quot; class=&quot;ag-header-cell-label&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot;&gt;\n                &lt;span ref=&quot;eText&quot; class=&quot;ag-header-cell-text&quot; unselectable=&quot;on&quot;&gt;Unit&lt;/span&gt;\n                &lt;span ref=&quot;eFilter&quot; class=&quot;ag-header-icon ag-header-label-icon ag-filter-icon ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;ag-icon ag-icon-filter&quot; unselectable=&quot;on&quot; role=&quot;presentation&quot;&gt;&lt;/span&gt;&lt;/span&gt;\n                &lt;span ref=&quot;eSortOrder&quot; class=&quot;ag-header-icon ag-header-label-icon ag-sort-order ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;/span&gt;\n                &lt;span ref=&quot;eSortAsc&quot; class=&quot;ag-header-icon ag-header-label-icon ag-sort-ascending-icon ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;i class=&quot;fas fa-arrow-circle-up&quot;&gt;&lt;/i&gt;&lt;/span&gt;\n                &lt;span ref=&quot;eSortDesc&quot; class=&quot;ag-header-icon ag-header-label-icon ag-sort-descending-icon ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;i class=&quot;fas fa-arrow-circle-down&quot;&gt;&lt;/i&gt;&lt;/span&gt;\n                &lt;span ref=&quot;eSortNone&quot; class=&quot;ag-header-icon ag-header-label-icon ag-sort-none-icon ag-hidden&quot; aria-hidden=&quot;true&quot;&gt;&lt;span class=&quot;ag-icon ag-icon-none&quot; unselectable=&quot;on&quot; role=&quot;presentation&quot;&gt;&lt;/span&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;ag-pinned-right-header ag-hidden&quot; ref=&quot;ePinnedRightHeader&quot; role=&quot;presentation&quot; style=&quot;width: 0px; max-width: 0px; min-width: 0px;&quot;&gt;&lt;div class=&quot;ag-header-row ag-header-row-column&quot; role=&quot;row&quot; aria-rowindex=&quot;1&quot; style=&quot;top: 0px; height: 25px; width: 0px;&quot;&gt;&lt;/div&gt;&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;ag-floating-top&quot; ref=&quot;eTop&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot; style=&quot;min-height: 0px; height: 0px; display: none; overflow-y: hidden;&quot;&gt;\n            &lt;div class=&quot;ag-pinned-left-floating-top ag-hidden&quot; ref=&quot;eLeftTop&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot;&gt;&lt;/div&gt;\n            &lt;div class=&quot;ag-floating-top-viewport&quot; ref=&quot;eTopViewport&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot;&gt;\n                &lt;div class=&quot;ag-floating-top-container&quot; ref=&quot;eTopContainer&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot; style=&quot;width: 800px; transform: translateX(0px);&quot;&gt;&lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;ag-pinned-right-floating-top ag-hidden&quot; ref=&quot;eRightTop&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot;&gt;&lt;/div&gt;\n            &lt;div class=&quot;ag-floating-top-full-width-container ag-hidden&quot; ref=&quot;eTopFullWidthContainer&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot;&gt;&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;ag-body-viewport ag-layout-normal ag-row-no-animation&quot; ref=&quot;eBodyViewport&quot; role=&quot;presentation&quot;&gt;\n            &lt;div class=&quot;ag-pinned-left-cols-container ag-hidden&quot; ref=&quot;eLeftContainer&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot; style=&quot;height: 50px;&quot;&gt;&lt;div role=&quot;row&quot; row-index=&quot;0&quot; aria-rowindex=&quot;2&quot; row-id=&quot;2&quot; comp-id=&quot;342&quot; class=&quot;ag-row ag-row-focus ag-row-even ag-row-level-0 ag-row-position-absolute ag-row-first ag-row-last ag-row-selected&quot; aria-selected=&quot;true&quot; style=&quot;height: 50px; transform: translateY(0px); &quot; aria-label=&quot;Press SPACE to deselect this row.&quot;&gt;&lt;/div&gt;&lt;/div&gt;\n            &lt;div class=&quot;ag-center-cols-clipper&quot; ref=&quot;eCenterColsClipper&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot; style=&quot;height: 50px;&quot;&gt;\n                &lt;div class=&quot;ag-center-cols-viewport&quot; ref=&quot;eCenterViewport&quot; role=&quot;presentation&quot; style=&quot;height: calc(100% + 0px);&quot;&gt;\n                    &lt;div class=&quot;ag-center-cols-container&quot; ref=&quot;eCenterContainer&quot; role=&quot;rowgroup&quot; unselectable=&quot;on&quot; style=&quot;width: 800px; height: 50px;&quot;&gt;&lt;div role=&quot;row&quot; row-index=&quot;0&quot; aria-rowindex=&quot;2&quot; row-id=&quot;2&quot; comp-id=&quot;342&quot; class=&quot;ag-row ag-row-focus ag-row-even ag-row-level-0 ag-row-position-absolute ag-row-first ag-row-last ag-row-selected&quot; aria-selected=&quot;true&quot; style=&quot;height: 50px; transform: translateY(0px); &quot; aria-label=&quot;Press SPACE to deselect this row.&quot;&gt;&lt;div tabindex=&quot;-1&quot; unselectable=&quot;on&quot; role=&quot;gridcell&quot; aria-colindex=&quot;1&quot; comp-id=&quot;343&quot; col-id=&quot;lookupCode&quot; class=&quot;ag-cell ag-cell-not-inline-editing ag-cell-auto-height ag-cell-value&quot; style=&quot;width: 200px; left: 0px;  &quot;&gt;6673718&lt;/div&gt;&lt;div tabindex=&quot;-1&quot; unselectable=&quot;on&quot; role=&quot;gridcell&quot; aria-colindex=&quot;6&quot; comp-id=&quot;344&quot; col-id=&quot;materialName&quot; class=&quot;ag-cell ag-cell-not-inline-editing ag-cell-auto-height ag-cell-value&quot; style=&quot;width: 200px; left: 200px;  &quot;&gt;Material_66737&lt;/div&gt;&lt;div tabindex=&quot;-1&quot; unselectable=&quot;on&quot; role=&quot;gridcell&quot; aria-colindex=&quot;7&quot; comp-id=&quot;345&quot; col-id=&quot;lotLookupCode&quot; class=&quot;ag-cell ag-cell-not-inline-editing ag-cell-auto-height ag-cell-value ag-cell-focus&quot; style=&quot;width: 200px; left: 400px;  &quot;&gt;Material_66737-GLot&lt;/div&gt;&lt;div tabindex=&quot;-1&quot; unselectable=&quot;on&quot; role=&quot;gridcell&quot; aria-colindex=&quot;8&quot; comp-id=&quot;346&quot; col-id=&quot;packagingName&quot; class=&quot;ag-cell ag-cell-not-inline-editing ag-cell-auto-height ag-cell-value&quot; style=&quot;width: 200px; left: 600px;  &quot;&gt;BOX&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;ag-pinned-right-cols-container ag-hidden&quot; ref=&quot;eRightContainer&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot; style=&quot;height: 50px;&quot;&gt;&lt;div role=&quot;row&quot; row-index=&quot;0&quot; aria-rowindex=&quot;2&quot; row-id=&quot;2&quot; comp-id=&quot;342&quot; class=&quot;ag-row ag-row-focus ag-row-even ag-row-level-0 ag-row-position-absolute ag-row-first ag-row-last ag-row-selected&quot; aria-selected=&quot;true&quot; style=&quot;height: 50px; transform: translateY(0px); &quot; aria-label=&quot;Press SPACE to deselect this row.&quot;&gt;&lt;/div&gt;&lt;/div&gt;\n            &lt;div class=&quot;ag-full-width-container&quot; ref=&quot;eFullWidthContainer&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot; style=&quot;height: 50px;&quot;&gt;&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;ag-floating-bottom&quot; ref=&quot;eBottom&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot; style=&quot;min-height: 0px; height: 0px; display: none; overflow-y: hidden;&quot;&gt;\n            &lt;div class=&quot;ag-pinned-left-floating-bottom ag-hidden&quot; ref=&quot;eLeftBottom&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot;&gt;&lt;/div&gt;\n            &lt;div class=&quot;ag-floating-bottom-viewport&quot; ref=&quot;eBottomViewport&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot;&gt;\n                &lt;div class=&quot;ag-floating-bottom-container&quot; ref=&quot;eBottomContainer&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot; style=&quot;width: 800px; transform: translateX(0px);&quot;&gt;&lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;ag-pinned-right-floating-bottom ag-hidden&quot; ref=&quot;eRightBottom&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot;&gt;&lt;/div&gt;\n            &lt;div class=&quot;ag-floating-bottom-full-width-container ag-hidden&quot; ref=&quot;eBottomFullWidthContainer&quot; role=&quot;presentation&quot; unselectable=&quot;on&quot;&gt;&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;ag-body-horizontal-scroll&quot; ref=&quot;eHorizontalScrollBody&quot; aria-hidden=&quot;true&quot; style=&quot;height: 0px; max-height: 0px; min-height: 0px;&quot;&gt;\n            &lt;div class=&quot;ag-horizontal-left-spacer ag-scroller-corner&quot; ref=&quot;eHorizontalLeftSpacer&quot; style=&quot;width: 0px; max-width: 0px; min-width: 0px;&quot;&gt;&lt;/div&gt;\n            &lt;div class=&quot;ag-body-horizontal-scroll-viewport&quot; ref=&quot;eBodyHorizontalScrollViewport&quot; style=&quot;height: 0px; max-height: 0px; min-height: 0px;&quot;&gt;\n                &lt;div class=&quot;ag-body-horizontal-scroll-container&quot; ref=&quot;eBodyHorizontalScrollContainer&quot; style=&quot;width: 800px; height: 0px; max-height: 0px; min-height: 0px;&quot;&gt;&lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;ag-horizontal-right-spacer ag-scroller-corner&quot; ref=&quot;eHorizontalRightSpacer&quot; style=&quot;width: 0px; max-width: 0px; min-width: 0px;&quot;&gt;&lt;/div&gt;\n        &lt;/div&gt;\n        &lt;!--AG-OVERLAY-WRAPPER--&gt;&lt;div class=&quot;ag-overlay ag-hidden&quot; aria-hidden=&quot;true&quot; ref=&quot;overlayWrapper&quot;&gt;\n            &lt;div class=&quot;ag-overlay-panel&quot;&gt;\n                &lt;div class=&quot;ag-overlay-wrapper ag-layout-normal ag-overlay-no-rows-wrapper&quot; ref=&quot;eOverlayWrapper&quot;&gt;&lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n                    \n                &lt;div class=&quot;ag-tab-guard ag-tab-guard-bottom&quot; role=&quot;presentation&quot; tabindex=&quot;0&quot;&gt;&lt;/div&gt;&lt;/div&gt;\n</code></pre>\n<p>Do you know how I can implement a listener with Java and Selenium which waits for table row to be displayed and clicks in it? I tried something like this:</p>\n<pre><code>WebElement element = driver.findElement(By.cssSelector(&quot;div:not(.ag-hidden) &gt; .ag-row-first&quot;));\nelement.click();\n</code></pre>\n<p>But it's not working. Can you guide me for appropriate solution?</p>\n"},{"tags":["java","spring-boot","docker","kubernetes"],"comments":[{"owner":{"account_id":22142085,"reputation":2950,"user_id":16391991,"display_name":"Mikolaj S."},"score":0,"creation_date":1633332169,"post_id":69430920,"comment_id":122721463,"body_markdown":"Hi @Kishore Mohanavelu, you attached tag &quot;kubernetes&quot; in your question. Are you using it?","body":"Hi @Kishore Mohanavelu, you attached tag &quot;kubernetes&quot; in your question. Are you using it?"},{"owner":{"account_id":2858817,"reputation":11786,"user_id":7215872,"accept_rate":86,"display_name":"letthefireflieslive"},"score":0,"creation_date":1633337433,"post_id":69430920,"comment_id":122723243,"body_markdown":"user here means a person right, not another application?","body":"user here means a person right, not another application?"},{"owner":{"account_id":13863020,"reputation":137033,"user_id":10008173,"display_name":"David Maze"},"score":1,"creation_date":1633345487,"post_id":69430920,"comment_id":122726419,"body_markdown":"I&#39;d use [Spring AMQP](https://spring.io/projects/spring-amqp) or something similar to send requests into a message queue; separately, have long-running worker container(s) that consume messages from the queue and execute them.  You can build and test this without involving Docker.  More critically, you can&#39;t access the Docker socket without also being able to root the entire host, and you&#39;d need to figure out how to clean up if your main application exits and leaves containers behind.","body":"I&#39;d use <a href=\"https://spring.io/projects/spring-amqp\" rel=\"nofollow noreferrer\">Spring AMQP</a> or something similar to send requests into a message queue; separately, have long-running worker container(s) that consume messages from the queue and execute them.  You can build and test this without involving Docker.  More critically, you can&#39;t access the Docker socket without also being able to root the entire host, and you&#39;d need to figure out how to clean up if your main application exits and leaves containers behind."}],"answers":[{"tags":[],"owner":{"account_id":7242784,"reputation":27789,"user_id":5525824,"display_name":"Harsh Manvar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633323077,"creation_date":1633323077,"answer_id":69431034,"question_id":69430920,"body_markdown":"&gt; Do I need to write java code to handle the docker spawning and mapping\r\n&gt; the unique id to each docker instance?\r\n\r\nIdeally you can but managing that would be hard if you use Kubernets job any other way. Using deployment would be easy however i would not suggest going that way. rather implement the Pub/sub or queue messaging if it&#39;s fine. \r\n\r\n&gt; I have to trigger a docker instance(and execute some code inside the\r\n&gt; spawned docker instance) and provide a unique id to the user.\r\n\r\ni not sure what is the exact requirement or reason behind spawning new instance each time. \r\n\r\nYou can create the Pub/Sub or queue system when user will call the API it will the add payload into queue and further worker PODs will use that payload and process it one by one. \r\n\r\nYou can store the outcome or ID into **Redis** or **MySQL** and further use by other services or application if you need.\r\n\r\nYou can also use a queueing systems like RabbitMQ or a library like https://github.com/OptimalBits/bull. \r\n\r\nYou can create multiple worker replicas and they will subscribe to a single queue or channel and process the payload and save ID to database like Redis. \r\n\r\nIf there is a specific requirement of running replica for each process write code which will spwan the POD one by one may creating different deployment or Jobs. ","title":"How to spawn a docker instance for each spring boot api call and map a unique id to each docker instance?","body":"<blockquote>\n<p>Do I need to write java code to handle the docker spawning and mapping\nthe unique id to each docker instance?</p>\n</blockquote>\n<p>Ideally you can but managing that would be hard if you use Kubernets job any other way. Using deployment would be easy however i would not suggest going that way. rather implement the Pub/sub or queue messaging if it's fine.</p>\n<blockquote>\n<p>I have to trigger a docker instance(and execute some code inside the\nspawned docker instance) and provide a unique id to the user.</p>\n</blockquote>\n<p>i not sure what is the exact requirement or reason behind spawning new instance each time.</p>\n<p>You can create the Pub/Sub or queue system when user will call the API it will the add payload into queue and further worker PODs will use that payload and process it one by one.</p>\n<p>You can store the outcome or ID into <strong>Redis</strong> or <strong>MySQL</strong> and further use by other services or application if you need.</p>\n<p>You can also use a queueing systems like RabbitMQ or a library like <a href=\"https://github.com/OptimalBits/bull\" rel=\"nofollow noreferrer\">https://github.com/OptimalBits/bull</a>.</p>\n<p>You can create multiple worker replicas and they will subscribe to a single queue or channel and process the payload and save ID to database like Redis.</p>\n<p>If there is a specific requirement of running replica for each process write code which will spwan the POD one by one may creating different deployment or Jobs.</p>\n"},{"tags":[],"owner":{"account_id":2858817,"reputation":11786,"user_id":7215872,"accept_rate":86,"display_name":"letthefireflieslive"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633338774,"creation_date":1633338774,"answer_id":69433556,"question_id":69430920,"body_markdown":"&gt; I have to trigger a docker instance(and execute some code inside the spawned docker instance) and provide a unique id to the user\r\n\r\nthis is `docker run --rm codegeneratorimage:v1.0 /bin/sh -c &quot;your code to generate the unique id&quot;`\r\n\r\nI don&#39;t quite understand what you are testing though, do you want to test the app running behind `http://localhost:8080/me/customize`? Why not test the endpoint? \r\n\r\nAnyway, for triggering that docker run you have many options:\r\n\r\n 1. If you are in cloud environment, they have something like AWS lambda which you can setup to have something like `http://localhost:8080/me/customize` and trigger the `docker run`\r\n 2. Write a golang webservice and you can easily run that `docker run` command https://stackoverflow.com/questions/6182369/exec-a-shell-command-in-go + https://golang.org/doc/tutorial/web-service-gin (recommended). You can also write a python webservice for this if you are more familiar.. or other PLs\r\n\r\n","title":"How to spawn a docker instance for each spring boot api call and map a unique id to each docker instance?","body":"<blockquote>\n<p>I have to trigger a docker instance(and execute some code inside the spawned docker instance) and provide a unique id to the user</p>\n</blockquote>\n<p>this is <code>docker run --rm codegeneratorimage:v1.0 /bin/sh -c &quot;your code to generate the unique id&quot;</code></p>\n<p>I don't quite understand what you are testing though, do you want to test the app running behind <code>http://localhost:8080/me/customize</code>? Why not test the endpoint?</p>\n<p>Anyway, for triggering that docker run you have many options:</p>\n<ol>\n<li>If you are in cloud environment, they have something like AWS lambda which you can setup to have something like <code>http://localhost:8080/me/customize</code> and trigger the <code>docker run</code></li>\n<li>Write a golang webservice and you can easily run that <code>docker run</code> command <a href=\"https://stackoverflow.com/questions/6182369/exec-a-shell-command-in-go\">Exec a shell command in Go</a> + <a href=\"https://golang.org/doc/tutorial/web-service-gin\" rel=\"nofollow noreferrer\">https://golang.org/doc/tutorial/web-service-gin</a> (recommended). You can also write a python webservice for this if you are more familiar.. or other PLs</li>\n</ol>\n"}],"owner":{"account_id":12039104,"reputation":439,"user_id":8806664,"display_name":"Kishore Mohanavelu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":366,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1633338774,"creation_date":1633321751,"question_id":69430920,"body_markdown":"I have a bunch of api calls in my spring boot service. Let&#39;s say,\r\n\r\n    http://localhost:8080/me/customize\r\n    http://localhost:8080/me/addItem\r\n    http://localhost:8080/me/revokeItem\r\n\r\nWhen the user hit&#39;s **http://localhost:8080/me/customize** api, then I have to trigger a docker instance(and execute some code inside the spawned docker instance) and provide a unique id to the user. The user will use that unique id to hit the other apis.\r\n\r\nThis process should happen for all the users. Let us say that 100 users hit the customize api, i need to have 100 docker instances with a unique identifier tied to each docker instance and the user should use that unique id to communicate with the docker instance from there onwards.\r\n\r\nDo I need to write java code to handle the docker spawning and mapping the unique id to each docker instance?\r\n\r\nI am a tester and this is my first time dealing with development stuff. Could any of you point me in the right direction or some sort of tutorial may be? I have done googling, and still didn&#39;t found any answer.\r\n","title":"How to spawn a docker instance for each spring boot api call and map a unique id to each docker instance?","body":"<p>I have a bunch of api calls in my spring boot service. Let's say,</p>\n<pre><code>http://localhost:8080/me/customize\nhttp://localhost:8080/me/addItem\nhttp://localhost:8080/me/revokeItem\n</code></pre>\n<p>When the user hit's <strong>http://localhost:8080/me/customize</strong> api, then I have to trigger a docker instance(and execute some code inside the spawned docker instance) and provide a unique id to the user. The user will use that unique id to hit the other apis.</p>\n<p>This process should happen for all the users. Let us say that 100 users hit the customize api, i need to have 100 docker instances with a unique identifier tied to each docker instance and the user should use that unique id to communicate with the docker instance from there onwards.</p>\n<p>Do I need to write java code to handle the docker spawning and mapping the unique id to each docker instance?</p>\n<p>I am a tester and this is my first time dealing with development stuff. Could any of you point me in the right direction or some sort of tutorial may be? I have done googling, and still didn't found any answer.</p>\n"},{"tags":["java","url","encode"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1633338135,"post_id":69433105,"comment_id":122723521,"body_markdown":"`URLEncoder`, despite its name, is for encoding URL `arguments`, not URLs themselves. You need to look at `URI(String, String, String)` for this.","body":"<code>URLEncoder</code>, despite its name, is for encoding URL <code>arguments</code>, not URLs themselves. You need to look at <code>URI(String, String, String)</code> for this."},{"owner":{"account_id":11671342,"reputation":38,"user_id":8546310,"display_name":"Thao Nguyen"},"score":0,"creation_date":1633338183,"post_id":69433105,"comment_id":122723626,"body_markdown":"I founded an question look like what you asking: https://stackoverflow.com/questions/10786042/java-url-encoding-of-query-string-parameters let vote for me if it&#39;s works =))","body":"I founded an question look like what you asking: <a href=\"https://stackoverflow.com/questions/10786042/java-url-encoding-of-query-string-parameters\" title=\"java url encoding of query string parameters\">stackoverflow.com/questions/10786042/&hellip;</a> let vote for me if it&#39;s works =))"},{"owner":{"account_id":20221704,"reputation":3,"user_id":14830985,"display_name":"Fynn"},"score":0,"creation_date":1633348537,"post_id":69433105,"comment_id":122727588,"body_markdown":"@user207421 Interesting fact. My problem is URI seems not to allow spaces in the string so URI(imageName) does not work as it throws an Exception. Any idea?","body":"@user207421 Interesting fact. My problem is URI seems not to allow spaces in the string so URI(imageName) does not work as it throws an Exception. Any idea?"},{"owner":{"account_id":20221704,"reputation":3,"user_id":14830985,"display_name":"Fynn"},"score":0,"creation_date":1633348662,"post_id":69433105,"comment_id":122727630,"body_markdown":"@ThaoNguyen as I am not trying to encode parameters but the URL itself as user207421 mentioned so I don&#39;t think this solution will work for me. But thanks :)","body":"@ThaoNguyen as I am not trying to encode parameters but the URL itself as user207421 mentioned so I don&#39;t think this solution will work for me. But thanks :)"}],"owner":{"account_id":20221704,"reputation":3,"user_id":14830985,"display_name":"Fynn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1633338345,"answer_count":0,"score":0,"last_activity_date":1633338183,"creation_date":1633336487,"question_id":69433105,"body_markdown":"I have a problem with the encoding of image URLs on my website and I tried 2 different encoding methods but they both have problems. \r\nFor example my image file has the following name: &quot;Some special Characters;.jpg&quot;\r\n\r\nIf I use `URLEncoder.encode(imageName, &quot;UTF-8&quot;);` I get the following URL: \r\n\r\n    /some/url/Some+special+Characters%3B_92631.jpg\r\n\r\nIf I use `UrlEscapers.urlPathSegmentEscaper().escape(imageName)` I get: \r\n\r\n    /some/url/Some%20special%20Characters;_63414.jpg\r\n\r\nI tried to find the correct URL of the image and I found this one: \r\n\r\n    /some/url/Some%20special%20Characters%3B_63414.jpg\r\n\r\nIt looks like URLEncoder is not encoding spaces correctly while URLEscapers does not encode the semicolon. Other special characters like ! or , work without any problems. \r\n\r\nHow can I encode my URL correctly?","title":"Java encode image URL correctly","body":"<p>I have a problem with the encoding of image URLs on my website and I tried 2 different encoding methods but they both have problems.\nFor example my image file has the following name: &quot;Some special Characters;.jpg&quot;</p>\n<p>If I use <code>URLEncoder.encode(imageName, &quot;UTF-8&quot;);</code> I get the following URL:</p>\n<pre><code>/some/url/Some+special+Characters%3B_92631.jpg\n</code></pre>\n<p>If I use <code>UrlEscapers.urlPathSegmentEscaper().escape(imageName)</code> I get:</p>\n<pre><code>/some/url/Some%20special%20Characters;_63414.jpg\n</code></pre>\n<p>I tried to find the correct URL of the image and I found this one:</p>\n<pre><code>/some/url/Some%20special%20Characters%3B_63414.jpg\n</code></pre>\n<p>It looks like URLEncoder is not encoding spaces correctly while URLEscapers does not encode the semicolon. Other special characters like ! or , work without any problems.</p>\n<p>How can I encode my URL correctly?</p>\n"},{"tags":["java","process","cross-platform"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1633337892,"post_id":69433331,"comment_id":122723416,"body_markdown":"To be cross-platform, you would have to create the `Process` (hint: that&#39;s a class name) yourself and then call its termination method","body":"To be cross-platform, you would have to create the <code>Process</code> (hint: that&#39;s a class name) yourself and then call its termination method"}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633337845,"creation_date":1633337845,"answer_id":69433372,"question_id":69433331,"body_markdown":"Since Java 9 there&#39;s [`ProcessHandle`][1] which allows interaction with all processes on a system (constrained by system permissions of course).\r\n\r\nSpecifically [`ProcessHandle.of(knownPid)`][2] will return the `ProcessHandle` for a given PID (technically an `Optional` which may be empty if no process was found) and [`destroy`][3] or [`destroyForcibly`][4] will attempt to kill the process.\r\n\r\nI.e.\r\n\r\n```\r\nlong pid = getThePidViaSomeWay();\r\nOptional&lt;ProcessHandle&gt; maybePh = ProcessHandle.of(pid);\r\nProcessHandle ph = maybePh.orElseThrow(); // replace with  your preferred way to handle no process being found.\r\nph.destroy(); //or\r\nph.destroyForcibly(); // if you want to be more &quot;forcible&quot; about it\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ProcessHandle.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ProcessHandle.html#of(long)\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ProcessHandle.html#destroy()\r\n  [4]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ProcessHandle.html#destroyForcibly()","title":"How can I kill a process from a Java application, if I know the PID of this process? I am looking for a cross-platfrom solution","body":"<p>Since Java 9 there's <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ProcessHandle.html\" rel=\"nofollow noreferrer\"><code>ProcessHandle</code></a> which allows interaction with all processes on a system (constrained by system permissions of course).</p>\n<p>Specifically <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ProcessHandle.html#of(long)\" rel=\"nofollow noreferrer\"><code>ProcessHandle.of(knownPid)</code></a> will return the <code>ProcessHandle</code> for a given PID (technically an <code>Optional</code> which may be empty if no process was found) and <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ProcessHandle.html#destroy()\" rel=\"nofollow noreferrer\"><code>destroy</code></a> or <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/ProcessHandle.html#destroyForcibly()\" rel=\"nofollow noreferrer\"><code>destroyForcibly</code></a> will attempt to kill the process.</p>\n<p>I.e.</p>\n<pre><code>long pid = getThePidViaSomeWay();\nOptional&lt;ProcessHandle&gt; maybePh = ProcessHandle.of(pid);\nProcessHandle ph = maybePh.orElseThrow(); // replace with  your preferred way to handle no process being found.\nph.destroy(); //or\nph.destroyForcibly(); // if you want to be more &quot;forcible&quot; about it\n</code></pre>\n"}],"owner":{"account_id":2575293,"reputation":63,"user_id":11786586,"display_name":"user5123481566"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":725,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69433372,"answer_count":1,"score":0,"last_activity_date":1633337845,"creation_date":1633337603,"question_id":69433331,"body_markdown":"I know there are several ways to kill a process from Java, but all of these use some kind of platform-specific code that only works on Windows or Linux.\r\n\r\nIs there a lib I can use where I can just call something like\r\n\r\n    Process.kill(pid);\r\n\r\nOr perhaps there is a method that I can write that handles (almost) all cases of OS?\r\n\r\nAll I want to do is terminate a process, knowing it&#39;s PID already.","title":"How can I kill a process from a Java application, if I know the PID of this process? I am looking for a cross-platfrom solution","body":"<p>I know there are several ways to kill a process from Java, but all of these use some kind of platform-specific code that only works on Windows or Linux.</p>\n<p>Is there a lib I can use where I can just call something like</p>\n<pre><code>Process.kill(pid);\n</code></pre>\n<p>Or perhaps there is a method that I can write that handles (almost) all cases of OS?</p>\n<p>All I want to do is terminate a process, knowing it's PID already.</p>\n"},{"tags":["java","swt","jface"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1507194171,"post_id":42187588,"comment_id":80116159,"body_markdown":"You should create a new question each time you have a question, not completely change old questions.","body":"You should create a new question each time you have a question, not completely change old questions."}],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633337540,"creation_date":1507194998,"answer_id":46581932,"question_id":42187588,"body_markdown":"You can add a viewer filter to the dialog to restrict what is shown.\r\n\r\n    dialog.addFilter(new FileExtensionFilter(&quot;ecore&quot;));\r\n\r\nadds a filter.\r\n\r\nA file extension filter would look something like:\r\n\r\n    public class FileExtensionFilter extends ViewerFilter {\r\n\r\n\t  private String fTargetExtension;\r\n\r\n\t  public FileExtensionFilter(String targetExtension) {\r\n\t\tfTargetExtension = targetExtension;\r\n\t  }\r\n\r\n\t  @Override\r\n\t  public boolean select(Viewer viewer, Object parent, Object element) {\r\n\t\tif (element instanceof IFile) {\r\n\t\t  return ((IFile)element).getName().toLowerCase().endsWith(&quot;.&quot; + fTargetExtension); \r\n\t\t}\r\n\r\n\t\tif (element instanceof IProject &amp;&amp; !((IProject)element).isOpen())\r\n\t\t  return false;\r\n\r\n\t\tif (element instanceof IContainer) { // i.e. IProject, IFolder\r\n\t\t  try {\r\n\t\t\tIResource[] resources = ((IContainer)element).members();\r\n\t\t\tfor (IResource resource : resources) {\r\n\t\t\t  if (select(viewer, parent, resource))\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t  } catch (CoreException e) {\r\n            // Ignore\r\n\t\t  }\r\n\t\t}\r\n\r\n\t\treturn false;  \r\n\t  }\r\n    }\r\n\r\nThis is based on `org.eclipse.pde.internal.ui.util.FileExtensionFilter`\r\n\r\nFor Java 16 and later the `select` method can be simplified use &quot;instanceof type patterns&quot;:\r\n```java\r\n@Override\r\npublic boolean select(Viewer viewer, Object parent, Object element) {\r\n  if (element instanceof IFile file) {\r\n    return file.getName().toLowerCase().endsWith(&quot;.&quot; + fTargetExtension);\r\n  }\r\n\r\n  if (element instanceof IProject project &amp;&amp; !project.isOpen())\r\n    return false;\r\n\r\n  if (element instanceof IContainer container) { // i.e. IProject, IFolder\r\n    try {\r\n      IResource[] resources = container.members();\r\n      for (IResource resource : resources) {\r\n        if (select(viewer, parent, resource))\r\n          return true;\r\n      }\r\n    } catch (final CoreException e) {\r\n      // Ignore\r\n    }\r\n  }\r\n\r\n  return false;\r\n}\r\n```","title":"restrict the ElementTreeSelectionDialog","body":"<p>You can add a viewer filter to the dialog to restrict what is shown.</p>\n<pre><code>dialog.addFilter(new FileExtensionFilter(&quot;ecore&quot;));\n</code></pre>\n<p>adds a filter.</p>\n<p>A file extension filter would look something like:</p>\n<pre><code>public class FileExtensionFilter extends ViewerFilter {\n\n  private String fTargetExtension;\n\n  public FileExtensionFilter(String targetExtension) {\n    fTargetExtension = targetExtension;\n  }\n\n  @Override\n  public boolean select(Viewer viewer, Object parent, Object element) {\n    if (element instanceof IFile) {\n      return ((IFile)element).getName().toLowerCase().endsWith(&quot;.&quot; + fTargetExtension); \n    }\n\n    if (element instanceof IProject &amp;&amp; !((IProject)element).isOpen())\n      return false;\n\n    if (element instanceof IContainer) { // i.e. IProject, IFolder\n      try {\n        IResource[] resources = ((IContainer)element).members();\n        for (IResource resource : resources) {\n          if (select(viewer, parent, resource))\n            return true;\n        }\n      } catch (CoreException e) {\n        // Ignore\n      }\n    }\n\n    return false;  \n  }\n}\n</code></pre>\n<p>This is based on <code>org.eclipse.pde.internal.ui.util.FileExtensionFilter</code></p>\n<p>For Java 16 and later the <code>select</code> method can be simplified use &quot;instanceof type patterns&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic boolean select(Viewer viewer, Object parent, Object element) {\n  if (element instanceof IFile file) {\n    return file.getName().toLowerCase().endsWith(&quot;.&quot; + fTargetExtension);\n  }\n\n  if (element instanceof IProject project &amp;&amp; !project.isOpen())\n    return false;\n\n  if (element instanceof IContainer container) { // i.e. IProject, IFolder\n    try {\n      IResource[] resources = container.members();\n      for (IResource resource : resources) {\n        if (select(viewer, parent, resource))\n          return true;\n      }\n    } catch (final CoreException e) {\n      // Ignore\n    }\n  }\n\n  return false;\n}\n</code></pre>\n"}],"owner":{"account_id":8618059,"reputation":335,"user_id":6454129,"accept_rate":74,"display_name":"any"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46581932,"answer_count":1,"score":1,"last_activity_date":1633337540,"creation_date":1486902899,"question_id":42187588,"body_markdown":"I wanna to implement `Workspace Browse`. I write the below code.\r\n\r\n    ElementTreeSelectionDialog dialog = new ElementTreeSelectionDialog(\r\n                Display.getDefault().getActiveShell(),\r\n                new WorkbenchLabelProvider(),\r\n                new BaseWorkbenchContentProvider());\r\n\r\n    dialog.setInput(ResourcesPlugin.getWorkspace().getRoot());\r\n    dialog.open();\r\n\t\r\nHow can I change the code to only root elements (projects or folders) that contains &quot;.ecore&quot; file shown? And when the user collapse any root elements only `.ecore` files shown?","title":"restrict the ElementTreeSelectionDialog","body":"<p>I wanna to implement <code>Workspace Browse</code>. I write the below code.</p>\n\n<pre><code>ElementTreeSelectionDialog dialog = new ElementTreeSelectionDialog(\n            Display.getDefault().getActiveShell(),\n            new WorkbenchLabelProvider(),\n            new BaseWorkbenchContentProvider());\n\ndialog.setInput(ResourcesPlugin.getWorkspace().getRoot());\ndialog.open();\n</code></pre>\n\n<p>How can I change the code to only root elements (projects or folders) that contains \".ecore\" file shown? And when the user collapse any root elements only <code>.ecore</code> files shown?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1633339014,"post_id":69433318,"comment_id":122723851,"body_markdown":"Not an expert here, but guessing: no such requests ever get PERSISTED. This means: whenever the phone restarts, and previous requests will be lost ... and your app, while starting up will create new ones. Thus I doubt that this manager should be used that way. What problem are you trying to solve this way?","body":"Not an expert here, but guessing: no such requests ever get PERSISTED. This means: whenever the phone restarts, and previous requests will be lost ... and your app, while starting up will create new ones. Thus I doubt that this manager should be used that way. What problem are you trying to solve this way?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1633780220,"post_id":69433318,"comment_id":122854633,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":22904034,"reputation":1,"user_id":17042352,"display_name":"Leo Kana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633337534,"creation_date":1633337534,"question_id":69433318,"body_markdown":"In android development, can a Work Request in WorkManager be delayed for a long period of time such as 1year or 1month","title":"Can Android Work Requests last for a long time","body":"<p>In android development, can a Work Request in WorkManager be delayed for a long period of time such as 1year or 1month</p>\n"},{"tags":["java","stack"],"comments":[{"owner":{"account_id":1483090,"reputation":1771,"user_id":1391965,"accept_rate":80,"display_name":"Erlend"},"score":0,"creation_date":1633335699,"post_id":69432882,"comment_id":122722615,"body_markdown":"Why not use the Java [Stack](https://docs.oracle.com/javase/7/docs/api/java/util/Stack.html) class?","body":"Why not use the Java <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Stack.html\" rel=\"nofollow noreferrer\">Stack</a> class?"},{"owner":{"display_name":"user15082428"},"score":0,"creation_date":1633335848,"post_id":69432882,"comment_id":122722663,"body_markdown":"We are required to implement it on our own for our subject.","body":"We are required to implement it on our own for our subject."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633337405,"creation_date":1633336575,"answer_id":69433126,"question_id":69432882,"body_markdown":"As you use T for both elements on the stack (could have been `Character` for `char`), and result, `String`, it must be assumed you have a `Stack&lt;String&gt;` or so, and thus a `Node&lt;String&gt;`.\r\n\r\n    public String returnItems() {    \r\n        String reversed = &quot;&quot;; // Better a StringBuilder.\r\n        while (top != null) {\r\n            String ch = top.getInfo(); // get the current character\r\n            reversed = reversed + ch;\r\n            top = top.getLink(); // or `pop()` or such.\r\n        }\r\n        return reversed;\r\n    }\r\n\r\nSo: use a concrete type, not T. This means that `returnItems` must _not_ be in the Stack class itself, as palindromes are for character stacks (a Stack usage) only. And I would have expected to see:\r\n\r\n    class Stack&lt;T&gt; {\r\n        T top() { ... }\r\n        boolean isEmpty() { ... }\r\n        T pop() { ... }\r\n        void push(T item) { ... }\r\n    }\r\n\r\n    Stack&lt;Character&gt; charStack = new Stack&lt;&gt;();\r\n\r\n    public String returnItems() {    \r\n        String reversed = &quot;&quot;; // Better a StringBuilder.\r\n        while (!charStack.isEmpty()) {\r\n            char ch = charStack.pop(); // get the current character\r\n            reversed += ch;\r\n        }\r\n        return reversed;\r\n    }\r\n","title":"How to append stacked character values","body":"<p>As you use T for both elements on the stack (could have been <code>Character</code> for <code>char</code>), and result, <code>String</code>, it must be assumed you have a <code>Stack&lt;String&gt;</code> or so, and thus a <code>Node&lt;String&gt;</code>.</p>\n<pre><code>public String returnItems() {    \n    String reversed = &quot;&quot;; // Better a StringBuilder.\n    while (top != null) {\n        String ch = top.getInfo(); // get the current character\n        reversed = reversed + ch;\n        top = top.getLink(); // or `pop()` or such.\n    }\n    return reversed;\n}\n</code></pre>\n<p>So: use a concrete type, not T. This means that <code>returnItems</code> must <em>not</em> be in the Stack class itself, as palindromes are for character stacks (a Stack usage) only. And I would have expected to see:</p>\n<pre><code>class Stack&lt;T&gt; {\n    T top() { ... }\n    boolean isEmpty() { ... }\n    T pop() { ... }\n    void push(T item) { ... }\n}\n\nStack&lt;Character&gt; charStack = new Stack&lt;&gt;();\n\npublic String returnItems() {    \n    String reversed = &quot;&quot;; // Better a StringBuilder.\n    while (!charStack.isEmpty()) {\n        char ch = charStack.pop(); // get the current character\n        reversed += ch;\n    }\n    return reversed;\n}\n</code></pre>\n"}],"owner":{"display_name":"user15082428"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69433126,"answer_count":1,"score":0,"last_activity_date":1633337405,"creation_date":1633335376,"question_id":69432882,"body_markdown":"I need help with appending the pushed elements in a stack. I want the returnItems method below to return the pushed elements onto the stack which will be used to comapare to the string below if it&#39;s a palindrome.\r\n\r\nEach character of this string is pushed on to the stack: abcdef\r\n\r\nHere&#39;s the returnItems method. How do I modify the bolded part in order to get the return value (for example: fedcba from the example above):\r\n\r\n    public T returnItems() {\r\n        Node&lt;T&gt; temp = top;\r\n        T value = null;\r\n\r\n        if (top == null) { // checks if stack is empty\r\n            System.out.println(&quot;Stack is empty&quot;);\r\n            value = null;\r\n        }\r\n\r\n        System.out.println(&quot;Elements: &quot;);\r\n        while (temp.getInfo() != null) {\r\n            value = temp.getInfo(); // get the current character\r\n\r\n            // How do I append the characters that the value variable temporarily holds\r\n            // for each loop\r\n            ***value = (T) (value + &quot; &quot;  + temp.getLink());*** // append it to the current character\r\n\r\n            if (temp.getLink() == null) { // if the next link is null, the loop will break\r\n                break;\r\n            }\r\n\r\n            temp = temp.getLink(); // else, get the next link\r\n        }\r\n        return value;\r\n    }","title":"How to append stacked character values","body":"<p>I need help with appending the pushed elements in a stack. I want the returnItems method below to return the pushed elements onto the stack which will be used to comapare to the string below if it's a palindrome.</p>\n<p>Each character of this string is pushed on to the stack: abcdef</p>\n<p>Here's the returnItems method. How do I modify the bolded part in order to get the return value (for example: fedcba from the example above):</p>\n<pre><code>public T returnItems() {\n    Node&lt;T&gt; temp = top;\n    T value = null;\n\n    if (top == null) { // checks if stack is empty\n        System.out.println(&quot;Stack is empty&quot;);\n        value = null;\n    }\n\n    System.out.println(&quot;Elements: &quot;);\n    while (temp.getInfo() != null) {\n        value = temp.getInfo(); // get the current character\n\n        // How do I append the characters that the value variable temporarily holds\n        // for each loop\n        ***value = (T) (value + &quot; &quot;  + temp.getLink());*** // append it to the current character\n\n        if (temp.getLink() == null) { // if the next link is null, the loop will break\n            break;\n        }\n\n        temp = temp.getLink(); // else, get the next link\n    }\n    return value;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","async-await","deferred-result"],"answers":[{"tags":[],"owner":{"account_id":5862834,"reputation":3736,"user_id":6066470,"display_name":"Nick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633337173,"creation_date":1633337173,"answer_id":69433245,"question_id":52331100,"body_markdown":"You can use `CountDownLatch` for synchronize. Example: \r\n\r\n    public class Main {\r\n        public static void main(String[] args) throws InterruptedException {\r\n            System.out.println(1);\r\n    \r\n            CountDownLatch latch = new CountDownLatch(1);\r\n            getResult()\r\n                    .setResultHandler(result -&gt; {\r\n                        System.out.println(2 + &quot; &quot; + result);\r\n                        latch.countDown();\r\n                    });\r\n    \r\n            latch.await();\r\n            System.out.println(3);\r\n        }\r\n    \r\n        public static DeferredResult&lt;String&gt; getResult() {\r\n            DeferredResult&lt;String&gt; result = new DeferredResult&lt;&gt;();\r\n            \r\n            new Thread(() -&gt; {\r\n                try {\r\n                    Thread.sleep(1000);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                result.setResult(&quot;Hello&quot;);\r\n            })\r\n                    .start();\r\n            return result;\r\n        }\r\n    }","title":"Wait for method which return DeferredResult","body":"<p>You can use <code>CountDownLatch</code> for synchronize. Example:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) throws InterruptedException {\n        System.out.println(1);\n\n        CountDownLatch latch = new CountDownLatch(1);\n        getResult()\n                .setResultHandler(result -&gt; {\n                    System.out.println(2 + &quot; &quot; + result);\n                    latch.countDown();\n                });\n\n        latch.await();\n        System.out.println(3);\n    }\n\n    public static DeferredResult&lt;String&gt; getResult() {\n        DeferredResult&lt;String&gt; result = new DeferredResult&lt;&gt;();\n        \n        new Thread(() -&gt; {\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            result.setResult(&quot;Hello&quot;);\n        })\n                .start();\n        return result;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8622016,"reputation":4801,"user_id":6456586,"accept_rate":63,"display_name":"Denis Stephanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633337173,"creation_date":1536924738,"question_id":52331100,"body_markdown":"I have service method which return `DefferedResult&lt;Foo&gt;` in few seconds, but I need my code will wait until that method finish and return deferred result with set result.\r\n\r\nHere is sample code:\r\n\r\n    @Service\r\n    public class FooService {\r\n       // ...\r\n       public DeferredResult&lt;Foo&gt; fetchFoo(long id) throws InterruptedException {\r\n           DeferredResult&lt;Foo&gt; fooDeferredResult = new DeferredResult&lt;&gt;();\r\n           concurrentMap.put(id, fooDeferredResult);\r\n           return fooDeferredResult;\r\n       }\r\n\r\n       // this you can figure out as some handler or scheduler which receive messages and is called\r\n       public void anotherMethod(Foo foo) {\r\n           DeferredResult&lt;Foo&gt; remove = concurrentMap.remove(foo.getId());\r\n           remove.setResult(foo);\r\n       }\r\n       // ...\r\n    }\r\n\r\nand I want call it in another service:\r\n\r\n    @Service\r\n    public class AnotherService {\r\n    \r\n        @Autowired\r\n        FooService fooService;\r\n        \r\n        public Foo bar(long id) {\r\n            // some logic\r\n            Foo foo = fooService.fetchFoo(id).getResult();\r\n            // another logic which depends on received foo\r\n            // there I need wait for result of fetchFoo method\r\n    \r\n            return foo;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nCan you tell me please how to ensure this behaviour? Thank you in advice.","title":"Wait for method which return DeferredResult","body":"<p>I have service method which return <code>DefferedResult&lt;Foo&gt;</code> in few seconds, but I need my code will wait until that method finish and return deferred result with set result.</p>\n\n<p>Here is sample code:</p>\n\n<pre><code>@Service\npublic class FooService {\n   // ...\n   public DeferredResult&lt;Foo&gt; fetchFoo(long id) throws InterruptedException {\n       DeferredResult&lt;Foo&gt; fooDeferredResult = new DeferredResult&lt;&gt;();\n       concurrentMap.put(id, fooDeferredResult);\n       return fooDeferredResult;\n   }\n\n   // this you can figure out as some handler or scheduler which receive messages and is called\n   public void anotherMethod(Foo foo) {\n       DeferredResult&lt;Foo&gt; remove = concurrentMap.remove(foo.getId());\n       remove.setResult(foo);\n   }\n   // ...\n}\n</code></pre>\n\n<p>and I want call it in another service:</p>\n\n<pre><code>@Service\npublic class AnotherService {\n\n    @Autowired\n    FooService fooService;\n\n    public Foo bar(long id) {\n        // some logic\n        Foo foo = fooService.fetchFoo(id).getResult();\n        // another logic which depends on received foo\n        // there I need wait for result of fetchFoo method\n\n        return foo;\n    }\n\n}\n</code></pre>\n\n<p>Can you tell me please how to ensure this behaviour? Thank you in advice.</p>\n"},{"tags":["java","string","performance","string-concatenation"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":8,"creation_date":1633336668,"post_id":69433075,"comment_id":122722936,"body_markdown":"`StringBuilder` is not always faster than `+`, you misheard or misunderstood the suggestion. The issue is that if you use `+`  inside of a loop to concatenate over and over again then it can be way more inefficient using a `StringBuilder` correctly. But if all you do is concatenate 3 values without any looping around it, then `&quot;foo&quot; + x + &quot;bar&quot;` is just fine. Have you profiled your code to verify if the string concatenation is actually the problem here?","body":"<code>StringBuilder</code> is not always faster than <code>+</code>, you misheard or misunderstood the suggestion. The issue is that if you use <code>+</code>  inside of a loop to concatenate over and over again then it can be way more inefficient using a <code>StringBuilder</code> correctly. But if all you do is concatenate 3 values without any looping around it, then <code>&quot;foo&quot; + x + &quot;bar&quot;</code> is just fine. Have you profiled your code to verify if the string concatenation is actually the problem here?"},{"owner":{"account_id":6157899,"reputation":19801,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":0,"creation_date":1633336925,"post_id":69433075,"comment_id":122723052,"body_markdown":"You will probably have more overhead from `StringBuilder` than normal concatenation unless you are doing this concatenation *multiple* times for 1 *request*.","body":"You will probably have more overhead from <code>StringBuilder</code> than normal concatenation unless you are doing this concatenation <i>multiple</i> times for 1 <i>request</i>."},{"owner":{"account_id":6781763,"reputation":3428,"user_id":5267751,"display_name":"user202729"},"score":1,"creation_date":1633336944,"post_id":69433075,"comment_id":122723061,"body_markdown":"1000 requests per second doesn&#39;t sound like a ridiculously large amount, actually. Benchmark first.","body":"1000 requests per second doesn&#39;t sound like a ridiculously large amount, actually. Benchmark first."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":6,"creation_date":1633336970,"post_id":69433075,"comment_id":122723071,"body_markdown":"I&#39;ll be honest with you: a lot of your arguments are wrong/misleading and sound exactly like they often sound when made by people who don&#39;t really understand performance of Java programs and what does or does not affect them. You really, really should actually **profile** your code in realistic load scenarios to verify what costs the most time in your code. My gut feeling tells me it&#39;s not the string concatenation, but gut feelings are very dangerous things in these areas, so don&#39;t trust them (not mine and not yours).","body":"I&#39;ll be honest with you: a lot of your arguments are wrong/misleading and sound exactly like they often sound when made by people who don&#39;t really understand performance of Java programs and what does or does not affect them. You really, really should actually <b>profile</b> your code in realistic load scenarios to verify what costs the most time in your code. My gut feeling tells me it&#39;s not the string concatenation, but gut feelings are very dangerous things in these areas, so don&#39;t trust them (not mine and not yours)."},{"owner":{"account_id":341492,"reputation":1861,"user_id":672135,"accept_rate":88,"display_name":"HectorLector"},"score":0,"creation_date":1633341640,"post_id":69433075,"comment_id":122724948,"body_markdown":"Are there any known limiting factors regarding the strings? Max size, always the same size, only ASCII?","body":"Are there any known limiting factors regarding the strings? Max size, always the same size, only ASCII?"}],"answers":[{"tags":[],"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633336933,"creation_date":1633336933,"answer_id":69433190,"question_id":69433075,"body_markdown":"&gt; I know that in general `StringBuilder` has much better performance than `+` operator\r\n\r\nThat is not exactly true. In fact, when you use the `+` operator, the Java compiler will convert that into using `StringBuilder` in the compiled code.\r\n\r\nThe issue is the following. Look at the following code:\r\n\r\n    String[] names = {&quot;Joe&quot;, &quot;Susan&quot;, &quot;Fred&quot;, &quot;Mary&quot;};\r\n\r\n    String result = &quot;&quot;;\r\n    for (String name : names) {\r\n        result = result + name;\r\n    }\r\n\r\nEvery time you use the `+` operator, the Java compiler will create a `StringBuilder` to perform that operation. The compiler converts the above into something like this:\r\n\r\n    for (String name : names) {\r\n        StringBuilder sb = new StringBuilder(result);\r\n        sb.append(name);\r\n        result = sb.toString();\r\n    }\r\n\r\nNote that this is very inefficient code. In each iteration of the loop, a new `StringBuilder` object is created. The data contained in the string `result` is copied into that `StringBuilder`. Then the next name is appended to it, and then the data in the `StringBuilder` is copied into a new `String` which is assigned to `result`. There is a lot of unnecessary copying going on.\r\n\r\nYou can write much more efficient code by using `StringBuilder` directly:\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    for (String name : names) {\r\n        sb.append(name);\r\n    }\r\n    String result = sb.toString();\r\n\r\nThis way, only one `StringBuilder` object is created and data is not being copied into it and into a `String` in each iteration in the loop.\r\n\r\nIf your code does not involve appending many strings in a loop, and you just have to concatenate three strings, then it does not matter if you use `+` or a `StringBuilder` explicitly. In fact, the code written with `+` would be compiled into exactly the same as what you would write when you would use `StringBuilder` manually.","title":"The most efficient way o 3 Strings concatenation in java 8","body":"<blockquote>\n<p>I know that in general <code>StringBuilder</code> has much better performance than <code>+</code> operator</p>\n</blockquote>\n<p>That is not exactly true. In fact, when you use the <code>+</code> operator, the Java compiler will convert that into using <code>StringBuilder</code> in the compiled code.</p>\n<p>The issue is the following. Look at the following code:</p>\n<pre><code>String[] names = {&quot;Joe&quot;, &quot;Susan&quot;, &quot;Fred&quot;, &quot;Mary&quot;};\n\nString result = &quot;&quot;;\nfor (String name : names) {\n    result = result + name;\n}\n</code></pre>\n<p>Every time you use the <code>+</code> operator, the Java compiler will create a <code>StringBuilder</code> to perform that operation. The compiler converts the above into something like this:</p>\n<pre><code>for (String name : names) {\n    StringBuilder sb = new StringBuilder(result);\n    sb.append(name);\n    result = sb.toString();\n}\n</code></pre>\n<p>Note that this is very inefficient code. In each iteration of the loop, a new <code>StringBuilder</code> object is created. The data contained in the string <code>result</code> is copied into that <code>StringBuilder</code>. Then the next name is appended to it, and then the data in the <code>StringBuilder</code> is copied into a new <code>String</code> which is assigned to <code>result</code>. There is a lot of unnecessary copying going on.</p>\n<p>You can write much more efficient code by using <code>StringBuilder</code> directly:</p>\n<pre><code>StringBuilder sb = new StringBuilder();\nfor (String name : names) {\n    sb.append(name);\n}\nString result = sb.toString();\n</code></pre>\n<p>This way, only one <code>StringBuilder</code> object is created and data is not being copied into it and into a <code>String</code> in each iteration in the loop.</p>\n<p>If your code does not involve appending many strings in a loop, and you just have to concatenate three strings, then it does not matter if you use <code>+</code> or a <code>StringBuilder</code> explicitly. In fact, the code written with <code>+</code> would be compiled into exactly the same as what you would write when you would use <code>StringBuilder</code> manually.</p>\n"}],"owner":{"account_id":21380977,"reputation":19,"user_id":15746907,"display_name":"amper"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1685,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1633366906,"answer_count":1,"score":1,"last_activity_date":1633336933,"creation_date":1633336384,"question_id":69433075,"body_markdown":"I have a multithreaded Http server in Java 8\r\nwhich gets thousands of requests per second and has to create responses which require *String concatenation*. What is the best (fastest) solution to this problem?\r\n\r\nI know that in general `StringBuilder` has much better performance than `+` operator and I thought StringBuilder will be the best solution but in this case I would have to initialize new StringBuilder for each request.\r\n\r\nMoreover, in my problem concatenation always require 3 strings - two of them are final and the middle one is a variable. The variable can take values from the set of *~20* different elements. So the number of possible concatenated strings equals *20 x number_of_different_strings* which is about *2000*. \r\n\r\nIs it better to use StringBuilder or just concatenate Strings (the number will not exceed 2k different strings) or maybe its better to store all created Strings (about 2k) in map and ask for specific one each time?","title":"The most efficient way o 3 Strings concatenation in java 8","body":"<p>I have a multithreaded Http server in Java 8\nwhich gets thousands of requests per second and has to create responses which require <em>String concatenation</em>. What is the best (fastest) solution to this problem?</p>\n<p>I know that in general <code>StringBuilder</code> has much better performance than <code>+</code> operator and I thought StringBuilder will be the best solution but in this case I would have to initialize new StringBuilder for each request.</p>\n<p>Moreover, in my problem concatenation always require 3 strings - two of them are final and the middle one is a variable. The variable can take values from the set of <em>~20</em> different elements. So the number of possible concatenated strings equals <em>20 x number_of_different_strings</em> which is about <em>2000</em>.</p>\n<p>Is it better to use StringBuilder or just concatenate Strings (the number will not exceed 2k different strings) or maybe its better to store all created Strings (about 2k) in map and ask for specific one each time?</p>\n"},{"tags":["java","multithreading","asynchronous"],"comments":[{"owner":{"account_id":6640938,"reputation":451,"user_id":5126654,"display_name":"Stephan Stahlmann"},"score":0,"creation_date":1633328540,"post_id":69431623,"comment_id":122720390,"body_markdown":"Where is the second request? Are you running the given code inside a loop?","body":"Where is the second request? Are you running the given code inside a loop?"},{"owner":{"account_id":9173276,"reputation":608,"user_id":6819920,"display_name":"PiNaKa30"},"score":0,"creation_date":1633331373,"post_id":69431623,"comment_id":122721224,"body_markdown":"@StephanStahlmann I am calling the method in a loop.","body":"@StephanStahlmann I am calling the method in a loop."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1633338067,"post_id":69431623,"comment_id":122723490,"body_markdown":"Your title expresses the opposite of your question. You *want* Java not to wait, and you haven&#39;t (yet) found the APIs that will let you do that.","body":"Your title expresses the opposite of your question. You <i>want</i> Java not to wait, and you haven&#39;t (yet) found the APIs that will let you do that."}],"answers":[{"tags":[],"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633331739,"creation_date":1633331739,"answer_id":69432177,"question_id":69431623,"body_markdown":"You could probably use a `CompletableFuture` to supply the asynchronous tasks to the `ExecutorService`: \r\n\r\n        CompletableFuture&lt;String&gt; future = CompletableFuture.supplyAsync(() -&gt; &quot;foo&quot;, Executors.newSingleThreadExecutor());\r\n        future.thenAccept(s -&gt; System.out.println(&quot;done: &quot; + s));\r\n\r\n`CompletableFuture` has multiple `then...` methods for chaining follow up actions on completion. ","title":"Java doesn&#39;t wait for asynchronous call response","body":"<p>You could probably use a <code>CompletableFuture</code> to supply the asynchronous tasks to the <code>ExecutorService</code>:</p>\n<pre><code>    CompletableFuture&lt;String&gt; future = CompletableFuture.supplyAsync(() -&gt; &quot;foo&quot;, Executors.newSingleThreadExecutor());\n    future.thenAccept(s -&gt; System.out.println(&quot;done: &quot; + s));\n</code></pre>\n<p><code>CompletableFuture</code> has multiple <code>then...</code> methods for chaining follow up actions on completion.</p>\n"},{"tags":[],"owner":{"account_id":6640938,"reputation":451,"user_id":5126654,"display_name":"Stephan Stahlmann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633333394,"creation_date":1633333394,"answer_id":69432497,"question_id":69431623,"body_markdown":"You need to add the futures in a collection and then at the end call join/get.\r\n\r\n    Collection&lt;Future&lt;Object&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n    // schedule calls independantly\r\n    for(Request vo: requests) {\r\n       futures.add(executor.submit(new TransportService(requestVO)));\r\n    }\r\n    // actually handle result\r\n    for(Future&lt;Object&gt; future: futures) {\r\n       Object response = future.get(5, TimeUnit.SECONDS);\r\n    }\r\n\r\nIn this case you will be scheduling up to five jobs.\r\n   ","title":"Java doesn&#39;t wait for asynchronous call response","body":"<p>You need to add the futures in a collection and then at the end call join/get.</p>\n<pre><code>Collection&lt;Future&lt;Object&gt;&gt; futures = new ArrayList&lt;&gt;();\n// schedule calls independantly\nfor(Request vo: requests) {\n   futures.add(executor.submit(new TransportService(requestVO)));\n}\n// actually handle result\nfor(Future&lt;Object&gt; future: futures) {\n   Object response = future.get(5, TimeUnit.SECONDS);\n}\n</code></pre>\n<p>In this case you will be scheduling up to five jobs.</p>\n"}],"owner":{"account_id":9173276,"reputation":608,"user_id":6819920,"display_name":"PiNaKa30"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":777,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1633336738,"creation_date":1633328222,"question_id":69431623,"body_markdown":"I am using `ExecutorService` in Java to create a pool of threads, where each thread performs some asynchronous task/call to another service. I don&#39;t want to wait for the response, but return the response whenever it arrives.  \r\n\r\n    ExecutorService executor = Executors.newFixedThreadPool(5);  // Class var\r\n    \r\n    // Method\r\n    Future&lt;Object&gt; future = executor.submit(new TransportService(requestVO));\r\n    Object response = future.get(5, TimeUnit.SECONDS);  // blocking  \r\n\r\nDoing something like this will wait for the first request to complete, and will then return the result. The problem is that the second request has to wait for the response of first request to come back, and is only processed after that. Same thing happens if I use CompletableFuture&#39;s `supplyAsync()` method because there also I have to use `join()` to fetch response.   \r\n \r\nI want all the requests to go through and return the responses whenever they arrive. Is this achievable? The flow still needs to be synchronous.\r\n\r\n\r\n","title":"Java doesn&#39;t wait for asynchronous call response","body":"<p>I am using <code>ExecutorService</code> in Java to create a pool of threads, where each thread performs some asynchronous task/call to another service. I don't want to wait for the response, but return the response whenever it arrives.</p>\n<pre><code>ExecutorService executor = Executors.newFixedThreadPool(5);  // Class var\n\n// Method\nFuture&lt;Object&gt; future = executor.submit(new TransportService(requestVO));\nObject response = future.get(5, TimeUnit.SECONDS);  // blocking  \n</code></pre>\n<p>Doing something like this will wait for the first request to complete, and will then return the result. The problem is that the second request has to wait for the response of first request to come back, and is only processed after that. Same thing happens if I use CompletableFuture's <code>supplyAsync()</code> method because there also I have to use <code>join()</code> to fetch response.</p>\n<p>I want all the requests to go through and return the responses whenever they arrive. Is this achievable? The flow still needs to be synchronous.</p>\n"},{"tags":["java","spring-boot","swagger","swagger-ui"],"comments":[{"owner":{"account_id":39252,"reputation":89812,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1633332508,"post_id":69431380,"comment_id":122721565,"body_markdown":"Please post the actual OpenAPI file generated from your Java code. You can export it as [explained here](https://stackoverflow.com/a/48525934/113116). It looks like the `Player.id` property in your actual OpenAPI file doesn&#39;t have `readOnly` attribute.","body":"Please post the actual OpenAPI file generated from your Java code. You can export it as <a href=\"https://stackoverflow.com/a/48525934/113116\">explained here</a>. It looks like the <code>Player.id</code> property in your actual OpenAPI file doesn&#39;t have <code>readOnly</code> attribute."},{"owner":{"account_id":22320687,"reputation":33,"user_id":16543359,"display_name":"Developer1234567"},"score":0,"creation_date":1633335821,"post_id":69431380,"comment_id":122722656,"body_markdown":"@Helen thank you! Yes, in json there is no readOnly, but what i did wrong? I have posted in question json for Player","body":"@Helen thank you! Yes, in json there is no readOnly, but what i did wrong? I have posted in question json for Player"},{"owner":{"account_id":39252,"reputation":89812,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1633336179,"post_id":69431380,"comment_id":122722758,"body_markdown":"What version of the swagger-core and/or Springfox libraries do you use?","body":"What version of the swagger-core and/or Springfox libraries do you use?"},{"owner":{"account_id":22320687,"reputation":33,"user_id":16543359,"display_name":"Developer1234567"},"score":0,"creation_date":1633336586,"post_id":69431380,"comment_id":122722912,"body_markdown":"@Helen io.springfox:springfox-swagger2:2.9.2,\nio.springfox:springfox-swagger-ui:2.9.2,\nio.swagger.core.v3:swagger-annotations:2.1.6","body":"@Helen io.springfox:springfox-swagger2:2.9.2, io.springfox:springfox-swagger-ui:2.9.2, io.swagger.core.v3:swagger-annotations:2.1.6"},{"owner":{"account_id":22320687,"reputation":33,"user_id":16543359,"display_name":"Developer1234567"},"score":0,"creation_date":1633340433,"post_id":69431380,"comment_id":122724489,"body_markdown":"@Helen Do you think this is because of the version?","body":"@Helen Do you think this is because of the version?"},{"owner":{"account_id":22320687,"reputation":33,"user_id":16543359,"display_name":"Developer1234567"},"score":1,"creation_date":1633415404,"post_id":69431380,"comment_id":122746294,"body_markdown":"@Helen Updated to the latest version and it is not working ((( if I use deprecated readonly property of Schema annotation in UI everything is ok, but I can send POST request with readonly filed and no 400 error is not thrown","body":"@Helen Updated to the latest version and it is not working ((( if I use deprecated readonly property of Schema annotation in UI everything is ok, but I can send POST request with readonly filed and no 400 error is not thrown"}],"owner":{"account_id":22320687,"reputation":33,"user_id":16543359,"display_name":"Developer1234567"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3245,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633336562,"creation_date":1633326368,"question_id":69431380,"body_markdown":"Specification yml file:\r\n\r\n    openapi: 3.0.3\r\n    info:\r\n      version: 0.0.0\r\n      title: Game\r\n    \r\n    paths:\r\n      /players:\r\n        post:\r\n          summary: Create a player\r\n          requestBody:\r\n            required: true\r\n            content:\r\n              application/json:\r\n                schema:\r\n                  $ref: &#39;#/components/schemas/Player&#39;\r\n          responses:\r\n            &#39;201&#39;:\r\n              description: Created\r\n              content:\r\n                application/json:\r\n                  schema:\r\n                    $ref: &#39;#/components/schemas/Player&#39;\r\n    \r\n    components:\r\n      schemas:\r\n        Player:\r\n          type: object\r\n          properties:\r\n            id:\r\n              type: integer\r\n              example: 1\r\n              readOnly: true\r\n            playername:\r\n              type: string\r\n              example: Jack\r\n\r\nModel class:\r\n\r\n    @Validated\r\n    public class Player {\r\n    \r\n      @JsonProperty(value = &quot;id&quot;)\r\n      @Schema(example = &quot;1&quot;, accessMode = Schema.AccessMode.READ_ONLY)\r\n      private Integer id;\r\n    \r\n      @Schema(example = &quot;Jack&quot;)\r\n      @JsonProperty(value = &quot;playername&quot;)\r\n      @NotNull\r\n      private String playername;\r\n\r\nI have POST endpoint in Controller: \r\n\r\n    @Operation(summary = &quot;Create a player&quot;, description = &quot;&quot;, tags={  })\r\n    @ApiResponses(value = {\r\n        @ApiResponse(responseCode = &quot;201&quot;, description = &quot;Created&quot;, content = @Content(mediaType = &quot;application/json&quot;, schema = @Schema(implementation = Player.class))) })\r\n    @RequestMapping(value = &quot;/players&quot;,\r\n        produces = { &quot;application/json&quot; },\r\n        consumes = { &quot;application/json&quot; },\r\n        method = RequestMethod.POST)\r\n    public ResponseEntity&lt;Player&gt; playersPost(\r\n        @Parameter(in = ParameterIn.DEFAULT, description = &quot;&quot;, required = true, schema = @Schema())\r\n        @Valid @RequestBody Player body) {\r\n      String accept = request.getHeader(&quot;Accept&quot;);\r\n      if (accept != null &amp;&amp; accept.contains(&quot;application/json&quot;)) {\r\n        return ResponseEntity.ok(body);\r\n      }\r\n    \r\n      return new ResponseEntity&lt;Player&gt;(HttpStatus.NOT_IMPLEMENTED);\r\n    }\r\n\r\nAccording to documentation [Swagger Doc][1] :\r\nreadOnly properties are included in responses but not in requests\r\n\r\nBut this filed in Swagger UI is included in the request body and I can see it in example sections in Swagger UI of POST request.\r\n\r\nI can send POST request with readonly filed and no exception is thrown. \r\n[Swagger POST img][2]\r\n\r\n\r\nOpenAPI file /api-docs JSON for Player:\r\n   \r\n\r\n     definitions: {\r\n           Player: {\r\n              type: &quot;object&quot;,\r\n              properties: {\r\n                 id: {\r\n                    type: &quot;integer&quot;,\r\n                    format: &quot;int32&quot;,\r\n                 },\r\n                 playername: {\r\n                    type: &quot;string&quot;\r\n                 },\r\n              },\r\n              title: &quot;Player&quot;,\r\n           }\r\n        }\r\n\r\nDependencies:\r\n\r\n    implementation &quot;io.springfox:springfox-swagger2:2.9.2&quot;\r\n    implementation &quot;io.springfox:springfox-swagger-ui:2.9.2&quot;\r\n    implementation &quot;io.swagger.core.v3:swagger-annotations:2.1.6&quot;\r\n\r\n\r\nWhat have I done wrong? Thank you!\r\n\r\n  [1]: https://swagger.io/docs/specification/data-models/data-types/\r\n  [2]: https://i.stack.imgur.com/IzmI3.png\r\n","title":"Swagger readOnly property in POST request","body":"<p>Specification yml file:</p>\n<pre><code>openapi: 3.0.3\ninfo:\n  version: 0.0.0\n  title: Game\n\npaths:\n  /players:\n    post:\n      summary: Create a player\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/Player'\n      responses:\n        '201':\n          description: Created\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/Player'\n\ncomponents:\n  schemas:\n    Player:\n      type: object\n      properties:\n        id:\n          type: integer\n          example: 1\n          readOnly: true\n        playername:\n          type: string\n          example: Jack\n</code></pre>\n<p>Model class:</p>\n<pre><code>@Validated\npublic class Player {\n\n  @JsonProperty(value = &quot;id&quot;)\n  @Schema(example = &quot;1&quot;, accessMode = Schema.AccessMode.READ_ONLY)\n  private Integer id;\n\n  @Schema(example = &quot;Jack&quot;)\n  @JsonProperty(value = &quot;playername&quot;)\n  @NotNull\n  private String playername;\n</code></pre>\n<p>I have POST endpoint in Controller:</p>\n<pre><code>@Operation(summary = &quot;Create a player&quot;, description = &quot;&quot;, tags={  })\n@ApiResponses(value = {\n    @ApiResponse(responseCode = &quot;201&quot;, description = &quot;Created&quot;, content = @Content(mediaType = &quot;application/json&quot;, schema = @Schema(implementation = Player.class))) })\n@RequestMapping(value = &quot;/players&quot;,\n    produces = { &quot;application/json&quot; },\n    consumes = { &quot;application/json&quot; },\n    method = RequestMethod.POST)\npublic ResponseEntity&lt;Player&gt; playersPost(\n    @Parameter(in = ParameterIn.DEFAULT, description = &quot;&quot;, required = true, schema = @Schema())\n    @Valid @RequestBody Player body) {\n  String accept = request.getHeader(&quot;Accept&quot;);\n  if (accept != null &amp;&amp; accept.contains(&quot;application/json&quot;)) {\n    return ResponseEntity.ok(body);\n  }\n\n  return new ResponseEntity&lt;Player&gt;(HttpStatus.NOT_IMPLEMENTED);\n}\n</code></pre>\n<p>According to documentation <a href=\"https://swagger.io/docs/specification/data-models/data-types/\" rel=\"nofollow noreferrer\">Swagger Doc</a> :\nreadOnly properties are included in responses but not in requests</p>\n<p>But this filed in Swagger UI is included in the request body and I can see it in example sections in Swagger UI of POST request.</p>\n<p>I can send POST request with readonly filed and no exception is thrown.\n<a href=\"https://i.stack.imgur.com/IzmI3.png\" rel=\"nofollow noreferrer\">Swagger POST img</a></p>\n<p>OpenAPI file /api-docs JSON for Player:</p>\n<pre><code> definitions: {\n       Player: {\n          type: &quot;object&quot;,\n          properties: {\n             id: {\n                type: &quot;integer&quot;,\n                format: &quot;int32&quot;,\n             },\n             playername: {\n                type: &quot;string&quot;\n             },\n          },\n          title: &quot;Player&quot;,\n       }\n    }\n</code></pre>\n<p>Dependencies:</p>\n<pre><code>implementation &quot;io.springfox:springfox-swagger2:2.9.2&quot;\nimplementation &quot;io.springfox:springfox-swagger-ui:2.9.2&quot;\nimplementation &quot;io.swagger.core.v3:swagger-annotations:2.1.6&quot;\n</code></pre>\n<p>What have I done wrong? Thank you!</p>\n"},{"tags":["java","mysql","spring","querydsl","blaze-persistence"],"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1632468273,"post_id":69286170,"comment_id":122505002,"body_markdown":"What do you mean by &quot;wrong&quot;? What values are you passing in and what values do you get? Also, please post the generated SQL query.","body":"What do you mean by &quot;wrong&quot;? What values are you passing in and what values do you get? Also, please post the generated SQL query."},{"owner":{"account_id":4382488,"reputation":343,"user_id":6666688,"display_name":"java dev"},"score":0,"creation_date":1632470539,"post_id":69286170,"comment_id":122505811,"body_markdown":"Thanx @Christian Beikov for replying.\nI grouped by two fileds &quot;taxName, groupBy&quot; the query that brings data is OK but when investigated the count query I found that it  &quot;select count(distinct taxName)&quot; taxName only without groupBy so exactly getTotalElements() will be wrong.","body":"Thanx @Christian Beikov for replying. I grouped by two fileds &quot;taxName, groupBy&quot; the query that brings data is OK but when investigated the count query I found that it  &quot;select count(distinct taxName)&quot; taxName only without groupBy so exactly getTotalElements() will be wrong."},{"owner":{"account_id":2408521,"reputation":3734,"user_id":2104280,"accept_rate":78,"display_name":"Jan-Willem Gmelig Meyling"},"score":0,"creation_date":1632475051,"post_id":69286170,"comment_id":122507662,"body_markdown":"Could you try `.page(pageNo * pageSize, pageSize)` instead of `offset(pageNo * pageSize).limit(pageSize).fetchResults()`? That uses Blaze-Persistence to generate the pagination instead. I think I might incorrectly pass on the limit and offset to the count query for the `fetchResults` implementation.","body":"Could you try <code>.page(pageNo * pageSize, pageSize)</code> instead of <code>offset(pageNo * pageSize).limit(pageSize).fetchResults()</code>? That uses Blaze-Persistence to generate the pagination instead. I think I might incorrectly pass on the limit and offset to the count query for the <code>fetchResults</code> implementation."},{"owner":{"account_id":4382488,"reputation":343,"user_id":6666688,"display_name":"java dev"},"score":0,"creation_date":1632475283,"post_id":69286170,"comment_id":122507776,"body_markdown":"I already did that and it is similar to the offset and limit no difference. The total rows are not correct and also total pages.\n\nThe difference is count query does not appear.","body":"I already did that and it is similar to the offset and limit no difference. The total rows are not correct and also total pages.  The difference is count query does not appear."},{"owner":{"account_id":2408521,"reputation":3734,"user_id":2104280,"accept_rate":78,"display_name":"Jan-Willem Gmelig Meyling"},"score":0,"creation_date":1632475466,"post_id":69286170,"comment_id":122507859,"body_markdown":"What are the used values for `pageNo` and `pageSize`, and the expected and actual results for `getTotalElements` and `getTotalPages`? Could you also provide the produced query (`BlazeJPAQuery.getQueryString`)? I think these are all the info I need to reproduce and fix the issue.","body":"What are the used values for <code>pageNo</code> and <code>pageSize</code>, and the expected and actual results for <code>getTotalElements</code> and <code>getTotalPages</code>? Could you also provide the produced query (<code>BlazeJPAQuery.getQueryString</code>)? I think these are all the info I need to reproduce and fix the issue."},{"owner":{"account_id":2408521,"reputation":3734,"user_id":2104280,"accept_rate":78,"display_name":"Jan-Willem Gmelig Meyling"},"score":0,"creation_date":1632475717,"post_id":69286170,"comment_id":122507980,"body_markdown":"`.page` was supposed to be `.fetchPage` in my previous answer.","body":"<code>.page</code> was supposed to be <code>.fetchPage</code> in my previous answer."},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1632475920,"post_id":69286170,"comment_id":122508066,"body_markdown":"How is `taxName` defined? I only see `StringPath name` in the code. Maybe that is the issue?","body":"How is <code>taxName</code> defined? I only see <code>StringPath name</code> in the code. Maybe that is the issue?"},{"owner":{"account_id":4382488,"reputation":343,"user_id":6666688,"display_name":"java dev"},"score":0,"creation_date":1632476094,"post_id":69286170,"comment_id":122508134,"body_markdown":"Comment length is limited so it has two parts.\nPart1:- \n-----------\nSELECT min(orderDetails.createdDate), max(orderDetails.createdDate), date_format(orderDetails.createdDate,&#39;%Y-%m&#39;), orderAppliedTax.name, sum(orderAppliedTax.value), COUNT(DISTINCT order_1) FROM OrderAppliedTax orderAppliedTax JOIN OrderDetails orderDetails ON (orderAppliedTax.orderDetails = orderDetails) LEFT JOIN orderDetails.order order_1 GROUP BY orderAppliedTax.name, date_format(orderDetails.createdDate,&#39;%Y-%m&#39;), CASE WHEN date_format(orderDetails.createdDate,&#39;%Y-%m&#39;) IS NULL THEN 1 ELSE 0 END","body":"Comment length is limited so it has two parts. Part1:-  ----------- SELECT min(orderDetails.createdDate), max(orderDetails.createdDate), date_format(orderDetails.createdDate,&#39;%Y-%m&#39;), orderAppliedTax.name, sum(orderAppliedTax.value), COUNT(DISTINCT order_1) FROM OrderAppliedTax orderAppliedTax JOIN OrderDetails orderDetails ON (orderAppliedTax.orderDetails = orderDetails) LEFT JOIN orderDetails.order order_1 GROUP BY orderAppliedTax.name, date_format(orderDetails.createdDate,&#39;%Y-%m&#39;), CASE WHEN date_format(orderDetails.createdDate,&#39;%Y-%m&#39;) IS NULL THEN 1 ELSE 0 END"},{"owner":{"account_id":4382488,"reputation":343,"user_id":6666688,"display_name":"java dev"},"score":0,"creation_date":1632476117,"post_id":69286170,"comment_id":122508141,"body_markdown":"Part2:-\n, CASE WHEN orderAppliedTax.name IS NULL THEN 1 ELSE 0 END ORDER BY CASE WHEN date_format(orderDetails.createdDate,&#39;%Y-%m&#39;) IS NULL THEN 1 ELSE 0 END, date_format(orderDetails.createdDate,&#39;%Y-%m&#39;) ASC, CASE WHEN orderAppliedTax.name IS NULL THEN 1 ELSE 0 END, orderAppliedTax.name ASC","body":"Part2:- , CASE WHEN orderAppliedTax.name IS NULL THEN 1 ELSE 0 END ORDER BY CASE WHEN date_format(orderDetails.createdDate,&#39;%Y-%m&#39;) IS NULL THEN 1 ELSE 0 END, date_format(orderDetails.createdDate,&#39;%Y-%m&#39;) ASC, CASE WHEN orderAppliedTax.name IS NULL THEN 1 ELSE 0 END, orderAppliedTax.name ASC"},{"owner":{"account_id":4382488,"reputation":343,"user_id":6666688,"display_name":"java dev"},"score":0,"creation_date":1632476207,"post_id":69286170,"comment_id":122508181,"body_markdown":"Field ```taxName``` is String datatype but I use QueryDSL with Blaze.","body":"Field <code>taxName</code> is String datatype but I use QueryDSL with Blaze."},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1632476689,"post_id":69286170,"comment_id":122508364,"body_markdown":"The queries look ok so far considering that `taxName` and `groupBy` are nullable. How does the count query look like?","body":"The queries look ok so far considering that <code>taxName</code> and <code>groupBy</code> are nullable. How does the count query look like?"},{"owner":{"account_id":2408521,"reputation":3734,"user_id":2104280,"accept_rate":78,"display_name":"Jan-Willem Gmelig Meyling"},"score":0,"creation_date":1632479834,"post_id":69286170,"comment_id":122509711,"body_markdown":"You can find the count query string through `BlazeJPAQuery.getFullQueryBuilder(null).getCountQueryString()`.","body":"You can find the count query string through <code>BlazeJPAQuery.getFullQueryBuilder(null).getCountQueryString(&zwnj;&#8203;)</code>."},{"owner":{"account_id":2408521,"reputation":3734,"user_id":2104280,"accept_rate":78,"display_name":"Jan-Willem Gmelig Meyling"},"score":0,"creation_date":1632480014,"post_id":69286170,"comment_id":122509778,"body_markdown":"Feel free to join the Blaze-Persistence and Querydsl slack groups if you run into further issues: https://join.slack.com/t/querydsl/shared_invite/zt-r7ufzz6q-zxIHgpOSSMFvoU3YU4SclQ and https://join.slack.com/t/blazebit/shared_invite/zt-wkbkpx28-xA01ZFLM7UXdp9FfttAQ5A","body":"Feel free to join the Blaze-Persistence and Querydsl slack groups if you run into further issues: <a href=\"https://join.slack.com/t/querydsl/shared_invite/zt-r7ufzz6q-zxIHgpOSSMFvoU3YU4SclQ\" rel=\"nofollow noreferrer\">join.slack.com/t/querydsl/shared_invite/&hellip;</a> and <a href=\"https://join.slack.com/t/blazebit/shared_invite/zt-wkbkpx28-xA01ZFLM7UXdp9FfttAQ5A\" rel=\"nofollow noreferrer\">join.slack.com/t/blazebit/shared_invite/&hellip;</a>"},{"owner":{"account_id":4382488,"reputation":343,"user_id":6666688,"display_name":"java dev"},"score":0,"creation_date":1632480083,"post_id":69286170,"comment_id":122509809,"body_markdown":"I can&#39;t found ```getFullQueryBuilder(null)``` method.","body":"I can&#39;t found <code>getFullQueryBuilder(null)</code> method."},{"owner":{"account_id":4382488,"reputation":343,"user_id":6666688,"display_name":"java dev"},"score":0,"creation_date":1632480270,"post_id":69286170,"comment_id":122509889,"body_markdown":"```taxName``` and ```groupBy``` are nullable.\nHow can I test this they never be null?","body":"<code>taxName</code> and <code>groupBy</code> are nullable. How can I test this they never be null?"},{"owner":{"account_id":4382488,"reputation":343,"user_id":6666688,"display_name":"java dev"},"score":0,"creation_date":1632480646,"post_id":69286170,"comment_id":122510040,"body_markdown":"Why when using ```offset``` and ```limit```  generate this query?\nselect count(distinct orderappli0_.name) as col_0_0_ from order_applied_tax orderappli0_ inner join order_details orderdetai1_ on (orderappli0_.order_details_id=orderdetai1_.id).   \nNote that:- \n```count(distinct orderappli0_.name)``` count by name only despite ```groupBy``` name and date","body":"Why when using <code>offset</code> and <code>limit</code>  generate this query? select count(distinct orderappli0_.name) as col_0_0_ from order_applied_tax orderappli0_ inner join order_details orderdetai1_ on (orderappli0_.order_details_id=orderdetai1_.id).    Note that:-  <code>count(distinct orderappli0_.name)</code> count by name only despite <code>groupBy</code> name and date"},{"owner":{"account_id":2408521,"reputation":3734,"user_id":2104280,"accept_rate":78,"display_name":"Jan-Willem Gmelig Meyling"},"score":0,"creation_date":1632482971,"post_id":69286170,"comment_id":122510969,"body_markdown":"It could be because `taxName` is assumed to be unique (for example if its mapped as primary key). If `taxName` is unique and `groupBy` is a property on the same query root, there&#39;s would be no need to consider the additional `groupBy` alias. However, these properties come from different query roots, so I suspect this is a count query generation issue in Blaze-Persistence. I&#39;ll try to create a reproducer there, so we can look into it further. (https://github.com/Blazebit/blaze-persistence/pulls)","body":"It could be because <code>taxName</code> is assumed to be unique (for example if its mapped as primary key). If <code>taxName</code> is unique and <code>groupBy</code> is a property on the same query root, there&#39;s would be no need to consider the additional <code>groupBy</code> alias. However, these properties come from different query roots, so I suspect this is a count query generation issue in Blaze-Persistence. I&#39;ll try to create a reproducer there, so we can look into it further. (<a href=\"https://github.com/Blazebit/blaze-persistence/pulls\" rel=\"nofollow noreferrer\">github.com/Blazebit/blaze-persistence/pulls</a>)"},{"owner":{"account_id":4382488,"reputation":343,"user_id":6666688,"display_name":"java dev"},"score":0,"creation_date":1632483077,"post_id":69286170,"comment_id":122511014,"body_markdown":"No ```taxName```is not unique it is repeatable.","body":"No <code>taxName</code>is not unique it is repeatable."},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":1,"creation_date":1632486693,"post_id":69286170,"comment_id":122512424,"body_markdown":"Ideally, you would mark the columns as &quot;nullable = false&quot; or use `coalesce(.., someConstant)` to avoid these &quot;additional&quot; order by and group by items that handle nullability.","body":"Ideally, you would mark the columns as &quot;nullable = false&quot; or use <code>coalesce(.., someConstant)</code> to avoid these &quot;additional&quot; order by and group by items that handle nullability."}],"answers":[{"tags":[],"owner":{"account_id":2408521,"reputation":3734,"user_id":2104280,"accept_rate":78,"display_name":"Jan-Willem Gmelig Meyling"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633336484,"creation_date":1633336484,"answer_id":69433104,"question_id":69286170,"body_markdown":"This issue turned out to be [a bug](https://github.com/Blazebit/blaze-persistence/issues/1366) which will be resolved in Blaze-Persistence 1.6.3 (expected soon). The patch has already landed in `1.6.3-SNAPSHOT`. ","title":"Wrong result metadata when using pagination with Balze-Persistence","body":"<p>This issue turned out to be <a href=\"https://github.com/Blazebit/blaze-persistence/issues/1366\" rel=\"nofollow noreferrer\">a bug</a> which will be resolved in Blaze-Persistence 1.6.3 (expected soon). The patch has already landed in <code>1.6.3-SNAPSHOT</code>.</p>\n"}],"owner":{"account_id":4382488,"reputation":343,"user_id":6666688,"display_name":"java dev"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633336484,"creation_date":1632320726,"question_id":69286170,"body_markdown":"When I fetch all results without pagination result is OK but when use pagination appear problem in pagination metadata\r\n\r\n```\r\nPage p=PageImpl(result.getResults(), PageRequest.of(pageNo, pageSize), result.getTotal()) \r\np.getTotalElements() // wrong result\r\np.result.getTotalPages() // also is wrong\r\n```\r\ncode snippet:- \r\n```\r\nQOrderAppliedTax qTax = QOrderAppliedTax.orderAppliedTax;\r\n\t\tQOrderDetails qOrderDetails = QOrderDetails.orderDetails;\r\n\r\n\t\tNumberExpression&lt;Integer&gt; groupBy = qOrderDetails.createdDate.yearWeek();\r\n\t\tStringPath name = qTax.name;\r\n\t\tNumberExpression&lt;Double&gt; totalTaxValue = qTax.value.sum();\r\n\t\tNumberExpression&lt;Long&gt; ordersCount = qOrderDetails.order.countDistinct();\r\n\t\tDateTimeExpression&lt;Date&gt; fromDate = qOrderDetails.createdDate.min();\r\n\t\tDateTimeExpression&lt;Date&gt; toDate = qOrderDetails.createdDate.max();\r\n\r\n\t\tCriteriaBuilderFactory cbf = Criteria.getDefault().createCriteriaBuilderFactory(entityManagerFactory);\r\n\r\n\t\tQueryResults&lt;TaxDto&gt; result= new BlazeJPAQuery&lt;&gt;(em, cbf)\r\n\t\t\t\t.select(Projections.constructor(TaxDto.class, fromDate, toDate, groupBy, name, totalTaxValue,\r\n\t\t\t\t\t\tordersCount))\r\n\r\n\t\t\t\t.from(qTax).innerJoin(qOrderDetails).on(qTax.orderDetails.eq(qOrderDetails))\r\n\r\n\t\t\t\t.groupBy(taxName, groupBy).offset(pageNo * pageSize).limit(pageSize).fetchResults();\r\n```\r\n\r\nthe wrong result appears even I used \r\n```\r\norderBy(groupBy.asc(), taxName.asc())\r\n```\r\nexactly the two fields in order by is unique together.","title":"Wrong result metadata when using pagination with Balze-Persistence","body":"<p>When I fetch all results without pagination result is OK but when use pagination appear problem in pagination metadata</p>\n<pre><code>Page p=PageImpl(result.getResults(), PageRequest.of(pageNo, pageSize), result.getTotal()) \np.getTotalElements() // wrong result\np.result.getTotalPages() // also is wrong\n</code></pre>\n<p>code snippet:-</p>\n<pre><code>QOrderAppliedTax qTax = QOrderAppliedTax.orderAppliedTax;\n        QOrderDetails qOrderDetails = QOrderDetails.orderDetails;\n\n        NumberExpression&lt;Integer&gt; groupBy = qOrderDetails.createdDate.yearWeek();\n        StringPath name = qTax.name;\n        NumberExpression&lt;Double&gt; totalTaxValue = qTax.value.sum();\n        NumberExpression&lt;Long&gt; ordersCount = qOrderDetails.order.countDistinct();\n        DateTimeExpression&lt;Date&gt; fromDate = qOrderDetails.createdDate.min();\n        DateTimeExpression&lt;Date&gt; toDate = qOrderDetails.createdDate.max();\n\n        CriteriaBuilderFactory cbf = Criteria.getDefault().createCriteriaBuilderFactory(entityManagerFactory);\n\n        QueryResults&lt;TaxDto&gt; result= new BlazeJPAQuery&lt;&gt;(em, cbf)\n                .select(Projections.constructor(TaxDto.class, fromDate, toDate, groupBy, name, totalTaxValue,\n                        ordersCount))\n\n                .from(qTax).innerJoin(qOrderDetails).on(qTax.orderDetails.eq(qOrderDetails))\n\n                .groupBy(taxName, groupBy).offset(pageNo * pageSize).limit(pageSize).fetchResults();\n</code></pre>\n<p>the wrong result appears even I used</p>\n<pre><code>orderBy(groupBy.asc(), taxName.asc())\n</code></pre>\n<p>exactly the two fields in order by is unique together.</p>\n"},{"tags":["java","multipartform-data","apache-httpclient-4.x"],"comments":[{"owner":{"display_name":"user1499731"},"score":3,"creation_date":1356736362,"post_id":2304663,"comment_id":19462823,"body_markdown":"Thanks for asking the sort of question directly related to web-app debugging... I found this in Firebug and until now didn&#39;t know how to write a query to emulate it!","body":"Thanks for asking the sort of question directly related to web-app debugging... I found this in Firebug and until now didn&#39;t know how to write a query to emulate it!"}],"answers":[{"tags":[],"owner":{"account_id":147891,"reputation":1585,"user_id":359316,"accept_rate":75,"display_name":"mtomy"},"down_vote_count":1,"up_vote_count":117,"is_accepted":true,"score":116,"last_activity_date":1633336425,"creation_date":1275759984,"answer_id":2981395,"question_id":2304663,"body_markdown":"Use MultipartEntityBuilder from the [HttpMime library][1] to perform the request you want. \r\n\r\nIn my project I do that this way:\r\n\r\n    HttpEntity entity = MultipartEntityBuilder\r\n        .create()\r\n        .addTextBody(&quot;number&quot;, &quot;5555555555&quot;)\r\n        .addTextBody(&quot;clip&quot;, &quot;rickroll&quot;)\r\n        .addBinaryBody(&quot;upload_file&quot;, new File(filePath), ContentType.APPLICATION_OCTET_STREAM, &quot;filename&quot;)\r\n        .addTextBody(&quot;tos&quot;, &quot;agree&quot;)\r\n        .build();\r\n    \r\n    HttpPost httpPost = new HttpPost(&quot;http://some-web-site&quot;);\r\n    httpPost.setEntity(entity);\r\n    HttpResponse response = httpClient.execute(httpPost);\r\n    HttpEntity result = response.getEntity();\r\n\r\nHope this will help.\r\n\r\n(Updated this post to use MultipartEntityBuilder instead of deprecated MultipartEntity, using @mtomy code as the example)\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.httpcomponents/httpmime/4.5.3","title":"Apache HttpClient making multipart form post","body":"<p>Use MultipartEntityBuilder from the <a href=\"https://mvnrepository.com/artifact/org.apache.httpcomponents/httpmime/4.5.3\" rel=\"noreferrer\">HttpMime library</a> to perform the request you want.</p>\n<p>In my project I do that this way:</p>\n<pre><code>HttpEntity entity = MultipartEntityBuilder\n    .create()\n    .addTextBody(&quot;number&quot;, &quot;5555555555&quot;)\n    .addTextBody(&quot;clip&quot;, &quot;rickroll&quot;)\n    .addBinaryBody(&quot;upload_file&quot;, new File(filePath), ContentType.APPLICATION_OCTET_STREAM, &quot;filename&quot;)\n    .addTextBody(&quot;tos&quot;, &quot;agree&quot;)\n    .build();\n\nHttpPost httpPost = new HttpPost(&quot;http://some-web-site&quot;);\nhttpPost.setEntity(entity);\nHttpResponse response = httpClient.execute(httpPost);\nHttpEntity result = response.getEntity();\n</code></pre>\n<p>Hope this will help.</p>\n<p>(Updated this post to use MultipartEntityBuilder instead of deprecated MultipartEntity, using @mtomy code as the example)</p>\n"},{"tags":[],"owner":{"account_id":927725,"reputation":2281,"user_id":958160,"display_name":"Li Ying"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1421890546,"creation_date":1421890546,"answer_id":28079961,"question_id":2304663,"body_markdown":"&gt; MultipartEntity now shows up as deprecated. I am using apache\r\n&gt; httpclient 4.3.3 - does anyone know what we are supposed to use\r\n&gt; instead? I find the google searches to be so full of MultipartEntity\r\n&gt; examples I can&#39;t find anything. â€“  vextorspace Mar 31 &#39;14 at 20:36\r\n\r\n\r\nHere is the sample code in HttpClient 4.3.x\r\n\r\nhttp://hc.apache.org/httpcomponents-client-4.3.x/httpmime/examples/org/apache/http/examples/entity/mime/ClientMultipartFormPost.java\r\n\r\n\r\n\r\n\r\n    import org.apache.http.entity.mime.MultipartEntityBuilder;\r\n\r\n    HttpPost httppost = new HttpPost(&quot;http://localhost:8080&quot; +\r\n            &quot;/servlets-examples/servlet/RequestInfoExample&quot;);\r\n    \r\n    FileBody bin = new FileBody(new File(args[0]));\r\n    StringBody comment = new StringBody(&quot;A binary file of some kind&quot;, ContentType.TEXT_PLAIN);\r\n    \r\n    HttpEntity reqEntity = MultipartEntityBuilder.create()\r\n            .addPart(&quot;bin&quot;, bin)\r\n            .addPart(&quot;comment&quot;, comment)\r\n            .build();\r\n    \r\n    \r\n    httppost.setEntity(reqEntity);\r\n\r\n\r\n\r\nTo use the class MultipartEntityBuilder, you need **httpmime**, which is a sub project of **HttpClient**\r\n\r\n\r\nHttpClient 4.3.x:\r\n\r\nhttp://hc.apache.org/httpcomponents-client-4.3.x/index.html\r\n\r\nhttpmime 4.3.x:\r\n\r\nhttp://hc.apache.org/httpcomponents-client-4.3.x/httpmime/dependency-info.html","title":"Apache HttpClient making multipart form post","body":"<blockquote>\n  <p>MultipartEntity now shows up as deprecated. I am using apache\n  httpclient 4.3.3 - does anyone know what we are supposed to use\n  instead? I find the google searches to be so full of MultipartEntity\n  examples I can't find anything. â€“  vextorspace Mar 31 '14 at 20:36</p>\n</blockquote>\n\n<p>Here is the sample code in HttpClient 4.3.x</p>\n\n<p><a href=\"http://hc.apache.org/httpcomponents-client-4.3.x/httpmime/examples/org/apache/http/examples/entity/mime/ClientMultipartFormPost.java\">http://hc.apache.org/httpcomponents-client-4.3.x/httpmime/examples/org/apache/http/examples/entity/mime/ClientMultipartFormPost.java</a></p>\n\n<pre><code>import org.apache.http.entity.mime.MultipartEntityBuilder;\n\nHttpPost httppost = new HttpPost(\"http://localhost:8080\" +\n        \"/servlets-examples/servlet/RequestInfoExample\");\n\nFileBody bin = new FileBody(new File(args[0]));\nStringBody comment = new StringBody(\"A binary file of some kind\", ContentType.TEXT_PLAIN);\n\nHttpEntity reqEntity = MultipartEntityBuilder.create()\n        .addPart(\"bin\", bin)\n        .addPart(\"comment\", comment)\n        .build();\n\n\nhttppost.setEntity(reqEntity);\n</code></pre>\n\n<p>To use the class MultipartEntityBuilder, you need <strong>httpmime</strong>, which is a sub project of <strong>HttpClient</strong></p>\n\n<p>HttpClient 4.3.x:</p>\n\n<p><a href=\"http://hc.apache.org/httpcomponents-client-4.3.x/index.html\">http://hc.apache.org/httpcomponents-client-4.3.x/index.html</a></p>\n\n<p>httpmime 4.3.x:</p>\n\n<p><a href=\"http://hc.apache.org/httpcomponents-client-4.3.x/httpmime/dependency-info.html\">http://hc.apache.org/httpcomponents-client-4.3.x/httpmime/dependency-info.html</a></p>\n"},{"tags":[],"owner":{"account_id":3411405,"reputation":97,"user_id":2861230,"display_name":"Alps1992"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1504702934,"creation_date":1504702934,"answer_id":46075990,"question_id":2304663,"body_markdown":"if use org.apache.commons.httpclient.HttpClient package, maybe that can help you!\r\n\r\n        HttpConnectionManager httpConnectionManager = new MultiThreadedHttpConnectionManager();\r\n        //here should set HttpConnectionManagerParams but not important for you\r\n        HttpClient httpClient = new HttpClient(httpConnectionManager);\r\n\r\n        PostMethod postMethod = new PostMethod(&quot;http://localhost/media&quot;);\r\n\r\n        FilePart filePart = new FilePart(&quot;file&quot;, new File(filepath));\r\n        StringPart typePart = new StringPart(&quot;type&quot;, fileContent.getType(), &quot;utf-8&quot;);\r\n        StringPart fileNamePart = new StringPart(&quot;fileName&quot;, fileContent.getFileName(), &quot;utf-8&quot;);\r\n        StringPart timestampPart = new StringPart(&quot;timestamp&quot;, &quot;&quot;+fileContent.getTimestamp(),&quot;utf-8&quot;);\r\n        Part[] parts = { typePart, fileNamePart, timestampPart, filePart };\r\n        \r\n        MultipartRequestEntity multipartRequestEntity = new MultipartRequestEntity(parts, postMethod.getParams());\r\n        postMethod.setRequestEntity(multipartRequestEntity);\r\n        httpClient.executeMethod(postMethod);\r\n        String responseStr = postMethod.getResponseBodyAsString();\r\n\r\n","title":"Apache HttpClient making multipart form post","body":"<p>if use org.apache.commons.httpclient.HttpClient package, maybe that can help you!</p>\n\n<pre><code>    HttpConnectionManager httpConnectionManager = new MultiThreadedHttpConnectionManager();\n    //here should set HttpConnectionManagerParams but not important for you\n    HttpClient httpClient = new HttpClient(httpConnectionManager);\n\n    PostMethod postMethod = new PostMethod(\"http://localhost/media\");\n\n    FilePart filePart = new FilePart(\"file\", new File(filepath));\n    StringPart typePart = new StringPart(\"type\", fileContent.getType(), \"utf-8\");\n    StringPart fileNamePart = new StringPart(\"fileName\", fileContent.getFileName(), \"utf-8\");\n    StringPart timestampPart = new StringPart(\"timestamp\", \"\"+fileContent.getTimestamp(),\"utf-8\");\n    Part[] parts = { typePart, fileNamePart, timestampPart, filePart };\n\n    MultipartRequestEntity multipartRequestEntity = new MultipartRequestEntity(parts, postMethod.getParams());\n    postMethod.setRequestEntity(multipartRequestEntity);\n    httpClient.executeMethod(postMethod);\n    String responseStr = postMethod.getResponseBodyAsString();\n</code></pre>\n"}],"owner":{"account_id":29979,"reputation":1996,"user_id":81409,"accept_rate":61,"display_name":"Russ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106719,"favorite_count":0,"down_vote_count":0,"up_vote_count":82,"accepted_answer_id":2981395,"answer_count":3,"score":82,"last_activity_date":1633336425,"creation_date":1266723339,"question_id":2304663,"body_markdown":"I&#39;m pretty green to HttpClient and I&#39;m finding the lack of (and or blatantly incorrect) documentation extremely frustrating.  I&#39;m trying to implement the following post (listed below) with Apache Http Client, but have no idea how to actually do it.  I&#39;m going to bury myself in documentation for the next week, but perhaps more experienced HttpClient coders could get me an answer sooner.\r\n\r\nPost:\r\n\r\n    Content-Type: multipart/form-data; boundary=---------------------------1294919323195\r\n    Content-Length: 502\r\n    -----------------------------1294919323195\r\n    Content-Disposition: form-data; name=&quot;number&quot;\r\n    \r\n    5555555555\r\n    -----------------------------1294919323195\r\n    Content-Disposition: form-data; name=&quot;clip&quot;\r\n    \r\n    rickroll\r\n    -----------------------------1294919323195\r\n    Content-Disposition: form-data; name=&quot;upload_file&quot;; filename=&quot;&quot;\r\n    Content-Type: application/octet-stream\r\n    \r\n    \r\n    -----------------------------1294919323195\r\n    Content-Disposition: form-data; name=&quot;tos&quot;\r\n    \r\n    agree\r\n    -----------------------------1294919323195--","title":"Apache HttpClient making multipart form post","body":"<p>I'm pretty green to HttpClient and I'm finding the lack of (and or blatantly incorrect) documentation extremely frustrating.  I'm trying to implement the following post (listed below) with Apache Http Client, but have no idea how to actually do it.  I'm going to bury myself in documentation for the next week, but perhaps more experienced HttpClient coders could get me an answer sooner.</p>\n\n<p>Post:</p>\n\n<pre><code>Content-Type: multipart/form-data; boundary=---------------------------1294919323195\nContent-Length: 502\n-----------------------------1294919323195\nContent-Disposition: form-data; name=\"number\"\n\n5555555555\n-----------------------------1294919323195\nContent-Disposition: form-data; name=\"clip\"\n\nrickroll\n-----------------------------1294919323195\nContent-Disposition: form-data; name=\"upload_file\"; filename=\"\"\nContent-Type: application/octet-stream\n\n\n-----------------------------1294919323195\nContent-Disposition: form-data; name=\"tos\"\n\nagree\n-----------------------------1294919323195--\n</code></pre>\n"},{"tags":["java","list","dto"],"comments":[{"owner":{"account_id":3717953,"reputation":253,"user_id":3093641,"accept_rate":25,"display_name":"javanoob"},"score":0,"creation_date":1633335297,"post_id":69432817,"comment_id":122722479,"body_markdown":"hi, it depends on what framework you use. as you said its an array, so it would be like data[0].event.place , or data.stream().map(DTO::getPlace) and then collect to List of places or what you want","body":"hi, it depends on what framework you use. as you said its an array, so it would be like data[0].event.place , or data.stream().map(DTO::getPlace) and then collect to List of places or what you want"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1633335858,"post_id":69432817,"comment_id":122722667,"body_markdown":"calendarList.get(0).getEvent().getPlace()?  If your calenderList is mapped properly..","body":"calendarList.get(0).getEvent().getPlace()?  If your calenderList is mapped properly.."}],"answers":[{"tags":[],"owner":{"account_id":3792503,"reputation":3340,"user_id":3148590,"accept_rate":95,"display_name":"Kaustubh Khare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633335969,"creation_date":1633335665,"answer_id":69432930,"question_id":69432817,"body_markdown":"You can use combination of `filter` and `findFirst` methods of stream.\r\n\r\n    final List&lt;CalendarDto&gt; calendarList = calendarService.getCalendars(startDate, endDate);\r\n    EventDto eventDto = new EventDto();\r\n        EventSender sender = new EventSender (&quot;EVENTS&quot;);\r\n        sender.withData(&quot;place&quot;, calendarList.stream()\r\n            .filter(ele -&gt; ele.getPlace().equals(eventDto.getPlace())).findFirst());\r\n\r\n\r\n**Note**:- `ele` into filter method will be object of `CalendarDto` class, here respective method is required to be replaced to get place value.\r\n\r\n","title":"Access dto value inside a list of dtos","body":"<p>You can use combination of <code>filter</code> and <code>findFirst</code> methods of stream.</p>\n<pre><code>final List&lt;CalendarDto&gt; calendarList = calendarService.getCalendars(startDate, endDate);\nEventDto eventDto = new EventDto();\n    EventSender sender = new EventSender (&quot;EVENTS&quot;);\n    sender.withData(&quot;place&quot;, calendarList.stream()\n        .filter(ele -&gt; ele.getPlace().equals(eventDto.getPlace())).findFirst());\n</code></pre>\n<p><strong>Note</strong>:- <code>ele</code> into filter method will be object of <code>CalendarDto</code> class, here respective method is required to be replaced to get place value.</p>\n"}],"owner":{"account_id":18690547,"reputation":61,"user_id":13624971,"display_name":"Rakid Naomi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1791,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633335969,"creation_date":1633335043,"question_id":69432817,"body_markdown":"I have a json response that comes under this form.\r\n    \r\n\r\n    &quot;calendarList&quot;: [\r\n            {\r\n                &quot;id&quot;: &quot;1&quot;,\r\n                &quot;event&quot;: {\r\n                    &quot;id&quot;: &quot;11&quot;,\r\n                    &quot;name&quot;: &quot;Track the working hours&quot;,\r\n                    &quot;color&quot;: &quot;blue&quot;,\r\n                    &quot;place&quot;: &quot;office&quot;,\r\n                }\r\n             },\r\n             {\r\n                &quot;id&quot;: &quot;2&quot;,\r\n                &quot;event&quot;: {\r\n                    &quot;id&quot;: &quot;12&quot;,\r\n                    &quot;name&quot;: &quot;Finish DTOs&quot;,\r\n                    &quot;color&quot;: &quot;blue&quot;,\r\n                    &quot;place&quot;: &quot;office&quot;,\r\n                }\r\n             }\r\n    ]\r\n\r\nHow can I access the place value? For all of dto objects inside the list the place value will be the same, which is OFFICE, so I just need to access somehow one of the place values.\r\nThe list of CalendarDto contains multiple EventDto objects, with the attributes id, name, color and place.\r\n\r\n    final List&lt;CalendarDto&gt; calendarList = calendarService.getCalendars(startDate, endDate);\r\n    EventDto eventDto = new EventDto();\r\n        EventSender sender = new EventSender (&quot;EVENTS&quot;);\r\n        sender.withData(&quot;place&quot;, calendarList.stream()  -&gt; this is where I tried to get the value, but it didn&#39;t work\r\n            .findFirst(eventDto.getPlace()));","title":"Access dto value inside a list of dtos","body":"<p>I have a json response that comes under this form.</p>\n<pre><code>&quot;calendarList&quot;: [\n        {\n            &quot;id&quot;: &quot;1&quot;,\n            &quot;event&quot;: {\n                &quot;id&quot;: &quot;11&quot;,\n                &quot;name&quot;: &quot;Track the working hours&quot;,\n                &quot;color&quot;: &quot;blue&quot;,\n                &quot;place&quot;: &quot;office&quot;,\n            }\n         },\n         {\n            &quot;id&quot;: &quot;2&quot;,\n            &quot;event&quot;: {\n                &quot;id&quot;: &quot;12&quot;,\n                &quot;name&quot;: &quot;Finish DTOs&quot;,\n                &quot;color&quot;: &quot;blue&quot;,\n                &quot;place&quot;: &quot;office&quot;,\n            }\n         }\n]\n</code></pre>\n<p>How can I access the place value? For all of dto objects inside the list the place value will be the same, which is OFFICE, so I just need to access somehow one of the place values.\nThe list of CalendarDto contains multiple EventDto objects, with the attributes id, name, color and place.</p>\n<pre><code>final List&lt;CalendarDto&gt; calendarList = calendarService.getCalendars(startDate, endDate);\nEventDto eventDto = new EventDto();\n    EventSender sender = new EventSender (&quot;EVENTS&quot;);\n    sender.withData(&quot;place&quot;, calendarList.stream()  -&gt; this is where I tried to get the value, but it didn't work\n        .findFirst(eventDto.getPlace()));\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database","google-cloud-platform"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1633252108,"post_id":69418197,"comment_id":122705734,"body_markdown":"Which exact node would you like to delete? This `-Ml-I9XVcNnOM8nc79sw` one?","body":"Which exact node would you like to delete? This <code>-Ml-I9XVcNnOM8nc79sw</code> one?"},{"owner":{"account_id":21933764,"reputation":3,"user_id":16215349,"display_name":"Sithum Kavinda"},"score":0,"creation_date":1633262550,"post_id":69418197,"comment_id":122707930,"body_markdown":"@AlexMamo Yes that is one I want to delete. I want to know what is the method to delete a node like it. I couldn&#39;t navigate to that node. I can navigate until to the node that provided by firebase authentication (LP6RF0KD7Ve66snlayZjpSotQEJ2) using this: `DatabaseReference db =FirebaseDatabase.getInstance().getReference(&quot;Prescription&quot;).child(authCode);            db.removeValue()` But this will delete the entire user&#39;s nodes","body":"@AlexMamo Yes that is one I want to delete. I want to know what is the method to delete a node like it. I couldn&#39;t navigate to that node. I can navigate until to the node that provided by firebase authentication (LP6RF0KD7Ve66snlayZjpSotQEJ2) using this: <code>DatabaseReference db =FirebaseDatabase.getInstance().getReference(&quot;Prescription&quot;)&zwnj;&#8203;.child(authCode);            db.removeValue()</code> But this will delete the entire user&#39;s nodes"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633335810,"creation_date":1633335810,"answer_id":69432968,"question_id":69418197,"body_markdown":"According to your comment:\r\n\r\n&gt; I can navigate until to the node that provided by firebase authentication (LP6RF0KD7Ve66snlayZjpSotQEJ2) using this: DatabaseReference db =FirebaseDatabase.getInstance().getReference(&quot;Prescription&quot;).child(authCode);            db.removeValue() But this will delete the entire user&#39;s nodes\r\n\r\nIndeed you are removing the entire node since your reference points exactly to that node. To be able to remove the `-Ml-I9XVcNnOM8nc79sw` node, you should create a reference that points exactly to that node:\r\n\r\n    DatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\r\n    DatabaseReference nodeToRemove = rootRef\r\n        .child(&quot;Prescription&quot;)\r\n        .child(&quot;-MkXdxxXLoJgFJVQYDpo&quot;)\r\n        .child(&quot;-LP6RF0KD7Ve66snlayZjpSotQEJ2&quot;)\r\n        .child(&quot;-Ml-I9XVcNnOM8nc79sw&quot;);\r\n    nodeToRemove.removeValue();\r\n\r\nAlways remember that in order to remove a specific element, you need to create a reference that contains the name of all nodes, including the one that you want to delete.\r\n\r\nIf you don&#39;t have one of the keys, then you should store the value in a variable as explained in my answer from the following post:\r\n\r\n* https://stackoverflow.com/questions/51787784/how-to-get-specific-pushedid-in-firebase/51788244","title":"Delete a node from Firebase realtime database with android studio java Recycler view","body":"<p>According to your comment:</p>\n<blockquote>\n<p>I can navigate until to the node that provided by firebase authentication (LP6RF0KD7Ve66snlayZjpSotQEJ2) using this: DatabaseReference db =FirebaseDatabase.getInstance().getReference(&quot;Prescription&quot;).child(authCode);            db.removeValue() But this will delete the entire user's nodes</p>\n</blockquote>\n<p>Indeed you are removing the entire node since your reference points exactly to that node. To be able to remove the <code>-Ml-I9XVcNnOM8nc79sw</code> node, you should create a reference that points exactly to that node:</p>\n<pre><code>DatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\nDatabaseReference nodeToRemove = rootRef\n    .child(&quot;Prescription&quot;)\n    .child(&quot;-MkXdxxXLoJgFJVQYDpo&quot;)\n    .child(&quot;-LP6RF0KD7Ve66snlayZjpSotQEJ2&quot;)\n    .child(&quot;-Ml-I9XVcNnOM8nc79sw&quot;);\nnodeToRemove.removeValue();\n</code></pre>\n<p>Always remember that in order to remove a specific element, you need to create a reference that contains the name of all nodes, including the one that you want to delete.</p>\n<p>If you don't have one of the keys, then you should store the value in a variable as explained in my answer from the following post:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/51787784/how-to-get-specific-pushedid-in-firebase/51788244\">How to get specific pushedID in Firebase?</a></li>\n</ul>\n"}],"owner":{"account_id":21933764,"reputation":3,"user_id":16215349,"display_name":"Sithum Kavinda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69432968,"answer_count":1,"score":0,"last_activity_date":1633335880,"creation_date":1633187529,"question_id":69418197,"body_markdown":"How can I get the child id which is inserted using `push().getKey()` while inserting data into the database for applying a delete method for node? I have used **recyclerView** to show data as cards.\r\n\r\nHere is my Firebase DB:\r\n```\r\nPrescription\r\n   -MkWDI1v55zkQDdiGa8T\r\n   -MkXdxxXLoJgFJVQYDpo\r\n      -LP6RF0KD7Ve66snlayZjpSotQEJ2   //This is a unique ID that is provided by firebase authentication\r\n         -Ml-I9XVcNnOM8nc79sw         //This is the Ordered Item 1\r\n             name: &quot;Atarax&quot;\r\n             qty: &quot;30&quot;\r\n             total: &quot;300.00&quot;\r\n             unitPrice: &quot;10.00&quot;\r\n         -Ml-M1pN4zsyyRf7pHeM         //This is the Ordered Item 2\r\n             name: &quot;Vitamin C&quot;\r\n             qty: &quot;10&quot;\r\n             total: &quot;500.00&quot;\r\n             unitPrice: &quot;50.00&quot;\r\n```\r\n\r\nHere is my Adapter class:\r\n```\r\npublic class Cart_adapter extends RecyclerView.Adapter&lt;Cart_adapter.MyViewHolder&gt; {\r\n\r\n    SpinKitView pbDelete;\r\n    Context context;\r\n    ArrayList&lt;Orders&gt; list;\r\n    DatabaseReference reference;\r\n\r\n\r\n    public Cart_adapter(Context context, ArrayList&lt;Orders&gt; list, SpinKitView pbDelete) {\r\n        this.context = context;\r\n        this.list = list;\r\n        this.pbDelete = pbDelete;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(context).inflate(R.layout.order, parent, false);\r\n        return new MyViewHolder(v);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull final MyViewHolder holder, int position) {\r\n        Orders order = list.get(position);\r\n        holder.iname.setText(order.getName());\r\n        holder.qty.setText(order.getQty());\r\n        holder.unitPrice.setText(order.getUnitPrice());\r\n        holder.totPrice.setText(order.getTotal());\r\n\r\n\r\n\r\n\r\n        //Delete from Firebase Database\r\n        holder.btn_delete.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                pbDelete.setVisibility(View.VISIBLE);\r\n\r\n                String key = FirebaseAuth.getInstance().getCurrentUser().getUid().toString();\r\n                \r\n                reference = FirebaseDatabase.getInstance().getReference(&quot;Prescription&quot;).child(key);\r\n                \r\n                FirebaseDatabase.getInstance().getReference(&quot;Prescription&quot;).child(key)\r\n                        .child(reference.getKey().toString()).removeValue();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return list.size();\r\n    }\r\n\r\n    public static class MyViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        TextView iname, qty, unitPrice, totPrice;\r\n        Button btn_delete;\r\n        LinearLayout orderCard;\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            iname = itemView.findViewById(R.id.tv_itemName);\r\n            qty = itemView.findViewById(R.id.tv_qty);\r\n            unitPrice = itemView.findViewById(R.id.tv_unitPrice);\r\n            totPrice = itemView.findViewById(R.id.tv_totalPrice);\r\n            btn_delete = itemView.findViewById(R.id.btn_remove);\r\n            orderCard = itemView.findViewById(R.id.layout_order);\r\n        }\r\n    }\r\n```\r\n\r\nHere is my Orders class:\r\n```\r\npackage com.edu.wellwork;\r\n\r\npublic class Orders{\r\n\r\n    public String name;\r\n    public String qty;\r\n    public String unitPrice;\r\n    public String total;\r\n\r\n    public Orders() {\r\n    }\r\n\r\n    public Orders(String name, String qty, String unitPrice, String total) {\r\n        this.name = name;\r\n        this.qty = qty;\r\n        this.unitPrice = unitPrice;\r\n        this.total = total;\r\n    }\r\n\r\n    public Orders(String itemName, String qty) {\r\n        this.name = itemName;\r\n        this.qty = qty;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getQty() {\r\n        return qty;\r\n    }\r\n\r\n    public String getUnitPrice() {\r\n        return unitPrice;\r\n    }\r\n\r\n    public String getTotal() {\r\n        return total;\r\n    }\r\n}\r\n\r\n```\r\n\r\nHow do I get the unique key (which is the parent node of each order) to delete an ordered item from the database?","title":"Delete a node from Firebase realtime database with android studio java Recycler view","body":"<p>How can I get the child id which is inserted using <code>push().getKey()</code> while inserting data into the database for applying a delete method for node? I have used <strong>recyclerView</strong> to show data as cards.</p>\n<p>Here is my Firebase DB:</p>\n<pre><code>Prescription\n   -MkWDI1v55zkQDdiGa8T\n   -MkXdxxXLoJgFJVQYDpo\n      -LP6RF0KD7Ve66snlayZjpSotQEJ2   //This is a unique ID that is provided by firebase authentication\n         -Ml-I9XVcNnOM8nc79sw         //This is the Ordered Item 1\n             name: &quot;Atarax&quot;\n             qty: &quot;30&quot;\n             total: &quot;300.00&quot;\n             unitPrice: &quot;10.00&quot;\n         -Ml-M1pN4zsyyRf7pHeM         //This is the Ordered Item 2\n             name: &quot;Vitamin C&quot;\n             qty: &quot;10&quot;\n             total: &quot;500.00&quot;\n             unitPrice: &quot;50.00&quot;\n</code></pre>\n<p>Here is my Adapter class:</p>\n<pre><code>public class Cart_adapter extends RecyclerView.Adapter&lt;Cart_adapter.MyViewHolder&gt; {\n\n    SpinKitView pbDelete;\n    Context context;\n    ArrayList&lt;Orders&gt; list;\n    DatabaseReference reference;\n\n\n    public Cart_adapter(Context context, ArrayList&lt;Orders&gt; list, SpinKitView pbDelete) {\n        this.context = context;\n        this.list = list;\n        this.pbDelete = pbDelete;\n    }\n\n    @NonNull\n    @Override\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(context).inflate(R.layout.order, parent, false);\n        return new MyViewHolder(v);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull final MyViewHolder holder, int position) {\n        Orders order = list.get(position);\n        holder.iname.setText(order.getName());\n        holder.qty.setText(order.getQty());\n        holder.unitPrice.setText(order.getUnitPrice());\n        holder.totPrice.setText(order.getTotal());\n\n\n\n\n        //Delete from Firebase Database\n        holder.btn_delete.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                pbDelete.setVisibility(View.VISIBLE);\n\n                String key = FirebaseAuth.getInstance().getCurrentUser().getUid().toString();\n                \n                reference = FirebaseDatabase.getInstance().getReference(&quot;Prescription&quot;).child(key);\n                \n                FirebaseDatabase.getInstance().getReference(&quot;Prescription&quot;).child(key)\n                        .child(reference.getKey().toString()).removeValue();\n            }\n        });\n    }\n\n    @Override\n    public int getItemCount() {\n        return list.size();\n    }\n\n    public static class MyViewHolder extends RecyclerView.ViewHolder{\n\n        TextView iname, qty, unitPrice, totPrice;\n        Button btn_delete;\n        LinearLayout orderCard;\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            iname = itemView.findViewById(R.id.tv_itemName);\n            qty = itemView.findViewById(R.id.tv_qty);\n            unitPrice = itemView.findViewById(R.id.tv_unitPrice);\n            totPrice = itemView.findViewById(R.id.tv_totalPrice);\n            btn_delete = itemView.findViewById(R.id.btn_remove);\n            orderCard = itemView.findViewById(R.id.layout_order);\n        }\n    }\n</code></pre>\n<p>Here is my Orders class:</p>\n<pre><code>package com.edu.wellwork;\n\npublic class Orders{\n\n    public String name;\n    public String qty;\n    public String unitPrice;\n    public String total;\n\n    public Orders() {\n    }\n\n    public Orders(String name, String qty, String unitPrice, String total) {\n        this.name = name;\n        this.qty = qty;\n        this.unitPrice = unitPrice;\n        this.total = total;\n    }\n\n    public Orders(String itemName, String qty) {\n        this.name = itemName;\n        this.qty = qty;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getQty() {\n        return qty;\n    }\n\n    public String getUnitPrice() {\n        return unitPrice;\n    }\n\n    public String getTotal() {\n        return total;\n    }\n}\n\n</code></pre>\n<p>How do I get the unique key (which is the parent node of each order) to delete an ordered item from the database?</p>\n"},{"tags":["java","insert","nodes"],"answers":[{"tags":[],"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632840004,"creation_date":1632839637,"answer_id":69363718,"question_id":69363524,"body_markdown":"Your first approach is flawed, because you omit all nodes from the index you are inserting at, therefore losing all links.\r\n\r\nIn your second approach you have the right idea, but you get an infinite loop, because you do `curr.getNext()` **after** inserting the new node. The solution is to get the node **before** inserting the new node, saving it temporarily, adding the new node and setting the temporarily saved node as the next to the inserted node.\r\n\r\nIt should look something like this:\r\n\r\n```lang-java\r\nNode&lt;E&gt; newNode = new Node&lt;&gt;(data);\r\nNode&lt;E&gt; tempNode = curr.getNext(); // retrieve the initially following node\r\ncurr.setNext(newNode);             // insert the new node\r\nnewNode.setNext(tempNode);         // reconstruct the link\r\n```","title":"Insert a node in between existing nodes","body":"<p>Your first approach is flawed, because you omit all nodes from the index you are inserting at, therefore losing all links.</p>\n<p>In your second approach you have the right idea, but you get an infinite loop, because you do <code>curr.getNext()</code> <strong>after</strong> inserting the new node. The solution is to get the node <strong>before</strong> inserting the new node, saving it temporarily, adding the new node and setting the temporarily saved node as the next to the inserted node.</p>\n<p>It should look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Node&lt;E&gt; newNode = new Node&lt;&gt;(data);\nNode&lt;E&gt; tempNode = curr.getNext(); // retrieve the initially following node\ncurr.setNext(newNode);             // insert the new node\nnewNode.setNext(tempNode);         // reconstruct the link\n</code></pre>\n"}],"owner":{"display_name":"user15082428"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69363718,"answer_count":1,"score":0,"last_activity_date":1633335784,"creation_date":1632838982,"question_id":69363524,"body_markdown":"I have an insert method and I need help with inserting a new node between two nodes\r\n\r\nHere&#39;s the code:\r\n\r\n    @Override\r\n    public void insert(int index, E data) throws ListOverflowException {\r\n        Node&lt;E&gt; curr = startOfNode;\r\n        int ctr = 0;\r\n\r\n        // adds the data in the specified index in the linked list\r\n        for (curr = startOfNode; curr !=null; curr = curr.getNext()) {\r\n            if (ctr == index) {\r\n                Node&lt;E&gt; newNode = new Node&lt;&gt;(data);\r\n                curr.setNext(newNode);\r\n                newNode.setNext(curr.getNext());\r\n                break;\r\n            }\r\n            ctr++;\r\n        }\r\n\r\n        if (size == maxSize) {\r\n            throw new ListOverflowException(&quot;Error! Can&#39;t add any more nodes&quot;);\r\n        }\r\n    }\r\n\r\nThis is the initial list:\r\n\r\n    Item 1 :4\r\n    Item 2 :5\r\n    Item 3 :6\r\n    Item 4 :8\r\n    Item 5 :9\r\n    Item 6 :null\r\n\r\nand here&#39;s the result that I get. As you can see the nodes that holds number 8 and 9 gets lost. How do I modify the loop to get the desired result:\r\n\r\n    Item 1 :4\r\n    Item 2 :5\r\n    Item 3 :6\r\n    Item 4 :7\r\n    Item 5 :null\r\n","title":"Insert a node in between existing nodes","body":"<p>I have an insert method and I need help with inserting a new node between two nodes</p>\n<p>Here's the code:</p>\n<pre><code>@Override\npublic void insert(int index, E data) throws ListOverflowException {\n    Node&lt;E&gt; curr = startOfNode;\n    int ctr = 0;\n\n    // adds the data in the specified index in the linked list\n    for (curr = startOfNode; curr !=null; curr = curr.getNext()) {\n        if (ctr == index) {\n            Node&lt;E&gt; newNode = new Node&lt;&gt;(data);\n            curr.setNext(newNode);\n            newNode.setNext(curr.getNext());\n            break;\n        }\n        ctr++;\n    }\n\n    if (size == maxSize) {\n        throw new ListOverflowException(&quot;Error! Can't add any more nodes&quot;);\n    }\n}\n</code></pre>\n<p>This is the initial list:</p>\n<pre><code>Item 1 :4\nItem 2 :5\nItem 3 :6\nItem 4 :8\nItem 5 :9\nItem 6 :null\n</code></pre>\n<p>and here's the result that I get. As you can see the nodes that holds number 8 and 9 gets lost. How do I modify the loop to get the desired result:</p>\n<pre><code>Item 1 :4\nItem 2 :5\nItem 3 :6\nItem 4 :7\nItem 5 :null\n</code></pre>\n"},{"tags":["java","eclipse","eclipse-plugin","eclipse-rcp"],"answers":[{"tags":[],"owner":{"account_id":367446,"reputation":10624,"user_id":713646,"display_name":"Paul Webster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1336652054,"creation_date":1336652054,"answer_id":10533741,"question_id":10529854,"body_markdown":"In this case you can&#39;t overwrite one definition with another.  There are a couple of options.\r\n\r\n 1. You can use something like [Product Customization][1] to remove the common view definition in some cases.  It&#39;s pretty heavy weight for what you are doing.\r\n 2. Provide the common view definition in a separate, small plugin.  Then don&#39;t include that small plugin in the RCP product that includes your specialized view.\r\n\r\n  [1]: http://wiki.eclipse.org/Product_Customization","title":"Overwriting views in the ecplise ui view extension point","body":"<p>In this case you can't overwrite one definition with another.  There are a couple of options.</p>\n\n<ol>\n<li>You can use something like <a href=\"http://wiki.eclipse.org/Product_Customization\" rel=\"nofollow\">Product Customization</a> to remove the common view definition in some cases.  It's pretty heavy weight for what you are doing.</li>\n<li>Provide the common view definition in a separate, small plugin.  Then don't include that small plugin in the RCP product that includes your specialized view.</li>\n</ol>\n"}],"owner":{"account_id":694667,"reputation":1206,"user_id":562295,"accept_rate":100,"display_name":"Jim Holden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1021,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10533741,"answer_count":1,"score":1,"last_activity_date":1633335581,"creation_date":1336637218,"question_id":10529854,"body_markdown":"I&#39;m developing an Eclipse RCP application consisting of several plugins. One of those plugins (the &quot;common ui&quot; plugin) provides a view that is used by several other plugins. The view is defined in the plugin.xml of the common ui plugin, as well as its toolbar and context menu contributions (in the menus extension point).\r\n\r\nThere is one plugin, however, let&#39;s call it &quot;special business plugin&quot; that needs some additions to the view provided by the common ui plugin. Therefore, I have extended the viewpart class from the common ui viewpart class (to add additional columns and own label and content providers).\r\n\r\nThe extended viewpart needs the same menu contributions as the common viewpart. Of course, I don&#39;t want to write them twice, I just want to use the menu contributions that are defined in the plugin.xml of the common plugin. However, they are bound to the view id of the common viewpart. If I use the same view id for the special viewpart, the special viewpart does not get opened, instead the common view part does (of course, because they share the same id). If I use a different id, I have to write the menu contributions twice, which I want to avoid.\r\n\r\nSo, how do I overwrite a view defined by another plugin when I want to use the same menu contributions as view I want to overwrite?\r\n\r\nplugin.xml of the common plugin\r\n\r\n    &lt;plugin&gt;\r\n      &lt;extension point=&quot;org.eclipse.ui.views&quot;&gt;\r\n        &lt;view\r\n            allowMultiple=&quot;true&quot;\r\n            category=&quot;org.eclipse.ui&quot;\r\n            class=&quot;com.mycompany.client.common.ui.view.CommonViewPart&quot;\r\n            icon=&quot;icons/CommonView.gif&quot;\r\n            id=&quot;com.mycompany.client.common.ui.view.CommonView&quot;\r\n            name=&quot;%CommonView&quot;\r\n            restorable=&quot;false&quot;&gt;\r\n        &lt;/view&gt;\r\n      &lt;/extension&gt;\r\n      &lt;extension point=&quot;org.eclipse.ui.menus&quot;&gt;\r\n        &lt;menuContribution\r\n            locationURI=&quot;toolbar:com.mycompany.client.common.ui.view.CommonView&quot;&gt;\r\n          &lt;command\r\n               commandId=&quot;com.mycompany.client.common.ui.handler.RefreshCommand&quot;\r\n               label=&quot;%refresh&quot;\r\n               style=&quot;push&quot;&gt;\r\n          &lt;/command&gt;\r\n        &lt;/menuContribution&gt;\r\n      &lt;/extenstion&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\nplugin.xml of the special plugin\r\n\r\n    &lt;plugin&gt;\r\n      &lt;extension point=&quot;org.eclipse.ui.views&quot;&gt;\r\n        &lt;view\r\n            allowMultiple=&quot;true&quot;\r\n            category=&quot;org.eclipse.ui&quot;\r\n            class=&quot;com.mycompany.client.special.view.SpecialViewPart&quot;\r\n            icon=&quot;icons/CommonView.gif&quot;\r\n            id=&quot;com.mycompany.client.common.ui.view.CommonView&quot;\r\n            name=&quot;%CommonView&quot;\r\n            restorable=&quot;false&quot;&gt;\r\n        &lt;/view&gt;\r\n      &lt;/extension&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\nThe views are opened by a handler with the following code line:\r\n\r\nCommon:\r\n\r\n    AbstractViewPart view = (AbstractViewPart).\r\n        getActiveWorkbenchPage(event).showView(CommonViewPart.ID, null,\r\n        IWorkbenchPage.VIEW_VISIBLE);\r\nSpecial:\r\n\r\n    AbstractViewPart view = (AbstractViewPart).\r\n        getActiveWorkbenchPage(event).showView(SpecialViewPart.ID, null,\r\n        IWorkbenchPage.VIEW_VISIBLE);\r\n","title":"Overwriting views in the ecplise ui view extension point","body":"<p>I'm developing an Eclipse RCP application consisting of several plugins. One of those plugins (the \"common ui\" plugin) provides a view that is used by several other plugins. The view is defined in the plugin.xml of the common ui plugin, as well as its toolbar and context menu contributions (in the menus extension point).</p>\n\n<p>There is one plugin, however, let's call it \"special business plugin\" that needs some additions to the view provided by the common ui plugin. Therefore, I have extended the viewpart class from the common ui viewpart class (to add additional columns and own label and content providers).</p>\n\n<p>The extended viewpart needs the same menu contributions as the common viewpart. Of course, I don't want to write them twice, I just want to use the menu contributions that are defined in the plugin.xml of the common plugin. However, they are bound to the view id of the common viewpart. If I use the same view id for the special viewpart, the special viewpart does not get opened, instead the common view part does (of course, because they share the same id). If I use a different id, I have to write the menu contributions twice, which I want to avoid.</p>\n\n<p>So, how do I overwrite a view defined by another plugin when I want to use the same menu contributions as view I want to overwrite?</p>\n\n<p>plugin.xml of the common plugin</p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;extension point=\"org.eclipse.ui.views\"&gt;\n    &lt;view\n        allowMultiple=\"true\"\n        category=\"org.eclipse.ui\"\n        class=\"com.mycompany.client.common.ui.view.CommonViewPart\"\n        icon=\"icons/CommonView.gif\"\n        id=\"com.mycompany.client.common.ui.view.CommonView\"\n        name=\"%CommonView\"\n        restorable=\"false\"&gt;\n    &lt;/view&gt;\n  &lt;/extension&gt;\n  &lt;extension point=\"org.eclipse.ui.menus\"&gt;\n    &lt;menuContribution\n        locationURI=\"toolbar:com.mycompany.client.common.ui.view.CommonView\"&gt;\n      &lt;command\n           commandId=\"com.mycompany.client.common.ui.handler.RefreshCommand\"\n           label=\"%refresh\"\n           style=\"push\"&gt;\n      &lt;/command&gt;\n    &lt;/menuContribution&gt;\n  &lt;/extenstion&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>plugin.xml of the special plugin</p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;extension point=\"org.eclipse.ui.views\"&gt;\n    &lt;view\n        allowMultiple=\"true\"\n        category=\"org.eclipse.ui\"\n        class=\"com.mycompany.client.special.view.SpecialViewPart\"\n        icon=\"icons/CommonView.gif\"\n        id=\"com.mycompany.client.common.ui.view.CommonView\"\n        name=\"%CommonView\"\n        restorable=\"false\"&gt;\n    &lt;/view&gt;\n  &lt;/extension&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>The views are opened by a handler with the following code line:</p>\n\n<p>Common:</p>\n\n<pre><code>AbstractViewPart view = (AbstractViewPart).\n    getActiveWorkbenchPage(event).showView(CommonViewPart.ID, null,\n    IWorkbenchPage.VIEW_VISIBLE);\n</code></pre>\n\n<p>Special:</p>\n\n<pre><code>AbstractViewPart view = (AbstractViewPart).\n    getActiveWorkbenchPage(event).showView(SpecialViewPart.ID, null,\n    IWorkbenchPage.VIEW_VISIBLE);\n</code></pre>\n"},{"tags":["java","concurrency"],"answers":[{"tags":[],"owner":{"account_id":1674999,"reputation":9423,"user_id":1540749,"accept_rate":90,"display_name":"josejuan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633335576,"creation_date":1633262500,"answer_id":69424647,"question_id":69423990,"body_markdown":"`Exchanger` and `TransferQueue` are very different, basically `TransferQueue` can fill all your memory if the consumer is very slow, while `Exchanger` uses constant memory, producing a synchronization when the paired threads are ready.\r\n\r\nObviously the use of one or the other will have drastic consequences on the efficiency of synchronization and workflow (but also on the determinism in the use of resources).\r\n\r\nNote: the reasons for the producer and consumer to request synchronization may be different reasons, not only that they have a full buffer, it could be for example that one has been left waiting for the other. Also, with `Exchange` producer/consumer are confused (the consumer can deliver results to the producer), while with `TransferQueue` you should create additional structures.\r\n\r\nAs an example, think of your concurrent process as a piping infrastructure and the nodes move water up and down (the nodes contain water pumps).\r\n\r\nAlso, the pumping effect move across all infrastructure (like a wave), think your concurrent process use one thread result to be used on the other thread and so on.\r\n\r\n(Comments in code)\r\n\r\n    package com.computermind.sandbox.concurrent;\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.SneakyThrows;\r\n    \r\n    import java.util.concurrent.Exchanger;\r\n    import java.util.concurrent.ThreadLocalRandom;\r\n    \r\n    public class ExchangerTransferQueue {\r\n        \r\n        // helper for wait\r\n        @SneakyThrows\r\n        public static void _wait() {\r\n            Thread.sleep(ThreadLocalRandom.current().nextInt(1_000, 5_000));\r\n        }\r\n    \r\n        // the pumping capacity is the work a node must to do, this work\r\n        // is moving across threads then, the `PumpingCapacity` &quot;P1&quot; will\r\n        // be used by the producer but later (when water move) &quot;P1&quot; will be\r\n        // used by consumer and so (the `exchange` sync move PumpingCapacity\r\n        // instances)\r\n        @AllArgsConstructor\r\n        static\r\n        class PumpingCapacity {\r\n            String name;\r\n            int from;\r\n            int to;\r\n    \r\n            // do &quot;up&quot; work (if any)\r\n            boolean up(String node) {\r\n                if(from &lt; 1) return false;\r\n                System.out.printf(&quot;~ node %s pump up %s%n&quot;, node, name);\r\n                from -= 1; to += 1;\r\n                return true;\r\n            }\r\n            // do &quot;down&quot; work (if any)\r\n            boolean down(String node) {\r\n                if(to &lt; 1) return false;\r\n                System.out.printf(&quot;~ node %s pump down %s%n&quot;, node, name);\r\n                from += 1; to -= 1;\r\n                return true;\r\n            }\r\n        }\r\n    \r\n        // the producer have a initial PumpingCapacity and\r\n        // create the exchange to the next node\r\n        static class WaterPumpProducer implements Runnable {\r\n            PumpingCapacity p;\r\n            final Exchanger&lt;PumpingCapacity&gt; b = new Exchanger&lt;&gt;();\r\n    \r\n            WaterPumpProducer(PumpingCapacity p) {\r\n                this.p = p;\r\n            }\r\n    \r\n            @SneakyThrows\r\n            @Override\r\n            public void run() {\r\n                // for ever\r\n                while(true) {\r\n                    // do work\r\n                    while (p.up(&quot;Producer&quot;)) _wait();\r\n                    // and exchange\r\n                    System.out.println(&quot;Producer need change&quot;);\r\n                    p = b.exchange(p);\r\n                }\r\n            }\r\n        }\r\n    \r\n        // an interemediate node have two PumpingCapacity one working\r\n        // with the predecessor and other with the successor\r\n        static class WaterPumpNode implements Runnable {\r\n            PumpingCapacity p, q;\r\n            final Exchanger&lt;PumpingCapacity&gt; a;\r\n            final Exchanger&lt;PumpingCapacity&gt; b = new Exchanger&lt;&gt;();\r\n    \r\n            WaterPumpNode(PumpingCapacity p, PumpingCapacity q, Exchanger&lt;PumpingCapacity&gt; a) {\r\n                this.p = p;\r\n                this.q = q;\r\n                this.a = a;\r\n            }\r\n    \r\n            @SneakyThrows\r\n            @Override\r\n            public void run() {\r\n                while(true) {\r\n                    while (p.down(&quot;Node&quot;)) _wait();\r\n                    while (q.up(&quot;Node&quot;)) _wait();\r\n                    System.out.println(&quot;Node need change&quot;);\r\n                    p = a.exchange(p);\r\n                    q = b.exchange(q);\r\n                }\r\n            }\r\n        }\r\n    \r\n        static class WaterPumpConsumer implements Runnable {\r\n            PumpingCapacity p;\r\n            final Exchanger&lt;PumpingCapacity&gt; a;\r\n    \r\n            WaterPumpConsumer(PumpingCapacity initialCapacity, Exchanger&lt;PumpingCapacity&gt; a) {\r\n                p = initialCapacity;\r\n                this.a = a;\r\n            }\r\n    \r\n            @SneakyThrows\r\n            @Override\r\n            public void run() {\r\n                while(true) {\r\n                    while (p.down(&quot;Consumer&quot;)) _wait();\r\n                    System.out.println(&quot;Consumer need change&quot;);\r\n                    p = a.exchange(p);\r\n                }\r\n            }\r\n        }\r\n    \r\n        @SneakyThrows\r\n        public static void main(String... args) {\r\n    \r\n            WaterPumpProducer producer = new WaterPumpProducer(new PumpingCapacity(&quot;P1&quot;, 5, 0));\r\n            WaterPumpNode node = new WaterPumpNode(new PumpingCapacity(&quot;P2&quot;, 0, 3), new PumpingCapacity(&quot;P3&quot;, 3, 0), producer.b);\r\n            WaterPumpConsumer consumer = new WaterPumpConsumer(new PumpingCapacity(&quot;P4&quot;, 0, 2), node.b);\r\n    \r\n            // consumer run first, the consumer do job!\r\n            new Thread(consumer).start();\r\n    \r\n            // wait to see consumer wait\r\n            Thread.sleep(15_000);\r\n    \r\n            new Thread(node).start();\r\n    \r\n            // wait to see node wait\r\n            Thread.sleep(15_000);\r\n    \r\n            new Thread(producer).start();\r\n    \r\n            // see how PumpingCapacities up and down across all pipe infrastructure\r\n        }\r\n    \r\n    }\r\n\r\nwith output (with comments)\r\n\r\n    ~ node Consumer pump down P4  &lt;-- only consumer is working\r\n    ~ node Consumer pump down P4\r\n    Consumer need change          &lt;-- and stop since need change\r\n    ~ node Node pump down P2      &lt;-- when node start do job\r\n    ~ node Node pump down P2\r\n    ~ node Node pump down P2\r\n    ~ node Node pump up P3\r\n    ~ node Node pump up P3\r\n    ~ node Node pump up P3\r\n    Node need change              &lt;-- and need change and wait producer\r\n    ~ node Producer pump up P1    &lt;-- when producer start do job\r\n    ~ node Producer pump up P1\r\n    ~ node Producer pump up P1\r\n    ~ node Producer pump up P1\r\n    ~ node Producer pump up P1\r\n    Producer need change          &lt;-- here all nodes work and\r\n    ~ node Producer pump up P2        PumpingCapacities go up and down\r\n    ~ node Consumer pump down P3      moving water\r\n    ~ node Node pump down P1\r\n    ~ node Node pump down P1\r\n    ~ node Consumer pump down P3\r\n    ~ node Producer pump up P2\r\n    ~ node Node pump down P1\r\n    ~ node Consumer pump down P3\r\n    ~ node Producer pump up P2\r\n    ~ node Node pump down P1\r\n    Consumer need change\r\n    Producer need change\r\n    ~ node Node pump down P1\r\n    ~ node Node pump up P4\r\n    ~ node Node pump up P4\r\n    Node need change\r\n    ~ node Node pump down P2\r\n    ~ node Consumer pump down P4\r\n    ~ node Producer pump up P1\r\n    ...\r\n\r\nthe memory usage is **constant** (would not be if you were to use `TransferQueue`).\r\n\r\nThen\r\n\r\n&gt; What would be a realistic use case where java.util.Exchanger would be the best choice of synchronizer?\r\n\r\nany in which two processes are mutually synchronized to perform a task in which the work of one influences the other and vice versa. The producer/consumer pattern in which the producer must wait for the consumer (i.e. and thus not accumulate excessive work) may be a good example.\r\n\r\n&gt; rather than move it along to another thread for further action?\r\n\r\nBecause both threads are sharing information and you want the actions to be done concurrently, so you can&#39;t just pass it from one thread to the other.\r\n\r\nSuppose you have the following recurrence function\r\n\r\n    G{i+1} = g( H{i}, G{i} )\r\n    H{i+1} = h( H{i}, G{i} )\r\n\r\nyou can start **for every step two threads** to run in parallel both `g` and `h` or you could use `Exchanger` and start only once two threads.\r\n\r\nOf course you can use a lot of other structures but you will see that in those you have to think about the possibility of a deadlock while `Exchanger` makes that exchange simple and safe.\r\n\r\nFor example, suppose we want to perform a certain biological simulation (i.e. https://en.wikipedia.org/wiki/Nicholson%E2%80%93Bailey_model)\r\n\r\n    static void NicholsonBailey(double H, double P, double k, double a, double c, AtomicBoolean stop) {\r\n        // H and P exchange their values (H get p and P get H)\r\n        final Exchanger&lt;Double&gt; e = new Exchanger&lt;&gt;();\r\n\r\n        // H function\r\n        new Thread(() -&gt; { try {\r\n            double h = H, p = P;\r\n            while(!stop.get()) {\r\n                h = k * h * Math.exp(-a * p); // expensive\r\n                p = e.exchange(h);\r\n            }\r\n            e.exchange(0., 1, TimeUnit.MILLISECONDS);\r\n        } catch (InterruptedException | TimeoutException ex) { /* end */ }}).start();\r\n\r\n        // P function\r\n        new Thread(() -&gt; { try {\r\n            double h = H, p = P;\r\n            while(!stop.get()) {\r\n                System.out.printf(&quot;(H, P) := (%e, %e)%n&quot;, h, p);\r\n                p = c * h * (1 - Math.exp(-a * p)); // expensive\r\n                h = e.exchange(p);\r\n            }\r\n            e.exchange(0., 1, TimeUnit.MILLISECONDS);\r\n        } catch (InterruptedException | TimeoutException ex) { /* end */ }}).start();\r\n    }\r\n\r\n    @SneakyThrows\r\n    public static void main(String... args) {\r\n        AtomicBoolean stop = new AtomicBoolean(false);\r\n        double k = 2, a = 0.02, c = 1;\r\n        NicholsonBailey(Math.log(k) / a + 0.3, (k * Math.log(k)) / ((k - 1) * a * c) + 0.3, k, a, c, stop);\r\n\r\n        // run simulation until stop\r\n        Thread.sleep(100);\r\n        stop.set(true);\r\n    }\r\n\r\njust by using `Exchanger` we can easily synchronize both calculations.","title":"What&#39;s a realistic use case for Exchanger?","body":"<p><code>Exchanger</code> and <code>TransferQueue</code> are very different, basically <code>TransferQueue</code> can fill all your memory if the consumer is very slow, while <code>Exchanger</code> uses constant memory, producing a synchronization when the paired threads are ready.</p>\n<p>Obviously the use of one or the other will have drastic consequences on the efficiency of synchronization and workflow (but also on the determinism in the use of resources).</p>\n<p>Note: the reasons for the producer and consumer to request synchronization may be different reasons, not only that they have a full buffer, it could be for example that one has been left waiting for the other. Also, with <code>Exchange</code> producer/consumer are confused (the consumer can deliver results to the producer), while with <code>TransferQueue</code> you should create additional structures.</p>\n<p>As an example, think of your concurrent process as a piping infrastructure and the nodes move water up and down (the nodes contain water pumps).</p>\n<p>Also, the pumping effect move across all infrastructure (like a wave), think your concurrent process use one thread result to be used on the other thread and so on.</p>\n<p>(Comments in code)</p>\n<pre><code>package com.computermind.sandbox.concurrent;\n\nimport lombok.AllArgsConstructor;\nimport lombok.SneakyThrows;\n\nimport java.util.concurrent.Exchanger;\nimport java.util.concurrent.ThreadLocalRandom;\n\npublic class ExchangerTransferQueue {\n    \n    // helper for wait\n    @SneakyThrows\n    public static void _wait() {\n        Thread.sleep(ThreadLocalRandom.current().nextInt(1_000, 5_000));\n    }\n\n    // the pumping capacity is the work a node must to do, this work\n    // is moving across threads then, the `PumpingCapacity` &quot;P1&quot; will\n    // be used by the producer but later (when water move) &quot;P1&quot; will be\n    // used by consumer and so (the `exchange` sync move PumpingCapacity\n    // instances)\n    @AllArgsConstructor\n    static\n    class PumpingCapacity {\n        String name;\n        int from;\n        int to;\n\n        // do &quot;up&quot; work (if any)\n        boolean up(String node) {\n            if(from &lt; 1) return false;\n            System.out.printf(&quot;~ node %s pump up %s%n&quot;, node, name);\n            from -= 1; to += 1;\n            return true;\n        }\n        // do &quot;down&quot; work (if any)\n        boolean down(String node) {\n            if(to &lt; 1) return false;\n            System.out.printf(&quot;~ node %s pump down %s%n&quot;, node, name);\n            from += 1; to -= 1;\n            return true;\n        }\n    }\n\n    // the producer have a initial PumpingCapacity and\n    // create the exchange to the next node\n    static class WaterPumpProducer implements Runnable {\n        PumpingCapacity p;\n        final Exchanger&lt;PumpingCapacity&gt; b = new Exchanger&lt;&gt;();\n\n        WaterPumpProducer(PumpingCapacity p) {\n            this.p = p;\n        }\n\n        @SneakyThrows\n        @Override\n        public void run() {\n            // for ever\n            while(true) {\n                // do work\n                while (p.up(&quot;Producer&quot;)) _wait();\n                // and exchange\n                System.out.println(&quot;Producer need change&quot;);\n                p = b.exchange(p);\n            }\n        }\n    }\n\n    // an interemediate node have two PumpingCapacity one working\n    // with the predecessor and other with the successor\n    static class WaterPumpNode implements Runnable {\n        PumpingCapacity p, q;\n        final Exchanger&lt;PumpingCapacity&gt; a;\n        final Exchanger&lt;PumpingCapacity&gt; b = new Exchanger&lt;&gt;();\n\n        WaterPumpNode(PumpingCapacity p, PumpingCapacity q, Exchanger&lt;PumpingCapacity&gt; a) {\n            this.p = p;\n            this.q = q;\n            this.a = a;\n        }\n\n        @SneakyThrows\n        @Override\n        public void run() {\n            while(true) {\n                while (p.down(&quot;Node&quot;)) _wait();\n                while (q.up(&quot;Node&quot;)) _wait();\n                System.out.println(&quot;Node need change&quot;);\n                p = a.exchange(p);\n                q = b.exchange(q);\n            }\n        }\n    }\n\n    static class WaterPumpConsumer implements Runnable {\n        PumpingCapacity p;\n        final Exchanger&lt;PumpingCapacity&gt; a;\n\n        WaterPumpConsumer(PumpingCapacity initialCapacity, Exchanger&lt;PumpingCapacity&gt; a) {\n            p = initialCapacity;\n            this.a = a;\n        }\n\n        @SneakyThrows\n        @Override\n        public void run() {\n            while(true) {\n                while (p.down(&quot;Consumer&quot;)) _wait();\n                System.out.println(&quot;Consumer need change&quot;);\n                p = a.exchange(p);\n            }\n        }\n    }\n\n    @SneakyThrows\n    public static void main(String... args) {\n\n        WaterPumpProducer producer = new WaterPumpProducer(new PumpingCapacity(&quot;P1&quot;, 5, 0));\n        WaterPumpNode node = new WaterPumpNode(new PumpingCapacity(&quot;P2&quot;, 0, 3), new PumpingCapacity(&quot;P3&quot;, 3, 0), producer.b);\n        WaterPumpConsumer consumer = new WaterPumpConsumer(new PumpingCapacity(&quot;P4&quot;, 0, 2), node.b);\n\n        // consumer run first, the consumer do job!\n        new Thread(consumer).start();\n\n        // wait to see consumer wait\n        Thread.sleep(15_000);\n\n        new Thread(node).start();\n\n        // wait to see node wait\n        Thread.sleep(15_000);\n\n        new Thread(producer).start();\n\n        // see how PumpingCapacities up and down across all pipe infrastructure\n    }\n\n}\n</code></pre>\n<p>with output (with comments)</p>\n<pre><code>~ node Consumer pump down P4  &lt;-- only consumer is working\n~ node Consumer pump down P4\nConsumer need change          &lt;-- and stop since need change\n~ node Node pump down P2      &lt;-- when node start do job\n~ node Node pump down P2\n~ node Node pump down P2\n~ node Node pump up P3\n~ node Node pump up P3\n~ node Node pump up P3\nNode need change              &lt;-- and need change and wait producer\n~ node Producer pump up P1    &lt;-- when producer start do job\n~ node Producer pump up P1\n~ node Producer pump up P1\n~ node Producer pump up P1\n~ node Producer pump up P1\nProducer need change          &lt;-- here all nodes work and\n~ node Producer pump up P2        PumpingCapacities go up and down\n~ node Consumer pump down P3      moving water\n~ node Node pump down P1\n~ node Node pump down P1\n~ node Consumer pump down P3\n~ node Producer pump up P2\n~ node Node pump down P1\n~ node Consumer pump down P3\n~ node Producer pump up P2\n~ node Node pump down P1\nConsumer need change\nProducer need change\n~ node Node pump down P1\n~ node Node pump up P4\n~ node Node pump up P4\nNode need change\n~ node Node pump down P2\n~ node Consumer pump down P4\n~ node Producer pump up P1\n...\n</code></pre>\n<p>the memory usage is <strong>constant</strong> (would not be if you were to use <code>TransferQueue</code>).</p>\n<p>Then</p>\n<blockquote>\n<p>What would be a realistic use case where java.util.Exchanger would be the best choice of synchronizer?</p>\n</blockquote>\n<p>any in which two processes are mutually synchronized to perform a task in which the work of one influences the other and vice versa. The producer/consumer pattern in which the producer must wait for the consumer (i.e. and thus not accumulate excessive work) may be a good example.</p>\n<blockquote>\n<p>rather than move it along to another thread for further action?</p>\n</blockquote>\n<p>Because both threads are sharing information and you want the actions to be done concurrently, so you can't just pass it from one thread to the other.</p>\n<p>Suppose you have the following recurrence function</p>\n<pre><code>G{i+1} = g( H{i}, G{i} )\nH{i+1} = h( H{i}, G{i} )\n</code></pre>\n<p>you can start <strong>for every step two threads</strong> to run in parallel both <code>g</code> and <code>h</code> or you could use <code>Exchanger</code> and start only once two threads.</p>\n<p>Of course you can use a lot of other structures but you will see that in those you have to think about the possibility of a deadlock while <code>Exchanger</code> makes that exchange simple and safe.</p>\n<p>For example, suppose we want to perform a certain biological simulation (i.e. <a href=\"https://en.wikipedia.org/wiki/Nicholson%E2%80%93Bailey_model\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Nicholson%E2%80%93Bailey_model</a>)</p>\n<pre><code>static void NicholsonBailey(double H, double P, double k, double a, double c, AtomicBoolean stop) {\n    // H and P exchange their values (H get p and P get H)\n    final Exchanger&lt;Double&gt; e = new Exchanger&lt;&gt;();\n\n    // H function\n    new Thread(() -&gt; { try {\n        double h = H, p = P;\n        while(!stop.get()) {\n            h = k * h * Math.exp(-a * p); // expensive\n            p = e.exchange(h);\n        }\n        e.exchange(0., 1, TimeUnit.MILLISECONDS);\n    } catch (InterruptedException | TimeoutException ex) { /* end */ }}).start();\n\n    // P function\n    new Thread(() -&gt; { try {\n        double h = H, p = P;\n        while(!stop.get()) {\n            System.out.printf(&quot;(H, P) := (%e, %e)%n&quot;, h, p);\n            p = c * h * (1 - Math.exp(-a * p)); // expensive\n            h = e.exchange(p);\n        }\n        e.exchange(0., 1, TimeUnit.MILLISECONDS);\n    } catch (InterruptedException | TimeoutException ex) { /* end */ }}).start();\n}\n\n@SneakyThrows\npublic static void main(String... args) {\n    AtomicBoolean stop = new AtomicBoolean(false);\n    double k = 2, a = 0.02, c = 1;\n    NicholsonBailey(Math.log(k) / a + 0.3, (k * Math.log(k)) / ((k - 1) * a * c) + 0.3, k, a, c, stop);\n\n    // run simulation until stop\n    Thread.sleep(100);\n    stop.set(true);\n}\n</code></pre>\n<p>just by using <code>Exchanger</code> we can easily synchronize both calculations.</p>\n"}],"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69424647,"answer_count":1,"score":0,"last_activity_date":1633335576,"creation_date":1633257132,"question_id":69423990,"body_markdown":"What would be a realistic use case where java.util.Exchanger would be the best choice of synchronizer?\r\n\r\nI&#39;ve seen snippets from GitHub and tutorial sites but they always seem contrived and better solved with a TransferQueue","title":"What&#39;s a realistic use case for Exchanger?","body":"<p>What would be a realistic use case where java.util.Exchanger would be the best choice of synchronizer?</p>\n<p>I've seen snippets from GitHub and tutorial sites but they always seem contrived and better solved with a TransferQueue</p>\n"},{"tags":["java","xml","docx","docx4j","doc"],"comments":[{"owner":{"account_id":11974303,"reputation":352,"user_id":8761920,"display_name":"Kam&#232;l Romdhani"},"score":0,"creation_date":1632838333,"post_id":69363044,"comment_id":122598442,"body_markdown":"can you share full code","body":"can you share full code"},{"owner":{"account_id":20788042,"reputation":69,"user_id":15266844,"display_name":"i.svirchev"},"score":0,"creation_date":1632908786,"post_id":69363044,"comment_id":122618046,"body_markdown":"That is basically it. The rest is the save function here \n`wordMLPackage.save(new java.io.File(&quot;testttt.docx&quot;))`    \n\nand the following as imports\n`import com.aspose.words.Document;\n\nimport org.docx4j.openpackaging.packages.WordprocessingMLPackage;\n\nimport java.io.File;\n\nimport java.io.FileInputStream;`","body":"That is basically it. The rest is the save function here  <code>wordMLPackage.save(new java.io.File(&quot;testttt.docx&quot;))</code>      and the following as imports <code>import com.aspose.words.Document;  import org.docx4j.openpackaging.packages.WordprocessingMLPackage;  import java.io.File;  import java.io.FileInputStream;</code>"}],"answers":[{"tags":[],"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632869607,"creation_date":1632869607,"answer_id":69369242,"question_id":69363044,"body_markdown":"See https://github.com/plutext/docx4j/blob/master/docx4j-core/src/main/java/org/docx4j/convert/in/word2003xml/Word2003XmlConverter.java for 2003 XML files.\r\n\r\nNote that .doc is the old binary format; its not XML, it is something different again.","title":"Issue loading .XML files with doc4J in Java","body":"<p>See <a href=\"https://github.com/plutext/docx4j/blob/master/docx4j-core/src/main/java/org/docx4j/convert/in/word2003xml/Word2003XmlConverter.java\" rel=\"nofollow noreferrer\">https://github.com/plutext/docx4j/blob/master/docx4j-core/src/main/java/org/docx4j/convert/in/word2003xml/Word2003XmlConverter.java</a> for 2003 XML files.</p>\n<p>Note that .doc is the old binary format; its not XML, it is something different again.</p>\n"},{"tags":[],"owner":{"account_id":20788042,"reputation":69,"user_id":15266844,"display_name":"i.svirchev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633335545,"creation_date":1633335545,"answer_id":69432903,"question_id":69363044,"body_markdown":"Functionality by JasonPlutext here: https://github.com/plutext/docx4j/blob/master/docx4j-core/src/main/java/org/docx4j/convert/in/word2003xml/Word2003XmlConverter.java\r\n\r\nThis was later fixed with this commit here: https://github.com/plutext/docx4j/commit/2c846e7c633d0264757521d15a3f5f37b037b815","title":"Issue loading .XML files with doc4J in Java","body":"<p>Functionality by JasonPlutext here: <a href=\"https://github.com/plutext/docx4j/blob/master/docx4j-core/src/main/java/org/docx4j/convert/in/word2003xml/Word2003XmlConverter.java\" rel=\"nofollow noreferrer\">https://github.com/plutext/docx4j/blob/master/docx4j-core/src/main/java/org/docx4j/convert/in/word2003xml/Word2003XmlConverter.java</a></p>\n<p>This was later fixed with this commit here: <a href=\"https://github.com/plutext/docx4j/commit/2c846e7c633d0264757521d15a3f5f37b037b815\" rel=\"nofollow noreferrer\">https://github.com/plutext/docx4j/commit/2c846e7c633d0264757521d15a3f5f37b037b815</a></p>\n"}],"owner":{"account_id":20788042,"reputation":69,"user_id":15266844,"display_name":"i.svirchev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1018,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69369242,"answer_count":2,"score":1,"last_activity_date":1633335545,"creation_date":1632837175,"question_id":69363044,"body_markdown":"I am facing an issue where I cannot load even the sample **word2003xml.xml** which is provided by doc4J for tests in **docx4j-samples-docx4j-8.3.1.zip** found here https://www.docx4java.org/downloads.html\r\n\r\nI tried loading the file using 2 different constructors but the result is the same. \r\n\r\n    WordprocessingMLPackage wordMLPackage = WordprocessingMLPackage.load(new FileInputStream(new File(&quot;C:\\\\Mine\\\\project4tests\\\\word2003xml.xml&quot;)));\r\n    WordprocessingMLPackage wordMLPackage2 = WordprocessingMLPackage.load(new java.io.File(&quot;C:\\\\Mine\\\\project4tests\\\\word2003xml.xml&quot;));\r\n\r\nHere is the exception that I am getting:\r\n\r\n    Exception in thread &quot;main&quot; org.docx4j.openpackaging.exceptions.Docx4JException: Couldn&#39;t load xml from stream \r\n    \tat org.docx4j.openpackaging.packages.OpcPackage.load(OpcPackage.java:641)\r\n    \tat org.docx4j.openpackaging.packages.OpcPackage.load(OpcPackage.java:418)\r\n    \tat org.docx4j.openpackaging.packages.OpcPackage.load(OpcPackage.java:376)\r\n    \tat org.docx4j.openpackaging.packages.OpcPackage.load(OpcPackage.java:341)\r\n    \tat org.docx4j.openpackaging.packages.WordprocessingMLPackage.load(WordprocessingMLPackage.java:182)\r\n    \tat Main.main(Main.java:13)\r\n    Caused by: javax.xml.bind.UnmarshalException\r\n      with linked exception:\r\n    [com.sun.istack.internal.SAXParseException2; lineNumber: 3; columnNumber: 827; unexpected element (uri:&quot;http://schemas.microsoft.com/office/word/2003/wordml&quot;, local:&quot;wordDocument&quot;). Expected elements are &lt;{http://schemas.microsoft.com/office/2006/xmlPackage}package&gt;,&lt;{http://schemas.microsoft.com/office/2006/xmlPackage}part&gt;,&lt;{http://schemas.microsoft.com/office/2006/xmlPackage}xmlData&gt;]\r\n    \tat com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.handleStreamException(UnmarshallerImpl.java:468)\r\n    \tat com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:402)\r\n    \tat com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:371)\r\n    \tat org.docx4j.convert.in.FlatOpcXmlImporter.&lt;init&gt;(FlatOpcXmlImporter.java:132)\r\n    \tat org.docx4j.openpackaging.packages.OpcPackage.load(OpcPackage.java:638)\r\n    \t... 5 more\r\n    Caused by: com.sun.istack.internal.SAXParseException2; lineNumber: 3; columnNumber: 827; unexpected element (uri:&quot;http://schemas.microsoft.com/office/word/2003/wordml&quot;, local:&quot;wordDocument&quot;). Expected elements are &lt;{http://schemas.microsoft.com/office/2006/xmlPackage}package&gt;,&lt;{http://schemas.microsoft.com/office/2006/xmlPackage}part&gt;,&lt;{http://schemas.microsoft.com/office/2006/xmlPackage}xmlData&gt;\r\n    \tat com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallingContext.handleEvent(UnmarshallingContext.java:726)\r\n    \tat com.sun.xml.internal.bind.v2.runtime.unmarshaller.Loader.reportError(Loader.java:247)\r\n    \tat com.sun.xml.internal.bind.v2.runtime.unmarshaller.Loader.reportError(Loader.java:242)\r\n    \tat com.sun.xml.internal.bind.v2.runtime.unmarshaller.Loader.reportUnexpectedChildElement(Loader.java:109)\r\n    \tat com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallingContext$DefaultRootLoader.childElement(UnmarshallingContext.java:1131)\r\n    \tat com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallingContext._startElement(UnmarshallingContext.java:556)\r\n    \tat com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallingContext.startElement(UnmarshallingContext.java:538)\r\n    \tat com.sun.xml.internal.bind.v2.runtime.unmarshaller.InterningXmlVisitor.startElement(InterningXmlVisitor.java:60)\r\n    \tat com.sun.xml.internal.bind.v2.runtime.unmarshaller.StAXStreamConnector.handleStartElement(StAXStreamConnector.java:231)\r\n    \tat com.sun.xml.internal.bind.v2.runtime.unmarshaller.StAXStreamConnector.bridge(StAXStreamConnector.java:165)\r\n    \tat com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:400)\r\n    \t... 8 more\r\n    Caused by: javax.xml.bind.UnmarshalException: unexpected element (uri:&quot;http://schemas.microsoft.com/office/word/2003/wordml&quot;, local:&quot;wordDocument&quot;). Expected elements are &lt;{http://schemas.microsoft.com/office/2006/xmlPackage}package&gt;,&lt;{http://schemas.microsoft.com/office/2006/xmlPackage}part&gt;,&lt;{http://schemas.microsoft.com/office/2006/xmlPackage}xmlData&gt;\r\n    \t... 19 more\r\n\r\n\r\nThere is no issue loading a .DOCX file, however what I need to use the docx4J library is to convert an old .DOC (WordprocessingML more like an .XML) file into a .DOCX.\r\nSimilar to what is done here https://coderanch.com/t/721499/java/Word-XML-DOCX \r\n\r\nDoes anybody know why I cannot load the file properly?\r\n","title":"Issue loading .XML files with doc4J in Java","body":"<p>I am facing an issue where I cannot load even the sample <strong>word2003xml.xml</strong> which is provided by doc4J for tests in <strong>docx4j-samples-docx4j-8.3.1.zip</strong> found here <a href=\"https://www.docx4java.org/downloads.html\" rel=\"nofollow noreferrer\">https://www.docx4java.org/downloads.html</a></p>\n<p>I tried loading the file using 2 different constructors but the result is the same.</p>\n<pre><code>WordprocessingMLPackage wordMLPackage = WordprocessingMLPackage.load(new FileInputStream(new File(&quot;C:\\\\Mine\\\\project4tests\\\\word2003xml.xml&quot;)));\nWordprocessingMLPackage wordMLPackage2 = WordprocessingMLPackage.load(new java.io.File(&quot;C:\\\\Mine\\\\project4tests\\\\word2003xml.xml&quot;));\n</code></pre>\n<p>Here is the exception that I am getting:</p>\n<pre><code>Exception in thread &quot;main&quot; org.docx4j.openpackaging.exceptions.Docx4JException: Couldn't load xml from stream \n    at org.docx4j.openpackaging.packages.OpcPackage.load(OpcPackage.java:641)\n    at org.docx4j.openpackaging.packages.OpcPackage.load(OpcPackage.java:418)\n    at org.docx4j.openpackaging.packages.OpcPackage.load(OpcPackage.java:376)\n    at org.docx4j.openpackaging.packages.OpcPackage.load(OpcPackage.java:341)\n    at org.docx4j.openpackaging.packages.WordprocessingMLPackage.load(WordprocessingMLPackage.java:182)\n    at Main.main(Main.java:13)\nCaused by: javax.xml.bind.UnmarshalException\n  with linked exception:\n[com.sun.istack.internal.SAXParseException2; lineNumber: 3; columnNumber: 827; unexpected element (uri:&quot;http://schemas.microsoft.com/office/word/2003/wordml&quot;, local:&quot;wordDocument&quot;). Expected elements are &lt;{http://schemas.microsoft.com/office/2006/xmlPackage}package&gt;,&lt;{http://schemas.microsoft.com/office/2006/xmlPackage}part&gt;,&lt;{http://schemas.microsoft.com/office/2006/xmlPackage}xmlData&gt;]\n    at com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.handleStreamException(UnmarshallerImpl.java:468)\n    at com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:402)\n    at com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:371)\n    at org.docx4j.convert.in.FlatOpcXmlImporter.&lt;init&gt;(FlatOpcXmlImporter.java:132)\n    at org.docx4j.openpackaging.packages.OpcPackage.load(OpcPackage.java:638)\n    ... 5 more\nCaused by: com.sun.istack.internal.SAXParseException2; lineNumber: 3; columnNumber: 827; unexpected element (uri:&quot;http://schemas.microsoft.com/office/word/2003/wordml&quot;, local:&quot;wordDocument&quot;). Expected elements are &lt;{http://schemas.microsoft.com/office/2006/xmlPackage}package&gt;,&lt;{http://schemas.microsoft.com/office/2006/xmlPackage}part&gt;,&lt;{http://schemas.microsoft.com/office/2006/xmlPackage}xmlData&gt;\n    at com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallingContext.handleEvent(UnmarshallingContext.java:726)\n    at com.sun.xml.internal.bind.v2.runtime.unmarshaller.Loader.reportError(Loader.java:247)\n    at com.sun.xml.internal.bind.v2.runtime.unmarshaller.Loader.reportError(Loader.java:242)\n    at com.sun.xml.internal.bind.v2.runtime.unmarshaller.Loader.reportUnexpectedChildElement(Loader.java:109)\n    at com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallingContext$DefaultRootLoader.childElement(UnmarshallingContext.java:1131)\n    at com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallingContext._startElement(UnmarshallingContext.java:556)\n    at com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallingContext.startElement(UnmarshallingContext.java:538)\n    at com.sun.xml.internal.bind.v2.runtime.unmarshaller.InterningXmlVisitor.startElement(InterningXmlVisitor.java:60)\n    at com.sun.xml.internal.bind.v2.runtime.unmarshaller.StAXStreamConnector.handleStartElement(StAXStreamConnector.java:231)\n    at com.sun.xml.internal.bind.v2.runtime.unmarshaller.StAXStreamConnector.bridge(StAXStreamConnector.java:165)\n    at com.sun.xml.internal.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:400)\n    ... 8 more\nCaused by: javax.xml.bind.UnmarshalException: unexpected element (uri:&quot;http://schemas.microsoft.com/office/word/2003/wordml&quot;, local:&quot;wordDocument&quot;). Expected elements are &lt;{http://schemas.microsoft.com/office/2006/xmlPackage}package&gt;,&lt;{http://schemas.microsoft.com/office/2006/xmlPackage}part&gt;,&lt;{http://schemas.microsoft.com/office/2006/xmlPackage}xmlData&gt;\n    ... 19 more\n</code></pre>\n<p>There is no issue loading a .DOCX file, however what I need to use the docx4J library is to convert an old .DOC (WordprocessingML more like an .XML) file into a .DOCX.\nSimilar to what is done here <a href=\"https://coderanch.com/t/721499/java/Word-XML-DOCX\" rel=\"nofollow noreferrer\">https://coderanch.com/t/721499/java/Word-XML-DOCX</a></p>\n<p>Does anybody know why I cannot load the file properly?</p>\n"},{"tags":["java","android","android-fragments","spinner"],"answers":[{"tags":[],"owner":{"account_id":5877971,"reputation":1421,"user_id":4628279,"display_name":"akhil nair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633335330,"creation_date":1633120806,"answer_id":69411769,"question_id":69406988,"body_markdown":"You need to adapt the code inside the `onCreateView` as follows as the return type of `onCreateView` is View. Am also assuming that the spinner is inside the `fragment_fragment2` layout.\r\n\r\nAlso for `ArrayAdapter.createFromResource` you need to pass context. Since you are in a fragment `this` refers to `Fragment`. Hence you need to pass `getAcitvity()`\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_fragment2, container, false);\r\n\r\n        Spinner spinner = view.findViewById(R.id.spinner1);\r\n        ArrayAdapter&lt;CharSequence&gt; adapter =  ArrayAdapter.createFromResource(getActivity(),R.array.documento, \r\n        android.R.layout.simple_spinner_item);\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner.setAdapter(adapter);\r\n        spinner.setOnItemSelectedListener(this);\r\n        return view;\r\n    }\r\n\r\nUpdate:\r\nYou also need to adapt the code inside the `onItemSelected`\r\n\r\n    @Override\r\n    public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int i, long l) {\r\n        String text = parent.getItemAtPosition(i).toString();\r\n        Toast.makeText(parent.getContext(), text, Toast.LENGTH_SHORT).show();\r\n    }","title":"How to make a spinner inside a fragment?","body":"<p>You need to adapt the code inside the <code>onCreateView</code> as follows as the return type of <code>onCreateView</code> is View. Am also assuming that the spinner is inside the <code>fragment_fragment2</code> layout.</p>\n<p>Also for <code>ArrayAdapter.createFromResource</code> you need to pass context. Since you are in a fragment <code>this</code> refers to <code>Fragment</code>. Hence you need to pass <code>getAcitvity()</code></p>\n<pre><code>@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    // Inflate the layout for this fragment\n    View view = inflater.inflate(R.layout.fragment_fragment2, container, false);\n\n    Spinner spinner = view.findViewById(R.id.spinner1);\n    ArrayAdapter&lt;CharSequence&gt; adapter =  ArrayAdapter.createFromResource(getActivity(),R.array.documento, \n    android.R.layout.simple_spinner_item);\n    adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n    spinner.setAdapter(adapter);\n    spinner.setOnItemSelectedListener(this);\n    return view;\n}\n</code></pre>\n<p>Update:\nYou also need to adapt the code inside the <code>onItemSelected</code></p>\n<pre><code>@Override\npublic void onItemSelected(AdapterView&lt;?&gt; parent, View view, int i, long l) {\n    String text = parent.getItemAtPosition(i).toString();\n    Toast.makeText(parent.getContext(), text, Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n"}],"owner":{"account_id":22915049,"reputation":11,"user_id":17051759,"display_name":"Lucas da Costa Silva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69411769,"answer_count":1,"score":0,"last_activity_date":1633335330,"creation_date":1633096094,"question_id":69406988,"body_markdown":"I&#39;m developing a small app that needs multiple tabs, each with different data inputs, all was going ok using fragments, one of these inputs must be made in the form of a spinner, but doing so results in &quot;Cannot solve symbol&quot; on &#39;parent&#39; and &#39;position&#39;, also &#39;createFromResource (android.content.Context, int, int)&#39; in &#39;android.widget.ArrayAdapter&#39; cannot be applied to &#39;(com.example.sinalt2.fragment2, int, int)&#39;, any way the code is here, any help is appreciated.\r\n\r\n``` public class fragment2 extends Fragment implements AdapterView.OnItemSelectedListener{\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment_fragment2, container, false);\r\n\r\n        Spinner spinner = findViewById(R.id.spinner1);\r\n        ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(this,R.array.documento, android.R.layout.simple_spinner_item);\r\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner.setAdapter(adapter);\r\n        spinner.setOnItemSelectedListener(this);\r\n    }\r\n\r\n    @Override\r\n    public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n        String text = parent.getItemPosition(position).toString();\r\n        Toast.makeText(parent.getContext(), text, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    @Override\r\n    public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\r\n\r\n    }\r\n}\r\n``` \r\n``` \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.fragment2&quot;&gt;\r\n\r\n    &lt;!-- TODO: Update blank fragment layout --&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView6&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;120dp&quot;\r\n        android:layout_marginTop=&quot;43dp&quot;\r\n        android:layout_marginEnd=&quot;8dp&quot;\r\n        android:text=&quot;Nome *&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/editTextTextPersonName4&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;180dp&quot;\r\n        android:layout_marginTop=&quot;30dp&quot;\r\n        android:layout_marginEnd=&quot;8dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:hint=&quot;Digite seu nome&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        android:minHeight=&quot;48dp&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView8&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;36dp&quot;\r\n        android:layout_marginTop=&quot;92dp&quot;\r\n        android:layout_marginEnd=&quot;8dp&quot;\r\n        android:text=&quot;Tipo de documento *&quot; /&gt;\r\n\r\n    &lt;Spinner\r\n        android:id=&quot;@+id/spinner1&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;260dp&quot;\r\n        android:layout_marginTop=&quot;78dp&quot;\r\n        android:layout_marginEnd=&quot;8dp&quot;\r\n        android:entries=&quot;@array/documento&quot;\r\n        android:minHeight=&quot;48dp&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView7&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;66dp&quot;\r\n        android:layout_marginTop=&quot;140dp&quot;\r\n        android:layout_marginEnd=&quot;8dp&quot;\r\n        android:text=&quot;N&#186; Documento *&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/editTextNumber&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;180dp&quot;\r\n        android:layout_marginTop=&quot;125dp&quot;\r\n        android:layout_marginEnd=&quot;8dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:inputType=&quot;number&quot;\r\n        android:minHeight=&quot;48dp&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView9&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;102dp&quot;\r\n        android:layout_marginTop=&quot;190dp&quot;\r\n        android:layout_marginEnd=&quot;8dp&quot;\r\n        android:text=&quot;Telefone *&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/editTextPhone&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;180dp&quot;\r\n        android:layout_marginTop=&quot;176dp&quot;\r\n        android:layout_marginEnd=&quot;8dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:inputType=&quot;phone&quot;\r\n        android:minHeight=&quot;48dp&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView10&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;114dp&quot;\r\n        android:layout_marginTop=&quot;245dp&quot;\r\n        android:layout_marginEnd=&quot;8dp&quot;\r\n        android:text=&quot;E-mail *&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/editTextTextEmailAddress&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;180dp&quot;\r\n        android:layout_marginTop=&quot;226dp&quot;\r\n        android:layout_marginEnd=&quot;8dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:inputType=&quot;textEmailAddress&quot;\r\n        android:minHeight=&quot;48dp&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView11&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;70dp&quot;\r\n        android:layout_marginTop=&quot;290dp&quot;\r\n        android:layout_marginEnd=&quot;8dp&quot;\r\n        android:text=&quot;Munic&#237;pio/UF *&quot; /&gt;\r\n\r\n&lt;/FrameLayout&gt;\r\n``` ","title":"How to make a spinner inside a fragment?","body":"<p>I'm developing a small app that needs multiple tabs, each with different data inputs, all was going ok using fragments, one of these inputs must be made in the form of a spinner, but doing so results in &quot;Cannot solve symbol&quot; on 'parent' and 'position', also 'createFromResource (android.content.Context, int, int)' in 'android.widget.ArrayAdapter' cannot be applied to '(com.example.sinalt2.fragment2, int, int)', any way the code is here, any help is appreciated.</p>\n<pre><code>\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_fragment2, container, false);\n\n        Spinner spinner = findViewById(R.id.spinner1);\n        ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(this,R.array.documento, android.R.layout.simple_spinner_item);\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner.setAdapter(adapter);\n        spinner.setOnItemSelectedListener(this);\n    }\n\n    @Override\n    public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n        String text = parent.getItemPosition(position).toString();\n        Toast.makeText(parent.getContext(), text, Toast.LENGTH_SHORT).show();\n    }\n\n    @Override\n    public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\n\n    }\n}\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.fragment2&quot;&gt;\n\n    &lt;!-- TODO: Update blank fragment layout --&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView6&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;120dp&quot;\n        android:layout_marginTop=&quot;43dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:text=&quot;Nome *&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/editTextTextPersonName4&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;180dp&quot;\n        android:layout_marginTop=&quot;30dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;Digite seu nome&quot;\n        android:inputType=&quot;textPersonName&quot;\n        android:minHeight=&quot;48dp&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView8&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;36dp&quot;\n        android:layout_marginTop=&quot;92dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:text=&quot;Tipo de documento *&quot; /&gt;\n\n    &lt;Spinner\n        android:id=&quot;@+id/spinner1&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;260dp&quot;\n        android:layout_marginTop=&quot;78dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:entries=&quot;@array/documento&quot;\n        android:minHeight=&quot;48dp&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView7&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;66dp&quot;\n        android:layout_marginTop=&quot;140dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:text=&quot;NÂº Documento *&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/editTextNumber&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;180dp&quot;\n        android:layout_marginTop=&quot;125dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:ems=&quot;10&quot;\n        android:inputType=&quot;number&quot;\n        android:minHeight=&quot;48dp&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView9&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;102dp&quot;\n        android:layout_marginTop=&quot;190dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:text=&quot;Telefone *&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/editTextPhone&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;180dp&quot;\n        android:layout_marginTop=&quot;176dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:ems=&quot;10&quot;\n        android:inputType=&quot;phone&quot;\n        android:minHeight=&quot;48dp&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView10&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;114dp&quot;\n        android:layout_marginTop=&quot;245dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:text=&quot;E-mail *&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/editTextTextEmailAddress&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;180dp&quot;\n        android:layout_marginTop=&quot;226dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:ems=&quot;10&quot;\n        android:inputType=&quot;textEmailAddress&quot;\n        android:minHeight=&quot;48dp&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView11&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;70dp&quot;\n        android:layout_marginTop=&quot;290dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:text=&quot;MunicÃ­pio/UF *&quot; /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","rabbitmq"],"answers":[{"tags":[],"owner":{"account_id":16991909,"reputation":11,"user_id":13178747,"display_name":"Ð˜Ð»ÑŒÑ ÐšÑƒÐ½Ñ‘Ð²"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633335276,"creation_date":1633332676,"answer_id":69432372,"question_id":68635603,"body_markdown":"You can check what is passed in the headers. In my case, the problem was in the header `CamelCxfMessage`.","title":"RabbitMQ error java.lang.IllegalArgumentException: invalid value in table","body":"<p>You can check what is passed in the headers. In my case, the problem was in the header <code>CamelCxfMessage</code>.</p>\n"}],"owner":{"account_id":7588318,"reputation":179,"user_id":5756695,"display_name":"CodeLearner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633335276,"creation_date":1627991824,"question_id":68635603,"body_markdown":"I am upgrading my application from SpringBoot 1.5 to 2.3 and the following rabbitmq code section throws ``` java.lang.IllegalArgumentException: invalid value in table ```\r\n\r\nCode snippet\r\n```\r\nprivate ProcessorDefinition&lt;RouteDefinition&gt; sendMessage() {\r\n   return from(&quot;direct:publish-message&quot;).routeId(&quot;SendMessage&quot;)\r\n          .to(&quot;{{rabbitmq.producer.endpoint}}&quot;);\r\n}\r\n```\r\nProducer endpoint configured in application.properties as below\r\n```\r\nrabbitmq.producer.endpoint = rabbitmq://${spring.rabbitmq.host}/${exchangeName}?BridgeEndpoint=true&amp;queue=${producerQueueName}&amp;autoDelete=false&amp;declare=true&amp;routingKey=${routingKey}&amp;exchangeType=topic&amp;connectionFactory=#connectionFactory\r\n```\r\n\r\nThe error \r\n```\r\nERROR SendMessage - ID-IN-00500980-1227984484357-0-4 &gt;&gt;&gt; Exception , java.lang.IllegalArgumentException: invalid value in table\r\n    at com.rabbitmq.client.impl.Frame.fieldValueSize(Frame.java:310)\r\n    at com.rabbitmq.client.impl.Frame.arraySize(Frame.java:321)\r\n    at com.rabbitmq.client.impl.Frame.fieldValueSize(Frame.java:302)\r\n    at com.rabbitmq.client.impl.Frame.tableSize(Frame.java:250)\r\n    at com.rabbitmq.client.impl.ValueWriter.writeTable(ValueWriter.java:119)\r\n    at com.rabbitmq.client.impl.ContentHeaderPropertyWriter.writeTable(ContentHeaderPropertyWriter.java:97)\r\n    at com.rabbitmq.client.AMQP$BasicProperties.writePropertiesTo(AMQP.java:1848)\r\n    at com.rabbitmq.client.impl.AMQContentHeader.writeTo(AMQContentHeader.java:50)\r\n    at com.rabbitmq.client.impl.AMQContentHeader.toFrame(AMQContentHeader.java:78)\r\n    at com.rabbitmq.client.impl.AMQCommand.transmit(AMQCommand.java:107)\r\n    at com.rabbitmq.client.impl.AMQChannel.quiescingTransmit(AMQChannel.java:455)\r\n    at com.rabbitmq.client.impl.AMQChannel.transmit(AMQChannel.java:428)\r\n    at com.rabbitmq.client.impl.ChannelN.basicPublish(ChannelN.java:710)\r\n    at com.rabbitmq.client.impl.recovery.AutorecoveringChannel.basicPublish(AutorecoveringChannel.java:207)\r\n    at org.apache.camel.component.rabbitmq.RabbitMQMessagePublisher.publishToRabbitMQ(RabbitMQMessagePublisher.java:129)\r\n    at org.apache.camel.component.rabbitmq.RabbitMQMessagePublisher.publish(RabbitMQMessagePublisher.java:103)\r\n    at org.apache.camel.component.rabbitmq.RabbitMQEndpoint.publishExchangeToChannel(RabbitMQEndpoint.java:209)\r\n    at org.apache.camel.component.rabbitmq.RabbitMQProducer$2.doWithChannel(RabbitMQProducer.java:288)\r\n    at org.apache.camel.component.rabbitmq.RabbitMQProducer$2.doWithChannel(RabbitMQProducer.java:285)\r\n    at org.apache.camel.component.rabbitmq.RabbitMQProducer.execute(RabbitMQProducer.java:90)\r\n    at org.apache.camel.component.rabbitmq.RabbitMQProducer.basicPublish(RabbitMQProducer.java:285)\r\n    at org.apache.camel.component.rabbitmq.RabbitMQProducer.processInOnly(RabbitMQProducer.java:272)\r\n    at org.apache.camel.component.rabbitmq.RabbitMQProducer.process(RabbitMQProducer.java:197)\r\n    at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:134)\r\n    at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)\r\n    at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)\r\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)\r\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)\r\n    at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)\r\n    at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)\r\n    at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)\r\n    at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)\r\n    at java.base/java.util.TimerThread.mainLoop(Timer.java:556)\r\n    at java.base/java.util.TimerThread.run(Timer.java:506)\r\n```\r\n\r\nCan anyone suggest what is causing this issue?\r\n\r\nThanks","title":"RabbitMQ error java.lang.IllegalArgumentException: invalid value in table","body":"<p>I am upgrading my application from SpringBoot 1.5 to 2.3 and the following rabbitmq code section throws <code>java.lang.IllegalArgumentException: invalid value in table</code></p>\n<p>Code snippet</p>\n<pre><code>private ProcessorDefinition&lt;RouteDefinition&gt; sendMessage() {\n   return from(&quot;direct:publish-message&quot;).routeId(&quot;SendMessage&quot;)\n          .to(&quot;{{rabbitmq.producer.endpoint}}&quot;);\n}\n</code></pre>\n<p>Producer endpoint configured in application.properties as below</p>\n<pre><code>rabbitmq.producer.endpoint = rabbitmq://${spring.rabbitmq.host}/${exchangeName}?BridgeEndpoint=true&amp;queue=${producerQueueName}&amp;autoDelete=false&amp;declare=true&amp;routingKey=${routingKey}&amp;exchangeType=topic&amp;connectionFactory=#connectionFactory\n</code></pre>\n<p>The error</p>\n<pre><code>ERROR SendMessage - ID-IN-00500980-1227984484357-0-4 &gt;&gt;&gt; Exception , java.lang.IllegalArgumentException: invalid value in table\n    at com.rabbitmq.client.impl.Frame.fieldValueSize(Frame.java:310)\n    at com.rabbitmq.client.impl.Frame.arraySize(Frame.java:321)\n    at com.rabbitmq.client.impl.Frame.fieldValueSize(Frame.java:302)\n    at com.rabbitmq.client.impl.Frame.tableSize(Frame.java:250)\n    at com.rabbitmq.client.impl.ValueWriter.writeTable(ValueWriter.java:119)\n    at com.rabbitmq.client.impl.ContentHeaderPropertyWriter.writeTable(ContentHeaderPropertyWriter.java:97)\n    at com.rabbitmq.client.AMQP$BasicProperties.writePropertiesTo(AMQP.java:1848)\n    at com.rabbitmq.client.impl.AMQContentHeader.writeTo(AMQContentHeader.java:50)\n    at com.rabbitmq.client.impl.AMQContentHeader.toFrame(AMQContentHeader.java:78)\n    at com.rabbitmq.client.impl.AMQCommand.transmit(AMQCommand.java:107)\n    at com.rabbitmq.client.impl.AMQChannel.quiescingTransmit(AMQChannel.java:455)\n    at com.rabbitmq.client.impl.AMQChannel.transmit(AMQChannel.java:428)\n    at com.rabbitmq.client.impl.ChannelN.basicPublish(ChannelN.java:710)\n    at com.rabbitmq.client.impl.recovery.AutorecoveringChannel.basicPublish(AutorecoveringChannel.java:207)\n    at org.apache.camel.component.rabbitmq.RabbitMQMessagePublisher.publishToRabbitMQ(RabbitMQMessagePublisher.java:129)\n    at org.apache.camel.component.rabbitmq.RabbitMQMessagePublisher.publish(RabbitMQMessagePublisher.java:103)\n    at org.apache.camel.component.rabbitmq.RabbitMQEndpoint.publishExchangeToChannel(RabbitMQEndpoint.java:209)\n    at org.apache.camel.component.rabbitmq.RabbitMQProducer$2.doWithChannel(RabbitMQProducer.java:288)\n    at org.apache.camel.component.rabbitmq.RabbitMQProducer$2.doWithChannel(RabbitMQProducer.java:285)\n    at org.apache.camel.component.rabbitmq.RabbitMQProducer.execute(RabbitMQProducer.java:90)\n    at org.apache.camel.component.rabbitmq.RabbitMQProducer.basicPublish(RabbitMQProducer.java:285)\n    at org.apache.camel.component.rabbitmq.RabbitMQProducer.processInOnly(RabbitMQProducer.java:272)\n    at org.apache.camel.component.rabbitmq.RabbitMQProducer.process(RabbitMQProducer.java:197)\n    at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:134)\n    at org.apache.camel.management.DefaultInstrumentationProcessor.process(DefaultInstrumentationProcessor.java:78)\n    at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$RedeliveryState.run(RedeliveryErrorHandler.java:476)\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:185)\n    at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59)\n    at org.apache.camel.processor.Pipeline.process(Pipeline.java:87)\n    at org.apache.camel.processor.CamelInternalProcessor.process(CamelInternalProcessor.java:228)\n    at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:193)\n    at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:75)\n    at java.base/java.util.TimerThread.mainLoop(Timer.java:556)\n    at java.base/java.util.TimerThread.run(Timer.java:506)\n</code></pre>\n<p>Can anyone suggest what is causing this issue?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","maven","spring-cloud","netflix-eureka"],"comments":[{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":0,"creation_date":1610334598,"post_id":65660850,"comment_id":116091344,"body_markdown":"share the client config code","body":"share the client config code"},{"owner":{"account_id":12849806,"reputation":310,"user_id":9295062,"display_name":"Jucaalpa"},"score":0,"creation_date":1610336315,"post_id":65660850,"comment_id":116091595,"body_markdown":"I just shared the application.yml and the main class. The project doesn&#39;t have more classes","body":"I just shared the application.yml and the main class. The project doesn&#39;t have more classes"},{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":0,"creation_date":1610336454,"post_id":65660850,"comment_id":116091619,"body_markdown":"you mentioned that you are seeing error for client, but shared server code and config","body":"you mentioned that you are seeing error for client, but shared server code and config"},{"owner":{"account_id":12849806,"reputation":310,"user_id":9295062,"display_name":"Jucaalpa"},"score":0,"creation_date":1610337736,"post_id":65660850,"comment_id":116091840,"body_markdown":"OK. I uploaded the server files.","body":"OK. I uploaded the server files."},{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":0,"creation_date":1610337913,"post_id":65660850,"comment_id":116091878,"body_markdown":"not sure , I see `@EnableEurekaServer` twice. shouldn&#39;t the client have `@EnableDiscoveryClient`? https://spring.io/guides/gs/service-registration-and-discovery/","body":"not sure , I see <code>@EnableEurekaServer</code> twice. shouldn&#39;t the client have <code>@EnableDiscoveryClient</code>? <a href=\"https://spring.io/guides/gs/service-registration-and-discovery/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/service-registration-and-discovery</a>"},{"owner":{"account_id":12849806,"reputation":310,"user_id":9295062,"display_name":"Jucaalpa"},"score":0,"creation_date":1610338704,"post_id":65660850,"comment_id":116092037,"body_markdown":"Sorry, it was a copy and paste error.","body":"Sorry, it was a copy and paste error."},{"owner":{"account_id":12849806,"reputation":310,"user_id":9295062,"display_name":"Jucaalpa"},"score":0,"creation_date":1610339795,"post_id":65660850,"comment_id":116092237,"body_markdown":"I just saw something important I missed in the stack trace: Caused by: java.lang.ClassNotFoundException: com.sun.jersey.client.apache4.ApacheHttpClient4. I am gonna answer the question with the solution I found","body":"I just saw something important I missed in the stack trace: Caused by: java.lang.ClassNotFoundException: com.sun.jersey.client.apache4.ApacheHttpClient4. I am gonna answer the question with the solution I found"}],"answers":[{"tags":[],"owner":{"account_id":2093262,"reputation":9483,"user_id":1862590,"display_name":"Sathiamoorthy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610339621,"creation_date":1610339621,"answer_id":65661380,"question_id":65660850,"body_markdown":"In **client yaml file**, add the below config\r\n\r\n    eureka:\r\n      client:\r\n        register-with-eureka: true\r\n        fetch-registry: true\r\n        service-url:\r\n          defaultZone: http://localhost:8761/eureka/\r\n      instance:\r\n        hostname: localhost","title":"Error starting up Eureka Client with Spring Boot 2.4.1","body":"<p>In <strong>client yaml file</strong>, add the below config</p>\n<pre><code>eureka:\n  client:\n    register-with-eureka: true\n    fetch-registry: true\n    service-url:\n      defaultZone: http://localhost:8761/eureka/\n  instance:\n    hostname: localhost\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12849806,"reputation":310,"user_id":9295062,"display_name":"Jucaalpa"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1610339830,"creation_date":1610339830,"answer_id":65661406,"question_id":65660850,"body_markdown":"I found that adding the following dependency, the problem doesn&#39;t occur.\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.sun.jersey.contribs&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jersey-apache-client4&lt;/artifactId&gt;\r\n    &lt;version&gt;1.19.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n","title":"Error starting up Eureka Client with Spring Boot 2.4.1","body":"<p>I found that adding the following dependency, the problem doesn't occur.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.jersey.contribs&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-apache-client4&lt;/artifactId&gt;\n    &lt;version&gt;1.19.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11502963,"reputation":661,"user_id":8430173,"display_name":"Negar Zamiri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633335212,"creation_date":1633335212,"answer_id":69432848,"question_id":65660850,"body_markdown":"May help: I changed the project SDK version from 16 to 1.8 and the problem disappeared! (in Intellij go to Project Structure) ","title":"Error starting up Eureka Client with Spring Boot 2.4.1","body":"<p>May help: I changed the project SDK version from 16 to 1.8 and the problem disappeared! (in Intellij go to Project Structure)</p>\n"}],"owner":{"account_id":12849806,"reputation":310,"user_id":9295062,"display_name":"Jucaalpa"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11181,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":65661406,"answer_count":3,"score":3,"last_activity_date":1633335212,"creation_date":1610334147,"question_id":65660850,"body_markdown":"I am developing an application using Spring Boot 2.4.1 and Eureka. I achieved to start up the Eureka Server, but with the Eureka Client I am getting the following error:\r\n\r\n```\r\nCaused by: java.lang.ClassNotFoundException: com.sun.jersey.client.apache4.ApacheHttpClient4\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:606) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\r\n\t... 55 common frames omitted\r\n...\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.cloud.netflix.eureka.CloudEurekaClient.getApplications()&quot; because the return value of &quot;org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getEurekaClient()&quot; is null\r\n\tat org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.maybeInitializeClient(EurekaServiceRegistry.java:54) ~[spring-cloud-netflix-eureka-client-3.0.0.jar:3.0.0]\r\n\tat org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.register(EurekaServiceRegistry.java:38) ~[spring-cloud-netflix-eureka-client-3.0.0.jar:3.0.0]\r\n\tat org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration.start(EurekaAutoServiceRegistration.java:83) ~[spring-cloud-netflix-eureka-client-3.0.0.jar:3.0.0]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.2.jar:5.3.2]\r\n```\r\n\r\nThe pom.xml is the following:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.4.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;15&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2020.0.0&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;groupId&gt;some.group&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;some-artefact&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t&lt;name&gt;some-name&lt;/name&gt;\r\n\t&lt;description&gt;some-description&lt;/description&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThe following is the application.yml:\r\n\r\n```\r\nspring:\r\n  application:\r\n    name: @project.artifactId@\r\n\r\nlogging:\r\n  file.name: ../logs/@project.artifactId@.log\r\n  file.max-size: 10MB\r\n\r\nserver:\r\n  port: 8080\r\n\r\n```\r\n\r\nAnd the main class:\r\n\r\n```\r\n@SpringBootApplication\r\n@ComponentScan(&quot;com.something&quot;)\r\n@EnableDiscoveryClient\r\npublic class SpigaConnectorServiceApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SpigaConnectorServiceApplication.class, args);\r\n\t}\r\n\r\n\t@RestController\r\n\tclass ServiceInstanceRestController {\r\n\r\n\t\t@Autowired\r\n\t\tprivate DiscoveryClient discoveryClient;\r\n\r\n\t\t@RequestMapping(&quot;/service-instances/{applicationName}&quot;)\r\n\t\tpublic List&lt;ServiceInstance&gt; serviceInstancesByApplicationName(\r\n\t\t\t\t@PathVariable String applicationName) {\r\n\t\t\treturn this.discoveryClient.getInstances(applicationName);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nThe following is the server pom:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.7.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;15&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;Hoxton.SR1&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;groupId&gt;com.ptesa.cloud&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;pt-eureka-server&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t&lt;name&gt;pt-eureka-server&lt;/name&gt;\r\n\t&lt;description&gt;Registry and discovery of services&lt;/description&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThe application.yml of the server:\r\n\r\n```\r\nserver:\r\n  port: 8761\r\neureka:\r\n  client:\r\n    registerWithEureka: false\r\n    fetchRegistry: false\r\n```\r\n\r\nAnd the class that start the server:\r\n\r\n```\r\n@EnableEurekaServer\r\n@SpringBootApplication\r\npublic class EurekaServerApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(com.ptesa.cloud.EurekaServerApplication.class);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nWhen using Spring Boot version 2.3.7.RELEASE I don&#39;t have this problem. The application starts almost normally. Just get the following warning:\r\n\r\n```\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by com.thoughtworks.xstream.core.util.Fields (file:/C:/Users/Jucaalpa/.m2/repository/com/thoughtworks/xstream/xstream/1.4.11.1/xstream-1.4.11.1.jar) to field java.util.TreeMap.comparator\r\nWARNING: Please consider reporting this to the maintainers of com.thoughtworks.xstream.core.util.Fields\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n```\r\n\r\nIs there a way to run Eureka Client with Spring Boot 2.4.1. Do you think it&#39;s better to use Spring Boot 2.3.7 because of compatibilities issue like the one I am having?\r\n\r\nThanks you.\r\n\r\n","title":"Error starting up Eureka Client with Spring Boot 2.4.1","body":"<p>I am developing an application using Spring Boot 2.4.1 and Eureka. I achieved to start up the Eureka Server, but with the Eureka Client I am getting the following error:</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: com.sun.jersey.client.apache4.ApacheHttpClient4\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:606) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\n    ... 55 common frames omitted\n...\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.cloud.netflix.eureka.CloudEurekaClient.getApplications()&quot; because the return value of &quot;org.springframework.cloud.netflix.eureka.serviceregistry.EurekaRegistration.getEurekaClient()&quot; is null\n    at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.maybeInitializeClient(EurekaServiceRegistry.java:54) ~[spring-cloud-netflix-eureka-client-3.0.0.jar:3.0.0]\n    at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry.register(EurekaServiceRegistry.java:38) ~[spring-cloud-netflix-eureka-client-3.0.0.jar:3.0.0]\n    at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration.start(EurekaAutoServiceRegistration.java:83) ~[spring-cloud-netflix-eureka-client-3.0.0.jar:3.0.0]\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.2.jar:5.3.2]\n</code></pre>\n<p>The pom.xml is the following:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;15&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2020.0.0&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n    &lt;groupId&gt;some.group&lt;/groupId&gt;\n    &lt;artifactId&gt;some-artefact&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;name&gt;some-name&lt;/name&gt;\n    &lt;description&gt;some-description&lt;/description&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The following is the application.yml:</p>\n<pre><code>spring:\n  application:\n    name: @project.artifactId@\n\nlogging:\n  file.name: ../logs/@project.artifactId@.log\n  file.max-size: 10MB\n\nserver:\n  port: 8080\n\n</code></pre>\n<p>And the main class:</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(&quot;com.something&quot;)\n@EnableDiscoveryClient\npublic class SpigaConnectorServiceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpigaConnectorServiceApplication.class, args);\n    }\n\n    @RestController\n    class ServiceInstanceRestController {\n\n        @Autowired\n        private DiscoveryClient discoveryClient;\n\n        @RequestMapping(&quot;/service-instances/{applicationName}&quot;)\n        public List&lt;ServiceInstance&gt; serviceInstancesByApplicationName(\n                @PathVariable String applicationName) {\n            return this.discoveryClient.getInstances(applicationName);\n        }\n    }\n}\n</code></pre>\n<p>The following is the server pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.7.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;15&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;Hoxton.SR1&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n    &lt;groupId&gt;com.ptesa.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;pt-eureka-server&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;name&gt;pt-eureka-server&lt;/name&gt;\n    &lt;description&gt;Registry and discovery of services&lt;/description&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The application.yml of the server:</p>\n<pre><code>server:\n  port: 8761\neureka:\n  client:\n    registerWithEureka: false\n    fetchRegistry: false\n</code></pre>\n<p>And the class that start the server:</p>\n<pre><code>@EnableEurekaServer\n@SpringBootApplication\npublic class EurekaServerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(com.ptesa.cloud.EurekaServerApplication.class);\n    }\n\n}\n</code></pre>\n<p>When using Spring Boot version 2.3.7.RELEASE I don't have this problem. The application starts almost normally. Just get the following warning:</p>\n<pre><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by com.thoughtworks.xstream.core.util.Fields (file:/C:/Users/Jucaalpa/.m2/repository/com/thoughtworks/xstream/xstream/1.4.11.1/xstream-1.4.11.1.jar) to field java.util.TreeMap.comparator\nWARNING: Please consider reporting this to the maintainers of com.thoughtworks.xstream.core.util.Fields\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n</code></pre>\n<p>Is there a way to run Eureka Client with Spring Boot 2.4.1. Do you think it's better to use Spring Boot 2.3.7 because of compatibilities issue like the one I am having?</p>\n<p>Thanks you.</p>\n"},{"tags":["java","swing","user-interface","jframe","setbounds"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1633345380,"post_id":69432792,"comment_id":122726376,"body_markdown":"*&quot;I want to place a button on the JFrame title bar as in the below image.&quot;* . . Why?","body":"<i>&quot;I want to place a button on the JFrame title bar as in the below image.&quot;</i> . . Why?"},{"owner":{"account_id":3815786,"reputation":95,"user_id":3165193,"display_name":"Kather"},"score":0,"creation_date":1633434604,"post_id":69432792,"comment_id":122753685,"body_markdown":"@AndrewThompson, In our application we need to have controls on the title bar as in MS word, excel, etc.","body":"@AndrewThompson, In our application we need to have controls on the title bar as in MS word, excel, etc."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1633442768,"post_id":69432792,"comment_id":122757394,"body_markdown":"The title bar is part of the OS component and java doesn&#39;t have access to it. If you want a custom title bar then you need to use an undecorated frame and add your own title bar as has already been suggested. You could try using the Metal LAF. It does create its own title bar. So you could get the root pane of the frame and then search the child components until you find the custom title bar. Then based on the layout manager used in the title bar you might be able to insert your own components.","body":"The title bar is part of the OS component and java doesn&#39;t have access to it. If you want a custom title bar then you need to use an undecorated frame and add your own title bar as has already been suggested. You could try using the Metal LAF. It does create its own title bar. So you could get the root pane of the frame and then search the child components until you find the custom title bar. Then based on the layout manager used in the title bar you might be able to insert your own components."}],"answers":[{"tags":[],"owner":{"account_id":22730645,"reputation":41,"user_id":16893613,"display_name":"Best Guy Ever"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633335121,"creation_date":1633335121,"answer_id":69432830,"question_id":69432792,"body_markdown":"You can set your frame to undecorated like this\r\n\r\n```\r\nframe.setUndecorated(true);\r\n```\r\n\r\nNote: Add this statement before ```frame.setVisiblle(true);```","title":"How to place a button over JFrame title bar","body":"<p>You can set your frame to undecorated like this</p>\n<pre><code>frame.setUndecorated(true);\n</code></pre>\n<p>Note: Add this statement before <code>frame.setVisiblle(true);</code></p>\n"}],"owner":{"account_id":3815786,"reputation":95,"user_id":3165193,"display_name":"Kather"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":451,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633335121,"creation_date":1633334918,"question_id":69432792,"body_markdown":"I want to place a button on the JFrame title bar as in the below image.\r\n\r\n[![Expected window][1]][1]\r\n\r\n\r\n&lt;br/&gt;\r\n&lt;br/&gt;\r\nWhen I set the bounds for the button using button.setBounds(), the button hides under the title bar as below.\r\n\r\n[![Window Appear][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tQHwN.png\r\n  [2]: https://i.stack.imgur.com/s1d8N.png\r\n\r\n&lt;br/&gt;\r\n\r\nI have given below the code that I had tried.\r\n``` \r\npublic class SetBoundsTest {\r\n\t   public static void main(String arg[]) {\r\n\t      JFrame frame = new JFrame(&quot;Test Frame&quot;);\r\n\t      frame.setSize(500, 250);\r\n\t      // Setting layout as null\r\n\t      frame.setLayout(null);\r\n\t      \r\n\t      // Creating Button\r\n\t      JButton button = new JButton(&quot;Test&quot;);\r\n\t      // Setting position and size of a button\r\n          button.setBounds(150,-20,120,40);\r\n\r\n\t      button.setBorder(BorderFactory.createLineBorder(Color.BLUE, 3));\r\n\t      button.setBackground(Color.MAGENTA);\r\n\t      frame.add(button);\r\n\t      frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t      frame.setLocationRelativeTo(null);\r\n\t      frame.setVisible(true);\r\n\t   }\r\n\t}\r\n```\r\nAny help is greatly appreciated. \r\n","title":"How to place a button over JFrame title bar","body":"<p>I want to place a button on the JFrame title bar as in the below image.</p>\n<p><a href=\"https://i.stack.imgur.com/tQHwN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tQHwN.png\" alt=\"Expected window\" /></a></p>\n<br/>\n<br/>\nWhen I set the bounds for the button using button.setBounds(), the button hides under the title bar as below.\n<p><a href=\"https://i.stack.imgur.com/s1d8N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s1d8N.png\" alt=\"Window Appear\" /></a></p>\n<br/>\n<p>I have given below the code that I had tried.</p>\n<pre><code>public class SetBoundsTest {\n       public static void main(String arg[]) {\n          JFrame frame = new JFrame(&quot;Test Frame&quot;);\n          frame.setSize(500, 250);\n          // Setting layout as null\n          frame.setLayout(null);\n          \n          // Creating Button\n          JButton button = new JButton(&quot;Test&quot;);\n          // Setting position and size of a button\n          button.setBounds(150,-20,120,40);\n\n          button.setBorder(BorderFactory.createLineBorder(Color.BLUE, 3));\n          button.setBackground(Color.MAGENTA);\n          frame.add(button);\n          frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n          frame.setLocationRelativeTo(null);\n          frame.setVisible(true);\n       }\n    }\n</code></pre>\n<p>Any help is greatly appreciated.</p>\n"},{"tags":["java","google-drive-api","google-docs-api"],"comments":[{"owner":{"account_id":14694206,"reputation":18740,"user_id":10612011,"display_name":"Iamblichus"},"score":0,"creation_date":1633084593,"post_id":69403668,"comment_id":122671810,"body_markdown":"Not sure I understand your question. The credentials you get from GCP identify the client/application, not the end-user. And if you want to use both Docs API and Drive API, you have to build the two services, and use each of them for the corresponding methods you want to use.","body":"Not sure I understand your question. The credentials you get from GCP identify the client/application, not the end-user. And if you want to use both Docs API and Drive API, you have to build the two services, and use each of them for the corresponding methods you want to use."},{"owner":{"account_id":20848717,"reputation":73,"user_id":15313720,"display_name":"Aline137"},"score":0,"creation_date":1633095110,"post_id":69403668,"comment_id":122676065,"body_markdown":"@Iamblichus I understand that part. I have created the 2 services but I am creating the document on behalf on end user, am I not? I would have to create service for each user/company in order to create/manage documents for them? Or are you suggesting I create application account for which documents would be created and shared with specific user?","body":"@Iamblichus I understand that part. I have created the 2 services but I am creating the document on behalf on end user, am I not? I would have to create service for each user/company in order to create/manage documents for them? Or are you suggesting I create application account for which documents would be created and shared with specific user?"},{"owner":{"account_id":14694206,"reputation":18740,"user_id":10612011,"display_name":"Iamblichus"},"score":0,"creation_date":1633333892,"post_id":69403668,"comment_id":122721990,"body_markdown":"`I am creating the document on behalf on end user, am I not?` I guess so, you didn&#39;t provide any code related to that. The application will do things for the end user who is currently executing it. But you don&#39;t need to add any end-user &quot;credentials&quot;. Also, why you are using a service account? In that case, if you want to create documents for several users (and not for the service account) you&#39;ll have to confer it domain-wide authority and use that to impersonate a regular account https://developers.google.com/identity/protocols/oauth2/service-account?hl=el#delegatingauthority","body":"<code>I am creating the document on behalf on end user, am I not?</code> I guess so, you didn&#39;t provide any code related to that. The application will do things for the end user who is currently executing it. But you don&#39;t need to add any end-user &quot;credentials&quot;. Also, why you are using a service account? In that case, if you want to create documents for several users (and not for the service account) you&#39;ll have to confer it domain-wide authority and use that to impersonate a regular account <a href=\"https://developers.google.com/identity/protocols/oauth2/service-account?hl=el#delegatingauthority\" rel=\"nofollow noreferrer\">developers.google.com/identity/protocols/oauth2/&hellip;</a>"},{"owner":{"account_id":20848717,"reputation":73,"user_id":15313720,"display_name":"Aline137"},"score":0,"creation_date":1633334681,"post_id":69403668,"comment_id":122722232,"body_markdown":"@Iamblichus sorry if I wasn&#39;t clear. I want to create files on behalf of end user who can be from different companies. When user creates document in my app I want to upload it to their drive. If I understood correctly I would need OAuth Client ID, which I got, but I am wondering how should I authenticate users? Should I fetch their refresh token and save it in a database? I have added the method I am using for creating file.","body":"@Iamblichus sorry if I wasn&#39;t clear. I want to create files on behalf of end user who can be from different companies. When user creates document in my app I want to upload it to their drive. If I understood correctly I would need OAuth Client ID, which I got, but I am wondering how should I authenticate users? Should I fetch their refresh token and save it in a database? I have added the method I am using for creating file."},{"owner":{"account_id":14694206,"reputation":18740,"user_id":10612011,"display_name":"Iamblichus"},"score":1,"creation_date":1633340364,"post_id":69403668,"comment_id":122724458,"body_markdown":"Here you can see an [example](https://developers.google.com/drive/api/v3/quickstart/java) of the authentication process in Java. Yes, you should store the refresh token for future use.","body":"Here you can see an <a href=\"https://developers.google.com/drive/api/v3/quickstart/java\" rel=\"nofollow noreferrer\">example</a> of the authentication process in Java. Yes, you should store the refresh token for future use."}],"owner":{"account_id":20848717,"reputation":73,"user_id":15313720,"display_name":"Aline137"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633334758,"creation_date":1633080850,"question_id":69403668,"body_markdown":"I have a multi-tenant application where user can store documents. I want to create integration with the Google Drive/Docs so user can open documents in Google Docs for editing and application can retrieve changed documents once the user is done. What is the best solution (authentication-wise) for this use case (multiple users/companies)? I created service account and am using the desktop credentials. \r\n\r\nDriveService instantiation following [documentation][1]:\r\n\r\n        @Bean\r\n        public Drive driveService() throws GeneralSecurityException, IOException {\r\n            final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\n            return new Drive.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\r\n                    .setApplicationName(APPLICATION_NAME)\r\n                    .build();\r\n        }\r\n\r\n\r\n  [1]: https://developers.google.com/drive/api/v3/quickstart/java\r\n\r\nCan I instantiate `DriveService` for each user ie. with their credentials? Though that would imply I already have credentials, which I guess isn&#39;t safe? What are my options?\r\n\r\nEdit 1:\r\n\r\nUpload method:\r\n\r\n    public String uploadDocument() throws IOException {\r\n            java.io.File filePath = new java.io.File(&quot;files/temp.docx&quot;);\r\n            FileContent mediaContent = new FileContent(Files.probeContentType(filePath.toPath()), filePath);\r\n            File fileMetadata = new File();\r\n            fileMetadata.setName(&quot;name&quot;);\r\n            fileMetadata.setMimeType(&quot;application/vnd.google-apps.document&quot;);\r\n            File file = driveService.files().create(fileMetadata, mediaContent)\r\n                    .setFields(&quot;id&quot;)\r\n                    .execute();\r\n            return file.getId();\r\n        }","title":"Google Drive/Docs integration - multi-tenancy","body":"<p>I have a multi-tenant application where user can store documents. I want to create integration with the Google Drive/Docs so user can open documents in Google Docs for editing and application can retrieve changed documents once the user is done. What is the best solution (authentication-wise) for this use case (multiple users/companies)? I created service account and am using the desktop credentials.</p>\n<p>DriveService instantiation following <a href=\"https://developers.google.com/drive/api/v3/quickstart/java\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<pre><code>    @Bean\n    public Drive driveService() throws GeneralSecurityException, IOException {\n        final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\n        return new Drive.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\n                .setApplicationName(APPLICATION_NAME)\n                .build();\n    }\n</code></pre>\n<p>Can I instantiate <code>DriveService</code> for each user ie. with their credentials? Though that would imply I already have credentials, which I guess isn't safe? What are my options?</p>\n<p>Edit 1:</p>\n<p>Upload method:</p>\n<pre><code>public String uploadDocument() throws IOException {\n        java.io.File filePath = new java.io.File(&quot;files/temp.docx&quot;);\n        FileContent mediaContent = new FileContent(Files.probeContentType(filePath.toPath()), filePath);\n        File fileMetadata = new File();\n        fileMetadata.setName(&quot;name&quot;);\n        fileMetadata.setMimeType(&quot;application/vnd.google-apps.document&quot;);\n        File file = driveService.files().create(fileMetadata, mediaContent)\n                .setFields(&quot;id&quot;)\n                .execute();\n        return file.getId();\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data"],"comments":[{"owner":{"account_id":2521222,"reputation":302,"user_id":2191563,"display_name":"glovemobile"},"score":2,"creation_date":1633091272,"post_id":69405866,"comment_id":122674486,"body_markdown":"You save twice.","body":"You save twice."},{"owner":{"account_id":18525828,"reputation":11,"user_id":13497749,"display_name":"Johannes Losch"},"score":0,"creation_date":1633101033,"post_id":69405866,"comment_id":122678697,"body_markdown":"I save one time in userRepository and one time in passwordRepository\nThat are different tables","body":"I save one time in userRepository and one time in passwordRepository That are different tables"},{"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"score":0,"creation_date":1633335069,"post_id":69405866,"comment_id":122722389,"body_markdown":"Thats not how JPA works.","body":"Thats not how JPA works."}],"answers":[{"tags":[],"owner":{"account_id":18525828,"reputation":11,"user_id":13497749,"display_name":"Johannes Losch"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1633334666,"creation_date":1633334666,"answer_id":69432738,"question_id":69405866,"body_markdown":"Solution: \r\n\r\nI removed the Login table\r\nand write directly in user table\r\n\r\nnow everything is working as it should be","title":"Java spring userRegister creates two database entries instead of one","body":"<p>Solution:</p>\n<p>I removed the Login table\nand write directly in user table</p>\n<p>now everything is working as it should be</p>\n"}],"owner":{"account_id":18525828,"reputation":11,"user_id":13497749,"display_name":"Johannes Losch"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69432738,"answer_count":1,"score":0,"last_activity_date":1633334666,"creation_date":1633091122,"question_id":69405866,"body_markdown":"As above this creates two database entries in user table.\r\nThe process should be following:\r\n 1. a new user enters their email and password\r\n -&gt; saved in login table\r\n 2. user confirm Email address \r\n -&gt; entry in user table with username (email) and first&amp;second name should be null at first.\r\n\r\nFor second the code would be like that (working)\r\n```\r\nUser user = new User(&quot;username&quot;, null, null)\r\n```\r\n\r\n```java\r\npublic RegistrationConfirmResponse registerNewUser(User user, String password) {\r\n        loginRepository.findByUsername(user.getUsername()).get().setUsername(null);\r\n        userRepository.save(user);\r\n        passwordRepository.save(new Password(user.getUserId(), password));\r\n        return new RegistrationConfirmResponse(&quot;done&quot;, user.getUsername());\r\n    }\r\n ```\r\n\r\nis returning\r\n\r\n`{&quot;answer&quot;:&quot;done&quot;,&quot;username&quot;:null}`\r\n\r\nin Database creates this 2 entries\r\n\r\n| ID | enabled | fistname | locked | secondname | username |\r\n| :------: | :------------: | :------------: | :------: | :------------: | :------------: |\r\n| 1    | 0            | NULL            | 0    | NULL            | test@example.com            |\r\n| 2   | 0            | NULL            | 0   | NULL            | NULL            |\r\n\r\nThe entry with ID 1 is correct but number 2 must not be created.\r\n\r\nRegistrationConfirmResponse\r\n```java\r\n@Setter\r\n@Getter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class RegistrationConfirmResponse {\r\n    private String answer;\r\n    private String username;\r\n}\r\n```\r\n\r\nMethod calling registerNewUser\r\n```java\r\n@Transactional\r\n    public RegistrationConfirmResponse confirmToken(String token){\r\n        var confirmationToken = confirmationTokenService.getToken(token);\r\n        var confirmedAt = confirmationToken.getConfirmedAt();\r\n        /* Uncommented due to testing usage\r\n        if(confirmedAt != null &amp;&amp; Duration.between(LocalDateTime.now(), confirmedAt).toSeconds() &lt; 10) {\r\n                System.out.println(Duration.between(LocalDateTime.now(), confirmedAt).toString());\r\n                throw new IllegalStateException(&quot;email already confirmed confirmed at &quot; + confirmedAt);\r\n        }*/\r\n        LocalDateTime expiredAt = confirmationToken.getExpiredAt();\r\n        if(expiredAt.isBefore(LocalDateTime.now())){\r\n            throw new IllegalStateException(&quot;token expired&quot;);\r\n        }\r\n        confirmationToken.setConfirmedAt(LocalDateTime.now());\r\n\r\n        var user = new User(confirmationToken.getLogin().getUsername(), null, null);\r\n        confirmationToken.getLogin().setUsername(null);\r\n        return userService.registerNewUser(user, confirmationToken.getLogin().getPassword());\r\n    }\r\n```","title":"Java spring userRegister creates two database entries instead of one","body":"<p>As above this creates two database entries in user table.\nThe process should be following:</p>\n<ol>\n<li>a new user enters their email and password\n-&gt; saved in login table</li>\n<li>user confirm Email address\n-&gt; entry in user table with username (email) and first&amp;second name should be null at first.</li>\n</ol>\n<p>For second the code would be like that (working)</p>\n<pre><code>User user = new User(&quot;username&quot;, null, null)\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public RegistrationConfirmResponse registerNewUser(User user, String password) {\n        loginRepository.findByUsername(user.getUsername()).get().setUsername(null);\n        userRepository.save(user);\n        passwordRepository.save(new Password(user.getUserId(), password));\n        return new RegistrationConfirmResponse(&quot;done&quot;, user.getUsername());\n    }\n</code></pre>\n<p>is returning</p>\n<p><code>{&quot;answer&quot;:&quot;done&quot;,&quot;username&quot;:null}</code></p>\n<p>in Database creates this 2 entries</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: center;\">ID</th>\n<th style=\"text-align: center;\">enabled</th>\n<th style=\"text-align: center;\">fistname</th>\n<th style=\"text-align: center;\">locked</th>\n<th style=\"text-align: center;\">secondname</th>\n<th style=\"text-align: center;\">username</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: center;\">1</td>\n<td style=\"text-align: center;\">0</td>\n<td style=\"text-align: center;\">NULL</td>\n<td style=\"text-align: center;\">0</td>\n<td style=\"text-align: center;\">NULL</td>\n<td style=\"text-align: center;\">test@example.com</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">2</td>\n<td style=\"text-align: center;\">0</td>\n<td style=\"text-align: center;\">NULL</td>\n<td style=\"text-align: center;\">0</td>\n<td style=\"text-align: center;\">NULL</td>\n<td style=\"text-align: center;\">NULL</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>The entry with ID 1 is correct but number 2 must not be created.</p>\n<p>RegistrationConfirmResponse</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Setter\n@Getter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class RegistrationConfirmResponse {\n    private String answer;\n    private String username;\n}\n</code></pre>\n<p>Method calling registerNewUser</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional\n    public RegistrationConfirmResponse confirmToken(String token){\n        var confirmationToken = confirmationTokenService.getToken(token);\n        var confirmedAt = confirmationToken.getConfirmedAt();\n        /* Uncommented due to testing usage\n        if(confirmedAt != null &amp;&amp; Duration.between(LocalDateTime.now(), confirmedAt).toSeconds() &lt; 10) {\n                System.out.println(Duration.between(LocalDateTime.now(), confirmedAt).toString());\n                throw new IllegalStateException(&quot;email already confirmed confirmed at &quot; + confirmedAt);\n        }*/\n        LocalDateTime expiredAt = confirmationToken.getExpiredAt();\n        if(expiredAt.isBefore(LocalDateTime.now())){\n            throw new IllegalStateException(&quot;token expired&quot;);\n        }\n        confirmationToken.setConfirmedAt(LocalDateTime.now());\n\n        var user = new User(confirmationToken.getLogin().getUsername(), null, null);\n        confirmationToken.getLogin().setUsername(null);\n        return userService.registerNewUser(user, confirmationToken.getLogin().getPassword());\n    }\n</code></pre>\n"},{"tags":["java","windows","jenkins"],"owner":{"account_id":18701222,"reputation":13,"user_id":13633402,"display_name":"holytrihead"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":816,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633333832,"creation_date":1633332285,"question_id":69432289,"body_markdown":"Multiple windows agents configured as slaves on jenkins. Our windows agents disconnect frequently with below errors. We are using websocket for connection.\r\n\r\nDetails:\r\n\r\nJenkins v2.263 and Windows server 2016 / 2012 R2 / 2019\r\n\r\nError logs on agent side \r\n\r\n```\r\nOct 01, 2021 7:46:45 AM hudson.remoting.jnlp.Main createEngine\r\nINFO: Setting up agent: jwinslave001\r\nOct 01, 2021 7:46:45 AM hudson.remoting.jnlp.Main$CuiListener &lt;init&gt;\r\nINFO: Jenkins agent is running in headless mode.\r\nOct 01, 2021 7:46:45 AM hudson.remoting.Engine startEngine\r\nINFO: Using Remoting version: 4.5\r\nOct 01, 2021 7:46:45 AM org.jenkinsci.remoting.engine.WorkDirManager initializeWorkDir\r\nINFO: Using C:\\jwinslave001-slave\\remoting as a remoting work directory\r\nOct 01, 2021 7:47:06 AM hudson.remoting.jnlp.Main$CuiListener error\r\nSEVERE: Connection failed.\r\nio.jenkins.remoting.shaded.javax.websocket.DeploymentException: Connection failed.\r\n\tat io.jenkins.remoting.shaded.org.glassfish.tyrus.container.jdk.client.JdkClientContainer$1.call(JdkClientContainer.java:200)\r\n\tat io.jenkins.remoting.shaded.org.glassfish.tyrus.container.jdk.client.JdkClientContainer$1.call(JdkClientContainer.java:126)\r\n\tat io.jenkins.remoting.shaded.org.glassfish.tyrus.container.jdk.client.JdkClientContainer.openClientSocket(JdkClientContainer.java:205)\r\n\tat io.jenkins.remoting.shaded.org.glassfish.tyrus.client.ClientManager$3$1.run(ClientManager.java:663)\r\n\tat io.jenkins.remoting.shaded.org.glassfish.tyrus.client.ClientManager$3.run(ClientManager.java:712)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\r\n\tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n\tat io.jenkins.remoting.shaded.org.glassfish.tyrus.client.ClientManager$SameThreadExecutorService.execute(ClientManager.java:866)\r\n\tat java.util.concurrent.AbstractExecutorService.submit(Unknown Source)\r\n\tat io.jenkins.remoting.shaded.org.glassfish.tyrus.client.ClientManager.connectToServer(ClientManager.java:511)\r\n\tat io.jenkins.remoting.shaded.org.glassfish.tyrus.client.ClientManager.connectToServer(ClientManager.java:355)\r\n\tat hudson.remoting.Engine.runWebSocket(Engine.java:628)\r\n\tat hudson.remoting.Engine.run(Engine.java:470)\r\nCaused by: java.io.IOException: The semaphore timeout period has expired.\r\n\r\n\tat sun.nio.ch.Iocp.translateErrorToIOException(Unknown Source)\r\n\tat sun.nio.ch.Iocp.access$700(Unknown Source)\r\n\tat sun.nio.ch.Iocp$EventHandlerTask.run(Unknown Source)\r\n\tat sun.nio.ch.AsynchronousChannelGroupImpl$1.run(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n\tat java.lang.Thread.run(Unknown Source)\r\n```\r\n\r\nAlso, below logs when a test job was configured to run on windows slave. the test job ran for about a day then the agent disconnected with below error ..\r\n```\r\nSep 28, 2021 10:22:13 PM hudson.remoting.jnlp.Main$CuiListener status\r\nINFO: Read side closed\r\nSep 28, 2021 10:22:14 PM hudson.remoting.jnlp.Main$CuiListener status\r\nINFO: Terminated\r\nSep 28, 2021 10:22:35 PM hudson.remoting.jnlp.Main$CuiListener error\r\nSEVERE: Connection failed.\r\nio.jenkins.remoting.shaded.javax.websocket.DeploymentException: Connection failed.\r\n\tat io.jenkins.remoting.shaded.org.glassfish.tyrus.container.jdk.client.JdkClientContainer$1.call(JdkClientContainer.java:200)\r\n\tat io.jenkins.remoting.shaded.org.glassfish.tyrus.container.jdk.client.JdkClientContainer$1.call(JdkClientContainer.java:126)\r\n\tat io.jenkins.remoting.shaded.org.glassfish.tyrus.container.jdk.client.JdkClientContainer.openClientSocket(JdkClientContainer.java:205)\r\n\tat io.jenkins.remoting.shaded.org.glassfish.tyrus.client.ClientManager$3$1.run(ClientManager.java:663)\r\n\tat io.jenkins.remoting.shaded.org.glassfish.tyrus.client.ClientManager$3.run(ClientManager.java:712)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat io.jenkins.remoting.shaded.org.glassfish.tyrus.client.ClientManager$SameThreadExecutorService.execute(ClientManager.java:866)\r\n\tat java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:112)\r\n\tat io.jenkins.remoting.shaded.org.glassfish.tyrus.client.ClientManager.connectToServer(ClientManager.java:511)\r\n\tat io.jenkins.remoting.shaded.org.glassfish.tyrus.client.ClientManager.connectToServer(ClientManager.java:355)\r\n\tat hudson.remoting.Engine.runWebSocket(Engine.java:628)\r\n\tat hudson.remoting.Engine.run(Engine.java:470)\r\nCaused by: java.io.IOException: The semaphore timeout period has expired.\r\n\r\n\tat sun.nio.ch.Iocp.translateErrorToIOException(Iocp.java:309)\r\n\tat sun.nio.ch.Iocp.access$700(Iocp.java:46)\r\n\tat sun.nio.ch.Iocp$EventHandlerTask.run(Iocp.java:399)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\nLogs seen on jenkins .. \r\n```\r\n2021-09-20 17:35:43.962+0000 [id=24231] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-24231 for jwinslave0037 terminated: java.nio.channels.ClosedChannelException\r\n2021-09-20 17:42:23.510+0000 [id=24231] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-24231 for jwinslave0037 terminated: java.nio.channels.ClosedChannelException\r\n2021-09-20 18:04:39.918+0000 [id=46158] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46158 for jwinslave0037 terminated: java.nio.channels.ClosedChannelException\r\n2021-09-20 18:04:39.921+0000 [id=46642] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46642 for jwinslave0037 terminated: java.nio.channels.ClosedChannelException\r\n2021-09-20 18:15:14.245+0000 [id=46498] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46498 for jwinslave0049 terminated: java.nio.channels.ClosedChannelException\r\n2021-09-20 18:15:44.682+0000 [id=46503] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46503 for jwinslave0051 terminated: java.nio.channels.ClosedChannelException\r\n2021-09-20 18:35:45.473+0000 [id=46503] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46503 for jwinslave0055 terminated: java.nio.channels.ClosedChannelException\r\n\r\n\r\n2021-09-20 18:35:45.471+0000 [id=27959] INFO    hudson.slaves.ChannelPinger$1#onDead: Ping failed. Terminating the channel jwinslave0055.\r\njava.util.concurrent.TimeoutException: Ping started at 1632162705470 hasn&#39;t completed by 1632162945471\r\n        at hudson.remoting.PingThread.ping(PingThread.java:134)\r\n        at hudson.remoting.PingThread.run(PingThread.java:90)\r\n2021-09-20 18:35:45.473+0000 [id=46503] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46503 for jwinslave0055 terminated: java.nio.channels.ClosedChannelException\r\n\r\n2021-09-20 18:45:16.789+0000 [id=46503] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46503 for jwinslave0056 terminated: java.nio.channels.ClosedChannelException\r\n\r\n2021-09-20 18:56:30.353+0000 [id=46498] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46498 for jwinslave0058 terminated: java.nio.channels.ClosedChannelException\r\n\r\n2021-09-20 18:59:46.368+0000 [id=46971] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46971 for jwinslave0058 terminated: java.nio.channels.ClosedChannelException\r\n2021-09-20 19:54:02.241+0000 [id=47687] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-47687 for jwinslave0049 terminated: java.nio.channels.ClosedChannelException\r\n2021-09-20 19:54:02.241+0000 [id=43]    WARNING n.b.j.internal.common.JavaLogger#warn: exception while collecting data\r\njava.nio.channels.ClosedChannelException\r\n        at jenkins.agents.WebSocketAgents$Session.closed(WebSocketAgents.java:141)\r\n        at jenkins.websocket.WebSocketSession.onWebSocketSomething(WebSocketSession.java:91)\r\n        at com.sun.proxy.$Proxy126.onWebSocketClose(Unknown Source)\r\n        at org.eclipse.jetty.websocket.common.events.JettyListenerEventDriver.onClose(JettyListenerEventDriver.java:149)\r\n        at org.eclipse.jetty.websocket.common.WebSocketSession.callApplicationOnClose(WebSocketSession.java:394)\r\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.disconnect(AbstractWebSocketConnection.java:316)\r\n        at org.eclipse.jetty.websocket.common.io.DisconnectCallback.succeeded(DisconnectCallback.java:42)\r\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection$CallbackBridge.writeSuccess(AbstractWebSocketConnection.java:86)\r\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.notifyCallbackSuccess(FrameFlusher.java:359)\r\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.succeedEntries(FrameFlusher.java:288)\r\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.succeeded(FrameFlusher.java:280)\r\n        at org.eclipse.jetty.io.WriteFlusher.write(WriteFlusher.java:293)\r\n        at org.eclipse.jetty.io.AbstractEndPoint.write(AbstractEndPoint.java:381)\r\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.flush(FrameFlusher.java:264)\r\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.process(FrameFlusher.java:193)\r\n        at org.eclipse.jetty.util.IteratingCallback.processing(IteratingCallback.java:241)\r\n        at org.eclipse.jetty.util.IteratingCallback.iterate(IteratingCallback.java:223)\r\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.outgoingFrame(AbstractWebSocketConnection.java:581)\r\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.close(AbstractWebSocketConnection.java:181)\r\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.onFillable(AbstractWebSocketConnection.java:510)\r\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.onFillable(AbstractWebSocketConnection.java:440)\r\n        at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\r\n        at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\r\n        at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\r\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)\r\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)\r\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)\r\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)\r\n        at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:375)\r\n        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:773)\r\n        at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:905)\r\n        at java.lang.Thread.run(Thread.java:748)\r\nCaused: hudson.remoting.ChannelClosedException: Channel &quot;hudson.remoting.Channel@3cce4ea7:jwinslave0032&quot;: Remote call on jwinslave0032 failed. The channel is closing down or has closed down\r\n        at hudson.remoting.Channel.callAsync(Channel.java:1029)\r\n        at net.bull.javamelody.RemoteCallHelper.collectDataByNodeName(RemoteCallHelper.java:188)\r\n        at net.bull.javamelody.RemoteCallHelper.collectJavaInformationsListByName(RemoteCallHelper.java:213)\r\n        at net.bull.javamelody.NodesCollector.collectWithoutErrorsNow(NodesCollector.java:159)\r\n        at net.bull.javamelody.NodesCollector.collectWithoutErrors(NodesCollector.java:147)\r\n        at net.bull.javamelody.NodesCollector$2.run(NodesCollector.java:115)\r\n        at java.util.TimerThread.mainLoop(Timer.java:555)\r\n        at java.util.TimerThread.run(Timer.java:505)\r\n2021-09-20 19:54:02.243+0000 [id=47687] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-47687 for jwinslave0043 terminated: java.nio.channels.ClosedChannelException\r\n2021-09-20 19:54:02.243+0000 [id=47687] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-47687 for jwinslave0043 terminated: java.nio.channels.ClosedChannelException\r\n2021-09-20 19:54:02.246+0000 [id=43]    WARNING n.b.j.internal.common.JavaLogger#warn: exception while collecting data\r\njava.nio.channels.ClosedChannelException\r\n        at jenkins.agents.WebSocketAgents$Session.closed(WebSocketAgents.java:141)\r\n        at jenkins.websocket.WebSocketSession.onWebSocketSomething(WebSocketSession.java:91)\r\n        at com.sun.proxy.$Proxy126.onWebSocketClose(Unknown Source)\r\n        at org.eclipse.jetty.websocket.common.events.JettyListenerEventDriver.onClose(JettyListenerEventDriver.java:149)\r\n        at org.eclipse.jetty.websocket.common.WebSocketSession.callApplicationOnClose(WebSocketSession.java:394)\r\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.disconnect(AbstractWebSocketConnection.java:316)\r\n        at org.eclipse.jetty.websocket.common.io.DisconnectCallback.succeeded(DisconnectCallback.java:42)\r\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection$CallbackBridge.writeSuccess(AbstractWebSocketConnection.java:86)\r\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.notifyCallbackSuccess(FrameFlusher.java:359)\r\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.succeedEntries(FrameFlusher.java:288)\r\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.succeeded(FrameFlusher.java:280)\r\n        at org.eclipse.jetty.io.WriteFlusher.write(WriteFlusher.java:293)\r\n        at org.eclipse.jetty.io.AbstractEndPoint.write(AbstractEndPoint.java:381)\r\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.flush(FrameFlusher.java:264)\r\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.process(FrameFlusher.java:193)\r\n        at org.eclipse.jetty.util.IteratingCallback.processing(IteratingCallback.java:241)\r\n        at org.eclipse.jetty.util.IteratingCallback.iterate(IteratingCallback.java:223)\r\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.outgoingFrame(AbstractWebSocketConnection.java:581)\r\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.close(AbstractWebSocketConnection.java:181)\r\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.onFillable(AbstractWebSocketConnection.java:510)\r\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.onFillable(AbstractWebSocketConnection.java:440)\r\n        at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\r\n        at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\r\n        at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\r\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)\r\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)\r\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)\r\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)\r\n        at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:375)\r\n        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:773)\r\n        at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:905)\r\n        at java.lang.Thread.run(Thread.java:748)\r\nCaused: hudson.remoting.ChannelClosedException: Channel &quot;hudson.remoting.Channel@3cce4ea7:jwinslave0032&quot;: Remote call on jwinslave0032 failed. The channel is closing down or has closed down\r\n        at hudson.remoting.Channel.callAsync(Channel.java:1029)\r\n        at net.bull.javamelody.RemoteCallHelper.collectDataByNodeName(RemoteCallHelper.java:188)\r\n        at net.bull.javamelody.RemoteCallHelper.collectJavaInformationsListByName(RemoteCallHelper.java:213)\r\n        at net.bull.javamelody.NodesCollector.collectWithoutErrorsNow(NodesCollector.java:159)\r\n        at net.bull.javamelody.NodesCollector.collectWithoutErrors(NodesCollector.java:147)\r\n        at net.bull.javamelody.NodesCollector$2.run(NodesCollector.java:115)\r\n        at java.util.TimerThread.mainLoop(Timer.java:555)\r\n        at java.util.TimerThread.run(Timer.java:505)\r\n2021-09-20 19:54:02.254+0000 [id=46158] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46158 for jwinslave0032 terminated: java.nio.channels.ClosedChannelException\r\n2021-09-20 19:54:02.255+0000 [id=47687] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-47687 for jwinslave0051 terminated: java.nio.channels.ClosedChannelException\r\n2021-09-20 19:54:02.262+0000 [id=46642] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46642 for jwinslave0055 terminated: java.nio.channels.ClosedChannelException\r\n2021-09-20 19:54:03.020+0000 [id=46158] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46158 for jwinslave0036 terminated: java.nio.channels.ClosedChannelException\r\n2021-09-20 19:54:03.022+0000 [id=46328] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46328 for jwinslave0056 terminated: java.nio.channels.ClosedChannelException\r\n2021-09-20 19:54:03.158+0000 [id=46503] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46503 for jwinslave0058 terminated: java.nio.channels.ClosedChannelException\r\n2021-09-20 19:54:03.159+0000 [id=46158] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46158 for jwinslave0037 terminated: java.nio.channels.ClosedChannelException\r\n2021-09-20 19:54:03.159+0000 [id=43]    WARNING n.b.j.internal.common.JavaLogger#warn: exception while collecting data\r\njava.nio.channels.ClosedChannelException\r\n        at jenkins.agents.WebSocketAgents$Session.closed(WebSocketAgents.java:141)\r\n        at jenkins.websocket.WebSocketSession.onWebSocketSomething(WebSocketSession.java:91)\r\n        at com.sun.proxy.$Proxy126.onWebSocketClose(Unknown Source)\r\n        at org.eclipse.jetty.websocket.common.events.JettyListenerEventDriver.onClose(JettyListenerEventDriver.java:149)\r\n        at org.eclipse.jetty.websocket.common.WebSocketSession.callApplicationOnClose(WebSocketSession.java:394)\r\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.disconnect(AbstractWebSocketConnection.java:316)\r\n        at org.eclipse.jetty.websocket.common.io.DisconnectCallback.succeeded(DisconnectCallback.java:42)\r\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection$CallbackBridge.writeSuccess(AbstractWebSocketConnection.java:86)\r\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.notifyCallbackSuccess(FrameFlusher.java:359)\r\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.succeedEntries(FrameFlusher.java:288)\r\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.succeeded(FrameFlusher.java:280)\r\n        at org.eclipse.jetty.io.WriteFlusher.write(WriteFlusher.java:293)\r\n        at org.eclipse.jetty.io.AbstractEndPoint.write(AbstractEndPoint.java:381)\r\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.flush(FrameFlusher.java:264)\r\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.process(FrameFlusher.java:193)\r\n        at org.eclipse.jetty.util.IteratingCallback.processing(IteratingCallback.java:241)\r\n        at org.eclipse.jetty.util.IteratingCallback.iterate(IteratingCallback.java:223)\r\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.outgoingFrame(AbstractWebSocketConnection.java:581)\r\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.close(AbstractWebSocketConnection.java:181)\r\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.onFillable(AbstractWebSocketConnection.java:510)\r\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.onFillable(AbstractWebSocketConnection.java:440)\r\n        at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\r\n        at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\r\n        at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\r\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)\r\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)\r\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)\r\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)\r\n        at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:375)\r\n        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:773)\r\n        at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:905)\r\n        at java.lang.Thread.run(Thread.java:748)\r\nCaused: hudson.remoting.ChannelClosedException: Channel &quot;hudson.remoting.Channel@7288d1eb:jwinslave0037&quot;: Remote call on jwinslave0037 failed. The channel is closing down or has closed down\r\n        at hudson.remoting.Channel.callAsync(Channel.java:1029)\r\n        at net.bull.javamelody.RemoteCallHelper.collectDataByNodeName(RemoteCallHelper.java:188)\r\n        at net.bull.javamelody.RemoteCallHelper.collectJavaInformationsListByName(RemoteCallHelper.java:213)\r\n        at net.bull.javamelody.NodesCollector.collectWithoutErrorsNow(NodesCollector.java:159)\r\n        at net.bull.javamelody.NodesCollector.collectWithoutErrors(NodesCollector.java:147)\r\n        at net.bull.javamelody.NodesCollector$2.run(NodesCollector.java:115)\r\n        at java.util.TimerThread.mainLoop(Timer.java:555)\r\n        at java.util.TimerThread.run(Timer.java:505)\r\n2021-09-21 11:55:32.504+0000 [id=46158] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46158 for jwinslave0036 terminated: java.nio.channels.ClosedChannelException\r\n2021-09-21 11:55:33.256+0000 [id=46158] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46158 for jwinslave0037 terminated: java.nio.channels.ClosedChannelException\r\n2021-09-21 11:55:33.403+0000 [id=47687] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-47687 for jwinslave0051 terminated: java.nio.channels.ClosedChannelException\r\n2021-09-21 11:55:33.403+0000 [id=46498] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46498 for jwinslave0058 terminated: java.nio.channels.ClosedChannelException\r\n2021-09-21 11:55:33.406+0000 [id=46328] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46328 for jwinslave0056 terminated: java.nio.channels.ClosedChannelException\r\n2021-09-21 11:55:33.405+0000 [id=43]    WARNING n.b.j.internal.common.JavaLogger#warn: exception while collecting data\r\njava.nio.channels.ClosedChannelException\r\n        at jenkins.agents.WebSocketAgents$Session.closed(WebSocketAgents.java:141)\r\n        at jenkins.websocket.WebSocketSession.onWebSocketSomething(WebSocketSession.java:91)\r\n        at com.sun.proxy.$Proxy126.onWebSocketClose(Unknown Source)\r\n        at org.eclipse.jetty.websocket.common.events.JettyListenerEventDriver.onClose(JettyListenerEventDriver.java:149)\r\n        at org.eclipse.jetty.websocket.common.WebSocketSession.callApplicationOnClose(WebSocketSession.java:394)\r\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.disconnect(AbstractWebSocketConnection.java:316)\r\n        at org.eclipse.jetty.websocket.common.io.DisconnectCallback.succeeded(DisconnectCallback.java:42)\r\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection$CallbackBridge.writeSuccess(AbstractWebSocketConnection.java:86)\r\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.notifyCallbackSuccess(FrameFlusher.java:359)\r\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.succeedEntries(FrameFlusher.java:288)\r\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.succeeded(FrameFlusher.java:280)\r\n        at org.eclipse.jetty.io.WriteFlusher.write(WriteFlusher.java:293)\r\n        at org.eclipse.jetty.io.AbstractEndPoint.write(AbstractEndPoint.java:381)\r\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.flush(FrameFlusher.java:264)\r\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.process(FrameFlusher.java:193)\r\n        at org.eclipse.jetty.util.IteratingCallback.processing(IteratingCallback.java:241)\r\n        at org.eclipse.jetty.util.IteratingCallback.iterate(IteratingCallback.java:223)\r\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.outgoingFrame(AbstractWebSocketConnection.java:581)\r\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.close(AbstractWebSocketConnection.java:181)\r\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.onFillable(AbstractWebSocketConnection.java:510)\r\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.onFillable(AbstractWebSocketConnection.java:440)\r\n        at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\r\n        at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\r\n        at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\r\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)\r\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)\r\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)\r\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)\r\n        at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:375)\r\n        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:773)\r\n        at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:905)\r\n        at java.lang.Thread.run(Thread.java:748)\r\nCaused: hudson.remoting.ChannelClosedException: Channel &quot;hudson.remoting.Channel@4a56294d:jwinslave0056&quot;: Remote call on jwinslave0056 failed. The channel is closing down or has closed down\r\n        at hudson.remoting.Channel.callAsync(Channel.java:1029)\r\n        at net.bull.javamelody.RemoteCallHelper.collectDataByNodeName(RemoteCallHelper.java:188)\r\n        at net.bull.javamelody.RemoteCallHelper.collectJavaInformationsListByName(RemoteCallHelper.java:213)\r\n        at net.bull.javamelody.NodesCollector.collectWithoutErrorsNow(NodesCollector.java:159)\r\n        at net.bull.javamelody.NodesCollector.collectWithoutErrors(NodesCollector.java:147)\r\n        at net.bull.javamelody.NodesCollector$2.run(NodesCollector.java:115)\r\n        at java.util.TimerThread.mainLoop(Timer.java:555)\r\n        at java.util.TimerThread.run(Timer.java:505)\r\n```\r\n\r\nWe have configured a batch script on windows and created a task in task scheduler on windows server for the connection to be Up always. Another issue seen is the task goes from running to ready state sometimes. Sometimes even if the task is running the agent is still disconnected.\r\n\r\n\r\n\r\n\r\n","title":"Windows agent connection unstable on jenkins","body":"<p>Multiple windows agents configured as slaves on jenkins. Our windows agents disconnect frequently with below errors. We are using websocket for connection.</p>\n<p>Details:</p>\n<p>Jenkins v2.263 and Windows server 2016 / 2012 R2 / 2019</p>\n<p>Error logs on agent side</p>\n<pre><code>Oct 01, 2021 7:46:45 AM hudson.remoting.jnlp.Main createEngine\nINFO: Setting up agent: jwinslave001\nOct 01, 2021 7:46:45 AM hudson.remoting.jnlp.Main$CuiListener &lt;init&gt;\nINFO: Jenkins agent is running in headless mode.\nOct 01, 2021 7:46:45 AM hudson.remoting.Engine startEngine\nINFO: Using Remoting version: 4.5\nOct 01, 2021 7:46:45 AM org.jenkinsci.remoting.engine.WorkDirManager initializeWorkDir\nINFO: Using C:\\jwinslave001-slave\\remoting as a remoting work directory\nOct 01, 2021 7:47:06 AM hudson.remoting.jnlp.Main$CuiListener error\nSEVERE: Connection failed.\nio.jenkins.remoting.shaded.javax.websocket.DeploymentException: Connection failed.\n    at io.jenkins.remoting.shaded.org.glassfish.tyrus.container.jdk.client.JdkClientContainer$1.call(JdkClientContainer.java:200)\n    at io.jenkins.remoting.shaded.org.glassfish.tyrus.container.jdk.client.JdkClientContainer$1.call(JdkClientContainer.java:126)\n    at io.jenkins.remoting.shaded.org.glassfish.tyrus.container.jdk.client.JdkClientContainer.openClientSocket(JdkClientContainer.java:205)\n    at io.jenkins.remoting.shaded.org.glassfish.tyrus.client.ClientManager$3$1.run(ClientManager.java:663)\n    at io.jenkins.remoting.shaded.org.glassfish.tyrus.client.ClientManager$3.run(ClientManager.java:712)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at io.jenkins.remoting.shaded.org.glassfish.tyrus.client.ClientManager$SameThreadExecutorService.execute(ClientManager.java:866)\n    at java.util.concurrent.AbstractExecutorService.submit(Unknown Source)\n    at io.jenkins.remoting.shaded.org.glassfish.tyrus.client.ClientManager.connectToServer(ClientManager.java:511)\n    at io.jenkins.remoting.shaded.org.glassfish.tyrus.client.ClientManager.connectToServer(ClientManager.java:355)\n    at hudson.remoting.Engine.runWebSocket(Engine.java:628)\n    at hudson.remoting.Engine.run(Engine.java:470)\nCaused by: java.io.IOException: The semaphore timeout period has expired.\n\n    at sun.nio.ch.Iocp.translateErrorToIOException(Unknown Source)\n    at sun.nio.ch.Iocp.access$700(Unknown Source)\n    at sun.nio.ch.Iocp$EventHandlerTask.run(Unknown Source)\n    at sun.nio.ch.AsynchronousChannelGroupImpl$1.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p>Also, below logs when a test job was configured to run on windows slave. the test job ran for about a day then the agent disconnected with below error ..</p>\n<pre><code>Sep 28, 2021 10:22:13 PM hudson.remoting.jnlp.Main$CuiListener status\nINFO: Read side closed\nSep 28, 2021 10:22:14 PM hudson.remoting.jnlp.Main$CuiListener status\nINFO: Terminated\nSep 28, 2021 10:22:35 PM hudson.remoting.jnlp.Main$CuiListener error\nSEVERE: Connection failed.\nio.jenkins.remoting.shaded.javax.websocket.DeploymentException: Connection failed.\n    at io.jenkins.remoting.shaded.org.glassfish.tyrus.container.jdk.client.JdkClientContainer$1.call(JdkClientContainer.java:200)\n    at io.jenkins.remoting.shaded.org.glassfish.tyrus.container.jdk.client.JdkClientContainer$1.call(JdkClientContainer.java:126)\n    at io.jenkins.remoting.shaded.org.glassfish.tyrus.container.jdk.client.JdkClientContainer.openClientSocket(JdkClientContainer.java:205)\n    at io.jenkins.remoting.shaded.org.glassfish.tyrus.client.ClientManager$3$1.run(ClientManager.java:663)\n    at io.jenkins.remoting.shaded.org.glassfish.tyrus.client.ClientManager$3.run(ClientManager.java:712)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at io.jenkins.remoting.shaded.org.glassfish.tyrus.client.ClientManager$SameThreadExecutorService.execute(ClientManager.java:866)\n    at java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:112)\n    at io.jenkins.remoting.shaded.org.glassfish.tyrus.client.ClientManager.connectToServer(ClientManager.java:511)\n    at io.jenkins.remoting.shaded.org.glassfish.tyrus.client.ClientManager.connectToServer(ClientManager.java:355)\n    at hudson.remoting.Engine.runWebSocket(Engine.java:628)\n    at hudson.remoting.Engine.run(Engine.java:470)\nCaused by: java.io.IOException: The semaphore timeout period has expired.\n\n    at sun.nio.ch.Iocp.translateErrorToIOException(Iocp.java:309)\n    at sun.nio.ch.Iocp.access$700(Iocp.java:46)\n    at sun.nio.ch.Iocp$EventHandlerTask.run(Iocp.java:399)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>Logs seen on jenkins ..</p>\n<pre><code>2021-09-20 17:35:43.962+0000 [id=24231] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-24231 for jwinslave0037 terminated: java.nio.channels.ClosedChannelException\n2021-09-20 17:42:23.510+0000 [id=24231] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-24231 for jwinslave0037 terminated: java.nio.channels.ClosedChannelException\n2021-09-20 18:04:39.918+0000 [id=46158] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46158 for jwinslave0037 terminated: java.nio.channels.ClosedChannelException\n2021-09-20 18:04:39.921+0000 [id=46642] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46642 for jwinslave0037 terminated: java.nio.channels.ClosedChannelException\n2021-09-20 18:15:14.245+0000 [id=46498] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46498 for jwinslave0049 terminated: java.nio.channels.ClosedChannelException\n2021-09-20 18:15:44.682+0000 [id=46503] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46503 for jwinslave0051 terminated: java.nio.channels.ClosedChannelException\n2021-09-20 18:35:45.473+0000 [id=46503] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46503 for jwinslave0055 terminated: java.nio.channels.ClosedChannelException\n\n\n2021-09-20 18:35:45.471+0000 [id=27959] INFO    hudson.slaves.ChannelPinger$1#onDead: Ping failed. Terminating the channel jwinslave0055.\njava.util.concurrent.TimeoutException: Ping started at 1632162705470 hasn't completed by 1632162945471\n        at hudson.remoting.PingThread.ping(PingThread.java:134)\n        at hudson.remoting.PingThread.run(PingThread.java:90)\n2021-09-20 18:35:45.473+0000 [id=46503] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46503 for jwinslave0055 terminated: java.nio.channels.ClosedChannelException\n\n2021-09-20 18:45:16.789+0000 [id=46503] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46503 for jwinslave0056 terminated: java.nio.channels.ClosedChannelException\n\n2021-09-20 18:56:30.353+0000 [id=46498] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46498 for jwinslave0058 terminated: java.nio.channels.ClosedChannelException\n\n2021-09-20 18:59:46.368+0000 [id=46971] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46971 for jwinslave0058 terminated: java.nio.channels.ClosedChannelException\n2021-09-20 19:54:02.241+0000 [id=47687] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-47687 for jwinslave0049 terminated: java.nio.channels.ClosedChannelException\n2021-09-20 19:54:02.241+0000 [id=43]    WARNING n.b.j.internal.common.JavaLogger#warn: exception while collecting data\njava.nio.channels.ClosedChannelException\n        at jenkins.agents.WebSocketAgents$Session.closed(WebSocketAgents.java:141)\n        at jenkins.websocket.WebSocketSession.onWebSocketSomething(WebSocketSession.java:91)\n        at com.sun.proxy.$Proxy126.onWebSocketClose(Unknown Source)\n        at org.eclipse.jetty.websocket.common.events.JettyListenerEventDriver.onClose(JettyListenerEventDriver.java:149)\n        at org.eclipse.jetty.websocket.common.WebSocketSession.callApplicationOnClose(WebSocketSession.java:394)\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.disconnect(AbstractWebSocketConnection.java:316)\n        at org.eclipse.jetty.websocket.common.io.DisconnectCallback.succeeded(DisconnectCallback.java:42)\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection$CallbackBridge.writeSuccess(AbstractWebSocketConnection.java:86)\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.notifyCallbackSuccess(FrameFlusher.java:359)\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.succeedEntries(FrameFlusher.java:288)\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.succeeded(FrameFlusher.java:280)\n        at org.eclipse.jetty.io.WriteFlusher.write(WriteFlusher.java:293)\n        at org.eclipse.jetty.io.AbstractEndPoint.write(AbstractEndPoint.java:381)\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.flush(FrameFlusher.java:264)\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.process(FrameFlusher.java:193)\n        at org.eclipse.jetty.util.IteratingCallback.processing(IteratingCallback.java:241)\n        at org.eclipse.jetty.util.IteratingCallback.iterate(IteratingCallback.java:223)\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.outgoingFrame(AbstractWebSocketConnection.java:581)\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.close(AbstractWebSocketConnection.java:181)\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.onFillable(AbstractWebSocketConnection.java:510)\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.onFillable(AbstractWebSocketConnection.java:440)\n        at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\n        at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\n        at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)\n        at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:375)\n        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:773)\n        at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:905)\n        at java.lang.Thread.run(Thread.java:748)\nCaused: hudson.remoting.ChannelClosedException: Channel &quot;hudson.remoting.Channel@3cce4ea7:jwinslave0032&quot;: Remote call on jwinslave0032 failed. The channel is closing down or has closed down\n        at hudson.remoting.Channel.callAsync(Channel.java:1029)\n        at net.bull.javamelody.RemoteCallHelper.collectDataByNodeName(RemoteCallHelper.java:188)\n        at net.bull.javamelody.RemoteCallHelper.collectJavaInformationsListByName(RemoteCallHelper.java:213)\n        at net.bull.javamelody.NodesCollector.collectWithoutErrorsNow(NodesCollector.java:159)\n        at net.bull.javamelody.NodesCollector.collectWithoutErrors(NodesCollector.java:147)\n        at net.bull.javamelody.NodesCollector$2.run(NodesCollector.java:115)\n        at java.util.TimerThread.mainLoop(Timer.java:555)\n        at java.util.TimerThread.run(Timer.java:505)\n2021-09-20 19:54:02.243+0000 [id=47687] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-47687 for jwinslave0043 terminated: java.nio.channels.ClosedChannelException\n2021-09-20 19:54:02.243+0000 [id=47687] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-47687 for jwinslave0043 terminated: java.nio.channels.ClosedChannelException\n2021-09-20 19:54:02.246+0000 [id=43]    WARNING n.b.j.internal.common.JavaLogger#warn: exception while collecting data\njava.nio.channels.ClosedChannelException\n        at jenkins.agents.WebSocketAgents$Session.closed(WebSocketAgents.java:141)\n        at jenkins.websocket.WebSocketSession.onWebSocketSomething(WebSocketSession.java:91)\n        at com.sun.proxy.$Proxy126.onWebSocketClose(Unknown Source)\n        at org.eclipse.jetty.websocket.common.events.JettyListenerEventDriver.onClose(JettyListenerEventDriver.java:149)\n        at org.eclipse.jetty.websocket.common.WebSocketSession.callApplicationOnClose(WebSocketSession.java:394)\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.disconnect(AbstractWebSocketConnection.java:316)\n        at org.eclipse.jetty.websocket.common.io.DisconnectCallback.succeeded(DisconnectCallback.java:42)\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection$CallbackBridge.writeSuccess(AbstractWebSocketConnection.java:86)\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.notifyCallbackSuccess(FrameFlusher.java:359)\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.succeedEntries(FrameFlusher.java:288)\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.succeeded(FrameFlusher.java:280)\n        at org.eclipse.jetty.io.WriteFlusher.write(WriteFlusher.java:293)\n        at org.eclipse.jetty.io.AbstractEndPoint.write(AbstractEndPoint.java:381)\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.flush(FrameFlusher.java:264)\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.process(FrameFlusher.java:193)\n        at org.eclipse.jetty.util.IteratingCallback.processing(IteratingCallback.java:241)\n        at org.eclipse.jetty.util.IteratingCallback.iterate(IteratingCallback.java:223)\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.outgoingFrame(AbstractWebSocketConnection.java:581)\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.close(AbstractWebSocketConnection.java:181)\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.onFillable(AbstractWebSocketConnection.java:510)\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.onFillable(AbstractWebSocketConnection.java:440)\n        at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\n        at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\n        at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)\n        at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:375)\n        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:773)\n        at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:905)\n        at java.lang.Thread.run(Thread.java:748)\nCaused: hudson.remoting.ChannelClosedException: Channel &quot;hudson.remoting.Channel@3cce4ea7:jwinslave0032&quot;: Remote call on jwinslave0032 failed. The channel is closing down or has closed down\n        at hudson.remoting.Channel.callAsync(Channel.java:1029)\n        at net.bull.javamelody.RemoteCallHelper.collectDataByNodeName(RemoteCallHelper.java:188)\n        at net.bull.javamelody.RemoteCallHelper.collectJavaInformationsListByName(RemoteCallHelper.java:213)\n        at net.bull.javamelody.NodesCollector.collectWithoutErrorsNow(NodesCollector.java:159)\n        at net.bull.javamelody.NodesCollector.collectWithoutErrors(NodesCollector.java:147)\n        at net.bull.javamelody.NodesCollector$2.run(NodesCollector.java:115)\n        at java.util.TimerThread.mainLoop(Timer.java:555)\n        at java.util.TimerThread.run(Timer.java:505)\n2021-09-20 19:54:02.254+0000 [id=46158] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46158 for jwinslave0032 terminated: java.nio.channels.ClosedChannelException\n2021-09-20 19:54:02.255+0000 [id=47687] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-47687 for jwinslave0051 terminated: java.nio.channels.ClosedChannelException\n2021-09-20 19:54:02.262+0000 [id=46642] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46642 for jwinslave0055 terminated: java.nio.channels.ClosedChannelException\n2021-09-20 19:54:03.020+0000 [id=46158] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46158 for jwinslave0036 terminated: java.nio.channels.ClosedChannelException\n2021-09-20 19:54:03.022+0000 [id=46328] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46328 for jwinslave0056 terminated: java.nio.channels.ClosedChannelException\n2021-09-20 19:54:03.158+0000 [id=46503] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46503 for jwinslave0058 terminated: java.nio.channels.ClosedChannelException\n2021-09-20 19:54:03.159+0000 [id=46158] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46158 for jwinslave0037 terminated: java.nio.channels.ClosedChannelException\n2021-09-20 19:54:03.159+0000 [id=43]    WARNING n.b.j.internal.common.JavaLogger#warn: exception while collecting data\njava.nio.channels.ClosedChannelException\n        at jenkins.agents.WebSocketAgents$Session.closed(WebSocketAgents.java:141)\n        at jenkins.websocket.WebSocketSession.onWebSocketSomething(WebSocketSession.java:91)\n        at com.sun.proxy.$Proxy126.onWebSocketClose(Unknown Source)\n        at org.eclipse.jetty.websocket.common.events.JettyListenerEventDriver.onClose(JettyListenerEventDriver.java:149)\n        at org.eclipse.jetty.websocket.common.WebSocketSession.callApplicationOnClose(WebSocketSession.java:394)\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.disconnect(AbstractWebSocketConnection.java:316)\n        at org.eclipse.jetty.websocket.common.io.DisconnectCallback.succeeded(DisconnectCallback.java:42)\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection$CallbackBridge.writeSuccess(AbstractWebSocketConnection.java:86)\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.notifyCallbackSuccess(FrameFlusher.java:359)\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.succeedEntries(FrameFlusher.java:288)\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.succeeded(FrameFlusher.java:280)\n        at org.eclipse.jetty.io.WriteFlusher.write(WriteFlusher.java:293)\n        at org.eclipse.jetty.io.AbstractEndPoint.write(AbstractEndPoint.java:381)\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.flush(FrameFlusher.java:264)\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.process(FrameFlusher.java:193)\n        at org.eclipse.jetty.util.IteratingCallback.processing(IteratingCallback.java:241)\n        at org.eclipse.jetty.util.IteratingCallback.iterate(IteratingCallback.java:223)\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.outgoingFrame(AbstractWebSocketConnection.java:581)\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.close(AbstractWebSocketConnection.java:181)\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.onFillable(AbstractWebSocketConnection.java:510)\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.onFillable(AbstractWebSocketConnection.java:440)\n        at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\n        at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\n        at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)\n        at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:375)\n        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:773)\n        at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:905)\n        at java.lang.Thread.run(Thread.java:748)\nCaused: hudson.remoting.ChannelClosedException: Channel &quot;hudson.remoting.Channel@7288d1eb:jwinslave0037&quot;: Remote call on jwinslave0037 failed. The channel is closing down or has closed down\n        at hudson.remoting.Channel.callAsync(Channel.java:1029)\n        at net.bull.javamelody.RemoteCallHelper.collectDataByNodeName(RemoteCallHelper.java:188)\n        at net.bull.javamelody.RemoteCallHelper.collectJavaInformationsListByName(RemoteCallHelper.java:213)\n        at net.bull.javamelody.NodesCollector.collectWithoutErrorsNow(NodesCollector.java:159)\n        at net.bull.javamelody.NodesCollector.collectWithoutErrors(NodesCollector.java:147)\n        at net.bull.javamelody.NodesCollector$2.run(NodesCollector.java:115)\n        at java.util.TimerThread.mainLoop(Timer.java:555)\n        at java.util.TimerThread.run(Timer.java:505)\n2021-09-21 11:55:32.504+0000 [id=46158] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46158 for jwinslave0036 terminated: java.nio.channels.ClosedChannelException\n2021-09-21 11:55:33.256+0000 [id=46158] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46158 for jwinslave0037 terminated: java.nio.channels.ClosedChannelException\n2021-09-21 11:55:33.403+0000 [id=47687] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-47687 for jwinslave0051 terminated: java.nio.channels.ClosedChannelException\n2021-09-21 11:55:33.403+0000 [id=46498] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46498 for jwinslave0058 terminated: java.nio.channels.ClosedChannelException\n2021-09-21 11:55:33.406+0000 [id=46328] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Jetty (winstone)-46328 for jwinslave0056 terminated: java.nio.channels.ClosedChannelException\n2021-09-21 11:55:33.405+0000 [id=43]    WARNING n.b.j.internal.common.JavaLogger#warn: exception while collecting data\njava.nio.channels.ClosedChannelException\n        at jenkins.agents.WebSocketAgents$Session.closed(WebSocketAgents.java:141)\n        at jenkins.websocket.WebSocketSession.onWebSocketSomething(WebSocketSession.java:91)\n        at com.sun.proxy.$Proxy126.onWebSocketClose(Unknown Source)\n        at org.eclipse.jetty.websocket.common.events.JettyListenerEventDriver.onClose(JettyListenerEventDriver.java:149)\n        at org.eclipse.jetty.websocket.common.WebSocketSession.callApplicationOnClose(WebSocketSession.java:394)\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.disconnect(AbstractWebSocketConnection.java:316)\n        at org.eclipse.jetty.websocket.common.io.DisconnectCallback.succeeded(DisconnectCallback.java:42)\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection$CallbackBridge.writeSuccess(AbstractWebSocketConnection.java:86)\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.notifyCallbackSuccess(FrameFlusher.java:359)\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.succeedEntries(FrameFlusher.java:288)\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.succeeded(FrameFlusher.java:280)\n        at org.eclipse.jetty.io.WriteFlusher.write(WriteFlusher.java:293)\n        at org.eclipse.jetty.io.AbstractEndPoint.write(AbstractEndPoint.java:381)\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.flush(FrameFlusher.java:264)\n        at org.eclipse.jetty.websocket.common.io.FrameFlusher.process(FrameFlusher.java:193)\n        at org.eclipse.jetty.util.IteratingCallback.processing(IteratingCallback.java:241)\n        at org.eclipse.jetty.util.IteratingCallback.iterate(IteratingCallback.java:223)\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.outgoingFrame(AbstractWebSocketConnection.java:581)\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.close(AbstractWebSocketConnection.java:181)\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.onFillable(AbstractWebSocketConnection.java:510)\n        at org.eclipse.jetty.websocket.common.io.AbstractWebSocketConnection.onFillable(AbstractWebSocketConnection.java:440)\n        at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\n        at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\n        at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)\n        at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)\n        at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:375)\n        at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:773)\n        at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:905)\n        at java.lang.Thread.run(Thread.java:748)\nCaused: hudson.remoting.ChannelClosedException: Channel &quot;hudson.remoting.Channel@4a56294d:jwinslave0056&quot;: Remote call on jwinslave0056 failed. The channel is closing down or has closed down\n        at hudson.remoting.Channel.callAsync(Channel.java:1029)\n        at net.bull.javamelody.RemoteCallHelper.collectDataByNodeName(RemoteCallHelper.java:188)\n        at net.bull.javamelody.RemoteCallHelper.collectJavaInformationsListByName(RemoteCallHelper.java:213)\n        at net.bull.javamelody.NodesCollector.collectWithoutErrorsNow(NodesCollector.java:159)\n        at net.bull.javamelody.NodesCollector.collectWithoutErrors(NodesCollector.java:147)\n        at net.bull.javamelody.NodesCollector$2.run(NodesCollector.java:115)\n        at java.util.TimerThread.mainLoop(Timer.java:555)\n        at java.util.TimerThread.run(Timer.java:505)\n</code></pre>\n<p>We have configured a batch script on windows and created a task in task scheduler on windows server for the connection to be Up always. Another issue seen is the task goes from running to ready state sometimes. Sometimes even if the task is running the agent is still disconnected.</p>\n"},{"tags":["java","android","android-mediaplayer"],"answers":[{"tags":[],"owner":{"account_id":5625572,"reputation":1324,"user_id":4454119,"display_name":"Nitin Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633333482,"creation_date":1633093782,"answer_id":69406449,"question_id":69404587,"body_markdown":"1. First extract the media player code into singleton class like AudioManager.\r\n2. Add few method like setMediaUpdateListener that set a callback for  seek duration. and togglePlayPause to play or pause the audio.\r\n3. Passed the message id or any unique identifier to the audio manager while playing the video.\r\n\r\nIn Adapter class onBind Method.\r\n1. First Compare the id and playing Id is same like AudioManager.getInstance().isPlaying(messageId);\r\n\r\n2. If yes then set the seekUpdatelistner to the audio manager class.\r\nalso update the play/pause icon based on AudioManager.isPlaying() method.\r\n\r\n3.if user play other message by clicking play button. call AudioManager.play(message) method.In which we release the previous message and play the new one.\r\n\r\n4. If current message is not playing then reset the view on non-playing state.\r\n\r\n5. If Auto play is enabled then you need to check if audioManager is free then only you can play the last message otherwise ignored.\r\n\r\nLike a class who are managing the audio for you and store all the state.\r\n\r\n\r\n    class AudioManager {\r\n\r\n    public static AudioManager instance;\r\n    final MediaPlayer mediaPlayer;\r\n    private AudioListener audioListener;\r\n    private Uri currentPlaying;\r\n\r\n    public AudioManager getInstance() {\r\n        if (instance == null) {\r\n            instance = new AudioManager();\r\n        }\r\n    }\r\n\r\n\r\n    public void play(Uri dataUri) {\r\n        if (mediaPlayer != null &amp;&amp; currentPlaying == null || currentPlaying.equals(dataUri)) {\r\n            if (!mediaPlayer.isPlaying) {\r\n                mediaPlayer.play();\r\n            }\r\n\r\n            return;\r\n\r\n        } else if (mediaPlayer != null) {\r\n            mediaPlayer.stop();\r\n            mediaPlayer.release();\r\n\r\n        }\r\n        mediaPlayer = new MediaPlayer();\r\n        mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\r\n        handler = new Handler();\r\n        try {\r\n            mediaPlayer.setOnCompletionListener(mediaPlayer1 -&gt; {\r\n                mediaPlayer1.stop();\r\n                sendProgress(0);\r\n            });\r\n            if (mediaPlayer.isPlaying()) {\r\n                mediaPlayer.stop();\r\n                mediaPlayer.release();\r\n            }\r\n            mediaPlayer.setDataSource(dataUri;\r\n            mediaPlayer.setVolume(1f, 1f);\r\n            mediaPlayer.prepareAsync();\r\n            mediaPlayer.setOnPreparedListener(mediaPlayer1 -&gt; {\r\n\r\n                int totalDuration = mediaPlayer1.getDuration();\r\n                sendTotalDuration(totalDuration);\r\n            });\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public void pause() {\r\n        // update the pause code.\r\n    }\r\n\r\n    public void sendProgress(int progress) {\r\n        if (audioListener != null) {\r\n            audioListener.onProgress(progress);\r\n        }\r\n    }\r\n\r\n    public void sendTotalDuration(int duration) {\r\n        if (audioListener != null) {\r\n            audioListener.onTotalDuraration(duration);\r\n        }\r\n    }\r\n\r\n    public void AudioListener(AudioListener audioListener) {\r\n        this.audioListener = audioListener;\r\n    }\r\n\r\n    public interface AudioListener {\r\n        void onProgress(int progress);\r\n\r\n        void onTotalDuraration(int duration);\r\n\r\n        void onAudioPlayed();\r\n\r\n        void onAudioPaused():\r\n    }\r\n\r\n}","title":"Media Player loading media again and again","body":"<ol>\n<li>First extract the media player code into singleton class like AudioManager.</li>\n<li>Add few method like setMediaUpdateListener that set a callback for  seek duration. and togglePlayPause to play or pause the audio.</li>\n<li>Passed the message id or any unique identifier to the audio manager while playing the video.</li>\n</ol>\n<p>In Adapter class onBind Method.</p>\n<ol>\n<li><p>First Compare the id and playing Id is same like AudioManager.getInstance().isPlaying(messageId);</p>\n</li>\n<li><p>If yes then set the seekUpdatelistner to the audio manager class.\nalso update the play/pause icon based on AudioManager.isPlaying() method.</p>\n</li>\n</ol>\n<p>3.if user play other message by clicking play button. call AudioManager.play(message) method.In which we release the previous message and play the new one.</p>\n<ol start=\"4\">\n<li><p>If current message is not playing then reset the view on non-playing state.</p>\n</li>\n<li><p>If Auto play is enabled then you need to check if audioManager is free then only you can play the last message otherwise ignored.</p>\n</li>\n</ol>\n<p>Like a class who are managing the audio for you and store all the state.</p>\n<pre><code>class AudioManager {\n\npublic static AudioManager instance;\nfinal MediaPlayer mediaPlayer;\nprivate AudioListener audioListener;\nprivate Uri currentPlaying;\n\npublic AudioManager getInstance() {\n    if (instance == null) {\n        instance = new AudioManager();\n    }\n}\n\n\npublic void play(Uri dataUri) {\n    if (mediaPlayer != null &amp;&amp; currentPlaying == null || currentPlaying.equals(dataUri)) {\n        if (!mediaPlayer.isPlaying) {\n            mediaPlayer.play();\n        }\n\n        return;\n\n    } else if (mediaPlayer != null) {\n        mediaPlayer.stop();\n        mediaPlayer.release();\n\n    }\n    mediaPlayer = new MediaPlayer();\n    mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\n    handler = new Handler();\n    try {\n        mediaPlayer.setOnCompletionListener(mediaPlayer1 -&gt; {\n            mediaPlayer1.stop();\n            sendProgress(0);\n        });\n        if (mediaPlayer.isPlaying()) {\n            mediaPlayer.stop();\n            mediaPlayer.release();\n        }\n        mediaPlayer.setDataSource(dataUri;\n        mediaPlayer.setVolume(1f, 1f);\n        mediaPlayer.prepareAsync();\n        mediaPlayer.setOnPreparedListener(mediaPlayer1 -&gt; {\n\n            int totalDuration = mediaPlayer1.getDuration();\n            sendTotalDuration(totalDuration);\n        });\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n\npublic void pause() {\n    // update the pause code.\n}\n\npublic void sendProgress(int progress) {\n    if (audioListener != null) {\n        audioListener.onProgress(progress);\n    }\n}\n\npublic void sendTotalDuration(int duration) {\n    if (audioListener != null) {\n        audioListener.onTotalDuraration(duration);\n    }\n}\n\npublic void AudioListener(AudioListener audioListener) {\n    this.audioListener = audioListener;\n}\n\npublic interface AudioListener {\n    void onProgress(int progress);\n\n    void onTotalDuraration(int duration);\n\n    void onAudioPlayed();\n\n    void onAudioPaused():\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":5429762,"reputation":1306,"user_id":4321004,"display_name":"tfrysinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633095481,"creation_date":1633095481,"answer_id":69406837,"question_id":69404587,"body_markdown":"It&#39;s hard to tell from this code but I assume this is all set in your onBind event? If so, then this means every time RecyclerView creates a new holder and binds it, the associated media will be prepped and loaded, and whichever is the &#39;last holder to have been called with onBind, &quot;wins&quot; (and is what MediaPlayer will be loaded with). Since by default RecyclerView typically creates multiple holders up front, you are seeing your MediaPlayer being &quot;loaded&quot; multiple times.\r\n\r\nYou probably just don&#39;t want to do the initialization of each audio message in the onBind. Instead, just use the onBind event to initialize state variables (duration, progress, etc.) to some default value, hide them and bind the specific audio Uri. Then when the user takes some action like tapping on the holder, you unhide an indeterminate progress bar while the initialization takes place, and in the onPrepared() event unhide the state information (duration, progress, seekbar, etc.), and finally hide the indeterminate progress bar and start the audio.\r\n\r\nI assume you are also sending over the sound file as part of your messaging app (i.e. not storing it on the web somewhere in a central location?), and this file gets stored in an app-specific storage location? If so, you don&#39;t need to worry about persisting the permission to that URI, but if that isn&#39;t the case you will.","title":"Media Player loading media again and again","body":"<p>It's hard to tell from this code but I assume this is all set in your onBind event? If so, then this means every time RecyclerView creates a new holder and binds it, the associated media will be prepped and loaded, and whichever is the 'last holder to have been called with onBind, &quot;wins&quot; (and is what MediaPlayer will be loaded with). Since by default RecyclerView typically creates multiple holders up front, you are seeing your MediaPlayer being &quot;loaded&quot; multiple times.</p>\n<p>You probably just don't want to do the initialization of each audio message in the onBind. Instead, just use the onBind event to initialize state variables (duration, progress, etc.) to some default value, hide them and bind the specific audio Uri. Then when the user takes some action like tapping on the holder, you unhide an indeterminate progress bar while the initialization takes place, and in the onPrepared() event unhide the state information (duration, progress, seekbar, etc.), and finally hide the indeterminate progress bar and start the audio.</p>\n<p>I assume you are also sending over the sound file as part of your messaging app (i.e. not storing it on the web somewhere in a central location?), and this file gets stored in an app-specific storage location? If so, you don't need to worry about persisting the permission to that URI, but if that isn't the case you will.</p>\n"}],"owner":{"display_name":"user16752070"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633333482,"creation_date":1633085070,"question_id":69404587,"body_markdown":"I am making a chat application and I have implemented the feature for sending audio messages.But here I find one thing which I don&#39;t want it to happen.It is that whenever my adapter gets updated,The media player starts loading again. In this way there will be an issue for if someone is listening to an audio and the user at other end sends a message ,the media player stops and it loads again.Here is the code of my adapter.\r\n\r\n    final MediaPlayer mediaPlayer;\r\n                mediaPlayer = new MediaPlayer();\r\n                mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\r\n                handler = new Handler();\r\n                try {\r\n                    mediaPlayer.setOnCompletionListener(mediaPlayer1 -&gt; {\r\n                        mediaPlayer1.stop();\r\n                        binding.audioSeekbar.setProgress(0);\r\n                    });\r\n                    if (mediaPlayer.isPlaying()){\r\n                        mediaPlayer.stop();\r\n                        mediaPlayer.release();\r\n                    }\r\n                    mediaPlayer.setDataSource(finalUrlToLoad[1]);\r\n                    mediaPlayer.setVolume(1f, 1f);\r\n                    mediaPlayer.prepareAsync();\r\n                    mediaPlayer.setOnPreparedListener(mediaPlayer1 -&gt; {\r\n                        int totalDuration = mediaPlayer1.getDuration();\r\n                        binding.totalDurationAudio.setText(createTimeLabel(totalDuration));\r\n                        binding.loadingAudio.setVisibility(GONE);\r\n                        binding.playPauseAudio.setVisibility(VISIBLE);\r\n                    });\r\n                } catch (IOException e) {e.printStackTrace();}\r\n                binding.playPauseAudio.setOnClickListener(view -&gt; {\r\n                    if (mediaPlayer.isPlaying()){\r\n                        handler.removeCallbacks(runnable);\r\n                        mediaPlayer.pause();\r\n                        binding.playPauseAudio.setImageResource(R.drawable.pause_to_play);\r\n                        Drawable drawable = binding.playPauseAudio.getDrawable();\r\n                        if( drawable instanceof AnimatedVectorDrawable) {\r\n                            AnimatedVectorDrawable animation = (AnimatedVectorDrawable) drawable;\r\n                            animation.start();\r\n                        }\r\n                    }else {\r\n                        mediaPlayer.seekTo(binding.audioSeekbar.getProgress());\r\n                        mediaPlayer.start();\r\n                        handler.post(runnable);\r\n                        binding.playPauseAudio.setImageResource(R.drawable.play_to_pause);\r\n                        Drawable drawable = binding.playPauseAudio.getDrawable();\r\n                        if( drawable instanceof AnimatedVectorDrawable) {\r\n                            AnimatedVectorDrawable animation = (AnimatedVectorDrawable) drawable;\r\n                            animation.start();\r\n                        }\r\n                    }\r\n                });\r\n                runnable = () -&gt; {\r\n                    int totalTime = mediaPlayer.getDuration();\r\n                    binding.audioSeekbar.setMax(totalTime);\r\n                    int currentPosition = mediaPlayer.getCurrentPosition();\r\n                    binding.audioSeekbar.setProgress(currentPosition);\r\n                    binding.totalDurationAudio.setText(createTimeLabel(totalTime));\r\n                    Log.d(&quot;time&quot;, String.valueOf(currentPosition));\r\n                    handler.postDelayed(runnable,1000);\r\n                };\r\n                binding.audioSeekbar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\r\n                    @Override\r\n                    public void onProgressChanged(SeekBar seekBar, int i, boolean b) {\r\n                        if (b){\r\n                            mediaPlayer.seekTo(i);\r\n                            seekBar.setProgress(i);\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void onStartTrackingTouch(SeekBar seekBar) {\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onStopTrackingTouch(SeekBar seekBar) {\r\n\r\n                    }\r\n                });\r\n                mediaPlayer.setOnBufferingUpdateListener((mediaPlayer1, i) -&gt; binding.audioSeekbar.setSecondaryProgress(i));\r\n\r\nHere finalurltoload[1] is the url for the audio.\r\n\r\nNow what do I need to do in order to prevent loading it again and again.\r\n\r\nI will be really grateful to who answer this question.\r\n\r\nThanks&#128522;.","title":"Media Player loading media again and again","body":"<p>I am making a chat application and I have implemented the feature for sending audio messages.But here I find one thing which I don't want it to happen.It is that whenever my adapter gets updated,The media player starts loading again. In this way there will be an issue for if someone is listening to an audio and the user at other end sends a message ,the media player stops and it loads again.Here is the code of my adapter.</p>\n<pre><code>final MediaPlayer mediaPlayer;\n            mediaPlayer = new MediaPlayer();\n            mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\n            handler = new Handler();\n            try {\n                mediaPlayer.setOnCompletionListener(mediaPlayer1 -&gt; {\n                    mediaPlayer1.stop();\n                    binding.audioSeekbar.setProgress(0);\n                });\n                if (mediaPlayer.isPlaying()){\n                    mediaPlayer.stop();\n                    mediaPlayer.release();\n                }\n                mediaPlayer.setDataSource(finalUrlToLoad[1]);\n                mediaPlayer.setVolume(1f, 1f);\n                mediaPlayer.prepareAsync();\n                mediaPlayer.setOnPreparedListener(mediaPlayer1 -&gt; {\n                    int totalDuration = mediaPlayer1.getDuration();\n                    binding.totalDurationAudio.setText(createTimeLabel(totalDuration));\n                    binding.loadingAudio.setVisibility(GONE);\n                    binding.playPauseAudio.setVisibility(VISIBLE);\n                });\n            } catch (IOException e) {e.printStackTrace();}\n            binding.playPauseAudio.setOnClickListener(view -&gt; {\n                if (mediaPlayer.isPlaying()){\n                    handler.removeCallbacks(runnable);\n                    mediaPlayer.pause();\n                    binding.playPauseAudio.setImageResource(R.drawable.pause_to_play);\n                    Drawable drawable = binding.playPauseAudio.getDrawable();\n                    if( drawable instanceof AnimatedVectorDrawable) {\n                        AnimatedVectorDrawable animation = (AnimatedVectorDrawable) drawable;\n                        animation.start();\n                    }\n                }else {\n                    mediaPlayer.seekTo(binding.audioSeekbar.getProgress());\n                    mediaPlayer.start();\n                    handler.post(runnable);\n                    binding.playPauseAudio.setImageResource(R.drawable.play_to_pause);\n                    Drawable drawable = binding.playPauseAudio.getDrawable();\n                    if( drawable instanceof AnimatedVectorDrawable) {\n                        AnimatedVectorDrawable animation = (AnimatedVectorDrawable) drawable;\n                        animation.start();\n                    }\n                }\n            });\n            runnable = () -&gt; {\n                int totalTime = mediaPlayer.getDuration();\n                binding.audioSeekbar.setMax(totalTime);\n                int currentPosition = mediaPlayer.getCurrentPosition();\n                binding.audioSeekbar.setProgress(currentPosition);\n                binding.totalDurationAudio.setText(createTimeLabel(totalTime));\n                Log.d(&quot;time&quot;, String.valueOf(currentPosition));\n                handler.postDelayed(runnable,1000);\n            };\n            binding.audioSeekbar.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\n                @Override\n                public void onProgressChanged(SeekBar seekBar, int i, boolean b) {\n                    if (b){\n                        mediaPlayer.seekTo(i);\n                        seekBar.setProgress(i);\n                    }\n                }\n\n                @Override\n                public void onStartTrackingTouch(SeekBar seekBar) {\n\n                }\n\n                @Override\n                public void onStopTrackingTouch(SeekBar seekBar) {\n\n                }\n            });\n            mediaPlayer.setOnBufferingUpdateListener((mediaPlayer1, i) -&gt; binding.audioSeekbar.setSecondaryProgress(i));\n</code></pre>\n<p>Here finalurltoload[1] is the url for the audio.</p>\n<p>Now what do I need to do in order to prevent loading it again and again.</p>\n<p>I will be really grateful to who answer this question.</p>\n<p>ThanksðŸ˜Š.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":1,"creation_date":1633332217,"post_id":69432178,"comment_id":122721478,"body_markdown":"It&#39;s not the controller that gets serialized but the `AccountListWrapper` object. Add the `Serializable` interface to that object instead. Serialization is the process that transforms your in-memory object to something that can (eg) be written to a file or transmitted over the network.","body":"It&#39;s not the controller that gets serialized but the <code>AccountListWrapper</code> object. Add the <code>Serializable</code> interface to that object instead. Serialization is the process that transforms your in-memory object to something that can (eg) be written to a file or transmitted over the network."},{"owner":{"account_id":9023324,"reputation":2669,"user_id":6737245,"display_name":"user630702"},"score":0,"creation_date":1633332510,"post_id":69432178,"comment_id":122721567,"body_markdown":"Can you share an example or show the line of code? I haven&#39;t been able to fix it yet","body":"Can you share an example or show the line of code? I haven&#39;t been able to fix it yet"}],"answers":[{"tags":[],"owner":{"account_id":15586524,"reputation":1970,"user_id":11244881,"display_name":"SKumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633333405,"creation_date":1633333405,"answer_id":69432502,"question_id":69432178,"body_markdown":"`BanksMvcController.java:62` should be the culprit where your application is trying to store `accountListWrapper` inside the Session.\r\n\r\n    session.setAttribute(ACCOUNT_LIST_WRAPPER, accountListWrapper);\r\n\r\nSo, try to  make the `AccountListWrapper` serializable.\r\n\r\n    public class AccountListWrapper implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n        \r\n        ...\r\n    }","title":"Spring boot - J2EE Bad Practices: Non-Serializable Object Stored in Session","body":"<p><code>BanksMvcController.java:62</code> should be the culprit where your application is trying to store <code>accountListWrapper</code> inside the Session.</p>\n<pre><code>session.setAttribute(ACCOUNT_LIST_WRAPPER, accountListWrapper);\n</code></pre>\n<p>So, try to  make the <code>AccountListWrapper</code> serializable.</p>\n<pre><code>public class AccountListWrapper implements Serializable {\n    private static final long serialVersionUID = 1L;\n    \n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":9023324,"reputation":2669,"user_id":6737245,"display_name":"user630702"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633333405,"creation_date":1633331741,"question_id":69432178,"body_markdown":"How can I resolve the `Non-Serializable Object Stored in Session` error? I tried implementing `public class BanksMvcController implements Serializable` but that doesn&#39;t resolve the error.\r\n\r\nAny suggestion would be helpful.\r\n\r\n     &quot;J2EE Bad Practices: Non-Serializable Object Stored in Session&quot; =&gt; 1 Issues\r\n         demo-web/src/main/java/com/webDemo/controller/BanksMvcController.java:62 (Structural)\r\n\r\nHere is the BanksMvcController.java code:\r\n\r\n    package com.webDemo.controller;\r\n    \r\n    import com.apiDemo.controller.BanksController;\r\n    import com.apiDemo.model.Account;\r\n    import com.apiDemo.model.AccountListWrapper;\r\n    import com.apiDemo.service.BanksService;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.ModelMap;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    \r\n    import javax.servlet.http.HttpSession;\r\n    \r\n    import java.io.Serializable;\r\n    import java.util.List;\r\n    \r\n    /**\r\n     * Created by p.bell on 25.01.2016.\r\n     */\r\n    @Controller\r\n    public class BanksMvcController  {\r\n    \r\n        @Autowired\r\n        private BanksService banksService;\r\n    \r\n        public static final String ACCOUNT_LIST_WRAPPER=&quot;accountListWrapper&quot;;\r\n        private static final String INIT_IBAN=&quot;initIban&quot;;\r\n        private static final String INIT_BUSINESS_IDENTIFER_CODE=&quot;initBusinessIdentifierCode&quot;;\r\n        private static final String SESSION=&quot;session&quot;;\r\n        private static final String DATABASE=&quot;database&quot;;\r\n    \r\n        @RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\r\n        public String getAccountListWrapper(HttpSession session,ModelMap model, @RequestParam(value=&quot;storageType&quot;,required = false) String storageType) {\r\n            AccountListWrapper accountListWrapper=null;\r\n            if(storageType==null || SESSION.equals(storageType)) {\r\n                accountListWrapper = sessionSelected(session, storageType);\r\n            }else if(DATABASE.equals(storageType)){\r\n                accountListWrapper = databaseSelected(session, storageType);\r\n            }\r\n            model.addAttribute(ACCOUNT_LIST_WRAPPER, accountListWrapper);\r\n            return &quot;index&quot;;\r\n        }\r\n    \r\n        private AccountListWrapper databaseSelected(HttpSession session, String storageType) {\r\n            List&lt;Account&gt; accountList = banksService.getBySessionId(session.getId());\r\n            if(accountList.size()==0){\r\n                banksService.create(INIT_IBAN,INIT_BUSINESS_IDENTIFER_CODE,session.getId());\r\n                accountList = banksService.getBySessionId(session.getId());\r\n            }\r\n            return new AccountListWrapper(accountList,DATABASE);\r\n        }\r\n    \r\n        private AccountListWrapper sessionSelected(HttpSession session, String storageType)  {\r\n            AccountListWrapper accountListWrapper = (AccountListWrapper) session.getAttribute(ACCOUNT_LIST_WRAPPER);\r\n            if(accountListWrapper==null){\r\n                accountListWrapper=  new AccountListWrapper();\r\n                accountListWrapper.add(new Account(INIT_IBAN, INIT_BUSINESS_IDENTIFER_CODE));\r\n            }\r\n            accountListWrapper.setStorageType(SESSION);\r\n            session.setAttribute(ACCOUNT_LIST_WRAPPER, accountListWrapper);\r\n            return accountListWrapper;\r\n        }\r\n    }\r\n\r\n\r\n","title":"Spring boot - J2EE Bad Practices: Non-Serializable Object Stored in Session","body":"<p>How can I resolve the <code>Non-Serializable Object Stored in Session</code> error? I tried implementing <code>public class BanksMvcController implements Serializable</code> but that doesn't resolve the error.</p>\n<p>Any suggestion would be helpful.</p>\n<pre><code> &quot;J2EE Bad Practices: Non-Serializable Object Stored in Session&quot; =&gt; 1 Issues\n     demo-web/src/main/java/com/webDemo/controller/BanksMvcController.java:62 (Structural)\n</code></pre>\n<p>Here is the BanksMvcController.java code:</p>\n<pre><code>package com.webDemo.controller;\n\nimport com.apiDemo.controller.BanksController;\nimport com.apiDemo.model.Account;\nimport com.apiDemo.model.AccountListWrapper;\nimport com.apiDemo.service.BanksService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.ModelMap;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RequestParam;\n\nimport javax.servlet.http.HttpSession;\n\nimport java.io.Serializable;\nimport java.util.List;\n\n/**\n * Created by p.bell on 25.01.2016.\n */\n@Controller\npublic class BanksMvcController  {\n\n    @Autowired\n    private BanksService banksService;\n\n    public static final String ACCOUNT_LIST_WRAPPER=&quot;accountListWrapper&quot;;\n    private static final String INIT_IBAN=&quot;initIban&quot;;\n    private static final String INIT_BUSINESS_IDENTIFER_CODE=&quot;initBusinessIdentifierCode&quot;;\n    private static final String SESSION=&quot;session&quot;;\n    private static final String DATABASE=&quot;database&quot;;\n\n    @RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\n    public String getAccountListWrapper(HttpSession session,ModelMap model, @RequestParam(value=&quot;storageType&quot;,required = false) String storageType) {\n        AccountListWrapper accountListWrapper=null;\n        if(storageType==null || SESSION.equals(storageType)) {\n            accountListWrapper = sessionSelected(session, storageType);\n        }else if(DATABASE.equals(storageType)){\n            accountListWrapper = databaseSelected(session, storageType);\n        }\n        model.addAttribute(ACCOUNT_LIST_WRAPPER, accountListWrapper);\n        return &quot;index&quot;;\n    }\n\n    private AccountListWrapper databaseSelected(HttpSession session, String storageType) {\n        List&lt;Account&gt; accountList = banksService.getBySessionId(session.getId());\n        if(accountList.size()==0){\n            banksService.create(INIT_IBAN,INIT_BUSINESS_IDENTIFER_CODE,session.getId());\n            accountList = banksService.getBySessionId(session.getId());\n        }\n        return new AccountListWrapper(accountList,DATABASE);\n    }\n\n    private AccountListWrapper sessionSelected(HttpSession session, String storageType)  {\n        AccountListWrapper accountListWrapper = (AccountListWrapper) session.getAttribute(ACCOUNT_LIST_WRAPPER);\n        if(accountListWrapper==null){\n            accountListWrapper=  new AccountListWrapper();\n            accountListWrapper.add(new Account(INIT_IBAN, INIT_BUSINESS_IDENTIFER_CODE));\n        }\n        accountListWrapper.setStorageType(SESSION);\n        session.setAttribute(ACCOUNT_LIST_WRAPPER, accountListWrapper);\n        return accountListWrapper;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","dagger-2"],"answers":[{"tags":[],"owner":{"account_id":1475484,"reputation":1962,"user_id":1419616,"display_name":"Semafoor"},"down_vote_count":0,"up_vote_count":125,"is_accepted":true,"score":125,"last_activity_date":1632300238,"creation_date":1464583623,"answer_id":37517764,"question_id":37516736,"body_markdown":"I had the same question as you when I started looking into Dagger 2 a couple of weeks ago. I found information on this (and most other Dagger 2-related issues) difficult to come by, so I hope this helps!\r\n\r\nThe most basic answer is that you cannot. What you are looking for is something that is called *assisted injection*, and it is not part of Dagger 2. Some other dependency injection (DI) frameworks, such as [Guice][1], do offer this feature, so you might look into those. Of course, there are still ways to do what you want to do using Dagger 2.\r\n\r\n## Factories factories factories\r\n\r\nThe standard way to do what you want to do in combination with DI is by using the Factory pattern. Basically, you create an injectable factory class that takes runtime parameters such as `address` as arguments to the object creation methods that it provides.\r\n\r\nIn your case, you would need a `UtilFactory` into which Dagger 2 injects a `Validator` upon instantation and which offers a method `create(String address)` that creates instances of `Util`. `UtilFactory` should keep a reference to the injected instance of `Validator` so that it has everything it needs to create an instance of `Util` in the `create` method.\r\n\r\nWring code for many such factories can be cumbersome. You should definitely take a look at [AutoFactory][2], which eases some of the burden. Guice&#39;s assisted injection seems to work quite similar to Dagger 2 + AutoFactory (albeit with even nicer syntactic sugar).\r\n\r\n## More modules / components\r\n\r\nI doubt this is something that you would like to do in this case, but you *could* just create a module that provides the address (and instantiate a new component). You do not have to create a new @Module class for every possible address. Instead, you can just pass the address as an argument to the constructor of the module. You could use the @BindsInstance-annotation as suggested by teano to achieve a similar result.\r\n\r\nI am not sure if this is an anti-pattern or not. To me, this seems like an acceptable route in some cases, but only when you are actually using the same e.g. address for the initialisation of &quot;many&quot; objects. You definitely do not want to instantiate a new component *and* a new model for each object that requires injection. It is not efficient, and if you are not careful you will end up with more boilerplate code than without Dagger.\r\n\r\n## Do not (always) use DI: Injectables versus newables\r\n\r\nSomething that was immensely useful to me when learning about DI frameworks was the realisation that using a DI framework does *not* mean that you have to DI to initialise *all* of your objects. As a rule of thumb: inject objects that you know of at compile time and that have static relations to other objects; do not inject runtime information.\r\n\r\nI think [this][3] is a good post on the subject. It introduces the concept of &#39;newables&#39; and &#39;injectables&#39;.\r\n\r\n* *Injectables* are the classes near the root of your DI graph. Instances of these classes are the kind of objects that you expect your DI framework to provide and inject. Manager- or service-type objects are typical examples of injectables.\r\n* *Newables* are objects at the fringes of your DI graph, or that are not even really part of your DI graph at all. `Integer`, `Address` etc. are examples of newables.\r\n\r\nBroadly speaking, newables are passive objects, and there is no point in injecting or mocking them. They typically contain the &quot;data&quot; that is in your application and that is only available at runtime (e.g. your address). Newables should not keep references to injectables or vice versa (something the author of the post refers to as &quot;injectable/newable-separation&quot;).\r\n\r\nIn reality, I have found that it is not always easy or possible to make a clear distinction between injectables and newables. Still, I think that they are nice concepts to use as part of your thinking process. Definitely think twice before adding yet another factory to your project!\r\n\r\nIn your case, I think it would make sense to treat `Util` as an injectable and the address as a newable. This means that the address should not be part of the `Util` class. If you want to use instance of `Util` for e.g. validating/... addresses, just pass the address that you want to validate as an argument to the validation/... method.\r\n\r\n  [1]: https://github.com/google/guice/wiki/AssistedInject\r\n  [2]: https://github.com/google/auto/tree/master/factory\r\n  [3]: http://misko.hevery.com/2008/09/30/to-new-or-not-to-new/\r\n\r\n\r\n## Update from 2021 #\r\n\t\r\nSince the 2.31 version of Dagger 2, there is also a mechanism for assisted injection using `@AssistedInject`. You can see more in the documentation [here](https://dagger.dev/dev-guide/assisted-injection.html). (Edited at the suggestion of [Jay Sidri](https://stackoverflow.com/users/170169/jay-sidri).)","title":"Dagger 2: Injecting user inputted parameter into object","body":"<p>I had the same question as you when I started looking into Dagger 2 a couple of weeks ago. I found information on this (and most other Dagger 2-related issues) difficult to come by, so I hope this helps!</p>\n<p>The most basic answer is that you cannot. What you are looking for is something that is called <em>assisted injection</em>, and it is not part of Dagger 2. Some other dependency injection (DI) frameworks, such as <a href=\"https://github.com/google/guice/wiki/AssistedInject\" rel=\"noreferrer\">Guice</a>, do offer this feature, so you might look into those. Of course, there are still ways to do what you want to do using Dagger 2.</p>\n<h2>Factories factories factories</h2>\n<p>The standard way to do what you want to do in combination with DI is by using the Factory pattern. Basically, you create an injectable factory class that takes runtime parameters such as <code>address</code> as arguments to the object creation methods that it provides.</p>\n<p>In your case, you would need a <code>UtilFactory</code> into which Dagger 2 injects a <code>Validator</code> upon instantation and which offers a method <code>create(String address)</code> that creates instances of <code>Util</code>. <code>UtilFactory</code> should keep a reference to the injected instance of <code>Validator</code> so that it has everything it needs to create an instance of <code>Util</code> in the <code>create</code> method.</p>\n<p>Wring code for many such factories can be cumbersome. You should definitely take a look at <a href=\"https://github.com/google/auto/tree/master/factory\" rel=\"noreferrer\">AutoFactory</a>, which eases some of the burden. Guice's assisted injection seems to work quite similar to Dagger 2 + AutoFactory (albeit with even nicer syntactic sugar).</p>\n<h2>More modules / components</h2>\n<p>I doubt this is something that you would like to do in this case, but you <em>could</em> just create a module that provides the address (and instantiate a new component). You do not have to create a new @Module class for every possible address. Instead, you can just pass the address as an argument to the constructor of the module. You could use the @BindsInstance-annotation as suggested by teano to achieve a similar result.</p>\n<p>I am not sure if this is an anti-pattern or not. To me, this seems like an acceptable route in some cases, but only when you are actually using the same e.g. address for the initialisation of &quot;many&quot; objects. You definitely do not want to instantiate a new component <em>and</em> a new model for each object that requires injection. It is not efficient, and if you are not careful you will end up with more boilerplate code than without Dagger.</p>\n<h2>Do not (always) use DI: Injectables versus newables</h2>\n<p>Something that was immensely useful to me when learning about DI frameworks was the realisation that using a DI framework does <em>not</em> mean that you have to DI to initialise <em>all</em> of your objects. As a rule of thumb: inject objects that you know of at compile time and that have static relations to other objects; do not inject runtime information.</p>\n<p>I think <a href=\"http://misko.hevery.com/2008/09/30/to-new-or-not-to-new/\" rel=\"noreferrer\">this</a> is a good post on the subject. It introduces the concept of 'newables' and 'injectables'.</p>\n<ul>\n<li><em>Injectables</em> are the classes near the root of your DI graph. Instances of these classes are the kind of objects that you expect your DI framework to provide and inject. Manager- or service-type objects are typical examples of injectables.</li>\n<li><em>Newables</em> are objects at the fringes of your DI graph, or that are not even really part of your DI graph at all. <code>Integer</code>, <code>Address</code> etc. are examples of newables.</li>\n</ul>\n<p>Broadly speaking, newables are passive objects, and there is no point in injecting or mocking them. They typically contain the &quot;data&quot; that is in your application and that is only available at runtime (e.g. your address). Newables should not keep references to injectables or vice versa (something the author of the post refers to as &quot;injectable/newable-separation&quot;).</p>\n<p>In reality, I have found that it is not always easy or possible to make a clear distinction between injectables and newables. Still, I think that they are nice concepts to use as part of your thinking process. Definitely think twice before adding yet another factory to your project!</p>\n<p>In your case, I think it would make sense to treat <code>Util</code> as an injectable and the address as a newable. This means that the address should not be part of the <code>Util</code> class. If you want to use instance of <code>Util</code> for e.g. validating/... addresses, just pass the address that you want to validate as an argument to the validation/... method.</p>\n<h2>Update from 2021</h2>\n<p>Since the 2.31 version of Dagger 2, there is also a mechanism for assisted injection using <code>@AssistedInject</code>. You can see more in the documentation <a href=\"https://dagger.dev/dev-guide/assisted-injection.html\" rel=\"noreferrer\">here</a>. (Edited at the suggestion of <a href=\"https://stackoverflow.com/users/170169/jay-sidri\">Jay Sidri</a>.)</p>\n"},{"tags":[],"owner":{"account_id":5654102,"reputation":395,"user_id":4473797,"display_name":"Francis Shi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1489545009,"creation_date":1489545009,"answer_id":42800086,"question_id":37516736,"body_markdown":"when initiate Module, you can pass some parameters like this:\r\n\r\n    public NetServiceModule(String baseUrl, boolean isLogEnabled, CookieJar cookieJar) {\r\n        this.mBaseUrl = baseUrl;\r\n        this.mIsLogEnabled = isLogEnabled;\r\n        this.mCookieJar = cookieJar;\r\n    }\r\nAnd then get the component in &quot;Container Class&quot;:\r\n\r\n    NetServiceComponent component = DaggerNetServiceComponent.builder()\r\n                .netServiceModule(new NetServiceModule(baseUrl, mIsLogEnabled, cookieJar))\r\n                .build();\r\n        component.inject(this);\r\n\r\nWith **Provides** method to provide **Injection** which generate by some parameters if it need:\r\n\r\n    @Provides\r\n    Retrofit provideRetrofit(OkHttpClient httpClient, GsonConverterFactory gsonConverterFactory, NetCallAdapterFactory netCallAdapterFactory) {\r\n\r\n        return new Retrofit.Builder()\r\n                .client(httpClient)\r\n                .baseUrl(mBaseUrl)\r\n                .addConverterFactory(gsonConverterFactory)\r\n                .addCallAdapterFactory(netCallAdapterFactory)\r\n                .build();\r\n    }","title":"Dagger 2: Injecting user inputted parameter into object","body":"<p>when initiate Module, you can pass some parameters like this:</p>\n\n<pre><code>public NetServiceModule(String baseUrl, boolean isLogEnabled, CookieJar cookieJar) {\n    this.mBaseUrl = baseUrl;\n    this.mIsLogEnabled = isLogEnabled;\n    this.mCookieJar = cookieJar;\n}\n</code></pre>\n\n<p>And then get the component in \"Container Class\":</p>\n\n<pre><code>NetServiceComponent component = DaggerNetServiceComponent.builder()\n            .netServiceModule(new NetServiceModule(baseUrl, mIsLogEnabled, cookieJar))\n            .build();\n    component.inject(this);\n</code></pre>\n\n<p>With <strong>Provides</strong> method to provide <strong>Injection</strong> which generate by some parameters if it need:</p>\n\n<pre><code>@Provides\nRetrofit provideRetrofit(OkHttpClient httpClient, GsonConverterFactory gsonConverterFactory, NetCallAdapterFactory netCallAdapterFactory) {\n\n    return new Retrofit.Builder()\n            .client(httpClient)\n            .baseUrl(mBaseUrl)\n            .addConverterFactory(gsonConverterFactory)\n            .addCallAdapterFactory(netCallAdapterFactory)\n            .build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2465323,"reputation":505,"user_id":2148569,"display_name":"teano"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1602742848,"creation_date":1500998223,"answer_id":45308263,"question_id":37516736,"body_markdown":"You can change the component builder to inject instances. See: https://google.github.io/dagger/users-guide#binding-instances\r\n\r\nIn your case, you can call:\r\n\r\n    Util myUtil = DaggerMyComponent.builder().withAddress(txtAddress.getText()).build().getComponent().getUtil();\r\n\r\nif MyComponent is defined as:\r\n\r\n    @Component(modules = UtilModule.class)\r\n    interface MyComponent{\r\n\r\n        MyComponent getComponent();\r\n\r\n        @Component.Builder\r\n        interface Builder {\r\n\r\n            @BindsInstance Builder withAddress(@Address String address); //bind address instance\r\n\r\n            MyComponent build();\r\n\r\n        }\r\n    }\r\nAnd UtilModule:\r\n\r\n    @Module\r\n    class UtilModule{\r\n\r\n        @Provides\r\n        Util getUtil(Validator validator, @Address String address){ //inject address instance\r\n            return new Util(validator, address);\r\n        }\r\n\r\n    }\r\n\r\nValidator must be provided with an @Inject annotated constructor or a @Provides annotated method in a module class passed to MyComponent&#39;s modules in the @Component annotation.\r\n\r\n**Update:**\r\n\r\n@Address is a [Qualifier][1] that can be defined as:\r\n\r\n    @java.lang.annotation.Documented\r\n    @java.lang.annotation.Retention(RUNTIME)\r\n    @javax.inject.Qualifier\r\n    public @interface Address {}\r\n\r\nand can also be replaced with the [@Named][2] qualifier, e.g. @Named(&quot;Address&quot;).\r\n\r\nSee [Dagger Guide][3] for more information about qualifiers.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/inject/Qualifier.html\r\n  [2]: https://docs.oracle.com/javaee/7/api/javax/inject/Named.html\r\n  [3]: https://dagger.dev/dev-guide","title":"Dagger 2: Injecting user inputted parameter into object","body":"<p>You can change the component builder to inject instances. See: <a href=\"https://google.github.io/dagger/users-guide#binding-instances\" rel=\"nofollow noreferrer\">https://google.github.io/dagger/users-guide#binding-instances</a></p>\n<p>In your case, you can call:</p>\n<pre><code>Util myUtil = DaggerMyComponent.builder().withAddress(txtAddress.getText()).build().getComponent().getUtil();\n</code></pre>\n<p>if MyComponent is defined as:</p>\n<pre><code>@Component(modules = UtilModule.class)\ninterface MyComponent{\n\n    MyComponent getComponent();\n\n    @Component.Builder\n    interface Builder {\n\n        @BindsInstance Builder withAddress(@Address String address); //bind address instance\n\n        MyComponent build();\n\n    }\n}\n</code></pre>\n<p>And UtilModule:</p>\n<pre><code>@Module\nclass UtilModule{\n\n    @Provides\n    Util getUtil(Validator validator, @Address String address){ //inject address instance\n        return new Util(validator, address);\n    }\n\n}\n</code></pre>\n<p>Validator must be provided with an @Inject annotated constructor or a @Provides annotated method in a module class passed to MyComponent's modules in the @Component annotation.</p>\n<p><strong>Update:</strong></p>\n<p>@Address is a <a href=\"https://docs.oracle.com/javaee/7/api/javax/inject/Qualifier.html\" rel=\"nofollow noreferrer\">Qualifier</a> that can be defined as:</p>\n<pre><code>@java.lang.annotation.Documented\n@java.lang.annotation.Retention(RUNTIME)\n@javax.inject.Qualifier\npublic @interface Address {}\n</code></pre>\n<p>and can also be replaced with the <a href=\"https://docs.oracle.com/javaee/7/api/javax/inject/Named.html\" rel=\"nofollow noreferrer\">@Named</a> qualifier, e.g. @Named(&quot;Address&quot;).</p>\n<p>See <a href=\"https://dagger.dev/dev-guide\" rel=\"nofollow noreferrer\">Dagger Guide</a> for more information about qualifiers.</p>\n"},{"tags":[],"owner":{"account_id":4251542,"reputation":19,"user_id":3478454,"display_name":"Koushik Deb"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1546079167,"creation_date":1546079167,"answer_id":53968696,"question_id":37516736,"body_markdown":"    @Inject\r\n    Usermodel uuser;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        userComponent dc = DaggeruserComponent.create();\r\n        dc.injectMain(this);\r\n\r\n        historymodel hm =  uuser.getHistorymodel();// get the models to pass user inputs \r\n\r\n        videoModel vm = uuser.getVideoModel();//  get the models to pass user inputs\r\n\r\n        hm.setUid(&quot;userid &quot;);\r\n\r\n\r\n    }\r\n}","title":"Dagger 2: Injecting user inputted parameter into object","body":"<pre><code>@Inject\nUsermodel uuser;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    userComponent dc = DaggeruserComponent.create();\n    dc.injectMain(this);\n\n    historymodel hm =  uuser.getHistorymodel();// get the models to pass user inputs \n\n    videoModel vm = uuser.getVideoModel();//  get the models to pass user inputs\n\n    hm.setUid(\"userid \");\n\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":18106233,"reputation":21,"user_id":13163556,"display_name":"Sergey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633332534,"creation_date":1631519040,"answer_id":69158986,"question_id":37516736,"body_markdown":"Since the 2.31 version of Dagger 2, there is a mechanism for assisted injection. We can use @AssistedInject for that. You can see more in the documentation [here](https://dagger.dev/dev-guide/assisted-injection.html).\r\n\r\n## Example: ##\r\nWe have a class that needs assisted inject:\r\n```Java\r\nclass MyDataService {\r\n  @AssistedInject\r\n  MyDataService(DataFetcher dataFetcher, @Assisted Config config) {}\r\n}\r\n```\r\n\r\nWe use @AssistedInject to indicate that our constructor will need assisted inject and @Assisted to mark which arguments will be assisted injected.\r\n\r\nThen we need to define a factory for assisted injection\r\n\r\n```Java\r\n@AssistedFactory\r\npublic interface MyDataServiceFactory {\r\n  MyDataService create(Config config);\r\n}\r\n```\r\n\r\nAnd finally Dagger will generate this factory for us and we will able to inject it in place we need to use our dependency.\r\n\r\n```Kotlin\r\nclass MyApp {\r\n  @Inject MyDataServiceFactory serviceFactory;\r\n\r\n  MyDataService setupService(Config config) {\r\n    MyDataService service = serviceFactory.create(config);\r\n    // ...\r\n    return service;\r\n  }\r\n}\r\n```","title":"Dagger 2: Injecting user inputted parameter into object","body":"<p>Since the 2.31 version of Dagger 2, there is a mechanism for assisted injection. We can use @AssistedInject for that. You can see more in the documentation <a href=\"https://dagger.dev/dev-guide/assisted-injection.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<h2>Example:</h2>\n<p>We have a class that needs assisted inject:</p>\n<pre><code>class MyDataService {\n  @AssistedInject\n  MyDataService(DataFetcher dataFetcher, @Assisted Config config) {}\n}\n</code></pre>\n<p>We use @AssistedInject to indicate that our constructor will need assisted inject and @Assisted to mark which arguments will be assisted injected.</p>\n<p>Then we need to define a factory for assisted injection</p>\n<pre><code>@AssistedFactory\npublic interface MyDataServiceFactory {\n  MyDataService create(Config config);\n}\n</code></pre>\n<p>And finally Dagger will generate this factory for us and we will able to inject it in place we need to use our dependency.</p>\n<pre><code>class MyApp {\n  @Inject MyDataServiceFactory serviceFactory;\n\n  MyDataService setupService(Config config) {\n    MyDataService service = serviceFactory.create(config);\n    // ...\n    return service;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":56806,"reputation":6331,"user_id":170169,"accept_rate":72,"display_name":"Jay Sidri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36284,"favorite_count":0,"down_vote_count":0,"up_vote_count":73,"accepted_answer_id":37517764,"answer_count":5,"score":73,"last_activity_date":1633332534,"creation_date":1464573874,"question_id":37516736,"body_markdown":"Say I have a class **Util** that takes in a object - an instance of class **Validator**. \r\n\r\nSince I want to avoid instantiating the Validator class within Util, I pass it in via a constructor: \r\n\r\n    public class Util {\r\n       \r\n       @Inject\r\n       public Util(Validator validator) {\r\n\r\n       }\r\n\r\n\r\n    }\r\n\r\nI have a module that provides the Validator instance:\r\n\r\n    @Provides\r\n    @Singleton\r\n    Validator provideValidator() {\r\n        return Validator.getInstance();\r\n    }\r\n\r\nand an instance of the Util class:\r\n\r\n    @Provides\r\n    Util provideUtil(Validator validator) {\r\n        return new Util(validator);\r\n    }\r\n\r\nI have a component wired up that would give me an instance of Util:\r\n\r\n    Util getUtil()\r\n\r\nso within my activity, I could call it like: \r\n\r\n    Util myUtil = getComponent.getUtil();\r\n\r\n\r\nAll of that works fine - myUtil has a proper instance of Validator class when instantiated. \r\n\r\nNow I want to pass in a String variable named **address** (which is user input via a UI). I want to change the constructor so I pass in both an instance of Validator and the user inputted String:\r\n\r\n    @Inject\r\n    public Util(Validator validator, String address) {\r\n\r\n    }\r\n\r\n \r\nI just can&#39;t get my head around how to pass that 2nd parameter. Can someone tell me how? \r\n\r\nIdeally, I want to instantiate Util like:\r\n\r\n    Util myUtil = getComponent.getUtil(txtAddress.getText());\r\n\r\n\r\n","title":"Dagger 2: Injecting user inputted parameter into object","body":"<p>Say I have a class <strong>Util</strong> that takes in a object - an instance of class <strong>Validator</strong>. </p>\n\n<p>Since I want to avoid instantiating the Validator class within Util, I pass it in via a constructor: </p>\n\n<pre><code>public class Util {\n\n   @Inject\n   public Util(Validator validator) {\n\n   }\n\n\n}\n</code></pre>\n\n<p>I have a module that provides the Validator instance:</p>\n\n<pre><code>@Provides\n@Singleton\nValidator provideValidator() {\n    return Validator.getInstance();\n}\n</code></pre>\n\n<p>and an instance of the Util class:</p>\n\n<pre><code>@Provides\nUtil provideUtil(Validator validator) {\n    return new Util(validator);\n}\n</code></pre>\n\n<p>I have a component wired up that would give me an instance of Util:</p>\n\n<pre><code>Util getUtil()\n</code></pre>\n\n<p>so within my activity, I could call it like: </p>\n\n<pre><code>Util myUtil = getComponent.getUtil();\n</code></pre>\n\n<p>All of that works fine - myUtil has a proper instance of Validator class when instantiated. </p>\n\n<p>Now I want to pass in a String variable named <strong>address</strong> (which is user input via a UI). I want to change the constructor so I pass in both an instance of Validator and the user inputted String:</p>\n\n<pre><code>@Inject\npublic Util(Validator validator, String address) {\n\n}\n</code></pre>\n\n<p>I just can't get my head around how to pass that 2nd parameter. Can someone tell me how? </p>\n\n<p>Ideally, I want to instantiate Util like:</p>\n\n<pre><code>Util myUtil = getComponent.getUtil(txtAddress.getText());\n</code></pre>\n"},{"tags":["java","json","http","grails","groovy"],"answers":[{"tags":[],"owner":{"account_id":4678173,"reputation":2456,"user_id":3787750,"accept_rate":48,"display_name":"Ekansh Rastogi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467191429,"creation_date":1467191429,"answer_id":38095093,"question_id":38094825,"body_markdown":"What your logs show is correct the url you are trying to hit gives 404 and a html error page that is not a valid json object \r\n\r\n\r\n    method :: GET\r\n    url    :: https://www.evisitor.hr/test_API/Rest/Htz/Country/RecordsAndTotalCount?psize=20&amp;page=1&amp;sort=NameNational%20desc \r\n\r\n\r\nrespons is\r\n\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;\r\n        &lt;head&gt;\r\n            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=iso-8859-1&quot;/&gt;\r\n            &lt;title&gt;404 - File or directory not found.&lt;/title&gt;\r\n            &lt;style type=&quot;text/css&quot;&gt;\r\n                &lt;!--\r\n    body{margin:0;font-size:.7em;font-family:Verdana, Arial, Helvetica, sans-serif;background:#EEEEEE;}\r\n    fieldset{padding:0 15px 10px 15px;} \r\n    h1{font-size:2.4em;margin:0;color:#FFF;}\r\n    h2{font-size:1.7em;margin:0;color:#CC0000;} \r\n    h3{font-size:1.2em;margin:10px 0 0 0;color:#000000;} \r\n    #header{width:96%;margin:0 0 0 0;padding:6px 2% 6px 2%;font-family:&quot;trebuchet MS&quot;, Verdana, sans-serif;color:#FFF;\r\n    background-color:#555555;}\r\n    #content{margin:0 0 0 2%;position:relative;}\r\n    .content-container{background:#FFF;width:96%;margin-top:8px;padding:10px;position:relative;}\r\n    --&gt;\r\n    \r\n            &lt;/style&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;div id=&quot;header&quot;&gt;\r\n                &lt;h1&gt;Server Error&lt;/h1&gt;\r\n            &lt;/div&gt;\r\n            &lt;div id=&quot;content&quot;&gt;\r\n                &lt;div class=&quot;content-container&quot;&gt;\r\n                    &lt;fieldset&gt;\r\n                        &lt;h2&gt;404 - File or directory not found.&lt;/h2&gt;\r\n                        &lt;h3&gt;The resource you are looking for might have been removed, had its name changed, or is temporarily unavailable.&lt;/h3&gt;\r\n                    &lt;/fieldset&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;","title":"Groovy HTTP ResponseParseException not found","body":"<p>What your logs show is correct the url you are trying to hit gives 404 and a html error page that is not a valid json object </p>\n\n<pre><code>method :: GET\nurl    :: https://www.evisitor.hr/test_API/Rest/Htz/Country/RecordsAndTotalCount?psize=20&amp;page=1&amp;sort=NameNational%20desc \n</code></pre>\n\n<p>respons is</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\"/&gt;\n        &lt;title&gt;404 - File or directory not found.&lt;/title&gt;\n        &lt;style type=\"text/css\"&gt;\n            &lt;!--\nbody{margin:0;font-size:.7em;font-family:Verdana, Arial, Helvetica, sans-serif;background:#EEEEEE;}\nfieldset{padding:0 15px 10px 15px;} \nh1{font-size:2.4em;margin:0;color:#FFF;}\nh2{font-size:1.7em;margin:0;color:#CC0000;} \nh3{font-size:1.2em;margin:10px 0 0 0;color:#000000;} \n#header{width:96%;margin:0 0 0 0;padding:6px 2% 6px 2%;font-family:\"trebuchet MS\", Verdana, sans-serif;color:#FFF;\nbackground-color:#555555;}\n#content{margin:0 0 0 2%;position:relative;}\n.content-container{background:#FFF;width:96%;margin-top:8px;padding:10px;position:relative;}\n--&gt;\n\n        &lt;/style&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div id=\"header\"&gt;\n            &lt;h1&gt;Server Error&lt;/h1&gt;\n        &lt;/div&gt;\n        &lt;div id=\"content\"&gt;\n            &lt;div class=\"content-container\"&gt;\n                &lt;fieldset&gt;\n                    &lt;h2&gt;404 - File or directory not found.&lt;/h2&gt;\n                    &lt;h3&gt;The resource you are looking for might have been removed, had its name changed, or is temporarily unavailable.&lt;/h3&gt;\n                &lt;/fieldset&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":688414,"reputation":82638,"user_id":542270,"accept_rate":86,"display_name":"Opal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1467192479,"creation_date":1467191553,"answer_id":38095152,"question_id":38094825,"body_markdown":"You are trying to fetch data from incorrect URL, see [here][1]. Should be:\r\n\r\n    https://www.evisitor.hr/eVisitorRhetos_API/Rest/Htz/Country/?psize=20&amp;page=1\r\n\r\nThere&#39;s no `test_API` part. No page found results in `404` and [this][2] answer explains the exception you get.\r\n\r\nThe script below (with changed URL) works - it gives `401` since I don&#39;t send authentication data:\r\n\r\n    @Grab(group=&#39;org.codehaus.groovy.modules.http-builder&#39;, module=&#39;http-builder&#39;, version=&#39;0.7.1&#39;) \r\n    \r\n    import groovyx.net.http.HTTPBuilder\r\n    import groovyx.net.http.ContentType\r\n    import static groovyx.net.http.Method.GET\r\n    \r\n    def http = new HTTPBuilder(&quot;https://www.evisitor.hr/eVisitorRhetos_API/Rest/&quot;)\r\n    http.request(GET, ContentType.JSON) {\r\n        uri.path = &quot;Htz/Country/?psize=20&amp;page=1&quot;\r\n        headers.Accept = &#39;application/json&#39;\r\n        headers.&#39;User-Agent&#39; = &#39;Mozilla/5.0 Ubuntu/8.10 Firefox/3.0.4&#39;\r\n    \r\n        response.success = { respnse, reader -&gt;\r\n            String text = resp.entity.content.text\r\n            println(&quot;text is: &quot; + text)\r\n            String contentType = resp.headers.&quot;Content-Type&quot;\r\n            println(&quot;content type is: &quot; + contentType)\r\n            if (contentType?.startsWith(&quot;application/json&quot;)) {\r\n                def json = JsonSlurper().parseText(text)\r\n                    println(json)\r\n                    println(&quot;1&quot;)\r\n            } else {\r\n                println(&quot;2&quot;)\r\n            }\r\n        }\r\n    \r\n        response.failure = { resp -&gt;\r\n            println resp.status\r\n        }\r\n    }\r\n\r\nAlso, the API is invalid, the requested response format - `Accept` header - is `application/json` and the result is returned in `HTML` - that&#39;s why `http-builder` fails - it expects different response format. The eliminate the exception change `response.failure` closure to:\r\n\r\n    { resp -&gt;\r\n       println resp.status\r\n    }\r\n\r\neliminate the `reader` param - it will prevent http-builder from parsing the response automatically.\r\n\r\n  [1]: https://www.evisitor.hr//eVisitorWiki/Javno.Web-API.ashx\r\n  [2]: https://stackoverflow.com/a/38095093/542270\r\n","title":"Groovy HTTP ResponseParseException not found","body":"<p>You are trying to fetch data from incorrect URL, see <a href=\"https://www.evisitor.hr//eVisitorWiki/Javno.Web-API.ashx\" rel=\"nofollow noreferrer\">here</a>. Should be:</p>\n\n<pre><code>https://www.evisitor.hr/eVisitorRhetos_API/Rest/Htz/Country/?psize=20&amp;page=1\n</code></pre>\n\n<p>There's no <code>test_API</code> part. No page found results in <code>404</code> and <a href=\"https://stackoverflow.com/a/38095093/542270\">this</a> answer explains the exception you get.</p>\n\n<p>The script below (with changed URL) works - it gives <code>401</code> since I don't send authentication data:</p>\n\n<pre><code>@Grab(group='org.codehaus.groovy.modules.http-builder', module='http-builder', version='0.7.1') \n\nimport groovyx.net.http.HTTPBuilder\nimport groovyx.net.http.ContentType\nimport static groovyx.net.http.Method.GET\n\ndef http = new HTTPBuilder(\"https://www.evisitor.hr/eVisitorRhetos_API/Rest/\")\nhttp.request(GET, ContentType.JSON) {\n    uri.path = \"Htz/Country/?psize=20&amp;page=1\"\n    headers.Accept = 'application/json'\n    headers.'User-Agent' = 'Mozilla/5.0 Ubuntu/8.10 Firefox/3.0.4'\n\n    response.success = { respnse, reader -&gt;\n        String text = resp.entity.content.text\n        println(\"text is: \" + text)\n        String contentType = resp.headers.\"Content-Type\"\n        println(\"content type is: \" + contentType)\n        if (contentType?.startsWith(\"application/json\")) {\n            def json = JsonSlurper().parseText(text)\n                println(json)\n                println(\"1\")\n        } else {\n            println(\"2\")\n        }\n    }\n\n    response.failure = { resp -&gt;\n        println resp.status\n    }\n}\n</code></pre>\n\n<p>Also, the API is invalid, the requested response format - <code>Accept</code> header - is <code>application/json</code> and the result is returned in <code>HTML</code> - that's why <code>http-builder</code> fails - it expects different response format. The eliminate the exception change <code>response.failure</code> closure to:</p>\n\n<pre><code>{ resp -&gt;\n   println resp.status\n}\n</code></pre>\n\n<p>eliminate the <code>reader</code> param - it will prevent http-builder from parsing the response automatically.</p>\n"}],"owner":{"account_id":7464924,"reputation":449,"user_id":5674883,"accept_rate":76,"display_name":"Teemo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4337,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":38095152,"answer_count":2,"score":2,"last_activity_date":1633332232,"creation_date":1467190761,"question_id":38094825,"body_markdown":"I am trying to make simple `GET` request using groovy HTTP request. I am expecting JSON response in this form: \r\n\r\n    {Records:[]}\r\n\r\nSo far I have done this in my code:\r\n\r\n    def getCountries(def cookies) {\r\n    \r\n        if (!cookies) {\r\n            println(&quot;cookies list is empty!&quot;)\r\n            return false\r\n        }\r\n    \r\n        println(&quot;get countries, cookies list: &quot;)\r\n        println(cookies)\r\n    \r\n        try{\r\n    \r\n        \tdef http = new HTTPBuilder(&quot;https://www.evisitor.hr/test_API/Rest/&quot;)\r\n            http.request(GET, ContentType.JSON) {\r\n                uri.path = &quot;Htz/Country/RecordsAndTotalCount?psize=20&amp;page=1&amp;sort=NameNational%20desc&quot;\r\n                headers.Accept = &#39;application/json&#39;\r\n                headers.&#39;User-Agent&#39; = &#39;Mozilla/5.0 Ubuntu/8.10 Firefox/3.0.4&#39;\r\n                String c = cookies.join(&quot;;&quot;)\r\n                println(&quot;before appending in header: &quot;)\r\n                println(c)\r\n                headers.&#39;Set-Cookie&#39; = c\r\n    \r\n                response.success = { respnse, reader -&gt;\r\n                    String text = resp.entity.content.text\r\n                    println(&quot;text is: &quot; + text)\r\n                    String contentType = resp.headers.&quot;Content-Type&quot;\r\n                    println(&quot;content type is: &quot; + contentType)\r\n                    if (contentType?.startsWith(&quot;application/json&quot;)) {\r\n                        def json = JsonSlurper().parseText(text)\r\n                        println(json)\r\n                        println(&quot;1&quot;)\r\n                    }\r\n                    else {\r\n                        println(&quot;2&quot;)\r\n                    }\r\n                }\r\n    \r\n                response.failure = { resp, reader -&gt;\r\n                    println &quot;Failure response: ${resp.status}&quot;\r\n                }\r\n            }\r\n    \r\n    \r\n    \r\n        }catch (groovyx.net.http.HttpResponseException ex) {\r\n            println(&quot;3&quot;)\r\n            ex.printStackTrace()\r\n            return null\r\n        }catch (java.net.ConnectException ex) {\r\n            println(&quot;4&quot;)\r\n            ex.printStackTrace()\r\n            return null\r\n        }\r\n    }\r\n\r\nand I am always getting this response:\r\n\r\n    3\r\n    | Error groovyx.net.http.ResponseParseException: Not Found\r\n    | Error \tat groovyx.net.http.HTTPBuilder.doRequest(HTTPBuilder.java:500)\r\n    | Error \tat groovyx.net.http.HTTPBuilder.doRequest(HTTPBuilder.java:441)\r\n    | Error \tat groovyx.net.http.HTTPBuilder.request(HTTPBuilder.java:390)\r\n    | Error \tat groovyx.net.http.HTTPBuilder$request$0.call(Unknown Source)\r\n    | Error \tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:45)\r\n    | Error \tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:108)\r\n    | Error \tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:124)\r\n    | Error \tat com.manas.evisitor.EvisitorService$$EPpVE4fg.$tt__getCountries(EvisitorService.groovy:175)\r\n    | Error \tat com.manas.evisitor.EvisitorService$$DPpVE4fg.$tt__getCountries(Unknown Source)\r\n    | Error \tat com.manas.evisitor.EvisitorService.$tt__getCountries(EvisitorService.groovy)\r\n    | Error \tat com.manas.evisitor.EvisitorService$_getCountries_closure3$$EPpVE4fg.doCall(EvisitorService.groovy)\r\n    | Error \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    | Error \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    | Error \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    | Error \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n    | Error \tat org.springsource.loaded.ri.ReloadedTypeInvoker$2.invoke(ReloadedTypeInvoker.java:122)\r\n    | Error \tat org.springsource.loaded.ri.ReflectiveInterceptor.jlrMethodInvoke(ReflectiveInterceptor.java:1299)\r\n    | Error \tat org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:90)\r\n    | Error \tat groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:324)\r\n    | Error \tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1207)\r\n    | Error \tat groovy.lang.ExpandoMetaClass.invokeMethod(ExpandoMetaClass.java:1110)\r\n    | Error \tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1016)\r\n    | Error \tat groovy.lang.Closure.call(Closure.java:423)\r\n    | Error \tat com.manas.evisitor.EvisitorService$_getCountries_closure3.call(EvisitorService.groovy)\r\n    | Error \tat groovy.lang.Closure.call(Closure.java:439)\r\n    | Error \tat com.manas.evisitor.EvisitorService$_getCountries_closure3.call(EvisitorService.groovy)\r\n    | Error \tat org.codehaus.groovy.grails.orm.support.GrailsTransactionTemplate$2.doInTransaction(GrailsTransactionTemplate.groovy:88)\r\n    | Error \tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:133)\r\n    | Error \tat org.codehaus.groovy.grails.orm.support.GrailsTransactionTemplate.execute(GrailsTransactionTemplate.groovy:85)\r\n    | Error \tat com.manas.evisitor.EvisitorService$$EPpVE4fg.getCountries(EvisitorService.groovy)\r\n    | Error \tat com.manas.evisitor.EvisitorService$$DPpVE4fg.getCountries(Unknown Source)\r\n    | Error \tat com.manas.evisitor.EvisitorService.getCountries(EvisitorService.groovy)\r\n    | Error \tat com.manas.evisitor.EvisitorService$getCountries$0.call(Unknown Source)\r\n    | Error \tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:45)\r\n    | Error \tat com.manas.evisitor.EvisitorService$getCountries$0.call(Unknown Source)\r\n    | Error \tat com.manas.frontdesk.EvisitorController.testevisitor(EvisitorController.groovy:42)\r\n    | Error \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    | Error \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    | Error \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    | Error \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n    | Error \tat org.springsource.loaded.ri.OriginalClassInvoker.invoke(OriginalClassInvoker.java:47)\r\n    | Error \tat org.springsource.loaded.ri.ReflectiveInterceptor.jlrMethodInvoke(ReflectiveInterceptor.java:1299)\r\n    | Error \tat org.codehaus.groovy.grails.web.servlet.mvc.MixedGrailsControllerHelper.invoke(MixedGrailsControllerHelper.java:154)\r\n    | Error \tat org.codehaus.groovy.grails.web.servlet.mvc.AbstractGrailsControllerHelper.handleAction(AbstractGrailsControllerHelper.java:375)\r\n    | Error \tat org.codehaus.groovy.grails.web.servlet.mvc.AbstractGrailsControllerHelper.executeAction(AbstractGrailsControllerHelper.java:252)\r\n    | Error \tat org.codehaus.groovy.grails.web.servlet.mvc.AbstractGrailsControllerHelper.handleURI(AbstractGrailsControllerHelper.java:205)\r\n    | Error \tat org.codehaus.groovy.grails.web.servlet.mvc.AbstractGrailsControllerHelper.handleURI(AbstractGrailsControllerHelper.java:126)\r\n    | Error \tat org.codehaus.groovy.grails.web.servlet.mvc.SimpleGrailsController.handleRequest(SimpleGrailsController.java:72)\r\n    | Error \tat org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:50)\r\n    | Error \tat org.codehaus.groovy.grails.web.servlet.GrailsDispatcherServlet.doDispatch(GrailsDispatcherServlet.java:347)\r\n    | Error \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:870)\r\n    | Error \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:961)\r\n    | Error \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:852)\r\n    | Error \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:620)\r\n    | Error \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:837)\r\n    | Error \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:727)\r\n    | Error \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\r\n    | Error \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    | Error \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n    | Error \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n    | Error \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    | Error \tat grails.plugin.cache.web.filter.PageFragmentCachingFilter.doFilter(PageFragmentCachingFilter.java:198)\r\n    | Error \tat grails.plugin.cache.web.filter.AbstractFilter.doFilter(AbstractFilter.java:63)\r\n    | Error \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:344)\r\n    | Error \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:261)\r\n    | Error \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n    | Error \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    | Error \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)\r\n    | Error \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n    | Error \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    | Error \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)\r\n    | Error \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n    | Error \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    | Error \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)\r\n    | Error \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n    | Error \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    | Error \tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:748)\r\n    | Error \tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:486)\r\n    | Error \tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:411)\r\n    | Error \tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:338)\r\n    | Error \tat org.codehaus.groovy.grails.web.mapping.UrlMappingUtils.forwardRequestForUrlMappingInfo(UrlMappingUtils.java:178)\r\n    | Error \tat org.codehaus.groovy.grails.web.mapping.UrlMappingUtils.forwardRequestForUrlMappingInfo(UrlMappingUtils.java:144)\r\n    | Error \tat org.codehaus.groovy.grails.web.mapping.UrlMappingUtils.forwardRequestForUrlMappingInfo(UrlMappingUtils.java:135)\r\n    | Error \tat org.codehaus.groovy.grails.web.mapping.filter.UrlMappingsFilter.doFilterInternal(UrlMappingsFilter.java:216)\r\n    | Error \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    | Error \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n    | Error \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    | Error \tat org.codehaus.groovy.grails.web.servlet.mvc.GrailsWebRequestFilter.doFilterInternal(GrailsWebRequestFilter.java:69)\r\n    | Error \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    | Error \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n    | Error \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    | Error \tat org.codehaus.groovy.grails.web.filters.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:67)\r\n    | Error \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    | Error \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n    | Error \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    | Error \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)\r\n    | Error \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    | Error \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:344)\r\n    | Error \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:261)\r\n    | Error \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n    | Error \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    | Error \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)\r\n    | Error \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\r\n    | Error \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n    | Error \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\r\n    | Error \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\r\n    | Error \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n    | Error \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1070)\r\n    | Error \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)\r\n    | Error \tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)\r\n    | Error \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    | Error \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    | Error \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    | Error \tat java.lang.Thread.run(Thread.java:745)\r\n    | Error Caused by: groovy.json.JsonException: Unable to determine the current character, it is not a string, number, array, or object\r\n    The current character read is &#39;&lt;&#39; with an int value of 60\r\n    Unable to determine the current character, it is not a string, number, array, or object\r\n    line number 1\r\n    index number 0\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;\r\n    ^\r\n    | Error \tat groovy.json.internal.JsonParserCharArray.decodeValueInternal(JsonParserCharArray.java:216)\r\n    | Error \tat groovy.json.internal.JsonParserCharArray.decodeValue(JsonParserCharArray.java:166)\r\n    | Error \tat groovy.json.internal.JsonParserCharArray.decodeFromChars(JsonParserCharArray.java:45)\r\n    | Error \tat groovy.json.internal.JsonParserCharArray.parse(JsonParserCharArray.java:409)\r\n    | Error \tat groovy.json.internal.BaseJsonParser.parse(BaseJsonParser.java:121)\r\n    | Error \tat groovy.json.JsonSlurper.parse(JsonSlurper.java:224)\r\n    | Error \tat groovyx.net.http.ParserRegistry.parseJSON(ParserRegistry.java:280)\r\n    | Error \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    | Error \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    | Error \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    | Error \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n    | Error \tat org.springsource.loaded.ri.ReflectiveInterceptor.jlrMethodInvoke(ReflectiveInterceptor.java:1276)\r\n    | Error \tat org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:90)\r\n    | Error \tat groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:324)\r\n    | Error \tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1207)\r\n    | Error \tat groovy.lang.ExpandoMetaClass.invokeMethod(ExpandoMetaClass.java:1110)\r\n    | Error \tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1074)\r\n    | Error \tat groovy.lang.ExpandoMetaClass.invokeMethod(ExpandoMetaClass.java:1110)\r\n    | Error \tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1016)\r\n    | Error \tat groovy.lang.Closure.call(Closure.java:423)\r\n    | Error \tat groovy.lang.Closure.call(Closure.java:439)\r\n    | Error \tat groovyx.net.http.HTTPBuilder.parseResponse(HTTPBuilder.java:561)\r\n    | Error \tat groovyx.net.http.HTTPBuilder.doRequest(HTTPBuilder.java:494)\r\n    | Error \t... 113 more\r\n    done\r\n\r\nI have googled and found out that it&#39;s problem related to groovy and this problem was not occurring before version 2.3.0, like [this][1] post is saying.\r\n\r\nI tried all answers and hints but none of them helped. What can I do to make my JSON parseable?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25704985/groovy-httpbuilder-producing-error-when-parsing-valid-json","title":"Groovy HTTP ResponseParseException not found","body":"<p>I am trying to make simple <code>GET</code> request using groovy HTTP request. I am expecting JSON response in this form: </p>\n\n<pre><code>{Records:[]}\n</code></pre>\n\n<p>So far I have done this in my code:</p>\n\n<pre><code>def getCountries(def cookies) {\n\n    if (!cookies) {\n        println(\"cookies list is empty!\")\n        return false\n    }\n\n    println(\"get countries, cookies list: \")\n    println(cookies)\n\n    try{\n\n        def http = new HTTPBuilder(\"https://www.evisitor.hr/test_API/Rest/\")\n        http.request(GET, ContentType.JSON) {\n            uri.path = \"Htz/Country/RecordsAndTotalCount?psize=20&amp;page=1&amp;sort=NameNational%20desc\"\n            headers.Accept = 'application/json'\n            headers.'User-Agent' = 'Mozilla/5.0 Ubuntu/8.10 Firefox/3.0.4'\n            String c = cookies.join(\";\")\n            println(\"before appending in header: \")\n            println(c)\n            headers.'Set-Cookie' = c\n\n            response.success = { respnse, reader -&gt;\n                String text = resp.entity.content.text\n                println(\"text is: \" + text)\n                String contentType = resp.headers.\"Content-Type\"\n                println(\"content type is: \" + contentType)\n                if (contentType?.startsWith(\"application/json\")) {\n                    def json = JsonSlurper().parseText(text)\n                    println(json)\n                    println(\"1\")\n                }\n                else {\n                    println(\"2\")\n                }\n            }\n\n            response.failure = { resp, reader -&gt;\n                println \"Failure response: ${resp.status}\"\n            }\n        }\n\n\n\n    }catch (groovyx.net.http.HttpResponseException ex) {\n        println(\"3\")\n        ex.printStackTrace()\n        return null\n    }catch (java.net.ConnectException ex) {\n        println(\"4\")\n        ex.printStackTrace()\n        return null\n    }\n}\n</code></pre>\n\n<p>and I am always getting this response:</p>\n\n<pre><code>3\n| Error groovyx.net.http.ResponseParseException: Not Found\n| Error     at groovyx.net.http.HTTPBuilder.doRequest(HTTPBuilder.java:500)\n| Error     at groovyx.net.http.HTTPBuilder.doRequest(HTTPBuilder.java:441)\n| Error     at groovyx.net.http.HTTPBuilder.request(HTTPBuilder.java:390)\n| Error     at groovyx.net.http.HTTPBuilder$request$0.call(Unknown Source)\n| Error     at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:45)\n| Error     at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:108)\n| Error     at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:124)\n| Error     at com.manas.evisitor.EvisitorService$$EPpVE4fg.$tt__getCountries(EvisitorService.groovy:175)\n| Error     at com.manas.evisitor.EvisitorService$$DPpVE4fg.$tt__getCountries(Unknown Source)\n| Error     at com.manas.evisitor.EvisitorService.$tt__getCountries(EvisitorService.groovy)\n| Error     at com.manas.evisitor.EvisitorService$_getCountries_closure3$$EPpVE4fg.doCall(EvisitorService.groovy)\n| Error     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n| Error     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n| Error     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n| Error     at java.lang.reflect.Method.invoke(Method.java:606)\n| Error     at org.springsource.loaded.ri.ReloadedTypeInvoker$2.invoke(ReloadedTypeInvoker.java:122)\n| Error     at org.springsource.loaded.ri.ReflectiveInterceptor.jlrMethodInvoke(ReflectiveInterceptor.java:1299)\n| Error     at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:90)\n| Error     at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:324)\n| Error     at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1207)\n| Error     at groovy.lang.ExpandoMetaClass.invokeMethod(ExpandoMetaClass.java:1110)\n| Error     at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1016)\n| Error     at groovy.lang.Closure.call(Closure.java:423)\n| Error     at com.manas.evisitor.EvisitorService$_getCountries_closure3.call(EvisitorService.groovy)\n| Error     at groovy.lang.Closure.call(Closure.java:439)\n| Error     at com.manas.evisitor.EvisitorService$_getCountries_closure3.call(EvisitorService.groovy)\n| Error     at org.codehaus.groovy.grails.orm.support.GrailsTransactionTemplate$2.doInTransaction(GrailsTransactionTemplate.groovy:88)\n| Error     at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:133)\n| Error     at org.codehaus.groovy.grails.orm.support.GrailsTransactionTemplate.execute(GrailsTransactionTemplate.groovy:85)\n| Error     at com.manas.evisitor.EvisitorService$$EPpVE4fg.getCountries(EvisitorService.groovy)\n| Error     at com.manas.evisitor.EvisitorService$$DPpVE4fg.getCountries(Unknown Source)\n| Error     at com.manas.evisitor.EvisitorService.getCountries(EvisitorService.groovy)\n| Error     at com.manas.evisitor.EvisitorService$getCountries$0.call(Unknown Source)\n| Error     at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:45)\n| Error     at com.manas.evisitor.EvisitorService$getCountries$0.call(Unknown Source)\n| Error     at com.manas.frontdesk.EvisitorController.testevisitor(EvisitorController.groovy:42)\n| Error     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n| Error     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n| Error     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n| Error     at java.lang.reflect.Method.invoke(Method.java:606)\n| Error     at org.springsource.loaded.ri.OriginalClassInvoker.invoke(OriginalClassInvoker.java:47)\n| Error     at org.springsource.loaded.ri.ReflectiveInterceptor.jlrMethodInvoke(ReflectiveInterceptor.java:1299)\n| Error     at org.codehaus.groovy.grails.web.servlet.mvc.MixedGrailsControllerHelper.invoke(MixedGrailsControllerHelper.java:154)\n| Error     at org.codehaus.groovy.grails.web.servlet.mvc.AbstractGrailsControllerHelper.handleAction(AbstractGrailsControllerHelper.java:375)\n| Error     at org.codehaus.groovy.grails.web.servlet.mvc.AbstractGrailsControllerHelper.executeAction(AbstractGrailsControllerHelper.java:252)\n| Error     at org.codehaus.groovy.grails.web.servlet.mvc.AbstractGrailsControllerHelper.handleURI(AbstractGrailsControllerHelper.java:205)\n| Error     at org.codehaus.groovy.grails.web.servlet.mvc.AbstractGrailsControllerHelper.handleURI(AbstractGrailsControllerHelper.java:126)\n| Error     at org.codehaus.groovy.grails.web.servlet.mvc.SimpleGrailsController.handleRequest(SimpleGrailsController.java:72)\n| Error     at org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:50)\n| Error     at org.codehaus.groovy.grails.web.servlet.GrailsDispatcherServlet.doDispatch(GrailsDispatcherServlet.java:347)\n| Error     at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:870)\n| Error     at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:961)\n| Error     at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:852)\n| Error     at javax.servlet.http.HttpServlet.service(HttpServlet.java:620)\n| Error     at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:837)\n| Error     at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)\n| Error     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\n| Error     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n| Error     at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n| Error     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n| Error     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n| Error     at grails.plugin.cache.web.filter.PageFragmentCachingFilter.doFilter(PageFragmentCachingFilter.java:198)\n| Error     at grails.plugin.cache.web.filter.AbstractFilter.doFilter(AbstractFilter.java:63)\n| Error     at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:344)\n| Error     at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:261)\n| Error     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n| Error     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n| Error     at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)\n| Error     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n| Error     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n| Error     at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)\n| Error     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n| Error     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n| Error     at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)\n| Error     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n| Error     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n| Error     at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:748)\n| Error     at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:486)\n| Error     at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:411)\n| Error     at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:338)\n| Error     at org.codehaus.groovy.grails.web.mapping.UrlMappingUtils.forwardRequestForUrlMappingInfo(UrlMappingUtils.java:178)\n| Error     at org.codehaus.groovy.grails.web.mapping.UrlMappingUtils.forwardRequestForUrlMappingInfo(UrlMappingUtils.java:144)\n| Error     at org.codehaus.groovy.grails.web.mapping.UrlMappingUtils.forwardRequestForUrlMappingInfo(UrlMappingUtils.java:135)\n| Error     at org.codehaus.groovy.grails.web.mapping.filter.UrlMappingsFilter.doFilterInternal(UrlMappingsFilter.java:216)\n| Error     at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n| Error     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n| Error     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n| Error     at org.codehaus.groovy.grails.web.servlet.mvc.GrailsWebRequestFilter.doFilterInternal(GrailsWebRequestFilter.java:69)\n| Error     at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n| Error     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n| Error     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n| Error     at org.codehaus.groovy.grails.web.filters.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:67)\n| Error     at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n| Error     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n| Error     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n| Error     at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)\n| Error     at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n| Error     at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:344)\n| Error     at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:261)\n| Error     at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n| Error     at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n| Error     at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)\n| Error     at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\n| Error     at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\n| Error     at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\n| Error     at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\n| Error     at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\n| Error     at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1070)\n| Error     at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)\n| Error     at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)\n| Error     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n| Error     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n| Error     at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n| Error     at java.lang.Thread.run(Thread.java:745)\n| Error Caused by: groovy.json.JsonException: Unable to determine the current character, it is not a string, number, array, or object\nThe current character read is '&lt;' with an int value of 60\nUnable to determine the current character, it is not a string, number, array, or object\nline number 1\nindex number 0\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"&gt;\n^\n| Error     at groovy.json.internal.JsonParserCharArray.decodeValueInternal(JsonParserCharArray.java:216)\n| Error     at groovy.json.internal.JsonParserCharArray.decodeValue(JsonParserCharArray.java:166)\n| Error     at groovy.json.internal.JsonParserCharArray.decodeFromChars(JsonParserCharArray.java:45)\n| Error     at groovy.json.internal.JsonParserCharArray.parse(JsonParserCharArray.java:409)\n| Error     at groovy.json.internal.BaseJsonParser.parse(BaseJsonParser.java:121)\n| Error     at groovy.json.JsonSlurper.parse(JsonSlurper.java:224)\n| Error     at groovyx.net.http.ParserRegistry.parseJSON(ParserRegistry.java:280)\n| Error     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n| Error     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n| Error     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n| Error     at java.lang.reflect.Method.invoke(Method.java:606)\n| Error     at org.springsource.loaded.ri.ReflectiveInterceptor.jlrMethodInvoke(ReflectiveInterceptor.java:1276)\n| Error     at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:90)\n| Error     at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:324)\n| Error     at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1207)\n| Error     at groovy.lang.ExpandoMetaClass.invokeMethod(ExpandoMetaClass.java:1110)\n| Error     at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1074)\n| Error     at groovy.lang.ExpandoMetaClass.invokeMethod(ExpandoMetaClass.java:1110)\n| Error     at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1016)\n| Error     at groovy.lang.Closure.call(Closure.java:423)\n| Error     at groovy.lang.Closure.call(Closure.java:439)\n| Error     at groovyx.net.http.HTTPBuilder.parseResponse(HTTPBuilder.java:561)\n| Error     at groovyx.net.http.HTTPBuilder.doRequest(HTTPBuilder.java:494)\n| Error     ... 113 more\ndone\n</code></pre>\n\n<p>I have googled and found out that it's problem related to groovy and this problem was not occurring before version 2.3.0, like <a href=\"https://stackoverflow.com/questions/25704985/groovy-httpbuilder-producing-error-when-parsing-valid-json\">this</a> post is saying.</p>\n\n<p>I tried all answers and hints but none of them helped. What can I do to make my JSON parseable?</p>\n"},{"tags":["java","oracle-cloud-infrastructure","cloud-object-storage"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633332195,"creation_date":1633332195,"answer_id":69432270,"question_id":69431663,"body_markdown":"The class org.glassfish.jersey.spi.ComponentProvider  is found in jersey-server:\r\n\r\n    compile group: &#39;org.glassfish.jersey.core&#39;, name: &#39;jersey-server&#39;, version: &#39;2.26&#39;\r\n\r\n","title":"What are the dependecies I should add to use Oracel Object Store using java SDK","body":"<p>The class org.glassfish.jersey.spi.ComponentProvider  is found in jersey-server:</p>\n<pre><code>compile group: 'org.glassfish.jersey.core', name: 'jersey-server', version: '2.26'\n</code></pre>\n"}],"owner":{"account_id":62038,"reputation":3072,"user_id":184536,"accept_rate":77,"display_name":"Pokuri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633332195,"creation_date":1633328529,"question_id":69431663,"body_markdown":"Following is my build.gradle file with dependencies\r\n\r\n    plugins {\r\n    \tid &#39;java&#39;\r\n    }\r\n    dependencyManagement {\r\n    \timports {\r\n    \t\tmavenBom &#39;com.oracle.oci.sdk:oci-java-sdk-bom:2.6.0&#39;\r\n    \t}\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;com.oracle.oci.sdk:oci-java-sdk-objectstorage&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n\r\n\r\nwhen I run the test cases I see following issue. What are the dependencies I am missing here\r\n\r\n    java.lang.TypeNotPresentException: Type org.glassfish.jersey.spi.ComponentProvider not present\r\n    \tat java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:117)\r\n    \tat java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:125)\r\n    \tat java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49)\r\n    \tat java.base/sun.reflect.generics.visitor.Reifier.reifyTypeArguments(Reifier.java:68)\r\n    \tat java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:138)\r\n    \tat java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49)\r\n    \tat java.base/sun.reflect.generics.visitor.Reifier.reifyTypeArguments(Reifier.java:68)\r\n    \tat java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:138)\r\n    \tat java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49)\r\n    \tat java.base/sun.reflect.generics.visitor.Reifier.reifyTypeArguments(Reifier.java:68)\r\n    \tat java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:138)\r\n    \tat java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49)\r\n    \tat java.base/sun.reflect.generics.repository.ClassRepository.computeSuperclass(ClassRepository.java:104)\r\n    \tat java.base/sun.reflect.generics.repository.ClassRepository.getSuperclass(ClassRepository.java:86)\r\n    \tat java.base/java.lang.Class.getGenericSuperclass(Class.java:949)\r\n    \tat javax.ws.rs.core.GenericType.getTypeArgument(GenericType.java:211)\r\n    \tat javax.ws.rs.core.GenericType.&lt;init&gt;(GenericType.java:117)\r\n    \tat org.glassfish.jersey.client.ClientBootstrapBag$1.&lt;init&gt;(ClientBootstrapBag.java:55)\r\n    \tat org.glassfish.jersey.client.ClientBootstrapBag.getComponentProviders(ClientBootstrapBag.java:55)\r\n\r\n","title":"What are the dependecies I should add to use Oracel Object Store using java SDK","body":"<p>Following is my build.gradle file with dependencies</p>\n<pre><code>plugins {\n    id 'java'\n}\ndependencyManagement {\n    imports {\n        mavenBom 'com.oracle.oci.sdk:oci-java-sdk-bom:2.6.0'\n    }\n}\n\ndependencies {\n    implementation 'com.oracle.oci.sdk:oci-java-sdk-objectstorage'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n</code></pre>\n<p>when I run the test cases I see following issue. What are the dependencies I am missing here</p>\n<pre><code>java.lang.TypeNotPresentException: Type org.glassfish.jersey.spi.ComponentProvider not present\n    at java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:117)\n    at java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:125)\n    at java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49)\n    at java.base/sun.reflect.generics.visitor.Reifier.reifyTypeArguments(Reifier.java:68)\n    at java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:138)\n    at java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49)\n    at java.base/sun.reflect.generics.visitor.Reifier.reifyTypeArguments(Reifier.java:68)\n    at java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:138)\n    at java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49)\n    at java.base/sun.reflect.generics.visitor.Reifier.reifyTypeArguments(Reifier.java:68)\n    at java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:138)\n    at java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49)\n    at java.base/sun.reflect.generics.repository.ClassRepository.computeSuperclass(ClassRepository.java:104)\n    at java.base/sun.reflect.generics.repository.ClassRepository.getSuperclass(ClassRepository.java:86)\n    at java.base/java.lang.Class.getGenericSuperclass(Class.java:949)\n    at javax.ws.rs.core.GenericType.getTypeArgument(GenericType.java:211)\n    at javax.ws.rs.core.GenericType.&lt;init&gt;(GenericType.java:117)\n    at org.glassfish.jersey.client.ClientBootstrapBag$1.&lt;init&gt;(ClientBootstrapBag.java:55)\n    at org.glassfish.jersey.client.ClientBootstrapBag.getComponentProviders(ClientBootstrapBag.java:55)\n</code></pre>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":21415032,"reputation":181,"user_id":16720064,"display_name":"0xff"},"score":0,"creation_date":1633332048,"post_id":69432227,"comment_id":122721432,"body_markdown":"I&#39;m having a hard time understanding the question here. Can you elaborate?","body":"I&#39;m having a hard time understanding the question here. Can you elaborate?"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":2,"creation_date":1633332111,"post_id":69432227,"comment_id":122721446,"body_markdown":"You never set your class level variable `username`. Therefore it is still an empty string `&quot;&quot;` and the if statement you highlighted returns `true`. You should either set the variable when the username is accepted or pass `input` to your `getPassword()` method as a parameter to verify it there.","body":"You never set your class level variable <code>username</code>. Therefore it is still an empty string <code>&quot;&quot;</code> and the if statement you highlighted returns <code>true</code>. You should either set the variable when the username is accepted or pass <code>input</code> to your <code>getPassword()</code> method as a parameter to verify it there."},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1633332503,"post_id":69432227,"comment_id":122721564,"body_markdown":"You also don&#39;t have to create multiple `Scanner` instances. Create one instance and use that one to read all input. You might also have to consider adding loop(s). Because you will want to keep asking for an appropriate username/password, in case the input does not match your criteria.","body":"You also don&#39;t have to create multiple <code>Scanner</code> instances. Create one instance and use that one to read all input. You might also have to consider adding loop(s). Because you will want to keep asking for an appropriate username/password, in case the input does not match your criteria."}],"owner":{"account_id":22843757,"reputation":29,"user_id":16990363,"display_name":"kev0"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633331966,"creation_date":1633331966,"question_id":69432227,"body_markdown":"I spent a few hours on this assignment already but the gist of it is to write up a code that will ask a user for a username &amp; password and &#39;create&#39; an account for them. There are certain requirements for the username and password and they are as so:\r\n\r\n\r\nUsername must not start with a letter. \\\r\nUsername must contain at least 6 characters and no more than 12 characters.\r\n\r\nPassword must not contain the username.\\\r\nPassword must be at least 8 characters long and no more than 16 characters.\r\n\r\n\r\n\r\n\r\n    if (password.contains(username)) {\r\n            System.out.println(&quot;password cannot contain the username&quot;);\r\n\r\nIt will return the other messages if the inputted password is &lt;8 or &gt;16 characters but this line always gets returned for some reason. I&#39;ve input a password that contains no characters from the username and it will still return it. I&#39;m in a bit of a pickle and require assistance. I don&#39;t understand what I am doing wrong either. In plain English, that line should do expect what I need it to: Check to see if password contains username!! \r\n\r\nTIA\r\n\r\n\r\n\r\n```\r\n    import java.util.Scanner;\r\n\r\n    public class Module2 {\r\n    Scanner reader = new Scanner(System.in);\r\n    String username;\r\n    String password;\r\n\r\n    public Module2() {\r\n        this.username = &quot;&quot;;\r\n        this.password = &quot;&quot;;\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        System.out.println(&quot;starting application: initiating username and password creation&quot;);\r\n        Module2 m2 = new Module2();\r\n        m2.getUsername();\r\n\r\n\r\n    }\r\n\r\n    public String getUsername() {\r\n        Scanner reader = new Scanner(System.in);\r\n        System.out.println(&quot;new username: must start with a letter and be at least 6 characters \r\n    long but not more than 12 characters&quot;);\r\n        //grabs input, store into String input\r\n        String input = reader.next();\r\n        char a = input.charAt(0);\r\n        boolean v = Character.isLetter(a);\r\n        //this entire statement will print the appropriate error messages\r\n        if (!v) {\r\n            System.out.println(&quot;username must begin with a letter&quot;);\r\n        } else if (input.length() &lt; 6) {\r\n            System.out.println(&quot;username must be at least 6 characters long&quot;);\r\n        } else if (input.length() &gt; 12) {\r\n            System.out.println(&quot;username must not be longer than 12 characters&quot;);\r\n        } else {\r\n            System.out.println(&quot;Thank you &quot; + input);\r\n            getPassword();\r\n        }\r\n\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    public String getPassword() {\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;new password: must be at least 8 characters long but no more than 16 \r\n    characters long and cannot contain the username&quot;);\r\n\r\n        String password = scanner.nextLine();\r\n\r\n        if (password.contains(username)) {\r\n            System.out.println(&quot;password cannot contain the username&quot;);\r\n\r\n\r\n        } else if (password.length() &lt; 8) {\r\n            System.out.println(&quot;password has to be at least 8 characters long&quot;);\r\n\r\n        } else if (password.length() &gt; 16) {\r\n            System.out.println(&quot;password must not contain more than 16 characters&quot;);\r\n\r\n        } else {\r\n            System.out.println(&quot;Thank you\\n&quot; + password);\r\n            System.out.println(&quot;username and password validated&quot;);\r\n            System.out.println(&quot;ending application&quot;);\r\n        }\r\n\r\n        return &quot;&quot;;\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Method keeps returning an if-statement even though the conditions are not meet","body":"<p>I spent a few hours on this assignment already but the gist of it is to write up a code that will ask a user for a username &amp; password and 'create' an account for them. There are certain requirements for the username and password and they are as so:</p>\n<p>Username must not start with a letter. <br />\nUsername must contain at least 6 characters and no more than 12 characters.</p>\n<p>Password must not contain the username.<br />\nPassword must be at least 8 characters long and no more than 16 characters.</p>\n<pre><code>if (password.contains(username)) {\n        System.out.println(&quot;password cannot contain the username&quot;);\n</code></pre>\n<p>It will return the other messages if the inputted password is &lt;8 or &gt;16 characters but this line always gets returned for some reason. I've input a password that contains no characters from the username and it will still return it. I'm in a bit of a pickle and require assistance. I don't understand what I am doing wrong either. In plain English, that line should do expect what I need it to: Check to see if password contains username!!</p>\n<p>TIA</p>\n<pre><code>    import java.util.Scanner;\n\n    public class Module2 {\n    Scanner reader = new Scanner(System.in);\n    String username;\n    String password;\n\n    public Module2() {\n        this.username = &quot;&quot;;\n        this.password = &quot;&quot;;\n\n    }\n\n    public static void main(String[] args) {\n\n        System.out.println(&quot;starting application: initiating username and password creation&quot;);\n        Module2 m2 = new Module2();\n        m2.getUsername();\n\n\n    }\n\n    public String getUsername() {\n        Scanner reader = new Scanner(System.in);\n        System.out.println(&quot;new username: must start with a letter and be at least 6 characters \n    long but not more than 12 characters&quot;);\n        //grabs input, store into String input\n        String input = reader.next();\n        char a = input.charAt(0);\n        boolean v = Character.isLetter(a);\n        //this entire statement will print the appropriate error messages\n        if (!v) {\n            System.out.println(&quot;username must begin with a letter&quot;);\n        } else if (input.length() &lt; 6) {\n            System.out.println(&quot;username must be at least 6 characters long&quot;);\n        } else if (input.length() &gt; 12) {\n            System.out.println(&quot;username must not be longer than 12 characters&quot;);\n        } else {\n            System.out.println(&quot;Thank you &quot; + input);\n            getPassword();\n        }\n\n        return &quot;&quot;;\n    }\n\n    public String getPassword() {\n        Scanner scanner = new Scanner(System.in);\n        System.out.println(&quot;new password: must be at least 8 characters long but no more than 16 \n    characters long and cannot contain the username&quot;);\n\n        String password = scanner.nextLine();\n\n        if (password.contains(username)) {\n            System.out.println(&quot;password cannot contain the username&quot;);\n\n\n        } else if (password.length() &lt; 8) {\n            System.out.println(&quot;password has to be at least 8 characters long&quot;);\n\n        } else if (password.length() &gt; 16) {\n            System.out.println(&quot;password must not contain more than 16 characters&quot;);\n\n        } else {\n            System.out.println(&quot;Thank you\\n&quot; + password);\n            System.out.println(&quot;username and password validated&quot;);\n            System.out.println(&quot;ending application&quot;);\n        }\n\n        return &quot;&quot;;\n    }\n\n\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n</code></pre>\n"},{"tags":["java","spring-boot","mockito","junit5"],"comments":[{"owner":{"account_id":5553068,"reputation":1262,"user_id":4405496,"accept_rate":70,"display_name":"greedsin"},"score":2,"creation_date":1632916353,"post_id":69375337,"comment_id":122621210,"body_markdown":"I would suggest doing it differently. The problem is the file creation is not abstracted. By providing a FileProvider you can mock the listFiles() by this @TempDir File (without using @Mock) more easily.","body":"I would suggest doing it differently. The problem is the file creation is not abstracted. By providing a FileProvider you can mock the listFiles() by this @TempDir File (without using @Mock) more easily."},{"owner":{"account_id":139113,"reputation":16537,"user_id":344487,"accept_rate":73,"display_name":"Fred"},"score":0,"creation_date":1633008703,"post_id":69375337,"comment_id":122651527,"body_markdown":"I&#39;m not familiar with `@TempDir`, but is it a common usecase to use it together with `@Mock`? From the docs sounds more like `@TempDir` creates a temporary directory for you and doesn&#39;t need to be mocked. Also, when creating a tempdir, my assumption is that it would always be empty. Another thing I can&#39;t seem to understand is, why create a temporary dir if you&#39;re always listing a specific one - `File(APP_CONST.DIRECTORY)`? What is it that you&#39;re trying to achieve here? mock the returned files?","body":"I&#39;m not familiar with <code>@TempDir</code>, but is it a common usecase to use it together with <code>@Mock</code>? From the docs sounds more like <code>@TempDir</code> creates a temporary directory for you and doesn&#39;t need to be mocked. Also, when creating a tempdir, my assumption is that it would always be empty. Another thing I can&#39;t seem to understand is, why create a temporary dir if you&#39;re always listing a specific one - <code>File(APP_CONST.DIRECTORY)</code>? What is it that you&#39;re trying to achieve here? mock the returned files?"},{"owner":{"account_id":17877766,"reputation":368,"user_id":12987334,"display_name":"continuousLearner"},"score":0,"creation_date":1633010672,"post_id":69375337,"comment_id":122652525,"body_markdown":"`File(APP_CONST.DIRECTORY)` is in the class under test and not in the test class. @Tempdir was used to mock a directory for the test","body":"<code>File(APP_CONST.DIRECTORY)</code> is in the class under test and not in the test class. @Tempdir was used to mock a directory for the test"},{"owner":{"account_id":139113,"reputation":16537,"user_id":344487,"accept_rate":73,"display_name":"Fred"},"score":0,"creation_date":1633078407,"post_id":69375337,"comment_id":122669487,"body_markdown":"@continuousLearner I still don&#39;t get it though. In you test, you&#39;re not doing anything to guarantee that `APP_CONST.DIRECTORY`  exists. The javadoc states that if an io error occurs or the path does not denote a directory `listFiles` returns null. I&#39;m just confused how you  want to guarantee that the `if` is true or false?","body":"@continuousLearner I still don&#39;t get it though. In you test, you&#39;re not doing anything to guarantee that <code>APP_CONST.DIRECTORY</code>  exists. The javadoc states that if an io error occurs or the path does not denote a directory <code>listFiles</code> returns null. I&#39;m just confused how you  want to guarantee that the <code>if</code> is true or false?"},{"owner":{"account_id":17877766,"reputation":368,"user_id":12987334,"display_name":"continuousLearner"},"score":0,"creation_date":1633114526,"post_id":69375337,"comment_id":122683326,"body_markdown":"`APP_CONST.DIRECTORY` in reality is a unix path. I am testing in windows. `listFiles ` is not supposed to fail as the directory has been mocked using @TemDir.  I had also tried `File f = new File(mockedFile, &quot;f.txt&quot;)` in the test method but upon debugging it, I see that listFiles() returns empty in the method under test. How do you suggest to make `listFile` return values during the test?","body":"<code>APP_CONST.DIRECTORY</code> in reality is a unix path. I am testing in windows. <code>listFiles </code> is not supposed to fail as the directory has been mocked using @TemDir.  I had also tried <code>File f = new File(mockedFile, &quot;f.txt&quot;)</code> in the test method but upon debugging it, I see that listFiles() returns empty in the method under test. How do you suggest to make <code>listFile</code> return values during the test?"},{"owner":{"account_id":139113,"reputation":16537,"user_id":344487,"accept_rate":73,"display_name":"Fred"},"score":0,"creation_date":1633162706,"post_id":69375337,"comment_id":122691243,"body_markdown":"So that&#39;s what I mean I don&#39;t see how it would work like this. As far as I can tell `TempDir` creates a temporary directory with a random name, but then you access a very specific one - `APP_CONST.DIRECTORY`. in order to make sure you control this, either ensure that the same directory is created in the test and populated with files, or create a new abstraction that provides said directory like greedsin suggests in a comment above. I&#39;m happy to provide an example as an answer if you want.","body":"So that&#39;s what I mean I don&#39;t see how it would work like this. As far as I can tell <code>TempDir</code> creates a temporary directory with a random name, but then you access a very specific one - <code>APP_CONST.DIRECTORY</code>. in order to make sure you control this, either ensure that the same directory is created in the test and populated with files, or create a new abstraction that provides said directory like greedsin suggests in a comment above. I&#39;m happy to provide an example as an answer if you want."}],"answers":[{"tags":[],"owner":{"account_id":139113,"reputation":16537,"user_id":344487,"accept_rate":73,"display_name":"Fred"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633331871,"creation_date":1633331871,"answer_id":69432209,"question_id":69375337,"body_markdown":"We discussed this in the comments, but in any case, I guess an example is better.\r\n\r\nOne way you could go about this is to make sure the same folder exists. In the test setup you could simply create it.\r\n\r\n```\r\n@Before\r\npublic void setUp() {\r\n   new File(APP_CONST.DIRECTORY).mkdirs();\r\n}\r\n```\r\n\r\nNow when accessing it in the implementation there will be a directory. You can also inside the test add files to the directory, so it&#39;s not empty.\r\n\r\nAlthough this works, it has some issues with setting it up and cleaning it up. A better way is to abstract this from the implementation itself and use some kind of provider for it.\r\n\r\nA suggestion would be to create an interface where the real implementation returns the real folder and in tests you can mock this.\r\n\r\n```\r\npublic interface DirectoryProvider {\r\n   public File someDirectory();\r\n}\r\n\r\npublic class RealDirectoryProvider implements DirectoryProvider {\r\n   @Override\r\n   public File someDirectory() {\r\n     return new File(APP_CONST.DIRECTORY);\r\n   }\r\n}\r\n```\r\n\r\nyou can now make the `getData` class depend on this abstraction. You didn&#39;t give us the class name, so don&#39;t pay attention to that part:\r\n\r\n```\r\npublic class Data {\r\n   private final DirectoryProvider directoryProvider;\r\n\r\n   public Data(DirectoryProvider directoryProvider) {\r\n     this.directoryProvider = directoryProvider;\r\n   }\r\n\r\n   private Map&lt;String, String&gt; getData() {\r\n     File[] files = directoryProvider.someDirectory().listFiles();\r\n     if (null == files) { \r\n       return Collections.emptyMap();\r\n     }\r\n     List&lt;String&gt; keysList = getKeyList(files);\r\n     return keyMap(APP_CONST.DIRECTORY, keysList);\r\n   }\r\n}\r\n```\r\n\r\nNow during the test you can just inject your mocked directory/temp dir.\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\nclass AppConfigTest {\r\n  @TempDir\r\n  File mockedFile;\r\n\r\n  @Mock\r\n  DirectoryProvider directoryProvider;\r\n\r\n  @InjectMocks\r\n  private AppConfig appConfig;\r\n\r\n  @Test\r\n  void getData() throws Exception {\r\n    lenient().when(directoryProvider.someDirectory()).thenReturn(mockedFile);\r\n\r\n    assertNotNull(appConfig.getData());\r\n  }\r\n}\r\n```\r\n\r\nYou can also add files to the temp dir if you need. This however should be enough to pass the `if` I think.","title":"Condition fails in Junit5 &amp; Mockito","body":"<p>We discussed this in the comments, but in any case, I guess an example is better.</p>\n<p>One way you could go about this is to make sure the same folder exists. In the test setup you could simply create it.</p>\n<pre><code>@Before\npublic void setUp() {\n   new File(APP_CONST.DIRECTORY).mkdirs();\n}\n</code></pre>\n<p>Now when accessing it in the implementation there will be a directory. You can also inside the test add files to the directory, so it's not empty.</p>\n<p>Although this works, it has some issues with setting it up and cleaning it up. A better way is to abstract this from the implementation itself and use some kind of provider for it.</p>\n<p>A suggestion would be to create an interface where the real implementation returns the real folder and in tests you can mock this.</p>\n<pre><code>public interface DirectoryProvider {\n   public File someDirectory();\n}\n\npublic class RealDirectoryProvider implements DirectoryProvider {\n   @Override\n   public File someDirectory() {\n     return new File(APP_CONST.DIRECTORY);\n   }\n}\n</code></pre>\n<p>you can now make the <code>getData</code> class depend on this abstraction. You didn't give us the class name, so don't pay attention to that part:</p>\n<pre><code>public class Data {\n   private final DirectoryProvider directoryProvider;\n\n   public Data(DirectoryProvider directoryProvider) {\n     this.directoryProvider = directoryProvider;\n   }\n\n   private Map&lt;String, String&gt; getData() {\n     File[] files = directoryProvider.someDirectory().listFiles();\n     if (null == files) { \n       return Collections.emptyMap();\n     }\n     List&lt;String&gt; keysList = getKeyList(files);\n     return keyMap(APP_CONST.DIRECTORY, keysList);\n   }\n}\n</code></pre>\n<p>Now during the test you can just inject your mocked directory/temp dir.</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass AppConfigTest {\n  @TempDir\n  File mockedFile;\n\n  @Mock\n  DirectoryProvider directoryProvider;\n\n  @InjectMocks\n  private AppConfig appConfig;\n\n  @Test\n  void getData() throws Exception {\n    lenient().when(directoryProvider.someDirectory()).thenReturn(mockedFile);\n\n    assertNotNull(appConfig.getData());\n  }\n}\n</code></pre>\n<p>You can also add files to the temp dir if you need. This however should be enough to pass the <code>if</code> I think.</p>\n"}],"owner":{"account_id":17877766,"reputation":368,"user_id":12987334,"display_name":"continuousLearner"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69432209,"answer_count":1,"score":1,"last_activity_date":1633331871,"creation_date":1632914231,"question_id":69375337,"body_markdown":"I am trying to write the test case for my application and I cannot get past a condition even after providing what is expected, from what I know.\r\n\r\nHere is my test class.\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\nclass AppConfigTest {\r\n\r\n  @Mock\r\n  @TempDir\r\n  File mockedFile;\r\n\r\n  @InjectMocks\r\n  private AppConfig appConfig;\r\n\r\n  @Test\r\n  void getData() throws Exception {\r\n    File f = new File(&quot;f&quot;);\r\n    File[] files = {f};\r\n\r\n    lenient().when(mockedFile.listFiles()).thenReturn(files);\r\n    lenient().when(mockedFile.isFile()).thenReturn(true);\r\n    assertNotNull(appConfig.getData());\r\n  }\r\n}\r\n```\r\nMy implementation. The test doesn&#39;t go past the if condition. The test does not cover the code after the condition as it turns true all the time. I need my test to cover keyMap() in the last line.\r\n```\r\n  private Map&lt;String, String&gt; getData() {\r\n    File[] files = new File(APP_CONST.DIRECTORY).listFiles();\r\n    if (null == files) { // not turning FALSE even after providing mocked &quot;files&quot; array \r\n      return Collections.emptyMap();\r\n    }\r\n    List&lt;String&gt; keysList = getKeyList(files);\r\n    return keyMap(APP_CONST.DIRECTORY, keysList);\r\n  }\r\n```\r\n\r\nCan anyone please tell me how to correct this please? Using SpringBoot/JUnit 5","title":"Condition fails in Junit5 &amp; Mockito","body":"<p>I am trying to write the test case for my application and I cannot get past a condition even after providing what is expected, from what I know.</p>\n<p>Here is my test class.</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass AppConfigTest {\n\n  @Mock\n  @TempDir\n  File mockedFile;\n\n  @InjectMocks\n  private AppConfig appConfig;\n\n  @Test\n  void getData() throws Exception {\n    File f = new File(&quot;f&quot;);\n    File[] files = {f};\n\n    lenient().when(mockedFile.listFiles()).thenReturn(files);\n    lenient().when(mockedFile.isFile()).thenReturn(true);\n    assertNotNull(appConfig.getData());\n  }\n}\n</code></pre>\n<p>My implementation. The test doesn't go past the if condition. The test does not cover the code after the condition as it turns true all the time. I need my test to cover keyMap() in the last line.</p>\n<pre><code>  private Map&lt;String, String&gt; getData() {\n    File[] files = new File(APP_CONST.DIRECTORY).listFiles();\n    if (null == files) { // not turning FALSE even after providing mocked &quot;files&quot; array \n      return Collections.emptyMap();\n    }\n    List&lt;String&gt; keysList = getKeyList(files);\n    return keyMap(APP_CONST.DIRECTORY, keysList);\n  }\n</code></pre>\n<p>Can anyone please tell me how to correct this please? Using SpringBoot/JUnit 5</p>\n"},{"tags":["java","sql","hibernate","jpa","sql-injection"],"comments":[{"owner":{"account_id":1310904,"reputation":29,"user_id":1258923,"display_name":"Dinesh Vadivelu"},"score":0,"creation_date":1356961886,"post_id":14102334,"comment_id":19510312,"body_markdown":"Please refer this link [1]: http://stackoverflow.com/questions/4606505/prevention-against-sql-injection-in-hibernate","body":"Please refer this link [1]: <a href=\"http://stackoverflow.com/questions/4606505/prevention-against-sql-injection-in-hibernate\" title=\"prevention against sql injection in hibernate\">stackoverflow.com/questions/4606505/&hellip;</a>"},{"owner":{"account_id":1145258,"reputation":2777,"user_id":1128183,"accept_rate":38,"display_name":"anuj pradhan"},"score":0,"creation_date":1590492772,"post_id":14102334,"comment_id":109693798,"body_markdown":"Also, if you are visiting this link today in 2020, Do use spring security for such things.","body":"Also, if you are visiting this link today in 2020, Do use spring security for such things."}],"answers":[{"tags":[],"owner":{"account_id":1031744,"reputation":27054,"user_id":1039952,"accept_rate":81,"display_name":"Petr Mensik"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1552420613,"creation_date":1356961716,"answer_id":14102371,"question_id":14102334,"body_markdown":"    Query q = sessionFactory.getCurrentSession().createQuery(&quot;from LoginInfo where userName = :name&quot;);\r\n    q.setParameter(&quot;name&quot;, userName);\r\n    List&lt;LoginInfo&gt; loginList = q.list();\r\n\r\nYou have other options too, see this nice [article][1] from mkyong.\r\n\r\n\r\n  [1]: http://www.mkyong.com/hibernate/hibernate-parameter-binding-examples/","title":"How to prevent SQL Injection with JPA and Hibernate?","body":"<pre><code>Query q = sessionFactory.getCurrentSession().createQuery(\"from LoginInfo where userName = :name\");\nq.setParameter(\"name\", userName);\nList&lt;LoginInfo&gt; loginList = q.list();\n</code></pre>\n\n<p>You have other options too, see this nice <a href=\"http://www.mkyong.com/hibernate/hibernate-parameter-binding-examples/\" rel=\"noreferrer\">article</a> from mkyong.</p>\n"},{"tags":[],"owner":{"account_id":1379086,"reputation":10658,"user_id":1312478,"accept_rate":83,"display_name":"Deepak Singhal"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1356961827,"creation_date":1356961827,"answer_id":14102392,"question_id":14102334,"body_markdown":"We should always try to use stored Procedures in general to prevent SQLInjection.. If stored procedures are not possible; we should try for Prepared Statements.","title":"How to prevent SQL Injection with JPA and Hibernate?","body":"<p>We should always try to use stored Procedures in general to prevent SQLInjection.. If stored procedures are not possible; we should try for Prepared Statements.</p>\n"},{"tags":[],"owner":{"account_id":1317234,"reputation":1930,"user_id":1263838,"accept_rate":50,"display_name":"dimcookies"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1356962401,"creation_date":1356961860,"answer_id":14102403,"question_id":14102334,"body_markdown":"You need to use named parameters to avoid sql injection. Also (nothing to do with sql injection but with security in general) do not return the first result but use **getSingleResult** so if there are more than one results for some reason, the query will fail with **NonUniqueResultException** and login will not be succesful\r\n\r\n     Query query= sessionFactory.getCurrentSession().createQuery(&quot;from LoginInfo where userName=:userName  and password= :password&quot;);\r\n     query.setParameter(&quot;username&quot;, userName);\r\n     query.setParameter(&quot;password&quot;, password);\r\n     LoginInfo loginList = (LoginInfo)query.getSingleResult();","title":"How to prevent SQL Injection with JPA and Hibernate?","body":"<p>You need to use named parameters to avoid sql injection. Also (nothing to do with sql injection but with security in general) do not return the first result but use <strong>getSingleResult</strong> so if there are more than one results for some reason, the query will fail with <strong>NonUniqueResultException</strong> and login will not be succesful</p>\n\n<pre><code> Query query= sessionFactory.getCurrentSession().createQuery(\"from LoginInfo where userName=:userName  and password= :password\");\n query.setParameter(\"username\", userName);\n query.setParameter(\"password\", password);\n LoginInfo loginList = (LoginInfo)query.getSingleResult();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1633331665,"creation_date":1547098781,"answer_id":54122517,"question_id":14102334,"body_markdown":"What is SQL Injection?\r\n----------------------\r\n\r\n&gt; SQL Injection happens when a rogue attacker can manipulate the query\r\n&gt; building process so that he can execute a different SQL statement than\r\n&gt; what the application developer has originally intended\r\n\r\nHow to prevent the SQL injection attack\r\n---------------------------------------\r\n\r\nThe solution is very simple and straight-forward. You just have to make sure that you always use bind parameters:\r\n\r\n    public PostComment getPostCommentByReview(String review) {\r\n        return doInJPA(entityManager -&gt; {\r\n            return entityManager.createQuery(&quot;&quot;&quot;\r\n                select p\r\n                from PostComment p\r\n                where p.review = :review\r\n\t\t\t\t&quot;&quot;&quot;, PostComment.class)\r\n            .setParameter(&quot;review&quot;, review)\r\n            .getSingleResult();\r\n        });\r\n    }\r\n\r\nNow, if some is trying to hack this query:\r\n\r\n    getPostCommentByReview(&quot;1 AND 1 &gt;= ALL ( SELECT 1 FROM pg_locks, pg_sleep(10) )&quot;);\r\n\r\nthe SQL Injection attack will be prevented:\r\n\r\n    Time:1, Query:[&quot;select postcommen0_.id as id1_1_, postcommen0_.post_id as post_id3_1_, postcommen0_.review as review2_1_ from post_comment postcommen0_ where postcommen0_.review=?&quot;], Params:[(1 AND 1 &gt;= ALL ( SELECT 1 FROM pg_locks, pg_sleep(10) ))]\r\n\r\nJPQL Injection\r\n--------------\r\n\r\nSQL Injection can also happen when using JPQL or HQL queries, as demonstrated by the following example:\r\n\r\n    public List&lt;Post&gt; getPostsByTitle(String title) {\r\n        return doInJPA(entityManager -&gt; {\r\n            return entityManager.createQuery(\r\n                &quot;select p &quot; +\r\n                &quot;from Post p &quot; +\r\n                &quot;where&quot; +\r\n                &quot;   p.title = &#39;&quot; + title + &quot;&#39;&quot;, Post.class)\r\n            .getResultList();\r\n        });\r\n    }\r\n\r\nThe JPQL query above does not use bind parameters, so itâ€™s vulnerable to [SQL injection](https://vladmihalcea.com/a-beginners-guide-to-sql-injection-and-how-you-should-prevent-it/).\r\n\r\nCheck out what happens when I execute this JPQL query like this:\r\n\r\n    List&lt;Post&gt; posts = getPostsByTitle(\r\n        &quot;High-Performance Java Persistence&#39; and &quot; +\r\n        &quot;FUNCTION(&#39;1 &gt;= ALL ( SELECT 1 FROM pg_locks, pg_sleep(10) ) --&#39;,) is &#39;&quot;\r\n    );\r\n\r\nHibernate executes the following SQL query:\r\n\r\n    Time:10003, QuerySize:1, BatchSize:0, Query:[&quot;select p.id as id1_0_, p.title as title2_0_ from post p where p.title=&#39;High-Performance Java Persistence&#39; and 1 &gt;= ALL ( SELECT 1 FROM pg_locks, pg_sleep(10) ) --()=&#39;&#39;&quot;], Params:[()]\r\n\r\nDynamic queries\r\n---------------\r\n\r\nYou should avoid queries that use String concatenation to build the query dynamically:\r\n\r\n    String hql = &quot; select e.id as id,function(&#39;getActiveUser&#39;) as name from &quot; + domainClass.getName() + &quot; e &quot;;\r\n    Query query=session.createQuery(hql);\r\n    return query.list();\r\n\r\nIf you want to use dynamic queries, you need to use Criteria API instead:\r\n\r\n    Class&lt;Post&gt; entityClass = Post.class;\r\n    CriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n    CriteriaQuery&lt;Tuple&gt; query = cb.createTupleQuery();\r\n    Root&lt;?&gt; root = query.from(entityClass);\r\n    query.select(\r\n        cb.tuple(\r\n            root.get(&quot;id&quot;),\r\n            cb.function(&quot;now&quot;, Date.class)\r\n        )\r\n    );\r\n\r\n \r\n    return entityManager.createQuery(query).getResultList();\r\n","title":"How to prevent SQL Injection with JPA and Hibernate?","body":"<h2>What is SQL Injection?</h2>\n<blockquote>\n<p>SQL Injection happens when a rogue attacker can manipulate the query\nbuilding process so that he can execute a different SQL statement than\nwhat the application developer has originally intended</p>\n</blockquote>\n<h2>How to prevent the SQL injection attack</h2>\n<p>The solution is very simple and straight-forward. You just have to make sure that you always use bind parameters:</p>\n<pre><code>public PostComment getPostCommentByReview(String review) {\n    return doInJPA(entityManager -&gt; {\n        return entityManager.createQuery(&quot;&quot;&quot;\n            select p\n            from PostComment p\n            where p.review = :review\n            &quot;&quot;&quot;, PostComment.class)\n        .setParameter(&quot;review&quot;, review)\n        .getSingleResult();\n    });\n}\n</code></pre>\n<p>Now, if some is trying to hack this query:</p>\n<pre><code>getPostCommentByReview(&quot;1 AND 1 &gt;= ALL ( SELECT 1 FROM pg_locks, pg_sleep(10) )&quot;);\n</code></pre>\n<p>the SQL Injection attack will be prevented:</p>\n<pre><code>Time:1, Query:[&quot;select postcommen0_.id as id1_1_, postcommen0_.post_id as post_id3_1_, postcommen0_.review as review2_1_ from post_comment postcommen0_ where postcommen0_.review=?&quot;], Params:[(1 AND 1 &gt;= ALL ( SELECT 1 FROM pg_locks, pg_sleep(10) ))]\n</code></pre>\n<h2>JPQL Injection</h2>\n<p>SQL Injection can also happen when using JPQL or HQL queries, as demonstrated by the following example:</p>\n<pre><code>public List&lt;Post&gt; getPostsByTitle(String title) {\n    return doInJPA(entityManager -&gt; {\n        return entityManager.createQuery(\n            &quot;select p &quot; +\n            &quot;from Post p &quot; +\n            &quot;where&quot; +\n            &quot;   p.title = '&quot; + title + &quot;'&quot;, Post.class)\n        .getResultList();\n    });\n}\n</code></pre>\n<p>The JPQL query above does not use bind parameters, so itâ€™s vulnerable to <a href=\"https://vladmihalcea.com/a-beginners-guide-to-sql-injection-and-how-you-should-prevent-it/\" rel=\"noreferrer\">SQL injection</a>.</p>\n<p>Check out what happens when I execute this JPQL query like this:</p>\n<pre><code>List&lt;Post&gt; posts = getPostsByTitle(\n    &quot;High-Performance Java Persistence' and &quot; +\n    &quot;FUNCTION('1 &gt;= ALL ( SELECT 1 FROM pg_locks, pg_sleep(10) ) --',) is '&quot;\n);\n</code></pre>\n<p>Hibernate executes the following SQL query:</p>\n<pre><code>Time:10003, QuerySize:1, BatchSize:0, Query:[&quot;select p.id as id1_0_, p.title as title2_0_ from post p where p.title='High-Performance Java Persistence' and 1 &gt;= ALL ( SELECT 1 FROM pg_locks, pg_sleep(10) ) --()=''&quot;], Params:[()]\n</code></pre>\n<h2>Dynamic queries</h2>\n<p>You should avoid queries that use String concatenation to build the query dynamically:</p>\n<pre><code>String hql = &quot; select e.id as id,function('getActiveUser') as name from &quot; + domainClass.getName() + &quot; e &quot;;\nQuery query=session.createQuery(hql);\nreturn query.list();\n</code></pre>\n<p>If you want to use dynamic queries, you need to use Criteria API instead:</p>\n<pre><code>Class&lt;Post&gt; entityClass = Post.class;\nCriteriaBuilder cb = entityManager.getCriteriaBuilder();\nCriteriaQuery&lt;Tuple&gt; query = cb.createTupleQuery();\nRoot&lt;?&gt; root = query.from(entityClass);\nquery.select(\n    cb.tuple(\n        root.get(&quot;id&quot;),\n        cb.function(&quot;now&quot;, Date.class)\n    )\n);\n\n\nreturn entityManager.createQuery(query).getResultList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7712408,"reputation":2531,"user_id":5841297,"accept_rate":50,"display_name":"Phenomenal One"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1552613199,"creation_date":1552586527,"answer_id":55169229,"question_id":14102334,"body_markdown":"I would like to add here that is a peculiar SQL Injection that is possible with the use of Like queries in searches.\r\n\r\nLet us say we have a query string as follows:\r\n\r\n    queryString = queryString + &quot; and c.name like :name&quot;;\r\n\r\nWhile setting the name parameter, most would generally use this.\r\n\r\n    query.setParameter(&quot;name&quot;, &quot;%&quot; + name + &quot;%&quot;);\r\n\r\nNow, as mentioned above traditional parameter like &quot;**1=1**&quot; cannot be injected because of the TypedQuery and Hibernate will handle it by default.\r\n\r\nBut there is peculiar SQL Injection possible here which is because of the LIKE Query Structure which is the use of **underscores**\r\n\r\n&gt; The underscore wildcard is used to match exactly one character in\r\n&gt; MySQL meaning, for example, select * from users where user like\r\n&gt; &#39;abc_de&#39;; This will produce outputs as users that start with abc, end\r\n&gt; with de and have exactly 1 character in between.\r\n\r\nNow, if  in our scenario, if we set\r\n\r\n - name=&quot;_&quot;   **produces customers whose name is at least 1 letter**\r\n - name=&quot;__&quot;  **produces customers whose name is at least 2 letters**\r\n - name=&quot;___&quot; **produces customers whose name is at least 3 letters**\r\n\r\nand so on.\r\n\r\n***Ideal fix:***\r\n\r\n&gt; To mitigate this, we need to escape all underscores with a prefix \\.\r\n\r\n___ will become \\\\_\\\\_\\\\_ (equivalent to 3 raw underscores)\r\n\r\nLikewise, the vice-versa query will also result in an injection in which %&#39;s need to be escaped.\r\n","title":"How to prevent SQL Injection with JPA and Hibernate?","body":"<p>I would like to add here that is a peculiar SQL Injection that is possible with the use of Like queries in searches.</p>\n\n<p>Let us say we have a query string as follows:</p>\n\n<pre><code>queryString = queryString + \" and c.name like :name\";\n</code></pre>\n\n<p>While setting the name parameter, most would generally use this.</p>\n\n<pre><code>query.setParameter(\"name\", \"%\" + name + \"%\");\n</code></pre>\n\n<p>Now, as mentioned above traditional parameter like \"<strong>1=1</strong>\" cannot be injected because of the TypedQuery and Hibernate will handle it by default.</p>\n\n<p>But there is peculiar SQL Injection possible here which is because of the LIKE Query Structure which is the use of <strong>underscores</strong></p>\n\n<blockquote>\n  <p>The underscore wildcard is used to match exactly one character in\n  MySQL meaning, for example, select * from users where user like\n  'abc_de'; This will produce outputs as users that start with abc, end\n  with de and have exactly 1 character in between.</p>\n</blockquote>\n\n<p>Now, if  in our scenario, if we set</p>\n\n<ul>\n<li>name=\"_\"   <strong>produces customers whose name is at least 1 letter</strong></li>\n<li>name=\"__\"  <strong>produces customers whose name is at least 2 letters</strong></li>\n<li>name=\"___\" <strong>produces customers whose name is at least 3 letters</strong></li>\n</ul>\n\n<p>and so on.</p>\n\n<p><strong><em>Ideal fix:</em></strong></p>\n\n<blockquote>\n  <p>To mitigate this, we need to escape all underscores with a prefix .</p>\n</blockquote>\n\n<p>___ will become \\_\\_\\_ (equivalent to 3 raw underscores)</p>\n\n<p>Likewise, the vice-versa query will also result in an injection in which %'s need to be escaped.</p>\n"}],"owner":{"account_id":2062053,"reputation":457,"user_id":1838376,"accept_rate":71,"display_name":"Mr. Singthoi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54804,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":14102371,"answer_count":5,"score":33,"last_activity_date":1633331665,"creation_date":1356961503,"question_id":14102334,"body_markdown":"I am developing an application using hibernate. When I try to create a Login page, The problem of Sql Injection arises.\r\n I have the following code:\r\n\r\n    @Component\r\n    @Transactional(propagation = Propagation.SUPPORTS)\r\n    public class LoginInfoDAOImpl implements LoginInfoDAO{\r\n\r\n\t@Autowired\r\n\tprivate SessionFactory sessionFactory;\t\t\r\n\t@Override\r\n\tpublic LoginInfo getLoginInfo(String userName,String password){\r\n\t\tList&lt;LoginInfo&gt; loginList = sessionFactory.getCurrentSession().createQuery(&quot;from LoginInfo where userName=&#39;&quot;+userName+&quot;&#39; and password=&#39;&quot;+password+&quot;&#39;&quot;).list();\r\n\t\tif(loginList!=null )\r\n\t\t\treturn loginList.get(0);\r\n\t\telse return null;\t\r\n              }\r\n          }\r\n\r\nHow will i prevent Sql Injection in this scenario ?The create table syntax of loginInfo table is as follows:\r\n\r\n    create table login_info\r\n      (user_name varchar(16) not null primary key,\r\n      pass_word varchar(16) not null); \r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to prevent SQL Injection with JPA and Hibernate?","body":"<p>I am developing an application using hibernate. When I try to create a Login page, The problem of Sql Injection arises.\n I have the following code:</p>\n\n<pre><code>@Component\n@Transactional(propagation = Propagation.SUPPORTS)\npublic class LoginInfoDAOImpl implements LoginInfoDAO{\n\n@Autowired\nprivate SessionFactory sessionFactory;      \n@Override\npublic LoginInfo getLoginInfo(String userName,String password){\n    List&lt;LoginInfo&gt; loginList = sessionFactory.getCurrentSession().createQuery(\"from LoginInfo where userName='\"+userName+\"' and password='\"+password+\"'\").list();\n    if(loginList!=null )\n        return loginList.get(0);\n    else return null;   \n          }\n      }\n</code></pre>\n\n<p>How will i prevent Sql Injection in this scenario ?The create table syntax of loginInfo table is as follows:</p>\n\n<pre><code>create table login_info\n  (user_name varchar(16) not null primary key,\n  pass_word varchar(16) not null); \n</code></pre>\n"},{"tags":["java","spring-mvc","file-upload","multipartform-data"],"answers":[{"tags":[],"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1405374351,"creation_date":1405374351,"answer_id":24746530,"question_id":24746380,"body_markdown":"Give a try by adding\r\n\r\n    (required=false)\r\n\r\nto multipart property in method signature. \r\n","title":"Multipart Request with MultipartFile as Optional Field - Spring MVC","body":"<p>Give a try by adding</p>\n\n<pre><code>(required=false)\n</code></pre>\n\n<p>to multipart property in method signature. </p>\n"},{"tags":[],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1502900880,"creation_date":1502900880,"answer_id":45718717,"question_id":24746380,"body_markdown":"When you wish to send one or more files using HTTP, you have to use multipart request. This means that the body of the request will be like the above,  \r\n\r\n&gt; -----------------------------9051914041544843365972754266\r\n&gt; Content-Disposition: form-data; name=&quot;text&quot;\r\n&gt; \r\n&gt; text default\r\n&gt; -----------------------------9051914041544843365972754266\r\n&gt; Content-Disposition: form-data; name=&quot;file1&quot;; filename=&quot;a.txt&quot;\r\n&gt; Content-Type: text/plain\r\n&gt; \r\n&gt; Content of a.txt.\r\n&gt; \r\n&gt; -----------------------------9051914041544843365972754266\r\n&gt; Content-Disposition: form-data; name=&quot;file2&quot;; filename=&quot;a.html&quot;\r\n&gt; Content-Type: text/html\r\n  \r\nWhen you wish to send only data (and not files) you can send them as json, key-value pairs etc.\r\n  \r\nSpring framework uses the @ModelAttribute annotation when you wish to map a multipart request to an object.\r\nWhen you have a normal key-value request, you use the @RequestBody annotation.\r\nThus, you can&#39;t have the MultipartFile optional, because you have to use different annotations. Using two different methods, one per request type, solves the issue. Example,\r\n  \r\n    @RequestMapping(value = &quot;/withFile&quot;, method = RequestMethod.POST, produces = &quot;application/json&quot;)\r\n    public ReturnModel updateFile(@ModelAttribute RequestModel rm) {\r\n        // do something.\r\n    }\r\n\r\n    @RequestMapping(value = &quot;/noFile&quot;, method = RequestMethod.PUT, produces = &quot;application/json&quot;)\r\n    public ReturnModel updateJson(@RequestBody RequestModel rm) {\r\n        // do something else.\r\n    }","title":"Multipart Request with MultipartFile as Optional Field - Spring MVC","body":"<p>When you wish to send one or more files using HTTP, you have to use multipart request. This means that the body of the request will be like the above,  </p>\n\n<blockquote>\n  <p>-----------------------------9051914041544843365972754266\n  Content-Disposition: form-data; name=\"text\"</p>\n  \n  <p>text default\n  -----------------------------9051914041544843365972754266\n  Content-Disposition: form-data; name=\"file1\"; filename=\"a.txt\"\n  Content-Type: text/plain</p>\n  \n  <p>Content of a.txt.</p>\n  \n  <p>-----------------------------9051914041544843365972754266\n  Content-Disposition: form-data; name=\"file2\"; filename=\"a.html\"\n  Content-Type: text/html</p>\n</blockquote>\n\n<p>When you wish to send only data (and not files) you can send them as json, key-value pairs etc.</p>\n\n<p>Spring framework uses the @ModelAttribute annotation when you wish to map a multipart request to an object.\nWhen you have a normal key-value request, you use the @RequestBody annotation.\nThus, you can't have the MultipartFile optional, because you have to use different annotations. Using two different methods, one per request type, solves the issue. Example,</p>\n\n<pre><code>@RequestMapping(value = \"/withFile\", method = RequestMethod.POST, produces = \"application/json\")\npublic ReturnModel updateFile(@ModelAttribute RequestModel rm) {\n    // do something.\n}\n\n@RequestMapping(value = \"/noFile\", method = RequestMethod.PUT, produces = \"application/json\")\npublic ReturnModel updateJson(@RequestBody RequestModel rm) {\n    // do something else.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2220824,"reputation":16635,"user_id":3168721,"accept_rate":97,"display_name":"tk_"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1633331606,"creation_date":1521682990,"answer_id":49419219,"question_id":24746380,"body_markdown":"I had the same issue and just adding the `required=false` worked for me; because, I don&#39;t send a file all the time. Please find the sample code below,\r\n\r\n    @RequestMapping(value = &quot;/&quot;, method = RequestMethod.POST, produces = &quot;application/json&quot;)\r\n    public AModel createEntity(@Valid @ModelAttribute MyInsertForm myInsertForm, @RequestParam(value =&quot;file&quot;, required=false) MultipartFile file) {\r\n        // coding..\r\n    }  ","title":"Multipart Request with MultipartFile as Optional Field - Spring MVC","body":"<p>I had the same issue and just adding the <code>required=false</code> worked for me; because, I don't send a file all the time. Please find the sample code below,</p>\n<pre><code>@RequestMapping(value = &quot;/&quot;, method = RequestMethod.POST, produces = &quot;application/json&quot;)\npublic AModel createEntity(@Valid @ModelAttribute MyInsertForm myInsertForm, @RequestParam(value =&quot;file&quot;, required=false) MultipartFile file) {\n    // coding..\n}  \n</code></pre>\n"}],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11114,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":3,"score":9,"last_activity_date":1633331606,"creation_date":1405373753,"question_id":24746380,"body_markdown":"I am using Spring MVC on a J2EE Web application.  \r\nI have created a method that bounds the request body to a model like the above\r\n  \r\n  \r\n    @RequestMapping(value = &quot;/&quot;, method = RequestMethod.POST, produces = &quot;application/json&quot;)\r\n    public AModel createEntity(@Valid @ModelAttribute MyInsertForm myInsertForm) {\r\n        // coding..\r\n    }  \r\n  \r\nEverything are working great and when i include a property of type MultipartFile in the MyEntityForm, then i have to make the request with content type &quot;multipart/form-data&quot;.  \r\nAlso, everything are working great with this scenario too.  \r\n  \r\nThe problem i am facing is that i would like to have the MultipartFile property as optional.  \r\nWhen a client request include a file my method works great but when a client request does not include a file spring throws a  \r\n\r\n&gt;HTTP Status 500 - Request processing failed; nested exception is org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request; nested exception is org.apache.commons.fileupload.FileUploadException: Stream ended unexpectedly\r\n\r\n  \r\nIs there any way to solve this issue without creating two methods on my controller (one with a MultipartFile and another without)?","title":"Multipart Request with MultipartFile as Optional Field - Spring MVC","body":"<p>I am using Spring MVC on a J2EE Web application.<br>\nI have created a method that bounds the request body to a model like the above</p>\n\n<pre><code>@RequestMapping(value = \"/\", method = RequestMethod.POST, produces = \"application/json\")\npublic AModel createEntity(@Valid @ModelAttribute MyInsertForm myInsertForm) {\n    // coding..\n}  \n</code></pre>\n\n<p>Everything are working great and when i include a property of type MultipartFile in the MyEntityForm, then i have to make the request with content type \"multipart/form-data\".<br>\nAlso, everything are working great with this scenario too.  </p>\n\n<p>The problem i am facing is that i would like to have the MultipartFile property as optional.<br>\nWhen a client request include a file my method works great but when a client request does not include a file spring throws a  </p>\n\n<blockquote>\n  <p>HTTP Status 500 - Request processing failed; nested exception is org.springframework.web.multipart.MultipartException: Could not parse multipart servlet request; nested exception is org.apache.commons.fileupload.FileUploadException: Stream ended unexpectedly</p>\n</blockquote>\n\n<p>Is there any way to solve this issue without creating two methods on my controller (one with a MultipartFile and another without)?</p>\n"},{"tags":["java","android","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1633339735,"post_id":69431633,"comment_id":122724205,"body_markdown":"I think this article, [How to filter Firestore data cheaper?](https://medium.com/firebase-tips-tricks/how-to-filter-firestore-data-cheaper-705f5efec444) can help.","body":"I think this article, <a href=\"https://medium.com/firebase-tips-tricks/how-to-filter-firestore-data-cheaper-705f5efec444\" rel=\"nofollow noreferrer\">How to filter Firestore data cheaper?</a> can help."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1633766851,"post_id":69431633,"comment_id":122851938,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":19367591,"reputation":1,"user_id":14161506,"display_name":"Priyanshu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633331393,"creation_date":1633328308,"question_id":69431633,"body_markdown":"I am making an inventory management application where the user can manage the data of boxes in their inventory which is stored in Firebase Firestore. Here I want to implement autocomplete feature for the name of boxes so that all possible names starting with the letter entered by the user will appear in the dropdown. I want to sync the name of boxes stored in Firestore in a document to cache so that number of reads can be minimized and the cache will sync with that document when a change took place in the document. I tried to find it but to no avail, any suggestion/help would be greatly appreciated.\r\n\r\nStructure of firestore is [enter image description here][1]\r\nIn case the image is not available \r\n\r\n    The Structure of the firestore is\r\n    CollectionName\r\n          DocumentName\r\n              boxes:{box1,box2,box3......}\r\n\r\n\r\nHere is the layout file\r\n\r\n    &lt;RelativeLayout\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_below=&quot;@id/search&quot;\r\n        android:layout_marginStart=&quot;15dp&quot;\r\n        android:layout_marginTop=&quot;25dp&quot;\r\n        android:id=&quot;@+id/ll1&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/category_text5&quot;\r\n            android:text=&quot;Select the category of box&quot;\r\n            android:textSize=&quot;17dp&quot;\r\n            android:layout_marginTop=&quot;15dp&quot;\r\n            android:textColor=&quot;@color/black&quot;/&gt;\r\n\r\n        &lt;Spinner\r\n            android:layout_width=&quot;250dp&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:id=&quot;@+id/category_spinner6&quot;\r\n            android:layout_marginTop=&quot;15dp&quot;\r\n            android:background=&quot;@drawable/spinner_style&quot;\r\n            tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/search_text&quot;\r\n            android:layout_marginTop=&quot;15dp&quot;\r\n            android:text=&quot;Enter the box you want to search&quot;\r\n            android:textSize=&quot;17dp&quot;\r\n            android:textColor=&quot;@color/black&quot;/&gt;\r\n\r\n        &lt;EditText\r\n            android:layout_width=&quot;250dp&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:id=&quot;@+id/search_edit_text&quot;\r\n            android:layout_marginTop=&quot;15dp&quot;\r\n            android:hint=&quot;Name of box&quot;\r\n            android:inputType=&quot;text&quot;/&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n    &lt;androidx.appcompat.widget.AppCompatButton\r\n        android:id=&quot;@+id/Submit&quot;\r\n        android:layout_width=&quot;75dp&quot;\r\n        android:layout_height=&quot;50dp&quot;\r\n        android:layout_below=&quot;@id/ll1&quot;\r\n        android:layout_marginTop=&quot;25dp&quot;\r\n        android:layout_centerInParent=&quot;true&quot;\r\n        android:background=&quot;@drawable/round_btn&quot;\r\n        android:textColor=&quot;@color/grey&quot;\r\n        android:textSize=&quot;20dp&quot;\r\n        android:text=&quot;Go&quot;\r\n        tools:ignore=&quot;TextContrastCheck&quot; /&gt;\r\n            \r\n&lt;/RelativeLayout&gt;\r\n\r\nSo when a user enters A in the edit text box @id/search_edit_text he should see a list of all boxes starting with A but the data also needs to be cached and synced to the firestore so that whenever a new box is added or removed the cache should update its value.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RRVzu.jpg","title":"How to implement autocomplete in android with data being in cache and synced with firestore(java)","body":"<p>I am making an inventory management application where the user can manage the data of boxes in their inventory which is stored in Firebase Firestore. Here I want to implement autocomplete feature for the name of boxes so that all possible names starting with the letter entered by the user will appear in the dropdown. I want to sync the name of boxes stored in Firestore in a document to cache so that number of reads can be minimized and the cache will sync with that document when a change took place in the document. I tried to find it but to no avail, any suggestion/help would be greatly appreciated.</p>\n<p>Structure of firestore is <a href=\"https://i.stack.imgur.com/RRVzu.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>\nIn case the image is not available</p>\n<pre><code>The Structure of the firestore is\nCollectionName\n      DocumentName\n          boxes:{box1,box2,box3......}\n</code></pre>\n<p>Here is the layout file</p>\n<pre><code>&lt;RelativeLayout\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;&gt;\n\n&lt;LinearLayout\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_below=&quot;@id/search&quot;\n    android:layout_marginStart=&quot;15dp&quot;\n    android:layout_marginTop=&quot;25dp&quot;\n    android:id=&quot;@+id/ll1&quot;&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/category_text5&quot;\n        android:text=&quot;Select the category of box&quot;\n        android:textSize=&quot;17dp&quot;\n        android:layout_marginTop=&quot;15dp&quot;\n        android:textColor=&quot;@color/black&quot;/&gt;\n\n    &lt;Spinner\n        android:layout_width=&quot;250dp&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:id=&quot;@+id/category_spinner6&quot;\n        android:layout_marginTop=&quot;15dp&quot;\n        android:background=&quot;@drawable/spinner_style&quot;\n        tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/search_text&quot;\n        android:layout_marginTop=&quot;15dp&quot;\n        android:text=&quot;Enter the box you want to search&quot;\n        android:textSize=&quot;17dp&quot;\n        android:textColor=&quot;@color/black&quot;/&gt;\n\n    &lt;EditText\n        android:layout_width=&quot;250dp&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:id=&quot;@+id/search_edit_text&quot;\n        android:layout_marginTop=&quot;15dp&quot;\n        android:hint=&quot;Name of box&quot;\n        android:inputType=&quot;text&quot;/&gt;\n\n&lt;/LinearLayout&gt;\n\n\n&lt;androidx.appcompat.widget.AppCompatButton\n    android:id=&quot;@+id/Submit&quot;\n    android:layout_width=&quot;75dp&quot;\n    android:layout_height=&quot;50dp&quot;\n    android:layout_below=&quot;@id/ll1&quot;\n    android:layout_marginTop=&quot;25dp&quot;\n    android:layout_centerInParent=&quot;true&quot;\n    android:background=&quot;@drawable/round_btn&quot;\n    android:textColor=&quot;@color/grey&quot;\n    android:textSize=&quot;20dp&quot;\n    android:text=&quot;Go&quot;\n    tools:ignore=&quot;TextContrastCheck&quot; /&gt;\n        \n</code></pre>\n\n<p>So when a user enters A in the edit text box @id/search_edit_text he should see a list of all boxes starting with A but the data also needs to be cached and synced to the firestore so that whenever a new box is added or removed the cache should update its value.</p>\n"},{"tags":["java","spring-boot","kotlin"],"comments":[{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1633328713,"post_id":69431052,"comment_id":122720429,"body_markdown":"What is the type of the data returned by `findByUserName()`? Generally speaking, constructor of your `InstaUserDetails` receives multiple arguments, but you try to invoke it with only a single argument which is some kind of user object. You need to create additional constructor which receives this single user object or expand the data in `map()`.","body":"What is the type of the data returned by <code>findByUserName()</code>? Generally speaking, constructor of your <code>InstaUserDetails</code> receives multiple arguments, but you try to invoke it with only a single argument which is some kind of user object. You need to create additional constructor which receives this single user object or expand the data in <code>map()</code>."},{"owner":{"account_id":18093144,"reputation":565,"user_id":13152124,"display_name":"Mama"},"score":0,"creation_date":1633330624,"post_id":69431052,"comment_id":122720975,"body_markdown":"If I expand data in map() It show same error , I already try this way bur I want to return InstaUserDetails how can i do this","body":"If I expand data in map() It show same error , I already try this way bur I want to return InstaUserDetails how can i do this"},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1633330864,"post_id":69431052,"comment_id":122721046,"body_markdown":"What did you try? It should be something like: `map { InstaUserDetails(...) }` and you need to provide all 9 parameters as you would create `InstaUserDetails` object anywhere else, outside of `map()`.","body":"What did you try? It should be something like: <code>map { InstaUserDetails(...) }</code> and you need to provide all 9 parameters as you would create <code>InstaUserDetails</code> object anywhere else, outside of <code>map()</code>."},{"owner":{"account_id":18093144,"reputation":565,"user_id":13152124,"display_name":"Mama"},"score":0,"creation_date":1633330871,"post_id":69431052,"comment_id":122721050,"body_markdown":"I expand the data in map() this way   \n                    .map { id: String, userName: String, password: String, email: String, createdAt: LocalDate, updatedAt: LocalDate, active: Boolean, userProfile: Profile, role: Set&lt;Role&gt; )","body":"I expand the data in map() this way                        .map { id: String, userName: String, password: String, email: String, createdAt: LocalDate, updatedAt: LocalDate, active: Boolean, userProfile: Profile, role: Set&lt;Role&gt; )"},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1633330970,"post_id":69431052,"comment_id":122721078,"body_markdown":"What is the type of objects returned by `findByUserName()`? Is it the same `User` object that `InstaUserDetails` extends?","body":"What is the type of objects returned by <code>findByUserName()</code>? Is it the same <code>User</code> object that <code>InstaUserDetails</code> extends?"},{"owner":{"account_id":18093144,"reputation":565,"user_id":13152124,"display_name":"Mama"},"score":0,"creation_date":1633331090,"post_id":69431052,"comment_id":122721127,"body_markdown":"return type is string  val username:String = claims.subject","body":"return type is string  val username:String = claims.subject"},{"owner":{"account_id":18093144,"reputation":565,"user_id":13152124,"display_name":"Mama"},"score":0,"creation_date":1633331414,"post_id":69431052,"comment_id":122721237,"body_markdown":"I added what I implemented before   in my filter class","body":"I added what I implemented before   in my filter class"},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":0,"creation_date":1633331831,"post_id":69431052,"comment_id":122721375,"body_markdown":"Look, no matter if you pass a function reference or lambda to `map()`, you have to receive exactly one argument, which is user object. With your `map()` implementation you still expect that you receive 9 params. Try to do it like this: `map { user -&gt; InstaUserDetails(user.id, user.userName, ...) }`.","body":"Look, no matter if you pass a function reference or lambda to <code>map()</code>, you have to receive exactly one argument, which is user object. With your <code>map()</code> implementation you still expect that you receive 9 params. Try to do it like this: <code>map { user -&gt; InstaUserDetails(user.id, user.userName, ...) }</code>."}],"owner":{"account_id":18093144,"reputation":565,"user_id":13152124,"display_name":"Mama"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633331363,"creation_date":1633323288,"question_id":69431052,"body_markdown":"&gt; I Try to pass InstaUserDetails element in a map function by the help\r\n&gt; of method reference . I want to pass all the user element that came\r\n&gt; from database, Because InstaUserDetails Class  extends user class. But\r\n&gt; when I pass the user data inside map function it show Below type of\r\n&gt; error\r\n\r\n    Type mismatch.\r\n    Required:\r\n    ((User!) â†’ TypeVariable(U)!)!\r\n    Found:\r\n    KFunction9&lt;String, String, String, String, LocalDate, LocalDate, Boolean, Profile, (Mutable)Set&lt;Role!&gt;, InstaUserDetails\r\n\r\n&gt; InstaUserDetails.java\r\n\r\n    package com.nilmani.mychat.model;\r\n    \r\n    import org.jetbrains.annotations.NotNull;\r\n    import org.springframework.security.core.GrantedAuthority;\r\n    import org.springframework.security.core.authority.SimpleGrantedAuthority;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    \r\n    import java.time.LocalDate;\r\n    import java.util.Collection;\r\n    import java.util.Set;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class InstaUserDetails extends User implements UserDetails {\r\n        public InstaUserDetails(@NotNull String id, @NotNull String userName, @NotNull String password, @NotNull String email, @NotNull LocalDate createdAt, @NotNull LocalDate updatedAt, boolean active, @NotNull Profile userProfile, @NotNull Set&lt;Role&gt; role) {\r\n            super(id, userName, password, email, createdAt, updatedAt, active, userProfile, role);\r\n        }\r\n    \r\n        /**\r\n         * Returns the authorities granted to the user. Cannot return &lt;code&gt;null&lt;/code&gt;.\r\n         *\r\n         * @return the authorities, sorted by natural key (never &lt;code&gt;null&lt;/code&gt;)\r\n         */\r\n        @Override\r\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n            return getRole()\r\n                    .stream()\r\n                    .map(role -&gt; new SimpleGrantedAuthority(&quot;ROLE_&quot;+role.getName()))\r\n                    .collect(Collectors.toList());\r\n        }\r\n    \r\n        /**\r\n         * Returns the username used to authenticate the user. Cannot return\r\n         * &lt;code&gt;null&lt;/code&gt;.\r\n         *\r\n         * @return the username (never &lt;code&gt;null&lt;/code&gt;)\r\n         */\r\n        @Override\r\n        public String getUsername() {\r\n            return &quot;userName&quot;;\r\n        }\r\n    \r\n        /**\r\n         * Indicates whether the user&#39;s account has expired. An expired account cannot be\r\n         * authenticated.\r\n         *\r\n         * @return &lt;code&gt;true&lt;/code&gt; if the user&#39;s account is valid (ie non-expired),\r\n         * &lt;code&gt;false&lt;/code&gt; if no longer valid (ie expired)\r\n         */\r\n        @Override\r\n        public boolean isAccountNonExpired() {\r\n            return isAccountNonExpired();\r\n        }\r\n    \r\n        /**\r\n         * Indicates whether the user is locked or unlocked. A locked user cannot be\r\n         * authenticated.\r\n         *\r\n         * @return &lt;code&gt;true&lt;/code&gt; if the user is not locked, &lt;code&gt;false&lt;/code&gt; otherwise\r\n         */\r\n        @Override\r\n        public boolean isAccountNonLocked() {\r\n            return isAccountNonLocked();\r\n        }\r\n    \r\n        /**\r\n         * Indicates whether the user&#39;s credentials (password) has expired. Expired\r\n         * credentials prevent authentication.\r\n         *\r\n         * @return &lt;code&gt;true&lt;/code&gt; if the user&#39;s credentials are valid (ie non-expired),\r\n         * &lt;code&gt;false&lt;/code&gt; if no longer valid (ie expired)\r\n         */\r\n        @Override\r\n        public boolean isCredentialsNonExpired() {\r\n            return isCredentialsNonExpired();\r\n        }\r\n    \r\n        /**\r\n         * Indicates whether the user is enabled or disabled. A disabled user cannot be\r\n         * authenticated.\r\n         *\r\n         * @return &lt;code&gt;true&lt;/code&gt; if the user is enabled, &lt;code&gt;false&lt;/code&gt; otherwise\r\n         */\r\n        @Override\r\n        public boolean isEnabled() {\r\n            return isEnabled();\r\n        }\r\n    }\r\n\r\n&gt; User.kt\r\n\r\n    package com.nilmani.mychat.model\r\n    \r\n    import org.jetbrains.annotations.NotNull\r\n    import org.springframework.data.mongodb.core.mapping.Document\r\n    import java.time.Instant\r\n    import java.time.LocalDate\r\n    \r\n    @Document\r\n    open  class User(\r\n        var id:String=&quot;&quot;,\r\n        var userName:String=&quot;&quot;,\r\n        var password:String=&quot;&quot;,\r\n        var email:String=&quot;&quot;,\r\n        var createdAt:LocalDate=LocalDate.now(),\r\n        var updatedAt:LocalDate= LocalDate.now(),\r\n        var active:Boolean=false,\r\n        @NotNull\r\n        var userProfile:Profile,\r\n        @NotNull\r\n        var role:Set&lt;Role&gt; = HashSet()\r\n    )\r\n\r\n&gt; JwtTokenAuthenticationFilter.kt\r\n\r\n    package com.nilmani.mychat.config\r\n    \r\n    import com.nilmani.mychat.model.InstaUserDetails\r\n    import com.nilmani.mychat.model.Profile\r\n    import com.nilmani.mychat.model.Role\r\n    import com.nilmani.mychat.service.JwtTokenProvider\r\n    import com.nilmani.mychat.service.UserService\r\n    import io.jsonwebtoken.Claims\r\n    import org.springframework.beans.factory.annotation.Autowired\r\n    import org.springframework.security.authentication.UsernamePasswordAuthenticationToken\r\n    import org.springframework.security.core.context.SecurityContextHolder\r\n    import org.springframework.security.web.authentication.WebAuthenticationDetailsSource\r\n    import org.springframework.web.filter.OncePerRequestFilter\r\n    import java.io.IOException\r\n    import java.time.LocalDate\r\n    import java.util.*\r\n    import javax.servlet.FilterChain\r\n    import javax.servlet.ServletException\r\n    import javax.servlet.http.HttpServletRequest\r\n    import javax.servlet.http.HttpServletResponse\r\n    \r\n    \r\n    class JwtTokenAuthenticationFilter(jwtConfig: JwtConfig, jetTokenProvider: JwtTokenProvider, userService: UserService) : OncePerRequestFilter() {\r\n        @Autowired\r\n        private lateinit var jwtConfig: JwtConfig\r\n        @Autowired\r\n        private lateinit var jwtTokenProvider: JwtTokenProvider\r\n        @Autowired\r\n        private lateinit var userService: UserService\r\n        /**\r\n         * Same contract as for `doFilter`, but guaranteed to be\r\n         * just invoked once per request within a single request thread.\r\n         * See [.shouldNotFilterAsyncDispatch] for details.\r\n         *\r\n         * Provides HttpServletRequest and HttpServletResponse arguments instead of the\r\n         * default ServletRequest and ServletResponse ones.\r\n         */\r\n        @Throws(IOException::class,ServletException::class)\r\n        override fun doFilterInternal(\r\n            request: HttpServletRequest,\r\n            response: HttpServletResponse,\r\n            filterChain: FilterChain\r\n        ) {\r\n            val header:String = request.getHeader(jwtConfig.header)\r\n    \r\n            if (header == null || !header.startsWith(jwtConfig.prefix)){\r\n                filterChain.doFilter(request,response)\r\n                return\r\n            }\r\n            val token:String = header.replace(jwtConfig.prefix,&quot;&quot;)\r\n            if (jwtTokenProvider.validateToken(token)){\r\n                val claims:Claims = jwtTokenProvider.getClaimsFromJWT(token)\r\n                val username:String = claims.subject\r\n    \r\n                val auth:UsernamePasswordAuthenticationToken =\r\n                    userService.findByUserName(username)\r\n                        .map(::InstaUserDetails)\r\n                        .map { userDetails -&gt;\r\n                            val authentication = UsernamePasswordAuthenticationToken(\r\n                                userDetails, null, userDetails.authorities\r\n                            )\r\n                            authentication.details = WebAuthenticationDetailsSource().buildDetails(request)\r\n                            authentication\r\n                        }\r\n                        .orElse(null)\r\n                SecurityContextHolder.getContext().authentication=auth\r\n            }else{\r\n                SecurityContextHolder.clearContext()\r\n            }\r\n    \r\n           filterChain.doFilter(request,response)\r\n        }\r\n    }\r\n\r\n&gt; How can pass the user data without any error inside\r\n&gt; JwtAuthenticationFilter.kt\r\n&gt; Error shows at this particular point\r\n\r\n    val auth:UsernamePasswordAuthenticationToken =\r\n                    userService.findByUserName(username)\r\n                        .map(::InstaUserDetails)\r\n                        .map { userDetails -&gt;\r\n                            val authentication = UsernamePasswordAuthenticationToken(\r\n                                userDetails, null, userDetails.authorities\r\n                            \r\n\r\n&gt; Before my filter class looks like this type\r\n\r\n    val username:String = claims.subject\r\n    \r\n                val auth:UsernamePasswordAuthenticationToken =\r\n                    userService.findByUserName(username)\r\n                        .map { id: String, userName: String, password: String, email: String, createdAt: LocalDate, updatedAt: LocalDate, active: Boolean, userProfile: Profile, role: Set&lt;Role&gt; -&gt;\r\n                            InstaUserDetails(\r\n                                id!!,\r\n                                userName!!,\r\n                                password!!,\r\n                                email!!,\r\n                                createdAt!!,\r\n                                updatedAt!!,\r\n                                active,\r\n                                userProfile!!,\r\n                                role!!\r\n                            )\r\n\r\n","title":"Type mismatch inferred type is KFunction9","body":"<blockquote>\n<p>I Try to pass InstaUserDetails element in a map function by the help\nof method reference . I want to pass all the user element that came\nfrom database, Because InstaUserDetails Class  extends user class. But\nwhen I pass the user data inside map function it show Below type of\nerror</p>\n</blockquote>\n<pre><code>Type mismatch.\nRequired:\n((User!) â†’ TypeVariable(U)!)!\nFound:\nKFunction9&lt;String, String, String, String, LocalDate, LocalDate, Boolean, Profile, (Mutable)Set&lt;Role!&gt;, InstaUserDetails\n</code></pre>\n<blockquote>\n<p>InstaUserDetails.java</p>\n</blockquote>\n<pre><code>package com.nilmani.mychat.model;\n\nimport org.jetbrains.annotations.NotNull;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\nimport java.time.LocalDate;\nimport java.util.Collection;\nimport java.util.Set;\nimport java.util.stream.Collectors;\n\npublic class InstaUserDetails extends User implements UserDetails {\n    public InstaUserDetails(@NotNull String id, @NotNull String userName, @NotNull String password, @NotNull String email, @NotNull LocalDate createdAt, @NotNull LocalDate updatedAt, boolean active, @NotNull Profile userProfile, @NotNull Set&lt;Role&gt; role) {\n        super(id, userName, password, email, createdAt, updatedAt, active, userProfile, role);\n    }\n\n    /**\n     * Returns the authorities granted to the user. Cannot return &lt;code&gt;null&lt;/code&gt;.\n     *\n     * @return the authorities, sorted by natural key (never &lt;code&gt;null&lt;/code&gt;)\n     */\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return getRole()\n                .stream()\n                .map(role -&gt; new SimpleGrantedAuthority(&quot;ROLE_&quot;+role.getName()))\n                .collect(Collectors.toList());\n    }\n\n    /**\n     * Returns the username used to authenticate the user. Cannot return\n     * &lt;code&gt;null&lt;/code&gt;.\n     *\n     * @return the username (never &lt;code&gt;null&lt;/code&gt;)\n     */\n    @Override\n    public String getUsername() {\n        return &quot;userName&quot;;\n    }\n\n    /**\n     * Indicates whether the user's account has expired. An expired account cannot be\n     * authenticated.\n     *\n     * @return &lt;code&gt;true&lt;/code&gt; if the user's account is valid (ie non-expired),\n     * &lt;code&gt;false&lt;/code&gt; if no longer valid (ie expired)\n     */\n    @Override\n    public boolean isAccountNonExpired() {\n        return isAccountNonExpired();\n    }\n\n    /**\n     * Indicates whether the user is locked or unlocked. A locked user cannot be\n     * authenticated.\n     *\n     * @return &lt;code&gt;true&lt;/code&gt; if the user is not locked, &lt;code&gt;false&lt;/code&gt; otherwise\n     */\n    @Override\n    public boolean isAccountNonLocked() {\n        return isAccountNonLocked();\n    }\n\n    /**\n     * Indicates whether the user's credentials (password) has expired. Expired\n     * credentials prevent authentication.\n     *\n     * @return &lt;code&gt;true&lt;/code&gt; if the user's credentials are valid (ie non-expired),\n     * &lt;code&gt;false&lt;/code&gt; if no longer valid (ie expired)\n     */\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return isCredentialsNonExpired();\n    }\n\n    /**\n     * Indicates whether the user is enabled or disabled. A disabled user cannot be\n     * authenticated.\n     *\n     * @return &lt;code&gt;true&lt;/code&gt; if the user is enabled, &lt;code&gt;false&lt;/code&gt; otherwise\n     */\n    @Override\n    public boolean isEnabled() {\n        return isEnabled();\n    }\n}\n</code></pre>\n<blockquote>\n<p>User.kt</p>\n</blockquote>\n<pre><code>package com.nilmani.mychat.model\n\nimport org.jetbrains.annotations.NotNull\nimport org.springframework.data.mongodb.core.mapping.Document\nimport java.time.Instant\nimport java.time.LocalDate\n\n@Document\nopen  class User(\n    var id:String=&quot;&quot;,\n    var userName:String=&quot;&quot;,\n    var password:String=&quot;&quot;,\n    var email:String=&quot;&quot;,\n    var createdAt:LocalDate=LocalDate.now(),\n    var updatedAt:LocalDate= LocalDate.now(),\n    var active:Boolean=false,\n    @NotNull\n    var userProfile:Profile,\n    @NotNull\n    var role:Set&lt;Role&gt; = HashSet()\n)\n</code></pre>\n<blockquote>\n<p>JwtTokenAuthenticationFilter.kt</p>\n</blockquote>\n<pre><code>package com.nilmani.mychat.config\n\nimport com.nilmani.mychat.model.InstaUserDetails\nimport com.nilmani.mychat.model.Profile\nimport com.nilmani.mychat.model.Role\nimport com.nilmani.mychat.service.JwtTokenProvider\nimport com.nilmani.mychat.service.UserService\nimport io.jsonwebtoken.Claims\nimport org.springframework.beans.factory.annotation.Autowired\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken\nimport org.springframework.security.core.context.SecurityContextHolder\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource\nimport org.springframework.web.filter.OncePerRequestFilter\nimport java.io.IOException\nimport java.time.LocalDate\nimport java.util.*\nimport javax.servlet.FilterChain\nimport javax.servlet.ServletException\nimport javax.servlet.http.HttpServletRequest\nimport javax.servlet.http.HttpServletResponse\n\n\nclass JwtTokenAuthenticationFilter(jwtConfig: JwtConfig, jetTokenProvider: JwtTokenProvider, userService: UserService) : OncePerRequestFilter() {\n    @Autowired\n    private lateinit var jwtConfig: JwtConfig\n    @Autowired\n    private lateinit var jwtTokenProvider: JwtTokenProvider\n    @Autowired\n    private lateinit var userService: UserService\n    /**\n     * Same contract as for `doFilter`, but guaranteed to be\n     * just invoked once per request within a single request thread.\n     * See [.shouldNotFilterAsyncDispatch] for details.\n     *\n     * Provides HttpServletRequest and HttpServletResponse arguments instead of the\n     * default ServletRequest and ServletResponse ones.\n     */\n    @Throws(IOException::class,ServletException::class)\n    override fun doFilterInternal(\n        request: HttpServletRequest,\n        response: HttpServletResponse,\n        filterChain: FilterChain\n    ) {\n        val header:String = request.getHeader(jwtConfig.header)\n\n        if (header == null || !header.startsWith(jwtConfig.prefix)){\n            filterChain.doFilter(request,response)\n            return\n        }\n        val token:String = header.replace(jwtConfig.prefix,&quot;&quot;)\n        if (jwtTokenProvider.validateToken(token)){\n            val claims:Claims = jwtTokenProvider.getClaimsFromJWT(token)\n            val username:String = claims.subject\n\n            val auth:UsernamePasswordAuthenticationToken =\n                userService.findByUserName(username)\n                    .map(::InstaUserDetails)\n                    .map { userDetails -&gt;\n                        val authentication = UsernamePasswordAuthenticationToken(\n                            userDetails, null, userDetails.authorities\n                        )\n                        authentication.details = WebAuthenticationDetailsSource().buildDetails(request)\n                        authentication\n                    }\n                    .orElse(null)\n            SecurityContextHolder.getContext().authentication=auth\n        }else{\n            SecurityContextHolder.clearContext()\n        }\n\n       filterChain.doFilter(request,response)\n    }\n}\n</code></pre>\n<blockquote>\n<p>How can pass the user data without any error inside\nJwtAuthenticationFilter.kt\nError shows at this particular point</p>\n</blockquote>\n<pre><code>val auth:UsernamePasswordAuthenticationToken =\n                userService.findByUserName(username)\n                    .map(::InstaUserDetails)\n                    .map { userDetails -&gt;\n                        val authentication = UsernamePasswordAuthenticationToken(\n                            userDetails, null, userDetails.authorities\n                        \n</code></pre>\n<blockquote>\n<p>Before my filter class looks like this type</p>\n</blockquote>\n<pre><code>val username:String = claims.subject\n\n            val auth:UsernamePasswordAuthenticationToken =\n                userService.findByUserName(username)\n                    .map { id: String, userName: String, password: String, email: String, createdAt: LocalDate, updatedAt: LocalDate, active: Boolean, userProfile: Profile, role: Set&lt;Role&gt; -&gt;\n                        InstaUserDetails(\n                            id!!,\n                            userName!!,\n                            password!!,\n                            email!!,\n                            createdAt!!,\n                            updatedAt!!,\n                            active,\n                            userProfile!!,\n                            role!!\n                        )\n</code></pre>\n"},{"tags":["java","azure-functions","azure-web-app-service"],"answers":[{"tags":[],"owner":{"account_id":22613317,"reputation":1314,"user_id":16793150,"display_name":"SauravDas-MT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633331045,"creation_date":1633331045,"answer_id":69432056,"question_id":69350399,"body_markdown":"In your application code, you can access the public certificates you add to App Service. A certificate uploaded into an app is stored in a deployment unit that is **bound to the app service plan**. So to read your public certificate you first have to **add/upload** it in **TLS/SSL settings** of app service.\r\n\r\nCheck this [upload a public certificate document](https://learn.microsoft.com/en-us/azure/app-service/configure-ssl-certificate#upload-a-public-certificate) for detailed information on how to add the public certificate.\r\n\r\nIn Java code, you access the certificate from the &quot;Windows-MY&quot; store using the Subject Common Name field. Following code show how to read a certificate using Java code : \r\n\r\n```java\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.bind.annotation.RequestMapping; \r\nimport java.security.KeyStore; \r\nimport java.security.cert.Certificate; \r\nimport java.security.PublicKey;\r\n\r\n... \r\n\r\nKeyStore ks = KeyStore.getInstance(&quot;Windows-MY&quot;); \r\nks.load(null, null); \r\nCertificate cert = ks.getCertificate(&quot;&lt;subject-cn&gt;&quot;);\r\n```\r\n\r\nCheck the [Use a TLS/SSL certificate in your code](https://learn.microsoft.com/en-us/azure/app-service/configure-ssl-certificate-in-code#load-certificate-in-windows-apps) documentation for more information.","title":"How to read the cert from TLS/SSL certificates in function app to make HTTPS call using Java code","body":"<p>In your application code, you can access the public certificates you add to App Service. A certificate uploaded into an app is stored in a deployment unit that is <strong>bound to the app service plan</strong>. So to read your public certificate you first have to <strong>add/upload</strong> it in <strong>TLS/SSL settings</strong> of app service.</p>\n<p>Check this <a href=\"https://learn.microsoft.com/en-us/azure/app-service/configure-ssl-certificate#upload-a-public-certificate\" rel=\"nofollow noreferrer\">upload a public certificate document</a> for detailed information on how to add the public certificate.</p>\n<p>In Java code, you access the certificate from the &quot;Windows-MY&quot; store using the Subject Common Name field. Following code show how to read a certificate using Java code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.bind.annotation.RequestMapping; \nimport java.security.KeyStore; \nimport java.security.cert.Certificate; \nimport java.security.PublicKey;\n\n... \n\nKeyStore ks = KeyStore.getInstance(&quot;Windows-MY&quot;); \nks.load(null, null); \nCertificate cert = ks.getCertificate(&quot;&lt;subject-cn&gt;&quot;);\n</code></pre>\n<p>Check the <a href=\"https://learn.microsoft.com/en-us/azure/app-service/configure-ssl-certificate-in-code#load-certificate-in-windows-apps\" rel=\"nofollow noreferrer\">Use a TLS/SSL certificate in your code</a> documentation for more information.</p>\n"}],"owner":{"account_id":5280798,"reputation":135,"user_id":4216247,"accept_rate":27,"display_name":"Jasmine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":680,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1633331045,"creation_date":1632761213,"question_id":69350399,"body_markdown":"Scenario: \r\n\r\n1. The function app makes the call to the Https endpoint \r\n2. Using HttpClient Java 11\r\n3. Java requires trusted cert to make this call\r\n4. Adding the public cert in the TLS/SSL section of the function app so that the app can read the cert and pass it in the SSLContext to make HTTPS call\r\n\r\n","title":"How to read the cert from TLS/SSL certificates in function app to make HTTPS call using Java code","body":"<p>Scenario:</p>\n<ol>\n<li>The function app makes the call to the Https endpoint</li>\n<li>Using HttpClient Java 11</li>\n<li>Java requires trusted cert to make this call</li>\n<li>Adding the public cert in the TLS/SSL section of the function app so that the app can read the cert and pass it in the SSLContext to make HTTPS call</li>\n</ol>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":34514,"reputation":28046,"user_id":97627,"accept_rate":75,"display_name":"Paul Wagland"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1384542050,"creation_date":1264454934,"answer_id":2135789,"question_id":2135775,"body_markdown":"These are objects that &quot;sit to the side&quot; of the main body of code, and do some of the work for the object. They &quot;help&quot; the object to do it&#39;s job.\r\n\r\nAs an example, many people have a Closer helper object. This will take various closeable objects, for example, java.sql.Statement, java.sql.Connection, etc and will close the object, and ignore any errors that come out of it. This tends to be because if you get an error closing an object, there is not much you can do about it anyway, so people just ignore it.\r\n\r\nRather than having this boilerplate:\r\n\r\n    try {\r\n      connection.close();\r\n    } catch (SQLException e) {\r\n      // just ignoreâ€¦ what can you do when you can&#39;t close the connection?\r\n       log.warn(&quot;couldn&#39;t close connection&quot;, e);\r\n    }\r\n\r\nscattered around the codebase, they simply call:\r\n\r\n    Closer.close(connection);\r\n\r\ninstead. For example, look at guava [closeQuietly](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/io/Closeables.html#closeQuietly(java.io.Closeable)). ","title":"What are helper objects in java?","body":"<p>These are objects that \"sit to the side\" of the main body of code, and do some of the work for the object. They \"help\" the object to do it's job.</p>\n\n<p>As an example, many people have a Closer helper object. This will take various closeable objects, for example, java.sql.Statement, java.sql.Connection, etc and will close the object, and ignore any errors that come out of it. This tends to be because if you get an error closing an object, there is not much you can do about it anyway, so people just ignore it.</p>\n\n<p>Rather than having this boilerplate:</p>\n\n<pre><code>try {\n  connection.close();\n} catch (SQLException e) {\n  // just ignoreâ€¦ what can you do when you can't close the connection?\n   log.warn(\"couldn't close connection\", e);\n}\n</code></pre>\n\n<p>scattered around the codebase, they simply call:</p>\n\n<pre><code>Closer.close(connection);\n</code></pre>\n\n<p>instead. For example, look at guava <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/io/Closeables.html#closeQuietly(java.io.Closeable)\" rel=\"noreferrer\">closeQuietly</a>. </p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":61,"is_accepted":true,"score":61,"last_activity_date":1338883435,"creation_date":1264455026,"answer_id":2135797,"question_id":2135775,"body_markdown":"Some operations which are common to a couple of classes can be moved to helper classes, which are then used via object composition:\r\n\r\n    public class OrderService {\r\n        private PriceHelper priceHelper = new PriceHelper();\r\n\r\n        public double calculateOrderPrice(order) {\r\n            double price = 0;\r\n            for (Item item : order.getItems()) {\r\n                double += priceHelper.calculatePrice(item.getProduct());\r\n            }\r\n        }\r\n    }\r\n    \r\n    public class ProductService {\r\n        private PriceHelper priceHelper = new PriceHelper();\r\n\r\n        public double getProductPrice(Product product) {\r\n            return priceHelper.calculatePrice(product);\r\n        }\r\n    }\r\n\r\nUsing helper classes can be done in multiple ways:\r\n\r\n- Instantiating them directly (as above)\r\n- via dependency injection\r\n- by making their methods `static` and accessing them in a static way, like `IOUtils.closeQuietly(inputStream)` closes an `InputStream` wihtout throwing exceptions.\r\n- at least my convention is to name classes with only static methods and not dependencies `XUtils`, and classees that in turn have dependencies / need to be managed by a DI container `XHelper`\r\n\r\n(The example above is just a sample - it shouldn&#39;t be discussed in terms of Domain Driven Design)","title":"What are helper objects in java?","body":"<p>Some operations which are common to a couple of classes can be moved to helper classes, which are then used via object composition:</p>\n\n<pre><code>public class OrderService {\n    private PriceHelper priceHelper = new PriceHelper();\n\n    public double calculateOrderPrice(order) {\n        double price = 0;\n        for (Item item : order.getItems()) {\n            double += priceHelper.calculatePrice(item.getProduct());\n        }\n    }\n}\n\npublic class ProductService {\n    private PriceHelper priceHelper = new PriceHelper();\n\n    public double getProductPrice(Product product) {\n        return priceHelper.calculatePrice(product);\n    }\n}\n</code></pre>\n\n<p>Using helper classes can be done in multiple ways:</p>\n\n<ul>\n<li>Instantiating them directly (as above)</li>\n<li>via dependency injection</li>\n<li>by making their methods <code>static</code> and accessing them in a static way, like <code>IOUtils.closeQuietly(inputStream)</code> closes an <code>InputStream</code> wihtout throwing exceptions.</li>\n<li>at least my convention is to name classes with only static methods and not dependencies <code>XUtils</code>, and classees that in turn have dependencies / need to be managed by a DI container <code>XHelper</code></li>\n</ul>\n\n<p>(The example above is just a sample - it shouldn't be discussed in terms of Domain Driven Design)</p>\n"},{"tags":[],"owner":{"account_id":51109,"reputation":5983,"user_id":152621,"display_name":"Malaxeur"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1264455223,"creation_date":1264455223,"answer_id":2135819,"question_id":2135775,"body_markdown":"A &#39;helper&#39; method is typically a method to make something *easier*, whatever it is.  Sometimes they&#39;re used to make things more readable/clearly organized (some may argue this, but it&#39;s ultimately very subjective):\r\n\r\n    public void doStuff() {\r\n       wakeUp();\r\n       drinkCoffee();\r\n       drive();\r\n       work();\r\n       goHome();\r\n    }\r\n\r\nWhere, each &#39;helper method&#39; on their own are fairly complex... the concept becomes really clear and simple.\r\n\r\nAnother very good use of helper methods is to provide common functionality across many different classes.  The best example of this is the `Math` class which contains a ton of static helper methods to help you calculate things like the log of a number, the exponent of a number... etc.\r\n\r\nWhere you draw the line as to what&#39;s a helper method and what&#39;s just a regular method is pretty subjective, but that&#39;s the gist of it.  Other answers here are pretty good too.","title":"What are helper objects in java?","body":"<p>A 'helper' method is typically a method to make something <em>easier</em>, whatever it is.  Sometimes they're used to make things more readable/clearly organized (some may argue this, but it's ultimately very subjective):</p>\n\n<pre><code>public void doStuff() {\n   wakeUp();\n   drinkCoffee();\n   drive();\n   work();\n   goHome();\n}\n</code></pre>\n\n<p>Where, each 'helper method' on their own are fairly complex... the concept becomes really clear and simple.</p>\n\n<p>Another very good use of helper methods is to provide common functionality across many different classes.  The best example of this is the <code>Math</code> class which contains a ton of static helper methods to help you calculate things like the log of a number, the exponent of a number... etc.</p>\n\n<p>Where you draw the line as to what's a helper method and what's just a regular method is pretty subjective, but that's the gist of it.  Other answers here are pretty good too.</p>\n"},{"tags":[],"owner":{"account_id":2707393,"reputation":1653,"user_id":2336707,"accept_rate":81,"display_name":"Zachary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368670206,"creation_date":1368670206,"answer_id":16577906,"question_id":2135775,"body_markdown":"Helper class, in my opinion, is similar to normal functions declared outside of classes in C++. For example, if you need a global constant for many classes, then you can define a helper class that encloses a final static const variable.","title":"What are helper objects in java?","body":"<p>Helper class, in my opinion, is similar to normal functions declared outside of classes in C++. For example, if you need a global constant for many classes, then you can define a helper class that encloses a final static const variable.</p>\n"},{"tags":[],"owner":{"account_id":5727017,"reputation":19,"user_id":4523731,"display_name":"firecharger65"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1422961384,"creation_date":1422959608,"answer_id":28296736,"question_id":2135775,"body_markdown":"    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    import java.util.Scanner;\r\n                \r\n    public class Helpers {\r\n    public static String getDate() {\r\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n            return dateFormat.format(new Date());\r\n        }\r\n                \r\n        public static boolean isTimeABeforeTimeB(String timeA, String timeB) {\r\n            try {\r\n                SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm aa&quot;);\r\n                Date dA = dateFormat.parse(timeA);\r\n                Date dB = dateFormat.parse(timeB);\r\n                if (dA.getTime() &lt; dB.getTime()) {\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            } catch (Exception e) {\r\n                //\r\n            }\r\n            return false;\r\n        }\r\n                \r\n        public static String getDateAndTimeInput(String prompt) {\r\n            Scanner input = new Scanner(System.in);\r\n            String ans;\r\n            SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy hh:mm aa&quot;);\r\n            dateFormat.setLenient(false);\r\n            boolean dateValid;\r\n            do {\r\n                System.out.print(prompt);\r\n                ans = input.nextLine();\r\n                ans = ans.trim();\r\n                dateValid = true;\r\n                try {\r\n                    Date d = dateFormat.parse(ans);\r\n                } catch (Exception e) {\r\n                    dateValid = false;\r\n                }\r\n            } while (!dateValid);\r\n            return ans;\r\n        }\r\n                \r\n                \r\n        public static String getStringInput(String prompt) {\r\n            Scanner input = new Scanner(System.in);\r\n            String ans;\r\n                \r\n            do {\r\n                System.out.print(prompt);\r\n                ans = input.nextLine();\r\n                ans = ans.trim();\r\n            } while (ans.length() == 0);\r\n            return ans;\r\n        }\r\n        \r\n        public static double getDoubleInput(String prompt) {\r\n            Scanner input = new Scanner(System.in);\r\n            double ans = 0;\r\n            boolean inputValid;\r\n            do {\r\n                System.out.print(prompt);\r\n                String s = input.nextLine();\r\n                //Convert string input to integer\r\n                try {\r\n                    ans = Double.parseDouble(s);\r\n                    inputValid = true;\r\n                } catch (Exception e) {\r\n                     inputValid = false;\r\n                }\r\n            } while (!inputValid);\r\n            return ans;\r\n        }\r\n                \r\n        public static int getIntegerInput(String prompt) {\r\n            Scanner input = new Scanner(System.in);\r\n            int ans = 0;\r\n            boolean inputValid;\r\n            do {\r\n                System.out.print(prompt);\r\n                String s = input.nextLine();\r\n                // Convert string input to integer\r\n                try {\r\n                    ans = Integer.parseInt(s);\r\n                    inputValid = true;\r\n                } catch (Exception e) {\r\n                    inputValid = false;\r\n                }\r\n            } while (!inputValid);\r\n            return ans;\r\n        }\r\n                \r\n        public static int getIntegerInput(String prompt, int lowerBound, int upperBound) {\r\n            Scanner input = new Scanner(System.in);\r\n            int ans = 0;\r\n            boolean inputValid;\r\n            do {\r\n                System.out.print(prompt);\r\n                String s = input.nextLine();\r\n                // Convert string input to integer\r\n                try {\r\n                    ans = Integer.parseInt(s);\r\n                    if (ans &gt;= lowerBound &amp;&amp; ans &lt;= upperBound) {\r\n                        inputValid = true;\r\n                    } else {\r\n                         inputValid = false;\r\n                    }\r\n                } catch (Exception e) {\r\n                    inputValid = false;\r\n                }\r\n           } while (!inputValid);\r\n           return ans;\r\n       }\r\n    }\r\n\r\n\r\nthat is an example of of a Helper Class. It contains method which of are common use of the other classes in the project.\r\n\r\nExample if someone wants to enter an Integer number from a class hew ill have to type in this: String num = Helpers.getIntegerInput(&quot;input your number&quot;);\r\n\r\nThe prompt is the output that is show to the user. Other examples to input a String, double, date and time etc.","title":"What are helper objects in java?","body":"<pre><code>import java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.Scanner;\n\npublic class Helpers {\npublic static String getDate() {\n    SimpleDateFormat dateFormat = new SimpleDateFormat(\"dd-MM-yyyy\");\n        return dateFormat.format(new Date());\n    }\n\n    public static boolean isTimeABeforeTimeB(String timeA, String timeB) {\n        try {\n            SimpleDateFormat dateFormat = new SimpleDateFormat(\"dd-MM-yyyy hh:mm aa\");\n            Date dA = dateFormat.parse(timeA);\n            Date dB = dateFormat.parse(timeB);\n            if (dA.getTime() &lt; dB.getTime()) {\n                return true;\n            } else {\n                return false;\n            }\n        } catch (Exception e) {\n            //\n        }\n        return false;\n    }\n\n    public static String getDateAndTimeInput(String prompt) {\n        Scanner input = new Scanner(System.in);\n        String ans;\n        SimpleDateFormat dateFormat = new SimpleDateFormat(\"dd-MM-yyyy hh:mm aa\");\n        dateFormat.setLenient(false);\n        boolean dateValid;\n        do {\n            System.out.print(prompt);\n            ans = input.nextLine();\n            ans = ans.trim();\n            dateValid = true;\n            try {\n                Date d = dateFormat.parse(ans);\n            } catch (Exception e) {\n                dateValid = false;\n            }\n        } while (!dateValid);\n        return ans;\n    }\n\n\n    public static String getStringInput(String prompt) {\n        Scanner input = new Scanner(System.in);\n        String ans;\n\n        do {\n            System.out.print(prompt);\n            ans = input.nextLine();\n            ans = ans.trim();\n        } while (ans.length() == 0);\n        return ans;\n    }\n\n    public static double getDoubleInput(String prompt) {\n        Scanner input = new Scanner(System.in);\n        double ans = 0;\n        boolean inputValid;\n        do {\n            System.out.print(prompt);\n            String s = input.nextLine();\n            //Convert string input to integer\n            try {\n                ans = Double.parseDouble(s);\n                inputValid = true;\n            } catch (Exception e) {\n                 inputValid = false;\n            }\n        } while (!inputValid);\n        return ans;\n    }\n\n    public static int getIntegerInput(String prompt) {\n        Scanner input = new Scanner(System.in);\n        int ans = 0;\n        boolean inputValid;\n        do {\n            System.out.print(prompt);\n            String s = input.nextLine();\n            // Convert string input to integer\n            try {\n                ans = Integer.parseInt(s);\n                inputValid = true;\n            } catch (Exception e) {\n                inputValid = false;\n            }\n        } while (!inputValid);\n        return ans;\n    }\n\n    public static int getIntegerInput(String prompt, int lowerBound, int upperBound) {\n        Scanner input = new Scanner(System.in);\n        int ans = 0;\n        boolean inputValid;\n        do {\n            System.out.print(prompt);\n            String s = input.nextLine();\n            // Convert string input to integer\n            try {\n                ans = Integer.parseInt(s);\n                if (ans &gt;= lowerBound &amp;&amp; ans &lt;= upperBound) {\n                    inputValid = true;\n                } else {\n                     inputValid = false;\n                }\n            } catch (Exception e) {\n                inputValid = false;\n            }\n       } while (!inputValid);\n       return ans;\n   }\n}\n</code></pre>\n\n<p>that is an example of of a Helper Class. It contains method which of are common use of the other classes in the project.</p>\n\n<p>Example if someone wants to enter an Integer number from a class hew ill have to type in this: String num = Helpers.getIntegerInput(\"input your number\");</p>\n\n<p>The prompt is the output that is show to the user. Other examples to input a String, double, date and time etc.</p>\n"},{"tags":[],"owner":{"account_id":2765822,"reputation":1,"user_id":2381573,"display_name":"ahma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545220480,"creation_date":1545220480,"answer_id":53850708,"question_id":2135775,"body_markdown":"You can see a helper class as a toolbox that can be used by other classes to perform task like testing if a string is a palindrome, if a given number is prime, if an array contains negative number etc. You can create helper class by making all its methods static and its constructor private, and optionally you can also make the class final. Thus it can not be instantiated and one can easily access to all its methods directly.\r\n\r\n    public final class HelperClass{\r\n    \r\n           private HelperClass(){\r\n           }\r\n    \r\n           public static boolean isPositive(int number) {\r\n    \r\n                 if (number &gt;= 0) \r\n                        return true;\r\n                 else\r\n                        return false;\r\n           }\r\n    }\r\n\r\nHere the function can be use directly to test a number : \r\n\r\n     HelperClass.isPositive(5);","title":"What are helper objects in java?","body":"<p>You can see a helper class as a toolbox that can be used by other classes to perform task like testing if a string is a palindrome, if a given number is prime, if an array contains negative number etc. You can create helper class by making all its methods static and its constructor private, and optionally you can also make the class final. Thus it can not be instantiated and one can easily access to all its methods directly.</p>\n\n<pre><code>public final class HelperClass{\n\n       private HelperClass(){\n       }\n\n       public static boolean isPositive(int number) {\n\n             if (number &gt;= 0) \n                    return true;\n             else\n                    return false;\n       }\n}\n</code></pre>\n\n<p>Here the function can be use directly to test a number : </p>\n\n<pre><code> HelperClass.isPositive(5);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10743627,"reputation":655,"user_id":7905787,"display_name":"Adnan Bashir"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633330923,"creation_date":1633330923,"answer_id":69432039,"question_id":2135775,"body_markdown":"this helper class help you to validate multiple edit text fields at once \r\n```\r\npublic class MyHelperClass {\r\n public void toast(Context context, String message){\r\n        Toast toast=new Toast(context);\r\n        toast.setDuration(Toast.LENGTH_SHORT);\r\n        toast.setText(message);\r\n        toast.show();\r\n\r\n    }\r\n   public void validateEditText(Context context,List&lt;EditText&gt; editTextList)\r\n    {\r\n        boolean result=false;\r\n        for (int i=0;i&lt;editTextList.size();i++)\r\n        {\r\n            if (editTextList.get(i).getText().toString().trim().equals(&quot;&quot;))\r\n            {\r\n                result=true;\r\n                toast(context,&quot; Required fields are not empty !&quot;);\r\n                i=editTextList.size();\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n```","title":"What are helper objects in java?","body":"<p>this helper class help you to validate multiple edit text fields at once</p>\n<pre><code>public class MyHelperClass {\n public void toast(Context context, String message){\n        Toast toast=new Toast(context);\n        toast.setDuration(Toast.LENGTH_SHORT);\n        toast.setText(message);\n        toast.show();\n\n    }\n   public void validateEditText(Context context,List&lt;EditText&gt; editTextList)\n    {\n        boolean result=false;\n        for (int i=0;i&lt;editTextList.size();i++)\n        {\n            if (editTextList.get(i).getText().toString().trim().equals(&quot;&quot;))\n            {\n                result=true;\n                toast(context,&quot; Required fields are not empty !&quot;);\n                i=editTextList.size();\n            }\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":86591,"reputation":26893,"user_id":240698,"accept_rate":62,"display_name":"giri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73432,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":2135797,"answer_count":7,"score":47,"last_activity_date":1633330923,"creation_date":1264454849,"question_id":2135775,"body_markdown":"I come across few of the times called helper objects... can anybody elaborate what are those helper objects and why do we need them?","title":"What are helper objects in java?","body":"<p>I come across few of the times called helper objects... can anybody elaborate what are those helper objects and why do we need them?</p>\n"},{"tags":["java","spring-boot","spring-batch","chunks"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633330420,"creation_date":1633330420,"answer_id":69431965,"question_id":69420137,"body_markdown":"&gt; I tried implementing StepListener and then StepExecutionListener and retrieve the actual context. It is always equals to null\r\n\r\nImplementing `StepExecutionListener` should work if you register your callback handler as a listener in the step:\r\n\r\n```\r\n@Bean\r\npublic FlatFileItemReader&lt;EncCreditEntrepIndDTO&gt; itemReader(HeaderHandler headerHandler) {\r\n    return new FlatFileItemReaderBuilder&lt;EncCreditEntrepIndDTO&gt;()\r\n            // ...\r\n            .skippedLinesCallback(headerHandler)\r\n            .build();\r\n}\r\n\r\n@Bean\r\npublic Step step(StepBuilderFactory stepBuilderFactory, HeaderHandler headerHandler) {\r\n    return stepBuilderFactory.get(&quot;step&quot;)\r\n            .&lt;EncCreditEntrepIndDTO, EncCreditEntrepIndDTO&gt;chunk(5)\r\n            .reader(itemReader(headerHandler))\r\n            .writer(itemWriter())\r\n            .listener(headerHandler)\r\n            .build();\r\n}\r\n```","title":"Sharing object from LineCallbackHandler to ExecutionCOntext","body":"<blockquote>\n<p>I tried implementing StepListener and then StepExecutionListener and retrieve the actual context. It is always equals to null</p>\n</blockquote>\n<p>Implementing <code>StepExecutionListener</code> should work if you register your callback handler as a listener in the step:</p>\n<pre><code>@Bean\npublic FlatFileItemReader&lt;EncCreditEntrepIndDTO&gt; itemReader(HeaderHandler headerHandler) {\n    return new FlatFileItemReaderBuilder&lt;EncCreditEntrepIndDTO&gt;()\n            // ...\n            .skippedLinesCallback(headerHandler)\n            .build();\n}\n\n@Bean\npublic Step step(StepBuilderFactory stepBuilderFactory, HeaderHandler headerHandler) {\n    return stepBuilderFactory.get(&quot;step&quot;)\n            .&lt;EncCreditEntrepIndDTO, EncCreditEntrepIndDTO&gt;chunk(5)\n            .reader(itemReader(headerHandler))\n            .writer(itemWriter())\n            .listener(headerHandler)\n            .build();\n}\n</code></pre>\n"}],"owner":{"account_id":8252127,"reputation":61,"user_id":6206407,"display_name":"gat kipper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69431965,"answer_count":1,"score":0,"last_activity_date":1633330420,"creation_date":1633207523,"question_id":69420137,"body_markdown":"I have a csv file with one line on the top considered as the header.\r\nMy reader configuration is as following :\r\n\r\n    FlatFileItemReader&lt;EncCreditEntrepIndDTO&gt; reader = new FlatFileItemReaderBuilder&lt;EncCreditEntrepIndDTO&gt;()\r\n                .strict(false)\r\n                .resource(resource)\r\n                .linesToSkip(1)\r\n                .skippedLinesCallback(headerHandler)\r\n                .lineMapper(mapper)\r\n                .saveState(false)\r\n                .build();\r\n        return reader;\r\n\r\nThis is my LineCallbackHandler :\r\n\r\n    public class HeaderHandler implements LineCallbackHandler {\r\n\r\n\r\n    @Override\r\n    public void handleLine(String line) {\r\n        AtomicReference&lt;StepHeader&gt; headerLine = new AtomicReference&lt;&gt;();\r\n        processLine(line, headerLine);\r\n\r\n    }\r\n\r\nAfter processing the headerline, i want to save it in the execution context to use it later in some steps .\r\nI tried implementing StepListener and then StepExecutionListener and retrieve the actual context. It is always equals to null","title":"Sharing object from LineCallbackHandler to ExecutionCOntext","body":"<p>I have a csv file with one line on the top considered as the header.\nMy reader configuration is as following :</p>\n<pre><code>FlatFileItemReader&lt;EncCreditEntrepIndDTO&gt; reader = new FlatFileItemReaderBuilder&lt;EncCreditEntrepIndDTO&gt;()\n            .strict(false)\n            .resource(resource)\n            .linesToSkip(1)\n            .skippedLinesCallback(headerHandler)\n            .lineMapper(mapper)\n            .saveState(false)\n            .build();\n    return reader;\n</code></pre>\n<p>This is my LineCallbackHandler :</p>\n<pre><code>public class HeaderHandler implements LineCallbackHandler {\n\n\n@Override\npublic void handleLine(String line) {\n    AtomicReference&lt;StepHeader&gt; headerLine = new AtomicReference&lt;&gt;();\n    processLine(line, headerLine);\n\n}\n</code></pre>\n<p>After processing the headerline, i want to save it in the execution context to use it later in some steps .\nI tried implementing StepListener and then StepExecutionListener and retrieve the actual context. It is always equals to null</p>\n"},{"tags":["java","docker","docker-compose"],"answers":[{"tags":[],"owner":{"account_id":7744228,"reputation":116,"user_id":5862690,"display_name":"Giraugh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633330412,"creation_date":1633330057,"answer_id":69431902,"question_id":69425440,"body_markdown":"I&#39;m no expert on spring cloud gateway but I would try exposing the ports for each service in your Dockerfiles.\r\n\r\n```Dockerfile\r\n# In each service&#39;s dockerfile\r\nEXPOSE 8000\r\nEXPOSE 8001\r\nEXPOSE 8002\r\nEXPOSE 8003\r\n```\r\n\r\nI also reckon chucking a schema in the routing URIs is also a good idea too. Something like\r\n```yml\r\n- id: user_service\r\n  uri: &#39;http://login-ms:8001&#39; # Added &#39;http://&#39; here\r\n  predicates:\r\n     - Path=/api/users/**\r\n```","title":"docker-compose: services in a network can ping each other but API requests return as empty responses","body":"<p>I'm no expert on spring cloud gateway but I would try exposing the ports for each service in your Dockerfiles.</p>\n<pre><code># In each service's dockerfile\nEXPOSE 8000\nEXPOSE 8001\nEXPOSE 8002\nEXPOSE 8003\n</code></pre>\n<p>I also reckon chucking a schema in the routing URIs is also a good idea too. Something like</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>- id: user_service\n  uri: 'http://login-ms:8001' # Added 'http://' here\n  predicates:\n     - Path=/api/users/**\n</code></pre>\n"}],"owner":{"account_id":19650469,"reputation":363,"user_id":14384426,"display_name":"perrywinkle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":488,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69431902,"answer_count":1,"score":2,"last_activity_date":1633330412,"creation_date":1633268890,"question_id":69425440,"body_markdown":"This post is linked to my previous post but I thought I would make a new one because the problem has shifted.\r\n\r\nSo, I am trying to get services in a docker compose file to talk to each other. Here is the `docker-compose.yml`:\r\n```\r\nversion: &#39;3.9&#39;\r\n\r\nservices:\r\n  bk-api-gateway:\r\n    image: perrywinkle/api-gateway:latest\r\n    ports:\r\n      - &#39;8080:8080&#39;\r\n    build:\r\n      context: BackEnd/bk_api_gateway\r\n      dockerfile: Dockerfile\r\n\r\n  frontend:\r\n    image: perrywinkle/bookeroo-frontend\r\n    ports:\r\n      - &#39;3000:3000&#39;\r\n    build:\r\n      context: FrontEnd/myfirstapp\r\n      dockerfile: Dockerfile\r\n    stdin_open: true\r\n    command: npm start\r\n\r\n  books-ms:\r\n    image: perrywinkle/books-ms:latest\r\n    ports:\r\n      - &#39;8000:8000&#39;\r\n    build:\r\n      context: BackEnd/bookmicroservices\r\n      dockerfile: Dockerfile\r\n    volumes:\r\n      - /data/bookeroo-db\r\n\r\n  login-ms:\r\n    image: perrywinkle/login-ms:latest\r\n    ports:\r\n      - &#39;8001:8001&#39;\r\n    build:\r\n      context: BackEnd/loginmicroservices\r\n      dockerfile: Dockerfile\r\n    volumes:\r\n      - /data/bookeroo-db\r\n\r\n  payment-ms:\r\n    image: perrywinkle/payment-ms:latest\r\n    ports:\r\n      - &#39;8002:8002&#39;\r\n    build:\r\n      context: BackEnd/paymentmicroservices\r\n      dockerfile: Dockerfile\r\n    volumes:\r\n      - /data/bookeroo-db\r\n```\r\nThere are a lot of services here so I am just trying to solve the problem between the api gateway service and the books service at the moment. These 2 have the following Dockerfiles:\r\n```\r\nFROM openjdk:11\r\nARG JAR_FILE=target/*.jar\r\nCOPY ${JAR_FILE} api-gateway.jar\r\nEXPOSE 8080\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;api-gateway.jar&quot;]\r\n```\r\n\r\n```\r\nFROM openjdk:11\r\nARG JAR_FILE=target/*.jar\r\nCOPY ${JAR_FILE} books-ms.jar\r\nEXPOSE 8000\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;books-ms.jar&quot;]\r\n```\r\nNothing of note here to be honest but I thought I would include them anyways.\r\n\r\nWhen I try to do a get request from my browser with `localhost:8080/api/books` it will return an *empty* `200 OK` response, when a list of books should indeed be returned which leads me to believe that there may be some problem with my api gateway, which has some basic routing in the form of the following `application.yml` (no Eureka servers or anything like that):\r\n\r\n```\r\nserver:\r\n  port:8080\r\nspring:\r\n  cloud:\r\n    gateway:\r\n      routes:\r\n        - id: user_service\r\n          uri: &#39;login-ms:8001&#39;\r\n          predicates:\r\n            - Path=/api/users/**\r\n        - id: user_service\r\n          uri: &#39;login-ms:8001&#39;\r\n          predicates:\r\n            - Path=/api/business/**\r\n        - id: book_service\r\n          uri: &#39;books-ms:8000&#39;\r\n          predicates:\r\n            - Path=/api/books/**\r\n        - id: payment_service\r\n          uri: &#39;payment-ms:8002&#39;\r\n          predicates:\r\n            - Path=/api/payment/**\r\n```\r\n\r\nIf I access the CLI of either one of these services and ping them from there (using `ping books-ms` or vice-versa), they will recognise each other. If I do a `curl books-ms:8000/api/books` in the api gateway, it will be able to get the expected response, meaning there should not be a network issue between the 2 services. \r\n\r\nI am pretty new to docker in general so any guidance would be much appreciated.\r\n\r\n\r\n","title":"docker-compose: services in a network can ping each other but API requests return as empty responses","body":"<p>This post is linked to my previous post but I thought I would make a new one because the problem has shifted.</p>\n<p>So, I am trying to get services in a docker compose file to talk to each other. Here is the <code>docker-compose.yml</code>:</p>\n<pre><code>version: '3.9'\n\nservices:\n  bk-api-gateway:\n    image: perrywinkle/api-gateway:latest\n    ports:\n      - '8080:8080'\n    build:\n      context: BackEnd/bk_api_gateway\n      dockerfile: Dockerfile\n\n  frontend:\n    image: perrywinkle/bookeroo-frontend\n    ports:\n      - '3000:3000'\n    build:\n      context: FrontEnd/myfirstapp\n      dockerfile: Dockerfile\n    stdin_open: true\n    command: npm start\n\n  books-ms:\n    image: perrywinkle/books-ms:latest\n    ports:\n      - '8000:8000'\n    build:\n      context: BackEnd/bookmicroservices\n      dockerfile: Dockerfile\n    volumes:\n      - /data/bookeroo-db\n\n  login-ms:\n    image: perrywinkle/login-ms:latest\n    ports:\n      - '8001:8001'\n    build:\n      context: BackEnd/loginmicroservices\n      dockerfile: Dockerfile\n    volumes:\n      - /data/bookeroo-db\n\n  payment-ms:\n    image: perrywinkle/payment-ms:latest\n    ports:\n      - '8002:8002'\n    build:\n      context: BackEnd/paymentmicroservices\n      dockerfile: Dockerfile\n    volumes:\n      - /data/bookeroo-db\n</code></pre>\n<p>There are a lot of services here so I am just trying to solve the problem between the api gateway service and the books service at the moment. These 2 have the following Dockerfiles:</p>\n<pre><code>FROM openjdk:11\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} api-gateway.jar\nEXPOSE 8080\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;api-gateway.jar&quot;]\n</code></pre>\n<pre><code>FROM openjdk:11\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} books-ms.jar\nEXPOSE 8000\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;books-ms.jar&quot;]\n</code></pre>\n<p>Nothing of note here to be honest but I thought I would include them anyways.</p>\n<p>When I try to do a get request from my browser with <code>localhost:8080/api/books</code> it will return an <em>empty</em> <code>200 OK</code> response, when a list of books should indeed be returned which leads me to believe that there may be some problem with my api gateway, which has some basic routing in the form of the following <code>application.yml</code> (no Eureka servers or anything like that):</p>\n<pre><code>server:\n  port:8080\nspring:\n  cloud:\n    gateway:\n      routes:\n        - id: user_service\n          uri: 'login-ms:8001'\n          predicates:\n            - Path=/api/users/**\n        - id: user_service\n          uri: 'login-ms:8001'\n          predicates:\n            - Path=/api/business/**\n        - id: book_service\n          uri: 'books-ms:8000'\n          predicates:\n            - Path=/api/books/**\n        - id: payment_service\n          uri: 'payment-ms:8002'\n          predicates:\n            - Path=/api/payment/**\n</code></pre>\n<p>If I access the CLI of either one of these services and ping them from there (using <code>ping books-ms</code> or vice-versa), they will recognise each other. If I do a <code>curl books-ms:8000/api/books</code> in the api gateway, it will be able to get the expected response, meaning there should not be a network issue between the 2 services.</p>\n<p>I am pretty new to docker in general so any guidance would be much appreciated.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1315384927,"creation_date":1315384162,"answer_id":7330905,"question_id":7330892,"body_markdown":"First of all, note that by doing `list.add(number + &quot; &quot; + string)` **you&#39;re adding a single object**, namely the string formed by concatenating `number` and `string`.\r\n\r\nThat said, you could try something like this, to get the first part of the first element:\r\n\r\n    list.get(0).split(&quot; &quot;)[0]\r\n\r\n\r\n----------\r\n\r\nExample:\r\n\r\n    int number = 17;\r\n    String string = &quot;hello&quot;;\r\n    \r\n    LinkedList&lt;String&gt; list = new LinkedList&lt;String&gt;();\r\n    list.add(number+&quot; &quot;+string);\r\n    \r\n    \r\n    // Print number of first item:\r\n    System.out.println(list.get(0).split(&quot; &quot;)[0]);  // prints &quot;17&quot;","title":"Java LinkedList obtaining first element","body":"<p>First of all, note that by doing <code>list.add(number + \" \" + string)</code> <strong>you're adding a single object</strong>, namely the string formed by concatenating <code>number</code> and <code>string</code>.</p>\n\n<p>That said, you could try something like this, to get the first part of the first element:</p>\n\n<pre><code>list.get(0).split(\" \")[0]\n</code></pre>\n\n<hr>\n\n<p>Example:</p>\n\n<pre><code>int number = 17;\nString string = \"hello\";\n\nLinkedList&lt;String&gt; list = new LinkedList&lt;String&gt;();\nlist.add(number+\" \"+string);\n\n\n// Print number of first item:\nSystem.out.println(list.get(0).split(\" \")[0]);  // prints \"17\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1315385769,"creation_date":1315384211,"answer_id":7330916,"question_id":7330892,"body_markdown":"The List does not store two values. It stores one Object, the String created by concatenating number with a space and the String.\r\n\r\nIf you want to access individual Objects, you should either use a Map instead of a List or create a custom Object that holds number and string:\r\n\r\na)\r\n\r\n    Map&lt;Integer, String&gt; map = new Hashmap&lt;Integer, String&gt;();\r\n    map.put(number, string);\r\n\r\nb)\r\n\r\n    public class MyObject{\r\n      private Number number;\r\n      private String string;\r\n      // + getters and setters\r\n    }\r\n\r\n\r\n----------\r\n\r\nAlso:\r\n\r\na) you should not use Non-generic Collections anymore. Generics were introduced 7 years ago, there should not be any reason not to use them these days.\r\n\r\nSo you should use this:\r\n\r\n    LinkedList&lt;String&gt; list = new LinkedList&lt;String&gt;();\r\n\r\nOr this:\r\n\r\n    LinkedList&lt;MyCustomObject&gt; list = new LinkedList&lt;MyCustomObject&gt;();\r\n\r\nb) are you sure you want a `LinkedList`? In most cases, `ArrayList` is the general purpose `List` implementation. `LinkedList` performs better if you have many `add()` statements and don&#39;t know in advance how large your List will be, but `ArrayList` performs a lot better for random access.\r\n","title":"Java LinkedList obtaining first element","body":"<p>The List does not store two values. It stores one Object, the String created by concatenating number with a space and the String.</p>\n\n<p>If you want to access individual Objects, you should either use a Map instead of a List or create a custom Object that holds number and string:</p>\n\n<p>a)</p>\n\n<pre><code>Map&lt;Integer, String&gt; map = new Hashmap&lt;Integer, String&gt;();\nmap.put(number, string);\n</code></pre>\n\n<p>b)</p>\n\n<pre><code>public class MyObject{\n  private Number number;\n  private String string;\n  // + getters and setters\n}\n</code></pre>\n\n<hr>\n\n<p>Also:</p>\n\n<p>a) you should not use Non-generic Collections anymore. Generics were introduced 7 years ago, there should not be any reason not to use them these days.</p>\n\n<p>So you should use this:</p>\n\n<pre><code>LinkedList&lt;String&gt; list = new LinkedList&lt;String&gt;();\n</code></pre>\n\n<p>Or this:</p>\n\n<pre><code>LinkedList&lt;MyCustomObject&gt; list = new LinkedList&lt;MyCustomObject&gt;();\n</code></pre>\n\n<p>b) are you sure you want a <code>LinkedList</code>? In most cases, <code>ArrayList</code> is the general purpose <code>List</code> implementation. <code>LinkedList</code> performs better if you have many <code>add()</code> statements and don't know in advance how large your List will be, but <code>ArrayList</code> performs a lot better for random access.</p>\n"},{"tags":[],"owner":{"account_id":72159,"reputation":9614,"user_id":208446,"accept_rate":89,"display_name":"mohdajami"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1315384533,"creation_date":1315384351,"answer_id":7330947,"question_id":7330892,"body_markdown":"I think you mean the `number` only.\r\n\r\nFirst get the object at index 0:   \r\n    \r\n    String node = list.get(0);\r\n\r\nThen extract the first part by looking for the space   \r\n    \r\n    String num = node.substring(0,node.indexOf(&#39; &#39;));\r\n\r\nAlthough I suggest looking into `HashMaps` for such implementation, which takes Key,Value pairs:\r\n\r\nFor your example, you will need something like:\r\n\r\n    Map&lt;Long,String&gt; myMap = new HashMap&lt;Long,String&gt;();\r\n    myMap.put(number,string);\r\n\r\n","title":"Java LinkedList obtaining first element","body":"<p>I think you mean the <code>number</code> only.</p>\n\n<p>First get the object at index 0:   </p>\n\n<pre><code>String node = list.get(0);\n</code></pre>\n\n<p>Then extract the first part by looking for the space   </p>\n\n<pre><code>String num = node.substring(0,node.indexOf(' '));\n</code></pre>\n\n<p>Although I suggest looking into <code>HashMaps</code> for such implementation, which takes Key,Value pairs:</p>\n\n<p>For your example, you will need something like:</p>\n\n<pre><code>Map&lt;Long,String&gt; myMap = new HashMap&lt;Long,String&gt;();\nmyMap.put(number,string);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":152499,"reputation":911,"user_id":367077,"display_name":"AndreyKo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1315385928,"creation_date":1315384542,"answer_id":7330981,"question_id":7330892,"body_markdown":"You are adding a string to that list. x + y, where either x or y is a string produces a string. If you want to have access to the number and the string, you should consider using another type - not a String here. Something like:\r\n    \r\n    LinkedList&lt;Pair&lt;Number, String&gt;&gt; list = new LinkedList&lt;Pair&lt;Number, String&gt;();\r\n    list.add(new Pair&lt;Number, String&gt;(number, string));\r\n\r\nThis way, to obtain the number, stored in the first element of the list:\r\n    \r\n    Pair thePair = list.get(0);\r\n    number = (Number)thePair.left;\r\n\r\nPair is a class, you can find in Apache Commons: \r\nhttp://commons.apache.org/lang/api-3.0-beta/org/apache/commons/lang3/Pair.html\r\n(A source for many useful Java classes)","title":"Java LinkedList obtaining first element","body":"<p>You are adding a string to that list. x + y, where either x or y is a string produces a string. If you want to have access to the number and the string, you should consider using another type - not a String here. Something like:</p>\n\n<pre><code>LinkedList&lt;Pair&lt;Number, String&gt;&gt; list = new LinkedList&lt;Pair&lt;Number, String&gt;();\nlist.add(new Pair&lt;Number, String&gt;(number, string));\n</code></pre>\n\n<p>This way, to obtain the number, stored in the first element of the list:</p>\n\n<pre><code>Pair thePair = list.get(0);\nnumber = (Number)thePair.left;\n</code></pre>\n\n<p>Pair is a class, you can find in Apache Commons: \n<a href=\"http://commons.apache.org/lang/api-3.0-beta/org/apache/commons/lang3/Pair.html\" rel=\"nofollow\">http://commons.apache.org/lang/api-3.0-beta/org/apache/commons/lang3/Pair.html</a>\n(A source for many useful Java classes)</p>\n"},{"tags":[],"owner":{"account_id":88014,"reputation":60053,"user_id":1178669,"accept_rate":93,"display_name":"helpermethod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1315384690,"creation_date":1315384690,"answer_id":7331003,"question_id":7330892,"body_markdown":"I&#39;d suggest encapsulating your number and string into a class, like this.\r\n\r\n    public final class Pojo {\r\n        private final Number number;\r\n        private final String string;\r\n    \r\n        public Pojo(Number number, String string) {\r\n            this.string = string;\r\n            this.number = number;\r\n        }\r\n    \r\n        public void getNumber() {\r\n            return number;\r\n        }\r\n    \r\n        public void getString() {\r\n            return string;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return number + &quot; &quot; + string;\r\n        }\r\n    }\r\n\r\nThen, create your List like this:\r\n\r\n    List&lt;Pojo&gt; list = new LinkedList&lt;Pojo&gt;(); // use generics for compile-time type safety\r\n    list.add(new Pojo(42, &quot;Answer to the Ultimate Question of Life, the Universe, and Everything&quot;); // add a Pojo\r\n    System.out.println(list.get(0).getNumber());\r\n    \r\n    \r\n","title":"Java LinkedList obtaining first element","body":"<p>I'd suggest encapsulating your number and string into a class, like this.</p>\n\n<pre><code>public final class Pojo {\n    private final Number number;\n    private final String string;\n\n    public Pojo(Number number, String string) {\n        this.string = string;\n        this.number = number;\n    }\n\n    public void getNumber() {\n        return number;\n    }\n\n    public void getString() {\n        return string;\n    }\n\n    @Override\n    public String toString() {\n        return number + \" \" + string;\n    }\n}\n</code></pre>\n\n<p>Then, create your List like this:</p>\n\n<pre><code>List&lt;Pojo&gt; list = new LinkedList&lt;Pojo&gt;(); // use generics for compile-time type safety\nlist.add(new Pojo(42, \"Answer to the Ultimate Question of Life, the Universe, and Everything\"); // add a Pojo\nSystem.out.println(list.get(0).getNumber());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":204983,"reputation":173,"user_id":453504,"display_name":"rob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1315386741,"creation_date":1315386741,"answer_id":7331378,"question_id":7330892,"body_markdown":"    number+&quot; &quot;+string\r\nActs as a single string, if you want to get the number:\r\n\r\n    list.get(index).split(&quot; &quot;)[0]\r\n\r\nEven if it works, this is not a clear way to manage a pair of values.\r\nFrom an object-oriented point of view (and this is the right context :D ), use directly an object:\r\n\r\n    class Pair {\r\n    int number;\r\n    String str;\r\n    }\r\nPut your object to the list:\r\n\r\n    Pair pair = new Pair();\r\n    pair.number = 1;\r\n    pair.str = &quot;hello&quot;;\r\n    list.add(pair);\r\nAnd get your number:\r\n\r\n    ((Pair)list.get(0)).number;\r\nOf course you can use class methods and generics to manage all in a better way.","title":"Java LinkedList obtaining first element","body":"<pre><code>number+\" \"+string\n</code></pre>\n\n<p>Acts as a single string, if you want to get the number:</p>\n\n<pre><code>list.get(index).split(\" \")[0]\n</code></pre>\n\n<p>Even if it works, this is not a clear way to manage a pair of values.\nFrom an object-oriented point of view (and this is the right context :D ), use directly an object:</p>\n\n<pre><code>class Pair {\nint number;\nString str;\n}\n</code></pre>\n\n<p>Put your object to the list:</p>\n\n<pre><code>Pair pair = new Pair();\npair.number = 1;\npair.str = \"hello\";\nlist.add(pair);\n</code></pre>\n\n<p>And get your number:</p>\n\n<pre><code>((Pair)list.get(0)).number;\n</code></pre>\n\n<p>Of course you can use class methods and generics to manage all in a better way.</p>\n"},{"tags":[],"owner":{"account_id":22854893,"reputation":51,"user_id":16999899,"display_name":"Isuru Maldeniya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633330267,"creation_date":1633329910,"answer_id":69431876,"question_id":7330892,"body_markdown":"when you are initiating a Linkedlist in java, you should specify the data type that you are going to store in. You haven&#39;t done so. As your requirement it should be:\r\n\r\n    LinkedList&lt;int&gt; list=new LinkedList&lt;&gt;();\r\n\r\nAfter that you can add your elements:\r\n\r\n    list.add(&lt;number&gt;);\r\n\r\nThen you can get the first element:\r\n\r\n    list.getFirst();\r\n\r\nThen you can print that.\r\n\r\n","title":"Java LinkedList obtaining first element","body":"<p>when you are initiating a Linkedlist in java, you should specify the data type that you are going to store in. You haven't done so. As your requirement it should be:</p>\n<pre><code>LinkedList&lt;int&gt; list=new LinkedList&lt;&gt;();\n</code></pre>\n<p>After that you can add your elements:</p>\n<pre><code>list.add(&lt;number&gt;);\n</code></pre>\n<p>Then you can get the first element:</p>\n<pre><code>list.getFirst();\n</code></pre>\n<p>Then you can print that.</p>\n"}],"owner":{"account_id":887435,"reputation":47,"user_id":926531,"accept_rate":20,"display_name":"Benji"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10936,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":7,"score":0,"last_activity_date":1633330267,"creation_date":1315384059,"question_id":7330892,"body_markdown":"I have an Java `LinkedList` which stores two values (code below).\r\n\r\nI was wondering how i can obtain the first value only?\r\n\r\nI have:\r\n\r\n    LinkedList list = new LinkedList();\r\n    list.add(number+&quot; &quot;+string);\r\n\r\nI want to be able to just print out number from the list. Is it possible?\r\n\r\n\r\n","title":"Java LinkedList obtaining first element","body":"<p>I have an Java <code>LinkedList</code> which stores two values (code below).</p>\n\n<p>I was wondering how i can obtain the first value only?</p>\n\n<p>I have:</p>\n\n<pre><code>LinkedList list = new LinkedList();\nlist.add(number+\" \"+string);\n</code></pre>\n\n<p>I want to be able to just print out number from the list. Is it possible?</p>\n"},{"tags":["java","maven","maven-shade-plugin"],"answers":[{"tags":[],"owner":{"account_id":4821703,"reputation":5934,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1633329944,"creation_date":1633329944,"answer_id":69431883,"question_id":69431812,"body_markdown":"i had to filter the file from other artifact,\r\nHere is how the final configuration looked like\r\n```\r\n&lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;filters&gt;\r\n                                &lt;filter&gt;\r\n                                    &lt;artifact&gt;com.yammer.breakerbox:breakerbox-service&lt;/artifact&gt;\r\n                                    &lt;excludes&gt;\r\n                                        &lt;exclude&gt;assets/components/hystrixCommand/hystrixCommand.js&lt;/exclude&gt;\r\n                                    &lt;/excludes&gt;\r\n                                &lt;/filter&gt;\r\n                            &lt;/filters&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.IncludeResourceTransformer&quot;&gt;\r\n                                    &lt;resource&gt;assets/components/hystrixCommand/hystrixCommand.js&lt;/resource&gt;\r\n                                    &lt;file&gt;src/main/resources/hystrixCommand.js&lt;/file&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```","title":"maven shade plugin override a file","body":"<p>i had to filter the file from other artifact,\nHere is how the final configuration looked like</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;filters&gt;\n                                &lt;filter&gt;\n                                    &lt;artifact&gt;com.yammer.breakerbox:breakerbox-service&lt;/artifact&gt;\n                                    &lt;excludes&gt;\n                                        &lt;exclude&gt;assets/components/hystrixCommand/hystrixCommand.js&lt;/exclude&gt;\n                                    &lt;/excludes&gt;\n                                &lt;/filter&gt;\n                            &lt;/filters&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.IncludeResourceTransformer&quot;&gt;\n                                    &lt;resource&gt;assets/components/hystrixCommand/hystrixCommand.js&lt;/resource&gt;\n                                    &lt;file&gt;src/main/resources/hystrixCommand.js&lt;/file&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":4821703,"reputation":5934,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":563,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69431883,"answer_count":1,"score":0,"last_activity_date":1633329944,"creation_date":1633329503,"question_id":69431812,"body_markdown":"I am using maven shade plugin to create a fat jar. I want to override 1 properties file that is coming from a jar i don&#39;t control. I want to update that properties file before creating the shaded jar. I tried using transformers configuration but when i am trying to override I am getting error\r\n```\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-shade-plugin:3.2.4:shade (default) on project dsp-santa-breakbox: Error creating shaded jar: duplicate entry: assets/components/hystrixCommand/hystrixCommand.js -&gt; [Help 1]\r\n```\r\nHere is my shade plugin configuration\r\n```\r\n&lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;transformers&gt;\r\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.IncludeResourceTransformer&quot;&gt;\r\n                                    &lt;resource&gt;assets/components/hystrixCommand/hystrixCommand.js&lt;/resource&gt;\r\n                                    &lt;file&gt;src/main/resources/hystrixCommand.js&lt;/file&gt;\r\n                                &lt;/transformer&gt;\r\n                            &lt;/transformers&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nIs there a way to achieve this?\r\n\r\n","title":"maven shade plugin override a file","body":"<p>I am using maven shade plugin to create a fat jar. I want to override 1 properties file that is coming from a jar i don't control. I want to update that properties file before creating the shaded jar. I tried using transformers configuration but when i am trying to override I am getting error</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-shade-plugin:3.2.4:shade (default) on project dsp-santa-breakbox: Error creating shaded jar: duplicate entry: assets/components/hystrixCommand/hystrixCommand.js -&gt; [Help 1]\n</code></pre>\n<p>Here is my shade plugin configuration</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.IncludeResourceTransformer&quot;&gt;\n                                    &lt;resource&gt;assets/components/hystrixCommand/hystrixCommand.js&lt;/resource&gt;\n                                    &lt;file&gt;src/main/resources/hystrixCommand.js&lt;/file&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>Is there a way to achieve this?</p>\n"},{"tags":["java","arrays","java.util.scanner"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1633315530,"post_id":69430401,"comment_id":122718381,"body_markdown":"You need a variable that records how many elements are currently in the bag.  You then empty the bag by assigning zero to it.","body":"You need a variable that records how many elements are currently in the bag.  You then empty the bag by assigning zero to it."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1633315679,"post_id":69430401,"comment_id":122718391,"body_markdown":"Please read: [How do I ask and answer homework questions?](https://meta.stackoverflow.com/q/334822).  It is important that you make a real attempt to solve programming problems for yourself before you ask for help.  Programming is something that requires mental effort and perseverance. Especially when you are learning.","body":"Please read: <a href=\"https://meta.stackoverflow.com/q/334822\">How do I ask and answer homework questions?</a>.  It is important that you make a real attempt to solve programming problems for yourself before you ask for help.  Programming is something that requires mental effort and perseverance. Especially when you are learning."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1633329275,"post_id":69430401,"comment_id":122720591,"body_markdown":"In Java, arrays are immutable, you cannot change the size. But you can assign an empty array to the field: `bag = new int[0];` (instead of `Arrays.fill(bag, 0);`).","body":"In Java, arrays are immutable, you cannot change the size. But you can assign an empty array to the field: <code>bag = new int[0];</code> (instead of <code>Arrays.fill(bag, 0);</code>)."}],"answers":[{"tags":[],"owner":{"account_id":19728093,"reputation":51,"user_id":14444227,"display_name":"Connell Hagen"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633315939,"creation_date":1633315764,"answer_id":69430433,"question_id":69430401,"body_markdown":"Java array sizes are a fixed quantity. That is, once defined, cannot be changed. You may want to use an ArrayList, as you can change the size.\r\n\r\nHere would be a sample method to empty array:\r\n\r\n    public void emptyList(ArrayList&lt;Integer&gt; bag){\r\n        for(int i=bag.size()-1; i&gt;=0; i--){\r\n            bag.remove(i);\r\n        }\r\n    }","title":"How to empty an array in Java?","body":"<p>Java array sizes are a fixed quantity. That is, once defined, cannot be changed. You may want to use an ArrayList, as you can change the size.</p>\n<p>Here would be a sample method to empty array:</p>\n<pre><code>public void emptyList(ArrayList&lt;Integer&gt; bag){\n    for(int i=bag.size()-1; i&gt;=0; i--){\n        bag.remove(i);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19728093,"reputation":51,"user_id":14444227,"display_name":"Connell Hagen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633316899,"creation_date":1633316899,"answer_id":69430524,"question_id":69430401,"body_markdown":"Since you said you cannot use ArrayLists, a way to do it with normal arrays would be to simply redeclare the variable. \r\n\r\n    int[] test = new int[4];\r\n    System.out.println(test.length);\r\n\ttest = new int[0];\r\n\tSystem.out.println(test.length);\r\n    //prints 4 and 0\r\n\r\nAnd if you want to re-expand an array size, you could use a method like this to create that array to do the above with.\r\n\r\n    public static int[] resizeArray(int[] oldArray, int newSize){\r\n        int[] newArray = new int[newSize];\r\n        for(int i=0; i&lt;newArray.length &amp;&amp; i&lt;oldArray.length; i++){\r\n            newArray[i]=oldArray[i];\r\n        }\r\n    return newArray;\r\n    }","title":"How to empty an array in Java?","body":"<p>Since you said you cannot use ArrayLists, a way to do it with normal arrays would be to simply redeclare the variable.</p>\n<pre><code>int[] test = new int[4];\nSystem.out.println(test.length);\ntest = new int[0];\nSystem.out.println(test.length);\n//prints 4 and 0\n</code></pre>\n<p>And if you want to re-expand an array size, you could use a method like this to create that array to do the above with.</p>\n<pre><code>public static int[] resizeArray(int[] oldArray, int newSize){\n    int[] newArray = new int[newSize];\n    for(int i=0; i&lt;newArray.length &amp;&amp; i&lt;oldArray.length; i++){\n        newArray[i]=oldArray[i];\n    }\nreturn newArray;\n}\n</code></pre>\n"}],"owner":{"display_name":"user16854661"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":682,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1633329805,"creation_date":1633315312,"question_id":69430401,"body_markdown":"I&#39;m working on a project using Partially Filled Arrays. I am having trouble with the empty method. The intention is to empty an array thus the size of the array should be equal to zero. Instead, my method changes the elements of the array to be equal to 0. If I was to print the size of the array it would give me a number other than 0. How can I fix this?\r\n```\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.util.Scanner;\r\nimport java.util.Arrays;\r\n\r\npublic class IntBag {\r\n\tprivate int capacity;\r\n\tprivate String fileName;\r\n\tprivate int[] bag;\r\n\r\n\tpublic void intBag() {\r\n\r\n\t}\r\n\r\n\tpublic void intBag(int capacity) {\r\n\t\tcapacity = this.capacity;\r\n\t}\r\n\r\n\tpublic void intBag(IntBag other) {\r\n\t\tother.capacity = this.capacity;\r\n\t\tother.fileName = this.fileName;\r\n\t\tother.bag = this.bag;\r\n\t}\r\n\r\n\tpublic void empty() {\r\n\t\tArrays.fill(bag, 0);\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws FileNotFoundException {\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\tIntBag intBag = new IntBag();\r\n\t\tint[] bag = new int[20];\r\n\t\tintBag.bag = bag;\r\n\t\tboolean done = false;\r\n\r\n\t\twhile (!done) {\r\n\t\t\tSystem.out.println(Arrays.toString(bag));\r\n\t\t\tSystem.out.println(&quot;1. Add an Item to the Array&quot;);\r\n\t\t\tSystem.out.println(&quot;2. Replace an Item in the Array&quot;);\r\n\t\t\tSystem.out.println(&quot;3. Replace every item in the Array&quot;);\r\n\t\t\tSystem.out.println(&quot;4. Look for an Item in the Array&quot;);\r\n\t\t\tSystem.out.println(&quot;5. Delete an Item in the Array&quot;);\r\n\t\t\tSystem.out.println(&quot;6. Delete all Items in the Array&quot;);\r\n\t\t\tSystem.out.println(&quot;7. Size of Array&quot;);\r\n\t\t\tSystem.out.println(&quot;8. Empty the Array&quot;);\r\n\t\t\tSystem.out.println(&quot;9. Print the Array&quot;);\r\n\t\t\tSystem.out.println(&quot;10. Change Length of Array&quot;);\r\n\t\t\tSystem.out.println(&quot;11. toString&quot;);\r\n\t\t\tSystem.out.println(&quot;12. toStringDescending&quot;);\r\n\t\t\tswitch (input.nextInt()) {\r\n\t\t\tcase 1:\r\n\t\t\t\tSystem.out.println(Arrays.toString(bag));\r\n\t\t\t\tSystem.out.println(&quot;Add an Item to the Array&quot;);\r\n\t\t\t\tintBag.add(input.nextInt());\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tSystem.out.println(Arrays.toString(bag));\r\n\t\t\t\tSystem.out.println(&quot;Replace an Item in the Array&quot;);\r\n\t\t\t\tintBag.replace(input.nextInt(), input.nextInt());\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tSystem.out.println(Arrays.toString(bag));\r\n\t\t\t\tSystem.out.println(&quot;Replace every item in the Array&quot;);\r\n\t\t\t\tintBag.replaceAll(input.nextInt(), input.nextInt());\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4:\r\n\t\t\t\tSystem.out.println(Arrays.toString(bag));\r\n\t\t\t\tSystem.out.println(&quot;Look for an Item in Array&quot;);\r\n\t\t\t\tintBag.contains(input.nextInt());\r\n\t\t\t\tbreak;\r\n\t\t\tcase 5:\r\n\t\t\t\tSystem.out.println(Arrays.toString(bag));\r\n\t\t\t\tSystem.out.println(&quot;Delete an Item in the Array&quot;);\r\n\t\t\t\tintBag.delete(input.nextInt());\r\n\t\t\t\tbreak;\r\n\t\t\tcase 6:\r\n\t\t\t\tSystem.out.println(Arrays.toString(bag));\r\n\t\t\t\tSystem.out.println(&quot;Delete all Items in the Array&quot;);\r\n\t\t\t\tintBag.deleteAll(input.nextInt());\r\n\t\t\t\tbreak;\r\n\t\t\tcase 7:\r\n\t\t\t\tSystem.out.println(&quot;Size of Array: &quot; + intBag.size());\r\n\t\t\t\tbreak;\r\n\t\t\tcase 8:\r\n\t\t\t\tSystem.out.println(&quot;Empty the Array&quot;);\r\n\t\t\t\tintBag.empty();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 9:\r\n\t\t\t\tSystem.out.println(&quot;Print the Array&quot;);\r\n\t\t\t\tintBag.toArray();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 10:\r\n\t\t\t\tSystem.out.println(&quot;Change Length of Array&quot;);\r\n\t\t\t\tintBag.changeCapacity(input.nextInt());\r\n\t\t\t\tbreak;\r\n\t\t\tcase 11:\r\n\t\t\t\tSystem.out.println(&quot;toString&quot;);\r\n\t\t\t\tintBag.toString();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 12:\r\n\t\t\t\tSystem.out.println(&quot;toStringDescending&quot;);\r\n\t\t\t\tintBag.toStringDescending();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","title":"How to empty an array in Java?","body":"<p>I'm working on a project using Partially Filled Arrays. I am having trouble with the empty method. The intention is to empty an array thus the size of the array should be equal to zero. Instead, my method changes the elements of the array to be equal to 0. If I was to print the size of the array it would give me a number other than 0. How can I fix this?</p>\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.Scanner;\nimport java.util.Arrays;\n\npublic class IntBag {\n    private int capacity;\n    private String fileName;\n    private int[] bag;\n\n    public void intBag() {\n\n    }\n\n    public void intBag(int capacity) {\n        capacity = this.capacity;\n    }\n\n    public void intBag(IntBag other) {\n        other.capacity = this.capacity;\n        other.fileName = this.fileName;\n        other.bag = this.bag;\n    }\n\n    public void empty() {\n        Arrays.fill(bag, 0);\n    }\n\n    public static void main(String[] args) throws FileNotFoundException {\n        Scanner input = new Scanner(System.in);\n        IntBag intBag = new IntBag();\n        int[] bag = new int[20];\n        intBag.bag = bag;\n        boolean done = false;\n\n        while (!done) {\n            System.out.println(Arrays.toString(bag));\n            System.out.println(&quot;1. Add an Item to the Array&quot;);\n            System.out.println(&quot;2. Replace an Item in the Array&quot;);\n            System.out.println(&quot;3. Replace every item in the Array&quot;);\n            System.out.println(&quot;4. Look for an Item in the Array&quot;);\n            System.out.println(&quot;5. Delete an Item in the Array&quot;);\n            System.out.println(&quot;6. Delete all Items in the Array&quot;);\n            System.out.println(&quot;7. Size of Array&quot;);\n            System.out.println(&quot;8. Empty the Array&quot;);\n            System.out.println(&quot;9. Print the Array&quot;);\n            System.out.println(&quot;10. Change Length of Array&quot;);\n            System.out.println(&quot;11. toString&quot;);\n            System.out.println(&quot;12. toStringDescending&quot;);\n            switch (input.nextInt()) {\n            case 1:\n                System.out.println(Arrays.toString(bag));\n                System.out.println(&quot;Add an Item to the Array&quot;);\n                intBag.add(input.nextInt());\n                break;\n            case 2:\n                System.out.println(Arrays.toString(bag));\n                System.out.println(&quot;Replace an Item in the Array&quot;);\n                intBag.replace(input.nextInt(), input.nextInt());\n                break;\n            case 3:\n                System.out.println(Arrays.toString(bag));\n                System.out.println(&quot;Replace every item in the Array&quot;);\n                intBag.replaceAll(input.nextInt(), input.nextInt());\n                break;\n            case 4:\n                System.out.println(Arrays.toString(bag));\n                System.out.println(&quot;Look for an Item in Array&quot;);\n                intBag.contains(input.nextInt());\n                break;\n            case 5:\n                System.out.println(Arrays.toString(bag));\n                System.out.println(&quot;Delete an Item in the Array&quot;);\n                intBag.delete(input.nextInt());\n                break;\n            case 6:\n                System.out.println(Arrays.toString(bag));\n                System.out.println(&quot;Delete all Items in the Array&quot;);\n                intBag.deleteAll(input.nextInt());\n                break;\n            case 7:\n                System.out.println(&quot;Size of Array: &quot; + intBag.size());\n                break;\n            case 8:\n                System.out.println(&quot;Empty the Array&quot;);\n                intBag.empty();\n                break;\n            case 9:\n                System.out.println(&quot;Print the Array&quot;);\n                intBag.toArray();\n                break;\n            case 10:\n                System.out.println(&quot;Change Length of Array&quot;);\n                intBag.changeCapacity(input.nextInt());\n                break;\n            case 11:\n                System.out.println(&quot;toString&quot;);\n                intBag.toString();\n                break;\n            case 12:\n                System.out.println(&quot;toStringDescending&quot;);\n                intBag.toStringDescending();\n                break;\n            }\n\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","jakarta-ee","servlets","servlet-filters"],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1319880831,"creation_date":1319880831,"answer_id":7938067,"question_id":7938050,"body_markdown":"In the order their mappings are defined in web.xml\r\n\r\nIf using annotations (`@WebFilter`) the order [seems to be undefined][1] - you still have to declare the `&lt;filter-mapping&gt;` entries in web.xml.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6560969/how-to-define-servlet-filter-order-of-execution-using-annotations","title":"What will be the order in which filters will be called?","body":"<p>In the order their mappings are defined in web.xml</p>\n\n<p>If using annotations (<code>@WebFilter</code>) the order <a href=\"https://stackoverflow.com/questions/6560969/how-to-define-servlet-filter-order-of-execution-using-annotations\">seems to be undefined</a> - you still have to declare the <code>&lt;filter-mapping&gt;</code> entries in web.xml.</p>\n"},{"tags":[],"owner":{"account_id":20633,"reputation":17376,"user_id":49489,"accept_rate":100,"display_name":"Barend"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1319881543,"creation_date":1319881543,"answer_id":7938118,"question_id":7938050,"body_markdown":"Section 6.2.4 of the [Servlet specification 3.0](http://download.oracle.com/otndocs/jcp/servlet-3.0-fr-eval-oth-JSpec/):\n\n&gt; When processing a `&lt;filter-mapping&gt;` element using the `&lt;url-pattern&gt;` style, the container must determine whether the `&lt;url-pattern&gt;` matches the request URI using the path mapping rules defined in Chapter 12, â€œMapping Requests to Servletsâ€.\n&gt;\n&gt;The order the container uses in building the chain of filters to be applied for a particular request URI is as follows:\n&gt;\n&gt;1. First, the `&lt;url-pattern&gt;` matching filter mappings in the same order that these elements appear in the deployment descriptor.\n&gt;\n&gt;2. Next, the `&lt;servlet-name&gt;` matching filter mappings in the same order that these elements appear in the deployment descriptor.\n&gt;\n&gt; If a filter mapping contains both `&lt;servlet-name&gt;` and `&lt;url-pattern&gt;`, the container must expand the filter mapping into multiple filter mappings (one for each `&lt;servlet-name&gt;` and `&lt;url-pattern&gt;`), preserving the order of the `&lt;servlet-name&gt;` and `&lt;url-pattern&gt;` elements.\n\nIn short: they&#39;re applied in the order in which they appear in the XML file. It gets interesting if you hit an URL that&#39;s covered by both `&lt;url-pattern&gt;` and `&lt;servlet-name&gt;` bound filters, because then all URL-pattern bound filters are applied before all servlet-name bound filters. I&#39;ve never been in this situation (haven&#39;t seen any servlet-name bound filters at all), but I reckon it could be quite confusing.","title":"What will be the order in which filters will be called?","body":"<p>Section 6.2.4 of the <a href=\"http://download.oracle.com/otndocs/jcp/servlet-3.0-fr-eval-oth-JSpec/\" rel=\"noreferrer\">Servlet specification 3.0</a>:</p>\n<blockquote>\n<p>When processing a <code>&lt;filter-mapping&gt;</code> element using the <code>&lt;url-pattern&gt;</code> style, the container must determine whether the <code>&lt;url-pattern&gt;</code> matches the request URI using the path mapping rules defined in Chapter 12, â€œMapping Requests to Servletsâ€.</p>\n<p>The order the container uses in building the chain of filters to be applied for a particular request URI is as follows:</p>\n<ol>\n<li><p>First, the <code>&lt;url-pattern&gt;</code> matching filter mappings in the same order that these elements appear in the deployment descriptor.</p>\n</li>\n<li><p>Next, the <code>&lt;servlet-name&gt;</code> matching filter mappings in the same order that these elements appear in the deployment descriptor.</p>\n</li>\n</ol>\n<p>If a filter mapping contains both <code>&lt;servlet-name&gt;</code> and <code>&lt;url-pattern&gt;</code>, the container must expand the filter mapping into multiple filter mappings (one for each <code>&lt;servlet-name&gt;</code> and <code>&lt;url-pattern&gt;</code>), preserving the order of the <code>&lt;servlet-name&gt;</code> and <code>&lt;url-pattern&gt;</code> elements.</p>\n</blockquote>\n<p>In short: they're applied in the order in which they appear in the XML file. It gets interesting if you hit an URL that's covered by both <code>&lt;url-pattern&gt;</code> and <code>&lt;servlet-name&gt;</code> bound filters, because then all URL-pattern bound filters are applied before all servlet-name bound filters. I've never been in this situation (haven't seen any servlet-name bound filters at all), but I reckon it could be quite confusing.</p>\n"}],"owner":{"account_id":1005769,"reputation":425,"user_id":1019597,"display_name":"Xyzxyz Xyz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45756,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"closed_date":1409770478,"accepted_answer_id":7938067,"answer_count":2,"score":31,"last_activity_date":1633329795,"creation_date":1319880628,"question_id":7938050,"body_markdown":"Suppose I have following in my web.xml\r\n\r\n&lt;!-- language: xml --&gt;\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;F1&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/XYZ/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;F2&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/XYZ/abc.do&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;F3&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\nWhat will be the order in which the filters will be called if a request comes as /XYZ/abc.do and why?\r\n\r\n","title":"What will be the order in which filters will be called?","body":"<p>Suppose I have following in my web.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;filter-mapping&gt;\n    &lt;filter-name&gt;F1&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/XYZ/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;F2&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/XYZ/abc.do&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;F3&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n<p>What will be the order in which the filters will be called if a request comes as /XYZ/abc.do and why?</p>\n"},{"tags":["java","android","kotlin","sensors","compass"],"answers":[{"tags":[],"owner":{"account_id":4424578,"reputation":1498,"user_id":3603386,"display_name":"Simone"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633329669,"creation_date":1633329669,"answer_id":69431837,"question_id":69431625,"body_markdown":"For the compass functionality you have to check `Sensor.TYPE_MAGNETIC_FIELD`:\r\n\r\n\r\n    sensorManager = (SensorManager) getSystemService(Context.SENSOR_SERVICE);\r\n    if (sensorManager.getDefaultSensor(Sensor.TYPE_MAGNETIC_FIELD) != null){\r\n        // Success! There&#39;s a magnetometer.\r\n    } else {\r\n        // Failure! No magnetometer.\r\n    }\r\n\r\n","title":"Which sensor is responsible for compass functionality in Kotlin?","body":"<p>For the compass functionality you have to check <code>Sensor.TYPE_MAGNETIC_FIELD</code>:</p>\n<pre><code>sensorManager = (SensorManager) getSystemService(Context.SENSOR_SERVICE);\nif (sensorManager.getDefaultSensor(Sensor.TYPE_MAGNETIC_FIELD) != null){\n    // Success! There's a magnetometer.\n} else {\n    // Failure! No magnetometer.\n}\n</code></pre>\n"}],"owner":{"account_id":21156492,"reputation":353,"user_id":15555644,"display_name":"Enigma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":471,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69431837,"answer_count":1,"score":-1,"last_activity_date":1633329669,"creation_date":1633328232,"question_id":69431625,"body_markdown":"i have a compass page in my app but as far as i know there are some devices that doesn&#39;t support compass (no built-in sensor)\r\n\r\nwhat i am trying to do here is navigate the user to another page in case there is no sensor in their device as follow:\r\n\r\n    val msensorManager = getSystemService(SENSOR_SERVICE) as SensorManager\r\n        if (msensorManager.getSensorList(Sensor.TYPE_ACCELEROMETER).size &gt; 0) {\r\n\r\n        } else {\r\n\r\n        }\r\n\r\nbut i am not sure which Sensor type is responsible for compass functionality \r\n\r\nis the above code correct?","title":"Which sensor is responsible for compass functionality in Kotlin?","body":"<p>i have a compass page in my app but as far as i know there are some devices that doesn't support compass (no built-in sensor)</p>\n<p>what i am trying to do here is navigate the user to another page in case there is no sensor in their device as follow:</p>\n<pre><code>val msensorManager = getSystemService(SENSOR_SERVICE) as SensorManager\n    if (msensorManager.getSensorList(Sensor.TYPE_ACCELEROMETER).size &gt; 0) {\n\n    } else {\n\n    }\n</code></pre>\n<p>but i am not sure which Sensor type is responsible for compass functionality</p>\n<p>is the above code correct?</p>\n"},{"tags":["java","sql","spring","postgresql"],"comments":[{"owner":{"account_id":4468601,"reputation":7627,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"score":0,"creation_date":1633336609,"post_id":69431557,"comment_id":122722919,"body_markdown":"You query is native, have you ran it on your database to see if it works and returns results? If yes then try to debug your `SchedulerService`  at `List&lt;ClientDto&gt; clientDtos = clientService.getAll().stream().map(ClientDto::new).collect(Collectors.toList());` and check if this `List&lt;ClientDto&gt;` is not empty. If all the above work correctly then check your `ClientDto#toString()` method if it produces anything.","body":"You query is native, have you ran it on your database to see if it works and returns results? If yes then try to debug your <code>SchedulerService</code>  at <code>List&lt;ClientDto&gt; clientDtos = clientService.getAll().stream().map(ClientDto::new).collect(&zwnj;&#8203;Collectors.toList())&zwnj;&#8203;;</code> and check if this <code>List&lt;ClientDto&gt;</code> is not empty. If all the above work correctly then check your <code>ClientDto#toString()</code> method if it produces anything."}],"answers":[{"tags":[],"owner":{"account_id":10433138,"reputation":984,"user_id":7692352,"display_name":"Aris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633328941,"creation_date":1633328941,"answer_id":69431729,"question_id":69431557,"body_markdown":"You must invoke the `close()` method of the `Writer`, otherwise, it won&#39;t write\r\nthe current buffer on your file. \r\n\r\nAdd this code at the end of your `try` block:\r\n```\r\n...\r\nwriter.close();\r\n...\r\n```\r\n\r\nor create a finally block.","title":"When exporting from the database, an empty csv file is created","body":"<p>You must invoke the <code>close()</code> method of the <code>Writer</code>, otherwise, it won't write\nthe current buffer on your file.</p>\n<p>Add this code at the end of your <code>try</code> block:</p>\n<pre><code>...\nwriter.close();\n...\n</code></pre>\n<p>or create a finally block.</p>\n"}],"owner":{"account_id":22660504,"reputation":41,"user_id":16833657,"display_name":"Alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69431729,"answer_count":1,"score":1,"last_activity_date":1633328941,"creation_date":1633327700,"question_id":69431557,"body_markdown":"    public interface Client {\r\n    \r\n        Long getId();\r\n        @JsonFormat(shape = JsonFormat.Shape.STRING)\r\n        LocalDate getCreated_dt();\r\n        String getUsername();\r\n        String getName();\r\n        int getAmount();\r\n        String getStatus();\r\n        String getAccount();\r\n        String getExternal_id();\r\n        String getExternal_status();\r\n    }\r\n\r\n\r\nDTO\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @ToString\r\n    \r\n    public class ClientDto {\r\n        private Long id;\r\n        @JsonFormat(shape = JsonFormat.Shape.STRING)\r\n        private LocalDate created_dt;\r\n        private String username;\r\n        private String name;\r\n        private int amount;\r\n        private String status;\r\n        private String account;\r\n        private String external_id;\r\n        private String external_status;\r\n    \r\n        public ClientDto(Client client) {\r\n            this.id = client.getId();\r\n            /...\r\n            /...\r\n            this.external_status = client.getExternal_status();\r\n        }\r\n    \r\n        public ClientDto(ClientDto clientDto) {\r\n            this.id = clientDto.getId();\r\n            \r\n            /...\r\n\r\n            this.external_status = clientDto.getExternal_status();\r\n        }\r\n    \r\n        public ClientDto(ClientEntity clientEntity) {\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;&quot; + id + &quot;|&quot; + created_dt + &quot;|&quot; + username + &quot;|&quot; + name +\r\n                    &quot;|&quot; + amount + &quot;|&quot; + status + &quot;|&quot; + account + &quot;|&quot; + external_id + &quot;|&quot; + external_status;\r\n        }\r\n    }\r\n\r\n\r\nEntity\r\n\r\n    @Getter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Immutable\r\n    @Entity\r\n    @Table(name = &quot;payments&quot;, schema = &quot;public&quot;)\r\n    public class ClientEntity {\r\n    \r\n        @Id\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;created_dt&quot;)\r\n        private LocalDate created_dt;\r\n    \r\n        @Column(name = &quot;username&quot;)\r\n        private String username;\r\n    \r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n    \r\n        @Column(name = &quot;amount&quot;)\r\n        private int amount;\r\n    \r\n        @Column(name = &quot;status&quot;)\r\n        private String status;\r\n    \r\n        @Column(name = &quot;account&quot;)\r\n        private String account;\r\n    \r\n        @Column(name = &quot;external_id&quot;)\r\n        private String external_id;\r\n    \r\n        @Column(name = &quot;external_status&quot;)\r\n        private String external_status;\r\n    }\r\n\r\nRepository\r\n\r\n    @Repository\r\n    public interface ClientRepository extends JpaRepository&lt;ClientEntity, Long&gt; {\r\n    \r\n        @Modifying\r\n        @Transactional\r\n        @Query(value = &quot;SELECT pp.id, TO_CHAR(pp.created_dt::date, &#39;dd.mm.yyyy&#39;)\\n&quot; +\r\n                   &quot;AS &#39;Data&#39;, CAST(pp.created_dt AS time(0)) AS &#39;Time&#39;, au.username AS &#39;UserName&#39;,\\n&quot; +\r\n                   &quot;ss.name AS &#39;Service&#39;, pp.amount AS &#39;Amount&#39;,\\n&quot; +\r\n                   &quot;REPLACE(pp.status, &#39;SUCCESS&#39;, &#39;Success&#39;) AS &#39;Payment_status&#39;, pp.account AS &#39;Account&#39;,\\n&quot; +\r\n                   &quot;pp.external_id AS &#39;Idn&#39;, COALESCE(pp.external_status, null, &#39;DN&#39;)\\n&quot; +\r\n                   &quot;AS &#39;Stat&#39;\\n&quot; +\r\n                   &quot;FROM payments AS pp\\n&quot; +\r\n                   &quot;INNER JOIN user AS au ON au.id = pp.creator_id\\n&quot; +\r\n                   &quot;INNER JOIN services AS ss ON ss.id = pp.service_id\\n&quot; +\r\n                   &quot;WHERE pp.created_dt &gt;= &#39;2021-09-28&#39;\\n&quot; +\r\n                   &quot;AND ss.name = &#39;Faberlic&#39; AND pp.status = &#39;SUCCESS&#39;&quot;, nativeQuery = true)\r\n        List&lt;Client&gt; getAllByRegDate();\r\n    }\r\n\r\nService\r\n\r\n    @Service\r\n    public class ClientServiceImpl implements ClientService {\r\n    \r\n       \r\n        private final ClientRepository clientRepository;\r\n    \r\n        @Autowired\r\n        public ClientServiceImpl(ClientRepository clientRepository) {\r\n            this.clientRepository = clientRepository;\r\n            JaroWinklerDistance jaroWinklerDistance = new JaroWinklerDistance();\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;ClientDto&gt; getAll() {\r\n            return clientRepository.findAll()\r\n                    .stream()\r\n                    .map(ClientDto::new)\r\n                    .collect(Collectors.toList());\r\n        }\r\n    \r\n        @Override\r\n        public Page&lt;ClientEntity&gt; getAll(Pageable paging) {\r\n            return clientRepository.findAll(paging);\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;ClientDto&gt; getAllByRegDateAfter() {\r\n            return clientRepository.getAllByRegDate()\r\n                    .stream()\r\n                    .map(ClientDto::new)\r\n                    .collect(Collectors.toList());\r\n        }\r\n    \r\n        @Override\r\n        public DefaultExcelGeneratorServiceImpl&lt;ClientDto&gt; exportToExcel() {\r\n            List&lt;ClientDto&gt; list = this.getAll();\r\n            ExcelView excelView = new ExcelView();\r\n            List&lt;ExcelView&gt; views = excelView.viewBuilder();\r\n            return new DefaultExcelGeneratorServiceImpl&lt;&gt;(list, views);\r\n        }\r\n    }\r\n\r\n    public interface ClientService {\r\n        public List&lt;ClientDto&gt; getAll();\r\n        public Page&lt;ClientEntity&gt; getAll(Pageable paging);\r\n        public List&lt;ClientDto&gt; getAllByRegDateAfter();\r\n        DefaultExcelGeneratorServiceImpl&lt;ClientDto&gt; exportToExcel();\r\n    }\r\n\r\nScheduler\r\n\r\n    @Component\r\n    public class SchedulerService {\r\n    \r\n        private final ClientService clientService;\r\n    \r\n        @Autowired\r\n        public SchedulerService(ClientService clientService) {\r\n            this.clientService = clientService;\r\n        }\r\n    \r\n        @Scheduled(fixedRate = 5000)\r\n        public void downloadBlockedClients() {\r\n            try {\r\n                List&lt;ClientDto&gt; clientDtos = clientService.getAll().stream().map(ClientDto::new).collect(Collectors.toList());\r\n                String fileName = &quot;select.csv&quot;;\r\n                File file = new File(fileName);\r\n                FileOutputStream outputStream = new FileOutputStream(file);\r\n    \r\n                Writer writer = Channels.newWriter(outputStream.getChannel(), &quot;UTF-8&quot;);\r\n                writer.append(&quot;id|created_dt|username|name|amount|status|account|external_id|external_status&quot;).append(&quot;\\n&quot;);\r\n                for (ClientDto dto : clientDtos) {\r\n                    writer.append(dto.toString()).append(&quot;\\n&quot;);\r\n                }\r\n                   \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n\r\n\r\n\r\n\r\nI am making a selection from a database and trying to save this data to a csv file. There are no errors. However, the csv file is kept blank. \r\nPerhaps this is a problem in the methods that I use, or rather in the use of Entity. I can&#39;t find the answer.      \r\nPlus, created_at must be split into two columns (one for the date and the other for the time).\r\n\r\n\r\n    \r\n","title":"When exporting from the database, an empty csv file is created","body":"<pre><code>public interface Client {\n\n    Long getId();\n    @JsonFormat(shape = JsonFormat.Shape.STRING)\n    LocalDate getCreated_dt();\n    String getUsername();\n    String getName();\n    int getAmount();\n    String getStatus();\n    String getAccount();\n    String getExternal_id();\n    String getExternal_status();\n}\n</code></pre>\n<p>DTO</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\n\npublic class ClientDto {\n    private Long id;\n    @JsonFormat(shape = JsonFormat.Shape.STRING)\n    private LocalDate created_dt;\n    private String username;\n    private String name;\n    private int amount;\n    private String status;\n    private String account;\n    private String external_id;\n    private String external_status;\n\n    public ClientDto(Client client) {\n        this.id = client.getId();\n        /...\n        /...\n        this.external_status = client.getExternal_status();\n    }\n\n    public ClientDto(ClientDto clientDto) {\n        this.id = clientDto.getId();\n        \n        /...\n\n        this.external_status = clientDto.getExternal_status();\n    }\n\n    public ClientDto(ClientEntity clientEntity) {\n    }\n\n    @Override\n    public String toString() {\n        return &quot;&quot; + id + &quot;|&quot; + created_dt + &quot;|&quot; + username + &quot;|&quot; + name +\n                &quot;|&quot; + amount + &quot;|&quot; + status + &quot;|&quot; + account + &quot;|&quot; + external_id + &quot;|&quot; + external_status;\n    }\n}\n</code></pre>\n<p>Entity</p>\n<pre><code>@Getter\n@NoArgsConstructor\n@AllArgsConstructor\n@Immutable\n@Entity\n@Table(name = &quot;payments&quot;, schema = &quot;public&quot;)\npublic class ClientEntity {\n\n    @Id\n    private Long id;\n\n    @Column(name = &quot;created_dt&quot;)\n    private LocalDate created_dt;\n\n    @Column(name = &quot;username&quot;)\n    private String username;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;amount&quot;)\n    private int amount;\n\n    @Column(name = &quot;status&quot;)\n    private String status;\n\n    @Column(name = &quot;account&quot;)\n    private String account;\n\n    @Column(name = &quot;external_id&quot;)\n    private String external_id;\n\n    @Column(name = &quot;external_status&quot;)\n    private String external_status;\n}\n</code></pre>\n<p>Repository</p>\n<pre><code>@Repository\npublic interface ClientRepository extends JpaRepository&lt;ClientEntity, Long&gt; {\n\n    @Modifying\n    @Transactional\n    @Query(value = &quot;SELECT pp.id, TO_CHAR(pp.created_dt::date, 'dd.mm.yyyy')\\n&quot; +\n               &quot;AS 'Data', CAST(pp.created_dt AS time(0)) AS 'Time', au.username AS 'UserName',\\n&quot; +\n               &quot;ss.name AS 'Service', pp.amount AS 'Amount',\\n&quot; +\n               &quot;REPLACE(pp.status, 'SUCCESS', 'Success') AS 'Payment_status', pp.account AS 'Account',\\n&quot; +\n               &quot;pp.external_id AS 'Idn', COALESCE(pp.external_status, null, 'DN')\\n&quot; +\n               &quot;AS 'Stat'\\n&quot; +\n               &quot;FROM payments AS pp\\n&quot; +\n               &quot;INNER JOIN user AS au ON au.id = pp.creator_id\\n&quot; +\n               &quot;INNER JOIN services AS ss ON ss.id = pp.service_id\\n&quot; +\n               &quot;WHERE pp.created_dt &gt;= '2021-09-28'\\n&quot; +\n               &quot;AND ss.name = 'Faberlic' AND pp.status = 'SUCCESS'&quot;, nativeQuery = true)\n    List&lt;Client&gt; getAllByRegDate();\n}\n</code></pre>\n<p>Service</p>\n<pre><code>@Service\npublic class ClientServiceImpl implements ClientService {\n\n   \n    private final ClientRepository clientRepository;\n\n    @Autowired\n    public ClientServiceImpl(ClientRepository clientRepository) {\n        this.clientRepository = clientRepository;\n        JaroWinklerDistance jaroWinklerDistance = new JaroWinklerDistance();\n    }\n\n    @Override\n    public List&lt;ClientDto&gt; getAll() {\n        return clientRepository.findAll()\n                .stream()\n                .map(ClientDto::new)\n                .collect(Collectors.toList());\n    }\n\n    @Override\n    public Page&lt;ClientEntity&gt; getAll(Pageable paging) {\n        return clientRepository.findAll(paging);\n    }\n\n    @Override\n    public List&lt;ClientDto&gt; getAllByRegDateAfter() {\n        return clientRepository.getAllByRegDate()\n                .stream()\n                .map(ClientDto::new)\n                .collect(Collectors.toList());\n    }\n\n    @Override\n    public DefaultExcelGeneratorServiceImpl&lt;ClientDto&gt; exportToExcel() {\n        List&lt;ClientDto&gt; list = this.getAll();\n        ExcelView excelView = new ExcelView();\n        List&lt;ExcelView&gt; views = excelView.viewBuilder();\n        return new DefaultExcelGeneratorServiceImpl&lt;&gt;(list, views);\n    }\n}\n\npublic interface ClientService {\n    public List&lt;ClientDto&gt; getAll();\n    public Page&lt;ClientEntity&gt; getAll(Pageable paging);\n    public List&lt;ClientDto&gt; getAllByRegDateAfter();\n    DefaultExcelGeneratorServiceImpl&lt;ClientDto&gt; exportToExcel();\n}\n</code></pre>\n<p>Scheduler</p>\n<pre><code>@Component\npublic class SchedulerService {\n\n    private final ClientService clientService;\n\n    @Autowired\n    public SchedulerService(ClientService clientService) {\n        this.clientService = clientService;\n    }\n\n    @Scheduled(fixedRate = 5000)\n    public void downloadBlockedClients() {\n        try {\n            List&lt;ClientDto&gt; clientDtos = clientService.getAll().stream().map(ClientDto::new).collect(Collectors.toList());\n            String fileName = &quot;select.csv&quot;;\n            File file = new File(fileName);\n            FileOutputStream outputStream = new FileOutputStream(file);\n\n            Writer writer = Channels.newWriter(outputStream.getChannel(), &quot;UTF-8&quot;);\n            writer.append(&quot;id|created_dt|username|name|amount|status|account|external_id|external_status&quot;).append(&quot;\\n&quot;);\n            for (ClientDto dto : clientDtos) {\n                writer.append(dto.toString()).append(&quot;\\n&quot;);\n            }\n               \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>I am making a selection from a database and trying to save this data to a csv file. There are no errors. However, the csv file is kept blank.\nPerhaps this is a problem in the methods that I use, or rather in the use of Entity. I can't find the answer.<br />\nPlus, created_at must be split into two columns (one for the date and the other for the time).</p>\n"},{"tags":["java","eclipse","eclipse-plugin","eclipse-rcp"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1531559650,"post_id":51336889,"comment_id":89648675,"body_markdown":"I don&#39;t think you can, the RetargetAction stuff doesn&#39;t have a declarative contribution.","body":"I don&#39;t think you can, the RetargetAction stuff doesn&#39;t have a declarative contribution."},{"owner":{"account_id":947184,"reputation":48994,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"score":0,"creation_date":1531559992,"post_id":51336889,"comment_id":89648739,"body_markdown":"How do you handle the case when you contribute a command to a popup menu, but you also want that command to be the open action (double-click).","body":"How do you handle the case when you contribute a command to a popup menu, but you also want that command to be the open action (double-click)."},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1531560199,"post_id":51336889,"comment_id":89648803,"body_markdown":"The double click action generally has to be an `OpenListener` in the code that sets up to Tree/Table Viewer. The common navigator code may provide something else for that but since I don&#39;t use that I can&#39;t tell you what.","body":"The double click action generally has to be an <code>OpenListener</code> in the code that sets up to Tree/Table Viewer. The common navigator code may provide something else for that but since I don&#39;t use that I can&#39;t tell you what."},{"owner":{"account_id":947184,"reputation":48994,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"score":0,"creation_date":1531560249,"post_id":51336889,"comment_id":89648816,"body_markdown":"Ok, thanks greg-449.","body":"Ok, thanks greg-449."},{"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"score":0,"creation_date":1531561021,"post_id":51336889,"comment_id":89648983,"body_markdown":"I also had this issue. The best I could come up with was an adapter action that reflects appearance and enablement of the command it wraps and executes the command when run. Let me know if you would be interested in the sources.","body":"I also had this issue. The best I could come up with was an adapter action that reflects appearance and enablement of the command it wraps and executes the command when run. Let me know if you would be interested in the sources."},{"owner":{"account_id":947184,"reputation":48994,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"score":1,"creation_date":1531561372,"post_id":51336889,"comment_id":89649065,"body_markdown":"@R&#252;digerHerrmann Yes, I&#39;m interessted in that code. For now I copied the `org.eclipse.ui.internal.actions.CommandAction` and modified it. It works, but causes entries in the error log. So another solution would be nice.","body":"@R&#252;digerHerrmann Yes, I&#39;m interessted in that code. For now I copied the <code>org.eclipse.ui.internal.actions.CommandAction</code> and modified it. It works, but causes entries in the error log. So another solution would be nice."},{"owner":{"account_id":947184,"reputation":48994,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"score":1,"creation_date":1531567489,"post_id":51336889,"comment_id":89650445,"body_markdown":"@R&#252;digerHerrmann I just created an extension and a `GlobalActionProvider`. The `GlobalActionProvider` can be used as an `actionProvider` in a `org.eclipse.ui.navigator.navigatorContent` configuration. It reads contributions to it&#39;s own extension and creates `CommandAction`s that it binds as global action handler when it&#39;s `fillActionBars` is invoked. Works good and now it is completely declarative. :)","body":"@R&#252;digerHerrmann I just created an extension and a <code>GlobalActionProvider</code>. The <code>GlobalActionProvider</code> can be used as an <code>actionProvider</code> in a <code>org.eclipse.ui.navigator.navigatorContent</code> configuration. It reads contributions to it&#39;s own extension and creates <code>CommandAction</code>s that it binds as global action handler when it&#39;s <code>fillActionBars</code> is invoked. Works good and now it is completely declarative. :)"},{"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"score":0,"creation_date":1531655536,"post_id":51336889,"comment_id":89668788,"body_markdown":"Glad to read you solved your issue. Perhaps, you may want to self-answer your question if you think it is of general interest.","body":"Glad to read you solved your issue. Perhaps, you may want to self-answer your question if you think it is of general interest."}],"owner":{"account_id":947184,"reputation":48994,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633328672,"creation_date":1531558565,"question_id":51336889,"body_markdown":"Eclipse introduced the command framework some time ago and since then you can configure e.g. popup menues, toolbars, etc. declaratively. See [Menu Contributions][1].\r\n\r\nFor now I use a `CommonActionProvider` (as proposed [here][2]) to set a global action handler. e.g. for the `open` action that is used when a user double-clicks on an item in my view.\r\n  \r\n     private IAction myAction = ....;\r\n \r\n     public void fillActionBars(IActionBars actionBars){\r\n          if(myAction.isEnabled()){\r\n               actionBars.setGlobalActionHandler(ICommonActionConstants.OPEN, myAction);\r\n          }\r\n     }\r\n\r\nI want to use a declarative contribution instead, because I can use my command handlers then and do not need to create an action just to hook into the global action handler.\r\n\r\nThis approach would also be better, because I can then make use of the [Command Expressions][3].\r\n\r\nDoes anyone know how to do this?\r\n\r\nor \r\n\r\nDoes anyone know how to omit the re-definition of my command as an action?\r\nBecause I can&#39;t set a command as global action handler.\r\n\r\n\r\n  [1]: https://wiki.eclipse.org/Menu_Contributions\r\n  [2]: http://scribbledideas.blogspot.com/2006/06/building-common-navigator-_115067357450703178.html\r\n  [3]: https://wiki.eclipse.org/Command_Core_Expressions","title":"How to declaratively set a global action handler in eclipse rcp?","body":"<p>Eclipse introduced the command framework some time ago and since then you can configure e.g. popup menues, toolbars, etc. declaratively. See <a href=\"https://wiki.eclipse.org/Menu_Contributions\" rel=\"nofollow noreferrer\">Menu Contributions</a>.</p>\n\n<p>For now I use a <code>CommonActionProvider</code> (as proposed <a href=\"http://scribbledideas.blogspot.com/2006/06/building-common-navigator-_115067357450703178.html\" rel=\"nofollow noreferrer\">here</a>) to set a global action handler. e.g. for the <code>open</code> action that is used when a user double-clicks on an item in my view.</p>\n\n<pre><code> private IAction myAction = ....;\n\n public void fillActionBars(IActionBars actionBars){\n      if(myAction.isEnabled()){\n           actionBars.setGlobalActionHandler(ICommonActionConstants.OPEN, myAction);\n      }\n }\n</code></pre>\n\n<p>I want to use a declarative contribution instead, because I can use my command handlers then and do not need to create an action just to hook into the global action handler.</p>\n\n<p>This approach would also be better, because I can then make use of the <a href=\"https://wiki.eclipse.org/Command_Core_Expressions\" rel=\"nofollow noreferrer\">Command Expressions</a>.</p>\n\n<p>Does anyone know how to do this?</p>\n\n<p>or </p>\n\n<p>Does anyone know how to omit the re-definition of my command as an action?\nBecause I can't set a command as global action handler.</p>\n"},{"tags":["java","methods","naming-conventions","naming"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1578660559,"post_id":59679652,"comment_id":105520973,"body_markdown":"`hasName` or `containsName`. Only the caller knows that it wants to insert this name again, which is what makes it a duplicate. The method just checks whether the name does already exist.","body":"<code>hasName</code> or <code>containsName</code>. Only the caller knows that it wants to insert this name again, which is what makes it a duplicate. The method just checks whether the name does already exist."}],"answers":[{"tags":[],"owner":{"account_id":7654314,"reputation":1505,"user_id":5801823,"accept_rate":100,"display_name":"papaya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578654050,"creation_date":1578654050,"answer_id":59680365,"question_id":59679652,"body_markdown":"&gt;Methods should be verbs, in mixed case with the first letter lowercase and with the first letter of each internal word capitalised.  [ref.code-conventions-135099][1]\n\nBased on this you may be using ```isDuplicate()``` or ```isExisting()``` or ```isDuplicatedName()``` or ```isExistingName()```\n\n  [1]: https://www.oracle.com/technetwork/java/codeconventions-135099.html\n\n","title":"Duplicate vs Existed","body":"<blockquote>\n<p>Methods should be verbs, in mixed case with the first letter lowercase and with the first letter of each internal word capitalised.  <a href=\"https://www.oracle.com/technetwork/java/codeconventions-135099.html\" rel=\"nofollow noreferrer\">ref.code-conventions-135099</a></p>\n</blockquote>\n<p>Based on this you may be using <code>isDuplicate()</code> or <code>isExisting()</code> or <code>isDuplicatedName()</code> or <code>isExistingName()</code></p>\n"},{"tags":[],"owner":{"account_id":8976317,"reputation":1645,"user_id":6693037,"display_name":"Mehrdad HosseinNejad Yami"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1578655944,"creation_date":1578655944,"answer_id":59680864,"question_id":59679652,"body_markdown":"According to **Elegant Objects (Volume 1): Yegor Bugayenko**, in general, There are two types of methods.\r\n\r\n 1. **Builder methods**\r\n\r\n   These methods build something and return a new object.\r\n\r\n\r\n   &gt; Their names must be a noun.\r\n\r\n        Student student (Long id);\r\n        List&lt;Car&gt; cars ();\r\n        Long salary(Long id);\r\n\r\n\r\n\r\n 2. **Manipulator methods**\r\n\r\n   These methods always make a modification to data and return nothing.(always return **void**)\r\n   &gt; Their names must be a verb.\r\n\r\n        void save(Student student);\r\n        void print(String name);\r\n        void delete (Long id);\r\n        void persist(Student student);\r\n\r\n&gt; **So Builders build and manipulators manipulate**\r\n\r\nThere is a little exception for methods that return **boolean**.\r\nFor this type of method, It&#39;s better to use adjective for naming.\r\n\r\n       boolean empty();\r\n       boolean existent(Long id);\r\n       \r\n\r\nI would recommend you to use an adjective for your method naming and don&#39;t use ***&quot;is&quot;*** in your naming.\r\n\r\n**Names of your method could be:**\r\n\r\n    boolean productExistent(String name);\r\n    boolean productNameExistent(String name);\r\n    boolean nameExistent(String name);\r\n    boolean existent(String name);\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Duplicate vs Existed","body":"<p>According to <strong>Elegant Objects (Volume 1): Yegor Bugayenko</strong>, in general, There are two types of methods.</p>\n\n<ol>\n<li><p><strong>Builder methods</strong></p>\n\n<p>These methods build something and return a new object.</p>\n\n<blockquote>\n  <p>Their names must be a noun.</p>\n</blockquote>\n\n<pre><code>Student student (Long id);\nList&lt;Car&gt; cars ();\nLong salary(Long id);\n</code></pre></li>\n<li><p><strong>Manipulator methods</strong></p>\n\n<p>These methods always make a modification to data and return nothing.(always return <strong>void</strong>)</p>\n\n<blockquote>\n  <p>Their names must be a verb.</p>\n</blockquote>\n\n<pre><code>void save(Student student);\nvoid print(String name);\nvoid delete (Long id);\nvoid persist(Student student);\n</code></pre></li>\n</ol>\n\n<blockquote>\n  <p><strong>So Builders build and manipulators manipulate</strong></p>\n</blockquote>\n\n<p>There is a little exception for methods that return <strong>boolean</strong>.\nFor this type of method, It's better to use adjective for naming.</p>\n\n<pre><code>   boolean empty();\n   boolean existent(Long id);\n</code></pre>\n\n<p>I would recommend you to use an adjective for your method naming and don't use <strong><em>\"is\"</em></strong> in your naming.</p>\n\n<p><strong>Names of your method could be:</strong></p>\n\n<pre><code>boolean productExistent(String name);\nboolean productNameExistent(String name);\nboolean nameExistent(String name);\nboolean existent(String name);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13340559,"reputation":96,"user_id":9628920,"display_name":"Ilya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578663757,"creation_date":1578663757,"answer_id":59682895,"question_id":59679652,"body_markdown":".isDuplicated(_name) sounds like you ALREADY have more then one entity with given name.\r\n.isExist(_name) returns true &gt; then 0.\r\n\r\nThese methods for different cases.","title":"Duplicate vs Existed","body":"<p>.isDuplicated(_name) sounds like you ALREADY have more then one entity with given name.\n.isExist(_name) returns true > then 0.</p>\n\n<p>These methods for different cases.</p>\n"}],"owner":{"account_id":7421518,"reputation":861,"user_id":5645646,"accept_rate":17,"display_name":"Spring"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1578689525,"answer_count":3,"score":-2,"last_activity_date":1633327598,"creation_date":1578651329,"question_id":59679652,"body_markdown":"Let say I would like to insert a product. &lt;br&gt;\r\nHowever, before inserting it I need to check if its name already existed in a table product. \r\n\r\n&lt;br&gt;\r\n\r\nwhat is the suitable method&#39;s name? I am a bit confused about that.\r\n\r\n    isDuplicatedName(String _name)\r\n\r\n    isExistedName(String _name)\r\n\r\nSorry in advance if there are grammar errors. Thank you.","title":"Duplicate vs Existed","body":"<p>Let say I would like to insert a product. <br>\nHowever, before inserting it I need to check if its name already existed in a table product.</p>\n<br>\n<p>what is the suitable method's name? I am a bit confused about that.</p>\n<pre><code>isDuplicatedName(String _name)\n\nisExistedName(String _name)\n</code></pre>\n<p>Sorry in advance if there are grammar errors. Thank you.</p>\n"},{"tags":["java","checkbox","wicket"],"answers":[{"tags":[],"owner":{"account_id":1033508,"reputation":5661,"user_id":1041336,"display_name":"svenmeier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633178756,"creation_date":1633178756,"answer_id":69417041,"question_id":69415315,"body_markdown":"Simplest solution is to make those two checkboxes instance members of your components:\r\n\r\n    private CheckBox checkBox1;\r\n    private CheckBox checkBox2;\r\n\r\n    public YourComponent() {\r\n      checkBox1 = ...;\r\n      checkBox2 = ...;\r\n    }\r\n","title":"How to uncheck another checkbox (which is defined after the main checkbox) if the main checkbox is unchecked","body":"<p>Simplest solution is to make those two checkboxes instance members of your components:</p>\n<pre><code>private CheckBox checkBox1;\nprivate CheckBox checkBox2;\n\npublic YourComponent() {\n  checkBox1 = ...;\n  checkBox2 = ...;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633327360,"creation_date":1633198057,"answer_id":69419006,"question_id":69415315,"body_markdown":"    CheckBox checkBox1 = null;\r\n    CheckBox checkBox2 = null;\r\n\r\n    checkBox1 = new AjaxCheckBox(&quot;enableCheckBox1&quot;, new PropertyModel&lt;Boolean&gt;(channelModel, &quot;checkBox1&quot;)) {\r\n\r\n      @Override\r\n      protected void onUpdate(AjaxRequestTarget target) {\r\n        if (!getModelObject()) {\r\n           // How can I uncheck checkBox2 when checkBox1 is unchecked\r\n           checkBox2.setModelObject(false); // compilation error as checkBox2 is defined after this line.\r\n           target.add(checkBox2); // same compilation error\r\n        }\r\n      }\r\n    };\r\n\r\n\r\n    checkBox2 = new AjaxCheckBox(&quot;enableCheckbox2&quot;, new PropertyModel&lt;Boolean&gt;(channelModel, &quot;checkBox2&quot;)) {\r\n\r\n      @Override\r\n      protected void onUpdate(AjaxRequestTarget target) {\r\n        if (getModelObject()) {\r\n           checkBox1.setModelObject(true);\r\n           target.add(checkBox1);\r\n        }\r\n      }\r\n    };","title":"How to uncheck another checkbox (which is defined after the main checkbox) if the main checkbox is unchecked","body":"<pre><code>CheckBox checkBox1 = null;\nCheckBox checkBox2 = null;\n\ncheckBox1 = new AjaxCheckBox(&quot;enableCheckBox1&quot;, new PropertyModel&lt;Boolean&gt;(channelModel, &quot;checkBox1&quot;)) {\n\n  @Override\n  protected void onUpdate(AjaxRequestTarget target) {\n    if (!getModelObject()) {\n       // How can I uncheck checkBox2 when checkBox1 is unchecked\n       checkBox2.setModelObject(false); // compilation error as checkBox2 is defined after this line.\n       target.add(checkBox2); // same compilation error\n    }\n  }\n};\n\n\ncheckBox2 = new AjaxCheckBox(&quot;enableCheckbox2&quot;, new PropertyModel&lt;Boolean&gt;(channelModel, &quot;checkBox2&quot;)) {\n\n  @Override\n  protected void onUpdate(AjaxRequestTarget target) {\n    if (getModelObject()) {\n       checkBox1.setModelObject(true);\n       target.add(checkBox1);\n    }\n  }\n};\n</code></pre>\n"}],"owner":{"account_id":3671688,"reputation":3,"user_id":3058739,"display_name":"caurangzeb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633327360,"creation_date":1633163857,"question_id":69415315,"body_markdown":"I have two checkboxes like this:\r\n\r\n    CheckBox checkBox1 = new AjaxCheckBox(&quot;enableCheckBox1&quot;, new PropertyModel&lt;Boolean&gt;(channelModel, &quot;checkBox1&quot;)) {\r\n\r\n        @Override\r\n        protected void onUpdate(AjaxRequestTarget target) {\r\n            if (!getModelObject()) {\r\n               // How can I uncheck checkBox2 when checkBox1 is unchecked\r\n               checkBox2.setModelObject(false); // compilation error as checkBox2 is defined after this line.\r\n               target.add(checkBox2); // same compilation error\r\n            }\r\n        }\r\n    };\r\n    \r\n    CheckBox checkBox2 = new AjaxCheckBox(&quot;enableCheckbox2&quot;, new PropertyModel&lt;Boolean&gt;(channelModel, &quot;checkBox2&quot;)) {\r\n\r\n        @Override\r\n        protected void onUpdate(AjaxRequestTarget target) {\r\n            if (getModelObject()) {\r\n               checkBox1.setModelObject(true);\r\n               target.add(checkBox1);\r\n            }\r\n        }\r\n    };\r\n\r\nWhen I check checkBox2, I would like checkBox1 to be auto checked, which I am able to do. But if I want to uncheck checkBox2 if checkBox1 is unchecked, how do I do that? I am encountering compilation error as checkBox2 is defined after the line using it. Is there another way to get the checkBox property other than calling the instance? ","title":"How to uncheck another checkbox (which is defined after the main checkbox) if the main checkbox is unchecked","body":"<p>I have two checkboxes like this:</p>\n<pre><code>CheckBox checkBox1 = new AjaxCheckBox(&quot;enableCheckBox1&quot;, new PropertyModel&lt;Boolean&gt;(channelModel, &quot;checkBox1&quot;)) {\n\n    @Override\n    protected void onUpdate(AjaxRequestTarget target) {\n        if (!getModelObject()) {\n           // How can I uncheck checkBox2 when checkBox1 is unchecked\n           checkBox2.setModelObject(false); // compilation error as checkBox2 is defined after this line.\n           target.add(checkBox2); // same compilation error\n        }\n    }\n};\n\nCheckBox checkBox2 = new AjaxCheckBox(&quot;enableCheckbox2&quot;, new PropertyModel&lt;Boolean&gt;(channelModel, &quot;checkBox2&quot;)) {\n\n    @Override\n    protected void onUpdate(AjaxRequestTarget target) {\n        if (getModelObject()) {\n           checkBox1.setModelObject(true);\n           target.add(checkBox1);\n        }\n    }\n};\n</code></pre>\n<p>When I check checkBox2, I would like checkBox1 to be auto checked, which I am able to do. But if I want to uncheck checkBox2 if checkBox1 is unchecked, how do I do that? I am encountering compilation error as checkBox2 is defined after the line using it. Is there another way to get the checkBox property other than calling the instance?</p>\n"},{"tags":["java","linux","raspberry-pi","raspberry-pi4","java-16"],"comments":[{"owner":{"account_id":6661882,"reputation":355,"user_id":5140713,"display_name":"Konrad"},"score":0,"creation_date":1623220637,"post_id":67898586,"comment_id":120013095,"body_markdown":"Which one did you try? The Raspberry may need some of the &quot;_arm_&quot; based releases.","body":"Which one did you try? The Raspberry may need some of the &quot;<i>arm</i>&quot; based releases."},{"owner":{"account_id":19850231,"reputation":190,"user_id":14540869,"display_name":"resuther"},"score":0,"creation_date":1623223624,"post_id":67898586,"comment_id":120014266,"body_markdown":"Tried some ARM based ones and eventually got it to work thanks to this thread: [Reddit](https://www.reddit.com/r/raspberry_pi/comments/nvp14a/install_java_16_on_raspberry_pi_4/). Thanks for the help anyways :)","body":"Tried some ARM based ones and eventually got it to work thanks to this thread: <a href=\"https://www.reddit.com/r/raspberry_pi/comments/nvp14a/install_java_16_on_raspberry_pi_4/\" rel=\"nofollow noreferrer\">Reddit</a>. Thanks for the help anyways :)"},{"owner":{"account_id":12709521,"reputation":705,"user_id":9233560,"display_name":"gkhaos"},"score":0,"creation_date":1623420569,"post_id":67898586,"comment_id":120081892,"body_markdown":"Please have a look on this [answer](https://raspberrypi.stackexchange.com/questions/4683/how-to-install-the-java-jdk-on-raspberry-pi/4845) from RaspberryPi-SE","body":"Please have a look on this <a href=\"https://raspberrypi.stackexchange.com/questions/4683/how-to-install-the-java-jdk-on-raspberry-pi/4845\">answer</a> from RaspberryPi-SE"},{"owner":{"account_id":19850231,"reputation":190,"user_id":14540869,"display_name":"resuther"},"score":0,"creation_date":1624081715,"post_id":67898586,"comment_id":120265602,"body_markdown":"@gkhaos This question is for Java 16.","body":"@gkhaos This question is for Java 16."},{"owner":{"account_id":12709521,"reputation":705,"user_id":9233560,"display_name":"gkhaos"},"score":1,"creation_date":1624210240,"post_id":67898586,"comment_id":120290314,"body_markdown":"@resuther the answer is adaptable to any custom java installation","body":"@resuther the answer is adaptable to any custom java installation"},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":1,"creation_date":1625779979,"post_id":67898586,"comment_id":120726026,"body_markdown":"There is a raspberry pi forum here: http://raspberrypi.stackexchange.com","body":"There is a raspberry pi forum here: <a href=\"http://raspberrypi.stackexchange.com\">raspberrypi.stackexchange.com</a>"}],"answers":[{"tags":[],"owner":{"account_id":19850231,"reputation":190,"user_id":14540869,"display_name":"resuther"},"down_vote_count":1,"up_vote_count":14,"is_accepted":true,"score":13,"last_activity_date":1633327200,"creation_date":1623411703,"answer_id":67936404,"question_id":67898586,"body_markdown":"Answering my own question.\r\n\r\n`cd [minecraft directory here]`\r\n\r\n`wget https://github.com/AdoptOpenJDK/openjdk16-binaries/releases/download/jdk16u-2021-05-08-12-45/OpenJDK16U-jdk_arm_linux_hotspot_2021-05-08-12-45.tar.gz`\r\n\r\n`tar xzf OpenJDK16U-jdk_arm_linux_hotspot_2021-05-08-12-45.tar.gz`\r\n\r\n`export PATH=$PWD/jdk-16.0.1+4/bin:$PATH`\r\n\r\n`java -version`\r\n\r\nYou might have to do\r\n`export PATH=$PWD/jdk-16.0.1+4/bin:$PATH`\r\nafter a reboot","title":"Install Java 16 on Raspberry Pi 4","body":"<p>Answering my own question.</p>\n<p><code>cd [minecraft directory here]</code></p>\n<p><code>wget https://github.com/AdoptOpenJDK/openjdk16-binaries/releases/download/jdk16u-2021-05-08-12-45/OpenJDK16U-jdk_arm_linux_hotspot_2021-05-08-12-45.tar.gz</code></p>\n<p><code>tar xzf OpenJDK16U-jdk_arm_linux_hotspot_2021-05-08-12-45.tar.gz</code></p>\n<p><code>export PATH=$PWD/jdk-16.0.1+4/bin:$PATH</code></p>\n<p><code>java -version</code></p>\n<p>You might have to do\n<code>export PATH=$PWD/jdk-16.0.1+4/bin:$PATH</code>\nafter a reboot</p>\n"}],"owner":{"account_id":19850231,"reputation":190,"user_id":14540869,"display_name":"resuther"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12871,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":67936404,"answer_count":1,"score":5,"last_activity_date":1633327200,"creation_date":1623219529,"question_id":67898586,"body_markdown":"I have tried multiple releases from [here](https://github.com/AdoptOpenJDK/openjdk16-binaries/releases/tag/jdk16u-2021-05-08-12-45) using :\r\n``` \r\nsudo -i \r\ncd /usr/lib/jvm\r\nwget [release link here]\r\ntar xzf [file name here]\r\nexport PATH=$PWD/[dir here]/bin:$PATH\r\njava -version\r\n```\r\nBut after `java -version` I always get:\r\n```\r\n/usr/lib/jvm/[dir here]/bin/java: cannot execute binary file: Exec format error\r\n```\r\nWhich means I have chosen the wrong release/architecture. Is there a release that works with Raspberry Pi&#39;s or is there another way to install Java 16? ","title":"Install Java 16 on Raspberry Pi 4","body":"<p>I have tried multiple releases from <a href=\"https://github.com/AdoptOpenJDK/openjdk16-binaries/releases/tag/jdk16u-2021-05-08-12-45\" rel=\"noreferrer\">here</a> using :</p>\n<pre><code>sudo -i \ncd /usr/lib/jvm\nwget [release link here]\ntar xzf [file name here]\nexport PATH=$PWD/[dir here]/bin:$PATH\njava -version\n</code></pre>\n<p>But after <code>java -version</code> I always get:</p>\n<pre><code>/usr/lib/jvm/[dir here]/bin/java: cannot execute binary file: Exec format error\n</code></pre>\n<p>Which means I have chosen the wrong release/architecture. Is there a release that works with Raspberry Pi's or is there another way to install Java 16?</p>\n"},{"tags":["java","multithreading","concurrency"],"comments":[{"owner":{"account_id":1598303,"reputation":12302,"user_id":1479895,"accept_rate":78,"display_name":"Anton Belev"},"score":1,"creation_date":1633170041,"post_id":69415931,"comment_id":122692482,"body_markdown":"I&#39;d first take out the thread pool and have a shared one instead of creating new one every time. You need to add instrumentation to measure performance as well, so you can tell if the changes you are making are effective.","body":"I&#39;d first take out the thread pool and have a shared one instead of creating new one every time. You need to add instrumentation to measure performance as well, so you can tell if the changes you are making are effective."},{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":0,"creation_date":1633249235,"post_id":69415931,"comment_id":122705195,"body_markdown":"Will this method  be called concurrently?","body":"Will this method  be called concurrently?"}],"answers":[{"tags":[],"owner":{"account_id":977507,"reputation":2280,"user_id":998126,"display_name":"Alexander Pavlov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633208933,"creation_date":1633208933,"answer_id":69420280,"question_id":69415931,"body_markdown":"First of all, use `executor.invokeAny()`. It will wait until one of the tasks is successfully completed and cancel the rest (so will replace almost all your code above).\r\n\r\nAbout creating thread pool on every method call - sometimes it makes sense. But at the beginning, I would start with the common pool (`ForkJoinPool.commonPool()`) or create your own **static** (==reusable) pool and only replace it with pool-per-method-call after analyzing performance.","title":"Java ExecutorService (Thread Pool): Wait for the first task (Future) to finish and return immediately","body":"<p>First of all, use <code>executor.invokeAny()</code>. It will wait until one of the tasks is successfully completed and cancel the rest (so will replace almost all your code above).</p>\n<p>About creating thread pool on every method call - sometimes it makes sense. But at the beginning, I would start with the common pool (<code>ForkJoinPool.commonPool()</code>) or create your own <strong>static</strong> (==reusable) pool and only replace it with pool-per-method-call after analyzing performance.</p>\n"},{"tags":[],"owner":{"account_id":2699313,"reputation":1142,"user_id":2330429,"accept_rate":60,"display_name":"DoOrDoNot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633327101,"creation_date":1633327101,"answer_id":69431478,"question_id":69415931,"body_markdown":"**Optimization 1:** \r\nCreate a static FixedThreadPool. \r\n\r\nYou can determine the thread-pool size by: (No. of concurrent calls to the fetchFastest method) x (urls.size())\r\n\r\nThis is better as the GC will not have clean the thread-pool instances that you created on each function call and the the static FixedThreadPool will be re-used.\r\n\r\n**Optimization 2:** Interrupt threads that are no longer needed.\r\n\r\nInterrupt all other threads once you get the first response. This is will save CPU cycles on busy wait and compute(if any).","title":"Java ExecutorService (Thread Pool): Wait for the first task (Future) to finish and return immediately","body":"<p><strong>Optimization 1:</strong>\nCreate a static FixedThreadPool.</p>\n<p>You can determine the thread-pool size by: (No. of concurrent calls to the fetchFastest method) x (urls.size())</p>\n<p>This is better as the GC will not have clean the thread-pool instances that you created on each function call and the the static FixedThreadPool will be re-used.</p>\n<p><strong>Optimization 2:</strong> Interrupt threads that are no longer needed.</p>\n<p>Interrupt all other threads once you get the first response. This is will save CPU cycles on busy wait and compute(if any).</p>\n"}],"owner":{"account_id":1895890,"reputation":4097,"user_id":1712880,"accept_rate":27,"display_name":"Hamid Mohayeji"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633327101,"creation_date":1633169625,"question_id":69415931,"body_markdown":"I need to call a few (less than 30) REST APIs concurrently, and immediately return the first response that I get from those API calls.\r\n\r\nI implemented a method like this:\r\n\r\n    public String fetchFastest(List&lt;URL&gt; urls) throws ExecutionException, InterruptedException {\r\n        var executor = Executors.newFixedThreadPool(urls.size());\r\n    \r\n        var futures = new ArrayList&lt;Future&lt;String&gt;&gt;();\r\n        urls.forEach(url -&gt; {\r\n            futures.add(\r\n                executor.submit(() -&gt; getResponse(url)) // performs a http request with timeout and returns the response (or null in the case of failure)\r\n            );\r\n        });\r\n    \r\n        var failed = new ArrayList&lt;Future&lt;String&gt;&gt;();\r\n        while (failed.size() &lt; futures.size()) {\r\n            for(var f: futures) {\r\n                if(f.isDone() &amp;&amp; !failed.contains(f)) {\r\n                    if(f.get() == null) {\r\n                        failed.add(f);\r\n                    }\r\n                    else {\r\n                        executor.shutdownNow();\r\n                        return f.get();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        throw new RuntimeException(&quot;No response.&quot;);\r\n    }\r\n\r\nThis approach seems to be working. However, given that this method is called frequently, and the fact that creating Thread Pools is an expensive task (and I am creating one with each method call), I wonder whether I can somehow improve this approach or find other solutions that are faster and have less computational cost.\r\n\r\nAny suggestions are welcome. Thank you in advance.","title":"Java ExecutorService (Thread Pool): Wait for the first task (Future) to finish and return immediately","body":"<p>I need to call a few (less than 30) REST APIs concurrently, and immediately return the first response that I get from those API calls.</p>\n<p>I implemented a method like this:</p>\n<pre><code>public String fetchFastest(List&lt;URL&gt; urls) throws ExecutionException, InterruptedException {\n    var executor = Executors.newFixedThreadPool(urls.size());\n\n    var futures = new ArrayList&lt;Future&lt;String&gt;&gt;();\n    urls.forEach(url -&gt; {\n        futures.add(\n            executor.submit(() -&gt; getResponse(url)) // performs a http request with timeout and returns the response (or null in the case of failure)\n        );\n    });\n\n    var failed = new ArrayList&lt;Future&lt;String&gt;&gt;();\n    while (failed.size() &lt; futures.size()) {\n        for(var f: futures) {\n            if(f.isDone() &amp;&amp; !failed.contains(f)) {\n                if(f.get() == null) {\n                    failed.add(f);\n                }\n                else {\n                    executor.shutdownNow();\n                    return f.get();\n                }\n            }\n        }\n    }\n\n    throw new RuntimeException(&quot;No response.&quot;);\n}\n</code></pre>\n<p>This approach seems to be working. However, given that this method is called frequently, and the fact that creating Thread Pools is an expensive task (and I am creating one with each method call), I wonder whether I can somehow improve this approach or find other solutions that are faster and have less computational cost.</p>\n<p>Any suggestions are welcome. Thank you in advance.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8017,"page":1975,"page_size":100}
