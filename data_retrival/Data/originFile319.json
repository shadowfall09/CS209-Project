{"items":[{"tags":["java","spring-boot","hikaricp"],"answers":[{"tags":[],"owner":{"account_id":19202492,"reputation":1,"user_id":14030125,"display_name":"Gabrielle Santos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688984185,"creation_date":1688576153,"answer_id":76622481,"question_id":76622259,"body_markdown":"Ensure that your DataSource bean is properly configured to use HikariCP as the connection pool:\r\n\r\n    @Configuration\r\n    public class DatabaseConfig {\r\n\r\n      @Bean\r\n      public DataSource dataSource() {\r\n          HikariDataSource dataSource = new HikariDataSource();\r\n          // Configure Hikari pool properties, such as database URL, username, password, etc.\r\n          return dataSource;\r\n      }\r\n    }\r\n\r\nUse the `@Scope(&quot;prototype&quot;)` annotation on the connection handling class to create a new instance for each thread:\r\n\r\n    @Component\r\n    @Scope(&quot;prototype&quot;)\r\n    public class ConnectionHandler {\r\n\r\n      private Connection connection;\r\n\r\n      public void openConnection() {\r\n          // Logic to open the database connection\r\n          // Use the DataSource to acquire a connection\r\n          this.connection = dataSource.getConnection();\r\n      }\r\n\r\n      public void closeConnection() {\r\n          // Logic to close the database connection\r\n          if (this.connection != null) {\r\n              try {\r\n                  this.connection.close();\r\n              } catch (SQLException e) {\r\n                  // Handle connection closing exception if necessary\r\n              }\r\n          }\r\n      }\r\n\r\n    // Methods to handle the connection\r\n    }\r\n\r\nUse the `ThreadLocal` class to ensure that each thread gets its own instance of the `ConnectionHandler`:\r\n\r\n    @Component\r\n    public class ConnectionHandlerProvider {\r\n      private ThreadLocal&lt;ConnectionHandler&gt; connectionHandlerThreadLocal = \r\n      new ThreadLocal&lt;&gt;();\r\n\r\n      public ConnectionHandler getConnectionHandler() {\r\n          ConnectionHandler connectionHandler = \r\n      connectionHandlerThreadLocal.get();\r\n          if (connectionHandler == null) {\r\n              connectionHandler = new ConnectionHandler();\r\n              connectionHandler.openConnection();\r\n              connectionHandlerThreadLocal.set(connectionHandler);\r\n          }\r\n          return connectionHandler;\r\n      }\r\n\r\n      public void releaseConnectionHandler() {\r\n          ConnectionHandler connectionHandler = \r\n      connectionHandlerThreadLocal.get();\r\n          if (connectionHandler != null) {\r\n              connectionHandler.closeConnection();\r\n              connectionHandlerThreadLocal.remove();\r\n          }\r\n      }\r\n    }\r\n\r\nWhen using the `ConnectionHandler`, obtain the instance from the `ConnectionHandlerProvider` and ensure that it is released after use:\r\n\r\n    @Service\r\n    public class MyService {\r\n\r\n      @Autowired\r\n      private ConnectionHandlerProvider connectionHandlerProvider;\r\n\r\n      public void doSomethingWithConnection() {\r\n          ConnectionHandler connectionHandler = \r\n      connectionHandlerProvider.getConnectionHandler();\r\n          try {\r\n              // Use the connection to execute queries or perform database \r\n      operations\r\n          } finally {\r\n              connectionHandlerProvider.releaseConnectionHandle();\r\n          }\r\n      }\r\n    }","title":"Debugging Hikari Pool connections in Spring Boot Application - See any identifier of each connection of the pool","body":"<p>Ensure that your DataSource bean is properly configured to use HikariCP as the connection pool:</p>\n<pre><code>@Configuration\npublic class DatabaseConfig {\n\n  @Bean\n  public DataSource dataSource() {\n      HikariDataSource dataSource = new HikariDataSource();\n      // Configure Hikari pool properties, such as database URL, username, password, etc.\n      return dataSource;\n  }\n}\n</code></pre>\n<p>Use the <code>@Scope(&quot;prototype&quot;)</code> annotation on the connection handling class to create a new instance for each thread:</p>\n<pre><code>@Component\n@Scope(&quot;prototype&quot;)\npublic class ConnectionHandler {\n\n  private Connection connection;\n\n  public void openConnection() {\n      // Logic to open the database connection\n      // Use the DataSource to acquire a connection\n      this.connection = dataSource.getConnection();\n  }\n\n  public void closeConnection() {\n      // Logic to close the database connection\n      if (this.connection != null) {\n          try {\n              this.connection.close();\n          } catch (SQLException e) {\n              // Handle connection closing exception if necessary\n          }\n      }\n  }\n\n// Methods to handle the connection\n}\n</code></pre>\n<p>Use the <code>ThreadLocal</code> class to ensure that each thread gets its own instance of the <code>ConnectionHandler</code>:</p>\n<pre><code>@Component\npublic class ConnectionHandlerProvider {\n  private ThreadLocal&lt;ConnectionHandler&gt; connectionHandlerThreadLocal = \n  new ThreadLocal&lt;&gt;();\n\n  public ConnectionHandler getConnectionHandler() {\n      ConnectionHandler connectionHandler = \n  connectionHandlerThreadLocal.get();\n      if (connectionHandler == null) {\n          connectionHandler = new ConnectionHandler();\n          connectionHandler.openConnection();\n          connectionHandlerThreadLocal.set(connectionHandler);\n      }\n      return connectionHandler;\n  }\n\n  public void releaseConnectionHandler() {\n      ConnectionHandler connectionHandler = \n  connectionHandlerThreadLocal.get();\n      if (connectionHandler != null) {\n          connectionHandler.closeConnection();\n          connectionHandlerThreadLocal.remove();\n      }\n  }\n}\n</code></pre>\n<p>When using the <code>ConnectionHandler</code>, obtain the instance from the <code>ConnectionHandlerProvider</code> and ensure that it is released after use:</p>\n<pre><code>@Service\npublic class MyService {\n\n  @Autowired\n  private ConnectionHandlerProvider connectionHandlerProvider;\n\n  public void doSomethingWithConnection() {\n      ConnectionHandler connectionHandler = \n  connectionHandlerProvider.getConnectionHandler();\n      try {\n          // Use the connection to execute queries or perform database \n  operations\n      } finally {\n          connectionHandlerProvider.releaseConnectionHandle();\n      }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":18936900,"reputation":46,"user_id":13819413,"display_name":"Diego Sanz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":581,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688984185,"creation_date":1688574061,"question_id":76622259,"body_markdown":"I have a Spring Boot application, where I have created a class which implements **DelegatingDataSource**. I use **Hikari pool**, and I have DEBUG level on their packages. I&#39;m facing some errors related to processes which try to execute a query, but it fails because the connection is closed. If I debug the API call, I never find the error, so any concurrency error should exist.\r\n\r\nI would like to see if there is any way of **printing any identifier of the connection pool**. I mean, I have configured a pool size of 50, and if I run the application I have some logs like this (x50 times):\r\n\r\n```\r\n... [onnection adder] com.zaxxer.hikari.pool.HikariPool        : tenantDataSource - Added connection org.postgresql.jdbc.PgConnection@6214982\r\n```\r\n\r\nIf, once the application starts, I debug into a connection object, it doesn&#39;t have the same hashcode of any of the connection pool. So, my main question is: **Is there any way to print an ID or something similar in order to identify the connection of the pool I&#39;m using?** I would expect something like:\r\n\r\n```\r\nConnection connection = getTargetDataSource().getConnection();\r\nlog.info(&quot;I have the connection with ID&quot; + connection.getSomeIdentifier());\r\n```\r\n\r\nIf I have this log, I would be able to debug in staging environment, so I can find if any process are closing a connection which is used by other thread/process in parallel.\r\n\r\nThanks in advance.","title":"Debugging Hikari Pool connections in Spring Boot Application - See any identifier of each connection of the pool","body":"<p>I have a Spring Boot application, where I have created a class which implements <strong>DelegatingDataSource</strong>. I use <strong>Hikari pool</strong>, and I have DEBUG level on their packages. I'm facing some errors related to processes which try to execute a query, but it fails because the connection is closed. If I debug the API call, I never find the error, so any concurrency error should exist.</p>\n<p>I would like to see if there is any way of <strong>printing any identifier of the connection pool</strong>. I mean, I have configured a pool size of 50, and if I run the application I have some logs like this (x50 times):</p>\n<pre><code>... [onnection adder] com.zaxxer.hikari.pool.HikariPool        : tenantDataSource - Added connection org.postgresql.jdbc.PgConnection@6214982\n</code></pre>\n<p>If, once the application starts, I debug into a connection object, it doesn't have the same hashcode of any of the connection pool. So, my main question is: <strong>Is there any way to print an ID or something similar in order to identify the connection of the pool I'm using?</strong> I would expect something like:</p>\n<pre><code>Connection connection = getTargetDataSource().getConnection();\nlog.info(&quot;I have the connection with ID&quot; + connection.getSomeIdentifier());\n</code></pre>\n<p>If I have this log, I would be able to debug in staging environment, so I can find if any process are closing a connection which is used by other thread/process in parallel.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","jersey","spring-restcontroller"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688971784,"post_id":76651017,"comment_id":135141090,"body_markdown":"400 means invalid request, what makes you think it doesn&#39; thit your URL?","body":"400 means invalid request, what makes you think it doesn&#39; thit your URL?"},{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1688971985,"post_id":76651017,"comment_id":135141118,"body_markdown":"Those are not Spring mvc controller annotations. Why spring-boot tags?","body":"Those are not Spring mvc controller annotations. Why spring-boot tags?"}],"owner":{"account_id":3625358,"reputation":1,"user_id":3023147,"display_name":"user3023147"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688984172,"creation_date":1688969083,"question_id":76651017,"body_markdown":"I am trying to map a URL with REST API in Spring Boot.\r\n\r\nurl: http://localhost.charlesproxy.com:8080/content/storage/path/someid/x/y/resource/{&quot;reltype&quot;:&quot;http://ns.example.com/examplecloud/rel/primary&quot;}/:page\r\n\r\nSending the URL encoded format to Spring Boot:\r\n```\r\nhttp://localhost.charlesproxy.com:8080/content/storage/path/someid/x/y/resource/%7B%22reltype%22%3A%22http%3A%2F%2Fns.example.com%2Fexamplecloud%2Frel%2Fprimary%22%7D/:page\r\n```\r\n\r\nIt is giving 400 instead of 404. what&#39;s wrong with this URL?\r\n\r\nBelow is the REST API\r\n```\r\n@GET\r\n@Path(&quot;/{path:([^\\\\:]+/|)}&quot; + &quot;:page&quot;)\r\n\r\n@ApiParam(required = true) @PathParam(&quot;path&quot;) String path\r\n```\r\n\r\nI tried this request from Postman to localhost and was expecting 404 or hitting my REST API debugger. But getting 400 and not hitting my localhost.","title":"Spring Boot not accepting the given url. Giving 400 instead of 404","body":"<p>I am trying to map a URL with REST API in Spring Boot.</p>\n<p>url: <a href=\"http://localhost.charlesproxy.com:8080/content/storage/path/someid/x/y/resource/%7B%22reltype%22:%22http://ns.example.com/examplecloud/rel/primary%22%7D/:page\" rel=\"nofollow noreferrer\">http://localhost.charlesproxy.com:8080/content/storage/path/someid/x/y/resource/{&quot;reltype&quot;:&quot;http://ns.example.com/examplecloud/rel/primary&quot;}/:page</a></p>\n<p>Sending the URL encoded format to Spring Boot:</p>\n<pre><code>http://localhost.charlesproxy.com:8080/content/storage/path/someid/x/y/resource/%7B%22reltype%22%3A%22http%3A%2F%2Fns.example.com%2Fexamplecloud%2Frel%2Fprimary%22%7D/:page\n</code></pre>\n<p>It is giving 400 instead of 404. what's wrong with this URL?</p>\n<p>Below is the REST API</p>\n<pre><code>@GET\n@Path(&quot;/{path:([^\\\\:]+/|)}&quot; + &quot;:page&quot;)\n\n@ApiParam(required = true) @PathParam(&quot;path&quot;) String path\n</code></pre>\n<p>I tried this request from Postman to localhost and was expecting 404 or hitting my REST API debugger. But getting 400 and not hitting my localhost.</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688882946,"creation_date":1688882946,"answer_id":76646108,"question_id":76646026,"body_markdown":"This method requires android.permission.POST_NOTIFICATIONS permission:\r\n\r\nhttps://developer.android.com/reference/androidx/core/app/NotificationManagerCompat#notify(int,android.app.Notification)\r\n\r\nIf you get this error exactly when this method is called then I would suspect you haven&#39;t included it in you manifest. See here for more details:\r\n\r\nhttps://developer.android.com/develop/ui/views/notifications/notification-permission\r\n\r\nThis permission is needed since android 13, to declare it add it as follows:\r\n\r\n    &lt;manifest ...&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot;/&gt;\r\n        &lt;application ...&gt;\r\n            ...\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;","title":"Encountered this error anyone encountered before?","body":"<p>This method requires android.permission.POST_NOTIFICATIONS permission:</p>\n<p><a href=\"https://developer.android.com/reference/androidx/core/app/NotificationManagerCompat#notify(int,android.app.Notification)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/androidx/core/app/NotificationManagerCompat#notify(int,android.app.Notification)</a></p>\n<p>If you get this error exactly when this method is called then I would suspect you haven't included it in you manifest. See here for more details:</p>\n<p><a href=\"https://developer.android.com/develop/ui/views/notifications/notification-permission\" rel=\"nofollow noreferrer\">https://developer.android.com/develop/ui/views/notifications/notification-permission</a></p>\n<p>This permission is needed since android 13, to declare it add it as follows:</p>\n<pre><code>&lt;manifest ...&gt;\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot;/&gt;\n    &lt;application ...&gt;\n        ...\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n"}],"owner":{"account_id":23263131,"reputation":1,"user_id":17349131,"display_name":"Aldred "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688983987,"creation_date":1688880980,"question_id":76646026,"body_markdown":"I am trying to prompt notification by pressing a button in Android Studio. I followed the tutorials on YouTube, but it gives a weird error saying I need permission.\r\n\r\nI tried the solutions given by the IDE, but they didn’t help me. My code:\r\n~~~\r\n     Notification = findViewById(R.id.NotificationButton);\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O_MR1) {\r\n            NotificationChannel channel = new NotificationChannel(&quot;My Notification&quot;, &quot;My Notification&quot;, NotificationManager.IMPORTANCE_DEFAULT);\r\n            NotificationManager manager = getSystemService(NotificationManager.class);\r\n            manager.createNotificationChannel(channel);\r\n        }\r\n        Notification.setOnClickListener(new View.OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(View v) {\r\n                NotificationCompat.Builder builder = new NotificationCompat.Builder(MainActivity.this, &quot;My Notification&quot;);\r\n                builder.setContentTitle(&quot;ALARM Notification&quot;)\r\n                        .setContentText(&quot;PLease Take Your Phone&quot;)\r\n                        .setStyle(new NotificationCompat.BigTextStyle())\r\n                        .setPriority(NotificationCompat.PRIORITY_DEFAULT)\r\n                        .setSmallIcon(R.drawable.baseline_notifications_24)\r\n                        .setAutoCancel(true);\r\n\r\n                NotificationManagerCompat managerCompat = NotificationManagerCompat.from(MainActivity.this);\r\n                managerCompat.notify(1, builder.build());\r\n~~~\r\n\r\nI am getting the error in the last row:  \r\n~~~\r\nmanagerCompat.notify(1,builder.build());\r\n~~~\r\n\r\nAny advice on how to solve the error is appreciated.","title":"Encountered this error anyone encountered before?","body":"<p>I am trying to prompt notification by pressing a button in Android Studio. I followed the tutorials on YouTube, but it gives a weird error saying I need permission.</p>\n<p>I tried the solutions given by the IDE, but they didn’t help me. My code:</p>\n<pre><code>     Notification = findViewById(R.id.NotificationButton);\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O_MR1) {\n            NotificationChannel channel = new NotificationChannel(&quot;My Notification&quot;, &quot;My Notification&quot;, NotificationManager.IMPORTANCE_DEFAULT);\n            NotificationManager manager = getSystemService(NotificationManager.class);\n            manager.createNotificationChannel(channel);\n        }\n        Notification.setOnClickListener(new View.OnClickListener() {\n\n            @Override\n            public void onClick(View v) {\n                NotificationCompat.Builder builder = new NotificationCompat.Builder(MainActivity.this, &quot;My Notification&quot;);\n                builder.setContentTitle(&quot;ALARM Notification&quot;)\n                        .setContentText(&quot;PLease Take Your Phone&quot;)\n                        .setStyle(new NotificationCompat.BigTextStyle())\n                        .setPriority(NotificationCompat.PRIORITY_DEFAULT)\n                        .setSmallIcon(R.drawable.baseline_notifications_24)\n                        .setAutoCancel(true);\n\n                NotificationManagerCompat managerCompat = NotificationManagerCompat.from(MainActivity.this);\n                managerCompat.notify(1, builder.build());\n</code></pre>\n<p>I am getting the error in the last row:</p>\n<pre><code>managerCompat.notify(1,builder.build());\n</code></pre>\n<p>Any advice on how to solve the error is appreciated.</p>\n"},{"tags":["java","cryptography","pkcs#7"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":2,"creation_date":1337715602,"post_id":10703416,"comment_id":13905117,"body_markdown":"Dear user, please revisit [this older question](http://stackoverflow.com/questions/9805385/delete-query-is-not-working-form-java-application). I&#39;ve voted to close the other question. [Please](http://stackoverflow.com/questions/2377402/how-to-encode-a-value-in-pkcs7-with-java) [do](http://stackoverflow.com/questions/3166159/verifying-pkcs7-certificates-in-java) your homework before asking questions.","body":"Dear user, please revisit <a href=\"http://stackoverflow.com/questions/9805385/delete-query-is-not-working-form-java-application\">this older question</a>. I&#39;ve voted to close the other question. <a href=\"http://stackoverflow.com/questions/2377402/how-to-encode-a-value-in-pkcs7-with-java\">Please</a> <a href=\"http://stackoverflow.com/questions/3166159/verifying-pkcs7-certificates-in-java\">do</a> your homework before asking questions."},{"owner":{"account_id":249565,"reputation":9766,"user_id":525725,"accept_rate":67,"display_name":"Emmanuel Bourg"},"score":0,"creation_date":1337722056,"post_id":10703416,"comment_id":13907668,"body_markdown":"Do you want the signed exe file to be recognized by Windows as signed.","body":"Do you want the signed exe file to be recognized by Windows as signed."}],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1337715129,"creation_date":1337715129,"answer_id":10708831,"question_id":10703416,"body_markdown":"PKCS#7 is known as CMS now (Cryptographic Message Syntax), and you will need the Bouncy Castle PKIX libraries to create one. It has ample documentation and a well established mailing list.\r\n\r\nI won&#39;t supply code snippet, it is against house rules. Try yourself first.\r\n","title":"Sign data using PKCS #7 in JAVA","body":"<p>PKCS#7 is known as CMS now (Cryptographic Message Syntax), and you will need the Bouncy Castle PKIX libraries to create one. It has ample documentation and a well established mailing list.</p>\n\n<p>I won't supply code snippet, it is against house rules. Try yourself first.</p>\n"},{"tags":[],"owner":{"account_id":35585,"reputation":7037,"user_id":100836,"accept_rate":100,"display_name":"Zaki"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1337838977,"creation_date":1337770119,"answer_id":10718419,"question_id":10703416,"body_markdown":"I reckon you need the following 2 Bouncy Castle jars to generate the PKCS7 digital signature:\r\n\r\n - bcprov-jdk15on-147.jar (for JDK 1.5 - JDK 1.7)\r\n   \r\n - bcmail-jdk15on-147.jar (for JDK 1.5 - JDK 1.7)\r\n\r\nYou can download the Bouncy Castle jars from [here][1].\r\n\r\n\r\n  [1]: http://bouncycastle.org/latest_releases.html\r\n\r\nYou need to setup your keystore with the public &amp; private key pair.\r\nYou need only the private key to generate the digital signature &amp; the public key to verify it.\r\n\r\nHere&#39;s how you&#39;d pkcs7 sign content (Exception handling omitted for brevity) :\r\n\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.InputStream;\r\n    import java.security.KeyStore;\r\n    import java.security.PrivateKey;\r\n    import java.security.Security;\r\n    import java.security.cert.Certificate;\r\n    import java.security.cert.X509Certificate;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import org.bouncycastle.cert.jcajce.JcaCertStore;\r\n    import org.bouncycastle.cms.CMSProcessableByteArray;\r\n    import org.bouncycastle.cms.CMSSignedData;\r\n    import org.bouncycastle.cms.CMSSignedDataGenerator;\r\n    import org.bouncycastle.cms.CMSTypedData;\r\n    import org.bouncycastle.cms.jcajce.JcaSignerInfoGeneratorBuilder;\r\n    import org.bouncycastle.jce.provider.BouncyCastleProvider;\r\n    import org.bouncycastle.operator.ContentSigner;\r\n    import org.bouncycastle.operator.jcajce.JcaContentSignerBuilder;\r\n    import org.bouncycastle.operator.jcajce.JcaDigestCalculatorProviderBuilder;\r\n    import org.bouncycastle.util.Store;\r\n    import org.bouncycastle.util.encoders.Base64;\r\n    \r\n    public final class PKCS7Signer {\r\n    \r\n        private static final String PATH_TO_KEYSTORE = &quot;/path/to/keyStore&quot;;\r\n        private static final String KEY_ALIAS_IN_KEYSTORE = &quot;My_Private_Key&quot;;\r\n        private static final String KEYSTORE_PASSWORD = &quot;MyPassword&quot;;\r\n        private static final String SIGNATUREALGO = &quot;SHA1withRSA&quot;;\r\n    \r\n        public PKCS7Signer() {\r\n        }\r\n    \r\n        KeyStore loadKeyStore() throws Exception {\r\n    \r\n            KeyStore keystore = KeyStore.getInstance(&quot;JKS&quot;);\r\n            InputStream is = new FileInputStream(PATH_TO_KEYSTORE);\r\n            keystore.load(is, KEYSTORE_PASSWORD.toCharArray());\r\n            return keystore;\r\n        }\r\n    \r\n        CMSSignedDataGenerator setUpProvider(final KeyStore keystore) throws Exception {\r\n    \r\n            Security.addProvider(new BouncyCastleProvider());\r\n    \r\n            Certificate[] certchain = (Certificate[]) keystore.getCertificateChain(KEY_ALIAS_IN_KEYSTORE);\r\n    \r\n            final List&lt;Certificate&gt; certlist = new ArrayList&lt;Certificate&gt;();\r\n    \r\n            for (int i = 0, length = certchain == null ? 0 : certchain.length; i &lt; length; i++) {\r\n                certlist.add(certchain[i]);\r\n            }\r\n    \r\n            Store certstore = new JcaCertStore(certlist);\r\n    \r\n            Certificate cert = keystore.getCertificate(KEY_ALIAS_IN_KEYSTORE);\r\n    \r\n            ContentSigner signer = new JcaContentSignerBuilder(SIGNATUREALGO).setProvider(&quot;BC&quot;).\r\n                    build((PrivateKey) (keystore.getKey(KEY_ALIAS_IN_KEYSTORE, KEYSTORE_PASSWORD.toCharArray())));\r\n    \r\n            CMSSignedDataGenerator generator = new CMSSignedDataGenerator();\r\n    \r\n            generator.addSignerInfoGenerator(new JcaSignerInfoGeneratorBuilder(new JcaDigestCalculatorProviderBuilder().setProvider(&quot;BC&quot;).\r\n                    build()).build(signer, (X509Certificate) cert));\r\n    \r\n            generator.addCertificates(certstore);\r\n    \r\n            return generator;\r\n        }\r\n    \r\n        byte[] signPkcs7(final byte[] content, final CMSSignedDataGenerator generator) throws Exception {\r\n    \r\n            CMSTypedData cmsdata = new CMSProcessableByteArray(content);\r\n            CMSSignedData signeddata = generator.generate(cmsdata, true);\r\n            return signeddata.getEncoded();\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            PKCS7Signer signer = new PKCS7Signer();\r\n            KeyStore keyStore = signer.loadKeyStore();\r\n            CMSSignedDataGenerator signatureGenerator = signer.setUpProvider(keyStore);\r\n            String content = &quot;some bytes to be signed&quot;;\r\n            byte[] signedBytes = signer.signPkcs7(content.getBytes(&quot;UTF-8&quot;), signatureGenerator);\r\n            System.out.println(&quot;Signed Encoded Bytes: &quot; + new String(Base64.encode(signedBytes)));\r\n        }\r\n    }\r\n\r\n","title":"Sign data using PKCS #7 in JAVA","body":"<p>I reckon you need the following 2 Bouncy Castle jars to generate the PKCS7 digital signature:</p>\n\n<ul>\n<li><p>bcprov-jdk15on-147.jar (for JDK 1.5 - JDK 1.7)</p></li>\n<li><p>bcmail-jdk15on-147.jar (for JDK 1.5 - JDK 1.7)</p></li>\n</ul>\n\n<p>You can download the Bouncy Castle jars from <a href=\"http://bouncycastle.org/latest_releases.html\" rel=\"noreferrer\">here</a>.</p>\n\n<p>You need to setup your keystore with the public &amp; private key pair.\nYou need only the private key to generate the digital signature &amp; the public key to verify it.</p>\n\n<p>Here's how you'd pkcs7 sign content (Exception handling omitted for brevity) :</p>\n\n<pre><code>import java.io.FileInputStream;\nimport java.io.InputStream;\nimport java.security.KeyStore;\nimport java.security.PrivateKey;\nimport java.security.Security;\nimport java.security.cert.Certificate;\nimport java.security.cert.X509Certificate;\nimport java.util.ArrayList;\nimport java.util.List;\nimport org.bouncycastle.cert.jcajce.JcaCertStore;\nimport org.bouncycastle.cms.CMSProcessableByteArray;\nimport org.bouncycastle.cms.CMSSignedData;\nimport org.bouncycastle.cms.CMSSignedDataGenerator;\nimport org.bouncycastle.cms.CMSTypedData;\nimport org.bouncycastle.cms.jcajce.JcaSignerInfoGeneratorBuilder;\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.bouncycastle.operator.ContentSigner;\nimport org.bouncycastle.operator.jcajce.JcaContentSignerBuilder;\nimport org.bouncycastle.operator.jcajce.JcaDigestCalculatorProviderBuilder;\nimport org.bouncycastle.util.Store;\nimport org.bouncycastle.util.encoders.Base64;\n\npublic final class PKCS7Signer {\n\n    private static final String PATH_TO_KEYSTORE = \"/path/to/keyStore\";\n    private static final String KEY_ALIAS_IN_KEYSTORE = \"My_Private_Key\";\n    private static final String KEYSTORE_PASSWORD = \"MyPassword\";\n    private static final String SIGNATUREALGO = \"SHA1withRSA\";\n\n    public PKCS7Signer() {\n    }\n\n    KeyStore loadKeyStore() throws Exception {\n\n        KeyStore keystore = KeyStore.getInstance(\"JKS\");\n        InputStream is = new FileInputStream(PATH_TO_KEYSTORE);\n        keystore.load(is, KEYSTORE_PASSWORD.toCharArray());\n        return keystore;\n    }\n\n    CMSSignedDataGenerator setUpProvider(final KeyStore keystore) throws Exception {\n\n        Security.addProvider(new BouncyCastleProvider());\n\n        Certificate[] certchain = (Certificate[]) keystore.getCertificateChain(KEY_ALIAS_IN_KEYSTORE);\n\n        final List&lt;Certificate&gt; certlist = new ArrayList&lt;Certificate&gt;();\n\n        for (int i = 0, length = certchain == null ? 0 : certchain.length; i &lt; length; i++) {\n            certlist.add(certchain[i]);\n        }\n\n        Store certstore = new JcaCertStore(certlist);\n\n        Certificate cert = keystore.getCertificate(KEY_ALIAS_IN_KEYSTORE);\n\n        ContentSigner signer = new JcaContentSignerBuilder(SIGNATUREALGO).setProvider(\"BC\").\n                build((PrivateKey) (keystore.getKey(KEY_ALIAS_IN_KEYSTORE, KEYSTORE_PASSWORD.toCharArray())));\n\n        CMSSignedDataGenerator generator = new CMSSignedDataGenerator();\n\n        generator.addSignerInfoGenerator(new JcaSignerInfoGeneratorBuilder(new JcaDigestCalculatorProviderBuilder().setProvider(\"BC\").\n                build()).build(signer, (X509Certificate) cert));\n\n        generator.addCertificates(certstore);\n\n        return generator;\n    }\n\n    byte[] signPkcs7(final byte[] content, final CMSSignedDataGenerator generator) throws Exception {\n\n        CMSTypedData cmsdata = new CMSProcessableByteArray(content);\n        CMSSignedData signeddata = generator.generate(cmsdata, true);\n        return signeddata.getEncoded();\n    }\n\n    public static void main(String[] args) throws Exception {\n\n        PKCS7Signer signer = new PKCS7Signer();\n        KeyStore keyStore = signer.loadKeyStore();\n        CMSSignedDataGenerator signatureGenerator = signer.setUpProvider(keyStore);\n        String content = \"some bytes to be signed\";\n        byte[] signedBytes = signer.signPkcs7(content.getBytes(\"UTF-8\"), signatureGenerator);\n        System.out.println(\"Signed Encoded Bytes: \" + new String(Base64.encode(signedBytes)));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1323763,"reputation":121,"user_id":1269042,"accept_rate":40,"display_name":"user1269042"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28537,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":10718419,"answer_count":2,"score":12,"last_activity_date":1688983902,"creation_date":1337694547,"question_id":10703416,"body_markdown":"I want to sign a text file (may be a `.exe` file or something else in the future) \r\nusing PKCS#7 and verify the signature using Java.\r\n\r\n 1. What do I need to know?\r\n 2. Where will I find an API (`.jar` and documentation)?\r\n 3. What are the steps I need to follow in order to sign data and verify the data?\r\n \r\nPlease provide me code snippet if possible.\r\n\r\n","title":"Sign data using PKCS #7 in JAVA","body":"<p>I want to sign a text file (may be a <code>.exe</code> file or something else in the future) \nusing PKCS#7 and verify the signature using Java.</p>\n\n<ol>\n<li>What do I need to know?</li>\n<li>Where will I find an API (<code>.jar</code> and documentation)?</li>\n<li>What are the steps I need to follow in order to sign data and verify the data?</li>\n</ol>\n\n<p>Please provide me code snippet if possible.</p>\n"},{"tags":["java","performance"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1688982306,"post_id":76652336,"comment_id":135143305,"body_markdown":"I reopened the question, because the [duplicated question](https://stackoverflow.com/questions/10576939/java-string-hashcode-caching) does not answer this particular question, which is about the use of the local variable `h`.","body":"I reopened the question, because the <a href=\"https://stackoverflow.com/questions/10576939/java-string-hashcode-caching\">duplicated question</a> does not answer this particular question, which is about the use of the local variable <code>h</code>."},{"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"score":1,"creation_date":1688982991,"post_id":76652336,"comment_id":135143441,"body_markdown":"Well if there is an reassignment to the non-final field ```hash``` within the ```hashCode``` method, then String is not immutable enough. That&#39;s why they changed it.","body":"Well if there is an reassignment to the non-final field <code>hash</code> within the <code>hashCode</code> method, then String is not immutable enough. That&#39;s why they changed it."}],"answers":[{"tags":[],"owner":{"account_id":2163224,"reputation":6602,"user_id":1916917,"accept_rate":60,"display_name":"Holloway"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1688982550,"creation_date":1688982550,"answer_id":76652567,"question_id":76652336,"body_markdown":"The git blame for that method refers to [JDK-8166842](https://bugs.openjdk.org/browse/JDK-8166842).\r\n\r\nFrom that issue, the reasoning was \r\n\r\n&gt;Latest change to JDK 9 String code introduced a non-benign data race:\r\n&gt;\r\n&gt;```java\r\n&gt;public int hashCode() {\r\n&gt;    if (hash == 0 &amp;&amp; value.length &gt; 0) {\r\n&gt;        hash = isLatin1() ? StringLatin1.hashCode(value)\r\n&gt;                          : StringUTF16.hashCode(value);\r\n&gt;    }\r\n&gt;    return hash;\r\n&gt;}\r\n&gt;```\r\n&gt;The &#39;hash&#39; field should only be read once into a local variable. The second racy read (at return) can read 0 while the 1st (at if) can read non-zero. ","title":"Why is a local variable used in this String class method?","body":"<p>The git blame for that method refers to <a href=\"https://bugs.openjdk.org/browse/JDK-8166842\" rel=\"nofollow noreferrer\">JDK-8166842</a>.</p>\n<p>From that issue, the reasoning was</p>\n<blockquote>\n<p>Latest change to JDK 9 String code introduced a non-benign data race:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int hashCode() {\n   if (hash == 0 &amp;&amp; value.length &gt; 0) {\n       hash = isLatin1() ? StringLatin1.hashCode(value)\n                         : StringUTF16.hashCode(value);\n   }\n   return hash;\n}\n</code></pre>\n<p>The 'hash' field should only be read once into a local variable. The second racy read (at return) can read 0 while the 1st (at if) can read non-zero.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1881735,"reputation":7688,"user_id":1701776,"accept_rate":71,"display_name":"BambooleanLogic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688983778,"creation_date":1688983778,"answer_id":76652720,"question_id":76652336,"body_markdown":"While Holloway has answered the question itself, I&#39;d like to clear up a minor misconception.\r\n\r\n`String` is only immutable in the sense that it doesn&#39;t expose functionality for mutating it. However, it still does have an _internal_ mutable state, specifically the `hash` field.\r\n\r\nCalculating the hash of a `String` is a relatively simple O(n) operation. Not disastrous, but also not completely free, especially not for longer strings.\r\n\r\nSince strings are a fundamental part of almost all aspects of Java and used basically everywhere, including in Java-internal functionality, ensuring good performance for the implementation of `String` is critical. Even a minor inefficiency may be enormously multiplied simply from how incredibly often it gets run. As such, while the hash calculation isn&#39;t too bad, it&#39;s still something we&#39;d like to _not have to do_ unless it&#39;s absolutely necessary.\r\n\r\nNow, there are three ways we could go about calculating the hash:\r\n1. We calculate it every time `hashCode()` is called. In other words, we only calculate it when we need it. However, that also means we have to _recalculate_ it every single time it&#39;s needed. This would be disastrous for `HashMap` and similar.\r\n2. Calculate it _once_ when we create the string, then return the same value every time `hashCode()` is called. This makes `hashCode()` free, but makes the creation of a string more expensive for the situations where the hash isn&#39;t needed. Since _a lot_ of strings are constantly created in Java, that&#39;s a non-negligible.\r\n3. We do it _lazily_, i.e. we calculate it the first time `hashCode()` is called and then remember it for subsequent calls to `hashCode()`.\r\n\r\nThe latter option was chosen since it finds that sweet spot between &quot;don&#39;t calculate it unless you need it&quot; and &quot;don&#39;t calculate it more than once&quot;. This _does_ mean that `String` has a mutable state; it updates its internal cache of the hash code. However, from an outside observer, this effect is invisible (aside from the fact that the first call to `hashCode()` is slightly slower), meaning that the string is _effectively_ immutable.","title":"Why is a local variable used in this String class method?","body":"<p>While Holloway has answered the question itself, I'd like to clear up a minor misconception.</p>\n<p><code>String</code> is only immutable in the sense that it doesn't expose functionality for mutating it. However, it still does have an <em>internal</em> mutable state, specifically the <code>hash</code> field.</p>\n<p>Calculating the hash of a <code>String</code> is a relatively simple O(n) operation. Not disastrous, but also not completely free, especially not for longer strings.</p>\n<p>Since strings are a fundamental part of almost all aspects of Java and used basically everywhere, including in Java-internal functionality, ensuring good performance for the implementation of <code>String</code> is critical. Even a minor inefficiency may be enormously multiplied simply from how incredibly often it gets run. As such, while the hash calculation isn't too bad, it's still something we'd like to <em>not have to do</em> unless it's absolutely necessary.</p>\n<p>Now, there are three ways we could go about calculating the hash:</p>\n<ol>\n<li>We calculate it every time <code>hashCode()</code> is called. In other words, we only calculate it when we need it. However, that also means we have to <em>recalculate</em> it every single time it's needed. This would be disastrous for <code>HashMap</code> and similar.</li>\n<li>Calculate it <em>once</em> when we create the string, then return the same value every time <code>hashCode()</code> is called. This makes <code>hashCode()</code> free, but makes the creation of a string more expensive for the situations where the hash isn't needed. Since <em>a lot</em> of strings are constantly created in Java, that's a non-negligible.</li>\n<li>We do it <em>lazily</em>, i.e. we calculate it the first time <code>hashCode()</code> is called and then remember it for subsequent calls to <code>hashCode()</code>.</li>\n</ol>\n<p>The latter option was chosen since it finds that sweet spot between &quot;don't calculate it unless you need it&quot; and &quot;don't calculate it more than once&quot;. This <em>does</em> mean that <code>String</code> has a mutable state; it updates its internal cache of the hash code. However, from an outside observer, this effect is invisible (aside from the fact that the first call to <code>hashCode()</code> is slightly slower), meaning that the string is <em>effectively</em> immutable.</p>\n"}],"owner":{"account_id":24179349,"reputation":13,"user_id":18140249,"display_name":"Massimiliano Micol"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76652567,"answer_count":2,"score":1,"last_activity_date":1688983778,"creation_date":1688980600,"question_id":76652336,"body_markdown":"In the [Java 11 String&#39;s hashCode](https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/lang/String.java#L1501-L1508) method a local integer variable &quot;h&quot; is used to store the hash field&#39;s value.\r\n\r\nIs this done for performance reasons, or a mere stylistic choice? [An answer to a similar question](https://stackoverflow.com/a/67098831/18140249) says it&#39;s for thread safety, but Strings are immutable so it doesn&#39;t seem the case","title":"Why is a local variable used in this String class method?","body":"<p>In the <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/lang/String.java#L1501-L1508\" rel=\"nofollow noreferrer\">Java 11 String's hashCode</a> method a local integer variable &quot;h&quot; is used to store the hash field's value.</p>\n<p>Is this done for performance reasons, or a mere stylistic choice? <a href=\"https://stackoverflow.com/a/67098831/18140249\">An answer to a similar question</a> says it's for thread safety, but Strings are immutable so it doesn't seem the case</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1571802113,"post_id":58486298,"comment_id":103357065,"body_markdown":"This depends on the `String url` given in your code. If that is a relative `URI` then that URI is relative to the Word document file. If that is not wanted a complete `URI` (`file://...`) must be given.","body":"This depends on the <code>String url</code> given in your code. If that is a relative <code>URI</code> then that URI is relative to the Word document file. If that is not wanted a complete <code>URI</code> (<code>file:&#47;&#47;...</code>) must be given."},{"owner":{"account_id":10729603,"reputation":1,"user_id":7896122,"display_name":"Gorilla"},"score":0,"creation_date":1574178247,"post_id":58486298,"comment_id":104134226,"body_markdown":"it is a plain url ([https://.....]). \nThe problem is, that, if I add a hyperlink from within Word, it is added normally in the given format - [url]. However, when I do it with the code snippet above, I end up with [local path of the file]/[url], which I believe causes my problem. Any suggestions?","body":"it is a plain url ([https://.....]).  The problem is, that, if I add a hyperlink from within Word, it is added normally in the given format - [url]. However, when I do it with the code snippet above, I end up with [local path of the file]/[url], which I believe causes my problem. Any suggestions?"}],"owner":{"account_id":10729603,"reputation":1,"user_id":7896122,"display_name":"Gorilla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688983756,"creation_date":1571660835,"question_id":58486298,"body_markdown":"I needed to append an external url in a word document with Apache POI. I found and used the following code: https://stackoverflow.com/a/22456273/7896122\r\n\r\nHowever, there the link is unopenable on some machines, and I suppose it is because it is written in the format: `[local path of the file]/[url]`, while I only need it like `[url]`.\r\n\r\nThis is happening somewhere within this method, but I don&#39;t have that advanced knowledge of Apache POI, to understand what exactly I need to change:\r\n\r\n```java\r\nprivate static void appendExternalHyperlink(String url, String text, XWPFParagraph paragraph) {\t\r\n\r\n   // Add the link as External relationship\r\n\tString id = paragraph.getDocument().getPackagePart()\r\n\t\t\t.addExternalRelationship(url, XWPFRelation.HYPERLINK.getRelation()).getId();\r\n\r\n\t// Append the link and bind it to the relationship\r\n\tCTHyperlink cLink = paragraph.getCTP().addNewHyperlink();\r\n\tcLink.setId(id);\r\n\r\n\t// Create the linked text\r\n\tCTText ctText = CTText.Factory.newInstance();\r\n\tctText.setStringValue(text);\r\n\tCTR ctr = CTR.Factory.newInstance();\r\n\tctr.setTArray(new CTText[] { ctText });\r\n\r\n\t// Insert the linked text into the link\r\n\tcLink.setRArray(new CTR[] { ctr });\r\n}\r\n```\r\n","title":"XWPFDocument - External hyperlink creation - path shows as &quot;localpath+url&quot; I only need it written as &quot;url&quot;","body":"<p>I needed to append an external url in a word document with Apache POI. I found and used the following code: <a href=\"https://stackoverflow.com/a/22456273/7896122\">https://stackoverflow.com/a/22456273/7896122</a></p>\n\n<p>However, there the link is unopenable on some machines, and I suppose it is because it is written in the format: <code>[local path of the file]/[url]</code>, while I only need it like <code>[url]</code>.</p>\n\n<p>This is happening somewhere within this method, but I don't have that advanced knowledge of Apache POI, to understand what exactly I need to change:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private static void appendExternalHyperlink(String url, String text, XWPFParagraph paragraph) { \n\n   // Add the link as External relationship\n    String id = paragraph.getDocument().getPackagePart()\n            .addExternalRelationship(url, XWPFRelation.HYPERLINK.getRelation()).getId();\n\n    // Append the link and bind it to the relationship\n    CTHyperlink cLink = paragraph.getCTP().addNewHyperlink();\n    cLink.setId(id);\n\n    // Create the linked text\n    CTText ctText = CTText.Factory.newInstance();\n    ctText.setStringValue(text);\n    CTR ctr = CTR.Factory.newInstance();\n    ctr.setTArray(new CTText[] { ctText });\n\n    // Insert the linked text into the link\n    cLink.setRArray(new CTR[] { ctr });\n}\n</code></pre>\n"},{"tags":["java","spring-boot","mocking","wiremock","stubbing"],"answers":[{"tags":[],"owner":{"account_id":22581348,"reputation":113,"user_id":16765942,"display_name":"Gabriela83"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1688983475,"creation_date":1673949902,"answer_id":75144784,"question_id":75143658,"body_markdown":"I managed to find a solution by doing this:\r\nI attributed a UUID to the stub \r\n```\r\nstubFor(post(urlPathEqualTo(getUploadEndpoint())).willReturn(aResponse().withStatus(HttpStatus.OK.value()))).withId(java.util.UUID.fromString(UUID)));\r\n```\r\n\r\nand I gathered all serve events happening on this particular endpoint\r\n\r\n```\r\nList&lt;ServeEvent&gt; allServeEvents = getAllServeEvents(ServeEventQuery.forStubMapping(java.util.UUID.fromString(UUID)));\r\n// this list should contain one stub only\r\nassertThat(allServeEvents).hasSize(1);\r\nServeEvent request = allServeEvents.get(0);\r\nString body = request .getRequest().getBodyAsString();\r\n```\r\n\r\nThen I used XMLUnit to assert this body. Seems to do the job, but I&#39;m open to any other solutions if available.\r\n\r\n","title":"How to capture the body of a request that was stubbed with Wiremock","body":"<p>I managed to find a solution by doing this:\nI attributed a UUID to the stub</p>\n<pre><code>stubFor(post(urlPathEqualTo(getUploadEndpoint())).willReturn(aResponse().withStatus(HttpStatus.OK.value()))).withId(java.util.UUID.fromString(UUID)));\n</code></pre>\n<p>and I gathered all serve events happening on this particular endpoint</p>\n<pre><code>List&lt;ServeEvent&gt; allServeEvents = getAllServeEvents(ServeEventQuery.forStubMapping(java.util.UUID.fromString(UUID)));\n// this list should contain one stub only\nassertThat(allServeEvents).hasSize(1);\nServeEvent request = allServeEvents.get(0);\nString body = request .getRequest().getBodyAsString();\n</code></pre>\n<p>Then I used XMLUnit to assert this body. Seems to do the job, but I'm open to any other solutions if available.</p>\n"},{"tags":[],"owner":{"account_id":480519,"reputation":1382,"user_id":1423361,"accept_rate":100,"display_name":"Robert Elliot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673970902,"creation_date":1673966588,"answer_id":75148106,"question_id":75143658,"body_markdown":"You can use the API to [verify that a request was made with the expected body][0].\r\n\r\n```java\r\nimport static com.github.tomakehurst.wiremock.client.WireMock.*\r\n\r\nverify(\r\n    postRequestedFor(urlEqualTo(getUploadEndpoint()))\r\n        .withRequestBody(matchingXPath(&quot;your xpath here&quot;))\r\n);\r\n```\r\n\r\nSee [WireMock / Request Matching / XPath][1] for examples of XPath matching.\r\n\r\n\r\n[0]: https://wiremock.org/docs/verifying/\r\n[1]: https://wiremock.org/docs/request-matching/#:~:text=CHILD_NODELIST_LENGTH%20CHILD_LOOKUP%20ATTR_NAME_LOOKUP-,XPath,-Deems%20a%20match","title":"How to capture the body of a request that was stubbed with Wiremock","body":"<p>You can use the API to <a href=\"https://wiremock.org/docs/verifying/\" rel=\"nofollow noreferrer\">verify that a request was made with the expected body</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static com.github.tomakehurst.wiremock.client.WireMock.*\n\nverify(\n    postRequestedFor(urlEqualTo(getUploadEndpoint()))\n        .withRequestBody(matchingXPath(&quot;your xpath here&quot;))\n);\n</code></pre>\n<p>See <a href=\"https://wiremock.org/docs/request-matching/#:%7E:text=CHILD_NODELIST_LENGTH%20CHILD_LOOKUP%20ATTR_NAME_LOOKUP-,XPath,-Deems%20a%20match\" rel=\"nofollow noreferrer\">WireMock / Request Matching / XPath</a> for examples of XPath matching.</p>\n"},{"tags":[],"owner":{"account_id":480519,"reputation":1382,"user_id":1423361,"accept_rate":100,"display_name":"Robert Elliot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673970877,"creation_date":1673970877,"answer_id":75149002,"question_id":75143658,"body_markdown":"Alternatively, you can use the API to find requests that match a predicate:\r\n```java\r\nimport static com.github.tomakehurst.wiremock.client.WireMock.*;\r\n\r\nList&lt;LoggedRequest&gt; requests = findAll(\r\n    postRequestedFor(urlEqualTo(getUploadEndpoint()))\r\n        .withRequestBody(matchingXPath(&quot;your xpath here&quot;))\r\n);\r\n```\r\n\r\nThen you can assert whatever you want about the matched requests.","title":"How to capture the body of a request that was stubbed with Wiremock","body":"<p>Alternatively, you can use the API to find requests that match a predicate:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static com.github.tomakehurst.wiremock.client.WireMock.*;\n\nList&lt;LoggedRequest&gt; requests = findAll(\n    postRequestedFor(urlEqualTo(getUploadEndpoint()))\n        .withRequestBody(matchingXPath(&quot;your xpath here&quot;))\n);\n</code></pre>\n<p>Then you can assert whatever you want about the matched requests.</p>\n"},{"tags":[],"owner":{"account_id":3056393,"reputation":127,"user_id":2589891,"display_name":"Vijay Kesanupalli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685118243,"creation_date":1685118243,"answer_id":76342688,"question_id":75143658,"body_markdown":"I tried like below\r\n\r\n    return stubFor(post(uri)\r\n                    .withHeader(&quot;Content-Type&quot;, equalTo(&quot;application/json&quot;))\r\n                    .withHeader(&quot;Accept&quot;, equalTo(&quot;application/json&quot;))\r\n                    .withRequestBody(WireMock.equalToJson(requestPayload))\r\n                    .willReturn(WireMock.aResponse()\r\n                            .withStatus(HttpStatus.OK.value())\r\n                            .withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE)\r\n                            .withBody(response))).toString();","title":"How to capture the body of a request that was stubbed with Wiremock","body":"<p>I tried like below</p>\n<pre><code>return stubFor(post(uri)\n                .withHeader(&quot;Content-Type&quot;, equalTo(&quot;application/json&quot;))\n                .withHeader(&quot;Accept&quot;, equalTo(&quot;application/json&quot;))\n                .withRequestBody(WireMock.equalToJson(requestPayload))\n                .willReturn(WireMock.aResponse()\n                        .withStatus(HttpStatus.OK.value())\n                        .withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE)\n                        .withBody(response))).toString();\n</code></pre>\n"}],"owner":{"account_id":22581348,"reputation":113,"user_id":16765942,"display_name":"Gabriela83"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3107,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75144784,"answer_count":4,"score":3,"last_activity_date":1688983475,"creation_date":1673944163,"question_id":75143658,"body_markdown":"Is there a way to capture the body of a post request that was stubbed with wiremock? I&#39;m looking for something similar to Mockito&#39;s `ArgumentCaptor`.\r\n\r\nI have the following stub:\r\n\r\n```\r\nstubFor(post(urlPathEqualTo(getUploadEndpoint())).willReturn(().withStatus(HttpStatus.OK.value())));\r\n```\r\n\r\nI want to be able to see how the actual request was performed, get its body and assert it.\r\n\r\nI have tried by using `.withRequestBody(equalToXml(...))` in the stub, since the body is the String representation of an XML. This does not work for me, because `equalToXml` is too strict, not allowing free text without surrounding tags for example.","title":"How to capture the body of a request that was stubbed with Wiremock","body":"<p>Is there a way to capture the body of a post request that was stubbed with wiremock? I'm looking for something similar to Mockito's <code>ArgumentCaptor</code>.</p>\n<p>I have the following stub:</p>\n<pre><code>stubFor(post(urlPathEqualTo(getUploadEndpoint())).willReturn(().withStatus(HttpStatus.OK.value())));\n</code></pre>\n<p>I want to be able to see how the actual request was performed, get its body and assert it.</p>\n<p>I have tried by using <code>.withRequestBody(equalToXml(...))</code> in the stub, since the body is the String representation of an XML. This does not work for me, because <code>equalToXml</code> is too strict, not allowing free text without surrounding tags for example.</p>\n"},{"tags":["java","counter","open-telemetry","open-telemetry-collector"],"comments":[{"owner":{"account_id":3053597,"reputation":580,"user_id":2587704,"accept_rate":50,"display_name":"JackB"},"score":0,"creation_date":1689007262,"post_id":76652117,"comment_id":135149166,"body_markdown":"As mentioned by Gregor, it is possible to close async instruments. However, its not currently possible for synchronous instruments. See this issue for more details: https://github.com/open-telemetry/opentelemetry-specification/issues/2232","body":"As mentioned by Gregor, it is possible to close async instruments. However, its not currently possible for synchronous instruments. See this issue for more details: <a href=\"https://github.com/open-telemetry/opentelemetry-specification/issues/2232\" rel=\"nofollow noreferrer\">github.com/open-telemetry/opentelemetry-specification/issues&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3528320,"reputation":301,"user_id":2948740,"display_name":"Gregor Zeitlinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688983375,"creation_date":1688983375,"answer_id":76652679,"question_id":76652117,"body_markdown":"Each OpenTelemetry metric (except histogram) has an async variant, which has a `close()` method that stops the metric.\r\n\r\nHere&#39;s an example:\r\n\r\n```java\r\nmeter.counterBuilder(METRIC_NAME_UNLOADED)\r\n     .setDescription(METRIC_DESCRIPTION_UNLOADED)\r\n     .setUnit(Constants.UNIT_CLASSES)\r\n     .buildWithCallback(measurement -&gt; measurement.record(unloaded))\r\n```","title":"How to &quot;close&quot; or &quot;destroy&quot; a specific counter in Opentelemetry?","body":"<p>Each OpenTelemetry metric (except histogram) has an async variant, which has a <code>close()</code> method that stops the metric.</p>\n<p>Here's an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>meter.counterBuilder(METRIC_NAME_UNLOADED)\n     .setDescription(METRIC_DESCRIPTION_UNLOADED)\n     .setUnit(Constants.UNIT_CLASSES)\n     .buildWithCallback(measurement -&gt; measurement.record(unloaded))\n</code></pre>\n"}],"owner":{"account_id":28939040,"reputation":1,"user_id":22165951,"display_name":"Vasu. Tk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688983375,"creation_date":1688978726,"question_id":76652117,"body_markdown":"I&#39;m trying to close or destroy the specific counter which is exported to Prometheus.\r\n\r\nFor eg:- \r\nIf we have two counters and exporting the counter values in the prometheus but i need to destroy one of the counter instead of shut downing the whole SDK ( openTelemetrySdk.shutdown()).\r\nCan we stop the reporting of specific metrics, including counters.\r\n\r\n         Meter sampleMeter = openTelemetry.getMeter(&quot;io.opentelemetry.example.metrics&quot;);\r\n          LongCounter counter = sampleMeter.counterBuilder(&quot;example.counter.sampleMeter&quot;).build();\r\n          LongUpDownCounter counter2 = sampleMeter.upDownCounterBuilder(&quot;example.second.counter.sampleMeter&quot;).build();\r\n          counter.add(1);\r\n          counter2.add(1);\r\n     \r\nIs there any ways to use the metrics registry in Opentelemetry like how we use it in the dropwizard-metrics?\r\nSo that i can register or deregister the metrics and keep only the required metrics data.\r\nhttps://www.baeldung.com/dropwizard-metrics#2-metricregistry  ","title":"How to &quot;close&quot; or &quot;destroy&quot; a specific counter in Opentelemetry?","body":"<p>I'm trying to close or destroy the specific counter which is exported to Prometheus.</p>\n<p>For eg:-\nIf we have two counters and exporting the counter values in the prometheus but i need to destroy one of the counter instead of shut downing the whole SDK ( openTelemetrySdk.shutdown()).\nCan we stop the reporting of specific metrics, including counters.</p>\n<pre><code>     Meter sampleMeter = openTelemetry.getMeter(&quot;io.opentelemetry.example.metrics&quot;);\n      LongCounter counter = sampleMeter.counterBuilder(&quot;example.counter.sampleMeter&quot;).build();\n      LongUpDownCounter counter2 = sampleMeter.upDownCounterBuilder(&quot;example.second.counter.sampleMeter&quot;).build();\n      counter.add(1);\n      counter2.add(1);\n \n</code></pre>\n<p>Is there any ways to use the metrics registry in Opentelemetry like how we use it in the dropwizard-metrics?\nSo that i can register or deregister the metrics and keep only the required metrics data.\n<a href=\"https://www.baeldung.com/dropwizard-metrics#2-metricregistry\" rel=\"nofollow noreferrer\">https://www.baeldung.com/dropwizard-metrics#2-metricregistry</a></p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1596810764,"post_id":63303632,"comment_id":111939287,"body_markdown":"UserAndFoodMapper is 1) an interface and 2) not a spring bean. Where is the implementation?","body":"UserAndFoodMapper is 1) an interface and 2) not a spring bean. Where is the implementation?"},{"owner":{"account_id":18091768,"reputation":395,"user_id":13151092,"display_name":"emretosunkaya"},"score":1,"creation_date":1596811063,"post_id":63303632,"comment_id":111939409,"body_markdown":"@SimonMartinelli impl file is generated by spring. There was 2 files, usermapper and foodmapper, here is the screenshot (i cant show current one cuz of not building) https://i.ibb.co/NrqtkYh/image.png","body":"@SimonMartinelli impl file is generated by spring. There was 2 files, usermapper and foodmapper, here is the screenshot (i cant show current one cuz of not building) <a href=\"https://i.ibb.co/NrqtkYh/image.png\" rel=\"nofollow noreferrer\">i.ibb.co/NrqtkYh/image.png</a>"},{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":0,"creation_date":1596811892,"post_id":63303632,"comment_id":111939778,"body_markdown":"Are you using `MapStruct` ?","body":"Are you using <code>MapStruct</code> ?"},{"owner":{"account_id":8021623,"reputation":515,"user_id":6050113,"display_name":"Nasibulloh Yandashev"},"score":0,"creation_date":1596816194,"post_id":63303632,"comment_id":111941760,"body_markdown":"Is there only `UserAndFoodMapper ` not loaded? Or all mappers?","body":"Is there only <code>UserAndFoodMapper </code> not loaded? Or all mappers?"},{"owner":{"account_id":18091768,"reputation":395,"user_id":13151092,"display_name":"emretosunkaya"},"score":1,"creation_date":1596823749,"post_id":63303632,"comment_id":111944910,"body_markdown":"yes mapstruct @User-Upvotedon&#39;tsayThanks","body":"yes mapstruct @User-Upvotedon&#39;tsayThanks"},{"owner":{"account_id":18091768,"reputation":395,"user_id":13151092,"display_name":"emretosunkaya"},"score":1,"creation_date":1596823767,"post_id":63303632,"comment_id":111944919,"body_markdown":"@NasibullohYandashev yes there is one mapper for 2 entity. usermapper was working. then i added food entity and foodmapper then it broke. so i merged to one file according to my readings. now asks for bean.","body":"@NasibullohYandashev yes there is one mapper for 2 entity. usermapper was working. then i added food entity and foodmapper then it broke. so i merged to one file according to my readings. now asks for bean."},{"owner":{"account_id":18091768,"reputation":395,"user_id":13151092,"display_name":"emretosunkaya"},"score":1,"creation_date":1597061832,"post_id":63303632,"comment_id":112002060,"body_markdown":"so no one help?","body":"so no one help?"},{"owner":{"account_id":11424364,"reputation":539,"user_id":8374909,"display_name":"Clover"},"score":0,"creation_date":1688977752,"post_id":63303632,"comment_id":135142365,"body_markdown":"where you able to resolve the issue @emretosunkaya","body":"where you able to resolve the issue @emretosunkaya"}],"answers":[{"tags":[],"owner":{"account_id":27899177,"reputation":1,"user_id":21303826,"display_name":"Aliagha Aghayev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677582364,"creation_date":1677582364,"answer_id":75591172,"question_id":63303632,"body_markdown":"Add @Component annotation to mapper class.","title":"Spring Boot, Parameter 1 of constructor in ...Service required a bean of type &#39;...Mapper&#39; that could not be found","body":"<p>Add @Component annotation to mapper class.</p>\n"},{"tags":[],"owner":{"account_id":23245629,"reputation":1,"user_id":17334257,"display_name":"&#214;zlem Yılmaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684933939,"creation_date":1684933939,"answer_id":76323929,"question_id":63303632,"body_markdown":"You can add mapStruct processor to your pom.xml\r\n\r\n\r\n\r\n","title":"Spring Boot, Parameter 1 of constructor in ...Service required a bean of type &#39;...Mapper&#39; that could not be found","body":"<p>You can add mapStruct processor to your pom.xml</p>\n"},{"tags":[],"owner":{"account_id":11424364,"reputation":539,"user_id":8374909,"display_name":"Clover"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688982993,"creation_date":1688982993,"answer_id":76652633,"question_id":63303632,"body_markdown":"upon adding these dependencies, i was able to resolve the issue.\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.mapstruct/mapstruct-processor --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.5.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.mapstruct/mapstruct --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.5.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nInstead of mapstruct-processor dependency, we can go with the plugin as mentioned [here.][1]\r\n\r\nHope it helps.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/65922885/8374909","title":"Spring Boot, Parameter 1 of constructor in ...Service required a bean of type &#39;...Mapper&#39; that could not be found","body":"<p>upon adding these dependencies, i was able to resolve the issue.</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.mapstruct/mapstruct-processor --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n    &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n    &lt;version&gt;1.5.5.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.mapstruct/mapstruct --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n    &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n    &lt;version&gt;1.5.5.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Instead of mapstruct-processor dependency, we can go with the plugin as mentioned <a href=\"https://stackoverflow.com/a/65922885/8374909\">here.</a></p>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":18091768,"reputation":395,"user_id":13151092,"display_name":"emretosunkaya"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2815,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1688982993,"creation_date":1596809773,"question_id":63303632,"body_markdown":"I&#39;m getting **bean** not found error on Mapper. It was working for just user entity, then i added food entity (all same as user) now it shows error.\r\n\r\n**Description:**\r\n\r\nParameter 1 of constructor in com.example.springmysqlelastic.service.impl.FoodService required a bean of type &#39;com.example.springmysqlelastic.mapper.UserAndFoodMapper&#39; that could not be found.\r\n\r\n\r\n**Action:**\r\n\r\nConsider defining a bean of type &#39;com.example.springmysqlelastic.mapper.UserAndFoodMapper&#39; in your configuration.\r\n\r\n**UserAndFoodMapper.java**\r\n\r\n    package com.example.springmysqlelastic.mapper;\r\n    \r\n    import com.example.springmysqlelastic.model.Food;\r\n    import com.example.springmysqlelastic.model.FoodModel;\r\n    import com.example.springmysqlelastic.model.User;\r\n    import com.example.springmysqlelastic.model.UserModel;\r\n    import com.example.springmysqlelastic.model.dto.FoodDTO;\r\n    import com.example.springmysqlelastic.model.dto.UserDTO;\r\n    import org.mapstruct.Mapper;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface UserAndFoodMapper {\r\n    \r\n        UserDTO toUserDTO(User user);\r\n    \r\n        List&lt;UserDTO&gt; toUserDtos(List&lt;User&gt; users);\r\n    \r\n        User toUser(UserDTO userDTO);\r\n    \r\n        List&lt;User&gt; toUsers(List&lt;UserDTO&gt; userDTOS);\r\n    \r\n        UserModel toUserModel(User user);\r\n    \r\n        FoodDTO toFoodDTO(Food food);\r\n    \r\n        List&lt;FoodDTO&gt; toFoodDtos(List&lt;Food&gt; foods);\r\n    \r\n        Food toFood(FoodDTO foodDTO);\r\n    \r\n        List&lt;Food&gt; toFoods(List&lt;FoodDTO&gt; foodDTOS);\r\n    \r\n        FoodModel toFoodModel(Food food);\r\n    }\r\n\r\n**FoodService.java**\r\n\r\n    package com.example.springmysqlelastic.service.impl;\r\n    \r\n    import com.example.springmysqlelastic.mapper.FoodMapper;\r\n    import com.example.springmysqlelastic.mapper.UserAndFoodMapper;\r\n    import com.example.springmysqlelastic.model.Food;\r\n    import com.example.springmysqlelastic.model.dto.FoodDTO;\r\n    import com.example.springmysqlelastic.repo.IFoodDAO;\r\n    import com.example.springmysqlelastic.service.IFoodService;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Service\r\n    public class FoodService implements IFoodService {\r\n    \r\n        private IFoodDAO foodDAO;\r\n        private UserAndFoodMapper foodMapper;\r\n        //private final FoodMapper foodMapper;\r\n        \r\n        @Autowired\r\n        public FoodService(IFoodDAO foodDAO, UserAndFoodMapper foodMapper) {\r\n            this.foodDAO = foodDAO;\r\n            this.foodMapper = foodMapper;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public FoodDTO save(FoodDTO foodDTO) {\r\n            Food food = this.foodDAO.save(this.foodMapper.toFood(foodDTO));\r\n            return this.foodMapper.toFoodDTO(food);\r\n        }\r\n    \r\n        @Override\r\n        public FoodDTO findById(Long id) {\r\n            return this.foodMapper.toFoodDTO(this.foodDAO.findById(id).orElse(null));\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;FoodDTO&gt; findAll() {\r\n            return this.foodMapper.toFoodDtos(this.foodDAO.findAll());\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n","title":"Spring Boot, Parameter 1 of constructor in ...Service required a bean of type &#39;...Mapper&#39; that could not be found","body":"<p>I'm getting <strong>bean</strong> not found error on Mapper. It was working for just user entity, then i added food entity (all same as user) now it shows error.</p>\n<p><strong>Description:</strong></p>\n<p>Parameter 1 of constructor in com.example.springmysqlelastic.service.impl.FoodService required a bean of type 'com.example.springmysqlelastic.mapper.UserAndFoodMapper' that could not be found.</p>\n<p><strong>Action:</strong></p>\n<p>Consider defining a bean of type 'com.example.springmysqlelastic.mapper.UserAndFoodMapper' in your configuration.</p>\n<p><strong>UserAndFoodMapper.java</strong></p>\n<pre><code>package com.example.springmysqlelastic.mapper;\n\nimport com.example.springmysqlelastic.model.Food;\nimport com.example.springmysqlelastic.model.FoodModel;\nimport com.example.springmysqlelastic.model.User;\nimport com.example.springmysqlelastic.model.UserModel;\nimport com.example.springmysqlelastic.model.dto.FoodDTO;\nimport com.example.springmysqlelastic.model.dto.UserDTO;\nimport org.mapstruct.Mapper;\n\nimport java.util.List;\n\n@Mapper(componentModel = &quot;spring&quot;)\npublic interface UserAndFoodMapper {\n\n    UserDTO toUserDTO(User user);\n\n    List&lt;UserDTO&gt; toUserDtos(List&lt;User&gt; users);\n\n    User toUser(UserDTO userDTO);\n\n    List&lt;User&gt; toUsers(List&lt;UserDTO&gt; userDTOS);\n\n    UserModel toUserModel(User user);\n\n    FoodDTO toFoodDTO(Food food);\n\n    List&lt;FoodDTO&gt; toFoodDtos(List&lt;Food&gt; foods);\n\n    Food toFood(FoodDTO foodDTO);\n\n    List&lt;Food&gt; toFoods(List&lt;FoodDTO&gt; foodDTOS);\n\n    FoodModel toFoodModel(Food food);\n}\n</code></pre>\n<p><strong>FoodService.java</strong></p>\n<pre><code>package com.example.springmysqlelastic.service.impl;\n\nimport com.example.springmysqlelastic.mapper.FoodMapper;\nimport com.example.springmysqlelastic.mapper.UserAndFoodMapper;\nimport com.example.springmysqlelastic.model.Food;\nimport com.example.springmysqlelastic.model.dto.FoodDTO;\nimport com.example.springmysqlelastic.repo.IFoodDAO;\nimport com.example.springmysqlelastic.service.IFoodService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n\n@Service\npublic class FoodService implements IFoodService {\n\n    private IFoodDAO foodDAO;\n    private UserAndFoodMapper foodMapper;\n    //private final FoodMapper foodMapper;\n    \n    @Autowired\n    public FoodService(IFoodDAO foodDAO, UserAndFoodMapper foodMapper) {\n        this.foodDAO = foodDAO;\n        this.foodMapper = foodMapper;\n    }\n\n\n    @Override\n    public FoodDTO save(FoodDTO foodDTO) {\n        Food food = this.foodDAO.save(this.foodMapper.toFood(foodDTO));\n        return this.foodMapper.toFoodDTO(food);\n    }\n\n    @Override\n    public FoodDTO findById(Long id) {\n        return this.foodMapper.toFoodDTO(this.foodDAO.findById(id).orElse(null));\n    }\n\n    @Override\n    public List&lt;FoodDTO&gt; findAll() {\n        return this.foodMapper.toFoodDtos(this.foodDAO.findAll());\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","sql-server","jdbc","mssql-jdbc"],"comments":[{"owner":{"account_id":87845,"reputation":15821,"user_id":243373,"accept_rate":100,"display_name":"TT."},"score":0,"creation_date":1688632316,"post_id":76626783,"comment_id":135100588,"body_markdown":"It may be weird, but you&#39;ll have to get all result sets for the errors to trigger. I&#39;m personally not a fan of how this works because you&#39;re not getting all exceptions in all cases (meaning, all execute methods).","body":"It may be weird, but you&#39;ll have to get all result sets for the errors to trigger. I&#39;m personally not a fan of how this works because you&#39;re not getting all exceptions in all cases (meaning, all execute methods)."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1688633150,"post_id":76626783,"comment_id":135100770,"body_markdown":"the sql server handling is a bit weird, sometimes errors are attached to the resultsets. if you do   if (result)\n        {\n            ResultSet rs = s.getResultSet();\n        }\n        else if (s.getUpdateCount() != -1)\n        {\n            boolean b = s.getMoreResults();\n            if (b)\n            {\n                System.out.println(&quot;has results&quot;);\n            }\n\n        }","body":"the sql server handling is a bit weird, sometimes errors are attached to the resultsets. if you do   if (result)         {             ResultSet rs = s.getResultSet();         }         else if (s.getUpdateCount() != -1)         {             boolean b = s.getMoreResults();             if (b)             {                 System.out.println(&quot;has results&quot;);             }          }"}],"answers":[{"tags":[],"owner":{"account_id":13548231,"reputation":631,"user_id":9773847,"display_name":"Nyamkhuu Buyanjargal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688635289,"creation_date":1688632392,"answer_id":76626953,"question_id":76626783,"body_markdown":"If you want to execute multiple queries, you can use batch method like this:\r\n\r\n    ...\r\n                // Step 1: create statement object from connection\r\n                Statement s = con.createStatement();\r\n               \r\n                // Step 2: Create a statement / create table\r\n                String sql1\r\n                    = &quot;CREATE TABLE STUDENT(STUDENTID VARCHAR2(10) PRIMARY KEY,NAME VARCHAR2(20),DEPARTMENT VARCHAR2(10))&quot;;\r\n     \r\n                // Step 3: Process a query\r\n                // Insert records in the table\r\n                String sql2\r\n                    = &quot;INSERT INTO STUDENT VALUES(&#39;S101&#39;,&#39;JEAN&#39;,&#39;CSE&#39;)&quot;;\r\n                String sql3\r\n                    = &quot;INSERT INTO STUDENT VALUES(&#39;S102&#39;,&#39;ANA&#39;,&#39;CSE&#39;)&quot;;\r\n                String sql4\r\n                    = &quot;INSERT INTO STUDENT VALUES(&#39;S103&#39;,&#39;ROBERT&#39;,&#39;ECE&#39;)&quot;;\r\n                String sql5\r\n                    = &quot;INSERT INTO STUDENT VALUES(&#39;S104&#39;,&#39;ALEX&#39;,&#39;IT&#39;)&quot;;\r\n                String sql6\r\n                    = &quot;INSERT INTO STUDENT VALUES(&#39;S105&#39;,&#39;DIANA&#39;,&#39;IT&#39;)&quot;;\r\n                s.addBatch(sql1);\r\n                s.addBatch(sql2);\r\n                s.addBatch(sql3);\r\n                s.addBatch(sql4);\r\n                s.addBatch(sql5);\r\n                s.addBatch(sql6);\r\n     \r\n                // Step 4: Process the results\r\n                // execute the sql statements\r\n                s.executeBatch();\r\n    ...","title":"Mssql driver does not report error/exception when using Statement.execute() command","body":"<p>If you want to execute multiple queries, you can use batch method like this:</p>\n<pre><code>...\n            // Step 1: create statement object from connection\n            Statement s = con.createStatement();\n           \n            // Step 2: Create a statement / create table\n            String sql1\n                = &quot;CREATE TABLE STUDENT(STUDENTID VARCHAR2(10) PRIMARY KEY,NAME VARCHAR2(20),DEPARTMENT VARCHAR2(10))&quot;;\n \n            // Step 3: Process a query\n            // Insert records in the table\n            String sql2\n                = &quot;INSERT INTO STUDENT VALUES('S101','JEAN','CSE')&quot;;\n            String sql3\n                = &quot;INSERT INTO STUDENT VALUES('S102','ANA','CSE')&quot;;\n            String sql4\n                = &quot;INSERT INTO STUDENT VALUES('S103','ROBERT','ECE')&quot;;\n            String sql5\n                = &quot;INSERT INTO STUDENT VALUES('S104','ALEX','IT')&quot;;\n            String sql6\n                = &quot;INSERT INTO STUDENT VALUES('S105','DIANA','IT')&quot;;\n            s.addBatch(sql1);\n            s.addBatch(sql2);\n            s.addBatch(sql3);\n            s.addBatch(sql4);\n            s.addBatch(sql5);\n            s.addBatch(sql6);\n \n            // Step 4: Process the results\n            // execute the sql statements\n            s.executeBatch();\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688982842,"creation_date":1688637513,"answer_id":76627640,"question_id":76626783,"body_markdown":"I think you should print out **your Boolean result for execute** execute(string) returns a Boolean which I believe will most likely be false!\r\n\r\n**The executeQuery(string) must return a &quot;ResultSet&quot;**, so it would throw exception because that is not the type of statement to use in executeQuery.\r\n\r\nAny errors of SQL code execution belong to the SQL server, the Java only is reporting the outcome by particular tools it has to check the final outcome such as error code numbers, however, some interaction through the connector is monitored and will assert error as exception as the API docs generally define will occur with particular methods.","title":"Mssql driver does not report error/exception when using Statement.execute() command","body":"<p>I think you should print out <strong>your Boolean result for execute</strong> execute(string) returns a Boolean which I believe will most likely be false!</p>\n<p><strong>The executeQuery(string) must return a &quot;ResultSet&quot;</strong>, so it would throw exception because that is not the type of statement to use in executeQuery.</p>\n<p>Any errors of SQL code execution belong to the SQL server, the Java only is reporting the outcome by particular tools it has to check the final outcome such as error code numbers, however, some interaction through the connector is monitored and will assert error as exception as the API docs generally define will occur with particular methods.</p>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688891131,"creation_date":1688891131,"answer_id":76646525,"question_id":76626783,"body_markdown":"The problem is that you&#39;re executing multiple statements, and that means that the SQL server implementation will report results *per statement*.\r\n\r\nYou will need to use the following to get exception from the second or third statement:\r\n\r\n```\r\nboolean result = s.execute(&quot;CREATE TABLE table1(id int, value int, PRIMARY KEY (id));\\n&quot; +\r\n                    &quot;INSERT INTO table1 VALUES(1,10);\\n&quot; +\r\n                    &quot;INSERT INTO table1 VALUES(1,14);&quot;);\r\nwhile (result || s.getUpdateCount() != -1) {\r\n    result = s.getMoreResults();\r\n}\r\n```\r\n\r\nIf there is a pending exception for the second (or in this case, third) statement, the call to `getMoreResults()` will throw it.\r\n\r\nAlternatively, use the JDBC API as it is intended to be used, and execute the statements individually.","title":"Mssql driver does not report error/exception when using Statement.execute() command","body":"<p>The problem is that you're executing multiple statements, and that means that the SQL server implementation will report results <em>per statement</em>.</p>\n<p>You will need to use the following to get exception from the second or third statement:</p>\n<pre><code>boolean result = s.execute(&quot;CREATE TABLE table1(id int, value int, PRIMARY KEY (id));\\n&quot; +\n                    &quot;INSERT INTO table1 VALUES(1,10);\\n&quot; +\n                    &quot;INSERT INTO table1 VALUES(1,14);&quot;);\nwhile (result || s.getUpdateCount() != -1) {\n    result = s.getMoreResults();\n}\n</code></pre>\n<p>If there is a pending exception for the second (or in this case, third) statement, the call to <code>getMoreResults()</code> will throw it.</p>\n<p>Alternatively, use the JDBC API as it is intended to be used, and execute the statements individually.</p>\n"}],"owner":{"account_id":27800631,"reputation":11,"user_id":21225151,"display_name":"Thiccasa 69"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1688982842,"creation_date":1688631101,"question_id":76626783,"body_markdown":"I was trying to execute multiple lines of SQl using the Statement.execute() method like shown, and I tried to execute something that is obviously going to fail, but no exception is being thrown. Has anyone faced this issue in the past? What am I doing wrong?\r\n\r\n\r\n```\r\nStatement s = manager.createStatement();\r\nboolean result = s.execute(&quot;CREATE TABLE table1(id int, value int, PRIMARY KEY (id));\\n&quot; +\r\n\t\t\t\t\t&quot;INSERT INTO table1 VALUES(1,10);\\n&quot; +\r\n\t\t\t\t\t&quot;INSERT INTO table1 VALUES(1,14);&quot;);\r\n```\r\n\r\nWhen I run this, everything looks fine, no error or exception anywhere.\r\n\r\nI&#39;m using the `mssql-jdbc-9.2.0.jre8.jar` driver. Also tried with `mssql-jdbc-12.2.0.jre8.jar`, no difference.\r\n\r\nWhen I run the same thing using the .executeQuery() method, I get the expected exception regarding the violation of primary key.","title":"Mssql driver does not report error/exception when using Statement.execute() command","body":"<p>I was trying to execute multiple lines of SQl using the Statement.execute() method like shown, and I tried to execute something that is obviously going to fail, but no exception is being thrown. Has anyone faced this issue in the past? What am I doing wrong?</p>\n<pre><code>Statement s = manager.createStatement();\nboolean result = s.execute(&quot;CREATE TABLE table1(id int, value int, PRIMARY KEY (id));\\n&quot; +\n                    &quot;INSERT INTO table1 VALUES(1,10);\\n&quot; +\n                    &quot;INSERT INTO table1 VALUES(1,14);&quot;);\n</code></pre>\n<p>When I run this, everything looks fine, no error or exception anywhere.</p>\n<p>I'm using the <code>mssql-jdbc-9.2.0.jre8.jar</code> driver. Also tried with <code>mssql-jdbc-12.2.0.jre8.jar</code>, no difference.</p>\n<p>When I run the same thing using the .executeQuery() method, I get the expected exception regarding the violation of primary key.</p>\n"},{"tags":["java","android","youtube"],"comments":[{"owner":{"account_id":16810116,"reputation":1186,"user_id":12153321,"display_name":"Javlon"},"score":0,"creation_date":1688983116,"post_id":76652540,"comment_id":135143472,"body_markdown":"After upgrading the lib, have you changed you code? You can look into this sample app: https://github.com/PierfrancescoSoffritti/android-youtube-player/tree/master/core-sample-app","body":"After upgrading the lib, have you changed you code? You can look into this sample app: <a href=\"https://github.com/PierfrancescoSoffritti/android-youtube-player/tree/master/core-sample-app\" rel=\"nofollow noreferrer\">github.com/PierfrancescoSoffritti/android-youtube-player/tre&zwnj;&#8203;e/&hellip;</a>"}],"owner":{"account_id":28985670,"reputation":1,"user_id":22202539,"display_name":"Sublime Developer5"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688982249,"creation_date":1688982249,"question_id":76652540,"body_markdown":"I have been working on a project that was orignally build in 2017-18, the application uses a third party package for youtube player but now it giving error about &quot;An error occurred while initializing the Youtube Player&quot;.\r\n\r\nPackage: com.github.PierfrancescoSoffritti:AndroidYouTubePlayer:4.1.6\r\n\r\n\r\nI have tried to upgrade the package nothings helps","title":"Android Studio No variants found for :app","body":"<p>I have been working on a project that was orignally build in 2017-18, the application uses a third party package for youtube player but now it giving error about &quot;An error occurred while initializing the Youtube Player&quot;.</p>\n<p>Package: com.github.PierfrancescoSoffritti:AndroidYouTubePlayer:4.1.6</p>\n<p>I have tried to upgrade the package nothings helps</p>\n"},{"tags":["java","selenium-webdriver","google-signin","recaptcha","captcha"],"owner":{"account_id":23333656,"reputation":21,"user_id":17409669,"display_name":"Abdul Wahab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688982186,"creation_date":1688982186,"question_id":76652536,"body_markdown":"Whenever I try to Sign In to Google or Microsoft using Selenium It can not handle the CAPTCHA and the testScript failed. if I handle CAPTCHA manually, then the testcase further start running and passed. I want to bypass the CAPTCHA  or any solution to handle the CAPTCHA in Automation.","title":"how can I bypass captcha while Signing into google or Microsoft with selenium automation?","body":"<p>Whenever I try to Sign In to Google or Microsoft using Selenium It can not handle the CAPTCHA and the testScript failed. if I handle CAPTCHA manually, then the testcase further start running and passed. I want to bypass the CAPTCHA  or any solution to handle the CAPTCHA in Automation.</p>\n"},{"tags":["java","oop","strategy-pattern"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":3,"creation_date":1688981963,"post_id":76652476,"comment_id":135143232,"body_markdown":"*flyBehaviour = new FlyWithWings();* is outside of a method","body":"<i>flyBehaviour = new FlyWithWings();</i> is outside of a method"},{"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"score":1,"creation_date":1688982338,"post_id":76652476,"comment_id":135143312,"body_markdown":"Move ```flyBehaviour = new FlyWithWings();``` into a constructor","body":"Move <code>flyBehaviour = new FlyWithWings();</code> into a constructor"}],"owner":{"account_id":25580901,"reputation":29,"user_id":19359502,"display_name":"Daria"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1688981727,"creation_date":1688981727,"question_id":76652476,"body_markdown":"I have created an interface Flyable and the class FlyableWithWing implementing this interface\r\n\r\n```\r\npublic interface Flyable {\r\n    void fly();\r\n}\r\n```\r\n\r\n```\r\npublic class FlyWithWings implements Flyable {\r\n    @Override\r\n    public void fly() {\r\n        System.out.println(&quot;This animal flyies with wings&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI have created a supers class Duck and subclass MallarDuck. Class Duck holds a reference to an object type Flyable.\r\n\r\n```\r\npublic class Duck {\r\n    Flyable flyBehaviour;\r\n\r\n    void perfomFly() {\r\n        flyBehaviour.fly();\r\n    }\r\n}\r\n```\r\n\r\nI tried to initilize varibale flyBehaviour in subclass MallarDuck with Flyable object. but i get an error &quot;VariableDeclaratorId expected after this token&quot;.\r\n\r\n```\r\npublic class MallarDuck extends Duck {\r\n    flyBehaviour = new FlyWithWings();\r\n}\r\n```","title":"Java i can not initalize reference varibale in subclass because &quot;VariableDeclaratorId expected after this token&quot;","body":"<p>I have created an interface Flyable and the class FlyableWithWing implementing this interface</p>\n<pre><code>public interface Flyable {\n    void fly();\n}\n</code></pre>\n<pre><code>public class FlyWithWings implements Flyable {\n    @Override\n    public void fly() {\n        System.out.println(&quot;This animal flyies with wings&quot;);\n    }\n}\n</code></pre>\n<p>I have created a supers class Duck and subclass MallarDuck. Class Duck holds a reference to an object type Flyable.</p>\n<pre><code>public class Duck {\n    Flyable flyBehaviour;\n\n    void perfomFly() {\n        flyBehaviour.fly();\n    }\n}\n</code></pre>\n<p>I tried to initilize varibale flyBehaviour in subclass MallarDuck with Flyable object. but i get an error &quot;VariableDeclaratorId expected after this token&quot;.</p>\n<pre><code>public class MallarDuck extends Duck {\n    flyBehaviour = new FlyWithWings();\n}\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":1,"creation_date":1688549041,"post_id":76618908,"comment_id":135086756,"body_markdown":"You forgot to ask a question.","body":"You forgot to ask a question."},{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1688549229,"post_id":76618908,"comment_id":135086810,"body_markdown":"Please have a look at [TOUR] and [ASK]","body":"Please have a look at <a href=\"https://stackoverflow.com/tour\">TOUR</a> and <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"},{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1688549417,"post_id":76618908,"comment_id":135086859,"body_markdown":"Based on your question history you may be interested in [What should I do when someone answers my question?](https://stackoverflow.com/help/someone-answers)","body":"Based on your question history you may be interested in <a href=\"https://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}],"answers":[{"tags":[],"owner":{"account_id":20509645,"reputation":41,"user_id":15051712,"display_name":"Prasad Jagtap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688981203,"creation_date":1688549628,"answer_id":76619003,"question_id":76618908,"body_markdown":"As per the error I am seeing I think that you are trying to take the payload using request param.\r\n\r\n     validateAndCreate(@RequestParam(name = &quot;requestBody&quot;) ValidationCreationDTO requestBody\r\n\r\nInstead try to use following line. \r\n\r\n     validateAndCreate(@RequestBody(name = &quot;requestBody&quot;) ValidationCreationDTO requestBody\r\n\r\nIf this is not working then please try to provide more insight about the problem you are encountering.","title":"Resolved [org.springframework.web.method.annotation.MethodArgumentConversionNotSupportedException","body":"<p>As per the error I am seeing I think that you are trying to take the payload using request param.</p>\n<pre><code> validateAndCreate(@RequestParam(name = &quot;requestBody&quot;) ValidationCreationDTO requestBody\n</code></pre>\n<p>Instead try to use following line.</p>\n<pre><code> validateAndCreate(@RequestBody(name = &quot;requestBody&quot;) ValidationCreationDTO requestBody\n</code></pre>\n<p>If this is not working then please try to provide more insight about the problem you are encountering.</p>\n"}],"owner":{"account_id":13795396,"reputation":37,"user_id":9956737,"display_name":"nikolas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1688981203,"creation_date":1688548964,"question_id":76618908,"body_markdown":"\r\n\r\n` Resolved [org.springframework.web.method.annotation.MethodArgumentConversionNotSupportedException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;apistagefse.gateway.data.DTO.ValidationCreationDTO&#39;; nested exception is java.lang.IllegalStateException: Cannot convert value of type &#39;java.lang.String&#39; to required type &#39;apistagefse.gateway.data.DTO.ValidationCreationDTO&#39;: no matching editors or conversion strategy found]`\r\n\r\n\r\nspring method\r\n\r\n```\r\n public ResponseEntity&lt;DocumentBaseResponse&gt; validateAndCreate(@RequestParam(name = &quot;requestBody&quot;) ValidationCreationDTO requestBody, @RequestParam(name = &quot;file&quot;) MultipartFile file, HttpServletRequest request) {\r\n```","title":"Resolved [org.springframework.web.method.annotation.MethodArgumentConversionNotSupportedException","body":"<p><code> Resolved [org.springframework.web.method.annotation.MethodArgumentConversionNotSupportedException: Failed to convert value of type 'java.lang.String' to required type 'apistagefse.gateway.data.DTO.ValidationCreationDTO'; nested exception is java.lang.IllegalStateException: Cannot convert value of type 'java.lang.String' to required type 'apistagefse.gateway.data.DTO.ValidationCreationDTO': no matching editors or conversion strategy found]</code></p>\n<p>spring method</p>\n<pre><code> public ResponseEntity&lt;DocumentBaseResponse&gt; validateAndCreate(@RequestParam(name = &quot;requestBody&quot;) ValidationCreationDTO requestBody, @RequestParam(name = &quot;file&quot;) MultipartFile file, HttpServletRequest request) {\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa","persistence"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1688981284,"post_id":76652395,"comment_id":135143097,"body_markdown":"Try to remove the parent from each child","body":"Try to remove the parent from each child"}],"owner":{"account_id":12207201,"reputation":13,"user_id":8909955,"display_name":"martinz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688981079,"creation_date":1688981079,"question_id":76652395,"body_markdown":"I&#39;m trying to clone an entity, removing some children, and save the new entity, but I&#39;m getting an *IllegalArgumentException: Removing a detached instance package.Child* and I don&#39;t understand why. I think it&#39;s because of the orphan removal annotation, which I need for other methods.\r\n\r\nHere&#39;s my entity model:\r\n\r\n```\r\n@Entity\r\npublic class MainEntity {\r\n    private Set&lt;SubEntity&gt; subEntities;\r\n\r\n    @OneToMany(mappedBy = &quot;main&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    public Set&lt;SubEntity&gt; getSubEntities() {\r\n        return subEntities;\r\n    }\r\n\r\n    //other fields, getters and setters\r\n}\r\n\r\n@Entity\r\npublic class SubEntity {\r\n    private MainEntity main;\r\n    private Set&lt;Child&gt; children;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;MAIN_ID&quot;)\r\n    public getMainEntity() {\r\n        return main;\r\n    }\r\n  \r\n    @OneToMany(mappedBy = &quot;parent&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    public Set&lt;Child&gt; getChildren() {\r\n        return children;\r\n    }   \r\n\r\n    //other fields, getters and setters\r\n}\r\n\r\n@Entity\r\npublic class Child {\r\n    private SubEntity parent;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;PARENT_ID&quot;)\r\n    public LayoutComposition getParent() {\r\n        return parent;\r\n    }\r\n  \r\n    //other fields, getters and setters\r\n}\r\n```\r\n\r\nI need to clone MainEntity with all of its fields and collections, but each of the cloned SubEntity must have no children. \r\nI&#39;m deep cloning the entity and trying to remove the subentity.children.\r\n\r\n\r\n```\r\n@Autowired\r\nRepository repository; //interface extending JpaRepository&lt;MainEntity, Long&gt;\r\n\r\nMainEntity creating = SerializationUtils.clone(existing); //org.apache.commons.lang3\r\ncreating.setId(null);\r\nfor (SubEntity s : creating.getSubEntities()) {\r\n    s.setId(null);\r\n    s.getChildren().clear();\r\n}\r\nrepository.save(creating);\r\n```\r\n\r\nCan someone help? Thanks","title":"Hibernate: cloning entity gives &quot;Removing a detached instance&quot; exception on children","body":"<p>I'm trying to clone an entity, removing some children, and save the new entity, but I'm getting an <em>IllegalArgumentException: Removing a detached instance package.Child</em> and I don't understand why. I think it's because of the orphan removal annotation, which I need for other methods.</p>\n<p>Here's my entity model:</p>\n<pre><code>@Entity\npublic class MainEntity {\n    private Set&lt;SubEntity&gt; subEntities;\n\n    @OneToMany(mappedBy = &quot;main&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    public Set&lt;SubEntity&gt; getSubEntities() {\n        return subEntities;\n    }\n\n    //other fields, getters and setters\n}\n\n@Entity\npublic class SubEntity {\n    private MainEntity main;\n    private Set&lt;Child&gt; children;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;MAIN_ID&quot;)\n    public getMainEntity() {\n        return main;\n    }\n  \n    @OneToMany(mappedBy = &quot;parent&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\n    public Set&lt;Child&gt; getChildren() {\n        return children;\n    }   \n\n    //other fields, getters and setters\n}\n\n@Entity\npublic class Child {\n    private SubEntity parent;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;PARENT_ID&quot;)\n    public LayoutComposition getParent() {\n        return parent;\n    }\n  \n    //other fields, getters and setters\n}\n</code></pre>\n<p>I need to clone MainEntity with all of its fields and collections, but each of the cloned SubEntity must have no children.\nI'm deep cloning the entity and trying to remove the subentity.children.</p>\n<pre><code>@Autowired\nRepository repository; //interface extending JpaRepository&lt;MainEntity, Long&gt;\n\nMainEntity creating = SerializationUtils.clone(existing); //org.apache.commons.lang3\ncreating.setId(null);\nfor (SubEntity s : creating.getSubEntities()) {\n    s.setId(null);\n    s.getChildren().clear();\n}\nrepository.save(creating);\n</code></pre>\n<p>Can someone help? Thanks</p>\n"},{"tags":["java","image"],"answers":[{"tags":[],"owner":{"account_id":33136,"reputation":27684,"user_id":92493,"accept_rate":83,"display_name":"Otto Allmendinger"},"down_vote_count":1,"up_vote_count":40,"is_accepted":true,"score":39,"last_activity_date":1430217893,"creation_date":1342078735,"answer_id":11447113,"question_id":11447035,"body_markdown":"Use [ImageReader.getFormatName()](http://docs.oracle.com/javase/6/docs/api/javax/imageio/ImageReader.html#getFormatName())\r\n\r\nYou can get the image readers for a file using [ImageIO.getImageReaders(Object input)](http://docs.oracle.com/javase/6/docs/api/javax/imageio/ImageIO.html#getImageReaders(java.lang.Object)).\r\n\r\nI haven&#39;t tested it myself, but you can try this:\r\n\r\n    ImageInputStream iis = ImageIO.createImageInputStream(file);\r\n    \r\n    Iterator&lt;ImageReader&gt; imageReaders = ImageIO.getImageReaders(iis);\r\n\r\n    while (imageReaders.hasNext()) {\r\n        ImageReader reader = (ImageReader) imageReaders.next();\r\n        System.out.printf(&quot;formatName: %s%n&quot;, reader.getFormatName());\r\n    }","title":"Java get image extension/type using BufferedImage from URL","body":"<p>Use <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/imageio/ImageReader.html#getFormatName()\" rel=\"noreferrer\">ImageReader.getFormatName()</a></p>\n\n<p>You can get the image readers for a file using <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/imageio/ImageIO.html#getImageReaders(java.lang.Object)\" rel=\"noreferrer\">ImageIO.getImageReaders(Object input)</a>.</p>\n\n<p>I haven't tested it myself, but you can try this:</p>\n\n<pre><code>ImageInputStream iis = ImageIO.createImageInputStream(file);\n\nIterator&lt;ImageReader&gt; imageReaders = ImageIO.getImageReaders(iis);\n\nwhile (imageReaders.hasNext()) {\n    ImageReader reader = (ImageReader) imageReaders.next();\n    System.out.printf(\"formatName: %s%n\", reader.getFormatName());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1938618,"reputation":698,"user_id":1745416,"display_name":"JohnC"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1464027219,"creation_date":1383519801,"answer_id":19759294,"question_id":11447035,"body_markdown":"The suggestion to use ImageIO.createImageInputStream(obj) will not work if the object is a URL. \r\n\r\nOne alternative is to use the URLConnection.guessContentTypeFromStream(InputStream stream) method. This method guesses the content type by examining the first 12 bytes of a stream. \r\n\r\nOne complication with using this method is that it requires the given stream parameter to be mark supported, and the stream returned by java url.openStream() is not mark supported.  \r\n\r\nAdditionally, if you want to be determine the content type and download the image to a BufferedImage, then it would be preferable if the solution only downloaded the content once (as opposed to making two passes, once to determine the content type and a second time to download the image).\r\n\r\nOne solution is to use the PushbackInputStream.  The PushbackInputStream can be used to download the first initial bytes to determine content type.  The bytes can then be pushed back on the stream so that the ImageIO.read(stream) can read the stream in its entirety. \r\n\r\nPossible solution:\r\n\r\n\r\n    // URLConnection.guessContentTypeFromStream only needs the first 12 bytes, but\r\n    // just to be safe from future java api enhancements, we&#39;ll use a larger number\r\n    int pushbackLimit = 100;\r\n    InputStream urlStream = url.openStream();\r\n    PushbackInputStream pushUrlStream = new PushbackInputStream(urlStream, pushbackLimit);\r\n    byte [] firstBytes = new byte[pushbackLimit];\r\n    // download the first initial bytes into a byte array, which we will later pass to \r\n    // URLConnection.guessContentTypeFromStream  \r\n    pushUrlStream.read(firstBytes);\r\n    // push the bytes back onto the PushbackInputStream so that the stream can be read \r\n    // by ImageIO reader in its entirety\r\n    pushUrlStream.unread(firstBytes);\r\n    \r\n    String imageType = null;\r\n    // Pass the initial bytes to URLConnection.guessContentTypeFromStream in the form of a\r\n    // ByteArrayInputStream, which is mark supported.\r\n    ByteArrayInputStream bais = new ByteArrayInputStream(firstBytes);\r\n    String mimeType = URLConnection.guessContentTypeFromStream(bais);\r\n    if (mimeType.startsWith(&quot;image/&quot;))\r\n        imageType = mimeType.substring(&quot;image/&quot;.length());\r\n    // else handle failure here\r\n    \r\n    // read in image\r\n    BufferedImage inputImage = ImageIO.read(pushUrlStream);\r\n    \r\n","title":"Java get image extension/type using BufferedImage from URL","body":"<p>The suggestion to use ImageIO.createImageInputStream(obj) will not work if the object is a URL. </p>\n\n<p>One alternative is to use the URLConnection.guessContentTypeFromStream(InputStream stream) method. This method guesses the content type by examining the first 12 bytes of a stream. </p>\n\n<p>One complication with using this method is that it requires the given stream parameter to be mark supported, and the stream returned by java url.openStream() is not mark supported.  </p>\n\n<p>Additionally, if you want to be determine the content type and download the image to a BufferedImage, then it would be preferable if the solution only downloaded the content once (as opposed to making two passes, once to determine the content type and a second time to download the image).</p>\n\n<p>One solution is to use the PushbackInputStream.  The PushbackInputStream can be used to download the first initial bytes to determine content type.  The bytes can then be pushed back on the stream so that the ImageIO.read(stream) can read the stream in its entirety. </p>\n\n<p>Possible solution:</p>\n\n<pre><code>// URLConnection.guessContentTypeFromStream only needs the first 12 bytes, but\n// just to be safe from future java api enhancements, we'll use a larger number\nint pushbackLimit = 100;\nInputStream urlStream = url.openStream();\nPushbackInputStream pushUrlStream = new PushbackInputStream(urlStream, pushbackLimit);\nbyte [] firstBytes = new byte[pushbackLimit];\n// download the first initial bytes into a byte array, which we will later pass to \n// URLConnection.guessContentTypeFromStream  \npushUrlStream.read(firstBytes);\n// push the bytes back onto the PushbackInputStream so that the stream can be read \n// by ImageIO reader in its entirety\npushUrlStream.unread(firstBytes);\n\nString imageType = null;\n// Pass the initial bytes to URLConnection.guessContentTypeFromStream in the form of a\n// ByteArrayInputStream, which is mark supported.\nByteArrayInputStream bais = new ByteArrayInputStream(firstBytes);\nString mimeType = URLConnection.guessContentTypeFromStream(bais);\nif (mimeType.startsWith(\"image/\"))\n    imageType = mimeType.substring(\"image/\".length());\n// else handle failure here\n\n// read in image\nBufferedImage inputImage = ImageIO.read(pushUrlStream);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1990052,"reputation":1526,"user_id":1784279,"accept_rate":40,"display_name":"med116"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662666954,"creation_date":1445532189,"answer_id":33286239,"question_id":11447035,"body_markdown":"### This works by feeding in a URL object (that is an image), and returning a file extension\r\nIt requires an initial download though, to the java tmp directory, and it is then deleted after the ImageReader attempts to get the gather the image type\r\n\r\n    import javax.imageio.ImageIO;\r\n    import javax.imageio.stream.ImageInputStream;\r\n    import javax.imageio.ImageReader;\r\n    import java.util.Iterator;\r\n\r\n\r\n\tpublic String getImageFileExtFromUrl(URL urlObject) throws URISyntaxException, IOException{\r\n\t\tSystem.out.println(&quot;IN DOWNLOAD FILE FROM URL METHOD&quot;);\r\n\t\tString tmpFolder = System.getProperty(&quot;java.io.tmpdir&quot;);\r\n\t\tString tmpFileStr = tmpFolder + &quot;/&quot; + new Date().getTime();\r\n\t\tFiles.copy(urlObject.openStream(), Paths.get(tmpFileStr), StandardCopyOption.REPLACE_EXISTING);\r\n\t\tFile download = new File(tmpFileStr);\r\n\t\tSystem.out.println(&quot;FILE DOWNLOAD EXISTS: &quot; + download.exists() );\r\n\t\ttry{\r\n\t\t\tImageInputStream iis = ImageIO.createImageInputStream(download);\r\n\t\t\tIterator&lt;ImageReader&gt; iter = ImageIO.getImageReaders(iis);\r\n\t\t\t\r\n\t\t\tImageReader reader = iter.next();\r\n\t\t\tString formatName = reader.getFormatName();\r\n\t\t\tSystem.out.println(&quot;FOUND IMAGE FORMAT :&quot; + formatName);\r\n\t\t\tiis.close();\r\n\t\t\treturn formatName;\r\n\t\t}catch(Exception e){\r\n\t\t\te.printStackTrace();\r\n\t\t}finally{\r\n\t\t\tFiles.delete(Paths.get(tmpFileStr));\r\n\t\t}\r\n\t\treturn null;\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}","title":"Java get image extension/type using BufferedImage from URL","body":"<h3>This works by feeding in a URL object (that is an image), and returning a file extension</h3>\n<p>It requires an initial download though, to the java tmp directory, and it is then deleted after the ImageReader attempts to get the gather the image type</p>\n<pre><code>import javax.imageio.ImageIO;\nimport javax.imageio.stream.ImageInputStream;\nimport javax.imageio.ImageReader;\nimport java.util.Iterator;\n\n\npublic String getImageFileExtFromUrl(URL urlObject) throws URISyntaxException, IOException{\n    System.out.println(&quot;IN DOWNLOAD FILE FROM URL METHOD&quot;);\n    String tmpFolder = System.getProperty(&quot;java.io.tmpdir&quot;);\n    String tmpFileStr = tmpFolder + &quot;/&quot; + new Date().getTime();\n    Files.copy(urlObject.openStream(), Paths.get(tmpFileStr), StandardCopyOption.REPLACE_EXISTING);\n    File download = new File(tmpFileStr);\n    System.out.println(&quot;FILE DOWNLOAD EXISTS: &quot; + download.exists() );\n    try{\n        ImageInputStream iis = ImageIO.createImageInputStream(download);\n        Iterator&lt;ImageReader&gt; iter = ImageIO.getImageReaders(iis);\n        \n        ImageReader reader = iter.next();\n        String formatName = reader.getFormatName();\n        System.out.println(&quot;FOUND IMAGE FORMAT :&quot; + formatName);\n        iis.close();\n        return formatName;\n    }catch(Exception e){\n        e.printStackTrace();\n    }finally{\n        Files.delete(Paths.get(tmpFileStr));\n    }\n    return null;\n    \n    \n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1150252,"reputation":2707,"user_id":1625820,"accept_rate":59,"display_name":"herrtim"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1461244998,"creation_date":1461244998,"answer_id":36770963,"question_id":11447035,"body_markdown":"If you get the image from a URL, that means you can access the image through an `InputStream`. From that you can use `ImageIO` to get the image type (format) and with the following code, create a BufferedImage at the same time.\r\n\r\n  \r\n\r\n    public static BufferedImageWrapper getImageAndTypeFromInputStream(InputStream is) {\r\n    \r\n        String format = null;\r\n        BufferedImage bufferedimage = null;\r\n        try (ImageInputStream iis = ImageIO.createImageInputStream(is);) {\r\n    \r\n          Iterator&lt;ImageReader&gt; readers = ImageIO.getImageReaders(iis);\r\n    \r\n          if (readers.hasNext()) {\r\n    \r\n            ImageReader reader = readers.next();\r\n            format = reader.getFormatName();\r\n            reader.setInput(iis);\r\n            bufferedimage = reader.read(0);\r\n          }\r\n        } catch (IOException e) {\r\n          logger.error(&quot;ERROR DETERMINING IMAGE TYPE!!!&quot;, e);\r\n        }\r\n    \r\n        return new BufferedImageWrapper(format, bufferedimage);\r\n      }\r\n    \r\n      public static class BufferedImageWrapper {\r\n    \r\n        private final String imageType;\r\n        private final BufferedImage bufferedimage;\r\n    \r\n        /**\r\n         * Constructor\r\n         *\r\n         * @param imageType\r\n         * @param bufferedimage\r\n         */\r\n        public BufferedImageWrapper(String imageType, BufferedImage bufferedimage) {\r\n          this.imageType = imageType;\r\n          this.bufferedimage = bufferedimage;\r\n        }\r\n    \r\n        public String getImageType() {\r\n    \r\n          return imageType;\r\n        }\r\n    \r\n        public BufferedImage getBufferedimage() {\r\n    \r\n          return bufferedimage;\r\n        }\r\n    \r\n      }","title":"Java get image extension/type using BufferedImage from URL","body":"<p>If you get the image from a URL, that means you can access the image through an <code>InputStream</code>. From that you can use <code>ImageIO</code> to get the image type (format) and with the following code, create a BufferedImage at the same time.</p>\n\n<pre><code>public static BufferedImageWrapper getImageAndTypeFromInputStream(InputStream is) {\n\n    String format = null;\n    BufferedImage bufferedimage = null;\n    try (ImageInputStream iis = ImageIO.createImageInputStream(is);) {\n\n      Iterator&lt;ImageReader&gt; readers = ImageIO.getImageReaders(iis);\n\n      if (readers.hasNext()) {\n\n        ImageReader reader = readers.next();\n        format = reader.getFormatName();\n        reader.setInput(iis);\n        bufferedimage = reader.read(0);\n      }\n    } catch (IOException e) {\n      logger.error(\"ERROR DETERMINING IMAGE TYPE!!!\", e);\n    }\n\n    return new BufferedImageWrapper(format, bufferedimage);\n  }\n\n  public static class BufferedImageWrapper {\n\n    private final String imageType;\n    private final BufferedImage bufferedimage;\n\n    /**\n     * Constructor\n     *\n     * @param imageType\n     * @param bufferedimage\n     */\n    public BufferedImageWrapper(String imageType, BufferedImage bufferedimage) {\n      this.imageType = imageType;\n      this.bufferedimage = bufferedimage;\n    }\n\n    public String getImageType() {\n\n      return imageType;\n    }\n\n    public BufferedImage getBufferedimage() {\n\n      return bufferedimage;\n    }\n\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5903706,"reputation":338,"user_id":4646274,"display_name":"Michael Starodynov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688981058,"creation_date":1688981058,"answer_id":76652392,"question_id":11447035,"body_markdown":"Here is the solution for validation of file extension on server side for image upload:\r\n```java\r\n    private static final Set&lt;String&gt; SUPPORTED_IMAGE_EXTENSIONS = Set.of(&quot;jpeg&quot;, &quot;png&quot;);\r\n    \r\n    private void validateImageExtension(InputStream imageContent) throws IOException {\r\n        if (!imageContent.markSupported()) {\r\n            LOG.error(&quot;Image content stream does not support mark/reset operations. &quot; +\r\n                &quot;Image extension validation is not possible.&quot;);\r\n            return;\r\n        }\r\n        imageContent.mark(100 * 1024);\r\n        try (final var imageStream = ImageIO.createImageInputStream(imageContent)) {\r\n            final var recognisedFormatsStream = streamOf(ImageIO.getImageReaders(imageStream))\r\n                .flatMap(reader -&gt; Stream.of(reader.getOriginatingProvider().getFormatNames()));\r\n            validate(recognisedFormatsStream.anyMatch(SUPPORTED_IMAGE_EXTENSIONS::contains), \r\n                &quot;Invalid image extension. Supported extensions: &quot; + SUPPORTED_IMAGE_EXTENSIONS + &quot;.&quot;);\r\n        } finally {\r\n            imageContent.reset();\r\n        }\r\n    }\r\n```\r\nNOTE: `mark` and `reset` are needed to not lose the first bytes of the stream that are used for the extension check.","title":"Java get image extension/type using BufferedImage from URL","body":"<p>Here is the solution for validation of file extension on server side for image upload:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static final Set&lt;String&gt; SUPPORTED_IMAGE_EXTENSIONS = Set.of(&quot;jpeg&quot;, &quot;png&quot;);\n    \n    private void validateImageExtension(InputStream imageContent) throws IOException {\n        if (!imageContent.markSupported()) {\n            LOG.error(&quot;Image content stream does not support mark/reset operations. &quot; +\n                &quot;Image extension validation is not possible.&quot;);\n            return;\n        }\n        imageContent.mark(100 * 1024);\n        try (final var imageStream = ImageIO.createImageInputStream(imageContent)) {\n            final var recognisedFormatsStream = streamOf(ImageIO.getImageReaders(imageStream))\n                .flatMap(reader -&gt; Stream.of(reader.getOriginatingProvider().getFormatNames()));\n            validate(recognisedFormatsStream.anyMatch(SUPPORTED_IMAGE_EXTENSIONS::contains), \n                &quot;Invalid image extension. Supported extensions: &quot; + SUPPORTED_IMAGE_EXTENSIONS + &quot;.&quot;);\n        } finally {\n            imageContent.reset();\n        }\n    }\n</code></pre>\n<p>NOTE: <code>mark</code> and <code>reset</code> are needed to not lose the first bytes of the stream that are used for the extension check.</p>\n"}],"owner":{"account_id":1217409,"reputation":9612,"user_id":1184717,"accept_rate":54,"display_name":"Mr."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52753,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":11447113,"answer_count":5,"score":34,"last_activity_date":1688981058,"creation_date":1342078441,"question_id":11447035,"body_markdown":"I am familiar with [working with images][1]. I [retrieve/read an image from a URL][2], where the URL does not have a file extension. Then I wish to [write/save the image][3] to the local storage, but I have to specify the image file extension (i.e. JPG, PNG, etc.), which I cannot retrieve its extension through the BufferedImage.\r\n\r\nCould one please point out how it can be done?\r\nAny other method will do.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/2d/images/\r\n  [2]: http://docs.oracle.com/javase/tutorial/2d/images/loadimage.html\r\n  [3]: http://docs.oracle.com/javase/tutorial/2d/images/saveimage.html","title":"Java get image extension/type using BufferedImage from URL","body":"<p>I am familiar with <a href=\"http://docs.oracle.com/javase/tutorial/2d/images/\" rel=\"noreferrer\">working with images</a>. I <a href=\"http://docs.oracle.com/javase/tutorial/2d/images/loadimage.html\" rel=\"noreferrer\">retrieve/read an image from a URL</a>, where the URL does not have a file extension. Then I wish to <a href=\"http://docs.oracle.com/javase/tutorial/2d/images/saveimage.html\" rel=\"noreferrer\">write/save the image</a> to the local storage, but I have to specify the image file extension (i.e. JPG, PNG, etc.), which I cannot retrieve its extension through the BufferedImage.</p>\n\n<p>Could one please point out how it can be done?\nAny other method will do.</p>\n"},{"tags":["java","whatsapp"],"comments":[{"owner":{"account_id":61892,"reputation":5204,"user_id":184201,"accept_rate":78,"display_name":"Ahmed Ashour"},"score":0,"creation_date":1674320650,"post_id":75195067,"comment_id":132691571,"body_markdown":"Does this answer your question? [The Callback URL or Verify Token couldn&#39;t be validated. Please verify the provided information or try again later](https://stackoverflow.com/questions/60544871/the-callback-url-or-verify-token-couldnt-be-validated-please-verify-the-provid)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/60544871/the-callback-url-or-verify-token-couldnt-be-validated-please-verify-the-provid\">The Callback URL or Verify Token couldn&#39;t be validated. Please verify the provided information or try again later</a>"},{"owner":{"account_id":27588778,"reputation":11,"user_id":21056396,"display_name":"akash goyal"},"score":0,"creation_date":1674320877,"post_id":75195067,"comment_id":132691612,"body_markdown":"Thanks for sharing but it does not.","body":"Thanks for sharing but it does not."}],"answers":[{"tags":[],"owner":{"account_id":27588778,"reputation":11,"user_id":21056396,"display_name":"akash goyal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674450758,"creation_date":1674450758,"answer_id":75205842,"question_id":75195067,"body_markdown":"I was able to solve the issue by deploying my code to on AWS with an actual https URL. The issue was because of ngrok.","title":"I created a controller in spring boot and used ngrok to make it public to configure Whatsapp&#39;s Cloud API but Whatsapp does not even hits my controller","body":"<p>I was able to solve the issue by deploying my code to on AWS with an actual https URL. The issue was because of ngrok.</p>\n"},{"tags":[],"owner":{"account_id":28331330,"reputation":1,"user_id":21665564,"display_name":"Luis Angel Herrera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681914282,"creation_date":1681746732,"answer_id":76037003,"question_id":75195067,"body_markdown":"You can try this:\r\n\r\n```java\r\n@RequestMapping(value = &quot;/webhook&quot;, method = RequestMethod.GET)\r\npublic ResponseEntity&lt;?&gt; verifyToken(@RequestParam(&quot;hub.mode&quot;) String mode,\r\n                                     @RequestParam(&quot;hub.challenge&quot;) String challenge,\r\n                                     @RequestParam(&quot;hub.verify_token&quot;) String token) {\r\n    String verify_token = &quot;token_webhook&quot;;\r\n    if (mode.equals(&quot;subscribe&quot;) &amp;&amp; token.equals(verify_token)) {\r\n        System.out.println(&quot;WEBHOOK_VERIFIED&quot;);\r\n        return new ResponseEntity&lt;String&gt;(challenge, HttpStatus.OK);\r\n    } else {\r\n        return new ResponseEntity&lt;Void&gt;(HttpStatus.NOT_FOUND);\r\n    }\r\n}\r\n```","title":"I created a controller in spring boot and used ngrok to make it public to configure Whatsapp&#39;s Cloud API but Whatsapp does not even hits my controller","body":"<p>You can try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value = &quot;/webhook&quot;, method = RequestMethod.GET)\npublic ResponseEntity&lt;?&gt; verifyToken(@RequestParam(&quot;hub.mode&quot;) String mode,\n                                     @RequestParam(&quot;hub.challenge&quot;) String challenge,\n                                     @RequestParam(&quot;hub.verify_token&quot;) String token) {\n    String verify_token = &quot;token_webhook&quot;;\n    if (mode.equals(&quot;subscribe&quot;) &amp;&amp; token.equals(verify_token)) {\n        System.out.println(&quot;WEBHOOK_VERIFIED&quot;);\n        return new ResponseEntity&lt;String&gt;(challenge, HttpStatus.OK);\n    } else {\n        return new ResponseEntity&lt;Void&gt;(HttpStatus.NOT_FOUND);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15624957,"reputation":11,"user_id":11272878,"display_name":"VipinSC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686973740,"creation_date":1686973740,"answer_id":76494632,"question_id":75195067,"body_markdown":"If you are using ngrok try https url provided by them.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e26h3.png","title":"I created a controller in spring boot and used ngrok to make it public to configure Whatsapp&#39;s Cloud API but Whatsapp does not even hits my controller","body":"<p>If you are using ngrok try https url provided by them.\n<a href=\"https://i.stack.imgur.com/e26h3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e26h3.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27588778,"reputation":11,"user_id":21056396,"display_name":"akash goyal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1688980826,"creation_date":1674320452,"question_id":75195067,"body_markdown":"This is how my spring boot controller looks like:\r\n\r\n    @RestController\r\n    public class WhatsappController {\r\n        private final String VERIFICATION_TOKEN = &quot;12345&quot;;\r\n    \r\n        @GetMapping(&quot;/webhook&quot;)\r\n        public ResponseEntity&lt;String&gt; verifyWebhook(@RequestParam(&quot;hub.mode&quot;) String mode,\r\n                                                    @RequestParam(&quot;hub.challenge&quot;) String challenge,\r\n                                                    @RequestParam(&quot;hub.verify_token&quot;) String token) {\r\n            if (mode.equals(&quot;subscribe&quot;) &amp;&amp; token.equals(VERIFICATION_TOKEN)) {\r\n                return new ResponseEntity&lt;&gt;(challenge, HttpStatus.OK);\r\n            } else {\r\n                return new ResponseEntity&lt;&gt;(&quot;Verification token or mode mismatch&quot;, HttpStatus.FORBIDDEN);\r\n            }\r\n        }\r\n    }\r\n\r\nBut when I configure ngrok URL with Whatsapp it says:\r\n\r\n&gt; The callback URL or verify token couldn&#39;t be validated. Please verify the provided information or try again later.\r\n\r\nPlease tell me what I am doing wrong!\r\n\r\n","title":"I created a controller in spring boot and used ngrok to make it public to configure Whatsapp&#39;s Cloud API but Whatsapp does not even hits my controller","body":"<p>This is how my spring boot controller looks like:</p>\n<pre><code>@RestController\npublic class WhatsappController {\n    private final String VERIFICATION_TOKEN = &quot;12345&quot;;\n\n    @GetMapping(&quot;/webhook&quot;)\n    public ResponseEntity&lt;String&gt; verifyWebhook(@RequestParam(&quot;hub.mode&quot;) String mode,\n                                                @RequestParam(&quot;hub.challenge&quot;) String challenge,\n                                                @RequestParam(&quot;hub.verify_token&quot;) String token) {\n        if (mode.equals(&quot;subscribe&quot;) &amp;&amp; token.equals(VERIFICATION_TOKEN)) {\n            return new ResponseEntity&lt;&gt;(challenge, HttpStatus.OK);\n        } else {\n            return new ResponseEntity&lt;&gt;(&quot;Verification token or mode mismatch&quot;, HttpStatus.FORBIDDEN);\n        }\n    }\n}\n</code></pre>\n<p>But when I configure ngrok URL with Whatsapp it says:</p>\n<blockquote>\n<p>The callback URL or verify token couldn't be validated. Please verify the provided information or try again later.</p>\n</blockquote>\n<p>Please tell me what I am doing wrong!</p>\n"},{"tags":["java","spring-boot","http-status-code-404"],"comments":[{"owner":{"account_id":12051589,"reputation":1279,"user_id":8814332,"display_name":"Risalat Zaman"},"score":0,"creation_date":1686959948,"post_id":76494137,"comment_id":134875125,"body_markdown":"Could you share your application properties to see the servelet url?","body":"Could you share your application properties to see the servelet url?"},{"owner":{"account_id":27038179,"reputation":69,"user_id":20593455,"display_name":"Kaushal"},"score":0,"creation_date":1686960078,"post_id":76494137,"comment_id":134875132,"body_markdown":"Can you share the api details and application.properties file","body":"Can you share the api details and application.properties file"},{"owner":{"account_id":25809513,"reputation":1,"user_id":19550523,"display_name":"CodingApperentice"},"score":1,"creation_date":1686968248,"post_id":76494137,"comment_id":134875595,"body_markdown":"Yes, my apologize, I have uploaded the app.prop","body":"Yes, my apologize, I have uploaded the app.prop"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686980434,"creation_date":1686980434,"answer_id":76494880,"question_id":76494137,"body_markdown":"Your `@ComponentScan(basePackages = &quot;com.vault.safe.MyModel.UserModel&quot;, )` is wrong, causing the UserController not to be scanned.\r\n\r\nChange it to something that includes the Controller, Service, Model, everything.\r\n\r\nEither\r\n\r\n    @ComponentScan(basePackages = &quot;com.vault.safe.MyModel.UserModel, com.vault.safe.foo.UserController, com.vault.safe.bar.Service&quot; )\r\n\r\n \r\n\r\nOr something more general, like:\r\n\r\n    @ComponentScan(basePackages = &quot;com.vault&quot;)\r\n\r\n","title":"404 found with either get or post API spring boot","body":"<p>Your <code>@ComponentScan(basePackages = &quot;com.vault.safe.MyModel.UserModel&quot;, )</code> is wrong, causing the UserController not to be scanned.</p>\n<p>Change it to something that includes the Controller, Service, Model, everything.</p>\n<p>Either</p>\n<pre><code>@ComponentScan(basePackages = &quot;com.vault.safe.MyModel.UserModel, com.vault.safe.foo.UserController, com.vault.safe.bar.Service&quot; )\n</code></pre>\n<p>Or something more general, like:</p>\n<pre><code>@ComponentScan(basePackages = &quot;com.vault&quot;)\n</code></pre>\n"}],"owner":{"account_id":25809513,"reputation":1,"user_id":19550523,"display_name":"CodingApperentice"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688980694,"creation_date":1686959371,"question_id":76494137,"body_markdown":"Creating the first full-stack website, starting with the database, then worked on API, and tried with get and post, but I kept getting a 404 response. running out of ideas to try\r\n\r\nLooked at all sorts of questions on here, and they all seem to be having different issues, I&#39;m positive it is packaged right, got all annotations, and it&#39;s probably something I have overlooked. Please help.\r\n\r\n\r\n```\r\nMain class\r\n@SpringBootApplication\r\n@ComponentScan(basePackages = &quot;com.vault.safe.MyModel.UserModel&quot;, )\r\n@EnableJpaRepositories(&quot;com.vault.safe.repositories.UserRepository&quot;)\r\npublic class DigitalVaultApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DigitalVaultApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\nUserController\r\n@RestController\r\n@RequestMapping(&quot;users&quot;)\r\npublic class UserController {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n//*************************************************************************************\r\n//Constructors, Getters, and Setters\r\n\r\n\r\n    public UserController(UserService userService){\r\n        super();\r\n        this.userService = userService;\r\n    }\r\n\r\n    public UserService getUserService(){\r\n        return userService;\r\n    }\r\n\r\n    public void setUserService(UserService userService){\r\n        this.userService = userService;\r\n    }\r\n\r\n//*************************************************************************************\r\n    @PostMapping(&quot;/add&quot;)\r\n    public UserModel addUser(@RequestBody UserModel userModel){\r\n        return userService.addUser(userModel);\r\n    }\r\n\r\n    @GetMapping(&quot;/getUserById/{userId}&quot;)\r\n    public UserModel getUserById(@PathVariable Long userId){\r\n        return userService.findById(userId);\r\n    }\r\n```\r\n\r\n\r\n```\r\nUserService\r\n@Service\r\npublic class UserService {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n\r\n    public UserService(UserRepository userRepository) {\r\n        super();\r\n        this.userRepository = userRepository;\r\n    }\r\n\r\n    public UserRepository getUserRepository(){\r\n        return userRepository;\r\n    }\r\n\r\n    public void setUserRepository(UserRepository userRepository) {\r\n        this.userRepository = userRepository;\r\n    }\r\n\r\n//***********************************************************************************************************\r\n    public UserModel addUser(UserModel User){\r\n        return userRepository.save(User);\r\n    }\r\n\r\n    public UserModel findById(Long userId) {\r\n        Optional&lt;UserModel&gt; userOptional = userRepository.findById(userId);\r\n        if (userOptional.isPresent()) {\r\n            return userOptional.get();\r\n        } else {\r\n            throw new UserNotFoundException(&quot;User not found with ID: &quot; + userId);\r\n        }\r\n    }\r\n```\r\n\r\n\r\n```\r\nModel class is big, so just the contructor\r\n\r\n public UserModel(long id, String username, String email, String password, String password2, String firstName, String lastName, Integer age, String street1, String street2, String city, String state, String country, String zipcode, String phone) {\r\n        this.id = id;\r\n        this.username = username;\r\n        this.email = email;\r\n        this.password = password;\r\n        this.password2 = password2;\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.age = age;\r\n        this.street1 = street1;\r\n        this.street2 = street2;\r\n        this.city = city;\r\n        this.state = state;\r\n        this.country = country;\r\n        this.zipcode = zipcode;\r\n        this.phone = phone;\r\n    }\r\n```\r\n\r\n\r\n```\r\nRepository\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;UserModel, Long&gt;{\r\n    List&lt;UserModel&gt; findUserById(Long id);\r\n}\r\n\r\n```\r\n\r\n```\r\nbuild.gradle\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jdbc&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-jdbc&#39;\r\n\timplementation &#39;org.springframework.cloud:spring-cloud-starter-config&#39;\r\n\timplementation &#39;org.springframework.cloud:spring-cloud-starter-gateway&#39;\r\n\timplementation &#39;javax.persistence:persistence-api:1.0&#39;\r\n\timplementation(&#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;) {\r\n\t\texclude group: &#39;org.springframework.boot&#39;, module: &#39;spring-boot-starter-web&#39;\r\n\t}\r\n\timplementation &#39;org.springframework:spring-context&#39;\r\n\timplementation &#39;com.sun.jersey.contribs:jersey-apache-client4:1.19.4&#39;\r\n\r\n\truntimeOnly &#39;com.mysql:mysql-connector-j&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n}\r\n```\r\n\r\n   \r\n```\r\nApplication.Properties\r\nserver.port = 8080\r\nspring.config.import=optional:configserver:http://localhost:8888\r\n\r\nspring.datasource.url=jdbc:mysql://localhost:3306/user_info?currentSchema=safetybox\r\nspring.datasource.username=root\r\nspring.datasource.password=Example\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\r\nspring.main.web-application-type=reactive\r\n```\r\n\r\n\r\n![snippet of error - whitelabel error, 404](https://i.stack.imgur.com/J3hPf.png)\r\n\r\n","title":"404 found with either get or post API spring boot","body":"<p>Creating the first full-stack website, starting with the database, then worked on API, and tried with get and post, but I kept getting a 404 response. running out of ideas to try</p>\n<p>Looked at all sorts of questions on here, and they all seem to be having different issues, I'm positive it is packaged right, got all annotations, and it's probably something I have overlooked. Please help.</p>\n<pre><code>Main class\n@SpringBootApplication\n@ComponentScan(basePackages = &quot;com.vault.safe.MyModel.UserModel&quot;, )\n@EnableJpaRepositories(&quot;com.vault.safe.repositories.UserRepository&quot;)\npublic class DigitalVaultApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DigitalVaultApplication.class, args);\n    }\n\n}\n</code></pre>\n<pre><code>UserController\n@RestController\n@RequestMapping(&quot;users&quot;)\npublic class UserController {\n\n    @Autowired\n    private UserService userService;\n\n//*************************************************************************************\n//Constructors, Getters, and Setters\n\n\n    public UserController(UserService userService){\n        super();\n        this.userService = userService;\n    }\n\n    public UserService getUserService(){\n        return userService;\n    }\n\n    public void setUserService(UserService userService){\n        this.userService = userService;\n    }\n\n//*************************************************************************************\n    @PostMapping(&quot;/add&quot;)\n    public UserModel addUser(@RequestBody UserModel userModel){\n        return userService.addUser(userModel);\n    }\n\n    @GetMapping(&quot;/getUserById/{userId}&quot;)\n    public UserModel getUserById(@PathVariable Long userId){\n        return userService.findById(userId);\n    }\n</code></pre>\n<pre><code>UserService\n@Service\npublic class UserService {\n\n    @Autowired\n    private UserRepository userRepository;\n\n\n    public UserService(UserRepository userRepository) {\n        super();\n        this.userRepository = userRepository;\n    }\n\n    public UserRepository getUserRepository(){\n        return userRepository;\n    }\n\n    public void setUserRepository(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n\n//***********************************************************************************************************\n    public UserModel addUser(UserModel User){\n        return userRepository.save(User);\n    }\n\n    public UserModel findById(Long userId) {\n        Optional&lt;UserModel&gt; userOptional = userRepository.findById(userId);\n        if (userOptional.isPresent()) {\n            return userOptional.get();\n        } else {\n            throw new UserNotFoundException(&quot;User not found with ID: &quot; + userId);\n        }\n    }\n</code></pre>\n<pre><code>Model class is big, so just the contructor\n\n public UserModel(long id, String username, String email, String password, String password2, String firstName, String lastName, Integer age, String street1, String street2, String city, String state, String country, String zipcode, String phone) {\n        this.id = id;\n        this.username = username;\n        this.email = email;\n        this.password = password;\n        this.password2 = password2;\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.age = age;\n        this.street1 = street1;\n        this.street2 = street2;\n        this.city = city;\n        this.state = state;\n        this.country = country;\n        this.zipcode = zipcode;\n        this.phone = phone;\n    }\n</code></pre>\n<pre><code>Repository\n@Repository\npublic interface UserRepository extends JpaRepository&lt;UserModel, Long&gt;{\n    List&lt;UserModel&gt; findUserById(Long id);\n}\n\n</code></pre>\n<pre><code>build.gradle\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jdbc'\n    implementation 'org.springframework.boot:spring-boot-starter-jdbc'\n    implementation 'org.springframework.cloud:spring-cloud-starter-config'\n    implementation 'org.springframework.cloud:spring-cloud-starter-gateway'\n    implementation 'javax.persistence:persistence-api:1.0'\n    implementation('org.springframework.boot:spring-boot-starter-data-jpa') {\n        exclude group: 'org.springframework.boot', module: 'spring-boot-starter-web'\n    }\n    implementation 'org.springframework:spring-context'\n    implementation 'com.sun.jersey.contribs:jersey-apache-client4:1.19.4'\n\n    runtimeOnly 'com.mysql:mysql-connector-j'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n}\n</code></pre>\n<pre><code>Application.Properties\nserver.port = 8080\nspring.config.import=optional:configserver:http://localhost:8888\n\nspring.datasource.url=jdbc:mysql://localhost:3306/user_info?currentSchema=safetybox\nspring.datasource.username=root\nspring.datasource.password=Example\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\nspring.main.web-application-type=reactive\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/J3hPf.png\" alt=\"snippet of error - whitelabel error, 404\" /></p>\n"},{"tags":["java","android-recyclerview","adapter"],"owner":{"account_id":25783281,"reputation":31,"user_id":19528580,"display_name":"Tanvi Verma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688980636,"creation_date":1686983158,"question_id":76494993,"body_markdown":"How can I hide a `TextView` in a `RecyclerView` list item after calling an API from the `MainActivity`? The `TextView` is located in the adapter class and I need to access it from the `MainActivity`. \r\n\r\nI want to be able to click the `TextView`, call the API, and once it has finished successfully, hide the `TextView`. How can I achieve this?","title":"How to access adapter viewholder item in main activity?","body":"<p>How can I hide a <code>TextView</code> in a <code>RecyclerView</code> list item after calling an API from the <code>MainActivity</code>? The <code>TextView</code> is located in the adapter class and I need to access it from the <code>MainActivity</code>.</p>\n<p>I want to be able to click the <code>TextView</code>, call the API, and once it has finished successfully, hide the <code>TextView</code>. How can I achieve this?</p>\n"},{"tags":["java","selenium-webdriver"],"owner":{"account_id":18710584,"reputation":19,"user_id":13640755,"display_name":"El barto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688980564,"creation_date":1688980564,"question_id":76652332,"body_markdown":"With this code, I have a report accessibility test in Json :\r\n```\r\n\t\tAxeBuilder axeBuilder = new AxeBuilder();\r\n\t\ttry {\r\n\t\t\tResults axeResults = axeBuilder.analyze(driver);\r\n\t\t\tObjectWriter writer = new ObjectMapper().writer().withDefaultPrettyPrinter();\r\n\t\t\tString jsonReport = writer.writeValueAsString(axeResults);\r\n\t\t\tassertTrue(jsonReport, axeResults.violationFree());\r\n\t\t} catch (RuntimeException e) {\r\n\t\t\t// Do something with the error\r\n\t\t}\r\n```\r\nI use this dependancy :\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.11&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t    &lt;version&gt;3.141.59&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.3.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;com.deque.html.axe-core&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;selenium&lt;/artifactId&gt;\r\n\t    &lt;version&gt;4.7.0&lt;/version&gt;\r\n\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n```\r\n\r\n1) How to have this report in french ? Or how to translate this report ?\r\n\r\n2) how to a have the link with the RGAA rules wiht WCAG rules ?\r\n\r\n\r\nThanks","title":"How to translate the report accessibility tests axe-core in Java?","body":"<p>With this code, I have a report accessibility test in Json :</p>\n<pre><code>        AxeBuilder axeBuilder = new AxeBuilder();\n        try {\n            Results axeResults = axeBuilder.analyze(driver);\n            ObjectWriter writer = new ObjectMapper().writer().withDefaultPrettyPrinter();\n            String jsonReport = writer.writeValueAsString(axeResults);\n            assertTrue(jsonReport, axeResults.violationFree());\n        } catch (RuntimeException e) {\n            // Do something with the error\n        }\n</code></pre>\n<p>I use this dependancy :</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;3.141.59&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n        &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n        &lt;version&gt;5.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.deque.html.axe-core&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium&lt;/artifactId&gt;\n        &lt;version&gt;4.7.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<ol>\n<li><p>How to have this report in french ? Or how to translate this report ?</p>\n</li>\n<li><p>how to a have the link with the RGAA rules wiht WCAG rules ?</p>\n</li>\n</ol>\n<p>Thanks</p>\n"},{"tags":["java","spring","junit"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1688981114,"post_id":76652322,"comment_id":135143066,"body_markdown":"Your method is for DELETE you are issuing a GET.","body":"Your method is for DELETE you are issuing a GET."}],"owner":{"account_id":14081620,"reputation":93,"user_id":10172532,"display_name":"NewJavaEnthusiast"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688980483,"creation_date":1688980483,"question_id":76652322,"body_markdown":"I am making a REST Crud Application and testing its functionalities using JUnit5\r\n\r\nAll of the other Create, Read, Update are working, however my Delete test fails. \r\n\r\nThe following is the method from the controller:\r\n```\r\n\r\n@DeleteMapping(&quot;/{userId}&quot;)\r\npublic ResponseEntity&lt;?&gt; delete(@PathVariable(&quot;userId&quot;) int userId) {\r\n\r\n\tif (userId &lt; 0 || userId &gt;= usersList.size()) {\r\n\t\treturn ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;User not found.&quot;);\r\n\t}\r\n\r\n\tusersList.remove(userId);\r\n\t\r\n\treturn ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;User Deleted Successfully&quot;);\r\n}\r\n\r\n```\r\n\r\nThe following is the Test which fails\r\n```\r\n@Test\r\nvoid deleteUserTest() {\r\n\tString url = &quot;http://localhost:&quot; + port + &quot;/users&quot;;\r\n\t\r\n\tint gameId = 0;\r\n\r\n\tString deleteUrl = url + &quot;/&quot; + userId;\r\n\trestTemplate.delete(deleteUrl);\r\n\r\n\t// Verify the user is deleted\r\n\tResponseEntity&lt;User&gt; getResponse = restTemplate.getForEntity(url + &quot;/&quot; + userId, User.class);\r\n\tassertEquals(HttpStatus.NOT_FOUND, getResponse.getStatusCode());\r\n}\r\n```\r\n\r\nAnd the output of this testing is:\r\n`AssertionFailedError: \r\nExpected :404 NOT_FOUND\r\nActual   :405 METHOD_NOT_ALLOWED`\r\n\r\nI tried changing the Not Found status to anything else, however the Test always gives me Actual: Method not allowed. It should return that the user is *not found* after deleting it. (btw I created some users before running the test and test that there are 3-4 users).","title":"Why does JUnit5 fail when testing for a REST Delete functionality?","body":"<p>I am making a REST Crud Application and testing its functionalities using JUnit5</p>\n<p>All of the other Create, Read, Update are working, however my Delete test fails.</p>\n<p>The following is the method from the controller:</p>\n<pre><code>\n@DeleteMapping(&quot;/{userId}&quot;)\npublic ResponseEntity&lt;?&gt; delete(@PathVariable(&quot;userId&quot;) int userId) {\n\n    if (userId &lt; 0 || userId &gt;= usersList.size()) {\n        return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;User not found.&quot;);\n    }\n\n    usersList.remove(userId);\n    \n    return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;User Deleted Successfully&quot;);\n}\n\n</code></pre>\n<p>The following is the Test which fails</p>\n<pre><code>@Test\nvoid deleteUserTest() {\n    String url = &quot;http://localhost:&quot; + port + &quot;/users&quot;;\n    \n    int gameId = 0;\n\n    String deleteUrl = url + &quot;/&quot; + userId;\n    restTemplate.delete(deleteUrl);\n\n    // Verify the user is deleted\n    ResponseEntity&lt;User&gt; getResponse = restTemplate.getForEntity(url + &quot;/&quot; + userId, User.class);\n    assertEquals(HttpStatus.NOT_FOUND, getResponse.getStatusCode());\n}\n</code></pre>\n<p>And the output of this testing is:\n<code>AssertionFailedError:  Expected :404 NOT_FOUND Actual   :405 METHOD_NOT_ALLOWED</code></p>\n<p>I tried changing the Not Found status to anything else, however the Test always gives me Actual: Method not allowed. It should return that the user is <em>not found</em> after deleting it. (btw I created some users before running the test and test that there are 3-4 users).</p>\n"},{"tags":["java","docker","maven"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1604419723,"post_id":64666407,"comment_id":114339215,"body_markdown":"The error has a cause.","body":"The error has a cause."}],"answers":[{"tags":[],"owner":{"account_id":10328218,"reputation":2812,"user_id":7619034,"display_name":"Rob Evans"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688980112,"creation_date":1604420191,"answer_id":64666558,"question_id":64666407,"body_markdown":"Seems like you have a docker build file (`Dockerfile`) that you want to build so you have a reusable image. Once you have the image you can push it to a registry (like Dockerhub) or run it with your application code mounted inside. If you first want to push the image to a registry, you can then pull it down and run it... much the same way as you&#39;d pull any other docker image down and run it.\r\n\r\nI answered a similar question recently here: https://stackoverflow.com/questions/64511717/dockerfile-cant-build-app-with-maven-no-goals-specified-for-this-build/64516944#64516944\r\nPerhaps this helps?\r\n\r\nSeems like you have an error because you&#39;re attempting to build directly on the jenkins host rather than in the docker container with maven/java11 installed. \r\n\r\nIts a common mistake to think you&#39;re within a docker container on a host, when in fact you&#39;re just on the host and the container is running within it without your realising. Check `docker ps -a` if this is the case to get the container ID and then you open a terminal   within it using `docker exec -it bash` or `docker exec -it sh`","title":"How to build maven in Docker build file","body":"<p>Seems like you have a docker build file (<code>Dockerfile</code>) that you want to build so you have a reusable image. Once you have the image you can push it to a registry (like Dockerhub) or run it with your application code mounted inside. If you first want to push the image to a registry, you can then pull it down and run it... much the same way as you'd pull any other docker image down and run it.</p>\n<p>I answered a similar question recently here: <a href=\"https://stackoverflow.com/questions/64511717/dockerfile-cant-build-app-with-maven-no-goals-specified-for-this-build/64516944#64516944\">Dockerfile can&#39;t build app with Maven - No goals specified for this build</a>\nPerhaps this helps?</p>\n<p>Seems like you have an error because you're attempting to build directly on the jenkins host rather than in the docker container with maven/java11 installed.</p>\n<p>Its a common mistake to think you're within a docker container on a host, when in fact you're just on the host and the container is running within it without your realising. Check <code>docker ps -a</code> if this is the case to get the container ID and then you open a terminal   within it using <code>docker exec -it bash</code> or <code>docker exec -it sh</code></p>\n"},{"tags":[],"owner":{"account_id":4885117,"reputation":1866,"user_id":3937811,"accept_rate":91,"display_name":"Evan Gertis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1604501950,"creation_date":1604501950,"answer_id":64682508,"question_id":64666407,"body_markdown":"```\r\ndocker {\r\n            image &#39;maven:3-alpine&#39;\r\n            args &#39;-v $HOME/.m2:/root/.m2&#39;\r\n        }\r\n```\r\nNeed to mount the .m2 dir. It&#39;s under Caching containers here: https://www.jenkins.io/doc/book/pipeline/docker/","title":"How to build maven in Docker build file","body":"<pre><code>docker {\n            image 'maven:3-alpine'\n            args '-v $HOME/.m2:/root/.m2'\n        }\n</code></pre>\n<p>Need to mount the .m2 dir. It's under Caching containers here: <a href=\"https://www.jenkins.io/doc/book/pipeline/docker/\" rel=\"nofollow noreferrer\">https://www.jenkins.io/doc/book/pipeline/docker/</a></p>\n"}],"owner":{"account_id":4885117,"reputation":1866,"user_id":3937811,"accept_rate":91,"display_name":"Evan Gertis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64682508,"answer_count":2,"score":0,"last_activity_date":1688980112,"creation_date":1604419605,"question_id":64666407,"body_markdown":"I have been desperately trying to figure out if it&#39;s possible to build a mvn project on a jenkins agent with a docker build file. The error that I am getting from running the pipeline is `[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile`\r\n\r\n```\r\npipeline {\r\n    agent {\r\n        dockerfile { \r\n            filename &#39;DockerFile.build&#39;\r\n        }\r\n    }\r\n    environment {\r\n        JAVA_HOME=&quot;/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.272.b10-1.el8_2.x86_64&quot;\r\n    }\r\n    stages {\r\n        stage(&#39;Build DockerFile&#39;) {\r\n            steps {\r\n                echo &quot;building docker image&quot;\r\n                sh &quot;echo 1 | alternatives --config java&quot;\r\n                sh &quot;java -version&quot;\r\n                sh &quot;echo ${JAVA_HOME}&quot;\r\n\r\n                git branch: &quot;develop&quot;, credentialsId: &#39;cred_id&#39;, url: &quot;git@bitbucket.org:repo.git&quot;\r\n                dir(&quot;repo&quot;){\r\n                    sh &quot;mvn clean install -X&quot;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n````\r\n\r\nDockerFile.build\r\n```\r\nFROM centos\r\n\r\nRUN yum update -y\r\nRUN yum install -y java-11-openjdk-devel\r\nRUN yum install -y java-11-openjdk\r\n\r\nRUN yum install -y maven\r\n\r\n\r\nENV HOME=${home}\r\n```\r\n\r\nThe line about `echo 1 | alternatives --config java` is to switch to java 11. Any help would be greatly appreciated. ","title":"How to build maven in Docker build file","body":"<p>I have been desperately trying to figure out if it's possible to build a mvn project on a jenkins agent with a docker build file. The error that I am getting from running the pipeline is <code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile</code></p>\n<pre><code>pipeline {\n    agent {\n        dockerfile { \n            filename 'DockerFile.build'\n        }\n    }\n    environment {\n        JAVA_HOME=&quot;/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.272.b10-1.el8_2.x86_64&quot;\n    }\n    stages {\n        stage('Build DockerFile') {\n            steps {\n                echo &quot;building docker image&quot;\n                sh &quot;echo 1 | alternatives --config java&quot;\n                sh &quot;java -version&quot;\n                sh &quot;echo ${JAVA_HOME}&quot;\n\n                git branch: &quot;develop&quot;, credentialsId: 'cred_id', url: &quot;git@bitbucket.org:repo.git&quot;\n                dir(&quot;repo&quot;){\n                    sh &quot;mvn clean install -X&quot;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>DockerFile.build</p>\n<pre><code>FROM centos\n\nRUN yum update -y\nRUN yum install -y java-11-openjdk-devel\nRUN yum install -y java-11-openjdk\n\nRUN yum install -y maven\n\n\nENV HOME=${home}\n</code></pre>\n<p>The line about <code>echo 1 | alternatives --config java</code> is to switch to java 11. Any help would be greatly appreciated.</p>\n"},{"tags":["java","mysql","spring","spring-boot","spring-data"],"answers":[{"tags":[],"owner":{"account_id":3507195,"reputation":14509,"user_id":2932476,"display_name":"Bourbia Brahim"},"down_vote_count":0,"up_vote_count":219,"is_accepted":true,"score":219,"last_activity_date":1523612342,"creation_date":1523612342,"answer_id":49813851,"question_id":49813666,"body_markdown":"With the generation  `GenerationType.AUTO` hibernate will look for the default `hibernate_sequence` table , so change generation to  `IDENTITY`  as below :\r\n\r\n     @Id\r\n     @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n     private Long id;","title":"Table &#39;DBNAME.hibernate_sequence&#39; doesn&#39;t exist","body":"<p>With the generation  <code>GenerationType.AUTO</code> hibernate will look for the default <code>hibernate_sequence</code> table , so change generation to  <code>IDENTITY</code>  as below :</p>\n\n<pre><code> @Id\n @GeneratedValue(strategy = GenerationType.IDENTITY)\n private Long id;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":212451,"reputation":5409,"user_id":465274,"accept_rate":84,"display_name":"Laures"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1576845751,"creation_date":1523616916,"answer_id":49815372,"question_id":49813666,"body_markdown":"Just in case you migrate from a previous boot version:\r\n\r\nsetting the following in your `application.yml` will prevent hibernate from looking for `hibernate_sequence` entries.\r\n\r\n    spring.jpa.hibernate.use-new-id-generator-mappings\r\n\r\nThat was the default in Boot 1.x","title":"Table &#39;DBNAME.hibernate_sequence&#39; doesn&#39;t exist","body":"<p>Just in case you migrate from a previous boot version:</p>\n\n<p>setting the following in your <code>application.yml</code> will prevent hibernate from looking for <code>hibernate_sequence</code> entries.</p>\n\n<pre><code>spring.jpa.hibernate.use-new-id-generator-mappings\n</code></pre>\n\n<p>That was the default in Boot 1.x</p>\n"},{"tags":[],"owner":{"account_id":13799688,"reputation":261,"user_id":9959937,"display_name":"Neikat"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1545118419,"creation_date":1545118419,"answer_id":53828276,"question_id":49813666,"body_markdown":"Add the following config in your application.yml:\r\n\r\n`spring:\r\n  jpa:\r\n    hibernate:\r\n      use-new-id-generator-mappings: false`\r\n\r\nOr this if you use application.properties\r\n\r\n`spring.jpa.hibernate.use-new-id-generator-mappings= false`\r\n","title":"Table &#39;DBNAME.hibernate_sequence&#39; doesn&#39;t exist","body":"<p>Add the following config in your application.yml:</p>\n\n<p><code>spring:\n  jpa:\n    hibernate:\n      use-new-id-generator-mappings: false</code></p>\n\n<p>Or this if you use application.properties</p>\n\n<p><code>spring.jpa.hibernate.use-new-id-generator-mappings= false</code></p>\n"},{"tags":[],"owner":{"account_id":5940172,"reputation":3457,"user_id":4671717,"accept_rate":25,"display_name":"Chris Maggiulli"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1676948726,"creation_date":1559936681,"answer_id":56500407,"question_id":49813666,"body_markdown":"&gt; **Warning** : This will truncate the data in all tables specified as entities in your application\r\n\r\n# JPA and Auto-DDL\r\nWhen I run into mapping mismatches between a table schema and a java entity I like to do the following.\r\n\r\n 1. Drop the schema\r\n 2. Add the `spring.jpa.hibernate.ddl-auto=create` property to **application.properties**\r\n 3. Restart your application\r\n\r\nThis will now recreate the schema based on your entity.   You can then compare the created table against your old schema to see the difference, if necessary.\r\n\r\n","title":"Table &#39;DBNAME.hibernate_sequence&#39; doesn&#39;t exist","body":"<blockquote>\n<p><strong>Warning</strong> : This will truncate the data in all tables specified as entities in your application</p>\n</blockquote>\n<h1>JPA and Auto-DDL</h1>\n<p>When I run into mapping mismatches between a table schema and a java entity I like to do the following.</p>\n<ol>\n<li>Drop the schema</li>\n<li>Add the <code>spring.jpa.hibernate.ddl-auto=create</code> property to <strong>application.properties</strong></li>\n<li>Restart your application</li>\n</ol>\n<p>This will now recreate the schema based on your entity.   You can then compare the created table against your old schema to see the difference, if necessary.</p>\n"},{"tags":[],"owner":{"account_id":4009180,"reputation":4758,"user_id":3303074,"display_name":"Prasanth Rajendran"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1573153641,"creation_date":1573132186,"answer_id":58749481,"question_id":49813666,"body_markdown":"If you are using Hibernate version prior to Hibernate5 `@GeneratedValue(strategy = GenerationType.IDENTITY)` works like a charm. But post Hibernate5 the following fix is necessary.\r\n\r\n\r\n```\r\n@Id\r\n@GeneratedValue(strategy= GenerationType.AUTO,generator=&quot;native&quot;)\r\n@GenericGenerator(name = &quot;native&quot;,strategy = &quot;native&quot;)\r\nprivate Long id;\r\n```\r\n\r\n**DDL**\r\n\r\n```\r\n`id` BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY\r\n```\r\n\r\n**REASON**\r\n\r\nExcerpt from [hibernate-issue][1]\r\n\r\n \r\n&gt; Currently, if the hibernate.id.new_generator_mappings is set to false,\r\n&gt; @GeneratedValue(strategy = GenerationType.AUTO) is mapped to native. \r\n&gt; If this property is true (which is the defult value in 5.x), the\r\n&gt; @GeneratedValue(strategy = GenerationType.AUTO) is always mapped to\r\n&gt; SequenceStyleGenerator.\r\n&gt; \r\n&gt; For this reason, on any database that does not support sequences\r\n&gt; natively (e.g. MySQL) we are going to use the TABLE generator instead\r\n&gt; of IDENTITY.\r\n&gt; \r\n&gt; However, TABLE generator, although more portable, uses a separate\r\n&gt; transaction every time a value is being fetched from the database. In\r\n&gt; fact, even if the IDENTITY disables JDBC batch updates and the TABLE\r\n&gt; generator uses the pooled optimizer, the IDENTITY still scales better.\r\n\r\n\r\n  [1]: https://hibernate.atlassian.net/browse/HHH-11014","title":"Table &#39;DBNAME.hibernate_sequence&#39; doesn&#39;t exist","body":"<p>If you are using Hibernate version prior to Hibernate5 <code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code> works like a charm. But post Hibernate5 the following fix is necessary.</p>\n\n<pre><code>@Id\n@GeneratedValue(strategy= GenerationType.AUTO,generator=\"native\")\n@GenericGenerator(name = \"native\",strategy = \"native\")\nprivate Long id;\n</code></pre>\n\n<p><strong>DDL</strong></p>\n\n<pre><code>`id` BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY\n</code></pre>\n\n<p><strong>REASON</strong></p>\n\n<p>Excerpt from <a href=\"https://hibernate.atlassian.net/browse/HHH-11014\" rel=\"noreferrer\">hibernate-issue</a></p>\n\n<blockquote>\n  <p>Currently, if the hibernate.id.new_generator_mappings is set to false,\n  @GeneratedValue(strategy = GenerationType.AUTO) is mapped to native. \n  If this property is true (which is the defult value in 5.x), the\n  @GeneratedValue(strategy = GenerationType.AUTO) is always mapped to\n  SequenceStyleGenerator.</p>\n  \n  <p>For this reason, on any database that does not support sequences\n  natively (e.g. MySQL) we are going to use the TABLE generator instead\n  of IDENTITY.</p>\n  \n  <p>However, TABLE generator, although more portable, uses a separate\n  transaction every time a value is being fetched from the database. In\n  fact, even if the IDENTITY disables JDBC batch updates and the TABLE\n  generator uses the pooled optimizer, the IDENTITY still scales better.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":19370048,"reputation":659,"user_id":14163532,"display_name":"PKS"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1625727748,"creation_date":1625727748,"answer_id":68296988,"question_id":49813666,"body_markdown":"Adding `spring.jpa.hibernate.ddl-auto=create` in the propoerties file solved the issue","title":"Table &#39;DBNAME.hibernate_sequence&#39; doesn&#39;t exist","body":"<p>Adding <code>spring.jpa.hibernate.ddl-auto=create</code> in the propoerties file solved the issue</p>\n"},{"tags":[],"owner":{"account_id":10044603,"reputation":29,"user_id":8415656,"display_name":"Boris Manev"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1635601573,"creation_date":1635601358,"answer_id":69780162,"question_id":49813666,"body_markdown":"You can just create the table:\r\n\r\n    create table hibernate_sequence(\r\n        next_val INTEGER NOT null\r\n    );","title":"Table &#39;DBNAME.hibernate_sequence&#39; doesn&#39;t exist","body":"<p>You can just create the table:</p>\n<pre><code>create table hibernate_sequence(\n    next_val INTEGER NOT null\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18562890,"reputation":29,"user_id":13526521,"display_name":"Mahipal Singh Sisodia"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1636918139,"creation_date":1636918139,"answer_id":69966461,"question_id":49813666,"body_markdown":"just add this code to your application.properties file\r\n\r\n    spring.jpa.hibernate.ddl-auto=update","title":"Table &#39;DBNAME.hibernate_sequence&#39; doesn&#39;t exist","body":"<p>just add this code to your application.properties file</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21334240,"reputation":181,"user_id":15705696,"display_name":"David Liu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647154702,"creation_date":1647154702,"answer_id":71454527,"question_id":49813666,"body_markdown":"I got the same error when I used the following dialect setting:\r\n\r\n    # Hibernate SQL dialect\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n\r\nI am using MySQL version 8.0.27, aftter I updated the above setting to:\r\n\r\n    # Hibernate SQL dialect\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\r\n\r\nThen it worked as expected.","title":"Table &#39;DBNAME.hibernate_sequence&#39; doesn&#39;t exist","body":"<p>I got the same error when I used the following dialect setting:</p>\n<pre><code># Hibernate SQL dialect\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\n</code></pre>\n<p>I am using MySQL version 8.0.27, aftter I updated the above setting to:</p>\n<pre><code># Hibernate SQL dialect\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\n</code></pre>\n<p>Then it worked as expected.</p>\n"},{"tags":[],"owner":{"account_id":16163224,"reputation":1,"user_id":11668776,"display_name":"EKANSH MISHRA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658571783,"creation_date":1658471216,"answer_id":73075945,"question_id":49813666,"body_markdown":"Since I had Server version: 8.0.29 MySQL Community Server - GPL (which you can check from many places, I found from MySQL Command Line client)\r\n \r\nIn hibernate configuration file \r\nearlier I was trying with:\r\n\r\n```\r\n&lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n```\r\n\r\nReplacing it with following:\r\n\r\n```\r\n&lt;property name=&quot;spring.jpa.properties.hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL8Dialect&lt;/property&gt;\r\n```\r\n\r\nIt worked absolutely fine for me.","title":"Table &#39;DBNAME.hibernate_sequence&#39; doesn&#39;t exist","body":"<p>Since I had Server version: 8.0.29 MySQL Community Server - GPL (which you can check from many places, I found from MySQL Command Line client)</p>\n<p>In hibernate configuration file\nearlier I was trying with:</p>\n<pre><code>&lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n</code></pre>\n<p>Replacing it with following:</p>\n<pre><code>&lt;property name=&quot;spring.jpa.properties.hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL8Dialect&lt;/property&gt;\n</code></pre>\n<p>It worked absolutely fine for me.</p>\n"},{"tags":[],"owner":{"account_id":26812797,"reputation":1,"user_id":20403137,"display_name":"Achraf_Jbr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667718598,"creation_date":1667440683,"answer_id":74297434,"question_id":49813666,"body_markdown":"```\r\n @Id\r\n @GeneratedValue(strategy = GenerationType.Auto) \r\n private Long id;\r\n```\r\n\r\nchange `GenerationType.Auto` to `GenerationType.IDENTITY`","title":"Table &#39;DBNAME.hibernate_sequence&#39; doesn&#39;t exist","body":"<pre><code> @Id\n @GeneratedValue(strategy = GenerationType.Auto) \n private Long id;\n</code></pre>\n<p>change <code>GenerationType.Auto</code> to <code>GenerationType.IDENTITY</code></p>\n"},{"tags":[],"owner":{"account_id":27035088,"reputation":1,"user_id":20590847,"display_name":"Abhishek Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669299271,"creation_date":1669299271,"answer_id":74562124,"question_id":49813666,"body_markdown":"**Just add the following config in your application.properties**\r\n\r\nspring.jpa.hibernate.ddl-auto=update","title":"Table &#39;DBNAME.hibernate_sequence&#39; doesn&#39;t exist","body":"<p><strong>Just add the following config in your application.properties</strong></p>\n<p>spring.jpa.hibernate.ddl-auto=update</p>\n"},{"tags":[],"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688979978,"creation_date":1688979978,"answer_id":76652265,"question_id":49813666,"body_markdown":"i am using struts, and migrating from hibernate 3 to 5. I updated the property in my persistence.xml \r\n\r\n    &lt;property name=&quot;hibernate.id.new_generator_mappings&quot; value=&quot;false&quot; /&gt;","title":"Table &#39;DBNAME.hibernate_sequence&#39; doesn&#39;t exist","body":"<p>i am using struts, and migrating from hibernate 3 to 5. I updated the property in my persistence.xml</p>\n<pre><code>&lt;property name=&quot;hibernate.id.new_generator_mappings&quot; value=&quot;false&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":13237860,"reputation":1577,"user_id":9559437,"display_name":"en Peris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113317,"favorite_count":0,"down_vote_count":0,"up_vote_count":106,"accepted_answer_id":49813851,"answer_count":13,"score":106,"last_activity_date":1688979978,"creation_date":1523611791,"question_id":49813666,"body_markdown":"I have a SpringBoot 2.0.1.RELEASE application using spring data / jpa\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nBut when I do an update in the  Amazon Aurora DB, I got this error:\r\n\r\n&gt; 2018-04-13 09:20  [pool-1-thread-1] ERROR o.h.id.enhanced.TableStructure.execute(148) - could not read a hi value\r\ncom.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table &#39;elbar.hibernate_sequence&#39; doesn&#39;t exist at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\r\n\r\nI have this in the entity I want to save\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\nI would like to avoid also any drawback in the DB to fetch the ID .\r\n","title":"Table &#39;DBNAME.hibernate_sequence&#39; doesn&#39;t exist","body":"<p>I have a SpringBoot 2.0.1.RELEASE application using spring data / jpa</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>But when I do an update in the  Amazon Aurora DB, I got this error:</p>\n\n<blockquote>\n  <p>2018-04-13 09:20  [pool-1-thread-1] ERROR o.h.id.enhanced.TableStructure.execute(148) - could not read a hi value\n  com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table 'elbar.hibernate_sequence' doesn't exist at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)</p>\n</blockquote>\n\n<p>I have this in the entity I want to save</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Long id;\n</code></pre>\n\n<p>I would like to avoid also any drawback in the DB to fetch the ID .</p>\n"},{"tags":["java","maven","gradle"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1688980306,"post_id":76652137,"comment_id":135142885,"body_markdown":"You should look into [ServiceLoaders](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ServiceLoader.html). Those allow you to load all implementations of an interface at runtime, based on configuration files in the jars on the classpath.","body":"You should look into <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\">ServiceLoaders</a>. Those allow you to load all implementations of an interface at runtime, based on configuration files in the jars on the classpath."},{"owner":{"account_id":14373362,"reputation":37,"user_id":10382478,"display_name":"Jordan Ellison"},"score":2,"creation_date":1688990468,"post_id":76652137,"comment_id":135144944,"body_markdown":"That worked perfectly Im using the AutoService library from google and it worked fine. I will provide a example of my solution later on.","body":"That worked perfectly Im using the AutoService library from google and it worked fine. I will provide a example of my solution later on."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688990637,"post_id":76652137,"comment_id":135144993,"body_markdown":"Excellent! I like AutoService for this purpose too.","body":"Excellent! I like AutoService for this purpose too."}],"owner":{"account_id":14373362,"reputation":37,"user_id":10382478,"display_name":"Jordan Ellison"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688979912,"creation_date":1688978910,"question_id":76652137,"body_markdown":"I am looking to make a library for java that to keep it lightweight I want to keep some code separated into modules e.g. separate libraries The purpose of this is the modules will essentially hold the code for processing and handling different 3d model types.\r\n\r\nSo if I&#39;m loading a `.dae` file I will need the Collada Module/library.\r\n\r\nI want it all to be processed under 1 class so instead of doing `ColladaProcessor.process()`\r\n\r\nyou simple do Dmal.process() and when provided with a .dae file it will trigger and run the ColladaProcessor.process().\r\n\r\n    // Code Example\r\n    class Dmal {\r\n      public void process(String fileName) {\r\n        //Code to load file to input stream\r\n        InputStream inputStream = ...\r\n\r\n        if(fileName.toLowerCase().endsWith(&quot;.dae&quot;)) {\r\n           // Code should only work if the dependency (dmal-dae) exists\r\n           // If not throw custom Module not found exception.\r\n           ColladaProcessor.process(inputStream);\r\n        }\r\n\r\n      }\r\n    }\r\n\r\nTo recap I&#39;m looking for a solution to only run the code if the dependency exists, if this is done through interface or something.","title":"Could I have Java code that only runs when a dependency/module is loaded?","body":"<p>I am looking to make a library for java that to keep it lightweight I want to keep some code separated into modules e.g. separate libraries The purpose of this is the modules will essentially hold the code for processing and handling different 3d model types.</p>\n<p>So if I'm loading a <code>.dae</code> file I will need the Collada Module/library.</p>\n<p>I want it all to be processed under 1 class so instead of doing <code>ColladaProcessor.process()</code></p>\n<p>you simple do Dmal.process() and when provided with a .dae file it will trigger and run the ColladaProcessor.process().</p>\n<pre><code>// Code Example\nclass Dmal {\n  public void process(String fileName) {\n    //Code to load file to input stream\n    InputStream inputStream = ...\n\n    if(fileName.toLowerCase().endsWith(&quot;.dae&quot;)) {\n       // Code should only work if the dependency (dmal-dae) exists\n       // If not throw custom Module not found exception.\n       ColladaProcessor.process(inputStream);\n    }\n\n  }\n}\n</code></pre>\n<p>To recap I'm looking for a solution to only run the code if the dependency exists, if this is done through interface or something.</p>\n"},{"tags":["java","arrays","generics","collections"],"comments":[{"owner":{"account_id":1134699,"reputation":8337,"user_id":1119997,"accept_rate":68,"display_name":"tuxdna"},"score":0,"creation_date":1373268724,"post_id":17520964,"comment_id":25476886,"body_markdown":"Thanks for all the answers. I found several reasons for this compilation errors: 1. Java doesn&#39;t autobox primitive arrays. 2. Varargs are complicated to correctly use - http://stackoverflow.com/questions/2925153/can-i-pass-an-array-as-arguments-to-a-method-with-variable-arguments-in-java/2926653#2926653","body":"Thanks for all the answers. I found several reasons for this compilation errors: 1. Java doesn&#39;t autobox primitive arrays. 2. Varargs are complicated to correctly use - <a href=\"http://stackoverflow.com/questions/2925153/can-i-pass-an-array-as-arguments-to-a-method-with-variable-arguments-in-java/2926653#2926653\" title=\"can i pass an array as arguments to a method with variable arguments in java\">stackoverflow.com/questions/2925153/&hellip;</a>"},{"owner":{"account_id":966181,"reputation":734,"user_id":989570,"accept_rate":65,"display_name":"DaveM"},"score":0,"creation_date":1432745989,"post_id":17520964,"comment_id":49055761,"body_markdown":"+1 this is a good question. I recommend anyone reading it to read all the answers, they all add important info.","body":"+1 this is a good question. I recommend anyone reading it to read all the answers, they all add important info."}],"answers":[{"tags":[],"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1373269046,"creation_date":1373267813,"answer_id":17520983,"question_id":17520964,"body_markdown":"The problem in\r\n\r\n    intList = new ArrayList&lt;Integer&gt;(Arrays.asList(intArray));\r\n\r\nis that `int[]` is considered as a single `Object` instance since a primitive array extends from `Object`. This would work if you have `Integer[]` instead of `int[]` since now you&#39;re sending an array of `Object`.\r\n\r\n    Integer[] intArray = new Integer[] { 0, 1 };\r\n    //now you&#39;re sending a Object array\r\n    intList = new ArrayList&lt;Integer&gt;(Arrays.asList(intArray));\r\n\r\nFrom your comment: if you want to still use an `int[]` (or another primitive type array) as main data, then you need to create an additional array with the wrapper class. For this example:\r\n\r\n    int[] intArray = new int[] { 0, 1 };\r\n    Integer[] integerArray = new Integer[intArray.length];\r\n    int i = 0;\r\n    for(int intValue : intArray) {\r\n        integerArray[i++] = intValue;\r\n    }\r\n    intList = new ArrayList&lt;Integer&gt;(Arrays.asList(integerArray));\r\n\r\nBut since you&#39;re already using a `for` loop, I wouldn&#39;t mind using a temp wrapper class array, just add your items directly into the list:\r\n\r\n    int[] intArray = new int[] { 0, 1 };\r\n    intList = new ArrayList&lt;Integer&gt;();\r\n    for(int intValue : intArray) {\r\n        intList.add(intValue);\r\n    }\r\n","title":"How to create ArrayList (ArrayList&lt;Integer&gt;) from array (int[]) in Java","body":"<p>The problem in</p>\n\n<pre><code>intList = new ArrayList&lt;Integer&gt;(Arrays.asList(intArray));\n</code></pre>\n\n<p>is that <code>int[]</code> is considered as a single <code>Object</code> instance since a primitive array extends from <code>Object</code>. This would work if you have <code>Integer[]</code> instead of <code>int[]</code> since now you're sending an array of <code>Object</code>.</p>\n\n<pre><code>Integer[] intArray = new Integer[] { 0, 1 };\n//now you're sending a Object array\nintList = new ArrayList&lt;Integer&gt;(Arrays.asList(intArray));\n</code></pre>\n\n<p>From your comment: if you want to still use an <code>int[]</code> (or another primitive type array) as main data, then you need to create an additional array with the wrapper class. For this example:</p>\n\n<pre><code>int[] intArray = new int[] { 0, 1 };\nInteger[] integerArray = new Integer[intArray.length];\nint i = 0;\nfor(int intValue : intArray) {\n    integerArray[i++] = intValue;\n}\nintList = new ArrayList&lt;Integer&gt;(Arrays.asList(integerArray));\n</code></pre>\n\n<p>But since you're already using a <code>for</code> loop, I wouldn't mind using a temp wrapper class array, just add your items directly into the list:</p>\n\n<pre><code>int[] intArray = new int[] { 0, 1 };\nintList = new ArrayList&lt;Integer&gt;();\nfor(int intValue : intArray) {\n    intList.add(intValue);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3017590,"reputation":71,"user_id":2559281,"display_name":"osorio"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1373272356,"creation_date":1373267870,"answer_id":17520996,"question_id":17520964,"body_markdown":"It doesn&#39;t work because you&#39;re using an `int[]` instead of `Integer[]`. Try this:\r\n\r\n    Integer[] intArray = new Integer[] { 0, 1 };\r\n    // this should work now\r\n    intList = new ArrayList&lt;Integer&gt;(Arrays.asList(intArray));\r\n","title":"How to create ArrayList (ArrayList&lt;Integer&gt;) from array (int[]) in Java","body":"<p>It doesn't work because you're using an <code>int[]</code> instead of <code>Integer[]</code>. Try this:</p>\n\n<pre><code>Integer[] intArray = new Integer[] { 0, 1 };\n// this should work now\nintList = new ArrayList&lt;Integer&gt;(Arrays.asList(intArray));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1506247,"reputation":7562,"user_id":1427460,"accept_rate":64,"display_name":"bNd"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1373268089,"creation_date":1373268089,"answer_id":17521037,"question_id":17520964,"body_markdown":"Collection wants Objects and primitives don&#39;t derive from Object. so `Integer` allow but `int` is not allow.\r\n\r\nSo you have to use wrapper class `Integer` instead of `int` which is primitive type.\r\n\r\n**Just example:**\r\n\r\n     Integer[] intArray = new Integer[] { 0, 1 };\r\n     intList = new ArrayList&lt;Integer&gt;(Arrays.asList(intArray));","title":"How to create ArrayList (ArrayList&lt;Integer&gt;) from array (int[]) in Java","body":"<p>Collection wants Objects and primitives don't derive from Object. so <code>Integer</code> allow but <code>int</code> is not allow.</p>\n\n<p>So you have to use wrapper class <code>Integer</code> instead of <code>int</code> which is primitive type.</p>\n\n<p><strong>Just example:</strong></p>\n\n<pre><code> Integer[] intArray = new Integer[] { 0, 1 };\n intList = new ArrayList&lt;Integer&gt;(Arrays.asList(intArray));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":481006,"reputation":31216,"user_id":894565,"accept_rate":76,"display_name":"Jatin"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1666562302,"creation_date":1373271936,"answer_id":17522023,"question_id":17520964,"body_markdown":"The issue is about [Autoboxing][1]. \r\n\r\nJava automatically converts `int` to `Integer` automatically. But Java **cannot convert `int[]` to `Integer[]`**. Hence the reason.\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; asList(T... a)\r\n\r\n`asList` is defined as above. It expects a vararg of type `T`. i.e. it can take an array of objects of type `T`. In your case because Java cannot convert `int[]` to `Integer[]`, hence it takes type `T` as `int[]` rather than `Integer` as desired. Hence you get a list of type `List&lt;int[]`. You will have to manually convert it into `Integer[]` from `int[]`.\r\n\r\nThere is an excellent item in the book [*Effective Java*][2] by [Joshua Bloch][3] where he explains the pitfalls of [varargs][4]. This is one of them.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\r\n  [2]: https://www.goodreads.com/book/show/34927404-effective-java\r\n  [3]: https://en.wikipedia.org/wiki/Joshua_Bloch\r\n  [4]: https://docs.oracle.com/javase/8/docs/technotes/guides/language/varargs.html","title":"How to create ArrayList (ArrayList&lt;Integer&gt;) from array (int[]) in Java","body":"<p>The issue is about <a href=\"https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\" rel=\"nofollow noreferrer\">Autoboxing</a>.</p>\n<p>Java automatically converts <code>int</code> to <code>Integer</code> automatically. But Java <strong>cannot convert <code>int[]</code> to <code>Integer[]</code></strong>. Hence the reason.</p>\n<pre><code>public static &lt;T&gt; List&lt;T&gt; asList(T... a)\n</code></pre>\n<p><code>asList</code> is defined as above. It expects a vararg of type <code>T</code>. i.e. it can take an array of objects of type <code>T</code>. In your case because Java cannot convert <code>int[]</code> to <code>Integer[]</code>, hence it takes type <code>T</code> as <code>int[]</code> rather than <code>Integer</code> as desired. Hence you get a list of type <code>List&lt;int[]</code>. You will have to manually convert it into <code>Integer[]</code> from <code>int[]</code>.</p>\n<p>There is an excellent item in the book <a href=\"https://www.goodreads.com/book/show/34927404-effective-java\" rel=\"nofollow noreferrer\"><em>Effective Java</em></a> by <a href=\"https://en.wikipedia.org/wiki/Joshua_Bloch\" rel=\"nofollow noreferrer\">Joshua Bloch</a> where he explains the pitfalls of <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/language/varargs.html\" rel=\"nofollow noreferrer\">varargs</a>. This is one of them.</p>\n"},{"tags":[],"owner":{"account_id":5267771,"reputation":171,"user_id":4207096,"display_name":"max"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1414921633,"creation_date":1414921633,"answer_id":26697991,"question_id":17520964,"body_markdown":"With Java 8 you can do it in one line:\r\n&lt;pre&gt;        \r\nint[] intArr = { 1, 1, 2, 3, 5, 8, 11};  \r\nList&amp;lt;Integer&amp;gt; list = Arrays.stream(intArr).boxed().collect(Collectors.toList());  \r\nlist.forEach(System.out::println);\r\n&lt;/pre&gt;\r\n\r\n","title":"How to create ArrayList (ArrayList&lt;Integer&gt;) from array (int[]) in Java","body":"<p>With Java 8 you can do it in one line:</p>\n\n<pre>        \nint[] intArr = { 1, 1, 2, 3, 5, 8, 11};  \nList&lt;Integer&gt; list = Arrays.stream(intArr).boxed().collect(Collectors.toList());  \nlist.forEach(System.out::println);\n</pre>\n"},{"tags":[],"owner":{"account_id":9495732,"reputation":11,"user_id":7058837,"display_name":"Henry Okoede"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688978949,"creation_date":1688883504,"answer_id":76646129,"question_id":17520964,"body_markdown":"The below provides an example:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    \r\n    public class MyArrays {\r\n        public static void main(String[] args) {\r\n    \r\n            int i, j = 0;\r\n    \r\n            Integer[] StandArr = new Integer[10];\r\n            for (i = 0; i &lt; StandArr.length; i++) {\r\n                StandArr[i] = i * 3;\r\n            }\r\n    \r\n            for (j = 0; j &lt; StandArr.length; j++) {\r\n                System.out.print(StandArr[j] + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n    \r\n            ArrayList&lt;Integer&gt; arr = new ArrayList&lt;&gt;(Arrays.asList(StandArr));\r\n            System.out.println(arr);\r\n        }\r\n    }\r\n\r\n","title":"How to create ArrayList (ArrayList&lt;Integer&gt;) from array (int[]) in Java","body":"<p>The below provides an example:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\n\npublic class MyArrays {\n    public static void main(String[] args) {\n\n        int i, j = 0;\n\n        Integer[] StandArr = new Integer[10];\n        for (i = 0; i &lt; StandArr.length; i++) {\n            StandArr[i] = i * 3;\n        }\n\n        for (j = 0; j &lt; StandArr.length; j++) {\n            System.out.print(StandArr[j] + &quot; &quot;);\n        }\n        System.out.println();\n\n        ArrayList&lt;Integer&gt; arr = new ArrayList&lt;&gt;(Arrays.asList(StandArr));\n        System.out.println(arr);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1134699,"reputation":8337,"user_id":1119997,"accept_rate":68,"display_name":"tuxdna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106367,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":17520983,"answer_count":6,"score":32,"last_activity_date":1688978949,"creation_date":1373267752,"question_id":17520964,"body_markdown":"I have seen the question: https://stackoverflow.com/questions/157944/how-to-create-arraylist-arraylistt-from-array-t\r\n\r\nHowever when I try that solution with following code, it doesn&#39;t quite work in all the cases:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Collection;\r\n    import java.util.List;\r\n    \r\n    public class ToArrayList {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// this works\r\n    \t\tString[] elements = new String[] { &quot;Ryan&quot;, &quot;Julie&quot;, &quot;Bob&quot; };\r\n    \t\tList&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(elements));\r\n    \t\tSystem.out.println(list);\r\n    \r\n    \t\t// this works\r\n    \t\tList&lt;Integer&gt; intList = null;\r\n    \t\tintList = Arrays.asList(3, 5);\r\n    \t\tSystem.out.println(intList);\r\n    \r\n    \t\tint[] intArray = new int[] { 0, 1 };\r\n    \t\t// this doesn&#39;t work!\r\n    \t\tintList = new ArrayList&lt;Integer&gt;(Arrays.asList(intArray));\r\n    \t\tSystem.out.println(intList);\r\n    \t}\r\n    }\r\n\r\nWhat am I doing wrong here? Shouldn&#39;t the code `intList = new ArrayList&lt;Integer&gt;(Arrays.asList(intArray));` compile just fine?\r\n\r\n","title":"How to create ArrayList (ArrayList&lt;Integer&gt;) from array (int[]) in Java","body":"<p>I have seen the question: <a href=\"https://stackoverflow.com/questions/157944/how-to-create-arraylist-arraylistt-from-array-t\">Create ArrayList from array</a></p>\n\n<p>However when I try that solution with following code, it doesn't quite work in all the cases:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collection;\nimport java.util.List;\n\npublic class ToArrayList {\n\n    public static void main(String[] args) {\n        // this works\n        String[] elements = new String[] { \"Ryan\", \"Julie\", \"Bob\" };\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(elements));\n        System.out.println(list);\n\n        // this works\n        List&lt;Integer&gt; intList = null;\n        intList = Arrays.asList(3, 5);\n        System.out.println(intList);\n\n        int[] intArray = new int[] { 0, 1 };\n        // this doesn't work!\n        intList = new ArrayList&lt;Integer&gt;(Arrays.asList(intArray));\n        System.out.println(intList);\n    }\n}\n</code></pre>\n\n<p>What am I doing wrong here? Shouldn't the code <code>intList = new ArrayList&lt;Integer&gt;(Arrays.asList(intArray));</code> compile just fine?</p>\n"},{"tags":["java","jpa","nosql"],"comments":[{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1688988631,"post_id":76652060,"comment_id":135144560,"body_markdown":"You can try referring the NoSQL mongodb java driver APIs.","body":"You can try referring the NoSQL mongodb java driver APIs."},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1688988772,"post_id":76652060,"comment_id":135144589,"body_markdown":"Here is another one: https://jakarta.ee/specifications/nosql/1.0/ and its implementation at http://www.jnosql.org/","body":"Here is another one: <a href=\"https://jakarta.ee/specifications/nosql/1.0/\" rel=\"nofollow noreferrer\">jakarta.ee/specifications/nosql/1.0</a> and its implementation at <a href=\"http://www.jnosql.org/\" rel=\"nofollow noreferrer\">jnosql.org</a>"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":1,"creation_date":1688991802,"post_id":76652060,"comment_id":135145275,"body_markdown":"I think this is what you are looking for: [@org.eclipse.jnosql.mapping.Embeddable](http://www.jnosql.org/docs/annotations.html#embeddable)","body":"I think this is what you are looking for: <a href=\"http://www.jnosql.org/docs/annotations.html#embeddable\" rel=\"nofollow noreferrer\">@org.eclipse.jnosql.mapping.Embeddable</a>"},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1689003712,"post_id":76652060,"comment_id":135148361,"body_markdown":"@prasad_ thanks for your answer, I&#39;ll check!","body":"@prasad_ thanks for your answer, I&#39;ll check!"},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1696457880,"post_id":76652060,"comment_id":136157283,"body_markdown":"@prasad_ I would like to accept your response, so please share the link in the answer.","body":"@prasad_ I would like to accept your response, so please share the link in the answer."}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688978212,"creation_date":1688978212,"question_id":76652060,"body_markdown":"I&#39;m looking to find an alternative for Jakarta [@Embeddable][1] to use with a non-relational database (MongoDB).\r\n\r\nEmbeddable allows to use composition over inheritance, but still have the fields on the same level.\r\n\r\nHere a [simple example][2]:\r\n\r\nInstead of writing all the fields on a class:\r\n\r\n    public class Company {\r\n    \r\n        private Integer id;\r\n    \r\n        private String name;\r\n    \r\n        private String address;\r\n    \r\n        private String phone;\r\n    \r\n        private String contactFirstName;\r\n    \r\n        private String contactLastName;\r\n    \r\n        private String contactPhone;\r\n    \r\n    }\r\n\r\nI can create a new class with common fields that I can reuse on many classes using composition:\r\n\r\n    @Embeddable\r\n    public class ContactPerson {\r\n    \r\n        private String firstName;\r\n    \r\n        private String lastName;\r\n    \r\n        private String phone;\r\n    \r\n    }\r\n\r\nSo now I can use composition to compose a class with all the fields that it needs:\r\n\r\n    @Entity\r\n    public class Company {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private Integer id;\r\n    \r\n        private String name;\r\n    \r\n        private String address;\r\n    \r\n        private String phone;\r\n    \r\n        @Embedded\r\n        private ContactPerson contactPerson;\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/persistence/2.2/apidocs/javax/persistence/embeddable\r\n  [2]: https://www.baeldung.com/jpa-embedded-embeddable\r\n","title":"NoSql alternative to Jakarta @Embeddable","body":"<p>I'm looking to find an alternative for Jakarta <a href=\"https://jakarta.ee/specifications/persistence/2.2/apidocs/javax/persistence/embeddable\" rel=\"nofollow noreferrer\">@Embeddable</a> to use with a non-relational database (MongoDB).</p>\n<p>Embeddable allows to use composition over inheritance, but still have the fields on the same level.</p>\n<p>Here a <a href=\"https://www.baeldung.com/jpa-embedded-embeddable\" rel=\"nofollow noreferrer\">simple example</a>:</p>\n<p>Instead of writing all the fields on a class:</p>\n<pre><code>public class Company {\n\n    private Integer id;\n\n    private String name;\n\n    private String address;\n\n    private String phone;\n\n    private String contactFirstName;\n\n    private String contactLastName;\n\n    private String contactPhone;\n\n}\n</code></pre>\n<p>I can create a new class with common fields that I can reuse on many classes using composition:</p>\n<pre><code>@Embeddable\npublic class ContactPerson {\n\n    private String firstName;\n\n    private String lastName;\n\n    private String phone;\n\n}\n</code></pre>\n<p>So now I can use composition to compose a class with all the fields that it needs:</p>\n<pre><code>@Entity\npublic class Company {\n\n    @Id\n    @GeneratedValue\n    private Integer id;\n\n    private String name;\n\n    private String address;\n\n    private String phone;\n\n    @Embedded\n    private ContactPerson contactPerson;\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","logging"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688979164,"post_id":76651993,"comment_id":135142664,"body_markdown":"First of all: your main application class must have a proper static main method. Check any tutorial for the correct way of defining it. Second: using System.out.println is not logging. It just writes something to console. Use proper logger.info method instead. Please try and update here any progress.","body":"First of all: your main application class must have a proper static main method. Check any tutorial for the correct way of defining it. Second: using System.out.println is not logging. It just writes something to console. Use proper logger.info method instead. Please try and update here any progress."},{"owner":{"account_id":20888119,"reputation":1,"user_id":15344204,"display_name":"Yella32121"},"score":0,"creation_date":1688979766,"post_id":76651993,"comment_id":135142775,"body_markdown":"My answer: 1) I have a Main class. My ThreadSpringServer is located: Main.class/main/new Object of ThreadSpringServer.\n\nThe ThreadSpringServer class isn&#39;t the first main class for my app, it&#39;s some class.\n\n2) I know that this line outputs  System.out.println data to the console. And I don&#39;t expect it to output data to a log file. I am waiting for the log file entry to be in the controller class in the getSpringTestMes method","body":"My answer: 1) I have a Main class. My ThreadSpringServer is located: Main.class/main/new Object of ThreadSpringServer.  The ThreadSpringServer class isn&#39;t the first main class for my app, it&#39;s some class.  2) I know that this line outputs  System.out.println data to the console. And I don&#39;t expect it to output data to a log file. I am waiting for the log file entry to be in the controller class in the getSpringTestMes method"}],"answers":[{"tags":[],"owner":{"account_id":6736921,"reputation":948,"user_id":5191371,"accept_rate":0,"display_name":"Milad Bahmanabadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688978033,"creation_date":1688978033,"answer_id":76652037,"question_id":76651993,"body_markdown":"Try using `logback.xml` in your project :\r\n\r\n&lt;configuration&gt;\r\n\r\n    &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;file&gt;/app/logs/YOUR_FOLDER/YOUR_FILE.log&lt;/file&gt;\r\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n            &lt;fileNamePattern&gt;~/app/logs/YOUR_FOLDER/YOUR_FILE.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\r\n            &lt;timeBasedFileNamingAndTriggeringPolicy\r\n                    class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\r\n                &lt;maxFileSize&gt;400MB&lt;/maxFileSize&gt;\r\n            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\r\n            &lt;maxHistory&gt;30&lt;/maxHistory&gt;\r\n        &lt;/rollingPolicy&gt;\r\n\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%level] [%thread] [%logger:%line] %msg%n\r\n            &lt;/pattern&gt;\r\n\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%level] [%thread] [%logger:%line] %msg%n\r\n            &lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n\r\n    &lt;logger name=&quot;org.springframework&quot; level=&quot;DEBUG&quot; /&gt;\r\n    &lt;logger name=&quot;ir.co.pep&quot; level=&quot;DEBUG&quot; /&gt;\r\n    &lt;logger name=&quot;org.hibernate&quot; level=&quot;ERROR&quot; /&gt;\r\n\r\n\r\n&lt;!--your logs configs--&gt;\r\n\r\n    &lt;root level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n    &lt;/root&gt;\r\n\r\n&lt;/configuration&gt;\r\n\r\ncomplete guild in below link:  \r\n[Logging in spring][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-logging","title":"Cannot set custom logging file path in Spring Boot","body":"<p>Try using <code>logback.xml</code> in your project :</p>\n\n<pre><code>&lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n    &lt;file&gt;/app/logs/YOUR_FOLDER/YOUR_FILE.log&lt;/file&gt;\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n        &lt;fileNamePattern&gt;~/app/logs/YOUR_FOLDER/YOUR_FILE.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\n        &lt;timeBasedFileNamingAndTriggeringPolicy\n                class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\n            &lt;maxFileSize&gt;400MB&lt;/maxFileSize&gt;\n        &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\n        &lt;maxHistory&gt;30&lt;/maxHistory&gt;\n    &lt;/rollingPolicy&gt;\n\n    &lt;encoder&gt;\n        &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%level] [%thread] [%logger:%line] %msg%n\n        &lt;/pattern&gt;\n\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%level] [%thread] [%logger:%line] %msg%n\n        &lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n\n&lt;logger name=&quot;org.springframework&quot; level=&quot;DEBUG&quot; /&gt;\n&lt;logger name=&quot;ir.co.pep&quot; level=&quot;DEBUG&quot; /&gt;\n&lt;logger name=&quot;org.hibernate&quot; level=&quot;ERROR&quot; /&gt;\n</code></pre>\n\n<pre><code>&lt;root level=&quot;INFO&quot;&gt;\n    &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>complete guild in below link:<br />\n<a href=\"https://www.baeldung.com/spring-boot-logging\" rel=\"nofollow noreferrer\">Logging in spring</a></p>\n"}],"owner":{"account_id":20888119,"reputation":1,"user_id":15344204,"display_name":"Yella32121"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688978033,"creation_date":1688977717,"question_id":76651993,"body_markdown":"I use : Windows, java 8 (1.8.0_291), Spring boot v2.4.10. \r\n\r\nI want to write my log messages in log file (and console). I configure my logger with **application.properties** (this file is located in the project resources folder):\r\n\r\n\r\n```\r\n#Try1 Don&#39;t work with it\r\n# logging.level.org.springframework.web=ERROR\r\n#Try2 Don&#39;t work with it\r\n# logging.level.ru.leodev=DEBUG\r\n\r\n#Try3 Don&#39;t work with it\r\nlogging.level.root = DEBUG\r\nlogging.level.com.mycompany.stackexp = DEBUG\r\n \r\nlogging.pattern.console= &quot;%d{yyyy-MM-dd HH:mm:ss} - %msg%n&quot;\r\n \r\nlogging.pattern.file= &quot;%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n&quot;\r\n \r\nlogging.file=e:\\Projects\\logs\\app.log\r\n```\r\n\r\nWhen my spring app starts, I write some test message in my log file, but I don&#39;t look my log file and record in it. I have folder **e:\\Projects\\logs**.\r\n\r\n\r\nMy spring class:\r\n\r\n\r\n```\r\npackage com.mycompany.stackexp;\r\n\r\nimport java.util.Properties;\r\nimport javax.servlet.MultipartConfigElement;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.ConfigurableApplicationContext;\r\nimport org.springframework.boot.ApplicationArguments;\r\nimport org.springframework.boot.web.servlet.MultipartConfigFactory;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.scheduling.annotation.EnableAsync;\r\nimport org.springframework.scheduling.annotation.EnableScheduling;\r\nimport org.springframework.util.unit.DataSize;\r\n\r\n@SpringBootApplication\r\n@EnableScheduling \r\n@EnableAsync \r\npublic class ThreadSpringServer { \r\n    \r\n    private ConfigurableApplicationContext context; //Config spring app\r\n    \r\n    public ThreadSpringServer(){}\r\n    \r\n    public void start() throws InterruptedException, Exception {\r\n        \r\n        Thread.currentThread().setName(&quot;ThreadSpringServer&quot;);\r\n        \r\n        System.out.println(&quot;Start SpringServer...&quot;);\r\n        context = SpringApplication.run(ThreadSpringServer.class);\r\n        System.out.println(&quot;SpringServer was successfully started, port: &quot;+System.getProperty(&quot;server.port&quot;));\r\n        \r\n    }\r\n    \r\n    @Bean(&quot;Bean1&quot;)\r\n    public MultipartConfigElement multipartConfigElement() {\r\n        MultipartConfigFactory factory = new MultipartConfigFactory();\r\n        \r\n        factory.setMaxFileSize(DataSize.parse(&quot;100MB&quot;));\r\n        factory.setMaxRequestSize(DataSize.parse(&quot;100MB&quot;));\r\n        return factory.createMultipartConfig();\r\n    }   \r\n}\r\n```\r\n\r\nAnd my spring controller class:\r\n\r\n\r\n```\r\n\r\npackage com.mycompany.stackexp;\r\n\r\nimport org.springframework.web.bind.annotation.DeleteMapping;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestMethod;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.multipart.MultipartFile;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext;\r\n\r\n//my logger\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\n@RestController\r\npublic class ControllerSpring {\r\n \r\n    private Logger springLogger = LoggerFactory.getLogger(ControllerSpring.class);\r\n    \r\n    @Autowired\r\n    private ServletWebServerApplicationContext webServerAppCtxt;\r\n    \r\n    @GetMapping(&quot;/myLog&quot;)\r\n    @ResponseBody\r\n    public String getSpringTestMes() throws InterruptedException, IOException, ParseException, Exception {\r\n        springLogger.error(&quot;errorMes&quot;);\r\n        springLogger.info(&quot;infoMes&quot;);\r\n        springLogger.debug(&quot;debugMes&quot;);\r\n        \r\n        return &quot;Spring boot create test mes in log file&quot;;\r\n    }\r\n```\r\n\r\nMy pom.xml:\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n    &lt;artifactId&gt;AutoHandler&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n       \r\n        &lt;!-- Spring for REST API --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.10&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.10&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.9&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.17&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.6.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-artifact&lt;/artifactId&gt;\r\n            &lt;version&gt;3.6.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-project&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;     \r\n       \r\n        &lt;!-- Test dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.28&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.28&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.28&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.28&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.28&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            \r\n            &lt;!-- Other build plugins for create .jar--&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4.10&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\r\n                            &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\r\n                            &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\r\n                            &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                            &lt;mainClass&gt;com.mycompany.stackexp.Main&lt;/mainClass&gt;\r\n                       \r\n                            &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n                            &lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                    &lt;source&gt;1.5&lt;/source&gt;\r\n                    &lt;target&gt;1.5&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n                      \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;attach-sources&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;com.mycompany.stackexp.Main&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;name&gt;AutoHandler&lt;/name&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\n\r\nI try to use my controller entity: &quot;http://localhost:3333/myLog&quot;, and I expect the creation of a log file in my selected directory (path in application.properties): **e:\\Projects\\logs\\app.log**, but there isn&#39;t log file in this directory.\r\n\r\nWhen I do it, I look message in console, but I need my log file. \r\nIt turns out that spring not only does not write data to the file, but also does not create it at the specified path.\r\n\r\n---\r\n\r\nCan you tell me what my possible mistakes might be? When the program starts, no errors are displayed and everything starts as it should\r\n","title":"Cannot set custom logging file path in Spring Boot","body":"<p>I use : Windows, java 8 (1.8.0_291), Spring boot v2.4.10.</p>\n<p>I want to write my log messages in log file (and console). I configure my logger with <strong>application.properties</strong> (this file is located in the project resources folder):</p>\n<pre><code>#Try1 Don't work with it\n# logging.level.org.springframework.web=ERROR\n#Try2 Don't work with it\n# logging.level.ru.leodev=DEBUG\n\n#Try3 Don't work with it\nlogging.level.root = DEBUG\nlogging.level.com.mycompany.stackexp = DEBUG\n \nlogging.pattern.console= &quot;%d{yyyy-MM-dd HH:mm:ss} - %msg%n&quot;\n \nlogging.pattern.file= &quot;%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n&quot;\n \nlogging.file=e:\\Projects\\logs\\app.log\n</code></pre>\n<p>When my spring app starts, I write some test message in my log file, but I don't look my log file and record in it. I have folder <strong>e:\\Projects\\logs</strong>.</p>\n<p>My spring class:</p>\n<pre><code>package com.mycompany.stackexp;\n\nimport java.util.Properties;\nimport javax.servlet.MultipartConfigElement;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ConfigurableApplicationContext;\nimport org.springframework.boot.ApplicationArguments;\nimport org.springframework.boot.web.servlet.MultipartConfigFactory;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.scheduling.annotation.EnableAsync;\nimport org.springframework.scheduling.annotation.EnableScheduling;\nimport org.springframework.util.unit.DataSize;\n\n@SpringBootApplication\n@EnableScheduling \n@EnableAsync \npublic class ThreadSpringServer { \n    \n    private ConfigurableApplicationContext context; //Config spring app\n    \n    public ThreadSpringServer(){}\n    \n    public void start() throws InterruptedException, Exception {\n        \n        Thread.currentThread().setName(&quot;ThreadSpringServer&quot;);\n        \n        System.out.println(&quot;Start SpringServer...&quot;);\n        context = SpringApplication.run(ThreadSpringServer.class);\n        System.out.println(&quot;SpringServer was successfully started, port: &quot;+System.getProperty(&quot;server.port&quot;));\n        \n    }\n    \n    @Bean(&quot;Bean1&quot;)\n    public MultipartConfigElement multipartConfigElement() {\n        MultipartConfigFactory factory = new MultipartConfigFactory();\n        \n        factory.setMaxFileSize(DataSize.parse(&quot;100MB&quot;));\n        factory.setMaxRequestSize(DataSize.parse(&quot;100MB&quot;));\n        return factory.createMultipartConfig();\n    }   \n}\n</code></pre>\n<p>And my spring controller class:</p>\n<pre><code>\npackage com.mycompany.stackexp;\n\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.ResponseBody;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.multipart.MultipartFile;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext;\n\n//my logger\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\n@RestController\npublic class ControllerSpring {\n \n    private Logger springLogger = LoggerFactory.getLogger(ControllerSpring.class);\n    \n    @Autowired\n    private ServletWebServerApplicationContext webServerAppCtxt;\n    \n    @GetMapping(&quot;/myLog&quot;)\n    @ResponseBody\n    public String getSpringTestMes() throws InterruptedException, IOException, ParseException, Exception {\n        springLogger.error(&quot;errorMes&quot;);\n        springLogger.info(&quot;infoMes&quot;);\n        springLogger.debug(&quot;debugMes&quot;);\n        \n        return &quot;Spring boot create test mes in log file&quot;;\n    }\n</code></pre>\n<p>My pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n    &lt;artifactId&gt;AutoHandler&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;&gt;\n    &lt;/properties&gt;\n    \n    &lt;dependencies&gt;\n       \n        &lt;!-- Spring for REST API --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;2.4.10&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;version&gt;2.4.10&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;1.0.9&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-core&lt;/artifactId&gt;\n            &lt;version&gt;3.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-artifact&lt;/artifactId&gt;\n            &lt;version&gt;3.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-project&lt;/artifactId&gt;\n            &lt;version&gt;2.2.1&lt;/version&gt;\n        &lt;/dependency&gt;     \n       \n        &lt;!-- Test dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;1.7.28&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.7.28&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.28&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\n            &lt;version&gt;1.7.28&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n            &lt;version&gt;1.7.28&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            \n            &lt;!-- Other build plugins for create .jar--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4.10&lt;/version&gt;\n            &lt;/plugin&gt;\n            \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\n                            &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\n                            &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\n                            &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                            &lt;mainClass&gt;com.mycompany.stackexp.Main&lt;/mainClass&gt;\n                       \n                            &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n                            &lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                    &lt;source&gt;1.5&lt;/source&gt;\n                    &lt;target&gt;1.5&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n                      \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-sources&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;com.mycompany.stackexp.Main&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\n                        &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;name&gt;AutoHandler&lt;/name&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I try to use my controller entity: &quot;http://localhost:3333/myLog&quot;, and I expect the creation of a log file in my selected directory (path in application.properties): <strong>e:\\Projects\\logs\\app.log</strong>, but there isn't log file in this directory.</p>\n<p>When I do it, I look message in console, but I need my log file.\nIt turns out that spring not only does not write data to the file, but also does not create it at the specified path.</p>\n<hr />\n<p>Can you tell me what my possible mistakes might be? When the program starts, no errors are displayed and everything starts as it should</p>\n"},{"tags":["java","quartz-scheduler"],"comments":[{"owner":{"account_id":435280,"reputation":14323,"user_id":821786,"display_name":"Gergely Bacso"},"score":0,"creation_date":1439911713,"post_id":32075128,"comment_id":52049580,"body_markdown":"Can we see your quartz configuration? The &quot;none could discard misfires&quot; is suspicious, if it were true probably it would be a huge bug reported by many a long time ago.","body":"Can we see your quartz configuration? The &quot;none could discard misfires&quot; is suspicious, if it were true probably it would be a huge bug reported by many a long time ago."},{"owner":{"account_id":2081947,"reputation":1968,"user_id":1853780,"accept_rate":50,"display_name":"Barium Scoorge"},"score":0,"creation_date":1439912580,"post_id":32075128,"comment_id":52050208,"body_markdown":"edited with quartz properties","body":"edited with quartz properties"},{"owner":{"account_id":435280,"reputation":14323,"user_id":821786,"display_name":"Gergely Bacso"},"score":0,"creation_date":1439913863,"post_id":32075128,"comment_id":52051112,"body_markdown":"The recently added config is mainly the jobstore configuration. The relevant part is where you are defining your schedulers, jobs, triggers, etc.","body":"The recently added config is mainly the jobstore configuration. The relevant part is where you are defining your schedulers, jobs, triggers, etc."},{"owner":{"account_id":2081947,"reputation":1968,"user_id":1853780,"accept_rate":50,"display_name":"Barium Scoorge"},"score":0,"creation_date":1439916350,"post_id":32075128,"comment_id":52052525,"body_markdown":"edited with definitions..","body":"edited with definitions.."},{"owner":{"account_id":2770284,"reputation":706,"user_id":4690503,"accept_rate":75,"display_name":"slux83"},"score":0,"creation_date":1531813042,"post_id":32075128,"comment_id":89722878,"body_markdown":"Hi, ObscurMoirage have you found a solution to this issue? I&#39;m facing the same problem and I have misfires when my web app restart","body":"Hi, ObscurMoirage have you found a solution to this issue? I&#39;m facing the same problem and I have misfires when my web app restart"}],"answers":[{"tags":[],"owner":{"account_id":61316,"reputation":463,"user_id":182799,"display_name":"Matt Thomas"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1463067094,"creation_date":1463067094,"answer_id":37191437,"question_id":32075128,"body_markdown":"I am not sure if you ever figured this out, but I had a similar issue and the solution for me was related to the &quot;misfireThreshold&quot; in my configuration:\r\n\r\n    quartz.jobStore.misfireThreshold\r\n\r\nMine was set to 60000 (aka 1 minute) and so upon restarting my scheduling service, if they were within a minute of being &quot;late&quot;, they still executed.","title":"Avoiding misfires with Quartz","body":"<p>I am not sure if you ever figured this out, but I had a similar issue and the solution for me was related to the \"misfireThreshold\" in my configuration:</p>\n\n<pre><code>quartz.jobStore.misfireThreshold\n</code></pre>\n\n<p>Mine was set to 60000 (aka 1 minute) and so upon restarting my scheduling service, if they were within a minute of being \"late\", they still executed.</p>\n"},{"tags":[],"owner":{"account_id":19964579,"reputation":1,"user_id":14631468,"display_name":"Vojtěch Hora"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688977856,"creation_date":1688977856,"answer_id":76652017,"question_id":32075128,"body_markdown":"I have dealt with the same problem - jobs ran just after resuming them from being paused.\r\n\r\nYour workaround is useless for my situation, because it kills also jobs misfired because of full pool of executors (in that case, I really want these jobs to be executed as soon as some executor is available).\r\n\r\nI found a better solution that works for me, although also not so elegant - unschedule the job schedule it again.\r\n\r\n```java\r\nvoid resumePausedJobAndDiscardMisfires(final JobDetail job, final Trigger trigger) {\r\n    scheduler.unscheduleJob(trigger.getKey());\r\n    scheduler.scheduleJob(job, Set.of(trigger), true);\r\n    scheduler.rescheduleJob(trigger.getKey(), trigger);\r\n}\r\n```\r\n\r\nUnscheduling the job really discards all it&#39;s misfires. I wish there could be some more straightforward solution, especially using the `rescheduleJob` method, one should be able to specify, if misfires should be dropped (which is the most wanted behaviour in the most cases IMHO).\r\n\r\nFinally, also job deletion discards all misfires: `scheduler.deleteJob(jobKey);`.","title":"Avoiding misfires with Quartz","body":"<p>I have dealt with the same problem - jobs ran just after resuming them from being paused.</p>\n<p>Your workaround is useless for my situation, because it kills also jobs misfired because of full pool of executors (in that case, I really want these jobs to be executed as soon as some executor is available).</p>\n<p>I found a better solution that works for me, although also not so elegant - unschedule the job schedule it again.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void resumePausedJobAndDiscardMisfires(final JobDetail job, final Trigger trigger) {\n    scheduler.unscheduleJob(trigger.getKey());\n    scheduler.scheduleJob(job, Set.of(trigger), true);\n    scheduler.rescheduleJob(trigger.getKey(), trigger);\n}\n</code></pre>\n<p>Unscheduling the job really discards all it's misfires. I wish there could be some more straightforward solution, especially using the <code>rescheduleJob</code> method, one should be able to specify, if misfires should be dropped (which is the most wanted behaviour in the most cases IMHO).</p>\n<p>Finally, also job deletion discards all misfires: <code>scheduler.deleteJob(jobKey);</code>.</p>\n"}],"owner":{"account_id":2081947,"reputation":1968,"user_id":1853780,"accept_rate":50,"display_name":"Barium Scoorge"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16614,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1688977856,"creation_date":1439907789,"question_id":32075128,"body_markdown":"I&#39;m facing a painful problem with Quartz and misfires.\r\n\r\nMy App creates allows user to create CronTrigger and SimpleTrigger Jobs.\r\n\r\nEach Job can be paused/resumed (using Scheduler.pauseJob and Scheduler.resumeJob)\r\n\r\nThe scheduler itself can be set to standby.\r\n\r\nWe&#39;d like to discard any misfires :\r\n\r\n - When scheduler is in standby\r\n - When job is paused\r\n - When the application is stopped\r\n\r\nAs explained in this blog post http://www.nurkiewicz.com/2012/04/quartz-scheduler-misfire-instructions.html, I&#39;ve tried \r\n\r\n - withMisfireHandlingInstructionDoNothing policy for CronTrigger \r\n - withMisfireHandlingInstructionNextWithRemainingCount for SimpleTrigger\r\n\r\nbut none could discard misfires.\r\n\r\nI&#39;m currently using an ugly workaround in job execute method:\r\n\r\n    public void execute(JobExecutionContext context) throws JobExecutionException {\r\n        Date dateNow = new Date();\r\n\t    long diff = dateNow.getTime() - context.getScheduledFireTime().getTime();\r\n\t    if (diff &gt; 500)\r\n\t    {\r\n\t\t     //its a misfire\r\n\t\t     return;\r\n\t    }\r\n\r\n        /* rest of job execution code */\r\n\r\nWhen scheduledFireTime is more than 500ms older than now, discard it.\r\n\r\nBut it seems that sometimes, in production, this allows some jobs to be executed (it has been reported that occurs when app is restarted)\r\n\r\nCould that be possible ?\r\nIs there any pretty way to avoid misfires ?\r\n\r\nQuartz version : 2.1.7 (In a Spring 3.2.5 app)\r\n\r\nquartz.properties\r\n\r\n\torg.quartz.jobStore.class=org.quartz.impl.jdbcjobstore.JobStoreTX\r\n\torg.quartz.jobStore.dataSource=psqldatasource\r\n\torg.quartz.dataSource.psqldatasource.driver=${db.driver}\r\n\torg.quartz.dataSource.psqldatasource.URL=${db.url}\r\n\torg.quartz.dataSource.psqldatasource.user=${db.usr}\r\n\torg.quartz.dataSource.psqldatasource.password=${db.pwd}\r\n\torg.quartz.threadPool.threadCount = 3\r\n\t\r\n\torg.quartz.jobStore.useProperties = false\r\n\torg.quartz.jobStore.driverDelegateClass =  org.quartz.impl.jdbcjobstore.PostgreSQLDelegate\r\n\r\nfor Cron :\r\n\r\n     JobDetail job = JobBuilder.newJob(JobLauncher.class)\r\n\t .withIdentity(jobIdentifierBean.getNameJob(), jobIdentifierBean.getNameGroup())\r\n\t .usingJobData(...) //defining some jobData key/values\r\n\t .build();\r\n\t \r\n\t Trigger trigger = TriggerBuilder.newTrigger()\r\n\t .withIdentity(name, group)\r\n\t .startNow()\r\n\t .withSchedule(CronScheduleBuilder.cronSchedule(strCronExpression).withMisfireHandlingInstructionDoNothing())\r\n\t .build();\r\n\t \r\n\t try {\r\n\t\tscheduler.scheduleJob(job, trigger);\r\n\t} catch (SchedulerException e) {\r\n\t\tthrow e;\r\n\t}\r\n\r\nfor SimpleTrigger (job is defined as in cron case)\r\n\t\t\r\n\t\t//avoid first fire\r\n\t\tGregorianCalendar g = new GregorianCalendar();\r\n\t\tswitch (enumDelayUnits) {\r\n\t\t\tcase Days:\r\n\t\t\t\tg.add(GregorianCalendar.HOUR, delay * 24);\r\n\t\t\t\tbreak;\r\n\t\t\tcase Hours:\r\n\t\t\t\tg.add(GregorianCalendar.HOUR, delay);\r\n\t\t\t\tbreak;\r\n\t\t\tcase Minutes:\r\n\t\t\t\tg.add(GregorianCalendar.MINUTE, delay);\r\n\t\t\t\tbreak;\r\n\t\t\tcase Seconds:\r\n\t\t\t\tg.add(GregorianCalendar.SECOND, delay);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new ServiceException(&quot;Unknow delay type&quot;);\r\n\t\t}\r\n\t\r\n\t\tTrigger trigger = TriggerBuilder.newTrigger()\r\n\t\t\t\t.withIdentity(jobIdentifierBean.getNameTrigger(), jobIdentifierBean.getNameGroup())\r\n\t\t\t\t.startAt(g.getTime())\r\n\t\t\t\t.withSchedule(getSimpleScheduleBuilder(delay, enumDelayUnits, repeatForever))\r\n\t\t\t\t.build();\r\n\t\ttry {\r\n\t\t\tscheduler.scheduleJob(job, trigger);\r\n\t\t} catch (SchedulerException e) {\r\n\t\t\tthrow e;\r\n\t\t}\r\n\r\n\tprivate SimpleScheduleBuilder getSimpleScheduleBuilder(int delay, EnumDelayUnits enumDelayType, boolean repeatForever) throws ServiceException, Exception\r\n\t{\r\n\t\tSimpleScheduleBuilder simpleScheduleBuilder;\r\n\t\t\r\n\t\tsimpleScheduleBuilder = SimpleScheduleBuilder.simpleSchedule();\r\n\t\tswitch (enumDelayType) {\r\n\t\tcase Days:\r\n\t\t\tsimpleScheduleBuilder.withIntervalInHours(24 * delay);\r\n\t\t\tbreak;\r\n\t\tcase Hours:\r\n\t\t\tsimpleScheduleBuilder.withIntervalInHours(delay);\r\n\t\t\tbreak;\r\n\t\tcase Minutes:\r\n\t\t\tsimpleScheduleBuilder.withIntervalInMinutes(delay);\r\n\t\t\tbreak;\r\n\t\tcase Seconds:\r\n\t\t\tsimpleScheduleBuilder.withIntervalInSeconds(delay);\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tserviceError(&quot;Unknown delay &quot; + enumDelayType);\r\n\t\t}\r\n\t\tif(repeatForever)\r\n\t\t{\r\n\t\t\tsimpleScheduleBuilder.repeatForever();\r\n\t\t}\r\n\t\t\r\n\t\tsimpleScheduleBuilder = simpleScheduleBuilder.withMisfireHandlingInstructionNextWithRemainingCount();\r\n\t\t\r\n\t\treturn simpleScheduleBuilder;\r\n\t}","title":"Avoiding misfires with Quartz","body":"<p>I'm facing a painful problem with Quartz and misfires.</p>\n\n<p>My App creates allows user to create CronTrigger and SimpleTrigger Jobs.</p>\n\n<p>Each Job can be paused/resumed (using Scheduler.pauseJob and Scheduler.resumeJob)</p>\n\n<p>The scheduler itself can be set to standby.</p>\n\n<p>We'd like to discard any misfires :</p>\n\n<ul>\n<li>When scheduler is in standby</li>\n<li>When job is paused</li>\n<li>When the application is stopped</li>\n</ul>\n\n<p>As explained in this blog post <a href=\"http://www.nurkiewicz.com/2012/04/quartz-scheduler-misfire-instructions.html\" rel=\"noreferrer\">http://www.nurkiewicz.com/2012/04/quartz-scheduler-misfire-instructions.html</a>, I've tried </p>\n\n<ul>\n<li>withMisfireHandlingInstructionDoNothing policy for CronTrigger </li>\n<li>withMisfireHandlingInstructionNextWithRemainingCount for SimpleTrigger</li>\n</ul>\n\n<p>but none could discard misfires.</p>\n\n<p>I'm currently using an ugly workaround in job execute method:</p>\n\n<pre><code>public void execute(JobExecutionContext context) throws JobExecutionException {\n    Date dateNow = new Date();\n    long diff = dateNow.getTime() - context.getScheduledFireTime().getTime();\n    if (diff &gt; 500)\n    {\n         //its a misfire\n         return;\n    }\n\n    /* rest of job execution code */\n</code></pre>\n\n<p>When scheduledFireTime is more than 500ms older than now, discard it.</p>\n\n<p>But it seems that sometimes, in production, this allows some jobs to be executed (it has been reported that occurs when app is restarted)</p>\n\n<p>Could that be possible ?\nIs there any pretty way to avoid misfires ?</p>\n\n<p>Quartz version : 2.1.7 (In a Spring 3.2.5 app)</p>\n\n<p>quartz.properties</p>\n\n<pre><code>org.quartz.jobStore.class=org.quartz.impl.jdbcjobstore.JobStoreTX\norg.quartz.jobStore.dataSource=psqldatasource\norg.quartz.dataSource.psqldatasource.driver=${db.driver}\norg.quartz.dataSource.psqldatasource.URL=${db.url}\norg.quartz.dataSource.psqldatasource.user=${db.usr}\norg.quartz.dataSource.psqldatasource.password=${db.pwd}\norg.quartz.threadPool.threadCount = 3\n\norg.quartz.jobStore.useProperties = false\norg.quartz.jobStore.driverDelegateClass =  org.quartz.impl.jdbcjobstore.PostgreSQLDelegate\n</code></pre>\n\n<p>for Cron :</p>\n\n<pre><code> JobDetail job = JobBuilder.newJob(JobLauncher.class)\n .withIdentity(jobIdentifierBean.getNameJob(), jobIdentifierBean.getNameGroup())\n .usingJobData(...) //defining some jobData key/values\n .build();\n\n Trigger trigger = TriggerBuilder.newTrigger()\n .withIdentity(name, group)\n .startNow()\n .withSchedule(CronScheduleBuilder.cronSchedule(strCronExpression).withMisfireHandlingInstructionDoNothing())\n .build();\n\n try {\n    scheduler.scheduleJob(job, trigger);\n} catch (SchedulerException e) {\n    throw e;\n}\n</code></pre>\n\n<p>for SimpleTrigger (job is defined as in cron case)</p>\n\n<pre><code>    //avoid first fire\n    GregorianCalendar g = new GregorianCalendar();\n    switch (enumDelayUnits) {\n        case Days:\n            g.add(GregorianCalendar.HOUR, delay * 24);\n            break;\n        case Hours:\n            g.add(GregorianCalendar.HOUR, delay);\n            break;\n        case Minutes:\n            g.add(GregorianCalendar.MINUTE, delay);\n            break;\n        case Seconds:\n            g.add(GregorianCalendar.SECOND, delay);\n            break;\n        default:\n            throw new ServiceException(\"Unknow delay type\");\n    }\n\n    Trigger trigger = TriggerBuilder.newTrigger()\n            .withIdentity(jobIdentifierBean.getNameTrigger(), jobIdentifierBean.getNameGroup())\n            .startAt(g.getTime())\n            .withSchedule(getSimpleScheduleBuilder(delay, enumDelayUnits, repeatForever))\n            .build();\n    try {\n        scheduler.scheduleJob(job, trigger);\n    } catch (SchedulerException e) {\n        throw e;\n    }\n\nprivate SimpleScheduleBuilder getSimpleScheduleBuilder(int delay, EnumDelayUnits enumDelayType, boolean repeatForever) throws ServiceException, Exception\n{\n    SimpleScheduleBuilder simpleScheduleBuilder;\n\n    simpleScheduleBuilder = SimpleScheduleBuilder.simpleSchedule();\n    switch (enumDelayType) {\n    case Days:\n        simpleScheduleBuilder.withIntervalInHours(24 * delay);\n        break;\n    case Hours:\n        simpleScheduleBuilder.withIntervalInHours(delay);\n        break;\n    case Minutes:\n        simpleScheduleBuilder.withIntervalInMinutes(delay);\n        break;\n    case Seconds:\n        simpleScheduleBuilder.withIntervalInSeconds(delay);\n        break;\n    default:\n        serviceError(\"Unknown delay \" + enumDelayType);\n    }\n    if(repeatForever)\n    {\n        simpleScheduleBuilder.repeatForever();\n    }\n\n    simpleScheduleBuilder = simpleScheduleBuilder.withMisfireHandlingInstructionNextWithRemainingCount();\n\n    return simpleScheduleBuilder;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":4203120,"reputation":10908,"user_id":4923629,"accept_rate":92,"display_name":"123"},"score":1,"creation_date":1646819131,"post_id":71406849,"comment_id":126216109,"body_markdown":"Not sure you can easily add orElse to a chain, and I think it would quickly become unmaintainable as it branches off. Personally I would just flatMap with a method that has a primitive if/else and returns whichever flow you want instead of filter","body":"Not sure you can easily add orElse to a chain, and I think it would quickly become unmaintainable as it branches off. Personally I would just flatMap with a method that has a primitive if/else and returns whichever flow you want instead of filter"}],"answers":[{"tags":[],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1646819790,"creation_date":1646819790,"answer_id":71407433,"question_id":71406849,"body_markdown":"So what @123 probably means is the following:\r\n\r\n    @Override\r\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n        return this.paths.matches(exchange)\r\n                    .flatMap((matchResult) -&gt;\r\n                            matchResult.isMatch()\r\n                                    ? customLogic(exchange, chain)\r\n                                    : chain.filter(exchange)) //continue normal flow\r\n                    .then();\r\n    }\r\n\r\nWhich works, but I&#39;d still be interested if there is a possibility to delegate a &quot;negative-match&quot; outcome directly inside the flow, maybe with `switchIfEmpty()` or similar.","title":"How to add conditions in a reactive WebFlux .filter() flow in Spring?","body":"<p>So what @123 probably means is the following:</p>\n<pre><code>@Override\npublic Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n    return this.paths.matches(exchange)\n                .flatMap((matchResult) -&gt;\n                        matchResult.isMatch()\n                                ? customLogic(exchange, chain)\n                                : chain.filter(exchange)) //continue normal flow\n                .then();\n}\n</code></pre>\n<p>Which works, but I'd still be interested if there is a possibility to delegate a &quot;negative-match&quot; outcome directly inside the flow, maybe with <code>switchIfEmpty()</code> or similar.</p>\n"},{"tags":[],"owner":{"account_id":4690099,"reputation":181,"user_id":3796442,"display_name":"yuvraj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688977673,"creation_date":1688977673,"answer_id":76651986,"question_id":71406849,"body_markdown":"One of the solution for above one is &quot;switchIfEmpty()&quot; can be added in case filter condition become false. Please let me know if you fave any further question on this.\r\n\r\n    class PathFilter implements org.springframework.web.server.WebFilter {\r\n        private ServerWebExchangeMatcher paths;\r\n        \r\n        @Override\r\n        public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n            //TODO how to add a &quot;no-match&quot; execution?\r\n            return this.paths.matches(exchange)\r\n                        .filter(ServerWebExchangeMatcher.MatchResult::isMatch)\r\n                        .flatMap(...)\r\n                        .switchIfEmpty(Mono.defer(() -&gt; doSomethingElse()));\r\n        }\r\n    }","title":"How to add conditions in a reactive WebFlux .filter() flow in Spring?","body":"<p>One of the solution for above one is &quot;switchIfEmpty()&quot; can be added in case filter condition become false. Please let me know if you fave any further question on this.</p>\n<pre><code>class PathFilter implements org.springframework.web.server.WebFilter {\n    private ServerWebExchangeMatcher paths;\n    \n    @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n        //TODO how to add a &quot;no-match&quot; execution?\n        return this.paths.matches(exchange)\n                    .filter(ServerWebExchangeMatcher.MatchResult::isMatch)\n                    .flatMap(...)\n                    .switchIfEmpty(Mono.defer(() -&gt; doSomethingElse()));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2682,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1688977673,"creation_date":1646817138,"question_id":71406849,"body_markdown":"I want to create a conditional `WebFilter` that executes one logic if `ServerWebExchangeMatcher` matches, and another logic if it does not match.\r\n\r\nThe following already works for a &quot;positive&quot; match, by using `.filter(..::isMatch)`. But how could I add a `.orElse()` method here into the flow?\r\n\r\n\r\n    class PathFilter implements org.springframework.web.server.WebFilter {\r\n        private ServerWebExchangeMatcher paths;\r\n        \r\n        @Override\r\n    \tpublic Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n            //TODO how to add a &quot;no-match&quot; execution?\r\n            return this.paths.matches(exchange)\r\n                        .filter(ServerWebExchangeMatcher.MatchResult::isMatch)\r\n                        .flatMap(...)\r\n                        .then();\r\n    \t}\r\n    }","title":"How to add conditions in a reactive WebFlux .filter() flow in Spring?","body":"<p>I want to create a conditional <code>WebFilter</code> that executes one logic if <code>ServerWebExchangeMatcher</code> matches, and another logic if it does not match.</p>\n<p>The following already works for a &quot;positive&quot; match, by using <code>.filter(..::isMatch)</code>. But how could I add a <code>.orElse()</code> method here into the flow?</p>\n<pre><code>class PathFilter implements org.springframework.web.server.WebFilter {\n    private ServerWebExchangeMatcher paths;\n    \n    @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n        //TODO how to add a &quot;no-match&quot; execution?\n        return this.paths.matches(exchange)\n                    .filter(ServerWebExchangeMatcher.MatchResult::isMatch)\n                    .flatMap(...)\n                    .then();\n    }\n}\n</code></pre>\n"},{"tags":["java","database","servlets","derby","web-development-server"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688980465,"post_id":76651971,"comment_id":135142923,"body_markdown":"If you&#39;ve got web + db you really want an ORM technology like JPA. A typical technique is to have your application pre-populate the respository or repositories where necessary","body":"If you&#39;ve got web + db you really want an ORM technology like JPA. A typical technique is to have your application pre-populate the respository or repositories where necessary"},{"owner":{"account_id":28551054,"reputation":21,"user_id":21855921,"display_name":"Matteo B"},"score":0,"creation_date":1688981319,"post_id":76651971,"comment_id":135143105,"body_markdown":"I am developing a project not a real application. So i simply want to transfer the &quot;ready&quot; database from the local environment to the Java project.","body":"I am developing a project not a real application. So i simply want to transfer the &quot;ready&quot; database from the local environment to the Java project."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688981479,"post_id":76651971,"comment_id":135143133,"body_markdown":"You can do that too with ORM","body":"You can do that too with ORM"},{"owner":{"account_id":28551054,"reputation":21,"user_id":21855921,"display_name":"Matteo B"},"score":0,"creation_date":1688981765,"post_id":76651971,"comment_id":135143196,"body_markdown":"So do you think that what i asked is not directly feasible by setting the database folder in the right location and specify the correct jdbc path?","body":"So do you think that what i asked is not directly feasible by setting the database folder in the right location and specify the correct jdbc path?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688981901,"post_id":76651971,"comment_id":135143223,"body_markdown":"Yes, I think it&#39;s quite possible, though I haven&#39;t done it myself. You could maybe put it in WEB-INF/storage","body":"Yes, I think it&#39;s quite possible, though I haven&#39;t done it myself. You could maybe put it in WEB-INF/storage"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688982217,"post_id":76651971,"comment_id":135143285,"body_markdown":"Having said that you would be much better off if you put it outside the web app. Otherwise your storage state will not be maintained when you redeploy","body":"Having said that you would be much better off if you put it outside the web app. Otherwise your storage state will not be maintained when you redeploy"},{"owner":{"account_id":28551054,"reputation":21,"user_id":21855921,"display_name":"Matteo B"},"score":0,"creation_date":1688983138,"post_id":76651971,"comment_id":135143479,"body_markdown":"I totally agree that this is not a &quot;realistic&quot; approach and has different problems but i have to fulfill the request that they gave to me.","body":"I totally agree that this is not a &quot;realistic&quot; approach and has different problems but i have to fulfill the request that they gave to me."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688983923,"post_id":76651971,"comment_id":135143630,"body_markdown":"I would set it up so that Derby is working in client-server mode then you&#39;re essentially accessing by jdbc url","body":"I would set it up so that Derby is working in client-server mode then you&#39;re essentially accessing by jdbc url"},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1688992935,"post_id":76651971,"comment_id":135145579,"body_markdown":"The data needs to be persisted in a folder somewhere. If you are deploying to Tomcat, you can create a tomcat subfolder to store the data, just for this purpose. Now, in the `context.xml` file you can define a String parameter to configure where this path is. The application will read the parameter and use it to connect/create the database in there.","body":"The data needs to be persisted in a folder somewhere. If you are deploying to Tomcat, you can create a tomcat subfolder to store the data, just for this purpose. Now, in the <code>context.xml</code> file you can define a String parameter to configure where this path is. The application will read the parameter and use it to connect/create the database in there."}],"owner":{"account_id":28551054,"reputation":21,"user_id":21855921,"display_name":"Matteo B"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688977492,"creation_date":1688977492,"question_id":76651971,"body_markdown":"i am developing a web application project using Apache Tomcat and Apache Derby. I have successfully created an embedded database and i can connect to it. The problem is that the DB is being created/connected to a path relative to the machine in which the project is run. I want to *export the entire database* inside the Java project but i cannot understand how to do it. There are two problems:\r\n\r\n1) In which folder should i put the Database?\r\n2) How should i specify the path to connect with JDBC?\r\n\r\nI have tried different approaches with `getServletContext()` and other methods but the only folder i can specify are relative to the Apache installation folder or the out artifact one. \r\n\r\nThe purpose of this operation is to make the project (that doesn&#39;t aim to production) portable, so that the Database is already present and populated. ","title":"Embed Apache Derby Database inside a Java project","body":"<p>i am developing a web application project using Apache Tomcat and Apache Derby. I have successfully created an embedded database and i can connect to it. The problem is that the DB is being created/connected to a path relative to the machine in which the project is run. I want to <em>export the entire database</em> inside the Java project but i cannot understand how to do it. There are two problems:</p>\n<ol>\n<li>In which folder should i put the Database?</li>\n<li>How should i specify the path to connect with JDBC?</li>\n</ol>\n<p>I have tried different approaches with <code>getServletContext()</code> and other methods but the only folder i can specify are relative to the Apache installation folder or the out artifact one.</p>\n<p>The purpose of this operation is to make the project (that doesn't aim to production) portable, so that the Database is already present and populated.</p>\n"},{"tags":["java","postgresql","jdbc","timezone"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1569527797,"post_id":58123614,"comment_id":102636402,"body_markdown":"Why would that matter? The date objects read by the JDBC driver don&#39;t reflect the session time zone.","body":"Why would that matter? The date objects read by the JDBC driver don&#39;t reflect the session time zone."}],"answers":[{"tags":[],"owner":{"account_id":8633322,"reputation":218343,"user_id":6464308,"display_name":"Laurenz Albe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688977393,"creation_date":1569528098,"answer_id":58123980,"question_id":58123614,"body_markdown":"Ever since [commit 9d6b7930e6][1] from 2011, the JDBC driver sets the session time zone from the JVM default time zone. See the documentation of [`java.util.TimeZone.getDefault()`][2] for details how that is determined:\r\n\r\n&gt; - Use the `user.timezone` property value as the default time zone ID if it&#39;s available.\r\n&gt; - Detect the platform time zone ID. The source of the platform time zone and ID mapping may vary with implementation.\r\n&gt; - Use GMT as the last resort if the given or detected time zone ID is unknown.\r\n\r\n\r\nSo the easiest way is to set the `user.timezone` property when you start the JVM:\r\n\r\n```bash\r\njava -Duser.timezone=UTC -cp ... MyProgram\r\n```\r\n\r\n\r\n  [1]: https://github.com/pgjdbc/pgjdbc/commit/9d6b7930e660b8e0f750920c791197c2257f1695\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/TimeZone.html#getDefault--","title":"Force TZ when connecting Java to PostgreSQL?","body":"<p>Ever since <a href=\"https://github.com/pgjdbc/pgjdbc/commit/9d6b7930e660b8e0f750920c791197c2257f1695\" rel=\"nofollow noreferrer\">commit 9d6b7930e6</a> from 2011, the JDBC driver sets the session time zone from the JVM default time zone. See the documentation of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/TimeZone.html#getDefault--\" rel=\"nofollow noreferrer\"><code>java.util.TimeZone.getDefault()</code></a> for details how that is determined:</p>\n<blockquote>\n<ul>\n<li>Use the <code>user.timezone</code> property value as the default time zone ID if it's available.</li>\n<li>Detect the platform time zone ID. The source of the platform time zone and ID mapping may vary with implementation.</li>\n<li>Use GMT as the last resort if the given or detected time zone ID is unknown.</li>\n</ul>\n</blockquote>\n<p>So the easiest way is to set the <code>user.timezone</code> property when you start the JVM:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -Duser.timezone=UTC -cp ... MyProgram\n</code></pre>\n"}],"owner":{"account_id":31973,"reputation":15190,"user_id":88172,"accept_rate":73,"display_name":"IVR Avenger"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58123980,"answer_count":1,"score":1,"last_activity_date":1688977393,"creation_date":1569526459,"question_id":58123614,"body_markdown":"I have two Java apps that connect to a PostgreSQL database via Hibernate and JPA. Is there a way for their connection to mimic the `set timezone` command, such that for the duration of the connection, the timezone is set differently than what&#39;s default for the DB?","title":"Force TZ when connecting Java to PostgreSQL?","body":"<p>I have two Java apps that connect to a PostgreSQL database via Hibernate and JPA. Is there a way for their connection to mimic the <code>set timezone</code> command, such that for the duration of the connection, the timezone is set differently than what's default for the DB?</p>\n"},{"tags":["java","spring","spring-boot","jar","executable-jar"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1688886733,"post_id":76646274,"comment_id":135132332,"body_markdown":"Remove the configuration for the `jar` task and instead you should just be doing `./gradlew build`. This will allow the Spring Boot plugin to create the proper jar file.","body":"Remove the configuration for the <code>jar</code> task and instead you should just be doing <code>.&#47;gradlew build</code>. This will allow the Spring Boot plugin to create the proper jar file."},{"owner":{"account_id":10024511,"reputation":1639,"user_id":7413066,"display_name":"Ali Asjad"},"score":0,"creation_date":1688887253,"post_id":76646274,"comment_id":135132373,"body_markdown":"@M.Deinum it worked :) btw ./gradlew build have created 2 jar files one is `test-0.0.1-SNAPSHOT.jar` and the other is `test-0.0.1-SNAPSHOT-plain.jar`\n\ni was able to run `test-0.0.1-SNAPSHOT.jar` successfully using `java -jar` command.","body":"@M.Deinum it worked :) btw ./gradlew build have created 2 jar files one is <code>test-0.0.1-SNAPSHOT.jar</code> and the other is <code>test-0.0.1-SNAPSHOT-plain.jar</code>  i was able to run <code>test-0.0.1-SNAPSHOT.jar</code> successfully using <code>java -jar</code> command."}],"answers":[{"tags":[],"owner":{"account_id":7347750,"reputation":1,"user_id":5594945,"display_name":"Kathryn Newbould"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688977029,"creation_date":1688976926,"answer_id":76651904,"question_id":76646274,"body_markdown":"**Background**\r\n - gradlew is a wrapper to gradle that makes sure you&#39;re using the correct version of gradle for your project.\r\n - However, when you run &#180;gradlew jar&#180; it&#39;s not importing your dependencies as expected.\r\n\r\n\r\n**Why doesn&#39;t gradlew jar work?**\r\n- When you only run `jar`, it skips the build command and only executes the Gradle task &quot;jar,&quot; which is defined by Spring Boot as zipping specifically included files.\r\n\r\n**Why does running gradlew build fix the issue?**\r\n - `gradlew build` runs the build command, automatically creating a JAR file for your project as part of the tasks because it pulls in the Jar task type.\r\n\r\nBy default, this would not be a fat jar, but because your gradle file has a modified `tasks.withType&lt;Jar&gt;` build set, it will pull in all the dependencies (as defined by the `from(configurations.runtimeClasspath.get()` line).\r\n\r\n\r\n(Fix credit to [M.deinum][1])\r\n\r\nYou can refer to the Spring Boot documentation [here][2] for the dependency-management-plugin settings, and the gradle documentation [here][3] for more information on customizing specific tasks.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2696260/m-deinum\r\n  [2]: https://github.com/spring-gradle-plugins/dependency-management-plugin/blob/main/build.gradle#L94C31-L94C31\r\n  [3]: https://docs.gradle.org/current/userguide/tutorial_using_tasks.html","title":"Unable to execute fat jar of spring boot application","body":"<p><strong>Background</strong></p>\n<ul>\n<li>gradlew is a wrapper to gradle that makes sure you're using the correct version of gradle for your project.</li>\n<li>However, when you run ´gradlew jar´ it's not importing your dependencies as expected.</li>\n</ul>\n<p><strong>Why doesn't gradlew jar work?</strong></p>\n<ul>\n<li>When you only run <code>jar</code>, it skips the build command and only executes the Gradle task &quot;jar,&quot; which is defined by Spring Boot as zipping specifically included files.</li>\n</ul>\n<p><strong>Why does running gradlew build fix the issue?</strong></p>\n<ul>\n<li><code>gradlew build</code> runs the build command, automatically creating a JAR file for your project as part of the tasks because it pulls in the Jar task type.</li>\n</ul>\n<p>By default, this would not be a fat jar, but because your gradle file has a modified <code>tasks.withType&lt;Jar&gt;</code> build set, it will pull in all the dependencies (as defined by the <code>from(configurations.runtimeClasspath.get()</code> line).</p>\n<p>(Fix credit to <a href=\"https://stackoverflow.com/users/2696260/m-deinum\">M.deinum</a>)</p>\n<p>You can refer to the Spring Boot documentation <a href=\"https://github.com/spring-gradle-plugins/dependency-management-plugin/blob/main/build.gradle#L94C31-L94C31\" rel=\"nofollow noreferrer\">here</a> for the dependency-management-plugin settings, and the gradle documentation <a href=\"https://docs.gradle.org/current/userguide/tutorial_using_tasks.html\" rel=\"nofollow noreferrer\">here</a> for more information on customizing specific tasks.</p>\n"}],"owner":{"account_id":10024511,"reputation":1639,"user_id":7413066,"display_name":"Ali Asjad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688977029,"creation_date":1688886286,"question_id":76646274,"body_markdown":"I have created a fresh spring boot project using IntelliJ idea. I have included `jpa` and `mysql-connector` dependencies.\r\n\r\n`build.gradle.kts` file\r\n\r\n    import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\r\n    \r\n    plugins {\r\n        id(&quot;org.springframework.boot&quot;) version &quot;3.1.1&quot;\r\n        id(&quot;io.spring.dependency-management&quot;) version &quot;1.1.0&quot;\r\n        kotlin(&quot;jvm&quot;) version &quot;1.8.22&quot;\r\n        kotlin(&quot;plugin.spring&quot;) version &quot;1.8.22&quot;\r\n        kotlin(&quot;plugin.jpa&quot;) version &quot;1.8.22&quot;\r\n    }\r\n    \r\n    group = &quot;com.example&quot;\r\n    version = &quot;0.0.1-SNAPSHOT&quot;\r\n    \r\n    java {\r\n        sourceCompatibility = JavaVersion.VERSION_17\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\r\n        implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n        implementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\r\n        implementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\r\n        runtimeOnly(&quot;com.mysql:mysql-connector-j&quot;)\r\n        testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n    }\r\n    \r\n    tasks.withType&lt;KotlinCompile&gt; {\r\n        kotlinOptions {\r\n            freeCompilerArgs += &quot;-Xjsr305=strict&quot;\r\n            jvmTarget = &quot;17&quot;\r\n        }\r\n    }\r\n    \r\n    tasks.withType&lt;Test&gt; {\r\n        useJUnitPlatform()\r\n    }\r\n    \r\n    tasks.withType&lt;Jar&gt; {\r\n    \r\n    \r\n        duplicatesStrategy = DuplicatesStrategy.INCLUDE\r\n        manifest {\r\n            attributes[&quot;Main-Class&quot;] = &quot;com.example.test.TestApplicationKt&quot;\r\n    \r\n        }\r\n    \r\n        from(configurations.runtimeClasspath.get().map { if (it.isDirectory) it else zipTree(it) })\r\n    \r\n    }\r\n\r\n\r\n`application.properties` file\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/bizzle_db\r\n    spring.datasource.username=root\r\n    spring.datasource.password=1234\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\n**Problem:** \r\n\r\nI am creating a fat jar file because I want to deploy it on Linux server.\r\n\r\n - using `./gradlew jar` command to create jar file.\r\n - then running it using `java -jar file.jar` command\r\n\r\nbut it gives me the following error message. \r\n\r\nNote: The project works fine when I run it in IntelliJ idea.\r\n\r\n    11:37:51.608 [main] WARN org.springframework.context.annotation.AnnotationConfigApplicationContext -- Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration&#39;: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception with message: Failed to determine a suitable driver class\r\n    11:37:51.610 [main] ERROR org.springframework.boot.SpringApplication -- Application run failed\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration&#39;: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception with message: Failed to determine a suitable driver class\r\n            at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\r\n            at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245)\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n            at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:417)\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n            at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)\r\n            at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n            at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n            at com.example.test.TestApplicationKt.main(TestApplication.kt:13)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception with message: Failed to determine a suitable driver class\r\n            at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659)\r\n            at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647)\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n            at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417)\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)\r\n            at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888)\r\n            at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\r\n            ... 27 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception with message: Failed to determine a suitable driver class\r\n            at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\r\n            at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)\r\n            ... 41 common frames omitted\r\n    Caused by: org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\r\n            at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.determineDriverClassName(DataSourceProperties.java:186)\r\n            at org.springframework.boot.autoconfigure.jdbc.PropertiesJdbcConnectionDetails.getDriverClassName(PropertiesJdbcConnectionDetails.java:49)\r\n            at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:55)\r\n            at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:117)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n            at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\r\n            ... 42 common frames omitted","title":"Unable to execute fat jar of spring boot application","body":"<p>I have created a fresh spring boot project using IntelliJ idea. I have included <code>jpa</code> and <code>mysql-connector</code> dependencies.</p>\n<p><code>build.gradle.kts</code> file</p>\n<pre><code>import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n\nplugins {\n    id(&quot;org.springframework.boot&quot;) version &quot;3.1.1&quot;\n    id(&quot;io.spring.dependency-management&quot;) version &quot;1.1.0&quot;\n    kotlin(&quot;jvm&quot;) version &quot;1.8.22&quot;\n    kotlin(&quot;plugin.spring&quot;) version &quot;1.8.22&quot;\n    kotlin(&quot;plugin.jpa&quot;) version &quot;1.8.22&quot;\n}\n\ngroup = &quot;com.example&quot;\nversion = &quot;0.0.1-SNAPSHOT&quot;\n\njava {\n    sourceCompatibility = JavaVersion.VERSION_17\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\n    implementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\n    implementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\n    runtimeOnly(&quot;com.mysql:mysql-connector-j&quot;)\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\n}\n\ntasks.withType&lt;KotlinCompile&gt; {\n    kotlinOptions {\n        freeCompilerArgs += &quot;-Xjsr305=strict&quot;\n        jvmTarget = &quot;17&quot;\n    }\n}\n\ntasks.withType&lt;Test&gt; {\n    useJUnitPlatform()\n}\n\ntasks.withType&lt;Jar&gt; {\n\n\n    duplicatesStrategy = DuplicatesStrategy.INCLUDE\n    manifest {\n        attributes[&quot;Main-Class&quot;] = &quot;com.example.test.TestApplicationKt&quot;\n\n    }\n\n    from(configurations.runtimeClasspath.get().map { if (it.isDirectory) it else zipTree(it) })\n\n}\n</code></pre>\n<p><code>application.properties</code> file</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/bizzle_db\nspring.datasource.username=root\nspring.datasource.password=1234\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n</code></pre>\n<p><strong>Problem:</strong></p>\n<p>I am creating a fat jar file because I want to deploy it on Linux server.</p>\n<ul>\n<li>using <code>./gradlew jar</code> command to create jar file.</li>\n<li>then running it using <code>java -jar file.jar</code> command</li>\n</ul>\n<p>but it gives me the following error message.</p>\n<p>Note: The project works fine when I run it in IntelliJ idea.</p>\n<pre><code>11:37:51.608 [main] WARN org.springframework.context.annotation.AnnotationConfigApplicationContext -- Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class\n11:37:51.610 [main] ERROR org.springframework.boot.SpringApplication -- Application run failed\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration': Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:417)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n        at com.example.test.TestApplicationKt.main(TestApplication.kt:13)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659)\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888)\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\n        ... 27 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)\n        ... 41 common frames omitted\nCaused by: org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.determineDriverClassName(DataSourceProperties.java:186)\n        at org.springframework.boot.autoconfigure.jdbc.PropertiesJdbcConnectionDetails.getDriverClassName(PropertiesJdbcConnectionDetails.java:49)\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:55)\n        at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:117)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)\n        ... 42 common frames omitted\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1688877742,"post_id":76645869,"comment_id":135131798,"body_markdown":"Only one &quot;return&quot; statement as the last line in a method! NOTE   the method system  your using is recursive (calls itself) beware of threading sequence issues if you use any. If you want to return the value, set the method return type for that, and if you want to return 1 or 0 with some other method, boolean primitive type is auto able to be interpreted as int","body":"Only one &quot;return&quot; statement as the last line in a method! NOTE   the method system  your using is recursive (calls itself) beware of threading sequence issues if you use any. If you want to return the value, set the method return type for that, and if you want to return 1 or 0 with some other method, boolean primitive type is auto able to be interpreted as int"},{"owner":{"account_id":11235646,"reputation":919,"user_id":8241951,"display_name":"Byte Ninja"},"score":2,"creation_date":1688878130,"post_id":76645869,"comment_id":135131818,"body_markdown":"Please give some details about function arguments!","body":"Please give some details about function arguments!"},{"owner":{"account_id":19296830,"reputation":543,"user_id":14105638,"display_name":"l_b"},"score":0,"creation_date":1688878372,"post_id":76645869,"comment_id":135131834,"body_markdown":"@HosseinTaghizad I used the program from https://www.geeksforgeeks.org/print-all-possible-combinations-of-r-elements-in-a-given-array-of-size-n/ and I wanted to store the combination as a single integer, rather than print each one out.","body":"@HosseinTaghizad I used the program from <a href=\"https://www.geeksforgeeks.org/print-all-possible-combinations-of-r-elements-in-a-given-array-of-size-n/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/&hellip;</a> and I wanted to store the combination as a single integer, rather than print each one out."},{"owner":{"account_id":19296830,"reputation":543,"user_id":14105638,"display_name":"l_b"},"score":0,"creation_date":1688878388,"post_id":76645869,"comment_id":135131838,"body_markdown":"@SamuelMarchant What would you suggest to do then?","body":"@SamuelMarchant What would you suggest to do then?"},{"owner":{"account_id":11235646,"reputation":919,"user_id":8241951,"display_name":"Byte Ninja"},"score":0,"creation_date":1688879087,"post_id":76645869,"comment_id":135131873,"body_markdown":"So you mean if input array is {1, 2, 3, 4} and r is 2, then output should be only one integer like 121314232434 ?","body":"So you mean if input array is {1, 2, 3, 4} and r is 2, then output should be only one integer like 121314232434 ?"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1688879329,"post_id":76645869,"comment_id":135131883,"body_markdown":"I suggest you make a method to start your sequences of for loops as other methods and collect the answers from the processing mthods in that starter method.     https://blog.hubspot.com/website/java-return","body":"I suggest you make a method to start your sequences of for loops as other methods and collect the answers from the processing mthods in that starter method.     <a href=\"https://blog.hubspot.com/website/java-return\" rel=\"nofollow noreferrer\">blog.hubspot.com/website/java-return</a>"},{"owner":{"account_id":19296830,"reputation":543,"user_id":14105638,"display_name":"l_b"},"score":0,"creation_date":1688908995,"post_id":76645869,"comment_id":135134701,"body_markdown":"@HosseinTaghizad I mean that, my combinations should come out as numbers, like 12 13 14 23 24 34","body":"@HosseinTaghizad I mean that, my combinations should come out as numbers, like 12 13 14 23 24 34"},{"owner":{"account_id":19296830,"reputation":543,"user_id":14105638,"display_name":"l_b"},"score":0,"creation_date":1688909029,"post_id":76645869,"comment_id":135134706,"body_markdown":"@SamuelMarchant oh okay i&#39;ll try to see that","body":"@SamuelMarchant oh okay i&#39;ll try to see that"},{"owner":{"account_id":11235646,"reputation":919,"user_id":8241951,"display_name":"Byte Ninja"},"score":1,"creation_date":1688909772,"post_id":76645869,"comment_id":135134804,"body_markdown":"In that case, the return type of `combinationUtil` must be an array or a list of integers **NOT** an integer value.","body":"In that case, the return type of <code>combinationUtil</code> must be an array or a list of integers <b>NOT</b> an integer value."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":1,"creation_date":1688913537,"post_id":76645869,"comment_id":135135219,"body_markdown":"Around correct, an array, However you decide how to channel your program flow code, particularly because it&#39;s your modifications you want.","body":"Around correct, an array, However you decide how to channel your program flow code, particularly because it&#39;s your modifications you want."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":1,"creation_date":1688977928,"post_id":76645869,"comment_id":135142411,"body_markdown":"This makes no sense: your method `combinationUtil` returns an `int` when you want a list of combinations.","body":"This makes no sense: your method <code>combinationUtil</code> returns an <code>int</code> when you want a list of combinations."}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688976987,"creation_date":1688976987,"answer_id":76651913,"question_id":76645869,"body_markdown":"One way to do it is to add each combination to a list instead of printing it:\r\n\r\n    public static void combinationUtil(int[] arr, int data[], int start,\r\n                                       int end, int index, int r,\r\n                                       List&lt;int[]&gt; list) {\r\n        if (index == r) {\r\n            list.add(Arrays.copyOf(data, r));\r\n        } else {\r\n            for (int i = start; i &lt;= end &amp;&amp; end - i + 1 &gt;= r - index; i++) {\r\n                data[index] = arr[i];\r\n                combinationUtil(arr, data, i + 1, end, index + 1, r, list);\r\n            }\r\n        }\r\n    }\r\n","title":"Function isn&#39;t returning the value, even though it&#39;s printing the correct value","body":"<p>One way to do it is to add each combination to a list instead of printing it:</p>\n<pre><code>public static void combinationUtil(int[] arr, int data[], int start,\n                                   int end, int index, int r,\n                                   List&lt;int[]&gt; list) {\n    if (index == r) {\n        list.add(Arrays.copyOf(data, r));\n    } else {\n        for (int i = start; i &lt;= end &amp;&amp; end - i + 1 &gt;= r - index; i++) {\n            data[index] = arr[i];\n            combinationUtil(arr, data, i + 1, end, index + 1, r, list);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19296830,"reputation":543,"user_id":14105638,"display_name":"l_b"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76651913,"answer_count":1,"score":0,"last_activity_date":1688976987,"creation_date":1688876769,"question_id":76645869,"body_markdown":"I tried to find combinations of integers, however, my function isn&#39;t returning the list of combinations, but when I print the num variable it gives me the right values. Any help in this? This is the function below.\r\n```\r\nstatic int combinationUtil(int arr[], int data[], int start,\r\n                                int end, int index, int r) {\r\n      if(index == r){\r\n         String num = &quot;&quot;;\r\n         for (int i = 0; i&lt;r; i++){\r\n            num += Integer.toString(data[i]);\r\n         }\r\n         return Integer.parseInt(num);\r\n      }\r\n\r\n\t\tfor (int i=start; i&lt;=end &amp;&amp; end-i+1 &gt;= r-index; i++){\r\n         data[index] = arr[i];\r\n         combinationUtil(arr, data, i+1, end, index+1, r);\r\n      }\r\n      return 0;\r\n\r\n   }\r\n```","title":"Function isn&#39;t returning the value, even though it&#39;s printing the correct value","body":"<p>I tried to find combinations of integers, however, my function isn't returning the list of combinations, but when I print the num variable it gives me the right values. Any help in this? This is the function below.</p>\n<pre><code>static int combinationUtil(int arr[], int data[], int start,\n                                int end, int index, int r) {\n      if(index == r){\n         String num = &quot;&quot;;\n         for (int i = 0; i&lt;r; i++){\n            num += Integer.toString(data[i]);\n         }\n         return Integer.parseInt(num);\n      }\n\n        for (int i=start; i&lt;=end &amp;&amp; end-i+1 &gt;= r-index; i++){\n         data[index] = arr[i];\n         combinationUtil(arr, data, i+1, end, index+1, r);\n      }\n      return 0;\n\n   }\n</code></pre>\n"},{"tags":["java","spring","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":3217093,"reputation":2256,"user_id":2715490,"display_name":"Julien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688976976,"creation_date":1688976976,"answer_id":76651911,"question_id":76651036,"body_markdown":"Instead of asking for a `Map&lt;String, UUID&gt;`, you could ask for a [JsonNode][1].\r\n\r\nThis class provides some methods `isArray` and `isObject` to determine if the response is a JSON Object or a JSON Array.\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/com.fasterxml.jackson.core/jackson-databind/2.10.0/com/fasterxml/jackson/databind/JsonNode.html","title":"Deserialize response body with dynamic schema using Spring WebClient","body":"<p>Instead of asking for a <code>Map&lt;String, UUID&gt;</code>, you could ask for a <a href=\"https://www.javadoc.io/doc/com.fasterxml.jackson.core/jackson-databind/2.10.0/com/fasterxml/jackson/databind/JsonNode.html\" rel=\"nofollow noreferrer\">JsonNode</a>.</p>\n<p>This class provides some methods <code>isArray</code> and <code>isObject</code> to determine if the response is a JSON Object or a JSON Array.</p>\n"}],"owner":{"account_id":18380581,"reputation":3,"user_id":13388711,"display_name":"Kirill Gnilov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76651911,"answer_count":1,"score":0,"last_activity_date":1688976976,"creation_date":1688969260,"question_id":76651036,"body_markdown":"I&#39;m using Spring WebClient to make requests to external API. But there&#39;s an endpoint that does not return a uniform json on successful HTTP request. When it has data to return I get a response with following json:\r\n\r\n```\r\n{\r\n    &quot;String A&quot;: &quot;d7e75c1d-71d1-4628-ad01-cd65a7aabd52&quot;,\r\n    &quot;String B&quot;: &quot;4a28c303-fb5c-4648-926e-fd2db1178838&quot;\r\n}\r\n```\r\nHowewer when there&#39;s nothing it returns an empty json array:\r\n```\r\n[]\r\n```\r\nIn both cases HTTP request completes with 200 response code.\r\n\r\nHere&#39;s my code that does a request:\r\n\r\n```java\r\npublic Map&lt;String, UUID&gt; getIdsByDisplayNames(List&lt;String&gt; displayNames) {\r\n        return webClient.get()\r\n                .uri(uriBuilder -&gt; {\r\n                    uriBuilder.path(&quot;/api/display-names/account-ids&quot;);\r\n                    for (String displayName : displayNames) {\r\n                        uriBuilder.queryParam(&quot;displayName[]&quot;, displayName);\r\n                    }\r\n                    return uriBuilder.build();\r\n                })\r\n                .retrieve()\r\n                .bodyToMono(new ParameterizedTypeReference&lt;Map&lt;String, UUID&gt;&gt;() {})\r\n                .block();\r\n    }\r\n```\r\nIt works well when there&#39;s a json object in response body but when endpoint returns an empty array I get an exception:\r\n\r\n&gt; org.springframework.core.codec.DecodingException: JSON decoding error: Cannot deserialize value of type `java.util.LinkedHashMap&lt;java.lang.String,java.util.UUID&gt;` from Array value (token `JsonToken.START_ARRAY`)\r\n\r\nHow can I solve it in my code?\r\n","title":"Deserialize response body with dynamic schema using Spring WebClient","body":"<p>I'm using Spring WebClient to make requests to external API. But there's an endpoint that does not return a uniform json on successful HTTP request. When it has data to return I get a response with following json:</p>\n<pre><code>{\n    &quot;String A&quot;: &quot;d7e75c1d-71d1-4628-ad01-cd65a7aabd52&quot;,\n    &quot;String B&quot;: &quot;4a28c303-fb5c-4648-926e-fd2db1178838&quot;\n}\n</code></pre>\n<p>Howewer when there's nothing it returns an empty json array:</p>\n<pre><code>[]\n</code></pre>\n<p>In both cases HTTP request completes with 200 response code.</p>\n<p>Here's my code that does a request:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Map&lt;String, UUID&gt; getIdsByDisplayNames(List&lt;String&gt; displayNames) {\n        return webClient.get()\n                .uri(uriBuilder -&gt; {\n                    uriBuilder.path(&quot;/api/display-names/account-ids&quot;);\n                    for (String displayName : displayNames) {\n                        uriBuilder.queryParam(&quot;displayName[]&quot;, displayName);\n                    }\n                    return uriBuilder.build();\n                })\n                .retrieve()\n                .bodyToMono(new ParameterizedTypeReference&lt;Map&lt;String, UUID&gt;&gt;() {})\n                .block();\n    }\n</code></pre>\n<p>It works well when there's a json object in response body but when endpoint returns an empty array I get an exception:</p>\n<blockquote>\n<p>org.springframework.core.codec.DecodingException: JSON decoding error: Cannot deserialize value of type <code>java.util.LinkedHashMap&lt;java.lang.String,java.util.UUID&gt;</code> from Array value (token <code>JsonToken.START_ARRAY</code>)</p>\n</blockquote>\n<p>How can I solve it in my code?</p>\n"},{"tags":["java","spring","transactions","synchronized"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":1,"creation_date":1688977898,"post_id":76651850,"comment_id":135142404,"body_markdown":"One comment that comes to mind is that, if your `@Transactional` method is called when a transaction is already active, it will participate in that transaction and the commit will occur outside of the synchronization boundary anyway. You may want something like `@Transactional(propagation=REQUIRES_NEW)` for it to be fully autonomous. Another thing is that, even when you protect the critical section with `synchronized`, this is good only for a single VM; spawn another instance of your server and all is lost. Perhaps you could acquire a DB row-level lock instead? (just speculating)","body":"One comment that comes to mind is that, if your <code>@Transactional</code> method is called when a transaction is already active, it will participate in that transaction and the commit will occur outside of the synchronization boundary anyway. You may want something like <code>@Transactional(propagation=REQUIRES_NEW)</code> for it to be fully autonomous. Another thing is that, even when you protect the critical section with <code>synchronized</code>, this is good only for a single VM; spawn another instance of your server and all is lost. Perhaps you could acquire a DB row-level lock instead? (just speculating)"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688980529,"post_id":76651850,"comment_id":135142941,"body_markdown":"You could make the `@Transactional` method private, and have a `public synchronized` method to access it","body":"You could make the <code>@Transactional</code> method private, and have a <code>public synchronized</code> method to access it"},{"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"score":1,"creation_date":1689040418,"post_id":76651850,"comment_id":135153710,"body_markdown":"Thanks @NikosParaskevopoulos for the information to consider","body":"Thanks @NikosParaskevopoulos for the information to consider"},{"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"score":1,"creation_date":1689040428,"post_id":76651850,"comment_id":135153711,"body_markdown":"And @Jorn, that would require _self autowiring_ which is a weird pattern in my opinion.","body":"And @Jorn, that would require <i>self autowiring</i> which is a weird pattern in my opinion."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1689059407,"post_id":76651850,"comment_id":135155559,"body_markdown":"Why? You don&#39;t need to inject a second instance of yourself, you just need to call the private method from the public one (using `this`)","body":"Why? You don&#39;t need to inject a second instance of yourself, you just need to call the private method from the public one (using <code>this</code>)"}],"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688976582,"creation_date":1688976582,"question_id":76651850,"body_markdown":"I have a synchronised method with an annotation `@Transactional`, like below:\r\n\r\n    @Transactional\r\n    public synchronized void myMethod() { ... }\r\n\r\nThe goal is to make sure no two threads calling this method (i.e. doing the same critical code section) at the same time, and have the changes in the transaction committed BEFORE another threads enters the method.\r\n\r\nUnfortunately, it turns out that another thread CAN enter the method, while the previous thread hasn&#39;t committed the transaction yet. Tracing the code, the commit is done within the proxy method and hence not protected by `synchronized`.\r\n\r\nOne solution I have at the moment is to have the caller class to synchronise calling this method:\r\n\r\n    synchronized (this) {\r\n        myClass.myMethod();\r\n    }\r\n\r\nwhich I don&#39;t like, as the responsibility of synchronising creeps into the caller class.\r\n\r\nWhat is the correct way to achieve the above goal while keeping both synchronise and transactional in the same class?","title":"Synchronising @Transactional method","body":"<p>I have a synchronised method with an annotation <code>@Transactional</code>, like below:</p>\n<pre><code>@Transactional\npublic synchronized void myMethod() { ... }\n</code></pre>\n<p>The goal is to make sure no two threads calling this method (i.e. doing the same critical code section) at the same time, and have the changes in the transaction committed BEFORE another threads enters the method.</p>\n<p>Unfortunately, it turns out that another thread CAN enter the method, while the previous thread hasn't committed the transaction yet. Tracing the code, the commit is done within the proxy method and hence not protected by <code>synchronized</code>.</p>\n<p>One solution I have at the moment is to have the caller class to synchronise calling this method:</p>\n<pre><code>synchronized (this) {\n    myClass.myMethod();\n}\n</code></pre>\n<p>which I don't like, as the responsibility of synchronising creeps into the caller class.</p>\n<p>What is the correct way to achieve the above goal while keeping both synchronise and transactional in the same class?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7105431,"reputation":2516,"user_id":5435216,"display_name":"Tahir Hussain Mir"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1520493727,"creation_date":1520492161,"answer_id":49167127,"question_id":49167033,"body_markdown":"This is happening because, using `@EnableWebMvc` disables MVC autoconfiguration and asks you to provide exactly what You want. Have a look at this [link][1] &lt;br&gt;\r\nYou can either use other means to customize your configuration, such as a `@Configuration`\r\nSee Boot&#39;s ***WebMvcAutoConfiguration*** to find out what the defaults are, and copy over the pieces that you need.&lt;br&gt;&lt;br&gt;\r\nThis Link might help You as well -&gt; [LINK][2]\r\n&lt;br&gt;\r\n\r\n&gt; What should you do when you want to customize your beans? As usual, extend WebMvcConfigurerAdapter (annotate the new class with @Component) and do your customizations.&lt;br&gt;\r\n&gt; So, bottom line of the particular problem: Don’t use @EnableWebMvc in\r\n&gt; Spring Boot, just include spring-web as a maven/gradle dependency and\r\n&gt; it will be autoconfigured.&lt;br&gt;\r\n\r\nThis answer on stackoverflow shows how to do this .. check this [LINK3][3]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-switch-off-default-mvc-configuration\r\n  [2]: https://dzone.com/articles/spring-boot-enablewebmvc-and-common-use-cases\r\n  [3]: https://stackoverflow.com/questions/24661289/spring-boot-not-serving-static-content/25959419","title":"Custom exception handler for NoHandlerFoundException is not working without @EnableWebMvc","body":"<p>This is happening because, using <code>@EnableWebMvc</code> disables MVC autoconfiguration and asks you to provide exactly what You want. Have a look at this <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-switch-off-default-mvc-configuration\" rel=\"nofollow noreferrer\">link</a> <br>\nYou can either use other means to customize your configuration, such as a <code>@Configuration</code>\nSee Boot's <strong><em>WebMvcAutoConfiguration</em></strong> to find out what the defaults are, and copy over the pieces that you need.<br><br>\nThis Link might help You as well -> <a href=\"https://dzone.com/articles/spring-boot-enablewebmvc-and-common-use-cases\" rel=\"nofollow noreferrer\">LINK</a>\n<br></p>\n\n<blockquote>\n  <p>What should you do when you want to customize your beans? As usual, extend WebMvcConfigurerAdapter (annotate the new class with @Component) and do your customizations.<br>\n  So, bottom line of the particular problem: Don’t use @EnableWebMvc in\n  Spring Boot, just include spring-web as a maven/gradle dependency and\n  it will be autoconfigured.<br></p>\n</blockquote>\n\n<p>This answer on stackoverflow shows how to do this .. check this <a href=\"https://stackoverflow.com/questions/24661289/spring-boot-not-serving-static-content/25959419\">LINK3</a></p>\n"},{"tags":[],"owner":{"account_id":1281306,"reputation":1486,"user_id":1235354,"display_name":"utkusonmez"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1520497656,"creation_date":1520497656,"answer_id":49168573,"question_id":49167033,"body_markdown":"I easily resolved problem by adding one of configurations in application.yml. \r\n\r\n    spring.mvc.throw-exception-if-no-handler-found=true\r\n    spring.resources.add-mappings=false\r\n\r\nor \r\n\r\n    spring.mvc.throw-exception-if-no-handler-found=true\r\n    spring.mvc.static-path-pattern: /static\r\n\r\nIf you don&#39;t restrict Spring and no handler matches with your request, then spring tries to look for static content. \r\n\r\n","title":"Custom exception handler for NoHandlerFoundException is not working without @EnableWebMvc","body":"<p>I easily resolved problem by adding one of configurations in application.yml. </p>\n\n<pre><code>spring.mvc.throw-exception-if-no-handler-found=true\nspring.resources.add-mappings=false\n</code></pre>\n\n<p>or </p>\n\n<pre><code>spring.mvc.throw-exception-if-no-handler-found=true\nspring.mvc.static-path-pattern: /static\n</code></pre>\n\n<p>If you don't restrict Spring and no handler matches with your request, then spring tries to look for static content. </p>\n"},{"tags":[],"owner":{"account_id":4567927,"reputation":5819,"user_id":3708462,"accept_rate":57,"display_name":"Emdadul Sawon"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1552914594,"creation_date":1552914594,"answer_id":55222174,"question_id":49167033,"body_markdown":"Normally @utkusonmez answer works fine but not in my case, as I am using swagger. So all I did is add following properties in my `application.properties` file\r\n\r\n    spring.mvc.throw-exception-if-no-handler-found=true\r\n    spring.mvc.static-path-pattern=/swagger*\r\n\r\nNow both `NoHandlerFoundException` and `swagger-ui` works fine. ","title":"Custom exception handler for NoHandlerFoundException is not working without @EnableWebMvc","body":"<p>Normally @utkusonmez answer works fine but not in my case, as I am using swagger. So all I did is add following properties in my <code>application.properties</code> file</p>\n\n<pre><code>spring.mvc.throw-exception-if-no-handler-found=true\nspring.mvc.static-path-pattern=/swagger*\n</code></pre>\n\n<p>Now both <code>NoHandlerFoundException</code> and <code>swagger-ui</code> works fine. </p>\n"}],"owner":{"account_id":1281306,"reputation":1486,"user_id":1235354,"display_name":"utkusonmez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7979,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":49168573,"answer_count":3,"score":12,"last_activity_date":1688976112,"creation_date":1520491769,"question_id":49167033,"body_markdown":"I want to override html error page for 404 responses as an JSON response. When i use `@ControllerAdvice` without `@EnableWebMvc` it is not working. \r\n\r\n\r\n    @EnableWebMvc   // if i remove this, it is not working\r\n    @ControllerAdvice\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public class GlobalControllerExceptionHandler {\r\n        \r\n        @ExceptionHandler(NoHandlerFoundException.class)\r\n        public ResponseEntity&lt;ErrorDTO&gt; noHandlerFoundException(\r\n                        HttpServletRequest request, \r\n                        NoHandlerFoundException exception) {\r\n\r\n            ErrorDTO errorDTO = new ErrorDTO();\r\n            return new ResponseEntity&lt;&gt;(errorDTO, HttpStatus.NOT_FOUND);\r\n        }\r\n    } \r\n\r\nIs there an option for custom exception handling without `@EnableWebMvc`, because it overrides Spring configurations which are declared inside application.yml.","title":"Custom exception handler for NoHandlerFoundException is not working without @EnableWebMvc","body":"<p>I want to override html error page for 404 responses as an JSON response. When i use <code>@ControllerAdvice</code> without <code>@EnableWebMvc</code> it is not working.</p>\n<pre><code>@EnableWebMvc   // if i remove this, it is not working\n@ControllerAdvice\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class GlobalControllerExceptionHandler {\n    \n    @ExceptionHandler(NoHandlerFoundException.class)\n    public ResponseEntity&lt;ErrorDTO&gt; noHandlerFoundException(\n                    HttpServletRequest request, \n                    NoHandlerFoundException exception) {\n\n        ErrorDTO errorDTO = new ErrorDTO();\n        return new ResponseEntity&lt;&gt;(errorDTO, HttpStatus.NOT_FOUND);\n    }\n} \n</code></pre>\n<p>Is there an option for custom exception handling without <code>@EnableWebMvc</code>, because it overrides Spring configurations which are declared inside application.yml.</p>\n"},{"tags":["java","for-loop","if-statement"],"comments":[{"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"score":1,"creation_date":1688969082,"post_id":76650998,"comment_id":135140656,"body_markdown":"what do you mean &quot;how to make switch&quot; ?","body":"what do you mean &quot;how to make switch&quot; ?"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":1,"creation_date":1688969709,"post_id":76650998,"comment_id":135140753,"body_markdown":"What is your question?","body":"What is your question?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1688970712,"post_id":76650998,"comment_id":135140914,"body_markdown":"I guess we&#39;ll never know.","body":"I guess we&#39;ll never know."}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688975466,"creation_date":1688969857,"answer_id":76651096,"question_id":76650998,"body_markdown":"Try this:\r\n\r\n                if (i%a==0) {\r\n                    b = 1-b;\r\n                }\r\n                if(b==1){\r\n                    System.out.print(&quot;X&quot;);\r\n                }else {\r\n                    System.out.print(&quot;O&quot;);\r\n                }\r\n\r\nUPDATE: with a `switch` statement:\r\n\r\n            for (int i=0; i&lt;30; i++) {\r\n                if (i%a==0) {\r\n                    b = 1-b;\r\n                }\r\n                switch (b) {\r\n                    case 0:\r\n                        System.out.print(&quot;O&quot;);\r\n                        break;\r\n                    case 1:\r\n                        System.out.print(&quot;X&quot;);\r\n                        break;\r\n                }\r\n            }","title":"how to make a switch","body":"<p>Try this:</p>\n<pre><code>            if (i%a==0) {\n                b = 1-b;\n            }\n            if(b==1){\n                System.out.print(&quot;X&quot;);\n            }else {\n                System.out.print(&quot;O&quot;);\n            }\n</code></pre>\n<p>UPDATE: with a <code>switch</code> statement:</p>\n<pre><code>        for (int i=0; i&lt;30; i++) {\n            if (i%a==0) {\n                b = 1-b;\n            }\n            switch (b) {\n                case 0:\n                    System.out.print(&quot;O&quot;);\n                    break;\n                case 1:\n                    System.out.print(&quot;X&quot;);\n                    break;\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28972120,"reputation":1,"user_id":22192178,"display_name":"Matthew Pirotta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688973854,"creation_date":1688973854,"answer_id":76651534,"question_id":76650998,"body_markdown":"From what I can understand from your code, there is no need for a switch. I got the desired output by use of nested for loops.\r\n\r\n    int XPerGroup = 3 ;\r\n        int group = 4;\r\n\r\n        for(int i = 0; i &lt; group; i++){\r\n            for (int j = 0; j &lt; XPerGroup; j++) {\r\n                System.out.print(&quot;X&quot;);\r\n            }\r\n            System.out.print(&quot; &quot;);\r\n        }\r\nYou can just change hardset variables into scanner input.","title":"how to make a switch","body":"<p>From what I can understand from your code, there is no need for a switch. I got the desired output by use of nested for loops.</p>\n<pre><code>int XPerGroup = 3 ;\n    int group = 4;\n\n    for(int i = 0; i &lt; group; i++){\n        for (int j = 0; j &lt; XPerGroup; j++) {\n            System.out.print(&quot;X&quot;);\n        }\n        System.out.print(&quot; &quot;);\n    }\n</code></pre>\n<p>You can just change hardset variables into scanner input.</p>\n"}],"owner":{"account_id":28611384,"reputation":1,"user_id":21906308,"display_name":"Ильяс Вафин"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":76651096,"answer_count":2,"score":-3,"last_activity_date":1688975466,"creation_date":1688968858,"question_id":76650998,"body_markdown":"\r\n```\r\n    import java.util.Scanner;\r\n    public class Main2 {\r\n        public static void main(String[] args){\r\n            Scanner scan = new Scanner(System.in);\r\n            int a=scan.nextInt();\r\n            int b=1;\r\n            for (int i=1;i&lt;=30;i++){\r\n                if(i%a==0){\r\n                    b=1;\r\n                    System.out.print(&quot;X&quot;);\r\n                }else {\r\n                    System.out.print(&quot;O&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n - I drive 3 into the scanner\r\n - the desired result\r\n - XXXOOOXXXOOOXXXOOOXXX","title":"how to make a switch","body":"<pre><code>    import java.util.Scanner;\n    public class Main2 {\n        public static void main(String[] args){\n            Scanner scan = new Scanner(System.in);\n            int a=scan.nextInt();\n            int b=1;\n            for (int i=1;i&lt;=30;i++){\n                if(i%a==0){\n                    b=1;\n                    System.out.print(&quot;X&quot;);\n                }else {\n                    System.out.print(&quot;O&quot;);\n                }\n            }\n        }\n    }\n</code></pre>\n<ul>\n<li>I drive 3 into the scanner</li>\n<li>the desired result</li>\n<li>XXXOOOXXXOOOXXXOOOXXX</li>\n</ul>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1688897164,"post_id":76643365,"comment_id":135133318,"body_markdown":"please enable spring security DEBUG or TRACE logs and edit your post and include them IN FULL. Since i dont do guesswork coding and you should always include debug logs and learn how to debug your application before asking here.","body":"please enable spring security DEBUG or TRACE logs and edit your post and include them IN FULL. Since i dont do guesswork coding and you should always include debug logs and learn how to debug your application before asking here."}],"answers":[{"tags":[],"owner":{"account_id":20937832,"reputation":136,"user_id":15382640,"display_name":"Madhura"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688827049,"creation_date":1688826287,"answer_id":76643408,"question_id":76643365,"body_markdown":"You are getting `&quot;401 Unauthorized&quot;` because you haven&#39;t authenticated the `&quot;/api/auth/&quot;` endpoint.\r\ntry the modified version,\r\n\r\n    @Configuration\r\n    @EnableWebSecurity(debug = true)\r\n    public class SecurityConfiguration {\r\n    \r\n        @Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n            http\r\n                    .authorizeHttpRequests( auth -&gt; auth\r\n                            .requestMatchers(&quot;/api/auth/**&quot;).authenticated() // &lt;-- Authenticate here\r\n                            .requestMatchers(&quot;/actuator/shutdown&quot;).permitAll()\r\n                            .requestMatchers(&quot;/api/antifraud/transaction&quot;).authenticated()\r\n                            .anyRequest().authenticated()\r\n                    )\r\n                    .httpBasic(Customizer.withDefaults())\r\n                    .csrf(AbstractHttpConfigurer::disable)\r\n                    .headers(headers -&gt; headers.frameOptions(Customizer.withDefaults()));\r\n    \r\n            return http.build();\r\n        }\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    }\r\n\r\nIf still getting the same error then try with below method,\r\n\r\n    @Configuration\r\n    public class SecurityConfiguration {\r\n    \r\n        @Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n            http\r\n                    .authorizeRequests(authorize -&gt; authorize\r\n                            .antMatchers(&quot;/api/auth/user&quot;).permitAll() // Allow access to /api/auth/user without authentication\r\n                            .antMatchers(&quot;/actuator/shutdown&quot;).permitAll()\r\n                            .antMatchers(&quot;/api/antifraud/transaction&quot;).authenticated()\r\n                            .anyRequest().authenticated()\r\n                    )\r\n                    .httpBasic(Customizer.withDefaults())\r\n                    .csrf(AbstractHttpConfigurer::disable)\r\n                    .headers(headers -&gt; headers.frameOptions(Customizer.withDefaults()));\r\n    \r\n            return http.build();\r\n        }\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    }\r\n\r\n","title":"Why I can&#39;t get access to the /api/auth/user in Spring Security?","body":"<p>You are getting <code>&quot;401 Unauthorized&quot;</code> because you haven't authenticated the <code>&quot;/api/auth/&quot;</code> endpoint.\ntry the modified version,</p>\n<pre><code>@Configuration\n@EnableWebSecurity(debug = true)\npublic class SecurityConfiguration {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests( auth -&gt; auth\n                        .requestMatchers(&quot;/api/auth/**&quot;).authenticated() // &lt;-- Authenticate here\n                        .requestMatchers(&quot;/actuator/shutdown&quot;).permitAll()\n                        .requestMatchers(&quot;/api/antifraud/transaction&quot;).authenticated()\n                        .anyRequest().authenticated()\n                )\n                .httpBasic(Customizer.withDefaults())\n                .csrf(AbstractHttpConfigurer::disable)\n                .headers(headers -&gt; headers.frameOptions(Customizer.withDefaults()));\n\n        return http.build();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>If still getting the same error then try with below method,</p>\n<pre><code>@Configuration\npublic class SecurityConfiguration {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeRequests(authorize -&gt; authorize\n                        .antMatchers(&quot;/api/auth/user&quot;).permitAll() // Allow access to /api/auth/user without authentication\n                        .antMatchers(&quot;/actuator/shutdown&quot;).permitAll()\n                        .antMatchers(&quot;/api/antifraud/transaction&quot;).authenticated()\n                        .anyRequest().authenticated()\n                )\n                .httpBasic(Customizer.withDefaults())\n                .csrf(AbstractHttpConfigurer::disable)\n                .headers(headers -&gt; headers.frameOptions(Customizer.withDefaults()));\n\n        return http.build();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25295091,"reputation":124,"user_id":19120390,"display_name":"Ajaj Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688878689,"creation_date":1688826741,"answer_id":76643440,"question_id":76643365,"body_markdown":"Can you please try\r\n\r\nadd two more asterisk before \r\n\r\n```JAVA\r\n.requestMatchers(&quot;/**/api/auth/**/&quot;).permitAll()\r\n```\r\n\r\n\r\n*EDIT*\r\nUse `antMatchers` instead of `requestMatchers` with csrf() disabled\r\n\r\n```JAVA\r\nhttp.csrf().disable()\r\n                .authorizeHttpRequests( auth -&gt; auth\r\n                        .antMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n                        .antMatchers(&quot;/actuator/shutdown&quot;).permitAll()\r\n                        .antMatchers(&quot;/api/antifraud/transaction&quot;).authenticated()\r\n                        .anyRequest().authenticated()\r\n\r\n                ) .httpBasic(Customizer.withDefaults())\r\n                .csrf(AbstractHttpConfigurer::disable)\r\n                .headers(headers -&gt; headers.frameOptions(Customizer.withDefaults()));\r\n```","title":"Why I can&#39;t get access to the /api/auth/user in Spring Security?","body":"<p>Can you please try</p>\n<p>add two more asterisk before</p>\n<pre><code>.requestMatchers(&quot;/**/api/auth/**/&quot;).permitAll()\n</code></pre>\n<p><em>EDIT</em>\nUse <code>antMatchers</code> instead of <code>requestMatchers</code> with csrf() disabled</p>\n<pre><code>http.csrf().disable()\n                .authorizeHttpRequests( auth -&gt; auth\n                        .antMatchers(&quot;/api/auth/**&quot;).permitAll()\n                        .antMatchers(&quot;/actuator/shutdown&quot;).permitAll()\n                        .antMatchers(&quot;/api/antifraud/transaction&quot;).authenticated()\n                        .anyRequest().authenticated()\n\n                ) .httpBasic(Customizer.withDefaults())\n                .csrf(AbstractHttpConfigurer::disable)\n                .headers(headers -&gt; headers.frameOptions(Customizer.withDefaults()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688975334,"creation_date":1688975334,"answer_id":76651700,"question_id":76643365,"body_markdown":"I just copy/paste your code and it work very well, maybe problem is in your request what you try to do:\r\n[![result][1]][1]\r\n\r\nAnd one more detail please use `@RequestParam String name...` instead of `@RequestBody String name ...` or create a custom object like User(name, username, password) and pass them to the request with `@RequestBody User user`\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WvFQV.png","title":"Why I can&#39;t get access to the /api/auth/user in Spring Security?","body":"<p>I just copy/paste your code and it work very well, maybe problem is in your request what you try to do:\n<a href=\"https://i.stack.imgur.com/WvFQV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WvFQV.png\" alt=\"result\" /></a></p>\n<p>And one more detail please use <code>@RequestParam String name...</code> instead of <code>@RequestBody String name ...</code> or create a custom object like User(name, username, password) and pass them to the request with <code>@RequestBody User user</code></p>\n"}],"owner":{"account_id":23604069,"reputation":3,"user_id":17640064,"display_name":"Aleksei Velikanov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1688975334,"creation_date":1688825632,"question_id":76643365,"body_markdown":"I am trying to get access to the /api/auth/user, but I am still getting &quot;401 Unauthorized&quot;.\r\nHow can I set my SecurityConfiguration? I can&#39;t use WebSecurityConfigurerAdapter in my project.\r\n\r\nThere is my code:\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity(debug = true)\r\npublic class SecurityConfiguration {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests( auth -&gt; auth\r\n                        .requestMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n                        .requestMatchers(&quot;/actuator/shutdown&quot;).permitAll()\r\n                        .requestMatchers(&quot;/api/antifraud/transaction&quot;).authenticated()\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .httpBasic(Customizer.withDefaults())\r\n                .csrf(AbstractHttpConfigurer::disable)\r\n                .headers(headers -&gt; headers.frameOptions(Customizer.withDefaults()));\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/auth&quot;)\r\npublic class AuthController {\r\n\r\n    private final UserService userService;\r\n\r\n    @Autowired\r\n    public AuthController(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n\r\n    @PostMapping(&quot;/user&quot;)\r\n    public ResponseEntity&lt;?&gt; registerUser(@RequestBody String name, @RequestBody String username,\r\n                                          @RequestBody String password) {\r\n        if(StringUtils.isBlank(name) || StringUtils.isBlank(username) || StringUtils.isBlank(password)) {\r\n            return ResponseEntity.badRequest().build();\r\n        }\r\n\r\n        return userService.registerUser(name, username, password);\r\n    }\r\n\r\n}\r\n```","title":"Why I can&#39;t get access to the /api/auth/user in Spring Security?","body":"<p>I am trying to get access to the /api/auth/user, but I am still getting &quot;401 Unauthorized&quot;.\nHow can I set my SecurityConfiguration? I can't use WebSecurityConfigurerAdapter in my project.</p>\n<p>There is my code:</p>\n<pre><code>@Configuration\n@EnableWebSecurity(debug = true)\npublic class SecurityConfiguration {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests( auth -&gt; auth\n                        .requestMatchers(&quot;/api/auth/**&quot;).permitAll()\n                        .requestMatchers(&quot;/actuator/shutdown&quot;).permitAll()\n                        .requestMatchers(&quot;/api/antifraud/transaction&quot;).authenticated()\n                        .anyRequest().authenticated()\n                )\n                .httpBasic(Customizer.withDefaults())\n                .csrf(AbstractHttpConfigurer::disable)\n                .headers(headers -&gt; headers.frameOptions(Customizer.withDefaults()));\n\n        return http.build();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/auth&quot;)\npublic class AuthController {\n\n    private final UserService userService;\n\n    @Autowired\n    public AuthController(UserService userService) {\n        this.userService = userService;\n    }\n\n    @PostMapping(&quot;/user&quot;)\n    public ResponseEntity&lt;?&gt; registerUser(@RequestBody String name, @RequestBody String username,\n                                          @RequestBody String password) {\n        if(StringUtils.isBlank(name) || StringUtils.isBlank(username) || StringUtils.isBlank(password)) {\n            return ResponseEntity.badRequest().build();\n        }\n\n        return userService.registerUser(name, username, password);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","duplicates"],"answers":[{"tags":[],"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688974954,"creation_date":1688974954,"answer_id":76651659,"question_id":76651410,"body_markdown":"Try to add this in `build.gradle` right after declaring your dependencies like this:\r\n\r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n        implementation &#39;androidx.activity:activity:1.7.2&#39;\r\n        implementation &#39;androidx.recyclerview:recyclerview:1.3.0&#39;\r\n        implementation &#39;androidx.core:core-splashscreen:1.0.1&#39;\r\n        implementation &#39;com.google.mlkit:image-labeling:17.0.7&#39;\r\n        implementation &#39;com.google.android.material:material:1.11.0-alpha01&#39;\r\n        implementation &#39;com.github.bumptech.glide:glide:4.15.1&#39;\r\n        implementation &#39;io.reactivex.rxjava3:rxandroid:3.0.2&#39;\r\n        implementation &#39;io.reactivex.rxjava3:rxjava:3.1.6&#39;\r\n    }\r\n    \r\n    configurations.implementation {\r\n        exclude group: &#39;org.jetbrains.kotlin&#39;, module: &#39;kotlin-stdlib-jdk8&#39;\r\n    }\r\n\r\nI faced a similar error few months ago and this solved it for me.","title":"Getting multiple duplicate kotlin classes errors with a Java app in android studio","body":"<p>Try to add this in <code>build.gradle</code> right after declaring your dependencies like this:</p>\n<pre><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'androidx.activity:activity:1.7.2'\n    implementation 'androidx.recyclerview:recyclerview:1.3.0'\n    implementation 'androidx.core:core-splashscreen:1.0.1'\n    implementation 'com.google.mlkit:image-labeling:17.0.7'\n    implementation 'com.google.android.material:material:1.11.0-alpha01'\n    implementation 'com.github.bumptech.glide:glide:4.15.1'\n    implementation 'io.reactivex.rxjava3:rxandroid:3.0.2'\n    implementation 'io.reactivex.rxjava3:rxjava:3.1.6'\n}\n\nconfigurations.implementation {\n    exclude group: 'org.jetbrains.kotlin', module: 'kotlin-stdlib-jdk8'\n}\n</code></pre>\n<p>I faced a similar error few months ago and this solved it for me.</p>\n"}],"owner":{"account_id":1361461,"reputation":1592,"user_id":1298744,"accept_rate":71,"display_name":"Zelig63"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688974954,"creation_date":1688972858,"question_id":76651410,"body_markdown":"When trying to build my Java app, I get multiple duplicate Kotlin classes error. Classes in error are said to be declared in both &quot;org.jetbrains.kotlin:kotlin-stdlib:1.8.20&quot; and &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21&quot;.\r\nMy dependencies are :\r\n\r\n    \timplementation &#39;com.google.android.gms:play-services-maps:18.1.0&#39;\r\n\t\timplementation &#39;com.google.android.gms:play-services-location:21.0.1&#39;\r\n\t\timplementation &#39;org.mapsforge:mapsforge-map-android:0.19.0&#39;\r\n\t\timplementation &#39;com.caverock:androidsvg:1.4&#39;\r\n\t\timplementation &#39;org.mapsforge:mapsforge-poi-android:0.19.0&#39;\r\n\t\timplementation &#39;org.mapsforge:sqlite-android:0.19.0&#39;\r\n\t\timplementation &#39;org.mapsforge:mapsforge-themes:0.19.0&#39;\r\n\t\timplementation &#39;org.osmdroid:osmdroid-android:6.1.16&#39;\r\n\t\timplementation platform(&#39;com.google.firebase:firebase-bom:32.1.1&#39;)\r\n\t\timplementation &#39;com.google.firebase:firebase-crashlytics&#39;\r\n\t\timplementation &#39;com.google.firebase:firebase-analytics&#39;\r\n\t\timplementation &#39;androidx.activity:activity:1.7.2&#39;\r\n\t\timplementation &#39;androidx.fragment:fragment:1.6.0&#39;\r\n\r\nUsing Gradle plugin version 8.0.2 and Gradle version 8.2, build tool version 34.0.0.\r\n","title":"Getting multiple duplicate kotlin classes errors with a Java app in android studio","body":"<p>When trying to build my Java app, I get multiple duplicate Kotlin classes error. Classes in error are said to be declared in both &quot;org.jetbrains.kotlin:kotlin-stdlib:1.8.20&quot; and &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21&quot;.\nMy dependencies are :</p>\n<pre><code>    implementation 'com.google.android.gms:play-services-maps:18.1.0'\n    implementation 'com.google.android.gms:play-services-location:21.0.1'\n    implementation 'org.mapsforge:mapsforge-map-android:0.19.0'\n    implementation 'com.caverock:androidsvg:1.4'\n    implementation 'org.mapsforge:mapsforge-poi-android:0.19.0'\n    implementation 'org.mapsforge:sqlite-android:0.19.0'\n    implementation 'org.mapsforge:mapsforge-themes:0.19.0'\n    implementation 'org.osmdroid:osmdroid-android:6.1.16'\n    implementation platform('com.google.firebase:firebase-bom:32.1.1')\n    implementation 'com.google.firebase:firebase-crashlytics'\n    implementation 'com.google.firebase:firebase-analytics'\n    implementation 'androidx.activity:activity:1.7.2'\n    implementation 'androidx.fragment:fragment:1.6.0'\n</code></pre>\n<p>Using Gradle plugin version 8.0.2 and Gradle version 8.2, build tool version 34.0.0.</p>\n"},{"tags":["java","json","jackson","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688742045,"creation_date":1688742045,"answer_id":76638072,"question_id":76637959,"body_markdown":"Actually, there might be several ways to achieve this.\r\n\r\nFirst, have synthetic setter to update all fields related to certain property.\r\n\r\n```\r\n    @JsonProperty(&quot;purchasedQty&quot;)\r\n    public void setPurchasedQtyMultiType(Number value) {\r\n        this.purchasedQty = value.intValue();\r\n        this.purchasedQty_decimal = value.doubleValue();\r\n    }\r\n```\r\n\r\nSecond, you may have custom deserialiser that explcitly sets all the required fields.\r\n\r\nThird, you may have different classes with different field types for each scenario and choose to deserialise explicitly to one of them.\r\n\r\nThere also might be other ways.","title":"Is it possible to map same json field to multiple Java objects with different data types","body":"<p>Actually, there might be several ways to achieve this.</p>\n<p>First, have synthetic setter to update all fields related to certain property.</p>\n<pre><code>    @JsonProperty(&quot;purchasedQty&quot;)\n    public void setPurchasedQtyMultiType(Number value) {\n        this.purchasedQty = value.intValue();\n        this.purchasedQty_decimal = value.doubleValue();\n    }\n</code></pre>\n<p>Second, you may have custom deserialiser that explcitly sets all the required fields.</p>\n<p>Third, you may have different classes with different field types for each scenario and choose to deserialise explicitly to one of them.</p>\n<p>There also might be other ways.</p>\n"}],"owner":{"account_id":19008999,"reputation":261,"user_id":13875223,"display_name":"suku"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688974431,"creation_date":1688741142,"question_id":76637959,"body_markdown":"I have a situation where I need to map same JSON field to multiple Java objects with different datatypes, So that when certain condition is true, I will be mapping the field with decimal value, and if condition is false the field will be mapped with integer value. \r\n\r\nPOJO definitions something like below:\r\n```\r\n@JsonProperty(&quot;purchasedQty&quot;)\r\nprivate int purchasedQty\r\n\r\n@JsonProperty(&quot;purchasedQty&quot;)\r\nprivate double purchasedQty_decimal\r\n```\r\n\r\nexpected implementation:\r\n```\r\ntrue\r\n{\r\n&quot;purchasedQty&quot; : 1.0;\r\n}\r\n\r\nelse\r\n{\r\n&quot;purchasedQty&quot; : 1;\r\n}\r\n```\r\n\r\nIs there anyway to achieve the expected implementation?","title":"Is it possible to map same json field to multiple Java objects with different data types","body":"<p>I have a situation where I need to map same JSON field to multiple Java objects with different datatypes, So that when certain condition is true, I will be mapping the field with decimal value, and if condition is false the field will be mapped with integer value.</p>\n<p>POJO definitions something like below:</p>\n<pre><code>@JsonProperty(&quot;purchasedQty&quot;)\nprivate int purchasedQty\n\n@JsonProperty(&quot;purchasedQty&quot;)\nprivate double purchasedQty_decimal\n</code></pre>\n<p>expected implementation:</p>\n<pre><code>true\n{\n&quot;purchasedQty&quot; : 1.0;\n}\n\nelse\n{\n&quot;purchasedQty&quot; : 1;\n}\n</code></pre>\n<p>Is there anyway to achieve the expected implementation?</p>\n"},{"tags":["java","lambda","hashmap","priority-queue"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":4,"creation_date":1688972998,"post_id":76651404,"comment_id":135141299,"body_markdown":"Your question doesn&#39;t make sense. You can&#39;t add values to a map without keys.","body":"Your question doesn&#39;t make sense. You can&#39;t add values to a map without keys."},{"owner":{"account_id":3858106,"reputation":2699,"user_id":3196468,"accept_rate":100,"display_name":"Puddler"},"score":0,"creation_date":1688974008,"post_id":76651404,"comment_id":135141507,"body_markdown":"@shmosel but in the background Java has allocated a default capacity of 16 HashMap entries. @mmast can do `Map&lt;Integer, PriorityQueue&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();` which in the background would allocate space for 16 HashMap entries and 11 PriorityQueue entries for each of those HashMap entries but they are trying to override the default behaviour using lambda functions.","body":"@shmosel but in the background Java has allocated a default capacity of 16 HashMap entries. @mmast can do <code>Map&lt;Integer, PriorityQueue&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();</code> which in the background would allocate space for 16 HashMap entries and 11 PriorityQueue entries for each of those HashMap entries but they are trying to override the default behaviour using lambda functions."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1688974581,"post_id":76651404,"comment_id":135141621,"body_markdown":"@Puddler since Java 8 constructing a new `HashMap` instance does **not** create the `table` - this is only done on first use (i.e. first `put()` operation). But even if it did allocate the `table` field it would only allocate an array full of `null` values. The `HashMap` only ever allocates its internal objects, it neither allocates the keys nor the values.","body":"@Puddler since Java 8 constructing a new <code>HashMap</code> instance does <b>not</b> create the <code>table</code> - this is only done on first use (i.e. first <code>put()</code> operation). But even if it did allocate the <code>table</code> field it would only allocate an array full of <code>null</code> values. The <code>HashMap</code> only ever allocates its internal objects, it neither allocates the keys nor the values."},{"owner":{"account_id":3858106,"reputation":2699,"user_id":3196468,"accept_rate":100,"display_name":"Puddler"},"score":0,"creation_date":1688975648,"post_id":76651404,"comment_id":135141872,"body_markdown":"@ThomasKl&#228;ger and that&#39;s why I only commented and didn&#39;t give an answer since my Java is clearly very rusty., thanks for the correction.","body":"@ThomasKl&#228;ger and that&#39;s why I only commented and didn&#39;t give an answer since my Java is clearly very rusty., thanks for the correction."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1688989720,"post_id":76651404,"comment_id":135144785,"body_markdown":"Your terminology is somewhat deviated here.  In your examples you are just instantiating objects which utilize a dynamic heap allocation, in terms of memory.  Are you referencing another coding language?","body":"Your terminology is somewhat deviated here.  In your examples you are just instantiating objects which utilize a dynamic heap allocation, in terms of memory.  Are you referencing another coding language?"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1688974304,"creation_date":1688974304,"answer_id":76651587,"question_id":76651404,"body_markdown":"This does not &quot;initialise of a hash map with a min heap as the value&quot;.\r\n\r\n    Map&lt;Integer, PriorityQueue&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\r\n\r\nThis creates a `HashMap`, whose keys are integers, and whose values are `PriorityQueue&lt;Integer&gt;`s.\r\n\r\nA `PriorityQueue&lt;Integer&gt;` can act like a max heap *or* a min heap, depending on the `Comparator&lt;Integer&gt;` that you pass into its constructor. This means that `map` above can contain *both* max heaps and min heaps.\r\n\r\n```\r\nmap.put(1, new PriorityQueue&lt;&gt;(Comparator.naturalOrder())); // a min heap is associated with the key 1\r\nmap.put(2, new PriorityQueue&lt;&gt;(Comparator.reverseOrder())); // a max heap is associated with the key 2\r\n```\r\n\r\nNote that you should not use subtraction (i.e. `(a, b) -&gt; b - a`) to compare integers. See [this post][1] for more info.\r\n\r\nWith that cleared out of the way, we can make a `HashMap` that *only* contains min heaps, or *only* contains max heaps, by declaring our own `MinHeap` and `MaxHeap` types.\r\n\r\n`MinHeap` and `MaxHeap` can inherit from `PriorityQueue`, and calling `PriorityQueue`&#39;s constructor with an appropriate `Comparator` argument.\r\n\r\n```\r\nclass MinHeap&lt;T extends Comparable&lt;T&gt;&gt; extends PriorityQueue&lt;T&gt; {\r\n    public MinHeap() {\r\n        super(Comparator.naturalOrder());\r\n    }\r\n}\r\n\r\nclass MaxHeap&lt;T extends Comparable&lt;T&gt;&gt; extends PriorityQueue&lt;T&gt; {\r\n    public MaxHeap() {\r\n        super(Comparator.reverseOrder());\r\n    }\r\n}\r\n```\r\n\r\nNow, a `HashMap&lt;Integer, MinHeap&lt;Integer&gt;&gt;` only contains min heaps as values, and a `HashMap&lt;Integer, MaxHeap&lt;Integer&gt;&gt;` only max heaps as values.\r\n\r\n```\r\nMap&lt;Integer, MinHeap&lt;Integer&gt;&gt; minHeapMap = new HashMap&lt;&gt;();\r\nMap&lt;Integer, MaxHeap&lt;Integer&gt;&gt; maxHeapMap = new HashMap&lt;&gt;();\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/2728793/5133585","title":"How to initialize a HashMap with max Heap using Lambda in Java","body":"<p>This does not &quot;initialise of a hash map with a min heap as the value&quot;.</p>\n<pre><code>Map&lt;Integer, PriorityQueue&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\n</code></pre>\n<p>This creates a <code>HashMap</code>, whose keys are integers, and whose values are <code>PriorityQueue&lt;Integer&gt;</code>s.</p>\n<p>A <code>PriorityQueue&lt;Integer&gt;</code> can act like a max heap <em>or</em> a min heap, depending on the <code>Comparator&lt;Integer&gt;</code> that you pass into its constructor. This means that <code>map</code> above can contain <em>both</em> max heaps and min heaps.</p>\n<pre><code>map.put(1, new PriorityQueue&lt;&gt;(Comparator.naturalOrder())); // a min heap is associated with the key 1\nmap.put(2, new PriorityQueue&lt;&gt;(Comparator.reverseOrder())); // a max heap is associated with the key 2\n</code></pre>\n<p>Note that you should not use subtraction (i.e. <code>(a, b) -&gt; b - a</code>) to compare integers. See <a href=\"https://stackoverflow.com/q/2728793/5133585\">this post</a> for more info.</p>\n<p>With that cleared out of the way, we can make a <code>HashMap</code> that <em>only</em> contains min heaps, or <em>only</em> contains max heaps, by declaring our own <code>MinHeap</code> and <code>MaxHeap</code> types.</p>\n<p><code>MinHeap</code> and <code>MaxHeap</code> can inherit from <code>PriorityQueue</code>, and calling <code>PriorityQueue</code>'s constructor with an appropriate <code>Comparator</code> argument.</p>\n<pre><code>class MinHeap&lt;T extends Comparable&lt;T&gt;&gt; extends PriorityQueue&lt;T&gt; {\n    public MinHeap() {\n        super(Comparator.naturalOrder());\n    }\n}\n\nclass MaxHeap&lt;T extends Comparable&lt;T&gt;&gt; extends PriorityQueue&lt;T&gt; {\n    public MaxHeap() {\n        super(Comparator.reverseOrder());\n    }\n}\n</code></pre>\n<p>Now, a <code>HashMap&lt;Integer, MinHeap&lt;Integer&gt;&gt;</code> only contains min heaps as values, and a <code>HashMap&lt;Integer, MaxHeap&lt;Integer&gt;&gt;</code> only max heaps as values.</p>\n<pre><code>Map&lt;Integer, MinHeap&lt;Integer&gt;&gt; minHeapMap = new HashMap&lt;&gt;();\nMap&lt;Integer, MaxHeap&lt;Integer&gt;&gt; maxHeapMap = new HashMap&lt;&gt;();\n</code></pre>\n"}],"owner":{"account_id":13818337,"reputation":21,"user_id":9974437,"display_name":"mmast"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":76651587,"answer_count":1,"score":-1,"last_activity_date":1688974304,"creation_date":1688972827,"question_id":76651404,"body_markdown":"In Java, initialization of a hash map with a min heap as the value:\r\n\r\n```\r\nMap&lt;Integer, PriorityQueue&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\r\n```\r\n\r\nInitialization of a max heap using lambda can be like:\r\n\r\n```\r\nPriorityQueue&lt;Integer&gt; pq = new PriorityQueue&lt;&gt;((a, b) -&gt; b - a);\r\n```\r\n\r\nHowever, how to initialize a hash map with a max heap using lambda?\r\n\r\nThis definitly doesn&#39;t work.\r\n\r\n```\r\nMap&lt;Integer, PriorityQueue&lt;Integer&gt;((a, b) -&gt; b - a)&gt; map = new HashMap&lt;&gt;();\r\n```\r\n","title":"How to initialize a HashMap with max Heap using Lambda in Java","body":"<p>In Java, initialization of a hash map with a min heap as the value:</p>\n<pre><code>Map&lt;Integer, PriorityQueue&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\n</code></pre>\n<p>Initialization of a max heap using lambda can be like:</p>\n<pre><code>PriorityQueue&lt;Integer&gt; pq = new PriorityQueue&lt;&gt;((a, b) -&gt; b - a);\n</code></pre>\n<p>However, how to initialize a hash map with a max heap using lambda?</p>\n<p>This definitly doesn't work.</p>\n<pre><code>Map&lt;Integer, PriorityQueue&lt;Integer&gt;((a, b) -&gt; b - a)&gt; map = new HashMap&lt;&gt;();\n</code></pre>\n"},{"tags":["java","liquibase"],"owner":{"account_id":16882330,"reputation":327,"user_id":12208032,"display_name":"RoshiDil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688974138,"creation_date":1688974138,"question_id":76651570,"body_markdown":"I have installed liquibase 4.3.2 version. But after setting the path and when I run `liquibase --version`, it gives the below as the version.\r\n\r\n    $ liquibase --version\r\n    Liquibase Version: ${project.version}\r\n\r\nSame happened with 4.11.0 version. \r\n\r\nWhy don&#39;t I get the correct installed version when running `liquibase --version`?\r\n","title":"Liquibase installation does not give the correct version in centos7","body":"<p>I have installed liquibase 4.3.2 version. But after setting the path and when I run <code>liquibase --version</code>, it gives the below as the version.</p>\n<pre><code>$ liquibase --version\nLiquibase Version: ${project.version}\n</code></pre>\n<p>Same happened with 4.11.0 version.</p>\n<p>Why don't I get the correct installed version when running <code>liquibase --version</code>?</p>\n"},{"tags":["java","serialization","avro","avro-tools","jackson-dataformat-avro"],"owner":{"account_id":15335231,"reputation":3,"user_id":11063796,"display_name":"Nidhi Kri 4-Yr BTech Metallurg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688973852,"creation_date":1688973852,"question_id":76651531,"body_markdown":"So I am using Apache Avro ( version 1.11.2 ) to serialize and deserialize data.\r\n\r\nHere&#39;s how my POJO that I want to serialize looks like\r\n\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class MyPojo {\r\n  private String param1;\r\n  private String param2;\r\n  private Set&lt;myEnum&gt; param3;\r\n}\r\n```\r\nand my .avsc file that I should be defining ( as per I got suggestions online and from Chat - GPT, but none helping )\r\n\r\n```\r\n{\r\n  &quot;type&quot;: &quot;record&quot;,\r\n  &quot;name&quot;: &quot;MyPojo&quot;,\r\n  &quot;fields&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;param1&quot;,\r\n      &quot;type&quot;: &quot;string&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;param2&quot;,\r\n      &quot;type&quot;: &quot;string&quot;\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;param3&quot;,\r\n      &quot;type&quot;: {\r\n        &quot;type&quot;: &quot;array&quot;,\r\n        &quot;items&quot;: &quot;string&quot;,\r\n        &quot;java-class&quot;: &quot;java.util.Set&quot;\r\n      }\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nit&#39;s rather generating a Pojo class MyPojo.java with member variable with param3 as &#39;List&#39; instead of &#39;Set&#39;.\r\nCan anyone who is familiar with Avro please help me figure out how I may generate a Set instead?\r\n\r\ntried using different .avsc ( e.g tried generating using union ) None helped.","title":"Is there a way to define avro schema file ( .avsc file ) that generates a POJO with a &#39;Set&#39; member variable?","body":"<p>So I am using Apache Avro ( version 1.11.2 ) to serialize and deserialize data.</p>\n<p>Here's how my POJO that I want to serialize looks like</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class MyPojo {\n  private String param1;\n  private String param2;\n  private Set&lt;myEnum&gt; param3;\n}\n</code></pre>\n<p>and my .avsc file that I should be defining ( as per I got suggestions online and from Chat - GPT, but none helping )</p>\n<pre><code>{\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;name&quot;: &quot;MyPojo&quot;,\n  &quot;fields&quot;: [\n    {\n      &quot;name&quot;: &quot;param1&quot;,\n      &quot;type&quot;: &quot;string&quot;\n    },\n    {\n      &quot;name&quot;: &quot;param2&quot;,\n      &quot;type&quot;: &quot;string&quot;\n    },\n    {\n      &quot;name&quot;: &quot;param3&quot;,\n      &quot;type&quot;: {\n        &quot;type&quot;: &quot;array&quot;,\n        &quot;items&quot;: &quot;string&quot;,\n        &quot;java-class&quot;: &quot;java.util.Set&quot;\n      }\n    }\n  ]\n}\n</code></pre>\n<p>it's rather generating a Pojo class MyPojo.java with member variable with param3 as 'List' instead of 'Set'.\nCan anyone who is familiar with Avro please help me figure out how I may generate a Set instead?</p>\n<p>tried using different .avsc ( e.g tried generating using union ) None helped.</p>\n"},{"tags":["java","maven","maven-3"],"answers":[{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1634285396,"creation_date":1506397348,"answer_id":46417483,"question_id":46416236,"body_markdown":"You can use \r\n\r\n    mvn dependency:tree -X\r\n\r\nwhich [produces the debug output](http://maven.apache.org/ref/3.1.0/maven-embedder/cli.html).\r\n\r\n\r\n&lt;strike&gt;\r\n\r\nOtherwise stated in the [documentation](https://maven.apache.org/plugins/maven-dependency-plugin/tree-mojo.html) about `verbose` -  \r\n\r\n&gt; Notice this feature actually uses Maven 2 algorithm and may [give wrong\r\n&gt; results when used with Maven 3](http://maven.apache.org/shared/maven-dependency-tree/).\r\n\r\n\r\n&lt;/strike&gt;\r\n\r\n\r\n\r\n\r\n**Edit**: As pointed by Brad in [the comments](https://stackoverflow.com/questions/46416236/mvn-dependencytree-is-there-an-equivalent-available-for-verbose-output/46417483?noredirect=1#comment116016968_46417483), the `verbose` flag has been  [reintroduced for the `3.2.0`](https://issues.apache.org/jira/browse/MDEP-644) release and further.","title":"&quot;mvn dependency:tree&quot; - is there an equivalent available for &quot;verbose&quot; output?","body":"<p>You can use</p>\n<pre><code>mvn dependency:tree -X\n</code></pre>\n<p>which <a href=\"http://maven.apache.org/ref/3.1.0/maven-embedder/cli.html\" rel=\"noreferrer\">produces the debug output</a>.</p>\n<strike>\n<p>Otherwise stated in the <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/tree-mojo.html\" rel=\"noreferrer\">documentation</a> about <code>verbose</code> -</p>\n<blockquote>\n<p>Notice this feature actually uses Maven 2 algorithm and may <a href=\"http://maven.apache.org/shared/maven-dependency-tree/\" rel=\"noreferrer\">give wrong\nresults when used with Maven 3</a>.</p>\n</blockquote>\n</strike>\n<p><strong>Edit</strong>: As pointed by Brad in <a href=\"https://stackoverflow.com/questions/46416236/mvn-dependencytree-is-there-an-equivalent-available-for-verbose-output/46417483?noredirect=1#comment116016968_46417483\">the comments</a>, the <code>verbose</code> flag has been  <a href=\"https://issues.apache.org/jira/browse/MDEP-644\" rel=\"noreferrer\">reintroduced for the <code>3.2.0</code></a> release and further.</p>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688973832,"creation_date":1688973832,"answer_id":76651529,"question_id":46416236,"body_markdown":"The `-verbose` flag was updated in version 3.2.0 of the Maven Dependency Plugin to work correctly with Maven 3, per [MDEP-644](https://issues.apache.org/jira/browse/MDEP-644).\r\n\r\nUsing this version of the plugin or newer will ensure that it returns correct results.\r\n\r\n```\r\nmvn dependency:tree -Dverbose\r\n```","title":"&quot;mvn dependency:tree&quot; - is there an equivalent available for &quot;verbose&quot; output?","body":"<p>The <code>-verbose</code> flag was updated in version 3.2.0 of the Maven Dependency Plugin to work correctly with Maven 3, per <a href=\"https://issues.apache.org/jira/browse/MDEP-644\" rel=\"nofollow noreferrer\">MDEP-644</a>.</p>\n<p>Using this version of the plugin or newer will ensure that it returns correct results.</p>\n<pre><code>mvn dependency:tree -Dverbose\n</code></pre>\n"}],"owner":{"account_id":5149805,"reputation":1326,"user_id":4124718,"display_name":"Arnab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34612,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":46417483,"answer_count":2,"score":33,"last_activity_date":1688973832,"creation_date":1506387209,"question_id":46416236,"body_markdown":"I have a use-case where we want to know all the versions that a Maven project gets per dependency tree even if they are omitted.\r\n\r\nPer *maven-dependency-plugin* documentation the &quot;verbose&quot; option has been discontinued since Maven 3 and &quot;tree&quot; Mojo of dependency goal is not more able to show the omitted dependencies.\r\n\r\nI am using Maven 3.5.0 and tried using an additional installation of Maven 2.x, but that yields compatibility issues with Java 8 apps.\r\n\r\nIs there a way to get verbose dependency tree output in Maven 3?","title":"&quot;mvn dependency:tree&quot; - is there an equivalent available for &quot;verbose&quot; output?","body":"<p>I have a use-case where we want to know all the versions that a Maven project gets per dependency tree even if they are omitted.</p>\n\n<p>Per <em>maven-dependency-plugin</em> documentation the \"verbose\" option has been discontinued since Maven 3 and \"tree\" Mojo of dependency goal is not more able to show the omitted dependencies.</p>\n\n<p>I am using Maven 3.5.0 and tried using an additional installation of Maven 2.x, but that yields compatibility issues with Java 8 apps.</p>\n\n<p>Is there a way to get verbose dependency tree output in Maven 3?</p>\n"},{"tags":["java","spring","redis","boot"],"answers":[{"tags":[],"owner":{"account_id":17870224,"reputation":36,"user_id":12981693,"display_name":"Max Kozlov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688973762,"creation_date":1688713599,"answer_id":76634634,"question_id":76627167,"body_markdown":"You have the wrong logic for using the annotation `@Cachable` because you are caching the entire list of users without a specific key.\r\n\r\nIn other words, you need to cache a specific user, for example, by `id`.\r\n\r\nNow you have a full list of users cached with key `users`. But the entry with the `users:id` key is deleted. Therefore your cache is not evict.\r\n\r\nFor the cache to work, you need to rewrite your service class in this way.\r\n\r\n```java\r\n@Service\r\n@EnableCaching\r\n@AllArgsConstructor\r\npublic class UserServiceImpl implements UserService {\r\n\r\n    private UserRepository userRepository;\r\n\r\n    @Override\r\n    public User createUser(User user) {\r\n        return userRepository.save(user);\r\n    }\r\n\r\n    @Override\r\n    @Cacheable(value = &quot;users&quot;, key = &quot;#userId&quot;)\r\n    public User findUser(String userId) {\r\n        doLongRunningTask();\r\n        return userRepository.findById(userId).orElseThrow();\r\n    }\r\n\r\n    @Override\r\n    public List&lt;User&gt; findAll() {\r\n        return (List&lt;User&gt;) userRepository.findAll();\r\n    }\r\n\r\n    @Override\r\n    @CacheEvict(value = &quot;users&quot;, key = &quot;#user.id&quot;)\r\n    public User updateUser(String userId, User user) {\r\n        doLongRunningTask();\r\n        user.setUpdatedAt(LocalDateTime.now());\r\n        return userRepository.save(user);\r\n    }\r\n\r\n    @Override\r\n    @CacheEvict(value = &quot;users&quot;, key = &quot;#userId&quot;)\r\n    public void deleteUser(String userId) {\r\n        userRepository.deleteById(userId);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nHere I moved the annotation `@Cacheable(value = &quot;users&quot;, key = &quot;#userId&quot;)` from method `findAll()` to method `findUser(String userId)`. I also corrected the annotation `@Cacheable` and added the key `key = &quot;#userId&quot;` there.\r\n\r\nAnyway, if you want to cache data in **Redis**. You need to avoid list caching, and only apply this approach to specific entities. You also need to pay attention to the fact that if you want to store entities in the cache, then you need to create a serial version in the entity itself.\r\n\r\nAnyway, if you want to cache data in **Redis**. You need to **avoid list caching**, and only apply this approach to specific entities. You also **need to pay attention** to the fact that you are serializing entities in **json**. It is highly discouraged to do this, because relationships such as `@ManyToOne` and `@OneToMany` can cause you to get a **recursive call to these relationships at the time of serialization**.\r\n\r\nHope my answer helps you =)\r\n\r\n**UPDATE**\r\n\r\n`CacheConfiguration` class for **spring-boot** 2.7.* version.\r\n\r\n```java\r\n@EnableCaching\r\n@Configuration\r\npublic class CacheConfiguration extends CachingConfigurerSupport {\r\n\r\n    @Bean\r\n    public RedisCacheConfiguration redisCacheConfiguration() {\r\n        return RedisCacheConfiguration.defaultCacheConfig()\r\n                                      .entryTtl(Duration.ofMinutes(15));\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    public CacheErrorHandler errorHandler() {\r\n        return new DefaultCacheErrorHandler();\r\n    }\r\n\r\n    @Bean(&quot;longLifeCacheManager&quot;)\r\n    public CacheManager longLifeCacheManager(\r\n        RedisConnectionFactory redisConnectionFactory\r\n    ) {\r\n        RedisCacheConfiguration defaultConfiguration = RedisCacheConfiguration.defaultCacheConfig()\r\n                .entryTtl(Duration.ofDays(90));\r\n\r\n        return RedisCacheManager.RedisCacheManagerBuilder\r\n                .fromConnectionFactory(redisConnectionFactory)\r\n                .cacheDefaults(defaultConfiguration)\r\n                .build();\r\n    }\r\n\r\n    @Bean(&quot;shortLifeCacheManager&quot;)\r\n    @Primary\r\n    public CacheManager shortLifeCacheManager(\r\n        RedisConnectionFactory redisConnectionFactory\r\n    ) {\r\n        RedisCacheConfiguration defaultConfiguration = RedisCacheConfiguration.defaultCacheConfig()\r\n                .entryTtl(Duration.ofDays(1));\r\n\r\n        return RedisCacheManager.RedisCacheManagerBuilder\r\n                .fromConnectionFactory(redisConnectionFactory)\r\n                .cacheDefaults(defaultConfiguration)\r\n                .build();\r\n    }\r\n\r\n}\r\n```\r\n\r\nand `DefaultCacheErrorHandler` class for exception handlings\r\n\r\n```java\r\npublic class DefaultCacheErrorHandler extends SimpleCacheErrorHandler {\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(DefaultCacheErrorHandler.class);\r\n\r\n    @Override\r\n    public void handleCacheGetError(\r\n        @NotNull RuntimeException exception,\r\n        @NotNull Cache cache,\r\n        @NotNull Object key\r\n    ) {\r\n        LOG.info(\r\n            &quot;handleCacheGetError ~ {}: {} - {}&quot;,\r\n            exception.getMessage(),\r\n            cache.getName(),\r\n            key\r\n        );\r\n    }\r\n\r\n    @Override\r\n    public void handleCachePutError(\r\n        @NotNull RuntimeException exception,\r\n        @NotNull Cache cache,\r\n        @NotNull Object key,\r\n        Object value\r\n    ) {\r\n        LOG.info(\r\n            &quot;handleCachePutError ~ {}: {} - {}&quot;,\r\n            exception.getMessage(),\r\n            cache.getName(),\r\n            key\r\n        );\r\n        super.handleCachePutError(exception, cache, key, value);\r\n    }\r\n\r\n    @Override\r\n    public void handleCacheEvictError(\r\n        @NotNull RuntimeException exception,\r\n        @NotNull Cache cache,\r\n        @NotNull Object key\r\n    ) {\r\n        LOG.info(\r\n            &quot;handleCacheEvictError ~ {}: {} - {}&quot;,\r\n            exception.getMessage(),\r\n            cache.getName(),\r\n            key\r\n        );\r\n        super.handleCacheEvictError(exception, cache, key);\r\n    }\r\n\r\n    @Override\r\n    public void handleCacheClearError(\r\n        @NotNull RuntimeException exception,\r\n        @NotNull Cache cache\r\n    ) {\r\n        LOG.info(\r\n            &quot;handleCacheClearError ~ {}: {}&quot;,\r\n            exception.getMessage(),\r\n            cache.getName()\r\n        );\r\n        super.handleCacheClearError(exception, cache);\r\n    }\r\n}\r\n```\r\n\r\nin this case, a simple java serealizer is used. The object classes that need to be cached need to be implemented from the `Serializable` interface.\r\n\r\n```java\r\n\r\npublic class User implements Serializable {\r\n\r\n    private Long id;\r\n    provate Long name;\r\n\r\n    // getters/setters\r\n\r\n}\r\n\r\n```\r\n\r\nThe config class is standard for enabling caching via redis, except for one detail, namely the `DefaultCacheErrorHandler`. The `DefaultCacheErrorHandler` is needed in order to reset the cache **if you change the entity class** and **change the serialVersionUID** of this class accordingly. This is usually required if you are **adding** or **removing** fields from a class. By default, for some reason, spring does not delete the cache when a serialization error occurs, but throws an error that leads to the need to manually delete the necessary keys from the redis.\r\n\r\n\r\n**Additional Answers**\r\n\r\n\r\nThe problem of serializing entities to json is no longer related to the cache as such. This is an old problem that is easier to avoid and has no real solution. [link](https://stackoverflow.com/questions/3325387/infinite-recursion-with-jackson-json-and-hibernate-jpa-issue) In general, this approach lies in the plane of bad architecture. For this reason, if it is necessary to serialize data received from the database, then the most correct option would be to make an **DTO object** and fill it with data from the entity. For this reason, since caching data from the database is a common task, it is better to use standard java serialization.\r\n\r\nIt is also necessary to remember about the speed of serialization and deserialization. Often, in tasks where a lot of time is not required to process business logic, most of the time is taken just by serialization and deserialization of data from json. Unfortunately, no matter how good the Jackson library is, it needs to be remembered periodically. This question is beyond the scope of this discussion, but there are many interesting answers on this topic in the stackoverflow.\r\n\r\nPlus, you can speculate on the amount of memory that is needed to store the cache. Json, as shown by recent changes in the backend development, is well replaced by the serialization approach in the same **grpc**. This allows in some cases to significantly save in terms of information transmitted over the network, which can also save a lot of memory in terms of caching. True, I do not know how much the standard java serialization is better in this respect than json.\r\n\r\n**Summarizing**, we can say that although the data in the radis is better perceived by a person in the form of a json object. But as my experience suggests, for this task it is better to compromise than to end up with a bad architecture.","title":"Java Spring Boot Redis – How to know when is the Entity updated so i can fetch from database instead of Redis?","body":"<p>You have the wrong logic for using the annotation <code>@Cachable</code> because you are caching the entire list of users without a specific key.</p>\n<p>In other words, you need to cache a specific user, for example, by <code>id</code>.</p>\n<p>Now you have a full list of users cached with key <code>users</code>. But the entry with the <code>users:id</code> key is deleted. Therefore your cache is not evict.</p>\n<p>For the cache to work, you need to rewrite your service class in this way.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@EnableCaching\n@AllArgsConstructor\npublic class UserServiceImpl implements UserService {\n\n    private UserRepository userRepository;\n\n    @Override\n    public User createUser(User user) {\n        return userRepository.save(user);\n    }\n\n    @Override\n    @Cacheable(value = &quot;users&quot;, key = &quot;#userId&quot;)\n    public User findUser(String userId) {\n        doLongRunningTask();\n        return userRepository.findById(userId).orElseThrow();\n    }\n\n    @Override\n    public List&lt;User&gt; findAll() {\n        return (List&lt;User&gt;) userRepository.findAll();\n    }\n\n    @Override\n    @CacheEvict(value = &quot;users&quot;, key = &quot;#user.id&quot;)\n    public User updateUser(String userId, User user) {\n        doLongRunningTask();\n        user.setUpdatedAt(LocalDateTime.now());\n        return userRepository.save(user);\n    }\n\n    @Override\n    @CacheEvict(value = &quot;users&quot;, key = &quot;#userId&quot;)\n    public void deleteUser(String userId) {\n        userRepository.deleteById(userId);\n    }\n\n}\n</code></pre>\n<p>Here I moved the annotation <code>@Cacheable(value = &quot;users&quot;, key = &quot;#userId&quot;)</code> from method <code>findAll()</code> to method <code>findUser(String userId)</code>. I also corrected the annotation <code>@Cacheable</code> and added the key <code>key = &quot;#userId&quot;</code> there.</p>\n<p>Anyway, if you want to cache data in <strong>Redis</strong>. You need to avoid list caching, and only apply this approach to specific entities. You also need to pay attention to the fact that if you want to store entities in the cache, then you need to create a serial version in the entity itself.</p>\n<p>Anyway, if you want to cache data in <strong>Redis</strong>. You need to <strong>avoid list caching</strong>, and only apply this approach to specific entities. You also <strong>need to pay attention</strong> to the fact that you are serializing entities in <strong>json</strong>. It is highly discouraged to do this, because relationships such as <code>@ManyToOne</code> and <code>@OneToMany</code> can cause you to get a <strong>recursive call to these relationships at the time of serialization</strong>.</p>\n<p>Hope my answer helps you =)</p>\n<p><strong>UPDATE</strong></p>\n<p><code>CacheConfiguration</code> class for <strong>spring-boot</strong> 2.7.* version.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableCaching\n@Configuration\npublic class CacheConfiguration extends CachingConfigurerSupport {\n\n    @Bean\n    public RedisCacheConfiguration redisCacheConfiguration() {\n        return RedisCacheConfiguration.defaultCacheConfig()\n                                      .entryTtl(Duration.ofMinutes(15));\n    }\n\n    @Bean\n    @Override\n    public CacheErrorHandler errorHandler() {\n        return new DefaultCacheErrorHandler();\n    }\n\n    @Bean(&quot;longLifeCacheManager&quot;)\n    public CacheManager longLifeCacheManager(\n        RedisConnectionFactory redisConnectionFactory\n    ) {\n        RedisCacheConfiguration defaultConfiguration = RedisCacheConfiguration.defaultCacheConfig()\n                .entryTtl(Duration.ofDays(90));\n\n        return RedisCacheManager.RedisCacheManagerBuilder\n                .fromConnectionFactory(redisConnectionFactory)\n                .cacheDefaults(defaultConfiguration)\n                .build();\n    }\n\n    @Bean(&quot;shortLifeCacheManager&quot;)\n    @Primary\n    public CacheManager shortLifeCacheManager(\n        RedisConnectionFactory redisConnectionFactory\n    ) {\n        RedisCacheConfiguration defaultConfiguration = RedisCacheConfiguration.defaultCacheConfig()\n                .entryTtl(Duration.ofDays(1));\n\n        return RedisCacheManager.RedisCacheManagerBuilder\n                .fromConnectionFactory(redisConnectionFactory)\n                .cacheDefaults(defaultConfiguration)\n                .build();\n    }\n\n}\n</code></pre>\n<p>and <code>DefaultCacheErrorHandler</code> class for exception handlings</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DefaultCacheErrorHandler extends SimpleCacheErrorHandler {\n\n    private static final Logger LOG = LoggerFactory.getLogger(DefaultCacheErrorHandler.class);\n\n    @Override\n    public void handleCacheGetError(\n        @NotNull RuntimeException exception,\n        @NotNull Cache cache,\n        @NotNull Object key\n    ) {\n        LOG.info(\n            &quot;handleCacheGetError ~ {}: {} - {}&quot;,\n            exception.getMessage(),\n            cache.getName(),\n            key\n        );\n    }\n\n    @Override\n    public void handleCachePutError(\n        @NotNull RuntimeException exception,\n        @NotNull Cache cache,\n        @NotNull Object key,\n        Object value\n    ) {\n        LOG.info(\n            &quot;handleCachePutError ~ {}: {} - {}&quot;,\n            exception.getMessage(),\n            cache.getName(),\n            key\n        );\n        super.handleCachePutError(exception, cache, key, value);\n    }\n\n    @Override\n    public void handleCacheEvictError(\n        @NotNull RuntimeException exception,\n        @NotNull Cache cache,\n        @NotNull Object key\n    ) {\n        LOG.info(\n            &quot;handleCacheEvictError ~ {}: {} - {}&quot;,\n            exception.getMessage(),\n            cache.getName(),\n            key\n        );\n        super.handleCacheEvictError(exception, cache, key);\n    }\n\n    @Override\n    public void handleCacheClearError(\n        @NotNull RuntimeException exception,\n        @NotNull Cache cache\n    ) {\n        LOG.info(\n            &quot;handleCacheClearError ~ {}: {}&quot;,\n            exception.getMessage(),\n            cache.getName()\n        );\n        super.handleCacheClearError(exception, cache);\n    }\n}\n</code></pre>\n<p>in this case, a simple java serealizer is used. The object classes that need to be cached need to be implemented from the <code>Serializable</code> interface.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class User implements Serializable {\n\n    private Long id;\n    provate Long name;\n\n    // getters/setters\n\n}\n\n</code></pre>\n<p>The config class is standard for enabling caching via redis, except for one detail, namely the <code>DefaultCacheErrorHandler</code>. The <code>DefaultCacheErrorHandler</code> is needed in order to reset the cache <strong>if you change the entity class</strong> and <strong>change the serialVersionUID</strong> of this class accordingly. This is usually required if you are <strong>adding</strong> or <strong>removing</strong> fields from a class. By default, for some reason, spring does not delete the cache when a serialization error occurs, but throws an error that leads to the need to manually delete the necessary keys from the redis.</p>\n<p><strong>Additional Answers</strong></p>\n<p>The problem of serializing entities to json is no longer related to the cache as such. This is an old problem that is easier to avoid and has no real solution. <a href=\"https://stackoverflow.com/questions/3325387/infinite-recursion-with-jackson-json-and-hibernate-jpa-issue\">link</a> In general, this approach lies in the plane of bad architecture. For this reason, if it is necessary to serialize data received from the database, then the most correct option would be to make an <strong>DTO object</strong> and fill it with data from the entity. For this reason, since caching data from the database is a common task, it is better to use standard java serialization.</p>\n<p>It is also necessary to remember about the speed of serialization and deserialization. Often, in tasks where a lot of time is not required to process business logic, most of the time is taken just by serialization and deserialization of data from json. Unfortunately, no matter how good the Jackson library is, it needs to be remembered periodically. This question is beyond the scope of this discussion, but there are many interesting answers on this topic in the stackoverflow.</p>\n<p>Plus, you can speculate on the amount of memory that is needed to store the cache. Json, as shown by recent changes in the backend development, is well replaced by the serialization approach in the same <strong>grpc</strong>. This allows in some cases to significantly save in terms of information transmitted over the network, which can also save a lot of memory in terms of caching. True, I do not know how much the standard java serialization is better in this respect than json.</p>\n<p><strong>Summarizing</strong>, we can say that although the data in the radis is better perceived by a person in the form of a json object. But as my experience suggests, for this task it is better to compromise than to end up with a bad architecture.</p>\n"}],"owner":{"account_id":9051716,"reputation":586,"user_id":6741536,"accept_rate":50,"display_name":"busuu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":895,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76634634,"answer_count":1,"score":1,"last_activity_date":1688973762,"creation_date":1688634119,"question_id":76627167,"body_markdown":"I&#39;m new to redis, this might be a basic question.\r\n\r\nI use `@Cacheable()` and `@CacheEvict()` annotation. When the user gets updated, and if i fetch the user by id, it fetches the cached (outdated) data. Of course, if i were to use `@CacheEvict()` this wouldn&#39;t happen.\r\n\r\nHowever, i&#39;m confused about `@CacheEvict()`, because the results are the same as if i don&#39;t use it -- so whats the point of using it? If there is a process that takes 3 seconds to finish, then using `CacheEvict()` would also take 3 seconds.\r\n\r\nHere is my `UserServiceImpl.java` class:\r\n\r\n```java\r\npackage com.example.demo.serviceImpl;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport com.example.demo.model.User;\r\nimport com.example.demo.repository.UserRepository;\r\nimport com.example.demo.service.UserService;\r\nimport org.springframework.cache.annotation.CacheEvict;\r\nimport org.springframework.cache.annotation.Cacheable;\r\nimport org.springframework.cache.annotation.EnableCaching;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.time.LocalDateTime;\r\nimport java.util.List;\r\n\r\n@Service\r\n@EnableCaching\r\n@AllArgsConstructor\r\npublic class UserServiceImpl implements UserService {\r\n\r\n    private UserRepository userRepository;\r\n\r\n    @Override\r\n    public User createUser(User user) {\r\n        return userRepository.save(user);\r\n    }\r\n\r\n    @Override\r\n    @CacheEvict(value = &quot;users&quot;)\r\n    public User findUser(String userId) {\r\n        doLongRunningTask();\r\n        return userRepository.findById(userId).orElseThrow();\r\n    }\r\n\r\n    @Override\r\n    @Cacheable(value = &quot;users&quot;)\r\n    public List&lt;User&gt; findAll() {\r\n        return (List&lt;User&gt;) userRepository.findAll();\r\n    }\r\n\r\n    @Override\r\n    @CacheEvict(value = &quot;users&quot;, key = &quot;#user.id&quot;)\r\n    public User updateUser(String userId, User user) {\r\n        doLongRunningTask();\r\n        user.setUpdatedAt(LocalDateTime.now());\r\n        return userRepository.save(user);\r\n    }\r\n\r\n    @Override\r\n    @CacheEvict(value = &quot;users&quot;, key = &quot;#userId&quot;)\r\n    public void deleteUser(String userId) {\r\n        userRepository.deleteById(userId);\r\n    }\r\n\r\n    private void doLongRunningTask() {\r\n        try {\r\n            Thread.sleep(3000);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nMy `RedisConfig.java` class:\r\n\r\n```java\r\npackage com.example.demo.config;\r\n\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.data.redis.cache.RedisCacheConfiguration;\r\nimport org.springframework.data.redis.cache.RedisCacheManager;\r\nimport org.springframework.data.redis.connection.RedisStandaloneConfiguration;\r\nimport org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory;\r\nimport org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer;\r\n\r\nimport java.time.Duration;\r\n\r\nimport static org.springframework.data.redis.serializer.RedisSerializationContext.SerializationPair.fromSerializer;\r\n\r\n@Configuration\r\npublic class RedisConfig {\r\n\r\n    @Value(&quot;${redis.host}&quot;)\r\n    private String redisHost;\r\n\r\n    @Value(&quot;${redis.port}&quot;)\r\n    private int redisPort;\r\n\r\n    @Bean\r\n    public LettuceConnectionFactory redisConnectionFactory() {\r\n        RedisStandaloneConfiguration configuration = new RedisStandaloneConfiguration();\r\n        configuration.setHostName(redisHost);\r\n        configuration.setPort(redisPort);\r\n        return new LettuceConnectionFactory(configuration);\r\n    }\r\n\r\n    @Bean\r\n    public RedisCacheManager cacheManager() {\r\n        RedisCacheConfiguration cacheConfig = myDefaultCacheConfig(Duration.ofMinutes(10)).disableCachingNullValues();\r\n\r\n        return RedisCacheManager\r\n                .builder(redisConnectionFactory())\r\n                .cacheDefaults(cacheConfig)\r\n                .withCacheConfiguration(&quot;users&quot;, myDefaultCacheConfig(Duration.ofMinutes(5)))\r\n                .build();\r\n    }\r\n\r\n    private RedisCacheConfiguration myDefaultCacheConfig(Duration duration) {\r\n        return RedisCacheConfiguration\r\n                .defaultCacheConfig()\r\n                .entryTtl(duration)\r\n                .serializeValuesWith(fromSerializer(new GenericJackson2JsonRedisSerializer()));\r\n    }\r\n\r\n}\r\n```\r\n\r\nFetching data for the first time takes 3 seconds. Fetching the same data next time takes 5 ms (this time gets pulled from Redis instead of postgres). However updating this user and fetching it again, gives outdated data instead of the newly updated user, causing data inconsistencies.\r\n\r\n**UPDATE:** this is my `model/User.java` model class\r\n\r\n```java\r\npackage com.example.demo.model;\r\n\r\nimport lombok.*;\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.redis.core.RedisHash;\r\n\r\n@Data\r\n@Builder\r\n@RedisHash(&quot;user&quot;)\r\npublic class User {\r\n\r\n    @Id\r\n    private String id;\r\n    private String name;\r\n    private Integer age;\r\n\r\n}\r\n```\r\n\r\nI also have `dto/UserDTO.java` for converting the model into a REST response/request via API:\r\n\r\n```java\r\npackage com.example.demo.dto;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\nimport java.io.Serializable;\r\n\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class UserDTO implements Serializable {\r\n\r\n    @JsonProperty(value = &quot;id&quot;)\r\n    private String id;\r\n\r\n    @JsonProperty(value = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @JsonProperty(value = &quot;age&quot;)\r\n    private Integer age;\r\n\r\n}\r\n```\r\n\r\nThanks to @Max Kozlov this DTO class is now a `Serializable` so that Redis Cache can work properly.\r\n\r\nThe new `RedisCacheConfig.java` thanks to @Max Kozlov&#39;s answer looks like this:\r\n\r\n```java\r\npackage com.example.demo.config;\r\n\r\nimport com.example.demo.handler.DefaultCacheErrorHandler;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.cache.CacheManager;\r\nimport org.springframework.cache.annotation.CachingConfigurer;\r\nimport org.springframework.cache.annotation.EnableCaching;\r\nimport org.springframework.cache.interceptor.CacheErrorHandler;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Primary;\r\nimport org.springframework.data.redis.cache.RedisCacheConfiguration;\r\nimport org.springframework.data.redis.cache.RedisCacheManager;\r\nimport org.springframework.data.redis.connection.RedisConnectionFactory;\r\nimport org.springframework.data.redis.connection.RedisStandaloneConfiguration;\r\nimport org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory;\r\n\r\nimport java.time.Duration;\r\n\r\n@Configuration\r\n@EnableCaching\r\npublic class RedisCacheConfig implements CachingConfigurer {\r\n\r\n    @Value(&quot;${redis.host}&quot;)\r\n    private String redisHost;\r\n\r\n    @Value(&quot;${redis.port}&quot;)\r\n    private int redisPort;\r\n\r\n    @Bean\r\n    public LettuceConnectionFactory redisConnectionFactory() {\r\n        RedisStandaloneConfiguration configuration = new RedisStandaloneConfiguration();\r\n        configuration.setHostName(redisHost);\r\n        configuration.setPort(redisPort);\r\n        return new LettuceConnectionFactory(configuration);\r\n    }\r\n\r\n    @Bean\r\n    public RedisCacheConfiguration redisCacheConfiguration() {\r\n        return RedisCacheConfiguration\r\n                .defaultCacheConfig()\r\n                .entryTtl(Duration.ofMinutes(15));\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    public CacheErrorHandler errorHandler() {\r\n        return new DefaultCacheErrorHandler();\r\n    }\r\n\r\n    @Bean(&quot;longLifeCacheManager&quot;)\r\n    public CacheManager longLifeCacheManager() {\r\n        RedisCacheConfiguration defaultConfiguration = RedisCacheConfiguration\r\n                .defaultCacheConfig()\r\n                .entryTtl(Duration.ofDays(90));\r\n\r\n        return RedisCacheManager\r\n                .RedisCacheManagerBuilder\r\n                .fromConnectionFactory(redisConnectionFactory())\r\n                .cacheDefaults(defaultConfiguration)\r\n                .build();\r\n    }\r\n\r\n    @Primary\r\n    @Bean(&quot;shortLifeCacheManager&quot;)\r\n    public CacheManager shortLifeCacheManager() {\r\n        RedisCacheConfiguration defaultConfiguration = RedisCacheConfiguration\r\n                .defaultCacheConfig()\r\n                .entryTtl(Duration.ofDays(1));\r\n\r\n        return RedisCacheManager\r\n                .RedisCacheManagerBuilder\r\n                .fromConnectionFactory(redisConnectionFactory())\r\n                .cacheDefaults(defaultConfiguration)\r\n                .build();\r\n    }\r\n\r\n}\r\n```","title":"Java Spring Boot Redis – How to know when is the Entity updated so i can fetch from database instead of Redis?","body":"<p>I'm new to redis, this might be a basic question.</p>\n<p>I use <code>@Cacheable()</code> and <code>@CacheEvict()</code> annotation. When the user gets updated, and if i fetch the user by id, it fetches the cached (outdated) data. Of course, if i were to use <code>@CacheEvict()</code> this wouldn't happen.</p>\n<p>However, i'm confused about <code>@CacheEvict()</code>, because the results are the same as if i don't use it -- so whats the point of using it? If there is a process that takes 3 seconds to finish, then using <code>CacheEvict()</code> would also take 3 seconds.</p>\n<p>Here is my <code>UserServiceImpl.java</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo.serviceImpl;\n\nimport lombok.AllArgsConstructor;\nimport com.example.demo.model.User;\nimport com.example.demo.repository.UserRepository;\nimport com.example.demo.service.UserService;\nimport org.springframework.cache.annotation.CacheEvict;\nimport org.springframework.cache.annotation.Cacheable;\nimport org.springframework.cache.annotation.EnableCaching;\nimport org.springframework.stereotype.Service;\n\nimport java.time.LocalDateTime;\nimport java.util.List;\n\n@Service\n@EnableCaching\n@AllArgsConstructor\npublic class UserServiceImpl implements UserService {\n\n    private UserRepository userRepository;\n\n    @Override\n    public User createUser(User user) {\n        return userRepository.save(user);\n    }\n\n    @Override\n    @CacheEvict(value = &quot;users&quot;)\n    public User findUser(String userId) {\n        doLongRunningTask();\n        return userRepository.findById(userId).orElseThrow();\n    }\n\n    @Override\n    @Cacheable(value = &quot;users&quot;)\n    public List&lt;User&gt; findAll() {\n        return (List&lt;User&gt;) userRepository.findAll();\n    }\n\n    @Override\n    @CacheEvict(value = &quot;users&quot;, key = &quot;#user.id&quot;)\n    public User updateUser(String userId, User user) {\n        doLongRunningTask();\n        user.setUpdatedAt(LocalDateTime.now());\n        return userRepository.save(user);\n    }\n\n    @Override\n    @CacheEvict(value = &quot;users&quot;, key = &quot;#userId&quot;)\n    public void deleteUser(String userId) {\n        userRepository.deleteById(userId);\n    }\n\n    private void doLongRunningTask() {\n        try {\n            Thread.sleep(3000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n<p>My <code>RedisConfig.java</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo.config;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.redis.cache.RedisCacheConfiguration;\nimport org.springframework.data.redis.cache.RedisCacheManager;\nimport org.springframework.data.redis.connection.RedisStandaloneConfiguration;\nimport org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory;\nimport org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer;\n\nimport java.time.Duration;\n\nimport static org.springframework.data.redis.serializer.RedisSerializationContext.SerializationPair.fromSerializer;\n\n@Configuration\npublic class RedisConfig {\n\n    @Value(&quot;${redis.host}&quot;)\n    private String redisHost;\n\n    @Value(&quot;${redis.port}&quot;)\n    private int redisPort;\n\n    @Bean\n    public LettuceConnectionFactory redisConnectionFactory() {\n        RedisStandaloneConfiguration configuration = new RedisStandaloneConfiguration();\n        configuration.setHostName(redisHost);\n        configuration.setPort(redisPort);\n        return new LettuceConnectionFactory(configuration);\n    }\n\n    @Bean\n    public RedisCacheManager cacheManager() {\n        RedisCacheConfiguration cacheConfig = myDefaultCacheConfig(Duration.ofMinutes(10)).disableCachingNullValues();\n\n        return RedisCacheManager\n                .builder(redisConnectionFactory())\n                .cacheDefaults(cacheConfig)\n                .withCacheConfiguration(&quot;users&quot;, myDefaultCacheConfig(Duration.ofMinutes(5)))\n                .build();\n    }\n\n    private RedisCacheConfiguration myDefaultCacheConfig(Duration duration) {\n        return RedisCacheConfiguration\n                .defaultCacheConfig()\n                .entryTtl(duration)\n                .serializeValuesWith(fromSerializer(new GenericJackson2JsonRedisSerializer()));\n    }\n\n}\n</code></pre>\n<p>Fetching data for the first time takes 3 seconds. Fetching the same data next time takes 5 ms (this time gets pulled from Redis instead of postgres). However updating this user and fetching it again, gives outdated data instead of the newly updated user, causing data inconsistencies.</p>\n<p><strong>UPDATE:</strong> this is my <code>model/User.java</code> model class</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo.model;\n\nimport lombok.*;\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.redis.core.RedisHash;\n\n@Data\n@Builder\n@RedisHash(&quot;user&quot;)\npublic class User {\n\n    @Id\n    private String id;\n    private String name;\n    private Integer age;\n\n}\n</code></pre>\n<p>I also have <code>dto/UserDTO.java</code> for converting the model into a REST response/request via API:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo.dto;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport java.io.Serializable;\n\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class UserDTO implements Serializable {\n\n    @JsonProperty(value = &quot;id&quot;)\n    private String id;\n\n    @JsonProperty(value = &quot;name&quot;)\n    private String name;\n\n    @JsonProperty(value = &quot;age&quot;)\n    private Integer age;\n\n}\n</code></pre>\n<p>Thanks to @Max Kozlov this DTO class is now a <code>Serializable</code> so that Redis Cache can work properly.</p>\n<p>The new <code>RedisCacheConfig.java</code> thanks to @Max Kozlov's answer looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo.config;\n\nimport com.example.demo.handler.DefaultCacheErrorHandler;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.cache.CacheManager;\nimport org.springframework.cache.annotation.CachingConfigurer;\nimport org.springframework.cache.annotation.EnableCaching;\nimport org.springframework.cache.interceptor.CacheErrorHandler;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Primary;\nimport org.springframework.data.redis.cache.RedisCacheConfiguration;\nimport org.springframework.data.redis.cache.RedisCacheManager;\nimport org.springframework.data.redis.connection.RedisConnectionFactory;\nimport org.springframework.data.redis.connection.RedisStandaloneConfiguration;\nimport org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory;\n\nimport java.time.Duration;\n\n@Configuration\n@EnableCaching\npublic class RedisCacheConfig implements CachingConfigurer {\n\n    @Value(&quot;${redis.host}&quot;)\n    private String redisHost;\n\n    @Value(&quot;${redis.port}&quot;)\n    private int redisPort;\n\n    @Bean\n    public LettuceConnectionFactory redisConnectionFactory() {\n        RedisStandaloneConfiguration configuration = new RedisStandaloneConfiguration();\n        configuration.setHostName(redisHost);\n        configuration.setPort(redisPort);\n        return new LettuceConnectionFactory(configuration);\n    }\n\n    @Bean\n    public RedisCacheConfiguration redisCacheConfiguration() {\n        return RedisCacheConfiguration\n                .defaultCacheConfig()\n                .entryTtl(Duration.ofMinutes(15));\n    }\n\n    @Bean\n    @Override\n    public CacheErrorHandler errorHandler() {\n        return new DefaultCacheErrorHandler();\n    }\n\n    @Bean(&quot;longLifeCacheManager&quot;)\n    public CacheManager longLifeCacheManager() {\n        RedisCacheConfiguration defaultConfiguration = RedisCacheConfiguration\n                .defaultCacheConfig()\n                .entryTtl(Duration.ofDays(90));\n\n        return RedisCacheManager\n                .RedisCacheManagerBuilder\n                .fromConnectionFactory(redisConnectionFactory())\n                .cacheDefaults(defaultConfiguration)\n                .build();\n    }\n\n    @Primary\n    @Bean(&quot;shortLifeCacheManager&quot;)\n    public CacheManager shortLifeCacheManager() {\n        RedisCacheConfiguration defaultConfiguration = RedisCacheConfiguration\n                .defaultCacheConfig()\n                .entryTtl(Duration.ofDays(1));\n\n        return RedisCacheManager\n                .RedisCacheManagerBuilder\n                .fromConnectionFactory(redisConnectionFactory())\n                .cacheDefaults(defaultConfiguration)\n                .build();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","javax.imageio"],"comments":[{"owner":{"account_id":6379952,"reputation":3111,"user_id":4949750,"display_name":"Amongalen"},"score":0,"creation_date":1575891373,"post_id":59247899,"comment_id":104705938,"body_markdown":"Does this answer your question? [java.lang.IllegalArgumentException: input == null! when using ImageIO.read to load image as bufferedImage](https://stackoverflow.com/questions/15424834/java-lang-illegalargumentexception-input-null-when-using-imageio-read-to-lo)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/15424834/java-lang-illegalargumentexception-input-null-when-using-imageio-read-to-lo\">java.lang.IllegalArgumentException: input == null! when using ImageIO.read to load image as bufferedImage</a>"},{"owner":{"display_name":"user10963134"},"score":0,"creation_date":1575891598,"post_id":59247899,"comment_id":104706048,"body_markdown":"@Amongalen could you suggest an example for usage?","body":"@Amongalen could you suggest an example for usage?"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1575917222,"post_id":59247899,"comment_id":104719343,"body_markdown":"Not related to your problem, but you really should not do things like `new String(&quot;C:\\\\Users\\\\frogwine\\\\Desktop\\\\P1.png&quot;)`, literals enclosed in double quotes are already strings, so no need to create another copy of it. You may also want to familiarize yourself with common Java coding conventions, because snake_case is not commonly used in Java, making your code harder to read for Java programmers.","body":"Not related to your problem, but you really should not do things like <code>new String(&quot;C:\\\\Users\\\\frogwine\\\\Desktop\\\\P1.png&quot;)</code>, literals enclosed in double quotes are already strings, so no need to create another copy of it. You may also want to familiarize yourself with common Java coding conventions, because snake_case is not commonly used in Java, making your code harder to read for Java programmers."}],"answers":[{"tags":[],"owner":{"account_id":1528686,"reputation":12048,"user_id":1426469,"accept_rate":12,"display_name":"Leo Aso"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1575891786,"creation_date":1575891786,"answer_id":59248175,"question_id":59247899,"body_markdown":"Well that&#39;s no surprise. From the [ImageIO.read][1] documentation:\r\n\r\n&gt; If no registered ImageReader claims to be able to read the resulting\r\n&gt; stream, null is returned.\r\n\r\nWriting random bytes to an array is not going to create valid image data in any format, because image formats have a standard structure that consists, at the very least, of a header. For this reason, `ImageIO.read` returns null.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/javax/imageio/ImageIO.html#read(java.io.InputStream)","title":"Exception &quot;java.lang.IllegalArgumentException: image == null!&quot; in ImageIO","body":"<p>Well that's no surprise. From the <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/imageio/ImageIO.html#read(java.io.InputStream)\" rel=\"nofollow noreferrer\">ImageIO.read</a> documentation:</p>\n\n<blockquote>\n  <p>If no registered ImageReader claims to be able to read the resulting\n  stream, null is returned.</p>\n</blockquote>\n\n<p>Writing random bytes to an array is not going to create valid image data in any format, because image formats have a standard structure that consists, at the very least, of a header. For this reason, <code>ImageIO.read</code> returns null.</p>\n"},{"tags":[],"owner":{"account_id":425670,"reputation":2681,"user_id":806407,"accept_rate":78,"display_name":"lakshman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575892298,"creation_date":1575892298,"answer_id":59248349,"question_id":59247899,"body_markdown":"As Leo also mentioned just passing random bytes to ImageIO.read method, you cannot get a random image. You will get null image and when you passed it to write method it will throw this IllegalArgumentException.\r\n\r\nInstead you can create empty image with predefined width and height and set RGB color values to get random image as below.\r\n\r\n    import javax.imageio.ImageIO;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.SecureRandom;\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            String fn = new String(&quot;C:\\\\Users\\\\frogwine\\\\Desktop\\\\P1.png&quot;);\r\n            ImageIO.write(generateRandomImage(300) , &quot;png&quot;, new File(fn) );\r\n        }\r\n    \r\n    \r\n        public static BufferedImage generateRandomImage(int numOfPixels) {\r\n            final double ASPECT_RATIO = 4.0 / 3.0;\r\n            int width = 0;\r\n            int height = 0;\r\n            byte[] rgbValue = new byte[3];\r\n            BufferedImage image = null;\r\n            SecureRandom random = null;\r\n    \r\n            try {\r\n                random = SecureRandom.getInstance(&quot;SHA1PRNG&quot;);\r\n    \r\n                width = (int) Math.ceil(Math.sqrt(numOfPixels * ASPECT_RATIO));\r\n                height = (int) Math.ceil(numOfPixels / (double) width);\r\n    \r\n                image = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\r\n                for (int x = 0; x &lt; width; x++) {\r\n                    for (int y = 0; y &lt; height; y++) {\r\n                        random.nextBytes(rgbValue);\r\n                        image.setRGB(x, y,\r\n                                byteToInt(rgbValue[0]) + (byteToInt(rgbValue[1]) &lt;&lt; 8) + (byteToInt(rgbValue[2]) &lt;&lt; 16));\r\n                    }\r\n                }\r\n    \r\n                return image;\r\n            } catch (NoSuchAlgorithmException nsaEx) {\r\n                nsaEx.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        public static int byteToInt(int b) {\r\n            int i = b;\r\n            if (i &lt; 0) {\r\n                i = i + 256;\r\n            }\r\n            return i;\r\n        }\r\n\r\n","title":"Exception &quot;java.lang.IllegalArgumentException: image == null!&quot; in ImageIO","body":"<p>As Leo also mentioned just passing random bytes to ImageIO.read method, you cannot get a random image. You will get null image and when you passed it to write method it will throw this IllegalArgumentException.</p>\n\n<p>Instead you can create empty image with predefined width and height and set RGB color values to get random image as below.</p>\n\n<pre><code>import javax.imageio.ImageIO;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.SecureRandom;\npublic class Main {\n\n    public static void main(String[] args) throws IOException {\n        String fn = new String(\"C:\\\\Users\\\\frogwine\\\\Desktop\\\\P1.png\");\n        ImageIO.write(generateRandomImage(300) , \"png\", new File(fn) );\n    }\n\n\n    public static BufferedImage generateRandomImage(int numOfPixels) {\n        final double ASPECT_RATIO = 4.0 / 3.0;\n        int width = 0;\n        int height = 0;\n        byte[] rgbValue = new byte[3];\n        BufferedImage image = null;\n        SecureRandom random = null;\n\n        try {\n            random = SecureRandom.getInstance(\"SHA1PRNG\");\n\n            width = (int) Math.ceil(Math.sqrt(numOfPixels * ASPECT_RATIO));\n            height = (int) Math.ceil(numOfPixels / (double) width);\n\n            image = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\n            for (int x = 0; x &lt; width; x++) {\n                for (int y = 0; y &lt; height; y++) {\n                    random.nextBytes(rgbValue);\n                    image.setRGB(x, y,\n                            byteToInt(rgbValue[0]) + (byteToInt(rgbValue[1]) &lt;&lt; 8) + (byteToInt(rgbValue[2]) &lt;&lt; 16));\n                }\n            }\n\n            return image;\n        } catch (NoSuchAlgorithmException nsaEx) {\n            nsaEx.printStackTrace();\n        }\n        return null;\n    }\n\n    public static int byteToInt(int b) {\n        int i = b;\n        if (i &lt; 0) {\n            i = i + 256;\n        }\n        return i;\n    }\n</code></pre>\n"}],"owner":{"display_name":"user10963134"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5736,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59248175,"answer_count":2,"score":1,"last_activity_date":1688973750,"creation_date":1575890818,"question_id":59247899,"body_markdown":"I&#39;m trying to write a `png` file from a bytes array. \r\n\r\nMy application is throwing the following exception `&quot;java.lang.IllegalArgumentException: image == null!&quot; in ImageIO`  \r\n\r\nI tested my solution using a random bytes array as you can see in the code snippet below, but the exception still being thrown.\r\n\r\nCan you help me to identify why is it being thrown ?\r\n\r\n```java\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.Random;\r\n    import javax.imageio.ImageIO;\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            String fn = new String(&quot;C:\\\\Users\\\\frogwine\\\\Desktop\\\\P1.png&quot;);\r\n    \r\n            byte [] data = new byte[256];\r\n    \r\n            Random r = new Random();\r\n            r.nextBytes(data);\r\n            ByteArrayInputStream bis = new ByteArrayInputStream(data);\r\n            ByteArrayInputStream input_stream= new ByteArrayInputStream(data);\r\n            BufferedImage final_buffered_image = ImageIO.read(input_stream);\r\n            ImageIO.write(final_buffered_image , &quot;png&quot;, new File(fn) );\r\n        }\r\n    \r\n    \r\n    }\r\n```\r\n\r\nStacktrace:\r\n\r\n```\r\n    &quot;C:\\Program Files\\Java\\jdk-13.0.1\\bin\\java.exe&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2019.3\\lib\\idea_rt.jar=57315:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2019.3\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\Users\\frogwine\\Documents\\deneme\\out\\production\\deneme com.berk.Main\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: image == null!\r\n    \tat java.desktop/javax.imageio.ImageTypeSpecifier.createFromRenderedImage(ImageTypeSpecifier.java:925)\r\n    \tat java.desktop/javax.imageio.ImageIO.getWriter(ImageIO.java:1608)\r\n    \tat java.desktop/javax.imageio.ImageIO.write(ImageIO.java:1540)\r\n    \tat com.berk.Main.main(Main.java:23)\r\n    \r\n    Process finished with exit code 1\r\n```","title":"Exception &quot;java.lang.IllegalArgumentException: image == null!&quot; in ImageIO","body":"<p>I'm trying to write a <code>png</code> file from a bytes array. </p>\n\n<p>My application is throwing the following exception <code>\"java.lang.IllegalArgumentException: image == null!\" in ImageIO</code>  </p>\n\n<p>I tested my solution using a random bytes array as you can see in the code snippet below, but the exception still being thrown.</p>\n\n<p>Can you help me to identify why is it being thrown ?</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    import java.io.ByteArrayOutputStream;\n    import java.io.File;\n    import java.io.IOException;\n    import java.util.Random;\n    import javax.imageio.ImageIO;\n    public class Main {\n\n        public static void main(String[] args) throws IOException {\n            String fn = new String(\"C:\\\\Users\\\\frogwine\\\\Desktop\\\\P1.png\");\n\n            byte [] data = new byte[256];\n\n            Random r = new Random();\n            r.nextBytes(data);\n            ByteArrayInputStream bis = new ByteArrayInputStream(data);\n            ByteArrayInputStream input_stream= new ByteArrayInputStream(data);\n            BufferedImage final_buffered_image = ImageIO.read(input_stream);\n            ImageIO.write(final_buffered_image , \"png\", new File(fn) );\n        }\n\n\n    }\n</code></pre>\n\n<p>Stacktrace:</p>\n\n<pre><code>    \"C:\\Program Files\\Java\\jdk-13.0.1\\bin\\java.exe\" \"-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2019.3\\lib\\idea_rt.jar=57315:C:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2019.3\\bin\" -Dfile.encoding=UTF-8 -classpath C:\\Users\\frogwine\\Documents\\deneme\\out\\production\\deneme com.berk.Main\n    Exception in thread \"main\" java.lang.IllegalArgumentException: image == null!\n        at java.desktop/javax.imageio.ImageTypeSpecifier.createFromRenderedImage(ImageTypeSpecifier.java:925)\n        at java.desktop/javax.imageio.ImageIO.getWriter(ImageIO.java:1608)\n        at java.desktop/javax.imageio.ImageIO.write(ImageIO.java:1540)\n        at com.berk.Main.main(Main.java:23)\n\n    Process finished with exit code 1\n</code></pre>\n"},{"tags":["java","image"],"comments":[{"owner":{"account_id":3595277,"reputation":44016,"user_id":3000206,"accept_rate":98,"display_name":"Carcigenicate"},"score":0,"creation_date":1485609560,"post_id":41910232,"comment_id":71001642,"body_markdown":"Evidently your image is becoming null at some point. Debug to find out why.","body":"Evidently your image is becoming null at some point. Debug to find out why."},{"owner":{"account_id":3595277,"reputation":44016,"user_id":3000206,"accept_rate":98,"display_name":"Carcigenicate"},"score":1,"creation_date":1485609608,"post_id":41910232,"comment_id":71001654,"body_markdown":"Also, your second line doesn&#39;t do anything since you immediately overwrite the reference with `read`.","body":"Also, your second line doesn&#39;t do anything since you immediately overwrite the reference with <code>read</code>."},{"owner":{"account_id":9819765,"reputation":2769,"user_id":7274990,"display_name":"Calculator"},"score":0,"creation_date":1485610011,"post_id":41910232,"comment_id":71001769,"body_markdown":"Looks like no registered `ImageReader` is able to read your `bais`-stream.","body":"Looks like no registered <code>ImageReader</code> is able to read your <code>bais</code>-stream."}],"answers":[{"tags":[],"owner":{"account_id":9685245,"reputation":9521,"user_id":7185318,"accept_rate":88,"display_name":"Luatic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1485616750,"creation_date":1485616750,"answer_id":41911406,"question_id":41910232,"body_markdown":"As one comment shows, ImageIO probably isnt able to read a `ByteInputStream`. Or, probably, your array cant be converted to a `ByteInputStream`. So this returns null. Try : \r\n\r\n    System.out.println(bais==null);\r\n\r\nIf this prints `true`, you can : \r\n\r\n * a) look for another way to convert your array into a `BufferedImage` \r\n\r\n   For this, I would suggest to define width and height for your `BufferedImage` : \r\n\r\n        finale=new BufferedImage(width, height, BufferedImage.TYPE_3BYTE_BGR);\r\n\r\n   Then, fill it with the points from your array : \r\n\r\n        for (int x = 0 ; x &lt; width ; x=x+1) {\r\n            for (int y = 0 ; y &lt; height ; y=y+1) {\r\n                finale.setRGB(x,y,arr[y*w+x]);\r\n            }\r\n        }\r\n\r\n   If its an int array...\r\n\r\n * b) Check if ImageIO can handle your `ByteInputStream`.\r\n\r\n   * Try this : `InputStream bais = new ByteArrayInputStream(arr);`\r\n\r\nHope it helps you !\r\n","title":"Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: image == null","body":"<p>As one comment shows, ImageIO probably isnt able to read a <code>ByteInputStream</code>. Or, probably, your array cant be converted to a <code>ByteInputStream</code>. So this returns null. Try : </p>\n\n<pre><code>System.out.println(bais==null);\n</code></pre>\n\n<p>If this prints <code>true</code>, you can : </p>\n\n<ul>\n<li><p>a) look for another way to convert your array into a <code>BufferedImage</code> </p>\n\n<p>For this, I would suggest to define width and height for your <code>BufferedImage</code> : </p>\n\n<pre><code>finale=new BufferedImage(width, height, BufferedImage.TYPE_3BYTE_BGR);\n</code></pre>\n\n<p>Then, fill it with the points from your array : </p>\n\n<pre><code>for (int x = 0 ; x &lt; width ; x=x+1) {\n    for (int y = 0 ; y &lt; height ; y=y+1) {\n        finale.setRGB(x,y,arr[y*w+x]);\n    }\n}\n</code></pre>\n\n<p>If its an int array...</p></li>\n<li><p>b) Check if ImageIO can handle your <code>ByteInputStream</code>.</p>\n\n<ul>\n<li>Try this : <code>InputStream bais = new ByteArrayInputStream(arr);</code></li>\n</ul></li>\n</ul>\n\n<p>Hope it helps you !</p>\n"},{"tags":[],"owner":{"account_id":12211707,"reputation":367,"user_id":8913302,"display_name":"Johan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688973683,"creation_date":1688973683,"answer_id":76651508,"question_id":41910232,"body_markdown":"Had the same error. Not sure what the root cause is. Resolved after the image was edited using Paint.","title":"Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: image == null","body":"<p>Had the same error. Not sure what the root cause is. Resolved after the image was edited using Paint.</p>\n"}],"owner":{"account_id":9936771,"reputation":183,"user_id":7354852,"accept_rate":50,"display_name":"sam fisher"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2618,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688973683,"creation_date":1485609448,"question_id":41910232,"body_markdown":"i used this code to convert an array of bits to bufferedimage but its giving an error \r\n   \r\n \r\n\r\n     ByteArrayInputStream bais = new ByteArrayInputStream(arr);      \r\n      BufferedImage finale=new BufferedImage(img.getWidth(), img.getHeight(), BufferedImage.TYPE_3BYTE_BGR);\r\n    \r\n      finale=ImageIO.read(bais);\r\n      File outputfile = new File(&quot;C:\\\\Users\\\\Divya Prakash\\\\Desktop\\\\image32.jpg&quot;);\r\n      ImageIO.write(finale, &quot;jpg&quot;, outputfile);\r\n\r\n\r\n\r\nerror\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: image == null!\r\n    \tat javax.imageio.ImageTypeSpecifier.createFromRenderedImage(ImageTypeSpecifier.java:925)\r\n    \tat javax.imageio.ImageIO.getWriter(ImageIO.java:1592)\r\n    \tat javax.imageio.ImageIO.write(ImageIO.java:1520)\r\n    \tat imgpros.Imgpros.main(Imgpros.java:113)\r\n    Java Result: 1\r\n\r\nhow can i remove the error?\r\n","title":"Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: image == null","body":"<p>i used this code to convert an array of bits to bufferedimage but its giving an error </p>\n\n<pre><code> ByteArrayInputStream bais = new ByteArrayInputStream(arr);      \n  BufferedImage finale=new BufferedImage(img.getWidth(), img.getHeight(), BufferedImage.TYPE_3BYTE_BGR);\n\n  finale=ImageIO.read(bais);\n  File outputfile = new File(\"C:\\\\Users\\\\Divya Prakash\\\\Desktop\\\\image32.jpg\");\n  ImageIO.write(finale, \"jpg\", outputfile);\n</code></pre>\n\n<p>error</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalArgumentException: image == null!\n    at javax.imageio.ImageTypeSpecifier.createFromRenderedImage(ImageTypeSpecifier.java:925)\n    at javax.imageio.ImageIO.getWriter(ImageIO.java:1592)\n    at javax.imageio.ImageIO.write(ImageIO.java:1520)\n    at imgpros.Imgpros.main(Imgpros.java:113)\nJava Result: 1\n</code></pre>\n\n<p>how can i remove the error?</p>\n"},{"tags":["java","java-8","streaming","attachment","multipart"],"owner":{"account_id":8795154,"reputation":11,"user_id":7137641,"display_name":"Arpit Goel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688973480,"creation_date":1688971145,"question_id":76651222,"body_markdown":"I am having a use case, in which my java code is accepting an input payload which in Multipart. I have to extract the attachment from it which could be of size 2GB. \r\nSince the file is very big, I have to accept it as a stream and write it out as a stream.\r\nI have written a code which is working for small files but for big files it is failing, which means streaming is not happening, Could you please help identify why streaming is not working. Thanks in advance.\r\n\r\nBelow is the Multipart input I will receive\r\n\r\n```\r\nmultipart/related; boundary=&quot;boundary123&quot;\r\n--boundary123\r\nContent-Type: text/xml; charset=UTF-8\r\nContent-Transfer-Encoding: 8bit\r\n\r\n&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n  &lt;soapenv:Body&gt;\r\n    &lt;ns:getUserDetailsResponse xmlns:ns=&quot;http://example.com&quot;&gt;\r\n      &lt;ns:return&gt;\r\n        &lt;name&gt;John Doe&lt;/name&gt;\r\n        &lt;age&gt;42&lt;/age&gt;\r\n      &lt;/ns:return&gt;\r\n    &lt;/ns:getUserDetailsResponse&gt;\r\n  &lt;/soapenv:Body&gt;\r\n&lt;/soapenv:Envelope&gt;\r\n--boundary123\r\nContent-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\nContent-Disposition: attachment; filename=&quot;output.txt&quot;\r\n\r\nYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWF==\r\n--boundary123--\r\n```\r\n\r\nThe output I expect\r\n```\r\nYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWF==\r\n```\r\n\r\nThis is the code I have written to read input stream, extract attachment and write as a output stream\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.io.PipedInputStream;\r\nimport java.io.PipedOutputStream;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\nimport javax.activation.DataSource;\r\nimport javax.mail.MessagingException;\r\nimport javax.mail.util.ByteArrayDataSource;\r\nimport javax.mail.internet.MimeBodyPart;\r\nimport javax.mail.internet.MimeMultipart;\r\n\r\npublic class AttachmentExtractor {\r\n\tpublic static InputStream extract(String message, int bufferSize) throws IOException, MessagingException {\r\n\r\n\t\tInputStream input = new ByteArrayInputStream(message.getBytes(StandardCharsets.UTF_8));\r\n\r\n\t\tPipedOutputStream attachmentOutStream = new PipedOutputStream();\r\n\t\tPipedInputStream pipedStream = new PipedInputStream(attachmentOutStream);\r\n\t\t\r\n\t\tThread newThread = new Thread(() -&gt; {\r\n\t\t\t\r\n\t\t//\tint chunkCount = 1 ;    /* only used for testing */\r\n\t\t\t\r\n\t\t\tint bytesRead;\r\n\t\t\tString boundary = null;\r\n\t\t\tboolean isFirstChunk = true;\r\n\t\t\tboolean isLastChunk = false;\r\n\t\t\t\r\n\t\t\tbyte[] buffer = new byte[bufferSize];\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\t\r\n\t\t\t\tif(input.available() &lt; 3 * bufferSize)\r\n\t\t\t\t\tbuffer = new byte[input.available()];\r\n\t\t\t\t\r\n\t\t\t\twhile ((bytesRead = input.read(buffer)) != -1) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t// System.out.println(&quot;Chunk #&quot;+chunkCount);  /* only used for testing */\r\n\r\n\t\t\t\t\tif(isFirstChunk) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tString firstChunk = new String(buffer, 0, bytesRead, StandardCharsets.UTF_8);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tPattern pattern = Pattern.compile(&quot;boundary=\\&quot;(.*)\\&quot;&quot;);\r\n\t\t\t\t\t\tMatcher matcher = pattern.matcher(firstChunk);\r\n\t\t\t\t\t\tif (matcher.find()) {\r\n\t\t\t\t\t\t\tboundary = matcher.group(1);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthrow new IllegalArgumentException(&quot;Unable to extract boundary from input stream.&quot;);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tDataSource bufferDS = new ByteArrayDataSource(firstChunk.getBytes(StandardCharsets.UTF_8), &quot;multipart/form-data&quot;);\t\r\n\t\t\t\t\t\tMimeMultipart multipart = new MimeMultipart(bufferDS);\r\n\t\t\t\t\t\tint attachmentPartIndex = multipart.getCount() - 1;\r\n\t\t\t\t\t\tMimeBodyPart attachmentPart = (MimeBodyPart) multipart.getBodyPart(attachmentPartIndex);\r\n\r\n\t\t\t\t\t\tattachmentPart.getDataHandler().writeTo(attachmentOutStream);\r\n\r\n\t\t\t\t\t\tisFirstChunk = false;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}else if (isLastChunk) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tInputStream bufferIS = new ByteArrayInputStream(buffer);\r\n\t\t\t\t\t    BufferedReader reader = new BufferedReader(new InputStreamReader(bufferIS));\r\n\t\t\t\t\t    String line;\r\n\t\t\t\t\t    while(reader.ready() &amp;&amp; (line=reader.readLine()) != null) {\r\n\t\t\t\t\t    \t\r\n\t\t\t\t\t    \tif(line.indexOf(boundary)&gt;0)\r\n\t\t\t\t\t    \t\tcontinue;\r\n\t\t\t\t\t    \t\r\n\t\t\t\t\t    \tattachmentOutStream.write(line.getBytes(StandardCharsets.UTF_8));\r\n\t\t\t\t\t    }\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}else\r\n\t\t\t\t\t\tattachmentOutStream.write(buffer);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(input.available() &lt;= bufferSize)\r\n\t\t\t\t\t\tisLastChunk = true;\r\n\t\t\t\t\t\r\n\t\t\t\t\t// chunkCount++;  /* only used for testing */\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\tattachmentOutStream.close();\r\n\t\t\t\t} catch (IOException e) { /* Output Stream already closed - can be ignored. */ }\r\n\t\t\t\t\r\n\t\t\t}catch(Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tnewThread.start();\r\n\r\n\t\treturn pipedStream;        \r\n\r\n\t}\r\n}\r\n```\r\nHere streaming is not happening as it only works for small files and gives Heap Space error once I send a big file.\r\n\r\n**Please note I can only use Java 8**","title":"Unable to extract attachment from Multipart input payload and stream it","body":"<p>I am having a use case, in which my java code is accepting an input payload which in Multipart. I have to extract the attachment from it which could be of size 2GB.\nSince the file is very big, I have to accept it as a stream and write it out as a stream.\nI have written a code which is working for small files but for big files it is failing, which means streaming is not happening, Could you please help identify why streaming is not working. Thanks in advance.</p>\n<p>Below is the Multipart input I will receive</p>\n<pre><code>multipart/related; boundary=&quot;boundary123&quot;\n--boundary123\nContent-Type: text/xml; charset=UTF-8\nContent-Transfer-Encoding: 8bit\n\n&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n  &lt;soapenv:Body&gt;\n    &lt;ns:getUserDetailsResponse xmlns:ns=&quot;http://example.com&quot;&gt;\n      &lt;ns:return&gt;\n        &lt;name&gt;John Doe&lt;/name&gt;\n        &lt;age&gt;42&lt;/age&gt;\n      &lt;/ns:return&gt;\n    &lt;/ns:getUserDetailsResponse&gt;\n  &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n--boundary123\nContent-Type: application/octet-stream\nContent-Transfer-Encoding: binary\nContent-Disposition: attachment; filename=&quot;output.txt&quot;\n\nYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWF==\n--boundary123--\n</code></pre>\n<p>The output I expect</p>\n<pre><code>YWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWF==\n</code></pre>\n<p>This is the code I have written to read input stream, extract attachment and write as a output stream</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.ByteArrayInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.PipedInputStream;\nimport java.io.PipedOutputStream;\nimport java.nio.charset.StandardCharsets;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nimport javax.activation.DataSource;\nimport javax.mail.MessagingException;\nimport javax.mail.util.ByteArrayDataSource;\nimport javax.mail.internet.MimeBodyPart;\nimport javax.mail.internet.MimeMultipart;\n\npublic class AttachmentExtractor {\n    public static InputStream extract(String message, int bufferSize) throws IOException, MessagingException {\n\n        InputStream input = new ByteArrayInputStream(message.getBytes(StandardCharsets.UTF_8));\n\n        PipedOutputStream attachmentOutStream = new PipedOutputStream();\n        PipedInputStream pipedStream = new PipedInputStream(attachmentOutStream);\n        \n        Thread newThread = new Thread(() -&gt; {\n            \n        //  int chunkCount = 1 ;    /* only used for testing */\n            \n            int bytesRead;\n            String boundary = null;\n            boolean isFirstChunk = true;\n            boolean isLastChunk = false;\n            \n            byte[] buffer = new byte[bufferSize];\n            \n            try {\n                \n                if(input.available() &lt; 3 * bufferSize)\n                    buffer = new byte[input.available()];\n                \n                while ((bytesRead = input.read(buffer)) != -1) {\n                    \n                    // System.out.println(&quot;Chunk #&quot;+chunkCount);  /* only used for testing */\n\n                    if(isFirstChunk) {\n                        \n                        String firstChunk = new String(buffer, 0, bytesRead, StandardCharsets.UTF_8);\n                        \n                        Pattern pattern = Pattern.compile(&quot;boundary=\\&quot;(.*)\\&quot;&quot;);\n                        Matcher matcher = pattern.matcher(firstChunk);\n                        if (matcher.find()) {\n                            boundary = matcher.group(1);\n                        } else {\n                            throw new IllegalArgumentException(&quot;Unable to extract boundary from input stream.&quot;);\n                        }\n\n                        DataSource bufferDS = new ByteArrayDataSource(firstChunk.getBytes(StandardCharsets.UTF_8), &quot;multipart/form-data&quot;);  \n                        MimeMultipart multipart = new MimeMultipart(bufferDS);\n                        int attachmentPartIndex = multipart.getCount() - 1;\n                        MimeBodyPart attachmentPart = (MimeBodyPart) multipart.getBodyPart(attachmentPartIndex);\n\n                        attachmentPart.getDataHandler().writeTo(attachmentOutStream);\n\n                        isFirstChunk = false;\n                        \n                    }else if (isLastChunk) {\n                        \n                        InputStream bufferIS = new ByteArrayInputStream(buffer);\n                        BufferedReader reader = new BufferedReader(new InputStreamReader(bufferIS));\n                        String line;\n                        while(reader.ready() &amp;&amp; (line=reader.readLine()) != null) {\n                            \n                            if(line.indexOf(boundary)&gt;0)\n                                continue;\n                            \n                            attachmentOutStream.write(line.getBytes(StandardCharsets.UTF_8));\n                        }\n                        \n                    }else\n                        attachmentOutStream.write(buffer);\n                    \n                    if(input.available() &lt;= bufferSize)\n                        isLastChunk = true;\n                    \n                    // chunkCount++;  /* only used for testing */\n                }\n                \n                try {\n                    attachmentOutStream.close();\n                } catch (IOException e) { /* Output Stream already closed - can be ignored. */ }\n                \n            }catch(Exception e) {\n                e.printStackTrace();\n            }\n        });\n        \n        newThread.start();\n\n        return pipedStream;        \n\n    }\n}\n</code></pre>\n<p>Here streaming is not happening as it only works for small files and gives Heap Space error once I send a big file.</p>\n<p><strong>Please note I can only use Java 8</strong></p>\n"},{"tags":["java","android","notifications","alarm","recurring"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1688922301,"post_id":76648321,"comment_id":135136337,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":11159794,"reputation":1257,"user_id":8190327,"display_name":"Abdullah Z Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688972964,"creation_date":1688972964,"answer_id":76651422,"question_id":76648321,"body_markdown":"You can use [WorkManager][1]&#39;s periodic work requests to get around using AlarmManager. It works similarly, but instead of using exact time like AlarmManager, it schedules work by intervals. You can calculate the interval between a specific moment and time of first notification, then fire the worker to start at that interval and repeat at daily intervals.\r\n\r\nFor example suppose you schedule a periodicworkrequest at 8 AM. You set initial delay to 1hr, with daily intervals. WorkManager isn&#39;t exact, so it will start the work a little after 1hr(after 9 AM). You don&#39;t need to reschedule them every time unless you want to change intervals, and you can have multiple periodic works running in unison.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/androidx/work/WorkManager","title":"Android Java Recurring notifications best practice","body":"<p>You can use <a href=\"https://developer.android.com/reference/androidx/work/WorkManager\" rel=\"nofollow noreferrer\">WorkManager</a>'s periodic work requests to get around using AlarmManager. It works similarly, but instead of using exact time like AlarmManager, it schedules work by intervals. You can calculate the interval between a specific moment and time of first notification, then fire the worker to start at that interval and repeat at daily intervals.</p>\n<p>For example suppose you schedule a periodicworkrequest at 8 AM. You set initial delay to 1hr, with daily intervals. WorkManager isn't exact, so it will start the work a little after 1hr(after 9 AM). You don't need to reschedule them every time unless you want to change intervals, and you can have multiple periodic works running in unison.</p>\n"}],"owner":{"account_id":28953804,"reputation":3,"user_id":22177775,"display_name":"theMichael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76651422,"answer_count":1,"score":0,"last_activity_date":1688972964,"creation_date":1688918094,"question_id":76648321,"body_markdown":"The feature I want to achieve is basically that I want my app to send 1-3 notifcations each day, every day, at approximate times. For example, one notification between 09:00-11:00, one between 13:00-18:00 and one between 20:00 and 22:00.\r\n\r\nI started off by trying to use setRepeating from alarmManager, I didn&#39;t get this to work at all, maybe I used it wrong. I then moved to a solution to schedule a new notification every time the app is started, or each time a notification is received.\r\n\r\nIt works somewhat, since the otification is schedule during onCreate the notifications are sent and received ok as long as I sometimes open the app. And some of them are re-scheduled properly even without opening the app. But it seems like they &quot;disappear&quot; after a while of not opening the app, as if the notifications stops getting sent. I have tried removed battery optimization, didn&#39;t resolve the issue.\r\n\r\nAre there some best practices for handling recurring notifications? I know some apps have issues with notifications not being send, for example Telegram on my phone. But some are working flawlessly, for example Duolingo.\r\n\r\nSome of the code: \r\n\r\nIn the onCreate(), I check permission (or ask permission) and then call the schedule function:\r\n\r\n```\r\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n    if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.POST_NOTIFICATIONS) != PackageManager.PERMISSION_GRANTED) {\r\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.POST_NOTIFICATIONS}, PERMISSION_REQUEST_CODE);\r\n    } else {\r\n        Notification.scheduleNotification(context);\r\n    }\r\n} else {\r\n    Notification.scheduleNotification(context);\r\n}\r\n\r\n\r\n```\r\nThe function that schedules the notification:\r\n```\r\nprivate static final int[] notificationHours = {8,15,20,22};\r\n\r\npublic static int nextAlarmHour(int currentHour) {\r\n    // Find the next alarm hour that is greater than the current hour\r\n    for (int hour : notificationHours) {\r\n        if (hour &gt; currentHour) {\r\n            return hour;\r\n         }\r\n    }\r\n\r\n    // If no alarm hour is found greater than the current hour,\r\n    // return the first alarm hour in the array (i.e., the next day)\r\n    return notificationHours[0];\r\n}\r\n\r\n\r\npublic static void scheduleNotification() {\r\n    context = MainActivity.getContext();\r\n\r\n    SharedPreferences preferences = context.getSharedPreferences(context.getString(R.string.app_name), Context.MODE_PRIVATE);\r\n    int lastScheduledHour = preferences.getInt(&quot;lastScheduledHour&quot;, -1);\r\n\r\n    Calendar calendar = Calendar.getInstance();\r\n\r\n    int currentHour = LocalTime.now().getHour();\r\n    int hour = nextAlarmHour(currentHour);\r\n\r\n    // Check if the next alarm hour is greater than or equal to the current hour\r\n    if (hour &lt;= currentHour) {\r\n        // Increment the calendar day to the next day\r\n        calendar.add(Calendar.DAY_OF_MONTH, 1);\r\n    }\r\n\r\n    // Check if the hour is the same as the last scheduled hour\r\n    if (hour == lastScheduledHour) {\r\n        // No need to schedule a duplicate alarm\r\n        return;\r\n    }\r\n    calendar.set(Calendar.HOUR_OF_DAY, hour);\r\n    calendar.set(Calendar.MINUTE, 0);\r\n    calendar.set(Calendar.SECOND, 0);\r\n\r\n    PendingIntent pendingIntent = createNotificationIntent(context);\r\n    AlarmManager alarmManager = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\r\n\r\n    if (alarmManager != null) {\r\n        alarmManager.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\r\n    }\r\n}\r\n\r\n\r\n```\r\nCreating notification channel\r\n```\r\n\r\nprivate static void createNotificationChannel(Context context) {\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n        NotificationChannel channel = new NotificationChannel(CHANNEL_ID, &quot;channelName&quot;, NotificationManager.IMPORTANCE_DEFAULT);\r\n        NotificationManager notificationManager = context.getSystemService(NotificationManager.class);\r\n        notificationManager.createNotificationChannel(channel);\r\n    }\r\n}\r\n\r\n\r\n```\r\nReceive notification, and re-schedule\r\n```\r\npublic static class MyNotificationReceiver extends BroadcastReceiver {\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        createNotificationChannel(context);\r\n\r\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(context, CHANNEL_ID)\r\n            .setSmallIcon(R.mipmap.xx)\r\n            .setContentTitle(context.getString(R.string.app_name))\r\n            .setContentText(&lt;text&gt;)\r\n            .setPriority(NotificationCompat.PRIORITY_DEFAULT)\r\n            .setAutoCancel(true)\r\n            .setContentIntent(createStartIntent(context));\r\n\r\n        NotificationManagerCompat notificationManager = NotificationManagerCompat.from(context);\r\n        try {\r\n            notificationManager.notify(NOTIFICATION_ID, builder.build());\r\n        } catch (SecurityException ignore) {\r\n        }\r\n        scheduleNotification(context);\r\n    }\r\n}\r\n```\r\n","title":"Android Java Recurring notifications best practice","body":"<p>The feature I want to achieve is basically that I want my app to send 1-3 notifcations each day, every day, at approximate times. For example, one notification between 09:00-11:00, one between 13:00-18:00 and one between 20:00 and 22:00.</p>\n<p>I started off by trying to use setRepeating from alarmManager, I didn't get this to work at all, maybe I used it wrong. I then moved to a solution to schedule a new notification every time the app is started, or each time a notification is received.</p>\n<p>It works somewhat, since the otification is schedule during onCreate the notifications are sent and received ok as long as I sometimes open the app. And some of them are re-scheduled properly even without opening the app. But it seems like they &quot;disappear&quot; after a while of not opening the app, as if the notifications stops getting sent. I have tried removed battery optimization, didn't resolve the issue.</p>\n<p>Are there some best practices for handling recurring notifications? I know some apps have issues with notifications not being send, for example Telegram on my phone. But some are working flawlessly, for example Duolingo.</p>\n<p>Some of the code:</p>\n<p>In the onCreate(), I check permission (or ask permission) and then call the schedule function:</p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n    if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.POST_NOTIFICATIONS) != PackageManager.PERMISSION_GRANTED) {\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.POST_NOTIFICATIONS}, PERMISSION_REQUEST_CODE);\n    } else {\n        Notification.scheduleNotification(context);\n    }\n} else {\n    Notification.scheduleNotification(context);\n}\n\n\n</code></pre>\n<p>The function that schedules the notification:</p>\n<pre><code>private static final int[] notificationHours = {8,15,20,22};\n\npublic static int nextAlarmHour(int currentHour) {\n    // Find the next alarm hour that is greater than the current hour\n    for (int hour : notificationHours) {\n        if (hour &gt; currentHour) {\n            return hour;\n         }\n    }\n\n    // If no alarm hour is found greater than the current hour,\n    // return the first alarm hour in the array (i.e., the next day)\n    return notificationHours[0];\n}\n\n\npublic static void scheduleNotification() {\n    context = MainActivity.getContext();\n\n    SharedPreferences preferences = context.getSharedPreferences(context.getString(R.string.app_name), Context.MODE_PRIVATE);\n    int lastScheduledHour = preferences.getInt(&quot;lastScheduledHour&quot;, -1);\n\n    Calendar calendar = Calendar.getInstance();\n\n    int currentHour = LocalTime.now().getHour();\n    int hour = nextAlarmHour(currentHour);\n\n    // Check if the next alarm hour is greater than or equal to the current hour\n    if (hour &lt;= currentHour) {\n        // Increment the calendar day to the next day\n        calendar.add(Calendar.DAY_OF_MONTH, 1);\n    }\n\n    // Check if the hour is the same as the last scheduled hour\n    if (hour == lastScheduledHour) {\n        // No need to schedule a duplicate alarm\n        return;\n    }\n    calendar.set(Calendar.HOUR_OF_DAY, hour);\n    calendar.set(Calendar.MINUTE, 0);\n    calendar.set(Calendar.SECOND, 0);\n\n    PendingIntent pendingIntent = createNotificationIntent(context);\n    AlarmManager alarmManager = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\n\n    if (alarmManager != null) {\n        alarmManager.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), pendingIntent);\n    }\n}\n\n\n</code></pre>\n<p>Creating notification channel</p>\n<pre><code>\nprivate static void createNotificationChannel(Context context) {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        NotificationChannel channel = new NotificationChannel(CHANNEL_ID, &quot;channelName&quot;, NotificationManager.IMPORTANCE_DEFAULT);\n        NotificationManager notificationManager = context.getSystemService(NotificationManager.class);\n        notificationManager.createNotificationChannel(channel);\n    }\n}\n\n\n</code></pre>\n<p>Receive notification, and re-schedule</p>\n<pre><code>public static class MyNotificationReceiver extends BroadcastReceiver {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        createNotificationChannel(context);\n\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(context, CHANNEL_ID)\n            .setSmallIcon(R.mipmap.xx)\n            .setContentTitle(context.getString(R.string.app_name))\n            .setContentText(&lt;text&gt;)\n            .setPriority(NotificationCompat.PRIORITY_DEFAULT)\n            .setAutoCancel(true)\n            .setContentIntent(createStartIntent(context));\n\n        NotificationManagerCompat notificationManager = NotificationManagerCompat.from(context);\n        try {\n            notificationManager.notify(NOTIFICATION_ID, builder.build());\n        } catch (SecurityException ignore) {\n        }\n        scheduleNotification(context);\n    }\n}\n</code></pre>\n"},{"tags":["java","entitymanager","jbpm"],"owner":{"account_id":18317706,"reputation":1,"user_id":15006009,"display_name":"Kekcoe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688972676,"creation_date":1688814556,"question_id":76642637,"body_markdown":"I test jbpm process with using JbpmJUnitBaseTestCase (jbpm-test.6.5.0.Final-redhat-7) with constructor super(true, false).\r\nSecond parametr, sessionPersistence = false but get error when invoke method kSession.startProcess  :\r\n```\r\njava.lang.RuntimeException: Could not find or create a new EntityManager!\r\n\tat org.jbpm.process.audit.JPAWorkingMemoryDbLogger.getEntityManager(JPAWorkingMemoryDbLogger.java:246)\r\n\tat org.jbpm.process.audit.JPAWorkingMemoryDbLogger.persist(JPAWorkingMemoryDbLogger.java:201)\r\n\tat org.jbpm.process.audit.JPAWorkingMemoryDbLogger.afterVariableChanged(JPAWorkingMemoryDbLogger.java:132)\r\n\tat org.drools.core.event.ProcessEventSupport.fireAfterVariableChanged(ProcessEventSupport.java:154)\r\n\tat org.jbpm.process.instance.context.variable.VariableScopeInstance.setVariable(VariableScopeInstance.java:92)\r\n\tat org.jbpm.process.instance.AbstractProcessInstanceFactory.createProcessInstance(AbstractProcessInstanceFactory.java:59)\r\n\tat org.jbpm.process.instance.ProcessRuntimeImpl.startProcess(ProcessRuntimeImpl.java:256)\r\n\tat org.jbpm.process.instance.ProcessRuntimeImpl.createProcessInstance(ProcessRuntimeImpl.java:238)\r\n\tat org.jbpm.process.instance.ProcessRuntimeImpl.createProcessInstance(ProcessRuntimeImpl.java:197)\r\n\tat org.jbpm.process.instance.ProcessRuntimeImpl.startProcess(ProcessRuntimeImpl.java:187)\r\n\tat org.jbpm.process.instance.ProcessRuntimeImpl.startProcess(ProcessRuntimeImpl.java:182)\r\n\tat org.drools.core.impl.StatefulKnowledgeSessionImpl.startProcess(StatefulKnowledgeSessionImpl.java:1901)\r\n\tat org.rshb.collection.hardcollect.plan.action.bankruptcy.propertysale.travelRestriction.TestStep1091.restrictionTest(TestStep1091.java:97).```\r\n\r\nBut if inspect  JbpmJUnitBaseTestCase we could see that just when sessionPersistence = true will invoke JPAWorkingMemoryDBLogger.\r\n\r\nthis my test: ```\r\npublic class TestStep1091 extends JbpmJUnitBaseTestCase {\r\n    private final ActionPlanItem step261091Api = new ActionPlanItem();\r\n\r\n    public TestStep1091() {\r\n        super(true, false);\r\n    }\r\n\r\n    @Before\r\n    public void setUp() throws NamingException, SystemException, NotSupportedException {\r\n        step261091Api.setName(&quot;Внести информацию о рассмотрении судом ходатайства о временном ограничении права должника на выезд из РФ&quot;);\r\n        step261091Api.setRefId(261091);\r\n    }\r\n\r\n @Test\r\n    public void restrictionTest() {\r\n        KieServices ks = KieServices.Factory.get();\r\n        KieFileSystem kfs = ks.newKieFileSystem();\r\n        // Add  BPMN files to the KieFileSystem\r\n        kfs.write(&quot;src/main/resources/hardcollect/TravelRestrictionsStep.bpmn2&quot;,\r\n                ks.getResources().newClassPathResource(&quot;org/rshb/collection/hardcollect/plan/action/bankruptcy/propertysale/travelRestrictions/TravelRestrictionsStep.bpmn2&quot;));\r\n        kfs.write(&quot;src/main/resources/hardcollect/SAVE.bpmn2&quot;,\r\n                ks.getResources().newClassPathResource(&quot;org/rshb/collection/hardcollect/common/SAVE.bpmn2&quot;));\r\n        kfs.write(&quot;src/main/resources/hardcollect/RETRIEVE.bpmn2&quot;,\r\n                ks.getResources().newClassPathResource(&quot;org/rshb/collection/hardcollect/common/RETRIEVE.bpmn2&quot;));\r\n        kfs.write(&quot;src/main/resources/hardcollect/GetDueDate.bpmn2&quot;,\r\n                ks.getResources().newClassPathResource(&quot;org/rshb/collection/hardcollect/plan/GetDueDate.bpmn2&quot;));\r\n\r\n        KieBuilder kieBuilder = ks.newKieBuilder(kfs).buildAll();\r\n        KieContainer kContainer = ks.newKieContainer(kieBuilder.getKieModule().getReleaseId());\r\n\r\n        RuntimeEnvironment environment = RuntimeEnvironmentBuilder.Factory.get()\r\n                .newDefaultBuilder()\r\n                .persistence(false)\r\n                    //   .entityManagerFactory(getEmf())\r\n                .knowledgeBase(kContainer.getKieBase())\r\n                .get();\r\n\r\n        RuntimeManager manager = RuntimeManagerFactory.Factory.get().newPerProcessInstanceRuntimeManager(environment);\r\n        RuntimeEngine runtimeEngine = manager.getRuntimeEngine(ProcessInstanceIdContext.get());\r\n        KieSession kSession = runtimeEngine.getKieSession();\r\n        try {\r\n            ProcessInstance processInstance = kSession.startProcess(&quot;hardcollect.TravelRestrictionsStep&quot;, getProcessParams());\r\n        }catch (Exception e){\r\n            System.out.println(runtimeEngine);\r\n            e.printStackTrace();\r\n        }\r\n\r\n        manager.disposeRuntimeEngine(runtimeEngine);\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nI think this could be related with default builder  .newDefaultBuilder() im RuntimeEnviroment. ","title":"How to avoid exception &quot;Could not find or create a new EntityManager!&quot; when using JbpmJUnitBaseTestCase with sessionPersistence is false","body":"<p>I test jbpm process with using JbpmJUnitBaseTestCase (jbpm-test.6.5.0.Final-redhat-7) with constructor super(true, false).\nSecond parametr, sessionPersistence = false but get error when invoke method kSession.startProcess  :</p>\n<pre><code>java.lang.RuntimeException: Could not find or create a new EntityManager!\n    at org.jbpm.process.audit.JPAWorkingMemoryDbLogger.getEntityManager(JPAWorkingMemoryDbLogger.java:246)\n    at org.jbpm.process.audit.JPAWorkingMemoryDbLogger.persist(JPAWorkingMemoryDbLogger.java:201)\n    at org.jbpm.process.audit.JPAWorkingMemoryDbLogger.afterVariableChanged(JPAWorkingMemoryDbLogger.java:132)\n    at org.drools.core.event.ProcessEventSupport.fireAfterVariableChanged(ProcessEventSupport.java:154)\n    at org.jbpm.process.instance.context.variable.VariableScopeInstance.setVariable(VariableScopeInstance.java:92)\n    at org.jbpm.process.instance.AbstractProcessInstanceFactory.createProcessInstance(AbstractProcessInstanceFactory.java:59)\n    at org.jbpm.process.instance.ProcessRuntimeImpl.startProcess(ProcessRuntimeImpl.java:256)\n    at org.jbpm.process.instance.ProcessRuntimeImpl.createProcessInstance(ProcessRuntimeImpl.java:238)\n    at org.jbpm.process.instance.ProcessRuntimeImpl.createProcessInstance(ProcessRuntimeImpl.java:197)\n    at org.jbpm.process.instance.ProcessRuntimeImpl.startProcess(ProcessRuntimeImpl.java:187)\n    at org.jbpm.process.instance.ProcessRuntimeImpl.startProcess(ProcessRuntimeImpl.java:182)\n    at org.drools.core.impl.StatefulKnowledgeSessionImpl.startProcess(StatefulKnowledgeSessionImpl.java:1901)\n    at org.rshb.collection.hardcollect.plan.action.bankruptcy.propertysale.travelRestriction.TestStep1091.restrictionTest(TestStep1091.java:97).```\n\nBut if inspect  JbpmJUnitBaseTestCase we could see that just when sessionPersistence = true will invoke JPAWorkingMemoryDBLogger.\n\nthis my test: ```\npublic class TestStep1091 extends JbpmJUnitBaseTestCase {\n    private final ActionPlanItem step261091Api = new ActionPlanItem();\n\n    public TestStep1091() {\n        super(true, false);\n    }\n\n    @Before\n    public void setUp() throws NamingException, SystemException, NotSupportedException {\n        step261091Api.setName(&quot;Внести информацию о рассмотрении судом ходатайства о временном ограничении права должника на выезд из РФ&quot;);\n        step261091Api.setRefId(261091);\n    }\n\n @Test\n    public void restrictionTest() {\n        KieServices ks = KieServices.Factory.get();\n        KieFileSystem kfs = ks.newKieFileSystem();\n        // Add  BPMN files to the KieFileSystem\n        kfs.write(&quot;src/main/resources/hardcollect/TravelRestrictionsStep.bpmn2&quot;,\n                ks.getResources().newClassPathResource(&quot;org/rshb/collection/hardcollect/plan/action/bankruptcy/propertysale/travelRestrictions/TravelRestrictionsStep.bpmn2&quot;));\n        kfs.write(&quot;src/main/resources/hardcollect/SAVE.bpmn2&quot;,\n                ks.getResources().newClassPathResource(&quot;org/rshb/collection/hardcollect/common/SAVE.bpmn2&quot;));\n        kfs.write(&quot;src/main/resources/hardcollect/RETRIEVE.bpmn2&quot;,\n                ks.getResources().newClassPathResource(&quot;org/rshb/collection/hardcollect/common/RETRIEVE.bpmn2&quot;));\n        kfs.write(&quot;src/main/resources/hardcollect/GetDueDate.bpmn2&quot;,\n                ks.getResources().newClassPathResource(&quot;org/rshb/collection/hardcollect/plan/GetDueDate.bpmn2&quot;));\n\n        KieBuilder kieBuilder = ks.newKieBuilder(kfs).buildAll();\n        KieContainer kContainer = ks.newKieContainer(kieBuilder.getKieModule().getReleaseId());\n\n        RuntimeEnvironment environment = RuntimeEnvironmentBuilder.Factory.get()\n                .newDefaultBuilder()\n                .persistence(false)\n                    //   .entityManagerFactory(getEmf())\n                .knowledgeBase(kContainer.getKieBase())\n                .get();\n\n        RuntimeManager manager = RuntimeManagerFactory.Factory.get().newPerProcessInstanceRuntimeManager(environment);\n        RuntimeEngine runtimeEngine = manager.getRuntimeEngine(ProcessInstanceIdContext.get());\n        KieSession kSession = runtimeEngine.getKieSession();\n        try {\n            ProcessInstance processInstance = kSession.startProcess(&quot;hardcollect.TravelRestrictionsStep&quot;, getProcessParams());\n        }catch (Exception e){\n            System.out.println(runtimeEngine);\n            e.printStackTrace();\n        }\n\n        manager.disposeRuntimeEngine(runtimeEngine);\n    }\n}\n\n\n</code></pre>\n<p>I think this could be related with default builder  .newDefaultBuilder() im RuntimeEnviroment.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1688932692,"post_id":76649218,"comment_id":135137559,"body_markdown":"Why would you call `logins.addAll(logins)`?","body":"Why would you call <code>logins.addAll(logins)</code>?"},{"owner":{"account_id":13134034,"reputation":41,"user_id":9487697,"display_name":"clipper1995"},"score":0,"creation_date":1688971685,"post_id":76649218,"comment_id":135141076,"body_markdown":"accidental typo)","body":"accidental typo)"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1689144010,"post_id":76649218,"comment_id":135169648,"body_markdown":"Letting aside that you should not use this approach (as has been answered already), the entire code displays a horrible coding style. It looks as if someone is trying really hard to destroy the benefits of the programming language constructs (i.e. expressiveness). Your code basically does `Set&lt;String&gt; logins = new HashSet&lt;&gt;(); Stream.of(u1, u2, u3) .reduce(logins, (acc, u) -&gt; acc.add(u.getLogin()), (s1, s2) -&gt; { s1.addAll(s2); return s2; });` and in this case, the additional variables do not make the code more readable.","body":"Letting aside that you should not use this approach (as has been answered already), the entire code displays a horrible coding style. It looks as if someone is trying really hard to destroy the benefits of the programming language constructs (i.e. expressiveness). Your code basically does <code>Set&lt;String&gt; logins = new HashSet&lt;&gt;(); Stream.of(u1, u2, u3) .reduce(logins, (acc, u) -&gt; acc.add(u.getLogin()), (s1, s2) -&gt; { s1.addAll(s2); return s2; });</code> and in this case, the additional variables do not make the code more readable."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1689144054,"post_id":76649218,"comment_id":135169659,"body_markdown":"But the correct approach is even simpler: `Set&lt;String&gt; logins = Stream.of(u1, u2, u3) .map(User::getLogin) .collect(Collectors.toSet());`","body":"But the correct approach is even simpler: <code>Set&lt;String&gt; logins = Stream.of(u1, u2, u3) .map(User::getLogin) .collect(Collectors.toSet());</code>"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1688932940,"creation_date":1688932406,"answer_id":76649250,"question_id":76649218,"body_markdown":"According to the [documentation](https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Statelessness):\r\n\r\n&gt; Side-effects in behavioral parameters to stream operations are, in general, discouraged, as they can often lead to unwitting violations of the statelessness requirement, as well as other thread-safety hazards.\r\n\r\nIt is much easier to parallelize calls to `.collect` and have a predictable order. On the other hand, the accumulator function passed to `reduce` should be [associative](https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Associativity) and it may not be called on elements in the stream in encounter order, especially for parallel processing. \r\n\r\nFurthermore, the meaning of the `collect` operation is much clearer and it should be preferred when the intention is indeed to create a collection from the elements of the stream.","title":"Java Stream Api: Using reduce to fill a collection","body":"<p>According to the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Statelessness\" rel=\"noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>Side-effects in behavioral parameters to stream operations are, in general, discouraged, as they can often lead to unwitting violations of the statelessness requirement, as well as other thread-safety hazards.</p>\n</blockquote>\n<p>It is much easier to parallelize calls to <code>.collect</code> and have a predictable order. On the other hand, the accumulator function passed to <code>reduce</code> should be <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Associativity\" rel=\"noreferrer\">associative</a> and it may not be called on elements in the stream in encounter order, especially for parallel processing.</p>\n<p>Furthermore, the meaning of the <code>collect</code> operation is much clearer and it should be preferred when the intention is indeed to create a collection from the elements of the stream.</p>\n"}],"owner":{"account_id":13134034,"reputation":41,"user_id":9487697,"display_name":"clipper1995"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76649250,"answer_count":1,"score":1,"last_activity_date":1688972160,"creation_date":1688932012,"question_id":76649218,"body_markdown":"I am well aware of the collect() method and the Collectors object. However, I don&#39;t really understand why it&#39;s bad to use a reduce to populate a collection. \r\n\r\n`       User u1 = new User (&quot;Tom&quot;);     \r\n        User u2 = new User (&quot;Anna&quot;);    \r\n        User u3 = new User (&quot;Alice&quot;);  \r\n\r\n        BiFunction&lt;Set&lt;String&gt;, User, Set&lt;String&gt;&gt; accumulator = (acc, u) -&gt; {\r\n            acc.add(u.getLogin());\r\n            return acc;\r\n        };\r\n        BinaryOperator&lt;Set&lt;String&gt;&gt; combiner = (s1, s2) -&gt; {\r\n            s1.addAll(s2);\r\n            return s2;\r\n        };\r\n\r\n        Stream&lt;User&gt; stream = Stream.of(u1, u2, u3);\r\n        Set&lt;String&gt; logins = new HashSet&lt;&gt;();\r\n        stream.reduce(logins, accumulator, combiner);\r\n        System.out.println(logins);// [Tom, Alice, Anna]`\r\n\r\nIs this bad code design, or something else under the hood?\r\n\r\nIs it true that accumulation should be done on an immutable object?\r\n","title":"Java Stream Api: Using reduce to fill a collection","body":"<p>I am well aware of the collect() method and the Collectors object. However, I don't really understand why it's bad to use a reduce to populate a collection.</p>\n<p>`       User u1 = new User (&quot;Tom&quot;);<br />\nUser u2 = new User (&quot;Anna&quot;);<br />\nUser u3 = new User (&quot;Alice&quot;);</p>\n<pre><code>    BiFunction&lt;Set&lt;String&gt;, User, Set&lt;String&gt;&gt; accumulator = (acc, u) -&gt; {\n        acc.add(u.getLogin());\n        return acc;\n    };\n    BinaryOperator&lt;Set&lt;String&gt;&gt; combiner = (s1, s2) -&gt; {\n        s1.addAll(s2);\n        return s2;\n    };\n\n    Stream&lt;User&gt; stream = Stream.of(u1, u2, u3);\n    Set&lt;String&gt; logins = new HashSet&lt;&gt;();\n    stream.reduce(logins, accumulator, combiner);\n    System.out.println(logins);// [Tom, Alice, Anna]`\n</code></pre>\n<p>Is this bad code design, or something else under the hood?</p>\n<p>Is it true that accumulation should be done on an immutable object?</p>\n"},{"tags":["java","apache-spark"],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688971815,"creation_date":1688971815,"question_id":76651297,"body_markdown":"Loading an open data CSV of associations, I&#39;m filtering them to exclude some having problems.\r\n\r\nAt this time, when sending a warning log, I&#39;m also willing to count each kind of problem encountered, by the mean of a broadcast variable: a `LongAccumulator`.\r\n\r\nIt&#39;s possible, and not too difficult:\r\n\r\nThe code doing the checkings in a `filter` (`associations` is a `Dataset&lt;Row&gt;`):\r\n\r\n```java\r\nString[] codesAnomalies = {&quot;anomalie.association.sans.objet&quot;, &quot;anomalie.association.sans.waldec&quot;};\r\n\r\nfor(String codeAnomalie : codesAnomalies) {\r\n    accumulators.put(codeAnomalie, super.session.sparkContext().longAccumulator(codeAnomalie));\r\n}\r\n\r\nassociations = this.rowLoader.loadOpenData(anneeRNA, anneeCOG);\r\n\r\n// Ejecter les associations qui n&#39;ont ni nom, ni objet social.\r\nint indexTitre = associations.schema().fieldIndex(&quot;titre&quot;);\r\nint indexObjet = associations.schema().fieldIndex(&quot;objet&quot;);\r\n\r\nassociations = associations.filter((FilterFunction&lt;Row&gt;)f -&gt; {\r\n   if (f.isNullAt(indexTitre) &amp;&amp; f.isNullAt(indexObjet)) {\r\n      anomalie(&quot;anomalie.association.sans.objet&quot;,\r\n          f.getAs(&quot;numero_waldec&quot;), f.getAs(&quot;adresse_siege_nom_commune&quot;), \r\n          f.getAs(&quot;adresse_siege_code_commune&quot;));\r\n      return false;\r\n   }\r\n         \r\n   if (f.getAs(&quot;numero_waldec&quot;).toString().length() != 10) {\r\n       anomalie(&quot;anomalie.association.sans.waldec&quot;,\r\n          f.getAs(&quot;adresse_siege_nom_commune&quot;), f.getAs(&quot;adresse_siege_code_commune&quot;));\r\n          return false;\r\n   }\r\n         \r\n   // Il peut &#234;tre demand&#233; que seules les associations actives soient retenues.\r\n   if (actives) {\r\n       return &quot;A&quot;.equals(f.getAs(&quot;position_activite&quot;)) != false;\r\n   }\r\n         \r\n  return true;\r\n});\r\n```\r\n\r\nAnd the `anomalie` method do that:\r\n\r\n```java\r\nprivate void anomalie(String codeMessage, Serializable... arg) {\r\n   if (messageSource == null) {\r\n      this.messageSource = new ResourceBundleMessageSource();\r\n         this.messageSource.setBasename(&quot;fr.ecoemploi.adapters.outbound.spark.dataset.association.AssociationWaldecDataset&quot;);\r\n   }\r\n\r\n   String message = messageSource.getMessage(codeMessage, arg, Locale.getDefault());\r\n   LOGGER.warn(message);\r\n\r\n   LongAccumulator accumulator = accumulators.get(codeMessage);\r\n\r\n   if (accumulator != null) {\r\n      accumulator.add(1);\r\n   }\r\n}\r\n```\r\n\r\nSo that, at the end, I can log a report:\r\n\r\n```java\r\nLOGGER.info(&quot;Anomalies rencontr&#233;es :&quot;);\r\n\r\nfor(Map.Entry&lt;String, LongAccumulator&gt; rapport : this.accumulators.entrySet()) {\r\n   LOGGER.info(&quot;\\t{} : {}&quot;, rapport.getKey(), rapport.getValue().count());\r\n}\r\n```\r\n\r\n```log\r\nAnomalies rencontr&#233;es :\r\n       anomalie.association.sans.waldec : 0\r\n       anomalie.association.sans.objet : 126\r\n```\r\n\r\nCurrently I have to declare in advance the `longAccumulator`(s) I&#39;ll be using, before starting the `filter` operation on my dataset.\r\n\r\nIf I attempt do write, in the `anomalie` method:\r\n\r\n```java\r\nLongAccumulator accumulator = accumulators.computeIfAbsent(codeMessage, \r\n   clef -&gt; super.session.sparkContext().longAccumulator(clef));\r\n\r\naccumulator.add(1);\r\n```\r\n\r\ninstead of:\r\n\r\n```java\r\nLongAccumulator accumulator = accumulators.get(codeMessage);\r\n\r\nif (accumulator != null) {\r\n   accumulator.add(1);\r\n}\r\n```\r\n\r\n_Spark_ fails with an internal error. Looking it&#39;s not the time for it to perform something in the _Spark_ `session` at the time it is caught in an operation.\r\n\r\nDo I have a way to create a new _Accumulator_ at the moment I&#39;m just needing it?","title":"Can I create a Spark LongAccumulator at the moment I just need it (inside a filter operation, for example)? Currently I need to create them in advance","body":"<p>Loading an open data CSV of associations, I'm filtering them to exclude some having problems.</p>\n<p>At this time, when sending a warning log, I'm also willing to count each kind of problem encountered, by the mean of a broadcast variable: a <code>LongAccumulator</code>.</p>\n<p>It's possible, and not too difficult:</p>\n<p>The code doing the checkings in a <code>filter</code> (<code>associations</code> is a <code>Dataset&lt;Row&gt;</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] codesAnomalies = {&quot;anomalie.association.sans.objet&quot;, &quot;anomalie.association.sans.waldec&quot;};\n\nfor(String codeAnomalie : codesAnomalies) {\n    accumulators.put(codeAnomalie, super.session.sparkContext().longAccumulator(codeAnomalie));\n}\n\nassociations = this.rowLoader.loadOpenData(anneeRNA, anneeCOG);\n\n// Ejecter les associations qui n'ont ni nom, ni objet social.\nint indexTitre = associations.schema().fieldIndex(&quot;titre&quot;);\nint indexObjet = associations.schema().fieldIndex(&quot;objet&quot;);\n\nassociations = associations.filter((FilterFunction&lt;Row&gt;)f -&gt; {\n   if (f.isNullAt(indexTitre) &amp;&amp; f.isNullAt(indexObjet)) {\n      anomalie(&quot;anomalie.association.sans.objet&quot;,\n          f.getAs(&quot;numero_waldec&quot;), f.getAs(&quot;adresse_siege_nom_commune&quot;), \n          f.getAs(&quot;adresse_siege_code_commune&quot;));\n      return false;\n   }\n         \n   if (f.getAs(&quot;numero_waldec&quot;).toString().length() != 10) {\n       anomalie(&quot;anomalie.association.sans.waldec&quot;,\n          f.getAs(&quot;adresse_siege_nom_commune&quot;), f.getAs(&quot;adresse_siege_code_commune&quot;));\n          return false;\n   }\n         \n   // Il peut être demandé que seules les associations actives soient retenues.\n   if (actives) {\n       return &quot;A&quot;.equals(f.getAs(&quot;position_activite&quot;)) != false;\n   }\n         \n  return true;\n});\n</code></pre>\n<p>And the <code>anomalie</code> method do that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void anomalie(String codeMessage, Serializable... arg) {\n   if (messageSource == null) {\n      this.messageSource = new ResourceBundleMessageSource();\n         this.messageSource.setBasename(&quot;fr.ecoemploi.adapters.outbound.spark.dataset.association.AssociationWaldecDataset&quot;);\n   }\n\n   String message = messageSource.getMessage(codeMessage, arg, Locale.getDefault());\n   LOGGER.warn(message);\n\n   LongAccumulator accumulator = accumulators.get(codeMessage);\n\n   if (accumulator != null) {\n      accumulator.add(1);\n   }\n}\n</code></pre>\n<p>So that, at the end, I can log a report:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LOGGER.info(&quot;Anomalies rencontrées :&quot;);\n\nfor(Map.Entry&lt;String, LongAccumulator&gt; rapport : this.accumulators.entrySet()) {\n   LOGGER.info(&quot;\\t{} : {}&quot;, rapport.getKey(), rapport.getValue().count());\n}\n</code></pre>\n<pre><code>Anomalies rencontrées :\n       anomalie.association.sans.waldec : 0\n       anomalie.association.sans.objet : 126\n</code></pre>\n<p>Currently I have to declare in advance the <code>longAccumulator</code>(s) I'll be using, before starting the <code>filter</code> operation on my dataset.</p>\n<p>If I attempt do write, in the <code>anomalie</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LongAccumulator accumulator = accumulators.computeIfAbsent(codeMessage, \n   clef -&gt; super.session.sparkContext().longAccumulator(clef));\n\naccumulator.add(1);\n</code></pre>\n<p>instead of:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LongAccumulator accumulator = accumulators.get(codeMessage);\n\nif (accumulator != null) {\n   accumulator.add(1);\n}\n</code></pre>\n<p><em>Spark</em> fails with an internal error. Looking it's not the time for it to perform something in the <em>Spark</em> <code>session</code> at the time it is caught in an operation.</p>\n<p>Do I have a way to create a new <em>Accumulator</em> at the moment I'm just needing it?</p>\n"},{"tags":["java","jpa","spring-data-jpa","domain-driven-design","hexagonal-architecture"],"owner":{"account_id":16652265,"reputation":68,"user_id":12034789,"display_name":"Init_Rebel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688971801,"creation_date":1688971801,"question_id":76651294,"body_markdown":"I&#39;m new to hexagonal architecture &amp; ran into a scenario where I can&#39;t figure how it can be achieved.\r\nI have two domain objects say Employee &amp; Vehicle. Employee can have many vehicles. My Employee domain object has the List of Vehicles. Similarly, I have the EployeeRepository &amp; VehicleRepository classes which are used by respective adapters (implementation of ports).\r\n\r\nThe scenario is as below.\r\n\r\n - The vehicles are saved first without any reference to Employee\r\n - The Employee object is then created (based on certain grouping, the vehicles are then linked to employee)\r\n- The Employee &amp; vehicles are linked.\r\n\r\nThis is what I&#39;m doing.\r\n\r\n - Save the Vehicle objects\r\n - Try to save the Employee object\r\n\r\nSo in my application service, I get the vehicle objects first &amp; then map them to domain objects. Now I group the vehicles &amp; link Employee &amp; vehicles. The call is then transferred to Employee adapter for saving. But while saving, I would need the vehicle entity reference from db so as to correctly associate the Employee &amp; Vehicles. Which means I need to make another db call from Employee adapter &amp; then save. While I already had the vehicle references in my service class but the state is lost as I&#39;m converting them to domain objects. \r\nThis should be a common scenario in hexagonal architecture where the app layer only deals with domain objects &amp; hence the entity representation is lost. \r\n\r\nCan any one please help what I&#39;m missing here.\r\n\r\n","title":"Dealing with JPA relationships in hexagonal architecture","body":"<p>I'm new to hexagonal architecture &amp; ran into a scenario where I can't figure how it can be achieved.\nI have two domain objects say Employee &amp; Vehicle. Employee can have many vehicles. My Employee domain object has the List of Vehicles. Similarly, I have the EployeeRepository &amp; VehicleRepository classes which are used by respective adapters (implementation of ports).</p>\n<p>The scenario is as below.</p>\n<ul>\n<li>The vehicles are saved first without any reference to Employee</li>\n<li>The Employee object is then created (based on certain grouping, the vehicles are then linked to employee)</li>\n<li>The Employee &amp; vehicles are linked.</li>\n</ul>\n<p>This is what I'm doing.</p>\n<ul>\n<li>Save the Vehicle objects</li>\n<li>Try to save the Employee object</li>\n</ul>\n<p>So in my application service, I get the vehicle objects first &amp; then map them to domain objects. Now I group the vehicles &amp; link Employee &amp; vehicles. The call is then transferred to Employee adapter for saving. But while saving, I would need the vehicle entity reference from db so as to correctly associate the Employee &amp; Vehicles. Which means I need to make another db call from Employee adapter &amp; then save. While I already had the vehicle references in my service class but the state is lost as I'm converting them to domain objects.\nThis should be a common scenario in hexagonal architecture where the app layer only deals with domain objects &amp; hence the entity representation is lost.</p>\n<p>Can any one please help what I'm missing here.</p>\n"},{"tags":["java","spring-boot","keycloak"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688972540,"post_id":76651281,"comment_id":135141206,"body_markdown":"I doubt you can, as it is http (afaik) and http isn&#39;t transactional. The only thing you can do (maybe) is to compensate for the error and manually remove the entries (with manually I mean create a service which does this and which you call upon the error).","body":"I doubt you can, as it is http (afaik) and http isn&#39;t transactional. The only thing you can do (maybe) is to compensate for the error and manually remove the entries (with manually I mean create a service which does this and which you call upon the error)."},{"owner":{"account_id":18063421,"reputation":393,"user_id":13129983,"display_name":"kikicoder"},"score":0,"creation_date":1688973358,"post_id":76651281,"comment_id":135141367,"body_markdown":"mmm, right you have a point, I thought about this but I wanted to be sure, as you mentioned http is not transactional, probably i&#39;ll go with manual solution, thx a lot , I will keep the question open in case there is any better one","body":"mmm, right you have a point, I thought about this but I wanted to be sure, as you mentioned http is not transactional, probably i&#39;ll go with manual solution, thx a lot , I will keep the question open in case there is any better one"}],"owner":{"account_id":18063421,"reputation":393,"user_id":13129983,"display_name":"kikicoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688971693,"creation_date":1688971693,"question_id":76651281,"body_markdown":"recently I am using keycloak as IAM tool, I use the java api to create a user on keycloak then I am sending message to verify that user, now wvwey thing is working but the problem is I want to do it as a transaction &quot; whenever any exception raised during registration a roll back should happen&quot;, I have the code bellow:\r\n\r\n    @Transactional(rollbackOn = {BadRequestException.class})\r\n        public Response register(UserDTO userDTO, Tenant tenant, Channel channel) {\r\n    \r\n    \r\n            String username = userDTO.getFirstName() + &quot;_&quot; + userDTO.getLastName() + Helper.generateCode();\r\n            userDTO.setUserName(username.toLowerCase());\r\n            String phone = userDTO.getCountryCode() + Helper.removeLeadingZeros(userDTO.getPhone());\r\n            List&lt;Role&gt; roles = List.of(Role.valueOf(tenant.getTenant().toUpperCase()), Role.valueOf(tenant.getType().toUpperCase()));\r\n            var response = keycloakService.createKeycloakUser(userDTO, roles, Collections.singletonMap(&quot;gsm&quot;, List.of(phone)));\r\n            var userId = CreatedResponseUtil.getCreatedId(response);\r\n    \r\n    \r\n            // store the user in sys local db\r\n            UserLoginData sys_user = loginDataMapper.toEntity(userDTO);\r\n            sys_user.setKeycloakId(UUID.fromString(Objects.requireNonNull(userId)));\r\n            sys_user.setPhone(phone);\r\n            userLoginService.saveAndPublishEvent(sys_user);\r\n            log.info(&quot;A new user has been add to Sys DB&quot;);\r\n    \r\n            if (channel == Channel.none)\r\n                return response;\r\n    \r\n            if (channel == Channel.phone)\r\n                twilioService.sendOTP(phone);\r\n            else\r\n                sendVerificationMail(userDTO.getEmailId());\r\n    \r\n            return response;\r\n        }\r\n\r\nand this is the  code for creating the user on keycloak:\r\n\r\n    @SneakyThrows\r\n        public Response createKeycloakUser(UserDTO userDto, List&lt;Role&gt; roles, Map&lt;String, List&lt;String&gt;&gt; attributes) {\r\n            CredentialRepresentation credential = Credentials.createPasswordCredentials(userDto.getPassword());\r\n            UserRepresentation user = new UserRepresentation();\r\n            user.setFirstName(userDto.getFirstName());\r\n            user.setEmail(userDto.getEmailId());\r\n            user.setLastName(userDto.getLastName());\r\n            user.setUsername(userDto.getUserName());\r\n            user.setAttributes(attributes);\r\n            user.setCredentials(Collections.singletonList(credential));\r\n    \r\n    \r\n            var realmResource = getRealmResource();\r\n    \r\n            //check if this phone already registered\r\n            var alreadyExist = getUserByPhoneNum(attributes.get(&quot;gsm&quot;).get(0));\r\n            if (alreadyExist != null) {\r\n                throw new UserAlreadyExistedException();\r\n            }\r\n    \r\n            var response = realmResource.users().create(user);\r\n  \r\n            var userId = CreatedResponseUtil.getCreatedId(response);\r\n            var userResource = realmResource.users().get(userId);\r\n    \r\n            ClientRepresentation clientRepresentation = realmResource.clients().findAll()\r\n                    .stream().filter(client -&gt; client.getClientId().equals(keyCloakConfig.getResource())).collect(Collectors.toList())\r\n                    .get(0);\r\n            ClientResource clientResource = realmResource.clients().get(clientRepresentation.getId());\r\n    \r\n            //get the client roles that map the roles in passed array\r\n            List&lt;RoleRepresentation&gt; clientRole = clientResource.roles().list()\r\n                    .stream().filter(roleRepresentation -&gt;\r\n                            roles.stream().anyMatch(r -&gt; r.getValue().equalsIgnoreCase(roleRepresentation.getName())))\r\n                    .collect(Collectors.toList());\r\n    \r\n    \r\n            //assign the user to a group\r\n    \r\n    \r\n            userResource.roles()\r\n                    .clientLevel(clientRepresentation.getId())\r\n                    .add(clientRole);//Collections.singletonList(clientRole));\r\n    \r\n    //        log.info(&quot;Role {}  has been assigned to user with the id: {} &quot;, role.getValue(), userId);\r\n    \r\n            return response;\r\n    \r\n        }\r\n\r\nhow can I make the the registration at keycloak transactional?? thanks in advance; ","title":"roll back when creating a user in keycloak?","body":"<p>recently I am using keycloak as IAM tool, I use the java api to create a user on keycloak then I am sending message to verify that user, now wvwey thing is working but the problem is I want to do it as a transaction &quot; whenever any exception raised during registration a roll back should happen&quot;, I have the code bellow:</p>\n<pre><code>@Transactional(rollbackOn = {BadRequestException.class})\n    public Response register(UserDTO userDTO, Tenant tenant, Channel channel) {\n\n\n        String username = userDTO.getFirstName() + &quot;_&quot; + userDTO.getLastName() + Helper.generateCode();\n        userDTO.setUserName(username.toLowerCase());\n        String phone = userDTO.getCountryCode() + Helper.removeLeadingZeros(userDTO.getPhone());\n        List&lt;Role&gt; roles = List.of(Role.valueOf(tenant.getTenant().toUpperCase()), Role.valueOf(tenant.getType().toUpperCase()));\n        var response = keycloakService.createKeycloakUser(userDTO, roles, Collections.singletonMap(&quot;gsm&quot;, List.of(phone)));\n        var userId = CreatedResponseUtil.getCreatedId(response);\n\n\n        // store the user in sys local db\n        UserLoginData sys_user = loginDataMapper.toEntity(userDTO);\n        sys_user.setKeycloakId(UUID.fromString(Objects.requireNonNull(userId)));\n        sys_user.setPhone(phone);\n        userLoginService.saveAndPublishEvent(sys_user);\n        log.info(&quot;A new user has been add to Sys DB&quot;);\n\n        if (channel == Channel.none)\n            return response;\n\n        if (channel == Channel.phone)\n            twilioService.sendOTP(phone);\n        else\n            sendVerificationMail(userDTO.getEmailId());\n\n        return response;\n    }\n</code></pre>\n<p>and this is the  code for creating the user on keycloak:</p>\n<pre><code>@SneakyThrows\n    public Response createKeycloakUser(UserDTO userDto, List&lt;Role&gt; roles, Map&lt;String, List&lt;String&gt;&gt; attributes) {\n        CredentialRepresentation credential = Credentials.createPasswordCredentials(userDto.getPassword());\n        UserRepresentation user = new UserRepresentation();\n        user.setFirstName(userDto.getFirstName());\n        user.setEmail(userDto.getEmailId());\n        user.setLastName(userDto.getLastName());\n        user.setUsername(userDto.getUserName());\n        user.setAttributes(attributes);\n        user.setCredentials(Collections.singletonList(credential));\n\n\n        var realmResource = getRealmResource();\n\n        //check if this phone already registered\n        var alreadyExist = getUserByPhoneNum(attributes.get(&quot;gsm&quot;).get(0));\n        if (alreadyExist != null) {\n            throw new UserAlreadyExistedException();\n        }\n\n        var response = realmResource.users().create(user);\n\n        var userId = CreatedResponseUtil.getCreatedId(response);\n        var userResource = realmResource.users().get(userId);\n\n        ClientRepresentation clientRepresentation = realmResource.clients().findAll()\n                .stream().filter(client -&gt; client.getClientId().equals(keyCloakConfig.getResource())).collect(Collectors.toList())\n                .get(0);\n        ClientResource clientResource = realmResource.clients().get(clientRepresentation.getId());\n\n        //get the client roles that map the roles in passed array\n        List&lt;RoleRepresentation&gt; clientRole = clientResource.roles().list()\n                .stream().filter(roleRepresentation -&gt;\n                        roles.stream().anyMatch(r -&gt; r.getValue().equalsIgnoreCase(roleRepresentation.getName())))\n                .collect(Collectors.toList());\n\n\n        //assign the user to a group\n\n\n        userResource.roles()\n                .clientLevel(clientRepresentation.getId())\n                .add(clientRole);//Collections.singletonList(clientRole));\n\n//        log.info(&quot;Role {}  has been assigned to user with the id: {} &quot;, role.getValue(), userId);\n\n        return response;\n\n    }\n</code></pre>\n<p>how can I make the the registration at keycloak transactional?? thanks in advance;</p>\n"},{"tags":["java","arrays","swing","jpanel","tetris"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1688935802,"post_id":76649100,"comment_id":135137923,"body_markdown":"If you don&#39;t get a decent answer soon, consider creating and posting a [mre] program, one that condenses your code and your problem into the smallest program possible, small enough to be allowed to be posted in your question as code-formatted text (not as a GitHub link), one that compiles and runs for us without modification, one that demonstrates your problem for us, and also that has no code that is not essential for the above. Please check out the link which explains what this useful tool is and how it can help both you and us.","body":"If you don&#39;t get a decent answer soon, consider creating and posting a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> program, one that condenses your code and your problem into the smallest program possible, small enough to be allowed to be posted in your question as code-formatted text (not as a GitHub link), one that compiles and runs for us without modification, one that demonstrates your problem for us, and also that has no code that is not essential for the above. Please check out the link which explains what this useful tool is and how it can help both you and us."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1688944038,"post_id":76649100,"comment_id":135138647,"body_markdown":"I got it to error once, and now I can&#39;t seem to duplicate it.  Do you know how to produce the error?","body":"I got it to error once, and now I can&#39;t seem to duplicate it.  Do you know how to produce the error?"},{"owner":{"account_id":28982426,"reputation":1,"user_id":22200002,"display_name":"TJirm"},"score":0,"creation_date":1688958432,"post_id":76649100,"comment_id":135139654,"body_markdown":"The error seems to only happen after playing for some time(dropping around 40 pieces) and than it starts overflowing into other Blocks.","body":"The error seems to only happen after playing for some time(dropping around 40 pieces) and than it starts overflowing into other Blocks."}],"answers":[{"tags":[],"owner":{"account_id":4343067,"reputation":198,"user_id":3545835,"accept_rate":50,"display_name":"samgi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688931049,"creation_date":1688931049,"answer_id":76649168,"question_id":76649100,"body_markdown":"it seems like the bug is happening because the `fieldExtra` variable is being incremented by more than 1 for each iteration of the `for` loop. This is causing the `field` array to be accessed outside of its bounds, which is why multiple blocks are being modified when the `setFilled(true)` method is called.\r\n\r\nTo fix this, you can change the way that the `fieldExtra` variable is incremented. Instead of incrementing it by 1, you can increment it by the number of columns in the `pieceField` array. This will ensure that the `field` array is only accessed within its bounds\r\n\r\n    private static void placePiece() {\r\n        Block[][] pieceField = fallingPiece.getPieceField();\r\n        int fieldExtra = pieceField[0].length;\r\n        for (int y = 0; y &lt; pieceField.length; y++) {\r\n            for (int x = 0; x &lt; pieceField[0].length; x++) {\r\n                if (pieceField[y][x].isFilled()) {\r\n                    field[fallingPiece.getY() + y + fieldExtra][fallingPiece.getX() + x].setFilled(true);\r\n                }\r\n            }\r\n        }\r\n    }","title":"Java : filling Object Array overflow into other fields","body":"<p>it seems like the bug is happening because the <code>fieldExtra</code> variable is being incremented by more than 1 for each iteration of the <code>for</code> loop. This is causing the <code>field</code> array to be accessed outside of its bounds, which is why multiple blocks are being modified when the <code>setFilled(true)</code> method is called.</p>\n<p>To fix this, you can change the way that the <code>fieldExtra</code> variable is incremented. Instead of incrementing it by 1, you can increment it by the number of columns in the <code>pieceField</code> array. This will ensure that the <code>field</code> array is only accessed within its bounds</p>\n<pre><code>private static void placePiece() {\n    Block[][] pieceField = fallingPiece.getPieceField();\n    int fieldExtra = pieceField[0].length;\n    for (int y = 0; y &lt; pieceField.length; y++) {\n        for (int x = 0; x &lt; pieceField[0].length; x++) {\n            if (pieceField[y][x].isFilled()) {\n                field[fallingPiece.getY() + y + fieldExtra][fallingPiece.getX() + x].setFilled(true);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28982426,"reputation":1,"user_id":22200002,"display_name":"TJirm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688971073,"creation_date":1688971073,"answer_id":76651216,"question_id":76649100,"body_markdown":"I have found the Cause of the Bug it was the way I cleared lines:\r\n\r\n    field[y + fieldExtra] = field[y + fieldExtra - 1];\r\nThis just sets one line which is an Object[] to the line(Obeject[]) above it.\r\nThat linked the different Blocks in some way I think, I dont really understand how that works. But I fixed it and now it works with no Problems.\r\n\r\nHere&#39;s the fix if you&#39;re interested:\r\n\r\n    \r\n    for(int i=0; i &lt; fieldWidth; i++) {\r\n        field[y + fieldExtra][i].setFilled(field[y + fieldExtra - 1][i].isFilled());\r\n    }\r\nThanks for the help especially to [Hovercraft Full Of EelsHovercraft Full Of Eels][1] for the tip to try and reproduce the Bug in a smaller Programm.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/522444/hovercraft-full-of-eels","title":"Java : filling Object Array overflow into other fields","body":"<p>I have found the Cause of the Bug it was the way I cleared lines:</p>\n<pre><code>field[y + fieldExtra] = field[y + fieldExtra - 1];\n</code></pre>\n<p>This just sets one line which is an Object[] to the line(Obeject[]) above it.\nThat linked the different Blocks in some way I think, I dont really understand how that works. But I fixed it and now it works with no Problems.</p>\n<p>Here's the fix if you're interested:</p>\n<pre><code>for(int i=0; i &lt; fieldWidth; i++) {\n    field[y + fieldExtra][i].setFilled(field[y + fieldExtra - 1][i].isFilled());\n}\n</code></pre>\n<p>Thanks for the help especially to <a href=\"https://stackoverflow.com/users/522444/hovercraft-full-of-eels\">Hovercraft Full Of EelsHovercraft Full Of Eels</a> for the tip to try and reproduce the Bug in a smaller Programm.</p>\n"}],"owner":{"account_id":28982426,"reputation":1,"user_id":22200002,"display_name":"TJirm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76651216,"answer_count":2,"score":0,"last_activity_date":1688971209,"creation_date":1688929794,"question_id":76649100,"body_markdown":"Tetris Game\r\n===\r\n\r\nMy code works as it should at the start but after some time playing it breaks. When a falling piece touches the ground and gets put into the gamefield it gets stretched up into other spaces.\r\nthe field Object(Block) only holds one variable &quot;filled&quot; and when `field[fallingPiece.getY() + y + fieldExtra][fallingPiece.getX() + x].setFilled(true);` gets executed it changes the state of multiple Objectses(Blockses) state in the field.\r\n\r\nThe `fieldExtra` variable is the non visible space above the game field where the pieces get spawned. Its value is 20.\r\nIts interesting to note that the Bug doesn&#39;t fill the whole array but only to 19 after which it just stops.  \r\nAlso interesting is that once the bug started it always occurs unless the piece gets placed under some height.\r\n\r\n```\r\nprivate static void placePiece() {\r\n    Block[][] pieceField = fallingPiece.getPieceField();\r\n    for(int y=0; y &lt; pieceField.length; y++) {\r\n        for(int x=0; x &lt; pieceField[0].length; x++) {\r\n            if(pieceField[y][x].isFilled()) {\r\n                 field[fallingPiece.getY() + y + fieldExtra][fallingPiece.getX() + x].setFilled(true);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIf you want to look at the entirety of the code here is my\r\n[Github repository](https://github.com/BrotherTill/Tetris)\r\n\r\n\r\nI have already looked at it in the debugger and I went step by step through the code and at `field[fallingPiece.getY() + y + fieldExtra][fallingPiece.getX() + x].setFilled(true);` it filled multiple Objects at the same time when executing. while the for loops are behaving as expected.\r\n\r\nI have also found that when commenting out the collision detection with the field the bug doesn&#39;t happen anymore, which I don&#39;t understand because they don&#39;t correlate in any way.\r\n\r\nEDIT: The Bug is solved and wasn&#39;t caused by the code snippet above.","title":"Java : filling Object Array overflow into other fields","body":"<h1>Tetris Game</h1>\n<p>My code works as it should at the start but after some time playing it breaks. When a falling piece touches the ground and gets put into the gamefield it gets stretched up into other spaces.\nthe field Object(Block) only holds one variable &quot;filled&quot; and when <code>field[fallingPiece.getY() + y + fieldExtra][fallingPiece.getX() + x].setFilled(true);</code> gets executed it changes the state of multiple Objectses(Blockses) state in the field.</p>\n<p>The <code>fieldExtra</code> variable is the non visible space above the game field where the pieces get spawned. Its value is 20.\nIts interesting to note that the Bug doesn't fill the whole array but only to 19 after which it just stops.<br />\nAlso interesting is that once the bug started it always occurs unless the piece gets placed under some height.</p>\n<pre><code>private static void placePiece() {\n    Block[][] pieceField = fallingPiece.getPieceField();\n    for(int y=0; y &lt; pieceField.length; y++) {\n        for(int x=0; x &lt; pieceField[0].length; x++) {\n            if(pieceField[y][x].isFilled()) {\n                 field[fallingPiece.getY() + y + fieldExtra][fallingPiece.getX() + x].setFilled(true);\n            }\n        }\n    }\n}\n</code></pre>\n<p>If you want to look at the entirety of the code here is my\n<a href=\"https://github.com/BrotherTill/Tetris\" rel=\"nofollow noreferrer\">Github repository</a></p>\n<p>I have already looked at it in the debugger and I went step by step through the code and at <code>field[fallingPiece.getY() + y + fieldExtra][fallingPiece.getX() + x].setFilled(true);</code> it filled multiple Objects at the same time when executing. while the for loops are behaving as expected.</p>\n<p>I have also found that when commenting out the collision detection with the field the bug doesn't happen anymore, which I don't understand because they don't correlate in any way.</p>\n<p>EDIT: The Bug is solved and wasn't caused by the code snippet above.</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688438851,"post_id":76609002,"comment_id":135070920,"body_markdown":"Please explain exactly what your directory structure is. I&#39;d suggest that you use the same build tool for both.","body":"Please explain exactly what your directory structure is. I&#39;d suggest that you use the same build tool for both."},{"owner":{"account_id":21984263,"reputation":11,"user_id":16258806,"display_name":"elizabeth lo"},"score":0,"creation_date":1688440374,"post_id":76609002,"comment_id":135071025,"body_markdown":"@tgdavies i have edited the qn thanks!","body":"@tgdavies i have edited the qn thanks!"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688442833,"post_id":76609002,"comment_id":135071213,"body_markdown":"What happens if you right-click on your pom.xml and choose &quot;Add as Maven project&quot;?","body":"What happens if you right-click on your pom.xml and choose &quot;Add as Maven project&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688970770,"creation_date":1688970770,"answer_id":76651178,"question_id":76609002,"body_markdown":"You can try to do it in the following way:\r\n- Close the IDE and remove all `.idea` folders and `.iml` files from your project via the OS file manager\r\n- Move the Maven project from non-Maven one\r\n- In IntelliJ IDEA, click on `File | New | Project... | Empty Project`\r\n- Go to `File | Project Structure | Modules` and import your project as modules one by one","title":"adding maven project to non maven project","body":"<p>You can try to do it in the following way:</p>\n<ul>\n<li>Close the IDE and remove all <code>.idea</code> folders and <code>.iml</code> files from your project via the OS file manager</li>\n<li>Move the Maven project from non-Maven one</li>\n<li>In IntelliJ IDEA, click on <code>File | New | Project... | Empty Project</code></li>\n<li>Go to <code>File | Project Structure | Modules</code> and import your project as modules one by one</li>\n</ul>\n"}],"owner":{"account_id":21984263,"reputation":11,"user_id":16258806,"display_name":"elizabeth lo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688970770,"creation_date":1688436108,"question_id":76609002,"body_markdown":"I have a non-maven project and I have another maven project that writes tests for the non maven project. I have copied the maven project into the directory of the non maven project but noticed that the project is no longer labelled as a maven project. how do I add maven support for the test directory again? I am using intellij for the project.\r\n\r\n[attached is my projects directory][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hUH3n.png","title":"adding maven project to non maven project","body":"<p>I have a non-maven project and I have another maven project that writes tests for the non maven project. I have copied the maven project into the directory of the non maven project but noticed that the project is no longer labelled as a maven project. how do I add maven support for the test directory again? I am using intellij for the project.</p>\n<p><a href=\"https://i.stack.imgur.com/hUH3n.png\" rel=\"nofollow noreferrer\">attached is my projects directory</a></p>\n"},{"tags":["java","gradle","intellij-idea","twilio"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1688972201,"post_id":76651142,"comment_id":135141152,"body_markdown":"Try adding `module-path/add-modules` VM options as per https://stackoverflow.com/a/67240739/12844632 under `Run | Edit Configurations | your_run_configuration | Modify options | Add VM options`","body":"Try adding <code>module-path&#47;add-modules</code> VM options as per <a href=\"https://stackoverflow.com/a/67240739/12844632\">stackoverflow.com/a/67240739/12844632</a> under <code>Run | Edit Configurations | your_run_configuration | Modify options | Add VM options</code>"}],"owner":{"account_id":28928689,"reputation":21,"user_id":22157931,"display_name":"Stronwood"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688970380,"creation_date":1688970380,"question_id":76651142,"body_markdown":"I&#39;ve been making a program to track a friend of mine&#39;s plane and send a text when landing/taking off using twilio. Had it working fine in Python and converted line for line to Java so I can make a UI for it in JavaFX. Unfortunately, now that I&#39;ve included the class that makes Twilio calls and included &quot;requires twilio;&quot; in my module-info.java, the program no longer runs after building. This is the error message:\r\n\r\n\r\n```\r\nError occurred during initialization of boot layer\r\njava.lang.module.FindException: Module twilio not found, required by com.slyecraft.adamair\r\n```\r\n\r\nmodule-info.java:\r\n\r\n\r\n```\r\nmodule com.slyecraft.adamair {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires javafx.web;\r\n    requires javafx.base;\r\n    requires javafx.graphics;\r\n    requires org.kordamp.ikonli.core;\r\n    requires org.kordamp.ikonli.javafx;\r\n    requires org.kordamp.ikonli.carbonicons;\r\n    requires twilio;\r\n\r\n\r\n    requires org.controlsfx.controls;\r\n    requires com.google.gson;\r\n\r\n    opens com.slyecraft.adamair to javafx.fxml;\r\n    exports com.slyecraft.adamair;\r\n}\r\n```\r\n\r\nrelevant build.gradle lines:\r\n\r\n\r\n```\r\ndependencies {\r\n    implementation(&#39;org.controlsfx:controlsfx:11.1.2&#39;)\r\n    implementation (&#39;org.kordamp.ikonli:ikonli-javafx:12.3.1&#39;)\r\n    implementation (&#39;org.kordamp.ikonli:ikonli-carbonicons-pack:12.3.1&#39;)\r\n    implementation (&#39;com.google.code.gson:gson:2.8.9&#39;)\r\n---&gt;implementation(&#39;com.twilio.sdk:twilio:9.6.0&#39;)\r\n\r\n\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\r\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\r\n}\r\n```\r\n\r\n\r\nand stack trace just in case:\r\n\r\n\r\n```\r\n Exception is:\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:AdamAir.main()&#39;.\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:149)\r\n\tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:147)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:135)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:74)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:42)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:337)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:324)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:317)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:303)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:463)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:380)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\r\nCaused by: org.gradle.process.internal.ExecException: Process &#39;command &#39;C:\\Program Files\\Java\\jdk-17\\bin\\java.exe&#39;&#39; finished with non-zero exit value 1\r\n\tat org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:415)\r\n\tat org.gradle.process.internal.DefaultJavaExecAction.execute(DefaultJavaExecAction.java:52)\r\n\tat org.gradle.api.tasks.JavaExec.exec(JavaExec.java:165)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:125)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:58)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:242)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:227)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:210)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:193)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:166)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:105)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:44)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:59)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:56)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:56)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:44)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:67)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:37)\r\n\tat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:50)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:28)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.executeDelegateBroadcastingChanges(CaptureStateAfterExecutionStep.java:100)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:72)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:50)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:40)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:29)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:166)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:70)\r\n\tat org.gradle.internal.Either$Right.fold(Either.java:175)\r\n\tat org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:68)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:46)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:91)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:55)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:55)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:37)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:65)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:36)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:76)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:37)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:94)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:49)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:71)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:45)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNonEmptySources(SkipEmptyWorkStep.java:177)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:81)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:53)\r\n\tat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\r\n\tat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\r\n\tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:36)\r\n\tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:23)\r\n\tat org.gradle.internal.execution.steps.CleanupStaleOutputsStep.execute(CleanupStaleOutputsStep.java:75)\r\n\tat org.gradle.internal.execution.steps.CleanupStaleOutputsStep.execute(CleanupStaleOutputsStep.java:41)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:32)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:287)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:21)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:47)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:34)\r\n\tat org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:64)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:146)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:135)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:74)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:42)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:337)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:324)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:317)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:303)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:463)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:380)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI&#39;ve tried several different versions of the twilio-java sdk as well as removing the classes in question and testing without. No change on different sdk versions, and removing the relevant classes allowed the program to run. I suspect IntelliJ might not be looking for the correct thing here, but I&#39;m not entirely sure where to check for that.","title":"Twilio module not found in IntelliJ Gradle/JavaFX project","body":"<p>I've been making a program to track a friend of mine's plane and send a text when landing/taking off using twilio. Had it working fine in Python and converted line for line to Java so I can make a UI for it in JavaFX. Unfortunately, now that I've included the class that makes Twilio calls and included &quot;requires twilio;&quot; in my module-info.java, the program no longer runs after building. This is the error message:</p>\n<pre><code>Error occurred during initialization of boot layer\njava.lang.module.FindException: Module twilio not found, required by com.slyecraft.adamair\n</code></pre>\n<p>module-info.java:</p>\n<pre><code>module com.slyecraft.adamair {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires javafx.web;\n    requires javafx.base;\n    requires javafx.graphics;\n    requires org.kordamp.ikonli.core;\n    requires org.kordamp.ikonli.javafx;\n    requires org.kordamp.ikonli.carbonicons;\n    requires twilio;\n\n\n    requires org.controlsfx.controls;\n    requires com.google.gson;\n\n    opens com.slyecraft.adamair to javafx.fxml;\n    exports com.slyecraft.adamair;\n}\n</code></pre>\n<p>relevant build.gradle lines:</p>\n<pre><code>dependencies {\n    implementation('org.controlsfx:controlsfx:11.1.2')\n    implementation ('org.kordamp.ikonli:ikonli-javafx:12.3.1')\n    implementation ('org.kordamp.ikonli:ikonli-carbonicons-pack:12.3.1')\n    implementation ('com.google.code.gson:gson:2.8.9')\n---&gt;implementation('com.twilio.sdk:twilio:9.6.0')\n\n\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\n}\n</code></pre>\n<p>and stack trace just in case:</p>\n<pre><code> Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':AdamAir.main()'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:149)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:147)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:135)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:74)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:42)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:337)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:324)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:317)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:303)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:463)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:380)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\nCaused by: org.gradle.process.internal.ExecException: Process 'command 'C:\\Program Files\\Java\\jdk-17\\bin\\java.exe'' finished with non-zero exit value 1\n    at org.gradle.process.internal.DefaultExecHandle$ExecResultImpl.assertNormalExitValue(DefaultExecHandle.java:415)\n    at org.gradle.process.internal.DefaultJavaExecAction.execute(DefaultJavaExecAction.java:52)\n    at org.gradle.api.tasks.JavaExec.exec(JavaExec.java:165)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:125)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:58)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\n    at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\n    at org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:242)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:227)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:210)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:193)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:166)\n    at org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:105)\n    at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:44)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:59)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:56)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:56)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:44)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:67)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:37)\n    at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\n    at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\n    at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:50)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:28)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.executeDelegateBroadcastingChanges(CaptureStateAfterExecutionStep.java:100)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:72)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:50)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:40)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:29)\n    at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:166)\n    at org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:70)\n    at org.gradle.internal.Either$Right.fold(Either.java:175)\n    at org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:68)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:46)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:91)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:55)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:55)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:37)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:65)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:36)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:76)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:37)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:94)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:49)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:71)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:45)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNonEmptySources(SkipEmptyWorkStep.java:177)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:81)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:53)\n    at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\n    at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:36)\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:23)\n    at org.gradle.internal.execution.steps.CleanupStaleOutputsStep.execute(CleanupStaleOutputsStep.java:75)\n    at org.gradle.internal.execution.steps.CleanupStaleOutputsStep.execute(CleanupStaleOutputsStep.java:41)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:32)\n    at org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:287)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:21)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:47)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:34)\n    at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:64)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:146)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:135)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:74)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:42)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:337)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:324)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:317)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:303)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:463)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:380)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\n\n</code></pre>\n<p>I've tried several different versions of the twilio-java sdk as well as removing the classes in question and testing without. No change on different sdk versions, and removing the relevant classes allowed the program to run. I suspect IntelliJ might not be looking for the correct thing here, but I'm not entirely sure where to check for that.</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":27976772,"reputation":591,"user_id":21365399,"display_name":"Ferro Luca"},"score":1,"creation_date":1688711226,"post_id":76634262,"comment_id":135113036,"body_markdown":"It is hard to tell without a minimal reproducible example (https://stackoverflow.com/help/minimal-reproducible-example)","body":"It is hard to tell without a minimal reproducible example (<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>)"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1688711996,"post_id":76634262,"comment_id":135113146,"body_markdown":"If you try with Apache Tika, does that manage to extract the inner embedded files?","body":"If you try with Apache Tika, does that manage to extract the inner embedded files?"},{"owner":{"account_id":28967622,"reputation":5,"user_id":22188644,"display_name":"Code Trickle"},"score":0,"creation_date":1688727149,"post_id":76634262,"comment_id":135115875,"body_markdown":"I have provided the example of what I am trying to do. The filePath refers to a word docx and I am reading the packagePart of a word docx and trying to parse the /word/embeddings","body":"I have provided the example of what I am trying to do. The filePath refers to a word docx and I am reading the packagePart of a word docx and trying to parse the /word/embeddings"}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688970128,"creation_date":1688746153,"answer_id":76638554,"question_id":76634262,"body_markdown":"Embedded document parts named `oleObject*.bin` and of content type `application/vnd.openxmlformats-officedocument.oleObject` are files in [POIFSFileSystem](https://poi.apache.org/apidocs/dev/org/apache/poi/poifs/filesystem/POIFSFileSystem.html) format.\r\n\r\nSo if the part name&#39;s content type is `application/vnd.openxmlformats-officedocument.oleObject`, then the part should read into a `POIFSFileSystem`. Having this, we can get the root node and iterating over all entries in this. If entry  is instance of `org.apache.poi.poifs.filesystem.DocumentEntry`, then this is an embedded document file. If the name of that `DocumentEntry` contains &quot;Ole10Native&quot;, then this is a `org.apache.poi.poifs.filesystem.Ole10Native`. The bytes of that `Ole10Native` can be got via `Ole10Native.getDataBuffer`. Most times the file name is stored in `Ole10Native.getLabel`.\r\n\r\nSometimes the entry is named &quot;CONTENTS&quot; only. In this case the bytes can be read via `org.apache.poi.poifs.filesystem.DocumentInputStream`. But the name and the type of that file seems not be stored in this case. So the only way to get the file type then will be get the file type out of the first bytes (magic bytes).\r\n\r\nComplete example, which works for me using current Apache POI 5.2.3. `WordDocumentHavingEmbeddings.docx` must contain some embedded files in its body.\r\n\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.xwpf.usermodel.XWPFDocument;\r\n    \r\n    public class XWPFReadOleObjectsBin {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n                    \r\n      FileInputStream in = new FileInputStream(&quot;./WordDocumentHavingEmbeddings.docx&quot;);\r\n                    \r\n      XWPFDocument document = new XWPFDocument(in); \r\n      \r\n      int fileNameIndex = 1;\r\n      \r\n      for (org.apache.poi.openxml4j.opc.PackagePart embeddedPart : document.getAllEmbeddedParts()) {\r\n       System.out.println(&quot;------------------------------------------&quot;);\r\n       System.out.println(&quot;PackagePart: &quot; + embeddedPart.getContentType());\r\n       if (&quot;application/vnd.openxmlformats-officedocument.oleObject&quot;.equals(embeddedPart.getContentType())) {\r\n        org.apache.poi.poifs.filesystem.POIFSFileSystem filesystem = new org.apache.poi.poifs.filesystem.POIFSFileSystem(embeddedPart.getInputStream());\r\n        org.apache.poi.poifs.filesystem.DirectoryNode rootNode = filesystem.getRoot();\r\n        for (org.apache.poi.poifs.filesystem.Entry entry : rootNode) {\r\n         System.out.println(&quot;Entry: &quot; + entry);\r\n         System.out.println(&quot;Entry name:&quot; + entry.getName());\r\n         if (entry instanceof org.apache.poi.poifs.filesystem.DocumentEntry) {\r\n          org.apache.poi.poifs.filesystem.DocumentEntry documentEntry = (org.apache.poi.poifs.filesystem.DocumentEntry)entry;\r\n          org.apache.poi.poifs.filesystem.Ole10Native ole10Native = null;\r\n          if (documentEntry.getName().contains(&quot;Ole10Native&quot;)) {   \r\n           try { // fails for linked Ole10Native\r\n            ole10Native = org.apache.poi.poifs.filesystem.Ole10Native.createFromEmbeddedOleObject(rootNode);\r\n           } catch (Exception e) {\r\n            continue;\r\n           }\r\n           System.out.println(&quot;Ole10Native command:&quot; + ole10Native.getCommand());\r\n           System.out.println(&quot;Ole10Native fileName:&quot; + ole10Native.getFileName());\r\n           System.out.println(&quot;Ole10Native label:&quot; + ole10Native.getLabel());\r\n           String fileName = ole10Native.getLabel();\r\n           if (fileName == null) fileName = &quot;unknownOle10Native&quot; + fileNameIndex++ + &quot;.nul&quot;;\r\n           byte[] data = ole10Native.getDataBuffer();\r\n           FileOutputStream out = new FileOutputStream(&quot;./&quot; + fileName);\r\n           out.write(data);\r\n           out.close();\r\n          } else if (documentEntry.getName().contains(&quot;CONTENTS&quot;)) {        \r\n           org.apache.poi.poifs.filesystem.DocumentInputStream documentInputStream = filesystem.createDocumentInputStream(documentEntry.getName());\r\n           String fileName = &quot;unknownCONTENTS&quot; + fileNameIndex++ + &quot;.nul&quot;;\r\n           FileOutputStream out = new FileOutputStream(&quot;./&quot; + fileName);\r\n           byte[] buffer = new byte[1024];\r\n           int len;\r\n           while ((len = documentInputStream.read(buffer)) != -1) {\r\n            out.write(buffer, 0, len);\r\n           }\r\n           out.close();\r\n          }\r\n         }\r\n        }\r\n       }\r\n      }\r\n     }\r\n    }\r\n\r\n________________________________________________________\r\n\r\nThere might be embedded parts in other package parts except the document body too. That could be headers and footers, comments, footnotes and endnotes and so on. Those parts would not be got via `XWPFDocument.getAllEmbeddedParts`. To really get all embedded parts, one would must change code above like so:\r\n\r\n    ...\r\n      //for (org.apache.poi.openxml4j.opc.PackagePart embeddedPart : document.getAllEmbeddedParts()) {\r\n      org.apache.poi.openxml4j.opc.OPCPackage opcPackage = document.getPackage();\r\n      for (org.apache.poi.openxml4j.opc.PackagePart embeddedPart : opcPackage.getParts()) {\r\n    ...","title":"Not able to download zip or exe directly but only as oleObject.bin from word docx file using apache poi","body":"<p>Embedded document parts named <code>oleObject*.bin</code> and of content type <code>application/vnd.openxmlformats-officedocument.oleObject</code> are files in <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/poifs/filesystem/POIFSFileSystem.html\" rel=\"nofollow noreferrer\">POIFSFileSystem</a> format.</p>\n<p>So if the part name's content type is <code>application/vnd.openxmlformats-officedocument.oleObject</code>, then the part should read into a <code>POIFSFileSystem</code>. Having this, we can get the root node and iterating over all entries in this. If entry  is instance of <code>org.apache.poi.poifs.filesystem.DocumentEntry</code>, then this is an embedded document file. If the name of that <code>DocumentEntry</code> contains &quot;Ole10Native&quot;, then this is a <code>org.apache.poi.poifs.filesystem.Ole10Native</code>. The bytes of that <code>Ole10Native</code> can be got via <code>Ole10Native.getDataBuffer</code>. Most times the file name is stored in <code>Ole10Native.getLabel</code>.</p>\n<p>Sometimes the entry is named &quot;CONTENTS&quot; only. In this case the bytes can be read via <code>org.apache.poi.poifs.filesystem.DocumentInputStream</code>. But the name and the type of that file seems not be stored in this case. So the only way to get the file type then will be get the file type out of the first bytes (magic bytes).</p>\n<p>Complete example, which works for me using current Apache POI 5.2.3. <code>WordDocumentHavingEmbeddings.docx</code> must contain some embedded files in its body.</p>\n<pre><code>import java.io.FileInputStream;\nimport java.io.FileOutputStream;\n\nimport org.apache.poi.xwpf.usermodel.XWPFDocument;\n\npublic class XWPFReadOleObjectsBin {\n\n public static void main(String[] args) throws Exception {\n                \n  FileInputStream in = new FileInputStream(&quot;./WordDocumentHavingEmbeddings.docx&quot;);\n                \n  XWPFDocument document = new XWPFDocument(in); \n  \n  int fileNameIndex = 1;\n  \n  for (org.apache.poi.openxml4j.opc.PackagePart embeddedPart : document.getAllEmbeddedParts()) {\n   System.out.println(&quot;------------------------------------------&quot;);\n   System.out.println(&quot;PackagePart: &quot; + embeddedPart.getContentType());\n   if (&quot;application/vnd.openxmlformats-officedocument.oleObject&quot;.equals(embeddedPart.getContentType())) {\n    org.apache.poi.poifs.filesystem.POIFSFileSystem filesystem = new org.apache.poi.poifs.filesystem.POIFSFileSystem(embeddedPart.getInputStream());\n    org.apache.poi.poifs.filesystem.DirectoryNode rootNode = filesystem.getRoot();\n    for (org.apache.poi.poifs.filesystem.Entry entry : rootNode) {\n     System.out.println(&quot;Entry: &quot; + entry);\n     System.out.println(&quot;Entry name:&quot; + entry.getName());\n     if (entry instanceof org.apache.poi.poifs.filesystem.DocumentEntry) {\n      org.apache.poi.poifs.filesystem.DocumentEntry documentEntry = (org.apache.poi.poifs.filesystem.DocumentEntry)entry;\n      org.apache.poi.poifs.filesystem.Ole10Native ole10Native = null;\n      if (documentEntry.getName().contains(&quot;Ole10Native&quot;)) {   \n       try { // fails for linked Ole10Native\n        ole10Native = org.apache.poi.poifs.filesystem.Ole10Native.createFromEmbeddedOleObject(rootNode);\n       } catch (Exception e) {\n        continue;\n       }\n       System.out.println(&quot;Ole10Native command:&quot; + ole10Native.getCommand());\n       System.out.println(&quot;Ole10Native fileName:&quot; + ole10Native.getFileName());\n       System.out.println(&quot;Ole10Native label:&quot; + ole10Native.getLabel());\n       String fileName = ole10Native.getLabel();\n       if (fileName == null) fileName = &quot;unknownOle10Native&quot; + fileNameIndex++ + &quot;.nul&quot;;\n       byte[] data = ole10Native.getDataBuffer();\n       FileOutputStream out = new FileOutputStream(&quot;./&quot; + fileName);\n       out.write(data);\n       out.close();\n      } else if (documentEntry.getName().contains(&quot;CONTENTS&quot;)) {        \n       org.apache.poi.poifs.filesystem.DocumentInputStream documentInputStream = filesystem.createDocumentInputStream(documentEntry.getName());\n       String fileName = &quot;unknownCONTENTS&quot; + fileNameIndex++ + &quot;.nul&quot;;\n       FileOutputStream out = new FileOutputStream(&quot;./&quot; + fileName);\n       byte[] buffer = new byte[1024];\n       int len;\n       while ((len = documentInputStream.read(buffer)) != -1) {\n        out.write(buffer, 0, len);\n       }\n       out.close();\n      }\n     }\n    }\n   }\n  }\n }\n}\n</code></pre>\n<hr />\n<p>There might be embedded parts in other package parts except the document body too. That could be headers and footers, comments, footnotes and endnotes and so on. Those parts would not be got via <code>XWPFDocument.getAllEmbeddedParts</code>. To really get all embedded parts, one would must change code above like so:</p>\n<pre><code>...\n  //for (org.apache.poi.openxml4j.opc.PackagePart embeddedPart : document.getAllEmbeddedParts()) {\n  org.apache.poi.openxml4j.opc.OPCPackage opcPackage = document.getPackage();\n  for (org.apache.poi.openxml4j.opc.PackagePart embeddedPart : opcPackage.getParts()) {\n...\n</code></pre>\n"}],"owner":{"account_id":28967622,"reputation":5,"user_id":22188644,"display_name":"Code Trickle"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688970128,"creation_date":1688709429,"question_id":76634262,"body_markdown":"I am using `XWPFDocument` to parse a Word docx which contains zip, .exe, .docx, .xlsx files all embedded.\r\nI&#39;m able to download .docx, and .xlsx files successfully using `PackagePart` of the `XWPFDocument`, whereas zip and exe files are getting converted during the download as oleObject[1...4].bin and I am unable to reconvert to the original file name and properties.\r\nHow do I maintain the original zip/.exe files name and properties?\r\n\r\nI also compared the MD5Sum of the original .exe and the converted from code oleObject.bin  and they are completely different. \r\n\r\n   \r\n```java\r\n    public void extractEmbeddedFiles(String filePath) throws IOException, InvalidFormatException {\r\n\r\n        InputStream is = getFileFromResourceAsStream(filePath);\r\n\r\n        OPCPackage opcPackage = OPCPackage.open(is);\r\n\r\n        List&lt;PackagePart&gt; packageParts = opcPackage.getParts();\r\n\r\n        for (PackagePart packagePart : packageParts) {\r\n            System.out.println(packagePart.getPartName().toString());\r\n\r\n            if (packagePart.getPartName().getName().contains(&quot;/word/&quot;)) {\r\n                try {\r\n                    InputStream is1 = packagePart.getInputStream();\r\n                    long n = 254;\r\n                    is1.skip(n);\r\n                    WordExtractorTest test = new WordExtractorTest();\r\n                    test.test(packagePart);\r\n\r\n                } catch (Exception e) {\r\n                    System.out.println(&quot;Exception occurred :&quot; + e.getMessage());\r\n                }\r\n            }\r\n        }\r\n\r\n```\r\n I am able to read the embedded files as oleObject.bin but not able to read the original zip/exe format\r\n\r\n Also, I am unable to get the original file name and properties. How to get original file name properties of the embedded exe&#39;s, zip files from `XWPFDocument`, or how to get the original file from the word docx using `XWPFDocument`. While I compared the MD5Sum of the exe after manually directly copying it from the word docx and oleObject.bin generated from the code are completely different\r\n\r\nI wanted to get the exact file .exe or .zip from the docx file using `XWPFDocument`. Please let me know of any code examples or code extracts that can do this.","title":"Not able to download zip or exe directly but only as oleObject.bin from word docx file using apache poi","body":"<p>I am using <code>XWPFDocument</code> to parse a Word docx which contains zip, .exe, .docx, .xlsx files all embedded.\nI'm able to download .docx, and .xlsx files successfully using <code>PackagePart</code> of the <code>XWPFDocument</code>, whereas zip and exe files are getting converted during the download as oleObject[1...4].bin and I am unable to reconvert to the original file name and properties.\nHow do I maintain the original zip/.exe files name and properties?</p>\n<p>I also compared the MD5Sum of the original .exe and the converted from code oleObject.bin  and they are completely different.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public void extractEmbeddedFiles(String filePath) throws IOException, InvalidFormatException {\n\n        InputStream is = getFileFromResourceAsStream(filePath);\n\n        OPCPackage opcPackage = OPCPackage.open(is);\n\n        List&lt;PackagePart&gt; packageParts = opcPackage.getParts();\n\n        for (PackagePart packagePart : packageParts) {\n            System.out.println(packagePart.getPartName().toString());\n\n            if (packagePart.getPartName().getName().contains(&quot;/word/&quot;)) {\n                try {\n                    InputStream is1 = packagePart.getInputStream();\n                    long n = 254;\n                    is1.skip(n);\n                    WordExtractorTest test = new WordExtractorTest();\n                    test.test(packagePart);\n\n                } catch (Exception e) {\n                    System.out.println(&quot;Exception occurred :&quot; + e.getMessage());\n                }\n            }\n        }\n\n</code></pre>\n<p>I am able to read the embedded files as oleObject.bin but not able to read the original zip/exe format</p>\n<p>Also, I am unable to get the original file name and properties. How to get original file name properties of the embedded exe's, zip files from <code>XWPFDocument</code>, or how to get the original file from the word docx using <code>XWPFDocument</code>. While I compared the MD5Sum of the exe after manually directly copying it from the word docx and oleObject.bin generated from the code are completely different</p>\n<p>I wanted to get the exact file .exe or .zip from the docx file using <code>XWPFDocument</code>. Please let me know of any code examples or code extracts that can do this.</p>\n"},{"tags":["java","postgresql","jdbc"],"comments":[{"owner":{"account_id":23201300,"reputation":3123,"user_id":17296084,"display_name":"Ramin Faracov"},"score":0,"creation_date":1688724534,"post_id":76635428,"comment_id":135115381,"body_markdown":"What do you want? only data changes (update, delete, insert and etc.) or data changes and table structure changes? (Add field, drop field, add table and etc.) And also keep in mind that: when you will be listen database changes via backend (via JDBC) you cannot detect changes which made by DB administrators directly.","body":"What do you want? only data changes (update, delete, insert and etc.) or data changes and table structure changes? (Add field, drop field, add table and etc.) And also keep in mind that: when you will be listen database changes via backend (via JDBC) you cannot detect changes which made by DB administrators directly."},{"owner":{"account_id":25142135,"reputation":3,"user_id":18988366,"display_name":"Ulis"},"score":0,"creation_date":1688725303,"post_id":76635428,"comment_id":135115537,"body_markdown":"@RaminFaracov I want the application to react in Runtime to ANY changes that occur in the database, having only a connection to it.","body":"@RaminFaracov I want the application to react in Runtime to ANY changes that occur in the database, having only a connection to it."},{"owner":{"account_id":8633322,"reputation":218343,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1688731363,"post_id":76635428,"comment_id":135116730,"body_markdown":"You won&#39;t be able to do that.","body":"You won&#39;t be able to do that."},{"owner":{"account_id":3477991,"reputation":3445,"user_id":2910751,"accept_rate":90,"display_name":"Martin Frank"},"score":0,"creation_date":1688732217,"post_id":76635428,"comment_id":135116917,"body_markdown":"best approach would be to &quot;hide&quot; your database from all public access and grant access only over your dedicated interface (like a rest service) - from there you would be able to react on any action going from/to the database","body":"best approach would be to &quot;hide&quot; your database from all public access and grant access only over your dedicated interface (like a rest service) - from there you would be able to react on any action going from/to the database"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1688832004,"post_id":76635428,"comment_id":135128280,"body_markdown":"It&#39;s not that those clients know what you run and are able to display the messages? Do they capture if you run some random sql through plsql?","body":"It&#39;s not that those clients know what you run and are able to display the messages? Do they capture if you run some random sql through plsql?"}],"owner":{"account_id":25142135,"reputation":3,"user_id":18988366,"display_name":"Ulis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688969827,"creation_date":1688720089,"question_id":76635428,"body_markdown":"There is a task, you need to make an event method using JDBC under PostgreSQL that reacts to any internal changes in the database (be it adding a user to it, changing the user&#39;s rights, changing data in the table, etc...)\r\n\r\n```\r\n@Override\r\npublic void onEvent(Event event) {\r\n     System.out.print(&quot;Database has changed&quot;);\r\n}\r\n```\r\n\r\nAnd the Event class will contain the Event#getMessage() method, which returns a string in the form of a query that just happened in the database.\r\n\r\nFor example: if you worked with HeidiSQL or PGAdmin, you could see when you make any changes in the database, then it displays a message in a separate window.\r\n\r\nThus, here is an example of what the method should display when deleting a cell from the user table of the INT id field\r\n\r\n```\r\n@Override\r\npublic void onEvent(Event event) {\r\n     System.out.print(&quot;Database has changed: &quot; + event.getMessage());\r\n}\r\n\r\n```\r\n\r\n`The database has changed: DELETE FROM &quot;public&quot;.&quot;user&quot; WHERE &quot;id&quot;=3;`\r\n\r\nI learned about several solutions to this problem:\r\n\r\n1. Enable logging, and read the log via tail -f, but be aware that this affects performance.\r\n\r\n2. Create copies of all tables and compare them. With a period ... well, maybe once every 15 minutes. Which is no longer good, because. with more, it turns out that the database is occupied only by copying back and forth and comparing, which also greatly affects performance.\r\n\r\n3. CDC (Change Data Capture) technologies. But there is a problem that they can cost money and they are different for all DBMS.\r\n\r\nOf course, the main problem for me is the requirement to enable full logging, which is not implied in the stock database and also affects memory costs, but from experience, [pgAdmin][1] somehow does this without enabling full logging, so there are other ways. But also, the big problem is that a separate table is implied, which also does not suit.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/PostgreSQL#Database_administration\r\n\r\n","title":"How can I implement the most optimal way to listen for changes in the database via JDBC?","body":"<p>There is a task, you need to make an event method using JDBC under PostgreSQL that reacts to any internal changes in the database (be it adding a user to it, changing the user's rights, changing data in the table, etc...)</p>\n<pre><code>@Override\npublic void onEvent(Event event) {\n     System.out.print(&quot;Database has changed&quot;);\n}\n</code></pre>\n<p>And the Event class will contain the Event#getMessage() method, which returns a string in the form of a query that just happened in the database.</p>\n<p>For example: if you worked with HeidiSQL or PGAdmin, you could see when you make any changes in the database, then it displays a message in a separate window.</p>\n<p>Thus, here is an example of what the method should display when deleting a cell from the user table of the INT id field</p>\n<pre><code>@Override\npublic void onEvent(Event event) {\n     System.out.print(&quot;Database has changed: &quot; + event.getMessage());\n}\n\n</code></pre>\n<p><code>The database has changed: DELETE FROM &quot;public&quot;.&quot;user&quot; WHERE &quot;id&quot;=3;</code></p>\n<p>I learned about several solutions to this problem:</p>\n<ol>\n<li><p>Enable logging, and read the log via tail -f, but be aware that this affects performance.</p>\n</li>\n<li><p>Create copies of all tables and compare them. With a period ... well, maybe once every 15 minutes. Which is no longer good, because. with more, it turns out that the database is occupied only by copying back and forth and comparing, which also greatly affects performance.</p>\n</li>\n<li><p>CDC (Change Data Capture) technologies. But there is a problem that they can cost money and they are different for all DBMS.</p>\n</li>\n</ol>\n<p>Of course, the main problem for me is the requirement to enable full logging, which is not implied in the stock database and also affects memory costs, but from experience, <a href=\"https://en.wikipedia.org/wiki/PostgreSQL#Database_administration\" rel=\"nofollow noreferrer\">pgAdmin</a> somehow does this without enabling full logging, so there are other ways. But also, the big problem is that a separate table is implied, which also does not suit.</p>\n"},{"tags":["java","ejb","dto","anti-patterns","data-transfer-objects"],"comments":[{"owner":{"account_id":51939,"reputation":10195,"user_id":155201,"accept_rate":75,"display_name":"Zoidberg"},"score":14,"creation_date":1253217131,"post_id":1440952,"comment_id":1286289,"body_markdown":"Perhaps because business objects are themselves capable of transporting their own data thank you very much!","body":"Perhaps because business objects are themselves capable of transporting their own data thank you very much!"},{"owner":{"account_id":4957,"reputation":126081,"user_id":7714,"accept_rate":100,"display_name":"Craig Stuntz"},"score":18,"creation_date":1253217256,"post_id":1440952,"comment_id":1286301,"body_markdown":"&quot;Anti-pattern&quot; may well be my nominee for &quot;phrase whose 15 minutes were up a long time ago.&quot; It&#39;s synonymous with &quot;I don&#39;t care to bother justifying my thinking&quot; by now, like &quot;It&#39;s well-known that...&quot;","body":"&quot;Anti-pattern&quot; may well be my nominee for &quot;phrase whose 15 minutes were up a long time ago.&quot; It&#39;s synonymous with &quot;I don&#39;t care to bother justifying my thinking&quot; by now, like &quot;It&#39;s well-known that...&quot;"},{"owner":{"account_id":4957,"reputation":126081,"user_id":7714,"accept_rate":100,"display_name":"Craig Stuntz"},"score":7,"creation_date":1253217355,"post_id":1440952,"comment_id":1286318,"body_markdown":"Zoidberg, sending objects with methods over the wire gave us CORBA, DCOM, and other experiences I try erase my memory of. The trouble is, sooner or later people want to *call* those methods.","body":"Zoidberg, sending objects with methods over the wire gave us CORBA, DCOM, and other experiences I try erase my memory of. The trouble is, sooner or later people want to <i>call</i> those methods."},{"owner":{"account_id":16595,"reputation":40757,"user_id":36330,"accept_rate":77,"display_name":"joeforker"},"score":15,"creation_date":1253217506,"post_id":1440952,"comment_id":1286337,"body_markdown":"DTOs embody the DRY principle, which unfortunatly in J2EE stands for *do* repeat yourself.","body":"DTOs embody the DRY principle, which unfortunatly in J2EE stands for <i>do</i> repeat yourself."},{"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"score":2,"creation_date":1580396844,"post_id":1440952,"comment_id":106091185,"body_markdown":"You may want to read this: [Data Transfer Object Is a Shame](https://www.yegor256.com/2016/07/06/data-transfer-object.html)","body":"You may want to read this: <a href=\"https://www.yegor256.com/2016/07/06/data-transfer-object.html\" rel=\"nofollow noreferrer\">Data Transfer Object Is a Shame</a>"}],"answers":[{"tags":[],"owner":{"account_id":14332,"reputation":1027392,"user_id":29407,"accept_rate":86,"display_name":"Darin Dimitrov"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1253217138,"creation_date":1253217138,"answer_id":1440979,"question_id":1440952,"body_markdown":"OO purists would say that DTO is anti-pattern because objects become data table representations instead of real domain objects. ","title":"Why are data transfer objects (DTOs) an anti-pattern?","body":"<p>OO purists would say that DTO is anti-pattern because objects become data table representations instead of real domain objects. </p>\n"},{"tags":[],"owner":{"account_id":56909,"reputation":19748,"user_id":170443,"accept_rate":89,"display_name":"jdehaan"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1540536400,"creation_date":1253217150,"answer_id":1440980,"question_id":1440952,"body_markdown":"I think the people mean it could be an anti-pattern if you implement all remote objects as DTOs. A DTO is merely just a set of attributes and if you have big objects you would always transfer all the attributes even if you do not need or use them. In the latter case prefer using a Proxy pattern.","title":"Why are data transfer objects (DTOs) an anti-pattern?","body":"<p>I think the people mean it could be an anti-pattern if you implement all remote objects as DTOs. A DTO is merely just a set of attributes and if you have big objects you would always transfer all the attributes even if you do not need or use them. In the latter case prefer using a Proxy pattern.</p>\n"},{"tags":[],"owner":{"account_id":26356,"reputation":68584,"user_id":68507,"accept_rate":94,"display_name":"Ben S"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1504451090,"creation_date":1253217225,"answer_id":1440988,"question_id":1440952,"body_markdown":"Some consider DTOs an anti-pattern due to their possible abuses. They&#39;re often used when they shouldn&#39;t be/don&#39;t need to be.\r\n\r\n[This article][1] vaguely describes some abuses.\r\n\r\n  [1]: http://anirudhvyas.com/root/2008/04/19/abuses-of-dto-pattern-in-java-world/\r\n\r\n","title":"Why are data transfer objects (DTOs) an anti-pattern?","body":"<p>Some consider DTOs an anti-pattern due to their possible abuses. They're often used when they shouldn't be/don't need to be.</p>\n\n<p><a href=\"http://anirudhvyas.com/root/2008/04/19/abuses-of-dto-pattern-in-java-world/\" rel=\"nofollow noreferrer\">This article</a> vaguely describes some abuses.</p>\n"},{"tags":[],"owner":{"account_id":35305,"reputation":3896,"user_id":99967,"display_name":"aem"},"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1646670593,"creation_date":1253217263,"answer_id":1440990,"question_id":1440952,"body_markdown":"&quot;DTO an AntiPattern in EJB 3.0&quot; (original link currently offline) says:\r\n\r\n&gt; The heavy weight nature of Entity\r\n&gt; Beans in EJB specifications prior to\r\n&gt; EJB 3.0, resulted in the usage of\r\n&gt; design patterns like Data Transfer\r\n&gt; Objects (DTO). DTOs became the\r\n&gt; lightweight objects (which should have\r\n&gt; been the entity beans themselves in\r\n&gt; the first place), used for sending the\r\n&gt; data across the tiers... now EJB 3.0\r\n&gt; spec makes the Entity bean model same\r\n&gt; as Plain old Java object (POJO). With\r\n&gt; this new POJO model, you will no\r\n&gt; longer need to create a DTO for each\r\n&gt; entity or for a set of entities... If\r\n&gt; you want to send the EJB 3.0 entities\r\n&gt; across the tier make them just\r\n&gt; implement java.io.Serialiazable\r\n\r\n\r\n  [1]: http://www.jroller.com/raghukodali/entry/dto_an_antipattern_in_ejb","title":"Why are data transfer objects (DTOs) an anti-pattern?","body":"<p>&quot;DTO an AntiPattern in EJB 3.0&quot; (original link currently offline) says:</p>\n<blockquote>\n<p>The heavy weight nature of Entity\nBeans in EJB specifications prior to\nEJB 3.0, resulted in the usage of\ndesign patterns like Data Transfer\nObjects (DTO). DTOs became the\nlightweight objects (which should have\nbeen the entity beans themselves in\nthe first place), used for sending the\ndata across the tiers... now EJB 3.0\nspec makes the Entity bean model same\nas Plain old Java object (POJO). With\nthis new POJO model, you will no\nlonger need to create a DTO for each\nentity or for a set of entities... If\nyou want to send the EJB 3.0 entities\nacross the tier make them just\nimplement java.io.Serialiazable</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":30387,"reputation":62460,"user_id":82865,"accept_rate":71,"display_name":"Jonathan Holloway"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1687224723,"creation_date":1253217272,"answer_id":1440991,"question_id":1440952,"body_markdown":"I don&#39;t think DTOs are an anti-pattern per se, but there are antipatterns associated with the use of DTOs.  Bill Dudney refers to DTO explosion as an example:\r\n\r\n[http://www.softwaresummit.com/2003/speakers/DudneyJ2EEAntiPatterns.pdf][1]\r\n\r\nThere are also a number of abuses of DTOs mentioned here:\r\n\r\n[http://anirudhvyas.com/root/2008/04/19/abuses-of-dto-pattern-in-java-world/][2]\r\n\r\nThey originated because of three tier systems (typically using EJB as technology) as a means to pass data between tiers.  Most modern day Java systems based on frameworks such as Spring take an alternative simplified view using POJOs as domain objects (often annotated with JPA etc...) in a single tier...  The use of DTOs here is unnecessary.\r\n\r\n  [1]: http://www.softwaresummit.com/2003/speakers/DudneyJ2EEAntiPatterns.pdf\r\n  [2]: http://anirudhvyas.com/root/2008/04/19/abuses-of-dto-pattern-in-java-world/","title":"Why are data transfer objects (DTOs) an anti-pattern?","body":"<p>I don't think DTOs are an anti-pattern per se, but there are antipatterns associated with the use of DTOs.  Bill Dudney refers to DTO explosion as an example:</p>\n<p><a href=\"http://www.softwaresummit.com/2003/speakers/DudneyJ2EEAntiPatterns.pdf\" rel=\"nofollow noreferrer\">http://www.softwaresummit.com/2003/speakers/DudneyJ2EEAntiPatterns.pdf</a></p>\n<p>There are also a number of abuses of DTOs mentioned here:</p>\n<p><a href=\"http://anirudhvyas.com/root/2008/04/19/abuses-of-dto-pattern-in-java-world/\" rel=\"nofollow noreferrer\">http://anirudhvyas.com/root/2008/04/19/abuses-of-dto-pattern-in-java-world/</a></p>\n<p>They originated because of three tier systems (typically using EJB as technology) as a means to pass data between tiers.  Most modern day Java systems based on frameworks such as Spring take an alternative simplified view using POJOs as domain objects (often annotated with JPA etc...) in a single tier...  The use of DTOs here is unnecessary.</p>\n"},{"tags":[],"owner":{"account_id":49175,"reputation":23807,"user_id":146347,"accept_rate":100,"display_name":"KLE"},"down_vote_count":13,"up_vote_count":186,"is_accepted":true,"score":173,"last_activity_date":1264390859,"creation_date":1253217293,"answer_id":1440994,"question_id":1440952,"body_markdown":"**Some projects have all data twice**. Once as domain objects, and once as data transfer objects. \r\n\r\nThis **duplication has a huge cost**, so the architecture needs to get a huge benefit from this separation to be worth it.","title":"Why are data transfer objects (DTOs) an anti-pattern?","body":"<p><strong>Some projects have all data twice</strong>. Once as domain objects, and once as data transfer objects. </p>\n\n<p>This <strong>duplication has a huge cost</strong>, so the architecture needs to get a huge benefit from this separation to be worth it.</p>\n"},{"tags":[],"owner":{"account_id":7656,"reputation":31380,"user_id":13356,"accept_rate":84,"display_name":"Gabe Moothart"},"down_vote_count":6,"up_vote_count":155,"is_accepted":false,"score":149,"last_activity_date":1687224525,"creation_date":1253217619,"answer_id":1441023,"question_id":1440952,"body_markdown":"DTOs are not an anti-pattern. When you&#39;re sending some data across the wire (say, to a web page in an Ajax call), you want to be sure that you conserve bandwidth by only sending data that the destination will use. Also, often it is convenient for the presentation layer to have the data in a slightly different format than a native business object.\r\n\r\nI know this is a Java-oriented question, but in .NET languages anonymous types, serialization, and LINQ allow DTOs to be constructed on-the-fly, which reduces the setup and overhead of using them.\r\n","title":"Why are data transfer objects (DTOs) an anti-pattern?","body":"<p>DTOs are not an anti-pattern. When you're sending some data across the wire (say, to a web page in an Ajax call), you want to be sure that you conserve bandwidth by only sending data that the destination will use. Also, often it is convenient for the presentation layer to have the data in a slightly different format than a native business object.</p>\n<p>I know this is a Java-oriented question, but in .NET languages anonymous types, serialization, and LINQ allow DTOs to be constructed on-the-fly, which reduces the setup and overhead of using them.</p>\n"},{"tags":[],"owner":{"account_id":141808,"reputation":864,"user_id":349102,"accept_rate":100,"display_name":"Bealer"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1540536379,"creation_date":1253232603,"answer_id":1441983,"question_id":1440952,"body_markdown":"If you&#39;re building a distributed system, then DTOs are certainly not an anti pattern. Not everyone will develop in that sense, but if you have a (for example) Open Social app all running off JavaScript. \r\n\r\nIt will post a load of data to your API. This is then deserialized into some form of object, typically a DTO/Request object. This can then be validated to ensure the data entered is correct before being converted into a model object. \r\n\r\nIn my opinion, it&#39;s seen as an anti-pattern because it&#39;s mis-used. If you&#39;re not build a distributed system, chances are you don&#39;t need them. \r\n\r\n","title":"Why are data transfer objects (DTOs) an anti-pattern?","body":"<p>If you're building a distributed system, then DTOs are certainly not an anti pattern. Not everyone will develop in that sense, but if you have a (for example) Open Social app all running off JavaScript. </p>\n\n<p>It will post a load of data to your API. This is then deserialized into some form of object, typically a DTO/Request object. This can then be validated to ensure the data entered is correct before being converted into a model object. </p>\n\n<p>In my opinion, it's seen as an anti-pattern because it's mis-used. If you're not build a distributed system, chances are you don't need them. </p>\n"},{"tags":[],"owner":{"account_id":296815,"reputation":7375,"user_id":601990,"accept_rate":50,"display_name":"MovGP0"},"down_vote_count":5,"up_vote_count":7,"is_accepted":false,"score":2,"last_activity_date":1419248629,"creation_date":1419248629,"answer_id":27602054,"question_id":1440952,"body_markdown":"The intention of a [Data Transfer Object][1] is to store data from different sources and then transfer it into a database (or [Remote Facade][2]) at once. \r\n\r\nHowever, **the DTO pattern violates the [Single Responsibility Principle][3]**, since the DTO not only stores data, but also transfers it from or to the database/facade. \r\n\r\nThe need to separate data objects from business objects is not an antipattern, since it is probably required to [separate the database layer][4] anyway. \r\n\r\nInstead of DTOs you should use the Aggregate and Repository Patterns, which separates the collection of objects ([Aggregate][5]) and the data transfer ([Repository][6]). \r\n\r\nTo transfer a group of objects you can use the [Unit Of Work][7] pattern, that holds a set of Repositories and a transaction context; in order to transfer each object in the aggregate separately within the transaction. \r\n\r\n\r\n  [1]: http://martinfowler.com/eaaCatalog/dataTransferObject.html\r\n  [2]: http://martinfowler.com/eaaCatalog/remoteFacade.html\r\n  [3]: http://www.objectmentor.com/resources/articles/srp.pdf\r\n  [4]: http://www.amazon.com/Domain-Driven-Design-Tackling-Complexity-Software/dp/0321125215\r\n  [5]: http://martinfowler.com/bliki/DDD_Aggregate.html\r\n  [6]: http://martinfowler.com/eaaCatalog/repository.html\r\n  [7]: http://martinfowler.com/eaaCatalog/unitOfWork.html","title":"Why are data transfer objects (DTOs) an anti-pattern?","body":"<p>The intention of a <a href=\"http://martinfowler.com/eaaCatalog/dataTransferObject.html\" rel=\"nofollow noreferrer\">Data Transfer Object</a> is to store data from different sources and then transfer it into a database (or <a href=\"http://martinfowler.com/eaaCatalog/remoteFacade.html\" rel=\"nofollow noreferrer\">Remote Facade</a>) at once. </p>\n\n<p>However, <strong>the DTO pattern violates the <a href=\"http://www.objectmentor.com/resources/articles/srp.pdf\" rel=\"nofollow noreferrer\">Single Responsibility Principle</a></strong>, since the DTO not only stores data, but also transfers it from or to the database/facade. </p>\n\n<p>The need to separate data objects from business objects is not an antipattern, since it is probably required to <a href=\"https://rads.stackoverflow.com/amzn/click/com/0321125215\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">separate the database layer</a> anyway. </p>\n\n<p>Instead of DTOs you should use the Aggregate and Repository Patterns, which separates the collection of objects (<a href=\"http://martinfowler.com/bliki/DDD_Aggregate.html\" rel=\"nofollow noreferrer\">Aggregate</a>) and the data transfer (<a href=\"http://martinfowler.com/eaaCatalog/repository.html\" rel=\"nofollow noreferrer\">Repository</a>). </p>\n\n<p>To transfer a group of objects you can use the <a href=\"http://martinfowler.com/eaaCatalog/unitOfWork.html\" rel=\"nofollow noreferrer\">Unit Of Work</a> pattern, that holds a set of Repositories and a transaction context; in order to transfer each object in the aggregate separately within the transaction. </p>\n"},{"tags":[],"owner":{"account_id":1389614,"reputation":1649,"user_id":1320774,"accept_rate":50,"display_name":"javadev"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1504451353,"creation_date":1445874217,"answer_id":33349878,"question_id":1440952,"body_markdown":"DTO becomes a necessity and not an ANTI-PATTERN when you have all your domain objects load associated objects EAGERly.\r\n\r\nIf you don&#39;t make DTOs, you will have unnecessary transferred objects from your business layer to your client/web layer.\r\n\r\nTo limit overhead for this case, rather transfer DTOs.\r\n","title":"Why are data transfer objects (DTOs) an anti-pattern?","body":"<p>DTO becomes a necessity and not an ANTI-PATTERN when you have all your domain objects load associated objects EAGERly.</p>\n\n<p>If you don't make DTOs, you will have unnecessary transferred objects from your business layer to your client/web layer.</p>\n\n<p>To limit overhead for this case, rather transfer DTOs.</p>\n"},{"tags":[],"owner":{"account_id":132051,"reputation":4348,"user_id":332517,"accept_rate":58,"display_name":"Rostislav Matl"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1688969042,"creation_date":1534951954,"answer_id":51970312,"question_id":1440952,"body_markdown":"The question should not be &quot;why&quot;, but &quot;**when**&quot;.\r\n\r\nDefinitively it&#39;s **an anti-pattern when the only result of using it is higher cost** - run-time or maintenance. I worked on projects having hundreds of DTOs identical to database entity classes. Each time you wanted to add a single field you had to add id like four times - to DTO, to entity, to conversion from DTO to domain classes or entities, the inverse conversion, ... You forgot some of the places and data got inconsistent. \r\n\r\nIt&#39;s **not an anti-pattern when you really need different representation of domain classes** - flatter, richer, ... \r\n\r\nPersonally, I start with a domain class and pass it around, with proper checks at the right places. I can annotate and/or add some &quot;helper&quot; classes to make mappings to database, to serialization formats like JSON or XML ... I can always split a class to two if I feel the need.\r\n\r\nIt&#39;s about your point of view - I prefer to look at a domain object as a single object playing various roles, instead of multiple objects created from each other. If the only role of an object is to transport data, then it&#39;s DTO.\r\n","title":"Why are data transfer objects (DTOs) an anti-pattern?","body":"<p>The question should not be &quot;why&quot;, but &quot;<strong>when</strong>&quot;.</p>\n<p>Definitively it's <strong>an anti-pattern when the only result of using it is higher cost</strong> - run-time or maintenance. I worked on projects having hundreds of DTOs identical to database entity classes. Each time you wanted to add a single field you had to add id like four times - to DTO, to entity, to conversion from DTO to domain classes or entities, the inverse conversion, ... You forgot some of the places and data got inconsistent.</p>\n<p>It's <strong>not an anti-pattern when you really need different representation of domain classes</strong> - flatter, richer, ...</p>\n<p>Personally, I start with a domain class and pass it around, with proper checks at the right places. I can annotate and/or add some &quot;helper&quot; classes to make mappings to database, to serialization formats like JSON or XML ... I can always split a class to two if I feel the need.</p>\n<p>It's about your point of view - I prefer to look at a domain object as a single object playing various roles, instead of multiple objects created from each other. If the only role of an object is to transport data, then it's DTO.</p>\n"}],"owner":{"account_id":19818,"reputation":7490,"user_id":2200391,"accept_rate":83,"display_name":"ntownsend"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77847,"favorite_count":0,"down_vote_count":0,"up_vote_count":155,"accepted_answer_id":1440994,"answer_count":11,"score":155,"last_activity_date":1688969042,"creation_date":1253216794,"question_id":1440952,"body_markdown":"I&#39;ve recently overheard people saying that [data transfer objects][1] (DTOs) are an *anti-pattern*. \r\n\r\nWhy? What are the alternatives?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Data_transfer_object\r\n","title":"Why are data transfer objects (DTOs) an anti-pattern?","body":"<p>I've recently overheard people saying that <a href=\"https://en.wikipedia.org/wiki/Data_transfer_object\" rel=\"noreferrer\">data transfer objects</a> (DTOs) are an <em>anti-pattern</em>. </p>\n\n<p>Why? What are the alternatives?</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1688967250,"post_id":76650871,"comment_id":135140420,"body_markdown":"You are obviously running a Maven version less than 3.2.5 and not Maven 3.9.3 based on the error output `The plugin org.apache.maven.plugins:maven-clean-plugin:3.3.1 requires Maven version 3.2.5`......What does `mvn --version` print out? BTW: Why are you running your maven build via `sudo ...`?","body":"You are obviously running a Maven version less than 3.2.5 and not Maven 3.9.3 based on the error output <code>The plugin org.apache.maven.plugins:maven-clean-plugin:3.3.1 requires Maven version 3.2.5</code>......What does <code>mvn --version</code> print out? BTW: Why are you running your maven build via <code>sudo ...</code>?"},{"owner":{"account_id":25922917,"reputation":43,"user_id":19645196,"display_name":"Never_se"},"score":0,"creation_date":1688967363,"post_id":76650871,"comment_id":135140439,"body_markdown":"When I run mvn -version I can see Apache Maven 3.9.3. I am running this in CentOs is there anything I can do to force it to use 3.9.3?","body":"When I run mvn -version I can see Apache Maven 3.9.3. I am running this in CentOs is there anything I can do to force it to use 3.9.3?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1688967677,"post_id":76650871,"comment_id":135140478,"body_markdown":"Have you tried to run `mvn --version` via `sudo ` as well..so `sudo mvn --version`... Can you explain what you mean by: ` using sdk` ? Do you mean by sdkman?","body":"Have you tried to run <code>mvn --version</code> via <code>sudo </code> as well..so <code>sudo mvn --version</code>... Can you explain what you mean by: ` using sdk` ? Do you mean by sdkman?"},{"owner":{"account_id":25922917,"reputation":43,"user_id":19645196,"display_name":"Never_se"},"score":0,"creation_date":1688967800,"post_id":76650871,"comment_id":135140493,"body_markdown":"Yes, I get Apache Maven 3.9.3 and Maven home: /home/username/.sdkman/candidates/maven/current I use sdkman to install maven","body":"Yes, I get Apache Maven 3.9.3 and Maven home: /home/username/.sdkman/candidates/maven/current I use sdkman to install maven"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1688967957,"post_id":76650871,"comment_id":135140509,"body_markdown":"SDK Man installs in user but not for root... so you have to start your build without `sudo ...`. furthermore you should move away from CentOS 7 because it&#39;s end of life ...","body":"SDK Man installs in user but not for root... so you have to start your build without <code>sudo ...</code>. furthermore you should move away from CentOS 7 because it&#39;s end of life ..."},{"owner":{"account_id":25922917,"reputation":43,"user_id":19645196,"display_name":"Never_se"},"score":0,"creation_date":1688968023,"post_id":76650871,"comment_id":135140517,"body_markdown":"Upgrade CentOS you mean?","body":"Upgrade CentOS you mean?"},{"owner":{"account_id":25922917,"reputation":43,"user_id":19645196,"display_name":"Never_se"},"score":1,"creation_date":1688968548,"post_id":76650871,"comment_id":135140593,"body_markdown":"I was running it as root as current user was the issue. Problem solved","body":"I was running it as root as current user was the issue. Problem solved"}],"owner":{"account_id":25922917,"reputation":43,"user_id":19645196,"display_name":"Never_se"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688967832,"creation_date":1688967161,"question_id":76650871,"body_markdown":"I have maven 3.9.3 installed on CentOS Linux 7 using sdkman but when I try to build a spring boot project using ``sudo mvn clean package -Dmaven.test.skip`` I get the error;\r\n\r\n``` Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:3.3.1:clean (default-clean) on project web: The plugin org.apache.maven.plugins:maven-clean-plugin:3.3.1 requires Maven version 3.2.5```\r\n\r\nAm I supposed to downgrade to 3.25 or could it be using another maven version? I have another project that runs fine but can&#39;t remember how I bypassed this problem when running that project.\r\n\r\nHow do I solve this issue? Is it possible to know exactly which version of maven the project is using when building?","title":"maven-clean-plugin:3.3.1 won&#39;t run in Apache Maven 3.9.3","body":"<p>I have maven 3.9.3 installed on CentOS Linux 7 using sdkman but when I try to build a spring boot project using <code>sudo mvn clean package -Dmaven.test.skip</code> I get the error;</p>\n<p><code> Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:3.3.1:clean (default-clean) on project web: The plugin org.apache.maven.plugins:maven-clean-plugin:3.3.1 requires Maven version 3.2.5</code></p>\n<p>Am I supposed to downgrade to 3.25 or could it be using another maven version? I have another project that runs fine but can't remember how I bypassed this problem when running that project.</p>\n<p>How do I solve this issue? Is it possible to know exactly which version of maven the project is using when building?</p>\n"},{"tags":["java","spring","spring-boot","graphql"],"answers":[{"tags":[],"owner":{"account_id":25926563,"reputation":119,"user_id":19648355,"display_name":"Irremediable"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685225447,"creation_date":1685224947,"answer_id":76349227,"question_id":76349158,"body_markdown":"Regardless of what data mapping takes place - be it data from a database, graphql, json deserialization or any transformation of one type of data into another (Java objects are also just a set of bytes), there are always restrictions on the convertibility of types.\r\n\r\nOptional&lt;T&gt; or OptionalInt or any other similar wrappers is not supported as you can see in your use case. \r\n\r\nTo add more, passing optional as method parameter or using these types as class member can be a sign of code smell due to its error prone usage. \r\n\r\nYour code example contains exactly what I said: null checks on the Optional params doesn&#39;t make this method secure, since wrapper still can be empty, and `getAsInt()` will throw NullPointerException.\r\n\r\nJust use regular Integer. Hope it helps","title":"Error passing optional argument in GraphQL-Spring Boot query","body":"<p>Regardless of what data mapping takes place - be it data from a database, graphql, json deserialization or any transformation of one type of data into another (Java objects are also just a set of bytes), there are always restrictions on the convertibility of types.</p>\n<p>Optional or OptionalInt or any other similar wrappers is not supported as you can see in your use case.</p>\n<p>To add more, passing optional as method parameter or using these types as class member can be a sign of code smell due to its error prone usage.</p>\n<p>Your code example contains exactly what I said: null checks on the Optional params doesn't make this method secure, since wrapper still can be empty, and <code>getAsInt()</code> will throw NullPointerException.</p>\n<p>Just use regular Integer. Hope it helps</p>\n"}],"owner":{"account_id":14634110,"reputation":37,"user_id":12542391,"display_name":"H&#233;ctor Iglesias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76349227,"answer_count":1,"score":0,"last_activity_date":1688967501,"creation_date":1685223579,"question_id":76349158,"body_markdown":"I&#39;m trying to pass two arguments in a query:\r\n\r\n```\r\n@QueryMapping\r\npublic List&lt;Customer&gt; getCustomers (@Argument OptionalInt start,\r\n\t\t\t\t\t\t\t\t\t@Argument OptionalInt end\r\n\t\t\t\t\t\t\t\t\t) {\r\n\tList&lt;Customer&gt; customers = customerRepository.findAll();\r\n\tif (start != null &amp;&amp; end != null) {\r\n\t\ttry {\r\n\t\t\treturn customers.subList(start.getAsInt(), end.getAsInt());\r\n\t\t} catch (IndexOutOfBoundsException e) {\r\n\t\t\treturn new LinkedList&lt;&gt;();\r\n\t\t}\r\n\t}\r\n\r\n\treturn customers;\r\n}\r\n```\r\n\r\nBut this error is thrown:\r\n\r\n```\r\norg.springframework.validation.BindException: org.springframework.graphql.data.GraphQlArgumentBinder$ArgumentsBindingResult: 1 errors\r\nField error in object &#39;optionalInt&#39; on field &#39;$&#39;: rejected value [0]; codes [typeMismatch.optionalInt,typeMismatch]; arguments []; default message [Failed to convert argument value]\r\n        at org.springframework.graphql.data.GraphQlArgumentBinder.bind(GraphQlArgumentBinder.java:151) ~[spring-graphql-1.2.0.jar!/:1.2.0]\r\n        at org.springframework.graphql.data.method.annotation.support.ArgumentMethodArgumentResolver.resolveArgument(ArgumentMethodArgumentResolver.java:71) ~[spring-graphql-1.2.0.jar!/:1.2.0]\r\n        at org.springframework.graphql.data.method.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:81) ~[spring-graphql-1.2.0.jar!/:1.2.0]\r\n        at org.springframework.graphql.data.method.annotation.support.DataFetcherHandlerMethod.getMethodArgumentValues(DataFetcherHandlerMethod.java:177) ~[spring-graphql-1.2.0.jar!/:1.2.0]\r\n        at org.springframework.graphql.data.method.annotation.support.DataFetcherHandlerMethod.invoke(DataFetcherHandlerMethod.java:119) ~[spring-graphql-1.2.0.jar!/:1.2.0]\r\n        at org.springframework.graphql.data.method.annotation.support.DataFetcherHandlerMethod.invoke(DataFetcherHandlerMethod.java:107) ~[spring-graphql-1.2.0.jar!/:1.2.0]\r\n        at org.springframework.graphql.data.method.annotation.support.AnnotatedControllerConfigurer$SchemaMappingDataFetcher.get(AnnotatedControllerConfigurer.java:680) ~[spring-graphql-1.2.0.jar!/:1.2.0]\r\n        at org.springframework.graphql.execution.ContextDataFetcherDecorator.lambda$get$0(ContextDataFetcherDecorator.java:88) ~[spring-graphql-1.2.0.jar!/:1.2.0]\r\n        at io.micrometer.context.ContextSnapshot.lambda$wrap$1(ContextSnapshot.java:92) ~[context-propagation-1.0.2.jar!/:1.0.2]\r\n        at org.springframework.graphql.execution.ContextDataFetcherDecorator.get(ContextDataFetcherDecorator.java:88) ~[spring-graphql-1.2.0.jar!/:1.2.0]\r\n        at graphql.execution.ExecutionStrategy.invokeDataFetcher(ExecutionStrategy.java:309) ~[graphql-java-20.2.jar!/:na]\r\n        at graphql.execution.ExecutionStrategy.fetchField(ExecutionStrategy.java:286) ~[graphql-java-20.2.jar!/:na]\r\n        at graphql.execution.ExecutionStrategy.resolveFieldWithInfo(ExecutionStrategy.java:212) ~[graphql-java-20.2.jar!/:na]\r\n        at graphql.execution.AsyncExecutionStrategy.execute(AsyncExecutionStrategy.java:55) ~[graphql-java-20.2.jar!/:na]\r\n        at graphql.execution.Execution.executeOperation(Execution.java:161) ~[graphql-java-20.2.jar!/:na]\r\n        at graphql.execution.Execution.execute(Execution.java:104) ~[graphql-java-20.2.jar!/:na]\r\n        at graphql.GraphQL.execute(GraphQL.java:557) ~[graphql-java-20.2.jar!/:na]\r\n        at graphql.GraphQL.lambda$parseValidateAndExecute$11(GraphQL.java:476) ~[graphql-java-20.2.jar!/:na]\r\n        at java.base/java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1187) ~[na:na]\r\n        at java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2309) ~[na:na]\r\n        at graphql.GraphQL.parseValidateAndExecute(GraphQL.java:471) ~[graphql-java-20.2.jar!/:na]\r\n        at graphql.GraphQL.executeAsync(GraphQL.java:439) ~[graphql-java-20.2.jar!/:na]\r\n        at org.springframework.graphql.execution.DefaultExecutionGraphQlService.lambda$execute$2(DefaultExecutionGraphQlService.java:82) ~[spring-graphql-1.2.0.jar!/:1.2.0]\r\n        at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:47) ~[reactor-core-3.5.6.jar!/:3.5.6]\r\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4485) ~[reactor-core-3.5.6.jar!/:3.5.6]\r\n        at reactor.core.publisher.Mono.subscribeWith(Mono.java:4551) ~[reactor-core-3.5.6.jar!/:3.5.6]\r\n        at reactor.core.publisher.Mono.toFuture(Mono.java:5063) ~[reactor-core-3.5.6.jar!/:3.5.6]\r\n        at org.springframework.core.ReactiveAdapterRegistry$ReactorRegistrar.lambda$registerAdapters$5(ReactiveAdapterRegistry.java:244) ~[spring-core-6.0.9.jar!/:6.0.9]\r\n        at org.springframework.core.ReactiveAdapter.fromPublisher(ReactiveAdapter.java:121) ~[spring-core-6.0.9.jar!/:6.0.9]\r\n        at org.springframework.web.servlet.function.DefaultAsyncServerResponse.create(DefaultAsyncServerResponse.java:186) ~[spring-webmvc-6.0.9.jar!/:6.0.9]\r\n        at org.springframework.web.servlet.function.ServerResponse.async(ServerResponse.java:250) ~[spring-webmvc-6.0.9.jar!/:6.0.9]\r\n        at org.springframework.graphql.server.webmvc.GraphQlHttpHandler.handleRequest(GraphQlHttpHandler.java:111) ~[spring-graphql-1.2.0.jar!/:1.2.0]\r\n        at org.springframework.web.servlet.function.support.HandlerFunctionAdapter.handle(HandlerFunctionAdapter.java:107) ~[spring-webmvc-6.0.9.jar!/:6.0.9]\r\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.9.jar!/:6.0.9]\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.9.jar!/:6.0.9]\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.9.jar!/:6.0.9]\r\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.9.jar!/:6.0.9]\r\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.8.jar!/:na]\r\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.9.jar!/:6.0.9]\r\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar!/:na]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar!/:na]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar!/:na]\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar!/:na]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar!/:na]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar!/:na]\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.9.jar!/:6.0.9]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar!/:6.0.9]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar!/:na]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar!/:na]\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.9.jar!/:6.0.9]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar!/:6.0.9]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar!/:na]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar!/:na]\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.9.jar!/:6.0.9]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar!/:6.0.9]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar!/:na]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar!/:na]\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar!/:na]\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar!/:na]\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar!/:na]\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar!/:na]\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar!/:na]\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar!/:na]\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar!/:na]\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar!/:na]\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar!/:na]\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar!/:na]\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar!/:na]\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar!/:na]\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar!/:na]\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar!/:na]\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar!/:na]\r\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\n\r\nTrying to replace the ```OptionalInt``` for an ```Optional&lt;Integer&gt;``` results in the same error. Furthermore, if I try to invoke the arguments&#39; ```isPresent()``` method instead of comparing them with ```null```, the same error shows up. In fact, comparing them with ```null``` allows me to make the query without passing any parameters.\r\n\r\n\r\nCustomer type:\r\n```\r\ntype Customer {\r\n    dni: ID!\r\n    name: String!\r\n    surname: String!\r\n    accounts: [Account!]!\r\n}\r\n```\r\nQuery type:\r\n```\r\ntype Query {\r\n    getCustomers(start: Int, end: Int): [Customer!]!\r\n    getCustomer(dni: String!): Customer\r\n}\r\n```\r\n","title":"Error passing optional argument in GraphQL-Spring Boot query","body":"<p>I'm trying to pass two arguments in a query:</p>\n<pre><code>@QueryMapping\npublic List&lt;Customer&gt; getCustomers (@Argument OptionalInt start,\n                                    @Argument OptionalInt end\n                                    ) {\n    List&lt;Customer&gt; customers = customerRepository.findAll();\n    if (start != null &amp;&amp; end != null) {\n        try {\n            return customers.subList(start.getAsInt(), end.getAsInt());\n        } catch (IndexOutOfBoundsException e) {\n            return new LinkedList&lt;&gt;();\n        }\n    }\n\n    return customers;\n}\n</code></pre>\n<p>But this error is thrown:</p>\n<pre><code>org.springframework.validation.BindException: org.springframework.graphql.data.GraphQlArgumentBinder$ArgumentsBindingResult: 1 errors\nField error in object 'optionalInt' on field '$': rejected value [0]; codes [typeMismatch.optionalInt,typeMismatch]; arguments []; default message [Failed to convert argument value]\n        at org.springframework.graphql.data.GraphQlArgumentBinder.bind(GraphQlArgumentBinder.java:151) ~[spring-graphql-1.2.0.jar!/:1.2.0]\n        at org.springframework.graphql.data.method.annotation.support.ArgumentMethodArgumentResolver.resolveArgument(ArgumentMethodArgumentResolver.java:71) ~[spring-graphql-1.2.0.jar!/:1.2.0]\n        at org.springframework.graphql.data.method.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:81) ~[spring-graphql-1.2.0.jar!/:1.2.0]\n        at org.springframework.graphql.data.method.annotation.support.DataFetcherHandlerMethod.getMethodArgumentValues(DataFetcherHandlerMethod.java:177) ~[spring-graphql-1.2.0.jar!/:1.2.0]\n        at org.springframework.graphql.data.method.annotation.support.DataFetcherHandlerMethod.invoke(DataFetcherHandlerMethod.java:119) ~[spring-graphql-1.2.0.jar!/:1.2.0]\n        at org.springframework.graphql.data.method.annotation.support.DataFetcherHandlerMethod.invoke(DataFetcherHandlerMethod.java:107) ~[spring-graphql-1.2.0.jar!/:1.2.0]\n        at org.springframework.graphql.data.method.annotation.support.AnnotatedControllerConfigurer$SchemaMappingDataFetcher.get(AnnotatedControllerConfigurer.java:680) ~[spring-graphql-1.2.0.jar!/:1.2.0]\n        at org.springframework.graphql.execution.ContextDataFetcherDecorator.lambda$get$0(ContextDataFetcherDecorator.java:88) ~[spring-graphql-1.2.0.jar!/:1.2.0]\n        at io.micrometer.context.ContextSnapshot.lambda$wrap$1(ContextSnapshot.java:92) ~[context-propagation-1.0.2.jar!/:1.0.2]\n        at org.springframework.graphql.execution.ContextDataFetcherDecorator.get(ContextDataFetcherDecorator.java:88) ~[spring-graphql-1.2.0.jar!/:1.2.0]\n        at graphql.execution.ExecutionStrategy.invokeDataFetcher(ExecutionStrategy.java:309) ~[graphql-java-20.2.jar!/:na]\n        at graphql.execution.ExecutionStrategy.fetchField(ExecutionStrategy.java:286) ~[graphql-java-20.2.jar!/:na]\n        at graphql.execution.ExecutionStrategy.resolveFieldWithInfo(ExecutionStrategy.java:212) ~[graphql-java-20.2.jar!/:na]\n        at graphql.execution.AsyncExecutionStrategy.execute(AsyncExecutionStrategy.java:55) ~[graphql-java-20.2.jar!/:na]\n        at graphql.execution.Execution.executeOperation(Execution.java:161) ~[graphql-java-20.2.jar!/:na]\n        at graphql.execution.Execution.execute(Execution.java:104) ~[graphql-java-20.2.jar!/:na]\n        at graphql.GraphQL.execute(GraphQL.java:557) ~[graphql-java-20.2.jar!/:na]\n        at graphql.GraphQL.lambda$parseValidateAndExecute$11(GraphQL.java:476) ~[graphql-java-20.2.jar!/:na]\n        at java.base/java.util.concurrent.CompletableFuture.uniComposeStage(CompletableFuture.java:1187) ~[na:na]\n        at java.base/java.util.concurrent.CompletableFuture.thenCompose(CompletableFuture.java:2309) ~[na:na]\n        at graphql.GraphQL.parseValidateAndExecute(GraphQL.java:471) ~[graphql-java-20.2.jar!/:na]\n        at graphql.GraphQL.executeAsync(GraphQL.java:439) ~[graphql-java-20.2.jar!/:na]\n        at org.springframework.graphql.execution.DefaultExecutionGraphQlService.lambda$execute$2(DefaultExecutionGraphQlService.java:82) ~[spring-graphql-1.2.0.jar!/:1.2.0]\n        at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:47) ~[reactor-core-3.5.6.jar!/:3.5.6]\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4485) ~[reactor-core-3.5.6.jar!/:3.5.6]\n        at reactor.core.publisher.Mono.subscribeWith(Mono.java:4551) ~[reactor-core-3.5.6.jar!/:3.5.6]\n        at reactor.core.publisher.Mono.toFuture(Mono.java:5063) ~[reactor-core-3.5.6.jar!/:3.5.6]\n        at org.springframework.core.ReactiveAdapterRegistry$ReactorRegistrar.lambda$registerAdapters$5(ReactiveAdapterRegistry.java:244) ~[spring-core-6.0.9.jar!/:6.0.9]\n        at org.springframework.core.ReactiveAdapter.fromPublisher(ReactiveAdapter.java:121) ~[spring-core-6.0.9.jar!/:6.0.9]\n        at org.springframework.web.servlet.function.DefaultAsyncServerResponse.create(DefaultAsyncServerResponse.java:186) ~[spring-webmvc-6.0.9.jar!/:6.0.9]\n        at org.springframework.web.servlet.function.ServerResponse.async(ServerResponse.java:250) ~[spring-webmvc-6.0.9.jar!/:6.0.9]\n        at org.springframework.graphql.server.webmvc.GraphQlHttpHandler.handleRequest(GraphQlHttpHandler.java:111) ~[spring-graphql-1.2.0.jar!/:1.2.0]\n        at org.springframework.web.servlet.function.support.HandlerFunctionAdapter.handle(HandlerFunctionAdapter.java:107) ~[spring-webmvc-6.0.9.jar!/:6.0.9]\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.9.jar!/:6.0.9]\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.9.jar!/:6.0.9]\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.9.jar!/:6.0.9]\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.9.jar!/:6.0.9]\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.8.jar!/:na]\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.9.jar!/:6.0.9]\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar!/:na]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar!/:na]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar!/:na]\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar!/:na]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar!/:na]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar!/:na]\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.9.jar!/:6.0.9]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar!/:6.0.9]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar!/:na]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar!/:na]\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.9.jar!/:6.0.9]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar!/:6.0.9]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar!/:na]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar!/:na]\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.9.jar!/:6.0.9]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar!/:6.0.9]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar!/:na]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar!/:na]\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar!/:na]\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar!/:na]\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar!/:na]\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar!/:na]\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar!/:na]\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar!/:na]\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar!/:na]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar!/:na]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar!/:na]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar!/:na]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar!/:na]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar!/:na]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar!/:na]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar!/:na]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar!/:na]\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>Trying to replace the <code>OptionalInt</code> for an <code>Optional&lt;Integer&gt;</code> results in the same error. Furthermore, if I try to invoke the arguments' <code>isPresent()</code> method instead of comparing them with <code>null</code>, the same error shows up. In fact, comparing them with <code>null</code> allows me to make the query without passing any parameters.</p>\n<p>Customer type:</p>\n<pre><code>type Customer {\n    dni: ID!\n    name: String!\n    surname: String!\n    accounts: [Account!]!\n}\n</code></pre>\n<p>Query type:</p>\n<pre><code>type Query {\n    getCustomers(start: Int, end: Int): [Customer!]!\n    getCustomer(dni: String!): Customer\n}\n</code></pre>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688891901,"post_id":76646559,"comment_id":135132840,"body_markdown":"The `value` passed to `partition` is evidently a `String`, not a `byte[]`.","body":"The <code>value</code> passed to <code>partition</code> is evidently a <code>String</code>, not a <code>byte[]</code>."}],"answers":[{"tags":[],"owner":{"account_id":11719774,"reputation":44,"user_id":8579083,"display_name":"Aditya Ajmera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688967001,"creation_date":1688967001,"answer_id":76650861,"question_id":76646559,"body_markdown":"As pointed by @tgdavies, the ```value``` Object seems to be already of type ```String```, which can be confirmed by using ```instanceof``` operator. ","title":"Implementing message priority in Kafka","body":"<p>As pointed by @tgdavies, the <code>value</code> Object seems to be already of type <code>String</code>, which can be confirmed by using <code>instanceof</code> operator.</p>\n"}],"owner":{"account_id":16599802,"reputation":103,"user_id":11995802,"display_name":"Fatemeh Haeri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688967001,"creation_date":1688891605,"question_id":76646559,"body_markdown":"I wrote code for implementing message priority java code, but it doesn&#39;t work!\r\n\r\nThese are the code:\r\n\r\n**PriorityPartitioner.java**\r\n```\r\npublic class PriorityPartitioner implements Partitioner {\r\n\r\n    @Override\r\n    public int partition(String topic, Object key, byte[] keyBytes, Object value, byte[] valueBytes, Cluster cluster) {\r\n        List&lt;PartitionInfo&gt; partitions = cluster.availablePartitionsForTopic(topic);\r\n        int numPartitions = partitions.size();\r\n\r\n        // Get the priority from the message headers\r\n        String priority = getPriorityFromHeaders((byte[]) value);\r\n\r\n        // Assign partitions based on priority\r\n        if (&quot;high&quot;.equalsIgnoreCase(priority)) {\r\n            return Math.abs(&quot;high&quot;.hashCode()) % numPartitions;\r\n        } else if (&quot;medium&quot;.equalsIgnoreCase(priority)) {\r\n            return Math.abs(&quot;medium&quot;.hashCode()) % numPartitions;\r\n        } else {\r\n            return Math.abs(&quot;low&quot;.hashCode()) % numPartitions;\r\n        }\r\n    }\r\n\r\n    private String getPriorityFromHeaders(byte[] valueBytes) {\r\n        return new String(valueBytes);\r\n    }\r\n\r\n    @Override\r\n    public void close() {\r\n        // Cleanup resources, if any\r\n    }\r\n\r\n    @Override\r\n    public void configure(Map&lt;String, ?&gt; configs) {\r\n\r\n\r\n    }\r\n}\r\n```\r\n**PriorityAssignor.java**\r\n\r\n```\r\npublic class PriorityAssignor implements ConsumerPartitionAssignor {\r\n\r\n    private static final int MAX_PRIORITY = 3; // Maximum priority level\r\n\r\n\r\n    public Map&lt;String, List&lt;TopicPartition&gt;&gt; assign(Map&lt;String, Integer&gt; partitionsPerTopic, Map&lt;String, Subscription&gt; subscriptions) {\r\n        Map&lt;String, List&lt;TopicPartition&gt;&gt; assignment = new HashMap&lt;&gt;();\r\n        List&lt;TopicPartition&gt; partitions = new ArrayList&lt;&gt;();\r\n\r\n        // Generate the partitions list\r\n        for (Map.Entry&lt;String, Integer&gt; entry : partitionsPerTopic.entrySet()) {\r\n            String topic = entry.getKey();\r\n            int numPartitions = entry.getValue();\r\n            for (int i = 0; i &lt; numPartitions; i++) {\r\n                partitions.add(new TopicPartition(topic, i));\r\n            }\r\n        }\r\n\r\n        // Sort the partitions based on priority\r\n        Collections.sort(partitions, new PriorityComparator());\r\n\r\n        // Group the partitions by consumer ID\r\n        Map&lt;String, List&lt;TopicPartition&gt;&gt; consumerAssignments = new HashMap&lt;&gt;();\r\n        for (String consumerId : subscriptions.keySet()) {\r\n            consumerAssignments.put(consumerId, new ArrayList&lt;&gt;());\r\n        }\r\n\r\n        // Assign partitions to consumers in a round-robin fashion\r\n        CircularIterator&lt;String&gt; consumerIterator = new CircularIterator&lt;&gt;(consumerAssignments.keySet());\r\n        for (TopicPartition partition : partitions) {\r\n            String consumerId = consumerIterator.next();\r\n            consumerAssignments.get(consumerId).add(partition);\r\n        }\r\n\r\n        // Assign the partitions to the final assignment map\r\n        for (Map.Entry&lt;String, List&lt;TopicPartition&gt;&gt; entry : consumerAssignments.entrySet()) {\r\n            String consumerId = entry.getKey();\r\n            List&lt;TopicPartition&gt; assignedPartitions = entry.getValue();\r\n            assignment.put(consumerId, assignedPartitions);\r\n        }\r\n\r\n        return assignment;\r\n    }\r\n\r\n    @Override\r\n    public String name() {\r\n        return &quot;priority&quot;;\r\n    }\r\n\r\n    @Override\r\n    public ByteBuffer subscriptionUserData(Set&lt;String&gt; topics) {\r\n        return ConsumerPartitionAssignor.super.subscriptionUserData(topics);\r\n    }\r\n\r\n    @Override\r\n    public GroupAssignment assign(Cluster cluster, GroupSubscription groupSubscription) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;RebalanceProtocol&gt; supportedProtocols() {\r\n        return Collections.singletonList(RebalanceProtocol.EAGER);\r\n    }\r\n\r\n\r\n    private class PriorityComparator implements java.util.Comparator&lt;TopicPartition&gt; {\r\n        @Override\r\n        public int compare(TopicPartition tp1, TopicPartition tp2) {\r\n            int priority1 = getPriorityFromTopic(tp1.topic());\r\n            int priority2 = getPriorityFromTopic(tp2.topic());\r\n            return Integer.compare(priority1, priority2);\r\n        }\r\n\r\n        private int getPriorityFromTopic(String topic) {\r\n            // Implement your logic to extract priority from topic name\r\n            // In this example, we assume the priority is encoded in the topic name\r\n            // Modify this method according to your actual topic naming convention\r\n            int priority = Integer.parseInt(topic.substring(topic.lastIndexOf(&quot;_&quot;) + 1));\r\n            return Math.min(priority, MAX_PRIORITY);\r\n        }\r\n    }\r\n\r\n\r\n}\r\n```\r\n**KafkaPriorityProducer.java**\r\n```\r\npublic class KafkaPriorityProducer {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        // Set up producer properties\r\n        Properties props = new Properties();\r\n        props.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\r\n        props.put(&quot;key.serializer&quot;, StringSerializer.class.getName());\r\n        props.put(&quot;value.serializer&quot;, StringSerializer.class.getName());\r\n        props.put(&quot;partitioner.class&quot;, PriorityPartitioner.class.getName());\r\n\r\n        // Create a Kafka producer\r\n        KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(props);\r\n\r\n        try {\r\n            while (true) {\r\n            // Produce high-priority message\r\n            String highPriorityMessage = &quot;This is a high-priority message.&quot;;\r\n            ProducerRecord&lt;String, String&gt; highPriorityRecord = new ProducerRecord&lt;&gt;(&quot;prioritized_topic&quot;, &quot;key&quot;, highPriorityMessage);\r\n            highPriorityRecord.headers().add(&quot;priority&quot;, &quot;high&quot;.getBytes());\r\n            producer.send(highPriorityRecord, (metadata, exception) -&gt; {\r\n                if (exception == null) {\r\n                    System.out.println(&quot;High-priority message sent successfully. Offset: &quot; + metadata.offset());\r\n                } else {\r\n                    System.err.println(&quot;Failed to send high-priority message: &quot; + exception.getMessage());\r\n                }\r\n            });\r\n\r\n            // Produce low-priority message\r\n            String lowPriorityMessage = &quot;This is a low-priority message.&quot;;\r\n            ProducerRecord&lt;String, String&gt; lowPriorityRecord = new ProducerRecord&lt;&gt;(&quot;prioritized_topic&quot;, &quot;key&quot;, lowPriorityMessage);\r\n            lowPriorityRecord.headers().add(&quot;priority&quot;, &quot;low&quot;.getBytes());\r\n            producer.send(lowPriorityRecord, (metadata, exception) -&gt; {\r\n                if (exception == null) {\r\n                    System.out.println(&quot;Low-priority message sent successfully. Offset: &quot; + metadata.offset());\r\n                } else {\r\n                    System.err.println(&quot;Failed to send low-priority message: &quot; + exception.getMessage());\r\n                }\r\n            });\r\n\r\n            // Flush and close the producer\r\n            producer.flush();\r\n        }} catch (Exception e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            producer.close();\r\n        }\r\n    }\r\n}\r\n```\r\n**KafkaPriorityConsumer.java**\r\n```\r\npublic class KafkaPriorityConsumer {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        // Set up consumer properties\r\n        Properties props = new Properties();\r\n        props.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\r\n        props.put(&quot;key.deserializer&quot;, StringDeserializer.class.getName());\r\n        props.put(&quot;value.deserializer&quot;, StringDeserializer.class.getName());\r\n        props.put(&quot;group.id&quot;, &quot;my-consumer-group&quot;);\r\n\r\n        // Create a Kafka consumer\r\n        KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(props);\r\n\r\n        // Subscribe to the prioritized topic\r\n        consumer.subscribe(Arrays.asList(&quot;prioritized_topic&quot;));\r\n\r\n        try {\r\n            while (true) {\r\n                ConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofMillis(100));\r\n\r\n                for (ConsumerRecord&lt;String, String&gt; record : records) {\r\n                    String key = record.key();\r\n                    String value = record.value();\r\n                    String priority = getPriorityFromHeaders(record.headers().headers(&quot;priority&quot;));\r\n\r\n                    System.out.println(&quot;Received message: Key = &quot; + key + &quot;, Value = &quot; + value + &quot;, Priority = &quot; + priority);\r\n                }\r\n\r\n                consumer.commitSync();\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            consumer.close();\r\n        }\r\n    }\r\n\r\n    private static String getPriorityFromHeaders(Iterable&lt;Header&gt; headers) {\r\n        for (Header header : headers) {\r\n            if (&quot;priority&quot;.equalsIgnoreCase(header.key())) {\r\n                return new String(header.value());\r\n            }\r\n        }\r\n        return &quot;unknown&quot;;\r\n    }\r\n}\r\n```\r\n**After run the code, I receive this error:**\r\n*java.lang.ClassCastException: class java.lang.String cannot be cast to class [B (java.lang.String and [B are in module java.base of loader &#39;bootstrap&#39;)\r\n\tat PriorityPartitioner.partition(PriorityPartitioner.java:20)\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.partition(KafkaProducer.java:1391)\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:1025)\r\n\tat org.apache.kafka.clients.producer.KafkaProducer.send(KafkaProducer.java:962)\r\n\tat KafkaPriorityProducer.main(KafkaPriorityProducer.java:25)*\r\n\r\n**How can I solve this error? and is there any mistake in the codes?**\r\n","title":"Implementing message priority in Kafka","body":"<p>I wrote code for implementing message priority java code, but it doesn't work!</p>\n<p>These are the code:</p>\n<p><strong>PriorityPartitioner.java</strong></p>\n<pre><code>public class PriorityPartitioner implements Partitioner {\n\n    @Override\n    public int partition(String topic, Object key, byte[] keyBytes, Object value, byte[] valueBytes, Cluster cluster) {\n        List&lt;PartitionInfo&gt; partitions = cluster.availablePartitionsForTopic(topic);\n        int numPartitions = partitions.size();\n\n        // Get the priority from the message headers\n        String priority = getPriorityFromHeaders((byte[]) value);\n\n        // Assign partitions based on priority\n        if (&quot;high&quot;.equalsIgnoreCase(priority)) {\n            return Math.abs(&quot;high&quot;.hashCode()) % numPartitions;\n        } else if (&quot;medium&quot;.equalsIgnoreCase(priority)) {\n            return Math.abs(&quot;medium&quot;.hashCode()) % numPartitions;\n        } else {\n            return Math.abs(&quot;low&quot;.hashCode()) % numPartitions;\n        }\n    }\n\n    private String getPriorityFromHeaders(byte[] valueBytes) {\n        return new String(valueBytes);\n    }\n\n    @Override\n    public void close() {\n        // Cleanup resources, if any\n    }\n\n    @Override\n    public void configure(Map&lt;String, ?&gt; configs) {\n\n\n    }\n}\n</code></pre>\n<p><strong>PriorityAssignor.java</strong></p>\n<pre><code>public class PriorityAssignor implements ConsumerPartitionAssignor {\n\n    private static final int MAX_PRIORITY = 3; // Maximum priority level\n\n\n    public Map&lt;String, List&lt;TopicPartition&gt;&gt; assign(Map&lt;String, Integer&gt; partitionsPerTopic, Map&lt;String, Subscription&gt; subscriptions) {\n        Map&lt;String, List&lt;TopicPartition&gt;&gt; assignment = new HashMap&lt;&gt;();\n        List&lt;TopicPartition&gt; partitions = new ArrayList&lt;&gt;();\n\n        // Generate the partitions list\n        for (Map.Entry&lt;String, Integer&gt; entry : partitionsPerTopic.entrySet()) {\n            String topic = entry.getKey();\n            int numPartitions = entry.getValue();\n            for (int i = 0; i &lt; numPartitions; i++) {\n                partitions.add(new TopicPartition(topic, i));\n            }\n        }\n\n        // Sort the partitions based on priority\n        Collections.sort(partitions, new PriorityComparator());\n\n        // Group the partitions by consumer ID\n        Map&lt;String, List&lt;TopicPartition&gt;&gt; consumerAssignments = new HashMap&lt;&gt;();\n        for (String consumerId : subscriptions.keySet()) {\n            consumerAssignments.put(consumerId, new ArrayList&lt;&gt;());\n        }\n\n        // Assign partitions to consumers in a round-robin fashion\n        CircularIterator&lt;String&gt; consumerIterator = new CircularIterator&lt;&gt;(consumerAssignments.keySet());\n        for (TopicPartition partition : partitions) {\n            String consumerId = consumerIterator.next();\n            consumerAssignments.get(consumerId).add(partition);\n        }\n\n        // Assign the partitions to the final assignment map\n        for (Map.Entry&lt;String, List&lt;TopicPartition&gt;&gt; entry : consumerAssignments.entrySet()) {\n            String consumerId = entry.getKey();\n            List&lt;TopicPartition&gt; assignedPartitions = entry.getValue();\n            assignment.put(consumerId, assignedPartitions);\n        }\n\n        return assignment;\n    }\n\n    @Override\n    public String name() {\n        return &quot;priority&quot;;\n    }\n\n    @Override\n    public ByteBuffer subscriptionUserData(Set&lt;String&gt; topics) {\n        return ConsumerPartitionAssignor.super.subscriptionUserData(topics);\n    }\n\n    @Override\n    public GroupAssignment assign(Cluster cluster, GroupSubscription groupSubscription) {\n        return null;\n    }\n\n    @Override\n    public List&lt;RebalanceProtocol&gt; supportedProtocols() {\n        return Collections.singletonList(RebalanceProtocol.EAGER);\n    }\n\n\n    private class PriorityComparator implements java.util.Comparator&lt;TopicPartition&gt; {\n        @Override\n        public int compare(TopicPartition tp1, TopicPartition tp2) {\n            int priority1 = getPriorityFromTopic(tp1.topic());\n            int priority2 = getPriorityFromTopic(tp2.topic());\n            return Integer.compare(priority1, priority2);\n        }\n\n        private int getPriorityFromTopic(String topic) {\n            // Implement your logic to extract priority from topic name\n            // In this example, we assume the priority is encoded in the topic name\n            // Modify this method according to your actual topic naming convention\n            int priority = Integer.parseInt(topic.substring(topic.lastIndexOf(&quot;_&quot;) + 1));\n            return Math.min(priority, MAX_PRIORITY);\n        }\n    }\n\n\n}\n</code></pre>\n<p><strong>KafkaPriorityProducer.java</strong></p>\n<pre><code>public class KafkaPriorityProducer {\n\n    public static void main(String[] args) {\n\n        // Set up producer properties\n        Properties props = new Properties();\n        props.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\n        props.put(&quot;key.serializer&quot;, StringSerializer.class.getName());\n        props.put(&quot;value.serializer&quot;, StringSerializer.class.getName());\n        props.put(&quot;partitioner.class&quot;, PriorityPartitioner.class.getName());\n\n        // Create a Kafka producer\n        KafkaProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(props);\n\n        try {\n            while (true) {\n            // Produce high-priority message\n            String highPriorityMessage = &quot;This is a high-priority message.&quot;;\n            ProducerRecord&lt;String, String&gt; highPriorityRecord = new ProducerRecord&lt;&gt;(&quot;prioritized_topic&quot;, &quot;key&quot;, highPriorityMessage);\n            highPriorityRecord.headers().add(&quot;priority&quot;, &quot;high&quot;.getBytes());\n            producer.send(highPriorityRecord, (metadata, exception) -&gt; {\n                if (exception == null) {\n                    System.out.println(&quot;High-priority message sent successfully. Offset: &quot; + metadata.offset());\n                } else {\n                    System.err.println(&quot;Failed to send high-priority message: &quot; + exception.getMessage());\n                }\n            });\n\n            // Produce low-priority message\n            String lowPriorityMessage = &quot;This is a low-priority message.&quot;;\n            ProducerRecord&lt;String, String&gt; lowPriorityRecord = new ProducerRecord&lt;&gt;(&quot;prioritized_topic&quot;, &quot;key&quot;, lowPriorityMessage);\n            lowPriorityRecord.headers().add(&quot;priority&quot;, &quot;low&quot;.getBytes());\n            producer.send(lowPriorityRecord, (metadata, exception) -&gt; {\n                if (exception == null) {\n                    System.out.println(&quot;Low-priority message sent successfully. Offset: &quot; + metadata.offset());\n                } else {\n                    System.err.println(&quot;Failed to send low-priority message: &quot; + exception.getMessage());\n                }\n            });\n\n            // Flush and close the producer\n            producer.flush();\n        }} catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            producer.close();\n        }\n    }\n}\n</code></pre>\n<p><strong>KafkaPriorityConsumer.java</strong></p>\n<pre><code>public class KafkaPriorityConsumer {\n\n    public static void main(String[] args) {\n\n        // Set up consumer properties\n        Properties props = new Properties();\n        props.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\n        props.put(&quot;key.deserializer&quot;, StringDeserializer.class.getName());\n        props.put(&quot;value.deserializer&quot;, StringDeserializer.class.getName());\n        props.put(&quot;group.id&quot;, &quot;my-consumer-group&quot;);\n\n        // Create a Kafka consumer\n        KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(props);\n\n        // Subscribe to the prioritized topic\n        consumer.subscribe(Arrays.asList(&quot;prioritized_topic&quot;));\n\n        try {\n            while (true) {\n                ConsumerRecords&lt;String, String&gt; records = consumer.poll(Duration.ofMillis(100));\n\n                for (ConsumerRecord&lt;String, String&gt; record : records) {\n                    String key = record.key();\n                    String value = record.value();\n                    String priority = getPriorityFromHeaders(record.headers().headers(&quot;priority&quot;));\n\n                    System.out.println(&quot;Received message: Key = &quot; + key + &quot;, Value = &quot; + value + &quot;, Priority = &quot; + priority);\n                }\n\n                consumer.commitSync();\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            consumer.close();\n        }\n    }\n\n    private static String getPriorityFromHeaders(Iterable&lt;Header&gt; headers) {\n        for (Header header : headers) {\n            if (&quot;priority&quot;.equalsIgnoreCase(header.key())) {\n                return new String(header.value());\n            }\n        }\n        return &quot;unknown&quot;;\n    }\n}\n</code></pre>\n<p><strong>After run the code, I receive this error:</strong>\n<em>java.lang.ClassCastException: class java.lang.String cannot be cast to class [B (java.lang.String and [B are in module java.base of loader 'bootstrap')\nat PriorityPartitioner.partition(PriorityPartitioner.java:20)\nat org.apache.kafka.clients.producer.KafkaProducer.partition(KafkaProducer.java:1391)\nat org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:1025)\nat org.apache.kafka.clients.producer.KafkaProducer.send(KafkaProducer.java:962)\nat KafkaPriorityProducer.main(KafkaPriorityProducer.java:25)</em></p>\n<p><strong>How can I solve this error? and is there any mistake in the codes?</strong></p>\n"},{"tags":["java","spring","saml"],"owner":{"account_id":13721139,"reputation":23,"user_id":9900989,"display_name":"Aman R Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688965707,"creation_date":1688965707,"question_id":76650786,"body_markdown":"Validation Errors: 1. Authentication statement is too old to be used with value: &#39;2023-06-09T06:57:08.207Z&#39; current time: &#39;2023-07-10T05:05:52.239Z&#39;  error how to resolve in saml sso configuration\r\n\r\nI have tried saml sso configuration with spring boot and after downloading all the dependencies iam getting this warning in every page ","title":"Validation Errors: 1. Authentication statement is too old to be used with value: &#39;2023-06-09T06:57:08.207Z&#39; current time: &#39;2023-07-10T05:05:52.239Z&#39;","body":"<p>Validation Errors: 1. Authentication statement is too old to be used with value: '2023-06-09T06:57:08.207Z' current time: '2023-07-10T05:05:52.239Z'  error how to resolve in saml sso configuration</p>\n<p>I have tried saml sso configuration with spring boot and after downloading all the dependencies iam getting this warning in every page</p>\n"},{"tags":["java","groovy","apache-poi","apache-nifi"],"answers":[{"tags":[],"owner":{"account_id":4086750,"reputation":2070,"user_id":3355860,"display_name":"ou_ryperd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674109429,"creation_date":1674109429,"answer_id":75168444,"question_id":75164355,"body_markdown":"You can look at these methods for reference:\r\n\r\n    sheet.setAutoFilter()\r\n\r\n    row.setHeightInPoints()\r\n\r\nFor the colour you may have to use a cell style.\r\n\r\n    CellStyle.setFillBackgroundColor()\r\n\r\nAll of these are documented, perhaps go through [this](https://poi.apache.org/components/spreadsheet/quick-guide.html) as a start.","title":"Get smart Excel table with Apache POI","body":"<p>You can look at these methods for reference:</p>\n<pre><code>sheet.setAutoFilter()\n\nrow.setHeightInPoints()\n</code></pre>\n<p>For the colour you may have to use a cell style.</p>\n<pre><code>CellStyle.setFillBackgroundColor()\n</code></pre>\n<p>All of these are documented, perhaps go through <a href=\"https://poi.apache.org/components/spreadsheet/quick-guide.html\" rel=\"nofollow noreferrer\">this</a> as a start.</p>\n"},{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1688965446,"creation_date":1674131271,"answer_id":75172222,"question_id":75164355,"body_markdown":"At first: Reading CSV files row by row as plain text files and the split by delimiter is error prone. There are CSV rules which are not considered by this approach. For example: Values might be surrounded by quotes. There might be spaces between the comma and the next value, which then not should be part of the value. And so on. CSV files should be read using libraries which were made for that. There is [opencsv](https://opencsv.sourceforge.net/) for example.\r\n\r\nCreating tables in Excel is part of Apache POI. There is [XSSFSheet.createTable](https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFSheet.html#createTable-org.apache.poi.ss.util.AreaReference-). Unfortunately there is no `SXSSFSheet.createTable`. And you need the streaming version `SXSSF` because of the size of your CSVs, right?\r\n\r\nTo overcome this problem, one can get the underlying `XSSFWorkbook` out of the `SXSSFWorkbook` to create the `XSSFTable` there. Problem with this approach is, that while streaming into the `SXSSFSheet` the underlying `XSSFSheet` does not contain any data. That&#39;s why `XSSFSheet.createTable(AreaReference)` does not find any column names in first row of the `AreaReference` and creates a table having column names &quot;Column1&quot;, &quot;Column2&quot;, &quot;Column3&quot;,  .... However, these do not match the actual content of the sheet. That&#39;s why we need updating the headers after table was created.\r\n\r\nComplete example:\r\n\r\n    import java.io.*;\r\n    \r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.*;\r\n    import org.apache.poi.xssf.streaming.*;\r\n    import org.apache.poi.ss.SpreadsheetVersion;\r\n    import org.apache.poi.ss.util.AreaReference;\r\n    import org.apache.poi.ss.util.CellReference;\r\n    \r\n    import com.opencsv.CSVReader;\r\n    \r\n    class CreateTableFromCSV {\r\n    \t\r\n     static XSSFTable createTable(SXSSFSheet sxssfSheet, AreaReference areaReference, String[] strHeaders) {\r\n      XSSFWorkbook xssfWorkbook = sxssfSheet.getWorkbook().getXSSFWorkbook();\r\n      XSSFSheet xssfSheet = xssfWorkbook.getSheet(sxssfSheet.getSheetName());\r\n      XSSFTable xssfTable = xssfSheet.createTable(areaReference);\r\n      System.out.println(xssfTable.getCTTable()); // wrong column names since xssfSheet does not contain any data until now\r\n      //xssfTable.updateHeaders(); // this cannot work since xssfSheet does not contain any data until now\r\n      for (int i = 0; i &lt; strHeaders.length; i++) {\r\n       String columnHeader = strHeaders[i];\r\n       if (xssfTable.getCTTable().getTableColumns().getTableColumnList().size() &gt; i) xssfTable.getCTTable().getTableColumns().getTableColumnList().get(i).setName(columnHeader); \r\n      }\r\n      System.out.println(xssfTable.getCTTable()); // headers updated\r\n      return xssfTable;\r\n     }\r\n    \t\r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      try (\r\n       SXSSFWorkbook sxssfWorkbook = new SXSSFWorkbook(); FileOutputStream fileout = new FileOutputStream(&quot;./Excel.xlsx&quot;);\r\n       CSVReader csvReader = new CSVReader(new FileReader(&quot;./cities.csv&quot;));\r\n       //CSVReader csvReader = new CSVReader(new FileReader(&quot;./annual-enterprise-survey-2021-financial-year-provisional-csv.csv&quot;));\r\n       //CSVReader csvReader = new CSVReader(new FileReader(&quot;./overseas-trade-indexes-September-2022-quarter-provisional-csv.csv&quot;));\r\n       ) {\r\n    \r\n       sxssfWorkbook.setCompressTempFiles(true);\r\n       SXSSFSheet sxssfSheet = sxssfWorkbook.createSheet(&quot;Sheet&quot;);\r\n       sxssfSheet.setRandomAccessWindowSize(100);\r\n       \r\n       String[] strHeaders = null;\r\n       String[] dataRow = null;\r\n       int rowNum = 0;\r\n       while ((dataRow = csvReader.readNext()) != null) {\r\n    \tif (rowNum == 0) strHeaders = dataRow;\r\n        Row currentRow = sxssfSheet.createRow(rowNum);\r\n        for (int i = 0; i &lt; dataRow.length; i++) {\r\n    \t String cellValue = dataRow[i];\r\n         currentRow.createCell(i).setCellValue(cellValue);\r\n        }\r\n        rowNum++;\r\n        if (rowNum % 1000 == 0) {\r\n         System.out.println(rowNum);\r\n        }\r\n       }\r\n    \r\n       int lastRow = rowNum -1;\r\n       int lastCol = strHeaders.length -1;\r\n       AreaReference areaReference = new AreaReference(new CellReference(0, 0), new CellReference(lastRow, lastCol), SpreadsheetVersion.EXCEL2007);\r\n       System.out.println(areaReference);\r\n       XSSFTable xssfTable = createTable(sxssfSheet, areaReference, strHeaders);\r\n       //this styles the table as Excel would do per default\r\n       xssfTable.getCTTable().addNewTableStyleInfo();\r\n       XSSFTableStyleInfo style = (XSSFTableStyleInfo)xssfTable.getStyle();\r\n       style.setName(&quot;TableStyleLight13&quot;);\r\n       style.setShowColumnStripes(false);\r\n       style.setShowRowStripes(true);\r\n       xssfTable.getCTTable().addNewAutoFilter().setRef(areaReference.formatAsString());\r\n       \r\n       sxssfWorkbook.write(fileout);\r\n       sxssfWorkbook.dispose(); \r\n      }\r\n     }\r\n    }\r\n\r\nThis code is tested and works using current Apache POI version `apache poi 5.2.3`.\r\n\r\nThe content of the `cities.csv` is here as text:\r\n\r\n    &quot;LatD&quot;, &quot;LatM&quot;, &quot;LatS&quot;, &quot;NS&quot;, &quot;LonD&quot;, &quot;LonM&quot;, &quot;LonS&quot;, &quot;EW&quot;, &quot;City&quot;, &quot;State&quot;\r\n       41,    5,   59, &quot;N&quot;,     80,   39,    0, &quot;W&quot;, &quot;Youngstown&quot;, OH\r\n       42,   52,   48, &quot;N&quot;,     97,   23,   23, &quot;W&quot;, &quot;Yankton&quot;, SD\r\n       46,   35,   59, &quot;N&quot;,    120,   30,   36, &quot;W&quot;, &quot;Yakima&quot;, WA\r\n       42,   16,   12, &quot;N&quot;,     71,   48,    0, &quot;W&quot;, &quot;Worcester&quot;, MA\r\n       43,   37,   48, &quot;N&quot;,     89,   46,   11, &quot;W&quot;, &quot;Wisconsin Dells&quot;, WI\r\n       36,    5,   59, &quot;N&quot;,     80,   15,    0, &quot;W&quot;, &quot;Winston-Salem&quot;, NC\r\n       49,   52,   48, &quot;N&quot;,     97,    9,    0, &quot;W&quot;, &quot;Winnipeg&quot;, MB\r\n       39,   11,   23, &quot;N&quot;,     78,    9,   36, &quot;W&quot;, &quot;Winchester&quot;, VA\r\n       34,   14,   24, &quot;N&quot;,     77,   55,   11, &quot;W&quot;, &quot;Wilmington&quot;, NC\r\n       39,   45,    0, &quot;N&quot;,     75,   33,    0, &quot;W&quot;, &quot;Wilmington&quot;, DE\r\n       48,    9,    0, &quot;N&quot;,    103,   37,   12, &quot;W&quot;, &quot;Williston&quot;, ND\r\n       41,   15,    0, &quot;N&quot;,     77,    0,    0, &quot;W&quot;, &quot;Williamsport&quot;, PA\r\n       37,   40,   48, &quot;N&quot;,     82,   16,   47, &quot;W&quot;, &quot;Williamson&quot;, WV\r\n       33,   54,    0, &quot;N&quot;,     98,   29,   23, &quot;W&quot;, &quot;Wichita Falls&quot;, TX\r\n       37,   41,   23, &quot;N&quot;,     97,   20,   23, &quot;W&quot;, &quot;Wichita&quot;, KS\r\n       40,    4,   11, &quot;N&quot;,     80,   43,   12, &quot;W&quot;, &quot;Wheeling&quot;, WV\r\n       26,   43,   11, &quot;N&quot;,     80,    3,    0, &quot;W&quot;, &quot;West Palm Beach&quot;, FL\r\n       47,   25,   11, &quot;N&quot;,    120,   19,   11, &quot;W&quot;, &quot;Wenatchee&quot;, WA\r\n       41,   25,   11, &quot;N&quot;,    122,   23,   23, &quot;W&quot;, &quot;Weed&quot;, CA\r\n       31,   13,   11, &quot;N&quot;,     82,   20,   59, &quot;W&quot;, &quot;Waycross&quot;, GA\r\n       44,   57,   35, &quot;N&quot;,     89,   38,   23, &quot;W&quot;, &quot;Wausau&quot;, WI\r\n       42,   21,   36, &quot;N&quot;,     87,   49,   48, &quot;W&quot;, &quot;Waukegan&quot;, IL\r\n       44,   54,    0, &quot;N&quot;,     97,    6,   36, &quot;W&quot;, &quot;Watertown&quot;, SD\r\n       43,   58,   47, &quot;N&quot;,     75,   55,   11, &quot;W&quot;, &quot;Watertown&quot;, NY\r\n       42,   30,    0, &quot;N&quot;,     92,   20,   23, &quot;W&quot;, &quot;Waterloo&quot;, IA\r\n       41,   32,   59, &quot;N&quot;,     73,    3,    0, &quot;W&quot;, &quot;Waterbury&quot;, CT\r\n       38,   53,   23, &quot;N&quot;,     77,    1,   47, &quot;W&quot;, &quot;Washington&quot;, DC\r\n       41,   50,   59, &quot;N&quot;,     79,    8,   23, &quot;W&quot;, &quot;Warren&quot;, PA\r\n       46,    4,   11, &quot;N&quot;,    118,   19,   48, &quot;W&quot;, &quot;Walla Walla&quot;, WA\r\n       31,   32,   59, &quot;N&quot;,     97,    8,   23, &quot;W&quot;, &quot;Waco&quot;, TX\r\n       38,   40,   48, &quot;N&quot;,     87,   31,   47, &quot;W&quot;, &quot;Vincennes&quot;, IN\r\n       28,   48,   35, &quot;N&quot;,     97,    0,   36, &quot;W&quot;, &quot;Victoria&quot;, TX\r\n       32,   20,   59, &quot;N&quot;,     90,   52,   47, &quot;W&quot;, &quot;Vicksburg&quot;, MS\r\n       49,   16,   12, &quot;N&quot;,    123,    7,   12, &quot;W&quot;, &quot;Vancouver&quot;, BC\r\n       46,   55,   11, &quot;N&quot;,     98,    0,   36, &quot;W&quot;, &quot;Valley City&quot;, ND\r\n       30,   49,   47, &quot;N&quot;,     83,   16,   47, &quot;W&quot;, &quot;Valdosta&quot;, GA\r\n       43,    6,   36, &quot;N&quot;,     75,   13,   48, &quot;W&quot;, &quot;Utica&quot;, NY\r\n       39,   54,    0, &quot;N&quot;,     79,   43,   48, &quot;W&quot;, &quot;Uniontown&quot;, PA\r\n       32,   20,   59, &quot;N&quot;,     95,   18,    0, &quot;W&quot;, &quot;Tyler&quot;, TX\r\n       42,   33,   36, &quot;N&quot;,    114,   28,   12, &quot;W&quot;, &quot;Twin Falls&quot;, ID\r\n       33,   12,   35, &quot;N&quot;,     87,   34,   11, &quot;W&quot;, &quot;Tuscaloosa&quot;, AL\r\n       34,   15,   35, &quot;N&quot;,     88,   42,   35, &quot;W&quot;, &quot;Tupelo&quot;, MS\r\n       36,    9,   35, &quot;N&quot;,     95,   54,   36, &quot;W&quot;, &quot;Tulsa&quot;, OK\r\n       32,   13,   12, &quot;N&quot;,    110,   58,   12, &quot;W&quot;, &quot;Tucson&quot;, AZ\r\n       37,   10,   11, &quot;N&quot;,    104,   30,   36, &quot;W&quot;, &quot;Trinidad&quot;, CO\r\n       40,   13,   47, &quot;N&quot;,     74,   46,   11, &quot;W&quot;, &quot;Trenton&quot;, NJ\r\n       44,   45,   35, &quot;N&quot;,     85,   37,   47, &quot;W&quot;, &quot;Traverse City&quot;, MI\r\n       43,   39,    0, &quot;N&quot;,     79,   22,   47, &quot;W&quot;, &quot;Toronto&quot;, ON\r\n       39,    2,   59, &quot;N&quot;,     95,   40,   11, &quot;W&quot;, &quot;Topeka&quot;, KS\r\n       41,   39,    0, &quot;N&quot;,     83,   32,   24, &quot;W&quot;, &quot;Toledo&quot;, OH\r\n       33,   25,   48, &quot;N&quot;,     94,    3,    0, &quot;W&quot;, &quot;Texarkana&quot;, TX\r\n       39,   28,   12, &quot;N&quot;,     87,   24,   36, &quot;W&quot;, &quot;Terre Haute&quot;, IN\r\n       27,   57,    0, &quot;N&quot;,     82,   26,   59, &quot;W&quot;, &quot;Tampa&quot;, FL\r\n       30,   27,    0, &quot;N&quot;,     84,   16,   47, &quot;W&quot;, &quot;Tallahassee&quot;, FL\r\n       47,   14,   24, &quot;N&quot;,    122,   25,   48, &quot;W&quot;, &quot;Tacoma&quot;, WA\r\n       43,    2,   59, &quot;N&quot;,     76,    9,    0, &quot;W&quot;, &quot;Syracuse&quot;, NY\r\n       32,   35,   59, &quot;N&quot;,     82,   20,   23, &quot;W&quot;, &quot;Swainsboro&quot;, GA\r\n       33,   55,   11, &quot;N&quot;,     80,   20,   59, &quot;W&quot;, &quot;Sumter&quot;, SC\r\n       40,   59,   24, &quot;N&quot;,     75,   11,   24, &quot;W&quot;, &quot;Stroudsburg&quot;, PA\r\n       37,   57,   35, &quot;N&quot;,    121,   17,   24, &quot;W&quot;, &quot;Stockton&quot;, CA\r\n       44,   31,   12, &quot;N&quot;,     89,   34,   11, &quot;W&quot;, &quot;Stevens Point&quot;, WI\r\n       40,   21,   36, &quot;N&quot;,     80,   37,   12, &quot;W&quot;, &quot;Steubenville&quot;, OH\r\n       40,   37,   11, &quot;N&quot;,    103,   13,   12, &quot;W&quot;, &quot;Sterling&quot;, CO\r\n       38,    9,    0, &quot;N&quot;,     79,    4,   11, &quot;W&quot;, &quot;Staunton&quot;, VA\r\n       39,   55,   11, &quot;N&quot;,     83,   48,   35, &quot;W&quot;, &quot;Springfield&quot;, OH\r\n       37,   13,   12, &quot;N&quot;,     93,   17,   24, &quot;W&quot;, &quot;Springfield&quot;, MO\r\n       42,    5,   59, &quot;N&quot;,     72,   35,   23, &quot;W&quot;, &quot;Springfield&quot;, MA\r\n       39,   47,   59, &quot;N&quot;,     89,   39,    0, &quot;W&quot;, &quot;Springfield&quot;, IL\r\n       47,   40,   11, &quot;N&quot;,    117,   24,   36, &quot;W&quot;, &quot;Spokane&quot;, WA\r\n       41,   40,   48, &quot;N&quot;,     86,   15,    0, &quot;W&quot;, &quot;South Bend&quot;, IN\r\n       43,   32,   24, &quot;N&quot;,     96,   43,   48, &quot;W&quot;, &quot;Sioux Falls&quot;, SD\r\n       42,   29,   24, &quot;N&quot;,     96,   23,   23, &quot;W&quot;, &quot;Sioux City&quot;, IA\r\n       32,   30,   35, &quot;N&quot;,     93,   45,    0, &quot;W&quot;, &quot;Shreveport&quot;, LA\r\n       33,   38,   23, &quot;N&quot;,     96,   36,   36, &quot;W&quot;, &quot;Sherman&quot;, TX\r\n       44,   47,   59, &quot;N&quot;,    106,   57,   35, &quot;W&quot;, &quot;Sheridan&quot;, WY\r\n       35,   13,   47, &quot;N&quot;,     96,   40,   48, &quot;W&quot;, &quot;Seminole&quot;, OK\r\n       32,   25,   11, &quot;N&quot;,     87,    1,   11, &quot;W&quot;, &quot;Selma&quot;, AL\r\n       38,   42,   35, &quot;N&quot;,     93,   13,   48, &quot;W&quot;, &quot;Sedalia&quot;, MO\r\n       47,   35,   59, &quot;N&quot;,    122,   19,   48, &quot;W&quot;, &quot;Seattle&quot;, WA\r\n       41,   24,   35, &quot;N&quot;,     75,   40,   11, &quot;W&quot;, &quot;Scranton&quot;, PA\r\n       41,   52,   11, &quot;N&quot;,    103,   39,   36, &quot;W&quot;, &quot;Scottsbluff&quot;, NB\r\n       42,   49,   11, &quot;N&quot;,     73,   56,   59, &quot;W&quot;, &quot;Schenectady&quot;, NY\r\n       32,    4,   48, &quot;N&quot;,     81,    5,   23, &quot;W&quot;, &quot;Savannah&quot;, GA\r\n       46,   29,   24, &quot;N&quot;,     84,   20,   59, &quot;W&quot;, &quot;Sault Sainte Marie&quot;, MI\r\n       27,   20,   24, &quot;N&quot;,     82,   31,   47, &quot;W&quot;, &quot;Sarasota&quot;, FL\r\n       38,   26,   23, &quot;N&quot;,    122,   43,   12, &quot;W&quot;, &quot;Santa Rosa&quot;, CA\r\n       35,   40,   48, &quot;N&quot;,    105,   56,   59, &quot;W&quot;, &quot;Santa Fe&quot;, NM\r\n       34,   25,   11, &quot;N&quot;,    119,   41,   59, &quot;W&quot;, &quot;Santa Barbara&quot;, CA\r\n       33,   45,   35, &quot;N&quot;,    117,   52,   12, &quot;W&quot;, &quot;Santa Ana&quot;, CA\r\n       37,   20,   24, &quot;N&quot;,    121,   52,   47, &quot;W&quot;, &quot;San Jose&quot;, CA\r\n       37,   46,   47, &quot;N&quot;,    122,   25,   11, &quot;W&quot;, &quot;San Francisco&quot;, CA\r\n       41,   27,    0, &quot;N&quot;,     82,   42,   35, &quot;W&quot;, &quot;Sandusky&quot;, OH\r\n       32,   42,   35, &quot;N&quot;,    117,    9,    0, &quot;W&quot;, &quot;San Diego&quot;, CA\r\n       34,    6,   36, &quot;N&quot;,    117,   18,   35, &quot;W&quot;, &quot;San Bernardino&quot;, CA\r\n       29,   25,   12, &quot;N&quot;,     98,   30,    0, &quot;W&quot;, &quot;San Antonio&quot;, TX\r\n       31,   27,   35, &quot;N&quot;,    100,   26,   24, &quot;W&quot;, &quot;San Angelo&quot;, TX\r\n       40,   45,   35, &quot;N&quot;,    111,   52,   47, &quot;W&quot;, &quot;Salt Lake City&quot;, UT\r\n       38,   22,   11, &quot;N&quot;,     75,   35,   59, &quot;W&quot;, &quot;Salisbury&quot;, MD\r\n       36,   40,   11, &quot;N&quot;,    121,   39,    0, &quot;W&quot;, &quot;Salinas&quot;, CA\r\n       38,   50,   24, &quot;N&quot;,     97,   36,   36, &quot;W&quot;, &quot;Salina&quot;, KS\r\n       38,   31,   47, &quot;N&quot;,    106,    0,    0, &quot;W&quot;, &quot;Salida&quot;, CO\r\n       44,   56,   23, &quot;N&quot;,    123,    1,   47, &quot;W&quot;, &quot;Salem&quot;, OR\r\n       44,   57,    0, &quot;N&quot;,     93,    5,   59, &quot;W&quot;, &quot;Saint Paul&quot;, MN\r\n       38,   37,   11, &quot;N&quot;,     90,   11,   24, &quot;W&quot;, &quot;Saint Louis&quot;, MO\r\n       39,   46,   12, &quot;N&quot;,     94,   50,   23, &quot;W&quot;, &quot;Saint Joseph&quot;, MO\r\n       42,    5,   59, &quot;N&quot;,     86,   28,   48, &quot;W&quot;, &quot;Saint Joseph&quot;, MI\r\n       44,   25,   11, &quot;N&quot;,     72,    1,   11, &quot;W&quot;, &quot;Saint Johnsbury&quot;, VT\r\n       45,   34,   11, &quot;N&quot;,     94,   10,   11, &quot;W&quot;, &quot;Saint Cloud&quot;, MN\r\n       29,   53,   23, &quot;N&quot;,     81,   19,   11, &quot;W&quot;, &quot;Saint Augustine&quot;, FL\r\n       43,   25,   48, &quot;N&quot;,     83,   56,   24, &quot;W&quot;, &quot;Saginaw&quot;, MI\r\n       38,   35,   24, &quot;N&quot;,    121,   29,   23, &quot;W&quot;, &quot;Sacramento&quot;, CA\r\n       43,   36,   36, &quot;N&quot;,     72,   58,   12, &quot;W&quot;, &quot;Rutland&quot;, VT\r\n       33,   24,    0, &quot;N&quot;,    104,   31,   47, &quot;W&quot;, &quot;Roswell&quot;, NM\r\n       35,   56,   23, &quot;N&quot;,     77,   48,    0, &quot;W&quot;, &quot;Rocky Mount&quot;, NC\r\n       41,   35,   24, &quot;N&quot;,    109,   13,   48, &quot;W&quot;, &quot;Rock Springs&quot;, WY\r\n       42,   16,   12, &quot;N&quot;,     89,    5,   59, &quot;W&quot;, &quot;Rockford&quot;, IL\r\n       43,    9,   35, &quot;N&quot;,     77,   36,   36, &quot;W&quot;, &quot;Rochester&quot;, NY\r\n       44,    1,   12, &quot;N&quot;,     92,   27,   35, &quot;W&quot;, &quot;Rochester&quot;, MN\r\n       37,   16,   12, &quot;N&quot;,     79,   56,   24, &quot;W&quot;, &quot;Roanoke&quot;, VA\r\n       37,   32,   24, &quot;N&quot;,     77,   26,   59, &quot;W&quot;, &quot;Richmond&quot;, VA\r\n       39,   49,   48, &quot;N&quot;,     84,   53,   23, &quot;W&quot;, &quot;Richmond&quot;, IN\r\n       38,   46,   12, &quot;N&quot;,    112,    5,   23, &quot;W&quot;, &quot;Richfield&quot;, UT\r\n       45,   38,   23, &quot;N&quot;,     89,   25,   11, &quot;W&quot;, &quot;Rhinelander&quot;, WI\r\n       39,   31,   12, &quot;N&quot;,    119,   48,   35, &quot;W&quot;, &quot;Reno&quot;, NV\r\n       50,   25,   11, &quot;N&quot;,    104,   39,    0, &quot;W&quot;, &quot;Regina&quot;, SA\r\n       40,   10,   48, &quot;N&quot;,    122,   14,   23, &quot;W&quot;, &quot;Red Bluff&quot;, CA\r\n       40,   19,   48, &quot;N&quot;,     75,   55,   48, &quot;W&quot;, &quot;Reading&quot;, PA\r\n       41,    9,   35, &quot;N&quot;,     81,   14,   23, &quot;W&quot;, &quot;Ravenna&quot;, OH \r\n\r\n\r\nCopy/paste in text editor. Then save as `cities.csv`.\r\n\r\nAdditional CSV files to test you might download from here: https://www.stats.govt.nz/large-datasets/csv-files-for-download/.\r\n\r\nAnother problem is using `Cell.setCellValue` always using String values while Excel differs between string and numeric cell values. But this is a well known problem using CSV.  One would need an additional definition file which shows which CSV column is of which data type.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Get smart Excel table with Apache POI","body":"<p>At first: Reading CSV files row by row as plain text files and the split by delimiter is error prone. There are CSV rules which are not considered by this approach. For example: Values might be surrounded by quotes. There might be spaces between the comma and the next value, which then not should be part of the value. And so on. CSV files should be read using libraries which were made for that. There is <a href=\"https://opencsv.sourceforge.net/\" rel=\"nofollow noreferrer\">opencsv</a> for example.</p>\n<p>Creating tables in Excel is part of Apache POI. There is <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFSheet.html#createTable-org.apache.poi.ss.util.AreaReference-\" rel=\"nofollow noreferrer\">XSSFSheet.createTable</a>. Unfortunately there is no <code>SXSSFSheet.createTable</code>. And you need the streaming version <code>SXSSF</code> because of the size of your CSVs, right?</p>\n<p>To overcome this problem, one can get the underlying <code>XSSFWorkbook</code> out of the <code>SXSSFWorkbook</code> to create the <code>XSSFTable</code> there. Problem with this approach is, that while streaming into the <code>SXSSFSheet</code> the underlying <code>XSSFSheet</code> does not contain any data. That's why <code>XSSFSheet.createTable(AreaReference)</code> does not find any column names in first row of the <code>AreaReference</code> and creates a table having column names &quot;Column1&quot;, &quot;Column2&quot;, &quot;Column3&quot;,  .... However, these do not match the actual content of the sheet. That's why we need updating the headers after table was created.</p>\n<p>Complete example:</p>\n<pre><code>import java.io.*;\n\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.*;\nimport org.apache.poi.xssf.streaming.*;\nimport org.apache.poi.ss.SpreadsheetVersion;\nimport org.apache.poi.ss.util.AreaReference;\nimport org.apache.poi.ss.util.CellReference;\n\nimport com.opencsv.CSVReader;\n\nclass CreateTableFromCSV {\n    \n static XSSFTable createTable(SXSSFSheet sxssfSheet, AreaReference areaReference, String[] strHeaders) {\n  XSSFWorkbook xssfWorkbook = sxssfSheet.getWorkbook().getXSSFWorkbook();\n  XSSFSheet xssfSheet = xssfWorkbook.getSheet(sxssfSheet.getSheetName());\n  XSSFTable xssfTable = xssfSheet.createTable(areaReference);\n  System.out.println(xssfTable.getCTTable()); // wrong column names since xssfSheet does not contain any data until now\n  //xssfTable.updateHeaders(); // this cannot work since xssfSheet does not contain any data until now\n  for (int i = 0; i &lt; strHeaders.length; i++) {\n   String columnHeader = strHeaders[i];\n   if (xssfTable.getCTTable().getTableColumns().getTableColumnList().size() &gt; i) xssfTable.getCTTable().getTableColumns().getTableColumnList().get(i).setName(columnHeader); \n  }\n  System.out.println(xssfTable.getCTTable()); // headers updated\n  return xssfTable;\n }\n    \n public static void main(String[] args) throws Exception {\n\n  try (\n   SXSSFWorkbook sxssfWorkbook = new SXSSFWorkbook(); FileOutputStream fileout = new FileOutputStream(&quot;./Excel.xlsx&quot;);\n   CSVReader csvReader = new CSVReader(new FileReader(&quot;./cities.csv&quot;));\n   //CSVReader csvReader = new CSVReader(new FileReader(&quot;./annual-enterprise-survey-2021-financial-year-provisional-csv.csv&quot;));\n   //CSVReader csvReader = new CSVReader(new FileReader(&quot;./overseas-trade-indexes-September-2022-quarter-provisional-csv.csv&quot;));\n   ) {\n\n   sxssfWorkbook.setCompressTempFiles(true);\n   SXSSFSheet sxssfSheet = sxssfWorkbook.createSheet(&quot;Sheet&quot;);\n   sxssfSheet.setRandomAccessWindowSize(100);\n   \n   String[] strHeaders = null;\n   String[] dataRow = null;\n   int rowNum = 0;\n   while ((dataRow = csvReader.readNext()) != null) {\n    if (rowNum == 0) strHeaders = dataRow;\n    Row currentRow = sxssfSheet.createRow(rowNum);\n    for (int i = 0; i &lt; dataRow.length; i++) {\n     String cellValue = dataRow[i];\n     currentRow.createCell(i).setCellValue(cellValue);\n    }\n    rowNum++;\n    if (rowNum % 1000 == 0) {\n     System.out.println(rowNum);\n    }\n   }\n\n   int lastRow = rowNum -1;\n   int lastCol = strHeaders.length -1;\n   AreaReference areaReference = new AreaReference(new CellReference(0, 0), new CellReference(lastRow, lastCol), SpreadsheetVersion.EXCEL2007);\n   System.out.println(areaReference);\n   XSSFTable xssfTable = createTable(sxssfSheet, areaReference, strHeaders);\n   //this styles the table as Excel would do per default\n   xssfTable.getCTTable().addNewTableStyleInfo();\n   XSSFTableStyleInfo style = (XSSFTableStyleInfo)xssfTable.getStyle();\n   style.setName(&quot;TableStyleLight13&quot;);\n   style.setShowColumnStripes(false);\n   style.setShowRowStripes(true);\n   xssfTable.getCTTable().addNewAutoFilter().setRef(areaReference.formatAsString());\n   \n   sxssfWorkbook.write(fileout);\n   sxssfWorkbook.dispose(); \n  }\n }\n}\n</code></pre>\n<p>This code is tested and works using current Apache POI version <code>apache poi 5.2.3</code>.</p>\n<p>The content of the <code>cities.csv</code> is here as text:</p>\n<pre><code>&quot;LatD&quot;, &quot;LatM&quot;, &quot;LatS&quot;, &quot;NS&quot;, &quot;LonD&quot;, &quot;LonM&quot;, &quot;LonS&quot;, &quot;EW&quot;, &quot;City&quot;, &quot;State&quot;\n   41,    5,   59, &quot;N&quot;,     80,   39,    0, &quot;W&quot;, &quot;Youngstown&quot;, OH\n   42,   52,   48, &quot;N&quot;,     97,   23,   23, &quot;W&quot;, &quot;Yankton&quot;, SD\n   46,   35,   59, &quot;N&quot;,    120,   30,   36, &quot;W&quot;, &quot;Yakima&quot;, WA\n   42,   16,   12, &quot;N&quot;,     71,   48,    0, &quot;W&quot;, &quot;Worcester&quot;, MA\n   43,   37,   48, &quot;N&quot;,     89,   46,   11, &quot;W&quot;, &quot;Wisconsin Dells&quot;, WI\n   36,    5,   59, &quot;N&quot;,     80,   15,    0, &quot;W&quot;, &quot;Winston-Salem&quot;, NC\n   49,   52,   48, &quot;N&quot;,     97,    9,    0, &quot;W&quot;, &quot;Winnipeg&quot;, MB\n   39,   11,   23, &quot;N&quot;,     78,    9,   36, &quot;W&quot;, &quot;Winchester&quot;, VA\n   34,   14,   24, &quot;N&quot;,     77,   55,   11, &quot;W&quot;, &quot;Wilmington&quot;, NC\n   39,   45,    0, &quot;N&quot;,     75,   33,    0, &quot;W&quot;, &quot;Wilmington&quot;, DE\n   48,    9,    0, &quot;N&quot;,    103,   37,   12, &quot;W&quot;, &quot;Williston&quot;, ND\n   41,   15,    0, &quot;N&quot;,     77,    0,    0, &quot;W&quot;, &quot;Williamsport&quot;, PA\n   37,   40,   48, &quot;N&quot;,     82,   16,   47, &quot;W&quot;, &quot;Williamson&quot;, WV\n   33,   54,    0, &quot;N&quot;,     98,   29,   23, &quot;W&quot;, &quot;Wichita Falls&quot;, TX\n   37,   41,   23, &quot;N&quot;,     97,   20,   23, &quot;W&quot;, &quot;Wichita&quot;, KS\n   40,    4,   11, &quot;N&quot;,     80,   43,   12, &quot;W&quot;, &quot;Wheeling&quot;, WV\n   26,   43,   11, &quot;N&quot;,     80,    3,    0, &quot;W&quot;, &quot;West Palm Beach&quot;, FL\n   47,   25,   11, &quot;N&quot;,    120,   19,   11, &quot;W&quot;, &quot;Wenatchee&quot;, WA\n   41,   25,   11, &quot;N&quot;,    122,   23,   23, &quot;W&quot;, &quot;Weed&quot;, CA\n   31,   13,   11, &quot;N&quot;,     82,   20,   59, &quot;W&quot;, &quot;Waycross&quot;, GA\n   44,   57,   35, &quot;N&quot;,     89,   38,   23, &quot;W&quot;, &quot;Wausau&quot;, WI\n   42,   21,   36, &quot;N&quot;,     87,   49,   48, &quot;W&quot;, &quot;Waukegan&quot;, IL\n   44,   54,    0, &quot;N&quot;,     97,    6,   36, &quot;W&quot;, &quot;Watertown&quot;, SD\n   43,   58,   47, &quot;N&quot;,     75,   55,   11, &quot;W&quot;, &quot;Watertown&quot;, NY\n   42,   30,    0, &quot;N&quot;,     92,   20,   23, &quot;W&quot;, &quot;Waterloo&quot;, IA\n   41,   32,   59, &quot;N&quot;,     73,    3,    0, &quot;W&quot;, &quot;Waterbury&quot;, CT\n   38,   53,   23, &quot;N&quot;,     77,    1,   47, &quot;W&quot;, &quot;Washington&quot;, DC\n   41,   50,   59, &quot;N&quot;,     79,    8,   23, &quot;W&quot;, &quot;Warren&quot;, PA\n   46,    4,   11, &quot;N&quot;,    118,   19,   48, &quot;W&quot;, &quot;Walla Walla&quot;, WA\n   31,   32,   59, &quot;N&quot;,     97,    8,   23, &quot;W&quot;, &quot;Waco&quot;, TX\n   38,   40,   48, &quot;N&quot;,     87,   31,   47, &quot;W&quot;, &quot;Vincennes&quot;, IN\n   28,   48,   35, &quot;N&quot;,     97,    0,   36, &quot;W&quot;, &quot;Victoria&quot;, TX\n   32,   20,   59, &quot;N&quot;,     90,   52,   47, &quot;W&quot;, &quot;Vicksburg&quot;, MS\n   49,   16,   12, &quot;N&quot;,    123,    7,   12, &quot;W&quot;, &quot;Vancouver&quot;, BC\n   46,   55,   11, &quot;N&quot;,     98,    0,   36, &quot;W&quot;, &quot;Valley City&quot;, ND\n   30,   49,   47, &quot;N&quot;,     83,   16,   47, &quot;W&quot;, &quot;Valdosta&quot;, GA\n   43,    6,   36, &quot;N&quot;,     75,   13,   48, &quot;W&quot;, &quot;Utica&quot;, NY\n   39,   54,    0, &quot;N&quot;,     79,   43,   48, &quot;W&quot;, &quot;Uniontown&quot;, PA\n   32,   20,   59, &quot;N&quot;,     95,   18,    0, &quot;W&quot;, &quot;Tyler&quot;, TX\n   42,   33,   36, &quot;N&quot;,    114,   28,   12, &quot;W&quot;, &quot;Twin Falls&quot;, ID\n   33,   12,   35, &quot;N&quot;,     87,   34,   11, &quot;W&quot;, &quot;Tuscaloosa&quot;, AL\n   34,   15,   35, &quot;N&quot;,     88,   42,   35, &quot;W&quot;, &quot;Tupelo&quot;, MS\n   36,    9,   35, &quot;N&quot;,     95,   54,   36, &quot;W&quot;, &quot;Tulsa&quot;, OK\n   32,   13,   12, &quot;N&quot;,    110,   58,   12, &quot;W&quot;, &quot;Tucson&quot;, AZ\n   37,   10,   11, &quot;N&quot;,    104,   30,   36, &quot;W&quot;, &quot;Trinidad&quot;, CO\n   40,   13,   47, &quot;N&quot;,     74,   46,   11, &quot;W&quot;, &quot;Trenton&quot;, NJ\n   44,   45,   35, &quot;N&quot;,     85,   37,   47, &quot;W&quot;, &quot;Traverse City&quot;, MI\n   43,   39,    0, &quot;N&quot;,     79,   22,   47, &quot;W&quot;, &quot;Toronto&quot;, ON\n   39,    2,   59, &quot;N&quot;,     95,   40,   11, &quot;W&quot;, &quot;Topeka&quot;, KS\n   41,   39,    0, &quot;N&quot;,     83,   32,   24, &quot;W&quot;, &quot;Toledo&quot;, OH\n   33,   25,   48, &quot;N&quot;,     94,    3,    0, &quot;W&quot;, &quot;Texarkana&quot;, TX\n   39,   28,   12, &quot;N&quot;,     87,   24,   36, &quot;W&quot;, &quot;Terre Haute&quot;, IN\n   27,   57,    0, &quot;N&quot;,     82,   26,   59, &quot;W&quot;, &quot;Tampa&quot;, FL\n   30,   27,    0, &quot;N&quot;,     84,   16,   47, &quot;W&quot;, &quot;Tallahassee&quot;, FL\n   47,   14,   24, &quot;N&quot;,    122,   25,   48, &quot;W&quot;, &quot;Tacoma&quot;, WA\n   43,    2,   59, &quot;N&quot;,     76,    9,    0, &quot;W&quot;, &quot;Syracuse&quot;, NY\n   32,   35,   59, &quot;N&quot;,     82,   20,   23, &quot;W&quot;, &quot;Swainsboro&quot;, GA\n   33,   55,   11, &quot;N&quot;,     80,   20,   59, &quot;W&quot;, &quot;Sumter&quot;, SC\n   40,   59,   24, &quot;N&quot;,     75,   11,   24, &quot;W&quot;, &quot;Stroudsburg&quot;, PA\n   37,   57,   35, &quot;N&quot;,    121,   17,   24, &quot;W&quot;, &quot;Stockton&quot;, CA\n   44,   31,   12, &quot;N&quot;,     89,   34,   11, &quot;W&quot;, &quot;Stevens Point&quot;, WI\n   40,   21,   36, &quot;N&quot;,     80,   37,   12, &quot;W&quot;, &quot;Steubenville&quot;, OH\n   40,   37,   11, &quot;N&quot;,    103,   13,   12, &quot;W&quot;, &quot;Sterling&quot;, CO\n   38,    9,    0, &quot;N&quot;,     79,    4,   11, &quot;W&quot;, &quot;Staunton&quot;, VA\n   39,   55,   11, &quot;N&quot;,     83,   48,   35, &quot;W&quot;, &quot;Springfield&quot;, OH\n   37,   13,   12, &quot;N&quot;,     93,   17,   24, &quot;W&quot;, &quot;Springfield&quot;, MO\n   42,    5,   59, &quot;N&quot;,     72,   35,   23, &quot;W&quot;, &quot;Springfield&quot;, MA\n   39,   47,   59, &quot;N&quot;,     89,   39,    0, &quot;W&quot;, &quot;Springfield&quot;, IL\n   47,   40,   11, &quot;N&quot;,    117,   24,   36, &quot;W&quot;, &quot;Spokane&quot;, WA\n   41,   40,   48, &quot;N&quot;,     86,   15,    0, &quot;W&quot;, &quot;South Bend&quot;, IN\n   43,   32,   24, &quot;N&quot;,     96,   43,   48, &quot;W&quot;, &quot;Sioux Falls&quot;, SD\n   42,   29,   24, &quot;N&quot;,     96,   23,   23, &quot;W&quot;, &quot;Sioux City&quot;, IA\n   32,   30,   35, &quot;N&quot;,     93,   45,    0, &quot;W&quot;, &quot;Shreveport&quot;, LA\n   33,   38,   23, &quot;N&quot;,     96,   36,   36, &quot;W&quot;, &quot;Sherman&quot;, TX\n   44,   47,   59, &quot;N&quot;,    106,   57,   35, &quot;W&quot;, &quot;Sheridan&quot;, WY\n   35,   13,   47, &quot;N&quot;,     96,   40,   48, &quot;W&quot;, &quot;Seminole&quot;, OK\n   32,   25,   11, &quot;N&quot;,     87,    1,   11, &quot;W&quot;, &quot;Selma&quot;, AL\n   38,   42,   35, &quot;N&quot;,     93,   13,   48, &quot;W&quot;, &quot;Sedalia&quot;, MO\n   47,   35,   59, &quot;N&quot;,    122,   19,   48, &quot;W&quot;, &quot;Seattle&quot;, WA\n   41,   24,   35, &quot;N&quot;,     75,   40,   11, &quot;W&quot;, &quot;Scranton&quot;, PA\n   41,   52,   11, &quot;N&quot;,    103,   39,   36, &quot;W&quot;, &quot;Scottsbluff&quot;, NB\n   42,   49,   11, &quot;N&quot;,     73,   56,   59, &quot;W&quot;, &quot;Schenectady&quot;, NY\n   32,    4,   48, &quot;N&quot;,     81,    5,   23, &quot;W&quot;, &quot;Savannah&quot;, GA\n   46,   29,   24, &quot;N&quot;,     84,   20,   59, &quot;W&quot;, &quot;Sault Sainte Marie&quot;, MI\n   27,   20,   24, &quot;N&quot;,     82,   31,   47, &quot;W&quot;, &quot;Sarasota&quot;, FL\n   38,   26,   23, &quot;N&quot;,    122,   43,   12, &quot;W&quot;, &quot;Santa Rosa&quot;, CA\n   35,   40,   48, &quot;N&quot;,    105,   56,   59, &quot;W&quot;, &quot;Santa Fe&quot;, NM\n   34,   25,   11, &quot;N&quot;,    119,   41,   59, &quot;W&quot;, &quot;Santa Barbara&quot;, CA\n   33,   45,   35, &quot;N&quot;,    117,   52,   12, &quot;W&quot;, &quot;Santa Ana&quot;, CA\n   37,   20,   24, &quot;N&quot;,    121,   52,   47, &quot;W&quot;, &quot;San Jose&quot;, CA\n   37,   46,   47, &quot;N&quot;,    122,   25,   11, &quot;W&quot;, &quot;San Francisco&quot;, CA\n   41,   27,    0, &quot;N&quot;,     82,   42,   35, &quot;W&quot;, &quot;Sandusky&quot;, OH\n   32,   42,   35, &quot;N&quot;,    117,    9,    0, &quot;W&quot;, &quot;San Diego&quot;, CA\n   34,    6,   36, &quot;N&quot;,    117,   18,   35, &quot;W&quot;, &quot;San Bernardino&quot;, CA\n   29,   25,   12, &quot;N&quot;,     98,   30,    0, &quot;W&quot;, &quot;San Antonio&quot;, TX\n   31,   27,   35, &quot;N&quot;,    100,   26,   24, &quot;W&quot;, &quot;San Angelo&quot;, TX\n   40,   45,   35, &quot;N&quot;,    111,   52,   47, &quot;W&quot;, &quot;Salt Lake City&quot;, UT\n   38,   22,   11, &quot;N&quot;,     75,   35,   59, &quot;W&quot;, &quot;Salisbury&quot;, MD\n   36,   40,   11, &quot;N&quot;,    121,   39,    0, &quot;W&quot;, &quot;Salinas&quot;, CA\n   38,   50,   24, &quot;N&quot;,     97,   36,   36, &quot;W&quot;, &quot;Salina&quot;, KS\n   38,   31,   47, &quot;N&quot;,    106,    0,    0, &quot;W&quot;, &quot;Salida&quot;, CO\n   44,   56,   23, &quot;N&quot;,    123,    1,   47, &quot;W&quot;, &quot;Salem&quot;, OR\n   44,   57,    0, &quot;N&quot;,     93,    5,   59, &quot;W&quot;, &quot;Saint Paul&quot;, MN\n   38,   37,   11, &quot;N&quot;,     90,   11,   24, &quot;W&quot;, &quot;Saint Louis&quot;, MO\n   39,   46,   12, &quot;N&quot;,     94,   50,   23, &quot;W&quot;, &quot;Saint Joseph&quot;, MO\n   42,    5,   59, &quot;N&quot;,     86,   28,   48, &quot;W&quot;, &quot;Saint Joseph&quot;, MI\n   44,   25,   11, &quot;N&quot;,     72,    1,   11, &quot;W&quot;, &quot;Saint Johnsbury&quot;, VT\n   45,   34,   11, &quot;N&quot;,     94,   10,   11, &quot;W&quot;, &quot;Saint Cloud&quot;, MN\n   29,   53,   23, &quot;N&quot;,     81,   19,   11, &quot;W&quot;, &quot;Saint Augustine&quot;, FL\n   43,   25,   48, &quot;N&quot;,     83,   56,   24, &quot;W&quot;, &quot;Saginaw&quot;, MI\n   38,   35,   24, &quot;N&quot;,    121,   29,   23, &quot;W&quot;, &quot;Sacramento&quot;, CA\n   43,   36,   36, &quot;N&quot;,     72,   58,   12, &quot;W&quot;, &quot;Rutland&quot;, VT\n   33,   24,    0, &quot;N&quot;,    104,   31,   47, &quot;W&quot;, &quot;Roswell&quot;, NM\n   35,   56,   23, &quot;N&quot;,     77,   48,    0, &quot;W&quot;, &quot;Rocky Mount&quot;, NC\n   41,   35,   24, &quot;N&quot;,    109,   13,   48, &quot;W&quot;, &quot;Rock Springs&quot;, WY\n   42,   16,   12, &quot;N&quot;,     89,    5,   59, &quot;W&quot;, &quot;Rockford&quot;, IL\n   43,    9,   35, &quot;N&quot;,     77,   36,   36, &quot;W&quot;, &quot;Rochester&quot;, NY\n   44,    1,   12, &quot;N&quot;,     92,   27,   35, &quot;W&quot;, &quot;Rochester&quot;, MN\n   37,   16,   12, &quot;N&quot;,     79,   56,   24, &quot;W&quot;, &quot;Roanoke&quot;, VA\n   37,   32,   24, &quot;N&quot;,     77,   26,   59, &quot;W&quot;, &quot;Richmond&quot;, VA\n   39,   49,   48, &quot;N&quot;,     84,   53,   23, &quot;W&quot;, &quot;Richmond&quot;, IN\n   38,   46,   12, &quot;N&quot;,    112,    5,   23, &quot;W&quot;, &quot;Richfield&quot;, UT\n   45,   38,   23, &quot;N&quot;,     89,   25,   11, &quot;W&quot;, &quot;Rhinelander&quot;, WI\n   39,   31,   12, &quot;N&quot;,    119,   48,   35, &quot;W&quot;, &quot;Reno&quot;, NV\n   50,   25,   11, &quot;N&quot;,    104,   39,    0, &quot;W&quot;, &quot;Regina&quot;, SA\n   40,   10,   48, &quot;N&quot;,    122,   14,   23, &quot;W&quot;, &quot;Red Bluff&quot;, CA\n   40,   19,   48, &quot;N&quot;,     75,   55,   48, &quot;W&quot;, &quot;Reading&quot;, PA\n   41,    9,   35, &quot;N&quot;,     81,   14,   23, &quot;W&quot;, &quot;Ravenna&quot;, OH \n</code></pre>\n<p>Copy/paste in text editor. Then save as <code>cities.csv</code>.</p>\n<p>Additional CSV files to test you might download from here: <a href=\"https://www.stats.govt.nz/large-datasets/csv-files-for-download/\" rel=\"nofollow noreferrer\">https://www.stats.govt.nz/large-datasets/csv-files-for-download/</a>.</p>\n<p>Another problem is using <code>Cell.setCellValue</code> always using String values while Excel differs between string and numeric cell values. But this is a well known problem using CSV.  One would need an additional definition file which shows which CSV column is of which data type.</p>\n"}],"owner":{"account_id":24133886,"reputation":409,"user_id":18101106,"display_name":"fujidaon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":704,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75172222,"answer_count":2,"score":0,"last_activity_date":1688965446,"creation_date":1674070048,"question_id":75164355,"body_markdown":"I&#39;m using code below to convert .csv file into .xlsx. It works okay, but customer want to get &quot;smart Excel table&quot; (with filters etc, format as table in Microsoft Excel). \r\n\r\nUsing Apache NiFI and Groovy:\r\n\r\n```\r\n@Grab(&quot;org.apache.poi:poi:3.16&quot;)\r\n@Grab(&quot;org.apache.poi:poi-ooxml:3.16&quot;)\r\nimport org.apache.poi.xssf.usermodel.*;\r\nimport org.apache.poi.ss.usermodel.*;\r\nimport org.apache.poi.xssf.streaming.*;\r\nimport org.apache.commons.io.IOUtils\r\nimport java.nio.charset.StandardCharsets\r\n\r\ndef flowFile = session.get()\r\nif(!flowFile)\r\n   return\r\n\r\nflowFile = session.write(flowFile, { inputStream, outputStream -&gt;\r\ntry {\r\n        SXSSFWorkbook workBook = new SXSSFWorkbook();\r\n        workBook.setCompressTempFiles(true);\r\n\r\n        SXSSFSheet sheet = workBook.createSheet(&quot;Sheet&quot;);\r\n        sheet.setRandomAccessWindowSize(1000);\r\n\r\n        String currentLine = null;\r\n        int RowNum = 0;\r\n        BufferedReader br = new BufferedReader(new InputStreamReader(inputStream));\r\n        while ((currentLine = br.readLine()) != null) {\r\n            String[] str = currentLine.split(&quot;,&quot;);            \r\n\r\n            Row currentRow = sheet.createRow(RowNum);\r\n            for(int i=0;i&lt;str.length;i++){\r\n                currentRow.createCell(i).setCellValue(str[i]);\r\n            }\r\n            RowNum++;\r\n\r\n            if (RowNum % 1000 == 0) {\r\n                println RowNum;\r\n            }\r\n        }\r\n        workBook.write(outputStream);\r\n        fileOutputStream.close();\r\n    } catch (Exception ex) {\r\n        ex.printStackTrace();\r\n    }\r\n\r\n\r\n} as StreamCallback)\r\n\r\nsession.transfer(flowFile, REL_SUCCESS)\r\n```\r\nMy version looks like:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nCustomer want to get smth like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zzURt.png\r\n  [2]: https://i.stack.imgur.com/U9qi0.png\r\n\r\nHow can I achieve this?","title":"Get smart Excel table with Apache POI","body":"<p>I'm using code below to convert .csv file into .xlsx. It works okay, but customer want to get &quot;smart Excel table&quot; (with filters etc, format as table in Microsoft Excel).</p>\n<p>Using Apache NiFI and Groovy:</p>\n<pre><code>@Grab(&quot;org.apache.poi:poi:3.16&quot;)\n@Grab(&quot;org.apache.poi:poi-ooxml:3.16&quot;)\nimport org.apache.poi.xssf.usermodel.*;\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.streaming.*;\nimport org.apache.commons.io.IOUtils\nimport java.nio.charset.StandardCharsets\n\ndef flowFile = session.get()\nif(!flowFile)\n   return\n\nflowFile = session.write(flowFile, { inputStream, outputStream -&gt;\ntry {\n        SXSSFWorkbook workBook = new SXSSFWorkbook();\n        workBook.setCompressTempFiles(true);\n\n        SXSSFSheet sheet = workBook.createSheet(&quot;Sheet&quot;);\n        sheet.setRandomAccessWindowSize(1000);\n\n        String currentLine = null;\n        int RowNum = 0;\n        BufferedReader br = new BufferedReader(new InputStreamReader(inputStream));\n        while ((currentLine = br.readLine()) != null) {\n            String[] str = currentLine.split(&quot;,&quot;);            \n\n            Row currentRow = sheet.createRow(RowNum);\n            for(int i=0;i&lt;str.length;i++){\n                currentRow.createCell(i).setCellValue(str[i]);\n            }\n            RowNum++;\n\n            if (RowNum % 1000 == 0) {\n                println RowNum;\n            }\n        }\n        workBook.write(outputStream);\n        fileOutputStream.close();\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    }\n\n\n} as StreamCallback)\n\nsession.transfer(flowFile, REL_SUCCESS)\n</code></pre>\n<p>My version looks like:\n<a href=\"https://i.stack.imgur.com/zzURt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zzURt.png\" alt=\"enter image description here\" /></a></p>\n<p>Customer want to get smth like this:</p>\n<p><a href=\"https://i.stack.imgur.com/U9qi0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U9qi0.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I achieve this?</p>\n"},{"tags":["java","spring","spring-boot","microservices","service-discovery"],"comments":[{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1688878637,"post_id":76645727,"comment_id":135131854,"body_markdown":"post the error stack info, at least  wew should know  where the error you encounter.","body":"post the error stack info, at least  wew should know  where the error you encounter."},{"owner":{"account_id":18626845,"reputation":75,"user_id":14557454,"display_name":"sam707"},"score":0,"creation_date":1688879903,"post_id":76645727,"comment_id":135131907,"body_markdown":"Thanks for your response. I have updated my question. @Peng","body":"Thanks for your response. I have updated my question. @Peng"},{"owner":{"account_id":18626845,"reputation":75,"user_id":14557454,"display_name":"sam707"},"score":0,"creation_date":1688880947,"post_id":76645727,"comment_id":135131971,"body_markdown":"When I start the client service, it starts without any error but is not registering itself either @Peng","body":"When I start the client service, it starts without any error but is not registering itself either @Peng"},{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1688889769,"post_id":76645727,"comment_id":135132623,"body_markdown":"Have your @EnableEurekaServer  tag your server application ? refer to  your config , there is no reason  that  the client  connection is failed","body":"Have your @EnableEurekaServer  tag your server application ? refer to  your config , there is no reason  that  the client  connection is failed"}],"owner":{"account_id":18626845,"reputation":75,"user_id":14557454,"display_name":"sam707"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688962981,"creation_date":1688871948,"question_id":76645727,"body_markdown":"*I am currently at the beginner level*\r\n\r\neureka server on port 8761 is running properly, \r\n\r\nbut the service annotated with @EnableEurekaClient failed to register with the eureka server.\r\nWhen I start the client service, it starts without any error but is not registering itself either.\r\n\r\nThis is my eureka server&#39;s application.properties\r\n\r\n````\r\nserver.port=8761\r\neureka.client.register-with-eureka=false\r\neureka.client.fetch-registry=false\r\neureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka/\r\neureka.instance.hostname=localhost\r\neureka.server.enable-self-preservation=true\r\neureka.server.eviction-interval-timer-in-ms=60000\r\neureka.server.wait-time-in-ms-when-sync-empty=3000\r\nspring.application.name=eurekaServer\r\n````\r\nAnd this is pom.xml\r\n\r\n```\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\n\r\n\r\neureka client&#39;s application.properties :\r\n```\r\nserver.port=8799\r\nspring.application.name=product\r\neureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka/\r\neureka.client.registerWithEureka=true\r\neureka.client.fetchRegistry=true\r\n```\r\n\r\n```\r\neureka client&#39;s pom.xml :\r\n\r\n  &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n       \r\n    &lt;/properties&gt;\r\n\r\n       &lt;dependencies&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n   \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-netflix-eureka-client&lt;/artifactId&gt;\r\n\r\n            &lt;version&gt;3.1.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n       \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;2022.0.3&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n```\r\nPlease help me figure out this issue.","title":"Eureka Client on my localhost can not register to localhost eureka server","body":"<p><em>I am currently at the beginner level</em></p>\n<p>eureka server on port 8761 is running properly,</p>\n<p>but the service annotated with @EnableEurekaClient failed to register with the eureka server.\nWhen I start the client service, it starts without any error but is not registering itself either.</p>\n<p>This is my eureka server's application.properties</p>\n<pre><code>server.port=8761\neureka.client.register-with-eureka=false\neureka.client.fetch-registry=false\neureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka/\neureka.instance.hostname=localhost\neureka.server.enable-self-preservation=true\neureka.server.eviction-interval-timer-in-ms=60000\neureka.server.wait-time-in-ms-when-sync-empty=3000\nspring.application.name=eurekaServer\n</code></pre>\n<p>And this is pom.xml</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>eureka client's application.properties :</p>\n<pre><code>server.port=8799\nspring.application.name=product\neureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka/\neureka.client.registerWithEureka=true\neureka.client.fetchRegistry=true\n</code></pre>\n<pre><code>eureka client's pom.xml :\n\n  &lt;properties&gt;\n        &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n       \n    &lt;/properties&gt;\n\n       &lt;dependencies&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n   \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-netflix-eureka-client&lt;/artifactId&gt;\n\n            &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n       \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;2022.0.3&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p>Please help me figure out this issue.</p>\n"},{"tags":["java","android","dependency-injection","navigation-drawer","butterknife"],"answers":[{"tags":[],"owner":{"account_id":11021611,"reputation":9242,"user_id":8112541,"display_name":"Goku"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1511010241,"creation_date":1511009965,"answer_id":47366375,"question_id":47366332,"body_markdown":"Try this\r\n\r\n    NavigationView navigationView = (NavigationView) findViewById(R.id.yournavigationView);        \r\n    tvProfileName = (TextView) navigationView.getHeaderView(0).findViewById(R.id.tv_nav_userName);\r\n    imgUserProfile = (ImageView) navigationView.getHeaderView(0).findViewById(R.id.profile_image);\r\n\r\n\r\n","title":"How to Bind a TextView which is in an NavigationView in an Activity","body":"<p>Try this</p>\n\n<pre><code>NavigationView navigationView = (NavigationView) findViewById(R.id.yournavigationView);        \ntvProfileName = (TextView) navigationView.getHeaderView(0).findViewById(R.id.tv_nav_userName);\nimgUserProfile = (ImageView) navigationView.getHeaderView(0).findViewById(R.id.profile_image);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4869796,"reputation":5586,"user_id":3926727,"accept_rate":100,"display_name":"Rasel"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688962818,"creation_date":1688962818,"answer_id":76650664,"question_id":47366332,"body_markdown":"Here is the way- \r\n\r\n    val headerView = binding.navView.getHeaderView(0)\r\n    val navHeaderBinding=NavHeaderBinding.bind(headerView)\r\n    navHeaderBinding.userinfoVoName.text = name","title":"How to Bind a TextView which is in an NavigationView in an Activity","body":"<p>Here is the way-</p>\n<pre><code>val headerView = binding.navView.getHeaderView(0)\nval navHeaderBinding=NavHeaderBinding.bind(headerView)\nnavHeaderBinding.userinfoVoName.text = name\n</code></pre>\n"}],"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":825,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":47366375,"answer_count":2,"score":5,"last_activity_date":1688962818,"creation_date":1511009627,"question_id":47366332,"body_markdown":"We are using android sdk 26 with butterknife 8.8.1\r\n\r\nThe `HomeActivity` has a navigation header, the navigation header also contains some text view. Is it possible to bind the `TextViews` in `HomeActivity` ?!\r\n\r\nHere are some codes which describes my problem\r\n\r\nThe `HomeActivity` class has below layout \r\n\r\n    &lt;android.support.v4.widget.DrawerLayout ....\r\n    \r\n        &lt;android.support.design.widget.NavigationView\r\n            android:id=&quot;@+id/nav_view&quot;\r\n            .....\r\n            app:headerLayout=&quot;@layout/nav_header&quot;\r\n            app:menu=&quot;@menu/activity_navigation_drawer&quot; /&gt;\r\n    \r\n    \r\n    \r\n    &lt;/android.support.v4.widget.DrawerLayout&gt;\r\n\r\nThe nav_header has some TextView in it\r\n\r\n    &lt;LinearLayout ....\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/userinfo_vo_name&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;TextView&quot; /&gt;\r\n    \r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\nIs it possible to bind the id of `userinfo_vo_name` text view in `HomeActivity`, the simple `BindView` fails\r\n\r\n    //fails \r\n    @BindView(R.id.userinfo_vo_name)\r\n    TextView userinfoName;\r\n\r\nOf course, I have called `ButterKnife.bind(this);` in `onCreate` method, but it seems not enough.\r\n","title":"How to Bind a TextView which is in an NavigationView in an Activity","body":"<p>We are using android sdk 26 with butterknife 8.8.1</p>\n\n<p>The <code>HomeActivity</code> has a navigation header, the navigation header also contains some text view. Is it possible to bind the <code>TextViews</code> in <code>HomeActivity</code> ?!</p>\n\n<p>Here are some codes which describes my problem</p>\n\n<p>The <code>HomeActivity</code> class has below layout </p>\n\n<pre><code>&lt;android.support.v4.widget.DrawerLayout ....\n\n    &lt;android.support.design.widget.NavigationView\n        android:id=\"@+id/nav_view\"\n        .....\n        app:headerLayout=\"@layout/nav_header\"\n        app:menu=\"@menu/activity_navigation_drawer\" /&gt;\n\n\n\n&lt;/android.support.v4.widget.DrawerLayout&gt;\n</code></pre>\n\n<p>The nav_header has some TextView in it</p>\n\n<pre><code>&lt;LinearLayout ....\n\n    &lt;TextView\n        android:id=\"@+id/userinfo_vo_name\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"TextView\" /&gt;\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>Is it possible to bind the id of <code>userinfo_vo_name</code> text view in <code>HomeActivity</code>, the simple <code>BindView</code> fails</p>\n\n<pre><code>//fails \n@BindView(R.id.userinfo_vo_name)\nTextView userinfoName;\n</code></pre>\n\n<p>Of course, I have called <code>ButterKnife.bind(this);</code> in <code>onCreate</code> method, but it seems not enough.</p>\n"},{"tags":["java","css","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":15616554,"reputation":23,"user_id":11266614,"display_name":"Youssef ElZawawy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688962154,"creation_date":1688962154,"answer_id":76650632,"question_id":76599904,"body_markdown":"I found out that the problem was not annotating **SecurityConfig** class with **@EnableWebSecurity**.\r\n\r\nHere is my SecurityConfig class \r\n```\r\n@Configuration\r\n@EnableWebSecurity // &lt;------------ That was missing\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class SecurityConfig {\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\r\n        http.authorizeHttpRequests(configurer -&gt;\r\n                        configurer.requestMatchers(&quot;/register/**&quot;,\r\n                                        &quot;/&quot;,&quot;/webjars/**&quot;).permitAll()\r\n                                .anyRequest().authenticated()\r\n                )\r\n        return http.build();\r\n    }\r\n}\r\n```\r\nI also changed my pom.xml to use bootstrap 4.6.2\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webjars-locator&lt;/artifactId&gt;\r\n            &lt;version&gt;0.40&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\r\n            &lt;version&gt;4.6.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nFinally, This is how I imported bootstrap in thymeleaf html \r\n```\r\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/webjars/bootstrap/css/bootstrap.min.css}&quot; type=&quot;text/css&quot;/&gt;\r\n    &lt;script th:src=&quot;@{/webjars/jquery/jquery.min.js}&quot;&gt;&lt;/script&gt;\r\n    &lt;script th:src=&quot;@{/webjars/bootstrap/js/bootstrap.min.js}&quot;&gt;&lt;/script&gt;\r\n```","title":"Spring security don&#39;t allow my bootstrap Webjars dependency file to load when not authenticated","body":"<p>I found out that the problem was not annotating <strong>SecurityConfig</strong> class with <strong>@EnableWebSecurity</strong>.</p>\n<p>Here is my SecurityConfig class</p>\n<pre><code>@Configuration\n@EnableWebSecurity // &lt;------------ That was missing\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfig {\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n        http.authorizeHttpRequests(configurer -&gt;\n                        configurer.requestMatchers(&quot;/register/**&quot;,\n                                        &quot;/&quot;,&quot;/webjars/**&quot;).permitAll()\n                                .anyRequest().authenticated()\n                )\n        return http.build();\n    }\n}\n</code></pre>\n<p>I also changed my pom.xml to use bootstrap 4.6.2</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;webjars-locator&lt;/artifactId&gt;\n            &lt;version&gt;0.40&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\n            &lt;version&gt;4.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Finally, This is how I imported bootstrap in thymeleaf html</p>\n<pre><code>    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/webjars/bootstrap/css/bootstrap.min.css}&quot; type=&quot;text/css&quot;/&gt;\n    &lt;script th:src=&quot;@{/webjars/jquery/jquery.min.js}&quot;&gt;&lt;/script&gt;\n    &lt;script th:src=&quot;@{/webjars/bootstrap/js/bootstrap.min.js}&quot;&gt;&lt;/script&gt;\n</code></pre>\n"}],"owner":{"account_id":15616554,"reputation":23,"user_id":11266614,"display_name":"Youssef ElZawawy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688962154,"creation_date":1688316534,"question_id":76599904,"body_markdown":"I&#39;m new to spring boot and I was creating my new demo E-commerce project to practice on using Spring boot and Thymeleaf\r\n\r\nThe problem I faced was trying to link bootstrap css files to html in login page while not authenticated yet\r\n\r\nHere is my **html link tag**:\r\n```\r\n&lt;link th:rel=&quot;stylesheet&quot; th:href=&quot;@{/webjars/bootstrap/4.0.0-2/css/bootstrap.min.css} &quot;/&gt;\r\n```\r\n\r\nMy **pom.xml** dependencies:\r\n```      \r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt; \r\n        &lt;/dependency&gt; \r\n```\r\n\r\nMy **Spring Security Config class**:\r\n```\r\n@Configuration\r\npublic class SecurityConfig {\r\n    //bcrypt bean definition\r\n    @Bean\r\n    public BCryptPasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider authenticationProvider(UserService userService) {\r\n        DaoAuthenticationProvider auth = new DaoAuthenticationProvider();\r\n        auth.setUserDetailsService(userService); //set the custom user details service\r\n        auth.setPasswordEncoder(passwordEncoder()); //set the password encoder - bcrypt\r\n        return auth;\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\r\n        http.authorizeHttpRequests(configurer -&gt;\r\n                        configurer.requestMatchers(&quot;/register/**&quot;,\r\n                                               &quot;/css/**&quot;,\r\n                                               &quot;/js/**&quot;,\r\n                                               &quot;/webjars/**&quot;).permitAll()\r\n                                .anyRequest().authenticated()\r\n                )\r\n                .formLogin(form -&gt;\r\n                        form\r\n                                .loginPage(&quot;/showLoginPage&quot;)\r\n                                .loginProcessingUrl(&quot;/authenticateUser&quot;)\r\n                                .permitAll()\r\n                )\r\n                .logout(logout -&gt; logout.permitAll()\r\n                )\r\n                .exceptionHandling(configurer -&gt;\r\n                        configurer.accessDeniedPage(&quot;/access-denied&quot;)\r\n                );\r\n\r\n        return http.build();\r\n    }\r\n}\r\n```\r\nMost of the solutions used ***authorizeRequests().antMatchers()*** which is deprecated.\r\nAlso, if anyone noticed any other mistakes please guide me as I said I&#39;m new to Spring-boot","title":"Spring security don&#39;t allow my bootstrap Webjars dependency file to load when not authenticated","body":"<p>I'm new to spring boot and I was creating my new demo E-commerce project to practice on using Spring boot and Thymeleaf</p>\n<p>The problem I faced was trying to link bootstrap css files to html in login page while not authenticated yet</p>\n<p>Here is my <strong>html link tag</strong>:</p>\n<pre><code>&lt;link th:rel=&quot;stylesheet&quot; th:href=&quot;@{/webjars/bootstrap/4.0.0-2/css/bootstrap.min.css} &quot;/&gt;\n</code></pre>\n<p>My <strong>pom.xml</strong> dependencies:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt; \n        &lt;/dependency&gt; \n</code></pre>\n<p>My <strong>Spring Security Config class</strong>:</p>\n<pre><code>@Configuration\npublic class SecurityConfig {\n    //bcrypt bean definition\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider(UserService userService) {\n        DaoAuthenticationProvider auth = new DaoAuthenticationProvider();\n        auth.setUserDetailsService(userService); //set the custom user details service\n        auth.setPasswordEncoder(passwordEncoder()); //set the password encoder - bcrypt\n        return auth;\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n        http.authorizeHttpRequests(configurer -&gt;\n                        configurer.requestMatchers(&quot;/register/**&quot;,\n                                               &quot;/css/**&quot;,\n                                               &quot;/js/**&quot;,\n                                               &quot;/webjars/**&quot;).permitAll()\n                                .anyRequest().authenticated()\n                )\n                .formLogin(form -&gt;\n                        form\n                                .loginPage(&quot;/showLoginPage&quot;)\n                                .loginProcessingUrl(&quot;/authenticateUser&quot;)\n                                .permitAll()\n                )\n                .logout(logout -&gt; logout.permitAll()\n                )\n                .exceptionHandling(configurer -&gt;\n                        configurer.accessDeniedPage(&quot;/access-denied&quot;)\n                );\n\n        return http.build();\n    }\n}\n</code></pre>\n<p>Most of the solutions used <em><strong>authorizeRequests().antMatchers()</strong></em> which is deprecated.\nAlso, if anyone noticed any other mistakes please guide me as I said I'm new to Spring-boot</p>\n"},{"tags":["java","postgresql","database-connection","quarkus"],"answers":[{"tags":[],"owner":{"account_id":26941424,"reputation":3,"user_id":20512174,"display_name":"FaheDevvs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674822298,"creation_date":1674822298,"answer_id":75258071,"question_id":75257822,"body_markdown":"        quarkus.datasource.url=jdbc:postgresql://host:port/database?ssl=true&amp;sslmode=require\r\n    quarkus.datasource.driver=org.postgresql.Driver\r\n    quarkus.datasource.username=username\r\n    quarkus.datasource.password=password\r\n    \r\n    # SSL configuration\r\n    quarkus.datasource.ssl-mode=require\r\n    quarkus.datasource.ssl-factory=org.postgresql.ssl.NonValidatingFactory\r\n    quarkus.datasource.ssl-factory-arg=trustStorePath=/path/to/truststore.jks,trustStorePassword=password\r\n\r\n\r\nTo connect to a database using SSL in Quarkus, you can configure the connection properties for the database in the application.properties file. You will need to provide the necessary SSL properties such as the location of the truststore and keystore, and the passwords for those files.\r\n\r\nThe error message suggests that the X.509 certificate is missing. To fix this issue, ensure that the paths to the certificate files in the properties quarkus.datasource.reactive.trust-certificate-pem.certs and quarkus.datasource.reactive.key-certificate-pem.keys are correct, and that the files are accessible at those locations. It&#39;s also important to check that files contain the correct PEM formated certificate . Also, it&#39;s worth to double check that the certificate files are in the correct format and match the expected CA and client certificates.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to Connect to PostgreSQL with SSL in Quarkus","body":"<pre><code>    quarkus.datasource.url=jdbc:postgresql://host:port/database?ssl=true&amp;sslmode=require\nquarkus.datasource.driver=org.postgresql.Driver\nquarkus.datasource.username=username\nquarkus.datasource.password=password\n\n# SSL configuration\nquarkus.datasource.ssl-mode=require\nquarkus.datasource.ssl-factory=org.postgresql.ssl.NonValidatingFactory\nquarkus.datasource.ssl-factory-arg=trustStorePath=/path/to/truststore.jks,trustStorePassword=password\n</code></pre>\n<p>To connect to a database using SSL in Quarkus, you can configure the connection properties for the database in the application.properties file. You will need to provide the necessary SSL properties such as the location of the truststore and keystore, and the passwords for those files.</p>\n<p>The error message suggests that the X.509 certificate is missing. To fix this issue, ensure that the paths to the certificate files in the properties quarkus.datasource.reactive.trust-certificate-pem.certs and quarkus.datasource.reactive.key-certificate-pem.keys are correct, and that the files are accessible at those locations. It's also important to check that files contain the correct PEM formated certificate . Also, it's worth to double check that the certificate files are in the correct format and match the expected CA and client certificates.</p>\n"},{"tags":[],"owner":{"account_id":27634157,"reputation":1,"user_id":21092440,"display_name":"qrbmnjt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688962070,"creation_date":1688962070,"answer_id":76650629,"question_id":75257822,"body_markdown":"I have found the correct configuration as follows\r\n\r\n    quarkus.datasource.db-kind=postgresql\r\n    quarkus.datasource.reactive.postgresql.ssl-mode=verify-ca\r\n    quarkus.datasource.reactive.trust-certificate-pem=true\r\n    quarkus.datasource.reactive.trust-certificate-pem.certs=name_of_server_ca_file.pem\r\n    quarkus.datasource.reactive.key-certificate-pem=true\r\n    quarkus.datasource.reactive.key-certificate-pem.keys=name_of_client_key.pem\r\n    quarkus.datasource.reactive.key-certificate-pem.certs=name_of_client_cert.pem\r\n    quarkus.datasource.username=username\r\n    quarkus.datasource.password=password\r\n    quarkus.datasource.reactive.url=postgresql://ipadress:port/dbname?currentSchema=schemaname\r\n\r\nfinally, put the certificate and key files under target folder (if you are developing locally, or put in the appropriate location if the service is deployed on server)\r\n\r\nthis works for me\r\n\r\nHopefully this help others too\r\n\r\n","title":"How to Connect to PostgreSQL with SSL in Quarkus","body":"<p>I have found the correct configuration as follows</p>\n<pre><code>quarkus.datasource.db-kind=postgresql\nquarkus.datasource.reactive.postgresql.ssl-mode=verify-ca\nquarkus.datasource.reactive.trust-certificate-pem=true\nquarkus.datasource.reactive.trust-certificate-pem.certs=name_of_server_ca_file.pem\nquarkus.datasource.reactive.key-certificate-pem=true\nquarkus.datasource.reactive.key-certificate-pem.keys=name_of_client_key.pem\nquarkus.datasource.reactive.key-certificate-pem.certs=name_of_client_cert.pem\nquarkus.datasource.username=username\nquarkus.datasource.password=password\nquarkus.datasource.reactive.url=postgresql://ipadress:port/dbname?currentSchema=schemaname\n</code></pre>\n<p>finally, put the certificate and key files under target folder (if you are developing locally, or put in the appropriate location if the service is deployed on server)</p>\n<p>this works for me</p>\n<p>Hopefully this help others too</p>\n"}],"owner":{"account_id":27634157,"reputation":1,"user_id":21092440,"display_name":"qrbmnjt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":675,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76650629,"answer_count":2,"score":0,"last_activity_date":1688962070,"creation_date":1674820857,"question_id":75257822,"body_markdown":"I have an application based on quarkus. It needs to connect to database using SSL. I have specified the config as follows:\r\n\r\n```\r\nquarkus.datasource.db-kind=postgresql\r\nquarkus.datasource.reactive.url=postgresql://ipaddress:5432/dbname?sslmode=verify-ca\r\nquarkus.datasource.password=password\r\nquarkus.datasource.username=username\r\nquarkus.datasource.reactive.postgresql.ssl-mode=require\r\nquarkus.datasource.reactive.trust-certificate-pem=true\r\nquarkus.datasource.reactive.trust-certificate-pem.certs=certificates/cacertificate.pem,certificates/client.pem\r\nquarkus.datasource.reactive.key-certificate-pem=true\r\nquarkus.datasource.reactive.key-certificate-pem.keys=certificates/private_key.pem\r\nquarkus.datasource.reactive.trust-all=true\r\n```\r\n\r\nHowever, I got the following error:\r\n```\r\nio.vertx.core.VertxException: io.vertx.core.VertxException: Missing X.509 certificate\r\n        at io.vertx.core.net.impl.SSLHelper.createContext(SSLHelper.java:336)\r\n        at io.vertx.core.net.impl.SSLHelper.getContext(SSLHelper.java:511)\r\n        at io.vertx.core.net.impl.SSLHelper.createEngine(SSLHelper.java:547)\r\n        at io.vertx.core.net.impl.NetSocketImpl.upgradeToSsl(NetSocketImpl.java:307)\r\n        at io.vertx.core.net.impl.NetSocketImpl.upgradeToSsl(NetSocketImpl.java:291)\r\n        at io.vertx.pgclient.impl.InitiateSslHandler.channelRead(InitiateSslHandler.java:73)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n        at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:792)\r\n        at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:475)\r\n        at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.lang.Thread.run(Thread.java:750)\r\nCaused by: io.vertx.core.VertxException: Missing X.509 certificate\r\n        at io.vertx.core.net.impl.KeyStoreHelper.loadKeyCert(KeyStoreHelper.java:231)\r\n        at io.vertx.core.net.PemKeyCertOptions.getHelper(PemKeyCertOptions.java:447)\r\n        at io.vertx.core.net.PemKeyCertOptions.getKeyManagerFactory(PemKeyCertOptions.java:465)\r\n        at io.vertx.core.net.impl.SSLHelper.getKeyMgrFactory(SSLHelper.java:341)\r\n        at io.vertx.core.net.impl.SSLHelper.createContext(SSLHelper.java:286)\r\n```\r\n\r\nDid I make any mistake? What is the proper way to connect to database using SSL in Quarkus?\r\n\r\nI couldn&#39;t find any example in the Quarkus homepage.\r\n\r\nI have made sure the certificate and key files (pem format) available in the specified directory. I am not sure how to tell my Quarkus app which the cacertificate and client certificate to be used since the config name is pretty general. I expected the db is connected by only setting up that config and no further code should be added since the connection is handled by Quarkus.","title":"How to Connect to PostgreSQL with SSL in Quarkus","body":"<p>I have an application based on quarkus. It needs to connect to database using SSL. I have specified the config as follows:</p>\n<pre><code>quarkus.datasource.db-kind=postgresql\nquarkus.datasource.reactive.url=postgresql://ipaddress:5432/dbname?sslmode=verify-ca\nquarkus.datasource.password=password\nquarkus.datasource.username=username\nquarkus.datasource.reactive.postgresql.ssl-mode=require\nquarkus.datasource.reactive.trust-certificate-pem=true\nquarkus.datasource.reactive.trust-certificate-pem.certs=certificates/cacertificate.pem,certificates/client.pem\nquarkus.datasource.reactive.key-certificate-pem=true\nquarkus.datasource.reactive.key-certificate-pem.keys=certificates/private_key.pem\nquarkus.datasource.reactive.trust-all=true\n</code></pre>\n<p>However, I got the following error:</p>\n<pre><code>io.vertx.core.VertxException: io.vertx.core.VertxException: Missing X.509 certificate\n        at io.vertx.core.net.impl.SSLHelper.createContext(SSLHelper.java:336)\n        at io.vertx.core.net.impl.SSLHelper.getContext(SSLHelper.java:511)\n        at io.vertx.core.net.impl.SSLHelper.createEngine(SSLHelper.java:547)\n        at io.vertx.core.net.impl.NetSocketImpl.upgradeToSsl(NetSocketImpl.java:307)\n        at io.vertx.core.net.impl.NetSocketImpl.upgradeToSsl(NetSocketImpl.java:291)\n        at io.vertx.pgclient.impl.InitiateSslHandler.channelRead(InitiateSslHandler.java:73)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n        at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:792)\n        at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:475)\n        at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.lang.Thread.run(Thread.java:750)\nCaused by: io.vertx.core.VertxException: Missing X.509 certificate\n        at io.vertx.core.net.impl.KeyStoreHelper.loadKeyCert(KeyStoreHelper.java:231)\n        at io.vertx.core.net.PemKeyCertOptions.getHelper(PemKeyCertOptions.java:447)\n        at io.vertx.core.net.PemKeyCertOptions.getKeyManagerFactory(PemKeyCertOptions.java:465)\n        at io.vertx.core.net.impl.SSLHelper.getKeyMgrFactory(SSLHelper.java:341)\n        at io.vertx.core.net.impl.SSLHelper.createContext(SSLHelper.java:286)\n</code></pre>\n<p>Did I make any mistake? What is the proper way to connect to database using SSL in Quarkus?</p>\n<p>I couldn't find any example in the Quarkus homepage.</p>\n<p>I have made sure the certificate and key files (pem format) available in the specified directory. I am not sure how to tell my Quarkus app which the cacertificate and client certificate to be used since the config name is pretty general. I expected the db is connected by only setting up that config and no further code should be added since the connection is handled by Quarkus.</p>\n"},{"tags":["java","android","in-app-purchase","in-app-billing"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1688964251,"post_id":76650565,"comment_id":135140126,"body_markdown":"`I have attempted to implement these features, but I&#39;m encountering errors`, show us what you attempted &amp; what are the exact errors, stacktrace if there were crashes.","body":"<code>I have attempted to implement these features, but I&#39;m encountering errors</code>, show us what you attempted &amp; what are the exact errors, stacktrace if there were crashes."}],"owner":{"account_id":28983911,"reputation":1,"user_id":22201133,"display_name":"AmitVerma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688961274,"creation_date":1688960607,"question_id":76650565,"body_markdown":"I&#39;m working on an Android project written in Java, and I&#39;m trying to integrate Google Play Billing. I want to achieve the following features:\r\n\r\n1. Load product IDs from a Room database: On the splash screen, I want to download the product IDs and store them in a Room database. How can I accomplish this?\r\n\r\n2. Implement four subscription types: I need to offer four subscription options to users:\r\n\r\n    - Monthly subscription\r\n    - Quarterly subscription\r\n    - Yearly subscription\r\n    - One-time purchase (non-consumable)\r\n\r\n3. Enable changing subscriptions: After a purchase, I want to give the user the option to change their subscription. If the user clicks on this button, I should show them the subscription list again.\r\n\r\n    However, if the user clicks on an item they have already purchased, I should display a message indicating that the item has already been purchased. If the user tries to buy a subscription they haven&#39;t purchased before, it should be bought and start after the current plan ends. How can I implement this behavior?\r\n\r\nI have attempted to implement these features, but I&#39;m encountering errors. Could you please provide guidance and code examples on how to accomplish these tasks correctly? Thank you.\r\n\r\nI have been attempting to integrate Google Play Billing into my Android project using a specific library. However, I am encountering a problem where the isAcknowledged property always returns false, even after I perform the acknowledgment process correctly.\r\n\r\nAdditionally, I am unsure about how to utilize this library to implement a subscription change feature. Could you please provide guidance on both resolving the isAcknowledged issue and implementing the subscription change functionality? Any code examples or explanations would be greatly appreciated. Thank you.","title":"Google Play Billing integration in Android project with Java - Room Database for Product IDs and Subscription Management","body":"<p>I'm working on an Android project written in Java, and I'm trying to integrate Google Play Billing. I want to achieve the following features:</p>\n<ol>\n<li><p>Load product IDs from a Room database: On the splash screen, I want to download the product IDs and store them in a Room database. How can I accomplish this?</p>\n</li>\n<li><p>Implement four subscription types: I need to offer four subscription options to users:</p>\n<ul>\n<li>Monthly subscription</li>\n<li>Quarterly subscription</li>\n<li>Yearly subscription</li>\n<li>One-time purchase (non-consumable)</li>\n</ul>\n</li>\n<li><p>Enable changing subscriptions: After a purchase, I want to give the user the option to change their subscription. If the user clicks on this button, I should show them the subscription list again.</p>\n<p>However, if the user clicks on an item they have already purchased, I should display a message indicating that the item has already been purchased. If the user tries to buy a subscription they haven't purchased before, it should be bought and start after the current plan ends. How can I implement this behavior?</p>\n</li>\n</ol>\n<p>I have attempted to implement these features, but I'm encountering errors. Could you please provide guidance and code examples on how to accomplish these tasks correctly? Thank you.</p>\n<p>I have been attempting to integrate Google Play Billing into my Android project using a specific library. However, I am encountering a problem where the isAcknowledged property always returns false, even after I perform the acknowledgment process correctly.</p>\n<p>Additionally, I am unsure about how to utilize this library to implement a subscription change feature. Could you please provide guidance on both resolving the isAcknowledged issue and implementing the subscription change functionality? Any code examples or explanations would be greatly appreciated. Thank you.</p>\n"},{"tags":["java","firebase-realtime-database","textview","key","spinner"],"comments":[{"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"score":0,"creation_date":1688929656,"post_id":76649087,"comment_id":135137219,"body_markdown":"On Stack Overflow, please [don&#39;t show pictures of text and code](https://overflow.tips/write-good-question/formatting-text-code#dont-use-screenshots-of-text). Copy the text into the question itself and format it so that it&#39;s easy to read, copy, and search.  You can edit the question to correct this using the edit link at the bottom.","body":"On Stack Overflow, please <a href=\"https://overflow.tips/write-good-question/formatting-text-code#dont-use-screenshots-of-text\" rel=\"nofollow noreferrer\">don&#39;t show pictures of text and code</a>. Copy the text into the question itself and format it so that it&#39;s easy to read, copy, and search.  You can edit the question to correct this using the edit link at the bottom."}],"answers":[{"tags":[],"owner":{"account_id":27935158,"reputation":90,"user_id":21332328,"display_name":"RmTomal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688932710,"creation_date":1688932710,"answer_id":76649272,"question_id":76649087,"body_markdown":"I don’t understand your question properly. If you provide the a json of your database that will be helpful for give the answer.\r\n\r\nBut you can get key of a value like this:\r\n```\r\npublic void fetchDataForSpinner() {\r\n        spinnerReference = FirebaseDatabase.getInstance().getReference(&quot;Courses&quot;);\r\n        spinnerReference.child(faculty).child(semester).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if(snapshot.exists()) {\r\n                    for (DataSnapshot item : snapshot.getChildren()) {\r\n                        spinnerCourseList.add(item.getValue().toString());\r\n                       String courseCodeFromKey = item.getKey();\r\n//                        editTextForCourseCode.setText(courseCodeFromKey);\r\n\r\n                    }\r\n                    adapterCourse.notifyDataSetChanged();\r\n                }\r\n                    else{\r\n                        Toast.makeText(AddGradesMain.this, &quot;Course Not Added!&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Toast.makeText(AddGradesMain.this, &quot;Course not added to the database!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }","title":"How to Retrive Firebase key value based on spinner selection","body":"<p>I don’t understand your question properly. If you provide the a json of your database that will be helpful for give the answer.</p>\n<p>But you can get key of a value like this:</p>\n<pre><code>public void fetchDataForSpinner() {\n        spinnerReference = FirebaseDatabase.getInstance().getReference(&quot;Courses&quot;);\n        spinnerReference.child(faculty).child(semester).addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                if(snapshot.exists()) {\n                    for (DataSnapshot item : snapshot.getChildren()) {\n                        spinnerCourseList.add(item.getValue().toString());\n                       String courseCodeFromKey = item.getKey();\n//                        editTextForCourseCode.setText(courseCodeFromKey);\n\n                    }\n                    adapterCourse.notifyDataSetChanged();\n                }\n                    else{\n                        Toast.makeText(AddGradesMain.this, &quot;Course Not Added!&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                Toast.makeText(AddGradesMain.this, &quot;Course not added to the database!&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n</code></pre>\n"}],"owner":{"account_id":28982103,"reputation":3,"user_id":22199762,"display_name":"Thadhasneem Nooriya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76649272,"answer_count":1,"score":0,"last_activity_date":1688961092,"creation_date":1688929623,"question_id":76649087,"body_markdown":"I have a set of course details stored in the firebase Realtime Database. I have retrieved the course names into a spinner for user selection of a particular course. I wanted to get the key (course code) of that particular course to a TextView (in android java) when user select a course from the spinner from firebase database.\r\n\r\nI have used the fetchDataForSpinner() method to retrieve the course name to the spinner. But I got confused on how to retrieve the course code to the TextView based on user selection.\r\n\r\n\r\nI tried to get the key with get key but only the last course key was retrieved.\r\n\r\nFirebase Data\r\n\r\n[![enter image description here][1]][1]\r\n    \r\n      /*Firebase Data\r\n       Courses\r\n            Faculty of IT\r\n              Year 01 Semester 01\r\n                BMG11073:Entrepreneurship &amp;Growing Business\r\n                IT11013:&quot;IT &amp; Computing Fundamentals&quot;\r\n                IT11023:&quot;Programming Fundamentals&quot;\r\n                IT11033:&quot;Statistics&quot;\r\n                IT11041:&quot;Psychology&quot;\r\n                IT11052:&quot;Leadership and Communication Skills&quot;*/\r\n\r\n\r\n    public void fetchDataForSpinner() {\r\n            spinnerReference = FirebaseDatabase.getInstance().getReference(&quot;Courses&quot;);\r\n            spinnerReference.child(faculty).child(semester).addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    if(snapshot.exists()) {\r\n                        for (DataSnapshot item : snapshot.getChildren()) {\r\n                            spinnerCourseList.add(item.getValue().toString());\r\n    //                        String courseCodeFromKey = snapshot.getKey();\r\n    //                        editTextForCourseCode.setText(courseCodeFromKey);\r\n    \r\n                        }\r\n                        adapterCourse.notifyDataSetChanged();\r\n                    }\r\n                        else{\r\n                            Toast.makeText(AddGradesMain.this, &quot;Course Not Added!&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n    \r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n                    Toast.makeText(AddGradesMain.this, &quot;Course not added to the database!&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rJLmh.png","title":"How to Retrive Firebase key value based on spinner selection","body":"<p>I have a set of course details stored in the firebase Realtime Database. I have retrieved the course names into a spinner for user selection of a particular course. I wanted to get the key (course code) of that particular course to a TextView (in android java) when user select a course from the spinner from firebase database.</p>\n<p>I have used the fetchDataForSpinner() method to retrieve the course name to the spinner. But I got confused on how to retrieve the course code to the TextView based on user selection.</p>\n<p>I tried to get the key with get key but only the last course key was retrieved.</p>\n<p>Firebase Data</p>\n<p><a href=\"https://i.stack.imgur.com/rJLmh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rJLmh.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>  /*Firebase Data\n   Courses\n        Faculty of IT\n          Year 01 Semester 01\n            BMG11073:Entrepreneurship &amp;Growing Business\n            IT11013:&quot;IT &amp; Computing Fundamentals&quot;\n            IT11023:&quot;Programming Fundamentals&quot;\n            IT11033:&quot;Statistics&quot;\n            IT11041:&quot;Psychology&quot;\n            IT11052:&quot;Leadership and Communication Skills&quot;*/\n\n\npublic void fetchDataForSpinner() {\n        spinnerReference = FirebaseDatabase.getInstance().getReference(&quot;Courses&quot;);\n        spinnerReference.child(faculty).child(semester).addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                if(snapshot.exists()) {\n                    for (DataSnapshot item : snapshot.getChildren()) {\n                        spinnerCourseList.add(item.getValue().toString());\n//                        String courseCodeFromKey = snapshot.getKey();\n//                        editTextForCourseCode.setText(courseCodeFromKey);\n\n                    }\n                    adapterCourse.notifyDataSetChanged();\n                }\n                    else{\n                        Toast.makeText(AddGradesMain.this, &quot;Course Not Added!&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                Toast.makeText(AddGradesMain.this, &quot;Course not added to the database!&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n</code></pre>\n"},{"tags":["java","intellij-idea","pycharm","ide"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1651090324,"post_id":72034575,"comment_id":127282773,"body_markdown":"Please see https://youtrack.jetbrains.com/issue/IDEA-238995 for the workaround.","body":"Please see <a href=\"https://youtrack.jetbrains.com/issue/IDEA-238995\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-238995</a> for the workaround."}],"answers":[{"tags":[],"owner":{"account_id":20542328,"reputation":147,"user_id":15076994,"display_name":"Chanuka"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1658297802,"creation_date":1658297802,"answer_id":73046759,"question_id":72034575,"body_markdown":"A restart of Windows NAT worked for me. \r\nOpen Windows PowerShell in Administration mode, &amp; type these commands:\r\n\r\n    net stop winnat \r\n    net start winnat","title":"IntelliJ IDEA and Pycharm are not starting","body":"<p>A restart of Windows NAT worked for me.\nOpen Windows PowerShell in Administration mode, &amp; type these commands:</p>\n<pre><code>net stop winnat \nnet start winnat\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18475755,"reputation":11,"user_id":19823890,"display_name":"Abhijot Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688960787,"creation_date":1688960787,"answer_id":76650577,"question_id":72034575,"body_markdown":"The issues could be that the port the IntelliJ use could be in use. Although, IntelliJ has a range of ports to select from. But for some reason it did not check next ports. \r\nBy running winnat commands the port may gets free for Intellij to use.","title":"IntelliJ IDEA and Pycharm are not starting","body":"<p>The issues could be that the port the IntelliJ use could be in use. Although, IntelliJ has a range of ports to select from. But for some reason it did not check next ports.\nBy running winnat commands the port may gets free for Intellij to use.</p>\n"}],"owner":{"account_id":15990313,"reputation":19,"user_id":13443276,"display_name":"Bishwanath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1344,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688960787,"creation_date":1651089312,"question_id":72034575,"body_markdown":"I am using latest version of IntelliJ and Pycharm community edition. When I am trying to run these software, I get same error (Start Failed) message for both IDE:  \r\n```\r\nInternal error. Please refer to https://jb.gg/ide/critical-startup-errors\r\n\r\ncom.intellij.ide.plugins.StartupAbortedException: Cannot start app\r\n    at com.intellij.idea.StartupUtil.lambda$start$15(StartupUtil.java:263)\r\n    at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)\r\n    at java.base/java.util.concurrent.CompletableFuture.uniExceptionallyStage(CompletableFuture.java:1004)\r\n    at java.base/java.util.concurrent.CompletableFuture.exceptionally(CompletableFuture.java:2307)\r\n    at com.intellij.idea.StartupUtil.start(StartupUtil.java:262)\r\n    at com.intellij.idea.Main.bootstrap(Main.java:118)\r\n    at com.intellij.idea.Main.main(Main.java:79)\r\nCaused by: java.net.BindException: Address already in use: bind\r\n    at java.base/sun.nio.ch.Net.bind0(Native Method)\r\n    at java.base/sun.nio.ch.Net.bind(Net.java:459)\r\n    at java.base/sun.nio.ch.Net.bind(Net.java:448)\r\n    at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:227)\r\n    at io.netty.channel.socket.nio.NioServerSocketChannel.doBind(NioServerSocketChannel.java:134)\r\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.bind(AbstractChannel.java:562)\r\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.bind(DefaultChannelPipeline.java:1334)\r\n    at io.netty.channel.AbstractChannelHandlerContext.invokeBind(AbstractChannelHandlerContext.java:506)\r\n    at io.netty.channel.AbstractChannelHandlerContext.bind(AbstractChannelHandlerContext.java:491)\r\n    at io.netty.channel.DefaultChannelPipeline.bind(DefaultChannelPipeline.java:973)\r\n    at io.netty.channel.AbstractChannel.bind(AbstractChannel.java:260)\r\n    at io.netty.bootstrap.AbstractBootstrap$2.run(AbstractBootstrap.java:356)\r\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\r\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:469)\r\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:503)\r\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\r\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    at java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\n-----\r\nYour JRE: 11.0.14.1+1-b2043.25 amd64 (JetBrains s.r.o.)\r\nC:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.1\\jbr\r\n```\r\nFor Pycharm:\r\n```\r\nYour JRE: 11.0.14.1+1-b2043.25 amd64 (JetBrains s.r.o.)\r\nC:\\Program Files\\JetBrains\\PyCharm Community Edition 2022.1\\jbr\r\n```\r\nI am using Java 8 only. There is not Java 11 installed. OS is windows 10. ","title":"IntelliJ IDEA and Pycharm are not starting","body":"<p>I am using latest version of IntelliJ and Pycharm community edition. When I am trying to run these software, I get same error (Start Failed) message for both IDE:</p>\n<pre><code>Internal error. Please refer to https://jb.gg/ide/critical-startup-errors\n\ncom.intellij.ide.plugins.StartupAbortedException: Cannot start app\n    at com.intellij.idea.StartupUtil.lambda$start$15(StartupUtil.java:263)\n    at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)\n    at java.base/java.util.concurrent.CompletableFuture.uniExceptionallyStage(CompletableFuture.java:1004)\n    at java.base/java.util.concurrent.CompletableFuture.exceptionally(CompletableFuture.java:2307)\n    at com.intellij.idea.StartupUtil.start(StartupUtil.java:262)\n    at com.intellij.idea.Main.bootstrap(Main.java:118)\n    at com.intellij.idea.Main.main(Main.java:79)\nCaused by: java.net.BindException: Address already in use: bind\n    at java.base/sun.nio.ch.Net.bind0(Native Method)\n    at java.base/sun.nio.ch.Net.bind(Net.java:459)\n    at java.base/sun.nio.ch.Net.bind(Net.java:448)\n    at java.base/sun.nio.ch.ServerSocketChannelImpl.bind(ServerSocketChannelImpl.java:227)\n    at io.netty.channel.socket.nio.NioServerSocketChannel.doBind(NioServerSocketChannel.java:134)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.bind(AbstractChannel.java:562)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.bind(DefaultChannelPipeline.java:1334)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeBind(AbstractChannelHandlerContext.java:506)\n    at io.netty.channel.AbstractChannelHandlerContext.bind(AbstractChannelHandlerContext.java:491)\n    at io.netty.channel.DefaultChannelPipeline.bind(DefaultChannelPipeline.java:973)\n    at io.netty.channel.AbstractChannel.bind(AbstractChannel.java:260)\n    at io.netty.bootstrap.AbstractBootstrap$2.run(AbstractBootstrap.java:356)\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:469)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:503)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n\n-----\nYour JRE: 11.0.14.1+1-b2043.25 amd64 (JetBrains s.r.o.)\nC:\\Program Files\\JetBrains\\IntelliJ IDEA Community Edition 2022.1\\jbr\n</code></pre>\n<p>For Pycharm:</p>\n<pre><code>Your JRE: 11.0.14.1+1-b2043.25 amd64 (JetBrains s.r.o.)\nC:\\Program Files\\JetBrains\\PyCharm Community Edition 2022.1\\jbr\n</code></pre>\n<p>I am using Java 8 only. There is not Java 11 installed. OS is windows 10.</p>\n"},{"tags":["java","spring-boot","ftp","tls1.2","apache-commons-net"],"owner":{"account_id":28983596,"reputation":1,"user_id":22200873,"display_name":"LI JIANMIN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690259760,"answer_count":0,"score":0,"last_activity_date":1688955249,"creation_date":1688954927,"question_id":76650305,"body_markdown":"I&#39;m trying to connect to a FTPS Server using commons-net lib FTPSClient in a SpringBoot Application. \r\nI&#39;m able to connect, login and change the directory using FTPSClient from commons-net lib. But as soon as I&#39;m trying to list the file, it says &quot;**425 Unable to build data connection: TLS session of data connection not resumed.**&quot;\r\nFrom what I know, the FTP Server were recently updated to only accept TLS Version 1.2 and above. I also tried to set the TLS Version, override &quot;_prepareDataSocket_&quot; method in FTPSClient, etc. But the same error &quot;**425 Unable to build data connection: TLS session of data connection not resumed.**&quot; still throws.\r\nAnd I can list the files if I use the FileZilla application to access the FTPS Server, but not my Java code with commons-net library. I&#39;m not sure why it happened.\r\n\r\nThe following is are code for connecting, login, and trying to list the files from FTPS Server.\r\n\r\n\r\n    System.setProperty(&quot;jdk.tls.client.protocols&quot;, &quot;TLSv1.2,TLSv1.3&quot;);\r\n    FTPSClient ftp = new FTPSClient();\r\n    \r\n    //Socket Opening Timeout&#207;\r\n    ftp.setDefaultTimeout(time10mins);\r\n    //Data Reading Timeout\r\n    ftp.setDataTimeout(time30mins);\r\n    //Connection Timeout\r\n    ftp.setConnectTimeout(time10mins);\r\n    \r\n    String[] tlsVersions = {&quot;TLSv1.2&quot;, &quot;TLSv1.3&quot;};\r\n    ftp.setEnabledProtocols(tlsVersions);\r\n    ftp.addProtocolCommandListener(new PrintCommandListener(new PrintWriter(System.out), true));\r\n    ftp.connect(ftpProperties.getFtpHost(), ftpProperties.getFtpPort());\r\n    ftp.enterLocalPassiveMode();\r\n    int reply = ftp.getReplyCode();\r\n    if (!FTPReply.isPositiveCompletion(reply)) {\r\n      ftp.disconnect();\r\n      throw new IOException(&quot;Exception in connecting to FTP Server&quot;);\r\n    }\r\n    //Socket Timeout after opening connection\r\n    ftp.setSoTimeout(time30mins);\r\n    ftp.login(ftpProperties.getFtpUsername(), ftpProperties.getFtpPassword());\r\n    \r\n    ftp.execPROT(&quot;P&quot;);\r\n    ftp.execPBSZ(0);\r\n    ftp.type(FTP.BINARY_FILE_TYPE);\r\n    \r\n    LOGGER.info(&quot;Connected to FTP location&quot;);\r\n    \r\n    FileOutputStream fos;\r\n    LOGGER.info(&quot;Downloading files for &quot; + today);\r\n    \r\n    //Download Category Mapping files\r\n    ftp.changeWorkingDirectory(ftpProperties.getFtpDirectory());\r\n    FTPFile[] files = ftp.listFiles();\r\n    LOGGER.info(&quot;files length: &quot; + files.length);\r\n\r\n\r\n\r\nAnd the following are the logs that I can see:\r\n\r\n\r\n    `250 CWD command successful\r\n    \r\n    SYST\r\n    \r\n    215 UNIX emulated by FileZilla.\r\n    \r\n    PASV\r\n    \r\n    227 Entering Passive Mode\r\n    \r\n    LIST\r\n    \r\n    150 Starting data transfer.\r\n    \r\n    425 Unable to build data connection: TLS session of data connection not resumed.`\r\n\r\n\r\nAs we can see, we can connection, login, and change the directory but LIST files failed. And I can even see &quot;**150 Starting data transfer**&quot; but still I get &quot;**TLS session of data connection not resumed.**&quot; error.\r\nI also couldn&#39;t figure out why I can list the files if I use the FileZilla desktop to access the FTPS Server, but not the Java code.\r\nThank you for your help!","title":"FTP LIST file error: 425 Unable to build data connection: TLS session of data connection not resumed","body":"<p>I'm trying to connect to a FTPS Server using commons-net lib FTPSClient in a SpringBoot Application.\nI'm able to connect, login and change the directory using FTPSClient from commons-net lib. But as soon as I'm trying to list the file, it says &quot;<strong>425 Unable to build data connection: TLS session of data connection not resumed.</strong>&quot;\nFrom what I know, the FTP Server were recently updated to only accept TLS Version 1.2 and above. I also tried to set the TLS Version, override &quot;<em>prepareDataSocket</em>&quot; method in FTPSClient, etc. But the same error &quot;<strong>425 Unable to build data connection: TLS session of data connection not resumed.</strong>&quot; still throws.\nAnd I can list the files if I use the FileZilla application to access the FTPS Server, but not my Java code with commons-net library. I'm not sure why it happened.</p>\n<p>The following is are code for connecting, login, and trying to list the files from FTPS Server.</p>\n<pre><code>System.setProperty(&quot;jdk.tls.client.protocols&quot;, &quot;TLSv1.2,TLSv1.3&quot;);\nFTPSClient ftp = new FTPSClient();\n\n//Socket Opening TimeoutÏ\nftp.setDefaultTimeout(time10mins);\n//Data Reading Timeout\nftp.setDataTimeout(time30mins);\n//Connection Timeout\nftp.setConnectTimeout(time10mins);\n\nString[] tlsVersions = {&quot;TLSv1.2&quot;, &quot;TLSv1.3&quot;};\nftp.setEnabledProtocols(tlsVersions);\nftp.addProtocolCommandListener(new PrintCommandListener(new PrintWriter(System.out), true));\nftp.connect(ftpProperties.getFtpHost(), ftpProperties.getFtpPort());\nftp.enterLocalPassiveMode();\nint reply = ftp.getReplyCode();\nif (!FTPReply.isPositiveCompletion(reply)) {\n  ftp.disconnect();\n  throw new IOException(&quot;Exception in connecting to FTP Server&quot;);\n}\n//Socket Timeout after opening connection\nftp.setSoTimeout(time30mins);\nftp.login(ftpProperties.getFtpUsername(), ftpProperties.getFtpPassword());\n\nftp.execPROT(&quot;P&quot;);\nftp.execPBSZ(0);\nftp.type(FTP.BINARY_FILE_TYPE);\n\nLOGGER.info(&quot;Connected to FTP location&quot;);\n\nFileOutputStream fos;\nLOGGER.info(&quot;Downloading files for &quot; + today);\n\n//Download Category Mapping files\nftp.changeWorkingDirectory(ftpProperties.getFtpDirectory());\nFTPFile[] files = ftp.listFiles();\nLOGGER.info(&quot;files length: &quot; + files.length);\n</code></pre>\n<p>And the following are the logs that I can see:</p>\n<pre><code>`250 CWD command successful\n\nSYST\n\n215 UNIX emulated by FileZilla.\n\nPASV\n\n227 Entering Passive Mode\n\nLIST\n\n150 Starting data transfer.\n\n425 Unable to build data connection: TLS session of data connection not resumed.`\n</code></pre>\n<p>As we can see, we can connection, login, and change the directory but LIST files failed. And I can even see &quot;<strong>150 Starting data transfer</strong>&quot; but still I get &quot;<strong>TLS session of data connection not resumed.</strong>&quot; error.\nI also couldn't figure out why I can list the files if I use the FileZilla desktop to access the FTPS Server, but not the Java code.\nThank you for your help!</p>\n"},{"tags":["java","swing","jframe","swingworker"],"answers":[{"tags":[],"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1608819259,"creation_date":1605597737,"answer_id":64870859,"question_id":64866860,"body_markdown":"You did actually add the label, but you made your `JFrame` window visible via `window.setVisible(true)` before adding all the components. Therefore the frame was rendered without the label. So what you should do is the following:\r\n\r\n- Call `setVisible(true)` on the `JFrame` after all components were added. Best thing to do is to make it the last call when building your GUI components.\r\n- There is no need to call `setVisible(true)` on the `JLabel`. As the label is then part of the frame, it will be rendered automatically.\r\n- Please don&#39;t use `null` layout. Swing was designed to be used with [Layout Managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html). So using fixed sizes is not the way to go with swing.\r\n- You may read through the [Oracle Java Swing Tutorial](https://docs.oracle.com/javase/tutorial/uiswing/index.html) for getting to know everything. You will also find many working examples there along the way.\r\n\r\nAfter fixing your snippet, it would look like this:\r\n\r\n    public class Game{\r\n        public static void main(String[] args){\r\n            JFrame window = new JFrame(&quot;Game&quot;);\r\n            window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            window.getContentPane().setBackground(Color.WHITE);\r\n            JLabel label = new JLabel(&quot;Hello World&quot;);\r\n            window.add(label);\r\n            label.setText(&quot;Hello World&quot;);\r\n            // this will cause the window to be sized \r\n            // according to the preferred size of its components inside\r\n            window.pack(); \r\n            window.setVisible(true);\r\n        }\r\n    }\r\n\r\n","title":"Why won&#39;t a label show up in a JFrame GUI?","body":"<p>You did actually add the label, but you made your <code>JFrame</code> window visible via <code>window.setVisible(true)</code> before adding all the components. Therefore the frame was rendered without the label. So what you should do is the following:</p>\n<ul>\n<li>Call <code>setVisible(true)</code> on the <code>JFrame</code> after all components were added. Best thing to do is to make it the last call when building your GUI components.</li>\n<li>There is no need to call <code>setVisible(true)</code> on the <code>JLabel</code>. As the label is then part of the frame, it will be rendered automatically.</li>\n<li>Please don't use <code>null</code> layout. Swing was designed to be used with <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Layout Managers</a>. So using fixed sizes is not the way to go with swing.</li>\n<li>You may read through the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Oracle Java Swing Tutorial</a> for getting to know everything. You will also find many working examples there along the way.</li>\n</ul>\n<p>After fixing your snippet, it would look like this:</p>\n<pre><code>public class Game{\n    public static void main(String[] args){\n        JFrame window = new JFrame(&quot;Game&quot;);\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        window.getContentPane().setBackground(Color.WHITE);\n        JLabel label = new JLabel(&quot;Hello World&quot;);\n        window.add(label);\n        label.setText(&quot;Hello World&quot;);\n        // this will cause the window to be sized \n        // according to the preferred size of its components inside\n        window.pack(); \n        window.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10353015,"reputation":167,"user_id":7635893,"accept_rate":60,"display_name":"Alpha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688954220,"creation_date":1688954220,"answer_id":76650273,"question_id":64866860,"body_markdown":"You are setting a `visible property` at earlier than creating a `label`. Sequence of initiating object is in inconsistent. It should be like this.\r\n\r\n    Frame window = new JFrame(&quot;Game&quot;);\r\n    window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    window.setSize(800,600);\r\n    ---\r\n    ---\r\n    ---\r\n    JLabel label = new JLabel(&quot;Hello World&quot;);\r\n    ---\r\n    --\r\n     window.setVisible(true);\r\n\r\n","title":"Why won&#39;t a label show up in a JFrame GUI?","body":"<p>You are setting a <code>visible property</code> at earlier than creating a <code>label</code>. Sequence of initiating object is in inconsistent. It should be like this.</p>\n<pre><code>Frame window = new JFrame(&quot;Game&quot;);\nwindow.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\nwindow.setSize(800,600);\n---\n---\n---\nJLabel label = new JLabel(&quot;Hello World&quot;);\n---\n--\n window.setVisible(true);\n</code></pre>\n"}],"owner":{"account_id":19989881,"reputation":1,"user_id":14651161,"display_name":"Mister_Builder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":517,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688954220,"creation_date":1605567035,"question_id":64866860,"body_markdown":"I&#39;m getting started in JFrame, but I&#39;ve followed the tutorial I&#39;m using almost to the letter. I can change the dimensions and background color of the window, but I can&#39;t add a label or anything.\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    \r\n    public class Game{\r\n        public static void main(String[] args){\r\n            JFrame window = new JFrame(&quot;Game&quot;);\r\n            window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            window.setSize(800,600);\r\n            window.getContentPane().setBackground(Color.WHITE);\r\n            window.setLayout(null);\r\n            window.setVisible(true);\r\n            JLabel label = new JLabel(&quot;Hello World&quot;);\r\n            window.add(label);\r\n            label.setVisible(true);\r\n            label.setText(&quot;Hello World&quot;);\r\n        }\r\n    }","title":"Why won&#39;t a label show up in a JFrame GUI?","body":"<p>I'm getting started in JFrame, but I've followed the tutorial I'm using almost to the letter. I can change the dimensions and background color of the window, but I can't add a label or anything.</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class Game{\n    public static void main(String[] args){\n        JFrame window = new JFrame(&quot;Game&quot;);\n        window.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        window.setSize(800,600);\n        window.getContentPane().setBackground(Color.WHITE);\n        window.setLayout(null);\n        window.setVisible(true);\n        JLabel label = new JLabel(&quot;Hello World&quot;);\n        window.add(label);\n        label.setVisible(true);\n        label.setText(&quot;Hello World&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","dependencies","pom.xml","libraries","lwjgl"],"comments":[{"owner":{"account_id":28983397,"reputation":1,"user_id":22200716,"display_name":"TheCreeperDev02"},"score":0,"creation_date":1688992897,"post_id":76650116,"comment_id":135145567,"body_markdown":"yeah, i resolve the problem, i dont know what i do but it works, i was go to the options of the proyect and i think i go to the option of &quot;reload POM&quot; and that put all the dependencies on the protect.\nnow, i have another error!\nin a part of the test code are a error.\nthis say &quot;lambda expessions are not supported in- source 5&quot;","body":"yeah, i resolve the problem, i dont know what i do but it works, i was go to the options of the proyect and i think i go to the option of &quot;reload POM&quot; and that put all the dependencies on the protect. now, i have another error! in a part of the test code are a error. this say &quot;lambda expessions are not supported in- source 5&quot;"},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1689035640,"post_id":76650116,"comment_id":135153263,"body_markdown":"You can specify `&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;` in the `&lt;properties&gt;` section of pom.xml.","body":"You can specify <code>&lt;maven.compiler.source&gt;1.8&lt;&#47;maven.compiler.source&gt;&lt;maven.com&zwnj;&#8203;piler.target&gt;1.8&lt;&#47;ma&zwnj;&#8203;ven.compiler.target&gt;</code> in the <code>&lt;properties&gt;</code> section of pom.xml."}],"owner":{"account_id":28983397,"reputation":1,"user_id":22200716,"display_name":"TheCreeperDev02"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688953903,"creation_date":1688950457,"question_id":76650116,"body_markdown":"[enter image description here][1]\r\nhello there, im new here, i have a problem with lwjgl, i dont have idea how put the libreries of lwjgl 3 (with maven) on the IDE apache netBeans, i put the libreries on the IDE and i have this error and this is the code.\r\nand thank you for your help  c:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n    &lt;artifactId&gt;bacterybattlebeta&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;properties&gt;\r\n       &lt;lwjgl.version&gt;3.3.3-SNAPSHOT&lt;/lwjgl.version&gt;\r\n\t&lt;joml.version&gt;1.10.5&lt;/joml.version&gt;\r\n\t&lt;lwjgl3-awt.version&gt;0.1.8&lt;/lwjgl3-awt.version&gt;\r\n\t&lt;steamworks4j.version&gt;1.9.0&lt;/steamworks4j.version&gt;\r\n\t&lt;steamworks4j-server.version&gt;1.9.0&lt;/steamworks4j-server.version&gt;\r\n\t&lt;lwjgl.natives&gt;natives-windows&lt;/lwjgl.natives&gt;\r\n    &lt;/properties&gt;\r\n    &lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;sonatype-snapshots&lt;/id&gt;\r\n\t\t\t&lt;url&gt;https://oss.sonatype.org/content/repositories/snapshots&lt;/url&gt;\r\n\t\t\t&lt;releases&gt;&lt;enabled&gt;false&lt;/enabled&gt;&lt;/releases&gt;\r\n\t\t\t&lt;snapshots&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/snapshots&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\r\n&lt;dependencyManagement&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lwjgl-bom&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${lwjgl.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n\r\n&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;lwjgl&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;lwjgl-assimp&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;lwjgl-glfw&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;lwjgl-nfd&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;lwjgl-openal&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;lwjgl-opengl&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;lwjgl-stb&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;lwjgl&lt;/artifactId&gt;\r\n\t\t&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;lwjgl-assimp&lt;/artifactId&gt;\r\n\t\t&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;lwjgl-glfw&lt;/artifactId&gt;\r\n\t\t&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;lwjgl-nfd&lt;/artifactId&gt;\r\n\t\t&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;lwjgl-openal&lt;/artifactId&gt;\r\n\t\t&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;lwjgl-opengl&lt;/artifactId&gt;\r\n\t\t&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;lwjgl-stb&lt;/artifactId&gt;\r\n\t\t&lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;\r\n\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.joml&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;joml&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${joml.version}&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.lwjglx&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;lwjgl3-awt&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${lwjgl3-awt.version}&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.code-disaster.steamworks4j&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;steamworks4j&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${steamworks4j.version}&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.code-disaster.steamworks4j&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;steamworks4j-server&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${steamworks4j-server.version}&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nim tried to put the libraries i the IDE and dont work and i dont know what to do\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YcgYA.png","title":"how put lwjgl 3 on the apache netBeans (error with the dependicies)","body":"<p><a href=\"https://i.stack.imgur.com/YcgYA.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nhello there, im new here, i have a problem with lwjgl, i dont have idea how put the libreries of lwjgl 3 (with maven) on the IDE apache netBeans, i put the libreries on the IDE and i have this error and this is the code.\nand thank you for your help  c:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n    &lt;artifactId&gt;bacterybattlebeta&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;properties&gt;\n       &lt;lwjgl.version&gt;3.3.3-SNAPSHOT&lt;/lwjgl.version&gt;\n    &lt;joml.version&gt;1.10.5&lt;/joml.version&gt;\n    &lt;lwjgl3-awt.version&gt;0.1.8&lt;/lwjgl3-awt.version&gt;\n    &lt;steamworks4j.version&gt;1.9.0&lt;/steamworks4j.version&gt;\n    &lt;steamworks4j-server.version&gt;1.9.0&lt;/steamworks4j-server.version&gt;\n    &lt;lwjgl.natives&gt;natives-windows&lt;/lwjgl.natives&gt;\n    &lt;/properties&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;sonatype-snapshots&lt;/id&gt;\n            &lt;url&gt;https://oss.sonatype.org/content/repositories/snapshots&lt;/url&gt;\n            &lt;releases&gt;&lt;enabled&gt;false&lt;/enabled&gt;&lt;/releases&gt;\n            &lt;snapshots&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\n            &lt;artifactId&gt;lwjgl-bom&lt;/artifactId&gt;\n            &lt;version&gt;${lwjgl.version}&lt;/version&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\n        &lt;artifactId&gt;lwjgl&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\n        &lt;artifactId&gt;lwjgl-assimp&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\n        &lt;artifactId&gt;lwjgl-glfw&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\n        &lt;artifactId&gt;lwjgl-nfd&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\n        &lt;artifactId&gt;lwjgl-openal&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\n        &lt;artifactId&gt;lwjgl-opengl&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\n        &lt;artifactId&gt;lwjgl-stb&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\n        &lt;artifactId&gt;lwjgl&lt;/artifactId&gt;\n        &lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\n        &lt;artifactId&gt;lwjgl-assimp&lt;/artifactId&gt;\n        &lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\n        &lt;artifactId&gt;lwjgl-glfw&lt;/artifactId&gt;\n        &lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\n        &lt;artifactId&gt;lwjgl-nfd&lt;/artifactId&gt;\n        &lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\n        &lt;artifactId&gt;lwjgl-openal&lt;/artifactId&gt;\n        &lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\n        &lt;artifactId&gt;lwjgl-opengl&lt;/artifactId&gt;\n        &lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.lwjgl&lt;/groupId&gt;\n        &lt;artifactId&gt;lwjgl-stb&lt;/artifactId&gt;\n        &lt;classifier&gt;${lwjgl.natives}&lt;/classifier&gt;\n    &lt;/dependency&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;org.joml&lt;/groupId&gt;\n        &lt;artifactId&gt;joml&lt;/artifactId&gt;\n        &lt;version&gt;${joml.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;org.lwjglx&lt;/groupId&gt;\n        &lt;artifactId&gt;lwjgl3-awt&lt;/artifactId&gt;\n        &lt;version&gt;${lwjgl3-awt.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;com.code-disaster.steamworks4j&lt;/groupId&gt;\n        &lt;artifactId&gt;steamworks4j&lt;/artifactId&gt;\n        &lt;version&gt;${steamworks4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;com.code-disaster.steamworks4j&lt;/groupId&gt;\n        &lt;artifactId&gt;steamworks4j-server&lt;/artifactId&gt;\n        &lt;version&gt;${steamworks4j-server.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>im tried to put the libraries i the IDE and dont work and i dont know what to do</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1688931053,"post_id":76649113,"comment_id":135137371,"body_markdown":"Please [edit] your question to provide more information including, but not necessarily limited to, Java version, JavaFX version, Eclipse version, build tool version (if any), operating system name and version, architecture (e.g., x64, aarch64, etc.), and a [mre] (including how exactly you run the program) demonstrating the issue.","body":"Please <a href=\"https://stackoverflow.com/posts/76649113/edit\">edit</a> your question to provide more information including, but not necessarily limited to, Java version, JavaFX version, Eclipse version, build tool version (if any), operating system name and version, architecture (e.g., x64, aarch64, etc.), and a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (including how exactly you run the program) demonstrating the issue."},{"owner":{"account_id":2434272,"reputation":696,"user_id":2124562,"display_name":"tune5ths"},"score":0,"creation_date":1688941703,"post_id":76649113,"comment_id":135138478,"body_markdown":"I don&#39;t see a ButtonPane instantiated anywhere. You might need to add a one to your BorderPane.","body":"I don&#39;t see a ButtonPane instantiated anywhere. You might need to add a one to your BorderPane."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":2,"creation_date":1688942090,"post_id":76649113,"comment_id":135138512,"body_markdown":"It&#39;s not logical to have two classes extend `Application`.","body":"It&#39;s not logical to have two classes extend <code>Application</code>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1688943843,"post_id":76649113,"comment_id":135138632,"body_markdown":"As noted, it doesn&#39;t make sense for a JavaFX application to have more than one `Application` subclass (possibly unless you&#39;re doing something unusually complex). And if `Main` is the class you&#39;re launching, then a blank screen is expected, as you set the root of the scene to a childless `BorderPane`.","body":"As noted, it doesn&#39;t make sense for a JavaFX application to have more than one <code>Application</code> subclass (possibly unless you&#39;re doing something unusually complex). And if <code>Main</code> is the class you&#39;re launching, then a blank screen is expected, as you set the root of the scene to a childless <code>BorderPane</code>."}],"answers":[{"tags":[],"owner":{"account_id":24082549,"reputation":41,"user_id":18057027,"display_name":"Radhouene Berrzig"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688952112,"creation_date":1688952112,"answer_id":76650187,"question_id":76649113,"body_markdown":"you have 2 start methods you should only have one , in that case you should run each file independently to see the output.\r\nmake sure to configure your run configuration to run the application as a JavaFX application.\r\nit&#39;s tiring to hard code everything by hand try using Scenebuilder it will help you gain so much time or write raw fxml still easier, when you create fxml you will you blocks of code like this to display  each file.\r\n```\r\n    try {\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;home.fxml&quot;));\r\n        Scene scene = new Scene(root,Color.BLACK);\r\n        scene.getStylesheets().add(&quot;src/gui/css/style.css&quot;);\r\n        primaryStage.setTitle(&quot;s&#39;inscrire!&quot;);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    } catch (IOException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n```","title":"My javaFX displaying blank output.. what to do?","body":"<p>you have 2 start methods you should only have one , in that case you should run each file independently to see the output.\nmake sure to configure your run configuration to run the application as a JavaFX application.\nit's tiring to hard code everything by hand try using Scenebuilder it will help you gain so much time or write raw fxml still easier, when you create fxml you will you blocks of code like this to display  each file.</p>\n<pre><code>    try {\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;home.fxml&quot;));\n        Scene scene = new Scene(root,Color.BLACK);\n        scene.getStylesheets().add(&quot;src/gui/css/style.css&quot;);\n        primaryStage.setTitle(&quot;s'inscrire!&quot;);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n</code></pre>\n"}],"owner":{"account_id":28982520,"reputation":1,"user_id":22200070,"display_name":"areeqa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688952112,"creation_date":1688929963,"question_id":76649113,"body_markdown":"I am using my JavaFX in eclipse and I am new this . I have setup the JavaFX in the eclipse. at first I can run my desire output. However when I try to rerun it again The output display is blank\r\n\r\nI have check all the things that suppose to do but still no changes and I do not know where is the problem right now. Please do help me . I would appreciate it a lot \r\n\r\n\r\nHere is my code.\r\n\r\nMain.java:\r\n\r\n    package application;\r\n    \t\r\n    import javafx.application.Application;\r\n    import javafx.stage.Stage;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.layout.BorderPane;\r\n    \r\n    \r\n    public class Main extends Application {\r\n    \t@Override\r\n    \tpublic void start(Stage primaryStage) {\r\n    \t\ttry {\r\n    \t\t\tBorderPane root = new BorderPane();\r\n    \t\t\tScene scene = new Scene(root,400,400);\r\n    \t\t\tscene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\r\n    \t\t\tprimaryStage.setScene(scene);\r\n    \t\t\tprimaryStage.show();\r\n    \t\t} catch(Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tlaunch(args);\r\n    \t}\r\n    }\r\n\r\n\r\nButtonPane.java:\r\n\r\n    package application;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class ButtonPane extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            \r\n            HBox horizontalPane = new HBox();\r\n            horizontalPane.setSpacing(10);\r\n            horizontalPane.setPadding(new Insets(20));\r\n    \r\n            \r\n            Button button1 = new Button(&quot;Button 1&quot;);\r\n            Button button2 = new Button(&quot;Button 2&quot;);\r\n            Button button3 = new Button(&quot;Button 3&quot;);\r\n            Button button4 = new Button(&quot;Button 4&quot;);\r\n            Button button5 = new Button(&quot;Button 5&quot;);\r\n            Button button6 = new Button(&quot;Button 6&quot;);\r\n    \r\n            \r\n            horizontalPane.getChildren().addAll(button1, button2, button3, button4, button5, button6);\r\n    \r\n            \r\n            Scene scene = new Scene(horizontalPane);\r\n            primaryStage.setScene(scene);\r\n            primaryStage.setTitle(&quot;Activity1&quot;);\r\n            primaryStage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n[The output][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EUODr.png","title":"My javaFX displaying blank output.. what to do?","body":"<p>I am using my JavaFX in eclipse and I am new this . I have setup the JavaFX in the eclipse. at first I can run my desire output. However when I try to rerun it again The output display is blank</p>\n<p>I have check all the things that suppose to do but still no changes and I do not know where is the problem right now. Please do help me . I would appreciate it a lot</p>\n<p>Here is my code.</p>\n<p>Main.java:</p>\n<pre><code>package application;\n    \nimport javafx.application.Application;\nimport javafx.stage.Stage;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.BorderPane;\n\n\npublic class Main extends Application {\n    @Override\n    public void start(Stage primaryStage) {\n        try {\n            BorderPane root = new BorderPane();\n            Scene scene = new Scene(root,400,400);\n            scene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\n            primaryStage.setScene(scene);\n            primaryStage.show();\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>ButtonPane.java:</p>\n<pre><code>package application;\n\nimport javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.HBox;\nimport javafx.stage.Stage;\n\npublic class ButtonPane extends Application {\n\n    @Override\n    public void start(Stage primaryStage) {\n        \n        HBox horizontalPane = new HBox();\n        horizontalPane.setSpacing(10);\n        horizontalPane.setPadding(new Insets(20));\n\n        \n        Button button1 = new Button(&quot;Button 1&quot;);\n        Button button2 = new Button(&quot;Button 2&quot;);\n        Button button3 = new Button(&quot;Button 3&quot;);\n        Button button4 = new Button(&quot;Button 4&quot;);\n        Button button5 = new Button(&quot;Button 5&quot;);\n        Button button6 = new Button(&quot;Button 6&quot;);\n\n        \n        horizontalPane.getChildren().addAll(button1, button2, button3, button4, button5, button6);\n\n        \n        Scene scene = new Scene(horizontalPane);\n        primaryStage.setScene(scene);\n        primaryStage.setTitle(&quot;Activity1&quot;);\n        primaryStage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/EUODr.png\" rel=\"nofollow noreferrer\">The output</a></p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1688715980,"post_id":76633193,"comment_id":135113793,"body_markdown":"Have you tried performing everything in the same transactional context? The method calling find should be in the same transaction as the save method/call, so that the find method returns a managed Company instance to use in the teamMember company reference. Otherwise, you&#39;ll want to ensure you have cascade.merge set on the relationship, and that you force Spring to use JPA entityManager merge (instead of its own Save implementation logic, which will call persist on your new entity).","body":"Have you tried performing everything in the same transactional context? The method calling find should be in the same transaction as the save method/call, so that the find method returns a managed Company instance to use in the teamMember company reference. Otherwise, you&#39;ll want to ensure you have cascade.merge set on the relationship, and that you force Spring to use JPA entityManager merge (instead of its own Save implementation logic, which will call persist on your new entity)."},{"owner":{"account_id":26997264,"reputation":9,"user_id":20559155,"display_name":"Karan Mehta"},"score":0,"creation_date":1688719184,"post_id":76633193,"comment_id":135114362,"body_markdown":"I tried using CascadeType.MERGE on the TeamMember but that did not work, I want to avoid using entityManager and rely solely on Hibernate JPA based saves. Any way to go around that?","body":"I tried using CascadeType.MERGE on the TeamMember but that did not work, I want to avoid using entityManager and rely solely on Hibernate JPA based saves. Any way to go around that?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1688742946,"post_id":76633193,"comment_id":135119136,"body_markdown":"Not sure why you&#39;d tag it as JPA if you don&#39;t want to use JPA, but try performing the read and save in the same transactional context. They then use the same &#39;session&#39; (or EntityManager in JPA), so the entity won&#39;t be detached.","body":"Not sure why you&#39;d tag it as JPA if you don&#39;t want to use JPA, but try performing the read and save in the same transactional context. They then use the same &#39;session&#39; (or EntityManager in JPA), so the entity won&#39;t be detached."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688761957,"post_id":76633193,"comment_id":135122233,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":26997264,"reputation":9,"user_id":20559155,"display_name":"Karan Mehta"},"score":0,"creation_date":1688762817,"post_id":76633193,"comment_id":135122369,"body_markdown":"Done, edited it to remove unnecessary code","body":"Done, edited it to remove unnecessary code"},{"owner":{"account_id":26997264,"reputation":9,"user_id":20559155,"display_name":"Karan Mehta"},"score":0,"creation_date":1688762952,"post_id":76633193,"comment_id":135122384,"body_markdown":"@Chris is is not possible to perform the above actions separately?","body":"@Chris is is not possible to perform the above actions separately?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1689185787,"post_id":76633193,"comment_id":135179179,"body_markdown":"Yes, if you use JPA&#39;s merge api ;) As mentioned, this is an issue with Spring implementing &#39;save&#39; to use JPA&#39;s EntityManager persist call when Spring detects a new entity. Persist is required to throw an exception if a new entity references a detached entity - which is what you get. Implement your repository save method to use merge and there isn&#39;t an issue","body":"Yes, if you use JPA&#39;s merge api ;) As mentioned, this is an issue with Spring implementing &#39;save&#39; to use JPA&#39;s EntityManager persist call when Spring detects a new entity. Persist is required to throw an exception if a new entity references a detached entity - which is what you get. Implement your repository save method to use merge and there isn&#39;t an issue"}],"answers":[{"tags":[],"owner":{"account_id":26997264,"reputation":9,"user_id":20559155,"display_name":"Karan Mehta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688952085,"creation_date":1688952085,"answer_id":76650184,"question_id":76633193,"body_markdown":"I used `@Transactional` on the `addTeamMember` method so it wrapped the method inside a database transaction. ","title":"Detached entity passed to persist exception","body":"<p>I used <code>@Transactional</code> on the <code>addTeamMember</code> method so it wrapped the method inside a database transaction.</p>\n"}],"owner":{"account_id":26997264,"reputation":9,"user_id":20559155,"display_name":"Karan Mehta"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688952085,"creation_date":1688688600,"question_id":76633193,"body_markdown":"TeamMember:\r\n\r\n```\r\n@Entity\r\n@Table(name = Constants.TEAM_MEMBER)\r\n@ToString\r\n@SuperBuilder(toBuilder = true)\r\n@EqualsAndHashCode(callSuper = true)\r\npublic class TeamMember extends BaseEntity implements Serializable {\r\n\r\n    private static final String COLUMN_COMPANY_ID_FK = &quot;company_id_fk&quot;;\r\n\r\n    private static final long serialVersionUID = 413726318355320936L;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = COLUMN_COMPANY_ID_FK, referencedColumnName = Constants.ID, nullable = false)\r\n    private Company company;\r\n\r\n   // Other columns \r\n\r\n}\r\n```\r\n\r\nCompany:\r\n\r\n```\r\n@Entity\r\n@Table(name = Constants.COMPANY)\r\n@ToString(callSuper = true)\r\n@SuperBuilder(toBuilder = true)\r\npublic class Company extends BaseEntity implements Serializable {\r\n\r\n    private static final long serialVersionUID = 6747639319802376867L;\r\n\r\n    @Column(name = Company.COLUMN_COMPANY_NAME, nullable = false, unique = true)\r\n    private String name;\r\n    // Other columns\r\n\r\n}\r\n```\r\n\r\nTest code:\r\n\r\n```\r\n    @Override\r\n    public Response&lt;Boolean&gt; addTeamMember(Long companyId,\r\n            AddTeamMemberRequest addTeamMemberRequest) {\r\n        try {\r\n            TeamMember teamMember = buildTeamMember(companyId,\r\n                    addTeamMemberRequest);\r\n            teamMemberRepository.save(teamMember);\r\n            return new Response&lt;&gt;(ResponseStatus.SUCCESS, true);\r\n        } catch (Exception ex) {\r\n            log.error(&quot;Error has occurred while saving team member {}&quot;,\r\n                    ExceptionUtils.getStackTrace(ex));\r\n        }\r\n        return new Response&lt;&gt;(ResponseStatus.SUCCESS, false);\r\n    }\r\n```\r\n\r\n```\r\nprivate TeamMember buildTeamMember(Long companyId, AddTeamMemberRequest addTeamMemberRequest) {\r\n        Company company = companyRepository.findById(companyId)\r\n                .orElseThrow(() -&gt; new FeastechException(ResponseStatus.INVALID_REQUEST));\r\n        TeamMember teamMember = new TeamMember();\r\n        teamMember.setCompany(company);\r\n        // Other setters\r\n        return teamMember;\r\n    }\r\n```\r\n\r\nThe error:  \r\n2023-07-06 16:30:23.683 ERROR 28095 --- \\[           main\\] c.f.webapp.impl.TeamMemberServiceImpl    : Error has occurred while saving team member org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: com.feastech.webapp.entities.Company; nested exception is org.hibernate.PersistentObjectException: detached entity passed to persist: com.feastech.webapp.entities.Company\r\n\r\nI have tried adding cascadeType.MERGE on TeamMember but it didn&#39;t work neither did cascadeType.ALL.","title":"Detached entity passed to persist exception","body":"<p>TeamMember:</p>\n<pre><code>@Entity\n@Table(name = Constants.TEAM_MEMBER)\n@ToString\n@SuperBuilder(toBuilder = true)\n@EqualsAndHashCode(callSuper = true)\npublic class TeamMember extends BaseEntity implements Serializable {\n\n    private static final String COLUMN_COMPANY_ID_FK = &quot;company_id_fk&quot;;\n\n    private static final long serialVersionUID = 413726318355320936L;\n\n    @ManyToOne\n    @JoinColumn(name = COLUMN_COMPANY_ID_FK, referencedColumnName = Constants.ID, nullable = false)\n    private Company company;\n\n   // Other columns \n\n}\n</code></pre>\n<p>Company:</p>\n<pre><code>@Entity\n@Table(name = Constants.COMPANY)\n@ToString(callSuper = true)\n@SuperBuilder(toBuilder = true)\npublic class Company extends BaseEntity implements Serializable {\n\n    private static final long serialVersionUID = 6747639319802376867L;\n\n    @Column(name = Company.COLUMN_COMPANY_NAME, nullable = false, unique = true)\n    private String name;\n    // Other columns\n\n}\n</code></pre>\n<p>Test code:</p>\n<pre><code>    @Override\n    public Response&lt;Boolean&gt; addTeamMember(Long companyId,\n            AddTeamMemberRequest addTeamMemberRequest) {\n        try {\n            TeamMember teamMember = buildTeamMember(companyId,\n                    addTeamMemberRequest);\n            teamMemberRepository.save(teamMember);\n            return new Response&lt;&gt;(ResponseStatus.SUCCESS, true);\n        } catch (Exception ex) {\n            log.error(&quot;Error has occurred while saving team member {}&quot;,\n                    ExceptionUtils.getStackTrace(ex));\n        }\n        return new Response&lt;&gt;(ResponseStatus.SUCCESS, false);\n    }\n</code></pre>\n<pre><code>private TeamMember buildTeamMember(Long companyId, AddTeamMemberRequest addTeamMemberRequest) {\n        Company company = companyRepository.findById(companyId)\n                .orElseThrow(() -&gt; new FeastechException(ResponseStatus.INVALID_REQUEST));\n        TeamMember teamMember = new TeamMember();\n        teamMember.setCompany(company);\n        // Other setters\n        return teamMember;\n    }\n</code></pre>\n<p>The error:<br />\n2023-07-06 16:30:23.683 ERROR 28095 --- [           main] c.f.webapp.impl.TeamMemberServiceImpl    : Error has occurred while saving team member org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: com.feastech.webapp.entities.Company; nested exception is org.hibernate.PersistentObjectException: detached entity passed to persist: com.feastech.webapp.entities.Company</p>\n<p>I have tried adding cascadeType.MERGE on TeamMember but it didn't work neither did cascadeType.ALL.</p>\n"},{"tags":["java","spring-boot","open-telemetry","micrometer"],"comments":[{"owner":{"account_id":111923,"reputation":649,"user_id":295416,"display_name":"trask"},"score":0,"creation_date":1686588110,"post_id":76418005,"comment_id":134816177,"body_markdown":"the recommendation from the opentelemetry side would be to remove micrometer tracing and use opentelemetry tracing directly, along with the &quot;library&quot; (non-javaagent) instrumentations that opentelemetry provides: https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/docs/supported-libraries.md#libraries--frameworks","body":"the recommendation from the opentelemetry side would be to remove micrometer tracing and use opentelemetry tracing directly, along with the &quot;library&quot; (non-javaagent) instrumentations that opentelemetry provides: <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/docs/supported-libraries.md#libraries--frameworks\" rel=\"nofollow noreferrer\">github.com/open-telemetry/opentelemetry-java-instrumentation&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":153597,"reputation":3137,"user_id":368957,"accept_rate":59,"display_name":"Rakesh Goyal"},"score":0,"creation_date":1686648701,"post_id":76418005,"comment_id":134824523,"body_markdown":"Thanks @trask. I am able to instrument Postgres and Mongodb. Looks like Redis instrumentation is not available without using a Java agent?","body":"Thanks @trask. I am able to instrument Postgres and Mongodb. Looks like Redis instrumentation is not available without using a Java agent?"}],"answers":[{"tags":[],"owner":{"account_id":944144,"reputation":5331,"user_id":971735,"display_name":"Jonatan Ivanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686594364,"creation_date":1686594364,"answer_id":76459354,"question_id":76418005,"body_markdown":"JDBC is instrumented, these are the dependencies you need:\r\n\r\n```groovy\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\nimplementation &#39;net.ttddyy.observation:datasource-micrometer-spring-boot:1.+&#39;\r\nimplementation &#39;io.micrometer:micrometer-registry-otlp&#39;\r\nimplementation &#39;io.micrometer:micrometer-tracing-bridge-otel&#39;\r\nimplementation &#39;io.opentelemetry:opentelemetry-exporter-otlp&#39;\r\n```\r\n\r\nWe have a sample that uses `JdbcTemplate`: https://github.com/micrometer-metrics/micrometer-samples/tree/main/micrometer-samples-boot3-database\r\n\r\nAnd I have a demo app which uses JPA: https://github.com/jonatan-ivanov/teahouse/","title":"Not able to trace database requests with spring boot 3 and Micrometer","body":"<p>JDBC is instrumented, these are the dependencies you need:</p>\n<pre><code>implementation 'org.springframework.boot:spring-boot-starter-actuator'\nimplementation 'net.ttddyy.observation:datasource-micrometer-spring-boot:1.+'\nimplementation 'io.micrometer:micrometer-registry-otlp'\nimplementation 'io.micrometer:micrometer-tracing-bridge-otel'\nimplementation 'io.opentelemetry:opentelemetry-exporter-otlp'\n</code></pre>\n<p>We have a sample that uses <code>JdbcTemplate</code>: <a href=\"https://github.com/micrometer-metrics/micrometer-samples/tree/main/micrometer-samples-boot3-database\" rel=\"nofollow noreferrer\">https://github.com/micrometer-metrics/micrometer-samples/tree/main/micrometer-samples-boot3-database</a></p>\n<p>And I have a demo app which uses JPA: <a href=\"https://github.com/jonatan-ivanov/teahouse/\" rel=\"nofollow noreferrer\">https://github.com/jonatan-ivanov/teahouse/</a></p>\n"}],"owner":{"account_id":153597,"reputation":3137,"user_id":368957,"accept_rate":59,"display_name":"Rakesh Goyal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1057,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688950759,"creation_date":1686081276,"question_id":76418005,"body_markdown":"I have used the following maven dependencies:\r\n```xml\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n                &lt;artifactId&gt;micrometer-registry-otlp&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n                &lt;artifactId&gt;micrometer-tracing&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n                &lt;artifactId&gt;micrometer-observation&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n                &lt;artifactId&gt;micrometer-tracing-bridge-otel&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\r\n                &lt;artifactId&gt;opentelemetry-exporter-otlp&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.ttddyy.observation&lt;/groupId&gt;\r\n                &lt;artifactId&gt;datasource-micrometer-spring-boot&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n```\r\nand following Otel config:\r\n```java\r\n    @Configuration\r\n    public class OtelConfiguration {\r\n        @Bean\r\n        OtlpHttpSpanExporter otlpHttpSpanExporter() {\r\n            return OtlpHttpSpanExporter.builder()\r\n                    .setEndpoint(&quot;http://localhost:4318/v1/traces&quot;)\r\n                    .build();\r\n        }\r\n    }\r\n```\r\n\r\n\r\nI am able to see REST API traces in Jaeger but not able to see any database (Mongo, Postgres and Redis) traces, but if I use open telemetry jar, everything works as expected. \r\n```\r\n     java -javaagent:&quot;/opt/eltropy/opentelemetry-javaagent.jar&quot; -Dotel.service.name=rakesh-test  -jar /Users/rakesh/.m2/repository/com/radiant/eltropy/test-app/1.0.0/test-app-1.0.0.jar\r\n```","title":"Not able to trace database requests with spring boot 3 and Micrometer","body":"<p>I have used the following maven dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n    \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n    \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n    \n            &lt;dependency&gt;\n                &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n                &lt;artifactId&gt;micrometer-registry-otlp&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n                &lt;artifactId&gt;micrometer-tracing&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n                &lt;artifactId&gt;micrometer-observation&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n                &lt;artifactId&gt;micrometer-tracing-bridge-otel&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\n                &lt;artifactId&gt;opentelemetry-exporter-otlp&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n    \n            &lt;dependency&gt;\n                &lt;groupId&gt;net.ttddyy.observation&lt;/groupId&gt;\n                &lt;artifactId&gt;datasource-micrometer-spring-boot&lt;/artifactId&gt;\n                &lt;version&gt;1.0.2&lt;/version&gt;\n            &lt;/dependency&gt;\n</code></pre>\n<p>and following Otel config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Configuration\n    public class OtelConfiguration {\n        @Bean\n        OtlpHttpSpanExporter otlpHttpSpanExporter() {\n            return OtlpHttpSpanExporter.builder()\n                    .setEndpoint(&quot;http://localhost:4318/v1/traces&quot;)\n                    .build();\n        }\n    }\n</code></pre>\n<p>I am able to see REST API traces in Jaeger but not able to see any database (Mongo, Postgres and Redis) traces, but if I use open telemetry jar, everything works as expected.</p>\n<pre><code>     java -javaagent:&quot;/opt/eltropy/opentelemetry-javaagent.jar&quot; -Dotel.service.name=rakesh-test  -jar /Users/rakesh/.m2/repository/com/radiant/eltropy/test-app/1.0.0/test-app-1.0.0.jar\n</code></pre>\n"},{"tags":["java","micrometer"],"answers":[{"tags":[],"owner":{"account_id":944144,"reputation":5331,"user_id":971735,"display_name":"Jonatan Ivanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688950684,"creation_date":1688950684,"answer_id":76650129,"question_id":76464981,"body_markdown":"Check the `expiry` (and `buffer`) property of `DistributionStatisticConfig`.\r\nThese are not frequently used properties but the docs mentions it briefly: https://micrometer.io/docs/concepts#_timers","title":"How do I configure time range in micrometer&#39;s metrics when configuring percentiles?","body":"<p>Check the <code>expiry</code> (and <code>buffer</code>) property of <code>DistributionStatisticConfig</code>.\nThese are not frequently used properties but the docs mentions it briefly: <a href=\"https://micrometer.io/docs/concepts#_timers\" rel=\"nofollow noreferrer\">https://micrometer.io/docs/concepts#_timers</a></p>\n"}],"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688950684,"creation_date":1686659479,"question_id":76464981,"body_markdown":"I have an application which publishes metrics using micrometer. I have a configuration like this:\r\n\r\n```\r\n    @Bean\r\n    public TimedAspect timedAspect(MeterRegistry registry) {\r\n        registry.config().meterFilter(\r\n                new MeterFilter() {\r\n                    @Override\r\n                    public DistributionStatisticConfig configure(Meter.Id id, DistributionStatisticConfig config) {\r\n                        return DistributionStatisticConfig.builder()\r\n                                .percentiles(0.999, 0.99, 0.95)\r\n                                .build()\r\n                                .merge(config);\r\n                    }\r\n                });\r\n        return new TimedAspect(registry);\r\n    }\r\n```\r\nHere I expect to receive metrics for the 99.9%, 99% and 95% percentiles, which I indeed do. For example:\r\n```\r\nhttp_server_requests_seconds{exception=&quot;None&quot;,method=&quot;POST&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/mypath&quot;,quantile=&quot;0.999&quot;,} 0.0524288\r\nhttp_server_requests_seconds{exception=&quot;None&quot;,method=&quot;POST&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/mypath&quot;,quantile=&quot;0.99&quot;,} 0.0524288\r\nhttp_server_requests_seconds{exception=&quot;None&quot;,method=&quot;POST&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/mypath&quot;,quantile=&quot;0.95&quot;,} 0.0524288\r\n```\r\nHere it makes some sense that the value for the various quantiles are equal, as there is a low number of requests. However, as I have understood, a percentile is calculated by using a number of results over a time range. \r\n\r\nHow do I know what time range micrometer is using to calculate these percentiles? And if possible, how do I configure this time range to be larger or smaller?","title":"How do I configure time range in micrometer&#39;s metrics when configuring percentiles?","body":"<p>I have an application which publishes metrics using micrometer. I have a configuration like this:</p>\n<pre><code>    @Bean\n    public TimedAspect timedAspect(MeterRegistry registry) {\n        registry.config().meterFilter(\n                new MeterFilter() {\n                    @Override\n                    public DistributionStatisticConfig configure(Meter.Id id, DistributionStatisticConfig config) {\n                        return DistributionStatisticConfig.builder()\n                                .percentiles(0.999, 0.99, 0.95)\n                                .build()\n                                .merge(config);\n                    }\n                });\n        return new TimedAspect(registry);\n    }\n</code></pre>\n<p>Here I expect to receive metrics for the 99.9%, 99% and 95% percentiles, which I indeed do. For example:</p>\n<pre><code>http_server_requests_seconds{exception=&quot;None&quot;,method=&quot;POST&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/mypath&quot;,quantile=&quot;0.999&quot;,} 0.0524288\nhttp_server_requests_seconds{exception=&quot;None&quot;,method=&quot;POST&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/mypath&quot;,quantile=&quot;0.99&quot;,} 0.0524288\nhttp_server_requests_seconds{exception=&quot;None&quot;,method=&quot;POST&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/mypath&quot;,quantile=&quot;0.95&quot;,} 0.0524288\n</code></pre>\n<p>Here it makes some sense that the value for the various quantiles are equal, as there is a low number of requests. However, as I have understood, a percentile is calculated by using a number of results over a time range.</p>\n<p>How do I know what time range micrometer is using to calculate these percentiles? And if possible, how do I configure this time range to be larger or smaller?</p>\n"},{"tags":["java","swing","user-interface","menu"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1688943334,"post_id":76649840,"comment_id":135138590,"body_markdown":"That seems some what like an anti pattern to me - why not make it a sub menu instead?","body":"That seems some what like an anti pattern to me - why not make it a sub menu instead?"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1688959174,"post_id":76649840,"comment_id":135139727,"body_markdown":"You have not put any size constraints on your vomponents. I think a JPopupMenu would be more what you want. Note, when you click a menu it is &quot;used&quot; , it would then disappear. You could however programmatically put &quot;focus&quot; into the combo box, but you would need also to instruct the user to use arrow keys to change the selection and manage events on another button press such as return button and keyup. I&#39;m not sure how much you can get by default from the GUI .","body":"You have not put any size constraints on your vomponents. I think a JPopupMenu would be more what you want. Note, when you click a menu it is &quot;used&quot; , it would then disappear. You could however programmatically put &quot;focus&quot; into the combo box, but you would need also to instruct the user to use arrow keys to change the selection and manage events on another button press such as return button and keyup. I&#39;m not sure how much you can get by default from the GUI ."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688949866,"creation_date":1688949406,"answer_id":76650074,"question_id":76649840,"body_markdown":"This idea seems like an anti pattern to me - it doesn&#39;t really make sense when you consider that you could use a sub menu to effectively get the same workflow in a more expected and user acceptable way.\r\n\r\n*(There&#39;s also a million or more technical issues why I wouldn&#39;t even try and use a `JCombobox` this way, but lets stick with the fact that there is a pre-existing acceptable UX workflow)*\r\n\r\nTake a look at [How to Use Menus](https://docs.oracle.com/javase/tutorial/uiswing/components/menu.html) and [How to Use Actions](https://docs.oracle.com/javase/tutorial/uiswing/misc/action.html) for some more details.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.event.ActionEvent;\r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JMenu;\r\n    import javax.swing.JMenuBar;\r\n    import javax.swing.JMenuItem;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private JTextArea textArea = new JTextArea(&quot;A long time ago, in a galaxy far, far away...&quot;, 10, 30);\r\n\r\n            public TestPane() {\r\n                JMenuBar menuBar = new JMenuBar();\r\n                JMenu menu = new JMenu(&quot;Text&quot;);\r\n                menuBar.add(menu);\r\n\r\n                JMenu color = new JMenu(&quot;Color&quot;);\r\n                menu.add(color);\r\n\r\n                ColorAction.Observer observer = new ColorAction.Observer() {\r\n                    @Override\r\n                    public void didSetColor(ColorAction action, Color color) {\r\n                        textArea.setForeground(color);\r\n                    }\r\n                };\r\n\r\n                color.add(new ColorAction(&quot;Blue&quot;, Color.BLUE, observer));\r\n                color.add(new ColorAction(&quot;Green&quot;, Color.GREEN, observer));\r\n                color.add(new ColorAction(&quot;Yellow&quot;, Color.YELLOW, observer));\r\n\r\n                setLayout(new BorderLayout());\r\n\r\n                add(menuBar, BorderLayout.NORTH);\r\n                add(new JScrollPane(textArea));\r\n            }\r\n        }\r\n\r\n        public class ColorAction extends AbstractAction {\r\n            private static Observer Observer;\r\n\r\n            public interface Observer {\r\n                public void didSetColor(ColorAction action, Color color);\r\n            }\r\n\r\n            private Color color;\r\n            private Observer observer;\r\n\r\n            public ColorAction(String text, Color color, Observer observer) {\r\n                super(text);\r\n                this.color = color;\r\n                this.observer = observer;\r\n            }\r\n\r\n            public Color getColor() {\r\n                return color;\r\n            }\r\n\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                if (observer == null) {\r\n                    return;\r\n                }\r\n                observer.didSetColor(this, getColor());\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s1Tog.png","title":"How to use a JCombobox in JMenu?","body":"<p>This idea seems like an anti pattern to me - it doesn't really make sense when you consider that you could use a sub menu to effectively get the same workflow in a more expected and user acceptable way.</p>\n<p><em>(There's also a million or more technical issues why I wouldn't even try and use a <code>JCombobox</code> this way, but lets stick with the fact that there is a pre-existing acceptable UX workflow)</em></p>\n<p>Take a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/menu.html\" rel=\"nofollow noreferrer\">How to Use Menus</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/action.html\" rel=\"nofollow noreferrer\">How to Use Actions</a> for some more details.</p>\n<p><a href=\"https://i.stack.imgur.com/s1Tog.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s1Tog.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.event.ActionEvent;\nimport javax.swing.AbstractAction;\nimport javax.swing.JFrame;\nimport javax.swing.JMenu;\nimport javax.swing.JMenuBar;\nimport javax.swing.JMenuItem;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\n\npublic class Test {\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private JTextArea textArea = new JTextArea(&quot;A long time ago, in a galaxy far, far away...&quot;, 10, 30);\n\n        public TestPane() {\n            JMenuBar menuBar = new JMenuBar();\n            JMenu menu = new JMenu(&quot;Text&quot;);\n            menuBar.add(menu);\n\n            JMenu color = new JMenu(&quot;Color&quot;);\n            menu.add(color);\n\n            ColorAction.Observer observer = new ColorAction.Observer() {\n                @Override\n                public void didSetColor(ColorAction action, Color color) {\n                    textArea.setForeground(color);\n                }\n            };\n\n            color.add(new ColorAction(&quot;Blue&quot;, Color.BLUE, observer));\n            color.add(new ColorAction(&quot;Green&quot;, Color.GREEN, observer));\n            color.add(new ColorAction(&quot;Yellow&quot;, Color.YELLOW, observer));\n\n            setLayout(new BorderLayout());\n\n            add(menuBar, BorderLayout.NORTH);\n            add(new JScrollPane(textArea));\n        }\n    }\n\n    public class ColorAction extends AbstractAction {\n        private static Observer Observer;\n\n        public interface Observer {\n            public void didSetColor(ColorAction action, Color color);\n        }\n\n        private Color color;\n        private Observer observer;\n\n        public ColorAction(String text, Color color, Observer observer) {\n            super(text);\n            this.color = color;\n            this.observer = observer;\n        }\n\n        public Color getColor() {\n            return color;\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            if (observer == null) {\n                return;\n            }\n            observer.didSetColor(this, getColor());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25702996,"reputation":3,"user_id":19462775,"display_name":"Brettaten"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76650074,"answer_count":1,"score":0,"last_activity_date":1688950268,"creation_date":1688942777,"question_id":76649840,"body_markdown":"I want to add a Combobox to my JMenu but its not working properly. When I click it the menu closes.   \r\n\r\nI tried to add a JMenuItem and a JPanel with the combobox to the menu but neither worked.\r\n\r\n\r\n```\r\npublic class Combo extends JMenuBar{\r\n\r\n    public Combo(){\r\n        this.setBackground(Color.DARK_GRAY);\r\n        this.setForeground(Color.WHITE);\r\n        this.setBorder(null);\r\n        this.add(createCombobox());\r\n    }\r\n\r\n    \r\n\r\n    private JMenu createCombobox() {\r\n        JMenu menu = new JMenu(&quot;test&quot;);\r\n        JLabel box = new JLabel(&quot;Color&quot;);\r\n        String[] colors = {&quot;blue&quot;, &quot;green&quot;, &quot;yellow&quot;};\r\n\r\n        JComboBox&lt;String&gt; comboBox = new JComboBox&lt;&gt;(colors);\r\n\r\n        JPanel panel = new JPanel();\r\n        panel.setLayout(new BorderLayout());\r\n        panel.setBorder(new MatteBorder(0, 5, 0, 0, Color.DARK_GRAY));\r\n        panel.setBackground(Color.DARK_GRAY);\r\n        panel.add(box, BorderLayout.CENTER);\r\n        panel.add(comboBox, BorderLayout.EAST);\r\n\r\n        menu.add(panel);\r\n\r\n        return menu;\r\n    }\r\n    \r\n}\r\n\r\n\r\n```\r\n","title":"How to use a JCombobox in JMenu?","body":"<p>I want to add a Combobox to my JMenu but its not working properly. When I click it the menu closes.</p>\n<p>I tried to add a JMenuItem and a JPanel with the combobox to the menu but neither worked.</p>\n<pre><code>public class Combo extends JMenuBar{\n\n    public Combo(){\n        this.setBackground(Color.DARK_GRAY);\n        this.setForeground(Color.WHITE);\n        this.setBorder(null);\n        this.add(createCombobox());\n    }\n\n    \n\n    private JMenu createCombobox() {\n        JMenu menu = new JMenu(&quot;test&quot;);\n        JLabel box = new JLabel(&quot;Color&quot;);\n        String[] colors = {&quot;blue&quot;, &quot;green&quot;, &quot;yellow&quot;};\n\n        JComboBox&lt;String&gt; comboBox = new JComboBox&lt;&gt;(colors);\n\n        JPanel panel = new JPanel();\n        panel.setLayout(new BorderLayout());\n        panel.setBorder(new MatteBorder(0, 5, 0, 0, Color.DARK_GRAY));\n        panel.setBackground(Color.DARK_GRAY);\n        panel.add(box, BorderLayout.CENTER);\n        panel.add(comboBox, BorderLayout.EAST);\n\n        menu.add(panel);\n\n        return menu;\n    }\n    \n}\n\n\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"score":0,"creation_date":1688949043,"post_id":76650051,"comment_id":135139022,"body_markdown":"Which line is the NullPointerException being attributed to?","body":"Which line is the NullPointerException being attributed to?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1688949065,"post_id":76650051,"comment_id":135139023,"body_markdown":"You never assign a value to `operator`.","body":"You never assign a value to <code>operator</code>."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1688949287,"post_id":76650051,"comment_id":135139038,"body_markdown":"*I tried putting an if statement to check if string is empty,* - 1) that won&#39;t help since you are getting a NullPointerException. 2) we have no idea which string variable you are talking about. *It&#39;s prob an easy fix...* - probably, but since you haven&#39;t posted an [mre] like you were asked to do in your previous question we would only be guessing.","body":"<i>I tried putting an if statement to check if string is empty,</i> - 1) that won&#39;t help since you are getting a NullPointerException. 2) we have no idea which string variable you are talking about. <i>It&#39;s prob an easy fix...</i> - probably, but since you haven&#39;t posted an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> like you were asked to do in your previous question we would only be guessing."},{"owner":{"account_id":28969992,"reputation":29,"user_id":22190533,"display_name":"user22190533"},"score":0,"creation_date":1688949494,"post_id":76650051,"comment_id":135139058,"body_markdown":"@camickr:  its the Button btnEquals","body":"@camickr:  its the Button btnEquals"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1688949627,"post_id":76650051,"comment_id":135139072,"body_markdown":"That comment makes doesn&#39;t help. The ActionListener contains 5 statements. We have no idea which statement is causing the problem. Read your stack trace to find the statement, then find the variable from the statement that is null. We can&#39;t do this for you.","body":"That comment makes doesn&#39;t help. The ActionListener contains 5 statements. We have no idea which statement is causing the problem. Read your stack trace to find the statement, then find the variable from the statement that is null. We can&#39;t do this for you."},{"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"score":0,"creation_date":1688949834,"post_id":76650051,"comment_id":135139090,"body_markdown":"You declare `String buffer`, but never assign it a value, so it&#39;s always `null`.","body":"You declare <code>String buffer</code>, but never assign it a value, so it&#39;s always <code>null</code>."},{"owner":{"account_id":28969992,"reputation":29,"user_id":22190533,"display_name":"user22190533"},"score":0,"creation_date":1688950749,"post_id":76650051,"comment_id":135139145,"body_markdown":"I put `if(buffer!=null)`at start of  the `btnEquals` Actionlistener, and deleted the `buffer=null` line, which  seems to have remedied it (not sure if it the right fix, tho).","body":"I put <code>if(buffer!=null)</code>at start of  the <code>btnEquals</code> Actionlistener, and deleted the <code>buffer=null</code> line, which  seems to have remedied it (not sure if it the right fix, tho)."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1688951603,"post_id":76650051,"comment_id":135139195,"body_markdown":"That &quot;fix&quot; will leave the buffer as null and your code will do nothing useful. More importantly, you seem to be &quot;coding by guessing&quot;, writing code without any preexisting plan or forethought, and the most important thing for you at this stage is not to do that. Study your notes, and plan what you&#39;re going to write *before* you start writing it.","body":"That &quot;fix&quot; will leave the buffer as null and your code will do nothing useful. More importantly, you seem to be &quot;coding by guessing&quot;, writing code without any preexisting plan or forethought, and the most important thing for you at this stage is not to do that. Study your notes, and plan what you&#39;re going to write <i>before</i> you start writing it."}],"owner":{"account_id":28969992,"reputation":29,"user_id":22190533,"display_name":"user22190533"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1688949466,"answer_count":0,"score":0,"last_activity_date":1688948832,"creation_date":1688948832,"question_id":76650051,"body_markdown":"I am getting a null pointer exception error when pressing the equals button on a simple Java calculator.\r\n\r\nIt&#39;s prob an easy fix...\r\n\r\nI tried putting an if statement to check if string is empty, but that doesnt work. (Here&#39;s the code)\r\n\r\n```\r\npublic class Calc {\r\n\r\n    private JFrame frame;\r\n    String buffer, operator;\r\n    JTextField textField = new JTextField();\r\n\r\n  \r\n        JButton btnEquals = new JButton(&quot;=&quot;);\r\n        btnEquals.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n                double left = Double.parseDouble(buffer);\r\n                double right = Double.parseDouble(textField.getText());\r\n                textField.setText(compute(operator, left, right));\r\n                operator = null;\r\n                buffer = null;\r\n                \r\n            }\r\n       });\r\n\r\n    public static String compute(String operator, double left, double right) {\r\n        if (operator != null) {\r\n            switch (operator) {\r\n                case &quot;+&quot;:\r\n                    return Double.toString(left + right);\r\n                default:\r\n                    return &quot;ERR&quot;; // Unsupported operator\r\n            }\r\n        }\r\n        return &quot;ERR&quot;; // Operator was null\r\n    }\r\n\r\n}\r\n```","title":"Null pointer exception error when pressing equals button on simple Java calculator","body":"<p>I am getting a null pointer exception error when pressing the equals button on a simple Java calculator.</p>\n<p>It's prob an easy fix...</p>\n<p>I tried putting an if statement to check if string is empty, but that doesnt work. (Here's the code)</p>\n<pre><code>public class Calc {\n\n    private JFrame frame;\n    String buffer, operator;\n    JTextField textField = new JTextField();\n\n  \n        JButton btnEquals = new JButton(&quot;=&quot;);\n        btnEquals.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                double left = Double.parseDouble(buffer);\n                double right = Double.parseDouble(textField.getText());\n                textField.setText(compute(operator, left, right));\n                operator = null;\n                buffer = null;\n                \n            }\n       });\n\n    public static String compute(String operator, double left, double right) {\n        if (operator != null) {\n            switch (operator) {\n                case &quot;+&quot;:\n                    return Double.toString(left + right);\n                default:\n                    return &quot;ERR&quot;; // Unsupported operator\n            }\n        }\n        return &quot;ERR&quot;; // Operator was null\n    }\n\n}\n</code></pre>\n"},{"tags":["java","generics","abstract"],"answers":[{"tags":[],"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688948787,"creation_date":1688943679,"answer_id":76649874,"question_id":76648159,"body_markdown":"A better practice when using generics in this case would be to ensure your generic type `T` in `AnimalController` implements your `AnimalData` interface. This would be a minor modification, shown in the following:\r\n\r\n```java\r\npublic abstract class AnimalController&lt;T extends AnimalData&gt; {\r\n    public abstract T process(T a);\r\n}\r\n```\r\n\r\nAlso note that interface methods in Java are public by default, meaning your visibility modifier is redundant. This again is a minor modification:\r\n\r\n```java\r\npublic interface AnimalData {\r\n    String getName();\r\n}\r\n```","title":"Does my abstract generic class implementation needs any change?","body":"<p>A better practice when using generics in this case would be to ensure your generic type <code>T</code> in <code>AnimalController</code> implements your <code>AnimalData</code> interface. This would be a minor modification, shown in the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class AnimalController&lt;T extends AnimalData&gt; {\n    public abstract T process(T a);\n}\n</code></pre>\n<p>Also note that interface methods in Java are public by default, meaning your visibility modifier is redundant. This again is a minor modification:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface AnimalData {\n    String getName();\n}\n</code></pre>\n"}],"owner":{"account_id":10529115,"reputation":3,"user_id":7759130,"display_name":"LikeTomAndJerry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1689022002,"accepted_answer_id":76649874,"answer_count":1,"score":-2,"last_activity_date":1688948787,"creation_date":1688915664,"question_id":76648159,"body_markdown":"I have an abstract generic class to define the method process to all subclasses. I have simplified my code. In real life it is not about animals and I have 4 extensions in parallel of the &quot;AnimalController&quot; and they all need the method process with their own ReturnType. For demonstration it looks like this:\r\n\r\n**Simple CatData implementing simple AnimalData without any generic**\r\n```\r\npublic interface AnimalData {\r\n   public String getName();\r\n}\r\n\r\npublic class CatData implements AnimalData {\r\n    String name;\r\n    int age;\r\n\r\n    @Override\r\n    public String getName() {\r\n        return this.name;\r\n    }\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n}\r\n\r\n```\r\n\r\n**The abstract class AnimalController&lt;T&gt;**\r\n\r\n```\r\npublic abstract class AnimalController&lt;T&gt; {\r\n    public abstract T process(T a);\r\n}\r\n\r\n```\r\n**The CatController**\r\n```\r\npublic class CatController extends AnimalController&lt;CatData&gt; {\r\n   \r\n    @Override\r\n    public CatData process(CatData myCat) {\r\n        myCat.setName(&quot;Jerry&quot;);\r\n        return myCat;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        CatController controller = new CatController();\r\n        CatData cd = new CatData();\r\n        AnimalData cd2 =  controller.process(cd);\r\n        System.out.println(&quot;MyCat&#39;s name is &quot; + cd2.getName());\r\n\r\n    }\r\n}\r\n```\r\n\r\nIf you run this generic code you will see \r\n```\r\nMyCat&#39;s name is Jerry\r\n```\r\n\r\nMy question and my thoughts are about the general benefit of the way I have implemented it so far. Or is there a &quot;best practice way&quot; to handle common things like that. Would it be better to define the interface in a different way, e.g generic. As I already told, I try to find a good idea how to build up my growing system.","title":"Does my abstract generic class implementation needs any change?","body":"<p>I have an abstract generic class to define the method process to all subclasses. I have simplified my code. In real life it is not about animals and I have 4 extensions in parallel of the &quot;AnimalController&quot; and they all need the method process with their own ReturnType. For demonstration it looks like this:</p>\n<p><strong>Simple CatData implementing simple AnimalData without any generic</strong></p>\n<pre><code>public interface AnimalData {\n   public String getName();\n}\n\npublic class CatData implements AnimalData {\n    String name;\n    int age;\n\n    @Override\n    public String getName() {\n        return this.name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n\n</code></pre>\n<p><strong>The abstract class AnimalController</strong></p>\n<pre><code>public abstract class AnimalController&lt;T&gt; {\n    public abstract T process(T a);\n}\n\n</code></pre>\n<p><strong>The CatController</strong></p>\n<pre><code>public class CatController extends AnimalController&lt;CatData&gt; {\n   \n    @Override\n    public CatData process(CatData myCat) {\n        myCat.setName(&quot;Jerry&quot;);\n        return myCat;\n    }\n\n    public static void main(String[] args) {\n        CatController controller = new CatController();\n        CatData cd = new CatData();\n        AnimalData cd2 =  controller.process(cd);\n        System.out.println(&quot;MyCat's name is &quot; + cd2.getName());\n\n    }\n}\n</code></pre>\n<p>If you run this generic code you will see</p>\n<pre><code>MyCat's name is Jerry\n</code></pre>\n<p>My question and my thoughts are about the general benefit of the way I have implemented it so far. Or is there a &quot;best practice way&quot; to handle common things like that. Would it be better to define the interface in a different way, e.g generic. As I already told, I try to find a good idea how to build up my growing system.</p>\n"},{"tags":["java","prometheus","grafana","monitoring"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1688949538,"post_id":76649997,"comment_id":135139062,"body_markdown":"Recomendation of libraries are off topic in Stackoverlow.","body":"Recomendation of libraries are off topic in Stackoverlow."}],"owner":{"account_id":28983298,"reputation":1,"user_id":22200633,"display_name":"Cesar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688947086,"creation_date":1688947086,"question_id":76649997,"body_markdown":"I am looking for a metrics/monitoring library where each node/host publishes its metrics to disk, and the central aggregator pulls the data as needed to create graphs and run queries.\r\n\r\nThe reasoning behind these requirements, is that I don&#39;t want the server/aggregator to be running all the time. I only want to run it when I need to query it or generate a dashboard. I also don&#39;t want to lose data when the server is not running.\r\n\r\nAs far as I can tell, Prometheus does not support that, is that correct? Prometheus does not persist ANY data at the node level. Data is pulled by the server and is then persisted. When the server is not running, the data gets lost.\r\n\r\nIs there another open source library I can use that does that? Looking ideally for something that&#39;s compatible with grafana.","title":"Java monitoring/metrics solution that stores metrics to disk at the node level","body":"<p>I am looking for a metrics/monitoring library where each node/host publishes its metrics to disk, and the central aggregator pulls the data as needed to create graphs and run queries.</p>\n<p>The reasoning behind these requirements, is that I don't want the server/aggregator to be running all the time. I only want to run it when I need to query it or generate a dashboard. I also don't want to lose data when the server is not running.</p>\n<p>As far as I can tell, Prometheus does not support that, is that correct? Prometheus does not persist ANY data at the node level. Data is pulled by the server and is then persisted. When the server is not running, the data gets lost.</p>\n<p>Is there another open source library I can use that does that? Looking ideally for something that's compatible with grafana.</p>\n"},{"tags":["java","arrays","class"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1688928662,"post_id":76648832,"comment_id":135137095,"body_markdown":"Instead of those three arrays, use one Employee[] and collect the instances of Employee there.","body":"Instead of those three arrays, use one Employee[] and collect the instances of Employee there."}],"answers":[{"tags":[],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688929396,"creation_date":1688927119,"answer_id":76648933,"question_id":76648832,"body_markdown":"Welcome!\r\n\r\nIf I understand well, you are near.  \r\nYou only need one more class.\r\n\r\n```java\r\npublic class Employee {\r\n   private Name name;\r\n   private Address address;\r\n   private Date date;\r\n\r\n   public Employee(Name name, Address address, Date date) {\r\n      this.name = name;\r\n      this.address = address;\r\n      this.date = date;\r\n   }\r\n\r\n   // Your getters, setters : public Name getName(), public void setName(Name name), etc.\r\n   ...\r\n}\r\n```\r\n\r\nAnd you could create soon an `Employee[] employees`, if it&#39;s what you&#39;re looking for?\r\n\r\n---\r\n\r\nIn the end of your `main` function, where you have: \r\n\r\n```java\r\narrayName[i] = new Name(fn, ln, id);\r\narrayAddress[i] = new Address( str, cty, sta, zip );\r\narrayDate[i] = new Date( mo, day, year );\r\n```\r\n\r\nWhat about substituting this with something like:\r\n\r\n```java\r\nemployees[i] = new Employee(new Name(fn, ln, id), \r\n   new Address( str, cty, sta, zip ), \r\n   new Date( mo, day, year ));\r\n```\r\n\r\nWhere `Employee[] employees = new Employee[n];`?  \r\nThen you will keep the benefits of all the code you&#39;ve already written, without changing it too much.\r\n\r\nI think it should work.","title":"Need help assigning array to new type Employee","body":"<p>Welcome!</p>\n<p>If I understand well, you are near.<br />\nYou only need one more class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Employee {\n   private Name name;\n   private Address address;\n   private Date date;\n\n   public Employee(Name name, Address address, Date date) {\n      this.name = name;\n      this.address = address;\n      this.date = date;\n   }\n\n   // Your getters, setters : public Name getName(), public void setName(Name name), etc.\n   ...\n}\n</code></pre>\n<p>And you could create soon an <code>Employee[] employees</code>, if it's what you're looking for?</p>\n<hr />\n<p>In the end of your <code>main</code> function, where you have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>arrayName[i] = new Name(fn, ln, id);\narrayAddress[i] = new Address( str, cty, sta, zip );\narrayDate[i] = new Date( mo, day, year );\n</code></pre>\n<p>What about substituting this with something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>employees[i] = new Employee(new Name(fn, ln, id), \n   new Address( str, cty, sta, zip ), \n   new Date( mo, day, year ));\n</code></pre>\n<p>Where <code>Employee[] employees = new Employee[n];</code>?<br />\nThen you will keep the benefits of all the code you've already written, without changing it too much.</p>\n<p>I think it should work.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688945485,"creation_date":1688945485,"answer_id":76649943,"question_id":76648832,"body_markdown":"In regard to the question asked in the comment,\r\n\r\n&gt; _&quot;This makes some sense to me. But you mentioned I need to add getters/setters. What about the getters/setters I already have in the Name class, Address class, etc? I am also still confused about what to do with the arrays I have&quot;_\r\n\r\nThe _Name_, _Address_, and _Date_ objects will now be held within a separate object, thus only 1 array would be needed; of _Employee_.\r\n\r\nAdditionally, just utilize the getter and setter methods, when accessing the objects.\r\n\r\nI believe you are expecting some sort of inheritance here, this isn&#39;t the case.  \r\nThis is a basic data structure, which doesn&#39;t require any sort of transposition of data.\r\n\r\nFor example,\r\n\r\n```java\r\nclass Employee {\r\n    Name name;\r\n    Address address;\r\n    Date date;\r\n\r\n    Employee(String fn, String ln, String id) {\r\n        name = new Name(fn, ln, id);\r\n    }\r\n    \r\n    void setAddress(String str, String cty, String sta, String zip) {\r\n        address = new Address(str, cty, sta, zip);\r\n    }\r\n    \r\n    void setDate(int mo, int dy, int yr) {\r\n        date = new Date(mo, dy, yr);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;%s%n%s%n%s&quot;.formatted(name, address, date);\r\n    }\r\n}\r\n```\r\n\r\nAnd then, just adjust the input.\r\n\r\n```java\r\n// Create arrays\r\nEmployee[] employee = new Employee[n];\r\n```\r\n\r\n```java\r\n// Save data to arrays\r\nemployee[i] = new Employee(fn, ln, id);\r\nemployee[i].setAddress(str, cty, sta, zip);\r\nemployee[i].setDate(mo, day, year);\r\n```\r\n\r\n```java\r\n// Print data from arrays\r\nSystem.out.println(&quot;Printing Employee list.....&quot; + &quot;\\n&quot;);\r\n// accessing array elements using the for loop\r\nfor (int i = 0; i &lt; n; i++) {\r\n    System.out.println(employee[i]);\r\n}\r\n```","title":"Need help assigning array to new type Employee","body":"<p>In regard to the question asked in the comment,</p>\n<blockquote>\n<p><em>&quot;This makes some sense to me. But you mentioned I need to add getters/setters. What about the getters/setters I already have in the Name class, Address class, etc? I am also still confused about what to do with the arrays I have&quot;</em></p>\n</blockquote>\n<p>The <em>Name</em>, <em>Address</em>, and <em>Date</em> objects will now be held within a separate object, thus only 1 array would be needed; of <em>Employee</em>.</p>\n<p>Additionally, just utilize the getter and setter methods, when accessing the objects.</p>\n<p>I believe you are expecting some sort of inheritance here, this isn't the case.<br />\nThis is a basic data structure, which doesn't require any sort of transposition of data.</p>\n<p>For example,</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Employee {\n    Name name;\n    Address address;\n    Date date;\n\n    Employee(String fn, String ln, String id) {\n        name = new Name(fn, ln, id);\n    }\n    \n    void setAddress(String str, String cty, String sta, String zip) {\n        address = new Address(str, cty, sta, zip);\n    }\n    \n    void setDate(int mo, int dy, int yr) {\n        date = new Date(mo, dy, yr);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;%s%n%s%n%s&quot;.formatted(name, address, date);\n    }\n}\n</code></pre>\n<p>And then, just adjust the input.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Create arrays\nEmployee[] employee = new Employee[n];\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// Save data to arrays\nemployee[i] = new Employee(fn, ln, id);\nemployee[i].setAddress(str, cty, sta, zip);\nemployee[i].setDate(mo, day, year);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// Print data from arrays\nSystem.out.println(&quot;Printing Employee list.....&quot; + &quot;\\n&quot;);\n// accessing array elements using the for loop\nfor (int i = 0; i &lt; n; i++) {\n    System.out.println(employee[i]);\n}\n</code></pre>\n"}],"owner":{"account_id":28982212,"reputation":11,"user_id":22199845,"display_name":"visceralamoeba"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688945485,"creation_date":1688925610,"question_id":76648832,"body_markdown":"My code currently runs. The problem is, I miss understood the assignment and I need to arrays of type Employee (so I need an additional class called Employee).\r\n\r\nCurrently, I have 3 arrays:\r\n\r\n1. Saves Name info\r\n2. Saves Address info\r\n3. Saves Date info\r\n\r\nI actually now need an array for each employee:\r\n\r\n1. Employee1 saves Name, Address, Date info\r\netc\r\n\r\nAs you can see, I have the number of emplyess you want to create set to variable n.\r\n\r\n\r\n\r\nMain\r\n```\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t// Ask user to enter # of employee records to add\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\tSystem.out.print(&quot;Employee Database&quot; + &quot;\\n\\n&quot;\r\n\t\t\t\t+ &quot;Enter the number of employees to add: &quot;);\r\n\t\tfinal int n = input.nextInt();\r\n\t\t\r\n\t\t// Create arrays\r\n\t\t\t\tName[] arrayName = new Name[n];\r\n\t\t\t\tAddress[] arrayAddress = new Address[n];\r\n\t\t\t\tDate[] arrayDate = new Date[n];\r\n\t\t\r\n\t\t// For loop input questions over (n) employees\r\n\t\tfor (int i = 0; i &lt; n; i++) {\r\n\t\t\tSystem.out.println(&quot;- - - NEW EMPLOYEE - - -&quot; + &quot;\\n&quot;);\r\n\t\t\tSystem.out.println(&quot;Basic Information&quot;);\r\n\t\t\tSystem.out.println(&quot;- - - - - - - - - -  - - -&quot;);\r\n\t\t\tSystem.out.println(&quot;Enter first name as &lt;First&gt;: &quot;);\r\n\t\t\t\tString fn = input.next();\r\n\t\t\tSystem.out.println(&quot;Enter last name as &lt;Last&gt;: &quot;);\r\n\t\t\t\tString ln = input.next();\r\n\t\t\tSystem.out.println(&quot;Enter employee ID as &lt;1A45G&gt;: &quot;);\r\n\t\t\t\tString id = input.next();\r\n\t\t\t\t\r\n\t\t\tSystem.out.println(&quot;Address Information&quot;);\r\n\t\t\tSystem.out.println(&quot;- - - - - - - - - -  - - -&quot;);\r\n\t\t\tSystem.out.println(&quot;Enter street &lt;123.High.Street&gt;: &quot;);\r\n\t\t\t\tString str = input.next();\t\r\n\t\t\tSystem.out.println(&quot;Enter city &lt;Springfield&gt;: &quot;);\r\n\t\t\t\tString cty = input.next();\r\n\t\t\tSystem.out.println(&quot;Enter state &lt;XX&gt;: &quot;);\r\n\t\t\t\tString sta = input.next();\r\n\t\t\tSystem.out.println(&quot;Enter zip code &lt;54321&gt;: &quot;);\r\n\t\t\t\tString zip = input.next();\r\n\t\t\t\t\r\n\t\t\tSystem.out.println(&quot;Hiring Date Information&quot;);\r\n\t\t\tSystem.out.println(&quot;- - - - - - - - - -  - - -&quot;);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Enter hiring month as &lt;12&gt;: &quot;);\r\n\t\t\t\t\tint mo = input.nextInt();\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t// While loop to alert of incorrect entry\r\n\t\t\t\t\twhile((mo &gt;= 12) || (mo &lt;= 1)) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;Incorrect format entered. Please try again: &quot;);\r\n\t\t\t\t\t\tSystem.out.println(&quot;Enter hiring month as &lt;12&gt;: &quot;);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\tSystem.out.println(&quot;Enter hiring day as &lt;31&gt;: &quot;);\r\n\t\t\t\t\tint day = input.nextInt();\r\n\t\t\tSystem.out.println(&quot;Enter hiring year as &lt;2023&gt;: &quot;);\r\n\t\t\t\t\tint year = input.nextInt();\r\n\r\n\t\t\t// Save data to arrays\r\n\t\t\tarrayName[i] = new Name(fn, ln, id);\r\n\t\t\tarrayAddress[i] = new Address( str, cty, sta, zip );\r\n\t\t\tarrayDate[i] = new Date( mo, day, year );\r\n\t\t\t\r\n\t\t\tinput.close(); \r\n\t\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t// Print data from arrays\r\n\t\tSystem.out.println(&quot;Printing Employee list.....&quot; + &quot;\\n&quot;);\r\n\t\t// accessing array elements using the for loop\r\n\t\tfor (int i = 0; i &lt; n; i++) {\r\n\t\t\tSystem.out.println(arrayName[i]);\r\n\t\t\tSystem.out.println(arrayAddress[i]);\r\n\t\t\tSystem.out.println(arrayDate[i]);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nName\r\n\r\n```\r\npublic class Name {\r\n\r\n\t// Name and ID number variables\r\n\tprivate String firstName;\r\n\tprivate String lastName;\r\n\tprivate String idNumber;\r\n\r\n\t// Getters for the above variables\r\n\tpublic String getFirstName(String fn) {\r\n\r\n\t\treturn firstName;\r\n\t}\r\n\r\n\tpublic String getLastName(String ln) {\r\n\r\n\t\treturn lastName;\r\n\t}\r\n\r\n\tpublic String getID(String idd) {\r\n\r\n\t\treturn idNumber;\r\n\t}\r\n\r\n\t// Parameterized constructor\r\n\tpublic Name(String fn, String ln, String id) {\r\n\r\n\t\tfirstName = fn;\r\n\t\tlastName = ln;\r\n\t\tidNumber = id;\r\n\t}\r\n\r\n\t// Convert to String\r\n\r\n\tpublic String toString() {\r\n\r\n\t\treturn &quot;\\n&quot; + &quot;Employee Name: &quot; + firstName + &quot; &quot; + lastName + &quot;\\n&quot; + &quot;Employee ID#: &quot; + idNumber;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAddress\r\n\r\n```\r\npublic class Address {\r\n\r\n\t// Name and ID number variables\r\n\tprivate String street;\r\n\tprivate String city;\r\n\tprivate String state;\r\n\tprivate String zipcode;\r\n\r\n\t// Getters for the above variables\r\n\tpublic String getStreet(String str) {\r\n\r\n\t\treturn street;\r\n\r\n\t}\r\n\r\n\tpublic String getCity(String cty) {\r\n\r\n\t\treturn city;\r\n\r\n\t}\r\n\r\n\tpublic String getState(String sta) {\r\n\r\n\t\treturn state;\r\n\r\n\t}\r\n\r\n\tpublic String getZipcode(String zip) {\r\n\r\n\t\treturn zipcode;\r\n\r\n\t}\r\n\r\n\t// Parameterized constructor\r\n\tpublic Address(String str, String cty, String sta, String zip) {\r\n\r\n\t\tstreet = str;\r\n\t\tcity = cty;\r\n\t\tstate = sta;\r\n\t\tzipcode = zip;\r\n\r\n\t}\r\n\r\n\t// Convert to String\r\n\tpublic String toString() {\r\n\r\n\t\treturn &quot;Address: &quot; + street + &quot;, &quot; + city + &quot;, &quot; + state + &quot; &quot; + zipcode;\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nDate\r\n\r\n\r\n```\r\npublic class Date {\r\n\r\n\t// Date variables\r\n\tprivate int month;\r\n\tprivate int day;\r\n\tprivate int year;\r\n\r\n\t// Getters for the above variables\r\n\tpublic int getMonth(int mo) {\r\n\r\n\t\treturn month;\r\n\t}\r\n\r\n\tpublic int getDay(int dy) {\r\n\r\n\t\treturn day;\r\n\t}\r\n\r\n\tpublic int getYear(int idd) {\r\n\r\n\t\treturn year;\r\n\t}\r\n\t\r\n\t// Parameterized constructor\r\n\tpublic Date(int mo, int dy, int yr) {\r\n\r\n\t\tmonth = mo;\r\n\t\tday = dy;\r\n\t\tyear = yr;\r\n\t}\r\n\r\n\t// Convert to String\r\n\tpublic String toString() {\r\n\r\n\t\treturn &quot;Hiring Date: &quot; + month + &quot;/&quot; + day + &quot;/&quot; + year;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\nI have been struggling with this for 3 hours on how to make these changes and I simple cannot figure it out.\r\n\r\nIve tried adding a setName method in Employee class with something like:\r\n\r\n```\r\n`public void setName(String[] employeeName) {\r\n\t\t\r\n\t\tthis.employeeName.setName(employeeName[0], employeeName[1], employeeName[2]);`\r\n```\r\n","title":"Need help assigning array to new type Employee","body":"<p>My code currently runs. The problem is, I miss understood the assignment and I need to arrays of type Employee (so I need an additional class called Employee).</p>\n<p>Currently, I have 3 arrays:</p>\n<ol>\n<li>Saves Name info</li>\n<li>Saves Address info</li>\n<li>Saves Date info</li>\n</ol>\n<p>I actually now need an array for each employee:</p>\n<ol>\n<li>Employee1 saves Name, Address, Date info\netc</li>\n</ol>\n<p>As you can see, I have the number of emplyess you want to create set to variable n.</p>\n<p>Main</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        \n        // Ask user to enter # of employee records to add\n        Scanner input = new Scanner(System.in);\n        System.out.print(&quot;Employee Database&quot; + &quot;\\n\\n&quot;\n                + &quot;Enter the number of employees to add: &quot;);\n        final int n = input.nextInt();\n        \n        // Create arrays\n                Name[] arrayName = new Name[n];\n                Address[] arrayAddress = new Address[n];\n                Date[] arrayDate = new Date[n];\n        \n        // For loop input questions over (n) employees\n        for (int i = 0; i &lt; n; i++) {\n            System.out.println(&quot;- - - NEW EMPLOYEE - - -&quot; + &quot;\\n&quot;);\n            System.out.println(&quot;Basic Information&quot;);\n            System.out.println(&quot;- - - - - - - - - -  - - -&quot;);\n            System.out.println(&quot;Enter first name as &lt;First&gt;: &quot;);\n                String fn = input.next();\n            System.out.println(&quot;Enter last name as &lt;Last&gt;: &quot;);\n                String ln = input.next();\n            System.out.println(&quot;Enter employee ID as &lt;1A45G&gt;: &quot;);\n                String id = input.next();\n                \n            System.out.println(&quot;Address Information&quot;);\n            System.out.println(&quot;- - - - - - - - - -  - - -&quot;);\n            System.out.println(&quot;Enter street &lt;123.High.Street&gt;: &quot;);\n                String str = input.next();  \n            System.out.println(&quot;Enter city &lt;Springfield&gt;: &quot;);\n                String cty = input.next();\n            System.out.println(&quot;Enter state &lt;XX&gt;: &quot;);\n                String sta = input.next();\n            System.out.println(&quot;Enter zip code &lt;54321&gt;: &quot;);\n                String zip = input.next();\n                \n            System.out.println(&quot;Hiring Date Information&quot;);\n            System.out.println(&quot;- - - - - - - - - -  - - -&quot;);\n            \n            \n            System.out.println(&quot;Enter hiring month as &lt;12&gt;: &quot;);\n                    int mo = input.nextInt();   \n                    \n                    // While loop to alert of incorrect entry\n                    while((mo &gt;= 12) || (mo &lt;= 1)) {\n                        System.out.println(&quot;Incorrect format entered. Please try again: &quot;);\n                        System.out.println(&quot;Enter hiring month as &lt;12&gt;: &quot;);\n                        break;\n                    }\n            System.out.println(&quot;Enter hiring day as &lt;31&gt;: &quot;);\n                    int day = input.nextInt();\n            System.out.println(&quot;Enter hiring year as &lt;2023&gt;: &quot;);\n                    int year = input.nextInt();\n\n            // Save data to arrays\n            arrayName[i] = new Name(fn, ln, id);\n            arrayAddress[i] = new Address( str, cty, sta, zip );\n            arrayDate[i] = new Date( mo, day, year );\n            \n            input.close(); \n                \n        }\n        \n        // Print data from arrays\n        System.out.println(&quot;Printing Employee list.....&quot; + &quot;\\n&quot;);\n        // accessing array elements using the for loop\n        for (int i = 0; i &lt; n; i++) {\n            System.out.println(arrayName[i]);\n            System.out.println(arrayAddress[i]);\n            System.out.println(arrayDate[i]);\n        }\n        \n    }\n    \n}\n</code></pre>\n<p>Name</p>\n<pre><code>public class Name {\n\n    // Name and ID number variables\n    private String firstName;\n    private String lastName;\n    private String idNumber;\n\n    // Getters for the above variables\n    public String getFirstName(String fn) {\n\n        return firstName;\n    }\n\n    public String getLastName(String ln) {\n\n        return lastName;\n    }\n\n    public String getID(String idd) {\n\n        return idNumber;\n    }\n\n    // Parameterized constructor\n    public Name(String fn, String ln, String id) {\n\n        firstName = fn;\n        lastName = ln;\n        idNumber = id;\n    }\n\n    // Convert to String\n\n    public String toString() {\n\n        return &quot;\\n&quot; + &quot;Employee Name: &quot; + firstName + &quot; &quot; + lastName + &quot;\\n&quot; + &quot;Employee ID#: &quot; + idNumber;\n    }\n\n}\n</code></pre>\n<p>Address</p>\n<pre><code>public class Address {\n\n    // Name and ID number variables\n    private String street;\n    private String city;\n    private String state;\n    private String zipcode;\n\n    // Getters for the above variables\n    public String getStreet(String str) {\n\n        return street;\n\n    }\n\n    public String getCity(String cty) {\n\n        return city;\n\n    }\n\n    public String getState(String sta) {\n\n        return state;\n\n    }\n\n    public String getZipcode(String zip) {\n\n        return zipcode;\n\n    }\n\n    // Parameterized constructor\n    public Address(String str, String cty, String sta, String zip) {\n\n        street = str;\n        city = cty;\n        state = sta;\n        zipcode = zip;\n\n    }\n\n    // Convert to String\n    public String toString() {\n\n        return &quot;Address: &quot; + street + &quot;, &quot; + city + &quot;, &quot; + state + &quot; &quot; + zipcode;\n    }\n\n}\n\n</code></pre>\n<p>Date</p>\n<pre><code>public class Date {\n\n    // Date variables\n    private int month;\n    private int day;\n    private int year;\n\n    // Getters for the above variables\n    public int getMonth(int mo) {\n\n        return month;\n    }\n\n    public int getDay(int dy) {\n\n        return day;\n    }\n\n    public int getYear(int idd) {\n\n        return year;\n    }\n    \n    // Parameterized constructor\n    public Date(int mo, int dy, int yr) {\n\n        month = mo;\n        day = dy;\n        year = yr;\n    }\n\n    // Convert to String\n    public String toString() {\n\n        return &quot;Hiring Date: &quot; + month + &quot;/&quot; + day + &quot;/&quot; + year;\n    }\n}\n\n</code></pre>\n<p>I have been struggling with this for 3 hours on how to make these changes and I simple cannot figure it out.</p>\n<p>Ive tried adding a setName method in Employee class with something like:</p>\n<pre><code>`public void setName(String[] employeeName) {\n        \n        this.employeeName.setName(employeeName[0], employeeName[1], employeeName[2]);`\n</code></pre>\n"},{"tags":["java","html","spring-boot","maven","thymeleaf"],"comments":[{"owner":{"account_id":25917617,"reputation":86,"user_id":19640780,"display_name":"Cosmin Drăguşanu"},"score":0,"creation_date":1688857055,"post_id":76645174,"comment_id":135130702,"body_markdown":"Have you tried adding a new UserModel as attribute with the the username of a Principal object as parameter ?","body":"Have you tried adding a new UserModel as attribute with the the username of a Principal object as parameter ?"},{"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"score":0,"creation_date":1688859183,"post_id":76645174,"comment_id":135130809,"body_markdown":"Yes when I tried using the Principal object I kept getting errors of &quot;template not found&quot; if I remember correctly even though they were in the correct directory. I&#39;m guessing there is more setup if have to do if I use the principal object.","body":"Yes when I tried using the Principal object I kept getting errors of &quot;template not found&quot; if I remember correctly even though they were in the correct directory. I&#39;m guessing there is more setup if have to do if I use the principal object."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1688880020,"post_id":76645174,"comment_id":135131915,"body_markdown":"As I remember, you should also put on your post &quot;thymeleaf&quot;. Nb is that jsp and beans also?","body":"As I remember, you should also put on your post &quot;thymeleaf&quot;. Nb is that jsp and beans also?"}],"answers":[{"tags":[],"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688900908,"creation_date":1688900388,"answer_id":76647120,"question_id":76645174,"body_markdown":"In html you need to access username using the same attribute name you added the username to in the controller. i.e.\r\n\r\nReplace\r\n\r\n    &lt;h2&gt;Welcome, &lt;span th:text=&quot;${userModel.Username}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;\r\n\r\nWith\r\n\r\n    &lt;h2&gt;Welcome, &lt;span th:text=&quot;${person}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;\r\n\r\nAlso make sure userModel.getUsername() in the controller has a value. If it doesn&#39;t you can add a dummy username to confirm it&#39;s passed to html. Eg\r\n\r\nReplace\r\n\r\n    model.addAttribute(&quot;person&quot;, userModel.getUsername());\r\n\r\nWith\r\n\r\n    model.addAttribute(&quot;person&quot;, &quot;John Doe&quot;);\r\n\r\n","title":"Object not being passed to HTML file not being printed on Webpage","body":"<p>In html you need to access username using the same attribute name you added the username to in the controller. i.e.</p>\n<p>Replace</p>\n<pre><code>&lt;h2&gt;Welcome, &lt;span th:text=&quot;${userModel.Username}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;\n</code></pre>\n<p>With</p>\n<pre><code>&lt;h2&gt;Welcome, &lt;span th:text=&quot;${person}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;\n</code></pre>\n<p>Also make sure userModel.getUsername() in the controller has a value. If it doesn't you can add a dummy username to confirm it's passed to html. Eg</p>\n<p>Replace</p>\n<pre><code>model.addAttribute(&quot;person&quot;, userModel.getUsername());\n</code></pre>\n<p>With</p>\n<pre><code>model.addAttribute(&quot;person&quot;, &quot;John Doe&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688943175,"creation_date":1688943175,"answer_id":76649856,"question_id":76645174,"body_markdown":"I ended up going a different route and found the HttpSession class and was able to implement that into my code since I do not need beefed up security features yet like the Principal class provides. My loginUser method was also not storing the name of the user like it should of. Here is the code I implemented.\r\n\r\n```\t@GetMapping(&quot;/products&quot;)\r\n\tpublic String getProducts(Model model, HttpSession session) {\r\n\t\t\r\n\t\tif (session.getAttribute(&quot;loggedInUser&quot;) == null) {\r\n\t\t\treturn &quot;redirect:/login&quot;;\r\n\t\t}\r\n\t\t\r\n\t\tUserModel user = (UserModel) session.getAttribute(&quot;loggedInUser&quot;);\r\n\t\tList&lt;ProductModel&gt; products = productService.getAllProducts();\r\n\t\tmodel.addAttribute(&quot;products&quot;, products);\r\n\t\tmodel.addAttribute(&quot;person&quot;, user.getFirstName());\r\n        System.out.println(user);\r\n\t\treturn &quot;products&quot;;\r\n\t}\r\n```","title":"Object not being passed to HTML file not being printed on Webpage","body":"<p>I ended up going a different route and found the HttpSession class and was able to implement that into my code since I do not need beefed up security features yet like the Principal class provides. My loginUser method was also not storing the name of the user like it should of. Here is the code I implemented.</p>\n<pre><code>    public String getProducts(Model model, HttpSession session) {\n        \n        if (session.getAttribute(&quot;loggedInUser&quot;) == null) {\n            return &quot;redirect:/login&quot;;\n        }\n        \n        UserModel user = (UserModel) session.getAttribute(&quot;loggedInUser&quot;);\n        List&lt;ProductModel&gt; products = productService.getAllProducts();\n        model.addAttribute(&quot;products&quot;, products);\n        model.addAttribute(&quot;person&quot;, user.getFirstName());\n        System.out.println(user);\n        return &quot;products&quot;;\n    }\n</code></pre>\n"}],"owner":{"account_id":14117331,"reputation":25,"user_id":10198796,"display_name":"Mitchell"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688943175,"creation_date":1688855019,"question_id":76645174,"body_markdown":"I am trying to print the username of the logged in person on my webpage and it is not printing the username. It just says *Welcome,*. I receive no errors in my console or on the web browser console\r\n\r\nDo I need to use the Principal class instead or try to retrieve the username from somewhere else? What else could I be missing? Sorry if the questions aren&#39;t so great I am still learning on what proper questions to ask.\r\n\r\nHere is my method also my UserModel class does have the proper getters and setters.\r\n```\r\n    @GetMapping(&quot;/products&quot;)\r\n    public String getProducts(Model model, UserModel userModel) {\r\n        List&lt;ProductModel&gt; products = productService.getAllProducts();\r\n        model.addAttribute(&quot;products&quot;, products);\r\n        model.addAttribute(&quot;person&quot;, userModel.getUsername());\r\n        return &quot;products&quot;;\r\n    }\r\n```\r\n\r\nHere is my HTML code\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Products&lt;/title&gt;\r\n    &lt;!-- Add any necessary CSS or JavaScript files --&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;h1&gt;Products&lt;/h1&gt;\r\n    &lt;h2&gt;Welcome, &lt;span th:text=&quot;${userModel.Username}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;\r\n    &lt;table&gt;\r\n        &lt;thead&gt;\r\n            &lt;tr&gt;\r\n                &lt;th&gt;Name&lt;/th&gt;\r\n                &lt;th&gt;Price&lt;/th&gt;\r\n                &lt;th&gt;Availability&lt;/th&gt;\r\n                &lt;th&gt;Action&lt;/th&gt;\r\n            &lt;/tr&gt;\r\n        &lt;/thead&gt;\r\n        &lt;tbody&gt;\r\n            &lt;!-- Use Thymeleaf to iterate over the list of products --&gt;\r\n            &lt;tr th:each=&quot;product : ${products}&quot;&gt;\r\n                &lt;td th:text=&quot;${product.name}&quot;&gt;&lt;/td&gt;\r\n                &lt;td th:text=&quot;${product.price}&quot;&gt;&lt;/td&gt;\r\n                &lt;td th:text=&quot;${product.availability}&quot;&gt;&lt;/td&gt;\r\n                &lt;td&gt;\r\n                    &lt;a th:href=&quot;@{/productDetails/{id}(id=${product.id})}&quot;&gt;Details&lt;/a&gt; |\r\n                    &lt;a th:href=&quot;@{/updateProduct/{id}(id=${product.id})}&quot;&gt;Update&lt;/a&gt; |\r\n                    &lt;a th:href=&quot;@{/deleteProduct/{id}(id=${product.id})}&quot;&gt;Delete&lt;/a&gt;\r\n                &lt;/td&gt;\r\n            &lt;/tr&gt;\r\n        &lt;/tbody&gt;\r\n    &lt;/table&gt;\r\n    \r\n    &lt;p&gt;&lt;a th:href=&quot;@{/createProduct}&quot;&gt;Create Product&lt;/a&gt;&lt;/p&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nEdit:\r\nAlso when I run in debug mode and put a break on ``` model.addAttribute(&quot;person&quot;, userModel.getUsername());``` it tells me **0x000000080036c000.invokeVirtual(Object, Object, Object, Object) line: not available**\r\n","title":"Object not being passed to HTML file not being printed on Webpage","body":"<p>I am trying to print the username of the logged in person on my webpage and it is not printing the username. It just says <em>Welcome,</em>. I receive no errors in my console or on the web browser console</p>\n<p>Do I need to use the Principal class instead or try to retrieve the username from somewhere else? What else could I be missing? Sorry if the questions aren't so great I am still learning on what proper questions to ask.</p>\n<p>Here is my method also my UserModel class does have the proper getters and setters.</p>\n<pre><code>    @GetMapping(&quot;/products&quot;)\n    public String getProducts(Model model, UserModel userModel) {\n        List&lt;ProductModel&gt; products = productService.getAllProducts();\n        model.addAttribute(&quot;products&quot;, products);\n        model.addAttribute(&quot;person&quot;, userModel.getUsername());\n        return &quot;products&quot;;\n    }\n</code></pre>\n<p>Here is my HTML code</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Products&lt;/title&gt;\n    &lt;!-- Add any necessary CSS or JavaScript files --&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;Products&lt;/h1&gt;\n    &lt;h2&gt;Welcome, &lt;span th:text=&quot;${userModel.Username}&quot;&gt;&lt;/span&gt;&lt;/h2&gt;\n    &lt;table&gt;\n        &lt;thead&gt;\n            &lt;tr&gt;\n                &lt;th&gt;Name&lt;/th&gt;\n                &lt;th&gt;Price&lt;/th&gt;\n                &lt;th&gt;Availability&lt;/th&gt;\n                &lt;th&gt;Action&lt;/th&gt;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n            &lt;!-- Use Thymeleaf to iterate over the list of products --&gt;\n            &lt;tr th:each=&quot;product : ${products}&quot;&gt;\n                &lt;td th:text=&quot;${product.name}&quot;&gt;&lt;/td&gt;\n                &lt;td th:text=&quot;${product.price}&quot;&gt;&lt;/td&gt;\n                &lt;td th:text=&quot;${product.availability}&quot;&gt;&lt;/td&gt;\n                &lt;td&gt;\n                    &lt;a th:href=&quot;@{/productDetails/{id}(id=${product.id})}&quot;&gt;Details&lt;/a&gt; |\n                    &lt;a th:href=&quot;@{/updateProduct/{id}(id=${product.id})}&quot;&gt;Update&lt;/a&gt; |\n                    &lt;a th:href=&quot;@{/deleteProduct/{id}(id=${product.id})}&quot;&gt;Delete&lt;/a&gt;\n                &lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n    \n    &lt;p&gt;&lt;a th:href=&quot;@{/createProduct}&quot;&gt;Create Product&lt;/a&gt;&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Edit:\nAlso when I run in debug mode and put a break on <code> model.addAttribute(&quot;person&quot;, userModel.getUsername());</code> it tells me <strong>0x000000080036c000.invokeVirtual(Object, Object, Object, Object) line: not available</strong></p>\n"},{"tags":["java","spring-security"],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688943023,"creation_date":1688943023,"question_id":76649850,"body_markdown":"I&#39;d like to provide RestTemplate an `UserDetails` or alike class as authorization.\r\n```\r\n    public static ResponseEntity&lt;List&lt;EntityResponseDTO&gt;&gt; getAllEntitiesRequest(UserDetails loggedUser) {\r\n        HttpHeaders headers = new HttpHeaders();\r\n\r\n        // Credentials are shown!\r\n        headers.setBasicAuth(&quot;admin&quot;, &quot;admin&quot;);\r\n        \r\n        HttpEntity request = new HttpEntity(headers); \r\n        var response = restTemplate\r\n                .exchange(&quot;/api/admin/entity&quot;,\r\n                        HttpMethod.GET,\r\n                        request,\r\n                        new ParameterizedTypeReference&lt;List&lt;EntityResponseDTO&gt;&gt;() {\r\n                        });\r\n        return response;\r\n    }\r\n```\r\nI can provide this method with an already logged user, but I don&#39;t know how to provide RestTemplate with it. Can someone point me in the right direction?","title":"Send request through RestTemplate using UserDetails / Authentication class as basic auth","body":"<p>I'd like to provide RestTemplate an <code>UserDetails</code> or alike class as authorization.</p>\n<pre><code>    public static ResponseEntity&lt;List&lt;EntityResponseDTO&gt;&gt; getAllEntitiesRequest(UserDetails loggedUser) {\n        HttpHeaders headers = new HttpHeaders();\n\n        // Credentials are shown!\n        headers.setBasicAuth(&quot;admin&quot;, &quot;admin&quot;);\n        \n        HttpEntity request = new HttpEntity(headers); \n        var response = restTemplate\n                .exchange(&quot;/api/admin/entity&quot;,\n                        HttpMethod.GET,\n                        request,\n                        new ParameterizedTypeReference&lt;List&lt;EntityResponseDTO&gt;&gt;() {\n                        });\n        return response;\n    }\n</code></pre>\n<p>I can provide this method with an already logged user, but I don't know how to provide RestTemplate with it. Can someone point me in the right direction?</p>\n"},{"tags":["java","swing","jframe","jpanel"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1688686325,"post_id":76632991,"comment_id":135110962,"body_markdown":"A better overall solution is to make a dedicated look and feel","body":"A better overall solution is to make a dedicated look and feel"},{"owner":{"account_id":28760377,"reputation":1,"user_id":22026405,"display_name":"Shaun H"},"score":0,"creation_date":1688695806,"post_id":76632991,"comment_id":135111725,"body_markdown":"I&#39;m certain this is a good suggestion. It just requires learning something I don&#39;t know so it&#39;s taking time before I can implement and confirm it works!","body":"I&#39;m certain this is a good suggestion. It just requires learning something I don&#39;t know so it&#39;s taking time before I can implement and confirm it works!"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1688698810,"post_id":76632991,"comment_id":135111910,"body_markdown":"Look at it this way.  A look and feel delegate won&#39;t require to extend or otherwise modify pre-existing components.  The L&amp;F could be applied to existing components without the need to change the code and any changes you make to the L&amp;F will be reflected without changing the existing app code.  You might even just be able to get away with changing some of the default values been used by the existing L&amp;F to get your desired results","body":"Look at it this way.  A look and feel delegate won&#39;t require to extend or otherwise modify pre-existing components.  The L&amp;F could be applied to existing components without the need to change the code and any changes you make to the L&amp;F will be reflected without changing the existing app code.  You might even just be able to get away with changing some of the default values been used by the existing L&amp;F to get your desired results"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1688700986,"post_id":76632991,"comment_id":135112045,"body_markdown":"Re. your newly added code: there&#39;s too much here that I can&#39;t access to be able to make sense of this.  The class `NavButton` is used everywhere, for example, and a bunch of static methods on Main: `Main.getEmployeesIcon()`, `Main.getSettingsIcon()`, `Main.background()`, etc.  It would be necessary for you to post a [mcve] I think.","body":"Re. your newly added code: there&#39;s too much here that I can&#39;t access to be able to make sense of this.  The class <code>NavButton</code> is used everywhere, for example, and a bunch of static methods on Main: <code>Main.getEmployeesIcon()</code>, <code>Main.getSettingsIcon()</code>, <code>Main.background()</code>, etc.  It would be necessary for you to post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> I think."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1688705555,"post_id":76632991,"comment_id":135112391,"body_markdown":"Call setForeground(col) and setBackground(col2) on each component then call repaint() on each component.","body":"Call setForeground(col) and setBackground(col2) on each component then call repaint() on each component."},{"owner":{"account_id":28760377,"reputation":1,"user_id":22026405,"display_name":"Shaun H"},"score":0,"creation_date":1688882841,"post_id":76632991,"comment_id":135132091,"body_markdown":"@MadProgrammer So I&#39;ve spent some time teaching myself how to use flatlaf, and somehow it doesn&#39;t want to load my customized properties file, and has managed to break everything so even the layout doesn&#39;t work anymore. I&#39;ve gone from being unable to get my colors to update, to being unable to get any custom colors, elements don&#39;t work, my Panes are now layering under each other even though I&#39;m not using an IndexedFrame, and I&#39;m about to just huck the whole thing in the bin and say the user&#39;s getting dark mode and that&#39;s it. I appreciate the help, I&#39;m sure if I could make it work, it&#39;d be great","body":"@MadProgrammer So I&#39;ve spent some time teaching myself how to use flatlaf, and somehow it doesn&#39;t want to load my customized properties file, and has managed to break everything so even the layout doesn&#39;t work anymore. I&#39;ve gone from being unable to get my colors to update, to being unable to get any custom colors, elements don&#39;t work, my Panes are now layering under each other even though I&#39;m not using an IndexedFrame, and I&#39;m about to just huck the whole thing in the bin and say the user&#39;s getting dark mode and that&#39;s it. I appreciate the help, I&#39;m sure if I could make it work, it&#39;d be great"}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688684714,"creation_date":1688684714,"answer_id":76633006,"question_id":76632991,"body_markdown":"According to Oracle it&#39;s:\r\n\r\n**Changing the Look and Feel After Startup**\r\n\r\nYou can change the L&amp;F with setLookAndFeel even after the program&#39;s GUI is visible. To make existing components reflect the new L&amp;F, invoke the SwingUtilities updateComponentTreeUI method once per top-level container. Then you might wish to resize each top-level container to reflect the new sizes of its contained components. For example:\r\n\r\n    UIManager.setLookAndFeel(lnfName);\r\n    SwingUtilities.updateComponentTreeUI(frame);\r\n    frame.pack();\r\n\r\nhttps://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html#dynamic\r\n","title":"How do I force all Components in a JFrame to reacquire their Background property for light/dark mode purposes?","body":"<p>According to Oracle it's:</p>\n<p><strong>Changing the Look and Feel After Startup</strong></p>\n<p>You can change the L&amp;F with setLookAndFeel even after the program's GUI is visible. To make existing components reflect the new L&amp;F, invoke the SwingUtilities updateComponentTreeUI method once per top-level container. Then you might wish to resize each top-level container to reflect the new sizes of its contained components. For example:</p>\n<pre><code>UIManager.setLookAndFeel(lnfName);\nSwingUtilities.updateComponentTreeUI(frame);\nframe.pack();\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html#dynamic\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html#dynamic</a></p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688940298,"creation_date":1688940298,"answer_id":76649717,"question_id":76632991,"body_markdown":"Switching the look &amp; feel at run time is a fluke side effect and the API was never designed to actually support it, just beware that this could break in unexpected ways.\r\n\r\nThe &quot;real&quot; answer is to design for it from the start.  That is, design an actual look and feel which supports light and dark mode (or design two which can be switched between).  This allows you to define the &quot;default&quot; values every component should use and makes it significantly easier to switch between them.\r\n\r\nI mean, as yourself the question, if the background color has been defined programmatically, should you be changing it?\r\n\r\n&quot;Another&quot; solution would be to modify the default values used by the current look and feel.  This is some what problematic as not all look and feels use the same key sets to define there default values and don&#39;t even get me started on `JButton`.\r\n\r\nThe following is an overly simplified concept of the idea.  When I say &quot;simplified&quot;, I&#39;m not kidding.  There were some 719 key&#39;s been used by the `UIManager` and I didn&#39;t start looking at things like the `Border` properties.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.Color;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JRootPane;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.border.EmptyBorder;\r\n    import javax.swing.plaf.ColorUIResource;\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            new Test();\r\n        }\r\n\r\n        public Test() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n\r\n                add(new JLabel(&quot;Hello&quot;), gbc);\r\n                add(new JTextField(&quot;Some text&quot;, 20), gbc);\r\n\r\n                JButton flip = new JButton(&quot;Flip&quot;);\r\n                add(flip, gbc);\r\n\r\n                flip.addActionListener(new ActionListener() {\r\n                    private boolean isDark = false;\r\n\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        isDark = !isDark;\r\n                        System.out.println(&quot;IsDark &quot; + isDark);\r\n                        // It would be better to store the &quot;default&quot; values at launch,\r\n                        // to make it easier to switch back to\r\n                        UIManager.put(&quot;Panel.background&quot;, isDark ? new ColorUIResource(Color.BLACK) : new ColorUIResource(new Color(238, 238, 238)));\r\n\r\n                        UIManager.put(&quot;Label.foreground&quot;, isDark ? new ColorUIResource(Color.WHITE) : new ColorUIResource(Color.BLACK));\r\n                        UIManager.put(&quot;Label.disabledForeground&quot;, isDark ? new ColorUIResource(new Color(192, 192, 192)) : new ColorUIResource(Color.BLACK));\r\n                        UIManager.put(&quot;Label.background&quot;, isDark ? new ColorUIResource(Color.BLACK) : new ColorUIResource(new Color(238, 238, 238)));\r\n\r\n                        UIManager.put(&quot;TextField.background&quot;, isDark ? new ColorUIResource(new Color(64, 64, 64)) : new ColorUIResource(Color.WHITE));\r\n                        UIManager.put(&quot;TextField.foreground&quot;, isDark ? new ColorUIResource(Color.WHITE) : new ColorUIResource(Color.BLACK));\r\n\r\n                        SwingUtilities.updateComponentTreeUI(TestPane.this);\r\n\r\n                        JRootPane rootPane = SwingUtilities.getRootPane(TestPane.this);\r\n                        if (rootPane == null) {\r\n                            return;\r\n                        }\r\n                        rootPane.updateUI();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eSsDP.gif\r\n\r\nYou might also consider having a look around and seeing what else is available.\r\n\r\nFor example...\r\n\r\n* [FlatLaf](https://www.formdev.com/flatlaf/)\r\n* [Darklaf](https://github.com/weisJ/darklaf)\r\n* [Darcula](https://github.com/bulenkov/Darcula)","title":"How do I force all Components in a JFrame to reacquire their Background property for light/dark mode purposes?","body":"<p>Switching the look &amp; feel at run time is a fluke side effect and the API was never designed to actually support it, just beware that this could break in unexpected ways.</p>\n<p>The &quot;real&quot; answer is to design for it from the start.  That is, design an actual look and feel which supports light and dark mode (or design two which can be switched between).  This allows you to define the &quot;default&quot; values every component should use and makes it significantly easier to switch between them.</p>\n<p>I mean, as yourself the question, if the background color has been defined programmatically, should you be changing it?</p>\n<p>&quot;Another&quot; solution would be to modify the default values used by the current look and feel.  This is some what problematic as not all look and feels use the same key sets to define there default values and don't even get me started on <code>JButton</code>.</p>\n<p>The following is an overly simplified concept of the idea.  When I say &quot;simplified&quot;, I'm not kidding.  There were some 719 key's been used by the <code>UIManager</code> and I didn't start looking at things like the <code>Border</code> properties.</p>\n<p><a href=\"https://i.stack.imgur.com/eSsDP.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eSsDP.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Color;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JRootPane;\nimport javax.swing.JTextField;\nimport javax.swing.SwingUtilities;\nimport javax.swing.UIManager;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.plaf.ColorUIResource;\n\npublic class Test {\n    public static void main(String[] args) {\n        new Test();\n    }\n\n    public Test() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n\n            add(new JLabel(&quot;Hello&quot;), gbc);\n            add(new JTextField(&quot;Some text&quot;, 20), gbc);\n\n            JButton flip = new JButton(&quot;Flip&quot;);\n            add(flip, gbc);\n\n            flip.addActionListener(new ActionListener() {\n                private boolean isDark = false;\n\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    isDark = !isDark;\n                    System.out.println(&quot;IsDark &quot; + isDark);\n                    // It would be better to store the &quot;default&quot; values at launch,\n                    // to make it easier to switch back to\n                    UIManager.put(&quot;Panel.background&quot;, isDark ? new ColorUIResource(Color.BLACK) : new ColorUIResource(new Color(238, 238, 238)));\n\n                    UIManager.put(&quot;Label.foreground&quot;, isDark ? new ColorUIResource(Color.WHITE) : new ColorUIResource(Color.BLACK));\n                    UIManager.put(&quot;Label.disabledForeground&quot;, isDark ? new ColorUIResource(new Color(192, 192, 192)) : new ColorUIResource(Color.BLACK));\n                    UIManager.put(&quot;Label.background&quot;, isDark ? new ColorUIResource(Color.BLACK) : new ColorUIResource(new Color(238, 238, 238)));\n\n                    UIManager.put(&quot;TextField.background&quot;, isDark ? new ColorUIResource(new Color(64, 64, 64)) : new ColorUIResource(Color.WHITE));\n                    UIManager.put(&quot;TextField.foreground&quot;, isDark ? new ColorUIResource(Color.WHITE) : new ColorUIResource(Color.BLACK));\n\n                    SwingUtilities.updateComponentTreeUI(TestPane.this);\n\n                    JRootPane rootPane = SwingUtilities.getRootPane(TestPane.this);\n                    if (rootPane == null) {\n                        return;\n                    }\n                    rootPane.updateUI();\n                }\n            });\n        }\n    }\n}\n</code></pre>\n<p>You might also consider having a look around and seeing what else is available.</p>\n<p>For example...</p>\n<ul>\n<li><a href=\"https://www.formdev.com/flatlaf/\" rel=\"nofollow noreferrer\">FlatLaf</a></li>\n<li><a href=\"https://github.com/weisJ/darklaf\" rel=\"nofollow noreferrer\">Darklaf</a></li>\n<li><a href=\"https://github.com/bulenkov/Darcula\" rel=\"nofollow noreferrer\">Darcula</a></li>\n</ul>\n"}],"owner":{"account_id":28760377,"reputation":1,"user_id":22026405,"display_name":"Shaun H"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688940298,"creation_date":1688684356,"question_id":76632991,"body_markdown":"I am trying to write an application which, for UX purposes, I want the UI to have a light mode and a dark mode... as a result, I have two color variables, and I have a getForeground() and a getBackground() that returns the appropriate colors, based on the setting of my boolean DarkMode. What I would like is to find a way to make the existing components in the window re-initialize their settings, IE: reset Background and Foreground, without having to dispose and reopen the frame. My button works to toggle the flag, and new panels opened and drawn after it&#39;s clicked are properly toggled between light and dark mode, but I can&#39;t figure out how to make the less-often-updated panels redraw themselves without loosing their current contents. \r\n\r\nI have tried using \r\n`frame.invalidate();\r\nframe.validate();\r\nframe.repaint();`\r\n\r\nI have also tried \r\n`frame.setVisible(false);\r\nframe.setVisible(true);`\r\n\r\nand both those options on the JPanels as well, nothing changes the existing color palette save moving to a different panel. I feel like there must be something simple I&#39;m missing.\r\n\r\n    JPanel navPanel = new JPanel();//Navigation panel for the left side of the app\r\n\t\t/*\r\n\t\t * buttons for broad concept areas of the application to be always pinned at the left\r\n\t\t */\r\n\t\tNavButton employeeButton = new NavButton(&quot;Employees&quot;, Main.getEmployeesIcon());\r\n\t\tNavButton settingsButton = new NavButton(&quot;Settings&quot;, Main.getSettingsIcon());\r\n\t\tNavButton scheduleButton = new NavButton(&quot;Schedules&quot;, Main.getScheduleIcon());\r\n\t\tNavButton saveButton = new NavButton(&quot;Save Data&quot;, Main.getSaveIcon());\r\n\t\t\r\n\t\tnavPanel.setBackground(Main.background());\r\n\t\tnavPanel.setOpaque(true);\r\n\t\tnavPanel.setBorder(BorderFactory.createEtchedBorder(EtchedBorder.RAISED));\r\n\t\tnavPanel.setPreferredSize(new Dimension(180,180));\r\n\t\tnavPanel.add(employeeButton);\r\n\t\tnavPanel.add(scheduleButton);\r\n\t\tnavPanel.add(saveButton);\r\n\t\tnavPanel.add(settingsButton);\r\n\t\tnavPanel.add(new NavButton(&quot;Mode Change&quot;, Main.getSaveIcon()) {\r\n\t\t\t{\r\n\t\t\t\taddActionListener(ae -&gt;{\r\n\t\t\t\t\tMain.toggleDarkMode();\r\n\t\t\t\t\tSwingUtilities.updateComponentTreeUI(mainWindow);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});","title":"How do I force all Components in a JFrame to reacquire their Background property for light/dark mode purposes?","body":"<p>I am trying to write an application which, for UX purposes, I want the UI to have a light mode and a dark mode... as a result, I have two color variables, and I have a getForeground() and a getBackground() that returns the appropriate colors, based on the setting of my boolean DarkMode. What I would like is to find a way to make the existing components in the window re-initialize their settings, IE: reset Background and Foreground, without having to dispose and reopen the frame. My button works to toggle the flag, and new panels opened and drawn after it's clicked are properly toggled between light and dark mode, but I can't figure out how to make the less-often-updated panels redraw themselves without loosing their current contents.</p>\n<p>I have tried using\n<code>frame.invalidate(); frame.validate(); frame.repaint();</code></p>\n<p>I have also tried\n<code>frame.setVisible(false); frame.setVisible(true);</code></p>\n<p>and both those options on the JPanels as well, nothing changes the existing color palette save moving to a different panel. I feel like there must be something simple I'm missing.</p>\n<pre><code>JPanel navPanel = new JPanel();//Navigation panel for the left side of the app\n    /*\n     * buttons for broad concept areas of the application to be always pinned at the left\n     */\n    NavButton employeeButton = new NavButton(&quot;Employees&quot;, Main.getEmployeesIcon());\n    NavButton settingsButton = new NavButton(&quot;Settings&quot;, Main.getSettingsIcon());\n    NavButton scheduleButton = new NavButton(&quot;Schedules&quot;, Main.getScheduleIcon());\n    NavButton saveButton = new NavButton(&quot;Save Data&quot;, Main.getSaveIcon());\n    \n    navPanel.setBackground(Main.background());\n    navPanel.setOpaque(true);\n    navPanel.setBorder(BorderFactory.createEtchedBorder(EtchedBorder.RAISED));\n    navPanel.setPreferredSize(new Dimension(180,180));\n    navPanel.add(employeeButton);\n    navPanel.add(scheduleButton);\n    navPanel.add(saveButton);\n    navPanel.add(settingsButton);\n    navPanel.add(new NavButton(&quot;Mode Change&quot;, Main.getSaveIcon()) {\n        {\n            addActionListener(ae -&gt;{\n                Main.toggleDarkMode();\n                SwingUtilities.updateComponentTreeUI(mainWindow);\n            });\n        }\n    });\n</code></pre>\n"},{"tags":["java","json","csv","jackson","csvmapper"],"owner":{"account_id":13241139,"reputation":21,"user_id":9561601,"display_name":"rairai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688940138,"creation_date":1688936927,"question_id":76649535,"body_markdown":"Problem is let&#39;s say the parameter Json String is\r\n```\r\n{\r\n  &quot;FIRST_NAME&quot;:&quot;Bob&quot;,\r\n  &quot;LAST_NAME&quot;: &quot;Tuna&quot;\r\n}\r\n```\r\n\r\nin my myCsvHeaders.getList() method in the for loop, I would have to make 2 variables (basically matching the json key names, case sensitive so it knows to retrieve those data for this specific column)\r\n```\r\nString FIRST_NAME\r\nString LAST_NAME\r\n``` \r\nOnce it writes the .csv file the headers/column will be FIRST_NAME LAST_NAME.\r\n\r\nBut, is there a way to change the headers to what I want ie. &quot;First Name&quot; &quot;Last Name&quot;.\r\n```\r\npublic void jsonToCsv(String json) {\r\nObjectMapper om = new ObjectMapper();\r\ntry {\r\n    JsonNode jsonTree = om.readTree(json);\r\n    Builder csvSchemaBuilder = CsvSchema.builder();\r\n    \r\n    // myCsvHeaders.getList() is basically list of Strings of headers I want\r\n    for(String csvHeaders : myCsvHeaders.getList()) {\r\n        csvSchemaBuilder.addColumn(csvHeaders);\r\n    }\r\n\r\n    CsvSchema csvMapper= csvSchemaBuilder.build().withHeader();\r\n    csvMapper.enable(JsonGenerator.Feature.IGNORE_UNKNOWN);\r\n    csvMapper.writerFor(JsonNode.class)\r\n    .with(csvSchema)\r\n    .writeValue(new File(&quot;randomlocation/test.csv&quot;), jsonTree);\r\n    catch(Exception e) {\r\n    e.printStackTrace();\r\n    }\r\n\r\n   }\r\n}","title":"Java How to change headers after converting JSON to .CSV file using CsvSchema, CsvBuilder and CsvMapper","body":"<p>Problem is let's say the parameter Json String is</p>\n<pre><code>{\n  &quot;FIRST_NAME&quot;:&quot;Bob&quot;,\n  &quot;LAST_NAME&quot;: &quot;Tuna&quot;\n}\n</code></pre>\n<p>in my myCsvHeaders.getList() method in the for loop, I would have to make 2 variables (basically matching the json key names, case sensitive so it knows to retrieve those data for this specific column)</p>\n<pre><code>String FIRST_NAME\nString LAST_NAME\n</code></pre>\n<p>Once it writes the .csv file the headers/column will be FIRST_NAME LAST_NAME.</p>\n<p>But, is there a way to change the headers to what I want ie. &quot;First Name&quot; &quot;Last Name&quot;.</p>\n<pre><code>public void jsonToCsv(String json) {\nObjectMapper om = new ObjectMapper();\ntry {\n    JsonNode jsonTree = om.readTree(json);\n    Builder csvSchemaBuilder = CsvSchema.builder();\n    \n    // myCsvHeaders.getList() is basically list of Strings of headers I want\n    for(String csvHeaders : myCsvHeaders.getList()) {\n        csvSchemaBuilder.addColumn(csvHeaders);\n    }\n\n    CsvSchema csvMapper= csvSchemaBuilder.build().withHeader();\n    csvMapper.enable(JsonGenerator.Feature.IGNORE_UNKNOWN);\n    csvMapper.writerFor(JsonNode.class)\n    .with(csvSchema)\n    .writeValue(new File(&quot;randomlocation/test.csv&quot;), jsonTree);\n    catch(Exception e) {\n    e.printStackTrace();\n    }\n\n   }\n}\n</code></pre>\n"},{"tags":["javascript","java","angularjs","spring","spring-boot"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1688939930,"post_id":76649231,"comment_id":135138318,"body_markdown":"What specifically are you talking about? What does Netflix &quot;have&quot;? Most times you watch a video and there&#39;s something blurred out that&#39;s during video production. To blur a screen you have to blur all the important parts, not just web content.","body":"What specifically are you talking about? What does Netflix &quot;have&quot;? Most times you watch a video and there&#39;s something blurred out that&#39;s during video production. To blur a screen you have to blur all the important parts, not just web content."}],"answers":[{"tags":[],"owner":{"account_id":28744420,"reputation":21,"user_id":22013879,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688938380,"creation_date":1688938264,"answer_id":76649610,"question_id":76649231,"body_markdown":"Try css blur. There are also many answers on stack overflow for how to do this.\r\n\r\nhttps://developer.mozilla.org/en-US/docs/Web/CSS/filter-function/blur\r\n\r\n    style=&quot;filter: blur(4px);&quot;\r\n\r\n\r\n \r\n\r\n","title":"Bluring a content on a website during screenshots/recordings","body":"<p>Try css blur. There are also many answers on stack overflow for how to do this.</p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/filter-function/blur\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/CSS/filter-function/blur</a></p>\n<pre><code>style=&quot;filter: blur(4px);&quot;\n</code></pre>\n"}],"owner":{"account_id":28982638,"reputation":11,"user_id":22200152,"display_name":"CyberLight 64"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1688938380,"creation_date":1688932189,"question_id":76649231,"body_markdown":"I&#39;ve been coding a messenger, and a few days ago I came across netflix&#39;s protection against screnshots and screen recordings, and I wonder, how did they do it? I tried searching it online, read a bunch of forums, but found nothing, and everyone says that this is impossible, though netflix has it, and it works in most cases. I&#39;ve got spring boot/security backend, and angularjs frontend for my website. Does anyone know how to implement this mechanic into a website?\r\n","title":"Bluring a content on a website during screenshots/recordings","body":"<p>I've been coding a messenger, and a few days ago I came across netflix's protection against screnshots and screen recordings, and I wonder, how did they do it? I tried searching it online, read a bunch of forums, but found nothing, and everyone says that this is impossible, though netflix has it, and it works in most cases. I've got spring boot/security backend, and angularjs frontend for my website. Does anyone know how to implement this mechanic into a website?</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688937083,"creation_date":1688937083,"answer_id":76649547,"question_id":76649486,"body_markdown":"this would work only if you are in a transactional context with managed entity, then changing properties will be reflexed to db table at the end of the transaction. otherwise you would need to call save on the changed object\r\n ","title":"update a table&#39;s row in Hibernate","body":"<p>this would work only if you are in a transactional context with managed entity, then changing properties will be reflexed to db table at the end of the transaction. otherwise you would need to call save on the changed object</p>\n"}],"owner":{"account_id":27134413,"reputation":1,"user_id":20676145,"display_name":"nowheresTraveller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688937083,"creation_date":1688936277,"question_id":76649486,"body_markdown":"I&#39;ve tried to update a row of my db&#39;s entity &#39;product&#39; (with id=1) in this way:\r\n\r\n\r\n```\r\nProductDao productDao = new ProductDaoImpl(manager);\r\nProduct product= productDao.retrieveById(1);\r\nproduct.setName(&quot;TV 4k&quot;);\r\n```\r\n\r\n\r\n\r\nconsidering hibernate specifics, I except after &#39;product.setName(&quot;TV 4k&quot;)&#39; statement that the table&#39;s relative row is going to be changed (the attribute&#39;s value &#39;name&#39;), but It doesn&#39;t work.\r\nI can update entity&#39;s rows only by EntityManager object or by other hibernate object (like Session object)?","title":"update a table&#39;s row in Hibernate","body":"<p>I've tried to update a row of my db's entity 'product' (with id=1) in this way:</p>\n<pre><code>ProductDao productDao = new ProductDaoImpl(manager);\nProduct product= productDao.retrieveById(1);\nproduct.setName(&quot;TV 4k&quot;);\n</code></pre>\n<p>considering hibernate specifics, I except after 'product.setName(&quot;TV 4k&quot;)' statement that the table's relative row is going to be changed (the attribute's value 'name'), but It doesn't work.\nI can update entity's rows only by EntityManager object or by other hibernate object (like Session object)?</p>\n"},{"tags":["java","hibernate","jpa","orm"],"owner":{"account_id":2533709,"reputation":1497,"user_id":2201382,"accept_rate":93,"display_name":"Abu Sulaiman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688935651,"creation_date":1688935016,"question_id":76649413,"body_markdown":"Is it possible to map an entity using a field where its value is within two column values of the entity being mapped. For example this doesn&#39;t work but it shows what i want to do:\r\n\r\n    public class Player {\r\n       \r\n       @Column(name = &quot;TYPE&quot;)\r\n       private String type;\r\n\r\n       @Column(name = &quot;EARNED_COUNT&quot;)\r\n       private Long earnedCount;\r\n\r\n       @ManyToOne\r\n       @JoinColumnsOrFormulas({\r\n            @JoinColumnOrFormula(column = @JoinColumn(name = &quot;TYPE&quot;, referencedColumnName = &quot;TYPE&quot;, insertable = false,updatable=false)),\r\n            @JoinColumnOrFormula(formula = @JoinFormula(value = &quot;earnedCount &lt;= upperLimit&quot;,referencedColumnName = &quot;UPPER_LIMIT&quot;)),\r\n            @JoinColumnOrFormula(formula = @JoinFormula(value = &quot;earnedCount &gt;= upperLimit&quot;,referencedColumnName = &quot;LOWER_LIMIT&quot;))\r\n       })\r\n       private Capability capability;\r\n\r\n    }\r\n\r\n    public class Capability {\r\n\r\n       @Column(name = &quot;TYPE&quot;)\r\n       private String type;\r\n\r\n       @Column(name = &quot;LOWER_LIMIT&quot;)\r\n       private Long lowerLimit;\r\n\r\n       @Column(name = &quot;UPPER_LIMIT&quot;)\r\n       private Long upperLimit;\r\n    }\r\n\r\nIf this particular method is not possible, is there any other way to do this as a mapping?","title":"How to map two hibernate entities using logical operators other than equals","body":"<p>Is it possible to map an entity using a field where its value is within two column values of the entity being mapped. For example this doesn't work but it shows what i want to do:</p>\n<pre><code>public class Player {\n   \n   @Column(name = &quot;TYPE&quot;)\n   private String type;\n\n   @Column(name = &quot;EARNED_COUNT&quot;)\n   private Long earnedCount;\n\n   @ManyToOne\n   @JoinColumnsOrFormulas({\n        @JoinColumnOrFormula(column = @JoinColumn(name = &quot;TYPE&quot;, referencedColumnName = &quot;TYPE&quot;, insertable = false,updatable=false)),\n        @JoinColumnOrFormula(formula = @JoinFormula(value = &quot;earnedCount &lt;= upperLimit&quot;,referencedColumnName = &quot;UPPER_LIMIT&quot;)),\n        @JoinColumnOrFormula(formula = @JoinFormula(value = &quot;earnedCount &gt;= upperLimit&quot;,referencedColumnName = &quot;LOWER_LIMIT&quot;))\n   })\n   private Capability capability;\n\n}\n\npublic class Capability {\n\n   @Column(name = &quot;TYPE&quot;)\n   private String type;\n\n   @Column(name = &quot;LOWER_LIMIT&quot;)\n   private Long lowerLimit;\n\n   @Column(name = &quot;UPPER_LIMIT&quot;)\n   private Long upperLimit;\n}\n</code></pre>\n<p>If this particular method is not possible, is there any other way to do this as a mapping?</p>\n"},{"tags":["java","docker"],"comments":[{"owner":{"account_id":3989434,"reputation":55891,"user_id":3288890,"accept_rate":43,"display_name":"Adiii"},"score":0,"creation_date":1574328989,"post_id":58971382,"comment_id":104196946,"body_markdown":"`&lt;none&gt;              &lt;none&gt;              30e2325fcf15        18 hours ago        1.68GB` this does not seems intermediate layer but it seems the complete image which mark none after rebuild with same tag. all you need to specify different build name to avoid marking them `none`. or `ocker build -t &quot;my_image$(date +%N)&quot;  .`","body":"<code>&lt;none&gt;              &lt;none&gt;              30e2325fcf15        18 hours ago        1.68GB</code> this does not seems intermediate layer but it seems the complete image which mark none after rebuild with same tag. all you need to specify different build name to avoid marking them <code>none</code>. or <code>ocker build -t &quot;my_image$(date +%N)&quot;  .</code>"},{"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"score":0,"creation_date":1574329507,"post_id":58971382,"comment_id":104197279,"body_markdown":"@Adiii its intermediate container or something like this because if I leave only one section ```FROM``` in my dockerfile all is good no ```none``` images in docker.","body":"@Adiii its intermediate container or something like this because if I leave only one section <code>FROM</code> in my dockerfile all is good no <code>none</code> images in docker."},{"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"score":0,"creation_date":1574329630,"post_id":58971382,"comment_id":104197357,"body_markdown":"@Adiii try to write ```dockerfile``` in a multistage format where located at least two ```FROM``` section and build it and after that run command ```docker images ls``` in the terminal and you&#39;ll see ```none``` images.","body":"@Adiii try to write <code>dockerfile</code> in a multistage format where located at least two <code>FROM</code> section and build it and after that run command <code>docker images ls</code> in the terminal and you&#39;ll see <code>none</code> images."},{"owner":{"account_id":3989434,"reputation":55891,"user_id":3288890,"accept_rate":43,"display_name":"Adiii"},"score":0,"creation_date":1574329690,"post_id":58971382,"comment_id":104197390,"body_markdown":"is there any specific need to tag them? you can set label to these intermediate image.","body":"is there any specific need to tag them? you can set label to these intermediate image."},{"owner":{"account_id":3989434,"reputation":55891,"user_id":3288890,"accept_rate":43,"display_name":"Adiii"},"score":0,"creation_date":1574330467,"post_id":58971382,"comment_id":104197927,"body_markdown":"https://www.projectatomic.io/blog/2015/07/what-are-docker-none-none-images/","body":"<a href=\"https://www.projectatomic.io/blog/2015/07/what-are-docker-none-none-images/\" rel=\"nofollow noreferrer\">projectatomic.io/blog/2015/07/what-are-docker-none-none-imag&zwnj;&#8203;es</a>"},{"owner":{"account_id":7212945,"reputation":266,"user_id":5506379,"accept_rate":17,"display_name":"Kemy"},"score":0,"creation_date":1600766263,"post_id":58971382,"comment_id":113184013,"body_markdown":"Or you can add a label to that image: https://forums.docker.com/t/tag-intermediate-build-stages-multi-stage-build/34795","body":"Or you can add a label to that image: <a href=\"https://forums.docker.com/t/tag-intermediate-build-stages-multi-stage-build/34795\" rel=\"nofollow noreferrer\">forums.docker.com/t/&hellip;</a>"},{"owner":{"account_id":462919,"reputation":7373,"user_id":865505,"accept_rate":98,"display_name":"Martijn Burger"},"score":0,"creation_date":1613475162,"post_id":58971382,"comment_id":117080390,"body_markdown":"Adding a label to the image will change the image, so then there will be a new intermediate builder created when building the Dockerfile. The correct answer is you cannot tag an intermediate image. I would consider the accepted answer below a workaround.","body":"Adding a label to the image will change the image, so then there will be a new intermediate builder created when building the Dockerfile. The correct answer is you cannot tag an intermediate image. I would consider the accepted answer below a workaround."}],"answers":[{"tags":[],"owner":{"account_id":13625886,"reputation":420,"user_id":9829169,"display_name":"samk"},"down_vote_count":1,"up_vote_count":12,"is_accepted":true,"score":11,"last_activity_date":1643123973,"creation_date":1574345780,"answer_id":58977023,"question_id":58971382,"body_markdown":"you can use ```docker build -t image_name ``` to tag the image.But intermediate images will have ```&lt;none&gt;``` as the image name.\r\n\r\n```&lt;none&gt;``` images are formed as part of the multistage builds. If there are multiple FROM in your dockerfile then building image will create multiple images along with ```&lt;none&gt;``` images which are intermediate images used by main image.\r\n\r\nfor example\r\n\r\ndockerfile:\r\n```\r\n$ cat dockerfile\r\nFROM ubuntu:18.04 AS compile-image\r\nRUN apt-get update\r\nRUN apt-get install -y --no-install-recommends gcc build-essential\r\nWORKDIR /root\r\nCOPY . hello.c\r\nRUN mkdir -p helloworld hello.c\r\n\r\nFROM ubuntu:18.04 AS runtime-image\r\nCOPY --from=compile-image /root/helloworld .\r\nCMD [&quot;./helloworld&quot;]\r\n```\r\nIn the above dockerfile I am using ubuntu:18.04 as intermediate image which is used again in the **COPY** command above.\r\nHERE ```COPY --from=compile-image /root/helloworld .```\r\n\r\nSo When I build an image using above dockerfile by command \r\n```\r\n$ sudo docker build -t sample_image .\r\n```\r\nThe above command will create two images as below.\r\n```\r\n$ sudo docker images\r\nREPOSITORY          TAG                 IMAGE ID            CREATED              SIZE\r\nsample_image        latest              32b62676d8b8        About a minute ago   64.2MB\r\n&lt;none&gt;              &lt;none&gt;              dfb370218e54        About a minute ago   282MB\r\n```\r\n\r\n```&lt;none&gt;``` is an intermediate image. which is again internally used in the dockerfile.\r\n\r\nnow the solution for your question would be creating two docker files and using them separately. \r\n\r\nFor example, the above dockerfile can be divided into two dockerfiles and can be used to create separate images without any intermediate image.\r\n\r\ndockerfile 1:\r\n```\r\n$ sudo vi dockerfile\r\n$ sudo cat dockerfile\r\nFROM ubuntu:18.04 AS compile-image\r\nRUN apt-get update\r\nRUN apt-get install -y --no-install-recommends gcc build-essential\r\nWORKDIR /root\r\nCOPY . hello.c\r\nRUN mkdir -p helloworld hello.c\r\n\r\n```\r\nand execute\r\n```$ sudo docker build -t compile_image .```\r\n\r\nby changing docker file again \r\n\r\ndocker file 2:\r\n```\r\n$ sudo vi dockerfile\r\n$ sudo cat dockerfile\r\nFROM ubuntu:18.04\r\nCOPY --from=compile_image /root/helloworld .\r\nCMD [&quot;./helloworld&quot;]\r\n\r\n```\r\n\r\nand execute: ```$ sudo docker build -t runtime_image .```\r\n\r\nthe output will not have intermediate images. Hence no ```&lt;none&gt;``` images.\r\n\r\n\r\n```\r\n$ sudo docker images\r\nREPOSITORY          TAG                 IMAGE ID            CREATED              SIZE\r\ncompile_image       latest              b580efe23dad        About a minute ago   282MB\r\nruntime_image       latest              32b62676d8b8        3 minutes ago        64.2MB\r\n```\r\n\r\n**FYI:** In second docker file, I used previously build image **compile_image** in **COPY** command \r\n\r\n  ```COPY --from=compile_image /root/helloworld .```\r\n\r\n\r\nHere compile_image acts like an intermediate image.\r\n\r\n\r\nIf you observe previous images the memory occupied by ```&lt;none&gt;``` and compile_image are same and sample_image and runtime_image are the same. The main purpose of using the multistage builds is to reduce the size of an image.\r\n\r\n","title":"How to give name or tag for intermediate image?","body":"<p>you can use <code>docker build -t image_name </code> to tag the image.But intermediate images will have <code>&lt;none&gt;</code> as the image name.</p>\n<p><code>&lt;none&gt;</code> images are formed as part of the multistage builds. If there are multiple FROM in your dockerfile then building image will create multiple images along with <code>&lt;none&gt;</code> images which are intermediate images used by main image.</p>\n<p>for example</p>\n<p>dockerfile:</p>\n<pre><code>$ cat dockerfile\nFROM ubuntu:18.04 AS compile-image\nRUN apt-get update\nRUN apt-get install -y --no-install-recommends gcc build-essential\nWORKDIR /root\nCOPY . hello.c\nRUN mkdir -p helloworld hello.c\n\nFROM ubuntu:18.04 AS runtime-image\nCOPY --from=compile-image /root/helloworld .\nCMD [&quot;./helloworld&quot;]\n</code></pre>\n<p>In the above dockerfile I am using ubuntu:18.04 as intermediate image which is used again in the <strong>COPY</strong> command above.\nHERE <code>COPY --from=compile-image /root/helloworld .</code></p>\n<p>So When I build an image using above dockerfile by command</p>\n<pre><code>$ sudo docker build -t sample_image .\n</code></pre>\n<p>The above command will create two images as below.</p>\n<pre><code>$ sudo docker images\nREPOSITORY          TAG                 IMAGE ID            CREATED              SIZE\nsample_image        latest              32b62676d8b8        About a minute ago   64.2MB\n&lt;none&gt;              &lt;none&gt;              dfb370218e54        About a minute ago   282MB\n</code></pre>\n<p><code>&lt;none&gt;</code> is an intermediate image. which is again internally used in the dockerfile.</p>\n<p>now the solution for your question would be creating two docker files and using them separately.</p>\n<p>For example, the above dockerfile can be divided into two dockerfiles and can be used to create separate images without any intermediate image.</p>\n<p>dockerfile 1:</p>\n<pre><code>$ sudo vi dockerfile\n$ sudo cat dockerfile\nFROM ubuntu:18.04 AS compile-image\nRUN apt-get update\nRUN apt-get install -y --no-install-recommends gcc build-essential\nWORKDIR /root\nCOPY . hello.c\nRUN mkdir -p helloworld hello.c\n\n</code></pre>\n<p>and execute\n<code>$ sudo docker build -t compile_image .</code></p>\n<p>by changing docker file again</p>\n<p>docker file 2:</p>\n<pre><code>$ sudo vi dockerfile\n$ sudo cat dockerfile\nFROM ubuntu:18.04\nCOPY --from=compile_image /root/helloworld .\nCMD [&quot;./helloworld&quot;]\n\n</code></pre>\n<p>and execute: <code>$ sudo docker build -t runtime_image .</code></p>\n<p>the output will not have intermediate images. Hence no <code>&lt;none&gt;</code> images.</p>\n<pre><code>$ sudo docker images\nREPOSITORY          TAG                 IMAGE ID            CREATED              SIZE\ncompile_image       latest              b580efe23dad        About a minute ago   282MB\nruntime_image       latest              32b62676d8b8        3 minutes ago        64.2MB\n</code></pre>\n<p><strong>FYI:</strong> In second docker file, I used previously build image <strong>compile_image</strong> in <strong>COPY</strong> command</p>\n<p><code>COPY --from=compile_image /root/helloworld .</code></p>\n<p>Here compile_image acts like an intermediate image.</p>\n<p>If you observe previous images the memory occupied by <code>&lt;none&gt;</code> and compile_image are same and sample_image and runtime_image are the same. The main purpose of using the multistage builds is to reduce the size of an image.</p>\n"},{"tags":[],"owner":{"account_id":14899328,"reputation":314,"user_id":10758601,"display_name":"mierzwid"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1607446372,"creation_date":1607446372,"answer_id":65203301,"question_id":58971382,"body_markdown":"You can use the `--target` keyword to build just a specific stage:\r\n\r\n`docker build --target compile-image --tag compile-image:0.0.1 .`","title":"How to give name or tag for intermediate image?","body":"<p>You can use the <code>--target</code> keyword to build just a specific stage:</p>\n<p><code>docker build --target compile-image --tag compile-image:0.0.1 .</code></p>\n"},{"tags":[],"owner":{"account_id":8882795,"reputation":2233,"user_id":6632214,"display_name":"TheDiveO"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1688934294,"creation_date":1609233908,"answer_id":65489996,"question_id":58971382,"body_markdown":"This Docker forum [post suggest to use labels][1] as follows:\r\n\r\n&gt; For anyone that is interested in something similar, I’ve found a\r\n&gt; workaround for now.\r\n&gt; \r\n&gt; Using the `LABEL` command in my dockerfile I added a label to the build\r\n&gt; stage I’m interested in, then filter for it later:\r\n&gt; \r\n&gt; ```\r\n&gt; FROM node AS builder-stage\r\n&gt; LABEL builder=true\r\n&gt; ```\r\n&gt; \r\n&gt; ```\r\n&gt; FROM node AS app-stage\r\n&gt; LABEL builder=false\r\n&gt; ```\r\n&gt; \r\n&gt; Now to filter, sort newest first, cut out the date, and take the top\r\n&gt; row: `docker images --filter “label=builder=true” --format  ‘{{.CreatedAt}}\\t{{.ID}}’ | sort -nr | head -n 1 | cut -f2`\r\n&gt; \r\n&gt; Note that it is important to remove the label in the next build stage.\r\n\r\n\r\n  [1]: https://forums.docker.com/t/tag-intermediate-build-stages-multi-stage-build/34795/2","title":"How to give name or tag for intermediate image?","body":"<p>This Docker forum <a href=\"https://forums.docker.com/t/tag-intermediate-build-stages-multi-stage-build/34795/2\" rel=\"nofollow noreferrer\">post suggest to use labels</a> as follows:</p>\n<blockquote>\n<p>For anyone that is interested in something similar, I’ve found a\nworkaround for now.</p>\n<p>Using the <code>LABEL</code> command in my dockerfile I added a label to the build\nstage I’m interested in, then filter for it later:</p>\n<pre><code>FROM node AS builder-stage\nLABEL builder=true\n</code></pre>\n<pre><code>FROM node AS app-stage\nLABEL builder=false\n</code></pre>\n<p>Now to filter, sort newest first, cut out the date, and take the top\nrow: <code>docker images --filter “label=builder=true” --format  ‘{{.CreatedAt}}\\t{{.ID}}’ | sort -nr | head -n 1 | cut -f2</code></p>\n<p>Note that it is important to remove the label in the next build stage.</p>\n</blockquote>\n"}],"owner":{"account_id":14961660,"reputation":1403,"user_id":10801227,"display_name":"John"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9859,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":58977023,"answer_count":3,"score":14,"last_activity_date":1688934294,"creation_date":1574328336,"question_id":58971382,"body_markdown":"I used docker to build my Java application and I using the multi-stage building and I have some problems every time when I run the docker command for building the docker creates new intermediate image with tag and name ```none``` and I need the possibility to called intermediate containers.\r\n\r\nThat is my dockerfile:\r\n```\r\nFROM jdk8_201-ubuntu16.04 as java_build\r\nRUN apt-get update &amp;&amp; \\\r\n    apt-get install -y dos2unix\r\n\r\nARG MVN_USER\r\nARG MVN_PASS\r\nARG GIT_BRANCH\r\nARG BUILD_ID\r\nARG COMMIT_ID\r\nWORKDIR /tmp/app\r\n\r\nCOPY pom.xml /maven-build/pom.xml\r\nCOPY /.mvn/settings.xml /maven-build/settings.xml\r\nCOPY mvnw ./mvnw\r\nCOPY mvnw.cmd ./mvnw.cmd\r\nCOPY /.mvn ./.mvn\r\n\r\nRUN chmod +x ./mvnw &amp;&amp; \\\r\n./mvnw -s /maven-build/settings.xml -B -f /maven-build/pom.xml dependency:resolve dependency:resolve-plugins dependency:go-offline\r\n\r\nCOPY ./ ./\r\n\r\nFROM ubuntu\r\n...\r\n```\r\nand after each running ```docker build``` command I had a many ```none``` images:\r\n```\r\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\r\n&lt;none&gt;              &lt;none&gt;              30e2325fcf15        18 hours ago        1.68GB\r\n&lt;none&gt;              &lt;none&gt;              30e2325fcf16        18 hours ago        1.68GB\r\n&lt;none&gt;              &lt;none&gt;              30e2325fcf14        18 hours ago        1.68GB\r\n&lt;none&gt;              &lt;none&gt;              30e2325fcf18        18 hours ago        1.68GB\r\n&lt;none&gt;              &lt;none&gt;              30e2325fcf13        18 hours ago        1.68GB\r\n\r\n```\r\nHow can I replace ```none``` name of intermediate images to ```my_image_name```?","title":"How to give name or tag for intermediate image?","body":"<p>I used docker to build my Java application and I using the multi-stage building and I have some problems every time when I run the docker command for building the docker creates new intermediate image with tag and name <code>none</code> and I need the possibility to called intermediate containers.</p>\n\n<p>That is my dockerfile:</p>\n\n<pre><code>FROM jdk8_201-ubuntu16.04 as java_build\nRUN apt-get update &amp;&amp; \\\n    apt-get install -y dos2unix\n\nARG MVN_USER\nARG MVN_PASS\nARG GIT_BRANCH\nARG BUILD_ID\nARG COMMIT_ID\nWORKDIR /tmp/app\n\nCOPY pom.xml /maven-build/pom.xml\nCOPY /.mvn/settings.xml /maven-build/settings.xml\nCOPY mvnw ./mvnw\nCOPY mvnw.cmd ./mvnw.cmd\nCOPY /.mvn ./.mvn\n\nRUN chmod +x ./mvnw &amp;&amp; \\\n./mvnw -s /maven-build/settings.xml -B -f /maven-build/pom.xml dependency:resolve dependency:resolve-plugins dependency:go-offline\n\nCOPY ./ ./\n\nFROM ubuntu\n...\n</code></pre>\n\n<p>and after each running <code>docker build</code> command I had a many <code>none</code> images:</p>\n\n<pre><code>REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\n&lt;none&gt;              &lt;none&gt;              30e2325fcf15        18 hours ago        1.68GB\n&lt;none&gt;              &lt;none&gt;              30e2325fcf16        18 hours ago        1.68GB\n&lt;none&gt;              &lt;none&gt;              30e2325fcf14        18 hours ago        1.68GB\n&lt;none&gt;              &lt;none&gt;              30e2325fcf18        18 hours ago        1.68GB\n&lt;none&gt;              &lt;none&gt;              30e2325fcf13        18 hours ago        1.68GB\n\n</code></pre>\n\n<p>How can I replace <code>none</code> name of intermediate images to <code>my_image_name</code>?</p>\n"},{"tags":["java","spring","maven","dependencies"],"answers":[{"tags":[],"owner":{"account_id":167065,"reputation":13,"user_id":1598069,"display_name":"user1598069"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624030315,"creation_date":1624030315,"answer_id":68037865,"question_id":68037625,"body_markdown":"Works for me.\r\nCentral repo have this dependency: https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-starter-validation/2.5.1/\r\n\r\nSo i don&#39;t see why it should not work. Maybe there was some kind of network issue.\r\n\r\nTry to remove it from local maven repo and download again.\r\nYou can find maven repo in your user home dir `.m2`, delete `.m2/repository/org/springframework/boot/spring-boot-starter-validation/2.5.1` folder","title":"Dependency &#39;org.springframework.boot:spring-boot-starter-validation:2.5.1&#39; not found","body":"<p>Works for me.\nCentral repo have this dependency: <a href=\"https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-starter-validation/2.5.1/\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-starter-validation/2.5.1/</a></p>\n<p>So i don't see why it should not work. Maybe there was some kind of network issue.</p>\n<p>Try to remove it from local maven repo and download again.\nYou can find maven repo in your user home dir <code>.m2</code>, delete <code>.m2/repository/org/springframework/boot/spring-boot-starter-validation/2.5.1</code> folder</p>\n"},{"tags":[],"owner":{"account_id":12684979,"reputation":29,"user_id":9217139,"display_name":"Lucky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627145347,"creation_date":1627132847,"answer_id":68510378,"question_id":68037625,"body_markdown":"You should try to close the project and re-open it, the `dependency` will get downloaded by itself. \r\n\r\nWorked in my case.","title":"Dependency &#39;org.springframework.boot:spring-boot-starter-validation:2.5.1&#39; not found","body":"<p>You should try to close the project and re-open it, the <code>dependency</code> will get downloaded by itself.</p>\n<p>Worked in my case.</p>\n"},{"tags":[],"owner":{"account_id":19920345,"reputation":106,"user_id":14776132,"display_name":"Emesson Cavalcante"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1627413327,"creation_date":1627406704,"answer_id":68549335,"question_id":68037625,"body_markdown":"@ekm0d. I had the same problem using the `Intellij IDEA`. Here what I did and worked for me after inserting this on `pom.xml`:\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n1. Right-click on the project file.\r\n2. Click on `Maven`\r\n3. Click on Reload Project\r\n4. Wait the `poem.xml` archive reload\r\n\r\nI hope it works for you too :)","title":"Dependency &#39;org.springframework.boot:spring-boot-starter-validation:2.5.1&#39; not found","body":"<p>@ekm0d. I had the same problem using the <code>Intellij IDEA</code>. Here what I did and worked for me after inserting this on <code>pom.xml</code>:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ol>\n<li>Right-click on the project file.</li>\n<li>Click on <code>Maven</code></li>\n<li>Click on Reload Project</li>\n<li>Wait the <code>poem.xml</code> archive reload</li>\n</ol>\n<p>I hope it works for you too :)</p>\n"},{"tags":[],"owner":{"account_id":21516528,"reputation":21,"user_id":15858288,"display_name":"richie101"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688932305,"creation_date":1688932305,"answer_id":76649239,"question_id":68037625,"body_markdown":"In my case I had problems with the following two dependencies:\r\n\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n  &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n  &lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI didn&#39;t have to add anything, I just followed the steps suggested by @Emesson Cavalcante **and** one extra step:\r\n\r\n1. Right-click on the project file.\r\n2. Click on `Maven`\r\n3. Click on Reload Project\r\n4. Wait the `poem.xml` archive reload\r\n5. Install plugins suggested by IntelliJ (when a popup appears)","title":"Dependency &#39;org.springframework.boot:spring-boot-starter-validation:2.5.1&#39; not found","body":"<p>In my case I had problems with the following two dependencies:</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n  &lt;artifactId&gt;h2&lt;/artifactId&gt;\n  &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I didn't have to add anything, I just followed the steps suggested by @Emesson Cavalcante <strong>and</strong> one extra step:</p>\n<ol>\n<li>Right-click on the project file.</li>\n<li>Click on <code>Maven</code></li>\n<li>Click on Reload Project</li>\n<li>Wait the <code>poem.xml</code> archive reload</li>\n<li>Install plugins suggested by IntelliJ (when a popup appears)</li>\n</ol>\n"}],"owner":{"account_id":20461088,"reputation":21,"user_id":15013708,"display_name":"ekm0d"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5830,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68549335,"answer_count":4,"score":0,"last_activity_date":1688932305,"creation_date":1624029264,"question_id":68037625,"body_markdown":"How can I solve the issue of &quot;Dependency &#39;org.springframework.boot:spring-boot-starter-validation:2.5.1&#39; not found&quot; ?\r\n\r\nMy pom.xml file loks like this:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;JavaDeveloperTask&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nI have added\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nBut it still gives me the error. What could be th cause of this?","title":"Dependency &#39;org.springframework.boot:spring-boot-starter-validation:2.5.1&#39; not found","body":"<p>How can I solve the issue of &quot;Dependency 'org.springframework.boot:spring-boot-starter-validation:2.5.1' not found&quot; ?</p>\n<p>My pom.xml file loks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;JavaDeveloperTask&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${project.parent.version}&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I have added</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>But it still gives me the error. What could be th cause of this?</p>\n"},{"tags":["java","http-headers","arguments","twilio","sendgrid"],"owner":{"account_id":84452,"reputation":921,"user_id":236085,"display_name":"nani21984"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688932077,"creation_date":1688932077,"question_id":76649225,"body_markdown":"I have a spring boot application that sends request to SendGrid client to send email out.\r\nAnd I also have an API configured successfully in sendgrid webhook settings and able to get updates back from sendgrid.\r\nNow requirement is, We need to get some custom headers back from sendgrid when my application receives updates back from sendgrid through webhook.\r\nAfter seeing this question - [link][1], I understood I need to add customArguments.\r\n\r\n\r\nMail request logic as shown below:\r\n```\r\nMail mail = new Mail(from, subject, to, content);\r\nmail.addCustomArg(&quot;Key&quot;, &quot;123456789&quot;);\r\nmail.addCustomArg(&quot;version&quot;, &quot;v6.5.8&quot;);\r\nRequest request\t= new Request();\r\nrequest.setMethod(Method.POST);\r\nrequest.setEndpoint(&quot;mail/send&quot;);\r\nrequest.setBody(mail.build());\r\n\r\nlog.trace(&quot;Making request to SendGrid using api-key: {}&quot;, apiKey);\r\nSendGrid sendGrid = new SendGrid(apiKey);\r\nResponse response = sendGrid.api(request);\r\n```\r\n\r\nAnd in sendgrid ActivityFeed, when I looked at the email that I sent through to sendgrid. I can see the headers information as well(Key, version). \r\n\r\nBut they are not coming back through webhook update. I have added ```@RequestHeader HttpHeaders headers``` so I can catch all the headers. But I dont see key and version in the headers.\r\nMay I know what am I missing here.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/68069911/sendgrid-webhook-event-custom-headers","title":"Custom headers on sendgrid webhook","body":"<p>I have a spring boot application that sends request to SendGrid client to send email out.\nAnd I also have an API configured successfully in sendgrid webhook settings and able to get updates back from sendgrid.\nNow requirement is, We need to get some custom headers back from sendgrid when my application receives updates back from sendgrid through webhook.\nAfter seeing this question - <a href=\"https://stackoverflow.com/questions/68069911/sendgrid-webhook-event-custom-headers\">link</a>, I understood I need to add customArguments.</p>\n<p>Mail request logic as shown below:</p>\n<pre><code>Mail mail = new Mail(from, subject, to, content);\nmail.addCustomArg(&quot;Key&quot;, &quot;123456789&quot;);\nmail.addCustomArg(&quot;version&quot;, &quot;v6.5.8&quot;);\nRequest request = new Request();\nrequest.setMethod(Method.POST);\nrequest.setEndpoint(&quot;mail/send&quot;);\nrequest.setBody(mail.build());\n\nlog.trace(&quot;Making request to SendGrid using api-key: {}&quot;, apiKey);\nSendGrid sendGrid = new SendGrid(apiKey);\nResponse response = sendGrid.api(request);\n</code></pre>\n<p>And in sendgrid ActivityFeed, when I looked at the email that I sent through to sendgrid. I can see the headers information as well(Key, version).</p>\n<p>But they are not coming back through webhook update. I have added <code>@RequestHeader HttpHeaders headers</code> so I can catch all the headers. But I dont see key and version in the headers.\nMay I know what am I missing here.</p>\n"},{"tags":["java","reactive-programming","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":2666138,"reputation":1578,"user_id":2304545,"display_name":"mroman"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1688931614,"creation_date":1519766992,"answer_id":49018238,"question_id":49018111,"body_markdown":"Use **reduce** method:\r\n\r\n    @GetMapping(&quot;/populations&quot;)\r\n        public Mono&lt;Integer&gt; getPopulation() {\r\n            return Flux.fromIterable(stateRepo.findAll())\r\n                    .map(s -&gt; s.getPopulation())\r\n                    .reduce(0, (x1, x2) -&gt; x1 + x2)\r\n                    .map(this::someFunction); //you can also handle the sum, if you wish\r\n        }","title":"How do I sum the values in a Reactor Flux stream?","body":"<p>Use <strong>reduce</strong> method:</p>\n<pre><code>@GetMapping(&quot;/populations&quot;)\n    public Mono&lt;Integer&gt; getPopulation() {\n        return Flux.fromIterable(stateRepo.findAll())\n                .map(s -&gt; s.getPopulation())\n                .reduce(0, (x1, x2) -&gt; x1 + x2)\n                .map(this::someFunction); //you can also handle the sum, if you wish\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12909569,"reputation":311,"user_id":9335752,"display_name":"Slava"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1519767463,"creation_date":1519767463,"answer_id":49018349,"question_id":49018111,"body_markdown":"You can import reactor extra package from maven   \r\n\r\n`io.projectreactor.addons:reactor-extra`  \r\n\r\nand then use `MathFlux.sumInt(integresFlux)`  \r\ndocs: https://projectreactor.io/docs/core/release/reference/#extra-math\r\n","title":"How do I sum the values in a Reactor Flux stream?","body":"<p>You can import reactor extra package from maven   </p>\n\n<p><code>io.projectreactor.addons:reactor-extra</code>  </p>\n\n<p>and then use <code>MathFlux.sumInt(integresFlux)</code><br>\ndocs: <a href=\"https://projectreactor.io/docs/core/release/reference/#extra-math\" rel=\"noreferrer\">https://projectreactor.io/docs/core/release/reference/#extra-math</a></p>\n"}],"owner":{"account_id":2425257,"reputation":5090,"user_id":2117355,"accept_rate":71,"display_name":"Mark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18894,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":49018238,"answer_count":2,"score":17,"last_activity_date":1688931614,"creation_date":1519766375,"question_id":49018111,"body_markdown":"Suppose I have a repository with a `findAll()` method that returns an `Iterable` of `State`, where `State` is a class representing a US state that has two fields (with getter/setters): `name`, and `population`.  \r\n\r\nI want to get the sum of the population fields for all `State`s in my Flux. \r\n I create a Flux from an Iterable, as follows:\r\n\r\n    Flux f = Flux.fromIterable(stateRepo.findAll());\r\n\r\nI&#39;ve got my Flux, but I don&#39;t know of a good way to sum up its values. \r\n I&#39;ve tried something like\r\n\r\n    int total = 0;\r\n    f.map(s -&gt; s.getPopulation()).subscribe(p -&gt; total += v);\r\n    return total;\r\n\r\nHowever, the compiler says that total &quot;should be final or effectively final&quot;.  Adding `final` obviously won&#39;t work, because I&#39;m trying to add to it.\r\n\r\nHow do I go about summing (or any other aggregate function) on a Flux?\r\n","title":"How do I sum the values in a Reactor Flux stream?","body":"<p>Suppose I have a repository with a <code>findAll()</code> method that returns an <code>Iterable</code> of <code>State</code>, where <code>State</code> is a class representing a US state that has two fields (with getter/setters): <code>name</code>, and <code>population</code>.  </p>\n\n<p>I want to get the sum of the population fields for all <code>State</code>s in my Flux. \n I create a Flux from an Iterable, as follows:</p>\n\n<pre><code>Flux f = Flux.fromIterable(stateRepo.findAll());\n</code></pre>\n\n<p>I've got my Flux, but I don't know of a good way to sum up its values. \n I've tried something like</p>\n\n<pre><code>int total = 0;\nf.map(s -&gt; s.getPopulation()).subscribe(p -&gt; total += v);\nreturn total;\n</code></pre>\n\n<p>However, the compiler says that total \"should be final or effectively final\".  Adding <code>final</code> obviously won't work, because I'm trying to add to it.</p>\n\n<p>How do I go about summing (or any other aggregate function) on a Flux?</p>\n"},{"tags":["java","spring-boot","noclassdeffounderror"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688920264,"post_id":76648426,"comment_id":135136099,"body_markdown":"[Why did you not think it important to post the stack trace?](https://technojeeves.com/index.php/aliasjava1/17-errors)","body":"<a href=\"https://technojeeves.com/index.php/aliasjava1/17-errors\" rel=\"nofollow noreferrer\">Why did you not think it important to post the stack trace?</a>"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1688923037,"post_id":76648426,"comment_id":135136446,"body_markdown":"Here&#39;s a guess: `Application.getAppContext()`  is returning `null` when you are initializing the `i18nProvider` field in `ComboBoxHelper` (perhaps it doesn&#39;t exist yet). Remember static initialization is on first reference (not including `import`), so it may be pertinent to either initialize this later, have a different way of retrieving some static info, or not have it as static (there&#39;s not really any huge cost to a non-static variable here if it references the same static resource).","body":"Here&#39;s a guess: <code>Application.getAppContext()</code>  is returning <code>null</code> when you are initializing the <code>i18nProvider</code> field in <code>ComboBoxHelper</code> (perhaps it doesn&#39;t exist yet). Remember static initialization is on first reference (not including <code>import</code>), so it may be pertinent to either initialize this later, have a different way of retrieving some static info, or not have it as static (there&#39;s not really any huge cost to a non-static variable here if it references the same static resource)."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688970820,"post_id":76648426,"comment_id":135140931,"body_markdown":"Please update your question instead of &quot;answering&quot; it with new details. From the stacktrace I can say that Spring can&#39;t autowire your class. Is it annotated as @Component (or similar)? I can&#39;t see it in code.","body":"Please update your question instead of &quot;answering&quot; it with new details. From the stacktrace I can say that Spring can&#39;t autowire your class. Is it annotated as @Component (or similar)? I can&#39;t see it in code."},{"owner":{"account_id":5061652,"reputation":107,"user_id":4063044,"accept_rate":0,"display_name":"Rolf Warnecke"},"score":0,"creation_date":1689012830,"post_id":76648426,"comment_id":135150158,"body_markdown":"In both versions of the class ComboBoxHelper only just missing the imports.","body":"In both versions of the class ComboBoxHelper only just missing the imports."}],"owner":{"account_id":5061652,"reputation":107,"user_id":4063044,"accept_rate":0,"display_name":"Rolf Warnecke"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688928539,"creation_date":1688919840,"question_id":76648426,"body_markdown":"I had this class, which work as it designed, if I started the spring boot app normally.\r\n\r\n    public class ComboBoxHelper {\r\n\r\n\tprivate static final Logger logger = LoggerFactory.getLogger(ComboBoxHelper.class);\r\n\tprivate static final I18NProvider i18nProvider = Application.getAppContext().getBean(I18NProvider.class);\r\n\r\n\tpublic ComboBoxHelper() {\r\n\t\t// To do something\r\n\t}\r\n\r\n\tpublic ItemLabelGenerator&lt;DocumentTypes&gt; startItemLabelGenerator() {\r\n\t\treturn new ItemLabelGenerator&lt;DocumentTypes&gt;() {\r\n\t\t\tprivate static final long serialVersionUID = -338940206315118937L;\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic String apply(DocumentTypes item) {\r\n\t\t\t\tlogger.debug(&quot;====&gt; ItemLabelGenerator - {} &lt;====&quot;, item);\r\n\t\t\t\tString itemValue = &quot;&quot;;\r\n\t\t\t\tif (item.getTypeName().contains(&quot;common.string&quot;)) {\r\n\t\t\t\t\titemValue = i18nProvider.getTranslation(item.getTypeName(), UI.getCurrent().getLocale());\r\n\t\t\t\t} else {\r\n\t\t\t\t\titemValue = item.getTypeName();\r\n\t\t\t\t}\r\n\t\t\t\treturn itemValue;\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n}\r\n\r\nIf I started the spring boot app with this method over a button:\r\n\r\n    \tpublic static void restart() {\r\n        ApplicationArguments args = context.getBean(ApplicationArguments.class);\r\n\r\n        Thread thread = new Thread(() -&gt; {\r\n            context.close();\r\n            context = SpringApplication.run(Application.class, args.getSourceArgs());\r\n        });\r\n\r\n        thread.setDaemon(false);\r\n        thread.start();\r\n    }\r\n\r\nI get the error **java.lang.NoClassDefFoundError: Could not initialize class** at the point where I initialize the ComboBoxHelper class. Why work it if I started the spring boot app normally with the java command and not over my button restart ? How can I fix it ?","title":"NoClassDefFoundError after Restart programmatically","body":"<p>I had this class, which work as it designed, if I started the spring boot app normally.</p>\n<pre><code>public class ComboBoxHelper {\n\nprivate static final Logger logger = LoggerFactory.getLogger(ComboBoxHelper.class);\nprivate static final I18NProvider i18nProvider = Application.getAppContext().getBean(I18NProvider.class);\n\npublic ComboBoxHelper() {\n    // To do something\n}\n\npublic ItemLabelGenerator&lt;DocumentTypes&gt; startItemLabelGenerator() {\n    return new ItemLabelGenerator&lt;DocumentTypes&gt;() {\n        private static final long serialVersionUID = -338940206315118937L;\n\n        @Override\n        public String apply(DocumentTypes item) {\n            logger.debug(&quot;====&gt; ItemLabelGenerator - {} &lt;====&quot;, item);\n            String itemValue = &quot;&quot;;\n            if (item.getTypeName().contains(&quot;common.string&quot;)) {\n                itemValue = i18nProvider.getTranslation(item.getTypeName(), UI.getCurrent().getLocale());\n            } else {\n                itemValue = item.getTypeName();\n            }\n            return itemValue;\n        }\n    };\n}\n</code></pre>\n<p>}</p>\n<p>If I started the spring boot app with this method over a button:</p>\n<pre><code>    public static void restart() {\n    ApplicationArguments args = context.getBean(ApplicationArguments.class);\n\n    Thread thread = new Thread(() -&gt; {\n        context.close();\n        context = SpringApplication.run(Application.class, args.getSourceArgs());\n    });\n\n    thread.setDaemon(false);\n    thread.start();\n}\n</code></pre>\n<p>I get the error <strong>java.lang.NoClassDefFoundError: Could not initialize class</strong> at the point where I initialize the ComboBoxHelper class. Why work it if I started the spring boot app normally with the java command and not over my button restart ? How can I fix it ?</p>\n"},{"tags":["java","spring-boot","resilience4j"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688762624,"post_id":76640014,"comment_id":135122345,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28972687,"reputation":1,"user_id":22192600,"display_name":"Aman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688927780,"creation_date":1688761114,"question_id":76640014,"body_markdown":"I have a service that makes a rest api call which throws a 503 server exception for reproducing a defect.\r\n\r\nThis is the retry config i&#39;m using:\r\n\r\n      maxAttempts: 5\r\n      waitDuration: 2s\r\n      failAfterMaxAttempts: true\r\n      retryExceptionPredicate: GenericRetryOnResultPredicate\r\n      resultPredicate: GenericRetryOnResultPredicate\r\n\r\nMy service call is annotated with @CircuitBreaker too.\r\n\r\nThe fallback method is invoked after maxAttempts but the exception is not MaxRetriesExceededException.\r\n\r\nResilience4j version: 2.0.2\r\n\r\nI have two fallback methods one with MaxRetriesExceededException and other with Exception, although I get a CallNotPermittedException when the circuit is open the MaxRetriesExceededException is never received while the documentation states otherwise.\r\n\r\nAnyone faced similar problem?","title":"Resilience4j never throws MaxRetriesExceededException","body":"<p>I have a service that makes a rest api call which throws a 503 server exception for reproducing a defect.</p>\n<p>This is the retry config i'm using:</p>\n<pre><code>  maxAttempts: 5\n  waitDuration: 2s\n  failAfterMaxAttempts: true\n  retryExceptionPredicate: GenericRetryOnResultPredicate\n  resultPredicate: GenericRetryOnResultPredicate\n</code></pre>\n<p>My service call is annotated with @CircuitBreaker too.</p>\n<p>The fallback method is invoked after maxAttempts but the exception is not MaxRetriesExceededException.</p>\n<p>Resilience4j version: 2.0.2</p>\n<p>I have two fallback methods one with MaxRetriesExceededException and other with Exception, although I get a CallNotPermittedException when the circuit is open the MaxRetriesExceededException is never received while the documentation states otherwise.</p>\n<p>Anyone faced similar problem?</p>\n"},{"tags":["java","hibernate","jpa","wildfly","infinispan"],"answers":[{"tags":[],"owner":{"account_id":4952677,"reputation":11,"user_id":3986169,"display_name":"Vadim Pilipenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688927148,"creation_date":1688927148,"answer_id":76648935,"question_id":54302282,"body_markdown":"In my case hibernate demanded hint for query:\r\n\r\n    final EntityManager em = getEntityManager(); \r\n    ...\r\n    return em.createQuery(all).setHint(&quot;org.hibernate.cacheable&quot;, Boolean.TRUE).getResultList();","title":"How to configure WIldfly infinispan subsystem for JPA L2 Cache?","body":"<p>In my case hibernate demanded hint for query:</p>\n<pre><code>final EntityManager em = getEntityManager(); \n...\nreturn em.createQuery(all).setHint(&quot;org.hibernate.cacheable&quot;, Boolean.TRUE).getResultList();\n</code></pre>\n"}],"owner":{"account_id":1994102,"reputation":1060,"user_id":1979249,"accept_rate":61,"display_name":"Isuru Pathirana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1363,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1688927148,"creation_date":1548137762,"question_id":54302282,"body_markdown":"I&#39;m trying to enable JPA L2 cache on Wildfly 14. Even though I have added the configuration caching is not taking place. Logs say entities are being cached but it seems the cache is not used when retrieving them.  \r\n\r\nI&#39;m using Hibernate as the JPA provider and these are my configs.  \r\n\r\n* standalon-ha.xml in wildfly.  \r\n\r\n        &lt;cache-container name=&quot;hibernate&quot;&gt;\r\n            &lt;transport lock-timeout=&quot;60000&quot;/&gt;\r\n            &lt;local-cache name=&quot;local-query&quot;&gt;\r\n                &lt;object-memory size=&quot;10000&quot;/&gt;\r\n                &lt;expiration max-idle=&quot;100000&quot;/&gt;\r\n            &lt;/local-cache&gt;\r\n            &lt;invalidation-cache name=&quot;entity&quot;&gt;\r\n                &lt;transaction mode=&quot;NON_XA&quot;/&gt;\r\n                &lt;object-memory size=&quot;10000&quot;/&gt;\r\n                &lt;expiration max-idle=&quot;100000&quot;/&gt;\r\n            &lt;/invalidation-cache&gt;\r\n            &lt;replicated-cache name=&quot;timestamps&quot;/&gt;\r\n        &lt;/cache-container&gt;\r\n* persistance.xml  \r\n\r\n        &lt;persistence-unit name=&quot;mysqlPersistenceUnit&quot; transaction-type=&quot;JTA&quot;&gt;\r\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n        &lt;!--&lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;--&gt;\r\n        &lt;shared-cache-mode&gt;ALL&lt;/shared-cache-mode&gt;\r\n        &lt;jta-data-source&gt;java:/DataSourceName&lt;/jta-data-source&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.archive.autodetection&quot; value=&quot;class&quot;/&gt;\r\n            &lt;!--&lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;--&gt;\r\n            &lt;!--&lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;--&gt;\r\n            &lt;property name=&quot;hibernate.transaction.manager_lookup_class&quot; value=&quot;org.hibernate.transaction.JBossTransactionManagerLookup&quot;/&gt;\r\n            &lt;!-- cache --&gt;\r\n            &lt;property name=&quot;hibernate.cache.use_second_level_cache&quot; value=&quot;true&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.cache.region.factory_class&quot; value=&quot;org.hibernate.cache.infinispan.InfinispanRegionFactory&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.cache.use_query_cache&quot; value=&quot;true&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.generate_statistics&quot; value=&quot;true&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.cache.infinispan.statistics&quot; value=&quot;true&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n\r\n&lt;/persistence&gt;\r\n\r\n* Entities\r\n\r\n        @Entity\r\n        @Cacheable\r\n        @Table(name = &quot;table_name&quot;)\r\n        public class EntityName implements Serializable { // }\r\n\r\nThis is the output I am getting from Hibernate when database queries are executed. And each time I can see the db queries are being made.\r\n\r\n    [org.hibernate.engine.internal.StatisticalLoggingSessionEventListener] (default task-1) Session Metrics {\r\n    664166 nanoseconds spent acquiring 2 JDBC connections;\r\n    125120 nanoseconds spent releasing 2 JDBC connections;\r\n    1002407 nanoseconds spent preparing 2 JDBC statements;\r\n    989037118 nanoseconds spent executing 2 JDBC statements;\r\n    0 nanoseconds spent executing 0 JDBC batches;\r\n    1994332 nanoseconds spent performing 2 L2C puts;\r\n    0 nanoseconds spent performing 0 L2C hits;\r\n    0 nanoseconds spent performing 0 L2C misses;\r\n    366780 nanoseconds spent executing 1 flushes (flushing a total of 2 entities and 0 collections);\r\n    201076 nanoseconds spent executing 2 partial-flushes (flushing a total of 1 entities and 1 collections)\r\n","title":"How to configure WIldfly infinispan subsystem for JPA L2 Cache?","body":"<p>I'm trying to enable JPA L2 cache on Wildfly 14. Even though I have added the configuration caching is not taking place. Logs say entities are being cached but it seems the cache is not used when retrieving them.  </p>\n\n<p>I'm using Hibernate as the JPA provider and these are my configs.  </p>\n\n<ul>\n<li><p>standalon-ha.xml in wildfly.  </p>\n\n<pre><code>&lt;cache-container name=\"hibernate\"&gt;\n    &lt;transport lock-timeout=\"60000\"/&gt;\n    &lt;local-cache name=\"local-query\"&gt;\n        &lt;object-memory size=\"10000\"/&gt;\n        &lt;expiration max-idle=\"100000\"/&gt;\n    &lt;/local-cache&gt;\n    &lt;invalidation-cache name=\"entity\"&gt;\n        &lt;transaction mode=\"NON_XA\"/&gt;\n        &lt;object-memory size=\"10000\"/&gt;\n        &lt;expiration max-idle=\"100000\"/&gt;\n    &lt;/invalidation-cache&gt;\n    &lt;replicated-cache name=\"timestamps\"/&gt;\n&lt;/cache-container&gt;\n</code></pre></li>\n<li><p>persistance.xml  </p>\n\n<pre><code>&lt;persistence-unit name=\"mysqlPersistenceUnit\" transaction-type=\"JTA\"&gt;\n&lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n&lt;!--&lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;--&gt;\n&lt;shared-cache-mode&gt;ALL&lt;/shared-cache-mode&gt;\n&lt;jta-data-source&gt;java:/DataSourceName&lt;/jta-data-source&gt;\n&lt;properties&gt;\n    &lt;property name=\"hibernate.dialect\" value=\"org.hibernate.dialect.MySQLDialect\"/&gt;\n    &lt;property name=\"hibernate.archive.autodetection\" value=\"class\"/&gt;\n    &lt;!--&lt;property name=\"hibernate.show_sql\" value=\"true\"/&gt;--&gt;\n    &lt;!--&lt;property name=\"hibernate.format_sql\" value=\"true\"/&gt;--&gt;\n    &lt;property name=\"hibernate.transaction.manager_lookup_class\" value=\"org.hibernate.transaction.JBossTransactionManagerLookup\"/&gt;\n    &lt;!-- cache --&gt;\n    &lt;property name=\"hibernate.cache.use_second_level_cache\" value=\"true\" /&gt;\n    &lt;property name=\"hibernate.cache.region.factory_class\" value=\"org.hibernate.cache.infinispan.InfinispanRegionFactory\"/&gt;\n    &lt;property name=\"hibernate.cache.use_query_cache\" value=\"true\" /&gt;\n    &lt;property name=\"hibernate.generate_statistics\" value=\"true\" /&gt;\n    &lt;property name=\"hibernate.cache.infinispan.statistics\" value=\"true\"/&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p></p></li>\n</ul>\n\n<p></p>\n\n<ul>\n<li><p>Entities</p>\n\n<pre><code>@Entity\n@Cacheable\n@Table(name = \"table_name\")\npublic class EntityName implements Serializable { // }\n</code></pre></li>\n</ul>\n\n<p>This is the output I am getting from Hibernate when database queries are executed. And each time I can see the db queries are being made.</p>\n\n<pre><code>[org.hibernate.engine.internal.StatisticalLoggingSessionEventListener] (default task-1) Session Metrics {\n664166 nanoseconds spent acquiring 2 JDBC connections;\n125120 nanoseconds spent releasing 2 JDBC connections;\n1002407 nanoseconds spent preparing 2 JDBC statements;\n989037118 nanoseconds spent executing 2 JDBC statements;\n0 nanoseconds spent executing 0 JDBC batches;\n1994332 nanoseconds spent performing 2 L2C puts;\n0 nanoseconds spent performing 0 L2C hits;\n0 nanoseconds spent performing 0 L2C misses;\n366780 nanoseconds spent executing 1 flushes (flushing a total of 2 entities and 0 collections);\n201076 nanoseconds spent executing 2 partial-flushes (flushing a total of 1 entities and 1 collections)\n</code></pre>\n"},{"tags":["java","jfreechart"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1688926683,"creation_date":1267564426,"answer_id":2366808,"question_id":2365657,"body_markdown":"The JFreeChart [`BarChartDemo1`][1] shows how to use the [`setStandardTickUnits()`][2] method. [`NumberAxis`][3] has several handy static factories for this. To override the defaults, you can &quot;create your own instance of [`TickUnits`][4] and then pass it to the [`setStandardTickUnits()`][2] method.&quot;\r\n\r\nAddendum: The defaults mentioned above simply use a subclass of `java.text.Format`; you can supply your own for each `TickUnit` you `add()`. If this is inadequate, you can override [`valueToString()`][5] in your own concrete subclass of [`TickUnit`][6] and use it to compose the required [`TickUnits`][4]. \r\n\r\n[1]: https://github.com/jfree/jfree-demos/blob/master/src/main/java/org/jfree/chart/demo2/BarChartDemo1.java\r\n[2]: https://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/axis/ValueAxis.html#setStandardTickUnits-org.jfree.chart.axis.TickUnitSource-\r\n[3]: https://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/axis/NumberAxis.html\r\n[4]: https://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/axis/TickUnits.html\r\n[5]: https://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/axis/TickUnit.html#valueToString-double-\r\n[6]: https://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/axis/TickUnit.html\r\n","title":"How can I change the tickLabel on a NumberAxis in JFreeChart?","body":"<p>The JFreeChart <a href=\"https://github.com/jfree/jfree-demos/blob/master/src/main/java/org/jfree/chart/demo2/BarChartDemo1.java\" rel=\"nofollow noreferrer\"><code>BarChartDemo1</code></a> shows how to use the <a href=\"https://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/axis/ValueAxis.html#setStandardTickUnits-org.jfree.chart.axis.TickUnitSource-\" rel=\"nofollow noreferrer\"><code>setStandardTickUnits()</code></a> method. <a href=\"https://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/axis/NumberAxis.html\" rel=\"nofollow noreferrer\"><code>NumberAxis</code></a> has several handy static factories for this. To override the defaults, you can &quot;create your own instance of <a href=\"https://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/axis/TickUnits.html\" rel=\"nofollow noreferrer\"><code>TickUnits</code></a> and then pass it to the <a href=\"https://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/axis/ValueAxis.html#setStandardTickUnits-org.jfree.chart.axis.TickUnitSource-\" rel=\"nofollow noreferrer\"><code>setStandardTickUnits()</code></a> method.&quot;</p>\n<p>Addendum: The defaults mentioned above simply use a subclass of <code>java.text.Format</code>; you can supply your own for each <code>TickUnit</code> you <code>add()</code>. If this is inadequate, you can override <a href=\"https://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/axis/TickUnit.html#valueToString-double-\" rel=\"nofollow noreferrer\"><code>valueToString()</code></a> in your own concrete subclass of <a href=\"https://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/axis/TickUnit.html\" rel=\"nofollow noreferrer\"><code>TickUnit</code></a> and use it to compose the required <a href=\"https://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/axis/TickUnits.html\" rel=\"nofollow noreferrer\"><code>TickUnits</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":646488,"reputation":51,"user_id":436500,"display_name":"chris"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1305420146,"creation_date":1283302735,"answer_id":3614338,"question_id":2365657,"body_markdown":"I just found this while having the same problem. I solved it by using a [`SymbolAxis`][1]. [`SymbolAxis`][1] can be added to a `XYPlot`.\r\n\r\n    SymbolAxis sa = new SymbolAxis(&quot;AxisLabel&quot;,\r\n        new String[]{&quot;Category1&quot;,&quot;Category2&quot;,&quot;Category3&quot;,&quot;...&quot;});\r\n    chart.getPlot().setDomainAxis(sa);\r\n\r\n[1]:http://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/axis/SymbolAxis.html\r\n","title":"How can I change the tickLabel on a NumberAxis in JFreeChart?","body":"<p>I just found this while having the same problem. I solved it by using a <a href=\"http://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/axis/SymbolAxis.html\" rel=\"noreferrer\"><code>SymbolAxis</code></a>. <a href=\"http://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/axis/SymbolAxis.html\" rel=\"noreferrer\"><code>SymbolAxis</code></a> can be added to a <code>XYPlot</code>.</p>\n\n<pre><code>SymbolAxis sa = new SymbolAxis(\"AxisLabel\",\n    new String[]{\"Category1\",\"Category2\",\"Category3\",\"...\"});\nchart.getPlot().setDomainAxis(sa);\n</code></pre>\n"}],"owner":{"account_id":5330,"reputation":7054,"user_id":8517,"accept_rate":91,"display_name":"Tony Eichelberger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12086,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":2366808,"answer_count":2,"score":5,"last_activity_date":1688926683,"creation_date":1267554691,"question_id":2365657,"body_markdown":"I am using JFreeChart and want to be able to change the label on the range axis from a number to something more meaningful for the domain I am in.  I only see options for customizing the look of the label and no way to override the content of the label based on the position of the tick.\r\n\r\nDoes anyone know how to override the text of the tickLabel?\r\n","title":"How can I change the tickLabel on a NumberAxis in JFreeChart?","body":"<p>I am using JFreeChart and want to be able to change the label on the range axis from a number to something more meaningful for the domain I am in.  I only see options for customizing the look of the label and no way to override the content of the label based on the position of the tick.</p>\n\n<p>Does anyone know how to override the text of the tickLabel?</p>\n"},{"tags":["java","native","graalvm","graalvm-native-image","dynamic-class-loaders"],"comments":[{"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"score":1,"creation_date":1688973581,"post_id":76648901,"comment_id":135141414,"body_markdown":"Native images do not include bytecode interpreter so they cannot load classes from jars at runtime. You&#39;ll need to have the V2 jar available at image build time (but then, you don&#39;t need the V1 jar at all)","body":"Native images do not include bytecode interpreter so they cannot load classes from jars at runtime. You&#39;ll need to have the V2 jar available at image build time (but then, you don&#39;t need the V1 jar at all)"},{"owner":{"account_id":7352305,"reputation":125,"user_id":5598020,"display_name":"Gestalt"},"score":0,"creation_date":1688977793,"post_id":76648901,"comment_id":135142377,"body_markdown":"So there isn&#39;t way to do this directly? An indirect approach that I&#39;m considering is converting the required client data jar methods to native methods with entrypoints, create a shared library from this jar and load it during Runtime using System.load(&quot;my.so&quot;). Does this make sense?","body":"So there isn&#39;t way to do this directly? An indirect approach that I&#39;m considering is converting the required client data jar methods to native methods with entrypoints, create a shared library from this jar and load it during Runtime using System.load(&quot;my.so&quot;). Does this make sense?"},{"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"score":0,"creation_date":1689006838,"post_id":76648901,"comment_id":135149089,"body_markdown":"You can even use GraalVM to compile the client jar to a shared library (see `--shared` option). This way, you won&#39;t need to convert Java to native methods. But then, again, why not compile the app together with the client jar into one static image?","body":"You can even use GraalVM to compile the client jar to a shared library (see <code>--shared</code> option). This way, you won&#39;t need to convert Java to native methods. But then, again, why not compile the app together with the client jar into one static image?"},{"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"score":1,"creation_date":1689007023,"post_id":76648901,"comment_id":135149119,"body_markdown":"You might want to take a look at [espresso](https://www.graalvm.org/latest/reference-manual/java-on-truffle/) which is a Java-as-a-foreign-language embedding framework for Java. Never tried it, but it can probably be compiled into a native image and provide capability to interpret bytecodes.","body":"You might want to take a look at <a href=\"https://www.graalvm.org/latest/reference-manual/java-on-truffle/\" rel=\"nofollow noreferrer\">espresso</a> which is a Java-as-a-foreign-language embedding framework for Java. Never tried it, but it can probably be compiled into a native image and provide capability to interpret bytecodes."}],"owner":{"account_id":7352305,"reputation":125,"user_id":5598020,"display_name":"Gestalt"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688926676,"creation_date":1688926676,"question_id":76648901,"body_markdown":" - I have a particular compile dependency, let&#39;s say\r\n   **clientData_V1.jar**. I build a native image out of my Spring boot app using Graal VM 22.3. When I actually want to execute the native\r\n   image that I generated, I want to replace the **clientData_V1.jar**\r\n   that I used in creating the native image with **clientData_V2.jar**.\r\n   Is this possible in a native image? Earlier when I was on OpenJDK I\r\n   was using a Spring&#39;s **PropertiesLauncher** to accomplish this.\r\n - I was sifting through the documentation and [on Dynamic features and accessing resources][1] which seemed a bit relevant for my use case but I&#39;m not sure this will allow me to read a jar from the local file system and replace the one that is already a part of the native image.\r\n\r\nAny help would be appreacited, Thanks.\r\n\r\n  [1]: https://www.graalvm.org/latest/reference-manual/native-image/dynamic-features/","title":"How do I load a jar dynamically/at runtime in a graal VM native image?","body":"<ul>\n<li>I have a particular compile dependency, let's say\n<strong>clientData_V1.jar</strong>. I build a native image out of my Spring boot app using Graal VM 22.3. When I actually want to execute the native\nimage that I generated, I want to replace the <strong>clientData_V1.jar</strong>\nthat I used in creating the native image with <strong>clientData_V2.jar</strong>.\nIs this possible in a native image? Earlier when I was on OpenJDK I\nwas using a Spring's <strong>PropertiesLauncher</strong> to accomplish this.</li>\n<li>I was sifting through the documentation and <a href=\"https://www.graalvm.org/latest/reference-manual/native-image/dynamic-features/\" rel=\"nofollow noreferrer\">on Dynamic features and accessing resources</a> which seemed a bit relevant for my use case but I'm not sure this will allow me to read a jar from the local file system and replace the one that is already a part of the native image.</li>\n</ul>\n<p>Any help would be appreacited, Thanks.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9673,"page":319,"page_size":100}
