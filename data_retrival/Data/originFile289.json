{"items":[{"tags":["java","rabbitmq","itext","xmlworkerhelper"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1690233790,"post_id":76758015,"comment_id":135322182,"body_markdown":"Does it always fail on the same input data? Does it fail after processing a certain number of records? Is there really no exception thrown? [`XMLWorkerHelper::parseXHtml`](https://api.itextpdf.com/iText5/java/5.5.9/com/itextpdf/tool/xml/XMLWorkerHelper.html#parseXHtml-com.itextpdf.text.pdf.PdfWriter-com.itextpdf.text.Document-java.io.Reader-) is documented as throwing `IOException`. Is this code inside a try/catch?","body":"Does it always fail on the same input data? Does it fail after processing a certain number of records? Is there really no exception thrown? <a href=\"https://api.itextpdf.com/iText5/java/5.5.9/com/itextpdf/tool/xml/XMLWorkerHelper.html#parseXHtml-com.itextpdf.text.pdf.PdfWriter-com.itextpdf.text.Document-java.io.Reader-\" rel=\"nofollow noreferrer\"><code>XMLWorkerHelper::parseXHtml</code></a> is documented as throwing <code>IOException</code>. Is this code inside a try/catch?"},{"owner":{"account_id":2313845,"reputation":1806,"user_id":2031321,"accept_rate":91,"display_name":"msagala25"},"score":0,"creation_date":1690234926,"post_id":76758015,"comment_id":135322307,"body_markdown":"@DavidConrad , no it does not stuck on the same input data and also on certain number  of records, it doesn&#39;t have any errors and I assure it to be on the try catch block. the last log I encountered is &#39;END OF document.open();&#39; which above the line of the stuck statement.","body":"@DavidConrad , no it does not stuck on the same input data and also on certain number  of records, it doesn&#39;t have any errors and I assure it to be on the try catch block. the last log I encountered is &#39;END OF document.open();&#39; which above the line of the stuck statement."}],"owner":{"account_id":2313845,"reputation":1806,"user_id":2031321,"accept_rate":91,"display_name":"msagala25"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690253725,"creation_date":1690232693,"question_id":76758015,"body_markdown":"I have this kind of issue now in Production that sometimes occurring. For context, I&#39;m using RabbitMQ and a Consumer called email-service, RabbitMQ is my messaging server and email-service are the one responsible for converting the HTML string to PDF and sending it via Email. I&#39;m using this method `XMLWorkerHelper.getInstance().parseXHtml()` to parse HTML to PDF and it stuck sometimes without error on the logs that made my rabbitMQ UNACK all the message that is currently queued. Please see the code below:\r\n\r\n```\r\n                ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n                log.info( &quot;END OF ByteArrayOutputStream&quot; );\r\n                Document document = new Document();\r\n                log.info( &quot;END OF Document&quot; );\r\n                PdfWriter writer = PdfWriter.getInstance(document, outputStream);\r\n                log.info( &quot;END OF PdfWriter&quot; );\r\n                document.open();\r\n                log.info( &quot;END OF document.open();&quot; );\r\n                XMLWorkerHelper.getInstance().parseXHtml(writer, document, \r\n                         new StringReader(fileAttachmentString)); // &lt;--- sometimes stuck here\r\n                log.info( &quot;END OF XMLWorkerHelper&quot; );\r\n                document.close();\r\n                log.info( &quot;END OF document.close();&quot; );\r\n                byte[] bytes = outputStream.toByteArray();\r\n                log.info( &quot;END OF byte[] bytes = outputStream.toByteArray();&quot; );\r\n                DataSource dataSource = new ByteArrayDataSource(bytes, &quot;application/pdf&quot;);\r\n                log.info( &quot;END OF DataSource&quot; );\r\n                attachmentPart.setDataHandler(new DataHandler(dataSource));\r\n                attachmentPart.setFileName(filename);\r\n                multipart.addBodyPart(attachmentPart);\r\n   ```\r\n\r\n\r\n\r\nIf this occurred, I need to restart email-service again so it will consume again the messages in RabbitMQ. I don&#39;t know what causing why it stuck there in some time.\r\n\r\nNote: Sending of email is working after restart but suddenly stucks because of the issue above.\r\n\r\nUpdate:\r\n\r\nPlease check also the thread dump, I think it is stuck on the SocketInputStream.socketRead0 when I check the inner logs in Thread Dump.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tj3mY.png","title":"Java program stucks in XMLWorkerHelper.getInstance().parseXHtml","body":"<p>I have this kind of issue now in Production that sometimes occurring. For context, I'm using RabbitMQ and a Consumer called email-service, RabbitMQ is my messaging server and email-service are the one responsible for converting the HTML string to PDF and sending it via Email. I'm using this method <code>XMLWorkerHelper.getInstance().parseXHtml()</code> to parse HTML to PDF and it stuck sometimes without error on the logs that made my rabbitMQ UNACK all the message that is currently queued. Please see the code below:</p>\n<pre><code>                ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n                log.info( &quot;END OF ByteArrayOutputStream&quot; );\n                Document document = new Document();\n                log.info( &quot;END OF Document&quot; );\n                PdfWriter writer = PdfWriter.getInstance(document, outputStream);\n                log.info( &quot;END OF PdfWriter&quot; );\n                document.open();\n                log.info( &quot;END OF document.open();&quot; );\n                XMLWorkerHelper.getInstance().parseXHtml(writer, document, \n                         new StringReader(fileAttachmentString)); // &lt;--- sometimes stuck here\n                log.info( &quot;END OF XMLWorkerHelper&quot; );\n                document.close();\n                log.info( &quot;END OF document.close();&quot; );\n                byte[] bytes = outputStream.toByteArray();\n                log.info( &quot;END OF byte[] bytes = outputStream.toByteArray();&quot; );\n                DataSource dataSource = new ByteArrayDataSource(bytes, &quot;application/pdf&quot;);\n                log.info( &quot;END OF DataSource&quot; );\n                attachmentPart.setDataHandler(new DataHandler(dataSource));\n                attachmentPart.setFileName(filename);\n                multipart.addBodyPart(attachmentPart);\n</code></pre>\n<p>If this occurred, I need to restart email-service again so it will consume again the messages in RabbitMQ. I don't know what causing why it stuck there in some time.</p>\n<p>Note: Sending of email is working after restart but suddenly stucks because of the issue above.</p>\n<p>Update:</p>\n<p>Please check also the thread dump, I think it is stuck on the SocketInputStream.socketRead0 when I check the inner logs in Thread Dump.</p>\n<p><a href=\"https://i.stack.imgur.com/tj3mY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tj3mY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","while-loop","infinite-loop"],"comments":[{"owner":{"account_id":9865760,"reputation":56,"user_id":7307291,"display_name":"Jack"},"score":0,"creation_date":1690252044,"post_id":76759096,"comment_id":135323933,"body_markdown":"should be while(canBoard == false)","body":"should be while(canBoard == false)"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1690252640,"post_id":76759096,"comment_id":135323976,"body_markdown":"Plus, `a != b || a != c` is always true if `b != c`.","body":"Plus, <code>a != b || a != c</code> is always true if <code>b != c</code>."}],"answers":[{"tags":[],"owner":{"account_id":13367847,"reputation":71,"user_id":9647396,"display_name":"Derrick W"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690252591,"creation_date":1690252591,"answer_id":76759135,"question_id":76759096,"body_markdown":"The issue you are facing is related to the condition in the while loop. The condition petType != &quot;cat&quot; || petType != &quot;dog&quot; will always evaluate to true because petType cannot be both &quot;cat&quot; and &quot;dog&quot; at the same time. So, the loop will continue indefinitely.\r\n\r\nTo fix this, you need to use the logical AND (&amp;&amp;) operator instead of the logical OR (||) operator in your loop condition. Additionally, when comparing strings, you should use the equals() method instead of ==, as == checks for reference equality, not the content of the strings.\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Main {\r\n    public static void main(String[] args) {\r\n        Scanner fetch = new Scanner(System.in);\r\n        String petType = &quot;&quot;;\r\n\r\n        while (!petType.equals(&quot;cat&quot;) &amp;&amp; !petType.equals(&quot;dog&quot;)) {\r\n            System.out.println(&quot;Dog or cat? &quot;);\r\n            petType = fetch.next().toLowerCase();\r\n            System.out.println(&quot;You typed &quot; + petType);\r\n        }\r\n\r\n        System.out.println(&quot;Type: &quot; + petType);\r\n    }\r\n    }\r\n\r\nNow, the loop will keep asking for the pet type until the user types &quot;cat&quot; or &quot;dog&quot;. Once the user inputs either &quot;cat&quot; or &quot;dog&quot;, the loop will exit, and the program will proceed to the next part where you gather the pet&#39;s information. The equals() method ensures that the content of the strings is compared properly, and the loop behaves as expected.","title":"Why is Java while loop not ending when requirements met?","body":"<p>The issue you are facing is related to the condition in the while loop. The condition petType != &quot;cat&quot; || petType != &quot;dog&quot; will always evaluate to true because petType cannot be both &quot;cat&quot; and &quot;dog&quot; at the same time. So, the loop will continue indefinitely.</p>\n<p>To fix this, you need to use the logical AND (&amp;&amp;) operator instead of the logical OR (||) operator in your loop condition. Additionally, when comparing strings, you should use the equals() method instead of ==, as == checks for reference equality, not the content of the strings.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\npublic static void main(String[] args) {\n    Scanner fetch = new Scanner(System.in);\n    String petType = &quot;&quot;;\n\n    while (!petType.equals(&quot;cat&quot;) &amp;&amp; !petType.equals(&quot;dog&quot;)) {\n        System.out.println(&quot;Dog or cat? &quot;);\n        petType = fetch.next().toLowerCase();\n        System.out.println(&quot;You typed &quot; + petType);\n    }\n\n    System.out.println(&quot;Type: &quot; + petType);\n}\n}\n</code></pre>\n<p>Now, the loop will keep asking for the pet type until the user types &quot;cat&quot; or &quot;dog&quot;. Once the user inputs either &quot;cat&quot; or &quot;dog&quot;, the loop will exit, and the program will proceed to the next part where you gather the pet's information. The equals() method ensures that the content of the strings is compared properly, and the loop behaves as expected.</p>\n"}],"owner":{"account_id":28583152,"reputation":3,"user_id":21883882,"display_name":"Chase Makes Art"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690260748,"accepted_answer_id":76759135,"answer_count":1,"score":0,"last_activity_date":1690252591,"creation_date":1690251806,"question_id":76759096,"body_markdown":"I&#39;m trying to create a while loop that iterates until the person types cat or dog. Then, the program will move on to gethering the pet&#39;s information. It&#39;s changing the variable when they type cat or dog, as per my print test, but the loop does not end. \r\n\r\nThe petType variable is set as an empty string by default.\r\n\r\n    String petType = &quot;&quot;; \r\n\r\n    while(petType != &quot;cat&quot; || petType != &quot;dog&quot;) {\r\n        System.out.println(&quot;Dog or cat? &quot;);\r\n        petType = fetch.next().toLowerCase();\r\n        System.out.println(&quot;You typed &quot; + petType);\r\n    }\r\n\r\n    System.out.println(&quot;type: &quot; + petType);\r\n\r\nI attempted to put a break in the loop:\r\n\r\n    while(petType != &quot;cat&quot; || petType != &quot;dog&quot;) {\r\n        System.out.println(&quot;Dog or cat? &quot;);\r\n        petType = fetch.next().toLowerCase();\r\n        System.out.println(&quot;You typed &quot; + petType);\r\n        break;\r\n        }\r\n\r\n\tSystem.out.println(&quot;type: &quot; + petType);\r\n\r\nBut that caused the loop to end even when the answer was wrong. Placing the break outside the braces returned an error.\r\n\r\nI also attempted this:\r\n\r\n    boolean canBoard = false;\r\n\r\n    while(canBoard = false) {\r\n        System.out.println(&quot;Pet type? &quot;);\r\n        petType = fetch.next().toLowerCase();\r\n        System.out.println(&quot;You typed &quot; + petType);\r\n        if(petType == &quot;cat&quot; || petType == &quot;dog&quot;) {\r\n           canBoard = true;\r\n        }\r\n    }\r\n    System.out.println(&quot;type: &quot; + petType);\r\n\r\nHowever, the program sets the boolean to true without input and returned type: with no petType output.\r\n\r\nI tried changing || to &amp;&amp; since that was a fix from a similar question. It continued the loop. \r\n\r\nFor my final test, I returned to the original loop and changed the input to &quot;cat&quot;; rather than allowing user input. This caused an infinite loop. Typing either dog or cat caused the loop to continue and typing dog cat in the &amp;&amp; loop caused the loop to repeat twice before allowing input.\r\n\r\nI am at a loss.","title":"Why is Java while loop not ending when requirements met?","body":"<p>I'm trying to create a while loop that iterates until the person types cat or dog. Then, the program will move on to gethering the pet's information. It's changing the variable when they type cat or dog, as per my print test, but the loop does not end.</p>\n<p>The petType variable is set as an empty string by default.</p>\n<pre><code>String petType = &quot;&quot;; \n\nwhile(petType != &quot;cat&quot; || petType != &quot;dog&quot;) {\n    System.out.println(&quot;Dog or cat? &quot;);\n    petType = fetch.next().toLowerCase();\n    System.out.println(&quot;You typed &quot; + petType);\n}\n\nSystem.out.println(&quot;type: &quot; + petType);\n</code></pre>\n<p>I attempted to put a break in the loop:</p>\n<pre><code>while(petType != &quot;cat&quot; || petType != &quot;dog&quot;) {\n    System.out.println(&quot;Dog or cat? &quot;);\n    petType = fetch.next().toLowerCase();\n    System.out.println(&quot;You typed &quot; + petType);\n    break;\n    }\n\nSystem.out.println(&quot;type: &quot; + petType);\n</code></pre>\n<p>But that caused the loop to end even when the answer was wrong. Placing the break outside the braces returned an error.</p>\n<p>I also attempted this:</p>\n<pre><code>boolean canBoard = false;\n\nwhile(canBoard = false) {\n    System.out.println(&quot;Pet type? &quot;);\n    petType = fetch.next().toLowerCase();\n    System.out.println(&quot;You typed &quot; + petType);\n    if(petType == &quot;cat&quot; || petType == &quot;dog&quot;) {\n       canBoard = true;\n    }\n}\nSystem.out.println(&quot;type: &quot; + petType);\n</code></pre>\n<p>However, the program sets the boolean to true without input and returned type: with no petType output.</p>\n<p>I tried changing || to &amp;&amp; since that was a fix from a similar question. It continued the loop.</p>\n<p>For my final test, I returned to the original loop and changed the input to &quot;cat&quot;; rather than allowing user input. This caused an infinite loop. Typing either dog or cat caused the loop to continue and typing dog cat in the &amp;&amp; loop caused the loop to repeat twice before allowing input.</p>\n<p>I am at a loss.</p>\n"},{"tags":["java","wrapper"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":3,"creation_date":1690216929,"post_id":76756505,"comment_id":135319441,"body_markdown":"That sounds like a broken JDK. The fact that it works with `Double` suggests that you have a JDK set up and only Integer is broken - does it work without the unnecessary import statements?","body":"That sounds like a broken JDK. The fact that it works with <code>Double</code> suggests that you have a JDK set up and only Integer is broken - does it work without the unnecessary import statements?"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1690217071,"post_id":76756505,"comment_id":135319473,"body_markdown":"You normally don&#39;t need import statements for the java.lang package. What happens when you remove the import statements?","body":"You normally don&#39;t need import statements for the java.lang package. What happens when you remove the import statements?"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1690217178,"post_id":76756505,"comment_id":135319489,"body_markdown":"You got it _in what_ though? Because, that&#39;s an editor warning, not a java compile error, so did you try to compile your code using `javac` directly? Does that work? If so, time to update your IDE (or if it&#39;s up to date, do some searching to see if this is a known issue with it).","body":"You got it <i>in what</i> though? Because, that&#39;s an editor warning, not a java compile error, so did you try to compile your code using <code>javac</code> directly? Does that work? If so, time to update your IDE (or if it&#39;s up to date, do some searching to see if this is a known issue with it)."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1690218201,"post_id":76756505,"comment_id":135319654,"body_markdown":"I agree that a broken or misconfigured JDK or IDE is the most likely explanation. But there is another possibility.  The (fully qualified) class name that you are importing there *might* contain homoglyphs.  Try retyping `java.lang.Integer`.  (Or simply removing both imports.  They are unnecessary since classes in `java.lang` are imported by default.)","body":"I agree that a broken or misconfigured JDK or IDE is the most likely explanation. But there is another possibility.  The (fully qualified) class name that you are importing there <i>might</i> contain homoglyphs.  Try retyping <code>java.lang.Integer</code>.  (Or simply removing both imports.  They are unnecessary since classes in <code>java.lang</code> are imported by default.)"},{"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"score":0,"creation_date":1690218360,"post_id":76756505,"comment_id":135319682,"body_markdown":"Do you define right path to JRE(JDK) in your Eclipse?","body":"Do you define right path to JRE(JDK) in your Eclipse?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1690219198,"post_id":76756505,"comment_id":135319842,"body_markdown":"did you follow the *usual* procedures: save the file, clean the project (aka rebuild: menu  `Project`-`Clean...`), close and re-open Eclipse (that looks very much like Eclipse) ?","body":"did you follow the <i>usual</i> procedures: save the file, clean the project (aka rebuild: menu  <code>Project</code>-<code>Clean...</code>), close and re-open Eclipse (that looks very much like Eclipse) ?"},{"owner":{"account_id":1810821,"reputation":475,"user_id":1646928,"accept_rate":71,"display_name":"JamesB"},"score":0,"creation_date":1690251730,"post_id":76756505,"comment_id":135323908,"body_markdown":"@f1sh  Yes, I uploaded image without the import.","body":"@f1sh  Yes, I uploaded image without the import."},{"owner":{"account_id":1810821,"reputation":475,"user_id":1646928,"accept_rate":71,"display_name":"JamesB"},"score":0,"creation_date":1690251807,"post_id":76756505,"comment_id":135323913,"body_markdown":"@OHGODSPIDERS It gives me error.","body":"@OHGODSPIDERS It gives me error."},{"owner":{"account_id":1810821,"reputation":475,"user_id":1646928,"accept_rate":71,"display_name":"JamesB"},"score":0,"creation_date":1690251925,"post_id":76756505,"comment_id":135323921,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans `Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \n\tInteger cannot be resolved to a type\n\n\tat Project2/test.MainClass.main(MainClass.java:6)`","body":"@Mike&#39;Pomax&#39;Kamermans <code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem:  \tInteger cannot be resolved to a type  \tat Project2&#47;test.MainClass.main(MainClass.java:6)</code>"},{"owner":{"account_id":1810821,"reputation":475,"user_id":1646928,"accept_rate":71,"display_name":"JamesB"},"score":0,"creation_date":1690252010,"post_id":76756505,"comment_id":135323928,"body_markdown":"@WladimirDiskowski Yes.","body":"@WladimirDiskowski Yes."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1690262407,"post_id":76756505,"comment_id":135324752,"body_markdown":"@JamesB don&#39;t put details in comments. [put details in your post](/help/how-to-ask).","body":"@JamesB don&#39;t put details in comments. <a href=\"/help/how-to-ask\">put details in your post</a>."}],"answers":[{"tags":[],"owner":{"account_id":27810413,"reputation":456,"user_id":21232911,"display_name":"nischal sharma"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1690218640,"creation_date":1690218640,"answer_id":76756684,"question_id":76756505,"body_markdown":"The error, &quot;Integer cannot be resolved to a type,&quot; is due to the import statement for java.lang.Integer. Since it is already part of the Java language&#39;s core, importing it explicitly  confuses the compiler. simply remove the import statements for `java.lang.Integer` and `java.lang.Double` and the code will run absolutely fine ","title":"Integer cannot be resolved to a type error","body":"<p>The error, &quot;Integer cannot be resolved to a type,&quot; is due to the import statement for java.lang.Integer. Since it is already part of the Java language's core, importing it explicitly  confuses the compiler. simply remove the import statements for <code>java.lang.Integer</code> and <code>java.lang.Double</code> and the code will run absolutely fine</p>\n"}],"owner":{"account_id":1810821,"reputation":475,"user_id":1646928,"accept_rate":71,"display_name":"JamesB"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690251687,"creation_date":1690216786,"question_id":76756505,"body_markdown":"Got `Integer cannot be resolved to a type error` when using Integer in the code or `The import java.lang.Integer cannot be resolved` when trying to import `java.lang.Integer` explicitly, the errors do not happen with other wrappers:\r\n\r\nMainClass.java:\r\n\r\n    package test;\r\n    \r\n    import java.lang.Double;\r\n    import java.lang.Integer;\r\n    \r\n    public class MainClass {\r\n    \r\n    \tpublic static void main (String args[]) {\r\n    \t\tInteger intWrapper = 4;\r\n    \t\tDouble doubleWrapper = 8.0d;\r\n    \t}\r\n    }\r\n\r\nImage:\r\n\r\n[![Code][1]][1]\r\n\r\nWithout imports:\r\n\r\n[![Code 2][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZVNEE.jpg\r\n  [2]: https://i.stack.imgur.com/9XE2e.png","title":"Integer cannot be resolved to a type error","body":"<p>Got <code>Integer cannot be resolved to a type error</code> when using Integer in the code or <code>The import java.lang.Integer cannot be resolved</code> when trying to import <code>java.lang.Integer</code> explicitly, the errors do not happen with other wrappers:</p>\n<p>MainClass.java:</p>\n<pre><code>package test;\n\nimport java.lang.Double;\nimport java.lang.Integer;\n\npublic class MainClass {\n\n    public static void main (String args[]) {\n        Integer intWrapper = 4;\n        Double doubleWrapper = 8.0d;\n    }\n}\n</code></pre>\n<p>Image:</p>\n<p><a href=\"https://i.stack.imgur.com/ZVNEE.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZVNEE.jpg\" alt=\"Code\" /></a></p>\n<p>Without imports:</p>\n<p><a href=\"https://i.stack.imgur.com/9XE2e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9XE2e.png\" alt=\"Code 2\" /></a></p>\n"},{"tags":["java","spring-webflux","reactive-programming","reactive","flux"],"comments":[{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1689795830,"post_id":76721994,"comment_id":135265931,"body_markdown":"May I ask why you need to do the buffering inside the parallel flux, not outside?","body":"May I ask why you need to do the buffering inside the parallel flux, not outside?"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1689951975,"post_id":76721994,"comment_id":135290095,"body_markdown":"You can use `flatMap` to execute multiple queries concurrently. By default, `flatMap` will process `Queues.SMALL_BUFFER_SIZE = 256` number of in-flight inner sequences.","body":"You can use <code>flatMap</code> to execute multiple queries concurrently. By default, <code>flatMap</code> will process <code>Queues.SMALL_BUFFER_SIZE = 256</code> number of in-flight inner sequences."}],"answers":[{"tags":[],"owner":{"account_id":28759342,"reputation":11,"user_id":22025617,"display_name":"migueljacuinde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690251609,"creation_date":1690251609,"answer_id":76759089,"question_id":76721994,"body_markdown":"Your code is correct but you simply need to move the buffer before the parallel call. Like this:\r\n```java\r\n\r\n    Flux.range(1, 10)\r\n                .buffer(3)\r\n                .parallel()\r\n                .runOn(Schedulers.parallel())\r\n                .doOnNext(number -&gt; {\r\n                    sleepMillis(1000);\r\n                    System.out.println(number + &quot;Thread : &quot; + Thread.currentThread().getName());\r\n                })\r\n                .doOnNext(number -&gt; {\r\n                    sleepMillis(1000);\r\n                    System.out.println(&quot;Processing element: &quot; + number);\r\n                })\r\n                .doOnNext(batch -&gt; {\r\n                    sleepMillis(1000);\r\n                    System.out.println(&quot;Batch: &quot; + batch);\r\n                })\r\n                .sequential() \r\n                .blockLast();\r\n```\r\n\r\nBy calling sleepMillis(1000) you will be able to see the parallel processing every step of the way.\r\n\r\nIn addition, by calling, Thread.currentThread().getName(), you can see the thread name which will confirm parallel processing.","title":"How to process batch of elements in Flux in parallel environment","body":"<p>Your code is correct but you simply need to move the buffer before the parallel call. Like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    Flux.range(1, 10)\n                .buffer(3)\n                .parallel()\n                .runOn(Schedulers.parallel())\n                .doOnNext(number -&gt; {\n                    sleepMillis(1000);\n                    System.out.println(number + &quot;Thread : &quot; + Thread.currentThread().getName());\n                })\n                .doOnNext(number -&gt; {\n                    sleepMillis(1000);\n                    System.out.println(&quot;Processing element: &quot; + number);\n                })\n                .doOnNext(batch -&gt; {\n                    sleepMillis(1000);\n                    System.out.println(&quot;Batch: &quot; + batch);\n                })\n                .sequential() \n                .blockLast();\n</code></pre>\n<p>By calling sleepMillis(1000) you will be able to see the parallel processing every step of the way.</p>\n<p>In addition, by calling, Thread.currentThread().getName(), you can see the thread name which will confirm parallel processing.</p>\n"}],"owner":{"account_id":8955809,"reputation":1,"user_id":6680203,"display_name":"sesha sai srivatsav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690251609,"creation_date":1689774291,"question_id":76721994,"body_markdown":"In the below piece of code, I see an IDE error for buffer. I want to be able to group elements in to batch of three using buffer but it isn&#39;t working.\r\n\r\nMy goal is, divide flux into parallel rails, and each rail gets set amount of elements in a batch size. Could you help me achieve it?\r\n\r\n```\r\nimport reactor.core.publisher.Flux;\r\nimport reactor.core.scheduler.Schedulers;\r\n\r\npublic class BufferAndRunOnExample {\r\n    public static void main(String[] args) {\r\n        Flux.range(1, 10)\r\n                .parallel()\r\n                .runOn(Schedulers.parallel()) // Run the following operators on the parallel scheduler\r\n                .doOnNext(number -&gt; System.out.println(&quot;Processing element: &quot; + number))\r\n                .buffer(3) // Group elements into batches of size 3\r\n                .doOnNext(batch -&gt; System.out.println(&quot;Batch: &quot; + batch))\r\n                .sequential() // Merge the parallel streams back into a sequential stream\r\n                .blockLast(); // Block and wait for the completion of the entire stream\r\n    }\r\n}\r\n```\r\n\r\n\r\nI tried reading Flux documentation\r\nI tried searching for it on Bard, OpenAI but with no luck","title":"How to process batch of elements in Flux in parallel environment","body":"<p>In the below piece of code, I see an IDE error for buffer. I want to be able to group elements in to batch of three using buffer but it isn't working.</p>\n<p>My goal is, divide flux into parallel rails, and each rail gets set amount of elements in a batch size. Could you help me achieve it?</p>\n<pre><code>import reactor.core.publisher.Flux;\nimport reactor.core.scheduler.Schedulers;\n\npublic class BufferAndRunOnExample {\n    public static void main(String[] args) {\n        Flux.range(1, 10)\n                .parallel()\n                .runOn(Schedulers.parallel()) // Run the following operators on the parallel scheduler\n                .doOnNext(number -&gt; System.out.println(&quot;Processing element: &quot; + number))\n                .buffer(3) // Group elements into batches of size 3\n                .doOnNext(batch -&gt; System.out.println(&quot;Batch: &quot; + batch))\n                .sequential() // Merge the parallel streams back into a sequential stream\n                .blockLast(); // Block and wait for the completion of the entire stream\n    }\n}\n</code></pre>\n<p>I tried reading Flux documentation\nI tried searching for it on Bard, OpenAI but with no luck</p>\n"},{"tags":["java","compiler-errors"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1690242370,"post_id":76758575,"comment_id":135323112,"body_markdown":"Is that the entire statement? It needs to end with a semicolon (`;`), like all statements in Java.","body":"Is that the entire statement? It needs to end with a semicolon (<code>;</code>), like all statements in Java."},{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":4,"creation_date":1690242777,"post_id":76758575,"comment_id":135323147,"body_markdown":"In addition to the syntax problems you are having, you have (at least) two other serious problems here.  The first is there is no terminal operation, so the stream does nothing.  The second is that you should not be using `map` to side-effect the elements.  Instead, use `forEach`, such as `reviewList().stream().forEach(x -&gt; x.setStatus(status))`.","body":"In addition to the syntax problems you are having, you have (at least) two other serious problems here.  The first is there is no terminal operation, so the stream does nothing.  The second is that you should not be using <code>map</code> to side-effect the elements.  Instead, use <code>forEach</code>, such as <code>reviewList().stream().forEach(x -&gt; x.setStatus(status))</code>."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1690243046,"post_id":76758575,"comment_id":135323169,"body_markdown":"I suppose it wouldn’t even compile with the semicolon, since `map` would return a `Stream`, not a `List`","body":"I suppose it wouldn’t even compile with the semicolon, since <code>map</code> would return a <code>Stream</code>, not a <code>List</code>"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1690244173,"post_id":76758575,"comment_id":135323276,"body_markdown":"@BrianGoetz What about using `peek()` to modify the stream elements as they&#39;re passing through? Is that discouraged?","body":"@BrianGoetz What about using <code>peek()</code> to modify the stream elements as they&#39;re passing through? Is that discouraged?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690244615,"post_id":76758575,"comment_id":135323313,"body_markdown":"@shmosel It&#39;s a compile error, and not specific to streams. All statements have to be terminated.","body":"@shmosel It&#39;s a compile error, and not specific to streams. All statements have to be terminated."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1690245980,"post_id":76758575,"comment_id":135323437,"body_markdown":"@user207421 If so, this question should be closed as typo. I have a feeling the real question is about using streams correctly. But I didn&#39;t mean to undo your edit; feel free to revert.","body":"@user207421 If so, this question should be closed as typo. I have a feeling the real question is about using streams correctly. But I didn&#39;t mean to undo your edit; feel free to revert."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690246136,"post_id":76758575,"comment_id":135323448,"body_markdown":"@shmosel I have already so voted.","body":"@shmosel I have already so voted."},{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":1,"creation_date":1690247017,"post_id":76758575,"comment_id":135323530,"body_markdown":"@shmosel `peek` is provided only for debugging (note the name, it connotes a sneaky look) and is not guaranteed to be called in all cases.  Use `forEach` for side effects.","body":"@shmosel <code>peek</code> is provided only for debugging (note the name, it connotes a sneaky look) and is not guaranteed to be called in all cases.  Use <code>forEach</code> for side effects."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1690251600,"creation_date":1690242585,"answer_id":76758652,"question_id":76758575,"body_markdown":"\r\nYour statement does not end with a semi-colon nor is it complete.  You need a terminal operation to start the stream. You would not really return a new list but just setting the status on the original one. And even if you did return a list you are still setting the original objects.  You would need to copy the object for each review.\r\n\r\nTo just set the status on the original object do\r\n```\r\nreviewList.forEach(r-&gt;r.setStatus(Status.APPROVED));\r\n```\r\nor\r\n```\r\nfor (Review r : reviewList) {\r\n      r.setStatus(Status.APPROVED);\r\n}\r\n```\r\nTo do what you want you would need to create a new list. You could do the following although with some creativity it could be shorter.  You would need to write a `copyOf` method so you aren&#39;t changing the same object.\r\n```\r\nList&lt;Review&gt; tempList = reviewList.stream()\r\n        .map(r-&gt; {\r\n               Review rev = copyOf(r);\r\n               rev.setStatus(Status.APPROVED);\r\n               return rev;\r\n         })\r\n        .toList();","title":"When using java streams map function I&#39;m getting insert &quot;;&quot; to complete BlockStatements error","body":"<p>Your statement does not end with a semi-colon nor is it complete.  You need a terminal operation to start the stream. You would not really return a new list but just setting the status on the original one. And even if you did return a list you are still setting the original objects.  You would need to copy the object for each review.</p>\n<p>To just set the status on the original object do</p>\n<pre><code>reviewList.forEach(r-&gt;r.setStatus(Status.APPROVED));\n</code></pre>\n<p>or</p>\n<pre><code>for (Review r : reviewList) {\n      r.setStatus(Status.APPROVED);\n}\n</code></pre>\n<p>To do what you want you would need to create a new list. You could do the following although with some creativity it could be shorter.  You would need to write a <code>copyOf</code> method so you aren't changing the same object.</p>\n<pre><code>List&lt;Review&gt; tempList = reviewList.stream()\n        .map(r-&gt; {\n               Review rev = copyOf(r);\n               rev.setStatus(Status.APPROVED);\n               return rev;\n         })\n        .toList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26738302,"reputation":74,"user_id":20339497,"display_name":"HuaJFrame"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690247544,"creation_date":1690247306,"answer_id":76758880,"question_id":76758575,"body_markdown":"You can try the following method, whether it will work as you expected; Hope to help you\r\n```\r\nList&lt;Review&gt; tempList = reviewList.stream()\r\n            .map(x -&gt; {\r\n                x.setStatus(Status.APPROVED)\r\n                return x;\r\n            }).collect(Collectors.toList());\r\n```\r\nBut if you&#39;re just setting state, I suggest you use a for loop or foreach, as others have said;","title":"When using java streams map function I&#39;m getting insert &quot;;&quot; to complete BlockStatements error","body":"<p>You can try the following method, whether it will work as you expected; Hope to help you</p>\n<pre><code>List&lt;Review&gt; tempList = reviewList.stream()\n            .map(x -&gt; {\n                x.setStatus(Status.APPROVED)\n                return x;\n            }).collect(Collectors.toList());\n</code></pre>\n<p>But if you're just setting state, I suggest you use a for loop or foreach, as others have said;</p>\n"}],"owner":{"account_id":22137140,"reputation":11,"user_id":16387706,"display_name":"Jboyd34"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1690251600,"creation_date":1690241245,"question_id":76758575,"body_markdown":"Here is my stream. The status inside of the map function is an enum\r\n\r\n\r\n```\r\nList&lt;Review&gt; tempList = reviewList.stream()\r\n\t\t\t.map(x -&gt; x.setStatus(Status.APPROVED))\r\n```\r\n\r\n\r\nIt&#39;s not only with the map method. I tried other methods and got the same error","title":"When using java streams map function I&#39;m getting insert &quot;;&quot; to complete BlockStatements error","body":"<p>Here is my stream. The status inside of the map function is an enum</p>\n<pre><code>List&lt;Review&gt; tempList = reviewList.stream()\n            .map(x -&gt; x.setStatus(Status.APPROVED))\n</code></pre>\n<p>It's not only with the map method. I tried other methods and got the same error</p>\n"},{"tags":["java","maven","java-11"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1690298874,"post_id":76759073,"comment_id":135332383,"body_markdown":"Can you tell use which Maven version you are using? `mvn --version`?","body":"Can you tell use which Maven version you are using? <code>mvn --version</code>?"},{"owner":{"account_id":12045936,"reputation":2811,"user_id":8810941,"display_name":"Pavindu"},"score":0,"creation_date":1690304001,"post_id":76759073,"comment_id":135333522,"body_markdown":"Hi @khmarbaise, my maven version is `Apache Maven 3.8.5`","body":"Hi @khmarbaise, my maven version is <code>Apache Maven 3.8.5</code>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1690312468,"post_id":76759073,"comment_id":135335152,"body_markdown":"Please show the full pom of your setup...","body":"Please show the full pom of your setup..."}],"owner":{"account_id":12045936,"reputation":2811,"user_id":8810941,"display_name":"Pavindu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690251325,"creation_date":1690251325,"question_id":76759073,"body_markdown":"I&#39;m removing findbugs from my Java project to migrate to spotbugs. So I removed the dependency and all other findbugs references from the project. However, when building the project with `mvn clean install -U`, I&#39;m still getting the following error.\r\n\r\n```shell\r\n[ERROR] Failed to execute goal org.codehaus.mojo:findbugs-maven-plugin:3.0.3:findbugs (findbugs) on \r\nproject metering: Unable to parse configuration of mojo org.codehaus.mojo:findbugs-maven-plugin:3.0.3:\r\nfindbugs for parameter pluginArtifacts: Cannot assign configuration entry &#39;pluginArtifacts&#39; with value \r\n&#39;${plugin.artifacts}&#39; of type java.util.Collections.UnmodifiableRandomAccessList to property of type \r\njava.util.ArrayList -&gt; [Help 1]\r\n```\r\n\r\nSince my project no longer has findbugs as a dependency, I&#39;m frustrated why this error is thrown. Appreciate any help on this. TIA!","title":"Unable to parse configuration of mojo org.codehaus.mojo:findbugs-maven-plugin:3.0.3:findbugs for parameter pluginArtifacts even if findbugs is removed","body":"<p>I'm removing findbugs from my Java project to migrate to spotbugs. So I removed the dependency and all other findbugs references from the project. However, when building the project with <code>mvn clean install -U</code>, I'm still getting the following error.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>[ERROR] Failed to execute goal org.codehaus.mojo:findbugs-maven-plugin:3.0.3:findbugs (findbugs) on \nproject metering: Unable to parse configuration of mojo org.codehaus.mojo:findbugs-maven-plugin:3.0.3:\nfindbugs for parameter pluginArtifacts: Cannot assign configuration entry 'pluginArtifacts' with value \n'${plugin.artifacts}' of type java.util.Collections.UnmodifiableRandomAccessList to property of type \njava.util.ArrayList -&gt; [Help 1]\n</code></pre>\n<p>Since my project no longer has findbugs as a dependency, I'm frustrated why this error is thrown. Appreciate any help on this. TIA!</p>\n"},{"tags":["java","cryptography","number-theory"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1690286355,"post_id":76758972,"comment_id":135329280,"body_markdown":"consider the [jacobi symbol](https://en.wikipedia.org/wiki/Jacobi_symbol)","body":"consider the <a href=\"https://en.wikipedia.org/wiki/Jacobi_symbol\" rel=\"nofollow noreferrer\">jacobi symbol</a>"}],"answers":[{"tags":[],"owner":{"account_id":2122531,"reputation":363,"user_id":2425668,"display_name":"Radiance Wei Qi Ong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690251031,"creation_date":1690251031,"answer_id":76759057,"question_id":76758972,"body_markdown":"For Euler&#39;s Criterion as you stated a^((n-1)/2) mod n, n must be an odd prime and a coprime to n. In your code, you passed in p*q for n which is obviously not an odd prime","title":"Euler&#39;s Criterion using BigIntegers given RSA n=p*q","body":"<p>For Euler's Criterion as you stated a^((n-1)/2) mod n, n must be an odd prime and a coprime to n. In your code, you passed in p*q for n which is obviously not an odd prime</p>\n"}],"owner":{"account_id":20299504,"reputation":47,"user_id":14889279,"display_name":"HygrowCarpets"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690251031,"creation_date":1690249726,"question_id":76758972,"body_markdown":"I&#39;m trying to find if (a/p) is a quadratic residue using Euler&#39;s criterion\r\n\r\nI&#39;m aware that using this method only 3 answers should exist: 1, 0, or -1\r\n\r\nHowever, when I implemented this in Java using BigIntegers I&#39;m getting a different result. When I run the code below, my legendreSymbol equals 104192021379649097919980 which cannot be right. I&#39;ve looked at many tutorials and all of the express Euler&#39;s criterion as a^((n-1)/2) mod n which is exactly how I&#39;m calculating it in my code.\r\n\r\nI tried to look for any similar implementations online but I can&#39;t find any at all.\r\n\r\nI tired to factorize n into p and q and tried using Euler&#39;s criterion on those values but some of those results are still not either 0, 1 or -1\r\n\r\n```\r\npublic static void main(String args[]) {\r\n\t\tBigInteger p = new BigInteger(&quot;329398839493&quot;);\r\n\t\tBigInteger q = new BigInteger(&quot;500356734809&quot;);\r\n\t\tBigInteger n = p.multiply(q);\r\n\r\n\t\t\r\n\t\tBigInteger vote = new BigInteger(&quot;131187442706502465465362&quot;);\r\n\r\n\t\t\r\n\t\tif(isQuadraticResidue(vote, n)) System.out.println(&quot;Vote 1 = QR&quot;);\r\n\t\telse System.out.println(&quot;Vote 1 = QNR&quot;);\r\n\t}\r\n\t\r\n\t//Quadratic Reciprocity Eulers Criterion\r\n\tpublic static boolean isQuadraticResidue(BigInteger num, BigInteger n) {\r\n\t\t//https://en.wikipedia.org/wiki/Legendre_symbol\r\n\t\t//if the legendreSymbol = 1 then the number is a quadratic residue\r\n\t\t\r\n    \tBigInteger exponent = n.subtract(BigInteger.ONE).divide(BigInteger.TWO);\r\n    \tBigInteger legendreSymbol = num.modPow(exponent, n);\r\n    \tSystem.out.println(legendreSymbol);\r\n\r\n        return legendreSymbol.equals(BigInteger.ONE);\r\n    }","title":"Euler&#39;s Criterion using BigIntegers given RSA n=p*q","body":"<p>I'm trying to find if (a/p) is a quadratic residue using Euler's criterion</p>\n<p>I'm aware that using this method only 3 answers should exist: 1, 0, or -1</p>\n<p>However, when I implemented this in Java using BigIntegers I'm getting a different result. When I run the code below, my legendreSymbol equals 104192021379649097919980 which cannot be right. I've looked at many tutorials and all of the express Euler's criterion as a^((n-1)/2) mod n which is exactly how I'm calculating it in my code.</p>\n<p>I tried to look for any similar implementations online but I can't find any at all.</p>\n<p>I tired to factorize n into p and q and tried using Euler's criterion on those values but some of those results are still not either 0, 1 or -1</p>\n<pre><code>public static void main(String args[]) {\n        BigInteger p = new BigInteger(&quot;329398839493&quot;);\n        BigInteger q = new BigInteger(&quot;500356734809&quot;);\n        BigInteger n = p.multiply(q);\n\n        \n        BigInteger vote = new BigInteger(&quot;131187442706502465465362&quot;);\n\n        \n        if(isQuadraticResidue(vote, n)) System.out.println(&quot;Vote 1 = QR&quot;);\n        else System.out.println(&quot;Vote 1 = QNR&quot;);\n    }\n    \n    //Quadratic Reciprocity Eulers Criterion\n    public static boolean isQuadraticResidue(BigInteger num, BigInteger n) {\n        //https://en.wikipedia.org/wiki/Legendre_symbol\n        //if the legendreSymbol = 1 then the number is a quadratic residue\n        \n        BigInteger exponent = n.subtract(BigInteger.ONE).divide(BigInteger.TWO);\n        BigInteger legendreSymbol = num.modPow(exponent, n);\n        System.out.println(legendreSymbol);\n\n        return legendreSymbol.equals(BigInteger.ONE);\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","elasticsearch","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":9040919,"reputation":47,"user_id":6735223,"display_name":"Waley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690250827,"creation_date":1690250827,"answer_id":76759044,"question_id":76684343,"body_markdown":"my issue was in  **byTermAggregation**. I added another nested aggregation on total_sum_metric. this is the good query :\r\n\r\n```\r\nfinal var byTermAggregation = Aggregation.of(aggBuilder -&gt; aggBuilder\r\n          .terms(termsAggregation)\r\n          .aggregations(&quot;total_sum_metric&quot;, Aggregation.of(sumMetricBuilder -&gt; sumMetricBuilder.sum(sumAggregation))\r\n          .aggregations(&quot;group_by_date&quot;, groupByDateAggregation))));\r\n```","title":"spring data elastic : Aggregator [total_sum_metric] of type [sum] cannot accept sub-aggregation","body":"<p>my issue was in  <strong>byTermAggregation</strong>. I added another nested aggregation on total_sum_metric. this is the good query :</p>\n<pre><code>final var byTermAggregation = Aggregation.of(aggBuilder -&gt; aggBuilder\n          .terms(termsAggregation)\n          .aggregations(&quot;total_sum_metric&quot;, Aggregation.of(sumMetricBuilder -&gt; sumMetricBuilder.sum(sumAggregation))\n          .aggregations(&quot;group_by_date&quot;, groupByDateAggregation))));\n</code></pre>\n"}],"owner":{"account_id":9040919,"reputation":47,"user_id":6735223,"display_name":"Waley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76759044,"answer_count":1,"score":0,"last_activity_date":1690250827,"creation_date":1689301738,"question_id":76684343,"body_markdown":"I&#39;m new on spring data elastic and i&#39;m facing issue about query aggregation. \r\nMy stack is : spring boot 3, spring 6, elastic client 8.5.x. My elastic search host version is 7.xx.\r\nSo let&#39;s assume we have this query on elastic \r\n\r\n```json \r\nGET someIndex-* /_search\r\n{\r\n\r\n  &quot;size&quot;: 0,\r\n  &quot;query&quot;: {\r\n    &quot;bool&quot;: {\r\n      &quot;filter&quot;: [\r\n        {\r\n          &quot;range&quot;: {\r\n            &quot;@timestamp&quot;: {\r\n              &quot;gte&quot;: &quot;1688688000000&quot;,\r\n              &quot;lte&quot;: &quot;1688774399999&quot;,\r\n              &quot;format&quot;: &quot;epoch_millis&quot;\r\n            }\r\n          }\r\n        },\r\n        {\r\n          &quot;query_string&quot;: {\r\n            &quot;analyze_wildcard&quot;: true,\r\n            &quot;query&quot;: &quot;name: alise&quot;\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  &quot;aggs&quot;: {\r\n    &quot;by_term&quot;: {\r\n      &quot;terms&quot;: {\r\n        &quot;field&quot;: &quot;Product_type.keyword&quot;,\r\n        &quot;size&quot;: 10,\r\n        &quot;order&quot;: {\r\n          &quot;total_sum_metric&quot;: &quot;desc&quot;\r\n        },\r\n        &quot;min_doc_count&quot;: 1\r\n      },\r\n      &quot;aggs&quot;: {\r\n        &quot;total_sum_metric&quot;: {\r\n          &quot;sum&quot;: {\r\n            &quot;field&quot;: &quot;metric&quot;\r\n          }\r\n        },\r\n        &quot;group_by_date&quot;: {\r\n          &quot;date_histogram&quot;: {\r\n            &quot;interval&quot;: &quot;30s&quot;,\r\n            &quot;field&quot;: &quot;@timestamp&quot;,\r\n            &quot;min_doc_count&quot;: 1,\r\n            &quot;extended_bounds&quot;: {\r\n              &quot;min&quot;: &quot;1688688000000&quot;,\r\n              &quot;max&quot;: &quot;1688774399999&quot;\r\n            },\r\n            &quot;format&quot;: &quot;epoch_millis&quot;\r\n          },\r\n          &quot;aggs&quot;: {\r\n            &quot;total_sum_metric&quot;: {\r\n              &quot;sum&quot;: {\r\n                &quot;field&quot;: &quot;metric&quot;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n``` \r\nI wrote this query to spring data native query.\r\n\r\n```java\r\n public void retrieveApplicationDetails(String applicationName, @NonNull LocalDateTime startDateTime, @NonNull LocalDateTime endDateTime) {\r\n       final var startmilliSecond = startDateTime\r\n             .atZone(ZoneOffset.UTC)\r\n             .toInstant()\r\n             .toEpochMilli();\r\n       final var endmilliSecond = endDateTime\r\n             .minusMinutes(1)\r\n             .atZone(ZoneOffset.UTC)\r\n             .toInstant()\r\n             .toEpochMilli();\r\nfinal var query = buildSearchQuery(applicationName, startmilliSecond, endmilliSecond);\r\n       SearchHits&lt;Object&gt; search = elasticsearchOperations.search(query, Object.class, IndexCoordinates.of(&quot;Index-*&quot;));\r\n```\r\n```java\r\nprivate static NativeQuery buildSearchQuery(String applicationName, long startmilliSecond, long endmilliSecond) {\r\n    var rangeQuery = new Query.Builder()\r\n          .range(ran -&gt; ran\r\n                .field(&quot;@timestamp&quot;)\r\n                .format(&quot;epoch_millis&quot;)\r\n                .gte(JsonData.of(startmilliSecond))\r\n                .lte(JsonData.of(endmilliSecond)))\r\n          .build();\r\n\r\n    var queryString = new QueryStringQuery.Builder()\r\n          .query(&quot;name: %s&quot;.formatted(applicationName))\r\n          .analyzeWildcard(true)\r\n          .build()\r\n          ._toQuery();\r\n\r\n    final var termsAggregation = TermsAggregation.of(termBuilder -&gt; termBuilder\r\n          .field(&quot;Product_type.keyword&quot;)\r\n          .size(10)\r\n          .minDocCount(1)\r\n          .order(new NamedValue&lt;&gt;(&quot;total_sum_metric&quot;, SortOrder.Desc)));\r\n\r\n    final var sumAggregation = SumAggregation.of(metricAggregation -&gt; metricAggregation.field(&quot;metric&quot;));\r\n\r\n    final var query = QueryBuilders.bool(boolBuilder -&gt; boolBuilder.filter(List.of(rangeQuery, queryString)));\r\n\r\n    final var groupByDateAggregation = Aggregation.of(byDateBuilder -&gt; byDateBuilder\r\n          .dateHistogram(dateHistoBuilder -&gt; dateHistoBuilder\r\n                .field(&quot;@timestamp&quot;)\r\n                .fixedInterval(intervalBuilder -&gt; intervalBuilder.time(&quot;30s&quot;))\r\n                .minDocCount(1)\r\n                .extendedBounds(extendsBoundBuilder -&gt; extendsBoundBuilder\r\n                      .min(FieldDateMath.of(minBuilder -&gt; minBuilder.value((double) startmilliSecond)))\r\n                      .max(FieldDateMath.of(maxBuilder -&gt; maxBuilder.value((double) endmilliSecond))))\r\n                .format(&quot;epoch_millis&quot;)\r\n\r\n          )\r\n          .aggregations(&quot;total_sum_metric&quot;, sumAggregation));\r\n\r\n    final var byTermAggregation = Aggregation.of(aggBuilder -&gt; aggBuilder\r\n          .terms(termsAggregation)\r\n          .aggregations(&quot;total_sum_metric&quot;, Aggregation.of(sumMetricBuilder -&gt; sumMetricBuilder\r\n                .sum(sumAggregation)\r\n                .aggregations(&quot;group_by_date&quot;, groupByDateAggregation))));\r\n\r\n    return NativeQuery\r\n          .builder()\r\n          .withQuery(query)\r\n          .withAggregation(&quot;by_term&quot;, byTermAggregation)\r\n          .withMaxResults(0)\r\n          .withPageable(PageRequest.of(0, MAX_PAGE_REQUEST_SIZE))\r\n          .build();\r\n\r\n}\r\n\r\n```\r\n\r\nSo when I&#39;m trying to request this on my elastic I&#39;m getting this error *Aggregator [total_sum_metric] of type [sum] cannot accept sub-aggregation*. Some one knows what is my mistakes ?\r\nThanks to those who will take the time to read me\r\n\r\n","title":"spring data elastic : Aggregator [total_sum_metric] of type [sum] cannot accept sub-aggregation","body":"<p>I'm new on spring data elastic and i'm facing issue about query aggregation.\nMy stack is : spring boot 3, spring 6, elastic client 8.5.x. My elastic search host version is 7.xx.\nSo let's assume we have this query on elastic</p>\n<pre class=\"lang-json prettyprint-override\"><code>GET someIndex-* /_search\n{\n\n  &quot;size&quot;: 0,\n  &quot;query&quot;: {\n    &quot;bool&quot;: {\n      &quot;filter&quot;: [\n        {\n          &quot;range&quot;: {\n            &quot;@timestamp&quot;: {\n              &quot;gte&quot;: &quot;1688688000000&quot;,\n              &quot;lte&quot;: &quot;1688774399999&quot;,\n              &quot;format&quot;: &quot;epoch_millis&quot;\n            }\n          }\n        },\n        {\n          &quot;query_string&quot;: {\n            &quot;analyze_wildcard&quot;: true,\n            &quot;query&quot;: &quot;name: alise&quot;\n          }\n        }\n      ]\n    }\n  },\n  &quot;aggs&quot;: {\n    &quot;by_term&quot;: {\n      &quot;terms&quot;: {\n        &quot;field&quot;: &quot;Product_type.keyword&quot;,\n        &quot;size&quot;: 10,\n        &quot;order&quot;: {\n          &quot;total_sum_metric&quot;: &quot;desc&quot;\n        },\n        &quot;min_doc_count&quot;: 1\n      },\n      &quot;aggs&quot;: {\n        &quot;total_sum_metric&quot;: {\n          &quot;sum&quot;: {\n            &quot;field&quot;: &quot;metric&quot;\n          }\n        },\n        &quot;group_by_date&quot;: {\n          &quot;date_histogram&quot;: {\n            &quot;interval&quot;: &quot;30s&quot;,\n            &quot;field&quot;: &quot;@timestamp&quot;,\n            &quot;min_doc_count&quot;: 1,\n            &quot;extended_bounds&quot;: {\n              &quot;min&quot;: &quot;1688688000000&quot;,\n              &quot;max&quot;: &quot;1688774399999&quot;\n            },\n            &quot;format&quot;: &quot;epoch_millis&quot;\n          },\n          &quot;aggs&quot;: {\n            &quot;total_sum_metric&quot;: {\n              &quot;sum&quot;: {\n                &quot;field&quot;: &quot;metric&quot;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>I wrote this query to spring data native query.</p>\n<pre class=\"lang-java prettyprint-override\"><code> public void retrieveApplicationDetails(String applicationName, @NonNull LocalDateTime startDateTime, @NonNull LocalDateTime endDateTime) {\n       final var startmilliSecond = startDateTime\n             .atZone(ZoneOffset.UTC)\n             .toInstant()\n             .toEpochMilli();\n       final var endmilliSecond = endDateTime\n             .minusMinutes(1)\n             .atZone(ZoneOffset.UTC)\n             .toInstant()\n             .toEpochMilli();\nfinal var query = buildSearchQuery(applicationName, startmilliSecond, endmilliSecond);\n       SearchHits&lt;Object&gt; search = elasticsearchOperations.search(query, Object.class, IndexCoordinates.of(&quot;Index-*&quot;));\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>private static NativeQuery buildSearchQuery(String applicationName, long startmilliSecond, long endmilliSecond) {\n    var rangeQuery = new Query.Builder()\n          .range(ran -&gt; ran\n                .field(&quot;@timestamp&quot;)\n                .format(&quot;epoch_millis&quot;)\n                .gte(JsonData.of(startmilliSecond))\n                .lte(JsonData.of(endmilliSecond)))\n          .build();\n\n    var queryString = new QueryStringQuery.Builder()\n          .query(&quot;name: %s&quot;.formatted(applicationName))\n          .analyzeWildcard(true)\n          .build()\n          ._toQuery();\n\n    final var termsAggregation = TermsAggregation.of(termBuilder -&gt; termBuilder\n          .field(&quot;Product_type.keyword&quot;)\n          .size(10)\n          .minDocCount(1)\n          .order(new NamedValue&lt;&gt;(&quot;total_sum_metric&quot;, SortOrder.Desc)));\n\n    final var sumAggregation = SumAggregation.of(metricAggregation -&gt; metricAggregation.field(&quot;metric&quot;));\n\n    final var query = QueryBuilders.bool(boolBuilder -&gt; boolBuilder.filter(List.of(rangeQuery, queryString)));\n\n    final var groupByDateAggregation = Aggregation.of(byDateBuilder -&gt; byDateBuilder\n          .dateHistogram(dateHistoBuilder -&gt; dateHistoBuilder\n                .field(&quot;@timestamp&quot;)\n                .fixedInterval(intervalBuilder -&gt; intervalBuilder.time(&quot;30s&quot;))\n                .minDocCount(1)\n                .extendedBounds(extendsBoundBuilder -&gt; extendsBoundBuilder\n                      .min(FieldDateMath.of(minBuilder -&gt; minBuilder.value((double) startmilliSecond)))\n                      .max(FieldDateMath.of(maxBuilder -&gt; maxBuilder.value((double) endmilliSecond))))\n                .format(&quot;epoch_millis&quot;)\n\n          )\n          .aggregations(&quot;total_sum_metric&quot;, sumAggregation));\n\n    final var byTermAggregation = Aggregation.of(aggBuilder -&gt; aggBuilder\n          .terms(termsAggregation)\n          .aggregations(&quot;total_sum_metric&quot;, Aggregation.of(sumMetricBuilder -&gt; sumMetricBuilder\n                .sum(sumAggregation)\n                .aggregations(&quot;group_by_date&quot;, groupByDateAggregation))));\n\n    return NativeQuery\n          .builder()\n          .withQuery(query)\n          .withAggregation(&quot;by_term&quot;, byTermAggregation)\n          .withMaxResults(0)\n          .withPageable(PageRequest.of(0, MAX_PAGE_REQUEST_SIZE))\n          .build();\n\n}\n\n</code></pre>\n<p>So when I'm trying to request this on my elastic I'm getting this error <em>Aggregator [total_sum_metric] of type [sum] cannot accept sub-aggregation</em>. Some one knows what is my mistakes ?\nThanks to those who will take the time to read me</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1690136812,"post_id":76749287,"comment_id":135308072,"body_markdown":"Think you have to add a `&lt;queries&gt;` tag in manifest file of second app.","body":"Think you have to add a <code>&lt;queries&gt;</code> tag in manifest file of second app."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1690136942,"post_id":76749287,"comment_id":135308095,"body_markdown":"Is query() returning null,? Then you should tell us.","body":"Is query() returning null,? Then you should tell us."},{"owner":{"account_id":28033958,"reputation":1,"user_id":21412686,"display_name":"Zaitsev Ilya"},"score":0,"creation_date":1690164517,"post_id":76749287,"comment_id":135310397,"body_markdown":"@blackapps yes, query is returning null.","body":"@blackapps yes, query is returning null."},{"owner":{"account_id":28033958,"reputation":1,"user_id":21412686,"display_name":"Zaitsev Ilya"},"score":0,"creation_date":1690166301,"post_id":76749287,"comment_id":135310510,"body_markdown":"I added &lt;queries&gt; in manifest of 2d app, but it is not working.\n&lt;queries&gt;\n        &lt;package android:name=&quot;myPackage&quot;/&gt;\n&lt;/queries&gt;","body":"I added &lt;queries&gt; in manifest of 2d app, but it is not working. &lt;queries&gt;         &lt;package android:name=&quot;myPackage&quot;/&gt; &lt;/queries&gt;"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1690167056,"post_id":76749287,"comment_id":135310556,"body_markdown":"If query() is returning null then it is app a that returns null. You programmed it to return null. Or are you talking about the query() of app b?. I see it in the code. So tell why you return null. Add log statements in the query() code of the provider.  There are two query() members so tell about which one you are taking.","body":"If query() is returning null then it is app a that returns null. You programmed it to return null. Or are you talking about the query() of app b?. I see it in the code. So tell why you return null. Add log statements in the query() code of the provider.  There are two query() members so tell about which one you are taking."},{"owner":{"account_id":28033958,"reputation":1,"user_id":21412686,"display_name":"Zaitsev Ilya"},"score":0,"creation_date":1690178221,"post_id":76749287,"comment_id":135311463,"body_markdown":"@blackapps\nApp A use only insert function, but App B use query.\nI added log into IBoxContentProvider. While App A is inserting information into provider, log shows that provider works correctly (string var &quot;data&quot; comes to corrent string).\n\nWhen i try to get information in App B by query function, query function returns null.\n\nWhen i Used sharedUserId apps worked correctly: query returned cursor with string I need. But i have to not use sharedUserID for that case.","body":"@blackapps App A use only insert function, but App B use query. I added log into IBoxContentProvider. While App A is inserting information into provider, log shows that provider works correctly (string var &quot;data&quot; comes to corrent string).  When i try to get information in App B by query function, query function returns null.  When i Used sharedUserId apps worked correctly: query returned cursor with string I need. But i have to not use sharedUserID for that case."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1690223665,"post_id":76749287,"comment_id":135320523,"body_markdown":"Sorry but you dont understand what i asked. If app b cals query() function on content resolver then contents privider query() function is called if everything goes ok. Now tell if the second one is called. If the second one returns null the first one will return null to. So tell what is going on. The furst one could return null without the second one being called.","body":"Sorry but you dont understand what i asked. If app b cals query() function on content resolver then contents privider query() function is called if everything goes ok. Now tell if the second one is called. If the second one returns null the first one will return null to. So tell what is going on. The furst one could return null without the second one being called."}],"answers":[{"tags":[],"owner":{"account_id":28033958,"reputation":1,"user_id":21412686,"display_name":"Zaitsev Ilya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690250771,"creation_date":1690250771,"answer_id":76759041,"question_id":76749287,"body_markdown":"Content provider was found by 2d application when I added the following code to 2d app manifest:\r\n\r\n    &lt;queries&gt;\r\n        &lt;package android:name=&quot;myPackage&quot;/&gt;\r\n        &lt;provider android:authorities=&quot;myPackage.provider&quot; /&gt;\r\n    &lt;/queries&gt;\r\n\r\nI just didn&#39;t know about provider tag in queries","title":"query of ContentResolver returns null","body":"<p>Content provider was found by 2d application when I added the following code to 2d app manifest:</p>\n<pre><code>&lt;queries&gt;\n    &lt;package android:name=&quot;myPackage&quot;/&gt;\n    &lt;provider android:authorities=&quot;myPackage.provider&quot; /&gt;\n&lt;/queries&gt;\n</code></pre>\n<p>I just didn't know about provider tag in queries</p>\n"}],"owner":{"account_id":28033958,"reputation":1,"user_id":21412686,"display_name":"Zaitsev Ilya"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690250771,"creation_date":1690129821,"question_id":76749287,"body_markdown":"I have two applications.\r\n\r\nFirst application is to write data into ContentProvider, second application is to read. Data - just string\r\n\r\nIn first application I created ContentProvider class:\r\n\r\n``` \r\npackage myPackage;\r\n\r\nimport android.content.ContentProvider;\r\nimport android.content.ContentUris;\r\nimport android.content.ContentValues;\r\nimport android.content.UriMatcher;\r\nimport android.database.Cursor;\r\nimport android.database.MatrixCursor;\r\nimport android.net.Uri;\r\n\r\nimport java.io.BufferedWriter;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\n\r\npublic class IBoxContentProvider extends ContentProvider {\r\n\r\n    // Авторитет, используемый для доступа к провайдеру\r\n    private static final String AUTHORITY = &quot;myPackage.provider&quot;;\r\n    // URI для доступа к данным\r\n    private static final Uri CONTENT_URI = Uri.parse(&quot;content://&quot; + AUTHORITY + &quot;/data&quot;);\r\n    // Коды для UriMatcher\r\n    private static final int DATA = 1;\r\n    // UriMatcher для сопоставления URI\r\n    private static final UriMatcher uriMatcher = new UriMatcher(UriMatcher.NO_MATCH);\r\n\r\n    // Переменная для хранения строки\r\n    private String data;\r\n\r\n    static {\r\n        uriMatcher.addURI(AUTHORITY, &quot;data&quot;, DATA);\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreate() {\r\n        data = &quot;&quot;;\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public Cursor query(Uri uri, String[] projection, String selection, String[] selectionArgs, String sortOrder) {\r\n        if (uri.equals(CONTENT_URI)) {\r\n            String[] columnNames = {&quot;data&quot;};\r\n            MatrixCursor cursor = new MatrixCursor(columnNames);\r\n            cursor.addRow(new Object[]{data});\r\n            return cursor;\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public Uri insert(Uri uri, ContentValues values) {\r\n\r\n        if (uri.equals(CONTENT_URI)) {\r\n            String newData = values.getAsString(&quot;data&quot;);\r\n            data = newData;\r\n            getContext().getContentResolver().notifyChange(CONTENT_URI, null);\r\n            return ContentUris.withAppendedId(CONTENT_URI, 1);\r\n        } else {\r\n\r\n            return null;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int update(Uri uri, ContentValues values, String selection, String[] selectionArgs) {\r\n        if (uriMatcher.match(uri) == DATA) {\r\n            String newData = values.getAsString(&quot;data&quot;);\r\n            data = newData;\r\n            getContext().getContentResolver().notifyChange(CONTENT_URI, null);\r\n            return 1;\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int delete(Uri uri, String selection, String[] selectionArgs) {\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public String getType(Uri uri) {\r\n        return &quot;vnd.android.cursor.item/data&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\nIt is writing to Content using the following code:\r\n```\r\nvalues.put(&quot;data&quot;, myString);\r\nUri uri = Uri.parse(&quot;content://myPackage.provider/data&quot;);\r\nContentResolver contentResolver = getContentResolver();\r\nUri insertedUri = contentResolver.insert(uri, values);\r\n```\r\n\r\nIn manifest of the first application:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; package=&quot;myPackage&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@drawable/ico_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n\r\n        &lt;provider\r\n            android:name=&quot;myPackage.IBoxContentProvider&quot;\r\n            android:authorities=&quot;myPackage.provider&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:process=&quot;:myPackage_content_provider_process&quot;&gt;\r\n        &lt;/provider&gt;\r\n\r\n        &lt;activity.../&gt;\r\n            \r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nThe second application try to take information into 1st App&#39;s Content Provider:\r\n```\r\nUri uri = Uri.parse(&quot;content://myPackage.provider/data&quot;);\r\nContentResolver contentResolver = getContentResolver();\r\nCursor cursor = contentResolver.query(uri, projection, null, null, null);\r\n```\r\n\r\nBut Cursor is null...\r\n\r\nIt is worked correctly when I used:\r\n```\r\nandroid:sharedUserId=&quot;myPackage.sharedUserID&quot;\r\n```\r\n\r\nBut in my project I cannot use this way.\r\n\r\nCan u help me to understand, why cursor is null? How can I get access to Con tentProvider from other application and read its data? ","title":"query of ContentResolver returns null","body":"<p>I have two applications.</p>\n<p>First application is to write data into ContentProvider, second application is to read. Data - just string</p>\n<p>In first application I created ContentProvider class:</p>\n<pre><code>package myPackage;\n\nimport android.content.ContentProvider;\nimport android.content.ContentUris;\nimport android.content.ContentValues;\nimport android.content.UriMatcher;\nimport android.database.Cursor;\nimport android.database.MatrixCursor;\nimport android.net.Uri;\n\nimport java.io.BufferedWriter;\nimport java.io.FileWriter;\nimport java.io.IOException;\n\npublic class IBoxContentProvider extends ContentProvider {\n\n    // Авторитет, используемый для доступа к провайдеру\n    private static final String AUTHORITY = &quot;myPackage.provider&quot;;\n    // URI для доступа к данным\n    private static final Uri CONTENT_URI = Uri.parse(&quot;content://&quot; + AUTHORITY + &quot;/data&quot;);\n    // Коды для UriMatcher\n    private static final int DATA = 1;\n    // UriMatcher для сопоставления URI\n    private static final UriMatcher uriMatcher = new UriMatcher(UriMatcher.NO_MATCH);\n\n    // Переменная для хранения строки\n    private String data;\n\n    static {\n        uriMatcher.addURI(AUTHORITY, &quot;data&quot;, DATA);\n    }\n\n    @Override\n    public boolean onCreate() {\n        data = &quot;&quot;;\n        return true;\n    }\n\n    @Override\n    public Cursor query(Uri uri, String[] projection, String selection, String[] selectionArgs, String sortOrder) {\n        if (uri.equals(CONTENT_URI)) {\n            String[] columnNames = {&quot;data&quot;};\n            MatrixCursor cursor = new MatrixCursor(columnNames);\n            cursor.addRow(new Object[]{data});\n            return cursor;\n        } else {\n            return null;\n        }\n    }\n\n    @Override\n    public Uri insert(Uri uri, ContentValues values) {\n\n        if (uri.equals(CONTENT_URI)) {\n            String newData = values.getAsString(&quot;data&quot;);\n            data = newData;\n            getContext().getContentResolver().notifyChange(CONTENT_URI, null);\n            return ContentUris.withAppendedId(CONTENT_URI, 1);\n        } else {\n\n            return null;\n        }\n    }\n\n    @Override\n    public int update(Uri uri, ContentValues values, String selection, String[] selectionArgs) {\n        if (uriMatcher.match(uri) == DATA) {\n            String newData = values.getAsString(&quot;data&quot;);\n            data = newData;\n            getContext().getContentResolver().notifyChange(CONTENT_URI, null);\n            return 1;\n        } else {\n            return 0;\n        }\n    }\n\n    @Override\n    public int delete(Uri uri, String selection, String[] selectionArgs) {\n        return 0;\n    }\n\n    @Override\n    public String getType(Uri uri) {\n        return &quot;vnd.android.cursor.item/data&quot;;\n    }\n}\n\n</code></pre>\n<p>It is writing to Content using the following code:</p>\n<pre><code>values.put(&quot;data&quot;, myString);\nUri uri = Uri.parse(&quot;content://myPackage.provider/data&quot;);\nContentResolver contentResolver = getContentResolver();\nUri insertedUri = contentResolver.insert(uri, values);\n</code></pre>\n<p>In manifest of the first application:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; package=&quot;myPackage&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@drawable/ico_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n\n        &lt;provider\n            android:name=&quot;myPackage.IBoxContentProvider&quot;\n            android:authorities=&quot;myPackage.provider&quot;\n            android:exported=&quot;true&quot;\n            android:enabled=&quot;true&quot;\n            android:process=&quot;:myPackage_content_provider_process&quot;&gt;\n        &lt;/provider&gt;\n\n        &lt;activity.../&gt;\n            \n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>The second application try to take information into 1st App's Content Provider:</p>\n<pre><code>Uri uri = Uri.parse(&quot;content://myPackage.provider/data&quot;);\nContentResolver contentResolver = getContentResolver();\nCursor cursor = contentResolver.query(uri, projection, null, null, null);\n</code></pre>\n<p>But Cursor is null...</p>\n<p>It is worked correctly when I used:</p>\n<pre><code>android:sharedUserId=&quot;myPackage.sharedUserID&quot;\n</code></pre>\n<p>But in my project I cannot use this way.</p>\n<p>Can u help me to understand, why cursor is null? How can I get access to Con tentProvider from other application and read its data?</p>\n"},{"tags":["java","tomcat","tomcat8"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1690262114,"post_id":76758935,"comment_id":135324725,"body_markdown":"Just wondering if it&#39;s the leading slash , e.g. try...      &quot;*/images&quot;     else I don&#39;t know.  You should get the resource path after it is considered joined in the code from the call and print it to stdout in the logs folder file catalina.out  and take a look how the path and token were expanded.","body":"Just wondering if it&#39;s the leading slash , e.g. try...      &quot;*/images&quot;     else I don&#39;t know.  You should get the resource path after it is considered joined in the code from the call and print it to stdout in the logs folder file catalina.out  and take a look how the path and token were expanded."}],"owner":{"account_id":27438952,"reputation":43,"user_id":20934246,"display_name":"Repins Star"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690249943,"creation_date":1690248977,"question_id":76758935,"body_markdown":"I want to access resources like images in a directory with the endpoint that has a token in middle of the path.\r\n\r\n    http://localhost:8080/mycontext/&lt;token&gt;/images/logo.png\r\n\r\n\r\n\r\n\r\nI am trying to configure it in `context.xml` and put this config to point the resource to a directory:\r\n\r\n    &lt;Resources allowLinking=&quot;true&quot;&gt;\r\n            &lt;PreResources\r\n                base=&quot;C:/Temp/resources/images&quot;\r\n                className=&quot;org.apache.catalina.webresources.DirResourceSet&quot;\r\n                webAppMount=&quot;/*/images&quot; /&gt;\r\n        &lt;/Resources&gt;\r\n\r\nBut the `webAppMount` wildcard using `*` is not working. Is it possible? If yes how? If not what is the right way to do it?","title":"Tomcat PreResources wildcard webAppMount","body":"<p>I want to access resources like images in a directory with the endpoint that has a token in middle of the path.</p>\n<pre><code>http://localhost:8080/mycontext/&lt;token&gt;/images/logo.png\n</code></pre>\n<p>I am trying to configure it in <code>context.xml</code> and put this config to point the resource to a directory:</p>\n<pre><code>&lt;Resources allowLinking=&quot;true&quot;&gt;\n        &lt;PreResources\n            base=&quot;C:/Temp/resources/images&quot;\n            className=&quot;org.apache.catalina.webresources.DirResourceSet&quot;\n            webAppMount=&quot;/*/images&quot; /&gt;\n    &lt;/Resources&gt;\n</code></pre>\n<p>But the <code>webAppMount</code> wildcard using <code>*</code> is not working. Is it possible? If yes how? If not what is the right way to do it?</p>\n"},{"tags":["java","tomcat","war"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1649977562,"post_id":71877682,"comment_id":127016504,"body_markdown":"There is a lot about your question that needs to be clarified before anyone can answer properly.  However, 1) it is neither &quot;good practice&quot; or &quot;bad practice&quot; to deploy multiple webapps in a Tomcat server, and 2) two WARs is a Tomcat server doesn&#39;t create any direct dependencies between them.","body":"There is a lot about your question that needs to be clarified before anyone can answer properly.  However, 1) it is neither &quot;good practice&quot; or &quot;bad practice&quot; to deploy multiple webapps in a Tomcat server, and 2) two WARs is a Tomcat server doesn&#39;t create any direct dependencies between them."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1649977800,"post_id":71877682,"comment_id":127016555,"body_markdown":"One thing that doesn&#39;t make sense to me is this: &quot;my new .WAR which is basically an REST client from the tomcat&#39;s owner application&quot;. What does &quot;the tomcat&#39;s owner application&quot; mean? What is the point of deploying an REST API client as a WAR file?  (Or is it **actually** a web service that uses the client code?)","body":"One thing that doesn&#39;t make sense to me is this: &quot;my new .WAR which is basically an REST client from the tomcat&#39;s owner application&quot;. What does &quot;the tomcat&#39;s owner application&quot; mean? What is the point of deploying an REST API client as a WAR file?  (Or is it <b>actually</b> a web service that uses the client code?)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1649978281,"post_id":71877682,"comment_id":127016659,"body_markdown":"Finally, since you are asking for so called &quot;Best Practices&quot;, this is inherently an Opinion question.  Read [No Best Practices!](https://www.satisfice.com/blog/archives/5164) to understand why.  You should stop asking and talking about so called &quot;best practice&quot; because ... basically ... it doesn&#39;t really exist in the IT world.  All situations are different and no solutions or technical strategies are suitable for all of them.  You need to weigh up the pros and cons of each technical decision in its specific context.","body":"Finally, since you are asking for so called &quot;Best Practices&quot;, this is inherently an Opinion question.  Read <a href=\"https://www.satisfice.com/blog/archives/5164\" rel=\"nofollow noreferrer\">No Best Practices!</a> to understand why.  You should stop asking and talking about so called &quot;best practice&quot; because ... basically ... it doesn&#39;t really exist in the IT world.  All situations are different and no solutions or technical strategies are suitable for all of them.  You need to weigh up the pros and cons of each technical decision in its specific context."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1649982320,"post_id":71877682,"comment_id":127017257,"body_markdown":"Sure. The whole purpose of Tomcat and indeed all servlet  containers is to host multiple applications.","body":"Sure. The whole purpose of Tomcat and indeed all servlet  containers is to host multiple applications."},{"owner":{"account_id":12123923,"reputation":119,"user_id":8853902,"display_name":"Hugo Abreu"},"score":0,"creation_date":1649984757,"post_id":71877682,"comment_id":127017557,"body_markdown":"Answering @StephenC, Tomcat owner application is the application that installed the tomcat for itself to work properly, and this application may have actually customized the tomcat.","body":"Answering @StephenC, Tomcat owner application is the application that installed the tomcat for itself to work properly, and this application may have actually customized the tomcat."},{"owner":{"account_id":12123923,"reputation":119,"user_id":8853902,"display_name":"Hugo Abreu"},"score":0,"creation_date":1649984988,"post_id":71877682,"comment_id":127017580,"body_markdown":"@StephenC I edited the question, maybe is clear now?","body":"@StephenC I edited the question, maybe is clear now?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1649985007,"post_id":71877682,"comment_id":127017583,"body_markdown":"Well ... if you don&#39;t know what those customizations are / may be, then there is a risk that your app may interfere with those customizations ... somehow.  But we can&#39;t quantify those risks for you.  Why not ask the vendor of the &quot;owner application&quot; for advice?","body":"Well ... if you don&#39;t know what those customizations are / may be, then there is a risk that your app may interfere with those customizations ... somehow.  But we can&#39;t quantify those risks for you.  Why not ask the vendor of the &quot;owner application&quot; for advice?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1649985158,"post_id":71877682,"comment_id":127017605,"body_markdown":"Yes the question is clearer.  But the still don&#39;t think that it is answerable.  It is too high level.  And you are still asking for opinions ... which is another reason to close it.","body":"Yes the question is clearer.  But the still don&#39;t think that it is answerable.  It is too high level.  And you are still asking for opinions ... which is another reason to close it."},{"owner":{"account_id":12123923,"reputation":119,"user_id":8853902,"display_name":"Hugo Abreu"},"score":0,"creation_date":1649985212,"post_id":71877682,"comment_id":127017611,"body_markdown":"that&#39;s exactly, the thing is, I interprete that deploying the application B into tomcats/webapps that only exists because application A uses tomcat, not because application A is deployed in a tomcat is a wrong move... you see the same?","body":"that&#39;s exactly, the thing is, I interprete that deploying the application B into tomcats/webapps that only exists because application A uses tomcat, not because application A is deployed in a tomcat is a wrong move... you see the same?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1649985311,"post_id":71877682,"comment_id":127017621,"body_markdown":"I am not going to give you my opinion on that.  What is my opinion worth?  How do you know that?  What about the next guy who gives an opinion?","body":"I am not going to give you my opinion on that.  What is my opinion worth?  How do you know that?  What about the next guy who gives an opinion?"},{"owner":{"account_id":12123923,"reputation":119,"user_id":8853902,"display_name":"Hugo Abreu"},"score":0,"creation_date":1649985358,"post_id":71877682,"comment_id":127017629,"body_markdown":"Ok dude you are free to close this website :)","body":"Ok dude you are free to close this website :)"}],"owner":{"account_id":12123923,"reputation":119,"user_id":8853902,"display_name":"Hugo Abreu"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690249514,"creation_date":1649970825,"question_id":71877682,"body_markdown":"Is it right to use a tomcat app server from another application to deploy my new .WAR which is basically an REST client from the tomcat&#39;s owner application?\r\n\r\nThe scenario is like:\r\n\r\nApplication A - which is very monolithic has a tomcat apps server installed for itself to work. They also may have customized the tomcat, and let&#39;s image the tomcat as a dependency for application A to work.\r\n\r\nI need a REST client to work with application A, let&#39;s call app B.  \r\n\r\nshould I separate app B it from the A tomcat&#39;s application? \r\n\r\nWhat are the best practices?\r\n\r\nI am not sure if is a good practice to just take advantage from an existing tomcat, or the most correct way, and also to avoid dependency problem...","title":"May I take advantage of the existence of a tomcat server for new .war application or should I have a new web server?","body":"<p>Is it right to use a tomcat app server from another application to deploy my new .WAR which is basically an REST client from the tomcat's owner application?</p>\n<p>The scenario is like:</p>\n<p>Application A - which is very monolithic has a tomcat apps server installed for itself to work. They also may have customized the tomcat, and let's image the tomcat as a dependency for application A to work.</p>\n<p>I need a REST client to work with application A, let's call app B.</p>\n<p>should I separate app B it from the A tomcat's application?</p>\n<p>What are the best practices?</p>\n<p>I am not sure if is a good practice to just take advantage from an existing tomcat, or the most correct way, and also to avoid dependency problem...</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1690246041,"post_id":76758805,"comment_id":135323441,"body_markdown":"Put a `userResponse = myScanner.nextLine();` in the loop body.","body":"Put a <code>userResponse = myScanner.nextLine();</code> in the loop body."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1690246618,"post_id":76758805,"comment_id":135323492,"body_markdown":"Please explain what problem you&#39;re having with your program. Have you stepped through it in the debugger?","body":"Please explain what problem you&#39;re having with your program. Have you stepped through it in the debugger?"}],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1690248267,"creation_date":1690248199,"answer_id":76758910,"question_id":76758805,"body_markdown":"Your code have many problems:\r\n\r\n - You are scanning the user&#39;s input just once, in other words, all the jokes will be displayed at once.\r\n - *randomNumber* keeps increasing **with no verification**, which results in *java.lang.ArrayIndexOutOfBoundsException*.\r\n - Have a chance of your *randomNumber* being &#39;4&#39;, which will make just 1 joke be displayed.\r\n\r\nTo solve all problems, I do this way:\r\n\r\n```java\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\t// Jokes dynamic list\r\n\t\tList&lt;String&gt; jokes = new ArrayList&lt;&gt;();\r\n\t\tjokes.add(&quot;You can only get spoiled milk from a pampered cow&quot;);\r\n\t\tjokes.add(&quot;I hate Russian dolls—they&#39;re so full of themselves&quot;);\r\n\t\tjokes.add(&quot;I have a fear of speed bumps, but I am slowly getting over it&quot;);\r\n\t\tjokes.add(&quot;A plateau is the highest form of flattery&quot;);\r\n\t\tjokes.add(&quot;I have many jokes about rich kids, but sadly, none of them work&quot;);\r\n\r\n\t\t// Randomize\r\n\t\tCollections.shuffle(jokes);\r\n\r\n\t\t// Scanner\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\r\n\t\t// Random generator\r\n\t\tRandom random = new Random();\r\n\r\n        // Loop\r\n\t\twhile (true) {\r\n\t\t\t// Verify list\r\n\t\t\tif (jokes.isEmpty()) {\r\n\t\t\t\tSystem.out.println(&quot;End of jokes&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\t// Ask user\r\n\t\t\tSystem.out.println(&quot;Want to hear a joke? Yes/No&quot;);\r\n\r\n\t\t\t// User answer\r\n\t\t\tString userResponse = scanner.nextLine();\r\n\r\n\t\t\t// Verify\r\n\t\t\tif (userResponse.equals(&quot;Yes&quot;)) {\r\n\t\t\t\t// Number\r\n\t\t\t\tint randomNumber = random.nextInt(jokes.size());\r\n\r\n\t\t\t\t// Display joke\r\n\t\t\t\tSystem.out.println(jokes.get(randomNumber));\r\n\r\n\t\t\t\t// Remove joke from list\r\n\t\t\t\tjokes.remove(randomNumber);\r\n\t\t\t} else if (userResponse.equals(&quot;No&quot;)) {\r\n\t\t\t\t// Stop loop\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Close scanner\r\n\t\tscanner.close();\r\n\t}\r\n}\r\n```\r\n\r\nI hope it help! :)","title":"User input using Scanner class in Java","body":"<p>Your code have many problems:</p>\n<ul>\n<li>You are scanning the user's input just once, in other words, all the jokes will be displayed at once.</li>\n<li><em>randomNumber</em> keeps increasing <strong>with no verification</strong>, which results in <em>java.lang.ArrayIndexOutOfBoundsException</em>.</li>\n<li>Have a chance of your <em>randomNumber</em> being '4', which will make just 1 joke be displayed.</li>\n</ul>\n<p>To solve all problems, I do this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        // Jokes dynamic list\n        List&lt;String&gt; jokes = new ArrayList&lt;&gt;();\n        jokes.add(&quot;You can only get spoiled milk from a pampered cow&quot;);\n        jokes.add(&quot;I hate Russian dolls—they're so full of themselves&quot;);\n        jokes.add(&quot;I have a fear of speed bumps, but I am slowly getting over it&quot;);\n        jokes.add(&quot;A plateau is the highest form of flattery&quot;);\n        jokes.add(&quot;I have many jokes about rich kids, but sadly, none of them work&quot;);\n\n        // Randomize\n        Collections.shuffle(jokes);\n\n        // Scanner\n        Scanner scanner = new Scanner(System.in);\n\n        // Random generator\n        Random random = new Random();\n\n        // Loop\n        while (true) {\n            // Verify list\n            if (jokes.isEmpty()) {\n                System.out.println(&quot;End of jokes&quot;);\n                break;\n            }\n\n            // Ask user\n            System.out.println(&quot;Want to hear a joke? Yes/No&quot;);\n\n            // User answer\n            String userResponse = scanner.nextLine();\n\n            // Verify\n            if (userResponse.equals(&quot;Yes&quot;)) {\n                // Number\n                int randomNumber = random.nextInt(jokes.size());\n\n                // Display joke\n                System.out.println(jokes.get(randomNumber));\n\n                // Remove joke from list\n                jokes.remove(randomNumber);\n            } else if (userResponse.equals(&quot;No&quot;)) {\n                // Stop loop\n                break;\n            }\n        }\n\n        // Close scanner\n        scanner.close();\n    }\n}\n</code></pre>\n<p>I hope it help! :)</p>\n"}],"owner":{"account_id":25487949,"reputation":1,"user_id":19283252,"display_name":"Nas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1693581244,"accepted_answer_id":76758910,"answer_count":1,"score":-3,"last_activity_date":1690248267,"creation_date":1690245743,"question_id":76758805,"body_markdown":"&gt; Write a method that displays random joke to the user.\r\n&gt; Your program should stop displaying jokes when use inputs no.\r\n&gt; For e.g&lt;br&gt;\r\n&gt; Want to hear a joke? Yes/No&lt;br&gt;\r\n&gt; * if yes then display joke and repeat same question&lt;br&gt;\r\n&gt; * if no then program should exit&lt;br&gt;\r\n\r\nPlease, any help to answer this question appropriately will be hugely appreciated\r\n\r\n    import java.util.Random;\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Want to hear a joke? Yes/No&quot;);\r\n            Scanner myScanner = new Scanner(System.in);\r\n            String userResponse = myScanner.nextLine();\r\n            String[] jokes = {&quot;You can only get spoiled milk from a pampered cow&quot;,\r\n                    &quot;I hate Russian dolls—they&#39;re so full of themselves&quot;,\r\n                    &quot;I have a fear of speed bumps, but I am slowly getting over it&quot;,\r\n                    &quot;A plateau is the highest form of flattery&quot;,\r\n                    &quot;I have many jokes about rich kids, but sadly, none of them work&quot;};\r\n    \r\n    \r\n            Random random = new Random();\r\n            int randomNumber = random.nextInt(5);\r\n    \r\n            while (userResponse.equals(&quot;Yes&quot;)) {\r\n                System.out.println(jokes[randomNumber]);\r\n                randomNumber++;\r\n    \r\n                if (randomNumber == jokes.length) {\r\n                    System.out.println(&quot;End of jokes&quot;);\r\n                }\r\n    \r\n                else if (userResponse.equals(&quot;No&quot;)) {\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"User input using Scanner class in Java","body":"<blockquote>\n<p>Write a method that displays random joke to the user.\nYour program should stop displaying jokes when use inputs no.\nFor e.g<br>\nWant to hear a joke? Yes/No<br></p>\n<ul>\n<li>if yes then display joke and repeat same question<br></li>\n<li>if no then program should exit<br></li>\n</ul>\n</blockquote>\n<p>Please, any help to answer this question appropriately will be hugely appreciated</p>\n<pre><code>import java.util.Random;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;Want to hear a joke? Yes/No&quot;);\n        Scanner myScanner = new Scanner(System.in);\n        String userResponse = myScanner.nextLine();\n        String[] jokes = {&quot;You can only get spoiled milk from a pampered cow&quot;,\n                &quot;I hate Russian dolls—they're so full of themselves&quot;,\n                &quot;I have a fear of speed bumps, but I am slowly getting over it&quot;,\n                &quot;A plateau is the highest form of flattery&quot;,\n                &quot;I have many jokes about rich kids, but sadly, none of them work&quot;};\n\n\n        Random random = new Random();\n        int randomNumber = random.nextInt(5);\n\n        while (userResponse.equals(&quot;Yes&quot;)) {\n            System.out.println(jokes[randomNumber]);\n            randomNumber++;\n\n            if (randomNumber == jokes.length) {\n                System.out.println(&quot;End of jokes&quot;);\n            }\n\n            else if (userResponse.equals(&quot;No&quot;)) {\n                return;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","httpresponse"],"answers":[{"tags":[],"owner":{"account_id":7975532,"reputation":103,"user_id":6018837,"display_name":"Daniel Matev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690225807,"creation_date":1690225807,"answer_id":76757395,"question_id":76757248,"body_markdown":"I don&#39;t think ResponseEntity works with Dropwizard (I assume that&#39;s what you&#39;re using based on the annotations) since that comes from Spring - `org.springframework.http.ResponseEntity`.\r\nFor Dropwizard you should use: `javax.ws.rs.core.Response`","title":"ResponseEntity is not shown as it should","body":"<p>I don't think ResponseEntity works with Dropwizard (I assume that's what you're using based on the annotations) since that comes from Spring - <code>org.springframework.http.ResponseEntity</code>.\nFor Dropwizard you should use: <code>javax.ws.rs.core.Response</code></p>\n"}],"owner":{"account_id":29082736,"reputation":3,"user_id":22278385,"display_name":"Nicolas Montero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76757395,"answer_count":1,"score":0,"last_activity_date":1690245001,"creation_date":1690224304,"question_id":76757248,"body_markdown":"I am trying to get the correct statusCode from a response entity, but when I make the request with **insomnia**, the `ResponseEntity` is shown as an object but the actual statusCode its always `200`, even when y manually set it to be a `400`.\r\n\r\nThis is my code: \r\n\r\n```\r\n@GET\r\n@Path(&quot;/tipoArchivos/{id}&quot;)\r\npublic ResponseEntity&lt;?&gt; getTipoArchivos(@PathParam(&quot;id&quot;)String idProceso) throws Exception{\r\n\tOptional&lt;List&lt;TipoArchivoDTO&gt;&gt; respuesta = Optional.ofNullable(tramiteInt.getAttachmentTypes(idProceso));\r\n\tif (!respuesta.isPresent()) {\r\n\t\tHttpHeaders responseHeaders = new HttpHeaders();\r\n\t\tresponseHeaders.set(&quot;#status#&quot;, &quot;400&quot;);\r\n\t\tResponseEntity&lt;String&gt; respuesta1 = new ResponseEntity&lt;String&gt;(&quot;El codigo del proceso solo debe contener tres caracteres en mayuscula&quot;, responseHeaders, HttpStatus.BAD_REQUEST);\r\n\t\treturn respuesta1;\r\n\t}\r\n\treturn new ResponseEntity&lt;List&lt;TipoArchivoDTO&gt;&gt;(respuesta.get(), HttpStatus.OK);\r\n}\r\n```\r\nAnd this is what i get:\r\n[ActualResponse](https://i.stack.imgur.com/rz5Uz.png)\r\nwhat im doing wrong here? thanks for your time","title":"ResponseEntity is not shown as it should","body":"<p>I am trying to get the correct statusCode from a response entity, but when I make the request with <strong>insomnia</strong>, the <code>ResponseEntity</code> is shown as an object but the actual statusCode its always <code>200</code>, even when y manually set it to be a <code>400</code>.</p>\n<p>This is my code:</p>\n<pre><code>@GET\n@Path(&quot;/tipoArchivos/{id}&quot;)\npublic ResponseEntity&lt;?&gt; getTipoArchivos(@PathParam(&quot;id&quot;)String idProceso) throws Exception{\n    Optional&lt;List&lt;TipoArchivoDTO&gt;&gt; respuesta = Optional.ofNullable(tramiteInt.getAttachmentTypes(idProceso));\n    if (!respuesta.isPresent()) {\n        HttpHeaders responseHeaders = new HttpHeaders();\n        responseHeaders.set(&quot;#status#&quot;, &quot;400&quot;);\n        ResponseEntity&lt;String&gt; respuesta1 = new ResponseEntity&lt;String&gt;(&quot;El codigo del proceso solo debe contener tres caracteres en mayuscula&quot;, responseHeaders, HttpStatus.BAD_REQUEST);\n        return respuesta1;\n    }\n    return new ResponseEntity&lt;List&lt;TipoArchivoDTO&gt;&gt;(respuesta.get(), HttpStatus.OK);\n}\n</code></pre>\n<p>And this is what i get:\n<a href=\"https://i.stack.imgur.com/rz5Uz.png\" rel=\"nofollow noreferrer\">ActualResponse</a>\nwhat im doing wrong here? thanks for your time</p>\n"},{"tags":["java","spring-boot","jaeger"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690279560,"post_id":76758730,"comment_id":135327942,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29083939,"reputation":1,"user_id":22279266,"display_name":"haimanti chowdhury"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690244216,"creation_date":1690244216,"question_id":76758730,"body_markdown":"I have a Spring boot Kafka Consumer project. It listens to a topic and does not have any Rest Contoller as such. Would like to add Jager or OTEL traceability to my project? Is it possible?\r\n\r\nI have added pom.xml dependency in springboot 2.7.2 and also pointing to Jaeger collector url from applications.properties. But nothing comes up on Jaeger UI","title":"Spring Boot with Jaeger tracing but no REST API","body":"<p>I have a Spring boot Kafka Consumer project. It listens to a topic and does not have any Rest Contoller as such. Would like to add Jager or OTEL traceability to my project? Is it possible?</p>\n<p>I have added pom.xml dependency in springboot 2.7.2 and also pointing to Jaeger collector url from applications.properties. But nothing comes up on Jaeger UI</p>\n"},{"tags":["java","class","types","interface","upcasting"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690235759,"post_id":76758230,"comment_id":135322411,"body_markdown":"You can easily experiment and see what the Java compiler tells you.","body":"You can easily experiment and see what the Java compiler tells you."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690235831,"post_id":76758230,"comment_id":135322426,"body_markdown":"Write `IsLiving x = dog1;` and see if it compiles.","body":"Write <code>IsLiving x = dog1;</code> and see if it compiles."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1690235896,"post_id":76758230,"comment_id":135322437,"body_markdown":"Also try `dog1.getClass()`.","body":"Also try <code>dog1.getClass()</code>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1690235933,"post_id":76758230,"comment_id":135322445,"body_markdown":"And remember that in both your scenarios, exactly the same object is created: an object of class `Dog`. It&#39;s just the reference which has a different type, which just affects what the compiler will allow you to do with it. It has no effect on the actual object.","body":"And remember that in both your scenarios, exactly the same object is created: an object of class <code>Dog</code>. It&#39;s just the reference which has a different type, which just affects what the compiler will allow you to do with it. It has no effect on the actual object."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1690236230,"post_id":76758230,"comment_id":135322487,"body_markdown":"`If I upcast dog2 to Animal, is the type of dog2 Animal and isLiving?`  Well, it&#39;s type was `Animal` and `isLiving` before, because Dogs are also Animals and also isLiving.  tgdavies point is a good one, the *object* doesn&#39;t change in Java (note that primitives will actually change time when cast though).  The compiler will tread your cast as if the object is Animal and isLiving, but you could still cast back to `Dog` successfully, because the object itself is still a Dog.","body":"<code>If I upcast dog2 to Animal, is the type of dog2 Animal and isLiving?</code>  Well, it&#39;s type was <code>Animal</code> and <code>isLiving</code> before, because Dogs are also Animals and also isLiving.  tgdavies point is a good one, the <i>object</i> doesn&#39;t change in Java (note that primitives will actually change time when cast though).  The compiler will tread your cast as if the object is Animal and isLiving, but you could still cast back to <code>Dog</code> successfully, because the object itself is still a Dog."},{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":2,"creation_date":1690236269,"post_id":76758230,"comment_id":135322491,"body_markdown":"Does this answer your question? [java do extended classes have two types](https://stackoverflow.com/questions/76741198/java-do-extended-classes-have-two-types). The answer in this thread is I believe a very good explanation of the scenario in non-technical terms.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/76741198/java-do-extended-classes-have-two-types\">java do extended classes have two types</a>. The answer in this thread is I believe a very good explanation of the scenario in non-technical terms."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1690237301,"post_id":76758230,"comment_id":135322628,"body_markdown":"don&#39;t mix the type of the variable (compile time) and the type of the instance (runtime)  referenced by that variable - the variable `dog1` is of type `Animal`, but the instance it references is still a `Dog` - you can do `Dog dog = (Dog) dog1` without getting an error (would fail at runtime, if it was a `Cat`)","body":"don&#39;t mix the type of the variable (compile time) and the type of the instance (runtime)  referenced by that variable - the variable <code>dog1</code> is of type <code>Animal</code>, but the instance it references is still a <code>Dog</code> - you can do <code>Dog dog = (Dog) dog1</code> without getting an error (would fail at runtime, if it was a <code>Cat</code>)"},{"owner":{"account_id":10943394,"reputation":111,"user_id":22230072,"display_name":"Mr. Brown"},"score":0,"creation_date":1690238214,"post_id":76758230,"comment_id":135322733,"body_markdown":"Ok I see the in the two instances the variable types are identical but the reference types are what changes with upcasting. However, it’s also true (I’ve tested) that you lose access to Dog methods (which are not overrides of animal methods) if the reference type is Animal.","body":"Ok I see the in the two instances the variable types are identical but the reference types are what changes with upcasting. However, it’s also true (I’ve tested) that you lose access to Dog methods (which are not overrides of animal methods) if the reference type is Animal."},{"owner":{"account_id":10943394,"reputation":111,"user_id":22230072,"display_name":"Mr. Brown"},"score":0,"creation_date":1690238665,"post_id":76758230,"comment_id":135322789,"body_markdown":"So is it true that objects have multiple types while there is at most one reference type? If so, must the reference type also be a class-type?","body":"So is it true that objects have multiple types while there is at most one reference type? If so, must the reference type also be a class-type?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1690241102,"post_id":76758230,"comment_id":135323005,"body_markdown":"“the variable types are identical” that’s not quite right. The types of the variables are the reference types. The types of the objects that those variables reference are identical. `Animal dog1 = new Dog()` does two things: 1. Creates a new object of type `Dog`, 2. Assigns a reference to that object to a variable of type `Animal`.","body":"“the variable types are identical” that’s not quite right. The types of the variables are the reference types. The types of the objects that those variables reference are identical. <code>Animal dog1 = new Dog()</code> does two things: 1. Creates a new object of type <code>Dog</code>, 2. Assigns a reference to that object to a variable of type <code>Animal</code>."},{"owner":{"account_id":10943394,"reputation":111,"user_id":22230072,"display_name":"Mr. Brown"},"score":0,"creation_date":1690241489,"post_id":76758230,"comment_id":135323044,"body_markdown":"Sorry, you’re right. I meant to say the objects have identical type.","body":"Sorry, you’re right. I meant to say the objects have identical type."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1690242023,"post_id":76758230,"comment_id":135323081,"body_markdown":"“So is it true that objects have multiple types while there is at most one reference type?” I wouldn’t put it that way. Objects and references each have a single main type, but types are arranged in a hierarchical relationship such that having one type can also imply having other types as well. Consider real world analogies: every dog _is_ an animal. Putting it on a list of various animals that includes cats and hamsters doesn’t make it any less of a dog.","body":"“So is it true that objects have multiple types while there is at most one reference type?” I wouldn’t put it that way. Objects and references each have a single main type, but types are arranged in a hierarchical relationship such that having one type can also imply having other types as well. Consider real world analogies: every dog <i>is</i> an animal. Putting it on a list of various animals that includes cats and hamsters doesn’t make it any less of a dog."},{"owner":{"account_id":10943394,"reputation":111,"user_id":22230072,"display_name":"Mr. Brown"},"score":0,"creation_date":1690242347,"post_id":76758230,"comment_id":135323110,"body_markdown":"I understand this for object-types. But if your analogy held for reference-types then I don’t see the point of up/down casting. I thought the point of casting is exactly to change the reference-type.","body":"I understand this for object-types. But if your analogy held for reference-types then I don’t see the point of up/down casting. I thought the point of casting is exactly to change the reference-type."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1690248967,"post_id":76758230,"comment_id":135323685,"body_markdown":"Casting converts a reference from one type to another, but does not change the original reference. The code `(Dog) dog1` doesn’t change the type of `dog1` from `Animal`, but the type of the resulting expression is `Dog` and therefore can be assigned to a variable of type `Dog`.","body":"Casting converts a reference from one type to another, but does not change the original reference. The code <code>(Dog) dog1</code> doesn’t change the type of <code>dog1</code> from <code>Animal</code>, but the type of the resulting expression is <code>Dog</code> and therefore can be assigned to a variable of type <code>Dog</code>."}],"answers":[{"tags":[],"owner":{"account_id":10943394,"reputation":111,"user_id":22230072,"display_name":"Mr. Brown"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690242125,"creation_date":1690242125,"answer_id":76758625,"question_id":76758230,"body_markdown":"I’ll update this with corrections if needed. Thanks to the comments, one big clarification is the difference between object types and reference types. As far as I can tell, objects have as many types as there are classes they (maybe implicitly) extend and instances they implement. There is at most one reference type, and this is always a class-type (is this true?)\r\n\r\nSo to answer my original question: all instances have the same object type, namely Animal, Dog, isCute and isLiving, among others.\r\n\r\n 1. The reference type is Animal.\r\n 2. The reference type is Dog.\r\n 3. The reference type is Animal.","title":"Clarifying some relationships between types, upcasting, and classes/interfaces","body":"<p>I’ll update this with corrections if needed. Thanks to the comments, one big clarification is the difference between object types and reference types. As far as I can tell, objects have as many types as there are classes they (maybe implicitly) extend and instances they implement. There is at most one reference type, and this is always a class-type (is this true?)</p>\n<p>So to answer my original question: all instances have the same object type, namely Animal, Dog, isCute and isLiving, among others.</p>\n<ol>\n<li>The reference type is Animal.</li>\n<li>The reference type is Dog.</li>\n<li>The reference type is Animal.</li>\n</ol>\n"}],"owner":{"account_id":10943394,"reputation":111,"user_id":22230072,"display_name":"Mr. Brown"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690246434,"answer_count":1,"score":0,"last_activity_date":1690242125,"creation_date":1690235392,"question_id":76758230,"body_markdown":"Everything occurs in Java. I&#39;m not sure to what extent the programming language affects my questions, and I would be interested to know.\r\n\r\n\r\nSuppose I have a class Animal, and a subclass which extends Animal called Dog. My understanding is that writing \r\n\r\n    Animal dog1 = new Dog();\r\n\r\nconstructs an object Dog called dog1 of type Animal. If I now write\r\n\r\n    Dog dog2 = new Dog();\r\n\r\nthen this constructs an object Dog called dog2 of type Dog. Suppose now I upcast the type of dog2 to type Animal. Then I lose access to all methods in Dog which are not overrides of methods in methods in Animal (otherwise, the corresponding methods in Dog are called).\r\n\r\nNow suppose I add interfaces into the above story. From what I&#39;ve read, every object has exactly one class-type (e.g. in the above, dog1 is type Animal, and dog2 is type Dog pre-upcast). However, objects have (not *can have*, but *have*) multiple interface-types, one for each interface the class implements. Suppose the class Dog implements the interface isCute, and suppose the class Animal implements the interface isLiving. In this case, I have the following questions.\r\n1. Is the type of dog1 both Animal and isLiving?\r\n2. Is the type of dog2 both Dog and isCute? Or is the type of dog2 Dog, isCute, and isLiving?\r\n3. If I upcast dog2 to Animal, is the type of dog2 Animal and isLiving?\r\n\r\n\r\nI have tried searching, but I don&#39;t see answers covering discussing this relationship in too much depth. Most answers resort to &quot;don&#39;t use upcasting&quot; which is **not** an answer I am looking for.","title":"Clarifying some relationships between types, upcasting, and classes/interfaces","body":"<p>Everything occurs in Java. I'm not sure to what extent the programming language affects my questions, and I would be interested to know.</p>\n<p>Suppose I have a class Animal, and a subclass which extends Animal called Dog. My understanding is that writing</p>\n<pre><code>Animal dog1 = new Dog();\n</code></pre>\n<p>constructs an object Dog called dog1 of type Animal. If I now write</p>\n<pre><code>Dog dog2 = new Dog();\n</code></pre>\n<p>then this constructs an object Dog called dog2 of type Dog. Suppose now I upcast the type of dog2 to type Animal. Then I lose access to all methods in Dog which are not overrides of methods in methods in Animal (otherwise, the corresponding methods in Dog are called).</p>\n<p>Now suppose I add interfaces into the above story. From what I've read, every object has exactly one class-type (e.g. in the above, dog1 is type Animal, and dog2 is type Dog pre-upcast). However, objects have (not <em>can have</em>, but <em>have</em>) multiple interface-types, one for each interface the class implements. Suppose the class Dog implements the interface isCute, and suppose the class Animal implements the interface isLiving. In this case, I have the following questions.</p>\n<ol>\n<li>Is the type of dog1 both Animal and isLiving?</li>\n<li>Is the type of dog2 both Dog and isCute? Or is the type of dog2 Dog, isCute, and isLiving?</li>\n<li>If I upcast dog2 to Animal, is the type of dog2 Animal and isLiving?</li>\n</ol>\n<p>I have tried searching, but I don't see answers covering discussing this relationship in too much depth. Most answers resort to &quot;don't use upcasting&quot; which is <strong>not</strong> an answer I am looking for.</p>\n"},{"tags":["javascript","java","react-native","expo"],"answers":[{"tags":[],"owner":{"account_id":10340091,"reputation":1,"user_id":7626774,"display_name":"R.Cole224"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690241546,"creation_date":1690241546,"answer_id":76758592,"question_id":76756815,"body_markdown":"check your api url ,use ip address instead of http://localhost:3000 use http:191.168....:5000 instead.Check the exact address of the machine on which you are running the backend. That&#39;s how I solved mine.","title":"Network Error Occurs While Making API Requests in Expo Go App","body":"<p>check your api url ,use ip address instead of http://localhost:3000 use http:191.168....:5000 instead.Check the exact address of the machine on which you are running the backend. That's how I solved mine.</p>\n"}],"owner":{"account_id":29082275,"reputation":1,"user_id":22278040,"display_name":"DEXProject"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690241546,"creation_date":1690219986,"question_id":76756815,"body_markdown":"I am facing an issue in my Expo Go application where I encounter a &quot;Network request failed&quot; error when attempting to make API requests using the loginUser and handleLogin functions. It is important to note that the same functions work flawlessly in Expo Web, successfully connecting to the API and fetching data.\r\n\r\nI have provided the code snippets for both functions below:\r\n\r\n**loginUser Function:**\r\n\r\n\r\n```\r\nexport const loginUser = async (username, password) =&gt; {\r\n  try {\r\n    const response = await fetch(`${BASE_URL}/login`, {\r\n      method: &#39;POST&#39;,\r\n      headers: {\r\n        &#39;Content-Type&#39;: &#39;application/json&#39;,\r\n      },\r\n      body: JSON.stringify({ username, password }),\r\n    });\r\n\r\n    const data = await response.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.error(&#39;Giriş yapılamadı:&#39;, error);\r\n    throw new Error(&#39;Giriş yapılamadı: &#39; + error.message);\r\n  }\r\n};\r\n```\r\n\r\n\r\n**--------------------------------------------------------------------**\r\n\r\n**handleLogin Function:**\r\n\r\n\r\n```\r\nconst handleLogin = async () =&gt; {\r\n  try {\r\n    const response = await loginUser(username, password);\r\n\r\n    if (response.message === &#39;Giriş başarılı.&#39;) {\r\n      console.log(&#39;Login Successful&#39;);\r\n      navigation.navigate(&#39;Second&#39;, {\r\n        blogpost: username,\r\n      });\r\n    } else {\r\n      console.log(&#39;User not found or incorrect password.&#39;);\r\n      setErrorx(&#39;User not found or incorrect password.&#39;);\r\n      setTimeout(() =&gt; {\r\n        setErrorx(&#39;&#39;);\r\n      }, 3000);\r\n    }\r\n  } catch (error) {\r\n    console.error(&#39;Login error:&#39;, error);\r\n\r\n    // Check if the error response has a data field with a message property\r\n    const errorMessage = error.response?.data?.message || error.message || &#39;Login failed.&#39;;\r\n    setErrorx(errorMessage);\r\n\r\n    setTimeout(() =&gt; {\r\n      setErrorx(&#39;&#39;);\r\n    }, 3000);\r\n  }\r\n};\r\n\r\n```\r\n\r\n\r\n**HomePage.js**\r\n\r\n```\r\nimport React, { useState, useEffect } from &#39;react&#39;;\r\nimport { View, Text, SafeAreaView, TextInput, TouchableOpacity, Linking, StyleSheet, Image} from &#39;react-native&#39;;\r\nimport { useNavigation } from &#39;@react-navigation/native&#39;;\r\nimport { loginUser } from &#39;./fetchData&#39;;\r\nimport axios from &#39;axios&#39;;\r\nimport { Asset } from &#39;expo-asset&#39;;\r\nimport * as Font from &#39;expo-font&#39;;\r\n\r\n\r\n\r\nexport default function HomePage() {\r\n  const [fontsLoaded, setFontsLoaded] = useState(false);\r\n  const navigation = useNavigation();\r\n  const logo = Asset.fromModule(require(&#39;../assets/LOGODEX.png&#39;)).uri;\r\n  const [username, setUsername] = useState(&#39;&#39;);\r\n  const [password, setPassword] = useState(&#39;&#39;);\r\n  const [errorx, setErrorx] = useState(&#39;&#39;);\r\n\r\n  const handleUsernameChange = (text) =&gt; {\r\n    setUsername(text);\r\n  };\r\n\r\n  const handlePasswordChange = (text) =&gt; {\r\n    setPassword(text);\r\n  };\r\n  const handleSupportPress = () =&gt; {\r\n    const message = &quot;Merhaba, Uygulamanızla ilgili bir sorun yaşıyorum. Sorunum ise ...&quot;;\r\n    const encodedMessage = encodeURIComponent(message);\r\n    const url = `https://wa.me/SANSURED?text=${encodedMessage}`;\r\n  \r\n    Linking.openURL(url);\r\n  };\r\n  const handleRegisterPress = () =&gt; {\r\n    const url =\r\n      &#39;https://wa.me/SANSURED?text=Merhaba%2C%20Uygulaman%C4%B1zda%20bir%20kay%C4%B1t%20olu%C5%9Fturmak%20istiyorum&#39;;\r\n    Linking.openURL(url);\r\n  };\r\n\r\n  const handleLogin = async () =&gt; {\r\n    try {\r\n      const response = await loginUser(username, password);\r\n  \r\n      if (response.message === &#39;Giriş başarılı.&#39;) {\r\n        console.log(&#39;Giriş Başarılı&#39;);\r\n        navigation.navigate(&#39;Second&#39;, {\r\n          blogpost: username,\r\n        });\r\n      } else {\r\n        console.log(&#39;Kullanıcı bulunamadı veya şifre yanlış.&#39;);\r\n        setErrorx(&#39;Kullanıcı bulunamadı veya şifre yanlış.&#39;);\r\n        setTimeout(() =&gt; {\r\n          setErrorx(&#39;&#39;);\r\n        }, 3000);\r\n      }\r\n    } catch (error) {\r\n      console.error(&#39;Login error:&#39;, error);\r\n  \r\n      // Check if the error response has a data field with a message property\r\n      const errorMessage = error.response?.data?.message || error.message || &#39;Login failed.&#39;;\r\n      setErrorx(errorMessage);\r\n  \r\n      setTimeout(() =&gt; {\r\n        setErrorx(&#39;&#39;);\r\n      }, 3000);\r\n    }\r\n  };\r\n  \r\n  \r\n\r\n\r\n\r\n\r\n  useEffect(() =&gt; {\r\n    const loadFonts = async () =&gt; {\r\n      await Font.loadAsync({\r\n        &#39;my-custom-font&#39;: require(&#39;../assets/Seanor.ttf&#39;),\r\n      });\r\n    \r\n      setFontsLoaded(true);\r\n    };\r\n    \r\n\r\n    loadFonts();\r\n  }, []);\r\n\r\n  // Font y&#252;klenmediyse bekleme ekranı g&#246;ster\r\n  if (!fontsLoaded) {\r\n    return (\r\n      &lt;View style={{ flex: 1, justifyContent: &#39;center&#39;, alignItems: &#39;center&#39; }}&gt;\r\n        &lt;Text style={{fontSize: 30}}&gt;Fontlar y&#252;kleniyor...&lt;/Text&gt;\r\n      &lt;/View&gt;\r\n    );\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    &lt;SafeAreaView style={styles.container}&gt;\r\n\r\n\r\n\r\n\r\n\r\n    \r\n\r\n\r\n      \r\n\r\n\r\n        &lt;View style={{ zIndex: 2, position: &#39;absolute&#39;, top: 116, left: 22}}&gt;\r\n\r\n        &lt;Image style={{zIndex: 3, width: 160, height: 88, position: &#39;absolute&#39;, top: -76, left:77}} source={{ uri: logo }} /&gt;\r\n\r\n        &lt;Text style={{ fontFamily: &#39;my-custom-font&#39;, fontSize: 21, textAlign: &quot;center&quot;, color: &#39;white&#39;, fontWeight: &#39;500&#39;, top: 23}}&gt;\r\n          TEST \r\n        &lt;/Text&gt;\r\n        &lt;/View&gt;\r\n\r\n        \r\n\r\n      &lt;View style={{ position: &#39;absolute&#39;,backgroundColor: &#39;#607FF2&#39;, borderRadius: 350, height: 700, width: 700, zIndex: 1, top: -420, left: -230}}&gt;&lt;/View&gt;\r\n      &lt;View style={{ position: &#39;absolute&#39;,backgroundColor: &#39;#4C51C6&#39;, borderRadius: 350, height: 700, width: 700, zIndex: 1, top: -430, left: -250}}&gt;&lt;/View&gt;\r\n        \r\n      &lt;View style={styles.loginview}&gt;\r\n            &lt;View style={{marginTop: 9,}}&gt;\r\n        &lt;View style={styles.loginPadUsername}&gt;\r\n\r\n          &lt;TextInput\r\n            placeholder=&quot;Kullanıcı Adı&quot;\r\n            style={styles.padUsername}\r\n            onChangeText={handleUsernameChange}\r\n          /&gt;\r\n        &lt;/View&gt;\r\n\r\n        &lt;View style={styles.loginPadPassword}&gt;\r\n          &lt;TextInput\r\n            placeholder=&quot;Şifre&quot;\r\n            style={styles.padPassword}\r\n            secureTextEntry={true}\r\n            onChangeText={handlePasswordChange}\r\n          /&gt;\r\n        &lt;/View&gt;\r\n\r\n\r\n\r\n\r\n\r\n        &lt;View style={{flexDirection: &quot;row&quot;, marginTop: 17, zIndex: 3,}}&gt;\r\n\r\n          &lt;TouchableOpacity style={styles.loginAddButton} onPress={handleRegisterPress}&gt;\r\n            &lt;Text style={styles.buttonText}&gt;Kayıt Ol&lt;/Text&gt;\r\n          &lt;/TouchableOpacity&gt;\r\n\r\n          &lt;TouchableOpacity style={styles.loginPadButton} onPress={handleLogin}&gt;\r\n            &lt;Text style={styles.buttonText}&gt;Giriş Yap&lt;/Text&gt;\r\n          &lt;/TouchableOpacity&gt;\r\n\r\n        &lt;/View&gt;\r\n        &lt;View style={{ height: 30, marginBottom: 4, justifyContent: &quot;center&quot;, alignItems: &quot;center&quot;, zIndex: 5, position: &#39;absolute&#39;, top: 268, left: 24 }}&gt;\r\n          &lt;Text style={{ fontSize: 10, color: &#39;#E9F4FF&#39;, zIndex: 5 }}&gt;\r\n            {errorx}\r\n          &lt;/Text&gt;\r\n        &lt;/View&gt;\r\n\r\n            &lt;/View&gt;\r\n        &lt;/View&gt;\r\n\r\n\r\n\r\n        &lt;TouchableOpacity style={{position: &#39;absolute&#39;, top: 580, left: 202, height: 80, width: 130, backgroundColor: &#39;white&#39;, zIndex: 3, justifyContent: &#39;center&#39;,borderRadius: 45,}}&gt;\r\n          &lt;Text style={{fontSize: 22,textAlign: &#39;center&#39;}}&gt; Destek &lt;/Text&gt;\r\n        &lt;/TouchableOpacity&gt;\r\n\r\n\r\n\r\n\r\n        &lt;View style={{ zIndex: 2, position: &#39;absolute&#39;, top: 680}}&gt;\r\n          &lt;Text style={{fontFamily: &#39;my-custom-font&#39;, fontSize: 21, textAlign: &quot;center&quot;, color: &#39;white&#39;, left: 24}}&gt;\r\n          TEST\r\n          &lt;/Text&gt;\r\n        &lt;/View&gt;\r\n        \r\n\r\n        &lt;View style={{ position: &#39;absolute&#39;, backgroundColor: &#39;#4C51C6&#39;, borderRadius: 350, height: 600, width: 600, zIndex: 1, top: 520, left: -15}}&gt;&lt;/View&gt;\r\n        &lt;View style={{ position: &#39;absolute&#39;, backgroundColor: &#39;#607FF2&#39;, borderRadius: 350, height: 600, width: 600, zIndex: 1, top: 550, left: -30}}&gt;&lt;/View&gt;\r\n      \r\n      \r\n\r\n\r\n\r\n   \r\n   \r\n   \r\n   \r\n    &lt;/SafeAreaView&gt;\r\n  );\r\n}\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: &#39;#blue&#39;,\r\n    alignItems: &#39;stretch&#39;,\r\n  },\r\n  textcenter: {\r\n    fontSize: 70,\r\n    marginVertical: 80,\r\n    textAlign: &quot;center&quot;,\r\n    zIndex: 3\r\n  },\r\n  loginview: {\r\n    flex: 1,\r\n    backgroundColor: &quot;#FD830D&quot;,\r\n    alignItems: &quot;center&quot;, \r\n    justifyContent: &#39;center&#39;,\r\n    zIndex: 0,\r\n    position: &#39;absolute&#39;,\r\n    top: 4,\r\n    left: -66,\r\n    height: 700,\r\n    width: 500,\r\n  },\r\n  loginPadUsername: {\r\n    backgroundColor: &quot;#E9F4FF&quot;,\r\n    borderRadius: 23,\r\n    marginTop: 80,\r\n    zIndex: 3\r\n  },\r\n  padUsername: {\r\n    padding: 11,\r\n    fontSize: 22,\r\n    width: 210,\r\n    textAlign: &quot;center&quot;,\r\n    zIndex: 3\r\n  },\r\n  loginPadPassword: {\r\n    backgroundColor: &quot;#E9F4FF&quot;,\r\n    borderRadius: 23,\r\n    marginTop: 17,\r\n    zIndex: 3\r\n  },\r\n  padPassword: {\r\n    textAlign: &quot;center&quot;,\r\n    padding: 11,\r\n    fontSize: 22,\r\n    width: 211,\r\n    zIndex: 3\r\n  },\r\n\r\n  PadButton: { \r\n    textAlign: &quot;center&quot;,\r\n    fontSize: 17,\r\n    padding: 9,\r\n  },\r\n  loginPadButton: { \r\n    backgroundColor: &quot;#8BC34A&quot;,\r\n    borderRadius: 22,\r\n    alignItems: &quot;center&quot;,\r\n    justifyContent: &quot;center&quot;,\r\n    marginStart: 30,\r\n    padding: 15,\r\n  },\r\n  loginAddButton: {\r\n    backgroundColor: &quot;#8BC34A&quot;,\r\n    borderRadius: 22,\r\n    alignItems: &quot;center&quot;,\r\n    justifyContent: &quot;center&quot;,\r\n    padding: 15,\r\n  },\r\n  AddButton: {\r\n    padding: 9,\r\n    fontSize: 17,\r\n    textAlign: &quot;center&quot;,\r\n  },\r\n\r\n  buttonText: {\r\n    fontSize: 20,\r\n    textAlign: &quot;center&quot;,   \r\n}\r\n});\r\n\r\n```\r\n**fetchData.js**\r\n\r\n\r\n```\r\nimport axios from &#39;axios&#39;;\r\nimport axiosInstance from &#39;./axiosInstance&#39;;\r\n\r\nconst BASE_URL = &#39;API URL SANSURED&#39;; // MySQL API URL&#39;sini buraya ekleyin\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport const updateUser = async (userId, updatedData) =&gt; {\r\n  try {\r\n    const newData = {\r\n      ...updatedData, // Eski verileri kopyala\r\n      izinyellow: updatedData.izinyellow, // &#39;izinyellow&#39; anahtarını ekle\r\n    };\r\n\r\n    await axios.put(`${BASE_URL}/veridegistir`, newData);\r\n    console.log(&#39;Veri başarıyla g&#252;ncellendi&#39;);\r\n  } catch (error) {\r\n    throw new Error(&#39;Veri g&#252;ncellenirken hata oluştu: &#39; + error.message);\r\n  }\r\n};\r\n\r\n\r\n\r\n\r\nexport const loginUser = async (username, password) =&gt; {\r\n  try {\r\n    const response = await fetch(`${BASE_URL}/login`, {\r\n      method: &#39;POST&#39;,\r\n      headers: {\r\n        &#39;Content-Type&#39;: &#39;application/json&#39;,\r\n      },\r\n      body: JSON.stringify({ username, password }),\r\n    });\r\n\r\n    const data = await response.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.error(&#39;Giriş yapılamadı:&#39;, error);\r\n    throw new Error(&#39;Giriş yapılamadı: &#39; + error.message);\r\n  }\r\n};\r\n\r\n\r\n\r\n\r\n\r\nexport const updateYellowPhoneAndPass = async (useridpost, yellowPhone, yellowPass, xerror) =&gt; {\r\n  try {\r\n    const response = await axios.get(`${BASE_URL}/verioku`);\r\n    const users = response.data;\r\n    const user = users.find((u) =&gt; u.username === useridpost);\r\n    if (user) {\r\n      await axios.put(`${BASE_URL}/yellowphoneandpassword`, {\r\n        id: user.id,\r\n        emailyellow: yellowPhone,\r\n        passyellow: yellowPass,\r\n        checkyellow: 1,\r\n      });\r\n      console.log(&#39;Yellow telefon ve şifre bilgileri başarıyla g&#252;ncellendi&#39;);\r\n    }\r\n  } catch (error) {\r\n    throw new Error(&#39;Yellow telefon ve şifre bilgileri g&#252;ncellenirken hata oluştu: &#39; + error.message);\r\n  }\r\n};\r\n\r\n\r\n\r\n\r\nexport const updateWhiteEmailAndPass = async (useridpost, whitePhone, whitePass, xerror) =&gt; {\r\n  try {\r\n    const response = await axios.get(`${BASE_URL}/verioku`);\r\n    const users = response.data;\r\n    const user = users.find((u) =&gt; u.username === useridpost);\r\n    if (user) {\r\n      await axios.put(`${BASE_URL}/whiteemailandpassword`, {\r\n        id: user.id,\r\n        emailwhite: whitePhone,\r\n        passwhite: whitePass,\r\n        checkwhite: 1,\r\n      });\r\n      console.log(&#39;Yellow telefon ve şifre bilgileri başarıyla g&#252;ncellendi&#39;);\r\n    }\r\n  } catch (error) {\r\n    throw new Error(&#39;Yellow telefon ve şifre bilgileri g&#252;ncellenirken hata oluştu: &#39; + error.message);\r\n  }\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport const updateYellowTimeCode = async (useridpost, yellowTimeCode, yellowWork, yellowMesaj) =&gt; {\r\n  try {\r\n    const response = await axios.get(`${BASE_URL}/verioku`);\r\n    const users = response.data;\r\n    const user = users.find((u) =&gt; u.username === useridpost);\r\n    if (user) {\r\n      await axios.put(`${BASE_URL}/yellowtimecode`, {\r\n        id: user.id,\r\n        timecodeyellow: yellowTimeCode,\r\n        workyellow: yellowWork,\r\n        mesajyellow: yellowMesaj,\r\n      });\r\n      console.log(&#39;Time Ayarlandı&#39;);\r\n    }\r\n  } catch (error) {\r\n    throw new Error(&#39;Time HATA : &#39; + error.message);\r\n  }\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport const updateWhiteTimeCode = async (useridpost, whiteTimeCode, whiteWork, whiteMesaj) =&gt; {\r\n  try {\r\n    const response = await axios.get(`${BASE_URL}/verioku`);\r\n    const users = response.data;\r\n    const user = users.find((u) =&gt; u.username === useridpost);\r\n    if (user) {\r\n      await axios.put(`${BASE_URL}/whitetimecode`, {\r\n        id: user.id,\r\n        timecodewhite: whiteTimeCode,\r\n        workwhite: whiteWork,\r\n        mesajwhite: whiteMesaj,\r\n      });\r\n      console.log(&#39;Time Ayarlandı&#39;);\r\n    }\r\n  } catch (error) {\r\n    throw new Error(&#39;Time HATA : &#39; + error.message);\r\n  }\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport const getYellowError = async () =&gt; {\r\n  try {\r\n    const response = await axios.get(`${BASE_URL}/yellowerror`);\r\n    return response.data;\r\n  } catch (error) {\r\n    throw new Error(&#39;Yellow hatalarını alırken bir hata oluştu: &#39; + error.message);\r\n  }\r\n};\r\n\r\n\r\n\r\n\r\n```\r\n\r\n\r\nThe issue is specifically occurring in Expo Go on both Android devices where I have tested the app. I have verified that both devices have an active internet connection. The API works as expected on Expo Web, so I am puzzled as to why I am encountering network errors in Expo Go.\r\n\r\nI have checked the permissions on the real devices, and the necessary internet permissions are granted to the app. Additionally, SSL certificate configuration seems to be in order as the API functions without any issues on Expo Web.\r\n\r\nI am seeking guidance to understand the root cause of this issue and find a solution to ensure my Expo Go app can make successful API requests.\r\n\r\nAny assistance or insights into resolving this network error in Expo Go would be greatly appreciated. Thank you in advance for your help! **yes my english is bad i used translation while writing**\r\n","title":"Network Error Occurs While Making API Requests in Expo Go App","body":"<p>I am facing an issue in my Expo Go application where I encounter a &quot;Network request failed&quot; error when attempting to make API requests using the loginUser and handleLogin functions. It is important to note that the same functions work flawlessly in Expo Web, successfully connecting to the API and fetching data.</p>\n<p>I have provided the code snippets for both functions below:</p>\n<p><strong>loginUser Function:</strong></p>\n<pre><code>export const loginUser = async (username, password) =&gt; {\n  try {\n    const response = await fetch(`${BASE_URL}/login`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ username, password }),\n    });\n\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Giriş yapılamadı:', error);\n    throw new Error('Giriş yapılamadı: ' + error.message);\n  }\n};\n</code></pre>\n<p><strong>--------------------------------------------------------------------</strong></p>\n<p><strong>handleLogin Function:</strong></p>\n<pre><code>const handleLogin = async () =&gt; {\n  try {\n    const response = await loginUser(username, password);\n\n    if (response.message === 'Giriş başarılı.') {\n      console.log('Login Successful');\n      navigation.navigate('Second', {\n        blogpost: username,\n      });\n    } else {\n      console.log('User not found or incorrect password.');\n      setErrorx('User not found or incorrect password.');\n      setTimeout(() =&gt; {\n        setErrorx('');\n      }, 3000);\n    }\n  } catch (error) {\n    console.error('Login error:', error);\n\n    // Check if the error response has a data field with a message property\n    const errorMessage = error.response?.data?.message || error.message || 'Login failed.';\n    setErrorx(errorMessage);\n\n    setTimeout(() =&gt; {\n      setErrorx('');\n    }, 3000);\n  }\n};\n\n</code></pre>\n<p><strong>HomePage.js</strong></p>\n<pre><code>import React, { useState, useEffect } from 'react';\nimport { View, Text, SafeAreaView, TextInput, TouchableOpacity, Linking, StyleSheet, Image} from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport { loginUser } from './fetchData';\nimport axios from 'axios';\nimport { Asset } from 'expo-asset';\nimport * as Font from 'expo-font';\n\n\n\nexport default function HomePage() {\n  const [fontsLoaded, setFontsLoaded] = useState(false);\n  const navigation = useNavigation();\n  const logo = Asset.fromModule(require('../assets/LOGODEX.png')).uri;\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [errorx, setErrorx] = useState('');\n\n  const handleUsernameChange = (text) =&gt; {\n    setUsername(text);\n  };\n\n  const handlePasswordChange = (text) =&gt; {\n    setPassword(text);\n  };\n  const handleSupportPress = () =&gt; {\n    const message = &quot;Merhaba, Uygulamanızla ilgili bir sorun yaşıyorum. Sorunum ise ...&quot;;\n    const encodedMessage = encodeURIComponent(message);\n    const url = `https://wa.me/SANSURED?text=${encodedMessage}`;\n  \n    Linking.openURL(url);\n  };\n  const handleRegisterPress = () =&gt; {\n    const url =\n      'https://wa.me/SANSURED?text=Merhaba%2C%20Uygulaman%C4%B1zda%20bir%20kay%C4%B1t%20olu%C5%9Fturmak%20istiyorum';\n    Linking.openURL(url);\n  };\n\n  const handleLogin = async () =&gt; {\n    try {\n      const response = await loginUser(username, password);\n  \n      if (response.message === 'Giriş başarılı.') {\n        console.log('Giriş Başarılı');\n        navigation.navigate('Second', {\n          blogpost: username,\n        });\n      } else {\n        console.log('Kullanıcı bulunamadı veya şifre yanlış.');\n        setErrorx('Kullanıcı bulunamadı veya şifre yanlış.');\n        setTimeout(() =&gt; {\n          setErrorx('');\n        }, 3000);\n      }\n    } catch (error) {\n      console.error('Login error:', error);\n  \n      // Check if the error response has a data field with a message property\n      const errorMessage = error.response?.data?.message || error.message || 'Login failed.';\n      setErrorx(errorMessage);\n  \n      setTimeout(() =&gt; {\n        setErrorx('');\n      }, 3000);\n    }\n  };\n  \n  \n\n\n\n\n  useEffect(() =&gt; {\n    const loadFonts = async () =&gt; {\n      await Font.loadAsync({\n        'my-custom-font': require('../assets/Seanor.ttf'),\n      });\n    \n      setFontsLoaded(true);\n    };\n    \n\n    loadFonts();\n  }, []);\n\n  // Font yüklenmediyse bekleme ekranı göster\n  if (!fontsLoaded) {\n    return (\n      &lt;View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}&gt;\n        &lt;Text style={{fontSize: 30}}&gt;Fontlar yükleniyor...&lt;/Text&gt;\n      &lt;/View&gt;\n    );\n  }\n\n\n\n\n\n\n\n\n\n\n\n\n  return (\n    &lt;SafeAreaView style={styles.container}&gt;\n\n\n\n\n\n    \n\n\n      \n\n\n        &lt;View style={{ zIndex: 2, position: 'absolute', top: 116, left: 22}}&gt;\n\n        &lt;Image style={{zIndex: 3, width: 160, height: 88, position: 'absolute', top: -76, left:77}} source={{ uri: logo }} /&gt;\n\n        &lt;Text style={{ fontFamily: 'my-custom-font', fontSize: 21, textAlign: &quot;center&quot;, color: 'white', fontWeight: '500', top: 23}}&gt;\n          TEST \n        &lt;/Text&gt;\n        &lt;/View&gt;\n\n        \n\n      &lt;View style={{ position: 'absolute',backgroundColor: '#607FF2', borderRadius: 350, height: 700, width: 700, zIndex: 1, top: -420, left: -230}}&gt;&lt;/View&gt;\n      &lt;View style={{ position: 'absolute',backgroundColor: '#4C51C6', borderRadius: 350, height: 700, width: 700, zIndex: 1, top: -430, left: -250}}&gt;&lt;/View&gt;\n        \n      &lt;View style={styles.loginview}&gt;\n            &lt;View style={{marginTop: 9,}}&gt;\n        &lt;View style={styles.loginPadUsername}&gt;\n\n          &lt;TextInput\n            placeholder=&quot;Kullanıcı Adı&quot;\n            style={styles.padUsername}\n            onChangeText={handleUsernameChange}\n          /&gt;\n        &lt;/View&gt;\n\n        &lt;View style={styles.loginPadPassword}&gt;\n          &lt;TextInput\n            placeholder=&quot;Şifre&quot;\n            style={styles.padPassword}\n            secureTextEntry={true}\n            onChangeText={handlePasswordChange}\n          /&gt;\n        &lt;/View&gt;\n\n\n\n\n\n        &lt;View style={{flexDirection: &quot;row&quot;, marginTop: 17, zIndex: 3,}}&gt;\n\n          &lt;TouchableOpacity style={styles.loginAddButton} onPress={handleRegisterPress}&gt;\n            &lt;Text style={styles.buttonText}&gt;Kayıt Ol&lt;/Text&gt;\n          &lt;/TouchableOpacity&gt;\n\n          &lt;TouchableOpacity style={styles.loginPadButton} onPress={handleLogin}&gt;\n            &lt;Text style={styles.buttonText}&gt;Giriş Yap&lt;/Text&gt;\n          &lt;/TouchableOpacity&gt;\n\n        &lt;/View&gt;\n        &lt;View style={{ height: 30, marginBottom: 4, justifyContent: &quot;center&quot;, alignItems: &quot;center&quot;, zIndex: 5, position: 'absolute', top: 268, left: 24 }}&gt;\n          &lt;Text style={{ fontSize: 10, color: '#E9F4FF', zIndex: 5 }}&gt;\n            {errorx}\n          &lt;/Text&gt;\n        &lt;/View&gt;\n\n            &lt;/View&gt;\n        &lt;/View&gt;\n\n\n\n        &lt;TouchableOpacity style={{position: 'absolute', top: 580, left: 202, height: 80, width: 130, backgroundColor: 'white', zIndex: 3, justifyContent: 'center',borderRadius: 45,}}&gt;\n          &lt;Text style={{fontSize: 22,textAlign: 'center'}}&gt; Destek &lt;/Text&gt;\n        &lt;/TouchableOpacity&gt;\n\n\n\n\n        &lt;View style={{ zIndex: 2, position: 'absolute', top: 680}}&gt;\n          &lt;Text style={{fontFamily: 'my-custom-font', fontSize: 21, textAlign: &quot;center&quot;, color: 'white', left: 24}}&gt;\n          TEST\n          &lt;/Text&gt;\n        &lt;/View&gt;\n        \n\n        &lt;View style={{ position: 'absolute', backgroundColor: '#4C51C6', borderRadius: 350, height: 600, width: 600, zIndex: 1, top: 520, left: -15}}&gt;&lt;/View&gt;\n        &lt;View style={{ position: 'absolute', backgroundColor: '#607FF2', borderRadius: 350, height: 600, width: 600, zIndex: 1, top: 550, left: -30}}&gt;&lt;/View&gt;\n      \n      \n\n\n\n   \n   \n   \n   \n    &lt;/SafeAreaView&gt;\n  );\n}\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#blue',\n    alignItems: 'stretch',\n  },\n  textcenter: {\n    fontSize: 70,\n    marginVertical: 80,\n    textAlign: &quot;center&quot;,\n    zIndex: 3\n  },\n  loginview: {\n    flex: 1,\n    backgroundColor: &quot;#FD830D&quot;,\n    alignItems: &quot;center&quot;, \n    justifyContent: 'center',\n    zIndex: 0,\n    position: 'absolute',\n    top: 4,\n    left: -66,\n    height: 700,\n    width: 500,\n  },\n  loginPadUsername: {\n    backgroundColor: &quot;#E9F4FF&quot;,\n    borderRadius: 23,\n    marginTop: 80,\n    zIndex: 3\n  },\n  padUsername: {\n    padding: 11,\n    fontSize: 22,\n    width: 210,\n    textAlign: &quot;center&quot;,\n    zIndex: 3\n  },\n  loginPadPassword: {\n    backgroundColor: &quot;#E9F4FF&quot;,\n    borderRadius: 23,\n    marginTop: 17,\n    zIndex: 3\n  },\n  padPassword: {\n    textAlign: &quot;center&quot;,\n    padding: 11,\n    fontSize: 22,\n    width: 211,\n    zIndex: 3\n  },\n\n  PadButton: { \n    textAlign: &quot;center&quot;,\n    fontSize: 17,\n    padding: 9,\n  },\n  loginPadButton: { \n    backgroundColor: &quot;#8BC34A&quot;,\n    borderRadius: 22,\n    alignItems: &quot;center&quot;,\n    justifyContent: &quot;center&quot;,\n    marginStart: 30,\n    padding: 15,\n  },\n  loginAddButton: {\n    backgroundColor: &quot;#8BC34A&quot;,\n    borderRadius: 22,\n    alignItems: &quot;center&quot;,\n    justifyContent: &quot;center&quot;,\n    padding: 15,\n  },\n  AddButton: {\n    padding: 9,\n    fontSize: 17,\n    textAlign: &quot;center&quot;,\n  },\n\n  buttonText: {\n    fontSize: 20,\n    textAlign: &quot;center&quot;,   \n}\n});\n\n</code></pre>\n<p><strong>fetchData.js</strong></p>\n<pre><code>import axios from 'axios';\nimport axiosInstance from './axiosInstance';\n\nconst BASE_URL = 'API URL SANSURED'; // MySQL API URL'sini buraya ekleyin\n\n\n\n\n\n\n\nexport const updateUser = async (userId, updatedData) =&gt; {\n  try {\n    const newData = {\n      ...updatedData, // Eski verileri kopyala\n      izinyellow: updatedData.izinyellow, // 'izinyellow' anahtarını ekle\n    };\n\n    await axios.put(`${BASE_URL}/veridegistir`, newData);\n    console.log('Veri başarıyla güncellendi');\n  } catch (error) {\n    throw new Error('Veri güncellenirken hata oluştu: ' + error.message);\n  }\n};\n\n\n\n\nexport const loginUser = async (username, password) =&gt; {\n  try {\n    const response = await fetch(`${BASE_URL}/login`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ username, password }),\n    });\n\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Giriş yapılamadı:', error);\n    throw new Error('Giriş yapılamadı: ' + error.message);\n  }\n};\n\n\n\n\n\nexport const updateYellowPhoneAndPass = async (useridpost, yellowPhone, yellowPass, xerror) =&gt; {\n  try {\n    const response = await axios.get(`${BASE_URL}/verioku`);\n    const users = response.data;\n    const user = users.find((u) =&gt; u.username === useridpost);\n    if (user) {\n      await axios.put(`${BASE_URL}/yellowphoneandpassword`, {\n        id: user.id,\n        emailyellow: yellowPhone,\n        passyellow: yellowPass,\n        checkyellow: 1,\n      });\n      console.log('Yellow telefon ve şifre bilgileri başarıyla güncellendi');\n    }\n  } catch (error) {\n    throw new Error('Yellow telefon ve şifre bilgileri güncellenirken hata oluştu: ' + error.message);\n  }\n};\n\n\n\n\nexport const updateWhiteEmailAndPass = async (useridpost, whitePhone, whitePass, xerror) =&gt; {\n  try {\n    const response = await axios.get(`${BASE_URL}/verioku`);\n    const users = response.data;\n    const user = users.find((u) =&gt; u.username === useridpost);\n    if (user) {\n      await axios.put(`${BASE_URL}/whiteemailandpassword`, {\n        id: user.id,\n        emailwhite: whitePhone,\n        passwhite: whitePass,\n        checkwhite: 1,\n      });\n      console.log('Yellow telefon ve şifre bilgileri başarıyla güncellendi');\n    }\n  } catch (error) {\n    throw new Error('Yellow telefon ve şifre bilgileri güncellenirken hata oluştu: ' + error.message);\n  }\n};\n\n\n\n\n\n\n\n\nexport const updateYellowTimeCode = async (useridpost, yellowTimeCode, yellowWork, yellowMesaj) =&gt; {\n  try {\n    const response = await axios.get(`${BASE_URL}/verioku`);\n    const users = response.data;\n    const user = users.find((u) =&gt; u.username === useridpost);\n    if (user) {\n      await axios.put(`${BASE_URL}/yellowtimecode`, {\n        id: user.id,\n        timecodeyellow: yellowTimeCode,\n        workyellow: yellowWork,\n        mesajyellow: yellowMesaj,\n      });\n      console.log('Time Ayarlandı');\n    }\n  } catch (error) {\n    throw new Error('Time HATA : ' + error.message);\n  }\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\nexport const updateWhiteTimeCode = async (useridpost, whiteTimeCode, whiteWork, whiteMesaj) =&gt; {\n  try {\n    const response = await axios.get(`${BASE_URL}/verioku`);\n    const users = response.data;\n    const user = users.find((u) =&gt; u.username === useridpost);\n    if (user) {\n      await axios.put(`${BASE_URL}/whitetimecode`, {\n        id: user.id,\n        timecodewhite: whiteTimeCode,\n        workwhite: whiteWork,\n        mesajwhite: whiteMesaj,\n      });\n      console.log('Time Ayarlandı');\n    }\n  } catch (error) {\n    throw new Error('Time HATA : ' + error.message);\n  }\n};\n\n\n\n\n\n\n\n\nexport const getYellowError = async () =&gt; {\n  try {\n    const response = await axios.get(`${BASE_URL}/yellowerror`);\n    return response.data;\n  } catch (error) {\n    throw new Error('Yellow hatalarını alırken bir hata oluştu: ' + error.message);\n  }\n};\n\n\n\n\n</code></pre>\n<p>The issue is specifically occurring in Expo Go on both Android devices where I have tested the app. I have verified that both devices have an active internet connection. The API works as expected on Expo Web, so I am puzzled as to why I am encountering network errors in Expo Go.</p>\n<p>I have checked the permissions on the real devices, and the necessary internet permissions are granted to the app. Additionally, SSL certificate configuration seems to be in order as the API functions without any issues on Expo Web.</p>\n<p>I am seeking guidance to understand the root cause of this issue and find a solution to ensure my Expo Go app can make successful API requests.</p>\n<p>Any assistance or insights into resolving this network error in Expo Go would be greatly appreciated. Thank you in advance for your help! <strong>yes my english is bad i used translation while writing</strong></p>\n"},{"tags":["java","android","service","foreground"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690239613,"creation_date":1690239613,"answer_id":76758497,"question_id":76758454,"body_markdown":"&gt; Can someone please explain why is it happening\r\n\r\nYour static variables will live for the entire process duration. Your process will live [for a system-defined period of time](https://developer.android.com/guide/components/activities/process-lifecycle).\r\n\r\n&gt; and how to prevent it ?\r\n\r\nStop using static variables.\r\n\r\n&gt; my new instance of app suppose to get new instances of static variables, isn&#39;t it ?\r\n\r\nYou are creating a new instance of an activity. A new process will be created automatically for you if one is needed, but otherwise Android will reuse an existing running process (a &quot;warm start&quot;).","title":"Java Android, static variables are not reset on application close","body":"<blockquote>\n<p>Can someone please explain why is it happening</p>\n</blockquote>\n<p>Your static variables will live for the entire process duration. Your process will live <a href=\"https://developer.android.com/guide/components/activities/process-lifecycle\" rel=\"nofollow noreferrer\">for a system-defined period of time</a>.</p>\n<blockquote>\n<p>and how to prevent it ?</p>\n</blockquote>\n<p>Stop using static variables.</p>\n<blockquote>\n<p>my new instance of app suppose to get new instances of static variables, isn't it ?</p>\n</blockquote>\n<p>You are creating a new instance of an activity. A new process will be created automatically for you if one is needed, but otherwise Android will reuse an existing running process (a &quot;warm start&quot;).</p>\n"}],"owner":{"account_id":27188258,"reputation":1,"user_id":20722433,"display_name":"Alex Dzhus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690239613,"creation_date":1690238958,"question_id":76758454,"body_markdown":"I faced with a strange behavior.\r\n\r\nMy main Activity creates a foreground service and close itself by calling &quot;**finishAffinity()**&quot;.\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            String msg = &quot;onCreate, isProgramClosing: &quot; +  Context.isProgramClosing();\r\n            Toast toast = Toast.makeText(this,msg , Toast.LENGTH_SHORT);\r\n            toast.show();\r\n    \r\n            instance = this;\r\n    \r\n            mainServiceIntent = new Intent(this, MainService.class);\r\n            mainServiceIntent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            startService(mainServiceIntent);\r\n    \r\n            Log.i(getClass().getName(), &quot;Activity finised&quot;);\r\n            finishAffinity();\r\n        }\r\n\r\nMy service change a static bool variable by calling **setProgramClosing()** , and close itself by calling **stopSelf()** (jus to reproduce the issue, code is tested)\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        instance = this;\r\n    \r\n        Intent notificationIntent = new Intent(this, MainActivity.class);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this,\r\n                0, notificationIntent, 0);\r\n    \r\n        Notification nt = new NotificationCompat.Builder(this, MainNotificationChannel.CHANNEL_ID)\r\n                .setContentTitle(&quot;FarbaRsService&quot;)\r\n                .setContentText(&quot;&quot;)\r\n                .setSmallIcon(R.drawable.ic_android)\r\n                .setContentIntent(pendingIntent)\r\n                .build();\r\n    \r\n        startForeground(1, nt);\r\n    \r\n        closeAllResources();\r\n    }\r\n    \r\n    @Nullable\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return null;\r\n    }\r\n    \r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId){\r\n        return START_NOT_STICKY;\r\n    }\r\n    \r\n    public  void closeAllResources(){\r\n        Context.setProgramClosing();\r\n        stopSelf();\r\n    }\r\n\r\nA class with static variable looks like this.\r\n\r\n    public class Context { \r\n       private static boolean isProgramClosing = false;\r\n    \r\n       public static void setProgramClosing(){\r\n          Context.isProgramClosing = true;\r\n       }\r\n    \r\n       public static boolean isProgramClosing(){\r\n         return isProgramClosing;\r\n       }\r\n    }\r\n\r\nWhen I execute the app 1st time the toast in MainActivity shows **false**, both Activity and Service suppose to be closed right after it.  \r\nWhen I execute the app 2nd time the toast show **true**, which means my static variable wasn&#39;t reset.\r\n\r\nCan someone please explain why is it happening and how to prevent it ?  \r\nThe only one workaround I see is to manually reset all static variables on Activity creation, but I really don&#39;t want to do this.\r\n\r\nI know that &quot;Static variables will lose their values only when they are unloaded from JVM during run-time.&quot;, but my new instance of app suppose to get new instances of static variables, isn&#39;t it ?!\r\n\r\nI tried to execute the app on 2 different android devices (android 9 / android 11), got the same result.","title":"Java Android, static variables are not reset on application close","body":"<p>I faced with a strange behavior.</p>\n<p>My main Activity creates a foreground service and close itself by calling &quot;<strong>finishAffinity()</strong>&quot;.</p>\n<pre><code>    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        String msg = &quot;onCreate, isProgramClosing: &quot; +  Context.isProgramClosing();\n        Toast toast = Toast.makeText(this,msg , Toast.LENGTH_SHORT);\n        toast.show();\n\n        instance = this;\n\n        mainServiceIntent = new Intent(this, MainService.class);\n        mainServiceIntent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NEW_TASK);\n        startService(mainServiceIntent);\n\n        Log.i(getClass().getName(), &quot;Activity finised&quot;);\n        finishAffinity();\n    }\n</code></pre>\n<p>My service change a static bool variable by calling <strong>setProgramClosing()</strong> , and close itself by calling <strong>stopSelf()</strong> (jus to reproduce the issue, code is tested)</p>\n<pre><code>@Override\npublic void onCreate() {\n    super.onCreate();\n    instance = this;\n\n    Intent notificationIntent = new Intent(this, MainActivity.class);\n    PendingIntent pendingIntent = PendingIntent.getActivity(this,\n            0, notificationIntent, 0);\n\n    Notification nt = new NotificationCompat.Builder(this, MainNotificationChannel.CHANNEL_ID)\n            .setContentTitle(&quot;FarbaRsService&quot;)\n            .setContentText(&quot;&quot;)\n            .setSmallIcon(R.drawable.ic_android)\n            .setContentIntent(pendingIntent)\n            .build();\n\n    startForeground(1, nt);\n\n    closeAllResources();\n}\n\n@Nullable\n@Override\npublic IBinder onBind(Intent intent) {\n    return null;\n}\n\n@Override\npublic int onStartCommand(Intent intent, int flags, int startId){\n    return START_NOT_STICKY;\n}\n\npublic  void closeAllResources(){\n    Context.setProgramClosing();\n    stopSelf();\n}\n</code></pre>\n<p>A class with static variable looks like this.</p>\n<pre><code>public class Context { \n   private static boolean isProgramClosing = false;\n\n   public static void setProgramClosing(){\n      Context.isProgramClosing = true;\n   }\n\n   public static boolean isProgramClosing(){\n     return isProgramClosing;\n   }\n}\n</code></pre>\n<p>When I execute the app 1st time the toast in MainActivity shows <strong>false</strong>, both Activity and Service suppose to be closed right after it.<br />\nWhen I execute the app 2nd time the toast show <strong>true</strong>, which means my static variable wasn't reset.</p>\n<p>Can someone please explain why is it happening and how to prevent it ?<br />\nThe only one workaround I see is to manually reset all static variables on Activity creation, but I really don't want to do this.</p>\n<p>I know that &quot;Static variables will lose their values only when they are unloaded from JVM during run-time.&quot;, but my new instance of app suppose to get new instances of static variables, isn't it ?!</p>\n<p>I tried to execute the app on 2 different android devices (android 9 / android 11), got the same result.</p>\n"},{"tags":["java"],"owner":{"account_id":29083671,"reputation":1,"user_id":22279091,"display_name":"Miraessa MbujiMayi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690239481,"creation_date":1690239481,"question_id":76758489,"body_markdown":"I want to add Web driver on Build Path bt there are error, so I go to configure build Path to import jar extend. But there are error again and again.\r\n\r\nBut I deleted module Path and Classpath unintentionally on Eclipse\r\n\r\nHow to fix that?\r\n\r\nThank !\r\n\r\nI dont know to fix that ","title":"Remove modulepath eclipse","body":"<p>I want to add Web driver on Build Path bt there are error, so I go to configure build Path to import jar extend. But there are error again and again.</p>\n<p>But I deleted module Path and Classpath unintentionally on Eclipse</p>\n<p>How to fix that?</p>\n<p>Thank !</p>\n<p>I dont know to fix that</p>\n"},{"tags":["java","selenium-webdriver","webdriver"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1690230020,"post_id":76757562,"comment_id":135321593,"body_markdown":"Does your program takes you to the home page? I face antibot challenge from APAC.","body":"Does your program takes you to the home page? I face antibot challenge from APAC."},{"owner":{"account_id":29082743,"reputation":13,"user_id":22278390,"display_name":"b.tsolmonbat"},"score":0,"creation_date":1690267747,"post_id":76757562,"comment_id":135325479,"body_markdown":"My problem got solved! The answer below was the solution and I appreciate you asking and helping a lot!","body":"My problem got solved! The answer below was the solution and I appreciate you asking and helping a lot!"}],"answers":[{"tags":[],"owner":{"account_id":25838667,"reputation":312,"user_id":19574650,"display_name":"I.sh."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690239204,"creation_date":1690239204,"answer_id":76758471,"question_id":76757562,"body_markdown":"First of all, you should close that cookies alert. &lt;br&gt;\r\nSecondly, the *Load-More* button is not in the user view. &lt;br&gt;\r\nThe solution for that is to execute the [JS scrollIntoView command][1] before waiting for it to be clickable:\r\n```java\r\ndriver.get(&quot;https://www.mediamarkt.at/de/category/alle-notebooks-884.html&quot;);\r\ndriver.manage().timeouts().implicitlyWait(Duration.ofMillis(4000));\r\nWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n\r\n// Find the cookie-alert&#39;s &quot;close&quot; btn and click on it\r\nBy closeAlertLocator = By.xpath(&quot;//button[contains(text(),&#39;Speichern&#39;)]&quot;);\r\ndriver.findElement(closeAlertLocator).click();\r\n\r\n// Wait for the &quot;close&quot; btn to disappear\r\nwait.until(ExpectedConditions.invisibilityOfElementLocated(closeAlertLocator));\r\n\r\n// Locate the &quot;Load More&quot; btn\r\nBy loadMoreLocator = By.cssSelector(&quot;button[data-test=&#39;mms-search-srp-loadmore&#39;]&quot;);\r\nWebElement loadMoreButton = driver.findElement(loadMoreLocator);\r\n\r\n// Scroll to the &quot;Load More&quot; btn and make sure it&#39;s in the user view\r\n((JavascriptExecutor) driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, loadMoreButton);\r\n\r\n// Wait for the &quot;Load More&quot; btn to be clickable and click on it\r\nwait.until(ExpectedConditions.elementToBeClickable(loadMoreLocator)).click();\r\n\r\n// stuff to do later ...\r\n```\r\n\r\nIn addition I&#39;ve relocated the *implicit-wait* command. it should be executed before the rest of the code in order to affect it.\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/scroll-element-into-view-with-selenium","title":"selenium.TimeoutException: Expected condition failed: waiting for element to be clickable with Selenium Webdriver","body":"<p>First of all, you should close that cookies alert. <br>\nSecondly, the <em>Load-More</em> button is not in the user view. <br>\nThe solution for that is to execute the <a href=\"https://www.tutorialspoint.com/scroll-element-into-view-with-selenium\" rel=\"nofollow noreferrer\">JS scrollIntoView command</a> before waiting for it to be clickable:</p>\n<pre class=\"lang-java prettyprint-override\"><code>driver.get(&quot;https://www.mediamarkt.at/de/category/alle-notebooks-884.html&quot;);\ndriver.manage().timeouts().implicitlyWait(Duration.ofMillis(4000));\nWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\n\n// Find the cookie-alert's &quot;close&quot; btn and click on it\nBy closeAlertLocator = By.xpath(&quot;//button[contains(text(),'Speichern')]&quot;);\ndriver.findElement(closeAlertLocator).click();\n\n// Wait for the &quot;close&quot; btn to disappear\nwait.until(ExpectedConditions.invisibilityOfElementLocated(closeAlertLocator));\n\n// Locate the &quot;Load More&quot; btn\nBy loadMoreLocator = By.cssSelector(&quot;button[data-test='mms-search-srp-loadmore']&quot;);\nWebElement loadMoreButton = driver.findElement(loadMoreLocator);\n\n// Scroll to the &quot;Load More&quot; btn and make sure it's in the user view\n((JavascriptExecutor) driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, loadMoreButton);\n\n// Wait for the &quot;Load More&quot; btn to be clickable and click on it\nwait.until(ExpectedConditions.elementToBeClickable(loadMoreLocator)).click();\n\n// stuff to do later ...\n</code></pre>\n<p>In addition I've relocated the <em>implicit-wait</em> command. it should be executed before the rest of the code in order to affect it.</p>\n"}],"owner":{"account_id":29082743,"reputation":13,"user_id":22278390,"display_name":"b.tsolmonbat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76758471,"answer_count":1,"score":1,"last_activity_date":1690239204,"creation_date":1690227364,"question_id":76757562,"body_markdown":"I wanted to web scrape this website:\r\n[mediamarkt computer website](https://www.mediamarkt.at/de/category/alle-notebooks-884.html)\r\n\r\n\r\nBelow is the code: \r\n\r\n```\r\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;path/to/chromedriver/exe/worksFine&quot;);\r\n\r\n        ChromeDriverService service = new ChromeDriverService.Builder()\r\n                .withLogOutput(System.out)\r\n                .build();\r\n\r\n        WebDriver driver = new ChromeDriver(service);\r\n        driver.get(&quot;https://www.mediamarkt.at/de/category/alle-notebooks-884.html&quot;);\r\n        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n\r\n        WebElement loadMoreButton = wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;button[data-test=&#39;mms-search-srp-loadmore&#39;]&quot;)));\r\n        loadMoreButton.click();\r\n        driver.manage().timeouts().implicitlyWait(Duration.ofMillis(1000));\r\n// stuff to do later ...\r\n        driver.quit();\r\n    }\r\n```\r\n\r\n\r\nHere is the error message I got in intellij: \r\n\r\n````\r\nJuli 22, 2023 5:03:23 PM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\r\nWARNING: Unable to find an exact match for CDP version 115, so returning the closest version found: 114\r\nException in thread &quot;main&quot; org.openqa.selenium.TimeoutException: Expected condition failed: waiting for element to be clickable: By.cssSelector: button[data-test=&#39;mms-search-srp-loadmore&#39;] (tried for 10 second(s) with 500 milliseconds interval)\r\n````\r\n\r\n\r\nI am very thankful for any help!!! \r\n\r\n\r\nI want to web scrape all computers there and collect all the data, but the problem is there is the load more button. So it just scrapes about 10 computers and that&#39;s it. But I want to scrape more computers. So the webdriver should click on the button so it can proceed. \r\nTo be honest I don&#39;t know what the problem is or how it can be fixed. Since I&#39;m pretty new to java and selenium webdriver I don&#39;t know where to find a solution, that&#39;s why this here is my best shot now, so I hope someone is able to help me out. ","title":"selenium.TimeoutException: Expected condition failed: waiting for element to be clickable with Selenium Webdriver","body":"<p>I wanted to web scrape this website:\n<a href=\"https://www.mediamarkt.at/de/category/alle-notebooks-884.html\" rel=\"nofollow noreferrer\">mediamarkt computer website</a></p>\n<p>Below is the code:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;path/to/chromedriver/exe/worksFine&quot;);\n\n        ChromeDriverService service = new ChromeDriverService.Builder()\n                .withLogOutput(System.out)\n                .build();\n\n        WebDriver driver = new ChromeDriver(service);\n        driver.get(&quot;https://www.mediamarkt.at/de/category/alle-notebooks-884.html&quot;);\n        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\n\n        WebElement loadMoreButton = wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;button[data-test='mms-search-srp-loadmore']&quot;)));\n        loadMoreButton.click();\n        driver.manage().timeouts().implicitlyWait(Duration.ofMillis(1000));\n// stuff to do later ...\n        driver.quit();\n    }\n</code></pre>\n<p>Here is the error message I got in intellij:</p>\n<pre><code>Juli 22, 2023 5:03:23 PM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\nWARNING: Unable to find an exact match for CDP version 115, so returning the closest version found: 114\nException in thread &quot;main&quot; org.openqa.selenium.TimeoutException: Expected condition failed: waiting for element to be clickable: By.cssSelector: button[data-test='mms-search-srp-loadmore'] (tried for 10 second(s) with 500 milliseconds interval)\n</code></pre>\n<p>I am very thankful for any help!!!</p>\n<p>I want to web scrape all computers there and collect all the data, but the problem is there is the load more button. So it just scrapes about 10 computers and that's it. But I want to scrape more computers. So the webdriver should click on the button so it can proceed.\nTo be honest I don't know what the problem is or how it can be fixed. Since I'm pretty new to java and selenium webdriver I don't know where to find a solution, that's why this here is my best shot now, so I hope someone is able to help me out.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2138149,"reputation":5531,"user_id":1897423,"accept_rate":57,"display_name":"Lingviston"},"score":0,"creation_date":1371396159,"post_id":17134773,"comment_id":24797057,"body_markdown":"Read about regular expressions (RegEx) for more info.","body":"Read about regular expressions (RegEx) for more info."},{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":2,"creation_date":1371396220,"post_id":17134773,"comment_id":24797074,"body_markdown":"The checking part seems fine. What&#39;s the error?","body":"The checking part seems fine. What&#39;s the error?"},{"owner":{"account_id":1035888,"reputation":24950,"user_id":1043198,"accept_rate":97,"display_name":"Ant P"},"score":4,"creation_date":1371396307,"post_id":17134773,"comment_id":24797093,"body_markdown":"What&#39;s the error? What is `d`? What is `c`?","body":"What&#39;s the error? What is <code>d</code>? What is <code>c</code>?"}],"answers":[{"tags":[],"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1371404247,"creation_date":1371396249,"answer_id":17134797,"question_id":17134773,"body_markdown":"You can use regular expressions:\r\n\r\n    if (d.matches(&quot;.*Hey.*&quot;)) {\r\n        c.setText(&quot;OUTPUT: SUCCESS!&quot;);\r\n    } else {\r\n        c.setText(&quot;OUTPUT: FAIL!&quot;);  \r\n    }\r\n\r\n`.*` -&gt; 0 or more of any characters\r\n\r\n`Hey` -&gt; The string you want\r\n\r\nIf you will be checking this often, it is better to compile the regular expression in a `Pattern` object and reuse the `Pattern` instance to do the checking.\r\n\r\n    private static final Pattern HEYPATTERN = Pattern.compile(&quot;.*Hey.*&quot;);\r\n    [...]\r\n    if (HEYPATTERN.matcher(d).matches()) {\r\n        c.setText(&quot;OUTPUT: SUCCESS!&quot;);\r\n    } else {\r\n        c.setText(&quot;OUTPUT: FAIL!&quot;);  \r\n    }\r\n\r\nJust note this will also match `&quot;Heyburg&quot;` for example since you didn&#39;t specify you&#39;re searching for `&quot;Hey&quot;` as an independent word. *If you only want to match `Hey` as a word, you need to change the regex to* `.*\\\\bHey\\\\b.*`\r\n","title":"To check if string contains particular word","body":"<p>You can use regular expressions:</p>\n\n<pre><code>if (d.matches(\".*Hey.*\")) {\n    c.setText(\"OUTPUT: SUCCESS!\");\n} else {\n    c.setText(\"OUTPUT: FAIL!\");  \n}\n</code></pre>\n\n<p><code>.*</code> -> 0 or more of any characters</p>\n\n<p><code>Hey</code> -> The string you want</p>\n\n<p>If you will be checking this often, it is better to compile the regular expression in a <code>Pattern</code> object and reuse the <code>Pattern</code> instance to do the checking.</p>\n\n<pre><code>private static final Pattern HEYPATTERN = Pattern.compile(\".*Hey.*\");\n[...]\nif (HEYPATTERN.matcher(d).matches()) {\n    c.setText(\"OUTPUT: SUCCESS!\");\n} else {\n    c.setText(\"OUTPUT: FAIL!\");  \n}\n</code></pre>\n\n<p>Just note this will also match <code>\"Heyburg\"</code> for example since you didn't specify you're searching for <code>\"Hey\"</code> as an independent word. <em>If you only want to match <code>Hey</code> as a word, you need to change the regex to</em> <code>.*\\\\bHey\\\\b.*</code></p>\n"},{"tags":[],"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1371397339,"creation_date":1371396598,"answer_id":17134846,"question_id":17134773,"body_markdown":"`.contains()` is perfectly valid and a good way to check.\r\n\r\n(http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#contains(java.lang.CharSequence))\r\n\r\nSince you didn&#39;t post the error, I guess `d` is either null or you are getting the &quot;Cannot refer to a non-final variable inside an inner class defined in a different method&quot; error.\r\n\r\nTo make sure it&#39;s not null, first check for null in the if statement. If it&#39;s the other error, make sure `d` is declared as `final` or is a member variable of your class. Ditto for `c`.","title":"To check if string contains particular word","body":"<p><code>.contains()</code> is perfectly valid and a good way to check.</p>\n\n<p>(<a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#contains(java.lang.CharSequence)\" rel=\"noreferrer\">http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#contains(java.lang.CharSequence)</a>)</p>\n\n<p>Since you didn't post the error, I guess <code>d</code> is either null or you are getting the \"Cannot refer to a non-final variable inside an inner class defined in a different method\" error.</p>\n\n<p>To make sure it's not null, first check for null in the if statement. If it's the other error, make sure <code>d</code> is declared as <code>final</code> or is a member variable of your class. Ditto for <code>c</code>.</p>\n"},{"tags":[],"owner":{"account_id":2901561,"reputation":19,"user_id":2488107,"display_name":"Artem Kuchin"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1371397234,"creation_date":1371397234,"answer_id":17134938,"question_id":17134773,"body_markdown":"   \r\n\r\n    if (someString.indexOf(&quot;Hey&quot;)&gt;=0) \r\n         doSomething();","title":"To check if string contains particular word","body":"<pre><code>if (someString.indexOf(\"Hey\")&gt;=0) \n     doSomething();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4396315,"reputation":1498,"user_id":3583237,"accept_rate":57,"display_name":"Farukest"},"down_vote_count":4,"up_vote_count":64,"is_accepted":true,"score":60,"last_activity_date":1462881955,"creation_date":1405213442,"answer_id":24718674,"question_id":17134773,"body_markdown":"**Not as complicated as they say, check this you will not regret.**\r\n\r\n    String sentence = &quot;Check this answer and you can find the keyword with this code&quot;;\r\n    String search  = &quot;keyword&quot;;\r\n    \r\n    if ( sentence.toLowerCase().indexOf(search.toLowerCase()) != -1 ) {\r\n    \r\n       System.out.println(&quot;I found the keyword&quot;);\r\n    \r\n    } else {\r\n\r\n       System.out.println(&quot;not found&quot;);\r\n\r\n    }\r\n\r\n  You can change the `toLowerCase()` if you want.","title":"To check if string contains particular word","body":"<p><strong>Not as complicated as they say, check this you will not regret.</strong></p>\n\n<pre><code>String sentence = \"Check this answer and you can find the keyword with this code\";\nString search  = \"keyword\";\n\nif ( sentence.toLowerCase().indexOf(search.toLowerCase()) != -1 ) {\n\n   System.out.println(\"I found the keyword\");\n\n} else {\n\n   System.out.println(\"not found\");\n\n}\n</code></pre>\n\n<p>You can change the <code>toLowerCase()</code> if you want.</p>\n"},{"tags":[],"owner":{"account_id":6800394,"reputation":2795,"user_id":5233879,"display_name":"Lanil Marasinghe"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1599460686,"creation_date":1516777743,"answer_id":48416701,"question_id":17134773,"body_markdown":"Using **contains**\r\n\r\n    String sentence = &quot;Check this answer and you can find the keyword with this code&quot;;\r\n    String search = &quot;keyword&quot;;\r\n\r\n    if (sentence.toLowerCase().contains(search.toLowerCase())) {\r\n\r\n      System.out.println(&quot;I found the keyword..!&quot;);\r\n\r\n    } else {\r\n\r\n      System.out.println(&quot;not found..!&quot;);\r\n\r\n    }","title":"To check if string contains particular word","body":"<p>Using <strong>contains</strong></p>\n<pre><code>String sentence = &quot;Check this answer and you can find the keyword with this code&quot;;\nString search = &quot;keyword&quot;;\n\nif (sentence.toLowerCase().contains(search.toLowerCase())) {\n\n  System.out.println(&quot;I found the keyword..!&quot;);\n\n} else {\n\n  System.out.println(&quot;not found..!&quot;);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15290705,"reputation":11,"user_id":11032300,"display_name":"Sathish kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549612868,"creation_date":1549610050,"answer_id":54587614,"question_id":17134773,"body_markdown":"       String sentence = &quot;Check this answer and you can find the keyword with this code&quot;;\r\n        String search = &quot;keyword&quot;;\r\n\r\nCompare the line of string  in given string\r\n\r\n    if ((sentence.toLowerCase().trim()).equals(search.toLowerCase().trim())) {\r\n    System.out.println(&quot;not found&quot;);\r\n    }\r\n    else {  \r\n        System.out.println(&quot;I found the keyword&quot;); \r\n    } \r\n\r\n","title":"To check if string contains particular word","body":"<pre><code>   String sentence = \"Check this answer and you can find the keyword with this code\";\n    String search = \"keyword\";\n</code></pre>\n\n<p>Compare the line of string  in given string</p>\n\n<pre><code>if ((sentence.toLowerCase().trim()).equals(search.toLowerCase().trim())) {\nSystem.out.println(\"not found\");\n}\nelse {  \n    System.out.println(\"I found the keyword\"); \n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":13361915,"reputation":3484,"user_id":9643655,"display_name":"Arturo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564768961,"creation_date":1564768961,"answer_id":57331484,"question_id":17134773,"body_markdown":"Maybe this post is old, but I came across it and used the &quot;wrong&quot; usage. The best way to find a keyword is using `.contains`, example:\r\n\r\n    if ( d.contains(&quot;hello&quot;)) {\r\n                System.out.println(&quot;I found the keyword&quot;);\r\n    }","title":"To check if string contains particular word","body":"<p>Maybe this post is old, but I came across it and used the \"wrong\" usage. The best way to find a keyword is using <code>.contains</code>, example:</p>\n\n<pre><code>if ( d.contains(\"hello\")) {\n            System.out.println(\"I found the keyword\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7500290,"reputation":65,"user_id":5698971,"display_name":"sidharth228"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584704071,"creation_date":1572356469,"answer_id":58608605,"question_id":17134773,"body_markdown":"It&#39;s been correctly pointed out above that finding a given word in a sentence is not the same as finding the charsequence, and can be done as follows if you don&#39;t want to mess around with regular expressions.\r\n\r\n    boolean checkWordExistence(String word, String sentence) {\r\n    \tif (sentence.contains(word)) {\r\n        \tint start = sentence.indexOf(word);\r\n        \tint end = start + word.length();\r\n        \r\n        \tboolean valid_left = ((start == 0) || (sentence.charAt(start - 1) == &#39; &#39;));\r\n        \tboolean valid_right = ((end == sentence.length()) || (sentence.charAt(end) == &#39; &#39;));\r\n        \r\n        \treturn valid_left &amp;&amp; valid_right;\r\n        }\r\n        return false;\r\n\t}\r\n\r\n**Output**:\r\n\r\n    checkWordExistence(&quot;the&quot;, &quot;the earth is our planet&quot;); true\r\n    checkWordExistence(&quot;ear&quot;, &quot;the earth is our planet&quot;); false\r\n    checkWordExistence(&quot;earth&quot;, &quot;the earth is our planet&quot;); true\r\n\r\n**P.S**\r\nMake sure you have filtered out any commas or full stops beforehand.","title":"To check if string contains particular word","body":"<p>It's been correctly pointed out above that finding a given word in a sentence is not the same as finding the charsequence, and can be done as follows if you don't want to mess around with regular expressions.</p>\n\n<pre><code>boolean checkWordExistence(String word, String sentence) {\n    if (sentence.contains(word)) {\n        int start = sentence.indexOf(word);\n        int end = start + word.length();\n\n        boolean valid_left = ((start == 0) || (sentence.charAt(start - 1) == ' '));\n        boolean valid_right = ((end == sentence.length()) || (sentence.charAt(end) == ' '));\n\n        return valid_left &amp;&amp; valid_right;\n    }\n    return false;\n}\n</code></pre>\n\n<p><strong>Output</strong>:</p>\n\n<pre><code>checkWordExistence(\"the\", \"the earth is our planet\"); true\ncheckWordExistence(\"ear\", \"the earth is our planet\"); false\ncheckWordExistence(\"earth\", \"the earth is our planet\"); true\n</code></pre>\n\n<p><strong>P.S</strong>\nMake sure you have filtered out any commas or full stops beforehand.</p>\n"},{"tags":[],"owner":{"account_id":6013520,"reputation":1622,"user_id":4723178,"display_name":"Muhammad Maqsood"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1577193339,"creation_date":1577193339,"answer_id":59469400,"question_id":17134773,"body_markdown":"**Solution-1:** - If you want to search for a combination of characters or an independent word from a sentence.\r\n\r\n    String sentence = &quot;In the Name of Allah, the Most Beneficent, the Most Merciful.&quot;\r\n    if (sentence.matches(&quot;.*Beneficent.*&quot;)) {return true;}\r\n    else{return false;}\r\n\r\n**Solution-2:** - There is another possibility you want to search for an independent word from a sentence then **Solution-1** will also return true if you searched a word exists in any other word. For example, If you will search **cent** from a sentence containing this word ** Beneficent** then **Solution-1** will return true. For this remember to add space in your regular expression.\r\n\r\n    String sentence = &quot;In the Name of Allah, the Most Beneficent, the Most Merciful.&quot;\r\n    if (sentence.matches(&quot;.* cent .*&quot;)) {return true;}\r\n    else{return false;}\r\nNow in **Solution-2** it wll return **false** because no independent **cent** word exist.\r\n\r\n**Additional**: You can add or remove space on either side in 2nd solution according to your requirements. ","title":"To check if string contains particular word","body":"<p><strong>Solution-1:</strong> - If you want to search for a combination of characters or an independent word from a sentence.</p>\n\n<pre><code>String sentence = \"In the Name of Allah, the Most Beneficent, the Most Merciful.\"\nif (sentence.matches(\".*Beneficent.*\")) {return true;}\nelse{return false;}\n</code></pre>\n\n<p><strong>Solution-2:</strong> - There is another possibility you want to search for an independent word from a sentence then <strong>Solution-1</strong> will also return true if you searched a word exists in any other word. For example, If you will search <strong>cent</strong> from a sentence containing this word ** Beneficent** then <strong>Solution-1</strong> will return true. For this remember to add space in your regular expression.</p>\n\n<pre><code>String sentence = \"In the Name of Allah, the Most Beneficent, the Most Merciful.\"\nif (sentence.matches(\".* cent .*\")) {return true;}\nelse{return false;}\n</code></pre>\n\n<p>Now in <strong>Solution-2</strong> it wll return <strong>false</strong> because no independent <strong>cent</strong> word exist.</p>\n\n<p><strong>Additional</strong>: You can add or remove space on either side in 2nd solution according to your requirements. </p>\n"},{"tags":[],"owner":{"account_id":1773418,"reputation":18513,"user_id":1617737,"accept_rate":53,"display_name":"ban-geoengineering"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1602198322,"creation_date":1602198322,"answer_id":64271783,"question_id":17134773,"body_markdown":"The other answer (to date) appear to check for substrings rather than words. Major difference.\r\n\r\nWith the help of [this article][1], I have created this simple method:\r\n\r\n    static boolean containsWord(String mainString, String word) {\r\n    \r\n        Pattern pattern = Pattern.compile(&quot;\\\\b&quot; + word + &quot;\\\\b&quot;, Pattern.CASE_INSENSITIVE); // &quot;\\\\b&quot; represents any word boundary.\r\n        Matcher matcher = pattern.matcher(mainString);\r\n        return matcher.find();\r\n    }\r\n\r\n  [1]: https://howtodoinjava.com/java/regex/java-regex-specific-contain-word/","title":"To check if string contains particular word","body":"<p>The other answer (to date) appear to check for substrings rather than words. Major difference.</p>\n<p>With the help of <a href=\"https://howtodoinjava.com/java/regex/java-regex-specific-contain-word/\" rel=\"noreferrer\">this article</a>, I have created this simple method:</p>\n<pre><code>static boolean containsWord(String mainString, String word) {\n\n    Pattern pattern = Pattern.compile(&quot;\\\\b&quot; + word + &quot;\\\\b&quot;, Pattern.CASE_INSENSITIVE); // &quot;\\\\b&quot; represents any word boundary.\n    Matcher matcher = pattern.matcher(mainString);\n    return matcher.find();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28338811,"reputation":1,"user_id":21672153,"display_name":"Susikumar Pitchaimuthu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690238906,"creation_date":1689832664,"answer_id":76727041,"question_id":17134773,"body_markdown":"Try this code:\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class wordContain {\r\n\r\n    public static boolean wordCheck(String[] array, String word) {\r\n\r\n        boolean check = false;\r\n\r\n        for (int i = 0; i &lt; array.length; i++) {\r\n            if (array[i].equals(word)) {\r\n                check = true;\r\n                break;\r\n            }\r\n        }\r\n\r\n        return check;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        // Getting the value from the Scanner\r\n        Scanner scan = new Scanner(System.in);\r\n        String sentence = scan.nextLine();\r\n        String word = scan.nextLine().toLowerCase();\r\n\r\n        // Split the sentence...\r\n        String[] array = sentence.toLowerCase().split(&quot; &quot;);\r\n\r\n        // pass the value to the wordCheck method\r\n        boolean result = wordCheck(array, word);\r\n        System.out.println(result);\r\n\r\n        scan.close();\r\n    }\r\n}\r\n```","title":"To check if string contains particular word","body":"<p>Try this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class wordContain {\n\n    public static boolean wordCheck(String[] array, String word) {\n\n        boolean check = false;\n\n        for (int i = 0; i &lt; array.length; i++) {\n            if (array[i].equals(word)) {\n                check = true;\n                break;\n            }\n        }\n\n        return check;\n    }\n\n    public static void main(String[] args) {\n        // Getting the value from the Scanner\n        Scanner scan = new Scanner(System.in);\n        String sentence = scan.nextLine();\n        String word = scan.nextLine().toLowerCase();\n\n        // Split the sentence...\n        String[] array = sentence.toLowerCase().split(&quot; &quot;);\n\n        // pass the value to the wordCheck method\n        boolean result = wordCheck(array, word);\n        System.out.println(result);\n\n        scan.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2521555,"reputation":321,"user_id":2191815,"accept_rate":36,"display_name":"WhiplashOne"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200670,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":24718674,"answer_count":11,"score":28,"last_activity_date":1690238906,"creation_date":1371396094,"question_id":17134773,"body_markdown":"So how do you check if a string has a particular word in it? \r\n\r\nSo this is my code: \r\n\r\n    a.setOnClickListener(new View.OnClickListener() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onClick(View arg0) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\tif(d.contains(&quot;Hey&quot;)){\r\n\t\t\t\t\tc.setText(&quot;OUTPUT: SUCCESS!&quot;); \r\n\t\t\t\t}else{\r\n\t\t\t\t\tc.setText(&quot;OUTPUT: FAIL!&quot;);  \r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\nI&#39;m getting an error.","title":"To check if string contains particular word","body":"<p>So how do you check if a string has a particular word in it? </p>\n\n<p>So this is my code: </p>\n\n<pre><code>a.setOnClickListener(new View.OnClickListener() {\n\n        @Override\n        public void onClick(View arg0) {\n            // TODO Auto-generated method stub\n            if(d.contains(\"Hey\")){\n                c.setText(\"OUTPUT: SUCCESS!\"); \n            }else{\n                c.setText(\"OUTPUT: FAIL!\");  \n            }\n        }\n    });\n</code></pre>\n\n<p>I'm getting an error.</p>\n"},{"tags":["java","web-scraping","http-status-code-403"],"comments":[{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":1,"creation_date":1690239188,"post_id":76758447,"comment_id":135322849,"body_markdown":"Apparently, they don&#39;t like your UserAgent, or they are using some other kind of scheme to detect web scrapers.  More and more companies are getting tired of folks stealing their copyrighted information.","body":"Apparently, they don&#39;t like your UserAgent, or they are using some other kind of scheme to detect web scrapers.  More and more companies are getting tired of folks stealing their copyrighted information."}],"owner":{"account_id":29083715,"reputation":1,"user_id":22279123,"display_name":"kkam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690238863,"creation_date":1690238863,"question_id":76758447,"body_markdown":"I am running this webscraper to try and find data about job values from Indeed.Com.\r\nI keep running into a 403 error (: HTTP error fetching URL. Status=403, URL=[https://www.indeed.com/cmp/Critical-Connection,-Inc./jobs]) on the 1st site. Since its not even making it passed the first site, I tried to add a user agent. Can anyone provide a solution? Thanks!\r\n\r\n\r\n```\r\npackage com.houarizegai.webscraping.imdb;\r\n\r\nimport java.io.IOException;\r\nimport java.io.File;\r\nimport java.io.FileWriter;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\n\r\nimport org.jsoup.Jsoup;\r\nimport org.jsoup.nodes.Document;\r\nimport org.jsoup.nodes.Element;\r\n\r\npublic class Webscraper {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        File file = new File(&quot;/Users/adam/Downloads/listofwebsites.txt&quot;);\r\n        Scanner scanner = new Scanner(file);\r\n        List&lt;String&gt; websites = new ArrayList&lt;&gt;();\r\n        while (scanner.hasNextLine()) {\r\n            websites.add(scanner.nextLine());\r\n        }\r\n        File outputFile = new File(&quot;job_values.csv&quot;);\r\n        FileWriter writer = new FileWriter(outputFile);\r\n\r\n        String userAgent = &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36&quot;;\r\n\r\n        for (String website : websites) {\r\n            Document doc = Jsoup.connect(website).userAgent(userAgent).get(); // Set the User-Agent header\r\n            Element jobsCount = doc.select(&quot;.css-104u4ae eu4oa1w0&quot;).first();\r\n            if (jobsCount != null) {\r\n                int totalJobs = Integer.parseInt(jobsCount.text());\r\n                writer.write(website + &quot;,&quot; + totalJobs + &quot;\\n&quot;);\r\n            }\r\n        }\r\n        writer.close();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nSince its not even making it passed the first site, I tried to add a user agent. Can anyone provide a solution? Thanks!","title":"How do I solve this 403 Error on Java Webscraper?","body":"<p>I am running this webscraper to try and find data about job values from Indeed.Com.\nI keep running into a 403 error (: HTTP error fetching URL. Status=403, URL=[https://www.indeed.com/cmp/Critical-Connection,-Inc./jobs]) on the 1st site. Since its not even making it passed the first site, I tried to add a user agent. Can anyone provide a solution? Thanks!</p>\n<pre><code>package com.houarizegai.webscraping.imdb;\n\nimport java.io.IOException;\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\n\npublic class Webscraper {\n\n    public static void main(String[] args) throws IOException {\n        File file = new File(&quot;/Users/adam/Downloads/listofwebsites.txt&quot;);\n        Scanner scanner = new Scanner(file);\n        List&lt;String&gt; websites = new ArrayList&lt;&gt;();\n        while (scanner.hasNextLine()) {\n            websites.add(scanner.nextLine());\n        }\n        File outputFile = new File(&quot;job_values.csv&quot;);\n        FileWriter writer = new FileWriter(outputFile);\n\n        String userAgent = &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36&quot;;\n\n        for (String website : websites) {\n            Document doc = Jsoup.connect(website).userAgent(userAgent).get(); // Set the User-Agent header\n            Element jobsCount = doc.select(&quot;.css-104u4ae eu4oa1w0&quot;).first();\n            if (jobsCount != null) {\n                int totalJobs = Integer.parseInt(jobsCount.text());\n                writer.write(website + &quot;,&quot; + totalJobs + &quot;\\n&quot;);\n            }\n        }\n        writer.close();\n    }\n}\n\n</code></pre>\n<p>Since its not even making it passed the first site, I tried to add a user agent. Can anyone provide a solution? Thanks!</p>\n"},{"tags":["java","kubernetes","redis","lettuce"],"owner":{"account_id":19116655,"reputation":25,"user_id":13961408,"display_name":"hikari_temp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690237991,"creation_date":1690237991,"question_id":76758396,"body_markdown":"I am currently encountering some issues when trying to pool from two different topics of a Redis server via lettuce inside a Spring Boot application inside a Kubernetes cluster. Whereas pooling messages from the first topic is always working, the second one only seems to be working by chance when restarting the Kubernetes cluster (which may suggest it has something to do with the deployment maybe).\r\n \r\nThe messages are correctly published (they are visible inside redis-insight) and both pooling classes use the same Java code to pool via lettuce which makes it weird that only one is working. The pooling is implemented as can be seen in the following:\r\n```\r\n @PostConstruct\r\n    @Override\r\n    protected void connectToRedis() {\r\n        RedisClient redisClient = RedisClient.create(&quot;redis://&quot; + REDIS_ADDRESS + &quot;:&quot; + REDIS_PORT);\r\n        StatefulRedisConnection&lt;String, String&gt; connection = redisClient.connect();\r\n        session = connection.sync();\r\n\r\n        initialize(session);\r\n    }\r\n\r\n    @Override\r\n    @Scheduled(initialDelay = INITIAL_DELAY_MS, fixedDelay = FIXED_DELAY_MS)\r\n    public void pullEvents(){\r\n        System.out.println(&quot;pullEvents for member service entered&quot;);\r\n\r\n        for (String key : STREAMS_KEYS) {\r\n            Map&lt;String, String&gt; jsonEvents = pullJSONs(key);\r\n\r\n            for (Map.Entry&lt;String, String&gt; entry : jsonEvents.entrySet()) {\r\n                readEvents(entry.getValue(), key, entry.getKey());\r\n            }\r\n        }\r\n    }\r\n```\r\nAs mentioned above, my application runs inside a Kubernetes cluster alongside other microservices. My application listens to my own events that I publish (for CQRS) as well as to the events from another microservice that publishes to the same redis server with a different topic name. All microservices have a service and deployment yaml inside their respective folder for redis like that (it always looks the same because we wanted to use one redis instance and I already checked that only one redis instance is running via kubectl get all):\r\n\r\nredisService.yaml:\r\n```\r\napiVersion: v1\r\nkind: Service\r\nmetadata: \r\n  name: redis\r\n  labels: \r\n    app: redis\r\nspec: \r\n  selector: \r\n    app: redis\r\n  ports: \r\n    - name: redis\r\n      port: 6379\r\n```\r\n\r\nredisDeploymnt.yaml\r\n```\r\napiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: redis\r\n  labels:\r\n    app: redis\r\nspec:\r\n  replicas: 1\r\n  selector:\r\n    matchLabels:\r\n      app: redis\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: redis\r\n    spec:\r\n      containers:\r\n        - name: redis\r\n          image: redis:alpine\r\n          ports:\r\n          - containerPort: 6379\r\n```\r\nI am really struggling to find the cause, especially as it randomly does work. My guess is that it has something to do with the order in which Kubernetes starts each container.\r\n\r\nThanks in advance!","title":"Inconsistent behaviour of lettuce when pooling different topics from redis server inside kubernetes","body":"<p>I am currently encountering some issues when trying to pool from two different topics of a Redis server via lettuce inside a Spring Boot application inside a Kubernetes cluster. Whereas pooling messages from the first topic is always working, the second one only seems to be working by chance when restarting the Kubernetes cluster (which may suggest it has something to do with the deployment maybe).</p>\n<p>The messages are correctly published (they are visible inside redis-insight) and both pooling classes use the same Java code to pool via lettuce which makes it weird that only one is working. The pooling is implemented as can be seen in the following:</p>\n<pre><code> @PostConstruct\n    @Override\n    protected void connectToRedis() {\n        RedisClient redisClient = RedisClient.create(&quot;redis://&quot; + REDIS_ADDRESS + &quot;:&quot; + REDIS_PORT);\n        StatefulRedisConnection&lt;String, String&gt; connection = redisClient.connect();\n        session = connection.sync();\n\n        initialize(session);\n    }\n\n    @Override\n    @Scheduled(initialDelay = INITIAL_DELAY_MS, fixedDelay = FIXED_DELAY_MS)\n    public void pullEvents(){\n        System.out.println(&quot;pullEvents for member service entered&quot;);\n\n        for (String key : STREAMS_KEYS) {\n            Map&lt;String, String&gt; jsonEvents = pullJSONs(key);\n\n            for (Map.Entry&lt;String, String&gt; entry : jsonEvents.entrySet()) {\n                readEvents(entry.getValue(), key, entry.getKey());\n            }\n        }\n    }\n</code></pre>\n<p>As mentioned above, my application runs inside a Kubernetes cluster alongside other microservices. My application listens to my own events that I publish (for CQRS) as well as to the events from another microservice that publishes to the same redis server with a different topic name. All microservices have a service and deployment yaml inside their respective folder for redis like that (it always looks the same because we wanted to use one redis instance and I already checked that only one redis instance is running via kubectl get all):</p>\n<p>redisService.yaml:</p>\n<pre><code>apiVersion: v1\nkind: Service\nmetadata: \n  name: redis\n  labels: \n    app: redis\nspec: \n  selector: \n    app: redis\n  ports: \n    - name: redis\n      port: 6379\n</code></pre>\n<p>redisDeploymnt.yaml</p>\n<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: redis\n  labels:\n    app: redis\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: redis\n  template:\n    metadata:\n      labels:\n        app: redis\n    spec:\n      containers:\n        - name: redis\n          image: redis:alpine\n          ports:\n          - containerPort: 6379\n</code></pre>\n<p>I am really struggling to find the cause, especially as it randomly does work. My guess is that it has something to do with the order in which Kubernetes starts each container.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring-boot","maven","java-11"],"comments":[{"owner":{"account_id":322960,"reputation":7711,"user_id":642680,"accept_rate":74,"display_name":"D-Dᴙum"},"score":0,"creation_date":1690135361,"post_id":76749483,"comment_id":135307849,"body_markdown":"What is the specific error?","body":"What is the specific error?"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1690140050,"post_id":76749483,"comment_id":135308445,"body_markdown":"How do you expect it to find the library if not packaged in the application?","body":"How do you expect it to find the library if not packaged in the application?"},{"owner":{"account_id":29075444,"reputation":3,"user_id":22272737,"display_name":"Joshua"},"score":0,"creation_date":1690163407,"post_id":76749483,"comment_id":135310320,"body_markdown":"Has no specific  error, just package size becomes large.","body":"Has no specific  error, just package size becomes large."},{"owner":{"account_id":29075444,"reputation":3,"user_id":22272737,"display_name":"Joshua"},"score":0,"creation_date":1690163518,"post_id":76749483,"comment_id":135310328,"body_markdown":"I will use mvn -Dloader.path to run, here is my command","body":"I will use mvn -Dloader.path to run, here is my command"},{"owner":{"account_id":29075444,"reputation":3,"user_id":22272737,"display_name":"Joshua"},"score":0,"creation_date":1690163524,"post_id":76749483,"comment_id":135310329,"body_markdown":"java -cp /home/admin/andl/andl-start-1.0.0-SNAPSHOT.jar -Dloader.path=/home/admin/andl/jars org.springframework.boot.loader.PropertiesLauncher","body":"java -cp /home/admin/andl/andl-start-1.0.0-SNAPSHOT.jar -Dloader.path=/home/admin/andl/jars org.springframework.boot.loader.PropertiesLauncher"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690185999,"post_id":76749483,"comment_id":135312729,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690223256,"creation_date":1690223256,"answer_id":76757143,"question_id":76749483,"body_markdown":"Works as expected.\r\n\r\nDependencies of scope `runtime` are packaged into the final artifact.\r\n\r\nDependencies of scope `provided` are not packaged into the final artifact. It is expected that they are provided by the environment the artifact runs in. If the environment does not provide it, you probably get runtime errors.","title":"maven scope runtime doesn&#39;t work in my project","body":"<p>Works as expected.</p>\n<p>Dependencies of scope <code>runtime</code> are packaged into the final artifact.</p>\n<p>Dependencies of scope <code>provided</code> are not packaged into the final artifact. It is expected that they are provided by the environment the artifact runs in. If the environment does not provide it, you probably get runtime errors.</p>\n"},{"tags":[],"owner":{"account_id":28758112,"reputation":401,"user_id":22024689,"display_name":"Iman Hosseinzadeh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690237947,"creation_date":1690237947,"answer_id":76758388,"question_id":76749483,"body_markdown":"Use the `provided` scope, then configure your IDE to add the provided dependencies to the classpath.\r\n\r\n[Intellij IDEA][1]: \r\n\r\n&gt; Run -&gt; Edit Configurations.. -&gt; Build and Run -&gt; Modify options -&gt;   \r\n&gt; add dependencies with provided scope to classpath\r\n\r\n  [1]: https://i.stack.imgur.com/SVYYh.png","title":"maven scope runtime doesn&#39;t work in my project","body":"<p>Use the <code>provided</code> scope, then configure your IDE to add the provided dependencies to the classpath.</p>\n<p><a href=\"https://i.stack.imgur.com/SVYYh.png\" rel=\"nofollow noreferrer\">Intellij IDEA</a>:</p>\n<blockquote>\n<p>Run -&gt; Edit Configurations.. -&gt; Build and Run -&gt; Modify options -&gt;<br />\nadd dependencies with provided scope to classpath</p>\n</blockquote>\n"}],"owner":{"account_id":29075444,"reputation":3,"user_id":22272737,"display_name":"Joshua"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76757143,"answer_count":2,"score":0,"last_activity_date":1690237947,"creation_date":1690132761,"question_id":76749483,"body_markdown":"This is a springboot project, I use  &lt;scope&gt;runtime&lt;/scope&gt; in my maven dependencies, but it not working\r\nI run the &quot;mvn install&quot; command, stanford-corenlp-models is still packed into the jar package, and the package size becomes very large\r\n\r\njdk: openjdk-11\r\noperating system: macos\r\nmaven verison: 3.9.2\r\n\r\n\r\nmain pom.xml\r\n\r\n```\r\n  &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;edu.stanford.nlp&lt;/groupId&gt;\r\n                &lt;artifactId&gt;stanford-corenlp&lt;/artifactId&gt;\r\n                &lt;version&gt;4.5.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;edu.stanford.nlp&lt;/groupId&gt;\r\n                &lt;artifactId&gt;stanford-corenlp&lt;/artifactId&gt;\r\n                &lt;version&gt;4.5.4&lt;/version&gt;\r\n                &lt;classifier&gt;models&lt;/classifier&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n```\r\n\r\nmodule pom.xml\r\n```\r\n &lt;dependencies&gt;\r\n             &lt;dependency&gt;\r\n            &lt;groupId&gt;edu.stanford.nlp&lt;/groupId&gt;\r\n            &lt;artifactId&gt;stanford-corenlp&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;edu.stanford.nlp&lt;/groupId&gt;\r\n            &lt;artifactId&gt;stanford-corenlp&lt;/artifactId&gt;\r\n            &lt;classifier&gt;models&lt;/classifier&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n &lt;/dependencies&gt;\r\n```\r\n\r\n\r\nI try use &lt;scope&gt;provided&lt;/scope&gt;, it works, stanford-corenlp-models not pack into jar, but project cann&#39;t run in idea.","title":"maven scope runtime doesn&#39;t work in my project","body":"<p>This is a springboot project, I use  runtime in my maven dependencies, but it not working\nI run the &quot;mvn install&quot; command, stanford-corenlp-models is still packed into the jar package, and the package size becomes very large</p>\n<p>jdk: openjdk-11\noperating system: macos\nmaven verison: 3.9.2</p>\n<p>main pom.xml</p>\n<pre><code>  &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;edu.stanford.nlp&lt;/groupId&gt;\n                &lt;artifactId&gt;stanford-corenlp&lt;/artifactId&gt;\n                &lt;version&gt;4.5.4&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;edu.stanford.nlp&lt;/groupId&gt;\n                &lt;artifactId&gt;stanford-corenlp&lt;/artifactId&gt;\n                &lt;version&gt;4.5.4&lt;/version&gt;\n                &lt;classifier&gt;models&lt;/classifier&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n</code></pre>\n<p>module pom.xml</p>\n<pre><code> &lt;dependencies&gt;\n             &lt;dependency&gt;\n            &lt;groupId&gt;edu.stanford.nlp&lt;/groupId&gt;\n            &lt;artifactId&gt;stanford-corenlp&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;edu.stanford.nlp&lt;/groupId&gt;\n            &lt;artifactId&gt;stanford-corenlp&lt;/artifactId&gt;\n            &lt;classifier&gt;models&lt;/classifier&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n &lt;/dependencies&gt;\n</code></pre>\n<p>I try use provided, it works, stanford-corenlp-models not pack into jar, but project cann't run in idea.</p>\n"},{"tags":["java","recursion","backtracking"],"comments":[{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":0,"creation_date":1690231879,"post_id":76757771,"comment_id":135321907,"body_markdown":"Permutation looks goot to me.","body":"Permutation looks goot to me."},{"owner":{"account_id":27893802,"reputation":41,"user_id":21299569,"display_name":"konda surekha"},"score":0,"creation_date":1690232141,"post_id":76757771,"comment_id":135321942,"body_markdown":"My doubt is about incrementing the variables as mentioned in the post. Code works fine","body":"My doubt is about incrementing the variables as mentioned in the post. Code works fine"},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1690232302,"post_id":76757771,"comment_id":135321967,"body_markdown":"Permutation doesn&#39;t even compile, i++ should be j++  .  Thinking about incrementing variables is misleading, each stackframe keeps separate values.","body":"Permutation doesn&#39;t even compile, i++ should be j++  .  Thinking about incrementing variables is misleading, each stackframe keeps separate values."},{"owner":{"account_id":27893802,"reputation":41,"user_id":21299569,"display_name":"konda surekha"},"score":0,"creation_date":1690232571,"post_id":76757771,"comment_id":135322006,"body_markdown":"@NathanHughes I edited the question . I think I am having hard time even to express my idea","body":"@NathanHughes I edited the question . I think I am having hard time even to express my idea"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1690238860,"post_id":76757771,"comment_id":135322805,"body_markdown":"The words you use suggest to me that, while it&#39;s not your main problem, you don&#39;t understand argument passing or variable scope. &quot;// here start variable is incremented in for  loop&quot;.  No, it isn&#39;t. The value of &#39;start+1&#39; is assigned as the initial value of the formal argument of the inner activation of &#39;helper&#39; -- which is a **different variable** named &#39;start&#39;.  Nothing done to the inner &#39;start&#39; affects the outer &#39;start&#39;.","body":"The words you use suggest to me that, while it&#39;s not your main problem, you don&#39;t understand argument passing or variable scope. &quot;// here start variable is incremented in for  loop&quot;.  No, it isn&#39;t. The value of &#39;start+1&#39; is assigned as the initial value of the formal argument of the inner activation of &#39;helper&#39; -- which is a <b>different variable</b> named &#39;start&#39;.  Nothing done to the inner &#39;start&#39; affects the outer &#39;start&#39;."}],"answers":[{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690237668,"creation_date":1690237668,"answer_id":76758371,"question_id":76757771,"body_markdown":"Let me try to explain.\r\n\r\nPermutations recursive tree of input (1,2,3) when using swaps will look as follows:\r\n```\r\n          _____________(1,2,3)_____________   start = 0, swap idx 0 with each idx &gt;= 0\r\n         /                |                \\\r\n        /                 |                 \\\r\n    (1,2,3)            (2,1,3)            (3,2,1)  start = 1, swap idx 1 with each idx &gt;= 1\r\n     /    \\             /    \\            /     \\\r\n    /      \\           /      \\          /       \\\r\n(1,2,3)  (1,3,2)   (2,1,3)  (2,3,1)   (3,2,1)  (3,1,2)  ...\r\n```\r\nI believe you should see the pattern now: `start` iterates `[0..3)`, and `j` iterates `[start..n)`. That&#39;s why you pass `start + 1` into the next recursive call, to ensure exactly such processing order.\r\n\r\nSubsets algorithm is different. Once the i-th element is included into a subset `li.add(nums[i])`, the algorithm should make sort of a &quot;cut&quot;, meaning the next recursive call should iterate through the remaining part of the array only, hence you have `i + 1`.\r\n\r\nHope it helps at least a little bit.","title":"Understanding increment of variables in back tracking","body":"<p>Let me try to explain.</p>\n<p>Permutations recursive tree of input (1,2,3) when using swaps will look as follows:</p>\n<pre><code>          _____________(1,2,3)_____________   start = 0, swap idx 0 with each idx &gt;= 0\n         /                |                \\\n        /                 |                 \\\n    (1,2,3)            (2,1,3)            (3,2,1)  start = 1, swap idx 1 with each idx &gt;= 1\n     /    \\             /    \\            /     \\\n    /      \\           /      \\          /       \\\n(1,2,3)  (1,3,2)   (2,1,3)  (2,3,1)   (3,2,1)  (3,1,2)  ...\n</code></pre>\n<p>I believe you should see the pattern now: <code>start</code> iterates <code>[0..3)</code>, and <code>j</code> iterates <code>[start..n)</code>. That's why you pass <code>start + 1</code> into the next recursive call, to ensure exactly such processing order.</p>\n<p>Subsets algorithm is different. Once the i-th element is included into a subset <code>li.add(nums[i])</code>, the algorithm should make sort of a &quot;cut&quot;, meaning the next recursive call should iterate through the remaining part of the array only, hence you have <code>i + 1</code>.</p>\n<p>Hope it helps at least a little bit.</p>\n"}],"owner":{"account_id":27893802,"reputation":41,"user_id":21299569,"display_name":"konda surekha"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1690237668,"creation_date":1690229920,"question_id":76757771,"body_markdown":"I am having trouble visualizing backtracking concept. I have gone through the code but I have trouble understanding one concept. The following is code to generate `permutations`\r\n\r\n     private static  void helper(int start, int[] nums, List&lt;List&lt;Integer&gt;&gt; result){\r\n            if(start==nums.length){\r\n               //Add the nums array to result\r\n                return;\r\n            }\r\n    \r\n    \r\n            for(int j=start; j&lt;nums.length; j++){\r\n             \r\n                swap(nums, j, start);\r\n                helper(start+1, nums, result);// here start variable is incremented in for  loop\r\n                swap(nums, j, start);\r\n            }\r\n        }\r\n\r\n\r\nBelow is code for `subset` generation\r\n\r\n    private static void powerSet(int[] nums, int index, List&lt;List&lt;Integer&gt;&gt; result, List&lt;Integer&gt; li) {\r\n            result.add(new ArrayList(li));\r\n    \r\n            if(index==nums.length){\r\n                return;\r\n            }\r\n    \r\n            for(int i=index;i&lt;nums.length;i++){\r\n                li.add(nums[i]);\r\n                powerSet(nums,i+1,result,li); //here i is incremented in for loop\r\n                li.remove(li.size()-1);\r\n            }\r\n    \r\n        }\r\n\r\n\r\nThe above code works fine. I wanted to experiment a bit.  I tried changing the variable with `j+1` instead of `start+1` in recursion part for `permutations` code . This time I got wrong answer where permutations are duplicated . I tried to debug but I was unable to understand. Can someone please explain why we should use `start+1` and not `j+1` in case of `permutations` code. Similarly why we should use `i+1` and not `index+1` in case of `subset` code","title":"Understanding increment of variables in back tracking","body":"<p>I am having trouble visualizing backtracking concept. I have gone through the code but I have trouble understanding one concept. The following is code to generate <code>permutations</code></p>\n<pre><code> private static  void helper(int start, int[] nums, List&lt;List&lt;Integer&gt;&gt; result){\n        if(start==nums.length){\n           //Add the nums array to result\n            return;\n        }\n\n\n        for(int j=start; j&lt;nums.length; j++){\n         \n            swap(nums, j, start);\n            helper(start+1, nums, result);// here start variable is incremented in for  loop\n            swap(nums, j, start);\n        }\n    }\n</code></pre>\n<p>Below is code for <code>subset</code> generation</p>\n<pre><code>private static void powerSet(int[] nums, int index, List&lt;List&lt;Integer&gt;&gt; result, List&lt;Integer&gt; li) {\n        result.add(new ArrayList(li));\n\n        if(index==nums.length){\n            return;\n        }\n\n        for(int i=index;i&lt;nums.length;i++){\n            li.add(nums[i]);\n            powerSet(nums,i+1,result,li); //here i is incremented in for loop\n            li.remove(li.size()-1);\n        }\n\n    }\n</code></pre>\n<p>The above code works fine. I wanted to experiment a bit.  I tried changing the variable with <code>j+1</code> instead of <code>start+1</code> in recursion part for <code>permutations</code> code . This time I got wrong answer where permutations are duplicated . I tried to debug but I was unable to understand. Can someone please explain why we should use <code>start+1</code> and not <code>j+1</code> in case of <code>permutations</code> code. Similarly why we should use <code>i+1</code> and not <code>index+1</code> in case of <code>subset</code> code</p>\n"},{"tags":["java","maven","pom.xml","parent-pom","maven-enforcer-plugin"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1690240595,"post_id":76758337,"comment_id":135322956,"body_markdown":"Do you need to use maven-enforcer-plugin for anything else in the compat module, or would disabling it entirely be acceptable?","body":"Do you need to use maven-enforcer-plugin for anything else in the compat module, or would disabling it entirely be acceptable?"},{"owner":{"account_id":3968852,"reputation":1559,"user_id":3273929,"accept_rate":84,"display_name":"Mark VY"},"score":0,"creation_date":1690240745,"post_id":76758337,"comment_id":135322970,"body_markdown":"that would be fine","body":"that would be fine"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1690242260,"post_id":76758337,"comment_id":135323100,"body_markdown":"I’ll try to write a more comprehensive answer later, but try adding the property [`&lt;enforcer.skip&gt;true&lt;/enforcer.skip&gt;`](https://maven.apache.org/enforcer/maven-enforcer-plugin/enforce-mojo.html#skip) in just the compat project POM.","body":"I’ll try to write a more comprehensive answer later, but try adding the property <a href=\"https://maven.apache.org/enforcer/maven-enforcer-plugin/enforce-mojo.html#skip\" rel=\"nofollow noreferrer\"><code>&lt;enforcer.skip&gt;true&lt;&#47;enforcer.skip&gt;</code></a> in just the compat project POM."},{"owner":{"account_id":3968852,"reputation":1559,"user_id":3273929,"accept_rate":84,"display_name":"Mark VY"},"score":0,"creation_date":1690243520,"post_id":76758337,"comment_id":135323208,"body_markdown":"Oh, wow, nice!  And there&#39;s even options to skip specific rules!","body":"Oh, wow, nice!  And there&#39;s even options to skip specific rules!"}],"owner":{"account_id":3968852,"reputation":1559,"user_id":3273929,"accept_rate":84,"display_name":"Mark VY"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690237044,"creation_date":1690237044,"question_id":76758337,"body_markdown":"I have a multi module maven project.  Some of the modules require dependency `D`.  In order for things to work right, we need `compat` to come BEFORE `D` in the class path.  (Module `D` comes from maven central, whereas `compat` is one of the modules in our multi-module project.)  If `compat` comes after `D` or is omitted entirely, things seems to work, but actually don&#39;t.\r\n\r\nRather than trying to make everyone remember to always pull in both modules, I thought I&#39;d do two things:\r\n\r\n 1. pull in `D` as part of `compat`.  This helps, but not much.  Now people still remember to avoid `D` and use `compat` instead.  But at least the pom.xml file is a bit more concise.\r\n 2. Use the maven enforcer plugin to ban `D`.  Then if someone forgets, the build fails and they get a reminder.\r\n\r\nThe problem with part 2 is that the `compat` module itself needs to import `D`.  So I need to make an exception for it.  Any idea how to do that?","title":"exempt one module from maven enforcer plugin","body":"<p>I have a multi module maven project.  Some of the modules require dependency <code>D</code>.  In order for things to work right, we need <code>compat</code> to come BEFORE <code>D</code> in the class path.  (Module <code>D</code> comes from maven central, whereas <code>compat</code> is one of the modules in our multi-module project.)  If <code>compat</code> comes after <code>D</code> or is omitted entirely, things seems to work, but actually don't.</p>\n<p>Rather than trying to make everyone remember to always pull in both modules, I thought I'd do two things:</p>\n<ol>\n<li>pull in <code>D</code> as part of <code>compat</code>.  This helps, but not much.  Now people still remember to avoid <code>D</code> and use <code>compat</code> instead.  But at least the pom.xml file is a bit more concise.</li>\n<li>Use the maven enforcer plugin to ban <code>D</code>.  Then if someone forgets, the build fails and they get a reminder.</li>\n</ol>\n<p>The problem with part 2 is that the <code>compat</code> module itself needs to import <code>D</code>.  So I need to make an exception for it.  Any idea how to do that?</p>\n"},{"tags":["java","typescript","bouncycastle","ed25519"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1690044456,"post_id":76743558,"comment_id":135299451,"body_markdown":"The information you posted is not enough to answer the question. Maybe you import the key wrong, `Ed25519PublicKeyParameters` expects the *raw* public key (32 bytes). Or there is a problem in the TypeScript code when generating the signature.","body":"The information you posted is not enough to answer the question. Maybe you import the key wrong, <code>Ed25519PublicKeyParameters</code> expects the <i>raw</i> public key (32 bytes). Or there is a problem in the TypeScript code when generating the signature."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1690044679,"post_id":76743558,"comment_id":135299477,"body_markdown":"So post the TypeScript/crypto code you use to generate the signature, including *full* (non-productive) test data: key pair, message, signature. Also complete the Java code and show how to import this data as `publicKeyBytes`, `message` and `decodedSign` into the Java code.","body":"So post the TypeScript/crypto code you use to generate the signature, including <i>full</i> (non-productive) test data: key pair, message, signature. Also complete the Java code and show how to import this data as <code>publicKeyBytes</code>, <code>message</code> and <code>decodedSign</code> into the Java code."},{"owner":{"account_id":19008131,"reputation":1,"user_id":13874463,"display_name":"ss_java"},"score":0,"creation_date":1690218209,"post_id":76743558,"comment_id":135319656,"body_markdown":"Thank you for your prompt response. I have tried with raw public key too but I still get false. I will update my question with codes","body":"Thank you for your prompt response. I have tried with raw public key too but I still get false. I will update my question with codes"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1690223256,"post_id":76743558,"comment_id":135320463,"body_markdown":"I can&#39;t reproduce the problem (using the raw public key for verification and the correct encodings for message, signature etc.). **Again**: Post **concrete** (non-productive) sample data for `signingKey`, `verifyKey`, `jsondata` and a suitably encoded `signature` for the TypeScript side, and likewise for `&lt;signature&gt;`, `&lt;encoded message String&gt;` and `&lt;public key&gt;` for the Java side. That way the problem could be easily reproduced! Currently the problem is not reproducible and the post will probably be closed soon. The most likely candidates for a bug are encoding or key format issues.","body":"I can&#39;t reproduce the problem (using the raw public key for verification and the correct encodings for message, signature etc.). <b>Again</b>: Post <b>concrete</b> (non-productive) sample data for <code>signingKey</code>, <code>verifyKey</code>, <code>jsondata</code> and a suitably encoded <code>signature</code> for the TypeScript side, and likewise for <code>&lt;signature&gt;</code>, <code>&lt;encoded message String&gt;</code> and <code>&lt;public key&gt;</code> for the Java side. That way the problem could be easily reproduced! Currently the problem is not reproducible and the post will probably be closed soon. The most likely candidates for a bug are encoding or key format issues."}],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690236399,"creation_date":1690236399,"answer_id":76758298,"question_id":76743558,"body_markdown":"The &quot;spki&quot; format in your posted code is not a &#39;raw&#39; or &#39;bare&#39; publickey, and whatever you referenced in a comment but didn&#39;t show is apparently wrong also. \r\n\r\nHere is a correct way (using Bouncy LWAPI) plus 4 alternatives using JCA (with either the Bouncy provider, or the standard Oracle/OpenJDK provider in Java 15 up). I don&#39;t have/use typescript but your &#39;typescript&#39; is really just nodejs. I output all the data from it in base64: classic base64 for data signature, and spki-format key, base64url for raw key because that&#39;s what JWK natively uses and Java can handle it just as easily. You could use hex or any other bit-preserving encoding as long as you are consistent.\r\n```js\r\n# nodejs input\r\nconst crypto = require(&#39;crypto&#39;);\r\nconst { privateKey, publicKey } = crypto.generateKeyPairSync(&#39;ed25519&#39;);\r\nconst data = Buffer.from(JSON.stringify({example:&#39;test data&#39;}));\r\nconsole.log( data.toString(&#39;base64&#39;) );\r\nconsole.log( crypto.sign(null,data,privateKey).toString(&#39;base64&#39;) );\r\nconsole.log( publicKey.export({format:&#39;der&#39;,type:&#39;spki&#39;}).toString(&#39;base64&#39;) );\r\nconsole.log( publicKey.export({format:&#39;jwk&#39;}).x ); // base64urlsafe\r\n# output stored in file and input to java below\r\neyJleGFtcGxlIjoidGVzdCBkYXRhIn0=\r\ng2L2cSrMskh+p62HJN48AGefLzaKf8TyN/6IzaaYyWUeGoBm3OvibHFjtAtXlD0pm/ldaQJq/LOhUtJcbhWYCQ==\r\nMCowBQYDK2VwAyEA+XYOwM61UpixNFD89bo4OViD6HCm0G6DQnmSYbky5Hs=\r\n-XYOwM61UpixNFD89bo4OViD6HCm0G6DQnmSYbky5Hs\r\n```\r\n\r\n```java\r\n// nopackage\r\nimport java.io.*;\r\nimport java.math.BigInteger;\r\nimport java.security.spec.*;\r\nimport java.security.*;\r\nimport java.util.Base64;\r\nimport org.bouncycastle.crypto.Signer;\r\nimport org.bouncycastle.crypto.params.Ed25519PublicKeyParameters;\r\nimport org.bouncycastle.crypto.signers.Ed25519Signer;\r\nimport org.bouncycastle.jcajce.spec.RawEncodedKeySpec;\r\n\r\npublic class SO76753558 {\r\n    public static void main (String[] args) throws Exception {\r\n        Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\r\n\r\n        BufferedReader br = new BufferedReader (new InputStreamReader (System.in));\r\n        byte[] data = Base64.getDecoder().decode(br.readLine()),\r\n            sig = Base64.getDecoder().decode(br.readLine()),\r\n            spki = Base64.getDecoder().decode(br.readLine()),\r\n            bare = Base64.getUrlDecoder().decode(br.readLine());\r\n\r\n        // Bouncy LWAPI\r\n        {\r\n            Signer v = new Ed25519Signer();\r\n            v.init(false, new Ed25519PublicKeyParameters(bare));\r\n            v.update(data, 0, data.length);\r\n            System.out.println (&quot;LWAPI:&quot; + v.verifySignature(sig));\r\n        }\r\n\r\n        // standard algorithm-specific; requires Java 15 up and not very convenient\r\n        {\r\n            byte[] rev = new byte[bare.length];\r\n            for( int i = 0; i&lt;bare.length; i++ ){ rev[i] = bare[bare.length-1-i]; }\r\n            boolean hibit = (rev[0]&amp;0x80)&gt;0; rev[0] &amp;= ~0x80;\r\n            EdECPublicKeySpec spec = new EdECPublicKeySpec(NamedParameterSpec.ED25519,\r\n                new EdECPoint (hibit, new BigInteger(1,rev)) );\r\n            KeyFactory f = KeyFactory.getInstance(&quot;Ed25519&quot;,&quot;SunEC&quot;);\r\n            Signature v = Signature.getInstance(&quot;Ed25519&quot;,&quot;SunEC&quot;);\r\n            v.initVerify(f.generatePublic(spec));\r\n            v.update(data);\r\n            System.out.println (&quot;SunEC bare:&quot;+ v.verify(sig));\r\n        }\r\n        // Bouncy algorithm-specific\r\n        {\r\n            KeyFactory f = KeyFactory.getInstance(&quot;Ed25519&quot;,&quot;BC&quot;);\r\n            Signature v = Signature.getInstance(&quot;Ed25519&quot;,&quot;BC&quot;);\r\n            v.initVerify(f.generatePublic(new RawEncodedKeySpec(bare)));\r\n            v.update(data);\r\n            System.out.println (&quot;BC bare:&quot;+ v.verify(sig));\r\n        }\r\n        // JCA generic; requires Java 15 up for SunEC\r\n        for( String provider : new String[]{ &quot;SunEC&quot;, &quot;BC&quot; } ){\r\n            KeyFactory f = KeyFactory.getInstance(&quot;Ed25519&quot;,provider);\r\n            Signature v = Signature.getInstance(&quot;Ed25519&quot;,provider);\r\n            v.initVerify(f.generatePublic(new X509EncodedKeySpec(spki)));\r\n            v.update(data);\r\n            System.out.println (provider+&quot; spki:&quot;+ v.verify(sig));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nNote that using `new Ed25519PublicKeyParameters(spki)` throws an exception telling you it is the wrong length, which if you know what you are doing is enough to identify the problem. Using the `(spki,0)` ctor instead suppresses the exception but the result is still completely and totally wrong; this is like putting masking tape over the light on your dashboard that indicates your brakes have failed -- it doesn&#39;t make anything better, it just prevents you from recognizing you are in danger.\r\n\r\n","title":"Verify digital signature signed using ED25519","body":"<p>The &quot;spki&quot; format in your posted code is not a 'raw' or 'bare' publickey, and whatever you referenced in a comment but didn't show is apparently wrong also.</p>\n<p>Here is a correct way (using Bouncy LWAPI) plus 4 alternatives using JCA (with either the Bouncy provider, or the standard Oracle/OpenJDK provider in Java 15 up). I don't have/use typescript but your 'typescript' is really just nodejs. I output all the data from it in base64: classic base64 for data signature, and spki-format key, base64url for raw key because that's what JWK natively uses and Java can handle it just as easily. You could use hex or any other bit-preserving encoding as long as you are consistent.</p>\n<pre class=\"lang-js prettyprint-override\"><code># nodejs input\nconst crypto = require('crypto');\nconst { privateKey, publicKey } = crypto.generateKeyPairSync('ed25519');\nconst data = Buffer.from(JSON.stringify({example:'test data'}));\nconsole.log( data.toString('base64') );\nconsole.log( crypto.sign(null,data,privateKey).toString('base64') );\nconsole.log( publicKey.export({format:'der',type:'spki'}).toString('base64') );\nconsole.log( publicKey.export({format:'jwk'}).x ); // base64urlsafe\n# output stored in file and input to java below\neyJleGFtcGxlIjoidGVzdCBkYXRhIn0=\ng2L2cSrMskh+p62HJN48AGefLzaKf8TyN/6IzaaYyWUeGoBm3OvibHFjtAtXlD0pm/ldaQJq/LOhUtJcbhWYCQ==\nMCowBQYDK2VwAyEA+XYOwM61UpixNFD89bo4OViD6HCm0G6DQnmSYbky5Hs=\n-XYOwM61UpixNFD89bo4OViD6HCm0G6DQnmSYbky5Hs\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// nopackage\nimport java.io.*;\nimport java.math.BigInteger;\nimport java.security.spec.*;\nimport java.security.*;\nimport java.util.Base64;\nimport org.bouncycastle.crypto.Signer;\nimport org.bouncycastle.crypto.params.Ed25519PublicKeyParameters;\nimport org.bouncycastle.crypto.signers.Ed25519Signer;\nimport org.bouncycastle.jcajce.spec.RawEncodedKeySpec;\n\npublic class SO76753558 {\n    public static void main (String[] args) throws Exception {\n        Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\n\n        BufferedReader br = new BufferedReader (new InputStreamReader (System.in));\n        byte[] data = Base64.getDecoder().decode(br.readLine()),\n            sig = Base64.getDecoder().decode(br.readLine()),\n            spki = Base64.getDecoder().decode(br.readLine()),\n            bare = Base64.getUrlDecoder().decode(br.readLine());\n\n        // Bouncy LWAPI\n        {\n            Signer v = new Ed25519Signer();\n            v.init(false, new Ed25519PublicKeyParameters(bare));\n            v.update(data, 0, data.length);\n            System.out.println (&quot;LWAPI:&quot; + v.verifySignature(sig));\n        }\n\n        // standard algorithm-specific; requires Java 15 up and not very convenient\n        {\n            byte[] rev = new byte[bare.length];\n            for( int i = 0; i&lt;bare.length; i++ ){ rev[i] = bare[bare.length-1-i]; }\n            boolean hibit = (rev[0]&amp;0x80)&gt;0; rev[0] &amp;= ~0x80;\n            EdECPublicKeySpec spec = new EdECPublicKeySpec(NamedParameterSpec.ED25519,\n                new EdECPoint (hibit, new BigInteger(1,rev)) );\n            KeyFactory f = KeyFactory.getInstance(&quot;Ed25519&quot;,&quot;SunEC&quot;);\n            Signature v = Signature.getInstance(&quot;Ed25519&quot;,&quot;SunEC&quot;);\n            v.initVerify(f.generatePublic(spec));\n            v.update(data);\n            System.out.println (&quot;SunEC bare:&quot;+ v.verify(sig));\n        }\n        // Bouncy algorithm-specific\n        {\n            KeyFactory f = KeyFactory.getInstance(&quot;Ed25519&quot;,&quot;BC&quot;);\n            Signature v = Signature.getInstance(&quot;Ed25519&quot;,&quot;BC&quot;);\n            v.initVerify(f.generatePublic(new RawEncodedKeySpec(bare)));\n            v.update(data);\n            System.out.println (&quot;BC bare:&quot;+ v.verify(sig));\n        }\n        // JCA generic; requires Java 15 up for SunEC\n        for( String provider : new String[]{ &quot;SunEC&quot;, &quot;BC&quot; } ){\n            KeyFactory f = KeyFactory.getInstance(&quot;Ed25519&quot;,provider);\n            Signature v = Signature.getInstance(&quot;Ed25519&quot;,provider);\n            v.initVerify(f.generatePublic(new X509EncodedKeySpec(spki)));\n            v.update(data);\n            System.out.println (provider+&quot; spki:&quot;+ v.verify(sig));\n        }\n    }\n}\n</code></pre>\n<p>Note that using <code>new Ed25519PublicKeyParameters(spki)</code> throws an exception telling you it is the wrong length, which if you know what you are doing is enough to identify the problem. Using the <code>(spki,0)</code> ctor instead suppresses the exception but the result is still completely and totally wrong; this is like putting masking tape over the light on your dashboard that indicates your brakes have failed -- it doesn't make anything better, it just prevents you from recognizing you are in danger.</p>\n"}],"owner":{"account_id":19008131,"reputation":1,"user_id":13874463,"display_name":"ss_java"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":365,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1690236399,"creation_date":1690025187,"question_id":76743558,"body_markdown":"My task is to verify a digital signature signed using ED25519. The signature that was generated using typescript Crypto and I need to verify in Java. I am using BouncyCastle to verify and here is my code.\r\n\r\n\r\n```\r\nbyte[] decodedSign = Base64.getDecoder().decode(&quot;&lt;signature&gt;&quot;);\r\nbyte[] message =  Base64.getDecoder().decode(&quot;&lt;encoded message String&quot;&gt;);\r\nbyte[] publicKeyBytes = Base64.getDecoder().decode(&quot;&lt;public key&gt;&quot;);\r\n\r\n            Ed25519PublicKeyParameters publicKey = new Ed25519PublicKeyParameters(publicKeyBytes, 0);\r\n\r\n// Verify\r\n            Signer verifier = new Ed25519Signer();\r\n            verifier.init(false, publicKey);\r\n            verifier.update(message, 0, message.length);\r\n            boolean verified = verifier.verifySignature(decodedSign);\r\n\r\n            System.out.println(&quot;Verification: &quot; + verified); // Verification: false\r\n```\r\n\r\nWhat I have is encoded message, encoded signature and encoded public key.\r\nI decoded all of these and used above code to verify the signature.\r\nI always get verified false. Please help if I am missing something or use different approach or this is not a right approach.\r\n\r\nI tried the above code snippet and keep getting &#39;false&#39;. I should get &#39;true&#39;.\r\n\r\nUpdate - Here is typescript to create key pair\r\n\r\n        const { privateKey, publicKey } = crypto.generateKeyPairSync(&quot;ed25519&quot;);\r\n        const signingKey = privateKey.export({ type: &quot;pkcs8&quot;, format: &quot;der&quot;}).toString(&quot;hex&quot;);\r\n        const verifyKey = publicKey.export({ type: &quot;spki&quot;, format: &quot;der&quot; }).toString(&quot;hex&quot;);\r\n    \r\n\r\nSignature -\r\n\r\n      const signature = crypto.sign(null, Buffer.from(JSON.stringify(jsondata)), privateKey);\r\n\r\n\r\nTypescript dumps the encoded json data and the signature into one file and public key into another file. ","title":"Verify digital signature signed using ED25519","body":"<p>My task is to verify a digital signature signed using ED25519. The signature that was generated using typescript Crypto and I need to verify in Java. I am using BouncyCastle to verify and here is my code.</p>\n<pre><code>byte[] decodedSign = Base64.getDecoder().decode(&quot;&lt;signature&gt;&quot;);\nbyte[] message =  Base64.getDecoder().decode(&quot;&lt;encoded message String&quot;&gt;);\nbyte[] publicKeyBytes = Base64.getDecoder().decode(&quot;&lt;public key&gt;&quot;);\n\n            Ed25519PublicKeyParameters publicKey = new Ed25519PublicKeyParameters(publicKeyBytes, 0);\n\n// Verify\n            Signer verifier = new Ed25519Signer();\n            verifier.init(false, publicKey);\n            verifier.update(message, 0, message.length);\n            boolean verified = verifier.verifySignature(decodedSign);\n\n            System.out.println(&quot;Verification: &quot; + verified); // Verification: false\n</code></pre>\n<p>What I have is encoded message, encoded signature and encoded public key.\nI decoded all of these and used above code to verify the signature.\nI always get verified false. Please help if I am missing something or use different approach or this is not a right approach.</p>\n<p>I tried the above code snippet and keep getting 'false'. I should get 'true'.</p>\n<p>Update - Here is typescript to create key pair</p>\n<pre><code>    const { privateKey, publicKey } = crypto.generateKeyPairSync(&quot;ed25519&quot;);\n    const signingKey = privateKey.export({ type: &quot;pkcs8&quot;, format: &quot;der&quot;}).toString(&quot;hex&quot;);\n    const verifyKey = publicKey.export({ type: &quot;spki&quot;, format: &quot;der&quot; }).toString(&quot;hex&quot;);\n</code></pre>\n<p>Signature -</p>\n<pre><code>  const signature = crypto.sign(null, Buffer.from(JSON.stringify(jsondata)), privateKey);\n</code></pre>\n<p>Typescript dumps the encoded json data and the signature into one file and public key into another file.</p>\n"},{"tags":["java","maven","gradle","build.gradle","netflix-dgs"],"comments":[{"owner":{"account_id":9609,"reputation":92294,"user_id":17833,"display_name":"Anya Shenanigans"},"score":0,"creation_date":1690233099,"post_id":76758009,"comment_id":135322079,"body_markdown":"Needs more detail, as a dependency of `implementation &#39;com.netflix.graphql.dgs:graphql-dgs-client:6.0.2&#39;` downloads just fine","body":"Needs more detail, as a dependency of <code>implementation &#39;com.netflix.graphql.dgs:graphql-dgs-client:6.0.2&#39;</code> downloads just fine"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1690234262,"post_id":76758009,"comment_id":135322229,"body_markdown":"@CodeBot you should provide the gradle script to understand what repositories and dependencies it declares. That is kind of basic information to provide to troubleshoot a gradle build issue.","body":"@CodeBot you should provide the gradle script to understand what repositories and dependencies it declares. That is kind of basic information to provide to troubleshoot a gradle build issue."},{"owner":{"account_id":28666351,"reputation":77,"user_id":21950267,"display_name":"CodeBot"},"score":0,"creation_date":1690234649,"post_id":76758009,"comment_id":135322278,"body_markdown":"@aled - added build.gradle to Q. Thx for suggestion.","body":"@aled - added build.gradle to Q. Thx for suggestion."}],"answers":[{"tags":[],"owner":{"account_id":28758112,"reputation":401,"user_id":22024689,"display_name":"Iman Hosseinzadeh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690236058,"creation_date":1690236058,"answer_id":76758281,"question_id":76758009,"body_markdown":"It&#39;s maybe because you don&#39;t have the **starter dependency**.\r\n\r\nAdd this to your build.gradle\r\n\r\n    implementation &#39;com.netflix.graphql.dgs:graphql-dgs-spring-boot-starter&#39;\r\n\r\n","title":"Gradle is unable to download com.netflix.graphql.dgs:*.jar?","body":"<p>It's maybe because you don't have the <strong>starter dependency</strong>.</p>\n<p>Add this to your build.gradle</p>\n<pre><code>implementation 'com.netflix.graphql.dgs:graphql-dgs-spring-boot-starter'\n</code></pre>\n"}],"owner":{"account_id":28666351,"reputation":77,"user_id":21950267,"display_name":"CodeBot"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690236058,"creation_date":1690232613,"question_id":76758009,"body_markdown":"Gradle is unable to download `com.netflix.graphql.dgs:*.jar` artifacts even though these artifacts exists in the [maven central repo][1]. \r\n\r\n    C:\\Users\\abc\\.gradle\\caches\\modules-2\\files-2.1\\com.netflix.graphql.dgs\\graphql-dgs-client&gt;dir\r\n     Volume in drive C is Windows\r\n     Volume Serial Number is 6666-0C00\r\n    \r\n     Directory of C:\\Users\\abc\\.gradle\\caches\\modules-2\\files-2.1\\com.netflix.graphql.dgs\\graphql-dgs-client\r\n    \r\n    07/25/2023  01:27 AM    &lt;DIR&gt;          .\r\n    07/25/2023  01:27 AM    &lt;DIR&gt;          ..\r\n    07/24/2023  11:55 PM    &lt;DIR&gt;          4.9.15\r\n    07/24/2023  11:16 PM    &lt;DIR&gt;          6.0.0\r\n    07/25/2023  12:52 AM    &lt;DIR&gt;          6.0.1\r\n    07/25/2023  01:27 AM    &lt;DIR&gt;          7.0.0\r\n    07/24/2023  11:40 PM    &lt;DIR&gt;          7.3.0\r\n    07/24/2023  11:13 PM    &lt;DIR&gt;          7.3.2\r\n                   0 File(s)              0 bytes\r\n                   8 Dir(s)  23,834,460,160 bytes free\r\n\r\n\r\nIts creating the directory structure. But the directories don&#39;t have *.jar or source jars. **For example -** \r\n\r\n    C:\\Users\\abc\\.gradle\\caches\\modules-2\\files-2.1\\com.netflix.graphql.dgs\\graphql-dgs-client\\7.0.0&gt;dir /s\r\n     Volume in drive C is Windows\r\n     Volume Serial Number is 6666-0C00\r\n    \r\n     Directory of C:\\Users\\abc\\.gradle\\caches\\modules-2\\files-2.1\\com.netflix.graphql.dgs\\graphql-dgs-client\\7.0.0\r\n    \r\n    07/25/2023  01:27 AM    &lt;DIR&gt;          .\r\n    07/25/2023  01:27 AM    &lt;DIR&gt;          ..\r\n    07/25/2023  01:27 AM    &lt;DIR&gt;          5c56063934776448d4bf3c263329e17a3d16fcca\r\n    07/25/2023  01:27 AM    &lt;DIR&gt;          6bcd39f7d317f7cf7995c7581d5309d87da6e656\r\n                   0 File(s)              0 bytes\r\n    \r\n     Directory of C:\\Users\\abc\\.gradle\\caches\\modules-2\\files-2.1\\com.netflix.graphql.dgs\\graphql-dgs-client\\7.0.0\\5c56063934776448d4bf3c263329e17a3d16fcca\r\n    \r\n    07/25/2023  01:27 AM    &lt;DIR&gt;          .\r\n    07/25/2023  01:27 AM    &lt;DIR&gt;          ..\r\n    07/25/2023  01:27 AM             5,625 graphql-dgs-client-7.0.0.pom\r\n                   1 File(s)          5,625 bytes\r\n    \r\n     Directory of C:\\Users\\abc\\.gradle\\caches\\modules-2\\files-2.1\\com.netflix.graphql.dgs\\graphql-dgs-client\\7.0.0\\6bcd39f7d317f7cf7995c7581d5309d87da6e656\r\n    \r\n    07/25/2023  01:27 AM    &lt;DIR&gt;          .\r\n    07/25/2023  01:27 AM    &lt;DIR&gt;          ..\r\n    07/25/2023  01:27 AM             7,251 graphql-dgs-client-7.0.0.module\r\n                   1 File(s)          7,251 bytes\r\n    \r\n         Total Files Listed:\r\n                   2 File(s)         12,876 bytes\r\n                   8 Dir(s)  23,834,071,040 bytes free\r\n\r\n  \r\nAnd in intellij i get below error message - \r\n\r\n    myprj:test: Could not resolve com.netflix.graphql.dgs:graphql-dgs-client:6.0.2.\r\n    Required by:\r\n        project :\r\n    \r\n    Possible solution:\r\n     - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\r\n\r\nMy Environment is -   \r\n-windows 10  \r\n-gradlew - 8.1.1  \r\n-java 11  \r\n\r\nNote: Download of other artifacts like `apache httpclient` or `mysql-connector-j` etc is happening as expected without any issues. \r\n\r\n  [1]: https://repo.maven.apache.org/maven2/com/netflix/graphql/dgs/   \r\n\r\n**Edit -** as suggested build.gradle is as below - \r\n\r\n    plugins {\r\n    \tid &#39;org.springframework.boot&#39; version &#39;2.3.2.RELEASE&#39;\r\n    \tid &#39;io.spring.dependency-management&#39; version &#39;1.0.9.RELEASE&#39;\r\n    \tid &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;com.abc&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;11&#39;\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \ttestImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) {\r\n    \t\texclude group: &#39;org.junit.vintage&#39;, module: &#39;junit-vintage-engine&#39;\r\n    \t}\r\n    \timplementation group: &#39;com.netflix.graphql.dgs&#39;, name: &#39;graphql-dgs-client&#39;, version: &#39;6.0.2&#39;\r\n    \timplementation &#39;com.netflix.graphql.dgs:graphql-dgs-extended-scalars:7.2.0&#39;\r\n    \timplementation &#39;com.mysql:mysql-connector-j:8.1.0&#39;\r\n    \r\n    }\r\n    \r\n    test {\r\n    \tuseJUnitPlatform()\r\n    }\r\n\r\n","title":"Gradle is unable to download com.netflix.graphql.dgs:*.jar?","body":"<p>Gradle is unable to download <code>com.netflix.graphql.dgs:*.jar</code> artifacts even though these artifacts exists in the <a href=\"https://repo.maven.apache.org/maven2/com/netflix/graphql/dgs/\" rel=\"nofollow noreferrer\">maven central repo</a>.</p>\n<pre><code>C:\\Users\\abc\\.gradle\\caches\\modules-2\\files-2.1\\com.netflix.graphql.dgs\\graphql-dgs-client&gt;dir\n Volume in drive C is Windows\n Volume Serial Number is 6666-0C00\n\n Directory of C:\\Users\\abc\\.gradle\\caches\\modules-2\\files-2.1\\com.netflix.graphql.dgs\\graphql-dgs-client\n\n07/25/2023  01:27 AM    &lt;DIR&gt;          .\n07/25/2023  01:27 AM    &lt;DIR&gt;          ..\n07/24/2023  11:55 PM    &lt;DIR&gt;          4.9.15\n07/24/2023  11:16 PM    &lt;DIR&gt;          6.0.0\n07/25/2023  12:52 AM    &lt;DIR&gt;          6.0.1\n07/25/2023  01:27 AM    &lt;DIR&gt;          7.0.0\n07/24/2023  11:40 PM    &lt;DIR&gt;          7.3.0\n07/24/2023  11:13 PM    &lt;DIR&gt;          7.3.2\n               0 File(s)              0 bytes\n               8 Dir(s)  23,834,460,160 bytes free\n</code></pre>\n<p>Its creating the directory structure. But the directories don't have *.jar or source jars. <strong>For example -</strong></p>\n<pre><code>C:\\Users\\abc\\.gradle\\caches\\modules-2\\files-2.1\\com.netflix.graphql.dgs\\graphql-dgs-client\\7.0.0&gt;dir /s\n Volume in drive C is Windows\n Volume Serial Number is 6666-0C00\n\n Directory of C:\\Users\\abc\\.gradle\\caches\\modules-2\\files-2.1\\com.netflix.graphql.dgs\\graphql-dgs-client\\7.0.0\n\n07/25/2023  01:27 AM    &lt;DIR&gt;          .\n07/25/2023  01:27 AM    &lt;DIR&gt;          ..\n07/25/2023  01:27 AM    &lt;DIR&gt;          5c56063934776448d4bf3c263329e17a3d16fcca\n07/25/2023  01:27 AM    &lt;DIR&gt;          6bcd39f7d317f7cf7995c7581d5309d87da6e656\n               0 File(s)              0 bytes\n\n Directory of C:\\Users\\abc\\.gradle\\caches\\modules-2\\files-2.1\\com.netflix.graphql.dgs\\graphql-dgs-client\\7.0.0\\5c56063934776448d4bf3c263329e17a3d16fcca\n\n07/25/2023  01:27 AM    &lt;DIR&gt;          .\n07/25/2023  01:27 AM    &lt;DIR&gt;          ..\n07/25/2023  01:27 AM             5,625 graphql-dgs-client-7.0.0.pom\n               1 File(s)          5,625 bytes\n\n Directory of C:\\Users\\abc\\.gradle\\caches\\modules-2\\files-2.1\\com.netflix.graphql.dgs\\graphql-dgs-client\\7.0.0\\6bcd39f7d317f7cf7995c7581d5309d87da6e656\n\n07/25/2023  01:27 AM    &lt;DIR&gt;          .\n07/25/2023  01:27 AM    &lt;DIR&gt;          ..\n07/25/2023  01:27 AM             7,251 graphql-dgs-client-7.0.0.module\n               1 File(s)          7,251 bytes\n\n     Total Files Listed:\n               2 File(s)         12,876 bytes\n               8 Dir(s)  23,834,071,040 bytes free\n</code></pre>\n<p>And in intellij i get below error message -</p>\n<pre><code>myprj:test: Could not resolve com.netflix.graphql.dgs:graphql-dgs-client:6.0.2.\nRequired by:\n    project :\n\nPossible solution:\n - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\n</code></pre>\n<p>My Environment is -<br />\n-windows 10<br />\n-gradlew - 8.1.1<br />\n-java 11</p>\n<p>Note: Download of other artifacts like <code>apache httpclient</code> or <code>mysql-connector-j</code> etc is happening as expected without any issues.</p>\n<p><strong>Edit -</strong> as suggested build.gradle is as below -</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.3.2.RELEASE'\n    id 'io.spring.dependency-management' version '1.0.9.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.abc'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    testImplementation('org.springframework.boot:spring-boot-starter-test') {\n        exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n    }\n    implementation group: 'com.netflix.graphql.dgs', name: 'graphql-dgs-client', version: '6.0.2'\n    implementation 'com.netflix.graphql.dgs:graphql-dgs-extended-scalars:7.2.0'\n    implementation 'com.mysql:mysql-connector-j:8.1.0'\n\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n"},{"tags":["java","oop","inheritance","casting","upcasting"],"comments":[{"owner":{"account_id":1296354,"reputation":1669,"user_id":1247302,"accept_rate":94,"display_name":"mrswadge"},"score":1,"creation_date":1346158575,"post_id":12159601,"comment_id":16271852,"body_markdown":"Have a read of the animal example here: http://en.wikipedia.org/wiki/Polymorphism_in_object-oriented_programming","body":"Have a read of the animal example here: <a href=\"http://en.wikipedia.org/wiki/Polymorphism_in_object-oriented_programming\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/&hellip;</a>"},{"owner":{"account_id":1051458,"reputation":3493,"user_id":1055295,"accept_rate":96,"display_name":"Andrei B&#226;rsan"},"score":0,"creation_date":1346160843,"post_id":12159601,"comment_id":16273044,"body_markdown":"In your example it doesn&#39;t really help. But think that you have a method that does something with a Parent reference. Somewhere in the Main class, for instance. It takes a parent object reference and does stuff with it. It would make sense to also accept sub-classes of Parent, like a Child object, even though it only does parent-stuff to it. Moreover, look into [dynamic binding](http://stackoverflow.com/questions/321864/java-dynamic-binding-and-method-overriding) for more interesting stuff.","body":"In your example it doesn&#39;t really help. But think that you have a method that does something with a Parent reference. Somewhere in the Main class, for instance. It takes a parent object reference and does stuff with it. It would make sense to also accept sub-classes of Parent, like a Child object, even though it only does parent-stuff to it. Moreover, look into <a href=\"http://stackoverflow.com/questions/321864/java-dynamic-binding-and-method-overriding\">dynamic binding</a> for more interesting stuff."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1346176760,"post_id":12159601,"comment_id":16280766,"body_markdown":"Is this the `name` correct type?","body":"Is this the <code>name</code> correct type?"},{"owner":{"account_id":12779071,"reputation":318,"user_id":14105067,"display_name":"imraklr"},"score":1,"creation_date":1647521784,"post_id":12159601,"comment_id":126395094,"body_markdown":"Just to add; In real life the children inherits features from their parents. So in the same way, here child class has every knowledge of its parent class. Of course the fields should be visible to be accessible. When you override a method, you are probably improving your Parent&#39;s `Car`","body":"Just to add; In real life the children inherits features from their parents. So in the same way, here child class has every knowledge of its parent class. Of course the fields should be visible to be accessible. When you override a method, you are probably improving your Parent&#39;s <code>Car</code>"}],"answers":[{"tags":[],"owner":{"account_id":943267,"reputation":1872,"user_id":970985,"accept_rate":67,"display_name":"Thargor"},"down_vote_count":6,"up_vote_count":3,"is_accepted":false,"score":-3,"last_activity_date":1346158318,"creation_date":1346158318,"answer_id":12159644,"question_id":12159601,"body_markdown":"You declare parent as Parent, so java will provide only methods and attributes of the Parent class. \r\n\r\n    Child child = new Child();\r\n\r\nshould work. Or\r\n\r\n    Parent child = new Child();\r\n    ((Child)child).salary = 1;\r\n\r\n","title":"Why do we assign a parent reference to the child object in Java?","body":"<p>You declare parent as Parent, so java will provide only methods and attributes of the Parent class. </p>\n\n<pre><code>Child child = new Child();\n</code></pre>\n\n<p>should work. Or</p>\n\n<pre><code>Parent child = new Child();\n((Child)child).salary = 1;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":2,"up_vote_count":19,"is_accepted":false,"score":17,"last_activity_date":1346178653,"creation_date":1346158557,"answer_id":12159723,"question_id":12159601,"body_markdown":"If you assign parent type to a subclass it means that you agree with to use the common features of the parent class. \r\n\r\nIt gives you the freedom to abstract from different subclass implementations. As a result limits you with the parent features. \r\n\r\nHowever, this type of assignment is called upcasting.\r\n\r\n    Parent parent = new Child();  \r\n\r\nThe opposite is downcasting.\r\n\r\n    Child child = (Child)parent;\r\n\r\nSo, if you create instance of `Child` and downcast it to `Parent` you can use that type attribute `name`. If you create instance of `Parent` you can do the same as with previous case but you can&#39;t use `salary` because there&#39;s not such attribute in the `Parent`. Return to the previous case that can use `salary` but only if downcasting to `Child`.  \r\n  \r\n [\r\nThere&#39;s more detail explanation][1] \r\n\r\n\r\n  [1]: http://forum.codecall.net/topic/50451-upcasting-downcasting","title":"Why do we assign a parent reference to the child object in Java?","body":"<p>If you assign parent type to a subclass it means that you agree with to use the common features of the parent class. </p>\n\n<p>It gives you the freedom to abstract from different subclass implementations. As a result limits you with the parent features. </p>\n\n<p>However, this type of assignment is called upcasting.</p>\n\n<pre><code>Parent parent = new Child();  \n</code></pre>\n\n<p>The opposite is downcasting.</p>\n\n<pre><code>Child child = (Child)parent;\n</code></pre>\n\n<p>So, if you create instance of <code>Child</code> and downcast it to <code>Parent</code> you can use that type attribute <code>name</code>. If you create instance of <code>Parent</code> you can do the same as with previous case but you can't use <code>salary</code> because there's not such attribute in the <code>Parent</code>. Return to the previous case that can use <code>salary</code> but only if downcasting to <code>Child</code>.  </p>\n\n<p><a href=\"http://forum.codecall.net/topic/50451-upcasting-downcasting\" rel=\"noreferrer\">\nThere's more detail explanation</a> </p>\n"},{"tags":[],"owner":{"account_id":16264,"reputation":8973,"user_id":35227,"accept_rate":97,"display_name":"anio"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1346158650,"creation_date":1346158650,"answer_id":12159758,"question_id":12159601,"body_markdown":"It allows you to access all subclasses through a common parent interface. This is beneficial for running common operations available on all subclasses. A better example is needed:\r\n\r\n    public class Shape\r\n    {\r\n      private int x, y;\r\n      public void draw();\r\n    }\r\n    \r\n    public class Rectangle extends Shape\r\n    { \r\n      public void draw();\r\n      public void doRectangleAction();\r\n    }\r\n\r\nNow if you have:\r\n\r\n    List&lt;Shape&gt; myShapes = new ArrayList&lt;Shape&gt;();\r\n\r\nYou can reference every item in the list as a Shape, you don&#39;t have to worry if it is a Rectangle or some other type like let&#39;s say Circle. You can treat them all the same; you can draw all of them. You can&#39;t call doRectangleAction because you don&#39;t know if the Shape is really a rectangle.\r\n\r\nThis is a trade of you make between treating objects in a generic fashion and treating the specifically.\r\n\r\nReally I think you need to read more about OOP. A good book should help: http://www.amazon.com/Design-Patterns-Explained-Perspective-Object-Oriented/dp/0201715945\r\n\r\n\r\n\r\n","title":"Why do we assign a parent reference to the child object in Java?","body":"<p>It allows you to access all subclasses through a common parent interface. This is beneficial for running common operations available on all subclasses. A better example is needed:</p>\n\n<pre><code>public class Shape\n{\n  private int x, y;\n  public void draw();\n}\n\npublic class Rectangle extends Shape\n{ \n  public void draw();\n  public void doRectangleAction();\n}\n</code></pre>\n\n<p>Now if you have:</p>\n\n<pre><code>List&lt;Shape&gt; myShapes = new ArrayList&lt;Shape&gt;();\n</code></pre>\n\n<p>You can reference every item in the list as a Shape, you don't have to worry if it is a Rectangle or some other type like let's say Circle. You can treat them all the same; you can draw all of them. You can't call doRectangleAction because you don't know if the Shape is really a rectangle.</p>\n\n<p>This is a trade of you make between treating objects in a generic fashion and treating the specifically.</p>\n\n<p>Really I think you need to read more about OOP. A good book should help: <a href=\"https://rads.stackoverflow.com/amzn/click/com/0201715945\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">http://www.amazon.com/Design-Patterns-Explained-Perspective-Object-Oriented/dp/0201715945</a></p>\n"},{"tags":[],"owner":{"account_id":1399974,"reputation":355,"user_id":1328933,"accept_rate":64,"display_name":"soliloquyy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1346158661,"creation_date":1346158661,"answer_id":12159763,"question_id":12159601,"body_markdown":"Let&#39;s say you&#39;d like to have an array of instances of Parent class, and a set of child classes Child1, Child2, Child3 extending Parent. There&#39;re situations when you&#39;re only interested with the parent class implementation, which is more general, and do not care about *more specific stuff* introduced by child classes. ","title":"Why do we assign a parent reference to the child object in Java?","body":"<p>Let's say you'd like to have an array of instances of Parent class, and a set of child classes Child1, Child2, Child3 extending Parent. There're situations when you're only interested with the parent class implementation, which is more general, and do not care about <em>more specific stuff</em> introduced by child classes. </p>\n"},{"tags":[],"owner":{"account_id":1682946,"reputation":2666,"user_id":1613216,"accept_rate":60,"display_name":"FrancescoAzzola"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1346158664,"creation_date":1346158664,"answer_id":12159764,"question_id":12159601,"body_markdown":"This situation happens when you have several implementations.\r\nLet me explain.\r\nSupppose you have several sorting algorithm and you want to choose at runtime the one to implement, or you want to give to someone else the capability to add his implementation.\r\nTo solve this problem you usually create an abstract class (Parent) and have different implementation (Child).\r\nIf you write:\r\n\r\n    Child c = new Child();\r\n\r\nyou bind your implementation to Child class and you can&#39;t change it anymore. Otherwise if you use:\r\n\r\n    Parent p = new Child();\r\n\r\nas long as Child extends Parent you can change it in the future without modifying the code.\r\n\r\nThe same thing can be done using interfaces: Parent isn&#39;t anymore a class but a java Interface. \r\n\r\nIn general you can use this approch in DAO pattern where you want to have several DB dependent implementations.\r\nYou can give a look at FactoryPatter or AbstractFactory Pattern.\r\nHope this can help you.","title":"Why do we assign a parent reference to the child object in Java?","body":"<p>This situation happens when you have several implementations.\nLet me explain.\nSupppose you have several sorting algorithm and you want to choose at runtime the one to implement, or you want to give to someone else the capability to add his implementation.\nTo solve this problem you usually create an abstract class (Parent) and have different implementation (Child).\nIf you write:</p>\n\n<pre><code>Child c = new Child();\n</code></pre>\n\n<p>you bind your implementation to Child class and you can't change it anymore. Otherwise if you use:</p>\n\n<pre><code>Parent p = new Child();\n</code></pre>\n\n<p>as long as Child extends Parent you can change it in the future without modifying the code.</p>\n\n<p>The same thing can be done using interfaces: Parent isn't anymore a class but a java Interface. </p>\n\n<p>In general you can use this approch in DAO pattern where you want to have several DB dependent implementations.\nYou can give a look at FactoryPatter or AbstractFactory Pattern.\nHope this can help you.</p>\n"},{"tags":[],"owner":{"account_id":170362,"reputation":8745,"user_id":397016,"display_name":"John Watts"},"down_vote_count":0,"up_vote_count":82,"is_accepted":true,"score":82,"last_activity_date":1509032215,"creation_date":1346158782,"answer_id":12159803,"question_id":12159601,"body_markdown":"First, a clarification of terminology: we are assigning a `Child` object to a variable of type `Parent`. `Parent` is a reference to an object that happens to be a subtype of `Parent`, a `Child`.\r\n\r\nIt is only useful in a more complicated example. Imagine you add `getEmployeeDetails` to the class Parent:\r\n\r\n    public String getEmployeeDetails() {\r\n        return &quot;Name: &quot; + name;\r\n    }\r\n\r\nWe could override that method in `Child` to provide more details:\r\n\r\n    @Override\r\n    public String getEmployeeDetails() {\r\n        return &quot;Name: &quot; + name + &quot; Salary: &quot; + salary;\r\n    }\r\n\r\nNow you can write one line of code that gets whatever details are available, whether the object is a `Parent` or `Child`:\r\n\r\n    parent.getEmployeeDetails();\r\n\r\nThe following code:\r\n\r\n    Parent parent = new Parent();\r\n    parent.name = 1;\r\n    Child child = new Child();\r\n    child.name = 2;\r\n    child.salary = 2000;\r\n    Parent[] employees = new Parent[] { parent, child };\r\n    for (Parent employee : employees) {\r\n        employee.getEmployeeDetails();\r\n    }\r\n\r\nWill result in the output:\r\n\r\n    Name: 1\r\n    Name: 2 Salary: 2000\r\n\r\nWe used a `Child` as a `Parent`. It had specialized behavior unique to the `Child` class, but when we called `getEmployeeDetails()` we could ignore the difference and focus on how `Parent` and `Child` are similar. This is called [subtype polymorphism][1].\r\n\r\nYour updated question asks why `Child.salary` is not accessible when the `Child`object is stored in a `Parent` reference. The answer is the intersection of &quot;polymorphism&quot; and &quot;static typing&quot;. Because Java is statically typed at compile time you get certain guarantees from the compiler but you are forced to follow rules in exchange or the code won&#39;t compile. Here, the relevant guarantee is that every instance of a subtype (e.g. `Child`) can be used as an instance of its supertype (e.g. `Parent`). For instance, you are guaranteed that when you access `employee.getEmployeeDetails` or `employee.name` the method or field is defined on any non-null object that could be assigned to a variable `employee` of type `Parent`. To make this guarantee,  the compiler considers only that static type (basically, the type of the variable reference, `Parent`) when deciding what you can access. So you cannot access any members that are defined on the runtime type of the object, `Child`.\r\n\r\nWhen you truly want to use a `Child` as a `Parent` this is an easy restriction to live with and your code will be usable for `Parent` and all its subtypes. When that is not acceptable, make the type of the reference `Child`.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Subtype_polymorphism","title":"Why do we assign a parent reference to the child object in Java?","body":"<p>First, a clarification of terminology: we are assigning a <code>Child</code> object to a variable of type <code>Parent</code>. <code>Parent</code> is a reference to an object that happens to be a subtype of <code>Parent</code>, a <code>Child</code>.</p>\n\n<p>It is only useful in a more complicated example. Imagine you add <code>getEmployeeDetails</code> to the class Parent:</p>\n\n<pre><code>public String getEmployeeDetails() {\n    return \"Name: \" + name;\n}\n</code></pre>\n\n<p>We could override that method in <code>Child</code> to provide more details:</p>\n\n<pre><code>@Override\npublic String getEmployeeDetails() {\n    return \"Name: \" + name + \" Salary: \" + salary;\n}\n</code></pre>\n\n<p>Now you can write one line of code that gets whatever details are available, whether the object is a <code>Parent</code> or <code>Child</code>:</p>\n\n<pre><code>parent.getEmployeeDetails();\n</code></pre>\n\n<p>The following code:</p>\n\n<pre><code>Parent parent = new Parent();\nparent.name = 1;\nChild child = new Child();\nchild.name = 2;\nchild.salary = 2000;\nParent[] employees = new Parent[] { parent, child };\nfor (Parent employee : employees) {\n    employee.getEmployeeDetails();\n}\n</code></pre>\n\n<p>Will result in the output:</p>\n\n<pre><code>Name: 1\nName: 2 Salary: 2000\n</code></pre>\n\n<p>We used a <code>Child</code> as a <code>Parent</code>. It had specialized behavior unique to the <code>Child</code> class, but when we called <code>getEmployeeDetails()</code> we could ignore the difference and focus on how <code>Parent</code> and <code>Child</code> are similar. This is called <a href=\"http://en.wikipedia.org/wiki/Subtype_polymorphism\" rel=\"noreferrer\">subtype polymorphism</a>.</p>\n\n<p>Your updated question asks why <code>Child.salary</code> is not accessible when the <code>Child</code>object is stored in a <code>Parent</code> reference. The answer is the intersection of \"polymorphism\" and \"static typing\". Because Java is statically typed at compile time you get certain guarantees from the compiler but you are forced to follow rules in exchange or the code won't compile. Here, the relevant guarantee is that every instance of a subtype (e.g. <code>Child</code>) can be used as an instance of its supertype (e.g. <code>Parent</code>). For instance, you are guaranteed that when you access <code>employee.getEmployeeDetails</code> or <code>employee.name</code> the method or field is defined on any non-null object that could be assigned to a variable <code>employee</code> of type <code>Parent</code>. To make this guarantee,  the compiler considers only that static type (basically, the type of the variable reference, <code>Parent</code>) when deciding what you can access. So you cannot access any members that are defined on the runtime type of the object, <code>Child</code>.</p>\n\n<p>When you truly want to use a <code>Child</code> as a <code>Parent</code> this is an easy restriction to live with and your code will be usable for <code>Parent</code> and all its subtypes. When that is not acceptable, make the type of the reference <code>Child</code>.</p>\n"},{"tags":[],"owner":{"account_id":1207862,"reputation":3586,"user_id":1177031,"display_name":"kapandron"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1346174463,"creation_date":1346159037,"answer_id":12159881,"question_id":12159601,"body_markdown":"It&#39;s simple.  \r\n\r\n    Parent parent = new Child();\r\n\r\nIn this case the type of the object is `Parent`. Ant `Parent` has only one properties. It&#39;s `name`.\r\n\r\n    Child child = new Child();\r\n\r\nAnd in this case the type of the object is `Child`. Ant `Child` has two properties. They&#39;re `name` and  `salary`.\r\n\r\nThe fact is that there&#39;s no need to initialize non-final field immediately at the declaration. Usually this’s done at run-time because often you cannot know exactly what exactly implementation will you need. For example imagine that you have a class hierarchy with class `Transport` at the head. And three subclasses: `Car`, `Helicopter` and `Boat`. And there&#39;s another class `Tour` which has field `Transport`. That is:\r\n\r\n    class Tour {\r\n       Transport transport;\r\n    }  \r\n\r\nAs long as an user hasn&#39;t booked a trip and hasn&#39;t chosen a particular type of transport you can&#39;t initialize this field. It&#39;s first. \r\n\r\nSecond, assume that all of these classes must have a method `go()` but with a different implementation. You can define a basic implementation by default in the superclass `Transport` and own unique implementations in each subclass. With this initialization `Transport tran; tran = new Car();` you can call the method `tran.go()` and get result without worrying about specific implementation. It’ll call overrided method from particular subclass. \r\n\r\nMoreover you can use instance of subclass everywhere where instance of superclass is used. For example you want provide opportunity to rent your transport. If you don&#39;t use polymorphism, you have to write a lot of methods for each case: `rentCar(Car car)`, `rentBoat(Boat boat)` and so forth. At the same time polymorphism allows you to create one universal method `rent(Transport transport)`. You can pass in it object of any subclass of `Transport`. In addition, if over time your logic will increase up and you&#39;ll need to create another class in the hierarchy? When using polymorphism you don&#39;t need to change anything. Just extend class `Transport` and pass your new class into the method: \r\n\r\n    public class Airplane extends Transport {\r\n        //implementation\r\n    }\r\n\r\nand `rent(new Airplane())`. And `new Airplane().go()` in second case. \r\n","title":"Why do we assign a parent reference to the child object in Java?","body":"<p>It's simple.  </p>\n\n<pre><code>Parent parent = new Child();\n</code></pre>\n\n<p>In this case the type of the object is <code>Parent</code>. Ant <code>Parent</code> has only one properties. It's <code>name</code>.</p>\n\n<pre><code>Child child = new Child();\n</code></pre>\n\n<p>And in this case the type of the object is <code>Child</code>. Ant <code>Child</code> has two properties. They're <code>name</code> and  <code>salary</code>.</p>\n\n<p>The fact is that there's no need to initialize non-final field immediately at the declaration. Usually this’s done at run-time because often you cannot know exactly what exactly implementation will you need. For example imagine that you have a class hierarchy with class <code>Transport</code> at the head. And three subclasses: <code>Car</code>, <code>Helicopter</code> and <code>Boat</code>. And there's another class <code>Tour</code> which has field <code>Transport</code>. That is:</p>\n\n<pre><code>class Tour {\n   Transport transport;\n}  \n</code></pre>\n\n<p>As long as an user hasn't booked a trip and hasn't chosen a particular type of transport you can't initialize this field. It's first. </p>\n\n<p>Second, assume that all of these classes must have a method <code>go()</code> but with a different implementation. You can define a basic implementation by default in the superclass <code>Transport</code> and own unique implementations in each subclass. With this initialization <code>Transport tran; tran = new Car();</code> you can call the method <code>tran.go()</code> and get result without worrying about specific implementation. It’ll call overrided method from particular subclass. </p>\n\n<p>Moreover you can use instance of subclass everywhere where instance of superclass is used. For example you want provide opportunity to rent your transport. If you don't use polymorphism, you have to write a lot of methods for each case: <code>rentCar(Car car)</code>, <code>rentBoat(Boat boat)</code> and so forth. At the same time polymorphism allows you to create one universal method <code>rent(Transport transport)</code>. You can pass in it object of any subclass of <code>Transport</code>. In addition, if over time your logic will increase up and you'll need to create another class in the hierarchy? When using polymorphism you don't need to change anything. Just extend class <code>Transport</code> and pass your new class into the method: </p>\n\n<pre><code>public class Airplane extends Transport {\n    //implementation\n}\n</code></pre>\n\n<p>and <code>rent(new Airplane())</code>. And <code>new Airplane().go()</code> in second case. </p>\n"},{"tags":[],"owner":{"account_id":6548164,"reputation":678,"user_id":5063439,"display_name":"Akshat Chaturvedi"},"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1516140398,"creation_date":1435625361,"answer_id":31127825,"question_id":12159601,"body_markdown":"When you compile your program the reference variable of the base class gets memory and compiler checks all the methods in that class. So it checks all the base class methods but not the child class methods. Now at runtime when the object is created, only checked methods can run. \r\nIn case a method is overridden in the child class that function runs. Child class other functions aren&#39;t run because the compiler hasn&#39;t recognized them at the compile time.\r\n","title":"Why do we assign a parent reference to the child object in Java?","body":"<p>When you compile your program the reference variable of the base class gets memory and compiler checks all the methods in that class. So it checks all the base class methods but not the child class methods. Now at runtime when the object is created, only checked methods can run. \nIn case a method is overridden in the child class that function runs. Child class other functions aren't run because the compiler hasn't recognized them at the compile time.</p>\n"},{"tags":[],"owner":{"account_id":12372515,"reputation":488,"user_id":9022194,"display_name":"George Smith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580265649,"creation_date":1580265649,"answer_id":59959823,"question_id":12159601,"body_markdown":"I think all explanations above are a bit too technical for the people who are new to Object Oriented Programming (OOP). Years ago, it took me a while to wrap my head around this (as Jr Java Developer) and I really did no understand why we use a parent class or an interface to hide the actual class we are actually calling under the covers.\r\n\r\n1. The immediate reason why is to hide complexity, so that the caller does not need to change often (be hacked and jacked in laymen&#39;s terms). This makes a lot of sense, especially if you goals is to avoid creating bugs. And the more you modify code, the more likely it is that you will have some of them creep up on you. On the other hand, if you just extend code, it is way less likely that you will have bugs because you concentrate on one thing at a time and your old code does not change or changes just a bit.\r\nImagine that you have simple application that allows the employees in the medical profession to create profiles. For simplicity, let&#39;s assume that we have only GeneralPractitioners, Surgeons, and Nurses (in reality there are many more specific professions, of course). For each profession, you want to store some general information and some specific to that professional alone. For example, a Surgeon may have general fields like firstName, lastName, yearsOfExperience as general fields but also specific fields, e.g. specializations stored in an list instance variable, like List&lt;String&gt; with contents simiar to &quot;Bone Surgery&quot;, &quot;Eye Surgery&quot;, etc. A Nurse would not have any of that but may have list procedures they are familiar with, GeneralPractioners would have their own specifics. As a result, how you save a profile of a specifics. However, you don&#39;t want your ProfileManager class to know about these differences, as they will inevitably change and increase over time as your application expands its functionality to cover more medical professions, e.g. Physio Therapist, Cardiologist, Oncologist, etc. All you want your ProfileManger to do is just say save(), no matter whose profile it is saving. Thus, it is common practice to hide this behind and Interface, and Abstract Class, or a Parent Class (if you plan to allow creating a general medical employee). In this case, let&#39;s choose a Parent class and call it MedicalEmployee. Under the covers, it can reference any of the above specific classes that extend it. When the ProfileManager calls myMedicalEmployee.save() the save() method will be polymorphically (many-structurally) be resolved to the correct class type that was used to create the profile originally, for example Nurse and call the save() method in that class.\r\n\r\n2. In many cases, you don&#39;t really know what implementation you will need at runtime. From the example above, you have no idea if a GeneralPractitioner, a Surgeon, or a Nurse would create a profile. Yet, you know that you need to save that profile once completed, no matter what. MedicalEmployee.profile() does exactly that. It is replicated (overridden) by each specific type of MedicalEmployee - GeneralPractitioner, Surgeon, Nurse, \r\n\r\n3. The result of (1) and (2) above is that you now can add new medical professions, implement save() in each new class, thereby overriding the save() method in MedicalEmployee, and you don&#39;t have to modify ProfileManager at all.","title":"Why do we assign a parent reference to the child object in Java?","body":"<p>I think all explanations above are a bit too technical for the people who are new to Object Oriented Programming (OOP). Years ago, it took me a while to wrap my head around this (as Jr Java Developer) and I really did no understand why we use a parent class or an interface to hide the actual class we are actually calling under the covers.</p>\n\n<ol>\n<li><p>The immediate reason why is to hide complexity, so that the caller does not need to change often (be hacked and jacked in laymen's terms). This makes a lot of sense, especially if you goals is to avoid creating bugs. And the more you modify code, the more likely it is that you will have some of them creep up on you. On the other hand, if you just extend code, it is way less likely that you will have bugs because you concentrate on one thing at a time and your old code does not change or changes just a bit.\nImagine that you have simple application that allows the employees in the medical profession to create profiles. For simplicity, let's assume that we have only GeneralPractitioners, Surgeons, and Nurses (in reality there are many more specific professions, of course). For each profession, you want to store some general information and some specific to that professional alone. For example, a Surgeon may have general fields like firstName, lastName, yearsOfExperience as general fields but also specific fields, e.g. specializations stored in an list instance variable, like List with contents simiar to \"Bone Surgery\", \"Eye Surgery\", etc. A Nurse would not have any of that but may have list procedures they are familiar with, GeneralPractioners would have their own specifics. As a result, how you save a profile of a specifics. However, you don't want your ProfileManager class to know about these differences, as they will inevitably change and increase over time as your application expands its functionality to cover more medical professions, e.g. Physio Therapist, Cardiologist, Oncologist, etc. All you want your ProfileManger to do is just say save(), no matter whose profile it is saving. Thus, it is common practice to hide this behind and Interface, and Abstract Class, or a Parent Class (if you plan to allow creating a general medical employee). In this case, let's choose a Parent class and call it MedicalEmployee. Under the covers, it can reference any of the above specific classes that extend it. When the ProfileManager calls myMedicalEmployee.save() the save() method will be polymorphically (many-structurally) be resolved to the correct class type that was used to create the profile originally, for example Nurse and call the save() method in that class.</p></li>\n<li><p>In many cases, you don't really know what implementation you will need at runtime. From the example above, you have no idea if a GeneralPractitioner, a Surgeon, or a Nurse would create a profile. Yet, you know that you need to save that profile once completed, no matter what. MedicalEmployee.profile() does exactly that. It is replicated (overridden) by each specific type of MedicalEmployee - GeneralPractitioner, Surgeon, Nurse, </p></li>\n<li><p>The result of (1) and (2) above is that you now can add new medical professions, implement save() in each new class, thereby overriding the save() method in MedicalEmployee, and you don't have to modify ProfileManager at all.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8898229,"reputation":51,"user_id":6642456,"display_name":"Swapneil Basutkar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1586119110,"creation_date":1586099868,"answer_id":61044837,"question_id":12159601,"body_markdown":"I know this is a very old thread but I came across the same doubt once.\r\n\r\nSo the concept of `Parent parent = new Child();` has something to do with early and late binding in java.\r\n\r\nThe binding of private, static and final methods happen at the compile as they cannot be overridden and the normal method calls and overloaded methods are example of early binding.\r\n\r\nConsider the example:\r\n\r\n    \r\n    class Vehicle\r\n    {\r\n        int value = 100;\r\n    \tvoid start() {\r\n    \t\tSystem.out.println(&quot;Vehicle Started&quot;);\r\n    \t}\r\n    \r\n    \tstatic void stop() {\r\n    \t\tSystem.out.println(&quot;Vehicle Stopped&quot;);\r\n    \t}\r\n    }\r\n    \r\n    class Car extends Vehicle {\r\n        \r\n        int value = 1000;\r\n\r\n    \t@Override\r\n    \tvoid start() {\r\n    \t\tSystem.out.println(&quot;Car Started&quot;);\r\n    \t}\r\n    \r\n    \tstatic void stop() {\r\n    \t\tSystem.out.println(&quot;Car Stopped&quot;);\r\n    \t}\r\n    \r\n    \tpublic static void main(String args[]) {\r\n    \r\n    \t\t// Car extends Vehicle\r\n    \t\tVehicle vehicle = new Car();\r\n            System.out.println(vehicle.value);\r\n    \t\tvehicle.start();\r\n    \t\tvehicle.stop();\r\n    \t}\r\n    }\r\n\r\nOutput:\r\n100\r\n\r\nCar Started\r\n\r\nVehicle Stopped\r\n\r\nThis is happening because `stop()` is a static method and cannot be overridden. So binding of `stop()` happens at compile time and `start()` is non-static is being overridden in child class. So, the information about type of object is available at the run time only(late binding) and hence the `start()` method of Car class is called.\r\n\r\nAlso in this code the `vehicle.value` gives us `100` as the output because variable initialization doesn&#39;t come under late binding. ***Method overriding is one of the ways in which java supports run time polymorphism***.\r\n\r\n - When an overridden method is called through a superclass reference, Java determines which version(superclass/subclasses) of that method is to be executed based upon the type of the object being referred to at the time the call occurs. Thus, this determination is made at run time.\r\n - At run-time, it depends on the type of the object being referred to (not the type of the reference variable) that determines which version of an overridden method will be executed\r\n\r\n\r\nI hope this answers where `Parent parent = new Child();` is important and also why you weren&#39;t able to access the child class variable using the above reference.","title":"Why do we assign a parent reference to the child object in Java?","body":"<p>I know this is a very old thread but I came across the same doubt once.</p>\n\n<p>So the concept of <code>Parent parent = new Child();</code> has something to do with early and late binding in java.</p>\n\n<p>The binding of private, static and final methods happen at the compile as they cannot be overridden and the normal method calls and overloaded methods are example of early binding.</p>\n\n<p>Consider the example:</p>\n\n<pre><code>class Vehicle\n{\n    int value = 100;\n    void start() {\n        System.out.println(\"Vehicle Started\");\n    }\n\n    static void stop() {\n        System.out.println(\"Vehicle Stopped\");\n    }\n}\n\nclass Car extends Vehicle {\n\n    int value = 1000;\n\n    @Override\n    void start() {\n        System.out.println(\"Car Started\");\n    }\n\n    static void stop() {\n        System.out.println(\"Car Stopped\");\n    }\n\n    public static void main(String args[]) {\n\n        // Car extends Vehicle\n        Vehicle vehicle = new Car();\n        System.out.println(vehicle.value);\n        vehicle.start();\n        vehicle.stop();\n    }\n}\n</code></pre>\n\n<p>Output:\n100</p>\n\n<p>Car Started</p>\n\n<p>Vehicle Stopped</p>\n\n<p>This is happening because <code>stop()</code> is a static method and cannot be overridden. So binding of <code>stop()</code> happens at compile time and <code>start()</code> is non-static is being overridden in child class. So, the information about type of object is available at the run time only(late binding) and hence the <code>start()</code> method of Car class is called.</p>\n\n<p>Also in this code the <code>vehicle.value</code> gives us <code>100</code> as the output because variable initialization doesn't come under late binding. <strong><em>Method overriding is one of the ways in which java supports run time polymorphism</em></strong>.</p>\n\n<ul>\n<li>When an overridden method is called through a superclass reference, Java determines which version(superclass/subclasses) of that method is to be executed based upon the type of the object being referred to at the time the call occurs. Thus, this determination is made at run time.</li>\n<li>At run-time, it depends on the type of the object being referred to (not the type of the reference variable) that determines which version of an overridden method will be executed</li>\n</ul>\n\n<p>I hope this answers where <code>Parent parent = new Child();</code> is important and also why you weren't able to access the child class variable using the above reference.</p>\n"},{"tags":[],"owner":{"account_id":17976840,"reputation":11,"user_id":13064176,"display_name":"S G"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1607003935,"creation_date":1607002645,"answer_id":65127070,"question_id":12159601,"body_markdown":"for example we have a\r\n```\r\nclass Employee\r\n\r\n{\r\n\r\nint getsalary()\r\n\r\n{return 0;}\r\n\r\nString getDesignation()\r\n\r\n{\r\n\r\nreturn “default”;\r\n\r\n}\r\n\r\n}\r\n\r\nclass Manager extends Employee\r\n\r\n{\r\n\r\nint getsalary()\r\n\r\n{\r\n\r\nreturn 20000;\r\n\r\n}\r\n\r\nString getDesignation()\r\n\r\n{\r\n\r\nreturn “Manager”\r\n\r\n}\r\n\r\n}\r\n\r\nclass SoftwareEngineer extends Employee\r\n\r\n{\r\n\r\nint getsalary()\r\n\r\n{\r\n\r\nreturn 20000;\r\n\r\n}\r\n\r\nString getDesignation()\r\n\r\n{\r\n\r\nreturn “Manager”\r\n\r\n}\r\n\r\n}\r\n```\r\nnow if you want to set or get salary and designation of all employee (i.e software enginerr,manager etc )\r\n\r\nwe will take an array of Employee and call both method getsalary(),getDesignation\r\n```\r\nEmployee arr[]=new Employee[10];\r\n\r\narr[1]=new SoftwareEngieneer();\r\n\r\narr[2]=new Manager();\r\n\r\narr[n]=…….\r\n\r\nfor(int i;i&gt;arr.length;i++)\r\n\r\n{\r\n\r\nSystem.out.println(arr[i].getDesignation+””+arr[i].getSalary())\r\n\r\n}\r\n```\r\nnow its an kind of loose coupling because you can have different types of employees ex:softeware engineer,manager,hr,pantryEmployee etc\r\n\r\nso you can give object to the parent reference irrespective of different employee object","title":"Why do we assign a parent reference to the child object in Java?","body":"<p>for example we have a</p>\n<pre><code>class Employee\n\n{\n\nint getsalary()\n\n{return 0;}\n\nString getDesignation()\n\n{\n\nreturn “default”;\n\n}\n\n}\n\nclass Manager extends Employee\n\n{\n\nint getsalary()\n\n{\n\nreturn 20000;\n\n}\n\nString getDesignation()\n\n{\n\nreturn “Manager”\n\n}\n\n}\n\nclass SoftwareEngineer extends Employee\n\n{\n\nint getsalary()\n\n{\n\nreturn 20000;\n\n}\n\nString getDesignation()\n\n{\n\nreturn “Manager”\n\n}\n\n}\n</code></pre>\n<p>now if you want to set or get salary and designation of all employee (i.e software enginerr,manager etc )</p>\n<p>we will take an array of Employee and call both method getsalary(),getDesignation</p>\n<pre><code>Employee arr[]=new Employee[10];\n\narr[1]=new SoftwareEngieneer();\n\narr[2]=new Manager();\n\narr[n]=…….\n\nfor(int i;i&gt;arr.length;i++)\n\n{\n\nSystem.out.println(arr[i].getDesignation+””+arr[i].getSalary())\n\n}\n</code></pre>\n<p>now its an kind of loose coupling because you can have different types of employees ex:softeware engineer,manager,hr,pantryEmployee etc</p>\n<p>so you can give object to the parent reference irrespective of different employee object</p>\n"},{"tags":[],"owner":{"account_id":29056580,"reputation":1,"user_id":22258239,"display_name":"Hameed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690235288,"creation_date":1690235288,"answer_id":76758214,"question_id":12159601,"body_markdown":"I think I have a simple example to answer to doubt.\r\nThe thing is, we use Parent Reference with Child Class Object\r\n(Parent p = new Child()) To override Parent Method.\r\n\r\nTake this Example.\r\n-----------------------------------------------\r\n\r\n    class Parent{\r\n        public static void Method1(){\r\n            System.out.println(&quot;Parent Static Method 1&quot;);\r\n        }\r\n        public void Method2(){\r\n            System.out.println(&quot;Parent Non Static Method 2&quot;);\r\n        }\r\n        public static void ParentMethod3(){\r\n            System.out.println(&quot;Parent Static Method 3&quot;);\r\n        }\r\n        public void ParentMethod4(){\r\n            System.out.println(&quot;Parent Non Static Method 4&quot;);\r\n        }\r\n    }\r\n    class Child extends Parent{\r\n        public static void Method1(){\r\n            System.out.println(&quot;Child Static Method 1&quot;);\r\n        }\r\n        public void Method2(){\r\n            System.out.println(&quot;Child Non Static Method 2&quot;);\r\n        }\r\n        public static void ChildMethod3(){\r\n            System.out.println(&quot;Child Static Method 3&quot;);\r\n        }\r\n        public void ChildMethod4(){\r\n            System.out.println(&quot;Child Non Static Method 4&quot;);\r\n        }\r\n    }\r\n\r\nNow Lets Execute:\r\n\r\n    class ParentChild {\r\n        public static void main(String[] args) {\r\n    \r\n            //case1:Parent Reference with Parent Object\r\n            Parent parent = new Parent();\r\n            parent.Method1();           //output: Parent Static Method 1\r\n            parent.Method2();           //output: Parent Non Static Method 2\r\n            parent.ParentMethod3();     //output: Parent Static Method 3\r\n            parent.ParentMethod4();     //output: Parent Non Static Method 4\r\n    \r\n            //case2:Child Reference with Child Object\r\n            Child child = new Child();\r\n            child.Method1();           //output: Child Static Method 1\r\n            child.Method2();           //output: Child Non Static Method 2\r\n            child.ChildMethod3();     //output: Child Static Method 3\r\n            child.ChildMethod4();     //output: Child Non Static Method 4\r\n    \r\n            //case3:Parent Reference with Child Object\r\n            Parent pc = new Child();\r\n            pc.Method1();           //output: Parent Static Method 1\r\n            pc.Method2();           //output: Child Non Static Method 1\r\n            pc.ParentMethod3();     //output: Parent Static Method 3\r\n            pc.ParentMethod4();     //output: Parent Non Static Method 4\r\n    //        pc.ChildMethod3(); //Cannot call Child Methods from Parent Reference\r\n    //        pc.ChildMethod4(); //Cannot call Child Methods from Parent Reference`\r\n     }\r\n    }`\r\n\r\nAs you can see, Parent Reference is calling Parent Methods\r\n                    Child Reference is calling Child Methods\r\n\r\n  \r\n\r\n&gt; Now, see Parent Reference with Child Class.   We are calling Method2\r\n&gt; from Parent Class. But, it is giving us Child Method.   So, we are\r\n&gt; doing Overriding here.\r\n&gt; \r\n&gt;   Why Method1() didnt call Child Method? Bcoz it is a Static Method.  \r\n&gt; Static means, it wont change. So, overriding wont work.   This concept\r\n&gt; is called Method Hiding.\r\n\r\n.\r\nThe concept may be still blurry. First add this code to your IDE, run it and come back to this line.\r\n\r\n&gt; See, by using Parent Reference &amp; Parent Object we can call Parent\r\n&gt; Methods as seen in Case1, by using Child Reference &amp; Child Object we\r\n&gt; can call Child Methods as seen in Case2 But, in Case3, by using Parent\r\n&gt; Reference &amp; Child Object we can call Both Parent Methods &amp; Child\r\n&gt; Methods. We dont have to create 2 objects here, when the work can be\r\n&gt; done by creating only 1 object and saving memory.  So, it is mostly\r\n&gt; useful if you are using @Overriding concept.  Can be useful while\r\n&gt; extending abstract class &amp; interface as well.\r\n\r\n ","title":"Why do we assign a parent reference to the child object in Java?","body":"<p>I think I have a simple example to answer to doubt.\nThe thing is, we use Parent Reference with Child Class Object\n(Parent p = new Child()) To override Parent Method.</p>\n<h2>Take this Example.</h2>\n<pre><code>class Parent{\n    public static void Method1(){\n        System.out.println(&quot;Parent Static Method 1&quot;);\n    }\n    public void Method2(){\n        System.out.println(&quot;Parent Non Static Method 2&quot;);\n    }\n    public static void ParentMethod3(){\n        System.out.println(&quot;Parent Static Method 3&quot;);\n    }\n    public void ParentMethod4(){\n        System.out.println(&quot;Parent Non Static Method 4&quot;);\n    }\n}\nclass Child extends Parent{\n    public static void Method1(){\n        System.out.println(&quot;Child Static Method 1&quot;);\n    }\n    public void Method2(){\n        System.out.println(&quot;Child Non Static Method 2&quot;);\n    }\n    public static void ChildMethod3(){\n        System.out.println(&quot;Child Static Method 3&quot;);\n    }\n    public void ChildMethod4(){\n        System.out.println(&quot;Child Non Static Method 4&quot;);\n    }\n}\n</code></pre>\n<p>Now Lets Execute:</p>\n<pre><code>class ParentChild {\n    public static void main(String[] args) {\n\n        //case1:Parent Reference with Parent Object\n        Parent parent = new Parent();\n        parent.Method1();           //output: Parent Static Method 1\n        parent.Method2();           //output: Parent Non Static Method 2\n        parent.ParentMethod3();     //output: Parent Static Method 3\n        parent.ParentMethod4();     //output: Parent Non Static Method 4\n\n        //case2:Child Reference with Child Object\n        Child child = new Child();\n        child.Method1();           //output: Child Static Method 1\n        child.Method2();           //output: Child Non Static Method 2\n        child.ChildMethod3();     //output: Child Static Method 3\n        child.ChildMethod4();     //output: Child Non Static Method 4\n\n        //case3:Parent Reference with Child Object\n        Parent pc = new Child();\n        pc.Method1();           //output: Parent Static Method 1\n        pc.Method2();           //output: Child Non Static Method 1\n        pc.ParentMethod3();     //output: Parent Static Method 3\n        pc.ParentMethod4();     //output: Parent Non Static Method 4\n//        pc.ChildMethod3(); //Cannot call Child Methods from Parent Reference\n//        pc.ChildMethod4(); //Cannot call Child Methods from Parent Reference`\n }\n}`\n</code></pre>\n<p>As you can see, Parent Reference is calling Parent Methods\nChild Reference is calling Child Methods</p>\n<blockquote>\n<p>Now, see Parent Reference with Child Class.   We are calling Method2\nfrom Parent Class. But, it is giving us Child Method.   So, we are\ndoing Overriding here.</p>\n<p>Why Method1() didnt call Child Method? Bcoz it is a Static Method.<br />\nStatic means, it wont change. So, overriding wont work.   This concept\nis called Method Hiding.</p>\n</blockquote>\n<p>.\nThe concept may be still blurry. First add this code to your IDE, run it and come back to this line.</p>\n<blockquote>\n<p>See, by using Parent Reference &amp; Parent Object we can call Parent\nMethods as seen in Case1, by using Child Reference &amp; Child Object we\ncan call Child Methods as seen in Case2 But, in Case3, by using Parent\nReference &amp; Child Object we can call Both Parent Methods &amp; Child\nMethods. We dont have to create 2 objects here, when the work can be\ndone by creating only 1 object and saving memory.  So, it is mostly\nuseful if you are using @Overriding concept.  Can be useful while\nextending abstract class &amp; interface as well.</p>\n</blockquote>\n"}],"owner":{"account_id":1487312,"reputation":6514,"user_id":1395259,"accept_rate":67,"display_name":"Narendra Pal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189228,"favorite_count":0,"down_vote_count":0,"up_vote_count":114,"accepted_answer_id":12159803,"answer_count":12,"score":114,"last_activity_date":1690235288,"creation_date":1346158171,"question_id":12159601,"body_markdown":"I am asking a quite simple question, but I am bit confused in this.\r\n\r\nSuppose I have a class `Parent`:\r\n\r\n    public class Parent {\r\n    \r\n    \tint name;\r\n    }\r\n\r\nAnd have another class `Child`:\r\n\r\n    public class Child extends Parent{\r\n    \r\n    \tint salary;\r\n    }\r\n\r\nAnd finally my Main.java class\r\n\r\n\r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tParent parent = new Child();\r\n    \t\tparent.name= &quot;abcd&quot;;\r\n    \t}\r\n    }\r\n\r\nIf I make a child object like\r\n\r\n    Child child = new Child():\r\nThen `child` object can access both `name and salary` variables.\r\n\r\nMy question is:\r\n\r\n    Parent parent = new Child();\r\ngives the access of only `name` variable of Parent class. \r\nSo what is the exact use of this line??\r\n\r\n     Parent parent = new Child();\r\n\r\nAnd also when it is using dynamic polymorphism then why the variable of child class is not accessible after doing this\r\n\r\n    Parent parent = new Child();","title":"Why do we assign a parent reference to the child object in Java?","body":"<p>I am asking a quite simple question, but I am bit confused in this.</p>\n<p>Suppose I have a class <code>Parent</code>:</p>\n<pre><code>public class Parent {\n\n    int name;\n}\n</code></pre>\n<p>And have another class <code>Child</code>:</p>\n<pre><code>public class Child extends Parent{\n\n    int salary;\n}\n</code></pre>\n<p>And finally my Main.java class</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args)\n    {\n        Parent parent = new Child();\n        parent.name= &quot;abcd&quot;;\n    }\n}\n</code></pre>\n<p>If I make a child object like</p>\n<pre><code>Child child = new Child():\n</code></pre>\n<p>Then <code>child</code> object can access both <code>name and salary</code> variables.</p>\n<p>My question is:</p>\n<pre><code>Parent parent = new Child();\n</code></pre>\n<p>gives the access of only <code>name</code> variable of Parent class.\nSo what is the exact use of this line??</p>\n<pre><code> Parent parent = new Child();\n</code></pre>\n<p>And also when it is using dynamic polymorphism then why the variable of child class is not accessible after doing this</p>\n<pre><code>Parent parent = new Child();\n</code></pre>\n"},{"tags":["java","variables"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1690218535,"post_id":76756656,"comment_id":135319714,"body_markdown":"Make the 26 variables fields in a new user defined type. That is how you &quot;group&quot; variables in Java. You define a type.","body":"Make the 26 variables fields in a new user defined type. That is how you &quot;group&quot; variables in Java. You define a type."},{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":0,"creation_date":1690219133,"post_id":76756656,"comment_id":135319834,"body_markdown":"How are these values semantically related?  Are they elements of a collection?  If so then you&#39;d want some collection (array-like) type to hold them.  Are they attributes of a combined semantic concept?  If so then they describe fields on a class.  It&#39;s not clear what you&#39;re asking which doesn&#39;t fall into one of these two structures.","body":"How are these values semantically related?  Are they elements of a collection?  If so then you&#39;d want some collection (array-like) type to hold them.  Are they attributes of a combined semantic concept?  If so then they describe fields on a class.  It&#39;s not clear what you&#39;re asking which doesn&#39;t fall into one of these two structures."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1690219177,"post_id":76756656,"comment_id":135319840,"body_markdown":"I think that you&#39;re putting much too much importance on variable names, which are almost non-existent in compiled code. Focus on references, here, perhaps a `Map&lt;Character, SomeOtherType&gt;`. Otherwise, this looks to possibly be an [XY Problem](https://en.wikipedia.org/wiki/XY_problem) type question where you may be better off telling us the overall problem that you&#39;re trying to solve rather than how you are trying to solve it.","body":"I think that you&#39;re putting much too much importance on variable names, which are almost non-existent in compiled code. Focus on references, here, perhaps a <code>Map&lt;Character, SomeOtherType&gt;</code>. Otherwise, this looks to possibly be an <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">XY Problem</a> type question where you may be better off telling us the overall problem that you&#39;re trying to solve rather than how you are trying to solve it."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1690219927,"post_id":76756656,"comment_id":135319939,"body_markdown":"Does this answer your question? [JAVA - store letters and number of letters in string](https://stackoverflow.com/questions/29981828/java-store-letters-and-number-of-letters-in-string)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/29981828/java-store-letters-and-number-of-letters-in-string\">JAVA - store letters and number of letters in string</a>"}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690229385,"creation_date":1690219363,"answer_id":76756761,"question_id":76756656,"body_markdown":"You can use `Map`:\r\n\r\n```java\r\nMap&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\r\n\r\nfor (char ch = &#39;a&#39;; ch &lt;= &#39;z&#39;; ch++)\r\n    map.put(ch, ch - &#39;a&#39;);\r\n\r\nmap.keySet().forEach(key -&gt; map.merge(key, 1, Integer::sum));   // change value of all variables\r\n\r\nSystem.out.println(map.get(&#39;a&#39;)); // &quot;1&quot;    // individual variable still accessible\r\nSystem.out.println(map.get(&#39;z&#39;)); // &quot;26&quot;\r\n\r\nmap.keySet().forEach(key -&gt; map.merge(key, -1, (prv, one) -&gt; prv * one));   // reassign all variables\r\n\r\nSystem.out.println(map.get(&#39;a&#39;)); // &quot;-1&quot;   // individual variable still accessible\r\nSystem.out.println(map.get(&#39;z&#39;)); // &quot;-26&quot;\r\n\r\nmap.put(&#39;b&#39;, 99);  // modify variables selectively\r\nSystem.out.println(map.get(&#39;b&#39;)); // &quot;99&quot;   // individual variable still accessible\r\n\r\nmap.put(&#39;c&#39;, 0);\r\nSystem.out.println(map.get(&#39;c&#39;)); // &quot;0&quot;    // value in collection updates with value in variable\r\n```\r\n---\r\nI do not know why you want this logic, but I think you should encapsulate it. For this reason, probably a single `Map` is not the best choice. It&#39;s better to write a separate class with required logic.\r\n\r\n```java\r\n@NoArgsConstructor    \r\npublic final class Data {\r\n\r\n    private final int[] arr = new int[26];\r\n\r\n    {\r\n        for (int i = 0; i &lt; arr.length; i++)\r\n            arr[i] = i;\r\n    }\r\n\r\n    public int getA() { return arr[getOffs(&#39;a&#39;)]; }\r\n    public int getB() { return arr[getOffs(&#39;b&#39;)]; }\r\n    public int getC() { return arr[getOffs(&#39;c&#39;)]; }\r\n    // other getters\r\n    public int getZ() { return arr[getOffs(&#39;z&#39;)]; }\r\n\r\n    public void setA(int a) { arr[getOffs(&#39;a&#39;)] = a; }\r\n    public void setB(int b) { arr[getOffs(&#39;b&#39;)] = b; }\r\n    public void setC(int c) { arr[getOffs(&#39;c&#39;)] = c; }\r\n    // other setters\r\n    public void setD(int d) { arr[getOffs(&#39;d&#39;)] = d; }\r\n\r\n    public void update(IntFunction&lt;Integer&gt; func) {\r\n        for (int i = 0; i &lt; arr.length; i++)\r\n            arr[i] = func.apply(arr[i]);\r\n    }\r\n\r\n    private static int getOffs(char ch) { return Character.toLowerCase(ch) - &#39;a&#39;; }\r\n\r\n}\r\n```\r\nSo the client code will look like this:\r\n```java\r\nData data = new Data();\r\n\r\ndata.update(val -&gt; val + 1);   // change value of all variables\r\n\r\nSystem.out.println(data.getA()); // &quot;1&quot;    // individual variable still accessible\r\nSystem.out.println(data.getZ()); // &quot;26&quot;\r\n\r\ndata.update(val -&gt; val * -1);   // reassign all variables\r\n\r\nSystem.out.println(data.getA()); // &quot;-1&quot;   // individual variable still accessible\r\nSystem.out.println(data.getZ()); // &quot;-26&quot;\r\n\r\ndata.setB(99);  // modify variables selectively\r\nSystem.out.println(data.getB()); // &quot;99&quot;   // individual variable still accessible\r\n\r\n\r\ndata.setC(0);\r\nSystem.out.println(data.getC()); // &quot;0&quot;    // value in collection updates with value in variable\r\n```\r\n","title":"A way to group variables in a container for collective actions and maintain individual accessibility","body":"<p>You can use <code>Map</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\n\nfor (char ch = 'a'; ch &lt;= 'z'; ch++)\n    map.put(ch, ch - 'a');\n\nmap.keySet().forEach(key -&gt; map.merge(key, 1, Integer::sum));   // change value of all variables\n\nSystem.out.println(map.get('a')); // &quot;1&quot;    // individual variable still accessible\nSystem.out.println(map.get('z')); // &quot;26&quot;\n\nmap.keySet().forEach(key -&gt; map.merge(key, -1, (prv, one) -&gt; prv * one));   // reassign all variables\n\nSystem.out.println(map.get('a')); // &quot;-1&quot;   // individual variable still accessible\nSystem.out.println(map.get('z')); // &quot;-26&quot;\n\nmap.put('b', 99);  // modify variables selectively\nSystem.out.println(map.get('b')); // &quot;99&quot;   // individual variable still accessible\n\nmap.put('c', 0);\nSystem.out.println(map.get('c')); // &quot;0&quot;    // value in collection updates with value in variable\n</code></pre>\n<hr />\n<p>I do not know why you want this logic, but I think you should encapsulate it. For this reason, probably a single <code>Map</code> is not the best choice. It's better to write a separate class with required logic.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NoArgsConstructor    \npublic final class Data {\n\n    private final int[] arr = new int[26];\n\n    {\n        for (int i = 0; i &lt; arr.length; i++)\n            arr[i] = i;\n    }\n\n    public int getA() { return arr[getOffs('a')]; }\n    public int getB() { return arr[getOffs('b')]; }\n    public int getC() { return arr[getOffs('c')]; }\n    // other getters\n    public int getZ() { return arr[getOffs('z')]; }\n\n    public void setA(int a) { arr[getOffs('a')] = a; }\n    public void setB(int b) { arr[getOffs('b')] = b; }\n    public void setC(int c) { arr[getOffs('c')] = c; }\n    // other setters\n    public void setD(int d) { arr[getOffs('d')] = d; }\n\n    public void update(IntFunction&lt;Integer&gt; func) {\n        for (int i = 0; i &lt; arr.length; i++)\n            arr[i] = func.apply(arr[i]);\n    }\n\n    private static int getOffs(char ch) { return Character.toLowerCase(ch) - 'a'; }\n\n}\n</code></pre>\n<p>So the client code will look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Data data = new Data();\n\ndata.update(val -&gt; val + 1);   // change value of all variables\n\nSystem.out.println(data.getA()); // &quot;1&quot;    // individual variable still accessible\nSystem.out.println(data.getZ()); // &quot;26&quot;\n\ndata.update(val -&gt; val * -1);   // reassign all variables\n\nSystem.out.println(data.getA()); // &quot;-1&quot;   // individual variable still accessible\nSystem.out.println(data.getZ()); // &quot;-26&quot;\n\ndata.setB(99);  // modify variables selectively\nSystem.out.println(data.getB()); // &quot;99&quot;   // individual variable still accessible\n\n\ndata.setC(0);\nSystem.out.println(data.getC()); // &quot;0&quot;    // value in collection updates with value in variable\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690234754,"creation_date":1690234754,"answer_id":76758172,"question_id":76756656,"body_markdown":"&gt; _&quot;... It is feasible to use Array / ArrayList to do all the above but at the same time I still want to keep the variable name.&quot;_\r\n\r\nThere isn&#39;t a syntax; you&#39;ll have to use a class&amp;mdash;or as you mentioned an _array_ or _List_.\r\n\r\nAs someone else has mentioned, you could use a _[Map](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html)_ and then use the key as the variable name.\r\n\r\nTypically what you&#39;re looking for would be part of a _[scripting language](https://en.wikipedia.org/wiki/Scripting_language)_.  \r\n_Java_ is a _[programming language](https://en.wikipedia.org/wiki/Programming_language)_, so it doesn&#39;t have the shortcut you&#39;re looking for.\r\n\r\n_[Python](https://en.wikipedia.org/wiki/Python_(programming_language))_ has many shortcuts like this.  \r\nIt _may_ have the syntax you&#39;re looking for, I am not sure.\r\n\r\nResearch different types of _scripting languages_, and you may find this exact abstraction.\r\n\r\nI believe the easiest way to achieve this would be to store the values within an array.  \r\nSubsequently, just create a method for each of the procedures required.\r\n\r\n```java\r\nclass Values {\r\n    int[] values;\r\n\r\n    Values(int[] values) {\r\n        this.values = values;\r\n    }\r\n\r\n    void set(char letter, int value) {\r\n        switch (letter) {\r\n            case &#39;a&#39; -&gt; values[0] = value;\r\n            case &#39;b&#39; -&gt; values[1] = value;\r\n            case &#39;c&#39; -&gt; values[2] = value;\r\n            // ...\r\n            case &#39;z&#39; -&gt; values[25];\r\n            default -&gt; throw new IllegalArgumentException();\r\n        }\r\n    }\r\n\r\n    int get(char letter) {\r\n        return switch (letter) {\r\n            case &#39;a&#39; -&gt; values[0];\r\n            case &#39;b&#39; -&gt; values[1];\r\n            case &#39;c&#39; -&gt; values[2];\r\n            // ...\r\n            case &#39;z&#39; -&gt; values[25];\r\n            default -&gt; throw new IllegalArgumentException();\r\n        };\r\n    }\r\n}\r\n```","title":"A way to group variables in a container for collective actions and maintain individual accessibility","body":"<blockquote>\n<p><em>&quot;... It is feasible to use Array / ArrayList to do all the above but at the same time I still want to keep the variable name.&quot;</em></p>\n</blockquote>\n<p>There isn't a syntax; you'll have to use a class—or as you mentioned an <em>array</em> or <em>List</em>.</p>\n<p>As someone else has mentioned, you could use a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\">Map</a></em> and then use the key as the variable name.</p>\n<p>Typically what you're looking for would be part of a <em><a href=\"https://en.wikipedia.org/wiki/Scripting_language\" rel=\"nofollow noreferrer\">scripting language</a></em>.<br />\n<em>Java</em> is a <em><a href=\"https://en.wikipedia.org/wiki/Programming_language\" rel=\"nofollow noreferrer\">programming language</a></em>, so it doesn't have the shortcut you're looking for.</p>\n<p><em><a href=\"https://en.wikipedia.org/wiki/Python_(programming_language)\" rel=\"nofollow noreferrer\">Python</a></em> has many shortcuts like this.<br />\nIt <em>may</em> have the syntax you're looking for, I am not sure.</p>\n<p>Research different types of <em>scripting languages</em>, and you may find this exact abstraction.</p>\n<p>I believe the easiest way to achieve this would be to store the values within an array.<br />\nSubsequently, just create a method for each of the procedures required.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Values {\n    int[] values;\n\n    Values(int[] values) {\n        this.values = values;\n    }\n\n    void set(char letter, int value) {\n        switch (letter) {\n            case 'a' -&gt; values[0] = value;\n            case 'b' -&gt; values[1] = value;\n            case 'c' -&gt; values[2] = value;\n            // ...\n            case 'z' -&gt; values[25];\n            default -&gt; throw new IllegalArgumentException();\n        }\n    }\n\n    int get(char letter) {\n        return switch (letter) {\n            case 'a' -&gt; values[0];\n            case 'b' -&gt; values[1];\n            case 'c' -&gt; values[2];\n            // ...\n            case 'z' -&gt; values[25];\n            default -&gt; throw new IllegalArgumentException();\n        };\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14637661,"reputation":69,"user_id":10571290,"display_name":"Martin Ma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1690234754,"creation_date":1690218366,"question_id":76756656,"body_markdown":"I have multiple variables:\r\n\r\n```\r\nint a = 0;\r\nint b = 1;\r\nint c = 2;\r\n//...\r\nint z = 25;\r\n```\r\n\r\nIs there an efficient way to perform actions on all of them, or selectively? And at the same time each variables can be accessed individually? Like the following, just an imagination:\r\n\r\n```\r\nCollection col = new Collection(a...z);   // group all variables\r\n\r\nfor (int alphabet : col) {                // change value of all variables\r\n    alphabet += 1;\r\n}\r\nSystem.out.print(a.toString()); // &quot;1&quot;    // individual variable still accessible\r\nSystem.out.print(z.toString()); // &quot;26&quot;\r\n\r\nfor (int alphabet : col) {                // reassign all variables\r\n    int newAlphabet = alphabet * -1;\r\n    alphabet = newAlphabet;\r\n}\r\nSystem.out.print(a.toString()); // &quot;-1&quot;   // individual variable still accessible\r\nSystem.out.print(z.toString()); // &quot;-26&quot;\r\n\r\ncol.getIndex(1).set(99);                  // modify variables selectively\r\nSystem.out.print(b.toString()); // &quot;99&quot;   // individual variable still accessible\r\n\r\nc = 0;\r\nSystem.out.print(\r\n    col.getIndex(2).toString()); // &quot;0&quot;   // value in collection updates with value in variable\r\n```\r\n\r\nIt is feasible to use Array / ArrayList to do all the above but at the same time I still want to keep the variable name.","title":"A way to group variables in a container for collective actions and maintain individual accessibility","body":"<p>I have multiple variables:</p>\n<pre><code>int a = 0;\nint b = 1;\nint c = 2;\n//...\nint z = 25;\n</code></pre>\n<p>Is there an efficient way to perform actions on all of them, or selectively? And at the same time each variables can be accessed individually? Like the following, just an imagination:</p>\n<pre><code>Collection col = new Collection(a...z);   // group all variables\n\nfor (int alphabet : col) {                // change value of all variables\n    alphabet += 1;\n}\nSystem.out.print(a.toString()); // &quot;1&quot;    // individual variable still accessible\nSystem.out.print(z.toString()); // &quot;26&quot;\n\nfor (int alphabet : col) {                // reassign all variables\n    int newAlphabet = alphabet * -1;\n    alphabet = newAlphabet;\n}\nSystem.out.print(a.toString()); // &quot;-1&quot;   // individual variable still accessible\nSystem.out.print(z.toString()); // &quot;-26&quot;\n\ncol.getIndex(1).set(99);                  // modify variables selectively\nSystem.out.print(b.toString()); // &quot;99&quot;   // individual variable still accessible\n\nc = 0;\nSystem.out.print(\n    col.getIndex(2).toString()); // &quot;0&quot;   // value in collection updates with value in variable\n</code></pre>\n<p>It is feasible to use Array / ArrayList to do all the above but at the same time I still want to keep the variable name.</p>\n"},{"tags":["java","file","binary","persistent-storage"],"comments":[{"owner":{"account_id":116164,"reputation":56940,"user_id":304725,"accept_rate":84,"display_name":"Mark Szymanski"},"score":0,"creation_date":1276390255,"post_id":3030642,"comment_id":3099693,"body_markdown":"I changed my question because I guess I don&#39;t want to write classes.","body":"I changed my question because I guess I don&#39;t want to write classes."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1473068099,"post_id":3030642,"comment_id":65986846,"body_markdown":"Easier than what?","body":"Easier than what?"}],"answers":[{"tags":[],"owner":{"account_id":130930,"reputation":67596,"user_id":330565,"accept_rate":79,"display_name":"Nikita Rybak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1276390130,"creation_date":1276390130,"answer_id":3030654,"question_id":3030642,"body_markdown":"You need to write object, not class, right? Because classes are already compiled to binary .class files.\r\n\r\nTry ObjectOutputStream, there&#39;s an example  \r\nhttp://java.sun.com/javase/6/docs/api/java/io/ObjectOutputStream.html","title":"Write Java objects to file","body":"<p>You need to write object, not class, right? Because classes are already compiled to binary .class files.</p>\n\n<p>Try ObjectOutputStream, there's an example<br>\n<a href=\"http://java.sun.com/javase/6/docs/api/java/io/ObjectOutputStream.html\" rel=\"nofollow noreferrer\">http://java.sun.com/javase/6/docs/api/java/io/ObjectOutputStream.html</a></p>\n"},{"tags":[],"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1276391369,"creation_date":1276390205,"answer_id":3030659,"question_id":3030642,"body_markdown":"You could   \r\n\r\n 1. Serialize the Arrays, or a class\r\n    that contains the arrays.   \r\n 2. Write the arrays as two lines in a formatted\r\n        way, such as JSON,XML or CSV.\r\n\r\nHere is some code for the first one (You could replace the Queue with an array)\r\n**Serialize**   \r\n\r\n    public static void main(String args[]) {\r\n      String[][] theData = new String[2][1];\r\n      \r\n      theData[0][0] = (&quot;r0 c1&quot;);\r\n      theData[1][0] = (&quot;r1 c1&quot;);\r\n      System.out.println(theData.toString());\r\n      \r\n      // serialize the Queue\r\n      System.out.println(&quot;serializing theData&quot;);\r\n      try {\r\n          FileOutputStream fout = new FileOutputStream(&quot;thedata.dat&quot;);\r\n          ObjectOutputStream oos = new ObjectOutputStream(fout);\r\n          oos.writeObject(theData);\r\n          oos.close();\r\n          }\r\n       catch (Exception e) { e.printStackTrace(); }\r\n    }\r\n\r\n**Deserialize**  \r\n\r\n    public static void main(String args[]) {\r\n       String[][] theData;\r\n        \r\n       // unserialize the Queue\r\n       System.out.println(&quot;unserializing theQueue&quot;);\r\n       try {\r\n        FileInputStream fin = new FileInputStream(&quot;thedata.dat&quot;);\r\n        ObjectInputStream ois = new ObjectInputStream(fin);\r\n        theData = (Queue) ois.readObject();\r\n        ois.close();\r\n        }\r\n       catch (Exception e) { e.printStackTrace(); }\r\n         \r\n       System.out.println(theData.toString());     \r\n    }\r\n\r\nThe second one is more complicated, but has the benefit of being human as well as readable by other languages.\r\n\r\n**Read and Write as XML**\r\n\r\n    import java.beans.XMLEncoder;\r\n    import java.beans.XMLDecoder;\r\n    import java.io.*;\r\n    \r\n    public class XMLSerializer {\r\n        public static void write(String[][] f, String filename) throws Exception{\r\n            XMLEncoder encoder =\r\n               new XMLEncoder(\r\n                  new BufferedOutputStream(\r\n                    new FileOutputStream(filename)));\r\n            encoder.writeObject(f);\r\n            encoder.close();\r\n        }\r\n    \r\n        public static String[][] read(String filename) throws Exception {\r\n            XMLDecoder decoder =\r\n                new XMLDecoder(new BufferedInputStream(\r\n                    new FileInputStream(filename)));\r\n            String[][] o = (String[][])decoder.readObject();\r\n            decoder.close();\r\n            return o;\r\n        }\r\n    }\r\n\r\n**To and From JSON**\r\n\r\nGoogle has a good library to convert to and from JSON at http://code.google.com/p/google-gson/  You could simply write your object to JSOn and then write it to file. To read do the opposite.","title":"Write Java objects to file","body":"<p>You could   </p>\n\n<ol>\n<li>Serialize the Arrays, or a class\nthat contains the arrays.   </li>\n<li>Write the arrays as two lines in a formatted\n    way, such as JSON,XML or CSV.</li>\n</ol>\n\n<p>Here is some code for the first one (You could replace the Queue with an array)\n<strong>Serialize</strong>   </p>\n\n<pre><code>public static void main(String args[]) {\n  String[][] theData = new String[2][1];\n\n  theData[0][0] = (\"r0 c1\");\n  theData[1][0] = (\"r1 c1\");\n  System.out.println(theData.toString());\n\n  // serialize the Queue\n  System.out.println(\"serializing theData\");\n  try {\n      FileOutputStream fout = new FileOutputStream(\"thedata.dat\");\n      ObjectOutputStream oos = new ObjectOutputStream(fout);\n      oos.writeObject(theData);\n      oos.close();\n      }\n   catch (Exception e) { e.printStackTrace(); }\n}\n</code></pre>\n\n<p><strong>Deserialize</strong>  </p>\n\n<pre><code>public static void main(String args[]) {\n   String[][] theData;\n\n   // unserialize the Queue\n   System.out.println(\"unserializing theQueue\");\n   try {\n    FileInputStream fin = new FileInputStream(\"thedata.dat\");\n    ObjectInputStream ois = new ObjectInputStream(fin);\n    theData = (Queue) ois.readObject();\n    ois.close();\n    }\n   catch (Exception e) { e.printStackTrace(); }\n\n   System.out.println(theData.toString());     \n}\n</code></pre>\n\n<p>The second one is more complicated, but has the benefit of being human as well as readable by other languages.</p>\n\n<p><strong>Read and Write as XML</strong></p>\n\n<pre><code>import java.beans.XMLEncoder;\nimport java.beans.XMLDecoder;\nimport java.io.*;\n\npublic class XMLSerializer {\n    public static void write(String[][] f, String filename) throws Exception{\n        XMLEncoder encoder =\n           new XMLEncoder(\n              new BufferedOutputStream(\n                new FileOutputStream(filename)));\n        encoder.writeObject(f);\n        encoder.close();\n    }\n\n    public static String[][] read(String filename) throws Exception {\n        XMLDecoder decoder =\n            new XMLDecoder(new BufferedInputStream(\n                new FileInputStream(filename)));\n        String[][] o = (String[][])decoder.readObject();\n        decoder.close();\n        return o;\n    }\n}\n</code></pre>\n\n<p><strong>To and From JSON</strong></p>\n\n<p>Google has a good library to convert to and from JSON at <a href=\"http://code.google.com/p/google-gson/\" rel=\"noreferrer\">http://code.google.com/p/google-gson/</a>  You could simply write your object to JSOn and then write it to file. To read do the opposite.</p>\n"},{"tags":[],"owner":{"account_id":79742,"reputation":19393,"user_id":225899,"accept_rate":85,"display_name":"James P."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1473066884,"creation_date":1276394833,"answer_id":3030819,"question_id":3030642,"body_markdown":"One possibility besides serialization is to write Objects to XML files to make them more human-readable. The XStream API is capable of this and uses an approach that is similar to serialization.\r\n\r\nhttp://x-stream.github.io/","title":"Write Java objects to file","body":"<p>One possibility besides serialization is to write Objects to XML files to make them more human-readable. The XStream API is capable of this and uses an approach that is similar to serialization.</p>\n\n<p><a href=\"http://x-stream.github.io/\" rel=\"nofollow noreferrer\">http://x-stream.github.io/</a></p>\n"},{"tags":[],"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1276411679,"creation_date":1276411679,"answer_id":3031340,"question_id":3030642,"body_markdown":"You can do it using Java&#39;s [serialization][1] mechanism, but beware that serialization is not a good solution for long-term persistent storage of objects. The reason for this is that serialized objects are very tightly coupled to your Java code: if you change your program, then the serialized data files become unreadable, because they are not compatible anymore with your Java code. Serialization is good for temporary storage (for example for an on-disk cache) or for transferring objects over a network.\r\n\r\nFor long-term storage, you should use a standard and well-documented format (for example XML, JSON or something else) that is not tightly coupled to your Java code.\r\n\r\nIf, for some reason, you absolutely want to use a binary format, then there are several options available, for example [Google protocol buffers][2] or [Hessian][3].\r\n\r\n\r\n  [1]: http://www.deitel.com/articles/java_tutorials/20050923/IntroductionToObjectSerialization.html\r\n  [2]: http://code.google.com/intl/nl-NL/apis/protocolbuffers/\r\n  [3]: http://hessian.caucho.com/","title":"Write Java objects to file","body":"<p>You can do it using Java's <a href=\"http://www.deitel.com/articles/java_tutorials/20050923/IntroductionToObjectSerialization.html\" rel=\"nofollow noreferrer\">serialization</a> mechanism, but beware that serialization is not a good solution for long-term persistent storage of objects. The reason for this is that serialized objects are very tightly coupled to your Java code: if you change your program, then the serialized data files become unreadable, because they are not compatible anymore with your Java code. Serialization is good for temporary storage (for example for an on-disk cache) or for transferring objects over a network.</p>\n\n<p>For long-term storage, you should use a standard and well-documented format (for example XML, JSON or something else) that is not tightly coupled to your Java code.</p>\n\n<p>If, for some reason, you absolutely want to use a binary format, then there are several options available, for example <a href=\"http://code.google.com/intl/nl-NL/apis/protocolbuffers/\" rel=\"nofollow noreferrer\">Google protocol buffers</a> or <a href=\"http://hessian.caucho.com/\" rel=\"nofollow noreferrer\">Hessian</a>.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1276416769,"creation_date":1276415772,"answer_id":3031509,"question_id":3030642,"body_markdown":"If you want to write arrays of String, you may be better off with a text file.  The advantage of using a text file is that it can be easily viewed, edited and is usuable by many other tools in your system which mean you don&#39;t have to have to write these tools yourself.  \r\n\r\nYou can also find that a simple text format will be faster and more compact than using XML or JSON.  Note: Those formats are more useful for complex data structures.\r\n\r\n    public static void writeArray(PrintStream ps, String... strings) {\r\n        for (String string : strings) {\r\n            assert !string.contains(&quot;\\n&quot;) &amp;&amp; string.length()&gt;0;\r\n            ps.println(strings);\r\n        }\r\n        ps.println();\r\n    }\r\n\r\n    public static String[] readArray(BufferedReader br) throws IOException {\r\n        List&lt;String&gt; strings = new ArrayList&lt;String&gt;();\r\n        String string;\r\n        while((string = br.readLine()) != null) {\r\n            if (string.length() == 0)\r\n                break;\r\n            strings.add(string);\r\n        }\r\n        return strings.toArray(new String[strings.size()]);\r\n    }\r\n\r\n\r\nIf your start with\r\n\r\n    String[][] theData = { { &quot;a0 r0&quot;, &quot;a0 r1&quot;, &quot;a0 r2&quot; } {&quot;r1 c1&quot;} }; \r\n\r\nThis could result in \r\n\r\n    a0 r0\r\n    a0 r1\r\n    a0 r2\r\n    \r\n    r1 c1\r\n    \r\n\r\nAs you can see this is easy to edit/view.\r\n\r\nThis makes some assumptions about what a string can contain (see the asset).  If these assumptions are not valid, there are way of working around this.\r\n\r\n","title":"Write Java objects to file","body":"<p>If you want to write arrays of String, you may be better off with a text file.  The advantage of using a text file is that it can be easily viewed, edited and is usuable by many other tools in your system which mean you don't have to have to write these tools yourself.  </p>\n\n<p>You can also find that a simple text format will be faster and more compact than using XML or JSON.  Note: Those formats are more useful for complex data structures.</p>\n\n<pre><code>public static void writeArray(PrintStream ps, String... strings) {\n    for (String string : strings) {\n        assert !string.contains(\"\\n\") &amp;&amp; string.length()&gt;0;\n        ps.println(strings);\n    }\n    ps.println();\n}\n\npublic static String[] readArray(BufferedReader br) throws IOException {\n    List&lt;String&gt; strings = new ArrayList&lt;String&gt;();\n    String string;\n    while((string = br.readLine()) != null) {\n        if (string.length() == 0)\n            break;\n        strings.add(string);\n    }\n    return strings.toArray(new String[strings.size()]);\n}\n</code></pre>\n\n<p>If your start with</p>\n\n<pre><code>String[][] theData = { { \"a0 r0\", \"a0 r1\", \"a0 r2\" } {\"r1 c1\"} }; \n</code></pre>\n\n<p>This could result in </p>\n\n<pre><code>a0 r0\na0 r1\na0 r2\n\nr1 c1\n</code></pre>\n\n<p>As you can see this is easy to edit/view.</p>\n\n<p>This makes some assumptions about what a string can contain (see the asset).  If these assumptions are not valid, there are way of working around this.</p>\n"},{"tags":[],"owner":{"account_id":8628424,"reputation":91,"user_id":6460906,"display_name":"Dmitrii Podlesnykh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690234712,"creation_date":1690234712,"answer_id":76758170,"question_id":3030642,"body_markdown":"You can **Serialize** and **Deserialize** your custom Object.\r\n\r\nHow to implement serialization:\r\n\r\n 1. add `implements Serializable` for your class.\r\n 2. implement method `private void writeObject(ObjectOutputStream out) throws IOException;`\r\n 3. implement `private void readObject(ObjectInputStream in) throws IOException, ClassNotFoundException;`\r\n\r\nYou can use a Serializable interface for your implementation:\r\n\r\n\r\n    public class Example implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n        private String ExampleDescription exampleDescription;\r\n    \r\n        // setters and getters\r\n    \r\n        private void writeObject(ObjectOutputStream oos) \r\n          throws IOException {\r\n            oos.defaultWriteObject();\r\n            oos.writeObject(exampleDescription.getMainInformation());\r\n        }\r\n    \r\n        private void readObject(ObjectInputStream ois) \r\n          throws ClassNotFoundException, IOException {\r\n            ois.defaultReadObject();\r\n            String exampleDescription = (String) ois.readObject();\r\n            this.setExampleDescription(exampleDescription );\r\n        }\r\n    }\r\n\r\nMore details: [Baeldung: 3.3. Custom Serialization in Java][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-serialization#3-custom-serialization-in-java","title":"Write Java objects to file","body":"<p>You can <strong>Serialize</strong> and <strong>Deserialize</strong> your custom Object.</p>\n<p>How to implement serialization:</p>\n<ol>\n<li>add <code>implements Serializable</code> for your class.</li>\n<li>implement method <code>private void writeObject(ObjectOutputStream out) throws IOException;</code></li>\n<li>implement <code>private void readObject(ObjectInputStream in) throws IOException, ClassNotFoundException;</code></li>\n</ol>\n<p>You can use a Serializable interface for your implementation:</p>\n<pre><code>public class Example implements Serializable {\n    private static final long serialVersionUID = 1L;\n    private String ExampleDescription exampleDescription;\n\n    // setters and getters\n\n    private void writeObject(ObjectOutputStream oos) \n      throws IOException {\n        oos.defaultWriteObject();\n        oos.writeObject(exampleDescription.getMainInformation());\n    }\n\n    private void readObject(ObjectInputStream ois) \n      throws ClassNotFoundException, IOException {\n        ois.defaultReadObject();\n        String exampleDescription = (String) ois.readObject();\n        this.setExampleDescription(exampleDescription );\n    }\n}\n</code></pre>\n<p>More details: <a href=\"https://www.baeldung.com/java-serialization#3-custom-serialization-in-java\" rel=\"nofollow noreferrer\">Baeldung: 3.3. Custom Serialization in Java</a></p>\n"}],"owner":{"account_id":116164,"reputation":56940,"user_id":304725,"accept_rate":84,"display_name":"Mark Szymanski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16023,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":3031509,"answer_count":6,"score":4,"last_activity_date":1690234712,"creation_date":1276389937,"question_id":3030642,"body_markdown":"Is it possible to write objects in Java to a binary file?  The objects I want to write would be 2 arrays of `String` objects.  The reason I want to do this is to save persistent data. If there is some easier way to do this let me know.\r\n","title":"Write Java objects to file","body":"<p>Is it possible to write objects in Java to a binary file?  The objects I want to write would be 2 arrays of <code>String</code> objects.  The reason I want to do this is to save persistent data. If there is some easier way to do this let me know.</p>\n"},{"tags":["java","android","bitmap","resize"],"answers":[{"tags":[],"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1368114148,"creation_date":1368114148,"answer_id":16465732,"question_id":16465686,"body_markdown":"Try [Bitmap.createScaledBitmap][1].\r\nIt also has an option to filter the source. \r\n\r\n  [1]: http://developer.android.com/reference/android/graphics/Bitmap.html#createScaledBitmap%28android.graphics.Bitmap,%20int,%20int,%20boolean%29\r\n","title":"Android: Resizing Bitmaps without losing quality","body":"<p>Try <a href=\"http://developer.android.com/reference/android/graphics/Bitmap.html#createScaledBitmap%28android.graphics.Bitmap,%20int,%20int,%20boolean%29\" rel=\"nofollow\">Bitmap.createScaledBitmap</a>.\nIt also has an option to filter the source. </p>\n"},{"tags":[],"owner":{"account_id":2719286,"reputation":5496,"user_id":2345913,"display_name":"CRUSADER"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1368114425,"creation_date":1368114425,"answer_id":16465798,"question_id":16465686,"body_markdown":"Try below mentioned code for resizing bitmap.   \r\n\r\n\r\n\r\n     public Bitmap get_Resized_Bitmap(Bitmap bmp, int newHeight, int newWidth) {\r\n            int width = bmp.getWidth();\r\n            int height = bmp.getHeight();\r\n            float scaleWidth = ((float) newWidth) / width;\r\n            float scaleHeight = ((float) newHeight) / height;\r\n            // CREATE A MATRIX FOR THE MANIPULATION\r\n            Matrix matrix = new Matrix();\r\n            // RESIZE THE BIT MAP\r\n            matrix.postScale(scaleWidth, scaleHeight);\r\n        \r\n            // &quot;RECREATE&quot; THE NEW BITMAP\r\n            Bitmap newBitmap = Bitmap.createBitmap(bmp, 0, 0, width, height, matrix, false);\r\n            return newBitmap ;\r\n        }\r\n\r\n\r\nI used this code to downsize my bitmap, and its quality, well.. , was acceptable.\r\n\r\n\r\nHope this helps.","title":"Android: Resizing Bitmaps without losing quality","body":"<p>Try below mentioned code for resizing bitmap.   </p>\n\n<pre><code> public Bitmap get_Resized_Bitmap(Bitmap bmp, int newHeight, int newWidth) {\n        int width = bmp.getWidth();\n        int height = bmp.getHeight();\n        float scaleWidth = ((float) newWidth) / width;\n        float scaleHeight = ((float) newHeight) / height;\n        // CREATE A MATRIX FOR THE MANIPULATION\n        Matrix matrix = new Matrix();\n        // RESIZE THE BIT MAP\n        matrix.postScale(scaleWidth, scaleHeight);\n\n        // \"RECREATE\" THE NEW BITMAP\n        Bitmap newBitmap = Bitmap.createBitmap(bmp, 0, 0, width, height, matrix, false);\n        return newBitmap ;\n    }\n</code></pre>\n\n<p>I used this code to downsize my bitmap, and its quality, well.. , was acceptable.</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":1481635,"reputation":4422,"user_id":1390874,"accept_rate":67,"display_name":"goRGon"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1690234519,"creation_date":1398045587,"answer_id":23189742,"question_id":16465686,"body_markdown":"A good downscaling algorithm (not nearest neighbor like) consists of just 2 steps (plus calculation of the exact Rect for input/output images crop):\r\n\r\n1. downscale using ***BitmapFactory.Options::inSampleSize-&gt;BitmapFactory.decodeResource()*** as close as possible to the resolution that you need but not less than it\r\n2. get to the exact resolution by downscaling a little bit using ***Canvas::drawBitmap()***\r\n\r\n[Here is a detailed explanation how SonyMobile resolved this task][1]\r\n\r\n[Here is the source code of the SonyMobile scale utils][2]\r\n\r\n  [1]: https://web.archive.org/web/20171011183652/http://developer.sonymobile.com/2011/06/27/how-to-scale-images-for-your-android-application/\r\n\r\n  [2]: https://web.archive.org/web/20140227233706/http://developer.sonymobile.com/downloads/code-example-module/image-scaling-code-example-for-android/\r\n","title":"Android: Resizing Bitmaps without losing quality","body":"<p>A good downscaling algorithm (not nearest neighbor like) consists of just 2 steps (plus calculation of the exact Rect for input/output images crop):</p>\n<ol>\n<li>downscale using <em><strong>BitmapFactory.Options::inSampleSize-&gt;BitmapFactory.decodeResource()</strong></em> as close as possible to the resolution that you need but not less than it</li>\n<li>get to the exact resolution by downscaling a little bit using <em><strong>Canvas::drawBitmap()</strong></em></li>\n</ol>\n<p><a href=\"https://web.archive.org/web/20171011183652/http://developer.sonymobile.com/2011/06/27/how-to-scale-images-for-your-android-application/\" rel=\"nofollow noreferrer\">Here is a detailed explanation how SonyMobile resolved this task</a></p>\n<p><a href=\"https://web.archive.org/web/20140227233706/http://developer.sonymobile.com/downloads/code-example-module/image-scaling-code-example-for-android/\" rel=\"nofollow noreferrer\">Here is the source code of the SonyMobile scale utils</a></p>\n"},{"tags":[],"owner":{"account_id":19150724,"reputation":197,"user_id":13988696,"display_name":"Patrick Waweru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605265809,"creation_date":1605174253,"answer_id":64801473,"question_id":16465686,"body_markdown":"the best rescaling method I have come across\r\nthe method uses `createScaledBitmap` whereby the height and width are calculated based on the bitmap height and width and a scale ratio hence quality is not lost\r\n\r\n```\r\n public Bitmap resize(Bitmap imaged, int maxWidth, int maxHeight) {\r\n        Bitmap image = imaged;\r\n\r\n        if (maxHeight &gt; 0 &amp;&amp; maxWidth &gt; 0) {\r\n            int width = image.getWidth();\r\n            int height = image.getHeight();\r\n            float ratioBitmap = (float) width / (float) height;\r\n            float ratioMax = (float) maxWidth / (float) maxHeight;\r\n            int finalWidth = maxWidth;\r\n            int finalHeight = maxHeight;\r\n            if (ratioMax &gt; 1) {\r\n                finalWidth = Math.round(((float) maxHeight * ratioBitmap));\r\n            } else {\r\n                finalHeight = Math.round(((float) maxWidth / ratioBitmap));\r\n            }\r\n            return image = Bitmap.createScaledBitmap(image, finalWidth, finalHeight, false);\r\n        }\r\n        return image;\r\n    }\r\n```\r\nhow to use:\r\n```\r\nBitmap resizedBitmap = resize(scrBitMap,640,640);\r\n","title":"Android: Resizing Bitmaps without losing quality","body":"<p>the best rescaling method I have come across\nthe method uses <code>createScaledBitmap</code> whereby the height and width are calculated based on the bitmap height and width and a scale ratio hence quality is not lost</p>\n<pre><code> public Bitmap resize(Bitmap imaged, int maxWidth, int maxHeight) {\n        Bitmap image = imaged;\n\n        if (maxHeight &gt; 0 &amp;&amp; maxWidth &gt; 0) {\n            int width = image.getWidth();\n            int height = image.getHeight();\n            float ratioBitmap = (float) width / (float) height;\n            float ratioMax = (float) maxWidth / (float) maxHeight;\n            int finalWidth = maxWidth;\n            int finalHeight = maxHeight;\n            if (ratioMax &gt; 1) {\n                finalWidth = Math.round(((float) maxHeight * ratioBitmap));\n            } else {\n                finalHeight = Math.round(((float) maxWidth / ratioBitmap));\n            }\n            return image = Bitmap.createScaledBitmap(image, finalWidth, finalHeight, false);\n        }\n        return image;\n    }\n</code></pre>\n<p>how to use:</p>\n<pre><code>Bitmap resizedBitmap = resize(scrBitMap,640,640);\n</code></pre>\n"}],"owner":{"account_id":1952474,"reputation":197,"user_id":1756281,"display_name":"Vahn84"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22848,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":16465732,"answer_count":4,"score":8,"last_activity_date":1690234519,"creation_date":1368114021,"question_id":16465686,"body_markdown":"i&#39;ve really searched through over the entire web before posting. My problem is that i cannot resize bitmap without losing the quality of the image (the quality is really bad and pixelated).\r\n\r\nI take the bitmap from camera and then i have to downscale it, so i can upload it to the server much faster.\r\n\r\nThis is the function that does the sampling\r\n\r\n    public Bitmap resizeBitmap(Bitmap bitmap){\r\n\t\t\t Canvas canvas = new Canvas();\r\n\t\t\t Bitmap resizedBitmap = null;\r\n\t\t\t if (bitmap !=null) {\r\n\t\t\t        int h = bitmap.getHeight();\r\n\t\t\t        int w = bitmap.getWidth();\r\n\t\t\t        int newWidth=0;\r\n\t\t\t        int newHeight=0;\r\n\t\t\t        \r\n\t\t\t        if(h&gt;w){\r\n\t\t\t        \tnewWidth = 600;\r\n\t\t\t        \tnewHeight = 800;\r\n\t\t\t        }\r\n\t\t\t        \r\n\t\t\t        if(w&gt;h){\r\n\t\t\t        \tnewWidth = 800;\r\n\t\t\t        \tnewHeight = 600;\r\n\t\t\t\t        }\r\n\t\t\t        \r\n\t\t\t        float scaleWidth = ((float) newWidth) / w;\r\n\t\t\t        float scaleHeight = ((float) newHeight) / h;\r\n\t\t\t        \r\n\t\t\t        \r\n\t\t\t        \r\n\t\t\t        Matrix matrix = new Matrix();\r\n\t\t\t        // resize the bit map\r\n\t\t\t        matrix.preScale(scaleWidth, scaleHeight);\r\n\t\t\t        \r\n\t\t\t        resizedBitmap  = Bitmap.createBitmap(bitmap, 0, 0, w, h, matrix, true);\r\n\t\t\t\t\t\r\n\t\t\t\t\t \r\n\t\t\t        \r\n\t\t\t        Paint paint = new Paint();\r\n\t\t\t        paint.setAntiAlias(true);\r\n\t\t\t        paint.setFilterBitmap(true);\r\n\t\t\t        paint.setDither(true);\r\n\t\t\t        \t\t\t        \r\n\t\t\t        canvas.drawBitmap(resizedBitmap, matrix, paint);\r\n\t\t\t        \r\n\t\t\t        \r\n\t\t\t       \r\n\t\t\t    }\r\n\t\t\t \r\n\t\t\t \r\n\t\t\treturn resizedBitmap;\t\r\n\r\nand this is how i get the image from activity result\r\n\r\n     protected void onActivityResult(int requestCode, int resultCode,\r\n\t             Intent data) {\r\n\t\t\t if(resultCode != RESULT_CANCELED){\r\n\t\t\t \r\n\t         if (requestCode == 0) {\r\n\t             if (resultCode == RESULT_OK) {\r\n\t            \t \r\n\t            \t \r\n\t            \t  \tgetContentResolver().notifyChange(mImageUri, null);\r\n\t            \t    ContentResolver cr = this.getContentResolver();\r\n\t            \t    \r\n\t            \t    try\r\n\t            \t    {\r\n\t            \t        b = android.provider.MediaStore.Images.Media.getBitmap(cr, mImageUri);\r\n\t            \t        Log.d(&quot;foto&quot;, Integer.toString(b.getWidth()));\r\n\t\t            \t    Log.d(&quot;foto&quot;, Integer.toString(b.getHeight()));\r\n\t\t            \t    addPhoto.setImageBitmap(b);\r\n\t            \t     \r\n\t            \t    }\r\n\t            \t    catch (Exception e)\r\n\t            \t    {\r\n\t            \t        Toast.makeText(this, &quot;Failed to load&quot;, Toast.LENGTH_SHORT).show();\r\n\t            \t        Log.d(&quot;TAG&quot;, &quot;Failed to load&quot;, e);\r\n\t            \t    }\r\n\r\n\t            \t   \r\n\t            \t    \r\n\t             }\r\n\t         }\r\n\r\nI&#39;m starting to think that the best way to get a small picture size is to set the camera resolution. Anyone else can help?","title":"Android: Resizing Bitmaps without losing quality","body":"<p>i've really searched through over the entire web before posting. My problem is that i cannot resize bitmap without losing the quality of the image (the quality is really bad and pixelated).</p>\n\n<p>I take the bitmap from camera and then i have to downscale it, so i can upload it to the server much faster.</p>\n\n<p>This is the function that does the sampling</p>\n\n<pre><code>public Bitmap resizeBitmap(Bitmap bitmap){\n         Canvas canvas = new Canvas();\n         Bitmap resizedBitmap = null;\n         if (bitmap !=null) {\n                int h = bitmap.getHeight();\n                int w = bitmap.getWidth();\n                int newWidth=0;\n                int newHeight=0;\n\n                if(h&gt;w){\n                    newWidth = 600;\n                    newHeight = 800;\n                }\n\n                if(w&gt;h){\n                    newWidth = 800;\n                    newHeight = 600;\n                    }\n\n                float scaleWidth = ((float) newWidth) / w;\n                float scaleHeight = ((float) newHeight) / h;\n\n\n\n                Matrix matrix = new Matrix();\n                // resize the bit map\n                matrix.preScale(scaleWidth, scaleHeight);\n\n                resizedBitmap  = Bitmap.createBitmap(bitmap, 0, 0, w, h, matrix, true);\n\n\n\n                Paint paint = new Paint();\n                paint.setAntiAlias(true);\n                paint.setFilterBitmap(true);\n                paint.setDither(true);\n\n                canvas.drawBitmap(resizedBitmap, matrix, paint);\n\n\n\n            }\n\n\n        return resizedBitmap;   \n</code></pre>\n\n<p>and this is how i get the image from activity result</p>\n\n<pre><code> protected void onActivityResult(int requestCode, int resultCode,\n             Intent data) {\n         if(resultCode != RESULT_CANCELED){\n\n         if (requestCode == 0) {\n             if (resultCode == RESULT_OK) {\n\n\n                    getContentResolver().notifyChange(mImageUri, null);\n                    ContentResolver cr = this.getContentResolver();\n\n                    try\n                    {\n                        b = android.provider.MediaStore.Images.Media.getBitmap(cr, mImageUri);\n                        Log.d(\"foto\", Integer.toString(b.getWidth()));\n                        Log.d(\"foto\", Integer.toString(b.getHeight()));\n                        addPhoto.setImageBitmap(b);\n\n                    }\n                    catch (Exception e)\n                    {\n                        Toast.makeText(this, \"Failed to load\", Toast.LENGTH_SHORT).show();\n                        Log.d(\"TAG\", \"Failed to load\", e);\n                    }\n\n\n\n             }\n         }\n</code></pre>\n\n<p>I'm starting to think that the best way to get a small picture size is to set the camera resolution. Anyone else can help?</p>\n"},{"tags":["java","generics","java-8"],"comments":[{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":0,"creation_date":1690057347,"post_id":76742116,"comment_id":135300942,"body_markdown":"Could you provde code of `getStdPopAndMean` ?","body":"Could you provde code of <code>getStdPopAndMean</code> ?"},{"owner":{"account_id":8036447,"reputation":464,"user_id":6059393,"accept_rate":77,"display_name":"Belphegor21"},"score":0,"creation_date":1690234462,"post_id":76742116,"comment_id":135322256,"body_markdown":"Sure! Updated question.","body":"Sure! Updated question."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689995942,"creation_date":1689995942,"answer_id":76742163,"question_id":76742116,"body_markdown":"Instead of `Consumer&lt;Double&gt;` and `Supplier&lt;Double&gt;`, you should use `BiConsumer&lt;TestPOJO.TestPOJOBuilder, Double&gt;` and `Function&lt;TestPOJO, Double&gt;` instead. The difference is that the latter functional interfaces&#39; function types all take an extra parameter, representing the object you want to get/set the fields of.\r\n\r\nYou&#39;d use `getter.apply(pojo)` to get the field, and `setter.accept(builder, similarity)` to set a field of the builder.\r\n\r\n    private static final Map&lt;Integer, Pair&lt;BiConsumer&lt;TestPOJO.TestPOJOBuilder, Double&gt;, Function&lt;TestPOJO, Double&gt;&gt;&gt; FUNCTIONS_MAP =\r\n            ImmutableMap.&lt;Integer, Pair&lt;BiConsumer&lt;TestPOJO.TestPOJOBuilder, Double&gt;, Function&lt;TestPOJO, Double&gt;&gt;&gt;builder()\r\n                    .put(0, Pair.of(TestPOJO.TestPOJOBuilder::normFieldA, TestPOJO::getFieldA))\r\n                    .put(1, Pair.of(TestPOJO.TestPOJOBuilder::normFieldB, TestPOJO::getFieldB))\r\n                    .put(2, Pair.of(TestPOJO.TestPOJOBuilder::normFieldC, TestPOJO::getFieldC))\r\n                    .put(3, Pair.of(TestPOJO.TestPOJOBuilder::normFieldD, TestPOJO::getFieldD))\r\n                    .put(4, Pair.of(TestPOJO.TestPOJOBuilder::normFieldE, TestPOJO::getFieldE))\r\n                    .build();\r\n\r\n\r\n    List&lt;TestPOJO&gt; setNormalizedValue(List&lt;TestPOJO&gt; pojos) {\r\n        int i = 0;\r\n        final double[][] rawValue = new double[5][pojos.size()];\r\n        for (TestPOJO pojo: pojos) {\r\n            for (var entry : FUNCTIONS_MAP.entrySet()) {\r\n                final int position = entry.getKey();\r\n                final var getter = entry.getValue().getRight();\r\n                // you can pass the pojo to Function.apply\r\n                rawValue[position][i] = getter.apply(pojo);\r\n            }\r\n            i++;\r\n        }\r\n        final Pair&lt;double[], double[]&gt; stdPopAndMean = getStdPopAndMean(rawValue);\r\n        final double[] stdPop = stdPopAndMean.getLeft();\r\n        final double[] mean = stdPopAndMean.getRight();\r\n\r\n        return pojos.stream()\r\n                .map(p -&gt; {\r\n                            TestPOJO.TestPOJOBuilder builder = p.toBuilder();\r\n                            for (var entry : FUNCTIONS_MAP.entrySet()) {\r\n                                final int position = entry.getKey();\r\n                                final var getter = entry.getValue().getRight();\r\n                                final var setter = entry.getValue().getLeft();\r\n                                final double similarity = getNormalizedValue(getter.apply(p), stdPop[position], mean[position]);\r\n\r\n                                // a BiConsumer takes 2 arguments, allowing you to pass the builder to it\r\n                                setter.accept(builder, similarity);\r\n                            }\r\n                            return builder.build();\r\n\r\n                        }\r\n                )\r\n                .collect(Collectors.toList());\r\n    }","title":"Java generic for getting and setting multiple members from POJO","body":"<p>Instead of <code>Consumer&lt;Double&gt;</code> and <code>Supplier&lt;Double&gt;</code>, you should use <code>BiConsumer&lt;TestPOJO.TestPOJOBuilder, Double&gt;</code> and <code>Function&lt;TestPOJO, Double&gt;</code> instead. The difference is that the latter functional interfaces' function types all take an extra parameter, representing the object you want to get/set the fields of.</p>\n<p>You'd use <code>getter.apply(pojo)</code> to get the field, and <code>setter.accept(builder, similarity)</code> to set a field of the builder.</p>\n<pre><code>private static final Map&lt;Integer, Pair&lt;BiConsumer&lt;TestPOJO.TestPOJOBuilder, Double&gt;, Function&lt;TestPOJO, Double&gt;&gt;&gt; FUNCTIONS_MAP =\n        ImmutableMap.&lt;Integer, Pair&lt;BiConsumer&lt;TestPOJO.TestPOJOBuilder, Double&gt;, Function&lt;TestPOJO, Double&gt;&gt;&gt;builder()\n                .put(0, Pair.of(TestPOJO.TestPOJOBuilder::normFieldA, TestPOJO::getFieldA))\n                .put(1, Pair.of(TestPOJO.TestPOJOBuilder::normFieldB, TestPOJO::getFieldB))\n                .put(2, Pair.of(TestPOJO.TestPOJOBuilder::normFieldC, TestPOJO::getFieldC))\n                .put(3, Pair.of(TestPOJO.TestPOJOBuilder::normFieldD, TestPOJO::getFieldD))\n                .put(4, Pair.of(TestPOJO.TestPOJOBuilder::normFieldE, TestPOJO::getFieldE))\n                .build();\n\n\nList&lt;TestPOJO&gt; setNormalizedValue(List&lt;TestPOJO&gt; pojos) {\n    int i = 0;\n    final double[][] rawValue = new double[5][pojos.size()];\n    for (TestPOJO pojo: pojos) {\n        for (var entry : FUNCTIONS_MAP.entrySet()) {\n            final int position = entry.getKey();\n            final var getter = entry.getValue().getRight();\n            // you can pass the pojo to Function.apply\n            rawValue[position][i] = getter.apply(pojo);\n        }\n        i++;\n    }\n    final Pair&lt;double[], double[]&gt; stdPopAndMean = getStdPopAndMean(rawValue);\n    final double[] stdPop = stdPopAndMean.getLeft();\n    final double[] mean = stdPopAndMean.getRight();\n\n    return pojos.stream()\n            .map(p -&gt; {\n                        TestPOJO.TestPOJOBuilder builder = p.toBuilder();\n                        for (var entry : FUNCTIONS_MAP.entrySet()) {\n                            final int position = entry.getKey();\n                            final var getter = entry.getValue().getRight();\n                            final var setter = entry.getValue().getLeft();\n                            final double similarity = getNormalizedValue(getter.apply(p), stdPop[position], mean[position]);\n\n                            // a BiConsumer takes 2 arguments, allowing you to pass the builder to it\n                            setter.accept(builder, similarity);\n                        }\n                        return builder.build();\n\n                    }\n            )\n            .collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690063305,"creation_date":1690062108,"answer_id":76745880,"question_id":76742116,"body_markdown":"I have collected all logic in one class.\r\n\r\nIn case you have many similar fields in `TestPOJO`, I would recommend you, to split it into a pairs smth. like `fieldX - normFieldX` and use it as mach as you have pairs in the `TestPOJO`.\r\n\r\nBut if you cannot modify this class, I think you can use reflection to get all  pairs at runtime.\r\n\r\n```java\r\npublic final class StatisticsCalculation {\r\n\r\n    public List&lt;TestPOJO&gt; setNormalizedValue(List&lt;TestPOJO&gt; pojos) {\r\n        Map&lt;String, Statistics&gt; idStatistics = calcStat(pojos);\r\n\r\n        return pojos.stream()\r\n                .map(pojo -&gt; setNormFields(idStatistics, pojo))\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n    private static Map&lt;String, Statistics&gt; calcStat(List&lt;TestPOJO&gt; pojos) {\r\n        Map&lt;String, Statistics&gt; map = new HashMap&lt;&gt;();\r\n\r\n        getIds().forEach(id -&gt; {\r\n            double[] values = pojos.stream()\r\n                    .mapToDouble(pojo -&gt; getFieldValue(id, pojo))\r\n                    .toArray();\r\n            map.put(id, calcStatistics(values));\r\n        });\r\n\r\n        return map;\r\n    }\r\n\r\n    private static List&lt;String&gt; getIds() {\r\n        return Arrays.stream(TestPOJO.class.getDeclaredFields())\r\n                .map(Field::getName)\r\n                .filter(fieldName -&gt; fieldName.startsWith(&quot;field&quot;))\r\n                .map(fieldName -&gt; fieldName.substring(5))\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n    private static Statistics calcStatistics(double[] values) {\r\n        return Statistics.builder()\r\n                .sdt(Double.NaN)    // calc real value\r\n                .mean(Double.NaN)   // calc real value\r\n                .build();\r\n    }\r\n\r\n    private static double getFieldValue(String id, TestPOJO pojo) {\r\n        try {\r\n            String fieldName = &quot;field&quot; + id;\r\n            Field field = pojo.getClass().getDeclaredField(fieldName);\r\n            field.setAccessible(true);\r\n            return field.getDouble(pojo);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    private static TestPOJO setNormFields(Map&lt;String, Statistics&gt; idStatistics,\r\n                                          TestPOJO pojo) {\r\n        TestPOJO.TestPOJOBuilder builder = pojo.toBuilder();\r\n\r\n        for (Map.Entry&lt;String, Statistics&gt; entry : idStatistics.entrySet()) {\r\n            double value = getFieldValue(entry.getKey(), pojo);\r\n            double normValue = normalizeValue(value, entry.getValue());\r\n            setNormFieldValue(identry.getKey() normValue, builder);\r\n        }\r\n\r\n        return builder.build();\r\n    }\r\n\r\n    private static void setNormFieldValue(String id,\r\n                                          double normValue,\r\n                                          TestPOJO.TestPOJOBuilder builder) {\r\n        try {\r\n            String fieldName = &quot;normField&quot; + id;\r\n            Method method = builder.getClass().getDeclaredMethod(fieldName,\r\n                                                                 double.class);\r\n            method.invoke(builder, normValue);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    private static double normalizeValue(double value, Statistics statistics) {\r\n        return (value - statistics.mean) / statistics.sdt;\r\n    }\r\n\r\n    @Builder\r\n    private static final class Statistics {\r\n\r\n        private final double sdt;\r\n        private final double mean;\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nClient code will look like this:\r\n```java\r\nList&lt;TestPOJO&gt; pojos = List.of(\r\n        TestPOJO.builder().fieldA(11).fieldB(21).fieldC(31).fieldD(41).fieldE(51).build(),\r\n        TestPOJO.builder().fieldA(12).fieldB(22).fieldC(32).fieldD(42).fieldE(52).build(),\r\n        TestPOJO.builder().fieldA(13).fieldB(23).fieldC(33).fieldD(43).fieldE(53).build());\r\n\r\nList&lt;TestPOJO&gt; res = new StatisticsCalculation().setNormalizedValue(pojos);\r\n```\r\n---\r\nIn case you cannot or do not want to use reflection, so you can replace it with additional code:\r\n```java\r\npublic final class StatisticsCalculation {\r\n\r\n    public List&lt;TestPOJO&gt; setNormalizedValue(List&lt;TestPOJO&gt; pojos, List&lt;Id&gt; ids) {\r\n        Map&lt;Id, Statistics&gt; idStatistics = calcStat(pojos, ids);\r\n\r\n        return pojos.stream()\r\n                .map(pojo -&gt; setNormFields(idStatistics, pojo))\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n    private static Map&lt;Id, Statistics&gt; calcStat(List&lt;TestPOJO&gt; pojos, List&lt;Id&gt; ids) {\r\n        Map&lt;Id, Statistics&gt; map = new HashMap&lt;&gt;();\r\n\r\n        ids.forEach(id -&gt; {\r\n            double[] values = pojos.stream().mapToDouble(id::getFieldValue).toArray();\r\n            map.put(id, calcStatistics(values));\r\n        });\r\n\r\n        return map;\r\n    }\r\n\r\n    private static Statistics calcStatistics(double[] values) {\r\n        return Statistics.builder()\r\n                .sdt(Double.NaN)    // calc real value\r\n                .mean(Double.NaN)   // calc real value\r\n                .build();\r\n    }\r\n\r\n    private static TestPOJO setNormFields(Map&lt;Id, Statistics&gt; idStatistics,\r\n                                          TestPOJO pojo) {\r\n        TestPOJO.TestPOJOBuilder builder = pojo.toBuilder();\r\n\r\n        for (Map.Entry&lt;Id, Statistics&gt; entry : idStatistics.entrySet()) {\r\n            double value = entry.getKey().getFieldValue(pojo);\r\n            double normValue = normalizeValue(value, entry.getValue());\r\n            entry.getKey().setNormFieldValue(normValue, builder);\r\n        }\r\n\r\n        return builder.build();\r\n    }\r\n\r\n    private static double normalizeValue(double value, Statistics statistics) {\r\n        return (value - statistics.mean) / statistics.sdt;\r\n    }\r\n\r\n    @Builder\r\n    private static final class Statistics {\r\n\r\n        private final double sdt;\r\n        private final double mean;\r\n\r\n    }\r\n\r\n    @Builder\r\n    @EqualsAndHashCode\r\n    public static final class Id {\r\n\r\n        private final Function&lt;TestPOJO, Double&gt; getValue;\r\n        private final BiConsumer&lt;TestPOJO.TestPOJOBuilder, Double&gt; setNormValue;\r\n\r\n        public double getFieldValue(TestPOJO pojo) {\r\n            return getValue.apply(pojo);\r\n        }\r\n\r\n        public void setNormFieldValue(double normValue, TestPOJO.TestPOJOBuilder builder) {\r\n            setNormValue.accept(builder, normValue);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\nClient code will look like this:\r\n```java\r\nList&lt;TestPOJO&gt; pojos = List.of(\r\n        TestPOJO.builder().fieldA(11).fieldB(21).fieldC(31).fieldD(41).fieldE(51).build(),\r\n        TestPOJO.builder().fieldA(12).fieldB(22).fieldC(32).fieldD(42).fieldE(52).build(),\r\n        TestPOJO.builder().fieldA(13).fieldB(23).fieldC(33).fieldD(43).fieldE(53).build());\r\nList&lt;StatisticsCalculation.Id&gt; ids = List.of(\r\n        StatisticsCalculation.Id.builder().getValue(TestPOJO::getFieldA).setNormValue(TestPOJO.TestPOJOBuilder::normFieldA).build(),\r\n        StatisticsCalculation.Id.builder().getValue(TestPOJO::getFieldB).setNormValue(TestPOJO.TestPOJOBuilder::normFieldB).build(),\r\n        StatisticsCalculation.Id.builder().getValue(TestPOJO::getFieldC).setNormValue(TestPOJO.TestPOJOBuilder::normFieldC).build(),\r\n        StatisticsCalculation.Id.builder().getValue(TestPOJO::getFieldD).setNormValue(TestPOJO.TestPOJOBuilder::normFieldD).build(),\r\n        StatisticsCalculation.Id.builder().getValue(TestPOJO::getFieldE).setNormValue(TestPOJO.TestPOJOBuilder::normFieldE).build());\r\n\r\nList&lt;TestPOJO&gt; res = new StatisticsCalculation().setNormalizedValue(pojos, ids);\r\n```","title":"Java generic for getting and setting multiple members from POJO","body":"<p>I have collected all logic in one class.</p>\n<p>In case you have many similar fields in <code>TestPOJO</code>, I would recommend you, to split it into a pairs smth. like <code>fieldX - normFieldX</code> and use it as mach as you have pairs in the <code>TestPOJO</code>.</p>\n<p>But if you cannot modify this class, I think you can use reflection to get all  pairs at runtime.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class StatisticsCalculation {\n\n    public List&lt;TestPOJO&gt; setNormalizedValue(List&lt;TestPOJO&gt; pojos) {\n        Map&lt;String, Statistics&gt; idStatistics = calcStat(pojos);\n\n        return pojos.stream()\n                .map(pojo -&gt; setNormFields(idStatistics, pojo))\n                .collect(Collectors.toList());\n    }\n\n    private static Map&lt;String, Statistics&gt; calcStat(List&lt;TestPOJO&gt; pojos) {\n        Map&lt;String, Statistics&gt; map = new HashMap&lt;&gt;();\n\n        getIds().forEach(id -&gt; {\n            double[] values = pojos.stream()\n                    .mapToDouble(pojo -&gt; getFieldValue(id, pojo))\n                    .toArray();\n            map.put(id, calcStatistics(values));\n        });\n\n        return map;\n    }\n\n    private static List&lt;String&gt; getIds() {\n        return Arrays.stream(TestPOJO.class.getDeclaredFields())\n                .map(Field::getName)\n                .filter(fieldName -&gt; fieldName.startsWith(&quot;field&quot;))\n                .map(fieldName -&gt; fieldName.substring(5))\n                .collect(Collectors.toList());\n    }\n\n    private static Statistics calcStatistics(double[] values) {\n        return Statistics.builder()\n                .sdt(Double.NaN)    // calc real value\n                .mean(Double.NaN)   // calc real value\n                .build();\n    }\n\n    private static double getFieldValue(String id, TestPOJO pojo) {\n        try {\n            String fieldName = &quot;field&quot; + id;\n            Field field = pojo.getClass().getDeclaredField(fieldName);\n            field.setAccessible(true);\n            return field.getDouble(pojo);\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private static TestPOJO setNormFields(Map&lt;String, Statistics&gt; idStatistics,\n                                          TestPOJO pojo) {\n        TestPOJO.TestPOJOBuilder builder = pojo.toBuilder();\n\n        for (Map.Entry&lt;String, Statistics&gt; entry : idStatistics.entrySet()) {\n            double value = getFieldValue(entry.getKey(), pojo);\n            double normValue = normalizeValue(value, entry.getValue());\n            setNormFieldValue(identry.getKey() normValue, builder);\n        }\n\n        return builder.build();\n    }\n\n    private static void setNormFieldValue(String id,\n                                          double normValue,\n                                          TestPOJO.TestPOJOBuilder builder) {\n        try {\n            String fieldName = &quot;normField&quot; + id;\n            Method method = builder.getClass().getDeclaredMethod(fieldName,\n                                                                 double.class);\n            method.invoke(builder, normValue);\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private static double normalizeValue(double value, Statistics statistics) {\n        return (value - statistics.mean) / statistics.sdt;\n    }\n\n    @Builder\n    private static final class Statistics {\n\n        private final double sdt;\n        private final double mean;\n\n    }\n\n}\n</code></pre>\n<p>Client code will look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;TestPOJO&gt; pojos = List.of(\n        TestPOJO.builder().fieldA(11).fieldB(21).fieldC(31).fieldD(41).fieldE(51).build(),\n        TestPOJO.builder().fieldA(12).fieldB(22).fieldC(32).fieldD(42).fieldE(52).build(),\n        TestPOJO.builder().fieldA(13).fieldB(23).fieldC(33).fieldD(43).fieldE(53).build());\n\nList&lt;TestPOJO&gt; res = new StatisticsCalculation().setNormalizedValue(pojos);\n</code></pre>\n<hr />\n<p>In case you cannot or do not want to use reflection, so you can replace it with additional code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class StatisticsCalculation {\n\n    public List&lt;TestPOJO&gt; setNormalizedValue(List&lt;TestPOJO&gt; pojos, List&lt;Id&gt; ids) {\n        Map&lt;Id, Statistics&gt; idStatistics = calcStat(pojos, ids);\n\n        return pojos.stream()\n                .map(pojo -&gt; setNormFields(idStatistics, pojo))\n                .collect(Collectors.toList());\n    }\n\n    private static Map&lt;Id, Statistics&gt; calcStat(List&lt;TestPOJO&gt; pojos, List&lt;Id&gt; ids) {\n        Map&lt;Id, Statistics&gt; map = new HashMap&lt;&gt;();\n\n        ids.forEach(id -&gt; {\n            double[] values = pojos.stream().mapToDouble(id::getFieldValue).toArray();\n            map.put(id, calcStatistics(values));\n        });\n\n        return map;\n    }\n\n    private static Statistics calcStatistics(double[] values) {\n        return Statistics.builder()\n                .sdt(Double.NaN)    // calc real value\n                .mean(Double.NaN)   // calc real value\n                .build();\n    }\n\n    private static TestPOJO setNormFields(Map&lt;Id, Statistics&gt; idStatistics,\n                                          TestPOJO pojo) {\n        TestPOJO.TestPOJOBuilder builder = pojo.toBuilder();\n\n        for (Map.Entry&lt;Id, Statistics&gt; entry : idStatistics.entrySet()) {\n            double value = entry.getKey().getFieldValue(pojo);\n            double normValue = normalizeValue(value, entry.getValue());\n            entry.getKey().setNormFieldValue(normValue, builder);\n        }\n\n        return builder.build();\n    }\n\n    private static double normalizeValue(double value, Statistics statistics) {\n        return (value - statistics.mean) / statistics.sdt;\n    }\n\n    @Builder\n    private static final class Statistics {\n\n        private final double sdt;\n        private final double mean;\n\n    }\n\n    @Builder\n    @EqualsAndHashCode\n    public static final class Id {\n\n        private final Function&lt;TestPOJO, Double&gt; getValue;\n        private final BiConsumer&lt;TestPOJO.TestPOJOBuilder, Double&gt; setNormValue;\n\n        public double getFieldValue(TestPOJO pojo) {\n            return getValue.apply(pojo);\n        }\n\n        public void setNormFieldValue(double normValue, TestPOJO.TestPOJOBuilder builder) {\n            setNormValue.accept(builder, normValue);\n        }\n\n    }\n\n}\n</code></pre>\n<p>Client code will look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;TestPOJO&gt; pojos = List.of(\n        TestPOJO.builder().fieldA(11).fieldB(21).fieldC(31).fieldD(41).fieldE(51).build(),\n        TestPOJO.builder().fieldA(12).fieldB(22).fieldC(32).fieldD(42).fieldE(52).build(),\n        TestPOJO.builder().fieldA(13).fieldB(23).fieldC(33).fieldD(43).fieldE(53).build());\nList&lt;StatisticsCalculation.Id&gt; ids = List.of(\n        StatisticsCalculation.Id.builder().getValue(TestPOJO::getFieldA).setNormValue(TestPOJO.TestPOJOBuilder::normFieldA).build(),\n        StatisticsCalculation.Id.builder().getValue(TestPOJO::getFieldB).setNormValue(TestPOJO.TestPOJOBuilder::normFieldB).build(),\n        StatisticsCalculation.Id.builder().getValue(TestPOJO::getFieldC).setNormValue(TestPOJO.TestPOJOBuilder::normFieldC).build(),\n        StatisticsCalculation.Id.builder().getValue(TestPOJO::getFieldD).setNormValue(TestPOJO.TestPOJOBuilder::normFieldD).build(),\n        StatisticsCalculation.Id.builder().getValue(TestPOJO::getFieldE).setNormValue(TestPOJO.TestPOJOBuilder::normFieldE).build());\n\nList&lt;TestPOJO&gt; res = new StatisticsCalculation().setNormalizedValue(pojos, ids);\n</code></pre>\n"}],"owner":{"account_id":8036447,"reputation":464,"user_id":6059393,"accept_rate":77,"display_name":"Belphegor21"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76742163,"answer_count":2,"score":2,"last_activity_date":1690234481,"creation_date":1689994410,"question_id":76742116,"body_markdown":"My POJO looks like this\r\n\r\n```\r\n@Builder(toBuilder = true)\r\n@Getter\r\npublic final TestPOJO {\r\n    private double fieldA;\r\n    private double normFieldA;\r\n    private double fieldB;\r\n    private double normFieldB;\r\n    private double fieldC;\r\n    private double normFieldC;\r\n    private double fieldD;\r\n    private double normFieldD;\r\n    private double fieldE;\r\n    private double normFieldE;\r\n}\r\n```\r\n\r\nI have list of TestPOJO and I need to calculate the normalized value for each field. For that I have the following function\r\n\r\n```\r\nList&lt;TestPOJO&gt; setNormalizedValue(List&lt;TestPOJO&gt; pojos) {\r\n    final double[][] rawValues = new double[5][pojos.size()];\r\n    for (TestPOJO pojo: pojos) {\r\n        rawValue[0][i] = pojo.getFieldA();\r\n        rawValue[1][i] = pojo.getFieldB();\r\n        rawValue[2][i] = pojo.getFieldC();\r\n        rawValue[3][i] = pojo.getFieldD();\r\n        rawValue[4][i] = pojo.getFieldE();\r\n        i++;\r\n    }\r\n    final Pair&lt;double[], double[]&gt; stdPopAndMean = getStdPopAndMean(rawValues);\r\n    final double[] stdPop = stdPopAndMean.getLeft();\r\n    final double[] mean = stdPopAndMean.getRight();\r\n\r\n    return pojos.stream()\r\n        .map(p -&gt; p.toBuilder()\r\n                    .normFieldA(getNormalizedValue(p.getFieldA(), stdPop[0], mean[0]))\r\n                    .normFieldB(getNormalizedValue(p.getFieldB(), stdPop[1], mean[1]))\r\n                    .normFieldC(getNormalizedValue(p.getFieldC(), stdPop[2], mean[2]))\r\n                    .normFieldD(getNormalizedValue(p.getFieldD(), stdPop[3], mean[3]))\r\n                    .normFieldE(getNormalizedValue(p.getFieldE(), stdPop[4], mean[4]))\r\n                    .build()\r\n            )\r\n        .collect(Collectors.toList());    \r\n}\r\n```\r\n\r\nLike this but instead of just 5 field i have approx 20. Is there any way to do this via some kind of java generic loop. I tried using Supplier and Consumer but the problem was `Cannot refer to static content from non-static.`\r\n\r\nI was thinking something like\r\n\r\n```\r\nprivate static final Map&lt;Integer, Pair&lt;Consumer&lt;Double&gt;, Supplier&lt;Double&gt;&gt;&gt; FUNCTIONS_MAP = \r\n    ImmutableMap.&lt;Integer, Pair&lt;Consumer&lt;Double&gt;, Supplier&lt;Double&gt;&gt;&gt;builder()\r\n        .put(0, Pair.of(TestPOJO.TestPOJOBuilder::normFieldA, TestPOJO::getFieldA))\r\n        .put(1, Pair.of(TestPOJO.TestPOJOBuilder::normFieldB, TestPOJO::getFieldB))\r\n        .put(2, Pair.of(TestPOJO.TestPOJOBuilder::normFieldC, TestPOJO::getFieldC))\r\n        .put(3, Pair.of(TestPOJO.TestPOJOBuilder::normFieldD, TestPOJO::getFieldD))\r\n        .put(4, Pair.of(TestPOJO.TestPOJOBuilder::normFieldE, TestPOJO::getFieldE))\r\n        .build();\r\n\r\n        \r\nList&lt;TestPOJO&gt; setNormalizedValue(List&lt;TestPOJO&gt; pojos) {\r\n    for (TestPOJO pojo: pojos) {\r\n        for (Map.Entry&lt;Integer, Pair&lt;Consumer&lt;Double&gt;, Supplier&lt;Double&gt;&gt;&gt; entry : FUNCTIONS_MAP) {\r\n            final int position = entry.getKey();\r\n            final Supplier&lt;Double&gt; getter = entry.getValue().getRight();\r\n            rawValue[position][i] = getter.get(pojo);\r\n        }\r\n        i++;\r\n    }\r\n    final Pair&lt;double[], double[]&gt; stdPopAndMean = getStdPopAndMean(rawValues);\r\n    final double[] stdPop = stdPopAndMean.getLeft();\r\n    final double[] mean = stdPopAndMean.getRight();\r\n\r\n    return pojos.stream()\r\n        .map(p -&gt; { \r\n                TestPOJO.TestPOJOBuilder builder = p.toBuilder();\r\n                for (Map.Entry&lt;Integer, Pair&lt;Consumer&lt;Double&gt;, Supplier&lt;Double&gt;&gt;&gt; entry : FUNCTIONS_MAP) {\r\n                    final int position = entry.getKey();\r\n                    final Supplier&lt;Double&gt; getter = entry.getValue().getRight();\r\n                    final Consumer&lt;Double&gt; setter = entry.getValue().getLeft();\r\n                    final double similarity = getNormalizedValue(getter.get(p), stdPop[position], mean[position]);\r\n                    setter.accept(similarity); // How to set it for p\r\n                }\r\n                return builder.build();\r\n                    \r\n            }\r\n        )\r\n        .collect(Collectors.toList());\r\n}\r\n```\r\n\r\nBut as it can be seen there are some obvious issues here. I think there should be a better solution which is eluding me. Any ways to run this on a loop? \r\n\r\nI know this can be done via reflection but that&#39;s not what i want to do.\r\n\r\nEdit:\r\n\r\n```\r\n/**\r\n     * Calculates the mean and population standard deviation for given 2D array.\r\n     * It will take each 1D array as a dataset and calculate the mean and std dev for that.\r\n     *\r\n     * @param values      2D array to calculate for.\r\n     * @param recordCount The length of 1D array. It assumes that all rows are of same length.\r\n     * @return A pair of std dev array and mean array where each entry corresponds to computation for each row.\r\n     */\r\n    public Pair&lt;double[], double[]&gt; getStdPopAndMean(final double[][] values, final int recordCount) {\r\n        final double[] mean = new double[values.length];\r\n        final double[] stdPop = new double[values.length];\r\n\r\n        for (int i = 0; i &lt; values.length; i++) {\r\n            mean[i] = getMean(values[i], recordCount);\r\n        }\r\n\r\n        for (int i = 0; i &lt; values.length; i++) {\r\n            double diffSquared = 0;\r\n            for (int j = 0; j &lt; recordCount &amp;&amp; j &lt; values[i].length; j++) {\r\n                diffSquared += (values[i][j] - mean[i]) * (values[i][j] - mean[i]);\r\n            }\r\n            final double variance = diffSquared / recordCount;\r\n            stdPop[i] = FastMath.sqrt(variance);\r\n        }\r\n\r\n        return Pair.of(stdPop, mean);\r\n    }\r\n\r\n```","title":"Java generic for getting and setting multiple members from POJO","body":"<p>My POJO looks like this</p>\n<pre><code>@Builder(toBuilder = true)\n@Getter\npublic final TestPOJO {\n    private double fieldA;\n    private double normFieldA;\n    private double fieldB;\n    private double normFieldB;\n    private double fieldC;\n    private double normFieldC;\n    private double fieldD;\n    private double normFieldD;\n    private double fieldE;\n    private double normFieldE;\n}\n</code></pre>\n<p>I have list of TestPOJO and I need to calculate the normalized value for each field. For that I have the following function</p>\n<pre><code>List&lt;TestPOJO&gt; setNormalizedValue(List&lt;TestPOJO&gt; pojos) {\n    final double[][] rawValues = new double[5][pojos.size()];\n    for (TestPOJO pojo: pojos) {\n        rawValue[0][i] = pojo.getFieldA();\n        rawValue[1][i] = pojo.getFieldB();\n        rawValue[2][i] = pojo.getFieldC();\n        rawValue[3][i] = pojo.getFieldD();\n        rawValue[4][i] = pojo.getFieldE();\n        i++;\n    }\n    final Pair&lt;double[], double[]&gt; stdPopAndMean = getStdPopAndMean(rawValues);\n    final double[] stdPop = stdPopAndMean.getLeft();\n    final double[] mean = stdPopAndMean.getRight();\n\n    return pojos.stream()\n        .map(p -&gt; p.toBuilder()\n                    .normFieldA(getNormalizedValue(p.getFieldA(), stdPop[0], mean[0]))\n                    .normFieldB(getNormalizedValue(p.getFieldB(), stdPop[1], mean[1]))\n                    .normFieldC(getNormalizedValue(p.getFieldC(), stdPop[2], mean[2]))\n                    .normFieldD(getNormalizedValue(p.getFieldD(), stdPop[3], mean[3]))\n                    .normFieldE(getNormalizedValue(p.getFieldE(), stdPop[4], mean[4]))\n                    .build()\n            )\n        .collect(Collectors.toList());    \n}\n</code></pre>\n<p>Like this but instead of just 5 field i have approx 20. Is there any way to do this via some kind of java generic loop. I tried using Supplier and Consumer but the problem was <code>Cannot refer to static content from non-static.</code></p>\n<p>I was thinking something like</p>\n<pre><code>private static final Map&lt;Integer, Pair&lt;Consumer&lt;Double&gt;, Supplier&lt;Double&gt;&gt;&gt; FUNCTIONS_MAP = \n    ImmutableMap.&lt;Integer, Pair&lt;Consumer&lt;Double&gt;, Supplier&lt;Double&gt;&gt;&gt;builder()\n        .put(0, Pair.of(TestPOJO.TestPOJOBuilder::normFieldA, TestPOJO::getFieldA))\n        .put(1, Pair.of(TestPOJO.TestPOJOBuilder::normFieldB, TestPOJO::getFieldB))\n        .put(2, Pair.of(TestPOJO.TestPOJOBuilder::normFieldC, TestPOJO::getFieldC))\n        .put(3, Pair.of(TestPOJO.TestPOJOBuilder::normFieldD, TestPOJO::getFieldD))\n        .put(4, Pair.of(TestPOJO.TestPOJOBuilder::normFieldE, TestPOJO::getFieldE))\n        .build();\n\n        \nList&lt;TestPOJO&gt; setNormalizedValue(List&lt;TestPOJO&gt; pojos) {\n    for (TestPOJO pojo: pojos) {\n        for (Map.Entry&lt;Integer, Pair&lt;Consumer&lt;Double&gt;, Supplier&lt;Double&gt;&gt;&gt; entry : FUNCTIONS_MAP) {\n            final int position = entry.getKey();\n            final Supplier&lt;Double&gt; getter = entry.getValue().getRight();\n            rawValue[position][i] = getter.get(pojo);\n        }\n        i++;\n    }\n    final Pair&lt;double[], double[]&gt; stdPopAndMean = getStdPopAndMean(rawValues);\n    final double[] stdPop = stdPopAndMean.getLeft();\n    final double[] mean = stdPopAndMean.getRight();\n\n    return pojos.stream()\n        .map(p -&gt; { \n                TestPOJO.TestPOJOBuilder builder = p.toBuilder();\n                for (Map.Entry&lt;Integer, Pair&lt;Consumer&lt;Double&gt;, Supplier&lt;Double&gt;&gt;&gt; entry : FUNCTIONS_MAP) {\n                    final int position = entry.getKey();\n                    final Supplier&lt;Double&gt; getter = entry.getValue().getRight();\n                    final Consumer&lt;Double&gt; setter = entry.getValue().getLeft();\n                    final double similarity = getNormalizedValue(getter.get(p), stdPop[position], mean[position]);\n                    setter.accept(similarity); // How to set it for p\n                }\n                return builder.build();\n                    \n            }\n        )\n        .collect(Collectors.toList());\n}\n</code></pre>\n<p>But as it can be seen there are some obvious issues here. I think there should be a better solution which is eluding me. Any ways to run this on a loop?</p>\n<p>I know this can be done via reflection but that's not what i want to do.</p>\n<p>Edit:</p>\n<pre><code>/**\n     * Calculates the mean and population standard deviation for given 2D array.\n     * It will take each 1D array as a dataset and calculate the mean and std dev for that.\n     *\n     * @param values      2D array to calculate for.\n     * @param recordCount The length of 1D array. It assumes that all rows are of same length.\n     * @return A pair of std dev array and mean array where each entry corresponds to computation for each row.\n     */\n    public Pair&lt;double[], double[]&gt; getStdPopAndMean(final double[][] values, final int recordCount) {\n        final double[] mean = new double[values.length];\n        final double[] stdPop = new double[values.length];\n\n        for (int i = 0; i &lt; values.length; i++) {\n            mean[i] = getMean(values[i], recordCount);\n        }\n\n        for (int i = 0; i &lt; values.length; i++) {\n            double diffSquared = 0;\n            for (int j = 0; j &lt; recordCount &amp;&amp; j &lt; values[i].length; j++) {\n                diffSquared += (values[i][j] - mean[i]) * (values[i][j] - mean[i]);\n            }\n            final double variance = diffSquared / recordCount;\n            stdPop[i] = FastMath.sqrt(variance);\n        }\n\n        return Pair.of(stdPop, mean);\n    }\n\n</code></pre>\n"},{"tags":["java","blob","inputstream"],"answers":[{"tags":[],"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690217294,"creation_date":1690217294,"answer_id":76756559,"question_id":76756069,"body_markdown":"I would try something like\r\n\r\n    \tString string1 = Base64.getEncoder().encodeToString(blob.getBytes(1, (int)blob.length()));\r\n\t\tString string2 = Base64.getEncoder().encodeToString(blob2.getBytes(1, (int)blob2.length()));\r\n\t\tSystem.out.println(string1.equals(string2));","title":"Can i compare the content of 2 different Blob Objects","body":"<p>I would try something like</p>\n<pre><code>    String string1 = Base64.getEncoder().encodeToString(blob.getBytes(1, (int)blob.length()));\n    String string2 = Base64.getEncoder().encodeToString(blob2.getBytes(1, (int)blob2.length()));\n    System.out.println(string1.equals(string2));\n</code></pre>\n"}],"owner":{"account_id":8085618,"reputation":422,"user_id":6093274,"accept_rate":33,"display_name":"priyanka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76756559,"answer_count":1,"score":1,"last_activity_date":1690233301,"creation_date":1690213335,"question_id":76756069,"body_markdown":"I have 2 BLOB Objects and I want to compare the content within those BLOB objects??\r\n\r\nHow can i do this in JAVA.\r\n\r\n    Blob blob = new SerialBlob(cis.readAllBytes());\r\n    final Blob blob2 = test.reEncrypt(blob, &quot;&quot;);\r\n\r\nI want to compare the content in blob and blob2. My target is to check if the reEncryption gave me the same data or different.\r\n\r\nAny leads would be really great. Thanks\r\n\r\n\r\n   \r\n\r\n      final InputStream cis = test.getEncryptingInputStream(is);\r\n      final InputStream resStream = test\r\n                    .reEncrypt(cis, &quot;&quot;);\r\n      String encodeStr1 = Base64.getEncoder().encodeToString(cis.readAllBytes());\r\n      String encodeStr2 = Base64.getEncoder().encodeToString(resStream.readAllBytes());\r\n\r\nencodestr1 and encodestr2 is coming empty. Can you explain how can we compare the content of InputStream as well. Correct me If I am doing anything wrong here.","title":"Can i compare the content of 2 different Blob Objects","body":"<p>I have 2 BLOB Objects and I want to compare the content within those BLOB objects??</p>\n<p>How can i do this in JAVA.</p>\n<pre><code>Blob blob = new SerialBlob(cis.readAllBytes());\nfinal Blob blob2 = test.reEncrypt(blob, &quot;&quot;);\n</code></pre>\n<p>I want to compare the content in blob and blob2. My target is to check if the reEncryption gave me the same data or different.</p>\n<p>Any leads would be really great. Thanks</p>\n<pre><code>  final InputStream cis = test.getEncryptingInputStream(is);\n  final InputStream resStream = test\n                .reEncrypt(cis, &quot;&quot;);\n  String encodeStr1 = Base64.getEncoder().encodeToString(cis.readAllBytes());\n  String encodeStr2 = Base64.getEncoder().encodeToString(resStream.readAllBytes());\n</code></pre>\n<p>encodestr1 and encodestr2 is coming empty. Can you explain how can we compare the content of InputStream as well. Correct me If I am doing anything wrong here.</p>\n"},{"tags":["java","azure-devops","azure-pipelines"],"comments":[{"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"score":0,"creation_date":1690225572,"post_id":76754510,"comment_id":135320804,"body_markdown":"Hi, I added an answer to the question, i appreciate if you accept and upvote it if it address the solution otherwise feel free to leave comment, i will be glad if i could help","body":"Hi, I added an answer to the question, i appreciate if you accept and upvote it if it address the solution otherwise feel free to leave comment, i will be glad if i could help"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1690233602,"post_id":76754510,"comment_id":135322154,"body_markdown":"Please consider looking at the solutions here: https://stackoverflow.com/questions/60509976/javascript-heap-out-of-memory-on-azure-build.  Also consider running your pipeline manually (e.g.  \n using the Azure extension in VS Code) so you can troubleshoot memory *BEFORE* the OOM crash occurs.","body":"Please consider looking at the solutions here: <a href=\"https://stackoverflow.com/questions/60509976/javascript-heap-out-of-memory-on-azure-build\" title=\"javascript heap out of memory on azure build\">stackoverflow.com/questions/60509976/&hellip;</a>.  Also consider running your pipeline manually (e.g.    using the Azure extension in VS Code) so you can troubleshoot memory <i>BEFORE</i> the OOM crash occurs."}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690233157,"creation_date":1690225544,"answer_id":76757369,"question_id":76754510,"body_markdown":"&gt; How to capture heap dump while running azure pipeline ?\r\n\r\nOne practice is to using [jmap][1] command-line tool on running the pipeline to capture a heap dump in binary format and save it to a file (heapdumpreport.bin).\r\nReplace the `PID` with the process ID of your Java application, the `sas-token`, `name-of-your-container` and `storage-account-name` tags with proper values.\r\n\r\n\r\n\r\n    - script: |\r\n        jmap -dump:format=b,file=heapdumpreport.bin &lt;PID&gt;\r\n        azcopy copy heapdumpreport.bin &quot;https://&lt;storage-account-name&gt;.blob.core.windows.net/&lt;name-of-your-container&gt;/heapdumpreport.bin?sas-token&quot;\r\n      displayName: &#39;Heap Dump Report&#39;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nWhich this script we used `azcopy` command  to upload the heap dump into your storage account using an SAS token.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr014.html","title":"How to capture heap dump while running azure pipeline?","body":"<blockquote>\n<p>How to capture heap dump while running azure pipeline ?</p>\n</blockquote>\n<p>One practice is to using <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr014.html\" rel=\"nofollow noreferrer\">jmap</a> command-line tool on running the pipeline to capture a heap dump in binary format and save it to a file (heapdumpreport.bin).\nReplace the <code>PID</code> with the process ID of your Java application, the <code>sas-token</code>, <code>name-of-your-container</code> and <code>storage-account-name</code> tags with proper values.</p>\n<pre><code>- script: |\n    jmap -dump:format=b,file=heapdumpreport.bin &lt;PID&gt;\n    azcopy copy heapdumpreport.bin &quot;https://&lt;storage-account-name&gt;.blob.core.windows.net/&lt;name-of-your-container&gt;/heapdumpreport.bin?sas-token&quot;\n  displayName: 'Heap Dump Report'\n</code></pre>\n\n<p>Which this script we used <code>azcopy</code> command  to upload the heap dump into your storage account using an SAS token.</p>\n"}],"owner":{"account_id":10421616,"reputation":4105,"user_id":11061080,"display_name":"SeleniumUser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690233157,"creation_date":1690201581,"question_id":76754510,"body_markdown":"I am facing below OutOfMemoryError: Java heap space error while running my pipeline. I have also tried to increase heap space to 4Gb but still getting same error.\r\n\r\n     Caused by:\r\n    2023-07-24T10:16:10.8047611Z                     java.lang.OutOfMemoryError: Java heap space\r\n    2023-07-24T10:16:10.8047931Z                         at java.base/java.util.HashMap.newNode(HashMap.java:1901)\r\n    2023-07-24T10:16:10.8048271Z                         at java.base/java.util.HashMap.putVal(HashMap.java:629)\r\n    2023-07-24T10:16:10.8048622Z                         at java.base/java.util.HashMap.putMapEntries(HashMap.java:514)\r\n    2023-07-24T10:16:10.8048969Z                         at java.base/java.util.HashMap.&lt;init&gt;(HashMap.java:484)\r\n\r\nNow, I am trying to capture heap dump to identify memory leak and root cause of out of memory issue. \r\n\r\nCan someone please help me to capture heap dump ?\r\n\r\n","title":"How to capture heap dump while running azure pipeline?","body":"<p>I am facing below OutOfMemoryError: Java heap space error while running my pipeline. I have also tried to increase heap space to 4Gb but still getting same error.</p>\n<pre><code> Caused by:\n2023-07-24T10:16:10.8047611Z                     java.lang.OutOfMemoryError: Java heap space\n2023-07-24T10:16:10.8047931Z                         at java.base/java.util.HashMap.newNode(HashMap.java:1901)\n2023-07-24T10:16:10.8048271Z                         at java.base/java.util.HashMap.putVal(HashMap.java:629)\n2023-07-24T10:16:10.8048622Z                         at java.base/java.util.HashMap.putMapEntries(HashMap.java:514)\n2023-07-24T10:16:10.8048969Z                         at java.base/java.util.HashMap.&lt;init&gt;(HashMap.java:484)\n</code></pre>\n<p>Now, I am trying to capture heap dump to identify memory leak and root cause of out of memory issue.</p>\n<p>Can someone please help me to capture heap dump ?</p>\n"},{"tags":["java","xml","maven","maven-plugin","xml-documentation"],"answers":[{"tags":[],"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690232723,"creation_date":1690232723,"answer_id":76758018,"question_id":76757630,"body_markdown":"`java-annotations` extractor discover annotation from compiled classes.\r\n\r\nSo first you need compile your project.\r\n\r\nYou need not execute direct goal `plugin:descriptor` it is bind in proper maven build phase.\r\n\r\nsimply try:\r\n\r\n```\r\nmvn process-classes\r\n```\r\n\r\nYou also not need:\r\n```\r\n&lt;execution&gt;\r\n &lt;id&gt;default-descriptor&lt;/id&gt;\r\n &lt;phase&gt;process-classes&lt;/phase&gt;\r\n&lt;/execution&gt;\r\n```\r\n\r\nit is add by default for `maven-plugin` package","title":"Maven plugin plugin descriptor goal does not generate mojo description documentation when using annotations","body":"<p><code>java-annotations</code> extractor discover annotation from compiled classes.</p>\n<p>So first you need compile your project.</p>\n<p>You need not execute direct goal <code>plugin:descriptor</code> it is bind in proper maven build phase.</p>\n<p>simply try:</p>\n<pre><code>mvn process-classes\n</code></pre>\n<p>You also not need:</p>\n<pre><code>&lt;execution&gt;\n &lt;id&gt;default-descriptor&lt;/id&gt;\n &lt;phase&gt;process-classes&lt;/phase&gt;\n&lt;/execution&gt;\n</code></pre>\n<p>it is add by default for <code>maven-plugin</code> package</p>\n"}],"owner":{"account_id":29082932,"reputation":35,"user_id":22278526,"display_name":"Mike Solomon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76758018,"answer_count":1,"score":1,"last_activity_date":1690232723,"creation_date":1690228261,"question_id":76757630,"body_markdown":"According to the [Maven Plugin Plugin documentation](https://maven.apache.org/plugin-tools/maven-plugin-plugin/examples/using-annotations.html), when creating a Mojo, you are supposed to use an `@Mojo(...)` annotation to denote that your class is a Mojo. Then, when you run the `plugin:descriptor` goal, you _should_ have various XML files created with details about your Mojo such as [this one](https://maven.apache.org/ref/3.2.5/maven-plugin-api/plugin.html).\r\n\r\nHowever, no matter what I do, I can&#39;t seem to get the XML files to be generated unless I use the deprecated `@goal` tag in my JavaDoc comment above the Mojo.\r\n\r\nHere is a snippet of my `pom.xml`:\r\n\r\n```xml\r\n&lt;project&gt;\r\n    ...\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;!-- annotations used to describe the plugin metadata --&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;3.9.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    ...\r\n    &lt;plugins&gt;\r\n       &lt;plugin&gt;\r\n           &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.9.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;default-descriptor&lt;/id&gt;\r\n                    &lt;phase&gt;process-classes&lt;/phase&gt;\r\n                &lt;/execution&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;generate-helpmojo&lt;/id&gt;\r\n                   &lt;goals&gt;\r\n                        &lt;goal&gt;helpmojo&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n(You can find the full version [here](https://github.com/openrewrite/rewrite-maven-plugin/blob/main/pom.xml))\r\n\r\nAnd here is an example of one of the Mojo&#39;s:\r\n\r\n```java\r\n/**\r\n * Run the configured recipes and apply the changes locally.\r\n * &lt;p&gt;\r\n * This variant of rewrite:run will fork the maven life cycle and can be run as a &quot;stand-alone&quot; goal. It will\r\n * execute the maven build up to the process-test-classes phase.\r\n */\r\n@Mojo(name = &quot;run&quot;, requiresDependencyResolution = ResolutionScope.TEST, threadSafe = true,\r\n        defaultPhase = LifecyclePhase.PROCESS_TEST_CLASSES)\r\n@Execute(phase = LifecyclePhase.PROCESS_TEST_CLASSES)\r\npublic class RewriteRunMojo extends AbstractRewriteRunMojo {\r\n}\r\n```\r\n\r\n(You can find the code for the full project [here](https://github.com/openrewrite/rewrite-maven-plugin))\r\n\r\nWhen I run the `plugin:descriptor` goal, I get an error that says: `No mojo definitions were found for plugin: org.openrewrite.maven:rewrite-maven-plugin.`\r\n\r\nIf I update my Mojo to have the `@goal` annotation in the JavaDoc such as in:\r\n\r\n```java\r\n/**\r\n * Run the configured recipes and apply the changes locally.\r\n * &lt;p&gt;\r\n * This variant of rewrite:run will fork the maven life cycle and can be run as a &quot;stand-alone&quot; goal. It will\r\n * execute the maven build up to the process-test-classes phase.\r\n *\r\n * @goal run\r\n */\r\n@Mojo(name = &quot;run&quot;, requiresDependencyResolution = ResolutionScope.TEST, threadSafe = true,\r\n        defaultPhase = LifecyclePhase.PROCESS_TEST_CLASSES)\r\n@Execute(phase = LifecyclePhase.PROCESS_TEST_CLASSES)\r\npublic class RewriteRunMojo extends AbstractRewriteRunMojo {\r\n}\r\n```\r\n\r\nthen I correctly get a `plugin-help.xml` file that looks like:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;!-- Generated by maven-plugin-tools 3.9 (for help&#39;mojo with additional elements)--&gt;\r\n\r\n&lt;plugin&gt;\r\n  &lt;name&gt;rewrite-maven-plugin&lt;/name&gt;\r\n  &lt;description&gt;Eliminate technical debt. At build time.&lt;/description&gt;\r\n  &lt;groupId&gt;org.openrewrite.maven&lt;/groupId&gt;\r\n  &lt;artifactId&gt;rewrite-maven-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;5.4.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;goalPrefix&gt;rewrite&lt;/goalPrefix&gt;\r\n  &lt;mojos&gt;\r\n    &lt;mojo&gt;\r\n      &lt;goal&gt;run&lt;/goal&gt;\r\n      &lt;description&gt;Run the configured recipes and apply the changes locally. \r\nThis variant of rewrite:run will fork the maven life cycle and can be run as a &amp;quot;stand-alone&amp;quot; goal. It will execute the maven build up to the process-test-classes phase.\r\n&lt;/description&gt;\r\n      ....\r\n    &lt;/mojo&gt;\r\n  &lt;/mojos&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nUnfortunately, when I do this, I get a warning that I&#39;m using a deprecated extractor. However, I can&#39;t figure out how to generate an XML file with information about the goals _without_ using this deprecated path.\r\n\r\nDoes anyone have any idea what I might be doing wrong? Would greatly appreciate any advice.","title":"Maven plugin plugin descriptor goal does not generate mojo description documentation when using annotations","body":"<p>According to the <a href=\"https://maven.apache.org/plugin-tools/maven-plugin-plugin/examples/using-annotations.html\" rel=\"nofollow noreferrer\">Maven Plugin Plugin documentation</a>, when creating a Mojo, you are supposed to use an <code>@Mojo(...)</code> annotation to denote that your class is a Mojo. Then, when you run the <code>plugin:descriptor</code> goal, you <em>should</em> have various XML files created with details about your Mojo such as <a href=\"https://maven.apache.org/ref/3.2.5/maven-plugin-api/plugin.html\" rel=\"nofollow noreferrer\">this one</a>.</p>\n<p>However, no matter what I do, I can't seem to get the XML files to be generated unless I use the deprecated <code>@goal</code> tag in my JavaDoc comment above the Mojo.</p>\n<p>Here is a snippet of my <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n    ...\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;!-- annotations used to describe the plugin metadata --&gt;\n            &lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt;\n            &lt;version&gt;3.9.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    ...\n    &lt;plugins&gt;\n       &lt;plugin&gt;\n           &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.9.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-descriptor&lt;/id&gt;\n                    &lt;phase&gt;process-classes&lt;/phase&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;generate-helpmojo&lt;/id&gt;\n                   &lt;goals&gt;\n                        &lt;goal&gt;helpmojo&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/project&gt;\n</code></pre>\n<p>(You can find the full version <a href=\"https://github.com/openrewrite/rewrite-maven-plugin/blob/main/pom.xml\" rel=\"nofollow noreferrer\">here</a>)</p>\n<p>And here is an example of one of the Mojo's:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Run the configured recipes and apply the changes locally.\n * &lt;p&gt;\n * This variant of rewrite:run will fork the maven life cycle and can be run as a &quot;stand-alone&quot; goal. It will\n * execute the maven build up to the process-test-classes phase.\n */\n@Mojo(name = &quot;run&quot;, requiresDependencyResolution = ResolutionScope.TEST, threadSafe = true,\n        defaultPhase = LifecyclePhase.PROCESS_TEST_CLASSES)\n@Execute(phase = LifecyclePhase.PROCESS_TEST_CLASSES)\npublic class RewriteRunMojo extends AbstractRewriteRunMojo {\n}\n</code></pre>\n<p>(You can find the code for the full project <a href=\"https://github.com/openrewrite/rewrite-maven-plugin\" rel=\"nofollow noreferrer\">here</a>)</p>\n<p>When I run the <code>plugin:descriptor</code> goal, I get an error that says: <code>No mojo definitions were found for plugin: org.openrewrite.maven:rewrite-maven-plugin.</code></p>\n<p>If I update my Mojo to have the <code>@goal</code> annotation in the JavaDoc such as in:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Run the configured recipes and apply the changes locally.\n * &lt;p&gt;\n * This variant of rewrite:run will fork the maven life cycle and can be run as a &quot;stand-alone&quot; goal. It will\n * execute the maven build up to the process-test-classes phase.\n *\n * @goal run\n */\n@Mojo(name = &quot;run&quot;, requiresDependencyResolution = ResolutionScope.TEST, threadSafe = true,\n        defaultPhase = LifecyclePhase.PROCESS_TEST_CLASSES)\n@Execute(phase = LifecyclePhase.PROCESS_TEST_CLASSES)\npublic class RewriteRunMojo extends AbstractRewriteRunMojo {\n}\n</code></pre>\n<p>then I correctly get a <code>plugin-help.xml</code> file that looks like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;!-- Generated by maven-plugin-tools 3.9 (for help'mojo with additional elements)--&gt;\n\n&lt;plugin&gt;\n  &lt;name&gt;rewrite-maven-plugin&lt;/name&gt;\n  &lt;description&gt;Eliminate technical debt. At build time.&lt;/description&gt;\n  &lt;groupId&gt;org.openrewrite.maven&lt;/groupId&gt;\n  &lt;artifactId&gt;rewrite-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;5.4.0-SNAPSHOT&lt;/version&gt;\n  &lt;goalPrefix&gt;rewrite&lt;/goalPrefix&gt;\n  &lt;mojos&gt;\n    &lt;mojo&gt;\n      &lt;goal&gt;run&lt;/goal&gt;\n      &lt;description&gt;Run the configured recipes and apply the changes locally. \nThis variant of rewrite:run will fork the maven life cycle and can be run as a &amp;quot;stand-alone&amp;quot; goal. It will execute the maven build up to the process-test-classes phase.\n&lt;/description&gt;\n      ....\n    &lt;/mojo&gt;\n  &lt;/mojos&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Unfortunately, when I do this, I get a warning that I'm using a deprecated extractor. However, I can't figure out how to generate an XML file with information about the goals <em>without</em> using this deprecated path.</p>\n<p>Does anyone have any idea what I might be doing wrong? Would greatly appreciate any advice.</p>\n"},{"tags":["java","ssl"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1690242151,"post_id":76758010,"comment_id":135323088,"body_markdown":"There is no issue to fix. The warning messages is correct. The `TrustAllStrategy` is radically insecure. Solution: don&#39;t use it.","body":"There is no issue to fix. The warning messages is correct. The <code>TrustAllStrategy</code> is radically insecure. Solution: don&#39;t use it."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690244975,"post_id":76758010,"comment_id":135323358,"body_markdown":"BTW this is not &#39;just the truststore&#39;. You are also loading a trust policy. And that&#39;s where the problem is.","body":"BTW this is not &#39;just the truststore&#39;. You are also loading a trust policy. And that&#39;s where the problem is."},{"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1690258011,"post_id":76758010,"comment_id":135324396,"body_markdown":"Maybe the I should reformulate. Thank you for the comment. The point is that I do not want to use TrustAllStrategy, but the only API which exists requires a TrustStrategy, how to fix that?","body":"Maybe the I should reformulate. Thank you for the comment. The point is that I do not want to use TrustAllStrategy, but the only API which exists requires a TrustStrategy, how to fix that?"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690232617,"creation_date":1690232617,"question_id":76758010,"body_markdown":"*What I am trying to achieve:*\r\n\r\nAble to write ```SSLContextBuilder.create().loadTrustMaterial(getTrustStore()).build();```\r\nwith only the trust store.\r\n\r\n*What did I try:*\r\n\r\n```\r\npublic final SSLContext getSslContext() {\r\n        try {\r\n            return SSLContextBuilder.create().loadTrustMaterial(getTrustStore(),TrustAllStrategy.INSTANCE).build();\r\n        } ...\r\n        }\r\n    }\r\n\r\n    public KeyStore getTrustStore() throws Exception {\r\n        final var trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n        try (InputStream trustStoreFile = new FileInputStream(&quot;/path/to/truststore&quot;)) {\r\n            final var trustStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n            trustStore.load(trustStoreFile, &quot;&quot;.toCharArray());\r\n            trustManagerFactory.init(trustStore);\r\n            return trustStore;\r\n        }\r\n    }\r\n```\r\n\r\n*Issue:*\r\n\r\nWith several static analysis tools, I am always getting \r\n```\r\nin getSslContext. The loadTrustMaterial parameter, effectively disables verification of the SSL certificate trust chain.\r\n\r\nSimilarity ID: -196258711\r\n```\r\n\r\n*Question:*\r\n\r\nHow to fix this issue?\r\n\r\nThere is no API for public SSLContextBuilder loadKeyMaterial(KeyStore keystore). How can I just do the following in order to avoid the trust all strategy?\r\n\r\n```\r\npublic final SSLContext getSslContext() {\r\n        try {\r\n            return SSLContextBuilder.create().loadTrustMaterial(getTrustStore()).build();\r\n        } ...\r\n        }\r\n    }\r\n```","title":"SSLContext loadTrustMaterial(just the truststore)","body":"<p><em>What I am trying to achieve:</em></p>\n<p>Able to write <code>SSLContextBuilder.create().loadTrustMaterial(getTrustStore()).build();</code>\nwith only the trust store.</p>\n<p><em>What did I try:</em></p>\n<pre><code>public final SSLContext getSslContext() {\n        try {\n            return SSLContextBuilder.create().loadTrustMaterial(getTrustStore(),TrustAllStrategy.INSTANCE).build();\n        } ...\n        }\n    }\n\n    public KeyStore getTrustStore() throws Exception {\n        final var trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n        try (InputStream trustStoreFile = new FileInputStream(&quot;/path/to/truststore&quot;)) {\n            final var trustStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n            trustStore.load(trustStoreFile, &quot;&quot;.toCharArray());\n            trustManagerFactory.init(trustStore);\n            return trustStore;\n        }\n    }\n</code></pre>\n<p><em>Issue:</em></p>\n<p>With several static analysis tools, I am always getting</p>\n<pre><code>in getSslContext. The loadTrustMaterial parameter, effectively disables verification of the SSL certificate trust chain.\n\nSimilarity ID: -196258711\n</code></pre>\n<p><em>Question:</em></p>\n<p>How to fix this issue?</p>\n<p>There is no API for public SSLContextBuilder loadKeyMaterial(KeyStore keystore). How can I just do the following in order to avoid the trust all strategy?</p>\n<pre><code>public final SSLContext getSslContext() {\n        try {\n            return SSLContextBuilder.create().loadTrustMaterial(getTrustStore()).build();\n        } ...\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","pagination","cloud"],"owner":{"account_id":27960771,"reputation":36,"user_id":21352605,"display_name":"Soumik Pal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690232204,"creation_date":1690230649,"question_id":76757844,"body_markdown":"**Objective**:  \r\nThe objective is to provide a solution for efficiently retrieving a list of spelling errors from question text, answer text, and option text really fast. Current process is really slow and requires some manual work. The desired outcome is to automate the process and overcome issues related to gateway timeout exception and Java heap size out of memory.\r\n\r\n**Current Implementation:**\r\n\r\nImplemented an API with pagination which will give an Excel file having `questionId`, `questionText`, `answerText`, `optionText`, list of misspelled words in all of them.\r\n\r\n**Challenges**:\r\n\r\n1. Large Data Volume: There are over 600k data entries tagged under spelling errors, making it challenging to retrieve all the data at once.\r\n2. Pagination Limitations: The API allows fetching a maximum of 500 data entries per request, necessitating the need to change the page size frequently.\r\n3. Timeout Exception: Attempting to fetch a large number of data entries simultaneously results in timeout exceptions.\r\n4. Java Heap Size Out of Memory: Handling significant amounts of data concurrently leads to heap size exhaustion.\r\n\r\nI am expecting to automate it with page and size and also if there is any better implementation to efficiently do that making the process faster","title":"Streamlining Data Retrieval from API","body":"<p><strong>Objective</strong>:<br />\nThe objective is to provide a solution for efficiently retrieving a list of spelling errors from question text, answer text, and option text really fast. Current process is really slow and requires some manual work. The desired outcome is to automate the process and overcome issues related to gateway timeout exception and Java heap size out of memory.</p>\n<p><strong>Current Implementation:</strong></p>\n<p>Implemented an API with pagination which will give an Excel file having <code>questionId</code>, <code>questionText</code>, <code>answerText</code>, <code>optionText</code>, list of misspelled words in all of them.</p>\n<p><strong>Challenges</strong>:</p>\n<ol>\n<li>Large Data Volume: There are over 600k data entries tagged under spelling errors, making it challenging to retrieve all the data at once.</li>\n<li>Pagination Limitations: The API allows fetching a maximum of 500 data entries per request, necessitating the need to change the page size frequently.</li>\n<li>Timeout Exception: Attempting to fetch a large number of data entries simultaneously results in timeout exceptions.</li>\n<li>Java Heap Size Out of Memory: Handling significant amounts of data concurrently leads to heap size exhaustion.</li>\n</ol>\n<p>I am expecting to automate it with page and size and also if there is any better implementation to efficiently do that making the process faster</p>\n"},{"tags":["java","macos","path","environment-variables","sdkman"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690231965,"creation_date":1690231965,"answer_id":76757950,"question_id":76757923,"body_markdown":"The `java_home` script doesn&#39;t know about SDKman! Luckily, there is a built in `home` (or `h`) command like\r\n\r\n    sdk home java 17.0.2.fx-librca\r\n\r\noutputs\r\n\r\n    /Users/efrisch/.sdkman/candidates/java/17.0.2.fx-librca\r\n\r\nIf you want the currently selected one, that&#39;s\r\n\r\n    $HOME/.sdkman/candidates/java/current","title":"java_home not detecting jdks installed through sdkman","body":"<p>The <code>java_home</code> script doesn't know about SDKman! Luckily, there is a built in <code>home</code> (or <code>h</code>) command like</p>\n<pre><code>sdk home java 17.0.2.fx-librca\n</code></pre>\n<p>outputs</p>\n<pre><code>/Users/efrisch/.sdkman/candidates/java/17.0.2.fx-librca\n</code></pre>\n<p>If you want the currently selected one, that's</p>\n<pre><code>$HOME/.sdkman/candidates/java/current\n</code></pre>\n"}],"owner":{"account_id":22816540,"reputation":13,"user_id":16967068,"display_name":"defaultacc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76757950,"answer_count":1,"score":-1,"last_activity_date":1690231965,"creation_date":1690231665,"question_id":76757923,"body_markdown":"I installed java jdk 20 and jdk 17 through SDKMAN.\r\n\r\nI want to be able to do something like this.\r\n\r\n```````````````` alias java17=&quot;export JAVA_HOME=`/usr/libexec/java_home -v 17`; java -version&quot; ````````````````\r\n\r\nBut when i do this\r\n\r\n```\r\n/usr/libexec/java_home -V\r\n```\r\n\r\nIt gives me output like this \r\n\r\n``` \r\nMatching Java Virtual Machines (3):     11.0.19 (x86_64) &quot;OpenLogic-OpenJDK&quot; - &quot;OpenLogic-OpenJDK 11&quot; /Library/Java/JavaVirtualMachines/openlogic-openjdk-11.jdk/Contents/Home     1.8.381.09 (arm64) &quot;Oracle Corporation&quot; - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home     1.8.0_202 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home /Library/Java/JavaVirtualMachines/openlogic-openjdk-11.jdk/Contents/Home\r\n```\r\n\r\nBoth Jdk20 and jdk17 are undetected by java_home\r\n\r\npath of my jdk20 and jdk17 are -  \r\n``/Users/default/.sdkman/candidates/java/20.0.2-oracle``\r\n\r\n``/Users/default/.sdkman/candidates/java/17.0.8-oracle``\r\n\r\nI want java_home to detect jdk17 and jdk20 while I do this\r\n\r\n```\r\n/usr/libexec/java_home -V\r\n```\r\n\r\nI am unable to make java_home detect jdk17 and jdk20. I looked up on internet but didn&#39;t find any solution.\r\n\r\nThough I found one work around method in which we imitate the folder structure of JDKs installed without SDKMAN.\r\n\r\nThis is how jdks installed without sdkman looks likee\r\n\r\n```jdk-root-folder/\r\n  Contents/\r\n    Info.plist\r\n    Home/\r\n      &lt;actual JDK files here&gt;\r\n```\r\n\r\nBut when installed through sdkman, it is like this\r\n\r\n``` \r\njdk_root-folder/\r\n            &lt;actual jdk files&gt;\r\n```\r\n\r\nIn the work around method we need to imitate that file structure with Contents, Info.plist, Home, and then linking original jdk there.\r\n\r\nBut the method is little complicated and we have to repeat it for every single version.\r\n\r\nIt would be great if there is any easier way.\r\n\r\nThank you.","title":"java_home not detecting jdks installed through sdkman","body":"<p>I installed java jdk 20 and jdk 17 through SDKMAN.</p>\n<p>I want to be able to do something like this.</p>\n<p><code>alias java17=&quot;export JAVA_HOME=`/usr/libexec/java_home -v 17`; java -version&quot;</code></p>\n<p>But when i do this</p>\n<pre><code>/usr/libexec/java_home -V\n</code></pre>\n<p>It gives me output like this</p>\n<pre><code>Matching Java Virtual Machines (3):     11.0.19 (x86_64) &quot;OpenLogic-OpenJDK&quot; - &quot;OpenLogic-OpenJDK 11&quot; /Library/Java/JavaVirtualMachines/openlogic-openjdk-11.jdk/Contents/Home     1.8.381.09 (arm64) &quot;Oracle Corporation&quot; - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home     1.8.0_202 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home /Library/Java/JavaVirtualMachines/openlogic-openjdk-11.jdk/Contents/Home\n</code></pre>\n<p>Both Jdk20 and jdk17 are undetected by java_home</p>\n<p>path of my jdk20 and jdk17 are -<br />\n<code>/Users/default/.sdkman/candidates/java/20.0.2-oracle</code></p>\n<p><code>/Users/default/.sdkman/candidates/java/17.0.8-oracle</code></p>\n<p>I want java_home to detect jdk17 and jdk20 while I do this</p>\n<pre><code>/usr/libexec/java_home -V\n</code></pre>\n<p>I am unable to make java_home detect jdk17 and jdk20. I looked up on internet but didn't find any solution.</p>\n<p>Though I found one work around method in which we imitate the folder structure of JDKs installed without SDKMAN.</p>\n<p>This is how jdks installed without sdkman looks likee</p>\n<pre><code>  Contents/\n    Info.plist\n    Home/\n      &lt;actual JDK files here&gt;\n</code></pre>\n<p>But when installed through sdkman, it is like this</p>\n<pre><code>jdk_root-folder/\n            &lt;actual jdk files&gt;\n</code></pre>\n<p>In the work around method we need to imitate that file structure with Contents, Info.plist, Home, and then linking original jdk there.</p>\n<p>But the method is little complicated and we have to repeat it for every single version.</p>\n<p>It would be great if there is any easier way.</p>\n<p>Thank you.</p>\n"},{"tags":["java","unit-testing","testing","junit5"],"comments":[{"owner":{"account_id":2147039,"reputation":1083,"user_id":1904450,"display_name":"ZachOfAllTrades"},"score":0,"creation_date":1690225942,"post_id":76757350,"comment_id":135320868,"body_markdown":"so why do you want to add them?","body":"so why do you want to add them?"},{"owner":{"account_id":28963931,"reputation":15,"user_id":22185846,"display_name":"Mariko-chan"},"score":0,"creation_date":1690226115,"post_id":76757350,"comment_id":135320889,"body_markdown":"I am trying to create a test suite using JUnit 5 but I can&#39;t even get to that point because these dependencies are messing up my test classes","body":"I am trying to create a test suite using JUnit 5 but I can&#39;t even get to that point because these dependencies are messing up my test classes"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690230471,"creation_date":1690226963,"answer_id":76757512,"question_id":76757350,"body_markdown":"# tl;dr\r\n\r\nTo simply run tests written with JUnit 5, you do *not* need the *…Suite…* tools. Just specify the [aggregate JUnit + Jupiter archetype][1].\r\n\r\n```xml\r\n&lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n```\r\n\r\nIf you want to use the Suite features of JUnit, you need to add two more dependencies. Of course, you need at least one test engine such as *Jupiter*.\r\n\r\n# Details\r\n\r\nThe [*JUnit Platform Suite Engine*][2] is for running tests with *any* of many possible [test engines][3], and no one engine in particular. \r\n\r\n## *Jupiter*\r\n\r\n[JUnit 5][4] is designed to be a harness for one or more test engines. \r\n\r\nOne test engine is provided by the JUnit team, named *Jupiter*. JUnit 5 can run Jupiter-based tests, and JUnit 5 can run tests from other third-party test engines. Jupiter is but one of several test engines compatible with JUnit 5. \r\n\r\nIf you just want to run Jupiter tests, the replacement for JUnit 4 tests, you do not need *JUnit Platform Suite Engine*. Instead, just configure your Maven POM to specify the [aggregate JUnit + Jupiter archetype][1].\r\n\r\n```xml\r\n&lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n    &lt;version&gt;5.10.0-RC2&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThat archetype brings in three artifacts:\r\n\r\n - [JUnit Jupiter Engine][5] \r\n - [JUnit Jupiter API][6]\r\n - [JUnit Jupiter Params][7]\r\n\r\nThese in turn bring in artifacts for the JUnit 5 test harness platform.\r\n\r\nHere is an example [POM][8], my modified version of the POM from the [*Maven Quickstart Archetype*][9].\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;work.basil.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;ExJunitJupiter&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;name&gt;ExJunitJupiter&lt;/name&gt;\r\n    &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n    &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.release&gt;20&lt;/maven.compiler.release&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.10.0-RC2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n            &lt;plugins&gt;\r\n                &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.11.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;4.0.0-M3&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.4.1&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n## Example test\r\n\r\nHere is an example test, modified code taken from the [*Maven Quickstart Archetype*][9].\r\n\r\n```java\r\npackage work.basil.example;\r\n\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertTrue;\r\n\r\n/**\r\n * Unit test for simple App.\r\n */\r\npublic class AppTest\r\n{\r\n    /**\r\n     * Rigorous Test :-)\r\n     */\r\n    @Test\r\n    public void shouldAnswerWithTrue ( )\r\n    {\r\n        assertTrue ( true );\r\n    }\r\n}\r\n```\r\n\r\n## Suite features\r\n\r\nIf you want to use the *Suite* features of JUnit 5, you need to add two more dependencies.\r\n\r\n```java\r\n&lt;!-- https://mvnrepository.com/artifact/org.junit.platform/junit-platform-suite-api --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit-platform-suite-api&lt;/artifactId&gt;\r\n    &lt;version&gt;1.10.0-RC2&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- https://mvnrepository.com/artifact/org.junit.platform/junit-platform-suite-engine --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit-platform-suite-engine&lt;/artifactId&gt;\r\n    &lt;version&gt;1.10.0-RC2&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThese resolve the imports in code such as my modified version of this example taken from the JUnit 5 documentation.\r\n\r\n```java\r\npackage work.basil.example;\r\n\r\nimport org.junit.platform.suite.api.IncludeClassNamePatterns;\r\nimport org.junit.platform.suite.api.SelectPackages;\r\nimport org.junit.platform.suite.api.Suite;\r\nimport org.junit.platform.suite.api.SuiteDisplayName;\r\n\r\n@Suite\r\n@SuiteDisplayName ( &quot;JUnit Platform Suite Demo&quot; )\r\n@SelectPackages ( &quot;example&quot; )\r\n@IncludeClassNamePatterns ( &quot;.*Tests&quot; )\r\nclass SuiteDemo\r\n{\r\n}\r\n```\r\n\r\nSee [documentation](https://junit.org/junit5/docs/current/user-guide/#junit-platform-suite-engine).\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter\r\n  [2]: https://junit.org/junit5/docs/current/user-guide/#junit-platform-suite-engine\r\n  [3]: https://en.wikipedia.org/wiki/List_of_unit_testing_frameworks#Java\r\n  [4]: https://en.wikipedia.org/wiki/JUnit\r\n  [5]: https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine\r\n  [6]: https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api\r\n  [7]: https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-params\r\n  [8]: https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\r\n  [9]: https://maven.apache.org/archetypes/maven-archetype-quickstart/","title":"Why are JUnit 5 suite dependencies breaking my test classes?","body":"<h1>tl;dr</h1>\n<p>To simply run tests written with JUnit 5, you do <em>not</em> need the <em>…Suite…</em> tools. Just specify the <a href=\"https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter\" rel=\"nofollow noreferrer\">aggregate JUnit + Jupiter archetype</a>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n</code></pre>\n<p>If you want to use the Suite features of JUnit, you need to add two more dependencies. Of course, you need at least one test engine such as <em>Jupiter</em>.</p>\n<h1>Details</h1>\n<p>The <a href=\"https://junit.org/junit5/docs/current/user-guide/#junit-platform-suite-engine\" rel=\"nofollow noreferrer\"><em>JUnit Platform Suite Engine</em></a> is for running tests with <em>any</em> of many possible <a href=\"https://en.wikipedia.org/wiki/List_of_unit_testing_frameworks#Java\" rel=\"nofollow noreferrer\">test engines</a>, and no one engine in particular.</p>\n<h2><em>Jupiter</em></h2>\n<p><a href=\"https://en.wikipedia.org/wiki/JUnit\" rel=\"nofollow noreferrer\">JUnit 5</a> is designed to be a harness for one or more test engines.</p>\n<p>One test engine is provided by the JUnit team, named <em>Jupiter</em>. JUnit 5 can run Jupiter-based tests, and JUnit 5 can run tests from other third-party test engines. Jupiter is but one of several test engines compatible with JUnit 5.</p>\n<p>If you just want to run Jupiter tests, the replacement for JUnit 4 tests, you do not need <em>JUnit Platform Suite Engine</em>. Instead, just configure your Maven POM to specify the <a href=\"https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter\" rel=\"nofollow noreferrer\">aggregate JUnit + Jupiter archetype</a>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n    &lt;version&gt;5.10.0-RC2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>That archetype brings in three artifacts:</p>\n<ul>\n<li><a href=\"https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine\" rel=\"nofollow noreferrer\">JUnit Jupiter Engine</a></li>\n<li><a href=\"https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api\" rel=\"nofollow noreferrer\">JUnit Jupiter API</a></li>\n<li><a href=\"https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-params\" rel=\"nofollow noreferrer\">JUnit Jupiter Params</a></li>\n</ul>\n<p>These in turn bring in artifacts for the JUnit 5 test harness platform.</p>\n<p>Here is an example <a href=\"https://en.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\" rel=\"nofollow noreferrer\">POM</a>, my modified version of the POM from the <a href=\"https://maven.apache.org/archetypes/maven-archetype-quickstart/\" rel=\"nofollow noreferrer\"><em>Maven Quickstart Archetype</em></a>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;work.basil.example&lt;/groupId&gt;\n    &lt;artifactId&gt;ExJunitJupiter&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;name&gt;ExJunitJupiter&lt;/name&gt;\n    &lt;!-- FIXME change it to the project's website --&gt;\n    &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.release&gt;20&lt;/maven.compiler.release&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;5.10.0-RC2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n            &lt;plugins&gt;\n                &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;4.0.0-M3&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.4.1&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<h2>Example test</h2>\n<p>Here is an example test, modified code taken from the <a href=\"https://maven.apache.org/archetypes/maven-archetype-quickstart/\" rel=\"nofollow noreferrer\"><em>Maven Quickstart Archetype</em></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example;\n\nimport org.junit.jupiter.api.Test;\n\nimport static org.junit.jupiter.api.Assertions.assertTrue;\n\n/**\n * Unit test for simple App.\n */\npublic class AppTest\n{\n    /**\n     * Rigorous Test :-)\n     */\n    @Test\n    public void shouldAnswerWithTrue ( )\n    {\n        assertTrue ( true );\n    }\n}\n</code></pre>\n<h2>Suite features</h2>\n<p>If you want to use the <em>Suite</em> features of JUnit 5, you need to add two more dependencies.</p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/org.junit.platform/junit-platform-suite-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-platform-suite-api&lt;/artifactId&gt;\n    &lt;version&gt;1.10.0-RC2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/org.junit.platform/junit-platform-suite-engine --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-platform-suite-engine&lt;/artifactId&gt;\n    &lt;version&gt;1.10.0-RC2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>These resolve the imports in code such as my modified version of this example taken from the JUnit 5 documentation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example;\n\nimport org.junit.platform.suite.api.IncludeClassNamePatterns;\nimport org.junit.platform.suite.api.SelectPackages;\nimport org.junit.platform.suite.api.Suite;\nimport org.junit.platform.suite.api.SuiteDisplayName;\n\n@Suite\n@SuiteDisplayName ( &quot;JUnit Platform Suite Demo&quot; )\n@SelectPackages ( &quot;example&quot; )\n@IncludeClassNamePatterns ( &quot;.*Tests&quot; )\nclass SuiteDemo\n{\n}\n</code></pre>\n<p>See <a href=\"https://junit.org/junit5/docs/current/user-guide/#junit-platform-suite-engine\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":2147039,"reputation":1083,"user_id":1904450,"display_name":"ZachOfAllTrades"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690227106,"creation_date":1690227106,"answer_id":76757532,"question_id":76757350,"body_markdown":"you should ***not*** need \r\n- junit-platform-suite\r\n- junit-platform-suite-engine\r\n\r\nwith an up to date IDE, you should only need the junit-jupiter-* dependencies, but if you have an unusually or out of date IDE, you MAY need additional dependencies\r\n\r\nsee docs regarding what dependencies you *actually* need for your IDE\r\nhttps://junit.org/junit5/docs/current/user-guide/#running-tests-ide\r\n\r\npro tip: try running your Maven build with the tests from command line rather than from the IDE -- that will give you some indication of whether this is an IDE issue or an actual project dependency issue.","title":"Why are JUnit 5 suite dependencies breaking my test classes?","body":"<p>you should <em><strong>not</strong></em> need</p>\n<ul>\n<li>junit-platform-suite</li>\n<li>junit-platform-suite-engine</li>\n</ul>\n<p>with an up to date IDE, you should only need the junit-jupiter-* dependencies, but if you have an unusually or out of date IDE, you MAY need additional dependencies</p>\n<p>see docs regarding what dependencies you <em>actually</em> need for your IDE\n<a href=\"https://junit.org/junit5/docs/current/user-guide/#running-tests-ide\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/current/user-guide/#running-tests-ide</a></p>\n<p>pro tip: try running your Maven build with the tests from command line rather than from the IDE -- that will give you some indication of whether this is an IDE issue or an actual project dependency issue.</p>\n"}],"owner":{"account_id":28963931,"reputation":15,"user_id":22185846,"display_name":"Mariko-chan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76757512,"answer_count":2,"score":1,"last_activity_date":1690230471,"creation_date":1690225324,"question_id":76757350,"body_markdown":"I am new to JUnit testing and have run into an issue that seems to be caused when I add the junit-platform-suite and junit-platform-suite-engine dependencies to my build file (pom.xml). \r\n\r\nI am trying to create a test suite; however, when I add these dependencies, I am no longer able to run my test cases or test classes and the IDE returns that &quot;No tests were found&quot;. \r\n\r\nBelow is my pom.xml file with the JUnit suite dependencies commented out. If I add one or both dependencies, my test cases/classes no longer work.\r\n\r\n\r\n```\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-params --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.platform/junit-platform-suite --&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;1.9.3&lt;/version&gt;--&gt;\r\n&lt;!--            &lt;scope&gt;test&lt;/scope&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.platform/junit-platform-suite-engine --&gt;\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;junit-platform-suite-engine&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;version&gt;1.9.3&lt;/version&gt;--&gt;\r\n&lt;!--            &lt;scope&gt;test&lt;/scope&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n\r\n```\r\n\r\nI have tried to invalidate caches and reload, rebuild the module/project, clearing the config settings for JUnit, made sure the Sources Root and Test Sources Root were marked on the correct directory, etc. but nothing seems to work.\r\n","title":"Why are JUnit 5 suite dependencies breaking my test classes?","body":"<p>I am new to JUnit testing and have run into an issue that seems to be caused when I add the junit-platform-suite and junit-platform-suite-engine dependencies to my build file (pom.xml).</p>\n<p>I am trying to create a test suite; however, when I add these dependencies, I am no longer able to run my test cases or test classes and the IDE returns that &quot;No tests were found&quot;.</p>\n<p>Below is my pom.xml file with the JUnit suite dependencies commented out. If I add one or both dependencies, my test cases/classes no longer work.</p>\n<pre><code>    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-params --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n            &lt;version&gt;5.9.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.9.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.platform/junit-platform-suite --&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;1.9.3&lt;/version&gt;--&gt;\n&lt;!--            &lt;scope&gt;test&lt;/scope&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.platform/junit-platform-suite-engine --&gt;\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;junit-platform-suite-engine&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;1.9.3&lt;/version&gt;--&gt;\n&lt;!--            &lt;scope&gt;test&lt;/scope&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n\n</code></pre>\n<p>I have tried to invalidate caches and reload, rebuild the module/project, clearing the config settings for JUnit, made sure the Sources Root and Test Sources Root were marked on the correct directory, etc. but nothing seems to work.</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":22662393,"reputation":1978,"user_id":16835308,"display_name":"Zakk"},"score":0,"creation_date":1647717561,"post_id":71541234,"comment_id":126442923,"body_markdown":"Take a look [here](https://stackoverflow.com/questions/13436995/why-and-when-to-use-skeletal-implementation-in-java). It may not answer your question, but is useful I guess.","body":"Take a look <a href=\"https://stackoverflow.com/questions/13436995/why-and-when-to-use-skeletal-implementation-in-java\">here</a>. It may not answer your question, but is useful I guess."},{"owner":{"account_id":13370794,"reputation":165,"user_id":9649306,"display_name":"ABC"},"score":0,"creation_date":1647717821,"post_id":71541234,"comment_id":126442966,"body_markdown":"@Zakk Thank you. But I already read it before I ask the question. Unfortunately, without an example, I still cannot visualize it correctly.","body":"@Zakk Thank you. But I already read it before I ask the question. Unfortunately, without an example, I still cannot visualize it correctly."},{"owner":{"account_id":22662393,"reputation":1978,"user_id":16835308,"display_name":"Zakk"},"score":0,"creation_date":1647719102,"post_id":71541234,"comment_id":126443211,"body_markdown":"_&quot;Is this like a normal inner class?&quot;_ Yes, it is. I don&#39;t know if [this](https://stackoverflow.com/a/6264730/16835308) answers your question.","body":"<i>&quot;Is this like a normal inner class?&quot;</i> Yes, it is. I don&#39;t know if <a href=\"https://stackoverflow.com/a/6264730/16835308\">this</a> answers your question."},{"owner":{"account_id":13370794,"reputation":165,"user_id":9649306,"display_name":"ABC"},"score":0,"creation_date":1647719829,"post_id":71541234,"comment_id":126443352,"body_markdown":"@Zakk Thank you. I think I found the answer from [this useful article](https://10kloc.wordpress.com/2012/12/03/abstract-interfaces-the-mystery-revealed/). It has a nice example but never mentions **simulated multiple inheritance** but I guess that&#39;s acceptable.","body":"@Zakk Thank you. I think I found the answer from <a href=\"https://10kloc.wordpress.com/2012/12/03/abstract-interfaces-the-mystery-revealed/\" rel=\"nofollow noreferrer\">this useful article</a>. It has a nice example but never mentions <b>simulated multiple inheritance</b> but I guess that&#39;s acceptable."},{"owner":{"account_id":22662393,"reputation":1978,"user_id":16835308,"display_name":"Zakk"},"score":0,"creation_date":1647720005,"post_id":71541234,"comment_id":126443389,"body_markdown":"So, please answer your own question and mark it as the accepted one. This way, others can benefit from it.","body":"So, please answer your own question and mark it as the accepted one. This way, others can benefit from it."}],"answers":[{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647798011,"creation_date":1647798011,"answer_id":71549136,"question_id":71541234,"body_markdown":"&gt; What is this private inner class? \r\n\r\n- `private` is [access modifier in Java][1]. \r\n- `inner` means that class is placed\\nested in another class\r\n\r\nAn example:\r\n\r\n    class OuterClass {\r\n        private class InnerClass {\r\n            {\r\n                \r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html","title":"What is simulated multiple inheritance in Java?","body":"<blockquote>\n<p>What is this private inner class?</p>\n</blockquote>\n<ul>\n<li><code>private</code> is <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"nofollow noreferrer\">access modifier in Java</a>.</li>\n<li><code>inner</code> means that class is placed\\nested in another class</li>\n</ul>\n<p>An example:</p>\n<pre><code>class OuterClass {\n    private class InnerClass {\n        {\n            \n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":215656,"reputation":455,"user_id":470424,"display_name":"metronic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690229001,"creation_date":1690229001,"answer_id":76757695,"question_id":71541234,"body_markdown":"Suppose we have an interface called **`Shape`** that represents geometric shapes with methods for calculating area and perimeter. \r\n\r\nWe will create a skeletal implementation class **`AbstractShape`** that provides default implementations for these methods, and then we will have a class **`Circle`** that directly implements the **`Shape`** interface but also reuses code from AbstractShape by forwarding method calls to an inner class.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language:java --&gt;\r\n\r\n    // Interface representing a geometric shape\r\n    interface Shape {\r\n        double getArea();\r\n        double getPerimeter();\r\n    }\r\n\r\n    // Skeletal implementation class providing default implementations\r\n    abstract class AbstractShape implements Shape {\r\n        // Common method implementations for all shapes\r\n        @Override\r\n        public double getArea() {\r\n            return 0.0;\r\n        }\r\n\r\n        @Override\r\n        public double getPerimeter() {\r\n            return 0.0;\r\n        }\r\n    }\r\n\r\n    // Class representing a Circle, which directly implements Shape\r\n    class Circle implements Shape {\r\n        private final double radius;\r\n\r\n        // Constructor for Circle\r\n        public Circle(double radius) {\r\n            this.radius = radius;\r\n        }\r\n\r\n        // Inner class that extends the skeletal implementation\r\n        private class CircleImpl extends AbstractShape {\r\n            @Override\r\n            public double getArea() {\r\n                return Math.PI * radius * radius;\r\n            }\r\n\r\n            @Override\r\n            public double getPerimeter() {\r\n                return 2 * Math.PI * radius;\r\n            }\r\n        }\r\n\r\n        // Forward method calls to the inner CircleImpl instance\r\n        private final CircleImpl circleImpl = new CircleImpl();\r\n\r\n        @Override\r\n        public double getArea() {\r\n            return circleImpl.getArea();\r\n        }\r\n\r\n        @Override\r\n        public double getPerimeter() {\r\n            return circleImpl.getPerimeter();\r\n        }\r\n    }\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Shape circle = new Circle(5.0);\r\n            System.out.println(&quot;Circle Area: &quot; + circle.getArea());\r\n            System.out.println(&quot;Circle Perimeter: &quot; + circle.getPerimeter());\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIn this example, **`AbstractShape`** serves as a skeletal implementation of the **`Shape`** interface, providing default implementations for `getArea()` and `getPerimeter()`. The **`Circle`** class directly implements the **`Shape`** interface, but it also has an inner class **`CircleImpl`**, which extends **`AbstractShape`** and provides specific implementations for `getArea()` and `getPerimeter()` tailored to circles.\r\n\r\nBy forwarding the method calls to the inner **`CircleImpl`** instance, the **`Circle`** class is effectively reusing the code from **`AbstractShape`** without having to extend it directly. \r\n\r\nThis allows the **`Circle`** class to benefit from the implementation assistance provided by the skeletal implementation, while still being free to implement other interfaces or extend different classes as needed. \r\n\r\nThis is what is referred to as *simulated multiple inheritance* in Java and as you can see it&#39;s way more flexible than using only polymorphism and inheritance.\r\n\r\n","title":"What is simulated multiple inheritance in Java?","body":"<p>Suppose we have an interface called <strong><code>Shape</code></strong> that represents geometric shapes with methods for calculating area and perimeter.</p>\n<p>We will create a skeletal implementation class <strong><code>AbstractShape</code></strong> that provides default implementations for these methods, and then we will have a class <strong><code>Circle</code></strong> that directly implements the <strong><code>Shape</code></strong> interface but also reuses code from AbstractShape by forwarding method calls to an inner class.</p>\n\n<pre><code>// Interface representing a geometric shape\ninterface Shape {\n    double getArea();\n    double getPerimeter();\n}\n\n// Skeletal implementation class providing default implementations\nabstract class AbstractShape implements Shape {\n    // Common method implementations for all shapes\n    @Override\n    public double getArea() {\n        return 0.0;\n    }\n\n    @Override\n    public double getPerimeter() {\n        return 0.0;\n    }\n}\n\n// Class representing a Circle, which directly implements Shape\nclass Circle implements Shape {\n    private final double radius;\n\n    // Constructor for Circle\n    public Circle(double radius) {\n        this.radius = radius;\n    }\n\n    // Inner class that extends the skeletal implementation\n    private class CircleImpl extends AbstractShape {\n        @Override\n        public double getArea() {\n            return Math.PI * radius * radius;\n        }\n\n        @Override\n        public double getPerimeter() {\n            return 2 * Math.PI * radius;\n        }\n    }\n\n    // Forward method calls to the inner CircleImpl instance\n    private final CircleImpl circleImpl = new CircleImpl();\n\n    @Override\n    public double getArea() {\n        return circleImpl.getArea();\n    }\n\n    @Override\n    public double getPerimeter() {\n        return circleImpl.getPerimeter();\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        Shape circle = new Circle(5.0);\n        System.out.println(&quot;Circle Area: &quot; + circle.getArea());\n        System.out.println(&quot;Circle Perimeter: &quot; + circle.getPerimeter());\n    }\n}\n</code></pre>\n<p>In this example, <strong><code>AbstractShape</code></strong> serves as a skeletal implementation of the <strong><code>Shape</code></strong> interface, providing default implementations for <code>getArea()</code> and <code>getPerimeter()</code>. The <strong><code>Circle</code></strong> class directly implements the <strong><code>Shape</code></strong> interface, but it also has an inner class <strong><code>CircleImpl</code></strong>, which extends <strong><code>AbstractShape</code></strong> and provides specific implementations for <code>getArea()</code> and <code>getPerimeter()</code> tailored to circles.</p>\n<p>By forwarding the method calls to the inner <strong><code>CircleImpl</code></strong> instance, the <strong><code>Circle</code></strong> class is effectively reusing the code from <strong><code>AbstractShape</code></strong> without having to extend it directly.</p>\n<p>This allows the <strong><code>Circle</code></strong> class to benefit from the implementation assistance provided by the skeletal implementation, while still being free to implement other interfaces or extend different classes as needed.</p>\n<p>This is what is referred to as <em>simulated multiple inheritance</em> in Java and as you can see it's way more flexible than using only polymorphism and inheritance.</p>\n"}],"owner":{"account_id":13370794,"reputation":165,"user_id":9649306,"display_name":"ABC"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1690229001,"creation_date":1647717053,"question_id":71541234,"body_markdown":"I understand that Java does not have multiple inheritance.\r\n\r\nI&#39;m reading Effective Java 3rd Edition Item 20 (page 102), here is a portion from the page:\r\n\r\n&gt; The beauty of skeletal implementation classes is that they provide all of the\r\nimplementation assistance of abstract classes without imposing the severe constraints that abstract classes impose when they serve as type definitions. For most\r\nimplementors of an interface with a skeletal implementation class, extending this\r\nclass is the obvious choice, but it is strictly optional. If a class cannot be made to\r\nextend the skeletal implementation, the class can always implement the interface\r\ndirectly. The class still benefits from any default methods present on the interface\r\nitself. **Furthermore, the skeletal implementation can still aid the implementor’s\r\ntask. The class implementing the interface can forward invocations of interface\r\nmethods to a contained instance of a *private inner class* that extends the skeletal\r\nimplementation.** This technique, known as simulated multiple inheritance, is\r\nclosely related to the wrapper class idiom discussed in Item 18. It provides many\r\nof the benefits of multiple inheritance, while avoiding the pitfalls.\r\n\r\nSince English is not my native language, the bold part of the quote got me confused. And I got no result when search for the answer.\r\n\r\nWhat is this `private inner class`? Is this like a normal inner class?\r\n\r\nIn practice, does this technique get use very often?\r\n\r\nAny code example would be extremely useful for me to visualize!\r\n\r\nThank you!","title":"What is simulated multiple inheritance in Java?","body":"<p>I understand that Java does not have multiple inheritance.</p>\n<p>I'm reading Effective Java 3rd Edition Item 20 (page 102), here is a portion from the page:</p>\n<blockquote>\n<p>The beauty of skeletal implementation classes is that they provide all of the\nimplementation assistance of abstract classes without imposing the severe constraints that abstract classes impose when they serve as type definitions. For most\nimplementors of an interface with a skeletal implementation class, extending this\nclass is the obvious choice, but it is strictly optional. If a class cannot be made to\nextend the skeletal implementation, the class can always implement the interface\ndirectly. The class still benefits from any default methods present on the interface\nitself. <strong>Furthermore, the skeletal implementation can still aid the implementor’s\ntask. The class implementing the interface can forward invocations of interface\nmethods to a contained instance of a <em>private inner class</em> that extends the skeletal\nimplementation.</strong> This technique, known as simulated multiple inheritance, is\nclosely related to the wrapper class idiom discussed in Item 18. It provides many\nof the benefits of multiple inheritance, while avoiding the pitfalls.</p>\n</blockquote>\n<p>Since English is not my native language, the bold part of the quote got me confused. And I got no result when search for the answer.</p>\n<p>What is this <code>private inner class</code>? Is this like a normal inner class?</p>\n<p>In practice, does this technique get use very often?</p>\n<p>Any code example would be extremely useful for me to visualize!</p>\n<p>Thank you!</p>\n"},{"tags":["java","opencv"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1690221532,"post_id":76756949,"comment_id":135320198,"body_markdown":"And you already read through https://stackoverflow.com/questions/59371075/opencv-error-cant-open-camera-through-video-capture?","body":"And you already read through <a href=\"https://stackoverflow.com/questions/59371075/opencv-error-cant-open-camera-through-video-capture\" title=\"opencv error cant open camera through video capture\">stackoverflow.com/questions/59371075/&hellip;</a>?"},{"owner":{"account_id":19808181,"reputation":1,"user_id":16743764,"display_name":"Aidan Hartry"},"score":0,"creation_date":1690221854,"post_id":76756949,"comment_id":135320256,"body_markdown":"I have, and running the suggested commands to fix permission issues has not solved the issue.","body":"I have, and running the suggested commands to fix permission issues has not solved the issue."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1690226987,"post_id":76756949,"comment_id":135321056,"body_markdown":"Then remember to add that to your post, too. Let people know what you already tried so they don&#39;t ask you to repeat something you already ruled out.","body":"Then remember to add that to your post, too. Let people know what you already tried so they don&#39;t ask you to repeat something you already ruled out."}],"owner":{"account_id":19808181,"reputation":1,"user_id":16743764,"display_name":"Aidan Hartry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690228801,"creation_date":1690221323,"question_id":76756949,"body_markdown":"I am trying to use the opencv library in Java to take pictures using the webcam (Logitech C270). In my code, I have the following:\r\n\r\n```\r\n    VideoCap(){\r\n        cap = new VideoCapture(0);\r\n        cap.open(0);\r\n    }\r\n```\r\nWhich is the function that creates the new video capture device. Running the program gives the following error:\r\n\r\n\r\n```\r\n[ WARN:0@0.198] global cap_v4l.cpp:003 open VIDEOIO(V4L2:/dev/video0): can&#39;t open camera by index\r\n[Error:0@0.201] global obsensor_uvc_stream_channel.cpp:156 getStreamChannelGroup Camera index out of range\r\n```\r\n\r\n\r\nI have tried placing various values inside the VideoCapture constructor (-1, 0, , 1) all of them give the same error. I have confirmed that Opencv compiled with V4L2.\r\n\r\nRunning v4l2-ctl --list-devices confirms that the webcam is detected, and I also ran cheese and was able to get video input\r\n\r\nFollowing [this](https://askubuntu.com/questions/1110766/videoio-errorv4l-cant-open-camera-by-index-0) suggestion I ran this command: sudo chmod 777 /dev/video0, which did not solve the problem. \r\n\r\nI also tried [this](https://stackoverflow.com/a/64490341/16743764) suggestion which also did not affect the issue\r\n","title":"Java Opencv is unable to access webcam &#39;can&#39;t open camera by index&#39;","body":"<p>I am trying to use the opencv library in Java to take pictures using the webcam (Logitech C270). In my code, I have the following:</p>\n<pre><code>    VideoCap(){\n        cap = new VideoCapture(0);\n        cap.open(0);\n    }\n</code></pre>\n<p>Which is the function that creates the new video capture device. Running the program gives the following error:</p>\n<pre><code>[ WARN:0@0.198] global cap_v4l.cpp:003 open VIDEOIO(V4L2:/dev/video0): can't open camera by index\n[Error:0@0.201] global obsensor_uvc_stream_channel.cpp:156 getStreamChannelGroup Camera index out of range\n</code></pre>\n<p>I have tried placing various values inside the VideoCapture constructor (-1, 0, , 1) all of them give the same error. I have confirmed that Opencv compiled with V4L2.</p>\n<p>Running v4l2-ctl --list-devices confirms that the webcam is detected, and I also ran cheese and was able to get video input</p>\n<p>Following <a href=\"https://askubuntu.com/questions/1110766/videoio-errorv4l-cant-open-camera-by-index-0\">this</a> suggestion I ran this command: sudo chmod 777 /dev/video0, which did not solve the problem.</p>\n<p>I also tried <a href=\"https://stackoverflow.com/a/64490341/16743764\">this</a> suggestion which also did not affect the issue</p>\n"},{"tags":["java","json","spring","rest","json-patch"],"owner":{"account_id":25488603,"reputation":131,"user_id":19283800,"display_name":"Helotrix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690228623,"creation_date":1690228623,"question_id":76757664,"body_markdown":"I have developed a restapi using SpringBoot. I would now like implements object manipulation by jsonpatch.\r\n\r\nIn general, I would like the restrict the patch to certain properties. For example, in addition to my Person Dto, I also have a PersonPatch Dto that only contains the editable fields. Currently I do this:\r\n- Receive JsonPatch\r\n- Pull person entity from database\r\n- Generate PersonPatch Dto by Mapstruct\r\n- Apply jsonpatch to DTO and validate it\r\n- map PersonPatch-Dto to person-entity and save entity to database\r\n\r\nI&#39;m assuming this proceed is okay?\r\n\r\nHowever, now I have the following problem: My Person DTO has a field called &quot;numbers&quot;. This field now contains a list of objects of type telephone number (type, telephone number, notice).\r\n\r\nIf I now want to add a new number, it&#39;s relatively simple:\r\n```\r\n[ {\r\n  &quot;op&quot;: &quot;add&quot;,\r\n  &quot;path&quot;: &quot;/numbers/-&quot;,\r\n  &quot;value&quot;: {\r\n    &quot;type&quot;: &quot;private&quot;, \r\n    &quot;number&quot;: &quot;0018181&quot;,\r\n    &quot;notice&quot;: &quot;my notice&quot;\r\n   }\r\n  }]\r\n```\r\n   \r\nHowever, I have problems deleting a phone number. Here I can&#39;t say by jsonpatch &quot;delete phone number &quot;0018181&quot;. I must enter the id of the list element. In individual cases, this also works because I can count the list elements in the frontend. However, I get a problem if another person has made changes to the person in the meantime. My frontend then assumes that I want to delete id 3, but on the server side it is already a different id due to changes.\r\n\r\nHow can I make sure that I am really deleting the correct data when deleting?","title":"Securely deleting a list item by jsonpatch (refernce by element id)","body":"<p>I have developed a restapi using SpringBoot. I would now like implements object manipulation by jsonpatch.</p>\n<p>In general, I would like the restrict the patch to certain properties. For example, in addition to my Person Dto, I also have a PersonPatch Dto that only contains the editable fields. Currently I do this:</p>\n<ul>\n<li>Receive JsonPatch</li>\n<li>Pull person entity from database</li>\n<li>Generate PersonPatch Dto by Mapstruct</li>\n<li>Apply jsonpatch to DTO and validate it</li>\n<li>map PersonPatch-Dto to person-entity and save entity to database</li>\n</ul>\n<p>I'm assuming this proceed is okay?</p>\n<p>However, now I have the following problem: My Person DTO has a field called &quot;numbers&quot;. This field now contains a list of objects of type telephone number (type, telephone number, notice).</p>\n<p>If I now want to add a new number, it's relatively simple:</p>\n<pre><code>[ {\n  &quot;op&quot;: &quot;add&quot;,\n  &quot;path&quot;: &quot;/numbers/-&quot;,\n  &quot;value&quot;: {\n    &quot;type&quot;: &quot;private&quot;, \n    &quot;number&quot;: &quot;0018181&quot;,\n    &quot;notice&quot;: &quot;my notice&quot;\n   }\n  }]\n</code></pre>\n<p>However, I have problems deleting a phone number. Here I can't say by jsonpatch &quot;delete phone number &quot;0018181&quot;. I must enter the id of the list element. In individual cases, this also works because I can count the list elements in the frontend. However, I get a problem if another person has made changes to the person in the meantime. My frontend then assumes that I want to delete id 3, but on the server side it is already a different id due to changes.</p>\n<p>How can I make sure that I am really deleting the correct data when deleting?</p>\n"},{"tags":["java","modularity","java-20"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":2,"creation_date":1690215910,"post_id":76756341,"comment_id":135319233,"body_markdown":"The new `jakarta.*` packaging is for EE, not for SE.","body":"The new <code>jakarta.*</code> packaging is for EE, not for SE."},{"owner":{"account_id":15483344,"reputation":87,"user_id":11170011,"display_name":"KronosOne"},"score":0,"creation_date":1690216683,"post_id":76756341,"comment_id":135319391,"body_markdown":"I figured it ! then also for latest jdk ( 20 ) we still have javax.* ?","body":"I figured it ! then also for latest jdk ( 20 ) we still have javax.* ?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1690217403,"post_id":76756341,"comment_id":135319522,"body_markdown":"That is correct.","body":"That is correct."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690228439,"creation_date":1690216653,"answer_id":76756484,"question_id":76756341,"body_markdown":"# *Jakarta EE* versus *Java SE*\r\n\r\n[Java SE][1] (Standard Edition) is the regular Java we all know and love, the starting point for Java programming on desktop and server apps. Many of the **classes bundled with Java SE use the `javax.*` package** naming. This is true for all versions of Java, through the upcoming Java 21. \r\n\r\n[Jakarta EE][2] (Enterprise Edition) is a collection of specifications &amp; APIs with various implementations. These run on top of Java SE. These **no longer use the `javax.*` package** naming. As of [Jakarta 9][3], these use the `jakarta.*` package naming. See [this Eclipse Newsletter post](https://www.eclipse.org/community/eclipse_newsletter/2020/november/1.php). \r\n\r\nThis package naming change is part of the transition due to [Oracle Corp][4] donating the former *Java EE* technologies to the [Eclipse Foundation][5] becoming *Jakarta EE*. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_Platform,_Standard_Edition\r\n  [2]: https://en.wikipedia.org/wiki/Jakarta_EE\r\n  [3]: https://en.wikipedia.org/wiki/Jakarta_EE#History\r\n  [4]: https://en.wikipedia.org/wiki/Oracle_Corporation\r\n  [5]: https://en.wikipedia.org/wiki/Eclipse_Foundation","title":"JDK 20 seems to export &quot;javax.&quot;","body":"<h1><em>Jakarta EE</em> versus <em>Java SE</em></h1>\n<p><a href=\"https://en.wikipedia.org/wiki/Java_Platform,_Standard_Edition\" rel=\"nofollow noreferrer\">Java SE</a> (Standard Edition) is the regular Java we all know and love, the starting point for Java programming on desktop and server apps. Many of the <strong>classes bundled with Java SE use the <code>javax.*</code> package</strong> naming. This is true for all versions of Java, through the upcoming Java 21.</p>\n<p><a href=\"https://en.wikipedia.org/wiki/Jakarta_EE\" rel=\"nofollow noreferrer\">Jakarta EE</a> (Enterprise Edition) is a collection of specifications &amp; APIs with various implementations. These run on top of Java SE. These <strong>no longer use the <code>javax.*</code> package</strong> naming. As of <a href=\"https://en.wikipedia.org/wiki/Jakarta_EE#History\" rel=\"nofollow noreferrer\">Jakarta 9</a>, these use the <code>jakarta.*</code> package naming. See <a href=\"https://www.eclipse.org/community/eclipse_newsletter/2020/november/1.php\" rel=\"nofollow noreferrer\">this Eclipse Newsletter post</a>.</p>\n<p>This package naming change is part of the transition due to <a href=\"https://en.wikipedia.org/wiki/Oracle_Corporation\" rel=\"nofollow noreferrer\">Oracle Corp</a> donating the former <em>Java EE</em> technologies to the <a href=\"https://en.wikipedia.org/wiki/Eclipse_Foundation\" rel=\"nofollow noreferrer\">Eclipse Foundation</a> becoming <em>Jakarta EE</em>.</p>\n"}],"owner":{"account_id":15483344,"reputation":87,"user_id":11170011,"display_name":"KronosOne"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76756484,"answer_count":1,"score":1,"last_activity_date":1690228439,"creation_date":1690215611,"question_id":76756341,"body_markdown":"I am starting to use java modularity. On java.xml module &lt;https://docs.oracle.com/en/java/javase/20/docs/api/java.xml/module-summary.html&gt; it is reported as Exports a lot of classes prefixed with javax. WhY ? How it&#39;is possible ? I understood that al java code with javax prefix was ported to jakarta.*  , or this is valid only for Jakarta EE distribution and not for JDK ? ","title":"JDK 20 seems to export &quot;javax.&quot;","body":"<p>I am starting to use java modularity. On java.xml module <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.xml/module-summary.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/20/docs/api/java.xml/module-summary.html</a> it is reported as Exports a lot of classes prefixed with javax. WhY ? How it'is possible ? I understood that al java code with javax prefix was ported to jakarta.*  , or this is valid only for Jakarta EE distribution and not for JDK ?</p>\n"},{"tags":["java","android","kotlin","onkeydown","android-homebutton"],"answers":[{"tags":[],"owner":{"account_id":15506875,"reputation":144,"user_id":11186796,"display_name":"Akshay Avaiya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689928737,"creation_date":1689928737,"answer_id":76736409,"question_id":76735417,"body_markdown":"In Android, when the user presses the &quot;Home&quot; button, the current activity goes into the background, and the user returns to the device&#39;s home screen. By default, the activity is not finished or destroyed when the &quot;Home&quot; button is pressed. Instead, it enters the &quot;paused&quot; state, and its lifecycle methods, such as onPause() and onStop(), are called.\r\n\r\nHowever, if you want to finish the activity explicitly when the &quot;Home&quot; button is pressed, you can override the onUserLeaveHint() method in your activity. This method is called when the user navigates away from your activity, which includes cases like pressing the &quot;Home&quot; button.\r\n\r\n    import android.app.Activity;\r\n    import android.os.Bundle;\r\n    \r\n    public class YourActivity extends Activity {\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            // Your activity setup and initialization here\r\n        }\r\n    \r\n        @Override\r\n        protected void onUserLeaveHint() {\r\n            super.onUserLeaveHint();\r\n            // Finish the activity when the Home button is pressed\r\n            finish();\r\n        }\r\n    }\r\n\r\n\r\nIn this example, when the user presses the &quot;Home&quot; button, the onUserLeaveHint() method is called, and we override it to call finish(), which will destroy the current activity and remove it from the backstack.","title":"Detecting / finishing Activity on Home button press in Android","body":"<p>In Android, when the user presses the &quot;Home&quot; button, the current activity goes into the background, and the user returns to the device's home screen. By default, the activity is not finished or destroyed when the &quot;Home&quot; button is pressed. Instead, it enters the &quot;paused&quot; state, and its lifecycle methods, such as onPause() and onStop(), are called.</p>\n<p>However, if you want to finish the activity explicitly when the &quot;Home&quot; button is pressed, you can override the onUserLeaveHint() method in your activity. This method is called when the user navigates away from your activity, which includes cases like pressing the &quot;Home&quot; button.</p>\n<pre><code>import android.app.Activity;\nimport android.os.Bundle;\n\npublic class YourActivity extends Activity {\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        // Your activity setup and initialization here\n    }\n\n    @Override\n    protected void onUserLeaveHint() {\n        super.onUserLeaveHint();\n        // Finish the activity when the Home button is pressed\n        finish();\n    }\n}\n</code></pre>\n<p>In this example, when the user presses the &quot;Home&quot; button, the onUserLeaveHint() method is called, and we override it to call finish(), which will destroy the current activity and remove it from the backstack.</p>\n"}],"owner":{"account_id":20420325,"reputation":11,"user_id":14981445,"display_name":"Naren Vasudevan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690228196,"creation_date":1689918705,"question_id":76735417,"body_markdown":"I have a `service,` and when tapped a button, My Activity, fragment opens.\r\nThis is an Editor screen activity. \r\n\r\nI have another activity on top of it, A `chooser Activity.`\r\n\r\nWhen the user presses the `Home` button from the `Editor Activity,` the activity lifecycle goes to the `onStop.`\r\n\r\nI am updating the parent service in the `onDestroy` of the `Editor Activity.`\r\n\r\nWhen the user presses the back button, it calls `onDestroy` and updates the parent service layout.\r\n\r\nHowever, when the `Home` button is pressed, the activity calls the `onStop,` and the service is not updated.\r\n\r\nI need to finish the activity when the `Home` button is pressed.\r\n\r\nI cannot use the `onUserLeaveHint()` as I have the `chooser Activity` on top of the `Editor Activity.` \r\n\r\nI cannot destroy the Activity in `onStop` as well, because of the `chooser Activity.`\r\n\r\nI have also tried using the `onKeyDown,` but didn&#39;t get detected on pressing the `Home` button.\r\n\r\nAlso tried `clearTaskOnLaunch` and `launchMode = singleInstance` as well.","title":"Detecting / finishing Activity on Home button press in Android","body":"<p>I have a <code>service,</code> and when tapped a button, My Activity, fragment opens.\nThis is an Editor screen activity.</p>\n<p>I have another activity on top of it, A <code>chooser Activity.</code></p>\n<p>When the user presses the <code>Home</code> button from the <code>Editor Activity,</code> the activity lifecycle goes to the <code>onStop.</code></p>\n<p>I am updating the parent service in the <code>onDestroy</code> of the <code>Editor Activity.</code></p>\n<p>When the user presses the back button, it calls <code>onDestroy</code> and updates the parent service layout.</p>\n<p>However, when the <code>Home</code> button is pressed, the activity calls the <code>onStop,</code> and the service is not updated.</p>\n<p>I need to finish the activity when the <code>Home</code> button is pressed.</p>\n<p>I cannot use the <code>onUserLeaveHint()</code> as I have the <code>chooser Activity</code> on top of the <code>Editor Activity.</code></p>\n<p>I cannot destroy the Activity in <code>onStop</code> as well, because of the <code>chooser Activity.</code></p>\n<p>I have also tried using the <code>onKeyDown,</code> but didn't get detected on pressing the <code>Home</code> button.</p>\n<p>Also tried <code>clearTaskOnLaunch</code> and <code>launchMode = singleInstance</code> as well.</p>\n"},{"tags":["java","azure","jackson","conflict","linkageerror"],"comments":[{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":0,"creation_date":1690219512,"post_id":76755495,"comment_id":135319882,"body_markdown":"Are your jackson dependencies imported with a version defined? What if you try to delete a version from dependency definition so that it could come from BOM?","body":"Are your jackson dependencies imported with a version defined? What if you try to delete a version from dependency definition so that it could come from BOM?"},{"owner":{"account_id":29079084,"reputation":1,"user_id":22275533,"display_name":"Piotr Kwiatkowski"},"score":0,"creation_date":1690221439,"post_id":76755495,"comment_id":135320179,"body_markdown":"@VitalyChura it doesn&#39;t seem to work. I deleted some versions of explicitly imported jackson dependencies, but they were not downloaded based on azure-sdk-bom dependency management. Is this the way I should implement it, or add another BOM?","body":"@VitalyChura it doesn&#39;t seem to work. I deleted some versions of explicitly imported jackson dependencies, but they were not downloaded based on azure-sdk-bom dependency management. Is this the way I should implement it, or add another BOM?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690223072,"post_id":76755495,"comment_id":135320439,"body_markdown":"How are you deploying this? I see something related to war in the stacktrace. If you create a war file and your server provides a version of a library that might take precedence over the one from the application (depending on the rules and configuration of the server).","body":"How are you deploying this? I see something related to war in the stacktrace. If you create a war file and your server provides a version of a library that might take precedence over the one from the application (depending on the rules and configuration of the server)."},{"owner":{"account_id":29079084,"reputation":1,"user_id":22275533,"display_name":"Piotr Kwiatkowski"},"score":0,"creation_date":1690223292,"post_id":76755495,"comment_id":135320472,"body_markdown":"@M.Deinum correct, I deploy a war to Wildfly server. I can see that it indeed uses jackson dependencies, all 2.16.2 version :/","body":"@M.Deinum correct, I deploy a war to Wildfly server. I can see that it indeed uses jackson dependencies, all 2.16.2 version :/"},{"owner":{"account_id":29079084,"reputation":1,"user_id":22275533,"display_name":"Piotr Kwiatkowski"},"score":0,"creation_date":1690227302,"post_id":76755495,"comment_id":135321111,"body_markdown":"@M.Deinum bingo, I changed some dependencies in my wildfly configuration. The application no longer uses these &quot;2.16.2&quot; and azure blob SDK finally manages to create a container. THANK YOU","body":"@M.Deinum bingo, I changed some dependencies in my wildfly configuration. The application no longer uses these &quot;2.16.2&quot; and azure blob SDK finally manages to create a container. THANK YOU"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690267550,"post_id":76755495,"comment_id":135325440,"body_markdown":"I&#39;m not to familiar with WilfFly but couldn&#39;t you just specify that you want to give the ones from the application precedence? You can do this in WebSphere as well with APPLICATION_FIRST/PARENT_LAST classloading, it simply changes the order in which classes are loaded/detected.","body":"I&#39;m not to familiar with WilfFly but couldn&#39;t you just specify that you want to give the ones from the application precedence? You can do this in WebSphere as well with APPLICATION_FIRST/PARENT_LAST classloading, it simply changes the order in which classes are loaded/detected."}],"answers":[{"tags":[],"owner":{"account_id":29079084,"reputation":1,"user_id":22275533,"display_name":"Piotr Kwiatkowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690227886,"creation_date":1690227886,"answer_id":76757601,"question_id":76755495,"body_markdown":"It was a WildFly server, to which I deployed the application, that caused the problem. It was overriding jackson dependencies configured in the app with predefined ones. After replacing them in WildFly configuration, the problem disappeared and the Azure SDK creates the blob container.","title":"Azure dependency conflict with Jackson: java.lang.LinkageError: Package versions","body":"<p>It was a WildFly server, to which I deployed the application, that caused the problem. It was overriding jackson dependencies configured in the app with predefined ones. After replacing them in WildFly configuration, the problem disappeared and the Azure SDK creates the blob container.</p>\n"}],"owner":{"account_id":29079084,"reputation":1,"user_id":22275533,"display_name":"Piotr Kwiatkowski"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690227886,"creation_date":1690209213,"question_id":76755495,"body_markdown":"I&#39;m having troubles with introducing azure storage sdk into my Java project. There apparently are conflicts between various Jackson dependencies versions, but the odd thing is that all the dependencies being imported are of the same, up-to-date version.\r\n\r\nThe azure dependencies:\r\n\r\n```\r\n&lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n        &lt;artifactId&gt;azure-sdk-bom&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.14&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n&lt;dependencies&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;azure-storage-blob&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n...\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nThe code that triggers the problem:\r\n\r\n```\r\nBlobServiceClient blobServiceClient = new BlobServiceClientBuilder()\r\n                .connectionString(connectionString)\r\n                .buildClient();\r\nblobServiceClient.createBlobContainer(&quot;hello-world-&quot; + UUID.randomUUID());\r\n```\r\n\r\nThe problem:\r\n\r\n```\r\nERROR [com.azure.core.implementation.jackson.ObjectMapperShim] (reactor-http-nio-1) Package versions: jackson-core=2.12.6, jackson-databind=2.12.6-1, jackson-dataformat-xml=2.15.2, jackson-datatype-jsr310=2.12.6, azure-core=1.40.0, Troubleshooting version conflicts: https://aka.ms/azsdk/java/dependency/troubleshoot\r\n...\r\nCaused by: java.lang.NoSuchMethodError: com.fasterxml.jackson.core.io.ContentReference com.fasterxml.jackson.core.io.IOContext.contentReference()&#39;\r\n\tat deployment.psMobileServerAdminConsole-${acp.version}.war//com.fasterxml.jackson.dataformat.xml.deser.FromXmlParser.&lt;init&gt;(FromXmlParser.java:263)\r\n\tat deployment.psMobileServerAdminConsole-${acp.version}.war//com.fasterxml.jackson.dataformat.xml.XmlFactory._createParser(XmlFactory.java:653)\r\n\tat deployment.psMobileServerAdminConsole-${acp.version}.war//com.fasterxml.jackson.dataformat.xml.XmlFactory._createParser(XmlFactory.java:30)\r\n\tat com.fasterxml.jackson.core.jackson-core@2.12.6//com.fasterxml.jackson.core.JsonFactory.createParser(JsonFactory.java:1124)\r\n\tat com.fasterxml.jackson.core.jackson-databind@2.12.6.1//com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3643)\r\n```\r\n\r\nThe odd thing is that I do not import these 2.12.6 dependencies explicitly or in transitive way - I only use 2.15.2\r\n\r\n[Jackson dependencies screenshot from IDE](https://i.stack.imgur.com/OgM9d.png)\r\n\r\nFull dependency tree: https://github.com/lrd2/working/blob/main/dependency_tree.txt\r\n\r\nSo any idea what causes the conflict and how to resolve it?","title":"Azure dependency conflict with Jackson: java.lang.LinkageError: Package versions","body":"<p>I'm having troubles with introducing azure storage sdk into my Java project. There apparently are conflicts between various Jackson dependencies versions, but the odd thing is that all the dependencies being imported are of the same, up-to-date version.</p>\n<p>The azure dependencies:</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.azure&lt;/groupId&gt;\n        &lt;artifactId&gt;azure-sdk-bom&lt;/artifactId&gt;\n        &lt;version&gt;1.2.14&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.azure&lt;/groupId&gt;\n        &lt;artifactId&gt;azure-storage-blob&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n...\n&lt;/dependencies&gt;\n</code></pre>\n<p>The code that triggers the problem:</p>\n<pre><code>BlobServiceClient blobServiceClient = new BlobServiceClientBuilder()\n                .connectionString(connectionString)\n                .buildClient();\nblobServiceClient.createBlobContainer(&quot;hello-world-&quot; + UUID.randomUUID());\n</code></pre>\n<p>The problem:</p>\n<pre><code>ERROR [com.azure.core.implementation.jackson.ObjectMapperShim] (reactor-http-nio-1) Package versions: jackson-core=2.12.6, jackson-databind=2.12.6-1, jackson-dataformat-xml=2.15.2, jackson-datatype-jsr310=2.12.6, azure-core=1.40.0, Troubleshooting version conflicts: https://aka.ms/azsdk/java/dependency/troubleshoot\n...\nCaused by: java.lang.NoSuchMethodError: com.fasterxml.jackson.core.io.ContentReference com.fasterxml.jackson.core.io.IOContext.contentReference()'\n    at deployment.psMobileServerAdminConsole-${acp.version}.war//com.fasterxml.jackson.dataformat.xml.deser.FromXmlParser.&lt;init&gt;(FromXmlParser.java:263)\n    at deployment.psMobileServerAdminConsole-${acp.version}.war//com.fasterxml.jackson.dataformat.xml.XmlFactory._createParser(XmlFactory.java:653)\n    at deployment.psMobileServerAdminConsole-${acp.version}.war//com.fasterxml.jackson.dataformat.xml.XmlFactory._createParser(XmlFactory.java:30)\n    at com.fasterxml.jackson.core.jackson-core@2.12.6//com.fasterxml.jackson.core.JsonFactory.createParser(JsonFactory.java:1124)\n    at com.fasterxml.jackson.core.jackson-databind@2.12.6.1//com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3643)\n</code></pre>\n<p>The odd thing is that I do not import these 2.12.6 dependencies explicitly or in transitive way - I only use 2.15.2</p>\n<p><a href=\"https://i.stack.imgur.com/OgM9d.png\" rel=\"nofollow noreferrer\">Jackson dependencies screenshot from IDE</a></p>\n<p>Full dependency tree: <a href=\"https://github.com/lrd2/working/blob/main/dependency_tree.txt\" rel=\"nofollow noreferrer\">https://github.com/lrd2/working/blob/main/dependency_tree.txt</a></p>\n<p>So any idea what causes the conflict and how to resolve it?</p>\n"},{"tags":["java","android-studio","fragment","augmented-reality"],"owner":{"account_id":29054154,"reputation":1,"user_id":22256256,"display_name":"LIEW CAI TONG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690227819,"creation_date":1689833205,"question_id":76727087,"body_markdown":"Inconvertible types; `cannot cast &#39;androidx.fragment.app.Fragment&#39; to &#39;com.google.ar.sceneform.ux.ArFragment&#39;`\r\n\r\nHere is my code:\r\n![code screenshot](https://i.stack.imgur.com/Pluqp.png)\r\n\r\n\r\nI have `import com.google.ar.sceneform.ux.ArFragment;`\r\nbut still get an error. Please help.","title":"cannot cast &#39;androidx.fragment.app.Fragment&#39; to &#39;com.google.ar.sceneform.ux.ArFragment&#39;","body":"<p>Inconvertible types; <code>cannot cast 'androidx.fragment.app.Fragment' to 'com.google.ar.sceneform.ux.ArFragment'</code></p>\n<p>Here is my code:\n<img src=\"https://i.stack.imgur.com/Pluqp.png\" alt=\"code screenshot\" /></p>\n<p>I have <code>import com.google.ar.sceneform.ux.ArFragment;</code>\nbut still get an error. Please help.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":26974993,"reputation":1,"user_id":20540382,"display_name":"devNight"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690227700,"creation_date":1689773257,"answer_id":76721850,"question_id":76721392,"body_markdown":"You can set a custom `OnLongClickListener` for the tabs and prevent the default behavior like below.\r\n\r\n    TabLayout tabLayout = findViewById(R.id.tabLayout);\r\n\r\n    // Iterate through all the tabs and set a custom OnLongClickListener for each tab\r\n    for (int i = 0; i &lt; tabLayout.getTabCount(); i++) {\r\n\t\tView tabView = ((ViewGroup) tabLayout.getChildAt(0)).getChildAt(i);\r\n    \r\n\t\t// Disable the tooltip by setting an empty OnLongClickListener\r\n\t\ttabView.setOnLongClickListener(new View.OnLongClickListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic boolean onLongClick(View v) {\r\n\t\t\t\t// Return true to consume the event and prevent the default tooltip behavior\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t});\r\n\t}","title":"Tablayout when long pressing tab item Tool tip is poping","body":"<p>You can set a custom <code>OnLongClickListener</code> for the tabs and prevent the default behavior like below.</p>\n<pre><code>TabLayout tabLayout = findViewById(R.id.tabLayout);\n\n// Iterate through all the tabs and set a custom OnLongClickListener for each tab\nfor (int i = 0; i &lt; tabLayout.getTabCount(); i++) {\n    View tabView = ((ViewGroup) tabLayout.getChildAt(0)).getChildAt(i);\n\n    // Disable the tooltip by setting an empty OnLongClickListener\n    tabView.setOnLongClickListener(new View.OnLongClickListener() {\n        @Override\n        public boolean onLongClick(View v) {\n            // Return true to consume the event and prevent the default tooltip behavior\n            return true;\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":26267089,"reputation":49,"user_id":19937474,"display_name":"viswareddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690227700,"creation_date":1689770368,"question_id":76721392,"body_markdown":"I&#39;m using Tablayout and when im pressing long there is pop coming tab item like toast what is this and how should i stop poping?\r\n[![enter image description here](https://i.stack.imgur.com/YRzIj.png)](https://i.stack.imgur.com/YRzIj.png)\r\n\r\nThis is my tabLayout Xml \r\n\r\n\r\n```\r\n        &lt;com.google.android.material.tabs.TabLayout\r\n            android:id=&quot;@+id/result_tabs&quot;\r\n            app:tabSelectedTextColor=&quot;#00B8D4&quot;\r\n            app:tabIndicatorColor=&quot;#00B8D4&quot;\r\n            app:tabTextColor=&quot;?attr/colorWhite&quot;\r\n            app:tabIndicatorFullWidth=&quot;false&quot;\r\n            android:background=&quot;?attr/colorPrimaryDark&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:tabMaxWidth=&quot;0dp&quot;\r\n            app:tabMode=&quot;fixed&quot;/&gt;\r\n```\r\n\r\n\r\ni want stop showing that pop ","title":"Tablayout when long pressing tab item Tool tip is poping","body":"<p>I'm using Tablayout and when im pressing long there is pop coming tab item like toast what is this and how should i stop poping?\n<a href=\"https://i.stack.imgur.com/YRzIj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YRzIj.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my tabLayout Xml</p>\n<pre><code>        &lt;com.google.android.material.tabs.TabLayout\n            android:id=&quot;@+id/result_tabs&quot;\n            app:tabSelectedTextColor=&quot;#00B8D4&quot;\n            app:tabIndicatorColor=&quot;#00B8D4&quot;\n            app:tabTextColor=&quot;?attr/colorWhite&quot;\n            app:tabIndicatorFullWidth=&quot;false&quot;\n            android:background=&quot;?attr/colorPrimaryDark&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:tabMaxWidth=&quot;0dp&quot;\n            app:tabMode=&quot;fixed&quot;/&gt;\n</code></pre>\n<p>i want stop showing that pop</p>\n"},{"tags":["java","intellij-idea","minecraft","minecraft-forge"],"owner":{"account_id":18056822,"reputation":3,"user_id":21634979,"display_name":"Kayk Caputo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690227193,"creation_date":1690157756,"question_id":76750784,"body_markdown":"I&#39;m trying to develop a mod for minecraft, my first time creating mods, and I&#39;m having a really hard time getting the player to be the permanent size of a block\r\n\r\n```\r\n//PlayerScaleHandler:\r\n\r\npackage com.example.hollowknightmod;\r\n\r\nimport net.minecraft.client.Minecraft;\r\nimport net.minecraftforge.api.distmarker.Dist;\r\nimport net.minecraftforge.api.distmarker.OnlyIn;\r\nimport net.minecraftforge.client.event.RenderPlayerEvent;\r\nimport net.minecraftforge.eventbus.api.SubscribeEvent;\r\nimport net.minecraftforge.fml.common.Mod;\r\n\r\nimport com.mojang.blaze3d.matrix.MatrixStack;\r\n\r\n@Mod.EventBusSubscriber(modid = HollowKnightMod.MOD_ID, value = Dist.CLIENT)\r\npublic class PlayerScaleHandler {\r\n\r\n    private static final float BLOCK_SIZE_SCALE = 0.5f; // Exemplo: escala pela metade (0.5)\r\n\r\n    @OnlyIn(Dist.CLIENT)\r\n    @SubscribeEvent\r\n    public static void onRenderPlayer(RenderPlayerEvent.Pre event) {\r\n        if (event.getPlayer() != null &amp;&amp; event.getPlayer() == Minecraft.getInstance().player) {\r\n            MatrixStack matrixStack = event.getMatrixStack();\r\n            matrixStack.pushPose();\r\n\r\n            float currentScale = BLOCK_SIZE_SCALE;\r\n            matrixStack.scale(currentScale, currentScale, currentScale);\r\n\r\n        }\r\n    }\r\n}\r\n\r\n\r\n//MainClass:\r\n\r\n\r\npackage com.example.hollowknightmod;\r\n\r\nimport net.minecraft.block.Block;\r\nimport net.minecraft.block.Blocks;\r\nimport net.minecraftforge.common.MinecraftForge;\r\nimport net.minecraftforge.event.RegistryEvent;\r\nimport net.minecraftforge.eventbus.api.IEventBus;\r\nimport net.minecraftforge.eventbus.api.SubscribeEvent;\r\nimport net.minecraftforge.fml.InterModComms;\r\nimport net.minecraftforge.fml.common.Mod;\r\nimport net.minecraftforge.fml.event.lifecycle.FMLClientSetupEvent;\r\nimport net.minecraftforge.fml.event.lifecycle.FMLCommonSetupEvent;\r\nimport net.minecraftforge.fml.event.lifecycle.InterModEnqueueEvent;\r\nimport net.minecraftforge.fml.event.lifecycle.InterModProcessEvent;\r\nimport net.minecraftforge.fml.event.server.FMLServerStartingEvent;\r\nimport net.minecraftforge.fml.javafmlmod.FMLJavaModLoadingContext;\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\n\r\n\r\nimport java.util.stream.Collectors;\r\n\r\n// The value here should match an entry in the META-INF/mods.toml file\r\n@Mod(HollowKnightMod.MOD_ID)\r\npublic class HollowKnightMod\r\n{\r\n    // Directly reference a log4j logger.\r\n    public static final String MOD_ID = &quot;hollowknightmod&quot;;\r\n    private static final Logger LOGGER = LogManager.getLogger();\r\n\r\n\r\n    public HollowKnightMod() {\r\n        // Register the setup method for modloading\r\n\r\n        IEventBus eventBus = FMLJavaModLoadingContext.get().getModEventBus();\r\n\r\n        ModBlocks.register(eventBus);\r\n        ModItems.register(eventBus);\r\n\r\n        ModSoundEvents.register(eventBus);\r\n\r\n\r\n        eventBus.addListener(this::setup);\r\n        // Register the enqueueIMC method for modloading\r\n        eventBus.addListener(this::enqueueIMC);\r\n        // Register the processIMC method for modloading\r\n        eventBus.addListener(this::processIMC);\r\n        // Register the doClientStuff method for modloading\r\n        eventBus.addListener(this::doClientStuff);\r\n\r\n        // Register ourselves for server and other game events we are interested in\r\n        MinecraftForge.EVENT_BUS.register(this);\r\n    }\r\n\r\n    private void setup(final FMLCommonSetupEvent event)\r\n    {\r\n        // some preinit code\r\n        LOGGER.info(&quot;HELLO FROM PREINIT&quot;);\r\n        LOGGER.info(&quot;DIRT BLOCK &gt;&gt; {}&quot;, Blocks.DIRT.getRegistryName());\r\n    }\r\n\r\n    private void doClientStuff(final FMLClientSetupEvent event) {\r\n        // do something that can only be done on the client\r\n        FMLJavaModLoadingContext.get().getModEventBus().register(PlayerScaleHandler.class);\r\n        LOGGER.info(&quot;Got game settings {}&quot;, event.getMinecraftSupplier().get().options);\r\n    }\r\n\r\n    private void enqueueIMC(final InterModEnqueueEvent event)\r\n    {\r\n        // some example code to dispatch IMC to another mod\r\n        InterModComms.sendTo(&quot;hollowknightmod&quot;, &quot;helloworld&quot;, () -&gt; { LOGGER.info(&quot;Hello world from the MDK&quot;); return &quot;Hello world&quot;;});\r\n    }\r\n\r\n    private void processIMC(final InterModProcessEvent event)\r\n    {\r\n        // some example code to receive and process InterModComms from other mods\r\n        LOGGER.info(&quot;Got IMC {}&quot;, event.getIMCStream().\r\n                map(m-&gt;m.getMessageSupplier().get()).\r\n                collect(Collectors.toList()));\r\n    }\r\n    // You can use SubscribeEvent and let the Event Bus discover methods to call\r\n    @SubscribeEvent\r\n    public void onServerStarting(FMLServerStartingEvent event) {\r\n        // do something when the server starts\r\n        LOGGER.info(&quot;HELLO from server starting&quot;);\r\n    }\r\n\r\n    // You can use EventBusSubscriber to automatically subscribe events on the contained class (this is subscribing to the MOD\r\n    // Event bus for receiving Registry Events)\r\n    @Mod.EventBusSubscriber(bus=Mod.EventBusSubscriber.Bus.MOD)\r\n    public static class RegistryEvents {\r\n        @SubscribeEvent\r\n        public static void onBlocksRegistry(final RegistryEvent.Register&lt;Block&gt; blockRegistryEvent) {\r\n            // register a new block here\r\n            LOGGER.info(&quot;HELLO from Register Block&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nError Log:\r\n\r\nA detailed walkthrough of the error, its code path and all known details is as follows:\r\n```\r\n---------------------------------------------------------------------------------------\r\n\r\n-- Head --\r\nThread: Render thread\r\nStacktrace:\r\n\tat net.minecraftforge.eventbus.EventBus.registerListener(EventBus.java:145) ~[eventbus-4.0.0.jar:?] {}\r\n-- MOD hollowknightmod --\r\nDetails:\r\n\tMod File: main\r\n\tFailure message: Hollow Knight Mod (hollowknightmod) encountered an error during the sided_setup event phase\r\n\t\tjava.lang.IllegalArgumentException: Method public static void com.example.hollowknightmod.PlayerScaleHandler.onRenderPlayer(net.minecraftforge.client.event.RenderPlayerEvent$Pre) has @SubscribeEvent annotation, but takes an argument that is not a subtype of the base type interface net.minecraftforge.fml.event.lifecycle.IModBusEvent: class net.minecraftforge.client.event.RenderPlayerEvent$Pre\r\n\tMod Version: NONE\r\n\tMod Issue URL: NOT PROVIDED\r\n\tException message: java.lang.IllegalArgumentException: Method public static void com.example.hollowknightmod.PlayerScaleHandler.onRenderPlayer(net.minecraftforge.client.event.RenderPlayerEvent$Pre) has @SubscribeEvent annotation, but takes an argument that is not a subtype of the base type interface net.minecraftforge.fml.event.lifecycle.IModBusEvent: class net.minecraftforge.client.event.RenderPlayerEvent$Pre\r\nStacktrace:\r\n\tat net.minecraftforge.eventbus.EventBus.registerListener(EventBus.java:145) ~[eventbus-4.0.0.jar:?] {}\r\n\tat net.minecraftforge.eventbus.EventBus.lambda$registerClass$2(EventBus.java:78) ~[eventbus-4.0.0.jar:?] {}\r\n\tat java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[?:1.8.0_372-372] {}\r\n\tat java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[?:1.8.0_372-372] {}\r\n\tat java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[?:1.8.0_372-372] {}\r\n\tat java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948) ~[?:1.8.0_372-372] {}\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482) ~[?:1.8.0_372-372] {}\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472) ~[?:1.8.0_372-372] {}\r\n\tat java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[?:1.8.0_372-372] {}\r\n\tat java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[?:1.8.0_372-372] {}\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:1.8.0_372-372] {}\r\n\tat java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485) ~[?:1.8.0_372-372] {}\r\n\tat net.minecraftforge.eventbus.EventBus.registerClass(EventBus.java:78) ~[eventbus-4.0.0.jar:?] {}\r\n\tat net.minecraftforge.eventbus.EventBus.register(EventBus.java:118) ~[eventbus-4.0.0.jar:?] {}\r\n\tat com.example.hollowknightmod.HollowKnightMod.doClientStuff(HollowKnightMod.java:64) ~[main/:?] {re:classloading}\r\n\tat net.minecraftforge.eventbus.EventBus.doCastFilter(EventBus.java:247) ~[eventbus-4.0.0.jar:?] {}\r\n\tat net.minecraftforge.eventbus.EventBus.lambda$addListener$11(EventBus.java:239) ~[eventbus-4.0.0.jar:?] {}\r\n\tat net.minecraftforge.eventbus.EventBus.post(EventBus.java:302) ~[eventbus-4.0.0.jar:?] {}\r\n\tat net.minecraftforge.eventbus.EventBus.post(EventBus.java:283) ~[eventbus-4.0.0.jar:?] {}\r\n\tat net.minecraftforge.fml.javafmlmod.FMLModContainer.acceptEvent(FMLModContainer.java:120) ~[forge:36.2] {re:classloading}\r\n\tat net.minecraftforge.fml.ModContainer.lambda$buildTransitionHandler$4(ModContainer.java:121) ~[forge:?] {re:classloading}\r\n\tat java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1640) ~[?:1.8.0_372-372] {}\r\n\tat java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1632) ~[?:1.8.0_372-372] {}\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289) ~[?:1.8.0_372-372] {}\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056) ~[?:1.8.0_372-372] {}\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692) ~[?:1.8.0_372-372] {}\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:175) ~[?:1.8.0_372-372] {}\r\n```\r\nMy plan is that from the beginning of the game the player has the size of a block, I didn&#39;t expect this to be so difficult","title":"Problems trying to decrease player size in Minecraft Forge 1.16.5","body":"<p>I'm trying to develop a mod for minecraft, my first time creating mods, and I'm having a really hard time getting the player to be the permanent size of a block</p>\n<pre><code>//PlayerScaleHandler:\n\npackage com.example.hollowknightmod;\n\nimport net.minecraft.client.Minecraft;\nimport net.minecraftforge.api.distmarker.Dist;\nimport net.minecraftforge.api.distmarker.OnlyIn;\nimport net.minecraftforge.client.event.RenderPlayerEvent;\nimport net.minecraftforge.eventbus.api.SubscribeEvent;\nimport net.minecraftforge.fml.common.Mod;\n\nimport com.mojang.blaze3d.matrix.MatrixStack;\n\n@Mod.EventBusSubscriber(modid = HollowKnightMod.MOD_ID, value = Dist.CLIENT)\npublic class PlayerScaleHandler {\n\n    private static final float BLOCK_SIZE_SCALE = 0.5f; // Exemplo: escala pela metade (0.5)\n\n    @OnlyIn(Dist.CLIENT)\n    @SubscribeEvent\n    public static void onRenderPlayer(RenderPlayerEvent.Pre event) {\n        if (event.getPlayer() != null &amp;&amp; event.getPlayer() == Minecraft.getInstance().player) {\n            MatrixStack matrixStack = event.getMatrixStack();\n            matrixStack.pushPose();\n\n            float currentScale = BLOCK_SIZE_SCALE;\n            matrixStack.scale(currentScale, currentScale, currentScale);\n\n        }\n    }\n}\n\n\n//MainClass:\n\n\npackage com.example.hollowknightmod;\n\nimport net.minecraft.block.Block;\nimport net.minecraft.block.Blocks;\nimport net.minecraftforge.common.MinecraftForge;\nimport net.minecraftforge.event.RegistryEvent;\nimport net.minecraftforge.eventbus.api.IEventBus;\nimport net.minecraftforge.eventbus.api.SubscribeEvent;\nimport net.minecraftforge.fml.InterModComms;\nimport net.minecraftforge.fml.common.Mod;\nimport net.minecraftforge.fml.event.lifecycle.FMLClientSetupEvent;\nimport net.minecraftforge.fml.event.lifecycle.FMLCommonSetupEvent;\nimport net.minecraftforge.fml.event.lifecycle.InterModEnqueueEvent;\nimport net.minecraftforge.fml.event.lifecycle.InterModProcessEvent;\nimport net.minecraftforge.fml.event.server.FMLServerStartingEvent;\nimport net.minecraftforge.fml.javafmlmod.FMLJavaModLoadingContext;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\n\nimport java.util.stream.Collectors;\n\n// The value here should match an entry in the META-INF/mods.toml file\n@Mod(HollowKnightMod.MOD_ID)\npublic class HollowKnightMod\n{\n    // Directly reference a log4j logger.\n    public static final String MOD_ID = &quot;hollowknightmod&quot;;\n    private static final Logger LOGGER = LogManager.getLogger();\n\n\n    public HollowKnightMod() {\n        // Register the setup method for modloading\n\n        IEventBus eventBus = FMLJavaModLoadingContext.get().getModEventBus();\n\n        ModBlocks.register(eventBus);\n        ModItems.register(eventBus);\n\n        ModSoundEvents.register(eventBus);\n\n\n        eventBus.addListener(this::setup);\n        // Register the enqueueIMC method for modloading\n        eventBus.addListener(this::enqueueIMC);\n        // Register the processIMC method for modloading\n        eventBus.addListener(this::processIMC);\n        // Register the doClientStuff method for modloading\n        eventBus.addListener(this::doClientStuff);\n\n        // Register ourselves for server and other game events we are interested in\n        MinecraftForge.EVENT_BUS.register(this);\n    }\n\n    private void setup(final FMLCommonSetupEvent event)\n    {\n        // some preinit code\n        LOGGER.info(&quot;HELLO FROM PREINIT&quot;);\n        LOGGER.info(&quot;DIRT BLOCK &gt;&gt; {}&quot;, Blocks.DIRT.getRegistryName());\n    }\n\n    private void doClientStuff(final FMLClientSetupEvent event) {\n        // do something that can only be done on the client\n        FMLJavaModLoadingContext.get().getModEventBus().register(PlayerScaleHandler.class);\n        LOGGER.info(&quot;Got game settings {}&quot;, event.getMinecraftSupplier().get().options);\n    }\n\n    private void enqueueIMC(final InterModEnqueueEvent event)\n    {\n        // some example code to dispatch IMC to another mod\n        InterModComms.sendTo(&quot;hollowknightmod&quot;, &quot;helloworld&quot;, () -&gt; { LOGGER.info(&quot;Hello world from the MDK&quot;); return &quot;Hello world&quot;;});\n    }\n\n    private void processIMC(final InterModProcessEvent event)\n    {\n        // some example code to receive and process InterModComms from other mods\n        LOGGER.info(&quot;Got IMC {}&quot;, event.getIMCStream().\n                map(m-&gt;m.getMessageSupplier().get()).\n                collect(Collectors.toList()));\n    }\n    // You can use SubscribeEvent and let the Event Bus discover methods to call\n    @SubscribeEvent\n    public void onServerStarting(FMLServerStartingEvent event) {\n        // do something when the server starts\n        LOGGER.info(&quot;HELLO from server starting&quot;);\n    }\n\n    // You can use EventBusSubscriber to automatically subscribe events on the contained class (this is subscribing to the MOD\n    // Event bus for receiving Registry Events)\n    @Mod.EventBusSubscriber(bus=Mod.EventBusSubscriber.Bus.MOD)\n    public static class RegistryEvents {\n        @SubscribeEvent\n        public static void onBlocksRegistry(final RegistryEvent.Register&lt;Block&gt; blockRegistryEvent) {\n            // register a new block here\n            LOGGER.info(&quot;HELLO from Register Block&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Error Log:</p>\n<p>A detailed walkthrough of the error, its code path and all known details is as follows:</p>\n<pre><code>---------------------------------------------------------------------------------------\n\n-- Head --\nThread: Render thread\nStacktrace:\n    at net.minecraftforge.eventbus.EventBus.registerListener(EventBus.java:145) ~[eventbus-4.0.0.jar:?] {}\n-- MOD hollowknightmod --\nDetails:\n    Mod File: main\n    Failure message: Hollow Knight Mod (hollowknightmod) encountered an error during the sided_setup event phase\n        java.lang.IllegalArgumentException: Method public static void com.example.hollowknightmod.PlayerScaleHandler.onRenderPlayer(net.minecraftforge.client.event.RenderPlayerEvent$Pre) has @SubscribeEvent annotation, but takes an argument that is not a subtype of the base type interface net.minecraftforge.fml.event.lifecycle.IModBusEvent: class net.minecraftforge.client.event.RenderPlayerEvent$Pre\n    Mod Version: NONE\n    Mod Issue URL: NOT PROVIDED\n    Exception message: java.lang.IllegalArgumentException: Method public static void com.example.hollowknightmod.PlayerScaleHandler.onRenderPlayer(net.minecraftforge.client.event.RenderPlayerEvent$Pre) has @SubscribeEvent annotation, but takes an argument that is not a subtype of the base type interface net.minecraftforge.fml.event.lifecycle.IModBusEvent: class net.minecraftforge.client.event.RenderPlayerEvent$Pre\nStacktrace:\n    at net.minecraftforge.eventbus.EventBus.registerListener(EventBus.java:145) ~[eventbus-4.0.0.jar:?] {}\n    at net.minecraftforge.eventbus.EventBus.lambda$registerClass$2(EventBus.java:78) ~[eventbus-4.0.0.jar:?] {}\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[?:1.8.0_372-372] {}\n    at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[?:1.8.0_372-372] {}\n    at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175) ~[?:1.8.0_372-372] {}\n    at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948) ~[?:1.8.0_372-372] {}\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482) ~[?:1.8.0_372-372] {}\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472) ~[?:1.8.0_372-372] {}\n    at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[?:1.8.0_372-372] {}\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[?:1.8.0_372-372] {}\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:1.8.0_372-372] {}\n    at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485) ~[?:1.8.0_372-372] {}\n    at net.minecraftforge.eventbus.EventBus.registerClass(EventBus.java:78) ~[eventbus-4.0.0.jar:?] {}\n    at net.minecraftforge.eventbus.EventBus.register(EventBus.java:118) ~[eventbus-4.0.0.jar:?] {}\n    at com.example.hollowknightmod.HollowKnightMod.doClientStuff(HollowKnightMod.java:64) ~[main/:?] {re:classloading}\n    at net.minecraftforge.eventbus.EventBus.doCastFilter(EventBus.java:247) ~[eventbus-4.0.0.jar:?] {}\n    at net.minecraftforge.eventbus.EventBus.lambda$addListener$11(EventBus.java:239) ~[eventbus-4.0.0.jar:?] {}\n    at net.minecraftforge.eventbus.EventBus.post(EventBus.java:302) ~[eventbus-4.0.0.jar:?] {}\n    at net.minecraftforge.eventbus.EventBus.post(EventBus.java:283) ~[eventbus-4.0.0.jar:?] {}\n    at net.minecraftforge.fml.javafmlmod.FMLModContainer.acceptEvent(FMLModContainer.java:120) ~[forge:36.2] {re:classloading}\n    at net.minecraftforge.fml.ModContainer.lambda$buildTransitionHandler$4(ModContainer.java:121) ~[forge:?] {re:classloading}\n    at java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1640) ~[?:1.8.0_372-372] {}\n    at java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1632) ~[?:1.8.0_372-372] {}\n    at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289) ~[?:1.8.0_372-372] {}\n    at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056) ~[?:1.8.0_372-372] {}\n    at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692) ~[?:1.8.0_372-372] {}\n    at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:175) ~[?:1.8.0_372-372] {}\n</code></pre>\n<p>My plan is that from the beginning of the game the player has the size of a block, I didn't expect this to be so difficult</p>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":14091770,"reputation":45,"user_id":10179865,"display_name":"Harley Sun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690226993,"creation_date":1690226993,"answer_id":76757518,"question_id":76757469,"body_markdown":"There are some naming problems with your code. I suspect the reason why only the total cost is showing is because in SimpleAdapter, the name `&quot;line 5&quot;` matches the one you gave in the map.\r\n\r\nTry feeding the key names you use in the hashmap to SimpleAdapter, e.g. changing the code in `new String[] {...}`.","title":"output not displaying properly","body":"<p>There are some naming problems with your code. I suspect the reason why only the total cost is showing is because in SimpleAdapter, the name <code>&quot;line 5&quot;</code> matches the one you gave in the map.</p>\n<p>Try feeding the key names you use in the hashmap to SimpleAdapter, e.g. changing the code in <code>new String[] {...}</code>.</p>\n"}],"owner":{"account_id":28119276,"reputation":1,"user_id":21485768,"display_name":"Abhay tiwari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690226993,"creation_date":1690226459,"question_id":76757469,"body_markdown":"i am trying to make a healthcare app where user can book appointment of doctor read articles look at his booking buy medicines i have made half of the project but when i made buy medicine window code was right but the output was not shown only the price of medicine is shown not name and description of medicine[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qfIlj.png  as shown in the last photo only the prices is seen not other details please help thanks","title":"output not displaying properly","body":"<p>i am trying to make a healthcare app where user can book appointment of doctor read articles look at his booking buy medicines i have made half of the project but when i made buy medicine window code was right but the output was not shown only the price of medicine is shown not name and description of medicine[enter image description here][1]</p>\n<p>[1]: <a href=\"https://i.stack.imgur.com/qfIlj.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/qfIlj.png</a>  as shown in the last photo only the prices is seen not other details please help thanks</p>\n"},{"tags":["java","android","xml","kotlin"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1690195104,"post_id":76753644,"comment_id":135314648,"body_markdown":"you don&#39;t. that&#39;s a local variable, that doesn&#39;t exist outside of the scope of that method. You can turn it into an instance variable instead","body":"you don&#39;t. that&#39;s a local variable, that doesn&#39;t exist outside of the scope of that method. You can turn it into an instance variable instead"}],"answers":[{"tags":[],"owner":{"account_id":3449131,"reputation":12148,"user_id":2889165,"accept_rate":73,"display_name":"Andreas Lundgren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690226718,"creation_date":1690197555,"answer_id":76753946,"question_id":76753644,"body_markdown":"Variables in java/kotlin are scored to the context where they are declared. If you declare a variable inside a method you can only reach it from that method. This has the benefit that two methods inside a class that declare one variable each can use the same name, and its still two different variables. \r\n\r\n**To reach a variable from different methods inside a class**, you can define it on class level and then reference of using `this.noOfPlayers`. It is now shared between all methods operating on the same object of that class.\r\n\r\n**If you want to share it between different objects**, you normally declare getters and setters for that variable. **EDIT:** Or for Kotlin, visibility modifiers (default public)","title":"How to access a variable outside the function","body":"<p>Variables in java/kotlin are scored to the context where they are declared. If you declare a variable inside a method you can only reach it from that method. This has the benefit that two methods inside a class that declare one variable each can use the same name, and its still two different variables.</p>\n<p><strong>To reach a variable from different methods inside a class</strong>, you can define it on class level and then reference of using <code>this.noOfPlayers</code>. It is now shared between all methods operating on the same object of that class.</p>\n<p><strong>If you want to share it between different objects</strong>, you normally declare getters and setters for that variable. <strong>EDIT:</strong> Or for Kotlin, visibility modifiers (default public)</p>\n"},{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690205073,"creation_date":1690205073,"answer_id":76754951,"question_id":76753644,"body_markdown":"You can&#39;t access it--it is *scoped* to that function. It only exists while that function is being executed, and a different copy of it exists every time that function is executed. So, it doesn&#39;t make logical sense to &quot;reach into&quot; the function and extract the variable value. It could be different every time that function is called, or maybe that function will never be called.\r\n\r\nAlso, your `numberofTotalPlayers: Int` property is initialized at the time the class is constructed, which is before `onCreate()` is ever called. At this time, your EditText doesn&#39;t even exist yet.\r\n\r\nEven if it did, if you initialized your property right after the EditText is created, there will be no text in it yet. A property&#39;s initializer is called only one time, when the class is constructed. \r\n        \r\nYou need to rethink your design of this class and focus on execution order of the code. Right now, it looks like you are trying to immediately prompt the user for a number of players, and then you try to immediately create as many dialogs as there are players. You can&#39;t do it this way because the number entered by the user isn&#39;t available until after they have entered it and closed the dialog, which will happen long after `onCreate()` has completed. Also, opening 4 dialogs immediately on top of each other will be a big mess. I don&#39;t know exactly what you&#39;re trying to do, but you may need to use the *state machine design pattern* to make this work (you can look it up).","title":"How to access a variable outside the function","body":"<p>You can't access it--it is <em>scoped</em> to that function. It only exists while that function is being executed, and a different copy of it exists every time that function is executed. So, it doesn't make logical sense to &quot;reach into&quot; the function and extract the variable value. It could be different every time that function is called, or maybe that function will never be called.</p>\n<p>Also, your <code>numberofTotalPlayers: Int</code> property is initialized at the time the class is constructed, which is before <code>onCreate()</code> is ever called. At this time, your EditText doesn't even exist yet.</p>\n<p>Even if it did, if you initialized your property right after the EditText is created, there will be no text in it yet. A property's initializer is called only one time, when the class is constructed.</p>\n<p>You need to rethink your design of this class and focus on execution order of the code. Right now, it looks like you are trying to immediately prompt the user for a number of players, and then you try to immediately create as many dialogs as there are players. You can't do it this way because the number entered by the user isn't available until after they have entered it and closed the dialog, which will happen long after <code>onCreate()</code> has completed. Also, opening 4 dialogs immediately on top of each other will be a big mess. I don't know exactly what you're trying to do, but you may need to use the <em>state machine design pattern</em> to make this work (you can look it up).</p>\n"}],"owner":{"account_id":27553469,"reputation":1,"user_id":21028106,"display_name":"Aurangzaib Buzdar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690226718,"creation_date":1690195025,"question_id":76753644,"body_markdown":"I want to access variable numOfPlayers outside the Function and assign its value to variable numberOfTotalPlayers in same class, but i am unable to access it there, How i can do it?\r\nPlease ignore my code formatting and extra code, i just tried to make it workable.\r\n\r\nThis is almost complete code...\r\n\r\n\r\n\r\n\r\n```\r\npackage com.example.zccscores\r\n\r\nimport android.app.AlertDialog\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport android.widget.Toast\r\nimport com.example.zccscores.databinding.ActivityMainBinding\r\nimport com.google.firebase.firestore.FirebaseFirestore\r\nimport android.content.SharedPreferences\r\nimport android.util.Log\r\nimport android.widget.EditText\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n    private lateinit var playerName: String\r\n    private lateinit var binding: ActivityMainBinding\r\n    private lateinit var db: FirebaseFirestore\r\n    private lateinit var sharedPreferences: SharedPreferences\r\n    private var TotalScores: Long = 0\r\n**    private var numberofTotalPlayers: Int = noOfPlayers\r\n**\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        binding = ActivityMainBinding.inflate(layoutInflater)\r\n        setContentView(binding.root)\r\n\r\n\r\n        db = FirebaseFirestore.getInstance()\r\n        sharedPreferences = getSharedPreferences(&quot;MyPrefs&quot;, MODE_PRIVATE)\r\n\r\n        noOfPlayers()\r\n        for (i in 0 until numberofTotalPlayers) {\r\n            showCustomDialog()\r\n        }\r\n\r\n        binding.fourBTN.setOnClickListener {\r\n            TotalScores += 4\r\n        }\r\n\r\n        binding.sixBTN.setOnClickListener {\r\n            TotalScores += 6\r\n        }\r\n        binding.singleBTN.setOnClickListener {\r\n            TotalScores += 1\r\n        }\r\n\r\n    }\r\n    private fun noOfPlayers() {\r\n        val dialogView = layoutInflater.inflate(R.layout.dialog_with_edittext, null)\r\n**        val numOfPlayers = dialogView.findViewById&lt;EditText&gt;(R.id.dialogEditText)\r\n**\r\n        numOfPlayers.inputType = android.text.InputType.TYPE_CLASS_PHONE\r\n        val builder = AlertDialog.Builder(this)\r\n            .setView(dialogView)\r\n            .setPositiveButton(&quot;OK&quot;) { dialog, _ -&gt;\r\n                // Handle OK button click and retrieve the text from the EditText\r\n                numberofTotalPlayers = numOfPlayers.text.toString().toInt()\r\n\r\n                dialog.dismiss() // Dismiss the dialog after handling button click\r\n            }\r\n            .setNegativeButton(&quot;Cancel&quot;) { dialog, _ -&gt;\r\n                // Handle Cancel button click if needed\r\n                Toast.makeText(this, &quot;Cancel clicked&quot;, Toast.LENGTH_SHORT).show()\r\n                dialog.dismiss() // Dismiss the dialog after handling button click\r\n            }\r\n\r\n        val dialog = builder.create()\r\n        dialog.show()\r\n    }\r\n\r\n\r\n    private fun showCustomDialog() {\r\n        val dialogView = layoutInflater.inflate(R.layout.dialog_with_edittext, null)\r\n        val dialogEditText = dialogView.findViewById&lt;EditText&gt;(R.id.dialogEditText)\r\n        val builder = AlertDialog.Builder(this)\r\n            .setView(dialogView)\r\n            .setPositiveButton(&quot;OK&quot;) { dialog, _ -&gt;\r\n                // Handle OK button click and retrieve the text from the EditText\r\n                val diologeFetchedPlayerName = dialogEditText.text.toString()\r\n                if (diologeFetchedPlayerName.isNotBlank()) {\r\n\r\n                    val playerData = Scores(232, diologeFetchedPlayerName, 89)\r\n\r\n\r\n                    db.collection(&quot;ZCC Scores&quot;).document(diologeFetchedPlayerName).set(playerData)\r\n                        .addOnSuccessListener {\r\n                            binding.firstPlayerScores.text = playerData.toString()\r\n                            Toast.makeText(\r\n                                this,\r\n                                &quot;Player data saved from diologue&quot;,\r\n                                Toast.LENGTH_SHORT\r\n                            ).show()\r\n\r\n                        }.addOnFailureListener {\r\n                            Toast.makeText(this, &quot;ERROR&quot;, Toast.LENGTH_SHORT).show()\r\n\r\n                        }\r\n\r\n\r\n                    binding.firstPlayerTV.text =diologeFetchedPlayerName\r\n                       \r\n                    Toast.makeText(this, &quot;Player name saved&quot;, Toast.LENGTH_SHORT).show()\r\n                } else {\r\n                    Toast.makeText(this, &quot;Please enter a valid player name&quot;, Toast.LENGTH_SHORT)\r\n                        .show()\r\n                }\r\n                dialog.dismiss() // Dismiss the dialog after handling button click\r\n            }\r\n            .setNegativeButton(&quot;Cancel&quot;) { dialog, _ -&gt;\r\n                // Handle Cancel button click if needed\r\n                Toast.makeText(this, &quot;Cancel clicked&quot;, Toast.LENGTH_SHORT).show()\r\n                dialog.dismiss() // Dismiss the dialog after handling button click\r\n            }\r\n\r\n        val dialog = builder.create()\r\n        dialog.show()\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nI tried to access that variable outside the function in\r\n\r\n ```class MainActivity : AppCompatActivity() {\r\nval numberOfTotalPlayers:Int = noOfPlayers //Getting error here\r\n}```","title":"How to access a variable outside the function","body":"<p>I want to access variable numOfPlayers outside the Function and assign its value to variable numberOfTotalPlayers in same class, but i am unable to access it there, How i can do it?\nPlease ignore my code formatting and extra code, i just tried to make it workable.</p>\n<p>This is almost complete code...</p>\n<pre><code>package com.example.zccscores\n\nimport android.app.AlertDialog\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.widget.Toast\nimport com.example.zccscores.databinding.ActivityMainBinding\nimport com.google.firebase.firestore.FirebaseFirestore\nimport android.content.SharedPreferences\nimport android.util.Log\nimport android.widget.EditText\n\nclass MainActivity : AppCompatActivity() {\n    private lateinit var playerName: String\n    private lateinit var binding: ActivityMainBinding\n    private lateinit var db: FirebaseFirestore\n    private lateinit var sharedPreferences: SharedPreferences\n    private var TotalScores: Long = 0\n**    private var numberofTotalPlayers: Int = noOfPlayers\n**\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = ActivityMainBinding.inflate(layoutInflater)\n        setContentView(binding.root)\n\n\n        db = FirebaseFirestore.getInstance()\n        sharedPreferences = getSharedPreferences(&quot;MyPrefs&quot;, MODE_PRIVATE)\n\n        noOfPlayers()\n        for (i in 0 until numberofTotalPlayers) {\n            showCustomDialog()\n        }\n\n        binding.fourBTN.setOnClickListener {\n            TotalScores += 4\n        }\n\n        binding.sixBTN.setOnClickListener {\n            TotalScores += 6\n        }\n        binding.singleBTN.setOnClickListener {\n            TotalScores += 1\n        }\n\n    }\n    private fun noOfPlayers() {\n        val dialogView = layoutInflater.inflate(R.layout.dialog_with_edittext, null)\n**        val numOfPlayers = dialogView.findViewById&lt;EditText&gt;(R.id.dialogEditText)\n**\n        numOfPlayers.inputType = android.text.InputType.TYPE_CLASS_PHONE\n        val builder = AlertDialog.Builder(this)\n            .setView(dialogView)\n            .setPositiveButton(&quot;OK&quot;) { dialog, _ -&gt;\n                // Handle OK button click and retrieve the text from the EditText\n                numberofTotalPlayers = numOfPlayers.text.toString().toInt()\n\n                dialog.dismiss() // Dismiss the dialog after handling button click\n            }\n            .setNegativeButton(&quot;Cancel&quot;) { dialog, _ -&gt;\n                // Handle Cancel button click if needed\n                Toast.makeText(this, &quot;Cancel clicked&quot;, Toast.LENGTH_SHORT).show()\n                dialog.dismiss() // Dismiss the dialog after handling button click\n            }\n\n        val dialog = builder.create()\n        dialog.show()\n    }\n\n\n    private fun showCustomDialog() {\n        val dialogView = layoutInflater.inflate(R.layout.dialog_with_edittext, null)\n        val dialogEditText = dialogView.findViewById&lt;EditText&gt;(R.id.dialogEditText)\n        val builder = AlertDialog.Builder(this)\n            .setView(dialogView)\n            .setPositiveButton(&quot;OK&quot;) { dialog, _ -&gt;\n                // Handle OK button click and retrieve the text from the EditText\n                val diologeFetchedPlayerName = dialogEditText.text.toString()\n                if (diologeFetchedPlayerName.isNotBlank()) {\n\n                    val playerData = Scores(232, diologeFetchedPlayerName, 89)\n\n\n                    db.collection(&quot;ZCC Scores&quot;).document(diologeFetchedPlayerName).set(playerData)\n                        .addOnSuccessListener {\n                            binding.firstPlayerScores.text = playerData.toString()\n                            Toast.makeText(\n                                this,\n                                &quot;Player data saved from diologue&quot;,\n                                Toast.LENGTH_SHORT\n                            ).show()\n\n                        }.addOnFailureListener {\n                            Toast.makeText(this, &quot;ERROR&quot;, Toast.LENGTH_SHORT).show()\n\n                        }\n\n\n                    binding.firstPlayerTV.text =diologeFetchedPlayerName\n                       \n                    Toast.makeText(this, &quot;Player name saved&quot;, Toast.LENGTH_SHORT).show()\n                } else {\n                    Toast.makeText(this, &quot;Please enter a valid player name&quot;, Toast.LENGTH_SHORT)\n                        .show()\n                }\n                dialog.dismiss() // Dismiss the dialog after handling button click\n            }\n            .setNegativeButton(&quot;Cancel&quot;) { dialog, _ -&gt;\n                // Handle Cancel button click if needed\n                Toast.makeText(this, &quot;Cancel clicked&quot;, Toast.LENGTH_SHORT).show()\n                dialog.dismiss() // Dismiss the dialog after handling button click\n            }\n\n        val dialog = builder.create()\n        dialog.show()\n    }\n\n\n}\n\n</code></pre>\n<p>I tried to access that variable outside the function in</p>\n<pre><code>val numberOfTotalPlayers:Int = noOfPlayers //Getting error here\n}```\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1690224270,"post_id":76756944,"comment_id":135320615,"body_markdown":"No. There&#39;s no point to cancel something that&#39;s already finished. You can just have `public void onFinish() { is_active = false; }`","body":"No. There&#39;s no point to cancel something that&#39;s already finished. You can just have <code>public void onFinish() { is_active = false; }</code>"},{"owner":{"account_id":28226064,"reputation":55,"user_id":21576056,"display_name":"peque&#241;aluna"},"score":0,"creation_date":1690301482,"post_id":76756944,"comment_id":135333009,"body_markdown":"okay, so in onFinish() method, the countdowntimer is freed autimatically right? So I only have to cancel the timer in onDestroy() method if only if it is running and it has not finished, right? In conclusion, when onFinish() is executed the memory is freed automatically?","body":"okay, so in onFinish() method, the countdowntimer is freed autimatically right? So I only have to cancel the timer in onDestroy() method if only if it is running and it has not finished, right? In conclusion, when onFinish() is executed the memory is freed automatically?"}],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690226685,"creation_date":1690224047,"answer_id":76757226,"question_id":76756944,"body_markdown":"inside `cancelmycountdowntimer` method you should probably have `is_active=false;`, besides that you probably should `null`ify your `my_count_downtimer`. if `null`ing it isn&#39;t needed then there is no reason for calling `cancel` when timer already finished (and called `onFinish`), but you probably still need to set `is_active=false;`\r\n\r\n    is_active=true;\r\n    my_count_downtimer = new CountDownTimer(30000, 1000) {\r\n    \r\n        public void onTick(long millisUntilFinished) {\r\n            mTextField.setText(&quot;seconds remaining: &quot; + millisUntilFinished / 1000);\r\n        }\r\n        @Override\r\n        public void onFinish() {\r\n            is_active=false;\r\n        }\r\n    \r\n    }.start();\r\n\r\nnote that you should cancel this timer when user leave `Activity` or `Fragment` before timer finish, if not you may get `NullPointerException` or memory leak","title":"Is it correct to cancel CountDownTimer in onFinish() method?","body":"<p>inside <code>cancelmycountdowntimer</code> method you should probably have <code>is_active=false;</code>, besides that you probably should <code>null</code>ify your <code>my_count_downtimer</code>. if <code>null</code>ing it isn't needed then there is no reason for calling <code>cancel</code> when timer already finished (and called <code>onFinish</code>), but you probably still need to set <code>is_active=false;</code></p>\n<pre><code>is_active=true;\nmy_count_downtimer = new CountDownTimer(30000, 1000) {\n\n    public void onTick(long millisUntilFinished) {\n        mTextField.setText(&quot;seconds remaining: &quot; + millisUntilFinished / 1000);\n    }\n    @Override\n    public void onFinish() {\n        is_active=false;\n    }\n\n}.start();\n</code></pre>\n<p>note that you should cancel this timer when user leave <code>Activity</code> or <code>Fragment</code> before timer finish, if not you may get <code>NullPointerException</code> or memory leak</p>\n"}],"owner":{"account_id":28226064,"reputation":55,"user_id":21576056,"display_name":"peque&#241;aluna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690226685,"creation_date":1690221283,"question_id":76756944,"body_markdown":"Does it make sense or is it a good way to feel safe to cancel CountDownTimer in onFinish() method?\r\n\r\n\r\n\r\n    my_count_downtimer = new CountDownTimer(30000, 1000) {\r\n    \r\n        public void onTick(long millisUntilFinished) {\r\n            mTextField.setText(&quot;seconds remaining: &quot; + millisUntilFinished / 1000);\r\n            is_active=true;\r\n        }\r\n        @Override\r\n        public void onFinish() {\r\n            cancelmycountdowntimer();\r\n        }\r\n    \r\n    }.start();\r\n    \r\n    \r\n    \r\n    \r\n    public void cancelmycountdowntimer(){\r\n    if(my_count_downtimer!=null){\r\n       my_count_downtimer.cancel();\r\n       is_active=true;\r\n      }\r\n    }","title":"Is it correct to cancel CountDownTimer in onFinish() method?","body":"<p>Does it make sense or is it a good way to feel safe to cancel CountDownTimer in onFinish() method?</p>\n<pre><code>my_count_downtimer = new CountDownTimer(30000, 1000) {\n\n    public void onTick(long millisUntilFinished) {\n        mTextField.setText(&quot;seconds remaining: &quot; + millisUntilFinished / 1000);\n        is_active=true;\n    }\n    @Override\n    public void onFinish() {\n        cancelmycountdowntimer();\n    }\n\n}.start();\n\n\n\n\npublic void cancelmycountdowntimer(){\nif(my_count_downtimer!=null){\n   my_count_downtimer.cancel();\n   is_active=true;\n  }\n}\n</code></pre>\n"},{"tags":["java","android","android-recyclerview","bottom-sheet","recyclerlistview"],"owner":{"account_id":27802822,"reputation":1,"user_id":21226960,"display_name":"Ipek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690226524,"creation_date":1690208007,"question_id":76755332,"body_markdown":"I get the data from database. I created the bottom sheet when i click i can see the layout however i cannot insert my data to the recylerview.\r\nI want to display the data in the recylerview in the bottom sheet. I can get the data to the arraylist but can not show it on the screen or pass it to the model. I tried to paste it in different lines but didnt work. Maybe my model can be wrong. I would be really happy if you could help.\r\n\r\n\r\n---This is the activity ---\r\n```lang-java\r\npublic class ContactButtonActivity extends AppCompatActivity {\r\n\r\n    private ActivityContactButtonBinding binding;\r\n    public Dialog dialog;\r\n    public ContactEntity tuana;\r\n    public ContactEntity liray;\r\n    private ArrayList&lt;Contact&gt; contacts;\r\n    public ContactRoomAdapter contactRoomAdapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityContactButtonBinding.inflate(getLayoutInflater());\r\n        View view = binding.getRoot();\r\n        setContentView(view);\r\n\r\n        tuana = new ContactEntity(&quot;Tuana&quot;, &quot;5432345678&quot;);\r\n        liray = new ContactEntity(&quot;Liray&quot;, &quot;5678905346&quot;);\r\n\r\n        contacts = new ArrayList&lt;&gt;();\r\n        getContacts();\r\n\r\n    }\r\n\r\n    public void getContacts(){\r\n        ContactDatabase contactDatabase = Room.databaseBuilder(getApplicationContext(), ContactDatabase.class, &quot;contact-database&quot;).allowMainThreadQueries().build();\r\n        contactDatabase.contactDao().insertAll(tuana,liray);\r\n        List&lt;ContactEntity&gt; contactListo = contactDatabase.contactDao().getAllContacts();\r\n\r\n        for(ContactEntity list : contactListo){\r\n\r\n            String name = list.getName();\r\n            String number = list.getNumber();\r\n\r\n            Contact contact = new Contact(name, number);\r\n            System.out.println(contact);\r\n            contacts.add(contact);\r\n        }\r\n        contactRoomAdapter.notifyDataSetChanged();\r\n\r\n    }\r\n\r\n    public void bottomSheetShow(View view){\r\n        dialog = new Dialog(this);\r\n        dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n        dialog.setContentView(R.layout.bottomsheetlayout);\r\n\r\n\r\n        RecyclerView recyclerView = findViewById(R.id.recyclerView);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        contactRoomAdapter = new ContactRoomAdapter(contacts);\r\n        recyclerView.setAdapter(contactRoomAdapter);\r\n\r\n        dialog.show();\r\n        dialog.getWindow().setLayout(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\r\n        //dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\r\n        dialog.getWindow().getAttributes().windowAnimations = R.style.DialogAnimation;\r\n        dialog.getWindow().setGravity(Gravity.BOTTOM);\r\n    }\r\n}\r\n```\r\n\r\n---This is the bottomsheet layout ---\r\n```lang-xml\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:background=&quot;@drawable/dialog_bg&quot;\r\n    app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/recyclerView&quot;\r\n        android:layout_width=&quot;409dp&quot;\r\n        android:layout_height=&quot;370dp&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n--- This is the Adapter ---\r\n\r\n```lang-java\r\npublic class ContactRoomAdapter extends RecyclerView.Adapter&lt;ContactRoomAdapter.ContactRoomHolder&gt; {\r\n\r\n    private ArrayList&lt;Contact&gt; contactArrayList;\r\n\r\n\r\n    public ContactRoomAdapter(ArrayList&lt;Contact&gt; contactArrayList) {\r\n        this.contactArrayList = contactArrayList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ContactRoomHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        RecyclerRowBinding recyclerRowBinding = RecyclerRowBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false);\r\n        return new ContactRoomHolder(recyclerRowBinding);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ContactRoomAdapter.ContactRoomHolder holder, int position) {\r\n        holder.recyclerRowBinding.recyclerviewRowNameText.setText(contactArrayList.get(position).name);\r\n        holder.recyclerRowBinding.recyclerviewRowNumberText.setText(contactArrayList.get(position).number);\r\n\r\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(holder.itemView.getContext(), ContactDetailsActivity.class);\r\n                intent.putExtra(&quot;contactName&quot;, contactArrayList.get(position).name);\r\n                intent.putExtra(&quot;contactNumber&quot;, contactArrayList.get(position).number);\r\n                holder.itemView.getContext().startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return contactArrayList.size();\r\n    }\r\n\r\n    class ContactRoomHolder extends RecyclerView.ViewHolder{\r\n\r\n        RecyclerRowBinding recyclerRowBinding;\r\n\r\n        public ContactRoomHolder(@NonNull RecyclerRowBinding recylerRowBinding) {\r\n            super(recylerRowBinding.getRoot());\r\n            this.recyclerRowBinding = recylerRowBinding;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI want to display the data in the recylerview in the bottom sheet. I can get the data to the arraylist but can not show it on the screen or pass it to the model. I tried to paste it in different lines but didnt work. Maybe my model can be wrong. I would be really happy if you could help.","title":"How to display data in RecylerView within a Bottom Sheet","body":"<p>I get the data from database. I created the bottom sheet when i click i can see the layout however i cannot insert my data to the recylerview.\nI want to display the data in the recylerview in the bottom sheet. I can get the data to the arraylist but can not show it on the screen or pass it to the model. I tried to paste it in different lines but didnt work. Maybe my model can be wrong. I would be really happy if you could help.</p>\n<p>---This is the activity ---</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ContactButtonActivity extends AppCompatActivity {\n\n    private ActivityContactButtonBinding binding;\n    public Dialog dialog;\n    public ContactEntity tuana;\n    public ContactEntity liray;\n    private ArrayList&lt;Contact&gt; contacts;\n    public ContactRoomAdapter contactRoomAdapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityContactButtonBinding.inflate(getLayoutInflater());\n        View view = binding.getRoot();\n        setContentView(view);\n\n        tuana = new ContactEntity(&quot;Tuana&quot;, &quot;5432345678&quot;);\n        liray = new ContactEntity(&quot;Liray&quot;, &quot;5678905346&quot;);\n\n        contacts = new ArrayList&lt;&gt;();\n        getContacts();\n\n    }\n\n    public void getContacts(){\n        ContactDatabase contactDatabase = Room.databaseBuilder(getApplicationContext(), ContactDatabase.class, &quot;contact-database&quot;).allowMainThreadQueries().build();\n        contactDatabase.contactDao().insertAll(tuana,liray);\n        List&lt;ContactEntity&gt; contactListo = contactDatabase.contactDao().getAllContacts();\n\n        for(ContactEntity list : contactListo){\n\n            String name = list.getName();\n            String number = list.getNumber();\n\n            Contact contact = new Contact(name, number);\n            System.out.println(contact);\n            contacts.add(contact);\n        }\n        contactRoomAdapter.notifyDataSetChanged();\n\n    }\n\n    public void bottomSheetShow(View view){\n        dialog = new Dialog(this);\n        dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\n        dialog.setContentView(R.layout.bottomsheetlayout);\n\n\n        RecyclerView recyclerView = findViewById(R.id.recyclerView);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n        contactRoomAdapter = new ContactRoomAdapter(contacts);\n        recyclerView.setAdapter(contactRoomAdapter);\n\n        dialog.show();\n        dialog.getWindow().setLayout(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT);\n        //dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\n        dialog.getWindow().getAttributes().windowAnimations = R.style.DialogAnimation;\n        dialog.getWindow().setGravity(Gravity.BOTTOM);\n    }\n}\n</code></pre>\n<p>---This is the bottomsheet layout ---</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:background=&quot;@drawable/dialog_bg&quot;\n    app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/recyclerView&quot;\n        android:layout_width=&quot;409dp&quot;\n        android:layout_height=&quot;370dp&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>--- This is the Adapter ---</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ContactRoomAdapter extends RecyclerView.Adapter&lt;ContactRoomAdapter.ContactRoomHolder&gt; {\n\n    private ArrayList&lt;Contact&gt; contactArrayList;\n\n\n    public ContactRoomAdapter(ArrayList&lt;Contact&gt; contactArrayList) {\n        this.contactArrayList = contactArrayList;\n    }\n\n    @NonNull\n    @Override\n    public ContactRoomHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        RecyclerRowBinding recyclerRowBinding = RecyclerRowBinding.inflate(LayoutInflater.from(parent.getContext()), parent, false);\n        return new ContactRoomHolder(recyclerRowBinding);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ContactRoomAdapter.ContactRoomHolder holder, int position) {\n        holder.recyclerRowBinding.recyclerviewRowNameText.setText(contactArrayList.get(position).name);\n        holder.recyclerRowBinding.recyclerviewRowNumberText.setText(contactArrayList.get(position).number);\n\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(holder.itemView.getContext(), ContactDetailsActivity.class);\n                intent.putExtra(&quot;contactName&quot;, contactArrayList.get(position).name);\n                intent.putExtra(&quot;contactNumber&quot;, contactArrayList.get(position).number);\n                holder.itemView.getContext().startActivity(intent);\n            }\n        });\n    }\n\n    @Override\n    public int getItemCount() {\n        return contactArrayList.size();\n    }\n\n    class ContactRoomHolder extends RecyclerView.ViewHolder{\n\n        RecyclerRowBinding recyclerRowBinding;\n\n        public ContactRoomHolder(@NonNull RecyclerRowBinding recylerRowBinding) {\n            super(recylerRowBinding.getRoot());\n            this.recyclerRowBinding = recylerRowBinding;\n        }\n    }\n}\n</code></pre>\n<p>I want to display the data in the recylerview in the bottom sheet. I can get the data to the arraylist but can not show it on the screen or pass it to the model. I tried to paste it in different lines but didnt work. Maybe my model can be wrong. I would be really happy if you could help.</p>\n"},{"tags":["java","inheritance","private"],"comments":[{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1690226378,"post_id":76757348,"comment_id":135320941,"body_markdown":"I can&#39;t answer that now, but I wanna ask is there any real life scenario when using subclasses instance in super class is necessary ?","body":"I can&#39;t answer that now, but I wanna ask is there any real life scenario when using subclasses instance in super class is necessary ?"},{"owner":{"account_id":27864179,"reputation":350,"user_id":21276039,"display_name":"indyteo"},"score":0,"creation_date":1690226673,"post_id":76757348,"comment_id":135320998,"body_markdown":"In my case, the root class represent a command, and the subclass represent a command with the ability to handle sub-commands (this is a special type of commands). Any command can have a parent, but not all can have sub-commands if you prefer.","body":"In my case, the root class represent a command, and the subclass represent a command with the ability to handle sub-commands (this is a special type of commands). Any command can have a parent, but not all can have sub-commands if you prefer."}],"answers":[{"tags":[],"owner":{"account_id":18999437,"reputation":2463,"user_id":13867124,"display_name":"AztecCodes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690226439,"creation_date":1690226439,"answer_id":76757459,"question_id":76757348,"body_markdown":"As you know the `private` keyword in `Java` means it is only accessible in its own class.\r\n\r\nYour method `doSomethingRecursively()` is declared private in the `RootType` class. The `SubType` class can&#39;t access any `private variables/methods/etc.` in the `RootType` class, not even then when `SubType` extends `RootType`. Not even subclasses can access anything with a `private modifier.`\r\n\r\n**Here is a work around:**\r\n\r\n 1. Cast `SubType` to `RootType`. This is like telling the compiler: I know that this is a `RootType`, so it is fine to share everything with the private modifier.\r\n 2. Java now allows you to call the method.\r\n\r\nThis should fix your problem, however there is a reason why modifiers exist. Maybe think about changing your architecture.","title":"Accessing a private method from inside the root class through an instance of a subclass in Java","body":"<p>As you know the <code>private</code> keyword in <code>Java</code> means it is only accessible in its own class.</p>\n<p>Your method <code>doSomethingRecursively()</code> is declared private in the <code>RootType</code> class. The <code>SubType</code> class can't access any <code>private variables/methods/etc.</code> in the <code>RootType</code> class, not even then when <code>SubType</code> extends <code>RootType</code>. Not even subclasses can access anything with a <code>private modifier.</code></p>\n<p><strong>Here is a work around:</strong></p>\n<ol>\n<li>Cast <code>SubType</code> to <code>RootType</code>. This is like telling the compiler: I know that this is a <code>RootType</code>, so it is fine to share everything with the private modifier.</li>\n<li>Java now allows you to call the method.</li>\n</ol>\n<p>This should fix your problem, however there is a reason why modifiers exist. Maybe think about changing your architecture.</p>\n"}],"owner":{"account_id":27864179,"reputation":350,"user_id":21276039,"display_name":"indyteo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76757459,"answer_count":1,"score":-1,"last_activity_date":1690226439,"creation_date":1690225288,"question_id":76757348,"body_markdown":"sorry if this question already got an answer somewhere, I was unable to find it myself. I&#39;d be gladly redirected if the other answer explains **WHY** (I&#39;m not looking for a workaround, see at the end).\r\n\r\nI have a structure in my program with two classes, the second one extending the first one. In the root class (1st), I have a field that may contain a reference to the subclass (2nd) (it&#39;s another instance representing the parent of this object in the application&#39;s logic).\r\n\r\nIn one of the methods in the root class, I would like to do some kind of recursive operation. However, when I&#39;m calling the method recursively, the compiler rejects my call through the subclass instance.\r\n\r\nHere is some code to illustrate:\r\n\r\n```java\r\npublic class RootType {\r\n\tprivate SubType parent;\r\n\r\n\tprivate void doSomethingRecursively() {\r\n\t\tif (this.parent == null)\r\n\t\t\treturn;\r\n\t\tthis.parent.doSomethingRecursively();\r\n//                  ^^^^^^^^^^^^^^^^^^^^^^\r\n// &#39;doSomethingRecursively()&#39; has private access in &#39;RootType&#39;\r\n\t}\r\n}\r\n\r\npublic class SubType extends RootType {}\r\n\r\n// Obviously there is more code, but I extracted the interesting part\r\n```\r\n\r\nWell, I&#39;m used to most of the strangeness of Java, but I never came across this one in the past. I know I can just lower the visibility restriction of the method, or even cast `this.parent` to `RootType` and it will work (and this is probably what I&#39;m gonna do), but I wonder **WHY** is it necessary??\r\n\r\nI mean, the compiler know `SubType extends RootType` (it even let me cast without any `unchecked` warning), and we can access private members inside a class, so why can&#39;t we just call that damn method? &#128517;\r\n\r\n(Just in case anyone need a fix/workaround, simply change the recursive call to `((RootType) this.parent).doSomethingRecursively();`)","title":"Accessing a private method from inside the root class through an instance of a subclass in Java","body":"<p>sorry if this question already got an answer somewhere, I was unable to find it myself. I'd be gladly redirected if the other answer explains <strong>WHY</strong> (I'm not looking for a workaround, see at the end).</p>\n<p>I have a structure in my program with two classes, the second one extending the first one. In the root class (1st), I have a field that may contain a reference to the subclass (2nd) (it's another instance representing the parent of this object in the application's logic).</p>\n<p>In one of the methods in the root class, I would like to do some kind of recursive operation. However, when I'm calling the method recursively, the compiler rejects my call through the subclass instance.</p>\n<p>Here is some code to illustrate:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RootType {\n    private SubType parent;\n\n    private void doSomethingRecursively() {\n        if (this.parent == null)\n            return;\n        this.parent.doSomethingRecursively();\n//                  ^^^^^^^^^^^^^^^^^^^^^^\n// 'doSomethingRecursively()' has private access in 'RootType'\n    }\n}\n\npublic class SubType extends RootType {}\n\n// Obviously there is more code, but I extracted the interesting part\n</code></pre>\n<p>Well, I'm used to most of the strangeness of Java, but I never came across this one in the past. I know I can just lower the visibility restriction of the method, or even cast <code>this.parent</code> to <code>RootType</code> and it will work (and this is probably what I'm gonna do), but I wonder <strong>WHY</strong> is it necessary??</p>\n<p>I mean, the compiler know <code>SubType extends RootType</code> (it even let me cast without any <code>unchecked</code> warning), and we can access private members inside a class, so why can't we just call that damn method? 😅</p>\n<p>(Just in case anyone need a fix/workaround, simply change the recursive call to <code>((RootType) this.parent).doSomethingRecursively();</code>)</p>\n"},{"tags":["javascript","java","spring-boot","thymeleaf","java-websocket"],"answers":[{"tags":[],"owner":{"account_id":9551641,"reputation":2137,"user_id":7095601,"display_name":"Elan Hamburger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500385781,"creation_date":1500323754,"answer_id":45153240,"question_id":45152771,"body_markdown":"In a standard web interaction, the client (i.e. your web browser) sends a request to your server. Your server receives the request, and sends back the information to show in your browser _and then terminates the connection_.\r\n\r\nWebSockets are a way to create a persistent, two-way connection between the client and the server, but it requires cooperation from both. A lot of shared servers don&#39;t allow WebSockets, so you first have to make sure your server is capable of providing WebSockets. (I see from your screenshot that you&#39;re running on Heroku, which should have no problem running WebSockets.)\r\n\r\nOn the server side, you need to set up handling for incoming WebSocket requests. I don&#39;t know what language you&#39;ve coded your server in, so I can&#39;t provide any guidance, but there are plenty of libraries that do the server-side part of WebSockets in most languages.\r\n\r\nOn the client side, you need to set up your WebSocket client. MDN has [a great guide](https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_client_applications) on WebSockets that explains what you&#39;ll need to do. Basically, all you&#39;ll have to do is listen for incoming messages and increment your counter.\r\n\r\n    var count = 0;\r\n    var exampleSocket = new WebSocket(&quot;ws://example.com/socket&quot;);\r\n    exampleSocket.onmessage = function(event) {\r\n        count++;\r\n        document.getElementById(&#39;myTicketCounter&#39;).innerHTML = count;\r\n    }\r\n\r\nFor some things, WebSockets are overkill. If you find that this is too much work for too little reward, you can also just set up an AJAX call to fire every few minutes that pings another page on your server and returns the number of tickets and updates accordingly. It won&#39;t be instantaneous, but if you don&#39;t need down-to-the-second resolution, it&#39;ll probably suffice. You can adjust the interval to be as long or as short as you want (to an extent; bombarding your server with constant requests will slow you down a bit).","title":"How to refresh the view using websocket getting the data from database","body":"<p>In a standard web interaction, the client (i.e. your web browser) sends a request to your server. Your server receives the request, and sends back the information to show in your browser <em>and then terminates the connection</em>.</p>\n\n<p>WebSockets are a way to create a persistent, two-way connection between the client and the server, but it requires cooperation from both. A lot of shared servers don't allow WebSockets, so you first have to make sure your server is capable of providing WebSockets. (I see from your screenshot that you're running on Heroku, which should have no problem running WebSockets.)</p>\n\n<p>On the server side, you need to set up handling for incoming WebSocket requests. I don't know what language you've coded your server in, so I can't provide any guidance, but there are plenty of libraries that do the server-side part of WebSockets in most languages.</p>\n\n<p>On the client side, you need to set up your WebSocket client. MDN has <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_client_applications\" rel=\"nofollow noreferrer\">a great guide</a> on WebSockets that explains what you'll need to do. Basically, all you'll have to do is listen for incoming messages and increment your counter.</p>\n\n<pre><code>var count = 0;\nvar exampleSocket = new WebSocket(\"ws://example.com/socket\");\nexampleSocket.onmessage = function(event) {\n    count++;\n    document.getElementById('myTicketCounter').innerHTML = count;\n}\n</code></pre>\n\n<p>For some things, WebSockets are overkill. If you find that this is too much work for too little reward, you can also just set up an AJAX call to fire every few minutes that pings another page on your server and returns the number of tickets and updates accordingly. It won't be instantaneous, but if you don't need down-to-the-second resolution, it'll probably suffice. You can adjust the interval to be as long or as short as you want (to an extent; bombarding your server with constant requests will slow you down a bit).</p>\n"}],"owner":{"account_id":10630311,"reputation":11,"user_id":7828691,"display_name":"Cisino Junior"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6980,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690225486,"creation_date":1500321897,"question_id":45152771,"body_markdown":"I need to refresh a part of my view without refreshing the whole page.\r\n\r\nAt my index.html page I have three panels, where one shows the number of Tickets by their status, I need to refresh this number every time a new ticket is created or updated. I used Java with Spring Boot and Thymeleaf to build my application.\r\n\r\nThis is my view:\r\n\r\n[![my index page][1]][1]\r\n\r\nThis is the way I&#39;m doing it now:\r\n\r\n    model.addAttribute(&quot;resolvedTickets&quot;, atendimentoService.findAllTicketsByStatus(STATUS_RESOLVED).size());\r\n\r\nI have tried to use web `sockets` but I can&#39;t figure out how to get this and refresh the panels.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fxyqc.png","title":"How to refresh the view using websocket getting the data from database","body":"<p>I need to refresh a part of my view without refreshing the whole page.</p>\n<p>At my index.html page I have three panels, where one shows the number of Tickets by their status, I need to refresh this number every time a new ticket is created or updated. I used Java with Spring Boot and Thymeleaf to build my application.</p>\n<p>This is my view:</p>\n<p><a href=\"https://i.stack.imgur.com/fxyqc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fxyqc.png\" alt=\"my index page\" /></a></p>\n<p>This is the way I'm doing it now:</p>\n<pre><code>model.addAttribute(&quot;resolvedTickets&quot;, atendimentoService.findAllTicketsByStatus(STATUS_RESOLVED).size());\n</code></pre>\n<p>I have tried to use web <code>sockets</code> but I can't figure out how to get this and refresh the panels.</p>\n"},{"tags":["java","corretto","hardware-security-module","nshield"],"comments":[{"owner":{"account_id":9609,"reputation":92294,"user_id":17833,"display_name":"Anya Shenanigans"},"score":0,"creation_date":1690206998,"post_id":76754911,"comment_id":135317265,"body_markdown":"Did you try to `--add-modules=java.desktop --add-reads com.ncipher.provider.km.nCipherKM=java.desktop`?","body":"Did you try to <code>--add-modules=java.desktop --add-reads com.ncipher.provider.km.nCipherKM=java.desktop</code>?"},{"owner":{"account_id":26726814,"reputation":29,"user_id":20329827,"display_name":"Sinnedkid"},"score":0,"creation_date":1690209882,"post_id":76754911,"comment_id":135317878,"body_markdown":"@AnyaShenanigans thanks for the hint, i saw another stackoverflow post in the meantime where this has also been recommended. It sort of helped with that particular problem but then another error occured. I was able to fix it using a different command that was not mentioned that way in the manual.","body":"@AnyaShenanigans thanks for the hint, i saw another stackoverflow post in the meantime where this has also been recommended. It sort of helped with that particular problem but then another error occured. I was able to fix it using a different command that was not mentioned that way in the manual."}],"answers":[{"tags":[],"owner":{"account_id":26726814,"reputation":29,"user_id":20329827,"display_name":"Sinnedkid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690209969,"creation_date":1690209969,"answer_id":76755589,"question_id":76754911,"body_markdown":"I was able to solve the issue by simpling giving the command `keytool -genkey -alias &lt;keyalias&gt; -keyalg &lt;algorithm&gt; -sigalg &lt;signingAlgorithm&gt; -keysize &lt;keysize&gt; -keystore nCipher.sworld`\r\n\r\nThat created the keystore like i wanted - sadly this was not mentioned in the manual.","title":"Keystore generation Entrust HSM not working","body":"<p>I was able to solve the issue by simpling giving the command <code>keytool -genkey -alias &lt;keyalias&gt; -keyalg &lt;algorithm&gt; -sigalg &lt;signingAlgorithm&gt; -keysize &lt;keysize&gt; -keystore nCipher.sworld</code></p>\n<p>That created the keystore like i wanted - sadly this was not mentioned in the manual.</p>\n"}],"owner":{"account_id":26726814,"reputation":29,"user_id":20329827,"display_name":"Sinnedkid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690224746,"creation_date":1690204747,"question_id":76754911,"body_markdown":"I am trying to set up an Entrust HSM Connect with the JCE/JCA Provider. \r\n\r\nI&#39;ve completed all the steps in the Guide (https://nshielddocs.entrust.com/connect-ug/12.80/application-interfaces) and now i struggle at &quot;Application Interfaces&quot;. I&#39;ve completed all the parts until generating a new key. \r\n\r\nWhen I prompt the &#39;`..InstallationTest`&#39; it says that nCipher is correctly installed and is on position 1.\r\n \r\nBut when i try \r\n\r\n    java --module-path /opt/nfast/java/classes sun.security.tools.keytool.Main -genkey -storetype nCipher.sworld -keyalg RSA -sigalg SHA1withRSA -storepass &lt;KeyStore_passphrase&gt; -keystore &lt;KeyStore_path&gt;\r\n\r\nIt prints the following error message: \r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalAccessError: class com.ncipher.nfast.NFKeyModuleObjectTracker (in module com.ncipher.provider.km.nCipherKM) cannot access class java.beans.PropertyChangeSupport (in module java.desktop) because module com.ncipher.provider.km.nCipherKM does not read module java.desktop\r\n            at com.ncipher.provider.km.nCipherKM/com.ncipher.nfast.NFKeyModuleObjectTracker.&lt;init&gt;(NFKeyModuleObjectTracker.java:48)\r\n            at com.ncipher.provider.km.nCipherKM/com.ncipher.nfast.NFKeyModuleObjectTracker.&lt;clinit&gt;(NFKeyModuleObjectTracker.java:23)\r\n            at com.ncipher.provider.km.nCipherKM/com.ncipher.nfast.NFKeyModuleObject.notifyLoaded(NFKeyModuleObject.java:31)\r\n            at com.ncipher.provider.km.nCipherKM/com.ncipher.nfast.NFKeyModuleObject.&lt;init&gt;(NFKeyModuleObject.java:26)\r\n            at com.ncipher.provider.km.nCipherKM/com.ncipher.km.nfkm.Key.setKeyIDs(Key.java:1557)\r\n            at com.ncipher.provider.km.nCipherKM/com.ncipher.km.nfkm.KeyGenerator._generateKey(KeyGenerator.java:1428)\r\n            at com.ncipher.provider.km.nCipherKM/com.ncipher.km.nfkm.KeyGenerator.generateUnrecordedKey(KeyGenerator.java:964)\r\n            at com.ncipher.provider.km.nCipherKM/com.ncipher.provider.km.nCipherKM.generateKey(nCipherKM.java:728)\r\n            at com.ncipher.provider.km.nCipherKM/com.ncipher.provider.km.KMHmacSHA1KeyGenerator.engineGenerateKey(KMHmacSHA1KeyGenerator.java:58)\r\n            at com.ncipher.provider.km.nCipherKM/com.ncipher.provider.km.KMKeyStore.engineLoad(KMKeyStore.java:692)\r\n            at java.base/java.security.KeyStore.load(KeyStore.java:1479)\r\n            at java.base/sun.security.tools.keytool.Main.doCommands(Main.java:987)\r\n            at java.base/sun.security.tools.keytool.Main.run(Main.java:412)\r\n            at java.base/sun.security.tools.keytool.Main.main(Main.java:405)\r\n\r\nI am using the Amazon Corretto Java version, maybe this is the problem? But normally Corretto is compatible with the Oracle version?\r\n\r\nDoes anyone know how to fix this error? I already tried a lot of things but none of them worked. \r\n\r\nThanks in advance.","title":"Keystore generation Entrust HSM not working","body":"<p>I am trying to set up an Entrust HSM Connect with the JCE/JCA Provider.</p>\n<p>I've completed all the steps in the Guide (<a href=\"https://nshielddocs.entrust.com/connect-ug/12.80/application-interfaces\" rel=\"nofollow noreferrer\">https://nshielddocs.entrust.com/connect-ug/12.80/application-interfaces</a>) and now i struggle at &quot;Application Interfaces&quot;. I've completed all the parts until generating a new key.</p>\n<p>When I prompt the '<code>..InstallationTest</code>' it says that nCipher is correctly installed and is on position 1.</p>\n<p>But when i try</p>\n<pre><code>java --module-path /opt/nfast/java/classes sun.security.tools.keytool.Main -genkey -storetype nCipher.sworld -keyalg RSA -sigalg SHA1withRSA -storepass &lt;KeyStore_passphrase&gt; -keystore &lt;KeyStore_path&gt;\n</code></pre>\n<p>It prints the following error message:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalAccessError: class com.ncipher.nfast.NFKeyModuleObjectTracker (in module com.ncipher.provider.km.nCipherKM) cannot access class java.beans.PropertyChangeSupport (in module java.desktop) because module com.ncipher.provider.km.nCipherKM does not read module java.desktop\n        at com.ncipher.provider.km.nCipherKM/com.ncipher.nfast.NFKeyModuleObjectTracker.&lt;init&gt;(NFKeyModuleObjectTracker.java:48)\n        at com.ncipher.provider.km.nCipherKM/com.ncipher.nfast.NFKeyModuleObjectTracker.&lt;clinit&gt;(NFKeyModuleObjectTracker.java:23)\n        at com.ncipher.provider.km.nCipherKM/com.ncipher.nfast.NFKeyModuleObject.notifyLoaded(NFKeyModuleObject.java:31)\n        at com.ncipher.provider.km.nCipherKM/com.ncipher.nfast.NFKeyModuleObject.&lt;init&gt;(NFKeyModuleObject.java:26)\n        at com.ncipher.provider.km.nCipherKM/com.ncipher.km.nfkm.Key.setKeyIDs(Key.java:1557)\n        at com.ncipher.provider.km.nCipherKM/com.ncipher.km.nfkm.KeyGenerator._generateKey(KeyGenerator.java:1428)\n        at com.ncipher.provider.km.nCipherKM/com.ncipher.km.nfkm.KeyGenerator.generateUnrecordedKey(KeyGenerator.java:964)\n        at com.ncipher.provider.km.nCipherKM/com.ncipher.provider.km.nCipherKM.generateKey(nCipherKM.java:728)\n        at com.ncipher.provider.km.nCipherKM/com.ncipher.provider.km.KMHmacSHA1KeyGenerator.engineGenerateKey(KMHmacSHA1KeyGenerator.java:58)\n        at com.ncipher.provider.km.nCipherKM/com.ncipher.provider.km.KMKeyStore.engineLoad(KMKeyStore.java:692)\n        at java.base/java.security.KeyStore.load(KeyStore.java:1479)\n        at java.base/sun.security.tools.keytool.Main.doCommands(Main.java:987)\n        at java.base/sun.security.tools.keytool.Main.run(Main.java:412)\n        at java.base/sun.security.tools.keytool.Main.main(Main.java:405)\n</code></pre>\n<p>I am using the Amazon Corretto Java version, maybe this is the problem? But normally Corretto is compatible with the Oracle version?</p>\n<p>Does anyone know how to fix this error? I already tried a lot of things but none of them worked.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","microservices","decorator","quarkus","redisclient"],"comments":[{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":0,"creation_date":1690265932,"post_id":76757199,"comment_id":135325171,"body_markdown":"The best would be to decorate the low level redis client. Did you try this?","body":"The best would be to decorate the low level redis client. Did you try this?"},{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":0,"creation_date":1690271562,"post_id":76757199,"comment_id":135326171,"body_markdown":"There must be a delegate, otherwise decorator makes no sense. The delegate here would be the Redis client that Quarkus provides, e.g. a `RedisDataSource`.","body":"There must be a delegate, otherwise decorator makes no sense. The delegate here would be the Redis client that Quarkus provides, e.g. a <code>RedisDataSource</code>."},{"owner":{"account_id":18044566,"reputation":101,"user_id":13115896,"display_name":"sg2000"},"score":0,"creation_date":1690310483,"post_id":76757199,"comment_id":135334798,"body_markdown":"Yes i tried to decorate the low level RediClient but the calls to the RedisClient don&#39;t trigger the decorator. Not sure if this is because the actual invocation to RedisClient happens through a proxy","body":"Yes i tried to decorate the low level RediClient but the calls to the RedisClient don&#39;t trigger the decorator. Not sure if this is because the actual invocation to RedisClient happens through a proxy"},{"owner":{"account_id":18044566,"reputation":101,"user_id":13115896,"display_name":"sg2000"},"score":0,"creation_date":1697468188,"post_id":76757199,"comment_id":136280436,"body_markdown":"So we are hsing the RedisDataSource and the corresponding HashComments, ValueCommands implementations to retrieve the data. These are slightly different from RedisClient which is injected directly in that you get them from the RedisDataSource so wondering how to inject a wrapper around them.","body":"So we are hsing the RedisDataSource and the corresponding HashComments, ValueCommands implementations to retrieve the data. These are slightly different from RedisClient which is injected directly in that you get them from the RedisDataSource so wondering how to inject a wrapper around them."}],"owner":{"account_id":18044566,"reputation":101,"user_id":13115896,"display_name":"sg2000"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690223798,"creation_date":1690223798,"question_id":76757199,"body_markdown":"Hi we are using RedisClient to access/update data in Redis from our microservices. What i would like to do is add a decorator around RedisClient calls to add additional information around this call. These calls are not in separate methods to add an interceptor so i am looking to add a decorator. Is it possible to add a decorator with no implementation class as delegate? I tried doing this but then the decorator code doesn&#39;t get triggered. Any idea if and how to achieve this?\r\n\r\nThank you in advance","title":"Quarkus Decorator for RedisClient","body":"<p>Hi we are using RedisClient to access/update data in Redis from our microservices. What i would like to do is add a decorator around RedisClient calls to add additional information around this call. These calls are not in separate methods to add an interceptor so i am looking to add a decorator. Is it possible to add a decorator with no implementation class as delegate? I tried doing this but then the decorator code doesn't get triggered. Any idea if and how to achieve this?</p>\n<p>Thank you in advance</p>\n"},{"tags":["java","dropwizard","metrics"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1512107317,"creation_date":1512106977,"answer_id":47587311,"question_id":47587243,"body_markdown":"It&#39;s all the same, but Dropwizard Metrics is the current library name \r\n\r\n&gt; Coda Hale Yammer Inc. \r\n\r\nhttp://metrics.dropwizard.io\r\n\r\nAnother thing to look at is that the Maven dependencies for codahale metrics are latest in 2014 and Dropwizard are updated recently ","title":"Differences and relationship between yammer &amp; codahale &amp; dropwizard Metrics?","body":"<p>It's all the same, but Dropwizard Metrics is the current library name </p>\n\n<blockquote>\n  <p>Coda Hale Yammer Inc. </p>\n</blockquote>\n\n<p><a href=\"http://metrics.dropwizard.io\" rel=\"nofollow noreferrer\">http://metrics.dropwizard.io</a></p>\n\n<p>Another thing to look at is that the Maven dependencies for codahale metrics are latest in 2014 and Dropwizard are updated recently </p>\n"},{"tags":[],"owner":{"account_id":723954,"reputation":1847,"user_id":666583,"display_name":"AndrewF"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690223705,"creation_date":1690223705,"answer_id":76757192,"question_id":47587243,"body_markdown":"From Ryan Kennedy, formerly a Director of Engineering @ Yammer, [posted on the `dropwizard-user` group](https://groups.google.com/g/dropwizard-user/c/1usH7frpnZE/m/RSQUsOBFMsoJ):\r\n&gt; Long story short…metrics and dropwizard both started as Coda&#39;s personal projects. At some point they were important enough to the functioning of Yammer that we moved them to com.yammer. Eventually we reached a point where community participation was high enough that it made more sense to re-brand as io.dropwizard and put together a community of committers and maintainers. That brings us to where the projects are at today. I suspect package changing is now a thing of the past now that both projects are squarely in the hands of the community.\r\n\r\nGoing forward, I expect the Maven group name to stay as [`io.dropwizard.metrics`](https://mvnrepository.com/artifact/io.dropwizard.metrics), the source code to live at [Github: dropwizard/metrics](https://github.com/dropwizard/metrics), and the Java package names to stay under `com.codahale.metrics`.","title":"Differences and relationship between yammer &amp; codahale &amp; dropwizard Metrics?","body":"<p>From Ryan Kennedy, formerly a Director of Engineering @ Yammer, <a href=\"https://groups.google.com/g/dropwizard-user/c/1usH7frpnZE/m/RSQUsOBFMsoJ\" rel=\"nofollow noreferrer\">posted on the <code>dropwizard-user</code> group</a>:</p>\n<blockquote>\n<p>Long story short…metrics and dropwizard both started as Coda's personal projects. At some point they were important enough to the functioning of Yammer that we moved them to com.yammer. Eventually we reached a point where community participation was high enough that it made more sense to re-brand as io.dropwizard and put together a community of committers and maintainers. That brings us to where the projects are at today. I suspect package changing is now a thing of the past now that both projects are squarely in the hands of the community.</p>\n</blockquote>\n<p>Going forward, I expect the Maven group name to stay as <a href=\"https://mvnrepository.com/artifact/io.dropwizard.metrics\" rel=\"nofollow noreferrer\"><code>io.dropwizard.metrics</code></a>, the source code to live at <a href=\"https://github.com/dropwizard/metrics\" rel=\"nofollow noreferrer\">Github: dropwizard/metrics</a>, and the Java package names to stay under <code>com.codahale.metrics</code>.</p>\n"}],"owner":{"account_id":6409279,"reputation":958,"user_id":7676237,"display_name":"puppylpg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1279,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":47587311,"answer_count":2,"score":3,"last_activity_date":1690223705,"creation_date":1512106598,"question_id":47587243,"body_markdown":"Metrics can measure some useful fields, but what&#39;s the differences and relations? ","title":"Differences and relationship between yammer &amp; codahale &amp; dropwizard Metrics?","body":"<p>Metrics can measure some useful fields, but what's the differences and relations? </p>\n"},{"tags":["java","spring-boot","performance","jmeter","performance-testing"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690223676,"creation_date":1690223676,"answer_id":76757187,"question_id":76757091,"body_markdown":"The options are in:\r\n\r\n 1. [Constant Throughput Timer][1] however it&#39;s precise enough on &quot;minute&quot; level so during first minute of your test you may get higher TPS \r\n 2. [Precise Throughput Timer][2] which is very &quot;precise&quot; but you need to specify throughput period duration, test duration, think about [pool of free threads][3]\r\n 3. [Throughput Shaping Timer][4] which provides easy visual way of configuring the TPS and it can also be integrated with [Concurrency Thread Group][5] so JMeter would be able to kick off extra threads if current amount is not sufficient for conducting the required load.    \r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/component_reference.html#Constant_Throughput_Timer\r\n  [2]: https://jmeter.apache.org/usermanual/component_reference.html#Precise_Throughput_Timer\r\n  [3]: https://en.wikipedia.org/wiki/Thread_pool\r\n  [4]: https://www.blazemeter.com/blog/jmeters-shaping-timer-plugin\r\n  [5]: https://jmeter-plugins.org/wiki/ConcurrencyThreadGroup/","title":"How to fix TPS in jemeter irrespective of threads","body":"<p>The options are in:</p>\n<ol>\n<li><a href=\"https://jmeter.apache.org/usermanual/component_reference.html#Constant_Throughput_Timer\" rel=\"nofollow noreferrer\">Constant Throughput Timer</a> however it's precise enough on &quot;minute&quot; level so during first minute of your test you may get higher TPS</li>\n<li><a href=\"https://jmeter.apache.org/usermanual/component_reference.html#Precise_Throughput_Timer\" rel=\"nofollow noreferrer\">Precise Throughput Timer</a> which is very &quot;precise&quot; but you need to specify throughput period duration, test duration, think about <a href=\"https://en.wikipedia.org/wiki/Thread_pool\" rel=\"nofollow noreferrer\">pool of free threads</a></li>\n<li><a href=\"https://www.blazemeter.com/blog/jmeters-shaping-timer-plugin\" rel=\"nofollow noreferrer\">Throughput Shaping Timer</a> which provides easy visual way of configuring the TPS and it can also be integrated with <a href=\"https://jmeter-plugins.org/wiki/ConcurrencyThreadGroup/\" rel=\"nofollow noreferrer\">Concurrency Thread Group</a> so JMeter would be able to kick off extra threads if current amount is not sufficient for conducting the required load.</li>\n</ol>\n"}],"owner":{"account_id":24057171,"reputation":73,"user_id":18034851,"display_name":"GlidingSwords997"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76757187,"answer_count":1,"score":0,"last_activity_date":1690223676,"creation_date":1690222804,"question_id":76757091,"body_markdown":"I am running tests in Jmeter, where a thread group is having 5 APIs. Now, the sum of hits for all the APIs is required to be fixed irrespective of the number of threads. For example, no matter what is the number of threads, I need to keep the TPS as 200. How can that be achieved ?","title":"How to fix TPS in jemeter irrespective of threads","body":"<p>I am running tests in Jmeter, where a thread group is having 5 APIs. Now, the sum of hits for all the APIs is required to be fixed irrespective of the number of threads. For example, no matter what is the number of threads, I need to keep the TPS as 200. How can that be achieved ?</p>\n"},{"tags":["java","android-linearlayout"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690279524,"post_id":76757178,"comment_id":135327933,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":25480628,"reputation":11,"user_id":19277042,"display_name":"Fratsie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690223615,"creation_date":1690223615,"question_id":76757178,"body_markdown":"So i have tried to place the imageview to the left with gravity but this doesn&#39;t work also i have tried to put it to the left with weight but that also did not work. \r\n\r\nI want to place the profile picture all the way to the left and the username right next to the profile picture.\r\n\r\nBut with adding gravity=&quot;START&quot; to the profile picture the problem was not solved \r\n\r\nHere is my code.\r\n\r\n\r\n```\r\nprivate void retrieveImages() {\r\n        final long MAX_SIZE = 5 * 1014 * 1024;\r\n\r\n        // Create the horizontal LinearLayout to hold the profile picture and username\r\n        LinearLayout linearLayout1 = new LinearLayout(getApplicationContext());\r\n        linearLayout1.setOrientation(LinearLayout.HORIZONTAL);\r\n\r\n        // Create the vertical LinearLayout to hold the post image and description\r\n        LinearLayout linearLayout2 = new LinearLayout(getApplicationContext());\r\n        linearLayout2.setOrientation(LinearLayout.VERTICAL);\r\n\r\n        // Define parent container\r\n        GridLayout parentLayout = findViewById(R.id.GlPosts);\r\n\r\n        //Adding everything to layouts\r\n        imagesRef.listAll().addOnSuccessListener(new OnSuccessListener&lt;ListResult&gt;() {\r\n            @Override\r\n            public void onSuccess(ListResult listResult) {\r\n                for (StorageReference item : listResult.getItems()) {\r\n                    String name = item.getName();\r\n\r\n                    //Getting profile picture and adding to\r\n                    myRef.addValueEventListener(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                            String email = snapshot.child(name).child(&quot;Email&quot;).getValue(String.class);\r\n                            String storageEmail = email.replace(&quot;;&quot;, &quot;.&quot;);\r\n                            StorageReference profileRef = storage.getReference().child(&quot;profiles&quot;).child(storageEmail);\r\n                            profileRef.getBytes(MAX_SIZE).addOnSuccessListener(new OnSuccessListener&lt;byte[]&gt;() {\r\n                                @Override\r\n                                public void onSuccess(byte[] bytes) {\r\n                                    ImageView profilePicture = new ImageView(getApplicationContext());\r\n                                    Bitmap bitmap = BitmapFactory.decodeByteArray(bytes, 0, bytes.length);\r\n                                    profilePicture.setImageBitmap(bitmap);\r\n\r\n                                    LinearLayout.LayoutParams profileParams = new LinearLayout.LayoutParams(200, 200);\r\n                                    profileParams.gravity = Gravity.START;\r\n                                    profilePicture.setLayoutParams(profileParams);\r\n\r\n                                    // Adding the profile picture to the same horizontal LinearLayout\r\n                                    linearLayout1.addView(profilePicture);\r\n                                }\r\n                            }).addOnFailureListener(new OnFailureListener() {\r\n                                @Override\r\n                                public void onFailure(@NonNull Exception e) {\r\n                                    Toast.makeText(getApplicationContext(), &quot;Failed to load image&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            });\r\n                        }\r\n\r\n                        @Override\r\n                        public void onCancelled(@NonNull DatabaseError error) {\r\n                            Toast.makeText(getApplicationContext(), &quot;Failed to get username&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n\r\n                    //Adding post image to linear layout\r\n                    item.getBytes(MAX_SIZE).addOnSuccessListener(new OnSuccessListener&lt;byte[]&gt;() {\r\n                        @Override\r\n                        public void onSuccess(byte[] bytes) {\r\n                            ImageView image = new ImageView(getApplicationContext());\r\n\r\n                            Bitmap bitmap = BitmapFactory.decodeByteArray(bytes, 0, bytes.length);\r\n                            image.setImageBitmap(bitmap);\r\n                            linearLayout2.addView(image);\r\n\r\n                            //Adding post description to linear layout\r\n                            myRef.addValueEventListener(new ValueEventListener() {\r\n                                @Override\r\n                                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                                    String description = snapshot.child(name).child(&quot;Description&quot;).getValue(String.class);\r\n\r\n                                    TextView Description = new TextView(getApplicationContext());\r\n                                    Description.setTextColor(Color.WHITE);\r\n                                    Description.setText(description);\r\n                                    Description.setTextAlignment(View.TEXT_ALIGNMENT_CENTER);\r\n                                    linearLayout2.addView(Description);\r\n                                }\r\n\r\n                                @Override\r\n                                public void onCancelled(@NonNull DatabaseError error) {\r\n                                    Toast.makeText(getApplicationContext(), &quot;Failed to get description&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            });\r\n                        }\r\n                    }).addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n                            Toast.makeText(getApplicationContext(), &quot;Failed to load image&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n\r\n                    //Adding username to linear layout\r\n                    myRef.addValueEventListener(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                            String email = snapshot.child(name).child(&quot;Email&quot;).getValue(String.class);\r\n                            String username = snapshot.child(&quot;profiles&quot;).child(email).child(&quot;Username&quot;).getValue(String.class);\r\n\r\n                            TextView usernameDisplay = new TextView(getApplicationContext());\r\n                            usernameDisplay.setText(username);\r\n                            usernameDisplay.setTextSize(20);\r\n                            usernameDisplay.setTextColor(Color.WHITE);\r\n                            usernameDisplay.setGravity(Gravity.START);\r\n\r\n                            // Adding the username to the same horizontal LinearLayout\r\n                            linearLayout1.addView(usernameDisplay);\r\n                        }\r\n\r\n                        @Override\r\n                        public void onCancelled(@NonNull DatabaseError error) {\r\n                            Toast.makeText(getApplicationContext(), &quot;Failed to get username&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n\r\n                    // Add the two LinearLayouts to the parent GridLayout\r\n                    GridLayout.LayoutParams layoutParams1 = new GridLayout.LayoutParams();\r\n                    layoutParams1.rowSpec = GridLayout.spec(0);\r\n                    layoutParams1.columnSpec = GridLayout.spec(0);\r\n                    parentLayout.addView(linearLayout1, layoutParams1);\r\n\r\n                    GridLayout.LayoutParams layoutParams2 = new GridLayout.LayoutParams();\r\n                    layoutParams2.rowSpec = GridLayout.spec(1);\r\n                    layoutParams2.columnSpec = GridLayout.spec(0);\r\n                    parentLayout.addView(linearLayout2, layoutParams2);\r\n                }\r\n            }\r\n        }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                Toast.makeText(getApplicationContext(), &quot;Failed to list items&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\n\r\nand XML\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n    &lt;androidx.core.widget.NestedScrollView\r\n        android:id=&quot;@+id/ScrollView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@color/black&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/TvTitle&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:fontFamily=&quot;@font/logo&quot;\r\n                android:text=&quot;@string/app_name&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:textSize=&quot;55dp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.109&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/IvCalender&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;30dp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.809&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.0&quot;\r\n                app:srcCompat=&quot;@drawable/calendar&quot; /&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/IvNotes&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;30dp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.91&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.0&quot;\r\n                app:srcCompat=&quot;@drawable/notes&quot; /&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/IvAddPost&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;30dp&quot;\r\n                android:layout_marginBottom=&quot;16dp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/GlPosts&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.939&quot;\r\n                app:srcCompat=&quot;@drawable/plus&quot; /&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/IvHome&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;30dp&quot;\r\n                android:layout_marginBottom=&quot;16dp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toStartOf=&quot;@+id/IvAddPost&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.302&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/GlPosts&quot;\r\n                app:layout_constraintVertical_bias=&quot;1.0&quot;\r\n                app:srcCompat=&quot;@drawable/home&quot; /&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/IvProfile&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;30dp&quot;\r\n                android:layout_marginTop=&quot;20dp&quot;\r\n                android:layout_marginBottom=&quot;16dp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.69&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@+id/IvAddPost&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/GlPosts&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.939&quot;\r\n                app:srcCompat=&quot;@drawable/user&quot; /&gt;\r\n\r\n            &lt;GridLayout\r\n                android:id=&quot;@+id/GlPosts&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                android:layout_margin=&quot;20dp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/TvTitle&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.173&quot; /&gt;\r\n\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    &lt;/androidx.core.widget.NestedScrollView&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n","title":"Problem with placing of views inside a linear layout","body":"<p>So i have tried to place the imageview to the left with gravity but this doesn't work also i have tried to put it to the left with weight but that also did not work.</p>\n<p>I want to place the profile picture all the way to the left and the username right next to the profile picture.</p>\n<p>But with adding gravity=&quot;START&quot; to the profile picture the problem was not solved</p>\n<p>Here is my code.</p>\n<pre><code>private void retrieveImages() {\n        final long MAX_SIZE = 5 * 1014 * 1024;\n\n        // Create the horizontal LinearLayout to hold the profile picture and username\n        LinearLayout linearLayout1 = new LinearLayout(getApplicationContext());\n        linearLayout1.setOrientation(LinearLayout.HORIZONTAL);\n\n        // Create the vertical LinearLayout to hold the post image and description\n        LinearLayout linearLayout2 = new LinearLayout(getApplicationContext());\n        linearLayout2.setOrientation(LinearLayout.VERTICAL);\n\n        // Define parent container\n        GridLayout parentLayout = findViewById(R.id.GlPosts);\n\n        //Adding everything to layouts\n        imagesRef.listAll().addOnSuccessListener(new OnSuccessListener&lt;ListResult&gt;() {\n            @Override\n            public void onSuccess(ListResult listResult) {\n                for (StorageReference item : listResult.getItems()) {\n                    String name = item.getName();\n\n                    //Getting profile picture and adding to\n                    myRef.addValueEventListener(new ValueEventListener() {\n                        @Override\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\n                            String email = snapshot.child(name).child(&quot;Email&quot;).getValue(String.class);\n                            String storageEmail = email.replace(&quot;;&quot;, &quot;.&quot;);\n                            StorageReference profileRef = storage.getReference().child(&quot;profiles&quot;).child(storageEmail);\n                            profileRef.getBytes(MAX_SIZE).addOnSuccessListener(new OnSuccessListener&lt;byte[]&gt;() {\n                                @Override\n                                public void onSuccess(byte[] bytes) {\n                                    ImageView profilePicture = new ImageView(getApplicationContext());\n                                    Bitmap bitmap = BitmapFactory.decodeByteArray(bytes, 0, bytes.length);\n                                    profilePicture.setImageBitmap(bitmap);\n\n                                    LinearLayout.LayoutParams profileParams = new LinearLayout.LayoutParams(200, 200);\n                                    profileParams.gravity = Gravity.START;\n                                    profilePicture.setLayoutParams(profileParams);\n\n                                    // Adding the profile picture to the same horizontal LinearLayout\n                                    linearLayout1.addView(profilePicture);\n                                }\n                            }).addOnFailureListener(new OnFailureListener() {\n                                @Override\n                                public void onFailure(@NonNull Exception e) {\n                                    Toast.makeText(getApplicationContext(), &quot;Failed to load image&quot;, Toast.LENGTH_SHORT).show();\n                                }\n                            });\n                        }\n\n                        @Override\n                        public void onCancelled(@NonNull DatabaseError error) {\n                            Toast.makeText(getApplicationContext(), &quot;Failed to get username&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    });\n\n                    //Adding post image to linear layout\n                    item.getBytes(MAX_SIZE).addOnSuccessListener(new OnSuccessListener&lt;byte[]&gt;() {\n                        @Override\n                        public void onSuccess(byte[] bytes) {\n                            ImageView image = new ImageView(getApplicationContext());\n\n                            Bitmap bitmap = BitmapFactory.decodeByteArray(bytes, 0, bytes.length);\n                            image.setImageBitmap(bitmap);\n                            linearLayout2.addView(image);\n\n                            //Adding post description to linear layout\n                            myRef.addValueEventListener(new ValueEventListener() {\n                                @Override\n                                public void onDataChange(@NonNull DataSnapshot snapshot) {\n                                    String description = snapshot.child(name).child(&quot;Description&quot;).getValue(String.class);\n\n                                    TextView Description = new TextView(getApplicationContext());\n                                    Description.setTextColor(Color.WHITE);\n                                    Description.setText(description);\n                                    Description.setTextAlignment(View.TEXT_ALIGNMENT_CENTER);\n                                    linearLayout2.addView(Description);\n                                }\n\n                                @Override\n                                public void onCancelled(@NonNull DatabaseError error) {\n                                    Toast.makeText(getApplicationContext(), &quot;Failed to get description&quot;, Toast.LENGTH_SHORT).show();\n                                }\n                            });\n                        }\n                    }).addOnFailureListener(new OnFailureListener() {\n                        @Override\n                        public void onFailure(@NonNull Exception e) {\n                            Toast.makeText(getApplicationContext(), &quot;Failed to load image&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    });\n\n                    //Adding username to linear layout\n                    myRef.addValueEventListener(new ValueEventListener() {\n                        @Override\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\n                            String email = snapshot.child(name).child(&quot;Email&quot;).getValue(String.class);\n                            String username = snapshot.child(&quot;profiles&quot;).child(email).child(&quot;Username&quot;).getValue(String.class);\n\n                            TextView usernameDisplay = new TextView(getApplicationContext());\n                            usernameDisplay.setText(username);\n                            usernameDisplay.setTextSize(20);\n                            usernameDisplay.setTextColor(Color.WHITE);\n                            usernameDisplay.setGravity(Gravity.START);\n\n                            // Adding the username to the same horizontal LinearLayout\n                            linearLayout1.addView(usernameDisplay);\n                        }\n\n                        @Override\n                        public void onCancelled(@NonNull DatabaseError error) {\n                            Toast.makeText(getApplicationContext(), &quot;Failed to get username&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    });\n\n                    // Add the two LinearLayouts to the parent GridLayout\n                    GridLayout.LayoutParams layoutParams1 = new GridLayout.LayoutParams();\n                    layoutParams1.rowSpec = GridLayout.spec(0);\n                    layoutParams1.columnSpec = GridLayout.spec(0);\n                    parentLayout.addView(linearLayout1, layoutParams1);\n\n                    GridLayout.LayoutParams layoutParams2 = new GridLayout.LayoutParams();\n                    layoutParams2.rowSpec = GridLayout.spec(1);\n                    layoutParams2.columnSpec = GridLayout.spec(0);\n                    parentLayout.addView(linearLayout2, layoutParams2);\n                }\n            }\n        }).addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception e) {\n                Toast.makeText(getApplicationContext(), &quot;Failed to list items&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n</code></pre>\n<p>and XML</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;androidx.core.widget.NestedScrollView\n        android:id=&quot;@+id/ScrollView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:background=&quot;@color/black&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/TvTitle&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:fontFamily=&quot;@font/logo&quot;\n                android:text=&quot;@string/app_name&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:textSize=&quot;55dp&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintHorizontal_bias=&quot;0.109&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/IvCalender&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;30dp&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintHorizontal_bias=&quot;0.809&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:layout_constraintVertical_bias=&quot;0.0&quot;\n                app:srcCompat=&quot;@drawable/calendar&quot; /&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/IvNotes&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;30dp&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintHorizontal_bias=&quot;0.91&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:layout_constraintVertical_bias=&quot;0.0&quot;\n                app:srcCompat=&quot;@drawable/notes&quot; /&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/IvAddPost&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;30dp&quot;\n                android:layout_marginBottom=&quot;16dp&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintHorizontal_bias=&quot;0.498&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/GlPosts&quot;\n                app:layout_constraintVertical_bias=&quot;0.939&quot;\n                app:srcCompat=&quot;@drawable/plus&quot; /&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/IvHome&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;30dp&quot;\n                android:layout_marginBottom=&quot;16dp&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toStartOf=&quot;@+id/IvAddPost&quot;\n                app:layout_constraintHorizontal_bias=&quot;0.302&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/GlPosts&quot;\n                app:layout_constraintVertical_bias=&quot;1.0&quot;\n                app:srcCompat=&quot;@drawable/home&quot; /&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/IvProfile&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;30dp&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:layout_marginBottom=&quot;16dp&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintHorizontal_bias=&quot;0.69&quot;\n                app:layout_constraintStart_toEndOf=&quot;@+id/IvAddPost&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/GlPosts&quot;\n                app:layout_constraintVertical_bias=&quot;0.939&quot;\n                app:srcCompat=&quot;@drawable/user&quot; /&gt;\n\n            &lt;GridLayout\n                android:id=&quot;@+id/GlPosts&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:orientation=&quot;vertical&quot;\n                android:layout_margin=&quot;20dp&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/TvTitle&quot;\n                app:layout_constraintVertical_bias=&quot;0.173&quot; /&gt;\n\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    &lt;/androidx.core.widget.NestedScrollView&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"answers":[{"tags":[],"owner":{"account_id":9305162,"reputation":1045,"user_id":6909182,"display_name":"this.srivastava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690222828,"creation_date":1690209660,"answer_id":76755557,"question_id":76754916,"body_markdown":"Ok, after commenting the code inside the oauth2Login() it works, changed to this: but this method is deprecated.\r\n\r\n    httpSecurity\r\n                    .oauth2Login(/*oAuthConfig -&gt;\r\n                            oAuthConfig\r\n                                    .clientRegistrationRepository(clientRegistrationRepository())\r\n                                    .authorizedClientService(authorizedClientService())\r\n                                    .authorizationEndpoint(\r\n                                            authEndPoint -&gt;\r\n                                                    authEndPoint\r\n                                                            .baseUri(&quot;/oauth2/authorization/azure&quot;)\r\n                                                            .authorizationRequestRepository(\r\n                                                                    authorizationRequestRepository))\r\n                                    .redirectionEndpoint(\r\n                                            redirectionEndpointConfig -&gt;\r\n                                                    redirectionEndpointConfig.baseUri(\r\n                                                            &quot;/login/oauth2/code/&quot;))\r\n                                    .userInfoEndpoint(\r\n                                            userInfoEndpointConfig -&gt;\r\n                                                    userInfoEndpointConfig.oidcUserService(\r\n                                                            oAuth2UserService))\r\n                                    .successHandler(oAuth2AuthenticationSuccessHandler)\r\n                                    .failureHandler(oAuth2AuthenticationFailureHandler)*/ )\r\n                    .successHandler(oAuth2AuthenticationSuccessHandler)\r\n                    .failureHandler(oAuth2AuthenticationFailureHandler);\r\n\r\n**Update:**\r\n\r\nInstead of that, we can do this, as the authorization uri and redirection endpoint uri is already configured, no need to add again, changing this to below code works fine:\r\n\r\n    httpSecurity.oauth2Login(\r\n                    oAuthConfig -&gt;\r\n                            oAuthConfig\r\n                                    .clientRegistrationRepository(clientRegistrationRepository())\r\n                                    .authorizedClientService(authorizedClientService())\r\n                                    .authorizationEndpoint(\r\n                                            authEndPoint -&gt;\r\n                                                    authEndPoint.authorizationRequestRepository(\r\n                                                            authorizationRequestRepository))\r\n                                    .userInfoEndpoint(\r\n                                            userInfoEndpointConfig -&gt;\r\n                                                    userInfoEndpointConfig.oidcUserService(\r\n                                                            oAuth2UserService))\r\n                                    .successHandler(oAuth2AuthenticationSuccessHandler)\r\n                                    .failureHandler(oAuth2AuthenticationFailureHandler));","title":"Spring Boot OAuth2 Client Authentication/Authorization endpoint returns 404","body":"<p>Ok, after commenting the code inside the oauth2Login() it works, changed to this: but this method is deprecated.</p>\n<pre><code>httpSecurity\n                .oauth2Login(/*oAuthConfig -&gt;\n                        oAuthConfig\n                                .clientRegistrationRepository(clientRegistrationRepository())\n                                .authorizedClientService(authorizedClientService())\n                                .authorizationEndpoint(\n                                        authEndPoint -&gt;\n                                                authEndPoint\n                                                        .baseUri(&quot;/oauth2/authorization/azure&quot;)\n                                                        .authorizationRequestRepository(\n                                                                authorizationRequestRepository))\n                                .redirectionEndpoint(\n                                        redirectionEndpointConfig -&gt;\n                                                redirectionEndpointConfig.baseUri(\n                                                        &quot;/login/oauth2/code/&quot;))\n                                .userInfoEndpoint(\n                                        userInfoEndpointConfig -&gt;\n                                                userInfoEndpointConfig.oidcUserService(\n                                                        oAuth2UserService))\n                                .successHandler(oAuth2AuthenticationSuccessHandler)\n                                .failureHandler(oAuth2AuthenticationFailureHandler)*/ )\n                .successHandler(oAuth2AuthenticationSuccessHandler)\n                .failureHandler(oAuth2AuthenticationFailureHandler);\n</code></pre>\n<p><strong>Update:</strong></p>\n<p>Instead of that, we can do this, as the authorization uri and redirection endpoint uri is already configured, no need to add again, changing this to below code works fine:</p>\n<pre><code>httpSecurity.oauth2Login(\n                oAuthConfig -&gt;\n                        oAuthConfig\n                                .clientRegistrationRepository(clientRegistrationRepository())\n                                .authorizedClientService(authorizedClientService())\n                                .authorizationEndpoint(\n                                        authEndPoint -&gt;\n                                                authEndPoint.authorizationRequestRepository(\n                                                        authorizationRequestRepository))\n                                .userInfoEndpoint(\n                                        userInfoEndpointConfig -&gt;\n                                                userInfoEndpointConfig.oidcUserService(\n                                                        oAuth2UserService))\n                                .successHandler(oAuth2AuthenticationSuccessHandler)\n                                .failureHandler(oAuth2AuthenticationFailureHandler));\n</code></pre>\n"}],"owner":{"account_id":9305162,"reputation":1045,"user_id":6909182,"display_name":"this.srivastava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76755557,"answer_count":1,"score":-1,"last_activity_date":1690222828,"creation_date":1690204768,"question_id":76754916,"body_markdown":"I&#39;m trying to use Spring Boot OAuth2 (spring-boot-starter-oauth2-client) and Azure Active Directory (azure-spring-boot-starter-active-directory) for authentication/authorization. But the following security config doesn&#39;t work. My backend is running on port 8080 and my frontend is a React web app running on port 3000. From the UI, I&#39;m providing a href to [http://localhost:8080/oauth2/authorization/azure][1], but it returns 404 with White label error page. I have configured all the details properly via application.properties. Is there anything wrong in my security config? Can you please help me what&#39;s wrong in the config?\r\n\r\n**AADOAuth2WebSecurityConfig.java**\r\n\r\n    import com.app.security.JwtAuthenticationFilter;\r\n    import com.app.security.RestAuthenticationEntryPoint;\r\n    import com.app.security.oauth2.HttpCookieOAuth2AuthorizationRequestRepository;\r\n    import com.app.security.oauth2.OAuth2AuthenticationFailureHandler;\r\n    import com.app.security.oauth2.OAuth2AuthenticationSuccessHandler;\r\n    import com.app.service.auth.OAuth2UserService;\r\n    \r\n    import lombok.NonNull;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.Lazy;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.config.BeanIds;\r\n    import org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\n    import org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configurers.AbstractHttpConfigurer;\r\n    import org.springframework.security.config.http.SessionCreationPolicy;\r\n    import org.springframework.security.oauth2.client.registration.ClientRegistration;\r\n    import org.springframework.security.oauth2.client.registration.ClientRegistrationRepository;\r\n    import org.springframework.security.oauth2.client.registration.InMemoryClientRegistrationRepository;\r\n    import org.springframework.security.oauth2.core.AuthorizationGrantType;\r\n    import org.springframework.security.oauth2.core.ClientAuthenticationMethod;\r\n    import org.springframework.security.oauth2.core.oidc.IdTokenClaimNames;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    import org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n    import org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n    import org.springframework.web.cors.CorsConfiguration;\r\n    import org.springframework.web.cors.CorsConfigurationSource;\r\n    import org.springframework.web.cors.UrlBasedCorsConfigurationSource;\r\n    \r\n    import java.util.Collections;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableMethodSecurity(securedEnabled = true, jsr250Enabled = true)\r\n    @EnableJpaRepositories(basePackages = &quot;com.app.repository&quot;)\r\n    public class AADOAuth2WebSecurityConfig {\r\n    \r\n        private final OAuth2UserService oAuth2UserService;\r\n        \r\n        private final RestAuthenticationEntryPoint restAuthenticationEntryPoint;\r\n       \r\n        private final OAuth2AuthenticationSuccessHandler oAuth2AuthenticationSuccessHandler;\r\n        \r\n        private final OAuth2AuthenticationFailureHandler oAuth2AuthenticationFailureHandler;\r\n        \r\n        private final HttpCookieOAuth2AuthorizationRequestRepository authorizationRequestRepository;\r\n    \r\n        @Value(&quot;${azure.activedirectory.tenant-id}&quot;)\r\n        private String tenantId;\r\n    \r\n        @Value(&quot;${azure.activedirectory.client-id}&quot;)\r\n        private String clientId;\r\n    \r\n        @Value(&quot;${azure.activedirectory.client-secret}&quot;)\r\n        private String clientSecret;\r\n    \r\n        @Value(&quot;${azure.activedirectory.redirect-uri-template}&quot;)\r\n        private String redirectUri;\r\n    \r\n        @Value(&quot;${azure.activedirectory.authorization-clients.azure.scopes}&quot;)\r\n        private String scope;\r\n    \r\n        @Value(&quot;${oauth.login.uri}&quot;)\r\n        private String loginUri;\r\n    \r\n        @Value(&quot;${oauth.authorization-uri}&quot;)\r\n        private String authUri;\r\n    \r\n        @Value(&quot;${oauth.token-uri}&quot;)\r\n        private String tokenUri;\r\n    \r\n        @Value(&quot;${oauth.jwk-set-uri}&quot;)\r\n        private String jwkSetUri;\r\n    \r\n        @Lazy\r\n        @Autowired\r\n        public AADOAuth2WebSecurityConfig(\r\n                OAuth2UserService oAuth2UserService,\r\n                RestAuthenticationEntryPoint restAuthenticationEntryPoint,\r\n                OAuth2AuthenticationSuccessHandler oAuth2AuthenticationSuccessHandler,\r\n                OAuth2AuthenticationFailureHandler oAuth2AuthenticationFailureHandler,\r\n                HttpCookieOAuth2AuthorizationRequestRepository authorizationRequestRepository) {\r\n            this.oAuth2UserService = oAuth2UserService;\r\n            this.restAuthenticationEntryPoint = restAuthenticationEntryPoint;\r\n            this.oAuth2AuthenticationSuccessHandler = oAuth2AuthenticationSuccessHandler;\r\n            this.oAuth2AuthenticationFailureHandler = oAuth2AuthenticationFailureHandler;\r\n            this.authorizationRequestRepository = authorizationRequestRepository;\r\n        }\r\n        \r\n        @Bean\r\n        public JwtAuthenticationFilter jwtAuthenticationFilter() {\r\n            return new JwtAuthenticationFilter();\r\n        }\r\n    \r\n        @Bean\r\n        public HttpCookieOAuth2AuthorizationRequestRepository authorizationRequestRepository() {\r\n            return new HttpCookieOAuth2AuthorizationRequestRepository();\r\n        }\r\n    \r\n        @Bean(BeanIds.AUTHENTICATION_MANAGER)\r\n        public AuthenticationManager authenticationManager(\r\n                @NonNull AuthenticationConfiguration authConfig) throws Exception {\r\n            return authConfig.getAuthenticationManager();\r\n        }\r\n    \r\n        @Bean\r\n        public ClientRegistrationRepository clientRegistrationRepository() {\r\n            return new InMemoryClientRegistrationRepository(\r\n                    ClientRegistration.withRegistrationId(&quot;azure&quot;)\r\n                            .clientId(clientId)\r\n                            .clientSecret(clientSecret)\r\n                            .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\r\n                            .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\r\n                            .redirectUri(redirectUri)\r\n                            .scope(scope)\r\n                            .authorizationUri(loginUri + tenantId + authUri)\r\n                            .tokenUri(loginUri + tenantId + tokenUri)\r\n                            .userNameAttributeName(IdTokenClaimNames.SUB)\r\n                            .jwkSetUri(loginUri + tenantId + jwkSetUri)\r\n                            .clientName(&quot;Azure&quot;)\r\n                            .build());\r\n        }\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(@NonNull HttpSecurity httpSecurity) throws Exception {\r\n            // the HSTS header is only injected into HTTPS responses, works via HTTPS after first\r\n            // request\r\n            httpSecurity.headers(\r\n                    header -&gt;\r\n                            header.httpStrictTransportSecurity(\r\n                                    transportSecurity -&gt;\r\n                                            transportSecurity\r\n                                                    .includeSubDomains(true)\r\n                                                    .maxAgeInSeconds(31536000))); // 1 year\r\n            httpSecurity.cors(corsConfig -&gt; corsConfig.configurationSource(corsConfigurationSource()));\r\n            // disable csrf\r\n            httpSecurity.csrf(AbstractHttpConfigurer::disable);\r\n            // exception handling starting from authentication entry point\r\n            httpSecurity.exceptionHandling(\r\n                    exHandler -&gt; exHandler.authenticationEntryPoint(restAuthenticationEntryPoint));\r\n            // stateless as JWT is being used\r\n            httpSecurity.sessionManagement(\r\n                    sessionConfig -&gt;\r\n                            sessionConfig.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\r\n            // allow access to assets without permission\r\n            httpSecurity.authorizeHttpRequests(\r\n                    authReqConfig -&gt;\r\n                            authReqConfig\r\n                                    // allow public urls\r\n                                    .requestMatchers(\r\n                                            new AntPathRequestMatcher(&quot;/oauth2/**&quot;, &quot;/api/v1/auth/**&quot;))\r\n                                    .permitAll()\r\n                                    // allow public url\r\n                                    .requestMatchers(new AntPathRequestMatcher(&quot;/api/v1/user/logout&quot;))\r\n                                    .permitAll()\r\n                                    .anyRequest()\r\n                                    .authenticated());\r\n            // as oauth2 is used add its authorization endpoint, redirection endpoint and user info\r\n            // endpoint\r\n            httpSecurity.oauth2Login(\r\n                    oAuthConfig -&gt;\r\n                            oAuthConfig\r\n                                    .clientRegistrationRepository(clientRegistrationRepository())\r\n                                    .authorizationEndpoint(\r\n                                            authEndPoint -&gt;\r\n                                                    authEndPoint\r\n                                                            .baseUri(&quot;/oauth2/authorization/azure&quot;)\r\n                                                            .authorizationRequestRepository(\r\n                                                                    authorizationRequestRepository))\r\n                                    .redirectionEndpoint(\r\n                                            redirectionEndpointConfig -&gt;\r\n                                                    redirectionEndpointConfig.baseUri(\r\n                                                            &quot;/login/oauth2/code/&quot;))\r\n                                    .userInfoEndpoint(\r\n                                            userInfoEndpointConfig -&gt;\r\n                                                    userInfoEndpointConfig.oidcUserService(\r\n                                                            oAuth2UserService))\r\n                                    .successHandler(oAuth2AuthenticationSuccessHandler)\r\n                                    .failureHandler(oAuth2AuthenticationFailureHandler));\r\n            // add JWT authentication filter before username and password authentication filter\r\n            httpSecurity.addFilterBefore(\r\n                    jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\r\n            return httpSecurity.build();\r\n        }\r\n    \r\n        /**\r\n         * Set cors configuration\r\n         *\r\n         * @return {@link CorsConfigurationSource}\r\n         */\r\n        @Bean\r\n        public CorsConfigurationSource corsConfigurationSource() {\r\n            CorsConfiguration configuration = new CorsConfiguration();\r\n            configuration.setAllowedOrigins(Collections.singletonList(&quot;*&quot;));\r\n            configuration.setAllowedMethods(Collections.singletonList(&quot;*&quot;));\r\n            configuration.setAllowedHeaders(Collections.singletonList(&quot;*&quot;));\r\n            // configuration.setAllowCredentials(true);\r\n            UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n            source.registerCorsConfiguration(&quot;/api/**&quot;, configuration);\r\n            return source;\r\n        }\r\n    }\r\n\r\n\r\n**pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.1&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.app&lt;/groupId&gt;\r\n        &lt;artifactId&gt;license-analytics-server&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;license-analytics-server&lt;/name&gt;\r\n        &lt;description&gt;license-analytics-server&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;17&lt;/java.version&gt;\r\n            &lt;spring-cloud-azure.version&gt;5.3.0&lt;/spring-cloud-azure.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n                &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n                &lt;version&gt;24.0.1&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n                &lt;version&gt;0.9.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n                &lt;artifactId&gt;azure-core&lt;/artifactId&gt;\r\n                &lt;version&gt;1.26.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n                &lt;artifactId&gt;azure-spring-boot-starter-active-directory&lt;/artifactId&gt;\r\n                &lt;version&gt;3.14.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n                &lt;artifactId&gt;azure-security-keyvault-secrets&lt;/artifactId&gt;\r\n                &lt;version&gt;4.2.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n                &lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n  [1]: http://localhost:8080/oauth2/authorization/azure","title":"Spring Boot OAuth2 Client Authentication/Authorization endpoint returns 404","body":"<p>I'm trying to use Spring Boot OAuth2 (spring-boot-starter-oauth2-client) and Azure Active Directory (azure-spring-boot-starter-active-directory) for authentication/authorization. But the following security config doesn't work. My backend is running on port 8080 and my frontend is a React web app running on port 3000. From the UI, I'm providing a href to <a href=\"http://localhost:8080/oauth2/authorization/azure\" rel=\"nofollow noreferrer\">http://localhost:8080/oauth2/authorization/azure</a>, but it returns 404 with White label error page. I have configured all the details properly via application.properties. Is there anything wrong in my security config? Can you please help me what's wrong in the config?</p>\n<p><strong>AADOAuth2WebSecurityConfig.java</strong></p>\n<pre><code>import com.app.security.JwtAuthenticationFilter;\nimport com.app.security.RestAuthenticationEntryPoint;\nimport com.app.security.oauth2.HttpCookieOAuth2AuthorizationRequestRepository;\nimport com.app.security.oauth2.OAuth2AuthenticationFailureHandler;\nimport com.app.security.oauth2.OAuth2AuthenticationSuccessHandler;\nimport com.app.service.auth.OAuth2UserService;\n\nimport lombok.NonNull;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Lazy;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.BeanIds;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configurers.AbstractHttpConfigurer;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.oauth2.client.registration.ClientRegistration;\nimport org.springframework.security.oauth2.client.registration.ClientRegistrationRepository;\nimport org.springframework.security.oauth2.client.registration.InMemoryClientRegistrationRepository;\nimport org.springframework.security.oauth2.core.AuthorizationGrantType;\nimport org.springframework.security.oauth2.core.ClientAuthenticationMethod;\nimport org.springframework.security.oauth2.core.oidc.IdTokenClaimNames;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\nimport org.springframework.web.cors.CorsConfiguration;\nimport org.springframework.web.cors.CorsConfigurationSource;\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\n\nimport java.util.Collections;\n\n@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity(securedEnabled = true, jsr250Enabled = true)\n@EnableJpaRepositories(basePackages = &quot;com.app.repository&quot;)\npublic class AADOAuth2WebSecurityConfig {\n\n    private final OAuth2UserService oAuth2UserService;\n    \n    private final RestAuthenticationEntryPoint restAuthenticationEntryPoint;\n   \n    private final OAuth2AuthenticationSuccessHandler oAuth2AuthenticationSuccessHandler;\n    \n    private final OAuth2AuthenticationFailureHandler oAuth2AuthenticationFailureHandler;\n    \n    private final HttpCookieOAuth2AuthorizationRequestRepository authorizationRequestRepository;\n\n    @Value(&quot;${azure.activedirectory.tenant-id}&quot;)\n    private String tenantId;\n\n    @Value(&quot;${azure.activedirectory.client-id}&quot;)\n    private String clientId;\n\n    @Value(&quot;${azure.activedirectory.client-secret}&quot;)\n    private String clientSecret;\n\n    @Value(&quot;${azure.activedirectory.redirect-uri-template}&quot;)\n    private String redirectUri;\n\n    @Value(&quot;${azure.activedirectory.authorization-clients.azure.scopes}&quot;)\n    private String scope;\n\n    @Value(&quot;${oauth.login.uri}&quot;)\n    private String loginUri;\n\n    @Value(&quot;${oauth.authorization-uri}&quot;)\n    private String authUri;\n\n    @Value(&quot;${oauth.token-uri}&quot;)\n    private String tokenUri;\n\n    @Value(&quot;${oauth.jwk-set-uri}&quot;)\n    private String jwkSetUri;\n\n    @Lazy\n    @Autowired\n    public AADOAuth2WebSecurityConfig(\n            OAuth2UserService oAuth2UserService,\n            RestAuthenticationEntryPoint restAuthenticationEntryPoint,\n            OAuth2AuthenticationSuccessHandler oAuth2AuthenticationSuccessHandler,\n            OAuth2AuthenticationFailureHandler oAuth2AuthenticationFailureHandler,\n            HttpCookieOAuth2AuthorizationRequestRepository authorizationRequestRepository) {\n        this.oAuth2UserService = oAuth2UserService;\n        this.restAuthenticationEntryPoint = restAuthenticationEntryPoint;\n        this.oAuth2AuthenticationSuccessHandler = oAuth2AuthenticationSuccessHandler;\n        this.oAuth2AuthenticationFailureHandler = oAuth2AuthenticationFailureHandler;\n        this.authorizationRequestRepository = authorizationRequestRepository;\n    }\n    \n    @Bean\n    public JwtAuthenticationFilter jwtAuthenticationFilter() {\n        return new JwtAuthenticationFilter();\n    }\n\n    @Bean\n    public HttpCookieOAuth2AuthorizationRequestRepository authorizationRequestRepository() {\n        return new HttpCookieOAuth2AuthorizationRequestRepository();\n    }\n\n    @Bean(BeanIds.AUTHENTICATION_MANAGER)\n    public AuthenticationManager authenticationManager(\n            @NonNull AuthenticationConfiguration authConfig) throws Exception {\n        return authConfig.getAuthenticationManager();\n    }\n\n    @Bean\n    public ClientRegistrationRepository clientRegistrationRepository() {\n        return new InMemoryClientRegistrationRepository(\n                ClientRegistration.withRegistrationId(&quot;azure&quot;)\n                        .clientId(clientId)\n                        .clientSecret(clientSecret)\n                        .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\n                        .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\n                        .redirectUri(redirectUri)\n                        .scope(scope)\n                        .authorizationUri(loginUri + tenantId + authUri)\n                        .tokenUri(loginUri + tenantId + tokenUri)\n                        .userNameAttributeName(IdTokenClaimNames.SUB)\n                        .jwkSetUri(loginUri + tenantId + jwkSetUri)\n                        .clientName(&quot;Azure&quot;)\n                        .build());\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(@NonNull HttpSecurity httpSecurity) throws Exception {\n        // the HSTS header is only injected into HTTPS responses, works via HTTPS after first\n        // request\n        httpSecurity.headers(\n                header -&gt;\n                        header.httpStrictTransportSecurity(\n                                transportSecurity -&gt;\n                                        transportSecurity\n                                                .includeSubDomains(true)\n                                                .maxAgeInSeconds(31536000))); // 1 year\n        httpSecurity.cors(corsConfig -&gt; corsConfig.configurationSource(corsConfigurationSource()));\n        // disable csrf\n        httpSecurity.csrf(AbstractHttpConfigurer::disable);\n        // exception handling starting from authentication entry point\n        httpSecurity.exceptionHandling(\n                exHandler -&gt; exHandler.authenticationEntryPoint(restAuthenticationEntryPoint));\n        // stateless as JWT is being used\n        httpSecurity.sessionManagement(\n                sessionConfig -&gt;\n                        sessionConfig.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\n        // allow access to assets without permission\n        httpSecurity.authorizeHttpRequests(\n                authReqConfig -&gt;\n                        authReqConfig\n                                // allow public urls\n                                .requestMatchers(\n                                        new AntPathRequestMatcher(&quot;/oauth2/**&quot;, &quot;/api/v1/auth/**&quot;))\n                                .permitAll()\n                                // allow public url\n                                .requestMatchers(new AntPathRequestMatcher(&quot;/api/v1/user/logout&quot;))\n                                .permitAll()\n                                .anyRequest()\n                                .authenticated());\n        // as oauth2 is used add its authorization endpoint, redirection endpoint and user info\n        // endpoint\n        httpSecurity.oauth2Login(\n                oAuthConfig -&gt;\n                        oAuthConfig\n                                .clientRegistrationRepository(clientRegistrationRepository())\n                                .authorizationEndpoint(\n                                        authEndPoint -&gt;\n                                                authEndPoint\n                                                        .baseUri(&quot;/oauth2/authorization/azure&quot;)\n                                                        .authorizationRequestRepository(\n                                                                authorizationRequestRepository))\n                                .redirectionEndpoint(\n                                        redirectionEndpointConfig -&gt;\n                                                redirectionEndpointConfig.baseUri(\n                                                        &quot;/login/oauth2/code/&quot;))\n                                .userInfoEndpoint(\n                                        userInfoEndpointConfig -&gt;\n                                                userInfoEndpointConfig.oidcUserService(\n                                                        oAuth2UserService))\n                                .successHandler(oAuth2AuthenticationSuccessHandler)\n                                .failureHandler(oAuth2AuthenticationFailureHandler));\n        // add JWT authentication filter before username and password authentication filter\n        httpSecurity.addFilterBefore(\n                jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\n        return httpSecurity.build();\n    }\n\n    /**\n     * Set cors configuration\n     *\n     * @return {@link CorsConfigurationSource}\n     */\n    @Bean\n    public CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Collections.singletonList(&quot;*&quot;));\n        configuration.setAllowedMethods(Collections.singletonList(&quot;*&quot;));\n        configuration.setAllowedHeaders(Collections.singletonList(&quot;*&quot;));\n        // configuration.setAllowCredentials(true);\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/api/**&quot;, configuration);\n        return source;\n    }\n}\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.app&lt;/groupId&gt;\n    &lt;artifactId&gt;license-analytics-server&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;license-analytics-server&lt;/name&gt;\n    &lt;description&gt;license-analytics-server&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud-azure.version&gt;5.3.0&lt;/spring-cloud-azure.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n            &lt;version&gt;24.0.1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-core&lt;/artifactId&gt;\n            &lt;version&gt;1.26.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-spring-boot-starter-active-directory&lt;/artifactId&gt;\n            &lt;version&gt;3.14.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-security-keyvault-secrets&lt;/artifactId&gt;\n            &lt;version&gt;4.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\n            &lt;version&gt;1.4.6&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1690222726,"post_id":76757051,"comment_id":135320384,"body_markdown":"Maven downloads them in globally shared `repository` in `~/.m2` (the maven home directory). So if you have build other projects with maven before junit probably will be there without the need to download it. It will not download nor copy things (unless explicitly configured to do so) to the `target` directory.","body":"Maven downloads them in globally shared <code>repository</code> in <code>~&#47;.m2</code> (the maven home directory). So if you have build other projects with maven before junit probably will be there without the need to download it. It will not download nor copy things (unless explicitly configured to do so) to the <code>target</code> directory."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1690299165,"post_id":76757051,"comment_id":135332454,"body_markdown":"If you need to download something manually you are doing something wrong... If you need for example junit you have to define a dependency with scope: test... Maven will download it automatically etc. and no the jar&#39;s will not being put into `target` directory. The target directory only contains your own code which is being compiled from `src/main/java` and `src/test/java` etc.","body":"If you need to download something manually you are doing something wrong... If you need for example junit you have to define a dependency with scope: test... Maven will download it automatically etc. and no the jar&#39;s will not being put into <code>target</code> directory. The target directory only contains your own code which is being compiled from <code>src&#47;main&#47;java</code> and <code>src&#47;test&#47;java</code> etc."}],"answers":[{"tags":[],"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690222764,"creation_date":1690222764,"answer_id":76757089,"question_id":76757051,"body_markdown":"Maven downloads and keeps the dependencies in the local Maven repository that can be found in `~/.m2/repository`. This is done so that builds can share the dependencies, and so that they don&#39;t get lost if you run `mvn clean`.","title":"Maven building successfully without actually downloading dependencies?","body":"<p>Maven downloads and keeps the dependencies in the local Maven repository that can be found in <code>~/.m2/repository</code>. This is done so that builds can share the dependencies, and so that they don't get lost if you run <code>mvn clean</code>.</p>\n"}],"owner":{"account_id":18798375,"reputation":704,"user_id":13709317,"display_name":"First User"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76757089,"answer_count":1,"score":0,"last_activity_date":1690222764,"creation_date":1690222298,"question_id":76757051,"body_markdown":"I am a beginner to Maven and using build tools like it in general. I am running Maven `mvn` in the terminal to understand how it works better. I found [this FFT library](https://github.com/tambapps/fourier-transform-library), git-cloned it, found a pom.xml inside it and ran\r\n\r\n```\r\nmvn package\r\n```\r\n\r\nThe build completed and a `target/` directory was created with the JAR file for the library inside. However, I inspected the POM file and found that there were  dependencies for `junit`, which are needed for running tests written in `src/test/` but there were no JAR files created in target/ for junit (and I needed to download them separately from MVN repository and place them in target/). So my question is how does Maven actually build the JAR file without also pulling the JAR file(s) for junit? My current understanding is that it parses the POM file and goes through each dependency and downloads and installs them if they isn&#39;t present (like Make i guess?). ","title":"Maven building successfully without actually downloading dependencies?","body":"<p>I am a beginner to Maven and using build tools like it in general. I am running Maven <code>mvn</code> in the terminal to understand how it works better. I found <a href=\"https://github.com/tambapps/fourier-transform-library\" rel=\"nofollow noreferrer\">this FFT library</a>, git-cloned it, found a pom.xml inside it and ran</p>\n<pre><code>mvn package\n</code></pre>\n<p>The build completed and a <code>target/</code> directory was created with the JAR file for the library inside. However, I inspected the POM file and found that there were  dependencies for <code>junit</code>, which are needed for running tests written in <code>src/test/</code> but there were no JAR files created in target/ for junit (and I needed to download them separately from MVN repository and place them in target/). So my question is how does Maven actually build the JAR file without also pulling the JAR file(s) for junit? My current understanding is that it parses the POM file and goes through each dependency and downloads and installs them if they isn't present (like Make i guess?).</p>\n"},{"tags":["java","eclipse","swt","spinner"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1690222761,"post_id":76756476,"comment_id":135320388,"body_markdown":"Note using `setBounds` is not recommended, you should always use Layouts such as `GridLayout` - but that probably isn&#39;t going to make a difference here.","body":"Note using <code>setBounds</code> is not recommended, you should always use Layouts such as <code>GridLayout</code> - but that probably isn&#39;t going to make a difference here."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1690302333,"post_id":76756476,"comment_id":135333201,"body_markdown":"Probably due the switch to GTK 4, Spinner is just using the native GTK spinner - https://docs.gtk.org/gtk4/class.SpinButton.html","body":"Probably due the switch to GTK 4, Spinner is just using the native GTK spinner - <a href=\"https://docs.gtk.org/gtk4/class.SpinButton.html\" rel=\"nofollow noreferrer\">docs.gtk.org/gtk4/class.SpinButton.html</a>"},{"owner":{"account_id":24984748,"reputation":1,"user_id":18846674,"display_name":"DanC"},"score":0,"creation_date":1690475413,"post_id":76756476,"comment_id":135362446,"body_markdown":"Yes, thanks Greg, the culprit is almost certainly GTK-4. The Eclipse Nebula project has some alternatives which I&#39;ll have a look at, I suspect I&#39;ll end up writing my own version with configurable button positions etc. I&#39;m using an absolute layout so I can put things exactly where I want them. Inelegant I know but I&#39;m a simple soul....","body":"Yes, thanks Greg, the culprit is almost certainly GTK-4. The Eclipse Nebula project has some alternatives which I&#39;ll have a look at, I suspect I&#39;ll end up writing my own version with configurable button positions etc. I&#39;m using an absolute layout so I can put things exactly where I want them. Inelegant I know but I&#39;m a simple soul...."}],"owner":{"account_id":24984748,"reputation":1,"user_id":18846674,"display_name":"DanC"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690222674,"creation_date":1690216585,"question_id":76756476,"body_markdown":"I have a Java application which is based on a scrolled composite form. It is implemented on the Eclipse IDE. Each spinner is declared in the same way, an example being:\r\n   ```java\r\n     Spinner spCh1;\r\n     spCh1 = new Spinner(this, SWT.BORDER);\r\n\t\tspCh1.addSelectionListener(new SelectionAdapter() {\r\n\t\t\t@Override\r\n\t\t\tpublic void widgetSelected(SelectionEvent arg0) {\r\n\t\t\t\t//code handling spinner value in here\r\n\t\t\t}\r\n\t\t});\r\n\t\tspCh1.setToolTipText(&quot;Select character position&quot;);\r\n\t\tspCh1.setMaximum(20);\r\n\t\tspCh1.setSelection(1);\r\n\t\tspCh1.setBounds(610, 237, 70, 22);\r\n\t\tspCh1.setFont(SWTResourceManager.getFont(&quot;Arial&quot;, 8, SWT.NORMAL));\r\n\r\n````\r\nI&#39;m running Eclipse:\r\nVersion: 2020-12 (4.18.0)\r\nBuild id: 20201210-1552 Eclipse 2020-21 on Peppermint 10 Linux.\r\n\r\nThis application worked fine on previous versions of Eclipse (Neon) and Older Linux Peppermint (3), where the spinner(s) had the Up and down arrows,  but now it has +and - buttons arranged horizontally and has a much bigger footprint which the form hasn&#39;t enough real-estate to accommodate the several spinner it requires.\r\n\r\nI&#39;ve tried changing fonts, adjusting the bounds lowering the &#39;Text Limit&#39; but all to no avail. There only seem to be 3 options on Style *Border*, *Wrap* and *Read Only*. I&#39;ve tried changing each of these to no avail. The widget is imported into the java class with:\r\n```java\r\nimport org.eclipse.swt.widgets.Spinner;\r\n```\r\nThe Java build path includes:\r\n```none\r\n&lt;storagefolder&gt;/eclipse-installer/plugins      /org.eclipse.swt.gtk.linux.x86_64_3.115.100.v20201202-1103.jar\r\n```","title":"I have an Eclipse SWT Spinner widget format problem","body":"<p>I have a Java application which is based on a scrolled composite form. It is implemented on the Eclipse IDE. Each spinner is declared in the same way, an example being:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  Spinner spCh1;\n  spCh1 = new Spinner(this, SWT.BORDER);\n     spCh1.addSelectionListener(new SelectionAdapter() {\n         @Override\n         public void widgetSelected(SelectionEvent arg0) {\n             //code handling spinner value in here\n         }\n     });\n     spCh1.setToolTipText(&quot;Select character position&quot;);\n     spCh1.setMaximum(20);\n     spCh1.setSelection(1);\n     spCh1.setBounds(610, 237, 70, 22);\n     spCh1.setFont(SWTResourceManager.getFont(&quot;Arial&quot;, 8, SWT.NORMAL));\n\n</code></pre>\n<p>I'm running Eclipse:\nVersion: 2020-12 (4.18.0)\nBuild id: 20201210-1552 Eclipse 2020-21 on Peppermint 10 Linux.</p>\n<p>This application worked fine on previous versions of Eclipse (Neon) and Older Linux Peppermint (3), where the spinner(s) had the Up and down arrows,  but now it has +and - buttons arranged horizontally and has a much bigger footprint which the form hasn't enough real-estate to accommodate the several spinner it requires.</p>\n<p>I've tried changing fonts, adjusting the bounds lowering the 'Text Limit' but all to no avail. There only seem to be 3 options on Style <em>Border</em>, <em>Wrap</em> and <em>Read Only</em>. I've tried changing each of these to no avail. The widget is imported into the java class with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.eclipse.swt.widgets.Spinner;\n</code></pre>\n<p>The Java build path includes:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&lt;storagefolder&gt;/eclipse-installer/plugins      /org.eclipse.swt.gtk.linux.x86_64_3.115.100.v20201202-1103.jar\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","completable-future","lazy-initialization"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690200102,"creation_date":1690200102,"answer_id":76754304,"question_id":76753842,"body_markdown":"The reason for this exception is that, when run asynchronously, the Hibernate session will be closed before the lazy loaded collection can be initialized. Hence `no Session` message.\r\n\r\nThere are several solutions you can try:\r\n\r\n1. Add @Transactional annotation to the code you are calling asynchronously.\r\n1. Preload the collection before starting a new thread.\r\n1. Configure the relationship to EAGER. (Just for the record as you don&#39;t want it)","title":"CompletableFeature: Failed to Lazily Initialize a Collection X:, could not initialize proxy - no Session","body":"<p>The reason for this exception is that, when run asynchronously, the Hibernate session will be closed before the lazy loaded collection can be initialized. Hence <code>no Session</code> message.</p>\n<p>There are several solutions you can try:</p>\n<ol>\n<li>Add @Transactional annotation to the code you are calling asynchronously.</li>\n<li>Preload the collection before starting a new thread.</li>\n<li>Configure the relationship to EAGER. (Just for the record as you don't want it)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690222212,"creation_date":1690213151,"answer_id":76756041,"question_id":76753842,"body_markdown":"All lazy-loaded associations should be initialized before the data manipulation. The exception appears when you try to access uninitialized data outside Hibernate Session because the data can no longer be fetched from a database.\r\n\r\nBy not wanting to load associations eagerly, you probably don&#39;t want to configure the `FetchType.EAGER` fetching strategy for the associated entities. Thus, I suggest you use [`@EntityGraph`][1] which allows customization of the fetch-graph for repository methods. \r\n\r\nFor example, let&#39;s assume there is a `GroupInfo` entity containing a lazy-loaded collection named `members`. To fetch `members` eagerly the following method can be added to the repository:\r\n```java\r\n@EntityGraph(attributePaths = { &quot;members&quot; })\r\nGroupInfo getByGroupName(String name);\r\n```\r\nThe method fetches the `GroupInfo` entity and its `members` at the same time when the method `getByGroupName` is called, otherwise `members` are loaded lazily. This approach avoids [the N+1 query issue][2], resulting in improved performance.\r\n\r\nThere are also other solutions like `Hibernate.initialize()` and `JOIN FETCH`, refer to [the question][3].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-graph\r\n  [2]: https://vladmihalcea.com/n-plus-1-query-problem/\r\n  [3]: https://stackoverflow.com/questions/19928568/hibernate-best-practice-to-pull-all-lazy-collections","title":"CompletableFeature: Failed to Lazily Initialize a Collection X:, could not initialize proxy - no Session","body":"<p>All lazy-loaded associations should be initialized before the data manipulation. The exception appears when you try to access uninitialized data outside Hibernate Session because the data can no longer be fetched from a database.</p>\n<p>By not wanting to load associations eagerly, you probably don't want to configure the <code>FetchType.EAGER</code> fetching strategy for the associated entities. Thus, I suggest you use <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-graph\" rel=\"nofollow noreferrer\"><code>@EntityGraph</code></a> which allows customization of the fetch-graph for repository methods.</p>\n<p>For example, let's assume there is a <code>GroupInfo</code> entity containing a lazy-loaded collection named <code>members</code>. To fetch <code>members</code> eagerly the following method can be added to the repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EntityGraph(attributePaths = { &quot;members&quot; })\nGroupInfo getByGroupName(String name);\n</code></pre>\n<p>The method fetches the <code>GroupInfo</code> entity and its <code>members</code> at the same time when the method <code>getByGroupName</code> is called, otherwise <code>members</code> are loaded lazily. This approach avoids <a href=\"https://vladmihalcea.com/n-plus-1-query-problem/\" rel=\"nofollow noreferrer\">the N+1 query issue</a>, resulting in improved performance.</p>\n<p>There are also other solutions like <code>Hibernate.initialize()</code> and <code>JOIN FETCH</code>, refer to <a href=\"https://stackoverflow.com/questions/19928568/hibernate-best-practice-to-pull-all-lazy-collections\">the question</a>.</p>\n"}],"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690222212,"creation_date":1690196709,"question_id":76753842,"body_markdown":"My code has several JPA repository method call. I fetch data and aggregate it. But I want to do that in an asynchronous way. So, I am trying to use CompletableFeature. But I am getting the below error:\r\n\r\n&gt; failed to lazily initialize a collection of X:\r\n&gt; package_name.CollectionName, could not initialize proxy - no Session\r\n\r\nMy code:\r\npublic CompletableFuture&lt;Boolean&gt; aggregateDownloadableData(params...) {\r\n\r\n    return CompletableFuture.supplyAsync(() -&gt; {\r\n         //my code to manipulate data sets here\r\n         //\r\n         //\r\n        return Boolean.TRUE; \r\n      }\r\n    });\r\n\r\nThis code works fine if I remove CompletableFeature usage from this method, but not using this.\r\n\r\nI also tried providing my own ExecutorService:\r\n\r\n     public CompletableFuture&lt;Boolean&gt; aggregateDownloadableData(params...) {\r\n        ExecutorService executor = Executors.newFixedThreadPool(2);\r\n        return CompletableFuture.supplyAsync(() -&gt; {\r\n                 //my code to manipulate data sets here\r\n                 //\r\n                 //\r\n                return Boolean.TRUE; \r\n              }\r\n            }, executor);\r\n        }\r\n\r\nBut this doesn&#39;t work either.\r\n\r\nAny suggestion, please?&lt;br&gt;\r\n**N.B: I don&#39;t want to load eagerly**","title":"CompletableFeature: Failed to Lazily Initialize a Collection X:, could not initialize proxy - no Session","body":"<p>My code has several JPA repository method call. I fetch data and aggregate it. But I want to do that in an asynchronous way. So, I am trying to use CompletableFeature. But I am getting the below error:</p>\n<blockquote>\n<p>failed to lazily initialize a collection of X:\npackage_name.CollectionName, could not initialize proxy - no Session</p>\n</blockquote>\n<p>My code:\npublic CompletableFuture aggregateDownloadableData(params...) {</p>\n<pre><code>return CompletableFuture.supplyAsync(() -&gt; {\n     //my code to manipulate data sets here\n     //\n     //\n    return Boolean.TRUE; \n  }\n});\n</code></pre>\n<p>This code works fine if I remove CompletableFeature usage from this method, but not using this.</p>\n<p>I also tried providing my own ExecutorService:</p>\n<pre><code> public CompletableFuture&lt;Boolean&gt; aggregateDownloadableData(params...) {\n    ExecutorService executor = Executors.newFixedThreadPool(2);\n    return CompletableFuture.supplyAsync(() -&gt; {\n             //my code to manipulate data sets here\n             //\n             //\n            return Boolean.TRUE; \n          }\n        }, executor);\n    }\n</code></pre>\n<p>But this doesn't work either.</p>\n<p>Any suggestion, please?<br>\n<strong>N.B: I don't want to load eagerly</strong></p>\n"},{"tags":["java","json","swagger","swagger-ui","swagger-2.0"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1573628800,"post_id":58831892,"comment_id":103939038,"body_markdown":"you can&#39;t. in order to get that &quot;a&quot; and &quot;s&quot; in there, that have to be values in the object. a json represents a class, true, but the values in the json represent the values of the instance(s).","body":"you can&#39;t. in order to get that &quot;a&quot; and &quot;s&quot; in there, that have to be values in the object. a json represents a class, true, but the values in the json represent the values of the instance(s)."},{"owner":{"account_id":10042466,"reputation":1978,"user_id":7424896,"display_name":"Manuel"},"score":0,"creation_date":1573628943,"post_id":58831892,"comment_id":103939104,"body_markdown":"Maps, Sets/Lists would do the trick as well. I used them to create a dynamic model in json representation. You can still use the ObjectMapper. Give it a try and take a look, if the result is what you expect.","body":"Maps, Sets/Lists would do the trick as well. I used them to create a dynamic model in json representation. You can still use the ObjectMapper. Give it a try and take a look, if the result is what you expect."},{"owner":{"account_id":8331264,"reputation":499,"user_id":6259603,"accept_rate":65,"display_name":"Joe"},"score":0,"creation_date":1573629611,"post_id":58831892,"comment_id":103939367,"body_markdown":"I updated the json. I require only structure not the values.","body":"I updated the json. I require only structure not the values."},{"owner":{"account_id":8331264,"reputation":499,"user_id":6259603,"accept_rate":65,"display_name":"Joe"},"score":0,"creation_date":1573629826,"post_id":58831892,"comment_id":103939468,"body_markdown":"@ManuelPolacek I already tried with ObjectMapper but it gives like: {&quot;name&quot;:null,&quot;address&quot;:null}...address should be [] not null.","body":"@ManuelPolacek I already tried with ObjectMapper but it gives like: {&quot;name&quot;:null,&quot;address&quot;:null}...address should be [] not null."},{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":2,"creation_date":1573631904,"post_id":58831892,"comment_id":103940445,"body_markdown":"I think you can achieve this with the help of [jackson-module-jsonSchema](https://github.com/FasterXML/jackson-module-jsonSchema).","body":"I think you can achieve this with the help of <a href=\"https://github.com/FasterXML/jackson-module-jsonSchema\" rel=\"nofollow noreferrer\">jackson-module-jsonSchema</a>."}],"answers":[{"tags":[],"owner":{"account_id":9774998,"reputation":3031,"user_id":7245379,"display_name":"eHayik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1573630642,"creation_date":1573629706,"answer_id":58832115,"question_id":58831892,"body_markdown":"You could use [Podam][1]\r\n\r\n&gt; PODAM is a lightweight tool to auto-fill Java POJOs with data. This\r\n&gt; comes handy when developing unit tests. Thanks to PODAM users now have\r\n&gt; a one-liner that does all the work them.\r\n\r\nAdd PODAM dependency in your project\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;uk.co.jemos.podam&lt;/groupId&gt;\r\n      &lt;artifactId&gt;podam&lt;/artifactId&gt;\r\n      &lt;version&gt;[latest.version]&lt;/version&gt;\r\n      &lt;!-- &lt;scope&gt;test&lt;/scope&gt; --&gt;\r\n    &lt;/dependency&gt;\r\n\r\n- Define your `DataProviderStrategy` if you don&#39;t want the default (Random data)\r\n- Define `PodamFactory` bean, initialized with the *Data Provider Strategy*\r\n- Use the `PodamFactory` bean in your code\r\n\r\n```\r\n PodamFactory factory = new PodamFactoryImpl();\r\n MyPojo myPojo = factory.manufacturePojo(MyPojo .class);\r\n // write it as json\r\n System.out.println(new ObjectMapper().writeValueAsString(myPojo));\r\n```\r\n\r\n  [1]: https://mtedone.github.io/podam/\r\n\r\n","title":"How to convert java class to json format structure without creating object","body":"<p>You could use <a href=\"https://mtedone.github.io/podam/\" rel=\"nofollow noreferrer\">Podam</a></p>\n\n<blockquote>\n  <p>PODAM is a lightweight tool to auto-fill Java POJOs with data. This\n  comes handy when developing unit tests. Thanks to PODAM users now have\n  a one-liner that does all the work them.</p>\n</blockquote>\n\n<p>Add PODAM dependency in your project</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;uk.co.jemos.podam&lt;/groupId&gt;\n  &lt;artifactId&gt;podam&lt;/artifactId&gt;\n  &lt;version&gt;[latest.version]&lt;/version&gt;\n  &lt;!-- &lt;scope&gt;test&lt;/scope&gt; --&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<ul>\n<li>Define your <code>DataProviderStrategy</code> if you don't want the default (Random data)</li>\n<li>Define <code>PodamFactory</code> bean, initialized with the <em>Data Provider Strategy</em></li>\n<li>Use the <code>PodamFactory</code> bean in your code</li>\n</ul>\n\n<pre><code> PodamFactory factory = new PodamFactoryImpl();\n MyPojo myPojo = factory.manufacturePojo(MyPojo .class);\n // write it as json\n System.out.println(new ObjectMapper().writeValueAsString(myPojo));\n</code></pre>\n"}],"owner":{"account_id":8331264,"reputation":499,"user_id":6259603,"accept_rate":65,"display_name":"Joe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2065,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58832115,"answer_count":1,"score":2,"last_activity_date":1690221635,"creation_date":1573628668,"question_id":58831892,"body_markdown":"I need to document multiple microservices api call,so I have a question that how to create json string out of java pojo class directly. I mean say for example ,\r\n\r\nMyPojo.java\r\n\r\n    public class MyPojo {\r\n    String name;\r\n    List&lt;String&gt; address;\r\n    public MyPojo() {\r\n    \t// TODO Auto-generated constructor stub\r\n    }\r\n    //setters and getters\r\n    \r\n    }\r\n\r\nnow I need the string json structure of the pojo without creating object of the class.May be same the way swagger api creates json structure of @RequestBody object in web UI.\r\n\r\nsomething like: \r\n\r\n    String jsonStruct=SomeUtil.convertPojoToJson(MyPojo.class)\r\n\r\nthen it should give like:\r\n\r\n    {&quot;name&quot;:&quot;string&quot;,&quot;address&quot;:[]}\r\n\r\nMy Try:\r\n\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    import io.swagger.v3.core.converter.ModelConverters;\r\n    import io.swagger.v3.core.util.Json;\r\n    import io.swagger.v3.oas.models.media.Schema;\r\n    \r\n    public class TEst {\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n    \t\r\n    \tObjectMapper obj = new ObjectMapper(); \r\n    \t\r\n    \tMyPojo o=new MyPojo();\r\n    \to.setName(&quot;aa&quot;);\r\n    \tList&lt;String&gt; l=Arrays.asList(&quot;a&quot;,&quot;s&quot;);\r\n    \to.setAddress(l);\r\n    \tSystem.out.println(obj.writeValueAsString(o));\r\n    \t\r\n    }\r\n    }\r\n\r\nactual o/p:\r\n\r\n     {&quot;name&quot;:&quot;aa&quot;,&quot;address&quot;:[&quot;a&quot;,&quot;s&quot;]}\r\n\r\nrequired o/p:\r\n\r\n     {&quot;name&quot;:&quot;string&quot;,&quot;address&quot;:[&quot;string&quot;]}\r\n\r\nCONCERN: But I need to create without creating object as in real the pojo is huge and not possible to set all dummy data.  \r\n\r\n","title":"How to convert java class to json format structure without creating object","body":"<p>I need to document multiple microservices api call,so I have a question that how to create json string out of java pojo class directly. I mean say for example ,</p>\n\n<p>MyPojo.java</p>\n\n<pre><code>public class MyPojo {\nString name;\nList&lt;String&gt; address;\npublic MyPojo() {\n    // TODO Auto-generated constructor stub\n}\n//setters and getters\n\n}\n</code></pre>\n\n<p>now I need the string json structure of the pojo without creating object of the class.May be same the way swagger api creates json structure of @RequestBody object in web UI.</p>\n\n<p>something like: </p>\n\n<pre><code>String jsonStruct=SomeUtil.convertPojoToJson(MyPojo.class)\n</code></pre>\n\n<p>then it should give like:</p>\n\n<pre><code>{\"name\":\"string\",\"address\":[]}\n</code></pre>\n\n<p>My Try:</p>\n\n<pre><code>import java.util.List;\nimport java.util.Map;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport io.swagger.v3.core.converter.ModelConverters;\nimport io.swagger.v3.core.util.Json;\nimport io.swagger.v3.oas.models.media.Schema;\n\npublic class TEst {\npublic static void main(String[] args) throws JsonProcessingException {\n\n    ObjectMapper obj = new ObjectMapper(); \n\n    MyPojo o=new MyPojo();\n    o.setName(\"aa\");\n    List&lt;String&gt; l=Arrays.asList(\"a\",\"s\");\n    o.setAddress(l);\n    System.out.println(obj.writeValueAsString(o));\n\n}\n}\n</code></pre>\n\n<p>actual o/p:</p>\n\n<pre><code> {\"name\":\"aa\",\"address\":[\"a\",\"s\"]}\n</code></pre>\n\n<p>required o/p:</p>\n\n<pre><code> {\"name\":\"string\",\"address\":[\"string\"]}\n</code></pre>\n\n<p>CONCERN: But I need to create without creating object as in real the pojo is huge and not possible to set all dummy data.  </p>\n"},{"tags":["java","spring-boot","spring-security","jwt"],"answers":[{"tags":[],"owner":{"account_id":25976980,"reputation":56,"user_id":19691299,"display_name":"silentsky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690221424,"creation_date":1690221424,"answer_id":76756962,"question_id":76756767,"body_markdown":"JWT tokens, by design, use UNIX Epoch time in seconds for `iat` (issued at) time.\r\n\r\nI reckon a good hack would be to include additional information in `extraClaims` when generating JWT tokens, for example the current time in miliseconds. This doesn&#39;t change the usage of tokens as they still get hashed.\r\n\r\nIn terms of your implementation, a possible change would be:\r\n```\r\nString jwtToken = jwtService.generateToken(Map.of(&quot;milis&quot;, new Date(System.currentTimeMillis())), user);\r\nString refreshToken = jwtService.generateRefreshToken(Map.of(&quot;milis&quot;, new Date(System.currentTimeMillis())), user);\r\n```","title":"Spring boot Unique index or primary key violation when using jwt to authenticate, when multiple authentication requests in a short time","body":"<p>JWT tokens, by design, use UNIX Epoch time in seconds for <code>iat</code> (issued at) time.</p>\n<p>I reckon a good hack would be to include additional information in <code>extraClaims</code> when generating JWT tokens, for example the current time in miliseconds. This doesn't change the usage of tokens as they still get hashed.</p>\n<p>In terms of your implementation, a possible change would be:</p>\n<pre><code>String jwtToken = jwtService.generateToken(Map.of(&quot;milis&quot;, new Date(System.currentTimeMillis())), user);\nString refreshToken = jwtService.generateRefreshToken(Map.of(&quot;milis&quot;, new Date(System.currentTimeMillis())), user);\n</code></pre>\n"}],"owner":{"account_id":24759010,"reputation":45,"user_id":18643631,"display_name":"Mixss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76756962,"answer_count":1,"score":1,"last_activity_date":1690221424,"creation_date":1690219413,"question_id":76756767,"body_markdown":"I am using jwt to authenticate in my spring boot app. These are methods in AuthenticationService:\r\n```java\r\npublic AuthenticationResponse authenticate(AuthenticationRequest request) {\r\n        authenticationManager.authenticate(\r\n                new UsernamePasswordAuthenticationToken(\r\n                        request.getEmail(),\r\n                        request.getPassword()\r\n                )\r\n        );\r\n        User user = userRepository.findByEmail(request.getEmail()).orElseThrow(UserNotFoundException::new);\r\n        String jwtToken = jwtService.generateToken(user);\r\n        String refreshToken = jwtService.generateRefreshToken(user);\r\n        revokeAllUserTokens(user);\r\n        saveUserToken(user, jwtToken);\r\n        return AuthenticationResponse.builder()\r\n                .accessToken(jwtToken)\r\n                .refreshToken(refreshToken)\r\n                .build();\r\n    }\r\n\r\nprivate void revokeAllUserTokens(User user) {\r\n        List&lt;Token&gt; validUserTokens = tokenRepository.findAllValidTokenByUser(user.getId());\r\n        if(validUserTokens.isEmpty())\r\n            return;\r\n        validUserTokens.forEach(token -&gt; {\r\n            token.setExpired(true);\r\n            token.setRevoked(true);\r\n        });\r\n        tokenRepository.saveAll(validUserTokens);\r\n    }\r\n\r\nprivate void saveUserToken(User user, String jwtToken) {\r\n        Token token = Token.builder()\r\n                .user(user)\r\n                .token(jwtToken)\r\n                .tokenType(TokenType.BEARER)\r\n                .expired(false)\r\n                .revoked(false)\r\n                .build();\r\n        tokenRepository.save(token);\r\n    }\r\n```\r\nand in JwtService:\r\n\r\n```java\r\npublic String generateToken(UserDetails userDetails) {\r\n        return generateToken(new HashMap&lt;&gt;(), userDetails);\r\n    }\r\n\r\n    public String generateToken(Map&lt;String, Object&gt; extraClaims, UserDetails userDetails) {\r\n        return buildToken(extraClaims, userDetails, jwtConfig.getExpiration());\r\n    }\r\n\r\n    public String generateRefreshToken(UserDetails userDetails) {\r\n        return buildToken(new HashMap&lt;&gt;(), userDetails, jwtConfig.getRefreshTokenExpiration());\r\n    }\r\n```\r\nand Token inside database:\r\n```java\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name = &quot;jwt_tokens&quot;)\r\npublic class Token {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    public Long id;\r\n\r\n    @Column(name = &quot;token&quot;, unique = true)\r\n    public String token;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    public TokenType tokenType = TokenType.BEARER;\r\n\r\n    public boolean revoked;\r\n    public boolean expired;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    public User user;\r\n\r\n}\r\n```\r\nrest of the implementation is rather self explanatory.\r\n\r\nIt works fine, but when there are multiple authentication request (when I rapidly send multiple requests), there is 500 status response, and an exception is thrown (method authenticate in AuthenticationService) is called:\r\n\r\n```\r\norg.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: &quot;PUBLIC.CONSTRAINT_INDEX_4 ON PUBLIC.JWT_TOKENS(TOKEN NULLS FIRST) VALUES ( /* 7 */ &#39;eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJtYWx5enNAZW1haWwuY29tIiwiaWF0IjoxNjkwMjE4NDU3LCJleHAiOjE2OTAzMDQ4NTd9.8aePz6jl3JPvsnDFVpXxtzYfsxLN0ZqIUg0FsK_XDaE&#39; )&quot;; SQL statement:\r\ninsert into jwt_tokens (expired,revoked,token,token_type,user_id,id) values (?,?,?,?,?,?) [23505-214]\r\n```","title":"Spring boot Unique index or primary key violation when using jwt to authenticate, when multiple authentication requests in a short time","body":"<p>I am using jwt to authenticate in my spring boot app. These are methods in AuthenticationService:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public AuthenticationResponse authenticate(AuthenticationRequest request) {\n        authenticationManager.authenticate(\n                new UsernamePasswordAuthenticationToken(\n                        request.getEmail(),\n                        request.getPassword()\n                )\n        );\n        User user = userRepository.findByEmail(request.getEmail()).orElseThrow(UserNotFoundException::new);\n        String jwtToken = jwtService.generateToken(user);\n        String refreshToken = jwtService.generateRefreshToken(user);\n        revokeAllUserTokens(user);\n        saveUserToken(user, jwtToken);\n        return AuthenticationResponse.builder()\n                .accessToken(jwtToken)\n                .refreshToken(refreshToken)\n                .build();\n    }\n\nprivate void revokeAllUserTokens(User user) {\n        List&lt;Token&gt; validUserTokens = tokenRepository.findAllValidTokenByUser(user.getId());\n        if(validUserTokens.isEmpty())\n            return;\n        validUserTokens.forEach(token -&gt; {\n            token.setExpired(true);\n            token.setRevoked(true);\n        });\n        tokenRepository.saveAll(validUserTokens);\n    }\n\nprivate void saveUserToken(User user, String jwtToken) {\n        Token token = Token.builder()\n                .user(user)\n                .token(jwtToken)\n                .tokenType(TokenType.BEARER)\n                .expired(false)\n                .revoked(false)\n                .build();\n        tokenRepository.save(token);\n    }\n</code></pre>\n<p>and in JwtService:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String generateToken(UserDetails userDetails) {\n        return generateToken(new HashMap&lt;&gt;(), userDetails);\n    }\n\n    public String generateToken(Map&lt;String, Object&gt; extraClaims, UserDetails userDetails) {\n        return buildToken(extraClaims, userDetails, jwtConfig.getExpiration());\n    }\n\n    public String generateRefreshToken(UserDetails userDetails) {\n        return buildToken(new HashMap&lt;&gt;(), userDetails, jwtConfig.getRefreshTokenExpiration());\n    }\n</code></pre>\n<p>and Token inside database:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;jwt_tokens&quot;)\npublic class Token {\n\n    @Id\n    @GeneratedValue\n    public Long id;\n\n    @Column(name = &quot;token&quot;, unique = true)\n    public String token;\n\n    @Enumerated(EnumType.STRING)\n    public TokenType tokenType = TokenType.BEARER;\n\n    public boolean revoked;\n    public boolean expired;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;user_id&quot;)\n    public User user;\n\n}\n</code></pre>\n<p>rest of the implementation is rather self explanatory.</p>\n<p>It works fine, but when there are multiple authentication request (when I rapidly send multiple requests), there is 500 status response, and an exception is thrown (method authenticate in AuthenticationService) is called:</p>\n<pre><code>org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: &quot;PUBLIC.CONSTRAINT_INDEX_4 ON PUBLIC.JWT_TOKENS(TOKEN NULLS FIRST) VALUES ( /* 7 */ 'eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJtYWx5enNAZW1haWwuY29tIiwiaWF0IjoxNjkwMjE4NDU3LCJleHAiOjE2OTAzMDQ4NTd9.8aePz6jl3JPvsnDFVpXxtzYfsxLN0ZqIUg0FsK_XDaE' )&quot;; SQL statement:\ninsert into jwt_tokens (expired,revoked,token,token_type,user_id,id) values (?,?,?,?,?,?) [23505-214]\n</code></pre>\n"},{"tags":["java","intellij-idea","plugins","intellij-plugin","intellij-platform-psi"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1690222278,"post_id":76756956,"comment_id":135320313,"body_markdown":"The best place for API questions would be the dev forum at https://intellij-support.jetbrains.com/hc/en-us/community/topics/200366979-IntelliJ-IDEA-Open-API-and-Plugin-Development.","body":"The best place for API questions would be the dev forum at <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/topics/200366979-IntelliJ-IDEA-Open-API-and-Plugin-Development\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/community/topics/&hellip;</a>."}],"owner":{"account_id":29082464,"reputation":1,"user_id":22278181,"display_name":"Egor Owchinnikow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690221386,"creation_date":1690221386,"question_id":76756956,"body_markdown":"Saving User Data to PsiElement\r\n\r\nHello. I have got a question.\r\n\r\nWe need to solve the following problem. Save User Data to PsiElement. So that they are saved when parsing a file. For example, when calling the function `FileContentUtil.reparseFiles(PsiLanguageInjectionHost, List, Boolean)`. Looking for answers. It is recommended to use `CachedValueManager` and `CachedValue`. How to use them correctly in my case?","title":"Intellij API. Saving User Data to PsiElement","body":"<p>Saving User Data to PsiElement</p>\n<p>Hello. I have got a question.</p>\n<p>We need to solve the following problem. Save User Data to PsiElement. So that they are saved when parsing a file. For example, when calling the function <code>FileContentUtil.reparseFiles(PsiLanguageInjectionHost, List, Boolean)</code>. Looking for answers. It is recommended to use <code>CachedValueManager</code> and <code>CachedValue</code>. How to use them correctly in my case?</p>\n"},{"tags":["java","spring-boot","lombok"],"owner":{"account_id":8853132,"reputation":360,"user_id":11719624,"display_name":"Denis Kisina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690220647,"creation_date":1690220647,"question_id":76756888,"body_markdown":"I am using Java 11 and Lombok 1.18.26. When I try to set the access level of my getter method to private using the @Getter annotation with the onMethod_ attribute, like this: `@Getter(value = PRIVATE, onMethod_={@JsonGetter(value = &quot;rating&quot;)})`, the access level is not set to private but instead defaults to public. However, when I use the @Getter annotation without the onMethod_ attribute, like this: `@Getter(value = PRIVATE)`, the access level is correctly set to private. Has anyone else experienced this issue?","title":"Lombok @Getter not setting private access level when using onMethod_ attribute","body":"<p>I am using Java 11 and Lombok 1.18.26. When I try to set the access level of my getter method to private using the @Getter annotation with the onMethod_ attribute, like this: <code>@Getter(value = PRIVATE, onMethod_={@JsonGetter(value = &quot;rating&quot;)})</code>, the access level is not set to private but instead defaults to public. However, when I use the @Getter annotation without the onMethod_ attribute, like this: <code>@Getter(value = PRIVATE)</code>, the access level is correctly set to private. Has anyone else experienced this issue?</p>\n"},{"tags":["java","soap"],"owner":{"account_id":22912940,"reputation":11,"user_id":17049937,"display_name":"Stanja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690220182,"creation_date":1690220182,"question_id":76756839,"body_markdown":"I&#39;m having a problem with a SOAP service after migrating to the new Spring Boot.\r\nThe old SOAP service worked with the jaxws-spring component. The service definition was:\r\n\r\n    @WebMethod\r\n    @WebResult(name = &quot;check&quot;, partName = &quot;response&quot;, targetNamespace = NAMESPACE_URI)\r\n    public SafetyCheck check(@WebParam(name = &quot;checkRequest&quot;, partName = &quot;request&quot;, targetNamespace = NAMESPACE_URI) SafetyCheckRequest safetyCheckRequest) { \r\n\r\n \r\n\r\nNow after the migration I had to get rid of the jaxws-spring due to incompatibility and after the upgrade the service looks like this:\r\n \r\n    @PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;check&quot;)\r\n    @ResponsePayload\r\n    public JAXBElement&lt;SafetyCheck&gt; check(@RequestPayload JAXBElement&lt;SafetyCheckRequest&gt; safetyCheckRequest) {\r\n\t\r\nThe wsdl file has not changed. The relevant part is as follows:\r\n\r\n        &lt;xs:element name=&quot;check&quot; type=&quot;tns:check&quot; /&gt;\r\n        &lt;xs:element name=&quot;checkResponse&quot; type=&quot;tns:checkResponse&quot; /&gt;\r\n        &lt;xs:complexType name=&quot;check&quot;&gt;\r\n            &lt;xs:sequence&gt;\r\n                &lt;xs:element form=&quot;qualified&quot; minOccurs=&quot;0&quot; name=&quot;checkRequest&quot; type=&quot;tns:safetyCheckRequest&quot; /&gt;\r\n            &lt;/xs:sequence&gt;\r\n        &lt;/xs:complexType&gt;\r\n        &lt;xs:complexType name=&quot;safetyCheckRequest&quot;&gt;\r\n            &lt;xs:complexContent&gt;\r\n                &lt;xs:extension base=&quot;tns:baseRequest&quot;&gt;\r\n                    &lt;xs:sequence&gt;\r\n                        &lt;xs:element minOccurs=&quot;0&quot; name=&quot;checkToPerform&quot; type=&quot;xs:string&quot; /&gt;\r\n                        &lt;xs:element minOccurs=&quot;0&quot; name=&quot;parameters&quot; type=&quot;xs:string&quot; /&gt;\r\n                    &lt;/xs:sequence&gt;\r\n                &lt;/xs:extension&gt;\r\n            &lt;/xs:complexContent&gt;\r\n        &lt;/xs:complexType&gt;\r\n\r\n\r\nThe SOAP UI generates a request from the WSDL, which is exactly the same as the previous one:\r\n\r\n    &lt;S:Envelope xmlns:S=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n        &lt;S:Body&gt;\r\n            &lt;ns2:check xmlns:ns2=&quot;http://.....&quot;&gt;\r\n                &lt;ns2:checkRequest&gt;\r\n                    &lt;checkToPerform&gt;WARNINGS&lt;/checkToPerform&gt;\r\n                    &lt;parameters&gt;\r\n    \t\t\t\t\t...\r\n                    &lt;/parameters&gt;\r\n                &lt;/ns2:checkRequest&gt;\r\n            &lt;/ns2:check&gt;\r\n        &lt;/S:Body&gt;\r\n    &lt;/S:Envelope&gt;\r\n\r\nBut now the service receives an empty request value. After some testing I found that it will work correctly after removing &lt;ns2:checkRequest&gt;:\r\n\r\n    &lt;S:Envelope xmlns:S=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n        &lt;S:Body&gt;\r\n            &lt;ns2:check xmlns:ns2=&quot;http://.....&quot;&gt;\r\n                    &lt;checkToPerform&gt;WARNINGS&lt;/checkToPerform&gt;\r\n                    &lt;parameters&gt;\r\n    \t\t\t\t\t...\r\n                    &lt;/parameters&gt;\r\n            &lt;/ns2:check&gt;\r\n        &lt;/S:Body&gt;\r\n    &lt;/S:Envelope&gt;\r\n\r\n  \r\nPerhaps the reason is that the old version had a name definition: @WebParam(name = &quot;checkRequest&quot;... .\r\n   How can I do the same with the new one?","title":"SOAP Service does not read a requested data after migration to the new Spring Boot","body":"<p>I'm having a problem with a SOAP service after migrating to the new Spring Boot.\nThe old SOAP service worked with the jaxws-spring component. The service definition was:</p>\n<pre><code>@WebMethod\n@WebResult(name = &quot;check&quot;, partName = &quot;response&quot;, targetNamespace = NAMESPACE_URI)\npublic SafetyCheck check(@WebParam(name = &quot;checkRequest&quot;, partName = &quot;request&quot;, targetNamespace = NAMESPACE_URI) SafetyCheckRequest safetyCheckRequest) { \n</code></pre>\n<p>Now after the migration I had to get rid of the jaxws-spring due to incompatibility and after the upgrade the service looks like this:</p>\n<pre><code>@PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;check&quot;)\n@ResponsePayload\npublic JAXBElement&lt;SafetyCheck&gt; check(@RequestPayload JAXBElement&lt;SafetyCheckRequest&gt; safetyCheckRequest) {\n</code></pre>\n<p>The wsdl file has not changed. The relevant part is as follows:</p>\n<pre><code>    &lt;xs:element name=&quot;check&quot; type=&quot;tns:check&quot; /&gt;\n    &lt;xs:element name=&quot;checkResponse&quot; type=&quot;tns:checkResponse&quot; /&gt;\n    &lt;xs:complexType name=&quot;check&quot;&gt;\n        &lt;xs:sequence&gt;\n            &lt;xs:element form=&quot;qualified&quot; minOccurs=&quot;0&quot; name=&quot;checkRequest&quot; type=&quot;tns:safetyCheckRequest&quot; /&gt;\n        &lt;/xs:sequence&gt;\n    &lt;/xs:complexType&gt;\n    &lt;xs:complexType name=&quot;safetyCheckRequest&quot;&gt;\n        &lt;xs:complexContent&gt;\n            &lt;xs:extension base=&quot;tns:baseRequest&quot;&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element minOccurs=&quot;0&quot; name=&quot;checkToPerform&quot; type=&quot;xs:string&quot; /&gt;\n                    &lt;xs:element minOccurs=&quot;0&quot; name=&quot;parameters&quot; type=&quot;xs:string&quot; /&gt;\n                &lt;/xs:sequence&gt;\n            &lt;/xs:extension&gt;\n        &lt;/xs:complexContent&gt;\n    &lt;/xs:complexType&gt;\n</code></pre>\n<p>The SOAP UI generates a request from the WSDL, which is exactly the same as the previous one:</p>\n<pre><code>&lt;S:Envelope xmlns:S=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n    &lt;S:Body&gt;\n        &lt;ns2:check xmlns:ns2=&quot;http://.....&quot;&gt;\n            &lt;ns2:checkRequest&gt;\n                &lt;checkToPerform&gt;WARNINGS&lt;/checkToPerform&gt;\n                &lt;parameters&gt;\n                    ...\n                &lt;/parameters&gt;\n            &lt;/ns2:checkRequest&gt;\n        &lt;/ns2:check&gt;\n    &lt;/S:Body&gt;\n&lt;/S:Envelope&gt;\n</code></pre>\n<p>But now the service receives an empty request value. After some testing I found that it will work correctly after removing ns2:checkRequest:</p>\n<pre><code>&lt;S:Envelope xmlns:S=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n    &lt;S:Body&gt;\n        &lt;ns2:check xmlns:ns2=&quot;http://.....&quot;&gt;\n                &lt;checkToPerform&gt;WARNINGS&lt;/checkToPerform&gt;\n                &lt;parameters&gt;\n                    ...\n                &lt;/parameters&gt;\n        &lt;/ns2:check&gt;\n    &lt;/S:Body&gt;\n&lt;/S:Envelope&gt;\n</code></pre>\n<p>Perhaps the reason is that the old version had a name definition: @WebParam(name = &quot;checkRequest&quot;... .\nHow can I do the same with the new one?</p>\n"},{"tags":["java","java-time"],"comments":[{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":2,"creation_date":1690213882,"post_id":76755911,"comment_id":135318788,"body_markdown":"*Here is my problem: the app does not display the time set for Dublin, it always displays the time set with the time zone defined in the phone.* - how is it possible? Are you saying that the app changes the code to `.atZone(ZoneId.of( &quot;Europe/Paris&quot; ))` when someone uses it from France? This will be disastrous if apps start working like that - won&#39;t it be? Your code looks correct to me and you should not worry unless there is something else which you have not mentioned in your question.","body":"<i>Here is my problem: the app does not display the time set for Dublin, it always displays the time set with the time zone defined in the phone.</i> - how is it possible? Are you saying that the app changes the code to <code>.atZone(ZoneId.of( &quot;Europe&#47;Paris&quot; ))</code> when someone uses it from France? This will be disastrous if apps start working like that - won&#39;t it be? Your code looks correct to me and you should not worry unless there is something else which you have not mentioned in your question."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1690214809,"post_id":76755911,"comment_id":135318993,"body_markdown":"Edit the example values in your prose to match the example data in your code.","body":"Edit the example values in your prose to match the example data in your code."}],"answers":[{"tags":[],"owner":{"account_id":27668746,"reputation":233,"user_id":21120027,"display_name":"Dulan Jayawickrama"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1690212485,"creation_date":1690212485,"answer_id":76755953,"question_id":76755911,"body_markdown":"To display the UTC time in the app without adjusting for the phone&#39;s local time zone, you can use the **OffsetDateTime** class to parse the UTC date string instead of **Instant**. By using **OffsetDateTime**, you can explicitly represent the date and time with the UTC offset, which ensures that the time zone of the phone won&#39;t affect the displayed time.\r\n\r\n    import java.time.Instant;\r\n    import java.time.OffsetDateTime;\r\n    import java.time.ZoneId;\r\n    import java.time.format.DateTimeFormatter;\r\n    \r\n    public class TimeConversion {\r\n    \r\n        public static void main(String[] args) {\r\n            String dateTime = &quot;2023-07-24T15:19:00.000Z&quot;;\r\n    \r\n            OffsetDateTime offsetDateTime = OffsetDateTime.parse(dateTime);\r\n            String output = offsetDateTime.atZoneSameInstant(ZoneId.of(&quot;Europe/Dublin&quot;))\r\n                    .format(DateTimeFormatter.ofPattern(&quot;HH:mm&quot;));\r\n    \r\n            System.out.println(output); // Output: 16:19\r\n        }\r\n    }\r\n\r\n","title":"Android changes the time zone set programmatically for UTC date string","body":"<p>To display the UTC time in the app without adjusting for the phone's local time zone, you can use the <strong>OffsetDateTime</strong> class to parse the UTC date string instead of <strong>Instant</strong>. By using <strong>OffsetDateTime</strong>, you can explicitly represent the date and time with the UTC offset, which ensures that the time zone of the phone won't affect the displayed time.</p>\n<pre><code>import java.time.Instant;\nimport java.time.OffsetDateTime;\nimport java.time.ZoneId;\nimport java.time.format.DateTimeFormatter;\n\npublic class TimeConversion {\n\n    public static void main(String[] args) {\n        String dateTime = &quot;2023-07-24T15:19:00.000Z&quot;;\n\n        OffsetDateTime offsetDateTime = OffsetDateTime.parse(dateTime);\n        String output = offsetDateTime.atZoneSameInstant(ZoneId.of(&quot;Europe/Dublin&quot;))\n                .format(DateTimeFormatter.ofPattern(&quot;HH:mm&quot;));\n\n        System.out.println(output); // Output: 16:19\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690215700,"creation_date":1690214146,"answer_id":76756176,"question_id":76755911,"body_markdown":"# No such problem\r\n\r\nYour code is correct and functioning properly. \r\n\r\nThe offset used by that time zone is one hour ahead of UTC. [Dublin time][1] in the summer of 2023 is +01:00.\r\n\r\nSo your code has an input of 3 PM (15 hour) in UTC, and an output of 4 PM (16 hour) in Dublin time. That result is correct. \r\n\r\n\t\tString output =\r\n         Instant.parse( &quot;2023-07-24T15:19:00.000Z&quot; )  // Returns an `Instant` object. \r\n                .atZone( ZoneId.of( &quot;Europe/Dublin&quot; ) )  // Returns a `ZonedDateTime` object. \r\n                .format(\r\n                        DateTimeFormatter.ofPattern(&quot;HH:mm&quot;)  // Returns a `DateTimeFormatter` object. \r\n                );\r\n        System.out.println( output ) ;\r\n\r\nSee this code [run at Ideone.com][2]. \r\n\r\n&gt;16:19\r\n\r\n# Default zone irrelevant \r\n\r\nThe current default time zone of the JVM does *not* affect this result. \r\n\r\nYou can see this fact on the linked Ideone.com page where the default zone is UTC (GMT), an offset of +00:00. Your `ZonedDateTime` carries the correct expected time zone of `Europe/Dublin` regardless of the JVM’s default. \r\n\r\n\r\n  [1]: https://time.is/Dublin\r\n  [2]: https://ideone.com/WKgc6L","title":"Android changes the time zone set programmatically for UTC date string","body":"<h1>No such problem</h1>\n<p>Your code is correct and functioning properly.</p>\n<p>The offset used by that time zone is one hour ahead of UTC. <a href=\"https://time.is/Dublin\" rel=\"nofollow noreferrer\">Dublin time</a> in the summer of 2023 is +01:00.</p>\n<p>So your code has an input of 3 PM (15 hour) in UTC, and an output of 4 PM (16 hour) in Dublin time. That result is correct.</p>\n<pre><code>    String output =\n     Instant.parse( &quot;2023-07-24T15:19:00.000Z&quot; )  // Returns an `Instant` object. \n            .atZone( ZoneId.of( &quot;Europe/Dublin&quot; ) )  // Returns a `ZonedDateTime` object. \n            .format(\n                    DateTimeFormatter.ofPattern(&quot;HH:mm&quot;)  // Returns a `DateTimeFormatter` object. \n            );\n    System.out.println( output ) ;\n</code></pre>\n<p>See this code <a href=\"https://ideone.com/WKgc6L\" rel=\"nofollow noreferrer\">run at Ideone.com</a>.</p>\n<blockquote>\n<p>16:19</p>\n</blockquote>\n<h1>Default zone irrelevant</h1>\n<p>The current default time zone of the JVM does <em>not</em> affect this result.</p>\n<p>You can see this fact on the linked Ideone.com page where the default zone is UTC (GMT), an offset of +00:00. Your <code>ZonedDateTime</code> carries the correct expected time zone of <code>Europe/Dublin</code> regardless of the JVM’s default.</p>\n"}],"owner":{"account_id":945974,"reputation":1683,"user_id":973237,"accept_rate":79,"display_name":"Vincent"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76756176,"answer_count":2,"score":-1,"last_activity_date":1690219775,"creation_date":1690212141,"question_id":76755911,"body_markdown":"**Update**: problem solved,there is no issue with the java code snipped I used, the problem was related to errors in the data set.\r\n\r\n\r\n\r\nThe API I work on return flights departure times set with UTC format\r\n\r\n    2023-07-24T15:19:00.000Z\r\n\r\nAnd if the flight departs from Ireland, I set the time zone to Europe/Dublin because I want the departure time to reflects the actual departume time in Ireland\r\n\r\n\tString output =\r\n\t\t\tInstant.parse(dateTime)\r\n\t\t\t\t\t.atZone(ZoneId.of( &quot;Europe/Dublin&quot; ))\r\n\t\t\t\t\t.format(\r\n\t\t\t\t\t\t\tDateTimeFormatter.ofPattern(&quot;HH:mm&quot;)\r\n\t\t\t\t\t);\r\n\r\nHere is my problem: the app does not display the time set for Dublin, it always display the time set with the time zone defined in the phone.\r\n\r\nThat&#39;s an issue because if a flight departs at `08:00` in Ireland and the user uses the app from France, I don&#39;t want `09:00` (+1 hour) to be displayed because it can be misleading. I want `08:00` to be displayed\r\n\r\nHow can I make this happen?\r\nMany thanks\r\n","title":"Android changes the time zone set programmatically for UTC date string","body":"<p><strong>Update</strong>: problem solved,there is no issue with the java code snipped I used, the problem was related to errors in the data set.</p>\n<p>The API I work on return flights departure times set with UTC format</p>\n<pre><code>2023-07-24T15:19:00.000Z\n</code></pre>\n<p>And if the flight departs from Ireland, I set the time zone to Europe/Dublin because I want the departure time to reflects the actual departume time in Ireland</p>\n<pre><code>String output =\n        Instant.parse(dateTime)\n                .atZone(ZoneId.of( &quot;Europe/Dublin&quot; ))\n                .format(\n                        DateTimeFormatter.ofPattern(&quot;HH:mm&quot;)\n                );\n</code></pre>\n<p>Here is my problem: the app does not display the time set for Dublin, it always display the time set with the time zone defined in the phone.</p>\n<p>That's an issue because if a flight departs at <code>08:00</code> in Ireland and the user uses the app from France, I don't want <code>09:00</code> (+1 hour) to be displayed because it can be misleading. I want <code>08:00</code> to be displayed</p>\n<p>How can I make this happen?\nMany thanks</p>\n"},{"tags":["java","spring","hibernate","rest","querydsl"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690229168,"post_id":76756793,"comment_id":135321453,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":29081889,"reputation":11,"user_id":22277725,"display_name":"maticzak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690219695,"creation_date":1690219695,"question_id":76756793,"body_markdown":"I have a problem with querydsl. I have a method created that is supposed to filter by various parameters such as.\r\ntype of figure\r\n\r\n- area from, area to\r\n- circumference from, circumference to\r\n- creation date from, to\r\n- who created,\r\n- by figure parameters, from - to\r\n  The method does not work for area, perimeter and parameters. If the given parameter does not match any object it returns an empty json, but once it wants to filter it returns all objects from the database. I don&#39;t know what the problem could be. Someone can help me?\r\n\r\nCODE:\r\n\r\n```\r\n@Entity \r\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE) \r\n@DiscriminatorColumn(name=&quot;type&quot;, discriminatorType = DiscriminatorType.STRING) \r\n@Table(name = &quot;shapes&quot;) \r\n@QueryEntity \r\npublic class Shape implements Serializable{ \r\n@Id @GeneratedValue(strategy = GenerationType.IDENTITY) \r\nprivate long id; \r\n@Column(insertable = false, updatable = false) \r\nprivate String type; \r\n@Version private int version; \r\n@ManyToOne @JoinColumn(name = &quot;user_id&quot;) \r\nprivate User createdBy; \r\nprivate LocalDateTime createdAt; \r\nprivate LocalDateTime lastModifiedAt; \r\nprivate String lastModifiedBy; }\r\n```\r\n\r\n```\r\n@Entity\r\n@DiscriminatorValue(&quot;SQUARE&quot;)\r\npublic class Square extends Shape {\r\n\r\n    private double height;\r\n\r\n    private double area;\r\n\r\n    private double perimeter;\r\n\r\n    @PrePersist\r\n    @PreUpdate\r\n    public void calculateAreaAndPerimeter() {\r\n        area = height * height;\r\n        perimeter = 4 * height;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Service\r\npublic class ShapeManagementService implements IShapeManagementService {\r\n\r\n    private final ShapeRepository shapeRepository;\r\n    private final RoleRepository roleRepository;\r\n    private final List&lt;IShapeService&gt; shapeServices;\r\n    private final JPAQueryFactory queryFactory;\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(ShapeManagementService.class);\r\n\r\n    public ShapeManagementService(ShapeRepository shapeRepository, RoleRepository roleRepository, List&lt;IShapeService&gt; shapeServices, JPAQueryFactory queryFactory) {\r\n        this.shapeRepository = shapeRepository;\r\n        this.roleRepository = roleRepository;\r\n        this.shapeServices = shapeServices;\r\n        this.queryFactory = queryFactory;\r\n    }\r\n\r\n    @Transactional\r\n    @Override\r\n    public ShapeDto saveShape(ShapeRequestDto shapeRequestDto, String username) {\r\n        IShapeService shapeService = shapeServices.stream()\r\n                .filter(h -&gt; h.getShape().equalsIgnoreCase(shapeRequestDto.getType()))\r\n                .findFirst()\r\n                .orElseThrow();\r\n        return shapeService.save(shapeRequestDto, username);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;ShapeDto&gt; getFilteredShapes(String createdBy, String type, Double areaFrom, Double areaTo,\r\n                                            Double perimeterFrom, Double perimeterTo, LocalDateTime createdAtFrom,\r\n                                            LocalDateTime createdAtTo, Double heightFrom, Double heightTo) {\r\n        QShape shape = QShape.shape;\r\n        QSquare square = QSquare.square;\r\n        QCircle circle = QCircle.circle;\r\n\r\n        BooleanBuilder predicate = new BooleanBuilder();\r\n\r\n        if (createdBy != null) {\r\n            predicate.and(shape.createdBy.username.eq(createdBy));\r\n        }\r\n\r\n        if (type != null) {\r\n            predicate.and(shape.type.eq(type));\r\n        }\r\n\r\n        if (areaFrom != null || areaTo != null || perimeterFrom != null || perimeterTo != null) {\r\n            predicate.and(shape.instanceOf(Square.class));\r\n        }\r\n\r\n        if (areaFrom != null) {\r\n            predicate.and(square.area.goe(areaFrom));\r\n        }\r\n\r\n        if (areaTo != null) {\r\n            predicate.and(square.area.loe(areaTo));\r\n        }\r\n\r\n        if (perimeterFrom != null) {\r\n            predicate.and(square.perimeter.goe(perimeterFrom));\r\n        }\r\n\r\n        if (perimeterTo != null) {\r\n            predicate.and(square.perimeter.loe(perimeterTo));\r\n        }\r\n\r\n        if (heightFrom != null || heightTo != null) {\r\n            predicate.andAnyOf(square.height.between(heightFrom, heightTo), circle.radius.between(heightFrom, heightTo));\r\n        }\r\n\r\n        if (createdAtFrom != null) {\r\n            predicate.and(shape.createdAt.goe(createdAtFrom));\r\n        }\r\n\r\n        if (createdAtTo != null) {\r\n            predicate.and(shape.createdAt.loe(createdAtTo));\r\n        }\r\n\r\n        JPAQuery&lt;Shape&gt; query = queryFactory.selectFrom(shape)\r\n                .leftJoin(square).on(shape.instanceOf(Square.class))\r\n                .leftJoin(circle).on(shape.instanceOf(Circle.class))\r\n                .where(predicate)\r\n                .groupBy(shape.id); // Grupowanie wynik&#243;w po id figury\r\n\r\n        List&lt;Shape&gt; shapes = query.fetch();\r\n\r\n        return shapes.stream()\r\n                .map(this::convertToDto)\r\n                .collect(Collectors.toList());\r\n    }\r\n    public ShapeDto convertToDto(Shape shape) {\r\n        ShapeDto shapeDto;\r\n        if (shape instanceof Square) {\r\n            shapeDto = convertSquareToDto((Square) shape);\r\n//        } else if (shape instanceof Circle) {\r\n//            shapeDto = convertCircleToDto((Circle) shape);\r\n        } else {\r\n            shapeDto = new ShapeDto();\r\n        }\r\n\r\n        shapeDto.setId(shape.getId());\r\n        shapeDto.setType(shape.getType());\r\n        shapeDto.setCreatedBy(shape.getCreatedBy().getUsername());\r\n        shapeDto.setCreatedAt(shape.getCreatedAt());\r\n        shapeDto.setLastModifiedAt(shape.getLastModifiedAt());\r\n        shapeDto.setLastModifiedBy(shape.getLastModifiedBy());\r\n\r\n        return shapeDto;\r\n    }\r\n\r\n    private SquareDto convertSquareToDto(Square square) {\r\n        SquareDto squareDto = new SquareDto();\r\n        squareDto.setHeight(square.getHeight());\r\n        squareDto.setPerimeter(square.getPerimeter());\r\n        squareDto.setArea(square.getArea());\r\n        return squareDto;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Component\r\npublic class SquareService implements IShapeService {\r\n\r\n    private final SquareRepository squareRepository;\r\n    private final UserRepository userRepository;\r\n    private final ModelMapper modelMapper;\r\n    private final SquareFactory squareFactory;\r\n    private final ShapeRepository shapeRepository;\r\n\r\n    public SquareService(SquareRepository squareRepository, UserRepository userRepository, ModelMapper modelMapper, SquareFactory squareFactory, ShapeRepository shapeRepository) {\r\n        this.squareRepository = squareRepository;\r\n        this.userRepository = userRepository;\r\n        this.modelMapper = modelMapper;\r\n        this.squareFactory = squareFactory;\r\n        this.shapeRepository = shapeRepository;\r\n    }\r\n\r\n    @Transactional\r\n    @Override\r\n    public ShapeDto save(ShapeRequestDto shapeRequestDto, String username) {\r\n        Square square = squareFactory.createSquare(shapeRequestDto, username);\r\n        Square squareToSave = squareRepository.save(square);\r\n        SquareDto squareDto = modelMapper.map(squareToSave, SquareDto.class);\r\n        squareDto.getCreatedBy();\r\n        squareDto.setCreatedBy(square.getCreatedBy().getUsername());\r\n        squareDto.setArea(square.getArea());\r\n        squareDto.setPerimeter(square.getPerimeter());\r\n        return squareDto;\r\n    }\r\n\r\n    @Override\r\n    public String getShape() {\r\n        return &quot;SQUARE&quot;;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/shapes&quot;)\r\npublic class ShapeController {\r\n\r\n    private final IShapeManagementService shapeManagementService;\r\n\r\n    public ShapeController(IShapeManagementService shapeManagementService) {\r\n        this.shapeManagementService = shapeManagementService;\r\n    }\r\n    \r\n    @PreAuthorize(&quot;hasRole(&#39;ROLE_CREATOR&#39;)&quot;)\r\n    @PostMapping\r\n    public ResponseEntity&lt;ShapeDto&gt; addShape(@RequestBody ShapeRequestDto shapeRequestDto, Principal p) {\r\n        ShapeDto shapeDto = shapeManagementService.saveShape(shapeRequestDto, p.getName());\r\n        return ResponseEntity.status(HttpStatus.CREATED).body(shapeDto);\r\n\r\n    }\r\n    @GetMapping(value = &quot;/parameters&quot;)\r\n    public ResponseEntity&lt;List&lt;ShapeDto&gt;&gt; getShapes(@RequestParam(required = false) String createdBy,\r\n                                                    @RequestParam(required = false) String type,\r\n                                                    @RequestParam(required = false) Double areaFrom,\r\n                                                    @RequestParam(required = false) Double areaTo,\r\n                                                    @RequestParam(required = false) Double perimeterFrom,\r\n                                                    @RequestParam(required = false) Double perimeterTo,\r\n                                                    @RequestParam(required = false) @DateTimeFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;) LocalDateTime createdAtFrom,\r\n                                                    @RequestParam(required = false) @DateTimeFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;) LocalDateTime createdAtTo,\r\n                                                    @RequestParam(required = false) Double heightFrom,\r\n                                                    @RequestParam(required = false) Double heightTo) {\r\n        List&lt;ShapeDto&gt; filteredShapes = shapeManagementService.getFilteredShapes(\r\n                createdBy, type, areaFrom, areaTo, perimeterFrom, perimeterTo, createdAtFrom, createdAtTo, heightFrom, heightTo);\r\n\r\n        return ResponseEntity.status(HttpStatus.OK).body(filteredShapes);\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nI tried searching all over the internet.\r\n```","title":"problem with proper filtering of parameters in querydsl","body":"<p>I have a problem with querydsl. I have a method created that is supposed to filter by various parameters such as.\ntype of figure</p>\n<ul>\n<li>area from, area to</li>\n<li>circumference from, circumference to</li>\n<li>creation date from, to</li>\n<li>who created,</li>\n<li>by figure parameters, from - to\nThe method does not work for area, perimeter and parameters. If the given parameter does not match any object it returns an empty json, but once it wants to filter it returns all objects from the database. I don't know what the problem could be. Someone can help me?</li>\n</ul>\n<p>CODE:</p>\n<pre><code>@Entity \n@Inheritance(strategy = InheritanceType.SINGLE_TABLE) \n@DiscriminatorColumn(name=&quot;type&quot;, discriminatorType = DiscriminatorType.STRING) \n@Table(name = &quot;shapes&quot;) \n@QueryEntity \npublic class Shape implements Serializable{ \n@Id @GeneratedValue(strategy = GenerationType.IDENTITY) \nprivate long id; \n@Column(insertable = false, updatable = false) \nprivate String type; \n@Version private int version; \n@ManyToOne @JoinColumn(name = &quot;user_id&quot;) \nprivate User createdBy; \nprivate LocalDateTime createdAt; \nprivate LocalDateTime lastModifiedAt; \nprivate String lastModifiedBy; }\n</code></pre>\n<pre><code>@Entity\n@DiscriminatorValue(&quot;SQUARE&quot;)\npublic class Square extends Shape {\n\n    private double height;\n\n    private double area;\n\n    private double perimeter;\n\n    @PrePersist\n    @PreUpdate\n    public void calculateAreaAndPerimeter() {\n        area = height * height;\n        perimeter = 4 * height;\n    }\n}\n</code></pre>\n<pre><code>@Service\npublic class ShapeManagementService implements IShapeManagementService {\n\n    private final ShapeRepository shapeRepository;\n    private final RoleRepository roleRepository;\n    private final List&lt;IShapeService&gt; shapeServices;\n    private final JPAQueryFactory queryFactory;\n\n    private static final Logger logger = LoggerFactory.getLogger(ShapeManagementService.class);\n\n    public ShapeManagementService(ShapeRepository shapeRepository, RoleRepository roleRepository, List&lt;IShapeService&gt; shapeServices, JPAQueryFactory queryFactory) {\n        this.shapeRepository = shapeRepository;\n        this.roleRepository = roleRepository;\n        this.shapeServices = shapeServices;\n        this.queryFactory = queryFactory;\n    }\n\n    @Transactional\n    @Override\n    public ShapeDto saveShape(ShapeRequestDto shapeRequestDto, String username) {\n        IShapeService shapeService = shapeServices.stream()\n                .filter(h -&gt; h.getShape().equalsIgnoreCase(shapeRequestDto.getType()))\n                .findFirst()\n                .orElseThrow();\n        return shapeService.save(shapeRequestDto, username);\n    }\n\n    @Override\n    public List&lt;ShapeDto&gt; getFilteredShapes(String createdBy, String type, Double areaFrom, Double areaTo,\n                                            Double perimeterFrom, Double perimeterTo, LocalDateTime createdAtFrom,\n                                            LocalDateTime createdAtTo, Double heightFrom, Double heightTo) {\n        QShape shape = QShape.shape;\n        QSquare square = QSquare.square;\n        QCircle circle = QCircle.circle;\n\n        BooleanBuilder predicate = new BooleanBuilder();\n\n        if (createdBy != null) {\n            predicate.and(shape.createdBy.username.eq(createdBy));\n        }\n\n        if (type != null) {\n            predicate.and(shape.type.eq(type));\n        }\n\n        if (areaFrom != null || areaTo != null || perimeterFrom != null || perimeterTo != null) {\n            predicate.and(shape.instanceOf(Square.class));\n        }\n\n        if (areaFrom != null) {\n            predicate.and(square.area.goe(areaFrom));\n        }\n\n        if (areaTo != null) {\n            predicate.and(square.area.loe(areaTo));\n        }\n\n        if (perimeterFrom != null) {\n            predicate.and(square.perimeter.goe(perimeterFrom));\n        }\n\n        if (perimeterTo != null) {\n            predicate.and(square.perimeter.loe(perimeterTo));\n        }\n\n        if (heightFrom != null || heightTo != null) {\n            predicate.andAnyOf(square.height.between(heightFrom, heightTo), circle.radius.between(heightFrom, heightTo));\n        }\n\n        if (createdAtFrom != null) {\n            predicate.and(shape.createdAt.goe(createdAtFrom));\n        }\n\n        if (createdAtTo != null) {\n            predicate.and(shape.createdAt.loe(createdAtTo));\n        }\n\n        JPAQuery&lt;Shape&gt; query = queryFactory.selectFrom(shape)\n                .leftJoin(square).on(shape.instanceOf(Square.class))\n                .leftJoin(circle).on(shape.instanceOf(Circle.class))\n                .where(predicate)\n                .groupBy(shape.id); // Grupowanie wyników po id figury\n\n        List&lt;Shape&gt; shapes = query.fetch();\n\n        return shapes.stream()\n                .map(this::convertToDto)\n                .collect(Collectors.toList());\n    }\n    public ShapeDto convertToDto(Shape shape) {\n        ShapeDto shapeDto;\n        if (shape instanceof Square) {\n            shapeDto = convertSquareToDto((Square) shape);\n//        } else if (shape instanceof Circle) {\n//            shapeDto = convertCircleToDto((Circle) shape);\n        } else {\n            shapeDto = new ShapeDto();\n        }\n\n        shapeDto.setId(shape.getId());\n        shapeDto.setType(shape.getType());\n        shapeDto.setCreatedBy(shape.getCreatedBy().getUsername());\n        shapeDto.setCreatedAt(shape.getCreatedAt());\n        shapeDto.setLastModifiedAt(shape.getLastModifiedAt());\n        shapeDto.setLastModifiedBy(shape.getLastModifiedBy());\n\n        return shapeDto;\n    }\n\n    private SquareDto convertSquareToDto(Square square) {\n        SquareDto squareDto = new SquareDto();\n        squareDto.setHeight(square.getHeight());\n        squareDto.setPerimeter(square.getPerimeter());\n        squareDto.setArea(square.getArea());\n        return squareDto;\n    }\n}\n</code></pre>\n<pre><code>@Component\npublic class SquareService implements IShapeService {\n\n    private final SquareRepository squareRepository;\n    private final UserRepository userRepository;\n    private final ModelMapper modelMapper;\n    private final SquareFactory squareFactory;\n    private final ShapeRepository shapeRepository;\n\n    public SquareService(SquareRepository squareRepository, UserRepository userRepository, ModelMapper modelMapper, SquareFactory squareFactory, ShapeRepository shapeRepository) {\n        this.squareRepository = squareRepository;\n        this.userRepository = userRepository;\n        this.modelMapper = modelMapper;\n        this.squareFactory = squareFactory;\n        this.shapeRepository = shapeRepository;\n    }\n\n    @Transactional\n    @Override\n    public ShapeDto save(ShapeRequestDto shapeRequestDto, String username) {\n        Square square = squareFactory.createSquare(shapeRequestDto, username);\n        Square squareToSave = squareRepository.save(square);\n        SquareDto squareDto = modelMapper.map(squareToSave, SquareDto.class);\n        squareDto.getCreatedBy();\n        squareDto.setCreatedBy(square.getCreatedBy().getUsername());\n        squareDto.setArea(square.getArea());\n        squareDto.setPerimeter(square.getPerimeter());\n        return squareDto;\n    }\n\n    @Override\n    public String getShape() {\n        return &quot;SQUARE&quot;;\n    }\n}\n</code></pre>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1/shapes&quot;)\npublic class ShapeController {\n\n    private final IShapeManagementService shapeManagementService;\n\n    public ShapeController(IShapeManagementService shapeManagementService) {\n        this.shapeManagementService = shapeManagementService;\n    }\n    \n    @PreAuthorize(&quot;hasRole('ROLE_CREATOR')&quot;)\n    @PostMapping\n    public ResponseEntity&lt;ShapeDto&gt; addShape(@RequestBody ShapeRequestDto shapeRequestDto, Principal p) {\n        ShapeDto shapeDto = shapeManagementService.saveShape(shapeRequestDto, p.getName());\n        return ResponseEntity.status(HttpStatus.CREATED).body(shapeDto);\n\n    }\n    @GetMapping(value = &quot;/parameters&quot;)\n    public ResponseEntity&lt;List&lt;ShapeDto&gt;&gt; getShapes(@RequestParam(required = false) String createdBy,\n                                                    @RequestParam(required = false) String type,\n                                                    @RequestParam(required = false) Double areaFrom,\n                                                    @RequestParam(required = false) Double areaTo,\n                                                    @RequestParam(required = false) Double perimeterFrom,\n                                                    @RequestParam(required = false) Double perimeterTo,\n                                                    @RequestParam(required = false) @DateTimeFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss&quot;) LocalDateTime createdAtFrom,\n                                                    @RequestParam(required = false) @DateTimeFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss&quot;) LocalDateTime createdAtTo,\n                                                    @RequestParam(required = false) Double heightFrom,\n                                                    @RequestParam(required = false) Double heightTo) {\n        List&lt;ShapeDto&gt; filteredShapes = shapeManagementService.getFilteredShapes(\n                createdBy, type, areaFrom, areaTo, perimeterFrom, perimeterTo, createdAtFrom, createdAtTo, heightFrom, heightTo);\n\n        return ResponseEntity.status(HttpStatus.OK).body(filteredShapes);\n    }\n}\n\n\n\n\nI tried searching all over the internet.\n</code></pre>\n"},{"tags":["java","android","kotlin","statusbar","android-statusbar"],"comments":[{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":3,"creation_date":1690196997,"post_id":76753866,"comment_id":135315012,"body_markdown":"What is the SDK?","body":"What is the SDK?"},{"owner":{"account_id":29079906,"reputation":1,"user_id":22276197,"display_name":"Anas Khan"},"score":0,"creation_date":1690199611,"post_id":76753866,"comment_id":135315552,"body_markdown":"A sdk is software development kit. In android people can build their own modules which can help people develop their app with less code. I our app we are using a third party sdk for payment interation.","body":"A sdk is software development kit. In android people can build their own modules which can help people develop their app with less code. I our app we are using a third party sdk for payment interation."},{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1690199774,"post_id":76753866,"comment_id":135315587,"body_markdown":"Not &quot;what is a SDK&quot; but what 3rd party SDK are you using.","body":"Not &quot;what is a SDK&quot; but what 3rd party SDK are you using."},{"owner":{"account_id":29079906,"reputation":1,"user_id":22276197,"display_name":"Anas Khan"},"score":0,"creation_date":1690200620,"post_id":76753866,"comment_id":135315776,"body_markdown":"There is a payment gateway in india.Can&#39;t disclose the name but what i found that when that sdk initiates it has color red as colorPrimaryDark in resource file. Once its job done it closes by self. But status bar color remains red instead of turn back blue which if defined in my own resource file as colorPrimaryDark","body":"There is a payment gateway in india.Can&#39;t disclose the name but what i found that when that sdk initiates it has color red as colorPrimaryDark in resource file. Once its job done it closes by self. But status bar color remains red instead of turn back blue which if defined in my own resource file as colorPrimaryDark"}],"answers":[{"tags":[],"owner":{"account_id":5826843,"reputation":344,"user_id":4592885,"display_name":"Mohammad Fallah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690219564,"creation_date":1690219564,"answer_id":76756779,"question_id":76753866,"body_markdown":"I guess the SDK which you use, are changing status bar color programmatically using your activity&#39;s `window` so the changed color remains even after the SDK stops.\r\nyou can use this code (in kotlin) to change the status bar color after the SDK is finished.\r\n\r\n```kotlin\r\nwindow.statusBarColor = ContextCompat.getColor(this, R.color.purple_200)\r\n```\r\n \r\nPlace the above code where you are sure the SDK is finished. (based on SDK&#39;s documents)","title":"We are using a android SDK for payment.That sdk changes colorPrimaryDark to red. After payment status bar remains red instead of turn back to blue","body":"<p>I guess the SDK which you use, are changing status bar color programmatically using your activity's <code>window</code> so the changed color remains even after the SDK stops.\nyou can use this code (in kotlin) to change the status bar color after the SDK is finished.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>window.statusBarColor = ContextCompat.getColor(this, R.color.purple_200)\n</code></pre>\n<p>Place the above code where you are sure the SDK is finished. (based on SDK's documents)</p>\n"}],"owner":{"account_id":29079906,"reputation":1,"user_id":22276197,"display_name":"Anas Khan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690219564,"creation_date":1690196884,"question_id":76753866,"body_markdown":"Our android app has blue color as colorPrimaryDark in resources which is responsible for status bar color. We are using a third party sdk for payment. Whenever we initiate that sdk it changes the color to red. And after completion of payment the status bar remains red. It might be caused by the changes in value of colorPrimaryDark.\r\n\r\nIs there any way so that i can ovrride that colorPrimaryDark key whenever sdk stop doing it&#39;s work.\r\n\r\nI tried to change in theme file.","title":"We are using a android SDK for payment.That sdk changes colorPrimaryDark to red. After payment status bar remains red instead of turn back to blue","body":"<p>Our android app has blue color as colorPrimaryDark in resources which is responsible for status bar color. We are using a third party sdk for payment. Whenever we initiate that sdk it changes the color to red. And after completion of payment the status bar remains red. It might be caused by the changes in value of colorPrimaryDark.</p>\n<p>Is there any way so that i can ovrride that colorPrimaryDark key whenever sdk stop doing it's work.</p>\n<p>I tried to change in theme file.</p>\n"},{"tags":["java","salesforce","apex","salesforce-lightning","lwc"],"answers":[{"tags":[],"owner":{"account_id":13338008,"reputation":96,"user_id":9627216,"display_name":"Barouch Kandov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690219069,"creation_date":1690219069,"answer_id":76756730,"question_id":76267183,"body_markdown":"did you check the return property: maintenanceCycles have any record inside before returning the first element in the list?","title":"Why is this code not passing the check challenge?","body":"<p>did you check the return property: maintenanceCycles have any record inside before returning the first element in the list?</p>\n"}],"owner":{"account_id":28615663,"reputation":1,"user_id":21909724,"display_name":"Rafael Moraes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690219069,"creation_date":1684272660,"question_id":76267183,"body_markdown":"I&#39;m currently studying for my first superbadge, and it&#39;s been quite an adventure so far! However, I&#39;ve hit a roadblock on the second task **(Automate record creation)** and could really use some assistance...\r\n\r\nIf anyone has any insights or tips regarding the second task, I would greatly appreciate your guidance. Feel free to check out the task details *(https://trailhead.salesforce.com/content/learn/superbadges/superbadge_apex)* for more context. \r\n\r\nThanks in advance for your help!\r\n\r\nMy code (Trigger Helper):\r\n    \r\n    public with sharing class MaintenanceRequestHelper {\r\n    public static void createMaintenanceRequests(List&lt;Case&gt; newData, Map&lt;Id, Case&gt; oldData) {\r\n        \r\n        Set&lt;Id&gt; casesIds = new Set&lt;Id&gt;();\r\n        for(Case c : newData){\r\n            if(oldData.get(c.Id).Status != &#39;Closed&#39; &amp;&amp; c.Status == &#39;Closed&#39;){\r\n                if(c.Type == &#39;Repair&#39; || c.Type == &#39;Routine Maintenance&#39;){\r\n                    casesIds.add(c.Id);\r\n                }\r\n            }\r\n        }\r\n        \r\n        Double minMaintenanceCycle = requestDue(casesIds);\r\n        Integer daysToAdd = Math.round(minMaintenanceCycle);\r\n        Date today = System.today();\r\n        \r\n        List&lt;Case&gt; newCases = new List&lt;Case&gt;();\r\n        \r\n        for(Case cc : [SELECT Id, ParentId, Vehicle__c, Vehicle__r.Name, (SELECT Equipment__c, Maintenance_Request__c, Quantity__c FROM Equipment_Maintenance_Items__r) FROM Case WHERE Id IN :casesIds]){\r\n            Case nc = new Case();\r\n            nc.ParentId = cc.Id;\r\n            nc.Status = &#39;New&#39;;\r\n            nc.Subject = &#39;Maintenance Request for &#39; + cc.Vehicle__r.Name;\r\n            nc.Type = &#39;Routine Maintenance&#39;;\r\n            nc.Vehicle__c = cc.Vehicle__c;\r\n           \r\n            for (Equipment_Maintenance_Item__c eq : cc.Equipment_Maintenance_Items__r) {\r\n                Equipment_Maintenance_Item__c newEq = new Equipment_Maintenance_Item__c();\r\n                newEq.Equipment__c = eq.Equipment__c;\r\n                newEq.Maintenance_Request__c = eq.Maintenance_Request__c;\r\n                newEq.Quantity__c = eq.Quantity__c;\r\n                nc.Equipment_Maintenance_Items__r.add(newEq);\r\n            }\r\n\r\n            nc.Date_Reported__c = today;\r\n            nc.Date_Due__c = today.addDays(daysToAdd);\r\n            newCases.add(nc);\r\n        }\r\n\r\n        try {\r\n            insert newCases;\r\n        } catch (DMLException e) {\r\n            System.debug(e);\r\n        }\r\n\r\n    }\r\n\r\n    public static Double requestDue(Set&lt;Id&gt; validIds){\r\n        List&lt;Case&gt; cases = [SELECT (SELECT Equipment__c, Maintenance_Request__c, Quantity__c FROM Equipment_Maintenance_Items__r) FROM Case WHERE Id IN :validIds];\r\n        \r\n        Set&lt;Id&gt; equipIds = new Set&lt;Id&gt;();\r\n        for (Case c : cases) {\r\n            for (Equipment_Maintenance_Item__c emi : c.Equipment_Maintenance_Items__r) {\r\n                equipIds.add(emi.Equipment__c);\r\n            }\r\n        }\r\n        List&lt;Double&gt; maintenanceCycles = new List&lt;Double&gt;();\r\n        List&lt;Product2&gt; equipmentList = [SELECT Maintenance_Cycle__c FROM Product2 WHERE Id IN :equipIds];\r\n        for (Product2 p : equipmentList) {\r\n            maintenanceCycles.add(p.Maintenance_Cycle__c);\r\n        }\r\n\r\n        maintenanceCycles.sort();\r\n        return maintenanceCycles[0];\r\n    }\r\n    }\r\n\r\nTrigger itself:\r\n\r\n    trigger MaintenanceRequest on Case (before update, after update) {\r\n    if(Trigger.isUpdate &amp;&amp; Trigger.isAfter){\r\n        MaintenanceRequestHelper.createMaintenanceRequests(Trigger.New, Trigger.OldMap);\r\n    }\r\n    }\r\n\r\nI got the error **out of bounds** from the maintenanceCycles (A list of Double values), but it doesn&#39;t make sense for me...\r\n\r\nERROR:\r\n\r\nThere was an unexpected error in your org which is preventing this assessment check from completing: System.DmlException: Update failed. First exception on row 0 with id 5008b00002KYlQbAAL; first error: CANNOT_INSERT_UPDATE_ACTIVATE_ENTITY, MaintenanceRequest: execution of AfterUpdate caused by: System.ListException: List index out of bounds: 1 Class.MaintenanceRequestHelper.requestDue: line 64, column 1 Class.MaintenanceRequestHelper.createMaintenanceRequests: line 13, column 1            Trigger.MaintenanceRequest: line 3, column 1: []*","title":"Why is this code not passing the check challenge?","body":"<p>I'm currently studying for my first superbadge, and it's been quite an adventure so far! However, I've hit a roadblock on the second task <strong>(Automate record creation)</strong> and could really use some assistance...</p>\n<p>If anyone has any insights or tips regarding the second task, I would greatly appreciate your guidance. Feel free to check out the task details <em>(<a href=\"https://trailhead.salesforce.com/content/learn/superbadges/superbadge_apex\" rel=\"nofollow noreferrer\">https://trailhead.salesforce.com/content/learn/superbadges/superbadge_apex</a>)</em> for more context.</p>\n<p>Thanks in advance for your help!</p>\n<p>My code (Trigger Helper):</p>\n<pre><code>public with sharing class MaintenanceRequestHelper {\npublic static void createMaintenanceRequests(List&lt;Case&gt; newData, Map&lt;Id, Case&gt; oldData) {\n    \n    Set&lt;Id&gt; casesIds = new Set&lt;Id&gt;();\n    for(Case c : newData){\n        if(oldData.get(c.Id).Status != 'Closed' &amp;&amp; c.Status == 'Closed'){\n            if(c.Type == 'Repair' || c.Type == 'Routine Maintenance'){\n                casesIds.add(c.Id);\n            }\n        }\n    }\n    \n    Double minMaintenanceCycle = requestDue(casesIds);\n    Integer daysToAdd = Math.round(minMaintenanceCycle);\n    Date today = System.today();\n    \n    List&lt;Case&gt; newCases = new List&lt;Case&gt;();\n    \n    for(Case cc : [SELECT Id, ParentId, Vehicle__c, Vehicle__r.Name, (SELECT Equipment__c, Maintenance_Request__c, Quantity__c FROM Equipment_Maintenance_Items__r) FROM Case WHERE Id IN :casesIds]){\n        Case nc = new Case();\n        nc.ParentId = cc.Id;\n        nc.Status = 'New';\n        nc.Subject = 'Maintenance Request for ' + cc.Vehicle__r.Name;\n        nc.Type = 'Routine Maintenance';\n        nc.Vehicle__c = cc.Vehicle__c;\n       \n        for (Equipment_Maintenance_Item__c eq : cc.Equipment_Maintenance_Items__r) {\n            Equipment_Maintenance_Item__c newEq = new Equipment_Maintenance_Item__c();\n            newEq.Equipment__c = eq.Equipment__c;\n            newEq.Maintenance_Request__c = eq.Maintenance_Request__c;\n            newEq.Quantity__c = eq.Quantity__c;\n            nc.Equipment_Maintenance_Items__r.add(newEq);\n        }\n\n        nc.Date_Reported__c = today;\n        nc.Date_Due__c = today.addDays(daysToAdd);\n        newCases.add(nc);\n    }\n\n    try {\n        insert newCases;\n    } catch (DMLException e) {\n        System.debug(e);\n    }\n\n}\n\npublic static Double requestDue(Set&lt;Id&gt; validIds){\n    List&lt;Case&gt; cases = [SELECT (SELECT Equipment__c, Maintenance_Request__c, Quantity__c FROM Equipment_Maintenance_Items__r) FROM Case WHERE Id IN :validIds];\n    \n    Set&lt;Id&gt; equipIds = new Set&lt;Id&gt;();\n    for (Case c : cases) {\n        for (Equipment_Maintenance_Item__c emi : c.Equipment_Maintenance_Items__r) {\n            equipIds.add(emi.Equipment__c);\n        }\n    }\n    List&lt;Double&gt; maintenanceCycles = new List&lt;Double&gt;();\n    List&lt;Product2&gt; equipmentList = [SELECT Maintenance_Cycle__c FROM Product2 WHERE Id IN :equipIds];\n    for (Product2 p : equipmentList) {\n        maintenanceCycles.add(p.Maintenance_Cycle__c);\n    }\n\n    maintenanceCycles.sort();\n    return maintenanceCycles[0];\n}\n}\n</code></pre>\n<p>Trigger itself:</p>\n<pre><code>trigger MaintenanceRequest on Case (before update, after update) {\nif(Trigger.isUpdate &amp;&amp; Trigger.isAfter){\n    MaintenanceRequestHelper.createMaintenanceRequests(Trigger.New, Trigger.OldMap);\n}\n}\n</code></pre>\n<p>I got the error <strong>out of bounds</strong> from the maintenanceCycles (A list of Double values), but it doesn't make sense for me...</p>\n<p>ERROR:</p>\n<p>There was an unexpected error in your org which is preventing this assessment check from completing: System.DmlException: Update failed. First exception on row 0 with id 5008b00002KYlQbAAL; first error: CANNOT_INSERT_UPDATE_ACTIVATE_ENTITY, MaintenanceRequest: execution of AfterUpdate caused by: System.ListException: List index out of bounds: 1 Class.MaintenanceRequestHelper.requestDue: line 64, column 1 Class.MaintenanceRequestHelper.createMaintenanceRequests: line 13, column 1            Trigger.MaintenanceRequest: line 3, column 1: []*</p>\n"},{"tags":["java","database","h2"],"comments":[{"owner":{"account_id":251211,"reputation":32622,"user_id":528428,"accept_rate":80,"display_name":"Benjamin Muschko"},"score":2,"creation_date":1303560194,"post_id":5763747,"comment_id":6601039,"body_markdown":"After switching to in-memory mode you got to create the table `Person` again. H2 doesn&#39;t know anything about the database you created on disk before.","body":"After switching to in-memory mode you got to create the table <code>Person</code> again. H2 doesn&#39;t know anything about the database you created on disk before."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1303598155,"post_id":5763747,"comment_id":6605864,"body_markdown":"The rest of the program didn&#39;t change - I did create the table again.","body":"The rest of the program didn&#39;t change - I did create the table again."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1544130915,"post_id":5763747,"comment_id":94177805,"body_markdown":"See: [*Keep H2 in-memory database between connections*](https://dba.stackexchange.com/q/224338/19079)","body":"See: <a href=\"https://dba.stackexchange.com/q/224338/19079\"><i>Keep H2 in-memory database between connections</i></a>"},{"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1676825216,"post_id":5763747,"comment_id":133210882,"body_markdown":"How do you connect? I suspect you are connecting to different database, as you don&#39;t specify anything(hint: it cannot be created in server mode just by changing URL). In-memory database needs to be created in server mode to allow more than 1 connection; without server mode, it&#39;s private to the same JVM and cannot be connected from other processes. That&#39;s why I think you are recreating the db and you don&#39;t see the data of application db. So, or you create a file and use server mode, or you create in-memory db but also in server mode. And you need to connect with TCP. See my answer.","body":"How do you connect? I suspect you are connecting to different database, as you don&#39;t specify anything(hint: it cannot be created in server mode just by changing URL). In-memory database needs to be created in server mode to allow more than 1 connection; without server mode, it&#39;s private to the same JVM and cannot be connected from other processes. That&#39;s why I think you are recreating the db and you don&#39;t see the data of application db. So, or you create a file and use server mode, or you create in-memory db but also in server mode. And you need to connect with TCP. See my answer."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1676840197,"post_id":5763747,"comment_id":133213715,"body_markdown":"@WesternGun Thanks for the input but this question has already been answered correctly over 10 years ago.","body":"@WesternGun Thanks for the input but this question has already been answered correctly over 10 years ago."},{"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1676878677,"post_id":5763747,"comment_id":133218950,"body_markdown":"Actually just found that if I use the accepted answer, next launch of app will see &quot;Address already in use&quot; because the previous session occupies the same port, so there&#39;s some side effect and the correct answer may not be the real solution here.","body":"Actually just found that if I use the accepted answer, next launch of app will see &quot;Address already in use&quot; because the previous session occupies the same port, so there&#39;s some side effect and the correct answer may not be the real solution here."}],"answers":[{"tags":[],"owner":{"account_id":259521,"reputation":4921,"user_id":542461,"display_name":"Joseph Ottinger"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1303559269,"creation_date":1303559269,"answer_id":5764011,"question_id":5763747,"body_markdown":"Hard to tell. I created a program to test this: \r\n\r\n\r\n    package com.gigaspaces.compass;\r\n\r\n    import org.testng.annotations.Test;\r\n\r\n    import java.sql.*;\r\n\r\n    public class H2Test {\r\n    @Test\r\n    public void testDatabaseNoMem() throws SQLException {\r\n        testDatabase(&quot;jdbc:h2:test&quot;);\r\n    }\r\n    @Test\r\n    public void testDatabaseMem() throws SQLException {\r\n        testDatabase(&quot;jdbc:h2:mem:test&quot;);\r\n    }\r\n\r\n    private void testDatabase(String url) throws SQLException {\r\n        Connection connection= DriverManager.getConnection(url);\r\n        Statement s=connection.createStatement();\r\n        try {\r\n        s.execute(&quot;DROP TABLE PERSON&quot;);\r\n        } catch(SQLException sqle) {\r\n            System.out.println(&quot;Table not found, not dropping&quot;);\r\n        }\r\n        s.execute(&quot;CREATE TABLE PERSON (ID INT PRIMARY KEY, FIRSTNAME VARCHAR(64), LASTNAME VARCHAR(64))&quot;);\r\n        PreparedStatement ps=connection.prepareStatement(&quot;select * from PERSON&quot;);\r\n        ResultSet r=ps.executeQuery();\r\n        if(r.next()) {\r\n            System.out.println(&quot;data?&quot;);\r\n        }\r\n        r.close();\r\n        ps.close();\r\n        s.close();\r\n        connection.close();\r\n    }\r\n    }\r\n\r\nThe test ran to completion, with no failures and no unexpected output. Which version of h2 are you running?","title":"H2 in-memory database. Table not found","body":"<p>Hard to tell. I created a program to test this: </p>\n\n<pre><code>package com.gigaspaces.compass;\n\nimport org.testng.annotations.Test;\n\nimport java.sql.*;\n\npublic class H2Test {\n@Test\npublic void testDatabaseNoMem() throws SQLException {\n    testDatabase(\"jdbc:h2:test\");\n}\n@Test\npublic void testDatabaseMem() throws SQLException {\n    testDatabase(\"jdbc:h2:mem:test\");\n}\n\nprivate void testDatabase(String url) throws SQLException {\n    Connection connection= DriverManager.getConnection(url);\n    Statement s=connection.createStatement();\n    try {\n    s.execute(\"DROP TABLE PERSON\");\n    } catch(SQLException sqle) {\n        System.out.println(\"Table not found, not dropping\");\n    }\n    s.execute(\"CREATE TABLE PERSON (ID INT PRIMARY KEY, FIRSTNAME VARCHAR(64), LASTNAME VARCHAR(64))\");\n    PreparedStatement ps=connection.prepareStatement(\"select * from PERSON\");\n    ResultSet r=ps.executeQuery();\n    if(r.next()) {\n        System.out.println(\"data?\");\n    }\n    r.close();\n    ps.close();\n    s.close();\n    connection.close();\n}\n}\n</code></pre>\n\n<p>The test ran to completion, with no failures and no unexpected output. Which version of h2 are you running?</p>\n"},{"tags":[],"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1303560433,"creation_date":1303560433,"answer_id":5764068,"question_id":5763747,"body_markdown":"The H2 in-memory database stores data in memory inside the JVM.  When the JVM exits, this data is lost.  \r\n\r\nI suspect that what you are doing is similar to the two Java classes below.  One of these classes creates a table and the other tries to insert into it:\r\n\r\n    import java.sql.*;\r\n    \r\n    public class CreateTable {\r\n        public static void main(String[] args) throws Exception {\r\n            DriverManager.registerDriver(new org.h2.Driver());\r\n            Connection c = DriverManager.getConnection(&quot;jdbc:h2:mem:test&quot;);\r\n            PreparedStatement stmt = c.prepareStatement(&quot;CREATE TABLE PERSON (ID INT PRIMARY KEY, FIRSTNAME VARCHAR(64), LASTNAME VARCHAR(64))&quot;);\r\n            stmt.execute();\r\n            stmt.close();\r\n            c.close();\r\n        }\r\n    }\r\n\r\nand\r\n\r\n    import java.sql.*;\r\n    \r\n    public class InsertIntoTable {\r\n        public static void main(String[] args) throws Exception {\r\n            DriverManager.registerDriver(new org.h2.Driver());\r\n            Connection c = DriverManager.getConnection(&quot;jdbc:h2:mem:test&quot;);\r\n            PreparedStatement stmt = c.prepareStatement(&quot;INSERT INTO PERSON (ID, FIRSTNAME, LASTNAME) VALUES (1, &#39;John&#39;, &#39;Doe&#39;)&quot;);\r\n            stmt.execute();\r\n            stmt.close();\r\n            c.close();\r\n        }\r\n    }\r\n\r\nWhen I ran these classes one after the other, I got the following output:\r\n\r\n&lt;pre&gt;\r\nC:\\Users\\Luke\\stuff&gt;java CreateTable\r\n\r\nC:\\Users\\Luke\\stuff&gt;java InsertIntoTable\r\nException in thread &quot;main&quot; org.h2.jdbc.JdbcSQLException: Table &quot;PERSON&quot; not found; SQL statement:\r\nINSERT INTO PERSON (ID, FIRSTNAME, LASTNAME) VALUES (1, &#39;John&#39;, &#39;Doe&#39;) [42102-154]\r\n        at org.h2.message.DbException.getJdbcSQLException(DbException.java:327)\r\n        at org.h2.message.DbException.get(DbException.java:167)\r\n        at org.h2.message.DbException.get(DbException.java:144)\r\n        ...\r\n&lt;/pre&gt;\r\nAs soon as the first `java` process exits, the table created by `CreateTable` no longer exists.  So, when the InsertIntoTable class comes along, there&#39;s no table for it to insert into.\r\n\r\nWhen I changed the connection strings to `jdbc:h2:test`, I found that there was no such error.  I also found that a file `test.h2.db` had appeared.  This was where H2 had put the table, and since it had been stored on disk, the table was still there for the InsertIntoTable class to find.\r\n\r\n","title":"H2 in-memory database. Table not found","body":"<p>The H2 in-memory database stores data in memory inside the JVM.  When the JVM exits, this data is lost.  </p>\n\n<p>I suspect that what you are doing is similar to the two Java classes below.  One of these classes creates a table and the other tries to insert into it:</p>\n\n<pre><code>import java.sql.*;\n\npublic class CreateTable {\n    public static void main(String[] args) throws Exception {\n        DriverManager.registerDriver(new org.h2.Driver());\n        Connection c = DriverManager.getConnection(\"jdbc:h2:mem:test\");\n        PreparedStatement stmt = c.prepareStatement(\"CREATE TABLE PERSON (ID INT PRIMARY KEY, FIRSTNAME VARCHAR(64), LASTNAME VARCHAR(64))\");\n        stmt.execute();\n        stmt.close();\n        c.close();\n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>import java.sql.*;\n\npublic class InsertIntoTable {\n    public static void main(String[] args) throws Exception {\n        DriverManager.registerDriver(new org.h2.Driver());\n        Connection c = DriverManager.getConnection(\"jdbc:h2:mem:test\");\n        PreparedStatement stmt = c.prepareStatement(\"INSERT INTO PERSON (ID, FIRSTNAME, LASTNAME) VALUES (1, 'John', 'Doe')\");\n        stmt.execute();\n        stmt.close();\n        c.close();\n    }\n}\n</code></pre>\n\n<p>When I ran these classes one after the other, I got the following output:</p>\n\n<pre>\nC:\\Users\\Luke\\stuff>java CreateTable\n\nC:\\Users\\Luke\\stuff>java InsertIntoTable\nException in thread \"main\" org.h2.jdbc.JdbcSQLException: Table \"PERSON\" not found; SQL statement:\nINSERT INTO PERSON (ID, FIRSTNAME, LASTNAME) VALUES (1, 'John', 'Doe') [42102-154]\n        at org.h2.message.DbException.getJdbcSQLException(DbException.java:327)\n        at org.h2.message.DbException.get(DbException.java:167)\n        at org.h2.message.DbException.get(DbException.java:144)\n        ...\n</pre>\n\n<p>As soon as the first <code>java</code> process exits, the table created by <code>CreateTable</code> no longer exists.  So, when the InsertIntoTable class comes along, there's no table for it to insert into.</p>\n\n<p>When I changed the connection strings to <code>jdbc:h2:test</code>, I found that there was no such error.  I also found that a file <code>test.h2.db</code> had appeared.  This was where H2 had put the table, and since it had been stored on disk, the table was still there for the InsertIntoTable class to find.</p>\n"},{"tags":[],"owner":{"account_id":387025,"reputation":4276,"user_id":745139,"display_name":"reini2901"},"down_vote_count":0,"up_vote_count":426,"is_accepted":true,"score":426,"last_activity_date":1592693210,"creation_date":1304944749,"answer_id":5936988,"question_id":5763747,"body_markdown":"# `DB_CLOSE_DELAY=-1`\r\n\r\nhbm2ddl closes the connection after creating the table, so h2 discards it.\r\n\r\nIf you have your connection-url configured like this\r\n\r\n    jdbc:h2:mem:test\r\n\r\nthe content of the database is lost at the moment the last connection is closed.\r\n\r\nIf you want to keep your content you have to configure the url like this\r\n\r\n    jdbc:h2:mem:test;DB_CLOSE_DELAY=-1\r\n\r\nIf doing so, **h2** will keep its content as long as the **vm** lives. \r\n\r\nNotice the semicolon (`;`) rather than colon (`:`). \r\n\r\n\r\nSee the [*In-Memory Databases*](http://h2database.com/html/features.html#in_memory_databases) section of the *Features* page. To quote:\r\n\r\n&gt;By default, closing the last connection to a database closes the database. For an in-memory database, this means the content is lost. To keep the database open, add `;DB_CLOSE_DELAY=-1` to the database URL. To keep the content of an in-memory database as long as the virtual machine is alive, use `jdbc:h2:mem:test;DB_CLOSE_DELAY=-1`.","title":"H2 in-memory database. Table not found","body":"<h1><code>DB_CLOSE_DELAY=-1</code></h1>\n<p>hbm2ddl closes the connection after creating the table, so h2 discards it.</p>\n<p>If you have your connection-url configured like this</p>\n<pre><code>jdbc:h2:mem:test\n</code></pre>\n<p>the content of the database is lost at the moment the last connection is closed.</p>\n<p>If you want to keep your content you have to configure the url like this</p>\n<pre><code>jdbc:h2:mem:test;DB_CLOSE_DELAY=-1\n</code></pre>\n<p>If doing so, <strong>h2</strong> will keep its content as long as the <strong>vm</strong> lives.</p>\n<p>Notice the semicolon (<code>;</code>) rather than colon (<code>:</code>).</p>\n<p>See the <a href=\"http://h2database.com/html/features.html#in_memory_databases\" rel=\"noreferrer\"><em>In-Memory Databases</em></a> section of the <em>Features</em> page. To quote:</p>\n<blockquote>\n<p>By default, closing the last connection to a database closes the database. For an in-memory database, this means the content is lost. To keep the database open, add <code>;DB_CLOSE_DELAY=-1</code> to the database URL. To keep the content of an in-memory database as long as the virtual machine is alive, use <code>jdbc:h2:mem:test;DB_CLOSE_DELAY=-1</code>.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":110730,"reputation":3980,"user_id":292921,"accept_rate":72,"display_name":"Cristian Vrabie"},"down_vote_count":1,"up_vote_count":158,"is_accepted":false,"score":157,"last_activity_date":1375105339,"creation_date":1375105339,"answer_id":17925668,"question_id":5763747,"body_markdown":"I know this was not your case but I had the same problem because H2 was creating the tables with UPPERCASE names then behaving case-sensitive, even though in all scripts (including in the creation ones) i used lowercase. \r\n\r\nSolved by adding `;DATABASE_TO_UPPER=false` to the connection URL. ","title":"H2 in-memory database. Table not found","body":"<p>I know this was not your case but I had the same problem because H2 was creating the tables with UPPERCASE names then behaving case-sensitive, even though in all scripts (including in the creation ones) i used lowercase. </p>\n\n<p>Solved by adding <code>;DATABASE_TO_UPPER=false</code> to the connection URL. </p>\n"},{"tags":[],"owner":{"account_id":1016479,"reputation":4497,"user_id":1074245,"display_name":"Oscar Fraxedas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1419370374,"creation_date":1419370374,"answer_id":27628322,"question_id":5763747,"body_markdown":"I came to this post because I had the same error.\r\n\r\nIn my case the database evolutions weren&#39;t been executed, so the table wasn&#39;t there at all.\r\n\r\nMy problem was that the folder structure for the evolution scripts was wrong.\r\n\r\nfrom: https://www.playframework.com/documentation/2.0/Evolutions\r\n&gt; Play tracks your database evolutions using several evolutions script. These scripts are written in plain old SQL and should be located in the conf/evolutions/{database name} directory of your application. If the evolutions apply to your default database, this path is conf/evolutions/default.\r\n\r\nI had a folder called **conf/evolutions.default** created by eclipse. The issue disappeared after I corrected the folder structure to **conf/evolutions/default**","title":"H2 in-memory database. Table not found","body":"<p>I came to this post because I had the same error.</p>\n\n<p>In my case the database evolutions weren't been executed, so the table wasn't there at all.</p>\n\n<p>My problem was that the folder structure for the evolution scripts was wrong.</p>\n\n<p>from: <a href=\"https://www.playframework.com/documentation/2.0/Evolutions\" rel=\"nofollow\">https://www.playframework.com/documentation/2.0/Evolutions</a></p>\n\n<blockquote>\n  <p>Play tracks your database evolutions using several evolutions script. These scripts are written in plain old SQL and should be located in the conf/evolutions/{database name} directory of your application. If the evolutions apply to your default database, this path is conf/evolutions/default.</p>\n</blockquote>\n\n<p>I had a folder called <strong>conf/evolutions.default</strong> created by eclipse. The issue disappeared after I corrected the folder structure to <strong>conf/evolutions/default</strong></p>\n"},{"tags":[],"owner":{"account_id":6890236,"reputation":1523,"user_id":5294016,"display_name":"DevDio"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1502370406,"creation_date":1482666465,"answer_id":41320865,"question_id":5763747,"body_markdown":"I have tried to add\r\n \r\n    jdbc:h2:mem:test;DB_CLOSE_DELAY=-1\r\n\r\nHowever, that didn&#39;t helped. On the [H2 site][1], I have found following, which indeed could help in some cases.\r\n\r\n&gt; By default, closing the last connection to a database closes the database. For an in-memory database, this means the content is lost. To keep the database open, add ;DB_CLOSE_DELAY=-1 to the database URL. To keep the content of an in-memory database as long as the virtual machine is alive, use jdbc:h2:mem:test;DB_CLOSE_DELAY=-1.\r\n\r\n\r\n**However**, my issue was that just the schema supposed to be different than default one. So insted of using \r\n\r\n    JDBC URL: jdbc:h2:mem:test\r\n\r\nI had to use:\r\n\r\n    JDBC URL: jdbc:h2:mem:testdb\r\n\r\nThen the tables were visible\r\n\r\n  [1]: http://www.h2database.com/html/features.html","title":"H2 in-memory database. Table not found","body":"<p>I have tried to add</p>\n\n<pre><code>jdbc:h2:mem:test;DB_CLOSE_DELAY=-1\n</code></pre>\n\n<p>However, that didn't helped. On the <a href=\"http://www.h2database.com/html/features.html\" rel=\"noreferrer\">H2 site</a>, I have found following, which indeed could help in some cases.</p>\n\n<blockquote>\n  <p>By default, closing the last connection to a database closes the database. For an in-memory database, this means the content is lost. To keep the database open, add ;DB_CLOSE_DELAY=-1 to the database URL. To keep the content of an in-memory database as long as the virtual machine is alive, use jdbc:h2:mem:test;DB_CLOSE_DELAY=-1.</p>\n</blockquote>\n\n<p><strong>However</strong>, my issue was that just the schema supposed to be different than default one. So insted of using </p>\n\n<pre><code>JDBC URL: jdbc:h2:mem:test\n</code></pre>\n\n<p>I had to use:</p>\n\n<pre><code>JDBC URL: jdbc:h2:mem:testdb\n</code></pre>\n\n<p>Then the tables were visible</p>\n"},{"tags":[],"owner":{"account_id":66899,"reputation":11449,"user_id":196032,"accept_rate":49,"display_name":"Alex R"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483209309,"creation_date":1483209309,"answer_id":41410838,"question_id":5763747,"body_markdown":"\t&lt;bean id=&quot;benchmarkDataSource&quot;\r\n\t\tclass=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n\t\t&lt;property name=&quot;driverClassName&quot; value=&quot;org.h2.Driver&quot; /&gt;\r\n\t\t&lt;property name=&quot;url&quot; value=&quot;jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1&quot; /&gt;\r\n\t\t&lt;property name=&quot;username&quot; value=&quot;sa&quot; /&gt;\r\n\t\t&lt;property name=&quot;password&quot; value=&quot;&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n","title":"H2 in-memory database. Table not found","body":"<pre><code>&lt;bean id=\"benchmarkDataSource\"\n    class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n    &lt;property name=\"driverClassName\" value=\"org.h2.Driver\" /&gt;\n    &lt;property name=\"url\" value=\"jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1\" /&gt;\n    &lt;property name=\"username\" value=\"sa\" /&gt;\n    &lt;property name=\"password\" value=\"\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15049960,"reputation":65,"user_id":10861928,"display_name":"N.MATHIEU"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1546508890,"creation_date":1546508890,"answer_id":54019782,"question_id":5763747,"body_markdown":"Solved by creating a new src/test/resources folder + insert application.properties file, explicitly specifying to create a test dbase :\r\n\r\n    spring.jpa.generate-ddl=true\r\n    spring.jpa.hibernate.ddl-auto=create","title":"H2 in-memory database. Table not found","body":"<p>Solved by creating a new src/test/resources folder + insert application.properties file, explicitly specifying to create a test dbase :</p>\n\n<pre><code>spring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=create\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11793534,"reputation":982,"user_id":8628851,"display_name":"Georgi Peev"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1554374153,"creation_date":1554374153,"answer_id":55513792,"question_id":5763747,"body_markdown":"I had the same problem and changed my configuration in application-test.properties to this:\r\n\r\n    #Test Properties\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n\r\nAnd my dependencies:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/com.h2database/h2 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.198&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nAnd the annotations used on test class:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @DataJpaTest\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    public class CommentServicesIntegrationTests {\r\n    ...\r\n    }","title":"H2 in-memory database. Table not found","body":"<p>I had the same problem and changed my configuration in application-test.properties to this:</p>\n\n<pre><code>#Test Properties\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1\nspring.datasource.username=sa\nspring.datasource.password=\nspring.jpa.hibernate.ddl-auto=create-drop\n</code></pre>\n\n<p>And my dependencies:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.h2database/h2 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;version&gt;1.4.198&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>And the annotations used on test class:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@DataJpaTest\n@ActiveProfiles(\"test\")\npublic class CommentServicesIntegrationTests {\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9269730,"reputation":61,"user_id":6884121,"display_name":"Miguel Angel Vega Pabon"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1556304350,"creation_date":1556304350,"answer_id":55873378,"question_id":5763747,"body_markdown":"I was trying to fetch table meta data, but had the following error:\r\n\r\nUsing:\r\n\r\n    String JDBC_URL = &quot;jdbc:h2:mem:test;DB_CLOSE_DELAY=-1&quot;;\r\n\r\n    DatabaseMetaData metaData = connection.getMetaData();\r\n    ...\r\n    metaData.getColumns(...);\r\n\r\nreturned an empty ResultSet.\r\n\r\nBut using the following URL instead it worked properly:\r\n\r\n    String JDBC_URL = &quot;jdbc:h2:mem:test;DB_CLOSE_DELAY=-1;DATABASE_TO_UPPER=false&quot;;\r\n\r\nThere was a need to specify: **DATABASE_TO_UPPER=false**\r\n","title":"H2 in-memory database. Table not found","body":"<p>I was trying to fetch table meta data, but had the following error:</p>\n\n<p>Using:</p>\n\n<pre><code>String JDBC_URL = \"jdbc:h2:mem:test;DB_CLOSE_DELAY=-1\";\n\nDatabaseMetaData metaData = connection.getMetaData();\n...\nmetaData.getColumns(...);\n</code></pre>\n\n<p>returned an empty ResultSet.</p>\n\n<p>But using the following URL instead it worked properly:</p>\n\n<pre><code>String JDBC_URL = \"jdbc:h2:mem:test;DB_CLOSE_DELAY=-1;DATABASE_TO_UPPER=false\";\n</code></pre>\n\n<p>There was a need to specify: <strong>DATABASE_TO_UPPER=false</strong></p>\n"},{"tags":[],"owner":{"account_id":2243324,"reputation":6382,"user_id":1977315,"accept_rate":74,"display_name":"nagy.zsolt.hun"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1567143104,"creation_date":1567143104,"answer_id":57720965,"question_id":5763747,"body_markdown":"When opening the h2-console, the JDBC URL must match the one specified in the properties:\r\n\r\n\tspring.datasource.driverClassName=org.h2.Driver\r\n\tspring.datasource.url=jdbc:h2:mem:testdb\r\n\t\r\n\tspring.jpa.hibernate.ddl-auto=create\r\n\tspring.jpa.show-sql=true\r\n\t\r\n\tspring.h2.console.enabled=true\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhich seems obvious, but I spent hours figuring this out..\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wEEze.png","title":"H2 in-memory database. Table not found","body":"<p>When opening the h2-console, the JDBC URL must match the one specified in the properties:</p>\n\n<pre><code>spring.datasource.driverClassName=org.h2.Driver\nspring.datasource.url=jdbc:h2:mem:testdb\n\nspring.jpa.hibernate.ddl-auto=create\nspring.jpa.show-sql=true\n\nspring.h2.console.enabled=true\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/wEEze.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wEEze.png\" alt=\"enter image description here\"></a></p>\n\n<p>Which seems obvious, but I spent hours figuring this out..</p>\n"},{"tags":[],"owner":{"account_id":2800134,"reputation":145,"user_id":2408521,"accept_rate":67,"display_name":"Tudor Gafiuc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585650168,"creation_date":1585650168,"answer_id":60948345,"question_id":5763747,"body_markdown":"Had the exact same issue, tried all the above, but without success.\r\nThe rather funny cause of the error was that **the JVM started too fast, before the DB table was created** (using a data.sql file in src.main.resources). So I&#39;ve put a Thread.sleep(1000) timer to wait for just a second before calling &quot;select * from person&quot;.\r\nWorking flawlessly now.\r\n\r\napplication.properties:\r\n\r\n    spring.h2.console.enabled=true\r\n    spring.datasource.url=jdbc:h2:mem:testdb\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=\r\n\r\n\r\ndata.sql:\r\n\r\n    create table person\r\n    (\r\n    id integer not null,\r\n    name varchar(255) not null,\r\n    location varchar(255),\r\n    birth_date timestamp,\r\n    primary key(id)\r\n    );\r\n    \r\n    insert into person values (\r\n    10001, &#39;Tofu&#39;, &#39;home&#39;, sysdate()\r\n    );\r\n\r\nPersonJdbcDAO.java:\r\n\r\n        public List&lt;Person&gt; findAllPersons(){\r\n        return jdbcTemplate.query(&quot;select * from person&quot;, \r\n            new BeanPropertyRowMapper&lt;Person&gt;(Person.class));\r\n    }\r\n\r\nmain class:\r\n\r\n\tThread.sleep(1000);\r\n\tlogger.info(&quot;All users -&gt; {}&quot;, dao.findAllPersons());\r\n\r\n","title":"H2 in-memory database. Table not found","body":"<p>Had the exact same issue, tried all the above, but without success.\nThe rather funny cause of the error was that <strong>the JVM started too fast, before the DB table was created</strong> (using a data.sql file in src.main.resources). So I've put a Thread.sleep(1000) timer to wait for just a second before calling \"select * from person\".\nWorking flawlessly now.</p>\n\n<p>application.properties:</p>\n\n<pre><code>spring.h2.console.enabled=true\nspring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=\n</code></pre>\n\n<p>data.sql:</p>\n\n<pre><code>create table person\n(\nid integer not null,\nname varchar(255) not null,\nlocation varchar(255),\nbirth_date timestamp,\nprimary key(id)\n);\n\ninsert into person values (\n10001, 'Tofu', 'home', sysdate()\n);\n</code></pre>\n\n<p>PersonJdbcDAO.java:</p>\n\n<pre><code>    public List&lt;Person&gt; findAllPersons(){\n    return jdbcTemplate.query(\"select * from person\", \n        new BeanPropertyRowMapper&lt;Person&gt;(Person.class));\n}\n</code></pre>\n\n<p>main class:</p>\n\n<pre><code>Thread.sleep(1000);\nlogger.info(\"All users -&gt; {}\", dao.findAllPersons());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2337627,"reputation":803,"user_id":2049580,"display_name":"Bagesh Sharma"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1611592257,"creation_date":1588489903,"answer_id":61570850,"question_id":5763747,"body_markdown":"I found it working after adding the dependency of ***Spring Data JPA*** -\r\n\r\n    \r\n\r\n        &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n\r\nAdd H2 DB configuration in application.yml -\r\n\r\n    spring:\r\n      datasource:\r\n        driverClassName: org.h2.Driver\r\n        initialization-mode: always\r\n        username: sa\r\n        password: &#39;&#39;\r\n        url: jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE\r\n      h2:\r\n        console:\r\n          enabled: true\r\n          path: /h2\r\n      jpa:\r\n        database-platform: org.hibernate.dialect.H2Dialect\r\n        hibernate:\r\n          ddl-auto: none\r\n\r\n\r\n","title":"H2 in-memory database. Table not found","body":"<p>I found it working after adding the dependency of <em><strong>Spring Data JPA</strong></em> -</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Add H2 DB configuration in application.yml -</p>\n<pre><code>spring:\n  datasource:\n    driverClassName: org.h2.Driver\n    initialization-mode: always\n    username: sa\n    password: ''\n    url: jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE\n  h2:\n    console:\n      enabled: true\n      path: /h2\n  jpa:\n    database-platform: org.hibernate.dialect.H2Dialect\n    hibernate:\n      ddl-auto: none\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7586353,"reputation":475,"user_id":5755317,"display_name":"mathan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1595410380,"creation_date":1595410380,"answer_id":63031143,"question_id":5763747,"body_markdown":"I have tried the above solution,but in my case as suggested in the console added the property **DB_CLOSE_ON_EXIT=FALSE**, it fixed the issue.\r\n\r\n\r\n\r\n \r\n\r\n     spring.datasource.url=jdbc:h2:mem:testdb;DATABASE_TO_UPPER=false;DB_CLOSE_ON_EXIT=FALSE","title":"H2 in-memory database. Table not found","body":"<p>I have tried the above solution,but in my case as suggested in the console added the property <strong>DB_CLOSE_ON_EXIT=FALSE</strong>, it fixed the issue.</p>\n<pre><code> spring.datasource.url=jdbc:h2:mem:testdb;DATABASE_TO_UPPER=false;DB_CLOSE_ON_EXIT=FALSE\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5581952,"reputation":125,"user_id":4423575,"display_name":"stergipe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1620743388,"creation_date":1608204663,"answer_id":65339874,"question_id":5763747,"body_markdown":"I have tried adding `;DATABASE_TO_UPPER=false` parameter, which it did work in a single test, but what did the trick for me was `;CASE_INSENSITIVE_IDENTIFIERS=TRUE`. \r\n\r\nAt the end I had: `jdbc:h2:mem:testdb;CASE_INSENSITIVE_IDENTIFIERS=TRUE`\r\n\r\nMoreover, the problem for me was when I upgraded to `Spring Boot 2.4.1`.","title":"H2 in-memory database. Table not found","body":"<p>I have tried adding <code>;DATABASE_TO_UPPER=false</code> parameter, which it did work in a single test, but what did the trick for me was <code>;CASE_INSENSITIVE_IDENTIFIERS=TRUE</code>.</p>\n<p>At the end I had: <code>jdbc:h2:mem:testdb;CASE_INSENSITIVE_IDENTIFIERS=TRUE</code></p>\n<p>Moreover, the problem for me was when I upgraded to <code>Spring Boot 2.4.1</code>.</p>\n"},{"tags":[],"owner":{"account_id":16482688,"reputation":51,"user_id":11909008,"display_name":"Guram Kankava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620929509,"creation_date":1620929509,"answer_id":67524137,"question_id":5763747,"body_markdown":"In my case missing table error was happening during jpa test, table was created by schem.sql file, problem was fixed after puting @org.springframework.transaction.annotation.Transactional on test","title":"H2 in-memory database. Table not found","body":"<p>In my case missing table error was happening during jpa test, table was created by schem.sql file, problem was fixed after puting @org.springframework.transaction.annotation.Transactional on test</p>\n"},{"tags":[],"owner":{"account_id":11275302,"reputation":1030,"user_id":8269512,"display_name":"Shounak Bose"},"down_vote_count":0,"up_vote_count":100,"is_accepted":false,"score":100,"last_activity_date":1624376536,"creation_date":1624376536,"answer_id":68086707,"question_id":5763747,"body_markdown":"For Spring Boot 2.4+ \r\nuse\r\n **spring.jpa.defer-datasource-initialization=true**\r\nin application.properties","title":"H2 in-memory database. Table not found","body":"<p>For Spring Boot 2.4+\nuse\n<strong>spring.jpa.defer-datasource-initialization=true</strong>\nin application.properties</p>\n"},{"tags":[],"owner":{"account_id":6531570,"reputation":421,"user_id":8219358,"display_name":"HARSHIT BAJPAI"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1690219068,"creation_date":1627540266,"answer_id":68571114,"question_id":5763747,"body_markdown":"I might be a little late to the party, but I faced exactly the same error and I tried pretty much every solution mentioned here and on other websites such as `*DATABASE_TO_UPPER=false;DB_CLOSE_DELAY=-1; DB_CLOSE_ON_EXIT=FALSE; IGNORECASE=TRUE*`. But nothing worked for me. \r\n\r\nWhat worked for me was **renaming data.sql to import.sql** \r\n\r\nI found it here - https://stackoverflow.com/a/53179547/8219358\r\n\r\n**Or** \r\n\r\n\r\nFor Spring Boot 2.4+ use **spring.jpa.defer-datasource-initialization=true** in application.properties (mentioned here - https://stackoverflow.com/a/68086707/8219358)\r\n\r\nI realize other solutions are more logical but none of them worked for me and this did. ","title":"H2 in-memory database. Table not found","body":"<p>I might be a little late to the party, but I faced exactly the same error and I tried pretty much every solution mentioned here and on other websites such as <code>*DATABASE_TO_UPPER=false;DB_CLOSE_DELAY=-1; DB_CLOSE_ON_EXIT=FALSE; IGNORECASE=TRUE*</code>. But nothing worked for me.</p>\n<p>What worked for me was <strong>renaming data.sql to import.sql</strong></p>\n<p>I found it here - <a href=\"https://stackoverflow.com/a/53179547/8219358\">https://stackoverflow.com/a/53179547/8219358</a></p>\n<p><strong>Or</strong></p>\n<p>For Spring Boot 2.4+ use <strong>spring.jpa.defer-datasource-initialization=true</strong> in application.properties (mentioned here - <a href=\"https://stackoverflow.com/a/68086707/8219358\">https://stackoverflow.com/a/68086707/8219358</a>)</p>\n<p>I realize other solutions are more logical but none of them worked for me and this did.</p>\n"},{"tags":[],"owner":{"account_id":1979652,"reputation":7771,"user_id":2161118,"display_name":"S34N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632294292,"creation_date":1632294292,"answer_id":69279622,"question_id":5763747,"body_markdown":"In my case, I had used the special keywords for my column-names in the table, H2 Database. If you&#39;re using different databases avoid those special keywords across different databases. Spring &amp; Hibernate isn&#39;t smart enough to tell you exactly which column names are prohibited or where the exact error is in the table-creation.\r\nKeywords such as; \r\n\r\n&gt; desc, interval, metric\r\n\r\n\r\n\r\nTo resolve the issues I was experiencing, I renamed those fields to: \r\n\r\n&gt; descr, time_interval, time_metric\r\n\r\nhttp://www.h2database.com/html/advanced.html","title":"H2 in-memory database. Table not found","body":"<p>In my case, I had used the special keywords for my column-names in the table, H2 Database. If you're using different databases avoid those special keywords across different databases. Spring &amp; Hibernate isn't smart enough to tell you exactly which column names are prohibited or where the exact error is in the table-creation.\nKeywords such as;</p>\n<blockquote>\n<p>desc, interval, metric</p>\n</blockquote>\n<p>To resolve the issues I was experiencing, I renamed those fields to:</p>\n<blockquote>\n<p>descr, time_interval, time_metric</p>\n</blockquote>\n<p><a href=\"http://www.h2database.com/html/advanced.html\" rel=\"nofollow noreferrer\">http://www.h2database.com/html/advanced.html</a></p>\n"},{"tags":[],"owner":{"account_id":14659943,"reputation":124,"user_id":10587465,"display_name":"Waheed Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633901611,"creation_date":1633901611,"answer_id":69519153,"question_id":5763747,"body_markdown":"       Use the same in applications.properties file\r\n       \r\n       spring.jpa.show-sql=true\r\n       spring.datasource.url=jdbc:h2:mem:testdb;DATABASE_TO_UPPER=false\r\n       DB_CLOSE_ON_EXIT=FALSE\r\n       spring.data.jpa.repositories.bootstrap-mode=default\r\n       spring.h2.console.enabled=true spring.jpa.generate-ddl=true\r\n       spring.jpa.hibernate.ddl-auto=create\r\n       spring.datasource.driverClassName=org.h2.Driver\r\n       spring.jpa.defer-datasource-initialization=true","title":"H2 in-memory database. Table not found","body":"<pre><code>   Use the same in applications.properties file\n   \n   spring.jpa.show-sql=true\n   spring.datasource.url=jdbc:h2:mem:testdb;DATABASE_TO_UPPER=false\n   DB_CLOSE_ON_EXIT=FALSE\n   spring.data.jpa.repositories.bootstrap-mode=default\n   spring.h2.console.enabled=true spring.jpa.generate-ddl=true\n   spring.jpa.hibernate.ddl-auto=create\n   spring.datasource.driverClassName=org.h2.Driver\n   spring.jpa.defer-datasource-initialization=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14698858,"reputation":519,"user_id":10615480,"display_name":"khalid tounoussi"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1640818970,"creation_date":1640818970,"answer_id":70525879,"question_id":5763747,"body_markdown":"One reason can be that jpa tries to insert data before creating table structure, in order to solve this problem , insert this line in application.properties :\r\n\r\n    spring.jpa.defer-datasource-initialization=true","title":"H2 in-memory database. Table not found","body":"<p>One reason can be that jpa tries to insert data before creating table structure, in order to solve this problem , insert this line in application.properties :</p>\n<pre><code>spring.jpa.defer-datasource-initialization=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2714938,"reputation":6041,"user_id":2342529,"accept_rate":98,"display_name":"Alexandru Severin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653650831,"creation_date":1653650831,"answer_id":72404714,"question_id":5763747,"body_markdown":"The issue can also happen if there was error while generating the table.\r\n\r\nIf the entities use any features which are not supported by H2 (for example, specifying a non-standard columnDefinition), the schema generation will fail and test will continue without the database generated. \r\n\r\nIn this case, somewhere in the logs you will find this:\r\n```\r\nWARN ExceptionHandlerLoggedImpl: GenerationTarget encountered exception accepting command :\r\n Error executing DDL &quot;create table ...&quot; via JDBC Statement\r\n```","title":"H2 in-memory database. Table not found","body":"<p>The issue can also happen if there was error while generating the table.</p>\n<p>If the entities use any features which are not supported by H2 (for example, specifying a non-standard columnDefinition), the schema generation will fail and test will continue without the database generated.</p>\n<p>In this case, somewhere in the logs you will find this:</p>\n<pre><code>WARN ExceptionHandlerLoggedImpl: GenerationTarget encountered exception accepting command :\n Error executing DDL &quot;create table ...&quot; via JDBC Statement\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15031704,"reputation":66,"user_id":10931410,"display_name":"magdi amer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661739251,"creation_date":1661739251,"answer_id":73523577,"question_id":5763747,"body_markdown":"Had similar problem\r\nSolution was to add the following to application.properties\r\n\r\n**spring.jpa.defer-datasource-initialization=true**","title":"H2 in-memory database. Table not found","body":"<p>Had similar problem\nSolution was to add the following to application.properties</p>\n<p><strong>spring.jpa.defer-datasource-initialization=true</strong></p>\n"},{"tags":[],"owner":{"account_id":20024941,"reputation":111,"user_id":14678978,"display_name":"Shane Park"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664895105,"creation_date":1664895105,"answer_id":73949784,"question_id":5763747,"body_markdown":"```java\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;user&quot; not found; SQL statement:\r\n```\r\n\r\nin my case, my table name was `user` but from H2 2.1.212 user is reserved so couldn&#39;t make the table \r\n\r\nchanged table name users by @Table(name=&quot;users&quot;) and \r\n\r\n```yaml\r\ndatasource:\r\n  url: jdbc:h2:mem:testdb;DATABASE_TO_UPPER=false;DB_CLOSE_DELAY=-1;\r\n```\r\nand it works now","title":"H2 in-memory database. Table not found","body":"<pre class=\"lang-java prettyprint-override\"><code>Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;user&quot; not found; SQL statement:\n</code></pre>\n<p>in my case, my table name was <code>user</code> but from H2 2.1.212 user is reserved so couldn't make the table</p>\n<p>changed table name users by @Table(name=&quot;users&quot;) and</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>datasource:\n  url: jdbc:h2:mem:testdb;DATABASE_TO_UPPER=false;DB_CLOSE_DELAY=-1;\n</code></pre>\n<p>and it works now</p>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676825909,"creation_date":1676825909,"answer_id":75501825,"question_id":5763747,"body_markdown":"I suspect the database you opened is **a brand new db**, not your application db. This is because:\r\n\r\n - H2 in-memory database by default is **private to the JVM and the classloader**. It cannot be connected from another process/with TCP from same machine/from another machine; that&#39;s why all the guides suggest using H2 console, because that&#39;s within the same JVM of your application so it can access the database(however, my H2 console shipped with Spring 2.6 is not working, I need to find another way)\r\n - H2 database can be launched in server mode, but &quot;;AUTO_SERVER=true&quot; does not work with in-memory db; it only can be added to the URL when you use a file based db; and to visit it you need to use **absolute path** to the db file, which is not portable and is ugly; additionally, auto-generation of tables are not done when you use a file so you need to create an init.sql to create tables. **AND**, when you connect H2 still tells you that you need server mode, because there is already one connection to the db(your app) and to allow 1+ connection, you need server mode\r\n\r\nSo in both cases you need server mode. How? \r\n\r\nIn Spring you need to create the DB as a bean(thanks to https://stackoverflow.com/questions/55830010/how-to-enable-h2-database-server-mode-in-spring-boot/55847035#55847035); put this into a `@Configuration` and you are done:\r\n\r\n    @Bean(initMethod = &quot;start&quot;, destroyMethod = &quot;stop&quot;)\r\n    public Server h2Server() throws SQLException {\r\n        return Server.createTcpServer(&quot;-tcp&quot;, &quot;-tcpAllowOthers&quot;, &quot;-tcpPort&quot;, &quot;1234&quot;); // or any other port\r\n    }\r\n\r\nYour db url:\r\n\r\n```yaml\r\nspring:\r\n  datasource:\r\n    url: jdbc:h2:mem:test\r\n    driver-class-name: org.h2.Driver\r\n    port: 1234\r\n    username: sa\r\n    password: sa\r\n```\r\n\r\nThat&#39;s all. You can connect with H2 console, or DB Navigator, or other tools along with your app right now. The connection string is:\r\n\r\n\r\n    jdbc:h2:tcp://localhost:1234/mem:test\r\n","title":"H2 in-memory database. Table not found","body":"<p>I suspect the database you opened is <strong>a brand new db</strong>, not your application db. This is because:</p>\n<ul>\n<li>H2 in-memory database by default is <strong>private to the JVM and the classloader</strong>. It cannot be connected from another process/with TCP from same machine/from another machine; that's why all the guides suggest using H2 console, because that's within the same JVM of your application so it can access the database(however, my H2 console shipped with Spring 2.6 is not working, I need to find another way)</li>\n<li>H2 database can be launched in server mode, but &quot;;AUTO_SERVER=true&quot; does not work with in-memory db; it only can be added to the URL when you use a file based db; and to visit it you need to use <strong>absolute path</strong> to the db file, which is not portable and is ugly; additionally, auto-generation of tables are not done when you use a file so you need to create an init.sql to create tables. <strong>AND</strong>, when you connect H2 still tells you that you need server mode, because there is already one connection to the db(your app) and to allow 1+ connection, you need server mode</li>\n</ul>\n<p>So in both cases you need server mode. How?</p>\n<p>In Spring you need to create the DB as a bean(thanks to <a href=\"https://stackoverflow.com/questions/55830010/how-to-enable-h2-database-server-mode-in-spring-boot/55847035#55847035\">How to enable H2 Database Server Mode in Spring Boot</a>); put this into a <code>@Configuration</code> and you are done:</p>\n<pre><code>@Bean(initMethod = &quot;start&quot;, destroyMethod = &quot;stop&quot;)\npublic Server h2Server() throws SQLException {\n    return Server.createTcpServer(&quot;-tcp&quot;, &quot;-tcpAllowOthers&quot;, &quot;-tcpPort&quot;, &quot;1234&quot;); // or any other port\n}\n</code></pre>\n<p>Your db url:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  datasource:\n    url: jdbc:h2:mem:test\n    driver-class-name: org.h2.Driver\n    port: 1234\n    username: sa\n    password: sa\n</code></pre>\n<p>That's all. You can connect with H2 console, or DB Navigator, or other tools along with your app right now. The connection string is:</p>\n<pre><code>jdbc:h2:tcp://localhost:1234/mem:test\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5962728,"reputation":2317,"user_id":4687402,"accept_rate":50,"display_name":"Benjamin Basmaci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684834982,"creation_date":1684834982,"answer_id":76313347,"question_id":5763747,"body_markdown":"This might be a beginners mistake but the error in my case was that, when I wanted to switch my DB to H2, I omitted a property that needed changing.\r\n\r\nNamely: `spring.jpa.properties.hibernate.dialect: org.hibernate.dialect.H2Dialect`\r\n\r\nOther usual suspects could be: \r\n* `spring.datasource.driver-class-name: org.h2.Driver`\r\n* `spring.datasource.url: jdbc:h2:file:./your/path`\r\n* `spring.jpa.hibernate.ddl-auto: ` where you might have set a wrong value\r\n\r\nI&#39;m not sure whether those would result in different error messages. However, they are still worth a quick check.","title":"H2 in-memory database. Table not found","body":"<p>This might be a beginners mistake but the error in my case was that, when I wanted to switch my DB to H2, I omitted a property that needed changing.</p>\n<p>Namely: <code>spring.jpa.properties.hibernate.dialect: org.hibernate.dialect.H2Dialect</code></p>\n<p>Other usual suspects could be:</p>\n<ul>\n<li><code>spring.datasource.driver-class-name: org.h2.Driver</code></li>\n<li><code>spring.datasource.url: jdbc:h2:file:./your/path</code></li>\n<li><code>spring.jpa.hibernate.ddl-auto: </code> where you might have set a wrong value</li>\n</ul>\n<p>I'm not sure whether those would result in different error messages. However, they are still worth a quick check.</p>\n"},{"tags":[],"owner":{"account_id":1525566,"reputation":1183,"user_id":1424108,"display_name":"ibai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687474002,"creation_date":1687474002,"answer_id":76536109,"question_id":5763747,"body_markdown":"If you are using `@DataJpaTest` you need to bear in mind that by default it **ignores the datasource defined in your properties** and creates a new one of its own.\r\n\r\nDue to this, most of the solutions will not work, specially if you are trying to use an in-memory database in combination with Flyway/Liquibase. For instance, `DB_CLOSE_DELAY=-1` connection property is ignored and setting `spring.jpa.defer-datasource-initialization=true` causes a circular dependency with Flyway.\r\n\r\nAllowing Hibernate to create the schema with `ddl-auto=create` is not ideal either if you want to ensure your migration scripts actually work, so the best solution is to use the `AutoConfigureTestDatabase` annotation to tell `@DataJpaTest` not to create its own database and to use the one defined in your properties files.\r\n\r\n```\r\n@DataJpaTest\r\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\nclass YourDatabaseIntegrationTest {\r\n    ...\r\n}\r\n```","title":"H2 in-memory database. Table not found","body":"<p>If you are using <code>@DataJpaTest</code> you need to bear in mind that by default it <strong>ignores the datasource defined in your properties</strong> and creates a new one of its own.</p>\n<p>Due to this, most of the solutions will not work, specially if you are trying to use an in-memory database in combination with Flyway/Liquibase. For instance, <code>DB_CLOSE_DELAY=-1</code> connection property is ignored and setting <code>spring.jpa.defer-datasource-initialization=true</code> causes a circular dependency with Flyway.</p>\n<p>Allowing Hibernate to create the schema with <code>ddl-auto=create</code> is not ideal either if you want to ensure your migration scripts actually work, so the best solution is to use the <code>AutoConfigureTestDatabase</code> annotation to tell <code>@DataJpaTest</code> not to create its own database and to use the one defined in your properties files.</p>\n<pre><code>@DataJpaTest\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\nclass YourDatabaseIntegrationTest {\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287024,"favorite_count":0,"down_vote_count":0,"up_vote_count":249,"accepted_answer_id":5936988,"answer_count":27,"score":249,"last_activity_date":1690219068,"creation_date":1303555890,"question_id":5763747,"body_markdown":"I&#39;ve got a H2 database with URL `&quot;jdbc:h2:test&quot;`. I create a table using `CREATE TABLE PERSON (ID INT PRIMARY KEY, FIRSTNAME VARCHAR(64), LASTNAME VARCHAR(64));`. I then select everything from this (empty) table using `SELECT * FROM PERSON`. So far, so good.\r\n\r\nHowever, if I change the URL to `&quot;jdbc:h2:mem:test&quot;`, the only difference being the database is now in memory only, this gives me an `org.h2.jdbc.JdbcSQLException: Table &quot;PERSON&quot; not found; SQL statement: SELECT * FROM PERSON [42102-154]`. I&#39;m probably missing something simple here, but any help would be appreciated.","title":"H2 in-memory database. Table not found","body":"<p>I've got a H2 database with URL <code>\"jdbc:h2:test\"</code>. I create a table using <code>CREATE TABLE PERSON (ID INT PRIMARY KEY, FIRSTNAME VARCHAR(64), LASTNAME VARCHAR(64));</code>. I then select everything from this (empty) table using <code>SELECT * FROM PERSON</code>. So far, so good.</p>\n\n<p>However, if I change the URL to <code>\"jdbc:h2:mem:test\"</code>, the only difference being the database is now in memory only, this gives me an <code>org.h2.jdbc.JdbcSQLException: Table \"PERSON\" not found; SQL statement: SELECT * FROM PERSON [42102-154]</code>. I'm probably missing something simple here, but any help would be appreciated.</p>\n"},{"tags":["java","html","web"],"comments":[{"owner":{"account_id":5850921,"reputation":1533,"user_id":4609621,"display_name":"Jasper Huzen"},"score":2,"creation_date":1579480417,"post_id":59815677,"comment_id":105769654,"body_markdown":"It&#39;s much simpler to use API client libraries (sdk&#39;s) for interfacing with social platforms.","body":"It&#39;s much simpler to use API client libraries (sdk&#39;s) for interfacing with social platforms."},{"owner":{"account_id":156983,"reputation":4517,"user_id":374601,"accept_rate":91,"display_name":"Erty Seidohl"},"score":0,"creation_date":1579492269,"post_id":59815677,"comment_id":105771556,"body_markdown":"Welcome to Stack Overflow! The question doesn&#39;t appear to include any attempt to solve the problem. Please edit the question to show what you&#39;ve tried, and show a specific roadblock you&#39;re running into with [mcve]. For more information, please see [ask].","body":"Welcome to Stack Overflow! The question doesn&#39;t appear to include any attempt to solve the problem. Please edit the question to show what you&#39;ve tried, and show a specific roadblock you&#39;re running into with <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. For more information, please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579492577,"creation_date":1579481402,"answer_id":59815782,"question_id":59815677,"body_markdown":"If a website allows logon using basic authentication, you can add the &#39;Authorization&#39; header to your URL request.\r\n\r\nThe following answer already outlines how to add such a header to your request in Java: https://stackoverflow.com/a/5137446\r\n\r\nHow ever, social media sites don&#39;t support this kind of authentication, and logging in with a person&#39;s credentials using a program might even be against terms of service. \r\n\r\nIf you&#39;d like to receive information about a user in your program, you must request an API from the social media site. This might be a java library used for retrieving information from their site, or a schema that documents how to retrieve information, usually by using a REST API they provide on their web server.\r\n\r\nThis sort of code won&#39;t require the user&#39;s login credentials, and will most likely work using a standard called OAUTH2 where your program is authenticated to retrieve information by receiving a login key from the user, by means of them &quot;connecting&quot; their account to your service.\r\n\r\nTake a look at the Twitter developer&#39;s page: https://developer.twitter.com/en/docs/basics/getting-started ","title":"Java - How To &quot;Log In&quot; On URL Object","body":"<p>If a website allows logon using basic authentication, you can add the 'Authorization' header to your URL request.</p>\n\n<p>The following answer already outlines how to add such a header to your request in Java: <a href=\"https://stackoverflow.com/a/5137446\">https://stackoverflow.com/a/5137446</a></p>\n\n<p>How ever, social media sites don't support this kind of authentication, and logging in with a person's credentials using a program might even be against terms of service. </p>\n\n<p>If you'd like to receive information about a user in your program, you must request an API from the social media site. This might be a java library used for retrieving information from their site, or a schema that documents how to retrieve information, usually by using a REST API they provide on their web server.</p>\n\n<p>This sort of code won't require the user's login credentials, and will most likely work using a standard called OAUTH2 where your program is authenticated to retrieve information by receiving a login key from the user, by means of them \"connecting\" their account to your service.</p>\n\n<p>Take a look at the Twitter developer's page: <a href=\"https://developer.twitter.com/en/docs/basics/getting-started\" rel=\"nofollow noreferrer\">https://developer.twitter.com/en/docs/basics/getting-started</a> </p>\n"},{"tags":[],"owner":{"account_id":380613,"reputation":1356,"user_id":734744,"accept_rate":72,"display_name":"Sameer Naik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579484151,"creation_date":1579484151,"answer_id":59816003,"question_id":59815677,"body_markdown":"What you are trying is called screen-scraping technique which is inherently error prone since structure of web pages change often.\r\n\r\nIt is possible to navigate to URLs that require login and you would need to mimic exactly what browser does in that case i.e. following all redirects, storing hidden variables, setting and re-sending cookies, sending user name, password at right times.\r\n\r\nYou can take a look at Network Panel in your browser.\r\n\r\nI am assuming you are using your own twitter user name and password to login.","title":"Java - How To &quot;Log In&quot; On URL Object","body":"<p>What you are trying is called screen-scraping technique which is inherently error prone since structure of web pages change often.</p>\n\n<p>It is possible to navigate to URLs that require login and you would need to mimic exactly what browser does in that case i.e. following all redirects, storing hidden variables, setting and re-sending cookies, sending user name, password at right times.</p>\n\n<p>You can take a look at Network Panel in your browser.</p>\n\n<p>I am assuming you are using your own twitter user name and password to login.</p>\n"}],"owner":{"account_id":17568113,"reputation":1,"user_id":12744384,"display_name":"pwetzel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1579511279,"answer_count":2,"score":0,"last_activity_date":1690219058,"creation_date":1579480078,"question_id":59815677,"body_markdown":"I am trying to create a program that is able to track/manage social media followers, with the simple idea of using a URL object and a BufferedReader in Java, extracting the strings and filtering it out to only display/keep certain things out of the HTML document. For example; loading the Following page on a user&#39;s account and returning each user on the list, and then checking if each account on that list follows the user checking.\r\n\r\nThe problem is certain links from social media sites, like twitter.com/username/following, are only accessible when logged into Twitter and just return the login page when trying to read from it with a URL object.\r\n\r\nI&#39;m not very experienced with &quot;Web Programming&quot; but I was wondering if there is a way that I can &quot;log in&quot; with a URL object in Java, or other methods of doing so, so that it displays the correct page I am trying to load and extract Strings/data from.\r\n\r\nThank you for any help or resources you can provide.","title":"Java - How To &quot;Log In&quot; On URL Object","body":"<p>I am trying to create a program that is able to track/manage social media followers, with the simple idea of using a URL object and a BufferedReader in Java, extracting the strings and filtering it out to only display/keep certain things out of the HTML document. For example; loading the Following page on a user's account and returning each user on the list, and then checking if each account on that list follows the user checking.</p>\n<p>The problem is certain links from social media sites, like twitter.com/username/following, are only accessible when logged into Twitter and just return the login page when trying to read from it with a URL object.</p>\n<p>I'm not very experienced with &quot;Web Programming&quot; but I was wondering if there is a way that I can &quot;log in&quot; with a URL object in Java, or other methods of doing so, so that it displays the correct page I am trying to load and extract Strings/data from.</p>\n<p>Thank you for any help or resources you can provide.</p>\n"},{"tags":["java","exception","project-reactor","spring-data-r2dbc","r2dbc"],"comments":[{"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1690362068,"post_id":76755286,"comment_id":135341400,"body_markdown":"@mp911de any idea? :)","body":"@mp911de any idea? :)"}],"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1690218322,"creation_date":1690207636,"question_id":76755286,"body_markdown":"## Background:\r\n\r\nI have an application-wide universal exception handler to translate exceptions coming from `R2dbcRepository`, such as (an excerpt just to show the intended purpose):\r\n\r\n``` code-java\r\n@Component\r\npublic class ErrorHandler {\r\n    public Throwable mapError(Throwable ex) {\r\n        if (ex instanceof DataIntegrityViolationException || ex instanceof R2dbcDataIntegrityViolationException) {\r\n            return new MyException(myParameters);\r\n        }\r\n        return new MyException(SERVER_ERROR, &quot;Error accessing database&quot;, ex);\r\n    }\r\n}\r\n```\r\n\r\nThen I have an `R2dbcRepository` with a lot of user-defined queries, such as\r\n\r\n``` code-java\r\nimport org.springframework.data.r2dbc.repository.Query;\r\nimport org.springframework.data.r2dbc.repository.R2dbcRepository;\r\n\r\npublic interface MyEntityRepository extends R2dbcRepository&lt;MyEntity, UUID&gt; {\r\n    @Query(&quot;SELECT * FROM my_entity WHERE &lt;complex conditions&gt;&quot;)\r\n    Flux&lt;MyEntity&gt; findBySomeCriteria(MyConditions myConditions);\r\n    ...\r\n    // Lot of other methods\r\n}\r\n```\r\n\r\nI want to call the `mapError()` method after each call to any of the repository&#39;s methods, like this:\r\n\r\n``` code-java\r\n@Service\r\npublic class MyService {\r\n    @Autowired MyEntityRepository repository;\r\n    @Autowired ErrorHandler errorHandler;\r\n\r\n    public Mono&lt;MyData&gt; getMyData(MyCriteria criteria) {\r\n        return Mono.just(criteria)\r\n            ... // handling the input data\r\n            .flatMap(repository::findBySomeCriteria)\r\n            .onErrorMap(errorHandler::mapError) // THIS IS AN UBIQUITOUS BOILERPLATE CODE\r\n            ... // some extra business logic\r\n            ;\r\n    }\r\n}\r\n```\r\n\r\n### Problem Statement:\r\n\r\nI would like to get rid of the ubiquitous boilerplate code \r\n``` code-java\r\n.onErrorMap(errorHandler::mapError)\r\n```\r\n\r\nand have it somehow built-in into the repository.\r\n\r\n### Question:\r\n\r\nIs there an elegant solution in `R2dbcRepository` to register my error handle universally, so each call to any of the repository&#39;s method is automatically decorated by it?","title":"Support for exception handling in R2dbcRepository, or how to decorate each method call in R2dbcRepository with my own error handler","body":"<h2>Background:</h2>\n<p>I have an application-wide universal exception handler to translate exceptions coming from <code>R2dbcRepository</code>, such as (an excerpt just to show the intended purpose):</p>\n<pre><code>@Component\npublic class ErrorHandler {\n    public Throwable mapError(Throwable ex) {\n        if (ex instanceof DataIntegrityViolationException || ex instanceof R2dbcDataIntegrityViolationException) {\n            return new MyException(myParameters);\n        }\n        return new MyException(SERVER_ERROR, &quot;Error accessing database&quot;, ex);\n    }\n}\n</code></pre>\n<p>Then I have an <code>R2dbcRepository</code> with a lot of user-defined queries, such as</p>\n<pre><code>import org.springframework.data.r2dbc.repository.Query;\nimport org.springframework.data.r2dbc.repository.R2dbcRepository;\n\npublic interface MyEntityRepository extends R2dbcRepository&lt;MyEntity, UUID&gt; {\n    @Query(&quot;SELECT * FROM my_entity WHERE &lt;complex conditions&gt;&quot;)\n    Flux&lt;MyEntity&gt; findBySomeCriteria(MyConditions myConditions);\n    ...\n    // Lot of other methods\n}\n</code></pre>\n<p>I want to call the <code>mapError()</code> method after each call to any of the repository's methods, like this:</p>\n<pre><code>@Service\npublic class MyService {\n    @Autowired MyEntityRepository repository;\n    @Autowired ErrorHandler errorHandler;\n\n    public Mono&lt;MyData&gt; getMyData(MyCriteria criteria) {\n        return Mono.just(criteria)\n            ... // handling the input data\n            .flatMap(repository::findBySomeCriteria)\n            .onErrorMap(errorHandler::mapError) // THIS IS AN UBIQUITOUS BOILERPLATE CODE\n            ... // some extra business logic\n            ;\n    }\n}\n</code></pre>\n<h3>Problem Statement:</h3>\n<p>I would like to get rid of the ubiquitous boilerplate code</p>\n<pre><code>.onErrorMap(errorHandler::mapError)\n</code></pre>\n<p>and have it somehow built-in into the repository.</p>\n<h3>Question:</h3>\n<p>Is there an elegant solution in <code>R2dbcRepository</code> to register my error handle universally, so each call to any of the repository's method is automatically decorated by it?</p>\n"},{"tags":["java","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690198004,"creation_date":1690198004,"answer_id":76754004,"question_id":76753379,"body_markdown":"Based on your error and expected return type `[application/octet-stream]` you expect to receive binary information. But your method returns `ResponseEntity&lt;V&gt;` By the way you don&#39;t show how you call your method and what is your type V actually is. The converter that receives your response expects a valid JSON and in the error, it complains that the returned content is NOT a valid JSON. So, what does the API that you call actually returns? is it a binary info as the header value `[application/octet-stream]` suggests or is it textual JSON info? If it is JSON then you have a wrong response type. If it is a binary info then your type V should be a byte array or `ByteBuffer`.\r\n&lt;br&gt;&lt;br&gt; \r\nI also may suggest you to use a much simpler HTTP client than a RestTemplate. Especially if your return type is really a binary information. In this case the Http client that I suggest actually has methods that return `ByteBuffer`you can deal with it on your own and not worry about telling your Http client to what it should be converted and how. This Http client comes with MgntUtils Open Source java library that is written and maintained by me. Also this Http client allows for multiple requests without resetting URL and headers for each request if you are sending requests to the same URL.\r\nHere is how your code may look like:\r\n\r\n    public class MyHttpClient {\r\n      private HttpClient client = new HttpClient();\r\n    \r\n      public MyHttpClient() {\r\n         client.setConnectionUrl(myUrlStr);\r\n         client.setRequestHeader(headerName1Str, headerValue1Str)\r\n         .setRequestHeader(headerName2Str, headerValue2Str)\r\n         .setRequestHeader(headerName3Str, headerValue3Str);     \r\n      }\r\n    \r\n      public ByteArray getBillingDocPDFFromGCP(...) {\r\n        ByteBuffer result = null;\r\n        try {\r\n          //Here you can change connection URL if it is different than the pre-set one \r\n          // and add or modify headers\r\n          HttpClient.HttpMethod httpMethod = HttpClient.HttpMethod.valueOf(httpMethodStr);\r\n          ResponseHolder&lt;ByteBuffer&gt; response = sendHttpRequestForBinaryResponse(httpMethod);\r\n          result = response.getResponseContent();\r\n       } catch(HttpClientCommunicationException e) {\r\n          ResponseHolder errorResponse  = e.getResponseHolder();\r\n          logger.error(errorResponse.getResponseCode() + &quot; &quot; + errorResponse.getResponseMessage());\r\n      }\r\n      return result;\r\n    }\r\n\r\nHere is [JavaDoc for the HttpClient class][1]. \r\nThe MgntUtils library can be obtained as [maven artifact][2] or from [Github][3] (including source code and Javadoc)\r\n\r\n\r\n  [1]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/httpclient/HttpClient.html\r\n  [2]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [3]: https://github.com/michaelgantman/Mgnt/releases","title":"Error while extracting response for type [class java.lang.Object] and content type [application/octet-stream];","body":"<p>Based on your error and expected return type <code>[application/octet-stream]</code> you expect to receive binary information. But your method returns <code>ResponseEntity&lt;V&gt;</code> By the way you don't show how you call your method and what is your type V actually is. The converter that receives your response expects a valid JSON and in the error, it complains that the returned content is NOT a valid JSON. So, what does the API that you call actually returns? is it a binary info as the header value <code>[application/octet-stream]</code> suggests or is it textual JSON info? If it is JSON then you have a wrong response type. If it is a binary info then your type V should be a byte array or <code>ByteBuffer</code>.\n<br><br>\nI also may suggest you to use a much simpler HTTP client than a RestTemplate. Especially if your return type is really a binary information. In this case the Http client that I suggest actually has methods that return <code>ByteBuffer</code>you can deal with it on your own and not worry about telling your Http client to what it should be converted and how. This Http client comes with MgntUtils Open Source java library that is written and maintained by me. Also this Http client allows for multiple requests without resetting URL and headers for each request if you are sending requests to the same URL.\nHere is how your code may look like:</p>\n<pre><code>public class MyHttpClient {\n  private HttpClient client = new HttpClient();\n\n  public MyHttpClient() {\n     client.setConnectionUrl(myUrlStr);\n     client.setRequestHeader(headerName1Str, headerValue1Str)\n     .setRequestHeader(headerName2Str, headerValue2Str)\n     .setRequestHeader(headerName3Str, headerValue3Str);     \n  }\n\n  public ByteArray getBillingDocPDFFromGCP(...) {\n    ByteBuffer result = null;\n    try {\n      //Here you can change connection URL if it is different than the pre-set one \n      // and add or modify headers\n      HttpClient.HttpMethod httpMethod = HttpClient.HttpMethod.valueOf(httpMethodStr);\n      ResponseHolder&lt;ByteBuffer&gt; response = sendHttpRequestForBinaryResponse(httpMethod);\n      result = response.getResponseContent();\n   } catch(HttpClientCommunicationException e) {\n      ResponseHolder errorResponse  = e.getResponseHolder();\n      logger.error(errorResponse.getResponseCode() + &quot; &quot; + errorResponse.getResponseMessage());\n  }\n  return result;\n}\n</code></pre>\n<p>Here is <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/httpclient/HttpClient.html\" rel=\"nofollow noreferrer\">JavaDoc for the HttpClient class</a>.\nThe MgntUtils library can be obtained as <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">maven artifact</a> or from <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">Github</a> (including source code and Javadoc)</p>\n"}],"owner":{"account_id":2517144,"reputation":371,"user_id":2188318,"accept_rate":59,"display_name":"Karthik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690217609,"creation_date":1690193009,"question_id":76753379,"body_markdown":"Here is the method that I have , &lt;br/&gt;\r\n\r\n**what does the API that I call actually returns?** &lt;br/&gt;\r\n This will return binary response and the response content is &quot;application/octet-stream&quot;.&lt;br/&gt; The method which calls this method is from controller which will return ResponseEntity&lt;byte[]&gt; to the front end.\r\n\r\n     @Override\r\n    public &lt;V&gt; ResponseEntity&lt;V&gt; getBillingDocPDFFromGCP(String url, HttpMethod method, HttpServletRequest request, String accessToken, Class&lt;V&gt; responseType, Map&lt;String, String&gt; params, BaseStoreModel baseStore, String appDomain) {\r\n        if (StringUtils.isEmpty(url)) {\r\n            throw new ConfigurationException(HttpStatus.NOT_ACCEPTABLE + &quot; : Missing API Uri property in configuration&quot;);\r\n        }\r\n        LOG.info(&quot;getGCPBillingDocPDF API URL...{}&quot;, url);\r\n        MultiValueMap&lt;String, String&gt; headers = getServiceHeadersForGCPPDF(baseStore, accessToken);\r\n        final HttpEntity&lt;Object&gt; requestEntity = new HttpEntity&lt;&gt;(headers);\r\n        final RestTemplate restTemplate = new RestTemplate();\r\n        List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt;();\r\n        MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\r\n        converter.setSupportedMediaTypes(Collections.singletonList(MediaType.ALL));\r\n        messageConverters.add(converter);\r\n        restTemplate.setMessageConverters(messageConverters);\r\n\r\n        try {\r\n            return (ResponseEntity&lt;V&gt;) restTemplate.exchange(url, method, requestEntity, responseType);\r\n\r\n\r\n        } catch (final HttpClientErrorException httpClientException) {\r\n            LOG.error(UNAUTHORIZED_ERROR + &quot; : &quot; + httpClientException.getMessage(), httpClientException);\r\n            throw new HttpClientErrorException(HttpStatus.UNAUTHORIZED, httpClientException.getMessage());\r\n        } catch (final RestClientException restClientException) {\r\n            LOG.error(REST_CLIENT_ERROR, restClientException);\r\n            throw new RestClientException(REST_CLIENT_REPORTED_ERROR + &quot; : &quot; + restClientException.getMessage(), restClientException);\r\n        }\r\n    }\r\n\r\n      public MultiValueMap&lt;String, String&gt; getServiceHeadersForGCPPDF(final BaseStoreModel baseStore, final String aceToken) {\r\n        final HttpHeaders headers = new HttpHeaders();\r\n        final String siteId = getCurrentSiteId(baseStore);\r\n        headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\r\n        headers.setContentType(MediaType.parseMediaType(&quot;application/octet-stream&quot;));\r\n        headers.add(&quot;X-API-Key&quot;, value);\r\n        return headers;\r\n    }\r\n\r\n\r\nand below is the error am getting ,please advise how to resolve this issue\r\n\r\n     Rest Client Error org.springframework.web.client.RestClientException: Error while xtracting response for type [class java.lang.Object] and content type [application/octet-stream]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character (&#39;%&#39; (code 37)): expected a valid value (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;); nested exception is \r\n\r\nPlease advise\r\n\r\n**Updated Method with return type configured as ResponseEntity&lt;byte[]&gt;:** \r\n\r\nAs per Michael suggestions I changed the return type as ResponseEntity&lt;byte[]&gt; but am stilling getting same error  \r\n\r\n     @Override\r\n    public &lt;V&gt; ResponseEntity&lt;byte[]&gt; getBillingDocPDFFromGCP(String url, HttpMethod method, HttpServletRequest request, String accessToken, Class&lt;V&gt; responseType, Map&lt;String, String&gt; params, BaseStoreModel baseStore, String appDomain) {\r\n        if (StringUtils.isEmpty(url)) {\r\n            throw new ConfigurationException(HttpStatus.NOT_ACCEPTABLE + &quot; : Missing API Uri property in configuration&quot;);\r\n        }\r\n        LOG.info(&quot;getGCPBillingDocPDF API URL...{}&quot;, url);\r\n        MultiValueMap&lt;String, String&gt; headers = getServiceHeadersForGCPPDF(baseStore, accessToken);\r\n        final HttpEntity&lt;Object&gt; requestEntity = new HttpEntity&lt;&gt;(headers);\r\n        final RestTemplate restTemplate = new RestTemplate();\r\n        List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt;();\r\n        MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\r\n        converter.setSupportedMediaTypes(Collections.singletonList(MediaType.ALL));\r\n        messageConverters.add(converter);\r\n        restTemplate.setMessageConverters(messageConverters);\r\n\r\n        try {\r\n            return  restTemplate.exchange(url, method, requestEntity, byte[].class);\r\n\r\n        } catch (final HttpClientErrorException httpClientException) {\r\n            LOG.error(UNAUTHORIZED_ERROR + &quot; : &quot; + httpClientException.getMessage(), httpClientException);\r\n            throw new HttpClientErrorException(HttpStatus.UNAUTHORIZED, httpClientException.getMessage());\r\n        } catch (final RestClientException restClientException) {\r\n            LOG.error(REST_CLIENT_ERROR, restClientException);\r\n            throw new RestClientException(REST_CLIENT_REPORTED_ERROR + &quot; : &quot; + restClientException.getMessage(), restClientException);\r\n        }\r\n    }\r\n\r\n\r\nError that I am still getting is \r\n\r\n    Caused by: org.springframework.web.client.RestClientException: Error while extracting response for type [class [B] and content type [application/octet-stream]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character (&#39;%&#39; (code 37)): expected a valid value (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;); nested exception is com.fasterxml.jackson.core.JsonParseException: Unexpected character (&#39;%&#39; (code 37)): expected a valid value (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;)\r\n\r\n","title":"Error while extracting response for type [class java.lang.Object] and content type [application/octet-stream];","body":"<p>Here is the method that I have , <br/></p>\n<p><strong>what does the API that I call actually returns?</strong> <br/>\nThis will return binary response and the response content is &quot;application/octet-stream&quot;.<br/> The method which calls this method is from controller which will return ResponseEntity&lt;byte[]&gt; to the front end.</p>\n<pre><code> @Override\npublic &lt;V&gt; ResponseEntity&lt;V&gt; getBillingDocPDFFromGCP(String url, HttpMethod method, HttpServletRequest request, String accessToken, Class&lt;V&gt; responseType, Map&lt;String, String&gt; params, BaseStoreModel baseStore, String appDomain) {\n    if (StringUtils.isEmpty(url)) {\n        throw new ConfigurationException(HttpStatus.NOT_ACCEPTABLE + &quot; : Missing API Uri property in configuration&quot;);\n    }\n    LOG.info(&quot;getGCPBillingDocPDF API URL...{}&quot;, url);\n    MultiValueMap&lt;String, String&gt; headers = getServiceHeadersForGCPPDF(baseStore, accessToken);\n    final HttpEntity&lt;Object&gt; requestEntity = new HttpEntity&lt;&gt;(headers);\n    final RestTemplate restTemplate = new RestTemplate();\n    List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt;();\n    MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\n    converter.setSupportedMediaTypes(Collections.singletonList(MediaType.ALL));\n    messageConverters.add(converter);\n    restTemplate.setMessageConverters(messageConverters);\n\n    try {\n        return (ResponseEntity&lt;V&gt;) restTemplate.exchange(url, method, requestEntity, responseType);\n\n\n    } catch (final HttpClientErrorException httpClientException) {\n        LOG.error(UNAUTHORIZED_ERROR + &quot; : &quot; + httpClientException.getMessage(), httpClientException);\n        throw new HttpClientErrorException(HttpStatus.UNAUTHORIZED, httpClientException.getMessage());\n    } catch (final RestClientException restClientException) {\n        LOG.error(REST_CLIENT_ERROR, restClientException);\n        throw new RestClientException(REST_CLIENT_REPORTED_ERROR + &quot; : &quot; + restClientException.getMessage(), restClientException);\n    }\n}\n\n  public MultiValueMap&lt;String, String&gt; getServiceHeadersForGCPPDF(final BaseStoreModel baseStore, final String aceToken) {\n    final HttpHeaders headers = new HttpHeaders();\n    final String siteId = getCurrentSiteId(baseStore);\n    headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n    headers.setContentType(MediaType.parseMediaType(&quot;application/octet-stream&quot;));\n    headers.add(&quot;X-API-Key&quot;, value);\n    return headers;\n}\n</code></pre>\n<p>and below is the error am getting ,please advise how to resolve this issue</p>\n<pre><code> Rest Client Error org.springframework.web.client.RestClientException: Error while xtracting response for type [class java.lang.Object] and content type [application/octet-stream]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character ('%' (code 37)): expected a valid value (JSON String, Number, Array, Object or token 'null', 'true' or 'false'); nested exception is \n</code></pre>\n<p>Please advise</p>\n<p><strong>Updated Method with return type configured as ResponseEntity&lt;byte[]&gt;:</strong></p>\n<p>As per Michael suggestions I changed the return type as ResponseEntity&lt;byte[]&gt; but am stilling getting same error</p>\n<pre><code> @Override\npublic &lt;V&gt; ResponseEntity&lt;byte[]&gt; getBillingDocPDFFromGCP(String url, HttpMethod method, HttpServletRequest request, String accessToken, Class&lt;V&gt; responseType, Map&lt;String, String&gt; params, BaseStoreModel baseStore, String appDomain) {\n    if (StringUtils.isEmpty(url)) {\n        throw new ConfigurationException(HttpStatus.NOT_ACCEPTABLE + &quot; : Missing API Uri property in configuration&quot;);\n    }\n    LOG.info(&quot;getGCPBillingDocPDF API URL...{}&quot;, url);\n    MultiValueMap&lt;String, String&gt; headers = getServiceHeadersForGCPPDF(baseStore, accessToken);\n    final HttpEntity&lt;Object&gt; requestEntity = new HttpEntity&lt;&gt;(headers);\n    final RestTemplate restTemplate = new RestTemplate();\n    List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt;();\n    MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\n    converter.setSupportedMediaTypes(Collections.singletonList(MediaType.ALL));\n    messageConverters.add(converter);\n    restTemplate.setMessageConverters(messageConverters);\n\n    try {\n        return  restTemplate.exchange(url, method, requestEntity, byte[].class);\n\n    } catch (final HttpClientErrorException httpClientException) {\n        LOG.error(UNAUTHORIZED_ERROR + &quot; : &quot; + httpClientException.getMessage(), httpClientException);\n        throw new HttpClientErrorException(HttpStatus.UNAUTHORIZED, httpClientException.getMessage());\n    } catch (final RestClientException restClientException) {\n        LOG.error(REST_CLIENT_ERROR, restClientException);\n        throw new RestClientException(REST_CLIENT_REPORTED_ERROR + &quot; : &quot; + restClientException.getMessage(), restClientException);\n    }\n}\n</code></pre>\n<p>Error that I am still getting is</p>\n<pre><code>Caused by: org.springframework.web.client.RestClientException: Error while extracting response for type [class [B] and content type [application/octet-stream]; nested exception is org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character ('%' (code 37)): expected a valid value (JSON String, Number, Array, Object or token 'null', 'true' or 'false'); nested exception is com.fasterxml.jackson.core.JsonParseException: Unexpected character ('%' (code 37)): expected a valid value (JSON String, Number, Array, Object or token 'null', 'true' or 'false')\n</code></pre>\n"},{"tags":["java","error-handling","runtime-error"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1690213082,"post_id":76756022,"comment_id":135318627,"body_markdown":"Well, either `return 1 / positivePow(x, -n);` is wrong or the fact that `positivePow` can return `0` is wrong. Because both of those combined lead to a typical division through zero error.","body":"Well, either <code>return 1 &#47; positivePow(x, -n);</code> is wrong or the fact that <code>positivePow</code> can return <code>0</code> is wrong. Because both of those combined lead to a typical division through zero error."},{"owner":{"account_id":26156455,"reputation":11,"user_id":19843650,"display_name":"Anmol Agrawal"},"score":0,"creation_date":1690215905,"post_id":76756022,"comment_id":135319232,"body_markdown":"Thanks for being this fast I also have improved the change you&#39;ve suggested but now for the test case\nx = 2.0000\nn = -2147483648\n\nthe stack is being overflowed.","body":"Thanks for being this fast I also have improved the change you&#39;ve suggested but now for the test case x = 2.0000 n = -2147483648  the stack is being overflowed."}],"answers":[{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690216270,"creation_date":1690216270,"answer_id":76756439,"question_id":76756022,"body_markdown":"you should change this line `return 1 / positivePow(x, -n)` to `return positivePow(1/x, -n)`\r\n\r\nto avoid division by 0, when positivePow returns 0.\r\n  \r\nalso check this solution \r\n```\r\npublic double myPow(double x, long n) {\r\n    if(n == 0) return 1;\r\n    if(n &lt; 0) return myPow(1/x, -n);\r\n    if(n % 2 == 1) return x * myPow(x * x, (n-1)/2);\r\n    else return myPow(x * x, n/2);\r\n}\r\n```","title":"Terminating condition is given still throwing Stack OverFlow Error","body":"<p>you should change this line <code>return 1 / positivePow(x, -n)</code> to <code>return positivePow(1/x, -n)</code></p>\n<p>to avoid division by 0, when positivePow returns 0.</p>\n<p>also check this solution</p>\n<pre><code>public double myPow(double x, long n) {\n    if(n == 0) return 1;\n    if(n &lt; 0) return myPow(1/x, -n);\n    if(n % 2 == 1) return x * myPow(x * x, (n-1)/2);\n    else return myPow(x * x, n/2);\n}\n</code></pre>\n"}],"owner":{"account_id":26156455,"reputation":11,"user_id":19843650,"display_name":"Anmol Agrawal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690217327,"creation_date":1690212936,"question_id":76756022,"body_markdown":"trying to solve a question on the leetcode coding platform in which I&#39;ve started getting with this.\r\n\r\n    class Solution {\r\n    public double myPow(double x, int n) {\r\n\r\n        // return Math.pow(x, n);\r\n\r\n        if(x == 1){\r\n            return 1;\r\n        }\r\n\r\n        if(n == 0){\r\n            return 1;\r\n        }\r\n\r\n        if(n &gt; 0){\r\n            return positivePow(x, n);\r\n        }\r\n        else{\r\n            return positivePow(1/x, -n);\r\n        }\r\n\r\n        \r\n    }\r\n\r\n    public double positivePow(double x, int n){\r\n        \r\n        if(n == 1){\r\n            return x;\r\n        }\r\n\r\n        if(x &lt; -10000 || x &gt; 10000){\r\n            return 0;\r\n        }\r\n\r\n        if(n % 2 == 0){\r\n            return positivePow(x * x, n / 2);\r\n        }\r\n        else{\r\n            return x * positivePow(x, n - 1);\r\n        }\r\n    }\r\n    }\r\n\r\nit should be terminated because of this condition but still throwing stack overflow error for the testcase\r\n\r\nx = 2.00000\r\nn = -2147483648\r\n\r\n    if(x &lt; -10000 || x &gt; 10000){\r\n        return 0;\r\n    }\r\n\r\nin the `positivePow` function.\r\n\r\nWe can only use double as datatype for `x` and the constraints are\r\n    \r\n- -100.0 &lt; x &lt; 100.0\r\n- -231 &lt;= n &lt;= 231-1\r\n- n is an integer.\r\n- Either x is not zero or n &gt; 0.\r\n- -104 &lt;= xn &lt;= 104\r\n","title":"Terminating condition is given still throwing Stack OverFlow Error","body":"<p>trying to solve a question on the leetcode coding platform in which I've started getting with this.</p>\n<pre><code>class Solution {\npublic double myPow(double x, int n) {\n\n    // return Math.pow(x, n);\n\n    if(x == 1){\n        return 1;\n    }\n\n    if(n == 0){\n        return 1;\n    }\n\n    if(n &gt; 0){\n        return positivePow(x, n);\n    }\n    else{\n        return positivePow(1/x, -n);\n    }\n\n    \n}\n\npublic double positivePow(double x, int n){\n    \n    if(n == 1){\n        return x;\n    }\n\n    if(x &lt; -10000 || x &gt; 10000){\n        return 0;\n    }\n\n    if(n % 2 == 0){\n        return positivePow(x * x, n / 2);\n    }\n    else{\n        return x * positivePow(x, n - 1);\n    }\n}\n}\n</code></pre>\n<p>it should be terminated because of this condition but still throwing stack overflow error for the testcase</p>\n<p>x = 2.00000\nn = -2147483648</p>\n<pre><code>if(x &lt; -10000 || x &gt; 10000){\n    return 0;\n}\n</code></pre>\n<p>in the <code>positivePow</code> function.</p>\n<p>We can only use double as datatype for <code>x</code> and the constraints are</p>\n<ul>\n<li>-100.0 &lt; x &lt; 100.0</li>\n<li>-231 &lt;= n &lt;= 231-1</li>\n<li>n is an integer.</li>\n<li>Either x is not zero or n &gt; 0.</li>\n<li>-104 &lt;= xn &lt;= 104</li>\n</ul>\n"},{"tags":["java","xml","jaxb"],"comments":[{"owner":{"account_id":1384921,"reputation":1573,"user_id":1317155,"accept_rate":88,"display_name":"Hein Bl&#246;d"},"score":0,"creation_date":1432918280,"post_id":30510773,"comment_id":49143565,"body_markdown":"If you happen to use MOXy as your JAXB provider, you might have some luck with the information [here](http://blog.bdoughan.com/2010/11/jaxb-and-inheritance-using-xsitype.html). Although it&#39;s kind of the other way around; xsi:type is used here to reflect Java inheritance, but perhaps you can exploit that mechanism.","body":"If you happen to use MOXy as your JAXB provider, you might have some luck with the information <a href=\"http://blog.bdoughan.com/2010/11/jaxb-and-inheritance-using-xsitype.html\" rel=\"nofollow noreferrer\">here</a>. Although it&#39;s kind of the other way around; xsi:type is used here to reflect Java inheritance, but perhaps you can exploit that mechanism."},{"owner":{"account_id":1748498,"reputation":1914,"user_id":1598149,"accept_rate":50,"display_name":"GregD"},"score":0,"creation_date":1433162017,"post_id":30510773,"comment_id":49217172,"body_markdown":"@HeinBl&#246;d I&#39;m not using MOXy","body":"@HeinBl&#246;d I&#39;m not using MOXy"}],"answers":[{"tags":[],"owner":{"account_id":1748498,"reputation":1914,"user_id":1598149,"accept_rate":50,"display_name":"GregD"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1433235169,"creation_date":1433235169,"answer_id":30591476,"question_id":30510773,"body_markdown":"I&#39;ve fixed it with changing the following statements:\r\n\r\n     JAXBElement element = new JAXBElement(\r\n            new QName(&quot;http://www.centralbrokersystem.org&quot;, &quot;Proces_Bericht_Result&quot;), TypeProcesBerichtResultV2.class, typeProcesBerichtResultV2);\r\n\r\nchanged to:\r\n\r\n    JAXBElement element = new JAXBElement(\r\n            new QName(&quot;http://www.centralbrokersystem.org&quot;, &quot;Proces_Bericht_Result&quot;), TypeProcesBerichtResultBase.class, typeProcesBerichtResultV2);\r\n\r\nand\r\n\r\n    XmlUtils.object2Xml(element, TypeProcesBerichtResultV2.class)\r\n\r\nchanged to\r\n\r\n    XmlUtils.object2Xml(element, TypeProcesBerichtResultBase.class)\r\n\r\nNotice how I&#39;m now marshalling with the baseClass as type instead of the actual class. This ads the xsi:type tag.\r\n\r\n\r\n","title":"JAXB - marshal with xsi:type","body":"<p>I've fixed it with changing the following statements:</p>\n\n<pre><code> JAXBElement element = new JAXBElement(\n        new QName(\"http://www.centralbrokersystem.org\", \"Proces_Bericht_Result\"), TypeProcesBerichtResultV2.class, typeProcesBerichtResultV2);\n</code></pre>\n\n<p>changed to:</p>\n\n<pre><code>JAXBElement element = new JAXBElement(\n        new QName(\"http://www.centralbrokersystem.org\", \"Proces_Bericht_Result\"), TypeProcesBerichtResultBase.class, typeProcesBerichtResultV2);\n</code></pre>\n\n<p>and</p>\n\n<pre><code>XmlUtils.object2Xml(element, TypeProcesBerichtResultV2.class)\n</code></pre>\n\n<p>changed to</p>\n\n<pre><code>XmlUtils.object2Xml(element, TypeProcesBerichtResultBase.class)\n</code></pre>\n\n<p>Notice how I'm now marshalling with the baseClass as type instead of the actual class. This ads the xsi:type tag.</p>\n"},{"tags":[],"owner":{"account_id":3586184,"reputation":417,"user_id":2993327,"display_name":"alexSunder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690216700,"creation_date":1690216700,"answer_id":76756492,"question_id":30510773,"body_markdown":"To achive the same goal with Marshaller when creating instance of JAXBElement pass Object class in declaredType consructor parameter instead of class of marshalled object. \r\nFor example: \r\n\r\n    new JAXBElement&lt;&gt;(new QName(namespace, obj.getClass().getSimpleName()), Object.class, null, obj);","title":"JAXB - marshal with xsi:type","body":"<p>To achive the same goal with Marshaller when creating instance of JAXBElement pass Object class in declaredType consructor parameter instead of class of marshalled object.\nFor example:</p>\n<pre><code>new JAXBElement&lt;&gt;(new QName(namespace, obj.getClass().getSimpleName()), Object.class, null, obj);\n</code></pre>\n"}],"owner":{"account_id":1748498,"reputation":1914,"user_id":1598149,"accept_rate":50,"display_name":"GregD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5414,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":30591476,"answer_count":2,"score":4,"last_activity_date":1690216700,"creation_date":1432826569,"question_id":30510773,"body_markdown":"I&#39;m kind of new to marshalling with jaxb and I&#39;m trying to make this xml from my objects:\r\n\r\n    &lt;Process_Bericht_Result xsi:type=&quot;Type_Proces_Bericht_Result_v2&quot;\r\n    xmlns=&quot;http://www.centralbrokersystem.org&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;/&gt;\r\n       &lt;Result_Data&gt;\r\n          ....\r\n       &lt;/Result_Data&gt;\r\n    &lt;/Process_Bericht_Result&gt;\r\n\r\nWhat I get is the following:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;Proces_Bericht_result xmlns=&quot;http://www.centralbrokersystem.org&quot;&gt;\r\n        &lt;Result_Data&gt;\r\n           ...\r\n        &lt;/Result_Data&gt;\r\n    &lt;/Proces_Bericht_result&gt;\r\n\r\n I would like to define the xsi:type...\r\n\r\nI&#39;m creating these objects with the following code:\r\n\r\n    \r\n    JAXBElement element = new JAXBElement(\r\n                new QName(&quot;http://www.centralbrokersystem.org&quot;, &quot;Proces_Bericht_Result&quot;), TypeProcesBerichtResultV2.class, typeProcesBerichtResultV2);\r\n\r\nI have to create a JAXBElement because the TypeProcesBerichtResultV2 class isn&#39;t annotated with @RootElement and it&#39;s generated with the jaxB maven plugin so I can&#39;t change it.\r\n\r\nThen I&#39;m calling a method:\r\n\r\n    XmlUtils.object2Xml(element, TypeProcesBerichtResultV2.class)\r\n\r\nand the implementation of that method is:\r\n\r\n        public static String object2Xml(Object obj,\r\n                                    Class clazz)  {\r\n        String marshalledObject = &quot;&quot;;\r\n        if (obj != null) {\r\n            try {\r\n                JAXBContext jc = JAXBContext.newInstance(clazz);\r\n                Marshaller marshaller = jc.createMarshaller();\r\n                marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT,\r\n                        new Boolean(true));\r\n                StringWriter sw = new StringWriter();\r\n\r\n                marshaller.marshal(obj, sw);\r\n                marshalledObject = new String(sw.getBuffer());\r\n            } catch (Exception ex) {\r\n                throw new RuntimeException(&quot;Unable to marshall the object&quot;, ex);\r\n            }\r\n        }\r\n        return marshalledObject;\r\n    }\r\n\r\nWhat should I change to marshal to the correct xml?\r\n\r\nThe element that I&#39;m trying to marshal is the following generated Object:\r\n   \r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;Type_Proces_Bericht_Result_v2&quot;, propOrder = {\r\n    &quot;resultData&quot;,\r\n    &quot;statusPartner&quot;\r\n    })\r\n    public class TypeProcesBerichtResultV2\r\n        extends TypeProcesBerichtResultBase\r\n    {\r\n\r\n        @XmlElement(name = &quot;Result_Data&quot;, required = true)\r\n        protected TypeResultData resultData;\r\n\r\n        ...","title":"JAXB - marshal with xsi:type","body":"<p>I'm kind of new to marshalling with jaxb and I'm trying to make this xml from my objects:</p>\n\n<pre><code>&lt;Process_Bericht_Result xsi:type=\"Type_Proces_Bericht_Result_v2\"\nxmlns=\"http://www.centralbrokersystem.org\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"/&gt;\n   &lt;Result_Data&gt;\n      ....\n   &lt;/Result_Data&gt;\n&lt;/Process_Bericht_Result&gt;\n</code></pre>\n\n<p>What I get is the following:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;\n&lt;Proces_Bericht_result xmlns=\"http://www.centralbrokersystem.org\"&gt;\n    &lt;Result_Data&gt;\n       ...\n    &lt;/Result_Data&gt;\n&lt;/Proces_Bericht_result&gt;\n</code></pre>\n\n<p>I would like to define the xsi:type...</p>\n\n<p>I'm creating these objects with the following code:</p>\n\n<pre><code>JAXBElement element = new JAXBElement(\n            new QName(\"http://www.centralbrokersystem.org\", \"Proces_Bericht_Result\"), TypeProcesBerichtResultV2.class, typeProcesBerichtResultV2);\n</code></pre>\n\n<p>I have to create a JAXBElement because the TypeProcesBerichtResultV2 class isn't annotated with @RootElement and it's generated with the jaxB maven plugin so I can't change it.</p>\n\n<p>Then I'm calling a method:</p>\n\n<pre><code>XmlUtils.object2Xml(element, TypeProcesBerichtResultV2.class)\n</code></pre>\n\n<p>and the implementation of that method is:</p>\n\n<pre><code>    public static String object2Xml(Object obj,\n                                Class clazz)  {\n    String marshalledObject = \"\";\n    if (obj != null) {\n        try {\n            JAXBContext jc = JAXBContext.newInstance(clazz);\n            Marshaller marshaller = jc.createMarshaller();\n            marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT,\n                    new Boolean(true));\n            StringWriter sw = new StringWriter();\n\n            marshaller.marshal(obj, sw);\n            marshalledObject = new String(sw.getBuffer());\n        } catch (Exception ex) {\n            throw new RuntimeException(\"Unable to marshall the object\", ex);\n        }\n    }\n    return marshalledObject;\n}\n</code></pre>\n\n<p>What should I change to marshal to the correct xml?</p>\n\n<p>The element that I'm trying to marshal is the following generated Object:</p>\n\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = \"Type_Proces_Bericht_Result_v2\", propOrder = {\n\"resultData\",\n\"statusPartner\"\n})\npublic class TypeProcesBerichtResultV2\n    extends TypeProcesBerichtResultBase\n{\n\n    @XmlElement(name = \"Result_Data\", required = true)\n    protected TypeResultData resultData;\n\n    ...\n</code></pre>\n"},{"tags":["java","scala","maven","sbt","coursier"],"answers":[{"tags":[],"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1690204477,"creation_date":1690127543,"answer_id":76749136,"question_id":76749090,"body_markdown":"You are confusing a build tool like **sbt** and **Maven** and **Gradle** and **Ant**, with an artifact manager like **coursier** and **ivy**.\r\n\r\nAFAIK _(please correct me if wrong)_, before **coursier** was invented, **sbt** used **ivy** to download the JAR files from repositories like **MavenCentral**.&lt;br&gt;\r\nAfter that, **coursier** was invented to be both faster and better handle **Scala** dependencies _(the versions suffixes and all that)_. I am not really sure what are the technical differences, but I really don&#39;t care since it is an implementation detail.&lt;br&gt;\r\nThen, newer versions of **sbt** simply switched from using **ivy** to use **coursier**, and the biggest difference was that it was now faster at downloading things, and that the cache folder changed.\r\n\r\nWith time, over the **coursier** bare artifact manager, other things have been built like the `cs` tool, `scala-cli`, the **GithubActions** shared actions like `coursier/setup-scala` &amp; `coursier/cache`.\r\nThus, as of today, everything works together seamlessly.\r\n\r\nAbout the duplicated JAR&#39;s folders.\r\nUnless you are using both **sbt** and **maven** with shared dependencies between both, you should be able to just delete the old `.m2` folder.","title":"Why is Coursier needed? What is the different between coursier and maven, sbt, gradle?","body":"<p>You are confusing a build tool like <strong>sbt</strong> and <strong>Maven</strong> and <strong>Gradle</strong> and <strong>Ant</strong>, with an artifact manager like <strong>coursier</strong> and <strong>ivy</strong>.</p>\n<p>AFAIK <em>(please correct me if wrong)</em>, before <strong>coursier</strong> was invented, <strong>sbt</strong> used <strong>ivy</strong> to download the JAR files from repositories like <strong>MavenCentral</strong>.<br>\nAfter that, <strong>coursier</strong> was invented to be both faster and better handle <strong>Scala</strong> dependencies <em>(the versions suffixes and all that)</em>. I am not really sure what are the technical differences, but I really don't care since it is an implementation detail.<br>\nThen, newer versions of <strong>sbt</strong> simply switched from using <strong>ivy</strong> to use <strong>coursier</strong>, and the biggest difference was that it was now faster at downloading things, and that the cache folder changed.</p>\n<p>With time, over the <strong>coursier</strong> bare artifact manager, other things have been built like the <code>cs</code> tool, <code>scala-cli</code>, the <strong>GithubActions</strong> shared actions like <code>coursier/setup-scala</code> &amp; <code>coursier/cache</code>.\nThus, as of today, everything works together seamlessly.</p>\n<p>About the duplicated JAR's folders.\nUnless you are using both <strong>sbt</strong> and <strong>maven</strong> with shared dependencies between both, you should be able to just delete the old <code>.m2</code> folder.</p>\n"}],"owner":{"account_id":1301815,"reputation":31761,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":298,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690216667,"creation_date":1690126815,"question_id":76749090,"body_markdown":"The documentation says that coursier is a new artifact manager for scala. But what is the difference between Coursier and build tools like maven, sbt and gradle? Why do I need `+1` folder with jar files? I have already `.m2` for maven repository, `.gradle` for gradle, and `.sbt` for sbt. So I built some project and now I have `AppData/Local/Coursier` with &quot;same&quot; jar files. Could somebody explain what is the goal for `Coursier` project?","title":"Why is Coursier needed? What is the different between coursier and maven, sbt, gradle?","body":"<p>The documentation says that coursier is a new artifact manager for scala. But what is the difference between Coursier and build tools like maven, sbt and gradle? Why do I need <code>+1</code> folder with jar files? I have already <code>.m2</code> for maven repository, <code>.gradle</code> for gradle, and <code>.sbt</code> for sbt. So I built some project and now I have <code>AppData/Local/Coursier</code> with &quot;same&quot; jar files. Could somebody explain what is the goal for <code>Coursier</code> project?</p>\n"},{"tags":["java","selenium","selenium-webdriver","try-with-resources","autocloseable"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1526004182,"post_id":50283908,"comment_id":87584239,"body_markdown":"read the javadocs *The close() method of an AutoCloseable object is called automatically when exiting a try-with-resources block*","body":"read the javadocs <i>The close() method of an AutoCloseable object is called automatically when exiting a try-with-resources block</i>"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1526012668,"post_id":50283908,"comment_id":87585947,"body_markdown":"What&#39;s wrong with avoiding `AutoCloseable` and just using `driver.quit();`?","body":"What&#39;s wrong with avoiding <code>AutoCloseable</code> and just using <code>driver.quit();</code>?"},{"owner":{"account_id":11876874,"reputation":876,"user_id":8814573,"display_name":"S.O.S"},"score":0,"creation_date":1526053220,"post_id":50283908,"comment_id":87608365,"body_markdown":"ScaryWombat: which one of the 3 questions did you answer? I&#39;ve read the docs. @JeffC I&#39;m calling this method from dozens of other methods and each method passes driver to many different functions.. by the time the programmer is done with WebDriver he may forget to close it.. so I want to enforce it.. and I want it to be enforced in one central location..","body":"ScaryWombat: which one of the 3 questions did you answer? I&#39;ve read the docs. @JeffC I&#39;m calling this method from dozens of other methods and each method passes driver to many different functions.. by the time the programmer is done with WebDriver he may forget to close it.. so I want to enforce it.. and I want it to be enforced in one central location.."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1526053498,"post_id":50283908,"comment_id":87608538,"body_markdown":"If you are using JUnit or TestNG you can create a method that closes the driver instance and label it with an attribute AfterClass, AfterMethod, etc. That should do what you want without the `AutoClosable`. If you don&#39;t want to do that or can&#39;t, it&#39;s a training issue. Make sure everyone knows to close the driver and provide a single method they can call. Do code reviews and add that to the checklist of things to validate before they can check in.","body":"If you are using JUnit or TestNG you can create a method that closes the driver instance and label it with an attribute AfterClass, AfterMethod, etc. That should do what you want without the <code>AutoClosable</code>. If you don&#39;t want to do that or can&#39;t, it&#39;s a training issue. Make sure everyone knows to close the driver and provide a single method they can call. Do code reviews and add that to the checklist of things to validate before they can check in."},{"owner":{"account_id":11876874,"reputation":876,"user_id":8814573,"display_name":"S.O.S"},"score":0,"creation_date":1526053813,"post_id":50283908,"comment_id":87608718,"body_markdown":"@JeffC Thanks! I will look into JUnit and TestNG. I&#39;m already issuing a warning to close browser when someone hovers over the function. However, I thought I might be able **enforce** this somehow using `AutoClosable` but apparently this is not possible..","body":"@JeffC Thanks! I will look into JUnit and TestNG. I&#39;m already issuing a warning to close browser when someone hovers over the function. However, I thought I might be able <b>enforce</b> this somehow using <code>AutoClosable</code> but apparently this is not possible.."}],"answers":[{"tags":[],"owner":{"account_id":13531564,"reputation":129,"user_id":9761865,"display_name":"Hello World"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1526004117,"creation_date":1526004117,"answer_id":50283932,"question_id":50283908,"body_markdown":"Using [Try-with-resources statement][1]：\r\n\r\n     try (WebDriverLauncher webDriverLauncher = new WebDriverLauncher(){\r\n         //Your Code Here\r\n     }//webDriverLauncher.close() will be called after here weather throw any exception in try...catch block or not.\r\n\r\nIn other worlds, `AutoClosable` interface is a constraint to determine which type can be used in `Try-with-resources statement`\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"How to Force AutoClosable Warning to Propagate to Caller of Class in Java?","body":"<p>Using <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">Try-with-resources statement</a>：</p>\n\n<pre><code> try (WebDriverLauncher webDriverLauncher = new WebDriverLauncher(){\n     //Your Code Here\n }//webDriverLauncher.close() will be called after here weather throw any exception in try...catch block or not.\n</code></pre>\n\n<p>In other worlds, <code>AutoClosable</code> interface is a constraint to determine which type can be used in <code>Try-with-resources statement</code></p>\n"},{"tags":[],"owner":{"account_id":14333443,"reputation":63,"user_id":10353624,"display_name":"mkRuby009"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690216207,"creation_date":1594907246,"answer_id":62936216,"question_id":50283908,"body_markdown":"I am late for this question. But here is my take: If we want to force client to use resource carefully, we can restrict the resource creation (private constructor plus disable reflection access by enabling property `-Djava.security.manager` for `jar`) and allow clients to only provide method to be called on that resource to the Resource factory.\r\n\r\n```java\r\npublic class MyResource implements AutoCloseable {\r\n    public static class ResourceFactory {\r\n        public static void useResourceSafely(Consumer&lt;MyResource&gt; work) {\r\n            try(MyResource res = new MyResource()) {\r\n                work.accept(res);\r\n            }\r\n            catch(Exception e) {\r\n                e.printStackTrace();\r\n                //you may even check for Suppressed exceptions\r\n            }\r\n        }\r\n    }\r\n\r\n    private MyResource() {\r\n        System.out.println(&quot;Resource created&quot;);\r\n    }\r\n    public void doWork() {\r\n        System.out.println(&quot;resource in use&quot;);\r\n    }\r\n    @Override\r\n    public void close() throws Exception {\r\n        System.out.println(&quot;Closing myResource&quot;);\r\n        \r\n    }\r\n}\r\n```\r\n\r\nClient code may look like this:   \r\n\r\n```java\r\npublic static void main(String[] args) throws Exception {\r\n    ResourceFactory.useResourceSafely(s -&gt; {\r\n        s.doWork();\r\n        System.out.println(&quot;Check 1&quot;);\r\n        s.doWork();\r\n        System.out.println(&quot;Check 2&quot;);\r\n    });\r\n}\r\n```\r\nThis might not be recommended way, but just an attempt to do so.\r\n","title":"How to Force AutoClosable Warning to Propagate to Caller of Class in Java?","body":"<p>I am late for this question. But here is my take: If we want to force client to use resource carefully, we can restrict the resource creation (private constructor plus disable reflection access by enabling property <code>-Djava.security.manager</code> for <code>jar</code>) and allow clients to only provide method to be called on that resource to the Resource factory.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyResource implements AutoCloseable {\n    public static class ResourceFactory {\n        public static void useResourceSafely(Consumer&lt;MyResource&gt; work) {\n            try(MyResource res = new MyResource()) {\n                work.accept(res);\n            }\n            catch(Exception e) {\n                e.printStackTrace();\n                //you may even check for Suppressed exceptions\n            }\n        }\n    }\n\n    private MyResource() {\n        System.out.println(&quot;Resource created&quot;);\n    }\n    public void doWork() {\n        System.out.println(&quot;resource in use&quot;);\n    }\n    @Override\n    public void close() throws Exception {\n        System.out.println(&quot;Closing myResource&quot;);\n        \n    }\n}\n</code></pre>\n<p>Client code may look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws Exception {\n    ResourceFactory.useResourceSafely(s -&gt; {\n        s.doWork();\n        System.out.println(&quot;Check 1&quot;);\n        s.doWork();\n        System.out.println(&quot;Check 2&quot;);\n    });\n}\n</code></pre>\n<p>This might not be recommended way, but just an attempt to do so.</p>\n"}],"owner":{"account_id":11876874,"reputation":876,"user_id":8814573,"display_name":"S.O.S"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":790,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1690216207,"creation_date":1526003916,"question_id":50283908,"body_markdown":"I&#39;m new to Java&#39;s AutoClosable interface (but not new to Java). I&#39;m trying to force client code which requests an instance of `WebDriver` to close the `driver` after it finishes using it (by calling `driver.quit()`)\r\n\r\nI want a way to force any method that instantiates instance of `WebDriver` to close it.\r\n\r\nSo I created a new class that implements `AutoClosable`:\r\n\r\n    public class WebDriverLauncher implements AutoCloseable {\r\n\t\r\n\tWebDriver driver;\r\n\r\n\tpublic WebDriverLauncher()\r\n\t{\r\n\t\tdriver = new FirefoxDriver();\r\n\t}\r\n\t\r\n\tpublic WebDriver getDriver()\r\n\t{\r\n\t\treturn driver;\r\n\t}\r\n\t\r\n\t\r\n\r\n\t@Override\r\n\tpublic void close() throws Exception {\r\n\t\tdriver.quit();\r\n\t\t\r\n\t    }\r\n\r\n    }\r\n\r\n\r\n\r\nNow instead of instantiating WebDriver directly (`WebDriver driver = new FirefoxDriver()`) I&#39;m instantiating instance of this class and have it return an instance of `WebDriver` such as in the following example:\r\n\r\n\tpublic WebDriver launchDriver()\r\n\t{\r\n\t\tWebDriverLauncher webDriverLauncher = new WebDriverLauncher();\r\n\t\t\r\n\t\tWebDriver driver = webDriverLauncher.getDriver();\r\n\t\t\r\n\t\treturn driver;\r\n\t}\r\n\r\n\r\nWhen I do this I receive a warning/error: `Resource leak: &#39;webDriverLauncher&#39; is never closed`\r\n\r\nSince I cannot close the resource within this method because the resource (i.e, `WebDriver`) is being used in the caller method I want to force the caller of `launchDriver()` to close the `driver`.\r\n\r\n\r\nSo instead I decided to have the method return an instance of `WebDriverLauncher` -  such as in the following example:\r\n\r\n\tpublic WebDriverLauncher launchDriver()\r\n\t{\r\n\t\t WebDriverLauncher webDriverLauncher = new WebDriverLauncher();\r\n\t\t return webDriverLauncher;\r\n\t}\r\n\r\n\r\nThis way the caller will have access to `driver` (by calling `webDriverLauncher .getDriver()` ) and be warned to close the resource (so I thought).\r\n\r\nHowever, when I tried this, the warning message disappeared entirely. In other words,  I no longer see the warning to close resource - neither in the `launchDriver()` class/method nor in the caller/client class (As I mentioned, I want the warning to appear so whoever calls this method is warned to close resource)\r\n\r\nWhat I&#39;m trying to understand is the following:\r\n\r\n**1)** Why isn&#39;t the warning propagated up to the caller class (if the resource has never been closed)?\r\n\r\n**2)** Why does the warning disappear when I return `webDriverLauncher` but not when I return `driver`?\r\n\r\n**3)** Is there a way to modify the code to force the warning to propagated up the caller? (so as to warn the caller of this method to close the resource)\r\n\r\n**4)** If this cannot be done, what *can* be done to force the client to close `WebDriver`?\r\n\r\nThanks!\r\n\r\n","title":"How to Force AutoClosable Warning to Propagate to Caller of Class in Java?","body":"<p>I'm new to Java's AutoClosable interface (but not new to Java). I'm trying to force client code which requests an instance of <code>WebDriver</code> to close the <code>driver</code> after it finishes using it (by calling <code>driver.quit()</code>)</p>\n\n<p>I want a way to force any method that instantiates instance of <code>WebDriver</code> to close it.</p>\n\n<p>So I created a new class that implements <code>AutoClosable</code>:</p>\n\n<pre><code>public class WebDriverLauncher implements AutoCloseable {\n\nWebDriver driver;\n\npublic WebDriverLauncher()\n{\n    driver = new FirefoxDriver();\n}\n\npublic WebDriver getDriver()\n{\n    return driver;\n}\n\n\n\n@Override\npublic void close() throws Exception {\n    driver.quit();\n\n    }\n\n}\n</code></pre>\n\n<p>Now instead of instantiating WebDriver directly (<code>WebDriver driver = new FirefoxDriver()</code>) I'm instantiating instance of this class and have it return an instance of <code>WebDriver</code> such as in the following example:</p>\n\n<pre><code>public WebDriver launchDriver()\n{\n    WebDriverLauncher webDriverLauncher = new WebDriverLauncher();\n\n    WebDriver driver = webDriverLauncher.getDriver();\n\n    return driver;\n}\n</code></pre>\n\n<p>When I do this I receive a warning/error: <code>Resource leak: 'webDriverLauncher' is never closed</code></p>\n\n<p>Since I cannot close the resource within this method because the resource (i.e, <code>WebDriver</code>) is being used in the caller method I want to force the caller of <code>launchDriver()</code> to close the <code>driver</code>.</p>\n\n<p>So instead I decided to have the method return an instance of <code>WebDriverLauncher</code> -  such as in the following example:</p>\n\n<pre><code>public WebDriverLauncher launchDriver()\n{\n     WebDriverLauncher webDriverLauncher = new WebDriverLauncher();\n     return webDriverLauncher;\n}\n</code></pre>\n\n<p>This way the caller will have access to <code>driver</code> (by calling <code>webDriverLauncher .getDriver()</code> ) and be warned to close the resource (so I thought).</p>\n\n<p>However, when I tried this, the warning message disappeared entirely. In other words,  I no longer see the warning to close resource - neither in the <code>launchDriver()</code> class/method nor in the caller/client class (As I mentioned, I want the warning to appear so whoever calls this method is warned to close resource)</p>\n\n<p>What I'm trying to understand is the following:</p>\n\n<p><strong>1)</strong> Why isn't the warning propagated up to the caller class (if the resource has never been closed)?</p>\n\n<p><strong>2)</strong> Why does the warning disappear when I return <code>webDriverLauncher</code> but not when I return <code>driver</code>?</p>\n\n<p><strong>3)</strong> Is there a way to modify the code to force the warning to propagated up the caller? (so as to warn the caller of this method to close the resource)</p>\n\n<p><strong>4)</strong> If this cannot be done, what <em>can</em> be done to force the client to close <code>WebDriver</code>?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","data-structures","priority-queue","heap","max-heap"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1689913502,"post_id":76735070,"comment_id":135283217,"body_markdown":"the lambda you provide, or rather the argument is supposed to be a comparator that compares one element in the priorityQueue to another to decide the ordering.","body":"the lambda you provide, or rather the argument is supposed to be a comparator that compares one element in the priorityQueue to another to decide the ordering."},{"owner":{"account_id":28751089,"reputation":1,"user_id":22019179,"display_name":"Namash Sharma"},"score":0,"creation_date":1689913700,"post_id":76735070,"comment_id":135283237,"body_markdown":"what is the one element and another element here. , is every element in the priority queue to be considered","body":"what is the one element and another element here. , is every element in the priority queue to be considered"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1689913761,"post_id":76735070,"comment_id":135283238,"body_markdown":"extra reading: https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html","body":"extra reading: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/Comparator.html</a>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1689914789,"post_id":76735070,"comment_id":135283332,"body_markdown":"&quot;_what is the one element and another element here_&quot; – Any two elements in the queue. That lambda is an implementation of `Comparator`. As part of the implementation of `PriorityQueue`, that comparator&#39;s `compare` method will be invoked with two arguments when and as appropriate.","body":"&quot;<i>what is the one element and another element here</i>&quot; – Any two elements in the queue. That lambda is an implementation of <code>Comparator</code>. As part of the implementation of <code>PriorityQueue</code>, that comparator&#39;s <code>compare</code> method will be invoked with two arguments when and as appropriate."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1689915108,"post_id":76735070,"comment_id":135283362,"body_markdown":"&quot;_how will this heap be a max heap_&quot; – [`PriorityQueue`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/PriorityQueue.html) is a min heap. Of course, you can &quot;reverse&quot; the comparison, making it appear to be a max heap with respect to the element&#39;s natural ordering. But it&#39;s still technically a min heap, as the head is the &quot;least&quot; element as defined by the `Comparator`.","body":"&quot;<i>how will this heap be a max heap</i>&quot; – <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/PriorityQueue.html\" rel=\"nofollow noreferrer\"><code>PriorityQueue</code></a> is a min heap. Of course, you can &quot;reverse&quot; the comparison, making it appear to be a max heap with respect to the element&#39;s natural ordering. But it&#39;s still technically a min heap, as the head is the &quot;least&quot; element as defined by the <code>Comparator</code>."},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1689919924,"post_id":76735070,"comment_id":135283934,"body_markdown":"Does this answer your question? [How do I use a PriorityQueue?](https://stackoverflow.com/questions/683041/how-do-i-use-a-priorityqueue)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/683041/how-do-i-use-a-priorityqueue\">How do I use a PriorityQueue?</a>"}],"answers":[{"tags":[],"owner":{"account_id":19530846,"reputation":11,"user_id":14290670,"display_name":"vs01"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690216192,"creation_date":1690216192,"answer_id":76756424,"question_id":76735070,"body_markdown":"In the provided code, `a` and `b` represent the elements present in the heap (PriorityQueue). The lambda expression `(a, b) -&gt; map.get(b) - map.get(a)` is used as the comparator for the `PriorityQueue`, which determines how elements are compared and ordered in the heap.\r\n\r\nIn a `PriorityQueue`, the elements are sorted based on the result of the comparator. The comparator is applied to the elements present in the queue to determine their relative order. In this case, the lambda expression compares the values of the keys in the `map` associated with elements `a` and `b`.\r\n\r\nThe lambda expression `(a, b) -&gt; map.get(b) - map.get(a)` subtracts the value associated with element `a` from the value associated with element `b`. This means that the element with a higher value in the `map` will be considered greater, and therefore, will have a higher priority in the `PriorityQueue`. Consequently, the `PriorityQueue` will act as a max heap, where the element with the highest value in the `map` will be at the root (top) of the heap.\r\n\r\nIn other words, the lambda expression is used to define the priority or ordering of elements in the `PriorityQueue`, and by subtracting the values in reverse order (`b - a`), we create a max heap where the element with the highest value in the `map` has the highest priority.","title":"what are the inputs given to the lambda expression(a,b) while creating a max priority queue in java","body":"<p>In the provided code, <code>a</code> and <code>b</code> represent the elements present in the heap (PriorityQueue). The lambda expression <code>(a, b) -&gt; map.get(b) - map.get(a)</code> is used as the comparator for the <code>PriorityQueue</code>, which determines how elements are compared and ordered in the heap.</p>\n<p>In a <code>PriorityQueue</code>, the elements are sorted based on the result of the comparator. The comparator is applied to the elements present in the queue to determine their relative order. In this case, the lambda expression compares the values of the keys in the <code>map</code> associated with elements <code>a</code> and <code>b</code>.</p>\n<p>The lambda expression <code>(a, b) -&gt; map.get(b) - map.get(a)</code> subtracts the value associated with element <code>a</code> from the value associated with element <code>b</code>. This means that the element with a higher value in the <code>map</code> will be considered greater, and therefore, will have a higher priority in the <code>PriorityQueue</code>. Consequently, the <code>PriorityQueue</code> will act as a max heap, where the element with the highest value in the <code>map</code> will be at the root (top) of the heap.</p>\n<p>In other words, the lambda expression is used to define the priority or ordering of elements in the <code>PriorityQueue</code>, and by subtracting the values in reverse order (<code>b - a</code>), we create a max heap where the element with the highest value in the <code>map</code> has the highest priority.</p>\n"}],"owner":{"account_id":28751089,"reputation":1,"user_id":22019179,"display_name":"Namash Sharma"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690216192,"creation_date":1689912729,"question_id":76735070,"body_markdown":"Started learning dsa and came across priority queues but I am stuck at lambda expressions in priority queue in java.\r\n\r\n \r\n    Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\r\n    PriorityQueue&lt;Integer&gt; q = new PriorityQueue&lt;&gt;((a,b)-&gt;map.get(b)-map.get(a));\r\n\r\n\r\nIn the above expressions, how will this heap be a max heap, how a,b values are to be considered whats their source? I have understood that the lambda expressions return -ve or +ve values and on that basis, it&#39;s decided whether its going to be a max or min heap but what are a,b how are they evaluated, from where they are received.\r\n\r\nAre a,b the values from heap? If they are, which values are they, the top ones or the bottom ones considering a max heap?","title":"what are the inputs given to the lambda expression(a,b) while creating a max priority queue in java","body":"<p>Started learning dsa and came across priority queues but I am stuck at lambda expressions in priority queue in java.</p>\n<pre><code>Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\nPriorityQueue&lt;Integer&gt; q = new PriorityQueue&lt;&gt;((a,b)-&gt;map.get(b)-map.get(a));\n</code></pre>\n<p>In the above expressions, how will this heap be a max heap, how a,b values are to be considered whats their source? I have understood that the lambda expressions return -ve or +ve values and on that basis, it's decided whether its going to be a max or min heap but what are a,b how are they evaluated, from where they are received.</p>\n<p>Are a,b the values from heap? If they are, which values are they, the top ones or the bottom ones considering a max heap?</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-sdk"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1690180148,"post_id":76751835,"comment_id":135311726,"body_markdown":"What XML are you talking about? Generally for public buckets it is enough to just hit the url with the object and be done with it, no need for the SDK. For anything else, particularly involving authentication, you should use the SDK.","body":"What XML are you talking about? Generally for public buckets it is enough to just hit the url with the object and be done with it, no need for the SDK. For anything else, particularly involving authentication, you should use the SDK."},{"owner":{"account_id":14602706,"reputation":13,"user_id":10546577,"display_name":"Matěj Schr&#246;dl"},"score":0,"creation_date":1690182441,"post_id":76751835,"comment_id":135312096,"body_markdown":"I am creating a program to download all objects from the bucket so I thought need to parse XML with the contents of the bucket provided to get valid URLs to downloaded the objects.","body":"I am creating a program to download all objects from the bucket so I thought need to parse XML with the contents of the bucket provided to get valid URLs to downloaded the objects."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1690183126,"post_id":76751835,"comment_id":135312203,"body_markdown":"Okay, you are talking about *listing* first and then retrieving all the files, I get it. Now back to your question: *&quot;Are there other benefits to using the SDK, or is the XML method just as efficient?&quot;* - the bare XML approach is probably more *efficient* than using the SDK in terms of actual computation but it is way more complex for you to implement and maintain and requires knowledge over the fact that there is XML going on, what structure that XML has, how to parse it, etc. The purpose of the SDK is abstraction so that you do not have to deal with all of that in the first place.","body":"Okay, you are talking about <i>listing</i> first and then retrieving all the files, I get it. Now back to your question: <i>&quot;Are there other benefits to using the SDK, or is the XML method just as efficient?&quot;</i> - the bare XML approach is probably more <i>efficient</i> than using the SDK in terms of actual computation but it is way more complex for you to implement and maintain and requires knowledge over the fact that there is XML going on, what structure that XML has, how to parse it, etc. The purpose of the SDK is abstraction so that you do not have to deal with all of that in the first place."},{"owner":{"account_id":14602706,"reputation":13,"user_id":10546577,"display_name":"Matěj Schr&#246;dl"},"score":0,"creation_date":1690185453,"post_id":76751835,"comment_id":135312619,"body_markdown":"Ok, that makes sense, thank you for your answer.","body":"Ok, that makes sense, thank you for your answer."}],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690216068,"creation_date":1690216068,"answer_id":76756405,"question_id":76751835,"body_markdown":"If you are going to use the AWS SDK for Java, make sure you use V2 over V1. V1 is no [longer recommended][1]. \r\n\r\nTo learn the advanages of using the *AWS SDK for Java V2*, I recommend you look at the Java V2 Developer Guide. \r\n\r\n[Developer Guide - AWS SDK for Java 2.x][3]\r\n\r\nA few benefits are: \r\n\r\n***The AWS SDK for Java 2.x is a major rewrite of the version 1.x code base. It’s built on top of Java 8+ and adds several frequently requested features. These include support for non-blocking I/O and the ability to plug in a different HTTP implementation at runtime.***\r\n\r\nIf for example, you need to interact with AWS Services using Asynchronous programming, this is fully supported with V2: \r\n\r\n[Asynchronous programming][2]\r\n\r\nThere are many other benfits too as opposed to writing your own logic and using XML. \r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/awsdocs/aws-doc-sdk-examples#aws-sdk-code-examples\r\n  [2]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/asynchronous.html\r\n  [3]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html","title":"When retrieving data from a public S3 bucket, is it preferable to use the SDK or download the XML file?","body":"<p>If you are going to use the AWS SDK for Java, make sure you use V2 over V1. V1 is no <a href=\"https://github.com/awsdocs/aws-doc-sdk-examples#aws-sdk-code-examples\" rel=\"nofollow noreferrer\">longer recommended</a>.</p>\n<p>To learn the advanages of using the <em>AWS SDK for Java V2</em>, I recommend you look at the Java V2 Developer Guide.</p>\n<p><a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html\" rel=\"nofollow noreferrer\">Developer Guide - AWS SDK for Java 2.x</a></p>\n<p>A few benefits are:</p>\n<p><em><strong>The AWS SDK for Java 2.x is a major rewrite of the version 1.x code base. It’s built on top of Java 8+ and adds several frequently requested features. These include support for non-blocking I/O and the ability to plug in a different HTTP implementation at runtime.</strong></em></p>\n<p>If for example, you need to interact with AWS Services using Asynchronous programming, this is fully supported with V2:</p>\n<p><a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/asynchronous.html\" rel=\"nofollow noreferrer\">Asynchronous programming</a></p>\n<p>There are many other benfits too as opposed to writing your own logic and using XML.</p>\n"}],"owner":{"account_id":14602706,"reputation":13,"user_id":10546577,"display_name":"Matěj Schr&#246;dl"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76756405,"answer_count":1,"score":1,"last_activity_date":1690216068,"creation_date":1690179396,"question_id":76751835,"body_markdown":"I am working with a public AWS S3 bucket from which I only need to retrieve data. The bucket permissions only allow data retrieval, and no other operations are permitted.\r\n\r\nI have experimented with two approaches to access the data:\r\n\r\n1. **Downloading the XML**: I programmatically downloaded the XML representation of the bucket&#39;s contents. Afterward, I parsed this XML to identify and download the specific files I needed from the bucket.\r\n\r\n2. **Using the SDK**: I created a client using the AWS SDK. This allowed me to directly fetch objects from the bucket without having to deal with the intermediary step of parsing XML files.\r\n\r\n\r\n\r\nWhile I observed that the SDK approach eliminated the need for XML parsing, I didn’t notice any other distinct advantages. Are there other benefits to using the SDK, or is the XML method just as efficient? I&#39;d appreciate any insights or best practices on this matter. My main expectation was to identify a method that is both efficient and commonly accepted as a standard practice in the AWS community.","title":"When retrieving data from a public S3 bucket, is it preferable to use the SDK or download the XML file?","body":"<p>I am working with a public AWS S3 bucket from which I only need to retrieve data. The bucket permissions only allow data retrieval, and no other operations are permitted.</p>\n<p>I have experimented with two approaches to access the data:</p>\n<ol>\n<li><p><strong>Downloading the XML</strong>: I programmatically downloaded the XML representation of the bucket's contents. Afterward, I parsed this XML to identify and download the specific files I needed from the bucket.</p>\n</li>\n<li><p><strong>Using the SDK</strong>: I created a client using the AWS SDK. This allowed me to directly fetch objects from the bucket without having to deal with the intermediary step of parsing XML files.</p>\n</li>\n</ol>\n<p>While I observed that the SDK approach eliminated the need for XML parsing, I didn’t notice any other distinct advantages. Are there other benefits to using the SDK, or is the XML method just as efficient? I'd appreciate any insights or best practices on this matter. My main expectation was to identify a method that is both efficient and commonly accepted as a standard practice in the AWS community.</p>\n"},{"tags":["java","amazon-web-services","amazon-cloudfront"],"answers":[{"tags":[],"owner":{"account_id":333431,"reputation":23797,"user_id":659298,"accept_rate":61,"display_name":"tedder42"},"down_vote_count":1,"up_vote_count":14,"is_accepted":true,"score":13,"last_activity_date":1453223656,"creation_date":1424024355,"answer_id":28529438,"question_id":28527188,"body_markdown":"    import com.amazonaws.services.cloudfront;\r\n    import com.amazonaws.services.cloudfront.model.CreateInvalidationRequest;\r\n    import com.amazonaws.services.cloudfront.model.Paths;\r\n    import com.amazonaws.services.cloudfront.model.InvalidationBatch;\r\n    import com.amazonaws.auth.DefaultAWSCredentialsProviderChain;\r\n\r\n    AWSCredentials awsCredentials = new DefaultAWSCredentialsProviderChain().getCredentials();\r\n    AmazonCloudFrontClient client = new AmazonCloudFrontClient(awsCredentials);\r\n    \r\n    Paths invalidation_paths = new Paths().withItems(&quot;/path/to/invalidate/foo.jpg&quot;, &quot;/path/file2.txt&quot;).withQuantity(2);\r\n    InvalidationBatch invalidation_batch = new InvalidationBatch(invalidation_paths, &quot;unique_id_like_a_date&quot;);\r\n    CreateInvalidationRequest invalidation = new CreateInvalidationRequest(&quot;distributionID&quot;, invalidation_batch);\r\n    CreateInvalidationResult ret = client.createInvalidation(invalidation);\r\n\r\n\r\nNote you can only have **three** concurrent invalidations; an invalidation seems to take 10-30 minutes.","title":"How to invalidate a file(to be refreshed) served from Cloudfront CDN via Java AWS SDK?","body":"<pre><code>import com.amazonaws.services.cloudfront;\nimport com.amazonaws.services.cloudfront.model.CreateInvalidationRequest;\nimport com.amazonaws.services.cloudfront.model.Paths;\nimport com.amazonaws.services.cloudfront.model.InvalidationBatch;\nimport com.amazonaws.auth.DefaultAWSCredentialsProviderChain;\n\nAWSCredentials awsCredentials = new DefaultAWSCredentialsProviderChain().getCredentials();\nAmazonCloudFrontClient client = new AmazonCloudFrontClient(awsCredentials);\n\nPaths invalidation_paths = new Paths().withItems(\"/path/to/invalidate/foo.jpg\", \"/path/file2.txt\").withQuantity(2);\nInvalidationBatch invalidation_batch = new InvalidationBatch(invalidation_paths, \"unique_id_like_a_date\");\nCreateInvalidationRequest invalidation = new CreateInvalidationRequest(\"distributionID\", invalidation_batch);\nCreateInvalidationResult ret = client.createInvalidation(invalidation);\n</code></pre>\n\n<p>Note you can only have <strong>three</strong> concurrent invalidations; an invalidation seems to take 10-30 minutes.</p>\n"},{"tags":[],"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1430910235,"creation_date":1430910235,"answer_id":30074889,"question_id":28527188,"body_markdown":"From AWS Documentation:\r\n\r\nYou can have invalidation requests for up to 3,000 object URLs per distribution in progress at one time, and each invalidation request can include up to 3,000 object URLs. You can make as many invalidation requests as you want as long as you don&#39;t exceed this limit. For example, you can create 30 invalidations that invalidate 100 objects each, but as long as all 30 invalidations are still in progress, you can&#39;t create any more invalidations. If you exceed the limit, CloudFront returns an error message.\r\n\r\nIt usually takes 10 to 15 minutes for CloudFront to complete your invalidation request, depending on the number of object URLs that you included in the request.\r\n\r\nhttp://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/Invalidation.html","title":"How to invalidate a file(to be refreshed) served from Cloudfront CDN via Java AWS SDK?","body":"<p>From AWS Documentation:</p>\n\n<p>You can have invalidation requests for up to 3,000 object URLs per distribution in progress at one time, and each invalidation request can include up to 3,000 object URLs. You can make as many invalidation requests as you want as long as you don't exceed this limit. For example, you can create 30 invalidations that invalidate 100 objects each, but as long as all 30 invalidations are still in progress, you can't create any more invalidations. If you exceed the limit, CloudFront returns an error message.</p>\n\n<p>It usually takes 10 to 15 minutes for CloudFront to complete your invalidation request, depending on the number of object URLs that you included in the request.</p>\n\n<p><a href=\"http://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/Invalidation.html\" rel=\"nofollow\">http://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/Invalidation.html</a></p>\n"},{"tags":[],"owner":{"account_id":7018496,"reputation":103,"user_id":5378902,"accept_rate":75,"display_name":"Harry Lausen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501739828,"creation_date":1501739828,"answer_id":45475953,"question_id":28527188,"body_markdown":"By Using Object Invalidation, we achieve this.\r\n\r\nObject Invalidation - Invalidate objects in a distribution to force CloudFront to fetch the latest object data from the S3 origin.\r\n\r\nPlease refer this link,\r\nhttp://jets3t.s3.amazonaws.com/toolkit/code-samples.html#cloudfront-invalidation","title":"How to invalidate a file(to be refreshed) served from Cloudfront CDN via Java AWS SDK?","body":"<p>By Using Object Invalidation, we achieve this.</p>\n\n<p>Object Invalidation - Invalidate objects in a distribution to force CloudFront to fetch the latest object data from the S3 origin.</p>\n\n<p>Please refer this link,\n<a href=\"http://jets3t.s3.amazonaws.com/toolkit/code-samples.html#cloudfront-invalidation\" rel=\"nofollow noreferrer\">http://jets3t.s3.amazonaws.com/toolkit/code-samples.html#cloudfront-invalidation</a></p>\n"},{"tags":[],"owner":{"account_id":7905061,"reputation":4112,"user_id":6013537,"accept_rate":100,"display_name":"Arcones"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1562688218,"creation_date":1562688218,"answer_id":56956583,"question_id":28527188,"body_markdown":"With **the new AWS Java SDK 2.x**, I have successfully invalidated some paths with this:\r\n\r\n```\r\n        Paths invalidationPaths = Paths.builder()\r\n                .items(&quot;/thing.txt&quot;, &quot;/foo/bar/*&quot;)\r\n                .quantity(2)\r\n                .build();\r\n\r\n        InvalidationBatch invalidationBatch = InvalidationBatch.builder()\r\n                .paths(invalidationPaths)\r\n                .callerReference(&quot;arcones&quot;)\r\n                .build();\r\n\r\n        CreateInvalidationRequest createInvalidationRequest = CreateInvalidationRequest.builder()\r\n                .distributionId(distributionID)\r\n                .invalidationBatch(invalidationBatch)\r\n                .build();\r\n\r\n        cloudFront.createInvalidation(createInvalidationRequest);\r\n```\r\n\r\nTake in mind that the invalidation is asynchronous, so it will be issued to your CloudFront distribution when you run this and will take a while to be processed (you can notice that the invalidation has finished when the status becomes `Completed`).\r\n","title":"How to invalidate a file(to be refreshed) served from Cloudfront CDN via Java AWS SDK?","body":"<p>With <strong>the new AWS Java SDK 2.x</strong>, I have successfully invalidated some paths with this:</p>\n\n<pre><code>        Paths invalidationPaths = Paths.builder()\n                .items(\"/thing.txt\", \"/foo/bar/*\")\n                .quantity(2)\n                .build();\n\n        InvalidationBatch invalidationBatch = InvalidationBatch.builder()\n                .paths(invalidationPaths)\n                .callerReference(\"arcones\")\n                .build();\n\n        CreateInvalidationRequest createInvalidationRequest = CreateInvalidationRequest.builder()\n                .distributionId(distributionID)\n                .invalidationBatch(invalidationBatch)\n                .build();\n\n        cloudFront.createInvalidation(createInvalidationRequest);\n</code></pre>\n\n<p>Take in mind that the invalidation is asynchronous, so it will be issued to your CloudFront distribution when you run this and will take a while to be processed (you can notice that the invalidation has finished when the status becomes <code>Completed</code>).</p>\n"},{"tags":[],"owner":{"account_id":1652056,"reputation":1525,"user_id":1522438,"display_name":"searching9x"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690215994,"creation_date":1602706415,"answer_id":64360854,"question_id":28527188,"body_markdown":"New update:\r\n\r\n    \r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    \r\n    import com.amazonaws.auth.AWSCredentialsProvider;\r\n    import com.amazonaws.auth.AWSStaticCredentialsProvider;\r\n    import com.amazonaws.auth.BasicAWSCredentials;\r\n    import com.amazonaws.regions.Regions;\r\n    import com.amazonaws.services.cloudfront.AmazonCloudFrontClient;\r\n    import com.amazonaws.services.cloudfront.AmazonCloudFrontClientBuilder;\r\n    import com.amazonaws.services.cloudfront.model.CreateInvalidationRequest;\r\n    import com.amazonaws.services.cloudfront.model.CreateInvalidationResult;\r\n    import com.amazonaws.services.cloudfront.model.InvalidationBatch;\r\n    import com.amazonaws.services.cloudfront.model.Paths;\r\n    \r\n    \r\n    // Utils method return AmazonCloudFrontClient\r\n    public static AmazonCloudFrontClient getAmazonCloudFront() {\r\n    \t\tRegions region = Regions.EU_CENTRAL_1; // Some Region.\r\n    \r\n    \t\tBasicAWSCredentials awsCredentials = new BasicAWSCredentials(&quot;AMAZON_AWS_ID&quot;, &quot;AMAZON_AWS_SECRET&quot;);\r\n    \t\tAWSCredentialsProvider amazonCredentialProvider = new AWSStaticCredentialsProvider(awsCredentials);\r\n    \r\n    \t\tAmazonCloudFrontClient client = (AmazonCloudFrontClient) AmazonCloudFrontClientBuilder //\r\n    \t\t\t\t.standard() //\r\n    \t\t\t\t.withCredentials(amazonCredentialProvider) //\r\n    \t\t\t\t.withRegion(region) //\r\n    \t\t\t\t.build();\r\n    \t\treturn client;\r\n    }\r\n    \r\n    // Send Invalidation\r\n    public static void sendInvalidation(String distributionId, String[] invalidationPaths) {\r\n       \r\n      System.out.println(&quot;DistributionID: &quot; + distributionId);\r\n      System.out.println(&quot;Send Invalidations: &quot; + invalidationPaths);\r\n    \r\n      //\r\n      AmazonCloudFrontClient client = getAmazonCloudFront();\r\n    \r\n      Paths invalidation_paths = new Paths().withItems(invalidationPaths).withQuantity(invalidationPaths.length);\r\n      LocalDateTime now = LocalDateTime.now();\r\n      // Unique ID like a date: &quot;20201001090000&quot;\r\n      String uniqueId = now.format(DateTimeFormatter.ofPattern(&quot;yyyyMMddHHmmss&quot;));\r\n      System.out.println(&quot;Invalidation ID: &quot; + uniqueId);\r\n    \r\n      InvalidationBatch invalidation_batch = new InvalidationBatch(invalidation_paths, uniqueId);\r\n      CreateInvalidationRequest invalidation = new CreateInvalidationRequest(distributionId, invalidation_batch);\r\n      CreateInvalidationResult ret = client.createInvalidation(invalidation);\r\n      System.out.println(&quot;Invalidation Result: &quot; + ret);\r\n      System.out.println(&quot;Invalidation Done!&quot;);\r\n    }","title":"How to invalidate a file(to be refreshed) served from Cloudfront CDN via Java AWS SDK?","body":"<p>New update:</p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\n\nimport com.amazonaws.auth.AWSCredentialsProvider;\nimport com.amazonaws.auth.AWSStaticCredentialsProvider;\nimport com.amazonaws.auth.BasicAWSCredentials;\nimport com.amazonaws.regions.Regions;\nimport com.amazonaws.services.cloudfront.AmazonCloudFrontClient;\nimport com.amazonaws.services.cloudfront.AmazonCloudFrontClientBuilder;\nimport com.amazonaws.services.cloudfront.model.CreateInvalidationRequest;\nimport com.amazonaws.services.cloudfront.model.CreateInvalidationResult;\nimport com.amazonaws.services.cloudfront.model.InvalidationBatch;\nimport com.amazonaws.services.cloudfront.model.Paths;\n\n\n// Utils method return AmazonCloudFrontClient\npublic static AmazonCloudFrontClient getAmazonCloudFront() {\n        Regions region = Regions.EU_CENTRAL_1; // Some Region.\n\n        BasicAWSCredentials awsCredentials = new BasicAWSCredentials(&quot;AMAZON_AWS_ID&quot;, &quot;AMAZON_AWS_SECRET&quot;);\n        AWSCredentialsProvider amazonCredentialProvider = new AWSStaticCredentialsProvider(awsCredentials);\n\n        AmazonCloudFrontClient client = (AmazonCloudFrontClient) AmazonCloudFrontClientBuilder //\n                .standard() //\n                .withCredentials(amazonCredentialProvider) //\n                .withRegion(region) //\n                .build();\n        return client;\n}\n\n// Send Invalidation\npublic static void sendInvalidation(String distributionId, String[] invalidationPaths) {\n   \n  System.out.println(&quot;DistributionID: &quot; + distributionId);\n  System.out.println(&quot;Send Invalidations: &quot; + invalidationPaths);\n\n  //\n  AmazonCloudFrontClient client = getAmazonCloudFront();\n\n  Paths invalidation_paths = new Paths().withItems(invalidationPaths).withQuantity(invalidationPaths.length);\n  LocalDateTime now = LocalDateTime.now();\n  // Unique ID like a date: &quot;20201001090000&quot;\n  String uniqueId = now.format(DateTimeFormatter.ofPattern(&quot;yyyyMMddHHmmss&quot;));\n  System.out.println(&quot;Invalidation ID: &quot; + uniqueId);\n\n  InvalidationBatch invalidation_batch = new InvalidationBatch(invalidation_paths, uniqueId);\n  CreateInvalidationRequest invalidation = new CreateInvalidationRequest(distributionId, invalidation_batch);\n  CreateInvalidationResult ret = client.createInvalidation(invalidation);\n  System.out.println(&quot;Invalidation Result: &quot; + ret);\n  System.out.println(&quot;Invalidation Done!&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":252236,"reputation":26021,"user_id":530153,"accept_rate":66,"display_name":"Rajat Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7013,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":28529438,"answer_count":5,"score":6,"last_activity_date":1690215994,"creation_date":1424011221,"question_id":28527188,"body_markdown":"\r\nI am using Java SDK to uploaded images to S3, How do I invalidate a file in CloudFront so that it is refetched from s3 origin. How to do it via Java SDK ?","title":"How to invalidate a file(to be refreshed) served from Cloudfront CDN via Java AWS SDK?","body":"<p>I am using Java SDK to uploaded images to S3, How do I invalidate a file in CloudFront so that it is refetched from s3 origin. How to do it via Java SDK ?</p>\n"},{"tags":["java","reflection","delegates"],"comments":[{"owner":{"account_id":5688520,"reputation":7765,"user_id":4497253,"display_name":"CoronA"},"score":0,"creation_date":1432113884,"post_id":30344715,"comment_id":48783818,"body_markdown":"Certainly there is a (simple) solution with reflection, but do you want to accept the performance problems? The version with manual delegates is even simpler to read.","body":"Certainly there is a (simple) solution with reflection, but do you want to accept the performance problems? The version with manual delegates is even simpler to read."},{"owner":{"account_id":229478,"reputation":4806,"user_id":1874113,"accept_rate":67,"display_name":"walkeros"},"score":0,"creation_date":1432114128,"post_id":30344715,"comment_id":48784006,"body_markdown":"I changed all back to MyClass. In my situation both class really inherit from MyBaseClass, but I wanted to make the example simpler so I changed it inherit from MyClass (I removed the edit with MyBaseClass, so you can for now forget about it:).","body":"I changed all back to MyClass. In my situation both class really inherit from MyBaseClass, but I wanted to make the example simpler so I changed it inherit from MyClass (I removed the edit with MyBaseClass, so you can for now forget about it:)."},{"owner":{"account_id":229478,"reputation":4806,"user_id":1874113,"accept_rate":67,"display_name":"walkeros"},"score":0,"creation_date":1432114251,"post_id":30344715,"comment_id":48784093,"body_markdown":"If you mean that I will have worse performance with reflection than this is acceptable. I would prefer not to use reflection (if possible) but it is still an acceptable option. If you have idea how to do this with reflection please post an answer. BTW: see my comment for an answer posted by @Nitin Dandriyal","body":"If you mean that I will have worse performance with reflection than this is acceptable. I would prefer not to use reflection (if possible) but it is still an acceptable option. If you have idea how to do this with reflection please post an answer. BTW: see my comment for an answer posted by @Nitin Dandriyal"},{"owner":{"account_id":5688520,"reputation":7765,"user_id":4497253,"display_name":"CoronA"},"score":1,"creation_date":1432114840,"post_id":30344715,"comment_id":48784540,"body_markdown":"I could provide a solution with common interface, i.e. `MyClass` and `WrapperClass` implement the same interface and WrapperClass delegates to this interface. Ok for you?","body":"I could provide a solution with common interface, i.e. <code>MyClass</code> and <code>WrapperClass</code> implement the same interface and WrapperClass delegates to this interface. Ok for you?"},{"owner":{"account_id":229478,"reputation":4806,"user_id":1874113,"accept_rate":67,"display_name":"walkeros"},"score":0,"creation_date":1432114906,"post_id":30344715,"comment_id":48784590,"body_markdown":"Yes.. This seems exactly what I&#39;m looking for.","body":"Yes.. This seems exactly what I&#39;m looking for."}],"answers":[{"tags":[],"owner":{"account_id":5595470,"reputation":34938,"user_id":4433386,"accept_rate":83,"display_name":"Marcus M&#252;ller"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1432112878,"creation_date":1432112089,"answer_id":30344808,"question_id":30344715,"body_markdown":"You don&#39;t have to do this -- your Wrapper class is a subclass of the original class, so it inherits *all* of its publicly accessible methods -- and if you don&#39;t implement them, the original method will be called.\r\n\r\nYou shouldn&#39;t have `extends Myclass` together with a private `MyClass` object -- that&#39;s really really redundant, and I can&#39;t think of a design pattern where doing that is right. Your `WrapperClass` **is** a `MyClass`, and hence you can just use its own fields and methods instead of calling `delegate`.\r\n\r\nEDIT: In the case of `MyClass` being `final`, you&#39;d be circumventing the willfull declaration to not allow subclassing by &quot;faking&quot; inheritance; I can&#39;t think of anyone willing to do that other than you, who is in control of `WrapperClass`; but, since you&#39;re in control of `WrapperClass`, not wrapping everything you don&#39;t need is really more than an option -- it&#39;s the right thing to do, because your object **is not** a `MyClass`, and should only behave like one in the cases you mentally considered.\r\n\r\n**EDIT** you&#39;ve just changed your question to mean something completely different by removing the `MyClass` superclass to your `WrapperClass`; that&#39;s a bit bad, because it invalidates all answers given so far. You should have opened another question.","title":"Automatically delegating all methods of a java class","body":"<p>You don't have to do this -- your Wrapper class is a subclass of the original class, so it inherits <em>all</em> of its publicly accessible methods -- and if you don't implement them, the original method will be called.</p>\n\n<p>You shouldn't have <code>extends Myclass</code> together with a private <code>MyClass</code> object -- that's really really redundant, and I can't think of a design pattern where doing that is right. Your <code>WrapperClass</code> <strong>is</strong> a <code>MyClass</code>, and hence you can just use its own fields and methods instead of calling <code>delegate</code>.</p>\n\n<p>EDIT: In the case of <code>MyClass</code> being <code>final</code>, you'd be circumventing the willfull declaration to not allow subclassing by \"faking\" inheritance; I can't think of anyone willing to do that other than you, who is in control of <code>WrapperClass</code>; but, since you're in control of <code>WrapperClass</code>, not wrapping everything you don't need is really more than an option -- it's the right thing to do, because your object <strong>is not</strong> a <code>MyClass</code>, and should only behave like one in the cases you mentally considered.</p>\n\n<p><strong>EDIT</strong> you've just changed your question to mean something completely different by removing the <code>MyClass</code> superclass to your <code>WrapperClass</code>; that's a bit bad, because it invalidates all answers given so far. You should have opened another question.</p>\n"},{"tags":[],"owner":{"account_id":2779425,"reputation":1569,"user_id":2392258,"display_name":"Nitin Dandriyal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432113919,"creation_date":1432112749,"answer_id":30345086,"question_id":30344715,"body_markdown":"Define a method in `WrapperClass` i.e. `delegate()` that returns the instance of `MyClass`\r\n\r\nOR\r\n\r\nYou can use reflection to do that but the caller has to pass the method name as an argument to an exposed method. And there will be complications regarding the method arguments/overloaded methods etc.\r\n\r\n\r\n&gt; BTW: I can not use inheritance because the delegate is not under my control.I just get its instance from elsewhere (another case would be if MyClass was final)\r\n\r\nThe code that you have posted has `public class WrapperClass extends MyClass` \r\n\r\n\r\nActually your current implementation of `WrapperClass` is actually a  decorator on top of MyClass \r\n","title":"Automatically delegating all methods of a java class","body":"<p>Define a method in <code>WrapperClass</code> i.e. <code>delegate()</code> that returns the instance of <code>MyClass</code></p>\n\n<p>OR</p>\n\n<p>You can use reflection to do that but the caller has to pass the method name as an argument to an exposed method. And there will be complications regarding the method arguments/overloaded methods etc.</p>\n\n<blockquote>\n  <p>BTW: I can not use inheritance because the delegate is not under my control.I just get its instance from elsewhere (another case would be if MyClass was final)</p>\n</blockquote>\n\n<p>The code that you have posted has <code>public class WrapperClass extends MyClass</code> </p>\n\n<p>Actually your current implementation of <code>WrapperClass</code> is actually a  decorator on top of MyClass </p>\n"},{"tags":[],"owner":{"account_id":5688520,"reputation":7765,"user_id":4497253,"display_name":"CoronA"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1432116017,"creation_date":1432115512,"answer_id":30346188,"question_id":30344715,"body_markdown":"Perhaps the dynamic `Proxy` of java can help you. It only works if you consequently use interfaces. In this case, I will call the interface `MyInterface` and set up a default implementation:\r\n\r\n\tpublic class MyClass implements MyInterface {\r\n\t\r\n\t\t@Override\r\n\t\tpublic void method1() {\r\n\t\t\tSystem.out.println(&quot;foo1&quot;);\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic void method2() {\r\n\t\t\tSystem.out.println(&quot;foo2&quot;);\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic void methodN() {\r\n\t\t\tSystem.out.println(&quot;fooN&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tMyClass wrapped = new MyClass();\r\n\t\t\twrapped.method1();\r\n\t\t\twrapped.method2();\r\n            MyInterface wrapper = WrapperClass.wrap(wrapped);\r\n            wrapper.method1();\r\n\t\t\twrapper.method2();\r\n\t\t}\r\n\t\r\n\t}\r\n\r\nThe wrapper class implementation would look like:\r\n\r\n\tpublic class WrapperClass extends MyClass implements MyInterface, InvocationHandler {\r\n\t\r\n\t\tprivate final MyClass delegate;\r\n\t\r\n\t\tpublic WrapperClass(MyClass delegate) {\r\n\t\t\tthis.delegate = delegate;\r\n\t\t}\r\n\t\r\n\t\tpublic static MyInterface wrap(MyClass wrapped) {\r\n\t\t\treturn (MyInterface) Proxy.newProxyInstance(MyClass.class.getClassLoader(), new Class[] { MyInterface.class }, new WrapperClass(wrapped));\r\n\t\t}\r\n\t\t\r\n        //you may skip this definition, it is only for demonstration\r\n\t\tpublic void method1() {\r\n\t\t\tSystem.out.println(&quot;bar&quot;);\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\r\n\t\t\tMethod m = findMethod(this.getClass(), method);\r\n\t\t\tif (m != null) {\r\n\t\t\t\treturn m.invoke(this, args);\r\n\t\t\t}\r\n\t\t\tm = findMethod(delegate.getClass(), method);\r\n\t\t\tif (m != null) {\r\n\t\t\t\treturn m.invoke(delegate, args);\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\r\n\t\tprivate Method findMethod(Class&lt;?&gt; clazz, Method method) throws Throwable {\r\n\t\t\ttry {\r\n\t\t\t\treturn clazz.getDeclaredMethod(method.getName(), method.getParameterTypes());\r\n\t\t\t} catch (NoSuchMethodException e) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nNote that this class:\r\n\r\n- extends `MyClass`, to inherit a default implementation (any other would do)\r\n- implements `Invocationhandler`, to allow the proxy to do reflection\r\n- optionally implement `MyInterface` (to satisfy the decorator pattern)\r\n\r\nThis solution allows you to override special methods, but to delegate all others. This will even work with sub classes of Wrapper class.\r\n\r\nNote that the method `findMethod` does not yet capture the special cases. ","title":"Automatically delegating all methods of a java class","body":"<p>Perhaps the dynamic <code>Proxy</code> of java can help you. It only works if you consequently use interfaces. In this case, I will call the interface <code>MyInterface</code> and set up a default implementation:</p>\n\n<pre><code>public class MyClass implements MyInterface {\n\n    @Override\n    public void method1() {\n        System.out.println(\"foo1\");\n    }\n\n    @Override\n    public void method2() {\n        System.out.println(\"foo2\");\n    }\n\n    @Override\n    public void methodN() {\n        System.out.println(\"fooN\");\n    }\n\n    public static void main(String[] args) {\n        MyClass wrapped = new MyClass();\n        wrapped.method1();\n        wrapped.method2();\n        MyInterface wrapper = WrapperClass.wrap(wrapped);\n        wrapper.method1();\n        wrapper.method2();\n    }\n\n}\n</code></pre>\n\n<p>The wrapper class implementation would look like:</p>\n\n<pre><code>public class WrapperClass extends MyClass implements MyInterface, InvocationHandler {\n\n    private final MyClass delegate;\n\n    public WrapperClass(MyClass delegate) {\n        this.delegate = delegate;\n    }\n\n    public static MyInterface wrap(MyClass wrapped) {\n        return (MyInterface) Proxy.newProxyInstance(MyClass.class.getClassLoader(), new Class[] { MyInterface.class }, new WrapperClass(wrapped));\n    }\n\n    //you may skip this definition, it is only for demonstration\n    public void method1() {\n        System.out.println(\"bar\");\n    }\n\n    @Override\n    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n        Method m = findMethod(this.getClass(), method);\n        if (m != null) {\n            return m.invoke(this, args);\n        }\n        m = findMethod(delegate.getClass(), method);\n        if (m != null) {\n            return m.invoke(delegate, args);\n        }\n        return null;\n    }\n\n    private Method findMethod(Class&lt;?&gt; clazz, Method method) throws Throwable {\n        try {\n            return clazz.getDeclaredMethod(method.getName(), method.getParameterTypes());\n        } catch (NoSuchMethodException e) {\n            return null;\n        }\n    }\n\n}\n</code></pre>\n\n<p>Note that this class:</p>\n\n<ul>\n<li>extends <code>MyClass</code>, to inherit a default implementation (any other would do)</li>\n<li>implements <code>Invocationhandler</code>, to allow the proxy to do reflection</li>\n<li>optionally implement <code>MyInterface</code> (to satisfy the decorator pattern)</li>\n</ul>\n\n<p>This solution allows you to override special methods, but to delegate all others. This will even work with sub classes of Wrapper class.</p>\n\n<p>Note that the method <code>findMethod</code> does not yet capture the special cases. </p>\n"},{"tags":[],"owner":{"account_id":454912,"reputation":2664,"user_id":852795,"accept_rate":85,"display_name":"Mark Cramer"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1446599821,"creation_date":1446599821,"answer_id":33512097,"question_id":30344715,"body_markdown":"This question is 6 months old already and @CoronA&#39;s wonderful answer has satisfied and been accepted by @walkeros, but I thought I would add something here as I think this can be pushed an extra step.\r\n\r\nAs discussed with @CoronA in the comments to his answer, instead of having to create and maintain a long list of `MyClass` methods in `WrapperClass` (i.e. `public void methodN() { delegate.methodN(); }`), the dynamic proxy solution moves this to the interface. The issue is that you still have to create and maintain a long list of signatures for the `MyClass` methods in the interface, which is perhaps a bit simpler but doesn&#39;t completely solve the problem. This is especially the case if you don&#39;t have access to `MyClass` in order to know all the methods.\r\n\r\nAccording to [Three approaches for decorating your code][1], \r\n\r\n&gt; For longer classes, a programmer must choose the lesser of two evils:\r\n&gt; implement many wrapper methods and keep the type of decorated object\r\n&gt; or maintain a simple decorator implementation and sacrifice retaining\r\n&gt; the decorated object type.\r\n\r\nSo perhaps this is an expected limitation of the Decorator Pattern.\r\n\r\n@Mark-Bramnik, however, gives an [fascinating solution using CGLIB][2] at [Interposing on Java Class Methods (without interfaces)][3]. I was able to combine this with @CoronaA&#39;s solution in order to create a wrapper that can override individual methods but then pass everything else to the wrapped object *without* requiring an interface.\r\n\r\nHere is `MyClass`.\r\n\r\n    public class MyClass {\r\n    \t\r\n    \tpublic void method1() { System.out.println(&quot;This is method 1 - &quot; + this); }\t\r\n    \tpublic void method2() { System.out.println(&quot;This is method 2 - &quot; + this); }\t\r\n    \tpublic void method3() { System.out.println(&quot;This is method 3 - &quot; + this); }\t\r\n    \tpublic void methodN() { System.out.println(&quot;This is method N - &quot; + this); }\r\n    \t\r\n    }\r\n\r\nHere is `WrapperClass` which only overrides `method2()`. As you&#39;ll see below, the non-overridden methods are, in fact, not passed to the delegate, which can be a problem.\r\n\r\n    public class WrapperClass extends MyClass {\r\n    \r\n    \tprivate MyClass delagate;\r\n    \t\r\n        public WrapperClass(MyClass delegate) { this.delagate = delegate; }\r\n        \r\n        @Override\r\n    \tpublic void method2() {\r\n        \tSystem.out.println(&quot;This is overridden method 2 - &quot; + delagate);\r\n        }\r\n    \r\n    }\r\n\r\nHere is `MyInterceptor` which extends `MyClass`. It employs the proxy solution using CGLIB as described by @Mark-Bramnik. It also employs @CononA&#39;s method of determining whether or not to send the method to the wrapper (if it is overridden) or the wrapped object (if it is not).\r\n\r\n    import java.lang.reflect.Method;\r\n    \r\n    import net.sf.cglib.proxy.MethodInterceptor;\r\n    import net.sf.cglib.proxy.MethodProxy;\r\n    \r\n    public class MyInterceptor extends MyClass implements MethodInterceptor {\r\n    \t\r\n    \tprivate Object realObj;\r\n    \t\r\n    \tpublic MyInterceptor(Object obj) { this.realObj = obj; }\r\n    \t\r\n        @Override\r\n    \tpublic void method2() {\r\n        \tSystem.out.println(&quot;This is overridden method 2 - &quot; + realObj);\r\n        }\r\n    \r\n    \t@Override\r\n    \tpublic Object intercept(Object arg0, Method method, Object[] objects,\r\n    \t\t\tMethodProxy methodProxy) throws Throwable {\r\n    \t\tMethod m = findMethod(this.getClass(), method);\r\n    \t\tif (m != null) { return m.invoke(this, objects); }\r\n    \t\tObject res = method.invoke(realObj, objects);\r\n    \t\treturn res;\r\n    \t}\r\n    \t\r\n        private Method findMethod(Class&lt;?&gt; clazz, Method method) throws Throwable {\r\n            try {\r\n                return clazz.getDeclaredMethod(method.getName(), method.getParameterTypes());\r\n            } catch (NoSuchMethodException e) {\r\n                return null;\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nHere is `Main` and the results you get if you run it.\r\n\r\n    import net.sf.cglib.proxy.Enhancer;\r\n    \r\n    public class Main {\r\n    \r\n    \tprivate static MyClass unwrapped;\r\n    \tprivate static WrapperClass wrapped;\r\n    \tprivate static MyClass proxified;\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tunwrapped = new MyClass();\r\n    \t\tSystem.out.println(&quot;&gt;&gt;&gt; Methods from the unwrapped object:&quot;);\r\n    \t\tunwrapped.method1();\r\n    \t\tunwrapped.method2();\r\n    \t\tunwrapped.method3();\r\n    \t\twrapped = new WrapperClass(unwrapped);\r\n    \t\tSystem.out.println(&quot;&gt;&gt;&gt; Methods from the wrapped object:&quot;);\r\n    \t\twrapped.method1();\r\n    \t\twrapped.method2();\r\n    \t\twrapped.method3();\r\n    \t\tproxified = createProxy(unwrapped);\r\n    \t\tSystem.out.println(&quot;&gt;&gt;&gt; Methods from the proxy object:&quot;);\r\n    \t\tproxified.method1();\r\n    \t\tproxified.method2();\r\n    \t\tproxified.method3();\r\n    \t}\r\n    \t\r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \tpublic static &lt;T&gt; T createProxy(T obj) {\r\n    \t\tEnhancer e = new Enhancer();\r\n    \t\te.setSuperclass(obj.getClass());\r\n    \t\te.setCallback(new MyInterceptor(obj));\r\n    \t\tT proxifiedObj = (T) e.create();\r\n    \t\treturn proxifiedObj;\r\n    \t}\r\n    \r\n    }\r\n    \r\n    &gt;&gt;&gt; Methods from the unwrapped object:\r\n    This is method 1 - MyClass@e26db62\r\n    This is method 2 - MyClass@e26db62\r\n    This is method 3 - MyClass@e26db62\r\n\r\n    &gt;&gt;&gt; Methods from the wrapped object:\r\n    This is method 1 - WrapperClass@7b7035c6\r\n    This is overridden method 2 - MyClass@e26db62\r\n    This is method 3 - WrapperClass@7b7035c6\r\n\r\n    &gt;&gt;&gt; Methods from the proxy object:\r\n    This is method 1 - MyClass@e26db62\r\n    This is overridden method 2 - MyClass@e26db62\r\n    This is method 3 - MyClass@e26db62\r\n\r\nAs you can see, when you run the methods on `wrapped` you get the wrapper for the methods that are not overridden (i.e. `method1()` and `method3()`). When you run the methods on `proxified`, however, all of the methods are run on the wrapped object without the pain of having to delegate them all in `WrapperClass` or put all of the method signatures in an interface. Thanks to @CoronA and @Mark-Bramnik for what seems like a pretty cool solution to this problem.\r\n\r\n\r\n  [1]: http://www.javaworld.com/article/2072703/design-patterns/three-approaches-for-decorating-your-code.html\r\n  [2]: https://stackoverflow.com/a/9061547/852795\r\n  [3]: https://stackoverflow.com/q/9061478/852795","title":"Automatically delegating all methods of a java class","body":"<p>This question is 6 months old already and @CoronA's wonderful answer has satisfied and been accepted by @walkeros, but I thought I would add something here as I think this can be pushed an extra step.</p>\n\n<p>As discussed with @CoronA in the comments to his answer, instead of having to create and maintain a long list of <code>MyClass</code> methods in <code>WrapperClass</code> (i.e. <code>public void methodN() { delegate.methodN(); }</code>), the dynamic proxy solution moves this to the interface. The issue is that you still have to create and maintain a long list of signatures for the <code>MyClass</code> methods in the interface, which is perhaps a bit simpler but doesn't completely solve the problem. This is especially the case if you don't have access to <code>MyClass</code> in order to know all the methods.</p>\n\n<p>According to <a href=\"http://www.javaworld.com/article/2072703/design-patterns/three-approaches-for-decorating-your-code.html\" rel=\"noreferrer\">Three approaches for decorating your code</a>, </p>\n\n<blockquote>\n  <p>For longer classes, a programmer must choose the lesser of two evils:\n  implement many wrapper methods and keep the type of decorated object\n  or maintain a simple decorator implementation and sacrifice retaining\n  the decorated object type.</p>\n</blockquote>\n\n<p>So perhaps this is an expected limitation of the Decorator Pattern.</p>\n\n<p>@Mark-Bramnik, however, gives an <a href=\"https://stackoverflow.com/a/9061547/852795\">fascinating solution using CGLIB</a> at <a href=\"https://stackoverflow.com/q/9061478/852795\">Interposing on Java Class Methods (without interfaces)</a>. I was able to combine this with @CoronaA's solution in order to create a wrapper that can override individual methods but then pass everything else to the wrapped object <em>without</em> requiring an interface.</p>\n\n<p>Here is <code>MyClass</code>.</p>\n\n<pre><code>public class MyClass {\n\n    public void method1() { System.out.println(\"This is method 1 - \" + this); } \n    public void method2() { System.out.println(\"This is method 2 - \" + this); } \n    public void method3() { System.out.println(\"This is method 3 - \" + this); } \n    public void methodN() { System.out.println(\"This is method N - \" + this); }\n\n}\n</code></pre>\n\n<p>Here is <code>WrapperClass</code> which only overrides <code>method2()</code>. As you'll see below, the non-overridden methods are, in fact, not passed to the delegate, which can be a problem.</p>\n\n<pre><code>public class WrapperClass extends MyClass {\n\n    private MyClass delagate;\n\n    public WrapperClass(MyClass delegate) { this.delagate = delegate; }\n\n    @Override\n    public void method2() {\n        System.out.println(\"This is overridden method 2 - \" + delagate);\n    }\n\n}\n</code></pre>\n\n<p>Here is <code>MyInterceptor</code> which extends <code>MyClass</code>. It employs the proxy solution using CGLIB as described by @Mark-Bramnik. It also employs @CononA's method of determining whether or not to send the method to the wrapper (if it is overridden) or the wrapped object (if it is not).</p>\n\n<pre><code>import java.lang.reflect.Method;\n\nimport net.sf.cglib.proxy.MethodInterceptor;\nimport net.sf.cglib.proxy.MethodProxy;\n\npublic class MyInterceptor extends MyClass implements MethodInterceptor {\n\n    private Object realObj;\n\n    public MyInterceptor(Object obj) { this.realObj = obj; }\n\n    @Override\n    public void method2() {\n        System.out.println(\"This is overridden method 2 - \" + realObj);\n    }\n\n    @Override\n    public Object intercept(Object arg0, Method method, Object[] objects,\n            MethodProxy methodProxy) throws Throwable {\n        Method m = findMethod(this.getClass(), method);\n        if (m != null) { return m.invoke(this, objects); }\n        Object res = method.invoke(realObj, objects);\n        return res;\n    }\n\n    private Method findMethod(Class&lt;?&gt; clazz, Method method) throws Throwable {\n        try {\n            return clazz.getDeclaredMethod(method.getName(), method.getParameterTypes());\n        } catch (NoSuchMethodException e) {\n            return null;\n        }\n    }\n\n}\n</code></pre>\n\n<p>Here is <code>Main</code> and the results you get if you run it.</p>\n\n<pre><code>import net.sf.cglib.proxy.Enhancer;\n\npublic class Main {\n\n    private static MyClass unwrapped;\n    private static WrapperClass wrapped;\n    private static MyClass proxified;\n\n    public static void main(String[] args) {\n        unwrapped = new MyClass();\n        System.out.println(\"&gt;&gt;&gt; Methods from the unwrapped object:\");\n        unwrapped.method1();\n        unwrapped.method2();\n        unwrapped.method3();\n        wrapped = new WrapperClass(unwrapped);\n        System.out.println(\"&gt;&gt;&gt; Methods from the wrapped object:\");\n        wrapped.method1();\n        wrapped.method2();\n        wrapped.method3();\n        proxified = createProxy(unwrapped);\n        System.out.println(\"&gt;&gt;&gt; Methods from the proxy object:\");\n        proxified.method1();\n        proxified.method2();\n        proxified.method3();\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    public static &lt;T&gt; T createProxy(T obj) {\n        Enhancer e = new Enhancer();\n        e.setSuperclass(obj.getClass());\n        e.setCallback(new MyInterceptor(obj));\n        T proxifiedObj = (T) e.create();\n        return proxifiedObj;\n    }\n\n}\n\n&gt;&gt;&gt; Methods from the unwrapped object:\nThis is method 1 - MyClass@e26db62\nThis is method 2 - MyClass@e26db62\nThis is method 3 - MyClass@e26db62\n\n&gt;&gt;&gt; Methods from the wrapped object:\nThis is method 1 - WrapperClass@7b7035c6\nThis is overridden method 2 - MyClass@e26db62\nThis is method 3 - WrapperClass@7b7035c6\n\n&gt;&gt;&gt; Methods from the proxy object:\nThis is method 1 - MyClass@e26db62\nThis is overridden method 2 - MyClass@e26db62\nThis is method 3 - MyClass@e26db62\n</code></pre>\n\n<p>As you can see, when you run the methods on <code>wrapped</code> you get the wrapper for the methods that are not overridden (i.e. <code>method1()</code> and <code>method3()</code>). When you run the methods on <code>proxified</code>, however, all of the methods are run on the wrapped object without the pain of having to delegate them all in <code>WrapperClass</code> or put all of the method signatures in an interface. Thanks to @CoronA and @Mark-Bramnik for what seems like a pretty cool solution to this problem.</p>\n"},{"tags":[],"owner":{"account_id":159083,"reputation":15549,"user_id":378151,"accept_rate":74,"display_name":"Snekse"},"down_vote_count":6,"up_vote_count":12,"is_accepted":false,"score":6,"last_activity_date":1447269005,"creation_date":1447200450,"answer_id":33642032,"question_id":30344715,"body_markdown":"Switch to Groovy :-) \r\n\r\n    @CompileStatic\r\n    public class WrapperClass extends MyClass  {\r\n        @Delegate private final MyClass delegate;\r\n    \r\n        public WrapperClass(MyClass delegate) {\r\n            this.delagate = delegate;\r\n        }\r\n    \r\n        //Done. That&#39;s it.\r\n    \r\n    }\r\n\r\n\r\nhttp://mrhaki.blogspot.com/2009/08/groovy-goodness-delegate-to-simplify.html","title":"Automatically delegating all methods of a java class","body":"<p>Switch to Groovy :-) </p>\n\n<pre><code>@CompileStatic\npublic class WrapperClass extends MyClass  {\n    @Delegate private final MyClass delegate;\n\n    public WrapperClass(MyClass delegate) {\n        this.delagate = delegate;\n    }\n\n    //Done. That's it.\n\n}\n</code></pre>\n\n<p><a href=\"http://mrhaki.blogspot.com/2009/08/groovy-goodness-delegate-to-simplify.html\" rel=\"noreferrer\">http://mrhaki.blogspot.com/2009/08/groovy-goodness-delegate-to-simplify.html</a></p>\n"},{"tags":[],"owner":{"account_id":361630,"reputation":3255,"user_id":704335,"accept_rate":50,"display_name":"Timmos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455539492,"creation_date":1455377392,"answer_id":35381685,"question_id":30344715,"body_markdown":"Credits go to CoronA for Pointing out the Proxy and InvocationHandler classes. I worked out a more reusable utility class based on his solution, using generics:\r\n\r\n\tpublic class DelegationUtils {\r\n\r\n\t\tpublic static &lt;I&gt; I wrap(Class&lt;I&gt; iface, I wrapped) {\r\n            return wrapInternally(iface, wrapped, new SimpleDecorator(wrapped));\r\n        }\r\n\t\t\r\n\t\tprivate static &lt;I&gt; I wrapInternally (Class&lt;I&gt; iface, I wrapped, InvocationHandler handler) {\r\n\t\t\treturn (I) Proxy.newProxyInstance(wrapped.getClass().getClassLoader(), new Class[] { iface }, handler);\r\n\t\t}\r\n\r\n\t\tprivate static class SimpleDecorator&lt;T&gt; implements InvocationHandler {\r\n\t\t\t\r\n\t\t\tprivate final T delegate;\r\n\t\t\t\r\n\t\t\tprivate SimpleDecorator(T delegate) {\r\n\t\t\t\tthis.delegate = delegate;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\r\n\t\t\t\tMethod m = findMethod(delegate.getClass(), method);\r\n\t\t\t\tif (m == null) {\r\n\t\t\t\t\tthrow new NullPointerException(&quot;Found no method &quot; + method + &quot; in delegate: &quot; + delegate);\r\n\t\t\t\t}\r\n\t\t\t\treturn m.invoke(delegate, args);\r\n\t\t\t}\r\n\t\t}    \r\n\t\t\r\n\t\tprivate static Method findMethod(Class&lt;?&gt; clazz, Method method) throws Throwable {\r\n\t\t\ttry {\r\n\t\t\t\treturn clazz.getDeclaredMethod(method.getName(), method.getParameterTypes());\r\n\t\t\t} catch (NoSuchMethodException e) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\nTest it:\r\n\r\n\tpublic class Test {\r\n\t\r\n\t\tpublic  interface Test {\r\n\t\t\tpublic void sayHello ();\r\n\t\t}\r\n\t\t\r\n\t\tpublic static class TestImpl implements Test {\r\n\t\t\t@Override\r\n\t\t\tpublic void sayHello() {\r\n\t\t\t\tSystem.out.println(&quot;HELLO!&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tTest proxy = DelegationUtils.wrap(Test.class, new TestImpl());\r\n\t\t\tproxy.sayHello();\r\n\t\t}\r\n\t}\r\n\t\r\nI wanted to create an automatic delegation class that executes the delegatee&#39;s methods on the EDT. With this class, you just create a new utility method that will use an EDTDecorator, in which the implementation will wrap `m.invoke` in a `SwingUtilities.invokeLater`.\r\n\r\nHowever, if I reflect on this, I may want to reconsider making a non-Reflection based proxy per interface that I have - it might be cleaner and faster, and more understandable. But, it&#39;s possible.","title":"Automatically delegating all methods of a java class","body":"<p>Credits go to CoronA for Pointing out the Proxy and InvocationHandler classes. I worked out a more reusable utility class based on his solution, using generics:</p>\n\n<pre><code>public class DelegationUtils {\n\n    public static &lt;I&gt; I wrap(Class&lt;I&gt; iface, I wrapped) {\n        return wrapInternally(iface, wrapped, new SimpleDecorator(wrapped));\n    }\n\n    private static &lt;I&gt; I wrapInternally (Class&lt;I&gt; iface, I wrapped, InvocationHandler handler) {\n        return (I) Proxy.newProxyInstance(wrapped.getClass().getClassLoader(), new Class[] { iface }, handler);\n    }\n\n    private static class SimpleDecorator&lt;T&gt; implements InvocationHandler {\n\n        private final T delegate;\n\n        private SimpleDecorator(T delegate) {\n            this.delegate = delegate;\n        }\n\n        @Override\n        public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n            Method m = findMethod(delegate.getClass(), method);\n            if (m == null) {\n                throw new NullPointerException(\"Found no method \" + method + \" in delegate: \" + delegate);\n            }\n            return m.invoke(delegate, args);\n        }\n    }    \n\n    private static Method findMethod(Class&lt;?&gt; clazz, Method method) throws Throwable {\n        try {\n            return clazz.getDeclaredMethod(method.getName(), method.getParameterTypes());\n        } catch (NoSuchMethodException e) {\n            return null;\n        }\n    }\n}\n</code></pre>\n\n<p>Test it:</p>\n\n<pre><code>public class Test {\n\n    public  interface Test {\n        public void sayHello ();\n    }\n\n    public static class TestImpl implements Test {\n        @Override\n        public void sayHello() {\n            System.out.println(\"HELLO!\");\n        }\n    }\n\n    public static void main(String[] args) {\n        Test proxy = DelegationUtils.wrap(Test.class, new TestImpl());\n        proxy.sayHello();\n    }\n}\n</code></pre>\n\n<p>I wanted to create an automatic delegation class that executes the delegatee's methods on the EDT. With this class, you just create a new utility method that will use an EDTDecorator, in which the implementation will wrap <code>m.invoke</code> in a <code>SwingUtilities.invokeLater</code>.</p>\n\n<p>However, if I reflect on this, I may want to reconsider making a non-Reflection based proxy per interface that I have - it might be cleaner and faster, and more understandable. But, it's possible.</p>\n"},{"tags":[],"owner":{"account_id":1630273,"reputation":419,"user_id":1504977,"display_name":"Vanessa Schissato"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1690215764,"creation_date":1489684092,"answer_id":42840538,"question_id":30344715,"body_markdown":"Check the @Delegate annotation from Lombok framework:\r\nhttps://projectlombok.org/features/experimental/Delegate","title":"Automatically delegating all methods of a java class","body":"<p>Check the @Delegate annotation from Lombok framework:\n<a href=\"https://projectlombok.org/features/experimental/Delegate\" rel=\"nofollow noreferrer\">https://projectlombok.org/features/experimental/Delegate</a></p>\n"},{"tags":[],"owner":{"account_id":13807566,"reputation":61,"user_id":9966043,"display_name":"Ahmet Erdem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542111027,"creation_date":1542111027,"answer_id":53280747,"question_id":30344715,"body_markdown":"Let me redefine the problem for a specific case. \r\nI want to override the close method of ResultSet interface in jdbc. My aim is to close the preparedstatement in close method of result set.  I could not access to the Class (DelegatingResultSet) that implements in ResultSet interface. There are a lot of methods in ResultSet interface and overriding them one by one and calling the corresponding method from the ResultSet object is one solution. For a dynamic solution I used Dynamic ProxyClasses (https://docs.oracle.com/javase/1.5.0/docs/guide/reflection/proxy.html).\r\n\r\n        // New ResultSet implementation\r\n        public class MyResultSet implements InvocationHandler {\r\n        \tResultSet rs;\r\n        \tPreparedStatement ps;\r\n        \tprivate Method closeMethod;\r\n        \r\n        \tpublic MyResultSet(ResultSet rs, PreparedStatement ps) {\r\n        \t\tsuper();\r\n        \t\tthis.rs = rs;\r\n        \t\tthis.ps = ps;\r\n        \t\ttry {\r\n        \t\t\tcloseMethod = ResultSet.class.getMethod(&quot;close&quot;,null);\r\n        \t\t} catch (NoSuchMethodException | SecurityException e) {\r\n        \t\t\te.printStackTrace();\r\n        \t\t}\r\n        \t}\r\n        \r\n        \tpublic void close() {\r\n        \t\ttry {\r\n        \t\t\trs.close();\r\n        \t\t\tps.close();\r\n        \t\t} catch (SQLException e) {\r\n        \t\t\te.printStackTrace();\r\n        \t\t}\r\n        \r\n        \t}\r\n        \r\n        \tpublic static Object newInstance(ResultSet rs, PreparedStatement ps) {\r\n        \t\treturn java.lang.reflect.Proxy.newProxyInstance(rs.getClass().getClassLoader(), rs.getClass().getInterfaces(),\r\n        \t\t\t\tnew MyResultSet(rs,ps));\r\n        \t}\r\n        \r\n        \tpublic Object invoke(Object proxy, Method m, Object[] args) \r\n    throws Throwable {\r\n        \t\tObject result = null;\r\n        \t\ttry {\r\n        \t\t\tClass declaringClass = m.getDeclaringClass();\r\n        \r\n        \t\t\tif (m.getName().compareTo(&quot;close&quot;)==0) {\r\n        \t\t\t\t\tclose();\r\n        \t\t\t} else {\r\n        \t\t\t\tresult = m.invoke(rs, args);\r\n        \t\t\t}\r\n        \t\t} catch (InvocationTargetException e) {\r\n        \t\t\tthrow e.getTargetException();\r\n        \t\t} catch (Exception e) {\r\n        \t\t\tthrow new RuntimeException(e.getMessage());\r\n        \r\n        \t\t} finally {\r\n        \t\t}\r\n        \t\treturn result;\r\n        \t}\r\n        }\r\n    \r\n    \r\n\r\n// How to call it:\r\n\r\n    ResultSet prs = (ResultSet) MyResultSet.newInstance(rs,ps);\r\n\r\n","title":"Automatically delegating all methods of a java class","body":"<p>Let me redefine the problem for a specific case. \nI want to override the close method of ResultSet interface in jdbc. My aim is to close the preparedstatement in close method of result set.  I could not access to the Class (DelegatingResultSet) that implements in ResultSet interface. There are a lot of methods in ResultSet interface and overriding them one by one and calling the corresponding method from the ResultSet object is one solution. For a dynamic solution I used Dynamic ProxyClasses (<a href=\"https://docs.oracle.com/javase/1.5.0/docs/guide/reflection/proxy.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/1.5.0/docs/guide/reflection/proxy.html</a>).</p>\n\n<pre><code>    // New ResultSet implementation\n    public class MyResultSet implements InvocationHandler {\n        ResultSet rs;\n        PreparedStatement ps;\n        private Method closeMethod;\n\n        public MyResultSet(ResultSet rs, PreparedStatement ps) {\n            super();\n            this.rs = rs;\n            this.ps = ps;\n            try {\n                closeMethod = ResultSet.class.getMethod(\"close\",null);\n            } catch (NoSuchMethodException | SecurityException e) {\n                e.printStackTrace();\n            }\n        }\n\n        public void close() {\n            try {\n                rs.close();\n                ps.close();\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n\n        }\n\n        public static Object newInstance(ResultSet rs, PreparedStatement ps) {\n            return java.lang.reflect.Proxy.newProxyInstance(rs.getClass().getClassLoader(), rs.getClass().getInterfaces(),\n                    new MyResultSet(rs,ps));\n        }\n\n        public Object invoke(Object proxy, Method m, Object[] args) \nthrows Throwable {\n            Object result = null;\n            try {\n                Class declaringClass = m.getDeclaringClass();\n\n                if (m.getName().compareTo(\"close\")==0) {\n                        close();\n                } else {\n                    result = m.invoke(rs, args);\n                }\n            } catch (InvocationTargetException e) {\n                throw e.getTargetException();\n            } catch (Exception e) {\n                throw new RuntimeException(e.getMessage());\n\n            } finally {\n            }\n            return result;\n        }\n    }\n</code></pre>\n\n<p>// How to call it:</p>\n\n<pre><code>ResultSet prs = (ResultSet) MyResultSet.newInstance(rs,ps);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4047822,"reputation":683,"user_id":3328545,"accept_rate":25,"display_name":"gscaparrotti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651147193,"creation_date":1651144895,"answer_id":72042779,"question_id":30344715,"body_markdown":"I really appreciated @CoronA&#39;s answer. I also looked at @Mark Cramer&#39;s answer, but, if I&#39;m not missing something, I think that there are always at least two instances of the &quot;proxified&quot; class with a strange relationship beteen the two objects. \r\n\r\nThis, along with the fact that cglib is now deprecated, pushed me to find a new implementation based on ByteBuddy. \r\n\r\nThis is what I came up with:\r\n\r\n```\r\npublic class MyClass {\r\n\r\n    public String testMethod() {\r\n         return &quot;11111&quot;;\r\n    }\r\n\r\n    public String testMethod2() {\r\n        return &quot;aaaaa&quot;;\r\n    }\r\n\r\n}\r\n\r\npublic class MyClassWithDelegate extends MyClass {\r\n\r\n    private static final Constructor&lt;? extends MyClassWithDelegate&gt; CONSTRUCTOR_WITH_DELEGATE;\r\n\r\n    static {\r\n        Constructor&lt;? extends MyClassWithDelegate&gt; temp = null;\r\n        try {\r\n            final var instrumentedMyClassWithDelegateType =\r\n                new ByteBuddy()\r\n                    .subclass(MyClassWithDelegate.class)\r\n                    .method(ElementMatchers.any())\r\n                    .intercept(MethodDelegation.to(MethodInterceptor.class))\r\n                    .make()\r\n                    .load(MyClassWithDelegate.class.getClassLoader())\r\n                    .getLoaded();\r\n            temp = instrumentedMyClassWithDelegateType.getConstructor(MyClass.class);\r\n        } catch (final Exception e) {\r\n            LOGGER.error(&quot;Cannot instrument class {}&quot;, MyClassWithDelegate.class, e);\r\n        }\r\n        CONSTRUCTOR_WITH_DELEGATE = temp;\r\n    }\r\n\r\n    public static MyClassWithDelegate getInstanceWithDelegate(final MyClass myClass) {\r\n       try {\r\n            return CONSTRUCTOR_WITH_DELEGATE.newInstance(myClass);\r\n        } catch (final Exception e) {\r\n            LOGGER.error(&quot;Cannot get instance of {}&quot;, MyClassWithDelegate.class, e);\r\n            throw new IllegalStateException();\r\n        }\r\n    }\r\n\r\n    private final boolean initialized;\r\n    private final MyClass delegate;\r\n\r\n    public MyClassWithDelegate(final MyClass delegate) {\r\n        super();\r\n        this.delegate = delegate;\r\n        this.initialized = true;\r\n    }\r\n\r\n    public String testMethod() {\r\n         return &quot;22222&quot;;\r\n    }\r\n\r\n    public static class MethodInterceptor {\r\n        @RuntimeType\r\n        public static Object intercept(@This final MyClassWithDelegate self,\r\n                                       @Origin final Method method,\r\n                                       @AllArguments final Object[] args,\r\n                                       @SuperMethod final Method superMethod) throws Throwable {\r\n            if (!self.initialized || method.getDeclaringClass().equals(MyClassWithDelegate.class)) {\r\n                return superMethod.invoke(self, args);\r\n            } else {\r\n                return method.invoke(self.delegate, args);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe `initialized` field is used to prevent method calls the `super` constructor from being redirected to the delegate before its assignment (in this case it wouldn&#39;t be a problem, but I wanted to create a generic solution). \r\n\r\nEvery method called on an instance of `MyClassWithDelegate` will be redirected to the delegate, except from methods declared inside `MyClassWithDelegate` itself. \r\n\r\nIn this example, calling `testMethod()` on an instance of `MyClassWithDelegate` will return &quot;22222&quot;, while `testMethod2()` will return &quot;aaaaa&quot;.  \r\n\r\nObviously, the delegation will actually work only if every instance of `MyClassWithDelegate` is obtained calling the `getInstanceWithDelegate` factory method.\r\n\r\n","title":"Automatically delegating all methods of a java class","body":"<p>I really appreciated @CoronA's answer. I also looked at @Mark Cramer's answer, but, if I'm not missing something, I think that there are always at least two instances of the &quot;proxified&quot; class with a strange relationship beteen the two objects.</p>\n<p>This, along with the fact that cglib is now deprecated, pushed me to find a new implementation based on ByteBuddy.</p>\n<p>This is what I came up with:</p>\n<pre><code>public class MyClass {\n\n    public String testMethod() {\n         return &quot;11111&quot;;\n    }\n\n    public String testMethod2() {\n        return &quot;aaaaa&quot;;\n    }\n\n}\n\npublic class MyClassWithDelegate extends MyClass {\n\n    private static final Constructor&lt;? extends MyClassWithDelegate&gt; CONSTRUCTOR_WITH_DELEGATE;\n\n    static {\n        Constructor&lt;? extends MyClassWithDelegate&gt; temp = null;\n        try {\n            final var instrumentedMyClassWithDelegateType =\n                new ByteBuddy()\n                    .subclass(MyClassWithDelegate.class)\n                    .method(ElementMatchers.any())\n                    .intercept(MethodDelegation.to(MethodInterceptor.class))\n                    .make()\n                    .load(MyClassWithDelegate.class.getClassLoader())\n                    .getLoaded();\n            temp = instrumentedMyClassWithDelegateType.getConstructor(MyClass.class);\n        } catch (final Exception e) {\n            LOGGER.error(&quot;Cannot instrument class {}&quot;, MyClassWithDelegate.class, e);\n        }\n        CONSTRUCTOR_WITH_DELEGATE = temp;\n    }\n\n    public static MyClassWithDelegate getInstanceWithDelegate(final MyClass myClass) {\n       try {\n            return CONSTRUCTOR_WITH_DELEGATE.newInstance(myClass);\n        } catch (final Exception e) {\n            LOGGER.error(&quot;Cannot get instance of {}&quot;, MyClassWithDelegate.class, e);\n            throw new IllegalStateException();\n        }\n    }\n\n    private final boolean initialized;\n    private final MyClass delegate;\n\n    public MyClassWithDelegate(final MyClass delegate) {\n        super();\n        this.delegate = delegate;\n        this.initialized = true;\n    }\n\n    public String testMethod() {\n         return &quot;22222&quot;;\n    }\n\n    public static class MethodInterceptor {\n        @RuntimeType\n        public static Object intercept(@This final MyClassWithDelegate self,\n                                       @Origin final Method method,\n                                       @AllArguments final Object[] args,\n                                       @SuperMethod final Method superMethod) throws Throwable {\n            if (!self.initialized || method.getDeclaringClass().equals(MyClassWithDelegate.class)) {\n                return superMethod.invoke(self, args);\n            } else {\n                return method.invoke(self.delegate, args);\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>The <code>initialized</code> field is used to prevent method calls the <code>super</code> constructor from being redirected to the delegate before its assignment (in this case it wouldn't be a problem, but I wanted to create a generic solution).</p>\n<p>Every method called on an instance of <code>MyClassWithDelegate</code> will be redirected to the delegate, except from methods declared inside <code>MyClassWithDelegate</code> itself.</p>\n<p>In this example, calling <code>testMethod()</code> on an instance of <code>MyClassWithDelegate</code> will return &quot;22222&quot;, while <code>testMethod2()</code> will return &quot;aaaaa&quot;.</p>\n<p>Obviously, the delegation will actually work only if every instance of <code>MyClassWithDelegate</code> is obtained calling the <code>getInstanceWithDelegate</code> factory method.</p>\n"}],"owner":{"account_id":229478,"reputation":4806,"user_id":1874113,"accept_rate":67,"display_name":"walkeros"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19958,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":30346188,"answer_count":9,"score":38,"last_activity_date":1690215764,"creation_date":1432111846,"question_id":30344715,"body_markdown":"Say I have a class with many of public methods:\r\n\r\n    public class MyClass {\r\n    \r\n        public void method1() {}\r\n        public void method2() {}\r\n        (...)\r\n        public void methodN() {}\r\n    \r\n    }\r\n\r\nNow I would like to create a *wrapper* class which would delegate all the methods to wrapped instance (*delegate*):\r\n\r\n    public class WrapperClass extends MyClass  {\r\n        private final MyClass delegate;\r\n        \r\n        public WrapperClass(MyClass delegate) {\r\n            this.delagate = delegate;\r\n        }\r\n\r\n        public void method1() { delegate.method1(); }\r\n        public void method2() { delegate.method2(); }\r\n        (...)\r\n        public void methodN() { delegate.methodN(); }\r\n    \r\n    }\r\n\r\nNow if MyClass has a lot of methods I would need to override each of them which is more or less the same code which just &quot;delegates&quot;. I was wondering if it is possible to do some magic to automatically call a method in Java (so the Wrapper class would need to say &quot;Hey if you call a method on me just go to *delegate* object and call this method on it).\r\n\r\nBTW: I can not use inheritance because the delegate is not under my control.I just get its instance from elsewhere (another case would be if MyClass was final). \r\n\r\nNOTE: I do not want IDE generation. I know I can do it with help of IntelliJ/Eclipse, but I&#39;m curious if this can be done in code.\r\n\r\nAny suggestions how to achieve something like this? (NOTE: I would probably be able to do it in some scripting languages like php where I could use php magic functions to intercept the call).","title":"Automatically delegating all methods of a java class","body":"<p>Say I have a class with many of public methods:</p>\n\n<pre><code>public class MyClass {\n\n    public void method1() {}\n    public void method2() {}\n    (...)\n    public void methodN() {}\n\n}\n</code></pre>\n\n<p>Now I would like to create a <em>wrapper</em> class which would delegate all the methods to wrapped instance (<em>delegate</em>):</p>\n\n<pre><code>public class WrapperClass extends MyClass  {\n    private final MyClass delegate;\n\n    public WrapperClass(MyClass delegate) {\n        this.delagate = delegate;\n    }\n\n    public void method1() { delegate.method1(); }\n    public void method2() { delegate.method2(); }\n    (...)\n    public void methodN() { delegate.methodN(); }\n\n}\n</code></pre>\n\n<p>Now if MyClass has a lot of methods I would need to override each of them which is more or less the same code which just \"delegates\". I was wondering if it is possible to do some magic to automatically call a method in Java (so the Wrapper class would need to say \"Hey if you call a method on me just go to <em>delegate</em> object and call this method on it).</p>\n\n<p>BTW: I can not use inheritance because the delegate is not under my control.I just get its instance from elsewhere (another case would be if MyClass was final). </p>\n\n<p>NOTE: I do not want IDE generation. I know I can do it with help of IntelliJ/Eclipse, but I'm curious if this can be done in code.</p>\n\n<p>Any suggestions how to achieve something like this? (NOTE: I would probably be able to do it in some scripting languages like php where I could use php magic functions to intercept the call).</p>\n"},{"tags":["java","android","stockfish"],"owner":{"account_id":29075161,"reputation":1,"user_id":22272527,"display_name":"Jochengehtab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690215760,"creation_date":1690215760,"question_id":76756361,"body_markdown":"I have compiled Stockfish 16 with CMake to and SharedLibary (.so). But when i run this libary in my code, Logcat give me the following Error:\r\n\r\n\r\n```\r\n2023-07-24 18:14:11.770     0-0     lib_stockfish_s[4976]   kernel                               I  segfault at 0 ip 000071fa37c9f047 sp 00007fffb509c0e0 error 6 in lib_stockfish_sixten.so[71fa37c9f000+281c000]\r\n2023-07-24 18:14:11.773     0-0     Code                    kernel                               I  00 00 00 40 00 00 00 00 00 00 00 88 6c 82 02 00 00 00 00 00 00 00 00 40 00 38 00 0a 00 40 00 1a 00 19 00 06 00 00 00 04 00 00 &lt;00&gt; 40 00 00 00 00 00 00 00 40 00 00 00 00 00 00 00 40 00 00 00 00\r\n```\r\n\r\nThis is the code that i am using to load the shared libary:\r\n\r\n```\r\nFile stockfish = new File(getApplication().getApplicationInfo().nativeLibraryDir + &quot;/lib_stockfish_sixten.so&quot;);\r\n        try {\r\n            engineProcess = Runtime.getRuntime().exec(stockfish.getPath());\r\n            processReader = new BufferedReader(new InputStreamReader(engineProcess.getInputStream()));\r\n            processWriter = new OutputStreamWriter(engineProcess.getOutputStream());\r\n        } catch (IOException e) {\r\n            Log.println(Log.INFO, &quot;Stockfish&quot;, &quot;Error while loading Stockfish&quot;);\r\n            e.printStackTrace();\r\n        } \r\n```\r\n\r\nI was expecting that after i started stockfish i can send him the command `isready` but nothing happen and i get this error. (And i also geting this error when i dont send this command)","title":"Error when when running stockfish (shared-libary) in android studio","body":"<p>I have compiled Stockfish 16 with CMake to and SharedLibary (.so). But when i run this libary in my code, Logcat give me the following Error:</p>\n<pre><code>2023-07-24 18:14:11.770     0-0     lib_stockfish_s[4976]   kernel                               I  segfault at 0 ip 000071fa37c9f047 sp 00007fffb509c0e0 error 6 in lib_stockfish_sixten.so[71fa37c9f000+281c000]\n2023-07-24 18:14:11.773     0-0     Code                    kernel                               I  00 00 00 40 00 00 00 00 00 00 00 88 6c 82 02 00 00 00 00 00 00 00 00 40 00 38 00 0a 00 40 00 1a 00 19 00 06 00 00 00 04 00 00 &lt;00&gt; 40 00 00 00 00 00 00 00 40 00 00 00 00 00 00 00 40 00 00 00 00\n</code></pre>\n<p>This is the code that i am using to load the shared libary:</p>\n<pre><code>File stockfish = new File(getApplication().getApplicationInfo().nativeLibraryDir + &quot;/lib_stockfish_sixten.so&quot;);\n        try {\n            engineProcess = Runtime.getRuntime().exec(stockfish.getPath());\n            processReader = new BufferedReader(new InputStreamReader(engineProcess.getInputStream()));\n            processWriter = new OutputStreamWriter(engineProcess.getOutputStream());\n        } catch (IOException e) {\n            Log.println(Log.INFO, &quot;Stockfish&quot;, &quot;Error while loading Stockfish&quot;);\n            e.printStackTrace();\n        } \n</code></pre>\n<p>I was expecting that after i started stockfish i can send him the command <code>isready</code> but nothing happen and i get this error. (And i also geting this error when i dont send this command)</p>\n"},{"tags":["java","configuration","payara"],"owner":{"account_id":24155765,"reputation":1,"user_id":18120028,"display_name":"arielkoo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690215599,"creation_date":1690215599,"question_id":76756340,"body_markdown":"I am not able to see the main page once docker compose has completed the deployment, I am following the steps shown in this guide. https://github.com/docdoku/docdoku-plm-docker\r\n\r\n\r\nInstead of the front page at http://localhost:8080, I receive the message &quot;Server isn&#39;t available, please try again&quot;\r\n\r\nthis is the output for the ./start.sh\r\n\r\n```bash\r\narield@vm-nebula:~/Projects/docdokuplm/docdoku-plm-docker$ ./start.sh \r\nData directory found\r\n/home/arield/Projects/docdokuplm/docdoku-plm-docker/data\r\nKeystore found\r\n/home/arield/Projects/docdokuplm/docdoku-plm-docker/keystore\r\nPulling front      ... done\r\nPulling es         ... done\r\nPulling kibana     ... done\r\nPulling db         ... done\r\nPulling smtp       ... done\r\nPulling back       ... done\r\nPulling adminer    ... done\r\nPulling zookeeper  ... done\r\nPulling kafka      ... done\r\nPulling conversion ... done\r\nPulling ssl-proxy  ... done\r\nRecreating docdoku-plm-docker_front_1     ... done\r\nRecreating docdoku-plm-docker_zookeeper_1 ... done\r\nRecreating docdoku-plm-docker_smtp_1      ... done\r\nRecreating docdoku-plm-docker_db_1        ... done\r\nRecreating docdoku-plm-docker_es_1        ... done\r\nRecreating docdoku-plm-docker_kafka_1     ... done\r\nRecreating docdoku-plm-docker_adminer_1   ... done\r\nRecreating docdoku-plm-docker_kibana_1    ... done\r\nRecreating docdoku-plm-docker_back_1      ... done\r\nRecreating docdoku-plm-docker_conversion_1 ... done\r\nRecreating docdoku-plm-docker_ssl-proxy_1  ... done\r\n```\r\n\r\nEverything seems ok...\r\n\r\nDo I need a server in addition to the docker deployment?","title":"Docdokuplm not running after docker deployment","body":"<p>I am not able to see the main page once docker compose has completed the deployment, I am following the steps shown in this guide. <a href=\"https://github.com/docdoku/docdoku-plm-docker\" rel=\"nofollow noreferrer\">https://github.com/docdoku/docdoku-plm-docker</a></p>\n<p>Instead of the front page at http://localhost:8080, I receive the message &quot;Server isn't available, please try again&quot;</p>\n<p>this is the output for the ./start.sh</p>\n<pre class=\"lang-bash prettyprint-override\"><code>arield@vm-nebula:~/Projects/docdokuplm/docdoku-plm-docker$ ./start.sh \nData directory found\n/home/arield/Projects/docdokuplm/docdoku-plm-docker/data\nKeystore found\n/home/arield/Projects/docdokuplm/docdoku-plm-docker/keystore\nPulling front      ... done\nPulling es         ... done\nPulling kibana     ... done\nPulling db         ... done\nPulling smtp       ... done\nPulling back       ... done\nPulling adminer    ... done\nPulling zookeeper  ... done\nPulling kafka      ... done\nPulling conversion ... done\nPulling ssl-proxy  ... done\nRecreating docdoku-plm-docker_front_1     ... done\nRecreating docdoku-plm-docker_zookeeper_1 ... done\nRecreating docdoku-plm-docker_smtp_1      ... done\nRecreating docdoku-plm-docker_db_1        ... done\nRecreating docdoku-plm-docker_es_1        ... done\nRecreating docdoku-plm-docker_kafka_1     ... done\nRecreating docdoku-plm-docker_adminer_1   ... done\nRecreating docdoku-plm-docker_kibana_1    ... done\nRecreating docdoku-plm-docker_back_1      ... done\nRecreating docdoku-plm-docker_conversion_1 ... done\nRecreating docdoku-plm-docker_ssl-proxy_1  ... done\n</code></pre>\n<p>Everything seems ok...</p>\n<p>Do I need a server in addition to the docker deployment?</p>\n"},{"tags":["java","spring-boot","elasticsearch","nosql","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690215561,"creation_date":1690215561,"answer_id":76756336,"question_id":76753034,"body_markdown":"`@Query` annotations on methods are only for defining the query part, you cannot pass in aggregations in that parameter.\r\n\r\nTo use aggregations you will need to build a `NativeQuery` that contains a query for the term query part and the aggregations definition. You can then pass this `NativeQuery` to your `ElasticsearchOperations` implementation (let that inject by Spring). If you want that in a repository function you&#39;ll need towrite a custom repository fragment.","title":"I am trying to pass this query as native query from my spring boot application but its throwing response after trying alot of combiation also","body":"<p><code>@Query</code> annotations on methods are only for defining the query part, you cannot pass in aggregations in that parameter.</p>\n<p>To use aggregations you will need to build a <code>NativeQuery</code> that contains a query for the term query part and the aggregations definition. You can then pass this <code>NativeQuery</code> to your <code>ElasticsearchOperations</code> implementation (let that inject by Spring). If you want that in a repository function you'll need towrite a custom repository fragment.</p>\n"}],"owner":{"account_id":28945786,"reputation":1,"user_id":22171400,"display_name":"Ritik kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690215561,"creation_date":1690190435,"question_id":76753034,"body_markdown":"```\r\n{&quot;size&quot;: 0,&quot;query&quot;: {&quot;term&quot;: {&quot;loan_application_id&quot;: {&quot;value&quot;: 87015}}},&quot;aggs&quot;: {&quot;group_by_fields&quot;: {&quot;composite&quot;: {&quot;size&quot;: 10,&quot;sources&quot;: [{&quot;loan_application_id&quot;: {&quot;terms&quot;: {&quot;field&quot;:&quot;loan_application_id&quot;}}},{&quot;name&quot;: {&quot;terms&quot;: {&quot;field&quot;: &quot;name.keyword&quot;}}},{&quot;upload_source&quot;: {&quot;terms&quot;: {&quot;field&quot;: &quot;upload_source.keyword&quot;}}}]},&quot;aggregations&quot;:{&quot;max_created_at&quot;: {&quot;max&quot;: {&quot;field&quot;: &quot;created_at&quot;}}}}}}\r\n```\r\n\r\nThis query is working in postman but when i try to send it like\r\n\r\n```\r\n@Query(&quot;{\\&quot;query\\&quot;: {\\&quot;term\\&quot;: {\\&quot;loan_application_id\\&quot;: {\\&quot;value\\&quot;: 87015}}},\\&quot;aggs\\&quot;: {\\&quot;group_by_fields\\&quot;: {\\&quot;composite\\&quot;: {\\&quot;size\\&quot;: 10,\\&quot;sources\\&quot;: [{\\&quot;loan_application_id\\&quot;: {\\&quot;terms\\&quot;: {\\&quot;field\\&quot;:\\&quot;loan_application_id\\&quot;}}},{\\&quot;name\\&quot;: {\\&quot;terms\\&quot;: {\\&quot;field\\&quot;: \\&quot;name.keyword\\&quot;}}},{\\&quot;upload_source\\&quot;: {\\&quot;terms\\&quot;: {\\&quot;field\\&quot;: \\&quot;upload_source.keyword\\&quot;}}}]},\\&quot;aggregations\\&quot;:{\\&quot;max_created_at\\&quot;: {\\&quot;max\\&quot;: {\\&quot;field\\&quot;: \\&quot;created_at\\&quot;}}}}}}&quot;)\r\n    SearchHits&lt;LoanAttachmentEs&gt; getDocUploadSourceOfQulaifiedLeads(@Param(&quot;loanApplicationIds&quot;) List&lt;Long&gt; loanApplicationIds); its not workinng after adding and removing size also i am not getting response. \r\n```\r\n\r\nCan anyone help me with this.\r\n\r\n```\r\nimport org.elasticsearch.action.search.SearchRequest;\r\nimport org.elasticsearch.action.search.SearchResponse;\r\nimport org.elasticsearch.client.RequestOptions;\r\nimport org.elasticsearch.client.RestHighLevelClient;\r\nimport org.elasticsearch.index.query.QueryBuilders;\r\nimport org.elasticsearch.search.aggregations.AggregationBuilders;\r\nimport org.elasticsearch.search.aggregations.bucket.composite.CompositeAggregationBuilder;\r\nimport org.elasticsearch.search.aggregations.bucket.composite.TermsValuesSourceBuilder;\r\nimport org.elasticsearch.search.aggregations.metrics.max.MaxAggregationBuilder;\r\nimport org.elasticsearch.search.builder.SearchSourceBuilder;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.io.IOException;\r\nimport java.util.List;\r\n\r\n@Service\r\npublic class YourService {\r\n\r\n    private final RestHighLevelClient restHighLevelClient;\r\n\r\n    @Autowired\r\n    public YourService(RestHighLevelClient restHighLevelClient) {\r\n        this.restHighLevelClient = restHighLevelClient;\r\n    }\r\n\r\n    public SearchResponse aggregateByLoanApplicationIds(List&lt;String&gt; loanApplicationIdList) throws IOException {\r\n        CompositeAggregationBuilder compositeAggregation = AggregationBuilders.composite(&quot;group_by_fields&quot;)\r\n                .sources(\r\n                        new TermsValuesSourceBuilder(&quot;loan_application_id&quot;).field(&quot;loan_application_id.keyword&quot;),\r\n                        new TermsValuesSourceBuilder(&quot;name&quot;).field(&quot;name.keyword&quot;),\r\n                        new TermsValuesSourceBuilder(&quot;upload_source&quot;).field(&quot;upload_source.keyword&quot;)\r\n                );\r\n\r\n        MaxAggregationBuilder maxCreatedAtAggregation = AggregationBuilders.max(&quot;max_created_at&quot;).field(&quot;created_at&quot;);\r\n\r\n        SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder()\r\n                .query(QueryBuilders.termsQuery(&quot;loan_application_id.keyword&quot;, loanApplicationIdList))\r\n                .aggregation(compositeAggregation.subAggregation(maxCreatedAtAggregation))\r\n                .size(0); // Set size to 0 to get only the aggregations without hits\r\n\r\n        SearchRequest searchRequest = new SearchRequest(&quot;loan_attachments&quot;);\r\n        searchRequest.source(searchSourceBuilder);\r\n\r\n        return restHighLevelClient.search(searchRequest, RequestOptions.DEFAULT);\r\n    }\r\n}\r\n```\r\n\r\nI asked Chat GPT and got this then I tried to write my query like this but didnt work its wrong given by CHAT GPT.\r\n\r\n```\r\n@Query(&quot;{\\&quot;query\\&quot;: {\\&quot;term\\&quot;: {\\&quot;loan_application_id\\&quot;: {\\&quot;value\\&quot;: 87015}}},\\&quot;aggs\\&quot;: {\\&quot;group_by_fields\\&quot;: {\\&quot;composite\\&quot;: {\\&quot;size\\&quot;: 10,\\&quot;sources\\&quot;: [{\\&quot;loan_application_id\\&quot;: {\\&quot;terms\\&quot;: {\\&quot;field\\&quot;:\\&quot;loan_application_id\\&quot;}}},{\\&quot;name\\&quot;: {\\&quot;terms\\&quot;: {\\&quot;field\\&quot;: \\&quot;name.keyword\\&quot;}}},{\\&quot;upload_source\\&quot;: {\\&quot;terms\\&quot;: {\\&quot;field\\&quot;: \\&quot;upload_source.keyword\\&quot;}}}]},\\&quot;aggregations\\&quot;:{\\&quot;max_created_at\\&quot;: {\\&quot;max\\&quot;: {\\&quot;field\\&quot;: \\&quot;created_at\\&quot;}}}}}}&quot;)\r\n    SearchHits&lt;LoanAttachmentEs&gt; getDocUploadSourceOfQulaifiedLeads(@Param(&quot;loanApplicationIds&quot;) List&lt;Long&gt; loanApplicationIds);\r\n```\r\n\r\nthis but didnt worked anything . Getting diffrent diffrent errors.","title":"I am trying to pass this query as native query from my spring boot application but its throwing response after trying alot of combiation also","body":"<pre><code>{&quot;size&quot;: 0,&quot;query&quot;: {&quot;term&quot;: {&quot;loan_application_id&quot;: {&quot;value&quot;: 87015}}},&quot;aggs&quot;: {&quot;group_by_fields&quot;: {&quot;composite&quot;: {&quot;size&quot;: 10,&quot;sources&quot;: [{&quot;loan_application_id&quot;: {&quot;terms&quot;: {&quot;field&quot;:&quot;loan_application_id&quot;}}},{&quot;name&quot;: {&quot;terms&quot;: {&quot;field&quot;: &quot;name.keyword&quot;}}},{&quot;upload_source&quot;: {&quot;terms&quot;: {&quot;field&quot;: &quot;upload_source.keyword&quot;}}}]},&quot;aggregations&quot;:{&quot;max_created_at&quot;: {&quot;max&quot;: {&quot;field&quot;: &quot;created_at&quot;}}}}}}\n</code></pre>\n<p>This query is working in postman but when i try to send it like</p>\n<pre><code>@Query(&quot;{\\&quot;query\\&quot;: {\\&quot;term\\&quot;: {\\&quot;loan_application_id\\&quot;: {\\&quot;value\\&quot;: 87015}}},\\&quot;aggs\\&quot;: {\\&quot;group_by_fields\\&quot;: {\\&quot;composite\\&quot;: {\\&quot;size\\&quot;: 10,\\&quot;sources\\&quot;: [{\\&quot;loan_application_id\\&quot;: {\\&quot;terms\\&quot;: {\\&quot;field\\&quot;:\\&quot;loan_application_id\\&quot;}}},{\\&quot;name\\&quot;: {\\&quot;terms\\&quot;: {\\&quot;field\\&quot;: \\&quot;name.keyword\\&quot;}}},{\\&quot;upload_source\\&quot;: {\\&quot;terms\\&quot;: {\\&quot;field\\&quot;: \\&quot;upload_source.keyword\\&quot;}}}]},\\&quot;aggregations\\&quot;:{\\&quot;max_created_at\\&quot;: {\\&quot;max\\&quot;: {\\&quot;field\\&quot;: \\&quot;created_at\\&quot;}}}}}}&quot;)\n    SearchHits&lt;LoanAttachmentEs&gt; getDocUploadSourceOfQulaifiedLeads(@Param(&quot;loanApplicationIds&quot;) List&lt;Long&gt; loanApplicationIds); its not workinng after adding and removing size also i am not getting response. \n</code></pre>\n<p>Can anyone help me with this.</p>\n<pre><code>import org.elasticsearch.action.search.SearchRequest;\nimport org.elasticsearch.action.search.SearchResponse;\nimport org.elasticsearch.client.RequestOptions;\nimport org.elasticsearch.client.RestHighLevelClient;\nimport org.elasticsearch.index.query.QueryBuilders;\nimport org.elasticsearch.search.aggregations.AggregationBuilders;\nimport org.elasticsearch.search.aggregations.bucket.composite.CompositeAggregationBuilder;\nimport org.elasticsearch.search.aggregations.bucket.composite.TermsValuesSourceBuilder;\nimport org.elasticsearch.search.aggregations.metrics.max.MaxAggregationBuilder;\nimport org.elasticsearch.search.builder.SearchSourceBuilder;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.io.IOException;\nimport java.util.List;\n\n@Service\npublic class YourService {\n\n    private final RestHighLevelClient restHighLevelClient;\n\n    @Autowired\n    public YourService(RestHighLevelClient restHighLevelClient) {\n        this.restHighLevelClient = restHighLevelClient;\n    }\n\n    public SearchResponse aggregateByLoanApplicationIds(List&lt;String&gt; loanApplicationIdList) throws IOException {\n        CompositeAggregationBuilder compositeAggregation = AggregationBuilders.composite(&quot;group_by_fields&quot;)\n                .sources(\n                        new TermsValuesSourceBuilder(&quot;loan_application_id&quot;).field(&quot;loan_application_id.keyword&quot;),\n                        new TermsValuesSourceBuilder(&quot;name&quot;).field(&quot;name.keyword&quot;),\n                        new TermsValuesSourceBuilder(&quot;upload_source&quot;).field(&quot;upload_source.keyword&quot;)\n                );\n\n        MaxAggregationBuilder maxCreatedAtAggregation = AggregationBuilders.max(&quot;max_created_at&quot;).field(&quot;created_at&quot;);\n\n        SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder()\n                .query(QueryBuilders.termsQuery(&quot;loan_application_id.keyword&quot;, loanApplicationIdList))\n                .aggregation(compositeAggregation.subAggregation(maxCreatedAtAggregation))\n                .size(0); // Set size to 0 to get only the aggregations without hits\n\n        SearchRequest searchRequest = new SearchRequest(&quot;loan_attachments&quot;);\n        searchRequest.source(searchSourceBuilder);\n\n        return restHighLevelClient.search(searchRequest, RequestOptions.DEFAULT);\n    }\n}\n</code></pre>\n<p>I asked Chat GPT and got this then I tried to write my query like this but didnt work its wrong given by CHAT GPT.</p>\n<pre><code>@Query(&quot;{\\&quot;query\\&quot;: {\\&quot;term\\&quot;: {\\&quot;loan_application_id\\&quot;: {\\&quot;value\\&quot;: 87015}}},\\&quot;aggs\\&quot;: {\\&quot;group_by_fields\\&quot;: {\\&quot;composite\\&quot;: {\\&quot;size\\&quot;: 10,\\&quot;sources\\&quot;: [{\\&quot;loan_application_id\\&quot;: {\\&quot;terms\\&quot;: {\\&quot;field\\&quot;:\\&quot;loan_application_id\\&quot;}}},{\\&quot;name\\&quot;: {\\&quot;terms\\&quot;: {\\&quot;field\\&quot;: \\&quot;name.keyword\\&quot;}}},{\\&quot;upload_source\\&quot;: {\\&quot;terms\\&quot;: {\\&quot;field\\&quot;: \\&quot;upload_source.keyword\\&quot;}}}]},\\&quot;aggregations\\&quot;:{\\&quot;max_created_at\\&quot;: {\\&quot;max\\&quot;: {\\&quot;field\\&quot;: \\&quot;created_at\\&quot;}}}}}}&quot;)\n    SearchHits&lt;LoanAttachmentEs&gt; getDocUploadSourceOfQulaifiedLeads(@Param(&quot;loanApplicationIds&quot;) List&lt;Long&gt; loanApplicationIds);\n</code></pre>\n<p>this but didnt worked anything . Getting diffrent diffrent errors.</p>\n"},{"tags":["java","aerospike"],"answers":[{"tags":[],"owner":{"account_id":2163589,"reputation":5165,"user_id":1917187,"display_name":"pgupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690215049,"creation_date":1690215049,"answer_id":76756275,"question_id":76742597,"body_markdown":"    Key myKey = new Key(&quot;test&quot;, &quot;testset&quot;, &quot;mykey&quot;);\r\n    String binName = &quot;myList&quot;;\r\n    ListPolicy lPolicy = new ListPolicy(ListOrder.UNORDERED, ListWriteFlags.DEFAULT);\r\n    client.delete(null,myKey);  //Start clean for test\r\n\r\n    client.operate(null, myKey, ListOperation.append(lPolicy, binName, Value.get(10))); \r\n    client.operate(null, myKey, ListOperation.append(lPolicy, binName, Value.get(5))); \r\n    client.operate(null, myKey, ListOperation.append(lPolicy, binName, Value.get(15))); \r\n    client.operate(null, myKey, ListOperation.append(lPolicy, binName, Value.get(20))); \r\n\r\n    System.out.println(&quot;My List: &quot;+ client.get(null, myKey)); \r\n\r\n    client.operate(null, myKey, ListOperation.pop(binName, 1) );  //Pop at index 1, (value = 5)\r\n\r\n    System.out.println(&quot;My List after pop: &quot;+ client.get(null, myKey)); \r\n\r\nOutput:\r\n\r\n    My List: (gen:4),(exp:428342885),(bins:(myList:[10, 5, 15, 20]))\r\n    My List after pop: (gen:5),(exp:428342885),(bins:(myList:[10, 15, 20]))","title":"listoperation.pop in aerospike removing complete list instead of removing item from particular index","body":"<pre><code>Key myKey = new Key(&quot;test&quot;, &quot;testset&quot;, &quot;mykey&quot;);\nString binName = &quot;myList&quot;;\nListPolicy lPolicy = new ListPolicy(ListOrder.UNORDERED, ListWriteFlags.DEFAULT);\nclient.delete(null,myKey);  //Start clean for test\n\nclient.operate(null, myKey, ListOperation.append(lPolicy, binName, Value.get(10))); \nclient.operate(null, myKey, ListOperation.append(lPolicy, binName, Value.get(5))); \nclient.operate(null, myKey, ListOperation.append(lPolicy, binName, Value.get(15))); \nclient.operate(null, myKey, ListOperation.append(lPolicy, binName, Value.get(20))); \n\nSystem.out.println(&quot;My List: &quot;+ client.get(null, myKey)); \n\nclient.operate(null, myKey, ListOperation.pop(binName, 1) );  //Pop at index 1, (value = 5)\n\nSystem.out.println(&quot;My List after pop: &quot;+ client.get(null, myKey)); \n</code></pre>\n<p>Output:</p>\n<pre><code>My List: (gen:4),(exp:428342885),(bins:(myList:[10, 5, 15, 20]))\nMy List after pop: (gen:5),(exp:428342885),(bins:(myList:[10, 15, 20]))\n</code></pre>\n"}],"owner":{"account_id":28434365,"reputation":1,"user_id":21754660,"display_name":"pradhuman nanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690215049,"creation_date":1690007673,"question_id":76742597,"body_markdown":"ListOperation.pop(binName, metaInfo.getIndex())\r\n\r\ncan anyone help with this i&#39;m using default write policy\r\n\r\nas per doc Create list pop operation.\r\nServer returns item at specified index and removes item from list bin.\r\n\r\npublic static Operation pop(String binName, int index, CTX... ctx) {\r\n\r\n    return CDT.createOperation(POP, Operation.Type.CDT_MODIFY, binName, ctx, index);\r\n\r\n}","title":"listoperation.pop in aerospike removing complete list instead of removing item from particular index","body":"<p>ListOperation.pop(binName, metaInfo.getIndex())</p>\n<p>can anyone help with this i'm using default write policy</p>\n<p>as per doc Create list pop operation.\nServer returns item at specified index and removes item from list bin.</p>\n<p>public static Operation pop(String binName, int index, CTX... ctx) {</p>\n<pre><code>return CDT.createOperation(POP, Operation.Type.CDT_MODIFY, binName, ctx, index);\n</code></pre>\n<p>}</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3441337,"reputation":16524,"user_id":2883245,"accept_rate":88,"display_name":"erip"},"score":1,"creation_date":1690210482,"post_id":76755649,"comment_id":135318007,"body_markdown":"This is not a good way to write this code. Soon it will need to return _three types_, _four types_, etc. Just write one method per return type so you know what it does.","body":"This is not a good way to write this code. Soon it will need to return <i>three types</i>, <i>four types</i>, etc. Just write one method per return type so you know what it does."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1690210606,"post_id":76755649,"comment_id":135318045,"body_markdown":"The real problem arises in replacing `DigitalInsertionOrderTableRow` with `?`.","body":"The real problem arises in replacing <code>DigitalInsertionOrderTableRow</code> with <code>?</code>."},{"owner":{"account_id":259805,"reputation":386,"user_id":542938,"display_name":"vivek"},"score":0,"creation_date":1690210682,"post_id":76755649,"comment_id":135318069,"body_markdown":"It is not very clear why you want to do what you want to do Julian, but as long as the method returns what it is returning currently, it should not be an issue. It would be helpful if you elaborate the requirement.","body":"It is not very clear why you want to do what you want to do Julian, but as long as the method returns what it is returning currently, it should not be an issue. It would be helpful if you elaborate the requirement."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1690210693,"post_id":76755649,"comment_id":135318074,"body_markdown":"You could have a common base for all the returned things, and then use that in the return type.","body":"You could have a common base for all the returned things, and then use that in the return type."},{"owner":{"account_id":11241181,"reputation":143,"user_id":9670502,"display_name":"Ihor Horovyi"},"score":2,"creation_date":1690210748,"post_id":76755649,"comment_id":135318094,"body_markdown":"I agree that creating such a method is not the best idea. But if you want to solve your problem, use Object at your own risk or better you can create same Interface for your return objects.","body":"I agree that creating such a method is not the best idea. But if you want to solve your problem, use Object at your own risk or better you can create same Interface for your return objects."},{"owner":{"account_id":16012377,"reputation":101,"user_id":11556092,"display_name":"JulianC"},"score":0,"creation_date":1690210914,"post_id":76755649,"comment_id":135318133,"body_markdown":"If i use List&lt;AssignmentInvoker&lt;Object, String&gt;&gt; i get a compile error in the return lines saying: &quot;The method of(PrintInsertionOrderTableRow::setNumberOfMonths) is undefined for the type List&quot;","body":"If i use List&lt;AssignmentInvoker&lt;Object, String&gt;&gt; i get a compile error in the return lines saying: &quot;The method of(PrintInsertionOrderTableRow::setNumberOfMonths) is undefined for the type List&quot;"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1690211402,"post_id":76755649,"comment_id":135318247,"body_markdown":"Why do you need this code?","body":"Why do you need this code?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1690214647,"post_id":76755649,"comment_id":135318959,"body_markdown":"What is the argument type and return type of `PrintInsertionOrderTableRow::setNumberOfMonths` and of `DigitalInsertionOrderTableRow::setNumberOfMonths`?","body":"What is the argument type and return type of <code>PrintInsertionOrderTableRow::setNumberOfMonths</code> and of <code>DigitalInsertionOrderTableRow::setNumberOfMonths</code>?"}],"owner":{"account_id":16012377,"reputation":101,"user_id":11556092,"display_name":"JulianC"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690214966,"creation_date":1690210354,"question_id":76755649,"body_markdown":"I have this function:\r\n\r\n    private List&lt;AssignmentInvoker&lt;DigitalInsertionOrderTableRow, String&gt;&gt; getColumns(String campaignDTOenum) {\r\n        if (campaignDTOenum.equals(&quot;PRINT&quot;)){                \r\n                return List.of(DigitalInsertionOrderTableRow::setNumberOfMonths);\r\n        }\r\n        else return List.of(DigitalInsertionOrderTableRow::setPlannedUnits);\r\n    }\r\n\r\nI need to move **DigitalInsertionOrderTableRow::setNumberOfMonths** to **PrintInsertionOrderTableRow::setNumberOfMonths** (different class)\r\n\r\nIs it possible that a method has the change to return a different type?\r\n\r\nI would need the method to be something like this:\r\n\r\n    private List&lt;AssignmentInvoker&lt;?, String&gt;&gt; getColumns(String campaignDTOenum) {\r\n    if (campaignDTOenum.equals(&quot;PRINT&quot;)){                \r\n            return List.of(PrintInsertionOrderTableRow::setNumberOfMonths);\r\n    }\r\n    else return List.of(DigitalInsertionOrderTableRow::setPlannedUnits);\r\n}\r\n\r\n","title":"How to return different types in a method","body":"<p>I have this function:</p>\n<pre><code>private List&lt;AssignmentInvoker&lt;DigitalInsertionOrderTableRow, String&gt;&gt; getColumns(String campaignDTOenum) {\n    if (campaignDTOenum.equals(&quot;PRINT&quot;)){                \n            return List.of(DigitalInsertionOrderTableRow::setNumberOfMonths);\n    }\n    else return List.of(DigitalInsertionOrderTableRow::setPlannedUnits);\n}\n</code></pre>\n<p>I need to move <strong>DigitalInsertionOrderTableRow::setNumberOfMonths</strong> to <strong>PrintInsertionOrderTableRow::setNumberOfMonths</strong> (different class)</p>\n<p>Is it possible that a method has the change to return a different type?</p>\n<p>I would need the method to be something like this:</p>\n<pre><code>private List&lt;AssignmentInvoker&lt;?, String&gt;&gt; getColumns(String campaignDTOenum) {\nif (campaignDTOenum.equals(&quot;PRINT&quot;)){                \n        return List.of(PrintInsertionOrderTableRow::setNumberOfMonths);\n}\nelse return List.of(DigitalInsertionOrderTableRow::setPlannedUnits);\n</code></pre>\n<p>}</p>\n"},{"tags":["java","tdd","mockito","junit4","powermock"],"comments":[{"owner":{"account_id":1434179,"reputation":5113,"user_id":1355930,"display_name":"Ashley Frieze"},"score":0,"creation_date":1477690519,"post_id":40280918,"comment_id":67884154,"body_markdown":"Does Mockito&#39;s @InjectMocks annotation not help?","body":"Does Mockito&#39;s @InjectMocks annotation not help?"},{"owner":{"account_id":90084,"reputation":1225,"user_id":248131,"accept_rate":80,"display_name":"emanciperingsivraren"},"score":0,"creation_date":1477906331,"post_id":40280918,"comment_id":67933389,"body_markdown":"I don&#39;t know how they work in 2.2. In 1.x my experience is that if they for some reason fail to inject mockito is silent and I get a NullPointerException in the class where the injection failed. When using whitebox I get a exception clearly telling me that it failed. I started by using @InjectMocks, but thought that WhiteBox was better, so did my co-workers, so now we have a lot of code that is using WhiteBox, making upgrade timeconsuming, if we need to do something else.","body":"I don&#39;t know how they work in 2.2. In 1.x my experience is that if they for some reason fail to inject mockito is silent and I get a NullPointerException in the class where the injection failed. When using whitebox I get a exception clearly telling me that it failed. I started by using @InjectMocks, but thought that WhiteBox was better, so did my co-workers, so now we have a lot of code that is using WhiteBox, making upgrade timeconsuming, if we need to do something else."},{"owner":{"account_id":90084,"reputation":1225,"user_id":248131,"accept_rate":80,"display_name":"emanciperingsivraren"},"score":1,"creation_date":1477907154,"post_id":40280918,"comment_id":67933801,"body_markdown":"Here is a link to a blog post talking about the issues that exists with @InjectMocks, it has the same recommendations as the accepted answer has: https://tedvinke.wordpress.com/2014/02/13/mockito-why-you-should-not-use-injectmocks-annotation-to-autowire-fields/","body":"Here is a link to a blog post talking about the issues that exists with @InjectMocks, it has the same recommendations as the accepted answer has: <a href=\"https://tedvinke.wordpress.com/2014/02/13/mockito-why-you-should-not-use-injectmocks-annotation-to-autowire-fields/\" rel=\"nofollow noreferrer\">tedvinke.wordpress.com/2014/02/13/&hellip;</a>"},{"owner":{"account_id":6896835,"reputation":1072,"user_id":5298491,"accept_rate":100,"display_name":"Koitt"},"score":1,"creation_date":1493227588,"post_id":40280918,"comment_id":74329911,"body_markdown":"I ended up copying the Whitebox code too, it&#39;s a very simple class that streamlines what I needed to do. Here&#39;s the code, in case anyone else needs it https://raw.githubusercontent.com/mockito/mockito/fea4074f8d4a7b1f7b8e89d4819bef25b1b6228f/src/main/java/org/mockito/internal/util/reflection/Whitebox.java","body":"I ended up copying the Whitebox code too, it&#39;s a very simple class that streamlines what I needed to do. Here&#39;s the code, in case anyone else needs it <a href=\"https://raw.githubusercontent.com/mockito/mockito/fea4074f8d4a7b1f7b8e89d4819bef25b1b6228f/src/main/java/org/mockito/internal/util/reflection/Whitebox.java\" rel=\"nofollow noreferrer\">raw.githubusercontent.com/mockito/mockito/&hellip;</a>"},{"owner":{"account_id":2395793,"reputation":444,"user_id":2094616,"accept_rate":75,"display_name":"Priyal"},"score":0,"creation_date":1560845333,"post_id":40280918,"comment_id":99859199,"body_markdown":"Here with [fest-reflect](https://github.com/alexruiz/fest-reflect) api you can find an easy to use fluent API for reflection support. This is what I use as an alternative to Mockito&#39;s Whiltebox.","body":"Here with <a href=\"https://github.com/alexruiz/fest-reflect\" rel=\"nofollow noreferrer\">fest-reflect</a> api you can find an easy to use fluent API for reflection support. This is what I use as an alternative to Mockito&#39;s Whiltebox."}],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1477590919,"creation_date":1477590919,"answer_id":40291254,"question_id":40280918,"body_markdown":"Note that `Whitebox` was always in the `org.mockito.internal` package. Beyond the incrementing of the major version number, the `internal` designation is a giveaway that the package may be subject to breaking changes.\r\n\r\nIf you do want to make it a point to set otherwise-inaccessible fields in your test, you can do so in the same way that `setInternalState` does, which is just to identify the field in the hierarchy, call `setAccessible` on it, and then set it. [The full code is here on grepcode.](http://grepcode.com/file/repo1.maven.org/maven2/org.mockito/mockito-all/1.10.19/org/mockito/internal/util/reflection/Whitebox.java?av=f#27) You can also examine a number of [other ways to set inaccessible state in tests](https://stackoverflow.com/a/27552765/1426891).\r\n\r\n    public static void setInternalState(Object target, String field, Object value) {\r\n        Class&lt;?&gt; c = target.getClass();\r\n        try {\r\n            Field f = getFieldFromHierarchy(c, field);  // Checks superclasses.\r\n            f.setAccessible(true);\r\n            f.set(target, value);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(\r\n                &quot;Unable to set internal state on a private field. [...]&quot;, e);\r\n        }\r\n    }\r\n\r\n**However,** in situations like this, my general advice is to _stop fighting the tools_: Java&#39;s four levels of encapsulation (public, protected, package, private) are not necessarily granular enough to express the degree of protection you&#39;re trying to express, and it&#39;s often much easier to add a well-documented initialization method or constructor override to override the dependencies as you&#39;re trying to do reflectively. If you put your tests in the same Java package as the class it tests, you can often even make the fields or method/constructor package-private, which is also a good reason to set up parallel source folders `src` and `tests` (etc) that represent two halves of the same Java package.\r\n\r\nThough some treat this additional method or constructor as &quot;API pollution&quot;, I see it instead as coding to the  requirements of one of your class&#39;s most important consumers—_its own test_. If you need a pristine external interface, you can easily define one separately such that you can hide any details you&#39;d like. However, you may find you _like_ the ability to inject any real or mock implementation directly into your now-more-flexible component, at which point you may want to look into dependency injection patterns or frameworks.","title":"What do I use instead of Whitebox in Mockito 2.2 to set fields?","body":"<p>Note that <code>Whitebox</code> was always in the <code>org.mockito.internal</code> package. Beyond the incrementing of the major version number, the <code>internal</code> designation is a giveaway that the package may be subject to breaking changes.</p>\n\n<p>If you do want to make it a point to set otherwise-inaccessible fields in your test, you can do so in the same way that <code>setInternalState</code> does, which is just to identify the field in the hierarchy, call <code>setAccessible</code> on it, and then set it. <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/org.mockito/mockito-all/1.10.19/org/mockito/internal/util/reflection/Whitebox.java?av=f#27\" rel=\"noreferrer\">The full code is here on grepcode.</a> You can also examine a number of <a href=\"https://stackoverflow.com/a/27552765/1426891\">other ways to set inaccessible state in tests</a>.</p>\n\n<pre><code>public static void setInternalState(Object target, String field, Object value) {\n    Class&lt;?&gt; c = target.getClass();\n    try {\n        Field f = getFieldFromHierarchy(c, field);  // Checks superclasses.\n        f.setAccessible(true);\n        f.set(target, value);\n    } catch (Exception e) {\n        throw new RuntimeException(\n            \"Unable to set internal state on a private field. [...]\", e);\n    }\n}\n</code></pre>\n\n<p><strong>However,</strong> in situations like this, my general advice is to <em>stop fighting the tools</em>: Java's four levels of encapsulation (public, protected, package, private) are not necessarily granular enough to express the degree of protection you're trying to express, and it's often much easier to add a well-documented initialization method or constructor override to override the dependencies as you're trying to do reflectively. If you put your tests in the same Java package as the class it tests, you can often even make the fields or method/constructor package-private, which is also a good reason to set up parallel source folders <code>src</code> and <code>tests</code> (etc) that represent two halves of the same Java package.</p>\n\n<p>Though some treat this additional method or constructor as \"API pollution\", I see it instead as coding to the  requirements of one of your class's most important consumers—<em>its own test</em>. If you need a pristine external interface, you can easily define one separately such that you can hide any details you'd like. However, you may find you <em>like</em> the ability to inject any real or mock implementation directly into your now-more-flexible component, at which point you may want to look into dependency injection patterns or frameworks.</p>\n"},{"tags":[],"owner":{"account_id":235434,"reputation":2479,"user_id":502240,"display_name":"bcody"},"down_vote_count":0,"up_vote_count":82,"is_accepted":false,"score":82,"last_activity_date":1497875897,"creation_date":1497875897,"answer_id":44630786,"question_id":40280918,"body_markdown":"If you are using Spring (the spring-test library specifically), you can simply use `ReflectionTestUtils.setField` instead of `Whitebox.setInternalState`","title":"What do I use instead of Whitebox in Mockito 2.2 to set fields?","body":"<p>If you are using Spring (the spring-test library specifically), you can simply use <code>ReflectionTestUtils.setField</code> instead of <code>Whitebox.setInternalState</code></p>\n"},{"tags":[],"owner":{"account_id":3977983,"reputation":574,"user_id":3613216,"display_name":"foo"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1559647570,"creation_date":1528200456,"answer_id":50699725,"question_id":40280918,"body_markdown":"The cleanest, neatest and **most portable** way without reinventing the wheel is to use Apache Commons&#39; `FieldUtils`.\r\nhttps://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/reflect/FieldUtils.html\r\n\r\nThe answer to your question would then be\r\n\r\n    public static void setStaticFieldValue(\r\n            @NonNull final Class&lt;?&gt; clz,\r\n            @NonNull final String fieldName,\r\n            @NonNull final Object value) throws Exception {\r\n        final Field f = FieldUtils.getField(clz, fieldName, true);\r\n        FieldUtils.removeFinalModifier(f);\r\n        f.set(null, value);\r\n    }","title":"What do I use instead of Whitebox in Mockito 2.2 to set fields?","body":"<p>The cleanest, neatest and <strong>most portable</strong> way without reinventing the wheel is to use Apache Commons' <code>FieldUtils</code>.\n<a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/reflect/FieldUtils.html\" rel=\"noreferrer\">https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/reflect/FieldUtils.html</a></p>\n\n<p>The answer to your question would then be</p>\n\n<pre><code>public static void setStaticFieldValue(\n        @NonNull final Class&lt;?&gt; clz,\n        @NonNull final String fieldName,\n        @NonNull final Object value) throws Exception {\n    final Field f = FieldUtils.getField(clz, fieldName, true);\n    FieldUtils.removeFinalModifier(f);\n    f.set(null, value);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2631099,"reputation":146,"user_id":2277035,"display_name":"Murik"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1555009411,"creation_date":1555009411,"answer_id":55639531,"question_id":40280918,"body_markdown":"You can use FieldSetter in Mockito2.x\r\n\r\n        import org.mockito.internal.util.reflection.FieldSetter;\r\n     FieldSetter.setField(eventHandler,eventHandler.getClass().getDeclaredField(&quot;securityService&quot;), securityService);","title":"What do I use instead of Whitebox in Mockito 2.2 to set fields?","body":"<p>You can use FieldSetter in Mockito2.x</p>\n\n<pre><code>    import org.mockito.internal.util.reflection.FieldSetter;\n FieldSetter.setField(eventHandler,eventHandler.getClass().getDeclaredField(\"securityService\"), securityService);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2395793,"reputation":444,"user_id":2094616,"accept_rate":75,"display_name":"Priyal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1560845314,"creation_date":1560845314,"answer_id":56644522,"question_id":40280918,"body_markdown":"Here with [fest-reflect][1] api you can find an easy to use fluent API for reflection support. This is what I use as an alternative to Mockito&#39;s Whiltebox.\r\n\r\n\r\n  [1]: https://github.com/alexruiz/fest-reflect","title":"What do I use instead of Whitebox in Mockito 2.2 to set fields?","body":"<p>Here with <a href=\"https://github.com/alexruiz/fest-reflect\" rel=\"nofollow noreferrer\">fest-reflect</a> api you can find an easy to use fluent API for reflection support. This is what I use as an alternative to Mockito's Whiltebox.</p>\n"},{"tags":[],"owner":{"account_id":1041926,"reputation":26177,"user_id":1047788,"accept_rate":81,"display_name":"user7610"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1667294440,"creation_date":1667294440,"answer_id":74273765,"question_id":40280918,"body_markdown":"PowerMock has [Whitebox as part of its public API][1]. This is part of `powermock-reflect`.\r\n\r\n\r\n  [1]: https://github.com/powermock/powermock/wiki/Bypass-Encapsulation","title":"What do I use instead of Whitebox in Mockito 2.2 to set fields?","body":"<p>PowerMock has <a href=\"https://github.com/powermock/powermock/wiki/Bypass-Encapsulation\" rel=\"nofollow noreferrer\">Whitebox as part of its public API</a>. This is part of <code>powermock-reflect</code>.</p>\n"},{"tags":[],"owner":{"account_id":27387330,"reputation":1,"user_id":20890895,"display_name":"warrenc5"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690214898,"creation_date":1689808141,"answer_id":76725726,"question_id":40280918,"body_markdown":"The important distinction between plain old Java and plain new Java is `getDeclaredField/s` returns private fields.\r\n\r\n\tpublic static Object getField(Object o, String name) {\r\n\t\ttry {\r\n\t\t\tField f = o.getClass().getDeclaredField(name);\r\n\t\t\tf.setAccessible(true);\r\n\t\t\treturn f.get(o);\r\n\t\t} catch (Exception ex) {\r\n\t\t\tlog.info(o.getClass() + &quot; &quot; + name + &quot; &quot; + ex.getMessage(), ex);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\tpublic static void setField(Object o, String name, Object value) {\r\n\t\ttry {\r\n\t\t\tField f = o.getClass().getDeclaredField(name);\r\n\t\t\tf.setAccessible(true);\r\n\t\t\tf.set(o, value);\r\n\t\t} catch (Exception ex) {\r\n\t\t\tlog.info(o.getClass() + &quot; &quot; + name + &quot; &quot; + ex.getMessage(), ex);\r\n\t\t}\r\n\t}\r\n","title":"What do I use instead of Whitebox in Mockito 2.2 to set fields?","body":"<p>The important distinction between plain old Java and plain new Java is <code>getDeclaredField/s</code> returns private fields.</p>\n<pre><code>public static Object getField(Object o, String name) {\n    try {\n        Field f = o.getClass().getDeclaredField(name);\n        f.setAccessible(true);\n        return f.get(o);\n    } catch (Exception ex) {\n        log.info(o.getClass() + &quot; &quot; + name + &quot; &quot; + ex.getMessage(), ex);\n    }\n    return null;\n}\n\npublic static void setField(Object o, String name, Object value) {\n    try {\n        Field f = o.getClass().getDeclaredField(name);\n        f.setAccessible(true);\n        f.set(o, value);\n    } catch (Exception ex) {\n        log.info(o.getClass() + &quot; &quot; + name + &quot; &quot; + ex.getMessage(), ex);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":90084,"reputation":1225,"user_id":248131,"accept_rate":80,"display_name":"emanciperingsivraren"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65668,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":40291254,"answer_count":7,"score":45,"last_activity_date":1690214898,"creation_date":1477560392,"question_id":40280918,"body_markdown":"When using Mockito 1.9.x I have been using `Whitebox`to set values of fields to &quot;inject&quot; mocks. Se example below:\r\n\r\n    @Before\r\n    public void setUp() {\r\n \r\n        eventHandler = new ProcessEventHandler();\r\n        securityService = new SecurityServiceMock();\r\n        registrationService = mock(RegistrationService.class);\r\n\r\n        Whitebox.setInternalState(eventHandler, &quot;registrationService&quot;, registrationService);\r\n        Whitebox.setInternalState(eventHandler, &quot;securityService&quot;, securityService);\r\n    }\r\nI really like this approach, but now that I tried to upgrade to `Mockito`  `2.2.7` I noticed (or rather, my IDE noticed and told me quite a few times) that Whitebox was no longer to be found in Mockito.\r\n\r\n&lt;del&gt;I have found one alternative, that can work as a replacement, and that is `org.powermock.reflect.Whitebox`, the problem with that is that I get another dependency (Powermock), just to use Whitebox.&lt;/del&gt; \r\n\r\n`Powermock` also have a class named `Whitebox`, but unfortunately  it looks as if it can not be used with `Mockito 2.2.x`\r\n\r\nIs there any good alternatives in Mockito that I can use to manually &quot;inject&quot; fields, now that `Whitebox` is no longer available?   \r\n   \r\n   \r\n---\r\n\r\nSolution\r\n----\r\nI wrote in a comment in response to the post made of @JeffBowman. In short I chose to copy the code of WhiteBox, and use that, since it is used in most of the test cases and the class does not have dependencies to other classes. It was the fastest path to solve this issue.\r\n\r\n**Note** The solution that @bcody suggest is a better alternative, if you are using spring, it ads no extra code for you to maintain. I got that information to late :( ","title":"What do I use instead of Whitebox in Mockito 2.2 to set fields?","body":"<p>When using Mockito 1.9.x I have been using <code>Whitebox</code>to set values of fields to \"inject\" mocks. Se example below:</p>\n\n<pre><code>@Before\npublic void setUp() {\n\n    eventHandler = new ProcessEventHandler();\n    securityService = new SecurityServiceMock();\n    registrationService = mock(RegistrationService.class);\n\n    Whitebox.setInternalState(eventHandler, \"registrationService\", registrationService);\n    Whitebox.setInternalState(eventHandler, \"securityService\", securityService);\n}\n</code></pre>\n\n<p>I really like this approach, but now that I tried to upgrade to <code>Mockito</code>  <code>2.2.7</code> I noticed (or rather, my IDE noticed and told me quite a few times) that Whitebox was no longer to be found in Mockito.</p>\n\n<p><del>I have found one alternative, that can work as a replacement, and that is <code>org.powermock.reflect.Whitebox</code>, the problem with that is that I get another dependency (Powermock), just to use Whitebox.</del> </p>\n\n<p><code>Powermock</code> also have a class named <code>Whitebox</code>, but unfortunately  it looks as if it can not be used with <code>Mockito 2.2.x</code></p>\n\n<p>Is there any good alternatives in Mockito that I can use to manually \"inject\" fields, now that <code>Whitebox</code> is no longer available?   </p>\n\n<hr>\n\n<h2>Solution</h2>\n\n<p>I wrote in a comment in response to the post made of @JeffBowman. In short I chose to copy the code of WhiteBox, and use that, since it is used in most of the test cases and the class does not have dependencies to other classes. It was the fastest path to solve this issue.</p>\n\n<p><strong>Note</strong> The solution that @bcody suggest is a better alternative, if you are using spring, it ads no extra code for you to maintain. I got that information to late :( </p>\n"},{"tags":["java","eclipse","postgresql","eclipse-dtp"],"comments":[{"owner":{"account_id":10250039,"reputation":1867,"user_id":7564593,"display_name":"Bandham Manikanta"},"score":0,"creation_date":1595611368,"post_id":38279667,"comment_id":111545130,"body_markdown":"Hope you might have found the answer. If yes, please share.","body":"Hope you might have found the answer. If yes, please share."}],"answers":[{"tags":[],"owner":{"account_id":1213274,"reputation":1323,"user_id":1181404,"accept_rate":70,"display_name":"Happy Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468264411,"creation_date":1468264411,"answer_id":38314463,"question_id":38279667,"body_markdown":"i always use Postgresql with dtp,works like a champ..\r\nyou can&#39;t create a driver from  Window-&gt;Preference-&gt;Data Management-&gt; Driver Definition.\r\n\r\ngo to &quot;data source explorer view&quot; -&gt; right click &quot;new&quot; -&gt; pick &quot;Postgresql&quot;-&gt; click on &quot;new driver definition&quot; ... then follow the wizard\r\n\r\n===============\r\n\r\n\r\nhope its helps","title":"Eclipse DTP new driver definition","body":"<p>i always use Postgresql with dtp,works like a champ..\nyou can't create a driver from  Window->Preference->Data Management-> Driver Definition.</p>\n\n<p>go to \"data source explorer view\" -> right click \"new\" -> pick \"Postgresql\"-> click on \"new driver definition\" ... then follow the wizard</p>\n\n<p>===============</p>\n\n<p>hope its helps</p>\n"},{"tags":[],"owner":{"account_id":26025125,"reputation":1,"user_id":19740053,"display_name":"Kurnia Ramadhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690214862,"creation_date":1689847956,"answer_id":76728834,"question_id":38279667,"body_markdown":"On **Name/Type** tab, just expand the window like this :\r\n[![enter image description here][1]][1]\r\nthen you can add jar/zip file on the **JAR List** tab\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sivsZ.png","title":"Eclipse DTP new driver definition","body":"<p>On <strong>Name/Type</strong> tab, just expand the window like this :\n<a href=\"https://i.stack.imgur.com/sivsZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sivsZ.png\" alt=\"enter image description here\" /></a>\nthen you can add jar/zip file on the <strong>JAR List</strong> tab</p>\n"}],"owner":{"account_id":8786257,"reputation":21,"user_id":6568058,"display_name":"Anand"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1570,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1690214862,"creation_date":1468051023,"question_id":38279667,"body_markdown":"I am trying to connect to Postgresql from Eclipse through Eclipse DTP.\r\n\r\nI navigated to Window-&gt;Preference-&gt;Data Management-&gt; Driver Definition\r\n\r\nAfter that I chose PostgreSQL and tried to add the driver through the New Driver Definition Template. But everything seems to be greyed out and I am neither able to edit the driver name of add the jar file using the add button.\r\nAll buttons are disabled and greyed out.\r\n\r\nPlease Help.\r\n\r\n![Jar][1]\r\n\r\n![DriverName][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Y6HbV.png\r\n  [2]: http://i.stack.imgur.com/R47il.png","title":"Eclipse DTP new driver definition","body":"<p>I am trying to connect to Postgresql from Eclipse through Eclipse DTP.</p>\n\n<p>I navigated to Window->Preference->Data Management-> Driver Definition</p>\n\n<p>After that I chose PostgreSQL and tried to add the driver through the New Driver Definition Template. But everything seems to be greyed out and I am neither able to edit the driver name of add the jar file using the add button.\nAll buttons are disabled and greyed out.</p>\n\n<p>Please Help.</p>\n\n<p><img src=\"https://i.stack.imgur.com/Y6HbV.png\" alt=\"Jar\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/R47il.png\" alt=\"DriverName\"></p>\n"},{"tags":["javascript","java","node.js","child-process"],"comments":[{"owner":{"account_id":27316738,"reputation":11,"user_id":20831106,"display_name":"Omkar"},"score":0,"creation_date":1690179346,"post_id":76751827,"comment_id":135311614,"body_markdown":"app2.js was created after getting error with the second input idea.","body":"app2.js was created after getting error with the second input idea."}],"owner":{"account_id":27316738,"reputation":11,"user_id":20831106,"display_name":"Omkar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690214745,"creation_date":1690179278,"question_id":76751827,"body_markdown":"I have a `Java` and `nodeJS` project where the input is sent to the backend using the below code:\r\n\r\n```\r\napp.post(&#39;/my-button&#39;, function (req, res) {\r\n  console.log(&#39;POST request received&#39;);\r\n  const input = decodeURIComponent(req.body.inputText);\r\n  console.log(input); // For debugging purposes\r\n  \r\n  const scriptPath = path.join(__dirname, &#39;/Backend/Main.java&#39;);\r\n  const script = spawn(&#39;java&#39;, [scriptPath, input]);\r\n\r\n  let output = &#39;&#39;;      \r\n```\r\n\r\nAnd it is collected at the backend as `args` for the main method.\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    String sql_input=args[0];\r\n    List&lt;String&gt; processed_statements = converter(sql_input);\r\n```\r\n\r\nOnce I start the server and give and input the server crashes and give the following error.\r\n\r\n[![error msg](https://i.stack.imgur.com/pPaUv.png)](https://i.stack.imgur.com/pPaUv.png)\r\n\r\nHow do I solve this issue as I have Java installed on my system.\r\n\r\n[![files structure if that helps](https://i.stack.imgur.com/OFEyP.png)](https://i.stack.imgur.com/OFEyP.png)\r\n\r\nI tried a different way of running java.\r\n\r\n```\r\nconst javaPath = &#39;java&#39;; // Assuming &#39;java&#39; is in the system&#39;s PATH\r\nconst classPath = path.join(__dirname, &#39;/Backend/&#39;); // Path to the Backend folder\r\nconsole.log(classPath);\r\nconst className = &#39;Main&#39;; // The Java class containing the main method\r\nconsole.log(className);\r\nconst javaProcess = spawn(javaPath, [&#39;-cp&#39;, classPath, className], {\r\n    stdio: &#39;pipe&#39;, // Pipe to stdin and stdout\r\n});\r\n```\r\n\r\nBut here also I get an error as below.\r\n\r\n    stderr: Error: Could not find or load main class Main.java\r\n    Caused by: java.lang.ClassNotFoundException: Main.java","title":"Getting a &quot;stderr: Error: A JNI error has occurred, please check your installation and try again Exception in thread &quot;main&quot; while running java","body":"<p>I have a <code>Java</code> and <code>nodeJS</code> project where the input is sent to the backend using the below code:</p>\n<pre><code>app.post('/my-button', function (req, res) {\n  console.log('POST request received');\n  const input = decodeURIComponent(req.body.inputText);\n  console.log(input); // For debugging purposes\n  \n  const scriptPath = path.join(__dirname, '/Backend/Main.java');\n  const script = spawn('java', [scriptPath, input]);\n\n  let output = '';      \n</code></pre>\n<p>And it is collected at the backend as <code>args</code> for the main method.</p>\n<pre><code>public static void main(String[] args) {\n    String sql_input=args[0];\n    List&lt;String&gt; processed_statements = converter(sql_input);\n</code></pre>\n<p>Once I start the server and give and input the server crashes and give the following error.</p>\n<p><a href=\"https://i.stack.imgur.com/pPaUv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pPaUv.png\" alt=\"error msg\" /></a></p>\n<p>How do I solve this issue as I have Java installed on my system.</p>\n<p><a href=\"https://i.stack.imgur.com/OFEyP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OFEyP.png\" alt=\"files structure if that helps\" /></a></p>\n<p>I tried a different way of running java.</p>\n<pre><code>const javaPath = 'java'; // Assuming 'java' is in the system's PATH\nconst classPath = path.join(__dirname, '/Backend/'); // Path to the Backend folder\nconsole.log(classPath);\nconst className = 'Main'; // The Java class containing the main method\nconsole.log(className);\nconst javaProcess = spawn(javaPath, ['-cp', classPath, className], {\n    stdio: 'pipe', // Pipe to stdin and stdout\n});\n</code></pre>\n<p>But here also I get an error as below.</p>\n<pre><code>stderr: Error: Could not find or load main class Main.java\nCaused by: java.lang.ClassNotFoundException: Main.java\n</code></pre>\n"},{"tags":["java","android","textview"],"answers":[{"tags":[],"owner":{"account_id":24303543,"reputation":876,"user_id":21163959,"display_name":"ObscureCookie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689875789,"creation_date":1689875789,"answer_id":76732552,"question_id":76732512,"body_markdown":"All resources are distinguished by their id and IDs are int values. So when you provide an int value to `setText` function, it will try to find the resource whose id is provided by you.\r\n\r\nTo correctly set int value as a text, you need to call `toString` function or Integer.\r\n\r\n    musicDurationTextView.setText(Integer.toString(mediaPlayer.getDuration()));","title":"Android Java throws unusual error when passing int value to the setText() method of TextView","body":"<p>All resources are distinguished by their id and IDs are int values. So when you provide an int value to <code>setText</code> function, it will try to find the resource whose id is provided by you.</p>\n<p>To correctly set int value as a text, you need to call <code>toString</code> function or Integer.</p>\n<pre><code>musicDurationTextView.setText(Integer.toString(mediaPlayer.getDuration()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16258152,"reputation":745,"user_id":11740298,"display_name":"heX"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690214405,"creation_date":1689875834,"answer_id":76732562,"question_id":76732512,"body_markdown":"`setText` requires you to pass a String or an Android resource ID.\r\n\r\n`mediaPlayer.getDuration()` returns an integer representing the duration, so you will have to convert it into a string so it can be passed to `setText`. You can do so by calling \r\n\r\nJava:\r\n```java\r\nmusicDurationTextView.setText(String.valueOf(mediaPlayer.getDuration()))\r\n```\r\nKotlin:\r\n```kotlin\r\nmusicDurationTextView.text = mediaPlayer.getDuration().toString()\r\n```\r\n","title":"Android Java throws unusual error when passing int value to the setText() method of TextView","body":"<p><code>setText</code> requires you to pass a String or an Android resource ID.</p>\n<p><code>mediaPlayer.getDuration()</code> returns an integer representing the duration, so you will have to convert it into a string so it can be passed to <code>setText</code>. You can do so by calling</p>\n<p>Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>musicDurationTextView.setText(String.valueOf(mediaPlayer.getDuration()))\n</code></pre>\n<p>Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>musicDurationTextView.text = mediaPlayer.getDuration().toString()\n</code></pre>\n"}],"owner":{"display_name":"user21603351"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76732562,"answer_count":2,"score":0,"last_activity_date":1690214405,"creation_date":1689875502,"question_id":76732512,"body_markdown":"I&#39;m trying to create a Android project. I have this XML layout code:\r\n```lang-xml\r\n        &lt;TextView\r\n            android:id=&quot;@+id/music_duration_text_view&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;00:00:00&quot;\r\n            android:textSize=&quot;@dimen/size_of_progress_and_duration_text&quot;\r\n            app:layout_constraintLeft_toRightOf=&quot;@id/music_place_slider&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@id/music_place_slider&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;@id/music_place_slider&quot;/&gt;\r\n```\r\nI access it in my fragment like this:\r\n```lang-java\r\nTextView musicDurationTextView;\r\nmusicDurationTextView = view.findViewById(R.id.music_duration_text_view);\r\n```\r\nHowever, when I try to change its text like this,\r\n```lang-java\r\nmusicDurationTextView.setText(mediaPlayer.getDuration());\r\n```\r\nit throws an error:\r\n```lang-none\r\n2023-07-20 10:37:06.120  9023-9023  AndroidRuntime          net...ftware.great_site.keeptrackv1  E  FATAL EXCEPTION: main\r\n                                                                                                    Process: net.formalsoftware.great_site.keeptrackv1, PID: 9023\r\n                                                                                                    android.content.res.Resources$NotFoundException: String resource ID #0x3ed40\r\n                                                                                                    \tat android.content.res.Resources.getText(Resources.java:455)\r\n                                                                                                    \tat android.widget.TextView.setText(TextView.java:7295)\r\n                                                                                                    \tat net.formalsoftware.great_site.keeptrackv1.NowPlayingFragment.playPauseAudio(NowPlayingFragment.java:118)\r\n                                                                                                    \tat net.formalsoftware.great_site.keeptrackv1.NowPlayingFragment.lambda$onViewCreated$0$net-formalsoftware-great_site-keeptrackv1-NowPlayingFragment(NowPlayingFragment.java:52)\r\n                                                                                                    \tat net.formalsoftware.great_site.keeptrackv1.NowPlayingFragment$$ExternalSyntheticLambda0.onClick(Unknown Source:2)\r\n                                                                                                    \tat android.view.View.performClick(View.java:7659)\r\n                                                                                                    \tat com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1211)\r\n                                                                                                    \tat android.view.View.performClickInternal(View.java:7636)\r\n                                                                                                    \tat android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)\r\n                                                                                                    \tat android.view.View$PerformClick.run(View.java:30156)\r\n                                                                                                    \tat android.os.Handler.handleCallback(Handler.java:958)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:205)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:294)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:8176)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971)\r\n```\r\nIf I change it to this,\r\n```lang-java\r\nmusicDurationTextView.setText(&quot;mediaPlayer.getDuration()&quot;);\r\n```\r\nit works fine.\r\n\r\nWhy does this throw this unusual, unrelated error when `int`s are passed to the function?","title":"Android Java throws unusual error when passing int value to the setText() method of TextView","body":"<p>I'm trying to create a Android project. I have this XML layout code:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;TextView\n            android:id=&quot;@+id/music_duration_text_view&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;00:00:00&quot;\n            android:textSize=&quot;@dimen/size_of_progress_and_duration_text&quot;\n            app:layout_constraintLeft_toRightOf=&quot;@id/music_place_slider&quot;\n            app:layout_constraintTop_toTopOf=&quot;@id/music_place_slider&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@id/music_place_slider&quot;/&gt;\n</code></pre>\n<p>I access it in my fragment like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TextView musicDurationTextView;\nmusicDurationTextView = view.findViewById(R.id.music_duration_text_view);\n</code></pre>\n<p>However, when I try to change its text like this,</p>\n<pre class=\"lang-java prettyprint-override\"><code>musicDurationTextView.setText(mediaPlayer.getDuration());\n</code></pre>\n<p>it throws an error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-07-20 10:37:06.120  9023-9023  AndroidRuntime          net...ftware.great_site.keeptrackv1  E  FATAL EXCEPTION: main\n                                                                                                    Process: net.formalsoftware.great_site.keeptrackv1, PID: 9023\n                                                                                                    android.content.res.Resources$NotFoundException: String resource ID #0x3ed40\n                                                                                                        at android.content.res.Resources.getText(Resources.java:455)\n                                                                                                        at android.widget.TextView.setText(TextView.java:7295)\n                                                                                                        at net.formalsoftware.great_site.keeptrackv1.NowPlayingFragment.playPauseAudio(NowPlayingFragment.java:118)\n                                                                                                        at net.formalsoftware.great_site.keeptrackv1.NowPlayingFragment.lambda$onViewCreated$0$net-formalsoftware-great_site-keeptrackv1-NowPlayingFragment(NowPlayingFragment.java:52)\n                                                                                                        at net.formalsoftware.great_site.keeptrackv1.NowPlayingFragment$$ExternalSyntheticLambda0.onClick(Unknown Source:2)\n                                                                                                        at android.view.View.performClick(View.java:7659)\n                                                                                                        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1211)\n                                                                                                        at android.view.View.performClickInternal(View.java:7636)\n                                                                                                        at android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)\n                                                                                                        at android.view.View$PerformClick.run(View.java:30156)\n                                                                                                        at android.os.Handler.handleCallback(Handler.java:958)\n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:99)\n                                                                                                        at android.os.Looper.loopOnce(Looper.java:205)\n                                                                                                        at android.os.Looper.loop(Looper.java:294)\n                                                                                                        at android.app.ActivityThread.main(ActivityThread.java:8176)\n                                                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                                                        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552)\n                                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971)\n</code></pre>\n<p>If I change it to this,</p>\n<pre class=\"lang-java prettyprint-override\"><code>musicDurationTextView.setText(&quot;mediaPlayer.getDuration()&quot;);\n</code></pre>\n<p>it works fine.</p>\n<p>Why does this throw this unusual, unrelated error when <code>int</code>s are passed to the function?</p>\n"},{"tags":["java","spring-boot","kotlin","modelmapper"],"comments":[{"owner":{"account_id":8277734,"reputation":1488,"user_id":8636565,"display_name":"Daniel Jacob"},"score":1,"creation_date":1598421003,"post_id":63582881,"comment_id":112449421,"body_markdown":"Check out this post:\n\nhttps://stackoverflow.com/questions/39199426/better-way-to-map-kotlin-data-objects-to-data-objects","body":"Check out this post:  <a href=\"https://stackoverflow.com/questions/39199426/better-way-to-map-kotlin-data-objects-to-data-objects\" title=\"better way to map kotlin data objects to data objects\">stackoverflow.com/questions/39199426/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":15513131,"reputation":2609,"user_id":11191424,"display_name":"Petrus Nguyễn Th&#225;i Học"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598376236,"creation_date":1598376236,"answer_id":63584088,"question_id":63582881,"body_markdown":"Change `val` to `var`\r\n\r\n```kotlin\r\ndata class Account(\r\n        val id: String,\r\n        var balance: Amount\r\n)\r\n\r\n```","title":"Kotlin modelMapper, Int to Float","body":"<p>Change <code>val</code> to <code>var</code></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class Account(\n        val id: String,\n        var balance: Amount\n)\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19890614,"reputation":1,"user_id":14572765,"display_name":"Ahmed Hosny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690214239,"creation_date":1689830183,"answer_id":76726860,"question_id":63582881,"body_markdown":"First, You must make your DTO variables nullable.\r\n\r\nUse `apply{}` extension function to do all conversions you need, check the code below\r\n\r\n```\r\ndata class AccountDTO(\r\n    var id: String? = null,\r\n    var balance: Float? = null,\r\n){\r\n    companion object{\r\n        fun fromEntity(account: Account): AccountDTO = ModelMapper().map(account, AccountDTO::class.java)\r\n            .apply {\r\n            balance = account.balance.value.toFloat()\r\n        }\r\n    }\r\n}\r\n```","title":"Kotlin modelMapper, Int to Float","body":"<p>First, You must make your DTO variables nullable.</p>\n<p>Use <code>apply{}</code> extension function to do all conversions you need, check the code below</p>\n<pre><code>data class AccountDTO(\n    var id: String? = null,\n    var balance: Float? = null,\n){\n    companion object{\n        fun fromEntity(account: Account): AccountDTO = ModelMapper().map(account, AccountDTO::class.java)\n            .apply {\n            balance = account.balance.value.toFloat()\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14672546,"reputation":1,"user_id":10596644,"display_name":"Julien"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1032,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690214239,"creation_date":1598371585,"question_id":63582881,"body_markdown":"I use kotlin/springboot and I want to use `ModelMapper` to map to Data Classes. I want to map `Account:balance:Amount:Int` to `AccountDto:balance:Float`\r\n\r\nFrom :\r\n\r\n    data class Account(\r\n            val id: String,\r\n            var balance: Amount\r\n    )\r\n\r\n    data class Amount(var value: Int)\r\n\r\nTo :\r\n\r\n    data class AccountDto(\r\n            var id: String,\r\n            var balance: Float?)\r\n\r\nI tried this :\r\n\r\n\r\n    val modelMapper = ModelMapper()\r\n    \r\n    modelMapper.addMappings(object : PropertyMap&lt;Account, AccountDto&gt;() {\r\n    \toverride fun configure() {\r\n    \t\tmap(source.balance.value / 100f, destination.balance)\r\n    \t}\r\n    })\r\n\r\nbut I have error like that :\r\n\r\n\r\n    Caused by: org.modelmapper.ConfigurationException: ModelMapper configuration errors:\r\n    \r\n    1) Cannot map final type ....accounts.Account.\r\n    \r\n    2) Cannot map final method ....accounts.Account.getBalance().\r\n    \r\n    3) Cannot map final type ....accounts.Amount.\r\n    \r\n    4) Cannot map final method ....accounts.Amount.getValue().\r\n    \r\n    5) Cannot map final type ....account.dto.AccountDto.\r\n    \r\n    6) Cannot map final method ....account.dto.AccountDto.getBalance().\r\n\r\nI have no more idea right now.","title":"Kotlin modelMapper, Int to Float","body":"<p>I use kotlin/springboot and I want to use <code>ModelMapper</code> to map to Data Classes. I want to map <code>Account:balance:Amount:Int</code> to <code>AccountDto:balance:Float</code></p>\n<p>From :</p>\n<pre><code>data class Account(\n        val id: String,\n        var balance: Amount\n)\n\ndata class Amount(var value: Int)\n</code></pre>\n<p>To :</p>\n<pre><code>data class AccountDto(\n        var id: String,\n        var balance: Float?)\n</code></pre>\n<p>I tried this :</p>\n<pre><code>val modelMapper = ModelMapper()\n\nmodelMapper.addMappings(object : PropertyMap&lt;Account, AccountDto&gt;() {\n    override fun configure() {\n        map(source.balance.value / 100f, destination.balance)\n    }\n})\n</code></pre>\n<p>but I have error like that :</p>\n<pre><code>Caused by: org.modelmapper.ConfigurationException: ModelMapper configuration errors:\n\n1) Cannot map final type ....accounts.Account.\n\n2) Cannot map final method ....accounts.Account.getBalance().\n\n3) Cannot map final type ....accounts.Amount.\n\n4) Cannot map final method ....accounts.Amount.getValue().\n\n5) Cannot map final type ....account.dto.AccountDto.\n\n6) Cannot map final method ....account.dto.AccountDto.getBalance().\n</code></pre>\n<p>I have no more idea right now.</p>\n"},{"tags":["java","junit4","order-of-execution","test-class"],"owner":{"account_id":12111183,"reputation":130,"user_id":8847871,"display_name":"ParSal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690213872,"creation_date":1690213872,"question_id":76756144,"body_markdown":"Pretty much the title says it all. Note that the question is order of &quot;classes&quot; not the test methods inside them. Per answers [here][1], the default execution order of test methods within a class can be configured using `@FixMethodOrder` and the default is computed using the hash of function names.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/53848489/8847871","title":"Default Execution Order of Test Classes in JUnit 4","body":"<p>Pretty much the title says it all. Note that the question is order of &quot;classes&quot; not the test methods inside them. Per answers <a href=\"https://stackoverflow.com/a/53848489/8847871\">here</a>, the default execution order of test methods within a class can be configured using <code>@FixMethodOrder</code> and the default is computed using the hash of function names.</p>\n"},{"tags":["java","reflection","casting","java-17","functional-interface"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1690209756,"post_id":76755174,"comment_id":135317854,"body_markdown":"&quot;since wrapper expects an argument of type TestFunctionExecutor and I am passing one of type TestClass&quot; you are NOT passing instance of TestClass, but instance of lambda (of type TestClass$$sampleFunction... which is *subtype* of `TestFunctionExecutor`) which is *using* `TestClass test`. Anyway the `foo:::bar` syntax is called *method reference* but to properly grasp it you should start with lambdas. Consider reading http://www.lambdafaq.org/ https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html","body":"&quot;since wrapper expects an argument of type TestFunctionExecutor and I am passing one of type TestClass&quot; you are NOT passing instance of TestClass, but instance of lambda (of type TestClass$$sampleFunction... which is <i>subtype</i> of <code>TestFunctionExecutor</code>) which is <i>using</i> <code>TestClass test</code>. Anyway the <code>foo:::bar</code> syntax is called <i>method reference</i> but to properly grasp it you should start with lambdas. Consider reading <a href=\"http://www.lambdafaq.org/\" rel=\"nofollow noreferrer\">lambdafaq.org</a> <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/&hellip;</a> <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/&hellip;</a>"},{"owner":{"account_id":8487455,"reputation":315,"user_id":6365071,"display_name":"DashwoodIce9"},"score":0,"creation_date":1690210484,"post_id":76755174,"comment_id":135318010,"body_markdown":"Thanks for the resources @Pshemo, I&#39;ll go through them. One quick question - You said &quot;`TestClass$$sampleFunction...` is a subtype of `TestFunctionExecutor`&quot;. How?","body":"Thanks for the resources @Pshemo, I&#39;ll go through them. One quick question - You said &quot;<code>TestClass$$sampleFunction...</code> is a subtype of <code>TestFunctionExecutor</code>&quot;. How?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1690226306,"post_id":76755174,"comment_id":135320926,"body_markdown":"Because of *type inference* compiler knows that argument for method `public void wrapper(TestFunctionExecutor method)` must be of type `TestFunctionExecutor` (including its subtypes). So when compiler creates class like `TestClass$$Lambda$1...` to be implementation of lambda or method reference it must ensure that such class is subtype of TestFunctionExecutor which means it `... implements TestFunctionExecutor` (since that is what `wrapper` method expects as argument).","body":"Because of <i>type inference</i> compiler knows that argument for method <code>public void wrapper(TestFunctionExecutor method)</code> must be of type <code>TestFunctionExecutor</code> (including its subtypes). So when compiler creates class like <code>TestClass$$Lambda$1...</code> to be implementation of lambda or method reference it must ensure that such class is subtype of TestFunctionExecutor which means it <code>... implements TestFunctionExecutor</code> (since that is what <code>wrapper</code> method expects as argument)."}],"answers":[{"tags":[],"owner":{"account_id":11113839,"reputation":1926,"user_id":8158692,"display_name":"Baptiste Beauvais"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690213749,"creation_date":1690213749,"answer_id":76756137,"question_id":76755174,"body_markdown":"In Java, lambda expressions are just a sugar syntax for something called [Anonymous class](https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html), which are basically classes created on the spot with a name created by the JVM.\r\n\r\nYour code can be equally written in 4 ways (from more concise to less concise) :\r\n\r\n```java\r\ntest.wrapper(test::sampleFunction);\r\n\r\ntest.wrapper(() -&gt; test.sampleFunction());\r\n\r\ntest.wrapper(() -&gt;  {\r\n   test.sampleFunction();\r\n});\r\n\r\ntest.wrapper(new TestFunctionExecutor() {\r\n    public void execute() {\r\n       test.sampleFunction();\r\n    }\r\n});\r\n```\r\n\r\nWhen you use a lambda expression, you actually create a new instance of an anonymous class that implements the functional interface. And the method of this implementation contains the run you want to run. \r\n\r\nAs for the last question, it might be correct code, but this is a very broad topic that depends.\r\n","title":"Is there an implicit type casting when using Functional Interfaces in Java?","body":"<p>In Java, lambda expressions are just a sugar syntax for something called <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html\" rel=\"nofollow noreferrer\">Anonymous class</a>, which are basically classes created on the spot with a name created by the JVM.</p>\n<p>Your code can be equally written in 4 ways (from more concise to less concise) :</p>\n<pre class=\"lang-java prettyprint-override\"><code>test.wrapper(test::sampleFunction);\n\ntest.wrapper(() -&gt; test.sampleFunction());\n\ntest.wrapper(() -&gt;  {\n   test.sampleFunction();\n});\n\ntest.wrapper(new TestFunctionExecutor() {\n    public void execute() {\n       test.sampleFunction();\n    }\n});\n</code></pre>\n<p>When you use a lambda expression, you actually create a new instance of an anonymous class that implements the functional interface. And the method of this implementation contains the run you want to run.</p>\n<p>As for the last question, it might be correct code, but this is a very broad topic that depends.</p>\n"}],"owner":{"account_id":8487455,"reputation":315,"user_id":6365071,"display_name":"DashwoodIce9"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76756137,"answer_count":1,"score":0,"last_activity_date":1690213749,"creation_date":1690206810,"question_id":76755174,"body_markdown":"I wrote the following Java code and expected it to not compile but it did and also executed counterintuitively. I am using Java 17.\r\n\r\n`TestFunctionExecutor.java`\r\n```java\r\n@FunctionalInterface\r\npublic interface TestFunctionExecutor{\r\n    void execute();\r\n}\r\n```\r\n\r\n`TestClass.java`\r\n```java\r\npublic class TestClass{\r\n    public static void main(String... args) {\r\n        TestClass test = new TestClass();\r\n        test.wrapper(test::sampleFunction);\r\n    }\r\n    \r\n    public void sampleFunction() {\r\n        System.out.println(&quot;Inside sampleFunction&quot;);\r\n    }\r\n\r\n    public void wrapper(TestFunctionExecutor method) {\r\n        System.out.println(&quot;Before method execution&quot;);\r\n        method.execute();\r\n        System.out.println(&quot;After method execution&quot;);\r\n    }\r\n}\r\n```\r\n\r\nOutput -\r\n```\r\nBefore method execution\r\nInside sampleFunction\r\nAfter method execution\r\n```\r\n\r\n---\r\n\r\nI thought since `wrapper` expects an argument of type `TestFunctionExecutor` and I am passing one of type `TestClass` the compilation should fail. I used a debugger and looks like `method` is a `TestClass$$Lambda$1...` at runtime. This confuses me and I have a few questions -\r\n1. What is the type of `test::SampleFunction`? Is it not `TestClass` or something like `TestClass$$sampleFunction...`? I am unable to deduce this with a debugger.\r\n2. Why were there no errors here? Looks like the types somehow became compatible, how?\r\n3. How does `execute` know what code to execute?\r\n4. Is this good code? My aim is to wrap a function so that some code runs before and after it.\r\n\r\nThanks!","title":"Is there an implicit type casting when using Functional Interfaces in Java?","body":"<p>I wrote the following Java code and expected it to not compile but it did and also executed counterintuitively. I am using Java 17.</p>\n<p><code>TestFunctionExecutor.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@FunctionalInterface\npublic interface TestFunctionExecutor{\n    void execute();\n}\n</code></pre>\n<p><code>TestClass.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestClass{\n    public static void main(String... args) {\n        TestClass test = new TestClass();\n        test.wrapper(test::sampleFunction);\n    }\n    \n    public void sampleFunction() {\n        System.out.println(&quot;Inside sampleFunction&quot;);\n    }\n\n    public void wrapper(TestFunctionExecutor method) {\n        System.out.println(&quot;Before method execution&quot;);\n        method.execute();\n        System.out.println(&quot;After method execution&quot;);\n    }\n}\n</code></pre>\n<p>Output -</p>\n<pre><code>Before method execution\nInside sampleFunction\nAfter method execution\n</code></pre>\n<hr />\n<p>I thought since <code>wrapper</code> expects an argument of type <code>TestFunctionExecutor</code> and I am passing one of type <code>TestClass</code> the compilation should fail. I used a debugger and looks like <code>method</code> is a <code>TestClass$$Lambda$1...</code> at runtime. This confuses me and I have a few questions -</p>\n<ol>\n<li>What is the type of <code>test::SampleFunction</code>? Is it not <code>TestClass</code> or something like <code>TestClass$$sampleFunction...</code>? I am unable to deduce this with a debugger.</li>\n<li>Why were there no errors here? Looks like the types somehow became compatible, how?</li>\n<li>How does <code>execute</code> know what code to execute?</li>\n<li>Is this good code? My aim is to wrap a function so that some code runs before and after it.</li>\n</ol>\n<p>Thanks!</p>\n"},{"tags":["java","javascript","bytecode","intercept","nashorn"],"comments":[{"owner":{"account_id":1520477,"reputation":38093,"user_id":1420279,"accept_rate":80,"display_name":"Antimony"},"score":0,"creation_date":1431398046,"post_id":30172038,"comment_id":48467425,"body_markdown":"Have you tried looking at the documentation and source code for Nashorn?","body":"Have you tried looking at the documentation and source code for Nashorn?"}],"answers":[{"tags":[],"owner":{"account_id":3848680,"reputation":4287,"user_id":3189360,"display_name":"A. Sundararajan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1431667620,"creation_date":1431667620,"answer_id":30252092,"question_id":30172038,"body_markdown":"You can use Nashorn command line option &quot;-pc&quot; or &quot;--print-code&quot;. Nashorn will print generated bytecode in javap-like format. For example:\r\n\r\n    jjs -pc hello.js\r\n\r\nIf you want to have .class files (which you&#39;d want to look/analyze by other tools), you can use &quot;-d&quot; or &quot;--dump-debug-dir&quot; to specify a directory where generated classes are saved. For example,\r\n\r\n    jjs -d=tmp hello.js\r\n\r\nwill generate .class files under &quot;tmp&quot; directory. Please look for &quot;jdk/nashorn/internal/script&quot; directory under the directory you specified.\r\n\r\nNote that you&#39;ll not be able to offline manipulate and re-load these classes in a later nashorn session. This is just a debugging facility.","title":"Accessing Nashorn generated bytecode","body":"<p>You can use Nashorn command line option \"-pc\" or \"--print-code\". Nashorn will print generated bytecode in javap-like format. For example:</p>\n\n<pre><code>jjs -pc hello.js\n</code></pre>\n\n<p>If you want to have .class files (which you'd want to look/analyze by other tools), you can use \"-d\" or \"--dump-debug-dir\" to specify a directory where generated classes are saved. For example,</p>\n\n<pre><code>jjs -d=tmp hello.js\n</code></pre>\n\n<p>will generate .class files under \"tmp\" directory. Please look for \"jdk/nashorn/internal/script\" directory under the directory you specified.</p>\n\n<p>Note that you'll not be able to offline manipulate and re-load these classes in a later nashorn session. This is just a debugging facility.</p>\n"}],"owner":{"account_id":6285886,"reputation":47,"user_id":4885155,"display_name":"Stradm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":854,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":30252092,"answer_count":1,"score":1,"last_activity_date":1690213503,"creation_date":1431359090,"question_id":30172038,"body_markdown":"Nashorn translates javascript source code directly into memory. Is\r\nthere any way to access the bytecode just for reading purpose?\r\n(manipulation isn&#39;t required). If there is, kindly explain in detail as I have limited experience...\r\nI am aware of javap but it is showing only Java specific bytecode. I want to look at Nashorn translated javascript bytecode.","title":"Accessing Nashorn generated bytecode","body":"<p>Nashorn translates javascript source code directly into memory. Is\nthere any way to access the bytecode just for reading purpose?\n(manipulation isn't required). If there is, kindly explain in detail as I have limited experience...\nI am aware of javap but it is showing only Java specific bytecode. I want to look at Nashorn translated javascript bytecode.</p>\n"},{"tags":["java","spring-boot","tomcat","intellij-idea","logback"],"comments":[{"owner":{"account_id":3540948,"reputation":5877,"user_id":2958086,"display_name":"Compass"},"score":0,"creation_date":1542125576,"post_id":53285083,"comment_id":93452184,"body_markdown":"**(Access is denied)** Program Files is a protected directory and cannot be accessed without administrator permissions.","body":"<b>(Access is denied)</b> Program Files is a protected directory and cannot be accessed without administrator permissions."}],"answers":[{"tags":[],"owner":{"account_id":8888831,"reputation":2120,"user_id":6636213,"display_name":"MohammadReza  Alagheband"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550033207,"creation_date":1542125856,"answer_id":53285201,"question_id":53285083,"body_markdown":"Two reasons you might facing in this condition: \r\n\r\n1. See if you have permission to read *spring.log* file or not this is\r\nthe most obvious reason of `java.io.FileNotFoundException`: (Access is\r\ndenied) exception and I didn&#39;t had sufficient permission so I\r\nimmediately provided **read, write and execute** permission to the log\r\nfile and tried again.\r\n \r\n2. See if some other process is using that file This could be another\r\npossible reason of `java.io.FileNotFoundException`: (Access is\r\ndenied).\r\n\r\n","title":"FileNotFoundException (Logback) while starting app","body":"<p>Two reasons you might facing in this condition: </p>\n\n<ol>\n<li><p>See if you have permission to read <em>spring.log</em> file or not this is\nthe most obvious reason of <code>java.io.FileNotFoundException</code>: (Access is\ndenied) exception and I didn't had sufficient permission so I\nimmediately provided <strong>read, write and execute</strong> permission to the log\nfile and tried again.</p></li>\n<li><p>See if some other process is using that file This could be another\npossible reason of <code>java.io.FileNotFoundException</code>: (Access is\ndenied).</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12553303,"reputation":141,"user_id":9134028,"display_name":"poomcyber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690212804,"creation_date":1690212804,"answer_id":76756002,"question_id":53285083,"body_markdown":"In my case, I have the save error message like you,\r\n`....call failed. java.io.FileNotFoundException`\r\n\r\nThe point is the user who runs the application does not have permission to write log file, look at your `.service` file to find who runs the application. \r\n   However, if you want to pass this problem **easily** just change permission of &quot;logs&quot; folder to 777 \r\n\r\n     &lt;file&gt;${catalina.base}/logs/${springAppName}.log&lt;/file&gt;\r\nby using this linux command.\r\n\r\n&gt; chmod 777 logs\r\n\r\nDoing this solve my problem.","title":"FileNotFoundException (Logback) while starting app","body":"<p>In my case, I have the save error message like you,\n<code>....call failed. java.io.FileNotFoundException</code></p>\n<p>The point is the user who runs the application does not have permission to write log file, look at your <code>.service</code> file to find who runs the application.\nHowever, if you want to pass this problem <strong>easily</strong> just change permission of &quot;logs&quot; folder to 777</p>\n<pre><code> &lt;file&gt;${catalina.base}/logs/${springAppName}.log&lt;/file&gt;\n</code></pre>\n<p>by using this linux command.</p>\n<blockquote>\n<p>chmod 777 logs</p>\n</blockquote>\n<p>Doing this solve my problem.</p>\n"}],"owner":{"account_id":6430643,"reputation":1854,"user_id":4983983,"accept_rate":60,"display_name":"tryingHard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10378,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690212804,"creation_date":1542125470,"question_id":53285083,"body_markdown":"When running `SpringBoot 2.0.3` app on tomcat `8.5.0` i get following error:\r\n\r\n&gt; ERROR in ch.qos.logback.core.rolling.RollingFileAppender[FILE] - \r\n&gt; openFile(C:\\Program Files\\Apache Software Foundation\\Tomcat\r\n&gt; 9.0\\temp/spring.log,true) call failed.  java.io.FileNotFoundException: C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\temp\\spring.log\r\n&gt; (Access is denied)\r\n\r\n`logback-spring.xml` from this module is as follow:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n    \r\n        &lt;springProperty scope=&quot;context&quot; name=&quot;springAppName&quot; source=&quot;spring.application.name&quot;/&gt;\r\n        &lt;include resource=&quot;org/springframework/boot/logging/logback/base.xml&quot;/&gt;\r\n        &lt;include resource=&quot;logback-json.xml&quot;/&gt;\r\n        &lt;property name=&quot;LOG_PATTERN&quot;\r\n                  value=&quot;%date{yyyy-MM-dd HH:mm:ss.SSS}|${springAppName}|[%X{X-B3-TraceId:-},%X{X-B3-SpanId:-},%X{X-Span-Export:-}]|%thread|%.-1level|%logger{10}|%msg%n&quot;/&gt;\r\n    \r\n        &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;${LOG_PATTERN}&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;appender name=&quot;ROLLING&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n            &lt;file&gt;${catalina.base}/logs/${springAppName}.log&lt;/file&gt;\r\n            &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n                &lt;fileNamePattern&gt;${catalina.base}/logs/${springAppName}-%d{yyyy-MM-dd}.%i.log.zip&lt;/fileNamePattern&gt;\r\n                &lt;maxFileSize&gt;200MB&lt;/maxFileSize&gt;\r\n            &lt;/rollingPolicy&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;${LOG_PATTERN}&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;logger name=&quot;pl.X&quot; level=&quot;debug&quot;/&gt;\r\n    \r\n        &lt;logger name=&quot;jdbc.sqltiming&quot; level=&quot;info&quot;/&gt;\r\n    \r\n        &lt;appender name=&quot;ASYNC_REQUEST_RESPONSE_JSON_LOG&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\r\n            &lt;appender-ref ref=&quot;REQUEST_RESPONSE_JSON_LOG&quot;/&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;appender name=&quot;ASYNC_ROLLING&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\r\n            &lt;appender-ref ref=&quot;ROLLING&quot;/&gt;\r\n        &lt;/appender&gt;\r\n        &lt;appender name=&quot;ASYNC_SERVER_JSON_LOG&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\r\n            &lt;appender-ref ref=&quot;SERVER_JSON_LOG&quot;/&gt;\r\n        &lt;/appender&gt;\r\n        &lt;logger name=&quot;somePakaes.trace.XLoggingFilter&quot; additivity=&quot;false&quot; level=&quot;DEBUG&quot;&gt;\r\n            &lt;appender-ref ref=&quot;ASYNC_REQUEST_RESPONSE_JSON_LOG&quot;/&gt;\r\n        &lt;/logger&gt;\r\n        &lt;root level=&quot;WARN&quot;&gt;\r\n            &lt;appender-ref ref=&quot;ASYNC_ROLLING&quot;/&gt;\r\n            &lt;appender-ref ref=&quot;ASYNC_SERVER_JSON_LOG&quot;/&gt;\r\n            &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n        &lt;/root&gt;\r\n\r\n&lt;/configuration&gt;\r\n\r\n\r\nAnd here is `logback-json.xml` that above files refers to:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;included&gt;\r\n        &lt;springProperty scope=&quot;context&quot; name=&quot;springAppName&quot; source=&quot;spring.application.name&quot;/&gt;\r\n    \r\n        &lt;appender name=&quot;SERVER_JSON_LOG&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n            &lt;file&gt;${catalina.base}/logs/${springAppName}.json&lt;/file&gt;\r\n            &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n                &lt;fileNamePattern&gt;${catalina.base}/logs/${springAppName}-%d{yyyy-MM-dd}.%i.json.zip&lt;/fileNamePattern&gt;\r\n                &lt;maxFileSize&gt;200MB&lt;/maxFileSize&gt;\r\n                &lt;maxHistory&gt;2&lt;/maxHistory&gt;\r\n            &lt;/rollingPolicy&gt;\r\n            &lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\r\n                &lt;providers&gt;\r\n                    &lt;pattern&gt;\r\n                        &lt;pattern&gt;\r\n                            {\r\n                            &quot;date&quot;:&quot;%date&quot;,\r\n                            &quot;severity&quot;: &quot;%level&quot;,\r\n                            &quot;service&quot;: &quot;${springAppName}&quot;,\r\n                            &quot;trace&quot;: &quot;%X{X-B3-TraceId:-}&quot;,\r\n                            &quot;span&quot;: &quot;%X{X-B3-SpanId:-}&quot;,\r\n                            &quot;parent&quot;: &quot;%X{X-B3-ParentSpanId:-}&quot;,\r\n                            &quot;exportable&quot;: &quot;%X{X-Span-Export:-}&quot;,\r\n                            &quot;pid&quot;: &quot;${PID:-}&quot;,\r\n                            &quot;thread&quot;: &quot;%thread&quot;,\r\n                            &quot;class&quot;: &quot;%logger{26}&quot;,\r\n                            &quot;message&quot;: &quot;%message&quot;,\r\n                            &quot;ex&quot;: &quot;%ex&quot;\r\n                            }\r\n                        &lt;/pattern&gt;\r\n                    &lt;/pattern&gt;\r\n                &lt;/providers&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;logger name=&quot;org.springframework.cloud.sleuth.instrument.web.TraceFilter&quot; level=&quot;error&quot;/&gt;\r\n        &lt;logger name=&quot;org.springframework.cloud.sleuth.instrument.web.TraceHandlerInterceptor&quot; level=&quot;error&quot;/&gt;\r\n    \r\n    \r\n        &lt;appender name=&quot;REQUEST_RESPONSE_JSON_LOG&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n            &lt;file&gt;${catalina.base}/logs/${springAppName}_request_response.json&lt;/file&gt;\r\n            &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n                &lt;fileNamePattern&gt;${catalina.base}/logs/${springAppName}_request_response-%d{yyyy-MM-dd}.%i.json.zip&lt;/fileNamePattern&gt;\r\n                &lt;maxFileSize&gt;200MB&lt;/maxFileSize&gt;\r\n                &lt;maxHistory&gt;2&lt;/maxHistory&gt;\r\n            &lt;/rollingPolicy&gt;\r\n    \r\n            &lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\r\n                &lt;providers&gt;\r\n                    &lt;pattern&gt;\r\n                        &lt;pattern&gt;\r\n                            {\r\n                            &quot;date&quot;:&quot;%date&quot;,\r\n                            &quot;service&quot;: &quot;${springAppName}&quot;,\r\n                            &quot;severity&quot;: &quot;%level&quot;,\r\n                            &quot;trace&quot;: &quot;%X{X-B3-TraceId:-}&quot;,\r\n                            &quot;span&quot;: &quot;%X{X-B3-SpanId:-}&quot;,\r\n                            &quot;parent&quot;: &quot;%X{X-B3-ParentSpanId:-}&quot;,\r\n                            &quot;pid&quot;: &quot;${PID:-}&quot;,\r\n                            &quot;thread&quot;: &quot;%thread&quot;,\r\n                            &quot;message&quot;: &quot;%message&quot;\r\n                            }\r\n                        &lt;/pattern&gt;\r\n                    &lt;/pattern&gt;\r\n                &lt;/providers&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    &lt;/included&gt;\r\n\r\nBut the problem disappears when running InteliJ as an `admin`.","title":"FileNotFoundException (Logback) while starting app","body":"<p>When running <code>SpringBoot 2.0.3</code> app on tomcat <code>8.5.0</code> i get following error:</p>\n\n<blockquote>\n  <p>ERROR in ch.qos.logback.core.rolling.RollingFileAppender[FILE] - \n  openFile(C:\\Program Files\\Apache Software Foundation\\Tomcat\n  9.0\\temp/spring.log,true) call failed.  java.io.FileNotFoundException: C:\\Program Files\\Apache Software Foundation\\Tomcat 9.0\\temp\\spring.log\n  (Access is denied)</p>\n</blockquote>\n\n<p><code>logback-spring.xml</code> from this module is as follow:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;configuration&gt;\n\n    &lt;springProperty scope=\"context\" name=\"springAppName\" source=\"spring.application.name\"/&gt;\n    &lt;include resource=\"org/springframework/boot/logging/logback/base.xml\"/&gt;\n    &lt;include resource=\"logback-json.xml\"/&gt;\n    &lt;property name=\"LOG_PATTERN\"\n              value=\"%date{yyyy-MM-dd HH:mm:ss.SSS}|${springAppName}|[%X{X-B3-TraceId:-},%X{X-B3-SpanId:-},%X{X-Span-Export:-}]|%thread|%.-1level|%logger{10}|%msg%n\"/&gt;\n\n    &lt;appender name=\"CONSOLE\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;${LOG_PATTERN}&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=\"ROLLING\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;\n        &lt;file&gt;${catalina.base}/logs/${springAppName}.log&lt;/file&gt;\n        &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy\"&gt;\n            &lt;fileNamePattern&gt;${catalina.base}/logs/${springAppName}-%d{yyyy-MM-dd}.%i.log.zip&lt;/fileNamePattern&gt;\n            &lt;maxFileSize&gt;200MB&lt;/maxFileSize&gt;\n        &lt;/rollingPolicy&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;${LOG_PATTERN}&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;logger name=\"pl.X\" level=\"debug\"/&gt;\n\n    &lt;logger name=\"jdbc.sqltiming\" level=\"info\"/&gt;\n\n    &lt;appender name=\"ASYNC_REQUEST_RESPONSE_JSON_LOG\" class=\"ch.qos.logback.classic.AsyncAppender\"&gt;\n        &lt;appender-ref ref=\"REQUEST_RESPONSE_JSON_LOG\"/&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=\"ASYNC_ROLLING\" class=\"ch.qos.logback.classic.AsyncAppender\"&gt;\n        &lt;appender-ref ref=\"ROLLING\"/&gt;\n    &lt;/appender&gt;\n    &lt;appender name=\"ASYNC_SERVER_JSON_LOG\" class=\"ch.qos.logback.classic.AsyncAppender\"&gt;\n        &lt;appender-ref ref=\"SERVER_JSON_LOG\"/&gt;\n    &lt;/appender&gt;\n    &lt;logger name=\"somePakaes.trace.XLoggingFilter\" additivity=\"false\" level=\"DEBUG\"&gt;\n        &lt;appender-ref ref=\"ASYNC_REQUEST_RESPONSE_JSON_LOG\"/&gt;\n    &lt;/logger&gt;\n    &lt;root level=\"WARN\"&gt;\n        &lt;appender-ref ref=\"ASYNC_ROLLING\"/&gt;\n        &lt;appender-ref ref=\"ASYNC_SERVER_JSON_LOG\"/&gt;\n        &lt;appender-ref ref=\"CONSOLE\"/&gt;\n    &lt;/root&gt;\n</code></pre>\n\n<p></p>\n\n<p>And here is <code>logback-json.xml</code> that above files refers to:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;included&gt;\n    &lt;springProperty scope=\"context\" name=\"springAppName\" source=\"spring.application.name\"/&gt;\n\n    &lt;appender name=\"SERVER_JSON_LOG\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;\n        &lt;file&gt;${catalina.base}/logs/${springAppName}.json&lt;/file&gt;\n        &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy\"&gt;\n            &lt;fileNamePattern&gt;${catalina.base}/logs/${springAppName}-%d{yyyy-MM-dd}.%i.json.zip&lt;/fileNamePattern&gt;\n            &lt;maxFileSize&gt;200MB&lt;/maxFileSize&gt;\n            &lt;maxHistory&gt;2&lt;/maxHistory&gt;\n        &lt;/rollingPolicy&gt;\n        &lt;encoder class=\"net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder\"&gt;\n            &lt;providers&gt;\n                &lt;pattern&gt;\n                    &lt;pattern&gt;\n                        {\n                        \"date\":\"%date\",\n                        \"severity\": \"%level\",\n                        \"service\": \"${springAppName}\",\n                        \"trace\": \"%X{X-B3-TraceId:-}\",\n                        \"span\": \"%X{X-B3-SpanId:-}\",\n                        \"parent\": \"%X{X-B3-ParentSpanId:-}\",\n                        \"exportable\": \"%X{X-Span-Export:-}\",\n                        \"pid\": \"${PID:-}\",\n                        \"thread\": \"%thread\",\n                        \"class\": \"%logger{26}\",\n                        \"message\": \"%message\",\n                        \"ex\": \"%ex\"\n                        }\n                    &lt;/pattern&gt;\n                &lt;/pattern&gt;\n            &lt;/providers&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;logger name=\"org.springframework.cloud.sleuth.instrument.web.TraceFilter\" level=\"error\"/&gt;\n    &lt;logger name=\"org.springframework.cloud.sleuth.instrument.web.TraceHandlerInterceptor\" level=\"error\"/&gt;\n\n\n    &lt;appender name=\"REQUEST_RESPONSE_JSON_LOG\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;\n        &lt;file&gt;${catalina.base}/logs/${springAppName}_request_response.json&lt;/file&gt;\n        &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy\"&gt;\n            &lt;fileNamePattern&gt;${catalina.base}/logs/${springAppName}_request_response-%d{yyyy-MM-dd}.%i.json.zip&lt;/fileNamePattern&gt;\n            &lt;maxFileSize&gt;200MB&lt;/maxFileSize&gt;\n            &lt;maxHistory&gt;2&lt;/maxHistory&gt;\n        &lt;/rollingPolicy&gt;\n\n        &lt;encoder class=\"net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder\"&gt;\n            &lt;providers&gt;\n                &lt;pattern&gt;\n                    &lt;pattern&gt;\n                        {\n                        \"date\":\"%date\",\n                        \"service\": \"${springAppName}\",\n                        \"severity\": \"%level\",\n                        \"trace\": \"%X{X-B3-TraceId:-}\",\n                        \"span\": \"%X{X-B3-SpanId:-}\",\n                        \"parent\": \"%X{X-B3-ParentSpanId:-}\",\n                        \"pid\": \"${PID:-}\",\n                        \"thread\": \"%thread\",\n                        \"message\": \"%message\"\n                        }\n                    &lt;/pattern&gt;\n                &lt;/pattern&gt;\n            &lt;/providers&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n&lt;/included&gt;\n</code></pre>\n\n<p>But the problem disappears when running InteliJ as an <code>admin</code>.</p>\n"},{"tags":["java","avro","apache-beam-io","gcs"],"owner":{"account_id":21539897,"reputation":3,"user_id":15877818,"display_name":"jeks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690212764,"creation_date":1690210827,"question_id":76755709,"body_markdown":"I am trying to write generic records to a GCS bucket as avro, On writing I can observe two things\r\n\r\n- The File type in GCS is application/octet-stream instead of avro\r\n- Some of the data are missing i.e are null, especially the nested fields\r\n\r\nHere is the code sample, (this is in a  DoFn)\r\n\r\n\r\n    String DatetimeSuffix = new SimpleDateFormat(&quot;yyyyMMddHHmmssSSS&quot;).format(new Date());\r\n    \r\n    String fileSuffix = String.join(&quot;_&quot;,&quot;realtime_data&quot;, DatetimeSuffix);\r\n    \r\n    \r\n    dirGCSBucket = String.join(&quot;/&quot;,bucketURI,&quot;year=&quot;+year, &quot;month=&quot;+month, &quot;day=&quot;+day, &quot;hour=&quot;+hour);\r\n    \r\n    \r\n    Storage storage = StorageOptions.newBuilder().setProjectId(projectID).build().getService();\r\n    BlobId blobId = BlobId.of(gcsBucket, dirGCSBucket + &quot;/&quot; +  fileSuffix + &quot;.avro&quot;);\r\n    BlobInfo blobInfo = BlobInfo.newBuilder(blobId).build();\r\n    \r\n    Blob blob = storage.create(blobInfo);\r\n    \r\n    DataFileWriter&lt;GenericRecord&gt; dataFileWriter = new DataFileWriter&lt;&gt;(new GenericDatumWriter&lt;&gt;(genericRecord.getSchema()));\r\n    \r\n    try {\r\n        dataFileWriter.create(genericRecord.getSchema(), Channels.newOutputStream(blob.writer()));\r\n        dataFileWriter.append(genericRecord);\r\n        dataFileWriter.close();\r\n    } catch (IOException e) {\r\n        LOG.warn(String.format(&quot;Failed writing for: %s in file: %s&quot;, key.toString(), fileName));\r\n        LOG.error(&quot;input Error&quot;, e)\r\n    }`\r\n\r\n\r\n**Does someone know why I am having these issues and/or is there a better way to do this?**\r\n\r\nThe major expectation for me is to make sure I don&#39;t have data loss, when I write to a GCS bucket","title":"Writing Generic Record as Avro Files to GCS Bucket in Java","body":"<p>I am trying to write generic records to a GCS bucket as avro, On writing I can observe two things</p>\n<ul>\n<li>The File type in GCS is application/octet-stream instead of avro</li>\n<li>Some of the data are missing i.e are null, especially the nested fields</li>\n</ul>\n<p>Here is the code sample, (this is in a  DoFn)</p>\n<pre><code>String DatetimeSuffix = new SimpleDateFormat(&quot;yyyyMMddHHmmssSSS&quot;).format(new Date());\n\nString fileSuffix = String.join(&quot;_&quot;,&quot;realtime_data&quot;, DatetimeSuffix);\n\n\ndirGCSBucket = String.join(&quot;/&quot;,bucketURI,&quot;year=&quot;+year, &quot;month=&quot;+month, &quot;day=&quot;+day, &quot;hour=&quot;+hour);\n\n\nStorage storage = StorageOptions.newBuilder().setProjectId(projectID).build().getService();\nBlobId blobId = BlobId.of(gcsBucket, dirGCSBucket + &quot;/&quot; +  fileSuffix + &quot;.avro&quot;);\nBlobInfo blobInfo = BlobInfo.newBuilder(blobId).build();\n\nBlob blob = storage.create(blobInfo);\n\nDataFileWriter&lt;GenericRecord&gt; dataFileWriter = new DataFileWriter&lt;&gt;(new GenericDatumWriter&lt;&gt;(genericRecord.getSchema()));\n\ntry {\n    dataFileWriter.create(genericRecord.getSchema(), Channels.newOutputStream(blob.writer()));\n    dataFileWriter.append(genericRecord);\n    dataFileWriter.close();\n} catch (IOException e) {\n    LOG.warn(String.format(&quot;Failed writing for: %s in file: %s&quot;, key.toString(), fileName));\n    LOG.error(&quot;input Error&quot;, e)\n}`\n</code></pre>\n<p><strong>Does someone know why I am having these issues and/or is there a better way to do this?</strong></p>\n<p>The major expectation for me is to make sure I don't have data loss, when I write to a GCS bucket</p>\n"},{"tags":["java","jdbc","snowflake-cloud-data-platform","flyway","redgate"],"comments":[{"owner":{"account_id":10586318,"reputation":4177,"user_id":7798548,"display_name":"Sergiu"},"score":1,"creation_date":1690212698,"post_id":76755390,"comment_id":135318549,"body_markdown":"Are you using a Java version above 16? Then have a look at [this article](https://community.snowflake.com/s/article/JDBC-Driver-Compatibility-Issue-With-JDK-16-and-Later).","body":"Are you using a Java version above 16? Then have a look at <a href=\"https://community.snowflake.com/s/article/JDBC-Driver-Compatibility-Issue-With-JDK-16-and-Later\" rel=\"nofollow noreferrer\">this article</a>."}],"owner":{"account_id":11949917,"reputation":1,"user_id":8743861,"display_name":"Vasanth Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690212582,"creation_date":1690208420,"question_id":76755390,"body_markdown":"`ERROR: Unable to determine the original schema for the connection`\r\n----------------------------------------------------------\r\n\r\n    SQL State  : XX000\r\n    Error Code : 200001\r\n    Message    : JDBC driver internal error: exception creating result java.lang.ExceptionInInitializerError at net.snowflake.client.jdbc.internal.apache.arrow.memory.UnsafeAllocationManager.&lt;clinit&gt;(UnsafeAllocationManager.java:27).\r\n    \r\n    Caused by: net.snowflake.client.jdbc.SnowflakeSQLException: JDBC driver internal error: exception creating result java.lang.ExceptionInInitializerError at net.snowflake.client.jdbc.internal.apache.arrow.memory.UnsafeAllocationManager.&lt;clinit&gt;(UnsafeAllocationManager.java:27).\r\n\r\n\r\n\r\nI am getting the above error, it is successfully connecting to database and then I&#39;m getting this error. I have set the schema in URL, checked for drivers and jars, and set the default schema as well in config file. I have replaced the jar with latest snowflake-jdbc jar , even then i am facing the same issue. \r\n\r\nI want to connect to snowflake and migrate some tables.\r\n\r\nCan anyone please help me on this.\r\n","title":"Trying to connect snowflake using flyway-migration","body":"<h2><code>ERROR: Unable to determine the original schema for the connection</code></h2>\n<pre><code>SQL State  : XX000\nError Code : 200001\nMessage    : JDBC driver internal error: exception creating result java.lang.ExceptionInInitializerError at net.snowflake.client.jdbc.internal.apache.arrow.memory.UnsafeAllocationManager.&lt;clinit&gt;(UnsafeAllocationManager.java:27).\n\nCaused by: net.snowflake.client.jdbc.SnowflakeSQLException: JDBC driver internal error: exception creating result java.lang.ExceptionInInitializerError at net.snowflake.client.jdbc.internal.apache.arrow.memory.UnsafeAllocationManager.&lt;clinit&gt;(UnsafeAllocationManager.java:27).\n</code></pre>\n<p>I am getting the above error, it is successfully connecting to database and then I'm getting this error. I have set the schema in URL, checked for drivers and jars, and set the default schema as well in config file. I have replaced the jar with latest snowflake-jdbc jar , even then i am facing the same issue.</p>\n<p>I want to connect to snowflake and migrate some tables.</p>\n<p>Can anyone please help me on this.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9703,"page":289,"page_size":100}
